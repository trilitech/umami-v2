var cS=Object.defineProperty;var lS=(_,a,$)=>a in _?cS(_,a,{enumerable:!0,configurable:!0,writable:!0,value:$}):_[a]=$;var Vr=(_,a,$)=>(lS(_,typeof a!="symbol"?a+"":a,$),$),c0=(_,a,$)=>{if(!a.has(_))throw TypeError("Cannot "+$)};var Lr=(_,a,$)=>(c0(_,a,"read from private field"),$?$.call(_):a.get(_)),In=(_,a,$)=>{if(a.has(_))throw TypeError("Cannot add the same private member more than once");a instanceof WeakSet?a.add(_):a.set(_,$)},Tn=(_,a,$,j)=>(c0(_,a,"write to private field"),j?j.call(_,$):a.set(_,$),$);var rm=(_,a,$,j)=>({set _(et){Tn(_,a,et,$)},get _(){return Lr(_,a,j)}}),Wn=(_,a,$)=>(c0(_,a,"access private method"),$);function _mergeNamespaces(_,a){for(var $=0;$<a.length;$++){const j=a[$];if(typeof j!="string"&&!Array.isArray(j)){for(const et in j)if(et!=="default"&&!(et in _)){const tt=Object.getOwnPropertyDescriptor(j,et);tt&&Object.defineProperty(_,et,tt.get?tt:{enumerable:!0,get:()=>j[et]})}}}return Object.freeze(Object.defineProperty(_,Symbol.toStringTag,{value:"Module"}))}(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const et of document.querySelectorAll('link[rel="modulepreload"]'))j(et);new MutationObserver(et=>{for(const tt of et)if(tt.type==="childList")for(const rt of tt.addedNodes)rt.tagName==="LINK"&&rt.rel==="modulepreload"&&j(rt)}).observe(document,{childList:!0,subtree:!0});function $(et){const tt={};return et.integrity&&(tt.integrity=et.integrity),et.referrerPolicy&&(tt.referrerPolicy=et.referrerPolicy),et.crossOrigin==="use-credentials"?tt.credentials="include":et.crossOrigin==="anonymous"?tt.credentials="omit":tt.credentials="same-origin",tt}function j(et){if(et.ep)return;et.ep=!0;const tt=$(et);fetch(et.href,tt)}})();var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs$1(_){return _&&_.__esModule&&Object.prototype.hasOwnProperty.call(_,"default")?_.default:_}function getAugmentedNamespace(_){if(_.__esModule)return _;var a=_.default;if(typeof a=="function"){var $=function j(){return this instanceof j?Reflect.construct(a,arguments,this.constructor):a.apply(this,arguments)};$.prototype=a.prototype}else $={};return Object.defineProperty($,"__esModule",{value:!0}),Object.keys(_).forEach(function(j){var et=Object.getOwnPropertyDescriptor(_,j);Object.defineProperty($,j,et.get?et:{enumerable:!0,get:function(){return _[j]}})}),$}var jsxRuntime={exports:{}},reactJsxRuntime_production_min={},react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$2=Symbol.for("react.element"),n$4=Symbol.for("react.portal"),p$4=Symbol.for("react.fragment"),q$3=Symbol.for("react.strict_mode"),r$5=Symbol.for("react.profiler"),t$7=Symbol.for("react.provider"),u$1=Symbol.for("react.context"),v$5=Symbol.for("react.forward_ref"),w$1=Symbol.for("react.suspense"),x$1=Symbol.for("react.memo"),y$1=Symbol.for("react.lazy"),z$3=Symbol.iterator;function A$2(_){return _===null||typeof _!="object"?null:(_=z$3&&_[z$3]||_["@@iterator"],typeof _=="function"?_:null)}var B$1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C$1=Object.assign,D$1={};function E$1(_,a,$){this.props=_,this.context=a,this.refs=D$1,this.updater=$||B$1}E$1.prototype.isReactComponent={};E$1.prototype.setState=function(_,a){if(typeof _!="object"&&typeof _!="function"&&_!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,_,a,"setState")};E$1.prototype.forceUpdate=function(_){this.updater.enqueueForceUpdate(this,_,"forceUpdate")};function F(){}F.prototype=E$1.prototype;function G$1(_,a,$){this.props=_,this.context=a,this.refs=D$1,this.updater=$||B$1}var H$2=G$1.prototype=new F;H$2.constructor=G$1;C$1(H$2,E$1.prototype);H$2.isPureReactComponent=!0;var I$1=Array.isArray,J=Object.prototype.hasOwnProperty,K$7={current:null},L$1={key:!0,ref:!0,__self:!0,__source:!0};function M$1(_,a,$){var j,et={},tt=null,rt=null;if(a!=null)for(j in a.ref!==void 0&&(rt=a.ref),a.key!==void 0&&(tt=""+a.key),a)J.call(a,j)&&!L$1.hasOwnProperty(j)&&(et[j]=a[j]);var nt=arguments.length-2;if(nt===1)et.children=$;else if(1<nt){for(var it=Array(nt),ot=0;ot<nt;ot++)it[ot]=arguments[ot+2];et.children=it}if(_&&_.defaultProps)for(j in nt=_.defaultProps,nt)et[j]===void 0&&(et[j]=nt[j]);return{$$typeof:l$2,type:_,key:tt,ref:rt,props:et,_owner:K$7.current}}function N$1(_,a){return{$$typeof:l$2,type:_.type,key:a,ref:_.ref,props:_.props,_owner:_._owner}}function O$1(_){return typeof _=="object"&&_!==null&&_.$$typeof===l$2}function escape$3(_){var a={"=":"=0",":":"=2"};return"$"+_.replace(/[=:]/g,function($){return a[$]})}var P$1=/\/+/g;function Q$1(_,a){return typeof _=="object"&&_!==null&&_.key!=null?escape$3(""+_.key):a.toString(36)}function R$2(_,a,$,j,et){var tt=typeof _;(tt==="undefined"||tt==="boolean")&&(_=null);var rt=!1;if(_===null)rt=!0;else switch(tt){case"string":case"number":rt=!0;break;case"object":switch(_.$$typeof){case l$2:case n$4:rt=!0}}if(rt)return rt=_,et=et(rt),_=j===""?"."+Q$1(rt,0):j,I$1(et)?($="",_!=null&&($=_.replace(P$1,"$&/")+"/"),R$2(et,a,$,"",function(ot){return ot})):et!=null&&(O$1(et)&&(et=N$1(et,$+(!et.key||rt&&rt.key===et.key?"":(""+et.key).replace(P$1,"$&/")+"/")+_)),a.push(et)),1;if(rt=0,j=j===""?".":j+":",I$1(_))for(var nt=0;nt<_.length;nt++){tt=_[nt];var it=j+Q$1(tt,nt);rt+=R$2(tt,a,$,it,et)}else if(it=A$2(_),typeof it=="function")for(_=it.call(_),nt=0;!(tt=_.next()).done;)tt=tt.value,it=j+Q$1(tt,nt++),rt+=R$2(tt,a,$,it,et);else if(tt==="object")throw a=String(_),Error("Objects are not valid as a React child (found: "+(a==="[object Object]"?"object with keys {"+Object.keys(_).join(", ")+"}":a)+"). If you meant to render a collection of children, use an array instead.");return rt}function S$1(_,a,$){if(_==null)return _;var j=[],et=0;return R$2(_,j,"","",function(tt){return a.call($,tt,et++)}),j}function T$1(_){if(_._status===-1){var a=_._result;a=a(),a.then(function($){(_._status===0||_._status===-1)&&(_._status=1,_._result=$)},function($){(_._status===0||_._status===-1)&&(_._status=2,_._result=$)}),_._status===-1&&(_._status=0,_._result=a)}if(_._status===1)return _._result.default;throw _._result}var U$1={current:null},V$1={transition:null},W$7={ReactCurrentDispatcher:U$1,ReactCurrentBatchConfig:V$1,ReactCurrentOwner:K$7};function X$1(){throw Error("act(...) is not supported in production builds of React.")}react_production_min.Children={map:S$1,forEach:function(_,a,$){S$1(_,function(){a.apply(this,arguments)},$)},count:function(_){var a=0;return S$1(_,function(){a++}),a},toArray:function(_){return S$1(_,function(a){return a})||[]},only:function(_){if(!O$1(_))throw Error("React.Children.only expected to receive a single React element child.");return _}};react_production_min.Component=E$1;react_production_min.Fragment=p$4;react_production_min.Profiler=r$5;react_production_min.PureComponent=G$1;react_production_min.StrictMode=q$3;react_production_min.Suspense=w$1;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$7;react_production_min.act=X$1;react_production_min.cloneElement=function(_,a,$){if(_==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+_+".");var j=C$1({},_.props),et=_.key,tt=_.ref,rt=_._owner;if(a!=null){if(a.ref!==void 0&&(tt=a.ref,rt=K$7.current),a.key!==void 0&&(et=""+a.key),_.type&&_.type.defaultProps)var nt=_.type.defaultProps;for(it in a)J.call(a,it)&&!L$1.hasOwnProperty(it)&&(j[it]=a[it]===void 0&&nt!==void 0?nt[it]:a[it])}var it=arguments.length-2;if(it===1)j.children=$;else if(1<it){nt=Array(it);for(var ot=0;ot<it;ot++)nt[ot]=arguments[ot+2];j.children=nt}return{$$typeof:l$2,type:_.type,key:et,ref:tt,props:j,_owner:rt}};react_production_min.createContext=function(_){return _={$$typeof:u$1,_currentValue:_,_currentValue2:_,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},_.Provider={$$typeof:t$7,_context:_},_.Consumer=_};react_production_min.createElement=M$1;react_production_min.createFactory=function(_){var a=M$1.bind(null,_);return a.type=_,a};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function(_){return{$$typeof:v$5,render:_}};react_production_min.isValidElement=O$1;react_production_min.lazy=function(_){return{$$typeof:y$1,_payload:{_status:-1,_result:_},_init:T$1}};react_production_min.memo=function(_,a){return{$$typeof:x$1,type:_,compare:a===void 0?null:a}};react_production_min.startTransition=function(_){var a=V$1.transition;V$1.transition={};try{_()}finally{V$1.transition=a}};react_production_min.unstable_act=X$1;react_production_min.useCallback=function(_,a){return U$1.current.useCallback(_,a)};react_production_min.useContext=function(_){return U$1.current.useContext(_)};react_production_min.useDebugValue=function(){};react_production_min.useDeferredValue=function(_){return U$1.current.useDeferredValue(_)};react_production_min.useEffect=function(_,a){return U$1.current.useEffect(_,a)};react_production_min.useId=function(){return U$1.current.useId()};react_production_min.useImperativeHandle=function(_,a,$){return U$1.current.useImperativeHandle(_,a,$)};react_production_min.useInsertionEffect=function(_,a){return U$1.current.useInsertionEffect(_,a)};react_production_min.useLayoutEffect=function(_,a){return U$1.current.useLayoutEffect(_,a)};react_production_min.useMemo=function(_,a){return U$1.current.useMemo(_,a)};react_production_min.useReducer=function(_,a,$){return U$1.current.useReducer(_,a,$)};react_production_min.useRef=function(_){return U$1.current.useRef(_)};react_production_min.useState=function(_){return U$1.current.useState(_)};react_production_min.useSyncExternalStore=function(_,a,$){return U$1.current.useSyncExternalStore(_,a,$)};react_production_min.useTransition=function(){return U$1.current.useTransition()};react_production_min.version="18.3.1";react.exports=react_production_min;var reactExports=react.exports;const React$2=getDefaultExportFromCjs$1(reactExports),React$3=_mergeNamespaces({__proto__:null,default:React$2},[reactExports]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f$2=reactExports,k$1=Symbol.for("react.element"),l$1=Symbol.for("react.fragment"),m$4=Object.prototype.hasOwnProperty,n$3=f$2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p$3={key:!0,ref:!0,__self:!0,__source:!0};function q$2(_,a,$){var j,et={},tt=null,rt=null;$!==void 0&&(tt=""+$),a.key!==void 0&&(tt=""+a.key),a.ref!==void 0&&(rt=a.ref);for(j in a)m$4.call(a,j)&&!p$3.hasOwnProperty(j)&&(et[j]=a[j]);if(_&&_.defaultProps)for(j in a=_.defaultProps,a)et[j]===void 0&&(et[j]=a[j]);return{$$typeof:k$1,type:_,key:tt,ref:rt,props:et,_owner:n$3.current}}reactJsxRuntime_production_min.Fragment=l$1;reactJsxRuntime_production_min.jsx=q$2;reactJsxRuntime_production_min.jsxs=q$2;jsxRuntime.exports=reactJsxRuntime_production_min;var jsxRuntimeExports=jsxRuntime.exports,client={},reactDom={exports:{}},reactDom_production_min={},scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(_){function a(wt,_t){var At=wt.length;wt.push(_t);e:for(;0<At;){var Tt=At-1>>>1,yt=wt[Tt];if(0<et(yt,_t))wt[Tt]=_t,wt[At]=yt,At=Tt;else break e}}function $(wt){return wt.length===0?null:wt[0]}function j(wt){if(wt.length===0)return null;var _t=wt[0],At=wt.pop();if(At!==_t){wt[0]=At;e:for(var Tt=0,yt=wt.length,It=yt>>>1;Tt<It;){var rr=2*(Tt+1)-1,ir=wt[rr],nr=rr+1,Gt=wt[nr];if(0>et(ir,At))nr<yt&&0>et(Gt,ir)?(wt[Tt]=Gt,wt[nr]=At,Tt=nr):(wt[Tt]=ir,wt[rr]=At,Tt=rr);else if(nr<yt&&0>et(Gt,At))wt[Tt]=Gt,wt[nr]=At,Tt=nr;else break e}}return _t}function et(wt,_t){var At=wt.sortIndex-_t.sortIndex;return At!==0?At:wt.id-_t.id}if(typeof performance=="object"&&typeof performance.now=="function"){var tt=performance;_.unstable_now=function(){return tt.now()}}else{var rt=Date,nt=rt.now();_.unstable_now=function(){return rt.now()-nt}}var it=[],ot=[],st=1,ct=null,ut=3,ht=!1,Et=!1,St=!1,Mt=typeof setTimeout=="function"?setTimeout:null,kt=typeof clearTimeout=="function"?clearTimeout:null,Ct=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function Ot(wt){for(var _t=$(ot);_t!==null;){if(_t.callback===null)j(ot);else if(_t.startTime<=wt)j(ot),_t.sortIndex=_t.expirationTime,a(it,_t);else break;_t=$(ot)}}function zt(wt){if(St=!1,Ot(wt),!Et)if($(it)!==null)Et=!0,vt(Ut);else{var _t=$(ot);_t!==null&&xt(zt,_t.startTime-wt)}}function Ut(wt,_t){Et=!1,St&&(St=!1,kt($t),$t=-1),ht=!0;var At=ut;try{for(Ot(_t),ct=$(it);ct!==null&&(!(ct.expirationTime>_t)||wt&&!Lt());){var Tt=ct.callback;if(typeof Tt=="function"){ct.callback=null,ut=ct.priorityLevel;var yt=Tt(ct.expirationTime<=_t);_t=_.unstable_now(),typeof yt=="function"?ct.callback=yt:ct===$(it)&&j(it),Ot(_t)}else j(it);ct=$(it)}if(ct!==null)var It=!0;else{var rr=$(ot);rr!==null&&xt(zt,rr.startTime-_t),It=!1}return It}finally{ct=null,ut=At,ht=!1}}var Vt=!1,jt=null,$t=-1,Bt=5,Nt=-1;function Lt(){return!(_.unstable_now()-Nt<Bt)}function Pt(){if(jt!==null){var wt=_.unstable_now();Nt=wt;var _t=!0;try{_t=jt(!0,wt)}finally{_t?bt():(Vt=!1,jt=null)}}else Vt=!1}var bt;if(typeof Ct=="function")bt=function(){Ct(Pt)};else if(typeof MessageChannel<"u"){var at=new MessageChannel,dt=at.port2;at.port1.onmessage=Pt,bt=function(){dt.postMessage(null)}}else bt=function(){Mt(Pt,0)};function vt(wt){jt=wt,Vt||(Vt=!0,bt())}function xt(wt,_t){$t=Mt(function(){wt(_.unstable_now())},_t)}_.unstable_IdlePriority=5,_.unstable_ImmediatePriority=1,_.unstable_LowPriority=4,_.unstable_NormalPriority=3,_.unstable_Profiling=null,_.unstable_UserBlockingPriority=2,_.unstable_cancelCallback=function(wt){wt.callback=null},_.unstable_continueExecution=function(){Et||ht||(Et=!0,vt(Ut))},_.unstable_forceFrameRate=function(wt){0>wt||125<wt?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Bt=0<wt?Math.floor(1e3/wt):5},_.unstable_getCurrentPriorityLevel=function(){return ut},_.unstable_getFirstCallbackNode=function(){return $(it)},_.unstable_next=function(wt){switch(ut){case 1:case 2:case 3:var _t=3;break;default:_t=ut}var At=ut;ut=_t;try{return wt()}finally{ut=At}},_.unstable_pauseExecution=function(){},_.unstable_requestPaint=function(){},_.unstable_runWithPriority=function(wt,_t){switch(wt){case 1:case 2:case 3:case 4:case 5:break;default:wt=3}var At=ut;ut=wt;try{return _t()}finally{ut=At}},_.unstable_scheduleCallback=function(wt,_t,At){var Tt=_.unstable_now();switch(typeof At=="object"&&At!==null?(At=At.delay,At=typeof At=="number"&&0<At?Tt+At:Tt):At=Tt,wt){case 1:var yt=-1;break;case 2:yt=250;break;case 5:yt=1073741823;break;case 4:yt=1e4;break;default:yt=5e3}return yt=At+yt,wt={id:st++,callback:_t,priorityLevel:wt,startTime:At,expirationTime:yt,sortIndex:-1},At>Tt?(wt.sortIndex=At,a(ot,wt),$(it)===null&&wt===$(ot)&&(St?(kt($t),$t=-1):St=!0,xt(zt,At-Tt))):(wt.sortIndex=yt,a(it,wt),Et||ht||(Et=!0,vt(Ut))),wt},_.unstable_shouldYield=Lt,_.unstable_wrapCallback=function(wt){var _t=ut;return function(){var At=ut;ut=_t;try{return wt.apply(this,arguments)}finally{ut=At}}}})(scheduler_production_min);scheduler.exports=scheduler_production_min;var schedulerExports=scheduler.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa=reactExports,ca=schedulerExports;function p$2(_){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+_,$=1;$<arguments.length;$++)a+="&args[]="+encodeURIComponent(arguments[$]);return"Minified React error #"+_+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var da=new Set,ea={};function fa(_,a){ha(_,a),ha(_+"Capture",a)}function ha(_,a){for(ea[_]=a,_=0;_<a.length;_++)da.add(a[_])}var ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ja=Object.prototype.hasOwnProperty,ka=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,la={},ma={};function oa(_){return ja.call(ma,_)?!0:ja.call(la,_)?!1:ka.test(_)?ma[_]=!0:(la[_]=!0,!1)}function pa(_,a,$,j){if($!==null&&$.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return j?!1:$!==null?!$.acceptsBooleans:(_=_.toLowerCase().slice(0,5),_!=="data-"&&_!=="aria-");default:return!1}}function qa(_,a,$,j){if(a===null||typeof a>"u"||pa(_,a,$,j))return!0;if(j)return!1;if($!==null)switch($.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function v$4(_,a,$,j,et,tt,rt){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=j,this.attributeNamespace=et,this.mustUseProperty=$,this.propertyName=_,this.type=a,this.sanitizeURL=tt,this.removeEmptyString=rt}var z$2={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(_){z$2[_]=new v$4(_,0,!1,_,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(_){var a=_[0];z$2[a]=new v$4(a,1,!1,_[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(_){z$2[_]=new v$4(_,2,!1,_.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(_){z$2[_]=new v$4(_,2,!1,_,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(_){z$2[_]=new v$4(_,3,!1,_.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(_){z$2[_]=new v$4(_,3,!0,_,null,!1,!1)});["capture","download"].forEach(function(_){z$2[_]=new v$4(_,4,!1,_,null,!1,!1)});["cols","rows","size","span"].forEach(function(_){z$2[_]=new v$4(_,6,!1,_,null,!1,!1)});["rowSpan","start"].forEach(function(_){z$2[_]=new v$4(_,5,!1,_.toLowerCase(),null,!1,!1)});var ra=/[\-:]([a-z])/g;function sa(_){return _[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(_){var a=_.replace(ra,sa);z$2[a]=new v$4(a,1,!1,_,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(_){var a=_.replace(ra,sa);z$2[a]=new v$4(a,1,!1,_,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(_){var a=_.replace(ra,sa);z$2[a]=new v$4(a,1,!1,_,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(_){z$2[_]=new v$4(_,1,!1,_.toLowerCase(),null,!1,!1)});z$2.xlinkHref=new v$4("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(_){z$2[_]=new v$4(_,1,!1,_.toLowerCase(),null,!0,!0)});function ta(_,a,$,j){var et=z$2.hasOwnProperty(a)?z$2[a]:null;(et!==null?et.type!==0:j||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(qa(a,$,et,j)&&($=null),j||et===null?oa(a)&&($===null?_.removeAttribute(a):_.setAttribute(a,""+$)):et.mustUseProperty?_[et.propertyName]=$===null?et.type===3?!1:"":$:(a=et.attributeName,j=et.attributeNamespace,$===null?_.removeAttribute(a):(et=et.type,$=et===3||et===4&&$===!0?"":""+$,j?_.setAttributeNS(j,a,$):_.setAttribute(a,$))))}var ua=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va=Symbol.for("react.element"),wa=Symbol.for("react.portal"),ya=Symbol.for("react.fragment"),za=Symbol.for("react.strict_mode"),Aa=Symbol.for("react.profiler"),Ba=Symbol.for("react.provider"),Ca=Symbol.for("react.context"),Da=Symbol.for("react.forward_ref"),Ea=Symbol.for("react.suspense"),Fa=Symbol.for("react.suspense_list"),Ga=Symbol.for("react.memo"),Ha=Symbol.for("react.lazy"),Ia=Symbol.for("react.offscreen"),Ja=Symbol.iterator;function Ka(_){return _===null||typeof _!="object"?null:(_=Ja&&_[Ja]||_["@@iterator"],typeof _=="function"?_:null)}var A$1=Object.assign,La;function Ma(_){if(La===void 0)try{throw Error()}catch($){var a=$.stack.trim().match(/\n( *(at )?)/);La=a&&a[1]||""}return`
`+La+_}var Na=!1;function Oa(_,a){if(!_||Na)return"";Na=!0;var $=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(ot){var j=ot}Reflect.construct(_,[],a)}else{try{a.call()}catch(ot){j=ot}_.call(a.prototype)}else{try{throw Error()}catch(ot){j=ot}_()}}catch(ot){if(ot&&j&&typeof ot.stack=="string"){for(var et=ot.stack.split(`
`),tt=j.stack.split(`
`),rt=et.length-1,nt=tt.length-1;1<=rt&&0<=nt&&et[rt]!==tt[nt];)nt--;for(;1<=rt&&0<=nt;rt--,nt--)if(et[rt]!==tt[nt]){if(rt!==1||nt!==1)do if(rt--,nt--,0>nt||et[rt]!==tt[nt]){var it=`
`+et[rt].replace(" at new "," at ");return _.displayName&&it.includes("<anonymous>")&&(it=it.replace("<anonymous>",_.displayName)),it}while(1<=rt&&0<=nt);break}}}finally{Na=!1,Error.prepareStackTrace=$}return(_=_?_.displayName||_.name:"")?Ma(_):""}function Pa(_){switch(_.tag){case 5:return Ma(_.type);case 16:return Ma("Lazy");case 13:return Ma("Suspense");case 19:return Ma("SuspenseList");case 0:case 2:case 15:return _=Oa(_.type,!1),_;case 11:return _=Oa(_.type.render,!1),_;case 1:return _=Oa(_.type,!0),_;default:return""}}function Qa(_){if(_==null)return null;if(typeof _=="function")return _.displayName||_.name||null;if(typeof _=="string")return _;switch(_){case ya:return"Fragment";case wa:return"Portal";case Aa:return"Profiler";case za:return"StrictMode";case Ea:return"Suspense";case Fa:return"SuspenseList"}if(typeof _=="object")switch(_.$$typeof){case Ca:return(_.displayName||"Context")+".Consumer";case Ba:return(_._context.displayName||"Context")+".Provider";case Da:var a=_.render;return _=_.displayName,_||(_=a.displayName||a.name||"",_=_!==""?"ForwardRef("+_+")":"ForwardRef"),_;case Ga:return a=_.displayName||null,a!==null?a:Qa(_.type)||"Memo";case Ha:a=_._payload,_=_._init;try{return Qa(_(a))}catch{}}return null}function Ra(_){var a=_.type;switch(_.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return _=a.render,_=_.displayName||_.name||"",a.displayName||(_!==""?"ForwardRef("+_+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa(a);case 8:return a===za?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function Sa(_){switch(typeof _){case"boolean":case"number":case"string":case"undefined":return _;case"object":return _;default:return""}}function Ta(_){var a=_.type;return(_=_.nodeName)&&_.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Ua(_){var a=Ta(_)?"checked":"value",$=Object.getOwnPropertyDescriptor(_.constructor.prototype,a),j=""+_[a];if(!_.hasOwnProperty(a)&&typeof $<"u"&&typeof $.get=="function"&&typeof $.set=="function"){var et=$.get,tt=$.set;return Object.defineProperty(_,a,{configurable:!0,get:function(){return et.call(this)},set:function(rt){j=""+rt,tt.call(this,rt)}}),Object.defineProperty(_,a,{enumerable:$.enumerable}),{getValue:function(){return j},setValue:function(rt){j=""+rt},stopTracking:function(){_._valueTracker=null,delete _[a]}}}}function Va(_){_._valueTracker||(_._valueTracker=Ua(_))}function Wa(_){if(!_)return!1;var a=_._valueTracker;if(!a)return!0;var $=a.getValue(),j="";return _&&(j=Ta(_)?_.checked?"true":"false":_.value),_=j,_!==$?(a.setValue(_),!0):!1}function Xa(_){if(_=_||(typeof document<"u"?document:void 0),typeof _>"u")return null;try{return _.activeElement||_.body}catch{return _.body}}function Ya(_,a){var $=a.checked;return A$1({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:$??_._wrapperState.initialChecked})}function Za(_,a){var $=a.defaultValue==null?"":a.defaultValue,j=a.checked!=null?a.checked:a.defaultChecked;$=Sa(a.value!=null?a.value:$),_._wrapperState={initialChecked:j,initialValue:$,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function ab(_,a){a=a.checked,a!=null&&ta(_,"checked",a,!1)}function bb(_,a){ab(_,a);var $=Sa(a.value),j=a.type;if($!=null)j==="number"?($===0&&_.value===""||_.value!=$)&&(_.value=""+$):_.value!==""+$&&(_.value=""+$);else if(j==="submit"||j==="reset"){_.removeAttribute("value");return}a.hasOwnProperty("value")?cb(_,a.type,$):a.hasOwnProperty("defaultValue")&&cb(_,a.type,Sa(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(_.defaultChecked=!!a.defaultChecked)}function db(_,a,$){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var j=a.type;if(!(j!=="submit"&&j!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+_._wrapperState.initialValue,$||a===_.value||(_.value=a),_.defaultValue=a}$=_.name,$!==""&&(_.name=""),_.defaultChecked=!!_._wrapperState.initialChecked,$!==""&&(_.name=$)}function cb(_,a,$){(a!=="number"||Xa(_.ownerDocument)!==_)&&($==null?_.defaultValue=""+_._wrapperState.initialValue:_.defaultValue!==""+$&&(_.defaultValue=""+$))}var eb=Array.isArray;function fb(_,a,$,j){if(_=_.options,a){a={};for(var et=0;et<$.length;et++)a["$"+$[et]]=!0;for($=0;$<_.length;$++)et=a.hasOwnProperty("$"+_[$].value),_[$].selected!==et&&(_[$].selected=et),et&&j&&(_[$].defaultSelected=!0)}else{for($=""+Sa($),a=null,et=0;et<_.length;et++){if(_[et].value===$){_[et].selected=!0,j&&(_[et].defaultSelected=!0);return}a!==null||_[et].disabled||(a=_[et])}a!==null&&(a.selected=!0)}}function gb(_,a){if(a.dangerouslySetInnerHTML!=null)throw Error(p$2(91));return A$1({},a,{value:void 0,defaultValue:void 0,children:""+_._wrapperState.initialValue})}function hb(_,a){var $=a.value;if($==null){if($=a.children,a=a.defaultValue,$!=null){if(a!=null)throw Error(p$2(92));if(eb($)){if(1<$.length)throw Error(p$2(93));$=$[0]}a=$}a==null&&(a=""),$=a}_._wrapperState={initialValue:Sa($)}}function ib(_,a){var $=Sa(a.value),j=Sa(a.defaultValue);$!=null&&($=""+$,$!==_.value&&(_.value=$),a.defaultValue==null&&_.defaultValue!==$&&(_.defaultValue=$)),j!=null&&(_.defaultValue=""+j)}function jb(_){var a=_.textContent;a===_._wrapperState.initialValue&&a!==""&&a!==null&&(_.value=a)}function kb(_){switch(_){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lb(_,a){return _==null||_==="http://www.w3.org/1999/xhtml"?kb(a):_==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":_}var mb,nb=function(_){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,$,j,et){MSApp.execUnsafeLocalFunction(function(){return _(a,$,j,et)})}:_}(function(_,a){if(_.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in _)_.innerHTML=a;else{for(mb=mb||document.createElement("div"),mb.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=mb.firstChild;_.firstChild;)_.removeChild(_.firstChild);for(;a.firstChild;)_.appendChild(a.firstChild)}});function ob(_,a){if(a){var $=_.firstChild;if($&&$===_.lastChild&&$.nodeType===3){$.nodeValue=a;return}}_.textContent=a}var pb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb=["Webkit","ms","Moz","O"];Object.keys(pb).forEach(function(_){qb.forEach(function(a){a=a+_.charAt(0).toUpperCase()+_.substring(1),pb[a]=pb[_]})});function rb(_,a,$){return a==null||typeof a=="boolean"||a===""?"":$||typeof a!="number"||a===0||pb.hasOwnProperty(_)&&pb[_]?(""+a).trim():a+"px"}function sb(_,a){_=_.style;for(var $ in a)if(a.hasOwnProperty($)){var j=$.indexOf("--")===0,et=rb($,a[$],j);$==="float"&&($="cssFloat"),j?_.setProperty($,et):_[$]=et}}var tb=A$1({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ub(_,a){if(a){if(tb[_]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(p$2(137,_));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(p$2(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(p$2(61))}if(a.style!=null&&typeof a.style!="object")throw Error(p$2(62))}}function vb(_,a){if(_.indexOf("-")===-1)return typeof a.is=="string";switch(_){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wb=null;function xb(_){return _=_.target||_.srcElement||window,_.correspondingUseElement&&(_=_.correspondingUseElement),_.nodeType===3?_.parentNode:_}var yb=null,zb=null,Ab=null;function Bb(_){if(_=Cb(_)){if(typeof yb!="function")throw Error(p$2(280));var a=_.stateNode;a&&(a=Db(a),yb(_.stateNode,_.type,a))}}function Eb(_){zb?Ab?Ab.push(_):Ab=[_]:zb=_}function Fb(){if(zb){var _=zb,a=Ab;if(Ab=zb=null,Bb(_),a)for(_=0;_<a.length;_++)Bb(a[_])}}function Gb(_,a){return _(a)}function Hb(){}var Ib=!1;function Jb(_,a,$){if(Ib)return _(a,$);Ib=!0;try{return Gb(_,a,$)}finally{Ib=!1,(zb!==null||Ab!==null)&&(Hb(),Fb())}}function Kb(_,a){var $=_.stateNode;if($===null)return null;var j=Db($);if(j===null)return null;$=j[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(j=!j.disabled)||(_=_.type,j=!(_==="button"||_==="input"||_==="select"||_==="textarea")),_=!j;break e;default:_=!1}if(_)return null;if($&&typeof $!="function")throw Error(p$2(231,a,typeof $));return $}var Lb=!1;if(ia)try{var Mb={};Object.defineProperty(Mb,"passive",{get:function(){Lb=!0}}),window.addEventListener("test",Mb,Mb),window.removeEventListener("test",Mb,Mb)}catch{Lb=!1}function Nb(_,a,$,j,et,tt,rt,nt,it){var ot=Array.prototype.slice.call(arguments,3);try{a.apply($,ot)}catch(st){this.onError(st)}}var Ob=!1,Pb=null,Qb=!1,Rb=null,Sb={onError:function(_){Ob=!0,Pb=_}};function Tb(_,a,$,j,et,tt,rt,nt,it){Ob=!1,Pb=null,Nb.apply(Sb,arguments)}function Ub(_,a,$,j,et,tt,rt,nt,it){if(Tb.apply(this,arguments),Ob){if(Ob){var ot=Pb;Ob=!1,Pb=null}else throw Error(p$2(198));Qb||(Qb=!0,Rb=ot)}}function Vb(_){var a=_,$=_;if(_.alternate)for(;a.return;)a=a.return;else{_=a;do a=_,a.flags&4098&&($=a.return),_=a.return;while(_)}return a.tag===3?$:null}function Wb(_){if(_.tag===13){var a=_.memoizedState;if(a===null&&(_=_.alternate,_!==null&&(a=_.memoizedState)),a!==null)return a.dehydrated}return null}function Xb(_){if(Vb(_)!==_)throw Error(p$2(188))}function Yb(_){var a=_.alternate;if(!a){if(a=Vb(_),a===null)throw Error(p$2(188));return a!==_?null:_}for(var $=_,j=a;;){var et=$.return;if(et===null)break;var tt=et.alternate;if(tt===null){if(j=et.return,j!==null){$=j;continue}break}if(et.child===tt.child){for(tt=et.child;tt;){if(tt===$)return Xb(et),_;if(tt===j)return Xb(et),a;tt=tt.sibling}throw Error(p$2(188))}if($.return!==j.return)$=et,j=tt;else{for(var rt=!1,nt=et.child;nt;){if(nt===$){rt=!0,$=et,j=tt;break}if(nt===j){rt=!0,j=et,$=tt;break}nt=nt.sibling}if(!rt){for(nt=tt.child;nt;){if(nt===$){rt=!0,$=tt,j=et;break}if(nt===j){rt=!0,j=tt,$=et;break}nt=nt.sibling}if(!rt)throw Error(p$2(189))}}if($.alternate!==j)throw Error(p$2(190))}if($.tag!==3)throw Error(p$2(188));return $.stateNode.current===$?_:a}function Zb(_){return _=Yb(_),_!==null?$b(_):null}function $b(_){if(_.tag===5||_.tag===6)return _;for(_=_.child;_!==null;){var a=$b(_);if(a!==null)return a;_=_.sibling}return null}var ac=ca.unstable_scheduleCallback,bc=ca.unstable_cancelCallback,cc=ca.unstable_shouldYield,dc=ca.unstable_requestPaint,B=ca.unstable_now,ec$4=ca.unstable_getCurrentPriorityLevel,fc=ca.unstable_ImmediatePriority,gc=ca.unstable_UserBlockingPriority,hc=ca.unstable_NormalPriority,ic=ca.unstable_LowPriority,jc=ca.unstable_IdlePriority,kc=null,lc=null;function mc(_){if(lc&&typeof lc.onCommitFiberRoot=="function")try{lc.onCommitFiberRoot(kc,_,void 0,(_.current.flags&128)===128)}catch{}}var oc=Math.clz32?Math.clz32:nc,pc=Math.log,qc=Math.LN2;function nc(_){return _>>>=0,_===0?32:31-(pc(_)/qc|0)|0}var rc=64,sc=4194304;function tc(_){switch(_&-_){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return _&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return _&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return _}}function uc(_,a){var $=_.pendingLanes;if($===0)return 0;var j=0,et=_.suspendedLanes,tt=_.pingedLanes,rt=$&268435455;if(rt!==0){var nt=rt&~et;nt!==0?j=tc(nt):(tt&=rt,tt!==0&&(j=tc(tt)))}else rt=$&~et,rt!==0?j=tc(rt):tt!==0&&(j=tc(tt));if(j===0)return 0;if(a!==0&&a!==j&&!(a&et)&&(et=j&-j,tt=a&-a,et>=tt||et===16&&(tt&4194240)!==0))return a;if(j&4&&(j|=$&16),a=_.entangledLanes,a!==0)for(_=_.entanglements,a&=j;0<a;)$=31-oc(a),et=1<<$,j|=_[$],a&=~et;return j}function vc(_,a){switch(_){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc(_,a){for(var $=_.suspendedLanes,j=_.pingedLanes,et=_.expirationTimes,tt=_.pendingLanes;0<tt;){var rt=31-oc(tt),nt=1<<rt,it=et[rt];it===-1?(!(nt&$)||nt&j)&&(et[rt]=vc(nt,a)):it<=a&&(_.expiredLanes|=nt),tt&=~nt}}function xc(_){return _=_.pendingLanes&-1073741825,_!==0?_:_&1073741824?1073741824:0}function yc(){var _=rc;return rc<<=1,!(rc&4194240)&&(rc=64),_}function zc(_){for(var a=[],$=0;31>$;$++)a.push(_);return a}function Ac(_,a,$){_.pendingLanes|=a,a!==536870912&&(_.suspendedLanes=0,_.pingedLanes=0),_=_.eventTimes,a=31-oc(a),_[a]=$}function Bc(_,a){var $=_.pendingLanes&~a;_.pendingLanes=a,_.suspendedLanes=0,_.pingedLanes=0,_.expiredLanes&=a,_.mutableReadLanes&=a,_.entangledLanes&=a,a=_.entanglements;var j=_.eventTimes;for(_=_.expirationTimes;0<$;){var et=31-oc($),tt=1<<et;a[et]=0,j[et]=-1,_[et]=-1,$&=~tt}}function Cc(_,a){var $=_.entangledLanes|=a;for(_=_.entanglements;$;){var j=31-oc($),et=1<<j;et&a|_[j]&a&&(_[j]|=a),$&=~et}}var C=0;function Dc(_){return _&=-_,1<_?4<_?_&268435455?16:536870912:4:1}var Ec,Fc,Gc,Hc,Ic,Jc=!1,Kc=[],Lc=null,Mc=null,Nc=null,Oc=new Map,Pc=new Map,Qc=[],Rc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sc(_,a){switch(_){case"focusin":case"focusout":Lc=null;break;case"dragenter":case"dragleave":Mc=null;break;case"mouseover":case"mouseout":Nc=null;break;case"pointerover":case"pointerout":Oc.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc.delete(a.pointerId)}}function Tc(_,a,$,j,et,tt){return _===null||_.nativeEvent!==tt?(_={blockedOn:a,domEventName:$,eventSystemFlags:j,nativeEvent:tt,targetContainers:[et]},a!==null&&(a=Cb(a),a!==null&&Fc(a)),_):(_.eventSystemFlags|=j,a=_.targetContainers,et!==null&&a.indexOf(et)===-1&&a.push(et),_)}function Uc(_,a,$,j,et){switch(a){case"focusin":return Lc=Tc(Lc,_,a,$,j,et),!0;case"dragenter":return Mc=Tc(Mc,_,a,$,j,et),!0;case"mouseover":return Nc=Tc(Nc,_,a,$,j,et),!0;case"pointerover":var tt=et.pointerId;return Oc.set(tt,Tc(Oc.get(tt)||null,_,a,$,j,et)),!0;case"gotpointercapture":return tt=et.pointerId,Pc.set(tt,Tc(Pc.get(tt)||null,_,a,$,j,et)),!0}return!1}function Vc(_){var a=Wc(_.target);if(a!==null){var $=Vb(a);if($!==null){if(a=$.tag,a===13){if(a=Wb($),a!==null){_.blockedOn=a,Ic(_.priority,function(){Gc($)});return}}else if(a===3&&$.stateNode.current.memoizedState.isDehydrated){_.blockedOn=$.tag===3?$.stateNode.containerInfo:null;return}}}_.blockedOn=null}function Xc(_){if(_.blockedOn!==null)return!1;for(var a=_.targetContainers;0<a.length;){var $=Yc(_.domEventName,_.eventSystemFlags,a[0],_.nativeEvent);if($===null){$=_.nativeEvent;var j=new $.constructor($.type,$);wb=j,$.target.dispatchEvent(j),wb=null}else return a=Cb($),a!==null&&Fc(a),_.blockedOn=$,!1;a.shift()}return!0}function Zc(_,a,$){Xc(_)&&$.delete(a)}function $c(){Jc=!1,Lc!==null&&Xc(Lc)&&(Lc=null),Mc!==null&&Xc(Mc)&&(Mc=null),Nc!==null&&Xc(Nc)&&(Nc=null),Oc.forEach(Zc),Pc.forEach(Zc)}function ad(_,a){_.blockedOn===a&&(_.blockedOn=null,Jc||(Jc=!0,ca.unstable_scheduleCallback(ca.unstable_NormalPriority,$c)))}function bd(_){function a(et){return ad(et,_)}if(0<Kc.length){ad(Kc[0],_);for(var $=1;$<Kc.length;$++){var j=Kc[$];j.blockedOn===_&&(j.blockedOn=null)}}for(Lc!==null&&ad(Lc,_),Mc!==null&&ad(Mc,_),Nc!==null&&ad(Nc,_),Oc.forEach(a),Pc.forEach(a),$=0;$<Qc.length;$++)j=Qc[$],j.blockedOn===_&&(j.blockedOn=null);for(;0<Qc.length&&($=Qc[0],$.blockedOn===null);)Vc($),$.blockedOn===null&&Qc.shift()}var cd=ua.ReactCurrentBatchConfig,dd=!0;function ed(_,a,$,j){var et=C,tt=cd.transition;cd.transition=null;try{C=1,fd(_,a,$,j)}finally{C=et,cd.transition=tt}}function gd(_,a,$,j){var et=C,tt=cd.transition;cd.transition=null;try{C=4,fd(_,a,$,j)}finally{C=et,cd.transition=tt}}function fd(_,a,$,j){if(dd){var et=Yc(_,a,$,j);if(et===null)hd(_,a,j,id$3,$),Sc(_,j);else if(Uc(et,_,a,$,j))j.stopPropagation();else if(Sc(_,j),a&4&&-1<Rc.indexOf(_)){for(;et!==null;){var tt=Cb(et);if(tt!==null&&Ec(tt),tt=Yc(_,a,$,j),tt===null&&hd(_,a,j,id$3,$),tt===et)break;et=tt}et!==null&&j.stopPropagation()}else hd(_,a,j,null,$)}}var id$3=null;function Yc(_,a,$,j){if(id$3=null,_=xb(j),_=Wc(_),_!==null)if(a=Vb(_),a===null)_=null;else if($=a.tag,$===13){if(_=Wb(a),_!==null)return _;_=null}else if($===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;_=null}else a!==_&&(_=null);return id$3=_,null}function jd(_){switch(_){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ec$4()){case fc:return 1;case gc:return 4;case hc:case ic:return 16;case jc:return 536870912;default:return 16}default:return 16}}var kd=null,ld=null,md=null;function nd(){if(md)return md;var _,a=ld,$=a.length,j,et="value"in kd?kd.value:kd.textContent,tt=et.length;for(_=0;_<$&&a[_]===et[_];_++);var rt=$-_;for(j=1;j<=rt&&a[$-j]===et[tt-j];j++);return md=et.slice(_,1<j?1-j:void 0)}function od(_){var a=_.keyCode;return"charCode"in _?(_=_.charCode,_===0&&a===13&&(_=13)):_=a,_===10&&(_=13),32<=_||_===13?_:0}function pd(){return!0}function qd(){return!1}function rd(_){function a($,j,et,tt,rt){this._reactName=$,this._targetInst=et,this.type=j,this.nativeEvent=tt,this.target=rt,this.currentTarget=null;for(var nt in _)_.hasOwnProperty(nt)&&($=_[nt],this[nt]=$?$(tt):tt[nt]);return this.isDefaultPrevented=(tt.defaultPrevented!=null?tt.defaultPrevented:tt.returnValue===!1)?pd:qd,this.isPropagationStopped=qd,this}return A$1(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var $=this.nativeEvent;$&&($.preventDefault?$.preventDefault():typeof $.returnValue!="unknown"&&($.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var $=this.nativeEvent;$&&($.stopPropagation?$.stopPropagation():typeof $.cancelBubble!="unknown"&&($.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd}),a}var sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(_){return _.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=A$1({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=A$1({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(_){return _.relatedTarget===void 0?_.fromElement===_.srcElement?_.toElement:_.fromElement:_.relatedTarget},movementX:function(_){return"movementX"in _?_.movementX:(_!==yd&&(yd&&_.type==="mousemove"?(wd=_.screenX-yd.screenX,xd=_.screenY-yd.screenY):xd=wd=0,yd=_),wd)},movementY:function(_){return"movementY"in _?_.movementY:xd}}),Bd=rd(Ad),Cd=A$1({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=A$1({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=A$1({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=A$1({},sd,{clipboardData:function(_){return"clipboardData"in _?_.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=A$1({},sd,{data:0}),Ld=rd(Kd),Md={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd(_){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(_):(_=Od[_])?!!a[_]:!1}function zd(){return Pd}var Qd=A$1({},ud,{key:function(_){if(_.key){var a=Md[_.key]||_.key;if(a!=="Unidentified")return a}return _.type==="keypress"?(_=od(_),_===13?"Enter":String.fromCharCode(_)):_.type==="keydown"||_.type==="keyup"?Nd[_.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(_){return _.type==="keypress"?od(_):0},keyCode:function(_){return _.type==="keydown"||_.type==="keyup"?_.keyCode:0},which:function(_){return _.type==="keypress"?od(_):_.type==="keydown"||_.type==="keyup"?_.keyCode:0}}),Rd=rd(Qd),Sd=A$1({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td$1=rd(Sd),Ud=A$1({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=A$1({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=A$1({},Ad,{deltaX:function(_){return"deltaX"in _?_.deltaX:"wheelDeltaX"in _?-_.wheelDeltaX:0},deltaY:function(_){return"deltaY"in _?_.deltaY:"wheelDeltaY"in _?-_.wheelDeltaY:"wheelDelta"in _?-_.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae=ia&&"CompositionEvent"in window,be=null;ia&&"documentMode"in document&&(be=document.documentMode);var ce=ia&&"TextEvent"in window&&!be,de=ia&&(!ae||be&&8<be&&11>=be),ee=" ",fe=!1;function ge(_,a){switch(_){case"keyup":return $d.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he(_){return _=_.detail,typeof _=="object"&&"data"in _?_.data:null}var ie=!1;function je(_,a){switch(_){case"compositionend":return he(a);case"keypress":return a.which!==32?null:(fe=!0,ee);case"textInput":return _=a.data,_===ee&&fe?null:_;default:return null}}function ke(_,a){if(ie)return _==="compositionend"||!ae&&ge(_,a)?(_=nd(),md=ld=kd=null,ie=!1,_):null;switch(_){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return de&&a.locale!=="ko"?null:a.data;default:return null}}var le={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me(_){var a=_&&_.nodeName&&_.nodeName.toLowerCase();return a==="input"?!!le[_.type]:a==="textarea"}function ne(_,a,$,j){Eb(j),a=oe(a,"onChange"),0<a.length&&($=new td("onChange","change",null,$,j),_.push({event:$,listeners:a}))}var pe=null,qe=null;function re$4(_){se(_,0)}function te(_){var a=ue(_);if(Wa(a))return _}function ve(_,a){if(_==="change")return a}var we=!1;if(ia){var xe;if(ia){var ye="oninput"in document;if(!ye){var ze=document.createElement("div");ze.setAttribute("oninput","return;"),ye=typeof ze.oninput=="function"}xe=ye}else xe=!1;we=xe&&(!document.documentMode||9<document.documentMode)}function Ae(){pe&&(pe.detachEvent("onpropertychange",Be),qe=pe=null)}function Be(_){if(_.propertyName==="value"&&te(qe)){var a=[];ne(a,qe,_,xb(_)),Jb(re$4,a)}}function Ce(_,a,$){_==="focusin"?(Ae(),pe=a,qe=$,pe.attachEvent("onpropertychange",Be)):_==="focusout"&&Ae()}function De(_){if(_==="selectionchange"||_==="keyup"||_==="keydown")return te(qe)}function Ee(_,a){if(_==="click")return te(a)}function Fe(_,a){if(_==="input"||_==="change")return te(a)}function Ge(_,a){return _===a&&(_!==0||1/_===1/a)||_!==_&&a!==a}var He=typeof Object.is=="function"?Object.is:Ge;function Ie(_,a){if(He(_,a))return!0;if(typeof _!="object"||_===null||typeof a!="object"||a===null)return!1;var $=Object.keys(_),j=Object.keys(a);if($.length!==j.length)return!1;for(j=0;j<$.length;j++){var et=$[j];if(!ja.call(a,et)||!He(_[et],a[et]))return!1}return!0}function Je(_){for(;_&&_.firstChild;)_=_.firstChild;return _}function Ke(_,a){var $=Je(_);_=0;for(var j;$;){if($.nodeType===3){if(j=_+$.textContent.length,_<=a&&j>=a)return{node:$,offset:a-_};_=j}e:{for(;$;){if($.nextSibling){$=$.nextSibling;break e}$=$.parentNode}$=void 0}$=Je($)}}function Le(_,a){return _&&a?_===a?!0:_&&_.nodeType===3?!1:a&&a.nodeType===3?Le(_,a.parentNode):"contains"in _?_.contains(a):_.compareDocumentPosition?!!(_.compareDocumentPosition(a)&16):!1:!1}function Me(){for(var _=window,a=Xa();a instanceof _.HTMLIFrameElement;){try{var $=typeof a.contentWindow.location.href=="string"}catch{$=!1}if($)_=a.contentWindow;else break;a=Xa(_.document)}return a}function Ne(_){var a=_&&_.nodeName&&_.nodeName.toLowerCase();return a&&(a==="input"&&(_.type==="text"||_.type==="search"||_.type==="tel"||_.type==="url"||_.type==="password")||a==="textarea"||_.contentEditable==="true")}function Oe(_){var a=Me(),$=_.focusedElem,j=_.selectionRange;if(a!==$&&$&&$.ownerDocument&&Le($.ownerDocument.documentElement,$)){if(j!==null&&Ne($)){if(a=j.start,_=j.end,_===void 0&&(_=a),"selectionStart"in $)$.selectionStart=a,$.selectionEnd=Math.min(_,$.value.length);else if(_=(a=$.ownerDocument||document)&&a.defaultView||window,_.getSelection){_=_.getSelection();var et=$.textContent.length,tt=Math.min(j.start,et);j=j.end===void 0?tt:Math.min(j.end,et),!_.extend&&tt>j&&(et=j,j=tt,tt=et),et=Ke($,tt);var rt=Ke($,j);et&&rt&&(_.rangeCount!==1||_.anchorNode!==et.node||_.anchorOffset!==et.offset||_.focusNode!==rt.node||_.focusOffset!==rt.offset)&&(a=a.createRange(),a.setStart(et.node,et.offset),_.removeAllRanges(),tt>j?(_.addRange(a),_.extend(rt.node,rt.offset)):(a.setEnd(rt.node,rt.offset),_.addRange(a)))}}for(a=[],_=$;_=_.parentNode;)_.nodeType===1&&a.push({element:_,left:_.scrollLeft,top:_.scrollTop});for(typeof $.focus=="function"&&$.focus(),$=0;$<a.length;$++)_=a[$],_.element.scrollLeft=_.left,_.element.scrollTop=_.top}}var Pe=ia&&"documentMode"in document&&11>=document.documentMode,Qe=null,Re=null,Se=null,Te=!1;function Ue(_,a,$){var j=$.window===$?$.document:$.nodeType===9?$:$.ownerDocument;Te||Qe==null||Qe!==Xa(j)||(j=Qe,"selectionStart"in j&&Ne(j)?j={start:j.selectionStart,end:j.selectionEnd}:(j=(j.ownerDocument&&j.ownerDocument.defaultView||window).getSelection(),j={anchorNode:j.anchorNode,anchorOffset:j.anchorOffset,focusNode:j.focusNode,focusOffset:j.focusOffset}),Se&&Ie(Se,j)||(Se=j,j=oe(Re,"onSelect"),0<j.length&&(a=new td("onSelect","select",null,a,$),_.push({event:a,listeners:j}),a.target=Qe)))}function Ve(_,a){var $={};return $[_.toLowerCase()]=a.toLowerCase(),$["Webkit"+_]="webkit"+a,$["Moz"+_]="moz"+a,$}var We={animationend:Ve("Animation","AnimationEnd"),animationiteration:Ve("Animation","AnimationIteration"),animationstart:Ve("Animation","AnimationStart"),transitionend:Ve("Transition","TransitionEnd")},Xe={},Ye={};ia&&(Ye=document.createElement("div").style,"AnimationEvent"in window||(delete We.animationend.animation,delete We.animationiteration.animation,delete We.animationstart.animation),"TransitionEvent"in window||delete We.transitionend.transition);function Ze(_){if(Xe[_])return Xe[_];if(!We[_])return _;var a=We[_],$;for($ in a)if(a.hasOwnProperty($)&&$ in Ye)return Xe[_]=a[$];return _}var $e=Ze("animationend"),af=Ze("animationiteration"),bf=Ze("animationstart"),cf=Ze("transitionend"),df=new Map,ef="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ff(_,a){df.set(_,a),fa(a,[_])}for(var gf=0;gf<ef.length;gf++){var hf=ef[gf],jf=hf.toLowerCase(),kf=hf[0].toUpperCase()+hf.slice(1);ff(jf,"on"+kf)}ff($e,"onAnimationEnd");ff(af,"onAnimationIteration");ff(bf,"onAnimationStart");ff("dblclick","onDoubleClick");ff("focusin","onFocus");ff("focusout","onBlur");ff(cf,"onTransitionEnd");ha("onMouseEnter",["mouseout","mouseover"]);ha("onMouseLeave",["mouseout","mouseover"]);ha("onPointerEnter",["pointerout","pointerover"]);ha("onPointerLeave",["pointerout","pointerover"]);fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fa("onBeforeInput",["compositionend","keypress","textInput","paste"]);fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mf=new Set("cancel close invalid load scroll toggle".split(" ").concat(lf));function nf(_,a,$){var j=_.type||"unknown-event";_.currentTarget=$,Ub(j,a,void 0,_),_.currentTarget=null}function se(_,a){a=(a&4)!==0;for(var $=0;$<_.length;$++){var j=_[$],et=j.event;j=j.listeners;e:{var tt=void 0;if(a)for(var rt=j.length-1;0<=rt;rt--){var nt=j[rt],it=nt.instance,ot=nt.currentTarget;if(nt=nt.listener,it!==tt&&et.isPropagationStopped())break e;nf(et,nt,ot),tt=it}else for(rt=0;rt<j.length;rt++){if(nt=j[rt],it=nt.instance,ot=nt.currentTarget,nt=nt.listener,it!==tt&&et.isPropagationStopped())break e;nf(et,nt,ot),tt=it}}}if(Qb)throw _=Rb,Qb=!1,Rb=null,_}function D(_,a){var $=a[of$1];$===void 0&&($=a[of$1]=new Set);var j=_+"__bubble";$.has(j)||(pf(a,_,2,!1),$.add(j))}function qf(_,a,$){var j=0;a&&(j|=4),pf($,_,j,a)}var rf="_reactListening"+Math.random().toString(36).slice(2);function sf(_){if(!_[rf]){_[rf]=!0,da.forEach(function($){$!=="selectionchange"&&(mf.has($)||qf($,!1,_),qf($,!0,_))});var a=_.nodeType===9?_:_.ownerDocument;a===null||a[rf]||(a[rf]=!0,qf("selectionchange",!1,a))}}function pf(_,a,$,j){switch(jd(a)){case 1:var et=ed;break;case 4:et=gd;break;default:et=fd}$=et.bind(null,a,$,_),et=void 0,!Lb||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(et=!0),j?et!==void 0?_.addEventListener(a,$,{capture:!0,passive:et}):_.addEventListener(a,$,!0):et!==void 0?_.addEventListener(a,$,{passive:et}):_.addEventListener(a,$,!1)}function hd(_,a,$,j,et){var tt=j;if(!(a&1)&&!(a&2)&&j!==null)e:for(;;){if(j===null)return;var rt=j.tag;if(rt===3||rt===4){var nt=j.stateNode.containerInfo;if(nt===et||nt.nodeType===8&&nt.parentNode===et)break;if(rt===4)for(rt=j.return;rt!==null;){var it=rt.tag;if((it===3||it===4)&&(it=rt.stateNode.containerInfo,it===et||it.nodeType===8&&it.parentNode===et))return;rt=rt.return}for(;nt!==null;){if(rt=Wc(nt),rt===null)return;if(it=rt.tag,it===5||it===6){j=tt=rt;continue e}nt=nt.parentNode}}j=j.return}Jb(function(){var ot=tt,st=xb($),ct=[];e:{var ut=df.get(_);if(ut!==void 0){var ht=td,Et=_;switch(_){case"keypress":if(od($)===0)break e;case"keydown":case"keyup":ht=Rd;break;case"focusin":Et="focus",ht=Fd;break;case"focusout":Et="blur",ht=Fd;break;case"beforeblur":case"afterblur":ht=Fd;break;case"click":if($.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ht=Bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ht=Dd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ht=Vd;break;case $e:case af:case bf:ht=Hd;break;case cf:ht=Xd;break;case"scroll":ht=vd;break;case"wheel":ht=Zd;break;case"copy":case"cut":case"paste":ht=Jd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ht=Td$1}var St=(a&4)!==0,Mt=!St&&_==="scroll",kt=St?ut!==null?ut+"Capture":null:ut;St=[];for(var Ct=ot,Ot;Ct!==null;){Ot=Ct;var zt=Ot.stateNode;if(Ot.tag===5&&zt!==null&&(Ot=zt,kt!==null&&(zt=Kb(Ct,kt),zt!=null&&St.push(tf(Ct,zt,Ot)))),Mt)break;Ct=Ct.return}0<St.length&&(ut=new ht(ut,Et,null,$,st),ct.push({event:ut,listeners:St}))}}if(!(a&7)){e:{if(ut=_==="mouseover"||_==="pointerover",ht=_==="mouseout"||_==="pointerout",ut&&$!==wb&&(Et=$.relatedTarget||$.fromElement)&&(Wc(Et)||Et[uf]))break e;if((ht||ut)&&(ut=st.window===st?st:(ut=st.ownerDocument)?ut.defaultView||ut.parentWindow:window,ht?(Et=$.relatedTarget||$.toElement,ht=ot,Et=Et?Wc(Et):null,Et!==null&&(Mt=Vb(Et),Et!==Mt||Et.tag!==5&&Et.tag!==6)&&(Et=null)):(ht=null,Et=ot),ht!==Et)){if(St=Bd,zt="onMouseLeave",kt="onMouseEnter",Ct="mouse",(_==="pointerout"||_==="pointerover")&&(St=Td$1,zt="onPointerLeave",kt="onPointerEnter",Ct="pointer"),Mt=ht==null?ut:ue(ht),Ot=Et==null?ut:ue(Et),ut=new St(zt,Ct+"leave",ht,$,st),ut.target=Mt,ut.relatedTarget=Ot,zt=null,Wc(st)===ot&&(St=new St(kt,Ct+"enter",Et,$,st),St.target=Ot,St.relatedTarget=Mt,zt=St),Mt=zt,ht&&Et)t:{for(St=ht,kt=Et,Ct=0,Ot=St;Ot;Ot=vf(Ot))Ct++;for(Ot=0,zt=kt;zt;zt=vf(zt))Ot++;for(;0<Ct-Ot;)St=vf(St),Ct--;for(;0<Ot-Ct;)kt=vf(kt),Ot--;for(;Ct--;){if(St===kt||kt!==null&&St===kt.alternate)break t;St=vf(St),kt=vf(kt)}St=null}else St=null;ht!==null&&wf(ct,ut,ht,St,!1),Et!==null&&Mt!==null&&wf(ct,Mt,Et,St,!0)}}e:{if(ut=ot?ue(ot):window,ht=ut.nodeName&&ut.nodeName.toLowerCase(),ht==="select"||ht==="input"&&ut.type==="file")var Ut=ve;else if(me(ut))if(we)Ut=Fe;else{Ut=De;var Vt=Ce}else(ht=ut.nodeName)&&ht.toLowerCase()==="input"&&(ut.type==="checkbox"||ut.type==="radio")&&(Ut=Ee);if(Ut&&(Ut=Ut(_,ot))){ne(ct,Ut,$,st);break e}Vt&&Vt(_,ut,ot),_==="focusout"&&(Vt=ut._wrapperState)&&Vt.controlled&&ut.type==="number"&&cb(ut,"number",ut.value)}switch(Vt=ot?ue(ot):window,_){case"focusin":(me(Vt)||Vt.contentEditable==="true")&&(Qe=Vt,Re=ot,Se=null);break;case"focusout":Se=Re=Qe=null;break;case"mousedown":Te=!0;break;case"contextmenu":case"mouseup":case"dragend":Te=!1,Ue(ct,$,st);break;case"selectionchange":if(Pe)break;case"keydown":case"keyup":Ue(ct,$,st)}var jt;if(ae)e:{switch(_){case"compositionstart":var $t="onCompositionStart";break e;case"compositionend":$t="onCompositionEnd";break e;case"compositionupdate":$t="onCompositionUpdate";break e}$t=void 0}else ie?ge(_,$)&&($t="onCompositionEnd"):_==="keydown"&&$.keyCode===229&&($t="onCompositionStart");$t&&(de&&$.locale!=="ko"&&(ie||$t!=="onCompositionStart"?$t==="onCompositionEnd"&&ie&&(jt=nd()):(kd=st,ld="value"in kd?kd.value:kd.textContent,ie=!0)),Vt=oe(ot,$t),0<Vt.length&&($t=new Ld($t,_,null,$,st),ct.push({event:$t,listeners:Vt}),jt?$t.data=jt:(jt=he($),jt!==null&&($t.data=jt)))),(jt=ce?je(_,$):ke(_,$))&&(ot=oe(ot,"onBeforeInput"),0<ot.length&&(st=new Ld("onBeforeInput","beforeinput",null,$,st),ct.push({event:st,listeners:ot}),st.data=jt))}se(ct,a)})}function tf(_,a,$){return{instance:_,listener:a,currentTarget:$}}function oe(_,a){for(var $=a+"Capture",j=[];_!==null;){var et=_,tt=et.stateNode;et.tag===5&&tt!==null&&(et=tt,tt=Kb(_,$),tt!=null&&j.unshift(tf(_,tt,et)),tt=Kb(_,a),tt!=null&&j.push(tf(_,tt,et))),_=_.return}return j}function vf(_){if(_===null)return null;do _=_.return;while(_&&_.tag!==5);return _||null}function wf(_,a,$,j,et){for(var tt=a._reactName,rt=[];$!==null&&$!==j;){var nt=$,it=nt.alternate,ot=nt.stateNode;if(it!==null&&it===j)break;nt.tag===5&&ot!==null&&(nt=ot,et?(it=Kb($,tt),it!=null&&rt.unshift(tf($,it,nt))):et||(it=Kb($,tt),it!=null&&rt.push(tf($,it,nt)))),$=$.return}rt.length!==0&&_.push({event:a,listeners:rt})}var xf=/\r\n?/g,yf=/\u0000|\uFFFD/g;function zf(_){return(typeof _=="string"?_:""+_).replace(xf,`
`).replace(yf,"")}function Af(_,a,$){if(a=zf(a),zf(_)!==a&&$)throw Error(p$2(425))}function Bf(){}var Cf=null,Df=null;function Ef(_,a){return _==="textarea"||_==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Ff=typeof setTimeout=="function"?setTimeout:void 0,Gf=typeof clearTimeout=="function"?clearTimeout:void 0,Hf=typeof Promise=="function"?Promise:void 0,Jf=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf<"u"?function(_){return Hf.resolve(null).then(_).catch(If)}:Ff;function If(_){setTimeout(function(){throw _})}function Kf(_,a){var $=a,j=0;do{var et=$.nextSibling;if(_.removeChild($),et&&et.nodeType===8)if($=et.data,$==="/$"){if(j===0){_.removeChild(et),bd(a);return}j--}else $!=="$"&&$!=="$?"&&$!=="$!"||j++;$=et}while($);bd(a)}function Lf(_){for(;_!=null;_=_.nextSibling){var a=_.nodeType;if(a===1||a===3)break;if(a===8){if(a=_.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return _}function Mf(_){_=_.previousSibling;for(var a=0;_;){if(_.nodeType===8){var $=_.data;if($==="$"||$==="$!"||$==="$?"){if(a===0)return _;a--}else $==="/$"&&a++}_=_.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),Of="__reactFiber$"+Nf,Pf="__reactProps$"+Nf,uf="__reactContainer$"+Nf,of$1="__reactEvents$"+Nf,Qf="__reactListeners$"+Nf,Rf="__reactHandles$"+Nf;function Wc(_){var a=_[Of];if(a)return a;for(var $=_.parentNode;$;){if(a=$[uf]||$[Of]){if($=a.alternate,a.child!==null||$!==null&&$.child!==null)for(_=Mf(_);_!==null;){if($=_[Of])return $;_=Mf(_)}return a}_=$,$=_.parentNode}return null}function Cb(_){return _=_[Of]||_[uf],!_||_.tag!==5&&_.tag!==6&&_.tag!==13&&_.tag!==3?null:_}function ue(_){if(_.tag===5||_.tag===6)return _.stateNode;throw Error(p$2(33))}function Db(_){return _[Pf]||null}var Sf=[],Tf=-1;function Uf(_){return{current:_}}function E(_){0>Tf||(_.current=Sf[Tf],Sf[Tf]=null,Tf--)}function G(_,a){Tf++,Sf[Tf]=_.current,_.current=a}var Vf={},H$1=Uf(Vf),Wf=Uf(!1),Xf=Vf;function Yf(_,a){var $=_.type.contextTypes;if(!$)return Vf;var j=_.stateNode;if(j&&j.__reactInternalMemoizedUnmaskedChildContext===a)return j.__reactInternalMemoizedMaskedChildContext;var et={},tt;for(tt in $)et[tt]=a[tt];return j&&(_=_.stateNode,_.__reactInternalMemoizedUnmaskedChildContext=a,_.__reactInternalMemoizedMaskedChildContext=et),et}function Zf(_){return _=_.childContextTypes,_!=null}function $f(){E(Wf),E(H$1)}function ag(_,a,$){if(H$1.current!==Vf)throw Error(p$2(168));G(H$1,a),G(Wf,$)}function bg(_,a,$){var j=_.stateNode;if(a=a.childContextTypes,typeof j.getChildContext!="function")return $;j=j.getChildContext();for(var et in j)if(!(et in a))throw Error(p$2(108,Ra(_)||"Unknown",et));return A$1({},$,j)}function cg(_){return _=(_=_.stateNode)&&_.__reactInternalMemoizedMergedChildContext||Vf,Xf=H$1.current,G(H$1,_),G(Wf,Wf.current),!0}function dg(_,a,$){var j=_.stateNode;if(!j)throw Error(p$2(169));$?(_=bg(_,a,Xf),j.__reactInternalMemoizedMergedChildContext=_,E(Wf),E(H$1),G(H$1,_)):E(Wf),G(Wf,$)}var eg=null,fg=!1,gg=!1;function hg(_){eg===null?eg=[_]:eg.push(_)}function ig(_){fg=!0,hg(_)}function jg(){if(!gg&&eg!==null){gg=!0;var _=0,a=C;try{var $=eg;for(C=1;_<$.length;_++){var j=$[_];do j=j(!0);while(j!==null)}eg=null,fg=!1}catch(et){throw eg!==null&&(eg=eg.slice(_+1)),ac(fc,jg),et}finally{C=a,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg="";function tg(_,a){kg[lg++]=ng,kg[lg++]=mg,mg=_,ng=a}function ug(_,a,$){og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,qg=_;var j=rg;_=sg;var et=32-oc(j)-1;j&=~(1<<et),$+=1;var tt=32-oc(a)+et;if(30<tt){var rt=et-et%5;tt=(j&(1<<rt)-1).toString(32),j>>=rt,et-=rt,rg=1<<32-oc(a)+et|$<<et|j,sg=tt+_}else rg=1<<tt|$<<et|j,sg=_}function vg(_){_.return!==null&&(tg(_,1),ug(_,1,0))}function wg(_){for(;_===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;_===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I=!1,zg=null;function Ag(_,a){var $=Bg(5,null,null,0);$.elementType="DELETED",$.stateNode=a,$.return=_,a=_.deletions,a===null?(_.deletions=[$],_.flags|=16):a.push($)}function Cg(_,a){switch(_.tag){case 5:var $=_.type;return a=a.nodeType!==1||$.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(_.stateNode=a,xg=_,yg=Lf(a.firstChild),!0):!1;case 6:return a=_.pendingProps===""||a.nodeType!==3?null:a,a!==null?(_.stateNode=a,xg=_,yg=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?($=qg!==null?{id:rg,overflow:sg}:null,_.memoizedState={dehydrated:a,treeContext:$,retryLane:1073741824},$=Bg(18,null,null,0),$.stateNode=a,$.return=_,_.child=$,xg=_,yg=null,!0):!1;default:return!1}}function Dg(_){return(_.mode&1)!==0&&(_.flags&128)===0}function Eg(_){if(I){var a=yg;if(a){var $=a;if(!Cg(_,a)){if(Dg(_))throw Error(p$2(418));a=Lf($.nextSibling);var j=xg;a&&Cg(_,a)?Ag(j,$):(_.flags=_.flags&-4097|2,I=!1,xg=_)}}else{if(Dg(_))throw Error(p$2(418));_.flags=_.flags&-4097|2,I=!1,xg=_}}}function Fg(_){for(_=_.return;_!==null&&_.tag!==5&&_.tag!==3&&_.tag!==13;)_=_.return;xg=_}function Gg(_){if(_!==xg)return!1;if(!I)return Fg(_),I=!0,!1;var a;if((a=_.tag!==3)&&!(a=_.tag!==5)&&(a=_.type,a=a!=="head"&&a!=="body"&&!Ef(_.type,_.memoizedProps)),a&&(a=yg)){if(Dg(_))throw Hg(),Error(p$2(418));for(;a;)Ag(_,a),a=Lf(a.nextSibling)}if(Fg(_),_.tag===13){if(_=_.memoizedState,_=_!==null?_.dehydrated:null,!_)throw Error(p$2(317));e:{for(_=_.nextSibling,a=0;_;){if(_.nodeType===8){var $=_.data;if($==="/$"){if(a===0){yg=Lf(_.nextSibling);break e}a--}else $!=="$"&&$!=="$!"&&$!=="$?"||a++}_=_.nextSibling}yg=null}}else yg=xg?Lf(_.stateNode.nextSibling):null;return!0}function Hg(){for(var _=yg;_;)_=Lf(_.nextSibling)}function Ig(){yg=xg=null,I=!1}function Jg(_){zg===null?zg=[_]:zg.push(_)}var Kg=ua.ReactCurrentBatchConfig;function Lg(_,a,$){if(_=$.ref,_!==null&&typeof _!="function"&&typeof _!="object"){if($._owner){if($=$._owner,$){if($.tag!==1)throw Error(p$2(309));var j=$.stateNode}if(!j)throw Error(p$2(147,_));var et=j,tt=""+_;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===tt?a.ref:(a=function(rt){var nt=et.refs;rt===null?delete nt[tt]:nt[tt]=rt},a._stringRef=tt,a)}if(typeof _!="string")throw Error(p$2(284));if(!$._owner)throw Error(p$2(290,_))}return _}function Mg(_,a){throw _=Object.prototype.toString.call(a),Error(p$2(31,_==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":_))}function Ng(_){var a=_._init;return a(_._payload)}function Og(_){function a(kt,Ct){if(_){var Ot=kt.deletions;Ot===null?(kt.deletions=[Ct],kt.flags|=16):Ot.push(Ct)}}function $(kt,Ct){if(!_)return null;for(;Ct!==null;)a(kt,Ct),Ct=Ct.sibling;return null}function j(kt,Ct){for(kt=new Map;Ct!==null;)Ct.key!==null?kt.set(Ct.key,Ct):kt.set(Ct.index,Ct),Ct=Ct.sibling;return kt}function et(kt,Ct){return kt=Pg(kt,Ct),kt.index=0,kt.sibling=null,kt}function tt(kt,Ct,Ot){return kt.index=Ot,_?(Ot=kt.alternate,Ot!==null?(Ot=Ot.index,Ot<Ct?(kt.flags|=2,Ct):Ot):(kt.flags|=2,Ct)):(kt.flags|=1048576,Ct)}function rt(kt){return _&&kt.alternate===null&&(kt.flags|=2),kt}function nt(kt,Ct,Ot,zt){return Ct===null||Ct.tag!==6?(Ct=Qg(Ot,kt.mode,zt),Ct.return=kt,Ct):(Ct=et(Ct,Ot),Ct.return=kt,Ct)}function it(kt,Ct,Ot,zt){var Ut=Ot.type;return Ut===ya?st(kt,Ct,Ot.props.children,zt,Ot.key):Ct!==null&&(Ct.elementType===Ut||typeof Ut=="object"&&Ut!==null&&Ut.$$typeof===Ha&&Ng(Ut)===Ct.type)?(zt=et(Ct,Ot.props),zt.ref=Lg(kt,Ct,Ot),zt.return=kt,zt):(zt=Rg(Ot.type,Ot.key,Ot.props,null,kt.mode,zt),zt.ref=Lg(kt,Ct,Ot),zt.return=kt,zt)}function ot(kt,Ct,Ot,zt){return Ct===null||Ct.tag!==4||Ct.stateNode.containerInfo!==Ot.containerInfo||Ct.stateNode.implementation!==Ot.implementation?(Ct=Sg(Ot,kt.mode,zt),Ct.return=kt,Ct):(Ct=et(Ct,Ot.children||[]),Ct.return=kt,Ct)}function st(kt,Ct,Ot,zt,Ut){return Ct===null||Ct.tag!==7?(Ct=Tg(Ot,kt.mode,zt,Ut),Ct.return=kt,Ct):(Ct=et(Ct,Ot),Ct.return=kt,Ct)}function ct(kt,Ct,Ot){if(typeof Ct=="string"&&Ct!==""||typeof Ct=="number")return Ct=Qg(""+Ct,kt.mode,Ot),Ct.return=kt,Ct;if(typeof Ct=="object"&&Ct!==null){switch(Ct.$$typeof){case va:return Ot=Rg(Ct.type,Ct.key,Ct.props,null,kt.mode,Ot),Ot.ref=Lg(kt,null,Ct),Ot.return=kt,Ot;case wa:return Ct=Sg(Ct,kt.mode,Ot),Ct.return=kt,Ct;case Ha:var zt=Ct._init;return ct(kt,zt(Ct._payload),Ot)}if(eb(Ct)||Ka(Ct))return Ct=Tg(Ct,kt.mode,Ot,null),Ct.return=kt,Ct;Mg(kt,Ct)}return null}function ut(kt,Ct,Ot,zt){var Ut=Ct!==null?Ct.key:null;if(typeof Ot=="string"&&Ot!==""||typeof Ot=="number")return Ut!==null?null:nt(kt,Ct,""+Ot,zt);if(typeof Ot=="object"&&Ot!==null){switch(Ot.$$typeof){case va:return Ot.key===Ut?it(kt,Ct,Ot,zt):null;case wa:return Ot.key===Ut?ot(kt,Ct,Ot,zt):null;case Ha:return Ut=Ot._init,ut(kt,Ct,Ut(Ot._payload),zt)}if(eb(Ot)||Ka(Ot))return Ut!==null?null:st(kt,Ct,Ot,zt,null);Mg(kt,Ot)}return null}function ht(kt,Ct,Ot,zt,Ut){if(typeof zt=="string"&&zt!==""||typeof zt=="number")return kt=kt.get(Ot)||null,nt(Ct,kt,""+zt,Ut);if(typeof zt=="object"&&zt!==null){switch(zt.$$typeof){case va:return kt=kt.get(zt.key===null?Ot:zt.key)||null,it(Ct,kt,zt,Ut);case wa:return kt=kt.get(zt.key===null?Ot:zt.key)||null,ot(Ct,kt,zt,Ut);case Ha:var Vt=zt._init;return ht(kt,Ct,Ot,Vt(zt._payload),Ut)}if(eb(zt)||Ka(zt))return kt=kt.get(Ot)||null,st(Ct,kt,zt,Ut,null);Mg(Ct,zt)}return null}function Et(kt,Ct,Ot,zt){for(var Ut=null,Vt=null,jt=Ct,$t=Ct=0,Bt=null;jt!==null&&$t<Ot.length;$t++){jt.index>$t?(Bt=jt,jt=null):Bt=jt.sibling;var Nt=ut(kt,jt,Ot[$t],zt);if(Nt===null){jt===null&&(jt=Bt);break}_&&jt&&Nt.alternate===null&&a(kt,jt),Ct=tt(Nt,Ct,$t),Vt===null?Ut=Nt:Vt.sibling=Nt,Vt=Nt,jt=Bt}if($t===Ot.length)return $(kt,jt),I&&tg(kt,$t),Ut;if(jt===null){for(;$t<Ot.length;$t++)jt=ct(kt,Ot[$t],zt),jt!==null&&(Ct=tt(jt,Ct,$t),Vt===null?Ut=jt:Vt.sibling=jt,Vt=jt);return I&&tg(kt,$t),Ut}for(jt=j(kt,jt);$t<Ot.length;$t++)Bt=ht(jt,kt,$t,Ot[$t],zt),Bt!==null&&(_&&Bt.alternate!==null&&jt.delete(Bt.key===null?$t:Bt.key),Ct=tt(Bt,Ct,$t),Vt===null?Ut=Bt:Vt.sibling=Bt,Vt=Bt);return _&&jt.forEach(function(Lt){return a(kt,Lt)}),I&&tg(kt,$t),Ut}function St(kt,Ct,Ot,zt){var Ut=Ka(Ot);if(typeof Ut!="function")throw Error(p$2(150));if(Ot=Ut.call(Ot),Ot==null)throw Error(p$2(151));for(var Vt=Ut=null,jt=Ct,$t=Ct=0,Bt=null,Nt=Ot.next();jt!==null&&!Nt.done;$t++,Nt=Ot.next()){jt.index>$t?(Bt=jt,jt=null):Bt=jt.sibling;var Lt=ut(kt,jt,Nt.value,zt);if(Lt===null){jt===null&&(jt=Bt);break}_&&jt&&Lt.alternate===null&&a(kt,jt),Ct=tt(Lt,Ct,$t),Vt===null?Ut=Lt:Vt.sibling=Lt,Vt=Lt,jt=Bt}if(Nt.done)return $(kt,jt),I&&tg(kt,$t),Ut;if(jt===null){for(;!Nt.done;$t++,Nt=Ot.next())Nt=ct(kt,Nt.value,zt),Nt!==null&&(Ct=tt(Nt,Ct,$t),Vt===null?Ut=Nt:Vt.sibling=Nt,Vt=Nt);return I&&tg(kt,$t),Ut}for(jt=j(kt,jt);!Nt.done;$t++,Nt=Ot.next())Nt=ht(jt,kt,$t,Nt.value,zt),Nt!==null&&(_&&Nt.alternate!==null&&jt.delete(Nt.key===null?$t:Nt.key),Ct=tt(Nt,Ct,$t),Vt===null?Ut=Nt:Vt.sibling=Nt,Vt=Nt);return _&&jt.forEach(function(Pt){return a(kt,Pt)}),I&&tg(kt,$t),Ut}function Mt(kt,Ct,Ot,zt){if(typeof Ot=="object"&&Ot!==null&&Ot.type===ya&&Ot.key===null&&(Ot=Ot.props.children),typeof Ot=="object"&&Ot!==null){switch(Ot.$$typeof){case va:e:{for(var Ut=Ot.key,Vt=Ct;Vt!==null;){if(Vt.key===Ut){if(Ut=Ot.type,Ut===ya){if(Vt.tag===7){$(kt,Vt.sibling),Ct=et(Vt,Ot.props.children),Ct.return=kt,kt=Ct;break e}}else if(Vt.elementType===Ut||typeof Ut=="object"&&Ut!==null&&Ut.$$typeof===Ha&&Ng(Ut)===Vt.type){$(kt,Vt.sibling),Ct=et(Vt,Ot.props),Ct.ref=Lg(kt,Vt,Ot),Ct.return=kt,kt=Ct;break e}$(kt,Vt);break}else a(kt,Vt);Vt=Vt.sibling}Ot.type===ya?(Ct=Tg(Ot.props.children,kt.mode,zt,Ot.key),Ct.return=kt,kt=Ct):(zt=Rg(Ot.type,Ot.key,Ot.props,null,kt.mode,zt),zt.ref=Lg(kt,Ct,Ot),zt.return=kt,kt=zt)}return rt(kt);case wa:e:{for(Vt=Ot.key;Ct!==null;){if(Ct.key===Vt)if(Ct.tag===4&&Ct.stateNode.containerInfo===Ot.containerInfo&&Ct.stateNode.implementation===Ot.implementation){$(kt,Ct.sibling),Ct=et(Ct,Ot.children||[]),Ct.return=kt,kt=Ct;break e}else{$(kt,Ct);break}else a(kt,Ct);Ct=Ct.sibling}Ct=Sg(Ot,kt.mode,zt),Ct.return=kt,kt=Ct}return rt(kt);case Ha:return Vt=Ot._init,Mt(kt,Ct,Vt(Ot._payload),zt)}if(eb(Ot))return Et(kt,Ct,Ot,zt);if(Ka(Ot))return St(kt,Ct,Ot,zt);Mg(kt,Ot)}return typeof Ot=="string"&&Ot!==""||typeof Ot=="number"?(Ot=""+Ot,Ct!==null&&Ct.tag===6?($(kt,Ct.sibling),Ct=et(Ct,Ot),Ct.return=kt,kt=Ct):($(kt,Ct),Ct=Qg(Ot,kt.mode,zt),Ct.return=kt,kt=Ct),rt(kt)):$(kt,Ct)}return Mt}var Ug=Og(!0),Vg=Og(!1),Wg=Uf(null),Xg=null,Yg=null,Zg=null;function $g(){Zg=Yg=Xg=null}function ah(_){var a=Wg.current;E(Wg),_._currentValue=a}function bh(_,a,$){for(;_!==null;){var j=_.alternate;if((_.childLanes&a)!==a?(_.childLanes|=a,j!==null&&(j.childLanes|=a)):j!==null&&(j.childLanes&a)!==a&&(j.childLanes|=a),_===$)break;_=_.return}}function ch$1(_,a){Xg=_,Zg=Yg=null,_=_.dependencies,_!==null&&_.firstContext!==null&&(_.lanes&a&&(dh$1=!0),_.firstContext=null)}function eh(_){var a=_._currentValue;if(Zg!==_)if(_={context:_,memoizedValue:a,next:null},Yg===null){if(Xg===null)throw Error(p$2(308));Yg=_,Xg.dependencies={lanes:0,firstContext:_}}else Yg=Yg.next=_;return a}var fh=null;function gh(_){fh===null?fh=[_]:fh.push(_)}function hh(_,a,$,j){var et=a.interleaved;return et===null?($.next=$,gh(a)):($.next=et.next,et.next=$),a.interleaved=$,ih(_,j)}function ih(_,a){_.lanes|=a;var $=_.alternate;for($!==null&&($.lanes|=a),$=_,_=_.return;_!==null;)_.childLanes|=a,$=_.alternate,$!==null&&($.childLanes|=a),$=_,_=_.return;return $.tag===3?$.stateNode:null}var jh=!1;function kh(_){_.updateQueue={baseState:_.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function lh(_,a){_=_.updateQueue,a.updateQueue===_&&(a.updateQueue={baseState:_.baseState,firstBaseUpdate:_.firstBaseUpdate,lastBaseUpdate:_.lastBaseUpdate,shared:_.shared,effects:_.effects})}function mh(_,a){return{eventTime:_,lane:a,tag:0,payload:null,callback:null,next:null}}function nh(_,a,$){var j=_.updateQueue;if(j===null)return null;if(j=j.shared,K$6&2){var et=j.pending;return et===null?a.next=a:(a.next=et.next,et.next=a),j.pending=a,ih(_,$)}return et=j.interleaved,et===null?(a.next=a,gh(j)):(a.next=et.next,et.next=a),j.interleaved=a,ih(_,$)}function oh(_,a,$){if(a=a.updateQueue,a!==null&&(a=a.shared,($&4194240)!==0)){var j=a.lanes;j&=_.pendingLanes,$|=j,a.lanes=$,Cc(_,$)}}function ph(_,a){var $=_.updateQueue,j=_.alternate;if(j!==null&&(j=j.updateQueue,$===j)){var et=null,tt=null;if($=$.firstBaseUpdate,$!==null){do{var rt={eventTime:$.eventTime,lane:$.lane,tag:$.tag,payload:$.payload,callback:$.callback,next:null};tt===null?et=tt=rt:tt=tt.next=rt,$=$.next}while($!==null);tt===null?et=tt=a:tt=tt.next=a}else et=tt=a;$={baseState:j.baseState,firstBaseUpdate:et,lastBaseUpdate:tt,shared:j.shared,effects:j.effects},_.updateQueue=$;return}_=$.lastBaseUpdate,_===null?$.firstBaseUpdate=a:_.next=a,$.lastBaseUpdate=a}function qh(_,a,$,j){var et=_.updateQueue;jh=!1;var tt=et.firstBaseUpdate,rt=et.lastBaseUpdate,nt=et.shared.pending;if(nt!==null){et.shared.pending=null;var it=nt,ot=it.next;it.next=null,rt===null?tt=ot:rt.next=ot,rt=it;var st=_.alternate;st!==null&&(st=st.updateQueue,nt=st.lastBaseUpdate,nt!==rt&&(nt===null?st.firstBaseUpdate=ot:nt.next=ot,st.lastBaseUpdate=it))}if(tt!==null){var ct=et.baseState;rt=0,st=ot=it=null,nt=tt;do{var ut=nt.lane,ht=nt.eventTime;if((j&ut)===ut){st!==null&&(st=st.next={eventTime:ht,lane:0,tag:nt.tag,payload:nt.payload,callback:nt.callback,next:null});e:{var Et=_,St=nt;switch(ut=a,ht=$,St.tag){case 1:if(Et=St.payload,typeof Et=="function"){ct=Et.call(ht,ct,ut);break e}ct=Et;break e;case 3:Et.flags=Et.flags&-65537|128;case 0:if(Et=St.payload,ut=typeof Et=="function"?Et.call(ht,ct,ut):Et,ut==null)break e;ct=A$1({},ct,ut);break e;case 2:jh=!0}}nt.callback!==null&&nt.lane!==0&&(_.flags|=64,ut=et.effects,ut===null?et.effects=[nt]:ut.push(nt))}else ht={eventTime:ht,lane:ut,tag:nt.tag,payload:nt.payload,callback:nt.callback,next:null},st===null?(ot=st=ht,it=ct):st=st.next=ht,rt|=ut;if(nt=nt.next,nt===null){if(nt=et.shared.pending,nt===null)break;ut=nt,nt=ut.next,ut.next=null,et.lastBaseUpdate=ut,et.shared.pending=null}}while(!0);if(st===null&&(it=ct),et.baseState=it,et.firstBaseUpdate=ot,et.lastBaseUpdate=st,a=et.shared.interleaved,a!==null){et=a;do rt|=et.lane,et=et.next;while(et!==a)}else tt===null&&(et.shared.lanes=0);rh$1|=rt,_.lanes=rt,_.memoizedState=ct}}function sh$1(_,a,$){if(_=a.effects,a.effects=null,_!==null)for(a=0;a<_.length;a++){var j=_[a],et=j.callback;if(et!==null){if(j.callback=null,j=$,typeof et!="function")throw Error(p$2(191,et));et.call(j)}}}var th={},uh=Uf(th),vh$1=Uf(th),wh=Uf(th);function xh(_){if(_===th)throw Error(p$2(174));return _}function yh(_,a){switch(G(wh,a),G(vh$1,_),G(uh,th),_=a.nodeType,_){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:lb(null,"");break;default:_=_===8?a.parentNode:a,a=_.namespaceURI||null,_=_.tagName,a=lb(a,_)}E(uh),G(uh,a)}function zh(){E(uh),E(vh$1),E(wh)}function Ah(_){xh(wh.current);var a=xh(uh.current),$=lb(a,_.type);a!==$&&(G(vh$1,_),G(uh,$))}function Bh(_){vh$1.current===_&&(E(uh),E(vh$1))}var L=Uf(0);function Ch$1(_){for(var a=_;a!==null;){if(a.tag===13){var $=a.memoizedState;if($!==null&&($=$.dehydrated,$===null||$.data==="$?"||$.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if(a.flags&128)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===_)break;for(;a.sibling===null;){if(a.return===null||a.return===_)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Dh=[];function Eh(){for(var _=0;_<Dh.length;_++)Dh[_]._workInProgressVersionPrimary=null;Dh.length=0}var Fh=ua.ReactCurrentDispatcher,Gh=ua.ReactCurrentBatchConfig,Hh=0,M=null,N=null,O=null,Ih=!1,Jh=!1,Kh$1=0,Lh=0;function P(){throw Error(p$2(321))}function Mh(_,a){if(a===null)return!1;for(var $=0;$<a.length&&$<_.length;$++)if(!He(_[$],a[$]))return!1;return!0}function Nh(_,a,$,j,et,tt){if(Hh=tt,M=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,Fh.current=_===null||_.memoizedState===null?Oh:Ph,_=$(j,et),Jh){tt=0;do{if(Jh=!1,Kh$1=0,25<=tt)throw Error(p$2(301));tt+=1,O=N=null,a.updateQueue=null,Fh.current=Qh,_=$(j,et)}while(Jh)}if(Fh.current=Rh,a=N!==null&&N.next!==null,Hh=0,O=N=M=null,Ih=!1,a)throw Error(p$2(300));return _}function Sh(){var _=Kh$1!==0;return Kh$1=0,_}function Th(){var _={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return O===null?M.memoizedState=O=_:O=O.next=_,O}function Uh(){if(N===null){var _=M.alternate;_=_!==null?_.memoizedState:null}else _=N.next;var a=O===null?M.memoizedState:O.next;if(a!==null)O=a,N=_;else{if(_===null)throw Error(p$2(310));N=_,_={memoizedState:N.memoizedState,baseState:N.baseState,baseQueue:N.baseQueue,queue:N.queue,next:null},O===null?M.memoizedState=O=_:O=O.next=_}return O}function Vh(_,a){return typeof a=="function"?a(_):a}function Wh(_){var a=Uh(),$=a.queue;if($===null)throw Error(p$2(311));$.lastRenderedReducer=_;var j=N,et=j.baseQueue,tt=$.pending;if(tt!==null){if(et!==null){var rt=et.next;et.next=tt.next,tt.next=rt}j.baseQueue=et=tt,$.pending=null}if(et!==null){tt=et.next,j=j.baseState;var nt=rt=null,it=null,ot=tt;do{var st=ot.lane;if((Hh&st)===st)it!==null&&(it=it.next={lane:0,action:ot.action,hasEagerState:ot.hasEagerState,eagerState:ot.eagerState,next:null}),j=ot.hasEagerState?ot.eagerState:_(j,ot.action);else{var ct={lane:st,action:ot.action,hasEagerState:ot.hasEagerState,eagerState:ot.eagerState,next:null};it===null?(nt=it=ct,rt=j):it=it.next=ct,M.lanes|=st,rh$1|=st}ot=ot.next}while(ot!==null&&ot!==tt);it===null?rt=j:it.next=nt,He(j,a.memoizedState)||(dh$1=!0),a.memoizedState=j,a.baseState=rt,a.baseQueue=it,$.lastRenderedState=j}if(_=$.interleaved,_!==null){et=_;do tt=et.lane,M.lanes|=tt,rh$1|=tt,et=et.next;while(et!==_)}else et===null&&($.lanes=0);return[a.memoizedState,$.dispatch]}function Xh(_){var a=Uh(),$=a.queue;if($===null)throw Error(p$2(311));$.lastRenderedReducer=_;var j=$.dispatch,et=$.pending,tt=a.memoizedState;if(et!==null){$.pending=null;var rt=et=et.next;do tt=_(tt,rt.action),rt=rt.next;while(rt!==et);He(tt,a.memoizedState)||(dh$1=!0),a.memoizedState=tt,a.baseQueue===null&&(a.baseState=tt),$.lastRenderedState=tt}return[tt,j]}function Yh(){}function Zh(_,a){var $=M,j=Uh(),et=a(),tt=!He(j.memoizedState,et);if(tt&&(j.memoizedState=et,dh$1=!0),j=j.queue,$h(ai.bind(null,$,j,_),[_]),j.getSnapshot!==a||tt||O!==null&&O.memoizedState.tag&1){if($.flags|=2048,bi(9,ci.bind(null,$,j,et,a),void 0,null),Q===null)throw Error(p$2(349));Hh&30||di($,a,et)}return et}function di(_,a,$){_.flags|=16384,_={getSnapshot:a,value:$},a=M.updateQueue,a===null?(a={lastEffect:null,stores:null},M.updateQueue=a,a.stores=[_]):($=a.stores,$===null?a.stores=[_]:$.push(_))}function ci(_,a,$,j){a.value=$,a.getSnapshot=j,ei(a)&&fi(_)}function ai(_,a,$){return $(function(){ei(a)&&fi(_)})}function ei(_){var a=_.getSnapshot;_=_.value;try{var $=a();return!He(_,$)}catch{return!0}}function fi(_){var a=ih(_,1);a!==null&&gi(a,_,1,-1)}function hi(_){var a=Th();return typeof _=="function"&&(_=_()),a.memoizedState=a.baseState=_,_={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vh,lastRenderedState:_},a.queue=_,_=_.dispatch=ii.bind(null,M,_),[a.memoizedState,_]}function bi(_,a,$,j){return _={tag:_,create:a,destroy:$,deps:j,next:null},a=M.updateQueue,a===null?(a={lastEffect:null,stores:null},M.updateQueue=a,a.lastEffect=_.next=_):($=a.lastEffect,$===null?a.lastEffect=_.next=_:(j=$.next,$.next=_,_.next=j,a.lastEffect=_)),_}function ji(){return Uh().memoizedState}function ki(_,a,$,j){var et=Th();M.flags|=_,et.memoizedState=bi(1|a,$,void 0,j===void 0?null:j)}function li(_,a,$,j){var et=Uh();j=j===void 0?null:j;var tt=void 0;if(N!==null){var rt=N.memoizedState;if(tt=rt.destroy,j!==null&&Mh(j,rt.deps)){et.memoizedState=bi(a,$,tt,j);return}}M.flags|=_,et.memoizedState=bi(1|a,$,tt,j)}function mi(_,a){return ki(8390656,8,_,a)}function $h(_,a){return li(2048,8,_,a)}function ni(_,a){return li(4,2,_,a)}function oi(_,a){return li(4,4,_,a)}function pi(_,a){if(typeof a=="function")return _=_(),a(_),function(){a(null)};if(a!=null)return _=_(),a.current=_,function(){a.current=null}}function qi(_,a,$){return $=$!=null?$.concat([_]):null,li(4,4,pi.bind(null,a,_),$)}function ri(){}function si(_,a){var $=Uh();a=a===void 0?null:a;var j=$.memoizedState;return j!==null&&a!==null&&Mh(a,j[1])?j[0]:($.memoizedState=[_,a],_)}function ti(_,a){var $=Uh();a=a===void 0?null:a;var j=$.memoizedState;return j!==null&&a!==null&&Mh(a,j[1])?j[0]:(_=_(),$.memoizedState=[_,a],_)}function ui(_,a,$){return Hh&21?(He($,a)||($=yc(),M.lanes|=$,rh$1|=$,_.baseState=!0),a):(_.baseState&&(_.baseState=!1,dh$1=!0),_.memoizedState=$)}function vi(_,a){var $=C;C=$!==0&&4>$?$:4,_(!0);var j=Gh.transition;Gh.transition={};try{_(!1),a()}finally{C=$,Gh.transition=j}}function wi(){return Uh().memoizedState}function xi(_,a,$){var j=yi(_);if($={lane:j,action:$,hasEagerState:!1,eagerState:null,next:null},zi(_))Ai(a,$);else if($=hh(_,a,$,j),$!==null){var et=R$1();gi($,_,j,et),Bi($,a,j)}}function ii(_,a,$){var j=yi(_),et={lane:j,action:$,hasEagerState:!1,eagerState:null,next:null};if(zi(_))Ai(a,et);else{var tt=_.alternate;if(_.lanes===0&&(tt===null||tt.lanes===0)&&(tt=a.lastRenderedReducer,tt!==null))try{var rt=a.lastRenderedState,nt=tt(rt,$);if(et.hasEagerState=!0,et.eagerState=nt,He(nt,rt)){var it=a.interleaved;it===null?(et.next=et,gh(a)):(et.next=it.next,it.next=et),a.interleaved=et;return}}catch{}finally{}$=hh(_,a,et,j),$!==null&&(et=R$1(),gi($,_,j,et),Bi($,a,j))}}function zi(_){var a=_.alternate;return _===M||a!==null&&a===M}function Ai(_,a){Jh=Ih=!0;var $=_.pending;$===null?a.next=a:(a.next=$.next,$.next=a),_.pending=a}function Bi(_,a,$){if($&4194240){var j=a.lanes;j&=_.pendingLanes,$|=j,a.lanes=$,Cc(_,$)}}var Rh={readContext:eh,useCallback:P,useContext:P,useEffect:P,useImperativeHandle:P,useInsertionEffect:P,useLayoutEffect:P,useMemo:P,useReducer:P,useRef:P,useState:P,useDebugValue:P,useDeferredValue:P,useTransition:P,useMutableSource:P,useSyncExternalStore:P,useId:P,unstable_isNewReconciler:!1},Oh={readContext:eh,useCallback:function(_,a){return Th().memoizedState=[_,a===void 0?null:a],_},useContext:eh,useEffect:mi,useImperativeHandle:function(_,a,$){return $=$!=null?$.concat([_]):null,ki(4194308,4,pi.bind(null,a,_),$)},useLayoutEffect:function(_,a){return ki(4194308,4,_,a)},useInsertionEffect:function(_,a){return ki(4,2,_,a)},useMemo:function(_,a){var $=Th();return a=a===void 0?null:a,_=_(),$.memoizedState=[_,a],_},useReducer:function(_,a,$){var j=Th();return a=$!==void 0?$(a):a,j.memoizedState=j.baseState=a,_={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:_,lastRenderedState:a},j.queue=_,_=_.dispatch=xi.bind(null,M,_),[j.memoizedState,_]},useRef:function(_){var a=Th();return _={current:_},a.memoizedState=_},useState:hi,useDebugValue:ri,useDeferredValue:function(_){return Th().memoizedState=_},useTransition:function(){var _=hi(!1),a=_[0];return _=vi.bind(null,_[1]),Th().memoizedState=_,[a,_]},useMutableSource:function(){},useSyncExternalStore:function(_,a,$){var j=M,et=Th();if(I){if($===void 0)throw Error(p$2(407));$=$()}else{if($=a(),Q===null)throw Error(p$2(349));Hh&30||di(j,a,$)}et.memoizedState=$;var tt={value:$,getSnapshot:a};return et.queue=tt,mi(ai.bind(null,j,tt,_),[_]),j.flags|=2048,bi(9,ci.bind(null,j,tt,$,a),void 0,null),$},useId:function(){var _=Th(),a=Q.identifierPrefix;if(I){var $=sg,j=rg;$=(j&~(1<<32-oc(j)-1)).toString(32)+$,a=":"+a+"R"+$,$=Kh$1++,0<$&&(a+="H"+$.toString(32)),a+=":"}else $=Lh++,a=":"+a+"r"+$.toString(32)+":";return _.memoizedState=a},unstable_isNewReconciler:!1},Ph={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Wh,useRef:ji,useState:function(){return Wh(Vh)},useDebugValue:ri,useDeferredValue:function(_){var a=Uh();return ui(a,N.memoizedState,_)},useTransition:function(){var _=Wh(Vh)[0],a=Uh().memoizedState;return[_,a]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1},Qh={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Xh,useRef:ji,useState:function(){return Xh(Vh)},useDebugValue:ri,useDeferredValue:function(_){var a=Uh();return N===null?a.memoizedState=_:ui(a,N.memoizedState,_)},useTransition:function(){var _=Xh(Vh)[0],a=Uh().memoizedState;return[_,a]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1};function Ci(_,a){if(_&&_.defaultProps){a=A$1({},a),_=_.defaultProps;for(var $ in _)a[$]===void 0&&(a[$]=_[$]);return a}return a}function Di(_,a,$,j){a=_.memoizedState,$=$(j,a),$=$==null?a:A$1({},a,$),_.memoizedState=$,_.lanes===0&&(_.updateQueue.baseState=$)}var Ei={isMounted:function(_){return(_=_._reactInternals)?Vb(_)===_:!1},enqueueSetState:function(_,a,$){_=_._reactInternals;var j=R$1(),et=yi(_),tt=mh(j,et);tt.payload=a,$!=null&&(tt.callback=$),a=nh(_,tt,et),a!==null&&(gi(a,_,et,j),oh(a,_,et))},enqueueReplaceState:function(_,a,$){_=_._reactInternals;var j=R$1(),et=yi(_),tt=mh(j,et);tt.tag=1,tt.payload=a,$!=null&&(tt.callback=$),a=nh(_,tt,et),a!==null&&(gi(a,_,et,j),oh(a,_,et))},enqueueForceUpdate:function(_,a){_=_._reactInternals;var $=R$1(),j=yi(_),et=mh($,j);et.tag=2,a!=null&&(et.callback=a),a=nh(_,et,j),a!==null&&(gi(a,_,j,$),oh(a,_,j))}};function Fi(_,a,$,j,et,tt,rt){return _=_.stateNode,typeof _.shouldComponentUpdate=="function"?_.shouldComponentUpdate(j,tt,rt):a.prototype&&a.prototype.isPureReactComponent?!Ie($,j)||!Ie(et,tt):!0}function Gi(_,a,$){var j=!1,et=Vf,tt=a.contextType;return typeof tt=="object"&&tt!==null?tt=eh(tt):(et=Zf(a)?Xf:H$1.current,j=a.contextTypes,tt=(j=j!=null)?Yf(_,et):Vf),a=new a($,tt),_.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=Ei,_.stateNode=a,a._reactInternals=_,j&&(_=_.stateNode,_.__reactInternalMemoizedUnmaskedChildContext=et,_.__reactInternalMemoizedMaskedChildContext=tt),a}function Hi(_,a,$,j){_=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps($,j),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps($,j),a.state!==_&&Ei.enqueueReplaceState(a,a.state,null)}function Ii(_,a,$,j){var et=_.stateNode;et.props=$,et.state=_.memoizedState,et.refs={},kh(_);var tt=a.contextType;typeof tt=="object"&&tt!==null?et.context=eh(tt):(tt=Zf(a)?Xf:H$1.current,et.context=Yf(_,tt)),et.state=_.memoizedState,tt=a.getDerivedStateFromProps,typeof tt=="function"&&(Di(_,a,tt,$),et.state=_.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof et.getSnapshotBeforeUpdate=="function"||typeof et.UNSAFE_componentWillMount!="function"&&typeof et.componentWillMount!="function"||(a=et.state,typeof et.componentWillMount=="function"&&et.componentWillMount(),typeof et.UNSAFE_componentWillMount=="function"&&et.UNSAFE_componentWillMount(),a!==et.state&&Ei.enqueueReplaceState(et,et.state,null),qh(_,$,et,j),et.state=_.memoizedState),typeof et.componentDidMount=="function"&&(_.flags|=4194308)}function Ji(_,a){try{var $="",j=a;do $+=Pa(j),j=j.return;while(j);var et=$}catch(tt){et=`
Error generating stack: `+tt.message+`
`+tt.stack}return{value:_,source:a,stack:et,digest:null}}function Ki(_,a,$){return{value:_,source:null,stack:$??null,digest:a??null}}function Li(_,a){try{console.error(a.value)}catch($){setTimeout(function(){throw $})}}var Mi=typeof WeakMap=="function"?WeakMap:Map;function Ni(_,a,$){$=mh(-1,$),$.tag=3,$.payload={element:null};var j=a.value;return $.callback=function(){Oi||(Oi=!0,Pi=j),Li(_,a)},$}function Qi(_,a,$){$=mh(-1,$),$.tag=3;var j=_.type.getDerivedStateFromError;if(typeof j=="function"){var et=a.value;$.payload=function(){return j(et)},$.callback=function(){Li(_,a)}}var tt=_.stateNode;return tt!==null&&typeof tt.componentDidCatch=="function"&&($.callback=function(){Li(_,a),typeof j!="function"&&(Ri===null?Ri=new Set([this]):Ri.add(this));var rt=a.stack;this.componentDidCatch(a.value,{componentStack:rt!==null?rt:""})}),$}function Si(_,a,$){var j=_.pingCache;if(j===null){j=_.pingCache=new Mi;var et=new Set;j.set(a,et)}else et=j.get(a),et===void 0&&(et=new Set,j.set(a,et));et.has($)||(et.add($),_=Ti.bind(null,_,a,$),a.then(_,_))}function Ui(_){do{var a;if((a=_.tag===13)&&(a=_.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return _;_=_.return}while(_!==null);return null}function Vi(_,a,$,j,et){return _.mode&1?(_.flags|=65536,_.lanes=et,_):(_===a?_.flags|=65536:(_.flags|=128,$.flags|=131072,$.flags&=-52805,$.tag===1&&($.alternate===null?$.tag=17:(a=mh(-1,1),a.tag=2,nh($,a,1))),$.lanes|=1),_)}var Wi=ua.ReactCurrentOwner,dh$1=!1;function Xi(_,a,$,j){a.child=_===null?Vg(a,null,$,j):Ug(a,_.child,$,j)}function Yi(_,a,$,j,et){$=$.render;var tt=a.ref;return ch$1(a,et),j=Nh(_,a,$,j,tt,et),$=Sh(),_!==null&&!dh$1?(a.updateQueue=_.updateQueue,a.flags&=-2053,_.lanes&=~et,Zi(_,a,et)):(I&&$&&vg(a),a.flags|=1,Xi(_,a,j,et),a.child)}function $i(_,a,$,j,et){if(_===null){var tt=$.type;return typeof tt=="function"&&!aj(tt)&&tt.defaultProps===void 0&&$.compare===null&&$.defaultProps===void 0?(a.tag=15,a.type=tt,bj(_,a,tt,j,et)):(_=Rg($.type,null,j,a,a.mode,et),_.ref=a.ref,_.return=a,a.child=_)}if(tt=_.child,!(_.lanes&et)){var rt=tt.memoizedProps;if($=$.compare,$=$!==null?$:Ie,$(rt,j)&&_.ref===a.ref)return Zi(_,a,et)}return a.flags|=1,_=Pg(tt,j),_.ref=a.ref,_.return=a,a.child=_}function bj(_,a,$,j,et){if(_!==null){var tt=_.memoizedProps;if(Ie(tt,j)&&_.ref===a.ref)if(dh$1=!1,a.pendingProps=j=tt,(_.lanes&et)!==0)_.flags&131072&&(dh$1=!0);else return a.lanes=_.lanes,Zi(_,a,et)}return cj(_,a,$,j,et)}function dj(_,a,$){var j=a.pendingProps,et=j.children,tt=_!==null?_.memoizedState:null;if(j.mode==="hidden")if(!(a.mode&1))a.memoizedState={baseLanes:0,cachePool:null,transitions:null},G(ej,fj),fj|=$;else{if(!($&1073741824))return _=tt!==null?tt.baseLanes|$:$,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:_,cachePool:null,transitions:null},a.updateQueue=null,G(ej,fj),fj|=_,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},j=tt!==null?tt.baseLanes:$,G(ej,fj),fj|=j}else tt!==null?(j=tt.baseLanes|$,a.memoizedState=null):j=$,G(ej,fj),fj|=j;return Xi(_,a,et,$),a.child}function gj(_,a){var $=a.ref;(_===null&&$!==null||_!==null&&_.ref!==$)&&(a.flags|=512,a.flags|=2097152)}function cj(_,a,$,j,et){var tt=Zf($)?Xf:H$1.current;return tt=Yf(a,tt),ch$1(a,et),$=Nh(_,a,$,j,tt,et),j=Sh(),_!==null&&!dh$1?(a.updateQueue=_.updateQueue,a.flags&=-2053,_.lanes&=~et,Zi(_,a,et)):(I&&j&&vg(a),a.flags|=1,Xi(_,a,$,et),a.child)}function hj(_,a,$,j,et){if(Zf($)){var tt=!0;cg(a)}else tt=!1;if(ch$1(a,et),a.stateNode===null)ij(_,a),Gi(a,$,j),Ii(a,$,j,et),j=!0;else if(_===null){var rt=a.stateNode,nt=a.memoizedProps;rt.props=nt;var it=rt.context,ot=$.contextType;typeof ot=="object"&&ot!==null?ot=eh(ot):(ot=Zf($)?Xf:H$1.current,ot=Yf(a,ot));var st=$.getDerivedStateFromProps,ct=typeof st=="function"||typeof rt.getSnapshotBeforeUpdate=="function";ct||typeof rt.UNSAFE_componentWillReceiveProps!="function"&&typeof rt.componentWillReceiveProps!="function"||(nt!==j||it!==ot)&&Hi(a,rt,j,ot),jh=!1;var ut=a.memoizedState;rt.state=ut,qh(a,j,rt,et),it=a.memoizedState,nt!==j||ut!==it||Wf.current||jh?(typeof st=="function"&&(Di(a,$,st,j),it=a.memoizedState),(nt=jh||Fi(a,$,nt,j,ut,it,ot))?(ct||typeof rt.UNSAFE_componentWillMount!="function"&&typeof rt.componentWillMount!="function"||(typeof rt.componentWillMount=="function"&&rt.componentWillMount(),typeof rt.UNSAFE_componentWillMount=="function"&&rt.UNSAFE_componentWillMount()),typeof rt.componentDidMount=="function"&&(a.flags|=4194308)):(typeof rt.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=j,a.memoizedState=it),rt.props=j,rt.state=it,rt.context=ot,j=nt):(typeof rt.componentDidMount=="function"&&(a.flags|=4194308),j=!1)}else{rt=a.stateNode,lh(_,a),nt=a.memoizedProps,ot=a.type===a.elementType?nt:Ci(a.type,nt),rt.props=ot,ct=a.pendingProps,ut=rt.context,it=$.contextType,typeof it=="object"&&it!==null?it=eh(it):(it=Zf($)?Xf:H$1.current,it=Yf(a,it));var ht=$.getDerivedStateFromProps;(st=typeof ht=="function"||typeof rt.getSnapshotBeforeUpdate=="function")||typeof rt.UNSAFE_componentWillReceiveProps!="function"&&typeof rt.componentWillReceiveProps!="function"||(nt!==ct||ut!==it)&&Hi(a,rt,j,it),jh=!1,ut=a.memoizedState,rt.state=ut,qh(a,j,rt,et);var Et=a.memoizedState;nt!==ct||ut!==Et||Wf.current||jh?(typeof ht=="function"&&(Di(a,$,ht,j),Et=a.memoizedState),(ot=jh||Fi(a,$,ot,j,ut,Et,it)||!1)?(st||typeof rt.UNSAFE_componentWillUpdate!="function"&&typeof rt.componentWillUpdate!="function"||(typeof rt.componentWillUpdate=="function"&&rt.componentWillUpdate(j,Et,it),typeof rt.UNSAFE_componentWillUpdate=="function"&&rt.UNSAFE_componentWillUpdate(j,Et,it)),typeof rt.componentDidUpdate=="function"&&(a.flags|=4),typeof rt.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof rt.componentDidUpdate!="function"||nt===_.memoizedProps&&ut===_.memoizedState||(a.flags|=4),typeof rt.getSnapshotBeforeUpdate!="function"||nt===_.memoizedProps&&ut===_.memoizedState||(a.flags|=1024),a.memoizedProps=j,a.memoizedState=Et),rt.props=j,rt.state=Et,rt.context=it,j=ot):(typeof rt.componentDidUpdate!="function"||nt===_.memoizedProps&&ut===_.memoizedState||(a.flags|=4),typeof rt.getSnapshotBeforeUpdate!="function"||nt===_.memoizedProps&&ut===_.memoizedState||(a.flags|=1024),j=!1)}return jj(_,a,$,j,tt,et)}function jj(_,a,$,j,et,tt){gj(_,a);var rt=(a.flags&128)!==0;if(!j&&!rt)return et&&dg(a,$,!1),Zi(_,a,tt);j=a.stateNode,Wi.current=a;var nt=rt&&typeof $.getDerivedStateFromError!="function"?null:j.render();return a.flags|=1,_!==null&&rt?(a.child=Ug(a,_.child,null,tt),a.child=Ug(a,null,nt,tt)):Xi(_,a,nt,tt),a.memoizedState=j.state,et&&dg(a,$,!0),a.child}function kj(_){var a=_.stateNode;a.pendingContext?ag(_,a.pendingContext,a.pendingContext!==a.context):a.context&&ag(_,a.context,!1),yh(_,a.containerInfo)}function lj(_,a,$,j,et){return Ig(),Jg(et),a.flags|=256,Xi(_,a,$,j),a.child}var mj={dehydrated:null,treeContext:null,retryLane:0};function nj(_){return{baseLanes:_,cachePool:null,transitions:null}}function oj(_,a,$){var j=a.pendingProps,et=L.current,tt=!1,rt=(a.flags&128)!==0,nt;if((nt=rt)||(nt=_!==null&&_.memoizedState===null?!1:(et&2)!==0),nt?(tt=!0,a.flags&=-129):(_===null||_.memoizedState!==null)&&(et|=1),G(L,et&1),_===null)return Eg(a),_=a.memoizedState,_!==null&&(_=_.dehydrated,_!==null)?(a.mode&1?_.data==="$!"?a.lanes=8:a.lanes=1073741824:a.lanes=1,null):(rt=j.children,_=j.fallback,tt?(j=a.mode,tt=a.child,rt={mode:"hidden",children:rt},!(j&1)&&tt!==null?(tt.childLanes=0,tt.pendingProps=rt):tt=pj(rt,j,0,null),_=Tg(_,j,$,null),tt.return=a,_.return=a,tt.sibling=_,a.child=tt,a.child.memoizedState=nj($),a.memoizedState=mj,_):qj(a,rt));if(et=_.memoizedState,et!==null&&(nt=et.dehydrated,nt!==null))return rj(_,a,rt,j,nt,et,$);if(tt){tt=j.fallback,rt=a.mode,et=_.child,nt=et.sibling;var it={mode:"hidden",children:j.children};return!(rt&1)&&a.child!==et?(j=a.child,j.childLanes=0,j.pendingProps=it,a.deletions=null):(j=Pg(et,it),j.subtreeFlags=et.subtreeFlags&14680064),nt!==null?tt=Pg(nt,tt):(tt=Tg(tt,rt,$,null),tt.flags|=2),tt.return=a,j.return=a,j.sibling=tt,a.child=j,j=tt,tt=a.child,rt=_.child.memoizedState,rt=rt===null?nj($):{baseLanes:rt.baseLanes|$,cachePool:null,transitions:rt.transitions},tt.memoizedState=rt,tt.childLanes=_.childLanes&~$,a.memoizedState=mj,j}return tt=_.child,_=tt.sibling,j=Pg(tt,{mode:"visible",children:j.children}),!(a.mode&1)&&(j.lanes=$),j.return=a,j.sibling=null,_!==null&&($=a.deletions,$===null?(a.deletions=[_],a.flags|=16):$.push(_)),a.child=j,a.memoizedState=null,j}function qj(_,a){return a=pj({mode:"visible",children:a},_.mode,0,null),a.return=_,_.child=a}function sj(_,a,$,j){return j!==null&&Jg(j),Ug(a,_.child,null,$),_=qj(a,a.pendingProps.children),_.flags|=2,a.memoizedState=null,_}function rj(_,a,$,j,et,tt,rt){if($)return a.flags&256?(a.flags&=-257,j=Ki(Error(p$2(422))),sj(_,a,rt,j)):a.memoizedState!==null?(a.child=_.child,a.flags|=128,null):(tt=j.fallback,et=a.mode,j=pj({mode:"visible",children:j.children},et,0,null),tt=Tg(tt,et,rt,null),tt.flags|=2,j.return=a,tt.return=a,j.sibling=tt,a.child=j,a.mode&1&&Ug(a,_.child,null,rt),a.child.memoizedState=nj(rt),a.memoizedState=mj,tt);if(!(a.mode&1))return sj(_,a,rt,null);if(et.data==="$!"){if(j=et.nextSibling&&et.nextSibling.dataset,j)var nt=j.dgst;return j=nt,tt=Error(p$2(419)),j=Ki(tt,j,void 0),sj(_,a,rt,j)}if(nt=(rt&_.childLanes)!==0,dh$1||nt){if(j=Q,j!==null){switch(rt&-rt){case 4:et=2;break;case 16:et=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:et=32;break;case 536870912:et=268435456;break;default:et=0}et=et&(j.suspendedLanes|rt)?0:et,et!==0&&et!==tt.retryLane&&(tt.retryLane=et,ih(_,et),gi(j,_,et,-1))}return tj(),j=Ki(Error(p$2(421))),sj(_,a,rt,j)}return et.data==="$?"?(a.flags|=128,a.child=_.child,a=uj.bind(null,_),et._reactRetry=a,null):(_=tt.treeContext,yg=Lf(et.nextSibling),xg=a,I=!0,zg=null,_!==null&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=_.id,sg=_.overflow,qg=a),a=qj(a,j.children),a.flags|=4096,a)}function vj(_,a,$){_.lanes|=a;var j=_.alternate;j!==null&&(j.lanes|=a),bh(_.return,a,$)}function wj(_,a,$,j,et){var tt=_.memoizedState;tt===null?_.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:j,tail:$,tailMode:et}:(tt.isBackwards=a,tt.rendering=null,tt.renderingStartTime=0,tt.last=j,tt.tail=$,tt.tailMode=et)}function xj(_,a,$){var j=a.pendingProps,et=j.revealOrder,tt=j.tail;if(Xi(_,a,j.children,$),j=L.current,j&2)j=j&1|2,a.flags|=128;else{if(_!==null&&_.flags&128)e:for(_=a.child;_!==null;){if(_.tag===13)_.memoizedState!==null&&vj(_,$,a);else if(_.tag===19)vj(_,$,a);else if(_.child!==null){_.child.return=_,_=_.child;continue}if(_===a)break e;for(;_.sibling===null;){if(_.return===null||_.return===a)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}j&=1}if(G(L,j),!(a.mode&1))a.memoizedState=null;else switch(et){case"forwards":for($=a.child,et=null;$!==null;)_=$.alternate,_!==null&&Ch$1(_)===null&&(et=$),$=$.sibling;$=et,$===null?(et=a.child,a.child=null):(et=$.sibling,$.sibling=null),wj(a,!1,et,$,tt);break;case"backwards":for($=null,et=a.child,a.child=null;et!==null;){if(_=et.alternate,_!==null&&Ch$1(_)===null){a.child=et;break}_=et.sibling,et.sibling=$,$=et,et=_}wj(a,!0,$,null,tt);break;case"together":wj(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function ij(_,a){!(a.mode&1)&&_!==null&&(_.alternate=null,a.alternate=null,a.flags|=2)}function Zi(_,a,$){if(_!==null&&(a.dependencies=_.dependencies),rh$1|=a.lanes,!($&a.childLanes))return null;if(_!==null&&a.child!==_.child)throw Error(p$2(153));if(a.child!==null){for(_=a.child,$=Pg(_,_.pendingProps),a.child=$,$.return=a;_.sibling!==null;)_=_.sibling,$=$.sibling=Pg(_,_.pendingProps),$.return=a;$.sibling=null}return a.child}function yj(_,a,$){switch(a.tag){case 3:kj(a),Ig();break;case 5:Ah(a);break;case 1:Zf(a.type)&&cg(a);break;case 4:yh(a,a.stateNode.containerInfo);break;case 10:var j=a.type._context,et=a.memoizedProps.value;G(Wg,j._currentValue),j._currentValue=et;break;case 13:if(j=a.memoizedState,j!==null)return j.dehydrated!==null?(G(L,L.current&1),a.flags|=128,null):$&a.child.childLanes?oj(_,a,$):(G(L,L.current&1),_=Zi(_,a,$),_!==null?_.sibling:null);G(L,L.current&1);break;case 19:if(j=($&a.childLanes)!==0,_.flags&128){if(j)return xj(_,a,$);a.flags|=128}if(et=a.memoizedState,et!==null&&(et.rendering=null,et.tail=null,et.lastEffect=null),G(L,L.current),j)break;return null;case 22:case 23:return a.lanes=0,dj(_,a,$)}return Zi(_,a,$)}var zj,Aj,Bj,Cj;zj=function(_,a){for(var $=a.child;$!==null;){if($.tag===5||$.tag===6)_.appendChild($.stateNode);else if($.tag!==4&&$.child!==null){$.child.return=$,$=$.child;continue}if($===a)break;for(;$.sibling===null;){if($.return===null||$.return===a)return;$=$.return}$.sibling.return=$.return,$=$.sibling}};Aj=function(){};Bj=function(_,a,$,j){var et=_.memoizedProps;if(et!==j){_=a.stateNode,xh(uh.current);var tt=null;switch($){case"input":et=Ya(_,et),j=Ya(_,j),tt=[];break;case"select":et=A$1({},et,{value:void 0}),j=A$1({},j,{value:void 0}),tt=[];break;case"textarea":et=gb(_,et),j=gb(_,j),tt=[];break;default:typeof et.onClick!="function"&&typeof j.onClick=="function"&&(_.onclick=Bf)}ub($,j);var rt;$=null;for(ot in et)if(!j.hasOwnProperty(ot)&&et.hasOwnProperty(ot)&&et[ot]!=null)if(ot==="style"){var nt=et[ot];for(rt in nt)nt.hasOwnProperty(rt)&&($||($={}),$[rt]="")}else ot!=="dangerouslySetInnerHTML"&&ot!=="children"&&ot!=="suppressContentEditableWarning"&&ot!=="suppressHydrationWarning"&&ot!=="autoFocus"&&(ea.hasOwnProperty(ot)?tt||(tt=[]):(tt=tt||[]).push(ot,null));for(ot in j){var it=j[ot];if(nt=et!=null?et[ot]:void 0,j.hasOwnProperty(ot)&&it!==nt&&(it!=null||nt!=null))if(ot==="style")if(nt){for(rt in nt)!nt.hasOwnProperty(rt)||it&&it.hasOwnProperty(rt)||($||($={}),$[rt]="");for(rt in it)it.hasOwnProperty(rt)&&nt[rt]!==it[rt]&&($||($={}),$[rt]=it[rt])}else $||(tt||(tt=[]),tt.push(ot,$)),$=it;else ot==="dangerouslySetInnerHTML"?(it=it?it.__html:void 0,nt=nt?nt.__html:void 0,it!=null&&nt!==it&&(tt=tt||[]).push(ot,it)):ot==="children"?typeof it!="string"&&typeof it!="number"||(tt=tt||[]).push(ot,""+it):ot!=="suppressContentEditableWarning"&&ot!=="suppressHydrationWarning"&&(ea.hasOwnProperty(ot)?(it!=null&&ot==="onScroll"&&D("scroll",_),tt||nt===it||(tt=[])):(tt=tt||[]).push(ot,it))}$&&(tt=tt||[]).push("style",$);var ot=tt;(a.updateQueue=ot)&&(a.flags|=4)}};Cj=function(_,a,$,j){$!==j&&(a.flags|=4)};function Dj(_,a){if(!I)switch(_.tailMode){case"hidden":a=_.tail;for(var $=null;a!==null;)a.alternate!==null&&($=a),a=a.sibling;$===null?_.tail=null:$.sibling=null;break;case"collapsed":$=_.tail;for(var j=null;$!==null;)$.alternate!==null&&(j=$),$=$.sibling;j===null?a||_.tail===null?_.tail=null:_.tail.sibling=null:j.sibling=null}}function S(_){var a=_.alternate!==null&&_.alternate.child===_.child,$=0,j=0;if(a)for(var et=_.child;et!==null;)$|=et.lanes|et.childLanes,j|=et.subtreeFlags&14680064,j|=et.flags&14680064,et.return=_,et=et.sibling;else for(et=_.child;et!==null;)$|=et.lanes|et.childLanes,j|=et.subtreeFlags,j|=et.flags,et.return=_,et=et.sibling;return _.subtreeFlags|=j,_.childLanes=$,a}function Ej(_,a,$){var j=a.pendingProps;switch(wg(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S(a),null;case 1:return Zf(a.type)&&$f(),S(a),null;case 3:return j=a.stateNode,zh(),E(Wf),E(H$1),Eh(),j.pendingContext&&(j.context=j.pendingContext,j.pendingContext=null),(_===null||_.child===null)&&(Gg(a)?a.flags|=4:_===null||_.memoizedState.isDehydrated&&!(a.flags&256)||(a.flags|=1024,zg!==null&&(Fj(zg),zg=null))),Aj(_,a),S(a),null;case 5:Bh(a);var et=xh(wh.current);if($=a.type,_!==null&&a.stateNode!=null)Bj(_,a,$,j,et),_.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!j){if(a.stateNode===null)throw Error(p$2(166));return S(a),null}if(_=xh(uh.current),Gg(a)){j=a.stateNode,$=a.type;var tt=a.memoizedProps;switch(j[Of]=a,j[Pf]=tt,_=(a.mode&1)!==0,$){case"dialog":D("cancel",j),D("close",j);break;case"iframe":case"object":case"embed":D("load",j);break;case"video":case"audio":for(et=0;et<lf.length;et++)D(lf[et],j);break;case"source":D("error",j);break;case"img":case"image":case"link":D("error",j),D("load",j);break;case"details":D("toggle",j);break;case"input":Za(j,tt),D("invalid",j);break;case"select":j._wrapperState={wasMultiple:!!tt.multiple},D("invalid",j);break;case"textarea":hb(j,tt),D("invalid",j)}ub($,tt),et=null;for(var rt in tt)if(tt.hasOwnProperty(rt)){var nt=tt[rt];rt==="children"?typeof nt=="string"?j.textContent!==nt&&(tt.suppressHydrationWarning!==!0&&Af(j.textContent,nt,_),et=["children",nt]):typeof nt=="number"&&j.textContent!==""+nt&&(tt.suppressHydrationWarning!==!0&&Af(j.textContent,nt,_),et=["children",""+nt]):ea.hasOwnProperty(rt)&&nt!=null&&rt==="onScroll"&&D("scroll",j)}switch($){case"input":Va(j),db(j,tt,!0);break;case"textarea":Va(j),jb(j);break;case"select":case"option":break;default:typeof tt.onClick=="function"&&(j.onclick=Bf)}j=et,a.updateQueue=j,j!==null&&(a.flags|=4)}else{rt=et.nodeType===9?et:et.ownerDocument,_==="http://www.w3.org/1999/xhtml"&&(_=kb($)),_==="http://www.w3.org/1999/xhtml"?$==="script"?(_=rt.createElement("div"),_.innerHTML="<script><\/script>",_=_.removeChild(_.firstChild)):typeof j.is=="string"?_=rt.createElement($,{is:j.is}):(_=rt.createElement($),$==="select"&&(rt=_,j.multiple?rt.multiple=!0:j.size&&(rt.size=j.size))):_=rt.createElementNS(_,$),_[Of]=a,_[Pf]=j,zj(_,a,!1,!1),a.stateNode=_;e:{switch(rt=vb($,j),$){case"dialog":D("cancel",_),D("close",_),et=j;break;case"iframe":case"object":case"embed":D("load",_),et=j;break;case"video":case"audio":for(et=0;et<lf.length;et++)D(lf[et],_);et=j;break;case"source":D("error",_),et=j;break;case"img":case"image":case"link":D("error",_),D("load",_),et=j;break;case"details":D("toggle",_),et=j;break;case"input":Za(_,j),et=Ya(_,j),D("invalid",_);break;case"option":et=j;break;case"select":_._wrapperState={wasMultiple:!!j.multiple},et=A$1({},j,{value:void 0}),D("invalid",_);break;case"textarea":hb(_,j),et=gb(_,j),D("invalid",_);break;default:et=j}ub($,et),nt=et;for(tt in nt)if(nt.hasOwnProperty(tt)){var it=nt[tt];tt==="style"?sb(_,it):tt==="dangerouslySetInnerHTML"?(it=it?it.__html:void 0,it!=null&&nb(_,it)):tt==="children"?typeof it=="string"?($!=="textarea"||it!=="")&&ob(_,it):typeof it=="number"&&ob(_,""+it):tt!=="suppressContentEditableWarning"&&tt!=="suppressHydrationWarning"&&tt!=="autoFocus"&&(ea.hasOwnProperty(tt)?it!=null&&tt==="onScroll"&&D("scroll",_):it!=null&&ta(_,tt,it,rt))}switch($){case"input":Va(_),db(_,j,!1);break;case"textarea":Va(_),jb(_);break;case"option":j.value!=null&&_.setAttribute("value",""+Sa(j.value));break;case"select":_.multiple=!!j.multiple,tt=j.value,tt!=null?fb(_,!!j.multiple,tt,!1):j.defaultValue!=null&&fb(_,!!j.multiple,j.defaultValue,!0);break;default:typeof et.onClick=="function"&&(_.onclick=Bf)}switch($){case"button":case"input":case"select":case"textarea":j=!!j.autoFocus;break e;case"img":j=!0;break e;default:j=!1}}j&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return S(a),null;case 6:if(_&&a.stateNode!=null)Cj(_,a,_.memoizedProps,j);else{if(typeof j!="string"&&a.stateNode===null)throw Error(p$2(166));if($=xh(wh.current),xh(uh.current),Gg(a)){if(j=a.stateNode,$=a.memoizedProps,j[Of]=a,(tt=j.nodeValue!==$)&&(_=xg,_!==null))switch(_.tag){case 3:Af(j.nodeValue,$,(_.mode&1)!==0);break;case 5:_.memoizedProps.suppressHydrationWarning!==!0&&Af(j.nodeValue,$,(_.mode&1)!==0)}tt&&(a.flags|=4)}else j=($.nodeType===9?$:$.ownerDocument).createTextNode(j),j[Of]=a,a.stateNode=j}return S(a),null;case 13:if(E(L),j=a.memoizedState,_===null||_.memoizedState!==null&&_.memoizedState.dehydrated!==null){if(I&&yg!==null&&a.mode&1&&!(a.flags&128))Hg(),Ig(),a.flags|=98560,tt=!1;else if(tt=Gg(a),j!==null&&j.dehydrated!==null){if(_===null){if(!tt)throw Error(p$2(318));if(tt=a.memoizedState,tt=tt!==null?tt.dehydrated:null,!tt)throw Error(p$2(317));tt[Of]=a}else Ig(),!(a.flags&128)&&(a.memoizedState=null),a.flags|=4;S(a),tt=!1}else zg!==null&&(Fj(zg),zg=null),tt=!0;if(!tt)return a.flags&65536?a:null}return a.flags&128?(a.lanes=$,a):(j=j!==null,j!==(_!==null&&_.memoizedState!==null)&&j&&(a.child.flags|=8192,a.mode&1&&(_===null||L.current&1?T===0&&(T=3):tj())),a.updateQueue!==null&&(a.flags|=4),S(a),null);case 4:return zh(),Aj(_,a),_===null&&sf(a.stateNode.containerInfo),S(a),null;case 10:return ah(a.type._context),S(a),null;case 17:return Zf(a.type)&&$f(),S(a),null;case 19:if(E(L),tt=a.memoizedState,tt===null)return S(a),null;if(j=(a.flags&128)!==0,rt=tt.rendering,rt===null)if(j)Dj(tt,!1);else{if(T!==0||_!==null&&_.flags&128)for(_=a.child;_!==null;){if(rt=Ch$1(_),rt!==null){for(a.flags|=128,Dj(tt,!1),j=rt.updateQueue,j!==null&&(a.updateQueue=j,a.flags|=4),a.subtreeFlags=0,j=$,$=a.child;$!==null;)tt=$,_=j,tt.flags&=14680066,rt=tt.alternate,rt===null?(tt.childLanes=0,tt.lanes=_,tt.child=null,tt.subtreeFlags=0,tt.memoizedProps=null,tt.memoizedState=null,tt.updateQueue=null,tt.dependencies=null,tt.stateNode=null):(tt.childLanes=rt.childLanes,tt.lanes=rt.lanes,tt.child=rt.child,tt.subtreeFlags=0,tt.deletions=null,tt.memoizedProps=rt.memoizedProps,tt.memoizedState=rt.memoizedState,tt.updateQueue=rt.updateQueue,tt.type=rt.type,_=rt.dependencies,tt.dependencies=_===null?null:{lanes:_.lanes,firstContext:_.firstContext}),$=$.sibling;return G(L,L.current&1|2),a.child}_=_.sibling}tt.tail!==null&&B()>Gj&&(a.flags|=128,j=!0,Dj(tt,!1),a.lanes=4194304)}else{if(!j)if(_=Ch$1(rt),_!==null){if(a.flags|=128,j=!0,$=_.updateQueue,$!==null&&(a.updateQueue=$,a.flags|=4),Dj(tt,!0),tt.tail===null&&tt.tailMode==="hidden"&&!rt.alternate&&!I)return S(a),null}else 2*B()-tt.renderingStartTime>Gj&&$!==1073741824&&(a.flags|=128,j=!0,Dj(tt,!1),a.lanes=4194304);tt.isBackwards?(rt.sibling=a.child,a.child=rt):($=tt.last,$!==null?$.sibling=rt:a.child=rt,tt.last=rt)}return tt.tail!==null?(a=tt.tail,tt.rendering=a,tt.tail=a.sibling,tt.renderingStartTime=B(),a.sibling=null,$=L.current,G(L,j?$&1|2:$&1),a):(S(a),null);case 22:case 23:return Hj(),j=a.memoizedState!==null,_!==null&&_.memoizedState!==null!==j&&(a.flags|=8192),j&&a.mode&1?fj&1073741824&&(S(a),a.subtreeFlags&6&&(a.flags|=8192)):S(a),null;case 24:return null;case 25:return null}throw Error(p$2(156,a.tag))}function Ij(_,a){switch(wg(a),a.tag){case 1:return Zf(a.type)&&$f(),_=a.flags,_&65536?(a.flags=_&-65537|128,a):null;case 3:return zh(),E(Wf),E(H$1),Eh(),_=a.flags,_&65536&&!(_&128)?(a.flags=_&-65537|128,a):null;case 5:return Bh(a),null;case 13:if(E(L),_=a.memoizedState,_!==null&&_.dehydrated!==null){if(a.alternate===null)throw Error(p$2(340));Ig()}return _=a.flags,_&65536?(a.flags=_&-65537|128,a):null;case 19:return E(L),null;case 4:return zh(),null;case 10:return ah(a.type._context),null;case 22:case 23:return Hj(),null;case 24:return null;default:return null}}var Jj=!1,U=!1,Kj=typeof WeakSet=="function"?WeakSet:Set,V=null;function Lj(_,a){var $=_.ref;if($!==null)if(typeof $=="function")try{$(null)}catch(j){W$6(_,a,j)}else $.current=null}function Mj(_,a,$){try{$()}catch(j){W$6(_,a,j)}}var Nj=!1;function Oj(_,a){if(Cf=dd,_=Me(),Ne(_)){if("selectionStart"in _)var $={start:_.selectionStart,end:_.selectionEnd};else e:{$=($=_.ownerDocument)&&$.defaultView||window;var j=$.getSelection&&$.getSelection();if(j&&j.rangeCount!==0){$=j.anchorNode;var et=j.anchorOffset,tt=j.focusNode;j=j.focusOffset;try{$.nodeType,tt.nodeType}catch{$=null;break e}var rt=0,nt=-1,it=-1,ot=0,st=0,ct=_,ut=null;t:for(;;){for(var ht;ct!==$||et!==0&&ct.nodeType!==3||(nt=rt+et),ct!==tt||j!==0&&ct.nodeType!==3||(it=rt+j),ct.nodeType===3&&(rt+=ct.nodeValue.length),(ht=ct.firstChild)!==null;)ut=ct,ct=ht;for(;;){if(ct===_)break t;if(ut===$&&++ot===et&&(nt=rt),ut===tt&&++st===j&&(it=rt),(ht=ct.nextSibling)!==null)break;ct=ut,ut=ct.parentNode}ct=ht}$=nt===-1||it===-1?null:{start:nt,end:it}}else $=null}$=$||{start:0,end:0}}else $=null;for(Df={focusedElem:_,selectionRange:$},dd=!1,V=a;V!==null;)if(a=V,_=a.child,(a.subtreeFlags&1028)!==0&&_!==null)_.return=a,V=_;else for(;V!==null;){a=V;try{var Et=a.alternate;if(a.flags&1024)switch(a.tag){case 0:case 11:case 15:break;case 1:if(Et!==null){var St=Et.memoizedProps,Mt=Et.memoizedState,kt=a.stateNode,Ct=kt.getSnapshotBeforeUpdate(a.elementType===a.type?St:Ci(a.type,St),Mt);kt.__reactInternalSnapshotBeforeUpdate=Ct}break;case 3:var Ot=a.stateNode.containerInfo;Ot.nodeType===1?Ot.textContent="":Ot.nodeType===9&&Ot.documentElement&&Ot.removeChild(Ot.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p$2(163))}}catch(zt){W$6(a,a.return,zt)}if(_=a.sibling,_!==null){_.return=a.return,V=_;break}V=a.return}return Et=Nj,Nj=!1,Et}function Pj(_,a,$){var j=a.updateQueue;if(j=j!==null?j.lastEffect:null,j!==null){var et=j=j.next;do{if((et.tag&_)===_){var tt=et.destroy;et.destroy=void 0,tt!==void 0&&Mj(a,$,tt)}et=et.next}while(et!==j)}}function Qj(_,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var $=a=a.next;do{if(($.tag&_)===_){var j=$.create;$.destroy=j()}$=$.next}while($!==a)}}function Rj(_){var a=_.ref;if(a!==null){var $=_.stateNode;switch(_.tag){case 5:_=$;break;default:_=$}typeof a=="function"?a(_):a.current=_}}function Sj(_){var a=_.alternate;a!==null&&(_.alternate=null,Sj(a)),_.child=null,_.deletions=null,_.sibling=null,_.tag===5&&(a=_.stateNode,a!==null&&(delete a[Of],delete a[Pf],delete a[of$1],delete a[Qf],delete a[Rf])),_.stateNode=null,_.return=null,_.dependencies=null,_.memoizedProps=null,_.memoizedState=null,_.pendingProps=null,_.stateNode=null,_.updateQueue=null}function Tj(_){return _.tag===5||_.tag===3||_.tag===4}function Uj(_){e:for(;;){for(;_.sibling===null;){if(_.return===null||Tj(_.return))return null;_=_.return}for(_.sibling.return=_.return,_=_.sibling;_.tag!==5&&_.tag!==6&&_.tag!==18;){if(_.flags&2||_.child===null||_.tag===4)continue e;_.child.return=_,_=_.child}if(!(_.flags&2))return _.stateNode}}function Vj(_,a,$){var j=_.tag;if(j===5||j===6)_=_.stateNode,a?$.nodeType===8?$.parentNode.insertBefore(_,a):$.insertBefore(_,a):($.nodeType===8?(a=$.parentNode,a.insertBefore(_,$)):(a=$,a.appendChild(_)),$=$._reactRootContainer,$!=null||a.onclick!==null||(a.onclick=Bf));else if(j!==4&&(_=_.child,_!==null))for(Vj(_,a,$),_=_.sibling;_!==null;)Vj(_,a,$),_=_.sibling}function Wj(_,a,$){var j=_.tag;if(j===5||j===6)_=_.stateNode,a?$.insertBefore(_,a):$.appendChild(_);else if(j!==4&&(_=_.child,_!==null))for(Wj(_,a,$),_=_.sibling;_!==null;)Wj(_,a,$),_=_.sibling}var X=null,Xj=!1;function Yj(_,a,$){for($=$.child;$!==null;)Zj(_,a,$),$=$.sibling}function Zj(_,a,$){if(lc&&typeof lc.onCommitFiberUnmount=="function")try{lc.onCommitFiberUnmount(kc,$)}catch{}switch($.tag){case 5:U||Lj($,a);case 6:var j=X,et=Xj;X=null,Yj(_,a,$),X=j,Xj=et,X!==null&&(Xj?(_=X,$=$.stateNode,_.nodeType===8?_.parentNode.removeChild($):_.removeChild($)):X.removeChild($.stateNode));break;case 18:X!==null&&(Xj?(_=X,$=$.stateNode,_.nodeType===8?Kf(_.parentNode,$):_.nodeType===1&&Kf(_,$),bd(_)):Kf(X,$.stateNode));break;case 4:j=X,et=Xj,X=$.stateNode.containerInfo,Xj=!0,Yj(_,a,$),X=j,Xj=et;break;case 0:case 11:case 14:case 15:if(!U&&(j=$.updateQueue,j!==null&&(j=j.lastEffect,j!==null))){et=j=j.next;do{var tt=et,rt=tt.destroy;tt=tt.tag,rt!==void 0&&(tt&2||tt&4)&&Mj($,a,rt),et=et.next}while(et!==j)}Yj(_,a,$);break;case 1:if(!U&&(Lj($,a),j=$.stateNode,typeof j.componentWillUnmount=="function"))try{j.props=$.memoizedProps,j.state=$.memoizedState,j.componentWillUnmount()}catch(nt){W$6($,a,nt)}Yj(_,a,$);break;case 21:Yj(_,a,$);break;case 22:$.mode&1?(U=(j=U)||$.memoizedState!==null,Yj(_,a,$),U=j):Yj(_,a,$);break;default:Yj(_,a,$)}}function ak(_){var a=_.updateQueue;if(a!==null){_.updateQueue=null;var $=_.stateNode;$===null&&($=_.stateNode=new Kj),a.forEach(function(j){var et=bk.bind(null,_,j);$.has(j)||($.add(j),j.then(et,et))})}}function ck(_,a){var $=a.deletions;if($!==null)for(var j=0;j<$.length;j++){var et=$[j];try{var tt=_,rt=a,nt=rt;e:for(;nt!==null;){switch(nt.tag){case 5:X=nt.stateNode,Xj=!1;break e;case 3:X=nt.stateNode.containerInfo,Xj=!0;break e;case 4:X=nt.stateNode.containerInfo,Xj=!0;break e}nt=nt.return}if(X===null)throw Error(p$2(160));Zj(tt,rt,et),X=null,Xj=!1;var it=et.alternate;it!==null&&(it.return=null),et.return=null}catch(ot){W$6(et,a,ot)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)dk(a,_),a=a.sibling}function dk(_,a){var $=_.alternate,j=_.flags;switch(_.tag){case 0:case 11:case 14:case 15:if(ck(a,_),ek(_),j&4){try{Pj(3,_,_.return),Qj(3,_)}catch(St){W$6(_,_.return,St)}try{Pj(5,_,_.return)}catch(St){W$6(_,_.return,St)}}break;case 1:ck(a,_),ek(_),j&512&&$!==null&&Lj($,$.return);break;case 5:if(ck(a,_),ek(_),j&512&&$!==null&&Lj($,$.return),_.flags&32){var et=_.stateNode;try{ob(et,"")}catch(St){W$6(_,_.return,St)}}if(j&4&&(et=_.stateNode,et!=null)){var tt=_.memoizedProps,rt=$!==null?$.memoizedProps:tt,nt=_.type,it=_.updateQueue;if(_.updateQueue=null,it!==null)try{nt==="input"&&tt.type==="radio"&&tt.name!=null&&ab(et,tt),vb(nt,rt);var ot=vb(nt,tt);for(rt=0;rt<it.length;rt+=2){var st=it[rt],ct=it[rt+1];st==="style"?sb(et,ct):st==="dangerouslySetInnerHTML"?nb(et,ct):st==="children"?ob(et,ct):ta(et,st,ct,ot)}switch(nt){case"input":bb(et,tt);break;case"textarea":ib(et,tt);break;case"select":var ut=et._wrapperState.wasMultiple;et._wrapperState.wasMultiple=!!tt.multiple;var ht=tt.value;ht!=null?fb(et,!!tt.multiple,ht,!1):ut!==!!tt.multiple&&(tt.defaultValue!=null?fb(et,!!tt.multiple,tt.defaultValue,!0):fb(et,!!tt.multiple,tt.multiple?[]:"",!1))}et[Pf]=tt}catch(St){W$6(_,_.return,St)}}break;case 6:if(ck(a,_),ek(_),j&4){if(_.stateNode===null)throw Error(p$2(162));et=_.stateNode,tt=_.memoizedProps;try{et.nodeValue=tt}catch(St){W$6(_,_.return,St)}}break;case 3:if(ck(a,_),ek(_),j&4&&$!==null&&$.memoizedState.isDehydrated)try{bd(a.containerInfo)}catch(St){W$6(_,_.return,St)}break;case 4:ck(a,_),ek(_);break;case 13:ck(a,_),ek(_),et=_.child,et.flags&8192&&(tt=et.memoizedState!==null,et.stateNode.isHidden=tt,!tt||et.alternate!==null&&et.alternate.memoizedState!==null||(fk=B())),j&4&&ak(_);break;case 22:if(st=$!==null&&$.memoizedState!==null,_.mode&1?(U=(ot=U)||st,ck(a,_),U=ot):ck(a,_),ek(_),j&8192){if(ot=_.memoizedState!==null,(_.stateNode.isHidden=ot)&&!st&&_.mode&1)for(V=_,st=_.child;st!==null;){for(ct=V=st;V!==null;){switch(ut=V,ht=ut.child,ut.tag){case 0:case 11:case 14:case 15:Pj(4,ut,ut.return);break;case 1:Lj(ut,ut.return);var Et=ut.stateNode;if(typeof Et.componentWillUnmount=="function"){j=ut,$=ut.return;try{a=j,Et.props=a.memoizedProps,Et.state=a.memoizedState,Et.componentWillUnmount()}catch(St){W$6(j,$,St)}}break;case 5:Lj(ut,ut.return);break;case 22:if(ut.memoizedState!==null){gk(ct);continue}}ht!==null?(ht.return=ut,V=ht):gk(ct)}st=st.sibling}e:for(st=null,ct=_;;){if(ct.tag===5){if(st===null){st=ct;try{et=ct.stateNode,ot?(tt=et.style,typeof tt.setProperty=="function"?tt.setProperty("display","none","important"):tt.display="none"):(nt=ct.stateNode,it=ct.memoizedProps.style,rt=it!=null&&it.hasOwnProperty("display")?it.display:null,nt.style.display=rb("display",rt))}catch(St){W$6(_,_.return,St)}}}else if(ct.tag===6){if(st===null)try{ct.stateNode.nodeValue=ot?"":ct.memoizedProps}catch(St){W$6(_,_.return,St)}}else if((ct.tag!==22&&ct.tag!==23||ct.memoizedState===null||ct===_)&&ct.child!==null){ct.child.return=ct,ct=ct.child;continue}if(ct===_)break e;for(;ct.sibling===null;){if(ct.return===null||ct.return===_)break e;st===ct&&(st=null),ct=ct.return}st===ct&&(st=null),ct.sibling.return=ct.return,ct=ct.sibling}}break;case 19:ck(a,_),ek(_),j&4&&ak(_);break;case 21:break;default:ck(a,_),ek(_)}}function ek(_){var a=_.flags;if(a&2){try{e:{for(var $=_.return;$!==null;){if(Tj($)){var j=$;break e}$=$.return}throw Error(p$2(160))}switch(j.tag){case 5:var et=j.stateNode;j.flags&32&&(ob(et,""),j.flags&=-33);var tt=Uj(_);Wj(_,tt,et);break;case 3:case 4:var rt=j.stateNode.containerInfo,nt=Uj(_);Vj(_,nt,rt);break;default:throw Error(p$2(161))}}catch(it){W$6(_,_.return,it)}_.flags&=-3}a&4096&&(_.flags&=-4097)}function hk(_,a,$){V=_,ik(_)}function ik(_,a,$){for(var j=(_.mode&1)!==0;V!==null;){var et=V,tt=et.child;if(et.tag===22&&j){var rt=et.memoizedState!==null||Jj;if(!rt){var nt=et.alternate,it=nt!==null&&nt.memoizedState!==null||U;nt=Jj;var ot=U;if(Jj=rt,(U=it)&&!ot)for(V=et;V!==null;)rt=V,it=rt.child,rt.tag===22&&rt.memoizedState!==null?jk(et):it!==null?(it.return=rt,V=it):jk(et);for(;tt!==null;)V=tt,ik(tt),tt=tt.sibling;V=et,Jj=nt,U=ot}kk(_)}else et.subtreeFlags&8772&&tt!==null?(tt.return=et,V=tt):kk(_)}}function kk(_){for(;V!==null;){var a=V;if(a.flags&8772){var $=a.alternate;try{if(a.flags&8772)switch(a.tag){case 0:case 11:case 15:U||Qj(5,a);break;case 1:var j=a.stateNode;if(a.flags&4&&!U)if($===null)j.componentDidMount();else{var et=a.elementType===a.type?$.memoizedProps:Ci(a.type,$.memoizedProps);j.componentDidUpdate(et,$.memoizedState,j.__reactInternalSnapshotBeforeUpdate)}var tt=a.updateQueue;tt!==null&&sh$1(a,tt,j);break;case 3:var rt=a.updateQueue;if(rt!==null){if($=null,a.child!==null)switch(a.child.tag){case 5:$=a.child.stateNode;break;case 1:$=a.child.stateNode}sh$1(a,rt,$)}break;case 5:var nt=a.stateNode;if($===null&&a.flags&4){$=nt;var it=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":it.autoFocus&&$.focus();break;case"img":it.src&&($.src=it.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var ot=a.alternate;if(ot!==null){var st=ot.memoizedState;if(st!==null){var ct=st.dehydrated;ct!==null&&bd(ct)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(p$2(163))}U||a.flags&512&&Rj(a)}catch(ut){W$6(a,a.return,ut)}}if(a===_){V=null;break}if($=a.sibling,$!==null){$.return=a.return,V=$;break}V=a.return}}function gk(_){for(;V!==null;){var a=V;if(a===_){V=null;break}var $=a.sibling;if($!==null){$.return=a.return,V=$;break}V=a.return}}function jk(_){for(;V!==null;){var a=V;try{switch(a.tag){case 0:case 11:case 15:var $=a.return;try{Qj(4,a)}catch(it){W$6(a,$,it)}break;case 1:var j=a.stateNode;if(typeof j.componentDidMount=="function"){var et=a.return;try{j.componentDidMount()}catch(it){W$6(a,et,it)}}var tt=a.return;try{Rj(a)}catch(it){W$6(a,tt,it)}break;case 5:var rt=a.return;try{Rj(a)}catch(it){W$6(a,rt,it)}}}catch(it){W$6(a,a.return,it)}if(a===_){V=null;break}var nt=a.sibling;if(nt!==null){nt.return=a.return,V=nt;break}V=a.return}}var lk=Math.ceil,mk=ua.ReactCurrentDispatcher,nk=ua.ReactCurrentOwner,ok$1=ua.ReactCurrentBatchConfig,K$6=0,Q=null,Y=null,Z=0,fj=0,ej=Uf(0),T=0,pk=null,rh$1=0,qk=0,rk=0,sk=null,tk=null,fk=0,Gj=1/0,uk=null,Oi=!1,Pi=null,Ri=null,vk=!1,wk=null,xk=0,yk=0,zk=null,Ak=-1,Bk=0;function R$1(){return K$6&6?B():Ak!==-1?Ak:Ak=B()}function yi(_){return _.mode&1?K$6&2&&Z!==0?Z&-Z:Kg.transition!==null?(Bk===0&&(Bk=yc()),Bk):(_=C,_!==0||(_=window.event,_=_===void 0?16:jd(_.type)),_):1}function gi(_,a,$,j){if(50<yk)throw yk=0,zk=null,Error(p$2(185));Ac(_,$,j),(!(K$6&2)||_!==Q)&&(_===Q&&(!(K$6&2)&&(qk|=$),T===4&&Ck(_,Z)),Dk(_,j),$===1&&K$6===0&&!(a.mode&1)&&(Gj=B()+500,fg&&jg()))}function Dk(_,a){var $=_.callbackNode;wc(_,a);var j=uc(_,_===Q?Z:0);if(j===0)$!==null&&bc($),_.callbackNode=null,_.callbackPriority=0;else if(a=j&-j,_.callbackPriority!==a){if($!=null&&bc($),a===1)_.tag===0?ig(Ek.bind(null,_)):hg(Ek.bind(null,_)),Jf(function(){!(K$6&6)&&jg()}),$=null;else{switch(Dc(j)){case 1:$=fc;break;case 4:$=gc;break;case 16:$=hc;break;case 536870912:$=jc;break;default:$=hc}$=Fk($,Gk.bind(null,_))}_.callbackPriority=a,_.callbackNode=$}}function Gk(_,a){if(Ak=-1,Bk=0,K$6&6)throw Error(p$2(327));var $=_.callbackNode;if(Hk()&&_.callbackNode!==$)return null;var j=uc(_,_===Q?Z:0);if(j===0)return null;if(j&30||j&_.expiredLanes||a)a=Ik(_,j);else{a=j;var et=K$6;K$6|=2;var tt=Jk();(Q!==_||Z!==a)&&(uk=null,Gj=B()+500,Kk(_,a));do try{Lk();break}catch(nt){Mk(_,nt)}while(!0);$g(),mk.current=tt,K$6=et,Y!==null?a=0:(Q=null,Z=0,a=T)}if(a!==0){if(a===2&&(et=xc(_),et!==0&&(j=et,a=Nk(_,et))),a===1)throw $=pk,Kk(_,0),Ck(_,j),Dk(_,B()),$;if(a===6)Ck(_,j);else{if(et=_.current.alternate,!(j&30)&&!Ok(et)&&(a=Ik(_,j),a===2&&(tt=xc(_),tt!==0&&(j=tt,a=Nk(_,tt))),a===1))throw $=pk,Kk(_,0),Ck(_,j),Dk(_,B()),$;switch(_.finishedWork=et,_.finishedLanes=j,a){case 0:case 1:throw Error(p$2(345));case 2:Pk(_,tk,uk);break;case 3:if(Ck(_,j),(j&130023424)===j&&(a=fk+500-B(),10<a)){if(uc(_,0)!==0)break;if(et=_.suspendedLanes,(et&j)!==j){R$1(),_.pingedLanes|=_.suspendedLanes&et;break}_.timeoutHandle=Ff(Pk.bind(null,_,tk,uk),a);break}Pk(_,tk,uk);break;case 4:if(Ck(_,j),(j&4194240)===j)break;for(a=_.eventTimes,et=-1;0<j;){var rt=31-oc(j);tt=1<<rt,rt=a[rt],rt>et&&(et=rt),j&=~tt}if(j=et,j=B()-j,j=(120>j?120:480>j?480:1080>j?1080:1920>j?1920:3e3>j?3e3:4320>j?4320:1960*lk(j/1960))-j,10<j){_.timeoutHandle=Ff(Pk.bind(null,_,tk,uk),j);break}Pk(_,tk,uk);break;case 5:Pk(_,tk,uk);break;default:throw Error(p$2(329))}}}return Dk(_,B()),_.callbackNode===$?Gk.bind(null,_):null}function Nk(_,a){var $=sk;return _.current.memoizedState.isDehydrated&&(Kk(_,a).flags|=256),_=Ik(_,a),_!==2&&(a=tk,tk=$,a!==null&&Fj(a)),_}function Fj(_){tk===null?tk=_:tk.push.apply(tk,_)}function Ok(_){for(var a=_;;){if(a.flags&16384){var $=a.updateQueue;if($!==null&&($=$.stores,$!==null))for(var j=0;j<$.length;j++){var et=$[j],tt=et.getSnapshot;et=et.value;try{if(!He(tt(),et))return!1}catch{return!1}}}if($=a.child,a.subtreeFlags&16384&&$!==null)$.return=a,a=$;else{if(a===_)break;for(;a.sibling===null;){if(a.return===null||a.return===_)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Ck(_,a){for(a&=~rk,a&=~qk,_.suspendedLanes|=a,_.pingedLanes&=~a,_=_.expirationTimes;0<a;){var $=31-oc(a),j=1<<$;_[$]=-1,a&=~j}}function Ek(_){if(K$6&6)throw Error(p$2(327));Hk();var a=uc(_,0);if(!(a&1))return Dk(_,B()),null;var $=Ik(_,a);if(_.tag!==0&&$===2){var j=xc(_);j!==0&&(a=j,$=Nk(_,j))}if($===1)throw $=pk,Kk(_,0),Ck(_,a),Dk(_,B()),$;if($===6)throw Error(p$2(345));return _.finishedWork=_.current.alternate,_.finishedLanes=a,Pk(_,tk,uk),Dk(_,B()),null}function Qk(_,a){var $=K$6;K$6|=1;try{return _(a)}finally{K$6=$,K$6===0&&(Gj=B()+500,fg&&jg())}}function Rk(_){wk!==null&&wk.tag===0&&!(K$6&6)&&Hk();var a=K$6;K$6|=1;var $=ok$1.transition,j=C;try{if(ok$1.transition=null,C=1,_)return _()}finally{C=j,ok$1.transition=$,K$6=a,!(K$6&6)&&jg()}}function Hj(){fj=ej.current,E(ej)}function Kk(_,a){_.finishedWork=null,_.finishedLanes=0;var $=_.timeoutHandle;if($!==-1&&(_.timeoutHandle=-1,Gf($)),Y!==null)for($=Y.return;$!==null;){var j=$;switch(wg(j),j.tag){case 1:j=j.type.childContextTypes,j!=null&&$f();break;case 3:zh(),E(Wf),E(H$1),Eh();break;case 5:Bh(j);break;case 4:zh();break;case 13:E(L);break;case 19:E(L);break;case 10:ah(j.type._context);break;case 22:case 23:Hj()}$=$.return}if(Q=_,Y=_=Pg(_.current,null),Z=fj=a,T=0,pk=null,rk=qk=rh$1=0,tk=sk=null,fh!==null){for(a=0;a<fh.length;a++)if($=fh[a],j=$.interleaved,j!==null){$.interleaved=null;var et=j.next,tt=$.pending;if(tt!==null){var rt=tt.next;tt.next=et,j.next=rt}$.pending=j}fh=null}return _}function Mk(_,a){do{var $=Y;try{if($g(),Fh.current=Rh,Ih){for(var j=M.memoizedState;j!==null;){var et=j.queue;et!==null&&(et.pending=null),j=j.next}Ih=!1}if(Hh=0,O=N=M=null,Jh=!1,Kh$1=0,nk.current=null,$===null||$.return===null){T=1,pk=a,Y=null;break}e:{var tt=_,rt=$.return,nt=$,it=a;if(a=Z,nt.flags|=32768,it!==null&&typeof it=="object"&&typeof it.then=="function"){var ot=it,st=nt,ct=st.tag;if(!(st.mode&1)&&(ct===0||ct===11||ct===15)){var ut=st.alternate;ut?(st.updateQueue=ut.updateQueue,st.memoizedState=ut.memoizedState,st.lanes=ut.lanes):(st.updateQueue=null,st.memoizedState=null)}var ht=Ui(rt);if(ht!==null){ht.flags&=-257,Vi(ht,rt,nt,tt,a),ht.mode&1&&Si(tt,ot,a),a=ht,it=ot;var Et=a.updateQueue;if(Et===null){var St=new Set;St.add(it),a.updateQueue=St}else Et.add(it);break e}else{if(!(a&1)){Si(tt,ot,a),tj();break e}it=Error(p$2(426))}}else if(I&&nt.mode&1){var Mt=Ui(rt);if(Mt!==null){!(Mt.flags&65536)&&(Mt.flags|=256),Vi(Mt,rt,nt,tt,a),Jg(Ji(it,nt));break e}}tt=it=Ji(it,nt),T!==4&&(T=2),sk===null?sk=[tt]:sk.push(tt),tt=rt;do{switch(tt.tag){case 3:tt.flags|=65536,a&=-a,tt.lanes|=a;var kt=Ni(tt,it,a);ph(tt,kt);break e;case 1:nt=it;var Ct=tt.type,Ot=tt.stateNode;if(!(tt.flags&128)&&(typeof Ct.getDerivedStateFromError=="function"||Ot!==null&&typeof Ot.componentDidCatch=="function"&&(Ri===null||!Ri.has(Ot)))){tt.flags|=65536,a&=-a,tt.lanes|=a;var zt=Qi(tt,nt,a);ph(tt,zt);break e}}tt=tt.return}while(tt!==null)}Sk($)}catch(Ut){a=Ut,Y===$&&$!==null&&(Y=$=$.return);continue}break}while(!0)}function Jk(){var _=mk.current;return mk.current=Rh,_===null?Rh:_}function tj(){(T===0||T===3||T===2)&&(T=4),Q===null||!(rh$1&268435455)&&!(qk&268435455)||Ck(Q,Z)}function Ik(_,a){var $=K$6;K$6|=2;var j=Jk();(Q!==_||Z!==a)&&(uk=null,Kk(_,a));do try{Tk();break}catch(et){Mk(_,et)}while(!0);if($g(),K$6=$,mk.current=j,Y!==null)throw Error(p$2(261));return Q=null,Z=0,T}function Tk(){for(;Y!==null;)Uk(Y)}function Lk(){for(;Y!==null&&!cc();)Uk(Y)}function Uk(_){var a=Vk(_.alternate,_,fj);_.memoizedProps=_.pendingProps,a===null?Sk(_):Y=a,nk.current=null}function Sk(_){var a=_;do{var $=a.alternate;if(_=a.return,a.flags&32768){if($=Ij($,a),$!==null){$.flags&=32767,Y=$;return}if(_!==null)_.flags|=32768,_.subtreeFlags=0,_.deletions=null;else{T=6,Y=null;return}}else if($=Ej($,a,fj),$!==null){Y=$;return}if(a=a.sibling,a!==null){Y=a;return}Y=a=_}while(a!==null);T===0&&(T=5)}function Pk(_,a,$){var j=C,et=ok$1.transition;try{ok$1.transition=null,C=1,Wk(_,a,$,j)}finally{ok$1.transition=et,C=j}return null}function Wk(_,a,$,j){do Hk();while(wk!==null);if(K$6&6)throw Error(p$2(327));$=_.finishedWork;var et=_.finishedLanes;if($===null)return null;if(_.finishedWork=null,_.finishedLanes=0,$===_.current)throw Error(p$2(177));_.callbackNode=null,_.callbackPriority=0;var tt=$.lanes|$.childLanes;if(Bc(_,tt),_===Q&&(Y=Q=null,Z=0),!($.subtreeFlags&2064)&&!($.flags&2064)||vk||(vk=!0,Fk(hc,function(){return Hk(),null})),tt=($.flags&15990)!==0,$.subtreeFlags&15990||tt){tt=ok$1.transition,ok$1.transition=null;var rt=C;C=1;var nt=K$6;K$6|=4,nk.current=null,Oj(_,$),dk($,_),Oe(Df),dd=!!Cf,Df=Cf=null,_.current=$,hk($),dc(),K$6=nt,C=rt,ok$1.transition=tt}else _.current=$;if(vk&&(vk=!1,wk=_,xk=et),tt=_.pendingLanes,tt===0&&(Ri=null),mc($.stateNode),Dk(_,B()),a!==null)for(j=_.onRecoverableError,$=0;$<a.length;$++)et=a[$],j(et.value,{componentStack:et.stack,digest:et.digest});if(Oi)throw Oi=!1,_=Pi,Pi=null,_;return xk&1&&_.tag!==0&&Hk(),tt=_.pendingLanes,tt&1?_===zk?yk++:(yk=0,zk=_):yk=0,jg(),null}function Hk(){if(wk!==null){var _=Dc(xk),a=ok$1.transition,$=C;try{if(ok$1.transition=null,C=16>_?16:_,wk===null)var j=!1;else{if(_=wk,wk=null,xk=0,K$6&6)throw Error(p$2(331));var et=K$6;for(K$6|=4,V=_.current;V!==null;){var tt=V,rt=tt.child;if(V.flags&16){var nt=tt.deletions;if(nt!==null){for(var it=0;it<nt.length;it++){var ot=nt[it];for(V=ot;V!==null;){var st=V;switch(st.tag){case 0:case 11:case 15:Pj(8,st,tt)}var ct=st.child;if(ct!==null)ct.return=st,V=ct;else for(;V!==null;){st=V;var ut=st.sibling,ht=st.return;if(Sj(st),st===ot){V=null;break}if(ut!==null){ut.return=ht,V=ut;break}V=ht}}}var Et=tt.alternate;if(Et!==null){var St=Et.child;if(St!==null){Et.child=null;do{var Mt=St.sibling;St.sibling=null,St=Mt}while(St!==null)}}V=tt}}if(tt.subtreeFlags&2064&&rt!==null)rt.return=tt,V=rt;else e:for(;V!==null;){if(tt=V,tt.flags&2048)switch(tt.tag){case 0:case 11:case 15:Pj(9,tt,tt.return)}var kt=tt.sibling;if(kt!==null){kt.return=tt.return,V=kt;break e}V=tt.return}}var Ct=_.current;for(V=Ct;V!==null;){rt=V;var Ot=rt.child;if(rt.subtreeFlags&2064&&Ot!==null)Ot.return=rt,V=Ot;else e:for(rt=Ct;V!==null;){if(nt=V,nt.flags&2048)try{switch(nt.tag){case 0:case 11:case 15:Qj(9,nt)}}catch(Ut){W$6(nt,nt.return,Ut)}if(nt===rt){V=null;break e}var zt=nt.sibling;if(zt!==null){zt.return=nt.return,V=zt;break e}V=nt.return}}if(K$6=et,jg(),lc&&typeof lc.onPostCommitFiberRoot=="function")try{lc.onPostCommitFiberRoot(kc,_)}catch{}j=!0}return j}finally{C=$,ok$1.transition=a}}return!1}function Xk(_,a,$){a=Ji($,a),a=Ni(_,a,1),_=nh(_,a,1),a=R$1(),_!==null&&(Ac(_,1,a),Dk(_,a))}function W$6(_,a,$){if(_.tag===3)Xk(_,_,$);else for(;a!==null;){if(a.tag===3){Xk(a,_,$);break}else if(a.tag===1){var j=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof j.componentDidCatch=="function"&&(Ri===null||!Ri.has(j))){_=Ji($,_),_=Qi(a,_,1),a=nh(a,_,1),_=R$1(),a!==null&&(Ac(a,1,_),Dk(a,_));break}}a=a.return}}function Ti(_,a,$){var j=_.pingCache;j!==null&&j.delete(a),a=R$1(),_.pingedLanes|=_.suspendedLanes&$,Q===_&&(Z&$)===$&&(T===4||T===3&&(Z&130023424)===Z&&500>B()-fk?Kk(_,0):rk|=$),Dk(_,a)}function Yk(_,a){a===0&&(_.mode&1?(a=sc,sc<<=1,!(sc&130023424)&&(sc=4194304)):a=1);var $=R$1();_=ih(_,a),_!==null&&(Ac(_,a,$),Dk(_,$))}function uj(_){var a=_.memoizedState,$=0;a!==null&&($=a.retryLane),Yk(_,$)}function bk(_,a){var $=0;switch(_.tag){case 13:var j=_.stateNode,et=_.memoizedState;et!==null&&($=et.retryLane);break;case 19:j=_.stateNode;break;default:throw Error(p$2(314))}j!==null&&j.delete(a),Yk(_,$)}var Vk;Vk=function(_,a,$){if(_!==null)if(_.memoizedProps!==a.pendingProps||Wf.current)dh$1=!0;else{if(!(_.lanes&$)&&!(a.flags&128))return dh$1=!1,yj(_,a,$);dh$1=!!(_.flags&131072)}else dh$1=!1,I&&a.flags&1048576&&ug(a,ng,a.index);switch(a.lanes=0,a.tag){case 2:var j=a.type;ij(_,a),_=a.pendingProps;var et=Yf(a,H$1.current);ch$1(a,$),et=Nh(null,a,j,_,et,$);var tt=Sh();return a.flags|=1,typeof et=="object"&&et!==null&&typeof et.render=="function"&&et.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,Zf(j)?(tt=!0,cg(a)):tt=!1,a.memoizedState=et.state!==null&&et.state!==void 0?et.state:null,kh(a),et.updater=Ei,a.stateNode=et,et._reactInternals=a,Ii(a,j,_,$),a=jj(null,a,j,!0,tt,$)):(a.tag=0,I&&tt&&vg(a),Xi(null,a,et,$),a=a.child),a;case 16:j=a.elementType;e:{switch(ij(_,a),_=a.pendingProps,et=j._init,j=et(j._payload),a.type=j,et=a.tag=Zk(j),_=Ci(j,_),et){case 0:a=cj(null,a,j,_,$);break e;case 1:a=hj(null,a,j,_,$);break e;case 11:a=Yi(null,a,j,_,$);break e;case 14:a=$i(null,a,j,Ci(j.type,_),$);break e}throw Error(p$2(306,j,""))}return a;case 0:return j=a.type,et=a.pendingProps,et=a.elementType===j?et:Ci(j,et),cj(_,a,j,et,$);case 1:return j=a.type,et=a.pendingProps,et=a.elementType===j?et:Ci(j,et),hj(_,a,j,et,$);case 3:e:{if(kj(a),_===null)throw Error(p$2(387));j=a.pendingProps,tt=a.memoizedState,et=tt.element,lh(_,a),qh(a,j,null,$);var rt=a.memoizedState;if(j=rt.element,tt.isDehydrated)if(tt={element:j,isDehydrated:!1,cache:rt.cache,pendingSuspenseBoundaries:rt.pendingSuspenseBoundaries,transitions:rt.transitions},a.updateQueue.baseState=tt,a.memoizedState=tt,a.flags&256){et=Ji(Error(p$2(423)),a),a=lj(_,a,j,$,et);break e}else if(j!==et){et=Ji(Error(p$2(424)),a),a=lj(_,a,j,$,et);break e}else for(yg=Lf(a.stateNode.containerInfo.firstChild),xg=a,I=!0,zg=null,$=Vg(a,null,j,$),a.child=$;$;)$.flags=$.flags&-3|4096,$=$.sibling;else{if(Ig(),j===et){a=Zi(_,a,$);break e}Xi(_,a,j,$)}a=a.child}return a;case 5:return Ah(a),_===null&&Eg(a),j=a.type,et=a.pendingProps,tt=_!==null?_.memoizedProps:null,rt=et.children,Ef(j,et)?rt=null:tt!==null&&Ef(j,tt)&&(a.flags|=32),gj(_,a),Xi(_,a,rt,$),a.child;case 6:return _===null&&Eg(a),null;case 13:return oj(_,a,$);case 4:return yh(a,a.stateNode.containerInfo),j=a.pendingProps,_===null?a.child=Ug(a,null,j,$):Xi(_,a,j,$),a.child;case 11:return j=a.type,et=a.pendingProps,et=a.elementType===j?et:Ci(j,et),Yi(_,a,j,et,$);case 7:return Xi(_,a,a.pendingProps,$),a.child;case 8:return Xi(_,a,a.pendingProps.children,$),a.child;case 12:return Xi(_,a,a.pendingProps.children,$),a.child;case 10:e:{if(j=a.type._context,et=a.pendingProps,tt=a.memoizedProps,rt=et.value,G(Wg,j._currentValue),j._currentValue=rt,tt!==null)if(He(tt.value,rt)){if(tt.children===et.children&&!Wf.current){a=Zi(_,a,$);break e}}else for(tt=a.child,tt!==null&&(tt.return=a);tt!==null;){var nt=tt.dependencies;if(nt!==null){rt=tt.child;for(var it=nt.firstContext;it!==null;){if(it.context===j){if(tt.tag===1){it=mh(-1,$&-$),it.tag=2;var ot=tt.updateQueue;if(ot!==null){ot=ot.shared;var st=ot.pending;st===null?it.next=it:(it.next=st.next,st.next=it),ot.pending=it}}tt.lanes|=$,it=tt.alternate,it!==null&&(it.lanes|=$),bh(tt.return,$,a),nt.lanes|=$;break}it=it.next}}else if(tt.tag===10)rt=tt.type===a.type?null:tt.child;else if(tt.tag===18){if(rt=tt.return,rt===null)throw Error(p$2(341));rt.lanes|=$,nt=rt.alternate,nt!==null&&(nt.lanes|=$),bh(rt,$,a),rt=tt.sibling}else rt=tt.child;if(rt!==null)rt.return=tt;else for(rt=tt;rt!==null;){if(rt===a){rt=null;break}if(tt=rt.sibling,tt!==null){tt.return=rt.return,rt=tt;break}rt=rt.return}tt=rt}Xi(_,a,et.children,$),a=a.child}return a;case 9:return et=a.type,j=a.pendingProps.children,ch$1(a,$),et=eh(et),j=j(et),a.flags|=1,Xi(_,a,j,$),a.child;case 14:return j=a.type,et=Ci(j,a.pendingProps),et=Ci(j.type,et),$i(_,a,j,et,$);case 15:return bj(_,a,a.type,a.pendingProps,$);case 17:return j=a.type,et=a.pendingProps,et=a.elementType===j?et:Ci(j,et),ij(_,a),a.tag=1,Zf(j)?(_=!0,cg(a)):_=!1,ch$1(a,$),Gi(a,j,et),Ii(a,j,et,$),jj(null,a,j,!0,_,$);case 19:return xj(_,a,$);case 22:return dj(_,a,$)}throw Error(p$2(156,a.tag))};function Fk(_,a){return ac(_,a)}function $k(_,a,$,j){this.tag=_,this.key=$,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=j,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bg(_,a,$,j){return new $k(_,a,$,j)}function aj(_){return _=_.prototype,!(!_||!_.isReactComponent)}function Zk(_){if(typeof _=="function")return aj(_)?1:0;if(_!=null){if(_=_.$$typeof,_===Da)return 11;if(_===Ga)return 14}return 2}function Pg(_,a){var $=_.alternate;return $===null?($=Bg(_.tag,a,_.key,_.mode),$.elementType=_.elementType,$.type=_.type,$.stateNode=_.stateNode,$.alternate=_,_.alternate=$):($.pendingProps=a,$.type=_.type,$.flags=0,$.subtreeFlags=0,$.deletions=null),$.flags=_.flags&14680064,$.childLanes=_.childLanes,$.lanes=_.lanes,$.child=_.child,$.memoizedProps=_.memoizedProps,$.memoizedState=_.memoizedState,$.updateQueue=_.updateQueue,a=_.dependencies,$.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},$.sibling=_.sibling,$.index=_.index,$.ref=_.ref,$}function Rg(_,a,$,j,et,tt){var rt=2;if(j=_,typeof _=="function")aj(_)&&(rt=1);else if(typeof _=="string")rt=5;else e:switch(_){case ya:return Tg($.children,et,tt,a);case za:rt=8,et|=8;break;case Aa:return _=Bg(12,$,a,et|2),_.elementType=Aa,_.lanes=tt,_;case Ea:return _=Bg(13,$,a,et),_.elementType=Ea,_.lanes=tt,_;case Fa:return _=Bg(19,$,a,et),_.elementType=Fa,_.lanes=tt,_;case Ia:return pj($,et,tt,a);default:if(typeof _=="object"&&_!==null)switch(_.$$typeof){case Ba:rt=10;break e;case Ca:rt=9;break e;case Da:rt=11;break e;case Ga:rt=14;break e;case Ha:rt=16,j=null;break e}throw Error(p$2(130,_==null?_:typeof _,""))}return a=Bg(rt,$,a,et),a.elementType=_,a.type=j,a.lanes=tt,a}function Tg(_,a,$,j){return _=Bg(7,_,j,a),_.lanes=$,_}function pj(_,a,$,j){return _=Bg(22,_,j,a),_.elementType=Ia,_.lanes=$,_.stateNode={isHidden:!1},_}function Qg(_,a,$){return _=Bg(6,_,null,a),_.lanes=$,_}function Sg(_,a,$){return a=Bg(4,_.children!==null?_.children:[],_.key,a),a.lanes=$,a.stateNode={containerInfo:_.containerInfo,pendingChildren:null,implementation:_.implementation},a}function al(_,a,$,j,et){this.tag=a,this.containerInfo=_,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc(0),this.expirationTimes=zc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc(0),this.identifierPrefix=j,this.onRecoverableError=et,this.mutableSourceEagerHydrationData=null}function bl(_,a,$,j,et,tt,rt,nt,it){return _=new al(_,a,$,nt,it),a===1?(a=1,tt===!0&&(a|=8)):a=0,tt=Bg(3,null,null,a),_.current=tt,tt.stateNode=_,tt.memoizedState={element:j,isDehydrated:$,cache:null,transitions:null,pendingSuspenseBoundaries:null},kh(tt),_}function cl(_,a,$){var j=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wa,key:j==null?null:""+j,children:_,containerInfo:a,implementation:$}}function dl(_){if(!_)return Vf;_=_._reactInternals;e:{if(Vb(_)!==_||_.tag!==1)throw Error(p$2(170));var a=_;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(Zf(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(p$2(171))}if(_.tag===1){var $=_.type;if(Zf($))return bg(_,$,a)}return a}function el(_,a,$,j,et,tt,rt,nt,it){return _=bl($,j,!0,_,et,tt,rt,nt,it),_.context=dl(null),$=_.current,j=R$1(),et=yi($),tt=mh(j,et),tt.callback=a??null,nh($,tt,et),_.current.lanes=et,Ac(_,et,j),Dk(_,j),_}function fl(_,a,$,j){var et=a.current,tt=R$1(),rt=yi(et);return $=dl($),a.context===null?a.context=$:a.pendingContext=$,a=mh(tt,rt),a.payload={element:_},j=j===void 0?null:j,j!==null&&(a.callback=j),_=nh(et,a,rt),_!==null&&(gi(_,et,rt,tt),oh(_,et,rt)),rt}function gl(_){if(_=_.current,!_.child)return null;switch(_.child.tag){case 5:return _.child.stateNode;default:return _.child.stateNode}}function hl$1(_,a){if(_=_.memoizedState,_!==null&&_.dehydrated!==null){var $=_.retryLane;_.retryLane=$!==0&&$<a?$:a}}function il(_,a){hl$1(_,a),(_=_.alternate)&&hl$1(_,a)}function jl(){return null}var kl=typeof reportError=="function"?reportError:function(_){console.error(_)};function ll(_){this._internalRoot=_}ml.prototype.render=ll.prototype.render=function(_){var a=this._internalRoot;if(a===null)throw Error(p$2(409));fl(_,a,null,null)};ml.prototype.unmount=ll.prototype.unmount=function(){var _=this._internalRoot;if(_!==null){this._internalRoot=null;var a=_.containerInfo;Rk(function(){fl(null,_,null,null)}),a[uf]=null}};function ml(_){this._internalRoot=_}ml.prototype.unstable_scheduleHydration=function(_){if(_){var a=Hc();_={blockedOn:null,target:_,priority:a};for(var $=0;$<Qc.length&&a!==0&&a<Qc[$].priority;$++);Qc.splice($,0,_),$===0&&Vc(_)}};function nl(_){return!(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)}function ol(_){return!(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11&&(_.nodeType!==8||_.nodeValue!==" react-mount-point-unstable "))}function pl(){}function ql(_,a,$,j,et){if(et){if(typeof j=="function"){var tt=j;j=function(){var ot=gl(rt);tt.call(ot)}}var rt=el(a,j,_,0,null,!1,!1,"",pl);return _._reactRootContainer=rt,_[uf]=rt.current,sf(_.nodeType===8?_.parentNode:_),Rk(),rt}for(;et=_.lastChild;)_.removeChild(et);if(typeof j=="function"){var nt=j;j=function(){var ot=gl(it);nt.call(ot)}}var it=bl(_,0,!1,null,null,!1,!1,"",pl);return _._reactRootContainer=it,_[uf]=it.current,sf(_.nodeType===8?_.parentNode:_),Rk(function(){fl(a,it,$,j)}),it}function rl(_,a,$,j,et){var tt=$._reactRootContainer;if(tt){var rt=tt;if(typeof et=="function"){var nt=et;et=function(){var it=gl(rt);nt.call(it)}}fl(a,rt,_,et)}else rt=ql($,a,_,et,j);return gl(rt)}Ec=function(_){switch(_.tag){case 3:var a=_.stateNode;if(a.current.memoizedState.isDehydrated){var $=tc(a.pendingLanes);$!==0&&(Cc(a,$|1),Dk(a,B()),!(K$6&6)&&(Gj=B()+500,jg()))}break;case 13:Rk(function(){var j=ih(_,1);if(j!==null){var et=R$1();gi(j,_,1,et)}}),il(_,1)}};Fc=function(_){if(_.tag===13){var a=ih(_,134217728);if(a!==null){var $=R$1();gi(a,_,134217728,$)}il(_,134217728)}};Gc=function(_){if(_.tag===13){var a=yi(_),$=ih(_,a);if($!==null){var j=R$1();gi($,_,a,j)}il(_,a)}};Hc=function(){return C};Ic=function(_,a){var $=C;try{return C=_,a()}finally{C=$}};yb=function(_,a,$){switch(a){case"input":if(bb(_,$),a=$.name,$.type==="radio"&&a!=null){for($=_;$.parentNode;)$=$.parentNode;for($=$.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<$.length;a++){var j=$[a];if(j!==_&&j.form===_.form){var et=Db(j);if(!et)throw Error(p$2(90));Wa(j),bb(j,et)}}}break;case"textarea":ib(_,$);break;case"select":a=$.value,a!=null&&fb(_,!!$.multiple,a,!1)}};Gb=Qk;Hb=Rk;var sl$1={usingClientEntryPoint:!1,Events:[Cb,ue,Db,Eb,Fb,Qk]},tl={findFiberByHostInstance:Wc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ul={bundleType:tl.bundleType,version:tl.version,rendererPackageName:tl.rendererPackageName,rendererConfig:tl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua.ReactCurrentDispatcher,findHostInstanceByFiber:function(_){return _=Zb(_),_===null?null:_.stateNode},findFiberByHostInstance:tl.findFiberByHostInstance||jl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vl.isDisabled&&vl.supportsFiber)try{kc=vl.inject(ul),lc=vl}catch{}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sl$1;reactDom_production_min.createPortal=function(_,a){var $=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!nl(a))throw Error(p$2(200));return cl(_,a,null,$)};reactDom_production_min.createRoot=function(_,a){if(!nl(_))throw Error(p$2(299));var $=!1,j="",et=kl;return a!=null&&(a.unstable_strictMode===!0&&($=!0),a.identifierPrefix!==void 0&&(j=a.identifierPrefix),a.onRecoverableError!==void 0&&(et=a.onRecoverableError)),a=bl(_,1,!1,null,null,$,!1,j,et),_[uf]=a.current,sf(_.nodeType===8?_.parentNode:_),new ll(a)};reactDom_production_min.findDOMNode=function(_){if(_==null)return null;if(_.nodeType===1)return _;var a=_._reactInternals;if(a===void 0)throw typeof _.render=="function"?Error(p$2(188)):(_=Object.keys(_).join(","),Error(p$2(268,_)));return _=Zb(a),_=_===null?null:_.stateNode,_};reactDom_production_min.flushSync=function(_){return Rk(_)};reactDom_production_min.hydrate=function(_,a,$){if(!ol(a))throw Error(p$2(200));return rl(null,_,a,!0,$)};reactDom_production_min.hydrateRoot=function(_,a,$){if(!nl(_))throw Error(p$2(405));var j=$!=null&&$.hydratedSources||null,et=!1,tt="",rt=kl;if($!=null&&($.unstable_strictMode===!0&&(et=!0),$.identifierPrefix!==void 0&&(tt=$.identifierPrefix),$.onRecoverableError!==void 0&&(rt=$.onRecoverableError)),a=el(a,null,_,1,$??null,et,!1,tt,rt),_[uf]=a.current,sf(_),j)for(_=0;_<j.length;_++)$=j[_],et=$._getVersion,et=et($._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[$,et]:a.mutableSourceEagerHydrationData.push($,et);return new ml(a)};reactDom_production_min.render=function(_,a,$){if(!ol(a))throw Error(p$2(200));return rl(null,_,a,!1,$)};reactDom_production_min.unmountComponentAtNode=function(_){if(!ol(_))throw Error(p$2(40));return _._reactRootContainer?(Rk(function(){rl(null,null,_,!1,function(){_._reactRootContainer=null,_[uf]=null})}),!0):!1};reactDom_production_min.unstable_batchedUpdates=Qk;reactDom_production_min.unstable_renderSubtreeIntoContainer=function(_,a,$,j){if(!ol($))throw Error(p$2(200));if(_==null||_._reactInternals===void 0)throw Error(p$2(38));return rl(_,a,$,!1,j)};reactDom_production_min.version="18.3.1-next-f1338f8080-20240426";function checkDCE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE)}catch(_){console.error(_)}}checkDCE(),reactDom.exports=reactDom_production_min;var reactDomExports=reactDom.exports,m$3=reactDomExports;client.createRoot=m$3.createRoot,client.hydrateRoot=m$3.hydrateRoot;const ErrorBoundaryContext=reactExports.createContext(null),initialState$c={didCatch:!1,error:null};class ErrorBoundary extends reactExports.Component{constructor(a){super(a),this.resetErrorBoundary=this.resetErrorBoundary.bind(this),this.state=initialState$c}static getDerivedStateFromError(a){return{didCatch:!0,error:a}}resetErrorBoundary(){const{error:a}=this.state;if(a!==null){for(var $,j,et=arguments.length,tt=new Array(et),rt=0;rt<et;rt++)tt[rt]=arguments[rt];($=(j=this.props).onReset)===null||$===void 0||$.call(j,{args:tt,reason:"imperative-api"}),this.setState(initialState$c)}}componentDidCatch(a,$){var j,et;(j=(et=this.props).onError)===null||j===void 0||j.call(et,a,$)}componentDidUpdate(a,$){const{didCatch:j}=this.state,{resetKeys:et}=this.props;if(j&&$.error!==null&&hasArrayChanged(a.resetKeys,et)){var tt,rt;(tt=(rt=this.props).onReset)===null||tt===void 0||tt.call(rt,{next:et,prev:a.resetKeys,reason:"keys"}),this.setState(initialState$c)}}render(){const{children:a,fallbackRender:$,FallbackComponent:j,fallback:et}=this.props,{didCatch:tt,error:rt}=this.state;let nt=a;if(tt){const it={error:rt,resetErrorBoundary:this.resetErrorBoundary};if(typeof $=="function")nt=$(it);else if(j)nt=reactExports.createElement(j,it);else if(et===null||reactExports.isValidElement(et))nt=et;else throw rt}return reactExports.createElement(ErrorBoundaryContext.Provider,{value:{didCatch:tt,error:rt,resetErrorBoundary:this.resetErrorBoundary}},nt)}}function hasArrayChanged(){let _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return _.length!==a.length||_.some(($,j)=>!Object.is($,a[j]))}function _typeof$7(_){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$7=function($){return typeof $}:_typeof$7=function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $},_typeof$7(_)}function _classCallCheck$2(_,a){if(!(_ instanceof a))throw new TypeError("Cannot call a class as a function")}function _defineProperties$2(_,a){for(var $=0;$<a.length;$++){var j=a[$];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(_,j.key,j)}}function _createClass$2(_,a,$){return a&&_defineProperties$2(_.prototype,a),_}function _possibleConstructorReturn$2(_,a){return a&&(_typeof$7(a)==="object"||typeof a=="function")?a:_assertThisInitialized$2(_)}function _getPrototypeOf$2(_){return _getPrototypeOf$2=Object.setPrototypeOf?Object.getPrototypeOf:function($){return $.__proto__||Object.getPrototypeOf($)},_getPrototypeOf$2(_)}function _assertThisInitialized$2(_){if(_===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _}function _inherits$2(_,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");_.prototype=Object.create(a&&a.prototype,{constructor:{value:_,writable:!0,configurable:!0}}),a&&_setPrototypeOf$3(_,a)}function _setPrototypeOf$3(_,a){return _setPrototypeOf$3=Object.setPrototypeOf||function(j,et){return j.__proto__=et,j},_setPrototypeOf$3(_,a)}function _defineProperty$9(_,a,$){return a in _?Object.defineProperty(_,a,{value:$,enumerable:!0,configurable:!0,writable:!0}):_[a]=$,_}var PersistGate=function(_){_inherits$2(a,_);function a(){var $,j;_classCallCheck$2(this,a);for(var et=arguments.length,tt=new Array(et),rt=0;rt<et;rt++)tt[rt]=arguments[rt];return j=_possibleConstructorReturn$2(this,($=_getPrototypeOf$2(a)).call.apply($,[this].concat(tt))),_defineProperty$9(_assertThisInitialized$2(j),"state",{bootstrapped:!1}),_defineProperty$9(_assertThisInitialized$2(j),"_unsubscribe",void 0),_defineProperty$9(_assertThisInitialized$2(j),"handlePersistorState",function(){var nt=j.props.persistor,it=nt.getState(),ot=it.bootstrapped;ot&&(j.props.onBeforeLift?Promise.resolve(j.props.onBeforeLift()).finally(function(){return j.setState({bootstrapped:!0})}):j.setState({bootstrapped:!0}),j._unsubscribe&&j._unsubscribe())}),j}return _createClass$2(a,[{key:"componentDidMount",value:function(){this._unsubscribe=this.props.persistor.subscribe(this.handlePersistorState),this.handlePersistorState()}},{key:"componentWillUnmount",value:function(){this._unsubscribe&&this._unsubscribe()}},{key:"render",value:function(){return typeof this.props.children=="function"?this.props.children(this.state.bootstrapped):this.state.bootstrapped?this.props.children:this.props.loading}}]),a}(reactExports.PureComponent);_defineProperty$9(PersistGate,"defaultProps",{children:null,loading:null});const global$1=globalThis||void 0||self;function sheetForTag(_){if(_.sheet)return _.sheet;for(var a=0;a<document.styleSheets.length;a++)if(document.styleSheets[a].ownerNode===_)return document.styleSheets[a]}function createStyleElement(_){var a=document.createElement("style");return a.setAttribute("data-emotion",_.key),_.nonce!==void 0&&a.setAttribute("nonce",_.nonce),a.appendChild(document.createTextNode("")),a.setAttribute("data-s",""),a}var StyleSheet=function(){function _($){var j=this;this._insertTag=function(et){var tt;j.tags.length===0?j.insertionPoint?tt=j.insertionPoint.nextSibling:j.prepend?tt=j.container.firstChild:tt=j.before:tt=j.tags[j.tags.length-1].nextSibling,j.container.insertBefore(et,tt),j.tags.push(et)},this.isSpeedy=$.speedy===void 0?!0:$.speedy,this.tags=[],this.ctr=0,this.nonce=$.nonce,this.key=$.key,this.container=$.container,this.prepend=$.prepend,this.insertionPoint=$.insertionPoint,this.before=null}var a=_.prototype;return a.hydrate=function(j){j.forEach(this._insertTag)},a.insert=function(j){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(createStyleElement(this));var et=this.tags[this.tags.length-1];if(this.isSpeedy){var tt=sheetForTag(et);try{tt.insertRule(j,tt.cssRules.length)}catch{}}else et.appendChild(document.createTextNode(j));this.ctr++},a.flush=function(){this.tags.forEach(function(j){return j.parentNode&&j.parentNode.removeChild(j)}),this.tags=[],this.ctr=0},_}(),MS="-ms-",MOZ="-moz-",WEBKIT="-webkit-",COMMENT="comm",RULESET="rule",DECLARATION="decl",IMPORT="@import",KEYFRAMES="@keyframes",LAYER="@layer",abs=Math.abs,from$1=String.fromCharCode,assign$1=Object.assign;function hash$a(_,a){return charat(_,0)^45?(((a<<2^charat(_,0))<<2^charat(_,1))<<2^charat(_,2))<<2^charat(_,3):0}function trim$1(_){return _.trim()}function match$1(_,a){return(_=a.exec(_))?_[0]:_}function replace(_,a,$){return _.replace(a,$)}function indexof(_,a){return _.indexOf(a)}function charat(_,a){return _.charCodeAt(a)|0}function substr(_,a,$){return _.slice(a,$)}function strlen(_){return _.length}function sizeof(_){return _.length}function append(_,a){return a.push(_),_}function combine(_,a){return _.map(a).join("")}var line=1,column=1,length$1=0,position$1=0,character=0,characters="";function node$3(_,a,$,j,et,tt,rt){return{value:_,root:a,parent:$,type:j,props:et,children:tt,line,column,length:rt,return:""}}function copy(_,a){return assign$1(node$3("",null,null,"",null,null,0),_,{length:-_.length},a)}function char(){return character}function prev$1(){return character=position$1>0?charat(characters,--position$1):0,column--,character===10&&(column=1,line--),character}function next(){return character=position$1<length$1?charat(characters,position$1++):0,column++,character===10&&(column=1,line++),character}function peek$1(){return charat(characters,position$1)}function caret(){return position$1}function slice$1(_,a){return substr(characters,_,a)}function token(_){switch(_){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function alloc(_){return line=column=1,length$1=strlen(characters=_),position$1=0,[]}function dealloc(_){return characters="",_}function delimit(_){return trim$1(slice$1(position$1-1,delimiter(_===91?_+2:_===40?_+1:_)))}function whitespace(_){for(;(character=peek$1())&&character<33;)next();return token(_)>2||token(character)>3?"":" "}function escaping(_,a){for(;--a&&next()&&!(character<48||character>102||character>57&&character<65||character>70&&character<97););return slice$1(_,caret()+(a<6&&peek$1()==32&&next()==32))}function delimiter(_){for(;next();)switch(character){case _:return position$1;case 34:case 39:_!==34&&_!==39&&delimiter(character);break;case 40:_===41&&delimiter(_);break;case 92:next();break}return position$1}function commenter(_,a){for(;next()&&_+character!==57;)if(_+character===84&&peek$1()===47)break;return"/*"+slice$1(a,position$1-1)+"*"+from$1(_===47?_:next())}function identifier(_){for(;!token(peek$1());)next();return slice$1(_,position$1)}function compile(_){return dealloc(parse$b("",null,null,null,[""],_=alloc(_),0,[0],_))}function parse$b(_,a,$,j,et,tt,rt,nt,it){for(var ot=0,st=0,ct=rt,ut=0,ht=0,Et=0,St=1,Mt=1,kt=1,Ct=0,Ot="",zt=et,Ut=tt,Vt=j,jt=Ot;Mt;)switch(Et=Ct,Ct=next()){case 40:if(Et!=108&&charat(jt,ct-1)==58){indexof(jt+=replace(delimit(Ct),"&","&\f"),"&\f")!=-1&&(kt=-1);break}case 34:case 39:case 91:jt+=delimit(Ct);break;case 9:case 10:case 13:case 32:jt+=whitespace(Et);break;case 92:jt+=escaping(caret()-1,7);continue;case 47:switch(peek$1()){case 42:case 47:append(comment(commenter(next(),caret()),a,$),it);break;default:jt+="/"}break;case 123*St:nt[ot++]=strlen(jt)*kt;case 125*St:case 59:case 0:switch(Ct){case 0:case 125:Mt=0;case 59+st:kt==-1&&(jt=replace(jt,/\f/g,"")),ht>0&&strlen(jt)-ct&&append(ht>32?declaration(jt+";",j,$,ct-1):declaration(replace(jt," ","")+";",j,$,ct-2),it);break;case 59:jt+=";";default:if(append(Vt=ruleset(jt,a,$,ot,st,et,nt,Ot,zt=[],Ut=[],ct),tt),Ct===123)if(st===0)parse$b(jt,a,Vt,Vt,zt,tt,ct,nt,Ut);else switch(ut===99&&charat(jt,3)===110?100:ut){case 100:case 108:case 109:case 115:parse$b(_,Vt,Vt,j&&append(ruleset(_,Vt,Vt,0,0,et,nt,Ot,et,zt=[],ct),Ut),et,Ut,ct,nt,j?zt:Ut);break;default:parse$b(jt,Vt,Vt,Vt,[""],Ut,0,nt,Ut)}}ot=st=ht=0,St=kt=1,Ot=jt="",ct=rt;break;case 58:ct=1+strlen(jt),ht=Et;default:if(St<1){if(Ct==123)--St;else if(Ct==125&&St++==0&&prev$1()==125)continue}switch(jt+=from$1(Ct),Ct*St){case 38:kt=st>0?1:(jt+="\f",-1);break;case 44:nt[ot++]=(strlen(jt)-1)*kt,kt=1;break;case 64:peek$1()===45&&(jt+=delimit(next())),ut=peek$1(),st=ct=strlen(Ot=jt+=identifier(caret())),Ct++;break;case 45:Et===45&&strlen(jt)==2&&(St=0)}}return tt}function ruleset(_,a,$,j,et,tt,rt,nt,it,ot,st){for(var ct=et-1,ut=et===0?tt:[""],ht=sizeof(ut),Et=0,St=0,Mt=0;Et<j;++Et)for(var kt=0,Ct=substr(_,ct+1,ct=abs(St=rt[Et])),Ot=_;kt<ht;++kt)(Ot=trim$1(St>0?ut[kt]+" "+Ct:replace(Ct,/&\f/g,ut[kt])))&&(it[Mt++]=Ot);return node$3(_,a,$,et===0?RULESET:nt,it,ot,st)}function comment(_,a,$){return node$3(_,a,$,COMMENT,from$1(char()),substr(_,2,-2),0)}function declaration(_,a,$,j){return node$3(_,a,$,DECLARATION,substr(_,0,j),substr(_,j+1,-1),j)}function serialize(_,a){for(var $="",j=sizeof(_),et=0;et<j;et++)$+=a(_[et],et,_,a)||"";return $}function stringify$3(_,a,$,j){switch(_.type){case LAYER:if(_.children.length)break;case IMPORT:case DECLARATION:return _.return=_.return||_.value;case COMMENT:return"";case KEYFRAMES:return _.return=_.value+"{"+serialize(_.children,j)+"}";case RULESET:_.value=_.props.join(",")}return strlen($=serialize(_.children,j))?_.return=_.value+"{"+$+"}":""}function middleware(_){var a=sizeof(_);return function($,j,et,tt){for(var rt="",nt=0;nt<a;nt++)rt+=_[nt]($,j,et,tt)||"";return rt}}function rulesheet(_){return function(a){a.root||(a=a.return)&&_(a)}}var weakMemoize=function(a){var $=new WeakMap;return function(j){if($.has(j))return $.get(j);var et=a(j);return $.set(j,et),et}};function memoize$2(_){var a=Object.create(null);return function($){return a[$]===void 0&&(a[$]=_($)),a[$]}}var identifierWithPointTracking=function(a,$,j){for(var et=0,tt=0;et=tt,tt=peek$1(),et===38&&tt===12&&($[j]=1),!token(tt);)next();return slice$1(a,position$1)},toRules=function(a,$){var j=-1,et=44;do switch(token(et)){case 0:et===38&&peek$1()===12&&($[j]=1),a[j]+=identifierWithPointTracking(position$1-1,$,j);break;case 2:a[j]+=delimit(et);break;case 4:if(et===44){a[++j]=peek$1()===58?"&\f":"",$[j]=a[j].length;break}default:a[j]+=from$1(et)}while(et=next());return a},getRules=function(a,$){return dealloc(toRules(alloc(a),$))},fixedElements=new WeakMap,compat=function(a){if(!(a.type!=="rule"||!a.parent||a.length<1)){for(var $=a.value,j=a.parent,et=a.column===j.column&&a.line===j.line;j.type!=="rule";)if(j=j.parent,!j)return;if(!(a.props.length===1&&$.charCodeAt(0)!==58&&!fixedElements.get(j))&&!et){fixedElements.set(a,!0);for(var tt=[],rt=getRules($,tt),nt=j.props,it=0,ot=0;it<rt.length;it++)for(var st=0;st<nt.length;st++,ot++)a.props[ot]=tt[it]?rt[it].replace(/&\f/g,nt[st]):nt[st]+" "+rt[it]}}},removeLabel=function(a){if(a.type==="decl"){var $=a.value;$.charCodeAt(0)===108&&$.charCodeAt(2)===98&&(a.return="",a.value="")}};function prefix$1(_,a){switch(hash$a(_,a)){case 5103:return WEBKIT+"print-"+_+_;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return WEBKIT+_+_;case 5349:case 4246:case 4810:case 6968:case 2756:return WEBKIT+_+MOZ+_+MS+_+_;case 6828:case 4268:return WEBKIT+_+MS+_+_;case 6165:return WEBKIT+_+MS+"flex-"+_+_;case 5187:return WEBKIT+_+replace(_,/(\w+).+(:[^]+)/,WEBKIT+"box-$1$2"+MS+"flex-$1$2")+_;case 5443:return WEBKIT+_+MS+"flex-item-"+replace(_,/flex-|-self/,"")+_;case 4675:return WEBKIT+_+MS+"flex-line-pack"+replace(_,/align-content|flex-|-self/,"")+_;case 5548:return WEBKIT+_+MS+replace(_,"shrink","negative")+_;case 5292:return WEBKIT+_+MS+replace(_,"basis","preferred-size")+_;case 6060:return WEBKIT+"box-"+replace(_,"-grow","")+WEBKIT+_+MS+replace(_,"grow","positive")+_;case 4554:return WEBKIT+replace(_,/([^-])(transform)/g,"$1"+WEBKIT+"$2")+_;case 6187:return replace(replace(replace(_,/(zoom-|grab)/,WEBKIT+"$1"),/(image-set)/,WEBKIT+"$1"),_,"")+_;case 5495:case 3959:return replace(_,/(image-set\([^]*)/,WEBKIT+"$1$`$1");case 4968:return replace(replace(_,/(.+:)(flex-)?(.*)/,WEBKIT+"box-pack:$3"+MS+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+WEBKIT+_+_;case 4095:case 3583:case 4068:case 2532:return replace(_,/(.+)-inline(.+)/,WEBKIT+"$1$2")+_;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(strlen(_)-1-a>6)switch(charat(_,a+1)){case 109:if(charat(_,a+4)!==45)break;case 102:return replace(_,/(.+:)(.+)-([^]+)/,"$1"+WEBKIT+"$2-$3$1"+MOZ+(charat(_,a+3)==108?"$3":"$2-$3"))+_;case 115:return~indexof(_,"stretch")?prefix$1(replace(_,"stretch","fill-available"),a)+_:_}break;case 4949:if(charat(_,a+1)!==115)break;case 6444:switch(charat(_,strlen(_)-3-(~indexof(_,"!important")&&10))){case 107:return replace(_,":",":"+WEBKIT)+_;case 101:return replace(_,/(.+:)([^;!]+)(;|!.+)?/,"$1"+WEBKIT+(charat(_,14)===45?"inline-":"")+"box$3$1"+WEBKIT+"$2$3$1"+MS+"$2box$3")+_}break;case 5936:switch(charat(_,a+11)){case 114:return WEBKIT+_+MS+replace(_,/[svh]\w+-[tblr]{2}/,"tb")+_;case 108:return WEBKIT+_+MS+replace(_,/[svh]\w+-[tblr]{2}/,"tb-rl")+_;case 45:return WEBKIT+_+MS+replace(_,/[svh]\w+-[tblr]{2}/,"lr")+_}return WEBKIT+_+MS+_+_}return _}var prefixer=function(a,$,j,et){if(a.length>-1&&!a.return)switch(a.type){case DECLARATION:a.return=prefix$1(a.value,a.length);break;case KEYFRAMES:return serialize([copy(a,{value:replace(a.value,"@","@"+WEBKIT)})],et);case RULESET:if(a.length)return combine(a.props,function(tt){switch(match$1(tt,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return serialize([copy(a,{props:[replace(tt,/:(read-\w+)/,":"+MOZ+"$1")]})],et);case"::placeholder":return serialize([copy(a,{props:[replace(tt,/:(plac\w+)/,":"+WEBKIT+"input-$1")]}),copy(a,{props:[replace(tt,/:(plac\w+)/,":"+MOZ+"$1")]}),copy(a,{props:[replace(tt,/:(plac\w+)/,MS+"input-$1")]})],et)}return""})}},defaultStylisPlugins=[prefixer],createCache=function(a){var $=a.key;if($==="css"){var j=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(j,function(St){var Mt=St.getAttribute("data-emotion");Mt.indexOf(" ")!==-1&&(document.head.appendChild(St),St.setAttribute("data-s",""))})}var et=a.stylisPlugins||defaultStylisPlugins,tt={},rt,nt=[];rt=a.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+$+' "]'),function(St){for(var Mt=St.getAttribute("data-emotion").split(" "),kt=1;kt<Mt.length;kt++)tt[Mt[kt]]=!0;nt.push(St)});var it,ot=[compat,removeLabel];{var st,ct=[stringify$3,rulesheet(function(St){st.insert(St)})],ut=middleware(ot.concat(et,ct)),ht=function(Mt){return serialize(compile(Mt),ut)};it=function(Mt,kt,Ct,Ot){st=Ct,ht(Mt?Mt+"{"+kt.styles+"}":kt.styles),Ot&&(Et.inserted[kt.name]=!0)}}var Et={key:$,sheet:new StyleSheet({key:$,container:rt,nonce:a.nonce,speedy:a.speedy,prepend:a.prepend,insertionPoint:a.insertionPoint}),nonce:a.nonce,inserted:tt,registered:{},insert:it};return Et.sheet.hydrate(nt),Et};function _extends$7(){return _extends$7=Object.assign?Object.assign.bind():function(_){for(var a=1;a<arguments.length;a++){var $=arguments[a];for(var j in $)({}).hasOwnProperty.call($,j)&&(_[j]=$[j])}return _},_extends$7.apply(null,arguments)}var reactIs$1={exports:{}},reactIs_production_min={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b=typeof Symbol=="function"&&Symbol.for,c=b?Symbol.for("react.element"):60103,d=b?Symbol.for("react.portal"):60106,e$2=b?Symbol.for("react.fragment"):60107,f$1=b?Symbol.for("react.strict_mode"):60108,g$3=b?Symbol.for("react.profiler"):60114,h=b?Symbol.for("react.provider"):60109,k=b?Symbol.for("react.context"):60110,l=b?Symbol.for("react.async_mode"):60111,m$2=b?Symbol.for("react.concurrent_mode"):60111,n$2=b?Symbol.for("react.forward_ref"):60112,p$1=b?Symbol.for("react.suspense"):60113,q$1=b?Symbol.for("react.suspense_list"):60120,r$4=b?Symbol.for("react.memo"):60115,t$6=b?Symbol.for("react.lazy"):60116,v$3=b?Symbol.for("react.block"):60121,w=b?Symbol.for("react.fundamental"):60117,x=b?Symbol.for("react.responder"):60118,y=b?Symbol.for("react.scope"):60119;function z$1(_){if(typeof _=="object"&&_!==null){var a=_.$$typeof;switch(a){case c:switch(_=_.type,_){case l:case m$2:case e$2:case g$3:case f$1:case p$1:return _;default:switch(_=_&&_.$$typeof,_){case k:case n$2:case t$6:case r$4:case h:return _;default:return a}}case d:return a}}}function A(_){return z$1(_)===m$2}reactIs_production_min.AsyncMode=l;reactIs_production_min.ConcurrentMode=m$2;reactIs_production_min.ContextConsumer=k;reactIs_production_min.ContextProvider=h;reactIs_production_min.Element=c;reactIs_production_min.ForwardRef=n$2;reactIs_production_min.Fragment=e$2;reactIs_production_min.Lazy=t$6;reactIs_production_min.Memo=r$4;reactIs_production_min.Portal=d;reactIs_production_min.Profiler=g$3;reactIs_production_min.StrictMode=f$1;reactIs_production_min.Suspense=p$1;reactIs_production_min.isAsyncMode=function(_){return A(_)||z$1(_)===l};reactIs_production_min.isConcurrentMode=A;reactIs_production_min.isContextConsumer=function(_){return z$1(_)===k};reactIs_production_min.isContextProvider=function(_){return z$1(_)===h};reactIs_production_min.isElement=function(_){return typeof _=="object"&&_!==null&&_.$$typeof===c};reactIs_production_min.isForwardRef=function(_){return z$1(_)===n$2};reactIs_production_min.isFragment=function(_){return z$1(_)===e$2};reactIs_production_min.isLazy=function(_){return z$1(_)===t$6};reactIs_production_min.isMemo=function(_){return z$1(_)===r$4};reactIs_production_min.isPortal=function(_){return z$1(_)===d};reactIs_production_min.isProfiler=function(_){return z$1(_)===g$3};reactIs_production_min.isStrictMode=function(_){return z$1(_)===f$1};reactIs_production_min.isSuspense=function(_){return z$1(_)===p$1};reactIs_production_min.isValidElementType=function(_){return typeof _=="string"||typeof _=="function"||_===e$2||_===m$2||_===g$3||_===f$1||_===p$1||_===q$1||typeof _=="object"&&_!==null&&(_.$$typeof===t$6||_.$$typeof===r$4||_.$$typeof===h||_.$$typeof===k||_.$$typeof===n$2||_.$$typeof===w||_.$$typeof===x||_.$$typeof===y||_.$$typeof===v$3)};reactIs_production_min.typeOf=z$1;reactIs$1.exports=reactIs_production_min;var reactIsExports=reactIs$1.exports,reactIs=reactIsExports,FORWARD_REF_STATICS={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},MEMO_STATICS={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},TYPE_STATICS={};TYPE_STATICS[reactIs.ForwardRef]=FORWARD_REF_STATICS;TYPE_STATICS[reactIs.Memo]=MEMO_STATICS;var isBrowser$3=!0;function getRegisteredStyles(_,a,$){var j="";return $.split(" ").forEach(function(et){_[et]!==void 0?a.push(_[et]+";"):j+=et+" "}),j}var registerStyles=function(a,$,j){var et=a.key+"-"+$.name;(j===!1||isBrowser$3===!1)&&a.registered[et]===void 0&&(a.registered[et]=$.styles)},insertStyles=function(a,$,j){registerStyles(a,$,j);var et=a.key+"-"+$.name;if(a.inserted[$.name]===void 0){var tt=$;do a.insert($===tt?"."+et:"",tt,a.sheet,!0),tt=tt.next;while(tt!==void 0)}};function murmur2(_){for(var a=0,$,j=0,et=_.length;et>=4;++j,et-=4)$=_.charCodeAt(j)&255|(_.charCodeAt(++j)&255)<<8|(_.charCodeAt(++j)&255)<<16|(_.charCodeAt(++j)&255)<<24,$=($&65535)*1540483477+(($>>>16)*59797<<16),$^=$>>>24,a=($&65535)*1540483477+(($>>>16)*59797<<16)^(a&65535)*1540483477+((a>>>16)*59797<<16);switch(et){case 3:a^=(_.charCodeAt(j+2)&255)<<16;case 2:a^=(_.charCodeAt(j+1)&255)<<8;case 1:a^=_.charCodeAt(j)&255,a=(a&65535)*1540483477+((a>>>16)*59797<<16)}return a^=a>>>13,a=(a&65535)*1540483477+((a>>>16)*59797<<16),((a^a>>>15)>>>0).toString(36)}var unitlessKeys={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},hyphenateRegex=/[A-Z]|^ms/g,animationRegex=/_EMO_([^_]+?)_([^]*?)_EMO_/g,isCustomProperty=function(a){return a.charCodeAt(1)===45},isProcessableValue=function(a){return a!=null&&typeof a!="boolean"},processStyleName=memoize$2(function(_){return isCustomProperty(_)?_:_.replace(hyphenateRegex,"-$&").toLowerCase()}),processStyleValue=function(a,$){switch(a){case"animation":case"animationName":if(typeof $=="string")return $.replace(animationRegex,function(j,et,tt){return cursor={name:et,styles:tt,next:cursor},et})}return unitlessKeys[a]!==1&&!isCustomProperty(a)&&typeof $=="number"&&$!==0?$+"px":$},noComponentSelectorMessage="Component selectors can only be used in conjunction with @emotion/babel-plugin, the swc Emotion plugin, or another Emotion-aware compiler transform.";function handleInterpolation(_,a,$){if($==null)return"";if($.__emotion_styles!==void 0)return $;switch(typeof $){case"boolean":return"";case"object":{if($.anim===1)return cursor={name:$.name,styles:$.styles,next:cursor},$.name;if($.styles!==void 0){var j=$.next;if(j!==void 0)for(;j!==void 0;)cursor={name:j.name,styles:j.styles,next:cursor},j=j.next;var et=$.styles+";";return et}return createStringFromObject(_,a,$)}case"function":{if(_!==void 0){var tt=cursor,rt=$(_);return cursor=tt,handleInterpolation(_,a,rt)}break}}if(a==null)return $;var nt=a[$];return nt!==void 0?nt:$}function createStringFromObject(_,a,$){var j="";if(Array.isArray($))for(var et=0;et<$.length;et++)j+=handleInterpolation(_,a,$[et])+";";else for(var tt in $){var rt=$[tt];if(typeof rt!="object")a!=null&&a[rt]!==void 0?j+=tt+"{"+a[rt]+"}":isProcessableValue(rt)&&(j+=processStyleName(tt)+":"+processStyleValue(tt,rt)+";");else if(Array.isArray(rt)&&typeof rt[0]=="string"&&(a==null||a[rt[0]]===void 0))for(var nt=0;nt<rt.length;nt++)isProcessableValue(rt[nt])&&(j+=processStyleName(tt)+":"+processStyleValue(tt,rt[nt])+";");else{var it=handleInterpolation(_,a,rt);switch(tt){case"animation":case"animationName":{j+=processStyleName(tt)+":"+it+";";break}default:j+=tt+"{"+it+"}"}}}return j}var labelPattern=/label:\s*([^\s;\n{]+)\s*(;|$)/g,cursor,serializeStyles=function(a,$,j){if(a.length===1&&typeof a[0]=="object"&&a[0]!==null&&a[0].styles!==void 0)return a[0];var et=!0,tt="";cursor=void 0;var rt=a[0];rt==null||rt.raw===void 0?(et=!1,tt+=handleInterpolation(j,$,rt)):tt+=rt[0];for(var nt=1;nt<a.length;nt++)tt+=handleInterpolation(j,$,a[nt]),et&&(tt+=rt[nt]);labelPattern.lastIndex=0;for(var it="",ot;(ot=labelPattern.exec(tt))!==null;)it+="-"+ot[1];var st=murmur2(tt)+it;return{name:st,styles:tt,next:cursor}},syncFallback=function(a){return a()},useInsertionEffect=React$3.useInsertionEffect?React$3.useInsertionEffect:!1,useInsertionEffectAlwaysWithSyncFallback=useInsertionEffect||syncFallback,useInsertionEffectWithLayoutFallback=useInsertionEffect||reactExports.useLayoutEffect,EmotionCacheContext=reactExports.createContext(typeof HTMLElement<"u"?createCache({key:"css"}):null);EmotionCacheContext.Provider;var withEmotionCache=function(a){return reactExports.forwardRef(function($,j){var et=reactExports.useContext(EmotionCacheContext);return a($,et,j)})},ThemeContext=reactExports.createContext({}),getTheme$1=function(a,$){if(typeof $=="function"){var j=$(a);return j}return _extends$7({},a,$)},createCacheWithTheme=weakMemoize(function(_){return weakMemoize(function(a){return getTheme$1(_,a)})}),ThemeProvider$1=function(a){var $=reactExports.useContext(ThemeContext);return a.theme!==$&&($=createCacheWithTheme($)(a.theme)),reactExports.createElement(ThemeContext.Provider,{value:$},a.children)},Global=withEmotionCache(function(_,a){var $=_.styles,j=serializeStyles([$],void 0,reactExports.useContext(ThemeContext)),et=reactExports.useRef();return useInsertionEffectWithLayoutFallback(function(){var tt=a.key+"-global",rt=new a.sheet.constructor({key:tt,nonce:a.sheet.nonce,container:a.sheet.container,speedy:a.sheet.isSpeedy}),nt=!1,it=document.querySelector('style[data-emotion="'+tt+" "+j.name+'"]');return a.sheet.tags.length&&(rt.before=a.sheet.tags[0]),it!==null&&(nt=!0,it.setAttribute("data-emotion",tt),rt.hydrate([it])),et.current=[rt,nt],function(){rt.flush()}},[a]),useInsertionEffectWithLayoutFallback(function(){var tt=et.current,rt=tt[0],nt=tt[1];if(nt){tt[1]=!1;return}if(j.next!==void 0&&insertStyles(a,j.next,!0),rt.tags.length){var it=rt.tags[rt.tags.length-1].nextElementSibling;rt.before=it,rt.flush()}a.insert("",j,rt,!1)},[a,j.name]),null});function css$2(){for(var _=arguments.length,a=new Array(_),$=0;$<_;$++)a[$]=arguments[$];return serializeStyles(a)}var keyframes$1=function(){var a=css$2.apply(void 0,arguments),$="animation-"+a.name;return{name:$,styles:"@keyframes "+$+"{"+a.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},css$1=String.raw,vhPolyfill=css$1`
  :root,
  :host {
    --chakra-vh: 100vh;
  }

  @supports (height: -webkit-fill-available) {
    :root,
    :host {
      --chakra-vh: -webkit-fill-available;
    }
  }

  @supports (height: -moz-fill-available) {
    :root,
    :host {
      --chakra-vh: -moz-fill-available;
    }
  }

  @supports (height: 100dvh) {
    :root,
    :host {
      --chakra-vh: 100dvh;
    }
  }
`,CSSPolyfill=()=>jsxRuntimeExports.jsx(Global,{styles:vhPolyfill}),CSSReset=({scope:_=""})=>jsxRuntimeExports.jsx(Global,{styles:css$1`
      html {
        line-height: 1.5;
        -webkit-text-size-adjust: 100%;
        font-family: system-ui, sans-serif;
        -webkit-font-smoothing: antialiased;
        text-rendering: optimizeLegibility;
        -moz-osx-font-smoothing: grayscale;
        touch-action: manipulation;
      }

      body {
        position: relative;
        min-height: 100%;
        margin: 0;
        font-feature-settings: "kern";
      }

      ${_} :where(*, *::before, *::after) {
        border-width: 0;
        border-style: solid;
        box-sizing: border-box;
        word-wrap: break-word;
      }

      main {
        display: block;
      }

      ${_} hr {
        border-top-width: 1px;
        box-sizing: content-box;
        height: 0;
        overflow: visible;
      }

      ${_} :where(pre, code, kbd,samp) {
        font-family: SFMono-Regular, Menlo, Monaco, Consolas, monospace;
        font-size: 1em;
      }

      ${_} a {
        background-color: transparent;
        color: inherit;
        text-decoration: inherit;
      }

      ${_} abbr[title] {
        border-bottom: none;
        text-decoration: underline;
        -webkit-text-decoration: underline dotted;
        text-decoration: underline dotted;
      }

      ${_} :where(b, strong) {
        font-weight: bold;
      }

      ${_} small {
        font-size: 80%;
      }

      ${_} :where(sub,sup) {
        font-size: 75%;
        line-height: 0;
        position: relative;
        vertical-align: baseline;
      }

      ${_} sub {
        bottom: -0.25em;
      }

      ${_} sup {
        top: -0.5em;
      }

      ${_} img {
        border-style: none;
      }

      ${_} :where(button, input, optgroup, select, textarea) {
        font-family: inherit;
        font-size: 100%;
        line-height: 1.15;
        margin: 0;
      }

      ${_} :where(button, input) {
        overflow: visible;
      }

      ${_} :where(button, select) {
        text-transform: none;
      }

      ${_} :where(
          button::-moz-focus-inner,
          [type="button"]::-moz-focus-inner,
          [type="reset"]::-moz-focus-inner,
          [type="submit"]::-moz-focus-inner
        ) {
        border-style: none;
        padding: 0;
      }

      ${_} fieldset {
        padding: 0.35em 0.75em 0.625em;
      }

      ${_} legend {
        box-sizing: border-box;
        color: inherit;
        display: table;
        max-width: 100%;
        padding: 0;
        white-space: normal;
      }

      ${_} progress {
        vertical-align: baseline;
      }

      ${_} textarea {
        overflow: auto;
      }

      ${_} :where([type="checkbox"], [type="radio"]) {
        box-sizing: border-box;
        padding: 0;
      }

      ${_} input[type="number"]::-webkit-inner-spin-button,
      ${_} input[type="number"]::-webkit-outer-spin-button {
        -webkit-appearance: none !important;
      }

      ${_} input[type="number"] {
        -moz-appearance: textfield;
      }

      ${_} input[type="search"] {
        -webkit-appearance: textfield;
        outline-offset: -2px;
      }

      ${_} input[type="search"]::-webkit-search-decoration {
        -webkit-appearance: none !important;
      }

      ${_} ::-webkit-file-upload-button {
        -webkit-appearance: button;
        font: inherit;
      }

      ${_} details {
        display: block;
      }

      ${_} summary {
        display: list-item;
      }

      template {
        display: none;
      }

      [hidden] {
        display: none !important;
      }

      ${_} :where(
          blockquote,
          dl,
          dd,
          h1,
          h2,
          h3,
          h4,
          h5,
          h6,
          hr,
          figure,
          p,
          pre
        ) {
        margin: 0;
      }

      ${_} button {
        background: transparent;
        padding: 0;
      }

      ${_} fieldset {
        margin: 0;
        padding: 0;
      }

      ${_} :where(ol, ul) {
        margin: 0;
        padding: 0;
      }

      ${_} textarea {
        resize: vertical;
      }

      ${_} :where(button, [role="button"]) {
        cursor: pointer;
      }

      ${_} button::-moz-focus-inner {
        border: 0 !important;
      }

      ${_} table {
        border-collapse: collapse;
      }

      ${_} :where(h1, h2, h3, h4, h5, h6) {
        font-size: inherit;
        font-weight: inherit;
      }

      ${_} :where(button, input, optgroup, select, textarea) {
        padding: 0;
        line-height: inherit;
        color: inherit;
      }

      ${_} :where(img, svg, video, canvas, audio, iframe, embed, object) {
        display: block;
      }

      ${_} :where(img, video) {
        max-width: 100%;
        height: auto;
      }

      [data-js-focus-visible]
        :focus:not([data-focus-visible-added]):not(
          [data-focus-visible-disabled]
        ) {
        outline: none;
        box-shadow: none;
      }

      ${_} select::-ms-expand {
        display: none;
      }

      ${vhPolyfill}
    `});function getErrorMessage(_,a){return`${_} returned \`undefined\`. Seems you forgot to wrap component within ${a}`}function createContext$1(_={}){const{name:a,strict:$=!0,hookName:j="useContext",providerName:et="Provider",errorMessage:tt,defaultValue:rt}=_,nt=reactExports.createContext(rt);nt.displayName=a;function it(){var ot;const st=reactExports.useContext(nt);if(!st&&$){const ct=new Error(tt??getErrorMessage(j,et));throw ct.name="ContextError",(ot=Error.captureStackTrace)==null||ot.call(Error,ct,it),ct}return st}return[nt.Provider,it,nt]}var[PortalManagerContextProvider,usePortalManager]=createContext$1({strict:!1,name:"PortalManagerContext"});function PortalManager(_){const{children:a,zIndex:$}=_;return jsxRuntimeExports.jsx(PortalManagerContextProvider,{value:{zIndex:$},children:a})}PortalManager.displayName="PortalManager";var useSafeLayoutEffect$2=globalThis!=null&&globalThis.document?reactExports.useLayoutEffect:reactExports.useEffect,[PortalContextProvider,usePortalContext]=createContext$1({strict:!1,name:"PortalContext"}),PORTAL_CLASSNAME="chakra-portal",PORTAL_SELECTOR=".chakra-portal",Container=_=>jsxRuntimeExports.jsx("div",{className:"chakra-portal-zIndex",style:{position:"absolute",zIndex:_.zIndex,top:0,left:0,right:0},children:_.children}),DefaultPortal=_=>{const{appendToParentPortal:a,children:$}=_,[j,et]=reactExports.useState(null),tt=reactExports.useRef(null),[,rt]=reactExports.useState({});reactExports.useEffect(()=>rt({}),[]);const nt=usePortalContext(),it=usePortalManager();useSafeLayoutEffect$2(()=>{if(!j)return;const st=j.ownerDocument,ct=a?nt??st.body:st.body;if(!ct)return;tt.current=st.createElement("div"),tt.current.className=PORTAL_CLASSNAME,ct.appendChild(tt.current),rt({});const ut=tt.current;return()=>{ct.contains(ut)&&ct.removeChild(ut)}},[j]);const ot=it!=null&&it.zIndex?jsxRuntimeExports.jsx(Container,{zIndex:it==null?void 0:it.zIndex,children:$}):$;return tt.current?reactDomExports.createPortal(jsxRuntimeExports.jsx(PortalContextProvider,{value:tt.current,children:ot}),tt.current):jsxRuntimeExports.jsx("span",{ref:st=>{st&&et(st)}})},ContainerPortal=_=>{const{children:a,containerRef:$,appendToParentPortal:j}=_,et=$.current,tt=et??(typeof window<"u"?document.body:void 0),rt=reactExports.useMemo(()=>{const it=et==null?void 0:et.ownerDocument.createElement("div");return it&&(it.className=PORTAL_CLASSNAME),it},[et]),[,nt]=reactExports.useState({});return useSafeLayoutEffect$2(()=>nt({}),[]),useSafeLayoutEffect$2(()=>{if(!(!rt||!tt))return tt.appendChild(rt),()=>{tt.removeChild(rt)}},[rt,tt]),tt&&rt?reactDomExports.createPortal(jsxRuntimeExports.jsx(PortalContextProvider,{value:j?rt:null,children:a}),rt):null};function Portal(_){const a={appendToParentPortal:!0,..._},{containerRef:$,...j}=a;return $?jsxRuntimeExports.jsx(ContainerPortal,{containerRef:$,...j}):jsxRuntimeExports.jsx(DefaultPortal,{...j})}Portal.className=PORTAL_CLASSNAME;Portal.selector=PORTAL_SELECTOR;Portal.displayName="Portal";function useTheme(){const _=reactExports.useContext(ThemeContext);if(!_)throw Error("useTheme: `theme` is undefined. Seems you forgot to wrap your app in `<ChakraProvider />` or `<ThemeProvider />`");return _}var ColorModeContext=reactExports.createContext({});ColorModeContext.displayName="ColorModeContext";function useColorMode(){const _=reactExports.useContext(ColorModeContext);if(_===void 0)throw new Error("useColorMode must be used within a ColorModeProvider");return _}var classNames={light:"chakra-ui-light",dark:"chakra-ui-dark"};function getColorModeUtils(_={}){const{preventTransition:a=!0}=_,$={setDataset:j=>{const et=a?$.preventTransition():void 0;document.documentElement.dataset.theme=j,document.documentElement.style.colorScheme=j,et==null||et()},setClassName(j){document.body.classList.add(j?classNames.dark:classNames.light),document.body.classList.remove(j?classNames.light:classNames.dark)},query(){return window.matchMedia("(prefers-color-scheme: dark)")},getSystemTheme(j){var et;return((et=$.query().matches)!=null?et:j==="dark")?"dark":"light"},addListener(j){const et=$.query(),tt=rt=>{j(rt.matches?"dark":"light")};return typeof et.addListener=="function"?et.addListener(tt):et.addEventListener("change",tt),()=>{typeof et.removeListener=="function"?et.removeListener(tt):et.removeEventListener("change",tt)}},preventTransition(){const j=document.createElement("style");return j.appendChild(document.createTextNode("*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(j),()=>{window.getComputedStyle(document.body),requestAnimationFrame(()=>{requestAnimationFrame(()=>{document.head.removeChild(j)})})}}};return $}var STORAGE_KEY="chakra-ui-color-mode";function createLocalStorageManager(_){return{ssr:!1,type:"localStorage",get(a){if(!(globalThis!=null&&globalThis.document))return a;let $;try{$=localStorage.getItem(_)||a}catch{}return $||a},set(a){try{localStorage.setItem(_,a)}catch{}}}}var localStorageManager=createLocalStorageManager(STORAGE_KEY),noop$b=()=>{};function getTheme(_,a){return _.type==="cookie"&&_.ssr?_.get(a):a}function ColorModeProvider(_){const{value:a,children:$,options:{useSystemColorMode:j,initialColorMode:et,disableTransitionOnChange:tt}={},colorModeManager:rt=localStorageManager}=_,nt=et==="dark"?"dark":"light",[it,ot]=reactExports.useState(()=>getTheme(rt,nt)),[st,ct]=reactExports.useState(()=>getTheme(rt)),{getSystemTheme:ut,setClassName:ht,setDataset:Et,addListener:St}=reactExports.useMemo(()=>getColorModeUtils({preventTransition:tt}),[tt]),Mt=et==="system"&&!it?st:it,kt=reactExports.useCallback(zt=>{const Ut=zt==="system"?ut():zt;ot(Ut),ht(Ut==="dark"),Et(Ut),rt.set(Ut)},[rt,ut,ht,Et]);useSafeLayoutEffect$2(()=>{et==="system"&&ct(ut())},[]),reactExports.useEffect(()=>{const zt=rt.get();if(zt){kt(zt);return}if(et==="system"){kt("system");return}kt(nt)},[rt,nt,et,kt]);const Ct=reactExports.useCallback(()=>{kt(Mt==="dark"?"light":"dark")},[Mt,kt]);reactExports.useEffect(()=>{if(j)return St(kt)},[j,St,kt]);const Ot=reactExports.useMemo(()=>({colorMode:a??Mt,toggleColorMode:a?noop$b:Ct,setColorMode:a?noop$b:kt,forced:a!==void 0}),[Mt,Ct,kt,a]);return jsxRuntimeExports.jsx(ColorModeContext.Provider,{value:Ot,children:$})}ColorModeProvider.displayName="ColorModeProvider";var VALID_VALUES=new Set(["dark","light","system"]);function normalize$2(_){let a=_;return VALID_VALUES.has(a)||(a="light"),a}function getScriptSrc(_={}){const{initialColorMode:a="light",type:$="localStorage",storageKey:j="chakra-ui-color-mode"}=_,et=normalize$2(a),tt=$==="cookie",rt=`(function(){try{var a=function(o){var l="(prefers-color-scheme: dark)",v=window.matchMedia(l).matches?"dark":"light",e=o==="system"?v:o,d=document.documentElement,m=document.body,i="chakra-ui-light",n="chakra-ui-dark",s=e==="dark";return m.classList.add(s?n:i),m.classList.remove(s?i:n),d.style.colorScheme=e,d.dataset.theme=e,e},u=a,h="${et}",r="${j}",t=document.cookie.match(new RegExp("(^| )".concat(r,"=([^;]+)"))),c=t?t[2]:null;c?a(c):document.cookie="".concat(r,"=").concat(a(h),"; max-age=31536000; path=/")}catch(a){}})();
  `,nt=`(function(){try{var a=function(c){var v="(prefers-color-scheme: dark)",h=window.matchMedia(v).matches?"dark":"light",r=c==="system"?h:c,o=document.documentElement,s=document.body,l="chakra-ui-light",d="chakra-ui-dark",i=r==="dark";return s.classList.add(i?d:l),s.classList.remove(i?l:d),o.style.colorScheme=r,o.dataset.theme=r,r},n=a,m="${et}",e="${j}",t=localStorage.getItem(e);t?a(t):localStorage.setItem(e,a(m))}catch(a){}})();
  `;return`!${tt?rt:nt}`.trim()}function ColorModeScript(_={}){const{nonce:a}=_;return jsxRuntimeExports.jsx("script",{id:"chakra-script",nonce:a,dangerouslySetInnerHTML:{__html:getScriptSrc(_)}})}function useChakra(){const _=useColorMode(),a=useTheme();return{..._,theme:a}}function getTokenValue(_,a,$){var j,et;if(a==null)return a;const tt=rt=>{var nt,it;return(it=(nt=_.__cssMap)==null?void 0:nt[rt])==null?void 0:it.value};return(et=(j=tt(a))!=null?j:tt($))!=null?et:$}function getToken(_,a,$){const j=Array.isArray(a)?a:[a],et=Array.isArray($)?$:[$];return tt=>{const rt=et.filter(Boolean),nt=j.map((it,ot)=>{var st;const ct=`${_}.${it}`;return getTokenValue(tt,ct,(st=rt[ot])!=null?st:it)});return Array.isArray(a)?nt:nt[0]}}var cx=(..._)=>_.filter(Boolean).join(" ");function isDev(){return!1}function isObject$4(_){const a=typeof _;return _!=null&&(a==="object"||a==="function")&&!Array.isArray(_)}var warn=_=>{const{condition:a,message:$}=_;a&&isDev()&&console.warn($)};function runIfFn$2(_,...a){return isFunction$7(_)?_(...a):_}var isFunction$7=_=>typeof _=="function",dataAttr=_=>_?"":void 0,ariaAttr=_=>_?!0:void 0;function callAllHandlers$1(..._){return function($){_.some(j=>(j==null||j($),$==null?void 0:$.defaultPrevented))}}function callAll(..._){return function($){_.forEach(j=>{j==null||j($)})}}var lodash_mergewith={exports:{}};lodash_mergewith.exports;(function(_,a){var $=200,j="__lodash_hash_undefined__",et=800,tt=16,rt=9007199254740991,nt="[object Arguments]",it="[object Array]",ot="[object AsyncFunction]",st="[object Boolean]",ct="[object Date]",ut="[object Error]",ht="[object Function]",Et="[object GeneratorFunction]",St="[object Map]",Mt="[object Number]",kt="[object Null]",Ct="[object Object]",Ot="[object Proxy]",zt="[object RegExp]",Ut="[object Set]",Vt="[object String]",jt="[object Undefined]",$t="[object WeakMap]",Bt="[object ArrayBuffer]",Nt="[object DataView]",Lt="[object Float32Array]",Pt="[object Float64Array]",bt="[object Int8Array]",at="[object Int16Array]",dt="[object Int32Array]",vt="[object Uint8Array]",xt="[object Uint8ClampedArray]",wt="[object Uint16Array]",_t="[object Uint32Array]",At=/[\\^$.*+?()[\]{}|]/g,Tt=/^\[object .+?Constructor\]$/,yt=/^(?:0|[1-9]\d*)$/,It={};It[Lt]=It[Pt]=It[bt]=It[at]=It[dt]=It[vt]=It[xt]=It[wt]=It[_t]=!0,It[nt]=It[it]=It[Bt]=It[st]=It[Nt]=It[ct]=It[ut]=It[ht]=It[St]=It[Mt]=It[Ct]=It[zt]=It[Ut]=It[Vt]=It[$t]=!1;var rr=typeof commonjsGlobal=="object"&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal,ir=typeof self=="object"&&self&&self.Object===Object&&self,nr=rr||ir||Function("return this")(),Gt=a&&!a.nodeType&&a,qt=Gt&&!0&&_&&!_.nodeType&&_,Jt=qt&&qt.exports===Gt,Ft=Jt&&rr.process,Kt=function(){try{var Yt=qt&&qt.require&&qt.require("util").types;return Yt||Ft&&Ft.binding&&Ft.binding("util")}catch{}}(),Qt=Kt&&Kt.isTypedArray;function dr(Yt,cr,gr){switch(gr.length){case 0:return Yt.call(cr);case 1:return Yt.call(cr,gr[0]);case 2:return Yt.call(cr,gr[0],gr[1]);case 3:return Yt.call(cr,gr[0],gr[1],gr[2])}return Yt.apply(cr,gr)}function xr(Yt,cr){for(var gr=-1,Dr=Array(Yt);++gr<Yt;)Dr[gr]=cr(gr);return Dr}function pr(Yt){return function(cr){return Yt(cr)}}function Ir(Yt,cr){return Yt==null?void 0:Yt[cr]}function Cr(Yt,cr){return function(gr){return Yt(cr(gr))}}var lr=Array.prototype,fr=Function.prototype,Er=Object.prototype,Ar=nr["__core-js_shared__"],kr=fr.toString,Sr=Er.hasOwnProperty,$r=function(){var Yt=/[^.]+$/.exec(Ar&&Ar.keys&&Ar.keys.IE_PROTO||"");return Yt?"Symbol(src)_1."+Yt:""}(),jr=Er.toString,Nr=kr.call(Object),or=RegExp("^"+kr.call(Sr).replace(At,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Xt=Jt?nr.Buffer:void 0,er=nr.Symbol,Zt=nr.Uint8Array;Xt&&Xt.allocUnsafe;var Ht=Cr(Object.getPrototypeOf,Object),Wt=Object.create,ar=Er.propertyIsEnumerable,br=lr.splice,wr=er?er.toStringTag:void 0,Rr=function(){try{var Yt=Ro(Object,"defineProperty");return Yt({},"",{}),Yt}catch{}}(),Qr=Xt?Xt.isBuffer:void 0,Ur=Math.max,Hr=Date.now,_n=Ro(nr,"Map"),Wr=Ro(Object,"create"),an=function(){function Yt(){}return function(cr){if(!Cs(cr))return{};if(Wt)return Wt(cr);Yt.prototype=cr;var gr=new Yt;return Yt.prototype=void 0,gr}}();function Sn(Yt){var cr=-1,gr=Yt==null?0:Yt.length;for(this.clear();++cr<gr;){var Dr=Yt[cr];this.set(Dr[0],Dr[1])}}function cn(){this.__data__=Wr?Wr(null):{},this.size=0}function Xr(Yt){var cr=this.has(Yt)&&delete this.__data__[Yt];return this.size-=cr?1:0,cr}function Cn(Yt){var cr=this.__data__;if(Wr){var gr=cr[Yt];return gr===j?void 0:gr}return Sr.call(cr,Yt)?cr[Yt]:void 0}function ln(Yt){var cr=this.__data__;return Wr?cr[Yt]!==void 0:Sr.call(cr,Yt)}function Yr(Yt,cr){var gr=this.__data__;return this.size+=this.has(Yt)?0:1,gr[Yt]=Wr&&cr===void 0?j:cr,this}Sn.prototype.clear=cn,Sn.prototype.delete=Xr,Sn.prototype.get=Cn,Sn.prototype.has=ln,Sn.prototype.set=Yr;function En(Yt){var cr=-1,gr=Yt==null?0:Yt.length;for(this.clear();++cr<gr;){var Dr=Yt[cr];this.set(Dr[0],Dr[1])}}function fn(){this.__data__=[],this.size=0}function Jr(Yt){var cr=this.__data__,gr=rs(cr,Yt);if(gr<0)return!1;var Dr=cr.length-1;return gr==Dr?cr.pop():br.call(cr,gr,1),--this.size,!0}function $n(Yt){var cr=this.__data__,gr=rs(cr,Yt);return gr<0?void 0:cr[gr][1]}function un(Yt){return rs(this.__data__,Yt)>-1}function en(Yt,cr){var gr=this.__data__,Dr=rs(gr,Yt);return Dr<0?(++this.size,gr.push([Yt,cr])):gr[Dr][1]=cr,this}En.prototype.clear=fn,En.prototype.delete=Jr,En.prototype.get=$n,En.prototype.has=un,En.prototype.set=en;function An(Yt){var cr=-1,gr=Yt==null?0:Yt.length;for(this.clear();++cr<gr;){var Dr=Yt[cr];this.set(Dr[0],Dr[1])}}function sn(){this.size=0,this.__data__={hash:new Sn,map:new(_n||En),string:new Sn}}function tn(Yt){var cr=Zs(this,Yt).delete(Yt);return this.size-=cr?1:0,cr}function kn(Yt){return Zs(this,Yt).get(Yt)}function xn(Yt){return Zs(this,Yt).has(Yt)}function dn(Yt,cr){var gr=Zs(this,Yt),Dr=gr.size;return gr.set(Yt,cr),this.size+=gr.size==Dr?0:1,this}An.prototype.clear=sn,An.prototype.delete=tn,An.prototype.get=kn,An.prototype.has=xn,An.prototype.set=dn;function Ln(Yt){var cr=this.__data__=new En(Yt);this.size=cr.size}function hn(){this.__data__=new En,this.size=0}function yn(Yt){var cr=this.__data__,gr=cr.delete(Yt);return this.size=cr.size,gr}function ps(Yt){return this.__data__.get(Yt)}function ms(Yt){return this.__data__.has(Yt)}function gs(Yt,cr){var gr=this.__data__;if(gr instanceof En){var Dr=gr.__data__;if(!_n||Dr.length<$-1)return Dr.push([Yt,cr]),this.size=++gr.size,this;gr=this.__data__=new An(Dr)}return gr.set(Yt,cr),this.size=gr.size,this}Ln.prototype.clear=hn,Ln.prototype.delete=yn,Ln.prototype.get=ps,Ln.prototype.has=ms,Ln.prototype.set=gs;function vs(Yt,cr){var gr=Ns(Yt),Dr=!gr&&Ao(Yt),Zr=!gr&&!Dr&&fo(Yt),pn=!gr&&!Dr&&!Zr&&Lo(Yt),wn=gr||Dr||Zr||pn,nn=wn?xr(Yt.length,String):[],mn=nn.length;for(var Bn in Yt)wn&&(Bn=="length"||Zr&&(Bn=="offset"||Bn=="parent")||pn&&(Bn=="buffer"||Bn=="byteLength"||Bn=="byteOffset")||lo(Bn,mn))||nn.push(Bn);return nn}function Zn(Yt,cr,gr){(gr!==void 0&&!Xs(Yt[cr],gr)||gr===void 0&&!(cr in Yt))&&es(Yt,cr,gr)}function ls(Yt,cr,gr){var Dr=Yt[cr];(!(Sr.call(Yt,cr)&&Xs(Dr,gr))||gr===void 0&&!(cr in Yt))&&es(Yt,cr,gr)}function rs(Yt,cr){for(var gr=Yt.length;gr--;)if(Xs(Yt[gr][0],cr))return gr;return-1}function es(Yt,cr,gr){cr=="__proto__"&&Rr?Rr(Yt,cr,{configurable:!0,enumerable:!0,value:gr,writable:!0}):Yt[cr]=gr}var ys=So();function ns(Yt){return Yt==null?Yt===void 0?jt:kt:wr&&wr in Object(Yt)?xl(Yt):_l(Yt)}function as(Yt){return Ms(Yt)&&ns(Yt)==nt}function ds(Yt){if(!Cs(Yt)||jo(Yt))return!1;var cr=To(Yt)?or:Tt;return cr.test(Tl(Yt))}function fs(Yt){return Ms(Yt)&&Po(Yt.length)&&!!It[ns(Yt)]}function Jn(Yt){if(!Cs(Yt))return Bs(Yt);var cr=Ys(Yt),gr=[];for(var Dr in Yt)Dr=="constructor"&&(cr||!Sr.call(Yt,Dr))||gr.push(Dr);return gr}function us(Yt,cr,gr,Dr,Zr){Yt!==cr&&ys(cr,function(pn,wn){if(Zr||(Zr=new Ln),Cs(pn))xs(Yt,cr,wn,gr,us,Dr,Zr);else{var nn=Dr?Dr(Is(Yt,wn),pn,wn+"",Yt,cr,Zr):void 0;nn===void 0&&(nn=pn),Zn(Yt,wn,nn)}},Bo)}function xs(Yt,cr,gr,Dr,Zr,pn,wn){var nn=Is(Yt,gr),mn=Is(cr,gr),Bn=wn.get(mn);if(Bn){Zn(Yt,gr,Bn);return}var Fn=pn?pn(nn,mn,gr+"",Yt,cr,wn):void 0,Xn=Fn===void 0;if(Xn){var Yn=Ns(mn),Es=!Yn&&fo(mn),Ds=!Yn&&!Es&&Lo(mn);Fn=mn,Yn||Es||Ds?Ns(nn)?Fn=nn:Pl(nn)?Fn=Wo(nn):Es?(Xn=!1,Fn=Ts(mn)):Ds?(Xn=!1,Fn=wo(mn)):Fn=[]:Cl(mn)||Ao(mn)?(Fn=nn,Ao(nn)?Fn=Co(nn):(!Cs(nn)||To(nn))&&(Fn=El(mn))):Xn=!1}Xn&&(wn.set(mn,Fn),Zr(Fn,mn,Dr,pn,wn),wn.delete(mn)),Zn(Yt,gr,Fn)}function bs(Yt,cr){return Rl(Sl(Yt,cr,Gn),Yt+"")}var Ps=Rr?function(Yt,cr){return Rr(Yt,"toString",{configurable:!0,enumerable:!1,value:Qn(cr),writable:!0})}:Gn;function Ts(Yt,cr){return Yt.slice()}function yl(Yt){var cr=new Yt.constructor(Yt.byteLength);return new Zt(cr).set(new Zt(Yt)),cr}function wo(Yt,cr){var gr=yl(Yt.buffer);return new Yt.constructor(gr,Yt.byteOffset,Yt.length)}function Wo(Yt,cr){var gr=-1,Dr=Yt.length;for(cr||(cr=Array(Dr));++gr<Dr;)cr[gr]=Yt[gr];return cr}function _o(Yt,cr,gr,Dr){var Zr=!gr;gr||(gr={});for(var pn=-1,wn=cr.length;++pn<wn;){var nn=cr[pn],mn=void 0;mn===void 0&&(mn=Yt[nn]),Zr?es(gr,nn,mn):ls(gr,nn,mn)}return gr}function Go(Yt){return bs(function(cr,gr){var Dr=-1,Zr=gr.length,pn=Zr>1?gr[Zr-1]:void 0,wn=Zr>2?gr[2]:void 0;for(pn=Yt.length>3&&typeof pn=="function"?(Zr--,pn):void 0,wn&&Yl(gr[0],gr[1],wn)&&(pn=Zr<3?void 0:pn,Zr=1),cr=Object(cr);++Dr<Zr;){var nn=gr[Dr];nn&&Yt(cr,nn,Dr,pn)}return cr})}function So(Yt){return function(cr,gr,Dr){for(var Zr=-1,pn=Object(cr),wn=Dr(cr),nn=wn.length;nn--;){var mn=wn[++Zr];if(gr(pn[mn],mn,pn)===!1)break}return cr}}function Zs(Yt,cr){var gr=Yt.__data__;return wl(cr)?gr[typeof cr=="string"?"string":"hash"]:gr.map}function Ro(Yt,cr){var gr=Ir(Yt,cr);return ds(gr)?gr:void 0}function xl(Yt){var cr=Sr.call(Yt,wr),gr=Yt[wr];try{Yt[wr]=void 0;var Dr=!0}catch{}var Zr=jr.call(Yt);return Dr&&(cr?Yt[wr]=gr:delete Yt[wr]),Zr}function El(Yt){return typeof Yt.constructor=="function"&&!Ys(Yt)?an(Ht(Yt)):{}}function lo(Yt,cr){var gr=typeof Yt;return cr=cr??rt,!!cr&&(gr=="number"||gr!="symbol"&&yt.test(Yt))&&Yt>-1&&Yt%1==0&&Yt<cr}function Yl(Yt,cr,gr){if(!Cs(gr))return!1;var Dr=typeof cr;return(Dr=="number"?uo(gr)&&lo(cr,gr.length):Dr=="string"&&cr in gr)?Xs(gr[cr],Yt):!1}function wl(Yt){var cr=typeof Yt;return cr=="string"||cr=="number"||cr=="symbol"||cr=="boolean"?Yt!=="__proto__":Yt===null}function jo(Yt){return!!$r&&$r in Yt}function Ys(Yt){var cr=Yt&&Yt.constructor,gr=typeof cr=="function"&&cr.prototype||Er;return Yt===gr}function Bs(Yt){var cr=[];if(Yt!=null)for(var gr in Object(Yt))cr.push(gr);return cr}function _l(Yt){return jr.call(Yt)}function Sl(Yt,cr,gr){return cr=Ur(cr===void 0?Yt.length-1:cr,0),function(){for(var Dr=arguments,Zr=-1,pn=Ur(Dr.length-cr,0),wn=Array(pn);++Zr<pn;)wn[Zr]=Dr[cr+Zr];Zr=-1;for(var nn=Array(cr+1);++Zr<cr;)nn[Zr]=Dr[Zr];return nn[cr]=gr(wn),dr(Yt,this,nn)}}function Is(Yt,cr){if(!(cr==="constructor"&&typeof Yt[cr]=="function")&&cr!="__proto__")return Yt[cr]}var Rl=Al(Ps);function Al(Yt){var cr=0,gr=0;return function(){var Dr=Hr(),Zr=tt-(Dr-gr);if(gr=Dr,Zr>0){if(++cr>=et)return arguments[0]}else cr=0;return Yt.apply(void 0,arguments)}}function Tl(Yt){if(Yt!=null){try{return kr.call(Yt)}catch{}try{return Yt+""}catch{}}return""}function Xs(Yt,cr){return Yt===cr||Yt!==Yt&&cr!==cr}var Ao=as(function(){return arguments}())?as:function(Yt){return Ms(Yt)&&Sr.call(Yt,"callee")&&!ar.call(Yt,"callee")},Ns=Array.isArray;function uo(Yt){return Yt!=null&&Po(Yt.length)&&!To(Yt)}function Pl(Yt){return Ms(Yt)&&uo(Yt)}var fo=Qr||_r;function To(Yt){if(!Cs(Yt))return!1;var cr=ns(Yt);return cr==ht||cr==Et||cr==ot||cr==Ot}function Po(Yt){return typeof Yt=="number"&&Yt>-1&&Yt%1==0&&Yt<=rt}function Cs(Yt){var cr=typeof Yt;return Yt!=null&&(cr=="object"||cr=="function")}function Ms(Yt){return Yt!=null&&typeof Yt=="object"}function Cl(Yt){if(!Ms(Yt)||ns(Yt)!=Ct)return!1;var cr=Ht(Yt);if(cr===null)return!0;var gr=Sr.call(cr,"constructor")&&cr.constructor;return typeof gr=="function"&&gr instanceof gr&&kr.call(gr)==Nr}var Lo=Qt?pr(Qt):fs;function Co(Yt){return _o(Yt,Bo(Yt))}function Bo(Yt){return uo(Yt)?vs(Yt):Jn(Yt)}var Xl=Go(function(Yt,cr,gr,Dr){us(Yt,cr,gr,Dr)});function Qn(Yt){return function(){return Yt}}function Gn(Yt){return Yt}function _r(){return!1}_.exports=Xl})(lodash_mergewith,lodash_mergewith.exports);var lodash_mergewithExports=lodash_mergewith.exports;const mergeWith=getDefaultExportFromCjs$1(lodash_mergewithExports);var isImportant=_=>/!(important)?$/.test(_),withoutImportant=_=>typeof _=="string"?_.replace(/!(important)?$/,"").trim():_,tokenToCSSVar=(_,a)=>$=>{const j=String(a),et=isImportant(j),tt=withoutImportant(j),rt=_?`${_}.${tt}`:tt;let nt=isObject$4($.__cssMap)&&rt in $.__cssMap?$.__cssMap[rt].varRef:a;return nt=withoutImportant(nt),et?`${nt} !important`:nt};function createTransform(_){const{scale:a,transform:$,compose:j}=_;return(tt,rt)=>{var nt;const it=tokenToCSSVar(a,tt)(rt);let ot=(nt=$==null?void 0:$(it,rt))!=null?nt:it;return j&&(ot=j(ot,rt)),ot}}var pipe$3=(..._)=>a=>_.reduce(($,j)=>j($),a);function toConfig(_,a){return $=>{const j={property:$,scale:_};return j.transform=createTransform({scale:_,transform:a}),j}}var getRtl=({rtl:_,ltr:a})=>$=>$.direction==="rtl"?_:a;function logical(_){const{property:a,scale:$,transform:j}=_;return{scale:$,property:getRtl(a),transform:$?createTransform({scale:$,compose:j}):j}}var transformTemplate=["rotate(var(--chakra-rotate, 0))","scaleX(var(--chakra-scale-x, 1))","scaleY(var(--chakra-scale-y, 1))","skewX(var(--chakra-skew-x, 0))","skewY(var(--chakra-skew-y, 0))"];function getTransformTemplate(){return["translateX(var(--chakra-translate-x, 0))","translateY(var(--chakra-translate-y, 0))",...transformTemplate].join(" ")}function getTransformGpuTemplate(){return["translate3d(var(--chakra-translate-x, 0), var(--chakra-translate-y, 0), 0)",...transformTemplate].join(" ")}var filterTemplate={"--chakra-blur":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-brightness":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-contrast":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-grayscale":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-hue-rotate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-invert":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-saturate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-sepia":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-drop-shadow":"var(--chakra-empty,/*!*/ /*!*/)",filter:["var(--chakra-blur)","var(--chakra-brightness)","var(--chakra-contrast)","var(--chakra-grayscale)","var(--chakra-hue-rotate)","var(--chakra-invert)","var(--chakra-saturate)","var(--chakra-sepia)","var(--chakra-drop-shadow)"].join(" ")},backdropFilterTemplate={backdropFilter:["var(--chakra-backdrop-blur)","var(--chakra-backdrop-brightness)","var(--chakra-backdrop-contrast)","var(--chakra-backdrop-grayscale)","var(--chakra-backdrop-hue-rotate)","var(--chakra-backdrop-invert)","var(--chakra-backdrop-opacity)","var(--chakra-backdrop-saturate)","var(--chakra-backdrop-sepia)"].join(" "),"--chakra-backdrop-blur":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-brightness":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-contrast":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-grayscale":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-hue-rotate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-invert":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-opacity":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-saturate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-sepia":"var(--chakra-empty,/*!*/ /*!*/)"};function getRingTemplate(_){return{"--chakra-ring-offset-shadow":"var(--chakra-ring-inset) 0 0 0 var(--chakra-ring-offset-width) var(--chakra-ring-offset-color)","--chakra-ring-shadow":"var(--chakra-ring-inset) 0 0 0 calc(var(--chakra-ring-width) + var(--chakra-ring-offset-width)) var(--chakra-ring-color)","--chakra-ring-width":_,boxShadow:["var(--chakra-ring-offset-shadow)","var(--chakra-ring-shadow)","var(--chakra-shadow, 0 0 #0000)"].join(", ")}}var flexDirectionTemplate={"row-reverse":{space:"--chakra-space-x-reverse",divide:"--chakra-divide-x-reverse"},"column-reverse":{space:"--chakra-space-y-reverse",divide:"--chakra-divide-y-reverse"}},directionMap={"to-t":"to top","to-tr":"to top right","to-r":"to right","to-br":"to bottom right","to-b":"to bottom","to-bl":"to bottom left","to-l":"to left","to-tl":"to top left"},valueSet=new Set(Object.values(directionMap)),globalSet=new Set(["none","-moz-initial","inherit","initial","revert","unset"]),trimSpace=_=>_.trim();function parseGradient(_,a){if(_==null||globalSet.has(_))return _;if(!(isCSSFunction(_)||globalSet.has(_)))return`url('${_}')`;const et=/(^[a-z-A-Z]+)\((.*)\)/g.exec(_),tt=et==null?void 0:et[1],rt=et==null?void 0:et[2];if(!tt||!rt)return _;const nt=tt.includes("-gradient")?tt:`${tt}-gradient`,[it,...ot]=rt.split(",").map(trimSpace).filter(Boolean);if((ot==null?void 0:ot.length)===0)return _;const st=it in directionMap?directionMap[it]:it;ot.unshift(st);const ct=ot.map(ut=>{if(valueSet.has(ut))return ut;const ht=ut.indexOf(" "),[Et,St]=ht!==-1?[ut.substr(0,ht),ut.substr(ht+1)]:[ut],Mt=isCSSFunction(St)?St:St&&St.split(" "),kt=`colors.${Et}`,Ct=kt in a.__cssMap?a.__cssMap[kt].varRef:Et;return Mt?[Ct,...Array.isArray(Mt)?Mt:[Mt]].join(" "):Ct});return`${nt}(${ct.join(", ")})`}var isCSSFunction=_=>typeof _=="string"&&_.includes("(")&&_.includes(")"),gradientTransform=(_,a)=>parseGradient(_,a??{});function isCssVar(_){return/^var\(--.+\)$/.test(_)}var analyzeCSSValue=_=>{const a=parseFloat(_.toString()),$=_.toString().replace(String(a),"");return{unitless:!$,value:a,unit:$}},wrap=_=>a=>`${_}(${a})`,transformFunctions={filter(_){return _!=="auto"?_:filterTemplate},backdropFilter(_){return _!=="auto"?_:backdropFilterTemplate},ring(_){return getRingTemplate(transformFunctions.px(_))},bgClip(_){return _==="text"?{color:"transparent",backgroundClip:"text"}:{backgroundClip:_}},transform(_){return _==="auto"?getTransformTemplate():_==="auto-gpu"?getTransformGpuTemplate():_},vh(_){return _==="$100vh"?"var(--chakra-vh)":_},px(_){if(_==null)return _;const{unitless:a}=analyzeCSSValue(_);return a||typeof _=="number"?`${_}px`:_},fraction(_){return typeof _!="number"||_>1?_:`${_*100}%`},float(_,a){const $={left:"right",right:"left"};return a.direction==="rtl"?$[_]:_},degree(_){if(isCssVar(_)||_==null)return _;const a=typeof _=="string"&&!_.endsWith("deg");return typeof _=="number"||a?`${_}deg`:_},gradient:gradientTransform,blur:wrap("blur"),opacity:wrap("opacity"),brightness:wrap("brightness"),contrast:wrap("contrast"),dropShadow:wrap("drop-shadow"),grayscale:wrap("grayscale"),hueRotate:_=>wrap("hue-rotate")(transformFunctions.degree(_)),invert:wrap("invert"),saturate:wrap("saturate"),sepia:wrap("sepia"),bgImage(_){return _==null||isCSSFunction(_)||globalSet.has(_)?_:`url(${_})`},outline(_){const a=String(_)==="0"||String(_)==="none";return _!==null&&a?{outline:"2px solid transparent",outlineOffset:"2px"}:{outline:_}},flexDirection(_){var a;const{space:$,divide:j}=(a=flexDirectionTemplate[_])!=null?a:{},et={flexDirection:_};return $&&(et[$]=1),j&&(et[j]=1),et}},t$5={borderWidths:toConfig("borderWidths"),borderStyles:toConfig("borderStyles"),colors:toConfig("colors"),borders:toConfig("borders"),gradients:toConfig("gradients",transformFunctions.gradient),radii:toConfig("radii",transformFunctions.px),space:toConfig("space",pipe$3(transformFunctions.vh,transformFunctions.px)),spaceT:toConfig("space",pipe$3(transformFunctions.vh,transformFunctions.px)),degreeT(_){return{property:_,transform:transformFunctions.degree}},prop(_,a,$){return{property:_,scale:a,...a&&{transform:createTransform({scale:a,transform:$})}}},propT(_,a){return{property:_,transform:a}},sizes:toConfig("sizes",pipe$3(transformFunctions.vh,transformFunctions.px)),sizesT:toConfig("sizes",pipe$3(transformFunctions.vh,transformFunctions.fraction)),shadows:toConfig("shadows"),logical,blur:toConfig("blur",transformFunctions.blur)},background={background:t$5.colors("background"),backgroundColor:t$5.colors("backgroundColor"),backgroundImage:t$5.gradients("backgroundImage"),backgroundSize:!0,backgroundPosition:!0,backgroundRepeat:!0,backgroundAttachment:!0,backgroundClip:{transform:transformFunctions.bgClip},bgSize:t$5.prop("backgroundSize"),bgPosition:t$5.prop("backgroundPosition"),bg:t$5.colors("background"),bgColor:t$5.colors("backgroundColor"),bgPos:t$5.prop("backgroundPosition"),bgRepeat:t$5.prop("backgroundRepeat"),bgAttachment:t$5.prop("backgroundAttachment"),bgGradient:t$5.gradients("backgroundImage"),bgClip:{transform:transformFunctions.bgClip}};Object.assign(background,{bgImage:background.backgroundImage,bgImg:background.backgroundImage});var border={border:t$5.borders("border"),borderWidth:t$5.borderWidths("borderWidth"),borderStyle:t$5.borderStyles("borderStyle"),borderColor:t$5.colors("borderColor"),borderRadius:t$5.radii("borderRadius"),borderTop:t$5.borders("borderTop"),borderBlockStart:t$5.borders("borderBlockStart"),borderTopLeftRadius:t$5.radii("borderTopLeftRadius"),borderStartStartRadius:t$5.logical({scale:"radii",property:{ltr:"borderTopLeftRadius",rtl:"borderTopRightRadius"}}),borderEndStartRadius:t$5.logical({scale:"radii",property:{ltr:"borderBottomLeftRadius",rtl:"borderBottomRightRadius"}}),borderTopRightRadius:t$5.radii("borderTopRightRadius"),borderStartEndRadius:t$5.logical({scale:"radii",property:{ltr:"borderTopRightRadius",rtl:"borderTopLeftRadius"}}),borderEndEndRadius:t$5.logical({scale:"radii",property:{ltr:"borderBottomRightRadius",rtl:"borderBottomLeftRadius"}}),borderRight:t$5.borders("borderRight"),borderInlineEnd:t$5.borders("borderInlineEnd"),borderBottom:t$5.borders("borderBottom"),borderBlockEnd:t$5.borders("borderBlockEnd"),borderBottomLeftRadius:t$5.radii("borderBottomLeftRadius"),borderBottomRightRadius:t$5.radii("borderBottomRightRadius"),borderLeft:t$5.borders("borderLeft"),borderInlineStart:{property:"borderInlineStart",scale:"borders"},borderInlineStartRadius:t$5.logical({scale:"radii",property:{ltr:["borderTopLeftRadius","borderBottomLeftRadius"],rtl:["borderTopRightRadius","borderBottomRightRadius"]}}),borderInlineEndRadius:t$5.logical({scale:"radii",property:{ltr:["borderTopRightRadius","borderBottomRightRadius"],rtl:["borderTopLeftRadius","borderBottomLeftRadius"]}}),borderX:t$5.borders(["borderLeft","borderRight"]),borderInline:t$5.borders("borderInline"),borderY:t$5.borders(["borderTop","borderBottom"]),borderBlock:t$5.borders("borderBlock"),borderTopWidth:t$5.borderWidths("borderTopWidth"),borderBlockStartWidth:t$5.borderWidths("borderBlockStartWidth"),borderTopColor:t$5.colors("borderTopColor"),borderBlockStartColor:t$5.colors("borderBlockStartColor"),borderTopStyle:t$5.borderStyles("borderTopStyle"),borderBlockStartStyle:t$5.borderStyles("borderBlockStartStyle"),borderBottomWidth:t$5.borderWidths("borderBottomWidth"),borderBlockEndWidth:t$5.borderWidths("borderBlockEndWidth"),borderBottomColor:t$5.colors("borderBottomColor"),borderBlockEndColor:t$5.colors("borderBlockEndColor"),borderBottomStyle:t$5.borderStyles("borderBottomStyle"),borderBlockEndStyle:t$5.borderStyles("borderBlockEndStyle"),borderLeftWidth:t$5.borderWidths("borderLeftWidth"),borderInlineStartWidth:t$5.borderWidths("borderInlineStartWidth"),borderLeftColor:t$5.colors("borderLeftColor"),borderInlineStartColor:t$5.colors("borderInlineStartColor"),borderLeftStyle:t$5.borderStyles("borderLeftStyle"),borderInlineStartStyle:t$5.borderStyles("borderInlineStartStyle"),borderRightWidth:t$5.borderWidths("borderRightWidth"),borderInlineEndWidth:t$5.borderWidths("borderInlineEndWidth"),borderRightColor:t$5.colors("borderRightColor"),borderInlineEndColor:t$5.colors("borderInlineEndColor"),borderRightStyle:t$5.borderStyles("borderRightStyle"),borderInlineEndStyle:t$5.borderStyles("borderInlineEndStyle"),borderTopRadius:t$5.radii(["borderTopLeftRadius","borderTopRightRadius"]),borderBottomRadius:t$5.radii(["borderBottomLeftRadius","borderBottomRightRadius"]),borderLeftRadius:t$5.radii(["borderTopLeftRadius","borderBottomLeftRadius"]),borderRightRadius:t$5.radii(["borderTopRightRadius","borderBottomRightRadius"])};Object.assign(border,{rounded:border.borderRadius,roundedTop:border.borderTopRadius,roundedTopLeft:border.borderTopLeftRadius,roundedTopRight:border.borderTopRightRadius,roundedTopStart:border.borderStartStartRadius,roundedTopEnd:border.borderStartEndRadius,roundedBottom:border.borderBottomRadius,roundedBottomLeft:border.borderBottomLeftRadius,roundedBottomRight:border.borderBottomRightRadius,roundedBottomStart:border.borderEndStartRadius,roundedBottomEnd:border.borderEndEndRadius,roundedLeft:border.borderLeftRadius,roundedRight:border.borderRightRadius,roundedStart:border.borderInlineStartRadius,roundedEnd:border.borderInlineEndRadius,borderStart:border.borderInlineStart,borderEnd:border.borderInlineEnd,borderTopStartRadius:border.borderStartStartRadius,borderTopEndRadius:border.borderStartEndRadius,borderBottomStartRadius:border.borderEndStartRadius,borderBottomEndRadius:border.borderEndEndRadius,borderStartRadius:border.borderInlineStartRadius,borderEndRadius:border.borderInlineEndRadius,borderStartWidth:border.borderInlineStartWidth,borderEndWidth:border.borderInlineEndWidth,borderStartColor:border.borderInlineStartColor,borderEndColor:border.borderInlineEndColor,borderStartStyle:border.borderInlineStartStyle,borderEndStyle:border.borderInlineEndStyle});var color$2={color:t$5.colors("color"),textColor:t$5.colors("color"),fill:t$5.colors("fill"),stroke:t$5.colors("stroke")},effect$3={boxShadow:t$5.shadows("boxShadow"),mixBlendMode:!0,blendMode:t$5.prop("mixBlendMode"),backgroundBlendMode:!0,bgBlendMode:t$5.prop("backgroundBlendMode"),opacity:!0};Object.assign(effect$3,{shadow:effect$3.boxShadow});var filter$2={filter:{transform:transformFunctions.filter},blur:t$5.blur("--chakra-blur"),brightness:t$5.propT("--chakra-brightness",transformFunctions.brightness),contrast:t$5.propT("--chakra-contrast",transformFunctions.contrast),hueRotate:t$5.propT("--chakra-hue-rotate",transformFunctions.hueRotate),invert:t$5.propT("--chakra-invert",transformFunctions.invert),saturate:t$5.propT("--chakra-saturate",transformFunctions.saturate),dropShadow:t$5.propT("--chakra-drop-shadow",transformFunctions.dropShadow),backdropFilter:{transform:transformFunctions.backdropFilter},backdropBlur:t$5.blur("--chakra-backdrop-blur"),backdropBrightness:t$5.propT("--chakra-backdrop-brightness",transformFunctions.brightness),backdropContrast:t$5.propT("--chakra-backdrop-contrast",transformFunctions.contrast),backdropHueRotate:t$5.propT("--chakra-backdrop-hue-rotate",transformFunctions.hueRotate),backdropInvert:t$5.propT("--chakra-backdrop-invert",transformFunctions.invert),backdropSaturate:t$5.propT("--chakra-backdrop-saturate",transformFunctions.saturate)},flexbox={alignItems:!0,alignContent:!0,justifyItems:!0,justifyContent:!0,flexWrap:!0,flexDirection:{transform:transformFunctions.flexDirection},flex:!0,flexFlow:!0,flexGrow:!0,flexShrink:!0,flexBasis:t$5.sizes("flexBasis"),justifySelf:!0,alignSelf:!0,order:!0,placeItems:!0,placeContent:!0,placeSelf:!0,gap:t$5.space("gap"),rowGap:t$5.space("rowGap"),columnGap:t$5.space("columnGap")};Object.assign(flexbox,{flexDir:flexbox.flexDirection});var grid={gridGap:t$5.space("gridGap"),gridColumnGap:t$5.space("gridColumnGap"),gridRowGap:t$5.space("gridRowGap"),gridColumn:!0,gridRow:!0,gridAutoFlow:!0,gridAutoColumns:!0,gridColumnStart:!0,gridColumnEnd:!0,gridRowStart:!0,gridRowEnd:!0,gridAutoRows:!0,gridTemplate:!0,gridTemplateColumns:!0,gridTemplateRows:!0,gridTemplateAreas:!0,gridArea:!0},interactivity={appearance:!0,cursor:!0,resize:!0,userSelect:!0,pointerEvents:!0,outline:{transform:transformFunctions.outline},outlineOffset:!0,outlineColor:t$5.colors("outlineColor")},layout$1={width:t$5.sizesT("width"),inlineSize:t$5.sizesT("inlineSize"),height:t$5.sizes("height"),blockSize:t$5.sizes("blockSize"),boxSize:t$5.sizes(["width","height"]),minWidth:t$5.sizes("minWidth"),minInlineSize:t$5.sizes("minInlineSize"),minHeight:t$5.sizes("minHeight"),minBlockSize:t$5.sizes("minBlockSize"),maxWidth:t$5.sizes("maxWidth"),maxInlineSize:t$5.sizes("maxInlineSize"),maxHeight:t$5.sizes("maxHeight"),maxBlockSize:t$5.sizes("maxBlockSize"),overflow:!0,overflowX:!0,overflowY:!0,overscrollBehavior:!0,overscrollBehaviorX:!0,overscrollBehaviorY:!0,display:!0,aspectRatio:!0,hideFrom:{scale:"breakpoints",transform:(_,a)=>{var $,j,et;return{[`@media screen and (min-width: ${(et=(j=($=a.__breakpoints)==null?void 0:$.get(_))==null?void 0:j.minW)!=null?et:_})`]:{display:"none"}}}},hideBelow:{scale:"breakpoints",transform:(_,a)=>{var $,j,et;return{[`@media screen and (max-width: ${(et=(j=($=a.__breakpoints)==null?void 0:$.get(_))==null?void 0:j._minW)!=null?et:_})`]:{display:"none"}}}},verticalAlign:!0,boxSizing:!0,boxDecorationBreak:!0,float:t$5.propT("float",transformFunctions.float),objectFit:!0,objectPosition:!0,visibility:!0,isolation:!0};Object.assign(layout$1,{w:layout$1.width,h:layout$1.height,minW:layout$1.minWidth,maxW:layout$1.maxWidth,minH:layout$1.minHeight,maxH:layout$1.maxHeight,overscroll:layout$1.overscrollBehavior,overscrollX:layout$1.overscrollBehaviorX,overscrollY:layout$1.overscrollBehaviorY});var list={listStyleType:!0,listStylePosition:!0,listStylePos:t$5.prop("listStylePosition"),listStyleImage:!0,listStyleImg:t$5.prop("listStyleImage")};function get$5(_,a,$,j){const et=typeof a=="string"?a.split("."):[a];for(j=0;j<et.length&&_;j+=1)_=_[et[j]];return _===void 0?$:_}var memoize$1=_=>{const a=new WeakMap;return(j,et,tt,rt)=>{if(typeof j>"u")return _(j,et,tt);a.has(j)||a.set(j,new Map);const nt=a.get(j);if(nt.has(et))return nt.get(et);const it=_(j,et,tt,rt);return nt.set(et,it),it}},memoizedGet$1=memoize$1(get$5),srOnly={border:"0px",clip:"rect(0, 0, 0, 0)",width:"1px",height:"1px",margin:"-1px",padding:"0px",overflow:"hidden",whiteSpace:"nowrap",position:"absolute"},srFocusable={position:"static",width:"auto",height:"auto",clip:"auto",padding:"0",margin:"0",overflow:"visible",whiteSpace:"normal"},getWithPriority=(_,a,$)=>{const j={},et=memoizedGet$1(_,a,{});for(const tt in et)tt in $&&$[tt]!=null||(j[tt]=et[tt]);return j},others={srOnly:{transform(_){return _===!0?srOnly:_==="focusable"?srFocusable:{}}},layerStyle:{processResult:!0,transform:(_,a,$)=>getWithPriority(a,`layerStyles.${_}`,$)},textStyle:{processResult:!0,transform:(_,a,$)=>getWithPriority(a,`textStyles.${_}`,$)},apply:{processResult:!0,transform:(_,a,$)=>getWithPriority(a,_,$)}},position={position:!0,pos:t$5.prop("position"),zIndex:t$5.prop("zIndex","zIndices"),inset:t$5.spaceT("inset"),insetX:t$5.spaceT(["left","right"]),insetInline:t$5.spaceT("insetInline"),insetY:t$5.spaceT(["top","bottom"]),insetBlock:t$5.spaceT("insetBlock"),top:t$5.spaceT("top"),insetBlockStart:t$5.spaceT("insetBlockStart"),bottom:t$5.spaceT("bottom"),insetBlockEnd:t$5.spaceT("insetBlockEnd"),left:t$5.spaceT("left"),insetInlineStart:t$5.logical({scale:"space",property:{ltr:"left",rtl:"right"}}),right:t$5.spaceT("right"),insetInlineEnd:t$5.logical({scale:"space",property:{ltr:"right",rtl:"left"}})};Object.assign(position,{insetStart:position.insetInlineStart,insetEnd:position.insetInlineEnd});var ring={ring:{transform:transformFunctions.ring},ringColor:t$5.colors("--chakra-ring-color"),ringOffset:t$5.prop("--chakra-ring-offset-width"),ringOffsetColor:t$5.colors("--chakra-ring-offset-color"),ringInset:t$5.prop("--chakra-ring-inset")},space={margin:t$5.spaceT("margin"),marginTop:t$5.spaceT("marginTop"),marginBlockStart:t$5.spaceT("marginBlockStart"),marginRight:t$5.spaceT("marginRight"),marginInlineEnd:t$5.spaceT("marginInlineEnd"),marginBottom:t$5.spaceT("marginBottom"),marginBlockEnd:t$5.spaceT("marginBlockEnd"),marginLeft:t$5.spaceT("marginLeft"),marginInlineStart:t$5.spaceT("marginInlineStart"),marginX:t$5.spaceT(["marginInlineStart","marginInlineEnd"]),marginInline:t$5.spaceT("marginInline"),marginY:t$5.spaceT(["marginTop","marginBottom"]),marginBlock:t$5.spaceT("marginBlock"),padding:t$5.space("padding"),paddingTop:t$5.space("paddingTop"),paddingBlockStart:t$5.space("paddingBlockStart"),paddingRight:t$5.space("paddingRight"),paddingBottom:t$5.space("paddingBottom"),paddingBlockEnd:t$5.space("paddingBlockEnd"),paddingLeft:t$5.space("paddingLeft"),paddingInlineStart:t$5.space("paddingInlineStart"),paddingInlineEnd:t$5.space("paddingInlineEnd"),paddingX:t$5.space(["paddingInlineStart","paddingInlineEnd"]),paddingInline:t$5.space("paddingInline"),paddingY:t$5.space(["paddingTop","paddingBottom"]),paddingBlock:t$5.space("paddingBlock")};Object.assign(space,{m:space.margin,mt:space.marginTop,mr:space.marginRight,me:space.marginInlineEnd,marginEnd:space.marginInlineEnd,mb:space.marginBottom,ml:space.marginLeft,ms:space.marginInlineStart,marginStart:space.marginInlineStart,mx:space.marginX,my:space.marginY,p:space.padding,pt:space.paddingTop,py:space.paddingY,px:space.paddingX,pb:space.paddingBottom,pl:space.paddingLeft,ps:space.paddingInlineStart,paddingStart:space.paddingInlineStart,pr:space.paddingRight,pe:space.paddingInlineEnd,paddingEnd:space.paddingInlineEnd});var textDecoration={textDecorationColor:t$5.colors("textDecorationColor"),textDecoration:!0,textDecor:{property:"textDecoration"},textDecorationLine:!0,textDecorationStyle:!0,textDecorationThickness:!0,textUnderlineOffset:!0,textShadow:t$5.shadows("textShadow")},transform={clipPath:!0,transform:t$5.propT("transform",transformFunctions.transform),transformOrigin:!0,translateX:t$5.spaceT("--chakra-translate-x"),translateY:t$5.spaceT("--chakra-translate-y"),skewX:t$5.degreeT("--chakra-skew-x"),skewY:t$5.degreeT("--chakra-skew-y"),scaleX:t$5.prop("--chakra-scale-x"),scaleY:t$5.prop("--chakra-scale-y"),scale:t$5.prop(["--chakra-scale-x","--chakra-scale-y"]),rotate:t$5.degreeT("--chakra-rotate")},transition$1={transition:!0,transitionDelay:!0,animation:!0,willChange:!0,transitionDuration:t$5.prop("transitionDuration","transition.duration"),transitionProperty:t$5.prop("transitionProperty","transition.property"),transitionTimingFunction:t$5.prop("transitionTimingFunction","transition.easing")},typography$1={fontFamily:t$5.prop("fontFamily","fonts"),fontSize:t$5.prop("fontSize","fontSizes",transformFunctions.px),fontWeight:t$5.prop("fontWeight","fontWeights"),lineHeight:t$5.prop("lineHeight","lineHeights"),letterSpacing:t$5.prop("letterSpacing","letterSpacings"),textAlign:!0,fontStyle:!0,textIndent:!0,wordBreak:!0,overflowWrap:!0,textOverflow:!0,textTransform:!0,whiteSpace:!0,isTruncated:{transform(_){if(_===!0)return{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}}},noOfLines:{static:{overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitBoxOrient:"vertical",WebkitLineClamp:"var(--chakra-line-clamp)"},property:"--chakra-line-clamp"}},scroll={scrollBehavior:!0,scrollSnapAlign:!0,scrollSnapStop:!0,scrollSnapType:!0,scrollMargin:t$5.spaceT("scrollMargin"),scrollMarginTop:t$5.spaceT("scrollMarginTop"),scrollMarginBottom:t$5.spaceT("scrollMarginBottom"),scrollMarginLeft:t$5.spaceT("scrollMarginLeft"),scrollMarginRight:t$5.spaceT("scrollMarginRight"),scrollMarginX:t$5.spaceT(["scrollMarginLeft","scrollMarginRight"]),scrollMarginY:t$5.spaceT(["scrollMarginTop","scrollMarginBottom"]),scrollPadding:t$5.spaceT("scrollPadding"),scrollPaddingTop:t$5.spaceT("scrollPaddingTop"),scrollPaddingBottom:t$5.spaceT("scrollPaddingBottom"),scrollPaddingLeft:t$5.spaceT("scrollPaddingLeft"),scrollPaddingRight:t$5.spaceT("scrollPaddingRight"),scrollPaddingX:t$5.spaceT(["scrollPaddingLeft","scrollPaddingRight"]),scrollPaddingY:t$5.spaceT(["scrollPaddingTop","scrollPaddingBottom"])};function resolveReference(_){return isObject$4(_)&&_.reference?_.reference:String(_)}var toExpression=(_,...a)=>a.map(resolveReference).join(` ${_} `).replace(/calc/g,""),add$2=(..._)=>`calc(${toExpression("+",..._)})`,subtract$1=(..._)=>`calc(${toExpression("-",..._)})`,multiply$1=(..._)=>`calc(${toExpression("*",..._)})`,divide$1=(..._)=>`calc(${toExpression("/",..._)})`,negate$1=_=>{const a=resolveReference(_);return a!=null&&!Number.isNaN(parseFloat(a))?String(a).startsWith("-")?String(a).slice(1):`-${a}`:multiply$1(a,-1)},calc$1=Object.assign(_=>({add:(...a)=>calc$1(add$2(_,...a)),subtract:(...a)=>calc$1(subtract$1(_,...a)),multiply:(...a)=>calc$1(multiply$1(_,...a)),divide:(...a)=>calc$1(divide$1(_,...a)),negate:()=>calc$1(negate$1(_)),toString:()=>_.toString()}),{add:add$2,subtract:subtract$1,multiply:multiply$1,divide:divide$1,negate:negate$1});function replaceWhiteSpace$1(_,a="-"){return _.replace(/\s+/g,a)}function escape$2(_){const a=replaceWhiteSpace$1(_.toString());return escapeSymbol(escapeDot(a))}function escapeDot(_){return _.includes("\\.")?_:!Number.isInteger(parseFloat(_.toString()))?_.replace(".","\\."):_}function escapeSymbol(_){return _.replace(/[!-,/:-@[-^`{-~]/g,"\\$&")}function addPrefix$1(_,a=""){return[a,_].filter(Boolean).join("-")}function toVarReference(_,a){return`var(${_}${a?`, ${a}`:""})`}function toVarDefinition(_,a=""){return escape$2(`--${addPrefix$1(_,a)}`)}function cssVar$1(_,a,$){const j=toVarDefinition(_,$);return{variable:j,reference:toVarReference(j,a)}}function defineCssVars(_,a){const $={};for(const j of a){if(Array.isArray(j)){const[et,tt]=j;$[et]=cssVar$1(`${_}-${et}`,tt);continue}$[j]=cssVar$1(`${_}-${j}`)}return $}function getLastItem(_){const a=_==null?0:_.length;return a?_[a-1]:void 0}function analyzeCSSValue2(_){const a=parseFloat(_.toString()),$=_.toString().replace(String(a),"");return{unitless:!$,value:a,unit:$}}function px$1(_){if(_==null)return _;const{unitless:a}=analyzeCSSValue2(_);return a||typeof _=="number"?`${_}px`:_}var sortByBreakpointValue=(_,a)=>parseInt(_[1],10)>parseInt(a[1],10)?1:-1,sortBps=_=>Object.fromEntries(Object.entries(_).sort(sortByBreakpointValue));function normalize$1(_){const a=sortBps(_);return Object.assign(Object.values(a),a)}function keys$1(_){const a=Object.keys(sortBps(_));return new Set(a)}function subtract2(_){var a;if(!_)return _;_=(a=px$1(_))!=null?a:_;const $=-.02;return typeof _=="number"?`${_+$}`:_.replace(/(\d+\.?\d*)/u,j=>`${parseFloat(j)+$}`)}function toMediaQueryString(_,a){const $=["@media screen"];return _&&$.push("and",`(min-width: ${px$1(_)})`),a&&$.push("and",`(max-width: ${px$1(a)})`),$.join(" ")}function analyzeBreakpoints(_){var a;if(!_)return null;_.base=(a=_.base)!=null?a:"0px";const $=normalize$1(_),j=Object.entries(_).sort(sortByBreakpointValue).map(([rt,nt],it,ot)=>{var st;let[,ct]=(st=ot[it+1])!=null?st:[];return ct=parseFloat(ct)>0?subtract2(ct):void 0,{_minW:subtract2(nt),breakpoint:rt,minW:nt,maxW:ct,maxWQuery:toMediaQueryString(null,ct),minWQuery:toMediaQueryString(nt),minMaxQuery:toMediaQueryString(nt,ct)}}),et=keys$1(_),tt=Array.from(et.values());return{keys:et,normalized:$,isResponsive(rt){const nt=Object.keys(rt);return nt.length>0&&nt.every(it=>et.has(it))},asObject:sortBps(_),asArray:normalize$1(_),details:j,get(rt){return j.find(nt=>nt.breakpoint===rt)},media:[null,...$.map(rt=>toMediaQueryString(rt)).slice(1)],toArrayValue(rt){if(!isObject$4(rt))throw new Error("toArrayValue: value must be an object");const nt=tt.map(it=>{var ot;return(ot=rt[it])!=null?ot:null});for(;getLastItem(nt)===null;)nt.pop();return nt},toObjectValue(rt){if(!Array.isArray(rt))throw new Error("toObjectValue: value must be an array");return rt.reduce((nt,it,ot)=>{const st=tt[ot];return st!=null&&it!=null&&(nt[st]=it),nt},{})}}}var state$1={hover:(_,a)=>`${_}:hover ${a}, ${_}[data-hover] ${a}`,focus:(_,a)=>`${_}:focus ${a}, ${_}[data-focus] ${a}`,focusVisible:(_,a)=>`${_}:focus-visible ${a}`,focusWithin:(_,a)=>`${_}:focus-within ${a}`,active:(_,a)=>`${_}:active ${a}, ${_}[data-active] ${a}`,disabled:(_,a)=>`${_}:disabled ${a}, ${_}[data-disabled] ${a}`,invalid:(_,a)=>`${_}:invalid ${a}, ${_}[data-invalid] ${a}`,checked:(_,a)=>`${_}:checked ${a}, ${_}[data-checked] ${a}`,indeterminate:(_,a)=>`${_}:indeterminate ${a}, ${_}[aria-checked=mixed] ${a}, ${_}[data-indeterminate] ${a}`,readOnly:(_,a)=>`${_}:read-only ${a}, ${_}[readonly] ${a}, ${_}[data-read-only] ${a}`,expanded:(_,a)=>`${_}:read-only ${a}, ${_}[aria-expanded=true] ${a}, ${_}[data-expanded] ${a}`,placeholderShown:(_,a)=>`${_}:placeholder-shown ${a}`},toGroup=_=>merge$1(a=>_(a,"&"),"[role=group]","[data-group]",".group"),toPeer=_=>merge$1(a=>_(a,"~ &"),"[data-peer]",".peer"),merge$1=(_,...a)=>a.map(_).join(", "),pseudoSelectors={_hover:"&:hover, &[data-hover]",_active:"&:active, &[data-active]",_focus:"&:focus, &[data-focus]",_highlighted:"&[data-highlighted]",_focusWithin:"&:focus-within",_focusVisible:"&:focus-visible, &[data-focus-visible]",_disabled:"&:disabled, &[disabled], &[aria-disabled=true], &[data-disabled]",_readOnly:"&[aria-readonly=true], &[readonly], &[data-readonly]",_before:"&::before",_after:"&::after",_empty:"&:empty",_expanded:"&[aria-expanded=true], &[data-expanded]",_checked:"&[aria-checked=true], &[data-checked]",_grabbed:"&[aria-grabbed=true], &[data-grabbed]",_pressed:"&[aria-pressed=true], &[data-pressed]",_invalid:"&[aria-invalid=true], &[data-invalid]",_valid:"&[data-valid], &[data-state=valid]",_loading:"&[data-loading], &[aria-busy=true]",_selected:"&[aria-selected=true], &[data-selected]",_hidden:"&[hidden], &[data-hidden]",_autofill:"&:-webkit-autofill",_even:"&:nth-of-type(even)",_odd:"&:nth-of-type(odd)",_first:"&:first-of-type",_firstLetter:"&::first-letter",_last:"&:last-of-type",_notFirst:"&:not(:first-of-type)",_notLast:"&:not(:last-of-type)",_visited:"&:visited",_activeLink:"&[aria-current=page]",_activeStep:"&[aria-current=step]",_indeterminate:"&:indeterminate, &[aria-checked=mixed], &[data-indeterminate]",_groupHover:toGroup(state$1.hover),_peerHover:toPeer(state$1.hover),_groupFocus:toGroup(state$1.focus),_peerFocus:toPeer(state$1.focus),_groupFocusVisible:toGroup(state$1.focusVisible),_peerFocusVisible:toPeer(state$1.focusVisible),_groupActive:toGroup(state$1.active),_peerActive:toPeer(state$1.active),_groupDisabled:toGroup(state$1.disabled),_peerDisabled:toPeer(state$1.disabled),_groupInvalid:toGroup(state$1.invalid),_peerInvalid:toPeer(state$1.invalid),_groupChecked:toGroup(state$1.checked),_peerChecked:toPeer(state$1.checked),_groupFocusWithin:toGroup(state$1.focusWithin),_peerFocusWithin:toPeer(state$1.focusWithin),_peerPlaceholderShown:toPeer(state$1.placeholderShown),_placeholder:"&::placeholder",_placeholderShown:"&:placeholder-shown",_fullScreen:"&:fullscreen",_selection:"&::selection",_rtl:"[dir=rtl] &, &[dir=rtl]",_ltr:"[dir=ltr] &, &[dir=ltr]",_mediaDark:"@media (prefers-color-scheme: dark)",_mediaReduceMotion:"@media (prefers-reduced-motion: reduce)",_dark:".chakra-ui-dark &:not([data-theme]),[data-theme=dark] &:not([data-theme]),&[data-theme=dark]",_light:".chakra-ui-light &:not([data-theme]),[data-theme=light] &:not([data-theme]),&[data-theme=light]",_horizontal:"&[data-orientation=horizontal]",_vertical:"&[data-orientation=vertical]"},pseudoPropNames=Object.keys(pseudoSelectors);function tokenToCssVar(_,a){return cssVar$1(String(_).replace(/\./g,"-"),void 0,a)}function createThemeVars(_,a){let $={};const j={};for(const[et,tt]of Object.entries(_)){const{isSemantic:rt,value:nt}=tt,{variable:it,reference:ot}=tokenToCssVar(et,a==null?void 0:a.cssVarPrefix);if(!rt){if(et.startsWith("space")){const ut=et.split("."),[ht,...Et]=ut,St=`${ht}.-${Et.join(".")}`,Mt=calc$1.negate(nt),kt=calc$1.negate(ot);j[St]={value:Mt,var:it,varRef:kt}}$[it]=nt,j[et]={value:nt,var:it,varRef:ot};continue}const st=ut=>{const Et=[String(et).split(".")[0],ut].join(".");if(!_[Et])return ut;const{reference:Mt}=tokenToCssVar(Et,a==null?void 0:a.cssVarPrefix);return Mt},ct=isObject$4(nt)?nt:{default:nt};$=mergeWith($,Object.entries(ct).reduce((ut,[ht,Et])=>{var St,Mt;if(!Et)return ut;const kt=st(`${Et}`);if(ht==="default")return ut[it]=kt,ut;const Ct=(Mt=(St=pseudoSelectors)==null?void 0:St[ht])!=null?Mt:ht;return ut[Ct]={[it]:kt},ut},{})),j[et]={value:ot,var:it,varRef:ot}}return{cssVars:$,cssMap:j}}function omit$6(_,a=[]){const $=Object.assign({},_);for(const j of a)j in $&&delete $[j];return $}function pick$2(_,a){const $={};for(const j of a)j in _&&($[j]=_[j]);return $}function isObject5(_){return typeof _=="object"&&_!=null&&!Array.isArray(_)}function walkObject(_,a,$={}){const{stop:j,getKey:et}=$;function tt(rt,nt=[]){var it;if(isObject5(rt)||Array.isArray(rt)){const ot={};for(const[st,ct]of Object.entries(rt)){const ut=(it=et==null?void 0:et(st))!=null?it:st,ht=[...nt,ut];if(j!=null&&j(rt,ht))return a(rt,nt);ot[ut]=tt(ct,ht)}return ot}return a(rt,nt)}return tt(_)}var tokens$1=["colors","borders","borderWidths","borderStyles","fonts","fontSizes","fontWeights","gradients","letterSpacings","lineHeights","radii","space","shadows","sizes","zIndices","transition","blur","breakpoints"];function extractTokens(_){return pick$2(_,tokens$1)}function extractSemanticTokens(_){return _.semanticTokens}function omitVars(_){const{__cssMap:a,__cssVars:$,__breakpoints:j,...et}=_;return et}var isSemanticCondition=_=>pseudoPropNames.includes(_)||_==="default";function flattenTokens({tokens:_,semanticTokens:a}){const $={};return walkObject(_,(j,et)=>{j!=null&&($[et.join(".")]={isSemantic:!1,value:j})}),walkObject(a,(j,et)=>{j!=null&&($[et.join(".")]={isSemantic:!0,value:j})},{stop:j=>Object.keys(j).every(isSemanticCondition)}),$}function toCSSVar(_){var a;const $=omitVars(_),j=extractTokens($),et=extractSemanticTokens($),tt=flattenTokens({tokens:j,semanticTokens:et}),rt=(a=$.config)==null?void 0:a.cssVarPrefix,{cssMap:nt,cssVars:it}=createThemeVars(tt,{cssVarPrefix:rt});return Object.assign($,{__cssVars:{...{"--chakra-ring-inset":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-ring-offset-width":"0px","--chakra-ring-offset-color":"#fff","--chakra-ring-color":"rgba(66, 153, 225, 0.6)","--chakra-ring-offset-shadow":"0 0 #0000","--chakra-ring-shadow":"0 0 #0000","--chakra-space-x-reverse":"0","--chakra-space-y-reverse":"0"},...it},__cssMap:nt,__breakpoints:analyzeBreakpoints($.breakpoints)}),$}var systemProps=mergeWith({},background,border,color$2,flexbox,layout$1,filter$2,ring,interactivity,grid,others,position,effect$3,space,scroll,typography$1,textDecoration,transform,list,transition$1),layoutSystem=Object.assign({},space,layout$1,flexbox,grid,position),layoutPropNames=Object.keys(layoutSystem),propNames=[...Object.keys(systemProps),...pseudoPropNames],styleProps={...systemProps,...pseudoSelectors},isStyleProp=_=>_ in styleProps,expandResponsive=_=>a=>{if(!a.__breakpoints)return _;const{isResponsive:$,toArrayValue:j,media:et}=a.__breakpoints,tt={};for(const rt in _){let nt=runIfFn$2(_[rt],a);if(nt==null)continue;if(nt=isObject$4(nt)&&$(nt)?j(nt):nt,!Array.isArray(nt)){tt[rt]=nt;continue}const it=nt.slice(0,et.length).length;for(let ot=0;ot<it;ot+=1){const st=et==null?void 0:et[ot];if(!st){tt[rt]=nt[ot];continue}tt[st]=tt[st]||{},nt[ot]!=null&&(tt[st][rt]=nt[ot])}}return tt};function splitByComma(_){const a=[];let $="",j=!1;for(let et=0;et<_.length;et++){const tt=_[et];tt==="("?(j=!0,$+=tt):tt===")"?(j=!1,$+=tt):tt===","&&!j?(a.push($),$=""):$+=tt}return $=$.trim(),$&&a.push($),a}function isCssVar2(_){return/^var\(--.+\)$/.test(_)}var isCSSVariableTokenValue=(_,a)=>_.startsWith("--")&&typeof a=="string"&&!isCssVar2(a),resolveTokenValue=(_,a)=>{var $,j;if(a==null)return a;const et=it=>{var ot,st;return(st=(ot=_.__cssMap)==null?void 0:ot[it])==null?void 0:st.varRef},tt=it=>{var ot;return(ot=et(it))!=null?ot:it},[rt,nt]=splitByComma(a);return a=(j=($=et(rt))!=null?$:tt(nt))!=null?j:tt(a),a};function getCss(_){const{configs:a={},pseudos:$={},theme:j}=_,et=(tt,rt=!1)=>{var nt,it,ot;const st=runIfFn$2(tt,j),ct=expandResponsive(st)(j);let ut={};for(let ht in ct){const Et=ct[ht];let St=runIfFn$2(Et,j);ht in $&&(ht=$[ht]),isCSSVariableTokenValue(ht,St)&&(St=resolveTokenValue(j,St));let Mt=a[ht];if(Mt===!0&&(Mt={property:ht}),isObject$4(St)){ut[ht]=(nt=ut[ht])!=null?nt:{},ut[ht]=mergeWith({},ut[ht],et(St,!0));continue}let kt=(ot=(it=Mt==null?void 0:Mt.transform)==null?void 0:it.call(Mt,St,j,st))!=null?ot:St;kt=Mt!=null&&Mt.processResult?et(kt,!0):kt;const Ct=runIfFn$2(Mt==null?void 0:Mt.property,j);if(!rt&&(Mt!=null&&Mt.static)){const Ot=runIfFn$2(Mt.static,j);ut=mergeWith({},ut,Ot)}if(Ct&&Array.isArray(Ct)){for(const Ot of Ct)ut[Ot]=kt;continue}if(Ct){Ct==="&"&&isObject$4(kt)?ut=mergeWith({},ut,kt):ut[Ct]=kt;continue}if(isObject$4(kt)){ut=mergeWith({},ut,kt);continue}ut[ht]=kt}return ut};return et}var css=_=>a=>getCss({theme:a,pseudos:pseudoSelectors,configs:systemProps})(_);function defineStyle(_){return _}function defineStyleConfig(_){return _}function createMultiStyleConfigHelpers(_){return{definePartsStyle(a){return a},defineMultiStyleConfig(a){return{parts:_,...a}}}}function normalize2(_,a){if(Array.isArray(_))return _;if(isObject$4(_))return a(_);if(_!=null)return[_]}function getNextIndex$1(_,a){for(let $=a+1;$<_.length;$++)if(_[$]!=null)return $;return-1}function createResolver(_){const a=_.__breakpoints;return function(j,et,tt,rt){var nt,it;if(!a)return;const ot={},st=normalize2(tt,a.toArrayValue);if(!st)return ot;const ct=st.length,ut=ct===1,ht=!!j.parts;for(let Et=0;Et<ct;Et++){const St=a.details[Et],Mt=a.details[getNextIndex$1(st,Et)],kt=toMediaQueryString(St.minW,Mt==null?void 0:Mt._minW),Ct=runIfFn$2((nt=j[et])==null?void 0:nt[st[Et]],rt);if(Ct){if(ht){(it=j.parts)==null||it.forEach(Ot=>{mergeWith(ot,{[Ot]:ut?Ct[Ot]:{[kt]:Ct[Ot]}})});continue}if(!ht){ut?mergeWith(ot,Ct):ot[kt]=Ct;continue}ot[kt]=Ct}}return ot}}function resolveStyleConfig(_){return a=>{var $;const{variant:j,size:et,theme:tt}=a,rt=createResolver(tt);return mergeWith({},runIfFn$2(($=_.baseStyle)!=null?$:{},a),rt(_,"sizes",et,a),rt(_,"variants",j,a))}}function getCSSVar(_,a,$){var j,et,tt;return(tt=(et=(j=_.__cssMap)==null?void 0:j[`${a}.${$}`])==null?void 0:et.varRef)!=null?tt:$}function omitThemingProps(_){return omit$6(_,["styleConfig","size","variant","colorScheme"])}var requiredChakraThemeKeys=["borders","breakpoints","colors","components","config","direction","fonts","fontSizes","fontWeights","letterSpacings","lineHeights","radii","shadows","sizes","space","styles","transition","zIndices"];function isChakraTheme(_){return isObject$4(_)?requiredChakraThemeKeys.every(a=>Object.prototype.hasOwnProperty.call(_,a)):!1}var transitionProperty={common:"background-color, border-color, color, fill, stroke, opacity, box-shadow, transform",colors:"background-color, border-color, color, fill, stroke",dimensions:"width, height",position:"left, right, top, bottom",background:"background-color, background-image, background-position"},transitionTimingFunction={"ease-in":"cubic-bezier(0.4, 0, 1, 1)","ease-out":"cubic-bezier(0, 0, 0.2, 1)","ease-in-out":"cubic-bezier(0.4, 0, 0.2, 1)"},transitionDuration={"ultra-fast":"50ms",faster:"100ms",fast:"150ms",normal:"200ms",slow:"300ms",slower:"400ms","ultra-slow":"500ms"},transition={property:transitionProperty,easing:transitionTimingFunction,duration:transitionDuration},transition_default=transition,zIndices={hide:-1,auto:"auto",base:0,docked:10,dropdown:1e3,sticky:1100,banner:1200,overlay:1300,modal:1400,popover:1500,skipLink:1600,toast:1700,tooltip:1800},z_index_default=zIndices,borders$1={none:0,"1px":"1px solid","2px":"2px solid","4px":"4px solid","8px":"8px solid"},borders_default=borders$1,breakpoints={base:"0em",sm:"30em",md:"48em",lg:"62em",xl:"80em","2xl":"96em"},breakpoints_default=breakpoints,colors$1={transparent:"transparent",current:"currentColor",black:"#000000",white:"#FFFFFF",whiteAlpha:{50:"rgba(255, 255, 255, 0.04)",100:"rgba(255, 255, 255, 0.06)",200:"rgba(255, 255, 255, 0.08)",300:"rgba(255, 255, 255, 0.16)",400:"rgba(255, 255, 255, 0.24)",500:"rgba(255, 255, 255, 0.36)",600:"rgba(255, 255, 255, 0.48)",700:"rgba(255, 255, 255, 0.64)",800:"rgba(255, 255, 255, 0.80)",900:"rgba(255, 255, 255, 0.92)"},blackAlpha:{50:"rgba(0, 0, 0, 0.04)",100:"rgba(0, 0, 0, 0.06)",200:"rgba(0, 0, 0, 0.08)",300:"rgba(0, 0, 0, 0.16)",400:"rgba(0, 0, 0, 0.24)",500:"rgba(0, 0, 0, 0.36)",600:"rgba(0, 0, 0, 0.48)",700:"rgba(0, 0, 0, 0.64)",800:"rgba(0, 0, 0, 0.80)",900:"rgba(0, 0, 0, 0.92)"},gray:{50:"#F7FAFC",100:"#EDF2F7",200:"#E2E8F0",300:"#CBD5E0",400:"#A0AEC0",500:"#718096",600:"#4A5568",700:"#2D3748",800:"#1A202C",900:"#171923"},red:{50:"#FFF5F5",100:"#FED7D7",200:"#FEB2B2",300:"#FC8181",400:"#F56565",500:"#E53E3E",600:"#C53030",700:"#9B2C2C",800:"#822727",900:"#63171B"},orange:{50:"#FFFAF0",100:"#FEEBC8",200:"#FBD38D",300:"#F6AD55",400:"#ED8936",500:"#DD6B20",600:"#C05621",700:"#9C4221",800:"#7B341E",900:"#652B19"},yellow:{50:"#FFFFF0",100:"#FEFCBF",200:"#FAF089",300:"#F6E05E",400:"#ECC94B",500:"#D69E2E",600:"#B7791F",700:"#975A16",800:"#744210",900:"#5F370E"},green:{50:"#F0FFF4",100:"#C6F6D5",200:"#9AE6B4",300:"#68D391",400:"#48BB78",500:"#38A169",600:"#2F855A",700:"#276749",800:"#22543D",900:"#1C4532"},teal:{50:"#E6FFFA",100:"#B2F5EA",200:"#81E6D9",300:"#4FD1C5",400:"#38B2AC",500:"#319795",600:"#2C7A7B",700:"#285E61",800:"#234E52",900:"#1D4044"},blue:{50:"#ebf8ff",100:"#bee3f8",200:"#90cdf4",300:"#63b3ed",400:"#4299e1",500:"#3182ce",600:"#2b6cb0",700:"#2c5282",800:"#2a4365",900:"#1A365D"},cyan:{50:"#EDFDFD",100:"#C4F1F9",200:"#9DECF9",300:"#76E4F7",400:"#0BC5EA",500:"#00B5D8",600:"#00A3C4",700:"#0987A0",800:"#086F83",900:"#065666"},purple:{50:"#FAF5FF",100:"#E9D8FD",200:"#D6BCFA",300:"#B794F4",400:"#9F7AEA",500:"#805AD5",600:"#6B46C1",700:"#553C9A",800:"#44337A",900:"#322659"},pink:{50:"#FFF5F7",100:"#FED7E2",200:"#FBB6CE",300:"#F687B3",400:"#ED64A6",500:"#D53F8C",600:"#B83280",700:"#97266D",800:"#702459",900:"#521B41"},linkedin:{50:"#E8F4F9",100:"#CFEDFB",200:"#9BDAF3",300:"#68C7EC",400:"#34B3E4",500:"#00A0DC",600:"#008CC9",700:"#0077B5",800:"#005E93",900:"#004471"},facebook:{50:"#E8F4F9",100:"#D9DEE9",200:"#B7C2DA",300:"#6482C0",400:"#4267B2",500:"#385898",600:"#314E89",700:"#29487D",800:"#223B67",900:"#1E355B"},messenger:{50:"#D0E6FF",100:"#B9DAFF",200:"#A2CDFF",300:"#7AB8FF",400:"#2E90FF",500:"#0078FF",600:"#0063D1",700:"#0052AC",800:"#003C7E",900:"#002C5C"},whatsapp:{50:"#dffeec",100:"#b9f5d0",200:"#90edb3",300:"#65e495",400:"#3cdd78",500:"#22c35e",600:"#179848",700:"#0c6c33",800:"#01421c",900:"#001803"},twitter:{50:"#E5F4FD",100:"#C8E9FB",200:"#A8DCFA",300:"#83CDF7",400:"#57BBF5",500:"#1DA1F2",600:"#1A94DA",700:"#1681BF",800:"#136B9E",900:"#0D4D71"},telegram:{50:"#E3F2F9",100:"#C5E4F3",200:"#A2D4EC",300:"#7AC1E4",400:"#47A9DA",500:"#0088CC",600:"#007AB8",700:"#006BA1",800:"#005885",900:"#003F5E"}},colors_default=colors$1,radii={none:"0",sm:"0.125rem",base:"0.25rem",md:"0.375rem",lg:"0.5rem",xl:"0.75rem","2xl":"1rem","3xl":"1.5rem",full:"9999px"},radius_default=radii,shadows={xs:"0 0 0 1px rgba(0, 0, 0, 0.05)",sm:"0 1px 2px 0 rgba(0, 0, 0, 0.05)",base:"0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06)",md:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)",lg:"0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)",xl:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)","2xl":"0 25px 50px -12px rgba(0, 0, 0, 0.25)",outline:"0 0 0 3px rgba(66, 153, 225, 0.6)",inner:"inset 0 2px 4px 0 rgba(0,0,0,0.06)",none:"none","dark-lg":"rgba(0, 0, 0, 0.1) 0px 0px 0px 1px, rgba(0, 0, 0, 0.2) 0px 5px 10px, rgba(0, 0, 0, 0.4) 0px 15px 40px"},shadows_default=shadows,blur={none:0,sm:"4px",base:"8px",md:"12px",lg:"16px",xl:"24px","2xl":"40px","3xl":"64px"},blur_default=blur,typography={letterSpacings:{tighter:"-0.05em",tight:"-0.025em",normal:"0",wide:"0.025em",wider:"0.05em",widest:"0.1em"},lineHeights:{normal:"normal",none:1,shorter:1.25,short:1.375,base:1.5,tall:1.625,taller:"2",3:".75rem",4:"1rem",5:"1.25rem",6:"1.5rem",7:"1.75rem",8:"2rem",9:"2.25rem",10:"2.5rem"},fontWeights:{hairline:100,thin:200,light:300,normal:400,medium:500,semibold:600,bold:700,extrabold:800,black:900},fonts:{heading:'-apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',body:'-apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',mono:'SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace'},fontSizes:{"3xs":"0.45rem","2xs":"0.625rem",xs:"0.75rem",sm:"0.875rem",md:"1rem",lg:"1.125rem",xl:"1.25rem","2xl":"1.5rem","3xl":"1.875rem","4xl":"2.25rem","5xl":"3rem","6xl":"3.75rem","7xl":"4.5rem","8xl":"6rem","9xl":"8rem"}},typography_default=typography,spacing={px:"1px",.5:"0.125rem",1:"0.25rem",1.5:"0.375rem",2:"0.5rem",2.5:"0.625rem",3:"0.75rem",3.5:"0.875rem",4:"1rem",5:"1.25rem",6:"1.5rem",7:"1.75rem",8:"2rem",9:"2.25rem",10:"2.5rem",12:"3rem",14:"3.5rem",16:"4rem",20:"5rem",24:"6rem",28:"7rem",32:"8rem",36:"9rem",40:"10rem",44:"11rem",48:"12rem",52:"13rem",56:"14rem",60:"15rem",64:"16rem",72:"18rem",80:"20rem",96:"24rem"},largeSizes={max:"max-content",min:"min-content",full:"100%","3xs":"14rem","2xs":"16rem",xs:"20rem",sm:"24rem",md:"28rem",lg:"32rem",xl:"36rem","2xl":"42rem","3xl":"48rem","4xl":"56rem","5xl":"64rem","6xl":"72rem","7xl":"80rem","8xl":"90rem",prose:"60ch"},container={sm:"640px",md:"768px",lg:"1024px",xl:"1280px"},sizes$o={...spacing,...largeSizes,container},sizes_default=sizes$o,foundations={breakpoints:breakpoints_default,zIndices:z_index_default,radii:radius_default,blur:blur_default,colors:colors_default,...typography_default,sizes:sizes_default,shadows:shadows_default,space:spacing,borders:borders_default,transition:transition_default},{defineMultiStyleConfig:defineMultiStyleConfig$w,definePartsStyle:definePartsStyle$w}=createMultiStyleConfigHelpers(["stepper","step","title","description","indicator","separator","icon","number"]),$size$4=cssVar$1("stepper-indicator-size"),$iconSize=cssVar$1("stepper-icon-size"),$titleFontSize=cssVar$1("stepper-title-font-size"),$descFontSize=cssVar$1("stepper-description-font-size"),$accentColor=cssVar$1("stepper-accent-color"),baseStyle$J=definePartsStyle$w(({colorScheme:_})=>({stepper:{display:"flex",justifyContent:"space-between",gap:"4","&[data-orientation=vertical]":{flexDirection:"column",alignItems:"flex-start"},"&[data-orientation=horizontal]":{flexDirection:"row",alignItems:"center"},[$accentColor.variable]:`colors.${_}.500`,_dark:{[$accentColor.variable]:`colors.${_}.200`}},title:{fontSize:$titleFontSize.reference,fontWeight:"medium"},description:{fontSize:$descFontSize.reference,color:"chakra-subtle-text"},number:{fontSize:$titleFontSize.reference},step:{flexShrink:0,position:"relative",display:"flex",gap:"2","&[data-orientation=horizontal]":{alignItems:"center"},flex:"1","&:last-of-type:not([data-stretch])":{flex:"initial"}},icon:{flexShrink:0,width:$iconSize.reference,height:$iconSize.reference},indicator:{flexShrink:0,borderRadius:"full",width:$size$4.reference,height:$size$4.reference,display:"flex",justifyContent:"center",alignItems:"center","&[data-status=active]":{borderWidth:"2px",borderColor:$accentColor.reference},"&[data-status=complete]":{bg:$accentColor.reference,color:"chakra-inverse-text"},"&[data-status=incomplete]":{borderWidth:"2px"}},separator:{bg:"chakra-border-color",flex:"1","&[data-status=complete]":{bg:$accentColor.reference},"&[data-orientation=horizontal]":{width:"100%",height:"2px",marginStart:"2"},"&[data-orientation=vertical]":{width:"2px",position:"absolute",height:"100%",maxHeight:`calc(100% - ${$size$4.reference} - 8px)`,top:`calc(${$size$4.reference} + 4px)`,insetStart:`calc(${$size$4.reference} / 2 - 1px)`}}})),stepperTheme=defineMultiStyleConfig$w({baseStyle:baseStyle$J,sizes:{xs:definePartsStyle$w({stepper:{[$size$4.variable]:"sizes.4",[$iconSize.variable]:"sizes.3",[$titleFontSize.variable]:"fontSizes.xs",[$descFontSize.variable]:"fontSizes.xs"}}),sm:definePartsStyle$w({stepper:{[$size$4.variable]:"sizes.6",[$iconSize.variable]:"sizes.4",[$titleFontSize.variable]:"fontSizes.sm",[$descFontSize.variable]:"fontSizes.xs"}}),md:definePartsStyle$w({stepper:{[$size$4.variable]:"sizes.8",[$iconSize.variable]:"sizes.5",[$titleFontSize.variable]:"fontSizes.md",[$descFontSize.variable]:"fontSizes.sm"}}),lg:definePartsStyle$w({stepper:{[$size$4.variable]:"sizes.10",[$iconSize.variable]:"sizes.6",[$titleFontSize.variable]:"fontSizes.lg",[$descFontSize.variable]:"fontSizes.md"}})},defaultProps:{size:"md",colorScheme:"blue"}});function anatomy(_,a={}){let $=!1;function j(){if(!$){$=!0;return}throw new Error("[anatomy] .part(...) should only be called once. Did you mean to use .extend(...) ?")}function et(...st){j();for(const ct of st)a[ct]=it(ct);return anatomy(_,a)}function tt(...st){for(const ct of st)ct in a||(a[ct]=it(ct));return anatomy(_,a)}function rt(){return Object.fromEntries(Object.entries(a).map(([ct,ut])=>[ct,ut.selector]))}function nt(){return Object.fromEntries(Object.entries(a).map(([ct,ut])=>[ct,ut.className]))}function it(st){const ht=`chakra-${(["container","root"].includes(st??"")?[_]:[_,st]).filter(Boolean).join("__")}`;return{className:ht,selector:`.${ht}`,toString:()=>st}}return{parts:et,toPart:it,extend:tt,selectors:rt,classnames:nt,get keys(){return Object.keys(a)},__type:{}}}var accordionAnatomy=anatomy("accordion").parts("root","container","button","panel").extend("icon"),alertAnatomy=anatomy("alert").parts("title","description","container").extend("icon","spinner"),avatarAnatomy=anatomy("avatar").parts("label","badge","container").extend("excessLabel","group"),breadcrumbAnatomy=anatomy("breadcrumb").parts("link","item","container").extend("separator");anatomy("button").parts();var checkboxAnatomy=anatomy("checkbox").parts("control","icon","container").extend("label");anatomy("progress").parts("track","filledTrack").extend("label");var drawerAnatomy=anatomy("drawer").parts("overlay","dialogContainer","dialog").extend("header","closeButton","body","footer"),editableAnatomy=anatomy("editable").parts("preview","input","textarea"),formAnatomy=anatomy("form").parts("container","requiredIndicator","helperText"),formErrorAnatomy=anatomy("formError").parts("text","icon"),inputAnatomy=anatomy("input").parts("addon","field","element","group"),listAnatomy=anatomy("list").parts("container","item","icon"),menuAnatomy=anatomy("menu").parts("button","list","item").extend("groupTitle","icon","command","divider"),modalAnatomy=anatomy("modal").parts("overlay","dialogContainer","dialog").extend("header","closeButton","body","footer"),numberInputAnatomy=anatomy("numberinput").parts("root","field","stepperGroup","stepper");anatomy("pininput").parts("field");var popoverAnatomy=anatomy("popover").parts("content","header","body","footer").extend("popper","arrow","closeButton"),progressAnatomy=anatomy("progress").parts("label","filledTrack","track"),radioAnatomy=anatomy("radio").parts("container","control","label"),selectAnatomy=anatomy("select").parts("field","icon"),sliderAnatomy=anatomy("slider").parts("container","track","thumb","filledTrack","mark"),statAnatomy=anatomy("stat").parts("container","label","helpText","number","icon"),switchAnatomy=anatomy("switch").parts("container","track","thumb","label"),tableAnatomy=anatomy("table").parts("table","thead","tbody","tr","th","td","tfoot","caption"),tabsAnatomy=anatomy("tabs").parts("root","tab","tablist","tabpanel","tabpanels","indicator"),tagAnatomy=anatomy("tag").parts("container","label","closeButton"),cardAnatomy=anatomy("card").parts("container","header","body","footer");anatomy("stepper").parts("stepper","step","title","description","indicator","separator","icon","number");function guard(_,a,$){return Math.min(Math.max(_,$),a)}class ColorError extends Error{constructor(a){super(`Failed to parse color: "${a}"`)}}var ColorError$1=ColorError;function parseToRgba(_){if(typeof _!="string")throw new ColorError$1(_);if(_.trim().toLowerCase()==="transparent")return[0,0,0,0];let a=_.trim();a=namedColorRegex.test(_)?nameToHex(_):_;const $=reducedHexRegex.exec(a);if($){const rt=Array.from($).slice(1);return[...rt.slice(0,3).map(nt=>parseInt(r$3(nt,2),16)),parseInt(r$3(rt[3]||"f",2),16)/255]}const j=hexRegex.exec(a);if(j){const rt=Array.from(j).slice(1);return[...rt.slice(0,3).map(nt=>parseInt(nt,16)),parseInt(rt[3]||"ff",16)/255]}const et=rgbaRegex.exec(a);if(et){const rt=Array.from(et).slice(1);return[...rt.slice(0,3).map(nt=>parseInt(nt,10)),parseFloat(rt[3]||"1")]}const tt=hslaRegex.exec(a);if(tt){const[rt,nt,it,ot]=Array.from(tt).slice(1).map(parseFloat);if(guard(0,100,nt)!==nt)throw new ColorError$1(_);if(guard(0,100,it)!==it)throw new ColorError$1(_);return[...hslToRgb(rt,nt,it),Number.isNaN(ot)?1:ot]}throw new ColorError$1(_)}function hash$9(_){let a=5381,$=_.length;for(;$;)a=a*33^_.charCodeAt(--$);return(a>>>0)%2341}const colorToInt=_=>parseInt(_.replace(/_/g,""),36),compressedColorMap="1q29ehhb 1n09sgk7 1kl1ekf_ _yl4zsno 16z9eiv3 1p29lhp8 _bd9zg04 17u0____ _iw9zhe5 _to73___ _r45e31e _7l6g016 _jh8ouiv _zn3qba8 1jy4zshs 11u87k0u 1ro9yvyo 1aj3xael 1gz9zjz0 _3w8l4xo 1bf1ekf_ _ke3v___ _4rrkb__ 13j776yz _646mbhl _nrjr4__ _le6mbhl 1n37ehkb _m75f91n _qj3bzfz 1939yygw 11i5z6x8 _1k5f8xs 1509441m 15t5lwgf _ae2th1n _tg1ugcv 1lp1ugcv 16e14up_ _h55rw7n _ny9yavn _7a11xb_ 1ih442g9 _pv442g9 1mv16xof 14e6y7tu 1oo9zkds 17d1cisi _4v9y70f _y98m8kc 1019pq0v 12o9zda8 _348j4f4 1et50i2o _8epa8__ _ts6senj 1o350i2o 1mi9eiuo 1259yrp0 1ln80gnw _632xcoy 1cn9zldc _f29edu4 1n490c8q _9f9ziet 1b94vk74 _m49zkct 1kz6s73a 1eu9dtog _q58s1rz 1dy9sjiq __u89jo3 _aj5nkwg _ld89jo3 13h9z6wx _qa9z2ii _l119xgq _bs5arju 1hj4nwk9 1qt4nwk9 1ge6wau6 14j9zlcw 11p1edc_ _ms1zcxe _439shk6 _jt9y70f _754zsow 1la40eju _oq5p___ _x279qkz 1fa5r3rv _yd2d9ip _424tcku _8y1di2_ _zi2uabw _yy7rn9h 12yz980_ __39ljp6 1b59zg0x _n39zfzp 1fy9zest _b33k___ _hp9wq92 1il50hz4 _io472ub _lj9z3eo 19z9ykg0 _8t8iu3a 12b9bl4a 1ak5yw0o _896v4ku _tb8k8lv _s59zi6t _c09ze0p 1lg80oqn 1id9z8wb _238nba5 1kq6wgdi _154zssg _tn3zk49 _da9y6tc 1sg7cv4f _r12jvtt 1gq5fmkz 1cs9rvci _lp9jn1c _xw1tdnb 13f9zje6 16f6973h _vo7ir40 _bt5arjf _rc45e4t _hr4e100 10v4e100 _hc9zke2 _w91egv_ _sj2r1kk 13c87yx8 _vqpds__ _ni8ggk8 _tj9yqfb 1ia2j4r4 _7x9b10u 1fc9ld4j 1eq9zldr _5j9lhpx _ez9zl6o _md61fzm".split(" ").reduce((_,a)=>{const $=colorToInt(a.substring(0,3)),j=colorToInt(a.substring(3)).toString(16);let et="";for(let tt=0;tt<6-j.length;tt++)et+="0";return _[$]=`${et}${j}`,_},{});function nameToHex(_){const a=_.toLowerCase().trim(),$=compressedColorMap[hash$9(a)];if(!$)throw new ColorError$1(_);return`#${$}`}const r$3=(_,a)=>Array.from(Array(a)).map(()=>_).join(""),reducedHexRegex=new RegExp(`^#${r$3("([a-f0-9])",3)}([a-f0-9])?$`,"i"),hexRegex=new RegExp(`^#${r$3("([a-f0-9]{2})",3)}([a-f0-9]{2})?$`,"i"),rgbaRegex=new RegExp(`^rgba?\\(\\s*(\\d+)\\s*${r$3(",\\s*(\\d+)\\s*",2)}(?:,\\s*([\\d.]+))?\\s*\\)$`,"i"),hslaRegex=/^hsla?\(\s*([\d.]+)\s*,\s*([\d.]+)%\s*,\s*([\d.]+)%(?:\s*,\s*([\d.]+))?\s*\)$/i,namedColorRegex=/^[a-z]+$/i,roundColor=_=>Math.round(_*255),hslToRgb=(_,a,$)=>{let j=$/100;if(a===0)return[j,j,j].map(roundColor);const et=(_%360+360)%360/60,tt=(1-Math.abs(2*j-1))*(a/100),rt=tt*(1-Math.abs(et%2-1));let nt=0,it=0,ot=0;et>=0&&et<1?(nt=tt,it=rt):et>=1&&et<2?(nt=rt,it=tt):et>=2&&et<3?(it=tt,ot=rt):et>=3&&et<4?(it=rt,ot=tt):et>=4&&et<5?(nt=rt,ot=tt):et>=5&&et<6&&(nt=tt,ot=rt);const st=j-tt/2,ct=nt+st,ut=it+st,ht=ot+st;return[ct,ut,ht].map(roundColor)};function rgba$1(_,a,$,j){return`rgba(${guard(0,255,_).toFixed()}, ${guard(0,255,a).toFixed()}, ${guard(0,255,$).toFixed()}, ${parseFloat(guard(0,1,j).toFixed(3))})`}function transparentize$1(_,a){const[$,j,et,tt]=parseToRgba(_);return rgba$1($,j,et,tt-a)}function toHex$3(_){const[a,$,j,et]=parseToRgba(_);let tt=rt=>{const nt=guard(0,255,rt).toString(16);return nt.length===1?`0${nt}`:nt};return`#${tt(a)}${tt($)}${tt(j)}${et<1?tt(Math.round(et*255)):""}`}function dlv_es_default(_,a,$,j,et){for(a=a.split?a.split("."):a,j=0;j<a.length;j++)_=_?_[a[j]]:et;return _===et?$:_}var isEmptyObject$1=_=>Object.keys(_).length===0,getColor=(_,a,$)=>{const j=dlv_es_default(_,`colors.${a}`,a);try{return toHex$3(j),j}catch{return $??"#000000"}},getBrightness=_=>{const[a,$,j]=parseToRgba(_);return(a*299+$*587+j*114)/1e3},tone=_=>a=>{const $=getColor(a,_);return getBrightness($)<128?"dark":"light"},isDark=_=>a=>tone(_)(a)==="dark",transparentize=(_,a)=>$=>{const j=getColor($,_);return transparentize$1(j,1-a)};function generateStripe(_="1rem",a="rgba(255, 255, 255, 0.15)"){return{backgroundImage:`linear-gradient(
    45deg,
    ${a} 25%,
    transparent 25%,
    transparent 50%,
    ${a} 50%,
    ${a} 75%,
    transparent 75%,
    transparent
  )`,backgroundSize:`${_} ${_}`}}var randomHex=()=>`#${Math.floor(Math.random()*16777215).toString(16).padEnd(6,"0")}`;function randomColor(_){const a=randomHex();return!_||isEmptyObject$1(_)?a:_.string&&_.colors?randomColorFromList(_.string,_.colors):_.string&&!_.colors?randomColorFromString(_.string):_.colors&&!_.string?randomFromList(_.colors):a}function randomColorFromString(_){let a=0;if(_.length===0)return a.toString();for(let j=0;j<_.length;j+=1)a=_.charCodeAt(j)+((a<<5)-a),a=a&a;let $="#";for(let j=0;j<3;j+=1){const et=a>>j*8&255;$+=`00${et.toString(16)}`.substr(-2)}return $}function randomColorFromList(_,a){let $=0;if(_.length===0)return a[0];for(let j=0;j<_.length;j+=1)$=_.charCodeAt(j)+(($<<5)-$),$=$&$;return $=($%a.length+a.length)%a.length,a[$]}function randomFromList(_){return _[Math.floor(Math.random()*_.length)]}function mode(_,a){return $=>$.colorMode==="dark"?a:_}function orient(_){const{orientation:a,vertical:$,horizontal:j}=_;return a?a==="vertical"?$:j:{}}function toRef(_){return isObject$4(_)&&_.reference?_.reference:String(_)}var toExpr=(_,...a)=>a.map(toRef).join(` ${_} `).replace(/calc/g,""),add$1=(..._)=>`calc(${toExpr("+",..._)})`,subtract=(..._)=>`calc(${toExpr("-",..._)})`,multiply=(..._)=>`calc(${toExpr("*",..._)})`,divide=(..._)=>`calc(${toExpr("/",..._)})`,negate=_=>{const a=toRef(_);return a!=null&&!Number.isNaN(parseFloat(a))?String(a).startsWith("-")?String(a).slice(1):`-${a}`:multiply(a,-1)},calc=Object.assign(_=>({add:(...a)=>calc(add$1(_,...a)),subtract:(...a)=>calc(subtract(_,...a)),multiply:(...a)=>calc(multiply(_,...a)),divide:(...a)=>calc(divide(_,...a)),negate:()=>calc(negate(_)),toString:()=>_.toString()}),{add:add$1,subtract,multiply,divide,negate});function isDecimal$1(_){return!Number.isInteger(parseFloat(_.toString()))}function replaceWhiteSpace(_,a="-"){return _.replace(/\s+/g,a)}function escape$1(_){const a=replaceWhiteSpace(_.toString());return a.includes("\\.")?_:isDecimal$1(_)?a.replace(".","\\."):_}function addPrefix(_,a=""){return[a,escape$1(_)].filter(Boolean).join("-")}function toVarRef(_,a){return`var(${escape$1(_)}${a?`, ${a}`:""})`}function toVar$1(_,a=""){return`--${addPrefix(_,a)}`}function cssVar(_,a){const $=toVar$1(_,void 0);return{variable:$,reference:toVarRef($,getFallback(void 0))}}function getFallback(_){return typeof _=="string"?_:_==null?void 0:_.reference}var{defineMultiStyleConfig:defineMultiStyleConfig$v,definePartsStyle:definePartsStyle$v}=createMultiStyleConfigHelpers(switchAnatomy.keys),$width=cssVar("switch-track-width"),$height$1=cssVar("switch-track-height"),$diff=cssVar("switch-track-diff"),diffValue=calc.subtract($width,$height$1),$translateX=cssVar("switch-thumb-x"),$bg$f=cssVar("switch-bg"),baseStyleTrack$2=_=>{const{colorScheme:a}=_;return{borderRadius:"full",p:"0.5",width:[$width.reference],height:[$height$1.reference],transitionProperty:"common",transitionDuration:"fast",[$bg$f.variable]:"colors.gray.300",_dark:{[$bg$f.variable]:"colors.whiteAlpha.400"},_focusVisible:{boxShadow:"outline"},_disabled:{opacity:.4,cursor:"not-allowed"},_checked:{[$bg$f.variable]:`colors.${a}.500`,_dark:{[$bg$f.variable]:`colors.${a}.200`}},bg:$bg$f.reference}},baseStyleThumb$1={bg:"white",transitionProperty:"transform",transitionDuration:"normal",borderRadius:"inherit",width:[$height$1.reference],height:[$height$1.reference],_checked:{transform:`translateX(${$translateX.reference})`}},baseStyle$I=definePartsStyle$v(_=>({container:{[$diff.variable]:diffValue,[$translateX.variable]:$diff.reference,_rtl:{[$translateX.variable]:calc($diff).negate().toString()}},track:baseStyleTrack$2(_),thumb:baseStyleThumb$1})),sizes$n={sm:definePartsStyle$v({container:{[$width.variable]:"1.375rem",[$height$1.variable]:"sizes.3"}}),md:definePartsStyle$v({container:{[$width.variable]:"1.875rem",[$height$1.variable]:"sizes.4"}}),lg:definePartsStyle$v({container:{[$width.variable]:"2.875rem",[$height$1.variable]:"sizes.6"}})},switchTheme$1=defineMultiStyleConfig$v({baseStyle:baseStyle$I,sizes:sizes$n,defaultProps:{size:"md",colorScheme:"blue"}}),{defineMultiStyleConfig:defineMultiStyleConfig$u,definePartsStyle:definePartsStyle$u}=createMultiStyleConfigHelpers(tableAnatomy.keys),baseStyle$H=definePartsStyle$u({table:{fontVariantNumeric:"lining-nums tabular-nums",borderCollapse:"collapse",width:"full"},th:{fontFamily:"heading",fontWeight:"bold",textTransform:"uppercase",letterSpacing:"wider",textAlign:"start"},td:{textAlign:"start"},caption:{mt:4,fontFamily:"heading",textAlign:"center",fontWeight:"medium"}}),numericStyles={"&[data-is-numeric=true]":{textAlign:"end"}},variantSimple=definePartsStyle$u(_=>{const{colorScheme:a}=_;return{th:{color:mode("gray.600","gray.400")(_),borderBottom:"1px",borderColor:mode(`${a}.100`,`${a}.700`)(_),...numericStyles},td:{borderBottom:"1px",borderColor:mode(`${a}.100`,`${a}.700`)(_),...numericStyles},caption:{color:mode("gray.600","gray.100")(_)},tfoot:{tr:{"&:last-of-type":{th:{borderBottomWidth:0}}}}}}),variantStripe=definePartsStyle$u(_=>{const{colorScheme:a}=_;return{th:{color:mode("gray.600","gray.400")(_),borderBottom:"1px",borderColor:mode(`${a}.100`,`${a}.700`)(_),...numericStyles},td:{borderBottom:"1px",borderColor:mode(`${a}.100`,`${a}.700`)(_),...numericStyles},caption:{color:mode("gray.600","gray.100")(_)},tbody:{tr:{"&:nth-of-type(odd)":{"th, td":{borderBottomWidth:"1px",borderColor:mode(`${a}.100`,`${a}.700`)(_)},td:{background:mode(`${a}.100`,`${a}.700`)(_)}}}},tfoot:{tr:{"&:last-of-type":{th:{borderBottomWidth:0}}}}}}),variants$g={simple:variantSimple,striped:variantStripe,unstyled:{}},sizes$m={sm:definePartsStyle$u({th:{px:"4",py:"1",lineHeight:"4",fontSize:"xs"},td:{px:"4",py:"2",fontSize:"sm",lineHeight:"4"},caption:{px:"4",py:"2",fontSize:"xs"}}),md:definePartsStyle$u({th:{px:"6",py:"3",lineHeight:"4",fontSize:"xs"},td:{px:"6",py:"4",lineHeight:"5"},caption:{px:"6",py:"2",fontSize:"sm"}}),lg:definePartsStyle$u({th:{px:"8",py:"4",lineHeight:"5",fontSize:"sm"},td:{px:"8",py:"5",lineHeight:"6"},caption:{px:"6",py:"2",fontSize:"md"}})},tableTheme=defineMultiStyleConfig$u({baseStyle:baseStyle$H,variants:variants$g,sizes:sizes$m,defaultProps:{variant:"simple",size:"md",colorScheme:"gray"}}),$fg$5=cssVar$1("tabs-color"),$bg$e=cssVar$1("tabs-bg"),$border$3=cssVar$1("tabs-border-color"),{defineMultiStyleConfig:defineMultiStyleConfig$t,definePartsStyle:definePartsStyle$t}=createMultiStyleConfigHelpers(tabsAnatomy.keys),baseStyleRoot$1=_=>{const{orientation:a}=_;return{display:a==="vertical"?"flex":"block"}},baseStyleTab=_=>{const{isFitted:a}=_;return{flex:a?1:void 0,transitionProperty:"common",transitionDuration:"normal",_focusVisible:{zIndex:1,boxShadow:"outline"},_disabled:{cursor:"not-allowed",opacity:.4}}},baseStyleTablist=_=>{const{align:a="start",orientation:$}=_;return{justifyContent:{end:"flex-end",center:"center",start:"flex-start"}[a],flexDirection:$==="vertical"?"column":"row"}},baseStyleTabpanel={p:4},baseStyle$G=definePartsStyle$t(_=>({root:baseStyleRoot$1(_),tab:baseStyleTab(_),tablist:baseStyleTablist(_),tabpanel:baseStyleTabpanel})),sizes$l={sm:definePartsStyle$t({tab:{py:1,px:4,fontSize:"sm"}}),md:definePartsStyle$t({tab:{fontSize:"md",py:2,px:4}}),lg:definePartsStyle$t({tab:{fontSize:"lg",py:3,px:4}})},variantLine=definePartsStyle$t(_=>{const{colorScheme:a,orientation:$}=_,j=$==="vertical",et=j?"borderStart":"borderBottom",tt=j?"marginStart":"marginBottom";return{tablist:{[et]:"2px solid",borderColor:"inherit"},tab:{[et]:"2px solid",borderColor:"transparent",[tt]:"-2px",_selected:{[$fg$5.variable]:`colors.${a}.600`,_dark:{[$fg$5.variable]:`colors.${a}.300`},borderColor:"currentColor"},_active:{[$bg$e.variable]:"colors.gray.200",_dark:{[$bg$e.variable]:"colors.whiteAlpha.300"}},_disabled:{_active:{bg:"none"}},color:$fg$5.reference,bg:$bg$e.reference}}}),variantEnclosed=definePartsStyle$t(_=>{const{colorScheme:a}=_;return{tab:{borderTopRadius:"md",border:"1px solid",borderColor:"transparent",mb:"-1px",[$border$3.variable]:"transparent",_selected:{[$fg$5.variable]:`colors.${a}.600`,[$border$3.variable]:"colors.white",_dark:{[$fg$5.variable]:`colors.${a}.300`,[$border$3.variable]:"colors.gray.800"},borderColor:"inherit",borderBottomColor:$border$3.reference},color:$fg$5.reference},tablist:{mb:"-1px",borderBottom:"1px solid",borderColor:"inherit"}}}),variantEnclosedColored=definePartsStyle$t(_=>{const{colorScheme:a}=_;return{tab:{border:"1px solid",borderColor:"inherit",[$bg$e.variable]:"colors.gray.50",_dark:{[$bg$e.variable]:"colors.whiteAlpha.50"},mb:"-1px",_notLast:{marginEnd:"-1px"},_selected:{[$bg$e.variable]:"colors.white",[$fg$5.variable]:`colors.${a}.600`,_dark:{[$bg$e.variable]:"colors.gray.800",[$fg$5.variable]:`colors.${a}.300`},borderColor:"inherit",borderTopColor:"currentColor",borderBottomColor:"transparent"},color:$fg$5.reference,bg:$bg$e.reference},tablist:{mb:"-1px",borderBottom:"1px solid",borderColor:"inherit"}}}),variantSoftRounded=definePartsStyle$t(_=>{const{colorScheme:a,theme:$}=_;return{tab:{borderRadius:"full",fontWeight:"semibold",color:"gray.600",_selected:{color:getColor($,`${a}.700`),bg:getColor($,`${a}.100`)}}}}),variantSolidRounded=definePartsStyle$t(_=>{const{colorScheme:a}=_;return{tab:{borderRadius:"full",fontWeight:"semibold",[$fg$5.variable]:"colors.gray.600",_dark:{[$fg$5.variable]:"inherit"},_selected:{[$fg$5.variable]:"colors.white",[$bg$e.variable]:`colors.${a}.600`,_dark:{[$fg$5.variable]:"colors.gray.800",[$bg$e.variable]:`colors.${a}.300`}},color:$fg$5.reference,bg:$bg$e.reference}}}),variantUnstyled$2=definePartsStyle$t({}),variants$f={line:variantLine,enclosed:variantEnclosed,"enclosed-colored":variantEnclosedColored,"soft-rounded":variantSoftRounded,"solid-rounded":variantSolidRounded,unstyled:variantUnstyled$2},tabsTheme$1=defineMultiStyleConfig$t({baseStyle:baseStyle$G,sizes:sizes$l,variants:variants$f,defaultProps:{size:"md",variant:"line",colorScheme:"blue"}}),vars=defineCssVars("badge",["bg","color","shadow"]),baseStyle$F={px:1,textTransform:"uppercase",fontSize:"xs",borderRadius:"sm",fontWeight:"bold",bg:vars.bg.reference,color:vars.color.reference,boxShadow:vars.shadow.reference},variantSolid$3=_=>{const{colorScheme:a,theme:$}=_,j=transparentize(`${a}.500`,.6)($);return{[vars.bg.variable]:`colors.${a}.500`,[vars.color.variable]:"colors.white",_dark:{[vars.bg.variable]:j,[vars.color.variable]:"colors.whiteAlpha.800"}}},variantSubtle$1=_=>{const{colorScheme:a,theme:$}=_,j=transparentize(`${a}.200`,.16)($);return{[vars.bg.variable]:`colors.${a}.100`,[vars.color.variable]:`colors.${a}.800`,_dark:{[vars.bg.variable]:j,[vars.color.variable]:`colors.${a}.200`}}},variantOutline$2=_=>{const{colorScheme:a,theme:$}=_,j=transparentize(`${a}.200`,.8)($);return{[vars.color.variable]:`colors.${a}.500`,_dark:{[vars.color.variable]:j},[vars.shadow.variable]:`inset 0 0 0px 1px ${vars.color.reference}`}},variants$e={solid:variantSolid$3,subtle:variantSubtle$1,outline:variantOutline$2},badgeTheme={baseStyle:baseStyle$F,variants:variants$e,defaultProps:{variant:"subtle",colorScheme:"gray"}},{defineMultiStyleConfig:defineMultiStyleConfig$s,definePartsStyle:definePartsStyle$s}=createMultiStyleConfigHelpers(tagAnatomy.keys),$bg$d=cssVar$1("tag-bg"),$color=cssVar$1("tag-color"),$shadow$3=cssVar$1("tag-shadow"),$minH=cssVar$1("tag-min-height"),$minW=cssVar$1("tag-min-width"),$fontSize$1=cssVar$1("tag-font-size"),$paddingX=cssVar$1("tag-padding-inline"),baseStyleContainer$4={fontWeight:"medium",lineHeight:1.2,outline:0,[$color.variable]:vars.color.reference,[$bg$d.variable]:vars.bg.reference,[$shadow$3.variable]:vars.shadow.reference,color:$color.reference,bg:$bg$d.reference,boxShadow:$shadow$3.reference,borderRadius:"md",minH:$minH.reference,minW:$minW.reference,fontSize:$fontSize$1.reference,px:$paddingX.reference,_focusVisible:{[$shadow$3.variable]:"shadows.outline"}},baseStyleLabel$4={lineHeight:1.2,overflow:"visible"},baseStyleCloseButton$3={fontSize:"lg",w:"5",h:"5",transitionProperty:"common",transitionDuration:"normal",borderRadius:"full",marginStart:"1.5",marginEnd:"-1",opacity:.5,_disabled:{opacity:.4},_focusVisible:{boxShadow:"outline",bg:"rgba(0, 0, 0, 0.14)"},_hover:{opacity:.8},_active:{opacity:1}},baseStyle$E=definePartsStyle$s({container:baseStyleContainer$4,label:baseStyleLabel$4,closeButton:baseStyleCloseButton$3}),sizes$k={sm:definePartsStyle$s({container:{[$minH.variable]:"sizes.5",[$minW.variable]:"sizes.5",[$fontSize$1.variable]:"fontSizes.xs",[$paddingX.variable]:"space.2"},closeButton:{marginEnd:"-2px",marginStart:"0.35rem"}}),md:definePartsStyle$s({container:{[$minH.variable]:"sizes.6",[$minW.variable]:"sizes.6",[$fontSize$1.variable]:"fontSizes.sm",[$paddingX.variable]:"space.2"}}),lg:definePartsStyle$s({container:{[$minH.variable]:"sizes.8",[$minW.variable]:"sizes.8",[$fontSize$1.variable]:"fontSizes.md",[$paddingX.variable]:"space.3"}})},variants$d={subtle:definePartsStyle$s(_=>{var a;return{container:(a=badgeTheme.variants)==null?void 0:a.subtle(_)}}),solid:definePartsStyle$s(_=>{var a;return{container:(a=badgeTheme.variants)==null?void 0:a.solid(_)}}),outline:definePartsStyle$s(_=>{var a;return{container:(a=badgeTheme.variants)==null?void 0:a.outline(_)}})},tagTheme=defineMultiStyleConfig$s({variants:variants$d,baseStyle:baseStyle$E,sizes:sizes$k,defaultProps:{size:"md",variant:"subtle",colorScheme:"gray"}}),{definePartsStyle:definePartsStyle$r,defineMultiStyleConfig:defineMultiStyleConfig$r}=createMultiStyleConfigHelpers(inputAnatomy.keys),$height=cssVar$1("input-height"),$fontSize=cssVar$1("input-font-size"),$padding$1=cssVar$1("input-padding"),$borderRadius=cssVar$1("input-border-radius"),baseStyle$D=definePartsStyle$r({addon:{height:$height.reference,fontSize:$fontSize.reference,px:$padding$1.reference,borderRadius:$borderRadius.reference},field:{width:"100%",height:$height.reference,fontSize:$fontSize.reference,px:$padding$1.reference,borderRadius:$borderRadius.reference,minWidth:0,outline:0,position:"relative",appearance:"none",transitionProperty:"common",transitionDuration:"normal",_disabled:{opacity:.4,cursor:"not-allowed"}}}),size={lg:{[$fontSize.variable]:"fontSizes.lg",[$padding$1.variable]:"space.4",[$borderRadius.variable]:"radii.md",[$height.variable]:"sizes.12"},md:{[$fontSize.variable]:"fontSizes.md",[$padding$1.variable]:"space.4",[$borderRadius.variable]:"radii.md",[$height.variable]:"sizes.10"},sm:{[$fontSize.variable]:"fontSizes.sm",[$padding$1.variable]:"space.3",[$borderRadius.variable]:"radii.sm",[$height.variable]:"sizes.8"},xs:{[$fontSize.variable]:"fontSizes.xs",[$padding$1.variable]:"space.2",[$borderRadius.variable]:"radii.sm",[$height.variable]:"sizes.6"}},sizes$j={lg:definePartsStyle$r({field:size.lg,group:size.lg}),md:definePartsStyle$r({field:size.md,group:size.md}),sm:definePartsStyle$r({field:size.sm,group:size.sm}),xs:definePartsStyle$r({field:size.xs,group:size.xs})};function getDefaults(_){const{focusBorderColor:a,errorBorderColor:$}=_;return{focusBorderColor:a||mode("blue.500","blue.300")(_),errorBorderColor:$||mode("red.500","red.300")(_)}}var variantOutline$1=definePartsStyle$r(_=>{const{theme:a}=_,{focusBorderColor:$,errorBorderColor:j}=getDefaults(_);return{field:{border:"1px solid",borderColor:"inherit",bg:"inherit",_hover:{borderColor:mode("gray.300","whiteAlpha.400")(_)},_readOnly:{boxShadow:"none !important",userSelect:"all"},_invalid:{borderColor:getColor(a,j),boxShadow:`0 0 0 1px ${getColor(a,j)}`},_focusVisible:{zIndex:1,borderColor:getColor(a,$),boxShadow:`0 0 0 1px ${getColor(a,$)}`}},addon:{border:"1px solid",borderColor:mode("inherit","whiteAlpha.50")(_),bg:mode("gray.100","whiteAlpha.300")(_)}}}),variantFilled=definePartsStyle$r(_=>{const{theme:a}=_,{focusBorderColor:$,errorBorderColor:j}=getDefaults(_);return{field:{border:"2px solid",borderColor:"transparent",bg:mode("gray.100","whiteAlpha.50")(_),_hover:{bg:mode("gray.200","whiteAlpha.100")(_)},_readOnly:{boxShadow:"none !important",userSelect:"all"},_invalid:{borderColor:getColor(a,j)},_focusVisible:{bg:"transparent",borderColor:getColor(a,$)}},addon:{border:"2px solid",borderColor:"transparent",bg:mode("gray.100","whiteAlpha.50")(_)}}}),variantFlushed=definePartsStyle$r(_=>{const{theme:a}=_,{focusBorderColor:$,errorBorderColor:j}=getDefaults(_);return{field:{borderBottom:"1px solid",borderColor:"inherit",borderRadius:"0",px:"0",bg:"transparent",_readOnly:{boxShadow:"none !important",userSelect:"all"},_invalid:{borderColor:getColor(a,j),boxShadow:`0px 1px 0px 0px ${getColor(a,j)}`},_focusVisible:{borderColor:getColor(a,$),boxShadow:`0px 1px 0px 0px ${getColor(a,$)}`}},addon:{borderBottom:"2px solid",borderColor:"inherit",borderRadius:"0",px:"0",bg:"transparent"}}}),variantUnstyled$1=definePartsStyle$r({field:{bg:"transparent",px:"0",height:"auto"},addon:{bg:"transparent",px:"0",height:"auto"}}),variants$c={outline:variantOutline$1,filled:variantFilled,flushed:variantFlushed,unstyled:variantUnstyled$1},inputTheme=defineMultiStyleConfig$r({baseStyle:baseStyle$D,sizes:sizes$j,variants:variants$c,defaultProps:{size:"md",variant:"outline"}}),_a$7,baseStyle$C={...(_a$7=inputTheme.baseStyle)==null?void 0:_a$7.field,paddingY:"2",minHeight:"20",lineHeight:"short",verticalAlign:"top"},_a2$2,_b$2,variants$b={outline:_=>{var a,$;return($=(a=inputTheme.variants)==null?void 0:a.outline(_).field)!=null?$:{}},flushed:_=>{var a,$;return($=(a=inputTheme.variants)==null?void 0:a.flushed(_).field)!=null?$:{}},filled:_=>{var a,$;return($=(a=inputTheme.variants)==null?void 0:a.filled(_).field)!=null?$:{}},unstyled:(_b$2=(_a2$2=inputTheme.variants)==null?void 0:_a2$2.unstyled.field)!=null?_b$2:{}},_a3,_b2,_c$1,_d$1,_e$1,_f$1,_g$1,_h$1,sizes$i={xs:(_b2=(_a3=inputTheme.sizes)==null?void 0:_a3.xs.field)!=null?_b2:{},sm:(_d$1=(_c$1=inputTheme.sizes)==null?void 0:_c$1.sm.field)!=null?_d$1:{},md:(_f$1=(_e$1=inputTheme.sizes)==null?void 0:_e$1.md.field)!=null?_f$1:{},lg:(_h$1=(_g$1=inputTheme.sizes)==null?void 0:_g$1.lg.field)!=null?_h$1:{}},textareaTheme={baseStyle:baseStyle$C,sizes:sizes$i,variants:variants$b,defaultProps:{size:"md",variant:"outline"}},$bg$c=cssVar("tooltip-bg"),$fg$4=cssVar("tooltip-fg"),$arrowBg$1=cssVar("popper-arrow-bg"),baseStyle$B={bg:$bg$c.reference,color:$fg$4.reference,[$bg$c.variable]:"colors.gray.700",[$fg$4.variable]:"colors.whiteAlpha.900",_dark:{[$bg$c.variable]:"colors.gray.300",[$fg$4.variable]:"colors.gray.900"},[$arrowBg$1.variable]:$bg$c.reference,px:"2",py:"0.5",borderRadius:"sm",fontWeight:"medium",fontSize:"sm",boxShadow:"md",maxW:"xs",zIndex:"tooltip"},tooltipTheme={baseStyle:baseStyle$B},{defineMultiStyleConfig:defineMultiStyleConfig$q,definePartsStyle:definePartsStyle$q}=createMultiStyleConfigHelpers(progressAnatomy.keys),filledStyle=_=>{const{colorScheme:a,theme:$,isIndeterminate:j,hasStripe:et}=_,tt=mode(generateStripe(),generateStripe("1rem","rgba(0,0,0,0.1)"))(_),rt=mode(`${a}.500`,`${a}.200`)(_),nt=`linear-gradient(
    to right,
    transparent 0%,
    ${getColor($,rt)} 50%,
    transparent 100%
  )`;return{...!j&&et&&tt,...j?{bgImage:nt}:{bgColor:rt}}},baseStyleLabel$3={lineHeight:"1",fontSize:"0.25em",fontWeight:"bold",color:"white"},baseStyleTrack$1=_=>({bg:mode("gray.100","whiteAlpha.300")(_)}),baseStyleFilledTrack$1=_=>({transitionProperty:"common",transitionDuration:"slow",...filledStyle(_)}),baseStyle$A=definePartsStyle$q(_=>({label:baseStyleLabel$3,filledTrack:baseStyleFilledTrack$1(_),track:baseStyleTrack$1(_)})),sizes$h={xs:definePartsStyle$q({track:{h:"1"}}),sm:definePartsStyle$q({track:{h:"2"}}),md:definePartsStyle$q({track:{h:"3"}}),lg:definePartsStyle$q({track:{h:"4"}})},progressTheme=defineMultiStyleConfig$q({sizes:sizes$h,baseStyle:baseStyle$A,defaultProps:{size:"md",colorScheme:"blue"}}),isFunction$6=_=>typeof _=="function";function runIfFn$1(_,...a){return isFunction$6(_)?_(...a):_}var{definePartsStyle:definePartsStyle$p,defineMultiStyleConfig:defineMultiStyleConfig$p}=createMultiStyleConfigHelpers(checkboxAnatomy.keys),$size$3=cssVar$1("checkbox-size"),baseStyleControl$1=_=>{const{colorScheme:a}=_;return{w:$size$3.reference,h:$size$3.reference,transitionProperty:"box-shadow",transitionDuration:"normal",border:"2px solid",borderRadius:"sm",borderColor:"inherit",color:"white",_checked:{bg:mode(`${a}.500`,`${a}.200`)(_),borderColor:mode(`${a}.500`,`${a}.200`)(_),color:mode("white","gray.900")(_),_hover:{bg:mode(`${a}.600`,`${a}.300`)(_),borderColor:mode(`${a}.600`,`${a}.300`)(_)},_disabled:{borderColor:mode("gray.200","transparent")(_),bg:mode("gray.200","whiteAlpha.300")(_),color:mode("gray.500","whiteAlpha.500")(_)}},_indeterminate:{bg:mode(`${a}.500`,`${a}.200`)(_),borderColor:mode(`${a}.500`,`${a}.200`)(_),color:mode("white","gray.900")(_)},_disabled:{bg:mode("gray.100","whiteAlpha.100")(_),borderColor:mode("gray.100","transparent")(_)},_focusVisible:{boxShadow:"outline"},_invalid:{borderColor:mode("red.500","red.300")(_)}}},baseStyleContainer$3={_disabled:{cursor:"not-allowed"}},baseStyleLabel$2={userSelect:"none",_disabled:{opacity:.4}},baseStyleIcon$6={transitionProperty:"transform",transitionDuration:"normal"},baseStyle$z=definePartsStyle$p(_=>({icon:baseStyleIcon$6,container:baseStyleContainer$3,control:runIfFn$1(baseStyleControl$1,_),label:baseStyleLabel$2})),sizes$g={sm:definePartsStyle$p({control:{[$size$3.variable]:"sizes.3"},label:{fontSize:"sm"},icon:{fontSize:"3xs"}}),md:definePartsStyle$p({control:{[$size$3.variable]:"sizes.4"},label:{fontSize:"md"},icon:{fontSize:"2xs"}}),lg:definePartsStyle$p({control:{[$size$3.variable]:"sizes.5"},label:{fontSize:"lg"},icon:{fontSize:"2xs"}})},checkboxTheme$1=defineMultiStyleConfig$p({baseStyle:baseStyle$z,sizes:sizes$g,defaultProps:{size:"md",colorScheme:"blue"}}),{defineMultiStyleConfig:defineMultiStyleConfig$o,definePartsStyle:definePartsStyle$o}=createMultiStyleConfigHelpers(radioAnatomy.keys),baseStyleControl=_=>{var a;const $=(a=runIfFn$1(checkboxTheme$1.baseStyle,_))==null?void 0:a.control;return{...$,borderRadius:"full",_checked:{...$==null?void 0:$._checked,_before:{content:'""',display:"inline-block",pos:"relative",w:"50%",h:"50%",borderRadius:"50%",bg:"currentColor"}}}},baseStyle$y=definePartsStyle$o(_=>{var a,$,j,et;return{label:($=(a=checkboxTheme$1).baseStyle)==null?void 0:$.call(a,_).label,container:(et=(j=checkboxTheme$1).baseStyle)==null?void 0:et.call(j,_).container,control:baseStyleControl(_)}}),sizes$f={md:definePartsStyle$o({control:{w:"4",h:"4"},label:{fontSize:"md"}}),lg:definePartsStyle$o({control:{w:"5",h:"5"},label:{fontSize:"lg"}}),sm:definePartsStyle$o({control:{width:"3",height:"3"},label:{fontSize:"sm"}})},radioTheme$1=defineMultiStyleConfig$o({baseStyle:baseStyle$y,sizes:sizes$f,defaultProps:{size:"md",colorScheme:"blue"}}),{defineMultiStyleConfig:defineMultiStyleConfig$n,definePartsStyle:definePartsStyle$n}=createMultiStyleConfigHelpers(selectAnatomy.keys),$bg$b=cssVar$1("select-bg"),_a$6,baseStyleField$1={...(_a$6=inputTheme.baseStyle)==null?void 0:_a$6.field,appearance:"none",paddingBottom:"1px",lineHeight:"normal",bg:$bg$b.reference,[$bg$b.variable]:"colors.white",_dark:{[$bg$b.variable]:"colors.gray.700"},"> option, > optgroup":{bg:$bg$b.reference}},baseStyleIcon$5={width:"6",height:"100%",insetEnd:"2",position:"relative",color:"currentColor",fontSize:"xl",_disabled:{opacity:.5}},baseStyle$x=definePartsStyle$n({field:baseStyleField$1,icon:baseStyleIcon$5}),iconSpacing={paddingInlineEnd:"8"},_a2$1,_b$1,_c,_d,_e,_f,_g,_h,sizes$e={lg:{...(_a2$1=inputTheme.sizes)==null?void 0:_a2$1.lg,field:{...(_b$1=inputTheme.sizes)==null?void 0:_b$1.lg.field,...iconSpacing}},md:{...(_c=inputTheme.sizes)==null?void 0:_c.md,field:{...(_d=inputTheme.sizes)==null?void 0:_d.md.field,...iconSpacing}},sm:{...(_e=inputTheme.sizes)==null?void 0:_e.sm,field:{...(_f=inputTheme.sizes)==null?void 0:_f.sm.field,...iconSpacing}},xs:{...(_g=inputTheme.sizes)==null?void 0:_g.xs,field:{...(_h=inputTheme.sizes)==null?void 0:_h.xs.field,...iconSpacing},icon:{insetEnd:"1"}}},selectTheme=defineMultiStyleConfig$n({baseStyle:baseStyle$x,sizes:sizes$e,variants:inputTheme.variants,defaultProps:inputTheme.defaultProps}),$startColor=cssVar$1("skeleton-start-color"),$endColor=cssVar$1("skeleton-end-color"),baseStyle$w={[$startColor.variable]:"colors.gray.100",[$endColor.variable]:"colors.gray.400",_dark:{[$startColor.variable]:"colors.gray.800",[$endColor.variable]:"colors.gray.600"},background:$startColor.reference,borderColor:$endColor.reference,opacity:.7,borderRadius:"sm"},skeletonTheme={baseStyle:baseStyle$w},$bg$a=cssVar$1("skip-link-bg"),baseStyle$v={borderRadius:"md",fontWeight:"semibold",_focusVisible:{boxShadow:"outline",padding:"4",position:"fixed",top:"6",insetStart:"6",[$bg$a.variable]:"colors.white",_dark:{[$bg$a.variable]:"colors.gray.700"},bg:$bg$a.reference}},skipLinkTheme={baseStyle:baseStyle$v},{defineMultiStyleConfig:defineMultiStyleConfig$m,definePartsStyle:definePartsStyle$m}=createMultiStyleConfigHelpers(sliderAnatomy.keys),$thumbSize=cssVar$1("slider-thumb-size"),$trackSize=cssVar$1("slider-track-size"),$bg$9=cssVar$1("slider-bg"),baseStyleContainer$2=_=>{const{orientation:a}=_;return{display:"inline-block",position:"relative",cursor:"pointer",_disabled:{opacity:.6,cursor:"default",pointerEvents:"none"},...orient({orientation:a,vertical:{h:"100%"},horizontal:{w:"100%"}})}},baseStyleTrack=_=>({...orient({orientation:_.orientation,horizontal:{h:$trackSize.reference},vertical:{w:$trackSize.reference}}),overflow:"hidden",borderRadius:"sm",[$bg$9.variable]:"colors.gray.200",_dark:{[$bg$9.variable]:"colors.whiteAlpha.200"},_disabled:{[$bg$9.variable]:"colors.gray.300",_dark:{[$bg$9.variable]:"colors.whiteAlpha.300"}},bg:$bg$9.reference}),baseStyleThumb=_=>{const{orientation:a}=_;return{...orient({orientation:a,vertical:{left:"50%",transform:"translateX(-50%)",_active:{transform:"translateX(-50%) scale(1.15)"}},horizontal:{top:"50%",transform:"translateY(-50%)",_active:{transform:"translateY(-50%) scale(1.15)"}}}),w:$thumbSize.reference,h:$thumbSize.reference,display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",outline:0,zIndex:1,borderRadius:"full",bg:"white",boxShadow:"base",border:"1px solid",borderColor:"transparent",transitionProperty:"transform",transitionDuration:"normal",_focusVisible:{boxShadow:"outline"},_disabled:{bg:"gray.300"}}},baseStyleFilledTrack=_=>{const{colorScheme:a}=_;return{width:"inherit",height:"inherit",[$bg$9.variable]:`colors.${a}.500`,_dark:{[$bg$9.variable]:`colors.${a}.200`},bg:$bg$9.reference}},baseStyle$u=definePartsStyle$m(_=>({container:baseStyleContainer$2(_),track:baseStyleTrack(_),thumb:baseStyleThumb(_),filledTrack:baseStyleFilledTrack(_)})),sizeLg=definePartsStyle$m({container:{[$thumbSize.variable]:"sizes.4",[$trackSize.variable]:"sizes.1"}}),sizeMd=definePartsStyle$m({container:{[$thumbSize.variable]:"sizes.3.5",[$trackSize.variable]:"sizes.1"}}),sizeSm=definePartsStyle$m({container:{[$thumbSize.variable]:"sizes.2.5",[$trackSize.variable]:"sizes.0.5"}}),sizes$d={lg:sizeLg,md:sizeMd,sm:sizeSm},sliderTheme=defineMultiStyleConfig$m({baseStyle:baseStyle$u,sizes:sizes$d,defaultProps:{size:"md",colorScheme:"blue"}}),$size$2=cssVar("spinner-size"),baseStyle$t={width:[$size$2.reference],height:[$size$2.reference]},sizes$c={xs:{[$size$2.variable]:"sizes.3"},sm:{[$size$2.variable]:"sizes.4"},md:{[$size$2.variable]:"sizes.6"},lg:{[$size$2.variable]:"sizes.8"},xl:{[$size$2.variable]:"sizes.12"}},spinnerTheme={baseStyle:baseStyle$t,sizes:sizes$c,defaultProps:{size:"md"}},{defineMultiStyleConfig:defineMultiStyleConfig$l,definePartsStyle:definePartsStyle$l}=createMultiStyleConfigHelpers(statAnatomy.keys),baseStyleLabel$1={fontWeight:"medium"},baseStyleHelpText={opacity:.8,marginBottom:"2"},baseStyleNumber={verticalAlign:"baseline",fontWeight:"semibold"},baseStyleIcon$4={marginEnd:1,w:"3.5",h:"3.5",verticalAlign:"middle"},baseStyle$s=definePartsStyle$l({container:{},label:baseStyleLabel$1,helpText:baseStyleHelpText,number:baseStyleNumber,icon:baseStyleIcon$4}),sizes$b={md:definePartsStyle$l({label:{fontSize:"sm"},helpText:{fontSize:"sm"},number:{fontSize:"2xl"}})},statTheme=defineMultiStyleConfig$l({baseStyle:baseStyle$s,sizes:sizes$b,defaultProps:{size:"md"}}),$bg$8=cssVar$1("kbd-bg"),baseStyle$r={[$bg$8.variable]:"colors.gray.100",_dark:{[$bg$8.variable]:"colors.whiteAlpha.100"},bg:$bg$8.reference,borderRadius:"md",borderWidth:"1px",borderBottomWidth:"3px",fontSize:"0.8em",fontWeight:"bold",lineHeight:"normal",px:"0.4em",whiteSpace:"nowrap"},kbdTheme={baseStyle:baseStyle$r},baseStyle$q={transitionProperty:"common",transitionDuration:"fast",transitionTimingFunction:"ease-out",cursor:"pointer",textDecoration:"none",outline:"none",color:"inherit",_hover:{textDecoration:"underline"},_focusVisible:{boxShadow:"outline"}},linkTheme={baseStyle:baseStyle$q},{defineMultiStyleConfig:defineMultiStyleConfig$k,definePartsStyle:definePartsStyle$k}=createMultiStyleConfigHelpers(listAnatomy.keys),baseStyleIcon$3={marginEnd:"2",display:"inline",verticalAlign:"text-bottom"},baseStyle$p=definePartsStyle$k({icon:baseStyleIcon$3}),listTheme$1=defineMultiStyleConfig$k({baseStyle:baseStyle$p}),{defineMultiStyleConfig:defineMultiStyleConfig$j,definePartsStyle:definePartsStyle$j}=createMultiStyleConfigHelpers(menuAnatomy.keys),$bg$7=cssVar$1("menu-bg"),$shadow$2=cssVar$1("menu-shadow"),baseStyleList={[$bg$7.variable]:"#fff",[$shadow$2.variable]:"shadows.sm",_dark:{[$bg$7.variable]:"colors.gray.700",[$shadow$2.variable]:"shadows.dark-lg"},color:"inherit",minW:"3xs",py:"2",zIndex:1,borderRadius:"md",borderWidth:"1px",bg:$bg$7.reference,boxShadow:$shadow$2.reference},baseStyleItem={py:"1.5",px:"3",transitionProperty:"background",transitionDuration:"ultra-fast",transitionTimingFunction:"ease-in",_focus:{[$bg$7.variable]:"colors.gray.100",_dark:{[$bg$7.variable]:"colors.whiteAlpha.100"}},_active:{[$bg$7.variable]:"colors.gray.200",_dark:{[$bg$7.variable]:"colors.whiteAlpha.200"}},_expanded:{[$bg$7.variable]:"colors.gray.100",_dark:{[$bg$7.variable]:"colors.whiteAlpha.100"}},_disabled:{opacity:.4,cursor:"not-allowed"},bg:$bg$7.reference},baseStyleGroupTitle={mx:4,my:2,fontWeight:"semibold",fontSize:"sm"},baseStyleIcon$2={display:"inline-flex",alignItems:"center",justifyContent:"center",flexShrink:0},baseStyleCommand={opacity:.6},baseStyleDivider={border:0,borderBottom:"1px solid",borderColor:"inherit",my:"2",opacity:.6},baseStyleButton$1={transitionProperty:"common",transitionDuration:"normal"},baseStyle$o=definePartsStyle$j({button:baseStyleButton$1,list:baseStyleList,item:baseStyleItem,groupTitle:baseStyleGroupTitle,icon:baseStyleIcon$2,command:baseStyleCommand,divider:baseStyleDivider}),menuTheme=defineMultiStyleConfig$j({baseStyle:baseStyle$o}),{defineMultiStyleConfig:defineMultiStyleConfig$i,definePartsStyle:definePartsStyle$i}=createMultiStyleConfigHelpers(modalAnatomy.keys),$bg$6=cssVar$1("modal-bg"),$shadow$1=cssVar$1("modal-shadow"),baseStyleOverlay$1={bg:"blackAlpha.600",zIndex:"modal"},baseStyleDialogContainer$1=_=>{const{isCentered:a,scrollBehavior:$}=_;return{display:"flex",zIndex:"modal",justifyContent:"center",alignItems:a?"center":"flex-start",overflow:$==="inside"?"hidden":"auto",overscrollBehaviorY:"none"}},baseStyleDialog$1=_=>{const{isCentered:a,scrollBehavior:$}=_;return{borderRadius:"md",color:"inherit",my:a?"auto":"16",mx:a?"auto":void 0,zIndex:"modal",maxH:$==="inside"?"calc(100% - 7.5rem)":void 0,[$bg$6.variable]:"colors.white",[$shadow$1.variable]:"shadows.lg",_dark:{[$bg$6.variable]:"colors.gray.700",[$shadow$1.variable]:"shadows.dark-lg"},bg:$bg$6.reference,boxShadow:$shadow$1.reference}},baseStyleHeader$2={px:"6",py:"4",fontSize:"xl",fontWeight:"semibold"},baseStyleCloseButton$2={position:"absolute",top:"2",insetEnd:"3"},baseStyleBody$2=_=>{const{scrollBehavior:a}=_;return{px:"6",py:"2",flex:"1",overflow:a==="inside"?"auto":void 0}},baseStyleFooter$2={px:"6",py:"4"},baseStyle$n=definePartsStyle$i(_=>({overlay:baseStyleOverlay$1,dialogContainer:runIfFn$1(baseStyleDialogContainer$1,_),dialog:runIfFn$1(baseStyleDialog$1,_),header:baseStyleHeader$2,closeButton:baseStyleCloseButton$2,body:runIfFn$1(baseStyleBody$2,_),footer:baseStyleFooter$2}));function getSize$3(_){return definePartsStyle$i(_==="full"?{dialog:{maxW:"100vw",minH:"$100vh",my:"0",borderRadius:"0"}}:{dialog:{maxW:_}})}var sizes$a={xs:getSize$3("xs"),sm:getSize$3("sm"),md:getSize$3("md"),lg:getSize$3("lg"),xl:getSize$3("xl"),"2xl":getSize$3("2xl"),"3xl":getSize$3("3xl"),"4xl":getSize$3("4xl"),"5xl":getSize$3("5xl"),"6xl":getSize$3("6xl"),full:getSize$3("full")},modalTheme$1=defineMultiStyleConfig$i({baseStyle:baseStyle$n,sizes:sizes$a,defaultProps:{size:"md"}}),{defineMultiStyleConfig:defineMultiStyleConfig$h,definePartsStyle:definePartsStyle$h}=createMultiStyleConfigHelpers(numberInputAnatomy.keys),$stepperWidth=cssVar("number-input-stepper-width"),$inputPadding=cssVar("number-input-input-padding"),inputPaddingValue=calc($stepperWidth).add("0.5rem").toString(),$bg$5=cssVar("number-input-bg"),$fg$3=cssVar("number-input-color"),$border$2=cssVar("number-input-border-color"),baseStyleRoot={[$stepperWidth.variable]:"sizes.6",[$inputPadding.variable]:inputPaddingValue},baseStyleField=_=>{var a,$;return($=(a=runIfFn$1(inputTheme.baseStyle,_))==null?void 0:a.field)!=null?$:{}},baseStyleStepperGroup={width:$stepperWidth.reference},baseStyleStepper={borderStart:"1px solid",borderStartColor:$border$2.reference,color:$fg$3.reference,bg:$bg$5.reference,[$fg$3.variable]:"colors.chakra-body-text",[$border$2.variable]:"colors.chakra-border-color",_dark:{[$fg$3.variable]:"colors.whiteAlpha.800",[$border$2.variable]:"colors.whiteAlpha.300"},_active:{[$bg$5.variable]:"colors.gray.200",_dark:{[$bg$5.variable]:"colors.whiteAlpha.300"}},_disabled:{opacity:.4,cursor:"not-allowed"}},baseStyle$m=definePartsStyle$h(_=>{var a;return{root:baseStyleRoot,field:(a=runIfFn$1(baseStyleField,_))!=null?a:{},stepperGroup:baseStyleStepperGroup,stepper:baseStyleStepper}});function getSize$2(_){var a,$,j;const et=(a=inputTheme.sizes)==null?void 0:a[_],tt={lg:"md",md:"md",sm:"sm",xs:"sm"},rt=(j=($=et.field)==null?void 0:$.fontSize)!=null?j:"md",nt=typography_default.fontSizes[rt];return definePartsStyle$h({field:{...et.field,paddingInlineEnd:$inputPadding.reference,verticalAlign:"top"},stepper:{fontSize:calc(nt).multiply(.75).toString(),_first:{borderTopEndRadius:tt[_]},_last:{borderBottomEndRadius:tt[_],mt:"-1px",borderTopWidth:1}}})}var sizes$9={xs:getSize$2("xs"),sm:getSize$2("sm"),md:getSize$2("md"),lg:getSize$2("lg")},numberInputTheme=defineMultiStyleConfig$h({baseStyle:baseStyle$m,sizes:sizes$9,variants:inputTheme.variants,defaultProps:inputTheme.defaultProps}),_a$5,baseStyle$l={...(_a$5=inputTheme.baseStyle)==null?void 0:_a$5.field,textAlign:"center"},sizes$8={lg:{fontSize:"lg",w:12,h:12,borderRadius:"md"},md:{fontSize:"md",w:10,h:10,borderRadius:"md"},sm:{fontSize:"sm",w:8,h:8,borderRadius:"sm"},xs:{fontSize:"xs",w:6,h:6,borderRadius:"sm"}},_a2,_b,variants$a={outline:_=>{var a,$,j;return(j=($=runIfFn$1((a=inputTheme.variants)==null?void 0:a.outline,_))==null?void 0:$.field)!=null?j:{}},flushed:_=>{var a,$,j;return(j=($=runIfFn$1((a=inputTheme.variants)==null?void 0:a.flushed,_))==null?void 0:$.field)!=null?j:{}},filled:_=>{var a,$,j;return(j=($=runIfFn$1((a=inputTheme.variants)==null?void 0:a.filled,_))==null?void 0:$.field)!=null?j:{}},unstyled:(_b=(_a2=inputTheme.variants)==null?void 0:_a2.unstyled.field)!=null?_b:{}},pinInputTheme={baseStyle:baseStyle$l,sizes:sizes$8,variants:variants$a,defaultProps:inputTheme.defaultProps},{defineMultiStyleConfig:defineMultiStyleConfig$g,definePartsStyle:definePartsStyle$g}=createMultiStyleConfigHelpers(popoverAnatomy.keys),$popperBg=cssVar("popper-bg"),$arrowBg=cssVar("popper-arrow-bg"),$arrowShadowColor=cssVar("popper-arrow-shadow-color"),baseStylePopper={zIndex:10},baseStyleContent={[$popperBg.variable]:"colors.white",bg:$popperBg.reference,[$arrowBg.variable]:$popperBg.reference,[$arrowShadowColor.variable]:"colors.gray.200",_dark:{[$popperBg.variable]:"colors.gray.700",[$arrowShadowColor.variable]:"colors.whiteAlpha.300"},width:"xs",border:"1px solid",borderColor:"inherit",borderRadius:"md",boxShadow:"sm",zIndex:"inherit",_focusVisible:{outline:0,boxShadow:"outline"}},baseStyleHeader$1={px:3,py:2,borderBottomWidth:"1px"},baseStyleBody$1={px:3,py:2},baseStyleFooter$1={px:3,py:2,borderTopWidth:"1px"},baseStyleCloseButton$1={position:"absolute",borderRadius:"md",top:1,insetEnd:2,padding:2},baseStyle$k=definePartsStyle$g({popper:baseStylePopper,content:baseStyleContent,header:baseStyleHeader$1,body:baseStyleBody$1,footer:baseStyleFooter$1,closeButton:baseStyleCloseButton$1}),popoverTheme=defineMultiStyleConfig$g({baseStyle:baseStyle$k}),{definePartsStyle:definePartsStyle$f,defineMultiStyleConfig:defineMultiStyleConfig$f}=createMultiStyleConfigHelpers(drawerAnatomy.keys),$bg$4=cssVar$1("drawer-bg"),$bs=cssVar$1("drawer-box-shadow");function getSize$1(_){return definePartsStyle$f(_==="full"?{dialog:{maxW:"100vw",h:"100vh"}}:{dialog:{maxW:_}})}var baseStyleOverlay={bg:"blackAlpha.600",zIndex:"modal"},baseStyleDialogContainer={display:"flex",zIndex:"modal",justifyContent:"center"},baseStyleDialog=_=>{const{isFullHeight:a}=_;return{...a&&{height:"100vh"},zIndex:"modal",maxH:"100vh",color:"inherit",[$bg$4.variable]:"colors.white",[$bs.variable]:"shadows.lg",_dark:{[$bg$4.variable]:"colors.gray.700",[$bs.variable]:"shadows.dark-lg"},bg:$bg$4.reference,boxShadow:$bs.reference}},baseStyleHeader={px:"6",py:"4",fontSize:"xl",fontWeight:"semibold"},baseStyleCloseButton={position:"absolute",top:"2",insetEnd:"3"},baseStyleBody={px:"6",py:"2",flex:"1",overflow:"auto"},baseStyleFooter={px:"6",py:"4"},baseStyle$j=definePartsStyle$f(_=>({overlay:baseStyleOverlay,dialogContainer:baseStyleDialogContainer,dialog:runIfFn$1(baseStyleDialog,_),header:baseStyleHeader,closeButton:baseStyleCloseButton,body:baseStyleBody,footer:baseStyleFooter})),sizes$7={xs:getSize$1("xs"),sm:getSize$1("md"),md:getSize$1("lg"),lg:getSize$1("2xl"),xl:getSize$1("4xl"),full:getSize$1("full")},drawerTheme$1=defineMultiStyleConfig$f({baseStyle:baseStyle$j,sizes:sizes$7,defaultProps:{size:"xs"}}),{definePartsStyle:definePartsStyle$e,defineMultiStyleConfig:defineMultiStyleConfig$e}=createMultiStyleConfigHelpers(editableAnatomy.keys),baseStylePreview={borderRadius:"md",py:"1",transitionProperty:"common",transitionDuration:"normal"},baseStyleInput={borderRadius:"md",py:"1",transitionProperty:"common",transitionDuration:"normal",width:"full",_focusVisible:{boxShadow:"outline"},_placeholder:{opacity:.6}},baseStyleTextarea={borderRadius:"md",py:"1",transitionProperty:"common",transitionDuration:"normal",width:"full",_focusVisible:{boxShadow:"outline"},_placeholder:{opacity:.6}},baseStyle$i=definePartsStyle$e({preview:baseStylePreview,input:baseStyleInput,textarea:baseStyleTextarea}),editableTheme=defineMultiStyleConfig$e({baseStyle:baseStyle$i}),{definePartsStyle:definePartsStyle$d,defineMultiStyleConfig:defineMultiStyleConfig$d}=createMultiStyleConfigHelpers(formAnatomy.keys),$fg$2=cssVar$1("form-control-color"),baseStyleRequiredIndicator={marginStart:"1",[$fg$2.variable]:"colors.red.500",_dark:{[$fg$2.variable]:"colors.red.300"},color:$fg$2.reference},baseStyleHelperText={mt:"2",[$fg$2.variable]:"colors.gray.600",_dark:{[$fg$2.variable]:"colors.whiteAlpha.600"},color:$fg$2.reference,lineHeight:"normal",fontSize:"sm"},baseStyle$h=definePartsStyle$d({container:{width:"100%",position:"relative"},requiredIndicator:baseStyleRequiredIndicator,helperText:baseStyleHelperText}),formTheme=defineMultiStyleConfig$d({baseStyle:baseStyle$h}),{definePartsStyle:definePartsStyle$c,defineMultiStyleConfig:defineMultiStyleConfig$c}=createMultiStyleConfigHelpers(formErrorAnatomy.keys),$fg$1=cssVar$1("form-error-color"),baseStyleText={[$fg$1.variable]:"colors.red.500",_dark:{[$fg$1.variable]:"colors.red.300"},color:$fg$1.reference,mt:"2",fontSize:"sm",lineHeight:"normal"},baseStyleIcon$1={marginEnd:"0.5em",[$fg$1.variable]:"colors.red.500",_dark:{[$fg$1.variable]:"colors.red.300"},color:$fg$1.reference},baseStyle$g=definePartsStyle$c({text:baseStyleText,icon:baseStyleIcon$1}),formErrorTheme=defineMultiStyleConfig$c({baseStyle:baseStyle$g}),baseStyle$f={fontSize:"md",marginEnd:"3",mb:"2",fontWeight:"medium",transitionProperty:"common",transitionDuration:"normal",opacity:1,_disabled:{opacity:.4}},formLabelTheme={baseStyle:baseStyle$f},baseStyle$e={fontFamily:"heading",fontWeight:"bold"},sizes$6={"4xl":{fontSize:["6xl",null,"7xl"],lineHeight:1},"3xl":{fontSize:["5xl",null,"6xl"],lineHeight:1},"2xl":{fontSize:["4xl",null,"5xl"],lineHeight:[1.2,null,1]},xl:{fontSize:["3xl",null,"4xl"],lineHeight:[1.33,null,1.2]},lg:{fontSize:["2xl",null,"3xl"],lineHeight:[1.33,null,1.2]},md:{fontSize:"xl",lineHeight:1.2},sm:{fontSize:"md",lineHeight:1.2},xs:{fontSize:"sm",lineHeight:1.2}},headingTheme={baseStyle:baseStyle$e,sizes:sizes$6,defaultProps:{size:"xl"}},{defineMultiStyleConfig:defineMultiStyleConfig$b,definePartsStyle:definePartsStyle$b}=createMultiStyleConfigHelpers(breadcrumbAnatomy.keys),$decor=cssVar$1("breadcrumb-link-decor"),baseStyleLink={transitionProperty:"common",transitionDuration:"fast",transitionTimingFunction:"ease-out",outline:"none",color:"inherit",textDecoration:$decor.reference,[$decor.variable]:"none","&:not([aria-current=page])":{cursor:"pointer",_hover:{[$decor.variable]:"underline"},_focusVisible:{boxShadow:"outline"}}},baseStyle$d=definePartsStyle$b({link:baseStyleLink}),breadcrumbTheme=defineMultiStyleConfig$b({baseStyle:baseStyle$d}),baseStyle$c={lineHeight:"1.2",borderRadius:"md",fontWeight:"semibold",transitionProperty:"common",transitionDuration:"normal",_focusVisible:{boxShadow:"outline"},_disabled:{opacity:.4,cursor:"not-allowed",boxShadow:"none"},_hover:{_disabled:{bg:"initial"}}},variantGhost=_=>{const{colorScheme:a,theme:$}=_;if(a==="gray")return{color:mode("gray.800","whiteAlpha.900")(_),_hover:{bg:mode("gray.100","whiteAlpha.200")(_)},_active:{bg:mode("gray.200","whiteAlpha.300")(_)}};const j=transparentize(`${a}.200`,.12)($),et=transparentize(`${a}.200`,.24)($);return{color:mode(`${a}.600`,`${a}.200`)(_),bg:"transparent",_hover:{bg:mode(`${a}.50`,j)(_)},_active:{bg:mode(`${a}.100`,et)(_)}}},variantOutline=_=>{const{colorScheme:a}=_,$=mode("gray.200","whiteAlpha.300")(_);return{border:"1px solid",borderColor:a==="gray"?$:"currentColor",".chakra-button__group[data-attached][data-orientation=horizontal] > &:not(:last-of-type)":{marginEnd:"-1px"},".chakra-button__group[data-attached][data-orientation=vertical] > &:not(:last-of-type)":{marginBottom:"-1px"},...runIfFn$1(variantGhost,_)}},accessibleColorMap={yellow:{bg:"yellow.400",color:"black",hoverBg:"yellow.500",activeBg:"yellow.600"},cyan:{bg:"cyan.400",color:"black",hoverBg:"cyan.500",activeBg:"cyan.600"}},variantSolid$2=_=>{var a;const{colorScheme:$}=_;if($==="gray"){const it=mode("gray.100","whiteAlpha.200")(_);return{bg:it,color:mode("gray.800","whiteAlpha.900")(_),_hover:{bg:mode("gray.200","whiteAlpha.300")(_),_disabled:{bg:it}},_active:{bg:mode("gray.300","whiteAlpha.400")(_)}}}const{bg:j=`${$}.500`,color:et="white",hoverBg:tt=`${$}.600`,activeBg:rt=`${$}.700`}=(a=accessibleColorMap[$])!=null?a:{},nt=mode(j,`${$}.200`)(_);return{bg:nt,color:mode(et,"gray.800")(_),_hover:{bg:mode(tt,`${$}.300`)(_),_disabled:{bg:nt}},_active:{bg:mode(rt,`${$}.400`)(_)}}},variantLink=_=>{const{colorScheme:a}=_;return{padding:0,height:"auto",lineHeight:"normal",verticalAlign:"baseline",color:mode(`${a}.500`,`${a}.200`)(_),_hover:{textDecoration:"underline",_disabled:{textDecoration:"none"}},_active:{color:mode(`${a}.700`,`${a}.500`)(_)}}},variantUnstyled={bg:"none",color:"inherit",display:"inline",lineHeight:"inherit",m:"0",p:"0"},variants$9={ghost:variantGhost,outline:variantOutline,solid:variantSolid$2,link:variantLink,unstyled:variantUnstyled},sizes$5={lg:{h:"12",minW:"12",fontSize:"lg",px:"6"},md:{h:"10",minW:"10",fontSize:"md",px:"4"},sm:{h:"8",minW:"8",fontSize:"sm",px:"3"},xs:{h:"6",minW:"6",fontSize:"xs",px:"2"}},buttonTheme$1={baseStyle:baseStyle$c,variants:variants$9,sizes:sizes$5,defaultProps:{variant:"solid",size:"md",colorScheme:"gray"}},{definePartsStyle:definePartsStyle$a,defineMultiStyleConfig:defineMultiStyleConfig$a}=createMultiStyleConfigHelpers(cardAnatomy.keys),$bg$3=cssVar$1("card-bg"),$padding=cssVar$1("card-padding"),$shadow=cssVar$1("card-shadow"),$radius=cssVar$1("card-radius"),$border$1=cssVar$1("card-border-width","0"),$borderColor=cssVar$1("card-border-color"),baseStyle$b=definePartsStyle$a({container:{[$bg$3.variable]:"colors.chakra-body-bg",backgroundColor:$bg$3.reference,boxShadow:$shadow.reference,borderRadius:$radius.reference,color:"chakra-body-text",borderWidth:$border$1.reference,borderColor:$borderColor.reference},body:{padding:$padding.reference,flex:"1 1 0%"},header:{padding:$padding.reference},footer:{padding:$padding.reference}}),sizes$4={sm:definePartsStyle$a({container:{[$radius.variable]:"radii.base",[$padding.variable]:"space.3"}}),md:definePartsStyle$a({container:{[$radius.variable]:"radii.md",[$padding.variable]:"space.5"}}),lg:definePartsStyle$a({container:{[$radius.variable]:"radii.xl",[$padding.variable]:"space.7"}})},variants$8={elevated:definePartsStyle$a({container:{[$shadow.variable]:"shadows.base",_dark:{[$bg$3.variable]:"colors.gray.700"}}}),outline:definePartsStyle$a({container:{[$border$1.variable]:"1px",[$borderColor.variable]:"colors.chakra-border-color"}}),filled:definePartsStyle$a({container:{[$bg$3.variable]:"colors.chakra-subtle-bg"}}),unstyled:{body:{[$padding.variable]:0},header:{[$padding.variable]:0},footer:{[$padding.variable]:0}}},cardTheme=defineMultiStyleConfig$a({baseStyle:baseStyle$b,variants:variants$8,sizes:sizes$4,defaultProps:{variant:"elevated",size:"md"}}),$size$1=cssVar("close-button-size"),$bg$2=cssVar("close-button-bg"),baseStyle$a={w:[$size$1.reference],h:[$size$1.reference],borderRadius:"md",transitionProperty:"common",transitionDuration:"normal",_disabled:{opacity:.4,cursor:"not-allowed",boxShadow:"none"},_hover:{[$bg$2.variable]:"colors.blackAlpha.100",_dark:{[$bg$2.variable]:"colors.whiteAlpha.100"}},_active:{[$bg$2.variable]:"colors.blackAlpha.200",_dark:{[$bg$2.variable]:"colors.whiteAlpha.200"}},_focusVisible:{boxShadow:"outline"},bg:$bg$2.reference},sizes$3={lg:{[$size$1.variable]:"sizes.10",fontSize:"md"},md:{[$size$1.variable]:"sizes.8",fontSize:"xs"},sm:{[$size$1.variable]:"sizes.6",fontSize:"2xs"}},closeButtonTheme={baseStyle:baseStyle$a,sizes:sizes$3,defaultProps:{size:"md"}},{variants:variants$7,defaultProps:defaultProps$1}=badgeTheme,baseStyle$9={fontFamily:"mono",fontSize:"sm",px:"0.2em",borderRadius:"sm",bg:vars.bg.reference,color:vars.color.reference,boxShadow:vars.shadow.reference},codeTheme={baseStyle:baseStyle$9,variants:variants$7,defaultProps:defaultProps$1},baseStyle$8={w:"100%",mx:"auto",maxW:"prose",px:"4"},containerTheme={baseStyle:baseStyle$8},baseStyle$7={opacity:.6,borderColor:"inherit"},variantSolid$1={borderStyle:"solid"},variantDashed={borderStyle:"dashed"},variants$6={solid:variantSolid$1,dashed:variantDashed},dividerTheme={baseStyle:baseStyle$7,variants:variants$6,defaultProps:{variant:"solid"}},{definePartsStyle:definePartsStyle$9,defineMultiStyleConfig:defineMultiStyleConfig$9}=createMultiStyleConfigHelpers(accordionAnatomy.keys),baseStyleContainer$1={borderTopWidth:"1px",borderColor:"inherit",_last:{borderBottomWidth:"1px"}},baseStyleButton={transitionProperty:"common",transitionDuration:"normal",fontSize:"md",_focusVisible:{boxShadow:"outline"},_hover:{bg:"blackAlpha.50"},_disabled:{opacity:.4,cursor:"not-allowed"},px:"4",py:"2"},baseStylePanel={pt:"2",px:"4",pb:"5"},baseStyleIcon={fontSize:"1.25em"},baseStyle$6=definePartsStyle$9({container:baseStyleContainer$1,button:baseStyleButton,panel:baseStylePanel,icon:baseStyleIcon}),accordionTheme=defineMultiStyleConfig$9({baseStyle:baseStyle$6}),{definePartsStyle:definePartsStyle$8,defineMultiStyleConfig:defineMultiStyleConfig$8}=createMultiStyleConfigHelpers(alertAnatomy.keys),$fg=cssVar$1("alert-fg"),$bg$1=cssVar$1("alert-bg"),baseStyle$5=definePartsStyle$8({container:{bg:$bg$1.reference,px:"4",py:"3"},title:{fontWeight:"bold",lineHeight:"6",marginEnd:"2"},description:{lineHeight:"6"},icon:{color:$fg.reference,flexShrink:0,marginEnd:"3",w:"5",h:"6"},spinner:{color:$fg.reference,flexShrink:0,marginEnd:"3",w:"5",h:"5"}});function getBg(_){const{theme:a,colorScheme:$}=_,j=transparentize(`${$}.200`,.16)(a);return{light:`colors.${$}.100`,dark:j}}var variantSubtle=definePartsStyle$8(_=>{const{colorScheme:a}=_,$=getBg(_);return{container:{[$fg.variable]:`colors.${a}.600`,[$bg$1.variable]:$.light,_dark:{[$fg.variable]:`colors.${a}.200`,[$bg$1.variable]:$.dark}}}}),variantLeftAccent=definePartsStyle$8(_=>{const{colorScheme:a}=_,$=getBg(_);return{container:{[$fg.variable]:`colors.${a}.600`,[$bg$1.variable]:$.light,_dark:{[$fg.variable]:`colors.${a}.200`,[$bg$1.variable]:$.dark},paddingStart:"3",borderStartWidth:"4px",borderStartColor:$fg.reference}}}),variantTopAccent=definePartsStyle$8(_=>{const{colorScheme:a}=_,$=getBg(_);return{container:{[$fg.variable]:`colors.${a}.600`,[$bg$1.variable]:$.light,_dark:{[$fg.variable]:`colors.${a}.200`,[$bg$1.variable]:$.dark},pt:"2",borderTopWidth:"4px",borderTopColor:$fg.reference}}}),variantSolid=definePartsStyle$8(_=>{const{colorScheme:a}=_;return{container:{[$fg.variable]:"colors.white",[$bg$1.variable]:`colors.${a}.600`,_dark:{[$fg.variable]:"colors.gray.900",[$bg$1.variable]:`colors.${a}.200`},color:$fg.reference}}}),variants$5={subtle:variantSubtle,"left-accent":variantLeftAccent,"top-accent":variantTopAccent,solid:variantSolid},alertTheme=defineMultiStyleConfig$8({baseStyle:baseStyle$5,variants:variants$5,defaultProps:{variant:"subtle",colorScheme:"blue"}}),{definePartsStyle:definePartsStyle$7,defineMultiStyleConfig:defineMultiStyleConfig$7}=createMultiStyleConfigHelpers(avatarAnatomy.keys),$border=cssVar$1("avatar-border-color"),$bg=cssVar$1("avatar-bg"),$fs=cssVar$1("avatar-font-size"),$size=cssVar$1("avatar-size"),baseStyleBadge={borderRadius:"full",border:"0.2em solid",borderColor:$border.reference,[$border.variable]:"white",_dark:{[$border.variable]:"colors.gray.800"}},baseStyleExcessLabel={bg:$bg.reference,fontSize:$fs.reference,width:$size.reference,height:$size.reference,lineHeight:"1",[$bg.variable]:"colors.gray.200",_dark:{[$bg.variable]:"colors.whiteAlpha.400"}},baseStyleContainer=_=>{const{name:a,theme:$}=_,j=a?randomColor({string:a}):"colors.gray.400",et=isDark(j)($);let tt="white";return et||(tt="gray.800"),{bg:$bg.reference,fontSize:$fs.reference,color:tt,borderColor:$border.reference,verticalAlign:"top",width:$size.reference,height:$size.reference,"&:not([data-loaded])":{[$bg.variable]:j},[$border.variable]:"colors.white",_dark:{[$border.variable]:"colors.gray.800"}}},baseStyleLabel={fontSize:$fs.reference,lineHeight:"1"},baseStyle$4=definePartsStyle$7(_=>({badge:runIfFn$1(baseStyleBadge,_),excessLabel:runIfFn$1(baseStyleExcessLabel,_),container:runIfFn$1(baseStyleContainer,_),label:baseStyleLabel}));function getSize(_){const a=_!=="100%"?sizes_default[_]:void 0;return definePartsStyle$7({container:{[$size.variable]:a??_,[$fs.variable]:`calc(${a??_} / 2.5)`},excessLabel:{[$size.variable]:a??_,[$fs.variable]:`calc(${a??_} / 2.5)`}})}var sizes$2={"2xs":getSize(4),xs:getSize(6),sm:getSize(8),md:getSize(12),lg:getSize(16),xl:getSize(24),"2xl":getSize(32),full:getSize("100%")},avatarTheme=defineMultiStyleConfig$7({baseStyle:baseStyle$4,sizes:sizes$2,defaultProps:{size:"md"}}),components={Accordion:accordionTheme,Alert:alertTheme,Avatar:avatarTheme,Badge:badgeTheme,Breadcrumb:breadcrumbTheme,Button:buttonTheme$1,Checkbox:checkboxTheme$1,CloseButton:closeButtonTheme,Code:codeTheme,Container:containerTheme,Divider:dividerTheme,Drawer:drawerTheme$1,Editable:editableTheme,Form:formTheme,FormError:formErrorTheme,FormLabel:formLabelTheme,Heading:headingTheme,Input:inputTheme,Kbd:kbdTheme,Link:linkTheme,List:listTheme$1,Menu:menuTheme,Modal:modalTheme$1,NumberInput:numberInputTheme,PinInput:pinInputTheme,Popover:popoverTheme,Progress:progressTheme,Radio:radioTheme$1,Select:selectTheme,Skeleton:skeletonTheme,SkipLink:skipLinkTheme,Slider:sliderTheme,Spinner:spinnerTheme,Stat:statTheme,Switch:switchTheme$1,Table:tableTheme,Tabs:tabsTheme$1,Tag:tagTheme,Textarea:textareaTheme,Tooltip:tooltipTheme,Card:cardTheme,Stepper:stepperTheme},semanticTokens={colors:{"chakra-body-text":{_light:"gray.800",_dark:"whiteAlpha.900"},"chakra-body-bg":{_light:"white",_dark:"gray.800"},"chakra-border-color":{_light:"gray.200",_dark:"whiteAlpha.300"},"chakra-inverse-text":{_light:"white",_dark:"gray.800"},"chakra-subtle-bg":{_light:"gray.100",_dark:"gray.700"},"chakra-subtle-text":{_light:"gray.600",_dark:"gray.400"},"chakra-placeholder-color":{_light:"gray.500",_dark:"whiteAlpha.400"}}},styles={global:{body:{fontFamily:"body",color:"chakra-body-text",bg:"chakra-body-bg",transitionProperty:"background-color",transitionDuration:"normal",lineHeight:"base"},"*::placeholder":{color:"chakra-placeholder-color"},"*, *::before, &::after":{borderColor:"chakra-border-color"}}},direction="ltr",config$4={useSystemColorMode:!1,initialColorMode:"light",cssVarPrefix:"chakra"},theme$1={semanticTokens,direction,...foundations,components,styles,config:config$4};function isFunction$5(_){return typeof _=="function"}function pipe$2(..._){return a=>_.reduce(($,j)=>j($),a)}var createExtendTheme=_=>function(...$){let j=[...$],et=$[$.length-1];return isChakraTheme(et)&&j.length>1?j=j.slice(0,j.length-1):et=_,pipe$2(...j.map(tt=>rt=>isFunction$5(tt)?tt(rt):mergeThemeOverride(rt,tt)))(et)},extendTheme=createExtendTheme(theme$1);function mergeThemeOverride(..._){return mergeWith({},..._,mergeThemeCustomizer)}function mergeThemeCustomizer(_,a,$,j){if((isFunction$5(_)||isFunction$5(a))&&Object.prototype.hasOwnProperty.call(j,$))return(...et)=>{const tt=isFunction$5(_)?_(...et):_,rt=isFunction$5(a)?a(...et):a;return mergeWith({},tt,rt,mergeThemeCustomizer)}}function isElement$4(_){return _!=null&&typeof _=="object"&&"nodeType"in _&&_.nodeType===Node.ELEMENT_NODE}function getOwnerDocument$3(_){var a;return isElement$4(_)&&(a=_.ownerDocument)!=null?a:document}function canUseDOM$1(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var isBrowser$2=canUseDOM$1();function omit$5(_,a){const $={};return Object.keys(_).forEach(j=>{a.includes(j)||($[j]=_[j])}),$}function get$4(_,a,$,j){const et=typeof a=="string"?a.split("."):[a];for(j=0;j<et.length&&_;j+=1)_=_[et[j]];return _===void 0?$:_}var memoize=_=>{const a=new WeakMap;return(j,et,tt,rt)=>{if(typeof j>"u")return _(j,et,tt);a.has(j)||a.set(j,new Map);const nt=a.get(j);if(nt.has(et))return nt.get(et);const it=_(j,et,tt,rt);return nt.set(et,it),it}},memoizedGet=memoize(get$4);function objectFilter(_,a){const $={};return Object.keys(_).forEach(j=>{const et=_[j];a(et,j,_)&&($[j]=et)}),$}var filterUndefined=_=>objectFilter(_,a=>a!=null);function isFunction$4(_){return typeof _=="function"}function runIfFn(_,...a){return isFunction$4(_)?_(...a):_}function callAllHandlers(..._){return function($){_.some(j=>(j==null||j($),$==null?void 0:$.defaultPrevented))}}var hasElementType=typeof Element<"u",hasMap=typeof Map=="function",hasSet=typeof Set=="function",hasArrayBuffer=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function equal$1(_,a){if(_===a)return!0;if(_&&a&&typeof _=="object"&&typeof a=="object"){if(_.constructor!==a.constructor)return!1;var $,j,et;if(Array.isArray(_)){if($=_.length,$!=a.length)return!1;for(j=$;j--!==0;)if(!equal$1(_[j],a[j]))return!1;return!0}var tt;if(hasMap&&_ instanceof Map&&a instanceof Map){if(_.size!==a.size)return!1;for(tt=_.entries();!(j=tt.next()).done;)if(!a.has(j.value[0]))return!1;for(tt=_.entries();!(j=tt.next()).done;)if(!equal$1(j.value[1],a.get(j.value[0])))return!1;return!0}if(hasSet&&_ instanceof Set&&a instanceof Set){if(_.size!==a.size)return!1;for(tt=_.entries();!(j=tt.next()).done;)if(!a.has(j.value[0]))return!1;return!0}if(hasArrayBuffer&&ArrayBuffer.isView(_)&&ArrayBuffer.isView(a)){if($=_.length,$!=a.length)return!1;for(j=$;j--!==0;)if(_[j]!==a[j])return!1;return!0}if(_.constructor===RegExp)return _.source===a.source&&_.flags===a.flags;if(_.valueOf!==Object.prototype.valueOf&&typeof _.valueOf=="function"&&typeof a.valueOf=="function")return _.valueOf()===a.valueOf();if(_.toString!==Object.prototype.toString&&typeof _.toString=="function"&&typeof a.toString=="function")return _.toString()===a.toString();if(et=Object.keys(_),$=et.length,$!==Object.keys(a).length)return!1;for(j=$;j--!==0;)if(!Object.prototype.hasOwnProperty.call(a,et[j]))return!1;if(hasElementType&&_ instanceof Element)return!1;for(j=$;j--!==0;)if(!((et[j]==="_owner"||et[j]==="__v"||et[j]==="__o")&&_.$$typeof)&&!equal$1(_[et[j]],a[et[j]]))return!1;return!0}return _!==_&&a!==a}var reactFastCompare=function(a,$){try{return equal$1(a,$)}catch(j){if((j.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw j}};const isEqual$2=getDefaultExportFromCjs$1(reactFastCompare);function useStyleConfigImpl(_,a={}){var $;const{styleConfig:j,...et}=a,{theme:tt,colorMode:rt}=useChakra(),nt=_?memoizedGet(tt,`components.${_}`):void 0,it=j||nt,ot=mergeWith({theme:tt,colorMode:rt},($=it==null?void 0:it.defaultProps)!=null?$:{},filterUndefined(omit$5(et,["children"]))),st=reactExports.useRef({});if(it){const ut=resolveStyleConfig(it)(ot);isEqual$2(st.current,ut)||(st.current=ut)}return st.current}function useStyleConfig(_,a={}){return useStyleConfigImpl(_,a)}function useMultiStyleConfig(_,a={}){return useStyleConfigImpl(_,a)}var allPropNames=new Set([...propNames,"textStyle","layerStyle","apply","noOfLines","focusBorderColor","errorBorderColor","as","__css","css","sx"]),validHTMLProps=new Set(["htmlWidth","htmlHeight","htmlSize","htmlTranslate"]);function shouldForwardProp(_){return validHTMLProps.has(_)||!allPropNames.has(_)}function assignAfter(_,...a){if(_==null)throw new TypeError("Cannot convert undefined or null to object");const $={..._};for(const j of a)if(j!=null)for(const et in j)Object.prototype.hasOwnProperty.call(j,et)&&(et in $&&delete $[et],$[et]=j[et]);return $}function compact$1(_){const a=Object.assign({},_);for(let $ in a)a[$]===void 0&&delete a[$];return a}function _extends$6(){return _extends$6=Object.assign?Object.assign.bind():function(_){for(var a=1;a<arguments.length;a++){var $=arguments[a];for(var j in $)({}).hasOwnProperty.call($,j)&&(_[j]=$[j])}return _},_extends$6.apply(null,arguments)}var reactPropsRegex=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,isPropValid=memoize$2(function(_){return reactPropsRegex.test(_)||_.charCodeAt(0)===111&&_.charCodeAt(1)===110&&_.charCodeAt(2)<91}),testOmitPropsOnStringTag=isPropValid,testOmitPropsOnComponent=function(a){return a!=="theme"},getDefaultShouldForwardProp=function(a){return typeof a=="string"&&a.charCodeAt(0)>96?testOmitPropsOnStringTag:testOmitPropsOnComponent},composeShouldForwardProps=function(a,$,j){var et;if($){var tt=$.shouldForwardProp;et=a.__emotion_forwardProp&&tt?function(rt){return a.__emotion_forwardProp(rt)&&tt(rt)}:tt}return typeof et!="function"&&j&&(et=a.__emotion_forwardProp),et},Insertion=function(a){var $=a.cache,j=a.serialized,et=a.isStringTag;return registerStyles($,j,et),useInsertionEffectAlwaysWithSyncFallback(function(){return insertStyles($,j,et)}),null},createStyled=function _(a,$){var j=a.__emotion_real===a,et=j&&a.__emotion_base||a,tt,rt;$!==void 0&&(tt=$.label,rt=$.target);var nt=composeShouldForwardProps(a,$,j),it=nt||getDefaultShouldForwardProp(et),ot=!it("as");return function(){var st=arguments,ct=j&&a.__emotion_styles!==void 0?a.__emotion_styles.slice(0):[];if(tt!==void 0&&ct.push("label:"+tt+";"),st[0]==null||st[0].raw===void 0)ct.push.apply(ct,st);else{ct.push(st[0][0]);for(var ut=st.length,ht=1;ht<ut;ht++)ct.push(st[ht],st[0][ht])}var Et=withEmotionCache(function(St,Mt,kt){var Ct=ot&&St.as||et,Ot="",zt=[],Ut=St;if(St.theme==null){Ut={};for(var Vt in St)Ut[Vt]=St[Vt];Ut.theme=reactExports.useContext(ThemeContext)}typeof St.className=="string"?Ot=getRegisteredStyles(Mt.registered,zt,St.className):St.className!=null&&(Ot=St.className+" ");var jt=serializeStyles(ct.concat(zt),Mt.registered,Ut);Ot+=Mt.key+"-"+jt.name,rt!==void 0&&(Ot+=" "+rt);var $t=ot&&nt===void 0?getDefaultShouldForwardProp(Ct):it,Bt={};for(var Nt in St)ot&&Nt==="as"||$t(Nt)&&(Bt[Nt]=St[Nt]);return Bt.className=Ot,Bt.ref=kt,reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(Insertion,{cache:Mt,serialized:jt,isStringTag:typeof Ct=="string"}),reactExports.createElement(Ct,Bt))});return Et.displayName=tt!==void 0?tt:"Styled("+(typeof et=="string"?et:et.displayName||et.name||"Component")+")",Et.defaultProps=a.defaultProps,Et.__emotion_real=Et,Et.__emotion_base=et,Et.__emotion_styles=ct,Et.__emotion_forwardProp=nt,Object.defineProperty(Et,"toString",{value:function(){return"."+rt}}),Et.withComponent=function(St,Mt){return _(St,_extends$6({},$,Mt,{shouldForwardProp:composeShouldForwardProps(Et,Mt,!0)})).apply(void 0,ct)},Et}},tags=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],newStyled=createStyled.bind();tags.forEach(function(_){newStyled[_]=newStyled(_)});var _a$4,emotion_styled=(_a$4=newStyled.default)!=null?_a$4:newStyled,toCSSObject=({baseStyle:_})=>a=>{const{theme:$,css:j,__css:et,sx:tt,...rt}=a,nt=objectFilter(rt,(ct,ut)=>isStyleProp(ut)),it=runIfFn(_,a),ot=assignAfter({},et,it,filterUndefined(nt),tt),st=css(ot)(a.theme);return j?[st,j]:st};function styled(_,a){const{baseStyle:$,...j}=a??{};j.shouldForwardProp||(j.shouldForwardProp=shouldForwardProp);const et=toCSSObject({baseStyle:$}),tt=emotion_styled(_,j)(et);return React$2.forwardRef(function(it,ot){const{colorMode:st,forced:ct}=useColorMode();return React$2.createElement(tt,{ref:ot,"data-theme":ct?st:void 0,...it})})}function factory(){const _=new Map;return new Proxy(styled,{apply(a,$,j){return styled(...j)},get(a,$){return _.has($)||_.set($,styled($)),_.get($)}})}var chakra=factory();function forwardRef(_){return reactExports.forwardRef(_)}function createContext(_={}){const{strict:a=!0,errorMessage:$="useContext: `context` is undefined. Seems you forgot to wrap component within the Provider",name:j}=_,et=reactExports.createContext(void 0);et.displayName=j;function tt(){var rt;const nt=reactExports.useContext(et);if(!nt&&a){const it=new Error($);throw it.name="ContextError",(rt=Error.captureStackTrace)==null||rt.call(Error,it,tt),it}return nt}return[et.Provider,tt,et]}function ThemeProvider(_){const{cssVarsRoot:a,theme:$,children:j}=_,et=reactExports.useMemo(()=>toCSSVar($),[$]);return jsxRuntimeExports.jsxs(ThemeProvider$1,{theme:et,children:[jsxRuntimeExports.jsx(CSSVars,{root:a}),j]})}function CSSVars({root:_=":host, :root"}){const a=[_,"[data-theme]"].join(",");return jsxRuntimeExports.jsx(Global,{styles:$=>({[a]:$.__cssVars})})}createContext({name:"StylesContext",errorMessage:"useStyles: `styles` is undefined. Seems you forgot to wrap the components in `<StylesProvider />` "});function createStylesContext(_){return createContext({name:`${_}StylesContext`,errorMessage:`useStyles: "styles" is undefined. Seems you forgot to wrap the components in "<${_} />" `})}function GlobalStyle(){const{colorMode:_}=useColorMode();return jsxRuntimeExports.jsx(Global,{styles:a=>{const $=memoizedGet(a,"styles.global"),j=runIfFn($,{theme:a,colorMode:_});return j?css(j)(a):void 0}})}var EnvironmentContext=reactExports.createContext({getDocument(){return document},getWindow(){return window}});EnvironmentContext.displayName="EnvironmentContext";function useEnvironment({defer:_}={}){const[,a]=reactExports.useReducer($=>$+1,0);return useSafeLayoutEffect$2(()=>{_&&a()},[_]),reactExports.useContext(EnvironmentContext)}function EnvironmentProvider(_){const{children:a,environment:$,disabled:j}=_,et=reactExports.useRef(null),tt=reactExports.useMemo(()=>$||{getDocument:()=>{var nt,it;return(it=(nt=et.current)==null?void 0:nt.ownerDocument)!=null?it:document},getWindow:()=>{var nt,it;return(it=(nt=et.current)==null?void 0:nt.ownerDocument.defaultView)!=null?it:window}},[$]),rt=!j||!$;return jsxRuntimeExports.jsxs(EnvironmentContext.Provider,{value:tt,children:[a,rt&&jsxRuntimeExports.jsx("span",{id:"__chakra_env",hidden:!0,ref:et})]})}EnvironmentProvider.displayName="EnvironmentProvider";var ChakraProvider$1=_=>{const{children:a,colorModeManager:$,portalZIndex:j,resetScope:et,resetCSS:tt=!0,theme:rt={},environment:nt,cssVarsRoot:it,disableEnvironment:ot,disableGlobalStyle:st}=_,ct=jsxRuntimeExports.jsx(EnvironmentProvider,{environment:nt,disabled:ot,children:a});return jsxRuntimeExports.jsx(ThemeProvider,{theme:rt,cssVarsRoot:it,children:jsxRuntimeExports.jsxs(ColorModeProvider,{colorModeManager:$,options:rt.config,children:[tt?jsxRuntimeExports.jsx(CSSReset,{scope:et}):jsxRuntimeExports.jsx(CSSPolyfill,{}),!st&&jsxRuntimeExports.jsx(GlobalStyle,{}),j?jsxRuntimeExports.jsx(PortalManager,{zIndex:j,children:ct}):ct]})})},findById=(_,a)=>_.find($=>$.id===a);function findToast(_,a){const $=getToastPosition(_,a),j=$?_[$].findIndex(et=>et.id===a):-1;return{position:$,index:j}}function getToastPosition(_,a){for(const[$,j]of Object.entries(_))if(findById(j,a))return $}function getToastStyle(_){const a=_.includes("right"),$=_.includes("left");let j="center";return a&&(j="flex-end"),$&&(j="flex-start"),{display:"flex",flexDirection:"column",alignItems:j}}function getToastListStyle(_){const $=_==="top"||_==="bottom"?"0 auto":void 0,j=_.includes("top")?"env(safe-area-inset-top, 0px)":void 0,et=_.includes("bottom")?"env(safe-area-inset-bottom, 0px)":void 0,tt=_.includes("left")?void 0:"env(safe-area-inset-right, 0px)",rt=_.includes("right")?void 0:"env(safe-area-inset-left, 0px)";return{position:"fixed",zIndex:"var(--toast-z-index, 5500)",pointerEvents:"none",display:"flex",flexDirection:"column",margin:$,top:j,bottom:et,right:tt,left:rt}}function useCallbackRef$2(_,a=[]){const $=reactExports.useRef(_);return reactExports.useEffect(()=>{$.current=_}),reactExports.useCallback((...j)=>{var et;return(et=$.current)==null?void 0:et.call($,...j)},a)}function useTimeout(_,a){const $=useCallbackRef$2(_);reactExports.useEffect(()=>{if(a==null)return;let j=null;return j=window.setTimeout(()=>{$()},a),()=>{j&&window.clearTimeout(j)}},[a,$])}function useUpdateEffect(_,a){const $=reactExports.useRef(!1),j=reactExports.useRef(!1);reactExports.useEffect(()=>{if($.current&&j.current)return _();j.current=!0},a),reactExports.useEffect(()=>($.current=!0,()=>{$.current=!1}),[])}const MotionConfigContext=reactExports.createContext({transformPagePoint:_=>_,isStatic:!1,reducedMotion:"never"}),MotionContext=reactExports.createContext({}),PresenceContext=reactExports.createContext(null),isBrowser$1=typeof document<"u",useIsomorphicLayoutEffect$2=isBrowser$1?reactExports.useLayoutEffect:reactExports.useEffect,LazyContext=reactExports.createContext({strict:!1}),camelToDash=_=>_.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),optimizedAppearDataId="framerAppearId",optimizedAppearDataAttribute="data-"+camelToDash(optimizedAppearDataId),MotionGlobalConfig={skipAnimations:!1,useManualTiming:!1};class Queue{constructor(){this.order=[],this.scheduled=new Set}add(a){if(!this.scheduled.has(a))return this.scheduled.add(a),this.order.push(a),!0}remove(a){const $=this.order.indexOf(a);$!==-1&&(this.order.splice($,1),this.scheduled.delete(a))}clear(){this.order.length=0,this.scheduled.clear()}}function createRenderStep(_){let a=new Queue,$=new Queue,j=0,et=!1,tt=!1;const rt=new WeakSet,nt={schedule:(it,ot=!1,st=!1)=>{const ct=st&&et,ut=ct?a:$;return ot&&rt.add(it),ut.add(it)&&ct&&et&&(j=a.order.length),it},cancel:it=>{$.remove(it),rt.delete(it)},process:it=>{if(et){tt=!0;return}if(et=!0,[a,$]=[$,a],$.clear(),j=a.order.length,j)for(let ot=0;ot<j;ot++){const st=a.order[ot];rt.has(st)&&(nt.schedule(st),_()),st(it)}et=!1,tt&&(tt=!1,nt.process(it))}};return nt}const stepsOrder=["read","resolveKeyframes","update","preRender","render","postRender"],maxElapsed=40;function createRenderBatcher(_,a){let $=!1,j=!0;const et={delta:0,timestamp:0,isProcessing:!1},tt=stepsOrder.reduce((ct,ut)=>(ct[ut]=createRenderStep(()=>$=!0),ct),{}),rt=ct=>{tt[ct].process(et)},nt=()=>{const ct=performance.now();$=!1,et.delta=j?1e3/60:Math.max(Math.min(ct-et.timestamp,maxElapsed),1),et.timestamp=ct,et.isProcessing=!0,stepsOrder.forEach(rt),et.isProcessing=!1,$&&a&&(j=!1,_(nt))},it=()=>{$=!0,j=!0,et.isProcessing||_(nt)};return{schedule:stepsOrder.reduce((ct,ut)=>{const ht=tt[ut];return ct[ut]=(Et,St=!1,Mt=!1)=>($||it(),ht.schedule(Et,St,Mt)),ct},{}),cancel:ct=>stepsOrder.forEach(ut=>tt[ut].cancel(ct)),state:et,steps:tt}}const{schedule:microtask,cancel:cancelMicrotask}=createRenderBatcher(queueMicrotask,!1);function useVisualElement(_,a,$,j){const{visualElement:et}=reactExports.useContext(MotionContext),tt=reactExports.useContext(LazyContext),rt=reactExports.useContext(PresenceContext),nt=reactExports.useContext(MotionConfigContext).reducedMotion,it=reactExports.useRef();j=j||tt.renderer,!it.current&&j&&(it.current=j(_,{visualState:a,parent:et,props:$,presenceContext:rt,blockInitialAnimation:rt?rt.initial===!1:!1,reducedMotionConfig:nt}));const ot=it.current;reactExports.useInsertionEffect(()=>{ot&&ot.update($,rt)});const st=reactExports.useRef(!!($[optimizedAppearDataAttribute]&&!window.HandoffComplete));return useIsomorphicLayoutEffect$2(()=>{ot&&(microtask.render(ot.render),st.current&&ot.animationState&&ot.animationState.animateChanges())}),reactExports.useEffect(()=>{ot&&(ot.updateFeatures(),!st.current&&ot.animationState&&ot.animationState.animateChanges(),st.current&&(st.current=!1,window.HandoffComplete=!0))}),ot}function isRefObject$2(_){return _&&typeof _=="object"&&Object.prototype.hasOwnProperty.call(_,"current")}function useMotionRef(_,a,$){return reactExports.useCallback(j=>{j&&_.mount&&_.mount(j),a&&(j?a.mount(j):a.unmount()),$&&(typeof $=="function"?$(j):isRefObject$2($)&&($.current=j))},[a])}function isVariantLabel(_){return typeof _=="string"||Array.isArray(_)}function isAnimationControls(_){return _!==null&&typeof _=="object"&&typeof _.start=="function"}const variantPriorityOrder=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],variantProps=["initial",...variantPriorityOrder];function isControllingVariants(_){return isAnimationControls(_.animate)||variantProps.some(a=>isVariantLabel(_[a]))}function isVariantNode(_){return!!(isControllingVariants(_)||_.variants)}function getCurrentTreeVariants(_,a){if(isControllingVariants(_)){const{initial:$,animate:j}=_;return{initial:$===!1||isVariantLabel($)?$:void 0,animate:isVariantLabel(j)?j:void 0}}return _.inherit!==!1?a:{}}function useCreateMotionContext(_){const{initial:a,animate:$}=getCurrentTreeVariants(_,reactExports.useContext(MotionContext));return reactExports.useMemo(()=>({initial:a,animate:$}),[variantLabelsAsDependency(a),variantLabelsAsDependency($)])}function variantLabelsAsDependency(_){return Array.isArray(_)?_.join(" "):_}const featureProps={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},featureDefinitions={};for(const _ in featureProps)featureDefinitions[_]={isEnabled:a=>featureProps[_].some($=>!!a[$])};function loadFeatures(_){for(const a in _)featureDefinitions[a]={...featureDefinitions[a],..._[a]}}const LayoutGroupContext=reactExports.createContext({}),SwitchLayoutGroupContext=reactExports.createContext({}),motionComponentSymbol=Symbol.for("motionComponentSymbol");function createMotionComponent({preloadedFeatures:_,createVisualElement:a,useRender:$,useVisualState:j,Component:et}){_&&loadFeatures(_);function tt(nt,it){let ot;const st={...reactExports.useContext(MotionConfigContext),...nt,layoutId:useLayoutId(nt)},{isStatic:ct}=st,ut=useCreateMotionContext(nt),ht=j(nt,ct);if(!ct&&isBrowser$1){ut.visualElement=useVisualElement(et,ht,st,a);const Et=reactExports.useContext(SwitchLayoutGroupContext),St=reactExports.useContext(LazyContext).strict;ut.visualElement&&(ot=ut.visualElement.loadFeatures(st,St,_,Et))}return jsxRuntimeExports.jsxs(MotionContext.Provider,{value:ut,children:[ot&&ut.visualElement?jsxRuntimeExports.jsx(ot,{visualElement:ut.visualElement,...st}):null,$(et,nt,useMotionRef(ht,ut.visualElement,it),ht,ct,ut.visualElement)]})}const rt=reactExports.forwardRef(tt);return rt[motionComponentSymbol]=et,rt}function useLayoutId({layoutId:_}){const a=reactExports.useContext(LayoutGroupContext).id;return a&&_!==void 0?a+"-"+_:_}function createMotionProxy(_){function a(j,et={}){return createMotionComponent(_(j,et))}if(typeof Proxy>"u")return a;const $=new Map;return new Proxy(a,{get:(j,et)=>($.has(et)||$.set(et,a(et)),$.get(et))})}const lowercaseSVGElements=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function isSVGComponent(_){return typeof _!="string"||_.includes("-")?!1:!!(lowercaseSVGElements.indexOf(_)>-1||/[A-Z]/u.test(_))}const scaleCorrectors={};function addScaleCorrector(_){Object.assign(scaleCorrectors,_)}const transformPropOrder=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],transformProps=new Set(transformPropOrder);function isForcedMotionValue(_,{layout:a,layoutId:$}){return transformProps.has(_)||_.startsWith("origin")||(a||$!==void 0)&&(!!scaleCorrectors[_]||_==="opacity")}const isMotionValue=_=>!!(_&&_.getVelocity),translateAlias={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},numTransforms=transformPropOrder.length;function buildTransform(_,{enableHardwareAcceleration:a=!0,allowTransformNone:$=!0},j,et){let tt="";for(let rt=0;rt<numTransforms;rt++){const nt=transformPropOrder[rt];if(_[nt]!==void 0){const it=translateAlias[nt]||nt;tt+=`${it}(${_[nt]}) `}}return a&&!_.z&&(tt+="translateZ(0)"),tt=tt.trim(),et?tt=et(_,j?"":tt):$&&j&&(tt="none"),tt}const checkStringStartsWith=_=>a=>typeof a=="string"&&a.startsWith(_),isCSSVariableName=checkStringStartsWith("--"),startsAsVariableToken=checkStringStartsWith("var(--"),isCSSVariableToken=_=>startsAsVariableToken(_)?singleCssVariableRegex.test(_.split("/*")[0].trim()):!1,singleCssVariableRegex=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,getValueAsType=(_,a)=>a&&typeof _=="number"?a.transform(_):_,clamp=(_,a,$)=>$>a?a:$<_?_:$,number$3={test:_=>typeof _=="number",parse:parseFloat,transform:_=>_},alpha={...number$3,transform:_=>clamp(0,1,_)},scale$1={...number$3,default:1},sanitize=_=>Math.round(_*1e5)/1e5,floatRegex=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu,colorRegex=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu,singleColorRegex=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu;function isString$3(_){return typeof _=="string"}const createUnitType=_=>({test:a=>isString$3(a)&&a.endsWith(_)&&a.split(" ").length===1,parse:parseFloat,transform:a=>`${a}${_}`}),degrees=createUnitType("deg"),percent=createUnitType("%"),px=createUnitType("px"),vh=createUnitType("vh"),vw=createUnitType("vw"),progressPercentage={...percent,parse:_=>percent.parse(_)/100,transform:_=>percent.transform(_*100)},int$1={...number$3,transform:Math.round},numberValueTypes={borderWidth:px,borderTopWidth:px,borderRightWidth:px,borderBottomWidth:px,borderLeftWidth:px,borderRadius:px,radius:px,borderTopLeftRadius:px,borderTopRightRadius:px,borderBottomRightRadius:px,borderBottomLeftRadius:px,width:px,maxWidth:px,height:px,maxHeight:px,size:px,top:px,right:px,bottom:px,left:px,padding:px,paddingTop:px,paddingRight:px,paddingBottom:px,paddingLeft:px,margin:px,marginTop:px,marginRight:px,marginBottom:px,marginLeft:px,rotate:degrees,rotateX:degrees,rotateY:degrees,rotateZ:degrees,scale:scale$1,scaleX:scale$1,scaleY:scale$1,scaleZ:scale$1,skew:degrees,skewX:degrees,skewY:degrees,distance:px,translateX:px,translateY:px,translateZ:px,x:px,y:px,z:px,perspective:px,transformPerspective:px,opacity:alpha,originX:progressPercentage,originY:progressPercentage,originZ:px,zIndex:int$1,backgroundPositionX:px,backgroundPositionY:px,fillOpacity:alpha,strokeOpacity:alpha,numOctaves:int$1};function buildHTMLStyles(_,a,$,j){const{style:et,vars:tt,transform:rt,transformOrigin:nt}=_;let it=!1,ot=!1,st=!0;for(const ct in a){const ut=a[ct];if(isCSSVariableName(ct)){tt[ct]=ut;continue}const ht=numberValueTypes[ct],Et=getValueAsType(ut,ht);if(transformProps.has(ct)){if(it=!0,rt[ct]=Et,!st)continue;ut!==(ht.default||0)&&(st=!1)}else ct.startsWith("origin")?(ot=!0,nt[ct]=Et):et[ct]=Et}if(a.transform||(it||j?et.transform=buildTransform(_.transform,$,st,j):et.transform&&(et.transform="none")),ot){const{originX:ct="50%",originY:ut="50%",originZ:ht=0}=nt;et.transformOrigin=`${ct} ${ut} ${ht}`}}const createHtmlRenderState=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function copyRawValuesOnly(_,a,$){for(const j in a)!isMotionValue(a[j])&&!isForcedMotionValue(j,$)&&(_[j]=a[j])}function useInitialMotionValues({transformTemplate:_},a,$){return reactExports.useMemo(()=>{const j=createHtmlRenderState();return buildHTMLStyles(j,a,{enableHardwareAcceleration:!$},_),Object.assign({},j.vars,j.style)},[a])}function useStyle(_,a,$){const j=_.style||{},et={};return copyRawValuesOnly(et,j,_),Object.assign(et,useInitialMotionValues(_,a,$)),et}function useHTMLProps(_,a,$){const j={},et=useStyle(_,a,$);return _.drag&&_.dragListener!==!1&&(j.draggable=!1,et.userSelect=et.WebkitUserSelect=et.WebkitTouchCallout="none",et.touchAction=_.drag===!0?"none":`pan-${_.drag==="x"?"y":"x"}`),_.tabIndex===void 0&&(_.onTap||_.onTapStart||_.whileTap)&&(j.tabIndex=0),j.style=et,j}const validMotionProps=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function isValidMotionProp(_){return _.startsWith("while")||_.startsWith("drag")&&_!=="draggable"||_.startsWith("layout")||_.startsWith("onTap")||_.startsWith("onPan")||_.startsWith("onLayout")||validMotionProps.has(_)}let shouldForward=_=>!isValidMotionProp(_);function loadExternalIsValidProp(_){_&&(shouldForward=a=>a.startsWith("on")?!isValidMotionProp(a):_(a))}try{loadExternalIsValidProp(require("@emotion/is-prop-valid").default)}catch{}function filterProps(_,a,$){const j={};for(const et in _)et==="values"&&typeof _.values=="object"||(shouldForward(et)||$===!0&&isValidMotionProp(et)||!a&&!isValidMotionProp(et)||_.draggable&&et.startsWith("onDrag"))&&(j[et]=_[et]);return j}function calcOrigin$1(_,a,$){return typeof _=="string"?_:px.transform(a+$*_)}function calcSVGTransformOrigin(_,a,$){const j=calcOrigin$1(a,_.x,_.width),et=calcOrigin$1($,_.y,_.height);return`${j} ${et}`}const dashKeys={offset:"stroke-dashoffset",array:"stroke-dasharray"},camelKeys={offset:"strokeDashoffset",array:"strokeDasharray"};function buildSVGPath(_,a,$=1,j=0,et=!0){_.pathLength=1;const tt=et?dashKeys:camelKeys;_[tt.offset]=px.transform(-j);const rt=px.transform(a),nt=px.transform($);_[tt.array]=`${rt} ${nt}`}function buildSVGAttrs(_,{attrX:a,attrY:$,attrScale:j,originX:et,originY:tt,pathLength:rt,pathSpacing:nt=1,pathOffset:it=0,...ot},st,ct,ut){if(buildHTMLStyles(_,ot,st,ut),ct){_.style.viewBox&&(_.attrs.viewBox=_.style.viewBox);return}_.attrs=_.style,_.style={};const{attrs:ht,style:Et,dimensions:St}=_;ht.transform&&(St&&(Et.transform=ht.transform),delete ht.transform),St&&(et!==void 0||tt!==void 0||Et.transform)&&(Et.transformOrigin=calcSVGTransformOrigin(St,et!==void 0?et:.5,tt!==void 0?tt:.5)),a!==void 0&&(ht.x=a),$!==void 0&&(ht.y=$),j!==void 0&&(ht.scale=j),rt!==void 0&&buildSVGPath(ht,rt,nt,it,!1)}const createSvgRenderState=()=>({...createHtmlRenderState(),attrs:{}}),isSVGTag=_=>typeof _=="string"&&_.toLowerCase()==="svg";function useSVGProps(_,a,$,j){const et=reactExports.useMemo(()=>{const tt=createSvgRenderState();return buildSVGAttrs(tt,a,{enableHardwareAcceleration:!1},isSVGTag(j),_.transformTemplate),{...tt.attrs,style:{...tt.style}}},[a]);if(_.style){const tt={};copyRawValuesOnly(tt,_.style,_),et.style={...tt,...et.style}}return et}function createUseRender(_=!1){return($,j,et,{latestValues:tt},rt)=>{const it=(isSVGComponent($)?useSVGProps:useHTMLProps)(j,tt,rt,$),ot=filterProps(j,typeof $=="string",_),st=$!==reactExports.Fragment?{...ot,...it,ref:et}:{},{children:ct}=j,ut=reactExports.useMemo(()=>isMotionValue(ct)?ct.get():ct,[ct]);return reactExports.createElement($,{...st,children:ut})}}function renderHTML(_,{style:a,vars:$},j,et){Object.assign(_.style,a,et&&et.getProjectionStyles(j));for(const tt in $)_.style.setProperty(tt,$[tt])}const camelCaseAttributes=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function renderSVG(_,a,$,j){renderHTML(_,a,void 0,j);for(const et in a.attrs)_.setAttribute(camelCaseAttributes.has(et)?et:camelToDash(et),a.attrs[et])}function scrapeMotionValuesFromProps$1(_,a,$){var j;const{style:et}=_,tt={};for(const rt in et)(isMotionValue(et[rt])||a.style&&isMotionValue(a.style[rt])||isForcedMotionValue(rt,_)||((j=$==null?void 0:$.getValue(rt))===null||j===void 0?void 0:j.liveStyle)!==void 0)&&(tt[rt]=et[rt]);return tt}function scrapeMotionValuesFromProps(_,a,$){const j=scrapeMotionValuesFromProps$1(_,a,$);for(const et in _)if(isMotionValue(_[et])||isMotionValue(a[et])){const tt=transformPropOrder.indexOf(et)!==-1?"attr"+et.charAt(0).toUpperCase()+et.substring(1):et;j[tt]=_[et]}return j}function getValueState(_){const a=[{},{}];return _==null||_.values.forEach(($,j)=>{a[0][j]=$.get(),a[1][j]=$.getVelocity()}),a}function resolveVariantFromProps(_,a,$,j){if(typeof a=="function"){const[et,tt]=getValueState(j);a=a($!==void 0?$:_.custom,et,tt)}if(typeof a=="string"&&(a=_.variants&&_.variants[a]),typeof a=="function"){const[et,tt]=getValueState(j);a=a($!==void 0?$:_.custom,et,tt)}return a}function useConstant(_){const a=reactExports.useRef(null);return a.current===null&&(a.current=_()),a.current}const isKeyframesTarget=_=>Array.isArray(_),isCustomValue=_=>!!(_&&typeof _=="object"&&_.mix&&_.toValue),resolveFinalValueInKeyframes=_=>isKeyframesTarget(_)?_[_.length-1]||0:_;function resolveMotionValue(_){const a=isMotionValue(_)?_.get():_;return isCustomValue(a)?a.toValue():a}function makeState({scrapeMotionValuesFromProps:_,createRenderState:a,onMount:$},j,et,tt){const rt={latestValues:makeLatestValues(j,et,tt,_),renderState:a()};return $&&(rt.mount=nt=>$(j,nt,rt)),rt}const makeUseVisualState=_=>(a,$)=>{const j=reactExports.useContext(MotionContext),et=reactExports.useContext(PresenceContext),tt=()=>makeState(_,a,j,et);return $?tt():useConstant(tt)};function makeLatestValues(_,a,$,j){const et={},tt=j(_,{});for(const ut in tt)et[ut]=resolveMotionValue(tt[ut]);let{initial:rt,animate:nt}=_;const it=isControllingVariants(_),ot=isVariantNode(_);a&&ot&&!it&&_.inherit!==!1&&(rt===void 0&&(rt=a.initial),nt===void 0&&(nt=a.animate));let st=$?$.initial===!1:!1;st=st||rt===!1;const ct=st?nt:rt;return ct&&typeof ct!="boolean"&&!isAnimationControls(ct)&&(Array.isArray(ct)?ct:[ct]).forEach(ht=>{const Et=resolveVariantFromProps(_,ht);if(!Et)return;const{transitionEnd:St,transition:Mt,...kt}=Et;for(const Ct in kt){let Ot=kt[Ct];if(Array.isArray(Ot)){const zt=st?Ot.length-1:0;Ot=Ot[zt]}Ot!==null&&(et[Ct]=Ot)}for(const Ct in St)et[Ct]=St[Ct]}),et}const noop$a=_=>_,{schedule:frame,cancel:cancelFrame,state:frameData,steps}=createRenderBatcher(typeof requestAnimationFrame<"u"?requestAnimationFrame:noop$a,!0),svgMotionConfig={useVisualState:makeUseVisualState({scrapeMotionValuesFromProps,createRenderState:createSvgRenderState,onMount:(_,a,{renderState:$,latestValues:j})=>{frame.read(()=>{try{$.dimensions=typeof a.getBBox=="function"?a.getBBox():a.getBoundingClientRect()}catch{$.dimensions={x:0,y:0,width:0,height:0}}}),frame.render(()=>{buildSVGAttrs($,j,{enableHardwareAcceleration:!1},isSVGTag(a.tagName),_.transformTemplate),renderSVG(a,$)})}})},htmlMotionConfig={useVisualState:makeUseVisualState({scrapeMotionValuesFromProps:scrapeMotionValuesFromProps$1,createRenderState:createHtmlRenderState})};function createDomMotionConfig(_,{forwardMotionProps:a=!1},$,j){return{...isSVGComponent(_)?svgMotionConfig:htmlMotionConfig,preloadedFeatures:$,useRender:createUseRender(a),createVisualElement:j,Component:_}}function addDomEvent(_,a,$,j={passive:!0}){return _.addEventListener(a,$,j),()=>_.removeEventListener(a,$)}const isPrimaryPointer=_=>_.pointerType==="mouse"?typeof _.button!="number"||_.button<=0:_.isPrimary!==!1;function extractEventInfo(_,a="page"){return{point:{x:_[`${a}X`],y:_[`${a}Y`]}}}const addPointerInfo=_=>a=>isPrimaryPointer(a)&&_(a,extractEventInfo(a));function addPointerEvent(_,a,$,j){return addDomEvent(_,a,addPointerInfo($),j)}const combineFunctions=(_,a)=>$=>a(_($)),pipe$1=(..._)=>_.reduce(combineFunctions);function createLock(_){let a=null;return()=>{const $=()=>{a=null};return a===null?(a=_,$):!1}}const globalHorizontalLock=createLock("dragHorizontal"),globalVerticalLock=createLock("dragVertical");function getGlobalLock(_){let a=!1;if(_==="y")a=globalVerticalLock();else if(_==="x")a=globalHorizontalLock();else{const $=globalHorizontalLock(),j=globalVerticalLock();$&&j?a=()=>{$(),j()}:($&&$(),j&&j())}return a}function isDragActive(){const _=getGlobalLock(!0);return _?(_(),!1):!0}class Feature{constructor(a){this.isMounted=!1,this.node=a}update(){}}function addHoverEvent(_,a){const $=a?"pointerenter":"pointerleave",j=a?"onHoverStart":"onHoverEnd",et=(tt,rt)=>{if(tt.pointerType==="touch"||isDragActive())return;const nt=_.getProps();_.animationState&&nt.whileHover&&_.animationState.setActive("whileHover",a);const it=nt[j];it&&frame.postRender(()=>it(tt,rt))};return addPointerEvent(_.current,$,et,{passive:!_.getProps()[j]})}class HoverGesture extends Feature{mount(){this.unmount=pipe$1(addHoverEvent(this.node,!0),addHoverEvent(this.node,!1))}unmount(){}}class FocusGesture extends Feature{constructor(){super(...arguments),this.isActive=!1}onFocus(){let a=!1;try{a=this.node.current.matches(":focus-visible")}catch{a=!0}!a||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=pipe$1(addDomEvent(this.node.current,"focus",()=>this.onFocus()),addDomEvent(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const isNodeOrChild=(_,a)=>a?_===a?!0:isNodeOrChild(_,a.parentElement):!1;function fireSyntheticPointerEvent(_,a){if(!a)return;const $=new PointerEvent("pointer"+_);a($,extractEventInfo($))}class PressGesture extends Feature{constructor(){super(...arguments),this.removeStartListeners=noop$a,this.removeEndListeners=noop$a,this.removeAccessibleListeners=noop$a,this.startPointerPress=(a,$)=>{if(this.isPressing)return;this.removeEndListeners();const j=this.node.getProps(),tt=addPointerEvent(window,"pointerup",(nt,it)=>{if(!this.checkPressEnd())return;const{onTap:ot,onTapCancel:st,globalTapTarget:ct}=this.node.getProps(),ut=!ct&&!isNodeOrChild(this.node.current,nt.target)?st:ot;ut&&frame.update(()=>ut(nt,it))},{passive:!(j.onTap||j.onPointerUp)}),rt=addPointerEvent(window,"pointercancel",(nt,it)=>this.cancelPress(nt,it),{passive:!(j.onTapCancel||j.onPointerCancel)});this.removeEndListeners=pipe$1(tt,rt),this.startPress(a,$)},this.startAccessiblePress=()=>{const a=tt=>{if(tt.key!=="Enter"||this.isPressing)return;const rt=nt=>{nt.key!=="Enter"||!this.checkPressEnd()||fireSyntheticPointerEvent("up",(it,ot)=>{const{onTap:st}=this.node.getProps();st&&frame.postRender(()=>st(it,ot))})};this.removeEndListeners(),this.removeEndListeners=addDomEvent(this.node.current,"keyup",rt),fireSyntheticPointerEvent("down",(nt,it)=>{this.startPress(nt,it)})},$=addDomEvent(this.node.current,"keydown",a),j=()=>{this.isPressing&&fireSyntheticPointerEvent("cancel",(tt,rt)=>this.cancelPress(tt,rt))},et=addDomEvent(this.node.current,"blur",j);this.removeAccessibleListeners=pipe$1($,et)}}startPress(a,$){this.isPressing=!0;const{onTapStart:j,whileTap:et}=this.node.getProps();et&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),j&&frame.postRender(()=>j(a,$))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!isDragActive()}cancelPress(a,$){if(!this.checkPressEnd())return;const{onTapCancel:j}=this.node.getProps();j&&frame.postRender(()=>j(a,$))}mount(){const a=this.node.getProps(),$=addPointerEvent(a.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(a.onTapStart||a.onPointerStart)}),j=addDomEvent(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=pipe$1($,j)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const observerCallbacks=new WeakMap,observers=new WeakMap,fireObserverCallback=_=>{const a=observerCallbacks.get(_.target);a&&a(_)},fireAllObserverCallbacks=_=>{_.forEach(fireObserverCallback)};function initIntersectionObserver({root:_,...a}){const $=_||document;observers.has($)||observers.set($,{});const j=observers.get($),et=JSON.stringify(a);return j[et]||(j[et]=new IntersectionObserver(fireAllObserverCallbacks,{root:_,...a})),j[et]}function observeIntersection(_,a,$){const j=initIntersectionObserver(a);return observerCallbacks.set(_,$),j.observe(_),()=>{observerCallbacks.delete(_),j.unobserve(_)}}const thresholdNames={some:0,all:1};class InViewFeature extends Feature{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:a={}}=this.node.getProps(),{root:$,margin:j,amount:et="some",once:tt}=a,rt={root:$?$.current:void 0,rootMargin:j,threshold:typeof et=="number"?et:thresholdNames[et]},nt=it=>{const{isIntersecting:ot}=it;if(this.isInView===ot||(this.isInView=ot,tt&&!ot&&this.hasEnteredView))return;ot&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",ot);const{onViewportEnter:st,onViewportLeave:ct}=this.node.getProps(),ut=ot?st:ct;ut&&ut(it)};return observeIntersection(this.node.current,rt,nt)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:a,prevProps:$}=this.node;["amount","margin","root"].some(hasViewportOptionChanged(a,$))&&this.startObserver()}unmount(){}}function hasViewportOptionChanged({viewport:_={}},{viewport:a={}}={}){return $=>_[$]!==a[$]}const gestureAnimations={inView:{Feature:InViewFeature},tap:{Feature:PressGesture},focus:{Feature:FocusGesture},hover:{Feature:HoverGesture}};function shallowCompare(_,a){if(!Array.isArray(a))return!1;const $=a.length;if($!==_.length)return!1;for(let j=0;j<$;j++)if(a[j]!==_[j])return!1;return!0}function resolveVariant(_,a,$){const j=_.getProps();return resolveVariantFromProps(j,a,$!==void 0?$:j.custom,_)}const secondsToMilliseconds$1=_=>_*1e3,millisecondsToSeconds=_=>_/1e3,underDampedSpring={type:"spring",stiffness:500,damping:25,restSpeed:10},criticallyDampedSpring=_=>({type:"spring",stiffness:550,damping:_===0?2*Math.sqrt(550):30,restSpeed:10}),keyframesTransition={type:"keyframes",duration:.8},ease={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},getDefaultTransition=(_,{keyframes:a})=>a.length>2?keyframesTransition:transformProps.has(_)?_.startsWith("scale")?criticallyDampedSpring(a[1]):underDampedSpring:ease;function isTransitionDefined({when:_,delay:a,delayChildren:$,staggerChildren:j,staggerDirection:et,repeat:tt,repeatType:rt,repeatDelay:nt,from:it,elapsed:ot,...st}){return!!Object.keys(st).length}function getValueTransition(_,a){return _[a]||_.default||_}const isNotNull=_=>_!==null;function getFinalKeyframe(_,{repeat:a,repeatType:$="loop"},j){const et=_.filter(isNotNull),tt=a&&$!=="loop"&&a%2===1?0:et.length-1;return!tt||j===void 0?et[tt]:j}let now$1;function clearTime(){now$1=void 0}const time={now:()=>(now$1===void 0&&time.set(frameData.isProcessing||MotionGlobalConfig.useManualTiming?frameData.timestamp:performance.now()),now$1),set:_=>{now$1=_,queueMicrotask(clearTime)}},isZeroValueString=_=>/^0[^.\s]+$/u.test(_);function isNone(_){return typeof _=="number"?_===0:_!==null?_==="none"||_==="0"||isZeroValueString(_):!0}let invariant$1=noop$a;const isNumericalString=_=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(_),splitCSSVariableRegex=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function parseCSSVariable(_){const a=splitCSSVariableRegex.exec(_);if(!a)return[,];const[,$,j,et]=a;return[`--${$??j}`,et]}function getVariableValue(_,a,$=1){const[j,et]=parseCSSVariable(_);if(!j)return;const tt=window.getComputedStyle(a).getPropertyValue(j);if(tt){const rt=tt.trim();return isNumericalString(rt)?parseFloat(rt):rt}return isCSSVariableToken(et)?getVariableValue(et,a,$+1):et}const positionalKeys=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),isNumOrPxType=_=>_===number$3||_===px,getPosFromMatrix=(_,a)=>parseFloat(_.split(", ")[a]),getTranslateFromMatrix=(_,a)=>($,{transform:j})=>{if(j==="none"||!j)return 0;const et=j.match(/^matrix3d\((.+)\)$/u);if(et)return getPosFromMatrix(et[1],a);{const tt=j.match(/^matrix\((.+)\)$/u);return tt?getPosFromMatrix(tt[1],_):0}},transformKeys=new Set(["x","y","z"]),nonTranslationalTransformKeys=transformPropOrder.filter(_=>!transformKeys.has(_));function removeNonTranslationalTransform(_){const a=[];return nonTranslationalTransformKeys.forEach($=>{const j=_.getValue($);j!==void 0&&(a.push([$,j.get()]),j.set($.startsWith("scale")?1:0))}),a}const positionalValues={width:({x:_},{paddingLeft:a="0",paddingRight:$="0"})=>_.max-_.min-parseFloat(a)-parseFloat($),height:({y:_},{paddingTop:a="0",paddingBottom:$="0"})=>_.max-_.min-parseFloat(a)-parseFloat($),top:(_,{top:a})=>parseFloat(a),left:(_,{left:a})=>parseFloat(a),bottom:({y:_},{top:a})=>parseFloat(a)+(_.max-_.min),right:({x:_},{left:a})=>parseFloat(a)+(_.max-_.min),x:getTranslateFromMatrix(4,13),y:getTranslateFromMatrix(5,14)};positionalValues.translateX=positionalValues.x;positionalValues.translateY=positionalValues.y;const testValueType=_=>a=>a.test(_),auto$1={test:_=>_==="auto",parse:_=>_},dimensionValueTypes=[number$3,px,percent,degrees,vw,vh,auto$1],findDimensionValueType=_=>dimensionValueTypes.find(testValueType(_)),toResolve=new Set;let isScheduled=!1,anyNeedsMeasurement=!1;function measureAllKeyframes(){if(anyNeedsMeasurement){const _=Array.from(toResolve).filter(j=>j.needsMeasurement),a=new Set(_.map(j=>j.element)),$=new Map;a.forEach(j=>{const et=removeNonTranslationalTransform(j);et.length&&($.set(j,et),j.render())}),_.forEach(j=>j.measureInitialState()),a.forEach(j=>{j.render();const et=$.get(j);et&&et.forEach(([tt,rt])=>{var nt;(nt=j.getValue(tt))===null||nt===void 0||nt.set(rt)})}),_.forEach(j=>j.measureEndState()),_.forEach(j=>{j.suspendedScrollY!==void 0&&window.scrollTo(0,j.suspendedScrollY)})}anyNeedsMeasurement=!1,isScheduled=!1,toResolve.forEach(_=>_.complete()),toResolve.clear()}function readAllKeyframes(){toResolve.forEach(_=>{_.readKeyframes(),_.needsMeasurement&&(anyNeedsMeasurement=!0)})}function flushKeyframeResolvers(){readAllKeyframes(),measureAllKeyframes()}class KeyframeResolver{constructor(a,$,j,et,tt,rt=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...a],this.onComplete=$,this.name=j,this.motionValue=et,this.element=tt,this.isAsync=rt}scheduleResolve(){this.isScheduled=!0,this.isAsync?(toResolve.add(this),isScheduled||(isScheduled=!0,frame.read(readAllKeyframes),frame.resolveKeyframes(measureAllKeyframes))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:a,name:$,element:j,motionValue:et}=this;for(let tt=0;tt<a.length;tt++)if(a[tt]===null)if(tt===0){const rt=et==null?void 0:et.get(),nt=a[a.length-1];if(rt!==void 0)a[0]=rt;else if(j&&$){const it=j.readValue($,nt);it!=null&&(a[0]=it)}a[0]===void 0&&(a[0]=nt),et&&rt===void 0&&et.set(a[0])}else a[tt]=a[tt-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),toResolve.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,toResolve.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const isColorString=(_,a)=>$=>!!(isString$3($)&&singleColorRegex.test($)&&$.startsWith(_)||a&&Object.prototype.hasOwnProperty.call($,a)),splitColor=(_,a,$)=>j=>{if(!isString$3(j))return j;const[et,tt,rt,nt]=j.match(floatRegex);return{[_]:parseFloat(et),[a]:parseFloat(tt),[$]:parseFloat(rt),alpha:nt!==void 0?parseFloat(nt):1}},clampRgbUnit=_=>clamp(0,255,_),rgbUnit={...number$3,transform:_=>Math.round(clampRgbUnit(_))},rgba={test:isColorString("rgb","red"),parse:splitColor("red","green","blue"),transform:({red:_,green:a,blue:$,alpha:j=1})=>"rgba("+rgbUnit.transform(_)+", "+rgbUnit.transform(a)+", "+rgbUnit.transform($)+", "+sanitize(alpha.transform(j))+")"};function parseHex$1(_){let a="",$="",j="",et="";return _.length>5?(a=_.substring(1,3),$=_.substring(3,5),j=_.substring(5,7),et=_.substring(7,9)):(a=_.substring(1,2),$=_.substring(2,3),j=_.substring(3,4),et=_.substring(4,5),a+=a,$+=$,j+=j,et+=et),{red:parseInt(a,16),green:parseInt($,16),blue:parseInt(j,16),alpha:et?parseInt(et,16)/255:1}}const hex={test:isColorString("#"),parse:parseHex$1,transform:rgba.transform},hsla={test:isColorString("hsl","hue"),parse:splitColor("hue","saturation","lightness"),transform:({hue:_,saturation:a,lightness:$,alpha:j=1})=>"hsla("+Math.round(_)+", "+percent.transform(sanitize(a))+", "+percent.transform(sanitize($))+", "+sanitize(alpha.transform(j))+")"},color$1={test:_=>rgba.test(_)||hex.test(_)||hsla.test(_),parse:_=>rgba.test(_)?rgba.parse(_):hsla.test(_)?hsla.parse(_):hex.parse(_),transform:_=>isString$3(_)?_:_.hasOwnProperty("red")?rgba.transform(_):hsla.transform(_)};function test$1(_){var a,$;return isNaN(_)&&isString$3(_)&&(((a=_.match(floatRegex))===null||a===void 0?void 0:a.length)||0)+((($=_.match(colorRegex))===null||$===void 0?void 0:$.length)||0)>0}const NUMBER_TOKEN="number",COLOR_TOKEN="color",VAR_TOKEN="var",VAR_FUNCTION_TOKEN="var(",SPLIT_TOKEN="${}",complexRegex=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function analyseComplexValue(_){const a=_.toString(),$=[],j={color:[],number:[],var:[]},et=[];let tt=0;const nt=a.replace(complexRegex,it=>(color$1.test(it)?(j.color.push(tt),et.push(COLOR_TOKEN),$.push(color$1.parse(it))):it.startsWith(VAR_FUNCTION_TOKEN)?(j.var.push(tt),et.push(VAR_TOKEN),$.push(it)):(j.number.push(tt),et.push(NUMBER_TOKEN),$.push(parseFloat(it))),++tt,SPLIT_TOKEN)).split(SPLIT_TOKEN);return{values:$,split:nt,indexes:j,types:et}}function parseComplexValue(_){return analyseComplexValue(_).values}function createTransformer(_){const{split:a,types:$}=analyseComplexValue(_),j=a.length;return et=>{let tt="";for(let rt=0;rt<j;rt++)if(tt+=a[rt],et[rt]!==void 0){const nt=$[rt];nt===NUMBER_TOKEN?tt+=sanitize(et[rt]):nt===COLOR_TOKEN?tt+=color$1.transform(et[rt]):tt+=et[rt]}return tt}}const convertNumbersToZero=_=>typeof _=="number"?0:_;function getAnimatableNone$1(_){const a=parseComplexValue(_);return createTransformer(_)(a.map(convertNumbersToZero))}const complex={test:test$1,parse:parseComplexValue,createTransformer,getAnimatableNone:getAnimatableNone$1},maxDefaults=new Set(["brightness","contrast","saturate","opacity"]);function applyDefaultFilter(_){const[a,$]=_.slice(0,-1).split("(");if(a==="drop-shadow")return _;const[j]=$.match(floatRegex)||[];if(!j)return _;const et=$.replace(j,"");let tt=maxDefaults.has(a)?1:0;return j!==$&&(tt*=100),a+"("+tt+et+")"}const functionRegex=/\b([a-z-]*)\(.*?\)/gu,filter$1={...complex,getAnimatableNone:_=>{const a=_.match(functionRegex);return a?a.map(applyDefaultFilter).join(" "):_}},defaultValueTypes={...numberValueTypes,color:color$1,backgroundColor:color$1,outlineColor:color$1,fill:color$1,stroke:color$1,borderColor:color$1,borderTopColor:color$1,borderRightColor:color$1,borderBottomColor:color$1,borderLeftColor:color$1,filter:filter$1,WebkitFilter:filter$1},getDefaultValueType=_=>defaultValueTypes[_];function getAnimatableNone(_,a){let $=getDefaultValueType(_);return $!==filter$1&&($=complex),$.getAnimatableNone?$.getAnimatableNone(a):void 0}const invalidTemplates=new Set(["auto","none","0"]);function makeNoneKeyframesAnimatable(_,a,$){let j=0,et;for(;j<_.length&&!et;){const tt=_[j];typeof tt=="string"&&!invalidTemplates.has(tt)&&analyseComplexValue(tt).values.length&&(et=_[j]),j++}if(et&&$)for(const tt of a)_[tt]=getAnimatableNone($,et)}class DOMKeyframesResolver extends KeyframeResolver{constructor(a,$,j,et){super(a,$,j,et,et==null?void 0:et.owner,!0)}readKeyframes(){const{unresolvedKeyframes:a,element:$,name:j}=this;if(!$.current)return;super.readKeyframes();for(let it=0;it<a.length;it++){let ot=a[it];if(typeof ot=="string"&&(ot=ot.trim(),isCSSVariableToken(ot))){const st=getVariableValue(ot,$.current);st!==void 0&&(a[it]=st),it===a.length-1&&(this.finalKeyframe=ot)}}if(this.resolveNoneKeyframes(),!positionalKeys.has(j)||a.length!==2)return;const[et,tt]=a,rt=findDimensionValueType(et),nt=findDimensionValueType(tt);if(rt!==nt)if(isNumOrPxType(rt)&&isNumOrPxType(nt))for(let it=0;it<a.length;it++){const ot=a[it];typeof ot=="string"&&(a[it]=parseFloat(ot))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:a,name:$}=this,j=[];for(let et=0;et<a.length;et++)isNone(a[et])&&j.push(et);j.length&&makeNoneKeyframesAnimatable(a,j,$)}measureInitialState(){const{element:a,unresolvedKeyframes:$,name:j}=this;if(!a.current)return;j==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=positionalValues[j](a.measureViewportBox(),window.getComputedStyle(a.current)),$[0]=this.measuredOrigin;const et=$[$.length-1];et!==void 0&&a.getValue(j,et).jump(et,!1)}measureEndState(){var a;const{element:$,name:j,unresolvedKeyframes:et}=this;if(!$.current)return;const tt=$.getValue(j);tt&&tt.jump(this.measuredOrigin,!1);const rt=et.length-1,nt=et[rt];et[rt]=positionalValues[j]($.measureViewportBox(),window.getComputedStyle($.current)),nt!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=nt),!((a=this.removedTransforms)===null||a===void 0)&&a.length&&this.removedTransforms.forEach(([it,ot])=>{$.getValue(it).set(ot)}),this.resolveNoneKeyframes()}}function memo(_){let a;return()=>(a===void 0&&(a=_()),a)}const isAnimatable=(_,a)=>a==="zIndex"?!1:!!(typeof _=="number"||Array.isArray(_)||typeof _=="string"&&(complex.test(_)||_==="0")&&!_.startsWith("url("));function hasKeyframesChanged(_){const a=_[0];if(_.length===1)return!0;for(let $=0;$<_.length;$++)if(_[$]!==a)return!0}function canAnimate(_,a,$,j){const et=_[0];if(et===null)return!1;if(a==="display"||a==="visibility")return!0;const tt=_[_.length-1],rt=isAnimatable(et,a),nt=isAnimatable(tt,a);return!rt||!nt?!1:hasKeyframesChanged(_)||$==="spring"&&j}class BaseAnimation{constructor({autoplay:a=!0,delay:$=0,type:j="keyframes",repeat:et=0,repeatDelay:tt=0,repeatType:rt="loop",...nt}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.options={autoplay:a,delay:$,type:j,repeat:et,repeatDelay:tt,repeatType:rt,...nt},this.updateFinishedPromise()}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&flushKeyframeResolvers(),this._resolved}onKeyframesResolved(a,$){this.hasAttemptedResolve=!0;const{name:j,type:et,velocity:tt,delay:rt,onComplete:nt,onUpdate:it,isGenerator:ot}=this.options;if(!ot&&!canAnimate(a,j,et,tt))if(rt)this.options.duration=0;else{it==null||it(getFinalKeyframe(a,this.options,$)),nt==null||nt(),this.resolveFinishedPromise();return}const st=this.initPlayback(a,$);st!==!1&&(this._resolved={keyframes:a,finalKeyframe:$,...st},this.onPostResolved())}onPostResolved(){}then(a,$){return this.currentFinishedPromise.then(a,$)}updateFinishedPromise(){this.currentFinishedPromise=new Promise(a=>{this.resolveFinishedPromise=a})}}function velocityPerSecond(_,a){return a?_*(1e3/a):0}const velocitySampleDuration=5;function calcGeneratorVelocity(_,a,$){const j=Math.max(a-velocitySampleDuration,0);return velocityPerSecond($-_(j),a-j)}const safeMin=.001,minDuration=.01,maxDuration$1=10,minDamping=.05,maxDamping=1;function findSpring({duration:_=800,bounce:a=.25,velocity:$=0,mass:j=1}){let et,tt,rt=1-a;rt=clamp(minDamping,maxDamping,rt),_=clamp(minDuration,maxDuration$1,millisecondsToSeconds(_)),rt<1?(et=ot=>{const st=ot*rt,ct=st*_,ut=st-$,ht=calcAngularFreq(ot,rt),Et=Math.exp(-ct);return safeMin-ut/ht*Et},tt=ot=>{const ct=ot*rt*_,ut=ct*$+$,ht=Math.pow(rt,2)*Math.pow(ot,2)*_,Et=Math.exp(-ct),St=calcAngularFreq(Math.pow(ot,2),rt);return(-et(ot)+safeMin>0?-1:1)*((ut-ht)*Et)/St}):(et=ot=>{const st=Math.exp(-ot*_),ct=(ot-$)*_+1;return-safeMin+st*ct},tt=ot=>{const st=Math.exp(-ot*_),ct=($-ot)*(_*_);return st*ct});const nt=5/_,it=approximateRoot(et,tt,nt);if(_=secondsToMilliseconds$1(_),isNaN(it))return{stiffness:100,damping:10,duration:_};{const ot=Math.pow(it,2)*j;return{stiffness:ot,damping:rt*2*Math.sqrt(j*ot),duration:_}}}const rootIterations=12;function approximateRoot(_,a,$){let j=$;for(let et=1;et<rootIterations;et++)j=j-_(j)/a(j);return j}function calcAngularFreq(_,a){return _*Math.sqrt(1-a*a)}const durationKeys=["duration","bounce"],physicsKeys=["stiffness","damping","mass"];function isSpringType(_,a){return a.some($=>_[$]!==void 0)}function getSpringOptions(_){let a={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,..._};if(!isSpringType(_,physicsKeys)&&isSpringType(_,durationKeys)){const $=findSpring(_);a={...a,...$,mass:1},a.isResolvedFromDuration=!0}return a}function spring({keyframes:_,restDelta:a,restSpeed:$,...j}){const et=_[0],tt=_[_.length-1],rt={done:!1,value:et},{stiffness:nt,damping:it,mass:ot,duration:st,velocity:ct,isResolvedFromDuration:ut}=getSpringOptions({...j,velocity:-millisecondsToSeconds(j.velocity||0)}),ht=ct||0,Et=it/(2*Math.sqrt(nt*ot)),St=tt-et,Mt=millisecondsToSeconds(Math.sqrt(nt/ot)),kt=Math.abs(St)<5;$||($=kt?.01:2),a||(a=kt?.005:.5);let Ct;if(Et<1){const Ot=calcAngularFreq(Mt,Et);Ct=zt=>{const Ut=Math.exp(-Et*Mt*zt);return tt-Ut*((ht+Et*Mt*St)/Ot*Math.sin(Ot*zt)+St*Math.cos(Ot*zt))}}else if(Et===1)Ct=Ot=>tt-Math.exp(-Mt*Ot)*(St+(ht+Mt*St)*Ot);else{const Ot=Mt*Math.sqrt(Et*Et-1);Ct=zt=>{const Ut=Math.exp(-Et*Mt*zt),Vt=Math.min(Ot*zt,300);return tt-Ut*((ht+Et*Mt*St)*Math.sinh(Vt)+Ot*St*Math.cosh(Vt))/Ot}}return{calculatedDuration:ut&&st||null,next:Ot=>{const zt=Ct(Ot);if(ut)rt.done=Ot>=st;else{let Ut=ht;Ot!==0&&(Et<1?Ut=calcGeneratorVelocity(Ct,Ot,zt):Ut=0);const Vt=Math.abs(Ut)<=$,jt=Math.abs(tt-zt)<=a;rt.done=Vt&&jt}return rt.value=rt.done?tt:zt,rt}}}function inertia({keyframes:_,velocity:a=0,power:$=.8,timeConstant:j=325,bounceDamping:et=10,bounceStiffness:tt=500,modifyTarget:rt,min:nt,max:it,restDelta:ot=.5,restSpeed:st}){const ct=_[0],ut={done:!1,value:ct},ht=$t=>nt!==void 0&&$t<nt||it!==void 0&&$t>it,Et=$t=>nt===void 0?it:it===void 0||Math.abs(nt-$t)<Math.abs(it-$t)?nt:it;let St=$*a;const Mt=ct+St,kt=rt===void 0?Mt:rt(Mt);kt!==Mt&&(St=kt-ct);const Ct=$t=>-St*Math.exp(-$t/j),Ot=$t=>kt+Ct($t),zt=$t=>{const Bt=Ct($t),Nt=Ot($t);ut.done=Math.abs(Bt)<=ot,ut.value=ut.done?kt:Nt};let Ut,Vt;const jt=$t=>{ht(ut.value)&&(Ut=$t,Vt=spring({keyframes:[ut.value,Et(ut.value)],velocity:calcGeneratorVelocity(Ot,$t,ut.value),damping:et,stiffness:tt,restDelta:ot,restSpeed:st}))};return jt(0),{calculatedDuration:null,next:$t=>{let Bt=!1;return!Vt&&Ut===void 0&&(Bt=!0,zt($t),jt($t)),Ut!==void 0&&$t>=Ut?Vt.next($t-Ut):(!Bt&&zt($t),ut)}}}const calcBezier=(_,a,$)=>(((1-3*$+3*a)*_+(3*$-6*a))*_+3*a)*_,subdivisionPrecision=1e-7,subdivisionMaxIterations=12;function binarySubdivide(_,a,$,j,et){let tt,rt,nt=0;do rt=a+($-a)/2,tt=calcBezier(rt,j,et)-_,tt>0?$=rt:a=rt;while(Math.abs(tt)>subdivisionPrecision&&++nt<subdivisionMaxIterations);return rt}function cubicBezier(_,a,$,j){if(_===a&&$===j)return noop$a;const et=tt=>binarySubdivide(tt,0,1,_,$);return tt=>tt===0||tt===1?tt:calcBezier(et(tt),a,j)}const easeIn=cubicBezier(.42,0,1,1),easeOut=cubicBezier(0,0,.58,1),easeInOut=cubicBezier(.42,0,.58,1),isEasingArray=_=>Array.isArray(_)&&typeof _[0]!="number",mirrorEasing=_=>a=>a<=.5?_(2*a)/2:(2-_(2*(1-a)))/2,reverseEasing=_=>a=>1-_(1-a),circIn=_=>1-Math.sin(Math.acos(_)),circOut=reverseEasing(circIn),circInOut=mirrorEasing(circIn),backOut=cubicBezier(.33,1.53,.69,.99),backIn=reverseEasing(backOut),backInOut=mirrorEasing(backIn),anticipate=_=>(_*=2)<1?.5*backIn(_):.5*(2-Math.pow(2,-10*(_-1))),easingLookup={linear:noop$a,easeIn,easeInOut,easeOut,circIn,circInOut,circOut,backIn,backInOut,backOut,anticipate},easingDefinitionToFunction=_=>{if(Array.isArray(_)){invariant$1(_.length===4);const[a,$,j,et]=_;return cubicBezier(a,$,j,et)}else if(typeof _=="string")return invariant$1(easingLookup[_]!==void 0),easingLookup[_];return _},progress=(_,a,$)=>{const j=a-_;return j===0?1:($-_)/j},mixNumber$1=(_,a,$)=>_+(a-_)*$;function hueToRgb(_,a,$){return $<0&&($+=1),$>1&&($-=1),$<1/6?_+(a-_)*6*$:$<1/2?a:$<2/3?_+(a-_)*(2/3-$)*6:_}function hslaToRgba({hue:_,saturation:a,lightness:$,alpha:j}){_/=360,a/=100,$/=100;let et=0,tt=0,rt=0;if(!a)et=tt=rt=$;else{const nt=$<.5?$*(1+a):$+a-$*a,it=2*$-nt;et=hueToRgb(it,nt,_+1/3),tt=hueToRgb(it,nt,_),rt=hueToRgb(it,nt,_-1/3)}return{red:Math.round(et*255),green:Math.round(tt*255),blue:Math.round(rt*255),alpha:j}}function mixImmediate(_,a){return $=>$>0?a:_}const mixLinearColor=(_,a,$)=>{const j=_*_,et=$*(a*a-j)+j;return et<0?0:Math.sqrt(et)},colorTypes=[hex,rgba,hsla],getColorType=_=>colorTypes.find(a=>a.test(_));function asRGBA(_){const a=getColorType(_);if(!a)return!1;let $=a.parse(_);return a===hsla&&($=hslaToRgba($)),$}const mixColor=(_,a)=>{const $=asRGBA(_),j=asRGBA(a);if(!$||!j)return mixImmediate(_,a);const et={...$};return tt=>(et.red=mixLinearColor($.red,j.red,tt),et.green=mixLinearColor($.green,j.green,tt),et.blue=mixLinearColor($.blue,j.blue,tt),et.alpha=mixNumber$1($.alpha,j.alpha,tt),rgba.transform(et))},invisibleValues=new Set(["none","hidden"]);function mixVisibility(_,a){return invisibleValues.has(_)?$=>$<=0?_:a:$=>$>=1?a:_}function mixNumber(_,a){return $=>mixNumber$1(_,a,$)}function getMixer(_){return typeof _=="number"?mixNumber:typeof _=="string"?isCSSVariableToken(_)?mixImmediate:color$1.test(_)?mixColor:mixComplex:Array.isArray(_)?mixArray:typeof _=="object"?color$1.test(_)?mixColor:mixObject:mixImmediate}function mixArray(_,a){const $=[..._],j=$.length,et=_.map((tt,rt)=>getMixer(tt)(tt,a[rt]));return tt=>{for(let rt=0;rt<j;rt++)$[rt]=et[rt](tt);return $}}function mixObject(_,a){const $={..._,...a},j={};for(const et in $)_[et]!==void 0&&a[et]!==void 0&&(j[et]=getMixer(_[et])(_[et],a[et]));return et=>{for(const tt in j)$[tt]=j[tt](et);return $}}function matchOrder(_,a){var $;const j=[],et={color:0,var:0,number:0};for(let tt=0;tt<a.values.length;tt++){const rt=a.types[tt],nt=_.indexes[rt][et[rt]],it=($=_.values[nt])!==null&&$!==void 0?$:0;j[tt]=it,et[rt]++}return j}const mixComplex=(_,a)=>{const $=complex.createTransformer(a),j=analyseComplexValue(_),et=analyseComplexValue(a);return j.indexes.var.length===et.indexes.var.length&&j.indexes.color.length===et.indexes.color.length&&j.indexes.number.length>=et.indexes.number.length?invisibleValues.has(_)&&!et.values.length||invisibleValues.has(a)&&!j.values.length?mixVisibility(_,a):pipe$1(mixArray(matchOrder(j,et),et.values),$):mixImmediate(_,a)};function mix(_,a,$){return typeof _=="number"&&typeof a=="number"&&typeof $=="number"?mixNumber$1(_,a,$):getMixer(_)(_,a)}function createMixers(_,a,$){const j=[],et=$||mix,tt=_.length-1;for(let rt=0;rt<tt;rt++){let nt=et(_[rt],_[rt+1]);if(a){const it=Array.isArray(a)?a[rt]||noop$a:a;nt=pipe$1(it,nt)}j.push(nt)}return j}function interpolate(_,a,{clamp:$=!0,ease:j,mixer:et}={}){const tt=_.length;if(invariant$1(tt===a.length),tt===1)return()=>a[0];if(tt===2&&_[0]===_[1])return()=>a[1];_[0]>_[tt-1]&&(_=[..._].reverse(),a=[...a].reverse());const rt=createMixers(a,j,et),nt=rt.length,it=ot=>{let st=0;if(nt>1)for(;st<_.length-2&&!(ot<_[st+1]);st++);const ct=progress(_[st],_[st+1],ot);return rt[st](ct)};return $?ot=>it(clamp(_[0],_[tt-1],ot)):it}function fillOffset(_,a){const $=_[_.length-1];for(let j=1;j<=a;j++){const et=progress(0,a,j);_.push(mixNumber$1($,1,et))}}function defaultOffset(_){const a=[0];return fillOffset(a,_.length-1),a}function convertOffsetToTimes(_,a){return _.map($=>$*a)}function defaultEasing(_,a){return _.map(()=>a||easeInOut).splice(0,_.length-1)}function keyframes({duration:_=300,keyframes:a,times:$,ease:j="easeInOut"}){const et=isEasingArray(j)?j.map(easingDefinitionToFunction):easingDefinitionToFunction(j),tt={done:!1,value:a[0]},rt=convertOffsetToTimes($&&$.length===a.length?$:defaultOffset(a),_),nt=interpolate(rt,a,{ease:Array.isArray(et)?et:defaultEasing(a,et)});return{calculatedDuration:_,next:it=>(tt.value=nt(it),tt.done=it>=_,tt)}}const maxGeneratorDuration=2e4;function calcGeneratorDuration(_){let a=0;const $=50;let j=_.next(a);for(;!j.done&&a<maxGeneratorDuration;)a+=$,j=_.next(a);return a>=maxGeneratorDuration?1/0:a}const frameloopDriver=_=>{const a=({timestamp:$})=>_($);return{start:()=>frame.update(a,!0),stop:()=>cancelFrame(a),now:()=>frameData.isProcessing?frameData.timestamp:time.now()}},generators={decay:inertia,inertia,tween:keyframes,keyframes,spring},percentToProgress=_=>_/100;class MainThreadAnimation extends BaseAnimation{constructor({KeyframeResolver:a=KeyframeResolver,...$}){super($),this.holdTime=null,this.startTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:nt}=this.options;nt&&nt()};const{name:j,motionValue:et,keyframes:tt}=this.options,rt=(nt,it)=>this.onKeyframesResolved(nt,it);j&&et&&et.owner?this.resolver=et.owner.resolveKeyframes(tt,rt,j,et):this.resolver=new a(tt,rt,j,et),this.resolver.scheduleResolve()}initPlayback(a){const{type:$="keyframes",repeat:j=0,repeatDelay:et=0,repeatType:tt,velocity:rt=0}=this.options,nt=generators[$]||keyframes;let it,ot;nt!==keyframes&&typeof a[0]!="number"&&(it=pipe$1(percentToProgress,mix(a[0],a[1])),a=[0,100]);const st=nt({...this.options,keyframes:a});tt==="mirror"&&(ot=nt({...this.options,keyframes:[...a].reverse(),velocity:-rt})),st.calculatedDuration===null&&(st.calculatedDuration=calcGeneratorDuration(st));const{calculatedDuration:ct}=st,ut=ct+et,ht=ut*(j+1)-et;return{generator:st,mirroredGenerator:ot,mapPercentToKeyframes:it,calculatedDuration:ct,resolvedDuration:ut,totalDuration:ht}}onPostResolved(){const{autoplay:a=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!a?this.pause():this.state=this.pendingPlayState}tick(a,$=!1){const{resolved:j}=this;if(!j){const{keyframes:$t}=this.options;return{done:!0,value:$t[$t.length-1]}}const{finalKeyframe:et,generator:tt,mirroredGenerator:rt,mapPercentToKeyframes:nt,keyframes:it,calculatedDuration:ot,totalDuration:st,resolvedDuration:ct}=j;if(this.startTime===null)return tt.next(0);const{delay:ut,repeat:ht,repeatType:Et,repeatDelay:St,onUpdate:Mt}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,a):this.speed<0&&(this.startTime=Math.min(a-st/this.speed,this.startTime)),$?this.currentTime=a:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(a-this.startTime)*this.speed;const kt=this.currentTime-ut*(this.speed>=0?1:-1),Ct=this.speed>=0?kt<0:kt>st;this.currentTime=Math.max(kt,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=st);let Ot=this.currentTime,zt=tt;if(ht){const $t=Math.min(this.currentTime,st)/ct;let Bt=Math.floor($t),Nt=$t%1;!Nt&&$t>=1&&(Nt=1),Nt===1&&Bt--,Bt=Math.min(Bt,ht+1),!!(Bt%2)&&(Et==="reverse"?(Nt=1-Nt,St&&(Nt-=St/ct)):Et==="mirror"&&(zt=rt)),Ot=clamp(0,1,Nt)*ct}const Ut=Ct?{done:!1,value:it[0]}:zt.next(Ot);nt&&(Ut.value=nt(Ut.value));let{done:Vt}=Ut;!Ct&&ot!==null&&(Vt=this.speed>=0?this.currentTime>=st:this.currentTime<=0);const jt=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&Vt);return jt&&et!==void 0&&(Ut.value=getFinalKeyframe(it,this.options,et)),Mt&&Mt(Ut.value),jt&&this.finish(),Ut}get duration(){const{resolved:a}=this;return a?millisecondsToSeconds(a.calculatedDuration):0}get time(){return millisecondsToSeconds(this.currentTime)}set time(a){a=secondsToMilliseconds$1(a),this.currentTime=a,this.holdTime!==null||this.speed===0?this.holdTime=a:this.driver&&(this.startTime=this.driver.now()-a/this.speed)}get speed(){return this.playbackSpeed}set speed(a){const $=this.playbackSpeed!==a;this.playbackSpeed=a,$&&(this.time=millisecondsToSeconds(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:a=frameloopDriver,onPlay:$}=this.options;this.driver||(this.driver=a(et=>this.tick(et))),$&&$();const j=this.driver.now();this.holdTime!==null?this.startTime=j-this.holdTime:(!this.startTime||this.state==="finished")&&(this.startTime=j),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var a;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(a=this.currentTime)!==null&&a!==void 0?a:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:a}=this.options;a&&a()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(a){return this.startTime=0,this.tick(a,!0)}}const isBezierDefinition=_=>Array.isArray(_)&&typeof _[0]=="number";function isWaapiSupportedEasing(_){return!!(!_||typeof _=="string"&&_ in supportedWaapiEasing||isBezierDefinition(_)||Array.isArray(_)&&_.every(isWaapiSupportedEasing))}const cubicBezierAsString=([_,a,$,j])=>`cubic-bezier(${_}, ${a}, ${$}, ${j})`,supportedWaapiEasing={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:cubicBezierAsString([0,.65,.55,1]),circOut:cubicBezierAsString([.55,0,1,.45]),backIn:cubicBezierAsString([.31,.01,.66,-.59]),backOut:cubicBezierAsString([.33,1.53,.69,.99])};function mapEasingToNativeEasingWithDefault(_){return mapEasingToNativeEasing(_)||supportedWaapiEasing.easeOut}function mapEasingToNativeEasing(_){if(_)return isBezierDefinition(_)?cubicBezierAsString(_):Array.isArray(_)?_.map(mapEasingToNativeEasingWithDefault):supportedWaapiEasing[_]}function animateStyle(_,a,$,{delay:j=0,duration:et=300,repeat:tt=0,repeatType:rt="loop",ease:nt,times:it}={}){const ot={[a]:$};it&&(ot.offset=it);const st=mapEasingToNativeEasing(nt);return Array.isArray(st)&&(ot.easing=st),_.animate(ot,{delay:j,duration:et,easing:Array.isArray(st)?"linear":st,fill:"both",iterations:tt+1,direction:rt==="reverse"?"alternate":"normal"})}const supportsWaapi=memo(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),acceleratedValues=new Set(["opacity","clipPath","filter","transform"]),sampleDelta=10,maxDuration=2e4;function requiresPregeneratedKeyframes(_){return _.type==="spring"||_.name==="backgroundColor"||!isWaapiSupportedEasing(_.ease)}function pregenerateKeyframes(_,a){const $=new MainThreadAnimation({...a,keyframes:_,repeat:0,delay:0,isGenerator:!0});let j={done:!1,value:_[0]};const et=[];let tt=0;for(;!j.done&&tt<maxDuration;)j=$.sample(tt),et.push(j.value),tt+=sampleDelta;return{times:void 0,keyframes:et,duration:tt-sampleDelta,ease:"linear"}}class AcceleratedAnimation extends BaseAnimation{constructor(a){super(a);const{name:$,motionValue:j,keyframes:et}=this.options;this.resolver=new DOMKeyframesResolver(et,(tt,rt)=>this.onKeyframesResolved(tt,rt),$,j),this.resolver.scheduleResolve()}initPlayback(a,$){var j;let{duration:et=300,times:tt,ease:rt,type:nt,motionValue:it,name:ot}=this.options;if(!(!((j=it.owner)===null||j===void 0)&&j.current))return!1;if(requiresPregeneratedKeyframes(this.options)){const{onComplete:ct,onUpdate:ut,motionValue:ht,...Et}=this.options,St=pregenerateKeyframes(a,Et);a=St.keyframes,a.length===1&&(a[1]=a[0]),et=St.duration,tt=St.times,rt=St.ease,nt="keyframes"}const st=animateStyle(it.owner.current,ot,a,{...this.options,duration:et,times:tt,ease:rt});return st.startTime=time.now(),this.pendingTimeline?(st.timeline=this.pendingTimeline,this.pendingTimeline=void 0):st.onfinish=()=>{const{onComplete:ct}=this.options;it.set(getFinalKeyframe(a,this.options,$)),ct&&ct(),this.cancel(),this.resolveFinishedPromise()},{animation:st,duration:et,times:tt,type:nt,ease:rt,keyframes:a}}get duration(){const{resolved:a}=this;if(!a)return 0;const{duration:$}=a;return millisecondsToSeconds($)}get time(){const{resolved:a}=this;if(!a)return 0;const{animation:$}=a;return millisecondsToSeconds($.currentTime||0)}set time(a){const{resolved:$}=this;if(!$)return;const{animation:j}=$;j.currentTime=secondsToMilliseconds$1(a)}get speed(){const{resolved:a}=this;if(!a)return 1;const{animation:$}=a;return $.playbackRate}set speed(a){const{resolved:$}=this;if(!$)return;const{animation:j}=$;j.playbackRate=a}get state(){const{resolved:a}=this;if(!a)return"idle";const{animation:$}=a;return $.playState}attachTimeline(a){if(!this._resolved)this.pendingTimeline=a;else{const{resolved:$}=this;if(!$)return noop$a;const{animation:j}=$;j.timeline=a,j.onfinish=null}return noop$a}play(){if(this.isStopped)return;const{resolved:a}=this;if(!a)return;const{animation:$}=a;$.playState==="finished"&&this.updateFinishedPromise(),$.play()}pause(){const{resolved:a}=this;if(!a)return;const{animation:$}=a;$.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;const{resolved:a}=this;if(!a)return;const{animation:$,keyframes:j,duration:et,type:tt,ease:rt,times:nt}=a;if(!($.playState==="idle"||$.playState==="finished")){if(this.time){const{motionValue:it,onUpdate:ot,onComplete:st,...ct}=this.options,ut=new MainThreadAnimation({...ct,keyframes:j,duration:et,type:tt,ease:rt,times:nt,isGenerator:!0}),ht=secondsToMilliseconds$1(this.time);it.setWithVelocity(ut.sample(ht-sampleDelta).value,ut.sample(ht).value,sampleDelta)}this.cancel()}}complete(){const{resolved:a}=this;a&&a.animation.finish()}cancel(){const{resolved:a}=this;a&&a.animation.cancel()}static supports(a){const{motionValue:$,name:j,repeatDelay:et,repeatType:tt,damping:rt,type:nt}=a;return supportsWaapi()&&j&&acceleratedValues.has(j)&&$&&$.owner&&$.owner.current instanceof HTMLElement&&!$.owner.getProps().onUpdate&&!et&&tt!=="mirror"&&rt!==0&&nt!=="inertia"}}function observeTimeline(_,a){let $;const j=()=>{const{currentTime:et}=a,rt=(et===null?0:et.value)/100;$!==rt&&_(rt),$=rt};return frame.update(j,!0),()=>cancelFrame(j)}const supportsScrollTimeline=memo(()=>window.ScrollTimeline!==void 0);class GroupPlaybackControls{constructor(a){this.stop=()=>this.runAll("stop"),this.animations=a.filter(Boolean)}then(a,$){return Promise.all(this.animations).then(a).catch($)}getAll(a){return this.animations[0][a]}setAll(a,$){for(let j=0;j<this.animations.length;j++)this.animations[j][a]=$}attachTimeline(a){const $=this.animations.map(j=>{if(supportsScrollTimeline()&&j.attachTimeline)j.attachTimeline(a);else return j.pause(),observeTimeline(et=>{j.time=j.duration*et},a)});return()=>{$.forEach((j,et)=>{j&&j(),this.animations[et].stop()})}}get time(){return this.getAll("time")}set time(a){this.setAll("time",a)}get speed(){return this.getAll("speed")}set speed(a){this.setAll("speed",a)}get duration(){let a=0;for(let $=0;$<this.animations.length;$++)a=Math.max(a,this.animations[$].duration);return a}runAll(a){this.animations.forEach($=>$[a]())}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}const animateMotionValue=(_,a,$,j={},et,tt)=>rt=>{const nt=getValueTransition(j,_)||{},it=nt.delay||j.delay||0;let{elapsed:ot=0}=j;ot=ot-secondsToMilliseconds$1(it);let st={keyframes:Array.isArray($)?$:[null,$],ease:"easeOut",velocity:a.getVelocity(),...nt,delay:-ot,onUpdate:ut=>{a.set(ut),nt.onUpdate&&nt.onUpdate(ut)},onComplete:()=>{rt(),nt.onComplete&&nt.onComplete()},name:_,motionValue:a,element:tt?void 0:et};isTransitionDefined(nt)||(st={...st,...getDefaultTransition(_,st)}),st.duration&&(st.duration=secondsToMilliseconds$1(st.duration)),st.repeatDelay&&(st.repeatDelay=secondsToMilliseconds$1(st.repeatDelay)),st.from!==void 0&&(st.keyframes[0]=st.from);let ct=!1;if((st.type===!1||st.duration===0&&!st.repeatDelay)&&(st.duration=0,st.delay===0&&(ct=!0)),ct&&!tt&&a.get()!==void 0){const ut=getFinalKeyframe(st.keyframes,nt);if(ut!==void 0)return frame.update(()=>{st.onUpdate(ut),st.onComplete()}),new GroupPlaybackControls([])}return!tt&&AcceleratedAnimation.supports(st)?new AcceleratedAnimation(st):new MainThreadAnimation(st)};function isWillChangeMotionValue(_){return!!(isMotionValue(_)&&_.add)}function addUniqueItem(_,a){_.indexOf(a)===-1&&_.push(a)}function removeItem(_,a){const $=_.indexOf(a);$>-1&&_.splice($,1)}class SubscriptionManager{constructor(){this.subscriptions=[]}add(a){return addUniqueItem(this.subscriptions,a),()=>removeItem(this.subscriptions,a)}notify(a,$,j){const et=this.subscriptions.length;if(et)if(et===1)this.subscriptions[0](a,$,j);else for(let tt=0;tt<et;tt++){const rt=this.subscriptions[tt];rt&&rt(a,$,j)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const MAX_VELOCITY_DELTA=30,isFloat=_=>!isNaN(parseFloat(_));class MotionValue{constructor(a,$={}){this.version="11.2.10",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(j,et=!0)=>{const tt=time.now();this.updatedAt!==tt&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(j),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),et&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(a),this.owner=$.owner}setCurrent(a){this.current=a,this.updatedAt=time.now(),this.canTrackVelocity===null&&a!==void 0&&(this.canTrackVelocity=isFloat(this.current))}setPrevFrameValue(a=this.current){this.prevFrameValue=a,this.prevUpdatedAt=this.updatedAt}onChange(a){return this.on("change",a)}on(a,$){this.events[a]||(this.events[a]=new SubscriptionManager);const j=this.events[a].add($);return a==="change"?()=>{j(),frame.read(()=>{this.events.change.getSize()||this.stop()})}:j}clearListeners(){for(const a in this.events)this.events[a].clear()}attach(a,$){this.passiveEffect=a,this.stopPassiveEffect=$}set(a,$=!0){!$||!this.passiveEffect?this.updateAndNotify(a,$):this.passiveEffect(a,this.updateAndNotify)}setWithVelocity(a,$,j){this.set($),this.prev=void 0,this.prevFrameValue=a,this.prevUpdatedAt=this.updatedAt-j}jump(a,$=!0){this.updateAndNotify(a),this.prev=a,this.prevUpdatedAt=this.prevFrameValue=void 0,$&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const a=time.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||a-this.updatedAt>MAX_VELOCITY_DELTA)return 0;const $=Math.min(this.updatedAt-this.prevUpdatedAt,MAX_VELOCITY_DELTA);return velocityPerSecond(parseFloat(this.current)-parseFloat(this.prevFrameValue),$)}start(a){return this.stop(),new Promise($=>{this.hasAnimated=!0,this.animation=a($),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function motionValue(_,a){return new MotionValue(_,a)}function setMotionValue(_,a,$){_.hasValue(a)?_.getValue(a).set($):_.addValue(a,motionValue($))}function setTarget(_,a){const $=resolveVariant(_,a);let{transitionEnd:j={},transition:et={},...tt}=$||{};tt={...tt,...j};for(const rt in tt){const nt=resolveFinalValueInKeyframes(tt[rt]);setMotionValue(_,rt,nt)}}function getOptimisedAppearId(_){return _.getProps()[optimizedAppearDataAttribute]}function shouldBlockAnimation({protectedKeys:_,needsAnimating:a},$){const j=_.hasOwnProperty($)&&a[$]!==!0;return a[$]=!1,j}function animateTarget(_,a,{delay:$=0,transitionOverride:j,type:et}={}){var tt;let{transition:rt=_.getDefaultTransition(),transitionEnd:nt,...it}=a;const ot=_.getValue("willChange");j&&(rt=j);const st=[],ct=et&&_.animationState&&_.animationState.getState()[et];for(const ut in it){const ht=_.getValue(ut,(tt=_.latestValues[ut])!==null&&tt!==void 0?tt:null),Et=it[ut];if(Et===void 0||ct&&shouldBlockAnimation(ct,ut))continue;const St={delay:$,elapsed:0,...getValueTransition(rt||{},ut)};let Mt=!1;if(window.HandoffAppearAnimations){const Ct=getOptimisedAppearId(_);if(Ct){const Ot=window.HandoffAppearAnimations(Ct,ut,ht,frame);Ot!==null&&(St.elapsed=Ot,Mt=!0)}}ht.start(animateMotionValue(ut,ht,Et,_.shouldReduceMotion&&transformProps.has(ut)?{type:!1}:St,_,Mt));const kt=ht.animation;kt&&(isWillChangeMotionValue(ot)&&(ot.add(ut),kt.then(()=>ot.remove(ut))),st.push(kt))}return nt&&Promise.all(st).then(()=>{frame.update(()=>{nt&&setTarget(_,nt)})}),st}function animateVariant(_,a,$={}){var j;const et=resolveVariant(_,a,$.type==="exit"?(j=_.presenceContext)===null||j===void 0?void 0:j.custom:void 0);let{transition:tt=_.getDefaultTransition()||{}}=et||{};$.transitionOverride&&(tt=$.transitionOverride);const rt=et?()=>Promise.all(animateTarget(_,et,$)):()=>Promise.resolve(),nt=_.variantChildren&&_.variantChildren.size?(ot=0)=>{const{delayChildren:st=0,staggerChildren:ct,staggerDirection:ut}=tt;return animateChildren(_,a,st+ot,ct,ut,$)}:()=>Promise.resolve(),{when:it}=tt;if(it){const[ot,st]=it==="beforeChildren"?[rt,nt]:[nt,rt];return ot().then(()=>st())}else return Promise.all([rt(),nt($.delay)])}function animateChildren(_,a,$=0,j=0,et=1,tt){const rt=[],nt=(_.variantChildren.size-1)*j,it=et===1?(ot=0)=>ot*j:(ot=0)=>nt-ot*j;return Array.from(_.variantChildren).sort(sortByTreeOrder).forEach((ot,st)=>{ot.notify("AnimationStart",a),rt.push(animateVariant(ot,a,{...tt,delay:$+it(st)}).then(()=>ot.notify("AnimationComplete",a)))}),Promise.all(rt)}function sortByTreeOrder(_,a){return _.sortNodePosition(a)}function animateVisualElement(_,a,$={}){_.notify("AnimationStart",a);let j;if(Array.isArray(a)){const et=a.map(tt=>animateVariant(_,tt,$));j=Promise.all(et)}else if(typeof a=="string")j=animateVariant(_,a,$);else{const et=typeof a=="function"?resolveVariant(_,a,$.custom):a;j=Promise.all(animateTarget(_,et,$))}return j.then(()=>{frame.postRender(()=>{_.notify("AnimationComplete",a)})})}const reversePriorityOrder=[...variantPriorityOrder].reverse(),numAnimationTypes=variantPriorityOrder.length;function animateList(_){return a=>Promise.all(a.map(({animation:$,options:j})=>animateVisualElement(_,$,j)))}function createAnimationState(_){let a=animateList(_);const $=createState();let j=!0;const et=it=>(ot,st)=>{var ct;const ut=resolveVariant(_,st,it==="exit"?(ct=_.presenceContext)===null||ct===void 0?void 0:ct.custom:void 0);if(ut){const{transition:ht,transitionEnd:Et,...St}=ut;ot={...ot,...St,...Et}}return ot};function tt(it){a=it(_)}function rt(it){const ot=_.getProps(),st=_.getVariantContext(!0)||{},ct=[],ut=new Set;let ht={},Et=1/0;for(let Mt=0;Mt<numAnimationTypes;Mt++){const kt=reversePriorityOrder[Mt],Ct=$[kt],Ot=ot[kt]!==void 0?ot[kt]:st[kt],zt=isVariantLabel(Ot),Ut=kt===it?Ct.isActive:null;Ut===!1&&(Et=Mt);let Vt=Ot===st[kt]&&Ot!==ot[kt]&&zt;if(Vt&&j&&_.manuallyAnimateOnMount&&(Vt=!1),Ct.protectedKeys={...ht},!Ct.isActive&&Ut===null||!Ot&&!Ct.prevProp||isAnimationControls(Ot)||typeof Ot=="boolean")continue;let $t=checkVariantsDidChange(Ct.prevProp,Ot)||kt===it&&Ct.isActive&&!Vt&&zt||Mt>Et&&zt,Bt=!1;const Nt=Array.isArray(Ot)?Ot:[Ot];let Lt=Nt.reduce(et(kt),{});Ut===!1&&(Lt={});const{prevResolvedValues:Pt={}}=Ct,bt={...Pt,...Lt},at=dt=>{$t=!0,ut.has(dt)&&(Bt=!0,ut.delete(dt)),Ct.needsAnimating[dt]=!0;const vt=_.getValue(dt);vt&&(vt.liveStyle=!1)};for(const dt in bt){const vt=Lt[dt],xt=Pt[dt];if(ht.hasOwnProperty(dt))continue;let wt=!1;isKeyframesTarget(vt)&&isKeyframesTarget(xt)?wt=!shallowCompare(vt,xt):wt=vt!==xt,wt?vt!=null?at(dt):ut.add(dt):vt!==void 0&&ut.has(dt)?at(dt):Ct.protectedKeys[dt]=!0}Ct.prevProp=Ot,Ct.prevResolvedValues=Lt,Ct.isActive&&(ht={...ht,...Lt}),j&&_.blockInitialAnimation&&($t=!1),$t&&(!Vt||Bt)&&ct.push(...Nt.map(dt=>({animation:dt,options:{type:kt}})))}if(ut.size){const Mt={};ut.forEach(kt=>{const Ct=_.getBaseTarget(kt),Ot=_.getValue(kt);Ot&&(Ot.liveStyle=!0),Mt[kt]=Ct??null}),ct.push({animation:Mt})}let St=!!ct.length;return j&&(ot.initial===!1||ot.initial===ot.animate)&&!_.manuallyAnimateOnMount&&(St=!1),j=!1,St?a(ct):Promise.resolve()}function nt(it,ot){var st;if($[it].isActive===ot)return Promise.resolve();(st=_.variantChildren)===null||st===void 0||st.forEach(ut=>{var ht;return(ht=ut.animationState)===null||ht===void 0?void 0:ht.setActive(it,ot)}),$[it].isActive=ot;const ct=rt(it);for(const ut in $)$[ut].protectedKeys={};return ct}return{animateChanges:rt,setActive:nt,setAnimateFunction:tt,getState:()=>$}}function checkVariantsDidChange(_,a){return typeof a=="string"?a!==_:Array.isArray(a)?!shallowCompare(a,_):!1}function createTypeState(_=!1){return{isActive:_,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function createState(){return{animate:createTypeState(!0),whileInView:createTypeState(),whileHover:createTypeState(),whileTap:createTypeState(),whileDrag:createTypeState(),whileFocus:createTypeState(),exit:createTypeState()}}class AnimationFeature extends Feature{constructor(a){super(a),a.animationState||(a.animationState=createAnimationState(a))}updateAnimationControlsSubscription(){const{animate:a}=this.node.getProps();this.unmount(),isAnimationControls(a)&&(this.unmount=a.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:a}=this.node.getProps(),{animate:$}=this.node.prevProps||{};a!==$&&this.updateAnimationControlsSubscription()}unmount(){}}let id$2=0;class ExitAnimationFeature extends Feature{constructor(){super(...arguments),this.id=id$2++}update(){if(!this.node.presenceContext)return;const{isPresent:a,onExitComplete:$}=this.node.presenceContext,{isPresent:j}=this.node.prevPresenceContext||{};if(!this.node.animationState||a===j)return;const et=this.node.animationState.setActive("exit",!a);$&&!a&&et.then(()=>$(this.id))}mount(){const{register:a}=this.node.presenceContext||{};a&&(this.unmount=a(this.id))}unmount(){}}const animations$1={animation:{Feature:AnimationFeature},exit:{Feature:ExitAnimationFeature}},distance=(_,a)=>Math.abs(_-a);function distance2D(_,a){const $=distance(_.x,a.x),j=distance(_.y,a.y);return Math.sqrt($**2+j**2)}class PanSession{constructor(a,$,{transformPagePoint:j,contextWindow:et,dragSnapToOrigin:tt=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const ct=getPanInfo(this.lastMoveEventInfo,this.history),ut=this.startEvent!==null,ht=distance2D(ct.offset,{x:0,y:0})>=3;if(!ut&&!ht)return;const{point:Et}=ct,{timestamp:St}=frameData;this.history.push({...Et,timestamp:St});const{onStart:Mt,onMove:kt}=this.handlers;ut||(Mt&&Mt(this.lastMoveEvent,ct),this.startEvent=this.lastMoveEvent),kt&&kt(this.lastMoveEvent,ct)},this.handlePointerMove=(ct,ut)=>{this.lastMoveEvent=ct,this.lastMoveEventInfo=transformPoint(ut,this.transformPagePoint),frame.update(this.updatePoint,!0)},this.handlePointerUp=(ct,ut)=>{this.end();const{onEnd:ht,onSessionEnd:Et,resumeAnimation:St}=this.handlers;if(this.dragSnapToOrigin&&St&&St(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const Mt=getPanInfo(ct.type==="pointercancel"?this.lastMoveEventInfo:transformPoint(ut,this.transformPagePoint),this.history);this.startEvent&&ht&&ht(ct,Mt),Et&&Et(ct,Mt)},!isPrimaryPointer(a))return;this.dragSnapToOrigin=tt,this.handlers=$,this.transformPagePoint=j,this.contextWindow=et||window;const rt=extractEventInfo(a),nt=transformPoint(rt,this.transformPagePoint),{point:it}=nt,{timestamp:ot}=frameData;this.history=[{...it,timestamp:ot}];const{onSessionStart:st}=$;st&&st(a,getPanInfo(nt,this.history)),this.removeListeners=pipe$1(addPointerEvent(this.contextWindow,"pointermove",this.handlePointerMove),addPointerEvent(this.contextWindow,"pointerup",this.handlePointerUp),addPointerEvent(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(a){this.handlers=a}end(){this.removeListeners&&this.removeListeners(),cancelFrame(this.updatePoint)}}function transformPoint(_,a){return a?{point:a(_.point)}:_}function subtractPoint(_,a){return{x:_.x-a.x,y:_.y-a.y}}function getPanInfo({point:_},a){return{point:_,delta:subtractPoint(_,lastDevicePoint(a)),offset:subtractPoint(_,startDevicePoint(a)),velocity:getVelocity(a,.1)}}function startDevicePoint(_){return _[0]}function lastDevicePoint(_){return _[_.length-1]}function getVelocity(_,a){if(_.length<2)return{x:0,y:0};let $=_.length-1,j=null;const et=lastDevicePoint(_);for(;$>=0&&(j=_[$],!(et.timestamp-j.timestamp>secondsToMilliseconds$1(a)));)$--;if(!j)return{x:0,y:0};const tt=millisecondsToSeconds(et.timestamp-j.timestamp);if(tt===0)return{x:0,y:0};const rt={x:(et.x-j.x)/tt,y:(et.y-j.y)/tt};return rt.x===1/0&&(rt.x=0),rt.y===1/0&&(rt.y=0),rt}function calcLength(_){return _.max-_.min}function isNear(_,a=0,$=.01){return Math.abs(_-a)<=$}function calcAxisDelta(_,a,$,j=.5){_.origin=j,_.originPoint=mixNumber$1(a.min,a.max,_.origin),_.scale=calcLength($)/calcLength(a),(isNear(_.scale,1,1e-4)||isNaN(_.scale))&&(_.scale=1),_.translate=mixNumber$1($.min,$.max,_.origin)-_.originPoint,(isNear(_.translate)||isNaN(_.translate))&&(_.translate=0)}function calcBoxDelta(_,a,$,j){calcAxisDelta(_.x,a.x,$.x,j?j.originX:void 0),calcAxisDelta(_.y,a.y,$.y,j?j.originY:void 0)}function calcRelativeAxis(_,a,$){_.min=$.min+a.min,_.max=_.min+calcLength(a)}function calcRelativeBox(_,a,$){calcRelativeAxis(_.x,a.x,$.x),calcRelativeAxis(_.y,a.y,$.y)}function calcRelativeAxisPosition(_,a,$){_.min=a.min-$.min,_.max=_.min+calcLength(a)}function calcRelativePosition(_,a,$){calcRelativeAxisPosition(_.x,a.x,$.x),calcRelativeAxisPosition(_.y,a.y,$.y)}function applyConstraints(_,{min:a,max:$},j){return a!==void 0&&_<a?_=j?mixNumber$1(a,_,j.min):Math.max(_,a):$!==void 0&&_>$&&(_=j?mixNumber$1($,_,j.max):Math.min(_,$)),_}function calcRelativeAxisConstraints(_,a,$){return{min:a!==void 0?_.min+a:void 0,max:$!==void 0?_.max+$-(_.max-_.min):void 0}}function calcRelativeConstraints(_,{top:a,left:$,bottom:j,right:et}){return{x:calcRelativeAxisConstraints(_.x,$,et),y:calcRelativeAxisConstraints(_.y,a,j)}}function calcViewportAxisConstraints(_,a){let $=a.min-_.min,j=a.max-_.max;return a.max-a.min<_.max-_.min&&([$,j]=[j,$]),{min:$,max:j}}function calcViewportConstraints(_,a){return{x:calcViewportAxisConstraints(_.x,a.x),y:calcViewportAxisConstraints(_.y,a.y)}}function calcOrigin(_,a){let $=.5;const j=calcLength(_),et=calcLength(a);return et>j?$=progress(a.min,a.max-j,_.min):j>et&&($=progress(_.min,_.max-et,a.min)),clamp(0,1,$)}function rebaseAxisConstraints(_,a){const $={};return a.min!==void 0&&($.min=a.min-_.min),a.max!==void 0&&($.max=a.max-_.min),$}const defaultElastic=.35;function resolveDragElastic(_=defaultElastic){return _===!1?_=0:_===!0&&(_=defaultElastic),{x:resolveAxisElastic(_,"left","right"),y:resolveAxisElastic(_,"top","bottom")}}function resolveAxisElastic(_,a,$){return{min:resolvePointElastic(_,a),max:resolvePointElastic(_,$)}}function resolvePointElastic(_,a){return typeof _=="number"?_:_[a]||0}const createAxisDelta=()=>({translate:0,scale:1,origin:0,originPoint:0}),createDelta=()=>({x:createAxisDelta(),y:createAxisDelta()}),createAxis=()=>({min:0,max:0}),createBox=()=>({x:createAxis(),y:createAxis()});function eachAxis(_){return[_("x"),_("y")]}function convertBoundingBoxToBox({top:_,left:a,right:$,bottom:j}){return{x:{min:a,max:$},y:{min:_,max:j}}}function convertBoxToBoundingBox({x:_,y:a}){return{top:a.min,right:_.max,bottom:a.max,left:_.min}}function transformBoxPoints(_,a){if(!a)return _;const $=a({x:_.left,y:_.top}),j=a({x:_.right,y:_.bottom});return{top:$.y,left:$.x,bottom:j.y,right:j.x}}function isIdentityScale(_){return _===void 0||_===1}function hasScale({scale:_,scaleX:a,scaleY:$}){return!isIdentityScale(_)||!isIdentityScale(a)||!isIdentityScale($)}function hasTransform(_){return hasScale(_)||has2DTranslate(_)||_.z||_.rotate||_.rotateX||_.rotateY||_.skewX||_.skewY}function has2DTranslate(_){return is2DTranslate(_.x)||is2DTranslate(_.y)}function is2DTranslate(_){return _&&_!=="0%"}function scalePoint(_,a,$){const j=_-$,et=a*j;return $+et}function applyPointDelta(_,a,$,j,et){return et!==void 0&&(_=scalePoint(_,et,j)),scalePoint(_,$,j)+a}function applyAxisDelta(_,a=0,$=1,j,et){_.min=applyPointDelta(_.min,a,$,j,et),_.max=applyPointDelta(_.max,a,$,j,et)}function applyBoxDelta(_,{x:a,y:$}){applyAxisDelta(_.x,a.translate,a.scale,a.originPoint),applyAxisDelta(_.y,$.translate,$.scale,$.originPoint)}function applyTreeDeltas(_,a,$,j=!1){const et=$.length;if(!et)return;a.x=a.y=1;let tt,rt;for(let nt=0;nt<et;nt++){tt=$[nt],rt=tt.projectionDelta;const it=tt.instance;it&&it.style&&it.style.display==="contents"||(j&&tt.options.layoutScroll&&tt.scroll&&tt!==tt.root&&transformBox(_,{x:-tt.scroll.offset.x,y:-tt.scroll.offset.y}),rt&&(a.x*=rt.x.scale,a.y*=rt.y.scale,applyBoxDelta(_,rt)),j&&hasTransform(tt.latestValues)&&transformBox(_,tt.latestValues))}a.x=snapToDefault(a.x),a.y=snapToDefault(a.y)}function snapToDefault(_){return Number.isInteger(_)||_>1.0000000000001||_<.999999999999?_:1}function translateAxis(_,a){_.min=_.min+a,_.max=_.max+a}function transformAxis(_,a,[$,j,et]){const tt=a[et]!==void 0?a[et]:.5,rt=mixNumber$1(_.min,_.max,tt);applyAxisDelta(_,a[$],a[j],rt,a.scale)}const xKeys$1=["x","scaleX","originX"],yKeys$1=["y","scaleY","originY"];function transformBox(_,a){transformAxis(_.x,a,xKeys$1),transformAxis(_.y,a,yKeys$1)}function measureViewportBox(_,a){return convertBoundingBoxToBox(transformBoxPoints(_.getBoundingClientRect(),a))}function measurePageBox(_,a,$){const j=measureViewportBox(_,$),{scroll:et}=a;return et&&(translateAxis(j.x,et.offset.x),translateAxis(j.y,et.offset.y)),j}const getContextWindow=({current:_})=>_?_.ownerDocument.defaultView:null,elementDragControls=new WeakMap;class VisualElementDragControls{constructor(a){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=createBox(),this.visualElement=a}start(a,{snapToCursor:$=!1}={}){const{presenceContext:j}=this.visualElement;if(j&&j.isPresent===!1)return;const et=st=>{const{dragSnapToOrigin:ct}=this.getProps();ct?this.pauseAnimation():this.stopAnimation(),$&&this.snapToCursor(extractEventInfo(st,"page").point)},tt=(st,ct)=>{const{drag:ut,dragPropagation:ht,onDragStart:Et}=this.getProps();if(ut&&!ht&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=getGlobalLock(ut),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),eachAxis(Mt=>{let kt=this.getAxisMotionValue(Mt).get()||0;if(percent.test(kt)){const{projection:Ct}=this.visualElement;if(Ct&&Ct.layout){const Ot=Ct.layout.layoutBox[Mt];Ot&&(kt=calcLength(Ot)*(parseFloat(kt)/100))}}this.originPoint[Mt]=kt}),Et&&frame.postRender(()=>Et(st,ct));const{animationState:St}=this.visualElement;St&&St.setActive("whileDrag",!0)},rt=(st,ct)=>{const{dragPropagation:ut,dragDirectionLock:ht,onDirectionLock:Et,onDrag:St}=this.getProps();if(!ut&&!this.openGlobalLock)return;const{offset:Mt}=ct;if(ht&&this.currentDirection===null){this.currentDirection=getCurrentDirection(Mt),this.currentDirection!==null&&Et&&Et(this.currentDirection);return}this.updateAxis("x",ct.point,Mt),this.updateAxis("y",ct.point,Mt),this.visualElement.render(),St&&St(st,ct)},nt=(st,ct)=>this.stop(st,ct),it=()=>eachAxis(st=>{var ct;return this.getAnimationState(st)==="paused"&&((ct=this.getAxisMotionValue(st).animation)===null||ct===void 0?void 0:ct.play())}),{dragSnapToOrigin:ot}=this.getProps();this.panSession=new PanSession(a,{onSessionStart:et,onStart:tt,onMove:rt,onSessionEnd:nt,resumeAnimation:it},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:ot,contextWindow:getContextWindow(this.visualElement)})}stop(a,$){const j=this.isDragging;if(this.cancel(),!j)return;const{velocity:et}=$;this.startAnimation(et);const{onDragEnd:tt}=this.getProps();tt&&frame.postRender(()=>tt(a,$))}cancel(){this.isDragging=!1;const{projection:a,animationState:$}=this.visualElement;a&&(a.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:j}=this.getProps();!j&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),$&&$.setActive("whileDrag",!1)}updateAxis(a,$,j){const{drag:et}=this.getProps();if(!j||!shouldDrag(a,et,this.currentDirection))return;const tt=this.getAxisMotionValue(a);let rt=this.originPoint[a]+j[a];this.constraints&&this.constraints[a]&&(rt=applyConstraints(rt,this.constraints[a],this.elastic[a])),tt.set(rt)}resolveConstraints(){var a;const{dragConstraints:$,dragElastic:j}=this.getProps(),et=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(a=this.visualElement.projection)===null||a===void 0?void 0:a.layout,tt=this.constraints;$&&isRefObject$2($)?this.constraints||(this.constraints=this.resolveRefConstraints()):$&&et?this.constraints=calcRelativeConstraints(et.layoutBox,$):this.constraints=!1,this.elastic=resolveDragElastic(j),tt!==this.constraints&&et&&this.constraints&&!this.hasMutatedConstraints&&eachAxis(rt=>{this.constraints!==!1&&this.getAxisMotionValue(rt)&&(this.constraints[rt]=rebaseAxisConstraints(et.layoutBox[rt],this.constraints[rt]))})}resolveRefConstraints(){const{dragConstraints:a,onMeasureDragConstraints:$}=this.getProps();if(!a||!isRefObject$2(a))return!1;const j=a.current,{projection:et}=this.visualElement;if(!et||!et.layout)return!1;const tt=measurePageBox(j,et.root,this.visualElement.getTransformPagePoint());let rt=calcViewportConstraints(et.layout.layoutBox,tt);if($){const nt=$(convertBoxToBoundingBox(rt));this.hasMutatedConstraints=!!nt,nt&&(rt=convertBoundingBoxToBox(nt))}return rt}startAnimation(a){const{drag:$,dragMomentum:j,dragElastic:et,dragTransition:tt,dragSnapToOrigin:rt,onDragTransitionEnd:nt}=this.getProps(),it=this.constraints||{},ot=eachAxis(st=>{if(!shouldDrag(st,$,this.currentDirection))return;let ct=it&&it[st]||{};rt&&(ct={min:0,max:0});const ut=et?200:1e6,ht=et?40:1e7,Et={type:"inertia",velocity:j?a[st]:0,bounceStiffness:ut,bounceDamping:ht,timeConstant:750,restDelta:1,restSpeed:10,...tt,...ct};return this.startAxisValueAnimation(st,Et)});return Promise.all(ot).then(nt)}startAxisValueAnimation(a,$){const j=this.getAxisMotionValue(a);return j.start(animateMotionValue(a,j,0,$,this.visualElement))}stopAnimation(){eachAxis(a=>this.getAxisMotionValue(a).stop())}pauseAnimation(){eachAxis(a=>{var $;return($=this.getAxisMotionValue(a).animation)===null||$===void 0?void 0:$.pause()})}getAnimationState(a){var $;return($=this.getAxisMotionValue(a).animation)===null||$===void 0?void 0:$.state}getAxisMotionValue(a){const $=`_drag${a.toUpperCase()}`,j=this.visualElement.getProps(),et=j[$];return et||this.visualElement.getValue(a,(j.initial?j.initial[a]:void 0)||0)}snapToCursor(a){eachAxis($=>{const{drag:j}=this.getProps();if(!shouldDrag($,j,this.currentDirection))return;const{projection:et}=this.visualElement,tt=this.getAxisMotionValue($);if(et&&et.layout){const{min:rt,max:nt}=et.layout.layoutBox[$];tt.set(a[$]-mixNumber$1(rt,nt,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:a,dragConstraints:$}=this.getProps(),{projection:j}=this.visualElement;if(!isRefObject$2($)||!j||!this.constraints)return;this.stopAnimation();const et={x:0,y:0};eachAxis(rt=>{const nt=this.getAxisMotionValue(rt);if(nt&&this.constraints!==!1){const it=nt.get();et[rt]=calcOrigin({min:it,max:it},this.constraints[rt])}});const{transformTemplate:tt}=this.visualElement.getProps();this.visualElement.current.style.transform=tt?tt({},""):"none",j.root&&j.root.updateScroll(),j.updateLayout(),this.resolveConstraints(),eachAxis(rt=>{if(!shouldDrag(rt,a,null))return;const nt=this.getAxisMotionValue(rt),{min:it,max:ot}=this.constraints[rt];nt.set(mixNumber$1(it,ot,et[rt]))})}addListeners(){if(!this.visualElement.current)return;elementDragControls.set(this.visualElement,this);const a=this.visualElement.current,$=addPointerEvent(a,"pointerdown",it=>{const{drag:ot,dragListener:st=!0}=this.getProps();ot&&st&&this.start(it)}),j=()=>{const{dragConstraints:it}=this.getProps();isRefObject$2(it)&&(this.constraints=this.resolveRefConstraints())},{projection:et}=this.visualElement,tt=et.addEventListener("measure",j);et&&!et.layout&&(et.root&&et.root.updateScroll(),et.updateLayout()),j();const rt=addDomEvent(window,"resize",()=>this.scalePositionWithinConstraints()),nt=et.addEventListener("didUpdate",({delta:it,hasLayoutChanged:ot})=>{this.isDragging&&ot&&(eachAxis(st=>{const ct=this.getAxisMotionValue(st);ct&&(this.originPoint[st]+=it[st].translate,ct.set(ct.get()+it[st].translate))}),this.visualElement.render())});return()=>{rt(),$(),tt(),nt&&nt()}}getProps(){const a=this.visualElement.getProps(),{drag:$=!1,dragDirectionLock:j=!1,dragPropagation:et=!1,dragConstraints:tt=!1,dragElastic:rt=defaultElastic,dragMomentum:nt=!0}=a;return{...a,drag:$,dragDirectionLock:j,dragPropagation:et,dragConstraints:tt,dragElastic:rt,dragMomentum:nt}}}function shouldDrag(_,a,$){return(a===!0||a===_)&&($===null||$===_)}function getCurrentDirection(_,a=10){let $=null;return Math.abs(_.y)>a?$="y":Math.abs(_.x)>a&&($="x"),$}class DragGesture extends Feature{constructor(a){super(a),this.removeGroupControls=noop$a,this.removeListeners=noop$a,this.controls=new VisualElementDragControls(a)}mount(){const{dragControls:a}=this.node.getProps();a&&(this.removeGroupControls=a.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||noop$a}unmount(){this.removeGroupControls(),this.removeListeners()}}const asyncHandler=_=>(a,$)=>{_&&frame.postRender(()=>_(a,$))};class PanGesture extends Feature{constructor(){super(...arguments),this.removePointerDownListener=noop$a}onPointerDown(a){this.session=new PanSession(a,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:getContextWindow(this.node)})}createPanHandlers(){const{onPanSessionStart:a,onPanStart:$,onPan:j,onPanEnd:et}=this.node.getProps();return{onSessionStart:asyncHandler(a),onStart:asyncHandler($),onMove:j,onEnd:(tt,rt)=>{delete this.session,et&&frame.postRender(()=>et(tt,rt))}}}mount(){this.removePointerDownListener=addPointerEvent(this.node.current,"pointerdown",a=>this.onPointerDown(a))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function usePresence(){const _=reactExports.useContext(PresenceContext);if(_===null)return[!0,null];const{isPresent:a,onExitComplete:$,register:j}=_,et=reactExports.useId();return reactExports.useEffect(()=>j(et),[]),!a&&$?[!1,()=>$&&$(et)]:[!0]}function useIsPresent(){return isPresent(reactExports.useContext(PresenceContext))}function isPresent(_){return _===null?!0:_.isPresent}const globalProjectionState={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function pixelsToPercent(_,a){return a.max===a.min?0:_/(a.max-a.min)*100}const correctBorderRadius={correct:(_,a)=>{if(!a.target)return _;if(typeof _=="string")if(px.test(_))_=parseFloat(_);else return _;const $=pixelsToPercent(_,a.target.x),j=pixelsToPercent(_,a.target.y);return`${$}% ${j}%`}},correctBoxShadow={correct:(_,{treeScale:a,projectionDelta:$})=>{const j=_,et=complex.parse(_);if(et.length>5)return j;const tt=complex.createTransformer(_),rt=typeof et[0]!="number"?1:0,nt=$.x.scale*a.x,it=$.y.scale*a.y;et[0+rt]/=nt,et[1+rt]/=it;const ot=mixNumber$1(nt,it,.5);return typeof et[2+rt]=="number"&&(et[2+rt]/=ot),typeof et[3+rt]=="number"&&(et[3+rt]/=ot),tt(et)}};class MeasureLayoutWithContext extends reactExports.Component{componentDidMount(){const{visualElement:a,layoutGroup:$,switchLayoutGroup:j,layoutId:et}=this.props,{projection:tt}=a;addScaleCorrector(defaultScaleCorrectors),tt&&($.group&&$.group.add(tt),j&&j.register&&et&&j.register(tt),tt.root.didUpdate(),tt.addEventListener("animationComplete",()=>{this.safeToRemove()}),tt.setOptions({...tt.options,onExitComplete:()=>this.safeToRemove()})),globalProjectionState.hasEverUpdated=!0}getSnapshotBeforeUpdate(a){const{layoutDependency:$,visualElement:j,drag:et,isPresent:tt}=this.props,rt=j.projection;return rt&&(rt.isPresent=tt,et||a.layoutDependency!==$||$===void 0?rt.willUpdate():this.safeToRemove(),a.isPresent!==tt&&(tt?rt.promote():rt.relegate()||frame.postRender(()=>{const nt=rt.getStack();(!nt||!nt.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:a}=this.props.visualElement;a&&(a.root.didUpdate(),microtask.postRender(()=>{!a.currentAnimation&&a.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:a,layoutGroup:$,switchLayoutGroup:j}=this.props,{projection:et}=a;et&&(et.scheduleCheckAfterUnmount(),$&&$.group&&$.group.remove(et),j&&j.deregister&&j.deregister(et))}safeToRemove(){const{safeToRemove:a}=this.props;a&&a()}render(){return null}}function MeasureLayout(_){const[a,$]=usePresence(),j=reactExports.useContext(LayoutGroupContext);return jsxRuntimeExports.jsx(MeasureLayoutWithContext,{..._,layoutGroup:j,switchLayoutGroup:reactExports.useContext(SwitchLayoutGroupContext),isPresent:a,safeToRemove:$})}const defaultScaleCorrectors={borderRadius:{...correctBorderRadius,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:correctBorderRadius,borderTopRightRadius:correctBorderRadius,borderBottomLeftRadius:correctBorderRadius,borderBottomRightRadius:correctBorderRadius,boxShadow:correctBoxShadow},borders=["TopLeft","TopRight","BottomLeft","BottomRight"],numBorders=borders.length,asNumber=_=>typeof _=="string"?parseFloat(_):_,isPx=_=>typeof _=="number"||px.test(_);function mixValues(_,a,$,j,et,tt){et?(_.opacity=mixNumber$1(0,$.opacity!==void 0?$.opacity:1,easeCrossfadeIn(j)),_.opacityExit=mixNumber$1(a.opacity!==void 0?a.opacity:1,0,easeCrossfadeOut(j))):tt&&(_.opacity=mixNumber$1(a.opacity!==void 0?a.opacity:1,$.opacity!==void 0?$.opacity:1,j));for(let rt=0;rt<numBorders;rt++){const nt=`border${borders[rt]}Radius`;let it=getRadius(a,nt),ot=getRadius($,nt);if(it===void 0&&ot===void 0)continue;it||(it=0),ot||(ot=0),it===0||ot===0||isPx(it)===isPx(ot)?(_[nt]=Math.max(mixNumber$1(asNumber(it),asNumber(ot),j),0),(percent.test(ot)||percent.test(it))&&(_[nt]+="%")):_[nt]=ot}(a.rotate||$.rotate)&&(_.rotate=mixNumber$1(a.rotate||0,$.rotate||0,j))}function getRadius(_,a){return _[a]!==void 0?_[a]:_.borderRadius}const easeCrossfadeIn=compress(0,.5,circOut),easeCrossfadeOut=compress(.5,.95,noop$a);function compress(_,a,$){return j=>j<_?0:j>a?1:$(progress(_,a,j))}function copyAxisInto(_,a){_.min=a.min,_.max=a.max}function copyBoxInto(_,a){copyAxisInto(_.x,a.x),copyAxisInto(_.y,a.y)}function removePointDelta(_,a,$,j,et){return _-=a,_=scalePoint(_,1/$,j),et!==void 0&&(_=scalePoint(_,1/et,j)),_}function removeAxisDelta(_,a=0,$=1,j=.5,et,tt=_,rt=_){if(percent.test(a)&&(a=parseFloat(a),a=mixNumber$1(rt.min,rt.max,a/100)-rt.min),typeof a!="number")return;let nt=mixNumber$1(tt.min,tt.max,j);_===tt&&(nt-=a),_.min=removePointDelta(_.min,a,$,nt,et),_.max=removePointDelta(_.max,a,$,nt,et)}function removeAxisTransforms(_,a,[$,j,et],tt,rt){removeAxisDelta(_,a[$],a[j],a[et],a.scale,tt,rt)}const xKeys=["x","scaleX","originX"],yKeys=["y","scaleY","originY"];function removeBoxTransforms(_,a,$,j){removeAxisTransforms(_.x,a,xKeys,$?$.x:void 0,j?j.x:void 0),removeAxisTransforms(_.y,a,yKeys,$?$.y:void 0,j?j.y:void 0)}function isAxisDeltaZero(_){return _.translate===0&&_.scale===1}function isDeltaZero(_){return isAxisDeltaZero(_.x)&&isAxisDeltaZero(_.y)}function boxEquals(_,a){return _.x.min===a.x.min&&_.x.max===a.x.max&&_.y.min===a.y.min&&_.y.max===a.y.max}function boxEqualsRounded(_,a){return Math.round(_.x.min)===Math.round(a.x.min)&&Math.round(_.x.max)===Math.round(a.x.max)&&Math.round(_.y.min)===Math.round(a.y.min)&&Math.round(_.y.max)===Math.round(a.y.max)}function aspectRatio(_){return calcLength(_.x)/calcLength(_.y)}class NodeStack{constructor(){this.members=[]}add(a){addUniqueItem(this.members,a),a.scheduleRender()}remove(a){if(removeItem(this.members,a),a===this.prevLead&&(this.prevLead=void 0),a===this.lead){const $=this.members[this.members.length-1];$&&this.promote($)}}relegate(a){const $=this.members.findIndex(et=>a===et);if($===0)return!1;let j;for(let et=$;et>=0;et--){const tt=this.members[et];if(tt.isPresent!==!1){j=tt;break}}return j?(this.promote(j),!0):!1}promote(a,$){const j=this.lead;if(a!==j&&(this.prevLead=j,this.lead=a,a.show(),j)){j.instance&&j.scheduleRender(),a.scheduleRender(),a.resumeFrom=j,$&&(a.resumeFrom.preserveOpacity=!0),j.snapshot&&(a.snapshot=j.snapshot,a.snapshot.latestValues=j.animationValues||j.latestValues),a.root&&a.root.isUpdating&&(a.isLayoutDirty=!0);const{crossfade:et}=a.options;et===!1&&j.hide()}}exitAnimationComplete(){this.members.forEach(a=>{const{options:$,resumingFrom:j}=a;$.onExitComplete&&$.onExitComplete(),j&&j.options.onExitComplete&&j.options.onExitComplete()})}scheduleRender(){this.members.forEach(a=>{a.instance&&a.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function buildProjectionTransform(_,a,$){let j="";const et=_.x.translate/a.x,tt=_.y.translate/a.y,rt=($==null?void 0:$.z)||0;if((et||tt||rt)&&(j=`translate3d(${et}px, ${tt}px, ${rt}px) `),(a.x!==1||a.y!==1)&&(j+=`scale(${1/a.x}, ${1/a.y}) `),$){const{transformPerspective:ot,rotate:st,rotateX:ct,rotateY:ut,skewX:ht,skewY:Et}=$;ot&&(j=`perspective(${ot}px) ${j}`),st&&(j+=`rotate(${st}deg) `),ct&&(j+=`rotateX(${ct}deg) `),ut&&(j+=`rotateY(${ut}deg) `),ht&&(j+=`skewX(${ht}deg) `),Et&&(j+=`skewY(${Et}deg) `)}const nt=_.x.scale*a.x,it=_.y.scale*a.y;return(nt!==1||it!==1)&&(j+=`scale(${nt}, ${it})`),j||"none"}const compareByDepth=(_,a)=>_.depth-a.depth;class FlatTree{constructor(){this.children=[],this.isDirty=!1}add(a){addUniqueItem(this.children,a),this.isDirty=!0}remove(a){removeItem(this.children,a),this.isDirty=!0}forEach(a){this.isDirty&&this.children.sort(compareByDepth),this.isDirty=!1,this.children.forEach(a)}}function delay(_,a){const $=time.now(),j=({timestamp:et})=>{const tt=et-$;tt>=a&&(cancelFrame(j),_(tt-a))};return frame.read(j,!0),()=>cancelFrame(j)}function record(_){window.MotionDebug&&window.MotionDebug.record(_)}function isSVGElement(_){return _ instanceof SVGElement&&_.tagName!=="svg"}function animateSingleValue(_,a,$){const j=isMotionValue(_)?_:motionValue(_);return j.start(animateMotionValue("",j,a,$)),j.animation}const transformAxes=["","X","Y","Z"],hiddenVisibility={visibility:"hidden"},animationTarget=1e3;let id$1=0;const projectionFrameData={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function resetDistortingTransform(_,a,$,j){const{latestValues:et}=a;et[_]&&($[_]=et[_],a.setStaticValue(_,0),j&&(j[_]=0))}function isOptimisedAppearTree(_){if(_.hasCheckedOptimisedAppear=!0,_.root===_)return!1;const{visualElement:a}=_.options;return a?getOptimisedAppearId(a)?!0:_.parent&&!_.parent.hasCheckedOptimisedAppear?isOptimisedAppearTree(_.parent):!1:!1}function createProjectionNode({attachResizeListener:_,defaultParent:a,measureScroll:$,checkIsScrollRoot:j,resetTransform:et}){return class{constructor(rt={},nt=a==null?void 0:a()){this.id=id$1++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,projectionFrameData.totalNodes=projectionFrameData.resolvedTargetDeltas=projectionFrameData.recalculatedProjection=0,this.nodes.forEach(propagateDirtyNodes),this.nodes.forEach(resolveTargetDelta),this.nodes.forEach(calcProjection),this.nodes.forEach(cleanDirtyNodes),record(projectionFrameData)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=rt,this.root=nt?nt.root||nt:this,this.path=nt?[...nt.path,nt]:[],this.parent=nt,this.depth=nt?nt.depth+1:0;for(let it=0;it<this.path.length;it++)this.path[it].shouldResetTransform=!0;this.root===this&&(this.nodes=new FlatTree)}addEventListener(rt,nt){return this.eventHandlers.has(rt)||this.eventHandlers.set(rt,new SubscriptionManager),this.eventHandlers.get(rt).add(nt)}notifyListeners(rt,...nt){const it=this.eventHandlers.get(rt);it&&it.notify(...nt)}hasListeners(rt){return this.eventHandlers.has(rt)}mount(rt,nt=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=isSVGElement(rt),this.instance=rt;const{layoutId:it,layout:ot,visualElement:st}=this.options;if(st&&!st.current&&st.mount(rt),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),nt&&(ot||it)&&(this.isLayoutDirty=!0),_){let ct;const ut=()=>this.root.updateBlockedByResize=!1;_(rt,()=>{this.root.updateBlockedByResize=!0,ct&&ct(),ct=delay(ut,250),globalProjectionState.hasAnimatedSinceResize&&(globalProjectionState.hasAnimatedSinceResize=!1,this.nodes.forEach(finishAnimation))})}it&&this.root.registerSharedNode(it,this),this.options.animate!==!1&&st&&(it||ot)&&this.addEventListener("didUpdate",({delta:ct,hasLayoutChanged:ut,hasRelativeTargetChanged:ht,layout:Et})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const St=this.options.transition||st.getDefaultTransition()||defaultLayoutTransition,{onLayoutAnimationStart:Mt,onLayoutAnimationComplete:kt}=st.getProps(),Ct=!this.targetLayout||!boxEqualsRounded(this.targetLayout,Et)||ht,Ot=!ut&&ht;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||Ot||ut&&(Ct||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(ct,Ot);const zt={...getValueTransition(St,"layout"),onPlay:Mt,onComplete:kt};(st.shouldReduceMotion||this.options.layoutRoot)&&(zt.delay=0,zt.type=!1),this.startAnimation(zt)}else ut||finishAnimation(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=Et})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const rt=this.getStack();rt&&rt.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,cancelFrame(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(resetSkewAndRotation),this.animationId++)}getTransformTemplate(){const{visualElement:rt}=this.options;return rt&&rt.getProps().transformTemplate}willUpdate(rt=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.HandoffCancelAllAnimations&&isOptimisedAppearTree(this)&&window.HandoffCancelAllAnimations(),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let st=0;st<this.path.length;st++){const ct=this.path[st];ct.shouldResetTransform=!0,ct.updateScroll("snapshot"),ct.options.layoutRoot&&ct.willUpdate(!1)}const{layoutId:nt,layout:it}=this.options;if(nt===void 0&&!it)return;const ot=this.getTransformTemplate();this.prevTransformTemplateValue=ot?ot(this.latestValues,""):void 0,this.updateSnapshot(),rt&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(clearMeasurements);return}this.isUpdating||this.nodes.forEach(clearIsLayoutDirty),this.isUpdating=!1,this.nodes.forEach(resetTransformStyle),this.nodes.forEach(updateLayout),this.nodes.forEach(notifyLayoutUpdate),this.clearAllSnapshots();const nt=time.now();frameData.delta=clamp(0,1e3/60,nt-frameData.timestamp),frameData.timestamp=nt,frameData.isProcessing=!0,steps.update.process(frameData),steps.preRender.process(frameData),steps.render.process(frameData),frameData.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,microtask.read(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(clearSnapshot),this.sharedNodes.forEach(removeLeadSnapshots)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,frame.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){frame.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let it=0;it<this.path.length;it++)this.path[it].updateScroll();const rt=this.layout;this.layout=this.measure(!1),this.layoutCorrected=createBox(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:nt}=this.options;nt&&nt.notify("LayoutMeasure",this.layout.layoutBox,rt?rt.layoutBox:void 0)}updateScroll(rt="measure"){let nt=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===rt&&(nt=!1),nt&&(this.scroll={animationId:this.root.animationId,phase:rt,isRoot:j(this.instance),offset:$(this.instance)})}resetTransform(){if(!et)return;const rt=this.isLayoutDirty||this.shouldResetTransform,nt=this.projectionDelta&&!isDeltaZero(this.projectionDelta),it=this.getTransformTemplate(),ot=it?it(this.latestValues,""):void 0,st=ot!==this.prevTransformTemplateValue;rt&&(nt||hasTransform(this.latestValues)||st)&&(et(this.instance,ot),this.shouldResetTransform=!1,this.scheduleRender())}measure(rt=!0){const nt=this.measurePageBox();let it=this.removeElementScroll(nt);return rt&&(it=this.removeTransform(it)),roundBox(it),{animationId:this.root.animationId,measuredBox:nt,layoutBox:it,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:rt}=this.options;if(!rt)return createBox();const nt=rt.measureViewportBox(),{scroll:it}=this.root;return it&&(translateAxis(nt.x,it.offset.x),translateAxis(nt.y,it.offset.y)),nt}removeElementScroll(rt){const nt=createBox();copyBoxInto(nt,rt);for(let it=0;it<this.path.length;it++){const ot=this.path[it],{scroll:st,options:ct}=ot;if(ot!==this.root&&st&&ct.layoutScroll){if(st.isRoot){copyBoxInto(nt,rt);const{scroll:ut}=this.root;ut&&(translateAxis(nt.x,-ut.offset.x),translateAxis(nt.y,-ut.offset.y))}translateAxis(nt.x,st.offset.x),translateAxis(nt.y,st.offset.y)}}return nt}applyTransform(rt,nt=!1){const it=createBox();copyBoxInto(it,rt);for(let ot=0;ot<this.path.length;ot++){const st=this.path[ot];!nt&&st.options.layoutScroll&&st.scroll&&st!==st.root&&transformBox(it,{x:-st.scroll.offset.x,y:-st.scroll.offset.y}),hasTransform(st.latestValues)&&transformBox(it,st.latestValues)}return hasTransform(this.latestValues)&&transformBox(it,this.latestValues),it}removeTransform(rt){const nt=createBox();copyBoxInto(nt,rt);for(let it=0;it<this.path.length;it++){const ot=this.path[it];if(!ot.instance||!hasTransform(ot.latestValues))continue;hasScale(ot.latestValues)&&ot.updateSnapshot();const st=createBox(),ct=ot.measurePageBox();copyBoxInto(st,ct),removeBoxTransforms(nt,ot.latestValues,ot.snapshot?ot.snapshot.layoutBox:void 0,st)}return hasTransform(this.latestValues)&&removeBoxTransforms(nt,this.latestValues),nt}setTargetDelta(rt){this.targetDelta=rt,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(rt){this.options={...this.options,...rt,crossfade:rt.crossfade!==void 0?rt.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==frameData.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(rt=!1){var nt;const it=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=it.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=it.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=it.isSharedProjectionDirty);const ot=!!this.resumingFrom||this!==it;if(!(rt||ot&&this.isSharedProjectionDirty||this.isProjectionDirty||!((nt=this.parent)===null||nt===void 0)&&nt.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:ct,layoutId:ut}=this.options;if(!(!this.layout||!(ct||ut))){if(this.resolvedRelativeTargetAt=frameData.timestamp,!this.targetDelta&&!this.relativeTarget){const ht=this.getClosestProjectingParent();ht&&ht.layout&&this.animationProgress!==1?(this.relativeParent=ht,this.forceRelativeParentToResolveTarget(),this.relativeTarget=createBox(),this.relativeTargetOrigin=createBox(),calcRelativePosition(this.relativeTargetOrigin,this.layout.layoutBox,ht.layout.layoutBox),copyBoxInto(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=createBox(),this.targetWithTransforms=createBox()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),calcRelativeBox(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):copyBoxInto(this.target,this.layout.layoutBox),applyBoxDelta(this.target,this.targetDelta)):copyBoxInto(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const ht=this.getClosestProjectingParent();ht&&!!ht.resumingFrom==!!this.resumingFrom&&!ht.options.layoutScroll&&ht.target&&this.animationProgress!==1?(this.relativeParent=ht,this.forceRelativeParentToResolveTarget(),this.relativeTarget=createBox(),this.relativeTargetOrigin=createBox(),calcRelativePosition(this.relativeTargetOrigin,this.target,ht.target),copyBoxInto(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}projectionFrameData.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||hasScale(this.parent.latestValues)||has2DTranslate(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var rt;const nt=this.getLead(),it=!!this.resumingFrom||this!==nt;let ot=!0;if((this.isProjectionDirty||!((rt=this.parent)===null||rt===void 0)&&rt.isProjectionDirty)&&(ot=!1),it&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(ot=!1),this.resolvedRelativeTargetAt===frameData.timestamp&&(ot=!1),ot)return;const{layout:st,layoutId:ct}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(st||ct))return;copyBoxInto(this.layoutCorrected,this.layout.layoutBox);const ut=this.treeScale.x,ht=this.treeScale.y;applyTreeDeltas(this.layoutCorrected,this.treeScale,this.path,it),nt.layout&&!nt.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(nt.target=nt.layout.layoutBox,nt.targetWithTransforms=createBox());const{target:Et}=nt;if(!Et){this.projectionTransform&&(this.projectionDelta=createDelta(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=createDelta(),this.projectionDeltaWithTransform=createDelta());const St=this.projectionTransform;calcBoxDelta(this.projectionDelta,this.layoutCorrected,Et,this.latestValues),this.projectionTransform=buildProjectionTransform(this.projectionDelta,this.treeScale),(this.projectionTransform!==St||this.treeScale.x!==ut||this.treeScale.y!==ht)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",Et)),projectionFrameData.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(rt=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),rt){const nt=this.getStack();nt&&nt.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(rt,nt=!1){const it=this.snapshot,ot=it?it.latestValues:{},st={...this.latestValues},ct=createDelta();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!nt;const ut=createBox(),ht=it?it.source:void 0,Et=this.layout?this.layout.source:void 0,St=ht!==Et,Mt=this.getStack(),kt=!Mt||Mt.members.length<=1,Ct=!!(St&&!kt&&this.options.crossfade===!0&&!this.path.some(hasOpacityCrossfade));this.animationProgress=0;let Ot;this.mixTargetDelta=zt=>{const Ut=zt/1e3;mixAxisDelta(ct.x,rt.x,Ut),mixAxisDelta(ct.y,rt.y,Ut),this.setTargetDelta(ct),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(calcRelativePosition(ut,this.layout.layoutBox,this.relativeParent.layout.layoutBox),mixBox(this.relativeTarget,this.relativeTargetOrigin,ut,Ut),Ot&&boxEquals(this.relativeTarget,Ot)&&(this.isProjectionDirty=!1),Ot||(Ot=createBox()),copyBoxInto(Ot,this.relativeTarget)),St&&(this.animationValues=st,mixValues(st,ot,this.latestValues,Ut,Ct,kt)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=Ut},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(rt){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(cancelFrame(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=frame.update(()=>{globalProjectionState.hasAnimatedSinceResize=!0,this.currentAnimation=animateSingleValue(0,animationTarget,{...rt,onUpdate:nt=>{this.mixTargetDelta(nt),rt.onUpdate&&rt.onUpdate(nt)},onComplete:()=>{rt.onComplete&&rt.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const rt=this.getStack();rt&&rt.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(animationTarget),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const rt=this.getLead();let{targetWithTransforms:nt,target:it,layout:ot,latestValues:st}=rt;if(!(!nt||!it||!ot)){if(this!==rt&&this.layout&&ot&&shouldAnimatePositionOnly(this.options.animationType,this.layout.layoutBox,ot.layoutBox)){it=this.target||createBox();const ct=calcLength(this.layout.layoutBox.x);it.x.min=rt.target.x.min,it.x.max=it.x.min+ct;const ut=calcLength(this.layout.layoutBox.y);it.y.min=rt.target.y.min,it.y.max=it.y.min+ut}copyBoxInto(nt,it),transformBox(nt,st),calcBoxDelta(this.projectionDeltaWithTransform,this.layoutCorrected,nt,st)}}registerSharedNode(rt,nt){this.sharedNodes.has(rt)||this.sharedNodes.set(rt,new NodeStack),this.sharedNodes.get(rt).add(nt);const ot=nt.options.initialPromotionConfig;nt.promote({transition:ot?ot.transition:void 0,preserveFollowOpacity:ot&&ot.shouldPreserveFollowOpacity?ot.shouldPreserveFollowOpacity(nt):void 0})}isLead(){const rt=this.getStack();return rt?rt.lead===this:!0}getLead(){var rt;const{layoutId:nt}=this.options;return nt?((rt=this.getStack())===null||rt===void 0?void 0:rt.lead)||this:this}getPrevLead(){var rt;const{layoutId:nt}=this.options;return nt?(rt=this.getStack())===null||rt===void 0?void 0:rt.prevLead:void 0}getStack(){const{layoutId:rt}=this.options;if(rt)return this.root.sharedNodes.get(rt)}promote({needsReset:rt,transition:nt,preserveFollowOpacity:it}={}){const ot=this.getStack();ot&&ot.promote(this,it),rt&&(this.projectionDelta=void 0,this.needsReset=!0),nt&&this.setOptions({transition:nt})}relegate(){const rt=this.getStack();return rt?rt.relegate(this):!1}resetSkewAndRotation(){const{visualElement:rt}=this.options;if(!rt)return;let nt=!1;const{latestValues:it}=rt;if((it.z||it.rotate||it.rotateX||it.rotateY||it.rotateZ||it.skewX||it.skewY)&&(nt=!0),!nt)return;const ot={};it.z&&resetDistortingTransform("z",rt,ot,this.animationValues);for(let st=0;st<transformAxes.length;st++)resetDistortingTransform(`rotate${transformAxes[st]}`,rt,ot,this.animationValues),resetDistortingTransform(`skew${transformAxes[st]}`,rt,ot,this.animationValues);rt.render();for(const st in ot)rt.setStaticValue(st,ot[st]),this.animationValues&&(this.animationValues[st]=ot[st]);rt.scheduleRender()}getProjectionStyles(rt){var nt,it;if(!this.instance||this.isSVG)return;if(!this.isVisible)return hiddenVisibility;const ot={visibility:""},st=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,ot.opacity="",ot.pointerEvents=resolveMotionValue(rt==null?void 0:rt.pointerEvents)||"",ot.transform=st?st(this.latestValues,""):"none",ot;const ct=this.getLead();if(!this.projectionDelta||!this.layout||!ct.target){const St={};return this.options.layoutId&&(St.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,St.pointerEvents=resolveMotionValue(rt==null?void 0:rt.pointerEvents)||""),this.hasProjected&&!hasTransform(this.latestValues)&&(St.transform=st?st({},""):"none",this.hasProjected=!1),St}const ut=ct.animationValues||ct.latestValues;this.applyTransformsToTarget(),ot.transform=buildProjectionTransform(this.projectionDeltaWithTransform,this.treeScale,ut),st&&(ot.transform=st(ut,ot.transform));const{x:ht,y:Et}=this.projectionDelta;ot.transformOrigin=`${ht.origin*100}% ${Et.origin*100}% 0`,ct.animationValues?ot.opacity=ct===this?(it=(nt=ut.opacity)!==null&&nt!==void 0?nt:this.latestValues.opacity)!==null&&it!==void 0?it:1:this.preserveOpacity?this.latestValues.opacity:ut.opacityExit:ot.opacity=ct===this?ut.opacity!==void 0?ut.opacity:"":ut.opacityExit!==void 0?ut.opacityExit:0;for(const St in scaleCorrectors){if(ut[St]===void 0)continue;const{correct:Mt,applyTo:kt}=scaleCorrectors[St],Ct=ot.transform==="none"?ut[St]:Mt(ut[St],ct);if(kt){const Ot=kt.length;for(let zt=0;zt<Ot;zt++)ot[kt[zt]]=Ct}else ot[St]=Ct}return this.options.layoutId&&(ot.pointerEvents=ct===this?resolveMotionValue(rt==null?void 0:rt.pointerEvents)||"":"none"),ot}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(rt=>{var nt;return(nt=rt.currentAnimation)===null||nt===void 0?void 0:nt.stop()}),this.root.nodes.forEach(clearMeasurements),this.root.sharedNodes.clear()}}}function updateLayout(_){_.updateLayout()}function notifyLayoutUpdate(_){var a;const $=((a=_.resumeFrom)===null||a===void 0?void 0:a.snapshot)||_.snapshot;if(_.isLead()&&_.layout&&$&&_.hasListeners("didUpdate")){const{layoutBox:j,measuredBox:et}=_.layout,{animationType:tt}=_.options,rt=$.source!==_.layout.source;tt==="size"?eachAxis(ct=>{const ut=rt?$.measuredBox[ct]:$.layoutBox[ct],ht=calcLength(ut);ut.min=j[ct].min,ut.max=ut.min+ht}):shouldAnimatePositionOnly(tt,$.layoutBox,j)&&eachAxis(ct=>{const ut=rt?$.measuredBox[ct]:$.layoutBox[ct],ht=calcLength(j[ct]);ut.max=ut.min+ht,_.relativeTarget&&!_.currentAnimation&&(_.isProjectionDirty=!0,_.relativeTarget[ct].max=_.relativeTarget[ct].min+ht)});const nt=createDelta();calcBoxDelta(nt,j,$.layoutBox);const it=createDelta();rt?calcBoxDelta(it,_.applyTransform(et,!0),$.measuredBox):calcBoxDelta(it,j,$.layoutBox);const ot=!isDeltaZero(nt);let st=!1;if(!_.resumeFrom){const ct=_.getClosestProjectingParent();if(ct&&!ct.resumeFrom){const{snapshot:ut,layout:ht}=ct;if(ut&&ht){const Et=createBox();calcRelativePosition(Et,$.layoutBox,ut.layoutBox);const St=createBox();calcRelativePosition(St,j,ht.layoutBox),boxEqualsRounded(Et,St)||(st=!0),ct.options.layoutRoot&&(_.relativeTarget=St,_.relativeTargetOrigin=Et,_.relativeParent=ct)}}}_.notifyListeners("didUpdate",{layout:j,snapshot:$,delta:it,layoutDelta:nt,hasLayoutChanged:ot,hasRelativeTargetChanged:st})}else if(_.isLead()){const{onExitComplete:j}=_.options;j&&j()}_.options.transition=void 0}function propagateDirtyNodes(_){projectionFrameData.totalNodes++,_.parent&&(_.isProjecting()||(_.isProjectionDirty=_.parent.isProjectionDirty),_.isSharedProjectionDirty||(_.isSharedProjectionDirty=!!(_.isProjectionDirty||_.parent.isProjectionDirty||_.parent.isSharedProjectionDirty)),_.isTransformDirty||(_.isTransformDirty=_.parent.isTransformDirty))}function cleanDirtyNodes(_){_.isProjectionDirty=_.isSharedProjectionDirty=_.isTransformDirty=!1}function clearSnapshot(_){_.clearSnapshot()}function clearMeasurements(_){_.clearMeasurements()}function clearIsLayoutDirty(_){_.isLayoutDirty=!1}function resetTransformStyle(_){const{visualElement:a}=_.options;a&&a.getProps().onBeforeLayoutMeasure&&a.notify("BeforeLayoutMeasure"),_.resetTransform()}function finishAnimation(_){_.finishAnimation(),_.targetDelta=_.relativeTarget=_.target=void 0,_.isProjectionDirty=!0}function resolveTargetDelta(_){_.resolveTargetDelta()}function calcProjection(_){_.calcProjection()}function resetSkewAndRotation(_){_.resetSkewAndRotation()}function removeLeadSnapshots(_){_.removeLeadSnapshot()}function mixAxisDelta(_,a,$){_.translate=mixNumber$1(a.translate,0,$),_.scale=mixNumber$1(a.scale,1,$),_.origin=a.origin,_.originPoint=a.originPoint}function mixAxis(_,a,$,j){_.min=mixNumber$1(a.min,$.min,j),_.max=mixNumber$1(a.max,$.max,j)}function mixBox(_,a,$,j){mixAxis(_.x,a.x,$.x,j),mixAxis(_.y,a.y,$.y,j)}function hasOpacityCrossfade(_){return _.animationValues&&_.animationValues.opacityExit!==void 0}const defaultLayoutTransition={duration:.45,ease:[.4,0,.1,1]},userAgentContains=_=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(_),roundPoint=userAgentContains("applewebkit/")&&!userAgentContains("chrome/")?Math.round:noop$a;function roundAxis(_){_.min=roundPoint(_.min),_.max=roundPoint(_.max)}function roundBox(_){roundAxis(_.x),roundAxis(_.y)}function shouldAnimatePositionOnly(_,a,$){return _==="position"||_==="preserve-aspect"&&!isNear(aspectRatio(a),aspectRatio($),.2)}const DocumentProjectionNode=createProjectionNode({attachResizeListener:(_,a)=>addDomEvent(_,"resize",a),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),rootProjectionNode={current:void 0},HTMLProjectionNode=createProjectionNode({measureScroll:_=>({x:_.scrollLeft,y:_.scrollTop}),defaultParent:()=>{if(!rootProjectionNode.current){const _=new DocumentProjectionNode({});_.mount(window),_.setOptions({layoutScroll:!0}),rootProjectionNode.current=_}return rootProjectionNode.current},resetTransform:(_,a)=>{_.style.transform=a!==void 0?a:"none"},checkIsScrollRoot:_=>window.getComputedStyle(_).position==="fixed"}),drag={pan:{Feature:PanGesture},drag:{Feature:DragGesture,ProjectionNode:HTMLProjectionNode,MeasureLayout}},prefersReducedMotion={current:null},hasReducedMotionListener={current:!1};function initPrefersReducedMotion(){if(hasReducedMotionListener.current=!0,!!isBrowser$1)if(window.matchMedia){const _=window.matchMedia("(prefers-reduced-motion)"),a=()=>prefersReducedMotion.current=_.matches;_.addListener(a),a()}else prefersReducedMotion.current=!1}function updateMotionValuesFromProps(_,a,$){const{willChange:j}=a;for(const et in a){const tt=a[et],rt=$[et];if(isMotionValue(tt))_.addValue(et,tt),isWillChangeMotionValue(j)&&j.add(et);else if(isMotionValue(rt))_.addValue(et,motionValue(tt,{owner:_})),isWillChangeMotionValue(j)&&j.remove(et);else if(rt!==tt)if(_.hasValue(et)){const nt=_.getValue(et);nt.liveStyle===!0?nt.jump(tt):nt.hasAnimated||nt.set(tt)}else{const nt=_.getStaticValue(et);_.addValue(et,motionValue(nt!==void 0?nt:tt,{owner:_}))}}for(const et in $)a[et]===void 0&&_.removeValue(et);return a}const visualElementStore=new WeakMap,valueTypes=[...dimensionValueTypes,color$1,complex],findValueType=_=>valueTypes.find(testValueType(_)),featureNames=Object.keys(featureDefinitions),numFeatures=featureNames.length,propEventHandlers=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],numVariantProps=variantProps.length;function getClosestProjectingNode(_){if(_)return _.options.allowProjection!==!1?_.projection:getClosestProjectingNode(_.parent)}class VisualElement{scrapeMotionValuesFromProps(a,$,j){return{}}constructor({parent:a,props:$,presenceContext:j,reducedMotionConfig:et,blockInitialAnimation:tt,visualState:rt},nt={}){this.resolveKeyframes=(ut,ht,Et,St)=>new this.KeyframeResolver(ut,ht,Et,St,this),this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=KeyframeResolver,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>frame.render(this.render,!1,!0);const{latestValues:it,renderState:ot}=rt;this.latestValues=it,this.baseTarget={...it},this.initialValues=$.initial?{...it}:{},this.renderState=ot,this.parent=a,this.props=$,this.presenceContext=j,this.depth=a?a.depth+1:0,this.reducedMotionConfig=et,this.options=nt,this.blockInitialAnimation=!!tt,this.isControllingVariants=isControllingVariants($),this.isVariantNode=isVariantNode($),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(a&&a.current);const{willChange:st,...ct}=this.scrapeMotionValuesFromProps($,{},this);for(const ut in ct){const ht=ct[ut];it[ut]!==void 0&&isMotionValue(ht)&&(ht.set(it[ut],!1),isWillChangeMotionValue(st)&&st.add(ut))}}mount(a){this.current=a,visualElementStore.set(a,this),this.projection&&!this.projection.instance&&this.projection.mount(a),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach(($,j)=>this.bindToMotionValue(j,$)),hasReducedMotionListener.current||initPrefersReducedMotion(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:prefersReducedMotion.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){var a;visualElementStore.delete(this.current),this.projection&&this.projection.unmount(),cancelFrame(this.notifyUpdate),cancelFrame(this.render),this.valueSubscriptions.forEach($=>$()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const $ in this.events)this.events[$].clear();for(const $ in this.features)(a=this.features[$])===null||a===void 0||a.unmount();this.current=null}bindToMotionValue(a,$){const j=transformProps.has(a),et=$.on("change",rt=>{this.latestValues[a]=rt,this.props.onUpdate&&frame.preRender(this.notifyUpdate),j&&this.projection&&(this.projection.isTransformDirty=!0)}),tt=$.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(a,()=>{et(),tt(),$.owner&&$.stop()})}sortNodePosition(a){return!this.current||!this.sortInstanceNodePosition||this.type!==a.type?0:this.sortInstanceNodePosition(this.current,a.current)}loadFeatures({children:a,...$},j,et,tt){let rt,nt;for(let it=0;it<numFeatures;it++){const ot=featureNames[it],{isEnabled:st,Feature:ct,ProjectionNode:ut,MeasureLayout:ht}=featureDefinitions[ot];ut&&(rt=ut),st($)&&(!this.features[ot]&&ct&&(this.features[ot]=new ct(this)),ht&&(nt=ht))}if((this.type==="html"||this.type==="svg")&&!this.projection&&rt){const{layoutId:it,layout:ot,drag:st,dragConstraints:ct,layoutScroll:ut,layoutRoot:ht}=$;this.projection=new rt(this.latestValues,$["data-framer-portal-id"]?void 0:getClosestProjectingNode(this.parent)),this.projection.setOptions({layoutId:it,layout:ot,alwaysMeasureLayout:!!st||ct&&isRefObject$2(ct),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof ot=="string"?ot:"both",initialPromotionConfig:tt,layoutScroll:ut,layoutRoot:ht})}return nt}updateFeatures(){for(const a in this.features){const $=this.features[a];$.isMounted?$.update():($.mount(),$.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):createBox()}getStaticValue(a){return this.latestValues[a]}setStaticValue(a,$){this.latestValues[a]=$}update(a,$){(a.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=a,this.prevPresenceContext=this.presenceContext,this.presenceContext=$;for(let j=0;j<propEventHandlers.length;j++){const et=propEventHandlers[j];this.propEventSubscriptions[et]&&(this.propEventSubscriptions[et](),delete this.propEventSubscriptions[et]);const tt="on"+et,rt=a[tt];rt&&(this.propEventSubscriptions[et]=this.on(et,rt))}this.prevMotionValues=updateMotionValuesFromProps(this,this.scrapeMotionValuesFromProps(a,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(a){return this.props.variants?this.props.variants[a]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(a=!1){if(a)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const j=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(j.initial=this.props.initial),j}const $={};for(let j=0;j<numVariantProps;j++){const et=variantProps[j],tt=this.props[et];(isVariantLabel(tt)||tt===!1)&&($[et]=tt)}return $}addVariantChild(a){const $=this.getClosestVariantNode();if($)return $.variantChildren&&$.variantChildren.add(a),()=>$.variantChildren.delete(a)}addValue(a,$){const j=this.values.get(a);$!==j&&(j&&this.removeValue(a),this.bindToMotionValue(a,$),this.values.set(a,$),this.latestValues[a]=$.get())}removeValue(a){this.values.delete(a);const $=this.valueSubscriptions.get(a);$&&($(),this.valueSubscriptions.delete(a)),delete this.latestValues[a],this.removeValueFromRenderState(a,this.renderState)}hasValue(a){return this.values.has(a)}getValue(a,$){if(this.props.values&&this.props.values[a])return this.props.values[a];let j=this.values.get(a);return j===void 0&&$!==void 0&&(j=motionValue($===null?void 0:$,{owner:this}),this.addValue(a,j)),j}readValue(a,$){var j;let et=this.latestValues[a]!==void 0||!this.current?this.latestValues[a]:(j=this.getBaseTargetFromProps(this.props,a))!==null&&j!==void 0?j:this.readValueFromInstance(this.current,a,this.options);return et!=null&&(typeof et=="string"&&(isNumericalString(et)||isZeroValueString(et))?et=parseFloat(et):!findValueType(et)&&complex.test($)&&(et=getAnimatableNone(a,$)),this.setBaseTarget(a,isMotionValue(et)?et.get():et)),isMotionValue(et)?et.get():et}setBaseTarget(a,$){this.baseTarget[a]=$}getBaseTarget(a){var $;const{initial:j}=this.props;let et;if(typeof j=="string"||typeof j=="object"){const rt=resolveVariantFromProps(this.props,j,($=this.presenceContext)===null||$===void 0?void 0:$.custom);rt&&(et=rt[a])}if(j&&et!==void 0)return et;const tt=this.getBaseTargetFromProps(this.props,a);return tt!==void 0&&!isMotionValue(tt)?tt:this.initialValues[a]!==void 0&&et===void 0?void 0:this.baseTarget[a]}on(a,$){return this.events[a]||(this.events[a]=new SubscriptionManager),this.events[a].add($)}notify(a,...$){this.events[a]&&this.events[a].notify(...$)}}class DOMVisualElement extends VisualElement{constructor(){super(...arguments),this.KeyframeResolver=DOMKeyframesResolver}sortInstanceNodePosition(a,$){return a.compareDocumentPosition($)&2?1:-1}getBaseTargetFromProps(a,$){return a.style?a.style[$]:void 0}removeValueFromRenderState(a,{vars:$,style:j}){delete $[a],delete j[a]}}function getComputedStyle$2(_){return window.getComputedStyle(_)}class HTMLVisualElement extends DOMVisualElement{constructor(){super(...arguments),this.type="html"}readValueFromInstance(a,$){if(transformProps.has($)){const j=getDefaultValueType($);return j&&j.default||0}else{const j=getComputedStyle$2(a),et=(isCSSVariableName($)?j.getPropertyValue($):j[$])||0;return typeof et=="string"?et.trim():et}}measureInstanceViewportBox(a,{transformPagePoint:$}){return measureViewportBox(a,$)}build(a,$,j,et){buildHTMLStyles(a,$,j,et.transformTemplate)}scrapeMotionValuesFromProps(a,$,j){return scrapeMotionValuesFromProps$1(a,$,j)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:a}=this.props;isMotionValue(a)&&(this.childSubscription=a.on("change",$=>{this.current&&(this.current.textContent=`${$}`)}))}renderInstance(a,$,j,et){renderHTML(a,$,j,et)}}class SVGVisualElement extends DOMVisualElement{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(a,$){return a[$]}readValueFromInstance(a,$){if(transformProps.has($)){const j=getDefaultValueType($);return j&&j.default||0}return $=camelCaseAttributes.has($)?$:camelToDash($),a.getAttribute($)}measureInstanceViewportBox(){return createBox()}scrapeMotionValuesFromProps(a,$,j){return scrapeMotionValuesFromProps(a,$,j)}build(a,$,j,et){buildSVGAttrs(a,$,j,this.isSVGTag,et.transformTemplate)}renderInstance(a,$,j,et){renderSVG(a,$,j,et)}mount(a){this.isSVGTag=isSVGTag(a.tagName),super.mount(a)}}const createDomVisualElement=(_,a)=>isSVGComponent(_)?new SVGVisualElement(a,{enableHardwareAcceleration:!1}):new HTMLVisualElement(a,{allowProjection:_!==reactExports.Fragment,enableHardwareAcceleration:!0}),layout={layout:{ProjectionNode:HTMLProjectionNode,MeasureLayout}},preloadedFeatures={...animations$1,...gestureAnimations,...drag,...layout},motion=createMotionProxy((_,a)=>createDomMotionConfig(_,a,preloadedFeatures,createDomVisualElement));function useIsMounted(){const _=reactExports.useRef(!1);return useIsomorphicLayoutEffect$2(()=>(_.current=!0,()=>{_.current=!1}),[]),_}function useForceUpdate(){const _=useIsMounted(),[a,$]=reactExports.useState(0),j=reactExports.useCallback(()=>{_.current&&$(a+1)},[a]);return[reactExports.useCallback(()=>frame.postRender(j),[j]),a]}class PopChildMeasure extends reactExports.Component{getSnapshotBeforeUpdate(a){const $=this.props.childRef.current;if($&&a.isPresent&&!this.props.isPresent){const j=this.props.sizeRef.current;j.height=$.offsetHeight||0,j.width=$.offsetWidth||0,j.top=$.offsetTop,j.left=$.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function PopChild({children:_,isPresent:a}){const $=reactExports.useId(),j=reactExports.useRef(null),et=reactExports.useRef({width:0,height:0,top:0,left:0}),{nonce:tt}=reactExports.useContext(MotionConfigContext);return reactExports.useInsertionEffect(()=>{const{width:rt,height:nt,top:it,left:ot}=et.current;if(a||!j.current||!rt||!nt)return;j.current.dataset.motionPopId=$;const st=document.createElement("style");return tt&&(st.nonce=tt),document.head.appendChild(st),st.sheet&&st.sheet.insertRule(`
          [data-motion-pop-id="${$}"] {
            position: absolute !important;
            width: ${rt}px !important;
            height: ${nt}px !important;
            top: ${it}px !important;
            left: ${ot}px !important;
          }
        `),()=>{document.head.removeChild(st)}},[a]),jsxRuntimeExports.jsx(PopChildMeasure,{isPresent:a,childRef:j,sizeRef:et,children:reactExports.cloneElement(_,{ref:j})})}const PresenceChild=({children:_,initial:a,isPresent:$,onExitComplete:j,custom:et,presenceAffectsLayout:tt,mode:rt})=>{const nt=useConstant(newChildrenMap),it=reactExports.useId(),ot=reactExports.useMemo(()=>({id:it,initial:a,isPresent:$,custom:et,onExitComplete:st=>{nt.set(st,!0);for(const ct of nt.values())if(!ct)return;j&&j()},register:st=>(nt.set(st,!1),()=>nt.delete(st))}),tt?[Math.random()]:[$]);return reactExports.useMemo(()=>{nt.forEach((st,ct)=>nt.set(ct,!1))},[$]),reactExports.useEffect(()=>{!$&&!nt.size&&j&&j()},[$]),rt==="popLayout"&&(_=jsxRuntimeExports.jsx(PopChild,{isPresent:$,children:_})),jsxRuntimeExports.jsx(PresenceContext.Provider,{value:ot,children:_})};function newChildrenMap(){return new Map}function useUnmountEffect(_){return reactExports.useEffect(()=>()=>_(),[])}const getChildKey=_=>_.key||"";function updateChildLookup(_,a){_.forEach($=>{const j=getChildKey($);a.set(j,$)})}function onlyElements(_){const a=[];return reactExports.Children.forEach(_,$=>{reactExports.isValidElement($)&&a.push($)}),a}const AnimatePresence=({children:_,custom:a,initial:$=!0,onExitComplete:j,exitBeforeEnter:et,presenceAffectsLayout:tt=!0,mode:rt="sync"})=>{const nt=reactExports.useContext(LayoutGroupContext).forceRender||useForceUpdate()[0],it=useIsMounted(),ot=onlyElements(_);let st=ot;const ct=reactExports.useRef(new Map).current,ut=reactExports.useRef(st),ht=reactExports.useRef(new Map).current,Et=reactExports.useRef(!0);if(useIsomorphicLayoutEffect$2(()=>{Et.current=!1,updateChildLookup(ot,ht),ut.current=st}),useUnmountEffect(()=>{Et.current=!0,ht.clear(),ct.clear()}),Et.current)return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:st.map(Ct=>jsxRuntimeExports.jsx(PresenceChild,{isPresent:!0,initial:$?void 0:!1,presenceAffectsLayout:tt,mode:rt,children:Ct},getChildKey(Ct)))});st=[...st];const St=ut.current.map(getChildKey),Mt=ot.map(getChildKey),kt=St.length;for(let Ct=0;Ct<kt;Ct++){const Ot=St[Ct];Mt.indexOf(Ot)===-1&&!ct.has(Ot)&&ct.set(Ot,void 0)}return rt==="wait"&&ct.size&&(st=[]),ct.forEach((Ct,Ot)=>{if(Mt.indexOf(Ot)!==-1)return;const zt=ht.get(Ot);if(!zt)return;const Ut=St.indexOf(Ot);let Vt=Ct;if(!Vt){const jt=()=>{ct.delete(Ot);const $t=Array.from(ht.keys()).filter(Bt=>!Mt.includes(Bt));if($t.forEach(Bt=>ht.delete(Bt)),ut.current=ot.filter(Bt=>{const Nt=getChildKey(Bt);return Nt===Ot||$t.includes(Nt)}),!ct.size){if(it.current===!1)return;nt(),j&&j()}};Vt=jsxRuntimeExports.jsx(PresenceChild,{isPresent:!1,onExitComplete:jt,custom:a,presenceAffectsLayout:tt,mode:rt,children:zt},getChildKey(zt)),ct.set(Ot,Vt)}st.splice(Ut,0,Vt)}),st=st.map(Ct=>{const Ot=Ct.key;return ct.has(Ot)?Ct:jsxRuntimeExports.jsx(PresenceChild,{isPresent:!0,presenceAffectsLayout:tt,mode:rt,children:Ct},getChildKey(Ct))}),jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:ct.size?st:st.map(Ct=>reactExports.cloneElement(Ct))})};var toastMotionVariants={initial:_=>{const{position:a}=_,$=["top","bottom"].includes(a)?"y":"x";let j=["top-right","bottom-right"].includes(a)?1:-1;return a==="bottom"&&(j=1),{opacity:0,[$]:j*24}},animate:{opacity:1,y:0,x:0,scale:1,transition:{duration:.4,ease:[.4,0,.2,1]}},exit:{opacity:0,scale:.85,transition:{duration:.2,ease:[.4,0,1,1]}}},ToastComponent=reactExports.memo(_=>{const{id:a,message:$,onCloseComplete:j,onRequestRemove:et,requestClose:tt=!1,position:rt="bottom",duration:nt=5e3,containerStyle:it,motionVariants:ot=toastMotionVariants,toastSpacing:st="0.5rem"}=_,[ct,ut]=reactExports.useState(nt),ht=useIsPresent();useUpdateEffect(()=>{ht||j==null||j()},[ht]),useUpdateEffect(()=>{ut(nt)},[nt]);const Et=()=>ut(null),St=()=>ut(nt),Mt=()=>{ht&&et()};reactExports.useEffect(()=>{ht&&tt&&et()},[ht,tt,et]),useTimeout(Mt,ct);const kt=reactExports.useMemo(()=>({pointerEvents:"auto",maxWidth:560,minWidth:300,margin:st,...it}),[it,st]),Ct=reactExports.useMemo(()=>getToastStyle(rt),[rt]);return jsxRuntimeExports.jsx(motion.div,{layout:!0,className:"chakra-toast",variants:ot,initial:"initial",animate:"animate",exit:"exit",onHoverStart:Et,onHoverEnd:St,custom:{position:rt},style:Ct,children:jsxRuntimeExports.jsx(chakra.div,{role:"status","aria-atomic":"true",className:"chakra-toast__inner",__css:kt,children:runIfFn$2($,{id:a,onClose:Mt})})})});ToastComponent.displayName="ToastComponent";function getToastPlacement(_,a){var $;const j=_??"bottom",tt={"top-start":{ltr:"top-left",rtl:"top-right"},"top-end":{ltr:"top-right",rtl:"top-left"},"bottom-start":{ltr:"bottom-left",rtl:"bottom-right"},"bottom-end":{ltr:"bottom-right",rtl:"bottom-left"}}[j];return($=tt==null?void 0:tt[a])!=null?$:j}var fallbackIcon={path:jsxRuntimeExports.jsxs("g",{stroke:"currentColor",strokeWidth:"1.5",children:[jsxRuntimeExports.jsx("path",{strokeLinecap:"round",fill:"none",d:"M9,9a3,3,0,1,1,4,2.829,1.5,1.5,0,0,0-1,1.415V14.25"}),jsxRuntimeExports.jsx("path",{fill:"currentColor",strokeLinecap:"round",d:"M12,17.25a.375.375,0,1,0,.375.375A.375.375,0,0,0,12,17.25h0"}),jsxRuntimeExports.jsx("circle",{fill:"none",strokeMiterlimit:"10",cx:"12",cy:"12",r:"11.25"})]}),viewBox:"0 0 24 24"},Icon=forwardRef((_,a)=>{const{as:$,viewBox:j,color:et="currentColor",focusable:tt=!1,children:rt,className:nt,__css:it,...ot}=_,st=cx("chakra-icon",nt),ct=useStyleConfig("Icon",_),ut={w:"1em",h:"1em",display:"inline-block",lineHeight:"1em",flexShrink:0,color:et,...it,...ct},ht={ref:a,focusable:tt,className:st,__css:ut},Et=j??fallbackIcon.viewBox;if($&&typeof $!="string")return jsxRuntimeExports.jsx(chakra.svg,{as:$,...ht,...ot});const St=rt??fallbackIcon.path;return jsxRuntimeExports.jsx(chakra.svg,{verticalAlign:"middle",viewBox:Et,...ht,...ot,children:St})});Icon.displayName="Icon";function createIcon(_){const{viewBox:a="0 0 24 24",d:$,displayName:j,defaultProps:et={}}=_,tt=reactExports.Children.toArray(_.path),rt=forwardRef((nt,it)=>jsxRuntimeExports.jsx(Icon,{ref:it,viewBox:a,...et,...nt,children:tt.length?tt:jsxRuntimeExports.jsx("path",{fill:"currentColor",d:$})}));return rt.displayName=j,rt}function CheckIcon$3(_){return jsxRuntimeExports.jsx(Icon,{viewBox:"0 0 24 24",..._,children:jsxRuntimeExports.jsx("path",{fill:"currentColor",d:"M12,0A12,12,0,1,0,24,12,12.014,12.014,0,0,0,12,0Zm6.927,8.2-6.845,9.289a1.011,1.011,0,0,1-1.43.188L5.764,13.769a1,1,0,1,1,1.25-1.562l4.076,3.261,6.227-8.451A1,1,0,1,1,18.927,8.2Z"})})}function InfoIcon(_){return jsxRuntimeExports.jsx(Icon,{viewBox:"0 0 24 24",..._,children:jsxRuntimeExports.jsx("path",{fill:"currentColor",d:"M12,0A12,12,0,1,0,24,12,12.013,12.013,0,0,0,12,0Zm.25,5a1.5,1.5,0,1,1-1.5,1.5A1.5,1.5,0,0,1,12.25,5ZM14.5,18.5h-4a1,1,0,0,1,0-2h.75a.25.25,0,0,0,.25-.25v-4.5a.25.25,0,0,0-.25-.25H10.5a1,1,0,0,1,0-2h1a2,2,0,0,1,2,2v4.75a.25.25,0,0,0,.25.25h.75a1,1,0,1,1,0,2Z"})})}function WarningIcon$1(_){return jsxRuntimeExports.jsx(Icon,{viewBox:"0 0 24 24",..._,children:jsxRuntimeExports.jsx("path",{fill:"currentColor",d:"M11.983,0a12.206,12.206,0,0,0-8.51,3.653A11.8,11.8,0,0,0,0,12.207,11.779,11.779,0,0,0,11.8,24h.214A12.111,12.111,0,0,0,24,11.791h0A11.766,11.766,0,0,0,11.983,0ZM10.5,16.542a1.476,1.476,0,0,1,1.449-1.53h.027a1.527,1.527,0,0,1,1.523,1.47,1.475,1.475,0,0,1-1.449,1.53h-.027A1.529,1.529,0,0,1,10.5,16.542ZM11,12.5v-6a1,1,0,0,1,2,0v6a1,1,0,1,1-2,0Z"})})}var spin=keyframes$1({"0%":{transform:"rotate(0deg)"},"100%":{transform:"rotate(360deg)"}}),Spinner=forwardRef((_,a)=>{const $=useStyleConfig("Spinner",_),{label:j="Loading...",thickness:et="2px",speed:tt="0.45s",emptyColor:rt="transparent",className:nt,...it}=omitThemingProps(_),ot=cx("chakra-spinner",nt),st={display:"inline-block",borderColor:"currentColor",borderStyle:"solid",borderRadius:"99999px",borderWidth:et,borderBottomColor:rt,borderLeftColor:rt,animation:`${spin} ${tt} linear infinite`,...$};return jsxRuntimeExports.jsx(chakra.div,{ref:a,__css:st,className:ot,...it,children:j&&jsxRuntimeExports.jsx(chakra.span,{srOnly:!0,children:j})})});Spinner.displayName="Spinner";var[AlertProvider,useAlertContext]=createContext$1({name:"AlertContext",hookName:"useAlertContext",providerName:"<Alert />"}),[AlertStylesProvider,useAlertStyles]=createContext$1({name:"AlertStylesContext",hookName:"useAlertStyles",providerName:"<Alert />"}),STATUSES={info:{icon:InfoIcon,colorScheme:"blue"},warning:{icon:WarningIcon$1,colorScheme:"orange"},success:{icon:CheckIcon$3,colorScheme:"green"},error:{icon:WarningIcon$1,colorScheme:"red"},loading:{icon:Spinner,colorScheme:"blue"}};function getStatusColorScheme(_){return STATUSES[_].colorScheme}function getStatusIcon(_){return STATUSES[_].icon}var AlertDescription=forwardRef(function(a,$){const j=useAlertStyles(),{status:et}=useAlertContext(),tt={display:"inline",...j.description};return jsxRuntimeExports.jsx(chakra.div,{ref:$,"data-status":et,...a,className:cx("chakra-alert__desc",a.className),__css:tt})});AlertDescription.displayName="AlertDescription";function AlertIcon(_){const{status:a}=useAlertContext(),$=getStatusIcon(a),j=useAlertStyles(),et=a==="loading"?j.spinner:j.icon;return jsxRuntimeExports.jsx(chakra.span,{display:"inherit","data-status":a,..._,className:cx("chakra-alert__icon",_.className),__css:et,children:_.children||jsxRuntimeExports.jsx($,{h:"100%",w:"100%"})})}AlertIcon.displayName="AlertIcon";var AlertTitle=forwardRef(function(a,$){const j=useAlertStyles(),{status:et}=useAlertContext();return jsxRuntimeExports.jsx(chakra.div,{ref:$,"data-status":et,...a,className:cx("chakra-alert__title",a.className),__css:j.title})});AlertTitle.displayName="AlertTitle";var Alert=forwardRef(function(a,$){var j;const{status:et="info",addRole:tt=!0,...rt}=omitThemingProps(a),nt=(j=a.colorScheme)!=null?j:getStatusColorScheme(et),it=useMultiStyleConfig("Alert",{...a,colorScheme:nt}),ot={width:"100%",display:"flex",alignItems:"center",position:"relative",overflow:"hidden",...it.container};return jsxRuntimeExports.jsx(AlertProvider,{value:{status:et},children:jsxRuntimeExports.jsx(AlertStylesProvider,{value:it,children:jsxRuntimeExports.jsx(chakra.div,{"data-status":et,role:tt?"alert":void 0,ref:$,...rt,className:cx("chakra-alert",a.className),__css:ot})})})});Alert.displayName="Alert";function CloseIcon(_){return jsxRuntimeExports.jsx(Icon,{focusable:"false","aria-hidden":!0,..._,children:jsxRuntimeExports.jsx("path",{fill:"currentColor",d:"M.439,21.44a1.5,1.5,0,0,0,2.122,2.121L11.823,14.3a.25.25,0,0,1,.354,0l9.262,9.263a1.5,1.5,0,1,0,2.122-2.121L14.3,12.177a.25.25,0,0,1,0-.354l9.263-9.262A1.5,1.5,0,0,0,21.439.44L12.177,9.7a.25.25,0,0,1-.354,0L2.561.44A1.5,1.5,0,0,0,.439,2.561L9.7,11.823a.25.25,0,0,1,0,.354Z"})})}var CloseButton=forwardRef(function(a,$){const j=useStyleConfig("CloseButton",a),{children:et,isDisabled:tt,__css:rt,...nt}=omitThemingProps(a),it={outline:0,display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0};return jsxRuntimeExports.jsx(chakra.button,{type:"button","aria-label":"Close",ref:$,disabled:tt,__css:{...it,...j,...rt},...nt,children:et||jsxRuntimeExports.jsx(CloseIcon,{width:"1em",height:"1em"})})});CloseButton.displayName="CloseButton";var initialState$b={top:[],"top-left":[],"top-right":[],"bottom-left":[],bottom:[],"bottom-right":[]},toastStore=createStore$1(initialState$b);function createStore$1(_){let a=_;const $=new Set,j=et=>{a=et(a),$.forEach(tt=>tt())};return{getState:()=>a,subscribe:et=>($.add(et),()=>{j(()=>_),$.delete(et)}),removeToast:(et,tt)=>{j(rt=>({...rt,[tt]:rt[tt].filter(nt=>nt.id!=et)}))},notify:(et,tt)=>{const rt=createToast(et,tt),{position:nt,id:it}=rt;return j(ot=>{var st,ct;const ht=nt.includes("top")?[rt,...(st=ot[nt])!=null?st:[]]:[...(ct=ot[nt])!=null?ct:[],rt];return{...ot,[nt]:ht}}),it},update:(et,tt)=>{et&&j(rt=>{const nt={...rt},{position:it,index:ot}=findToast(nt,et);return it&&ot!==-1&&(nt[it][ot]={...nt[it][ot],...tt,message:createRenderToast(tt)}),nt})},closeAll:({positions:et}={})=>{j(tt=>(et??["bottom","bottom-right","bottom-left","top","top-left","top-right"]).reduce((it,ot)=>(it[ot]=tt[ot].map(st=>({...st,requestClose:!0})),it),{...tt}))},close:et=>{j(tt=>{const rt=getToastPosition(tt,et);return rt?{...tt,[rt]:tt[rt].map(nt=>nt.id==et?{...nt,requestClose:!0}:nt)}:tt})},isActive:et=>!!findToast(toastStore.getState(),et).position}}var counter=0;function createToast(_,a={}){var $,j;counter+=1;const et=($=a.id)!=null?$:counter,tt=(j=a.position)!=null?j:"bottom";return{id:et,message:_,position:tt,duration:a.duration,onCloseComplete:a.onCloseComplete,onRequestRemove:()=>toastStore.removeToast(String(et),tt),status:a.status,requestClose:!1,containerStyle:a.containerStyle}}var Toast=_=>{const{status:a,variant:$="solid",id:j,title:et,isClosable:tt,onClose:rt,description:nt,colorScheme:it,icon:ot}=_,st=j?{root:`toast-${j}`,title:`toast-${j}-title`,description:`toast-${j}-description`}:void 0;return jsxRuntimeExports.jsxs(Alert,{addRole:!1,status:a,variant:$,id:st==null?void 0:st.root,alignItems:"start",borderRadius:"md",boxShadow:"lg",paddingEnd:8,textAlign:"start",width:"auto",colorScheme:it,children:[jsxRuntimeExports.jsx(AlertIcon,{children:ot}),jsxRuntimeExports.jsxs(chakra.div,{flex:"1",maxWidth:"100%",children:[et&&jsxRuntimeExports.jsx(AlertTitle,{id:st==null?void 0:st.title,children:et}),nt&&jsxRuntimeExports.jsx(AlertDescription,{id:st==null?void 0:st.description,display:"block",children:nt})]}),tt&&jsxRuntimeExports.jsx(CloseButton,{size:"sm",onClick:rt,position:"absolute",insetEnd:1,top:1})]})};function createRenderToast(_={}){const{render:a,toastComponent:$=Toast}=_;return et=>typeof a=="function"?a({...et,..._}):jsxRuntimeExports.jsx($,{...et,..._})}function createToastFn(_,a){const $=et=>{var tt;return{...a,...et,position:getToastPlacement((tt=et==null?void 0:et.position)!=null?tt:a==null?void 0:a.position,_)}},j=et=>{const tt=$(et),rt=createRenderToast(tt);return toastStore.notify(rt,tt)};return j.update=(et,tt)=>{toastStore.update(et,$(tt))},j.promise=(et,tt)=>{const rt=j({...tt.loading,status:"loading",duration:null});et.then(nt=>j.update(rt,{status:"success",duration:5e3,...runIfFn$2(tt.success,nt)})).catch(nt=>j.update(rt,{status:"error",duration:5e3,...runIfFn$2(tt.error,nt)}))},j.closeAll=toastStore.closeAll,j.close=toastStore.close,j.isActive=toastStore.isActive,j}var[ToastOptionProvider,useToastOptionContext]=createContext$1({name:"ToastOptionsContext",strict:!1}),ToastProvider=_=>{const a=reactExports.useSyncExternalStore(toastStore.subscribe,toastStore.getState,toastStore.getState),{motionVariants:$,component:j=ToastComponent,portalProps:et}=_,rt=Object.keys(a).map(nt=>{const it=a[nt];return jsxRuntimeExports.jsx("div",{role:"region","aria-live":"polite","aria-label":`Notifications-${nt}`,id:`chakra-toast-manager-${nt}`,style:getToastListStyle(nt),children:jsxRuntimeExports.jsx(AnimatePresence,{initial:!1,children:it.map(ot=>jsxRuntimeExports.jsx(j,{motionVariants:$,...ot},ot.id))})},nt)});return jsxRuntimeExports.jsx(Portal,{...et,children:rt})};function useToast(_){const{theme:a}=useChakra(),$=useToastOptionContext();return reactExports.useMemo(()=>createToastFn(a.direction,{...$,..._}),[_,a.direction,$])}var createChakraProvider=_=>function({children:$,theme:j=_,toastOptions:et,...tt}){return jsxRuntimeExports.jsxs(ChakraProvider$1,{theme:j,...tt,children:[jsxRuntimeExports.jsx(ToastOptionProvider,{value:et==null?void 0:et.defaultOptions,children:$}),jsxRuntimeExports.jsx(ToastProvider,{...et})]})},ChakraProvider=createChakraProvider(theme$1),__defProp$8=Object.defineProperty,__defNormalProp$3=(_,a,$)=>a in _?__defProp$8(_,a,{enumerable:!0,configurable:!0,writable:!0,value:$}):_[a]=$,__publicField$3=(_,a,$)=>(__defNormalProp$3(_,typeof a!="symbol"?a+"":a,$),$);function sortNodes(_){return _.sort((a,$)=>{const j=a.compareDocumentPosition($);if(j&Node.DOCUMENT_POSITION_FOLLOWING||j&Node.DOCUMENT_POSITION_CONTAINED_BY)return-1;if(j&Node.DOCUMENT_POSITION_PRECEDING||j&Node.DOCUMENT_POSITION_CONTAINS)return 1;if(j&Node.DOCUMENT_POSITION_DISCONNECTED||j&Node.DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC)throw Error("Cannot sort the given nodes.");return 0})}var isElement$3=_=>typeof _=="object"&&"nodeType"in _&&_.nodeType===Node.ELEMENT_NODE;function getNextIndex(_,a,$){let j=_+1;return $&&j>=a&&(j=0),j}function getPrevIndex(_,a,$){let j=_-1;return $&&j<0&&(j=a),j}var useSafeLayoutEffect$1=typeof window<"u"?reactExports.useLayoutEffect:reactExports.useEffect,cast=_=>_,DescendantsManager=class{constructor(){__publicField$3(this,"descendants",new Map),__publicField$3(this,"register",_=>{if(_!=null)return isElement$3(_)?this.registerNode(_):a=>{this.registerNode(a,_)}}),__publicField$3(this,"unregister",_=>{this.descendants.delete(_);const a=sortNodes(Array.from(this.descendants.keys()));this.assignIndex(a)}),__publicField$3(this,"destroy",()=>{this.descendants.clear()}),__publicField$3(this,"assignIndex",_=>{this.descendants.forEach(a=>{const $=_.indexOf(a.node);a.index=$,a.node.dataset.index=a.index.toString()})}),__publicField$3(this,"count",()=>this.descendants.size),__publicField$3(this,"enabledCount",()=>this.enabledValues().length),__publicField$3(this,"values",()=>Array.from(this.descendants.values()).sort((a,$)=>a.index-$.index)),__publicField$3(this,"enabledValues",()=>this.values().filter(_=>!_.disabled)),__publicField$3(this,"item",_=>{if(this.count()!==0)return this.values()[_]}),__publicField$3(this,"enabledItem",_=>{if(this.enabledCount()!==0)return this.enabledValues()[_]}),__publicField$3(this,"first",()=>this.item(0)),__publicField$3(this,"firstEnabled",()=>this.enabledItem(0)),__publicField$3(this,"last",()=>this.item(this.descendants.size-1)),__publicField$3(this,"lastEnabled",()=>{const _=this.enabledValues().length-1;return this.enabledItem(_)}),__publicField$3(this,"indexOf",_=>{var a,$;return _&&($=(a=this.descendants.get(_))==null?void 0:a.index)!=null?$:-1}),__publicField$3(this,"enabledIndexOf",_=>_==null?-1:this.enabledValues().findIndex(a=>a.node.isSameNode(_))),__publicField$3(this,"next",(_,a=!0)=>{const $=getNextIndex(_,this.count(),a);return this.item($)}),__publicField$3(this,"nextEnabled",(_,a=!0)=>{const $=this.item(_);if(!$)return;const j=this.enabledIndexOf($.node),et=getNextIndex(j,this.enabledCount(),a);return this.enabledItem(et)}),__publicField$3(this,"prev",(_,a=!0)=>{const $=getPrevIndex(_,this.count()-1,a);return this.item($)}),__publicField$3(this,"prevEnabled",(_,a=!0)=>{const $=this.item(_);if(!$)return;const j=this.enabledIndexOf($.node),et=getPrevIndex(j,this.enabledCount()-1,a);return this.enabledItem(et)}),__publicField$3(this,"registerNode",(_,a)=>{if(!_||this.descendants.has(_))return;const $=Array.from(this.descendants.keys()).concat(_),j=sortNodes($);a!=null&&a.disabled&&(a.disabled=!!a.disabled);const et={node:_,index:-1,...a};this.descendants.set(_,et),this.assignIndex(j)})}};function assignRef$1(_,a){if(_!=null){if(typeof _=="function"){_(a);return}try{_.current=a}catch{throw new Error(`Cannot assign value '${a}' to ref '${_}'`)}}}function mergeRefs(..._){return a=>{_.forEach($=>{assignRef$1($,a)})}}function useMergeRefs$1(..._){return reactExports.useMemo(()=>mergeRefs(..._),_)}function useDescendants(){const _=reactExports.useRef(new DescendantsManager);return useSafeLayoutEffect$1(()=>()=>_.current.destroy()),_.current}var[DescendantsContextProvider,useDescendantsContext]=createContext$1({name:"DescendantsProvider",errorMessage:"useDescendantsContext must be used within DescendantsProvider"});function useDescendant(_){const a=useDescendantsContext(),[$,j]=reactExports.useState(-1),et=reactExports.useRef(null);useSafeLayoutEffect$1(()=>()=>{et.current&&a.unregister(et.current)},[]),useSafeLayoutEffect$1(()=>{if(!et.current)return;const rt=Number(et.current.dataset.index);$!=rt&&!Number.isNaN(rt)&&j(rt)});const tt=cast(_?a.register(_):a.register);return{descendants:a,index:$,enabledIndex:a.enabledIndexOf(et.current),register:mergeRefs(tt,et)}}function createDescendantContext(){return[cast(DescendantsContextProvider),()=>cast(useDescendantsContext()),()=>useDescendants(),et=>useDescendant(et)]}var[AccordionStylesProvider,useAccordionStyles]=createContext$1({name:"AccordionStylesContext",hookName:"useAccordionStyles",providerName:"<Accordion />"}),[AccordionItemProvider,useAccordionItemContext]=createContext$1({name:"AccordionItemContext",hookName:"useAccordionItemContext",providerName:"<AccordionItem />"}),[AccordionDescendantsProvider,useAccordionDescendantsContext,useAccordionDescendants,useAccordionDescendant]=createDescendantContext(),AccordionButton=forwardRef(function(a,$){const{getButtonProps:j}=useAccordionItemContext(),et=j(a,$),rt={display:"flex",alignItems:"center",width:"100%",outline:0,...useAccordionStyles().button};return jsxRuntimeExports.jsx(chakra.button,{...et,className:cx("chakra-accordion__button",a.className),__css:rt})});AccordionButton.displayName="AccordionButton";function useControllableState(_){const{value:a,defaultValue:$,onChange:j,shouldUpdate:et=(ut,ht)=>ut!==ht}=_,tt=useCallbackRef$2(j),rt=useCallbackRef$2(et),[nt,it]=reactExports.useState($),ot=a!==void 0,st=ot?a:nt,ct=useCallbackRef$2(ut=>{const Et=typeof ut=="function"?ut(st):ut;rt(st,Et)&&(ot||it(Et),tt(Et))},[ot,tt,st,rt]);return[st,ct]}function useAccordion(_){const{onChange:a,defaultIndex:$,index:j,allowMultiple:et,allowToggle:tt,...rt}=_;allowMultipleWarning(_),allowMultipleAndAllowToggleWarning(_);const nt=useAccordionDescendants(),[it,ot]=reactExports.useState(-1);reactExports.useEffect(()=>()=>{ot(-1)},[]);const[st,ct]=useControllableState({value:j,defaultValue(){return et?$??[]:$??-1},onChange:a});return{index:st,setIndex:ct,htmlProps:rt,getAccordionItemProps:ht=>{let Et=!1;return ht!==null&&(Et=Array.isArray(st)?st.includes(ht):st===ht),{isOpen:Et,onChange:Mt=>{if(ht!==null)if(et&&Array.isArray(st)){const kt=Mt?st.concat(ht):st.filter(Ct=>Ct!==ht);ct(kt)}else Mt?ct(ht):tt&&ct(-1)}}},focusedIndex:it,setFocusedIndex:ot,descendants:nt}}var[AccordionProvider,useAccordionContext]=createContext$1({name:"AccordionContext",hookName:"useAccordionContext",providerName:"Accordion"});function useAccordionItem(_){const{isDisabled:a,isFocusable:$,id:j,...et}=_,{getAccordionItemProps:tt,setFocusedIndex:rt}=useAccordionContext(),nt=reactExports.useRef(null),it=reactExports.useId(),ot=j??it,st=`accordion-button-${ot}`,ct=`accordion-panel-${ot}`;focusableNotDisabledWarning(_);const{register:ut,index:ht,descendants:Et}=useAccordionDescendant({disabled:a&&!$}),{isOpen:St,onChange:Mt}=tt(ht===-1?null:ht);warnIfOpenAndDisabled({isOpen:St,isDisabled:a});const kt=()=>{Mt==null||Mt(!0)},Ct=()=>{Mt==null||Mt(!1)},Ot=reactExports.useCallback(()=>{Mt==null||Mt(!St),rt(ht)},[ht,rt,St,Mt]),zt=reactExports.useCallback($t=>{const Nt={ArrowDown:()=>{const Lt=Et.nextEnabled(ht);Lt==null||Lt.node.focus()},ArrowUp:()=>{const Lt=Et.prevEnabled(ht);Lt==null||Lt.node.focus()},Home:()=>{const Lt=Et.firstEnabled();Lt==null||Lt.node.focus()},End:()=>{const Lt=Et.lastEnabled();Lt==null||Lt.node.focus()}}[$t.key];Nt&&($t.preventDefault(),Nt($t))},[Et,ht]),Ut=reactExports.useCallback(()=>{rt(ht)},[rt,ht]),Vt=reactExports.useCallback(function(Bt={},Nt=null){return{...Bt,type:"button",ref:mergeRefs(ut,nt,Nt),id:st,disabled:!!a,"aria-expanded":!!St,"aria-controls":ct,onClick:callAllHandlers$1(Bt.onClick,Ot),onFocus:callAllHandlers$1(Bt.onFocus,Ut),onKeyDown:callAllHandlers$1(Bt.onKeyDown,zt)}},[st,a,St,Ot,Ut,zt,ct,ut]),jt=reactExports.useCallback(function(Bt={},Nt=null){return{...Bt,ref:Nt,role:"region",id:ct,"aria-labelledby":st,hidden:!St}},[st,St,ct]);return{isOpen:St,isDisabled:a,isFocusable:$,onOpen:kt,onClose:Ct,getButtonProps:Vt,getPanelProps:jt,htmlProps:et}}function allowMultipleWarning(_){const a=_.index||_.defaultIndex,$=a!=null&&!Array.isArray(a)&&_.allowMultiple;warn({condition:!!$,message:`If 'allowMultiple' is passed, then 'index' or 'defaultIndex' must be an array. You passed: ${typeof a},`})}function allowMultipleAndAllowToggleWarning(_){warn({condition:!!(_.allowMultiple&&_.allowToggle),message:"If 'allowMultiple' is passed, 'allowToggle' will be ignored. Either remove 'allowToggle' or 'allowMultiple' depending on whether you want multiple accordions visible or not"})}function focusableNotDisabledWarning(_){warn({condition:!!(_.isFocusable&&!_.isDisabled),message:`Using only 'isFocusable', this prop is reserved for situations where you pass 'isDisabled' but you still want the element to receive focus (A11y). Either remove it or pass 'isDisabled' as well.
    `})}function warnIfOpenAndDisabled(_){warn({condition:_.isOpen&&!!_.isDisabled,message:"Cannot open a disabled accordion item"})}function AccordionIcon(_){const{isOpen:a,isDisabled:$}=useAccordionItemContext(),{reduceMotion:j}=useAccordionContext(),et=cx("chakra-accordion__icon",_.className),tt=useAccordionStyles(),rt={opacity:$?.4:1,transform:a?"rotate(-180deg)":void 0,transition:j?void 0:"transform 0.2s",transformOrigin:"center",...tt.icon};return jsxRuntimeExports.jsx(Icon,{viewBox:"0 0 24 24","aria-hidden":!0,className:et,__css:rt,..._,children:jsxRuntimeExports.jsx("path",{fill:"currentColor",d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"})})}AccordionIcon.displayName="AccordionIcon";var AccordionItem=forwardRef(function(a,$){const{children:j,className:et}=a,{htmlProps:tt,...rt}=useAccordionItem(a),it={...useAccordionStyles().container,overflowAnchor:"none"},ot=reactExports.useMemo(()=>rt,[rt]);return jsxRuntimeExports.jsx(AccordionItemProvider,{value:ot,children:jsxRuntimeExports.jsx(chakra.div,{ref:$,...tt,className:cx("chakra-accordion__item",et),__css:it,children:typeof j=="function"?j({isExpanded:!!rt.isOpen,isDisabled:!!rt.isDisabled}):j})})});AccordionItem.displayName="AccordionItem";var TRANSITION_EASINGS={ease:[.25,.1,.25,1],easeIn:[.4,0,1,1],easeOut:[0,0,.2,1],easeInOut:[.4,0,.2,1]},TRANSITION_VARIANTS={scale:{enter:{scale:1},exit:{scale:.95}},fade:{enter:{opacity:1},exit:{opacity:0}},pushLeft:{enter:{x:"100%"},exit:{x:"-30%"}},pushRight:{enter:{x:"-100%"},exit:{x:"30%"}},pushUp:{enter:{y:"100%"},exit:{y:"-30%"}},pushDown:{enter:{y:"-100%"},exit:{y:"30%"}},slideLeft:{position:{left:0,top:0,bottom:0,width:"100%"},enter:{x:0,y:0},exit:{x:"-100%",y:0}},slideRight:{position:{right:0,top:0,bottom:0,width:"100%"},enter:{x:0,y:0},exit:{x:"100%",y:0}},slideUp:{position:{top:0,left:0,right:0,maxWidth:"100vw"},enter:{x:0,y:0},exit:{x:0,y:"-100%"}},slideDown:{position:{bottom:0,left:0,right:0,maxWidth:"100vw"},enter:{x:0,y:0},exit:{x:0,y:"100%"}}};function getSlideTransition(_){var a;switch((a=_==null?void 0:_.direction)!=null?a:"right"){case"right":return TRANSITION_VARIANTS.slideRight;case"left":return TRANSITION_VARIANTS.slideLeft;case"bottom":return TRANSITION_VARIANTS.slideDown;case"top":return TRANSITION_VARIANTS.slideUp;default:return TRANSITION_VARIANTS.slideRight}}var TRANSITION_DEFAULTS={enter:{duration:.2,ease:TRANSITION_EASINGS.easeOut},exit:{duration:.1,ease:TRANSITION_EASINGS.easeIn}},withDelay={enter:(_,a)=>({..._,delay:typeof a=="number"?a:a==null?void 0:a.enter}),exit:(_,a)=>({..._,delay:typeof a=="number"?a:a==null?void 0:a.exit})},isNumeric$1=_=>_!=null&&parseInt(_.toString(),10)>0,defaultTransitions={exit:{height:{duration:.2,ease:TRANSITION_EASINGS.ease},opacity:{duration:.3,ease:TRANSITION_EASINGS.ease}},enter:{height:{duration:.3,ease:TRANSITION_EASINGS.ease},opacity:{duration:.4,ease:TRANSITION_EASINGS.ease}}},variants$4={exit:({animateOpacity:_,startingHeight:a,transition:$,transitionEnd:j,delay:et})=>{var tt;return{..._&&{opacity:isNumeric$1(a)?1:0},height:a,transitionEnd:j==null?void 0:j.exit,transition:(tt=$==null?void 0:$.exit)!=null?tt:withDelay.exit(defaultTransitions.exit,et)}},enter:({animateOpacity:_,endingHeight:a,transition:$,transitionEnd:j,delay:et})=>{var tt;return{..._&&{opacity:1},height:a,transitionEnd:j==null?void 0:j.enter,transition:(tt=$==null?void 0:$.enter)!=null?tt:withDelay.enter(defaultTransitions.enter,et)}}},Collapse=reactExports.forwardRef((_,a)=>{const{in:$,unmountOnExit:j,animateOpacity:et=!0,startingHeight:tt=0,endingHeight:rt="auto",style:nt,className:it,transition:ot,transitionEnd:st,...ct}=_,[ut,ht]=reactExports.useState(!1);reactExports.useEffect(()=>{const Ct=setTimeout(()=>{ht(!0)});return()=>clearTimeout(Ct)},[]),warn({condition:Number(tt)>0&&!!j,message:"startingHeight and unmountOnExit are mutually exclusive. You can't use them together"});const Et=parseFloat(tt.toString())>0,St={startingHeight:tt,endingHeight:rt,animateOpacity:et,transition:ut?ot:{enter:{duration:0}},transitionEnd:{enter:st==null?void 0:st.enter,exit:j?st==null?void 0:st.exit:{...st==null?void 0:st.exit,display:Et?"block":"none"}}},Mt=j?$:!0,kt=$||j?"enter":"exit";return jsxRuntimeExports.jsx(AnimatePresence,{initial:!1,custom:St,children:Mt&&jsxRuntimeExports.jsx(motion.div,{ref:a,...ct,className:cx("chakra-collapse",it),style:{overflow:"hidden",display:"block",...nt},custom:St,variants:variants$4,initial:j?"exit":!1,animate:kt,exit:"exit"})})});Collapse.displayName="Collapse";var variants$3={enter:({transition:_,transitionEnd:a,delay:$}={})=>{var j;return{opacity:1,transition:(j=_==null?void 0:_.enter)!=null?j:withDelay.enter(TRANSITION_DEFAULTS.enter,$),transitionEnd:a==null?void 0:a.enter}},exit:({transition:_,transitionEnd:a,delay:$}={})=>{var j;return{opacity:0,transition:(j=_==null?void 0:_.exit)!=null?j:withDelay.exit(TRANSITION_DEFAULTS.exit,$),transitionEnd:a==null?void 0:a.exit}}},fadeConfig={initial:"exit",animate:"enter",exit:"exit",variants:variants$3},Fade=reactExports.forwardRef(function(a,$){const{unmountOnExit:j,in:et,className:tt,transition:rt,transitionEnd:nt,delay:it,...ot}=a,st=et||j?"enter":"exit",ct=j?et&&j:!0,ut={transition:rt,transitionEnd:nt,delay:it};return jsxRuntimeExports.jsx(AnimatePresence,{custom:ut,children:ct&&jsxRuntimeExports.jsx(motion.div,{ref:$,className:cx("chakra-fade",tt),custom:ut,...fadeConfig,animate:st,...ot})})});Fade.displayName="Fade";var variants$2={exit:({reverse:_,initialScale:a,transition:$,transitionEnd:j,delay:et})=>{var tt;return{opacity:0,..._?{scale:a,transitionEnd:j==null?void 0:j.exit}:{transitionEnd:{scale:a,...j==null?void 0:j.exit}},transition:(tt=$==null?void 0:$.exit)!=null?tt:withDelay.exit(TRANSITION_DEFAULTS.exit,et)}},enter:({transitionEnd:_,transition:a,delay:$})=>{var j;return{opacity:1,scale:1,transition:(j=a==null?void 0:a.enter)!=null?j:withDelay.enter(TRANSITION_DEFAULTS.enter,$),transitionEnd:_==null?void 0:_.enter}}},scaleFadeConfig={initial:"exit",animate:"enter",exit:"exit",variants:variants$2},ScaleFade=reactExports.forwardRef(function(a,$){const{unmountOnExit:j,in:et,reverse:tt=!0,initialScale:rt=.95,className:nt,transition:it,transitionEnd:ot,delay:st,...ct}=a,ut=j?et&&j:!0,ht=et||j?"enter":"exit",Et={initialScale:rt,reverse:tt,transition:it,transitionEnd:ot,delay:st};return jsxRuntimeExports.jsx(AnimatePresence,{custom:Et,children:ut&&jsxRuntimeExports.jsx(motion.div,{ref:$,className:cx("chakra-offset-slide",nt),...scaleFadeConfig,animate:ht,custom:Et,...ct})})});ScaleFade.displayName="ScaleFade";var variants$1={initial:({offsetX:_,offsetY:a,transition:$,transitionEnd:j,delay:et})=>{var tt;return{opacity:0,x:_,y:a,transition:(tt=$==null?void 0:$.exit)!=null?tt:withDelay.exit(TRANSITION_DEFAULTS.exit,et),transitionEnd:j==null?void 0:j.exit}},enter:({transition:_,transitionEnd:a,delay:$})=>{var j;return{opacity:1,x:0,y:0,transition:(j=_==null?void 0:_.enter)!=null?j:withDelay.enter(TRANSITION_DEFAULTS.enter,$),transitionEnd:a==null?void 0:a.enter}},exit:({offsetY:_,offsetX:a,transition:$,transitionEnd:j,reverse:et,delay:tt})=>{var rt;const nt={x:a,y:_};return{opacity:0,transition:(rt=$==null?void 0:$.exit)!=null?rt:withDelay.exit(TRANSITION_DEFAULTS.exit,tt),...et?{...nt,transitionEnd:j==null?void 0:j.exit}:{transitionEnd:{...nt,...j==null?void 0:j.exit}}}}},slideFadeConfig={initial:"initial",animate:"enter",exit:"exit",variants:variants$1},SlideFade=reactExports.forwardRef(function(a,$){const{unmountOnExit:j,in:et,reverse:tt=!0,className:rt,offsetX:nt=0,offsetY:it=8,transition:ot,transitionEnd:st,delay:ct,...ut}=a,ht=j?et&&j:!0,Et=et||j?"enter":"exit",St={offsetX:nt,offsetY:it,reverse:tt,transition:ot,transitionEnd:st,delay:ct};return jsxRuntimeExports.jsx(AnimatePresence,{custom:St,children:ht&&jsxRuntimeExports.jsx(motion.div,{ref:$,className:cx("chakra-offset-slide",rt),custom:St,...slideFadeConfig,animate:Et,...ut})})});SlideFade.displayName="SlideFade";var defaultTransition={exit:{duration:.15,ease:TRANSITION_EASINGS.easeInOut},enter:{type:"spring",damping:25,stiffness:180}},variants={exit:({direction:_,transition:a,transitionEnd:$,delay:j})=>{var et;const{exit:tt}=getSlideTransition({direction:_});return{...tt,transition:(et=a==null?void 0:a.exit)!=null?et:withDelay.exit(defaultTransition.exit,j),transitionEnd:$==null?void 0:$.exit}},enter:({direction:_,transitionEnd:a,transition:$,delay:j})=>{var et;const{enter:tt}=getSlideTransition({direction:_});return{...tt,transition:(et=$==null?void 0:$.enter)!=null?et:withDelay.enter(defaultTransition.enter,j),transitionEnd:a==null?void 0:a.enter}}},Slide=reactExports.forwardRef(function(a,$){const{direction:j="right",style:et,unmountOnExit:tt,in:rt,className:nt,transition:it,transitionEnd:ot,delay:st,motionProps:ct,...ut}=a,ht=getSlideTransition({direction:j}),Et=Object.assign({position:"fixed"},ht.position,et),St=tt?rt&&tt:!0,Mt=rt||tt?"enter":"exit",kt={transitionEnd:ot,transition:it,direction:j,delay:st};return jsxRuntimeExports.jsx(AnimatePresence,{custom:kt,children:St&&jsxRuntimeExports.jsx(motion.div,{...ut,ref:$,initial:"exit",className:cx("chakra-slide",nt),animate:Mt,exit:"exit",custom:kt,variants,style:Et,...ct})})});Slide.displayName="Slide";var AccordionPanel=forwardRef(function(a,$){const{className:j,motionProps:et,...tt}=a,{reduceMotion:rt}=useAccordionContext(),{getPanelProps:nt,isOpen:it}=useAccordionItemContext(),ot=nt(tt,$),st=cx("chakra-accordion__panel",j),ct=useAccordionStyles();rt||delete ot.hidden;const ut=jsxRuntimeExports.jsx(chakra.div,{...ot,__css:ct.panel,className:st});return rt?ut:jsxRuntimeExports.jsx(Collapse,{in:it,...et,children:ut})});AccordionPanel.displayName="AccordionPanel";var Accordion=forwardRef(function({children:a,reduceMotion:$,...j},et){const tt=useMultiStyleConfig("Accordion",j),rt=omitThemingProps(j),{htmlProps:nt,descendants:it,...ot}=useAccordion(rt),st=reactExports.useMemo(()=>({...ot,reduceMotion:!!$}),[ot,$]);return jsxRuntimeExports.jsx(AccordionDescendantsProvider,{value:it,children:jsxRuntimeExports.jsx(AccordionProvider,{value:st,children:jsxRuntimeExports.jsx(AccordionStylesProvider,{value:tt,children:jsxRuntimeExports.jsx(chakra.div,{ref:et,...nt,className:cx("chakra-accordion",j.className),__css:tt.root,children:a})})})})});Accordion.displayName="Accordion";var NativeImage=forwardRef(function(a,$){const{htmlWidth:j,htmlHeight:et,alt:tt,...rt}=a;return jsxRuntimeExports.jsx("img",{width:j,height:et,ref:$,alt:tt,...rt})});NativeImage.displayName="NativeImage";function useImage(_){const{loading:a,src:$,srcSet:j,onLoad:et,onError:tt,crossOrigin:rt,sizes:nt,ignoreFallback:it}=_,[ot,st]=reactExports.useState("pending");reactExports.useEffect(()=>{st($?"loading":"pending")},[$]);const ct=reactExports.useRef(),ut=reactExports.useCallback(()=>{if(!$)return;ht();const Et=new Image;Et.src=$,rt&&(Et.crossOrigin=rt),j&&(Et.srcset=j),nt&&(Et.sizes=nt),a&&(Et.loading=a),Et.onload=St=>{ht(),st("loaded"),et==null||et(St)},Et.onerror=St=>{ht(),st("failed"),tt==null||tt(St)},ct.current=Et},[$,rt,j,nt,et,tt,a]),ht=()=>{ct.current&&(ct.current.onload=null,ct.current.onerror=null,ct.current=null)};return useSafeLayoutEffect$2(()=>{if(!it)return ot==="loading"&&ut(),()=>{ht()}},[ot,ut,it]),it?"loaded":ot}var shouldShowFallbackImage=(_,a)=>_!=="loaded"&&a==="beforeLoadOrError"||_==="failed"&&a==="onError";function omit$4(_,a=[]){const $=Object.assign({},_);for(const j of a)j in $&&delete $[j];return $}var Image$1=forwardRef(function(a,$){const{fallbackSrc:j,fallback:et,src:tt,srcSet:rt,align:nt,fit:it,loading:ot,ignoreFallback:st,crossOrigin:ct,fallbackStrategy:ut="beforeLoadOrError",referrerPolicy:ht,...Et}=a,St=j!==void 0||et!==void 0,Mt=ot!=null||st||!St,kt=useImage({...a,crossOrigin:ct,ignoreFallback:Mt}),Ct=shouldShowFallbackImage(kt,ut),Ot={ref:$,objectFit:it,objectPosition:nt,...Mt?Et:omit$4(Et,["onError","onLoad"])};return Ct?et||jsxRuntimeExports.jsx(chakra.img,{as:NativeImage,className:"chakra-image__placeholder",src:j,...Ot}):jsxRuntimeExports.jsx(chakra.img,{as:NativeImage,src:tt,srcSet:rt,crossOrigin:ct,loading:ot,referrerPolicy:ht,className:"chakra-image",...Ot})});Image$1.displayName="Image";function getValidChildren(_){return reactExports.Children.toArray(_).filter(a=>reactExports.isValidElement(a))}var[ButtonGroupProvider,useButtonGroup]=createContext$1({strict:!1,name:"ButtonGroupContext"});function useButtonType(_){const[a,$]=reactExports.useState(!_);return{ref:reactExports.useCallback(tt=>{tt&&$(tt.tagName==="BUTTON")},[]),type:a?"button":void 0}}function ButtonIcon(_){const{children:a,className:$,...j}=_,et=reactExports.isValidElement(a)?reactExports.cloneElement(a,{"aria-hidden":!0,focusable:!1}):a,tt=cx("chakra-button__icon",$);return jsxRuntimeExports.jsx(chakra.span,{display:"inline-flex",alignSelf:"center",flexShrink:0,...j,className:tt,children:et})}ButtonIcon.displayName="ButtonIcon";function ButtonSpinner(_){const{label:a,placement:$,spacing:j="0.5rem",children:et=jsxRuntimeExports.jsx(Spinner,{color:"currentColor",width:"1em",height:"1em"}),className:tt,__css:rt,...nt}=_,it=cx("chakra-button__spinner",tt),ot=$==="start"?"marginEnd":"marginStart",st=reactExports.useMemo(()=>({display:"flex",alignItems:"center",position:a?"relative":"absolute",[ot]:a?j:0,fontSize:"1em",lineHeight:"normal",...rt}),[rt,a,ot,j]);return jsxRuntimeExports.jsx(chakra.div,{className:it,...nt,__css:st,children:et})}ButtonSpinner.displayName="ButtonSpinner";var Button=forwardRef((_,a)=>{const $=useButtonGroup(),j=useStyleConfig("Button",{...$,..._}),{isDisabled:et=$==null?void 0:$.isDisabled,isLoading:tt,isActive:rt,children:nt,leftIcon:it,rightIcon:ot,loadingText:st,iconSpacing:ct="0.5rem",type:ut,spinner:ht,spinnerPlacement:Et="start",className:St,as:Mt,...kt}=omitThemingProps(_),Ct=reactExports.useMemo(()=>{const Vt={...j==null?void 0:j._focus,zIndex:1};return{display:"inline-flex",appearance:"none",alignItems:"center",justifyContent:"center",userSelect:"none",position:"relative",whiteSpace:"nowrap",verticalAlign:"middle",outline:"none",...j,...!!$&&{_focus:Vt}}},[j,$]),{ref:Ot,type:zt}=useButtonType(Mt),Ut={rightIcon:ot,leftIcon:it,iconSpacing:ct,children:nt};return jsxRuntimeExports.jsxs(chakra.button,{ref:useMergeRefs$1(a,Ot),as:Mt,type:ut??zt,"data-active":dataAttr(rt),"data-loading":dataAttr(tt),__css:Ct,className:cx("chakra-button",St),...kt,disabled:et||tt,children:[tt&&Et==="start"&&jsxRuntimeExports.jsx(ButtonSpinner,{className:"chakra-button__spinner--start",label:st,placement:"start",spacing:ct,children:ht}),tt?st||jsxRuntimeExports.jsx(chakra.span,{opacity:0,children:jsxRuntimeExports.jsx(ButtonContent,{...Ut})}):jsxRuntimeExports.jsx(ButtonContent,{...Ut}),tt&&Et==="end"&&jsxRuntimeExports.jsx(ButtonSpinner,{className:"chakra-button__spinner--end",label:st,placement:"end",spacing:ct,children:ht})]})});Button.displayName="Button";function ButtonContent(_){const{leftIcon:a,rightIcon:$,children:j,iconSpacing:et}=_;return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[a&&jsxRuntimeExports.jsx(ButtonIcon,{marginEnd:et,children:a}),j,$&&jsxRuntimeExports.jsx(ButtonIcon,{marginStart:et,children:$})]})}var IconButton=forwardRef((_,a)=>{const{icon:$,children:j,isRound:et,"aria-label":tt,...rt}=_,nt=$||j,it=reactExports.isValidElement(nt)?reactExports.cloneElement(nt,{"aria-hidden":!0,focusable:!1}):null;return jsxRuntimeExports.jsx(Button,{padding:"0",borderRadius:et?"full":void 0,ref:a,"aria-label":tt,...rt,children:it})});IconButton.displayName="IconButton";var[CardStylesProvider,useCardStyles]=createStylesContext("Card"),CardBody=forwardRef(function(a,$){const{className:j,...et}=a,tt=useCardStyles();return jsxRuntimeExports.jsx(chakra.div,{ref:$,className:cx("chakra-card__body",j),__css:tt.body,...et})}),Card=forwardRef(function(a,$){const{className:j,children:et,direction:tt="column",justify:rt,align:nt,...it}=omitThemingProps(a),ot=useMultiStyleConfig("Card",a);return jsxRuntimeExports.jsx(chakra.div,{ref:$,className:cx("chakra-card",j),__css:{display:"flex",flexDirection:tt,justifyContent:rt,alignItems:nt,position:"relative",minWidth:0,wordWrap:"break-word",...ot.container},...it,children:jsxRuntimeExports.jsx(CardStylesProvider,{value:ot,children:et})})}),[CheckboxGroupProvider,useCheckboxGroupContext]=createContext$1({name:"CheckboxGroupContext",strict:!1});function useInitialAnimationState(_){const[a,$]=reactExports.useState(_),[j,et]=reactExports.useState(!1);return _!==a&&(et(!0),$(_)),j}function CheckIcon$2(_){return jsxRuntimeExports.jsx(chakra.svg,{width:"1.2em",viewBox:"0 0 12 10",style:{fill:"none",strokeWidth:2,stroke:"currentColor",strokeDasharray:16},..._,children:jsxRuntimeExports.jsx("polyline",{points:"1.5 6 4.5 9 10.5 1"})})}function IndeterminateIcon(_){return jsxRuntimeExports.jsx(chakra.svg,{width:"1.2em",viewBox:"0 0 24 24",style:{stroke:"currentColor",strokeWidth:4},..._,children:jsxRuntimeExports.jsx("line",{x1:"21",x2:"3",y1:"12",y2:"12"})})}function CheckboxIcon(_){const{isIndeterminate:a,isChecked:$,...j}=_,et=a?IndeterminateIcon:CheckIcon$2;return $||a?jsxRuntimeExports.jsx(chakra.div,{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%"},children:jsxRuntimeExports.jsx(et,{...j})}):null}var[FormControlStylesProvider,useFormControlStyles]=createContext$1({name:"FormControlStylesContext",errorMessage:`useFormControlStyles returned is 'undefined'. Seems you forgot to wrap the components in "<FormControl />" `}),[FormControlProvider,useFormControlContext]=createContext$1({strict:!1,name:"FormControlContext"});function useFormControlProvider(_){const{id:a,isRequired:$,isInvalid:j,isDisabled:et,isReadOnly:tt,...rt}=_,nt=reactExports.useId(),it=a||`field-${nt}`,ot=`${it}-label`,st=`${it}-feedback`,ct=`${it}-helptext`,[ut,ht]=reactExports.useState(!1),[Et,St]=reactExports.useState(!1),[Mt,kt]=reactExports.useState(!1),Ct=reactExports.useCallback((jt={},$t=null)=>({id:ct,...jt,ref:mergeRefs($t,Bt=>{Bt&&St(!0)})}),[ct]),Ot=reactExports.useCallback((jt={},$t=null)=>({...jt,ref:$t,"data-focus":dataAttr(Mt),"data-disabled":dataAttr(et),"data-invalid":dataAttr(j),"data-readonly":dataAttr(tt),id:jt.id!==void 0?jt.id:ot,htmlFor:jt.htmlFor!==void 0?jt.htmlFor:it}),[it,et,Mt,j,tt,ot]),zt=reactExports.useCallback((jt={},$t=null)=>({id:st,...jt,ref:mergeRefs($t,Bt=>{Bt&&ht(!0)}),"aria-live":"polite"}),[st]),Ut=reactExports.useCallback((jt={},$t=null)=>({...jt,...rt,ref:$t,role:"group","data-focus":dataAttr(Mt),"data-disabled":dataAttr(et),"data-invalid":dataAttr(j),"data-readonly":dataAttr(tt)}),[rt,et,Mt,j,tt]),Vt=reactExports.useCallback((jt={},$t=null)=>({...jt,ref:$t,role:"presentation","aria-hidden":!0,children:jt.children||"*"}),[]);return{isRequired:!!$,isInvalid:!!j,isReadOnly:!!tt,isDisabled:!!et,isFocused:!!Mt,onFocus:()=>kt(!0),onBlur:()=>kt(!1),hasFeedbackText:ut,setHasFeedbackText:ht,hasHelpText:Et,setHasHelpText:St,id:it,labelId:ot,feedbackId:st,helpTextId:ct,htmlProps:rt,getHelpTextProps:Ct,getErrorMessageProps:zt,getRootProps:Ut,getLabelProps:Ot,getRequiredIndicatorProps:Vt}}var FormControl=forwardRef(function(a,$){const j=useMultiStyleConfig("Form",a),et=omitThemingProps(a),{getRootProps:tt,htmlProps:rt,...nt}=useFormControlProvider(et),it=cx("chakra-form-control",a.className);return jsxRuntimeExports.jsx(FormControlProvider,{value:nt,children:jsxRuntimeExports.jsx(FormControlStylesProvider,{value:j,children:jsxRuntimeExports.jsx(chakra.div,{...tt({},$),className:it,__css:j.container})})})});FormControl.displayName="FormControl";var FormHelperText=forwardRef(function(a,$){const j=useFormControlContext(),et=useFormControlStyles(),tt=cx("chakra-form__helper-text",a.className);return jsxRuntimeExports.jsx(chakra.div,{...j==null?void 0:j.getHelpTextProps(a,$),__css:et.helperText,className:tt})});FormHelperText.displayName="FormHelperText";var[FormErrorStylesProvider,useFormErrorStyles]=createContext$1({name:"FormErrorStylesContext",errorMessage:`useFormErrorStyles returned is 'undefined'. Seems you forgot to wrap the components in "<FormError />" `}),FormErrorMessage$1=forwardRef((_,a)=>{const $=useMultiStyleConfig("FormError",_),j=omitThemingProps(_),et=useFormControlContext();return et!=null&&et.isInvalid?jsxRuntimeExports.jsx(FormErrorStylesProvider,{value:$,children:jsxRuntimeExports.jsx(chakra.div,{...et==null?void 0:et.getErrorMessageProps(j,a),className:cx("chakra-form__error-message",_.className),__css:{display:"flex",alignItems:"center",...$.text}})}):null});FormErrorMessage$1.displayName="FormErrorMessage";var FormErrorIcon=forwardRef((_,a)=>{const $=useFormErrorStyles(),j=useFormControlContext();if(!(j!=null&&j.isInvalid))return null;const et=cx("chakra-form__error-icon",_.className);return jsxRuntimeExports.jsx(Icon,{ref:a,"aria-hidden":!0,..._,__css:$.icon,className:et,children:jsxRuntimeExports.jsx("path",{fill:"currentColor",d:"M11.983,0a12.206,12.206,0,0,0-8.51,3.653A11.8,11.8,0,0,0,0,12.207,11.779,11.779,0,0,0,11.8,24h.214A12.111,12.111,0,0,0,24,11.791h0A11.766,11.766,0,0,0,11.983,0ZM10.5,16.542a1.476,1.476,0,0,1,1.449-1.53h.027a1.527,1.527,0,0,1,1.523,1.47,1.475,1.475,0,0,1-1.449,1.53h-.027A1.529,1.529,0,0,1,10.5,16.542ZM11,12.5v-6a1,1,0,0,1,2,0v6a1,1,0,1,1-2,0Z"})})});FormErrorIcon.displayName="FormErrorIcon";var FormLabel=forwardRef(function(a,$){var j;const et=useStyleConfig("FormLabel",a),tt=omitThemingProps(a),{className:rt,children:nt,requiredIndicator:it=jsxRuntimeExports.jsx(RequiredIndicator,{}),optionalIndicator:ot=null,...st}=tt,ct=useFormControlContext(),ut=(j=ct==null?void 0:ct.getLabelProps(st,$))!=null?j:{ref:$,...st};return jsxRuntimeExports.jsxs(chakra.label,{...ut,className:cx("chakra-form__label",tt.className),__css:{display:"block",textAlign:"start",...et},children:[nt,ct!=null&&ct.isRequired?it:ot]})});FormLabel.displayName="FormLabel";var RequiredIndicator=forwardRef(function(a,$){const j=useFormControlContext(),et=useFormControlStyles();if(!(j!=null&&j.isRequired))return null;const tt=cx("chakra-form__required-indicator",a.className);return jsxRuntimeExports.jsx(chakra.span,{...j==null?void 0:j.getRequiredIndicatorProps(a,$),__css:et.requiredIndicator,className:tt})});RequiredIndicator.displayName="RequiredIndicator";function useFormControl(_){const{isDisabled:a,isInvalid:$,isReadOnly:j,isRequired:et,...tt}=useFormControlProps(_);return{...tt,disabled:a,readOnly:j,required:et,"aria-invalid":ariaAttr($),"aria-required":ariaAttr(et),"aria-readonly":ariaAttr(j)}}function useFormControlProps(_){var a,$,j;const et=useFormControlContext(),{id:tt,disabled:rt,readOnly:nt,required:it,isRequired:ot,isInvalid:st,isReadOnly:ct,isDisabled:ut,onFocus:ht,onBlur:Et,...St}=_,Mt=_["aria-describedby"]?[_["aria-describedby"]]:[];return et!=null&&et.hasFeedbackText&&(et!=null&&et.isInvalid)&&Mt.push(et.feedbackId),et!=null&&et.hasHelpText&&Mt.push(et.helpTextId),{...St,"aria-describedby":Mt.join(" ")||void 0,id:tt??(et==null?void 0:et.id),isDisabled:(a=rt??ut)!=null?a:et==null?void 0:et.isDisabled,isReadOnly:($=nt??ct)!=null?$:et==null?void 0:et.isReadOnly,isRequired:(j=it??ot)!=null?j:et==null?void 0:et.isRequired,isInvalid:st??(et==null?void 0:et.isInvalid),onFocus:callAllHandlers$1(et==null?void 0:et.onFocus,ht),onBlur:callAllHandlers$1(et==null?void 0:et.onBlur,Et)}}var visuallyHiddenStyle$1={border:"0",clip:"rect(0, 0, 0, 0)",height:"1px",width:"1px",margin:"-1px",padding:"0",overflow:"hidden",whiteSpace:"nowrap",position:"absolute"},isDom$1=()=>typeof document<"u",hasSetup=!1,modality=null,hasEventBeforeFocus=!1,hasBlurredWindowRecently=!1,handlers=new Set;function trigger(_,a){handlers.forEach($=>$(_,a))}var isMac=typeof window<"u"&&window.navigator!=null?/^Mac/.test(window.navigator.platform):!1;function isValidKey(_){return!(_.metaKey||!isMac&&_.altKey||_.ctrlKey||_.key==="Control"||_.key==="Shift"||_.key==="Meta")}function onKeyboardEvent(_){hasEventBeforeFocus=!0,isValidKey(_)&&(modality="keyboard",trigger("keyboard",_))}function onPointerEvent(_){if(modality="pointer",_.type==="mousedown"||_.type==="pointerdown"){hasEventBeforeFocus=!0;const a=_.composedPath?_.composedPath()[0]:_.target;let $=!1;try{$=a.matches(":focus-visible")}catch{}if($)return;trigger("pointer",_)}}function isVirtualClick(_){return _.mozInputSource===0&&_.isTrusted?!0:_.detail===0&&!_.pointerType}function onClickEvent(_){isVirtualClick(_)&&(hasEventBeforeFocus=!0,modality="virtual")}function onWindowFocus(_){_.target===window||_.target===document||(!hasEventBeforeFocus&&!hasBlurredWindowRecently&&(modality="virtual",trigger("virtual",_)),hasEventBeforeFocus=!1,hasBlurredWindowRecently=!1)}function onWindowBlur$1(){hasEventBeforeFocus=!1,hasBlurredWindowRecently=!0}function isFocusVisible(){return modality!=="pointer"}function setupGlobalFocusEvents(){if(!isDom$1()||hasSetup)return;const{focus:_}=HTMLElement.prototype;HTMLElement.prototype.focus=function(...$){hasEventBeforeFocus=!0,_.apply(this,$)},document.addEventListener("keydown",onKeyboardEvent,!0),document.addEventListener("keyup",onKeyboardEvent,!0),document.addEventListener("click",onClickEvent,!0),window.addEventListener("focus",onWindowFocus,!0),window.addEventListener("blur",onWindowBlur$1,!1),typeof PointerEvent<"u"?(document.addEventListener("pointerdown",onPointerEvent,!0),document.addEventListener("pointermove",onPointerEvent,!0),document.addEventListener("pointerup",onPointerEvent,!0)):(document.addEventListener("mousedown",onPointerEvent,!0),document.addEventListener("mousemove",onPointerEvent,!0),document.addEventListener("mouseup",onPointerEvent,!0)),hasSetup=!0}function trackFocusVisible(_){setupGlobalFocusEvents(),_(isFocusVisible());const a=()=>_(isFocusVisible());return handlers.add(a),()=>{handlers.delete(a)}}function omit$3(_,a=[]){const $=Object.assign({},_);for(const j of a)j in $&&delete $[j];return $}function useCheckbox(_={}){const a=useFormControlProps(_),{isDisabled:$,isReadOnly:j,isRequired:et,isInvalid:tt,id:rt,onBlur:nt,onFocus:it,"aria-describedby":ot}=a,{defaultChecked:st,isChecked:ct,isFocusable:ut,onChange:ht,isIndeterminate:Et,name:St,value:Mt,tabIndex:kt=void 0,"aria-label":Ct,"aria-labelledby":Ot,"aria-invalid":zt,...Ut}=_,Vt=omit$3(Ut,["isDisabled","isReadOnly","isRequired","isInvalid","id","onBlur","onFocus","aria-describedby"]),jt=useCallbackRef$2(ht),$t=useCallbackRef$2(nt),Bt=useCallbackRef$2(it),[Nt,Lt]=reactExports.useState(!1),[Pt,bt]=reactExports.useState(!1),[at,dt]=reactExports.useState(!1),[vt,xt]=reactExports.useState(!1);reactExports.useEffect(()=>trackFocusVisible(Lt),[]);const wt=reactExports.useRef(null),[_t,At]=reactExports.useState(!0),[Tt,yt]=reactExports.useState(!!st),It=ct!==void 0,rr=It?ct:Tt,ir=reactExports.useCallback(pr=>{if(j||$){pr.preventDefault();return}It||yt(rr?pr.target.checked:Et?!0:pr.target.checked),jt==null||jt(pr)},[j,$,rr,It,Et,jt]);useSafeLayoutEffect$2(()=>{wt.current&&(wt.current.indeterminate=!!Et)},[Et]),useUpdateEffect(()=>{$&&bt(!1)},[$,bt]),useSafeLayoutEffect$2(()=>{const pr=wt.current;if(!(pr!=null&&pr.form))return;const Ir=()=>{yt(!!st)};return pr.form.addEventListener("reset",Ir),()=>{var Cr;return(Cr=pr.form)==null?void 0:Cr.removeEventListener("reset",Ir)}},[]);const nr=$&&!ut,Gt=reactExports.useCallback(pr=>{pr.key===" "&&xt(!0)},[xt]),qt=reactExports.useCallback(pr=>{pr.key===" "&&xt(!1)},[xt]);useSafeLayoutEffect$2(()=>{if(!wt.current)return;wt.current.checked!==rr&&yt(wt.current.checked)},[wt.current]);const Jt=reactExports.useCallback((pr={},Ir=null)=>{const Cr=lr=>{Pt&&lr.preventDefault(),xt(!0)};return{...pr,ref:Ir,"data-active":dataAttr(vt),"data-hover":dataAttr(at),"data-checked":dataAttr(rr),"data-focus":dataAttr(Pt),"data-focus-visible":dataAttr(Pt&&Nt),"data-indeterminate":dataAttr(Et),"data-disabled":dataAttr($),"data-invalid":dataAttr(tt),"data-readonly":dataAttr(j),"aria-hidden":!0,onMouseDown:callAllHandlers$1(pr.onMouseDown,Cr),onMouseUp:callAllHandlers$1(pr.onMouseUp,()=>xt(!1)),onMouseEnter:callAllHandlers$1(pr.onMouseEnter,()=>dt(!0)),onMouseLeave:callAllHandlers$1(pr.onMouseLeave,()=>dt(!1))}},[vt,rr,$,Pt,Nt,at,Et,tt,j]),Ft=reactExports.useCallback((pr={},Ir=null)=>({...pr,ref:Ir,"data-active":dataAttr(vt),"data-hover":dataAttr(at),"data-checked":dataAttr(rr),"data-focus":dataAttr(Pt),"data-focus-visible":dataAttr(Pt&&Nt),"data-indeterminate":dataAttr(Et),"data-disabled":dataAttr($),"data-invalid":dataAttr(tt),"data-readonly":dataAttr(j)}),[vt,rr,$,Pt,Nt,at,Et,tt,j]),Kt=reactExports.useCallback((pr={},Ir=null)=>({...Vt,...pr,ref:mergeRefs(Ir,Cr=>{Cr&&At(Cr.tagName==="LABEL")}),onClick:callAllHandlers$1(pr.onClick,()=>{var Cr;_t||((Cr=wt.current)==null||Cr.click(),requestAnimationFrame(()=>{var lr;(lr=wt.current)==null||lr.focus({preventScroll:!0})}))}),"data-disabled":dataAttr($),"data-checked":dataAttr(rr),"data-invalid":dataAttr(tt)}),[Vt,$,rr,tt,_t]),Qt=reactExports.useCallback((pr={},Ir=null)=>({...pr,ref:mergeRefs(wt,Ir),type:"checkbox",name:St,value:Mt,id:rt,tabIndex:kt,onChange:callAllHandlers$1(pr.onChange,ir),onBlur:callAllHandlers$1(pr.onBlur,$t,()=>bt(!1)),onFocus:callAllHandlers$1(pr.onFocus,Bt,()=>bt(!0)),onKeyDown:callAllHandlers$1(pr.onKeyDown,Gt),onKeyUp:callAllHandlers$1(pr.onKeyUp,qt),required:et,checked:rr,disabled:nr,readOnly:j,"aria-label":Ct,"aria-labelledby":Ot,"aria-invalid":zt?!!zt:tt,"aria-describedby":ot,"aria-disabled":$,style:visuallyHiddenStyle$1}),[St,Mt,rt,ir,$t,Bt,Gt,qt,et,rr,nr,j,Ct,Ot,zt,tt,ot,$,kt]),dr=reactExports.useCallback((pr={},Ir=null)=>({...pr,ref:Ir,onMouseDown:callAllHandlers$1(pr.onMouseDown,stopEvent$1),"data-disabled":dataAttr($),"data-checked":dataAttr(rr),"data-invalid":dataAttr(tt)}),[rr,$,tt]);return{state:{isInvalid:tt,isFocused:Pt,isChecked:rr,isActive:vt,isHovered:at,isIndeterminate:Et,isDisabled:$,isReadOnly:j,isRequired:et},getRootProps:Kt,getCheckboxProps:Jt,getIndicatorProps:Ft,getInputProps:Qt,getLabelProps:dr,htmlProps:Vt}}function stopEvent$1(_){_.preventDefault(),_.stopPropagation()}var controlStyles={display:"inline-flex",alignItems:"center",justifyContent:"center",verticalAlign:"top",userSelect:"none",flexShrink:0},rootStyles={cursor:"pointer",display:"inline-flex",alignItems:"center",verticalAlign:"top",position:"relative"},checkAnim=keyframes$1({from:{opacity:0,strokeDashoffset:16,transform:"scale(0.95)"},to:{opacity:1,strokeDashoffset:0,transform:"scale(1)"}}),indeterminateOpacityAnim=keyframes$1({from:{opacity:0},to:{opacity:1}}),indeterminateScaleAnim=keyframes$1({from:{transform:"scaleX(0.65)"},to:{transform:"scaleX(1)"}}),Checkbox=forwardRef(function(a,$){const j=useCheckboxGroupContext(),et={...j,...a},tt=useMultiStyleConfig("Checkbox",et),rt=omitThemingProps(a),{spacing:nt="0.5rem",className:it,children:ot,iconColor:st,iconSize:ct,icon:ut=jsxRuntimeExports.jsx(CheckboxIcon,{}),isChecked:ht,isDisabled:Et=j==null?void 0:j.isDisabled,onChange:St,inputProps:Mt,...kt}=rt;let Ct=ht;j!=null&&j.value&&rt.value&&(Ct=j.value.includes(rt.value));let Ot=St;j!=null&&j.onChange&&rt.value&&(Ot=callAll(j.onChange,St));const{state:zt,getInputProps:Ut,getCheckboxProps:Vt,getLabelProps:jt,getRootProps:$t}=useCheckbox({...kt,isDisabled:Et,isChecked:Ct,onChange:Ot}),Bt=useInitialAnimationState(zt.isChecked),Nt=reactExports.useMemo(()=>({animation:Bt?zt.isIndeterminate?`${indeterminateOpacityAnim} 20ms linear, ${indeterminateScaleAnim} 200ms linear`:`${checkAnim} 200ms linear`:void 0,fontSize:ct,color:st,...tt.icon}),[st,ct,Bt,zt.isIndeterminate,tt.icon]),Lt=reactExports.cloneElement(ut,{__css:Nt,isIndeterminate:zt.isIndeterminate,isChecked:zt.isChecked});return jsxRuntimeExports.jsxs(chakra.label,{__css:{...rootStyles,...tt.container},className:cx("chakra-checkbox",it),...$t(),children:[jsxRuntimeExports.jsx("input",{className:"chakra-checkbox__input",...Ut(Mt,$)}),jsxRuntimeExports.jsx(chakra.span,{__css:{...controlStyles,...tt.control},className:"chakra-checkbox__control",...Vt(),children:Lt}),ot&&jsxRuntimeExports.jsx(chakra.span,{className:"chakra-checkbox__label",...jt(),__css:{marginStart:nt,...tt.label},children:ot})]})});Checkbox.displayName="Checkbox";function useEventListener(_,a,$,j){const et=useCallbackRef$2($);return reactExports.useEffect(()=>{const tt=typeof _=="function"?_():_??document;if(!(!$||!tt))return tt.addEventListener(a,et,j),()=>{tt.removeEventListener(a,et,j)}},[a,_,j,et,$]),()=>{const tt=typeof _=="function"?_():_??document;tt==null||tt.removeEventListener(a,et,j)}}function isRefObject$1(_){return"current"in _}var isDom=()=>typeof window<"u";function getPlatform(){var _;const a=navigator.userAgentData;return(_=a==null?void 0:a.platform)!=null?_:navigator.platform}var vn=_=>isDom()&&_.test(navigator.vendor),pt=_=>isDom()&&_.test(getPlatform()),isApple=()=>pt(/mac|iphone|ipad|ipod/i),isSafari=()=>isApple()&&vn(/apple/i);function useFocusOnPointerDown(_){const{ref:a,elements:$,enabled:j}=_,et=()=>{var tt,rt;return(rt=(tt=a.current)==null?void 0:tt.ownerDocument)!=null?rt:document};useEventListener(et,"pointerdown",tt=>{if(!isSafari()||!j)return;const rt=tt.target,it=($??[a]).some(ot=>{const st=isRefObject$1(ot)?ot.current:ot;return(st==null?void 0:st.contains(rt))||st===rt});et().activeElement!==rt&&it&&(tt.preventDefault(),rt.focus())})}function _objectWithoutPropertiesLoose$3(_,a){if(_==null)return{};var $={};for(var j in _)if({}.hasOwnProperty.call(_,j)){if(a.indexOf(j)>=0)continue;$[j]=_[j]}return $}function _extends$5(){return _extends$5=Object.assign?Object.assign.bind():function(_){for(var a=1;a<arguments.length;a++){var $=arguments[a];for(var j in $)({}).hasOwnProperty.call($,j)&&(_[j]=$[j])}return _},_extends$5.apply(null,arguments)}var propTypes$1={exports:{}},ReactPropTypesSecret$1="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",ReactPropTypesSecret_1=ReactPropTypesSecret$1,ReactPropTypesSecret=ReactPropTypesSecret_1;function emptyFunction(){}function emptyFunctionWithReset(){}emptyFunctionWithReset.resetWarningCache=emptyFunction;var factoryWithThrowingShims=function(){function _(j,et,tt,rt,nt,it){if(it!==ReactPropTypesSecret){var ot=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw ot.name="Invariant Violation",ot}}_.isRequired=_;function a(){return _}var $={array:_,bigint:_,bool:_,func:_,number:_,object:_,string:_,symbol:_,any:_,arrayOf:a,element:_,elementType:_,instanceOf:a,node:_,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:emptyFunctionWithReset,resetWarningCache:emptyFunction};return $.PropTypes=$,$};propTypes$1.exports=factoryWithThrowingShims();var propTypesExports=propTypes$1.exports,FOCUS_GROUP="data-focus-lock",FOCUS_DISABLED="data-focus-lock-disabled",FOCUS_ALLOW="data-no-focus-lock",FOCUS_AUTO="data-autofocus-inside",FOCUS_NO_AUTOFOCUS="data-no-autofocus";function assignRef(_,a){return typeof _=="function"?_(a):_&&(_.current=a),_}function useCallbackRef$1(_,a){var $=reactExports.useState(function(){return{value:_,callback:a,facade:{get current(){return $.value},set current(j){var et=$.value;et!==j&&($.value=j,$.callback(j,et))}}}})[0];return $.callback=a,$.facade}function useMergeRefs(_,a){return useCallbackRef$1(null,function($){return _.forEach(function(j){return assignRef(j,$)})})}var hiddenGuard={width:"1px",height:"0px",padding:0,overflow:"hidden",position:"fixed",top:"1px",left:"1px"},extendStatics=function(_,a){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function($,j){$.__proto__=j}||function($,j){for(var et in j)Object.prototype.hasOwnProperty.call(j,et)&&($[et]=j[et])},extendStatics(_,a)};function __extends$1(_,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");extendStatics(_,a);function $(){this.constructor=_}_.prototype=a===null?Object.create(a):($.prototype=a.prototype,new $)}var __assign$1=function(){return __assign$1=Object.assign||function(a){for(var $,j=1,et=arguments.length;j<et;j++){$=arguments[j];for(var tt in $)Object.prototype.hasOwnProperty.call($,tt)&&(a[tt]=$[tt])}return a},__assign$1.apply(this,arguments)};function __rest$3(_,a){var $={};for(var j in _)Object.prototype.hasOwnProperty.call(_,j)&&a.indexOf(j)<0&&($[j]=_[j]);if(_!=null&&typeof Object.getOwnPropertySymbols=="function")for(var et=0,j=Object.getOwnPropertySymbols(_);et<j.length;et++)a.indexOf(j[et])<0&&Object.prototype.propertyIsEnumerable.call(_,j[et])&&($[j[et]]=_[j[et]]);return $}function __awaiter$8(_,a,$,j){function et(tt){return tt instanceof $?tt:new $(function(rt){rt(tt)})}return new($||($=Promise))(function(tt,rt){function nt(st){try{ot(j.next(st))}catch(ct){rt(ct)}}function it(st){try{ot(j.throw(st))}catch(ct){rt(ct)}}function ot(st){st.done?tt(st.value):et(st.value).then(nt,it)}ot((j=j.apply(_,a||[])).next())})}function __generator(_,a){var $={label:0,sent:function(){if(tt[0]&1)throw tt[1];return tt[1]},trys:[],ops:[]},j,et,tt,rt;return rt={next:nt(0),throw:nt(1),return:nt(2)},typeof Symbol=="function"&&(rt[Symbol.iterator]=function(){return this}),rt;function nt(ot){return function(st){return it([ot,st])}}function it(ot){if(j)throw new TypeError("Generator is already executing.");for(;rt&&(rt=0,ot[0]&&($=0)),$;)try{if(j=1,et&&(tt=ot[0]&2?et.return:ot[0]?et.throw||((tt=et.return)&&tt.call(et),0):et.next)&&!(tt=tt.call(et,ot[1])).done)return tt;switch(et=0,tt&&(ot=[ot[0]&2,tt.value]),ot[0]){case 0:case 1:tt=ot;break;case 4:return $.label++,{value:ot[1],done:!1};case 5:$.label++,et=ot[1],ot=[0];continue;case 7:ot=$.ops.pop(),$.trys.pop();continue;default:if(tt=$.trys,!(tt=tt.length>0&&tt[tt.length-1])&&(ot[0]===6||ot[0]===2)){$=0;continue}if(ot[0]===3&&(!tt||ot[1]>tt[0]&&ot[1]<tt[3])){$.label=ot[1];break}if(ot[0]===6&&$.label<tt[1]){$.label=tt[1],tt=ot;break}if(tt&&$.label<tt[2]){$.label=tt[2],$.ops.push(ot);break}tt[2]&&$.ops.pop(),$.trys.pop();continue}ot=a.call(_,$)}catch(st){ot=[6,st],et=0}finally{j=tt=0}if(ot[0]&5)throw ot[1];return{value:ot[0]?ot[1]:void 0,done:!0}}}function __values(_){var a=typeof Symbol=="function"&&Symbol.iterator,$=a&&_[a],j=0;if($)return $.call(_);if(_&&typeof _.length=="number")return{next:function(){return _&&j>=_.length&&(_=void 0),{value:_&&_[j++],done:!_}}};throw new TypeError(a?"Object is not iterable.":"Symbol.iterator is not defined.")}function __read(_,a){var $=typeof Symbol=="function"&&_[Symbol.iterator];if(!$)return _;var j=$.call(_),et,tt=[],rt;try{for(;(a===void 0||a-- >0)&&!(et=j.next()).done;)tt.push(et.value)}catch(nt){rt={error:nt}}finally{try{et&&!et.done&&($=j.return)&&$.call(j)}finally{if(rt)throw rt.error}}return tt}function __spreadArray(_,a,$){if($||arguments.length===2)for(var j=0,et=a.length,tt;j<et;j++)(tt||!(j in a))&&(tt||(tt=Array.prototype.slice.call(a,0,j)),tt[j]=a[j]);return _.concat(tt||Array.prototype.slice.call(a))}function __await(_){return this instanceof __await?(this.v=_,this):new __await(_)}function __asyncGenerator(_,a,$){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var j=$.apply(_,a||[]),et,tt=[];return et={},rt("next"),rt("throw"),rt("return"),et[Symbol.asyncIterator]=function(){return this},et;function rt(ut){j[ut]&&(et[ut]=function(ht){return new Promise(function(Et,St){tt.push([ut,ht,Et,St])>1||nt(ut,ht)})})}function nt(ut,ht){try{it(j[ut](ht))}catch(Et){ct(tt[0][3],Et)}}function it(ut){ut.value instanceof __await?Promise.resolve(ut.value.v).then(ot,st):ct(tt[0][2],ut)}function ot(ut){nt("next",ut)}function st(ut){nt("throw",ut)}function ct(ut,ht){ut(ht),tt.shift(),tt.length&&nt(tt[0][0],tt[0][1])}}function __asyncValues(_){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=_[Symbol.asyncIterator],$;return a?a.call(_):(_=typeof __values=="function"?__values(_):_[Symbol.iterator](),$={},j("next"),j("throw"),j("return"),$[Symbol.asyncIterator]=function(){return this},$);function j(tt){$[tt]=_[tt]&&function(rt){return new Promise(function(nt,it){rt=_[tt](rt),et(nt,it,rt.done,rt.value)})}}function et(tt,rt,nt,it){Promise.resolve(it).then(function(ot){tt({value:ot,done:nt})},rt)}}typeof SuppressedError=="function"&&SuppressedError;function ItoI(_){return _}function innerCreateMedium(_,a){a===void 0&&(a=ItoI);var $=[],j=!1,et={read:function(){if(j)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return $.length?$[$.length-1]:_},useMedium:function(tt){var rt=a(tt,j);return $.push(rt),function(){$=$.filter(function(nt){return nt!==rt})}},assignSyncMedium:function(tt){for(j=!0;$.length;){var rt=$;$=[],rt.forEach(tt)}$={push:function(nt){return tt(nt)},filter:function(){return $}}},assignMedium:function(tt){j=!0;var rt=[];if($.length){var nt=$;$=[],nt.forEach(tt),rt=$}var it=function(){var st=rt;rt=[],st.forEach(tt)},ot=function(){return Promise.resolve().then(it)};ot(),$={push:function(st){rt.push(st),ot()},filter:function(st){return rt=rt.filter(st),$}}}};return et}function createMedium(_,a){return a===void 0&&(a=ItoI),innerCreateMedium(_,a)}function createSidecarMedium(_){_===void 0&&(_={});var a=innerCreateMedium(null);return a.options=__assign$1({async:!0,ssr:!1},_),a}var SideCar$1=function(_){var a=_.sideCar,$=__rest$3(_,["sideCar"]);if(!a)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var j=a.read();if(!j)throw new Error("Sidecar medium not found");return reactExports.createElement(j,__assign$1({},$))};SideCar$1.isSideCarExport=!0;function exportSidecar(_,a){return _.useMedium(a),SideCar$1}var mediumFocus=createMedium({},function(_){var a=_.target,$=_.currentTarget;return{target:a,currentTarget:$}}),mediumBlur=createMedium(),mediumEffect=createMedium(),mediumSidecar=createSidecarMedium({async:!0}),emptyArray=[],FocusLock$1=reactExports.forwardRef(function(a,$){var j,et=reactExports.useState(),tt=et[0],rt=et[1],nt=reactExports.useRef(),it=reactExports.useRef(!1),ot=reactExports.useRef(null),st=a.children,ct=a.disabled,ut=a.noFocusGuards,ht=a.persistentFocus,Et=a.crossFrame,St=a.autoFocus;a.allowTextSelection;var Mt=a.group,kt=a.className,Ct=a.whiteList,Ot=a.hasPositiveIndices,zt=a.shards,Ut=zt===void 0?emptyArray:zt,Vt=a.as,jt=Vt===void 0?"div":Vt,$t=a.lockProps,Bt=$t===void 0?{}:$t,Nt=a.sideCar,Lt=a.returnFocus,Pt=a.focusOptions,bt=a.onActivation,at=a.onDeactivation,dt=reactExports.useState({}),vt=dt[0],xt=reactExports.useCallback(function(){ot.current=ot.current||document&&document.activeElement,nt.current&&bt&&bt(nt.current),it.current=!0},[bt]),wt=reactExports.useCallback(function(){it.current=!1,at&&at(nt.current)},[at]);reactExports.useEffect(function(){ct||(ot.current=null)},[]);var _t=reactExports.useCallback(function(Gt){var qt=ot.current;if(qt&&qt.focus){var Jt=typeof Lt=="function"?Lt(qt):Lt;if(Jt){var Ft=typeof Jt=="object"?Jt:void 0;ot.current=null,Gt?Promise.resolve().then(function(){return qt.focus(Ft)}):qt.focus(Ft)}}},[Lt]),At=reactExports.useCallback(function(Gt){it.current&&mediumFocus.useMedium(Gt)},[]),Tt=mediumBlur.useMedium,yt=reactExports.useCallback(function(Gt){nt.current!==Gt&&(nt.current=Gt,rt(Gt))},[]),It=_extends$5((j={},j[FOCUS_DISABLED]=ct&&"disabled",j[FOCUS_GROUP]=Mt,j),Bt),rr=ut!==!0,ir=rr&&ut!=="tail",nr=useMergeRefs([$,yt]);return reactExports.createElement(reactExports.Fragment,null,rr&&[reactExports.createElement("div",{key:"guard-first","data-focus-guard":!0,tabIndex:ct?-1:0,style:hiddenGuard}),Ot?reactExports.createElement("div",{key:"guard-nearest","data-focus-guard":!0,tabIndex:ct?-1:1,style:hiddenGuard}):null],!ct&&reactExports.createElement(Nt,{id:vt,sideCar:mediumSidecar,observed:tt,disabled:ct,persistentFocus:ht,crossFrame:Et,autoFocus:St,whiteList:Ct,shards:Ut,onActivation:xt,onDeactivation:wt,returnFocus:_t,focusOptions:Pt}),reactExports.createElement(jt,_extends$5({ref:nr},It,{className:kt,onBlur:Tt,onFocus:At}),st),ir&&reactExports.createElement("div",{"data-focus-guard":!0,tabIndex:ct?-1:0,style:hiddenGuard}))});FocusLock$1.propTypes={};FocusLock$1.defaultProps={children:void 0,disabled:!1,returnFocus:!1,focusOptions:void 0,noFocusGuards:!1,autoFocus:!0,persistentFocus:!1,crossFrame:!0,hasPositiveIndices:void 0,allowTextSelection:void 0,group:void 0,className:void 0,whiteList:void 0,shards:void 0,as:"div",lockProps:{},onActivation:void 0,onDeactivation:void 0};function _setPrototypeOf$2(_,a){return _setPrototypeOf$2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function($,j){return $.__proto__=j,$},_setPrototypeOf$2(_,a)}function _inheritsLoose$1(_,a){_.prototype=Object.create(a.prototype),_.prototype.constructor=_,_setPrototypeOf$2(_,a)}function _typeof$6(_){"@babel/helpers - typeof";return _typeof$6=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},_typeof$6(_)}function toPrimitive$1(_,a){if(_typeof$6(_)!="object"||!_)return _;var $=_[Symbol.toPrimitive];if($!==void 0){var j=$.call(_,a||"default");if(_typeof$6(j)!="object")return j;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(_)}function toPropertyKey$1(_){var a=toPrimitive$1(_,"string");return _typeof$6(a)=="symbol"?a:a+""}function _defineProperty$8(_,a,$){return(a=toPropertyKey$1(a))in _?Object.defineProperty(_,a,{value:$,enumerable:!0,configurable:!0,writable:!0}):_[a]=$,_}function withSideEffect(_,a){function $(j){return j.displayName||j.name||"Component"}return function(et){var tt=[],rt;function nt(){rt=_(tt.map(function(ot){return ot.props})),a(rt)}var it=function(ot){_inheritsLoose$1(st,ot);function st(){return ot.apply(this,arguments)||this}st.peek=function(){return rt};var ct=st.prototype;return ct.componentDidMount=function(){tt.push(this),nt()},ct.componentDidUpdate=function(){nt()},ct.componentWillUnmount=function(){var ht=tt.indexOf(this);tt.splice(ht,1),nt()},ct.render=function(){return React$2.createElement(et,this.props)},st}(reactExports.PureComponent);return _defineProperty$8(it,"displayName","SideEffect("+$(et)+")"),it}}var toArray$3=function(_){for(var a=Array(_.length),$=0;$<_.length;++$)a[$]=_[$];return a},asArray=function(_){return Array.isArray(_)?_:[_]},getFirst=function(_){return Array.isArray(_)?_[0]:_},isElementHidden=function(_){if(_.nodeType!==Node.ELEMENT_NODE)return!1;var a=window.getComputedStyle(_,null);return!a||!a.getPropertyValue?!1:a.getPropertyValue("display")==="none"||a.getPropertyValue("visibility")==="hidden"},getParentNode$1=function(_){return _.parentNode&&_.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE?_.parentNode.host:_.parentNode},isTopNode=function(_){return _===document||_&&_.nodeType===Node.DOCUMENT_NODE},isVisibleUncached=function(_,a){return!_||isTopNode(_)||!isElementHidden(_)&&a(getParentNode$1(_))},isVisibleCached=function(_,a){var $=_.get(a);if($!==void 0)return $;var j=isVisibleUncached(a,isVisibleCached.bind(void 0,_));return _.set(a,j),j},isAutoFocusAllowedUncached=function(_,a){return _&&!isTopNode(_)?isAutoFocusAllowed(_)?a(getParentNode$1(_)):!1:!0},isAutoFocusAllowedCached=function(_,a){var $=_.get(a);if($!==void 0)return $;var j=isAutoFocusAllowedUncached(a,isAutoFocusAllowedCached.bind(void 0,_));return _.set(a,j),j},getDataset=function(_){return _.dataset},isHTMLButtonElement=function(_){return _.tagName==="BUTTON"},isHTMLInputElement=function(_){return _.tagName==="INPUT"},isRadioElement=function(_){return isHTMLInputElement(_)&&_.type==="radio"},notHiddenInput=function(_){return!((isHTMLInputElement(_)||isHTMLButtonElement(_))&&(_.type==="hidden"||_.disabled))},isAutoFocusAllowed=function(_){var a=_.getAttribute(FOCUS_NO_AUTOFOCUS);return![!0,"true",""].includes(a)},isGuard=function(_){var a;return!!(_&&(!((a=getDataset(_))===null||a===void 0)&&a.focusGuard))},isNotAGuard=function(_){return!isGuard(_)},isDefined=function(_){return!!_},tabSort=function(_,a){var $=_.tabIndex-a.tabIndex,j=_.index-a.index;if($){if(!_.tabIndex)return 1;if(!a.tabIndex)return-1}return $||j},orderByTabIndex=function(_,a,$){return toArray$3(_).map(function(j,et){return{node:j,index:et,tabIndex:$&&j.tabIndex===-1?(j.dataset||{}).focusGuard?0:-1:j.tabIndex}}).filter(function(j){return!a||j.tabIndex>=0}).sort(tabSort)},tabbables=["button:enabled","select:enabled","textarea:enabled","input:enabled","a[href]","area[href]","summary","iframe","object","embed","audio[controls]","video[controls]","[tabindex]","[contenteditable]","[autofocus]"],queryTabbables=tabbables.join(","),queryGuardTabbables="".concat(queryTabbables,", [data-focus-guard]"),getFocusablesWithShadowDom=function(_,a){return toArray$3((_.shadowRoot||_).children).reduce(function($,j){return $.concat(j.matches(a?queryGuardTabbables:queryTabbables)?[j]:[],getFocusablesWithShadowDom(j))},[])},getFocusablesWithIFrame=function(_,a){var $;return _ instanceof HTMLIFrameElement&&(!(($=_.contentDocument)===null||$===void 0)&&$.body)?getFocusables([_.contentDocument.body],a):[_]},getFocusables=function(_,a){return _.reduce(function($,j){var et,tt=getFocusablesWithShadowDom(j,a),rt=(et=[]).concat.apply(et,tt.map(function(nt){return getFocusablesWithIFrame(nt,a)}));return $.concat(rt,j.parentNode?toArray$3(j.parentNode.querySelectorAll(queryTabbables)).filter(function(nt){return nt===j}):[])},[])},getParentAutofocusables=function(_){var a=_.querySelectorAll("[".concat(FOCUS_AUTO,"]"));return toArray$3(a).map(function($){return getFocusables([$])}).reduce(function($,j){return $.concat(j)},[])},filterFocusable=function(_,a){return toArray$3(_).filter(function($){return isVisibleCached(a,$)}).filter(function($){return notHiddenInput($)})},filterAutoFocusable=function(_,a){return a===void 0&&(a=new Map),toArray$3(_).filter(function($){return isAutoFocusAllowedCached(a,$)})},getTabbableNodes=function(_,a,$){return orderByTabIndex(filterFocusable(getFocusables(_,$),a),!0,$)},getFocusableNodes=function(_,a){return orderByTabIndex(filterFocusable(getFocusables(_),a),!1)},parentAutofocusables=function(_,a){return filterFocusable(getParentAutofocusables(_),a)},contains$2=function(_,a){return _.shadowRoot?contains$2(_.shadowRoot,a):Object.getPrototypeOf(_).contains!==void 0&&Object.getPrototypeOf(_).contains.call(_,a)?!0:toArray$3(_.children).some(function($){var j;if($ instanceof HTMLIFrameElement){var et=(j=$.contentDocument)===null||j===void 0?void 0:j.body;return et?contains$2(et,a):!1}return contains$2($,a)})},filterNested=function(_){for(var a=new Set,$=_.length,j=0;j<$;j+=1)for(var et=j+1;et<$;et+=1){var tt=_[j].compareDocumentPosition(_[et]);(tt&Node.DOCUMENT_POSITION_CONTAINED_BY)>0&&a.add(et),(tt&Node.DOCUMENT_POSITION_CONTAINS)>0&&a.add(j)}return _.filter(function(rt,nt){return!a.has(nt)})},getTopParent=function(_){return _.parentNode?getTopParent(_.parentNode):_},getAllAffectedNodes=function(_){var a=asArray(_);return a.filter(Boolean).reduce(function($,j){var et=j.getAttribute(FOCUS_GROUP);return $.push.apply($,et?filterNested(toArray$3(getTopParent(j).querySelectorAll("[".concat(FOCUS_GROUP,'="').concat(et,'"]:not([').concat(FOCUS_DISABLED,'="disabled"])')))):[j]),$},[])},safeProbe=function(_){try{return _()}catch{return}},getActiveElement$1=function(_){if(_===void 0&&(_=document),!(!_||!_.activeElement)){var a=_.activeElement;return a.shadowRoot?getActiveElement$1(a.shadowRoot):a instanceof HTMLIFrameElement&&safeProbe(function(){return a.contentWindow.document})?getActiveElement$1(a.contentWindow.document):a}},focusInFrame=function(_,a){return _===a},focusInsideIframe=function(_,a){return!!toArray$3(_.querySelectorAll("iframe")).some(function($){return focusInFrame($,a)})},focusInside=function(_,a){return a===void 0&&(a=getActiveElement$1(getFirst(_).ownerDocument)),!a||a.dataset&&a.dataset.focusGuard?!1:getAllAffectedNodes(_).some(function($){return contains$2($,a)||focusInsideIframe($,a)})},focusIsHidden=function(_){_===void 0&&(_=document);var a=getActiveElement$1(_);return a?toArray$3(_.querySelectorAll("[".concat(FOCUS_ALLOW,"]"))).some(function($){return contains$2($,a)}):!1},findSelectedRadio=function(_,a){return a.filter(isRadioElement).filter(function($){return $.name===_.name}).filter(function($){return $.checked})[0]||_},correctNode=function(_,a){return isRadioElement(_)&&_.name?findSelectedRadio(_,a):_},correctNodes=function(_){var a=new Set;return _.forEach(function($){return a.add(correctNode($,_))}),_.filter(function($){return a.has($)})},pickFirstFocus=function(_){return _[0]&&_.length>1?correctNode(_[0],_):_[0]},pickFocusable=function(_,a){return _.length>1?_.indexOf(correctNode(_[a],_)):a},NEW_FOCUS="NEW_FOCUS",newFocus=function(_,a,$,j){var et=_.length,tt=_[0],rt=_[et-1],nt=isGuard($);if(!($&&_.indexOf($)>=0)){var it=$!==void 0?a.indexOf($):-1,ot=j?a.indexOf(j):it,st=j?_.indexOf(j):-1,ct=it-ot,ut=a.indexOf(tt),ht=a.indexOf(rt),Et=correctNodes(a),St=$!==void 0?Et.indexOf($):-1,Mt=St-(j?Et.indexOf(j):it),kt=pickFocusable(_,0),Ct=pickFocusable(_,et-1);if(it===-1||st===-1)return NEW_FOCUS;if(!ct&&st>=0)return st;if(it<=ut&&nt&&Math.abs(ct)>1)return Ct;if(it>=ht&&nt&&Math.abs(ct)>1)return kt;if(ct&&Math.abs(Mt)>1)return st;if(it<=ut)return Ct;if(it>ht)return kt;if(ct)return Math.abs(ct)>1?st:(et+st+ct)%et}},findAutoFocused=function(_){return function(a){var $,j=($=getDataset(a))===null||$===void 0?void 0:$.autofocus;return a.autofocus||j!==void 0&&j!=="false"||_.indexOf(a)>=0}},pickAutofocus=function(_,a,$){var j=_.map(function(tt){var rt=tt.node;return rt}),et=filterAutoFocusable(j.filter(findAutoFocused($)));return et&&et.length?pickFirstFocus(et):pickFirstFocus(filterAutoFocusable(a))},getParents=function(_,a){return a===void 0&&(a=[]),a.push(_),_.parentNode&&getParents(_.parentNode.host||_.parentNode,a),a},getCommonParent=function(_,a){for(var $=getParents(_),j=getParents(a),et=0;et<$.length;et+=1){var tt=$[et];if(j.indexOf(tt)>=0)return tt}return!1},getTopCommonParent=function(_,a,$){var j=asArray(_),et=asArray(a),tt=j[0],rt=!1;return et.filter(Boolean).forEach(function(nt){rt=getCommonParent(rt||nt,nt)||rt,$.filter(Boolean).forEach(function(it){var ot=getCommonParent(tt,it);ot&&(!rt||contains$2(ot,rt)?rt=ot:rt=getCommonParent(ot,rt))})}),rt},allParentAutofocusables=function(_,a){return _.reduce(function($,j){return $.concat(parentAutofocusables(j,a))},[])},reorderNodes=function(_,a){var $=new Map;return a.forEach(function(j){return $.set(j.node,j)}),_.map(function(j){return $.get(j)}).filter(isDefined)},focusSolver=function(_,a){var $=getActiveElement$1(asArray(_).length>0?document:getFirst(_).ownerDocument),j=getAllAffectedNodes(_).filter(isNotAGuard),et=getTopCommonParent($||_,_,j),tt=new Map,rt=getFocusableNodes(j,tt),nt=getTabbableNodes(j,tt).filter(function(ht){var Et=ht.node;return isNotAGuard(Et)});if(!(!nt[0]&&(nt=rt,!nt[0]))){var it=getFocusableNodes([et],tt).map(function(ht){var Et=ht.node;return Et}),ot=reorderNodes(it,nt),st=ot.map(function(ht){var Et=ht.node;return Et}),ct=newFocus(st,it,$,a);if(ct===NEW_FOCUS){var ut=pickAutofocus(rt,st,allParentAutofocusables(j,tt));if(ut)return{node:ut};console.warn("focus-lock: cannot find any node to move focus into");return}return ct===void 0?ct:ot[ct]}},expandFocusableNodes=function(_){var a=getAllAffectedNodes(_).filter(isNotAGuard),$=getTopCommonParent(_,_,a),j=new Map,et=getTabbableNodes([$],j,!0),tt=getTabbableNodes(a,j).filter(function(rt){var nt=rt.node;return isNotAGuard(nt)}).map(function(rt){var nt=rt.node;return nt});return et.map(function(rt){var nt=rt.node,it=rt.index;return{node:nt,index:it,lockItem:tt.indexOf(nt)>=0,guard:isGuard(nt)}})},focusOn=function(_,a){"focus"in _&&_.focus(a),"contentWindow"in _&&_.contentWindow&&_.contentWindow.focus()},guardCount=0,lockDisabled=!1,moveFocusInside=function(_,a,$){$===void 0&&($={});var j=focusSolver(_,a);if(!lockDisabled&&j){if(guardCount>2){console.error("FocusLock: focus-fighting detected. Only one focus management system could be active. See https://github.com/theKashey/focus-lock/#focus-fighting"),lockDisabled=!0,setTimeout(function(){lockDisabled=!1},1);return}guardCount++,focusOn(j.node,$.focusOptions),guardCount--}};function deferAction(_){setTimeout(_,1)}var focusOnBody=function(){return document&&document.activeElement===document.body},isFreeFocus=function(){return focusOnBody()||focusIsHidden()},lastActiveTrap=null,lastActiveFocus=null,lastPortaledElement=null,focusWasOutsideWindow=!1,defaultWhitelist=function(){return!0},focusWhitelisted=function(a){return(lastActiveTrap.whiteList||defaultWhitelist)(a)},recordPortal=function(a,$){lastPortaledElement={observerNode:a,portaledElement:$}},focusIsPortaledPair=function(a){return lastPortaledElement&&lastPortaledElement.portaledElement===a};function autoGuard(_,a,$,j){var et=null,tt=_;do{var rt=j[tt];if(rt.guard)rt.node.dataset.focusAutoGuard&&(et=rt);else if(rt.lockItem){if(tt!==_)return;et=null}else break}while((tt+=$)!==a);et&&(et.node.tabIndex=0)}var extractRef$1=function(a){return a&&"current"in a?a.current:a},focusWasOutside=function(a){return a?!!focusWasOutsideWindow:focusWasOutsideWindow==="meanwhile"},checkInHost=function _(a,$,j){return $&&($.host===a&&(!$.activeElement||j.contains($.activeElement))||$.parentNode&&_(a,$.parentNode,j))},withinHost=function(a,$){return $.some(function(j){return checkInHost(a,j,j)})},activateTrap=function(){var a=!1;if(lastActiveTrap){var $=lastActiveTrap,j=$.observed,et=$.persistentFocus,tt=$.autoFocus,rt=$.shards,nt=$.crossFrame,it=$.focusOptions,ot=j||lastPortaledElement&&lastPortaledElement.portaledElement,st=document&&document.activeElement;if(ot){var ct=[ot].concat(rt.map(extractRef$1).filter(Boolean));if((!st||focusWhitelisted(st))&&(et||focusWasOutside(nt)||!isFreeFocus()||!lastActiveFocus&&tt)&&(ot&&!(focusInside(ct)||st&&withinHost(st,ct)||focusIsPortaledPair(st))&&(document&&!lastActiveFocus&&st&&!tt?(st.blur&&st.blur(),document.body.focus()):(a=moveFocusInside(ct,lastActiveFocus,{focusOptions:it}),lastPortaledElement={})),focusWasOutsideWindow=!1,lastActiveFocus=document&&document.activeElement),document){var ut=document&&document.activeElement,ht=expandFocusableNodes(ct),Et=ht.map(function(St){var Mt=St.node;return Mt}).indexOf(ut);Et>-1&&(ht.filter(function(St){var Mt=St.guard,kt=St.node;return Mt&&kt.dataset.focusAutoGuard}).forEach(function(St){var Mt=St.node;return Mt.removeAttribute("tabIndex")}),autoGuard(Et,ht.length,1,ht),autoGuard(Et,-1,-1,ht))}}}return a},onTrap=function(a){activateTrap()&&a&&(a.stopPropagation(),a.preventDefault())},onBlur=function(){return deferAction(activateTrap)},onFocus=function(a){var $=a.target,j=a.currentTarget;j.contains($)||recordPortal(j,$)},FocusWatcher=function(){return null},onWindowBlur=function(){focusWasOutsideWindow="just",deferAction(function(){focusWasOutsideWindow="meanwhile"})},attachHandler=function(){document.addEventListener("focusin",onTrap),document.addEventListener("focusout",onBlur),window.addEventListener("blur",onWindowBlur)},detachHandler=function(){document.removeEventListener("focusin",onTrap),document.removeEventListener("focusout",onBlur),window.removeEventListener("blur",onWindowBlur)};function reducePropsToState(_){return _.filter(function(a){var $=a.disabled;return!$})}function handleStateChangeOnClient(_){var a=_.slice(-1)[0];a&&!lastActiveTrap&&attachHandler();var $=lastActiveTrap,j=$&&a&&a.id===$.id;lastActiveTrap=a,$&&!j&&($.onDeactivation(),_.filter(function(et){var tt=et.id;return tt===$.id}).length||$.returnFocus(!a)),a?(lastActiveFocus=null,(!j||$.observed!==a.observed)&&a.onActivation(),activateTrap(),deferAction(activateTrap)):(detachHandler(),lastActiveFocus=null)}mediumFocus.assignSyncMedium(onFocus);mediumBlur.assignMedium(onBlur);mediumEffect.assignMedium(function(_){return _({moveFocusInside,focusInside})});const FocusTrap$1=withSideEffect(reducePropsToState,handleStateChangeOnClient)(FocusWatcher);var FocusLockCombination=reactExports.forwardRef(function(a,$){return reactExports.createElement(FocusLock$1,_extends$5({sideCar:FocusTrap$1,ref:$},a))}),_ref=FocusLock$1.propTypes||{};_ref.sideCar;_objectWithoutPropertiesLoose$3(_ref,["sideCar"]);FocusLockCombination.propTypes={};function isElement$2(_){return _!=null&&typeof _=="object"&&"nodeType"in _&&_.nodeType===Node.ELEMENT_NODE}function isHTMLElement$3(_){var a;if(!isElement$2(_))return!1;const $=(a=_.ownerDocument.defaultView)!=null?a:window;return _ instanceof $.HTMLElement}function getOwnerWindow(_){var a,$;return($=(a=getOwnerDocument$2(_))==null?void 0:a.defaultView)!=null?$:window}function getOwnerDocument$2(_){return isElement$2(_)?_.ownerDocument:document}function getActiveElement(_){return getOwnerDocument$2(_).activeElement}function isScrollParent$1(_){const a=_.ownerDocument.defaultView||window,{overflow:$,overflowX:j,overflowY:et}=a.getComputedStyle(_);return/auto|scroll|overlay|hidden/.test($+et+j)}function getParent(_){return _.localName==="html"?_:_.assignedSlot||_.parentElement||_.ownerDocument.documentElement}function getScrollParent$1(_){return["html","body","#document"].includes(_.localName)?_.ownerDocument.body:isHTMLElement$3(_)&&isScrollParent$1(_)?_:getScrollParent$1(getParent(_))}var hasTabIndex=_=>_.hasAttribute("tabindex"),hasNegativeTabIndex=_=>hasTabIndex(_)&&_.tabIndex===-1;function isDisabled(_){return!!_.getAttribute("disabled")||!!_.getAttribute("aria-disabled")}function isHidden(_){return _.parentElement&&isHidden(_.parentElement)?!0:_.hidden}function isContentEditable(_){const a=_.getAttribute("contenteditable");return a!=="false"&&a!=null}function isFocusable(_){if(!isHTMLElement$3(_)||isHidden(_)||isDisabled(_))return!1;const{localName:a}=_;if(["input","select","textarea","button"].indexOf(a)>=0)return!0;const j={a:()=>_.hasAttribute("href"),audio:()=>_.hasAttribute("controls"),video:()=>_.hasAttribute("controls")};return a in j?j[a]():isContentEditable(_)?!0:hasTabIndex(_)}function isTabbable(_){return _?isHTMLElement$3(_)&&isFocusable(_)&&!hasNegativeTabIndex(_):!1}var focusableElList=["input:not(:disabled):not([disabled])","select:not(:disabled):not([disabled])","textarea:not(:disabled):not([disabled])","embed","iframe","object","a[href]","area[href]","button:not(:disabled):not([disabled])","[tabindex]","audio[controls]","video[controls]","*[tabindex]:not([aria-disabled])","*[contenteditable]"],focusableElSelector=focusableElList.join(),isVisible=_=>_.offsetWidth>0&&_.offsetHeight>0;function getAllFocusable(_){const a=Array.from(_.querySelectorAll(focusableElSelector));return a.unshift(_),a.filter($=>isFocusable($)&&isVisible($))}var _a$3,FocusTrap=(_a$3=FocusLockCombination.default)!=null?_a$3:FocusLockCombination,FocusLock=_=>{const{initialFocusRef:a,finalFocusRef:$,contentRef:j,restoreFocus:et,children:tt,isDisabled:rt,autoFocus:nt,persistentFocus:it,lockFocusAcrossFrames:ot}=_,st=reactExports.useCallback(()=>{a!=null&&a.current?a.current.focus():j!=null&&j.current&&getAllFocusable(j.current).length===0&&requestAnimationFrame(()=>{var Et;(Et=j.current)==null||Et.focus()})},[a,j]),ct=reactExports.useCallback(()=>{var ht;(ht=$==null?void 0:$.current)==null||ht.focus()},[$]),ut=et&&!$;return jsxRuntimeExports.jsx(FocusTrap,{crossFrame:ot,persistentFocus:it,autoFocus:nt,disabled:rt,onActivation:st,onDeactivation:ct,returnFocus:ut,children:tt})};FocusLock.displayName="FocusLock";var useSafeLayoutEffect=isBrowser$2?reactExports.useLayoutEffect:reactExports.useEffect;function useCallbackRef(_,a=[]){const $=reactExports.useRef(_);return useSafeLayoutEffect(()=>{$.current=_}),reactExports.useCallback((...j)=>{var et;return(et=$.current)==null?void 0:et.call($,...j)},a)}function useOutsideClick$1(_){const{ref:a,handler:$,enabled:j=!0}=_,et=useCallbackRef($),rt=reactExports.useRef({isPointerDown:!1,ignoreEmulatedMouseEvents:!1}).current;reactExports.useEffect(()=>{if(!j)return;const nt=ct=>{isValidEvent$1(ct,a)&&(rt.isPointerDown=!0)},it=ct=>{if(rt.ignoreEmulatedMouseEvents){rt.ignoreEmulatedMouseEvents=!1;return}rt.isPointerDown&&$&&isValidEvent$1(ct,a)&&(rt.isPointerDown=!1,et(ct))},ot=ct=>{rt.ignoreEmulatedMouseEvents=!0,$&&rt.isPointerDown&&isValidEvent$1(ct,a)&&(rt.isPointerDown=!1,et(ct))},st=getOwnerDocument$3(a.current);return st.addEventListener("mousedown",nt,!0),st.addEventListener("mouseup",it,!0),st.addEventListener("touchstart",nt,!0),st.addEventListener("touchend",ot,!0),()=>{st.removeEventListener("mousedown",nt,!0),st.removeEventListener("mouseup",it,!0),st.removeEventListener("touchstart",nt,!0),st.removeEventListener("touchend",ot,!0)}},[$,a,et,rt,j])}function isValidEvent$1(_,a){var $;const j=_.target;return j&&!getOwnerDocument$3(j).contains(j)?!1:!(($=a.current)!=null&&$.contains(j))}function useId(_,a){const $=reactExports.useId();return reactExports.useMemo(()=>_||[a,$].filter(Boolean).join("-"),[_,a,$])}function useControllableProp(_,a){const $=_!==void 0;return[$,$&&typeof _<"u"?_:a]}function useDisclosure$1(_={}){const{onClose:a,onOpen:$,isOpen:j,id:et}=_,tt=useCallbackRef($),rt=useCallbackRef(a),[nt,it]=reactExports.useState(_.defaultIsOpen||!1),[ot,st]=useControllableProp(j,nt),ct=useId(et,"disclosure"),ut=reactExports.useCallback(()=>{ot||it(!1),rt==null||rt()},[ot,rt]),ht=reactExports.useCallback(()=>{ot||it(!0),tt==null||tt()},[ot,tt]),Et=reactExports.useCallback(()=>{(st?ut:ht)()},[st,ht,ut]);return{isOpen:!!st,onOpen:ht,onClose:ut,onToggle:Et,isControlled:ot,getButtonProps:(St={})=>({...St,"aria-expanded":st,"aria-controls":ct,onClick:callAllHandlers(St.onClick,Et)}),getDisclosureProps:(St={})=>({...St,hidden:!st,id:ct})}}var[InputGroupStylesProvider,useInputGroupStyles]=createContext$1({name:"InputGroupStylesContext",errorMessage:`useInputGroupStyles returned is 'undefined'. Seems you forgot to wrap the components in "<InputGroup />" `}),InputGroup=forwardRef(function(a,$){const j=useMultiStyleConfig("Input",a),{children:et,className:tt,...rt}=omitThemingProps(a),nt=cx("chakra-input__group",tt),it={},ot=getValidChildren(et),st=j.field;ot.forEach(ut=>{var ht,Et;j&&(st&&ut.type.id==="InputLeftElement"&&(it.paddingStart=(ht=st.height)!=null?ht:st.h),st&&ut.type.id==="InputRightElement"&&(it.paddingEnd=(Et=st.height)!=null?Et:st.h),ut.type.id==="InputRightAddon"&&(it.borderEndRadius=0),ut.type.id==="InputLeftAddon"&&(it.borderStartRadius=0))});const ct=ot.map(ut=>{var ht,Et;const St=compact$1({size:((ht=ut.props)==null?void 0:ht.size)||a.size,variant:((Et=ut.props)==null?void 0:Et.variant)||a.variant});return ut.type.id!=="Input"?reactExports.cloneElement(ut,St):reactExports.cloneElement(ut,Object.assign(St,it,ut.props))});return jsxRuntimeExports.jsx(chakra.div,{className:nt,ref:$,__css:{width:"100%",display:"flex",position:"relative",isolation:"isolate",...j.group},"data-group":!0,...rt,children:jsxRuntimeExports.jsx(InputGroupStylesProvider,{value:j,children:ct})})});InputGroup.displayName="InputGroup";var StyledInputElement=chakra("div",{baseStyle:{display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",top:"0",zIndex:2}}),InputElement=forwardRef(function(a,$){var j,et;const{placement:tt="left",...rt}=a,nt=useInputGroupStyles(),it=nt.field,st={[tt==="left"?"insetStart":"insetEnd"]:"0",width:(j=it==null?void 0:it.height)!=null?j:it==null?void 0:it.h,height:(et=it==null?void 0:it.height)!=null?et:it==null?void 0:it.h,fontSize:it==null?void 0:it.fontSize,...nt.element};return jsxRuntimeExports.jsx(StyledInputElement,{ref:$,__css:st,...rt})});InputElement.id="InputElement";InputElement.displayName="InputElement";var InputLeftElement=forwardRef(function(a,$){const{className:j,...et}=a,tt=cx("chakra-input__left-element",j);return jsxRuntimeExports.jsx(InputElement,{ref:$,placement:"left",className:tt,...et})});InputLeftElement.id="InputLeftElement";InputLeftElement.displayName="InputLeftElement";var InputRightElement=forwardRef(function(a,$){const{className:j,...et}=a,tt=cx("chakra-input__right-element",j);return jsxRuntimeExports.jsx(InputElement,{ref:$,placement:"right",className:tt,...et})});InputRightElement.id="InputRightElement";InputRightElement.displayName="InputRightElement";var Input=forwardRef(function(a,$){const{htmlSize:j,...et}=a,tt=useMultiStyleConfig("Input",et),rt=omitThemingProps(et),nt=useFormControl(rt),it=cx("chakra-input",a.className);return jsxRuntimeExports.jsx(chakra.input,{size:j,...nt,__css:tt.field,ref:$,className:it})});Input.displayName="Input";Input.id="Input";var Link$1=forwardRef(function(a,$){const j=useStyleConfig("Link",a),{className:et,isExternal:tt,...rt}=omitThemingProps(a);return jsxRuntimeExports.jsx(chakra.a,{target:tt?"_blank":void 0,rel:tt?"noopener":void 0,ref:$,className:cx("chakra-link",et),...rt,__css:j})});Link$1.displayName="Link";var[ListStylesProvider,useListStyles]=createContext$1({name:"ListStylesContext",errorMessage:`useListStyles returned is 'undefined'. Seems you forgot to wrap the components in "<List />" `}),List=forwardRef(function(a,$){const j=useMultiStyleConfig("List",a),{children:et,styleType:tt="none",stylePosition:rt,spacing:nt,...it}=omitThemingProps(a),ot=getValidChildren(et),ct=nt?{["& > *:not(style) ~ *:not(style)"]:{mt:nt}}:{};return jsxRuntimeExports.jsx(ListStylesProvider,{value:j,children:jsxRuntimeExports.jsx(chakra.ul,{ref:$,listStyleType:tt,listStylePosition:rt,role:"list",__css:{...j.container,...ct},...it,children:ot})})});List.displayName="List";var OrderedList=forwardRef((_,a)=>{const{as:$,...j}=_;return jsxRuntimeExports.jsx(List,{ref:a,as:"ol",styleType:"decimal",marginStart:"1em",...j})});OrderedList.displayName="OrderedList";var UnorderedList=forwardRef(function(a,$){const{as:j,...et}=a;return jsxRuntimeExports.jsx(List,{ref:$,as:"ul",styleType:"initial",marginStart:"1em",...et})});UnorderedList.displayName="UnorderedList";var ListItem=forwardRef(function(a,$){const j=useListStyles();return jsxRuntimeExports.jsx(chakra.li,{ref:$,...a,__css:j.item})});ListItem.displayName="ListItem";var ListIcon=forwardRef(function(a,$){const j=useListStyles();return jsxRuntimeExports.jsx(Icon,{ref:$,role:"presentation",...a,__css:j.icon})});ListIcon.displayName="ListIcon";var Grid=forwardRef(function(a,$){const{templateAreas:j,gap:et,rowGap:tt,columnGap:rt,column:nt,row:it,autoFlow:ot,autoRows:st,templateRows:ct,autoColumns:ut,templateColumns:ht,...Et}=a,St={display:"grid",gridTemplateAreas:j,gridGap:et,gridRowGap:tt,gridColumnGap:rt,gridAutoColumns:ut,gridColumn:nt,gridRow:it,gridAutoFlow:ot,gridAutoRows:st,gridTemplateRows:ct,gridTemplateColumns:ht};return jsxRuntimeExports.jsx(chakra.div,{ref:$,__css:St,...Et})});Grid.displayName="Grid";function mapResponsive(_,a){return Array.isArray(_)?_.map($=>$===null?null:a($)):isObject$4(_)?Object.keys(_).reduce(($,j)=>($[j]=a(_[j]),$),{}):_!=null?a(_):null}var SimpleGrid=forwardRef(function(a,$){const{columns:j,spacingX:et,spacingY:tt,spacing:rt,minChildWidth:nt,...it}=a,ot=useTheme(),st=nt?widthToColumns(nt,ot):countToColumns(j);return jsxRuntimeExports.jsx(Grid,{ref:$,gap:rt,columnGap:et,rowGap:tt,templateColumns:st,...it})});SimpleGrid.displayName="SimpleGrid";function toPx(_){return typeof _=="number"?`${_}px`:_}function widthToColumns(_,a){return mapResponsive(_,$=>{const j=getToken("sizes",$,toPx($))(a);return $===null?null:`repeat(auto-fit, minmax(${j}, 1fr))`})}function countToColumns(_){return mapResponsive(_,a=>a===null?null:`repeat(${a}, minmax(0, 1fr))`)}var Text=forwardRef(function(a,$){const j=useStyleConfig("Text",a),{className:et,align:tt,decoration:rt,casing:nt,...it}=omitThemingProps(a),ot=compact$1({textAlign:a.align,textDecoration:a.decoration,textTransform:a.casing});return jsxRuntimeExports.jsx(chakra.p,{ref:$,className:cx("chakra-text",a.className),...ot,...it,__css:j})});Text.displayName="Text";var Wrap=forwardRef(function(a,$){const{spacing:j="0.5rem",spacingX:et,spacingY:tt,children:rt,justify:nt,direction:it,align:ot,className:st,shouldWrapChildren:ct,...ut}=a,ht=reactExports.useMemo(()=>ct?reactExports.Children.map(rt,(Et,St)=>jsxRuntimeExports.jsx(WrapItem,{children:Et},St)):rt,[rt,ct]);return jsxRuntimeExports.jsx(chakra.div,{ref:$,className:cx("chakra-wrap",st),...ut,children:jsxRuntimeExports.jsx(chakra.ul,{className:"chakra-wrap__list",__css:{display:"flex",flexWrap:"wrap",justifyContent:nt,alignItems:ot,flexDirection:it,listStyleType:"none",gap:j,columnGap:et,rowGap:tt,padding:"0"},children:ht})})});Wrap.displayName="Wrap";var WrapItem=forwardRef(function(a,$){const{className:j,...et}=a;return jsxRuntimeExports.jsx(chakra.li,{ref:$,__css:{display:"flex",alignItems:"flex-start"},className:cx("chakra-wrap__listitem",j),...et})});WrapItem.displayName="WrapItem";var StackItem=_=>jsxRuntimeExports.jsx(chakra.div,{className:"chakra-stack__item",..._,__css:{display:"inline-block",flex:"0 0 auto",minWidth:0,..._.__css}});StackItem.displayName="StackItem";function getDividerStyles(_){const{spacing:a,direction:$}=_,j={column:{my:a,mx:0,borderLeftWidth:0,borderBottomWidth:"1px"},"column-reverse":{my:a,mx:0,borderLeftWidth:0,borderBottomWidth:"1px"},row:{mx:a,my:0,borderLeftWidth:"1px",borderBottomWidth:0},"row-reverse":{mx:a,my:0,borderLeftWidth:"1px",borderBottomWidth:0}};return{"&":mapResponsive($,et=>j[et])}}var Stack=forwardRef((_,a)=>{const{isInline:$,direction:j,align:et,justify:tt,spacing:rt="0.5rem",wrap:nt,children:it,divider:ot,className:st,shouldWrapChildren:ct,...ut}=_,ht=$?"row":j??"column",Et=reactExports.useMemo(()=>getDividerStyles({spacing:rt,direction:ht}),[rt,ht]),St=!!ot,Mt=!ct&&!St,kt=reactExports.useMemo(()=>{const Ot=getValidChildren(it);return Mt?Ot:Ot.map((zt,Ut)=>{const Vt=typeof zt.key<"u"?zt.key:Ut,jt=Ut+1===Ot.length,Bt=ct?jsxRuntimeExports.jsx(StackItem,{children:zt},Vt):zt;if(!St)return Bt;const Nt=reactExports.cloneElement(ot,{__css:Et}),Lt=jt?null:Nt;return jsxRuntimeExports.jsxs(reactExports.Fragment,{children:[Bt,Lt]},Vt)})},[ot,Et,St,Mt,ct,it]),Ct=cx("chakra-stack",st);return jsxRuntimeExports.jsx(chakra.div,{ref:a,display:"flex",alignItems:et,justifyContent:tt,flexDirection:ht,flexWrap:nt,gap:St?void 0:rt,className:Ct,...ut,children:kt})});Stack.displayName="Stack";var VStack=forwardRef((_,a)=>jsxRuntimeExports.jsx(Stack,{align:"center",..._,direction:"column",ref:a}));VStack.displayName="VStack";function spanFn(_){return mapResponsive(_,a=>a==="auto"?"auto":`span ${a}/span ${a}`)}var GridItem=forwardRef(function(a,$){const{area:j,colSpan:et,colStart:tt,colEnd:rt,rowEnd:nt,rowSpan:it,rowStart:ot,...st}=a,ct=compact$1({gridArea:j,gridColumn:spanFn(et),gridRow:spanFn(it),gridColumnStart:tt,gridColumnEnd:rt,gridRowStart:ot,gridRowEnd:nt});return jsxRuntimeExports.jsx(chakra.div,{ref:$,__css:ct,...st})});GridItem.displayName="GridItem";var Heading=forwardRef(function(a,$){const j=useStyleConfig("Heading",a),{className:et,...tt}=omitThemingProps(a);return jsxRuntimeExports.jsx(chakra.h2,{ref:$,className:cx("chakra-heading",a.className),...tt,__css:j})});Heading.displayName="Heading";var Box=chakra("div");Box.displayName="Box";var Square=forwardRef(function(a,$){const{size:j,centerContent:et=!0,...tt}=a,rt=et?{display:"flex",alignItems:"center",justifyContent:"center"}:{};return jsxRuntimeExports.jsx(Box,{ref:$,boxSize:j,__css:{...rt,flexShrink:0,flexGrow:0},...tt})});Square.displayName="Square";var Circle=forwardRef(function(a,$){const{size:j,...et}=a;return jsxRuntimeExports.jsx(Square,{size:j,ref:$,borderRadius:"9999px",...et})});Circle.displayName="Circle";var AspectRatio=forwardRef(function(_,a){const{ratio:$=4/3,children:j,className:et,...tt}=_,rt=reactExports.Children.only(j),nt=cx("chakra-aspect-ratio",et);return jsxRuntimeExports.jsx(chakra.div,{ref:a,position:"relative",className:nt,_before:{height:0,content:'""',display:"block",paddingBottom:mapResponsive($,it=>`${1/it*100}%`)},__css:{"& > *:not(style)":{overflow:"hidden",position:"absolute",top:"0",right:"0",bottom:"0",left:"0",display:"flex",justifyContent:"center",alignItems:"center",width:"100%",height:"100%"},"& > img, & > video":{objectFit:"cover"}},...tt,children:rt})});AspectRatio.displayName="AspectRatio";var Center=chakra("div",{baseStyle:{display:"flex",alignItems:"center",justifyContent:"center"}});Center.displayName="Center";var centerStyles={horizontal:{insetStart:"50%",transform:"translateX(-50%)"},vertical:{top:"50%",transform:"translateY(-50%)"},both:{insetStart:"50%",top:"50%",transform:"translate(-50%, -50%)"}};forwardRef(function(a,$){const{axis:j="both",...et}=a;return jsxRuntimeExports.jsx(chakra.div,{ref:$,__css:centerStyles[j],...et,position:"absolute"})});var Divider=forwardRef(function(a,$){const{borderLeftWidth:j,borderBottomWidth:et,borderTopWidth:tt,borderRightWidth:rt,borderWidth:nt,borderStyle:it,borderColor:ot,...st}=useStyleConfig("Divider",a),{className:ct,orientation:ut="horizontal",__css:ht,...Et}=omitThemingProps(a),St={vertical:{borderLeftWidth:j||rt||nt||"1px",height:"100%"},horizontal:{borderBottomWidth:et||tt||nt||"1px",width:"100%"}};return jsxRuntimeExports.jsx(chakra.hr,{ref:$,"aria-orientation":ut,...Et,__css:{...st,border:"0",borderColor:ot,borderStyle:it,...St[ut],...ht},className:cx("chakra-divider",ct)})});Divider.displayName="Divider";var Flex=forwardRef(function(a,$){const{direction:j,align:et,justify:tt,wrap:rt,basis:nt,grow:it,shrink:ot,...st}=a,ct={display:"flex",flexDirection:j,alignItems:et,justifyContent:tt,flexWrap:rt,flexBasis:nt,flexGrow:it,flexShrink:ot};return jsxRuntimeExports.jsx(chakra.div,{ref:$,__css:ct,...st})});Flex.displayName="Flex";function useMediaQuery(_,a={}){const{ssr:$=!0,fallback:j}=a,{getWindow:et}=useEnvironment(),tt=Array.isArray(_)?_:[_];let rt=Array.isArray(j)?j:[j];rt=rt.filter(ot=>ot!=null);const[nt,it]=reactExports.useState(()=>tt.map((ot,st)=>({media:ot,matches:$?!!rt[st]:et().matchMedia(ot).matches})));return reactExports.useEffect(()=>{const ot=et();it(tt.map(ut=>({media:ut,matches:ot.matchMedia(ut).matches})));const st=tt.map(ut=>ot.matchMedia(ut)),ct=ut=>{it(ht=>ht.slice().map(Et=>Et.media===ut.media?{...Et,matches:ut.matches}:Et))};return st.forEach(ut=>{typeof ut.addListener=="function"?ut.addListener(ct):ut.addEventListener("change",ct)}),()=>{st.forEach(ut=>{typeof ut.removeListener=="function"?ut.removeListener(ct):ut.removeEventListener("change",ct)})}},[et]),nt.map(ot=>ot.matches)}function isPrintableCharacter(_){const{key:a}=_;return a.length===1||a.length>1&&/[^a-zA-Z0-9]/.test(a)}function useShortcut(_={}){const{timeout:a=300,preventDefault:$=()=>!0}=_,[j,et]=reactExports.useState([]),tt=reactExports.useRef(),rt=()=>{tt.current&&(clearTimeout(tt.current),tt.current=null)},nt=()=>{rt(),tt.current=setTimeout(()=>{et([]),tt.current=null},a)};reactExports.useEffect(()=>rt,[]);function it(ot){return st=>{if(st.key==="Backspace"){const ct=[...j];ct.pop(),et(ct);return}if(isPrintableCharacter(st)){const ct=j.concat(st.key);$(st)&&(st.preventDefault(),st.stopPropagation()),et(ct),ot(ct.join("")),nt()}}}return it}function getNextItemFromSearch(_,a,$,j){if(a==null)return j;if(!j)return _.find(rt=>$(rt).toLowerCase().startsWith(a.toLowerCase()));const et=_.filter(tt=>$(tt).toLowerCase().startsWith(a.toLowerCase()));if(et.length>0){let tt;return et.includes(j)?(tt=et.indexOf(j)+1,tt===et.length&&(tt=0),et[tt]):(tt=_.indexOf(et[0]),_[tt])}return j}function useEventListeners(){const _=reactExports.useRef(new Map),a=_.current,$=reactExports.useCallback((et,tt,rt,nt)=>{_.current.set(rt,{type:tt,el:et,options:nt}),et.addEventListener(tt,rt,nt)},[]),j=reactExports.useCallback((et,tt,rt,nt)=>{et.removeEventListener(tt,rt,nt),_.current.delete(rt)},[]);return reactExports.useEffect(()=>()=>{a.forEach((et,tt)=>{j(et.el,et.type,tt,et.options)})},[j,a]),{add:$,remove:j}}function isValidElement(_){const a=_.target,{tagName:$,isContentEditable:j}=a;return $!=="INPUT"&&$!=="TEXTAREA"&&j!==!0}function useClickable(_={}){const{ref:a,isDisabled:$,isFocusable:j,clickOnEnter:et=!0,clickOnSpace:tt=!0,onMouseDown:rt,onMouseUp:nt,onClick:it,onKeyDown:ot,onKeyUp:st,tabIndex:ct,onMouseOver:ut,onMouseLeave:ht,...Et}=_,[St,Mt]=reactExports.useState(!0),[kt,Ct]=reactExports.useState(!1),Ot=useEventListeners(),zt=xt=>{xt&&xt.tagName!=="BUTTON"&&Mt(!1)},Ut=St?ct:ct||0,Vt=$&&!j,jt=reactExports.useCallback(xt=>{if($){xt.stopPropagation(),xt.preventDefault();return}xt.currentTarget.focus(),it==null||it(xt)},[$,it]),$t=reactExports.useCallback(xt=>{kt&&isValidElement(xt)&&(xt.preventDefault(),xt.stopPropagation(),Ct(!1),Ot.remove(document,"keyup",$t,!1))},[kt,Ot]),Bt=reactExports.useCallback(xt=>{if(ot==null||ot(xt),$||xt.defaultPrevented||xt.metaKey||!isValidElement(xt.nativeEvent)||St)return;const wt=et&&xt.key==="Enter";tt&&xt.key===" "&&(xt.preventDefault(),Ct(!0)),wt&&(xt.preventDefault(),xt.currentTarget.click()),Ot.add(document,"keyup",$t,!1)},[$,St,ot,et,tt,Ot,$t]),Nt=reactExports.useCallback(xt=>{if(st==null||st(xt),$||xt.defaultPrevented||xt.metaKey||!isValidElement(xt.nativeEvent)||St)return;tt&&xt.key===" "&&(xt.preventDefault(),Ct(!1),xt.currentTarget.click())},[tt,St,$,st]),Lt=reactExports.useCallback(xt=>{xt.button===0&&(Ct(!1),Ot.remove(document,"mouseup",Lt,!1))},[Ot]),Pt=reactExports.useCallback(xt=>{if(xt.button!==0)return;if($){xt.stopPropagation(),xt.preventDefault();return}St||Ct(!0),xt.currentTarget.focus({preventScroll:!0}),Ot.add(document,"mouseup",Lt,!1),rt==null||rt(xt)},[$,St,rt,Ot,Lt]),bt=reactExports.useCallback(xt=>{xt.button===0&&(St||Ct(!1),nt==null||nt(xt))},[nt,St]),at=reactExports.useCallback(xt=>{if($){xt.preventDefault();return}ut==null||ut(xt)},[$,ut]),dt=reactExports.useCallback(xt=>{kt&&(xt.preventDefault(),Ct(!1)),ht==null||ht(xt)},[kt,ht]),vt=mergeRefs(a,zt);return St?{...Et,ref:vt,type:"button","aria-disabled":Vt?void 0:$,disabled:Vt,onClick:jt,onMouseDown:rt,onMouseUp:nt,onKeyUp:st,onKeyDown:ot,onMouseOver:ut,onMouseLeave:ht}:{...Et,ref:vt,role:"button","data-active":dataAttr(kt),"aria-disabled":$?"true":void 0,tabIndex:Vt?void 0:Ut,onClick:jt,onMouseDown:Pt,onMouseUp:bt,onKeyUp:Nt,onKeyDown:Bt,onMouseOver:at,onMouseLeave:dt}}function preventReturnFocus(_){const a=_.current;if(!a)return!1;const $=getActiveElement(a);return!$||a.contains($)?!1:!!isTabbable($)}function useFocusOnHide(_,a){const{shouldFocus:$,visible:j,focusRef:et}=a,tt=$&&!j;useUpdateEffect(()=>{if(!tt||preventReturnFocus(_))return;const rt=(et==null?void 0:et.current)||_.current;let nt;if(rt)return nt=requestAnimationFrame(()=>{rt.focus({preventScroll:!0})}),()=>{cancelAnimationFrame(nt)}},[tt,_,et])}var defaultOptions$2={preventScroll:!0,shouldFocus:!1};function useFocusOnShow(_,a=defaultOptions$2){const{focusRef:$,preventScroll:j,shouldFocus:et,visible:tt}=a,rt=isRefObject(_)?_.current:_,nt=et&&tt,it=reactExports.useRef(nt),ot=reactExports.useRef(tt);useSafeLayoutEffect$2(()=>{!ot.current&&tt&&(it.current=nt),ot.current=tt},[tt,nt]);const st=reactExports.useCallback(()=>{if(!(!tt||!rt||!it.current)&&(it.current=!1,!rt.contains(document.activeElement)))if($!=null&&$.current)requestAnimationFrame(()=>{var ct;(ct=$.current)==null||ct.focus({preventScroll:j})});else{const ct=getAllFocusable(rt);ct.length>0&&requestAnimationFrame(()=>{ct[0].focus({preventScroll:j})})}},[tt,j,rt,$]);useUpdateEffect(()=>{st()},[st]),useEventListener(rt,"transitionend",st)}function isRefObject(_){return"current"in _}var toVar=(_,a)=>({var:_,varRef:a?`var(${_}, ${a})`:`var(${_})`}),cssVars={arrowShadowColor:toVar("--popper-arrow-shadow-color"),arrowSize:toVar("--popper-arrow-size","8px"),arrowSizeHalf:toVar("--popper-arrow-size-half"),arrowBg:toVar("--popper-arrow-bg"),transformOrigin:toVar("--popper-transform-origin"),arrowOffset:toVar("--popper-arrow-offset")};function getBoxShadow(_){if(_.includes("top"))return"1px 1px 0px 0 var(--popper-arrow-shadow-color)";if(_.includes("bottom"))return"-1px -1px 0px 0 var(--popper-arrow-shadow-color)";if(_.includes("right"))return"-1px 1px 0px 0 var(--popper-arrow-shadow-color)";if(_.includes("left"))return"1px -1px 0px 0 var(--popper-arrow-shadow-color)"}var transforms={top:"bottom center","top-start":"bottom left","top-end":"bottom right",bottom:"top center","bottom-start":"top left","bottom-end":"top right",left:"right center","left-start":"right top","left-end":"right bottom",right:"left center","right-start":"left top","right-end":"left bottom"},toTransformOrigin=_=>transforms[_],defaultEventListeners={scroll:!0,resize:!0};function getEventListenerOptions(_){let a;return typeof _=="object"?a={enabled:!0,options:{...defaultEventListeners,..._}}:a={enabled:_,options:defaultEventListeners},a}var matchWidth={name:"matchWidth",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:({state:_})=>{_.styles.popper.width=`${_.rects.reference.width}px`},effect:({state:_})=>()=>{const a=_.elements.reference;_.elements.popper.style.width=`${a.offsetWidth}px`}},transformOrigin={name:"transformOrigin",enabled:!0,phase:"write",fn:({state:_})=>{setTransformOrigin(_)},effect:({state:_})=>()=>{setTransformOrigin(_)}},setTransformOrigin=_=>{_.elements.popper.style.setProperty(cssVars.transformOrigin.var,toTransformOrigin(_.placement))},positionArrow={name:"positionArrow",enabled:!0,phase:"afterWrite",fn:({state:_})=>{setArrowStyles(_)}},setArrowStyles=_=>{var a;if(!_.placement)return;const $=getArrowStyle$1(_.placement);if((a=_.elements)!=null&&a.arrow&&$){Object.assign(_.elements.arrow.style,{[$.property]:$.value,width:cssVars.arrowSize.varRef,height:cssVars.arrowSize.varRef,zIndex:-1});const j={[cssVars.arrowSizeHalf.var]:`calc(${cssVars.arrowSize.varRef} / 2 - 1px)`,[cssVars.arrowOffset.var]:`calc(${cssVars.arrowSizeHalf.varRef} * -1)`};for(const et in j)_.elements.arrow.style.setProperty(et,j[et])}},getArrowStyle$1=_=>{if(_.startsWith("top"))return{property:"bottom",value:cssVars.arrowOffset.varRef};if(_.startsWith("bottom"))return{property:"top",value:cssVars.arrowOffset.varRef};if(_.startsWith("left"))return{property:"right",value:cssVars.arrowOffset.varRef};if(_.startsWith("right"))return{property:"left",value:cssVars.arrowOffset.varRef}},innerArrow={name:"innerArrow",enabled:!0,phase:"main",requires:["arrow"],fn:({state:_})=>{setInnerArrowStyles(_)},effect:({state:_})=>()=>{setInnerArrowStyles(_)}},setInnerArrowStyles=_=>{if(!_.elements.arrow)return;const a=_.elements.arrow.querySelector("[data-popper-arrow-inner]");if(!a)return;const $=getBoxShadow(_.placement);$&&a.style.setProperty("--popper-arrow-default-shadow",$),Object.assign(a.style,{transform:"rotate(45deg)",background:cssVars.arrowBg.varRef,top:0,left:0,width:"100%",height:"100%",position:"absolute",zIndex:"inherit",boxShadow:"var(--popper-arrow-shadow, var(--popper-arrow-default-shadow))"})},logicals={"start-start":{ltr:"left-start",rtl:"right-start"},"start-end":{ltr:"left-end",rtl:"right-end"},"end-start":{ltr:"right-start",rtl:"left-start"},"end-end":{ltr:"right-end",rtl:"left-end"},start:{ltr:"left",rtl:"right"},end:{ltr:"right",rtl:"left"}},opposites={"auto-start":"auto-end","auto-end":"auto-start","top-start":"top-end","top-end":"top-start","bottom-start":"bottom-end","bottom-end":"bottom-start"};function getPopperPlacement(_,a="ltr"){var $,j;const et=(($=logicals[_])==null?void 0:$[a])||_;return a==="ltr"?et:(j=opposites[_])!=null?j:et}var top="top",bottom="bottom",right="right",left="left",auto="auto",basePlacements=[top,bottom,right,left],start="start",end="end",clippingParents="clippingParents",viewport="viewport",popper="popper",reference="reference",variationPlacements=basePlacements.reduce(function(_,a){return _.concat([a+"-"+start,a+"-"+end])},[]),placements=[].concat(basePlacements,[auto]).reduce(function(_,a){return _.concat([a,a+"-"+start,a+"-"+end])},[]),beforeRead="beforeRead",read="read",afterRead="afterRead",beforeMain="beforeMain",main$2="main",afterMain="afterMain",beforeWrite="beforeWrite",write="write",afterWrite="afterWrite",modifierPhases=[beforeRead,read,afterRead,beforeMain,main$2,afterMain,beforeWrite,write,afterWrite];function getNodeName(_){return _?(_.nodeName||"").toLowerCase():null}function getWindow(_){if(_==null)return window;if(_.toString()!=="[object Window]"){var a=_.ownerDocument;return a&&a.defaultView||window}return _}function isElement$1(_){var a=getWindow(_).Element;return _ instanceof a||_ instanceof Element}function isHTMLElement$2(_){var a=getWindow(_).HTMLElement;return _ instanceof a||_ instanceof HTMLElement}function isShadowRoot(_){if(typeof ShadowRoot>"u")return!1;var a=getWindow(_).ShadowRoot;return _ instanceof a||_ instanceof ShadowRoot}function applyStyles(_){var a=_.state;Object.keys(a.elements).forEach(function($){var j=a.styles[$]||{},et=a.attributes[$]||{},tt=a.elements[$];!isHTMLElement$2(tt)||!getNodeName(tt)||(Object.assign(tt.style,j),Object.keys(et).forEach(function(rt){var nt=et[rt];nt===!1?tt.removeAttribute(rt):tt.setAttribute(rt,nt===!0?"":nt)}))})}function effect$2(_){var a=_.state,$={popper:{position:a.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(a.elements.popper.style,$.popper),a.styles=$,a.elements.arrow&&Object.assign(a.elements.arrow.style,$.arrow),function(){Object.keys(a.elements).forEach(function(j){var et=a.elements[j],tt=a.attributes[j]||{},rt=Object.keys(a.styles.hasOwnProperty(j)?a.styles[j]:$[j]),nt=rt.reduce(function(it,ot){return it[ot]="",it},{});!isHTMLElement$2(et)||!getNodeName(et)||(Object.assign(et.style,nt),Object.keys(tt).forEach(function(it){et.removeAttribute(it)}))})}}const applyStyles$1={name:"applyStyles",enabled:!0,phase:"write",fn:applyStyles,effect:effect$2,requires:["computeStyles"]};function getBasePlacement(_){return _.split("-")[0]}var max$1=Math.max,min=Math.min,round=Math.round;function getUAString(){var _=navigator.userAgentData;return _!=null&&_.brands&&Array.isArray(_.brands)?_.brands.map(function(a){return a.brand+"/"+a.version}).join(" "):navigator.userAgent}function isLayoutViewport(){return!/^((?!chrome|android).)*safari/i.test(getUAString())}function getBoundingClientRect(_,a,$){a===void 0&&(a=!1),$===void 0&&($=!1);var j=_.getBoundingClientRect(),et=1,tt=1;a&&isHTMLElement$2(_)&&(et=_.offsetWidth>0&&round(j.width)/_.offsetWidth||1,tt=_.offsetHeight>0&&round(j.height)/_.offsetHeight||1);var rt=isElement$1(_)?getWindow(_):window,nt=rt.visualViewport,it=!isLayoutViewport()&&$,ot=(j.left+(it&&nt?nt.offsetLeft:0))/et,st=(j.top+(it&&nt?nt.offsetTop:0))/tt,ct=j.width/et,ut=j.height/tt;return{width:ct,height:ut,top:st,right:ot+ct,bottom:st+ut,left:ot,x:ot,y:st}}function getLayoutRect(_){var a=getBoundingClientRect(_),$=_.offsetWidth,j=_.offsetHeight;return Math.abs(a.width-$)<=1&&($=a.width),Math.abs(a.height-j)<=1&&(j=a.height),{x:_.offsetLeft,y:_.offsetTop,width:$,height:j}}function contains$1(_,a){var $=a.getRootNode&&a.getRootNode();if(_.contains(a))return!0;if($&&isShadowRoot($)){var j=a;do{if(j&&_.isSameNode(j))return!0;j=j.parentNode||j.host}while(j)}return!1}function getComputedStyle$1(_){return getWindow(_).getComputedStyle(_)}function isTableElement(_){return["table","td","th"].indexOf(getNodeName(_))>=0}function getDocumentElement(_){return((isElement$1(_)?_.ownerDocument:_.document)||window.document).documentElement}function getParentNode(_){return getNodeName(_)==="html"?_:_.assignedSlot||_.parentNode||(isShadowRoot(_)?_.host:null)||getDocumentElement(_)}function getTrueOffsetParent(_){return!isHTMLElement$2(_)||getComputedStyle$1(_).position==="fixed"?null:_.offsetParent}function getContainingBlock(_){var a=/firefox/i.test(getUAString()),$=/Trident/i.test(getUAString());if($&&isHTMLElement$2(_)){var j=getComputedStyle$1(_);if(j.position==="fixed")return null}var et=getParentNode(_);for(isShadowRoot(et)&&(et=et.host);isHTMLElement$2(et)&&["html","body"].indexOf(getNodeName(et))<0;){var tt=getComputedStyle$1(et);if(tt.transform!=="none"||tt.perspective!=="none"||tt.contain==="paint"||["transform","perspective"].indexOf(tt.willChange)!==-1||a&&tt.willChange==="filter"||a&&tt.filter&&tt.filter!=="none")return et;et=et.parentNode}return null}function getOffsetParent(_){for(var a=getWindow(_),$=getTrueOffsetParent(_);$&&isTableElement($)&&getComputedStyle$1($).position==="static";)$=getTrueOffsetParent($);return $&&(getNodeName($)==="html"||getNodeName($)==="body"&&getComputedStyle$1($).position==="static")?a:$||getContainingBlock(_)||a}function getMainAxisFromPlacement(_){return["top","bottom"].indexOf(_)>=0?"x":"y"}function within(_,a,$){return max$1(_,min(a,$))}function withinMaxClamp(_,a,$){var j=within(_,a,$);return j>$?$:j}function getFreshSideObject(){return{top:0,right:0,bottom:0,left:0}}function mergePaddingObject(_){return Object.assign({},getFreshSideObject(),_)}function expandToHashMap(_,a){return a.reduce(function($,j){return $[j]=_,$},{})}var toPaddingObject=function(a,$){return a=typeof a=="function"?a(Object.assign({},$.rects,{placement:$.placement})):a,mergePaddingObject(typeof a!="number"?a:expandToHashMap(a,basePlacements))};function arrow(_){var a,$=_.state,j=_.name,et=_.options,tt=$.elements.arrow,rt=$.modifiersData.popperOffsets,nt=getBasePlacement($.placement),it=getMainAxisFromPlacement(nt),ot=[left,right].indexOf(nt)>=0,st=ot?"height":"width";if(!(!tt||!rt)){var ct=toPaddingObject(et.padding,$),ut=getLayoutRect(tt),ht=it==="y"?top:left,Et=it==="y"?bottom:right,St=$.rects.reference[st]+$.rects.reference[it]-rt[it]-$.rects.popper[st],Mt=rt[it]-$.rects.reference[it],kt=getOffsetParent(tt),Ct=kt?it==="y"?kt.clientHeight||0:kt.clientWidth||0:0,Ot=St/2-Mt/2,zt=ct[ht],Ut=Ct-ut[st]-ct[Et],Vt=Ct/2-ut[st]/2+Ot,jt=within(zt,Vt,Ut),$t=it;$.modifiersData[j]=(a={},a[$t]=jt,a.centerOffset=jt-Vt,a)}}function effect$1(_){var a=_.state,$=_.options,j=$.element,et=j===void 0?"[data-popper-arrow]":j;et!=null&&(typeof et=="string"&&(et=a.elements.popper.querySelector(et),!et)||contains$1(a.elements.popper,et)&&(a.elements.arrow=et))}const arrow$1={name:"arrow",enabled:!0,phase:"main",fn:arrow,effect:effect$1,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function getVariation(_){return _.split("-")[1]}var unsetSides={top:"auto",right:"auto",bottom:"auto",left:"auto"};function roundOffsetsByDPR(_,a){var $=_.x,j=_.y,et=a.devicePixelRatio||1;return{x:round($*et)/et||0,y:round(j*et)/et||0}}function mapToStyles(_){var a,$=_.popper,j=_.popperRect,et=_.placement,tt=_.variation,rt=_.offsets,nt=_.position,it=_.gpuAcceleration,ot=_.adaptive,st=_.roundOffsets,ct=_.isFixed,ut=rt.x,ht=ut===void 0?0:ut,Et=rt.y,St=Et===void 0?0:Et,Mt=typeof st=="function"?st({x:ht,y:St}):{x:ht,y:St};ht=Mt.x,St=Mt.y;var kt=rt.hasOwnProperty("x"),Ct=rt.hasOwnProperty("y"),Ot=left,zt=top,Ut=window;if(ot){var Vt=getOffsetParent($),jt="clientHeight",$t="clientWidth";if(Vt===getWindow($)&&(Vt=getDocumentElement($),getComputedStyle$1(Vt).position!=="static"&&nt==="absolute"&&(jt="scrollHeight",$t="scrollWidth")),Vt=Vt,et===top||(et===left||et===right)&&tt===end){zt=bottom;var Bt=ct&&Vt===Ut&&Ut.visualViewport?Ut.visualViewport.height:Vt[jt];St-=Bt-j.height,St*=it?1:-1}if(et===left||(et===top||et===bottom)&&tt===end){Ot=right;var Nt=ct&&Vt===Ut&&Ut.visualViewport?Ut.visualViewport.width:Vt[$t];ht-=Nt-j.width,ht*=it?1:-1}}var Lt=Object.assign({position:nt},ot&&unsetSides),Pt=st===!0?roundOffsetsByDPR({x:ht,y:St},getWindow($)):{x:ht,y:St};if(ht=Pt.x,St=Pt.y,it){var bt;return Object.assign({},Lt,(bt={},bt[zt]=Ct?"0":"",bt[Ot]=kt?"0":"",bt.transform=(Ut.devicePixelRatio||1)<=1?"translate("+ht+"px, "+St+"px)":"translate3d("+ht+"px, "+St+"px, 0)",bt))}return Object.assign({},Lt,(a={},a[zt]=Ct?St+"px":"",a[Ot]=kt?ht+"px":"",a.transform="",a))}function computeStyles(_){var a=_.state,$=_.options,j=$.gpuAcceleration,et=j===void 0?!0:j,tt=$.adaptive,rt=tt===void 0?!0:tt,nt=$.roundOffsets,it=nt===void 0?!0:nt,ot={placement:getBasePlacement(a.placement),variation:getVariation(a.placement),popper:a.elements.popper,popperRect:a.rects.popper,gpuAcceleration:et,isFixed:a.options.strategy==="fixed"};a.modifiersData.popperOffsets!=null&&(a.styles.popper=Object.assign({},a.styles.popper,mapToStyles(Object.assign({},ot,{offsets:a.modifiersData.popperOffsets,position:a.options.strategy,adaptive:rt,roundOffsets:it})))),a.modifiersData.arrow!=null&&(a.styles.arrow=Object.assign({},a.styles.arrow,mapToStyles(Object.assign({},ot,{offsets:a.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:it})))),a.attributes.popper=Object.assign({},a.attributes.popper,{"data-popper-placement":a.placement})}const computeStyles$1={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:computeStyles,data:{}};var passive={passive:!0};function effect(_){var a=_.state,$=_.instance,j=_.options,et=j.scroll,tt=et===void 0?!0:et,rt=j.resize,nt=rt===void 0?!0:rt,it=getWindow(a.elements.popper),ot=[].concat(a.scrollParents.reference,a.scrollParents.popper);return tt&&ot.forEach(function(st){st.addEventListener("scroll",$.update,passive)}),nt&&it.addEventListener("resize",$.update,passive),function(){tt&&ot.forEach(function(st){st.removeEventListener("scroll",$.update,passive)}),nt&&it.removeEventListener("resize",$.update,passive)}}const eventListeners={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect,data:{}};var hash$8={left:"right",right:"left",bottom:"top",top:"bottom"};function getOppositePlacement(_){return _.replace(/left|right|bottom|top/g,function(a){return hash$8[a]})}var hash$7={start:"end",end:"start"};function getOppositeVariationPlacement(_){return _.replace(/start|end/g,function(a){return hash$7[a]})}function getWindowScroll(_){var a=getWindow(_),$=a.pageXOffset,j=a.pageYOffset;return{scrollLeft:$,scrollTop:j}}function getWindowScrollBarX(_){return getBoundingClientRect(getDocumentElement(_)).left+getWindowScroll(_).scrollLeft}function getViewportRect(_,a){var $=getWindow(_),j=getDocumentElement(_),et=$.visualViewport,tt=j.clientWidth,rt=j.clientHeight,nt=0,it=0;if(et){tt=et.width,rt=et.height;var ot=isLayoutViewport();(ot||!ot&&a==="fixed")&&(nt=et.offsetLeft,it=et.offsetTop)}return{width:tt,height:rt,x:nt+getWindowScrollBarX(_),y:it}}function getDocumentRect(_){var a,$=getDocumentElement(_),j=getWindowScroll(_),et=(a=_.ownerDocument)==null?void 0:a.body,tt=max$1($.scrollWidth,$.clientWidth,et?et.scrollWidth:0,et?et.clientWidth:0),rt=max$1($.scrollHeight,$.clientHeight,et?et.scrollHeight:0,et?et.clientHeight:0),nt=-j.scrollLeft+getWindowScrollBarX(_),it=-j.scrollTop;return getComputedStyle$1(et||$).direction==="rtl"&&(nt+=max$1($.clientWidth,et?et.clientWidth:0)-tt),{width:tt,height:rt,x:nt,y:it}}function isScrollParent(_){var a=getComputedStyle$1(_),$=a.overflow,j=a.overflowX,et=a.overflowY;return/auto|scroll|overlay|hidden/.test($+et+j)}function getScrollParent(_){return["html","body","#document"].indexOf(getNodeName(_))>=0?_.ownerDocument.body:isHTMLElement$2(_)&&isScrollParent(_)?_:getScrollParent(getParentNode(_))}function listScrollParents(_,a){var $;a===void 0&&(a=[]);var j=getScrollParent(_),et=j===(($=_.ownerDocument)==null?void 0:$.body),tt=getWindow(j),rt=et?[tt].concat(tt.visualViewport||[],isScrollParent(j)?j:[]):j,nt=a.concat(rt);return et?nt:nt.concat(listScrollParents(getParentNode(rt)))}function rectToClientRect(_){return Object.assign({},_,{left:_.x,top:_.y,right:_.x+_.width,bottom:_.y+_.height})}function getInnerBoundingClientRect(_,a){var $=getBoundingClientRect(_,!1,a==="fixed");return $.top=$.top+_.clientTop,$.left=$.left+_.clientLeft,$.bottom=$.top+_.clientHeight,$.right=$.left+_.clientWidth,$.width=_.clientWidth,$.height=_.clientHeight,$.x=$.left,$.y=$.top,$}function getClientRectFromMixedType(_,a,$){return a===viewport?rectToClientRect(getViewportRect(_,$)):isElement$1(a)?getInnerBoundingClientRect(a,$):rectToClientRect(getDocumentRect(getDocumentElement(_)))}function getClippingParents(_){var a=listScrollParents(getParentNode(_)),$=["absolute","fixed"].indexOf(getComputedStyle$1(_).position)>=0,j=$&&isHTMLElement$2(_)?getOffsetParent(_):_;return isElement$1(j)?a.filter(function(et){return isElement$1(et)&&contains$1(et,j)&&getNodeName(et)!=="body"}):[]}function getClippingRect(_,a,$,j){var et=a==="clippingParents"?getClippingParents(_):[].concat(a),tt=[].concat(et,[$]),rt=tt[0],nt=tt.reduce(function(it,ot){var st=getClientRectFromMixedType(_,ot,j);return it.top=max$1(st.top,it.top),it.right=min(st.right,it.right),it.bottom=min(st.bottom,it.bottom),it.left=max$1(st.left,it.left),it},getClientRectFromMixedType(_,rt,j));return nt.width=nt.right-nt.left,nt.height=nt.bottom-nt.top,nt.x=nt.left,nt.y=nt.top,nt}function computeOffsets(_){var a=_.reference,$=_.element,j=_.placement,et=j?getBasePlacement(j):null,tt=j?getVariation(j):null,rt=a.x+a.width/2-$.width/2,nt=a.y+a.height/2-$.height/2,it;switch(et){case top:it={x:rt,y:a.y-$.height};break;case bottom:it={x:rt,y:a.y+a.height};break;case right:it={x:a.x+a.width,y:nt};break;case left:it={x:a.x-$.width,y:nt};break;default:it={x:a.x,y:a.y}}var ot=et?getMainAxisFromPlacement(et):null;if(ot!=null){var st=ot==="y"?"height":"width";switch(tt){case start:it[ot]=it[ot]-(a[st]/2-$[st]/2);break;case end:it[ot]=it[ot]+(a[st]/2-$[st]/2);break}}return it}function detectOverflow(_,a){a===void 0&&(a={});var $=a,j=$.placement,et=j===void 0?_.placement:j,tt=$.strategy,rt=tt===void 0?_.strategy:tt,nt=$.boundary,it=nt===void 0?clippingParents:nt,ot=$.rootBoundary,st=ot===void 0?viewport:ot,ct=$.elementContext,ut=ct===void 0?popper:ct,ht=$.altBoundary,Et=ht===void 0?!1:ht,St=$.padding,Mt=St===void 0?0:St,kt=mergePaddingObject(typeof Mt!="number"?Mt:expandToHashMap(Mt,basePlacements)),Ct=ut===popper?reference:popper,Ot=_.rects.popper,zt=_.elements[Et?Ct:ut],Ut=getClippingRect(isElement$1(zt)?zt:zt.contextElement||getDocumentElement(_.elements.popper),it,st,rt),Vt=getBoundingClientRect(_.elements.reference),jt=computeOffsets({reference:Vt,element:Ot,strategy:"absolute",placement:et}),$t=rectToClientRect(Object.assign({},Ot,jt)),Bt=ut===popper?$t:Vt,Nt={top:Ut.top-Bt.top+kt.top,bottom:Bt.bottom-Ut.bottom+kt.bottom,left:Ut.left-Bt.left+kt.left,right:Bt.right-Ut.right+kt.right},Lt=_.modifiersData.offset;if(ut===popper&&Lt){var Pt=Lt[et];Object.keys(Nt).forEach(function(bt){var at=[right,bottom].indexOf(bt)>=0?1:-1,dt=[top,bottom].indexOf(bt)>=0?"y":"x";Nt[bt]+=Pt[dt]*at})}return Nt}function computeAutoPlacement(_,a){a===void 0&&(a={});var $=a,j=$.placement,et=$.boundary,tt=$.rootBoundary,rt=$.padding,nt=$.flipVariations,it=$.allowedAutoPlacements,ot=it===void 0?placements:it,st=getVariation(j),ct=st?nt?variationPlacements:variationPlacements.filter(function(Et){return getVariation(Et)===st}):basePlacements,ut=ct.filter(function(Et){return ot.indexOf(Et)>=0});ut.length===0&&(ut=ct);var ht=ut.reduce(function(Et,St){return Et[St]=detectOverflow(_,{placement:St,boundary:et,rootBoundary:tt,padding:rt})[getBasePlacement(St)],Et},{});return Object.keys(ht).sort(function(Et,St){return ht[Et]-ht[St]})}function getExpandedFallbackPlacements(_){if(getBasePlacement(_)===auto)return[];var a=getOppositePlacement(_);return[getOppositeVariationPlacement(_),a,getOppositeVariationPlacement(a)]}function flip(_){var a=_.state,$=_.options,j=_.name;if(!a.modifiersData[j]._skip){for(var et=$.mainAxis,tt=et===void 0?!0:et,rt=$.altAxis,nt=rt===void 0?!0:rt,it=$.fallbackPlacements,ot=$.padding,st=$.boundary,ct=$.rootBoundary,ut=$.altBoundary,ht=$.flipVariations,Et=ht===void 0?!0:ht,St=$.allowedAutoPlacements,Mt=a.options.placement,kt=getBasePlacement(Mt),Ct=kt===Mt,Ot=it||(Ct||!Et?[getOppositePlacement(Mt)]:getExpandedFallbackPlacements(Mt)),zt=[Mt].concat(Ot).reduce(function(rr,ir){return rr.concat(getBasePlacement(ir)===auto?computeAutoPlacement(a,{placement:ir,boundary:st,rootBoundary:ct,padding:ot,flipVariations:Et,allowedAutoPlacements:St}):ir)},[]),Ut=a.rects.reference,Vt=a.rects.popper,jt=new Map,$t=!0,Bt=zt[0],Nt=0;Nt<zt.length;Nt++){var Lt=zt[Nt],Pt=getBasePlacement(Lt),bt=getVariation(Lt)===start,at=[top,bottom].indexOf(Pt)>=0,dt=at?"width":"height",vt=detectOverflow(a,{placement:Lt,boundary:st,rootBoundary:ct,altBoundary:ut,padding:ot}),xt=at?bt?right:left:bt?bottom:top;Ut[dt]>Vt[dt]&&(xt=getOppositePlacement(xt));var wt=getOppositePlacement(xt),_t=[];if(tt&&_t.push(vt[Pt]<=0),nt&&_t.push(vt[xt]<=0,vt[wt]<=0),_t.every(function(rr){return rr})){Bt=Lt,$t=!1;break}jt.set(Lt,_t)}if($t)for(var At=Et?3:1,Tt=function(ir){var nr=zt.find(function(Gt){var qt=jt.get(Gt);if(qt)return qt.slice(0,ir).every(function(Jt){return Jt})});if(nr)return Bt=nr,"break"},yt=At;yt>0;yt--){var It=Tt(yt);if(It==="break")break}a.placement!==Bt&&(a.modifiersData[j]._skip=!0,a.placement=Bt,a.reset=!0)}}const flip$1={name:"flip",enabled:!0,phase:"main",fn:flip,requiresIfExists:["offset"],data:{_skip:!1}};function getSideOffsets(_,a,$){return $===void 0&&($={x:0,y:0}),{top:_.top-a.height-$.y,right:_.right-a.width+$.x,bottom:_.bottom-a.height+$.y,left:_.left-a.width-$.x}}function isAnySideFullyClipped(_){return[top,right,bottom,left].some(function(a){return _[a]>=0})}function hide(_){var a=_.state,$=_.name,j=a.rects.reference,et=a.rects.popper,tt=a.modifiersData.preventOverflow,rt=detectOverflow(a,{elementContext:"reference"}),nt=detectOverflow(a,{altBoundary:!0}),it=getSideOffsets(rt,j),ot=getSideOffsets(nt,et,tt),st=isAnySideFullyClipped(it),ct=isAnySideFullyClipped(ot);a.modifiersData[$]={referenceClippingOffsets:it,popperEscapeOffsets:ot,isReferenceHidden:st,hasPopperEscaped:ct},a.attributes.popper=Object.assign({},a.attributes.popper,{"data-popper-reference-hidden":st,"data-popper-escaped":ct})}const hide$1={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:hide};function distanceAndSkiddingToXY(_,a,$){var j=getBasePlacement(_),et=[left,top].indexOf(j)>=0?-1:1,tt=typeof $=="function"?$(Object.assign({},a,{placement:_})):$,rt=tt[0],nt=tt[1];return rt=rt||0,nt=(nt||0)*et,[left,right].indexOf(j)>=0?{x:nt,y:rt}:{x:rt,y:nt}}function offset(_){var a=_.state,$=_.options,j=_.name,et=$.offset,tt=et===void 0?[0,0]:et,rt=placements.reduce(function(st,ct){return st[ct]=distanceAndSkiddingToXY(ct,a.rects,tt),st},{}),nt=rt[a.placement],it=nt.x,ot=nt.y;a.modifiersData.popperOffsets!=null&&(a.modifiersData.popperOffsets.x+=it,a.modifiersData.popperOffsets.y+=ot),a.modifiersData[j]=rt}const offset$1={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:offset};function popperOffsets(_){var a=_.state,$=_.name;a.modifiersData[$]=computeOffsets({reference:a.rects.reference,element:a.rects.popper,strategy:"absolute",placement:a.placement})}const popperOffsets$1={name:"popperOffsets",enabled:!0,phase:"read",fn:popperOffsets,data:{}};function getAltAxis(_){return _==="x"?"y":"x"}function preventOverflow(_){var a=_.state,$=_.options,j=_.name,et=$.mainAxis,tt=et===void 0?!0:et,rt=$.altAxis,nt=rt===void 0?!1:rt,it=$.boundary,ot=$.rootBoundary,st=$.altBoundary,ct=$.padding,ut=$.tether,ht=ut===void 0?!0:ut,Et=$.tetherOffset,St=Et===void 0?0:Et,Mt=detectOverflow(a,{boundary:it,rootBoundary:ot,padding:ct,altBoundary:st}),kt=getBasePlacement(a.placement),Ct=getVariation(a.placement),Ot=!Ct,zt=getMainAxisFromPlacement(kt),Ut=getAltAxis(zt),Vt=a.modifiersData.popperOffsets,jt=a.rects.reference,$t=a.rects.popper,Bt=typeof St=="function"?St(Object.assign({},a.rects,{placement:a.placement})):St,Nt=typeof Bt=="number"?{mainAxis:Bt,altAxis:Bt}:Object.assign({mainAxis:0,altAxis:0},Bt),Lt=a.modifiersData.offset?a.modifiersData.offset[a.placement]:null,Pt={x:0,y:0};if(Vt){if(tt){var bt,at=zt==="y"?top:left,dt=zt==="y"?bottom:right,vt=zt==="y"?"height":"width",xt=Vt[zt],wt=xt+Mt[at],_t=xt-Mt[dt],At=ht?-$t[vt]/2:0,Tt=Ct===start?jt[vt]:$t[vt],yt=Ct===start?-$t[vt]:-jt[vt],It=a.elements.arrow,rr=ht&&It?getLayoutRect(It):{width:0,height:0},ir=a.modifiersData["arrow#persistent"]?a.modifiersData["arrow#persistent"].padding:getFreshSideObject(),nr=ir[at],Gt=ir[dt],qt=within(0,jt[vt],rr[vt]),Jt=Ot?jt[vt]/2-At-qt-nr-Nt.mainAxis:Tt-qt-nr-Nt.mainAxis,Ft=Ot?-jt[vt]/2+At+qt+Gt+Nt.mainAxis:yt+qt+Gt+Nt.mainAxis,Kt=a.elements.arrow&&getOffsetParent(a.elements.arrow),Qt=Kt?zt==="y"?Kt.clientTop||0:Kt.clientLeft||0:0,dr=(bt=Lt==null?void 0:Lt[zt])!=null?bt:0,xr=xt+Jt-dr-Qt,pr=xt+Ft-dr,Ir=within(ht?min(wt,xr):wt,xt,ht?max$1(_t,pr):_t);Vt[zt]=Ir,Pt[zt]=Ir-xt}if(nt){var Cr,lr=zt==="x"?top:left,fr=zt==="x"?bottom:right,Er=Vt[Ut],Ar=Ut==="y"?"height":"width",kr=Er+Mt[lr],Sr=Er-Mt[fr],$r=[top,left].indexOf(kt)!==-1,jr=(Cr=Lt==null?void 0:Lt[Ut])!=null?Cr:0,Nr=$r?kr:Er-jt[Ar]-$t[Ar]-jr+Nt.altAxis,or=$r?Er+jt[Ar]+$t[Ar]-jr-Nt.altAxis:Sr,Xt=ht&&$r?withinMaxClamp(Nr,Er,or):within(ht?Nr:kr,Er,ht?or:Sr);Vt[Ut]=Xt,Pt[Ut]=Xt-Er}a.modifiersData[j]=Pt}}const preventOverflow$1={name:"preventOverflow",enabled:!0,phase:"main",fn:preventOverflow,requiresIfExists:["offset"]};function getHTMLElementScroll(_){return{scrollLeft:_.scrollLeft,scrollTop:_.scrollTop}}function getNodeScroll(_){return _===getWindow(_)||!isHTMLElement$2(_)?getWindowScroll(_):getHTMLElementScroll(_)}function isElementScaled(_){var a=_.getBoundingClientRect(),$=round(a.width)/_.offsetWidth||1,j=round(a.height)/_.offsetHeight||1;return $!==1||j!==1}function getCompositeRect(_,a,$){$===void 0&&($=!1);var j=isHTMLElement$2(a),et=isHTMLElement$2(a)&&isElementScaled(a),tt=getDocumentElement(a),rt=getBoundingClientRect(_,et,$),nt={scrollLeft:0,scrollTop:0},it={x:0,y:0};return(j||!j&&!$)&&((getNodeName(a)!=="body"||isScrollParent(tt))&&(nt=getNodeScroll(a)),isHTMLElement$2(a)?(it=getBoundingClientRect(a,!0),it.x+=a.clientLeft,it.y+=a.clientTop):tt&&(it.x=getWindowScrollBarX(tt))),{x:rt.left+nt.scrollLeft-it.x,y:rt.top+nt.scrollTop-it.y,width:rt.width,height:rt.height}}function order(_){var a=new Map,$=new Set,j=[];_.forEach(function(tt){a.set(tt.name,tt)});function et(tt){$.add(tt.name);var rt=[].concat(tt.requires||[],tt.requiresIfExists||[]);rt.forEach(function(nt){if(!$.has(nt)){var it=a.get(nt);it&&et(it)}}),j.push(tt)}return _.forEach(function(tt){$.has(tt.name)||et(tt)}),j}function orderModifiers(_){var a=order(_);return modifierPhases.reduce(function($,j){return $.concat(a.filter(function(et){return et.phase===j}))},[])}function debounce(_){var a;return function(){return a||(a=new Promise(function($){Promise.resolve().then(function(){a=void 0,$(_())})})),a}}function mergeByName(_){var a=_.reduce(function($,j){var et=$[j.name];return $[j.name]=et?Object.assign({},et,j,{options:Object.assign({},et.options,j.options),data:Object.assign({},et.data,j.data)}):j,$},{});return Object.keys(a).map(function($){return a[$]})}var DEFAULT_OPTIONS={placement:"bottom",modifiers:[],strategy:"absolute"};function areValidElements(){for(var _=arguments.length,a=new Array(_),$=0;$<_;$++)a[$]=arguments[$];return!a.some(function(j){return!(j&&typeof j.getBoundingClientRect=="function")})}function popperGenerator(_){_===void 0&&(_={});var a=_,$=a.defaultModifiers,j=$===void 0?[]:$,et=a.defaultOptions,tt=et===void 0?DEFAULT_OPTIONS:et;return function(nt,it,ot){ot===void 0&&(ot=tt);var st={placement:"bottom",orderedModifiers:[],options:Object.assign({},DEFAULT_OPTIONS,tt),modifiersData:{},elements:{reference:nt,popper:it},attributes:{},styles:{}},ct=[],ut=!1,ht={state:st,setOptions:function(kt){var Ct=typeof kt=="function"?kt(st.options):kt;St(),st.options=Object.assign({},tt,st.options,Ct),st.scrollParents={reference:isElement$1(nt)?listScrollParents(nt):nt.contextElement?listScrollParents(nt.contextElement):[],popper:listScrollParents(it)};var Ot=orderModifiers(mergeByName([].concat(j,st.options.modifiers)));return st.orderedModifiers=Ot.filter(function(zt){return zt.enabled}),Et(),ht.update()},forceUpdate:function(){if(!ut){var kt=st.elements,Ct=kt.reference,Ot=kt.popper;if(areValidElements(Ct,Ot)){st.rects={reference:getCompositeRect(Ct,getOffsetParent(Ot),st.options.strategy==="fixed"),popper:getLayoutRect(Ot)},st.reset=!1,st.placement=st.options.placement,st.orderedModifiers.forEach(function(Nt){return st.modifiersData[Nt.name]=Object.assign({},Nt.data)});for(var zt=0;zt<st.orderedModifiers.length;zt++){if(st.reset===!0){st.reset=!1,zt=-1;continue}var Ut=st.orderedModifiers[zt],Vt=Ut.fn,jt=Ut.options,$t=jt===void 0?{}:jt,Bt=Ut.name;typeof Vt=="function"&&(st=Vt({state:st,options:$t,name:Bt,instance:ht})||st)}}}},update:debounce(function(){return new Promise(function(Mt){ht.forceUpdate(),Mt(st)})}),destroy:function(){St(),ut=!0}};if(!areValidElements(nt,it))return ht;ht.setOptions(ot).then(function(Mt){!ut&&ot.onFirstUpdate&&ot.onFirstUpdate(Mt)});function Et(){st.orderedModifiers.forEach(function(Mt){var kt=Mt.name,Ct=Mt.options,Ot=Ct===void 0?{}:Ct,zt=Mt.effect;if(typeof zt=="function"){var Ut=zt({state:st,name:kt,instance:ht,options:Ot}),Vt=function(){};ct.push(Ut||Vt)}})}function St(){ct.forEach(function(Mt){return Mt()}),ct=[]}return ht}}var defaultModifiers=[eventListeners,popperOffsets$1,computeStyles$1,applyStyles$1,offset$1,flip$1,preventOverflow$1,arrow$1,hide$1],createPopper=popperGenerator({defaultModifiers});function usePopper(_={}){const{enabled:a=!0,modifiers:$,placement:j="bottom",strategy:et="absolute",arrowPadding:tt=8,eventListeners:rt=!0,offset:nt,gutter:it=8,flip:ot=!0,boundary:st="clippingParents",preventOverflow:ct=!0,matchWidth:ut,direction:ht="ltr"}=_,Et=reactExports.useRef(null),St=reactExports.useRef(null),Mt=reactExports.useRef(null),kt=getPopperPlacement(j,ht),Ct=reactExports.useRef(()=>{}),Ot=reactExports.useCallback(()=>{var Nt;!a||!Et.current||!St.current||((Nt=Ct.current)==null||Nt.call(Ct),Mt.current=createPopper(Et.current,St.current,{placement:kt,modifiers:[innerArrow,positionArrow,transformOrigin,{...matchWidth,enabled:!!ut},{name:"eventListeners",...getEventListenerOptions(rt)},{name:"arrow",options:{padding:tt}},{name:"offset",options:{offset:nt??[0,it]}},{name:"flip",enabled:!!ot,options:{padding:8}},{name:"preventOverflow",enabled:!!ct,options:{boundary:st}},...$??[]],strategy:et}),Mt.current.forceUpdate(),Ct.current=Mt.current.destroy)},[kt,a,$,ut,rt,tt,nt,it,ot,ct,st,et]);reactExports.useEffect(()=>()=>{var Nt;!Et.current&&!St.current&&((Nt=Mt.current)==null||Nt.destroy(),Mt.current=null)},[]);const zt=reactExports.useCallback(Nt=>{Et.current=Nt,Ot()},[Ot]),Ut=reactExports.useCallback((Nt={},Lt=null)=>({...Nt,ref:mergeRefs(zt,Lt)}),[zt]),Vt=reactExports.useCallback(Nt=>{St.current=Nt,Ot()},[Ot]),jt=reactExports.useCallback((Nt={},Lt=null)=>({...Nt,ref:mergeRefs(Vt,Lt),style:{...Nt.style,position:et,minWidth:ut?void 0:"max-content",inset:"0 auto auto 0"}}),[et,Vt,ut]),$t=reactExports.useCallback((Nt={},Lt=null)=>{const{size:Pt,shadowColor:bt,bg:at,style:dt,...vt}=Nt;return{...vt,ref:Lt,"data-popper-arrow":"",style:getArrowStyle(Nt)}},[]),Bt=reactExports.useCallback((Nt={},Lt=null)=>({...Nt,ref:Lt,"data-popper-arrow-inner":""}),[]);return{update(){var Nt;(Nt=Mt.current)==null||Nt.update()},forceUpdate(){var Nt;(Nt=Mt.current)==null||Nt.forceUpdate()},transformOrigin:cssVars.transformOrigin.varRef,referenceRef:zt,popperRef:Vt,getPopperProps:jt,getArrowProps:$t,getArrowInnerProps:Bt,getReferenceProps:Ut}}function getArrowStyle(_){const{size:a,shadowColor:$,bg:j,style:et}=_,tt={...et,position:"absolute"};return a&&(tt["--popper-arrow-size"]=a),$&&(tt["--popper-arrow-shadow-color"]=$),j&&(tt["--popper-arrow-bg"]=j),tt}function useDisclosure(_={}){const{onClose:a,onOpen:$,isOpen:j,id:et}=_,tt=useCallbackRef$2($),rt=useCallbackRef$2(a),[nt,it]=reactExports.useState(_.defaultIsOpen||!1),ot=j!==void 0?j:nt,st=j!==void 0,ct=reactExports.useId(),ut=et??`disclosure-${ct}`,ht=reactExports.useCallback(()=>{st||it(!1),rt==null||rt()},[st,rt]),Et=reactExports.useCallback(()=>{st||it(!0),tt==null||tt()},[st,tt]),St=reactExports.useCallback(()=>{ot?ht():Et()},[ot,Et,ht]);function Mt(Ct={}){return{...Ct,"aria-expanded":ot,"aria-controls":ut,onClick(Ot){var zt;(zt=Ct.onClick)==null||zt.call(Ct,Ot),St()}}}function kt(Ct={}){return{...Ct,hidden:!ot,id:ut}}return{isOpen:ot,onOpen:Et,onClose:ht,onToggle:St,isControlled:st,getButtonProps:Mt,getDisclosureProps:kt}}function useOutsideClick(_){const{ref:a,handler:$,enabled:j=!0}=_,et=useCallbackRef$2($),rt=reactExports.useRef({isPointerDown:!1,ignoreEmulatedMouseEvents:!1}).current;reactExports.useEffect(()=>{if(!j)return;const nt=ct=>{isValidEvent(ct,a)&&(rt.isPointerDown=!0)},it=ct=>{if(rt.ignoreEmulatedMouseEvents){rt.ignoreEmulatedMouseEvents=!1;return}rt.isPointerDown&&$&&isValidEvent(ct,a)&&(rt.isPointerDown=!1,et(ct))},ot=ct=>{rt.ignoreEmulatedMouseEvents=!0,$&&rt.isPointerDown&&isValidEvent(ct,a)&&(rt.isPointerDown=!1,et(ct))},st=getOwnerDocument$1(a.current);return st.addEventListener("mousedown",nt,!0),st.addEventListener("mouseup",it,!0),st.addEventListener("touchstart",nt,!0),st.addEventListener("touchend",ot,!0),()=>{st.removeEventListener("mousedown",nt,!0),st.removeEventListener("mouseup",it,!0),st.removeEventListener("touchstart",nt,!0),st.removeEventListener("touchend",ot,!0)}},[$,a,et,rt,j])}function isValidEvent(_,a){var $;const j=_.target;return j&&!getOwnerDocument$1(j).contains(j)?!1:!(($=a.current)!=null&&$.contains(j))}function getOwnerDocument$1(_){var a;return(a=_==null?void 0:_.ownerDocument)!=null?a:document}function useAnimationState(_){const{isOpen:a,ref:$}=_,[j,et]=reactExports.useState(a),[tt,rt]=reactExports.useState(!1);return reactExports.useEffect(()=>{tt||(et(a),rt(!0))},[a,tt,j]),useEventListener(()=>$.current,"animationend",()=>{et(a)}),{present:!(a?!1:!j),onComplete(){var it;const ot=getOwnerWindow($.current),st=new ot.CustomEvent("animationend",{bubbles:!0});(it=$.current)==null||it.dispatchEvent(st)}}}function lazyDisclosure(_){const{wasSelected:a,enabled:$,isSelected:j,mode:et="unmount"}=_;return!!(!$||j||et==="keepMounted"&&a)}var[MenuDescendantsProvider,useMenuDescendantsContext,useMenuDescendants,useMenuDescendant]=createDescendantContext(),[MenuProvider,useMenuContext]=createContext$1({strict:!1,name:"MenuContext"});function useIds$1(_,...a){const $=reactExports.useId(),j=_||$;return reactExports.useMemo(()=>a.map(et=>`${et}-${j}`),[j,a])}function getOwnerDocument(_){var a;return(a=_==null?void 0:_.ownerDocument)!=null?a:document}function isActiveElement(_){return getOwnerDocument(_).activeElement===_}function useMenu(_={}){const{id:a,closeOnSelect:$=!0,closeOnBlur:j=!0,initialFocusRef:et,autoSelect:tt=!0,isLazy:rt,isOpen:nt,defaultIsOpen:it,onClose:ot,onOpen:st,placement:ct="bottom-start",lazyBehavior:ut="unmount",direction:ht,computePositionOnMount:Et=!1,...St}=_,Mt=reactExports.useRef(null),kt=reactExports.useRef(null),Ct=useMenuDescendants(),Ot=reactExports.useCallback(()=>{requestAnimationFrame(()=>{var It;(It=Mt.current)==null||It.focus({preventScroll:!1})})},[]),zt=reactExports.useCallback(()=>{const It=setTimeout(()=>{var rr;if(et)(rr=et.current)==null||rr.focus();else{const ir=Ct.firstEnabled();ir&&bt(ir.index)}});wt.current.add(It)},[Ct,et]),Ut=reactExports.useCallback(()=>{const It=setTimeout(()=>{const rr=Ct.lastEnabled();rr&&bt(rr.index)});wt.current.add(It)},[Ct]),Vt=reactExports.useCallback(()=>{st==null||st(),tt?zt():Ot()},[tt,zt,Ot,st]),{isOpen:jt,onOpen:$t,onClose:Bt,onToggle:Nt}=useDisclosure({isOpen:nt,defaultIsOpen:it,onClose:ot,onOpen:Vt});useOutsideClick({enabled:jt&&j,ref:Mt,handler:It=>{var rr;(rr=kt.current)!=null&&rr.contains(It.target)||Bt()}});const Lt=usePopper({...St,enabled:jt||Et,placement:ct,direction:ht}),[Pt,bt]=reactExports.useState(-1);useUpdateEffect(()=>{jt||bt(-1)},[jt]),useFocusOnHide(Mt,{focusRef:kt,visible:jt,shouldFocus:!0});const at=useAnimationState({isOpen:jt,ref:Mt}),[dt,vt]=useIds$1(a,"menu-button","menu-list"),xt=reactExports.useCallback(()=>{$t(),Ot()},[$t,Ot]),wt=reactExports.useRef(new Set([]));reactExports.useEffect(()=>{const It=wt.current;return()=>{It.forEach(rr=>clearTimeout(rr)),It.clear()}},[]);const _t=reactExports.useCallback(()=>{$t(),zt()},[zt,$t]),At=reactExports.useCallback(()=>{$t(),Ut()},[$t,Ut]),Tt=reactExports.useCallback(()=>{var It,rr;const ir=getOwnerDocument(Mt.current),nr=(It=Mt.current)==null?void 0:It.contains(ir.activeElement);if(!(jt&&!nr))return;const qt=(rr=Ct.item(Pt))==null?void 0:rr.node;qt==null||qt.focus({preventScroll:!0})},[jt,Pt,Ct]),yt=reactExports.useRef(null);return{openAndFocusMenu:xt,openAndFocusFirstItem:_t,openAndFocusLastItem:At,onTransitionEnd:Tt,unstable__animationState:at,descendants:Ct,popper:Lt,buttonId:dt,menuId:vt,forceUpdate:Lt.forceUpdate,orientation:"vertical",isOpen:jt,onToggle:Nt,onOpen:$t,onClose:Bt,menuRef:Mt,buttonRef:kt,focusedIndex:Pt,closeOnSelect:$,closeOnBlur:j,autoSelect:tt,setFocusedIndex:bt,isLazy:rt,lazyBehavior:ut,initialFocusRef:et,rafId:yt}}function useMenuButton(_={},a=null){const $=useMenuContext(),{onToggle:j,popper:et,openAndFocusFirstItem:tt,openAndFocusLastItem:rt}=$,nt=reactExports.useCallback(it=>{const ot=it.key,ct={Enter:tt,ArrowDown:tt,ArrowUp:rt}[ot];ct&&(it.preventDefault(),it.stopPropagation(),ct(it))},[tt,rt]);return{..._,ref:mergeRefs($.buttonRef,a,et.referenceRef),id:$.buttonId,"data-active":dataAttr($.isOpen),"aria-expanded":$.isOpen,"aria-haspopup":"menu","aria-controls":$.menuId,onClick:callAllHandlers$1(_.onClick,j),onKeyDown:callAllHandlers$1(_.onKeyDown,nt)}}function isTargetMenuItem(_){var a;return isHTMLElement$1(_)&&!!((a=_==null?void 0:_.getAttribute("role"))!=null&&a.startsWith("menuitem"))}function useMenuList(_={},a=null){const $=useMenuContext();if(!$)throw new Error("useMenuContext: context is undefined. Seems you forgot to wrap component within <Menu>");const{focusedIndex:j,setFocusedIndex:et,menuRef:tt,isOpen:rt,onClose:nt,menuId:it,isLazy:ot,lazyBehavior:st,unstable__animationState:ct}=$,ut=useMenuDescendantsContext(),ht=useShortcut({preventDefault:kt=>kt.key!==" "&&isTargetMenuItem(kt.target)}),Et=reactExports.useCallback(kt=>{if(!kt.currentTarget.contains(kt.target))return;const Ct=kt.key,zt={Tab:Vt=>Vt.preventDefault(),Escape:nt,ArrowDown:()=>{const Vt=ut.nextEnabled(j);Vt&&et(Vt.index)},ArrowUp:()=>{const Vt=ut.prevEnabled(j);Vt&&et(Vt.index)}}[Ct];if(zt){kt.preventDefault(),zt(kt);return}const Ut=ht(Vt=>{const jt=getNextItemFromSearch(ut.values(),Vt,$t=>{var Bt,Nt;return(Nt=(Bt=$t==null?void 0:$t.node)==null?void 0:Bt.textContent)!=null?Nt:""},ut.item(j));if(jt){const $t=ut.indexOf(jt.node);et($t)}});isTargetMenuItem(kt.target)&&Ut(kt)},[ut,j,ht,nt,et]),St=reactExports.useRef(!1);rt&&(St.current=!0);const Mt=lazyDisclosure({wasSelected:St.current,enabled:ot,mode:st,isSelected:ct.present});return{..._,ref:mergeRefs(tt,a),children:Mt?_.children:null,tabIndex:-1,role:"menu",id:it,style:{..._.style,transformOrigin:"var(--popper-transform-origin)"},"aria-orientation":"vertical",onKeyDown:callAllHandlers$1(_.onKeyDown,Et)}}function useMenuPositioner(_={}){const{popper:a,isOpen:$}=useMenuContext();return a.getPopperProps({..._,style:{visibility:$?"visible":"hidden",..._.style}})}function useMenuItem(_={},a=null){const{onMouseEnter:$,onMouseMove:j,onMouseLeave:et,onClick:tt,onFocus:rt,isDisabled:nt,isFocusable:it,closeOnSelect:ot,type:st,...ct}=_,ut=useMenuContext(),{setFocusedIndex:ht,focusedIndex:Et,closeOnSelect:St,onClose:Mt,menuRef:kt,isOpen:Ct,menuId:Ot,rafId:zt}=ut,Ut=reactExports.useRef(null),Vt=`${Ot}-menuitem-${reactExports.useId()}`,{index:jt,register:$t}=useMenuDescendant({disabled:nt&&!it}),Bt=reactExports.useCallback(xt=>{$==null||$(xt),!nt&&ht(jt)},[ht,jt,nt,$]),Nt=reactExports.useCallback(xt=>{j==null||j(xt),Ut.current&&!isActiveElement(Ut.current)&&Bt(xt)},[Bt,j]),Lt=reactExports.useCallback(xt=>{et==null||et(xt),!nt&&ht(-1)},[ht,nt,et]),Pt=reactExports.useCallback(xt=>{tt==null||tt(xt),isTargetMenuItem(xt.currentTarget)&&(ot??St)&&Mt()},[Mt,tt,St,ot]),bt=reactExports.useCallback(xt=>{rt==null||rt(xt),ht(jt)},[ht,rt,jt]),at=jt===Et,dt=nt&&!it;useUpdateEffect(()=>{if(Ct)return at&&!dt&&Ut.current?(zt.current&&cancelAnimationFrame(zt.current),zt.current=requestAnimationFrame(()=>{var xt;(xt=Ut.current)==null||xt.focus({preventScroll:!0}),zt.current=null})):kt.current&&!isActiveElement(kt.current)&&kt.current.focus({preventScroll:!0}),()=>{zt.current&&cancelAnimationFrame(zt.current)}},[at,dt,kt,Ct]);const vt=useClickable({onClick:Pt,onFocus:bt,onMouseEnter:Bt,onMouseMove:Nt,onMouseLeave:Lt,ref:mergeRefs($t,Ut,a),isDisabled:nt,isFocusable:it});return{...ct,...vt,type:st??vt.type,id:Vt,role:"menuitem",tabIndex:at?0:-1}}function isHTMLElement$1(_){var a;if(!isElement(_))return!1;const $=(a=_.ownerDocument.defaultView)!=null?a:window;return _ instanceof $.HTMLElement}function isElement(_){return _!=null&&typeof _=="object"&&"nodeType"in _&&_.nodeType===Node.ELEMENT_NODE}var[MenuStylesProvider,useMenuStyles]=createContext$1({name:"MenuStylesContext",errorMessage:`useMenuStyles returned is 'undefined'. Seems you forgot to wrap the components in "<Menu />" `}),Menu=_=>{const{children:a}=_,$=useMultiStyleConfig("Menu",_),j=omitThemingProps(_),{direction:et}=useTheme(),{descendants:tt,...rt}=useMenu({...j,direction:et}),nt=reactExports.useMemo(()=>rt,[rt]),{isOpen:it,onClose:ot,forceUpdate:st}=nt;return jsxRuntimeExports.jsx(MenuDescendantsProvider,{value:tt,children:jsxRuntimeExports.jsx(MenuProvider,{value:nt,children:jsxRuntimeExports.jsx(MenuStylesProvider,{value:$,children:runIfFn$2(a,{isOpen:it,onClose:ot,forceUpdate:st})})})})};Menu.displayName="Menu";var MenuCommand=forwardRef((_,a)=>{const $=useMenuStyles();return jsxRuntimeExports.jsx(chakra.span,{ref:a,..._,__css:$.command,className:"chakra-menu__command"})});MenuCommand.displayName="MenuCommand";var StyledMenuItem=forwardRef((_,a)=>{const{type:$,...j}=_,et=useMenuStyles(),tt=j.as||$?$??void 0:"button",rt=reactExports.useMemo(()=>({textDecoration:"none",color:"inherit",userSelect:"none",display:"flex",width:"100%",alignItems:"center",textAlign:"start",flex:"0 0 auto",outline:0,...et.item}),[et.item]);return jsxRuntimeExports.jsx(chakra.button,{ref:a,type:tt,...j,__css:rt})}),MenuIcon=_=>{const{className:a,children:$,...j}=_,et=useMenuStyles(),tt=reactExports.Children.only($),rt=reactExports.isValidElement(tt)?reactExports.cloneElement(tt,{focusable:"false","aria-hidden":!0,className:cx("chakra-menu__icon",tt.props.className)}):null,nt=cx("chakra-menu__icon-wrapper",a);return jsxRuntimeExports.jsx(chakra.span,{className:nt,...j,__css:et.icon,children:rt})};MenuIcon.displayName="MenuIcon";var MenuItem$1=forwardRef((_,a)=>{const{icon:$,iconSpacing:j="0.75rem",command:et,commandSpacing:tt="0.75rem",children:rt,...nt}=_,it=useMenuItem(nt,a),st=$||et?jsxRuntimeExports.jsx("span",{style:{pointerEvents:"none",flex:1},children:rt}):rt;return jsxRuntimeExports.jsxs(StyledMenuItem,{...it,className:cx("chakra-menu__menuitem",it.className),children:[$&&jsxRuntimeExports.jsx(MenuIcon,{fontSize:"0.8em",marginEnd:j,children:$}),st,et&&jsxRuntimeExports.jsx(MenuCommand,{marginStart:tt,children:et})]})});MenuItem$1.displayName="MenuItem";var motionVariants={enter:{visibility:"visible",opacity:1,scale:1,transition:{duration:.2,ease:[.4,0,.2,1]}},exit:{transitionEnd:{visibility:"hidden"},opacity:0,scale:.8,transition:{duration:.1,easings:"easeOut"}}},MenuTransition=chakra(motion.div),MenuList=forwardRef(function(a,$){var j,et;const{rootProps:tt,motionProps:rt,...nt}=a,{isOpen:it,onTransitionEnd:ot,unstable__animationState:st}=useMenuContext(),ct=useMenuList(nt,$),ut=useMenuPositioner(tt),ht=useMenuStyles();return jsxRuntimeExports.jsx(chakra.div,{...ut,__css:{zIndex:(et=a.zIndex)!=null?et:(j=ht.list)==null?void 0:j.zIndex},children:jsxRuntimeExports.jsx(MenuTransition,{variants:motionVariants,initial:!1,animate:it?"enter":"exit",__css:{outline:0,...ht.list},...rt,className:cx("chakra-menu__menu-list",ct.className),...ct,onUpdate:ot,onAnimationComplete:callAll(st.onComplete,ct.onAnimationComplete)})})});MenuList.displayName="MenuList";var StyledMenuButton=forwardRef((_,a)=>{const $=useMenuStyles();return jsxRuntimeExports.jsx(chakra.button,{ref:a,..._,__css:{display:"inline-flex",appearance:"none",alignItems:"center",outline:0,...$.button}})}),MenuButton=forwardRef((_,a)=>{const{children:$,as:j,...et}=_,tt=useMenuButton(et,a),rt=j||StyledMenuButton;return jsxRuntimeExports.jsx(rt,{...tt,className:cx("chakra-menu__menu-button",_.className),children:jsxRuntimeExports.jsx(chakra.span,{__css:{pointerEvents:"none",flex:"1 1 auto",minW:0},children:_.children})})});MenuButton.displayName="MenuButton";var transitions={slideInBottom:{...slideFadeConfig,custom:{offsetY:16,reverse:!0}},slideInRight:{...slideFadeConfig,custom:{offsetX:16,reverse:!0}},slideInTop:{...slideFadeConfig,custom:{offsetY:-16,reverse:!0}},slideInLeft:{...slideFadeConfig,custom:{offsetX:-16,reverse:!0}},scale:{...scaleFadeConfig,custom:{initialScale:.95,reverse:!0}},none:{}},MotionSection$1=chakra(motion.section),getMotionProps=_=>transitions[_||"none"],ModalTransition=reactExports.forwardRef((_,a)=>{const{preset:$,motionProps:j=getMotionProps($),...et}=_;return jsxRuntimeExports.jsx(MotionSection$1,{ref:a,...j,...et})});ModalTransition.displayName="ModalTransition";var __defProp$7=Object.defineProperty,__defNormalProp$2=(_,a,$)=>a in _?__defProp$7(_,a,{enumerable:!0,configurable:!0,writable:!0,value:$}):_[a]=$,__publicField$2=(_,a,$)=>(__defNormalProp$2(_,a+"",$),$),ModalManager=class{constructor(){__publicField$2(this,"modals"),this.modals=new Map}add(_){return this.modals.set(_,this.modals.size+1),this.modals.size}remove(_){this.modals.delete(_)}isTopModal(_){return _?this.modals.get(_)===this.modals.size:!1}},modalManager=new ModalManager;function useModalManager(_,a){const[$,j]=reactExports.useState(0);return reactExports.useEffect(()=>{const et=_.current;if(et){if(a){const tt=modalManager.add(et);j(tt)}return()=>{modalManager.remove(et),j(0)}}},[a,_]),$}var getDefaultParent=function(_){if(typeof document>"u")return null;var a=Array.isArray(_)?_[0]:_;return a.ownerDocument.body},counterMap=new WeakMap,uncontrolledNodes=new WeakMap,markerMap={},lockCount=0,unwrapHost=function(_){return _&&(_.host||unwrapHost(_.parentNode))},correctTargets=function(_,a){return a.map(function($){if(_.contains($))return $;var j=unwrapHost($);return j&&_.contains(j)?j:(console.error("aria-hidden",$,"in not contained inside",_,". Doing nothing"),null)}).filter(function($){return!!$})},applyAttributeToOthers=function(_,a,$,j){var et=correctTargets(a,Array.isArray(_)?_:[_]);markerMap[$]||(markerMap[$]=new WeakMap);var tt=markerMap[$],rt=[],nt=new Set,it=new Set(et),ot=function(ct){!ct||nt.has(ct)||(nt.add(ct),ot(ct.parentNode))};et.forEach(ot);var st=function(ct){!ct||it.has(ct)||Array.prototype.forEach.call(ct.children,function(ut){if(nt.has(ut))st(ut);else{var ht=ut.getAttribute(j),Et=ht!==null&&ht!=="false",St=(counterMap.get(ut)||0)+1,Mt=(tt.get(ut)||0)+1;counterMap.set(ut,St),tt.set(ut,Mt),rt.push(ut),St===1&&Et&&uncontrolledNodes.set(ut,!0),Mt===1&&ut.setAttribute($,"true"),Et||ut.setAttribute(j,"true")}})};return st(a),nt.clear(),lockCount++,function(){rt.forEach(function(ct){var ut=counterMap.get(ct)-1,ht=tt.get(ct)-1;counterMap.set(ct,ut),tt.set(ct,ht),ut||(uncontrolledNodes.has(ct)||ct.removeAttribute(j),uncontrolledNodes.delete(ct)),ht||ct.removeAttribute($)}),lockCount--,lockCount||(counterMap=new WeakMap,counterMap=new WeakMap,uncontrolledNodes=new WeakMap,markerMap={})}},hideOthers=function(_,a,$){$===void 0&&($="data-aria-hidden");var j=Array.from(Array.isArray(_)?_:[_]),et=getDefaultParent(_);return et?(j.push.apply(j,Array.from(et.querySelectorAll("[aria-live]"))),applyAttributeToOthers(j,et,$,"aria-hidden")):function(){return null}};function useModal(_){const{isOpen:a,onClose:$,id:j,closeOnOverlayClick:et=!0,closeOnEsc:tt=!0,useInert:rt=!0,onOverlayClick:nt,onEsc:it}=_,ot=reactExports.useRef(null),st=reactExports.useRef(null),[ct,ut,ht]=useIds(j,"chakra-modal","chakra-modal--header","chakra-modal--body");useAriaHidden(ot,a&&rt);const Et=useModalManager(ot,a),St=reactExports.useRef(null),Mt=reactExports.useCallback(Bt=>{St.current=Bt.target},[]),kt=reactExports.useCallback(Bt=>{Bt.key==="Escape"&&(Bt.stopPropagation(),tt&&($==null||$()),it==null||it())},[tt,$,it]),[Ct,Ot]=reactExports.useState(!1),[zt,Ut]=reactExports.useState(!1),Vt=reactExports.useCallback((Bt={},Nt=null)=>({role:"dialog",...Bt,ref:mergeRefs(Nt,ot),id:ct,tabIndex:-1,"aria-modal":!0,"aria-labelledby":Ct?ut:void 0,"aria-describedby":zt?ht:void 0,onClick:callAllHandlers$1(Bt.onClick,Lt=>Lt.stopPropagation())}),[ht,zt,ct,ut,Ct]),jt=reactExports.useCallback(Bt=>{Bt.stopPropagation(),St.current===Bt.target&&modalManager.isTopModal(ot.current)&&(et&&($==null||$()),nt==null||nt())},[$,et,nt]),$t=reactExports.useCallback((Bt={},Nt=null)=>({...Bt,ref:mergeRefs(Nt,st),onClick:callAllHandlers$1(Bt.onClick,jt),onKeyDown:callAllHandlers$1(Bt.onKeyDown,kt),onMouseDown:callAllHandlers$1(Bt.onMouseDown,Mt)}),[kt,Mt,jt]);return{isOpen:a,onClose:$,headerId:ut,bodyId:ht,setBodyMounted:Ut,setHeaderMounted:Ot,dialogRef:ot,overlayRef:st,getDialogProps:Vt,getDialogContainerProps:$t,index:Et}}function useAriaHidden(_,a){const $=_.current;reactExports.useEffect(()=>{if(!(!_.current||!a))return hideOthers(_.current)},[a,_,$])}function useIds(_,...a){const $=reactExports.useId(),j=_||$;return reactExports.useMemo(()=>a.map(et=>`${et}-${j}`),[j,a])}var[ModalStylesProvider,useModalStyles]=createContext$1({name:"ModalStylesContext",errorMessage:`useModalStyles returned is 'undefined'. Seems you forgot to wrap the components in "<Modal />" `}),[ModalContextProvider,useModalContext]=createContext$1({strict:!0,name:"ModalContext",errorMessage:"useModalContext: `context` is undefined. Seems you forgot to wrap modal components in `<Modal />`"}),Modal=_=>{const a={scrollBehavior:"outside",autoFocus:!0,trapFocus:!0,returnFocusOnClose:!0,blockScrollOnMount:!0,allowPinchZoom:!1,motionPreset:"scale",lockFocusAcrossFrames:!0,..._},{portalProps:$,children:j,autoFocus:et,trapFocus:tt,initialFocusRef:rt,finalFocusRef:nt,returnFocusOnClose:it,blockScrollOnMount:ot,allowPinchZoom:st,preserveScrollBarGap:ct,motionPreset:ut,lockFocusAcrossFrames:ht,onCloseComplete:Et}=a,St=useMultiStyleConfig("Modal",a),kt={...useModal(a),autoFocus:et,trapFocus:tt,initialFocusRef:rt,finalFocusRef:nt,returnFocusOnClose:it,blockScrollOnMount:ot,allowPinchZoom:st,preserveScrollBarGap:ct,motionPreset:ut,lockFocusAcrossFrames:ht};return jsxRuntimeExports.jsx(ModalContextProvider,{value:kt,children:jsxRuntimeExports.jsx(ModalStylesProvider,{value:St,children:jsxRuntimeExports.jsx(AnimatePresence,{onExitComplete:Et,children:kt.isOpen&&jsxRuntimeExports.jsx(Portal,{...$,children:j})})})})};Modal.displayName="Modal";var zeroRightClassName="right-scroll-bar-position",fullWidthClassName="width-before-scroll-bar",noScrollbarsClassName="with-scroll-bars-hidden",removedBarSizeVariable="--removed-body-scroll-bar-size",effectCar=createSidecarMedium(),nothing=function(){},RemoveScroll=reactExports.forwardRef(function(_,a){var $=reactExports.useRef(null),j=reactExports.useState({onScrollCapture:nothing,onWheelCapture:nothing,onTouchMoveCapture:nothing}),et=j[0],tt=j[1],rt=_.forwardProps,nt=_.children,it=_.className,ot=_.removeScrollBar,st=_.enabled,ct=_.shards,ut=_.sideCar,ht=_.noIsolation,Et=_.inert,St=_.allowPinchZoom,Mt=_.as,kt=Mt===void 0?"div":Mt,Ct=_.gapMode,Ot=__rest$3(_,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),zt=ut,Ut=useMergeRefs([$,a]),Vt=__assign$1(__assign$1({},Ot),et);return reactExports.createElement(reactExports.Fragment,null,st&&reactExports.createElement(zt,{sideCar:effectCar,removeScrollBar:ot,shards:ct,noIsolation:ht,inert:Et,setCallbacks:tt,allowPinchZoom:!!St,lockRef:$,gapMode:Ct}),rt?reactExports.cloneElement(reactExports.Children.only(nt),__assign$1(__assign$1({},Vt),{ref:Ut})):reactExports.createElement(kt,__assign$1({},Vt,{className:it,ref:Ut}),nt))});RemoveScroll.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};RemoveScroll.classNames={fullWidth:fullWidthClassName,zeroRight:zeroRightClassName};var getNonce$1=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function makeStyleTag(){if(!document)return null;var _=document.createElement("style");_.type="text/css";var a=getNonce$1();return a&&_.setAttribute("nonce",a),_}function injectStyles(_,a){_.styleSheet?_.styleSheet.cssText=a:_.appendChild(document.createTextNode(a))}function insertStyleTag(_){var a=document.head||document.getElementsByTagName("head")[0];a.appendChild(_)}var stylesheetSingleton=function(){var _=0,a=null;return{add:function($){_==0&&(a=makeStyleTag())&&(injectStyles(a,$),insertStyleTag(a)),_++},remove:function(){_--,!_&&a&&(a.parentNode&&a.parentNode.removeChild(a),a=null)}}},styleHookSingleton=function(){var _=stylesheetSingleton();return function(a,$){reactExports.useEffect(function(){return _.add(a),function(){_.remove()}},[a&&$])}},styleSingleton=function(){var _=styleHookSingleton(),a=function($){var j=$.styles,et=$.dynamic;return _(j,et),null};return a},zeroGap={left:0,top:0,right:0,gap:0},parse$a=function(_){return parseInt(_||"",10)||0},getOffset=function(_){var a=window.getComputedStyle(document.body),$=a[_==="padding"?"paddingLeft":"marginLeft"],j=a[_==="padding"?"paddingTop":"marginTop"],et=a[_==="padding"?"paddingRight":"marginRight"];return[parse$a($),parse$a(j),parse$a(et)]},getGapWidth=function(_){if(_===void 0&&(_="margin"),typeof window>"u")return zeroGap;var a=getOffset(_),$=document.documentElement.clientWidth,j=window.innerWidth;return{left:a[0],top:a[1],right:a[2],gap:Math.max(0,j-$+a[2]-a[0])}},Style=styleSingleton(),lockAttribute="data-scroll-locked",getStyles=function(_,a,$,j){var et=_.left,tt=_.top,rt=_.right,nt=_.gap;return $===void 0&&($="margin"),`
  .`.concat(noScrollbarsClassName,` {
   overflow: hidden `).concat(j,`;
   padding-right: `).concat(nt,"px ").concat(j,`;
  }
  body[`).concat(lockAttribute,`] {
    overflow: hidden `).concat(j,`;
    overscroll-behavior: contain;
    `).concat([a&&"position: relative ".concat(j,";"),$==="margin"&&`
    padding-left: `.concat(et,`px;
    padding-top: `).concat(tt,`px;
    padding-right: `).concat(rt,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(nt,"px ").concat(j,`;
    `),$==="padding"&&"padding-right: ".concat(nt,"px ").concat(j,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(zeroRightClassName,` {
    right: `).concat(nt,"px ").concat(j,`;
  }
  
  .`).concat(fullWidthClassName,` {
    margin-right: `).concat(nt,"px ").concat(j,`;
  }
  
  .`).concat(zeroRightClassName," .").concat(zeroRightClassName,` {
    right: 0 `).concat(j,`;
  }
  
  .`).concat(fullWidthClassName," .").concat(fullWidthClassName,` {
    margin-right: 0 `).concat(j,`;
  }
  
  body[`).concat(lockAttribute,`] {
    `).concat(removedBarSizeVariable,": ").concat(nt,`px;
  }
`)},getCurrentUseCounter=function(){var _=parseInt(document.body.getAttribute(lockAttribute)||"0",10);return isFinite(_)?_:0},useLockAttribute=function(){reactExports.useEffect(function(){return document.body.setAttribute(lockAttribute,(getCurrentUseCounter()+1).toString()),function(){var _=getCurrentUseCounter()-1;_<=0?document.body.removeAttribute(lockAttribute):document.body.setAttribute(lockAttribute,_.toString())}},[])},RemoveScrollBar=function(_){var a=_.noRelative,$=_.noImportant,j=_.gapMode,et=j===void 0?"margin":j;useLockAttribute();var tt=reactExports.useMemo(function(){return getGapWidth(et)},[et]);return reactExports.createElement(Style,{styles:getStyles(tt,!a,et,$?"":"!important")})},passiveSupported=!1;if(typeof window<"u")try{var options=Object.defineProperty({},"passive",{get:function(){return passiveSupported=!0,!0}});window.addEventListener("test",options,options),window.removeEventListener("test",options,options)}catch{passiveSupported=!1}var nonPassive=passiveSupported?{passive:!1}:!1,alwaysContainsScroll=function(_){return _.tagName==="TEXTAREA"},elementCanBeScrolled=function(_,a){if(!(_ instanceof Element))return!1;var $=window.getComputedStyle(_);return $[a]!=="hidden"&&!($.overflowY===$.overflowX&&!alwaysContainsScroll(_)&&$[a]==="visible")},elementCouldBeVScrolled=function(_){return elementCanBeScrolled(_,"overflowY")},elementCouldBeHScrolled=function(_){return elementCanBeScrolled(_,"overflowX")},locationCouldBeScrolled=function(_,a){var $=a.ownerDocument,j=a;do{typeof ShadowRoot<"u"&&j instanceof ShadowRoot&&(j=j.host);var et=elementCouldBeScrolled(_,j);if(et){var tt=getScrollVariables(_,j),rt=tt[1],nt=tt[2];if(rt>nt)return!0}j=j.parentNode}while(j&&j!==$.body);return!1},getVScrollVariables=function(_){var a=_.scrollTop,$=_.scrollHeight,j=_.clientHeight;return[a,$,j]},getHScrollVariables=function(_){var a=_.scrollLeft,$=_.scrollWidth,j=_.clientWidth;return[a,$,j]},elementCouldBeScrolled=function(_,a){return _==="v"?elementCouldBeVScrolled(a):elementCouldBeHScrolled(a)},getScrollVariables=function(_,a){return _==="v"?getVScrollVariables(a):getHScrollVariables(a)},getDirectionFactor=function(_,a){return _==="h"&&a==="rtl"?-1:1},handleScroll=function(_,a,$,j,et){var tt=getDirectionFactor(_,window.getComputedStyle(a).direction),rt=tt*j,nt=$.target,it=a.contains(nt),ot=!1,st=rt>0,ct=0,ut=0;do{var ht=getScrollVariables(_,nt),Et=ht[0],St=ht[1],Mt=ht[2],kt=St-Mt-tt*Et;(Et||kt)&&elementCouldBeScrolled(_,nt)&&(ct+=kt,ut+=Et),nt instanceof ShadowRoot?nt=nt.host:nt=nt.parentNode}while(!it&&nt!==document.body||it&&(a.contains(nt)||a===nt));return(st&&(Math.abs(ct)<1||!et)||!st&&(Math.abs(ut)<1||!et))&&(ot=!0),ot},getTouchXY=function(_){return"changedTouches"in _?[_.changedTouches[0].clientX,_.changedTouches[0].clientY]:[0,0]},getDeltaXY=function(_){return[_.deltaX,_.deltaY]},extractRef=function(_){return _&&"current"in _?_.current:_},deltaCompare=function(_,a){return _[0]===a[0]&&_[1]===a[1]},generateStyle=function(_){return`
  .block-interactivity-`.concat(_,` {pointer-events: none;}
  .allow-interactivity-`).concat(_,` {pointer-events: all;}
`)},idCounter=0,lockStack=[];function RemoveScrollSideCar(_){var a=reactExports.useRef([]),$=reactExports.useRef([0,0]),j=reactExports.useRef(),et=reactExports.useState(idCounter++)[0],tt=reactExports.useState(styleSingleton)[0],rt=reactExports.useRef(_);reactExports.useEffect(function(){rt.current=_},[_]),reactExports.useEffect(function(){if(_.inert){document.body.classList.add("block-interactivity-".concat(et));var St=__spreadArray([_.lockRef.current],(_.shards||[]).map(extractRef),!0).filter(Boolean);return St.forEach(function(Mt){return Mt.classList.add("allow-interactivity-".concat(et))}),function(){document.body.classList.remove("block-interactivity-".concat(et)),St.forEach(function(Mt){return Mt.classList.remove("allow-interactivity-".concat(et))})}}},[_.inert,_.lockRef.current,_.shards]);var nt=reactExports.useCallback(function(St,Mt){if("touches"in St&&St.touches.length===2)return!rt.current.allowPinchZoom;var kt=getTouchXY(St),Ct=$.current,Ot="deltaX"in St?St.deltaX:Ct[0]-kt[0],zt="deltaY"in St?St.deltaY:Ct[1]-kt[1],Ut,Vt=St.target,jt=Math.abs(Ot)>Math.abs(zt)?"h":"v";if("touches"in St&&jt==="h"&&Vt.type==="range")return!1;var $t=locationCouldBeScrolled(jt,Vt);if(!$t)return!0;if($t?Ut=jt:(Ut=jt==="v"?"h":"v",$t=locationCouldBeScrolled(jt,Vt)),!$t)return!1;if(!j.current&&"changedTouches"in St&&(Ot||zt)&&(j.current=Ut),!Ut)return!0;var Bt=j.current||Ut;return handleScroll(Bt,Mt,St,Bt==="h"?Ot:zt,!0)},[]),it=reactExports.useCallback(function(St){var Mt=St;if(!(!lockStack.length||lockStack[lockStack.length-1]!==tt)){var kt="deltaY"in Mt?getDeltaXY(Mt):getTouchXY(Mt),Ct=a.current.filter(function(Ut){return Ut.name===Mt.type&&(Ut.target===Mt.target||Mt.target===Ut.shadowParent)&&deltaCompare(Ut.delta,kt)})[0];if(Ct&&Ct.should){Mt.cancelable&&Mt.preventDefault();return}if(!Ct){var Ot=(rt.current.shards||[]).map(extractRef).filter(Boolean).filter(function(Ut){return Ut.contains(Mt.target)}),zt=Ot.length>0?nt(Mt,Ot[0]):!rt.current.noIsolation;zt&&Mt.cancelable&&Mt.preventDefault()}}},[]),ot=reactExports.useCallback(function(St,Mt,kt,Ct){var Ot={name:St,delta:Mt,target:kt,should:Ct,shadowParent:getOutermostShadowParent(kt)};a.current.push(Ot),setTimeout(function(){a.current=a.current.filter(function(zt){return zt!==Ot})},1)},[]),st=reactExports.useCallback(function(St){$.current=getTouchXY(St),j.current=void 0},[]),ct=reactExports.useCallback(function(St){ot(St.type,getDeltaXY(St),St.target,nt(St,_.lockRef.current))},[]),ut=reactExports.useCallback(function(St){ot(St.type,getTouchXY(St),St.target,nt(St,_.lockRef.current))},[]);reactExports.useEffect(function(){return lockStack.push(tt),_.setCallbacks({onScrollCapture:ct,onWheelCapture:ct,onTouchMoveCapture:ut}),document.addEventListener("wheel",it,nonPassive),document.addEventListener("touchmove",it,nonPassive),document.addEventListener("touchstart",st,nonPassive),function(){lockStack=lockStack.filter(function(St){return St!==tt}),document.removeEventListener("wheel",it,nonPassive),document.removeEventListener("touchmove",it,nonPassive),document.removeEventListener("touchstart",st,nonPassive)}},[]);var ht=_.removeScrollBar,Et=_.inert;return reactExports.createElement(reactExports.Fragment,null,Et?reactExports.createElement(tt,{styles:generateStyle(et)}):null,ht?reactExports.createElement(RemoveScrollBar,{gapMode:_.gapMode}):null)}function getOutermostShadowParent(_){for(var a=null;_!==null;)_ instanceof ShadowRoot&&(a=_.host,_=_.host),_=_.parentNode;return a}const SideCar=exportSidecar(effectCar,RemoveScrollSideCar);var ReactRemoveScroll=reactExports.forwardRef(function(_,a){return reactExports.createElement(RemoveScroll,__assign$1({},_,{ref:a,sideCar:SideCar}))});ReactRemoveScroll.classNames=RemoveScroll.classNames;function ModalFocusScope(_){const{autoFocus:a,trapFocus:$,dialogRef:j,initialFocusRef:et,blockScrollOnMount:tt,allowPinchZoom:rt,finalFocusRef:nt,returnFocusOnClose:it,preserveScrollBarGap:ot,lockFocusAcrossFrames:st,isOpen:ct}=useModalContext(),[ut,ht]=usePresence();reactExports.useEffect(()=>{!ut&&ht&&setTimeout(ht)},[ut,ht]);const Et=useModalManager(j,ct);return jsxRuntimeExports.jsx(FocusLock,{autoFocus:a,isDisabled:!$,initialFocusRef:et,finalFocusRef:nt,restoreFocus:it,contentRef:j,lockFocusAcrossFrames:st,children:jsxRuntimeExports.jsx(ReactRemoveScroll,{removeScrollBar:!ot,allowPinchZoom:rt,enabled:Et===1&&tt,forwardProps:!0,children:_.children})})}var ModalContent=forwardRef((_,a)=>{const{className:$,children:j,containerProps:et,motionProps:tt,...rt}=_,{getDialogProps:nt,getDialogContainerProps:it}=useModalContext(),ot=nt(rt,a),st=it(et),ct=cx("chakra-modal__content",$),ut=useModalStyles(),ht={display:"flex",flexDirection:"column",position:"relative",width:"100%",outline:0,...ut.dialog},Et={display:"flex",width:"100vw",height:"$100vh",position:"fixed",left:0,top:0,...ut.dialogContainer},{motionPreset:St}=useModalContext();return jsxRuntimeExports.jsx(ModalFocusScope,{children:jsxRuntimeExports.jsx(chakra.div,{...st,className:"chakra-modal__content-container",tabIndex:-1,__css:Et,children:jsxRuntimeExports.jsx(ModalTransition,{preset:St,motionProps:tt,className:ct,...ot,__css:ht,children:j})})})});ModalContent.displayName="ModalContent";var[DrawerContextProvider,useDrawerContext]=createContext$1(),placementMap={start:{ltr:"left",rtl:"right"},end:{ltr:"right",rtl:"left"}};function getDrawerPlacement(_,a){var $,j;if(_)return(j=($=placementMap[_])==null?void 0:$[a])!=null?j:_}function Drawer(_){var a;const{isOpen:$,onClose:j,placement:et="right",children:tt,...rt}=_,nt=useTheme(),it=(a=nt.components)==null?void 0:a.Drawer,ot=getDrawerPlacement(et,nt.direction);return jsxRuntimeExports.jsx(DrawerContextProvider,{value:{placement:ot},children:jsxRuntimeExports.jsx(Modal,{isOpen:$,onClose:j,styleConfig:it,...rt,children:tt})})}var MotionDiv$2=chakra(Slide),DrawerContent=forwardRef((_,a)=>{const{className:$,children:j,motionProps:et,containerProps:tt,...rt}=_,{getDialogProps:nt,getDialogContainerProps:it,isOpen:ot}=useModalContext(),st=nt(rt,a),ct=it(tt),ut=cx("chakra-modal__content",$),ht=useModalStyles(),Et={display:"flex",flexDirection:"column",position:"relative",width:"100%",outline:0,...ht.dialog},St={display:"flex",width:"100vw",height:"$100vh",position:"fixed",left:0,top:0,...ht.dialogContainer},{placement:Mt}=useDrawerContext();return jsxRuntimeExports.jsx(ModalFocusScope,{children:jsxRuntimeExports.jsx(chakra.div,{...ct,className:"chakra-modal__content-container",__css:St,children:jsxRuntimeExports.jsx(MotionDiv$2,{motionProps:et,direction:Mt,in:ot,className:ut,...st,__css:Et,children:j})})})});DrawerContent.displayName="DrawerContent";var ModalFooter=forwardRef((_,a)=>{const{className:$,...j}=_,et=cx("chakra-modal__footer",$),rt={display:"flex",alignItems:"center",justifyContent:"flex-end",...useModalStyles().footer};return jsxRuntimeExports.jsx(chakra.footer,{ref:a,...j,__css:rt,className:et})});ModalFooter.displayName="ModalFooter";var ModalHeader=forwardRef((_,a)=>{const{className:$,...j}=_,{headerId:et,setHeaderMounted:tt}=useModalContext();reactExports.useEffect(()=>(tt(!0),()=>tt(!1)),[tt]);const rt=cx("chakra-modal__header",$),it={flex:0,...useModalStyles().header};return jsxRuntimeExports.jsx(chakra.header,{ref:a,className:rt,id:et,...j,__css:it})});ModalHeader.displayName="ModalHeader";var MotionDiv$1=chakra(motion.div),ModalOverlay=forwardRef((_,a)=>{const{className:$,transition:j,motionProps:et,...tt}=_,rt=cx("chakra-modal__overlay",$),it={pos:"fixed",left:"0",top:"0",w:"100vw",h:"100vh",...useModalStyles().overlay},{motionPreset:ot}=useModalContext(),ct=et||(ot==="none"?{}:fadeConfig);return jsxRuntimeExports.jsx(MotionDiv$1,{...ct,__css:it,ref:a,className:rt,...tt})});ModalOverlay.displayName="ModalOverlay";var ModalBody=forwardRef((_,a)=>{const{className:$,...j}=_,{bodyId:et,setBodyMounted:tt}=useModalContext();reactExports.useEffect(()=>(tt(!0),()=>tt(!1)),[tt]);const rt=cx("chakra-modal__body",$),nt=useModalStyles();return jsxRuntimeExports.jsx(chakra.div,{ref:a,className:rt,id:et,...j,__css:nt.body})});ModalBody.displayName="ModalBody";var ModalCloseButton=forwardRef((_,a)=>{const{onClick:$,className:j,...et}=_,{onClose:tt}=useModalContext(),rt=cx("chakra-modal__close-btn",j),nt=useModalStyles();return jsxRuntimeExports.jsx(CloseButton,{ref:a,__css:nt.closeButton,className:rt,onClick:callAllHandlers$1($,it=>{it.stopPropagation(),tt()}),...et})});ModalCloseButton.displayName="ModalCloseButton";var[PopoverProvider,usePopoverContext]=createContext$1({name:"PopoverContext",errorMessage:"usePopoverContext: `context` is undefined. Seems you forgot to wrap all popover components within `<Popover />`"}),[PopoverStylesProvider,usePopoverStyles]=createContext$1({name:"PopoverStylesContext",errorMessage:`usePopoverStyles returned is 'undefined'. Seems you forgot to wrap the components in "<Popover />" `});function PopoverTrigger(_){const a=reactExports.Children.only(_.children),{getTriggerProps:$}=usePopoverContext();return reactExports.cloneElement(a,$(a.props,a.ref))}PopoverTrigger.displayName="PopoverTrigger";var TRIGGER={click:"click",hover:"hover"};function usePopover(_={}){const{closeOnBlur:a=!0,closeOnEsc:$=!0,initialFocusRef:j,id:et,returnFocusOnClose:tt=!0,autoFocus:rt=!0,arrowSize:nt,arrowShadowColor:it,trigger:ot=TRIGGER.click,openDelay:st=200,closeDelay:ct=200,isLazy:ut,lazyBehavior:ht="unmount",computePositionOnMount:Et,...St}=_,{isOpen:Mt,onClose:kt,onOpen:Ct,onToggle:Ot}=useDisclosure(_),zt=reactExports.useRef(null),Ut=reactExports.useRef(null),Vt=reactExports.useRef(null),jt=reactExports.useRef(!1),$t=reactExports.useRef(!1);Mt&&($t.current=!0);const[Bt,Nt]=reactExports.useState(!1),[Lt,Pt]=reactExports.useState(!1),bt=reactExports.useId(),at=et??bt,[dt,vt,xt,wt]=["popover-trigger","popover-content","popover-header","popover-body"].map(pr=>`${pr}-${at}`),{referenceRef:_t,getArrowProps:At,getPopperProps:Tt,getArrowInnerProps:yt,forceUpdate:It}=usePopper({...St,enabled:Mt||!!Et}),rr=useAnimationState({isOpen:Mt,ref:Vt});useFocusOnPointerDown({enabled:Mt,ref:Ut}),useFocusOnHide(Vt,{focusRef:Ut,visible:Mt,shouldFocus:tt&&ot===TRIGGER.click}),useFocusOnShow(Vt,{focusRef:j,visible:Mt,shouldFocus:rt&&ot===TRIGGER.click});const ir=lazyDisclosure({wasSelected:$t.current,enabled:ut,mode:ht,isSelected:rr.present}),nr=reactExports.useCallback((pr={},Ir=null)=>{const Cr={...pr,style:{...pr.style,transformOrigin:cssVars.transformOrigin.varRef,[cssVars.arrowSize.var]:nt?`${nt}px`:void 0,[cssVars.arrowShadowColor.var]:it},ref:mergeRefs(Vt,Ir),children:ir?pr.children:null,id:vt,tabIndex:-1,role:"dialog",onKeyDown:callAllHandlers$1(pr.onKeyDown,lr=>{$&&lr.key==="Escape"&&kt()}),onBlur:callAllHandlers$1(pr.onBlur,lr=>{const fr=getRelatedTarget(lr),Er=contains(Vt.current,fr),Ar=contains(Ut.current,fr);Mt&&a&&(!Er&&!Ar)&&kt()}),"aria-labelledby":Bt?xt:void 0,"aria-describedby":Lt?wt:void 0};return ot===TRIGGER.hover&&(Cr.role="tooltip",Cr.onMouseEnter=callAllHandlers$1(pr.onMouseEnter,()=>{jt.current=!0}),Cr.onMouseLeave=callAllHandlers$1(pr.onMouseLeave,lr=>{lr.nativeEvent.relatedTarget!==null&&(jt.current=!1,setTimeout(()=>kt(),ct))})),Cr},[ir,vt,Bt,xt,Lt,wt,ot,$,kt,Mt,a,ct,it,nt]),Gt=reactExports.useCallback((pr={},Ir=null)=>Tt({...pr,style:{visibility:Mt?"visible":"hidden",...pr.style}},Ir),[Mt,Tt]),qt=reactExports.useCallback((pr,Ir=null)=>({...pr,ref:mergeRefs(Ir,zt,_t)}),[zt,_t]),Jt=reactExports.useRef(),Ft=reactExports.useRef(),Kt=reactExports.useCallback(pr=>{zt.current==null&&_t(pr)},[_t]),Qt=reactExports.useCallback((pr={},Ir=null)=>{const Cr={...pr,ref:mergeRefs(Ut,Ir,Kt),id:dt,"aria-haspopup":"dialog","aria-expanded":Mt,"aria-controls":vt};return ot===TRIGGER.click&&(Cr.onClick=callAllHandlers$1(pr.onClick,Ot)),ot===TRIGGER.hover&&(Cr.onFocus=callAllHandlers$1(pr.onFocus,()=>{Jt.current===void 0&&Ct()}),Cr.onBlur=callAllHandlers$1(pr.onBlur,lr=>{const fr=getRelatedTarget(lr),Er=!contains(Vt.current,fr);Mt&&a&&Er&&kt()}),Cr.onKeyDown=callAllHandlers$1(pr.onKeyDown,lr=>{lr.key==="Escape"&&kt()}),Cr.onMouseEnter=callAllHandlers$1(pr.onMouseEnter,()=>{jt.current=!0,Jt.current=window.setTimeout(()=>Ct(),st)}),Cr.onMouseLeave=callAllHandlers$1(pr.onMouseLeave,()=>{jt.current=!1,Jt.current&&(clearTimeout(Jt.current),Jt.current=void 0),Ft.current=window.setTimeout(()=>{jt.current===!1&&kt()},ct)})),Cr},[dt,Mt,vt,ot,Kt,Ot,Ct,a,kt,st,ct]);reactExports.useEffect(()=>()=>{Jt.current&&clearTimeout(Jt.current),Ft.current&&clearTimeout(Ft.current)},[]);const dr=reactExports.useCallback((pr={},Ir=null)=>({...pr,id:xt,ref:mergeRefs(Ir,Cr=>{Nt(!!Cr)})}),[xt]),xr=reactExports.useCallback((pr={},Ir=null)=>({...pr,id:wt,ref:mergeRefs(Ir,Cr=>{Pt(!!Cr)})}),[wt]);return{forceUpdate:It,isOpen:Mt,onAnimationComplete:rr.onComplete,onClose:kt,getAnchorProps:qt,getArrowProps:At,getArrowInnerProps:yt,getPopoverPositionerProps:Gt,getPopoverProps:nr,getTriggerProps:Qt,getHeaderProps:dr,getBodyProps:xr}}function contains(_,a){return _===a||(_==null?void 0:_.contains(a))}function getRelatedTarget(_){var a;const $=_.currentTarget.ownerDocument.activeElement;return(a=_.relatedTarget)!=null?a:$}function Popover(_){const a=useMultiStyleConfig("Popover",_),{children:$,...j}=omitThemingProps(_),et=useTheme(),tt=usePopover({...j,direction:et.direction});return jsxRuntimeExports.jsx(PopoverProvider,{value:tt,children:jsxRuntimeExports.jsx(PopoverStylesProvider,{value:a,children:runIfFn$2($,{isOpen:tt.isOpen,onClose:tt.onClose,forceUpdate:tt.forceUpdate})})})}Popover.displayName="Popover";var resolveVar=(_,a)=>a?`${_}.${a}, ${a}`:void 0;function PopoverArrow(_){var a;const{bg:$,bgColor:j,backgroundColor:et,shadow:tt,boxShadow:rt,shadowColor:nt}=_,{getArrowProps:it,getArrowInnerProps:ot}=usePopoverContext(),st=usePopoverStyles(),ct=(a=$??j)!=null?a:et,ut=tt??rt;return jsxRuntimeExports.jsx(chakra.div,{...it(),className:"chakra-popover__arrow-positioner",children:jsxRuntimeExports.jsx(chakra.div,{className:cx("chakra-popover__arrow",_.className),...ot(_),__css:{"--popper-arrow-shadow-color":resolveVar("colors",nt),"--popper-arrow-bg":resolveVar("colors",ct),"--popper-arrow-shadow":resolveVar("shadows",ut),...st.arrow}})})}PopoverArrow.displayName="PopoverArrow";var PopoverBody=forwardRef(function(a,$){const{getBodyProps:j}=usePopoverContext(),et=usePopoverStyles();return jsxRuntimeExports.jsx(chakra.div,{...j(a,$),className:cx("chakra-popover__body",a.className),__css:et.body})});PopoverBody.displayName="PopoverBody";function mergeVariants(_){if(_)return{enter:{..._.enter,visibility:"visible"},exit:{..._.exit,transitionEnd:{visibility:"hidden"}}}}var scaleFade={exit:{opacity:0,scale:.95,transition:{duration:.1,ease:[.4,0,1,1]}},enter:{scale:1,opacity:1,transition:{duration:.15,ease:[0,0,.2,1]}}},MotionSection=chakra(motion.section),PopoverTransition=forwardRef(function(a,$){const{variants:j=scaleFade,...et}=a,{isOpen:tt}=usePopoverContext();return jsxRuntimeExports.jsx(MotionSection,{ref:$,variants:mergeVariants(j),initial:!1,animate:tt?"enter":"exit",...et})});PopoverTransition.displayName="PopoverTransition";var PopoverContent=forwardRef(function(a,$){const{rootProps:j,motionProps:et,...tt}=a,{getPopoverProps:rt,getPopoverPositionerProps:nt,onAnimationComplete:it}=usePopoverContext(),ot=usePopoverStyles(),st={position:"relative",display:"flex",flexDirection:"column",...ot.content};return jsxRuntimeExports.jsx(chakra.div,{...nt(j),__css:ot.popper,className:"chakra-popover__popper",children:jsxRuntimeExports.jsx(PopoverTransition,{...et,...rt(tt,$),onAnimationComplete:callAll(it,tt.onAnimationComplete),className:cx("chakra-popover__content",a.className),__css:st})})});PopoverContent.displayName="PopoverContent";function isInputEvent(_){return _&&isObject$4(_)&&isObject$4(_.target)}function useRadioGroup(_={}){const{onChange:a,value:$,defaultValue:j,name:et,isDisabled:tt,isFocusable:rt,isNative:nt,...it}=_,[ot,st]=reactExports.useState(j||""),ct=typeof $<"u",ut=ct?$:ot,ht=reactExports.useRef(null),Et=reactExports.useCallback(()=>{const Ut=ht.current;if(!Ut)return;let Vt="input:not(:disabled):checked";const jt=Ut.querySelector(Vt);if(jt){jt.focus();return}Vt="input:not(:disabled)";const $t=Ut.querySelector(Vt);$t==null||$t.focus()},[]),Mt=`radio-${reactExports.useId()}`,kt=et||Mt,Ct=reactExports.useCallback(Ut=>{const Vt=isInputEvent(Ut)?Ut.target.value:Ut;ct||st(Vt),a==null||a(String(Vt))},[a,ct]),Ot=reactExports.useCallback((Ut={},Vt=null)=>({...Ut,ref:mergeRefs(Vt,ht),role:"radiogroup"}),[]),zt=reactExports.useCallback((Ut={},Vt=null)=>({...Ut,ref:Vt,name:kt,[nt?"checked":"isChecked"]:ut!=null?Ut.value===ut:void 0,onChange($t){Ct($t)},"data-radiogroup":!0}),[nt,kt,Ct,ut]);return{getRootProps:Ot,getRadioProps:zt,name:kt,ref:ht,focus:Et,setValue:st,value:ut,onChange:Ct,isDisabled:tt,isFocusable:rt,htmlProps:it}}var[RadioGroupProvider,useRadioGroupContext]=createContext$1({name:"RadioGroupContext",strict:!1}),RadioGroup=forwardRef((_,a)=>{const{colorScheme:$,size:j,variant:et,children:tt,className:rt,isDisabled:nt,isFocusable:it,...ot}=_,{value:st,onChange:ct,getRootProps:ut,name:ht,htmlProps:Et}=useRadioGroup(ot),St=reactExports.useMemo(()=>({name:ht,size:j,onChange:ct,colorScheme:$,value:st,variant:et,isDisabled:nt,isFocusable:it}),[ht,j,ct,$,st,et,nt,it]);return jsxRuntimeExports.jsx(RadioGroupProvider,{value:St,children:jsxRuntimeExports.jsx(chakra.div,{...ut(Et,a),className:cx("chakra-radio-group",rt),children:tt})})});RadioGroup.displayName="RadioGroup";var visuallyHiddenStyle={border:"0",clip:"rect(0, 0, 0, 0)",height:"1px",width:"1px",margin:"-1px",padding:"0",overflow:"hidden",whiteSpace:"nowrap",position:"absolute"};function useRadio(_={}){const{defaultChecked:a,isChecked:$,isFocusable:j,isDisabled:et,isReadOnly:tt,isRequired:rt,onChange:nt,isInvalid:it,name:ot,value:st,id:ct,"data-radiogroup":ut,"aria-describedby":ht,...Et}=_,St=`radio-${reactExports.useId()}`,Mt=useFormControlContext(),Ct=!!useRadioGroupContext()||!!ut;let zt=!!Mt&&!Ct?Mt.id:St;zt=ct??zt;const Ut=et??(Mt==null?void 0:Mt.isDisabled),Vt=tt??(Mt==null?void 0:Mt.isReadOnly),jt=rt??(Mt==null?void 0:Mt.isRequired),$t=it??(Mt==null?void 0:Mt.isInvalid),[Bt,Nt]=reactExports.useState(!1),[Lt,Pt]=reactExports.useState(!1),[bt,at]=reactExports.useState(!1),[dt,vt]=reactExports.useState(!1),[xt,wt]=reactExports.useState(!!a),_t=typeof $<"u",At=_t?$:xt;reactExports.useEffect(()=>trackFocusVisible(Nt),[]);const Tt=reactExports.useCallback(Kt=>{if(Vt||Ut){Kt.preventDefault();return}_t||wt(Kt.target.checked),nt==null||nt(Kt)},[_t,Ut,Vt,nt]),yt=reactExports.useCallback(Kt=>{Kt.key===" "&&vt(!0)},[vt]),It=reactExports.useCallback(Kt=>{Kt.key===" "&&vt(!1)},[vt]),rr=reactExports.useCallback((Kt={},Qt=null)=>({...Kt,ref:Qt,"data-active":dataAttr(dt),"data-hover":dataAttr(bt),"data-disabled":dataAttr(Ut),"data-invalid":dataAttr($t),"data-checked":dataAttr(At),"data-focus":dataAttr(Lt),"data-focus-visible":dataAttr(Lt&&Bt),"data-readonly":dataAttr(Vt),"aria-hidden":!0,onMouseDown:callAllHandlers$1(Kt.onMouseDown,()=>vt(!0)),onMouseUp:callAllHandlers$1(Kt.onMouseUp,()=>vt(!1)),onMouseEnter:callAllHandlers$1(Kt.onMouseEnter,()=>at(!0)),onMouseLeave:callAllHandlers$1(Kt.onMouseLeave,()=>at(!1))}),[dt,bt,Ut,$t,At,Lt,Vt,Bt]),{onFocus:ir,onBlur:nr}=Mt??{},Gt=reactExports.useCallback((Kt={},Qt=null)=>{const dr=Ut&&!j;return{...Kt,id:zt,ref:Qt,type:"radio",name:ot,value:st,onChange:callAllHandlers$1(Kt.onChange,Tt),onBlur:callAllHandlers$1(nr,Kt.onBlur,()=>Pt(!1)),onFocus:callAllHandlers$1(ir,Kt.onFocus,()=>Pt(!0)),onKeyDown:callAllHandlers$1(Kt.onKeyDown,yt),onKeyUp:callAllHandlers$1(Kt.onKeyUp,It),checked:At,disabled:dr,readOnly:Vt,required:jt,"aria-invalid":ariaAttr($t),"aria-disabled":ariaAttr(dr),"aria-required":ariaAttr(jt),"data-readonly":dataAttr(Vt),"aria-describedby":ht,style:visuallyHiddenStyle}},[Ut,j,zt,ot,st,Tt,nr,ir,yt,It,At,Vt,jt,$t,ht]);return{state:{isInvalid:$t,isFocused:Lt,isChecked:At,isActive:dt,isHovered:bt,isDisabled:Ut,isReadOnly:Vt,isRequired:jt},getCheckboxProps:rr,getRadioProps:rr,getInputProps:Gt,getLabelProps:(Kt={},Qt=null)=>({...Kt,ref:Qt,onMouseDown:callAllHandlers$1(Kt.onMouseDown,stopEvent),"data-disabled":dataAttr(Ut),"data-checked":dataAttr(At),"data-invalid":dataAttr($t)}),getRootProps:(Kt,Qt=null)=>({...Kt,ref:Qt,"data-disabled":dataAttr(Ut),"data-checked":dataAttr(At),"data-invalid":dataAttr($t)}),htmlProps:Et}}function stopEvent(_){_.preventDefault(),_.stopPropagation()}function split$3(_,a){const $={},j={};for(const[et,tt]of Object.entries(_))a.includes(et)?$[et]=tt:j[et]=tt;return[$,j]}var Radio=forwardRef((_,a)=>{var $;const j=useRadioGroupContext(),{onChange:et,value:tt}=_,rt=useMultiStyleConfig("Radio",{...j,..._}),nt=omitThemingProps(_),{spacing:it="0.5rem",children:ot,isDisabled:st=j==null?void 0:j.isDisabled,isFocusable:ct=j==null?void 0:j.isFocusable,inputProps:ut,...ht}=nt;let Et=_.isChecked;(j==null?void 0:j.value)!=null&&tt!=null&&(Et=j.value===tt);let St=et;j!=null&&j.onChange&&tt!=null&&(St=callAll(j.onChange,et));const Mt=($=_==null?void 0:_.name)!=null?$:j==null?void 0:j.name,{getInputProps:kt,getCheckboxProps:Ct,getLabelProps:Ot,getRootProps:zt,htmlProps:Ut}=useRadio({...ht,isChecked:Et,isFocusable:ct,isDisabled:st,onChange:St,name:Mt}),[Vt,jt]=split$3(Ut,layoutPropNames),$t=Ct(jt),Bt=kt(ut,a),Nt=Ot(),Lt=Object.assign({},Vt,zt()),Pt={display:"inline-flex",alignItems:"center",verticalAlign:"top",cursor:"pointer",position:"relative",...rt.container},bt={display:"inline-flex",alignItems:"center",justifyContent:"center",flexShrink:0,...rt.control},at={userSelect:"none",marginStart:it,...rt.label};return jsxRuntimeExports.jsxs(chakra.label,{className:"chakra-radio",...Lt,__css:Pt,children:[jsxRuntimeExports.jsx("input",{className:"chakra-radio__input",...Bt}),jsxRuntimeExports.jsx(chakra.span,{className:"chakra-radio__control",...$t,__css:bt}),ot&&jsxRuntimeExports.jsx(chakra.span,{className:"chakra-radio__label",...Nt,__css:at,children:ot})]})});Radio.displayName="Radio";var SelectField=forwardRef(function(a,$){const{children:j,placeholder:et,className:tt,...rt}=a;return jsxRuntimeExports.jsxs(chakra.select,{...rt,ref:$,className:cx("chakra-select",tt),children:[et&&jsxRuntimeExports.jsx("option",{value:"",children:et}),j]})});SelectField.displayName="SelectField";function split$2(_,a){const $={},j={};for(const[et,tt]of Object.entries(_))a.includes(et)?$[et]=tt:j[et]=tt;return[$,j]}var Select$1=forwardRef((_,a)=>{var $;const j=useMultiStyleConfig("Select",_),{rootProps:et,placeholder:tt,icon:rt,color:nt,height:it,h:ot,minH:st,minHeight:ct,iconColor:ut,iconSize:ht,...Et}=omitThemingProps(_),[St,Mt]=split$2(Et,layoutPropNames),kt=useFormControl(Mt),Ct={width:"100%",height:"fit-content",position:"relative",color:nt},Ot={paddingEnd:"2rem",...j.field,_focus:{zIndex:"unset",...($=j.field)==null?void 0:$._focus}};return jsxRuntimeExports.jsxs(chakra.div,{className:"chakra-select__wrapper",__css:Ct,...St,...et,children:[jsxRuntimeExports.jsx(SelectField,{ref:a,height:ot??it,minH:st??ct,placeholder:tt,...kt,__css:Ot,children:_.children}),jsxRuntimeExports.jsx(SelectIcon,{"data-disabled":dataAttr(kt.disabled),...(ut||nt)&&{color:ut||nt},__css:j.icon,...ht&&{fontSize:ht},children:rt})]})});Select$1.displayName="Select";var DefaultIcon=_=>jsxRuntimeExports.jsx("svg",{viewBox:"0 0 24 24",..._,children:jsxRuntimeExports.jsx("path",{fill:"currentColor",d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"})}),IconWrapper=chakra("div",{baseStyle:{position:"absolute",display:"inline-flex",alignItems:"center",justifyContent:"center",pointerEvents:"none",top:"50%",transform:"translateY(-50%)"}}),SelectIcon=_=>{const{children:a=jsxRuntimeExports.jsx(DefaultIcon,{}),...$}=_,j=reactExports.cloneElement(a,{role:"presentation",className:"chakra-select__icon",focusable:!1,"aria-hidden":!0,style:{width:"1em",height:"1em",color:"currentColor"}});return jsxRuntimeExports.jsx(IconWrapper,{...$,className:"chakra-select__icon-wrapper",children:reactExports.isValidElement(a)?j:null})};SelectIcon.displayName="SelectIcon";var Switch=forwardRef(function(a,$){const j=useMultiStyleConfig("Switch",a),{spacing:et="0.5rem",children:tt,...rt}=omitThemingProps(a),{getIndicatorProps:nt,getInputProps:it,getCheckboxProps:ot,getRootProps:st,getLabelProps:ct}=useCheckbox(rt),ut=reactExports.useMemo(()=>({display:"inline-block",position:"relative",verticalAlign:"middle",lineHeight:0,...j.container}),[j.container]),ht=reactExports.useMemo(()=>({display:"inline-flex",flexShrink:0,justifyContent:"flex-start",boxSizing:"content-box",cursor:"pointer",...j.track}),[j.track]),Et=reactExports.useMemo(()=>({userSelect:"none",marginStart:et,...j.label}),[et,j.label]);return jsxRuntimeExports.jsxs(chakra.label,{...st(),className:cx("chakra-switch",a.className),__css:ut,children:[jsxRuntimeExports.jsx("input",{className:"chakra-switch__input",...it({},$)}),jsxRuntimeExports.jsx(chakra.span,{...ot(),className:"chakra-switch__track",__css:ht,children:jsxRuntimeExports.jsx(chakra.span,{__css:j.thumb,className:"chakra-switch__thumb",...nt()})}),tt&&jsxRuntimeExports.jsx(chakra.span,{className:"chakra-switch__label",...ct(),__css:Et,children:tt})]})});Switch.displayName="Switch";var[TableStylesProvider,useTableStyles]=createContext$1({name:"TableStylesContext",errorMessage:`useTableStyles returned is 'undefined'. Seems you forgot to wrap the components in "<Table />" `}),Table=forwardRef((_,a)=>{const $=useMultiStyleConfig("Table",_),{className:j,layout:et,...tt}=omitThemingProps(_);return jsxRuntimeExports.jsx(TableStylesProvider,{value:$,children:jsxRuntimeExports.jsx(chakra.table,{ref:a,__css:{tableLayout:et,...$.table},className:cx("chakra-table",j),...tt})})});Table.displayName="Table";var Tr=forwardRef((_,a)=>{const $=useTableStyles();return jsxRuntimeExports.jsx(chakra.tr,{..._,ref:a,__css:$.tr})}),TableContainer=forwardRef((_,a)=>{var $;const{overflow:j,overflowX:et,className:tt,...rt}=_;return jsxRuntimeExports.jsx(chakra.div,{ref:a,className:cx("chakra-table__container",tt),...rt,__css:{display:"block",whiteSpace:"nowrap",WebkitOverflowScrolling:"touch",overflowX:($=j??et)!=null?$:"auto",overflowY:"hidden",maxWidth:"100%"}})}),Tbody=forwardRef((_,a)=>{const $=useTableStyles();return jsxRuntimeExports.jsx(chakra.tbody,{..._,ref:a,__css:$.tbody})}),Td=forwardRef(({isNumeric:_,...a},$)=>{const j=useTableStyles();return jsxRuntimeExports.jsx(chakra.td,{...a,ref:$,__css:j.td,"data-is-numeric":_})}),[TabsDescendantsProvider,useTabsDescendantsContext,useTabsDescendants,useTabsDescendant]=createDescendantContext();function useTabs(_){var a;const{defaultIndex:$,onChange:j,index:et,isManual:tt,isLazy:rt,lazyBehavior:nt="unmount",orientation:it="horizontal",direction:ot="ltr",...st}=_,[ct,ut]=reactExports.useState($??0),[ht,Et]=useControllableState({defaultValue:$??0,value:et,onChange:j});reactExports.useEffect(()=>{et!=null&&ut(et)},[et]);const St=useTabsDescendants(),Mt=reactExports.useId();return{id:`tabs-${(a=_.id)!=null?a:Mt}`,selectedIndex:ht,focusedIndex:ct,setSelectedIndex:Et,setFocusedIndex:ut,isManual:tt,isLazy:rt,lazyBehavior:nt,orientation:it,descendants:St,direction:ot,htmlProps:st}}var[TabsProvider,useTabsContext]=createContext$1({name:"TabsContext",errorMessage:"useTabsContext: `context` is undefined. Seems you forgot to wrap all tabs components within <Tabs />"});function useTabList(_){const{focusedIndex:a,orientation:$,direction:j}=useTabsContext(),et=useTabsDescendantsContext(),tt=reactExports.useCallback(rt=>{const nt=()=>{var Ct;const Ot=et.nextEnabled(a);Ot&&((Ct=Ot.node)==null||Ct.focus())},it=()=>{var Ct;const Ot=et.prevEnabled(a);Ot&&((Ct=Ot.node)==null||Ct.focus())},ot=()=>{var Ct;const Ot=et.firstEnabled();Ot&&((Ct=Ot.node)==null||Ct.focus())},st=()=>{var Ct;const Ot=et.lastEnabled();Ot&&((Ct=Ot.node)==null||Ct.focus())},ct=$==="horizontal",ut=$==="vertical",ht=rt.key,Et=j==="ltr"?"ArrowLeft":"ArrowRight",St=j==="ltr"?"ArrowRight":"ArrowLeft",kt={[Et]:()=>ct&&it(),[St]:()=>ct&&nt(),ArrowDown:()=>ut&&nt(),ArrowUp:()=>ut&&it(),Home:ot,End:st}[ht];kt&&(rt.preventDefault(),kt(rt))},[et,a,$,j]);return{..._,role:"tablist","aria-orientation":$,onKeyDown:callAllHandlers$1(_.onKeyDown,tt)}}function useTab(_){const{isDisabled:a=!1,isFocusable:$=!1,...j}=_,{setSelectedIndex:et,isManual:tt,id:rt,setFocusedIndex:nt,selectedIndex:it}=useTabsContext(),{index:ot,register:st}=useTabsDescendant({disabled:a&&!$}),ct=ot===it,ut=()=>{et(ot)},ht=()=>{nt(ot),!tt&&!(a&&$)&&et(ot)};return{...useClickable({...j,ref:mergeRefs(st,_.ref),isDisabled:a,isFocusable:$,onClick:callAllHandlers$1(_.onClick,ut)}),id:makeTabId(rt,ot),role:"tab",tabIndex:ct?0:-1,type:"button","aria-selected":ct,"aria-controls":makeTabPanelId(rt,ot),onFocus:a?void 0:callAllHandlers$1(_.onFocus,ht)}}var[TabPanelProvider,useTabPanelContext]=createContext$1({});function useTabPanels(_){const a=useTabsContext(),{id:$,selectedIndex:j}=a,tt=getValidChildren(_.children).map((rt,nt)=>reactExports.createElement(TabPanelProvider,{key:nt,value:{isSelected:nt===j,id:makeTabPanelId($,nt),tabId:makeTabId($,nt),selectedIndex:j}},rt));return{..._,children:tt}}function useTabPanel(_){const{children:a,...$}=_,{isLazy:j,lazyBehavior:et}=useTabsContext(),{isSelected:tt,id:rt,tabId:nt}=useTabPanelContext(),it=reactExports.useRef(!1);tt&&(it.current=!0);const ot=lazyDisclosure({wasSelected:it.current,isSelected:tt,enabled:j,mode:et});return{tabIndex:0,...$,children:ot?a:null,role:"tabpanel","aria-labelledby":nt,hidden:!tt,id:rt}}function makeTabId(_,a){return`${_}--tab-${a}`}function makeTabPanelId(_,a){return`${_}--tabpanel-${a}`}var[TabsStylesProvider,useTabsStyles]=createContext$1({name:"TabsStylesContext",errorMessage:`useTabsStyles returned is 'undefined'. Seems you forgot to wrap the components in "<Tabs />" `}),Tabs=forwardRef(function(a,$){const j=useMultiStyleConfig("Tabs",a),{children:et,className:tt,...rt}=omitThemingProps(a),{htmlProps:nt,descendants:it,...ot}=useTabs(rt),st=reactExports.useMemo(()=>ot,[ot]),{isFitted:ct,...ut}=nt,ht={position:"relative",...j.root};return jsxRuntimeExports.jsx(TabsDescendantsProvider,{value:it,children:jsxRuntimeExports.jsx(TabsProvider,{value:st,children:jsxRuntimeExports.jsx(TabsStylesProvider,{value:j,children:jsxRuntimeExports.jsx(chakra.div,{className:cx("chakra-tabs",tt),ref:$,...ut,__css:ht,children:et})})})})});Tabs.displayName="Tabs";var TabList=forwardRef(function(a,$){const j=useTabList({...a,ref:$}),tt={display:"flex",...useTabsStyles().tablist};return jsxRuntimeExports.jsx(chakra.div,{...j,className:cx("chakra-tabs__tablist",a.className),__css:tt})});TabList.displayName="TabList";var TabPanel=forwardRef(function(a,$){const j=useTabPanel({...a,ref:$}),et=useTabsStyles();return jsxRuntimeExports.jsx(chakra.div,{outline:"0",...j,className:cx("chakra-tabs__tab-panel",a.className),__css:et.tabpanel})});TabPanel.displayName="TabPanel";var TabPanels=forwardRef(function(a,$){const j=useTabPanels(a),et=useTabsStyles();return jsxRuntimeExports.jsx(chakra.div,{...j,width:"100%",ref:$,className:cx("chakra-tabs__tab-panels",a.className),__css:et.tabpanels})});TabPanels.displayName="TabPanels";var Tab=forwardRef(function(a,$){const j=useTabsStyles(),et=useTab({...a,ref:$}),tt={outline:"0",display:"flex",alignItems:"center",justifyContent:"center",...j.tab};return jsxRuntimeExports.jsx(chakra.button,{...et,className:cx("chakra-tabs__tab",a.className),__css:tt})});Tab.displayName="Tab";function omit$2(_,a=[]){const $=Object.assign({},_);for(const j of a)j in $&&delete $[j];return $}var omitted=["h","minH","height","minHeight"],Textarea=forwardRef((_,a)=>{const $=useStyleConfig("Textarea",_),{className:j,rows:et,...tt}=omitThemingProps(_),rt=useFormControl(tt),nt=et?omit$2($,omitted):$;return jsxRuntimeExports.jsx(chakra.textarea,{ref:a,rows:et,...rt,className:cx("chakra-textarea",j),__css:nt})});Textarea.displayName="Textarea";var scale={exit:{scale:.85,opacity:0,transition:{opacity:{duration:.15,easings:"easeInOut"},scale:{duration:.2,easings:"easeInOut"}}},enter:{scale:1,opacity:1,transition:{opacity:{easings:"easeOut",duration:.2},scale:{duration:.2,ease:[.175,.885,.4,1.1]}}}},getDoc=_=>{var a;return((a=_.current)==null?void 0:a.ownerDocument)||document},getWin=_=>{var a,$;return(($=(a=_.current)==null?void 0:a.ownerDocument)==null?void 0:$.defaultView)||window};function useTooltip(_={}){const{openDelay:a=0,closeDelay:$=0,closeOnClick:j=!0,closeOnMouseDown:et,closeOnScroll:tt,closeOnPointerDown:rt=et,closeOnEsc:nt=!0,onOpen:it,onClose:ot,placement:st,id:ct,isOpen:ut,defaultIsOpen:ht,arrowSize:Et=10,arrowShadowColor:St,arrowPadding:Mt,modifiers:kt,isDisabled:Ct,gutter:Ot,offset:zt,direction:Ut,...Vt}=_,{isOpen:jt,onOpen:$t,onClose:Bt}=useDisclosure({isOpen:ut,defaultIsOpen:ht,onOpen:it,onClose:ot}),{referenceRef:Nt,getPopperProps:Lt,getArrowInnerProps:Pt,getArrowProps:bt}=usePopper({enabled:jt,placement:st,arrowPadding:Mt,modifiers:kt,gutter:Ot,offset:zt,direction:Ut}),at=reactExports.useId(),vt=`tooltip-${ct??at}`,xt=reactExports.useRef(null),wt=reactExports.useRef(),_t=reactExports.useCallback(()=>{wt.current&&(clearTimeout(wt.current),wt.current=void 0)},[]),At=reactExports.useRef(),Tt=reactExports.useCallback(()=>{At.current&&(clearTimeout(At.current),At.current=void 0)},[]),yt=reactExports.useCallback(()=>{Tt(),Bt()},[Bt,Tt]),It=useCloseEvent(xt,yt),rr=reactExports.useCallback(()=>{if(!Ct&&!wt.current){jt&&It();const Qt=getWin(xt);wt.current=Qt.setTimeout($t,a)}},[It,Ct,jt,$t,a]),ir=reactExports.useCallback(()=>{_t();const Qt=getWin(xt);At.current=Qt.setTimeout(yt,$)},[$,yt,_t]),nr=reactExports.useCallback(()=>{jt&&j&&ir()},[j,ir,jt]),Gt=reactExports.useCallback(()=>{jt&&rt&&ir()},[rt,ir,jt]),qt=reactExports.useCallback(Qt=>{jt&&Qt.key==="Escape"&&ir()},[jt,ir]);useEventListener(()=>getDoc(xt),"keydown",nt?qt:void 0),useEventListener(()=>{if(!tt)return null;const Qt=xt.current;if(!Qt)return null;const dr=getScrollParent$1(Qt);return dr.localName==="body"?getWin(xt):dr},"scroll",()=>{jt&&tt&&yt()},{passive:!0,capture:!0}),reactExports.useEffect(()=>{Ct&&(_t(),jt&&Bt())},[Ct,jt,Bt,_t]),reactExports.useEffect(()=>()=>{_t(),Tt()},[_t,Tt]),useEventListener(()=>xt.current,"pointerleave",ir);const Jt=reactExports.useCallback((Qt={},dr=null)=>({...Qt,ref:mergeRefs(xt,dr,Nt),onPointerEnter:callAllHandlers$1(Qt.onPointerEnter,pr=>{pr.pointerType!=="touch"&&rr()}),onClick:callAllHandlers$1(Qt.onClick,nr),onPointerDown:callAllHandlers$1(Qt.onPointerDown,Gt),onFocus:callAllHandlers$1(Qt.onFocus,rr),onBlur:callAllHandlers$1(Qt.onBlur,ir),"aria-describedby":jt?vt:void 0}),[rr,ir,Gt,jt,vt,nr,Nt]),Ft=reactExports.useCallback((Qt={},dr=null)=>Lt({...Qt,style:{...Qt.style,[cssVars.arrowSize.var]:Et?`${Et}px`:void 0,[cssVars.arrowShadowColor.var]:St}},dr),[Lt,Et,St]),Kt=reactExports.useCallback((Qt={},dr=null)=>{const xr={...Qt.style,position:"relative",transformOrigin:cssVars.transformOrigin.varRef};return{ref:dr,...Vt,...Qt,id:vt,role:"tooltip",style:xr}},[Vt,vt]);return{isOpen:jt,show:rr,hide:ir,getTriggerProps:Jt,getTooltipProps:Kt,getTooltipPositionerProps:Ft,getArrowProps:bt,getArrowInnerProps:Pt}}var closeEventName="chakra-ui:close-tooltip";function useCloseEvent(_,a){return reactExports.useEffect(()=>{const $=getDoc(_);return $.addEventListener(closeEventName,a),()=>$.removeEventListener(closeEventName,a)},[a,_]),()=>{const $=getDoc(_),j=getWin(_);$.dispatchEvent(new j.CustomEvent(closeEventName))}}function omit$1(_,a=[]){const $=Object.assign({},_);for(const j of a)j in $&&delete $[j];return $}function pick$1(_,a){const $={};for(const j of a)j in _&&($[j]=_[j]);return $}var MotionDiv=chakra(motion.div),Tooltip=forwardRef((_,a)=>{var $,j;const et=useStyleConfig("Tooltip",_),tt=omitThemingProps(_),rt=useTheme(),{children:nt,label:it,shouldWrapChildren:ot,"aria-label":st,hasArrow:ct,bg:ut,portalProps:ht,background:Et,backgroundColor:St,bgColor:Mt,motionProps:kt,...Ct}=tt,Ot=(j=($=Et??St)!=null?$:ut)!=null?j:Mt;if(Ot){et.bg=Ot;const Lt=getCSSVar(rt,"colors",Ot);et[cssVars.arrowBg.var]=Lt}const zt=useTooltip({...Ct,direction:rt.direction}),Ut=typeof nt=="string"||ot;let Vt;if(Ut)Vt=jsxRuntimeExports.jsx(chakra.span,{display:"inline-block",tabIndex:0,...zt.getTriggerProps(),children:nt});else{const Lt=reactExports.Children.only(nt);Vt=reactExports.cloneElement(Lt,zt.getTriggerProps(Lt.props,Lt.ref))}const jt=!!st,$t=zt.getTooltipProps({},a),Bt=jt?omit$1($t,["role","id"]):$t,Nt=pick$1($t,["role","id"]);return it?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[Vt,jsxRuntimeExports.jsx(AnimatePresence,{children:zt.isOpen&&jsxRuntimeExports.jsx(Portal,{...ht,children:jsxRuntimeExports.jsx(chakra.div,{...zt.getTooltipPositionerProps(),__css:{zIndex:et.zIndex,pointerEvents:"none"},children:jsxRuntimeExports.jsxs(MotionDiv,{variants:scale,initial:"exit",animate:"enter",exit:"exit",...kt,...Bt,__css:et,children:[it,jt&&jsxRuntimeExports.jsx(chakra.span,{srOnly:!0,...Nt,children:st}),ct&&jsxRuntimeExports.jsx(chakra.div,{"data-popper-arrow":!0,className:"chakra-tooltip__arrow-wrapper",children:jsxRuntimeExports.jsx(chakra.div,{"data-popper-arrow-inner":!0,className:"chakra-tooltip__arrow",__css:{bg:et.bg}})})]})})})})]}):jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:nt})});Tooltip.displayName="Tooltip";var lodash={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */lodash.exports;(function(_,a){(function(){var $,j="4.17.21",et=200,tt="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",rt="Expected a function",nt="Invalid `variable` option passed into `_.template`",it="__lodash_hash_undefined__",ot=500,st="__lodash_placeholder__",ct=1,ut=2,ht=4,Et=1,St=2,Mt=1,kt=2,Ct=4,Ot=8,zt=16,Ut=32,Vt=64,jt=128,$t=256,Bt=512,Nt=30,Lt="...",Pt=800,bt=16,at=1,dt=2,vt=3,xt=1/0,wt=9007199254740991,_t=17976931348623157e292,At=NaN,Tt=4294967295,yt=Tt-1,It=Tt>>>1,rr=[["ary",jt],["bind",Mt],["bindKey",kt],["curry",Ot],["curryRight",zt],["flip",Bt],["partial",Ut],["partialRight",Vt],["rearg",$t]],ir="[object Arguments]",nr="[object Array]",Gt="[object AsyncFunction]",qt="[object Boolean]",Jt="[object Date]",Ft="[object DOMException]",Kt="[object Error]",Qt="[object Function]",dr="[object GeneratorFunction]",xr="[object Map]",pr="[object Number]",Ir="[object Null]",Cr="[object Object]",lr="[object Promise]",fr="[object Proxy]",Er="[object RegExp]",Ar="[object Set]",kr="[object String]",Sr="[object Symbol]",$r="[object Undefined]",jr="[object WeakMap]",Nr="[object WeakSet]",or="[object ArrayBuffer]",Xt="[object DataView]",er="[object Float32Array]",Zt="[object Float64Array]",Ht="[object Int8Array]",Wt="[object Int16Array]",ar="[object Int32Array]",br="[object Uint8Array]",wr="[object Uint8ClampedArray]",Rr="[object Uint16Array]",Qr="[object Uint32Array]",Ur=/\b__p \+= '';/g,Hr=/\b(__p \+=) '' \+/g,_n=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Wr=/&(?:amp|lt|gt|quot|#39);/g,an=/[&<>"']/g,Sn=RegExp(Wr.source),cn=RegExp(an.source),Xr=/<%-([\s\S]+?)%>/g,Cn=/<%([\s\S]+?)%>/g,ln=/<%=([\s\S]+?)%>/g,Yr=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,En=/^\w*$/,fn=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Jr=/[\\^$.*+?()[\]{}|]/g,$n=RegExp(Jr.source),un=/^\s+/,en=/\s/,An=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,sn=/\{\n\/\* \[wrapped with (.+)\] \*/,tn=/,? & /,kn=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,xn=/[()=,{}\[\]\/\s]/,dn=/\\(\\)?/g,Ln=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,hn=/\w*$/,yn=/^[-+]0x[0-9a-f]+$/i,ps=/^0b[01]+$/i,ms=/^\[object .+?Constructor\]$/,gs=/^0o[0-7]+$/i,vs=/^(?:0|[1-9]\d*)$/,Zn=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ls=/($^)/,rs=/['\n\r\u2028\u2029\\]/g,es="\\ud800-\\udfff",ys="\\u0300-\\u036f",ns="\\ufe20-\\ufe2f",as="\\u20d0-\\u20ff",ds=ys+ns+as,fs="\\u2700-\\u27bf",Jn="a-z\\xdf-\\xf6\\xf8-\\xff",us="\\xac\\xb1\\xd7\\xf7",xs="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",bs="\\u2000-\\u206f",Ps=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ts="A-Z\\xc0-\\xd6\\xd8-\\xde",yl="\\ufe0e\\ufe0f",wo=us+xs+bs+Ps,Wo="['’]",_o="["+es+"]",Go="["+wo+"]",So="["+ds+"]",Zs="\\d+",Ro="["+fs+"]",xl="["+Jn+"]",El="[^"+es+wo+Zs+fs+Jn+Ts+"]",lo="\\ud83c[\\udffb-\\udfff]",Yl="(?:"+So+"|"+lo+")",wl="[^"+es+"]",jo="(?:\\ud83c[\\udde6-\\uddff]){2}",Ys="[\\ud800-\\udbff][\\udc00-\\udfff]",Bs="["+Ts+"]",_l="\\u200d",Sl="(?:"+xl+"|"+El+")",Is="(?:"+Bs+"|"+El+")",Rl="(?:"+Wo+"(?:d|ll|m|re|s|t|ve))?",Al="(?:"+Wo+"(?:D|LL|M|RE|S|T|VE))?",Tl=Yl+"?",Xs="["+yl+"]?",Ao="(?:"+_l+"(?:"+[wl,jo,Ys].join("|")+")"+Xs+Tl+")*",Ns="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",uo="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Pl=Xs+Tl+Ao,fo="(?:"+[Ro,jo,Ys].join("|")+")"+Pl,To="(?:"+[wl+So+"?",So,jo,Ys,_o].join("|")+")",Po=RegExp(Wo,"g"),Cs=RegExp(So,"g"),Ms=RegExp(lo+"(?="+lo+")|"+To+Pl,"g"),Cl=RegExp([Bs+"?"+xl+"+"+Rl+"(?="+[Go,Bs,"$"].join("|")+")",Is+"+"+Al+"(?="+[Go,Bs+Sl,"$"].join("|")+")",Bs+"?"+Sl+"+"+Rl,Bs+"+"+Al,uo,Ns,Zs,fo].join("|"),"g"),Lo=RegExp("["+_l+es+ds+yl+"]"),Co=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Bo=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Xl=-1,Qn={};Qn[er]=Qn[Zt]=Qn[Ht]=Qn[Wt]=Qn[ar]=Qn[br]=Qn[wr]=Qn[Rr]=Qn[Qr]=!0,Qn[ir]=Qn[nr]=Qn[or]=Qn[qt]=Qn[Xt]=Qn[Jt]=Qn[Kt]=Qn[Qt]=Qn[xr]=Qn[pr]=Qn[Cr]=Qn[Er]=Qn[Ar]=Qn[kr]=Qn[jr]=!1;var Gn={};Gn[ir]=Gn[nr]=Gn[or]=Gn[Xt]=Gn[qt]=Gn[Jt]=Gn[er]=Gn[Zt]=Gn[Ht]=Gn[Wt]=Gn[ar]=Gn[xr]=Gn[pr]=Gn[Cr]=Gn[Er]=Gn[Ar]=Gn[kr]=Gn[Sr]=Gn[br]=Gn[wr]=Gn[Rr]=Gn[Qr]=!0,Gn[Kt]=Gn[Qt]=Gn[jr]=!1;var _r={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},Yt={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},cr={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},gr={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Dr=parseFloat,Zr=parseInt,pn=typeof commonjsGlobal=="object"&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal,wn=typeof self=="object"&&self&&self.Object===Object&&self,nn=pn||wn||Function("return this")(),mn=a&&!a.nodeType&&a,Bn=mn&&!0&&_&&!_.nodeType&&_,Fn=Bn&&Bn.exports===mn,Xn=Fn&&pn.process,Yn=function(){try{var Or=Bn&&Bn.require&&Bn.require("util").types;return Or||Xn&&Xn.binding&&Xn.binding("util")}catch{}}(),Es=Yn&&Yn.isArrayBuffer,Ds=Yn&&Yn.isDate,ho=Yn&&Yn.isMap,No=Yn&&Yn.isRegExp,zu=Yn&&Yn.isSet,Jl=Yn&&Yn.isTypedArray;function Os(Or,Kr,Fr){switch(Fr.length){case 0:return Or.call(Kr);case 1:return Or.call(Kr,Fr[0]);case 2:return Or.call(Kr,Fr[0],Fr[1]);case 3:return Or.call(Kr,Fr[0],Fr[1],Fr[2])}return Or.apply(Kr,Fr)}function Tv(Or,Kr,Fr,Rn){for(var Nn=-1,_i=Or==null?0:Or.length;++Nn<_i;){var $s=Or[Nn];Kr(Rn,$s,Fr($s),Or)}return Rn}function po(Or,Kr){for(var Fr=-1,Rn=Or==null?0:Or.length;++Fr<Rn&&Kr(Or[Fr],Fr,Or)!==!1;);return Or}function Pv(Or,Kr){for(var Fr=Or==null?0:Or.length;Fr--&&Kr(Or[Fr],Fr,Or)!==!1;);return Or}function v0(Or,Kr){for(var Fr=-1,Rn=Or==null?0:Or.length;++Fr<Rn;)if(!Kr(Or[Fr],Fr,Or))return!1;return!0}function $l(Or,Kr){for(var Fr=-1,Rn=Or==null?0:Or.length,Nn=0,_i=[];++Fr<Rn;){var $s=Or[Fr];Kr($s,Fr,Or)&&(_i[Nn++]=$s)}return _i}function vp(Or,Kr){var Fr=Or==null?0:Or.length;return!!Fr&&mu(Or,Kr,0)>-1}function sm(Or,Kr,Fr){for(var Rn=-1,Nn=Or==null?0:Or.length;++Rn<Nn;)if(Fr(Kr,Or[Rn]))return!0;return!1}function hs(Or,Kr){for(var Fr=-1,Rn=Or==null?0:Or.length,Nn=Array(Rn);++Fr<Rn;)Nn[Fr]=Kr(Or[Fr],Fr,Or);return Nn}function Il(Or,Kr){for(var Fr=-1,Rn=Kr.length,Nn=Or.length;++Fr<Rn;)Or[Nn+Fr]=Kr[Fr];return Or}function om(Or,Kr,Fr,Rn){var Nn=-1,_i=Or==null?0:Or.length;for(Rn&&_i&&(Fr=Or[++Nn]);++Nn<_i;)Fr=Kr(Fr,Or[Nn],Nn,Or);return Fr}function Cv(Or,Kr,Fr,Rn){var Nn=Or==null?0:Or.length;for(Rn&&Nn&&(Fr=Or[--Nn]);Nn--;)Fr=Kr(Fr,Or[Nn],Nn,Or);return Fr}function am(Or,Kr){for(var Fr=-1,Rn=Or==null?0:Or.length;++Fr<Rn;)if(Kr(Or[Fr],Fr,Or))return!0;return!1}var $v=cm("length");function kv(Or){return Or.split("")}function Iv(Or){return Or.match(kn)||[]}function y0(Or,Kr,Fr){var Rn;return Fr(Or,function(Nn,_i,$s){if(Kr(Nn,_i,$s))return Rn=_i,!1}),Rn}function yp(Or,Kr,Fr,Rn){for(var Nn=Or.length,_i=Fr+(Rn?1:-1);Rn?_i--:++_i<Nn;)if(Kr(Or[_i],_i,Or))return _i;return-1}function mu(Or,Kr,Fr){return Kr===Kr?Vv(Or,Kr,Fr):yp(Or,x0,Fr)}function Mv(Or,Kr,Fr,Rn){for(var Nn=Fr-1,_i=Or.length;++Nn<_i;)if(Rn(Or[Nn],Kr))return Nn;return-1}function x0(Or){return Or!==Or}function b0(Or,Kr){var Fr=Or==null?0:Or.length;return Fr?um(Or,Kr)/Fr:At}function cm(Or){return function(Kr){return Kr==null?$:Kr[Or]}}function lm(Or){return function(Kr){return Or==null?$:Or[Kr]}}function E0(Or,Kr,Fr,Rn,Nn){return Nn(Or,function(_i,$s,cs){Fr=Rn?(Rn=!1,_i):Kr(Fr,_i,$s,cs)}),Fr}function Ov(Or,Kr){var Fr=Or.length;for(Or.sort(Kr);Fr--;)Or[Fr]=Or[Fr].value;return Or}function um(Or,Kr){for(var Fr,Rn=-1,Nn=Or.length;++Rn<Nn;){var _i=Kr(Or[Rn]);_i!==$&&(Fr=Fr===$?_i:Fr+_i)}return Fr}function dm(Or,Kr){for(var Fr=-1,Rn=Array(Or);++Fr<Or;)Rn[Fr]=Kr(Fr);return Rn}function jv(Or,Kr){return hs(Kr,function(Fr){return[Fr,Or[Fr]]})}function w0(Or){return Or&&Or.slice(0,A0(Or)+1).replace(un,"")}function no(Or){return function(Kr){return Or(Kr)}}function fm(Or,Kr){return hs(Kr,function(Fr){return Or[Fr]})}function Hu(Or,Kr){return Or.has(Kr)}function _0(Or,Kr){for(var Fr=-1,Rn=Or.length;++Fr<Rn&&mu(Kr,Or[Fr],0)>-1;);return Fr}function S0(Or,Kr){for(var Fr=Or.length;Fr--&&mu(Kr,Or[Fr],0)>-1;);return Fr}function Lv(Or,Kr){for(var Fr=Or.length,Rn=0;Fr--;)Or[Fr]===Kr&&++Rn;return Rn}var Bv=lm(_r),Nv=lm(Yt);function Dv(Or){return"\\"+gr[Or]}function Fv(Or,Kr){return Or==null?$:Or[Kr]}function gu(Or){return Lo.test(Or)}function Uv(Or){return Co.test(Or)}function zv(Or){for(var Kr,Fr=[];!(Kr=Or.next()).done;)Fr.push(Kr.value);return Fr}function hm(Or){var Kr=-1,Fr=Array(Or.size);return Or.forEach(function(Rn,Nn){Fr[++Kr]=[Nn,Rn]}),Fr}function R0(Or,Kr){return function(Fr){return Or(Kr(Fr))}}function Ml(Or,Kr){for(var Fr=-1,Rn=Or.length,Nn=0,_i=[];++Fr<Rn;){var $s=Or[Fr];($s===Kr||$s===st)&&(Or[Fr]=st,_i[Nn++]=Fr)}return _i}function xp(Or){var Kr=-1,Fr=Array(Or.size);return Or.forEach(function(Rn){Fr[++Kr]=Rn}),Fr}function Hv(Or){var Kr=-1,Fr=Array(Or.size);return Or.forEach(function(Rn){Fr[++Kr]=[Rn,Rn]}),Fr}function Vv(Or,Kr,Fr){for(var Rn=Fr-1,Nn=Or.length;++Rn<Nn;)if(Or[Rn]===Kr)return Rn;return-1}function Kv(Or,Kr,Fr){for(var Rn=Fr+1;Rn--;)if(Or[Rn]===Kr)return Rn;return Rn}function vu(Or){return gu(Or)?Wv(Or):$v(Or)}function $o(Or){return gu(Or)?Gv(Or):kv(Or)}function A0(Or){for(var Kr=Or.length;Kr--&&en.test(Or.charAt(Kr)););return Kr}var qv=lm(cr);function Wv(Or){for(var Kr=Ms.lastIndex=0;Ms.test(Or);)++Kr;return Kr}function Gv(Or){return Or.match(Ms)||[]}function Zv(Or){return Or.match(Cl)||[]}var Yv=function Or(Kr){Kr=Kr==null?nn:yu.defaults(nn.Object(),Kr,yu.pick(nn,Bo));var Fr=Kr.Array,Rn=Kr.Date,Nn=Kr.Error,_i=Kr.Function,$s=Kr.Math,cs=Kr.Object,pm=Kr.RegExp,Xv=Kr.String,mo=Kr.TypeError,bp=Fr.prototype,Jv=_i.prototype,xu=cs.prototype,Ep=Kr["__core-js_shared__"],wp=Jv.toString,ss=xu.hasOwnProperty,Qv=0,T0=function(){var mt=/[^.]+$/.exec(Ep&&Ep.keys&&Ep.keys.IE_PROTO||"");return mt?"Symbol(src)_1."+mt:""}(),_p=xu.toString,ey=wp.call(cs),ty=nn._,ry=pm("^"+wp.call(ss).replace(Jr,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Sp=Fn?Kr.Buffer:$,Ol=Kr.Symbol,Rp=Kr.Uint8Array,P0=Sp?Sp.allocUnsafe:$,Ap=R0(cs.getPrototypeOf,cs),C0=cs.create,$0=xu.propertyIsEnumerable,Tp=bp.splice,k0=Ol?Ol.isConcatSpreadable:$,Vu=Ol?Ol.iterator:$,Ql=Ol?Ol.toStringTag:$,Pp=function(){try{var mt=iu(cs,"defineProperty");return mt({},"",{}),mt}catch{}}(),ny=Kr.clearTimeout!==nn.clearTimeout&&Kr.clearTimeout,iy=Rn&&Rn.now!==nn.Date.now&&Rn.now,sy=Kr.setTimeout!==nn.setTimeout&&Kr.setTimeout,Cp=$s.ceil,$p=$s.floor,mm=cs.getOwnPropertySymbols,oy=Sp?Sp.isBuffer:$,I0=Kr.isFinite,ay=bp.join,cy=R0(cs.keys,cs),ks=$s.max,Us=$s.min,ly=Rn.now,uy=Kr.parseInt,M0=$s.random,dy=bp.reverse,gm=iu(Kr,"DataView"),Ku=iu(Kr,"Map"),vm=iu(Kr,"Promise"),bu=iu(Kr,"Set"),qu=iu(Kr,"WeakMap"),Wu=iu(cs,"create"),kp=qu&&new qu,Eu={},fy=su(gm),hy=su(Ku),py=su(vm),my=su(bu),gy=su(qu),Ip=Ol?Ol.prototype:$,Gu=Ip?Ip.valueOf:$,O0=Ip?Ip.toString:$;function vr(mt){if(_s(mt)&&!Dn(mt)&&!(mt instanceof Kn)){if(mt instanceof go)return mt;if(ss.call(mt,"__wrapped__"))return L1(mt)}return new go(mt)}var wu=function(){function mt(){}return function(Rt){if(!ws(Rt))return{};if(C0)return C0(Rt);mt.prototype=Rt;var Dt=new mt;return mt.prototype=$,Dt}}();function Mp(){}function go(mt,Rt){this.__wrapped__=mt,this.__actions__=[],this.__chain__=!!Rt,this.__index__=0,this.__values__=$}vr.templateSettings={escape:Xr,evaluate:Cn,interpolate:ln,variable:"",imports:{_:vr}},vr.prototype=Mp.prototype,vr.prototype.constructor=vr,go.prototype=wu(Mp.prototype),go.prototype.constructor=go;function Kn(mt){this.__wrapped__=mt,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Tt,this.__views__=[]}function vy(){var mt=new Kn(this.__wrapped__);return mt.__actions__=Js(this.__actions__),mt.__dir__=this.__dir__,mt.__filtered__=this.__filtered__,mt.__iteratees__=Js(this.__iteratees__),mt.__takeCount__=this.__takeCount__,mt.__views__=Js(this.__views__),mt}function yy(){if(this.__filtered__){var mt=new Kn(this);mt.__dir__=-1,mt.__filtered__=!0}else mt=this.clone(),mt.__dir__*=-1;return mt}function xy(){var mt=this.__wrapped__.value(),Rt=this.__dir__,Dt=Dn(mt),tr=Rt<0,ur=Dt?mt.length:0,yr=Mx(0,ur,this.__views__),Pr=yr.start,Mr=yr.end,Br=Mr-Pr,qr=tr?Mr:Pr-1,Gr=this.__iteratees__,rn=Gr.length,gn=0,Pn=Us(Br,this.__takeCount__);if(!Dt||!tr&&ur==Br&&Pn==Br)return i1(mt,this.__actions__);var On=[];e:for(;Br--&&gn<Pn;){qr+=Rt;for(var zn=-1,jn=mt[qr];++zn<rn;){var Vn=Gr[zn],qn=Vn.iteratee,oo=Vn.type,qs=qn(jn);if(oo==dt)jn=qs;else if(!qs){if(oo==at)continue e;break e}}On[gn++]=jn}return On}Kn.prototype=wu(Mp.prototype),Kn.prototype.constructor=Kn;function eu(mt){var Rt=-1,Dt=mt==null?0:mt.length;for(this.clear();++Rt<Dt;){var tr=mt[Rt];this.set(tr[0],tr[1])}}function by(){this.__data__=Wu?Wu(null):{},this.size=0}function Ey(mt){var Rt=this.has(mt)&&delete this.__data__[mt];return this.size-=Rt?1:0,Rt}function wy(mt){var Rt=this.__data__;if(Wu){var Dt=Rt[mt];return Dt===it?$:Dt}return ss.call(Rt,mt)?Rt[mt]:$}function _y(mt){var Rt=this.__data__;return Wu?Rt[mt]!==$:ss.call(Rt,mt)}function Sy(mt,Rt){var Dt=this.__data__;return this.size+=this.has(mt)?0:1,Dt[mt]=Wu&&Rt===$?it:Rt,this}eu.prototype.clear=by,eu.prototype.delete=Ey,eu.prototype.get=wy,eu.prototype.has=_y,eu.prototype.set=Sy;function Zo(mt){var Rt=-1,Dt=mt==null?0:mt.length;for(this.clear();++Rt<Dt;){var tr=mt[Rt];this.set(tr[0],tr[1])}}function Ry(){this.__data__=[],this.size=0}function Ay(mt){var Rt=this.__data__,Dt=Op(Rt,mt);if(Dt<0)return!1;var tr=Rt.length-1;return Dt==tr?Rt.pop():Tp.call(Rt,Dt,1),--this.size,!0}function Ty(mt){var Rt=this.__data__,Dt=Op(Rt,mt);return Dt<0?$:Rt[Dt][1]}function Py(mt){return Op(this.__data__,mt)>-1}function Cy(mt,Rt){var Dt=this.__data__,tr=Op(Dt,mt);return tr<0?(++this.size,Dt.push([mt,Rt])):Dt[tr][1]=Rt,this}Zo.prototype.clear=Ry,Zo.prototype.delete=Ay,Zo.prototype.get=Ty,Zo.prototype.has=Py,Zo.prototype.set=Cy;function Yo(mt){var Rt=-1,Dt=mt==null?0:mt.length;for(this.clear();++Rt<Dt;){var tr=mt[Rt];this.set(tr[0],tr[1])}}function $y(){this.size=0,this.__data__={hash:new eu,map:new(Ku||Zo),string:new eu}}function ky(mt){var Rt=qp(this,mt).delete(mt);return this.size-=Rt?1:0,Rt}function Iy(mt){return qp(this,mt).get(mt)}function My(mt){return qp(this,mt).has(mt)}function Oy(mt,Rt){var Dt=qp(this,mt),tr=Dt.size;return Dt.set(mt,Rt),this.size+=Dt.size==tr?0:1,this}Yo.prototype.clear=$y,Yo.prototype.delete=ky,Yo.prototype.get=Iy,Yo.prototype.has=My,Yo.prototype.set=Oy;function tu(mt){var Rt=-1,Dt=mt==null?0:mt.length;for(this.__data__=new Yo;++Rt<Dt;)this.add(mt[Rt])}function jy(mt){return this.__data__.set(mt,it),this}function Ly(mt){return this.__data__.has(mt)}tu.prototype.add=tu.prototype.push=jy,tu.prototype.has=Ly;function ko(mt){var Rt=this.__data__=new Zo(mt);this.size=Rt.size}function By(){this.__data__=new Zo,this.size=0}function Ny(mt){var Rt=this.__data__,Dt=Rt.delete(mt);return this.size=Rt.size,Dt}function Dy(mt){return this.__data__.get(mt)}function Fy(mt){return this.__data__.has(mt)}function Uy(mt,Rt){var Dt=this.__data__;if(Dt instanceof Zo){var tr=Dt.__data__;if(!Ku||tr.length<et-1)return tr.push([mt,Rt]),this.size=++Dt.size,this;Dt=this.__data__=new Yo(tr)}return Dt.set(mt,Rt),this.size=Dt.size,this}ko.prototype.clear=By,ko.prototype.delete=Ny,ko.prototype.get=Dy,ko.prototype.has=Fy,ko.prototype.set=Uy;function j0(mt,Rt){var Dt=Dn(mt),tr=!Dt&&ou(mt),ur=!Dt&&!tr&&Fl(mt),yr=!Dt&&!tr&&!ur&&Au(mt),Pr=Dt||tr||ur||yr,Mr=Pr?dm(mt.length,Xv):[],Br=Mr.length;for(var qr in mt)(Rt||ss.call(mt,qr))&&!(Pr&&(qr=="length"||ur&&(qr=="offset"||qr=="parent")||yr&&(qr=="buffer"||qr=="byteLength"||qr=="byteOffset")||na(qr,Br)))&&Mr.push(qr);return Mr}function L0(mt){var Rt=mt.length;return Rt?mt[Pm(0,Rt-1)]:$}function zy(mt,Rt){return Wp(Js(mt),ru(Rt,0,mt.length))}function Hy(mt){return Wp(Js(mt))}function ym(mt,Rt,Dt){(Dt!==$&&!Io(mt[Rt],Dt)||Dt===$&&!(Rt in mt))&&Xo(mt,Rt,Dt)}function Zu(mt,Rt,Dt){var tr=mt[Rt];(!(ss.call(mt,Rt)&&Io(tr,Dt))||Dt===$&&!(Rt in mt))&&Xo(mt,Rt,Dt)}function Op(mt,Rt){for(var Dt=mt.length;Dt--;)if(Io(mt[Dt][0],Rt))return Dt;return-1}function Vy(mt,Rt,Dt,tr){return Ll(mt,function(ur,yr,Pr){Rt(tr,ur,Dt(ur),Pr)}),tr}function B0(mt,Rt){return mt&&Fo(Rt,Ls(Rt),mt)}function Ky(mt,Rt){return mt&&Fo(Rt,eo(Rt),mt)}function Xo(mt,Rt,Dt){Rt=="__proto__"&&Pp?Pp(mt,Rt,{configurable:!0,enumerable:!0,value:Dt,writable:!0}):mt[Rt]=Dt}function xm(mt,Rt){for(var Dt=-1,tr=Rt.length,ur=Fr(tr),yr=mt==null;++Dt<tr;)ur[Dt]=yr?$:Qm(mt,Rt[Dt]);return ur}function ru(mt,Rt,Dt){return mt===mt&&(Dt!==$&&(mt=mt<=Dt?mt:Dt),Rt!==$&&(mt=mt>=Rt?mt:Rt)),mt}function vo(mt,Rt,Dt,tr,ur,yr){var Pr,Mr=Rt&ct,Br=Rt&ut,qr=Rt&ht;if(Dt&&(Pr=ur?Dt(mt,tr,ur,yr):Dt(mt)),Pr!==$)return Pr;if(!ws(mt))return mt;var Gr=Dn(mt);if(Gr){if(Pr=jx(mt),!Mr)return Js(mt,Pr)}else{var rn=zs(mt),gn=rn==Qt||rn==dr;if(Fl(mt))return a1(mt,Mr);if(rn==Cr||rn==ir||gn&&!ur){if(Pr=Br||gn?{}:T1(mt),!Mr)return Br?Sx(mt,Ky(Pr,mt)):_x(mt,B0(Pr,mt))}else{if(!Gn[rn])return ur?mt:{};Pr=Lx(mt,rn,Mr)}}yr||(yr=new ko);var Pn=yr.get(mt);if(Pn)return Pn;yr.set(mt,Pr),rv(mt)?mt.forEach(function(jn){Pr.add(vo(jn,Rt,Dt,jn,mt,yr))}):ev(mt)&&mt.forEach(function(jn,Vn){Pr.set(Vn,vo(jn,Rt,Dt,Vn,mt,yr))});var On=qr?Br?Dm:Nm:Br?eo:Ls,zn=Gr?$:On(mt);return po(zn||mt,function(jn,Vn){zn&&(Vn=jn,jn=mt[Vn]),Zu(Pr,Vn,vo(jn,Rt,Dt,Vn,mt,yr))}),Pr}function qy(mt){var Rt=Ls(mt);return function(Dt){return N0(Dt,mt,Rt)}}function N0(mt,Rt,Dt){var tr=Dt.length;if(mt==null)return!tr;for(mt=cs(mt);tr--;){var ur=Dt[tr],yr=Rt[ur],Pr=mt[ur];if(Pr===$&&!(ur in mt)||!yr(Pr))return!1}return!0}function D0(mt,Rt,Dt){if(typeof mt!="function")throw new mo(rt);return rp(function(){mt.apply($,Dt)},Rt)}function Yu(mt,Rt,Dt,tr){var ur=-1,yr=vp,Pr=!0,Mr=mt.length,Br=[],qr=Rt.length;if(!Mr)return Br;Dt&&(Rt=hs(Rt,no(Dt))),tr?(yr=sm,Pr=!1):Rt.length>=et&&(yr=Hu,Pr=!1,Rt=new tu(Rt));e:for(;++ur<Mr;){var Gr=mt[ur],rn=Dt==null?Gr:Dt(Gr);if(Gr=tr||Gr!==0?Gr:0,Pr&&rn===rn){for(var gn=qr;gn--;)if(Rt[gn]===rn)continue e;Br.push(Gr)}else yr(Rt,rn,tr)||Br.push(Gr)}return Br}var Ll=f1(Do),F0=f1(Em,!0);function Wy(mt,Rt){var Dt=!0;return Ll(mt,function(tr,ur,yr){return Dt=!!Rt(tr,ur,yr),Dt}),Dt}function jp(mt,Rt,Dt){for(var tr=-1,ur=mt.length;++tr<ur;){var yr=mt[tr],Pr=Rt(yr);if(Pr!=null&&(Mr===$?Pr===Pr&&!so(Pr):Dt(Pr,Mr)))var Mr=Pr,Br=yr}return Br}function Gy(mt,Rt,Dt,tr){var ur=mt.length;for(Dt=Un(Dt),Dt<0&&(Dt=-Dt>ur?0:ur+Dt),tr=tr===$||tr>ur?ur:Un(tr),tr<0&&(tr+=ur),tr=Dt>tr?0:iv(tr);Dt<tr;)mt[Dt++]=Rt;return mt}function U0(mt,Rt){var Dt=[];return Ll(mt,function(tr,ur,yr){Rt(tr,ur,yr)&&Dt.push(tr)}),Dt}function Fs(mt,Rt,Dt,tr,ur){var yr=-1,Pr=mt.length;for(Dt||(Dt=Nx),ur||(ur=[]);++yr<Pr;){var Mr=mt[yr];Rt>0&&Dt(Mr)?Rt>1?Fs(Mr,Rt-1,Dt,tr,ur):Il(ur,Mr):tr||(ur[ur.length]=Mr)}return ur}var bm=h1(),z0=h1(!0);function Do(mt,Rt){return mt&&bm(mt,Rt,Ls)}function Em(mt,Rt){return mt&&z0(mt,Rt,Ls)}function Lp(mt,Rt){return $l(Rt,function(Dt){return ga(mt[Dt])})}function nu(mt,Rt){Rt=Nl(Rt,mt);for(var Dt=0,tr=Rt.length;mt!=null&&Dt<tr;)mt=mt[Uo(Rt[Dt++])];return Dt&&Dt==tr?mt:$}function H0(mt,Rt,Dt){var tr=Rt(mt);return Dn(mt)?tr:Il(tr,Dt(mt))}function Vs(mt){return mt==null?mt===$?$r:Ir:Ql&&Ql in cs(mt)?Ix(mt):Kx(mt)}function wm(mt,Rt){return mt>Rt}function Zy(mt,Rt){return mt!=null&&ss.call(mt,Rt)}function Yy(mt,Rt){return mt!=null&&Rt in cs(mt)}function Xy(mt,Rt,Dt){return mt>=Us(Rt,Dt)&&mt<ks(Rt,Dt)}function _m(mt,Rt,Dt){for(var tr=Dt?sm:vp,ur=mt[0].length,yr=mt.length,Pr=yr,Mr=Fr(yr),Br=1/0,qr=[];Pr--;){var Gr=mt[Pr];Pr&&Rt&&(Gr=hs(Gr,no(Rt))),Br=Us(Gr.length,Br),Mr[Pr]=!Dt&&(Rt||ur>=120&&Gr.length>=120)?new tu(Pr&&Gr):$}Gr=mt[0];var rn=-1,gn=Mr[0];e:for(;++rn<ur&&qr.length<Br;){var Pn=Gr[rn],On=Rt?Rt(Pn):Pn;if(Pn=Dt||Pn!==0?Pn:0,!(gn?Hu(gn,On):tr(qr,On,Dt))){for(Pr=yr;--Pr;){var zn=Mr[Pr];if(!(zn?Hu(zn,On):tr(mt[Pr],On,Dt)))continue e}gn&&gn.push(On),qr.push(Pn)}}return qr}function Jy(mt,Rt,Dt,tr){return Do(mt,function(ur,yr,Pr){Rt(tr,Dt(ur),yr,Pr)}),tr}function Xu(mt,Rt,Dt){Rt=Nl(Rt,mt),mt=k1(mt,Rt);var tr=mt==null?mt:mt[Uo(xo(Rt))];return tr==null?$:Os(tr,mt,Dt)}function V0(mt){return _s(mt)&&Vs(mt)==ir}function Qy(mt){return _s(mt)&&Vs(mt)==or}function ex(mt){return _s(mt)&&Vs(mt)==Jt}function Ju(mt,Rt,Dt,tr,ur){return mt===Rt?!0:mt==null||Rt==null||!_s(mt)&&!_s(Rt)?mt!==mt&&Rt!==Rt:tx(mt,Rt,Dt,tr,Ju,ur)}function tx(mt,Rt,Dt,tr,ur,yr){var Pr=Dn(mt),Mr=Dn(Rt),Br=Pr?nr:zs(mt),qr=Mr?nr:zs(Rt);Br=Br==ir?Cr:Br,qr=qr==ir?Cr:qr;var Gr=Br==Cr,rn=qr==Cr,gn=Br==qr;if(gn&&Fl(mt)){if(!Fl(Rt))return!1;Pr=!0,Gr=!1}if(gn&&!Gr)return yr||(yr=new ko),Pr||Au(mt)?S1(mt,Rt,Dt,tr,ur,yr):$x(mt,Rt,Br,Dt,tr,ur,yr);if(!(Dt&Et)){var Pn=Gr&&ss.call(mt,"__wrapped__"),On=rn&&ss.call(Rt,"__wrapped__");if(Pn||On){var zn=Pn?mt.value():mt,jn=On?Rt.value():Rt;return yr||(yr=new ko),ur(zn,jn,Dt,tr,yr)}}return gn?(yr||(yr=new ko),kx(mt,Rt,Dt,tr,ur,yr)):!1}function rx(mt){return _s(mt)&&zs(mt)==xr}function Sm(mt,Rt,Dt,tr){var ur=Dt.length,yr=ur,Pr=!tr;if(mt==null)return!yr;for(mt=cs(mt);ur--;){var Mr=Dt[ur];if(Pr&&Mr[2]?Mr[1]!==mt[Mr[0]]:!(Mr[0]in mt))return!1}for(;++ur<yr;){Mr=Dt[ur];var Br=Mr[0],qr=mt[Br],Gr=Mr[1];if(Pr&&Mr[2]){if(qr===$&&!(Br in mt))return!1}else{var rn=new ko;if(tr)var gn=tr(qr,Gr,Br,mt,Rt,rn);if(!(gn===$?Ju(Gr,qr,Et|St,tr,rn):gn))return!1}}return!0}function K0(mt){if(!ws(mt)||Fx(mt))return!1;var Rt=ga(mt)?ry:ms;return Rt.test(su(mt))}function nx(mt){return _s(mt)&&Vs(mt)==Er}function ix(mt){return _s(mt)&&zs(mt)==Ar}function sx(mt){return _s(mt)&&Qp(mt.length)&&!!Qn[Vs(mt)]}function q0(mt){return typeof mt=="function"?mt:mt==null?to:typeof mt=="object"?Dn(mt)?Z0(mt[0],mt[1]):G0(mt):mv(mt)}function Rm(mt){if(!tp(mt))return cy(mt);var Rt=[];for(var Dt in cs(mt))ss.call(mt,Dt)&&Dt!="constructor"&&Rt.push(Dt);return Rt}function ox(mt){if(!ws(mt))return Vx(mt);var Rt=tp(mt),Dt=[];for(var tr in mt)tr=="constructor"&&(Rt||!ss.call(mt,tr))||Dt.push(tr);return Dt}function Am(mt,Rt){return mt<Rt}function W0(mt,Rt){var Dt=-1,tr=Qs(mt)?Fr(mt.length):[];return Ll(mt,function(ur,yr,Pr){tr[++Dt]=Rt(ur,yr,Pr)}),tr}function G0(mt){var Rt=Um(mt);return Rt.length==1&&Rt[0][2]?C1(Rt[0][0],Rt[0][1]):function(Dt){return Dt===mt||Sm(Dt,mt,Rt)}}function Z0(mt,Rt){return Hm(mt)&&P1(Rt)?C1(Uo(mt),Rt):function(Dt){var tr=Qm(Dt,mt);return tr===$&&tr===Rt?e0(Dt,mt):Ju(Rt,tr,Et|St)}}function Bp(mt,Rt,Dt,tr,ur){mt!==Rt&&bm(Rt,function(yr,Pr){if(ur||(ur=new ko),ws(yr))ax(mt,Rt,Pr,Dt,Bp,tr,ur);else{var Mr=tr?tr(Km(mt,Pr),yr,Pr+"",mt,Rt,ur):$;Mr===$&&(Mr=yr),ym(mt,Pr,Mr)}},eo)}function ax(mt,Rt,Dt,tr,ur,yr,Pr){var Mr=Km(mt,Dt),Br=Km(Rt,Dt),qr=Pr.get(Br);if(qr){ym(mt,Dt,qr);return}var Gr=yr?yr(Mr,Br,Dt+"",mt,Rt,Pr):$,rn=Gr===$;if(rn){var gn=Dn(Br),Pn=!gn&&Fl(Br),On=!gn&&!Pn&&Au(Br);Gr=Br,gn||Pn||On?Dn(Mr)?Gr=Mr:Rs(Mr)?Gr=Js(Mr):Pn?(rn=!1,Gr=a1(Br,!0)):On?(rn=!1,Gr=c1(Br,!0)):Gr=[]:np(Br)||ou(Br)?(Gr=Mr,ou(Mr)?Gr=sv(Mr):(!ws(Mr)||ga(Mr))&&(Gr=T1(Br))):rn=!1}rn&&(Pr.set(Br,Gr),ur(Gr,Br,tr,yr,Pr),Pr.delete(Br)),ym(mt,Dt,Gr)}function Y0(mt,Rt){var Dt=mt.length;if(Dt)return Rt+=Rt<0?Dt:0,na(Rt,Dt)?mt[Rt]:$}function X0(mt,Rt,Dt){Rt.length?Rt=hs(Rt,function(yr){return Dn(yr)?function(Pr){return nu(Pr,yr.length===1?yr[0]:yr)}:yr}):Rt=[to];var tr=-1;Rt=hs(Rt,no(Mn()));var ur=W0(mt,function(yr,Pr,Mr){var Br=hs(Rt,function(qr){return qr(yr)});return{criteria:Br,index:++tr,value:yr}});return Ov(ur,function(yr,Pr){return wx(yr,Pr,Dt)})}function lx(mt,Rt){return J0(mt,Rt,function(Dt,tr){return e0(mt,tr)})}function J0(mt,Rt,Dt){for(var tr=-1,ur=Rt.length,yr={};++tr<ur;){var Pr=Rt[tr],Mr=nu(mt,Pr);Dt(Mr,Pr)&&Qu(yr,Nl(Pr,mt),Mr)}return yr}function ux(mt){return function(Rt){return nu(Rt,mt)}}function Tm(mt,Rt,Dt,tr){var ur=tr?Mv:mu,yr=-1,Pr=Rt.length,Mr=mt;for(mt===Rt&&(Rt=Js(Rt)),Dt&&(Mr=hs(mt,no(Dt)));++yr<Pr;)for(var Br=0,qr=Rt[yr],Gr=Dt?Dt(qr):qr;(Br=ur(Mr,Gr,Br,tr))>-1;)Mr!==mt&&Tp.call(Mr,Br,1),Tp.call(mt,Br,1);return mt}function Q0(mt,Rt){for(var Dt=mt?Rt.length:0,tr=Dt-1;Dt--;){var ur=Rt[Dt];if(Dt==tr||ur!==yr){var yr=ur;na(ur)?Tp.call(mt,ur,1):km(mt,ur)}}return mt}function Pm(mt,Rt){return mt+$p(M0()*(Rt-mt+1))}function dx(mt,Rt,Dt,tr){for(var ur=-1,yr=ks(Cp((Rt-mt)/(Dt||1)),0),Pr=Fr(yr);yr--;)Pr[tr?yr:++ur]=mt,mt+=Dt;return Pr}function Cm(mt,Rt){var Dt="";if(!mt||Rt<1||Rt>wt)return Dt;do Rt%2&&(Dt+=mt),Rt=$p(Rt/2),Rt&&(mt+=mt);while(Rt);return Dt}function Hn(mt,Rt){return qm($1(mt,Rt,to),mt+"")}function fx(mt){return L0(Tu(mt))}function hx(mt,Rt){var Dt=Tu(mt);return Wp(Dt,ru(Rt,0,Dt.length))}function Qu(mt,Rt,Dt,tr){if(!ws(mt))return mt;Rt=Nl(Rt,mt);for(var ur=-1,yr=Rt.length,Pr=yr-1,Mr=mt;Mr!=null&&++ur<yr;){var Br=Uo(Rt[ur]),qr=Dt;if(Br==="__proto__"||Br==="constructor"||Br==="prototype")return mt;if(ur!=Pr){var Gr=Mr[Br];qr=tr?tr(Gr,Br,Mr):$,qr===$&&(qr=ws(Gr)?Gr:na(Rt[ur+1])?[]:{})}Zu(Mr,Br,qr),Mr=Mr[Br]}return mt}var e1=kp?function(mt,Rt){return kp.set(mt,Rt),mt}:to,mx=Pp?function(mt,Rt){return Pp(mt,"toString",{configurable:!0,enumerable:!1,value:r0(Rt),writable:!0})}:to;function gx(mt){return Wp(Tu(mt))}function yo(mt,Rt,Dt){var tr=-1,ur=mt.length;Rt<0&&(Rt=-Rt>ur?0:ur+Rt),Dt=Dt>ur?ur:Dt,Dt<0&&(Dt+=ur),ur=Rt>Dt?0:Dt-Rt>>>0,Rt>>>=0;for(var yr=Fr(ur);++tr<ur;)yr[tr]=mt[tr+Rt];return yr}function vx(mt,Rt){var Dt;return Ll(mt,function(tr,ur,yr){return Dt=Rt(tr,ur,yr),!Dt}),!!Dt}function Np(mt,Rt,Dt){var tr=0,ur=mt==null?tr:mt.length;if(typeof Rt=="number"&&Rt===Rt&&ur<=It){for(;tr<ur;){var yr=tr+ur>>>1,Pr=mt[yr];Pr!==null&&!so(Pr)&&(Dt?Pr<=Rt:Pr<Rt)?tr=yr+1:ur=yr}return ur}return $m(mt,Rt,to,Dt)}function $m(mt,Rt,Dt,tr){var ur=0,yr=mt==null?0:mt.length;if(yr===0)return 0;Rt=Dt(Rt);for(var Pr=Rt!==Rt,Mr=Rt===null,Br=so(Rt),qr=Rt===$;ur<yr;){var Gr=$p((ur+yr)/2),rn=Dt(mt[Gr]),gn=rn!==$,Pn=rn===null,On=rn===rn,zn=so(rn);if(Pr)var jn=tr||On;else qr?jn=On&&(tr||gn):Mr?jn=On&&gn&&(tr||!Pn):Br?jn=On&&gn&&!Pn&&(tr||!zn):Pn||zn?jn=!1:jn=tr?rn<=Rt:rn<Rt;jn?ur=Gr+1:yr=Gr}return Us(yr,yt)}function t1(mt,Rt){for(var Dt=-1,tr=mt.length,ur=0,yr=[];++Dt<tr;){var Pr=mt[Dt],Mr=Rt?Rt(Pr):Pr;if(!Dt||!Io(Mr,Br)){var Br=Mr;yr[ur++]=Pr===0?0:Pr}}return yr}function r1(mt){return typeof mt=="number"?mt:so(mt)?At:+mt}function io(mt){if(typeof mt=="string")return mt;if(Dn(mt))return hs(mt,io)+"";if(so(mt))return O0?O0.call(mt):"";var Rt=mt+"";return Rt=="0"&&1/mt==-xt?"-0":Rt}function Bl(mt,Rt,Dt){var tr=-1,ur=vp,yr=mt.length,Pr=!0,Mr=[],Br=Mr;if(Dt)Pr=!1,ur=sm;else if(yr>=et){var qr=Rt?null:Px(mt);if(qr)return xp(qr);Pr=!1,ur=Hu,Br=new tu}else Br=Rt?[]:Mr;e:for(;++tr<yr;){var Gr=mt[tr],rn=Rt?Rt(Gr):Gr;if(Gr=Dt||Gr!==0?Gr:0,Pr&&rn===rn){for(var gn=Br.length;gn--;)if(Br[gn]===rn)continue e;Rt&&Br.push(rn),Mr.push(Gr)}else ur(Br,rn,Dt)||(Br!==Mr&&Br.push(rn),Mr.push(Gr))}return Mr}function km(mt,Rt){return Rt=Nl(Rt,mt),mt=k1(mt,Rt),mt==null||delete mt[Uo(xo(Rt))]}function n1(mt,Rt,Dt,tr){return Qu(mt,Rt,Dt(nu(mt,Rt)),tr)}function Dp(mt,Rt,Dt,tr){for(var ur=mt.length,yr=tr?ur:-1;(tr?yr--:++yr<ur)&&Rt(mt[yr],yr,mt););return Dt?yo(mt,tr?0:yr,tr?yr+1:ur):yo(mt,tr?yr+1:0,tr?ur:yr)}function i1(mt,Rt){var Dt=mt;return Dt instanceof Kn&&(Dt=Dt.value()),om(Rt,function(tr,ur){return ur.func.apply(ur.thisArg,Il([tr],ur.args))},Dt)}function Im(mt,Rt,Dt){var tr=mt.length;if(tr<2)return tr?Bl(mt[0]):[];for(var ur=-1,yr=Fr(tr);++ur<tr;)for(var Pr=mt[ur],Mr=-1;++Mr<tr;)Mr!=ur&&(yr[ur]=Yu(yr[ur]||Pr,mt[Mr],Rt,Dt));return Bl(Fs(yr,1),Rt,Dt)}function s1(mt,Rt,Dt){for(var tr=-1,ur=mt.length,yr=Rt.length,Pr={};++tr<ur;){var Mr=tr<yr?Rt[tr]:$;Dt(Pr,mt[tr],Mr)}return Pr}function Mm(mt){return Rs(mt)?mt:[]}function Om(mt){return typeof mt=="function"?mt:to}function Nl(mt,Rt){return Dn(mt)?mt:Hm(mt,Rt)?[mt]:j1(ts(mt))}var yx=Hn;function Dl(mt,Rt,Dt){var tr=mt.length;return Dt=Dt===$?tr:Dt,!Rt&&Dt>=tr?mt:yo(mt,Rt,Dt)}var o1=ny||function(mt){return nn.clearTimeout(mt)};function a1(mt,Rt){if(Rt)return mt.slice();var Dt=mt.length,tr=P0?P0(Dt):new mt.constructor(Dt);return mt.copy(tr),tr}function jm(mt){var Rt=new mt.constructor(mt.byteLength);return new Rp(Rt).set(new Rp(mt)),Rt}function xx(mt,Rt){var Dt=Rt?jm(mt.buffer):mt.buffer;return new mt.constructor(Dt,mt.byteOffset,mt.byteLength)}function bx(mt){var Rt=new mt.constructor(mt.source,hn.exec(mt));return Rt.lastIndex=mt.lastIndex,Rt}function Ex(mt){return Gu?cs(Gu.call(mt)):{}}function c1(mt,Rt){var Dt=Rt?jm(mt.buffer):mt.buffer;return new mt.constructor(Dt,mt.byteOffset,mt.length)}function l1(mt,Rt){if(mt!==Rt){var Dt=mt!==$,tr=mt===null,ur=mt===mt,yr=so(mt),Pr=Rt!==$,Mr=Rt===null,Br=Rt===Rt,qr=so(Rt);if(!Mr&&!qr&&!yr&&mt>Rt||yr&&Pr&&Br&&!Mr&&!qr||tr&&Pr&&Br||!Dt&&Br||!ur)return 1;if(!tr&&!yr&&!qr&&mt<Rt||qr&&Dt&&ur&&!tr&&!yr||Mr&&Dt&&ur||!Pr&&ur||!Br)return-1}return 0}function wx(mt,Rt,Dt){for(var tr=-1,ur=mt.criteria,yr=Rt.criteria,Pr=ur.length,Mr=Dt.length;++tr<Pr;){var Br=l1(ur[tr],yr[tr]);if(Br){if(tr>=Mr)return Br;var qr=Dt[tr];return Br*(qr=="desc"?-1:1)}}return mt.index-Rt.index}function u1(mt,Rt,Dt,tr){for(var ur=-1,yr=mt.length,Pr=Dt.length,Mr=-1,Br=Rt.length,qr=ks(yr-Pr,0),Gr=Fr(Br+qr),rn=!tr;++Mr<Br;)Gr[Mr]=Rt[Mr];for(;++ur<Pr;)(rn||ur<yr)&&(Gr[Dt[ur]]=mt[ur]);for(;qr--;)Gr[Mr++]=mt[ur++];return Gr}function d1(mt,Rt,Dt,tr){for(var ur=-1,yr=mt.length,Pr=-1,Mr=Dt.length,Br=-1,qr=Rt.length,Gr=ks(yr-Mr,0),rn=Fr(Gr+qr),gn=!tr;++ur<Gr;)rn[ur]=mt[ur];for(var Pn=ur;++Br<qr;)rn[Pn+Br]=Rt[Br];for(;++Pr<Mr;)(gn||ur<yr)&&(rn[Pn+Dt[Pr]]=mt[ur++]);return rn}function Js(mt,Rt){var Dt=-1,tr=mt.length;for(Rt||(Rt=Fr(tr));++Dt<tr;)Rt[Dt]=mt[Dt];return Rt}function Fo(mt,Rt,Dt,tr){var ur=!Dt;Dt||(Dt={});for(var yr=-1,Pr=Rt.length;++yr<Pr;){var Mr=Rt[yr],Br=tr?tr(Dt[Mr],mt[Mr],Mr,Dt,mt):$;Br===$&&(Br=mt[Mr]),ur?Xo(Dt,Mr,Br):Zu(Dt,Mr,Br)}return Dt}function _x(mt,Rt){return Fo(mt,zm(mt),Rt)}function Sx(mt,Rt){return Fo(mt,R1(mt),Rt)}function Fp(mt,Rt){return function(Dt,tr){var ur=Dn(Dt)?Tv:Vy,yr=Rt?Rt():{};return ur(Dt,mt,Mn(tr,2),yr)}}function _u(mt){return Hn(function(Rt,Dt){var tr=-1,ur=Dt.length,yr=ur>1?Dt[ur-1]:$,Pr=ur>2?Dt[2]:$;for(yr=mt.length>3&&typeof yr=="function"?(ur--,yr):$,Pr&&Ks(Dt[0],Dt[1],Pr)&&(yr=ur<3?$:yr,ur=1),Rt=cs(Rt);++tr<ur;){var Mr=Dt[tr];Mr&&mt(Rt,Mr,tr,yr)}return Rt})}function f1(mt,Rt){return function(Dt,tr){if(Dt==null)return Dt;if(!Qs(Dt))return mt(Dt,tr);for(var ur=Dt.length,yr=Rt?ur:-1,Pr=cs(Dt);(Rt?yr--:++yr<ur)&&tr(Pr[yr],yr,Pr)!==!1;);return Dt}}function h1(mt){return function(Rt,Dt,tr){for(var ur=-1,yr=cs(Rt),Pr=tr(Rt),Mr=Pr.length;Mr--;){var Br=Pr[mt?Mr:++ur];if(Dt(yr[Br],Br,yr)===!1)break}return Rt}}function Rx(mt,Rt,Dt){var tr=Rt&Mt,ur=ep(mt);function yr(){var Pr=this&&this!==nn&&this instanceof yr?ur:mt;return Pr.apply(tr?Dt:this,arguments)}return yr}function p1(mt){return function(Rt){Rt=ts(Rt);var Dt=gu(Rt)?$o(Rt):$,tr=Dt?Dt[0]:Rt.charAt(0),ur=Dt?Dl(Dt,1).join(""):Rt.slice(1);return tr[mt]()+ur}}function Su(mt){return function(Rt){return om(hv(fv(Rt).replace(Po,"")),mt,"")}}function ep(mt){return function(){var Rt=arguments;switch(Rt.length){case 0:return new mt;case 1:return new mt(Rt[0]);case 2:return new mt(Rt[0],Rt[1]);case 3:return new mt(Rt[0],Rt[1],Rt[2]);case 4:return new mt(Rt[0],Rt[1],Rt[2],Rt[3]);case 5:return new mt(Rt[0],Rt[1],Rt[2],Rt[3],Rt[4]);case 6:return new mt(Rt[0],Rt[1],Rt[2],Rt[3],Rt[4],Rt[5]);case 7:return new mt(Rt[0],Rt[1],Rt[2],Rt[3],Rt[4],Rt[5],Rt[6])}var Dt=wu(mt.prototype),tr=mt.apply(Dt,Rt);return ws(tr)?tr:Dt}}function Ax(mt,Rt,Dt){var tr=ep(mt);function ur(){for(var yr=arguments.length,Pr=Fr(yr),Mr=yr,Br=Ru(ur);Mr--;)Pr[Mr]=arguments[Mr];var qr=yr<3&&Pr[0]!==Br&&Pr[yr-1]!==Br?[]:Ml(Pr,Br);if(yr-=qr.length,yr<Dt)return x1(mt,Rt,Up,ur.placeholder,$,Pr,qr,$,$,Dt-yr);var Gr=this&&this!==nn&&this instanceof ur?tr:mt;return Os(Gr,this,Pr)}return ur}function m1(mt){return function(Rt,Dt,tr){var ur=cs(Rt);if(!Qs(Rt)){var yr=Mn(Dt,3);Rt=Ls(Rt),Dt=function(Mr){return yr(ur[Mr],Mr,ur)}}var Pr=mt(Rt,Dt,tr);return Pr>-1?ur[yr?Rt[Pr]:Pr]:$}}function g1(mt){return Qo(function(Rt){var Dt=Rt.length,tr=Dt,ur=go.prototype.thru;for(mt&&Rt.reverse();tr--;){var yr=Rt[tr];if(typeof yr!="function")throw new mo(rt);if(ur&&!Pr&&Kp(yr)=="wrapper")var Pr=new go([],!0)}for(tr=Pr?tr:Dt;++tr<Dt;){yr=Rt[tr];var Mr=Kp(yr),Br=Mr=="wrapper"?Fm(yr):$;Br&&Vm(Br[0])&&Br[1]==(jt|Ot|Ut|$t)&&!Br[4].length&&Br[9]==1?Pr=Pr[Kp(Br[0])].apply(Pr,Br[3]):Pr=yr.length==1&&Vm(yr)?Pr[Mr]():Pr.thru(yr)}return function(){var qr=arguments,Gr=qr[0];if(Pr&&qr.length==1&&Dn(Gr))return Pr.plant(Gr).value();for(var rn=0,gn=Dt?Rt[rn].apply(this,qr):Gr;++rn<Dt;)gn=Rt[rn].call(this,gn);return gn}})}function Up(mt,Rt,Dt,tr,ur,yr,Pr,Mr,Br,qr){var Gr=Rt&jt,rn=Rt&Mt,gn=Rt&kt,Pn=Rt&(Ot|zt),On=Rt&Bt,zn=gn?$:ep(mt);function jn(){for(var Vn=arguments.length,qn=Fr(Vn),oo=Vn;oo--;)qn[oo]=arguments[oo];if(Pn)var qs=Ru(jn),ao=Lv(qn,qs);if(tr&&(qn=u1(qn,tr,ur,Pn)),yr&&(qn=d1(qn,yr,Pr,Pn)),Vn-=ao,Pn&&Vn<qr){var As=Ml(qn,qs);return x1(mt,Rt,Up,jn.placeholder,Dt,qn,As,Mr,Br,qr-Vn)}var Mo=rn?Dt:this,ba=gn?Mo[mt]:mt;return Vn=qn.length,Mr?qn=qx(qn,Mr):On&&Vn>1&&qn.reverse(),Gr&&Br<Vn&&(qn.length=Br),this&&this!==nn&&this instanceof jn&&(ba=zn||ep(ba)),ba.apply(Mo,qn)}return jn}function v1(mt,Rt){return function(Dt,tr){return Jy(Dt,mt,Rt(tr),{})}}function zp(mt,Rt){return function(Dt,tr){var ur;if(Dt===$&&tr===$)return Rt;if(Dt!==$&&(ur=Dt),tr!==$){if(ur===$)return tr;typeof Dt=="string"||typeof tr=="string"?(Dt=io(Dt),tr=io(tr)):(Dt=r1(Dt),tr=r1(tr)),ur=mt(Dt,tr)}return ur}}function Lm(mt){return Qo(function(Rt){return Rt=hs(Rt,no(Mn())),Hn(function(Dt){var tr=this;return mt(Rt,function(ur){return Os(ur,tr,Dt)})})})}function Hp(mt,Rt){Rt=Rt===$?" ":io(Rt);var Dt=Rt.length;if(Dt<2)return Dt?Cm(Rt,mt):Rt;var tr=Cm(Rt,Cp(mt/vu(Rt)));return gu(Rt)?Dl($o(tr),0,mt).join(""):tr.slice(0,mt)}function Tx(mt,Rt,Dt,tr){var ur=Rt&Mt,yr=ep(mt);function Pr(){for(var Mr=-1,Br=arguments.length,qr=-1,Gr=tr.length,rn=Fr(Gr+Br),gn=this&&this!==nn&&this instanceof Pr?yr:mt;++qr<Gr;)rn[qr]=tr[qr];for(;Br--;)rn[qr++]=arguments[++Mr];return Os(gn,ur?Dt:this,rn)}return Pr}function y1(mt){return function(Rt,Dt,tr){return tr&&typeof tr!="number"&&Ks(Rt,Dt,tr)&&(Dt=tr=$),Rt=xa(Rt),Dt===$?(Dt=Rt,Rt=0):Dt=xa(Dt),tr=tr===$?Rt<Dt?1:-1:xa(tr),dx(Rt,Dt,tr,mt)}}function Vp(mt){return function(Rt,Dt){return typeof Rt=="string"&&typeof Dt=="string"||(Rt=bo(Rt),Dt=bo(Dt)),mt(Rt,Dt)}}function x1(mt,Rt,Dt,tr,ur,yr,Pr,Mr,Br,qr){var Gr=Rt&Ot,rn=Gr?Pr:$,gn=Gr?$:Pr,Pn=Gr?yr:$,On=Gr?$:yr;Rt|=Gr?Ut:Vt,Rt&=~(Gr?Vt:Ut),Rt&Ct||(Rt&=~(Mt|kt));var zn=[mt,Rt,ur,Pn,rn,On,gn,Mr,Br,qr],jn=Dt.apply($,zn);return Vm(mt)&&I1(jn,zn),jn.placeholder=tr,M1(jn,mt,Rt)}function Bm(mt){var Rt=$s[mt];return function(Dt,tr){if(Dt=bo(Dt),tr=tr==null?0:Us(Un(tr),292),tr&&I0(Dt)){var ur=(ts(Dt)+"e").split("e"),yr=Rt(ur[0]+"e"+(+ur[1]+tr));return ur=(ts(yr)+"e").split("e"),+(ur[0]+"e"+(+ur[1]-tr))}return Rt(Dt)}}var Px=bu&&1/xp(new bu([,-0]))[1]==xt?function(mt){return new bu(mt)}:s0;function b1(mt){return function(Rt){var Dt=zs(Rt);return Dt==xr?hm(Rt):Dt==Ar?Hv(Rt):jv(Rt,mt(Rt))}}function Jo(mt,Rt,Dt,tr,ur,yr,Pr,Mr){var Br=Rt&kt;if(!Br&&typeof mt!="function")throw new mo(rt);var qr=tr?tr.length:0;if(qr||(Rt&=~(Ut|Vt),tr=ur=$),Pr=Pr===$?Pr:ks(Un(Pr),0),Mr=Mr===$?Mr:Un(Mr),qr-=ur?ur.length:0,Rt&Vt){var Gr=tr,rn=ur;tr=ur=$}var gn=Br?$:Fm(mt),Pn=[mt,Rt,Dt,tr,ur,Gr,rn,yr,Pr,Mr];if(gn&&Hx(Pn,gn),mt=Pn[0],Rt=Pn[1],Dt=Pn[2],tr=Pn[3],ur=Pn[4],Mr=Pn[9]=Pn[9]===$?Br?0:mt.length:ks(Pn[9]-qr,0),!Mr&&Rt&(Ot|zt)&&(Rt&=~(Ot|zt)),!Rt||Rt==Mt)var On=Rx(mt,Rt,Dt);else Rt==Ot||Rt==zt?On=Ax(mt,Rt,Mr):(Rt==Ut||Rt==(Mt|Ut))&&!ur.length?On=Tx(mt,Rt,Dt,tr):On=Up.apply($,Pn);var zn=gn?e1:I1;return M1(zn(On,Pn),mt,Rt)}function E1(mt,Rt,Dt,tr){return mt===$||Io(mt,xu[Dt])&&!ss.call(tr,Dt)?Rt:mt}function w1(mt,Rt,Dt,tr,ur,yr){return ws(mt)&&ws(Rt)&&(yr.set(Rt,mt),Bp(mt,Rt,$,w1,yr),yr.delete(Rt)),mt}function Cx(mt){return np(mt)?$:mt}function S1(mt,Rt,Dt,tr,ur,yr){var Pr=Dt&Et,Mr=mt.length,Br=Rt.length;if(Mr!=Br&&!(Pr&&Br>Mr))return!1;var qr=yr.get(mt),Gr=yr.get(Rt);if(qr&&Gr)return qr==Rt&&Gr==mt;var rn=-1,gn=!0,Pn=Dt&St?new tu:$;for(yr.set(mt,Rt),yr.set(Rt,mt);++rn<Mr;){var On=mt[rn],zn=Rt[rn];if(tr)var jn=Pr?tr(zn,On,rn,Rt,mt,yr):tr(On,zn,rn,mt,Rt,yr);if(jn!==$){if(jn)continue;gn=!1;break}if(Pn){if(!am(Rt,function(Vn,qn){if(!Hu(Pn,qn)&&(On===Vn||ur(On,Vn,Dt,tr,yr)))return Pn.push(qn)})){gn=!1;break}}else if(!(On===zn||ur(On,zn,Dt,tr,yr))){gn=!1;break}}return yr.delete(mt),yr.delete(Rt),gn}function $x(mt,Rt,Dt,tr,ur,yr,Pr){switch(Dt){case Xt:if(mt.byteLength!=Rt.byteLength||mt.byteOffset!=Rt.byteOffset)return!1;mt=mt.buffer,Rt=Rt.buffer;case or:return!(mt.byteLength!=Rt.byteLength||!yr(new Rp(mt),new Rp(Rt)));case qt:case Jt:case pr:return Io(+mt,+Rt);case Kt:return mt.name==Rt.name&&mt.message==Rt.message;case Er:case kr:return mt==Rt+"";case xr:var Mr=hm;case Ar:var Br=tr&Et;if(Mr||(Mr=xp),mt.size!=Rt.size&&!Br)return!1;var qr=Pr.get(mt);if(qr)return qr==Rt;tr|=St,Pr.set(mt,Rt);var Gr=S1(Mr(mt),Mr(Rt),tr,ur,yr,Pr);return Pr.delete(mt),Gr;case Sr:if(Gu)return Gu.call(mt)==Gu.call(Rt)}return!1}function kx(mt,Rt,Dt,tr,ur,yr){var Pr=Dt&Et,Mr=Nm(mt),Br=Mr.length,qr=Nm(Rt),Gr=qr.length;if(Br!=Gr&&!Pr)return!1;for(var rn=Br;rn--;){var gn=Mr[rn];if(!(Pr?gn in Rt:ss.call(Rt,gn)))return!1}var Pn=yr.get(mt),On=yr.get(Rt);if(Pn&&On)return Pn==Rt&&On==mt;var zn=!0;yr.set(mt,Rt),yr.set(Rt,mt);for(var jn=Pr;++rn<Br;){gn=Mr[rn];var Vn=mt[gn],qn=Rt[gn];if(tr)var oo=Pr?tr(qn,Vn,gn,Rt,mt,yr):tr(Vn,qn,gn,mt,Rt,yr);if(!(oo===$?Vn===qn||ur(Vn,qn,Dt,tr,yr):oo)){zn=!1;break}jn||(jn=gn=="constructor")}if(zn&&!jn){var qs=mt.constructor,ao=Rt.constructor;qs!=ao&&"constructor"in mt&&"constructor"in Rt&&!(typeof qs=="function"&&qs instanceof qs&&typeof ao=="function"&&ao instanceof ao)&&(zn=!1)}return yr.delete(mt),yr.delete(Rt),zn}function Qo(mt){return qm($1(mt,$,D1),mt+"")}function Nm(mt){return H0(mt,Ls,zm)}function Dm(mt){return H0(mt,eo,R1)}var Fm=kp?function(mt){return kp.get(mt)}:s0;function Kp(mt){for(var Rt=mt.name+"",Dt=Eu[Rt],tr=ss.call(Eu,Rt)?Dt.length:0;tr--;){var ur=Dt[tr],yr=ur.func;if(yr==null||yr==mt)return ur.name}return Rt}function Ru(mt){var Rt=ss.call(vr,"placeholder")?vr:mt;return Rt.placeholder}function Mn(){var mt=vr.iteratee||n0;return mt=mt===n0?q0:mt,arguments.length?mt(arguments[0],arguments[1]):mt}function qp(mt,Rt){var Dt=mt.__data__;return Dx(Rt)?Dt[typeof Rt=="string"?"string":"hash"]:Dt.map}function Um(mt){for(var Rt=Ls(mt),Dt=Rt.length;Dt--;){var tr=Rt[Dt],ur=mt[tr];Rt[Dt]=[tr,ur,P1(ur)]}return Rt}function iu(mt,Rt){var Dt=Fv(mt,Rt);return K0(Dt)?Dt:$}function Ix(mt){var Rt=ss.call(mt,Ql),Dt=mt[Ql];try{mt[Ql]=$;var tr=!0}catch{}var ur=_p.call(mt);return tr&&(Rt?mt[Ql]=Dt:delete mt[Ql]),ur}var zm=mm?function(mt){return mt==null?[]:(mt=cs(mt),$l(mm(mt),function(Rt){return $0.call(mt,Rt)}))}:o0,R1=mm?function(mt){for(var Rt=[];mt;)Il(Rt,zm(mt)),mt=Ap(mt);return Rt}:o0,zs=Vs;(gm&&zs(new gm(new ArrayBuffer(1)))!=Xt||Ku&&zs(new Ku)!=xr||vm&&zs(vm.resolve())!=lr||bu&&zs(new bu)!=Ar||qu&&zs(new qu)!=jr)&&(zs=function(mt){var Rt=Vs(mt),Dt=Rt==Cr?mt.constructor:$,tr=Dt?su(Dt):"";if(tr)switch(tr){case fy:return Xt;case hy:return xr;case py:return lr;case my:return Ar;case gy:return jr}return Rt});function Mx(mt,Rt,Dt){for(var tr=-1,ur=Dt.length;++tr<ur;){var yr=Dt[tr],Pr=yr.size;switch(yr.type){case"drop":mt+=Pr;break;case"dropRight":Rt-=Pr;break;case"take":Rt=Us(Rt,mt+Pr);break;case"takeRight":mt=ks(mt,Rt-Pr);break}}return{start:mt,end:Rt}}function Ox(mt){var Rt=mt.match(sn);return Rt?Rt[1].split(tn):[]}function A1(mt,Rt,Dt){Rt=Nl(Rt,mt);for(var tr=-1,ur=Rt.length,yr=!1;++tr<ur;){var Pr=Uo(Rt[tr]);if(!(yr=mt!=null&&Dt(mt,Pr)))break;mt=mt[Pr]}return yr||++tr!=ur?yr:(ur=mt==null?0:mt.length,!!ur&&Qp(ur)&&na(Pr,ur)&&(Dn(mt)||ou(mt)))}function jx(mt){var Rt=mt.length,Dt=new mt.constructor(Rt);return Rt&&typeof mt[0]=="string"&&ss.call(mt,"index")&&(Dt.index=mt.index,Dt.input=mt.input),Dt}function T1(mt){return typeof mt.constructor=="function"&&!tp(mt)?wu(Ap(mt)):{}}function Lx(mt,Rt,Dt){var tr=mt.constructor;switch(Rt){case or:return jm(mt);case qt:case Jt:return new tr(+mt);case Xt:return xx(mt,Dt);case er:case Zt:case Ht:case Wt:case ar:case br:case wr:case Rr:case Qr:return c1(mt,Dt);case xr:return new tr;case pr:case kr:return new tr(mt);case Er:return bx(mt);case Ar:return new tr;case Sr:return Ex(mt)}}function Bx(mt,Rt){var Dt=Rt.length;if(!Dt)return mt;var tr=Dt-1;return Rt[tr]=(Dt>1?"& ":"")+Rt[tr],Rt=Rt.join(Dt>2?", ":" "),mt.replace(An,`{
/* [wrapped with `+Rt+`] */
`)}function Nx(mt){return Dn(mt)||ou(mt)||!!(k0&&mt&&mt[k0])}function na(mt,Rt){var Dt=typeof mt;return Rt=Rt??wt,!!Rt&&(Dt=="number"||Dt!="symbol"&&vs.test(mt))&&mt>-1&&mt%1==0&&mt<Rt}function Ks(mt,Rt,Dt){if(!ws(Dt))return!1;var tr=typeof Rt;return(tr=="number"?Qs(Dt)&&na(Rt,Dt.length):tr=="string"&&Rt in Dt)?Io(Dt[Rt],mt):!1}function Hm(mt,Rt){if(Dn(mt))return!1;var Dt=typeof mt;return Dt=="number"||Dt=="symbol"||Dt=="boolean"||mt==null||so(mt)?!0:En.test(mt)||!Yr.test(mt)||Rt!=null&&mt in cs(Rt)}function Dx(mt){var Rt=typeof mt;return Rt=="string"||Rt=="number"||Rt=="symbol"||Rt=="boolean"?mt!=="__proto__":mt===null}function Vm(mt){var Rt=Kp(mt),Dt=vr[Rt];if(typeof Dt!="function"||!(Rt in Kn.prototype))return!1;if(mt===Dt)return!0;var tr=Fm(Dt);return!!tr&&mt===tr[0]}function Fx(mt){return!!T0&&T0 in mt}var Ux=Ep?ga:a0;function tp(mt){var Rt=mt&&mt.constructor,Dt=typeof Rt=="function"&&Rt.prototype||xu;return mt===Dt}function P1(mt){return mt===mt&&!ws(mt)}function C1(mt,Rt){return function(Dt){return Dt==null?!1:Dt[mt]===Rt&&(Rt!==$||mt in cs(Dt))}}function zx(mt){var Rt=Xp(mt,function(tr){return Dt.size===ot&&Dt.clear(),tr}),Dt=Rt.cache;return Rt}function Hx(mt,Rt){var Dt=mt[1],tr=Rt[1],ur=Dt|tr,yr=ur<(Mt|kt|jt),Pr=tr==jt&&Dt==Ot||tr==jt&&Dt==$t&&mt[7].length<=Rt[8]||tr==(jt|$t)&&Rt[7].length<=Rt[8]&&Dt==Ot;if(!(yr||Pr))return mt;tr&Mt&&(mt[2]=Rt[2],ur|=Dt&Mt?0:Ct);var Mr=Rt[3];if(Mr){var Br=mt[3];mt[3]=Br?u1(Br,Mr,Rt[4]):Mr,mt[4]=Br?Ml(mt[3],st):Rt[4]}return Mr=Rt[5],Mr&&(Br=mt[5],mt[5]=Br?d1(Br,Mr,Rt[6]):Mr,mt[6]=Br?Ml(mt[5],st):Rt[6]),Mr=Rt[7],Mr&&(mt[7]=Mr),tr&jt&&(mt[8]=mt[8]==null?Rt[8]:Us(mt[8],Rt[8])),mt[9]==null&&(mt[9]=Rt[9]),mt[0]=Rt[0],mt[1]=ur,mt}function Vx(mt){var Rt=[];if(mt!=null)for(var Dt in cs(mt))Rt.push(Dt);return Rt}function Kx(mt){return _p.call(mt)}function $1(mt,Rt,Dt){return Rt=ks(Rt===$?mt.length-1:Rt,0),function(){for(var tr=arguments,ur=-1,yr=ks(tr.length-Rt,0),Pr=Fr(yr);++ur<yr;)Pr[ur]=tr[Rt+ur];ur=-1;for(var Mr=Fr(Rt+1);++ur<Rt;)Mr[ur]=tr[ur];return Mr[Rt]=Dt(Pr),Os(mt,this,Mr)}}function k1(mt,Rt){return Rt.length<2?mt:nu(mt,yo(Rt,0,-1))}function qx(mt,Rt){for(var Dt=mt.length,tr=Us(Rt.length,Dt),ur=Js(mt);tr--;){var yr=Rt[tr];mt[tr]=na(yr,Dt)?ur[yr]:$}return mt}function Km(mt,Rt){if(!(Rt==="constructor"&&typeof mt[Rt]=="function")&&Rt!="__proto__")return mt[Rt]}var I1=O1(e1),rp=sy||function(mt,Rt){return nn.setTimeout(mt,Rt)},qm=O1(mx);function M1(mt,Rt,Dt){var tr=Rt+"";return qm(mt,Bx(tr,Wx(Ox(tr),Dt)))}function O1(mt){var Rt=0,Dt=0;return function(){var tr=ly(),ur=bt-(tr-Dt);if(Dt=tr,ur>0){if(++Rt>=Pt)return arguments[0]}else Rt=0;return mt.apply($,arguments)}}function Wp(mt,Rt){var Dt=-1,tr=mt.length,ur=tr-1;for(Rt=Rt===$?tr:Rt;++Dt<Rt;){var yr=Pm(Dt,ur),Pr=mt[yr];mt[yr]=mt[Dt],mt[Dt]=Pr}return mt.length=Rt,mt}var j1=zx(function(mt){var Rt=[];return mt.charCodeAt(0)===46&&Rt.push(""),mt.replace(fn,function(Dt,tr,ur,yr){Rt.push(ur?yr.replace(dn,"$1"):tr||Dt)}),Rt});function Uo(mt){if(typeof mt=="string"||so(mt))return mt;var Rt=mt+"";return Rt=="0"&&1/mt==-xt?"-0":Rt}function su(mt){if(mt!=null){try{return wp.call(mt)}catch{}try{return mt+""}catch{}}return""}function Wx(mt,Rt){return po(rr,function(Dt){var tr="_."+Dt[0];Rt&Dt[1]&&!vp(mt,tr)&&mt.push(tr)}),mt.sort()}function L1(mt){if(mt instanceof Kn)return mt.clone();var Rt=new go(mt.__wrapped__,mt.__chain__);return Rt.__actions__=Js(mt.__actions__),Rt.__index__=mt.__index__,Rt.__values__=mt.__values__,Rt}function Gx(mt,Rt,Dt){(Dt?Ks(mt,Rt,Dt):Rt===$)?Rt=1:Rt=ks(Un(Rt),0);var tr=mt==null?0:mt.length;if(!tr||Rt<1)return[];for(var ur=0,yr=0,Pr=Fr(Cp(tr/Rt));ur<tr;)Pr[yr++]=yo(mt,ur,ur+=Rt);return Pr}function Zx(mt){for(var Rt=-1,Dt=mt==null?0:mt.length,tr=0,ur=[];++Rt<Dt;){var yr=mt[Rt];yr&&(ur[tr++]=yr)}return ur}function Yx(){var mt=arguments.length;if(!mt)return[];for(var Rt=Fr(mt-1),Dt=arguments[0],tr=mt;tr--;)Rt[tr-1]=arguments[tr];return Il(Dn(Dt)?Js(Dt):[Dt],Fs(Rt,1))}var Xx=Hn(function(mt,Rt){return Rs(mt)?Yu(mt,Fs(Rt,1,Rs,!0)):[]}),Jx=Hn(function(mt,Rt){var Dt=xo(Rt);return Rs(Dt)&&(Dt=$),Rs(mt)?Yu(mt,Fs(Rt,1,Rs,!0),Mn(Dt,2)):[]}),Qx=Hn(function(mt,Rt){var Dt=xo(Rt);return Rs(Dt)&&(Dt=$),Rs(mt)?Yu(mt,Fs(Rt,1,Rs,!0),$,Dt):[]});function eE(mt,Rt,Dt){var tr=mt==null?0:mt.length;return tr?(Rt=Dt||Rt===$?1:Un(Rt),yo(mt,Rt<0?0:Rt,tr)):[]}function tE(mt,Rt,Dt){var tr=mt==null?0:mt.length;return tr?(Rt=Dt||Rt===$?1:Un(Rt),Rt=tr-Rt,yo(mt,0,Rt<0?0:Rt)):[]}function rE(mt,Rt){return mt&&mt.length?Dp(mt,Mn(Rt,3),!0,!0):[]}function nE(mt,Rt){return mt&&mt.length?Dp(mt,Mn(Rt,3),!0):[]}function iE(mt,Rt,Dt,tr){var ur=mt==null?0:mt.length;return ur?(Dt&&typeof Dt!="number"&&Ks(mt,Rt,Dt)&&(Dt=0,tr=ur),Gy(mt,Rt,Dt,tr)):[]}function B1(mt,Rt,Dt){var tr=mt==null?0:mt.length;if(!tr)return-1;var ur=Dt==null?0:Un(Dt);return ur<0&&(ur=ks(tr+ur,0)),yp(mt,Mn(Rt,3),ur)}function N1(mt,Rt,Dt){var tr=mt==null?0:mt.length;if(!tr)return-1;var ur=tr-1;return Dt!==$&&(ur=Un(Dt),ur=Dt<0?ks(tr+ur,0):Us(ur,tr-1)),yp(mt,Mn(Rt,3),ur,!0)}function D1(mt){var Rt=mt==null?0:mt.length;return Rt?Fs(mt,1):[]}function sE(mt){var Rt=mt==null?0:mt.length;return Rt?Fs(mt,xt):[]}function oE(mt,Rt){var Dt=mt==null?0:mt.length;return Dt?(Rt=Rt===$?1:Un(Rt),Fs(mt,Rt)):[]}function aE(mt){for(var Rt=-1,Dt=mt==null?0:mt.length,tr={};++Rt<Dt;){var ur=mt[Rt];tr[ur[0]]=ur[1]}return tr}function F1(mt){return mt&&mt.length?mt[0]:$}function cE(mt,Rt,Dt){var tr=mt==null?0:mt.length;if(!tr)return-1;var ur=Dt==null?0:Un(Dt);return ur<0&&(ur=ks(tr+ur,0)),mu(mt,Rt,ur)}function lE(mt){var Rt=mt==null?0:mt.length;return Rt?yo(mt,0,-1):[]}var uE=Hn(function(mt){var Rt=hs(mt,Mm);return Rt.length&&Rt[0]===mt[0]?_m(Rt):[]}),dE=Hn(function(mt){var Rt=xo(mt),Dt=hs(mt,Mm);return Rt===xo(Dt)?Rt=$:Dt.pop(),Dt.length&&Dt[0]===mt[0]?_m(Dt,Mn(Rt,2)):[]}),fE=Hn(function(mt){var Rt=xo(mt),Dt=hs(mt,Mm);return Rt=typeof Rt=="function"?Rt:$,Rt&&Dt.pop(),Dt.length&&Dt[0]===mt[0]?_m(Dt,$,Rt):[]});function hE(mt,Rt){return mt==null?"":ay.call(mt,Rt)}function xo(mt){var Rt=mt==null?0:mt.length;return Rt?mt[Rt-1]:$}function pE(mt,Rt,Dt){var tr=mt==null?0:mt.length;if(!tr)return-1;var ur=tr;return Dt!==$&&(ur=Un(Dt),ur=ur<0?ks(tr+ur,0):Us(ur,tr-1)),Rt===Rt?Kv(mt,Rt,ur):yp(mt,x0,ur,!0)}function mE(mt,Rt){return mt&&mt.length?Y0(mt,Un(Rt)):$}var gE=Hn(U1);function U1(mt,Rt){return mt&&mt.length&&Rt&&Rt.length?Tm(mt,Rt):mt}function vE(mt,Rt,Dt){return mt&&mt.length&&Rt&&Rt.length?Tm(mt,Rt,Mn(Dt,2)):mt}function yE(mt,Rt,Dt){return mt&&mt.length&&Rt&&Rt.length?Tm(mt,Rt,$,Dt):mt}var xE=Qo(function(mt,Rt){var Dt=mt==null?0:mt.length,tr=xm(mt,Rt);return Q0(mt,hs(Rt,function(ur){return na(ur,Dt)?+ur:ur}).sort(l1)),tr});function bE(mt,Rt){var Dt=[];if(!(mt&&mt.length))return Dt;var tr=-1,ur=[],yr=mt.length;for(Rt=Mn(Rt,3);++tr<yr;){var Pr=mt[tr];Rt(Pr,tr,mt)&&(Dt.push(Pr),ur.push(tr))}return Q0(mt,ur),Dt}function Wm(mt){return mt==null?mt:dy.call(mt)}function wE(mt,Rt,Dt){var tr=mt==null?0:mt.length;return tr?(Dt&&typeof Dt!="number"&&Ks(mt,Rt,Dt)?(Rt=0,Dt=tr):(Rt=Rt==null?0:Un(Rt),Dt=Dt===$?tr:Un(Dt)),yo(mt,Rt,Dt)):[]}function _E(mt,Rt){return Np(mt,Rt)}function SE(mt,Rt,Dt){return $m(mt,Rt,Mn(Dt,2))}function RE(mt,Rt){var Dt=mt==null?0:mt.length;if(Dt){var tr=Np(mt,Rt);if(tr<Dt&&Io(mt[tr],Rt))return tr}return-1}function AE(mt,Rt){return Np(mt,Rt,!0)}function TE(mt,Rt,Dt){return $m(mt,Rt,Mn(Dt,2),!0)}function PE(mt,Rt){var Dt=mt==null?0:mt.length;if(Dt){var tr=Np(mt,Rt,!0)-1;if(Io(mt[tr],Rt))return tr}return-1}function CE(mt){return mt&&mt.length?t1(mt):[]}function $E(mt,Rt){return mt&&mt.length?t1(mt,Mn(Rt,2)):[]}function kE(mt){var Rt=mt==null?0:mt.length;return Rt?yo(mt,1,Rt):[]}function IE(mt,Rt,Dt){return mt&&mt.length?(Rt=Dt||Rt===$?1:Un(Rt),yo(mt,0,Rt<0?0:Rt)):[]}function ME(mt,Rt,Dt){var tr=mt==null?0:mt.length;return tr?(Rt=Dt||Rt===$?1:Un(Rt),Rt=tr-Rt,yo(mt,Rt<0?0:Rt,tr)):[]}function OE(mt,Rt){return mt&&mt.length?Dp(mt,Mn(Rt,3),!1,!0):[]}function jE(mt,Rt){return mt&&mt.length?Dp(mt,Mn(Rt,3)):[]}var LE=Hn(function(mt){return Bl(Fs(mt,1,Rs,!0))}),BE=Hn(function(mt){var Rt=xo(mt);return Rs(Rt)&&(Rt=$),Bl(Fs(mt,1,Rs,!0),Mn(Rt,2))}),NE=Hn(function(mt){var Rt=xo(mt);return Rt=typeof Rt=="function"?Rt:$,Bl(Fs(mt,1,Rs,!0),$,Rt)});function DE(mt){return mt&&mt.length?Bl(mt):[]}function FE(mt,Rt){return mt&&mt.length?Bl(mt,Mn(Rt,2)):[]}function UE(mt,Rt){return Rt=typeof Rt=="function"?Rt:$,mt&&mt.length?Bl(mt,$,Rt):[]}function Gm(mt){if(!(mt&&mt.length))return[];var Rt=0;return mt=$l(mt,function(Dt){if(Rs(Dt))return Rt=ks(Dt.length,Rt),!0}),dm(Rt,function(Dt){return hs(mt,cm(Dt))})}function z1(mt,Rt){if(!(mt&&mt.length))return[];var Dt=Gm(mt);return Rt==null?Dt:hs(Dt,function(tr){return Os(Rt,$,tr)})}var zE=Hn(function(mt,Rt){return Rs(mt)?Yu(mt,Rt):[]}),HE=Hn(function(mt){return Im($l(mt,Rs))}),VE=Hn(function(mt){var Rt=xo(mt);return Rs(Rt)&&(Rt=$),Im($l(mt,Rs),Mn(Rt,2))}),KE=Hn(function(mt){var Rt=xo(mt);return Rt=typeof Rt=="function"?Rt:$,Im($l(mt,Rs),$,Rt)}),qE=Hn(Gm);function WE(mt,Rt){return s1(mt||[],Rt||[],Zu)}function GE(mt,Rt){return s1(mt||[],Rt||[],Qu)}var ZE=Hn(function(mt){var Rt=mt.length,Dt=Rt>1?mt[Rt-1]:$;return Dt=typeof Dt=="function"?(mt.pop(),Dt):$,z1(mt,Dt)});function H1(mt){var Rt=vr(mt);return Rt.__chain__=!0,Rt}function YE(mt,Rt){return Rt(mt),mt}function Gp(mt,Rt){return Rt(mt)}var XE=Qo(function(mt){var Rt=mt.length,Dt=Rt?mt[0]:0,tr=this.__wrapped__,ur=function(yr){return xm(yr,mt)};return Rt>1||this.__actions__.length||!(tr instanceof Kn)||!na(Dt)?this.thru(ur):(tr=tr.slice(Dt,+Dt+(Rt?1:0)),tr.__actions__.push({func:Gp,args:[ur],thisArg:$}),new go(tr,this.__chain__).thru(function(yr){return Rt&&!yr.length&&yr.push($),yr}))});function JE(){return H1(this)}function QE(){return new go(this.value(),this.__chain__)}function ew(){this.__values__===$&&(this.__values__=nv(this.value()));var mt=this.__index__>=this.__values__.length,Rt=mt?$:this.__values__[this.__index__++];return{done:mt,value:Rt}}function tw(){return this}function rw(mt){for(var Rt,Dt=this;Dt instanceof Mp;){var tr=L1(Dt);tr.__index__=0,tr.__values__=$,Rt?ur.__wrapped__=tr:Rt=tr;var ur=tr;Dt=Dt.__wrapped__}return ur.__wrapped__=mt,Rt}function nw(){var mt=this.__wrapped__;if(mt instanceof Kn){var Rt=mt;return this.__actions__.length&&(Rt=new Kn(this)),Rt=Rt.reverse(),Rt.__actions__.push({func:Gp,args:[Wm],thisArg:$}),new go(Rt,this.__chain__)}return this.thru(Wm)}function iw(){return i1(this.__wrapped__,this.__actions__)}var sw=Fp(function(mt,Rt,Dt){ss.call(mt,Dt)?++mt[Dt]:Xo(mt,Dt,1)});function ow(mt,Rt,Dt){var tr=Dn(mt)?v0:Wy;return Dt&&Ks(mt,Rt,Dt)&&(Rt=$),tr(mt,Mn(Rt,3))}function aw(mt,Rt){var Dt=Dn(mt)?$l:U0;return Dt(mt,Mn(Rt,3))}var cw=m1(B1),lw=m1(N1);function uw(mt,Rt){return Fs(Zp(mt,Rt),1)}function dw(mt,Rt){return Fs(Zp(mt,Rt),xt)}function fw(mt,Rt,Dt){return Dt=Dt===$?1:Un(Dt),Fs(Zp(mt,Rt),Dt)}function V1(mt,Rt){var Dt=Dn(mt)?po:Ll;return Dt(mt,Mn(Rt,3))}function K1(mt,Rt){var Dt=Dn(mt)?Pv:F0;return Dt(mt,Mn(Rt,3))}var hw=Fp(function(mt,Rt,Dt){ss.call(mt,Dt)?mt[Dt].push(Rt):Xo(mt,Dt,[Rt])});function pw(mt,Rt,Dt,tr){mt=Qs(mt)?mt:Tu(mt),Dt=Dt&&!tr?Un(Dt):0;var ur=mt.length;return Dt<0&&(Dt=ks(ur+Dt,0)),em(mt)?Dt<=ur&&mt.indexOf(Rt,Dt)>-1:!!ur&&mu(mt,Rt,Dt)>-1}var mw=Hn(function(mt,Rt,Dt){var tr=-1,ur=typeof Rt=="function",yr=Qs(mt)?Fr(mt.length):[];return Ll(mt,function(Pr){yr[++tr]=ur?Os(Rt,Pr,Dt):Xu(Pr,Rt,Dt)}),yr}),gw=Fp(function(mt,Rt,Dt){Xo(mt,Dt,Rt)});function Zp(mt,Rt){var Dt=Dn(mt)?hs:W0;return Dt(mt,Mn(Rt,3))}function yw(mt,Rt,Dt,tr){return mt==null?[]:(Dn(Rt)||(Rt=Rt==null?[]:[Rt]),Dt=tr?$:Dt,Dn(Dt)||(Dt=Dt==null?[]:[Dt]),X0(mt,Rt,Dt))}var xw=Fp(function(mt,Rt,Dt){mt[Dt?0:1].push(Rt)},function(){return[[],[]]});function bw(mt,Rt,Dt){var tr=Dn(mt)?om:E0,ur=arguments.length<3;return tr(mt,Mn(Rt,4),Dt,ur,Ll)}function Ew(mt,Rt,Dt){var tr=Dn(mt)?Cv:E0,ur=arguments.length<3;return tr(mt,Mn(Rt,4),Dt,ur,F0)}function ww(mt,Rt){var Dt=Dn(mt)?$l:U0;return Dt(mt,Jp(Mn(Rt,3)))}function _w(mt){var Rt=Dn(mt)?L0:fx;return Rt(mt)}function Sw(mt,Rt,Dt){(Dt?Ks(mt,Rt,Dt):Rt===$)?Rt=1:Rt=Un(Rt);var tr=Dn(mt)?zy:hx;return tr(mt,Rt)}function Rw(mt){var Rt=Dn(mt)?Hy:gx;return Rt(mt)}function Aw(mt){if(mt==null)return 0;if(Qs(mt))return em(mt)?vu(mt):mt.length;var Rt=zs(mt);return Rt==xr||Rt==Ar?mt.size:Rm(mt).length}function Tw(mt,Rt,Dt){var tr=Dn(mt)?am:vx;return Dt&&Ks(mt,Rt,Dt)&&(Rt=$),tr(mt,Mn(Rt,3))}var Pw=Hn(function(mt,Rt){if(mt==null)return[];var Dt=Rt.length;return Dt>1&&Ks(mt,Rt[0],Rt[1])?Rt=[]:Dt>2&&Ks(Rt[0],Rt[1],Rt[2])&&(Rt=[Rt[0]]),X0(mt,Fs(Rt,1),[])}),Yp=iy||function(){return nn.Date.now()};function Cw(mt,Rt){if(typeof Rt!="function")throw new mo(rt);return mt=Un(mt),function(){if(--mt<1)return Rt.apply(this,arguments)}}function q1(mt,Rt,Dt){return Rt=Dt?$:Rt,Rt=mt&&Rt==null?mt.length:Rt,Jo(mt,jt,$,$,$,$,Rt)}function W1(mt,Rt){var Dt;if(typeof Rt!="function")throw new mo(rt);return mt=Un(mt),function(){return--mt>0&&(Dt=Rt.apply(this,arguments)),mt<=1&&(Rt=$),Dt}}var Zm=Hn(function(mt,Rt,Dt){var tr=Mt;if(Dt.length){var ur=Ml(Dt,Ru(Zm));tr|=Ut}return Jo(mt,tr,Rt,Dt,ur)}),G1=Hn(function(mt,Rt,Dt){var tr=Mt|kt;if(Dt.length){var ur=Ml(Dt,Ru(G1));tr|=Ut}return Jo(Rt,tr,mt,Dt,ur)});function Z1(mt,Rt,Dt){Rt=Dt?$:Rt;var tr=Jo(mt,Ot,$,$,$,$,$,Rt);return tr.placeholder=Z1.placeholder,tr}function Y1(mt,Rt,Dt){Rt=Dt?$:Rt;var tr=Jo(mt,zt,$,$,$,$,$,Rt);return tr.placeholder=Y1.placeholder,tr}function X1(mt,Rt,Dt){var tr,ur,yr,Pr,Mr,Br,qr=0,Gr=!1,rn=!1,gn=!0;if(typeof mt!="function")throw new mo(rt);Rt=bo(Rt)||0,ws(Dt)&&(Gr=!!Dt.leading,rn="maxWait"in Dt,yr=rn?ks(bo(Dt.maxWait)||0,Rt):yr,gn="trailing"in Dt?!!Dt.trailing:gn);function Pn(As){var Mo=tr,ba=ur;return tr=ur=$,qr=As,Pr=mt.apply(ba,Mo),Pr}function On(As){return qr=As,Mr=rp(Vn,Rt),Gr?Pn(As):Pr}function zn(As){var Mo=As-Br,ba=As-qr,gv=Rt-Mo;return rn?Us(gv,yr-ba):gv}function jn(As){var Mo=As-Br,ba=As-qr;return Br===$||Mo>=Rt||Mo<0||rn&&ba>=yr}function Vn(){var As=Yp();if(jn(As))return qn(As);Mr=rp(Vn,zn(As))}function qn(As){return Mr=$,gn&&tr?Pn(As):(tr=ur=$,Pr)}function oo(){Mr!==$&&o1(Mr),qr=0,tr=Br=ur=Mr=$}function qs(){return Mr===$?Pr:qn(Yp())}function ao(){var As=Yp(),Mo=jn(As);if(tr=arguments,ur=this,Br=As,Mo){if(Mr===$)return On(Br);if(rn)return o1(Mr),Mr=rp(Vn,Rt),Pn(Br)}return Mr===$&&(Mr=rp(Vn,Rt)),Pr}return ao.cancel=oo,ao.flush=qs,ao}var $w=Hn(function(mt,Rt){return D0(mt,1,Rt)}),kw=Hn(function(mt,Rt,Dt){return D0(mt,bo(Rt)||0,Dt)});function Iw(mt){return Jo(mt,Bt)}function Xp(mt,Rt){if(typeof mt!="function"||Rt!=null&&typeof Rt!="function")throw new mo(rt);var Dt=function(){var tr=arguments,ur=Rt?Rt.apply(this,tr):tr[0],yr=Dt.cache;if(yr.has(ur))return yr.get(ur);var Pr=mt.apply(this,tr);return Dt.cache=yr.set(ur,Pr)||yr,Pr};return Dt.cache=new(Xp.Cache||Yo),Dt}Xp.Cache=Yo;function Jp(mt){if(typeof mt!="function")throw new mo(rt);return function(){var Rt=arguments;switch(Rt.length){case 0:return!mt.call(this);case 1:return!mt.call(this,Rt[0]);case 2:return!mt.call(this,Rt[0],Rt[1]);case 3:return!mt.call(this,Rt[0],Rt[1],Rt[2])}return!mt.apply(this,Rt)}}function Mw(mt){return W1(2,mt)}var Ow=yx(function(mt,Rt){Rt=Rt.length==1&&Dn(Rt[0])?hs(Rt[0],no(Mn())):hs(Fs(Rt,1),no(Mn()));var Dt=Rt.length;return Hn(function(tr){for(var ur=-1,yr=Us(tr.length,Dt);++ur<yr;)tr[ur]=Rt[ur].call(this,tr[ur]);return Os(mt,this,tr)})}),Ym=Hn(function(mt,Rt){var Dt=Ml(Rt,Ru(Ym));return Jo(mt,Ut,$,Rt,Dt)}),J1=Hn(function(mt,Rt){var Dt=Ml(Rt,Ru(J1));return Jo(mt,Vt,$,Rt,Dt)}),jw=Qo(function(mt,Rt){return Jo(mt,$t,$,$,$,Rt)});function Lw(mt,Rt){if(typeof mt!="function")throw new mo(rt);return Rt=Rt===$?Rt:Un(Rt),Hn(mt,Rt)}function Bw(mt,Rt){if(typeof mt!="function")throw new mo(rt);return Rt=Rt==null?0:ks(Un(Rt),0),Hn(function(Dt){var tr=Dt[Rt],ur=Dl(Dt,0,Rt);return tr&&Il(ur,tr),Os(mt,this,ur)})}function Nw(mt,Rt,Dt){var tr=!0,ur=!0;if(typeof mt!="function")throw new mo(rt);return ws(Dt)&&(tr="leading"in Dt?!!Dt.leading:tr,ur="trailing"in Dt?!!Dt.trailing:ur),X1(mt,Rt,{leading:tr,maxWait:Rt,trailing:ur})}function Dw(mt){return q1(mt,1)}function Fw(mt,Rt){return Ym(Om(Rt),mt)}function Uw(){if(!arguments.length)return[];var mt=arguments[0];return Dn(mt)?mt:[mt]}function zw(mt){return vo(mt,ht)}function Hw(mt,Rt){return Rt=typeof Rt=="function"?Rt:$,vo(mt,ht,Rt)}function Vw(mt){return vo(mt,ct|ht)}function Kw(mt,Rt){return Rt=typeof Rt=="function"?Rt:$,vo(mt,ct|ht,Rt)}function qw(mt,Rt){return Rt==null||N0(mt,Rt,Ls(Rt))}function Io(mt,Rt){return mt===Rt||mt!==mt&&Rt!==Rt}var Ww=Vp(wm),Gw=Vp(function(mt,Rt){return mt>=Rt}),ou=V0(function(){return arguments}())?V0:function(mt){return _s(mt)&&ss.call(mt,"callee")&&!$0.call(mt,"callee")},Dn=Fr.isArray,Zw=Es?no(Es):Qy;function Qs(mt){return mt!=null&&Qp(mt.length)&&!ga(mt)}function Rs(mt){return _s(mt)&&Qs(mt)}function Yw(mt){return mt===!0||mt===!1||_s(mt)&&Vs(mt)==qt}var Fl=oy||a0,Xw=Ds?no(Ds):ex;function Jw(mt){return _s(mt)&&mt.nodeType===1&&!np(mt)}function Qw(mt){if(mt==null)return!0;if(Qs(mt)&&(Dn(mt)||typeof mt=="string"||typeof mt.splice=="function"||Fl(mt)||Au(mt)||ou(mt)))return!mt.length;var Rt=zs(mt);if(Rt==xr||Rt==Ar)return!mt.size;if(tp(mt))return!Rm(mt).length;for(var Dt in mt)if(ss.call(mt,Dt))return!1;return!0}function e_(mt,Rt){return Ju(mt,Rt)}function t_(mt,Rt,Dt){Dt=typeof Dt=="function"?Dt:$;var tr=Dt?Dt(mt,Rt):$;return tr===$?Ju(mt,Rt,$,Dt):!!tr}function Xm(mt){if(!_s(mt))return!1;var Rt=Vs(mt);return Rt==Kt||Rt==Ft||typeof mt.message=="string"&&typeof mt.name=="string"&&!np(mt)}function r_(mt){return typeof mt=="number"&&I0(mt)}function ga(mt){if(!ws(mt))return!1;var Rt=Vs(mt);return Rt==Qt||Rt==dr||Rt==Gt||Rt==fr}function Q1(mt){return typeof mt=="number"&&mt==Un(mt)}function Qp(mt){return typeof mt=="number"&&mt>-1&&mt%1==0&&mt<=wt}function ws(mt){var Rt=typeof mt;return mt!=null&&(Rt=="object"||Rt=="function")}function _s(mt){return mt!=null&&typeof mt=="object"}var ev=ho?no(ho):rx;function n_(mt,Rt){return mt===Rt||Sm(mt,Rt,Um(Rt))}function i_(mt,Rt,Dt){return Dt=typeof Dt=="function"?Dt:$,Sm(mt,Rt,Um(Rt),Dt)}function s_(mt){return tv(mt)&&mt!=+mt}function o_(mt){if(Ux(mt))throw new Nn(tt);return K0(mt)}function a_(mt){return mt===null}function c_(mt){return mt==null}function tv(mt){return typeof mt=="number"||_s(mt)&&Vs(mt)==pr}function np(mt){if(!_s(mt)||Vs(mt)!=Cr)return!1;var Rt=Ap(mt);if(Rt===null)return!0;var Dt=ss.call(Rt,"constructor")&&Rt.constructor;return typeof Dt=="function"&&Dt instanceof Dt&&wp.call(Dt)==ey}var Jm=No?no(No):nx;function l_(mt){return Q1(mt)&&mt>=-wt&&mt<=wt}var rv=zu?no(zu):ix;function em(mt){return typeof mt=="string"||!Dn(mt)&&_s(mt)&&Vs(mt)==kr}function so(mt){return typeof mt=="symbol"||_s(mt)&&Vs(mt)==Sr}var Au=Jl?no(Jl):sx;function u_(mt){return mt===$}function d_(mt){return _s(mt)&&zs(mt)==jr}function f_(mt){return _s(mt)&&Vs(mt)==Nr}var h_=Vp(Am),p_=Vp(function(mt,Rt){return mt<=Rt});function nv(mt){if(!mt)return[];if(Qs(mt))return em(mt)?$o(mt):Js(mt);if(Vu&&mt[Vu])return zv(mt[Vu]());var Rt=zs(mt),Dt=Rt==xr?hm:Rt==Ar?xp:Tu;return Dt(mt)}function xa(mt){if(!mt)return mt===0?mt:0;if(mt=bo(mt),mt===xt||mt===-xt){var Rt=mt<0?-1:1;return Rt*_t}return mt===mt?mt:0}function Un(mt){var Rt=xa(mt),Dt=Rt%1;return Rt===Rt?Dt?Rt-Dt:Rt:0}function iv(mt){return mt?ru(Un(mt),0,Tt):0}function bo(mt){if(typeof mt=="number")return mt;if(so(mt))return At;if(ws(mt)){var Rt=typeof mt.valueOf=="function"?mt.valueOf():mt;mt=ws(Rt)?Rt+"":Rt}if(typeof mt!="string")return mt===0?mt:+mt;mt=w0(mt);var Dt=ps.test(mt);return Dt||gs.test(mt)?Zr(mt.slice(2),Dt?2:8):yn.test(mt)?At:+mt}function sv(mt){return Fo(mt,eo(mt))}function m_(mt){return mt?ru(Un(mt),-wt,wt):mt===0?mt:0}function ts(mt){return mt==null?"":io(mt)}var g_=_u(function(mt,Rt){if(tp(Rt)||Qs(Rt)){Fo(Rt,Ls(Rt),mt);return}for(var Dt in Rt)ss.call(Rt,Dt)&&Zu(mt,Dt,Rt[Dt])}),ov=_u(function(mt,Rt){Fo(Rt,eo(Rt),mt)}),tm=_u(function(mt,Rt,Dt,tr){Fo(Rt,eo(Rt),mt,tr)}),v_=_u(function(mt,Rt,Dt,tr){Fo(Rt,Ls(Rt),mt,tr)}),y_=Qo(xm);function x_(mt,Rt){var Dt=wu(mt);return Rt==null?Dt:B0(Dt,Rt)}var b_=Hn(function(mt,Rt){mt=cs(mt);var Dt=-1,tr=Rt.length,ur=tr>2?Rt[2]:$;for(ur&&Ks(Rt[0],Rt[1],ur)&&(tr=1);++Dt<tr;)for(var yr=Rt[Dt],Pr=eo(yr),Mr=-1,Br=Pr.length;++Mr<Br;){var qr=Pr[Mr],Gr=mt[qr];(Gr===$||Io(Gr,xu[qr])&&!ss.call(mt,qr))&&(mt[qr]=yr[qr])}return mt}),E_=Hn(function(mt){return mt.push($,w1),Os(av,$,mt)});function w_(mt,Rt){return y0(mt,Mn(Rt,3),Do)}function __(mt,Rt){return y0(mt,Mn(Rt,3),Em)}function S_(mt,Rt){return mt==null?mt:bm(mt,Mn(Rt,3),eo)}function R_(mt,Rt){return mt==null?mt:z0(mt,Mn(Rt,3),eo)}function A_(mt,Rt){return mt&&Do(mt,Mn(Rt,3))}function T_(mt,Rt){return mt&&Em(mt,Mn(Rt,3))}function P_(mt){return mt==null?[]:Lp(mt,Ls(mt))}function C_(mt){return mt==null?[]:Lp(mt,eo(mt))}function Qm(mt,Rt,Dt){var tr=mt==null?$:nu(mt,Rt);return tr===$?Dt:tr}function $_(mt,Rt){return mt!=null&&A1(mt,Rt,Zy)}function e0(mt,Rt){return mt!=null&&A1(mt,Rt,Yy)}var k_=v1(function(mt,Rt,Dt){Rt!=null&&typeof Rt.toString!="function"&&(Rt=_p.call(Rt)),mt[Rt]=Dt},r0(to)),I_=v1(function(mt,Rt,Dt){Rt!=null&&typeof Rt.toString!="function"&&(Rt=_p.call(Rt)),ss.call(mt,Rt)?mt[Rt].push(Dt):mt[Rt]=[Dt]},Mn),M_=Hn(Xu);function Ls(mt){return Qs(mt)?j0(mt):Rm(mt)}function eo(mt){return Qs(mt)?j0(mt,!0):ox(mt)}function O_(mt,Rt){var Dt={};return Rt=Mn(Rt,3),Do(mt,function(tr,ur,yr){Xo(Dt,Rt(tr,ur,yr),tr)}),Dt}function j_(mt,Rt){var Dt={};return Rt=Mn(Rt,3),Do(mt,function(tr,ur,yr){Xo(Dt,ur,Rt(tr,ur,yr))}),Dt}var L_=_u(function(mt,Rt,Dt){Bp(mt,Rt,Dt)}),av=_u(function(mt,Rt,Dt,tr){Bp(mt,Rt,Dt,tr)}),B_=Qo(function(mt,Rt){var Dt={};if(mt==null)return Dt;var tr=!1;Rt=hs(Rt,function(yr){return yr=Nl(yr,mt),tr||(tr=yr.length>1),yr}),Fo(mt,Dm(mt),Dt),tr&&(Dt=vo(Dt,ct|ut|ht,Cx));for(var ur=Rt.length;ur--;)km(Dt,Rt[ur]);return Dt});function N_(mt,Rt){return cv(mt,Jp(Mn(Rt)))}var D_=Qo(function(mt,Rt){return mt==null?{}:lx(mt,Rt)});function cv(mt,Rt){if(mt==null)return{};var Dt=hs(Dm(mt),function(tr){return[tr]});return Rt=Mn(Rt),J0(mt,Dt,function(tr,ur){return Rt(tr,ur[0])})}function F_(mt,Rt,Dt){Rt=Nl(Rt,mt);var tr=-1,ur=Rt.length;for(ur||(ur=1,mt=$);++tr<ur;){var yr=mt==null?$:mt[Uo(Rt[tr])];yr===$&&(tr=ur,yr=Dt),mt=ga(yr)?yr.call(mt):yr}return mt}function U_(mt,Rt,Dt){return mt==null?mt:Qu(mt,Rt,Dt)}function z_(mt,Rt,Dt,tr){return tr=typeof tr=="function"?tr:$,mt==null?mt:Qu(mt,Rt,Dt,tr)}var lv=b1(Ls),uv=b1(eo);function H_(mt,Rt,Dt){var tr=Dn(mt),ur=tr||Fl(mt)||Au(mt);if(Rt=Mn(Rt,4),Dt==null){var yr=mt&&mt.constructor;ur?Dt=tr?new yr:[]:ws(mt)?Dt=ga(yr)?wu(Ap(mt)):{}:Dt={}}return(ur?po:Do)(mt,function(Pr,Mr,Br){return Rt(Dt,Pr,Mr,Br)}),Dt}function V_(mt,Rt){return mt==null?!0:km(mt,Rt)}function K_(mt,Rt,Dt){return mt==null?mt:n1(mt,Rt,Om(Dt))}function q_(mt,Rt,Dt,tr){return tr=typeof tr=="function"?tr:$,mt==null?mt:n1(mt,Rt,Om(Dt),tr)}function Tu(mt){return mt==null?[]:fm(mt,Ls(mt))}function W_(mt){return mt==null?[]:fm(mt,eo(mt))}function G_(mt,Rt,Dt){return Dt===$&&(Dt=Rt,Rt=$),Dt!==$&&(Dt=bo(Dt),Dt=Dt===Dt?Dt:0),Rt!==$&&(Rt=bo(Rt),Rt=Rt===Rt?Rt:0),ru(bo(mt),Rt,Dt)}function Z_(mt,Rt,Dt){return Rt=xa(Rt),Dt===$?(Dt=Rt,Rt=0):Dt=xa(Dt),mt=bo(mt),Xy(mt,Rt,Dt)}function Y_(mt,Rt,Dt){if(Dt&&typeof Dt!="boolean"&&Ks(mt,Rt,Dt)&&(Rt=Dt=$),Dt===$&&(typeof Rt=="boolean"?(Dt=Rt,Rt=$):typeof mt=="boolean"&&(Dt=mt,mt=$)),mt===$&&Rt===$?(mt=0,Rt=1):(mt=xa(mt),Rt===$?(Rt=mt,mt=0):Rt=xa(Rt)),mt>Rt){var tr=mt;mt=Rt,Rt=tr}if(Dt||mt%1||Rt%1){var ur=M0();return Us(mt+ur*(Rt-mt+Dr("1e-"+((ur+"").length-1))),Rt)}return Pm(mt,Rt)}var X_=Su(function(mt,Rt,Dt){return Rt=Rt.toLowerCase(),mt+(Dt?dv(Rt):Rt)});function dv(mt){return t0(ts(mt).toLowerCase())}function fv(mt){return mt=ts(mt),mt&&mt.replace(Zn,Bv).replace(Cs,"")}function J_(mt,Rt,Dt){mt=ts(mt),Rt=io(Rt);var tr=mt.length;Dt=Dt===$?tr:ru(Un(Dt),0,tr);var ur=Dt;return Dt-=Rt.length,Dt>=0&&mt.slice(Dt,ur)==Rt}function Q_(mt){return mt=ts(mt),mt&&cn.test(mt)?mt.replace(an,Nv):mt}function e2(mt){return mt=ts(mt),mt&&$n.test(mt)?mt.replace(Jr,"\\$&"):mt}var t2=Su(function(mt,Rt,Dt){return mt+(Dt?"-":"")+Rt.toLowerCase()}),r2=Su(function(mt,Rt,Dt){return mt+(Dt?" ":"")+Rt.toLowerCase()}),n2=p1("toLowerCase");function i2(mt,Rt,Dt){mt=ts(mt),Rt=Un(Rt);var tr=Rt?vu(mt):0;if(!Rt||tr>=Rt)return mt;var ur=(Rt-tr)/2;return Hp($p(ur),Dt)+mt+Hp(Cp(ur),Dt)}function s2(mt,Rt,Dt){mt=ts(mt),Rt=Un(Rt);var tr=Rt?vu(mt):0;return Rt&&tr<Rt?mt+Hp(Rt-tr,Dt):mt}function o2(mt,Rt,Dt){mt=ts(mt),Rt=Un(Rt);var tr=Rt?vu(mt):0;return Rt&&tr<Rt?Hp(Rt-tr,Dt)+mt:mt}function a2(mt,Rt,Dt){return Dt||Rt==null?Rt=0:Rt&&(Rt=+Rt),uy(ts(mt).replace(un,""),Rt||0)}function c2(mt,Rt,Dt){return(Dt?Ks(mt,Rt,Dt):Rt===$)?Rt=1:Rt=Un(Rt),Cm(ts(mt),Rt)}function l2(){var mt=arguments,Rt=ts(mt[0]);return mt.length<3?Rt:Rt.replace(mt[1],mt[2])}var u2=Su(function(mt,Rt,Dt){return mt+(Dt?"_":"")+Rt.toLowerCase()});function d2(mt,Rt,Dt){return Dt&&typeof Dt!="number"&&Ks(mt,Rt,Dt)&&(Rt=Dt=$),Dt=Dt===$?Tt:Dt>>>0,Dt?(mt=ts(mt),mt&&(typeof Rt=="string"||Rt!=null&&!Jm(Rt))&&(Rt=io(Rt),!Rt&&gu(mt))?Dl($o(mt),0,Dt):mt.split(Rt,Dt)):[]}var f2=Su(function(mt,Rt,Dt){return mt+(Dt?" ":"")+t0(Rt)});function h2(mt,Rt,Dt){return mt=ts(mt),Dt=Dt==null?0:ru(Un(Dt),0,mt.length),Rt=io(Rt),mt.slice(Dt,Dt+Rt.length)==Rt}function p2(mt,Rt,Dt){var tr=vr.templateSettings;Dt&&Ks(mt,Rt,Dt)&&(Rt=$),mt=ts(mt),Rt=tm({},Rt,tr,E1);var ur=tm({},Rt.imports,tr.imports,E1),yr=Ls(ur),Pr=fm(ur,yr),Mr,Br,qr=0,Gr=Rt.interpolate||ls,rn="__p += '",gn=pm((Rt.escape||ls).source+"|"+Gr.source+"|"+(Gr===ln?Ln:ls).source+"|"+(Rt.evaluate||ls).source+"|$","g"),Pn="//# sourceURL="+(ss.call(Rt,"sourceURL")?(Rt.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Xl+"]")+`
`;mt.replace(gn,function(jn,Vn,qn,oo,qs,ao){return qn||(qn=oo),rn+=mt.slice(qr,ao).replace(rs,Dv),Vn&&(Mr=!0,rn+=`' +
__e(`+Vn+`) +
'`),qs&&(Br=!0,rn+=`';
`+qs+`;
__p += '`),qn&&(rn+=`' +
((__t = (`+qn+`)) == null ? '' : __t) +
'`),qr=ao+jn.length,jn}),rn+=`';
`;var On=ss.call(Rt,"variable")&&Rt.variable;if(!On)rn=`with (obj) {
`+rn+`
}
`;else if(xn.test(On))throw new Nn(nt);rn=(Br?rn.replace(Ur,""):rn).replace(Hr,"$1").replace(_n,"$1;"),rn="function("+(On||"obj")+`) {
`+(On?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(Mr?", __e = _.escape":"")+(Br?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+rn+`return __p
}`;var zn=pv(function(){return _i(yr,Pn+"return "+rn).apply($,Pr)});if(zn.source=rn,Xm(zn))throw zn;return zn}function m2(mt){return ts(mt).toLowerCase()}function g2(mt){return ts(mt).toUpperCase()}function v2(mt,Rt,Dt){if(mt=ts(mt),mt&&(Dt||Rt===$))return w0(mt);if(!mt||!(Rt=io(Rt)))return mt;var tr=$o(mt),ur=$o(Rt),yr=_0(tr,ur),Pr=S0(tr,ur)+1;return Dl(tr,yr,Pr).join("")}function y2(mt,Rt,Dt){if(mt=ts(mt),mt&&(Dt||Rt===$))return mt.slice(0,A0(mt)+1);if(!mt||!(Rt=io(Rt)))return mt;var tr=$o(mt),ur=S0(tr,$o(Rt))+1;return Dl(tr,0,ur).join("")}function x2(mt,Rt,Dt){if(mt=ts(mt),mt&&(Dt||Rt===$))return mt.replace(un,"");if(!mt||!(Rt=io(Rt)))return mt;var tr=$o(mt),ur=_0(tr,$o(Rt));return Dl(tr,ur).join("")}function b2(mt,Rt){var Dt=Nt,tr=Lt;if(ws(Rt)){var ur="separator"in Rt?Rt.separator:ur;Dt="length"in Rt?Un(Rt.length):Dt,tr="omission"in Rt?io(Rt.omission):tr}mt=ts(mt);var yr=mt.length;if(gu(mt)){var Pr=$o(mt);yr=Pr.length}if(Dt>=yr)return mt;var Mr=Dt-vu(tr);if(Mr<1)return tr;var Br=Pr?Dl(Pr,0,Mr).join(""):mt.slice(0,Mr);if(ur===$)return Br+tr;if(Pr&&(Mr+=Br.length-Mr),Jm(ur)){if(mt.slice(Mr).search(ur)){var qr,Gr=Br;for(ur.global||(ur=pm(ur.source,ts(hn.exec(ur))+"g")),ur.lastIndex=0;qr=ur.exec(Gr);)var rn=qr.index;Br=Br.slice(0,rn===$?Mr:rn)}}else if(mt.indexOf(io(ur),Mr)!=Mr){var gn=Br.lastIndexOf(ur);gn>-1&&(Br=Br.slice(0,gn))}return Br+tr}function E2(mt){return mt=ts(mt),mt&&Sn.test(mt)?mt.replace(Wr,qv):mt}var w2=Su(function(mt,Rt,Dt){return mt+(Dt?" ":"")+Rt.toUpperCase()}),t0=p1("toUpperCase");function hv(mt,Rt,Dt){return mt=ts(mt),Rt=Dt?$:Rt,Rt===$?Uv(mt)?Zv(mt):Iv(mt):mt.match(Rt)||[]}var pv=Hn(function(mt,Rt){try{return Os(mt,$,Rt)}catch(Dt){return Xm(Dt)?Dt:new Nn(Dt)}}),_2=Qo(function(mt,Rt){return po(Rt,function(Dt){Dt=Uo(Dt),Xo(mt,Dt,Zm(mt[Dt],mt))}),mt});function S2(mt){var Rt=mt==null?0:mt.length,Dt=Mn();return mt=Rt?hs(mt,function(tr){if(typeof tr[1]!="function")throw new mo(rt);return[Dt(tr[0]),tr[1]]}):[],Hn(function(tr){for(var ur=-1;++ur<Rt;){var yr=mt[ur];if(Os(yr[0],this,tr))return Os(yr[1],this,tr)}})}function R2(mt){return qy(vo(mt,ct))}function r0(mt){return function(){return mt}}function A2(mt,Rt){return mt==null||mt!==mt?Rt:mt}var T2=g1(),P2=g1(!0);function to(mt){return mt}function n0(mt){return q0(typeof mt=="function"?mt:vo(mt,ct))}function C2(mt){return G0(vo(mt,ct))}function $2(mt,Rt){return Z0(mt,vo(Rt,ct))}var k2=Hn(function(mt,Rt){return function(Dt){return Xu(Dt,mt,Rt)}}),I2=Hn(function(mt,Rt){return function(Dt){return Xu(mt,Dt,Rt)}});function i0(mt,Rt,Dt){var tr=Ls(Rt),ur=Lp(Rt,tr);Dt==null&&!(ws(Rt)&&(ur.length||!tr.length))&&(Dt=Rt,Rt=mt,mt=this,ur=Lp(Rt,Ls(Rt)));var yr=!(ws(Dt)&&"chain"in Dt)||!!Dt.chain,Pr=ga(mt);return po(ur,function(Mr){var Br=Rt[Mr];mt[Mr]=Br,Pr&&(mt.prototype[Mr]=function(){var qr=this.__chain__;if(yr||qr){var Gr=mt(this.__wrapped__),rn=Gr.__actions__=Js(this.__actions__);return rn.push({func:Br,args:arguments,thisArg:mt}),Gr.__chain__=qr,Gr}return Br.apply(mt,Il([this.value()],arguments))})}),mt}function M2(){return nn._===this&&(nn._=ty),this}function s0(){}function O2(mt){return mt=Un(mt),Hn(function(Rt){return Y0(Rt,mt)})}var j2=Lm(hs),L2=Lm(v0),B2=Lm(am);function mv(mt){return Hm(mt)?cm(Uo(mt)):ux(mt)}function N2(mt){return function(Rt){return mt==null?$:nu(mt,Rt)}}var D2=y1(),F2=y1(!0);function o0(){return[]}function a0(){return!1}function U2(){return{}}function z2(){return""}function H2(){return!0}function V2(mt,Rt){if(mt=Un(mt),mt<1||mt>wt)return[];var Dt=Tt,tr=Us(mt,Tt);Rt=Mn(Rt),mt-=Tt;for(var ur=dm(tr,Rt);++Dt<mt;)Rt(Dt);return ur}function K2(mt){return Dn(mt)?hs(mt,Uo):so(mt)?[mt]:Js(j1(ts(mt)))}function q2(mt){var Rt=++Qv;return ts(mt)+Rt}var W2=zp(function(mt,Rt){return mt+Rt},0),G2=Bm("ceil"),Z2=zp(function(mt,Rt){return mt/Rt},1),Y2=Bm("floor");function X2(mt){return mt&&mt.length?jp(mt,to,wm):$}function J2(mt,Rt){return mt&&mt.length?jp(mt,Mn(Rt,2),wm):$}function Q2(mt){return b0(mt,to)}function eS(mt,Rt){return b0(mt,Mn(Rt,2))}function tS(mt){return mt&&mt.length?jp(mt,to,Am):$}function rS(mt,Rt){return mt&&mt.length?jp(mt,Mn(Rt,2),Am):$}var nS=zp(function(mt,Rt){return mt*Rt},1),iS=Bm("round"),sS=zp(function(mt,Rt){return mt-Rt},0);function oS(mt){return mt&&mt.length?um(mt,to):0}function aS(mt,Rt){return mt&&mt.length?um(mt,Mn(Rt,2)):0}return vr.after=Cw,vr.ary=q1,vr.assign=g_,vr.assignIn=ov,vr.assignInWith=tm,vr.assignWith=v_,vr.at=y_,vr.before=W1,vr.bind=Zm,vr.bindAll=_2,vr.bindKey=G1,vr.castArray=Uw,vr.chain=H1,vr.chunk=Gx,vr.compact=Zx,vr.concat=Yx,vr.cond=S2,vr.conforms=R2,vr.constant=r0,vr.countBy=sw,vr.create=x_,vr.curry=Z1,vr.curryRight=Y1,vr.debounce=X1,vr.defaults=b_,vr.defaultsDeep=E_,vr.defer=$w,vr.delay=kw,vr.difference=Xx,vr.differenceBy=Jx,vr.differenceWith=Qx,vr.drop=eE,vr.dropRight=tE,vr.dropRightWhile=rE,vr.dropWhile=nE,vr.fill=iE,vr.filter=aw,vr.flatMap=uw,vr.flatMapDeep=dw,vr.flatMapDepth=fw,vr.flatten=D1,vr.flattenDeep=sE,vr.flattenDepth=oE,vr.flip=Iw,vr.flow=T2,vr.flowRight=P2,vr.fromPairs=aE,vr.functions=P_,vr.functionsIn=C_,vr.groupBy=hw,vr.initial=lE,vr.intersection=uE,vr.intersectionBy=dE,vr.intersectionWith=fE,vr.invert=k_,vr.invertBy=I_,vr.invokeMap=mw,vr.iteratee=n0,vr.keyBy=gw,vr.keys=Ls,vr.keysIn=eo,vr.map=Zp,vr.mapKeys=O_,vr.mapValues=j_,vr.matches=C2,vr.matchesProperty=$2,vr.memoize=Xp,vr.merge=L_,vr.mergeWith=av,vr.method=k2,vr.methodOf=I2,vr.mixin=i0,vr.negate=Jp,vr.nthArg=O2,vr.omit=B_,vr.omitBy=N_,vr.once=Mw,vr.orderBy=yw,vr.over=j2,vr.overArgs=Ow,vr.overEvery=L2,vr.overSome=B2,vr.partial=Ym,vr.partialRight=J1,vr.partition=xw,vr.pick=D_,vr.pickBy=cv,vr.property=mv,vr.propertyOf=N2,vr.pull=gE,vr.pullAll=U1,vr.pullAllBy=vE,vr.pullAllWith=yE,vr.pullAt=xE,vr.range=D2,vr.rangeRight=F2,vr.rearg=jw,vr.reject=ww,vr.remove=bE,vr.rest=Lw,vr.reverse=Wm,vr.sampleSize=Sw,vr.set=U_,vr.setWith=z_,vr.shuffle=Rw,vr.slice=wE,vr.sortBy=Pw,vr.sortedUniq=CE,vr.sortedUniqBy=$E,vr.split=d2,vr.spread=Bw,vr.tail=kE,vr.take=IE,vr.takeRight=ME,vr.takeRightWhile=OE,vr.takeWhile=jE,vr.tap=YE,vr.throttle=Nw,vr.thru=Gp,vr.toArray=nv,vr.toPairs=lv,vr.toPairsIn=uv,vr.toPath=K2,vr.toPlainObject=sv,vr.transform=H_,vr.unary=Dw,vr.union=LE,vr.unionBy=BE,vr.unionWith=NE,vr.uniq=DE,vr.uniqBy=FE,vr.uniqWith=UE,vr.unset=V_,vr.unzip=Gm,vr.unzipWith=z1,vr.update=K_,vr.updateWith=q_,vr.values=Tu,vr.valuesIn=W_,vr.without=zE,vr.words=hv,vr.wrap=Fw,vr.xor=HE,vr.xorBy=VE,vr.xorWith=KE,vr.zip=qE,vr.zipObject=WE,vr.zipObjectDeep=GE,vr.zipWith=ZE,vr.entries=lv,vr.entriesIn=uv,vr.extend=ov,vr.extendWith=tm,i0(vr,vr),vr.add=W2,vr.attempt=pv,vr.camelCase=X_,vr.capitalize=dv,vr.ceil=G2,vr.clamp=G_,vr.clone=zw,vr.cloneDeep=Vw,vr.cloneDeepWith=Kw,vr.cloneWith=Hw,vr.conformsTo=qw,vr.deburr=fv,vr.defaultTo=A2,vr.divide=Z2,vr.endsWith=J_,vr.eq=Io,vr.escape=Q_,vr.escapeRegExp=e2,vr.every=ow,vr.find=cw,vr.findIndex=B1,vr.findKey=w_,vr.findLast=lw,vr.findLastIndex=N1,vr.findLastKey=__,vr.floor=Y2,vr.forEach=V1,vr.forEachRight=K1,vr.forIn=S_,vr.forInRight=R_,vr.forOwn=A_,vr.forOwnRight=T_,vr.get=Qm,vr.gt=Ww,vr.gte=Gw,vr.has=$_,vr.hasIn=e0,vr.head=F1,vr.identity=to,vr.includes=pw,vr.indexOf=cE,vr.inRange=Z_,vr.invoke=M_,vr.isArguments=ou,vr.isArray=Dn,vr.isArrayBuffer=Zw,vr.isArrayLike=Qs,vr.isArrayLikeObject=Rs,vr.isBoolean=Yw,vr.isBuffer=Fl,vr.isDate=Xw,vr.isElement=Jw,vr.isEmpty=Qw,vr.isEqual=e_,vr.isEqualWith=t_,vr.isError=Xm,vr.isFinite=r_,vr.isFunction=ga,vr.isInteger=Q1,vr.isLength=Qp,vr.isMap=ev,vr.isMatch=n_,vr.isMatchWith=i_,vr.isNaN=s_,vr.isNative=o_,vr.isNil=c_,vr.isNull=a_,vr.isNumber=tv,vr.isObject=ws,vr.isObjectLike=_s,vr.isPlainObject=np,vr.isRegExp=Jm,vr.isSafeInteger=l_,vr.isSet=rv,vr.isString=em,vr.isSymbol=so,vr.isTypedArray=Au,vr.isUndefined=u_,vr.isWeakMap=d_,vr.isWeakSet=f_,vr.join=hE,vr.kebabCase=t2,vr.last=xo,vr.lastIndexOf=pE,vr.lowerCase=r2,vr.lowerFirst=n2,vr.lt=h_,vr.lte=p_,vr.max=X2,vr.maxBy=J2,vr.mean=Q2,vr.meanBy=eS,vr.min=tS,vr.minBy=rS,vr.stubArray=o0,vr.stubFalse=a0,vr.stubObject=U2,vr.stubString=z2,vr.stubTrue=H2,vr.multiply=nS,vr.nth=mE,vr.noConflict=M2,vr.noop=s0,vr.now=Yp,vr.pad=i2,vr.padEnd=s2,vr.padStart=o2,vr.parseInt=a2,vr.random=Y_,vr.reduce=bw,vr.reduceRight=Ew,vr.repeat=c2,vr.replace=l2,vr.result=F_,vr.round=iS,vr.runInContext=Or,vr.sample=_w,vr.size=Aw,vr.snakeCase=u2,vr.some=Tw,vr.sortedIndex=_E,vr.sortedIndexBy=SE,vr.sortedIndexOf=RE,vr.sortedLastIndex=AE,vr.sortedLastIndexBy=TE,vr.sortedLastIndexOf=PE,vr.startCase=f2,vr.startsWith=h2,vr.subtract=sS,vr.sum=oS,vr.sumBy=aS,vr.template=p2,vr.times=V2,vr.toFinite=xa,vr.toInteger=Un,vr.toLength=iv,vr.toLower=m2,vr.toNumber=bo,vr.toSafeInteger=m_,vr.toString=ts,vr.toUpper=g2,vr.trim=v2,vr.trimEnd=y2,vr.trimStart=x2,vr.truncate=b2,vr.unescape=E2,vr.uniqueId=q2,vr.upperCase=w2,vr.upperFirst=t0,vr.each=V1,vr.eachRight=K1,vr.first=F1,i0(vr,function(){var mt={};return Do(vr,function(Rt,Dt){ss.call(vr.prototype,Dt)||(mt[Dt]=Rt)}),mt}(),{chain:!1}),vr.VERSION=j,po(["bind","bindKey","curry","curryRight","partial","partialRight"],function(mt){vr[mt].placeholder=vr}),po(["drop","take"],function(mt,Rt){Kn.prototype[mt]=function(Dt){Dt=Dt===$?1:ks(Un(Dt),0);var tr=this.__filtered__&&!Rt?new Kn(this):this.clone();return tr.__filtered__?tr.__takeCount__=Us(Dt,tr.__takeCount__):tr.__views__.push({size:Us(Dt,Tt),type:mt+(tr.__dir__<0?"Right":"")}),tr},Kn.prototype[mt+"Right"]=function(Dt){return this.reverse()[mt](Dt).reverse()}}),po(["filter","map","takeWhile"],function(mt,Rt){var Dt=Rt+1,tr=Dt==at||Dt==vt;Kn.prototype[mt]=function(ur){var yr=this.clone();return yr.__iteratees__.push({iteratee:Mn(ur,3),type:Dt}),yr.__filtered__=yr.__filtered__||tr,yr}}),po(["head","last"],function(mt,Rt){var Dt="take"+(Rt?"Right":"");Kn.prototype[mt]=function(){return this[Dt](1).value()[0]}}),po(["initial","tail"],function(mt,Rt){var Dt="drop"+(Rt?"":"Right");Kn.prototype[mt]=function(){return this.__filtered__?new Kn(this):this[Dt](1)}}),Kn.prototype.compact=function(){return this.filter(to)},Kn.prototype.find=function(mt){return this.filter(mt).head()},Kn.prototype.findLast=function(mt){return this.reverse().find(mt)},Kn.prototype.invokeMap=Hn(function(mt,Rt){return typeof mt=="function"?new Kn(this):this.map(function(Dt){return Xu(Dt,mt,Rt)})}),Kn.prototype.reject=function(mt){return this.filter(Jp(Mn(mt)))},Kn.prototype.slice=function(mt,Rt){mt=Un(mt);var Dt=this;return Dt.__filtered__&&(mt>0||Rt<0)?new Kn(Dt):(mt<0?Dt=Dt.takeRight(-mt):mt&&(Dt=Dt.drop(mt)),Rt!==$&&(Rt=Un(Rt),Dt=Rt<0?Dt.dropRight(-Rt):Dt.take(Rt-mt)),Dt)},Kn.prototype.takeRightWhile=function(mt){return this.reverse().takeWhile(mt).reverse()},Kn.prototype.toArray=function(){return this.take(Tt)},Do(Kn.prototype,function(mt,Rt){var Dt=/^(?:filter|find|map|reject)|While$/.test(Rt),tr=/^(?:head|last)$/.test(Rt),ur=vr[tr?"take"+(Rt=="last"?"Right":""):Rt],yr=tr||/^find/.test(Rt);ur&&(vr.prototype[Rt]=function(){var Pr=this.__wrapped__,Mr=tr?[1]:arguments,Br=Pr instanceof Kn,qr=Mr[0],Gr=Br||Dn(Pr),rn=function(Vn){var qn=ur.apply(vr,Il([Vn],Mr));return tr&&gn?qn[0]:qn};Gr&&Dt&&typeof qr=="function"&&qr.length!=1&&(Br=Gr=!1);var gn=this.__chain__,Pn=!!this.__actions__.length,On=yr&&!gn,zn=Br&&!Pn;if(!yr&&Gr){Pr=zn?Pr:new Kn(this);var jn=mt.apply(Pr,Mr);return jn.__actions__.push({func:Gp,args:[rn],thisArg:$}),new go(jn,gn)}return On&&zn?mt.apply(this,Mr):(jn=this.thru(rn),On?tr?jn.value()[0]:jn.value():jn)})}),po(["pop","push","shift","sort","splice","unshift"],function(mt){var Rt=bp[mt],Dt=/^(?:push|sort|unshift)$/.test(mt)?"tap":"thru",tr=/^(?:pop|shift)$/.test(mt);vr.prototype[mt]=function(){var ur=arguments;if(tr&&!this.__chain__){var yr=this.value();return Rt.apply(Dn(yr)?yr:[],ur)}return this[Dt](function(Pr){return Rt.apply(Dn(Pr)?Pr:[],ur)})}}),Do(Kn.prototype,function(mt,Rt){var Dt=vr[Rt];if(Dt){var tr=Dt.name+"";ss.call(Eu,tr)||(Eu[tr]=[]),Eu[tr].push({name:Rt,func:Dt})}}),Eu[Up($,kt).name]=[{name:"wrapper",func:$}],Kn.prototype.clone=vy,Kn.prototype.reverse=yy,Kn.prototype.value=xy,vr.prototype.at=XE,vr.prototype.chain=JE,vr.prototype.commit=QE,vr.prototype.next=ew,vr.prototype.plant=rw,vr.prototype.reverse=nw,vr.prototype.toJSON=vr.prototype.valueOf=vr.prototype.value=iw,vr.prototype.first=vr.prototype.head,Vu&&(vr.prototype[Vu]=tw),vr},yu=Yv();Bn?((Bn.exports=yu)._=yu,mn._=yu):nn._=yu}).call(commonjsGlobal)})(lodash,lodash.exports);var lodashExports=lodash.exports,isCheckBoxInput=_=>_.type==="checkbox",isDateObject=_=>_ instanceof Date,isNullOrUndefined=_=>_==null;const isObjectType=_=>typeof _=="object";var isObject$3=_=>!isNullOrUndefined(_)&&!Array.isArray(_)&&isObjectType(_)&&!isDateObject(_),getEventValue=_=>isObject$3(_)&&_.target?isCheckBoxInput(_.target)?_.target.checked:_.target.value:_,getNodeParentName=_=>_.substring(0,_.search(/\.\d+(\.|$)/))||_,isNameInFieldArray=(_,a)=>_.has(getNodeParentName(a)),isPlainObject$4=_=>{const a=_.constructor&&_.constructor.prototype;return isObject$3(a)&&a.hasOwnProperty("isPrototypeOf")},isWeb=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function cloneObject(_){let a;const $=Array.isArray(_);if(_ instanceof Date)a=new Date(_);else if(_ instanceof Set)a=new Set(_);else if(!(isWeb&&(_ instanceof Blob||_ instanceof FileList))&&($||isObject$3(_)))if(a=$?[]:{},!$&&!isPlainObject$4(_))a=_;else for(const j in _)_.hasOwnProperty(j)&&(a[j]=cloneObject(_[j]));else return _;return a}var compact=_=>Array.isArray(_)?_.filter(Boolean):[],isUndefined$1=_=>_===void 0,get$3=(_,a,$)=>{if(!a||!isObject$3(_))return $;const j=compact(a.split(/[,[\].]+?/)).reduce((et,tt)=>isNullOrUndefined(et)?et:et[tt],_);return isUndefined$1(j)||j===_?isUndefined$1(_[a])?$:_[a]:j},isBoolean$2=_=>typeof _=="boolean",isKey=_=>/^\w*$/.test(_),stringToPath$1=_=>compact(_.replace(/["|']|\]/g,"").split(/\.|\[/)),set$1=(_,a,$)=>{let j=-1;const et=isKey(a)?[a]:stringToPath$1(a),tt=et.length,rt=tt-1;for(;++j<tt;){const nt=et[j];let it=$;if(j!==rt){const ot=_[nt];it=isObject$3(ot)||Array.isArray(ot)?ot:isNaN(+et[j+1])?{}:[]}if(nt==="__proto__")return;_[nt]=it,_=_[nt]}return _};const EVENTS={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},VALIDATION_MODE={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},INPUT_VALIDATION_RULES={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},HookFormContext=React$2.createContext(null),useFormContext=()=>React$2.useContext(HookFormContext),FormProvider=_=>{const{children:a,...$}=_;return React$2.createElement(HookFormContext.Provider,{value:$},a)};var getProxyFormState=(_,a,$,j=!0)=>{const et={defaultValues:a._defaultValues};for(const tt in _)Object.defineProperty(et,tt,{get:()=>{const rt=tt;return a._proxyFormState[rt]!==VALIDATION_MODE.all&&(a._proxyFormState[rt]=!j||VALIDATION_MODE.all),_[rt]}});return et},isEmptyObject=_=>isObject$3(_)&&!Object.keys(_).length,shouldRenderFormState=(_,a,$,j)=>{$(_);const{name:et,...tt}=_;return isEmptyObject(tt)||Object.keys(tt).length>=Object.keys(a).length||Object.keys(tt).find(rt=>a[rt]===VALIDATION_MODE.all)},convertToArrayPayload=_=>Array.isArray(_)?_:[_];function useSubscribe(_){const a=React$2.useRef(_);a.current=_,React$2.useEffect(()=>{const $=!_.disabled&&a.current.subject&&a.current.subject.subscribe({next:a.current.next});return()=>{$&&$.unsubscribe()}},[_.disabled])}var isString$2=_=>typeof _=="string",generateWatchOutput=(_,a,$,j,et)=>isString$2(_)?(j&&a.watch.add(_),get$3($,_,et)):Array.isArray(_)?_.map(tt=>(j&&a.watch.add(tt),get$3($,tt))):(j&&(a.watchAll=!0),$),appendErrors=(_,a,$,j,et)=>a?{...$[_],types:{...$[_]&&$[_].types?$[_].types:{},[j]:et||!0}}:{},generateId=()=>{const _=typeof performance>"u"?Date.now():performance.now()*1e3;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,a=>{const $=(Math.random()*16+_)%16|0;return(a=="x"?$:$&3|8).toString(16)})},getFocusFieldName=(_,a,$={})=>$.shouldFocus||isUndefined$1($.shouldFocus)?$.focusName||`${_}.${isUndefined$1($.focusIndex)?a:$.focusIndex}.`:"",getValidationModes=_=>({isOnSubmit:!_||_===VALIDATION_MODE.onSubmit,isOnBlur:_===VALIDATION_MODE.onBlur,isOnChange:_===VALIDATION_MODE.onChange,isOnAll:_===VALIDATION_MODE.all,isOnTouch:_===VALIDATION_MODE.onTouched}),isWatched=(_,a,$)=>!$&&(a.watchAll||a.watch.has(_)||[...a.watch].some(j=>_.startsWith(j)&&/^\.\w+/.test(_.slice(j.length))));const iterateFieldsByAction=(_,a,$,j)=>{for(const et of $||Object.keys(_)){const tt=get$3(_,et);if(tt){const{_f:rt,...nt}=tt;if(rt){if(rt.refs&&rt.refs[0]&&a(rt.refs[0],et)&&!j)break;if(rt.ref&&a(rt.ref,rt.name)&&!j)break;iterateFieldsByAction(nt,a)}else isObject$3(nt)&&iterateFieldsByAction(nt,a)}}};var updateFieldArrayRootError=(_,a,$)=>{const j=compact(get$3(_,$));return set$1(j,"root",a[$]),set$1(_,$,j),_},isFileInput=_=>_.type==="file",isFunction$3=_=>typeof _=="function",isHTMLElement=_=>{if(!isWeb)return!1;const a=_?_.ownerDocument:0;return _ instanceof(a&&a.defaultView?a.defaultView.HTMLElement:HTMLElement)},isMessage=_=>isString$2(_),isRadioInput=_=>_.type==="radio",isRegex=_=>_ instanceof RegExp;const defaultResult={value:!1,isValid:!1},validResult={value:!0,isValid:!0};var getCheckboxValue=_=>{if(Array.isArray(_)){if(_.length>1){const a=_.filter($=>$&&$.checked&&!$.disabled).map($=>$.value);return{value:a,isValid:!!a.length}}return _[0].checked&&!_[0].disabled?_[0].attributes&&!isUndefined$1(_[0].attributes.value)?isUndefined$1(_[0].value)||_[0].value===""?validResult:{value:_[0].value,isValid:!0}:validResult:defaultResult}return defaultResult};const defaultReturn={isValid:!1,value:null};var getRadioValue=_=>Array.isArray(_)?_.reduce((a,$)=>$&&$.checked&&!$.disabled?{isValid:!0,value:$.value}:a,defaultReturn):defaultReturn;function getValidateError(_,a,$="validate"){if(isMessage(_)||Array.isArray(_)&&_.every(isMessage)||isBoolean$2(_)&&!_)return{type:$,message:isMessage(_)?_:"",ref:a}}var getValueAndMessage=_=>isObject$3(_)&&!isRegex(_)?_:{value:_,message:""},validateField=async(_,a,$,j,et)=>{const{ref:tt,refs:rt,required:nt,maxLength:it,minLength:ot,min:st,max:ct,pattern:ut,validate:ht,name:Et,valueAsNumber:St,mount:Mt,disabled:kt}=_._f,Ct=get$3(a,Et);if(!Mt||kt)return{};const Ot=rt?rt[0]:tt,zt=Pt=>{j&&Ot.reportValidity&&(Ot.setCustomValidity(isBoolean$2(Pt)?"":Pt||""),Ot.reportValidity())},Ut={},Vt=isRadioInput(tt),jt=isCheckBoxInput(tt),$t=Vt||jt,Bt=(St||isFileInput(tt))&&isUndefined$1(tt.value)&&isUndefined$1(Ct)||isHTMLElement(tt)&&tt.value===""||Ct===""||Array.isArray(Ct)&&!Ct.length,Nt=appendErrors.bind(null,Et,$,Ut),Lt=(Pt,bt,at,dt=INPUT_VALIDATION_RULES.maxLength,vt=INPUT_VALIDATION_RULES.minLength)=>{const xt=Pt?bt:at;Ut[Et]={type:Pt?dt:vt,message:xt,ref:tt,...Nt(Pt?dt:vt,xt)}};if(et?!Array.isArray(Ct)||!Ct.length:nt&&(!$t&&(Bt||isNullOrUndefined(Ct))||isBoolean$2(Ct)&&!Ct||jt&&!getCheckboxValue(rt).isValid||Vt&&!getRadioValue(rt).isValid)){const{value:Pt,message:bt}=isMessage(nt)?{value:!!nt,message:nt}:getValueAndMessage(nt);if(Pt&&(Ut[Et]={type:INPUT_VALIDATION_RULES.required,message:bt,ref:Ot,...Nt(INPUT_VALIDATION_RULES.required,bt)},!$))return zt(bt),Ut}if(!Bt&&(!isNullOrUndefined(st)||!isNullOrUndefined(ct))){let Pt,bt;const at=getValueAndMessage(ct),dt=getValueAndMessage(st);if(!isNullOrUndefined(Ct)&&!isNaN(Ct)){const vt=tt.valueAsNumber||Ct&&+Ct;isNullOrUndefined(at.value)||(Pt=vt>at.value),isNullOrUndefined(dt.value)||(bt=vt<dt.value)}else{const vt=tt.valueAsDate||new Date(Ct),xt=At=>new Date(new Date().toDateString()+" "+At),wt=tt.type=="time",_t=tt.type=="week";isString$2(at.value)&&Ct&&(Pt=wt?xt(Ct)>xt(at.value):_t?Ct>at.value:vt>new Date(at.value)),isString$2(dt.value)&&Ct&&(bt=wt?xt(Ct)<xt(dt.value):_t?Ct<dt.value:vt<new Date(dt.value))}if((Pt||bt)&&(Lt(!!Pt,at.message,dt.message,INPUT_VALIDATION_RULES.max,INPUT_VALIDATION_RULES.min),!$))return zt(Ut[Et].message),Ut}if((it||ot)&&!Bt&&(isString$2(Ct)||et&&Array.isArray(Ct))){const Pt=getValueAndMessage(it),bt=getValueAndMessage(ot),at=!isNullOrUndefined(Pt.value)&&Ct.length>+Pt.value,dt=!isNullOrUndefined(bt.value)&&Ct.length<+bt.value;if((at||dt)&&(Lt(at,Pt.message,bt.message),!$))return zt(Ut[Et].message),Ut}if(ut&&!Bt&&isString$2(Ct)){const{value:Pt,message:bt}=getValueAndMessage(ut);if(isRegex(Pt)&&!Ct.match(Pt)&&(Ut[Et]={type:INPUT_VALIDATION_RULES.pattern,message:bt,ref:tt,...Nt(INPUT_VALIDATION_RULES.pattern,bt)},!$))return zt(bt),Ut}if(ht){if(isFunction$3(ht)){const Pt=await ht(Ct,a),bt=getValidateError(Pt,Ot);if(bt&&(Ut[Et]={...bt,...Nt(INPUT_VALIDATION_RULES.validate,bt.message)},!$))return zt(bt.message),Ut}else if(isObject$3(ht)){let Pt={};for(const bt in ht){if(!isEmptyObject(Pt)&&!$)break;const at=getValidateError(await ht[bt](Ct,a),Ot,bt);at&&(Pt={...at,...Nt(bt,at.message)},zt(at.message),$&&(Ut[Et]=Pt))}if(!isEmptyObject(Pt)&&(Ut[Et]={ref:Ot,...Pt},!$))return Ut}}return zt(!0),Ut},appendAt=(_,a)=>[..._,...convertToArrayPayload(a)],fillEmptyArray=_=>Array.isArray(_)?_.map(()=>{}):void 0;function insert(_,a,$){return[..._.slice(0,a),...convertToArrayPayload($),..._.slice(a)]}var moveArrayAt=(_,a,$)=>Array.isArray(_)?(isUndefined$1(_[$])&&(_[$]=void 0),_.splice($,0,_.splice(a,1)[0]),_):[],prependAt=(_,a)=>[...convertToArrayPayload(a),...convertToArrayPayload(_)];function removeAtIndexes(_,a){let $=0;const j=[..._];for(const et of a)j.splice(et-$,1),$++;return compact(j).length?j:[]}var removeArrayAt=(_,a)=>isUndefined$1(a)?[]:removeAtIndexes(_,convertToArrayPayload(a).sort(($,j)=>$-j)),swapArrayAt=(_,a,$)=>{[_[a],_[$]]=[_[$],_[a]]};function baseGet(_,a){const $=a.slice(0,-1).length;let j=0;for(;j<$;)_=isUndefined$1(_)?j++:_[a[j++]];return _}function isEmptyArray(_){for(const a in _)if(_.hasOwnProperty(a)&&!isUndefined$1(_[a]))return!1;return!0}function unset(_,a){const $=Array.isArray(a)?a:isKey(a)?[a]:stringToPath$1(a),j=$.length===1?_:baseGet(_,$),et=$.length-1,tt=$[et];return j&&delete j[tt],et!==0&&(isObject$3(j)&&isEmptyObject(j)||Array.isArray(j)&&isEmptyArray(j))&&unset(_,$.slice(0,-1)),_}var updateAt=(_,a,$)=>(_[a]=$,_);function useFieldArray(_){const a=useFormContext(),{control:$=a.control,name:j,keyName:et="id",shouldUnregister:tt}=_,[rt,nt]=React$2.useState($._getFieldArray(j)),it=React$2.useRef($._getFieldArray(j).map(generateId)),ot=React$2.useRef(rt),st=React$2.useRef(j),ct=React$2.useRef(!1);st.current=j,ot.current=rt,$._names.array.add(j),_.rules&&$.register(j,_.rules),useSubscribe({next:({values:Ut,name:Vt})=>{if(Vt===st.current||!Vt){const jt=get$3(Ut,st.current);Array.isArray(jt)&&(nt(jt),it.current=jt.map(generateId))}},subject:$._subjects.array});const ut=React$2.useCallback(Ut=>{ct.current=!0,$._updateFieldArray(j,Ut)},[$,j]),ht=(Ut,Vt)=>{const jt=convertToArrayPayload(cloneObject(Ut)),$t=appendAt($._getFieldArray(j),jt);$._names.focus=getFocusFieldName(j,$t.length-1,Vt),it.current=appendAt(it.current,jt.map(generateId)),ut($t),nt($t),$._updateFieldArray(j,$t,appendAt,{argA:fillEmptyArray(Ut)})},Et=(Ut,Vt)=>{const jt=convertToArrayPayload(cloneObject(Ut)),$t=prependAt($._getFieldArray(j),jt);$._names.focus=getFocusFieldName(j,0,Vt),it.current=prependAt(it.current,jt.map(generateId)),ut($t),nt($t),$._updateFieldArray(j,$t,prependAt,{argA:fillEmptyArray(Ut)})},St=Ut=>{const Vt=removeArrayAt($._getFieldArray(j),Ut);it.current=removeArrayAt(it.current,Ut),ut(Vt),nt(Vt),$._updateFieldArray(j,Vt,removeArrayAt,{argA:Ut})},Mt=(Ut,Vt,jt)=>{const $t=convertToArrayPayload(cloneObject(Vt)),Bt=insert($._getFieldArray(j),Ut,$t);$._names.focus=getFocusFieldName(j,Ut,jt),it.current=insert(it.current,Ut,$t.map(generateId)),ut(Bt),nt(Bt),$._updateFieldArray(j,Bt,insert,{argA:Ut,argB:fillEmptyArray(Vt)})},kt=(Ut,Vt)=>{const jt=$._getFieldArray(j);swapArrayAt(jt,Ut,Vt),swapArrayAt(it.current,Ut,Vt),ut(jt),nt(jt),$._updateFieldArray(j,jt,swapArrayAt,{argA:Ut,argB:Vt},!1)},Ct=(Ut,Vt)=>{const jt=$._getFieldArray(j);moveArrayAt(jt,Ut,Vt),moveArrayAt(it.current,Ut,Vt),ut(jt),nt(jt),$._updateFieldArray(j,jt,moveArrayAt,{argA:Ut,argB:Vt},!1)},Ot=(Ut,Vt)=>{const jt=cloneObject(Vt),$t=updateAt($._getFieldArray(j),Ut,jt);it.current=[...$t].map((Bt,Nt)=>!Bt||Nt===Ut?generateId():it.current[Nt]),ut($t),nt([...$t]),$._updateFieldArray(j,$t,updateAt,{argA:Ut,argB:jt},!0,!1)},zt=Ut=>{const Vt=convertToArrayPayload(cloneObject(Ut));it.current=Vt.map(generateId),ut([...Vt]),nt([...Vt]),$._updateFieldArray(j,[...Vt],jt=>jt,{},!0,!1)};return React$2.useEffect(()=>{if($._state.action=!1,isWatched(j,$._names)&&$._subjects.state.next({...$._formState}),ct.current&&(!getValidationModes($._options.mode).isOnSubmit||$._formState.isSubmitted))if($._options.resolver)$._executeSchema([j]).then(Ut=>{const Vt=get$3(Ut.errors,j),jt=get$3($._formState.errors,j);(jt?!Vt&&jt.type||Vt&&(jt.type!==Vt.type||jt.message!==Vt.message):Vt&&Vt.type)&&(Vt?set$1($._formState.errors,j,Vt):unset($._formState.errors,j),$._subjects.state.next({errors:$._formState.errors}))});else{const Ut=get$3($._fields,j);Ut&&Ut._f&&!(getValidationModes($._options.reValidateMode).isOnSubmit&&getValidationModes($._options.mode).isOnSubmit)&&validateField(Ut,$._formValues,$._options.criteriaMode===VALIDATION_MODE.all,$._options.shouldUseNativeValidation,!0).then(Vt=>!isEmptyObject(Vt)&&$._subjects.state.next({errors:updateFieldArrayRootError($._formState.errors,Vt,j)}))}$._subjects.values.next({name:j,values:{...$._formValues}}),$._names.focus&&iterateFieldsByAction($._fields,(Ut,Vt)=>{if($._names.focus&&Vt.startsWith($._names.focus)&&Ut.focus)return Ut.focus(),1}),$._names.focus="",$._updateValid(),ct.current=!1},[rt,j,$]),React$2.useEffect(()=>(!get$3($._formValues,j)&&$._updateFieldArray(j),()=>{($._options.shouldUnregister||tt)&&$.unregister(j)}),[j,$,et,tt]),{swap:React$2.useCallback(kt,[ut,j,$]),move:React$2.useCallback(Ct,[ut,j,$]),prepend:React$2.useCallback(Et,[ut,j,$]),append:React$2.useCallback(ht,[ut,j,$]),remove:React$2.useCallback(St,[ut,j,$]),insert:React$2.useCallback(Mt,[ut,j,$]),update:React$2.useCallback(Ot,[ut,j,$]),replace:React$2.useCallback(zt,[ut,j,$]),fields:React$2.useMemo(()=>rt.map((Ut,Vt)=>({...Ut,[et]:it.current[Vt]||generateId()})),[rt,et])}}var createSubject=()=>{let _=[];return{get observers(){return _},next:et=>{for(const tt of _)tt.next&&tt.next(et)},subscribe:et=>(_.push(et),{unsubscribe:()=>{_=_.filter(tt=>tt!==et)}}),unsubscribe:()=>{_=[]}}},isPrimitive=_=>isNullOrUndefined(_)||!isObjectType(_);function deepEqual$1(_,a){if(isPrimitive(_)||isPrimitive(a))return _===a;if(isDateObject(_)&&isDateObject(a))return _.getTime()===a.getTime();const $=Object.keys(_),j=Object.keys(a);if($.length!==j.length)return!1;for(const et of $){const tt=_[et];if(!j.includes(et))return!1;if(et!=="ref"){const rt=a[et];if(isDateObject(tt)&&isDateObject(rt)||isObject$3(tt)&&isObject$3(rt)||Array.isArray(tt)&&Array.isArray(rt)?!deepEqual$1(tt,rt):tt!==rt)return!1}}return!0}var isMultipleSelect=_=>_.type==="select-multiple",isRadioOrCheckbox=_=>isRadioInput(_)||isCheckBoxInput(_),live=_=>isHTMLElement(_)&&_.isConnected,objectHasFunction=_=>{for(const a in _)if(isFunction$3(_[a]))return!0;return!1};function markFieldsDirty(_,a={}){const $=Array.isArray(_);if(isObject$3(_)||$)for(const j in _)Array.isArray(_[j])||isObject$3(_[j])&&!objectHasFunction(_[j])?(a[j]=Array.isArray(_[j])?[]:{},markFieldsDirty(_[j],a[j])):isNullOrUndefined(_[j])||(a[j]=!0);return a}function getDirtyFieldsFromDefaultValues(_,a,$){const j=Array.isArray(_);if(isObject$3(_)||j)for(const et in _)Array.isArray(_[et])||isObject$3(_[et])&&!objectHasFunction(_[et])?isUndefined$1(a)||isPrimitive($[et])?$[et]=Array.isArray(_[et])?markFieldsDirty(_[et],[]):{...markFieldsDirty(_[et])}:getDirtyFieldsFromDefaultValues(_[et],isNullOrUndefined(a)?{}:a[et],$[et]):$[et]=!deepEqual$1(_[et],a[et]);return $}var getDirtyFields=(_,a)=>getDirtyFieldsFromDefaultValues(_,a,markFieldsDirty(a)),getFieldValueAs=(_,{valueAsNumber:a,valueAsDate:$,setValueAs:j})=>isUndefined$1(_)?_:a?_===""?NaN:_&&+_:$&&isString$2(_)?new Date(_):j?j(_):_;function getFieldValue(_){const a=_.ref;if(!(_.refs?_.refs.every($=>$.disabled):a.disabled))return isFileInput(a)?a.files:isRadioInput(a)?getRadioValue(_.refs).value:isMultipleSelect(a)?[...a.selectedOptions].map(({value:$})=>$):isCheckBoxInput(a)?getCheckboxValue(_.refs).value:getFieldValueAs(isUndefined$1(a.value)?_.ref.value:a.value,_)}var getResolverOptions=(_,a,$,j)=>{const et={};for(const tt of _){const rt=get$3(a,tt);rt&&set$1(et,tt,rt._f)}return{criteriaMode:$,names:[..._],fields:et,shouldUseNativeValidation:j}},getRuleValue=_=>isUndefined$1(_)?_:isRegex(_)?_.source:isObject$3(_)?isRegex(_.value)?_.value.source:_.value:_,hasValidation=_=>_.mount&&(_.required||_.min||_.max||_.maxLength||_.minLength||_.pattern||_.validate);function schemaErrorLookup(_,a,$){const j=get$3(_,$);if(j||isKey($))return{error:j,name:$};const et=$.split(".");for(;et.length;){const tt=et.join("."),rt=get$3(a,tt),nt=get$3(_,tt);if(rt&&!Array.isArray(rt)&&$!==tt)return{name:$};if(nt&&nt.type)return{name:tt,error:nt};et.pop()}return{name:$}}var skipValidation=(_,a,$,j,et)=>et.isOnAll?!1:!$&&et.isOnTouch?!(a||_):($?j.isOnBlur:et.isOnBlur)?!_:($?j.isOnChange:et.isOnChange)?_:!0,unsetEmptyArray=(_,a)=>!compact(get$3(_,a)).length&&unset(_,a);const defaultOptions$1={mode:VALIDATION_MODE.onSubmit,reValidateMode:VALIDATION_MODE.onChange,shouldFocusError:!0};function createFormControl(_={}){let a={...defaultOptions$1,..._},$={submitCount:0,isDirty:!1,isLoading:isFunction$3(a.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:a.errors||{},disabled:a.disabled||!1},j={},et=isObject$3(a.defaultValues)||isObject$3(a.values)?cloneObject(a.defaultValues||a.values)||{}:{},tt=a.shouldUnregister?{}:cloneObject(et),rt={action:!1,mount:!1,watch:!1},nt={mount:new Set,unMount:new Set,array:new Set,watch:new Set},it,ot=0;const st={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},ct={values:createSubject(),array:createSubject(),state:createSubject()},ut=getValidationModes(a.mode),ht=getValidationModes(a.reValidateMode),Et=a.criteriaMode===VALIDATION_MODE.all,St=lr=>fr=>{clearTimeout(ot),ot=setTimeout(lr,fr)},Mt=async lr=>{if(st.isValid||lr){const fr=a.resolver?isEmptyObject((await $t()).errors):await Nt(j,!0);fr!==$.isValid&&ct.state.next({isValid:fr})}},kt=(lr,fr)=>{(st.isValidating||st.validatingFields)&&((lr||Array.from(nt.mount)).forEach(Er=>{Er&&(fr?set$1($.validatingFields,Er,fr):unset($.validatingFields,Er))}),ct.state.next({validatingFields:$.validatingFields,isValidating:!isEmptyObject($.validatingFields)}))},Ct=(lr,fr=[],Er,Ar,kr=!0,Sr=!0)=>{if(Ar&&Er){if(rt.action=!0,Sr&&Array.isArray(get$3(j,lr))){const $r=Er(get$3(j,lr),Ar.argA,Ar.argB);kr&&set$1(j,lr,$r)}if(Sr&&Array.isArray(get$3($.errors,lr))){const $r=Er(get$3($.errors,lr),Ar.argA,Ar.argB);kr&&set$1($.errors,lr,$r),unsetEmptyArray($.errors,lr)}if(st.touchedFields&&Sr&&Array.isArray(get$3($.touchedFields,lr))){const $r=Er(get$3($.touchedFields,lr),Ar.argA,Ar.argB);kr&&set$1($.touchedFields,lr,$r)}st.dirtyFields&&($.dirtyFields=getDirtyFields(et,tt)),ct.state.next({name:lr,isDirty:Pt(lr,fr),dirtyFields:$.dirtyFields,errors:$.errors,isValid:$.isValid})}else set$1(tt,lr,fr)},Ot=(lr,fr)=>{set$1($.errors,lr,fr),ct.state.next({errors:$.errors})},zt=lr=>{$.errors=lr,ct.state.next({errors:$.errors,isValid:!1})},Ut=(lr,fr,Er,Ar)=>{const kr=get$3(j,lr);if(kr){const Sr=get$3(tt,lr,isUndefined$1(Er)?get$3(et,lr):Er);isUndefined$1(Sr)||Ar&&Ar.defaultChecked||fr?set$1(tt,lr,fr?Sr:getFieldValue(kr._f)):dt(lr,Sr),rt.mount&&Mt()}},Vt=(lr,fr,Er,Ar,kr)=>{let Sr=!1,$r=!1;const jr={name:lr},Nr=!!(get$3(j,lr)&&get$3(j,lr)._f.disabled);if(!Er||Ar){st.isDirty&&($r=$.isDirty,$.isDirty=jr.isDirty=Pt(),Sr=$r!==jr.isDirty);const or=Nr||deepEqual$1(get$3(et,lr),fr);$r=!!(!Nr&&get$3($.dirtyFields,lr)),or||Nr?unset($.dirtyFields,lr):set$1($.dirtyFields,lr,!0),jr.dirtyFields=$.dirtyFields,Sr=Sr||st.dirtyFields&&$r!==!or}if(Er){const or=get$3($.touchedFields,lr);or||(set$1($.touchedFields,lr,Er),jr.touchedFields=$.touchedFields,Sr=Sr||st.touchedFields&&or!==Er)}return Sr&&kr&&ct.state.next(jr),Sr?jr:{}},jt=(lr,fr,Er,Ar)=>{const kr=get$3($.errors,lr),Sr=st.isValid&&isBoolean$2(fr)&&$.isValid!==fr;if(_.delayError&&Er?(it=St(()=>Ot(lr,Er)),it(_.delayError)):(clearTimeout(ot),it=null,Er?set$1($.errors,lr,Er):unset($.errors,lr)),(Er?!deepEqual$1(kr,Er):kr)||!isEmptyObject(Ar)||Sr){const $r={...Ar,...Sr&&isBoolean$2(fr)?{isValid:fr}:{},errors:$.errors,name:lr};$={...$,...$r},ct.state.next($r)}},$t=async lr=>{kt(lr,!0);const fr=await a.resolver(tt,a.context,getResolverOptions(lr||nt.mount,j,a.criteriaMode,a.shouldUseNativeValidation));return kt(lr),fr},Bt=async lr=>{const{errors:fr}=await $t(lr);if(lr)for(const Er of lr){const Ar=get$3(fr,Er);Ar?set$1($.errors,Er,Ar):unset($.errors,Er)}else $.errors=fr;return fr},Nt=async(lr,fr,Er={valid:!0})=>{for(const Ar in lr){const kr=lr[Ar];if(kr){const{_f:Sr,...$r}=kr;if(Sr){const jr=nt.array.has(Sr.name);kt([Ar],!0);const Nr=await validateField(kr,tt,Et,a.shouldUseNativeValidation&&!fr,jr);if(kt([Ar]),Nr[Sr.name]&&(Er.valid=!1,fr))break;!fr&&(get$3(Nr,Sr.name)?jr?updateFieldArrayRootError($.errors,Nr,Sr.name):set$1($.errors,Sr.name,Nr[Sr.name]):unset($.errors,Sr.name))}$r&&await Nt($r,fr,Er)}}return Er.valid},Lt=()=>{for(const lr of nt.unMount){const fr=get$3(j,lr);fr&&(fr._f.refs?fr._f.refs.every(Er=>!live(Er)):!live(fr._f.ref))&&nr(lr)}nt.unMount=new Set},Pt=(lr,fr)=>(lr&&fr&&set$1(tt,lr,fr),!deepEqual$1(Tt(),et)),bt=(lr,fr,Er)=>generateWatchOutput(lr,nt,{...rt.mount?tt:isUndefined$1(fr)?et:isString$2(lr)?{[lr]:fr}:fr},Er,fr),at=lr=>compact(get$3(rt.mount?tt:et,lr,_.shouldUnregister?get$3(et,lr,[]):[])),dt=(lr,fr,Er={})=>{const Ar=get$3(j,lr);let kr=fr;if(Ar){const Sr=Ar._f;Sr&&(!Sr.disabled&&set$1(tt,lr,getFieldValueAs(fr,Sr)),kr=isHTMLElement(Sr.ref)&&isNullOrUndefined(fr)?"":fr,isMultipleSelect(Sr.ref)?[...Sr.ref.options].forEach($r=>$r.selected=kr.includes($r.value)):Sr.refs?isCheckBoxInput(Sr.ref)?Sr.refs.length>1?Sr.refs.forEach($r=>(!$r.defaultChecked||!$r.disabled)&&($r.checked=Array.isArray(kr)?!!kr.find(jr=>jr===$r.value):kr===$r.value)):Sr.refs[0]&&(Sr.refs[0].checked=!!kr):Sr.refs.forEach($r=>$r.checked=$r.value===kr):isFileInput(Sr.ref)?Sr.ref.value="":(Sr.ref.value=kr,Sr.ref.type||ct.values.next({name:lr,values:{...tt}})))}(Er.shouldDirty||Er.shouldTouch)&&Vt(lr,kr,Er.shouldTouch,Er.shouldDirty,!0),Er.shouldValidate&&At(lr)},vt=(lr,fr,Er)=>{for(const Ar in fr){const kr=fr[Ar],Sr=`${lr}.${Ar}`,$r=get$3(j,Sr);(nt.array.has(lr)||!isPrimitive(kr)||$r&&!$r._f)&&!isDateObject(kr)?vt(Sr,kr,Er):dt(Sr,kr,Er)}},xt=(lr,fr,Er={})=>{const Ar=get$3(j,lr),kr=nt.array.has(lr),Sr=cloneObject(fr);set$1(tt,lr,Sr),kr?(ct.array.next({name:lr,values:{...tt}}),(st.isDirty||st.dirtyFields)&&Er.shouldDirty&&ct.state.next({name:lr,dirtyFields:getDirtyFields(et,tt),isDirty:Pt(lr,Sr)})):Ar&&!Ar._f&&!isNullOrUndefined(Sr)?vt(lr,Sr,Er):dt(lr,Sr,Er),isWatched(lr,nt)&&ct.state.next({...$}),ct.values.next({name:rt.mount?lr:void 0,values:{...tt}})},wt=async lr=>{rt.mount=!0;const fr=lr.target;let Er=fr.name,Ar=!0;const kr=get$3(j,Er),Sr=()=>fr.type?getFieldValue(kr._f):getEventValue(lr),$r=jr=>{Ar=Number.isNaN(jr)||jr===get$3(tt,Er,jr)};if(kr){let jr,Nr;const or=Sr(),Xt=lr.type===EVENTS.BLUR||lr.type===EVENTS.FOCUS_OUT,er=!hasValidation(kr._f)&&!a.resolver&&!get$3($.errors,Er)&&!kr._f.deps||skipValidation(Xt,get$3($.touchedFields,Er),$.isSubmitted,ht,ut),Zt=isWatched(Er,nt,Xt);set$1(tt,Er,or),Xt?(kr._f.onBlur&&kr._f.onBlur(lr),it&&it(0)):kr._f.onChange&&kr._f.onChange(lr);const Ht=Vt(Er,or,Xt,!1),Wt=!isEmptyObject(Ht)||Zt;if(!Xt&&ct.values.next({name:Er,type:lr.type,values:{...tt}}),er)return st.isValid&&Mt(),Wt&&ct.state.next({name:Er,...Zt?{}:Ht});if(!Xt&&Zt&&ct.state.next({...$}),a.resolver){const{errors:ar}=await $t([Er]);if($r(or),Ar){const br=schemaErrorLookup($.errors,j,Er),wr=schemaErrorLookup(ar,j,br.name||Er);jr=wr.error,Er=wr.name,Nr=isEmptyObject(ar)}}else kt([Er],!0),jr=(await validateField(kr,tt,Et,a.shouldUseNativeValidation))[Er],kt([Er]),$r(or),Ar&&(jr?Nr=!1:st.isValid&&(Nr=await Nt(j,!0)));Ar&&(kr._f.deps&&At(kr._f.deps),jt(Er,Nr,jr,Ht))}},_t=(lr,fr)=>{if(get$3($.errors,fr)&&lr.focus)return lr.focus(),1},At=async(lr,fr={})=>{let Er,Ar;const kr=convertToArrayPayload(lr);if(a.resolver){const Sr=await Bt(isUndefined$1(lr)?lr:kr);Er=isEmptyObject(Sr),Ar=lr?!kr.some($r=>get$3(Sr,$r)):Er}else lr?(Ar=(await Promise.all(kr.map(async Sr=>{const $r=get$3(j,Sr);return await Nt($r&&$r._f?{[Sr]:$r}:$r)}))).every(Boolean),!(!Ar&&!$.isValid)&&Mt()):Ar=Er=await Nt(j);return ct.state.next({...!isString$2(lr)||st.isValid&&Er!==$.isValid?{}:{name:lr},...a.resolver||!lr?{isValid:Er}:{},errors:$.errors}),fr.shouldFocus&&!Ar&&iterateFieldsByAction(j,_t,lr?kr:nt.mount),Ar},Tt=lr=>{const fr={...rt.mount?tt:et};return isUndefined$1(lr)?fr:isString$2(lr)?get$3(fr,lr):lr.map(Er=>get$3(fr,Er))},yt=(lr,fr)=>({invalid:!!get$3((fr||$).errors,lr),isDirty:!!get$3((fr||$).dirtyFields,lr),isTouched:!!get$3((fr||$).touchedFields,lr),isValidating:!!get$3((fr||$).validatingFields,lr),error:get$3((fr||$).errors,lr)}),It=lr=>{lr&&convertToArrayPayload(lr).forEach(fr=>unset($.errors,fr)),ct.state.next({errors:lr?$.errors:{}})},rr=(lr,fr,Er)=>{const Ar=(get$3(j,lr,{_f:{}})._f||{}).ref,kr=get$3($.errors,lr)||{},{ref:Sr,message:$r,type:jr,...Nr}=kr;set$1($.errors,lr,{...Nr,...fr,ref:Ar}),ct.state.next({name:lr,errors:$.errors,isValid:!1}),Er&&Er.shouldFocus&&Ar&&Ar.focus&&Ar.focus()},ir=(lr,fr)=>isFunction$3(lr)?ct.values.subscribe({next:Er=>lr(bt(void 0,fr),Er)}):bt(lr,fr,!0),nr=(lr,fr={})=>{for(const Er of lr?convertToArrayPayload(lr):nt.mount)nt.mount.delete(Er),nt.array.delete(Er),fr.keepValue||(unset(j,Er),unset(tt,Er)),!fr.keepError&&unset($.errors,Er),!fr.keepDirty&&unset($.dirtyFields,Er),!fr.keepTouched&&unset($.touchedFields,Er),!fr.keepIsValidating&&unset($.validatingFields,Er),!a.shouldUnregister&&!fr.keepDefaultValue&&unset(et,Er);ct.values.next({values:{...tt}}),ct.state.next({...$,...fr.keepDirty?{isDirty:Pt()}:{}}),!fr.keepIsValid&&Mt()},Gt=({disabled:lr,name:fr,field:Er,fields:Ar,value:kr})=>{if(isBoolean$2(lr)&&rt.mount||lr){const Sr=lr?void 0:isUndefined$1(kr)?getFieldValue(Er?Er._f:get$3(Ar,fr)._f):kr;set$1(tt,fr,Sr),Vt(fr,Sr,!1,!1,!0)}},qt=(lr,fr={})=>{let Er=get$3(j,lr);const Ar=isBoolean$2(fr.disabled);return set$1(j,lr,{...Er||{},_f:{...Er&&Er._f?Er._f:{ref:{name:lr}},name:lr,mount:!0,...fr}}),nt.mount.add(lr),Er?Gt({field:Er,disabled:fr.disabled,name:lr,value:fr.value}):Ut(lr,!0,fr.value),{...Ar?{disabled:fr.disabled}:{},...a.progressive?{required:!!fr.required,min:getRuleValue(fr.min),max:getRuleValue(fr.max),minLength:getRuleValue(fr.minLength),maxLength:getRuleValue(fr.maxLength),pattern:getRuleValue(fr.pattern)}:{},name:lr,onChange:wt,onBlur:wt,ref:kr=>{if(kr){qt(lr,fr),Er=get$3(j,lr);const Sr=isUndefined$1(kr.value)&&kr.querySelectorAll&&kr.querySelectorAll("input,select,textarea")[0]||kr,$r=isRadioOrCheckbox(Sr),jr=Er._f.refs||[];if($r?jr.find(Nr=>Nr===Sr):Sr===Er._f.ref)return;set$1(j,lr,{_f:{...Er._f,...$r?{refs:[...jr.filter(live),Sr,...Array.isArray(get$3(et,lr))?[{}]:[]],ref:{type:Sr.type,name:lr}}:{ref:Sr}}}),Ut(lr,!1,void 0,Sr)}else Er=get$3(j,lr,{}),Er._f&&(Er._f.mount=!1),(a.shouldUnregister||fr.shouldUnregister)&&!(isNameInFieldArray(nt.array,lr)&&rt.action)&&nt.unMount.add(lr)}}},Jt=()=>a.shouldFocusError&&iterateFieldsByAction(j,_t,nt.mount),Ft=lr=>{isBoolean$2(lr)&&(ct.state.next({disabled:lr}),iterateFieldsByAction(j,(fr,Er)=>{const Ar=get$3(j,Er);Ar&&(fr.disabled=Ar._f.disabled||lr,Array.isArray(Ar._f.refs)&&Ar._f.refs.forEach(kr=>{kr.disabled=Ar._f.disabled||lr}))},0,!1))},Kt=(lr,fr)=>async Er=>{let Ar;Er&&(Er.preventDefault&&Er.preventDefault(),Er.persist&&Er.persist());let kr=cloneObject(tt);if(ct.state.next({isSubmitting:!0}),a.resolver){const{errors:Sr,values:$r}=await $t();$.errors=Sr,kr=$r}else await Nt(j);if(unset($.errors,"root"),isEmptyObject($.errors)){ct.state.next({errors:{}});try{await lr(kr,Er)}catch(Sr){Ar=Sr}}else fr&&await fr({...$.errors},Er),Jt(),setTimeout(Jt);if(ct.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:isEmptyObject($.errors)&&!Ar,submitCount:$.submitCount+1,errors:$.errors}),Ar)throw Ar},Qt=(lr,fr={})=>{get$3(j,lr)&&(isUndefined$1(fr.defaultValue)?xt(lr,cloneObject(get$3(et,lr))):(xt(lr,fr.defaultValue),set$1(et,lr,cloneObject(fr.defaultValue))),fr.keepTouched||unset($.touchedFields,lr),fr.keepDirty||(unset($.dirtyFields,lr),$.isDirty=fr.defaultValue?Pt(lr,cloneObject(get$3(et,lr))):Pt()),fr.keepError||(unset($.errors,lr),st.isValid&&Mt()),ct.state.next({...$}))},dr=(lr,fr={})=>{const Er=lr?cloneObject(lr):et,Ar=cloneObject(Er),kr=isEmptyObject(lr),Sr=kr?et:Ar;if(fr.keepDefaultValues||(et=Er),!fr.keepValues){if(fr.keepDirtyValues)for(const $r of nt.mount)get$3($.dirtyFields,$r)?set$1(Sr,$r,get$3(tt,$r)):xt($r,get$3(Sr,$r));else{if(isWeb&&isUndefined$1(lr))for(const $r of nt.mount){const jr=get$3(j,$r);if(jr&&jr._f){const Nr=Array.isArray(jr._f.refs)?jr._f.refs[0]:jr._f.ref;if(isHTMLElement(Nr)){const or=Nr.closest("form");if(or){or.reset();break}}}}j={}}tt=_.shouldUnregister?fr.keepDefaultValues?cloneObject(et):{}:cloneObject(Sr),ct.array.next({values:{...Sr}}),ct.values.next({values:{...Sr}})}nt={mount:fr.keepDirtyValues?nt.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},rt.mount=!st.isValid||!!fr.keepIsValid||!!fr.keepDirtyValues,rt.watch=!!_.shouldUnregister,ct.state.next({submitCount:fr.keepSubmitCount?$.submitCount:0,isDirty:kr?!1:fr.keepDirty?$.isDirty:!!(fr.keepDefaultValues&&!deepEqual$1(lr,et)),isSubmitted:fr.keepIsSubmitted?$.isSubmitted:!1,dirtyFields:kr?[]:fr.keepDirtyValues?fr.keepDefaultValues&&tt?getDirtyFields(et,tt):$.dirtyFields:fr.keepDefaultValues&&lr?getDirtyFields(et,lr):{},touchedFields:fr.keepTouched?$.touchedFields:{},errors:fr.keepErrors?$.errors:{},isSubmitSuccessful:fr.keepIsSubmitSuccessful?$.isSubmitSuccessful:!1,isSubmitting:!1})},xr=(lr,fr)=>dr(isFunction$3(lr)?lr(tt):lr,fr);return{control:{register:qt,unregister:nr,getFieldState:yt,handleSubmit:Kt,setError:rr,_executeSchema:$t,_getWatch:bt,_getDirty:Pt,_updateValid:Mt,_removeUnmounted:Lt,_updateFieldArray:Ct,_updateDisabledField:Gt,_getFieldArray:at,_reset:dr,_resetDefaultValues:()=>isFunction$3(a.defaultValues)&&a.defaultValues().then(lr=>{xr(lr,a.resetOptions),ct.state.next({isLoading:!1})}),_updateFormState:lr=>{$={...$,...lr}},_disableForm:Ft,_subjects:ct,_proxyFormState:st,_setErrors:zt,get _fields(){return j},get _formValues(){return tt},get _state(){return rt},set _state(lr){rt=lr},get _defaultValues(){return et},get _names(){return nt},set _names(lr){nt=lr},get _formState(){return $},set _formState(lr){$=lr},get _options(){return a},set _options(lr){a={...a,...lr}}},trigger:At,register:qt,handleSubmit:Kt,watch:ir,setValue:xt,getValues:Tt,reset:xr,resetField:Qt,clearErrors:It,unregister:nr,setError:rr,setFocus:(lr,fr={})=>{const Er=get$3(j,lr),Ar=Er&&Er._f;if(Ar){const kr=Ar.refs?Ar.refs[0]:Ar.ref;kr.focus&&(kr.focus(),fr.shouldSelect&&kr.select())}},getFieldState:yt}}function useForm(_={}){const a=React$2.useRef(),$=React$2.useRef(),[j,et]=React$2.useState({isDirty:!1,isValidating:!1,isLoading:isFunction$3(_.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:_.errors||{},disabled:_.disabled||!1,defaultValues:isFunction$3(_.defaultValues)?void 0:_.defaultValues});a.current||(a.current={...createFormControl(_),formState:j});const tt=a.current.control;return tt._options=_,useSubscribe({subject:tt._subjects.state,next:rt=>{shouldRenderFormState(rt,tt._proxyFormState,tt._updateFormState)&&et({...tt._formState})}}),React$2.useEffect(()=>tt._disableForm(_.disabled),[tt,_.disabled]),React$2.useEffect(()=>{if(tt._proxyFormState.isDirty){const rt=tt._getDirty();rt!==j.isDirty&&tt._subjects.state.next({isDirty:rt})}},[tt,j.isDirty]),React$2.useEffect(()=>{_.values&&!deepEqual$1(_.values,$.current)?(tt._reset(_.values,tt._options.resetOptions),$.current=_.values,et(rt=>({...rt}))):tt._resetDefaultValues()},[_.values,tt]),React$2.useEffect(()=>{_.errors&&tt._setErrors(_.errors)},[_.errors,tt]),React$2.useEffect(()=>{tt._state.mount||(tt._updateValid(),tt._state.mount=!0),tt._state.watch&&(tt._state.watch=!1,tt._subjects.state.next({...tt._formState})),tt._removeUnmounted()}),React$2.useEffect(()=>{_.shouldUnregister&&tt._subjects.values.next({values:tt._getWatch()})},[_.shouldUnregister,tt]),a.current.formState=getProxyFormState(j,tt),a.current}const colors={orange:"#FB4F57",orangeL:"#FC7884",blue:"#0D99FF",blueL:"#4FA2FF",green:"#00C39A",greenL:"#00E7B6",black:"#000000",white:"#FFFFFF",gray:{900:"#121212",800:"#181818",700:"#282828",600:"#2C2B2B",500:"#414141",450:"#707070",400:"#C2C2C2",300:"#D6D6D6",200:"#EBEBEB",100:"#F0F0F0",50:"#F5F5F5"}},AccountsIcon=_=>jsxRuntimeExports.jsxs(Icon,{width:"24px",height:"24px",fill:"none",textAlign:"center",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",..._,children:[jsxRuntimeExports.jsx("path",{d:"M14 5.6C14 5.03995 14 4.75992 14.109 4.54601C14.2049 4.35785 14.3578 4.20487 14.546 4.10899C14.7599 4 15.0399 4 15.6 4H18.4C18.9601 4 19.2401 4 19.454 4.10899C19.6422 4.20487 19.7951 4.35785 19.891 4.54601C20 4.75992 20 5.03995 20 5.6V8.4C20 8.96005 20 9.24008 19.891 9.45399C19.7951 9.64215 19.6422 9.79513 19.454 9.89101C19.2401 10 18.9601 10 18.4 10H15.6C15.0399 10 14.7599 10 14.546 9.89101C14.3578 9.79513 14.2049 9.64215 14.109 9.45399C14 9.24008 14 8.96005 14 8.4V5.6Z",stroke:colors.gray[450],strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.2"}),jsxRuntimeExports.jsx("path",{d:"M4 5.6C4 5.03995 4 4.75992 4.10899 4.54601C4.20487 4.35785 4.35785 4.20487 4.54601 4.10899C4.75992 4 5.03995 4 5.6 4H8.4C8.96005 4 9.24008 4 9.45399 4.10899C9.64215 4.20487 9.79513 4.35785 9.89101 4.54601C10 4.75992 10 5.03995 10 5.6V8.4C10 8.96005 10 9.24008 9.89101 9.45399C9.79513 9.64215 9.64215 9.79513 9.45399 9.89101C9.24008 10 8.96005 10 8.4 10H5.6C5.03995 10 4.75992 10 4.54601 9.89101C4.35785 9.79513 4.20487 9.64215 4.10899 9.45399C4 9.24008 4 8.96005 4 8.4V5.6Z",stroke:colors.gray[450],strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.2"}),jsxRuntimeExports.jsx("path",{d:"M4 15.6C4 15.0399 4 14.7599 4.10899 14.546C4.20487 14.3578 4.35785 14.2049 4.54601 14.109C4.75992 14 5.03995 14 5.6 14H8.4C8.96005 14 9.24008 14 9.45399 14.109C9.64215 14.2049 9.79513 14.3578 9.89101 14.546C10 14.7599 10 15.0399 10 15.6V18.4C10 18.9601 10 19.2401 9.89101 19.454C9.79513 19.6422 9.64215 19.7951 9.45399 19.891C9.24008 20 8.96005 20 8.4 20H5.6C5.03995 20 4.75992 20 4.54601 19.891C4.35785 19.7951 4.20487 19.6422 4.10899 19.454C4 19.2401 4 18.9601 4 18.4V15.6Z",stroke:colors.gray[450],strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.2"}),jsxRuntimeExports.jsx("path",{d:"M14 15.6C14 15.0399 14 14.7599 14.109 14.546C14.2049 14.3578 14.3578 14.2049 14.546 14.109C14.7599 14 15.0399 14 15.6 14H18.4C18.9601 14 19.2401 14 19.454 14.109C19.6422 14.2049 19.7951 14.3578 19.891 14.546C20 14.7599 20 15.0399 20 15.6V18.4C20 18.9601 20 19.2401 19.891 19.454C19.7951 19.6422 19.6422 19.7951 19.454 19.891C19.2401 20 18.9601 20 18.4 20H15.6C15.0399 20 14.7599 20 14.546 19.891C14.3578 19.7951 14.2049 19.6422 14.109 19.454C14 19.2401 14 18.9601 14 18.4V15.6Z",stroke:colors.gray[450],strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.2"})]}),AddAccountIcon=_=>jsxRuntimeExports.jsx(Icon,{width:"18px",height:"18px",fill:"none",stroke:colors.gray[450],viewBox:"0 0 18 18",xmlns:"http://www.w3.org/2000/svg",..._,children:jsxRuntimeExports.jsx("path",{d:"M8.25 13.5H4.65C3.80992 13.5 3.38988 13.5 3.06901 13.3365C2.78677 13.1927 2.5573 12.9632 2.41349 12.681C2.25 12.3601 2.25 11.9401 2.25 11.1V5.4C2.25 4.55992 2.25 4.13988 2.41349 3.81901C2.5573 3.53677 2.78677 3.3073 3.06901 3.16349C3.38988 3 3.80992 3 4.65 3H13.35C14.1901 3 14.6101 3 14.931 3.16349C15.2132 3.3073 15.4427 3.53677 15.5865 3.81901C15.75 4.13988 15.75 4.55992 15.75 5.4V8.25M2.25 6H15.75M13.5 15V10.5M15.75 12.7506L11.25 12.75",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.2"})}),AddContactIcon=_=>jsxRuntimeExports.jsx(Icon,{fill:"none",viewBox:"0 0 13 17",xmlns:"http://www.w3.org/2000/svg",..._,children:jsxRuntimeExports.jsx("path",{d:"M13 12.5L10.75 12.5M10.75 12.5L8.5 12.5M10.75 12.5V10.25M10.75 12.5V14.75M6.25 14.75H1C1 11.8505 3.35051 9.5 6.25 9.5C6.77123 9.5 7.27472 9.57596 7.75 9.71741M9.25 4.25C9.25 5.90685 7.90685 7.25 6.25 7.25C4.59315 7.25 3.25 5.90685 3.25 4.25C3.25 2.59315 4.59315 1.25 6.25 1.25C7.90685 1.25 9.25 2.59315 9.25 4.25Z",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.2"})}),AddressBookIcon=_=>jsxRuntimeExports.jsx(Icon,{width:"24px",height:"24px",fill:"none",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",..._,children:jsxRuntimeExports.jsx("path",{d:"M13.5 15.5C13.2164 14.3589 11.981 13.5 10.5 13.5C9.019 13.5 7.78364 14.3589 7.5 15.5M21 5V7M21 11V13M21 17V19M6.2 21H14.8C15.9201 21 16.4802 21 16.908 20.782C17.2843 20.5903 17.5903 20.2843 17.782 19.908C18 19.4802 18 18.9201 18 17.8V6.2C18 5.0799 18 4.51984 17.782 4.09202C17.5903 3.71569 17.2843 3.40973 16.908 3.21799C16.4802 3 15.9201 3 14.8 3H6.2C5.0799 3 4.51984 3 4.09202 3.21799C3.71569 3.40973 3.40973 3.71569 3.21799 4.09202C3 4.51984 3 5.07989 3 6.2V17.8C3 18.9201 3 19.4802 3.21799 19.908C3.40973 20.2843 3.71569 20.5903 4.09202 20.782C4.51984 21 5.07989 21 6.2 21ZM11.5 9.5C11.5 10.0523 11.0523 10.5 10.5 10.5C9.94772 10.5 9.5 10.0523 9.5 9.5C9.5 8.94772 9.94772 8.5 10.5 8.5C11.0523 8.5 11.5 8.94772 11.5 9.5Z",stroke:colors.gray[450],strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.2"})}),BakerIcon=_=>jsxRuntimeExports.jsx(Icon,{width:"18px",height:"18px",fill:"none",stroke:colors.gray[450],"data-testid":"baker-icon",viewBox:"0 0 18 18",xmlns:"http://www.w3.org/2000/svg",..._,children:jsxRuntimeExports.jsx("path",{d:"M3.74946 5.25V8.25M7.49946 1.5V4.5M13.4995 12V15M2.24946 6.75H5.24946M5.99946 3H8.99946M11.9995 13.5H14.9995M10.4995 5.25L12.6208 7.37132M14.6369 2.80959L15.0612 3.23385C15.3582 3.53086 15.5067 3.67937 15.5624 3.85062C15.6113 4.00125 15.6113 4.16351 15.5624 4.31414C15.5067 4.48539 15.3582 4.6339 15.0612 4.93091L4.89356 15.0985C4.59655 15.3955 4.44804 15.5441 4.2768 15.5997C4.12617 15.6486 3.9639 15.6486 3.81327 15.5997C3.64203 15.5441 3.49352 15.3955 3.19651 15.0985L2.77224 14.6743C2.47523 14.3773 2.32672 14.2288 2.27108 14.0575C2.22214 13.9069 2.22214 13.7446 2.27108 13.594C2.32672 13.4227 2.47523 13.2742 2.77224 12.9772L12.9399 2.80959C13.2369 2.51258 13.3854 2.36407 13.5566 2.30843C13.7073 2.25948 13.8695 2.25948 14.0202 2.30843C14.1914 2.36407 14.3399 2.51258 14.6369 2.80959Z",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.2"})}),BatchIcon=_=>jsxRuntimeExports.jsx(Icon,{width:"24px",height:"24px",fill:"none",strokeWidth:"1.2",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",..._,children:jsxRuntimeExports.jsx("path",{d:"M10 4V20M14 4V20M4 8C4 8.92997 4 9.39496 4.10222 9.77646C4.37962 10.8117 5.18827 11.6204 6.22354 11.8978C6.60504 12 7.07003 12 8 12H16C16.93 12 17.395 12 17.7765 11.8978C18.8117 11.6204 19.6204 10.8117 19.8978 9.77646C20 9.39496 20 8.92997 20 8M4 8C4 7.07003 4 6.60504 4.10222 6.22354C4.37962 5.18827 5.18827 4.37962 6.22354 4.10222C6.60504 4 7.07003 4 8 4H16C16.93 4 17.395 4 17.7765 4.10222C18.8117 4.37962 19.6204 5.18827 19.8978 6.22354C20 6.60504 20 7.07003 20 8M4 8V16C4 16.93 4 17.395 4.10222 17.7765C4.37962 18.8117 5.18827 19.6204 6.22354 19.8978C6.60504 20 7.07003 20 8 20H16C16.93 20 17.395 20 17.7765 19.8978C18.8117 19.6204 19.6204 18.8117 19.8978 17.7765C20 17.395 20 16.93 20 16V8M10 16H8C7.07003 16 6.60504 16 6.22354 15.8978C5.18827 15.6204 4.37962 14.8117 4.10222 13.7765C4 13.395 4 12.93 4 12M14 16H16C16.93 16 17.395 16 17.7765 15.8978C18.8117 15.6204 19.6204 14.8117 19.8978 13.7765C20 13.395 20 12.93 20 12M7 8H7.01M17 8H17.01",stroke:colors.gray[450],strokeLinecap:"round",strokeLinejoin:"round"})}),BurgerMenuIcon=_=>jsxRuntimeExports.jsx(Icon,{width:"24px",height:"24px",fill:"none",stroke:colors.gray[450],textAlign:"center",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",..._,children:jsxRuntimeExports.jsx("path",{d:"M4 6H20M4 12H20M4 18H20",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.2"})}),CheckmarkIcon=_=>jsxRuntimeExports.jsx(Icon,{width:"18px",height:"18px",fill:"none",viewBox:"0 0 18 18",xmlns:"http://www.w3.org/2000/svg",..._,children:jsxRuntimeExports.jsx("path",{d:"M6 9.25L7.84615 11.25L12 6.75M15.75 9C15.75 12.7279 12.7279 15.75 9 15.75C5.27208 15.75 2.25 12.7279 2.25 9C2.25 5.27208 5.27208 2.25 9 2.25C12.7279 2.25 15.75 5.27208 15.75 9Z",stroke:"#00C39A",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.2"})}),ChevronDownIcon$1=_=>jsxRuntimeExports.jsx(Icon,{width:"18px",height:"18px",fill:"none",stroke:colors.gray[450],viewBox:"0 0 18 18",xmlns:"http://www.w3.org/2000/svg",..._,children:jsxRuntimeExports.jsx("path",{d:"M4.5 6.75L9 11.25L13.5 6.75",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.2"})}),ChevronRightIcon=_=>jsxRuntimeExports.jsx(Icon,{width:"18px",height:"18px",fill:"none",stroke:colors.gray[450],viewBox:"0 0 18 18",xmlns:"http://www.w3.org/2000/svg",..._,children:jsxRuntimeExports.jsx("path",{d:"M7 14L11.5 9.5L7 5",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.2"})}),ChevronUpIcon=_=>jsxRuntimeExports.jsx(Icon,{width:"18px",height:"18px",fill:"none",stroke:colors.gray[450],viewBox:"0 0 18 18",xmlns:"http://www.w3.org/2000/svg",..._,children:jsxRuntimeExports.jsx("path",{d:"M4.5 11.25L9 6.75L13.5 11.25",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.2"})}),CoinIcon=_=>jsxRuntimeExports.jsx(Icon,{width:"24px",height:"24px",fill:"none",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",..._,children:jsxRuntimeExports.jsx("path",{d:"M12 10V14M21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12ZM17 12C17 14.7614 14.7614 17 12 17C9.23858 17 7 14.7614 7 12C7 9.23858 9.23858 7 12 7C14.7614 7 17 9.23858 17 12Z",stroke:colors.gray[450],strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.2"})}),ContactIcon=_=>jsxRuntimeExports.jsx(Icon,{width:"18px",height:"18px",fill:"none","data-testid":"contact-icon",viewBox:"0 0 18 18",xmlns:"http://www.w3.org/2000/svg",..._,children:jsxRuntimeExports.jsx("path",{d:"M3.75 15.75C3.75 12.8505 6.10051 10.5 9 10.5C11.8995 10.5 14.25 12.8505 14.25 15.75M12 5.25C12 6.90685 10.6569 8.25 9 8.25C7.34315 8.25 6 6.90685 6 5.25C6 3.59315 7.34315 2.25 9 2.25C10.6569 2.25 12 3.59315 12 5.25Z",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.2"})}),ContractIcon=_=>jsxRuntimeExports.jsx(Icon,{width:"18px",height:"18px",fill:"none",viewBox:"0 0 18 18",xmlns:"http://www.w3.org/2000/svg",..._,children:jsxRuntimeExports.jsx("path",{d:"M7.5 12.75L6 11.25L7.5 9.75M10.5 9.75L12 11.25L10.5 12.75M9.75 2.25H6.15C5.30992 2.25 4.88988 2.25 4.56901 2.41349C4.28677 2.5573 4.0573 2.78677 3.91349 3.06901C3.75 3.38988 3.75 3.80992 3.75 4.65V13.35C3.75 14.1901 3.75 14.6101 3.91349 14.931C4.0573 15.2132 4.28677 15.4427 4.56901 15.5865C4.88988 15.75 5.30992 15.75 6.15 15.75H11.85C12.6901 15.75 13.1101 15.75 13.431 15.5865C13.7132 15.4427 13.9427 15.2132 14.0865 14.931C14.25 14.6101 14.25 14.1901 14.25 13.35V6.75M9.75 2.25L14.25 6.75M9.75 2.25V6C9.75 6.41421 10.0858 6.75 10.5 6.75H14.25",stroke:colors.gray[450],strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.2"})}),CrossedCircleIcon=_=>jsxRuntimeExports.jsx(Icon,{width:"18px",height:"18px",fill:"none",viewBox:"0 0 18 18",xmlns:"http://www.w3.org/2000/svg",..._,children:jsxRuntimeExports.jsx("path",{d:"M13.773 13.773C14.9945 12.5515 15.75 10.864 15.75 9C15.75 5.27208 12.7279 2.25 9 2.25C7.13604 2.25 5.44854 3.00552 4.22703 4.22703M13.773 13.773C12.5515 14.9945 10.864 15.75 9 15.75C5.27208 15.75 2.25 12.7279 2.25 9C2.25 7.13604 3.00552 5.44854 4.22703 4.22703M13.773 13.773L4.22703 4.22703",stroke:"#FB4F57",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.2"})}),DiamondIcon=_=>jsxRuntimeExports.jsx(Icon,{width:"24px",height:"24px",fill:"none",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",..._,children:jsxRuntimeExports.jsx("path",{d:"M3.125 9H20.875M12 3L8 9L12 20.6667L16 9L12 3ZM12.64 20.1467L20.64 9.48C20.7691 9.30787 20.8336 9.22181 20.8585 9.12728C20.8805 9.04385 20.8805 8.95615 20.8585 8.87272C20.8336 8.77819 20.7691 8.69213 20.64 8.52L16.74 3.32C16.652 3.20267 16.608 3.144 16.5522 3.10169C16.5028 3.06421 16.4469 3.03625 16.3873 3.01922C16.32 3 16.2467 3 16.1 3H7.9C7.75333 3 7.68 3 7.61269 3.01922C7.55308 3.03625 7.49715 3.06421 7.44776 3.10169C7.392 3.144 7.348 3.20267 7.26 3.32L3.36 8.52C3.2309 8.69213 3.16635 8.77819 3.14147 8.87271C3.11951 8.95615 3.11951 9.04385 3.14147 9.12728C3.16635 9.2218 3.2309 9.30787 3.36 9.48L11.36 20.1467C11.5771 20.4362 11.6857 20.5809 11.8188 20.6327C11.9353 20.678 12.0647 20.678 12.1812 20.6327C12.3143 20.5809 12.4229 20.4362 12.64 20.1467Z",stroke:colors.gray[450],strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.2"})}),DocumentIcon=_=>jsxRuntimeExports.jsx(Icon,{width:"24px",height:"24px",fill:"none",stroke:colors.gray[450],viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",..._,children:jsxRuntimeExports.jsx("path",{d:"M9 17H13M9 13H13M9 9H10M17 18V21M17 15H17.01M13 3H8.2C7.0799 3 6.51984 3 6.09202 3.21799C5.71569 3.40973 5.40973 3.71569 5.21799 4.09202C5 4.51984 5 5.0799 5 6.2V17.8C5 18.9201 5 19.4802 5.21799 19.908C5.40973 20.2843 5.71569 20.5903 6.09202 20.782C6.51984 21 7.0799 21 8.2 21H13M13 3L19 9M13 3V7.4C13 7.96005 13 8.24008 13.109 8.45399C13.2049 8.64215 13.3578 8.79513 13.546 8.89101C13.7599 9 14.0399 9 14.6 9H19M19 9V11.5",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.2"})}),DoubleCheckmarkIcon=_=>jsxRuntimeExports.jsx(Icon,{width:"24px",height:"24px",fill:"none",stroke:colors.gray[450],viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",..._,children:jsxRuntimeExports.jsx("path",{d:"M4 14L9 19L20 8M6 8.88889L9.07692 12L16 5",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.2"})}),DownloadIcon=_=>jsxRuntimeExports.jsx(Icon,{width:"16px",height:"16px",fill:"none",stroke:colors.gray[450],viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",..._,children:jsxRuntimeExports.jsx("path",{d:"M5 7.25L8 10.25M8 10.25L11 7.25M8 10.25V1.25M14.75 7.25V12.3494C14.75 13.1895 14.75 13.6095 14.5865 13.9304C14.4427 14.2126 14.2132 14.4421 13.931 14.5859C13.6101 14.7494 13.1901 14.7494 12.35 14.7494H3.65C2.80992 14.7494 2.38988 14.7494 2.06901 14.5859C1.78677 14.4421 1.5573 14.2126 1.41349 13.9304C1.25 13.6095 1.25 13.1895 1.25 12.3494V7.25",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.2"})}),EditAccountIcon=_=>jsxRuntimeExports.jsx(Icon,{width:"24px",height:"24px",fill:"none",stroke:colors.gray[450],viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",..._,children:jsxRuntimeExports.jsx("path",{d:"M8.5 21H4C4 17.134 7.13401 14 11 14C11.1681 14 11.3348 14.0059 11.5 14.0176M15 7C15 9.20914 13.2091 11 11 11C8.79086 11 7 9.20914 7 7C7 4.79086 8.79086 3 11 3C13.2091 3 15 4.79086 15 7ZM12.5898 21L14.6148 20.595C14.7914 20.5597 14.8797 20.542 14.962 20.5097C15.0351 20.4811 15.1045 20.4439 15.1689 20.399C15.2414 20.3484 15.3051 20.2848 15.4324 20.1574L19.5898 16C20.1421 15.4477 20.1421 14.5523 19.5898 14C19.0376 13.4477 18.1421 13.4477 17.5898 14L13.4324 18.1574C13.3051 18.2848 13.2414 18.3484 13.1908 18.421C13.1459 18.4853 13.1088 18.5548 13.0801 18.6279C13.0478 18.7102 13.0302 18.7985 12.9948 18.975L12.5898 21Z",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.2"})}),EmailIcon=_=>jsxRuntimeExports.jsx(Icon,{width:"28px",height:"28px",fill:"black","data-testid":"email-icon",viewBox:"0 0 28 28",xmlns:"http://www.w3.org/2000/svg",..._,children:jsxRuntimeExports.jsx("path",{d:`M23.332 4.66602H4.66536C3.38203 4.66602 2.3437 5.71602 2.3437 6.99935L2.33203 20.9993C2.33203
    22.2827 3.38203 23.3327 4.66536 23.3327H23.332C24.6154 23.3327 25.6654 22.2827 25.6654
    20.9993V6.99935C25.6654 5.71602 24.6154 4.66602 23.332 4.66602ZM23.332 9.33268L13.9987
    15.166L4.66536 9.33268V6.99935L13.9987 12.8327L23.332 6.99935V9.33268Z`})}),ExclamationIcon=_=>jsxRuntimeExports.jsx(Icon,{width:"12px",height:"12px",fill:"none",stroke:colors.orange,viewBox:"0 0 12 12",xmlns:"http://www.w3.org/2000/svg",..._,children:jsxRuntimeExports.jsx("path",{d:"M6 3.66667V6.58333M6 8.33333H6.00583M11.25 6C11.25 8.89949 8.89949 11.25 6 11.25C3.1005 11.25 0.75 8.89949 0.75 6C0.75 3.1005 3.1005 0.75 6 0.75C8.89949 0.75 11.25 3.1005 11.25 6Z",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.2"})}),ExitArrowIcon=_=>jsxRuntimeExports.jsx(Icon,{width:"24px",height:"24px",fill:"none",stroke:colors.gray[450],viewBox:"0 0 18 18",xmlns:"http://www.w3.org/2000/svg",..._,children:jsxRuntimeExports.jsx("path",{d:"M15 3V15M3 9H12M12 9L9 6M12 9L9 12",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.2"})}),ExternalLinkIcon=_=>jsxRuntimeExports.jsx(Icon,{width:"18px",height:"18px",fill:"none",stroke:colors.gray[450],viewBox:"0 0 18 18",xmlns:"http://www.w3.org/2000/svg",..._,children:jsxRuntimeExports.jsx("path",{d:"M15 3L9 9M15 3V6.375M15 3H11.625M14.25 9.375V12.6C14.25 13.4401 14.25 13.8601 14.0865 14.181C13.9427 14.4632 13.7132 14.6927 13.431 14.8365C13.1101 15 12.6901 15 11.85 15H5.4C4.55992 15 4.13988 15 3.81901 14.8365C3.53677 14.6927 3.3073 14.4632 3.16349 14.181C3 13.8601 3 13.4401 3 12.6V6.15C3 5.30992 3 4.88988 3.16349 4.56901C3.3073 4.28677 3.53677 4.0573 3.81901 3.91349C4.13988 3.75 4.55992 3.75 5.4 3.75H8.625",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.2"})}),EyeIcon=_=>jsxRuntimeExports.jsxs(Icon,{width:"16px",height:"12px",fill:"none",viewBox:"0 0 16 12",xmlns:"http://www.w3.org/2000/svg",..._,children:[jsxRuntimeExports.jsx("path",{d:"M10.2501 6C10.2501 7.24264 9.2427 8.25 8.00006 8.25C6.75742 8.25 5.75006 7.24264 5.75006 6C5.75006 4.75736 6.75742 3.75 8.00006 3.75C9.2427 3.75 10.2501 4.75736 10.2501 6Z",stroke:colors.gray[450],strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.2"}),jsxRuntimeExports.jsx("path",{d:"M8.00039 0.75C4.64217 0.75 1.79946 2.95716 0.84375 5.99997C1.79944 9.04282 4.64217 11.25 8.00041 11.25C11.3586 11.25 14.2013 9.04284 15.157 6.00003C14.2014 2.95719 11.3586 0.75 8.00039 0.75Z",stroke:colors.gray[450],strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.2"})]}),EyeSlashIcon=_=>jsxRuntimeExports.jsx(Icon,{width:"18px",height:"18px",fill:"none",viewBox:"0 0 18 18",xmlns:"http://www.w3.org/2000/svg",..._,children:jsxRuntimeExports.jsx("path",{d:"M2.25024 2.25L15.7502 15.75M7.38345 7.43523C6.99147 7.84016 6.75024 8.39191 6.75024 9C6.75024 10.2426 7.7576 11.25 9.00024 11.25C9.6171 11.25 10.176 11.0018 10.5824 10.5997M4.87524 4.98536C3.45076 5.92525 2.36577 7.33796 1.84375 8.99997C2.79944 12.0428 5.64217 14.25 9.00041 14.25C10.4921 14.25 11.882 13.8145 13.0501 13.0638M8.25024 3.78705C8.49697 3.76254 8.74722 3.75 9.00039 3.75C12.3586 3.75 15.2014 5.95719 16.157 9.00003C15.9465 9.67048 15.6443 10.3004 15.2651 10.875",stroke:colors.gray[450],strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.2"})}),FA12Icon=_=>jsxRuntimeExports.jsx(Icon,{width:"30px",height:"15px",fill:colors.gray[450],viewBox:"1 1 30 15",xmlns:"http://www.w3.org/2000/svg",..._,children:jsxRuntimeExports.jsx("path",{d:"M1.2429 13V4.27273H7.02131V5.79403H3.08807V7.87358H6.63778V9.39489H3.08807V13H1.2429ZM8.67685 13H6.69957L9.71236 4.27273H12.0902L15.0987 13H13.1214L10.9354 6.26705H10.8672L8.67685 13ZM8.55327 9.5696H13.2237V11.0099H8.55327V9.5696ZM19.4847 4.27273V13H17.6396V6.02415H17.5884L15.5898 7.27699V5.64062L17.7504 4.27273H19.4847ZM22.1683 13.1108C21.8871 13.1108 21.6456 13.0114 21.4439 12.8125C21.245 12.6108 21.1456 12.3693 21.1456 12.0881C21.1456 11.8097 21.245 11.571 21.4439 11.3722C21.6456 11.1733 21.8871 11.0739 22.1683 11.0739C22.4411 11.0739 22.6797 11.1733 22.8842 11.3722C23.0888 11.571 23.1911 11.8097 23.1911 12.0881C23.1911 12.2756 23.1428 12.4474 23.0462 12.6037C22.9524 12.7571 22.8288 12.8807 22.6754 12.9744C22.522 13.0653 22.353 13.1108 22.1683 13.1108ZM24.6644 13V11.6705L27.771 8.79403C28.0352 8.53835 28.2567 8.30824 28.4357 8.10369C28.6175 7.89915 28.7553 7.69886 28.8491 7.50284C28.9428 7.30398 28.9897 7.08949 28.9897 6.85938C28.9897 6.60369 28.9315 6.38352 28.815 6.19886C28.6985 6.01136 28.5394 5.8679 28.3377 5.76847C28.136 5.66619 27.9073 5.61506 27.6516 5.61506C27.3846 5.61506 27.1516 5.66903 26.9528 5.77699C26.7539 5.88494 26.6005 6.03977 26.4925 6.24148C26.3846 6.44318 26.3306 6.68324 26.3306 6.96165H24.5792C24.5792 6.39062 24.7085 5.89489 24.967 5.47443C25.2255 5.05398 25.5877 4.72869 26.0536 4.49858C26.5195 4.26847 27.0565 4.15341 27.6644 4.15341C28.2894 4.15341 28.8335 4.2642 29.2965 4.4858C29.7624 4.70455 30.1246 5.00852 30.3832 5.39773C30.6417 5.78693 30.771 6.23295 30.771 6.7358C30.771 7.06534 30.7056 7.39062 30.5749 7.71165C30.4471 8.03267 30.2184 8.3892 29.8888 8.78125C29.5593 9.17045 29.0948 9.63778 28.4954 10.1832L27.2212 11.4318V11.4915H30.886V13H24.6644Z"})}),FA2Icon=_=>jsxRuntimeExports.jsx(Icon,{width:"23px",height:"18px",fill:colors.gray[450],viewBox:"0 0 23 18",xmlns:"http://www.w3.org/2000/svg",..._,children:jsxRuntimeExports.jsx("path",{d:"M1.0261 13V4.27273H6.80451V5.79403H2.87127V7.87358H6.42099V9.39489H2.87127V13H1.0261ZM8.46005 13H6.48278L9.49556 4.27273H11.8734L14.8819 13H12.9047L10.7186 6.26705H10.6504L8.46005 13ZM8.33647 9.5696H13.0069V11.0099H8.33647V9.5696ZM15.8812 13V11.6705L18.9877 8.79403C19.252 8.53835 19.4735 8.30824 19.6525 8.10369C19.8343 7.89915 19.9721 7.69886 20.0659 7.50284C20.1596 7.30398 20.2065 7.08949 20.2065 6.85938C20.2065 6.60369 20.1483 6.38352 20.0318 6.19886C19.9153 6.01136 19.7562 5.8679 19.5545 5.76847C19.3528 5.66619 19.1241 5.61506 18.8684 5.61506C18.6014 5.61506 18.3684 5.66903 18.1696 5.77699C17.9707 5.88494 17.8173 6.03977 17.7093 6.24148C17.6014 6.44318 17.5474 6.68324 17.5474 6.96165H15.796C15.796 6.39062 15.9252 5.89489 16.1838 5.47443C16.4423 5.05398 16.8045 4.72869 17.2704 4.49858C17.7363 4.26847 18.2733 4.15341 18.8812 4.15341C19.5062 4.15341 20.0502 4.2642 20.5133 4.4858C20.9792 4.70455 21.3414 5.00852 21.6 5.39773C21.8585 5.78693 21.9877 6.23295 21.9877 6.7358C21.9877 7.06534 21.9224 7.39062 21.7917 7.71165C21.6639 8.03267 21.4352 8.3892 21.1056 8.78125C20.7761 9.17045 20.3116 9.63778 19.7122 10.1832L18.438 11.4318V11.4915H22.1028V13H15.8812Z"})}),FacebookIcon=_=>jsxRuntimeExports.jsxs(Icon,{width:"28px",height:"28px",fill:"none","data-testid":"facebook-icon",viewBox:"0 0 28 28",xmlns:"http://www.w3.org/2000/svg",..._,children:[jsxRuntimeExports.jsx("path",{d:"M28 14.0856C28 6.30633 21.732 0 14 0C6.26801 0 0 6.30633 0 14.0856C0 21.1161 5.1196 26.9434 11.8125 28V18.1572H8.25781V14.0856H11.8125V10.9824C11.8125 7.45215 13.9026 5.50218 17.1005 5.50218C18.6322 5.50218 20.2344 5.77729 20.2344 5.77729V9.24367H18.469C16.7299 9.24367 16.1875 10.3294 16.1875 11.4434V14.0856H20.0703L19.4496 18.1572H16.1875V28C22.8804 26.9434 28 21.1161 28 14.0856Z",fill:"#1977F2",clipRule:"evenodd",fillRule:"evenodd"}),jsxRuntimeExports.jsx("path",{d:"M19.4496 18.0469L20.0703 14H16.1875V11.3738C16.1875 10.2667 16.7299 9.1875 18.469 9.1875H20.2344V5.74219C20.2344 5.74219 18.6322 5.46875 17.1005 5.46875C13.9026 5.46875 11.8125 7.40687 11.8125 10.9156V14H8.25781V18.0469H11.8125V27.8299C13.262 28.0567 14.738 28.0567 16.1875 27.8299V18.0469H19.4496Z",fill:"white",clipRule:"evenodd",fillRule:"evenodd"})]}),FetchingIcon=_=>jsxRuntimeExports.jsx(Icon,{width:"19px",height:"19px",fill:"none",stroke:colors.gray[400],viewBox:"0 0 19 19",xmlns:"http://www.w3.org/2000/svg",..._,children:jsxRuntimeExports.jsx("path",{d:"M15.7842 10.2916C15.8165 10.0323 15.8332 9.76807 15.8332 9.49996C15.8332 6.00216 12.9976 3.16663 9.49984 3.16663C7.52021 3.16663 5.75273 4.07488 4.59135 5.49742M3.2155 8.70829C3.18316 8.96764 3.1665 9.23185 3.1665 9.49996C3.1665 12.9978 6.00203 15.8333 9.49984 15.8333C11.3914 15.8333 13.0893 15.004 14.2498 13.6892M11.8748 13.4583H14.2498V13.6892M4.59135 3.16663V5.49742M4.59135 5.49742V5.54157L6.96635 5.54163M14.2498 15.8333V13.6892",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.2"})}),FileArrowDownIcon=_=>jsxRuntimeExports.jsx(Icon,{width:"18px",height:"18px",fill:"none",stroke:colors.gray[450],viewBox:"0 0 18 18",xmlns:"http://www.w3.org/2000/svg",..._,children:jsxRuntimeExports.jsx("path",{d:"M9 8.25V12.75M9 12.75L7.5 11.25M9 12.75L10.5 11.25M9.75 2.25H6.15C5.30992 2.25 4.88988 2.25 4.56901 2.41349C4.28677 2.5573 4.0573 2.78677 3.91349 3.06901C3.75 3.38988 3.75 3.80992 3.75 4.65V13.35C3.75 14.1901 3.75 14.6101 3.91349 14.931C4.0573 15.2132 4.28677 15.4427 4.56901 15.5865C4.88988 15.75 5.30992 15.75 6.15 15.75H11.85C12.6901 15.75 13.1101 15.75 13.431 15.5865C13.7132 15.4427 13.9427 15.2132 14.0865 14.931C14.25 14.6101 14.25 14.1901 14.25 13.35V6.75M9.75 2.25L14.25 6.75M9.75 2.25V5.55C9.75 5.97004 9.75 6.18006 9.83175 6.34049C9.90365 6.48161 10.0184 6.59635 10.1595 6.66825C10.3199 6.75 10.53 6.75 10.95 6.75H14.25",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.2"})}),FileCopyIcon=_=>jsxRuntimeExports.jsx(Icon,{width:"18px",height:"18px",fill:"none",viewBox:"0 0 18 18",xmlns:"http://www.w3.org/2000/svg",..._,children:jsxRuntimeExports.jsx("path",{d:"M11.25 2.25V4.8C11.25 5.22004 11.25 5.43006 11.3317 5.59049C11.4037 5.73161 11.5184 5.84635 11.6595 5.91825C11.8199 6 12.03 6 12.45 6H15M7.5 6H4.5C3.67157 6 3 6.67157 3 7.5V14.25C3 15.0784 3.67157 15.75 4.5 15.75H9C9.82843 15.75 10.5 15.0784 10.5 14.25V12M12 2.25H9.9C9.05992 2.25 8.63988 2.25 8.31901 2.41349C8.03677 2.5573 7.8073 2.78677 7.66349 3.06901C7.5 3.38988 7.5 3.80992 7.5 4.65V9.6C7.5 10.4401 7.5 10.8601 7.66349 11.181C7.8073 11.4632 8.03677 11.6927 8.31901 11.8365C8.63988 12 9.05992 12 9.9 12H12.6C13.4401 12 13.8601 12 14.181 11.8365C14.4632 11.6927 14.6927 11.4632 14.8365 11.181C15 10.8601 15 10.4401 15 9.6V5.25L12 2.25Z",strokeLinejoin:"round",strokeWidth:"1.2"})}),FlipForwardEnergy=_=>jsxRuntimeExports.jsx(Icon,{width:"18px",height:"18px",fill:"none",stroke:"black",viewBox:"0 0 18 18",xmlns:"http://www.w3.org/2000/svg",..._,children:jsxRuntimeExports.jsx("path",{d:"M2.95314 5.997C4.05824 3.77605 6.35091 2.25 9 2.25C12.4718 2.25 15.3314 4.87105 15.708 8.24231M2.2912 9.74998C2.66427 13.125 5.52558 15.75 9 15.75C11.6496 15.75 13.9427 14.2234 15.0475 12.0017M2.25 3V6.375H5.625M15.75 15.375V12H12.375M8.625 6.75L7.5 9H10.5L9.375 11.25",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.2"})}),FolderInfoIcon=_=>jsxRuntimeExports.jsx(Icon,{width:"24px",height:"24px",fill:"none",stroke:colors.gray[400],viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",..._,children:jsxRuntimeExports.jsx("path",{d:"M12 10H12.01M12 13V16M12.0627 6.06274L11.9373 5.93726C11.5914 5.59135 11.4184 5.4184 11.2166 5.29472C11.0376 5.18506 10.8425 5.10425 10.6385 5.05526C10.4083 5 10.1637 5 9.67452 5H6.2C5.0799 5 4.51984 5 4.09202 5.21799C3.71569 5.40973 3.40973 5.71569 3.21799 6.09202C3 6.51984 3 7.07989 3 8.2V15.8C3 16.9201 3 17.4802 3.21799 17.908C3.40973 18.2843 3.71569 18.5903 4.09202 18.782C4.51984 19 5.07989 19 6.2 19H17.8C18.9201 19 19.4802 19 19.908 18.782C20.2843 18.5903 20.5903 18.2843 20.782 17.908C21 17.4802 21 16.9201 21 15.8V10.2C21 9.0799 21 8.51984 20.782 8.09202C20.5903 7.71569 20.2843 7.40973 19.908 7.21799C19.4802 7 18.9201 7 17.8 7H14.3255C13.8363 7 13.5917 7 13.3615 6.94474C13.1575 6.89575 12.9624 6.81494 12.7834 6.70528C12.5816 6.5816 12.4086 6.40865 12.0627 6.06274Z",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.2"})}),GearIcon=_=>jsxRuntimeExports.jsxs(Icon,{width:"24px",height:"24px",fill:"none",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",..._,children:[jsxRuntimeExports.jsx("path",{d:"M15 12C15 13.6569 13.6569 15 12 15C10.3431 15 9 13.6569 9 12C9 10.3431 10.3431 9 12 9C13.6569 9 15 10.3431 15 12Z",stroke:colors.gray[450],strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.2"}),jsxRuntimeExports.jsx("path",{d:"M12.9046 3.06005C12.6988 3 12.4659 3 12 3C11.5341 3 11.3012 3 11.0954 3.06005C10.7942 3.14794 10.5281 3.32808 10.3346 3.57511C10.2024 3.74388 10.1159 3.96016 9.94291 4.39272C9.69419 5.01452 9.00393 5.33471 8.36857 5.123L7.79779 4.93281C7.3929 4.79785 7.19045 4.73036 6.99196 4.7188C6.70039 4.70181 6.4102 4.77032 6.15701 4.9159C5.98465 5.01501 5.83376 5.16591 5.53197 5.4677C5.21122 5.78845 5.05084 5.94882 4.94896 6.13189C4.79927 6.40084 4.73595 6.70934 4.76759 7.01551C4.78912 7.2239 4.87335 7.43449 5.04182 7.85566C5.30565 8.51523 5.05184 9.26878 4.44272 9.63433L4.16521 9.80087C3.74031 10.0558 3.52786 10.1833 3.37354 10.3588C3.23698 10.5141 3.13401 10.696 3.07109 10.893C3 11.1156 3 11.3658 3 11.8663C3 12.4589 3 12.7551 3.09462 13.0088C3.17823 13.2329 3.31422 13.4337 3.49124 13.5946C3.69158 13.7766 3.96395 13.8856 4.50866 14.1035C5.06534 14.3261 5.35196 14.9441 5.16236 15.5129L4.94721 16.1584C4.79819 16.6054 4.72367 16.829 4.7169 17.0486C4.70875 17.3127 4.77049 17.5742 4.89587 17.8067C5.00015 18.0002 5.16678 18.1668 5.5 18.5C5.83323 18.8332 5.99985 18.9998 6.19325 19.1041C6.4258 19.2295 6.68733 19.2913 6.9514 19.2831C7.17102 19.2763 7.39456 19.2018 7.84164 19.0528L8.36862 18.8771C9.00393 18.6654 9.6942 18.9855 9.94291 19.6073C10.1159 20.0398 10.2024 20.2561 10.3346 20.4249C10.5281 20.6719 10.7942 20.8521 11.0954 20.94C11.3012 21 11.5341 21 12 21C12.4659 21 12.6988 21 12.9046 20.94C13.2058 20.8521 13.4719 20.6719 13.6654 20.4249C13.7976 20.2561 13.8841 20.0398 14.0571 19.6073C14.3058 18.9855 14.9961 18.6654 15.6313 18.8773L16.1579 19.0529C16.605 19.2019 16.8286 19.2764 17.0482 19.2832C17.3123 19.2913 17.5738 19.2296 17.8063 19.1042C17.9997 18.9999 18.1664 18.8333 18.4996 18.5001C18.8328 18.1669 18.9994 18.0002 19.1037 17.8068C19.2291 17.5743 19.2908 17.3127 19.2827 17.0487C19.2759 16.8291 19.2014 16.6055 19.0524 16.1584L18.8374 15.5134C18.6477 14.9444 18.9344 14.3262 19.4913 14.1035C20.036 13.8856 20.3084 13.7766 20.5088 13.5946C20.6858 13.4337 20.8218 13.2329 20.9054 13.0088C21 12.7551 21 12.4589 21 11.8663C21 11.3658 21 11.1156 20.9289 10.893C20.866 10.696 20.763 10.5141 20.6265 10.3588C20.4721 10.1833 20.2597 10.0558 19.8348 9.80087L19.5569 9.63416C18.9478 9.26867 18.6939 8.51514 18.9578 7.85558C19.1262 7.43443 19.2105 7.22383 19.232 7.01543C19.2636 6.70926 19.2003 6.40077 19.0506 6.13181C18.9487 5.94875 18.7884 5.78837 18.4676 5.46762C18.1658 5.16584 18.0149 5.01494 17.8426 4.91583C17.5894 4.77024 17.2992 4.70174 17.0076 4.71872C16.8091 4.73029 16.6067 4.79777 16.2018 4.93273L15.6314 5.12287C14.9961 5.33464 14.3058 5.0145 14.0571 4.39272C13.8841 3.96016 13.7976 3.74388 13.6654 3.57511C13.4719 3.32808 13.2058 3.14794 12.9046 3.06005Z",stroke:colors.gray[450],strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.2"})]}),GoogleIcon=_=>jsxRuntimeExports.jsxs(Icon,{width:"24px",height:"24px",fill:"none","data-testid":"google-icon",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",..._,children:[jsxRuntimeExports.jsx("path",{d:"M23.5198 12.2729C23.5198 11.422 23.4435 10.6038 23.3016 9.81836H12V14.4601H18.4581C18.1799 15.9601 17.3345 17.231 16.0636 18.0819V21.0927H19.9417C22.2107 19.0037 23.5198 15.9274 23.5198 12.2729Z",fill:"#4285F4",clipRule:"evenodd",fillRule:"evenodd"}),jsxRuntimeExports.jsx("path",{d:"M12.0008 24.0011C15.2408 24.0011 17.9571 22.9266 19.9425 21.0939L16.0644 18.083C14.9899 18.803 13.6153 19.2284 12.0008 19.2284C8.8754 19.2284 6.22999 17.1176 5.28637 14.2812H1.27734V17.3903C3.25186 21.312 7.30997 24.0011 12.0008 24.0011Z",fill:"#34A853",clipRule:"evenodd",fillRule:"evenodd"}),jsxRuntimeExports.jsx("path",{d:"M5.28537 14.2803C5.04537 13.5603 4.90901 12.7912 4.90901 12.0003C4.90901 11.2094 5.04537 10.4404 5.28537 9.72037V6.61133H1.27634C0.463629 8.2313 0 10.064 0 12.0003C0 13.9367 0.463629 15.7694 1.27634 17.3893L5.28537 14.2803Z",fill:"#FBBC05",clipRule:"evenodd",fillRule:"evenodd"}),jsxRuntimeExports.jsx("path",{d:"M12.0008 4.77265C13.7626 4.77265 15.3444 5.3781 16.588 6.56717L20.0298 3.1254C17.9516 1.18907 15.2353 0 12.0008 0C7.30997 0 3.25186 2.68905 1.27734 6.6108L5.28637 9.71984C6.22999 6.88353 8.8754 4.77265 12.0008 4.77265Z",fill:"#EA4335",clipRule:"evenodd",fillRule:"evenodd"})]}),HelpIcon=_=>jsxRuntimeExports.jsx(Icon,{width:"24px",height:"24px",fill:"none",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",..._,children:jsxRuntimeExports.jsx("path",{d:"M18.3795 5.65166L14.1055 9.86303M9.89445 14.137L5.63994 18.3679M5.63408 5.63799L9.89445 9.86303M14.1056 14.137L18.364 18.364M21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12ZM15 12C15 13.6569 13.6569 15 12 15C10.3431 15 9 13.6569 9 12C9 10.3431 10.3431 9 12 9C13.6569 9 15 10.3431 15 12Z",stroke:colors.gray[450],strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.2"})}),HourglassIcon=_=>jsxRuntimeExports.jsx(Icon,{width:"18px",height:"18px",fill:"none",viewBox:"0 0 18 18",xmlns:"http://www.w3.org/2000/svg",..._,children:jsxRuntimeExports.jsx("path",{d:"M15 2.25H3M15 15.75H3M3.75 2.25C3.75 4.13267 4.65921 5.89944 6.1912 6.99371L11.8088 11.0063C13.3408 12.1006 14.25 13.8673 14.25 15.75M14.25 2.25C14.25 4.13267 13.3408 5.89944 11.8088 6.99371L6.1912 11.0063C4.65921 12.1006 3.75 13.8673 3.75 15.75",stroke:"#FB4F57",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.2"})}),OutgoingArrow=_=>jsxRuntimeExports.jsx(Icon,{width:"18px",height:"18px",fill:"none",stroke:colors.gray[450],"data-testid":"outgoing-arrow-icon",viewBox:"0 0 18 18",xmlns:"http://www.w3.org/2000/svg",..._,children:jsxRuntimeExports.jsx("path",{d:"M5.25 12.75L12.75 5.25M12.75 5.25H6M12.75 5.25V12",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.2"})}),IncomingArrow=_=>jsxRuntimeExports.jsx(OutgoingArrow,{css:{rotate:"180deg"},..._}),KeyIcon=_=>jsxRuntimeExports.jsx(Icon,{width:"18px",height:"18px",fill:"none",stroke:colors.gray[450],"data-testid":"key-icon",strokeWidth:"1.2",viewBox:"0 0 18 18",xmlns:"http://www.w3.org/2000/svg",..._,children:jsxRuntimeExports.jsx("path",{d:"M9.24092 8.01389L3 14.25L4.5 15.75M5.25 12L6.75 13.5M15 5.625C15 7.48896 13.489 9 11.625 9C9.76104 9 8.25 7.48896 8.25 5.625C8.25 3.76104 9.76104 2.25 11.625 2.25C13.489 2.25 15 3.76104 15 5.625Z",strokeLinecap:"round",strokeLinejoin:"round"})}),LedgerIcon=_=>jsxRuntimeExports.jsx(Icon,{width:"18px",height:"18px",fill:colors.gray[400],"data-testid":"ledger-icon",strokeWidth:"0",viewBox:"0 0 18 18",xmlns:"http://www.w3.org/2000/svg",..._,children:jsxRuntimeExports.jsx("path",{d:"M11.666 7.29183H12.3952V8.75016H9.47852V4.37516H10.9368L8.74935 1.4585L6.56185 4.37516H8.02018V10.2085H5.10352V8.54818C5.5381 8.29516 5.83268 7.82995 5.83268 7.29183C5.83268 6.90506 5.67904 6.53412 5.40555 6.26063C5.13206 5.98714 4.76112 5.8335 4.37435 5.8335C3.98757 5.8335 3.61664 5.98714 3.34315 6.26063C3.06966 6.53412 2.91602 6.90506 2.91602 7.29183C2.91602 7.82995 3.2106 8.29516 3.64518 8.54818V10.2085C3.64518 11.0128 4.29924 11.6668 5.10352 11.6668H8.02018V13.3271C7.79896 13.454 7.61508 13.6369 7.48707 13.8575C7.35906 14.0781 7.29143 14.3285 7.29102 14.5835C7.29102 14.9703 7.44466 15.3412 7.71815 15.6147C7.99164 15.8882 8.36257 16.0418 8.74935 16.0418C9.13612 16.0418 9.50706 15.8882 9.78055 15.6147C10.054 15.3412 10.2077 14.9703 10.2077 14.5835C10.2077 14.0454 9.9131 13.5802 9.47852 13.3271V10.2085H12.3952C13.1995 10.2085 13.8535 9.55443 13.8535 8.75016V7.29183H14.5827V4.37516H11.666V7.29183Z"})}),LinkIcon=_=>jsxRuntimeExports.jsx(Icon,{width:"24px",height:"24px",fill:"none",stroke:colors.gray[450],viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",..._,children:jsxRuntimeExports.jsx("path",{d:"M9.16586 17.6508C8.9261 17.8747 8.74055 18.0245 8.55093 18.134C7.62273 18.6699 6.47914 18.6699 5.55093 18.134C5.20889 17.9365 4.88009 17.6077 4.22251 16.9501C3.56492 16.2925 3.23612 15.9637 3.03864 15.6217C2.50274 14.6935 2.50274 13.5499 3.03864 12.6217C3.23612 12.2797 3.56492 11.9509 4.2225 11.2933L7.05093 8.46484C7.70852 7.80725 8.03732 7.47846 8.37936 7.28098C9.30756 6.74508 10.4512 6.74508 11.3794 7.28098C11.7214 7.47846 12.0502 7.80725 12.7078 8.46484C13.3654 9.12243 13.6942 9.45123 13.8916 9.79327C14.4275 10.7215 14.4275 11.8651 13.8916 12.7933C13.7822 12.9829 13.6323 13.1684 13.4085 13.4082M10.5929 10.5926C10.369 10.8323 10.2192 11.0179 10.1097 11.2075C9.57381 12.1357 9.57381 13.2793 10.1097 14.2075C10.3072 14.5495 10.636 14.8783 11.2936 15.5359C11.9512 16.1935 12.28 16.5223 12.622 16.7198C13.5502 17.2557 14.6938 17.2557 15.622 16.7198C15.964 16.5223 16.2928 16.1935 16.9504 15.5359L19.7789 12.7075C20.4364 12.0499 20.7652 11.7211 20.9627 11.3791C21.4986 10.4509 21.4986 9.30726 20.9627 8.37906C20.7652 8.03701 20.4364 7.70822 19.7789 7.05063C19.1213 6.39304 18.7925 6.06425 18.4504 5.86677C17.5222 5.33087 16.3786 5.33087 15.4504 5.86677C15.2608 5.97625 15.0753 6.12608 14.8355 6.34992",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.2"})}),LockIcon=_=>jsxRuntimeExports.jsx(Icon,{width:"24px",height:"24px",fill:"none",stroke:colors.gray[450],viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",..._,children:jsxRuntimeExports.jsx("path",{d:"M12 14.5V16.5M7 10.0288C7.47142 10 8.05259 10 8.8 10H15.2C15.9474 10 16.5286 10 17 10.0288M7 10.0288C6.41168 10.0647 5.99429 10.1455 5.63803 10.327C5.07354 10.6146 4.6146 11.0735 4.32698 11.638C4 12.2798 4 13.1198 4 14.8V16.2C4 17.8802 4 18.7202 4.32698 19.362C4.6146 19.9265 5.07354 20.3854 5.63803 20.673C6.27976 21 7.11984 21 8.8 21H15.2C16.8802 21 17.7202 21 18.362 20.673C18.9265 20.3854 19.3854 19.9265 19.673 19.362C20 18.7202 20 17.8802 20 16.2V14.8C20 13.1198 20 12.2798 19.673 11.638C19.3854 11.0735 18.9265 10.6146 18.362 10.327C18.0057 10.1455 17.5883 10.0647 17 10.0288M7 10.0288V8C7 5.23858 9.23858 3 12 3C14.7614 3 17 5.23858 17 8V10.0288",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.2"})}),MaintenanceIcon=_=>jsxRuntimeExports.jsx(Icon,{width:"18px",height:"18px",fill:"none",stroke:"black",viewBox:"0 0 18 18",xmlns:"http://www.w3.org/2000/svg",..._,children:jsxRuntimeExports.jsx("path",{d:"M12.182 5.81859C13.9393 7.57595 13.9393 10.4252 12.182 12.1825M5.81802 12.1825C4.06066 10.4252 4.06066 7.57592 5.81802 5.81856M3.6967 14.3039C0.767767 11.3749 0.767767 6.6262 3.6967 3.69727M14.3033 3.6973C17.2322 6.62623 17.2322 11.375 14.3033 14.3039M10.5 9.00057C10.5 9.82899 9.82843 10.5006 9 10.5006C8.17157 10.5006 7.5 9.82899 7.5 9.00057C7.5 8.17214 8.17157 7.50057 9 7.50057C9.82843 7.50057 10.5 8.17214 10.5 9.00057Z",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.2"})}),MakiIcon=({fishColor:_,...a})=>jsxRuntimeExports.jsxs(Icon,{width:"38px",height:"38px",fill:"none",viewBox:"0 0 38 38",xmlns:"http://www.w3.org/2000/svg",...a,children:[jsxRuntimeExports.jsx("path",{d:"M34.9985 26.2751C34.6599 26.8629 34.2436 27.4106 33.7512 27.9032C32.2815 29.3727 30.3277 30.1819 28.2496 30.1819H24.8477V34.9996H26.8032H28.2497C30.0524 34.9996 31.7472 34.2976 33.022 33.0229C34.2967 31.7481 34.9986 30.0533 34.9985 28.2507V26.2751Z",fill:"black"}),jsxRuntimeExports.jsx("path",{d:"M34.9989 20.9441C34.6603 21.5318 34.2439 22.0796 33.7514 22.572C32.2819 24.0416 30.328 24.8509 28.2499 24.8509H18.9983C17.8104 24.8511 16.8477 25.814 16.8477 27.0019C16.8477 28.1898 17.8104 29.1528 18.9983 29.153H28.25C30.0526 29.153 31.7474 28.4511 33.0222 27.1763C34.2965 25.902 34.9986 24.2076 34.9989 22.4054V20.9441ZM18.9988 27.8361C18.5381 27.8361 18.1645 27.4626 18.1645 27.0018C18.1645 26.5412 18.5381 26.1675 18.9988 26.1675C19.4596 26.1675 19.8331 26.5412 19.8331 27.0018C19.8331 27.4626 19.4596 27.8361 18.9988 27.8361Z",fill:"black"}),jsxRuntimeExports.jsx("path",{d:"M35 9.74895C35 6.02751 31.9724 3 28.2509 3H9.74908C6.02761 3 3 6.02751 3 9.74895V28.2511C3 31.9725 6.02761 35 9.74899 35H23.8176V30.1824H18.9995C17.2418 30.1824 15.8171 28.7576 15.8171 27.0001C15.8171 25.2426 17.2418 23.8179 18.9995 23.8179H23.8176V18.9998H9.74899C6.5911 18.9998 4.03113 16.4402 4.03113 13.2824V9.74905C4.03113 6.59127 6.5911 4.03131 9.74899 4.03131H28.2508C31.4087 4.03131 33.9686 6.59127 33.9686 9.74905V13.2824C33.9686 16.4403 31.4089 19.0001 28.251 19.0001L24.8491 18.9998V23.8179H28.2511C30.0539 23.8179 31.7487 23.1159 33.0233 21.8411C34.2977 20.5668 34.9997 18.8725 35 17.0703V9.74895Z",fill:"black"}),jsxRuntimeExports.jsx("path",{d:"M28.251 4.03174C31.4088 4.03174 33.9687 6.59167 33.9687 9.74952V13.2828C33.9687 16.4406 31.4089 19.0005 28.2511 19.0005L9.74908 19.0003C6.59124 19.0003 4.03125 16.4406 4.03125 13.2829V9.74954C4.03125 6.59167 6.5912 4.03174 9.74908 4.03174H28.251Z",fill:"white"}),jsxRuntimeExports.jsx("path",{d:"M28.2511 6.73267C29.611 6.73267 30.7641 7.6364 31.1394 8.87525C31.1926 9.05118 31.0527 9.22558 30.869 9.21814C28.2867 9.11348 25.877 8.32896 23.8154 7.038C23.6751 6.95014 23.739 6.73267 23.9045 6.73267H28.2511Z",fill:_}),jsxRuntimeExports.jsx("path",{d:"M21.9973 7.02488C24.4283 8.9081 27.4326 10.0842 30.7 10.2428C31.0172 10.2581 31.2679 10.5166 31.2679 10.8342V12.8702C31.2674 12.9124 31.2661 13.0446 31.2638 13.1857C31.2603 13.4148 31.069 13.5949 30.8401 13.5876C25.3913 13.4117 20.5215 10.9067 17.1937 7.03888C17.0905 6.91878 17.175 6.73267 17.3334 6.73267H21.1443C21.4533 6.73267 21.753 6.83569 21.9973 7.02488Z",fill:_}),jsxRuntimeExports.jsx("path",{d:"M15.9653 7.17305C19.4649 11.5395 24.7681 14.4013 30.735 14.6156C30.8376 14.6193 30.9004 14.7309 30.8481 14.8191C30.3219 15.7056 29.3544 16.3012 28.2505 16.3012H23.1255C22.9317 16.3012 22.7392 16.2646 22.5603 16.1899C18.0848 14.3242 14.3146 11.0926 11.7745 7.01866C11.6968 6.89417 11.7878 6.73267 11.9345 6.73267H15.0503C15.4065 6.73267 15.7426 6.89513 15.9653 7.17305Z",fill:_}),jsxRuntimeExports.jsx("path",{d:"M9.75058 6.73267H10.1145C10.294 6.73267 10.4589 6.82889 10.5496 6.98379C12.776 10.7844 16.0081 13.9276 19.8791 16.0439C20.0039 16.1122 19.9556 16.3012 19.8134 16.3012H15.1194C14.5651 16.3012 14.0261 16.1087 13.6043 15.7491C11.1433 13.6507 9.05479 11.1267 7.45371 8.29236C7.34983 8.10846 7.3762 7.87733 7.51835 7.72112C8.07107 7.11383 8.86658 6.73267 9.75058 6.73267Z",fill:_}),jsxRuntimeExports.jsx("path",{d:"M12.3071 15.9829C12.4313 16.0951 12.3514 16.3013 12.184 16.3013H9.71437C8.06547 16.2829 6.73047 14.9363 6.73047 13.2836V9.7504L6.73065 9.54576C6.73077 9.42446 6.89048 9.37962 6.95305 9.48354C8.41152 11.9061 10.2194 14.096 12.3071 15.9829Z",fill:_})]}),NoticeIcon=_=>jsxRuntimeExports.jsx(Icon,{width:"24px",height:"24px",fill:"none",stroke:colors.gray[450],viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",..._,children:jsxRuntimeExports.jsx("path",{d:"M12 8H12.01M12 11V16M21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12Z",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.2"})}),OutlineExclamationCircleIcon=_=>jsxRuntimeExports.jsx(Icon,{width:"16px",height:"16px",fill:"none",stroke:colors.gray[450],viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",..._,children:jsxRuntimeExports.jsx("path",{d:"M8 5V8.75M8 11H8.0075M14.75 8C14.75 11.7279 11.7279 14.75 8 14.75C4.27208 14.75 1.25 11.7279 1.25 8C1.25 4.27208 4.27208 1.25 8 1.25C11.7279 1.25 14.75 4.27208 14.75 8Z",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.2"})}),PenIcon=_=>jsxRuntimeExports.jsx(Icon,{width:"18px",height:"18px",fill:"none",stroke:colors.gray[450],viewBox:"0 0 18 18",xmlns:"http://www.w3.org/2000/svg",..._,children:jsxRuntimeExports.jsx("path",{d:"M11.3348 4.66483L13.2208 6.55082M3 15L3.03164 14.7785C3.1436 13.9948 3.19958 13.6029 3.32692 13.2371C3.43992 12.9124 3.59428 12.6037 3.78619 12.3185C4.00247 11.9971 4.28237 11.7172 4.84218 11.1574L12.609 3.3906C13.1298 2.8698 13.9742 2.8698 14.495 3.3906C15.0158 3.9114 15.0158 4.75578 14.495 5.27658L6.58565 13.1859C6.07779 13.6938 5.82386 13.9477 5.53462 14.1497C5.27789 14.3289 5.001 14.4774 4.70965 14.5921C4.3814 14.7213 4.02937 14.7923 3.32535 14.9344L3 15Z",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.2"})}),PlusIcon=_=>jsxRuntimeExports.jsx(Icon,{width:"24px",height:"24px",fill:"none",stroke:colors.gray[300],viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",..._,children:jsxRuntimeExports.jsx("path",{d:"M4 12H20M12 4V20",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.2"})}),RedditIcon=_=>jsxRuntimeExports.jsxs(Icon,{width:"24px",height:"24px",fill:"none","data-testid":"reddit-icon",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",..._,children:[jsxRuntimeExports.jsx("path",{d:"M12 0C5.37281 0 0 5.37281 0 12C0 15.3141 1.34344 18.3141 3.51469 20.4853L1.22906 22.7709C0.775312 23.2247 1.09688 24 1.73813 24H12C18.6272 24 24 18.6272 24 12C24 5.37281 18.6272 0 12 0Z",fill:"#FF4500"}),jsxRuntimeExports.jsx("path",{d:"M14.4414 5.65922C14.6495 6.54141 15.4417 7.19859 16.3877 7.19859C17.492 7.19859 18.3873 6.30328 18.3873 5.19891C18.3873 4.09453 17.492 3.19922 16.3877 3.19922C15.422 3.19922 14.6167 3.88359 14.4292 4.79391C12.812 4.96734 11.5492 6.33891 11.5492 8.00109C11.5492 8.00484 11.5492 8.00766 11.5492 8.01141C9.79047 8.08547 8.18453 8.58609 6.90953 9.37641C6.43609 9.00984 5.84172 8.79141 5.19672 8.79141C3.64891 8.79141 2.39453 10.0458 2.39453 11.5936C2.39453 12.7167 3.05453 13.6842 4.00797 14.1314C4.10078 17.3845 7.64547 20.0011 12.0058 20.0011C16.3661 20.0011 19.9155 17.3817 20.0036 14.1258C20.9495 13.6758 21.6039 12.7111 21.6039 11.5945C21.6039 10.0467 20.3495 8.79234 18.8017 8.79234C18.1595 8.79234 17.568 9.00891 17.0955 9.37266C15.8092 8.57672 14.1855 8.07609 12.4089 8.00953C12.4089 8.00672 12.4089 8.00484 12.4089 8.00203C12.4089 6.81141 13.2939 5.82328 14.4414 5.66109V5.65922ZM6.79703 13.372C6.84391 12.3558 7.51891 11.5758 8.30359 11.5758C9.08828 11.5758 9.68828 12.3998 9.64141 13.4161C9.59453 14.4323 9.00859 14.8017 8.22297 14.8017C7.43734 14.8017 6.75016 14.3883 6.79703 13.372ZM15.7089 11.5758C16.4945 11.5758 17.1695 12.3558 17.2155 13.372C17.2623 14.3883 16.5742 14.8017 15.7895 14.8017C15.0048 14.8017 14.418 14.4333 14.3711 13.4161C14.3242 12.3998 14.9233 11.5758 15.7089 11.5758ZM14.7752 15.7233C14.9223 15.7383 15.0161 15.8911 14.9589 16.028C14.4761 17.182 13.3361 17.993 12.0058 17.993C10.6755 17.993 9.53641 17.182 9.05266 16.028C8.99547 15.8911 9.08922 15.7383 9.23641 15.7233C10.0989 15.6361 11.0317 15.5883 12.0058 15.5883C12.9798 15.5883 13.9117 15.6361 14.7752 15.7233Z",fill:"white"})]}),RefreshClockIcon=_=>jsxRuntimeExports.jsx(Icon,{width:"18",height:"18",fill:"none",stroke:colors.gray[450],viewBox:"0 0 18 18",xmlns:"http://www.w3.org/2000/svg",..._,children:jsxRuntimeExports.jsx("path",{d:"M3 9C3 12.3137 5.68629 15 9 15C12.3137 15 15 12.3137 15 9C15 5.68629 12.3137 3 9 3C7.20796 3 5.59942 3.78563 4.5 5.03126C4.43696 5.10268 4.3756 5.17562 4.31597 5.25M9 6V9L10.875 10.875M4.31543 3.00293V5.25293H6.56543",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.2"})}),ReloadIcon=_=>jsxRuntimeExports.jsx(Icon,{width:"22px",height:"22px",strokeWidth:"0",viewBox:"0 0 22 22",xmlns:"http://www.w3.org/2000/svg",..._,children:jsxRuntimeExports.jsx("path",{d:"M16.1791 5.82018C15.5007 5.13713 14.6938 4.59511 13.8049 4.22539C12.916 3.85568 11.9627 3.66556 10.9999 3.66602C6.94828 3.66602 3.67578 6.94768 3.67578 10.9993C3.67578 15.051 6.94828 18.3327 10.9999 18.3327C14.4191 18.3327 17.2699 15.9952 18.0858 12.8327H16.1791C15.8015 13.9047 15.1005 14.8332 14.1728 15.4899C13.2452 16.1467 12.1366 16.4994 10.9999 16.4993C7.96578 16.4993 5.49995 14.0335 5.49995 10.9993C5.49995 7.96518 7.96578 5.49935 10.9999 5.49935C12.5216 5.49935 13.8783 6.13185 14.8683 7.13102L11.9166 10.0827H18.3333V3.66602L16.1791 5.82018Z"})}),RotateIcon=_=>jsxRuntimeExports.jsx(Icon,{width:"24px",height:"24px",fill:"none",stroke:colors.gray[450],"data-testid":"rotate-icon",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",..._,children:jsxRuntimeExports.jsx("path",{d:"M12.5 18.5C17.1944 18.5 21 14.6944 21 10C21 5.30558 17.1944 1.5 12.5 1.5C7.80558 1.5 4 5.30558 4 10C4 11.5433 4.41128 12.9905 5.13022 14.238M1.5 13L5.13022 14.238M6.82531 10.3832L5.47107 14.3542L5.13022 14.238",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.2"})}),SlashIcon=_=>jsxRuntimeExports.jsx(Icon,{width:"24px",height:"24px",fill:"none",stroke:colors.gray[450],viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",..._,children:jsxRuntimeExports.jsx("path",{d:"M16 3L8 21",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.2"})}),SlidersIcon=_=>jsxRuntimeExports.jsx(Icon,{width:"32px",height:"32px",fill:"none",stroke:colors.gray[450],viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg",..._,children:jsxRuntimeExports.jsx("path",{d:"M16 7.33333C16 9.17428 14.5076 10.6667 12.6667 10.6667C10.8257 10.6667 9.33333 9.17428 9.33333 7.33333M16 7.33333C16 5.49238 14.5076 4 12.6667 4C10.8257 4 9.33333 5.49238 9.33333 7.33333M16 7.33333H28M9.33333 7.33333H4M25.3333 16C25.3333 17.8409 23.8409 19.3333 22 19.3333C20.1591 19.3333 18.6667 17.8409 18.6667 16M25.3333 16C25.3333 14.1591 23.8409 12.6667 22 12.6667C20.1591 12.6667 18.6667 14.1591 18.6667 16M25.3333 16H28M18.6667 16H4M13.3333 24.6667C13.3333 26.5076 11.8409 28 10 28C8.15905 28 6.66667 26.5076 6.66667 24.6667M13.3333 24.6667C13.3333 22.8257 11.8409 21.3333 10 21.3333C8.15905 21.3333 6.66667 22.8257 6.66667 24.6667M13.3333 24.6667H28M6.66667 24.6667H4",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.2"})}),TezIcon=_=>jsxRuntimeExports.jsxs(Icon,{width:"30px",height:"30px",fill:"none","data-testid":"tez-icon",viewBox:"0 0 30 30",..._,children:[jsxRuntimeExports.jsx("rect",{width:"30",height:"30",fill:"white",rx:"4"}),jsxRuntimeExports.jsx("rect",{width:"30",height:"30",fill:"url(#pattern0)",rx:"4"}),jsxRuntimeExports.jsxs("defs",{children:[jsxRuntimeExports.jsx("pattern",{width:"1",height:"1",id:"pattern0",patternContentUnits:"objectBoundingBox",children:jsxRuntimeExports.jsx("use",{transform:"translate(0.1753 0.101557) scale(0.00532296)",xlinkHref:"#image0_2912_38337"})}),jsxRuntimeExports.jsx("image",{width:"122",height:"150",id:"image0_2912_38337",xlinkHref:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHoAAACWCAYAAAAR35wdAAAMP2lDQ1BJQ0MgUHJvZmlsZQAASImVVwdYU8kWnluSkEBooUsJvQkiNYCUEFrovdkISYBQYgwEFXtZVHDtogI2dFVEwQqIBUUUC4ti74sFFWVdLNiVNymg677yvfm+ufPff87858y5M/feAUDtBEckykPVAcgXForjQgLoKalpdNJTQAS6gAyUgTOHWyBixsREAFiG2r+Xd9cBIm2vOEi1/tn/X4sGj1/ABQCJgTiDV8DNh/ggAHgVVyQuBIAo5c2nFIqkGFagJYYBQrxIirPkuEqKM+R4r8wmIY4FcRsASiocjjgLANVLkKcXcbOghmo/xE5CnkAIgBodYt/8/Ek8iNMhtoE2Ioil+oyMH3Sy/qaZMazJ4WQNY/lcZEUpUFAgyuNM+z/T8b9Lfp5kyIcVrCrZ4tA46Zxh3m7mTgqXYhWI+4QZUdEQa0L8QcCT2UOMUrIloYlye9SQW8CCOQM6EDvxOIHhEBtCHCzMi4pQ8BmZgmA2xHCFoFMFhewEiPUgXsQvCIpX2GwWT4pT+EIbMsUspoI/yxHL/Ep93ZfkJjIV+q+z+WyFPqZanJ2QDDEFYosiQVIUxKoQOxbkxocrbMYUZ7OihmzEkjhp/BYQx/GFIQFyfawoUxwcp7AvzS8Ymi+2OVvAjlLg/YXZCaHy/GBtXI4sfjgX7BJfyEwc0uEXpEQMzYXHDwySzx17xhcmxit0PogKA+LkY3GKKC9GYY+b8fNCpLwZxK4FRfGKsXhSIVyQcn08U1QYkyCPEy/O4YTFyOPBl4MIwAKBgA4ksGaASSAHCDr7GvvgnbwnGHCAGGQBPnBQMEMjkmU9QniNB8XgT4j4oGB4XICslw+KIP91mJVfHUCmrLdINiIXPIE4H4SDPHgvkY0SDntLAo8hI/iHdw6sXBhvHqzS/n/PD7HfGSZkIhSMZMgjXW3IkhhEDCSGEoOJtrgB7ot74xHw6g+rM87APYfm8d2e8ITQRXhIuEboJtyaKJgn/inKSNAN9YMVucj4MRe4FdR0wwNwH6gOlXEd3AA44K7QDxP3g57dIMtSxC3NCv0n7b/N4IenobAjO5FRsi7Zn2zz80hVO1W3YRVprn/MjzzWjOF8s4Z7fvbP+iH7PNiG/2yJLcIOYO3YSewcdhRrBHSsBWvCOrBjUjy8uh7LVteQtzhZPLlQR/APf0NPVprJAqdap16nL/K+Qv5U6TsasCaJpokFWdmFdCb8IvDpbCHXcSTd2cnZBQDp90X++noTK/tuIDod37n5fwDg0zI4OHjkOxfWAsA+D7j9D3/nbBjw06EMwNnDXIm4SM7h0gsBviXU4E7TB8bAHNjA+TgDd+AN/EEQCAPRIAGkggkw+my4zsVgCpgB5oISUAaWgzWgAmwCW8FOsAfsB43gKDgJzoAL4BK4Bu7A1dMDXoB+8A58RhCEhFARGqKPmCCWiD3ijDAQXyQIiUDikFQkHclChIgEmYHMR8qQlUgFsgWpQfYhh5GTyDmkC7mFPEB6kdfIJxRDVVAt1Ai1QkehDJSJhqMJ6Hg0C52MFqML0KXoOrQa3Y02oCfRC+g1tBt9gQ5gAFPGdDBTzAFjYCwsGkvDMjExNgsrxcqxaqwOa4bP+QrWjfVhH3EiTsPpuANcwaF4Is7FJ+Oz8CV4Bb4Tb8Db8Cv4A7wf/0agEgwJ9gQvApuQQsgiTCGUEMoJ2wmHCKfhXuohvCMSiTpEa6IH3IupxBzidOIS4gZiPfEEsYv4iDhAIpH0SfYkH1I0iUMqJJWQ1pN2k1pIl0k9pA9KykomSs5KwUppSkKleUrlSruUjitdVnqq9JmsTrYke5GjyTzyNPIy8jZyM/kiuYf8maJBsab4UBIoOZS5lHWUOsppyl3KG2VlZTNlT+VYZYHyHOV1ynuVzyo/UP6ooqlip8JSGaciUVmqskPlhMotlTdUKtWK6k9NoxZSl1JrqKeo96kfVGmqjqpsVZ7qbNVK1QbVy6ov1chqlmpMtQlqxWrlagfULqr1qZPVrdRZ6hz1WeqV6ofVb6gPaNA0RmtEa+RrLNHYpXFO45kmSdNKM0iTp7lAc6vmKc1HNIxmTmPRuLT5tG2007QeLaKWtRZbK0erTGuPVqdWv7amtqt2kvZU7UrtY9rdOpiOlQ5bJ09nmc5+nes6n3SNdJm6fN3FunW6l3Xf643Q89fj65Xq1etd0/ukT9cP0s/VX6HfqH/PADewM4g1mGKw0eC0Qd8IrRHeI7gjSkfsH3HbEDW0M4wznG641bDDcMDI2CjESGS03uiUUZ+xjrG/cY7xauPjxr0mNBNfE4HJapMWk+d0bTqTnkdfR2+j95samoaaSky3mHaafjazNks0m2dWb3bPnGLOMM80X23eat5vYWIRaTHDotbitiXZkmGZbbnWst3yvZW1VbLVQqtGq2fWetZs62LrWuu7NlQbP5vJNtU2V22JtgzbXNsNtpfsUDs3u2y7SruL9qi9u73AfoN910jCSM+RwpHVI284qDgwHYocah0eOOo4RjjOc2x0fDnKYlTaqBWj2kd9c3JzynPa5nRntObosNHzRjePfu1s58x1rnS+6kJ1CXaZ7dLk8srV3pXvutH1phvNLdJtoVur21d3D3exe517r4eFR7pHlccNhhYjhrGEcdaT4BngOdvzqOdHL3evQq/9Xn95O3jneu/yfjbGegx/zLYxj3zMfDg+W3y6fem+6b6bfbv9TP04ftV+D/3N/Xn+2/2fMm2ZOczdzJcBTgHigEMB71lerJmsE4FYYEhgaWBnkGZQYlBF0P1gs+Cs4Nrg/hC3kOkhJ0IJoeGhK0JvsI3YXHYNuz/MI2xmWFu4Snh8eEX4wwi7CHFEcyQaGRa5KvJulGWUMKoxGkSzo1dF34uxjpkccySWGBsTWxn7JG503Iy49nha/MT4XfHvEgISliXcSbRJlCS2JqkljUuqSXqfHJi8Mrk7ZVTKzJQLqQapgtSmNFJaUtr2tIGxQWPXjO0Z5zauZNz18dbjp44/N8FgQt6EYxPVJnImHkgnpCen70r/wonmVHMGMtgZVRn9XBZ3LfcFz5+3mtfL9+Gv5D/N9MlcmfksyydrVVZvtl92eXafgCWoELzKCc3ZlPM+Nzp3R+5gXnJefb5Sfnr+YaGmMFfYNsl40tRJXSJ7UYmoe7LX5DWT+8Xh4u0FSMH4gqZCLfgj3yGxkfwieVDkW1RZ9GFK0pQDUzWmCqd2TLObtnja0+Lg4t+m49O501tnmM6YO+PBTObMLbOQWRmzWmebz14wu2dOyJydcylzc+f+Ps9p3sp5b+cnz29eYLRgzoJHv4T8UluiWiIuubHQe+GmRfgiwaLOxS6L1y/+VsorPV/mVFZe9mUJd8n5X0f/uu7XwaWZSzuXuS/buJy4XLj8+gq/FTtXaqwsXvloVeSqhtX01aWr366ZuOZcuWv5prWUtZK13esi1jWtt1i/fP2XiuyKa5UBlfVVhlWLq95v4G24vNF/Y90mo01lmz5tFmy+uSVkS0O1VXX5VuLWoq1PtiVta/+N8VvNdoPtZdu/7hDu6N4Zt7OtxqOmZpfhrmW1aK2ktnf3uN2X9gTuaapzqNtSr1Nfthfslex9vi993/X94ftbDzAO1B20PFh1iHaotAFpmNbQ35jd2N2U2tR1OOxwa7N386Ejjkd2HDU9WnlM+9iy45TjC44PthS3DJwQneg7mXXyUevE1junUk5dbYtt6zwdfvrsmeAzp9qZ7S1nfc4ePed17vB5xvnGC+4XGjrcOg797vb7oU73zoaLHhebLnleau4a03X8st/lk1cCr5y5yr564VrUta7riddv3hh3o/sm7+azW3m3Xt0uuv35zpy7hLul99Tvld83vF/9h+0f9d3u3cceBD7oeBj/8M4j7qMXjwsef+lZ8IT6pPypydOaZ87PjvYG9156PvZ5zwvRi899JX9q/Fn10ublwb/8/+roT+nveSV+Nfh6yRv9Nzveur5tHYgZuP8u/93n96Uf9D/s/Mj42P4p+dPTz1O+kL6s+2r7tflb+Le7g/mDgyKOmCP7FcBgRTMzAXi9AwBqKgA0eD6jjJWf/2QFkZ9ZZQj8Jyw/I8qKOwB18P89tg/+3dwAYO82ePyC+mrjAIihApDgCVAXl+E6dFaTnSulhQjPAZujvmbkZ4B/U+Rnzh/i/rkFUlVX8HP7L34RfGukfYUwAAAAOGVYSWZNTQAqAAAACAABh2kABAAAAAEAAAAaAAAAAAACoAIABAAAAAEAAAB6oAMABAAAAAEAAACWAAAAAGjynq0AABD3SURBVHgB7V0JcFXVGf7Pey8QEnCp2ta97rYuHRW0VqkLilapSm1MAgVCwLQ4WrRDq6gVHWt1Ojpt1cEOkhBAshgqFRe6WIvLWHEsMxW07tS1xVYQRba8906/88gN9yU3efcs797zknOHcO899/z/+f//O//Zz3lE7nIWcBZwFnAWcBZwFnAWcBaIzQIstpRDJlzVwHcv66RvZBmdzBiNIk5HtzaxI0OSu2hdFkjZZIm6Ol6+JUknJQigchrFBbgZOowjwJcjP7VJ5lKRJTagq6p4sqySjssmaBQ89WQOYLcRHZskwj9cQNYHbqnY01o5IwO6aho/PJVF0StA3VkEn4j7MA9MgO2uIlqgaEDX1PHRLEnnoU4dCflPxd9uhCJYXDlMFYFF5uA7ubj/ZSxQNKBZgm6FIGeYLn9RdytmERmzDLy4XT428BRzGuVbwAGdb48B+1Y0oNHXPbO1kbHUDhpOWZqEivV1E1Z0dbSaFSOt72qn8Vsg5k1qou6kQobZ1NbI9tDhMRhpi+bRQcaEh89Bm/mPQd9cWHEtECnQQhW0xu8urkqOe5AFIgd66w5aFSRI2DDXvQprqfx4kQO9bBH7GPXs5nwxwr+5xlh4W/ljRg50V+I7/ELIPDuPlrHWrrhxAb1LAvcUiQUc0JGYOf5EHNDxYxCJBA7oSMwcfyIO6PgxiEQCB3QkZo4/EQd0/BhEIoEDOhIzx5+IAzp+DCKRwAEdiZnjT8QBHT8GkUgQeuHBRfV8RCXROizN2ysSyfpLhNNT/X0eiN/EZA42M8xobWavqugXehVoRRYAJy0AWWjJsLp0kF05j0xSLdSeo6J66KI7k3LLbFUMbJIG07tlqvxCA62agKOzwwKhgU6m3Q6J2CHjtFVVhtBAu6Jb1cSG6Dg9uamSfqnKLTTQqgk4OgMWAMifVNIFK+5h21W5OaBVLRcVHadndUEWoobuXnWmaWMyQWIBvvaFLbI/ApM9VRlhL7UROVTTl6JjNARdo9lSNF5kjBdsTul5sscq1z3zXqK610zjbyLhw1TTa20UG3CxTNDyq6GBl32aoeXQ9XxpUeHJ6c9obEcHU26A+dN0RbffGgafxYkOtoAs1HJAGwTXYyVATo6gh2zwZE8mB7RnCUP3bpAZXSTN0nBx7U/fAe23hubzzTfzRM6TLQNZqOWA1gTXIxcgv/outaNHYZUne/I5oD1LaN056wL5e9Jsilhc+2UJ3Y/2E7lnvwU4q62nxZjbkwYZ4wGrMga7UH6pej47j+5pEan3bpAnSpEhsgAZR1+OMdVPLpS+A7qQhfr53uXJyiAvXsw+74e90U+u6FY0J0b3GkFaEiALFZ1HKwAtQMZgSL0sqVdcR+nJnowOaM8SIe+lCLJQzQEdEmARDSDPLTVP9tRzQHuWKHDvAnlGgWi9PsdZXPuFcY0xvzX6eK6t57/Cp5IFWajlPLoPcL3gHMiMrvbew95t8WRPXge0Z4mAuwbIq8VgSByt6wA1ckGu6O7DMgD5dgxrqnjy6uR2OmvxkugGQ/pQIS/YeXSeOXa+1NTzmwHydQGf+g1CcZ0DeckSZt0PvDiP7gEdWtfXogslvb/JZpCFis6jfUB3gXyHLyjUo+0gCyUc0F1QVk/jM+HJAxJkB7QPZOT4X3e9hr6Vgid7ygz6OhoNrx/Ckwc0yALsQV1050BmdJ+X68PeS8mTPZ0GLdCqIGPz8BrRT7axC+WBGnQflEV37VQ+Ff1kaU8WILNtdMaSFvv6yUHg+sMGnUcLkHHwi1gdInd1gdzSwjbKEdoRu0Q9Wm2DHfrJ9TC7WB0ifzG6oVRBFsoOGo/Gb25NAcDynrwrSyxHRlkNPpfsCiqdpxL1aDkDY4LiUlA0y1H1jo2McgJCl4Hfx7g3wU3uap3P1veOaV/IYPHoC42aXhyqx+gn+CnGf4mpzPGT+BeN8i8Cs0EBNBpfxSm5GJWLqczyIbQe3bV54sfQi4CREZaDAmg03ZQPYgtrZWyuuxy56Q0AvsBGDx8UQOMMjKFhAdONB8Drysvojep6/mNdXibpSxRoFMYyF6NhMtG14zLaLcHoLtTfL02Yzk/S5meAQYkCLdePRuzIPDoPE0bHYVz8RXTL5k6cyHfL+xbxS4kCLWcl+P8QOQqzsVH8zMgMpdcw511llnN4boMCaIxRL4RnPYa/D8ObxmxM1N1fhrEfhHevqJnKDzTLvTA3ubquML9QMaCs5jljMJviNX4y32tYkkbCy8Xgx4XoHp2uyEqdjNPHyHQXti1gq9SZyFEqG0wumfzY+kCLoVu5ejpfgl1vtQ18b56mixEyHqCfA4NEUp8DaPGLuzVtTWzZLmmK9xQL0GiNvg6jHqGqVmujukf3l2bu5yQ4jqhI5E66P7e/uMa+ZenG1gXsNmP8+mAUF9AvAejj+pCpYHCxgPYnLAY9hg7BRndOs5Ct9vN/M/0M774fnt1gmq+fXyxAY/ToeRjvFL8gMs9RAO2XByXQVXi/EZmzaGPaAPvRz1NU/cg8tsWftqnnuFrdWjM+OJ0v0gGQ1iZ2D07ZPQRGvx6AGDmEtSeAyPjjhqfpie808Iqe30y8xwI0lHpfR/hERXGL0iDZhKehJLk9lcKpxJwWBcXRDmN0amWG/lBXx8u1efVgEAvQPEuv9ZBD6jWRUq/fpRIKiPzAPPZvePgU6HAaAH8lIIpWEOrS0duS9KgWkwDiWICGR68OkCV0EIrPE0NHLlJE9IGfA+DHQJZbTScBsMegXbDUJN9YgEZ9pwU0DDDGpBF0eKG1fBN+Ye4EzJCt0+HTi5bRpRgyvbJXuGJALK1uISvWXj2G2wWKchOMe2RLM3tDld40HRYdfCHF6WG0zI2OtGWzdFL7AqbrGPEtDkSR16Fj7GxS/kwRnfQK0XY0sg0oykcj3gOF4sp8ZwlaKgZyZGiC4sZSdAtB0Fn8XZBAYcNQFF1TW8ePDhs/qnhomU9CWvNNpQc9D6lk+u2A2IBe3sQ+Q712r45BeFJht4UvQawC+brv1dgjwL4cJdZvjTEkmllVx5VHEoUcsQEtEkfr++firnoht5+JCZInZNdooUV7Kf7eQvrVqmkXokMjbQbiaFVP/jSSmpk6VqDFmmg0Nq7wKyT7DLDHYI3WK7n9VP0Qf7+B74tMMQvDr2vQYFqKv0NBm+2HRPsTPPsyePZz2ozAALKehlZ4jSov0Md/5fqM6E5oS8JJVAdroNSbuL8DfllYaAgmNEfhfk5P/gDhF/C8G3qGm3wXrfGk2LdlYmIEfNDgO15Fvlg92hMY/erJMPo/vHflO6MRMOg3Aepk3H+GvzkAfXYQyCINfEd+KO4lWuPIaKKBpn9hxg8l19kqjKwAWowjb++ksTB7pP1iZC6tMfewBsd885PQ7a6w8fuLh5Uxs/r73tc3K4AWwi1bzD5Kp1G8cr1x8L4UDQrHb20aH1MOSkeEocidheLjzb6+hw1HKfRtlR0h1gAtFO1YxN5NdZJYB22stdqPAeuWzGeReHS3DNjN0f2s8ZAkkt7RaRXQQndxfqZoraJeHYuida2GPQJJ4VXPiOFTpLEwMEIRA9vms5Uosf6mmwTq/HGyPNBWsftCi/x01EtToVw1wK/UkPb3oF0IgMU9tqt6Kr84kSBtGdJJ2qNjHtsUVhHrgfYUEZPx25P4eV6emzQYCc88GPXVV7zvve6cPkGcp5E52rF4fnnHXLa5V5yYAnRXwQqxMR9ehanS0FOZqZh0lU62uRnHxFDOE/K8QSzXTe+gfZMp7Fnuungnvde+kL3lvdt2R+l0HzLgnVpyJXJz8gMP6L6M0jqP/Q/fxF/JXChGl6G00QIaPL4qo7B1jTEZ4Us1bksTextAr9ORH/RHydA7oGWsZTAuPPJFHXbOo3WsFyEtPFJrgaQQtWoyPyisyM6jw1rKdDxOH+iyxMheaPxCR9QVytH3sAAj7R8gZanwmwkc0D3sH9Uriu5O3bSGpin0gIkDWtfaivSYo9Y6hQHDw1u7xhZCSVAyAyaeNlghsh9P0EHZDH2KQ6U+kBkG9HjYcMfSlgq0nNUvJlfHlwTQGO++DEVdFYY8xcL9PTGyRBgvJsrkfhj0XbyvzGL5MNY/RzbtqI5QN+WXup8UHpBJ1smQWQ107XR+PBYDLcNwoVjfFXgh/CB8n4zjnibD21djE9w4sT8qMLJdgbp7rqX2fVlbR+dmrbL0vAA5LD7w+BMzGXoB/cv9w9LEFQ8Z9HCdtFFHr5GhtxLo3EAAo+UATmUf9AHw6kUyRoglLqNjdNJFrfWsDL2VQAOoNiixp4wieXEZnS3q9bwwi14mTucHQBz1OhqnGnU0MamRNeuArp7Ov4vi+lRdXNBeu1aXR7HosZb9FC3ejJ6UpbcOaJalKbJKBMUX9fWECVy9VAhiaigMmXCsDivQPyJLbx/QBvc+Z4dhjbed13gdsZLbsD1X8rKqe5U7hEZvXVie+lhuE3p2J4+wiC+5BfiM9lFNAt78kMpvblnl0cnhtLeqAQLp1FrtgayMBWou+UW3rFlFFqs8OsGpHDnW2AWjrDPGzACjqql8HzQ0lTfKoe/8AfaKSdfPQnSrPDoxhIyu1MSY+KsG8DHGAvPH12gxY3STKj0yvV0XzjYx4tTg8hxy/2m2aDehnh+K9enKK1Ohz1roo7wZ3iqPFqBAIa21VB6wmB260Xu24Y7cO1dHDtD/VIfeOqBRxDyto1COltPsB5vYX7X5GGKAUbqrUDefp8Hu8fYmtkKD3q46WiiC4u1xHYVAext2Lt6hycMYeXUdF5vw71ZlCE/eku7UP4HJOo9ua2R/QfH9XwXDvIzRsJHYW2VNkY2jKI5NJOUHN/J053S12GWaF6bwYh3QQgcAdq+CLk+0zGd/V6ArCgkaleejGhI7J/dVTQAZfikaYPer0vvprAQ6jWOpUGRt8gsa4nlmTR0fHSJe0aMAZNENWgGghysnxukpgGzsV3WsBFqc+4Fdk1fLGoklqR0NH+2ZL9l0vfiiC4WdksKLb/HClO5YVJDYThcp0fZBhExn74WlQQ+jGFdReM7mJN1ZrNPse1pMrGjBHPo1KIWugLwqiyW6WaK4fi+TpZM7mtl/ugMNPFgN9KRJvDJdRi+g1fo1aV05fQ7Dt2HN2cK2ZvaMNH0Igsum8W/hmIkrEdVMEQtPTmdprGmQhSpWAy0EFMt7IeRKSHqEeFe6doIuNsU/Bfq1qK/WtjSyd1R44cSCcViBejGqFvHzSd17slV4+WngyY2ZcrSwi7Rh33qghTHEZECS0Z9RLJo+u/N9sF8PI4ti8kMAtx4AYjnWzgvG2R2lwgG4749vByJULAEye3H6CKN4kzAg8iezjPO5lQTQQmTxI544ouI3ALsuX4XSfUMGezTDaEqu8VlkNUoGaM8OWOt9LrxuId6V+6cer7juKCVexwjg7Pb57KGoZCg5oIVhRCOts4xmQvjrUKSOiMpYuukA4Ocx534fTjxYpMtLlr4kgfaU7Pp5g+vhHT+AIuqDEx7D4tzXA+AW/DW1N7K1xUmiMNeSBtpTT6w1Sw3H6cCM6vF3lhce1x2gbsF+sHbxMwkYltWdpDGixoAA2m+JCdP4wdhwNxaAnwBjn4678mS9n2+hZzSsVsGYTwPclbaA65d5wAHtV048i58ArNyB80UTdCReD0Wr/QiAcggUPwqZoN/6HfG2gmYD/jaCbgM8dSMyj3jfANqP8P4yqo230aj6J8KsvgY80IWsf0kd36M8QRXo5lSk8Ic+bQV60jtM/ARRobTdd2cBZwFnAWcBZwFnAWeB/wO9yrSXP8OnPQAAAABJRU5ErkJggg=="})]})]}),ThreeDotsIcon=_=>jsxRuntimeExports.jsx(Icon,{width:"18px",height:"18px",fill:"none",stroke:colors.gray[300],viewBox:"0 0 18 18",xmlns:"http://www.w3.org/2000/svg",..._,children:jsxRuntimeExports.jsx("path",{d:"M13.5 9H13.5075M9 9H9.0075M4.5 9H4.5075M9.75 9C9.75 9.41421 9.41421 9.75 9 9.75C8.58579 9.75 8.25 9.41421 8.25 9C8.25 8.58579 8.58579 8.25 9 8.25C9.41421 8.25 9.75 8.58579 9.75 9ZM14.25 9C14.25 9.41421 13.9142 9.75 13.5 9.75C13.0858 9.75 12.75 9.41421 12.75 9C12.75 8.58579 13.0858 8.25 13.5 8.25C13.9142 8.25 14.25 8.58579 14.25 9ZM5.25 9C5.25 9.41421 4.91421 9.75 4.5 9.75C4.08579 9.75 3.75 9.41421 3.75 9C3.75 8.58579 4.08579 8.25 4.5 8.25C4.91421 8.25 5.25 8.58579 5.25 9Z",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"})}),TokenIcon=({contract:_,...a})=>{const $=`https://services.tzkt.io/v1/avatars/${_}`;return jsxRuntimeExports.jsx(Image$1,{fallbackSrc:"./static/media/coin-front.svg",src:$,...a})},TrashIcon=_=>jsxRuntimeExports.jsx(Icon,{width:"18px",height:"18px",fill:"none",stroke:colors.gray[450],viewBox:"0 0 18 18",xmlns:"http://www.w3.org/2000/svg",..._,children:jsxRuntimeExports.jsx("path",{d:"M3 4.5H15M12 4.5L11.797 3.89105C11.6003 3.30094 11.502 3.00588 11.3195 2.78774C11.1584 2.5951 10.9516 2.44599 10.7179 2.35408C10.4532 2.25 10.1422 2.25 9.52018 2.25H8.47982C7.85779 2.25 7.54677 2.25 7.28213 2.35408C7.04844 2.44599 6.84156 2.5951 6.68047 2.78774C6.49804 3.00588 6.39969 3.30094 6.20298 3.89105L6 4.5M13.5 4.5V12.15C13.5 13.4101 13.5 14.0402 13.2548 14.5215C13.039 14.9448 12.6948 15.289 12.2715 15.5048C11.7902 15.75 11.1601 15.75 9.9 15.75H8.1C6.83988 15.75 6.20982 15.75 5.72852 15.5048C5.30516 15.289 4.96095 14.9448 4.74524 14.5215C4.5 14.0402 4.5 13.4101 4.5 12.15V4.5M10.5 7.5V12.75M7.5 7.5V12.75",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.2"})}),TwitterIcon=_=>jsxRuntimeExports.jsx(Icon,{width:"20px",height:"18px",fill:"black","data-testid":"twitter-icon",viewBox:"0 0 20 18",xmlns:"http://www.w3.org/2000/svg",..._,children:jsxRuntimeExports.jsx("path",{d:"M0.0467972 0L7.472 9.92803L0 18H1.68178L8.22366 10.9327L13.5091 18H19.2319L11.3887 7.51364L18.3437 0H16.6619L10.6374 6.50863L5.76957 0H0.0467972ZM2.51993 1.23866H5.14894L16.7584 16.7613H14.1294L2.51993 1.23866Z"})}),UnknownContactIcon=_=>jsxRuntimeExports.jsx(Icon,{width:"18px",height:"18px",fill:"none","data-testid":"unknown-contact-icon",viewBox:"0 0 18 18",xmlns:"http://www.w3.org/2000/svg",..._,children:jsxRuntimeExports.jsx("path",{d:"M3.16602 15.5625C3.16602 12.7435 5.45123 10.4583 8.27018 10.4583C8.51775 10.4583 8.7612 10.476 8.99935 10.51M13.3722 13.375C14.1014 12.6458 14.8305 12.3575 14.8305 11.5521C14.8305 10.7467 14.1776 10.0938 13.3722 10.0938C12.6927 10.0938 12.1217 10.5585 11.9598 11.1875M13.3722 15.5625H13.3795M11.1868 5.35417C11.1868 6.965 9.88101 8.27083 8.27018 8.27083C6.65935 8.27083 5.35352 6.965 5.35352 5.35417C5.35352 3.74334 6.65935 2.4375 8.27018 2.4375C9.88101 2.4375 11.1868 3.74334 11.1868 5.35417Z",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.2"})}),USBIcon=_=>jsxRuntimeExports.jsx(Icon,{width:"24px",height:"24px",fill:"none",stroke:colors.gray[450],viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",..._,children:jsxRuntimeExports.jsx("path",{d:"M20.5 11L18.7396 7.60473C18.253 6.65855 18.0097 6.18545 17.6514 5.84012C17.3346 5.5347 16.9544 5.30272 16.5379 5.16065C16.067 5 15.535 5 14.471 5H9.52901C8.46503 5 7.93304 5 7.46209 5.16065C7.04558 5.30272 6.66542 5.5347 6.34859 5.84012C5.99034 6.18545 5.74703 6.65855 5.26042 7.60473L3.5 11M20.5 11C20.6981 11.3853 20.7658 11.5446 20.8357 11.747C20.8977 11.9267 20.9426 12.1119 20.9696 12.3002C21 12.5121 21 12.7287 21 13.162V14.2C21 15.8802 21 16.7202 20.673 17.362C20.3854 17.9265 19.9265 18.3854 19.362 18.673C18.7202 19 17.8802 19 16.2 19H7.8C6.11984 19 5.27976 19 4.63803 18.673C4.07354 18.3854 3.6146 17.9265 3.32698 17.362C3 16.7202 3 15.8802 3 14.2V13.162C3 12.7287 3 12.5121 3.03041 12.3002C3.05741 12.1119 3.10225 11.9267 3.16432 11.747C3.23421 11.5446 3.30186 11.3853 3.5 11M20.5 11H3.5M15 15H17",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.2"})}),VerifiedIcon=()=>jsxRuntimeExports.jsxs(Flex,{position:"relative",alignItems:"center",justifyContent:"center","data-testid":"verified-icon",children:[jsxRuntimeExports.jsx(StarIcon,{}),jsxRuntimeExports.jsx(Flex,{position:"absolute",alignItems:"center",justifyContent:"center",children:jsxRuntimeExports.jsx(CheckIcon$1,{})})]}),StarIcon=_=>jsxRuntimeExports.jsx(Icon,{width:"14px",height:"14px",fill:colors.gray[450],viewBox:"0 0 14 14",xmlns:"http://www.w3.org/2000/svg",..._,children:jsxRuntimeExports.jsx("path",{d:"M6.51019 0.479749C6.78233 0.213196 7.21767 0.213195 7.48981 0.479749L8.86158 1.82333C8.99061 1.94972 9.16351 2.02134 9.34412 2.02321L11.2642 2.04314C11.6451 2.04709 11.9529 2.35492 11.9569 2.73584L11.9768 4.65588C11.9787 4.83649 12.0503 5.00939 12.1767 5.13842L13.5203 6.51019C13.7868 6.78233 13.7868 7.21767 13.5203 7.48981L12.1767 8.86158C12.0503 8.99061 11.9787 9.16351 11.9768 9.34412L11.9569 11.2642C11.9529 11.6451 11.6451 11.9529 11.2642 11.9569L9.34412 11.9768C9.16351 11.9787 8.99061 12.0503 8.86158 12.1767L7.48981 13.5203C7.21767 13.7868 6.78233 13.7868 6.51019 13.5203L5.13842 12.1767C5.00939 12.0503 4.83649 11.9787 4.65588 11.9768L2.73584 11.9569C2.35492 11.9529 2.04709 11.6451 2.04314 11.2642L2.02321 9.34412C2.02134 9.16351 1.94972 8.99061 1.82333 8.86158L0.479749 7.48981C0.213196 7.21767 0.213195 6.78233 0.479749 6.51019L1.82333 5.13842C1.94972 5.00939 2.02134 4.83649 2.02321 4.65588L2.04314 2.73584C2.04709 2.35492 2.35492 2.04709 2.73584 2.04314L4.65588 2.02321C4.83649 2.02134 5.00939 1.94972 5.13842 1.82333L6.51019 0.479749Z",strokeLinecap:"square",strokeLinejoin:"round"})}),CheckIcon$1=_=>jsxRuntimeExports.jsx(Icon,{width:"7px",height:"5px",fill:"none",stroke:"white",viewBox:"0 0 7 5",xmlns:"http://www.w3.org/2000/svg",..._,children:jsxRuntimeExports.jsx("path",{d:"M1.66699 2.19314L3.0281 3.55425L5.75033 0.832031",strokeLinecap:"square",strokeLinejoin:"round"})}),WalletPlusIcon=_=>jsxRuntimeExports.jsx(Icon,{width:"24px",height:"24px",fill:"none",stroke:colors.gray[450],viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",..._,children:jsxRuntimeExports.jsx("path",{d:"M10 16V14.0003M10 14.0003V12M10 14.0003L12 14.0005M10 14.0003L8 14M21 12V11.2C21 10.0799 21 9.51984 20.782 9.09202C20.5903 8.7157 20.2843 8.40973 19.908 8.21799C19.4802 8 18.9201 8 17.8 8H3M21 12V16M21 12H19C17.8954 12 17 12.8954 17 14C17 15.1046 17.8954 16 19 16H21M21 16V16.8C21 17.9201 21 18.4802 20.782 18.908C20.5903 19.2843 20.2843 19.5903 19.908 19.782C19.4802 20 18.9201 20 17.8 20H6.2C5.0799 20 4.51984 20 4.09202 19.782C3.71569 19.5903 3.40973 19.2843 3.21799 18.908C3 18.4802 3 17.9201 3 16.8V8M18 8V7.2C18 6.0799 18 5.51984 17.782 5.09202C17.5903 4.71569 17.2843 4.40973 16.908 4.21799C16.4802 4 15.9201 4 14.8 4H6.2C5.07989 4 4.51984 4 4.09202 4.21799C3.71569 4.40973 3.40973 4.71569 3.21799 5.09202C3 5.51984 3 6.0799 3 7.2V8",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.2"})}),WarningIcon=_=>jsxRuntimeExports.jsx(Icon,{width:"36px",height:"32px",fill:"none",stroke:colors.orangeL,viewBox:"0 0 36 32",xmlns:"http://www.w3.org/2000/svg",..._,children:jsxRuntimeExports.jsx("path",{d:"M18.0004 24.3332H18.0171M18.0004 12.6665V19.3332M8.68719 30.9999H27.3136C30.2831 30.9999 31.7678 30.9999 32.6386 30.3754C33.3985 29.8305 33.8946 28.9915 34.0058 28.0631C34.1333 26.9991 33.4178 25.6982 31.9868 23.0963L22.6736 6.16318C21.1499 3.39292 20.3881 2.00779 19.3814 1.54954C18.5041 1.15015 17.4968 1.15015 16.6194 1.54954C15.6127 2.00779 14.8509 3.39292 13.3273 6.16317L4.01404 23.0963C2.58301 25.6982 1.8675 26.9991 1.99498 28.0631C2.10622 28.9915 2.6023 29.8305 3.36219 30.3754C4.23304 30.9999 5.71776 30.9999 8.68719 30.9999Z",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"})}),XMark=_=>jsxRuntimeExports.jsx(Icon,{width:"18px",height:"18px",fill:"none",viewBox:"0 0 18 18",xmlns:"http://www.w3.org/2000/svg",..._,children:jsxRuntimeExports.jsx("path",{d:"M4.5 4.5L13.5 13.5M13.5 4.5L4.5 13.5","data-testid":"xmark-icon-path",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.2"})});function keys(_){return Object.keys(_)}var ExposedPromiseStatus;(function(_){_.PENDING="pending",_.RESOLVED="resolved",_.REJECTED="rejected"})(ExposedPromiseStatus||(ExposedPromiseStatus={}));const notInitialized$1=()=>{throw new Error("ExposedPromise not initialized yet.")};class ExposedPromise{constructor(){Vr(this,"_promise");Vr(this,"_resolve",notInitialized$1);Vr(this,"_reject",notInitialized$1);Vr(this,"_status",ExposedPromiseStatus.PENDING);Vr(this,"_promiseResult");Vr(this,"_promiseError");this._promise=new Promise((a,$)=>{this._resolve=j=>{this.isSettled()||(this._promiseResult=j,a(j),this._status=ExposedPromiseStatus.RESOLVED)},this._reject=j=>{this.isSettled()||(this._promiseError=j,$(j),this._status=ExposedPromiseStatus.REJECTED)}})}get promise(){return this._promise}get resolve(){return this._resolve}get reject(){return this._reject}get status(){return this._status}get promiseResult(){return this._promiseResult}get promiseError(){return this._promiseError}static resolve(a){const $=new ExposedPromise;return $.resolve(a),$}static reject(a){const $=new ExposedPromise;return $.reject(a),$}isPending(){return this.status===ExposedPromiseStatus.PENDING}isResolved(){return this.status===ExposedPromiseStatus.RESOLVED}isRejected(){return this.status===ExposedPromiseStatus.REJECTED}isSettled(){return this.isResolved()||this.isRejected()}}var buffer$2={},base64Js$1={};base64Js$1.byteLength=byteLength$2;base64Js$1.toByteArray=toByteArray$1;base64Js$1.fromByteArray=fromByteArray$1;var lookup$3=[],revLookup$1=[],Arr$1=typeof Uint8Array<"u"?Uint8Array:Array,code$1="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var i$2=0,len$1=code$1.length;i$2<len$1;++i$2)lookup$3[i$2]=code$1[i$2],revLookup$1[code$1.charCodeAt(i$2)]=i$2;revLookup$1[45]=62;revLookup$1[95]=63;function getLens$1(_){var a=_.length;if(a%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var $=_.indexOf("=");$===-1&&($=a);var j=$===a?0:4-$%4;return[$,j]}function byteLength$2(_){var a=getLens$1(_),$=a[0],j=a[1];return($+j)*3/4-j}function _byteLength$1(_,a,$){return(a+$)*3/4-$}function toByteArray$1(_){var a,$=getLens$1(_),j=$[0],et=$[1],tt=new Arr$1(_byteLength$1(_,j,et)),rt=0,nt=et>0?j-4:j,it;for(it=0;it<nt;it+=4)a=revLookup$1[_.charCodeAt(it)]<<18|revLookup$1[_.charCodeAt(it+1)]<<12|revLookup$1[_.charCodeAt(it+2)]<<6|revLookup$1[_.charCodeAt(it+3)],tt[rt++]=a>>16&255,tt[rt++]=a>>8&255,tt[rt++]=a&255;return et===2&&(a=revLookup$1[_.charCodeAt(it)]<<2|revLookup$1[_.charCodeAt(it+1)]>>4,tt[rt++]=a&255),et===1&&(a=revLookup$1[_.charCodeAt(it)]<<10|revLookup$1[_.charCodeAt(it+1)]<<4|revLookup$1[_.charCodeAt(it+2)]>>2,tt[rt++]=a>>8&255,tt[rt++]=a&255),tt}function tripletToBase64$1(_){return lookup$3[_>>18&63]+lookup$3[_>>12&63]+lookup$3[_>>6&63]+lookup$3[_&63]}function encodeChunk$1(_,a,$){for(var j,et=[],tt=a;tt<$;tt+=3)j=(_[tt]<<16&16711680)+(_[tt+1]<<8&65280)+(_[tt+2]&255),et.push(tripletToBase64$1(j));return et.join("")}function fromByteArray$1(_){for(var a,$=_.length,j=$%3,et=[],tt=16383,rt=0,nt=$-j;rt<nt;rt+=tt)et.push(encodeChunk$1(_,rt,rt+tt>nt?nt:rt+tt));return j===1?(a=_[$-1],et.push(lookup$3[a>>2]+lookup$3[a<<4&63]+"==")):j===2&&(a=(_[$-2]<<8)+_[$-1],et.push(lookup$3[a>>10]+lookup$3[a>>4&63]+lookup$3[a<<2&63]+"=")),et.join("")}var ieee754$1={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */ieee754$1.read=function(_,a,$,j,et){var tt,rt,nt=et*8-j-1,it=(1<<nt)-1,ot=it>>1,st=-7,ct=$?et-1:0,ut=$?-1:1,ht=_[a+ct];for(ct+=ut,tt=ht&(1<<-st)-1,ht>>=-st,st+=nt;st>0;tt=tt*256+_[a+ct],ct+=ut,st-=8);for(rt=tt&(1<<-st)-1,tt>>=-st,st+=j;st>0;rt=rt*256+_[a+ct],ct+=ut,st-=8);if(tt===0)tt=1-ot;else{if(tt===it)return rt?NaN:(ht?-1:1)*(1/0);rt=rt+Math.pow(2,j),tt=tt-ot}return(ht?-1:1)*rt*Math.pow(2,tt-j)};ieee754$1.write=function(_,a,$,j,et,tt){var rt,nt,it,ot=tt*8-et-1,st=(1<<ot)-1,ct=st>>1,ut=et===23?Math.pow(2,-24)-Math.pow(2,-77):0,ht=j?0:tt-1,Et=j?1:-1,St=a<0||a===0&&1/a<0?1:0;for(a=Math.abs(a),isNaN(a)||a===1/0?(nt=isNaN(a)?1:0,rt=st):(rt=Math.floor(Math.log(a)/Math.LN2),a*(it=Math.pow(2,-rt))<1&&(rt--,it*=2),rt+ct>=1?a+=ut/it:a+=ut*Math.pow(2,1-ct),a*it>=2&&(rt++,it/=2),rt+ct>=st?(nt=0,rt=st):rt+ct>=1?(nt=(a*it-1)*Math.pow(2,et),rt=rt+ct):(nt=a*Math.pow(2,ct-1)*Math.pow(2,et),rt=0));et>=8;_[$+ht]=nt&255,ht+=Et,nt/=256,et-=8);for(rt=rt<<et|nt,ot+=et;ot>0;_[$+ht]=rt&255,ht+=Et,rt/=256,ot-=8);_[$+ht-Et]|=St*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(_){const a=base64Js$1,$=ieee754$1,j=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;_.Buffer=st,_.SlowBuffer=Ut,_.INSPECT_MAX_BYTES=50;const et=2147483647;_.kMaxLength=et;const{Uint8Array:tt,ArrayBuffer:rt,SharedArrayBuffer:nt}=globalThis;st.TYPED_ARRAY_SUPPORT=it(),!st.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function it(){try{const Zt=new tt(1),Ht={foo:function(){return 42}};return Object.setPrototypeOf(Ht,tt.prototype),Object.setPrototypeOf(Zt,Ht),Zt.foo()===42}catch{return!1}}Object.defineProperty(st.prototype,"parent",{enumerable:!0,get:function(){if(st.isBuffer(this))return this.buffer}}),Object.defineProperty(st.prototype,"offset",{enumerable:!0,get:function(){if(st.isBuffer(this))return this.byteOffset}});function ot(Zt){if(Zt>et)throw new RangeError('The value "'+Zt+'" is invalid for option "size"');const Ht=new tt(Zt);return Object.setPrototypeOf(Ht,st.prototype),Ht}function st(Zt,Ht,Wt){if(typeof Zt=="number"){if(typeof Ht=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return Et(Zt)}return ct(Zt,Ht,Wt)}st.poolSize=8192;function ct(Zt,Ht,Wt){if(typeof Zt=="string")return St(Zt,Ht);if(rt.isView(Zt))return kt(Zt);if(Zt==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Zt);if(jr(Zt,rt)||Zt&&jr(Zt.buffer,rt)||typeof nt<"u"&&(jr(Zt,nt)||Zt&&jr(Zt.buffer,nt)))return Ct(Zt,Ht,Wt);if(typeof Zt=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const ar=Zt.valueOf&&Zt.valueOf();if(ar!=null&&ar!==Zt)return st.from(ar,Ht,Wt);const br=Ot(Zt);if(br)return br;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof Zt[Symbol.toPrimitive]=="function")return st.from(Zt[Symbol.toPrimitive]("string"),Ht,Wt);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Zt)}st.from=function(Zt,Ht,Wt){return ct(Zt,Ht,Wt)},Object.setPrototypeOf(st.prototype,tt.prototype),Object.setPrototypeOf(st,tt);function ut(Zt){if(typeof Zt!="number")throw new TypeError('"size" argument must be of type number');if(Zt<0)throw new RangeError('The value "'+Zt+'" is invalid for option "size"')}function ht(Zt,Ht,Wt){return ut(Zt),Zt<=0?ot(Zt):Ht!==void 0?typeof Wt=="string"?ot(Zt).fill(Ht,Wt):ot(Zt).fill(Ht):ot(Zt)}st.alloc=function(Zt,Ht,Wt){return ht(Zt,Ht,Wt)};function Et(Zt){return ut(Zt),ot(Zt<0?0:zt(Zt)|0)}st.allocUnsafe=function(Zt){return Et(Zt)},st.allocUnsafeSlow=function(Zt){return Et(Zt)};function St(Zt,Ht){if((typeof Ht!="string"||Ht==="")&&(Ht="utf8"),!st.isEncoding(Ht))throw new TypeError("Unknown encoding: "+Ht);const Wt=Vt(Zt,Ht)|0;let ar=ot(Wt);const br=ar.write(Zt,Ht);return br!==Wt&&(ar=ar.slice(0,br)),ar}function Mt(Zt){const Ht=Zt.length<0?0:zt(Zt.length)|0,Wt=ot(Ht);for(let ar=0;ar<Ht;ar+=1)Wt[ar]=Zt[ar]&255;return Wt}function kt(Zt){if(jr(Zt,tt)){const Ht=new tt(Zt);return Ct(Ht.buffer,Ht.byteOffset,Ht.byteLength)}return Mt(Zt)}function Ct(Zt,Ht,Wt){if(Ht<0||Zt.byteLength<Ht)throw new RangeError('"offset" is outside of buffer bounds');if(Zt.byteLength<Ht+(Wt||0))throw new RangeError('"length" is outside of buffer bounds');let ar;return Ht===void 0&&Wt===void 0?ar=new tt(Zt):Wt===void 0?ar=new tt(Zt,Ht):ar=new tt(Zt,Ht,Wt),Object.setPrototypeOf(ar,st.prototype),ar}function Ot(Zt){if(st.isBuffer(Zt)){const Ht=zt(Zt.length)|0,Wt=ot(Ht);return Wt.length===0||Zt.copy(Wt,0,0,Ht),Wt}if(Zt.length!==void 0)return typeof Zt.length!="number"||Nr(Zt.length)?ot(0):Mt(Zt);if(Zt.type==="Buffer"&&Array.isArray(Zt.data))return Mt(Zt.data)}function zt(Zt){if(Zt>=et)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+et.toString(16)+" bytes");return Zt|0}function Ut(Zt){return+Zt!=Zt&&(Zt=0),st.alloc(+Zt)}st.isBuffer=function(Ht){return Ht!=null&&Ht._isBuffer===!0&&Ht!==st.prototype},st.compare=function(Ht,Wt){if(jr(Ht,tt)&&(Ht=st.from(Ht,Ht.offset,Ht.byteLength)),jr(Wt,tt)&&(Wt=st.from(Wt,Wt.offset,Wt.byteLength)),!st.isBuffer(Ht)||!st.isBuffer(Wt))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(Ht===Wt)return 0;let ar=Ht.length,br=Wt.length;for(let wr=0,Rr=Math.min(ar,br);wr<Rr;++wr)if(Ht[wr]!==Wt[wr]){ar=Ht[wr],br=Wt[wr];break}return ar<br?-1:br<ar?1:0},st.isEncoding=function(Ht){switch(String(Ht).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},st.concat=function(Ht,Wt){if(!Array.isArray(Ht))throw new TypeError('"list" argument must be an Array of Buffers');if(Ht.length===0)return st.alloc(0);let ar;if(Wt===void 0)for(Wt=0,ar=0;ar<Ht.length;++ar)Wt+=Ht[ar].length;const br=st.allocUnsafe(Wt);let wr=0;for(ar=0;ar<Ht.length;++ar){let Rr=Ht[ar];if(jr(Rr,tt))wr+Rr.length>br.length?(st.isBuffer(Rr)||(Rr=st.from(Rr)),Rr.copy(br,wr)):tt.prototype.set.call(br,Rr,wr);else if(st.isBuffer(Rr))Rr.copy(br,wr);else throw new TypeError('"list" argument must be an Array of Buffers');wr+=Rr.length}return br};function Vt(Zt,Ht){if(st.isBuffer(Zt))return Zt.length;if(rt.isView(Zt)||jr(Zt,rt))return Zt.byteLength;if(typeof Zt!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof Zt);const Wt=Zt.length,ar=arguments.length>2&&arguments[2]===!0;if(!ar&&Wt===0)return 0;let br=!1;for(;;)switch(Ht){case"ascii":case"latin1":case"binary":return Wt;case"utf8":case"utf-8":return Er(Zt).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Wt*2;case"hex":return Wt>>>1;case"base64":return Sr(Zt).length;default:if(br)return ar?-1:Er(Zt).length;Ht=(""+Ht).toLowerCase(),br=!0}}st.byteLength=Vt;function jt(Zt,Ht,Wt){let ar=!1;if((Ht===void 0||Ht<0)&&(Ht=0),Ht>this.length||((Wt===void 0||Wt>this.length)&&(Wt=this.length),Wt<=0)||(Wt>>>=0,Ht>>>=0,Wt<=Ht))return"";for(Zt||(Zt="utf8");;)switch(Zt){case"hex":return yt(this,Ht,Wt);case"utf8":case"utf-8":return xt(this,Ht,Wt);case"ascii":return At(this,Ht,Wt);case"latin1":case"binary":return Tt(this,Ht,Wt);case"base64":return vt(this,Ht,Wt);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return It(this,Ht,Wt);default:if(ar)throw new TypeError("Unknown encoding: "+Zt);Zt=(Zt+"").toLowerCase(),ar=!0}}st.prototype._isBuffer=!0;function $t(Zt,Ht,Wt){const ar=Zt[Ht];Zt[Ht]=Zt[Wt],Zt[Wt]=ar}st.prototype.swap16=function(){const Ht=this.length;if(Ht%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let Wt=0;Wt<Ht;Wt+=2)$t(this,Wt,Wt+1);return this},st.prototype.swap32=function(){const Ht=this.length;if(Ht%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let Wt=0;Wt<Ht;Wt+=4)$t(this,Wt,Wt+3),$t(this,Wt+1,Wt+2);return this},st.prototype.swap64=function(){const Ht=this.length;if(Ht%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let Wt=0;Wt<Ht;Wt+=8)$t(this,Wt,Wt+7),$t(this,Wt+1,Wt+6),$t(this,Wt+2,Wt+5),$t(this,Wt+3,Wt+4);return this},st.prototype.toString=function(){const Ht=this.length;return Ht===0?"":arguments.length===0?xt(this,0,Ht):jt.apply(this,arguments)},st.prototype.toLocaleString=st.prototype.toString,st.prototype.equals=function(Ht){if(!st.isBuffer(Ht))throw new TypeError("Argument must be a Buffer");return this===Ht?!0:st.compare(this,Ht)===0},st.prototype.inspect=function(){let Ht="";const Wt=_.INSPECT_MAX_BYTES;return Ht=this.toString("hex",0,Wt).replace(/(.{2})/g,"$1 ").trim(),this.length>Wt&&(Ht+=" ... "),"<Buffer "+Ht+">"},j&&(st.prototype[j]=st.prototype.inspect),st.prototype.compare=function(Ht,Wt,ar,br,wr){if(jr(Ht,tt)&&(Ht=st.from(Ht,Ht.offset,Ht.byteLength)),!st.isBuffer(Ht))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof Ht);if(Wt===void 0&&(Wt=0),ar===void 0&&(ar=Ht?Ht.length:0),br===void 0&&(br=0),wr===void 0&&(wr=this.length),Wt<0||ar>Ht.length||br<0||wr>this.length)throw new RangeError("out of range index");if(br>=wr&&Wt>=ar)return 0;if(br>=wr)return-1;if(Wt>=ar)return 1;if(Wt>>>=0,ar>>>=0,br>>>=0,wr>>>=0,this===Ht)return 0;let Rr=wr-br,Qr=ar-Wt;const Ur=Math.min(Rr,Qr),Hr=this.slice(br,wr),_n=Ht.slice(Wt,ar);for(let Wr=0;Wr<Ur;++Wr)if(Hr[Wr]!==_n[Wr]){Rr=Hr[Wr],Qr=_n[Wr];break}return Rr<Qr?-1:Qr<Rr?1:0};function Bt(Zt,Ht,Wt,ar,br){if(Zt.length===0)return-1;if(typeof Wt=="string"?(ar=Wt,Wt=0):Wt>2147483647?Wt=2147483647:Wt<-2147483648&&(Wt=-2147483648),Wt=+Wt,Nr(Wt)&&(Wt=br?0:Zt.length-1),Wt<0&&(Wt=Zt.length+Wt),Wt>=Zt.length){if(br)return-1;Wt=Zt.length-1}else if(Wt<0)if(br)Wt=0;else return-1;if(typeof Ht=="string"&&(Ht=st.from(Ht,ar)),st.isBuffer(Ht))return Ht.length===0?-1:Nt(Zt,Ht,Wt,ar,br);if(typeof Ht=="number")return Ht=Ht&255,typeof tt.prototype.indexOf=="function"?br?tt.prototype.indexOf.call(Zt,Ht,Wt):tt.prototype.lastIndexOf.call(Zt,Ht,Wt):Nt(Zt,[Ht],Wt,ar,br);throw new TypeError("val must be string, number or Buffer")}function Nt(Zt,Ht,Wt,ar,br){let wr=1,Rr=Zt.length,Qr=Ht.length;if(ar!==void 0&&(ar=String(ar).toLowerCase(),ar==="ucs2"||ar==="ucs-2"||ar==="utf16le"||ar==="utf-16le")){if(Zt.length<2||Ht.length<2)return-1;wr=2,Rr/=2,Qr/=2,Wt/=2}function Ur(_n,Wr){return wr===1?_n[Wr]:_n.readUInt16BE(Wr*wr)}let Hr;if(br){let _n=-1;for(Hr=Wt;Hr<Rr;Hr++)if(Ur(Zt,Hr)===Ur(Ht,_n===-1?0:Hr-_n)){if(_n===-1&&(_n=Hr),Hr-_n+1===Qr)return _n*wr}else _n!==-1&&(Hr-=Hr-_n),_n=-1}else for(Wt+Qr>Rr&&(Wt=Rr-Qr),Hr=Wt;Hr>=0;Hr--){let _n=!0;for(let Wr=0;Wr<Qr;Wr++)if(Ur(Zt,Hr+Wr)!==Ur(Ht,Wr)){_n=!1;break}if(_n)return Hr}return-1}st.prototype.includes=function(Ht,Wt,ar){return this.indexOf(Ht,Wt,ar)!==-1},st.prototype.indexOf=function(Ht,Wt,ar){return Bt(this,Ht,Wt,ar,!0)},st.prototype.lastIndexOf=function(Ht,Wt,ar){return Bt(this,Ht,Wt,ar,!1)};function Lt(Zt,Ht,Wt,ar){Wt=Number(Wt)||0;const br=Zt.length-Wt;ar?(ar=Number(ar),ar>br&&(ar=br)):ar=br;const wr=Ht.length;ar>wr/2&&(ar=wr/2);let Rr;for(Rr=0;Rr<ar;++Rr){const Qr=parseInt(Ht.substr(Rr*2,2),16);if(Nr(Qr))return Rr;Zt[Wt+Rr]=Qr}return Rr}function Pt(Zt,Ht,Wt,ar){return $r(Er(Ht,Zt.length-Wt),Zt,Wt,ar)}function bt(Zt,Ht,Wt,ar){return $r(Ar(Ht),Zt,Wt,ar)}function at(Zt,Ht,Wt,ar){return $r(Sr(Ht),Zt,Wt,ar)}function dt(Zt,Ht,Wt,ar){return $r(kr(Ht,Zt.length-Wt),Zt,Wt,ar)}st.prototype.write=function(Ht,Wt,ar,br){if(Wt===void 0)br="utf8",ar=this.length,Wt=0;else if(ar===void 0&&typeof Wt=="string")br=Wt,ar=this.length,Wt=0;else if(isFinite(Wt))Wt=Wt>>>0,isFinite(ar)?(ar=ar>>>0,br===void 0&&(br="utf8")):(br=ar,ar=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const wr=this.length-Wt;if((ar===void 0||ar>wr)&&(ar=wr),Ht.length>0&&(ar<0||Wt<0)||Wt>this.length)throw new RangeError("Attempt to write outside buffer bounds");br||(br="utf8");let Rr=!1;for(;;)switch(br){case"hex":return Lt(this,Ht,Wt,ar);case"utf8":case"utf-8":return Pt(this,Ht,Wt,ar);case"ascii":case"latin1":case"binary":return bt(this,Ht,Wt,ar);case"base64":return at(this,Ht,Wt,ar);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return dt(this,Ht,Wt,ar);default:if(Rr)throw new TypeError("Unknown encoding: "+br);br=(""+br).toLowerCase(),Rr=!0}},st.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function vt(Zt,Ht,Wt){return Ht===0&&Wt===Zt.length?a.fromByteArray(Zt):a.fromByteArray(Zt.slice(Ht,Wt))}function xt(Zt,Ht,Wt){Wt=Math.min(Zt.length,Wt);const ar=[];let br=Ht;for(;br<Wt;){const wr=Zt[br];let Rr=null,Qr=wr>239?4:wr>223?3:wr>191?2:1;if(br+Qr<=Wt){let Ur,Hr,_n,Wr;switch(Qr){case 1:wr<128&&(Rr=wr);break;case 2:Ur=Zt[br+1],(Ur&192)===128&&(Wr=(wr&31)<<6|Ur&63,Wr>127&&(Rr=Wr));break;case 3:Ur=Zt[br+1],Hr=Zt[br+2],(Ur&192)===128&&(Hr&192)===128&&(Wr=(wr&15)<<12|(Ur&63)<<6|Hr&63,Wr>2047&&(Wr<55296||Wr>57343)&&(Rr=Wr));break;case 4:Ur=Zt[br+1],Hr=Zt[br+2],_n=Zt[br+3],(Ur&192)===128&&(Hr&192)===128&&(_n&192)===128&&(Wr=(wr&15)<<18|(Ur&63)<<12|(Hr&63)<<6|_n&63,Wr>65535&&Wr<1114112&&(Rr=Wr))}}Rr===null?(Rr=65533,Qr=1):Rr>65535&&(Rr-=65536,ar.push(Rr>>>10&1023|55296),Rr=56320|Rr&1023),ar.push(Rr),br+=Qr}return _t(ar)}const wt=4096;function _t(Zt){const Ht=Zt.length;if(Ht<=wt)return String.fromCharCode.apply(String,Zt);let Wt="",ar=0;for(;ar<Ht;)Wt+=String.fromCharCode.apply(String,Zt.slice(ar,ar+=wt));return Wt}function At(Zt,Ht,Wt){let ar="";Wt=Math.min(Zt.length,Wt);for(let br=Ht;br<Wt;++br)ar+=String.fromCharCode(Zt[br]&127);return ar}function Tt(Zt,Ht,Wt){let ar="";Wt=Math.min(Zt.length,Wt);for(let br=Ht;br<Wt;++br)ar+=String.fromCharCode(Zt[br]);return ar}function yt(Zt,Ht,Wt){const ar=Zt.length;(!Ht||Ht<0)&&(Ht=0),(!Wt||Wt<0||Wt>ar)&&(Wt=ar);let br="";for(let wr=Ht;wr<Wt;++wr)br+=or[Zt[wr]];return br}function It(Zt,Ht,Wt){const ar=Zt.slice(Ht,Wt);let br="";for(let wr=0;wr<ar.length-1;wr+=2)br+=String.fromCharCode(ar[wr]+ar[wr+1]*256);return br}st.prototype.slice=function(Ht,Wt){const ar=this.length;Ht=~~Ht,Wt=Wt===void 0?ar:~~Wt,Ht<0?(Ht+=ar,Ht<0&&(Ht=0)):Ht>ar&&(Ht=ar),Wt<0?(Wt+=ar,Wt<0&&(Wt=0)):Wt>ar&&(Wt=ar),Wt<Ht&&(Wt=Ht);const br=this.subarray(Ht,Wt);return Object.setPrototypeOf(br,st.prototype),br};function rr(Zt,Ht,Wt){if(Zt%1!==0||Zt<0)throw new RangeError("offset is not uint");if(Zt+Ht>Wt)throw new RangeError("Trying to access beyond buffer length")}st.prototype.readUintLE=st.prototype.readUIntLE=function(Ht,Wt,ar){Ht=Ht>>>0,Wt=Wt>>>0,ar||rr(Ht,Wt,this.length);let br=this[Ht],wr=1,Rr=0;for(;++Rr<Wt&&(wr*=256);)br+=this[Ht+Rr]*wr;return br},st.prototype.readUintBE=st.prototype.readUIntBE=function(Ht,Wt,ar){Ht=Ht>>>0,Wt=Wt>>>0,ar||rr(Ht,Wt,this.length);let br=this[Ht+--Wt],wr=1;for(;Wt>0&&(wr*=256);)br+=this[Ht+--Wt]*wr;return br},st.prototype.readUint8=st.prototype.readUInt8=function(Ht,Wt){return Ht=Ht>>>0,Wt||rr(Ht,1,this.length),this[Ht]},st.prototype.readUint16LE=st.prototype.readUInt16LE=function(Ht,Wt){return Ht=Ht>>>0,Wt||rr(Ht,2,this.length),this[Ht]|this[Ht+1]<<8},st.prototype.readUint16BE=st.prototype.readUInt16BE=function(Ht,Wt){return Ht=Ht>>>0,Wt||rr(Ht,2,this.length),this[Ht]<<8|this[Ht+1]},st.prototype.readUint32LE=st.prototype.readUInt32LE=function(Ht,Wt){return Ht=Ht>>>0,Wt||rr(Ht,4,this.length),(this[Ht]|this[Ht+1]<<8|this[Ht+2]<<16)+this[Ht+3]*16777216},st.prototype.readUint32BE=st.prototype.readUInt32BE=function(Ht,Wt){return Ht=Ht>>>0,Wt||rr(Ht,4,this.length),this[Ht]*16777216+(this[Ht+1]<<16|this[Ht+2]<<8|this[Ht+3])},st.prototype.readBigUInt64LE=Xt(function(Ht){Ht=Ht>>>0,Ir(Ht,"offset");const Wt=this[Ht],ar=this[Ht+7];(Wt===void 0||ar===void 0)&&Cr(Ht,this.length-8);const br=Wt+this[++Ht]*2**8+this[++Ht]*2**16+this[++Ht]*2**24,wr=this[++Ht]+this[++Ht]*2**8+this[++Ht]*2**16+ar*2**24;return BigInt(br)+(BigInt(wr)<<BigInt(32))}),st.prototype.readBigUInt64BE=Xt(function(Ht){Ht=Ht>>>0,Ir(Ht,"offset");const Wt=this[Ht],ar=this[Ht+7];(Wt===void 0||ar===void 0)&&Cr(Ht,this.length-8);const br=Wt*2**24+this[++Ht]*2**16+this[++Ht]*2**8+this[++Ht],wr=this[++Ht]*2**24+this[++Ht]*2**16+this[++Ht]*2**8+ar;return(BigInt(br)<<BigInt(32))+BigInt(wr)}),st.prototype.readIntLE=function(Ht,Wt,ar){Ht=Ht>>>0,Wt=Wt>>>0,ar||rr(Ht,Wt,this.length);let br=this[Ht],wr=1,Rr=0;for(;++Rr<Wt&&(wr*=256);)br+=this[Ht+Rr]*wr;return wr*=128,br>=wr&&(br-=Math.pow(2,8*Wt)),br},st.prototype.readIntBE=function(Ht,Wt,ar){Ht=Ht>>>0,Wt=Wt>>>0,ar||rr(Ht,Wt,this.length);let br=Wt,wr=1,Rr=this[Ht+--br];for(;br>0&&(wr*=256);)Rr+=this[Ht+--br]*wr;return wr*=128,Rr>=wr&&(Rr-=Math.pow(2,8*Wt)),Rr},st.prototype.readInt8=function(Ht,Wt){return Ht=Ht>>>0,Wt||rr(Ht,1,this.length),this[Ht]&128?(255-this[Ht]+1)*-1:this[Ht]},st.prototype.readInt16LE=function(Ht,Wt){Ht=Ht>>>0,Wt||rr(Ht,2,this.length);const ar=this[Ht]|this[Ht+1]<<8;return ar&32768?ar|4294901760:ar},st.prototype.readInt16BE=function(Ht,Wt){Ht=Ht>>>0,Wt||rr(Ht,2,this.length);const ar=this[Ht+1]|this[Ht]<<8;return ar&32768?ar|4294901760:ar},st.prototype.readInt32LE=function(Ht,Wt){return Ht=Ht>>>0,Wt||rr(Ht,4,this.length),this[Ht]|this[Ht+1]<<8|this[Ht+2]<<16|this[Ht+3]<<24},st.prototype.readInt32BE=function(Ht,Wt){return Ht=Ht>>>0,Wt||rr(Ht,4,this.length),this[Ht]<<24|this[Ht+1]<<16|this[Ht+2]<<8|this[Ht+3]},st.prototype.readBigInt64LE=Xt(function(Ht){Ht=Ht>>>0,Ir(Ht,"offset");const Wt=this[Ht],ar=this[Ht+7];(Wt===void 0||ar===void 0)&&Cr(Ht,this.length-8);const br=this[Ht+4]+this[Ht+5]*2**8+this[Ht+6]*2**16+(ar<<24);return(BigInt(br)<<BigInt(32))+BigInt(Wt+this[++Ht]*2**8+this[++Ht]*2**16+this[++Ht]*2**24)}),st.prototype.readBigInt64BE=Xt(function(Ht){Ht=Ht>>>0,Ir(Ht,"offset");const Wt=this[Ht],ar=this[Ht+7];(Wt===void 0||ar===void 0)&&Cr(Ht,this.length-8);const br=(Wt<<24)+this[++Ht]*2**16+this[++Ht]*2**8+this[++Ht];return(BigInt(br)<<BigInt(32))+BigInt(this[++Ht]*2**24+this[++Ht]*2**16+this[++Ht]*2**8+ar)}),st.prototype.readFloatLE=function(Ht,Wt){return Ht=Ht>>>0,Wt||rr(Ht,4,this.length),$.read(this,Ht,!0,23,4)},st.prototype.readFloatBE=function(Ht,Wt){return Ht=Ht>>>0,Wt||rr(Ht,4,this.length),$.read(this,Ht,!1,23,4)},st.prototype.readDoubleLE=function(Ht,Wt){return Ht=Ht>>>0,Wt||rr(Ht,8,this.length),$.read(this,Ht,!0,52,8)},st.prototype.readDoubleBE=function(Ht,Wt){return Ht=Ht>>>0,Wt||rr(Ht,8,this.length),$.read(this,Ht,!1,52,8)};function ir(Zt,Ht,Wt,ar,br,wr){if(!st.isBuffer(Zt))throw new TypeError('"buffer" argument must be a Buffer instance');if(Ht>br||Ht<wr)throw new RangeError('"value" argument is out of bounds');if(Wt+ar>Zt.length)throw new RangeError("Index out of range")}st.prototype.writeUintLE=st.prototype.writeUIntLE=function(Ht,Wt,ar,br){if(Ht=+Ht,Wt=Wt>>>0,ar=ar>>>0,!br){const Qr=Math.pow(2,8*ar)-1;ir(this,Ht,Wt,ar,Qr,0)}let wr=1,Rr=0;for(this[Wt]=Ht&255;++Rr<ar&&(wr*=256);)this[Wt+Rr]=Ht/wr&255;return Wt+ar},st.prototype.writeUintBE=st.prototype.writeUIntBE=function(Ht,Wt,ar,br){if(Ht=+Ht,Wt=Wt>>>0,ar=ar>>>0,!br){const Qr=Math.pow(2,8*ar)-1;ir(this,Ht,Wt,ar,Qr,0)}let wr=ar-1,Rr=1;for(this[Wt+wr]=Ht&255;--wr>=0&&(Rr*=256);)this[Wt+wr]=Ht/Rr&255;return Wt+ar},st.prototype.writeUint8=st.prototype.writeUInt8=function(Ht,Wt,ar){return Ht=+Ht,Wt=Wt>>>0,ar||ir(this,Ht,Wt,1,255,0),this[Wt]=Ht&255,Wt+1},st.prototype.writeUint16LE=st.prototype.writeUInt16LE=function(Ht,Wt,ar){return Ht=+Ht,Wt=Wt>>>0,ar||ir(this,Ht,Wt,2,65535,0),this[Wt]=Ht&255,this[Wt+1]=Ht>>>8,Wt+2},st.prototype.writeUint16BE=st.prototype.writeUInt16BE=function(Ht,Wt,ar){return Ht=+Ht,Wt=Wt>>>0,ar||ir(this,Ht,Wt,2,65535,0),this[Wt]=Ht>>>8,this[Wt+1]=Ht&255,Wt+2},st.prototype.writeUint32LE=st.prototype.writeUInt32LE=function(Ht,Wt,ar){return Ht=+Ht,Wt=Wt>>>0,ar||ir(this,Ht,Wt,4,4294967295,0),this[Wt+3]=Ht>>>24,this[Wt+2]=Ht>>>16,this[Wt+1]=Ht>>>8,this[Wt]=Ht&255,Wt+4},st.prototype.writeUint32BE=st.prototype.writeUInt32BE=function(Ht,Wt,ar){return Ht=+Ht,Wt=Wt>>>0,ar||ir(this,Ht,Wt,4,4294967295,0),this[Wt]=Ht>>>24,this[Wt+1]=Ht>>>16,this[Wt+2]=Ht>>>8,this[Wt+3]=Ht&255,Wt+4};function nr(Zt,Ht,Wt,ar,br){pr(Ht,ar,br,Zt,Wt,7);let wr=Number(Ht&BigInt(4294967295));Zt[Wt++]=wr,wr=wr>>8,Zt[Wt++]=wr,wr=wr>>8,Zt[Wt++]=wr,wr=wr>>8,Zt[Wt++]=wr;let Rr=Number(Ht>>BigInt(32)&BigInt(4294967295));return Zt[Wt++]=Rr,Rr=Rr>>8,Zt[Wt++]=Rr,Rr=Rr>>8,Zt[Wt++]=Rr,Rr=Rr>>8,Zt[Wt++]=Rr,Wt}function Gt(Zt,Ht,Wt,ar,br){pr(Ht,ar,br,Zt,Wt,7);let wr=Number(Ht&BigInt(4294967295));Zt[Wt+7]=wr,wr=wr>>8,Zt[Wt+6]=wr,wr=wr>>8,Zt[Wt+5]=wr,wr=wr>>8,Zt[Wt+4]=wr;let Rr=Number(Ht>>BigInt(32)&BigInt(4294967295));return Zt[Wt+3]=Rr,Rr=Rr>>8,Zt[Wt+2]=Rr,Rr=Rr>>8,Zt[Wt+1]=Rr,Rr=Rr>>8,Zt[Wt]=Rr,Wt+8}st.prototype.writeBigUInt64LE=Xt(function(Ht,Wt=0){return nr(this,Ht,Wt,BigInt(0),BigInt("0xffffffffffffffff"))}),st.prototype.writeBigUInt64BE=Xt(function(Ht,Wt=0){return Gt(this,Ht,Wt,BigInt(0),BigInt("0xffffffffffffffff"))}),st.prototype.writeIntLE=function(Ht,Wt,ar,br){if(Ht=+Ht,Wt=Wt>>>0,!br){const Ur=Math.pow(2,8*ar-1);ir(this,Ht,Wt,ar,Ur-1,-Ur)}let wr=0,Rr=1,Qr=0;for(this[Wt]=Ht&255;++wr<ar&&(Rr*=256);)Ht<0&&Qr===0&&this[Wt+wr-1]!==0&&(Qr=1),this[Wt+wr]=(Ht/Rr>>0)-Qr&255;return Wt+ar},st.prototype.writeIntBE=function(Ht,Wt,ar,br){if(Ht=+Ht,Wt=Wt>>>0,!br){const Ur=Math.pow(2,8*ar-1);ir(this,Ht,Wt,ar,Ur-1,-Ur)}let wr=ar-1,Rr=1,Qr=0;for(this[Wt+wr]=Ht&255;--wr>=0&&(Rr*=256);)Ht<0&&Qr===0&&this[Wt+wr+1]!==0&&(Qr=1),this[Wt+wr]=(Ht/Rr>>0)-Qr&255;return Wt+ar},st.prototype.writeInt8=function(Ht,Wt,ar){return Ht=+Ht,Wt=Wt>>>0,ar||ir(this,Ht,Wt,1,127,-128),Ht<0&&(Ht=255+Ht+1),this[Wt]=Ht&255,Wt+1},st.prototype.writeInt16LE=function(Ht,Wt,ar){return Ht=+Ht,Wt=Wt>>>0,ar||ir(this,Ht,Wt,2,32767,-32768),this[Wt]=Ht&255,this[Wt+1]=Ht>>>8,Wt+2},st.prototype.writeInt16BE=function(Ht,Wt,ar){return Ht=+Ht,Wt=Wt>>>0,ar||ir(this,Ht,Wt,2,32767,-32768),this[Wt]=Ht>>>8,this[Wt+1]=Ht&255,Wt+2},st.prototype.writeInt32LE=function(Ht,Wt,ar){return Ht=+Ht,Wt=Wt>>>0,ar||ir(this,Ht,Wt,4,2147483647,-2147483648),this[Wt]=Ht&255,this[Wt+1]=Ht>>>8,this[Wt+2]=Ht>>>16,this[Wt+3]=Ht>>>24,Wt+4},st.prototype.writeInt32BE=function(Ht,Wt,ar){return Ht=+Ht,Wt=Wt>>>0,ar||ir(this,Ht,Wt,4,2147483647,-2147483648),Ht<0&&(Ht=4294967295+Ht+1),this[Wt]=Ht>>>24,this[Wt+1]=Ht>>>16,this[Wt+2]=Ht>>>8,this[Wt+3]=Ht&255,Wt+4},st.prototype.writeBigInt64LE=Xt(function(Ht,Wt=0){return nr(this,Ht,Wt,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),st.prototype.writeBigInt64BE=Xt(function(Ht,Wt=0){return Gt(this,Ht,Wt,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function qt(Zt,Ht,Wt,ar,br,wr){if(Wt+ar>Zt.length)throw new RangeError("Index out of range");if(Wt<0)throw new RangeError("Index out of range")}function Jt(Zt,Ht,Wt,ar,br){return Ht=+Ht,Wt=Wt>>>0,br||qt(Zt,Ht,Wt,4),$.write(Zt,Ht,Wt,ar,23,4),Wt+4}st.prototype.writeFloatLE=function(Ht,Wt,ar){return Jt(this,Ht,Wt,!0,ar)},st.prototype.writeFloatBE=function(Ht,Wt,ar){return Jt(this,Ht,Wt,!1,ar)};function Ft(Zt,Ht,Wt,ar,br){return Ht=+Ht,Wt=Wt>>>0,br||qt(Zt,Ht,Wt,8),$.write(Zt,Ht,Wt,ar,52,8),Wt+8}st.prototype.writeDoubleLE=function(Ht,Wt,ar){return Ft(this,Ht,Wt,!0,ar)},st.prototype.writeDoubleBE=function(Ht,Wt,ar){return Ft(this,Ht,Wt,!1,ar)},st.prototype.copy=function(Ht,Wt,ar,br){if(!st.isBuffer(Ht))throw new TypeError("argument should be a Buffer");if(ar||(ar=0),!br&&br!==0&&(br=this.length),Wt>=Ht.length&&(Wt=Ht.length),Wt||(Wt=0),br>0&&br<ar&&(br=ar),br===ar||Ht.length===0||this.length===0)return 0;if(Wt<0)throw new RangeError("targetStart out of bounds");if(ar<0||ar>=this.length)throw new RangeError("Index out of range");if(br<0)throw new RangeError("sourceEnd out of bounds");br>this.length&&(br=this.length),Ht.length-Wt<br-ar&&(br=Ht.length-Wt+ar);const wr=br-ar;return this===Ht&&typeof tt.prototype.copyWithin=="function"?this.copyWithin(Wt,ar,br):tt.prototype.set.call(Ht,this.subarray(ar,br),Wt),wr},st.prototype.fill=function(Ht,Wt,ar,br){if(typeof Ht=="string"){if(typeof Wt=="string"?(br=Wt,Wt=0,ar=this.length):typeof ar=="string"&&(br=ar,ar=this.length),br!==void 0&&typeof br!="string")throw new TypeError("encoding must be a string");if(typeof br=="string"&&!st.isEncoding(br))throw new TypeError("Unknown encoding: "+br);if(Ht.length===1){const Rr=Ht.charCodeAt(0);(br==="utf8"&&Rr<128||br==="latin1")&&(Ht=Rr)}}else typeof Ht=="number"?Ht=Ht&255:typeof Ht=="boolean"&&(Ht=Number(Ht));if(Wt<0||this.length<Wt||this.length<ar)throw new RangeError("Out of range index");if(ar<=Wt)return this;Wt=Wt>>>0,ar=ar===void 0?this.length:ar>>>0,Ht||(Ht=0);let wr;if(typeof Ht=="number")for(wr=Wt;wr<ar;++wr)this[wr]=Ht;else{const Rr=st.isBuffer(Ht)?Ht:st.from(Ht,br),Qr=Rr.length;if(Qr===0)throw new TypeError('The value "'+Ht+'" is invalid for argument "value"');for(wr=0;wr<ar-Wt;++wr)this[wr+Wt]=Rr[wr%Qr]}return this};const Kt={};function Qt(Zt,Ht,Wt){Kt[Zt]=class extends Wt{constructor(){super(),Object.defineProperty(this,"message",{value:Ht.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${Zt}]`,this.stack,delete this.name}get code(){return Zt}set code(br){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:br,writable:!0})}toString(){return`${this.name} [${Zt}]: ${this.message}`}}}Qt("ERR_BUFFER_OUT_OF_BOUNDS",function(Zt){return Zt?`${Zt} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Qt("ERR_INVALID_ARG_TYPE",function(Zt,Ht){return`The "${Zt}" argument must be of type number. Received type ${typeof Ht}`},TypeError),Qt("ERR_OUT_OF_RANGE",function(Zt,Ht,Wt){let ar=`The value of "${Zt}" is out of range.`,br=Wt;return Number.isInteger(Wt)&&Math.abs(Wt)>2**32?br=dr(String(Wt)):typeof Wt=="bigint"&&(br=String(Wt),(Wt>BigInt(2)**BigInt(32)||Wt<-(BigInt(2)**BigInt(32)))&&(br=dr(br)),br+="n"),ar+=` It must be ${Ht}. Received ${br}`,ar},RangeError);function dr(Zt){let Ht="",Wt=Zt.length;const ar=Zt[0]==="-"?1:0;for(;Wt>=ar+4;Wt-=3)Ht=`_${Zt.slice(Wt-3,Wt)}${Ht}`;return`${Zt.slice(0,Wt)}${Ht}`}function xr(Zt,Ht,Wt){Ir(Ht,"offset"),(Zt[Ht]===void 0||Zt[Ht+Wt]===void 0)&&Cr(Ht,Zt.length-(Wt+1))}function pr(Zt,Ht,Wt,ar,br,wr){if(Zt>Wt||Zt<Ht){const Rr=typeof Ht=="bigint"?"n":"";let Qr;throw Ht===0||Ht===BigInt(0)?Qr=`>= 0${Rr} and < 2${Rr} ** ${(wr+1)*8}${Rr}`:Qr=`>= -(2${Rr} ** ${(wr+1)*8-1}${Rr}) and < 2 ** ${(wr+1)*8-1}${Rr}`,new Kt.ERR_OUT_OF_RANGE("value",Qr,Zt)}xr(ar,br,wr)}function Ir(Zt,Ht){if(typeof Zt!="number")throw new Kt.ERR_INVALID_ARG_TYPE(Ht,"number",Zt)}function Cr(Zt,Ht,Wt){throw Math.floor(Zt)!==Zt?(Ir(Zt,Wt),new Kt.ERR_OUT_OF_RANGE("offset","an integer",Zt)):Ht<0?new Kt.ERR_BUFFER_OUT_OF_BOUNDS:new Kt.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${Ht}`,Zt)}const lr=/[^+/0-9A-Za-z-_]/g;function fr(Zt){if(Zt=Zt.split("=")[0],Zt=Zt.trim().replace(lr,""),Zt.length<2)return"";for(;Zt.length%4!==0;)Zt=Zt+"=";return Zt}function Er(Zt,Ht){Ht=Ht||1/0;let Wt;const ar=Zt.length;let br=null;const wr=[];for(let Rr=0;Rr<ar;++Rr){if(Wt=Zt.charCodeAt(Rr),Wt>55295&&Wt<57344){if(!br){if(Wt>56319){(Ht-=3)>-1&&wr.push(239,191,189);continue}else if(Rr+1===ar){(Ht-=3)>-1&&wr.push(239,191,189);continue}br=Wt;continue}if(Wt<56320){(Ht-=3)>-1&&wr.push(239,191,189),br=Wt;continue}Wt=(br-55296<<10|Wt-56320)+65536}else br&&(Ht-=3)>-1&&wr.push(239,191,189);if(br=null,Wt<128){if((Ht-=1)<0)break;wr.push(Wt)}else if(Wt<2048){if((Ht-=2)<0)break;wr.push(Wt>>6|192,Wt&63|128)}else if(Wt<65536){if((Ht-=3)<0)break;wr.push(Wt>>12|224,Wt>>6&63|128,Wt&63|128)}else if(Wt<1114112){if((Ht-=4)<0)break;wr.push(Wt>>18|240,Wt>>12&63|128,Wt>>6&63|128,Wt&63|128)}else throw new Error("Invalid code point")}return wr}function Ar(Zt){const Ht=[];for(let Wt=0;Wt<Zt.length;++Wt)Ht.push(Zt.charCodeAt(Wt)&255);return Ht}function kr(Zt,Ht){let Wt,ar,br;const wr=[];for(let Rr=0;Rr<Zt.length&&!((Ht-=2)<0);++Rr)Wt=Zt.charCodeAt(Rr),ar=Wt>>8,br=Wt%256,wr.push(br),wr.push(ar);return wr}function Sr(Zt){return a.toByteArray(fr(Zt))}function $r(Zt,Ht,Wt,ar){let br;for(br=0;br<ar&&!(br+Wt>=Ht.length||br>=Zt.length);++br)Ht[br+Wt]=Zt[br];return br}function jr(Zt,Ht){return Zt instanceof Ht||Zt!=null&&Zt.constructor!=null&&Zt.constructor.name!=null&&Zt.constructor.name===Ht.name}function Nr(Zt){return Zt!==Zt}const or=function(){const Zt="0123456789abcdef",Ht=new Array(256);for(let Wt=0;Wt<16;++Wt){const ar=Wt*16;for(let br=0;br<16;++br)Ht[ar+br]=Zt[Wt]+Zt[br]}return Ht}();function Xt(Zt){return typeof BigInt>"u"?er:Zt}function er(){throw new Error("BigInt not supported")}})(buffer$2);const Buffer$g=buffer$2.Buffer;var inherits_browser={exports:{}};typeof Object.create=="function"?inherits_browser.exports=function(a,$){$&&(a.super_=$,a.prototype=Object.create($.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}))}:inherits_browser.exports=function(a,$){if($){a.super_=$;var j=function(){};j.prototype=$.prototype,a.prototype=new j,a.prototype.constructor=a}};var inherits_browserExports=inherits_browser.exports,safeBuffer$2={exports:{}},buffer$1={},base64Js={};base64Js.byteLength=byteLength$1;base64Js.toByteArray=toByteArray;base64Js.fromByteArray=fromByteArray;var lookup$2=[],revLookup=[],Arr=typeof Uint8Array<"u"?Uint8Array:Array,code="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var i$1=0,len=code.length;i$1<len;++i$1)lookup$2[i$1]=code[i$1],revLookup[code.charCodeAt(i$1)]=i$1;revLookup[45]=62;revLookup[95]=63;function getLens(_){var a=_.length;if(a%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var $=_.indexOf("=");$===-1&&($=a);var j=$===a?0:4-$%4;return[$,j]}function byteLength$1(_){var a=getLens(_),$=a[0],j=a[1];return($+j)*3/4-j}function _byteLength(_,a,$){return(a+$)*3/4-$}function toByteArray(_){var a,$=getLens(_),j=$[0],et=$[1],tt=new Arr(_byteLength(_,j,et)),rt=0,nt=et>0?j-4:j,it;for(it=0;it<nt;it+=4)a=revLookup[_.charCodeAt(it)]<<18|revLookup[_.charCodeAt(it+1)]<<12|revLookup[_.charCodeAt(it+2)]<<6|revLookup[_.charCodeAt(it+3)],tt[rt++]=a>>16&255,tt[rt++]=a>>8&255,tt[rt++]=a&255;return et===2&&(a=revLookup[_.charCodeAt(it)]<<2|revLookup[_.charCodeAt(it+1)]>>4,tt[rt++]=a&255),et===1&&(a=revLookup[_.charCodeAt(it)]<<10|revLookup[_.charCodeAt(it+1)]<<4|revLookup[_.charCodeAt(it+2)]>>2,tt[rt++]=a>>8&255,tt[rt++]=a&255),tt}function tripletToBase64(_){return lookup$2[_>>18&63]+lookup$2[_>>12&63]+lookup$2[_>>6&63]+lookup$2[_&63]}function encodeChunk(_,a,$){for(var j,et=[],tt=a;tt<$;tt+=3)j=(_[tt]<<16&16711680)+(_[tt+1]<<8&65280)+(_[tt+2]&255),et.push(tripletToBase64(j));return et.join("")}function fromByteArray(_){for(var a,$=_.length,j=$%3,et=[],tt=16383,rt=0,nt=$-j;rt<nt;rt+=tt)et.push(encodeChunk(_,rt,rt+tt>nt?nt:rt+tt));return j===1?(a=_[$-1],et.push(lookup$2[a>>2]+lookup$2[a<<4&63]+"==")):j===2&&(a=(_[$-2]<<8)+_[$-1],et.push(lookup$2[a>>10]+lookup$2[a>>4&63]+lookup$2[a<<2&63]+"=")),et.join("")}var ieee754={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */ieee754.read=function(_,a,$,j,et){var tt,rt,nt=et*8-j-1,it=(1<<nt)-1,ot=it>>1,st=-7,ct=$?et-1:0,ut=$?-1:1,ht=_[a+ct];for(ct+=ut,tt=ht&(1<<-st)-1,ht>>=-st,st+=nt;st>0;tt=tt*256+_[a+ct],ct+=ut,st-=8);for(rt=tt&(1<<-st)-1,tt>>=-st,st+=j;st>0;rt=rt*256+_[a+ct],ct+=ut,st-=8);if(tt===0)tt=1-ot;else{if(tt===it)return rt?NaN:(ht?-1:1)*(1/0);rt=rt+Math.pow(2,j),tt=tt-ot}return(ht?-1:1)*rt*Math.pow(2,tt-j)};ieee754.write=function(_,a,$,j,et,tt){var rt,nt,it,ot=tt*8-et-1,st=(1<<ot)-1,ct=st>>1,ut=et===23?Math.pow(2,-24)-Math.pow(2,-77):0,ht=j?0:tt-1,Et=j?1:-1,St=a<0||a===0&&1/a<0?1:0;for(a=Math.abs(a),isNaN(a)||a===1/0?(nt=isNaN(a)?1:0,rt=st):(rt=Math.floor(Math.log(a)/Math.LN2),a*(it=Math.pow(2,-rt))<1&&(rt--,it*=2),rt+ct>=1?a+=ut/it:a+=ut*Math.pow(2,1-ct),a*it>=2&&(rt++,it/=2),rt+ct>=st?(nt=0,rt=st):rt+ct>=1?(nt=(a*it-1)*Math.pow(2,et),rt=rt+ct):(nt=a*Math.pow(2,ct-1)*Math.pow(2,et),rt=0));et>=8;_[$+ht]=nt&255,ht+=Et,nt/=256,et-=8);for(rt=rt<<et|nt,ot+=et;ot>0;_[$+ht]=rt&255,ht+=Et,rt/=256,ot-=8);_[$+ht-Et]|=St*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(_){const a=base64Js,$=ieee754,j=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;_.Buffer=nt,_.SlowBuffer=Ct,_.INSPECT_MAX_BYTES=50;const et=2147483647;_.kMaxLength=et,nt.TYPED_ARRAY_SUPPORT=tt(),!nt.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function tt(){try{const or=new Uint8Array(1),Xt={foo:function(){return 42}};return Object.setPrototypeOf(Xt,Uint8Array.prototype),Object.setPrototypeOf(or,Xt),or.foo()===42}catch{return!1}}Object.defineProperty(nt.prototype,"parent",{enumerable:!0,get:function(){if(nt.isBuffer(this))return this.buffer}}),Object.defineProperty(nt.prototype,"offset",{enumerable:!0,get:function(){if(nt.isBuffer(this))return this.byteOffset}});function rt(or){if(or>et)throw new RangeError('The value "'+or+'" is invalid for option "size"');const Xt=new Uint8Array(or);return Object.setPrototypeOf(Xt,nt.prototype),Xt}function nt(or,Xt,er){if(typeof or=="number"){if(typeof Xt=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return ct(or)}return it(or,Xt,er)}nt.poolSize=8192;function it(or,Xt,er){if(typeof or=="string")return ut(or,Xt);if(ArrayBuffer.isView(or))return Et(or);if(or==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof or);if(kr(or,ArrayBuffer)||or&&kr(or.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(kr(or,SharedArrayBuffer)||or&&kr(or.buffer,SharedArrayBuffer)))return St(or,Xt,er);if(typeof or=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const Zt=or.valueOf&&or.valueOf();if(Zt!=null&&Zt!==or)return nt.from(Zt,Xt,er);const Ht=Mt(or);if(Ht)return Ht;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof or[Symbol.toPrimitive]=="function")return nt.from(or[Symbol.toPrimitive]("string"),Xt,er);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof or)}nt.from=function(or,Xt,er){return it(or,Xt,er)},Object.setPrototypeOf(nt.prototype,Uint8Array.prototype),Object.setPrototypeOf(nt,Uint8Array);function ot(or){if(typeof or!="number")throw new TypeError('"size" argument must be of type number');if(or<0)throw new RangeError('The value "'+or+'" is invalid for option "size"')}function st(or,Xt,er){return ot(or),or<=0?rt(or):Xt!==void 0?typeof er=="string"?rt(or).fill(Xt,er):rt(or).fill(Xt):rt(or)}nt.alloc=function(or,Xt,er){return st(or,Xt,er)};function ct(or){return ot(or),rt(or<0?0:kt(or)|0)}nt.allocUnsafe=function(or){return ct(or)},nt.allocUnsafeSlow=function(or){return ct(or)};function ut(or,Xt){if((typeof Xt!="string"||Xt==="")&&(Xt="utf8"),!nt.isEncoding(Xt))throw new TypeError("Unknown encoding: "+Xt);const er=Ot(or,Xt)|0;let Zt=rt(er);const Ht=Zt.write(or,Xt);return Ht!==er&&(Zt=Zt.slice(0,Ht)),Zt}function ht(or){const Xt=or.length<0?0:kt(or.length)|0,er=rt(Xt);for(let Zt=0;Zt<Xt;Zt+=1)er[Zt]=or[Zt]&255;return er}function Et(or){if(kr(or,Uint8Array)){const Xt=new Uint8Array(or);return St(Xt.buffer,Xt.byteOffset,Xt.byteLength)}return ht(or)}function St(or,Xt,er){if(Xt<0||or.byteLength<Xt)throw new RangeError('"offset" is outside of buffer bounds');if(or.byteLength<Xt+(er||0))throw new RangeError('"length" is outside of buffer bounds');let Zt;return Xt===void 0&&er===void 0?Zt=new Uint8Array(or):er===void 0?Zt=new Uint8Array(or,Xt):Zt=new Uint8Array(or,Xt,er),Object.setPrototypeOf(Zt,nt.prototype),Zt}function Mt(or){if(nt.isBuffer(or)){const Xt=kt(or.length)|0,er=rt(Xt);return er.length===0||or.copy(er,0,0,Xt),er}if(or.length!==void 0)return typeof or.length!="number"||Sr(or.length)?rt(0):ht(or);if(or.type==="Buffer"&&Array.isArray(or.data))return ht(or.data)}function kt(or){if(or>=et)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+et.toString(16)+" bytes");return or|0}function Ct(or){return+or!=or&&(or=0),nt.alloc(+or)}nt.isBuffer=function(Xt){return Xt!=null&&Xt._isBuffer===!0&&Xt!==nt.prototype},nt.compare=function(Xt,er){if(kr(Xt,Uint8Array)&&(Xt=nt.from(Xt,Xt.offset,Xt.byteLength)),kr(er,Uint8Array)&&(er=nt.from(er,er.offset,er.byteLength)),!nt.isBuffer(Xt)||!nt.isBuffer(er))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(Xt===er)return 0;let Zt=Xt.length,Ht=er.length;for(let Wt=0,ar=Math.min(Zt,Ht);Wt<ar;++Wt)if(Xt[Wt]!==er[Wt]){Zt=Xt[Wt],Ht=er[Wt];break}return Zt<Ht?-1:Ht<Zt?1:0},nt.isEncoding=function(Xt){switch(String(Xt).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},nt.concat=function(Xt,er){if(!Array.isArray(Xt))throw new TypeError('"list" argument must be an Array of Buffers');if(Xt.length===0)return nt.alloc(0);let Zt;if(er===void 0)for(er=0,Zt=0;Zt<Xt.length;++Zt)er+=Xt[Zt].length;const Ht=nt.allocUnsafe(er);let Wt=0;for(Zt=0;Zt<Xt.length;++Zt){let ar=Xt[Zt];if(kr(ar,Uint8Array))Wt+ar.length>Ht.length?(nt.isBuffer(ar)||(ar=nt.from(ar)),ar.copy(Ht,Wt)):Uint8Array.prototype.set.call(Ht,ar,Wt);else if(nt.isBuffer(ar))ar.copy(Ht,Wt);else throw new TypeError('"list" argument must be an Array of Buffers');Wt+=ar.length}return Ht};function Ot(or,Xt){if(nt.isBuffer(or))return or.length;if(ArrayBuffer.isView(or)||kr(or,ArrayBuffer))return or.byteLength;if(typeof or!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof or);const er=or.length,Zt=arguments.length>2&&arguments[2]===!0;if(!Zt&&er===0)return 0;let Ht=!1;for(;;)switch(Xt){case"ascii":case"latin1":case"binary":return er;case"utf8":case"utf-8":return Cr(or).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return er*2;case"hex":return er>>>1;case"base64":return Er(or).length;default:if(Ht)return Zt?-1:Cr(or).length;Xt=(""+Xt).toLowerCase(),Ht=!0}}nt.byteLength=Ot;function zt(or,Xt,er){let Zt=!1;if((Xt===void 0||Xt<0)&&(Xt=0),Xt>this.length||((er===void 0||er>this.length)&&(er=this.length),er<=0)||(er>>>=0,Xt>>>=0,er<=Xt))return"";for(or||(or="utf8");;)switch(or){case"hex":return _t(this,Xt,er);case"utf8":case"utf-8":return at(this,Xt,er);case"ascii":return xt(this,Xt,er);case"latin1":case"binary":return wt(this,Xt,er);case"base64":return bt(this,Xt,er);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return At(this,Xt,er);default:if(Zt)throw new TypeError("Unknown encoding: "+or);or=(or+"").toLowerCase(),Zt=!0}}nt.prototype._isBuffer=!0;function Ut(or,Xt,er){const Zt=or[Xt];or[Xt]=or[er],or[er]=Zt}nt.prototype.swap16=function(){const Xt=this.length;if(Xt%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let er=0;er<Xt;er+=2)Ut(this,er,er+1);return this},nt.prototype.swap32=function(){const Xt=this.length;if(Xt%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let er=0;er<Xt;er+=4)Ut(this,er,er+3),Ut(this,er+1,er+2);return this},nt.prototype.swap64=function(){const Xt=this.length;if(Xt%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let er=0;er<Xt;er+=8)Ut(this,er,er+7),Ut(this,er+1,er+6),Ut(this,er+2,er+5),Ut(this,er+3,er+4);return this},nt.prototype.toString=function(){const Xt=this.length;return Xt===0?"":arguments.length===0?at(this,0,Xt):zt.apply(this,arguments)},nt.prototype.toLocaleString=nt.prototype.toString,nt.prototype.equals=function(Xt){if(!nt.isBuffer(Xt))throw new TypeError("Argument must be a Buffer");return this===Xt?!0:nt.compare(this,Xt)===0},nt.prototype.inspect=function(){let Xt="";const er=_.INSPECT_MAX_BYTES;return Xt=this.toString("hex",0,er).replace(/(.{2})/g,"$1 ").trim(),this.length>er&&(Xt+=" ... "),"<Buffer "+Xt+">"},j&&(nt.prototype[j]=nt.prototype.inspect),nt.prototype.compare=function(Xt,er,Zt,Ht,Wt){if(kr(Xt,Uint8Array)&&(Xt=nt.from(Xt,Xt.offset,Xt.byteLength)),!nt.isBuffer(Xt))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof Xt);if(er===void 0&&(er=0),Zt===void 0&&(Zt=Xt?Xt.length:0),Ht===void 0&&(Ht=0),Wt===void 0&&(Wt=this.length),er<0||Zt>Xt.length||Ht<0||Wt>this.length)throw new RangeError("out of range index");if(Ht>=Wt&&er>=Zt)return 0;if(Ht>=Wt)return-1;if(er>=Zt)return 1;if(er>>>=0,Zt>>>=0,Ht>>>=0,Wt>>>=0,this===Xt)return 0;let ar=Wt-Ht,br=Zt-er;const wr=Math.min(ar,br),Rr=this.slice(Ht,Wt),Qr=Xt.slice(er,Zt);for(let Ur=0;Ur<wr;++Ur)if(Rr[Ur]!==Qr[Ur]){ar=Rr[Ur],br=Qr[Ur];break}return ar<br?-1:br<ar?1:0};function Vt(or,Xt,er,Zt,Ht){if(or.length===0)return-1;if(typeof er=="string"?(Zt=er,er=0):er>2147483647?er=2147483647:er<-2147483648&&(er=-2147483648),er=+er,Sr(er)&&(er=Ht?0:or.length-1),er<0&&(er=or.length+er),er>=or.length){if(Ht)return-1;er=or.length-1}else if(er<0)if(Ht)er=0;else return-1;if(typeof Xt=="string"&&(Xt=nt.from(Xt,Zt)),nt.isBuffer(Xt))return Xt.length===0?-1:jt(or,Xt,er,Zt,Ht);if(typeof Xt=="number")return Xt=Xt&255,typeof Uint8Array.prototype.indexOf=="function"?Ht?Uint8Array.prototype.indexOf.call(or,Xt,er):Uint8Array.prototype.lastIndexOf.call(or,Xt,er):jt(or,[Xt],er,Zt,Ht);throw new TypeError("val must be string, number or Buffer")}function jt(or,Xt,er,Zt,Ht){let Wt=1,ar=or.length,br=Xt.length;if(Zt!==void 0&&(Zt=String(Zt).toLowerCase(),Zt==="ucs2"||Zt==="ucs-2"||Zt==="utf16le"||Zt==="utf-16le")){if(or.length<2||Xt.length<2)return-1;Wt=2,ar/=2,br/=2,er/=2}function wr(Qr,Ur){return Wt===1?Qr[Ur]:Qr.readUInt16BE(Ur*Wt)}let Rr;if(Ht){let Qr=-1;for(Rr=er;Rr<ar;Rr++)if(wr(or,Rr)===wr(Xt,Qr===-1?0:Rr-Qr)){if(Qr===-1&&(Qr=Rr),Rr-Qr+1===br)return Qr*Wt}else Qr!==-1&&(Rr-=Rr-Qr),Qr=-1}else for(er+br>ar&&(er=ar-br),Rr=er;Rr>=0;Rr--){let Qr=!0;for(let Ur=0;Ur<br;Ur++)if(wr(or,Rr+Ur)!==wr(Xt,Ur)){Qr=!1;break}if(Qr)return Rr}return-1}nt.prototype.includes=function(Xt,er,Zt){return this.indexOf(Xt,er,Zt)!==-1},nt.prototype.indexOf=function(Xt,er,Zt){return Vt(this,Xt,er,Zt,!0)},nt.prototype.lastIndexOf=function(Xt,er,Zt){return Vt(this,Xt,er,Zt,!1)};function $t(or,Xt,er,Zt){er=Number(er)||0;const Ht=or.length-er;Zt?(Zt=Number(Zt),Zt>Ht&&(Zt=Ht)):Zt=Ht;const Wt=Xt.length;Zt>Wt/2&&(Zt=Wt/2);let ar;for(ar=0;ar<Zt;++ar){const br=parseInt(Xt.substr(ar*2,2),16);if(Sr(br))return ar;or[er+ar]=br}return ar}function Bt(or,Xt,er,Zt){return Ar(Cr(Xt,or.length-er),or,er,Zt)}function Nt(or,Xt,er,Zt){return Ar(lr(Xt),or,er,Zt)}function Lt(or,Xt,er,Zt){return Ar(Er(Xt),or,er,Zt)}function Pt(or,Xt,er,Zt){return Ar(fr(Xt,or.length-er),or,er,Zt)}nt.prototype.write=function(Xt,er,Zt,Ht){if(er===void 0)Ht="utf8",Zt=this.length,er=0;else if(Zt===void 0&&typeof er=="string")Ht=er,Zt=this.length,er=0;else if(isFinite(er))er=er>>>0,isFinite(Zt)?(Zt=Zt>>>0,Ht===void 0&&(Ht="utf8")):(Ht=Zt,Zt=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const Wt=this.length-er;if((Zt===void 0||Zt>Wt)&&(Zt=Wt),Xt.length>0&&(Zt<0||er<0)||er>this.length)throw new RangeError("Attempt to write outside buffer bounds");Ht||(Ht="utf8");let ar=!1;for(;;)switch(Ht){case"hex":return $t(this,Xt,er,Zt);case"utf8":case"utf-8":return Bt(this,Xt,er,Zt);case"ascii":case"latin1":case"binary":return Nt(this,Xt,er,Zt);case"base64":return Lt(this,Xt,er,Zt);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Pt(this,Xt,er,Zt);default:if(ar)throw new TypeError("Unknown encoding: "+Ht);Ht=(""+Ht).toLowerCase(),ar=!0}},nt.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function bt(or,Xt,er){return Xt===0&&er===or.length?a.fromByteArray(or):a.fromByteArray(or.slice(Xt,er))}function at(or,Xt,er){er=Math.min(or.length,er);const Zt=[];let Ht=Xt;for(;Ht<er;){const Wt=or[Ht];let ar=null,br=Wt>239?4:Wt>223?3:Wt>191?2:1;if(Ht+br<=er){let wr,Rr,Qr,Ur;switch(br){case 1:Wt<128&&(ar=Wt);break;case 2:wr=or[Ht+1],(wr&192)===128&&(Ur=(Wt&31)<<6|wr&63,Ur>127&&(ar=Ur));break;case 3:wr=or[Ht+1],Rr=or[Ht+2],(wr&192)===128&&(Rr&192)===128&&(Ur=(Wt&15)<<12|(wr&63)<<6|Rr&63,Ur>2047&&(Ur<55296||Ur>57343)&&(ar=Ur));break;case 4:wr=or[Ht+1],Rr=or[Ht+2],Qr=or[Ht+3],(wr&192)===128&&(Rr&192)===128&&(Qr&192)===128&&(Ur=(Wt&15)<<18|(wr&63)<<12|(Rr&63)<<6|Qr&63,Ur>65535&&Ur<1114112&&(ar=Ur))}}ar===null?(ar=65533,br=1):ar>65535&&(ar-=65536,Zt.push(ar>>>10&1023|55296),ar=56320|ar&1023),Zt.push(ar),Ht+=br}return vt(Zt)}const dt=4096;function vt(or){const Xt=or.length;if(Xt<=dt)return String.fromCharCode.apply(String,or);let er="",Zt=0;for(;Zt<Xt;)er+=String.fromCharCode.apply(String,or.slice(Zt,Zt+=dt));return er}function xt(or,Xt,er){let Zt="";er=Math.min(or.length,er);for(let Ht=Xt;Ht<er;++Ht)Zt+=String.fromCharCode(or[Ht]&127);return Zt}function wt(or,Xt,er){let Zt="";er=Math.min(or.length,er);for(let Ht=Xt;Ht<er;++Ht)Zt+=String.fromCharCode(or[Ht]);return Zt}function _t(or,Xt,er){const Zt=or.length;(!Xt||Xt<0)&&(Xt=0),(!er||er<0||er>Zt)&&(er=Zt);let Ht="";for(let Wt=Xt;Wt<er;++Wt)Ht+=$r[or[Wt]];return Ht}function At(or,Xt,er){const Zt=or.slice(Xt,er);let Ht="";for(let Wt=0;Wt<Zt.length-1;Wt+=2)Ht+=String.fromCharCode(Zt[Wt]+Zt[Wt+1]*256);return Ht}nt.prototype.slice=function(Xt,er){const Zt=this.length;Xt=~~Xt,er=er===void 0?Zt:~~er,Xt<0?(Xt+=Zt,Xt<0&&(Xt=0)):Xt>Zt&&(Xt=Zt),er<0?(er+=Zt,er<0&&(er=0)):er>Zt&&(er=Zt),er<Xt&&(er=Xt);const Ht=this.subarray(Xt,er);return Object.setPrototypeOf(Ht,nt.prototype),Ht};function Tt(or,Xt,er){if(or%1!==0||or<0)throw new RangeError("offset is not uint");if(or+Xt>er)throw new RangeError("Trying to access beyond buffer length")}nt.prototype.readUintLE=nt.prototype.readUIntLE=function(Xt,er,Zt){Xt=Xt>>>0,er=er>>>0,Zt||Tt(Xt,er,this.length);let Ht=this[Xt],Wt=1,ar=0;for(;++ar<er&&(Wt*=256);)Ht+=this[Xt+ar]*Wt;return Ht},nt.prototype.readUintBE=nt.prototype.readUIntBE=function(Xt,er,Zt){Xt=Xt>>>0,er=er>>>0,Zt||Tt(Xt,er,this.length);let Ht=this[Xt+--er],Wt=1;for(;er>0&&(Wt*=256);)Ht+=this[Xt+--er]*Wt;return Ht},nt.prototype.readUint8=nt.prototype.readUInt8=function(Xt,er){return Xt=Xt>>>0,er||Tt(Xt,1,this.length),this[Xt]},nt.prototype.readUint16LE=nt.prototype.readUInt16LE=function(Xt,er){return Xt=Xt>>>0,er||Tt(Xt,2,this.length),this[Xt]|this[Xt+1]<<8},nt.prototype.readUint16BE=nt.prototype.readUInt16BE=function(Xt,er){return Xt=Xt>>>0,er||Tt(Xt,2,this.length),this[Xt]<<8|this[Xt+1]},nt.prototype.readUint32LE=nt.prototype.readUInt32LE=function(Xt,er){return Xt=Xt>>>0,er||Tt(Xt,4,this.length),(this[Xt]|this[Xt+1]<<8|this[Xt+2]<<16)+this[Xt+3]*16777216},nt.prototype.readUint32BE=nt.prototype.readUInt32BE=function(Xt,er){return Xt=Xt>>>0,er||Tt(Xt,4,this.length),this[Xt]*16777216+(this[Xt+1]<<16|this[Xt+2]<<8|this[Xt+3])},nt.prototype.readBigUInt64LE=jr(function(Xt){Xt=Xt>>>0,dr(Xt,"offset");const er=this[Xt],Zt=this[Xt+7];(er===void 0||Zt===void 0)&&xr(Xt,this.length-8);const Ht=er+this[++Xt]*2**8+this[++Xt]*2**16+this[++Xt]*2**24,Wt=this[++Xt]+this[++Xt]*2**8+this[++Xt]*2**16+Zt*2**24;return BigInt(Ht)+(BigInt(Wt)<<BigInt(32))}),nt.prototype.readBigUInt64BE=jr(function(Xt){Xt=Xt>>>0,dr(Xt,"offset");const er=this[Xt],Zt=this[Xt+7];(er===void 0||Zt===void 0)&&xr(Xt,this.length-8);const Ht=er*2**24+this[++Xt]*2**16+this[++Xt]*2**8+this[++Xt],Wt=this[++Xt]*2**24+this[++Xt]*2**16+this[++Xt]*2**8+Zt;return(BigInt(Ht)<<BigInt(32))+BigInt(Wt)}),nt.prototype.readIntLE=function(Xt,er,Zt){Xt=Xt>>>0,er=er>>>0,Zt||Tt(Xt,er,this.length);let Ht=this[Xt],Wt=1,ar=0;for(;++ar<er&&(Wt*=256);)Ht+=this[Xt+ar]*Wt;return Wt*=128,Ht>=Wt&&(Ht-=Math.pow(2,8*er)),Ht},nt.prototype.readIntBE=function(Xt,er,Zt){Xt=Xt>>>0,er=er>>>0,Zt||Tt(Xt,er,this.length);let Ht=er,Wt=1,ar=this[Xt+--Ht];for(;Ht>0&&(Wt*=256);)ar+=this[Xt+--Ht]*Wt;return Wt*=128,ar>=Wt&&(ar-=Math.pow(2,8*er)),ar},nt.prototype.readInt8=function(Xt,er){return Xt=Xt>>>0,er||Tt(Xt,1,this.length),this[Xt]&128?(255-this[Xt]+1)*-1:this[Xt]},nt.prototype.readInt16LE=function(Xt,er){Xt=Xt>>>0,er||Tt(Xt,2,this.length);const Zt=this[Xt]|this[Xt+1]<<8;return Zt&32768?Zt|4294901760:Zt},nt.prototype.readInt16BE=function(Xt,er){Xt=Xt>>>0,er||Tt(Xt,2,this.length);const Zt=this[Xt+1]|this[Xt]<<8;return Zt&32768?Zt|4294901760:Zt},nt.prototype.readInt32LE=function(Xt,er){return Xt=Xt>>>0,er||Tt(Xt,4,this.length),this[Xt]|this[Xt+1]<<8|this[Xt+2]<<16|this[Xt+3]<<24},nt.prototype.readInt32BE=function(Xt,er){return Xt=Xt>>>0,er||Tt(Xt,4,this.length),this[Xt]<<24|this[Xt+1]<<16|this[Xt+2]<<8|this[Xt+3]},nt.prototype.readBigInt64LE=jr(function(Xt){Xt=Xt>>>0,dr(Xt,"offset");const er=this[Xt],Zt=this[Xt+7];(er===void 0||Zt===void 0)&&xr(Xt,this.length-8);const Ht=this[Xt+4]+this[Xt+5]*2**8+this[Xt+6]*2**16+(Zt<<24);return(BigInt(Ht)<<BigInt(32))+BigInt(er+this[++Xt]*2**8+this[++Xt]*2**16+this[++Xt]*2**24)}),nt.prototype.readBigInt64BE=jr(function(Xt){Xt=Xt>>>0,dr(Xt,"offset");const er=this[Xt],Zt=this[Xt+7];(er===void 0||Zt===void 0)&&xr(Xt,this.length-8);const Ht=(er<<24)+this[++Xt]*2**16+this[++Xt]*2**8+this[++Xt];return(BigInt(Ht)<<BigInt(32))+BigInt(this[++Xt]*2**24+this[++Xt]*2**16+this[++Xt]*2**8+Zt)}),nt.prototype.readFloatLE=function(Xt,er){return Xt=Xt>>>0,er||Tt(Xt,4,this.length),$.read(this,Xt,!0,23,4)},nt.prototype.readFloatBE=function(Xt,er){return Xt=Xt>>>0,er||Tt(Xt,4,this.length),$.read(this,Xt,!1,23,4)},nt.prototype.readDoubleLE=function(Xt,er){return Xt=Xt>>>0,er||Tt(Xt,8,this.length),$.read(this,Xt,!0,52,8)},nt.prototype.readDoubleBE=function(Xt,er){return Xt=Xt>>>0,er||Tt(Xt,8,this.length),$.read(this,Xt,!1,52,8)};function yt(or,Xt,er,Zt,Ht,Wt){if(!nt.isBuffer(or))throw new TypeError('"buffer" argument must be a Buffer instance');if(Xt>Ht||Xt<Wt)throw new RangeError('"value" argument is out of bounds');if(er+Zt>or.length)throw new RangeError("Index out of range")}nt.prototype.writeUintLE=nt.prototype.writeUIntLE=function(Xt,er,Zt,Ht){if(Xt=+Xt,er=er>>>0,Zt=Zt>>>0,!Ht){const br=Math.pow(2,8*Zt)-1;yt(this,Xt,er,Zt,br,0)}let Wt=1,ar=0;for(this[er]=Xt&255;++ar<Zt&&(Wt*=256);)this[er+ar]=Xt/Wt&255;return er+Zt},nt.prototype.writeUintBE=nt.prototype.writeUIntBE=function(Xt,er,Zt,Ht){if(Xt=+Xt,er=er>>>0,Zt=Zt>>>0,!Ht){const br=Math.pow(2,8*Zt)-1;yt(this,Xt,er,Zt,br,0)}let Wt=Zt-1,ar=1;for(this[er+Wt]=Xt&255;--Wt>=0&&(ar*=256);)this[er+Wt]=Xt/ar&255;return er+Zt},nt.prototype.writeUint8=nt.prototype.writeUInt8=function(Xt,er,Zt){return Xt=+Xt,er=er>>>0,Zt||yt(this,Xt,er,1,255,0),this[er]=Xt&255,er+1},nt.prototype.writeUint16LE=nt.prototype.writeUInt16LE=function(Xt,er,Zt){return Xt=+Xt,er=er>>>0,Zt||yt(this,Xt,er,2,65535,0),this[er]=Xt&255,this[er+1]=Xt>>>8,er+2},nt.prototype.writeUint16BE=nt.prototype.writeUInt16BE=function(Xt,er,Zt){return Xt=+Xt,er=er>>>0,Zt||yt(this,Xt,er,2,65535,0),this[er]=Xt>>>8,this[er+1]=Xt&255,er+2},nt.prototype.writeUint32LE=nt.prototype.writeUInt32LE=function(Xt,er,Zt){return Xt=+Xt,er=er>>>0,Zt||yt(this,Xt,er,4,4294967295,0),this[er+3]=Xt>>>24,this[er+2]=Xt>>>16,this[er+1]=Xt>>>8,this[er]=Xt&255,er+4},nt.prototype.writeUint32BE=nt.prototype.writeUInt32BE=function(Xt,er,Zt){return Xt=+Xt,er=er>>>0,Zt||yt(this,Xt,er,4,4294967295,0),this[er]=Xt>>>24,this[er+1]=Xt>>>16,this[er+2]=Xt>>>8,this[er+3]=Xt&255,er+4};function It(or,Xt,er,Zt,Ht){Qt(Xt,Zt,Ht,or,er,7);let Wt=Number(Xt&BigInt(4294967295));or[er++]=Wt,Wt=Wt>>8,or[er++]=Wt,Wt=Wt>>8,or[er++]=Wt,Wt=Wt>>8,or[er++]=Wt;let ar=Number(Xt>>BigInt(32)&BigInt(4294967295));return or[er++]=ar,ar=ar>>8,or[er++]=ar,ar=ar>>8,or[er++]=ar,ar=ar>>8,or[er++]=ar,er}function rr(or,Xt,er,Zt,Ht){Qt(Xt,Zt,Ht,or,er,7);let Wt=Number(Xt&BigInt(4294967295));or[er+7]=Wt,Wt=Wt>>8,or[er+6]=Wt,Wt=Wt>>8,or[er+5]=Wt,Wt=Wt>>8,or[er+4]=Wt;let ar=Number(Xt>>BigInt(32)&BigInt(4294967295));return or[er+3]=ar,ar=ar>>8,or[er+2]=ar,ar=ar>>8,or[er+1]=ar,ar=ar>>8,or[er]=ar,er+8}nt.prototype.writeBigUInt64LE=jr(function(Xt,er=0){return It(this,Xt,er,BigInt(0),BigInt("0xffffffffffffffff"))}),nt.prototype.writeBigUInt64BE=jr(function(Xt,er=0){return rr(this,Xt,er,BigInt(0),BigInt("0xffffffffffffffff"))}),nt.prototype.writeIntLE=function(Xt,er,Zt,Ht){if(Xt=+Xt,er=er>>>0,!Ht){const wr=Math.pow(2,8*Zt-1);yt(this,Xt,er,Zt,wr-1,-wr)}let Wt=0,ar=1,br=0;for(this[er]=Xt&255;++Wt<Zt&&(ar*=256);)Xt<0&&br===0&&this[er+Wt-1]!==0&&(br=1),this[er+Wt]=(Xt/ar>>0)-br&255;return er+Zt},nt.prototype.writeIntBE=function(Xt,er,Zt,Ht){if(Xt=+Xt,er=er>>>0,!Ht){const wr=Math.pow(2,8*Zt-1);yt(this,Xt,er,Zt,wr-1,-wr)}let Wt=Zt-1,ar=1,br=0;for(this[er+Wt]=Xt&255;--Wt>=0&&(ar*=256);)Xt<0&&br===0&&this[er+Wt+1]!==0&&(br=1),this[er+Wt]=(Xt/ar>>0)-br&255;return er+Zt},nt.prototype.writeInt8=function(Xt,er,Zt){return Xt=+Xt,er=er>>>0,Zt||yt(this,Xt,er,1,127,-128),Xt<0&&(Xt=255+Xt+1),this[er]=Xt&255,er+1},nt.prototype.writeInt16LE=function(Xt,er,Zt){return Xt=+Xt,er=er>>>0,Zt||yt(this,Xt,er,2,32767,-32768),this[er]=Xt&255,this[er+1]=Xt>>>8,er+2},nt.prototype.writeInt16BE=function(Xt,er,Zt){return Xt=+Xt,er=er>>>0,Zt||yt(this,Xt,er,2,32767,-32768),this[er]=Xt>>>8,this[er+1]=Xt&255,er+2},nt.prototype.writeInt32LE=function(Xt,er,Zt){return Xt=+Xt,er=er>>>0,Zt||yt(this,Xt,er,4,2147483647,-2147483648),this[er]=Xt&255,this[er+1]=Xt>>>8,this[er+2]=Xt>>>16,this[er+3]=Xt>>>24,er+4},nt.prototype.writeInt32BE=function(Xt,er,Zt){return Xt=+Xt,er=er>>>0,Zt||yt(this,Xt,er,4,2147483647,-2147483648),Xt<0&&(Xt=4294967295+Xt+1),this[er]=Xt>>>24,this[er+1]=Xt>>>16,this[er+2]=Xt>>>8,this[er+3]=Xt&255,er+4},nt.prototype.writeBigInt64LE=jr(function(Xt,er=0){return It(this,Xt,er,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),nt.prototype.writeBigInt64BE=jr(function(Xt,er=0){return rr(this,Xt,er,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function ir(or,Xt,er,Zt,Ht,Wt){if(er+Zt>or.length)throw new RangeError("Index out of range");if(er<0)throw new RangeError("Index out of range")}function nr(or,Xt,er,Zt,Ht){return Xt=+Xt,er=er>>>0,Ht||ir(or,Xt,er,4),$.write(or,Xt,er,Zt,23,4),er+4}nt.prototype.writeFloatLE=function(Xt,er,Zt){return nr(this,Xt,er,!0,Zt)},nt.prototype.writeFloatBE=function(Xt,er,Zt){return nr(this,Xt,er,!1,Zt)};function Gt(or,Xt,er,Zt,Ht){return Xt=+Xt,er=er>>>0,Ht||ir(or,Xt,er,8),$.write(or,Xt,er,Zt,52,8),er+8}nt.prototype.writeDoubleLE=function(Xt,er,Zt){return Gt(this,Xt,er,!0,Zt)},nt.prototype.writeDoubleBE=function(Xt,er,Zt){return Gt(this,Xt,er,!1,Zt)},nt.prototype.copy=function(Xt,er,Zt,Ht){if(!nt.isBuffer(Xt))throw new TypeError("argument should be a Buffer");if(Zt||(Zt=0),!Ht&&Ht!==0&&(Ht=this.length),er>=Xt.length&&(er=Xt.length),er||(er=0),Ht>0&&Ht<Zt&&(Ht=Zt),Ht===Zt||Xt.length===0||this.length===0)return 0;if(er<0)throw new RangeError("targetStart out of bounds");if(Zt<0||Zt>=this.length)throw new RangeError("Index out of range");if(Ht<0)throw new RangeError("sourceEnd out of bounds");Ht>this.length&&(Ht=this.length),Xt.length-er<Ht-Zt&&(Ht=Xt.length-er+Zt);const Wt=Ht-Zt;return this===Xt&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(er,Zt,Ht):Uint8Array.prototype.set.call(Xt,this.subarray(Zt,Ht),er),Wt},nt.prototype.fill=function(Xt,er,Zt,Ht){if(typeof Xt=="string"){if(typeof er=="string"?(Ht=er,er=0,Zt=this.length):typeof Zt=="string"&&(Ht=Zt,Zt=this.length),Ht!==void 0&&typeof Ht!="string")throw new TypeError("encoding must be a string");if(typeof Ht=="string"&&!nt.isEncoding(Ht))throw new TypeError("Unknown encoding: "+Ht);if(Xt.length===1){const ar=Xt.charCodeAt(0);(Ht==="utf8"&&ar<128||Ht==="latin1")&&(Xt=ar)}}else typeof Xt=="number"?Xt=Xt&255:typeof Xt=="boolean"&&(Xt=Number(Xt));if(er<0||this.length<er||this.length<Zt)throw new RangeError("Out of range index");if(Zt<=er)return this;er=er>>>0,Zt=Zt===void 0?this.length:Zt>>>0,Xt||(Xt=0);let Wt;if(typeof Xt=="number")for(Wt=er;Wt<Zt;++Wt)this[Wt]=Xt;else{const ar=nt.isBuffer(Xt)?Xt:nt.from(Xt,Ht),br=ar.length;if(br===0)throw new TypeError('The value "'+Xt+'" is invalid for argument "value"');for(Wt=0;Wt<Zt-er;++Wt)this[Wt+er]=ar[Wt%br]}return this};const qt={};function Jt(or,Xt,er){qt[or]=class extends er{constructor(){super(),Object.defineProperty(this,"message",{value:Xt.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${or}]`,this.stack,delete this.name}get code(){return or}set code(Ht){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:Ht,writable:!0})}toString(){return`${this.name} [${or}]: ${this.message}`}}}Jt("ERR_BUFFER_OUT_OF_BOUNDS",function(or){return or?`${or} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Jt("ERR_INVALID_ARG_TYPE",function(or,Xt){return`The "${or}" argument must be of type number. Received type ${typeof Xt}`},TypeError),Jt("ERR_OUT_OF_RANGE",function(or,Xt,er){let Zt=`The value of "${or}" is out of range.`,Ht=er;return Number.isInteger(er)&&Math.abs(er)>2**32?Ht=Ft(String(er)):typeof er=="bigint"&&(Ht=String(er),(er>BigInt(2)**BigInt(32)||er<-(BigInt(2)**BigInt(32)))&&(Ht=Ft(Ht)),Ht+="n"),Zt+=` It must be ${Xt}. Received ${Ht}`,Zt},RangeError);function Ft(or){let Xt="",er=or.length;const Zt=or[0]==="-"?1:0;for(;er>=Zt+4;er-=3)Xt=`_${or.slice(er-3,er)}${Xt}`;return`${or.slice(0,er)}${Xt}`}function Kt(or,Xt,er){dr(Xt,"offset"),(or[Xt]===void 0||or[Xt+er]===void 0)&&xr(Xt,or.length-(er+1))}function Qt(or,Xt,er,Zt,Ht,Wt){if(or>er||or<Xt){const ar=typeof Xt=="bigint"?"n":"";let br;throw Xt===0||Xt===BigInt(0)?br=`>= 0${ar} and < 2${ar} ** ${(Wt+1)*8}${ar}`:br=`>= -(2${ar} ** ${(Wt+1)*8-1}${ar}) and < 2 ** ${(Wt+1)*8-1}${ar}`,new qt.ERR_OUT_OF_RANGE("value",br,or)}Kt(Zt,Ht,Wt)}function dr(or,Xt){if(typeof or!="number")throw new qt.ERR_INVALID_ARG_TYPE(Xt,"number",or)}function xr(or,Xt,er){throw Math.floor(or)!==or?(dr(or,er),new qt.ERR_OUT_OF_RANGE("offset","an integer",or)):Xt<0?new qt.ERR_BUFFER_OUT_OF_BOUNDS:new qt.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${Xt}`,or)}const pr=/[^+/0-9A-Za-z-_]/g;function Ir(or){if(or=or.split("=")[0],or=or.trim().replace(pr,""),or.length<2)return"";for(;or.length%4!==0;)or=or+"=";return or}function Cr(or,Xt){Xt=Xt||1/0;let er;const Zt=or.length;let Ht=null;const Wt=[];for(let ar=0;ar<Zt;++ar){if(er=or.charCodeAt(ar),er>55295&&er<57344){if(!Ht){if(er>56319){(Xt-=3)>-1&&Wt.push(239,191,189);continue}else if(ar+1===Zt){(Xt-=3)>-1&&Wt.push(239,191,189);continue}Ht=er;continue}if(er<56320){(Xt-=3)>-1&&Wt.push(239,191,189),Ht=er;continue}er=(Ht-55296<<10|er-56320)+65536}else Ht&&(Xt-=3)>-1&&Wt.push(239,191,189);if(Ht=null,er<128){if((Xt-=1)<0)break;Wt.push(er)}else if(er<2048){if((Xt-=2)<0)break;Wt.push(er>>6|192,er&63|128)}else if(er<65536){if((Xt-=3)<0)break;Wt.push(er>>12|224,er>>6&63|128,er&63|128)}else if(er<1114112){if((Xt-=4)<0)break;Wt.push(er>>18|240,er>>12&63|128,er>>6&63|128,er&63|128)}else throw new Error("Invalid code point")}return Wt}function lr(or){const Xt=[];for(let er=0;er<or.length;++er)Xt.push(or.charCodeAt(er)&255);return Xt}function fr(or,Xt){let er,Zt,Ht;const Wt=[];for(let ar=0;ar<or.length&&!((Xt-=2)<0);++ar)er=or.charCodeAt(ar),Zt=er>>8,Ht=er%256,Wt.push(Ht),Wt.push(Zt);return Wt}function Er(or){return a.toByteArray(Ir(or))}function Ar(or,Xt,er,Zt){let Ht;for(Ht=0;Ht<Zt&&!(Ht+er>=Xt.length||Ht>=or.length);++Ht)Xt[Ht+er]=or[Ht];return Ht}function kr(or,Xt){return or instanceof Xt||or!=null&&or.constructor!=null&&or.constructor.name!=null&&or.constructor.name===Xt.name}function Sr(or){return or!==or}const $r=function(){const or="0123456789abcdef",Xt=new Array(256);for(let er=0;er<16;++er){const Zt=er*16;for(let Ht=0;Ht<16;++Ht)Xt[Zt+Ht]=or[er]+or[Ht]}return Xt}();function jr(or){return typeof BigInt>"u"?Nr:or}function Nr(){throw new Error("BigInt not supported")}})(buffer$1);/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */(function(_,a){var $=buffer$1,j=$.Buffer;function et(rt,nt){for(var it in rt)nt[it]=rt[it]}j.from&&j.alloc&&j.allocUnsafe&&j.allocUnsafeSlow?_.exports=$:(et($,a),a.Buffer=tt);function tt(rt,nt,it){return j(rt,nt,it)}tt.prototype=Object.create(j.prototype),et(j,tt),tt.from=function(rt,nt,it){if(typeof rt=="number")throw new TypeError("Argument must not be a number");return j(rt,nt,it)},tt.alloc=function(rt,nt,it){if(typeof rt!="number")throw new TypeError("Argument must be a number");var ot=j(rt);return nt!==void 0?typeof it=="string"?ot.fill(nt,it):ot.fill(nt):ot.fill(0),ot},tt.allocUnsafe=function(rt){if(typeof rt!="number")throw new TypeError("Argument must be a number");return j(rt)},tt.allocUnsafeSlow=function(rt){if(typeof rt!="number")throw new TypeError("Argument must be a number");return $.SlowBuffer(rt)}})(safeBuffer$2,safeBuffer$2.exports);var safeBufferExports=safeBuffer$2.exports,readableBrowser$1={exports:{}};function getDefaultExportFromCjs(_){return _&&_.__esModule&&Object.prototype.hasOwnProperty.call(_,"default")?_.default:_}var browser$d={exports:{}},process$1=browser$d.exports={},cachedSetTimeout,cachedClearTimeout;function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?cachedSetTimeout=setTimeout:cachedSetTimeout=defaultSetTimout}catch{cachedSetTimeout=defaultSetTimout}try{typeof clearTimeout=="function"?cachedClearTimeout=clearTimeout:cachedClearTimeout=defaultClearTimeout}catch{cachedClearTimeout=defaultClearTimeout}})();function runTimeout(_){if(cachedSetTimeout===setTimeout)return setTimeout(_,0);if((cachedSetTimeout===defaultSetTimout||!cachedSetTimeout)&&setTimeout)return cachedSetTimeout=setTimeout,setTimeout(_,0);try{return cachedSetTimeout(_,0)}catch{try{return cachedSetTimeout.call(null,_,0)}catch{return cachedSetTimeout.call(this,_,0)}}}function runClearTimeout(_){if(cachedClearTimeout===clearTimeout)return clearTimeout(_);if((cachedClearTimeout===defaultClearTimeout||!cachedClearTimeout)&&clearTimeout)return cachedClearTimeout=clearTimeout,clearTimeout(_);try{return cachedClearTimeout(_)}catch{try{return cachedClearTimeout.call(null,_)}catch{return cachedClearTimeout.call(this,_)}}}var queue=[],draining=!1,currentQueue,queueIndex=-1;function cleanUpNextTick(){!draining||!currentQueue||(draining=!1,currentQueue.length?queue=currentQueue.concat(queue):queueIndex=-1,queue.length&&drainQueue())}function drainQueue(){if(!draining){var _=runTimeout(cleanUpNextTick);draining=!0;for(var a=queue.length;a;){for(currentQueue=queue,queue=[];++queueIndex<a;)currentQueue&&currentQueue[queueIndex].run();queueIndex=-1,a=queue.length}currentQueue=null,draining=!1,runClearTimeout(_)}}process$1.nextTick=function(_){var a=new Array(arguments.length-1);if(arguments.length>1)for(var $=1;$<arguments.length;$++)a[$-1]=arguments[$];queue.push(new Item(_,a)),queue.length===1&&!draining&&runTimeout(drainQueue)};function Item(_,a){this.fun=_,this.array=a}Item.prototype.run=function(){this.fun.apply(null,this.array)};process$1.title="browser";process$1.browser=!0;process$1.env={};process$1.argv=[];process$1.version="";process$1.versions={};function noop$9(){}process$1.on=noop$9;process$1.addListener=noop$9;process$1.once=noop$9;process$1.off=noop$9;process$1.removeListener=noop$9;process$1.removeAllListeners=noop$9;process$1.emit=noop$9;process$1.prependListener=noop$9;process$1.prependOnceListener=noop$9;process$1.listeners=function(_){return[]};process$1.binding=function(_){throw new Error("process.binding is not supported")};process$1.cwd=function(){return"/"};process$1.chdir=function(_){throw new Error("process.chdir is not supported")};process$1.umask=function(){return 0};var browserExports=browser$d.exports;const process$1$1=getDefaultExportFromCjs(browserExports);var events={exports:{}},R=typeof Reflect=="object"?Reflect:null,ReflectApply=R&&typeof R.apply=="function"?R.apply:function(a,$,j){return Function.prototype.apply.call(a,$,j)},ReflectOwnKeys;R&&typeof R.ownKeys=="function"?ReflectOwnKeys=R.ownKeys:Object.getOwnPropertySymbols?ReflectOwnKeys=function(a){return Object.getOwnPropertyNames(a).concat(Object.getOwnPropertySymbols(a))}:ReflectOwnKeys=function(a){return Object.getOwnPropertyNames(a)};function ProcessEmitWarning(_){console&&console.warn&&console.warn(_)}var NumberIsNaN=Number.isNaN||function(a){return a!==a};function EventEmitter$1(){EventEmitter$1.init.call(this)}events.exports=EventEmitter$1;events.exports.once=once$2;EventEmitter$1.EventEmitter=EventEmitter$1;EventEmitter$1.prototype._events=void 0;EventEmitter$1.prototype._eventsCount=0;EventEmitter$1.prototype._maxListeners=void 0;var defaultMaxListeners=10;function checkListener(_){if(typeof _!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof _)}Object.defineProperty(EventEmitter$1,"defaultMaxListeners",{enumerable:!0,get:function(){return defaultMaxListeners},set:function(_){if(typeof _!="number"||_<0||NumberIsNaN(_))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+_+".");defaultMaxListeners=_}});EventEmitter$1.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};EventEmitter$1.prototype.setMaxListeners=function(a){if(typeof a!="number"||a<0||NumberIsNaN(a))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+a+".");return this._maxListeners=a,this};function _getMaxListeners(_){return _._maxListeners===void 0?EventEmitter$1.defaultMaxListeners:_._maxListeners}EventEmitter$1.prototype.getMaxListeners=function(){return _getMaxListeners(this)};EventEmitter$1.prototype.emit=function(a){for(var $=[],j=1;j<arguments.length;j++)$.push(arguments[j]);var et=a==="error",tt=this._events;if(tt!==void 0)et=et&&tt.error===void 0;else if(!et)return!1;if(et){var rt;if($.length>0&&(rt=$[0]),rt instanceof Error)throw rt;var nt=new Error("Unhandled error."+(rt?" ("+rt.message+")":""));throw nt.context=rt,nt}var it=tt[a];if(it===void 0)return!1;if(typeof it=="function")ReflectApply(it,this,$);else for(var ot=it.length,st=arrayClone(it,ot),j=0;j<ot;++j)ReflectApply(st[j],this,$);return!0};function _addListener(_,a,$,j){var et,tt,rt;if(checkListener($),tt=_._events,tt===void 0?(tt=_._events=Object.create(null),_._eventsCount=0):(tt.newListener!==void 0&&(_.emit("newListener",a,$.listener?$.listener:$),tt=_._events),rt=tt[a]),rt===void 0)rt=tt[a]=$,++_._eventsCount;else if(typeof rt=="function"?rt=tt[a]=j?[$,rt]:[rt,$]:j?rt.unshift($):rt.push($),et=_getMaxListeners(_),et>0&&rt.length>et&&!rt.warned){rt.warned=!0;var nt=new Error("Possible EventEmitter memory leak detected. "+rt.length+" "+String(a)+" listeners added. Use emitter.setMaxListeners() to increase limit");nt.name="MaxListenersExceededWarning",nt.emitter=_,nt.type=a,nt.count=rt.length,ProcessEmitWarning(nt)}return _}EventEmitter$1.prototype.addListener=function(a,$){return _addListener(this,a,$,!1)};EventEmitter$1.prototype.on=EventEmitter$1.prototype.addListener;EventEmitter$1.prototype.prependListener=function(a,$){return _addListener(this,a,$,!0)};function onceWrapper(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function _onceWrap(_,a,$){var j={fired:!1,wrapFn:void 0,target:_,type:a,listener:$},et=onceWrapper.bind(j);return et.listener=$,j.wrapFn=et,et}EventEmitter$1.prototype.once=function(a,$){return checkListener($),this.on(a,_onceWrap(this,a,$)),this};EventEmitter$1.prototype.prependOnceListener=function(a,$){return checkListener($),this.prependListener(a,_onceWrap(this,a,$)),this};EventEmitter$1.prototype.removeListener=function(a,$){var j,et,tt,rt,nt;if(checkListener($),et=this._events,et===void 0)return this;if(j=et[a],j===void 0)return this;if(j===$||j.listener===$)--this._eventsCount===0?this._events=Object.create(null):(delete et[a],et.removeListener&&this.emit("removeListener",a,j.listener||$));else if(typeof j!="function"){for(tt=-1,rt=j.length-1;rt>=0;rt--)if(j[rt]===$||j[rt].listener===$){nt=j[rt].listener,tt=rt;break}if(tt<0)return this;tt===0?j.shift():spliceOne(j,tt),j.length===1&&(et[a]=j[0]),et.removeListener!==void 0&&this.emit("removeListener",a,nt||$)}return this};EventEmitter$1.prototype.off=EventEmitter$1.prototype.removeListener;EventEmitter$1.prototype.removeAllListeners=function(a){var $,j,et;if(j=this._events,j===void 0)return this;if(j.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):j[a]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete j[a]),this;if(arguments.length===0){var tt=Object.keys(j),rt;for(et=0;et<tt.length;++et)rt=tt[et],rt!=="removeListener"&&this.removeAllListeners(rt);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if($=j[a],typeof $=="function")this.removeListener(a,$);else if($!==void 0)for(et=$.length-1;et>=0;et--)this.removeListener(a,$[et]);return this};function _listeners(_,a,$){var j=_._events;if(j===void 0)return[];var et=j[a];return et===void 0?[]:typeof et=="function"?$?[et.listener||et]:[et]:$?unwrapListeners(et):arrayClone(et,et.length)}EventEmitter$1.prototype.listeners=function(a){return _listeners(this,a,!0)};EventEmitter$1.prototype.rawListeners=function(a){return _listeners(this,a,!1)};EventEmitter$1.listenerCount=function(_,a){return typeof _.listenerCount=="function"?_.listenerCount(a):listenerCount.call(_,a)};EventEmitter$1.prototype.listenerCount=listenerCount;function listenerCount(_){var a=this._events;if(a!==void 0){var $=a[_];if(typeof $=="function")return 1;if($!==void 0)return $.length}return 0}EventEmitter$1.prototype.eventNames=function(){return this._eventsCount>0?ReflectOwnKeys(this._events):[]};function arrayClone(_,a){for(var $=new Array(a),j=0;j<a;++j)$[j]=_[j];return $}function spliceOne(_,a){for(;a+1<_.length;a++)_[a]=_[a+1];_.pop()}function unwrapListeners(_){for(var a=new Array(_.length),$=0;$<a.length;++$)a[$]=_[$].listener||_[$];return a}function once$2(_,a){return new Promise(function($,j){function et(rt){_.removeListener(a,tt),j(rt)}function tt(){typeof _.removeListener=="function"&&_.removeListener("error",et),$([].slice.call(arguments))}eventTargetAgnosticAddListener(_,a,tt,{once:!0}),a!=="error"&&addErrorHandlerIfEventEmitter(_,et,{once:!0})})}function addErrorHandlerIfEventEmitter(_,a,$){typeof _.on=="function"&&eventTargetAgnosticAddListener(_,"error",a,$)}function eventTargetAgnosticAddListener(_,a,$,j){if(typeof _.on=="function")j.once?_.once(a,$):_.on(a,$);else if(typeof _.addEventListener=="function")_.addEventListener(a,function et(tt){j.once&&_.removeEventListener(a,et),$(tt)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof _)}var eventsExports=events.exports;const EventEmitter$2=getDefaultExportFromCjs$1(eventsExports);var streamBrowser$1=eventsExports.EventEmitter,util$5={},types$1={},shams$1=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var a={},$=Symbol("test"),j=Object($);if(typeof $=="string"||Object.prototype.toString.call($)!=="[object Symbol]"||Object.prototype.toString.call(j)!=="[object Symbol]")return!1;var et=42;a[$]=et;for($ in a)return!1;if(typeof Object.keys=="function"&&Object.keys(a).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(a).length!==0)return!1;var tt=Object.getOwnPropertySymbols(a);if(tt.length!==1||tt[0]!==$||!Object.prototype.propertyIsEnumerable.call(a,$))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var rt=Object.getOwnPropertyDescriptor(a,$);if(rt.value!==et||rt.enumerable!==!0)return!1}return!0},hasSymbols$2=shams$1,shams=function(){return hasSymbols$2()&&!!Symbol.toStringTag},esErrors=Error,_eval=EvalError,range$2=RangeError,ref=ReferenceError,syntax=SyntaxError,type$6=TypeError,uri=URIError,origSymbol=typeof Symbol<"u"&&Symbol,hasSymbolSham=shams$1,hasSymbols$1=function(){return typeof origSymbol!="function"||typeof Symbol!="function"||typeof origSymbol("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:hasSymbolSham()},test={__proto__:null,foo:{}},$Object=Object,hasProto$1=function(){return{__proto__:test}.foo===test.foo&&!(test instanceof $Object)},ERROR_MESSAGE="Function.prototype.bind called on incompatible ",toStr$4=Object.prototype.toString,max=Math.max,funcType="[object Function]",concatty=function(a,$){for(var j=[],et=0;et<a.length;et+=1)j[et]=a[et];for(var tt=0;tt<$.length;tt+=1)j[tt+a.length]=$[tt];return j},slicy=function(a,$){for(var j=[],et=$,tt=0;et<a.length;et+=1,tt+=1)j[tt]=a[et];return j},joiny=function(_,a){for(var $="",j=0;j<_.length;j+=1)$+=_[j],j+1<_.length&&($+=a);return $},implementation$2=function(a){var $=this;if(typeof $!="function"||toStr$4.apply($)!==funcType)throw new TypeError(ERROR_MESSAGE+$);for(var j=slicy(arguments,1),et,tt=function(){if(this instanceof et){var st=$.apply(this,concatty(j,arguments));return Object(st)===st?st:this}return $.apply(a,concatty(j,arguments))},rt=max(0,$.length-j.length),nt=[],it=0;it<rt;it++)nt[it]="$"+it;if(et=Function("binder","return function ("+joiny(nt,",")+"){ return binder.apply(this,arguments); }")(tt),$.prototype){var ot=function(){};ot.prototype=$.prototype,et.prototype=new ot,ot.prototype=null}return et},implementation$1=implementation$2,functionBind=Function.prototype.bind||implementation$1,call$1=Function.prototype.call,$hasOwn=Object.prototype.hasOwnProperty,bind$3=functionBind,hasown=bind$3.call(call$1,$hasOwn),undefined$1,$Error=esErrors,$EvalError=_eval,$RangeError=range$2,$ReferenceError=ref,$SyntaxError$1=syntax,$TypeError$2=type$6,$URIError=uri,$Function=Function,getEvalledConstructor=function(_){try{return $Function('"use strict"; return ('+_+").constructor;")()}catch{}},$gOPD$1=Object.getOwnPropertyDescriptor;if($gOPD$1)try{$gOPD$1({},"")}catch{$gOPD$1=null}var throwTypeError=function(){throw new $TypeError$2},ThrowTypeError=$gOPD$1?function(){try{return arguments.callee,throwTypeError}catch{try{return $gOPD$1(arguments,"callee").get}catch{return throwTypeError}}}():throwTypeError,hasSymbols=hasSymbols$1(),hasProto=hasProto$1(),getProto$1=Object.getPrototypeOf||(hasProto?function(_){return _.__proto__}:null),needsEval={},TypedArray=typeof Uint8Array>"u"||!getProto$1?undefined$1:getProto$1(Uint8Array),INTRINSICS={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?undefined$1:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?undefined$1:ArrayBuffer,"%ArrayIteratorPrototype%":hasSymbols&&getProto$1?getProto$1([][Symbol.iterator]()):undefined$1,"%AsyncFromSyncIteratorPrototype%":undefined$1,"%AsyncFunction%":needsEval,"%AsyncGenerator%":needsEval,"%AsyncGeneratorFunction%":needsEval,"%AsyncIteratorPrototype%":needsEval,"%Atomics%":typeof Atomics>"u"?undefined$1:Atomics,"%BigInt%":typeof BigInt>"u"?undefined$1:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?undefined$1:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?undefined$1:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?undefined$1:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":$Error,"%eval%":eval,"%EvalError%":$EvalError,"%Float32Array%":typeof Float32Array>"u"?undefined$1:Float32Array,"%Float64Array%":typeof Float64Array>"u"?undefined$1:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?undefined$1:FinalizationRegistry,"%Function%":$Function,"%GeneratorFunction%":needsEval,"%Int8Array%":typeof Int8Array>"u"?undefined$1:Int8Array,"%Int16Array%":typeof Int16Array>"u"?undefined$1:Int16Array,"%Int32Array%":typeof Int32Array>"u"?undefined$1:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":hasSymbols&&getProto$1?getProto$1(getProto$1([][Symbol.iterator]())):undefined$1,"%JSON%":typeof JSON=="object"?JSON:undefined$1,"%Map%":typeof Map>"u"?undefined$1:Map,"%MapIteratorPrototype%":typeof Map>"u"||!hasSymbols||!getProto$1?undefined$1:getProto$1(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?undefined$1:Promise,"%Proxy%":typeof Proxy>"u"?undefined$1:Proxy,"%RangeError%":$RangeError,"%ReferenceError%":$ReferenceError,"%Reflect%":typeof Reflect>"u"?undefined$1:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?undefined$1:Set,"%SetIteratorPrototype%":typeof Set>"u"||!hasSymbols||!getProto$1?undefined$1:getProto$1(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?undefined$1:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":hasSymbols&&getProto$1?getProto$1(""[Symbol.iterator]()):undefined$1,"%Symbol%":hasSymbols?Symbol:undefined$1,"%SyntaxError%":$SyntaxError$1,"%ThrowTypeError%":ThrowTypeError,"%TypedArray%":TypedArray,"%TypeError%":$TypeError$2,"%Uint8Array%":typeof Uint8Array>"u"?undefined$1:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?undefined$1:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?undefined$1:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?undefined$1:Uint32Array,"%URIError%":$URIError,"%WeakMap%":typeof WeakMap>"u"?undefined$1:WeakMap,"%WeakRef%":typeof WeakRef>"u"?undefined$1:WeakRef,"%WeakSet%":typeof WeakSet>"u"?undefined$1:WeakSet};if(getProto$1)try{null.error}catch(_){var errorProto=getProto$1(getProto$1(_));INTRINSICS["%Error.prototype%"]=errorProto}var doEval=function _(a){var $;if(a==="%AsyncFunction%")$=getEvalledConstructor("async function () {}");else if(a==="%GeneratorFunction%")$=getEvalledConstructor("function* () {}");else if(a==="%AsyncGeneratorFunction%")$=getEvalledConstructor("async function* () {}");else if(a==="%AsyncGenerator%"){var j=_("%AsyncGeneratorFunction%");j&&($=j.prototype)}else if(a==="%AsyncIteratorPrototype%"){var et=_("%AsyncGenerator%");et&&getProto$1&&($=getProto$1(et.prototype))}return INTRINSICS[a]=$,$},LEGACY_ALIASES={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},bind$2=functionBind,hasOwn$1=hasown,$concat=bind$2.call(Function.call,Array.prototype.concat),$spliceApply=bind$2.call(Function.apply,Array.prototype.splice),$replace=bind$2.call(Function.call,String.prototype.replace),$strSlice=bind$2.call(Function.call,String.prototype.slice),$exec=bind$2.call(Function.call,RegExp.prototype.exec),rePropName=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,reEscapeChar=/\\(\\)?/g,stringToPath=function(a){var $=$strSlice(a,0,1),j=$strSlice(a,-1);if($==="%"&&j!=="%")throw new $SyntaxError$1("invalid intrinsic syntax, expected closing `%`");if(j==="%"&&$!=="%")throw new $SyntaxError$1("invalid intrinsic syntax, expected opening `%`");var et=[];return $replace(a,rePropName,function(tt,rt,nt,it){et[et.length]=nt?$replace(it,reEscapeChar,"$1"):rt||tt}),et},getBaseIntrinsic=function(a,$){var j=a,et;if(hasOwn$1(LEGACY_ALIASES,j)&&(et=LEGACY_ALIASES[j],j="%"+et[0]+"%"),hasOwn$1(INTRINSICS,j)){var tt=INTRINSICS[j];if(tt===needsEval&&(tt=doEval(j)),typeof tt>"u"&&!$)throw new $TypeError$2("intrinsic "+a+" exists, but is not available. Please file an issue!");return{alias:et,name:j,value:tt}}throw new $SyntaxError$1("intrinsic "+a+" does not exist!")},getIntrinsic=function(a,$){if(typeof a!="string"||a.length===0)throw new $TypeError$2("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof $!="boolean")throw new $TypeError$2('"allowMissing" argument must be a boolean');if($exec(/^%?[^%]*%?$/,a)===null)throw new $SyntaxError$1("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var j=stringToPath(a),et=j.length>0?j[0]:"",tt=getBaseIntrinsic("%"+et+"%",$),rt=tt.name,nt=tt.value,it=!1,ot=tt.alias;ot&&(et=ot[0],$spliceApply(j,$concat([0,1],ot)));for(var st=1,ct=!0;st<j.length;st+=1){var ut=j[st],ht=$strSlice(ut,0,1),Et=$strSlice(ut,-1);if((ht==='"'||ht==="'"||ht==="`"||Et==='"'||Et==="'"||Et==="`")&&ht!==Et)throw new $SyntaxError$1("property names with quotes must have matching quotes");if((ut==="constructor"||!ct)&&(it=!0),et+="."+ut,rt="%"+et+"%",hasOwn$1(INTRINSICS,rt))nt=INTRINSICS[rt];else if(nt!=null){if(!(ut in nt)){if(!$)throw new $TypeError$2("base intrinsic for "+a+" exists, but the property is not available.");return}if($gOPD$1&&st+1>=j.length){var St=$gOPD$1(nt,ut);ct=!!St,ct&&"get"in St&&!("originalValue"in St.get)?nt=St.get:nt=nt[ut]}else ct=hasOwn$1(nt,ut),nt=nt[ut];ct&&!it&&(INTRINSICS[rt]=nt)}}return nt},callBind$3={exports:{}},esDefineProperty,hasRequiredEsDefineProperty;function requireEsDefineProperty(){if(hasRequiredEsDefineProperty)return esDefineProperty;hasRequiredEsDefineProperty=1;var _=getIntrinsic,a=_("%Object.defineProperty%",!0)||!1;if(a)try{a({},"a",{value:1})}catch{a=!1}return esDefineProperty=a,esDefineProperty}var GetIntrinsic$2=getIntrinsic,$gOPD=GetIntrinsic$2("%Object.getOwnPropertyDescriptor%",!0);if($gOPD)try{$gOPD([],"length")}catch{$gOPD=null}var gopd$1=$gOPD,$defineProperty$1=requireEsDefineProperty(),$SyntaxError=syntax,$TypeError$1=type$6,gopd=gopd$1,defineDataProperty=function(a,$,j){if(!a||typeof a!="object"&&typeof a!="function")throw new $TypeError$1("`obj` must be an object or a function`");if(typeof $!="string"&&typeof $!="symbol")throw new $TypeError$1("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new $TypeError$1("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new $TypeError$1("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new $TypeError$1("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new $TypeError$1("`loose`, if provided, must be a boolean");var et=arguments.length>3?arguments[3]:null,tt=arguments.length>4?arguments[4]:null,rt=arguments.length>5?arguments[5]:null,nt=arguments.length>6?arguments[6]:!1,it=!!gopd&&gopd(a,$);if($defineProperty$1)$defineProperty$1(a,$,{configurable:rt===null&&it?it.configurable:!rt,enumerable:et===null&&it?it.enumerable:!et,value:j,writable:tt===null&&it?it.writable:!tt});else if(nt||!et&&!tt&&!rt)a[$]=j;else throw new $SyntaxError("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},$defineProperty=requireEsDefineProperty(),hasPropertyDescriptors=function(){return!!$defineProperty};hasPropertyDescriptors.hasArrayLengthDefineBug=function(){if(!$defineProperty)return null;try{return $defineProperty([],"length",{value:1}).length!==1}catch{return!0}};var hasPropertyDescriptors_1=hasPropertyDescriptors,GetIntrinsic$1=getIntrinsic,define=defineDataProperty,hasDescriptors=hasPropertyDescriptors_1(),gOPD$1=gopd$1,$TypeError=type$6,$floor=GetIntrinsic$1("%Math.floor%"),setFunctionLength=function(a,$){if(typeof a!="function")throw new $TypeError("`fn` is not a function");if(typeof $!="number"||$<0||$>4294967295||$floor($)!==$)throw new $TypeError("`length` must be a positive 32-bit integer");var j=arguments.length>2&&!!arguments[2],et=!0,tt=!0;if("length"in a&&gOPD$1){var rt=gOPD$1(a,"length");rt&&!rt.configurable&&(et=!1),rt&&!rt.writable&&(tt=!1)}return(et||tt||!j)&&(hasDescriptors?define(a,"length",$,!0,!0):define(a,"length",$)),a};(function(_){var a=functionBind,$=getIntrinsic,j=setFunctionLength,et=type$6,tt=$("%Function.prototype.apply%"),rt=$("%Function.prototype.call%"),nt=$("%Reflect.apply%",!0)||a.call(rt,tt),it=requireEsDefineProperty(),ot=$("%Math.max%");_.exports=function(ut){if(typeof ut!="function")throw new et("a function is required");var ht=nt(a,rt,arguments);return j(ht,1+ot(0,ut.length-(arguments.length-1)),!0)};var st=function(){return nt(a,tt,arguments)};it?it(_.exports,"apply",{value:st}):_.exports.apply=st})(callBind$3);var callBindExports=callBind$3.exports,GetIntrinsic=getIntrinsic,callBind$2=callBindExports,$indexOf$1=callBind$2(GetIntrinsic("String.prototype.indexOf")),callBound$3=function(a,$){var j=GetIntrinsic(a,!!$);return typeof j=="function"&&$indexOf$1(a,".prototype.")>-1?callBind$2(j):j},hasToStringTag$3=shams(),callBound$2=callBound$3,$toString$1=callBound$2("Object.prototype.toString"),isStandardArguments=function(a){return hasToStringTag$3&&a&&typeof a=="object"&&Symbol.toStringTag in a?!1:$toString$1(a)==="[object Arguments]"},isLegacyArguments=function(a){return isStandardArguments(a)?!0:a!==null&&typeof a=="object"&&typeof a.length=="number"&&a.length>=0&&$toString$1(a)!=="[object Array]"&&$toString$1(a.callee)==="[object Function]"},supportsStandardArguments=function(){return isStandardArguments(arguments)}();isStandardArguments.isLegacyArguments=isLegacyArguments;var isArguments$1=supportsStandardArguments?isStandardArguments:isLegacyArguments,toStr$3=Object.prototype.toString,fnToStr$1=Function.prototype.toString,isFnRegex=/^\s*(?:function)?\*/,hasToStringTag$2=shams(),getProto=Object.getPrototypeOf,getGeneratorFunc=function(){if(!hasToStringTag$2)return!1;try{return Function("return function*() {}")()}catch{}},GeneratorFunction,isGeneratorFunction=function(a){if(typeof a!="function")return!1;if(isFnRegex.test(fnToStr$1.call(a)))return!0;if(!hasToStringTag$2){var $=toStr$3.call(a);return $==="[object GeneratorFunction]"}if(!getProto)return!1;if(typeof GeneratorFunction>"u"){var j=getGeneratorFunc();GeneratorFunction=j?getProto(j):!1}return getProto(a)===GeneratorFunction},fnToStr=Function.prototype.toString,reflectApply=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,badArrayLike,isCallableMarker;if(typeof reflectApply=="function"&&typeof Object.defineProperty=="function")try{badArrayLike=Object.defineProperty({},"length",{get:function(){throw isCallableMarker}}),isCallableMarker={},reflectApply(function(){throw 42},null,badArrayLike)}catch(_){_!==isCallableMarker&&(reflectApply=null)}else reflectApply=null;var constructorRegex=/^\s*class\b/,isES6ClassFn=function(a){try{var $=fnToStr.call(a);return constructorRegex.test($)}catch{return!1}},tryFunctionObject=function(a){try{return isES6ClassFn(a)?!1:(fnToStr.call(a),!0)}catch{return!1}},toStr$2=Object.prototype.toString,objectClass="[object Object]",fnClass="[object Function]",genClass="[object GeneratorFunction]",ddaClass="[object HTMLAllCollection]",ddaClass2="[object HTML document.all class]",ddaClass3="[object HTMLCollection]",hasToStringTag$1=typeof Symbol=="function"&&!!Symbol.toStringTag,isIE68=!(0 in[,]),isDDA=function(){return!1};if(typeof document=="object"){var all=document.all;toStr$2.call(all)===toStr$2.call(document.all)&&(isDDA=function(a){if((isIE68||!a)&&(typeof a>"u"||typeof a=="object"))try{var $=toStr$2.call(a);return($===ddaClass||$===ddaClass2||$===ddaClass3||$===objectClass)&&a("")==null}catch{}return!1})}var isCallable$1=reflectApply?function(a){if(isDDA(a))return!0;if(!a||typeof a!="function"&&typeof a!="object")return!1;try{reflectApply(a,null,badArrayLike)}catch($){if($!==isCallableMarker)return!1}return!isES6ClassFn(a)&&tryFunctionObject(a)}:function(a){if(isDDA(a))return!0;if(!a||typeof a!="function"&&typeof a!="object")return!1;if(hasToStringTag$1)return tryFunctionObject(a);if(isES6ClassFn(a))return!1;var $=toStr$2.call(a);return $!==fnClass&&$!==genClass&&!/^\[object HTML/.test($)?!1:tryFunctionObject(a)},isCallable=isCallable$1,toStr$1=Object.prototype.toString,hasOwnProperty$1=Object.prototype.hasOwnProperty,forEachArray=function(a,$,j){for(var et=0,tt=a.length;et<tt;et++)hasOwnProperty$1.call(a,et)&&(j==null?$(a[et],et,a):$.call(j,a[et],et,a))},forEachString=function(a,$,j){for(var et=0,tt=a.length;et<tt;et++)j==null?$(a.charAt(et),et,a):$.call(j,a.charAt(et),et,a)},forEachObject=function(a,$,j){for(var et in a)hasOwnProperty$1.call(a,et)&&(j==null?$(a[et],et,a):$.call(j,a[et],et,a))},forEach$2=function(a,$,j){if(!isCallable($))throw new TypeError("iterator must be a function");var et;arguments.length>=3&&(et=j),toStr$1.call(a)==="[object Array]"?forEachArray(a,$,et):typeof a=="string"?forEachString(a,$,et):forEachObject(a,$,et)},forEach_1=forEach$2,possibleTypedArrayNames=["Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"],possibleNames=possibleTypedArrayNames,g$2=typeof globalThis>"u"?commonjsGlobal:globalThis,availableTypedArrays$1=function(){for(var a=[],$=0;$<possibleNames.length;$++)typeof g$2[possibleNames[$]]=="function"&&(a[a.length]=possibleNames[$]);return a},forEach$1=forEach_1,availableTypedArrays=availableTypedArrays$1,callBind$1=callBindExports,callBound$1=callBound$3,gOPD=gopd$1,$toString=callBound$1("Object.prototype.toString"),hasToStringTag=shams(),g$1=typeof globalThis>"u"?commonjsGlobal:globalThis,typedArrays=availableTypedArrays(),$slice=callBound$1("String.prototype.slice"),getPrototypeOf$3=Object.getPrototypeOf,$indexOf=callBound$1("Array.prototype.indexOf",!0)||function(a,$){for(var j=0;j<a.length;j+=1)if(a[j]===$)return j;return-1},cache$1={__proto__:null};hasToStringTag&&gOPD&&getPrototypeOf$3?forEach$1(typedArrays,function(_){var a=new g$1[_];if(Symbol.toStringTag in a){var $=getPrototypeOf$3(a),j=gOPD($,Symbol.toStringTag);if(!j){var et=getPrototypeOf$3($);j=gOPD(et,Symbol.toStringTag)}cache$1["$"+_]=callBind$1(j.get)}}):forEach$1(typedArrays,function(_){var a=new g$1[_],$=a.slice||a.set;$&&(cache$1["$"+_]=callBind$1($))});var tryTypedArrays=function(a){var $=!1;return forEach$1(cache$1,function(j,et){if(!$)try{"$"+j(a)===et&&($=$slice(et,1))}catch{}}),$},trySlices=function(a){var $=!1;return forEach$1(cache$1,function(j,et){if(!$)try{j(a),$=$slice(et,1)}catch{}}),$},whichTypedArray$1=function(a){if(!a||typeof a!="object")return!1;if(!hasToStringTag){var $=$slice($toString(a),8,-1);return $indexOf(typedArrays,$)>-1?$:$!=="Object"?!1:trySlices(a)}return gOPD?tryTypedArrays(a):null},whichTypedArray=whichTypedArray$1,isTypedArray$1=function(a){return!!whichTypedArray(a)};(function(_){var a=isArguments$1,$=isGeneratorFunction,j=whichTypedArray$1,et=isTypedArray$1;function tt(fr){return fr.call.bind(fr)}var rt=typeof BigInt<"u",nt=typeof Symbol<"u",it=tt(Object.prototype.toString),ot=tt(Number.prototype.valueOf),st=tt(String.prototype.valueOf),ct=tt(Boolean.prototype.valueOf);if(rt)var ut=tt(BigInt.prototype.valueOf);if(nt)var ht=tt(Symbol.prototype.valueOf);function Et(fr,Er){if(typeof fr!="object")return!1;try{return Er(fr),!0}catch{return!1}}_.isArgumentsObject=a,_.isGeneratorFunction=$,_.isTypedArray=et;function St(fr){return typeof Promise<"u"&&fr instanceof Promise||fr!==null&&typeof fr=="object"&&typeof fr.then=="function"&&typeof fr.catch=="function"}_.isPromise=St;function Mt(fr){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(fr):et(fr)||It(fr)}_.isArrayBufferView=Mt;function kt(fr){return j(fr)==="Uint8Array"}_.isUint8Array=kt;function Ct(fr){return j(fr)==="Uint8ClampedArray"}_.isUint8ClampedArray=Ct;function Ot(fr){return j(fr)==="Uint16Array"}_.isUint16Array=Ot;function zt(fr){return j(fr)==="Uint32Array"}_.isUint32Array=zt;function Ut(fr){return j(fr)==="Int8Array"}_.isInt8Array=Ut;function Vt(fr){return j(fr)==="Int16Array"}_.isInt16Array=Vt;function jt(fr){return j(fr)==="Int32Array"}_.isInt32Array=jt;function $t(fr){return j(fr)==="Float32Array"}_.isFloat32Array=$t;function Bt(fr){return j(fr)==="Float64Array"}_.isFloat64Array=Bt;function Nt(fr){return j(fr)==="BigInt64Array"}_.isBigInt64Array=Nt;function Lt(fr){return j(fr)==="BigUint64Array"}_.isBigUint64Array=Lt;function Pt(fr){return it(fr)==="[object Map]"}Pt.working=typeof Map<"u"&&Pt(new Map);function bt(fr){return typeof Map>"u"?!1:Pt.working?Pt(fr):fr instanceof Map}_.isMap=bt;function at(fr){return it(fr)==="[object Set]"}at.working=typeof Set<"u"&&at(new Set);function dt(fr){return typeof Set>"u"?!1:at.working?at(fr):fr instanceof Set}_.isSet=dt;function vt(fr){return it(fr)==="[object WeakMap]"}vt.working=typeof WeakMap<"u"&&vt(new WeakMap);function xt(fr){return typeof WeakMap>"u"?!1:vt.working?vt(fr):fr instanceof WeakMap}_.isWeakMap=xt;function wt(fr){return it(fr)==="[object WeakSet]"}wt.working=typeof WeakSet<"u"&&wt(new WeakSet);function _t(fr){return wt(fr)}_.isWeakSet=_t;function At(fr){return it(fr)==="[object ArrayBuffer]"}At.working=typeof ArrayBuffer<"u"&&At(new ArrayBuffer);function Tt(fr){return typeof ArrayBuffer>"u"?!1:At.working?At(fr):fr instanceof ArrayBuffer}_.isArrayBuffer=Tt;function yt(fr){return it(fr)==="[object DataView]"}yt.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&yt(new DataView(new ArrayBuffer(1),0,1));function It(fr){return typeof DataView>"u"?!1:yt.working?yt(fr):fr instanceof DataView}_.isDataView=It;var rr=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function ir(fr){return it(fr)==="[object SharedArrayBuffer]"}function nr(fr){return typeof rr>"u"?!1:(typeof ir.working>"u"&&(ir.working=ir(new rr)),ir.working?ir(fr):fr instanceof rr)}_.isSharedArrayBuffer=nr;function Gt(fr){return it(fr)==="[object AsyncFunction]"}_.isAsyncFunction=Gt;function qt(fr){return it(fr)==="[object Map Iterator]"}_.isMapIterator=qt;function Jt(fr){return it(fr)==="[object Set Iterator]"}_.isSetIterator=Jt;function Ft(fr){return it(fr)==="[object Generator]"}_.isGeneratorObject=Ft;function Kt(fr){return it(fr)==="[object WebAssembly.Module]"}_.isWebAssemblyCompiledModule=Kt;function Qt(fr){return Et(fr,ot)}_.isNumberObject=Qt;function dr(fr){return Et(fr,st)}_.isStringObject=dr;function xr(fr){return Et(fr,ct)}_.isBooleanObject=xr;function pr(fr){return rt&&Et(fr,ut)}_.isBigIntObject=pr;function Ir(fr){return nt&&Et(fr,ht)}_.isSymbolObject=Ir;function Cr(fr){return Qt(fr)||dr(fr)||xr(fr)||pr(fr)||Ir(fr)}_.isBoxedPrimitive=Cr;function lr(fr){return typeof Uint8Array<"u"&&(Tt(fr)||nr(fr))}_.isAnyArrayBuffer=lr,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(fr){Object.defineProperty(_,fr,{enumerable:!1,value:function(){throw new Error(fr+" is not supported in userland")}})})})(types$1);var isBufferBrowser=function(a){return a&&typeof a=="object"&&typeof a.copy=="function"&&typeof a.fill=="function"&&typeof a.readUInt8=="function"};(function(_){var a={},$=Object.getOwnPropertyDescriptors||function(rr){for(var ir=Object.keys(rr),nr={},Gt=0;Gt<ir.length;Gt++)nr[ir[Gt]]=Object.getOwnPropertyDescriptor(rr,ir[Gt]);return nr},j=/%[sdj%]/g;_.format=function(It){if(!Vt(It)){for(var rr=[],ir=0;ir<arguments.length;ir++)rr.push(nt(arguments[ir]));return rr.join(" ")}for(var ir=1,nr=arguments,Gt=nr.length,qt=String(It).replace(j,function(Ft){if(Ft==="%%")return"%";if(ir>=Gt)return Ft;switch(Ft){case"%s":return String(nr[ir++]);case"%d":return Number(nr[ir++]);case"%j":try{return JSON.stringify(nr[ir++])}catch{return"[Circular]"}default:return Ft}}),Jt=nr[ir];ir<Gt;Jt=nr[++ir])Ot(Jt)||!Nt(Jt)?qt+=" "+Jt:qt+=" "+nt(Jt);return qt},_.deprecate=function(It,rr){if(typeof process$1$1<"u"&&process$1$1.noDeprecation===!0)return It;if(typeof process$1$1>"u")return function(){return _.deprecate(It,rr).apply(this,arguments)};var ir=!1;function nr(){if(!ir){if(process$1$1.throwDeprecation)throw new Error(rr);process$1$1.traceDeprecation?console.trace(rr):console.error(rr),ir=!0}return It.apply(this,arguments)}return nr};var et={},tt=/^$/;if(a.NODE_DEBUG){var rt=a.NODE_DEBUG;rt=rt.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),tt=new RegExp("^"+rt+"$","i")}_.debuglog=function(It){if(It=It.toUpperCase(),!et[It])if(tt.test(It)){var rr=process$1$1.pid;et[It]=function(){var ir=_.format.apply(_,arguments);console.error("%s %d: %s",It,rr,ir)}}else et[It]=function(){};return et[It]};function nt(It,rr){var ir={seen:[],stylize:ot};return arguments.length>=3&&(ir.depth=arguments[2]),arguments.length>=4&&(ir.colors=arguments[3]),Ct(rr)?ir.showHidden=rr:rr&&_._extend(ir,rr),$t(ir.showHidden)&&(ir.showHidden=!1),$t(ir.depth)&&(ir.depth=2),$t(ir.colors)&&(ir.colors=!1),$t(ir.customInspect)&&(ir.customInspect=!0),ir.colors&&(ir.stylize=it),ct(ir,It,ir.depth)}_.inspect=nt,nt.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},nt.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function it(It,rr){var ir=nt.styles[rr];return ir?"\x1B["+nt.colors[ir][0]+"m"+It+"\x1B["+nt.colors[ir][1]+"m":It}function ot(It,rr){return It}function st(It){var rr={};return It.forEach(function(ir,nr){rr[ir]=!0}),rr}function ct(It,rr,ir){if(It.customInspect&&rr&&bt(rr.inspect)&&rr.inspect!==_.inspect&&!(rr.constructor&&rr.constructor.prototype===rr)){var nr=rr.inspect(ir,It);return Vt(nr)||(nr=ct(It,nr,ir)),nr}var Gt=ut(It,rr);if(Gt)return Gt;var qt=Object.keys(rr),Jt=st(qt);if(It.showHidden&&(qt=Object.getOwnPropertyNames(rr)),Pt(rr)&&(qt.indexOf("message")>=0||qt.indexOf("description")>=0))return ht(rr);if(qt.length===0){if(bt(rr)){var Ft=rr.name?": "+rr.name:"";return It.stylize("[Function"+Ft+"]","special")}if(Bt(rr))return It.stylize(RegExp.prototype.toString.call(rr),"regexp");if(Lt(rr))return It.stylize(Date.prototype.toString.call(rr),"date");if(Pt(rr))return ht(rr)}var Kt="",Qt=!1,dr=["{","}"];if(kt(rr)&&(Qt=!0,dr=["[","]"]),bt(rr)){var xr=rr.name?": "+rr.name:"";Kt=" [Function"+xr+"]"}if(Bt(rr)&&(Kt=" "+RegExp.prototype.toString.call(rr)),Lt(rr)&&(Kt=" "+Date.prototype.toUTCString.call(rr)),Pt(rr)&&(Kt=" "+ht(rr)),qt.length===0&&(!Qt||rr.length==0))return dr[0]+Kt+dr[1];if(ir<0)return Bt(rr)?It.stylize(RegExp.prototype.toString.call(rr),"regexp"):It.stylize("[Object]","special");It.seen.push(rr);var pr;return Qt?pr=Et(It,rr,ir,Jt,qt):pr=qt.map(function(Ir){return St(It,rr,ir,Jt,Ir,Qt)}),It.seen.pop(),Mt(pr,Kt,dr)}function ut(It,rr){if($t(rr))return It.stylize("undefined","undefined");if(Vt(rr)){var ir="'"+JSON.stringify(rr).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return It.stylize(ir,"string")}if(Ut(rr))return It.stylize(""+rr,"number");if(Ct(rr))return It.stylize(""+rr,"boolean");if(Ot(rr))return It.stylize("null","null")}function ht(It){return"["+Error.prototype.toString.call(It)+"]"}function Et(It,rr,ir,nr,Gt){for(var qt=[],Jt=0,Ft=rr.length;Jt<Ft;++Jt)_t(rr,String(Jt))?qt.push(St(It,rr,ir,nr,String(Jt),!0)):qt.push("");return Gt.forEach(function(Kt){Kt.match(/^\d+$/)||qt.push(St(It,rr,ir,nr,Kt,!0))}),qt}function St(It,rr,ir,nr,Gt,qt){var Jt,Ft,Kt;if(Kt=Object.getOwnPropertyDescriptor(rr,Gt)||{value:rr[Gt]},Kt.get?Kt.set?Ft=It.stylize("[Getter/Setter]","special"):Ft=It.stylize("[Getter]","special"):Kt.set&&(Ft=It.stylize("[Setter]","special")),_t(nr,Gt)||(Jt="["+Gt+"]"),Ft||(It.seen.indexOf(Kt.value)<0?(Ot(ir)?Ft=ct(It,Kt.value,null):Ft=ct(It,Kt.value,ir-1),Ft.indexOf(`
`)>-1&&(qt?Ft=Ft.split(`
`).map(function(Qt){return"  "+Qt}).join(`
`).slice(2):Ft=`
`+Ft.split(`
`).map(function(Qt){return"   "+Qt}).join(`
`))):Ft=It.stylize("[Circular]","special")),$t(Jt)){if(qt&&Gt.match(/^\d+$/))return Ft;Jt=JSON.stringify(""+Gt),Jt.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(Jt=Jt.slice(1,-1),Jt=It.stylize(Jt,"name")):(Jt=Jt.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),Jt=It.stylize(Jt,"string"))}return Jt+": "+Ft}function Mt(It,rr,ir){var nr=It.reduce(function(Gt,qt){return qt.indexOf(`
`)>=0,Gt+qt.replace(/\u001b\[\d\d?m/g,"").length+1},0);return nr>60?ir[0]+(rr===""?"":rr+`
 `)+" "+It.join(`,
  `)+" "+ir[1]:ir[0]+rr+" "+It.join(", ")+" "+ir[1]}_.types=types$1;function kt(It){return Array.isArray(It)}_.isArray=kt;function Ct(It){return typeof It=="boolean"}_.isBoolean=Ct;function Ot(It){return It===null}_.isNull=Ot;function zt(It){return It==null}_.isNullOrUndefined=zt;function Ut(It){return typeof It=="number"}_.isNumber=Ut;function Vt(It){return typeof It=="string"}_.isString=Vt;function jt(It){return typeof It=="symbol"}_.isSymbol=jt;function $t(It){return It===void 0}_.isUndefined=$t;function Bt(It){return Nt(It)&&dt(It)==="[object RegExp]"}_.isRegExp=Bt,_.types.isRegExp=Bt;function Nt(It){return typeof It=="object"&&It!==null}_.isObject=Nt;function Lt(It){return Nt(It)&&dt(It)==="[object Date]"}_.isDate=Lt,_.types.isDate=Lt;function Pt(It){return Nt(It)&&(dt(It)==="[object Error]"||It instanceof Error)}_.isError=Pt,_.types.isNativeError=Pt;function bt(It){return typeof It=="function"}_.isFunction=bt;function at(It){return It===null||typeof It=="boolean"||typeof It=="number"||typeof It=="string"||typeof It=="symbol"||typeof It>"u"}_.isPrimitive=at,_.isBuffer=isBufferBrowser;function dt(It){return Object.prototype.toString.call(It)}function vt(It){return It<10?"0"+It.toString(10):It.toString(10)}var xt=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function wt(){var It=new Date,rr=[vt(It.getHours()),vt(It.getMinutes()),vt(It.getSeconds())].join(":");return[It.getDate(),xt[It.getMonth()],rr].join(" ")}_.log=function(){console.log("%s - %s",wt(),_.format.apply(_,arguments))},_.inherits=inherits_browserExports,_._extend=function(It,rr){if(!rr||!Nt(rr))return It;for(var ir=Object.keys(rr),nr=ir.length;nr--;)It[ir[nr]]=rr[ir[nr]];return It};function _t(It,rr){return Object.prototype.hasOwnProperty.call(It,rr)}var At=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;_.promisify=function(rr){if(typeof rr!="function")throw new TypeError('The "original" argument must be of type Function');if(At&&rr[At]){var ir=rr[At];if(typeof ir!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(ir,At,{value:ir,enumerable:!1,writable:!1,configurable:!0}),ir}function ir(){for(var nr,Gt,qt=new Promise(function(Kt,Qt){nr=Kt,Gt=Qt}),Jt=[],Ft=0;Ft<arguments.length;Ft++)Jt.push(arguments[Ft]);Jt.push(function(Kt,Qt){Kt?Gt(Kt):nr(Qt)});try{rr.apply(this,Jt)}catch(Kt){Gt(Kt)}return qt}return Object.setPrototypeOf(ir,Object.getPrototypeOf(rr)),At&&Object.defineProperty(ir,At,{value:ir,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(ir,$(rr))},_.promisify.custom=At;function Tt(It,rr){if(!It){var ir=new Error("Promise was rejected with a falsy value");ir.reason=It,It=ir}return rr(It)}function yt(It){if(typeof It!="function")throw new TypeError('The "original" argument must be of type Function');function rr(){for(var ir=[],nr=0;nr<arguments.length;nr++)ir.push(arguments[nr]);var Gt=ir.pop();if(typeof Gt!="function")throw new TypeError("The last argument must be of type Function");var qt=this,Jt=function(){return Gt.apply(qt,arguments)};It.apply(this,ir).then(function(Ft){process$1$1.nextTick(Jt.bind(null,null,Ft))},function(Ft){process$1$1.nextTick(Tt.bind(null,Ft,Jt))})}return Object.setPrototypeOf(rr,Object.getPrototypeOf(It)),Object.defineProperties(rr,$(It)),rr}_.callbackify=yt})(util$5);var buffer_list,hasRequiredBuffer_list;function requireBuffer_list(){if(hasRequiredBuffer_list)return buffer_list;hasRequiredBuffer_list=1;function _(Et,St){var Mt=Object.keys(Et);if(Object.getOwnPropertySymbols){var kt=Object.getOwnPropertySymbols(Et);St&&(kt=kt.filter(function(Ct){return Object.getOwnPropertyDescriptor(Et,Ct).enumerable})),Mt.push.apply(Mt,kt)}return Mt}function a(Et){for(var St=1;St<arguments.length;St++){var Mt=arguments[St]!=null?arguments[St]:{};St%2?_(Object(Mt),!0).forEach(function(kt){$(Et,kt,Mt[kt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Et,Object.getOwnPropertyDescriptors(Mt)):_(Object(Mt)).forEach(function(kt){Object.defineProperty(Et,kt,Object.getOwnPropertyDescriptor(Mt,kt))})}return Et}function $(Et,St,Mt){return St=rt(St),St in Et?Object.defineProperty(Et,St,{value:Mt,enumerable:!0,configurable:!0,writable:!0}):Et[St]=Mt,Et}function j(Et,St){if(!(Et instanceof St))throw new TypeError("Cannot call a class as a function")}function et(Et,St){for(var Mt=0;Mt<St.length;Mt++){var kt=St[Mt];kt.enumerable=kt.enumerable||!1,kt.configurable=!0,"value"in kt&&(kt.writable=!0),Object.defineProperty(Et,rt(kt.key),kt)}}function tt(Et,St,Mt){return St&&et(Et.prototype,St),Object.defineProperty(Et,"prototype",{writable:!1}),Et}function rt(Et){var St=nt(Et,"string");return typeof St=="symbol"?St:String(St)}function nt(Et,St){if(typeof Et!="object"||Et===null)return Et;var Mt=Et[Symbol.toPrimitive];if(Mt!==void 0){var kt=Mt.call(Et,St||"default");if(typeof kt!="object")return kt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(St==="string"?String:Number)(Et)}var it=buffer$1,ot=it.Buffer,st=util$5,ct=st.inspect,ut=ct&&ct.custom||"inspect";function ht(Et,St,Mt){ot.prototype.copy.call(Et,St,Mt)}return buffer_list=function(){function Et(){j(this,Et),this.head=null,this.tail=null,this.length=0}return tt(Et,[{key:"push",value:function(Mt){var kt={data:Mt,next:null};this.length>0?this.tail.next=kt:this.head=kt,this.tail=kt,++this.length}},{key:"unshift",value:function(Mt){var kt={data:Mt,next:this.head};this.length===0&&(this.tail=kt),this.head=kt,++this.length}},{key:"shift",value:function(){if(this.length!==0){var Mt=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,Mt}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(Mt){if(this.length===0)return"";for(var kt=this.head,Ct=""+kt.data;kt=kt.next;)Ct+=Mt+kt.data;return Ct}},{key:"concat",value:function(Mt){if(this.length===0)return ot.alloc(0);for(var kt=ot.allocUnsafe(Mt>>>0),Ct=this.head,Ot=0;Ct;)ht(Ct.data,kt,Ot),Ot+=Ct.data.length,Ct=Ct.next;return kt}},{key:"consume",value:function(Mt,kt){var Ct;return Mt<this.head.data.length?(Ct=this.head.data.slice(0,Mt),this.head.data=this.head.data.slice(Mt)):Mt===this.head.data.length?Ct=this.shift():Ct=kt?this._getString(Mt):this._getBuffer(Mt),Ct}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(Mt){var kt=this.head,Ct=1,Ot=kt.data;for(Mt-=Ot.length;kt=kt.next;){var zt=kt.data,Ut=Mt>zt.length?zt.length:Mt;if(Ut===zt.length?Ot+=zt:Ot+=zt.slice(0,Mt),Mt-=Ut,Mt===0){Ut===zt.length?(++Ct,kt.next?this.head=kt.next:this.head=this.tail=null):(this.head=kt,kt.data=zt.slice(Ut));break}++Ct}return this.length-=Ct,Ot}},{key:"_getBuffer",value:function(Mt){var kt=ot.allocUnsafe(Mt),Ct=this.head,Ot=1;for(Ct.data.copy(kt),Mt-=Ct.data.length;Ct=Ct.next;){var zt=Ct.data,Ut=Mt>zt.length?zt.length:Mt;if(zt.copy(kt,kt.length-Mt,0,Ut),Mt-=Ut,Mt===0){Ut===zt.length?(++Ot,Ct.next?this.head=Ct.next:this.head=this.tail=null):(this.head=Ct,Ct.data=zt.slice(Ut));break}++Ot}return this.length-=Ot,kt}},{key:ut,value:function(Mt,kt){return ct(this,a(a({},kt),{},{depth:0,customInspect:!1}))}}]),Et}(),buffer_list}function destroy(_,a){var $=this,j=this._readableState&&this._readableState.destroyed,et=this._writableState&&this._writableState.destroyed;return j||et?(a?a(_):_&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process$1$1.nextTick(emitErrorNT,this,_)):process$1$1.nextTick(emitErrorNT,this,_)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(_||null,function(tt){!a&&tt?$._writableState?$._writableState.errorEmitted?process$1$1.nextTick(emitCloseNT,$):($._writableState.errorEmitted=!0,process$1$1.nextTick(emitErrorAndCloseNT,$,tt)):process$1$1.nextTick(emitErrorAndCloseNT,$,tt):a?(process$1$1.nextTick(emitCloseNT,$),a(tt)):process$1$1.nextTick(emitCloseNT,$)}),this)}function emitErrorAndCloseNT(_,a){emitErrorNT(_,a),emitCloseNT(_)}function emitCloseNT(_){_._writableState&&!_._writableState.emitClose||_._readableState&&!_._readableState.emitClose||_.emit("close")}function undestroy(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function emitErrorNT(_,a){_.emit("error",a)}function errorOrDestroy(_,a){var $=_._readableState,j=_._writableState;$&&$.autoDestroy||j&&j.autoDestroy?_.destroy(a):_.emit("error",a)}var destroy_1$1={destroy,undestroy,errorOrDestroy},errorsBrowser={};function _inheritsLoose(_,a){_.prototype=Object.create(a.prototype),_.prototype.constructor=_,_.__proto__=a}var codes={};function createErrorType(_,a,$){$||($=Error);function j(tt,rt,nt){return typeof a=="string"?a:a(tt,rt,nt)}var et=function(tt){_inheritsLoose(rt,tt);function rt(nt,it,ot){return tt.call(this,j(nt,it,ot))||this}return rt}($);et.prototype.name=$.name,et.prototype.code=_,codes[_]=et}function oneOf(_,a){if(Array.isArray(_)){var $=_.length;return _=_.map(function(j){return String(j)}),$>2?"one of ".concat(a," ").concat(_.slice(0,$-1).join(", "),", or ")+_[$-1]:$===2?"one of ".concat(a," ").concat(_[0]," or ").concat(_[1]):"of ".concat(a," ").concat(_[0])}else return"of ".concat(a," ").concat(String(_))}function startsWith(_,a,$){return _.substr(0,a.length)===a}function endsWith$1(_,a,$){return($===void 0||$>_.length)&&($=_.length),_.substring($-a.length,$)===a}function includes(_,a,$){return typeof $!="number"&&($=0),$+a.length>_.length?!1:_.indexOf(a,$)!==-1}createErrorType("ERR_INVALID_OPT_VALUE",function(_,a){return'The value "'+a+'" is invalid for option "'+_+'"'},TypeError);createErrorType("ERR_INVALID_ARG_TYPE",function(_,a,$){var j;typeof a=="string"&&startsWith(a,"not ")?(j="must not be",a=a.replace(/^not /,"")):j="must be";var et;if(endsWith$1(_," argument"))et="The ".concat(_," ").concat(j," ").concat(oneOf(a,"type"));else{var tt=includes(_,".")?"property":"argument";et='The "'.concat(_,'" ').concat(tt," ").concat(j," ").concat(oneOf(a,"type"))}return et+=". Received type ".concat(typeof $),et},TypeError);createErrorType("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");createErrorType("ERR_METHOD_NOT_IMPLEMENTED",function(_){return"The "+_+" method is not implemented"});createErrorType("ERR_STREAM_PREMATURE_CLOSE","Premature close");createErrorType("ERR_STREAM_DESTROYED",function(_){return"Cannot call "+_+" after a stream was destroyed"});createErrorType("ERR_MULTIPLE_CALLBACK","Callback called multiple times");createErrorType("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");createErrorType("ERR_STREAM_WRITE_AFTER_END","write after end");createErrorType("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);createErrorType("ERR_UNKNOWN_ENCODING",function(_){return"Unknown encoding: "+_},TypeError);createErrorType("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");errorsBrowser.codes=codes;var ERR_INVALID_OPT_VALUE=errorsBrowser.codes.ERR_INVALID_OPT_VALUE;function highWaterMarkFrom(_,a,$){return _.highWaterMark!=null?_.highWaterMark:a?_[$]:null}function getHighWaterMark(_,a,$,j){var et=highWaterMarkFrom(a,j,$);if(et!=null){if(!(isFinite(et)&&Math.floor(et)===et)||et<0){var tt=j?$:"highWaterMark";throw new ERR_INVALID_OPT_VALUE(tt,et)}return Math.floor(et)}return _.objectMode?16:16*1024}var state={getHighWaterMark},browser$c=deprecate;function deprecate(_,a){if(config$3("noDeprecation"))return _;var $=!1;function j(){if(!$){if(config$3("throwDeprecation"))throw new Error(a);config$3("traceDeprecation")?console.trace(a):console.warn(a),$=!0}return _.apply(this,arguments)}return j}function config$3(_){try{if(!commonjsGlobal.localStorage)return!1}catch{return!1}var a=commonjsGlobal.localStorage[_];return a==null?!1:String(a).toLowerCase()==="true"}var _stream_writable$1,hasRequired_stream_writable$1;function require_stream_writable$1(){if(hasRequired_stream_writable$1)return _stream_writable$1;hasRequired_stream_writable$1=1,_stream_writable$1=$t;function _(nr){var Gt=this;this.next=null,this.entry=null,this.finish=function(){ir(Gt,nr)}}var a;$t.WritableState=Vt;var $={deprecate:browser$c},j=streamBrowser$1,et=buffer$1.Buffer,tt=(typeof commonjsGlobal<"u"?commonjsGlobal:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function rt(nr){return et.from(nr)}function nt(nr){return et.isBuffer(nr)||nr instanceof tt}var it=destroy_1$1,ot=state,st=ot.getHighWaterMark,ct=errorsBrowser.codes,ut=ct.ERR_INVALID_ARG_TYPE,ht=ct.ERR_METHOD_NOT_IMPLEMENTED,Et=ct.ERR_MULTIPLE_CALLBACK,St=ct.ERR_STREAM_CANNOT_PIPE,Mt=ct.ERR_STREAM_DESTROYED,kt=ct.ERR_STREAM_NULL_VALUES,Ct=ct.ERR_STREAM_WRITE_AFTER_END,Ot=ct.ERR_UNKNOWN_ENCODING,zt=it.errorOrDestroy;inherits_browserExports($t,j);function Ut(){}function Vt(nr,Gt,qt){a=a||require_stream_duplex$1(),nr=nr||{},typeof qt!="boolean"&&(qt=Gt instanceof a),this.objectMode=!!nr.objectMode,qt&&(this.objectMode=this.objectMode||!!nr.writableObjectMode),this.highWaterMark=st(this,nr,"writableHighWaterMark",qt),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var Jt=nr.decodeStrings===!1;this.decodeStrings=!Jt,this.defaultEncoding=nr.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(Ft){vt(Gt,Ft)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=nr.emitClose!==!1,this.autoDestroy=!!nr.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new _(this)}Vt.prototype.getBuffer=function(){for(var Gt=this.bufferedRequest,qt=[];Gt;)qt.push(Gt),Gt=Gt.next;return qt},function(){try{Object.defineProperty(Vt.prototype,"buffer",{get:$.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var jt;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(jt=Function.prototype[Symbol.hasInstance],Object.defineProperty($t,Symbol.hasInstance,{value:function(Gt){return jt.call(this,Gt)?!0:this!==$t?!1:Gt&&Gt._writableState instanceof Vt}})):jt=function(Gt){return Gt instanceof this};function $t(nr){a=a||require_stream_duplex$1();var Gt=this instanceof a;if(!Gt&&!jt.call($t,this))return new $t(nr);this._writableState=new Vt(nr,this,Gt),this.writable=!0,nr&&(typeof nr.write=="function"&&(this._write=nr.write),typeof nr.writev=="function"&&(this._writev=nr.writev),typeof nr.destroy=="function"&&(this._destroy=nr.destroy),typeof nr.final=="function"&&(this._final=nr.final)),j.call(this)}$t.prototype.pipe=function(){zt(this,new St)};function Bt(nr,Gt){var qt=new Ct;zt(nr,qt),process$1$1.nextTick(Gt,qt)}function Nt(nr,Gt,qt,Jt){var Ft;return qt===null?Ft=new kt:typeof qt!="string"&&!Gt.objectMode&&(Ft=new ut("chunk",["string","Buffer"],qt)),Ft?(zt(nr,Ft),process$1$1.nextTick(Jt,Ft),!1):!0}$t.prototype.write=function(nr,Gt,qt){var Jt=this._writableState,Ft=!1,Kt=!Jt.objectMode&&nt(nr);return Kt&&!et.isBuffer(nr)&&(nr=rt(nr)),typeof Gt=="function"&&(qt=Gt,Gt=null),Kt?Gt="buffer":Gt||(Gt=Jt.defaultEncoding),typeof qt!="function"&&(qt=Ut),Jt.ending?Bt(this,qt):(Kt||Nt(this,Jt,nr,qt))&&(Jt.pendingcb++,Ft=Pt(this,Jt,Kt,nr,Gt,qt)),Ft},$t.prototype.cork=function(){this._writableState.corked++},$t.prototype.uncork=function(){var nr=this._writableState;nr.corked&&(nr.corked--,!nr.writing&&!nr.corked&&!nr.bufferProcessing&&nr.bufferedRequest&&_t(this,nr))},$t.prototype.setDefaultEncoding=function(Gt){if(typeof Gt=="string"&&(Gt=Gt.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((Gt+"").toLowerCase())>-1))throw new Ot(Gt);return this._writableState.defaultEncoding=Gt,this},Object.defineProperty($t.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function Lt(nr,Gt,qt){return!nr.objectMode&&nr.decodeStrings!==!1&&typeof Gt=="string"&&(Gt=et.from(Gt,qt)),Gt}Object.defineProperty($t.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function Pt(nr,Gt,qt,Jt,Ft,Kt){if(!qt){var Qt=Lt(Gt,Jt,Ft);Jt!==Qt&&(qt=!0,Ft="buffer",Jt=Qt)}var dr=Gt.objectMode?1:Jt.length;Gt.length+=dr;var xr=Gt.length<Gt.highWaterMark;if(xr||(Gt.needDrain=!0),Gt.writing||Gt.corked){var pr=Gt.lastBufferedRequest;Gt.lastBufferedRequest={chunk:Jt,encoding:Ft,isBuf:qt,callback:Kt,next:null},pr?pr.next=Gt.lastBufferedRequest:Gt.bufferedRequest=Gt.lastBufferedRequest,Gt.bufferedRequestCount+=1}else bt(nr,Gt,!1,dr,Jt,Ft,Kt);return xr}function bt(nr,Gt,qt,Jt,Ft,Kt,Qt){Gt.writelen=Jt,Gt.writecb=Qt,Gt.writing=!0,Gt.sync=!0,Gt.destroyed?Gt.onwrite(new Mt("write")):qt?nr._writev(Ft,Gt.onwrite):nr._write(Ft,Kt,Gt.onwrite),Gt.sync=!1}function at(nr,Gt,qt,Jt,Ft){--Gt.pendingcb,qt?(process$1$1.nextTick(Ft,Jt),process$1$1.nextTick(It,nr,Gt),nr._writableState.errorEmitted=!0,zt(nr,Jt)):(Ft(Jt),nr._writableState.errorEmitted=!0,zt(nr,Jt),It(nr,Gt))}function dt(nr){nr.writing=!1,nr.writecb=null,nr.length-=nr.writelen,nr.writelen=0}function vt(nr,Gt){var qt=nr._writableState,Jt=qt.sync,Ft=qt.writecb;if(typeof Ft!="function")throw new Et;if(dt(qt),Gt)at(nr,qt,Jt,Gt,Ft);else{var Kt=At(qt)||nr.destroyed;!Kt&&!qt.corked&&!qt.bufferProcessing&&qt.bufferedRequest&&_t(nr,qt),Jt?process$1$1.nextTick(xt,nr,qt,Kt,Ft):xt(nr,qt,Kt,Ft)}}function xt(nr,Gt,qt,Jt){qt||wt(nr,Gt),Gt.pendingcb--,Jt(),It(nr,Gt)}function wt(nr,Gt){Gt.length===0&&Gt.needDrain&&(Gt.needDrain=!1,nr.emit("drain"))}function _t(nr,Gt){Gt.bufferProcessing=!0;var qt=Gt.bufferedRequest;if(nr._writev&&qt&&qt.next){var Jt=Gt.bufferedRequestCount,Ft=new Array(Jt),Kt=Gt.corkedRequestsFree;Kt.entry=qt;for(var Qt=0,dr=!0;qt;)Ft[Qt]=qt,qt.isBuf||(dr=!1),qt=qt.next,Qt+=1;Ft.allBuffers=dr,bt(nr,Gt,!0,Gt.length,Ft,"",Kt.finish),Gt.pendingcb++,Gt.lastBufferedRequest=null,Kt.next?(Gt.corkedRequestsFree=Kt.next,Kt.next=null):Gt.corkedRequestsFree=new _(Gt),Gt.bufferedRequestCount=0}else{for(;qt;){var xr=qt.chunk,pr=qt.encoding,Ir=qt.callback,Cr=Gt.objectMode?1:xr.length;if(bt(nr,Gt,!1,Cr,xr,pr,Ir),qt=qt.next,Gt.bufferedRequestCount--,Gt.writing)break}qt===null&&(Gt.lastBufferedRequest=null)}Gt.bufferedRequest=qt,Gt.bufferProcessing=!1}$t.prototype._write=function(nr,Gt,qt){qt(new ht("_write()"))},$t.prototype._writev=null,$t.prototype.end=function(nr,Gt,qt){var Jt=this._writableState;return typeof nr=="function"?(qt=nr,nr=null,Gt=null):typeof Gt=="function"&&(qt=Gt,Gt=null),nr!=null&&this.write(nr,Gt),Jt.corked&&(Jt.corked=1,this.uncork()),Jt.ending||rr(this,Jt,qt),this},Object.defineProperty($t.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function At(nr){return nr.ending&&nr.length===0&&nr.bufferedRequest===null&&!nr.finished&&!nr.writing}function Tt(nr,Gt){nr._final(function(qt){Gt.pendingcb--,qt&&zt(nr,qt),Gt.prefinished=!0,nr.emit("prefinish"),It(nr,Gt)})}function yt(nr,Gt){!Gt.prefinished&&!Gt.finalCalled&&(typeof nr._final=="function"&&!Gt.destroyed?(Gt.pendingcb++,Gt.finalCalled=!0,process$1$1.nextTick(Tt,nr,Gt)):(Gt.prefinished=!0,nr.emit("prefinish")))}function It(nr,Gt){var qt=At(Gt);if(qt&&(yt(nr,Gt),Gt.pendingcb===0&&(Gt.finished=!0,nr.emit("finish"),Gt.autoDestroy))){var Jt=nr._readableState;(!Jt||Jt.autoDestroy&&Jt.endEmitted)&&nr.destroy()}return qt}function rr(nr,Gt,qt){Gt.ending=!0,It(nr,Gt),qt&&(Gt.finished?process$1$1.nextTick(qt):nr.once("finish",qt)),Gt.ended=!0,nr.writable=!1}function ir(nr,Gt,qt){var Jt=nr.entry;for(nr.entry=null;Jt;){var Ft=Jt.callback;Gt.pendingcb--,Ft(qt),Jt=Jt.next}Gt.corkedRequestsFree.next=nr}return Object.defineProperty($t.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(Gt){this._writableState&&(this._writableState.destroyed=Gt)}}),$t.prototype.destroy=it.destroy,$t.prototype._undestroy=it.undestroy,$t.prototype._destroy=function(nr,Gt){Gt(nr)},_stream_writable$1}var _stream_duplex$1,hasRequired_stream_duplex$1;function require_stream_duplex$1(){if(hasRequired_stream_duplex$1)return _stream_duplex$1;hasRequired_stream_duplex$1=1;var _=Object.keys||function(ot){var st=[];for(var ct in ot)st.push(ct);return st};_stream_duplex$1=rt;var a=require_stream_readable$1(),$=require_stream_writable$1();inherits_browserExports(rt,a);for(var j=_($.prototype),et=0;et<j.length;et++){var tt=j[et];rt.prototype[tt]||(rt.prototype[tt]=$.prototype[tt])}function rt(ot){if(!(this instanceof rt))return new rt(ot);a.call(this,ot),$.call(this,ot),this.allowHalfOpen=!0,ot&&(ot.readable===!1&&(this.readable=!1),ot.writable===!1&&(this.writable=!1),ot.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",nt)))}Object.defineProperty(rt.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(rt.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(rt.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function nt(){this._writableState.ended||process$1$1.nextTick(it,this)}function it(ot){ot.end()}return Object.defineProperty(rt.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(st){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=st,this._writableState.destroyed=st)}}),_stream_duplex$1}var string_decoder$1={},Buffer$f=safeBufferExports.Buffer,isEncoding=Buffer$f.isEncoding||function(_){switch(_=""+_,_&&_.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function _normalizeEncoding(_){if(!_)return"utf8";for(var a;;)switch(_){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return _;default:if(a)return;_=(""+_).toLowerCase(),a=!0}}function normalizeEncoding(_){var a=_normalizeEncoding(_);if(typeof a!="string"&&(Buffer$f.isEncoding===isEncoding||!isEncoding(_)))throw new Error("Unknown encoding: "+_);return a||_}string_decoder$1.StringDecoder=StringDecoder$1;function StringDecoder$1(_){this.encoding=normalizeEncoding(_);var a;switch(this.encoding){case"utf16le":this.text=utf16Text,this.end=utf16End,a=4;break;case"utf8":this.fillLast=utf8FillLast,a=4;break;case"base64":this.text=base64Text,this.end=base64End,a=3;break;default:this.write=simpleWrite,this.end=simpleEnd;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=Buffer$f.allocUnsafe(a)}StringDecoder$1.prototype.write=function(_){if(_.length===0)return"";var a,$;if(this.lastNeed){if(a=this.fillLast(_),a===void 0)return"";$=this.lastNeed,this.lastNeed=0}else $=0;return $<_.length?a?a+this.text(_,$):this.text(_,$):a||""};StringDecoder$1.prototype.end=utf8End;StringDecoder$1.prototype.text=utf8Text;StringDecoder$1.prototype.fillLast=function(_){if(this.lastNeed<=_.length)return _.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);_.copy(this.lastChar,this.lastTotal-this.lastNeed,0,_.length),this.lastNeed-=_.length};function utf8CheckByte(_){return _<=127?0:_>>5===6?2:_>>4===14?3:_>>3===30?4:_>>6===2?-1:-2}function utf8CheckIncomplete(_,a,$){var j=a.length-1;if(j<$)return 0;var et=utf8CheckByte(a[j]);return et>=0?(et>0&&(_.lastNeed=et-1),et):--j<$||et===-2?0:(et=utf8CheckByte(a[j]),et>=0?(et>0&&(_.lastNeed=et-2),et):--j<$||et===-2?0:(et=utf8CheckByte(a[j]),et>=0?(et>0&&(et===2?et=0:_.lastNeed=et-3),et):0))}function utf8CheckExtraBytes(_,a,$){if((a[0]&192)!==128)return _.lastNeed=0,"�";if(_.lastNeed>1&&a.length>1){if((a[1]&192)!==128)return _.lastNeed=1,"�";if(_.lastNeed>2&&a.length>2&&(a[2]&192)!==128)return _.lastNeed=2,"�"}}function utf8FillLast(_){var a=this.lastTotal-this.lastNeed,$=utf8CheckExtraBytes(this,_);if($!==void 0)return $;if(this.lastNeed<=_.length)return _.copy(this.lastChar,a,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);_.copy(this.lastChar,a,0,_.length),this.lastNeed-=_.length}function utf8Text(_,a){var $=utf8CheckIncomplete(this,_,a);if(!this.lastNeed)return _.toString("utf8",a);this.lastTotal=$;var j=_.length-($-this.lastNeed);return _.copy(this.lastChar,0,j),_.toString("utf8",a,j)}function utf8End(_){var a=_&&_.length?this.write(_):"";return this.lastNeed?a+"�":a}function utf16Text(_,a){if((_.length-a)%2===0){var $=_.toString("utf16le",a);if($){var j=$.charCodeAt($.length-1);if(j>=55296&&j<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=_[_.length-2],this.lastChar[1]=_[_.length-1],$.slice(0,-1)}return $}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=_[_.length-1],_.toString("utf16le",a,_.length-1)}function utf16End(_){var a=_&&_.length?this.write(_):"";if(this.lastNeed){var $=this.lastTotal-this.lastNeed;return a+this.lastChar.toString("utf16le",0,$)}return a}function base64Text(_,a){var $=(_.length-a)%3;return $===0?_.toString("base64",a):(this.lastNeed=3-$,this.lastTotal=3,$===1?this.lastChar[0]=_[_.length-1]:(this.lastChar[0]=_[_.length-2],this.lastChar[1]=_[_.length-1]),_.toString("base64",a,_.length-$))}function base64End(_){var a=_&&_.length?this.write(_):"";return this.lastNeed?a+this.lastChar.toString("base64",0,3-this.lastNeed):a}function simpleWrite(_){return _.toString(this.encoding)}function simpleEnd(_){return _&&_.length?this.write(_):""}var ERR_STREAM_PREMATURE_CLOSE=errorsBrowser.codes.ERR_STREAM_PREMATURE_CLOSE;function once$1(_){var a=!1;return function(){if(!a){a=!0;for(var $=arguments.length,j=new Array($),et=0;et<$;et++)j[et]=arguments[et];_.apply(this,j)}}}function noop$8(){}function isRequest$2(_){return _.setHeader&&typeof _.abort=="function"}function eos$1(_,a,$){if(typeof a=="function")return eos$1(_,null,a);a||(a={}),$=once$1($||noop$8);var j=a.readable||a.readable!==!1&&_.readable,et=a.writable||a.writable!==!1&&_.writable,tt=function(){_.writable||nt()},rt=_._writableState&&_._writableState.finished,nt=function(){et=!1,rt=!0,j||$.call(_)},it=_._readableState&&_._readableState.endEmitted,ot=function(){j=!1,it=!0,et||$.call(_)},st=function(Et){$.call(_,Et)},ct=function(){var Et;if(j&&!it)return(!_._readableState||!_._readableState.ended)&&(Et=new ERR_STREAM_PREMATURE_CLOSE),$.call(_,Et);if(et&&!rt)return(!_._writableState||!_._writableState.ended)&&(Et=new ERR_STREAM_PREMATURE_CLOSE),$.call(_,Et)},ut=function(){_.req.on("finish",nt)};return isRequest$2(_)?(_.on("complete",nt),_.on("abort",ct),_.req?ut():_.on("request",ut)):et&&!_._writableState&&(_.on("end",tt),_.on("close",tt)),_.on("end",ot),_.on("finish",nt),a.error!==!1&&_.on("error",st),_.on("close",ct),function(){_.removeListener("complete",nt),_.removeListener("abort",ct),_.removeListener("request",ut),_.req&&_.req.removeListener("finish",nt),_.removeListener("end",tt),_.removeListener("close",tt),_.removeListener("finish",nt),_.removeListener("end",ot),_.removeListener("error",st),_.removeListener("close",ct)}}var endOfStream=eos$1,async_iterator,hasRequiredAsync_iterator;function requireAsync_iterator(){if(hasRequiredAsync_iterator)return async_iterator;hasRequiredAsync_iterator=1;var _;function a(Ot,zt,Ut){return zt=$(zt),zt in Ot?Object.defineProperty(Ot,zt,{value:Ut,enumerable:!0,configurable:!0,writable:!0}):Ot[zt]=Ut,Ot}function $(Ot){var zt=j(Ot,"string");return typeof zt=="symbol"?zt:String(zt)}function j(Ot,zt){if(typeof Ot!="object"||Ot===null)return Ot;var Ut=Ot[Symbol.toPrimitive];if(Ut!==void 0){var Vt=Ut.call(Ot,zt||"default");if(typeof Vt!="object")return Vt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(zt==="string"?String:Number)(Ot)}var et=endOfStream,tt=Symbol("lastResolve"),rt=Symbol("lastReject"),nt=Symbol("error"),it=Symbol("ended"),ot=Symbol("lastPromise"),st=Symbol("handlePromise"),ct=Symbol("stream");function ut(Ot,zt){return{value:Ot,done:zt}}function ht(Ot){var zt=Ot[tt];if(zt!==null){var Ut=Ot[ct].read();Ut!==null&&(Ot[ot]=null,Ot[tt]=null,Ot[rt]=null,zt(ut(Ut,!1)))}}function Et(Ot){process$1$1.nextTick(ht,Ot)}function St(Ot,zt){return function(Ut,Vt){Ot.then(function(){if(zt[it]){Ut(ut(void 0,!0));return}zt[st](Ut,Vt)},Vt)}}var Mt=Object.getPrototypeOf(function(){}),kt=Object.setPrototypeOf((_={get stream(){return this[ct]},next:function(){var zt=this,Ut=this[nt];if(Ut!==null)return Promise.reject(Ut);if(this[it])return Promise.resolve(ut(void 0,!0));if(this[ct].destroyed)return new Promise(function(Bt,Nt){process$1$1.nextTick(function(){zt[nt]?Nt(zt[nt]):Bt(ut(void 0,!0))})});var Vt=this[ot],jt;if(Vt)jt=new Promise(St(Vt,this));else{var $t=this[ct].read();if($t!==null)return Promise.resolve(ut($t,!1));jt=new Promise(this[st])}return this[ot]=jt,jt}},a(_,Symbol.asyncIterator,function(){return this}),a(_,"return",function(){var zt=this;return new Promise(function(Ut,Vt){zt[ct].destroy(null,function(jt){if(jt){Vt(jt);return}Ut(ut(void 0,!0))})})}),_),Mt),Ct=function(zt){var Ut,Vt=Object.create(kt,(Ut={},a(Ut,ct,{value:zt,writable:!0}),a(Ut,tt,{value:null,writable:!0}),a(Ut,rt,{value:null,writable:!0}),a(Ut,nt,{value:null,writable:!0}),a(Ut,it,{value:zt._readableState.endEmitted,writable:!0}),a(Ut,st,{value:function($t,Bt){var Nt=Vt[ct].read();Nt?(Vt[ot]=null,Vt[tt]=null,Vt[rt]=null,$t(ut(Nt,!1))):(Vt[tt]=$t,Vt[rt]=Bt)},writable:!0}),Ut));return Vt[ot]=null,et(zt,function(jt){if(jt&&jt.code!=="ERR_STREAM_PREMATURE_CLOSE"){var $t=Vt[rt];$t!==null&&(Vt[ot]=null,Vt[tt]=null,Vt[rt]=null,$t(jt)),Vt[nt]=jt;return}var Bt=Vt[tt];Bt!==null&&(Vt[ot]=null,Vt[tt]=null,Vt[rt]=null,Bt(ut(void 0,!0))),Vt[it]=!0}),zt.on("readable",Et.bind(null,Vt)),Vt};return async_iterator=Ct,async_iterator}var fromBrowser,hasRequiredFromBrowser;function requireFromBrowser(){return hasRequiredFromBrowser||(hasRequiredFromBrowser=1,fromBrowser=function(){throw new Error("Readable.from is not available in the browser")}),fromBrowser}var _stream_readable$1,hasRequired_stream_readable$1;function require_stream_readable$1(){if(hasRequired_stream_readable$1)return _stream_readable$1;hasRequired_stream_readable$1=1,_stream_readable$1=Bt;var _;Bt.ReadableState=$t,eventsExports.EventEmitter;var a=function(Qt,dr){return Qt.listeners(dr).length},$=streamBrowser$1,j=buffer$1.Buffer,et=(typeof commonjsGlobal<"u"?commonjsGlobal:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function tt(Kt){return j.from(Kt)}function rt(Kt){return j.isBuffer(Kt)||Kt instanceof et}var nt=util$5,it;nt&&nt.debuglog?it=nt.debuglog("stream"):it=function(){};var ot=requireBuffer_list(),st=destroy_1$1,ct=state,ut=ct.getHighWaterMark,ht=errorsBrowser.codes,Et=ht.ERR_INVALID_ARG_TYPE,St=ht.ERR_STREAM_PUSH_AFTER_EOF,Mt=ht.ERR_METHOD_NOT_IMPLEMENTED,kt=ht.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,Ct,Ot,zt;inherits_browserExports(Bt,$);var Ut=st.errorOrDestroy,Vt=["error","close","destroy","pause","resume"];function jt(Kt,Qt,dr){if(typeof Kt.prependListener=="function")return Kt.prependListener(Qt,dr);!Kt._events||!Kt._events[Qt]?Kt.on(Qt,dr):Array.isArray(Kt._events[Qt])?Kt._events[Qt].unshift(dr):Kt._events[Qt]=[dr,Kt._events[Qt]]}function $t(Kt,Qt,dr){_=_||require_stream_duplex$1(),Kt=Kt||{},typeof dr!="boolean"&&(dr=Qt instanceof _),this.objectMode=!!Kt.objectMode,dr&&(this.objectMode=this.objectMode||!!Kt.readableObjectMode),this.highWaterMark=ut(this,Kt,"readableHighWaterMark",dr),this.buffer=new ot,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=Kt.emitClose!==!1,this.autoDestroy=!!Kt.autoDestroy,this.destroyed=!1,this.defaultEncoding=Kt.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,Kt.encoding&&(Ct||(Ct=string_decoder$1.StringDecoder),this.decoder=new Ct(Kt.encoding),this.encoding=Kt.encoding)}function Bt(Kt){if(_=_||require_stream_duplex$1(),!(this instanceof Bt))return new Bt(Kt);var Qt=this instanceof _;this._readableState=new $t(Kt,this,Qt),this.readable=!0,Kt&&(typeof Kt.read=="function"&&(this._read=Kt.read),typeof Kt.destroy=="function"&&(this._destroy=Kt.destroy)),$.call(this)}Object.defineProperty(Bt.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(Qt){this._readableState&&(this._readableState.destroyed=Qt)}}),Bt.prototype.destroy=st.destroy,Bt.prototype._undestroy=st.undestroy,Bt.prototype._destroy=function(Kt,Qt){Qt(Kt)},Bt.prototype.push=function(Kt,Qt){var dr=this._readableState,xr;return dr.objectMode?xr=!0:typeof Kt=="string"&&(Qt=Qt||dr.defaultEncoding,Qt!==dr.encoding&&(Kt=j.from(Kt,Qt),Qt=""),xr=!0),Nt(this,Kt,Qt,!1,xr)},Bt.prototype.unshift=function(Kt){return Nt(this,Kt,null,!0,!1)};function Nt(Kt,Qt,dr,xr,pr){it("readableAddChunk",Qt);var Ir=Kt._readableState;if(Qt===null)Ir.reading=!1,vt(Kt,Ir);else{var Cr;if(pr||(Cr=Pt(Ir,Qt)),Cr)Ut(Kt,Cr);else if(Ir.objectMode||Qt&&Qt.length>0)if(typeof Qt!="string"&&!Ir.objectMode&&Object.getPrototypeOf(Qt)!==j.prototype&&(Qt=tt(Qt)),xr)Ir.endEmitted?Ut(Kt,new kt):Lt(Kt,Ir,Qt,!0);else if(Ir.ended)Ut(Kt,new St);else{if(Ir.destroyed)return!1;Ir.reading=!1,Ir.decoder&&!dr?(Qt=Ir.decoder.write(Qt),Ir.objectMode||Qt.length!==0?Lt(Kt,Ir,Qt,!1):_t(Kt,Ir)):Lt(Kt,Ir,Qt,!1)}else xr||(Ir.reading=!1,_t(Kt,Ir))}return!Ir.ended&&(Ir.length<Ir.highWaterMark||Ir.length===0)}function Lt(Kt,Qt,dr,xr){Qt.flowing&&Qt.length===0&&!Qt.sync?(Qt.awaitDrain=0,Kt.emit("data",dr)):(Qt.length+=Qt.objectMode?1:dr.length,xr?Qt.buffer.unshift(dr):Qt.buffer.push(dr),Qt.needReadable&&xt(Kt)),_t(Kt,Qt)}function Pt(Kt,Qt){var dr;return!rt(Qt)&&typeof Qt!="string"&&Qt!==void 0&&!Kt.objectMode&&(dr=new Et("chunk",["string","Buffer","Uint8Array"],Qt)),dr}Bt.prototype.isPaused=function(){return this._readableState.flowing===!1},Bt.prototype.setEncoding=function(Kt){Ct||(Ct=string_decoder$1.StringDecoder);var Qt=new Ct(Kt);this._readableState.decoder=Qt,this._readableState.encoding=this._readableState.decoder.encoding;for(var dr=this._readableState.buffer.head,xr="";dr!==null;)xr+=Qt.write(dr.data),dr=dr.next;return this._readableState.buffer.clear(),xr!==""&&this._readableState.buffer.push(xr),this._readableState.length=xr.length,this};var bt=1073741824;function at(Kt){return Kt>=bt?Kt=bt:(Kt--,Kt|=Kt>>>1,Kt|=Kt>>>2,Kt|=Kt>>>4,Kt|=Kt>>>8,Kt|=Kt>>>16,Kt++),Kt}function dt(Kt,Qt){return Kt<=0||Qt.length===0&&Qt.ended?0:Qt.objectMode?1:Kt!==Kt?Qt.flowing&&Qt.length?Qt.buffer.head.data.length:Qt.length:(Kt>Qt.highWaterMark&&(Qt.highWaterMark=at(Kt)),Kt<=Qt.length?Kt:Qt.ended?Qt.length:(Qt.needReadable=!0,0))}Bt.prototype.read=function(Kt){it("read",Kt),Kt=parseInt(Kt,10);var Qt=this._readableState,dr=Kt;if(Kt!==0&&(Qt.emittedReadable=!1),Kt===0&&Qt.needReadable&&((Qt.highWaterMark!==0?Qt.length>=Qt.highWaterMark:Qt.length>0)||Qt.ended))return it("read: emitReadable",Qt.length,Qt.ended),Qt.length===0&&Qt.ended?qt(this):xt(this),null;if(Kt=dt(Kt,Qt),Kt===0&&Qt.ended)return Qt.length===0&&qt(this),null;var xr=Qt.needReadable;it("need readable",xr),(Qt.length===0||Qt.length-Kt<Qt.highWaterMark)&&(xr=!0,it("length less than watermark",xr)),Qt.ended||Qt.reading?(xr=!1,it("reading or ended",xr)):xr&&(it("do read"),Qt.reading=!0,Qt.sync=!0,Qt.length===0&&(Qt.needReadable=!0),this._read(Qt.highWaterMark),Qt.sync=!1,Qt.reading||(Kt=dt(dr,Qt)));var pr;return Kt>0?pr=Gt(Kt,Qt):pr=null,pr===null?(Qt.needReadable=Qt.length<=Qt.highWaterMark,Kt=0):(Qt.length-=Kt,Qt.awaitDrain=0),Qt.length===0&&(Qt.ended||(Qt.needReadable=!0),dr!==Kt&&Qt.ended&&qt(this)),pr!==null&&this.emit("data",pr),pr};function vt(Kt,Qt){if(it("onEofChunk"),!Qt.ended){if(Qt.decoder){var dr=Qt.decoder.end();dr&&dr.length&&(Qt.buffer.push(dr),Qt.length+=Qt.objectMode?1:dr.length)}Qt.ended=!0,Qt.sync?xt(Kt):(Qt.needReadable=!1,Qt.emittedReadable||(Qt.emittedReadable=!0,wt(Kt)))}}function xt(Kt){var Qt=Kt._readableState;it("emitReadable",Qt.needReadable,Qt.emittedReadable),Qt.needReadable=!1,Qt.emittedReadable||(it("emitReadable",Qt.flowing),Qt.emittedReadable=!0,process$1$1.nextTick(wt,Kt))}function wt(Kt){var Qt=Kt._readableState;it("emitReadable_",Qt.destroyed,Qt.length,Qt.ended),!Qt.destroyed&&(Qt.length||Qt.ended)&&(Kt.emit("readable"),Qt.emittedReadable=!1),Qt.needReadable=!Qt.flowing&&!Qt.ended&&Qt.length<=Qt.highWaterMark,nr(Kt)}function _t(Kt,Qt){Qt.readingMore||(Qt.readingMore=!0,process$1$1.nextTick(At,Kt,Qt))}function At(Kt,Qt){for(;!Qt.reading&&!Qt.ended&&(Qt.length<Qt.highWaterMark||Qt.flowing&&Qt.length===0);){var dr=Qt.length;if(it("maybeReadMore read 0"),Kt.read(0),dr===Qt.length)break}Qt.readingMore=!1}Bt.prototype._read=function(Kt){Ut(this,new Mt("_read()"))},Bt.prototype.pipe=function(Kt,Qt){var dr=this,xr=this._readableState;switch(xr.pipesCount){case 0:xr.pipes=Kt;break;case 1:xr.pipes=[xr.pipes,Kt];break;default:xr.pipes.push(Kt);break}xr.pipesCount+=1,it("pipe count=%d opts=%j",xr.pipesCount,Qt);var pr=(!Qt||Qt.end!==!1)&&Kt!==process$1$1.stdout&&Kt!==process$1$1.stderr,Ir=pr?lr:Nr;xr.endEmitted?process$1$1.nextTick(Ir):dr.once("end",Ir),Kt.on("unpipe",Cr);function Cr(or,Xt){it("onunpipe"),or===dr&&Xt&&Xt.hasUnpiped===!1&&(Xt.hasUnpiped=!0,Ar())}function lr(){it("onend"),Kt.end()}var fr=Tt(dr);Kt.on("drain",fr);var Er=!1;function Ar(){it("cleanup"),Kt.removeListener("close",$r),Kt.removeListener("finish",jr),Kt.removeListener("drain",fr),Kt.removeListener("error",Sr),Kt.removeListener("unpipe",Cr),dr.removeListener("end",lr),dr.removeListener("end",Nr),dr.removeListener("data",kr),Er=!0,xr.awaitDrain&&(!Kt._writableState||Kt._writableState.needDrain)&&fr()}dr.on("data",kr);function kr(or){it("ondata");var Xt=Kt.write(or);it("dest.write",Xt),Xt===!1&&((xr.pipesCount===1&&xr.pipes===Kt||xr.pipesCount>1&&Ft(xr.pipes,Kt)!==-1)&&!Er&&(it("false write response, pause",xr.awaitDrain),xr.awaitDrain++),dr.pause())}function Sr(or){it("onerror",or),Nr(),Kt.removeListener("error",Sr),a(Kt,"error")===0&&Ut(Kt,or)}jt(Kt,"error",Sr);function $r(){Kt.removeListener("finish",jr),Nr()}Kt.once("close",$r);function jr(){it("onfinish"),Kt.removeListener("close",$r),Nr()}Kt.once("finish",jr);function Nr(){it("unpipe"),dr.unpipe(Kt)}return Kt.emit("pipe",dr),xr.flowing||(it("pipe resume"),dr.resume()),Kt};function Tt(Kt){return function(){var dr=Kt._readableState;it("pipeOnDrain",dr.awaitDrain),dr.awaitDrain&&dr.awaitDrain--,dr.awaitDrain===0&&a(Kt,"data")&&(dr.flowing=!0,nr(Kt))}}Bt.prototype.unpipe=function(Kt){var Qt=this._readableState,dr={hasUnpiped:!1};if(Qt.pipesCount===0)return this;if(Qt.pipesCount===1)return Kt&&Kt!==Qt.pipes?this:(Kt||(Kt=Qt.pipes),Qt.pipes=null,Qt.pipesCount=0,Qt.flowing=!1,Kt&&Kt.emit("unpipe",this,dr),this);if(!Kt){var xr=Qt.pipes,pr=Qt.pipesCount;Qt.pipes=null,Qt.pipesCount=0,Qt.flowing=!1;for(var Ir=0;Ir<pr;Ir++)xr[Ir].emit("unpipe",this,{hasUnpiped:!1});return this}var Cr=Ft(Qt.pipes,Kt);return Cr===-1?this:(Qt.pipes.splice(Cr,1),Qt.pipesCount-=1,Qt.pipesCount===1&&(Qt.pipes=Qt.pipes[0]),Kt.emit("unpipe",this,dr),this)},Bt.prototype.on=function(Kt,Qt){var dr=$.prototype.on.call(this,Kt,Qt),xr=this._readableState;return Kt==="data"?(xr.readableListening=this.listenerCount("readable")>0,xr.flowing!==!1&&this.resume()):Kt==="readable"&&!xr.endEmitted&&!xr.readableListening&&(xr.readableListening=xr.needReadable=!0,xr.flowing=!1,xr.emittedReadable=!1,it("on readable",xr.length,xr.reading),xr.length?xt(this):xr.reading||process$1$1.nextTick(It,this)),dr},Bt.prototype.addListener=Bt.prototype.on,Bt.prototype.removeListener=function(Kt,Qt){var dr=$.prototype.removeListener.call(this,Kt,Qt);return Kt==="readable"&&process$1$1.nextTick(yt,this),dr},Bt.prototype.removeAllListeners=function(Kt){var Qt=$.prototype.removeAllListeners.apply(this,arguments);return(Kt==="readable"||Kt===void 0)&&process$1$1.nextTick(yt,this),Qt};function yt(Kt){var Qt=Kt._readableState;Qt.readableListening=Kt.listenerCount("readable")>0,Qt.resumeScheduled&&!Qt.paused?Qt.flowing=!0:Kt.listenerCount("data")>0&&Kt.resume()}function It(Kt){it("readable nexttick read 0"),Kt.read(0)}Bt.prototype.resume=function(){var Kt=this._readableState;return Kt.flowing||(it("resume"),Kt.flowing=!Kt.readableListening,rr(this,Kt)),Kt.paused=!1,this};function rr(Kt,Qt){Qt.resumeScheduled||(Qt.resumeScheduled=!0,process$1$1.nextTick(ir,Kt,Qt))}function ir(Kt,Qt){it("resume",Qt.reading),Qt.reading||Kt.read(0),Qt.resumeScheduled=!1,Kt.emit("resume"),nr(Kt),Qt.flowing&&!Qt.reading&&Kt.read(0)}Bt.prototype.pause=function(){return it("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(it("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function nr(Kt){var Qt=Kt._readableState;for(it("flow",Qt.flowing);Qt.flowing&&Kt.read()!==null;);}Bt.prototype.wrap=function(Kt){var Qt=this,dr=this._readableState,xr=!1;Kt.on("end",function(){if(it("wrapped end"),dr.decoder&&!dr.ended){var Cr=dr.decoder.end();Cr&&Cr.length&&Qt.push(Cr)}Qt.push(null)}),Kt.on("data",function(Cr){if(it("wrapped data"),dr.decoder&&(Cr=dr.decoder.write(Cr)),!(dr.objectMode&&Cr==null)&&!(!dr.objectMode&&(!Cr||!Cr.length))){var lr=Qt.push(Cr);lr||(xr=!0,Kt.pause())}});for(var pr in Kt)this[pr]===void 0&&typeof Kt[pr]=="function"&&(this[pr]=function(lr){return function(){return Kt[lr].apply(Kt,arguments)}}(pr));for(var Ir=0;Ir<Vt.length;Ir++)Kt.on(Vt[Ir],this.emit.bind(this,Vt[Ir]));return this._read=function(Cr){it("wrapped _read",Cr),xr&&(xr=!1,Kt.resume())},this},typeof Symbol=="function"&&(Bt.prototype[Symbol.asyncIterator]=function(){return Ot===void 0&&(Ot=requireAsync_iterator()),Ot(this)}),Object.defineProperty(Bt.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(Bt.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(Bt.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(Qt){this._readableState&&(this._readableState.flowing=Qt)}}),Bt._fromList=Gt,Object.defineProperty(Bt.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function Gt(Kt,Qt){if(Qt.length===0)return null;var dr;return Qt.objectMode?dr=Qt.buffer.shift():!Kt||Kt>=Qt.length?(Qt.decoder?dr=Qt.buffer.join(""):Qt.buffer.length===1?dr=Qt.buffer.first():dr=Qt.buffer.concat(Qt.length),Qt.buffer.clear()):dr=Qt.buffer.consume(Kt,Qt.decoder),dr}function qt(Kt){var Qt=Kt._readableState;it("endReadable",Qt.endEmitted),Qt.endEmitted||(Qt.ended=!0,process$1$1.nextTick(Jt,Qt,Kt))}function Jt(Kt,Qt){if(it("endReadableNT",Kt.endEmitted,Kt.length),!Kt.endEmitted&&Kt.length===0&&(Kt.endEmitted=!0,Qt.readable=!1,Qt.emit("end"),Kt.autoDestroy)){var dr=Qt._writableState;(!dr||dr.autoDestroy&&dr.finished)&&Qt.destroy()}}typeof Symbol=="function"&&(Bt.from=function(Kt,Qt){return zt===void 0&&(zt=requireFromBrowser()),zt(Bt,Kt,Qt)});function Ft(Kt,Qt){for(var dr=0,xr=Kt.length;dr<xr;dr++)if(Kt[dr]===Qt)return dr;return-1}return _stream_readable$1}var _stream_transform$1=Transform$3,_require$codes$1=errorsBrowser.codes,ERR_METHOD_NOT_IMPLEMENTED=_require$codes$1.ERR_METHOD_NOT_IMPLEMENTED,ERR_MULTIPLE_CALLBACK=_require$codes$1.ERR_MULTIPLE_CALLBACK,ERR_TRANSFORM_ALREADY_TRANSFORMING=_require$codes$1.ERR_TRANSFORM_ALREADY_TRANSFORMING,ERR_TRANSFORM_WITH_LENGTH_0=_require$codes$1.ERR_TRANSFORM_WITH_LENGTH_0,Duplex=require_stream_duplex$1();inherits_browserExports(Transform$3,Duplex);function afterTransform(_,a){var $=this._transformState;$.transforming=!1;var j=$.writecb;if(j===null)return this.emit("error",new ERR_MULTIPLE_CALLBACK);$.writechunk=null,$.writecb=null,a!=null&&this.push(a),j(_);var et=this._readableState;et.reading=!1,(et.needReadable||et.length<et.highWaterMark)&&this._read(et.highWaterMark)}function Transform$3(_){if(!(this instanceof Transform$3))return new Transform$3(_);Duplex.call(this,_),this._transformState={afterTransform:afterTransform.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,_&&(typeof _.transform=="function"&&(this._transform=_.transform),typeof _.flush=="function"&&(this._flush=_.flush)),this.on("prefinish",prefinish)}function prefinish(){var _=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(a,$){done(_,a,$)}):done(this,null,null)}Transform$3.prototype.push=function(_,a){return this._transformState.needTransform=!1,Duplex.prototype.push.call(this,_,a)};Transform$3.prototype._transform=function(_,a,$){$(new ERR_METHOD_NOT_IMPLEMENTED("_transform()"))};Transform$3.prototype._write=function(_,a,$){var j=this._transformState;if(j.writecb=$,j.writechunk=_,j.writeencoding=a,!j.transforming){var et=this._readableState;(j.needTransform||et.needReadable||et.length<et.highWaterMark)&&this._read(et.highWaterMark)}};Transform$3.prototype._read=function(_){var a=this._transformState;a.writechunk!==null&&!a.transforming?(a.transforming=!0,this._transform(a.writechunk,a.writeencoding,a.afterTransform)):a.needTransform=!0};Transform$3.prototype._destroy=function(_,a){Duplex.prototype._destroy.call(this,_,function($){a($)})};function done(_,a,$){if(a)return _.emit("error",a);if($!=null&&_.push($),_._writableState.length)throw new ERR_TRANSFORM_WITH_LENGTH_0;if(_._transformState.transforming)throw new ERR_TRANSFORM_ALREADY_TRANSFORMING;return _.push(null)}var _stream_passthrough$1=PassThrough,Transform$2=_stream_transform$1;inherits_browserExports(PassThrough,Transform$2);function PassThrough(_){if(!(this instanceof PassThrough))return new PassThrough(_);Transform$2.call(this,_)}PassThrough.prototype._transform=function(_,a,$){$(null,_)};var eos;function once(_){var a=!1;return function(){a||(a=!0,_.apply(void 0,arguments))}}var _require$codes=errorsBrowser.codes,ERR_MISSING_ARGS=_require$codes.ERR_MISSING_ARGS,ERR_STREAM_DESTROYED=_require$codes.ERR_STREAM_DESTROYED;function noop$7(_){if(_)throw _}function isRequest$1(_){return _.setHeader&&typeof _.abort=="function"}function destroyer(_,a,$,j){j=once(j);var et=!1;_.on("close",function(){et=!0}),eos===void 0&&(eos=endOfStream),eos(_,{readable:a,writable:$},function(rt){if(rt)return j(rt);et=!0,j()});var tt=!1;return function(rt){if(!et&&!tt){if(tt=!0,isRequest$1(_))return _.abort();if(typeof _.destroy=="function")return _.destroy();j(rt||new ERR_STREAM_DESTROYED("pipe"))}}}function call(_){_()}function pipe(_,a){return _.pipe(a)}function popCallback(_){return!_.length||typeof _[_.length-1]!="function"?noop$7:_.pop()}function pipeline(){for(var _=arguments.length,a=new Array(_),$=0;$<_;$++)a[$]=arguments[$];var j=popCallback(a);if(Array.isArray(a[0])&&(a=a[0]),a.length<2)throw new ERR_MISSING_ARGS("streams");var et,tt=a.map(function(rt,nt){var it=nt<a.length-1,ot=nt>0;return destroyer(rt,it,ot,function(st){et||(et=st),st&&tt.forEach(call),!it&&(tt.forEach(call),j(et))})});return a.reduce(pipe)}var pipeline_1=pipeline;(function(_,a){a=_.exports=require_stream_readable$1(),a.Stream=a,a.Readable=a,a.Writable=require_stream_writable$1(),a.Duplex=require_stream_duplex$1(),a.Transform=_stream_transform$1,a.PassThrough=_stream_passthrough$1,a.finished=endOfStream,a.pipeline=pipeline_1})(readableBrowser$1,readableBrowser$1.exports);var readableBrowserExports=readableBrowser$1.exports,Buffer$e=safeBufferExports.Buffer,Transform$1=readableBrowserExports.Transform,inherits$g=inherits_browserExports;function throwIfNotStringOrBuffer(_,a){if(!Buffer$e.isBuffer(_)&&typeof _!="string")throw new TypeError(a+" must be a string or a buffer")}function HashBase$2(_){Transform$1.call(this),this._block=Buffer$e.allocUnsafe(_),this._blockSize=_,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}inherits$g(HashBase$2,Transform$1);HashBase$2.prototype._transform=function(_,a,$){var j=null;try{this.update(_,a)}catch(et){j=et}$(j)};HashBase$2.prototype._flush=function(_){var a=null;try{this.push(this.digest())}catch($){a=$}_(a)};HashBase$2.prototype.update=function(_,a){if(throwIfNotStringOrBuffer(_,"Data"),this._finalized)throw new Error("Digest already called");Buffer$e.isBuffer(_)||(_=Buffer$e.from(_,a));for(var $=this._block,j=0;this._blockOffset+_.length-j>=this._blockSize;){for(var et=this._blockOffset;et<this._blockSize;)$[et++]=_[j++];this._update(),this._blockOffset=0}for(;j<_.length;)$[this._blockOffset++]=_[j++];for(var tt=0,rt=_.length*8;rt>0;++tt)this._length[tt]+=rt,rt=this._length[tt]/4294967296|0,rt>0&&(this._length[tt]-=4294967296*rt);return this};HashBase$2.prototype._update=function(){throw new Error("_update is not implemented")};HashBase$2.prototype.digest=function(_){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var a=this._digest();_!==void 0&&(a=a.toString(_)),this._block.fill(0),this._blockOffset=0;for(var $=0;$<4;++$)this._length[$]=0;return a};HashBase$2.prototype._digest=function(){throw new Error("_digest is not implemented")};var hashBase=HashBase$2,inherits$f=inherits_browserExports,HashBase$1=hashBase,Buffer$d=safeBufferExports.Buffer,ARRAY16$1=new Array(16);function MD5$2(){HashBase$1.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}inherits$f(MD5$2,HashBase$1);MD5$2.prototype._update=function(){for(var _=ARRAY16$1,a=0;a<16;++a)_[a]=this._block.readInt32LE(a*4);var $=this._a,j=this._b,et=this._c,tt=this._d;$=fnF($,j,et,tt,_[0],3614090360,7),tt=fnF(tt,$,j,et,_[1],3905402710,12),et=fnF(et,tt,$,j,_[2],606105819,17),j=fnF(j,et,tt,$,_[3],3250441966,22),$=fnF($,j,et,tt,_[4],4118548399,7),tt=fnF(tt,$,j,et,_[5],1200080426,12),et=fnF(et,tt,$,j,_[6],2821735955,17),j=fnF(j,et,tt,$,_[7],4249261313,22),$=fnF($,j,et,tt,_[8],1770035416,7),tt=fnF(tt,$,j,et,_[9],2336552879,12),et=fnF(et,tt,$,j,_[10],4294925233,17),j=fnF(j,et,tt,$,_[11],2304563134,22),$=fnF($,j,et,tt,_[12],1804603682,7),tt=fnF(tt,$,j,et,_[13],4254626195,12),et=fnF(et,tt,$,j,_[14],2792965006,17),j=fnF(j,et,tt,$,_[15],1236535329,22),$=fnG($,j,et,tt,_[1],4129170786,5),tt=fnG(tt,$,j,et,_[6],3225465664,9),et=fnG(et,tt,$,j,_[11],643717713,14),j=fnG(j,et,tt,$,_[0],3921069994,20),$=fnG($,j,et,tt,_[5],3593408605,5),tt=fnG(tt,$,j,et,_[10],38016083,9),et=fnG(et,tt,$,j,_[15],3634488961,14),j=fnG(j,et,tt,$,_[4],3889429448,20),$=fnG($,j,et,tt,_[9],568446438,5),tt=fnG(tt,$,j,et,_[14],3275163606,9),et=fnG(et,tt,$,j,_[3],4107603335,14),j=fnG(j,et,tt,$,_[8],1163531501,20),$=fnG($,j,et,tt,_[13],2850285829,5),tt=fnG(tt,$,j,et,_[2],4243563512,9),et=fnG(et,tt,$,j,_[7],1735328473,14),j=fnG(j,et,tt,$,_[12],2368359562,20),$=fnH($,j,et,tt,_[5],4294588738,4),tt=fnH(tt,$,j,et,_[8],2272392833,11),et=fnH(et,tt,$,j,_[11],1839030562,16),j=fnH(j,et,tt,$,_[14],4259657740,23),$=fnH($,j,et,tt,_[1],2763975236,4),tt=fnH(tt,$,j,et,_[4],1272893353,11),et=fnH(et,tt,$,j,_[7],4139469664,16),j=fnH(j,et,tt,$,_[10],3200236656,23),$=fnH($,j,et,tt,_[13],681279174,4),tt=fnH(tt,$,j,et,_[0],3936430074,11),et=fnH(et,tt,$,j,_[3],3572445317,16),j=fnH(j,et,tt,$,_[6],76029189,23),$=fnH($,j,et,tt,_[9],3654602809,4),tt=fnH(tt,$,j,et,_[12],3873151461,11),et=fnH(et,tt,$,j,_[15],530742520,16),j=fnH(j,et,tt,$,_[2],3299628645,23),$=fnI($,j,et,tt,_[0],4096336452,6),tt=fnI(tt,$,j,et,_[7],1126891415,10),et=fnI(et,tt,$,j,_[14],2878612391,15),j=fnI(j,et,tt,$,_[5],4237533241,21),$=fnI($,j,et,tt,_[12],1700485571,6),tt=fnI(tt,$,j,et,_[3],2399980690,10),et=fnI(et,tt,$,j,_[10],4293915773,15),j=fnI(j,et,tt,$,_[1],2240044497,21),$=fnI($,j,et,tt,_[8],1873313359,6),tt=fnI(tt,$,j,et,_[15],4264355552,10),et=fnI(et,tt,$,j,_[6],2734768916,15),j=fnI(j,et,tt,$,_[13],1309151649,21),$=fnI($,j,et,tt,_[4],4149444226,6),tt=fnI(tt,$,j,et,_[11],3174756917,10),et=fnI(et,tt,$,j,_[2],718787259,15),j=fnI(j,et,tt,$,_[9],3951481745,21),this._a=this._a+$|0,this._b=this._b+j|0,this._c=this._c+et|0,this._d=this._d+tt|0};MD5$2.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var _=Buffer$d.allocUnsafe(16);return _.writeInt32LE(this._a,0),_.writeInt32LE(this._b,4),_.writeInt32LE(this._c,8),_.writeInt32LE(this._d,12),_};function rotl$1(_,a){return _<<a|_>>>32-a}function fnF(_,a,$,j,et,tt,rt){return rotl$1(_+(a&$|~a&j)+et+tt|0,rt)+a|0}function fnG(_,a,$,j,et,tt,rt){return rotl$1(_+(a&j|$&~j)+et+tt|0,rt)+a|0}function fnH(_,a,$,j,et,tt,rt){return rotl$1(_+(a^$^j)+et+tt|0,rt)+a|0}function fnI(_,a,$,j,et,tt,rt){return rotl$1(_+($^(a|~j))+et+tt|0,rt)+a|0}var md5_js=MD5$2,Buffer$c=buffer$1.Buffer,inherits$e=inherits_browserExports,HashBase=hashBase,ARRAY16=new Array(16),zl=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],zr=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],sl=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],sr=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],hl=[0,1518500249,1859775393,2400959708,2840853838],hr=[1352829926,1548603684,1836072691,2053994217,0];function RIPEMD160$3(){HashBase.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}inherits$e(RIPEMD160$3,HashBase);RIPEMD160$3.prototype._update=function(){for(var _=ARRAY16,a=0;a<16;++a)_[a]=this._block.readInt32LE(a*4);for(var $=this._a|0,j=this._b|0,et=this._c|0,tt=this._d|0,rt=this._e|0,nt=this._a|0,it=this._b|0,ot=this._c|0,st=this._d|0,ct=this._e|0,ut=0;ut<80;ut+=1){var ht,Et;ut<16?(ht=fn1($,j,et,tt,rt,_[zl[ut]],hl[0],sl[ut]),Et=fn5(nt,it,ot,st,ct,_[zr[ut]],hr[0],sr[ut])):ut<32?(ht=fn2($,j,et,tt,rt,_[zl[ut]],hl[1],sl[ut]),Et=fn4(nt,it,ot,st,ct,_[zr[ut]],hr[1],sr[ut])):ut<48?(ht=fn3($,j,et,tt,rt,_[zl[ut]],hl[2],sl[ut]),Et=fn3(nt,it,ot,st,ct,_[zr[ut]],hr[2],sr[ut])):ut<64?(ht=fn4($,j,et,tt,rt,_[zl[ut]],hl[3],sl[ut]),Et=fn2(nt,it,ot,st,ct,_[zr[ut]],hr[3],sr[ut])):(ht=fn5($,j,et,tt,rt,_[zl[ut]],hl[4],sl[ut]),Et=fn1(nt,it,ot,st,ct,_[zr[ut]],hr[4],sr[ut])),$=rt,rt=tt,tt=rotl(et,10),et=j,j=ht,nt=ct,ct=st,st=rotl(ot,10),ot=it,it=Et}var St=this._b+et+st|0;this._b=this._c+tt+ct|0,this._c=this._d+rt+nt|0,this._d=this._e+$+it|0,this._e=this._a+j+ot|0,this._a=St};RIPEMD160$3.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var _=Buffer$c.alloc?Buffer$c.alloc(20):new Buffer$c(20);return _.writeInt32LE(this._a,0),_.writeInt32LE(this._b,4),_.writeInt32LE(this._c,8),_.writeInt32LE(this._d,12),_.writeInt32LE(this._e,16),_};function rotl(_,a){return _<<a|_>>>32-a}function fn1(_,a,$,j,et,tt,rt,nt){return rotl(_+(a^$^j)+tt+rt|0,nt)+et|0}function fn2(_,a,$,j,et,tt,rt,nt){return rotl(_+(a&$|~a&j)+tt+rt|0,nt)+et|0}function fn3(_,a,$,j,et,tt,rt,nt){return rotl(_+((a|~$)^j)+tt+rt|0,nt)+et|0}function fn4(_,a,$,j,et,tt,rt,nt){return rotl(_+(a&j|$&~j)+tt+rt|0,nt)+et|0}function fn5(_,a,$,j,et,tt,rt,nt){return rotl(_+(a^($|~j))+tt+rt|0,nt)+et|0}var ripemd160=RIPEMD160$3,sha_js={exports:{}},Buffer$b=safeBufferExports.Buffer;function Hash$8(_,a){this._block=Buffer$b.alloc(_),this._finalSize=a,this._blockSize=_,this._len=0}Hash$8.prototype.update=function(_,a){typeof _=="string"&&(a=a||"utf8",_=Buffer$b.from(_,a));for(var $=this._block,j=this._blockSize,et=_.length,tt=this._len,rt=0;rt<et;){for(var nt=tt%j,it=Math.min(et-rt,j-nt),ot=0;ot<it;ot++)$[nt+ot]=_[rt+ot];tt+=it,rt+=it,tt%j===0&&this._update($)}return this._len+=et,this};Hash$8.prototype.digest=function(_){var a=this._len%this._blockSize;this._block[a]=128,this._block.fill(0,a+1),a>=this._finalSize&&(this._update(this._block),this._block.fill(0));var $=this._len*8;if($<=4294967295)this._block.writeUInt32BE($,this._blockSize-4);else{var j=($&4294967295)>>>0,et=($-j)/4294967296;this._block.writeUInt32BE(et,this._blockSize-8),this._block.writeUInt32BE(j,this._blockSize-4)}this._update(this._block);var tt=this._hash();return _?tt.toString(_):tt};Hash$8.prototype._update=function(){throw new Error("_update must be implemented by subclass")};var hash$6=Hash$8,inherits$d=inherits_browserExports,Hash$7=hash$6,Buffer$a=safeBufferExports.Buffer,K$5=[1518500249,1859775393,-1894007588,-899497514],W$5=new Array(80);function Sha(){this.init(),this._w=W$5,Hash$7.call(this,64,56)}inherits$d(Sha,Hash$7);Sha.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function rotl5$1(_){return _<<5|_>>>27}function rotl30$1(_){return _<<30|_>>>2}function ft$1(_,a,$,j){return _===0?a&$|~a&j:_===2?a&$|a&j|$&j:a^$^j}Sha.prototype._update=function(_){for(var a=this._w,$=this._a|0,j=this._b|0,et=this._c|0,tt=this._d|0,rt=this._e|0,nt=0;nt<16;++nt)a[nt]=_.readInt32BE(nt*4);for(;nt<80;++nt)a[nt]=a[nt-3]^a[nt-8]^a[nt-14]^a[nt-16];for(var it=0;it<80;++it){var ot=~~(it/20),st=rotl5$1($)+ft$1(ot,j,et,tt)+rt+a[it]+K$5[ot]|0;rt=tt,tt=et,et=rotl30$1(j),j=$,$=st}this._a=$+this._a|0,this._b=j+this._b|0,this._c=et+this._c|0,this._d=tt+this._d|0,this._e=rt+this._e|0};Sha.prototype._hash=function(){var _=Buffer$a.allocUnsafe(20);return _.writeInt32BE(this._a|0,0),_.writeInt32BE(this._b|0,4),_.writeInt32BE(this._c|0,8),_.writeInt32BE(this._d|0,12),_.writeInt32BE(this._e|0,16),_};var sha$3=Sha,inherits$c=inherits_browserExports,Hash$6=hash$6,Buffer$9=safeBufferExports.Buffer,K$4=[1518500249,1859775393,-1894007588,-899497514],W$4=new Array(80);function Sha1(){this.init(),this._w=W$4,Hash$6.call(this,64,56)}inherits$c(Sha1,Hash$6);Sha1.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function rotl1(_){return _<<1|_>>>31}function rotl5(_){return _<<5|_>>>27}function rotl30(_){return _<<30|_>>>2}function ft(_,a,$,j){return _===0?a&$|~a&j:_===2?a&$|a&j|$&j:a^$^j}Sha1.prototype._update=function(_){for(var a=this._w,$=this._a|0,j=this._b|0,et=this._c|0,tt=this._d|0,rt=this._e|0,nt=0;nt<16;++nt)a[nt]=_.readInt32BE(nt*4);for(;nt<80;++nt)a[nt]=rotl1(a[nt-3]^a[nt-8]^a[nt-14]^a[nt-16]);for(var it=0;it<80;++it){var ot=~~(it/20),st=rotl5($)+ft(ot,j,et,tt)+rt+a[it]+K$4[ot]|0;rt=tt,tt=et,et=rotl30(j),j=$,$=st}this._a=$+this._a|0,this._b=j+this._b|0,this._c=et+this._c|0,this._d=tt+this._d|0,this._e=rt+this._e|0};Sha1.prototype._hash=function(){var _=Buffer$9.allocUnsafe(20);return _.writeInt32BE(this._a|0,0),_.writeInt32BE(this._b|0,4),_.writeInt32BE(this._c|0,8),_.writeInt32BE(this._d|0,12),_.writeInt32BE(this._e|0,16),_};var sha1=Sha1,inherits$b=inherits_browserExports,Hash$5=hash$6,Buffer$8=safeBufferExports.Buffer,K$3=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],W$3=new Array(64);function Sha256$1(){this.init(),this._w=W$3,Hash$5.call(this,64,56)}inherits$b(Sha256$1,Hash$5);Sha256$1.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this};function ch(_,a,$){return $^_&(a^$)}function maj$1(_,a,$){return _&a|$&(_|a)}function sigma0$1(_){return(_>>>2|_<<30)^(_>>>13|_<<19)^(_>>>22|_<<10)}function sigma1$1(_){return(_>>>6|_<<26)^(_>>>11|_<<21)^(_>>>25|_<<7)}function gamma0(_){return(_>>>7|_<<25)^(_>>>18|_<<14)^_>>>3}function gamma1(_){return(_>>>17|_<<15)^(_>>>19|_<<13)^_>>>10}Sha256$1.prototype._update=function(_){for(var a=this._w,$=this._a|0,j=this._b|0,et=this._c|0,tt=this._d|0,rt=this._e|0,nt=this._f|0,it=this._g|0,ot=this._h|0,st=0;st<16;++st)a[st]=_.readInt32BE(st*4);for(;st<64;++st)a[st]=gamma1(a[st-2])+a[st-7]+gamma0(a[st-15])+a[st-16]|0;for(var ct=0;ct<64;++ct){var ut=ot+sigma1$1(rt)+ch(rt,nt,it)+K$3[ct]+a[ct]|0,ht=sigma0$1($)+maj$1($,j,et)|0;ot=it,it=nt,nt=rt,rt=tt+ut|0,tt=et,et=j,j=$,$=ut+ht|0}this._a=$+this._a|0,this._b=j+this._b|0,this._c=et+this._c|0,this._d=tt+this._d|0,this._e=rt+this._e|0,this._f=nt+this._f|0,this._g=it+this._g|0,this._h=ot+this._h|0};Sha256$1.prototype._hash=function(){var _=Buffer$8.allocUnsafe(32);return _.writeInt32BE(this._a,0),_.writeInt32BE(this._b,4),_.writeInt32BE(this._c,8),_.writeInt32BE(this._d,12),_.writeInt32BE(this._e,16),_.writeInt32BE(this._f,20),_.writeInt32BE(this._g,24),_.writeInt32BE(this._h,28),_};var sha256$4=Sha256$1,inherits$a=inherits_browserExports,Sha256=sha256$4,Hash$4=hash$6,Buffer$7=safeBufferExports.Buffer,W$2=new Array(64);function Sha224(){this.init(),this._w=W$2,Hash$4.call(this,64,56)}inherits$a(Sha224,Sha256);Sha224.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this};Sha224.prototype._hash=function(){var _=Buffer$7.allocUnsafe(28);return _.writeInt32BE(this._a,0),_.writeInt32BE(this._b,4),_.writeInt32BE(this._c,8),_.writeInt32BE(this._d,12),_.writeInt32BE(this._e,16),_.writeInt32BE(this._f,20),_.writeInt32BE(this._g,24),_};var sha224$1=Sha224,inherits$9=inherits_browserExports,Hash$3=hash$6,Buffer$6=safeBufferExports.Buffer,K$2=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],W$1=new Array(160);function Sha512(){this.init(),this._w=W$1,Hash$3.call(this,128,112)}inherits$9(Sha512,Hash$3);Sha512.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this};function Ch(_,a,$){return $^_&(a^$)}function maj(_,a,$){return _&a|$&(_|a)}function sigma0(_,a){return(_>>>28|a<<4)^(a>>>2|_<<30)^(a>>>7|_<<25)}function sigma1(_,a){return(_>>>14|a<<18)^(_>>>18|a<<14)^(a>>>9|_<<23)}function Gamma0(_,a){return(_>>>1|a<<31)^(_>>>8|a<<24)^_>>>7}function Gamma0l(_,a){return(_>>>1|a<<31)^(_>>>8|a<<24)^(_>>>7|a<<25)}function Gamma1(_,a){return(_>>>19|a<<13)^(a>>>29|_<<3)^_>>>6}function Gamma1l(_,a){return(_>>>19|a<<13)^(a>>>29|_<<3)^(_>>>6|a<<26)}function getCarry(_,a){return _>>>0<a>>>0?1:0}Sha512.prototype._update=function(_){for(var a=this._w,$=this._ah|0,j=this._bh|0,et=this._ch|0,tt=this._dh|0,rt=this._eh|0,nt=this._fh|0,it=this._gh|0,ot=this._hh|0,st=this._al|0,ct=this._bl|0,ut=this._cl|0,ht=this._dl|0,Et=this._el|0,St=this._fl|0,Mt=this._gl|0,kt=this._hl|0,Ct=0;Ct<32;Ct+=2)a[Ct]=_.readInt32BE(Ct*4),a[Ct+1]=_.readInt32BE(Ct*4+4);for(;Ct<160;Ct+=2){var Ot=a[Ct-30],zt=a[Ct-15*2+1],Ut=Gamma0(Ot,zt),Vt=Gamma0l(zt,Ot);Ot=a[Ct-2*2],zt=a[Ct-2*2+1];var jt=Gamma1(Ot,zt),$t=Gamma1l(zt,Ot),Bt=a[Ct-7*2],Nt=a[Ct-7*2+1],Lt=a[Ct-16*2],Pt=a[Ct-16*2+1],bt=Vt+Nt|0,at=Ut+Bt+getCarry(bt,Vt)|0;bt=bt+$t|0,at=at+jt+getCarry(bt,$t)|0,bt=bt+Pt|0,at=at+Lt+getCarry(bt,Pt)|0,a[Ct]=at,a[Ct+1]=bt}for(var dt=0;dt<160;dt+=2){at=a[dt],bt=a[dt+1];var vt=maj($,j,et),xt=maj(st,ct,ut),wt=sigma0($,st),_t=sigma0(st,$),At=sigma1(rt,Et),Tt=sigma1(Et,rt),yt=K$2[dt],It=K$2[dt+1],rr=Ch(rt,nt,it),ir=Ch(Et,St,Mt),nr=kt+Tt|0,Gt=ot+At+getCarry(nr,kt)|0;nr=nr+ir|0,Gt=Gt+rr+getCarry(nr,ir)|0,nr=nr+It|0,Gt=Gt+yt+getCarry(nr,It)|0,nr=nr+bt|0,Gt=Gt+at+getCarry(nr,bt)|0;var qt=_t+xt|0,Jt=wt+vt+getCarry(qt,_t)|0;ot=it,kt=Mt,it=nt,Mt=St,nt=rt,St=Et,Et=ht+nr|0,rt=tt+Gt+getCarry(Et,ht)|0,tt=et,ht=ut,et=j,ut=ct,j=$,ct=st,st=nr+qt|0,$=Gt+Jt+getCarry(st,nr)|0}this._al=this._al+st|0,this._bl=this._bl+ct|0,this._cl=this._cl+ut|0,this._dl=this._dl+ht|0,this._el=this._el+Et|0,this._fl=this._fl+St|0,this._gl=this._gl+Mt|0,this._hl=this._hl+kt|0,this._ah=this._ah+$+getCarry(this._al,st)|0,this._bh=this._bh+j+getCarry(this._bl,ct)|0,this._ch=this._ch+et+getCarry(this._cl,ut)|0,this._dh=this._dh+tt+getCarry(this._dl,ht)|0,this._eh=this._eh+rt+getCarry(this._el,Et)|0,this._fh=this._fh+nt+getCarry(this._fl,St)|0,this._gh=this._gh+it+getCarry(this._gl,Mt)|0,this._hh=this._hh+ot+getCarry(this._hl,kt)|0};Sha512.prototype._hash=function(){var _=Buffer$6.allocUnsafe(64);function a($,j,et){_.writeInt32BE($,et),_.writeInt32BE(j,et+4)}return a(this._ah,this._al,0),a(this._bh,this._bl,8),a(this._ch,this._cl,16),a(this._dh,this._dl,24),a(this._eh,this._el,32),a(this._fh,this._fl,40),a(this._gh,this._gl,48),a(this._hh,this._hl,56),_};var sha512$4=Sha512,inherits$8=inherits_browserExports,SHA512$3=sha512$4,Hash$2=hash$6,Buffer$5=safeBufferExports.Buffer,W=new Array(160);function Sha384(){this.init(),this._w=W,Hash$2.call(this,128,112)}inherits$8(Sha384,SHA512$3);Sha384.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this};Sha384.prototype._hash=function(){var _=Buffer$5.allocUnsafe(48);function a($,j,et){_.writeInt32BE($,et),_.writeInt32BE(j,et+4)}return a(this._ah,this._al,0),a(this._bh,this._bl,8),a(this._ch,this._cl,16),a(this._dh,this._dl,24),a(this._eh,this._el,32),a(this._fh,this._fl,40),_};var sha384$1=Sha384,exports=sha_js.exports=function(a){a=a.toLowerCase();var $=exports[a];if(!$)throw new Error(a+" is not supported (we accept pull requests)");return new $};exports.sha=sha$3;exports.sha1=sha1;exports.sha224=sha224$1;exports.sha256=sha256$4;exports.sha384=sha384$1;exports.sha512=sha512$4;var sha_jsExports=sha_js.exports,streamBrowserify=Stream,EE=eventsExports.EventEmitter,inherits$7=inherits_browserExports;inherits$7(Stream,EE);Stream.Readable=require_stream_readable$1();Stream.Writable=require_stream_writable$1();Stream.Duplex=require_stream_duplex$1();Stream.Transform=_stream_transform$1;Stream.PassThrough=_stream_passthrough$1;Stream.finished=endOfStream;Stream.pipeline=pipeline_1;Stream.Stream=Stream;function Stream(){EE.call(this)}Stream.prototype.pipe=function(_,a){var $=this;function j(st){_.writable&&_.write(st)===!1&&$.pause&&$.pause()}$.on("data",j);function et(){$.readable&&$.resume&&$.resume()}_.on("drain",et),!_._isStdio&&(!a||a.end!==!1)&&($.on("end",rt),$.on("close",nt));var tt=!1;function rt(){tt||(tt=!0,_.end())}function nt(){tt||(tt=!0,typeof _.destroy=="function"&&_.destroy())}function it(st){if(ot(),EE.listenerCount(this,"error")===0)throw st}$.on("error",it),_.on("error",it);function ot(){$.removeListener("data",j),_.removeListener("drain",et),$.removeListener("end",rt),$.removeListener("close",nt),$.removeListener("error",it),_.removeListener("error",it),$.removeListener("end",ot),$.removeListener("close",ot),_.removeListener("close",ot)}return $.on("end",ot),$.on("close",ot),_.on("close",ot),_.emit("pipe",$),_};var Buffer$4=safeBufferExports.Buffer,Transform=streamBrowserify.Transform,StringDecoder=string_decoder$1.StringDecoder,inherits$6=inherits_browserExports;function CipherBase(_){Transform.call(this),this.hashMode=typeof _=="string",this.hashMode?this[_]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}inherits$6(CipherBase,Transform);CipherBase.prototype.update=function(_,a,$){typeof _=="string"&&(_=Buffer$4.from(_,a));var j=this._update(_);return this.hashMode?this:($&&(j=this._toString(j,$)),j)};CipherBase.prototype.setAutoPadding=function(){};CipherBase.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")};CipherBase.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")};CipherBase.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")};CipherBase.prototype._transform=function(_,a,$){var j;try{this.hashMode?this._update(_):this.push(this._update(_))}catch(et){j=et}finally{$(j)}};CipherBase.prototype._flush=function(_){var a;try{this.push(this.__final())}catch($){a=$}_(a)};CipherBase.prototype._finalOrDigest=function(_){var a=this.__final()||Buffer$4.alloc(0);return _&&(a=this._toString(a,_,!0)),a};CipherBase.prototype._toString=function(_,a,$){if(this._decoder||(this._decoder=new StringDecoder(a),this._encoding=a),this._encoding!==a)throw new Error("can't switch encodings");var j=this._decoder.write(_);return $&&(j+=this._decoder.end()),j};var cipherBase=CipherBase,inherits$5=inherits_browserExports,MD5$1=md5_js,RIPEMD160$2=ripemd160,sha$2=sha_jsExports,Base$3=cipherBase;function Hash$1(_){Base$3.call(this,"digest"),this._hash=_}inherits$5(Hash$1,Base$3);Hash$1.prototype._update=function(_){this._hash.update(_)};Hash$1.prototype._final=function(){return this._hash.digest()};var browser$b=function(a){return a=a.toLowerCase(),a==="md5"?new MD5$1:a==="rmd160"||a==="ripemd160"?new RIPEMD160$2:new Hash$1(sha$2(a))},_Buffer=safeBufferExports.Buffer;function base$5(_){if(_.length>=255)throw new TypeError("Alphabet too long");for(var a=new Uint8Array(256),$=0;$<a.length;$++)a[$]=255;for(var j=0;j<_.length;j++){var et=_.charAt(j),tt=et.charCodeAt(0);if(a[tt]!==255)throw new TypeError(et+" is ambiguous");a[tt]=j}var rt=_.length,nt=_.charAt(0),it=Math.log(rt)/Math.log(256),ot=Math.log(256)/Math.log(rt);function st(ht){if((Array.isArray(ht)||ht instanceof Uint8Array)&&(ht=_Buffer.from(ht)),!_Buffer.isBuffer(ht))throw new TypeError("Expected Buffer");if(ht.length===0)return"";for(var Et=0,St=0,Mt=0,kt=ht.length;Mt!==kt&&ht[Mt]===0;)Mt++,Et++;for(var Ct=(kt-Mt)*ot+1>>>0,Ot=new Uint8Array(Ct);Mt!==kt;){for(var zt=ht[Mt],Ut=0,Vt=Ct-1;(zt!==0||Ut<St)&&Vt!==-1;Vt--,Ut++)zt+=256*Ot[Vt]>>>0,Ot[Vt]=zt%rt>>>0,zt=zt/rt>>>0;if(zt!==0)throw new Error("Non-zero carry");St=Ut,Mt++}for(var jt=Ct-St;jt!==Ct&&Ot[jt]===0;)jt++;for(var $t=nt.repeat(Et);jt<Ct;++jt)$t+=_.charAt(Ot[jt]);return $t}function ct(ht){if(typeof ht!="string")throw new TypeError("Expected String");if(ht.length===0)return _Buffer.alloc(0);for(var Et=0,St=0,Mt=0;ht[Et]===nt;)St++,Et++;for(var kt=(ht.length-Et)*it+1>>>0,Ct=new Uint8Array(kt);ht[Et];){var Ot=a[ht.charCodeAt(Et)];if(Ot===255)return;for(var zt=0,Ut=kt-1;(Ot!==0||zt<Mt)&&Ut!==-1;Ut--,zt++)Ot+=rt*Ct[Ut]>>>0,Ct[Ut]=Ot%256>>>0,Ot=Ot/256>>>0;if(Ot!==0)throw new Error("Non-zero carry");Mt=zt,Et++}for(var Vt=kt-Mt;Vt!==kt&&Ct[Vt]===0;)Vt++;var jt=_Buffer.allocUnsafe(St+(kt-Vt));jt.fill(0,0,St);for(var $t=St;Vt!==kt;)jt[$t++]=Ct[Vt++];return jt}function ut(ht){var Et=ct(ht);if(Et)return Et;throw new Error("Non-base"+rt+" character")}return{encode:st,decodeUnsafe:ct,decode:ut}}var src$2=base$5,basex$1=src$2,ALPHABET$2="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",bs58$1=basex$1(ALPHABET$2),base58$1=bs58$1,Buffer$3=safeBufferExports.Buffer,base$4=function(_){function a(tt){var rt=_(tt);return base58$1.encode(Buffer$3.concat([tt,rt],tt.length+4))}function $(tt){var rt=tt.slice(0,-4),nt=tt.slice(-4),it=_(rt);if(!(nt[0]^it[0]|nt[1]^it[1]|nt[2]^it[2]|nt[3]^it[3]))return rt}function j(tt){var rt=base58$1.decodeUnsafe(tt);if(rt)return $(rt)}function et(tt){var rt=base58$1.decode(tt),nt=$(rt);if(!nt)throw new Error("Invalid checksum");return nt}return{encode:a,decode:et,decodeUnsafe:j}},createHash=browser$b,bs58checkBase$1=base$4;function sha256x2$1(_){var a=createHash("sha256").update(_).digest();return createHash("sha256").update(a).digest()}var bs58check$2=bs58checkBase$1(sha256x2$1),nacl={},box={},x25519={},random={},system={},browser$a={};Object.defineProperty(browser$a,"__esModule",{value:!0});browser$a.BrowserRandomSource=void 0;const QUOTA=65536;class BrowserRandomSource{constructor(){this.isAvailable=!1,this.isInstantiated=!1;const a=typeof self<"u"?self.crypto||self.msCrypto:null;a&&a.getRandomValues!==void 0&&(this._crypto=a,this.isAvailable=!0,this.isInstantiated=!0)}randomBytes(a){if(!this.isAvailable||!this._crypto)throw new Error("Browser random byte generator is not available.");const $=new Uint8Array(a);for(let j=0;j<$.length;j+=QUOTA)this._crypto.getRandomValues($.subarray(j,j+Math.min($.length-j,QUOTA)));return $}}browser$a.BrowserRandomSource=BrowserRandomSource;function commonjsRequire(_){throw new Error('Could not dynamically require "'+_+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var node$2={},wipe$1={};Object.defineProperty(wipe$1,"__esModule",{value:!0});function wipe(_){for(var a=0;a<_.length;a++)_[a]=0;return _}wipe$1.wipe=wipe;var cryptoBrowserify={},browser$9={exports:{}},hasRequiredBrowser$8;function requireBrowser$8(){if(hasRequiredBrowser$8)return browser$9.exports;hasRequiredBrowser$8=1;var _=65536,a=4294967295;function $(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}var j=safeBufferExports.Buffer,et=commonjsGlobal.crypto||commonjsGlobal.msCrypto;et&&et.getRandomValues?browser$9.exports=tt:browser$9.exports=$;function tt(rt,nt){if(rt>a)throw new RangeError("requested too many random bytes");var it=j.allocUnsafe(rt);if(rt>0)if(rt>_)for(var ot=0;ot<rt;ot+=_)et.getRandomValues(it.slice(ot,ot+_));else et.getRandomValues(it);return typeof nt=="function"?process$1$1.nextTick(function(){nt(null,it)}):it}return browser$9.exports}var legacy,hasRequiredLegacy;function requireLegacy(){if(hasRequiredLegacy)return legacy;hasRequiredLegacy=1;var _=inherits_browserExports,a=safeBufferExports.Buffer,$=cipherBase,j=a.alloc(128),et=64;function tt(rt,nt){$.call(this,"digest"),typeof nt=="string"&&(nt=a.from(nt)),this._alg=rt,this._key=nt,nt.length>et?nt=rt(nt):nt.length<et&&(nt=a.concat([nt,j],et));for(var it=this._ipad=a.allocUnsafe(et),ot=this._opad=a.allocUnsafe(et),st=0;st<et;st++)it[st]=nt[st]^54,ot[st]=nt[st]^92;this._hash=[it]}return _(tt,$),tt.prototype._update=function(rt){this._hash.push(rt)},tt.prototype._final=function(){var rt=this._alg(a.concat(this._hash));return this._alg(a.concat([this._opad,rt]))},legacy=tt,legacy}var MD5=md5_js,md5$3=function(_){return new MD5().update(_).digest()},browser$8,hasRequiredBrowser$7;function requireBrowser$7(){if(hasRequiredBrowser$7)return browser$8;hasRequiredBrowser$7=1;var _=inherits_browserExports,a=requireLegacy(),$=cipherBase,j=safeBufferExports.Buffer,et=md5$3,tt=ripemd160,rt=sha_jsExports,nt=j.alloc(128);function it(ot,st){$.call(this,"digest"),typeof st=="string"&&(st=j.from(st));var ct=ot==="sha512"||ot==="sha384"?128:64;if(this._alg=ot,this._key=st,st.length>ct){var ut=ot==="rmd160"?new tt:rt(ot);st=ut.update(st).digest()}else st.length<ct&&(st=j.concat([st,nt],ct));for(var ht=this._ipad=j.allocUnsafe(ct),Et=this._opad=j.allocUnsafe(ct),St=0;St<ct;St++)ht[St]=st[St]^54,Et[St]=st[St]^92;this._hash=ot==="rmd160"?new tt:rt(ot),this._hash.update(ht)}return _(it,$),it.prototype._update=function(ot){this._hash.update(ot)},it.prototype._final=function(){var ot=this._hash.digest(),st=this._alg==="rmd160"?new tt:rt(this._alg);return st.update(this._opad).update(ot).digest()},browser$8=function(st,ct){return st=st.toLowerCase(),st==="rmd160"||st==="ripemd160"?new it("rmd160",ct):st==="md5"?new a(et,ct):new it(st,ct)},browser$8}const sha224WithRSAEncryption={sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption={sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption={sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption={sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},sha256$3={sign:"ecdsa",hash:"sha256",id:""},sha224={sign:"ecdsa",hash:"sha224",id:""},sha384={sign:"ecdsa",hash:"sha384",id:""},sha512$3={sign:"ecdsa",hash:"sha512",id:""},DSA={sign:"dsa",hash:"sha1",id:""},ripemd160WithRSA={sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption={sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},require$$6$1={sha224WithRSAEncryption,"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption,"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption,"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption,"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:sha256$3,sha224,sha384,sha512:sha512$3,"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA,"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA,"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption,"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}};var algos,hasRequiredAlgos;function requireAlgos(){return hasRequiredAlgos||(hasRequiredAlgos=1,algos=require$$6$1),algos}var browser$7={},MAX_ALLOC=Math.pow(2,30)-1,precondition=function(_,a){if(typeof _!="number")throw new TypeError("Iterations not a number");if(_<0)throw new TypeError("Bad iterations");if(typeof a!="number")throw new TypeError("Key length not a number");if(a<0||a>MAX_ALLOC||a!==a)throw new TypeError("Bad key length")},defaultEncoding$2;if(commonjsGlobal.process&&commonjsGlobal.process.browser)defaultEncoding$2="utf-8";else if(commonjsGlobal.process&&commonjsGlobal.process.version){var pVersionMajor=parseInt(process$1$1.version.split(".")[0].slice(1),10);defaultEncoding$2=pVersionMajor>=6?"utf-8":"binary"}else defaultEncoding$2="utf-8";var defaultEncoding_1=defaultEncoding$2,Buffer$2=safeBufferExports.Buffer,toBuffer$4=function(_,a,$){if(Buffer$2.isBuffer(_))return _;if(typeof _=="string")return Buffer$2.from(_,a);if(ArrayBuffer.isView(_))return Buffer$2.from(_.buffer);throw new TypeError($+" must be a string, a Buffer, a typed array or a DataView")},md5$2=md5$3,RIPEMD160$1=ripemd160,sha$1=sha_jsExports,Buffer$1=safeBufferExports.Buffer,checkParameters$1=precondition,defaultEncoding$1=defaultEncoding_1,toBuffer$3=toBuffer$4,ZEROS=Buffer$1.alloc(128),sizes$1={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function Hmac$1(_,a,$){var j=getDigest(_),et=_==="sha512"||_==="sha384"?128:64;a.length>et?a=j(a):a.length<et&&(a=Buffer$1.concat([a,ZEROS],et));for(var tt=Buffer$1.allocUnsafe(et+sizes$1[_]),rt=Buffer$1.allocUnsafe(et+sizes$1[_]),nt=0;nt<et;nt++)tt[nt]=a[nt]^54,rt[nt]=a[nt]^92;var it=Buffer$1.allocUnsafe(et+$+4);tt.copy(it,0,0,et),this.ipad1=it,this.ipad2=tt,this.opad=rt,this.alg=_,this.blocksize=et,this.hash=j,this.size=sizes$1[_]}Hmac$1.prototype.run=function(_,a){_.copy(a,this.blocksize);var $=this.hash(a);return $.copy(this.opad,this.blocksize),this.hash(this.opad)};function getDigest(_){function a(j){return sha$1(_).update(j).digest()}function $(j){return new RIPEMD160$1().update(j).digest()}return _==="rmd160"||_==="ripemd160"?$:_==="md5"?md5$2:a}function pbkdf2$2(_,a,$,j,et){checkParameters$1($,j),_=toBuffer$3(_,defaultEncoding$1,"Password"),a=toBuffer$3(a,defaultEncoding$1,"Salt"),et=et||"sha1";var tt=new Hmac$1(et,_,a.length),rt=Buffer$1.allocUnsafe(j),nt=Buffer$1.allocUnsafe(a.length+4);a.copy(nt,0,0,a.length);for(var it=0,ot=sizes$1[et],st=Math.ceil(j/ot),ct=1;ct<=st;ct++){nt.writeUInt32BE(ct,a.length);for(var ut=tt.run(nt,tt.ipad1),ht=ut,Et=1;Et<$;Et++){ht=tt.run(ht,tt.ipad2);for(var St=0;St<ot;St++)ut[St]^=ht[St]}ut.copy(rt,it),it+=ot}return rt}var syncBrowser=pbkdf2$2,Buffer=safeBufferExports.Buffer,checkParameters=precondition,defaultEncoding=defaultEncoding_1,sync=syncBrowser,toBuffer$2=toBuffer$4,ZERO_BUF,subtle$1=commonjsGlobal.crypto&&commonjsGlobal.crypto.subtle,toBrowser={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},checks=[];function checkNative(_){if(commonjsGlobal.process&&!commonjsGlobal.process.browser||!subtle$1||!subtle$1.importKey||!subtle$1.deriveBits)return Promise.resolve(!1);if(checks[_]!==void 0)return checks[_];ZERO_BUF=ZERO_BUF||Buffer.alloc(8);var a=browserPbkdf2(ZERO_BUF,ZERO_BUF,10,128,_).then(function(){return!0}).catch(function(){return!1});return checks[_]=a,a}var nextTick$1;function getNextTick(){return nextTick$1||(commonjsGlobal.process&&commonjsGlobal.process.nextTick?nextTick$1=commonjsGlobal.process.nextTick:commonjsGlobal.queueMicrotask?nextTick$1=commonjsGlobal.queueMicrotask:commonjsGlobal.setImmediate?nextTick$1=commonjsGlobal.setImmediate:nextTick$1=commonjsGlobal.setTimeout,nextTick$1)}function browserPbkdf2(_,a,$,j,et){return subtle$1.importKey("raw",_,{name:"PBKDF2"},!1,["deriveBits"]).then(function(tt){return subtle$1.deriveBits({name:"PBKDF2",salt:a,iterations:$,hash:{name:et}},tt,j<<3)}).then(function(tt){return Buffer.from(tt)})}function resolvePromise(_,a){_.then(function($){getNextTick()(function(){a(null,$)})},function($){getNextTick()(function(){a($)})})}var async$1=function(_,a,$,j,et,tt){typeof et=="function"&&(tt=et,et=void 0),et=et||"sha1";var rt=toBrowser[et.toLowerCase()];if(!rt||typeof commonjsGlobal.Promise!="function"){getNextTick()(function(){var nt;try{nt=sync(_,a,$,j,et)}catch(it){return tt(it)}tt(null,nt)});return}if(checkParameters($,j),_=toBuffer$2(_,defaultEncoding,"Password"),a=toBuffer$2(a,defaultEncoding,"Salt"),typeof tt!="function")throw new Error("No callback provided to pbkdf2");resolvePromise(checkNative(rt).then(function(nt){return nt?browserPbkdf2(_,a,$,j,rt):sync(_,a,$,j,et)}),tt)};browser$7.pbkdf2=async$1;browser$7.pbkdf2Sync=syncBrowser;var browser$6={},des$1={},utils$r={},hasRequiredUtils;function requireUtils(){if(hasRequiredUtils)return utils$r;hasRequiredUtils=1,utils$r.readUInt32BE=function(et,tt){var rt=et[0+tt]<<24|et[1+tt]<<16|et[2+tt]<<8|et[3+tt];return rt>>>0},utils$r.writeUInt32BE=function(et,tt,rt){et[0+rt]=tt>>>24,et[1+rt]=tt>>>16&255,et[2+rt]=tt>>>8&255,et[3+rt]=tt&255},utils$r.ip=function(et,tt,rt,nt){for(var it=0,ot=0,st=6;st>=0;st-=2){for(var ct=0;ct<=24;ct+=8)it<<=1,it|=tt>>>ct+st&1;for(var ct=0;ct<=24;ct+=8)it<<=1,it|=et>>>ct+st&1}for(var st=6;st>=0;st-=2){for(var ct=1;ct<=25;ct+=8)ot<<=1,ot|=tt>>>ct+st&1;for(var ct=1;ct<=25;ct+=8)ot<<=1,ot|=et>>>ct+st&1}rt[nt+0]=it>>>0,rt[nt+1]=ot>>>0},utils$r.rip=function(et,tt,rt,nt){for(var it=0,ot=0,st=0;st<4;st++)for(var ct=24;ct>=0;ct-=8)it<<=1,it|=tt>>>ct+st&1,it<<=1,it|=et>>>ct+st&1;for(var st=4;st<8;st++)for(var ct=24;ct>=0;ct-=8)ot<<=1,ot|=tt>>>ct+st&1,ot<<=1,ot|=et>>>ct+st&1;rt[nt+0]=it>>>0,rt[nt+1]=ot>>>0},utils$r.pc1=function(et,tt,rt,nt){for(var it=0,ot=0,st=7;st>=5;st--){for(var ct=0;ct<=24;ct+=8)it<<=1,it|=tt>>ct+st&1;for(var ct=0;ct<=24;ct+=8)it<<=1,it|=et>>ct+st&1}for(var ct=0;ct<=24;ct+=8)it<<=1,it|=tt>>ct+st&1;for(var st=1;st<=3;st++){for(var ct=0;ct<=24;ct+=8)ot<<=1,ot|=tt>>ct+st&1;for(var ct=0;ct<=24;ct+=8)ot<<=1,ot|=et>>ct+st&1}for(var ct=0;ct<=24;ct+=8)ot<<=1,ot|=et>>ct+st&1;rt[nt+0]=it>>>0,rt[nt+1]=ot>>>0},utils$r.r28shl=function(et,tt){return et<<tt&268435455|et>>>28-tt};var _=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];utils$r.pc2=function(et,tt,rt,nt){for(var it=0,ot=0,st=_.length>>>1,ct=0;ct<st;ct++)it<<=1,it|=et>>>_[ct]&1;for(var ct=st;ct<_.length;ct++)ot<<=1,ot|=tt>>>_[ct]&1;rt[nt+0]=it>>>0,rt[nt+1]=ot>>>0},utils$r.expand=function(et,tt,rt){var nt=0,it=0;nt=(et&1)<<5|et>>>27;for(var ot=23;ot>=15;ot-=4)nt<<=6,nt|=et>>>ot&63;for(var ot=11;ot>=3;ot-=4)it|=et>>>ot&63,it<<=6;it|=(et&31)<<1|et>>>31,tt[rt+0]=nt>>>0,tt[rt+1]=it>>>0};var a=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];utils$r.substitute=function(et,tt){for(var rt=0,nt=0;nt<4;nt++){var it=et>>>18-nt*6&63,ot=a[nt*64+it];rt<<=4,rt|=ot}for(var nt=0;nt<4;nt++){var it=tt>>>18-nt*6&63,ot=a[4*64+nt*64+it];rt<<=4,rt|=ot}return rt>>>0};var $=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];return utils$r.permute=function(et){for(var tt=0,rt=0;rt<$.length;rt++)tt<<=1,tt|=et>>>$[rt]&1;return tt>>>0},utils$r.padSplit=function(et,tt,rt){for(var nt=et.toString(2);nt.length<tt;)nt="0"+nt;for(var it=[],ot=0;ot<tt;ot+=rt)it.push(nt.slice(ot,ot+rt));return it.join(" ")},utils$r}var minimalisticAssert=assert$h;function assert$h(_,a){if(!_)throw new Error(a||"Assertion failed")}assert$h.equal=function(a,$,j){if(a!=$)throw new Error(j||"Assertion failed: "+a+" != "+$)};var cipher,hasRequiredCipher;function requireCipher(){if(hasRequiredCipher)return cipher;hasRequiredCipher=1;var _=minimalisticAssert;function a($){this.options=$,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0,this.padding=$.padding!==!1}return cipher=a,a.prototype._init=function(){},a.prototype.update=function(j){return j.length===0?[]:this.type==="decrypt"?this._updateDecrypt(j):this._updateEncrypt(j)},a.prototype._buffer=function(j,et){for(var tt=Math.min(this.buffer.length-this.bufferOff,j.length-et),rt=0;rt<tt;rt++)this.buffer[this.bufferOff+rt]=j[et+rt];return this.bufferOff+=tt,tt},a.prototype._flushBuffer=function(j,et){return this._update(this.buffer,0,j,et),this.bufferOff=0,this.blockSize},a.prototype._updateEncrypt=function(j){var et=0,tt=0,rt=(this.bufferOff+j.length)/this.blockSize|0,nt=new Array(rt*this.blockSize);this.bufferOff!==0&&(et+=this._buffer(j,et),this.bufferOff===this.buffer.length&&(tt+=this._flushBuffer(nt,tt)));for(var it=j.length-(j.length-et)%this.blockSize;et<it;et+=this.blockSize)this._update(j,et,nt,tt),tt+=this.blockSize;for(;et<j.length;et++,this.bufferOff++)this.buffer[this.bufferOff]=j[et];return nt},a.prototype._updateDecrypt=function(j){for(var et=0,tt=0,rt=Math.ceil((this.bufferOff+j.length)/this.blockSize)-1,nt=new Array(rt*this.blockSize);rt>0;rt--)et+=this._buffer(j,et),tt+=this._flushBuffer(nt,tt);return et+=this._buffer(j,et),nt},a.prototype.final=function(j){var et;j&&(et=this.update(j));var tt;return this.type==="encrypt"?tt=this._finalEncrypt():tt=this._finalDecrypt(),et?et.concat(tt):tt},a.prototype._pad=function(j,et){if(et===0)return!1;for(;et<j.length;)j[et++]=0;return!0},a.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var j=new Array(this.blockSize);return this._update(this.buffer,0,j,0),j},a.prototype._unpad=function(j){return j},a.prototype._finalDecrypt=function(){_.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var j=new Array(this.blockSize);return this._flushBuffer(j,0),this._unpad(j)},cipher}var des,hasRequiredDes$1;function requireDes$1(){if(hasRequiredDes$1)return des;hasRequiredDes$1=1;var _=minimalisticAssert,a=inherits_browserExports,$=requireUtils(),j=requireCipher();function et(){this.tmp=new Array(2),this.keys=null}function tt(nt){j.call(this,nt);var it=new et;this._desState=it,this.deriveKeys(it,nt.key)}a(tt,j),des=tt,tt.create=function(it){return new tt(it)};var rt=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];return tt.prototype.deriveKeys=function(it,ot){it.keys=new Array(16*2),_.equal(ot.length,this.blockSize,"Invalid key length");var st=$.readUInt32BE(ot,0),ct=$.readUInt32BE(ot,4);$.pc1(st,ct,it.tmp,0),st=it.tmp[0],ct=it.tmp[1];for(var ut=0;ut<it.keys.length;ut+=2){var ht=rt[ut>>>1];st=$.r28shl(st,ht),ct=$.r28shl(ct,ht),$.pc2(st,ct,it.keys,ut)}},tt.prototype._update=function(it,ot,st,ct){var ut=this._desState,ht=$.readUInt32BE(it,ot),Et=$.readUInt32BE(it,ot+4);$.ip(ht,Et,ut.tmp,0),ht=ut.tmp[0],Et=ut.tmp[1],this.type==="encrypt"?this._encrypt(ut,ht,Et,ut.tmp,0):this._decrypt(ut,ht,Et,ut.tmp,0),ht=ut.tmp[0],Et=ut.tmp[1],$.writeUInt32BE(st,ht,ct),$.writeUInt32BE(st,Et,ct+4)},tt.prototype._pad=function(it,ot){if(this.padding===!1)return!1;for(var st=it.length-ot,ct=ot;ct<it.length;ct++)it[ct]=st;return!0},tt.prototype._unpad=function(it){if(this.padding===!1)return it;for(var ot=it[it.length-1],st=it.length-ot;st<it.length;st++)_.equal(it[st],ot);return it.slice(0,it.length-ot)},tt.prototype._encrypt=function(it,ot,st,ct,ut){for(var ht=ot,Et=st,St=0;St<it.keys.length;St+=2){var Mt=it.keys[St],kt=it.keys[St+1];$.expand(Et,it.tmp,0),Mt^=it.tmp[0],kt^=it.tmp[1];var Ct=$.substitute(Mt,kt),Ot=$.permute(Ct),zt=Et;Et=(ht^Ot)>>>0,ht=zt}$.rip(Et,ht,ct,ut)},tt.prototype._decrypt=function(it,ot,st,ct,ut){for(var ht=st,Et=ot,St=it.keys.length-2;St>=0;St-=2){var Mt=it.keys[St],kt=it.keys[St+1];$.expand(ht,it.tmp,0),Mt^=it.tmp[0],kt^=it.tmp[1];var Ct=$.substitute(Mt,kt),Ot=$.permute(Ct),zt=ht;ht=(Et^Ot)>>>0,Et=zt}$.rip(ht,Et,ct,ut)},des}var cbc$1={},hasRequiredCbc$1;function requireCbc$1(){if(hasRequiredCbc$1)return cbc$1;hasRequiredCbc$1=1;var _=minimalisticAssert,a=inherits_browserExports,$={};function j(tt){_.equal(tt.length,8,"Invalid IV length"),this.iv=new Array(8);for(var rt=0;rt<this.iv.length;rt++)this.iv[rt]=tt[rt]}function et(tt){function rt(st){tt.call(this,st),this._cbcInit()}a(rt,tt);for(var nt=Object.keys($),it=0;it<nt.length;it++){var ot=nt[it];rt.prototype[ot]=$[ot]}return rt.create=function(ct){return new rt(ct)},rt}return cbc$1.instantiate=et,$._cbcInit=function(){var rt=new j(this.options.iv);this._cbcState=rt},$._update=function(rt,nt,it,ot){var st=this._cbcState,ct=this.constructor.super_.prototype,ut=st.iv;if(this.type==="encrypt"){for(var ht=0;ht<this.blockSize;ht++)ut[ht]^=rt[nt+ht];ct._update.call(this,ut,0,it,ot);for(var ht=0;ht<this.blockSize;ht++)ut[ht]=it[ot+ht]}else{ct._update.call(this,rt,nt,it,ot);for(var ht=0;ht<this.blockSize;ht++)it[ot+ht]^=ut[ht];for(var ht=0;ht<this.blockSize;ht++)ut[ht]=rt[nt+ht]}},cbc$1}var ede,hasRequiredEde;function requireEde(){if(hasRequiredEde)return ede;hasRequiredEde=1;var _=minimalisticAssert,a=inherits_browserExports,$=requireCipher(),j=requireDes$1();function et(rt,nt){_.equal(nt.length,24,"Invalid key length");var it=nt.slice(0,8),ot=nt.slice(8,16),st=nt.slice(16,24);rt==="encrypt"?this.ciphers=[j.create({type:"encrypt",key:it}),j.create({type:"decrypt",key:ot}),j.create({type:"encrypt",key:st})]:this.ciphers=[j.create({type:"decrypt",key:st}),j.create({type:"encrypt",key:ot}),j.create({type:"decrypt",key:it})]}function tt(rt){$.call(this,rt);var nt=new et(this.type,this.options.key);this._edeState=nt}return a(tt,$),ede=tt,tt.create=function(nt){return new tt(nt)},tt.prototype._update=function(nt,it,ot,st){var ct=this._edeState;ct.ciphers[0]._update(nt,it,ot,st),ct.ciphers[1]._update(ot,st,ot,st),ct.ciphers[2]._update(ot,st,ot,st)},tt.prototype._pad=j.prototype._pad,tt.prototype._unpad=j.prototype._unpad,ede}var hasRequiredDes;function requireDes(){return hasRequiredDes||(hasRequiredDes=1,des$1.utils=requireUtils(),des$1.Cipher=requireCipher(),des$1.DES=requireDes$1(),des$1.CBC=requireCbc$1(),des$1.EDE=requireEde()),des$1}var browserifyDes,hasRequiredBrowserifyDes;function requireBrowserifyDes(){if(hasRequiredBrowserifyDes)return browserifyDes;hasRequiredBrowserifyDes=1;var _=cipherBase,a=requireDes(),$=inherits_browserExports,j=safeBufferExports.Buffer,et={"des-ede3-cbc":a.CBC.instantiate(a.EDE),"des-ede3":a.EDE,"des-ede-cbc":a.CBC.instantiate(a.EDE),"des-ede":a.EDE,"des-cbc":a.CBC.instantiate(a.DES),"des-ecb":a.DES};et.des=et["des-cbc"],et.des3=et["des-ede3-cbc"],browserifyDes=tt,$(tt,_);function tt(rt){_.call(this);var nt=rt.mode.toLowerCase(),it=et[nt],ot;rt.decrypt?ot="decrypt":ot="encrypt";var st=rt.key;j.isBuffer(st)||(st=j.from(st)),(nt==="des-ede"||nt==="des-ede-cbc")&&(st=j.concat([st,st.slice(0,8)]));var ct=rt.iv;j.isBuffer(ct)||(ct=j.from(ct)),this._des=it.create({key:st,iv:ct,type:ot})}return tt.prototype._update=function(rt){return j.from(this._des.update(rt))},tt.prototype._final=function(){return j.from(this._des.final())},browserifyDes}var browser$5={},encrypter={},ecb={},hasRequiredEcb;function requireEcb(){return hasRequiredEcb||(hasRequiredEcb=1,ecb.encrypt=function(_,a){return _._cipher.encryptBlock(a)},ecb.decrypt=function(_,a){return _._cipher.decryptBlock(a)}),ecb}var cbc={},bufferXor,hasRequiredBufferXor;function requireBufferXor(){return hasRequiredBufferXor||(hasRequiredBufferXor=1,bufferXor=function(a,$){for(var j=Math.min(a.length,$.length),et=new Buffer$g(j),tt=0;tt<j;++tt)et[tt]=a[tt]^$[tt];return et}),bufferXor}var hasRequiredCbc;function requireCbc(){if(hasRequiredCbc)return cbc;hasRequiredCbc=1;var _=requireBufferXor();return cbc.encrypt=function(a,$){var j=_($,a._prev);return a._prev=a._cipher.encryptBlock(j),a._prev},cbc.decrypt=function(a,$){var j=a._prev;a._prev=$;var et=a._cipher.decryptBlock($);return _(et,j)},cbc}var cfb={},hasRequiredCfb;function requireCfb(){if(hasRequiredCfb)return cfb;hasRequiredCfb=1;var _=safeBufferExports.Buffer,a=requireBufferXor();function $(j,et,tt){var rt=et.length,nt=a(et,j._cache);return j._cache=j._cache.slice(rt),j._prev=_.concat([j._prev,tt?et:nt]),nt}return cfb.encrypt=function(j,et,tt){for(var rt=_.allocUnsafe(0),nt;et.length;)if(j._cache.length===0&&(j._cache=j._cipher.encryptBlock(j._prev),j._prev=_.allocUnsafe(0)),j._cache.length<=et.length)nt=j._cache.length,rt=_.concat([rt,$(j,et.slice(0,nt),tt)]),et=et.slice(nt);else{rt=_.concat([rt,$(j,et,tt)]);break}return rt},cfb}var cfb8={},hasRequiredCfb8;function requireCfb8(){if(hasRequiredCfb8)return cfb8;hasRequiredCfb8=1;var _=safeBufferExports.Buffer;function a($,j,et){var tt=$._cipher.encryptBlock($._prev),rt=tt[0]^j;return $._prev=_.concat([$._prev.slice(1),_.from([et?j:rt])]),rt}return cfb8.encrypt=function($,j,et){for(var tt=j.length,rt=_.allocUnsafe(tt),nt=-1;++nt<tt;)rt[nt]=a($,j[nt],et);return rt},cfb8}var cfb1={},hasRequiredCfb1;function requireCfb1(){if(hasRequiredCfb1)return cfb1;hasRequiredCfb1=1;var _=safeBufferExports.Buffer;function a(j,et,tt){for(var rt,nt=-1,it=8,ot=0,st,ct;++nt<it;)rt=j._cipher.encryptBlock(j._prev),st=et&1<<7-nt?128:0,ct=rt[0]^st,ot+=(ct&128)>>nt%8,j._prev=$(j._prev,tt?st:ct);return ot}function $(j,et){var tt=j.length,rt=-1,nt=_.allocUnsafe(j.length);for(j=_.concat([j,_.from([et])]);++rt<tt;)nt[rt]=j[rt]<<1|j[rt+1]>>7;return nt}return cfb1.encrypt=function(j,et,tt){for(var rt=et.length,nt=_.allocUnsafe(rt),it=-1;++it<rt;)nt[it]=a(j,et[it],tt);return nt},cfb1}var ofb={},hasRequiredOfb;function requireOfb(){if(hasRequiredOfb)return ofb;hasRequiredOfb=1;var _=requireBufferXor();function a($){return $._prev=$._cipher.encryptBlock($._prev),$._prev}return ofb.encrypt=function($,j){for(;$._cache.length<j.length;)$._cache=Buffer$g.concat([$._cache,a($)]);var et=$._cache.slice(0,j.length);return $._cache=$._cache.slice(j.length),_(j,et)},ofb}var ctr={},incr32_1,hasRequiredIncr32;function requireIncr32(){if(hasRequiredIncr32)return incr32_1;hasRequiredIncr32=1;function _(a){for(var $=a.length,j;$--;)if(j=a.readUInt8($),j===255)a.writeUInt8(0,$);else{j++,a.writeUInt8(j,$);break}}return incr32_1=_,incr32_1}var hasRequiredCtr;function requireCtr(){if(hasRequiredCtr)return ctr;hasRequiredCtr=1;var _=requireBufferXor(),a=safeBufferExports.Buffer,$=requireIncr32();function j(tt){var rt=tt._cipher.encryptBlockRaw(tt._prev);return $(tt._prev),rt}var et=16;return ctr.encrypt=function(tt,rt){var nt=Math.ceil(rt.length/et),it=tt._cache.length;tt._cache=a.concat([tt._cache,a.allocUnsafe(nt*et)]);for(var ot=0;ot<nt;ot++){var st=j(tt),ct=it+ot*et;tt._cache.writeUInt32BE(st[0],ct+0),tt._cache.writeUInt32BE(st[1],ct+4),tt._cache.writeUInt32BE(st[2],ct+8),tt._cache.writeUInt32BE(st[3],ct+12)}var ut=tt._cache.slice(0,rt.length);return tt._cache=tt._cache.slice(rt.length),_(rt,ut)},ctr}const aes128={cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},aes192={cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},aes256={cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},require$$2$2={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128,aes192,aes256,"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}};var modes_1,hasRequiredModes$1;function requireModes$1(){if(hasRequiredModes$1)return modes_1;hasRequiredModes$1=1;var _={ECB:requireEcb(),CBC:requireCbc(),CFB:requireCfb(),CFB8:requireCfb8(),CFB1:requireCfb1(),OFB:requireOfb(),CTR:requireCtr(),GCM:requireCtr()},a=require$$2$2;for(var $ in a)a[$].module=_[a[$].mode];return modes_1=a,modes_1}var aes={},hasRequiredAes;function requireAes(){if(hasRequiredAes)return aes;hasRequiredAes=1;var _=safeBufferExports.Buffer;function a(nt){_.isBuffer(nt)||(nt=_.from(nt));for(var it=nt.length/4|0,ot=new Array(it),st=0;st<it;st++)ot[st]=nt.readUInt32BE(st*4);return ot}function $(nt){for(var it=0;it<nt.length;nt++)nt[it]=0}function j(nt,it,ot,st,ct){for(var ut=ot[0],ht=ot[1],Et=ot[2],St=ot[3],Mt=nt[0]^it[0],kt=nt[1]^it[1],Ct=nt[2]^it[2],Ot=nt[3]^it[3],zt,Ut,Vt,jt,$t=4,Bt=1;Bt<ct;Bt++)zt=ut[Mt>>>24]^ht[kt>>>16&255]^Et[Ct>>>8&255]^St[Ot&255]^it[$t++],Ut=ut[kt>>>24]^ht[Ct>>>16&255]^Et[Ot>>>8&255]^St[Mt&255]^it[$t++],Vt=ut[Ct>>>24]^ht[Ot>>>16&255]^Et[Mt>>>8&255]^St[kt&255]^it[$t++],jt=ut[Ot>>>24]^ht[Mt>>>16&255]^Et[kt>>>8&255]^St[Ct&255]^it[$t++],Mt=zt,kt=Ut,Ct=Vt,Ot=jt;return zt=(st[Mt>>>24]<<24|st[kt>>>16&255]<<16|st[Ct>>>8&255]<<8|st[Ot&255])^it[$t++],Ut=(st[kt>>>24]<<24|st[Ct>>>16&255]<<16|st[Ot>>>8&255]<<8|st[Mt&255])^it[$t++],Vt=(st[Ct>>>24]<<24|st[Ot>>>16&255]<<16|st[Mt>>>8&255]<<8|st[kt&255])^it[$t++],jt=(st[Ot>>>24]<<24|st[Mt>>>16&255]<<16|st[kt>>>8&255]<<8|st[Ct&255])^it[$t++],zt=zt>>>0,Ut=Ut>>>0,Vt=Vt>>>0,jt=jt>>>0,[zt,Ut,Vt,jt]}var et=[0,1,2,4,8,16,32,64,128,27,54],tt=function(){for(var nt=new Array(256),it=0;it<256;it++)it<128?nt[it]=it<<1:nt[it]=it<<1^283;for(var ot=[],st=[],ct=[[],[],[],[]],ut=[[],[],[],[]],ht=0,Et=0,St=0;St<256;++St){var Mt=Et^Et<<1^Et<<2^Et<<3^Et<<4;Mt=Mt>>>8^Mt&255^99,ot[ht]=Mt,st[Mt]=ht;var kt=nt[ht],Ct=nt[kt],Ot=nt[Ct],zt=nt[Mt]*257^Mt*16843008;ct[0][ht]=zt<<24|zt>>>8,ct[1][ht]=zt<<16|zt>>>16,ct[2][ht]=zt<<8|zt>>>24,ct[3][ht]=zt,zt=Ot*16843009^Ct*65537^kt*257^ht*16843008,ut[0][Mt]=zt<<24|zt>>>8,ut[1][Mt]=zt<<16|zt>>>16,ut[2][Mt]=zt<<8|zt>>>24,ut[3][Mt]=zt,ht===0?ht=Et=1:(ht=kt^nt[nt[nt[Ot^kt]]],Et^=nt[nt[Et]])}return{SBOX:ot,INV_SBOX:st,SUB_MIX:ct,INV_SUB_MIX:ut}}();function rt(nt){this._key=a(nt),this._reset()}return rt.blockSize=4*4,rt.keySize=256/8,rt.prototype.blockSize=rt.blockSize,rt.prototype.keySize=rt.keySize,rt.prototype._reset=function(){for(var nt=this._key,it=nt.length,ot=it+6,st=(ot+1)*4,ct=[],ut=0;ut<it;ut++)ct[ut]=nt[ut];for(ut=it;ut<st;ut++){var ht=ct[ut-1];ut%it===0?(ht=ht<<8|ht>>>24,ht=tt.SBOX[ht>>>24]<<24|tt.SBOX[ht>>>16&255]<<16|tt.SBOX[ht>>>8&255]<<8|tt.SBOX[ht&255],ht^=et[ut/it|0]<<24):it>6&&ut%it===4&&(ht=tt.SBOX[ht>>>24]<<24|tt.SBOX[ht>>>16&255]<<16|tt.SBOX[ht>>>8&255]<<8|tt.SBOX[ht&255]),ct[ut]=ct[ut-it]^ht}for(var Et=[],St=0;St<st;St++){var Mt=st-St,kt=ct[Mt-(St%4?0:4)];St<4||Mt<=4?Et[St]=kt:Et[St]=tt.INV_SUB_MIX[0][tt.SBOX[kt>>>24]]^tt.INV_SUB_MIX[1][tt.SBOX[kt>>>16&255]]^tt.INV_SUB_MIX[2][tt.SBOX[kt>>>8&255]]^tt.INV_SUB_MIX[3][tt.SBOX[kt&255]]}this._nRounds=ot,this._keySchedule=ct,this._invKeySchedule=Et},rt.prototype.encryptBlockRaw=function(nt){return nt=a(nt),j(nt,this._keySchedule,tt.SUB_MIX,tt.SBOX,this._nRounds)},rt.prototype.encryptBlock=function(nt){var it=this.encryptBlockRaw(nt),ot=_.allocUnsafe(16);return ot.writeUInt32BE(it[0],0),ot.writeUInt32BE(it[1],4),ot.writeUInt32BE(it[2],8),ot.writeUInt32BE(it[3],12),ot},rt.prototype.decryptBlock=function(nt){nt=a(nt);var it=nt[1];nt[1]=nt[3],nt[3]=it;var ot=j(nt,this._invKeySchedule,tt.INV_SUB_MIX,tt.INV_SBOX,this._nRounds),st=_.allocUnsafe(16);return st.writeUInt32BE(ot[0],0),st.writeUInt32BE(ot[3],4),st.writeUInt32BE(ot[2],8),st.writeUInt32BE(ot[1],12),st},rt.prototype.scrub=function(){$(this._keySchedule),$(this._invKeySchedule),$(this._key)},aes.AES=rt,aes}var ghash,hasRequiredGhash;function requireGhash(){if(hasRequiredGhash)return ghash;hasRequiredGhash=1;var _=safeBufferExports.Buffer,a=_.alloc(16,0);function $(tt){return[tt.readUInt32BE(0),tt.readUInt32BE(4),tt.readUInt32BE(8),tt.readUInt32BE(12)]}function j(tt){var rt=_.allocUnsafe(16);return rt.writeUInt32BE(tt[0]>>>0,0),rt.writeUInt32BE(tt[1]>>>0,4),rt.writeUInt32BE(tt[2]>>>0,8),rt.writeUInt32BE(tt[3]>>>0,12),rt}function et(tt){this.h=tt,this.state=_.alloc(16,0),this.cache=_.allocUnsafe(0)}return et.prototype.ghash=function(tt){for(var rt=-1;++rt<tt.length;)this.state[rt]^=tt[rt];this._multiply()},et.prototype._multiply=function(){for(var tt=$(this.h),rt=[0,0,0,0],nt,it,ot,st=-1;++st<128;){for(it=(this.state[~~(st/8)]&1<<7-st%8)!==0,it&&(rt[0]^=tt[0],rt[1]^=tt[1],rt[2]^=tt[2],rt[3]^=tt[3]),ot=(tt[3]&1)!==0,nt=3;nt>0;nt--)tt[nt]=tt[nt]>>>1|(tt[nt-1]&1)<<31;tt[0]=tt[0]>>>1,ot&&(tt[0]=tt[0]^225<<24)}this.state=j(rt)},et.prototype.update=function(tt){this.cache=_.concat([this.cache,tt]);for(var rt;this.cache.length>=16;)rt=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(rt)},et.prototype.final=function(tt,rt){return this.cache.length&&this.ghash(_.concat([this.cache,a],16)),this.ghash(j([0,tt,0,rt])),this.state},ghash=et,ghash}var authCipher,hasRequiredAuthCipher;function requireAuthCipher(){if(hasRequiredAuthCipher)return authCipher;hasRequiredAuthCipher=1;var _=requireAes(),a=safeBufferExports.Buffer,$=cipherBase,j=inherits_browserExports,et=requireGhash(),tt=requireBufferXor(),rt=requireIncr32();function nt(st,ct){var ut=0;st.length!==ct.length&&ut++;for(var ht=Math.min(st.length,ct.length),Et=0;Et<ht;++Et)ut+=st[Et]^ct[Et];return ut}function it(st,ct,ut){if(ct.length===12)return st._finID=a.concat([ct,a.from([0,0,0,1])]),a.concat([ct,a.from([0,0,0,2])]);var ht=new et(ut),Et=ct.length,St=Et%16;ht.update(ct),St&&(St=16-St,ht.update(a.alloc(St,0))),ht.update(a.alloc(8,0));var Mt=Et*8,kt=a.alloc(8);kt.writeUIntBE(Mt,0,8),ht.update(kt),st._finID=ht.state;var Ct=a.from(st._finID);return rt(Ct),Ct}function ot(st,ct,ut,ht){$.call(this);var Et=a.alloc(4,0);this._cipher=new _.AES(ct);var St=this._cipher.encryptBlock(Et);this._ghash=new et(St),ut=it(this,ut,St),this._prev=a.from(ut),this._cache=a.allocUnsafe(0),this._secCache=a.allocUnsafe(0),this._decrypt=ht,this._alen=0,this._len=0,this._mode=st,this._authTag=null,this._called=!1}return j(ot,$),ot.prototype._update=function(st){if(!this._called&&this._alen){var ct=16-this._alen%16;ct<16&&(ct=a.alloc(ct,0),this._ghash.update(ct))}this._called=!0;var ut=this._mode.encrypt(this,st);return this._decrypt?this._ghash.update(st):this._ghash.update(ut),this._len+=st.length,ut},ot.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var st=tt(this._ghash.final(this._alen*8,this._len*8),this._cipher.encryptBlock(this._finID));if(this._decrypt&&nt(st,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=st,this._cipher.scrub()},ot.prototype.getAuthTag=function(){if(this._decrypt||!a.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},ot.prototype.setAuthTag=function(ct){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=ct},ot.prototype.setAAD=function(ct){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(ct),this._alen+=ct.length},authCipher=ot,authCipher}var streamCipher,hasRequiredStreamCipher;function requireStreamCipher(){if(hasRequiredStreamCipher)return streamCipher;hasRequiredStreamCipher=1;var _=requireAes(),a=safeBufferExports.Buffer,$=cipherBase,j=inherits_browserExports;function et(tt,rt,nt,it){$.call(this),this._cipher=new _.AES(rt),this._prev=a.from(nt),this._cache=a.allocUnsafe(0),this._secCache=a.allocUnsafe(0),this._decrypt=it,this._mode=tt}return j(et,$),et.prototype._update=function(tt){return this._mode.encrypt(this,tt,this._decrypt)},et.prototype._final=function(){this._cipher.scrub()},streamCipher=et,streamCipher}var evp_bytestokey,hasRequiredEvp_bytestokey;function requireEvp_bytestokey(){if(hasRequiredEvp_bytestokey)return evp_bytestokey;hasRequiredEvp_bytestokey=1;var _=safeBufferExports.Buffer,a=md5_js;function $(j,et,tt,rt){if(_.isBuffer(j)||(j=_.from(j,"binary")),et&&(_.isBuffer(et)||(et=_.from(et,"binary")),et.length!==8))throw new RangeError("salt should be Buffer with 8 byte length");for(var nt=tt/8,it=_.alloc(nt),ot=_.alloc(rt||0),st=_.alloc(0);nt>0||rt>0;){var ct=new a;ct.update(st),ct.update(j),et&&ct.update(et),st=ct.digest();var ut=0;if(nt>0){var ht=it.length-nt;ut=Math.min(nt,st.length),st.copy(it,ht,0,ut),nt-=ut}if(ut<st.length&&rt>0){var Et=ot.length-rt,St=Math.min(rt,st.length-ut);st.copy(ot,Et,ut,ut+St),rt-=St}}return st.fill(0),{key:it,iv:ot}}return evp_bytestokey=$,evp_bytestokey}var hasRequiredEncrypter;function requireEncrypter(){if(hasRequiredEncrypter)return encrypter;hasRequiredEncrypter=1;var _=requireModes$1(),a=requireAuthCipher(),$=safeBufferExports.Buffer,j=requireStreamCipher(),et=cipherBase,tt=requireAes(),rt=requireEvp_bytestokey(),nt=inherits_browserExports;function it(ht,Et,St){et.call(this),this._cache=new st,this._cipher=new tt.AES(Et),this._prev=$.from(St),this._mode=ht,this._autopadding=!0}nt(it,et),it.prototype._update=function(ht){this._cache.add(ht);for(var Et,St,Mt=[];Et=this._cache.get();)St=this._mode.encrypt(this,Et),Mt.push(St);return $.concat(Mt)};var ot=$.alloc(16,16);it.prototype._final=function(){var ht=this._cache.flush();if(this._autopadding)return ht=this._mode.encrypt(this,ht),this._cipher.scrub(),ht;if(!ht.equals(ot))throw this._cipher.scrub(),new Error("data not multiple of block length")},it.prototype.setAutoPadding=function(ht){return this._autopadding=!!ht,this};function st(){this.cache=$.allocUnsafe(0)}st.prototype.add=function(ht){this.cache=$.concat([this.cache,ht])},st.prototype.get=function(){if(this.cache.length>15){var ht=this.cache.slice(0,16);return this.cache=this.cache.slice(16),ht}return null},st.prototype.flush=function(){for(var ht=16-this.cache.length,Et=$.allocUnsafe(ht),St=-1;++St<ht;)Et.writeUInt8(ht,St);return $.concat([this.cache,Et])};function ct(ht,Et,St){var Mt=_[ht.toLowerCase()];if(!Mt)throw new TypeError("invalid suite type");if(typeof Et=="string"&&(Et=$.from(Et)),Et.length!==Mt.key/8)throw new TypeError("invalid key length "+Et.length);if(typeof St=="string"&&(St=$.from(St)),Mt.mode!=="GCM"&&St.length!==Mt.iv)throw new TypeError("invalid iv length "+St.length);return Mt.type==="stream"?new j(Mt.module,Et,St):Mt.type==="auth"?new a(Mt.module,Et,St):new it(Mt.module,Et,St)}function ut(ht,Et){var St=_[ht.toLowerCase()];if(!St)throw new TypeError("invalid suite type");var Mt=rt(Et,!1,St.key,St.iv);return ct(ht,Mt.key,Mt.iv)}return encrypter.createCipheriv=ct,encrypter.createCipher=ut,encrypter}var decrypter={},hasRequiredDecrypter;function requireDecrypter(){if(hasRequiredDecrypter)return decrypter;hasRequiredDecrypter=1;var _=requireAuthCipher(),a=safeBufferExports.Buffer,$=requireModes$1(),j=requireStreamCipher(),et=cipherBase,tt=requireAes(),rt=requireEvp_bytestokey(),nt=inherits_browserExports;function it(ht,Et,St){et.call(this),this._cache=new ot,this._last=void 0,this._cipher=new tt.AES(Et),this._prev=a.from(St),this._mode=ht,this._autopadding=!0}nt(it,et),it.prototype._update=function(ht){this._cache.add(ht);for(var Et,St,Mt=[];Et=this._cache.get(this._autopadding);)St=this._mode.decrypt(this,Et),Mt.push(St);return a.concat(Mt)},it.prototype._final=function(){var ht=this._cache.flush();if(this._autopadding)return st(this._mode.decrypt(this,ht));if(ht)throw new Error("data not multiple of block length")},it.prototype.setAutoPadding=function(ht){return this._autopadding=!!ht,this};function ot(){this.cache=a.allocUnsafe(0)}ot.prototype.add=function(ht){this.cache=a.concat([this.cache,ht])},ot.prototype.get=function(ht){var Et;if(ht){if(this.cache.length>16)return Et=this.cache.slice(0,16),this.cache=this.cache.slice(16),Et}else if(this.cache.length>=16)return Et=this.cache.slice(0,16),this.cache=this.cache.slice(16),Et;return null},ot.prototype.flush=function(){if(this.cache.length)return this.cache};function st(ht){var Et=ht[15];if(Et<1||Et>16)throw new Error("unable to decrypt data");for(var St=-1;++St<Et;)if(ht[St+(16-Et)]!==Et)throw new Error("unable to decrypt data");if(Et!==16)return ht.slice(0,16-Et)}function ct(ht,Et,St){var Mt=$[ht.toLowerCase()];if(!Mt)throw new TypeError("invalid suite type");if(typeof St=="string"&&(St=a.from(St)),Mt.mode!=="GCM"&&St.length!==Mt.iv)throw new TypeError("invalid iv length "+St.length);if(typeof Et=="string"&&(Et=a.from(Et)),Et.length!==Mt.key/8)throw new TypeError("invalid key length "+Et.length);return Mt.type==="stream"?new j(Mt.module,Et,St,!0):Mt.type==="auth"?new _(Mt.module,Et,St,!0):new it(Mt.module,Et,St)}function ut(ht,Et){var St=$[ht.toLowerCase()];if(!St)throw new TypeError("invalid suite type");var Mt=rt(Et,!1,St.key,St.iv);return ct(ht,Mt.key,Mt.iv)}return decrypter.createDecipher=ut,decrypter.createDecipheriv=ct,decrypter}var hasRequiredBrowser$6;function requireBrowser$6(){if(hasRequiredBrowser$6)return browser$5;hasRequiredBrowser$6=1;var _=requireEncrypter(),a=requireDecrypter(),$=require$$2$2;function j(){return Object.keys($)}return browser$5.createCipher=browser$5.Cipher=_.createCipher,browser$5.createCipheriv=browser$5.Cipheriv=_.createCipheriv,browser$5.createDecipher=browser$5.Decipher=a.createDecipher,browser$5.createDecipheriv=browser$5.Decipheriv=a.createDecipheriv,browser$5.listCiphers=browser$5.getCiphers=j,browser$5}var modes={},hasRequiredModes;function requireModes(){return hasRequiredModes||(hasRequiredModes=1,function(_){_["des-ecb"]={key:8,iv:0},_["des-cbc"]=_.des={key:8,iv:8},_["des-ede3-cbc"]=_.des3={key:24,iv:8},_["des-ede3"]={key:24,iv:0},_["des-ede-cbc"]={key:16,iv:8},_["des-ede"]={key:16,iv:0}}(modes)),modes}var hasRequiredBrowser$5;function requireBrowser$5(){if(hasRequiredBrowser$5)return browser$6;hasRequiredBrowser$5=1;var _=requireBrowserifyDes(),a=requireBrowser$6(),$=requireModes$1(),j=requireModes(),et=requireEvp_bytestokey();function tt(st,ct){st=st.toLowerCase();var ut,ht;if($[st])ut=$[st].key,ht=$[st].iv;else if(j[st])ut=j[st].key*8,ht=j[st].iv;else throw new TypeError("invalid suite type");var Et=et(ct,!1,ut,ht);return nt(st,Et.key,Et.iv)}function rt(st,ct){st=st.toLowerCase();var ut,ht;if($[st])ut=$[st].key,ht=$[st].iv;else if(j[st])ut=j[st].key*8,ht=j[st].iv;else throw new TypeError("invalid suite type");var Et=et(ct,!1,ut,ht);return it(st,Et.key,Et.iv)}function nt(st,ct,ut){if(st=st.toLowerCase(),$[st])return a.createCipheriv(st,ct,ut);if(j[st])return new _({key:ct,iv:ut,mode:st});throw new TypeError("invalid suite type")}function it(st,ct,ut){if(st=st.toLowerCase(),$[st])return a.createDecipheriv(st,ct,ut);if(j[st])return new _({key:ct,iv:ut,mode:st,decrypt:!0});throw new TypeError("invalid suite type")}function ot(){return Object.keys(j).concat(a.getCiphers())}return browser$6.createCipher=browser$6.Cipher=tt,browser$6.createCipheriv=browser$6.Cipheriv=nt,browser$6.createDecipher=browser$6.Decipher=rt,browser$6.createDecipheriv=browser$6.Decipheriv=it,browser$6.listCiphers=browser$6.getCiphers=ot,browser$6}var browser$4={},bn$3={exports:{}};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$0$2=getAugmentedNamespace(__viteBrowserExternal$1);bn$3.exports;(function(_){(function(a,$){function j(Lt,Pt){if(!Lt)throw new Error(Pt||"Assertion failed")}function et(Lt,Pt){Lt.super_=Pt;var bt=function(){};bt.prototype=Pt.prototype,Lt.prototype=new bt,Lt.prototype.constructor=Lt}function tt(Lt,Pt,bt){if(tt.isBN(Lt))return Lt;this.negative=0,this.words=null,this.length=0,this.red=null,Lt!==null&&((Pt==="le"||Pt==="be")&&(bt=Pt,Pt=10),this._init(Lt||0,Pt||10,bt||"be"))}typeof a=="object"?a.exports=tt:$.BN=tt,tt.BN=tt,tt.wordSize=26;var rt;try{typeof window<"u"&&typeof window.Buffer<"u"?rt=window.Buffer:rt=require$$0$2.Buffer}catch{}tt.isBN=function(Pt){return Pt instanceof tt?!0:Pt!==null&&typeof Pt=="object"&&Pt.constructor.wordSize===tt.wordSize&&Array.isArray(Pt.words)},tt.max=function(Pt,bt){return Pt.cmp(bt)>0?Pt:bt},tt.min=function(Pt,bt){return Pt.cmp(bt)<0?Pt:bt},tt.prototype._init=function(Pt,bt,at){if(typeof Pt=="number")return this._initNumber(Pt,bt,at);if(typeof Pt=="object")return this._initArray(Pt,bt,at);bt==="hex"&&(bt=16),j(bt===(bt|0)&&bt>=2&&bt<=36),Pt=Pt.toString().replace(/\s+/g,"");var dt=0;Pt[0]==="-"&&(dt++,this.negative=1),dt<Pt.length&&(bt===16?this._parseHex(Pt,dt,at):(this._parseBase(Pt,bt,dt),at==="le"&&this._initArray(this.toArray(),bt,at)))},tt.prototype._initNumber=function(Pt,bt,at){Pt<0&&(this.negative=1,Pt=-Pt),Pt<67108864?(this.words=[Pt&67108863],this.length=1):Pt<4503599627370496?(this.words=[Pt&67108863,Pt/67108864&67108863],this.length=2):(j(Pt<9007199254740992),this.words=[Pt&67108863,Pt/67108864&67108863,1],this.length=3),at==="le"&&this._initArray(this.toArray(),bt,at)},tt.prototype._initArray=function(Pt,bt,at){if(j(typeof Pt.length=="number"),Pt.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(Pt.length/3),this.words=new Array(this.length);for(var dt=0;dt<this.length;dt++)this.words[dt]=0;var vt,xt,wt=0;if(at==="be")for(dt=Pt.length-1,vt=0;dt>=0;dt-=3)xt=Pt[dt]|Pt[dt-1]<<8|Pt[dt-2]<<16,this.words[vt]|=xt<<wt&67108863,this.words[vt+1]=xt>>>26-wt&67108863,wt+=24,wt>=26&&(wt-=26,vt++);else if(at==="le")for(dt=0,vt=0;dt<Pt.length;dt+=3)xt=Pt[dt]|Pt[dt+1]<<8|Pt[dt+2]<<16,this.words[vt]|=xt<<wt&67108863,this.words[vt+1]=xt>>>26-wt&67108863,wt+=24,wt>=26&&(wt-=26,vt++);return this.strip()};function nt(Lt,Pt){var bt=Lt.charCodeAt(Pt);return bt>=65&&bt<=70?bt-55:bt>=97&&bt<=102?bt-87:bt-48&15}function it(Lt,Pt,bt){var at=nt(Lt,bt);return bt-1>=Pt&&(at|=nt(Lt,bt-1)<<4),at}tt.prototype._parseHex=function(Pt,bt,at){this.length=Math.ceil((Pt.length-bt)/6),this.words=new Array(this.length);for(var dt=0;dt<this.length;dt++)this.words[dt]=0;var vt=0,xt=0,wt;if(at==="be")for(dt=Pt.length-1;dt>=bt;dt-=2)wt=it(Pt,bt,dt)<<vt,this.words[xt]|=wt&67108863,vt>=18?(vt-=18,xt+=1,this.words[xt]|=wt>>>26):vt+=8;else{var _t=Pt.length-bt;for(dt=_t%2===0?bt+1:bt;dt<Pt.length;dt+=2)wt=it(Pt,bt,dt)<<vt,this.words[xt]|=wt&67108863,vt>=18?(vt-=18,xt+=1,this.words[xt]|=wt>>>26):vt+=8}this.strip()};function ot(Lt,Pt,bt,at){for(var dt=0,vt=Math.min(Lt.length,bt),xt=Pt;xt<vt;xt++){var wt=Lt.charCodeAt(xt)-48;dt*=at,wt>=49?dt+=wt-49+10:wt>=17?dt+=wt-17+10:dt+=wt}return dt}tt.prototype._parseBase=function(Pt,bt,at){this.words=[0],this.length=1;for(var dt=0,vt=1;vt<=67108863;vt*=bt)dt++;dt--,vt=vt/bt|0;for(var xt=Pt.length-at,wt=xt%dt,_t=Math.min(xt,xt-wt)+at,At=0,Tt=at;Tt<_t;Tt+=dt)At=ot(Pt,Tt,Tt+dt,bt),this.imuln(vt),this.words[0]+At<67108864?this.words[0]+=At:this._iaddn(At);if(wt!==0){var yt=1;for(At=ot(Pt,Tt,Pt.length,bt),Tt=0;Tt<wt;Tt++)yt*=bt;this.imuln(yt),this.words[0]+At<67108864?this.words[0]+=At:this._iaddn(At)}this.strip()},tt.prototype.copy=function(Pt){Pt.words=new Array(this.length);for(var bt=0;bt<this.length;bt++)Pt.words[bt]=this.words[bt];Pt.length=this.length,Pt.negative=this.negative,Pt.red=this.red},tt.prototype.clone=function(){var Pt=new tt(null);return this.copy(Pt),Pt},tt.prototype._expand=function(Pt){for(;this.length<Pt;)this.words[this.length++]=0;return this},tt.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},tt.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},tt.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var st=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],ct=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],ut=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];tt.prototype.toString=function(Pt,bt){Pt=Pt||10,bt=bt|0||1;var at;if(Pt===16||Pt==="hex"){at="";for(var dt=0,vt=0,xt=0;xt<this.length;xt++){var wt=this.words[xt],_t=((wt<<dt|vt)&16777215).toString(16);vt=wt>>>24-dt&16777215,vt!==0||xt!==this.length-1?at=st[6-_t.length]+_t+at:at=_t+at,dt+=2,dt>=26&&(dt-=26,xt--)}for(vt!==0&&(at=vt.toString(16)+at);at.length%bt!==0;)at="0"+at;return this.negative!==0&&(at="-"+at),at}if(Pt===(Pt|0)&&Pt>=2&&Pt<=36){var At=ct[Pt],Tt=ut[Pt];at="";var yt=this.clone();for(yt.negative=0;!yt.isZero();){var It=yt.modn(Tt).toString(Pt);yt=yt.idivn(Tt),yt.isZero()?at=It+at:at=st[At-It.length]+It+at}for(this.isZero()&&(at="0"+at);at.length%bt!==0;)at="0"+at;return this.negative!==0&&(at="-"+at),at}j(!1,"Base should be between 2 and 36")},tt.prototype.toNumber=function(){var Pt=this.words[0];return this.length===2?Pt+=this.words[1]*67108864:this.length===3&&this.words[2]===1?Pt+=4503599627370496+this.words[1]*67108864:this.length>2&&j(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-Pt:Pt},tt.prototype.toJSON=function(){return this.toString(16)},tt.prototype.toBuffer=function(Pt,bt){return j(typeof rt<"u"),this.toArrayLike(rt,Pt,bt)},tt.prototype.toArray=function(Pt,bt){return this.toArrayLike(Array,Pt,bt)},tt.prototype.toArrayLike=function(Pt,bt,at){var dt=this.byteLength(),vt=at||Math.max(1,dt);j(dt<=vt,"byte array longer than desired length"),j(vt>0,"Requested array length <= 0"),this.strip();var xt=bt==="le",wt=new Pt(vt),_t,At,Tt=this.clone();if(xt){for(At=0;!Tt.isZero();At++)_t=Tt.andln(255),Tt.iushrn(8),wt[At]=_t;for(;At<vt;At++)wt[At]=0}else{for(At=0;At<vt-dt;At++)wt[At]=0;for(At=0;!Tt.isZero();At++)_t=Tt.andln(255),Tt.iushrn(8),wt[vt-At-1]=_t}return wt},Math.clz32?tt.prototype._countBits=function(Pt){return 32-Math.clz32(Pt)}:tt.prototype._countBits=function(Pt){var bt=Pt,at=0;return bt>=4096&&(at+=13,bt>>>=13),bt>=64&&(at+=7,bt>>>=7),bt>=8&&(at+=4,bt>>>=4),bt>=2&&(at+=2,bt>>>=2),at+bt},tt.prototype._zeroBits=function(Pt){if(Pt===0)return 26;var bt=Pt,at=0;return bt&8191||(at+=13,bt>>>=13),bt&127||(at+=7,bt>>>=7),bt&15||(at+=4,bt>>>=4),bt&3||(at+=2,bt>>>=2),bt&1||at++,at},tt.prototype.bitLength=function(){var Pt=this.words[this.length-1],bt=this._countBits(Pt);return(this.length-1)*26+bt};function ht(Lt){for(var Pt=new Array(Lt.bitLength()),bt=0;bt<Pt.length;bt++){var at=bt/26|0,dt=bt%26;Pt[bt]=(Lt.words[at]&1<<dt)>>>dt}return Pt}tt.prototype.zeroBits=function(){if(this.isZero())return 0;for(var Pt=0,bt=0;bt<this.length;bt++){var at=this._zeroBits(this.words[bt]);if(Pt+=at,at!==26)break}return Pt},tt.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},tt.prototype.toTwos=function(Pt){return this.negative!==0?this.abs().inotn(Pt).iaddn(1):this.clone()},tt.prototype.fromTwos=function(Pt){return this.testn(Pt-1)?this.notn(Pt).iaddn(1).ineg():this.clone()},tt.prototype.isNeg=function(){return this.negative!==0},tt.prototype.neg=function(){return this.clone().ineg()},tt.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},tt.prototype.iuor=function(Pt){for(;this.length<Pt.length;)this.words[this.length++]=0;for(var bt=0;bt<Pt.length;bt++)this.words[bt]=this.words[bt]|Pt.words[bt];return this.strip()},tt.prototype.ior=function(Pt){return j((this.negative|Pt.negative)===0),this.iuor(Pt)},tt.prototype.or=function(Pt){return this.length>Pt.length?this.clone().ior(Pt):Pt.clone().ior(this)},tt.prototype.uor=function(Pt){return this.length>Pt.length?this.clone().iuor(Pt):Pt.clone().iuor(this)},tt.prototype.iuand=function(Pt){var bt;this.length>Pt.length?bt=Pt:bt=this;for(var at=0;at<bt.length;at++)this.words[at]=this.words[at]&Pt.words[at];return this.length=bt.length,this.strip()},tt.prototype.iand=function(Pt){return j((this.negative|Pt.negative)===0),this.iuand(Pt)},tt.prototype.and=function(Pt){return this.length>Pt.length?this.clone().iand(Pt):Pt.clone().iand(this)},tt.prototype.uand=function(Pt){return this.length>Pt.length?this.clone().iuand(Pt):Pt.clone().iuand(this)},tt.prototype.iuxor=function(Pt){var bt,at;this.length>Pt.length?(bt=this,at=Pt):(bt=Pt,at=this);for(var dt=0;dt<at.length;dt++)this.words[dt]=bt.words[dt]^at.words[dt];if(this!==bt)for(;dt<bt.length;dt++)this.words[dt]=bt.words[dt];return this.length=bt.length,this.strip()},tt.prototype.ixor=function(Pt){return j((this.negative|Pt.negative)===0),this.iuxor(Pt)},tt.prototype.xor=function(Pt){return this.length>Pt.length?this.clone().ixor(Pt):Pt.clone().ixor(this)},tt.prototype.uxor=function(Pt){return this.length>Pt.length?this.clone().iuxor(Pt):Pt.clone().iuxor(this)},tt.prototype.inotn=function(Pt){j(typeof Pt=="number"&&Pt>=0);var bt=Math.ceil(Pt/26)|0,at=Pt%26;this._expand(bt),at>0&&bt--;for(var dt=0;dt<bt;dt++)this.words[dt]=~this.words[dt]&67108863;return at>0&&(this.words[dt]=~this.words[dt]&67108863>>26-at),this.strip()},tt.prototype.notn=function(Pt){return this.clone().inotn(Pt)},tt.prototype.setn=function(Pt,bt){j(typeof Pt=="number"&&Pt>=0);var at=Pt/26|0,dt=Pt%26;return this._expand(at+1),bt?this.words[at]=this.words[at]|1<<dt:this.words[at]=this.words[at]&~(1<<dt),this.strip()},tt.prototype.iadd=function(Pt){var bt;if(this.negative!==0&&Pt.negative===0)return this.negative=0,bt=this.isub(Pt),this.negative^=1,this._normSign();if(this.negative===0&&Pt.negative!==0)return Pt.negative=0,bt=this.isub(Pt),Pt.negative=1,bt._normSign();var at,dt;this.length>Pt.length?(at=this,dt=Pt):(at=Pt,dt=this);for(var vt=0,xt=0;xt<dt.length;xt++)bt=(at.words[xt]|0)+(dt.words[xt]|0)+vt,this.words[xt]=bt&67108863,vt=bt>>>26;for(;vt!==0&&xt<at.length;xt++)bt=(at.words[xt]|0)+vt,this.words[xt]=bt&67108863,vt=bt>>>26;if(this.length=at.length,vt!==0)this.words[this.length]=vt,this.length++;else if(at!==this)for(;xt<at.length;xt++)this.words[xt]=at.words[xt];return this},tt.prototype.add=function(Pt){var bt;return Pt.negative!==0&&this.negative===0?(Pt.negative=0,bt=this.sub(Pt),Pt.negative^=1,bt):Pt.negative===0&&this.negative!==0?(this.negative=0,bt=Pt.sub(this),this.negative=1,bt):this.length>Pt.length?this.clone().iadd(Pt):Pt.clone().iadd(this)},tt.prototype.isub=function(Pt){if(Pt.negative!==0){Pt.negative=0;var bt=this.iadd(Pt);return Pt.negative=1,bt._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(Pt),this.negative=1,this._normSign();var at=this.cmp(Pt);if(at===0)return this.negative=0,this.length=1,this.words[0]=0,this;var dt,vt;at>0?(dt=this,vt=Pt):(dt=Pt,vt=this);for(var xt=0,wt=0;wt<vt.length;wt++)bt=(dt.words[wt]|0)-(vt.words[wt]|0)+xt,xt=bt>>26,this.words[wt]=bt&67108863;for(;xt!==0&&wt<dt.length;wt++)bt=(dt.words[wt]|0)+xt,xt=bt>>26,this.words[wt]=bt&67108863;if(xt===0&&wt<dt.length&&dt!==this)for(;wt<dt.length;wt++)this.words[wt]=dt.words[wt];return this.length=Math.max(this.length,wt),dt!==this&&(this.negative=1),this.strip()},tt.prototype.sub=function(Pt){return this.clone().isub(Pt)};function Et(Lt,Pt,bt){bt.negative=Pt.negative^Lt.negative;var at=Lt.length+Pt.length|0;bt.length=at,at=at-1|0;var dt=Lt.words[0]|0,vt=Pt.words[0]|0,xt=dt*vt,wt=xt&67108863,_t=xt/67108864|0;bt.words[0]=wt;for(var At=1;At<at;At++){for(var Tt=_t>>>26,yt=_t&67108863,It=Math.min(At,Pt.length-1),rr=Math.max(0,At-Lt.length+1);rr<=It;rr++){var ir=At-rr|0;dt=Lt.words[ir]|0,vt=Pt.words[rr]|0,xt=dt*vt+yt,Tt+=xt/67108864|0,yt=xt&67108863}bt.words[At]=yt|0,_t=Tt|0}return _t!==0?bt.words[At]=_t|0:bt.length--,bt.strip()}var St=function(Pt,bt,at){var dt=Pt.words,vt=bt.words,xt=at.words,wt=0,_t,At,Tt,yt=dt[0]|0,It=yt&8191,rr=yt>>>13,ir=dt[1]|0,nr=ir&8191,Gt=ir>>>13,qt=dt[2]|0,Jt=qt&8191,Ft=qt>>>13,Kt=dt[3]|0,Qt=Kt&8191,dr=Kt>>>13,xr=dt[4]|0,pr=xr&8191,Ir=xr>>>13,Cr=dt[5]|0,lr=Cr&8191,fr=Cr>>>13,Er=dt[6]|0,Ar=Er&8191,kr=Er>>>13,Sr=dt[7]|0,$r=Sr&8191,jr=Sr>>>13,Nr=dt[8]|0,or=Nr&8191,Xt=Nr>>>13,er=dt[9]|0,Zt=er&8191,Ht=er>>>13,Wt=vt[0]|0,ar=Wt&8191,br=Wt>>>13,wr=vt[1]|0,Rr=wr&8191,Qr=wr>>>13,Ur=vt[2]|0,Hr=Ur&8191,_n=Ur>>>13,Wr=vt[3]|0,an=Wr&8191,Sn=Wr>>>13,cn=vt[4]|0,Xr=cn&8191,Cn=cn>>>13,ln=vt[5]|0,Yr=ln&8191,En=ln>>>13,fn=vt[6]|0,Jr=fn&8191,$n=fn>>>13,un=vt[7]|0,en=un&8191,An=un>>>13,sn=vt[8]|0,tn=sn&8191,kn=sn>>>13,xn=vt[9]|0,dn=xn&8191,Ln=xn>>>13;at.negative=Pt.negative^bt.negative,at.length=19,_t=Math.imul(It,ar),At=Math.imul(It,br),At=At+Math.imul(rr,ar)|0,Tt=Math.imul(rr,br);var hn=(wt+_t|0)+((At&8191)<<13)|0;wt=(Tt+(At>>>13)|0)+(hn>>>26)|0,hn&=67108863,_t=Math.imul(nr,ar),At=Math.imul(nr,br),At=At+Math.imul(Gt,ar)|0,Tt=Math.imul(Gt,br),_t=_t+Math.imul(It,Rr)|0,At=At+Math.imul(It,Qr)|0,At=At+Math.imul(rr,Rr)|0,Tt=Tt+Math.imul(rr,Qr)|0;var yn=(wt+_t|0)+((At&8191)<<13)|0;wt=(Tt+(At>>>13)|0)+(yn>>>26)|0,yn&=67108863,_t=Math.imul(Jt,ar),At=Math.imul(Jt,br),At=At+Math.imul(Ft,ar)|0,Tt=Math.imul(Ft,br),_t=_t+Math.imul(nr,Rr)|0,At=At+Math.imul(nr,Qr)|0,At=At+Math.imul(Gt,Rr)|0,Tt=Tt+Math.imul(Gt,Qr)|0,_t=_t+Math.imul(It,Hr)|0,At=At+Math.imul(It,_n)|0,At=At+Math.imul(rr,Hr)|0,Tt=Tt+Math.imul(rr,_n)|0;var ps=(wt+_t|0)+((At&8191)<<13)|0;wt=(Tt+(At>>>13)|0)+(ps>>>26)|0,ps&=67108863,_t=Math.imul(Qt,ar),At=Math.imul(Qt,br),At=At+Math.imul(dr,ar)|0,Tt=Math.imul(dr,br),_t=_t+Math.imul(Jt,Rr)|0,At=At+Math.imul(Jt,Qr)|0,At=At+Math.imul(Ft,Rr)|0,Tt=Tt+Math.imul(Ft,Qr)|0,_t=_t+Math.imul(nr,Hr)|0,At=At+Math.imul(nr,_n)|0,At=At+Math.imul(Gt,Hr)|0,Tt=Tt+Math.imul(Gt,_n)|0,_t=_t+Math.imul(It,an)|0,At=At+Math.imul(It,Sn)|0,At=At+Math.imul(rr,an)|0,Tt=Tt+Math.imul(rr,Sn)|0;var ms=(wt+_t|0)+((At&8191)<<13)|0;wt=(Tt+(At>>>13)|0)+(ms>>>26)|0,ms&=67108863,_t=Math.imul(pr,ar),At=Math.imul(pr,br),At=At+Math.imul(Ir,ar)|0,Tt=Math.imul(Ir,br),_t=_t+Math.imul(Qt,Rr)|0,At=At+Math.imul(Qt,Qr)|0,At=At+Math.imul(dr,Rr)|0,Tt=Tt+Math.imul(dr,Qr)|0,_t=_t+Math.imul(Jt,Hr)|0,At=At+Math.imul(Jt,_n)|0,At=At+Math.imul(Ft,Hr)|0,Tt=Tt+Math.imul(Ft,_n)|0,_t=_t+Math.imul(nr,an)|0,At=At+Math.imul(nr,Sn)|0,At=At+Math.imul(Gt,an)|0,Tt=Tt+Math.imul(Gt,Sn)|0,_t=_t+Math.imul(It,Xr)|0,At=At+Math.imul(It,Cn)|0,At=At+Math.imul(rr,Xr)|0,Tt=Tt+Math.imul(rr,Cn)|0;var gs=(wt+_t|0)+((At&8191)<<13)|0;wt=(Tt+(At>>>13)|0)+(gs>>>26)|0,gs&=67108863,_t=Math.imul(lr,ar),At=Math.imul(lr,br),At=At+Math.imul(fr,ar)|0,Tt=Math.imul(fr,br),_t=_t+Math.imul(pr,Rr)|0,At=At+Math.imul(pr,Qr)|0,At=At+Math.imul(Ir,Rr)|0,Tt=Tt+Math.imul(Ir,Qr)|0,_t=_t+Math.imul(Qt,Hr)|0,At=At+Math.imul(Qt,_n)|0,At=At+Math.imul(dr,Hr)|0,Tt=Tt+Math.imul(dr,_n)|0,_t=_t+Math.imul(Jt,an)|0,At=At+Math.imul(Jt,Sn)|0,At=At+Math.imul(Ft,an)|0,Tt=Tt+Math.imul(Ft,Sn)|0,_t=_t+Math.imul(nr,Xr)|0,At=At+Math.imul(nr,Cn)|0,At=At+Math.imul(Gt,Xr)|0,Tt=Tt+Math.imul(Gt,Cn)|0,_t=_t+Math.imul(It,Yr)|0,At=At+Math.imul(It,En)|0,At=At+Math.imul(rr,Yr)|0,Tt=Tt+Math.imul(rr,En)|0;var vs=(wt+_t|0)+((At&8191)<<13)|0;wt=(Tt+(At>>>13)|0)+(vs>>>26)|0,vs&=67108863,_t=Math.imul(Ar,ar),At=Math.imul(Ar,br),At=At+Math.imul(kr,ar)|0,Tt=Math.imul(kr,br),_t=_t+Math.imul(lr,Rr)|0,At=At+Math.imul(lr,Qr)|0,At=At+Math.imul(fr,Rr)|0,Tt=Tt+Math.imul(fr,Qr)|0,_t=_t+Math.imul(pr,Hr)|0,At=At+Math.imul(pr,_n)|0,At=At+Math.imul(Ir,Hr)|0,Tt=Tt+Math.imul(Ir,_n)|0,_t=_t+Math.imul(Qt,an)|0,At=At+Math.imul(Qt,Sn)|0,At=At+Math.imul(dr,an)|0,Tt=Tt+Math.imul(dr,Sn)|0,_t=_t+Math.imul(Jt,Xr)|0,At=At+Math.imul(Jt,Cn)|0,At=At+Math.imul(Ft,Xr)|0,Tt=Tt+Math.imul(Ft,Cn)|0,_t=_t+Math.imul(nr,Yr)|0,At=At+Math.imul(nr,En)|0,At=At+Math.imul(Gt,Yr)|0,Tt=Tt+Math.imul(Gt,En)|0,_t=_t+Math.imul(It,Jr)|0,At=At+Math.imul(It,$n)|0,At=At+Math.imul(rr,Jr)|0,Tt=Tt+Math.imul(rr,$n)|0;var Zn=(wt+_t|0)+((At&8191)<<13)|0;wt=(Tt+(At>>>13)|0)+(Zn>>>26)|0,Zn&=67108863,_t=Math.imul($r,ar),At=Math.imul($r,br),At=At+Math.imul(jr,ar)|0,Tt=Math.imul(jr,br),_t=_t+Math.imul(Ar,Rr)|0,At=At+Math.imul(Ar,Qr)|0,At=At+Math.imul(kr,Rr)|0,Tt=Tt+Math.imul(kr,Qr)|0,_t=_t+Math.imul(lr,Hr)|0,At=At+Math.imul(lr,_n)|0,At=At+Math.imul(fr,Hr)|0,Tt=Tt+Math.imul(fr,_n)|0,_t=_t+Math.imul(pr,an)|0,At=At+Math.imul(pr,Sn)|0,At=At+Math.imul(Ir,an)|0,Tt=Tt+Math.imul(Ir,Sn)|0,_t=_t+Math.imul(Qt,Xr)|0,At=At+Math.imul(Qt,Cn)|0,At=At+Math.imul(dr,Xr)|0,Tt=Tt+Math.imul(dr,Cn)|0,_t=_t+Math.imul(Jt,Yr)|0,At=At+Math.imul(Jt,En)|0,At=At+Math.imul(Ft,Yr)|0,Tt=Tt+Math.imul(Ft,En)|0,_t=_t+Math.imul(nr,Jr)|0,At=At+Math.imul(nr,$n)|0,At=At+Math.imul(Gt,Jr)|0,Tt=Tt+Math.imul(Gt,$n)|0,_t=_t+Math.imul(It,en)|0,At=At+Math.imul(It,An)|0,At=At+Math.imul(rr,en)|0,Tt=Tt+Math.imul(rr,An)|0;var ls=(wt+_t|0)+((At&8191)<<13)|0;wt=(Tt+(At>>>13)|0)+(ls>>>26)|0,ls&=67108863,_t=Math.imul(or,ar),At=Math.imul(or,br),At=At+Math.imul(Xt,ar)|0,Tt=Math.imul(Xt,br),_t=_t+Math.imul($r,Rr)|0,At=At+Math.imul($r,Qr)|0,At=At+Math.imul(jr,Rr)|0,Tt=Tt+Math.imul(jr,Qr)|0,_t=_t+Math.imul(Ar,Hr)|0,At=At+Math.imul(Ar,_n)|0,At=At+Math.imul(kr,Hr)|0,Tt=Tt+Math.imul(kr,_n)|0,_t=_t+Math.imul(lr,an)|0,At=At+Math.imul(lr,Sn)|0,At=At+Math.imul(fr,an)|0,Tt=Tt+Math.imul(fr,Sn)|0,_t=_t+Math.imul(pr,Xr)|0,At=At+Math.imul(pr,Cn)|0,At=At+Math.imul(Ir,Xr)|0,Tt=Tt+Math.imul(Ir,Cn)|0,_t=_t+Math.imul(Qt,Yr)|0,At=At+Math.imul(Qt,En)|0,At=At+Math.imul(dr,Yr)|0,Tt=Tt+Math.imul(dr,En)|0,_t=_t+Math.imul(Jt,Jr)|0,At=At+Math.imul(Jt,$n)|0,At=At+Math.imul(Ft,Jr)|0,Tt=Tt+Math.imul(Ft,$n)|0,_t=_t+Math.imul(nr,en)|0,At=At+Math.imul(nr,An)|0,At=At+Math.imul(Gt,en)|0,Tt=Tt+Math.imul(Gt,An)|0,_t=_t+Math.imul(It,tn)|0,At=At+Math.imul(It,kn)|0,At=At+Math.imul(rr,tn)|0,Tt=Tt+Math.imul(rr,kn)|0;var rs=(wt+_t|0)+((At&8191)<<13)|0;wt=(Tt+(At>>>13)|0)+(rs>>>26)|0,rs&=67108863,_t=Math.imul(Zt,ar),At=Math.imul(Zt,br),At=At+Math.imul(Ht,ar)|0,Tt=Math.imul(Ht,br),_t=_t+Math.imul(or,Rr)|0,At=At+Math.imul(or,Qr)|0,At=At+Math.imul(Xt,Rr)|0,Tt=Tt+Math.imul(Xt,Qr)|0,_t=_t+Math.imul($r,Hr)|0,At=At+Math.imul($r,_n)|0,At=At+Math.imul(jr,Hr)|0,Tt=Tt+Math.imul(jr,_n)|0,_t=_t+Math.imul(Ar,an)|0,At=At+Math.imul(Ar,Sn)|0,At=At+Math.imul(kr,an)|0,Tt=Tt+Math.imul(kr,Sn)|0,_t=_t+Math.imul(lr,Xr)|0,At=At+Math.imul(lr,Cn)|0,At=At+Math.imul(fr,Xr)|0,Tt=Tt+Math.imul(fr,Cn)|0,_t=_t+Math.imul(pr,Yr)|0,At=At+Math.imul(pr,En)|0,At=At+Math.imul(Ir,Yr)|0,Tt=Tt+Math.imul(Ir,En)|0,_t=_t+Math.imul(Qt,Jr)|0,At=At+Math.imul(Qt,$n)|0,At=At+Math.imul(dr,Jr)|0,Tt=Tt+Math.imul(dr,$n)|0,_t=_t+Math.imul(Jt,en)|0,At=At+Math.imul(Jt,An)|0,At=At+Math.imul(Ft,en)|0,Tt=Tt+Math.imul(Ft,An)|0,_t=_t+Math.imul(nr,tn)|0,At=At+Math.imul(nr,kn)|0,At=At+Math.imul(Gt,tn)|0,Tt=Tt+Math.imul(Gt,kn)|0,_t=_t+Math.imul(It,dn)|0,At=At+Math.imul(It,Ln)|0,At=At+Math.imul(rr,dn)|0,Tt=Tt+Math.imul(rr,Ln)|0;var es=(wt+_t|0)+((At&8191)<<13)|0;wt=(Tt+(At>>>13)|0)+(es>>>26)|0,es&=67108863,_t=Math.imul(Zt,Rr),At=Math.imul(Zt,Qr),At=At+Math.imul(Ht,Rr)|0,Tt=Math.imul(Ht,Qr),_t=_t+Math.imul(or,Hr)|0,At=At+Math.imul(or,_n)|0,At=At+Math.imul(Xt,Hr)|0,Tt=Tt+Math.imul(Xt,_n)|0,_t=_t+Math.imul($r,an)|0,At=At+Math.imul($r,Sn)|0,At=At+Math.imul(jr,an)|0,Tt=Tt+Math.imul(jr,Sn)|0,_t=_t+Math.imul(Ar,Xr)|0,At=At+Math.imul(Ar,Cn)|0,At=At+Math.imul(kr,Xr)|0,Tt=Tt+Math.imul(kr,Cn)|0,_t=_t+Math.imul(lr,Yr)|0,At=At+Math.imul(lr,En)|0,At=At+Math.imul(fr,Yr)|0,Tt=Tt+Math.imul(fr,En)|0,_t=_t+Math.imul(pr,Jr)|0,At=At+Math.imul(pr,$n)|0,At=At+Math.imul(Ir,Jr)|0,Tt=Tt+Math.imul(Ir,$n)|0,_t=_t+Math.imul(Qt,en)|0,At=At+Math.imul(Qt,An)|0,At=At+Math.imul(dr,en)|0,Tt=Tt+Math.imul(dr,An)|0,_t=_t+Math.imul(Jt,tn)|0,At=At+Math.imul(Jt,kn)|0,At=At+Math.imul(Ft,tn)|0,Tt=Tt+Math.imul(Ft,kn)|0,_t=_t+Math.imul(nr,dn)|0,At=At+Math.imul(nr,Ln)|0,At=At+Math.imul(Gt,dn)|0,Tt=Tt+Math.imul(Gt,Ln)|0;var ys=(wt+_t|0)+((At&8191)<<13)|0;wt=(Tt+(At>>>13)|0)+(ys>>>26)|0,ys&=67108863,_t=Math.imul(Zt,Hr),At=Math.imul(Zt,_n),At=At+Math.imul(Ht,Hr)|0,Tt=Math.imul(Ht,_n),_t=_t+Math.imul(or,an)|0,At=At+Math.imul(or,Sn)|0,At=At+Math.imul(Xt,an)|0,Tt=Tt+Math.imul(Xt,Sn)|0,_t=_t+Math.imul($r,Xr)|0,At=At+Math.imul($r,Cn)|0,At=At+Math.imul(jr,Xr)|0,Tt=Tt+Math.imul(jr,Cn)|0,_t=_t+Math.imul(Ar,Yr)|0,At=At+Math.imul(Ar,En)|0,At=At+Math.imul(kr,Yr)|0,Tt=Tt+Math.imul(kr,En)|0,_t=_t+Math.imul(lr,Jr)|0,At=At+Math.imul(lr,$n)|0,At=At+Math.imul(fr,Jr)|0,Tt=Tt+Math.imul(fr,$n)|0,_t=_t+Math.imul(pr,en)|0,At=At+Math.imul(pr,An)|0,At=At+Math.imul(Ir,en)|0,Tt=Tt+Math.imul(Ir,An)|0,_t=_t+Math.imul(Qt,tn)|0,At=At+Math.imul(Qt,kn)|0,At=At+Math.imul(dr,tn)|0,Tt=Tt+Math.imul(dr,kn)|0,_t=_t+Math.imul(Jt,dn)|0,At=At+Math.imul(Jt,Ln)|0,At=At+Math.imul(Ft,dn)|0,Tt=Tt+Math.imul(Ft,Ln)|0;var ns=(wt+_t|0)+((At&8191)<<13)|0;wt=(Tt+(At>>>13)|0)+(ns>>>26)|0,ns&=67108863,_t=Math.imul(Zt,an),At=Math.imul(Zt,Sn),At=At+Math.imul(Ht,an)|0,Tt=Math.imul(Ht,Sn),_t=_t+Math.imul(or,Xr)|0,At=At+Math.imul(or,Cn)|0,At=At+Math.imul(Xt,Xr)|0,Tt=Tt+Math.imul(Xt,Cn)|0,_t=_t+Math.imul($r,Yr)|0,At=At+Math.imul($r,En)|0,At=At+Math.imul(jr,Yr)|0,Tt=Tt+Math.imul(jr,En)|0,_t=_t+Math.imul(Ar,Jr)|0,At=At+Math.imul(Ar,$n)|0,At=At+Math.imul(kr,Jr)|0,Tt=Tt+Math.imul(kr,$n)|0,_t=_t+Math.imul(lr,en)|0,At=At+Math.imul(lr,An)|0,At=At+Math.imul(fr,en)|0,Tt=Tt+Math.imul(fr,An)|0,_t=_t+Math.imul(pr,tn)|0,At=At+Math.imul(pr,kn)|0,At=At+Math.imul(Ir,tn)|0,Tt=Tt+Math.imul(Ir,kn)|0,_t=_t+Math.imul(Qt,dn)|0,At=At+Math.imul(Qt,Ln)|0,At=At+Math.imul(dr,dn)|0,Tt=Tt+Math.imul(dr,Ln)|0;var as=(wt+_t|0)+((At&8191)<<13)|0;wt=(Tt+(At>>>13)|0)+(as>>>26)|0,as&=67108863,_t=Math.imul(Zt,Xr),At=Math.imul(Zt,Cn),At=At+Math.imul(Ht,Xr)|0,Tt=Math.imul(Ht,Cn),_t=_t+Math.imul(or,Yr)|0,At=At+Math.imul(or,En)|0,At=At+Math.imul(Xt,Yr)|0,Tt=Tt+Math.imul(Xt,En)|0,_t=_t+Math.imul($r,Jr)|0,At=At+Math.imul($r,$n)|0,At=At+Math.imul(jr,Jr)|0,Tt=Tt+Math.imul(jr,$n)|0,_t=_t+Math.imul(Ar,en)|0,At=At+Math.imul(Ar,An)|0,At=At+Math.imul(kr,en)|0,Tt=Tt+Math.imul(kr,An)|0,_t=_t+Math.imul(lr,tn)|0,At=At+Math.imul(lr,kn)|0,At=At+Math.imul(fr,tn)|0,Tt=Tt+Math.imul(fr,kn)|0,_t=_t+Math.imul(pr,dn)|0,At=At+Math.imul(pr,Ln)|0,At=At+Math.imul(Ir,dn)|0,Tt=Tt+Math.imul(Ir,Ln)|0;var ds=(wt+_t|0)+((At&8191)<<13)|0;wt=(Tt+(At>>>13)|0)+(ds>>>26)|0,ds&=67108863,_t=Math.imul(Zt,Yr),At=Math.imul(Zt,En),At=At+Math.imul(Ht,Yr)|0,Tt=Math.imul(Ht,En),_t=_t+Math.imul(or,Jr)|0,At=At+Math.imul(or,$n)|0,At=At+Math.imul(Xt,Jr)|0,Tt=Tt+Math.imul(Xt,$n)|0,_t=_t+Math.imul($r,en)|0,At=At+Math.imul($r,An)|0,At=At+Math.imul(jr,en)|0,Tt=Tt+Math.imul(jr,An)|0,_t=_t+Math.imul(Ar,tn)|0,At=At+Math.imul(Ar,kn)|0,At=At+Math.imul(kr,tn)|0,Tt=Tt+Math.imul(kr,kn)|0,_t=_t+Math.imul(lr,dn)|0,At=At+Math.imul(lr,Ln)|0,At=At+Math.imul(fr,dn)|0,Tt=Tt+Math.imul(fr,Ln)|0;var fs=(wt+_t|0)+((At&8191)<<13)|0;wt=(Tt+(At>>>13)|0)+(fs>>>26)|0,fs&=67108863,_t=Math.imul(Zt,Jr),At=Math.imul(Zt,$n),At=At+Math.imul(Ht,Jr)|0,Tt=Math.imul(Ht,$n),_t=_t+Math.imul(or,en)|0,At=At+Math.imul(or,An)|0,At=At+Math.imul(Xt,en)|0,Tt=Tt+Math.imul(Xt,An)|0,_t=_t+Math.imul($r,tn)|0,At=At+Math.imul($r,kn)|0,At=At+Math.imul(jr,tn)|0,Tt=Tt+Math.imul(jr,kn)|0,_t=_t+Math.imul(Ar,dn)|0,At=At+Math.imul(Ar,Ln)|0,At=At+Math.imul(kr,dn)|0,Tt=Tt+Math.imul(kr,Ln)|0;var Jn=(wt+_t|0)+((At&8191)<<13)|0;wt=(Tt+(At>>>13)|0)+(Jn>>>26)|0,Jn&=67108863,_t=Math.imul(Zt,en),At=Math.imul(Zt,An),At=At+Math.imul(Ht,en)|0,Tt=Math.imul(Ht,An),_t=_t+Math.imul(or,tn)|0,At=At+Math.imul(or,kn)|0,At=At+Math.imul(Xt,tn)|0,Tt=Tt+Math.imul(Xt,kn)|0,_t=_t+Math.imul($r,dn)|0,At=At+Math.imul($r,Ln)|0,At=At+Math.imul(jr,dn)|0,Tt=Tt+Math.imul(jr,Ln)|0;var us=(wt+_t|0)+((At&8191)<<13)|0;wt=(Tt+(At>>>13)|0)+(us>>>26)|0,us&=67108863,_t=Math.imul(Zt,tn),At=Math.imul(Zt,kn),At=At+Math.imul(Ht,tn)|0,Tt=Math.imul(Ht,kn),_t=_t+Math.imul(or,dn)|0,At=At+Math.imul(or,Ln)|0,At=At+Math.imul(Xt,dn)|0,Tt=Tt+Math.imul(Xt,Ln)|0;var xs=(wt+_t|0)+((At&8191)<<13)|0;wt=(Tt+(At>>>13)|0)+(xs>>>26)|0,xs&=67108863,_t=Math.imul(Zt,dn),At=Math.imul(Zt,Ln),At=At+Math.imul(Ht,dn)|0,Tt=Math.imul(Ht,Ln);var bs=(wt+_t|0)+((At&8191)<<13)|0;return wt=(Tt+(At>>>13)|0)+(bs>>>26)|0,bs&=67108863,xt[0]=hn,xt[1]=yn,xt[2]=ps,xt[3]=ms,xt[4]=gs,xt[5]=vs,xt[6]=Zn,xt[7]=ls,xt[8]=rs,xt[9]=es,xt[10]=ys,xt[11]=ns,xt[12]=as,xt[13]=ds,xt[14]=fs,xt[15]=Jn,xt[16]=us,xt[17]=xs,xt[18]=bs,wt!==0&&(xt[19]=wt,at.length++),at};Math.imul||(St=Et);function Mt(Lt,Pt,bt){bt.negative=Pt.negative^Lt.negative,bt.length=Lt.length+Pt.length;for(var at=0,dt=0,vt=0;vt<bt.length-1;vt++){var xt=dt;dt=0;for(var wt=at&67108863,_t=Math.min(vt,Pt.length-1),At=Math.max(0,vt-Lt.length+1);At<=_t;At++){var Tt=vt-At,yt=Lt.words[Tt]|0,It=Pt.words[At]|0,rr=yt*It,ir=rr&67108863;xt=xt+(rr/67108864|0)|0,ir=ir+wt|0,wt=ir&67108863,xt=xt+(ir>>>26)|0,dt+=xt>>>26,xt&=67108863}bt.words[vt]=wt,at=xt,xt=dt}return at!==0?bt.words[vt]=at:bt.length--,bt.strip()}function kt(Lt,Pt,bt){var at=new Ct;return at.mulp(Lt,Pt,bt)}tt.prototype.mulTo=function(Pt,bt){var at,dt=this.length+Pt.length;return this.length===10&&Pt.length===10?at=St(this,Pt,bt):dt<63?at=Et(this,Pt,bt):dt<1024?at=Mt(this,Pt,bt):at=kt(this,Pt,bt),at};function Ct(Lt,Pt){this.x=Lt,this.y=Pt}Ct.prototype.makeRBT=function(Pt){for(var bt=new Array(Pt),at=tt.prototype._countBits(Pt)-1,dt=0;dt<Pt;dt++)bt[dt]=this.revBin(dt,at,Pt);return bt},Ct.prototype.revBin=function(Pt,bt,at){if(Pt===0||Pt===at-1)return Pt;for(var dt=0,vt=0;vt<bt;vt++)dt|=(Pt&1)<<bt-vt-1,Pt>>=1;return dt},Ct.prototype.permute=function(Pt,bt,at,dt,vt,xt){for(var wt=0;wt<xt;wt++)dt[wt]=bt[Pt[wt]],vt[wt]=at[Pt[wt]]},Ct.prototype.transform=function(Pt,bt,at,dt,vt,xt){this.permute(xt,Pt,bt,at,dt,vt);for(var wt=1;wt<vt;wt<<=1)for(var _t=wt<<1,At=Math.cos(2*Math.PI/_t),Tt=Math.sin(2*Math.PI/_t),yt=0;yt<vt;yt+=_t)for(var It=At,rr=Tt,ir=0;ir<wt;ir++){var nr=at[yt+ir],Gt=dt[yt+ir],qt=at[yt+ir+wt],Jt=dt[yt+ir+wt],Ft=It*qt-rr*Jt;Jt=It*Jt+rr*qt,qt=Ft,at[yt+ir]=nr+qt,dt[yt+ir]=Gt+Jt,at[yt+ir+wt]=nr-qt,dt[yt+ir+wt]=Gt-Jt,ir!==_t&&(Ft=At*It-Tt*rr,rr=At*rr+Tt*It,It=Ft)}},Ct.prototype.guessLen13b=function(Pt,bt){var at=Math.max(bt,Pt)|1,dt=at&1,vt=0;for(at=at/2|0;at;at=at>>>1)vt++;return 1<<vt+1+dt},Ct.prototype.conjugate=function(Pt,bt,at){if(!(at<=1))for(var dt=0;dt<at/2;dt++){var vt=Pt[dt];Pt[dt]=Pt[at-dt-1],Pt[at-dt-1]=vt,vt=bt[dt],bt[dt]=-bt[at-dt-1],bt[at-dt-1]=-vt}},Ct.prototype.normalize13b=function(Pt,bt){for(var at=0,dt=0;dt<bt/2;dt++){var vt=Math.round(Pt[2*dt+1]/bt)*8192+Math.round(Pt[2*dt]/bt)+at;Pt[dt]=vt&67108863,vt<67108864?at=0:at=vt/67108864|0}return Pt},Ct.prototype.convert13b=function(Pt,bt,at,dt){for(var vt=0,xt=0;xt<bt;xt++)vt=vt+(Pt[xt]|0),at[2*xt]=vt&8191,vt=vt>>>13,at[2*xt+1]=vt&8191,vt=vt>>>13;for(xt=2*bt;xt<dt;++xt)at[xt]=0;j(vt===0),j((vt&-8192)===0)},Ct.prototype.stub=function(Pt){for(var bt=new Array(Pt),at=0;at<Pt;at++)bt[at]=0;return bt},Ct.prototype.mulp=function(Pt,bt,at){var dt=2*this.guessLen13b(Pt.length,bt.length),vt=this.makeRBT(dt),xt=this.stub(dt),wt=new Array(dt),_t=new Array(dt),At=new Array(dt),Tt=new Array(dt),yt=new Array(dt),It=new Array(dt),rr=at.words;rr.length=dt,this.convert13b(Pt.words,Pt.length,wt,dt),this.convert13b(bt.words,bt.length,Tt,dt),this.transform(wt,xt,_t,At,dt,vt),this.transform(Tt,xt,yt,It,dt,vt);for(var ir=0;ir<dt;ir++){var nr=_t[ir]*yt[ir]-At[ir]*It[ir];At[ir]=_t[ir]*It[ir]+At[ir]*yt[ir],_t[ir]=nr}return this.conjugate(_t,At,dt),this.transform(_t,At,rr,xt,dt,vt),this.conjugate(rr,xt,dt),this.normalize13b(rr,dt),at.negative=Pt.negative^bt.negative,at.length=Pt.length+bt.length,at.strip()},tt.prototype.mul=function(Pt){var bt=new tt(null);return bt.words=new Array(this.length+Pt.length),this.mulTo(Pt,bt)},tt.prototype.mulf=function(Pt){var bt=new tt(null);return bt.words=new Array(this.length+Pt.length),kt(this,Pt,bt)},tt.prototype.imul=function(Pt){return this.clone().mulTo(Pt,this)},tt.prototype.imuln=function(Pt){j(typeof Pt=="number"),j(Pt<67108864);for(var bt=0,at=0;at<this.length;at++){var dt=(this.words[at]|0)*Pt,vt=(dt&67108863)+(bt&67108863);bt>>=26,bt+=dt/67108864|0,bt+=vt>>>26,this.words[at]=vt&67108863}return bt!==0&&(this.words[at]=bt,this.length++),this},tt.prototype.muln=function(Pt){return this.clone().imuln(Pt)},tt.prototype.sqr=function(){return this.mul(this)},tt.prototype.isqr=function(){return this.imul(this.clone())},tt.prototype.pow=function(Pt){var bt=ht(Pt);if(bt.length===0)return new tt(1);for(var at=this,dt=0;dt<bt.length&&bt[dt]===0;dt++,at=at.sqr());if(++dt<bt.length)for(var vt=at.sqr();dt<bt.length;dt++,vt=vt.sqr())bt[dt]!==0&&(at=at.mul(vt));return at},tt.prototype.iushln=function(Pt){j(typeof Pt=="number"&&Pt>=0);var bt=Pt%26,at=(Pt-bt)/26,dt=67108863>>>26-bt<<26-bt,vt;if(bt!==0){var xt=0;for(vt=0;vt<this.length;vt++){var wt=this.words[vt]&dt,_t=(this.words[vt]|0)-wt<<bt;this.words[vt]=_t|xt,xt=wt>>>26-bt}xt&&(this.words[vt]=xt,this.length++)}if(at!==0){for(vt=this.length-1;vt>=0;vt--)this.words[vt+at]=this.words[vt];for(vt=0;vt<at;vt++)this.words[vt]=0;this.length+=at}return this.strip()},tt.prototype.ishln=function(Pt){return j(this.negative===0),this.iushln(Pt)},tt.prototype.iushrn=function(Pt,bt,at){j(typeof Pt=="number"&&Pt>=0);var dt;bt?dt=(bt-bt%26)/26:dt=0;var vt=Pt%26,xt=Math.min((Pt-vt)/26,this.length),wt=67108863^67108863>>>vt<<vt,_t=at;if(dt-=xt,dt=Math.max(0,dt),_t){for(var At=0;At<xt;At++)_t.words[At]=this.words[At];_t.length=xt}if(xt!==0)if(this.length>xt)for(this.length-=xt,At=0;At<this.length;At++)this.words[At]=this.words[At+xt];else this.words[0]=0,this.length=1;var Tt=0;for(At=this.length-1;At>=0&&(Tt!==0||At>=dt);At--){var yt=this.words[At]|0;this.words[At]=Tt<<26-vt|yt>>>vt,Tt=yt&wt}return _t&&Tt!==0&&(_t.words[_t.length++]=Tt),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},tt.prototype.ishrn=function(Pt,bt,at){return j(this.negative===0),this.iushrn(Pt,bt,at)},tt.prototype.shln=function(Pt){return this.clone().ishln(Pt)},tt.prototype.ushln=function(Pt){return this.clone().iushln(Pt)},tt.prototype.shrn=function(Pt){return this.clone().ishrn(Pt)},tt.prototype.ushrn=function(Pt){return this.clone().iushrn(Pt)},tt.prototype.testn=function(Pt){j(typeof Pt=="number"&&Pt>=0);var bt=Pt%26,at=(Pt-bt)/26,dt=1<<bt;if(this.length<=at)return!1;var vt=this.words[at];return!!(vt&dt)},tt.prototype.imaskn=function(Pt){j(typeof Pt=="number"&&Pt>=0);var bt=Pt%26,at=(Pt-bt)/26;if(j(this.negative===0,"imaskn works only with positive numbers"),this.length<=at)return this;if(bt!==0&&at++,this.length=Math.min(at,this.length),bt!==0){var dt=67108863^67108863>>>bt<<bt;this.words[this.length-1]&=dt}return this.strip()},tt.prototype.maskn=function(Pt){return this.clone().imaskn(Pt)},tt.prototype.iaddn=function(Pt){return j(typeof Pt=="number"),j(Pt<67108864),Pt<0?this.isubn(-Pt):this.negative!==0?this.length===1&&(this.words[0]|0)<Pt?(this.words[0]=Pt-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(Pt),this.negative=1,this):this._iaddn(Pt)},tt.prototype._iaddn=function(Pt){this.words[0]+=Pt;for(var bt=0;bt<this.length&&this.words[bt]>=67108864;bt++)this.words[bt]-=67108864,bt===this.length-1?this.words[bt+1]=1:this.words[bt+1]++;return this.length=Math.max(this.length,bt+1),this},tt.prototype.isubn=function(Pt){if(j(typeof Pt=="number"),j(Pt<67108864),Pt<0)return this.iaddn(-Pt);if(this.negative!==0)return this.negative=0,this.iaddn(Pt),this.negative=1,this;if(this.words[0]-=Pt,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var bt=0;bt<this.length&&this.words[bt]<0;bt++)this.words[bt]+=67108864,this.words[bt+1]-=1;return this.strip()},tt.prototype.addn=function(Pt){return this.clone().iaddn(Pt)},tt.prototype.subn=function(Pt){return this.clone().isubn(Pt)},tt.prototype.iabs=function(){return this.negative=0,this},tt.prototype.abs=function(){return this.clone().iabs()},tt.prototype._ishlnsubmul=function(Pt,bt,at){var dt=Pt.length+at,vt;this._expand(dt);var xt,wt=0;for(vt=0;vt<Pt.length;vt++){xt=(this.words[vt+at]|0)+wt;var _t=(Pt.words[vt]|0)*bt;xt-=_t&67108863,wt=(xt>>26)-(_t/67108864|0),this.words[vt+at]=xt&67108863}for(;vt<this.length-at;vt++)xt=(this.words[vt+at]|0)+wt,wt=xt>>26,this.words[vt+at]=xt&67108863;if(wt===0)return this.strip();for(j(wt===-1),wt=0,vt=0;vt<this.length;vt++)xt=-(this.words[vt]|0)+wt,wt=xt>>26,this.words[vt]=xt&67108863;return this.negative=1,this.strip()},tt.prototype._wordDiv=function(Pt,bt){var at=this.length-Pt.length,dt=this.clone(),vt=Pt,xt=vt.words[vt.length-1]|0,wt=this._countBits(xt);at=26-wt,at!==0&&(vt=vt.ushln(at),dt.iushln(at),xt=vt.words[vt.length-1]|0);var _t=dt.length-vt.length,At;if(bt!=="mod"){At=new tt(null),At.length=_t+1,At.words=new Array(At.length);for(var Tt=0;Tt<At.length;Tt++)At.words[Tt]=0}var yt=dt.clone()._ishlnsubmul(vt,1,_t);yt.negative===0&&(dt=yt,At&&(At.words[_t]=1));for(var It=_t-1;It>=0;It--){var rr=(dt.words[vt.length+It]|0)*67108864+(dt.words[vt.length+It-1]|0);for(rr=Math.min(rr/xt|0,67108863),dt._ishlnsubmul(vt,rr,It);dt.negative!==0;)rr--,dt.negative=0,dt._ishlnsubmul(vt,1,It),dt.isZero()||(dt.negative^=1);At&&(At.words[It]=rr)}return At&&At.strip(),dt.strip(),bt!=="div"&&at!==0&&dt.iushrn(at),{div:At||null,mod:dt}},tt.prototype.divmod=function(Pt,bt,at){if(j(!Pt.isZero()),this.isZero())return{div:new tt(0),mod:new tt(0)};var dt,vt,xt;return this.negative!==0&&Pt.negative===0?(xt=this.neg().divmod(Pt,bt),bt!=="mod"&&(dt=xt.div.neg()),bt!=="div"&&(vt=xt.mod.neg(),at&&vt.negative!==0&&vt.iadd(Pt)),{div:dt,mod:vt}):this.negative===0&&Pt.negative!==0?(xt=this.divmod(Pt.neg(),bt),bt!=="mod"&&(dt=xt.div.neg()),{div:dt,mod:xt.mod}):this.negative&Pt.negative?(xt=this.neg().divmod(Pt.neg(),bt),bt!=="div"&&(vt=xt.mod.neg(),at&&vt.negative!==0&&vt.isub(Pt)),{div:xt.div,mod:vt}):Pt.length>this.length||this.cmp(Pt)<0?{div:new tt(0),mod:this}:Pt.length===1?bt==="div"?{div:this.divn(Pt.words[0]),mod:null}:bt==="mod"?{div:null,mod:new tt(this.modn(Pt.words[0]))}:{div:this.divn(Pt.words[0]),mod:new tt(this.modn(Pt.words[0]))}:this._wordDiv(Pt,bt)},tt.prototype.div=function(Pt){return this.divmod(Pt,"div",!1).div},tt.prototype.mod=function(Pt){return this.divmod(Pt,"mod",!1).mod},tt.prototype.umod=function(Pt){return this.divmod(Pt,"mod",!0).mod},tt.prototype.divRound=function(Pt){var bt=this.divmod(Pt);if(bt.mod.isZero())return bt.div;var at=bt.div.negative!==0?bt.mod.isub(Pt):bt.mod,dt=Pt.ushrn(1),vt=Pt.andln(1),xt=at.cmp(dt);return xt<0||vt===1&&xt===0?bt.div:bt.div.negative!==0?bt.div.isubn(1):bt.div.iaddn(1)},tt.prototype.modn=function(Pt){j(Pt<=67108863);for(var bt=(1<<26)%Pt,at=0,dt=this.length-1;dt>=0;dt--)at=(bt*at+(this.words[dt]|0))%Pt;return at},tt.prototype.idivn=function(Pt){j(Pt<=67108863);for(var bt=0,at=this.length-1;at>=0;at--){var dt=(this.words[at]|0)+bt*67108864;this.words[at]=dt/Pt|0,bt=dt%Pt}return this.strip()},tt.prototype.divn=function(Pt){return this.clone().idivn(Pt)},tt.prototype.egcd=function(Pt){j(Pt.negative===0),j(!Pt.isZero());var bt=this,at=Pt.clone();bt.negative!==0?bt=bt.umod(Pt):bt=bt.clone();for(var dt=new tt(1),vt=new tt(0),xt=new tt(0),wt=new tt(1),_t=0;bt.isEven()&&at.isEven();)bt.iushrn(1),at.iushrn(1),++_t;for(var At=at.clone(),Tt=bt.clone();!bt.isZero();){for(var yt=0,It=1;!(bt.words[0]&It)&&yt<26;++yt,It<<=1);if(yt>0)for(bt.iushrn(yt);yt-- >0;)(dt.isOdd()||vt.isOdd())&&(dt.iadd(At),vt.isub(Tt)),dt.iushrn(1),vt.iushrn(1);for(var rr=0,ir=1;!(at.words[0]&ir)&&rr<26;++rr,ir<<=1);if(rr>0)for(at.iushrn(rr);rr-- >0;)(xt.isOdd()||wt.isOdd())&&(xt.iadd(At),wt.isub(Tt)),xt.iushrn(1),wt.iushrn(1);bt.cmp(at)>=0?(bt.isub(at),dt.isub(xt),vt.isub(wt)):(at.isub(bt),xt.isub(dt),wt.isub(vt))}return{a:xt,b:wt,gcd:at.iushln(_t)}},tt.prototype._invmp=function(Pt){j(Pt.negative===0),j(!Pt.isZero());var bt=this,at=Pt.clone();bt.negative!==0?bt=bt.umod(Pt):bt=bt.clone();for(var dt=new tt(1),vt=new tt(0),xt=at.clone();bt.cmpn(1)>0&&at.cmpn(1)>0;){for(var wt=0,_t=1;!(bt.words[0]&_t)&&wt<26;++wt,_t<<=1);if(wt>0)for(bt.iushrn(wt);wt-- >0;)dt.isOdd()&&dt.iadd(xt),dt.iushrn(1);for(var At=0,Tt=1;!(at.words[0]&Tt)&&At<26;++At,Tt<<=1);if(At>0)for(at.iushrn(At);At-- >0;)vt.isOdd()&&vt.iadd(xt),vt.iushrn(1);bt.cmp(at)>=0?(bt.isub(at),dt.isub(vt)):(at.isub(bt),vt.isub(dt))}var yt;return bt.cmpn(1)===0?yt=dt:yt=vt,yt.cmpn(0)<0&&yt.iadd(Pt),yt},tt.prototype.gcd=function(Pt){if(this.isZero())return Pt.abs();if(Pt.isZero())return this.abs();var bt=this.clone(),at=Pt.clone();bt.negative=0,at.negative=0;for(var dt=0;bt.isEven()&&at.isEven();dt++)bt.iushrn(1),at.iushrn(1);do{for(;bt.isEven();)bt.iushrn(1);for(;at.isEven();)at.iushrn(1);var vt=bt.cmp(at);if(vt<0){var xt=bt;bt=at,at=xt}else if(vt===0||at.cmpn(1)===0)break;bt.isub(at)}while(!0);return at.iushln(dt)},tt.prototype.invm=function(Pt){return this.egcd(Pt).a.umod(Pt)},tt.prototype.isEven=function(){return(this.words[0]&1)===0},tt.prototype.isOdd=function(){return(this.words[0]&1)===1},tt.prototype.andln=function(Pt){return this.words[0]&Pt},tt.prototype.bincn=function(Pt){j(typeof Pt=="number");var bt=Pt%26,at=(Pt-bt)/26,dt=1<<bt;if(this.length<=at)return this._expand(at+1),this.words[at]|=dt,this;for(var vt=dt,xt=at;vt!==0&&xt<this.length;xt++){var wt=this.words[xt]|0;wt+=vt,vt=wt>>>26,wt&=67108863,this.words[xt]=wt}return vt!==0&&(this.words[xt]=vt,this.length++),this},tt.prototype.isZero=function(){return this.length===1&&this.words[0]===0},tt.prototype.cmpn=function(Pt){var bt=Pt<0;if(this.negative!==0&&!bt)return-1;if(this.negative===0&&bt)return 1;this.strip();var at;if(this.length>1)at=1;else{bt&&(Pt=-Pt),j(Pt<=67108863,"Number is too big");var dt=this.words[0]|0;at=dt===Pt?0:dt<Pt?-1:1}return this.negative!==0?-at|0:at},tt.prototype.cmp=function(Pt){if(this.negative!==0&&Pt.negative===0)return-1;if(this.negative===0&&Pt.negative!==0)return 1;var bt=this.ucmp(Pt);return this.negative!==0?-bt|0:bt},tt.prototype.ucmp=function(Pt){if(this.length>Pt.length)return 1;if(this.length<Pt.length)return-1;for(var bt=0,at=this.length-1;at>=0;at--){var dt=this.words[at]|0,vt=Pt.words[at]|0;if(dt!==vt){dt<vt?bt=-1:dt>vt&&(bt=1);break}}return bt},tt.prototype.gtn=function(Pt){return this.cmpn(Pt)===1},tt.prototype.gt=function(Pt){return this.cmp(Pt)===1},tt.prototype.gten=function(Pt){return this.cmpn(Pt)>=0},tt.prototype.gte=function(Pt){return this.cmp(Pt)>=0},tt.prototype.ltn=function(Pt){return this.cmpn(Pt)===-1},tt.prototype.lt=function(Pt){return this.cmp(Pt)===-1},tt.prototype.lten=function(Pt){return this.cmpn(Pt)<=0},tt.prototype.lte=function(Pt){return this.cmp(Pt)<=0},tt.prototype.eqn=function(Pt){return this.cmpn(Pt)===0},tt.prototype.eq=function(Pt){return this.cmp(Pt)===0},tt.red=function(Pt){return new Bt(Pt)},tt.prototype.toRed=function(Pt){return j(!this.red,"Already a number in reduction context"),j(this.negative===0,"red works only with positives"),Pt.convertTo(this)._forceRed(Pt)},tt.prototype.fromRed=function(){return j(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},tt.prototype._forceRed=function(Pt){return this.red=Pt,this},tt.prototype.forceRed=function(Pt){return j(!this.red,"Already a number in reduction context"),this._forceRed(Pt)},tt.prototype.redAdd=function(Pt){return j(this.red,"redAdd works only with red numbers"),this.red.add(this,Pt)},tt.prototype.redIAdd=function(Pt){return j(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,Pt)},tt.prototype.redSub=function(Pt){return j(this.red,"redSub works only with red numbers"),this.red.sub(this,Pt)},tt.prototype.redISub=function(Pt){return j(this.red,"redISub works only with red numbers"),this.red.isub(this,Pt)},tt.prototype.redShl=function(Pt){return j(this.red,"redShl works only with red numbers"),this.red.shl(this,Pt)},tt.prototype.redMul=function(Pt){return j(this.red,"redMul works only with red numbers"),this.red._verify2(this,Pt),this.red.mul(this,Pt)},tt.prototype.redIMul=function(Pt){return j(this.red,"redMul works only with red numbers"),this.red._verify2(this,Pt),this.red.imul(this,Pt)},tt.prototype.redSqr=function(){return j(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},tt.prototype.redISqr=function(){return j(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},tt.prototype.redSqrt=function(){return j(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},tt.prototype.redInvm=function(){return j(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},tt.prototype.redNeg=function(){return j(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},tt.prototype.redPow=function(Pt){return j(this.red&&!Pt.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,Pt)};var Ot={k256:null,p224:null,p192:null,p25519:null};function zt(Lt,Pt){this.name=Lt,this.p=new tt(Pt,16),this.n=this.p.bitLength(),this.k=new tt(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}zt.prototype._tmp=function(){var Pt=new tt(null);return Pt.words=new Array(Math.ceil(this.n/13)),Pt},zt.prototype.ireduce=function(Pt){var bt=Pt,at;do this.split(bt,this.tmp),bt=this.imulK(bt),bt=bt.iadd(this.tmp),at=bt.bitLength();while(at>this.n);var dt=at<this.n?-1:bt.ucmp(this.p);return dt===0?(bt.words[0]=0,bt.length=1):dt>0?bt.isub(this.p):bt.strip!==void 0?bt.strip():bt._strip(),bt},zt.prototype.split=function(Pt,bt){Pt.iushrn(this.n,0,bt)},zt.prototype.imulK=function(Pt){return Pt.imul(this.k)};function Ut(){zt.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}et(Ut,zt),Ut.prototype.split=function(Pt,bt){for(var at=4194303,dt=Math.min(Pt.length,9),vt=0;vt<dt;vt++)bt.words[vt]=Pt.words[vt];if(bt.length=dt,Pt.length<=9){Pt.words[0]=0,Pt.length=1;return}var xt=Pt.words[9];for(bt.words[bt.length++]=xt&at,vt=10;vt<Pt.length;vt++){var wt=Pt.words[vt]|0;Pt.words[vt-10]=(wt&at)<<4|xt>>>22,xt=wt}xt>>>=22,Pt.words[vt-10]=xt,xt===0&&Pt.length>10?Pt.length-=10:Pt.length-=9},Ut.prototype.imulK=function(Pt){Pt.words[Pt.length]=0,Pt.words[Pt.length+1]=0,Pt.length+=2;for(var bt=0,at=0;at<Pt.length;at++){var dt=Pt.words[at]|0;bt+=dt*977,Pt.words[at]=bt&67108863,bt=dt*64+(bt/67108864|0)}return Pt.words[Pt.length-1]===0&&(Pt.length--,Pt.words[Pt.length-1]===0&&Pt.length--),Pt};function Vt(){zt.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}et(Vt,zt);function jt(){zt.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}et(jt,zt);function $t(){zt.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}et($t,zt),$t.prototype.imulK=function(Pt){for(var bt=0,at=0;at<Pt.length;at++){var dt=(Pt.words[at]|0)*19+bt,vt=dt&67108863;dt>>>=26,Pt.words[at]=vt,bt=dt}return bt!==0&&(Pt.words[Pt.length++]=bt),Pt},tt._prime=function(Pt){if(Ot[Pt])return Ot[Pt];var bt;if(Pt==="k256")bt=new Ut;else if(Pt==="p224")bt=new Vt;else if(Pt==="p192")bt=new jt;else if(Pt==="p25519")bt=new $t;else throw new Error("Unknown prime "+Pt);return Ot[Pt]=bt,bt};function Bt(Lt){if(typeof Lt=="string"){var Pt=tt._prime(Lt);this.m=Pt.p,this.prime=Pt}else j(Lt.gtn(1),"modulus must be greater than 1"),this.m=Lt,this.prime=null}Bt.prototype._verify1=function(Pt){j(Pt.negative===0,"red works only with positives"),j(Pt.red,"red works only with red numbers")},Bt.prototype._verify2=function(Pt,bt){j((Pt.negative|bt.negative)===0,"red works only with positives"),j(Pt.red&&Pt.red===bt.red,"red works only with red numbers")},Bt.prototype.imod=function(Pt){return this.prime?this.prime.ireduce(Pt)._forceRed(this):Pt.umod(this.m)._forceRed(this)},Bt.prototype.neg=function(Pt){return Pt.isZero()?Pt.clone():this.m.sub(Pt)._forceRed(this)},Bt.prototype.add=function(Pt,bt){this._verify2(Pt,bt);var at=Pt.add(bt);return at.cmp(this.m)>=0&&at.isub(this.m),at._forceRed(this)},Bt.prototype.iadd=function(Pt,bt){this._verify2(Pt,bt);var at=Pt.iadd(bt);return at.cmp(this.m)>=0&&at.isub(this.m),at},Bt.prototype.sub=function(Pt,bt){this._verify2(Pt,bt);var at=Pt.sub(bt);return at.cmpn(0)<0&&at.iadd(this.m),at._forceRed(this)},Bt.prototype.isub=function(Pt,bt){this._verify2(Pt,bt);var at=Pt.isub(bt);return at.cmpn(0)<0&&at.iadd(this.m),at},Bt.prototype.shl=function(Pt,bt){return this._verify1(Pt),this.imod(Pt.ushln(bt))},Bt.prototype.imul=function(Pt,bt){return this._verify2(Pt,bt),this.imod(Pt.imul(bt))},Bt.prototype.mul=function(Pt,bt){return this._verify2(Pt,bt),this.imod(Pt.mul(bt))},Bt.prototype.isqr=function(Pt){return this.imul(Pt,Pt.clone())},Bt.prototype.sqr=function(Pt){return this.mul(Pt,Pt)},Bt.prototype.sqrt=function(Pt){if(Pt.isZero())return Pt.clone();var bt=this.m.andln(3);if(j(bt%2===1),bt===3){var at=this.m.add(new tt(1)).iushrn(2);return this.pow(Pt,at)}for(var dt=this.m.subn(1),vt=0;!dt.isZero()&&dt.andln(1)===0;)vt++,dt.iushrn(1);j(!dt.isZero());var xt=new tt(1).toRed(this),wt=xt.redNeg(),_t=this.m.subn(1).iushrn(1),At=this.m.bitLength();for(At=new tt(2*At*At).toRed(this);this.pow(At,_t).cmp(wt)!==0;)At.redIAdd(wt);for(var Tt=this.pow(At,dt),yt=this.pow(Pt,dt.addn(1).iushrn(1)),It=this.pow(Pt,dt),rr=vt;It.cmp(xt)!==0;){for(var ir=It,nr=0;ir.cmp(xt)!==0;nr++)ir=ir.redSqr();j(nr<rr);var Gt=this.pow(Tt,new tt(1).iushln(rr-nr-1));yt=yt.redMul(Gt),Tt=Gt.redSqr(),It=It.redMul(Tt),rr=nr}return yt},Bt.prototype.invm=function(Pt){var bt=Pt._invmp(this.m);return bt.negative!==0?(bt.negative=0,this.imod(bt).redNeg()):this.imod(bt)},Bt.prototype.pow=function(Pt,bt){if(bt.isZero())return new tt(1).toRed(this);if(bt.cmpn(1)===0)return Pt.clone();var at=4,dt=new Array(1<<at);dt[0]=new tt(1).toRed(this),dt[1]=Pt;for(var vt=2;vt<dt.length;vt++)dt[vt]=this.mul(dt[vt-1],Pt);var xt=dt[0],wt=0,_t=0,At=bt.bitLength()%26;for(At===0&&(At=26),vt=bt.length-1;vt>=0;vt--){for(var Tt=bt.words[vt],yt=At-1;yt>=0;yt--){var It=Tt>>yt&1;if(xt!==dt[0]&&(xt=this.sqr(xt)),It===0&&wt===0){_t=0;continue}wt<<=1,wt|=It,_t++,!(_t!==at&&(vt!==0||yt!==0))&&(xt=this.mul(xt,dt[wt]),_t=0,wt=0)}At=26}return xt},Bt.prototype.convertTo=function(Pt){var bt=Pt.umod(this.m);return bt===Pt?bt.clone():bt},Bt.prototype.convertFrom=function(Pt){var bt=Pt.clone();return bt.red=null,bt},tt.mont=function(Pt){return new Nt(Pt)};function Nt(Lt){Bt.call(this,Lt),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new tt(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}et(Nt,Bt),Nt.prototype.convertTo=function(Pt){return this.imod(Pt.ushln(this.shift))},Nt.prototype.convertFrom=function(Pt){var bt=this.imod(Pt.mul(this.rinv));return bt.red=null,bt},Nt.prototype.imul=function(Pt,bt){if(Pt.isZero()||bt.isZero())return Pt.words[0]=0,Pt.length=1,Pt;var at=Pt.imul(bt),dt=at.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),vt=at.isub(dt).iushrn(this.shift),xt=vt;return vt.cmp(this.m)>=0?xt=vt.isub(this.m):vt.cmpn(0)<0&&(xt=vt.iadd(this.m)),xt._forceRed(this)},Nt.prototype.mul=function(Pt,bt){if(Pt.isZero()||bt.isZero())return new tt(0)._forceRed(this);var at=Pt.mul(bt),dt=at.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),vt=at.isub(dt).iushrn(this.shift),xt=vt;return vt.cmp(this.m)>=0?xt=vt.isub(this.m):vt.cmpn(0)<0&&(xt=vt.iadd(this.m)),xt._forceRed(this)},Nt.prototype.invm=function(Pt){var bt=this.imod(Pt._invmp(this.m).mul(this.r2));return bt._forceRed(this)}})(_,commonjsGlobal)})(bn$3);var bnExports$1=bn$3.exports;const BN$8=getDefaultExportFromCjs$1(bnExports$1);var brorand={exports:{}},hasRequiredBrorand;function requireBrorand(){if(hasRequiredBrorand)return brorand.exports;hasRequiredBrorand=1;var _;brorand.exports=function(et){return _||(_=new a(null)),_.generate(et)};function a(j){this.rand=j}if(brorand.exports.Rand=a,a.prototype.generate=function(et){return this._rand(et)},a.prototype._rand=function(et){if(this.rand.getBytes)return this.rand.getBytes(et);for(var tt=new Uint8Array(et),rt=0;rt<tt.length;rt++)tt[rt]=this.rand.getByte();return tt},typeof self=="object")self.crypto&&self.crypto.getRandomValues?a.prototype._rand=function(et){var tt=new Uint8Array(et);return self.crypto.getRandomValues(tt),tt}:self.msCrypto&&self.msCrypto.getRandomValues?a.prototype._rand=function(et){var tt=new Uint8Array(et);return self.msCrypto.getRandomValues(tt),tt}:typeof window=="object"&&(a.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var $=requireCryptoBrowserify();if(typeof $.randomBytes!="function")throw new Error("Not supported");a.prototype._rand=function(et){return $.randomBytes(et)}}catch{}return brorand.exports}var mr,hasRequiredMr;function requireMr(){if(hasRequiredMr)return mr;hasRequiredMr=1;var _=bnExports$1,a=requireBrorand();function $(j){this.rand=j||new a.Rand}return mr=$,$.create=function(et){return new $(et)},$.prototype._randbelow=function(et){var tt=et.bitLength(),rt=Math.ceil(tt/8);do var nt=new _(this.rand.generate(rt));while(nt.cmp(et)>=0);return nt},$.prototype._randrange=function(et,tt){var rt=tt.sub(et);return et.add(this._randbelow(rt))},$.prototype.test=function(et,tt,rt){var nt=et.bitLength(),it=_.mont(et),ot=new _(1).toRed(it);tt||(tt=Math.max(1,nt/48|0));for(var st=et.subn(1),ct=0;!st.testn(ct);ct++);for(var ut=et.shrn(ct),ht=st.toRed(it),Et=!0;tt>0;tt--){var St=this._randrange(new _(2),st);rt&&rt(St);var Mt=St.toRed(it).redPow(ut);if(!(Mt.cmp(ot)===0||Mt.cmp(ht)===0)){for(var kt=1;kt<ct;kt++){if(Mt=Mt.redSqr(),Mt.cmp(ot)===0)return!1;if(Mt.cmp(ht)===0)break}if(kt===ct)return!1}}return Et},$.prototype.getDivisor=function(et,tt){var rt=et.bitLength(),nt=_.mont(et),it=new _(1).toRed(nt);tt||(tt=Math.max(1,rt/48|0));for(var ot=et.subn(1),st=0;!ot.testn(st);st++);for(var ct=et.shrn(st),ut=ot.toRed(nt);tt>0;tt--){var ht=this._randrange(new _(2),ot),Et=et.gcd(ht);if(Et.cmpn(1)!==0)return Et;var St=ht.toRed(nt).redPow(ct);if(!(St.cmp(it)===0||St.cmp(ut)===0)){for(var Mt=1;Mt<st;Mt++){if(St=St.redSqr(),St.cmp(it)===0)return St.fromRed().subn(1).gcd(et);if(St.cmp(ut)===0)break}if(Mt===st)return St=St.redSqr(),St.fromRed().subn(1).gcd(et)}}return!1},mr}var generatePrime,hasRequiredGeneratePrime;function requireGeneratePrime(){if(hasRequiredGeneratePrime)return generatePrime;hasRequiredGeneratePrime=1;var _=requireBrowser$8();generatePrime=Mt,Mt.simpleSieve=Et,Mt.fermatTest=St;var a=bnExports$1,$=new a(24),j=requireMr(),et=new j,tt=new a(1),rt=new a(2),nt=new a(5);new a(16),new a(8);var it=new a(10),ot=new a(3);new a(7);var st=new a(11),ct=new a(4);new a(12);var ut=null;function ht(){if(ut!==null)return ut;var kt=1048576,Ct=[];Ct[0]=2;for(var Ot=1,zt=3;zt<kt;zt+=2){for(var Ut=Math.ceil(Math.sqrt(zt)),Vt=0;Vt<Ot&&Ct[Vt]<=Ut&&zt%Ct[Vt]!==0;Vt++);Ot!==Vt&&Ct[Vt]<=Ut||(Ct[Ot++]=zt)}return ut=Ct,Ct}function Et(kt){for(var Ct=ht(),Ot=0;Ot<Ct.length;Ot++)if(kt.modn(Ct[Ot])===0)return kt.cmpn(Ct[Ot])===0;return!0}function St(kt){var Ct=a.mont(kt);return rt.toRed(Ct).redPow(kt.subn(1)).fromRed().cmpn(1)===0}function Mt(kt,Ct){if(kt<16)return Ct===2||Ct===5?new a([140,123]):new a([140,39]);Ct=new a(Ct);for(var Ot,zt;;){for(Ot=new a(_(Math.ceil(kt/8)));Ot.bitLength()>kt;)Ot.ishrn(1);if(Ot.isEven()&&Ot.iadd(tt),Ot.testn(1)||Ot.iadd(rt),Ct.cmp(rt)){if(!Ct.cmp(nt))for(;Ot.mod(it).cmp(ot);)Ot.iadd(ct)}else for(;Ot.mod($).cmp(st);)Ot.iadd(ct);if(zt=Ot.shrn(1),Et(zt)&&Et(Ot)&&St(zt)&&St(Ot)&&et.test(zt)&&et.test(Ot))return Ot}}return generatePrime}const modp1={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},modp2={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},modp5={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},modp14={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},modp15={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},modp16={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},modp17={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},modp18={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"},require$$1$2={modp1,modp2,modp5,modp14,modp15,modp16,modp17,modp18};var dh,hasRequiredDh;function requireDh(){if(hasRequiredDh)return dh;hasRequiredDh=1;var _=bnExports$1,a=requireMr(),$=new a,j=new _(24),et=new _(11),tt=new _(10),rt=new _(3),nt=new _(7),it=requireGeneratePrime(),ot=requireBrowser$8();dh=Et;function st(Mt,kt){return kt=kt||"utf8",Buffer$g.isBuffer(Mt)||(Mt=new Buffer$g(Mt,kt)),this._pub=new _(Mt),this}function ct(Mt,kt){return kt=kt||"utf8",Buffer$g.isBuffer(Mt)||(Mt=new Buffer$g(Mt,kt)),this._priv=new _(Mt),this}var ut={};function ht(Mt,kt){var Ct=kt.toString("hex"),Ot=[Ct,Mt.toString(16)].join("_");if(Ot in ut)return ut[Ot];var zt=0;if(Mt.isEven()||!it.simpleSieve||!it.fermatTest(Mt)||!$.test(Mt))return zt+=1,Ct==="02"||Ct==="05"?zt+=8:zt+=4,ut[Ot]=zt,zt;$.test(Mt.shrn(1))||(zt+=2);var Ut;switch(Ct){case"02":Mt.mod(j).cmp(et)&&(zt+=8);break;case"05":Ut=Mt.mod(tt),Ut.cmp(rt)&&Ut.cmp(nt)&&(zt+=8);break;default:zt+=4}return ut[Ot]=zt,zt}function Et(Mt,kt,Ct){this.setGenerator(kt),this.__prime=new _(Mt),this._prime=_.mont(this.__prime),this._primeLen=Mt.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,Ct?(this.setPublicKey=st,this.setPrivateKey=ct):this._primeCode=8}Object.defineProperty(Et.prototype,"verifyError",{enumerable:!0,get:function(){return typeof this._primeCode!="number"&&(this._primeCode=ht(this.__prime,this.__gen)),this._primeCode}}),Et.prototype.generateKeys=function(){return this._priv||(this._priv=new _(ot(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},Et.prototype.computeSecret=function(Mt){Mt=new _(Mt),Mt=Mt.toRed(this._prime);var kt=Mt.redPow(this._priv).fromRed(),Ct=new Buffer$g(kt.toArray()),Ot=this.getPrime();if(Ct.length<Ot.length){var zt=new Buffer$g(Ot.length-Ct.length);zt.fill(0),Ct=Buffer$g.concat([zt,Ct])}return Ct},Et.prototype.getPublicKey=function(kt){return St(this._pub,kt)},Et.prototype.getPrivateKey=function(kt){return St(this._priv,kt)},Et.prototype.getPrime=function(Mt){return St(this.__prime,Mt)},Et.prototype.getGenerator=function(Mt){return St(this._gen,Mt)},Et.prototype.setGenerator=function(Mt,kt){return kt=kt||"utf8",Buffer$g.isBuffer(Mt)||(Mt=new Buffer$g(Mt,kt)),this.__gen=Mt,this._gen=new _(Mt),this};function St(Mt,kt){var Ct=new Buffer$g(Mt.toArray());return kt?Ct.toString(kt):Ct}return dh}var hasRequiredBrowser$4;function requireBrowser$4(){if(hasRequiredBrowser$4)return browser$4;hasRequiredBrowser$4=1;var _=requireGeneratePrime(),a=require$$1$2,$=requireDh();function j(rt){var nt=new Buffer$g(a[rt].prime,"hex"),it=new Buffer$g(a[rt].gen,"hex");return new $(nt,it)}var et={binary:!0,hex:!0,base64:!0};function tt(rt,nt,it,ot){return Buffer$g.isBuffer(nt)||et[nt]===void 0?tt(rt,"binary",nt,it):(nt=nt||"binary",ot=ot||"binary",it=it||new Buffer$g([2]),Buffer$g.isBuffer(it)||(it=new Buffer$g(it,ot)),typeof rt=="number"?new $(_(rt,it),it,!0):(Buffer$g.isBuffer(rt)||(rt=new Buffer$g(rt,nt)),new $(rt,it,!0)))}return browser$4.DiffieHellmanGroup=browser$4.createDiffieHellmanGroup=browser$4.getDiffieHellman=j,browser$4.createDiffieHellman=browser$4.DiffieHellman=tt,browser$4}var readableBrowser={exports:{}},processNextickArgs={exports:{}},hasRequiredProcessNextickArgs;function requireProcessNextickArgs(){if(hasRequiredProcessNextickArgs)return processNextickArgs.exports;hasRequiredProcessNextickArgs=1,typeof process$1$1>"u"||!process$1$1.version||process$1$1.version.indexOf("v0.")===0||process$1$1.version.indexOf("v1.")===0&&process$1$1.version.indexOf("v1.8.")!==0?processNextickArgs.exports={nextTick:_}:processNextickArgs.exports=process$1$1;function _(a,$,j,et){if(typeof a!="function")throw new TypeError('"callback" argument must be a function');var tt=arguments.length,rt,nt;switch(tt){case 0:case 1:return process$1$1.nextTick(a);case 2:return process$1$1.nextTick(function(){a.call(null,$)});case 3:return process$1$1.nextTick(function(){a.call(null,$,j)});case 4:return process$1$1.nextTick(function(){a.call(null,$,j,et)});default:for(rt=new Array(tt-1),nt=0;nt<rt.length;)rt[nt++]=arguments[nt];return process$1$1.nextTick(function(){a.apply(null,rt)})}}return processNextickArgs.exports}var isarray$1,hasRequiredIsarray;function requireIsarray(){if(hasRequiredIsarray)return isarray$1;hasRequiredIsarray=1;var _={}.toString;return isarray$1=Array.isArray||function(a){return _.call(a)=="[object Array]"},isarray$1}var streamBrowser,hasRequiredStreamBrowser;function requireStreamBrowser(){return hasRequiredStreamBrowser||(hasRequiredStreamBrowser=1,streamBrowser=eventsExports.EventEmitter),streamBrowser}var safeBuffer$1={exports:{}},hasRequiredSafeBuffer$1;function requireSafeBuffer$1(){return hasRequiredSafeBuffer$1||(hasRequiredSafeBuffer$1=1,function(_,a){var $=buffer$1,j=$.Buffer;function et(rt,nt){for(var it in rt)nt[it]=rt[it]}j.from&&j.alloc&&j.allocUnsafe&&j.allocUnsafeSlow?_.exports=$:(et($,a),a.Buffer=tt);function tt(rt,nt,it){return j(rt,nt,it)}et(j,tt),tt.from=function(rt,nt,it){if(typeof rt=="number")throw new TypeError("Argument must not be a number");return j(rt,nt,it)},tt.alloc=function(rt,nt,it){if(typeof rt!="number")throw new TypeError("Argument must be a number");var ot=j(rt);return nt!==void 0?typeof it=="string"?ot.fill(nt,it):ot.fill(nt):ot.fill(0),ot},tt.allocUnsafe=function(rt){if(typeof rt!="number")throw new TypeError("Argument must be a number");return j(rt)},tt.allocUnsafeSlow=function(rt){if(typeof rt!="number")throw new TypeError("Argument must be a number");return $.SlowBuffer(rt)}}(safeBuffer$1,safeBuffer$1.exports)),safeBuffer$1.exports}var util$4={},hasRequiredUtil;function requireUtil(){if(hasRequiredUtil)return util$4;hasRequiredUtil=1;function _(St){return Array.isArray?Array.isArray(St):Et(St)==="[object Array]"}util$4.isArray=_;function a(St){return typeof St=="boolean"}util$4.isBoolean=a;function $(St){return St===null}util$4.isNull=$;function j(St){return St==null}util$4.isNullOrUndefined=j;function et(St){return typeof St=="number"}util$4.isNumber=et;function tt(St){return typeof St=="string"}util$4.isString=tt;function rt(St){return typeof St=="symbol"}util$4.isSymbol=rt;function nt(St){return St===void 0}util$4.isUndefined=nt;function it(St){return Et(St)==="[object RegExp]"}util$4.isRegExp=it;function ot(St){return typeof St=="object"&&St!==null}util$4.isObject=ot;function st(St){return Et(St)==="[object Date]"}util$4.isDate=st;function ct(St){return Et(St)==="[object Error]"||St instanceof Error}util$4.isError=ct;function ut(St){return typeof St=="function"}util$4.isFunction=ut;function ht(St){return St===null||typeof St=="boolean"||typeof St=="number"||typeof St=="string"||typeof St=="symbol"||typeof St>"u"}util$4.isPrimitive=ht,util$4.isBuffer=buffer$1.Buffer.isBuffer;function Et(St){return Object.prototype.toString.call(St)}return util$4}var BufferList={exports:{}},hasRequiredBufferList;function requireBufferList(){return hasRequiredBufferList||(hasRequiredBufferList=1,function(_){function a(tt,rt){if(!(tt instanceof rt))throw new TypeError("Cannot call a class as a function")}var $=requireSafeBuffer$1().Buffer,j=util$5;function et(tt,rt,nt){tt.copy(rt,nt)}_.exports=function(){function tt(){a(this,tt),this.head=null,this.tail=null,this.length=0}return tt.prototype.push=function(nt){var it={data:nt,next:null};this.length>0?this.tail.next=it:this.head=it,this.tail=it,++this.length},tt.prototype.unshift=function(nt){var it={data:nt,next:this.head};this.length===0&&(this.tail=it),this.head=it,++this.length},tt.prototype.shift=function(){if(this.length!==0){var nt=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,nt}},tt.prototype.clear=function(){this.head=this.tail=null,this.length=0},tt.prototype.join=function(nt){if(this.length===0)return"";for(var it=this.head,ot=""+it.data;it=it.next;)ot+=nt+it.data;return ot},tt.prototype.concat=function(nt){if(this.length===0)return $.alloc(0);for(var it=$.allocUnsafe(nt>>>0),ot=this.head,st=0;ot;)et(ot.data,it,st),st+=ot.data.length,ot=ot.next;return it},tt}(),j&&j.inspect&&j.inspect.custom&&(_.exports.prototype[j.inspect.custom]=function(){var tt=j.inspect({length:this.length});return this.constructor.name+" "+tt})}(BufferList)),BufferList.exports}var destroy_1,hasRequiredDestroy;function requireDestroy(){if(hasRequiredDestroy)return destroy_1;hasRequiredDestroy=1;var _=requireProcessNextickArgs();function a(et,tt){var rt=this,nt=this._readableState&&this._readableState.destroyed,it=this._writableState&&this._writableState.destroyed;return nt||it?(tt?tt(et):et&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,_.nextTick(j,this,et)):_.nextTick(j,this,et)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(et||null,function(ot){!tt&&ot?rt._writableState?rt._writableState.errorEmitted||(rt._writableState.errorEmitted=!0,_.nextTick(j,rt,ot)):_.nextTick(j,rt,ot):tt&&tt(ot)}),this)}function $(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function j(et,tt){et.emit("error",tt)}return destroy_1={destroy:a,undestroy:$},destroy_1}var _stream_writable,hasRequired_stream_writable;function require_stream_writable(){if(hasRequired_stream_writable)return _stream_writable;hasRequired_stream_writable=1;var _=requireProcessNextickArgs();_stream_writable=St;function a(xt){var wt=this;this.next=null,this.entry=null,this.finish=function(){vt(wt,xt)}}var $=!process$1$1.browser&&["v0.10","v0.9."].indexOf(process$1$1.version.slice(0,5))>-1?setImmediate:_.nextTick,j;St.WritableState=ht;var et=Object.create(requireUtil());et.inherits=inherits_browserExports;var tt={deprecate:browser$c},rt=requireStreamBrowser(),nt=requireSafeBuffer$1().Buffer,it=(typeof commonjsGlobal<"u"?commonjsGlobal:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function ot(xt){return nt.from(xt)}function st(xt){return nt.isBuffer(xt)||xt instanceof it}var ct=requireDestroy();et.inherits(St,rt);function ut(){}function ht(xt,wt){j=j||require_stream_duplex(),xt=xt||{};var _t=wt instanceof j;this.objectMode=!!xt.objectMode,_t&&(this.objectMode=this.objectMode||!!xt.writableObjectMode);var At=xt.highWaterMark,Tt=xt.writableHighWaterMark,yt=this.objectMode?16:16*1024;At||At===0?this.highWaterMark=At:_t&&(Tt||Tt===0)?this.highWaterMark=Tt:this.highWaterMark=yt,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var It=xt.decodeStrings===!1;this.decodeStrings=!It,this.defaultEncoding=xt.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(rr){jt(wt,rr)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new a(this)}ht.prototype.getBuffer=function(){for(var wt=this.bufferedRequest,_t=[];wt;)_t.push(wt),wt=wt.next;return _t},function(){try{Object.defineProperty(ht.prototype,"buffer",{get:tt.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var Et;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(Et=Function.prototype[Symbol.hasInstance],Object.defineProperty(St,Symbol.hasInstance,{value:function(xt){return Et.call(this,xt)?!0:this!==St?!1:xt&&xt._writableState instanceof ht}})):Et=function(xt){return xt instanceof this};function St(xt){if(j=j||require_stream_duplex(),!Et.call(St,this)&&!(this instanceof j))return new St(xt);this._writableState=new ht(xt,this),this.writable=!0,xt&&(typeof xt.write=="function"&&(this._write=xt.write),typeof xt.writev=="function"&&(this._writev=xt.writev),typeof xt.destroy=="function"&&(this._destroy=xt.destroy),typeof xt.final=="function"&&(this._final=xt.final)),rt.call(this)}St.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))};function Mt(xt,wt){var _t=new Error("write after end");xt.emit("error",_t),_.nextTick(wt,_t)}function kt(xt,wt,_t,At){var Tt=!0,yt=!1;return _t===null?yt=new TypeError("May not write null values to stream"):typeof _t!="string"&&_t!==void 0&&!wt.objectMode&&(yt=new TypeError("Invalid non-string/buffer chunk")),yt&&(xt.emit("error",yt),_.nextTick(At,yt),Tt=!1),Tt}St.prototype.write=function(xt,wt,_t){var At=this._writableState,Tt=!1,yt=!At.objectMode&&st(xt);return yt&&!nt.isBuffer(xt)&&(xt=ot(xt)),typeof wt=="function"&&(_t=wt,wt=null),yt?wt="buffer":wt||(wt=At.defaultEncoding),typeof _t!="function"&&(_t=ut),At.ended?Mt(this,_t):(yt||kt(this,At,xt,_t))&&(At.pendingcb++,Tt=Ot(this,At,yt,xt,wt,_t)),Tt},St.prototype.cork=function(){var xt=this._writableState;xt.corked++},St.prototype.uncork=function(){var xt=this._writableState;xt.corked&&(xt.corked--,!xt.writing&&!xt.corked&&!xt.bufferProcessing&&xt.bufferedRequest&&Nt(this,xt))},St.prototype.setDefaultEncoding=function(wt){if(typeof wt=="string"&&(wt=wt.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((wt+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+wt);return this._writableState.defaultEncoding=wt,this};function Ct(xt,wt,_t){return!xt.objectMode&&xt.decodeStrings!==!1&&typeof wt=="string"&&(wt=nt.from(wt,_t)),wt}Object.defineProperty(St.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function Ot(xt,wt,_t,At,Tt,yt){if(!_t){var It=Ct(wt,At,Tt);At!==It&&(_t=!0,Tt="buffer",At=It)}var rr=wt.objectMode?1:At.length;wt.length+=rr;var ir=wt.length<wt.highWaterMark;if(ir||(wt.needDrain=!0),wt.writing||wt.corked){var nr=wt.lastBufferedRequest;wt.lastBufferedRequest={chunk:At,encoding:Tt,isBuf:_t,callback:yt,next:null},nr?nr.next=wt.lastBufferedRequest:wt.bufferedRequest=wt.lastBufferedRequest,wt.bufferedRequestCount+=1}else zt(xt,wt,!1,rr,At,Tt,yt);return ir}function zt(xt,wt,_t,At,Tt,yt,It){wt.writelen=At,wt.writecb=It,wt.writing=!0,wt.sync=!0,_t?xt._writev(Tt,wt.onwrite):xt._write(Tt,yt,wt.onwrite),wt.sync=!1}function Ut(xt,wt,_t,At,Tt){--wt.pendingcb,_t?(_.nextTick(Tt,At),_.nextTick(at,xt,wt),xt._writableState.errorEmitted=!0,xt.emit("error",At)):(Tt(At),xt._writableState.errorEmitted=!0,xt.emit("error",At),at(xt,wt))}function Vt(xt){xt.writing=!1,xt.writecb=null,xt.length-=xt.writelen,xt.writelen=0}function jt(xt,wt){var _t=xt._writableState,At=_t.sync,Tt=_t.writecb;if(Vt(_t),wt)Ut(xt,_t,At,wt,Tt);else{var yt=Lt(_t);!yt&&!_t.corked&&!_t.bufferProcessing&&_t.bufferedRequest&&Nt(xt,_t),At?$($t,xt,_t,yt,Tt):$t(xt,_t,yt,Tt)}}function $t(xt,wt,_t,At){_t||Bt(xt,wt),wt.pendingcb--,At(),at(xt,wt)}function Bt(xt,wt){wt.length===0&&wt.needDrain&&(wt.needDrain=!1,xt.emit("drain"))}function Nt(xt,wt){wt.bufferProcessing=!0;var _t=wt.bufferedRequest;if(xt._writev&&_t&&_t.next){var At=wt.bufferedRequestCount,Tt=new Array(At),yt=wt.corkedRequestsFree;yt.entry=_t;for(var It=0,rr=!0;_t;)Tt[It]=_t,_t.isBuf||(rr=!1),_t=_t.next,It+=1;Tt.allBuffers=rr,zt(xt,wt,!0,wt.length,Tt,"",yt.finish),wt.pendingcb++,wt.lastBufferedRequest=null,yt.next?(wt.corkedRequestsFree=yt.next,yt.next=null):wt.corkedRequestsFree=new a(wt),wt.bufferedRequestCount=0}else{for(;_t;){var ir=_t.chunk,nr=_t.encoding,Gt=_t.callback,qt=wt.objectMode?1:ir.length;if(zt(xt,wt,!1,qt,ir,nr,Gt),_t=_t.next,wt.bufferedRequestCount--,wt.writing)break}_t===null&&(wt.lastBufferedRequest=null)}wt.bufferedRequest=_t,wt.bufferProcessing=!1}St.prototype._write=function(xt,wt,_t){_t(new Error("_write() is not implemented"))},St.prototype._writev=null,St.prototype.end=function(xt,wt,_t){var At=this._writableState;typeof xt=="function"?(_t=xt,xt=null,wt=null):typeof wt=="function"&&(_t=wt,wt=null),xt!=null&&this.write(xt,wt),At.corked&&(At.corked=1,this.uncork()),At.ending||dt(this,At,_t)};function Lt(xt){return xt.ending&&xt.length===0&&xt.bufferedRequest===null&&!xt.finished&&!xt.writing}function Pt(xt,wt){xt._final(function(_t){wt.pendingcb--,_t&&xt.emit("error",_t),wt.prefinished=!0,xt.emit("prefinish"),at(xt,wt)})}function bt(xt,wt){!wt.prefinished&&!wt.finalCalled&&(typeof xt._final=="function"?(wt.pendingcb++,wt.finalCalled=!0,_.nextTick(Pt,xt,wt)):(wt.prefinished=!0,xt.emit("prefinish")))}function at(xt,wt){var _t=Lt(wt);return _t&&(bt(xt,wt),wt.pendingcb===0&&(wt.finished=!0,xt.emit("finish"))),_t}function dt(xt,wt,_t){wt.ending=!0,at(xt,wt),_t&&(wt.finished?_.nextTick(_t):xt.once("finish",_t)),wt.ended=!0,xt.writable=!1}function vt(xt,wt,_t){var At=xt.entry;for(xt.entry=null;At;){var Tt=At.callback;wt.pendingcb--,Tt(_t),At=At.next}wt.corkedRequestsFree.next=xt}return Object.defineProperty(St.prototype,"destroyed",{get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(xt){this._writableState&&(this._writableState.destroyed=xt)}}),St.prototype.destroy=ct.destroy,St.prototype._undestroy=ct.undestroy,St.prototype._destroy=function(xt,wt){this.end(),wt(xt)},_stream_writable}var _stream_duplex,hasRequired_stream_duplex;function require_stream_duplex(){if(hasRequired_stream_duplex)return _stream_duplex;hasRequired_stream_duplex=1;var _=requireProcessNextickArgs(),a=Object.keys||function(ct){var ut=[];for(var ht in ct)ut.push(ht);return ut};_stream_duplex=it;var $=Object.create(requireUtil());$.inherits=inherits_browserExports;var j=require_stream_readable(),et=require_stream_writable();$.inherits(it,j);for(var tt=a(et.prototype),rt=0;rt<tt.length;rt++){var nt=tt[rt];it.prototype[nt]||(it.prototype[nt]=et.prototype[nt])}function it(ct){if(!(this instanceof it))return new it(ct);j.call(this,ct),et.call(this,ct),ct&&ct.readable===!1&&(this.readable=!1),ct&&ct.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,ct&&ct.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",ot)}Object.defineProperty(it.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function ot(){this.allowHalfOpen||this._writableState.ended||_.nextTick(st,this)}function st(ct){ct.end()}return Object.defineProperty(it.prototype,"destroyed",{get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(ct){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=ct,this._writableState.destroyed=ct)}}),it.prototype._destroy=function(ct,ut){this.push(null),this.end(),_.nextTick(ut,ct)},_stream_duplex}var string_decoder={},safeBuffer={exports:{}},hasRequiredSafeBuffer;function requireSafeBuffer(){return hasRequiredSafeBuffer||(hasRequiredSafeBuffer=1,function(_,a){var $=buffer$1,j=$.Buffer;function et(rt,nt){for(var it in rt)nt[it]=rt[it]}j.from&&j.alloc&&j.allocUnsafe&&j.allocUnsafeSlow?_.exports=$:(et($,a),a.Buffer=tt);function tt(rt,nt,it){return j(rt,nt,it)}et(j,tt),tt.from=function(rt,nt,it){if(typeof rt=="number")throw new TypeError("Argument must not be a number");return j(rt,nt,it)},tt.alloc=function(rt,nt,it){if(typeof rt!="number")throw new TypeError("Argument must be a number");var ot=j(rt);return nt!==void 0?typeof it=="string"?ot.fill(nt,it):ot.fill(nt):ot.fill(0),ot},tt.allocUnsafe=function(rt){if(typeof rt!="number")throw new TypeError("Argument must be a number");return j(rt)},tt.allocUnsafeSlow=function(rt){if(typeof rt!="number")throw new TypeError("Argument must be a number");return $.SlowBuffer(rt)}}(safeBuffer,safeBuffer.exports)),safeBuffer.exports}var hasRequiredString_decoder;function requireString_decoder(){if(hasRequiredString_decoder)return string_decoder;hasRequiredString_decoder=1;var _=requireSafeBuffer().Buffer,a=_.isEncoding||function(kt){switch(kt=""+kt,kt&&kt.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function $(kt){if(!kt)return"utf8";for(var Ct;;)switch(kt){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return kt;default:if(Ct)return;kt=(""+kt).toLowerCase(),Ct=!0}}function j(kt){var Ct=$(kt);if(typeof Ct!="string"&&(_.isEncoding===a||!a(kt)))throw new Error("Unknown encoding: "+kt);return Ct||kt}string_decoder.StringDecoder=et;function et(kt){this.encoding=j(kt);var Ct;switch(this.encoding){case"utf16le":this.text=ct,this.end=ut,Ct=4;break;case"utf8":this.fillLast=it,Ct=4;break;case"base64":this.text=ht,this.end=Et,Ct=3;break;default:this.write=St,this.end=Mt;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=_.allocUnsafe(Ct)}et.prototype.write=function(kt){if(kt.length===0)return"";var Ct,Ot;if(this.lastNeed){if(Ct=this.fillLast(kt),Ct===void 0)return"";Ot=this.lastNeed,this.lastNeed=0}else Ot=0;return Ot<kt.length?Ct?Ct+this.text(kt,Ot):this.text(kt,Ot):Ct||""},et.prototype.end=st,et.prototype.text=ot,et.prototype.fillLast=function(kt){if(this.lastNeed<=kt.length)return kt.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);kt.copy(this.lastChar,this.lastTotal-this.lastNeed,0,kt.length),this.lastNeed-=kt.length};function tt(kt){return kt<=127?0:kt>>5===6?2:kt>>4===14?3:kt>>3===30?4:kt>>6===2?-1:-2}function rt(kt,Ct,Ot){var zt=Ct.length-1;if(zt<Ot)return 0;var Ut=tt(Ct[zt]);return Ut>=0?(Ut>0&&(kt.lastNeed=Ut-1),Ut):--zt<Ot||Ut===-2?0:(Ut=tt(Ct[zt]),Ut>=0?(Ut>0&&(kt.lastNeed=Ut-2),Ut):--zt<Ot||Ut===-2?0:(Ut=tt(Ct[zt]),Ut>=0?(Ut>0&&(Ut===2?Ut=0:kt.lastNeed=Ut-3),Ut):0))}function nt(kt,Ct,Ot){if((Ct[0]&192)!==128)return kt.lastNeed=0,"�";if(kt.lastNeed>1&&Ct.length>1){if((Ct[1]&192)!==128)return kt.lastNeed=1,"�";if(kt.lastNeed>2&&Ct.length>2&&(Ct[2]&192)!==128)return kt.lastNeed=2,"�"}}function it(kt){var Ct=this.lastTotal-this.lastNeed,Ot=nt(this,kt);if(Ot!==void 0)return Ot;if(this.lastNeed<=kt.length)return kt.copy(this.lastChar,Ct,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);kt.copy(this.lastChar,Ct,0,kt.length),this.lastNeed-=kt.length}function ot(kt,Ct){var Ot=rt(this,kt,Ct);if(!this.lastNeed)return kt.toString("utf8",Ct);this.lastTotal=Ot;var zt=kt.length-(Ot-this.lastNeed);return kt.copy(this.lastChar,0,zt),kt.toString("utf8",Ct,zt)}function st(kt){var Ct=kt&&kt.length?this.write(kt):"";return this.lastNeed?Ct+"�":Ct}function ct(kt,Ct){if((kt.length-Ct)%2===0){var Ot=kt.toString("utf16le",Ct);if(Ot){var zt=Ot.charCodeAt(Ot.length-1);if(zt>=55296&&zt<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=kt[kt.length-2],this.lastChar[1]=kt[kt.length-1],Ot.slice(0,-1)}return Ot}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=kt[kt.length-1],kt.toString("utf16le",Ct,kt.length-1)}function ut(kt){var Ct=kt&&kt.length?this.write(kt):"";if(this.lastNeed){var Ot=this.lastTotal-this.lastNeed;return Ct+this.lastChar.toString("utf16le",0,Ot)}return Ct}function ht(kt,Ct){var Ot=(kt.length-Ct)%3;return Ot===0?kt.toString("base64",Ct):(this.lastNeed=3-Ot,this.lastTotal=3,Ot===1?this.lastChar[0]=kt[kt.length-1]:(this.lastChar[0]=kt[kt.length-2],this.lastChar[1]=kt[kt.length-1]),kt.toString("base64",Ct,kt.length-Ot))}function Et(kt){var Ct=kt&&kt.length?this.write(kt):"";return this.lastNeed?Ct+this.lastChar.toString("base64",0,3-this.lastNeed):Ct}function St(kt){return kt.toString(this.encoding)}function Mt(kt){return kt&&kt.length?this.write(kt):""}return string_decoder}var _stream_readable,hasRequired_stream_readable;function require_stream_readable(){if(hasRequired_stream_readable)return _stream_readable;hasRequired_stream_readable=1;var _=requireProcessNextickArgs();_stream_readable=Ct;var a=requireIsarray(),$;Ct.ReadableState=kt,eventsExports.EventEmitter;var j=function(Gt,qt){return Gt.listeners(qt).length},et=requireStreamBrowser(),tt=requireSafeBuffer$1().Buffer,rt=(typeof commonjsGlobal<"u"?commonjsGlobal:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function nt(Gt){return tt.from(Gt)}function it(Gt){return tt.isBuffer(Gt)||Gt instanceof rt}var ot=Object.create(requireUtil());ot.inherits=inherits_browserExports;var st=util$5,ct=void 0;st&&st.debuglog?ct=st.debuglog("stream"):ct=function(){};var ut=requireBufferList(),ht=requireDestroy(),Et;ot.inherits(Ct,et);var St=["error","close","destroy","pause","resume"];function Mt(Gt,qt,Jt){if(typeof Gt.prependListener=="function")return Gt.prependListener(qt,Jt);!Gt._events||!Gt._events[qt]?Gt.on(qt,Jt):a(Gt._events[qt])?Gt._events[qt].unshift(Jt):Gt._events[qt]=[Jt,Gt._events[qt]]}function kt(Gt,qt){$=$||require_stream_duplex(),Gt=Gt||{};var Jt=qt instanceof $;this.objectMode=!!Gt.objectMode,Jt&&(this.objectMode=this.objectMode||!!Gt.readableObjectMode);var Ft=Gt.highWaterMark,Kt=Gt.readableHighWaterMark,Qt=this.objectMode?16:16*1024;Ft||Ft===0?this.highWaterMark=Ft:Jt&&(Kt||Kt===0)?this.highWaterMark=Kt:this.highWaterMark=Qt,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new ut,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=Gt.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,Gt.encoding&&(Et||(Et=requireString_decoder().StringDecoder),this.decoder=new Et(Gt.encoding),this.encoding=Gt.encoding)}function Ct(Gt){if($=$||require_stream_duplex(),!(this instanceof Ct))return new Ct(Gt);this._readableState=new kt(Gt,this),this.readable=!0,Gt&&(typeof Gt.read=="function"&&(this._read=Gt.read),typeof Gt.destroy=="function"&&(this._destroy=Gt.destroy)),et.call(this)}Object.defineProperty(Ct.prototype,"destroyed",{get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(Gt){this._readableState&&(this._readableState.destroyed=Gt)}}),Ct.prototype.destroy=ht.destroy,Ct.prototype._undestroy=ht.undestroy,Ct.prototype._destroy=function(Gt,qt){this.push(null),qt(Gt)},Ct.prototype.push=function(Gt,qt){var Jt=this._readableState,Ft;return Jt.objectMode?Ft=!0:typeof Gt=="string"&&(qt=qt||Jt.defaultEncoding,qt!==Jt.encoding&&(Gt=tt.from(Gt,qt),qt=""),Ft=!0),Ot(this,Gt,qt,!1,Ft)},Ct.prototype.unshift=function(Gt){return Ot(this,Gt,null,!0,!1)};function Ot(Gt,qt,Jt,Ft,Kt){var Qt=Gt._readableState;if(qt===null)Qt.reading=!1,Nt(Gt,Qt);else{var dr;Kt||(dr=Ut(Qt,qt)),dr?Gt.emit("error",dr):Qt.objectMode||qt&&qt.length>0?(typeof qt!="string"&&!Qt.objectMode&&Object.getPrototypeOf(qt)!==tt.prototype&&(qt=nt(qt)),Ft?Qt.endEmitted?Gt.emit("error",new Error("stream.unshift() after end event")):zt(Gt,Qt,qt,!0):Qt.ended?Gt.emit("error",new Error("stream.push() after EOF")):(Qt.reading=!1,Qt.decoder&&!Jt?(qt=Qt.decoder.write(qt),Qt.objectMode||qt.length!==0?zt(Gt,Qt,qt,!1):bt(Gt,Qt)):zt(Gt,Qt,qt,!1))):Ft||(Qt.reading=!1)}return Vt(Qt)}function zt(Gt,qt,Jt,Ft){qt.flowing&&qt.length===0&&!qt.sync?(Gt.emit("data",Jt),Gt.read(0)):(qt.length+=qt.objectMode?1:Jt.length,Ft?qt.buffer.unshift(Jt):qt.buffer.push(Jt),qt.needReadable&&Lt(Gt)),bt(Gt,qt)}function Ut(Gt,qt){var Jt;return!it(qt)&&typeof qt!="string"&&qt!==void 0&&!Gt.objectMode&&(Jt=new TypeError("Invalid non-string/buffer chunk")),Jt}function Vt(Gt){return!Gt.ended&&(Gt.needReadable||Gt.length<Gt.highWaterMark||Gt.length===0)}Ct.prototype.isPaused=function(){return this._readableState.flowing===!1},Ct.prototype.setEncoding=function(Gt){return Et||(Et=requireString_decoder().StringDecoder),this._readableState.decoder=new Et(Gt),this._readableState.encoding=Gt,this};var jt=8388608;function $t(Gt){return Gt>=jt?Gt=jt:(Gt--,Gt|=Gt>>>1,Gt|=Gt>>>2,Gt|=Gt>>>4,Gt|=Gt>>>8,Gt|=Gt>>>16,Gt++),Gt}function Bt(Gt,qt){return Gt<=0||qt.length===0&&qt.ended?0:qt.objectMode?1:Gt!==Gt?qt.flowing&&qt.length?qt.buffer.head.data.length:qt.length:(Gt>qt.highWaterMark&&(qt.highWaterMark=$t(Gt)),Gt<=qt.length?Gt:qt.ended?qt.length:(qt.needReadable=!0,0))}Ct.prototype.read=function(Gt){ct("read",Gt),Gt=parseInt(Gt,10);var qt=this._readableState,Jt=Gt;if(Gt!==0&&(qt.emittedReadable=!1),Gt===0&&qt.needReadable&&(qt.length>=qt.highWaterMark||qt.ended))return ct("read: emitReadable",qt.length,qt.ended),qt.length===0&&qt.ended?rr(this):Lt(this),null;if(Gt=Bt(Gt,qt),Gt===0&&qt.ended)return qt.length===0&&rr(this),null;var Ft=qt.needReadable;ct("need readable",Ft),(qt.length===0||qt.length-Gt<qt.highWaterMark)&&(Ft=!0,ct("length less than watermark",Ft)),qt.ended||qt.reading?(Ft=!1,ct("reading or ended",Ft)):Ft&&(ct("do read"),qt.reading=!0,qt.sync=!0,qt.length===0&&(qt.needReadable=!0),this._read(qt.highWaterMark),qt.sync=!1,qt.reading||(Gt=Bt(Jt,qt)));var Kt;return Gt>0?Kt=At(Gt,qt):Kt=null,Kt===null?(qt.needReadable=!0,Gt=0):qt.length-=Gt,qt.length===0&&(qt.ended||(qt.needReadable=!0),Jt!==Gt&&qt.ended&&rr(this)),Kt!==null&&this.emit("data",Kt),Kt};function Nt(Gt,qt){if(!qt.ended){if(qt.decoder){var Jt=qt.decoder.end();Jt&&Jt.length&&(qt.buffer.push(Jt),qt.length+=qt.objectMode?1:Jt.length)}qt.ended=!0,Lt(Gt)}}function Lt(Gt){var qt=Gt._readableState;qt.needReadable=!1,qt.emittedReadable||(ct("emitReadable",qt.flowing),qt.emittedReadable=!0,qt.sync?_.nextTick(Pt,Gt):Pt(Gt))}function Pt(Gt){ct("emit readable"),Gt.emit("readable"),_t(Gt)}function bt(Gt,qt){qt.readingMore||(qt.readingMore=!0,_.nextTick(at,Gt,qt))}function at(Gt,qt){for(var Jt=qt.length;!qt.reading&&!qt.flowing&&!qt.ended&&qt.length<qt.highWaterMark&&(ct("maybeReadMore read 0"),Gt.read(0),Jt!==qt.length);)Jt=qt.length;qt.readingMore=!1}Ct.prototype._read=function(Gt){this.emit("error",new Error("_read() is not implemented"))},Ct.prototype.pipe=function(Gt,qt){var Jt=this,Ft=this._readableState;switch(Ft.pipesCount){case 0:Ft.pipes=Gt;break;case 1:Ft.pipes=[Ft.pipes,Gt];break;default:Ft.pipes.push(Gt);break}Ft.pipesCount+=1,ct("pipe count=%d opts=%j",Ft.pipesCount,qt);var Kt=(!qt||qt.end!==!1)&&Gt!==process$1$1.stdout&&Gt!==process$1$1.stderr,Qt=Kt?xr:Sr;Ft.endEmitted?_.nextTick(Qt):Jt.once("end",Qt),Gt.on("unpipe",dr);function dr($r,jr){ct("onunpipe"),$r===Jt&&jr&&jr.hasUnpiped===!1&&(jr.hasUnpiped=!0,Cr())}function xr(){ct("onend"),Gt.end()}var pr=dt(Jt);Gt.on("drain",pr);var Ir=!1;function Cr(){ct("cleanup"),Gt.removeListener("close",Ar),Gt.removeListener("finish",kr),Gt.removeListener("drain",pr),Gt.removeListener("error",Er),Gt.removeListener("unpipe",dr),Jt.removeListener("end",xr),Jt.removeListener("end",Sr),Jt.removeListener("data",fr),Ir=!0,Ft.awaitDrain&&(!Gt._writableState||Gt._writableState.needDrain)&&pr()}var lr=!1;Jt.on("data",fr);function fr($r){ct("ondata"),lr=!1;var jr=Gt.write($r);jr===!1&&!lr&&((Ft.pipesCount===1&&Ft.pipes===Gt||Ft.pipesCount>1&&nr(Ft.pipes,Gt)!==-1)&&!Ir&&(ct("false write response, pause",Ft.awaitDrain),Ft.awaitDrain++,lr=!0),Jt.pause())}function Er($r){ct("onerror",$r),Sr(),Gt.removeListener("error",Er),j(Gt,"error")===0&&Gt.emit("error",$r)}Mt(Gt,"error",Er);function Ar(){Gt.removeListener("finish",kr),Sr()}Gt.once("close",Ar);function kr(){ct("onfinish"),Gt.removeListener("close",Ar),Sr()}Gt.once("finish",kr);function Sr(){ct("unpipe"),Jt.unpipe(Gt)}return Gt.emit("pipe",Jt),Ft.flowing||(ct("pipe resume"),Jt.resume()),Gt};function dt(Gt){return function(){var qt=Gt._readableState;ct("pipeOnDrain",qt.awaitDrain),qt.awaitDrain&&qt.awaitDrain--,qt.awaitDrain===0&&j(Gt,"data")&&(qt.flowing=!0,_t(Gt))}}Ct.prototype.unpipe=function(Gt){var qt=this._readableState,Jt={hasUnpiped:!1};if(qt.pipesCount===0)return this;if(qt.pipesCount===1)return Gt&&Gt!==qt.pipes?this:(Gt||(Gt=qt.pipes),qt.pipes=null,qt.pipesCount=0,qt.flowing=!1,Gt&&Gt.emit("unpipe",this,Jt),this);if(!Gt){var Ft=qt.pipes,Kt=qt.pipesCount;qt.pipes=null,qt.pipesCount=0,qt.flowing=!1;for(var Qt=0;Qt<Kt;Qt++)Ft[Qt].emit("unpipe",this,{hasUnpiped:!1});return this}var dr=nr(qt.pipes,Gt);return dr===-1?this:(qt.pipes.splice(dr,1),qt.pipesCount-=1,qt.pipesCount===1&&(qt.pipes=qt.pipes[0]),Gt.emit("unpipe",this,Jt),this)},Ct.prototype.on=function(Gt,qt){var Jt=et.prototype.on.call(this,Gt,qt);if(Gt==="data")this._readableState.flowing!==!1&&this.resume();else if(Gt==="readable"){var Ft=this._readableState;!Ft.endEmitted&&!Ft.readableListening&&(Ft.readableListening=Ft.needReadable=!0,Ft.emittedReadable=!1,Ft.reading?Ft.length&&Lt(this):_.nextTick(vt,this))}return Jt},Ct.prototype.addListener=Ct.prototype.on;function vt(Gt){ct("readable nexttick read 0"),Gt.read(0)}Ct.prototype.resume=function(){var Gt=this._readableState;return Gt.flowing||(ct("resume"),Gt.flowing=!0,xt(this,Gt)),this};function xt(Gt,qt){qt.resumeScheduled||(qt.resumeScheduled=!0,_.nextTick(wt,Gt,qt))}function wt(Gt,qt){qt.reading||(ct("resume read 0"),Gt.read(0)),qt.resumeScheduled=!1,qt.awaitDrain=0,Gt.emit("resume"),_t(Gt),qt.flowing&&!qt.reading&&Gt.read(0)}Ct.prototype.pause=function(){return ct("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(ct("pause"),this._readableState.flowing=!1,this.emit("pause")),this};function _t(Gt){var qt=Gt._readableState;for(ct("flow",qt.flowing);qt.flowing&&Gt.read()!==null;);}Ct.prototype.wrap=function(Gt){var qt=this,Jt=this._readableState,Ft=!1;Gt.on("end",function(){if(ct("wrapped end"),Jt.decoder&&!Jt.ended){var dr=Jt.decoder.end();dr&&dr.length&&qt.push(dr)}qt.push(null)}),Gt.on("data",function(dr){if(ct("wrapped data"),Jt.decoder&&(dr=Jt.decoder.write(dr)),!(Jt.objectMode&&dr==null)&&!(!Jt.objectMode&&(!dr||!dr.length))){var xr=qt.push(dr);xr||(Ft=!0,Gt.pause())}});for(var Kt in Gt)this[Kt]===void 0&&typeof Gt[Kt]=="function"&&(this[Kt]=function(dr){return function(){return Gt[dr].apply(Gt,arguments)}}(Kt));for(var Qt=0;Qt<St.length;Qt++)Gt.on(St[Qt],this.emit.bind(this,St[Qt]));return this._read=function(dr){ct("wrapped _read",dr),Ft&&(Ft=!1,Gt.resume())},this},Object.defineProperty(Ct.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Ct._fromList=At;function At(Gt,qt){if(qt.length===0)return null;var Jt;return qt.objectMode?Jt=qt.buffer.shift():!Gt||Gt>=qt.length?(qt.decoder?Jt=qt.buffer.join(""):qt.buffer.length===1?Jt=qt.buffer.head.data:Jt=qt.buffer.concat(qt.length),qt.buffer.clear()):Jt=Tt(Gt,qt.buffer,qt.decoder),Jt}function Tt(Gt,qt,Jt){var Ft;return Gt<qt.head.data.length?(Ft=qt.head.data.slice(0,Gt),qt.head.data=qt.head.data.slice(Gt)):Gt===qt.head.data.length?Ft=qt.shift():Ft=Jt?yt(Gt,qt):It(Gt,qt),Ft}function yt(Gt,qt){var Jt=qt.head,Ft=1,Kt=Jt.data;for(Gt-=Kt.length;Jt=Jt.next;){var Qt=Jt.data,dr=Gt>Qt.length?Qt.length:Gt;if(dr===Qt.length?Kt+=Qt:Kt+=Qt.slice(0,Gt),Gt-=dr,Gt===0){dr===Qt.length?(++Ft,Jt.next?qt.head=Jt.next:qt.head=qt.tail=null):(qt.head=Jt,Jt.data=Qt.slice(dr));break}++Ft}return qt.length-=Ft,Kt}function It(Gt,qt){var Jt=tt.allocUnsafe(Gt),Ft=qt.head,Kt=1;for(Ft.data.copy(Jt),Gt-=Ft.data.length;Ft=Ft.next;){var Qt=Ft.data,dr=Gt>Qt.length?Qt.length:Gt;if(Qt.copy(Jt,Jt.length-Gt,0,dr),Gt-=dr,Gt===0){dr===Qt.length?(++Kt,Ft.next?qt.head=Ft.next:qt.head=qt.tail=null):(qt.head=Ft,Ft.data=Qt.slice(dr));break}++Kt}return qt.length-=Kt,Jt}function rr(Gt){var qt=Gt._readableState;if(qt.length>0)throw new Error('"endReadable()" called on non-empty stream');qt.endEmitted||(qt.ended=!0,_.nextTick(ir,qt,Gt))}function ir(Gt,qt){!Gt.endEmitted&&Gt.length===0&&(Gt.endEmitted=!0,qt.readable=!1,qt.emit("end"))}function nr(Gt,qt){for(var Jt=0,Ft=Gt.length;Jt<Ft;Jt++)if(Gt[Jt]===qt)return Jt;return-1}return _stream_readable}var _stream_transform,hasRequired_stream_transform;function require_stream_transform(){if(hasRequired_stream_transform)return _stream_transform;hasRequired_stream_transform=1,_stream_transform=j;var _=require_stream_duplex(),a=Object.create(requireUtil());a.inherits=inherits_browserExports,a.inherits(j,_);function $(rt,nt){var it=this._transformState;it.transforming=!1;var ot=it.writecb;if(!ot)return this.emit("error",new Error("write callback called multiple times"));it.writechunk=null,it.writecb=null,nt!=null&&this.push(nt),ot(rt);var st=this._readableState;st.reading=!1,(st.needReadable||st.length<st.highWaterMark)&&this._read(st.highWaterMark)}function j(rt){if(!(this instanceof j))return new j(rt);_.call(this,rt),this._transformState={afterTransform:$.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,rt&&(typeof rt.transform=="function"&&(this._transform=rt.transform),typeof rt.flush=="function"&&(this._flush=rt.flush)),this.on("prefinish",et)}function et(){var rt=this;typeof this._flush=="function"?this._flush(function(nt,it){tt(rt,nt,it)}):tt(this,null,null)}j.prototype.push=function(rt,nt){return this._transformState.needTransform=!1,_.prototype.push.call(this,rt,nt)},j.prototype._transform=function(rt,nt,it){throw new Error("_transform() is not implemented")},j.prototype._write=function(rt,nt,it){var ot=this._transformState;if(ot.writecb=it,ot.writechunk=rt,ot.writeencoding=nt,!ot.transforming){var st=this._readableState;(ot.needTransform||st.needReadable||st.length<st.highWaterMark)&&this._read(st.highWaterMark)}},j.prototype._read=function(rt){var nt=this._transformState;nt.writechunk!==null&&nt.writecb&&!nt.transforming?(nt.transforming=!0,this._transform(nt.writechunk,nt.writeencoding,nt.afterTransform)):nt.needTransform=!0},j.prototype._destroy=function(rt,nt){var it=this;_.prototype._destroy.call(this,rt,function(ot){nt(ot),it.emit("close")})};function tt(rt,nt,it){if(nt)return rt.emit("error",nt);if(it!=null&&rt.push(it),rt._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(rt._transformState.transforming)throw new Error("Calling transform done when still transforming");return rt.push(null)}return _stream_transform}var _stream_passthrough,hasRequired_stream_passthrough;function require_stream_passthrough(){if(hasRequired_stream_passthrough)return _stream_passthrough;hasRequired_stream_passthrough=1,_stream_passthrough=$;var _=require_stream_transform(),a=Object.create(requireUtil());a.inherits=inherits_browserExports,a.inherits($,_);function $(j){if(!(this instanceof $))return new $(j);_.call(this,j)}return $.prototype._transform=function(j,et,tt){tt(null,j)},_stream_passthrough}var hasRequiredReadableBrowser;function requireReadableBrowser(){return hasRequiredReadableBrowser||(hasRequiredReadableBrowser=1,function(_,a){a=_.exports=require_stream_readable(),a.Stream=a,a.Readable=a,a.Writable=require_stream_writable(),a.Duplex=require_stream_duplex(),a.Transform=require_stream_transform(),a.PassThrough=require_stream_passthrough()}(readableBrowser,readableBrowser.exports)),readableBrowser.exports}var sign$1={exports:{}},bn$2={exports:{}};bn$2.exports;var hasRequiredBn$1;function requireBn$1(){return hasRequiredBn$1||(hasRequiredBn$1=1,function(_){(function(a,$){function j(bt,at){if(!bt)throw new Error(at||"Assertion failed")}function et(bt,at){bt.super_=at;var dt=function(){};dt.prototype=at.prototype,bt.prototype=new dt,bt.prototype.constructor=bt}function tt(bt,at,dt){if(tt.isBN(bt))return bt;this.negative=0,this.words=null,this.length=0,this.red=null,bt!==null&&((at==="le"||at==="be")&&(dt=at,at=10),this._init(bt||0,at||10,dt||"be"))}typeof a=="object"?a.exports=tt:$.BN=tt,tt.BN=tt,tt.wordSize=26;var rt;try{typeof window<"u"&&typeof window.Buffer<"u"?rt=window.Buffer:rt=require$$0$2.Buffer}catch{}tt.isBN=function(at){return at instanceof tt?!0:at!==null&&typeof at=="object"&&at.constructor.wordSize===tt.wordSize&&Array.isArray(at.words)},tt.max=function(at,dt){return at.cmp(dt)>0?at:dt},tt.min=function(at,dt){return at.cmp(dt)<0?at:dt},tt.prototype._init=function(at,dt,vt){if(typeof at=="number")return this._initNumber(at,dt,vt);if(typeof at=="object")return this._initArray(at,dt,vt);dt==="hex"&&(dt=16),j(dt===(dt|0)&&dt>=2&&dt<=36),at=at.toString().replace(/\s+/g,"");var xt=0;at[0]==="-"&&(xt++,this.negative=1),xt<at.length&&(dt===16?this._parseHex(at,xt,vt):(this._parseBase(at,dt,xt),vt==="le"&&this._initArray(this.toArray(),dt,vt)))},tt.prototype._initNumber=function(at,dt,vt){at<0&&(this.negative=1,at=-at),at<67108864?(this.words=[at&67108863],this.length=1):at<4503599627370496?(this.words=[at&67108863,at/67108864&67108863],this.length=2):(j(at<9007199254740992),this.words=[at&67108863,at/67108864&67108863,1],this.length=3),vt==="le"&&this._initArray(this.toArray(),dt,vt)},tt.prototype._initArray=function(at,dt,vt){if(j(typeof at.length=="number"),at.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(at.length/3),this.words=new Array(this.length);for(var xt=0;xt<this.length;xt++)this.words[xt]=0;var wt,_t,At=0;if(vt==="be")for(xt=at.length-1,wt=0;xt>=0;xt-=3)_t=at[xt]|at[xt-1]<<8|at[xt-2]<<16,this.words[wt]|=_t<<At&67108863,this.words[wt+1]=_t>>>26-At&67108863,At+=24,At>=26&&(At-=26,wt++);else if(vt==="le")for(xt=0,wt=0;xt<at.length;xt+=3)_t=at[xt]|at[xt+1]<<8|at[xt+2]<<16,this.words[wt]|=_t<<At&67108863,this.words[wt+1]=_t>>>26-At&67108863,At+=24,At>=26&&(At-=26,wt++);return this._strip()};function nt(bt,at){var dt=bt.charCodeAt(at);if(dt>=48&&dt<=57)return dt-48;if(dt>=65&&dt<=70)return dt-55;if(dt>=97&&dt<=102)return dt-87;j(!1,"Invalid character in "+bt)}function it(bt,at,dt){var vt=nt(bt,dt);return dt-1>=at&&(vt|=nt(bt,dt-1)<<4),vt}tt.prototype._parseHex=function(at,dt,vt){this.length=Math.ceil((at.length-dt)/6),this.words=new Array(this.length);for(var xt=0;xt<this.length;xt++)this.words[xt]=0;var wt=0,_t=0,At;if(vt==="be")for(xt=at.length-1;xt>=dt;xt-=2)At=it(at,dt,xt)<<wt,this.words[_t]|=At&67108863,wt>=18?(wt-=18,_t+=1,this.words[_t]|=At>>>26):wt+=8;else{var Tt=at.length-dt;for(xt=Tt%2===0?dt+1:dt;xt<at.length;xt+=2)At=it(at,dt,xt)<<wt,this.words[_t]|=At&67108863,wt>=18?(wt-=18,_t+=1,this.words[_t]|=At>>>26):wt+=8}this._strip()};function ot(bt,at,dt,vt){for(var xt=0,wt=0,_t=Math.min(bt.length,dt),At=at;At<_t;At++){var Tt=bt.charCodeAt(At)-48;xt*=vt,Tt>=49?wt=Tt-49+10:Tt>=17?wt=Tt-17+10:wt=Tt,j(Tt>=0&&wt<vt,"Invalid character"),xt+=wt}return xt}tt.prototype._parseBase=function(at,dt,vt){this.words=[0],this.length=1;for(var xt=0,wt=1;wt<=67108863;wt*=dt)xt++;xt--,wt=wt/dt|0;for(var _t=at.length-vt,At=_t%xt,Tt=Math.min(_t,_t-At)+vt,yt=0,It=vt;It<Tt;It+=xt)yt=ot(at,It,It+xt,dt),this.imuln(wt),this.words[0]+yt<67108864?this.words[0]+=yt:this._iaddn(yt);if(At!==0){var rr=1;for(yt=ot(at,It,at.length,dt),It=0;It<At;It++)rr*=dt;this.imuln(rr),this.words[0]+yt<67108864?this.words[0]+=yt:this._iaddn(yt)}this._strip()},tt.prototype.copy=function(at){at.words=new Array(this.length);for(var dt=0;dt<this.length;dt++)at.words[dt]=this.words[dt];at.length=this.length,at.negative=this.negative,at.red=this.red};function st(bt,at){bt.words=at.words,bt.length=at.length,bt.negative=at.negative,bt.red=at.red}if(tt.prototype._move=function(at){st(at,this)},tt.prototype.clone=function(){var at=new tt(null);return this.copy(at),at},tt.prototype._expand=function(at){for(;this.length<at;)this.words[this.length++]=0;return this},tt.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},tt.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{tt.prototype[Symbol.for("nodejs.util.inspect.custom")]=ct}catch{tt.prototype.inspect=ct}else tt.prototype.inspect=ct;function ct(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var ut=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],ht=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],Et=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];tt.prototype.toString=function(at,dt){at=at||10,dt=dt|0||1;var vt;if(at===16||at==="hex"){vt="";for(var xt=0,wt=0,_t=0;_t<this.length;_t++){var At=this.words[_t],Tt=((At<<xt|wt)&16777215).toString(16);wt=At>>>24-xt&16777215,xt+=2,xt>=26&&(xt-=26,_t--),wt!==0||_t!==this.length-1?vt=ut[6-Tt.length]+Tt+vt:vt=Tt+vt}for(wt!==0&&(vt=wt.toString(16)+vt);vt.length%dt!==0;)vt="0"+vt;return this.negative!==0&&(vt="-"+vt),vt}if(at===(at|0)&&at>=2&&at<=36){var yt=ht[at],It=Et[at];vt="";var rr=this.clone();for(rr.negative=0;!rr.isZero();){var ir=rr.modrn(It).toString(at);rr=rr.idivn(It),rr.isZero()?vt=ir+vt:vt=ut[yt-ir.length]+ir+vt}for(this.isZero()&&(vt="0"+vt);vt.length%dt!==0;)vt="0"+vt;return this.negative!==0&&(vt="-"+vt),vt}j(!1,"Base should be between 2 and 36")},tt.prototype.toNumber=function(){var at=this.words[0];return this.length===2?at+=this.words[1]*67108864:this.length===3&&this.words[2]===1?at+=4503599627370496+this.words[1]*67108864:this.length>2&&j(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-at:at},tt.prototype.toJSON=function(){return this.toString(16,2)},rt&&(tt.prototype.toBuffer=function(at,dt){return this.toArrayLike(rt,at,dt)}),tt.prototype.toArray=function(at,dt){return this.toArrayLike(Array,at,dt)};var St=function(at,dt){return at.allocUnsafe?at.allocUnsafe(dt):new at(dt)};tt.prototype.toArrayLike=function(at,dt,vt){this._strip();var xt=this.byteLength(),wt=vt||Math.max(1,xt);j(xt<=wt,"byte array longer than desired length"),j(wt>0,"Requested array length <= 0");var _t=St(at,wt),At=dt==="le"?"LE":"BE";return this["_toArrayLike"+At](_t,xt),_t},tt.prototype._toArrayLikeLE=function(at,dt){for(var vt=0,xt=0,wt=0,_t=0;wt<this.length;wt++){var At=this.words[wt]<<_t|xt;at[vt++]=At&255,vt<at.length&&(at[vt++]=At>>8&255),vt<at.length&&(at[vt++]=At>>16&255),_t===6?(vt<at.length&&(at[vt++]=At>>24&255),xt=0,_t=0):(xt=At>>>24,_t+=2)}if(vt<at.length)for(at[vt++]=xt;vt<at.length;)at[vt++]=0},tt.prototype._toArrayLikeBE=function(at,dt){for(var vt=at.length-1,xt=0,wt=0,_t=0;wt<this.length;wt++){var At=this.words[wt]<<_t|xt;at[vt--]=At&255,vt>=0&&(at[vt--]=At>>8&255),vt>=0&&(at[vt--]=At>>16&255),_t===6?(vt>=0&&(at[vt--]=At>>24&255),xt=0,_t=0):(xt=At>>>24,_t+=2)}if(vt>=0)for(at[vt--]=xt;vt>=0;)at[vt--]=0},Math.clz32?tt.prototype._countBits=function(at){return 32-Math.clz32(at)}:tt.prototype._countBits=function(at){var dt=at,vt=0;return dt>=4096&&(vt+=13,dt>>>=13),dt>=64&&(vt+=7,dt>>>=7),dt>=8&&(vt+=4,dt>>>=4),dt>=2&&(vt+=2,dt>>>=2),vt+dt},tt.prototype._zeroBits=function(at){if(at===0)return 26;var dt=at,vt=0;return dt&8191||(vt+=13,dt>>>=13),dt&127||(vt+=7,dt>>>=7),dt&15||(vt+=4,dt>>>=4),dt&3||(vt+=2,dt>>>=2),dt&1||vt++,vt},tt.prototype.bitLength=function(){var at=this.words[this.length-1],dt=this._countBits(at);return(this.length-1)*26+dt};function Mt(bt){for(var at=new Array(bt.bitLength()),dt=0;dt<at.length;dt++){var vt=dt/26|0,xt=dt%26;at[dt]=bt.words[vt]>>>xt&1}return at}tt.prototype.zeroBits=function(){if(this.isZero())return 0;for(var at=0,dt=0;dt<this.length;dt++){var vt=this._zeroBits(this.words[dt]);if(at+=vt,vt!==26)break}return at},tt.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},tt.prototype.toTwos=function(at){return this.negative!==0?this.abs().inotn(at).iaddn(1):this.clone()},tt.prototype.fromTwos=function(at){return this.testn(at-1)?this.notn(at).iaddn(1).ineg():this.clone()},tt.prototype.isNeg=function(){return this.negative!==0},tt.prototype.neg=function(){return this.clone().ineg()},tt.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},tt.prototype.iuor=function(at){for(;this.length<at.length;)this.words[this.length++]=0;for(var dt=0;dt<at.length;dt++)this.words[dt]=this.words[dt]|at.words[dt];return this._strip()},tt.prototype.ior=function(at){return j((this.negative|at.negative)===0),this.iuor(at)},tt.prototype.or=function(at){return this.length>at.length?this.clone().ior(at):at.clone().ior(this)},tt.prototype.uor=function(at){return this.length>at.length?this.clone().iuor(at):at.clone().iuor(this)},tt.prototype.iuand=function(at){var dt;this.length>at.length?dt=at:dt=this;for(var vt=0;vt<dt.length;vt++)this.words[vt]=this.words[vt]&at.words[vt];return this.length=dt.length,this._strip()},tt.prototype.iand=function(at){return j((this.negative|at.negative)===0),this.iuand(at)},tt.prototype.and=function(at){return this.length>at.length?this.clone().iand(at):at.clone().iand(this)},tt.prototype.uand=function(at){return this.length>at.length?this.clone().iuand(at):at.clone().iuand(this)},tt.prototype.iuxor=function(at){var dt,vt;this.length>at.length?(dt=this,vt=at):(dt=at,vt=this);for(var xt=0;xt<vt.length;xt++)this.words[xt]=dt.words[xt]^vt.words[xt];if(this!==dt)for(;xt<dt.length;xt++)this.words[xt]=dt.words[xt];return this.length=dt.length,this._strip()},tt.prototype.ixor=function(at){return j((this.negative|at.negative)===0),this.iuxor(at)},tt.prototype.xor=function(at){return this.length>at.length?this.clone().ixor(at):at.clone().ixor(this)},tt.prototype.uxor=function(at){return this.length>at.length?this.clone().iuxor(at):at.clone().iuxor(this)},tt.prototype.inotn=function(at){j(typeof at=="number"&&at>=0);var dt=Math.ceil(at/26)|0,vt=at%26;this._expand(dt),vt>0&&dt--;for(var xt=0;xt<dt;xt++)this.words[xt]=~this.words[xt]&67108863;return vt>0&&(this.words[xt]=~this.words[xt]&67108863>>26-vt),this._strip()},tt.prototype.notn=function(at){return this.clone().inotn(at)},tt.prototype.setn=function(at,dt){j(typeof at=="number"&&at>=0);var vt=at/26|0,xt=at%26;return this._expand(vt+1),dt?this.words[vt]=this.words[vt]|1<<xt:this.words[vt]=this.words[vt]&~(1<<xt),this._strip()},tt.prototype.iadd=function(at){var dt;if(this.negative!==0&&at.negative===0)return this.negative=0,dt=this.isub(at),this.negative^=1,this._normSign();if(this.negative===0&&at.negative!==0)return at.negative=0,dt=this.isub(at),at.negative=1,dt._normSign();var vt,xt;this.length>at.length?(vt=this,xt=at):(vt=at,xt=this);for(var wt=0,_t=0;_t<xt.length;_t++)dt=(vt.words[_t]|0)+(xt.words[_t]|0)+wt,this.words[_t]=dt&67108863,wt=dt>>>26;for(;wt!==0&&_t<vt.length;_t++)dt=(vt.words[_t]|0)+wt,this.words[_t]=dt&67108863,wt=dt>>>26;if(this.length=vt.length,wt!==0)this.words[this.length]=wt,this.length++;else if(vt!==this)for(;_t<vt.length;_t++)this.words[_t]=vt.words[_t];return this},tt.prototype.add=function(at){var dt;return at.negative!==0&&this.negative===0?(at.negative=0,dt=this.sub(at),at.negative^=1,dt):at.negative===0&&this.negative!==0?(this.negative=0,dt=at.sub(this),this.negative=1,dt):this.length>at.length?this.clone().iadd(at):at.clone().iadd(this)},tt.prototype.isub=function(at){if(at.negative!==0){at.negative=0;var dt=this.iadd(at);return at.negative=1,dt._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(at),this.negative=1,this._normSign();var vt=this.cmp(at);if(vt===0)return this.negative=0,this.length=1,this.words[0]=0,this;var xt,wt;vt>0?(xt=this,wt=at):(xt=at,wt=this);for(var _t=0,At=0;At<wt.length;At++)dt=(xt.words[At]|0)-(wt.words[At]|0)+_t,_t=dt>>26,this.words[At]=dt&67108863;for(;_t!==0&&At<xt.length;At++)dt=(xt.words[At]|0)+_t,_t=dt>>26,this.words[At]=dt&67108863;if(_t===0&&At<xt.length&&xt!==this)for(;At<xt.length;At++)this.words[At]=xt.words[At];return this.length=Math.max(this.length,At),xt!==this&&(this.negative=1),this._strip()},tt.prototype.sub=function(at){return this.clone().isub(at)};function kt(bt,at,dt){dt.negative=at.negative^bt.negative;var vt=bt.length+at.length|0;dt.length=vt,vt=vt-1|0;var xt=bt.words[0]|0,wt=at.words[0]|0,_t=xt*wt,At=_t&67108863,Tt=_t/67108864|0;dt.words[0]=At;for(var yt=1;yt<vt;yt++){for(var It=Tt>>>26,rr=Tt&67108863,ir=Math.min(yt,at.length-1),nr=Math.max(0,yt-bt.length+1);nr<=ir;nr++){var Gt=yt-nr|0;xt=bt.words[Gt]|0,wt=at.words[nr]|0,_t=xt*wt+rr,It+=_t/67108864|0,rr=_t&67108863}dt.words[yt]=rr|0,Tt=It|0}return Tt!==0?dt.words[yt]=Tt|0:dt.length--,dt._strip()}var Ct=function(at,dt,vt){var xt=at.words,wt=dt.words,_t=vt.words,At=0,Tt,yt,It,rr=xt[0]|0,ir=rr&8191,nr=rr>>>13,Gt=xt[1]|0,qt=Gt&8191,Jt=Gt>>>13,Ft=xt[2]|0,Kt=Ft&8191,Qt=Ft>>>13,dr=xt[3]|0,xr=dr&8191,pr=dr>>>13,Ir=xt[4]|0,Cr=Ir&8191,lr=Ir>>>13,fr=xt[5]|0,Er=fr&8191,Ar=fr>>>13,kr=xt[6]|0,Sr=kr&8191,$r=kr>>>13,jr=xt[7]|0,Nr=jr&8191,or=jr>>>13,Xt=xt[8]|0,er=Xt&8191,Zt=Xt>>>13,Ht=xt[9]|0,Wt=Ht&8191,ar=Ht>>>13,br=wt[0]|0,wr=br&8191,Rr=br>>>13,Qr=wt[1]|0,Ur=Qr&8191,Hr=Qr>>>13,_n=wt[2]|0,Wr=_n&8191,an=_n>>>13,Sn=wt[3]|0,cn=Sn&8191,Xr=Sn>>>13,Cn=wt[4]|0,ln=Cn&8191,Yr=Cn>>>13,En=wt[5]|0,fn=En&8191,Jr=En>>>13,$n=wt[6]|0,un=$n&8191,en=$n>>>13,An=wt[7]|0,sn=An&8191,tn=An>>>13,kn=wt[8]|0,xn=kn&8191,dn=kn>>>13,Ln=wt[9]|0,hn=Ln&8191,yn=Ln>>>13;vt.negative=at.negative^dt.negative,vt.length=19,Tt=Math.imul(ir,wr),yt=Math.imul(ir,Rr),yt=yt+Math.imul(nr,wr)|0,It=Math.imul(nr,Rr);var ps=(At+Tt|0)+((yt&8191)<<13)|0;At=(It+(yt>>>13)|0)+(ps>>>26)|0,ps&=67108863,Tt=Math.imul(qt,wr),yt=Math.imul(qt,Rr),yt=yt+Math.imul(Jt,wr)|0,It=Math.imul(Jt,Rr),Tt=Tt+Math.imul(ir,Ur)|0,yt=yt+Math.imul(ir,Hr)|0,yt=yt+Math.imul(nr,Ur)|0,It=It+Math.imul(nr,Hr)|0;var ms=(At+Tt|0)+((yt&8191)<<13)|0;At=(It+(yt>>>13)|0)+(ms>>>26)|0,ms&=67108863,Tt=Math.imul(Kt,wr),yt=Math.imul(Kt,Rr),yt=yt+Math.imul(Qt,wr)|0,It=Math.imul(Qt,Rr),Tt=Tt+Math.imul(qt,Ur)|0,yt=yt+Math.imul(qt,Hr)|0,yt=yt+Math.imul(Jt,Ur)|0,It=It+Math.imul(Jt,Hr)|0,Tt=Tt+Math.imul(ir,Wr)|0,yt=yt+Math.imul(ir,an)|0,yt=yt+Math.imul(nr,Wr)|0,It=It+Math.imul(nr,an)|0;var gs=(At+Tt|0)+((yt&8191)<<13)|0;At=(It+(yt>>>13)|0)+(gs>>>26)|0,gs&=67108863,Tt=Math.imul(xr,wr),yt=Math.imul(xr,Rr),yt=yt+Math.imul(pr,wr)|0,It=Math.imul(pr,Rr),Tt=Tt+Math.imul(Kt,Ur)|0,yt=yt+Math.imul(Kt,Hr)|0,yt=yt+Math.imul(Qt,Ur)|0,It=It+Math.imul(Qt,Hr)|0,Tt=Tt+Math.imul(qt,Wr)|0,yt=yt+Math.imul(qt,an)|0,yt=yt+Math.imul(Jt,Wr)|0,It=It+Math.imul(Jt,an)|0,Tt=Tt+Math.imul(ir,cn)|0,yt=yt+Math.imul(ir,Xr)|0,yt=yt+Math.imul(nr,cn)|0,It=It+Math.imul(nr,Xr)|0;var vs=(At+Tt|0)+((yt&8191)<<13)|0;At=(It+(yt>>>13)|0)+(vs>>>26)|0,vs&=67108863,Tt=Math.imul(Cr,wr),yt=Math.imul(Cr,Rr),yt=yt+Math.imul(lr,wr)|0,It=Math.imul(lr,Rr),Tt=Tt+Math.imul(xr,Ur)|0,yt=yt+Math.imul(xr,Hr)|0,yt=yt+Math.imul(pr,Ur)|0,It=It+Math.imul(pr,Hr)|0,Tt=Tt+Math.imul(Kt,Wr)|0,yt=yt+Math.imul(Kt,an)|0,yt=yt+Math.imul(Qt,Wr)|0,It=It+Math.imul(Qt,an)|0,Tt=Tt+Math.imul(qt,cn)|0,yt=yt+Math.imul(qt,Xr)|0,yt=yt+Math.imul(Jt,cn)|0,It=It+Math.imul(Jt,Xr)|0,Tt=Tt+Math.imul(ir,ln)|0,yt=yt+Math.imul(ir,Yr)|0,yt=yt+Math.imul(nr,ln)|0,It=It+Math.imul(nr,Yr)|0;var Zn=(At+Tt|0)+((yt&8191)<<13)|0;At=(It+(yt>>>13)|0)+(Zn>>>26)|0,Zn&=67108863,Tt=Math.imul(Er,wr),yt=Math.imul(Er,Rr),yt=yt+Math.imul(Ar,wr)|0,It=Math.imul(Ar,Rr),Tt=Tt+Math.imul(Cr,Ur)|0,yt=yt+Math.imul(Cr,Hr)|0,yt=yt+Math.imul(lr,Ur)|0,It=It+Math.imul(lr,Hr)|0,Tt=Tt+Math.imul(xr,Wr)|0,yt=yt+Math.imul(xr,an)|0,yt=yt+Math.imul(pr,Wr)|0,It=It+Math.imul(pr,an)|0,Tt=Tt+Math.imul(Kt,cn)|0,yt=yt+Math.imul(Kt,Xr)|0,yt=yt+Math.imul(Qt,cn)|0,It=It+Math.imul(Qt,Xr)|0,Tt=Tt+Math.imul(qt,ln)|0,yt=yt+Math.imul(qt,Yr)|0,yt=yt+Math.imul(Jt,ln)|0,It=It+Math.imul(Jt,Yr)|0,Tt=Tt+Math.imul(ir,fn)|0,yt=yt+Math.imul(ir,Jr)|0,yt=yt+Math.imul(nr,fn)|0,It=It+Math.imul(nr,Jr)|0;var ls=(At+Tt|0)+((yt&8191)<<13)|0;At=(It+(yt>>>13)|0)+(ls>>>26)|0,ls&=67108863,Tt=Math.imul(Sr,wr),yt=Math.imul(Sr,Rr),yt=yt+Math.imul($r,wr)|0,It=Math.imul($r,Rr),Tt=Tt+Math.imul(Er,Ur)|0,yt=yt+Math.imul(Er,Hr)|0,yt=yt+Math.imul(Ar,Ur)|0,It=It+Math.imul(Ar,Hr)|0,Tt=Tt+Math.imul(Cr,Wr)|0,yt=yt+Math.imul(Cr,an)|0,yt=yt+Math.imul(lr,Wr)|0,It=It+Math.imul(lr,an)|0,Tt=Tt+Math.imul(xr,cn)|0,yt=yt+Math.imul(xr,Xr)|0,yt=yt+Math.imul(pr,cn)|0,It=It+Math.imul(pr,Xr)|0,Tt=Tt+Math.imul(Kt,ln)|0,yt=yt+Math.imul(Kt,Yr)|0,yt=yt+Math.imul(Qt,ln)|0,It=It+Math.imul(Qt,Yr)|0,Tt=Tt+Math.imul(qt,fn)|0,yt=yt+Math.imul(qt,Jr)|0,yt=yt+Math.imul(Jt,fn)|0,It=It+Math.imul(Jt,Jr)|0,Tt=Tt+Math.imul(ir,un)|0,yt=yt+Math.imul(ir,en)|0,yt=yt+Math.imul(nr,un)|0,It=It+Math.imul(nr,en)|0;var rs=(At+Tt|0)+((yt&8191)<<13)|0;At=(It+(yt>>>13)|0)+(rs>>>26)|0,rs&=67108863,Tt=Math.imul(Nr,wr),yt=Math.imul(Nr,Rr),yt=yt+Math.imul(or,wr)|0,It=Math.imul(or,Rr),Tt=Tt+Math.imul(Sr,Ur)|0,yt=yt+Math.imul(Sr,Hr)|0,yt=yt+Math.imul($r,Ur)|0,It=It+Math.imul($r,Hr)|0,Tt=Tt+Math.imul(Er,Wr)|0,yt=yt+Math.imul(Er,an)|0,yt=yt+Math.imul(Ar,Wr)|0,It=It+Math.imul(Ar,an)|0,Tt=Tt+Math.imul(Cr,cn)|0,yt=yt+Math.imul(Cr,Xr)|0,yt=yt+Math.imul(lr,cn)|0,It=It+Math.imul(lr,Xr)|0,Tt=Tt+Math.imul(xr,ln)|0,yt=yt+Math.imul(xr,Yr)|0,yt=yt+Math.imul(pr,ln)|0,It=It+Math.imul(pr,Yr)|0,Tt=Tt+Math.imul(Kt,fn)|0,yt=yt+Math.imul(Kt,Jr)|0,yt=yt+Math.imul(Qt,fn)|0,It=It+Math.imul(Qt,Jr)|0,Tt=Tt+Math.imul(qt,un)|0,yt=yt+Math.imul(qt,en)|0,yt=yt+Math.imul(Jt,un)|0,It=It+Math.imul(Jt,en)|0,Tt=Tt+Math.imul(ir,sn)|0,yt=yt+Math.imul(ir,tn)|0,yt=yt+Math.imul(nr,sn)|0,It=It+Math.imul(nr,tn)|0;var es=(At+Tt|0)+((yt&8191)<<13)|0;At=(It+(yt>>>13)|0)+(es>>>26)|0,es&=67108863,Tt=Math.imul(er,wr),yt=Math.imul(er,Rr),yt=yt+Math.imul(Zt,wr)|0,It=Math.imul(Zt,Rr),Tt=Tt+Math.imul(Nr,Ur)|0,yt=yt+Math.imul(Nr,Hr)|0,yt=yt+Math.imul(or,Ur)|0,It=It+Math.imul(or,Hr)|0,Tt=Tt+Math.imul(Sr,Wr)|0,yt=yt+Math.imul(Sr,an)|0,yt=yt+Math.imul($r,Wr)|0,It=It+Math.imul($r,an)|0,Tt=Tt+Math.imul(Er,cn)|0,yt=yt+Math.imul(Er,Xr)|0,yt=yt+Math.imul(Ar,cn)|0,It=It+Math.imul(Ar,Xr)|0,Tt=Tt+Math.imul(Cr,ln)|0,yt=yt+Math.imul(Cr,Yr)|0,yt=yt+Math.imul(lr,ln)|0,It=It+Math.imul(lr,Yr)|0,Tt=Tt+Math.imul(xr,fn)|0,yt=yt+Math.imul(xr,Jr)|0,yt=yt+Math.imul(pr,fn)|0,It=It+Math.imul(pr,Jr)|0,Tt=Tt+Math.imul(Kt,un)|0,yt=yt+Math.imul(Kt,en)|0,yt=yt+Math.imul(Qt,un)|0,It=It+Math.imul(Qt,en)|0,Tt=Tt+Math.imul(qt,sn)|0,yt=yt+Math.imul(qt,tn)|0,yt=yt+Math.imul(Jt,sn)|0,It=It+Math.imul(Jt,tn)|0,Tt=Tt+Math.imul(ir,xn)|0,yt=yt+Math.imul(ir,dn)|0,yt=yt+Math.imul(nr,xn)|0,It=It+Math.imul(nr,dn)|0;var ys=(At+Tt|0)+((yt&8191)<<13)|0;At=(It+(yt>>>13)|0)+(ys>>>26)|0,ys&=67108863,Tt=Math.imul(Wt,wr),yt=Math.imul(Wt,Rr),yt=yt+Math.imul(ar,wr)|0,It=Math.imul(ar,Rr),Tt=Tt+Math.imul(er,Ur)|0,yt=yt+Math.imul(er,Hr)|0,yt=yt+Math.imul(Zt,Ur)|0,It=It+Math.imul(Zt,Hr)|0,Tt=Tt+Math.imul(Nr,Wr)|0,yt=yt+Math.imul(Nr,an)|0,yt=yt+Math.imul(or,Wr)|0,It=It+Math.imul(or,an)|0,Tt=Tt+Math.imul(Sr,cn)|0,yt=yt+Math.imul(Sr,Xr)|0,yt=yt+Math.imul($r,cn)|0,It=It+Math.imul($r,Xr)|0,Tt=Tt+Math.imul(Er,ln)|0,yt=yt+Math.imul(Er,Yr)|0,yt=yt+Math.imul(Ar,ln)|0,It=It+Math.imul(Ar,Yr)|0,Tt=Tt+Math.imul(Cr,fn)|0,yt=yt+Math.imul(Cr,Jr)|0,yt=yt+Math.imul(lr,fn)|0,It=It+Math.imul(lr,Jr)|0,Tt=Tt+Math.imul(xr,un)|0,yt=yt+Math.imul(xr,en)|0,yt=yt+Math.imul(pr,un)|0,It=It+Math.imul(pr,en)|0,Tt=Tt+Math.imul(Kt,sn)|0,yt=yt+Math.imul(Kt,tn)|0,yt=yt+Math.imul(Qt,sn)|0,It=It+Math.imul(Qt,tn)|0,Tt=Tt+Math.imul(qt,xn)|0,yt=yt+Math.imul(qt,dn)|0,yt=yt+Math.imul(Jt,xn)|0,It=It+Math.imul(Jt,dn)|0,Tt=Tt+Math.imul(ir,hn)|0,yt=yt+Math.imul(ir,yn)|0,yt=yt+Math.imul(nr,hn)|0,It=It+Math.imul(nr,yn)|0;var ns=(At+Tt|0)+((yt&8191)<<13)|0;At=(It+(yt>>>13)|0)+(ns>>>26)|0,ns&=67108863,Tt=Math.imul(Wt,Ur),yt=Math.imul(Wt,Hr),yt=yt+Math.imul(ar,Ur)|0,It=Math.imul(ar,Hr),Tt=Tt+Math.imul(er,Wr)|0,yt=yt+Math.imul(er,an)|0,yt=yt+Math.imul(Zt,Wr)|0,It=It+Math.imul(Zt,an)|0,Tt=Tt+Math.imul(Nr,cn)|0,yt=yt+Math.imul(Nr,Xr)|0,yt=yt+Math.imul(or,cn)|0,It=It+Math.imul(or,Xr)|0,Tt=Tt+Math.imul(Sr,ln)|0,yt=yt+Math.imul(Sr,Yr)|0,yt=yt+Math.imul($r,ln)|0,It=It+Math.imul($r,Yr)|0,Tt=Tt+Math.imul(Er,fn)|0,yt=yt+Math.imul(Er,Jr)|0,yt=yt+Math.imul(Ar,fn)|0,It=It+Math.imul(Ar,Jr)|0,Tt=Tt+Math.imul(Cr,un)|0,yt=yt+Math.imul(Cr,en)|0,yt=yt+Math.imul(lr,un)|0,It=It+Math.imul(lr,en)|0,Tt=Tt+Math.imul(xr,sn)|0,yt=yt+Math.imul(xr,tn)|0,yt=yt+Math.imul(pr,sn)|0,It=It+Math.imul(pr,tn)|0,Tt=Tt+Math.imul(Kt,xn)|0,yt=yt+Math.imul(Kt,dn)|0,yt=yt+Math.imul(Qt,xn)|0,It=It+Math.imul(Qt,dn)|0,Tt=Tt+Math.imul(qt,hn)|0,yt=yt+Math.imul(qt,yn)|0,yt=yt+Math.imul(Jt,hn)|0,It=It+Math.imul(Jt,yn)|0;var as=(At+Tt|0)+((yt&8191)<<13)|0;At=(It+(yt>>>13)|0)+(as>>>26)|0,as&=67108863,Tt=Math.imul(Wt,Wr),yt=Math.imul(Wt,an),yt=yt+Math.imul(ar,Wr)|0,It=Math.imul(ar,an),Tt=Tt+Math.imul(er,cn)|0,yt=yt+Math.imul(er,Xr)|0,yt=yt+Math.imul(Zt,cn)|0,It=It+Math.imul(Zt,Xr)|0,Tt=Tt+Math.imul(Nr,ln)|0,yt=yt+Math.imul(Nr,Yr)|0,yt=yt+Math.imul(or,ln)|0,It=It+Math.imul(or,Yr)|0,Tt=Tt+Math.imul(Sr,fn)|0,yt=yt+Math.imul(Sr,Jr)|0,yt=yt+Math.imul($r,fn)|0,It=It+Math.imul($r,Jr)|0,Tt=Tt+Math.imul(Er,un)|0,yt=yt+Math.imul(Er,en)|0,yt=yt+Math.imul(Ar,un)|0,It=It+Math.imul(Ar,en)|0,Tt=Tt+Math.imul(Cr,sn)|0,yt=yt+Math.imul(Cr,tn)|0,yt=yt+Math.imul(lr,sn)|0,It=It+Math.imul(lr,tn)|0,Tt=Tt+Math.imul(xr,xn)|0,yt=yt+Math.imul(xr,dn)|0,yt=yt+Math.imul(pr,xn)|0,It=It+Math.imul(pr,dn)|0,Tt=Tt+Math.imul(Kt,hn)|0,yt=yt+Math.imul(Kt,yn)|0,yt=yt+Math.imul(Qt,hn)|0,It=It+Math.imul(Qt,yn)|0;var ds=(At+Tt|0)+((yt&8191)<<13)|0;At=(It+(yt>>>13)|0)+(ds>>>26)|0,ds&=67108863,Tt=Math.imul(Wt,cn),yt=Math.imul(Wt,Xr),yt=yt+Math.imul(ar,cn)|0,It=Math.imul(ar,Xr),Tt=Tt+Math.imul(er,ln)|0,yt=yt+Math.imul(er,Yr)|0,yt=yt+Math.imul(Zt,ln)|0,It=It+Math.imul(Zt,Yr)|0,Tt=Tt+Math.imul(Nr,fn)|0,yt=yt+Math.imul(Nr,Jr)|0,yt=yt+Math.imul(or,fn)|0,It=It+Math.imul(or,Jr)|0,Tt=Tt+Math.imul(Sr,un)|0,yt=yt+Math.imul(Sr,en)|0,yt=yt+Math.imul($r,un)|0,It=It+Math.imul($r,en)|0,Tt=Tt+Math.imul(Er,sn)|0,yt=yt+Math.imul(Er,tn)|0,yt=yt+Math.imul(Ar,sn)|0,It=It+Math.imul(Ar,tn)|0,Tt=Tt+Math.imul(Cr,xn)|0,yt=yt+Math.imul(Cr,dn)|0,yt=yt+Math.imul(lr,xn)|0,It=It+Math.imul(lr,dn)|0,Tt=Tt+Math.imul(xr,hn)|0,yt=yt+Math.imul(xr,yn)|0,yt=yt+Math.imul(pr,hn)|0,It=It+Math.imul(pr,yn)|0;var fs=(At+Tt|0)+((yt&8191)<<13)|0;At=(It+(yt>>>13)|0)+(fs>>>26)|0,fs&=67108863,Tt=Math.imul(Wt,ln),yt=Math.imul(Wt,Yr),yt=yt+Math.imul(ar,ln)|0,It=Math.imul(ar,Yr),Tt=Tt+Math.imul(er,fn)|0,yt=yt+Math.imul(er,Jr)|0,yt=yt+Math.imul(Zt,fn)|0,It=It+Math.imul(Zt,Jr)|0,Tt=Tt+Math.imul(Nr,un)|0,yt=yt+Math.imul(Nr,en)|0,yt=yt+Math.imul(or,un)|0,It=It+Math.imul(or,en)|0,Tt=Tt+Math.imul(Sr,sn)|0,yt=yt+Math.imul(Sr,tn)|0,yt=yt+Math.imul($r,sn)|0,It=It+Math.imul($r,tn)|0,Tt=Tt+Math.imul(Er,xn)|0,yt=yt+Math.imul(Er,dn)|0,yt=yt+Math.imul(Ar,xn)|0,It=It+Math.imul(Ar,dn)|0,Tt=Tt+Math.imul(Cr,hn)|0,yt=yt+Math.imul(Cr,yn)|0,yt=yt+Math.imul(lr,hn)|0,It=It+Math.imul(lr,yn)|0;var Jn=(At+Tt|0)+((yt&8191)<<13)|0;At=(It+(yt>>>13)|0)+(Jn>>>26)|0,Jn&=67108863,Tt=Math.imul(Wt,fn),yt=Math.imul(Wt,Jr),yt=yt+Math.imul(ar,fn)|0,It=Math.imul(ar,Jr),Tt=Tt+Math.imul(er,un)|0,yt=yt+Math.imul(er,en)|0,yt=yt+Math.imul(Zt,un)|0,It=It+Math.imul(Zt,en)|0,Tt=Tt+Math.imul(Nr,sn)|0,yt=yt+Math.imul(Nr,tn)|0,yt=yt+Math.imul(or,sn)|0,It=It+Math.imul(or,tn)|0,Tt=Tt+Math.imul(Sr,xn)|0,yt=yt+Math.imul(Sr,dn)|0,yt=yt+Math.imul($r,xn)|0,It=It+Math.imul($r,dn)|0,Tt=Tt+Math.imul(Er,hn)|0,yt=yt+Math.imul(Er,yn)|0,yt=yt+Math.imul(Ar,hn)|0,It=It+Math.imul(Ar,yn)|0;var us=(At+Tt|0)+((yt&8191)<<13)|0;At=(It+(yt>>>13)|0)+(us>>>26)|0,us&=67108863,Tt=Math.imul(Wt,un),yt=Math.imul(Wt,en),yt=yt+Math.imul(ar,un)|0,It=Math.imul(ar,en),Tt=Tt+Math.imul(er,sn)|0,yt=yt+Math.imul(er,tn)|0,yt=yt+Math.imul(Zt,sn)|0,It=It+Math.imul(Zt,tn)|0,Tt=Tt+Math.imul(Nr,xn)|0,yt=yt+Math.imul(Nr,dn)|0,yt=yt+Math.imul(or,xn)|0,It=It+Math.imul(or,dn)|0,Tt=Tt+Math.imul(Sr,hn)|0,yt=yt+Math.imul(Sr,yn)|0,yt=yt+Math.imul($r,hn)|0,It=It+Math.imul($r,yn)|0;var xs=(At+Tt|0)+((yt&8191)<<13)|0;At=(It+(yt>>>13)|0)+(xs>>>26)|0,xs&=67108863,Tt=Math.imul(Wt,sn),yt=Math.imul(Wt,tn),yt=yt+Math.imul(ar,sn)|0,It=Math.imul(ar,tn),Tt=Tt+Math.imul(er,xn)|0,yt=yt+Math.imul(er,dn)|0,yt=yt+Math.imul(Zt,xn)|0,It=It+Math.imul(Zt,dn)|0,Tt=Tt+Math.imul(Nr,hn)|0,yt=yt+Math.imul(Nr,yn)|0,yt=yt+Math.imul(or,hn)|0,It=It+Math.imul(or,yn)|0;var bs=(At+Tt|0)+((yt&8191)<<13)|0;At=(It+(yt>>>13)|0)+(bs>>>26)|0,bs&=67108863,Tt=Math.imul(Wt,xn),yt=Math.imul(Wt,dn),yt=yt+Math.imul(ar,xn)|0,It=Math.imul(ar,dn),Tt=Tt+Math.imul(er,hn)|0,yt=yt+Math.imul(er,yn)|0,yt=yt+Math.imul(Zt,hn)|0,It=It+Math.imul(Zt,yn)|0;var Ps=(At+Tt|0)+((yt&8191)<<13)|0;At=(It+(yt>>>13)|0)+(Ps>>>26)|0,Ps&=67108863,Tt=Math.imul(Wt,hn),yt=Math.imul(Wt,yn),yt=yt+Math.imul(ar,hn)|0,It=Math.imul(ar,yn);var Ts=(At+Tt|0)+((yt&8191)<<13)|0;return At=(It+(yt>>>13)|0)+(Ts>>>26)|0,Ts&=67108863,_t[0]=ps,_t[1]=ms,_t[2]=gs,_t[3]=vs,_t[4]=Zn,_t[5]=ls,_t[6]=rs,_t[7]=es,_t[8]=ys,_t[9]=ns,_t[10]=as,_t[11]=ds,_t[12]=fs,_t[13]=Jn,_t[14]=us,_t[15]=xs,_t[16]=bs,_t[17]=Ps,_t[18]=Ts,At!==0&&(_t[19]=At,vt.length++),vt};Math.imul||(Ct=kt);function Ot(bt,at,dt){dt.negative=at.negative^bt.negative,dt.length=bt.length+at.length;for(var vt=0,xt=0,wt=0;wt<dt.length-1;wt++){var _t=xt;xt=0;for(var At=vt&67108863,Tt=Math.min(wt,at.length-1),yt=Math.max(0,wt-bt.length+1);yt<=Tt;yt++){var It=wt-yt,rr=bt.words[It]|0,ir=at.words[yt]|0,nr=rr*ir,Gt=nr&67108863;_t=_t+(nr/67108864|0)|0,Gt=Gt+At|0,At=Gt&67108863,_t=_t+(Gt>>>26)|0,xt+=_t>>>26,_t&=67108863}dt.words[wt]=At,vt=_t,_t=xt}return vt!==0?dt.words[wt]=vt:dt.length--,dt._strip()}function zt(bt,at,dt){return Ot(bt,at,dt)}tt.prototype.mulTo=function(at,dt){var vt,xt=this.length+at.length;return this.length===10&&at.length===10?vt=Ct(this,at,dt):xt<63?vt=kt(this,at,dt):xt<1024?vt=Ot(this,at,dt):vt=zt(this,at,dt),vt},tt.prototype.mul=function(at){var dt=new tt(null);return dt.words=new Array(this.length+at.length),this.mulTo(at,dt)},tt.prototype.mulf=function(at){var dt=new tt(null);return dt.words=new Array(this.length+at.length),zt(this,at,dt)},tt.prototype.imul=function(at){return this.clone().mulTo(at,this)},tt.prototype.imuln=function(at){var dt=at<0;dt&&(at=-at),j(typeof at=="number"),j(at<67108864);for(var vt=0,xt=0;xt<this.length;xt++){var wt=(this.words[xt]|0)*at,_t=(wt&67108863)+(vt&67108863);vt>>=26,vt+=wt/67108864|0,vt+=_t>>>26,this.words[xt]=_t&67108863}return vt!==0&&(this.words[xt]=vt,this.length++),dt?this.ineg():this},tt.prototype.muln=function(at){return this.clone().imuln(at)},tt.prototype.sqr=function(){return this.mul(this)},tt.prototype.isqr=function(){return this.imul(this.clone())},tt.prototype.pow=function(at){var dt=Mt(at);if(dt.length===0)return new tt(1);for(var vt=this,xt=0;xt<dt.length&&dt[xt]===0;xt++,vt=vt.sqr());if(++xt<dt.length)for(var wt=vt.sqr();xt<dt.length;xt++,wt=wt.sqr())dt[xt]!==0&&(vt=vt.mul(wt));return vt},tt.prototype.iushln=function(at){j(typeof at=="number"&&at>=0);var dt=at%26,vt=(at-dt)/26,xt=67108863>>>26-dt<<26-dt,wt;if(dt!==0){var _t=0;for(wt=0;wt<this.length;wt++){var At=this.words[wt]&xt,Tt=(this.words[wt]|0)-At<<dt;this.words[wt]=Tt|_t,_t=At>>>26-dt}_t&&(this.words[wt]=_t,this.length++)}if(vt!==0){for(wt=this.length-1;wt>=0;wt--)this.words[wt+vt]=this.words[wt];for(wt=0;wt<vt;wt++)this.words[wt]=0;this.length+=vt}return this._strip()},tt.prototype.ishln=function(at){return j(this.negative===0),this.iushln(at)},tt.prototype.iushrn=function(at,dt,vt){j(typeof at=="number"&&at>=0);var xt;dt?xt=(dt-dt%26)/26:xt=0;var wt=at%26,_t=Math.min((at-wt)/26,this.length),At=67108863^67108863>>>wt<<wt,Tt=vt;if(xt-=_t,xt=Math.max(0,xt),Tt){for(var yt=0;yt<_t;yt++)Tt.words[yt]=this.words[yt];Tt.length=_t}if(_t!==0)if(this.length>_t)for(this.length-=_t,yt=0;yt<this.length;yt++)this.words[yt]=this.words[yt+_t];else this.words[0]=0,this.length=1;var It=0;for(yt=this.length-1;yt>=0&&(It!==0||yt>=xt);yt--){var rr=this.words[yt]|0;this.words[yt]=It<<26-wt|rr>>>wt,It=rr&At}return Tt&&It!==0&&(Tt.words[Tt.length++]=It),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},tt.prototype.ishrn=function(at,dt,vt){return j(this.negative===0),this.iushrn(at,dt,vt)},tt.prototype.shln=function(at){return this.clone().ishln(at)},tt.prototype.ushln=function(at){return this.clone().iushln(at)},tt.prototype.shrn=function(at){return this.clone().ishrn(at)},tt.prototype.ushrn=function(at){return this.clone().iushrn(at)},tt.prototype.testn=function(at){j(typeof at=="number"&&at>=0);var dt=at%26,vt=(at-dt)/26,xt=1<<dt;if(this.length<=vt)return!1;var wt=this.words[vt];return!!(wt&xt)},tt.prototype.imaskn=function(at){j(typeof at=="number"&&at>=0);var dt=at%26,vt=(at-dt)/26;if(j(this.negative===0,"imaskn works only with positive numbers"),this.length<=vt)return this;if(dt!==0&&vt++,this.length=Math.min(vt,this.length),dt!==0){var xt=67108863^67108863>>>dt<<dt;this.words[this.length-1]&=xt}return this._strip()},tt.prototype.maskn=function(at){return this.clone().imaskn(at)},tt.prototype.iaddn=function(at){return j(typeof at=="number"),j(at<67108864),at<0?this.isubn(-at):this.negative!==0?this.length===1&&(this.words[0]|0)<=at?(this.words[0]=at-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(at),this.negative=1,this):this._iaddn(at)},tt.prototype._iaddn=function(at){this.words[0]+=at;for(var dt=0;dt<this.length&&this.words[dt]>=67108864;dt++)this.words[dt]-=67108864,dt===this.length-1?this.words[dt+1]=1:this.words[dt+1]++;return this.length=Math.max(this.length,dt+1),this},tt.prototype.isubn=function(at){if(j(typeof at=="number"),j(at<67108864),at<0)return this.iaddn(-at);if(this.negative!==0)return this.negative=0,this.iaddn(at),this.negative=1,this;if(this.words[0]-=at,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var dt=0;dt<this.length&&this.words[dt]<0;dt++)this.words[dt]+=67108864,this.words[dt+1]-=1;return this._strip()},tt.prototype.addn=function(at){return this.clone().iaddn(at)},tt.prototype.subn=function(at){return this.clone().isubn(at)},tt.prototype.iabs=function(){return this.negative=0,this},tt.prototype.abs=function(){return this.clone().iabs()},tt.prototype._ishlnsubmul=function(at,dt,vt){var xt=at.length+vt,wt;this._expand(xt);var _t,At=0;for(wt=0;wt<at.length;wt++){_t=(this.words[wt+vt]|0)+At;var Tt=(at.words[wt]|0)*dt;_t-=Tt&67108863,At=(_t>>26)-(Tt/67108864|0),this.words[wt+vt]=_t&67108863}for(;wt<this.length-vt;wt++)_t=(this.words[wt+vt]|0)+At,At=_t>>26,this.words[wt+vt]=_t&67108863;if(At===0)return this._strip();for(j(At===-1),At=0,wt=0;wt<this.length;wt++)_t=-(this.words[wt]|0)+At,At=_t>>26,this.words[wt]=_t&67108863;return this.negative=1,this._strip()},tt.prototype._wordDiv=function(at,dt){var vt=this.length-at.length,xt=this.clone(),wt=at,_t=wt.words[wt.length-1]|0,At=this._countBits(_t);vt=26-At,vt!==0&&(wt=wt.ushln(vt),xt.iushln(vt),_t=wt.words[wt.length-1]|0);var Tt=xt.length-wt.length,yt;if(dt!=="mod"){yt=new tt(null),yt.length=Tt+1,yt.words=new Array(yt.length);for(var It=0;It<yt.length;It++)yt.words[It]=0}var rr=xt.clone()._ishlnsubmul(wt,1,Tt);rr.negative===0&&(xt=rr,yt&&(yt.words[Tt]=1));for(var ir=Tt-1;ir>=0;ir--){var nr=(xt.words[wt.length+ir]|0)*67108864+(xt.words[wt.length+ir-1]|0);for(nr=Math.min(nr/_t|0,67108863),xt._ishlnsubmul(wt,nr,ir);xt.negative!==0;)nr--,xt.negative=0,xt._ishlnsubmul(wt,1,ir),xt.isZero()||(xt.negative^=1);yt&&(yt.words[ir]=nr)}return yt&&yt._strip(),xt._strip(),dt!=="div"&&vt!==0&&xt.iushrn(vt),{div:yt||null,mod:xt}},tt.prototype.divmod=function(at,dt,vt){if(j(!at.isZero()),this.isZero())return{div:new tt(0),mod:new tt(0)};var xt,wt,_t;return this.negative!==0&&at.negative===0?(_t=this.neg().divmod(at,dt),dt!=="mod"&&(xt=_t.div.neg()),dt!=="div"&&(wt=_t.mod.neg(),vt&&wt.negative!==0&&wt.iadd(at)),{div:xt,mod:wt}):this.negative===0&&at.negative!==0?(_t=this.divmod(at.neg(),dt),dt!=="mod"&&(xt=_t.div.neg()),{div:xt,mod:_t.mod}):this.negative&at.negative?(_t=this.neg().divmod(at.neg(),dt),dt!=="div"&&(wt=_t.mod.neg(),vt&&wt.negative!==0&&wt.isub(at)),{div:_t.div,mod:wt}):at.length>this.length||this.cmp(at)<0?{div:new tt(0),mod:this}:at.length===1?dt==="div"?{div:this.divn(at.words[0]),mod:null}:dt==="mod"?{div:null,mod:new tt(this.modrn(at.words[0]))}:{div:this.divn(at.words[0]),mod:new tt(this.modrn(at.words[0]))}:this._wordDiv(at,dt)},tt.prototype.div=function(at){return this.divmod(at,"div",!1).div},tt.prototype.mod=function(at){return this.divmod(at,"mod",!1).mod},tt.prototype.umod=function(at){return this.divmod(at,"mod",!0).mod},tt.prototype.divRound=function(at){var dt=this.divmod(at);if(dt.mod.isZero())return dt.div;var vt=dt.div.negative!==0?dt.mod.isub(at):dt.mod,xt=at.ushrn(1),wt=at.andln(1),_t=vt.cmp(xt);return _t<0||wt===1&&_t===0?dt.div:dt.div.negative!==0?dt.div.isubn(1):dt.div.iaddn(1)},tt.prototype.modrn=function(at){var dt=at<0;dt&&(at=-at),j(at<=67108863);for(var vt=(1<<26)%at,xt=0,wt=this.length-1;wt>=0;wt--)xt=(vt*xt+(this.words[wt]|0))%at;return dt?-xt:xt},tt.prototype.modn=function(at){return this.modrn(at)},tt.prototype.idivn=function(at){var dt=at<0;dt&&(at=-at),j(at<=67108863);for(var vt=0,xt=this.length-1;xt>=0;xt--){var wt=(this.words[xt]|0)+vt*67108864;this.words[xt]=wt/at|0,vt=wt%at}return this._strip(),dt?this.ineg():this},tt.prototype.divn=function(at){return this.clone().idivn(at)},tt.prototype.egcd=function(at){j(at.negative===0),j(!at.isZero());var dt=this,vt=at.clone();dt.negative!==0?dt=dt.umod(at):dt=dt.clone();for(var xt=new tt(1),wt=new tt(0),_t=new tt(0),At=new tt(1),Tt=0;dt.isEven()&&vt.isEven();)dt.iushrn(1),vt.iushrn(1),++Tt;for(var yt=vt.clone(),It=dt.clone();!dt.isZero();){for(var rr=0,ir=1;!(dt.words[0]&ir)&&rr<26;++rr,ir<<=1);if(rr>0)for(dt.iushrn(rr);rr-- >0;)(xt.isOdd()||wt.isOdd())&&(xt.iadd(yt),wt.isub(It)),xt.iushrn(1),wt.iushrn(1);for(var nr=0,Gt=1;!(vt.words[0]&Gt)&&nr<26;++nr,Gt<<=1);if(nr>0)for(vt.iushrn(nr);nr-- >0;)(_t.isOdd()||At.isOdd())&&(_t.iadd(yt),At.isub(It)),_t.iushrn(1),At.iushrn(1);dt.cmp(vt)>=0?(dt.isub(vt),xt.isub(_t),wt.isub(At)):(vt.isub(dt),_t.isub(xt),At.isub(wt))}return{a:_t,b:At,gcd:vt.iushln(Tt)}},tt.prototype._invmp=function(at){j(at.negative===0),j(!at.isZero());var dt=this,vt=at.clone();dt.negative!==0?dt=dt.umod(at):dt=dt.clone();for(var xt=new tt(1),wt=new tt(0),_t=vt.clone();dt.cmpn(1)>0&&vt.cmpn(1)>0;){for(var At=0,Tt=1;!(dt.words[0]&Tt)&&At<26;++At,Tt<<=1);if(At>0)for(dt.iushrn(At);At-- >0;)xt.isOdd()&&xt.iadd(_t),xt.iushrn(1);for(var yt=0,It=1;!(vt.words[0]&It)&&yt<26;++yt,It<<=1);if(yt>0)for(vt.iushrn(yt);yt-- >0;)wt.isOdd()&&wt.iadd(_t),wt.iushrn(1);dt.cmp(vt)>=0?(dt.isub(vt),xt.isub(wt)):(vt.isub(dt),wt.isub(xt))}var rr;return dt.cmpn(1)===0?rr=xt:rr=wt,rr.cmpn(0)<0&&rr.iadd(at),rr},tt.prototype.gcd=function(at){if(this.isZero())return at.abs();if(at.isZero())return this.abs();var dt=this.clone(),vt=at.clone();dt.negative=0,vt.negative=0;for(var xt=0;dt.isEven()&&vt.isEven();xt++)dt.iushrn(1),vt.iushrn(1);do{for(;dt.isEven();)dt.iushrn(1);for(;vt.isEven();)vt.iushrn(1);var wt=dt.cmp(vt);if(wt<0){var _t=dt;dt=vt,vt=_t}else if(wt===0||vt.cmpn(1)===0)break;dt.isub(vt)}while(!0);return vt.iushln(xt)},tt.prototype.invm=function(at){return this.egcd(at).a.umod(at)},tt.prototype.isEven=function(){return(this.words[0]&1)===0},tt.prototype.isOdd=function(){return(this.words[0]&1)===1},tt.prototype.andln=function(at){return this.words[0]&at},tt.prototype.bincn=function(at){j(typeof at=="number");var dt=at%26,vt=(at-dt)/26,xt=1<<dt;if(this.length<=vt)return this._expand(vt+1),this.words[vt]|=xt,this;for(var wt=xt,_t=vt;wt!==0&&_t<this.length;_t++){var At=this.words[_t]|0;At+=wt,wt=At>>>26,At&=67108863,this.words[_t]=At}return wt!==0&&(this.words[_t]=wt,this.length++),this},tt.prototype.isZero=function(){return this.length===1&&this.words[0]===0},tt.prototype.cmpn=function(at){var dt=at<0;if(this.negative!==0&&!dt)return-1;if(this.negative===0&&dt)return 1;this._strip();var vt;if(this.length>1)vt=1;else{dt&&(at=-at),j(at<=67108863,"Number is too big");var xt=this.words[0]|0;vt=xt===at?0:xt<at?-1:1}return this.negative!==0?-vt|0:vt},tt.prototype.cmp=function(at){if(this.negative!==0&&at.negative===0)return-1;if(this.negative===0&&at.negative!==0)return 1;var dt=this.ucmp(at);return this.negative!==0?-dt|0:dt},tt.prototype.ucmp=function(at){if(this.length>at.length)return 1;if(this.length<at.length)return-1;for(var dt=0,vt=this.length-1;vt>=0;vt--){var xt=this.words[vt]|0,wt=at.words[vt]|0;if(xt!==wt){xt<wt?dt=-1:xt>wt&&(dt=1);break}}return dt},tt.prototype.gtn=function(at){return this.cmpn(at)===1},tt.prototype.gt=function(at){return this.cmp(at)===1},tt.prototype.gten=function(at){return this.cmpn(at)>=0},tt.prototype.gte=function(at){return this.cmp(at)>=0},tt.prototype.ltn=function(at){return this.cmpn(at)===-1},tt.prototype.lt=function(at){return this.cmp(at)===-1},tt.prototype.lten=function(at){return this.cmpn(at)<=0},tt.prototype.lte=function(at){return this.cmp(at)<=0},tt.prototype.eqn=function(at){return this.cmpn(at)===0},tt.prototype.eq=function(at){return this.cmp(at)===0},tt.red=function(at){return new Lt(at)},tt.prototype.toRed=function(at){return j(!this.red,"Already a number in reduction context"),j(this.negative===0,"red works only with positives"),at.convertTo(this)._forceRed(at)},tt.prototype.fromRed=function(){return j(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},tt.prototype._forceRed=function(at){return this.red=at,this},tt.prototype.forceRed=function(at){return j(!this.red,"Already a number in reduction context"),this._forceRed(at)},tt.prototype.redAdd=function(at){return j(this.red,"redAdd works only with red numbers"),this.red.add(this,at)},tt.prototype.redIAdd=function(at){return j(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,at)},tt.prototype.redSub=function(at){return j(this.red,"redSub works only with red numbers"),this.red.sub(this,at)},tt.prototype.redISub=function(at){return j(this.red,"redISub works only with red numbers"),this.red.isub(this,at)},tt.prototype.redShl=function(at){return j(this.red,"redShl works only with red numbers"),this.red.shl(this,at)},tt.prototype.redMul=function(at){return j(this.red,"redMul works only with red numbers"),this.red._verify2(this,at),this.red.mul(this,at)},tt.prototype.redIMul=function(at){return j(this.red,"redMul works only with red numbers"),this.red._verify2(this,at),this.red.imul(this,at)},tt.prototype.redSqr=function(){return j(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},tt.prototype.redISqr=function(){return j(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},tt.prototype.redSqrt=function(){return j(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},tt.prototype.redInvm=function(){return j(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},tt.prototype.redNeg=function(){return j(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},tt.prototype.redPow=function(at){return j(this.red&&!at.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,at)};var Ut={k256:null,p224:null,p192:null,p25519:null};function Vt(bt,at){this.name=bt,this.p=new tt(at,16),this.n=this.p.bitLength(),this.k=new tt(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}Vt.prototype._tmp=function(){var at=new tt(null);return at.words=new Array(Math.ceil(this.n/13)),at},Vt.prototype.ireduce=function(at){var dt=at,vt;do this.split(dt,this.tmp),dt=this.imulK(dt),dt=dt.iadd(this.tmp),vt=dt.bitLength();while(vt>this.n);var xt=vt<this.n?-1:dt.ucmp(this.p);return xt===0?(dt.words[0]=0,dt.length=1):xt>0?dt.isub(this.p):dt.strip!==void 0?dt.strip():dt._strip(),dt},Vt.prototype.split=function(at,dt){at.iushrn(this.n,0,dt)},Vt.prototype.imulK=function(at){return at.imul(this.k)};function jt(){Vt.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}et(jt,Vt),jt.prototype.split=function(at,dt){for(var vt=4194303,xt=Math.min(at.length,9),wt=0;wt<xt;wt++)dt.words[wt]=at.words[wt];if(dt.length=xt,at.length<=9){at.words[0]=0,at.length=1;return}var _t=at.words[9];for(dt.words[dt.length++]=_t&vt,wt=10;wt<at.length;wt++){var At=at.words[wt]|0;at.words[wt-10]=(At&vt)<<4|_t>>>22,_t=At}_t>>>=22,at.words[wt-10]=_t,_t===0&&at.length>10?at.length-=10:at.length-=9},jt.prototype.imulK=function(at){at.words[at.length]=0,at.words[at.length+1]=0,at.length+=2;for(var dt=0,vt=0;vt<at.length;vt++){var xt=at.words[vt]|0;dt+=xt*977,at.words[vt]=dt&67108863,dt=xt*64+(dt/67108864|0)}return at.words[at.length-1]===0&&(at.length--,at.words[at.length-1]===0&&at.length--),at};function $t(){Vt.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}et($t,Vt);function Bt(){Vt.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}et(Bt,Vt);function Nt(){Vt.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}et(Nt,Vt),Nt.prototype.imulK=function(at){for(var dt=0,vt=0;vt<at.length;vt++){var xt=(at.words[vt]|0)*19+dt,wt=xt&67108863;xt>>>=26,at.words[vt]=wt,dt=xt}return dt!==0&&(at.words[at.length++]=dt),at},tt._prime=function(at){if(Ut[at])return Ut[at];var dt;if(at==="k256")dt=new jt;else if(at==="p224")dt=new $t;else if(at==="p192")dt=new Bt;else if(at==="p25519")dt=new Nt;else throw new Error("Unknown prime "+at);return Ut[at]=dt,dt};function Lt(bt){if(typeof bt=="string"){var at=tt._prime(bt);this.m=at.p,this.prime=at}else j(bt.gtn(1),"modulus must be greater than 1"),this.m=bt,this.prime=null}Lt.prototype._verify1=function(at){j(at.negative===0,"red works only with positives"),j(at.red,"red works only with red numbers")},Lt.prototype._verify2=function(at,dt){j((at.negative|dt.negative)===0,"red works only with positives"),j(at.red&&at.red===dt.red,"red works only with red numbers")},Lt.prototype.imod=function(at){return this.prime?this.prime.ireduce(at)._forceRed(this):(st(at,at.umod(this.m)._forceRed(this)),at)},Lt.prototype.neg=function(at){return at.isZero()?at.clone():this.m.sub(at)._forceRed(this)},Lt.prototype.add=function(at,dt){this._verify2(at,dt);var vt=at.add(dt);return vt.cmp(this.m)>=0&&vt.isub(this.m),vt._forceRed(this)},Lt.prototype.iadd=function(at,dt){this._verify2(at,dt);var vt=at.iadd(dt);return vt.cmp(this.m)>=0&&vt.isub(this.m),vt},Lt.prototype.sub=function(at,dt){this._verify2(at,dt);var vt=at.sub(dt);return vt.cmpn(0)<0&&vt.iadd(this.m),vt._forceRed(this)},Lt.prototype.isub=function(at,dt){this._verify2(at,dt);var vt=at.isub(dt);return vt.cmpn(0)<0&&vt.iadd(this.m),vt},Lt.prototype.shl=function(at,dt){return this._verify1(at),this.imod(at.ushln(dt))},Lt.prototype.imul=function(at,dt){return this._verify2(at,dt),this.imod(at.imul(dt))},Lt.prototype.mul=function(at,dt){return this._verify2(at,dt),this.imod(at.mul(dt))},Lt.prototype.isqr=function(at){return this.imul(at,at.clone())},Lt.prototype.sqr=function(at){return this.mul(at,at)},Lt.prototype.sqrt=function(at){if(at.isZero())return at.clone();var dt=this.m.andln(3);if(j(dt%2===1),dt===3){var vt=this.m.add(new tt(1)).iushrn(2);return this.pow(at,vt)}for(var xt=this.m.subn(1),wt=0;!xt.isZero()&&xt.andln(1)===0;)wt++,xt.iushrn(1);j(!xt.isZero());var _t=new tt(1).toRed(this),At=_t.redNeg(),Tt=this.m.subn(1).iushrn(1),yt=this.m.bitLength();for(yt=new tt(2*yt*yt).toRed(this);this.pow(yt,Tt).cmp(At)!==0;)yt.redIAdd(At);for(var It=this.pow(yt,xt),rr=this.pow(at,xt.addn(1).iushrn(1)),ir=this.pow(at,xt),nr=wt;ir.cmp(_t)!==0;){for(var Gt=ir,qt=0;Gt.cmp(_t)!==0;qt++)Gt=Gt.redSqr();j(qt<nr);var Jt=this.pow(It,new tt(1).iushln(nr-qt-1));rr=rr.redMul(Jt),It=Jt.redSqr(),ir=ir.redMul(It),nr=qt}return rr},Lt.prototype.invm=function(at){var dt=at._invmp(this.m);return dt.negative!==0?(dt.negative=0,this.imod(dt).redNeg()):this.imod(dt)},Lt.prototype.pow=function(at,dt){if(dt.isZero())return new tt(1).toRed(this);if(dt.cmpn(1)===0)return at.clone();var vt=4,xt=new Array(1<<vt);xt[0]=new tt(1).toRed(this),xt[1]=at;for(var wt=2;wt<xt.length;wt++)xt[wt]=this.mul(xt[wt-1],at);var _t=xt[0],At=0,Tt=0,yt=dt.bitLength()%26;for(yt===0&&(yt=26),wt=dt.length-1;wt>=0;wt--){for(var It=dt.words[wt],rr=yt-1;rr>=0;rr--){var ir=It>>rr&1;if(_t!==xt[0]&&(_t=this.sqr(_t)),ir===0&&At===0){Tt=0;continue}At<<=1,At|=ir,Tt++,!(Tt!==vt&&(wt!==0||rr!==0))&&(_t=this.mul(_t,xt[At]),Tt=0,At=0)}yt=26}return _t},Lt.prototype.convertTo=function(at){var dt=at.umod(this.m);return dt===at?dt.clone():dt},Lt.prototype.convertFrom=function(at){var dt=at.clone();return dt.red=null,dt},tt.mont=function(at){return new Pt(at)};function Pt(bt){Lt.call(this,bt),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new tt(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}et(Pt,Lt),Pt.prototype.convertTo=function(at){return this.imod(at.ushln(this.shift))},Pt.prototype.convertFrom=function(at){var dt=this.imod(at.mul(this.rinv));return dt.red=null,dt},Pt.prototype.imul=function(at,dt){if(at.isZero()||dt.isZero())return at.words[0]=0,at.length=1,at;var vt=at.imul(dt),xt=vt.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),wt=vt.isub(xt).iushrn(this.shift),_t=wt;return wt.cmp(this.m)>=0?_t=wt.isub(this.m):wt.cmpn(0)<0&&(_t=wt.iadd(this.m)),_t._forceRed(this)},Pt.prototype.mul=function(at,dt){if(at.isZero()||dt.isZero())return new tt(0)._forceRed(this);var vt=at.mul(dt),xt=vt.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),wt=vt.isub(xt).iushrn(this.shift),_t=wt;return wt.cmp(this.m)>=0?_t=wt.isub(this.m):wt.cmpn(0)<0&&(_t=wt.iadd(this.m)),_t._forceRed(this)},Pt.prototype.invm=function(at){var dt=this.imod(at._invmp(this.m).mul(this.r2));return dt._forceRed(this)}})(_,commonjsGlobal)}(bn$2)),bn$2.exports}var browserifyRsa,hasRequiredBrowserifyRsa;function requireBrowserifyRsa(){if(hasRequiredBrowserifyRsa)return browserifyRsa;hasRequiredBrowserifyRsa=1;var _=requireBn$1(),a=requireBrowser$8();function $(tt){var rt=j(tt),nt=rt.toRed(_.mont(tt.modulus)).redPow(new _(tt.publicExponent)).fromRed();return{blinder:nt,unblinder:rt.invm(tt.modulus)}}function j(tt){var rt=tt.modulus.byteLength(),nt;do nt=new _(a(rt));while(nt.cmp(tt.modulus)>=0||!nt.umod(tt.prime1)||!nt.umod(tt.prime2));return nt}function et(tt,rt){var nt=$(rt),it=rt.modulus.byteLength(),ot=new _(tt).mul(nt.blinder).umod(rt.modulus),st=ot.toRed(_.mont(rt.prime1)),ct=ot.toRed(_.mont(rt.prime2)),ut=rt.coefficient,ht=rt.prime1,Et=rt.prime2,St=st.redPow(rt.exponent1).fromRed(),Mt=ct.redPow(rt.exponent2).fromRed(),kt=St.isub(Mt).imul(ut).umod(ht).imul(Et);return Mt.iadd(kt).imul(nt.unblinder).umod(rt.modulus).toArrayLike(Buffer$g,"be",it)}return et.getr=j,browserifyRsa=et,browserifyRsa}var elliptic$1={};const name$1="elliptic",version$1="6.5.5",description$1="EC cryptography",main$1="lib/elliptic.js",files=["lib"],scripts$1={lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},repository$1={type:"git",url:"git@github.com:indutny/elliptic"},keywords=["EC","Elliptic","curve","Cryptography"],author$1="Fedor Indutny <fedor@indutny.com>",license$1="MIT",bugs={url:"https://github.com/indutny/elliptic/issues"},homepage$1="https://github.com/indutny/elliptic",devDependencies$1={brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},dependencies$1={"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"},require$$0$1={name:name$1,version:version$1,description:description$1,main:main$1,files,scripts:scripts$1,repository:repository$1,keywords,author:author$1,license:license$1,bugs,homepage:homepage$1,devDependencies:devDependencies$1,dependencies:dependencies$1};var utils$q={},utils$p={};(function(_){var a=_;function $(tt,rt){if(Array.isArray(tt))return tt.slice();if(!tt)return[];var nt=[];if(typeof tt!="string"){for(var it=0;it<tt.length;it++)nt[it]=tt[it]|0;return nt}if(rt==="hex"){tt=tt.replace(/[^a-z0-9]+/ig,""),tt.length%2!==0&&(tt="0"+tt);for(var it=0;it<tt.length;it+=2)nt.push(parseInt(tt[it]+tt[it+1],16))}else for(var it=0;it<tt.length;it++){var ot=tt.charCodeAt(it),st=ot>>8,ct=ot&255;st?nt.push(st,ct):nt.push(ct)}return nt}a.toArray=$;function j(tt){return tt.length===1?"0"+tt:tt}a.zero2=j;function et(tt){for(var rt="",nt=0;nt<tt.length;nt++)rt+=j(tt[nt].toString(16));return rt}a.toHex=et,a.encode=function(rt,nt){return nt==="hex"?et(rt):rt}})(utils$p);(function(_){var a=_,$=bnExports$1,j=minimalisticAssert,et=utils$p;a.assert=j,a.toArray=et.toArray,a.zero2=et.zero2,a.toHex=et.toHex,a.encode=et.encode;function tt(st,ct,ut){var ht=new Array(Math.max(st.bitLength(),ut)+1),Et;for(Et=0;Et<ht.length;Et+=1)ht[Et]=0;var St=1<<ct+1,Mt=st.clone();for(Et=0;Et<ht.length;Et++){var kt,Ct=Mt.andln(St-1);Mt.isOdd()?(Ct>(St>>1)-1?kt=(St>>1)-Ct:kt=Ct,Mt.isubn(kt)):kt=0,ht[Et]=kt,Mt.iushrn(1)}return ht}a.getNAF=tt;function rt(st,ct){var ut=[[],[]];st=st.clone(),ct=ct.clone();for(var ht=0,Et=0,St;st.cmpn(-ht)>0||ct.cmpn(-Et)>0;){var Mt=st.andln(3)+ht&3,kt=ct.andln(3)+Et&3;Mt===3&&(Mt=-1),kt===3&&(kt=-1);var Ct;Mt&1?(St=st.andln(7)+ht&7,(St===3||St===5)&&kt===2?Ct=-Mt:Ct=Mt):Ct=0,ut[0].push(Ct);var Ot;kt&1?(St=ct.andln(7)+Et&7,(St===3||St===5)&&Mt===2?Ot=-kt:Ot=kt):Ot=0,ut[1].push(Ot),2*ht===Ct+1&&(ht=1-ht),2*Et===Ot+1&&(Et=1-Et),st.iushrn(1),ct.iushrn(1)}return ut}a.getJSF=rt;function nt(st,ct,ut){var ht="_"+ct;st.prototype[ct]=function(){return this[ht]!==void 0?this[ht]:this[ht]=ut.call(this)}}a.cachedProperty=nt;function it(st){return typeof st=="string"?a.toArray(st,"hex"):st}a.parseBytes=it;function ot(st){return new $(st,"hex","le")}a.intFromLE=ot})(utils$q);var curve={},BN$7=bnExports$1,utils$o=utils$q,getNAF=utils$o.getNAF,getJSF=utils$o.getJSF,assert$g=utils$o.assert;function BaseCurve(_,a){this.type=_,this.p=new BN$7(a.p,16),this.red=a.prime?BN$7.red(a.prime):BN$7.mont(this.p),this.zero=new BN$7(0).toRed(this.red),this.one=new BN$7(1).toRed(this.red),this.two=new BN$7(2).toRed(this.red),this.n=a.n&&new BN$7(a.n,16),this.g=a.g&&this.pointFromJSON(a.g,a.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var $=this.n&&this.p.div(this.n);!$||$.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var base$3=BaseCurve;BaseCurve.prototype.point=function(){throw new Error("Not implemented")};BaseCurve.prototype.validate=function(){throw new Error("Not implemented")};BaseCurve.prototype._fixedNafMul=function(a,$){assert$g(a.precomputed);var j=a._getDoubles(),et=getNAF($,1,this._bitLength),tt=(1<<j.step+1)-(j.step%2===0?2:1);tt/=3;var rt=[],nt,it;for(nt=0;nt<et.length;nt+=j.step){it=0;for(var ot=nt+j.step-1;ot>=nt;ot--)it=(it<<1)+et[ot];rt.push(it)}for(var st=this.jpoint(null,null,null),ct=this.jpoint(null,null,null),ut=tt;ut>0;ut--){for(nt=0;nt<rt.length;nt++)it=rt[nt],it===ut?ct=ct.mixedAdd(j.points[nt]):it===-ut&&(ct=ct.mixedAdd(j.points[nt].neg()));st=st.add(ct)}return st.toP()};BaseCurve.prototype._wnafMul=function(a,$){var j=4,et=a._getNAFPoints(j);j=et.wnd;for(var tt=et.points,rt=getNAF($,j,this._bitLength),nt=this.jpoint(null,null,null),it=rt.length-1;it>=0;it--){for(var ot=0;it>=0&&rt[it]===0;it--)ot++;if(it>=0&&ot++,nt=nt.dblp(ot),it<0)break;var st=rt[it];assert$g(st!==0),a.type==="affine"?st>0?nt=nt.mixedAdd(tt[st-1>>1]):nt=nt.mixedAdd(tt[-st-1>>1].neg()):st>0?nt=nt.add(tt[st-1>>1]):nt=nt.add(tt[-st-1>>1].neg())}return a.type==="affine"?nt.toP():nt};BaseCurve.prototype._wnafMulAdd=function(a,$,j,et,tt){var rt=this._wnafT1,nt=this._wnafT2,it=this._wnafT3,ot=0,st,ct,ut;for(st=0;st<et;st++){ut=$[st];var ht=ut._getNAFPoints(a);rt[st]=ht.wnd,nt[st]=ht.points}for(st=et-1;st>=1;st-=2){var Et=st-1,St=st;if(rt[Et]!==1||rt[St]!==1){it[Et]=getNAF(j[Et],rt[Et],this._bitLength),it[St]=getNAF(j[St],rt[St],this._bitLength),ot=Math.max(it[Et].length,ot),ot=Math.max(it[St].length,ot);continue}var Mt=[$[Et],null,null,$[St]];$[Et].y.cmp($[St].y)===0?(Mt[1]=$[Et].add($[St]),Mt[2]=$[Et].toJ().mixedAdd($[St].neg())):$[Et].y.cmp($[St].y.redNeg())===0?(Mt[1]=$[Et].toJ().mixedAdd($[St]),Mt[2]=$[Et].add($[St].neg())):(Mt[1]=$[Et].toJ().mixedAdd($[St]),Mt[2]=$[Et].toJ().mixedAdd($[St].neg()));var kt=[-3,-1,-5,-7,0,7,5,1,3],Ct=getJSF(j[Et],j[St]);for(ot=Math.max(Ct[0].length,ot),it[Et]=new Array(ot),it[St]=new Array(ot),ct=0;ct<ot;ct++){var Ot=Ct[0][ct]|0,zt=Ct[1][ct]|0;it[Et][ct]=kt[(Ot+1)*3+(zt+1)],it[St][ct]=0,nt[Et]=Mt}}var Ut=this.jpoint(null,null,null),Vt=this._wnafT4;for(st=ot;st>=0;st--){for(var jt=0;st>=0;){var $t=!0;for(ct=0;ct<et;ct++)Vt[ct]=it[ct][st]|0,Vt[ct]!==0&&($t=!1);if(!$t)break;jt++,st--}if(st>=0&&jt++,Ut=Ut.dblp(jt),st<0)break;for(ct=0;ct<et;ct++){var Bt=Vt[ct];Bt!==0&&(Bt>0?ut=nt[ct][Bt-1>>1]:Bt<0&&(ut=nt[ct][-Bt-1>>1].neg()),ut.type==="affine"?Ut=Ut.mixedAdd(ut):Ut=Ut.add(ut))}}for(st=0;st<et;st++)nt[st]=null;return tt?Ut:Ut.toP()};function BasePoint(_,a){this.curve=_,this.type=a,this.precomputed=null}BaseCurve.BasePoint=BasePoint;BasePoint.prototype.eq=function(){throw new Error("Not implemented")};BasePoint.prototype.validate=function(){return this.curve.validate(this)};BaseCurve.prototype.decodePoint=function(a,$){a=utils$o.toArray(a,$);var j=this.p.byteLength();if((a[0]===4||a[0]===6||a[0]===7)&&a.length-1===2*j){a[0]===6?assert$g(a[a.length-1]%2===0):a[0]===7&&assert$g(a[a.length-1]%2===1);var et=this.point(a.slice(1,1+j),a.slice(1+j,1+2*j));return et}else if((a[0]===2||a[0]===3)&&a.length-1===j)return this.pointFromX(a.slice(1,1+j),a[0]===3);throw new Error("Unknown point format")};BasePoint.prototype.encodeCompressed=function(a){return this.encode(a,!0)};BasePoint.prototype._encode=function(a){var $=this.curve.p.byteLength(),j=this.getX().toArray("be",$);return a?[this.getY().isEven()?2:3].concat(j):[4].concat(j,this.getY().toArray("be",$))};BasePoint.prototype.encode=function(a,$){return utils$o.encode(this._encode($),a)};BasePoint.prototype.precompute=function(a){if(this.precomputed)return this;var $={doubles:null,naf:null,beta:null};return $.naf=this._getNAFPoints(8),$.doubles=this._getDoubles(4,a),$.beta=this._getBeta(),this.precomputed=$,this};BasePoint.prototype._hasDoubles=function(a){if(!this.precomputed)return!1;var $=this.precomputed.doubles;return $?$.points.length>=Math.ceil((a.bitLength()+1)/$.step):!1};BasePoint.prototype._getDoubles=function(a,$){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var j=[this],et=this,tt=0;tt<$;tt+=a){for(var rt=0;rt<a;rt++)et=et.dbl();j.push(et)}return{step:a,points:j}};BasePoint.prototype._getNAFPoints=function(a){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var $=[this],j=(1<<a)-1,et=j===1?null:this.dbl(),tt=1;tt<j;tt++)$[tt]=$[tt-1].add(et);return{wnd:a,points:$}};BasePoint.prototype._getBeta=function(){return null};BasePoint.prototype.dblp=function(a){for(var $=this,j=0;j<a;j++)$=$.dbl();return $};var utils$n=utils$q,BN$6=bnExports$1,inherits$4=inherits_browserExports,Base$2=base$3,assert$f=utils$n.assert;function ShortCurve(_){Base$2.call(this,"short",_),this.a=new BN$6(_.a,16).toRed(this.red),this.b=new BN$6(_.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(_),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}inherits$4(ShortCurve,Base$2);var short=ShortCurve;ShortCurve.prototype._getEndomorphism=function(a){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var $,j;if(a.beta)$=new BN$6(a.beta,16).toRed(this.red);else{var et=this._getEndoRoots(this.p);$=et[0].cmp(et[1])<0?et[0]:et[1],$=$.toRed(this.red)}if(a.lambda)j=new BN$6(a.lambda,16);else{var tt=this._getEndoRoots(this.n);this.g.mul(tt[0]).x.cmp(this.g.x.redMul($))===0?j=tt[0]:(j=tt[1],assert$f(this.g.mul(j).x.cmp(this.g.x.redMul($))===0))}var rt;return a.basis?rt=a.basis.map(function(nt){return{a:new BN$6(nt.a,16),b:new BN$6(nt.b,16)}}):rt=this._getEndoBasis(j),{beta:$,lambda:j,basis:rt}}};ShortCurve.prototype._getEndoRoots=function(a){var $=a===this.p?this.red:BN$6.mont(a),j=new BN$6(2).toRed($).redInvm(),et=j.redNeg(),tt=new BN$6(3).toRed($).redNeg().redSqrt().redMul(j),rt=et.redAdd(tt).fromRed(),nt=et.redSub(tt).fromRed();return[rt,nt]};ShortCurve.prototype._getEndoBasis=function(a){for(var $=this.n.ushrn(Math.floor(this.n.bitLength()/2)),j=a,et=this.n.clone(),tt=new BN$6(1),rt=new BN$6(0),nt=new BN$6(0),it=new BN$6(1),ot,st,ct,ut,ht,Et,St,Mt=0,kt,Ct;j.cmpn(0)!==0;){var Ot=et.div(j);kt=et.sub(Ot.mul(j)),Ct=nt.sub(Ot.mul(tt));var zt=it.sub(Ot.mul(rt));if(!ct&&kt.cmp($)<0)ot=St.neg(),st=tt,ct=kt.neg(),ut=Ct;else if(ct&&++Mt===2)break;St=kt,et=j,j=kt,nt=tt,tt=Ct,it=rt,rt=zt}ht=kt.neg(),Et=Ct;var Ut=ct.sqr().add(ut.sqr()),Vt=ht.sqr().add(Et.sqr());return Vt.cmp(Ut)>=0&&(ht=ot,Et=st),ct.negative&&(ct=ct.neg(),ut=ut.neg()),ht.negative&&(ht=ht.neg(),Et=Et.neg()),[{a:ct,b:ut},{a:ht,b:Et}]};ShortCurve.prototype._endoSplit=function(a){var $=this.endo.basis,j=$[0],et=$[1],tt=et.b.mul(a).divRound(this.n),rt=j.b.neg().mul(a).divRound(this.n),nt=tt.mul(j.a),it=rt.mul(et.a),ot=tt.mul(j.b),st=rt.mul(et.b),ct=a.sub(nt).sub(it),ut=ot.add(st).neg();return{k1:ct,k2:ut}};ShortCurve.prototype.pointFromX=function(a,$){a=new BN$6(a,16),a.red||(a=a.toRed(this.red));var j=a.redSqr().redMul(a).redIAdd(a.redMul(this.a)).redIAdd(this.b),et=j.redSqrt();if(et.redSqr().redSub(j).cmp(this.zero)!==0)throw new Error("invalid point");var tt=et.fromRed().isOdd();return($&&!tt||!$&&tt)&&(et=et.redNeg()),this.point(a,et)};ShortCurve.prototype.validate=function(a){if(a.inf)return!0;var $=a.x,j=a.y,et=this.a.redMul($),tt=$.redSqr().redMul($).redIAdd(et).redIAdd(this.b);return j.redSqr().redISub(tt).cmpn(0)===0};ShortCurve.prototype._endoWnafMulAdd=function(a,$,j){for(var et=this._endoWnafT1,tt=this._endoWnafT2,rt=0;rt<a.length;rt++){var nt=this._endoSplit($[rt]),it=a[rt],ot=it._getBeta();nt.k1.negative&&(nt.k1.ineg(),it=it.neg(!0)),nt.k2.negative&&(nt.k2.ineg(),ot=ot.neg(!0)),et[rt*2]=it,et[rt*2+1]=ot,tt[rt*2]=nt.k1,tt[rt*2+1]=nt.k2}for(var st=this._wnafMulAdd(1,et,tt,rt*2,j),ct=0;ct<rt*2;ct++)et[ct]=null,tt[ct]=null;return st};function Point$2(_,a,$,j){Base$2.BasePoint.call(this,_,"affine"),a===null&&$===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new BN$6(a,16),this.y=new BN$6($,16),j&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}inherits$4(Point$2,Base$2.BasePoint);ShortCurve.prototype.point=function(a,$,j){return new Point$2(this,a,$,j)};ShortCurve.prototype.pointFromJSON=function(a,$){return Point$2.fromJSON(this,a,$)};Point$2.prototype._getBeta=function(){if(this.curve.endo){var a=this.precomputed;if(a&&a.beta)return a.beta;var $=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(a){var j=this.curve,et=function(tt){return j.point(tt.x.redMul(j.endo.beta),tt.y)};a.beta=$,$.precomputed={beta:null,naf:a.naf&&{wnd:a.naf.wnd,points:a.naf.points.map(et)},doubles:a.doubles&&{step:a.doubles.step,points:a.doubles.points.map(et)}}}return $}};Point$2.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};Point$2.fromJSON=function(a,$,j){typeof $=="string"&&($=JSON.parse($));var et=a.point($[0],$[1],j);if(!$[2])return et;function tt(nt){return a.point(nt[0],nt[1],j)}var rt=$[2];return et.precomputed={beta:null,doubles:rt.doubles&&{step:rt.doubles.step,points:[et].concat(rt.doubles.points.map(tt))},naf:rt.naf&&{wnd:rt.naf.wnd,points:[et].concat(rt.naf.points.map(tt))}},et};Point$2.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};Point$2.prototype.isInfinity=function(){return this.inf};Point$2.prototype.add=function(a){if(this.inf)return a;if(a.inf)return this;if(this.eq(a))return this.dbl();if(this.neg().eq(a))return this.curve.point(null,null);if(this.x.cmp(a.x)===0)return this.curve.point(null,null);var $=this.y.redSub(a.y);$.cmpn(0)!==0&&($=$.redMul(this.x.redSub(a.x).redInvm()));var j=$.redSqr().redISub(this.x).redISub(a.x),et=$.redMul(this.x.redSub(j)).redISub(this.y);return this.curve.point(j,et)};Point$2.prototype.dbl=function(){if(this.inf)return this;var a=this.y.redAdd(this.y);if(a.cmpn(0)===0)return this.curve.point(null,null);var $=this.curve.a,j=this.x.redSqr(),et=a.redInvm(),tt=j.redAdd(j).redIAdd(j).redIAdd($).redMul(et),rt=tt.redSqr().redISub(this.x.redAdd(this.x)),nt=tt.redMul(this.x.redSub(rt)).redISub(this.y);return this.curve.point(rt,nt)};Point$2.prototype.getX=function(){return this.x.fromRed()};Point$2.prototype.getY=function(){return this.y.fromRed()};Point$2.prototype.mul=function(a){return a=new BN$6(a,16),this.isInfinity()?this:this._hasDoubles(a)?this.curve._fixedNafMul(this,a):this.curve.endo?this.curve._endoWnafMulAdd([this],[a]):this.curve._wnafMul(this,a)};Point$2.prototype.mulAdd=function(a,$,j){var et=[this,$],tt=[a,j];return this.curve.endo?this.curve._endoWnafMulAdd(et,tt):this.curve._wnafMulAdd(1,et,tt,2)};Point$2.prototype.jmulAdd=function(a,$,j){var et=[this,$],tt=[a,j];return this.curve.endo?this.curve._endoWnafMulAdd(et,tt,!0):this.curve._wnafMulAdd(1,et,tt,2,!0)};Point$2.prototype.eq=function(a){return this===a||this.inf===a.inf&&(this.inf||this.x.cmp(a.x)===0&&this.y.cmp(a.y)===0)};Point$2.prototype.neg=function(a){if(this.inf)return this;var $=this.curve.point(this.x,this.y.redNeg());if(a&&this.precomputed){var j=this.precomputed,et=function(tt){return tt.neg()};$.precomputed={naf:j.naf&&{wnd:j.naf.wnd,points:j.naf.points.map(et)},doubles:j.doubles&&{step:j.doubles.step,points:j.doubles.points.map(et)}}}return $};Point$2.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var a=this.curve.jpoint(this.x,this.y,this.curve.one);return a};function JPoint(_,a,$,j){Base$2.BasePoint.call(this,_,"jacobian"),a===null&&$===null&&j===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new BN$6(0)):(this.x=new BN$6(a,16),this.y=new BN$6($,16),this.z=new BN$6(j,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}inherits$4(JPoint,Base$2.BasePoint);ShortCurve.prototype.jpoint=function(a,$,j){return new JPoint(this,a,$,j)};JPoint.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var a=this.z.redInvm(),$=a.redSqr(),j=this.x.redMul($),et=this.y.redMul($).redMul(a);return this.curve.point(j,et)};JPoint.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};JPoint.prototype.add=function(a){if(this.isInfinity())return a;if(a.isInfinity())return this;var $=a.z.redSqr(),j=this.z.redSqr(),et=this.x.redMul($),tt=a.x.redMul(j),rt=this.y.redMul($.redMul(a.z)),nt=a.y.redMul(j.redMul(this.z)),it=et.redSub(tt),ot=rt.redSub(nt);if(it.cmpn(0)===0)return ot.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var st=it.redSqr(),ct=st.redMul(it),ut=et.redMul(st),ht=ot.redSqr().redIAdd(ct).redISub(ut).redISub(ut),Et=ot.redMul(ut.redISub(ht)).redISub(rt.redMul(ct)),St=this.z.redMul(a.z).redMul(it);return this.curve.jpoint(ht,Et,St)};JPoint.prototype.mixedAdd=function(a){if(this.isInfinity())return a.toJ();if(a.isInfinity())return this;var $=this.z.redSqr(),j=this.x,et=a.x.redMul($),tt=this.y,rt=a.y.redMul($).redMul(this.z),nt=j.redSub(et),it=tt.redSub(rt);if(nt.cmpn(0)===0)return it.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var ot=nt.redSqr(),st=ot.redMul(nt),ct=j.redMul(ot),ut=it.redSqr().redIAdd(st).redISub(ct).redISub(ct),ht=it.redMul(ct.redISub(ut)).redISub(tt.redMul(st)),Et=this.z.redMul(nt);return this.curve.jpoint(ut,ht,Et)};JPoint.prototype.dblp=function(a){if(a===0)return this;if(this.isInfinity())return this;if(!a)return this.dbl();var $;if(this.curve.zeroA||this.curve.threeA){var j=this;for($=0;$<a;$++)j=j.dbl();return j}var et=this.curve.a,tt=this.curve.tinv,rt=this.x,nt=this.y,it=this.z,ot=it.redSqr().redSqr(),st=nt.redAdd(nt);for($=0;$<a;$++){var ct=rt.redSqr(),ut=st.redSqr(),ht=ut.redSqr(),Et=ct.redAdd(ct).redIAdd(ct).redIAdd(et.redMul(ot)),St=rt.redMul(ut),Mt=Et.redSqr().redISub(St.redAdd(St)),kt=St.redISub(Mt),Ct=Et.redMul(kt);Ct=Ct.redIAdd(Ct).redISub(ht);var Ot=st.redMul(it);$+1<a&&(ot=ot.redMul(ht)),rt=Mt,it=Ot,st=Ct}return this.curve.jpoint(rt,st.redMul(tt),it)};JPoint.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};JPoint.prototype._zeroDbl=function(){var a,$,j;if(this.zOne){var et=this.x.redSqr(),tt=this.y.redSqr(),rt=tt.redSqr(),nt=this.x.redAdd(tt).redSqr().redISub(et).redISub(rt);nt=nt.redIAdd(nt);var it=et.redAdd(et).redIAdd(et),ot=it.redSqr().redISub(nt).redISub(nt),st=rt.redIAdd(rt);st=st.redIAdd(st),st=st.redIAdd(st),a=ot,$=it.redMul(nt.redISub(ot)).redISub(st),j=this.y.redAdd(this.y)}else{var ct=this.x.redSqr(),ut=this.y.redSqr(),ht=ut.redSqr(),Et=this.x.redAdd(ut).redSqr().redISub(ct).redISub(ht);Et=Et.redIAdd(Et);var St=ct.redAdd(ct).redIAdd(ct),Mt=St.redSqr(),kt=ht.redIAdd(ht);kt=kt.redIAdd(kt),kt=kt.redIAdd(kt),a=Mt.redISub(Et).redISub(Et),$=St.redMul(Et.redISub(a)).redISub(kt),j=this.y.redMul(this.z),j=j.redIAdd(j)}return this.curve.jpoint(a,$,j)};JPoint.prototype._threeDbl=function(){var a,$,j;if(this.zOne){var et=this.x.redSqr(),tt=this.y.redSqr(),rt=tt.redSqr(),nt=this.x.redAdd(tt).redSqr().redISub(et).redISub(rt);nt=nt.redIAdd(nt);var it=et.redAdd(et).redIAdd(et).redIAdd(this.curve.a),ot=it.redSqr().redISub(nt).redISub(nt);a=ot;var st=rt.redIAdd(rt);st=st.redIAdd(st),st=st.redIAdd(st),$=it.redMul(nt.redISub(ot)).redISub(st),j=this.y.redAdd(this.y)}else{var ct=this.z.redSqr(),ut=this.y.redSqr(),ht=this.x.redMul(ut),Et=this.x.redSub(ct).redMul(this.x.redAdd(ct));Et=Et.redAdd(Et).redIAdd(Et);var St=ht.redIAdd(ht);St=St.redIAdd(St);var Mt=St.redAdd(St);a=Et.redSqr().redISub(Mt),j=this.y.redAdd(this.z).redSqr().redISub(ut).redISub(ct);var kt=ut.redSqr();kt=kt.redIAdd(kt),kt=kt.redIAdd(kt),kt=kt.redIAdd(kt),$=Et.redMul(St.redISub(a)).redISub(kt)}return this.curve.jpoint(a,$,j)};JPoint.prototype._dbl=function(){var a=this.curve.a,$=this.x,j=this.y,et=this.z,tt=et.redSqr().redSqr(),rt=$.redSqr(),nt=j.redSqr(),it=rt.redAdd(rt).redIAdd(rt).redIAdd(a.redMul(tt)),ot=$.redAdd($);ot=ot.redIAdd(ot);var st=ot.redMul(nt),ct=it.redSqr().redISub(st.redAdd(st)),ut=st.redISub(ct),ht=nt.redSqr();ht=ht.redIAdd(ht),ht=ht.redIAdd(ht),ht=ht.redIAdd(ht);var Et=it.redMul(ut).redISub(ht),St=j.redAdd(j).redMul(et);return this.curve.jpoint(ct,Et,St)};JPoint.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var a=this.x.redSqr(),$=this.y.redSqr(),j=this.z.redSqr(),et=$.redSqr(),tt=a.redAdd(a).redIAdd(a),rt=tt.redSqr(),nt=this.x.redAdd($).redSqr().redISub(a).redISub(et);nt=nt.redIAdd(nt),nt=nt.redAdd(nt).redIAdd(nt),nt=nt.redISub(rt);var it=nt.redSqr(),ot=et.redIAdd(et);ot=ot.redIAdd(ot),ot=ot.redIAdd(ot),ot=ot.redIAdd(ot);var st=tt.redIAdd(nt).redSqr().redISub(rt).redISub(it).redISub(ot),ct=$.redMul(st);ct=ct.redIAdd(ct),ct=ct.redIAdd(ct);var ut=this.x.redMul(it).redISub(ct);ut=ut.redIAdd(ut),ut=ut.redIAdd(ut);var ht=this.y.redMul(st.redMul(ot.redISub(st)).redISub(nt.redMul(it)));ht=ht.redIAdd(ht),ht=ht.redIAdd(ht),ht=ht.redIAdd(ht);var Et=this.z.redAdd(nt).redSqr().redISub(j).redISub(it);return this.curve.jpoint(ut,ht,Et)};JPoint.prototype.mul=function(a,$){return a=new BN$6(a,$),this.curve._wnafMul(this,a)};JPoint.prototype.eq=function(a){if(a.type==="affine")return this.eq(a.toJ());if(this===a)return!0;var $=this.z.redSqr(),j=a.z.redSqr();if(this.x.redMul(j).redISub(a.x.redMul($)).cmpn(0)!==0)return!1;var et=$.redMul(this.z),tt=j.redMul(a.z);return this.y.redMul(tt).redISub(a.y.redMul(et)).cmpn(0)===0};JPoint.prototype.eqXToP=function(a){var $=this.z.redSqr(),j=a.toRed(this.curve.red).redMul($);if(this.x.cmp(j)===0)return!0;for(var et=a.clone(),tt=this.curve.redN.redMul($);;){if(et.iadd(this.curve.n),et.cmp(this.curve.p)>=0)return!1;if(j.redIAdd(tt),this.x.cmp(j)===0)return!0}};JPoint.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};JPoint.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var BN$5=bnExports$1,inherits$3=inherits_browserExports,Base$1=base$3,utils$m=utils$q;function MontCurve(_){Base$1.call(this,"mont",_),this.a=new BN$5(_.a,16).toRed(this.red),this.b=new BN$5(_.b,16).toRed(this.red),this.i4=new BN$5(4).toRed(this.red).redInvm(),this.two=new BN$5(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}inherits$3(MontCurve,Base$1);var mont=MontCurve;MontCurve.prototype.validate=function(a){var $=a.normalize().x,j=$.redSqr(),et=j.redMul($).redAdd(j.redMul(this.a)).redAdd($),tt=et.redSqrt();return tt.redSqr().cmp(et)===0};function Point$1(_,a,$){Base$1.BasePoint.call(this,_,"projective"),a===null&&$===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new BN$5(a,16),this.z=new BN$5($,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}inherits$3(Point$1,Base$1.BasePoint);MontCurve.prototype.decodePoint=function(a,$){return this.point(utils$m.toArray(a,$),1)};MontCurve.prototype.point=function(a,$){return new Point$1(this,a,$)};MontCurve.prototype.pointFromJSON=function(a){return Point$1.fromJSON(this,a)};Point$1.prototype.precompute=function(){};Point$1.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())};Point$1.fromJSON=function(a,$){return new Point$1(a,$[0],$[1]||a.one)};Point$1.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};Point$1.prototype.isInfinity=function(){return this.z.cmpn(0)===0};Point$1.prototype.dbl=function(){var a=this.x.redAdd(this.z),$=a.redSqr(),j=this.x.redSub(this.z),et=j.redSqr(),tt=$.redSub(et),rt=$.redMul(et),nt=tt.redMul(et.redAdd(this.curve.a24.redMul(tt)));return this.curve.point(rt,nt)};Point$1.prototype.add=function(){throw new Error("Not supported on Montgomery curve")};Point$1.prototype.diffAdd=function(a,$){var j=this.x.redAdd(this.z),et=this.x.redSub(this.z),tt=a.x.redAdd(a.z),rt=a.x.redSub(a.z),nt=rt.redMul(j),it=tt.redMul(et),ot=$.z.redMul(nt.redAdd(it).redSqr()),st=$.x.redMul(nt.redISub(it).redSqr());return this.curve.point(ot,st)};Point$1.prototype.mul=function(a){for(var $=a.clone(),j=this,et=this.curve.point(null,null),tt=this,rt=[];$.cmpn(0)!==0;$.iushrn(1))rt.push($.andln(1));for(var nt=rt.length-1;nt>=0;nt--)rt[nt]===0?(j=j.diffAdd(et,tt),et=et.dbl()):(et=j.diffAdd(et,tt),j=j.dbl());return et};Point$1.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")};Point$1.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")};Point$1.prototype.eq=function(a){return this.getX().cmp(a.getX())===0};Point$1.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this};Point$1.prototype.getX=function(){return this.normalize(),this.x.fromRed()};var utils$l=utils$q,BN$4=bnExports$1,inherits$2=inherits_browserExports,Base=base$3,assert$e=utils$l.assert;function EdwardsCurve(_){this.twisted=(_.a|0)!==1,this.mOneA=this.twisted&&(_.a|0)===-1,this.extended=this.mOneA,Base.call(this,"edwards",_),this.a=new BN$4(_.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new BN$4(_.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new BN$4(_.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),assert$e(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(_.c|0)===1}inherits$2(EdwardsCurve,Base);var edwards=EdwardsCurve;EdwardsCurve.prototype._mulA=function(a){return this.mOneA?a.redNeg():this.a.redMul(a)};EdwardsCurve.prototype._mulC=function(a){return this.oneC?a:this.c.redMul(a)};EdwardsCurve.prototype.jpoint=function(a,$,j,et){return this.point(a,$,j,et)};EdwardsCurve.prototype.pointFromX=function(a,$){a=new BN$4(a,16),a.red||(a=a.toRed(this.red));var j=a.redSqr(),et=this.c2.redSub(this.a.redMul(j)),tt=this.one.redSub(this.c2.redMul(this.d).redMul(j)),rt=et.redMul(tt.redInvm()),nt=rt.redSqrt();if(nt.redSqr().redSub(rt).cmp(this.zero)!==0)throw new Error("invalid point");var it=nt.fromRed().isOdd();return($&&!it||!$&&it)&&(nt=nt.redNeg()),this.point(a,nt)};EdwardsCurve.prototype.pointFromY=function(a,$){a=new BN$4(a,16),a.red||(a=a.toRed(this.red));var j=a.redSqr(),et=j.redSub(this.c2),tt=j.redMul(this.d).redMul(this.c2).redSub(this.a),rt=et.redMul(tt.redInvm());if(rt.cmp(this.zero)===0){if($)throw new Error("invalid point");return this.point(this.zero,a)}var nt=rt.redSqrt();if(nt.redSqr().redSub(rt).cmp(this.zero)!==0)throw new Error("invalid point");return nt.fromRed().isOdd()!==$&&(nt=nt.redNeg()),this.point(nt,a)};EdwardsCurve.prototype.validate=function(a){if(a.isInfinity())return!0;a.normalize();var $=a.x.redSqr(),j=a.y.redSqr(),et=$.redMul(this.a).redAdd(j),tt=this.c2.redMul(this.one.redAdd(this.d.redMul($).redMul(j)));return et.cmp(tt)===0};function Point(_,a,$,j,et){Base.BasePoint.call(this,_,"projective"),a===null&&$===null&&j===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new BN$4(a,16),this.y=new BN$4($,16),this.z=j?new BN$4(j,16):this.curve.one,this.t=et&&new BN$4(et,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}inherits$2(Point,Base.BasePoint);EdwardsCurve.prototype.pointFromJSON=function(a){return Point.fromJSON(this,a)};EdwardsCurve.prototype.point=function(a,$,j,et){return new Point(this,a,$,j,et)};Point.fromJSON=function(a,$){return new Point(a,$[0],$[1],$[2])};Point.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};Point.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)};Point.prototype._extDbl=function(){var a=this.x.redSqr(),$=this.y.redSqr(),j=this.z.redSqr();j=j.redIAdd(j);var et=this.curve._mulA(a),tt=this.x.redAdd(this.y).redSqr().redISub(a).redISub($),rt=et.redAdd($),nt=rt.redSub(j),it=et.redSub($),ot=tt.redMul(nt),st=rt.redMul(it),ct=tt.redMul(it),ut=nt.redMul(rt);return this.curve.point(ot,st,ut,ct)};Point.prototype._projDbl=function(){var a=this.x.redAdd(this.y).redSqr(),$=this.x.redSqr(),j=this.y.redSqr(),et,tt,rt,nt,it,ot;if(this.curve.twisted){nt=this.curve._mulA($);var st=nt.redAdd(j);this.zOne?(et=a.redSub($).redSub(j).redMul(st.redSub(this.curve.two)),tt=st.redMul(nt.redSub(j)),rt=st.redSqr().redSub(st).redSub(st)):(it=this.z.redSqr(),ot=st.redSub(it).redISub(it),et=a.redSub($).redISub(j).redMul(ot),tt=st.redMul(nt.redSub(j)),rt=st.redMul(ot))}else nt=$.redAdd(j),it=this.curve._mulC(this.z).redSqr(),ot=nt.redSub(it).redSub(it),et=this.curve._mulC(a.redISub(nt)).redMul(ot),tt=this.curve._mulC(nt).redMul($.redISub(j)),rt=nt.redMul(ot);return this.curve.point(et,tt,rt)};Point.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()};Point.prototype._extAdd=function(a){var $=this.y.redSub(this.x).redMul(a.y.redSub(a.x)),j=this.y.redAdd(this.x).redMul(a.y.redAdd(a.x)),et=this.t.redMul(this.curve.dd).redMul(a.t),tt=this.z.redMul(a.z.redAdd(a.z)),rt=j.redSub($),nt=tt.redSub(et),it=tt.redAdd(et),ot=j.redAdd($),st=rt.redMul(nt),ct=it.redMul(ot),ut=rt.redMul(ot),ht=nt.redMul(it);return this.curve.point(st,ct,ht,ut)};Point.prototype._projAdd=function(a){var $=this.z.redMul(a.z),j=$.redSqr(),et=this.x.redMul(a.x),tt=this.y.redMul(a.y),rt=this.curve.d.redMul(et).redMul(tt),nt=j.redSub(rt),it=j.redAdd(rt),ot=this.x.redAdd(this.y).redMul(a.x.redAdd(a.y)).redISub(et).redISub(tt),st=$.redMul(nt).redMul(ot),ct,ut;return this.curve.twisted?(ct=$.redMul(it).redMul(tt.redSub(this.curve._mulA(et))),ut=nt.redMul(it)):(ct=$.redMul(it).redMul(tt.redSub(et)),ut=this.curve._mulC(nt).redMul(it)),this.curve.point(st,ct,ut)};Point.prototype.add=function(a){return this.isInfinity()?a:a.isInfinity()?this:this.curve.extended?this._extAdd(a):this._projAdd(a)};Point.prototype.mul=function(a){return this._hasDoubles(a)?this.curve._fixedNafMul(this,a):this.curve._wnafMul(this,a)};Point.prototype.mulAdd=function(a,$,j){return this.curve._wnafMulAdd(1,[this,$],[a,j],2,!1)};Point.prototype.jmulAdd=function(a,$,j){return this.curve._wnafMulAdd(1,[this,$],[a,j],2,!0)};Point.prototype.normalize=function(){if(this.zOne)return this;var a=this.z.redInvm();return this.x=this.x.redMul(a),this.y=this.y.redMul(a),this.t&&(this.t=this.t.redMul(a)),this.z=this.curve.one,this.zOne=!0,this};Point.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())};Point.prototype.getX=function(){return this.normalize(),this.x.fromRed()};Point.prototype.getY=function(){return this.normalize(),this.y.fromRed()};Point.prototype.eq=function(a){return this===a||this.getX().cmp(a.getX())===0&&this.getY().cmp(a.getY())===0};Point.prototype.eqXToP=function(a){var $=a.toRed(this.curve.red).redMul(this.z);if(this.x.cmp($)===0)return!0;for(var j=a.clone(),et=this.curve.redN.redMul(this.z);;){if(j.iadd(this.curve.n),j.cmp(this.curve.p)>=0)return!1;if($.redIAdd(et),this.x.cmp($)===0)return!0}};Point.prototype.toP=Point.prototype.normalize;Point.prototype.mixedAdd=Point.prototype.add;(function(_){var a=_;a.base=base$3,a.short=short,a.mont=mont,a.edwards=edwards})(curve);var curves$1={},hash$5={},utils$k={},assert$d=minimalisticAssert,inherits$1=inherits_browserExports;utils$k.inherits=inherits$1;function isSurrogatePair(_,a){return(_.charCodeAt(a)&64512)!==55296||a<0||a+1>=_.length?!1:(_.charCodeAt(a+1)&64512)===56320}function toArray$2(_,a){if(Array.isArray(_))return _.slice();if(!_)return[];var $=[];if(typeof _=="string")if(a){if(a==="hex")for(_=_.replace(/[^a-z0-9]+/ig,""),_.length%2!==0&&(_="0"+_),et=0;et<_.length;et+=2)$.push(parseInt(_[et]+_[et+1],16))}else for(var j=0,et=0;et<_.length;et++){var tt=_.charCodeAt(et);tt<128?$[j++]=tt:tt<2048?($[j++]=tt>>6|192,$[j++]=tt&63|128):isSurrogatePair(_,et)?(tt=65536+((tt&1023)<<10)+(_.charCodeAt(++et)&1023),$[j++]=tt>>18|240,$[j++]=tt>>12&63|128,$[j++]=tt>>6&63|128,$[j++]=tt&63|128):($[j++]=tt>>12|224,$[j++]=tt>>6&63|128,$[j++]=tt&63|128)}else for(et=0;et<_.length;et++)$[et]=_[et]|0;return $}utils$k.toArray=toArray$2;function toHex$2(_){for(var a="",$=0;$<_.length;$++)a+=zero2(_[$].toString(16));return a}utils$k.toHex=toHex$2;function htonl(_){var a=_>>>24|_>>>8&65280|_<<8&16711680|(_&255)<<24;return a>>>0}utils$k.htonl=htonl;function toHex32(_,a){for(var $="",j=0;j<_.length;j++){var et=_[j];a==="little"&&(et=htonl(et)),$+=zero8(et.toString(16))}return $}utils$k.toHex32=toHex32;function zero2(_){return _.length===1?"0"+_:_}utils$k.zero2=zero2;function zero8(_){return _.length===7?"0"+_:_.length===6?"00"+_:_.length===5?"000"+_:_.length===4?"0000"+_:_.length===3?"00000"+_:_.length===2?"000000"+_:_.length===1?"0000000"+_:_}utils$k.zero8=zero8;function join32(_,a,$,j){var et=$-a;assert$d(et%4===0);for(var tt=new Array(et/4),rt=0,nt=a;rt<tt.length;rt++,nt+=4){var it;j==="big"?it=_[nt]<<24|_[nt+1]<<16|_[nt+2]<<8|_[nt+3]:it=_[nt+3]<<24|_[nt+2]<<16|_[nt+1]<<8|_[nt],tt[rt]=it>>>0}return tt}utils$k.join32=join32;function split32(_,a){for(var $=new Array(_.length*4),j=0,et=0;j<_.length;j++,et+=4){var tt=_[j];a==="big"?($[et]=tt>>>24,$[et+1]=tt>>>16&255,$[et+2]=tt>>>8&255,$[et+3]=tt&255):($[et+3]=tt>>>24,$[et+2]=tt>>>16&255,$[et+1]=tt>>>8&255,$[et]=tt&255)}return $}utils$k.split32=split32;function rotr32$1(_,a){return _>>>a|_<<32-a}utils$k.rotr32=rotr32$1;function rotl32$2(_,a){return _<<a|_>>>32-a}utils$k.rotl32=rotl32$2;function sum32$3(_,a){return _+a>>>0}utils$k.sum32=sum32$3;function sum32_3$1(_,a,$){return _+a+$>>>0}utils$k.sum32_3=sum32_3$1;function sum32_4$2(_,a,$,j){return _+a+$+j>>>0}utils$k.sum32_4=sum32_4$2;function sum32_5$2(_,a,$,j,et){return _+a+$+j+et>>>0}utils$k.sum32_5=sum32_5$2;function sum64$1(_,a,$,j){var et=_[a],tt=_[a+1],rt=j+tt>>>0,nt=(rt<j?1:0)+$+et;_[a]=nt>>>0,_[a+1]=rt}utils$k.sum64=sum64$1;function sum64_hi$1(_,a,$,j){var et=a+j>>>0,tt=(et<a?1:0)+_+$;return tt>>>0}utils$k.sum64_hi=sum64_hi$1;function sum64_lo$1(_,a,$,j){var et=a+j;return et>>>0}utils$k.sum64_lo=sum64_lo$1;function sum64_4_hi$1(_,a,$,j,et,tt,rt,nt){var it=0,ot=a;ot=ot+j>>>0,it+=ot<a?1:0,ot=ot+tt>>>0,it+=ot<tt?1:0,ot=ot+nt>>>0,it+=ot<nt?1:0;var st=_+$+et+rt+it;return st>>>0}utils$k.sum64_4_hi=sum64_4_hi$1;function sum64_4_lo$1(_,a,$,j,et,tt,rt,nt){var it=a+j+tt+nt;return it>>>0}utils$k.sum64_4_lo=sum64_4_lo$1;function sum64_5_hi$1(_,a,$,j,et,tt,rt,nt,it,ot){var st=0,ct=a;ct=ct+j>>>0,st+=ct<a?1:0,ct=ct+tt>>>0,st+=ct<tt?1:0,ct=ct+nt>>>0,st+=ct<nt?1:0,ct=ct+ot>>>0,st+=ct<ot?1:0;var ut=_+$+et+rt+it+st;return ut>>>0}utils$k.sum64_5_hi=sum64_5_hi$1;function sum64_5_lo$1(_,a,$,j,et,tt,rt,nt,it,ot){var st=a+j+tt+nt+ot;return st>>>0}utils$k.sum64_5_lo=sum64_5_lo$1;function rotr64_hi$1(_,a,$){var j=a<<32-$|_>>>$;return j>>>0}utils$k.rotr64_hi=rotr64_hi$1;function rotr64_lo$1(_,a,$){var j=_<<32-$|a>>>$;return j>>>0}utils$k.rotr64_lo=rotr64_lo$1;function shr64_hi$1(_,a,$){return _>>>$}utils$k.shr64_hi=shr64_hi$1;function shr64_lo$1(_,a,$){var j=_<<32-$|a>>>$;return j>>>0}utils$k.shr64_lo=shr64_lo$1;var common$5={},utils$j=utils$k,assert$c=minimalisticAssert;function BlockHash$4(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}common$5.BlockHash=BlockHash$4;BlockHash$4.prototype.update=function(a,$){if(a=utils$j.toArray(a,$),this.pending?this.pending=this.pending.concat(a):this.pending=a,this.pendingTotal+=a.length,this.pending.length>=this._delta8){a=this.pending;var j=a.length%this._delta8;this.pending=a.slice(a.length-j,a.length),this.pending.length===0&&(this.pending=null),a=utils$j.join32(a,0,a.length-j,this.endian);for(var et=0;et<a.length;et+=this._delta32)this._update(a,et,et+this._delta32)}return this};BlockHash$4.prototype.digest=function(a){return this.update(this._pad()),assert$c(this.pending===null),this._digest(a)};BlockHash$4.prototype._pad=function(){var a=this.pendingTotal,$=this._delta8,j=$-(a+this.padLength)%$,et=new Array(j+this.padLength);et[0]=128;for(var tt=1;tt<j;tt++)et[tt]=0;if(a<<=3,this.endian==="big"){for(var rt=8;rt<this.padLength;rt++)et[tt++]=0;et[tt++]=0,et[tt++]=0,et[tt++]=0,et[tt++]=0,et[tt++]=a>>>24&255,et[tt++]=a>>>16&255,et[tt++]=a>>>8&255,et[tt++]=a&255}else for(et[tt++]=a&255,et[tt++]=a>>>8&255,et[tt++]=a>>>16&255,et[tt++]=a>>>24&255,et[tt++]=0,et[tt++]=0,et[tt++]=0,et[tt++]=0,rt=8;rt<this.padLength;rt++)et[tt++]=0;return et};var sha={},common$4={},utils$i=utils$k,rotr32=utils$i.rotr32;function ft_1$1(_,a,$,j){if(_===0)return ch32$1(a,$,j);if(_===1||_===3)return p32(a,$,j);if(_===2)return maj32$1(a,$,j)}common$4.ft_1=ft_1$1;function ch32$1(_,a,$){return _&a^~_&$}common$4.ch32=ch32$1;function maj32$1(_,a,$){return _&a^_&$^a&$}common$4.maj32=maj32$1;function p32(_,a,$){return _^a^$}common$4.p32=p32;function s0_256$1(_){return rotr32(_,2)^rotr32(_,13)^rotr32(_,22)}common$4.s0_256=s0_256$1;function s1_256$1(_){return rotr32(_,6)^rotr32(_,11)^rotr32(_,25)}common$4.s1_256=s1_256$1;function g0_256$1(_){return rotr32(_,7)^rotr32(_,18)^_>>>3}common$4.g0_256=g0_256$1;function g1_256$1(_){return rotr32(_,17)^rotr32(_,19)^_>>>10}common$4.g1_256=g1_256$1;var utils$h=utils$k,common$3=common$5,shaCommon$1=common$4,rotl32$1=utils$h.rotl32,sum32$2=utils$h.sum32,sum32_5$1=utils$h.sum32_5,ft_1=shaCommon$1.ft_1,BlockHash$3=common$3.BlockHash,sha1_K=[1518500249,1859775393,2400959708,3395469782];function SHA1(){if(!(this instanceof SHA1))return new SHA1;BlockHash$3.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}utils$h.inherits(SHA1,BlockHash$3);var _1=SHA1;SHA1.blockSize=512;SHA1.outSize=160;SHA1.hmacStrength=80;SHA1.padLength=64;SHA1.prototype._update=function(a,$){for(var j=this.W,et=0;et<16;et++)j[et]=a[$+et];for(;et<j.length;et++)j[et]=rotl32$1(j[et-3]^j[et-8]^j[et-14]^j[et-16],1);var tt=this.h[0],rt=this.h[1],nt=this.h[2],it=this.h[3],ot=this.h[4];for(et=0;et<j.length;et++){var st=~~(et/20),ct=sum32_5$1(rotl32$1(tt,5),ft_1(st,rt,nt,it),ot,j[et],sha1_K[st]);ot=it,it=nt,nt=rotl32$1(rt,30),rt=tt,tt=ct}this.h[0]=sum32$2(this.h[0],tt),this.h[1]=sum32$2(this.h[1],rt),this.h[2]=sum32$2(this.h[2],nt),this.h[3]=sum32$2(this.h[3],it),this.h[4]=sum32$2(this.h[4],ot)};SHA1.prototype._digest=function(a){return a==="hex"?utils$h.toHex32(this.h,"big"):utils$h.split32(this.h,"big")};var utils$g=utils$k,common$2=common$5,shaCommon=common$4,assert$b=minimalisticAssert,sum32$1=utils$g.sum32,sum32_4$1=utils$g.sum32_4,sum32_5=utils$g.sum32_5,ch32=shaCommon.ch32,maj32=shaCommon.maj32,s0_256=shaCommon.s0_256,s1_256=shaCommon.s1_256,g0_256=shaCommon.g0_256,g1_256=shaCommon.g1_256,BlockHash$2=common$2.BlockHash,sha256_K=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function SHA256$2(){if(!(this instanceof SHA256$2))return new SHA256$2;BlockHash$2.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=sha256_K,this.W=new Array(64)}utils$g.inherits(SHA256$2,BlockHash$2);var _256=SHA256$2;SHA256$2.blockSize=512;SHA256$2.outSize=256;SHA256$2.hmacStrength=192;SHA256$2.padLength=64;SHA256$2.prototype._update=function(a,$){for(var j=this.W,et=0;et<16;et++)j[et]=a[$+et];for(;et<j.length;et++)j[et]=sum32_4$1(g1_256(j[et-2]),j[et-7],g0_256(j[et-15]),j[et-16]);var tt=this.h[0],rt=this.h[1],nt=this.h[2],it=this.h[3],ot=this.h[4],st=this.h[5],ct=this.h[6],ut=this.h[7];for(assert$b(this.k.length===j.length),et=0;et<j.length;et++){var ht=sum32_5(ut,s1_256(ot),ch32(ot,st,ct),this.k[et],j[et]),Et=sum32$1(s0_256(tt),maj32(tt,rt,nt));ut=ct,ct=st,st=ot,ot=sum32$1(it,ht),it=nt,nt=rt,rt=tt,tt=sum32$1(ht,Et)}this.h[0]=sum32$1(this.h[0],tt),this.h[1]=sum32$1(this.h[1],rt),this.h[2]=sum32$1(this.h[2],nt),this.h[3]=sum32$1(this.h[3],it),this.h[4]=sum32$1(this.h[4],ot),this.h[5]=sum32$1(this.h[5],st),this.h[6]=sum32$1(this.h[6],ct),this.h[7]=sum32$1(this.h[7],ut)};SHA256$2.prototype._digest=function(a){return a==="hex"?utils$g.toHex32(this.h,"big"):utils$g.split32(this.h,"big")};var utils$f=utils$k,SHA256$1=_256;function SHA224$1(){if(!(this instanceof SHA224$1))return new SHA224$1;SHA256$1.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}utils$f.inherits(SHA224$1,SHA256$1);var _224=SHA224$1;SHA224$1.blockSize=512;SHA224$1.outSize=224;SHA224$1.hmacStrength=192;SHA224$1.padLength=64;SHA224$1.prototype._digest=function(a){return a==="hex"?utils$f.toHex32(this.h.slice(0,7),"big"):utils$f.split32(this.h.slice(0,7),"big")};var utils$e=utils$k,common$1=common$5,assert$a=minimalisticAssert,rotr64_hi=utils$e.rotr64_hi,rotr64_lo=utils$e.rotr64_lo,shr64_hi=utils$e.shr64_hi,shr64_lo=utils$e.shr64_lo,sum64=utils$e.sum64,sum64_hi=utils$e.sum64_hi,sum64_lo=utils$e.sum64_lo,sum64_4_hi=utils$e.sum64_4_hi,sum64_4_lo=utils$e.sum64_4_lo,sum64_5_hi=utils$e.sum64_5_hi,sum64_5_lo=utils$e.sum64_5_lo,BlockHash$1=common$1.BlockHash,sha512_K=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function SHA512$2(){if(!(this instanceof SHA512$2))return new SHA512$2;BlockHash$1.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=sha512_K,this.W=new Array(160)}utils$e.inherits(SHA512$2,BlockHash$1);var _512=SHA512$2;SHA512$2.blockSize=1024;SHA512$2.outSize=512;SHA512$2.hmacStrength=192;SHA512$2.padLength=128;SHA512$2.prototype._prepareBlock=function(a,$){for(var j=this.W,et=0;et<32;et++)j[et]=a[$+et];for(;et<j.length;et+=2){var tt=g1_512_hi(j[et-4],j[et-3]),rt=g1_512_lo(j[et-4],j[et-3]),nt=j[et-14],it=j[et-13],ot=g0_512_hi(j[et-30],j[et-29]),st=g0_512_lo(j[et-30],j[et-29]),ct=j[et-32],ut=j[et-31];j[et]=sum64_4_hi(tt,rt,nt,it,ot,st,ct,ut),j[et+1]=sum64_4_lo(tt,rt,nt,it,ot,st,ct,ut)}};SHA512$2.prototype._update=function(a,$){this._prepareBlock(a,$);var j=this.W,et=this.h[0],tt=this.h[1],rt=this.h[2],nt=this.h[3],it=this.h[4],ot=this.h[5],st=this.h[6],ct=this.h[7],ut=this.h[8],ht=this.h[9],Et=this.h[10],St=this.h[11],Mt=this.h[12],kt=this.h[13],Ct=this.h[14],Ot=this.h[15];assert$a(this.k.length===j.length);for(var zt=0;zt<j.length;zt+=2){var Ut=Ct,Vt=Ot,jt=s1_512_hi(ut,ht),$t=s1_512_lo(ut,ht),Bt=ch64_hi(ut,ht,Et,St,Mt),Nt=ch64_lo(ut,ht,Et,St,Mt,kt),Lt=this.k[zt],Pt=this.k[zt+1],bt=j[zt],at=j[zt+1],dt=sum64_5_hi(Ut,Vt,jt,$t,Bt,Nt,Lt,Pt,bt,at),vt=sum64_5_lo(Ut,Vt,jt,$t,Bt,Nt,Lt,Pt,bt,at);Ut=s0_512_hi(et,tt),Vt=s0_512_lo(et,tt),jt=maj64_hi(et,tt,rt,nt,it),$t=maj64_lo(et,tt,rt,nt,it,ot);var xt=sum64_hi(Ut,Vt,jt,$t),wt=sum64_lo(Ut,Vt,jt,$t);Ct=Mt,Ot=kt,Mt=Et,kt=St,Et=ut,St=ht,ut=sum64_hi(st,ct,dt,vt),ht=sum64_lo(ct,ct,dt,vt),st=it,ct=ot,it=rt,ot=nt,rt=et,nt=tt,et=sum64_hi(dt,vt,xt,wt),tt=sum64_lo(dt,vt,xt,wt)}sum64(this.h,0,et,tt),sum64(this.h,2,rt,nt),sum64(this.h,4,it,ot),sum64(this.h,6,st,ct),sum64(this.h,8,ut,ht),sum64(this.h,10,Et,St),sum64(this.h,12,Mt,kt),sum64(this.h,14,Ct,Ot)};SHA512$2.prototype._digest=function(a){return a==="hex"?utils$e.toHex32(this.h,"big"):utils$e.split32(this.h,"big")};function ch64_hi(_,a,$,j,et){var tt=_&$^~_&et;return tt<0&&(tt+=4294967296),tt}function ch64_lo(_,a,$,j,et,tt){var rt=a&j^~a&tt;return rt<0&&(rt+=4294967296),rt}function maj64_hi(_,a,$,j,et){var tt=_&$^_&et^$&et;return tt<0&&(tt+=4294967296),tt}function maj64_lo(_,a,$,j,et,tt){var rt=a&j^a&tt^j&tt;return rt<0&&(rt+=4294967296),rt}function s0_512_hi(_,a){var $=rotr64_hi(_,a,28),j=rotr64_hi(a,_,2),et=rotr64_hi(a,_,7),tt=$^j^et;return tt<0&&(tt+=4294967296),tt}function s0_512_lo(_,a){var $=rotr64_lo(_,a,28),j=rotr64_lo(a,_,2),et=rotr64_lo(a,_,7),tt=$^j^et;return tt<0&&(tt+=4294967296),tt}function s1_512_hi(_,a){var $=rotr64_hi(_,a,14),j=rotr64_hi(_,a,18),et=rotr64_hi(a,_,9),tt=$^j^et;return tt<0&&(tt+=4294967296),tt}function s1_512_lo(_,a){var $=rotr64_lo(_,a,14),j=rotr64_lo(_,a,18),et=rotr64_lo(a,_,9),tt=$^j^et;return tt<0&&(tt+=4294967296),tt}function g0_512_hi(_,a){var $=rotr64_hi(_,a,1),j=rotr64_hi(_,a,8),et=shr64_hi(_,a,7),tt=$^j^et;return tt<0&&(tt+=4294967296),tt}function g0_512_lo(_,a){var $=rotr64_lo(_,a,1),j=rotr64_lo(_,a,8),et=shr64_lo(_,a,7),tt=$^j^et;return tt<0&&(tt+=4294967296),tt}function g1_512_hi(_,a){var $=rotr64_hi(_,a,19),j=rotr64_hi(a,_,29),et=shr64_hi(_,a,6),tt=$^j^et;return tt<0&&(tt+=4294967296),tt}function g1_512_lo(_,a){var $=rotr64_lo(_,a,19),j=rotr64_lo(a,_,29),et=shr64_lo(_,a,6),tt=$^j^et;return tt<0&&(tt+=4294967296),tt}var utils$d=utils$k,SHA512$1=_512;function SHA384$1(){if(!(this instanceof SHA384$1))return new SHA384$1;SHA512$1.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}utils$d.inherits(SHA384$1,SHA512$1);var _384=SHA384$1;SHA384$1.blockSize=1024;SHA384$1.outSize=384;SHA384$1.hmacStrength=192;SHA384$1.padLength=128;SHA384$1.prototype._digest=function(a){return a==="hex"?utils$d.toHex32(this.h.slice(0,12),"big"):utils$d.split32(this.h.slice(0,12),"big")};sha.sha1=_1;sha.sha224=_224;sha.sha256=_256;sha.sha384=_384;sha.sha512=_512;var ripemd={},utils$c=utils$k,common=common$5,rotl32=utils$c.rotl32,sum32=utils$c.sum32,sum32_3=utils$c.sum32_3,sum32_4=utils$c.sum32_4,BlockHash=common.BlockHash;function RIPEMD160(){if(!(this instanceof RIPEMD160))return new RIPEMD160;BlockHash.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}utils$c.inherits(RIPEMD160,BlockHash);ripemd.ripemd160=RIPEMD160;RIPEMD160.blockSize=512;RIPEMD160.outSize=160;RIPEMD160.hmacStrength=192;RIPEMD160.padLength=64;RIPEMD160.prototype._update=function(a,$){for(var j=this.h[0],et=this.h[1],tt=this.h[2],rt=this.h[3],nt=this.h[4],it=j,ot=et,st=tt,ct=rt,ut=nt,ht=0;ht<80;ht++){var Et=sum32(rotl32(sum32_4(j,f(ht,et,tt,rt),a[r$2[ht]+$],K$1(ht)),s$1[ht]),nt);j=nt,nt=rt,rt=rotl32(tt,10),tt=et,et=Et,Et=sum32(rotl32(sum32_4(it,f(79-ht,ot,st,ct),a[rh[ht]+$],Kh(ht)),sh[ht]),ut),it=ut,ut=ct,ct=rotl32(st,10),st=ot,ot=Et}Et=sum32_3(this.h[1],tt,ct),this.h[1]=sum32_3(this.h[2],rt,ut),this.h[2]=sum32_3(this.h[3],nt,it),this.h[3]=sum32_3(this.h[4],j,ot),this.h[4]=sum32_3(this.h[0],et,st),this.h[0]=Et};RIPEMD160.prototype._digest=function(a){return a==="hex"?utils$c.toHex32(this.h,"little"):utils$c.split32(this.h,"little")};function f(_,a,$,j){return _<=15?a^$^j:_<=31?a&$|~a&j:_<=47?(a|~$)^j:_<=63?a&j|$&~j:a^($|~j)}function K$1(_){return _<=15?0:_<=31?1518500249:_<=47?1859775393:_<=63?2400959708:2840853838}function Kh(_){return _<=15?1352829926:_<=31?1548603684:_<=47?1836072691:_<=63?2053994217:0}var r$2=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],rh=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],s$1=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],sh=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],utils$b=utils$k,assert$9=minimalisticAssert;function Hmac(_,a,$){if(!(this instanceof Hmac))return new Hmac(_,a,$);this.Hash=_,this.blockSize=_.blockSize/8,this.outSize=_.outSize/8,this.inner=null,this.outer=null,this._init(utils$b.toArray(a,$))}var hmac$3=Hmac;Hmac.prototype._init=function(a){a.length>this.blockSize&&(a=new this.Hash().update(a).digest()),assert$9(a.length<=this.blockSize);for(var $=a.length;$<this.blockSize;$++)a.push(0);for($=0;$<a.length;$++)a[$]^=54;for(this.inner=new this.Hash().update(a),$=0;$<a.length;$++)a[$]^=106;this.outer=new this.Hash().update(a)};Hmac.prototype.update=function(a,$){return this.inner.update(a,$),this};Hmac.prototype.digest=function(a){return this.outer.update(this.inner.digest()),this.outer.digest(a)};(function(_){var a=_;a.utils=utils$k,a.common=common$5,a.sha=sha,a.ripemd=ripemd,a.hmac=hmac$3,a.sha1=a.sha.sha1,a.sha256=a.sha.sha256,a.sha224=a.sha.sha224,a.sha384=a.sha.sha384,a.sha512=a.sha.sha512,a.ripemd160=a.ripemd.ripemd160})(hash$5);var secp256k1,hasRequiredSecp256k1;function requireSecp256k1(){return hasRequiredSecp256k1||(hasRequiredSecp256k1=1,secp256k1={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}),secp256k1}(function(_){var a=_,$=hash$5,j=curve,et=utils$q,tt=et.assert;function rt(ot){ot.type==="short"?this.curve=new j.short(ot):ot.type==="edwards"?this.curve=new j.edwards(ot):this.curve=new j.mont(ot),this.g=this.curve.g,this.n=this.curve.n,this.hash=ot.hash,tt(this.g.validate(),"Invalid curve"),tt(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}a.PresetCurve=rt;function nt(ot,st){Object.defineProperty(a,ot,{configurable:!0,enumerable:!0,get:function(){var ct=new rt(st);return Object.defineProperty(a,ot,{configurable:!0,enumerable:!0,value:ct}),ct}})}nt("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:$.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),nt("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:$.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),nt("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:$.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),nt("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:$.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),nt("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:$.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),nt("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:$.sha256,gRed:!1,g:["9"]}),nt("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:$.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var it;try{it=requireSecp256k1()}catch{it=void 0}nt("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:$.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",it]})})(curves$1);var hash$4=hash$5,utils$a=utils$p,assert$8=minimalisticAssert;function HmacDRBG(_){if(!(this instanceof HmacDRBG))return new HmacDRBG(_);this.hash=_.hash,this.predResist=!!_.predResist,this.outLen=this.hash.outSize,this.minEntropy=_.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var a=utils$a.toArray(_.entropy,_.entropyEnc||"hex"),$=utils$a.toArray(_.nonce,_.nonceEnc||"hex"),j=utils$a.toArray(_.pers,_.persEnc||"hex");assert$8(a.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(a,$,j)}var hmacDrbg=HmacDRBG;HmacDRBG.prototype._init=function(a,$,j){var et=a.concat($).concat(j);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var tt=0;tt<this.V.length;tt++)this.K[tt]=0,this.V[tt]=1;this._update(et),this._reseed=1,this.reseedInterval=281474976710656};HmacDRBG.prototype._hmac=function(){return new hash$4.hmac(this.hash,this.K)};HmacDRBG.prototype._update=function(a){var $=this._hmac().update(this.V).update([0]);a&&($=$.update(a)),this.K=$.digest(),this.V=this._hmac().update(this.V).digest(),a&&(this.K=this._hmac().update(this.V).update([1]).update(a).digest(),this.V=this._hmac().update(this.V).digest())};HmacDRBG.prototype.reseed=function(a,$,j,et){typeof $!="string"&&(et=j,j=$,$=null),a=utils$a.toArray(a,$),j=utils$a.toArray(j,et),assert$8(a.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(a.concat(j||[])),this._reseed=1};HmacDRBG.prototype.generate=function(a,$,j,et){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof $!="string"&&(et=j,j=$,$=null),j&&(j=utils$a.toArray(j,et||"hex"),this._update(j));for(var tt=[];tt.length<a;)this.V=this._hmac().update(this.V).digest(),tt=tt.concat(this.V);var rt=tt.slice(0,a);return this._update(j),this._reseed++,utils$a.encode(rt,$)};var BN$3=bnExports$1,utils$9=utils$q,assert$7=utils$9.assert;function KeyPair$2(_,a){this.ec=_,this.priv=null,this.pub=null,a.priv&&this._importPrivate(a.priv,a.privEnc),a.pub&&this._importPublic(a.pub,a.pubEnc)}var key$1=KeyPair$2;KeyPair$2.fromPublic=function(a,$,j){return $ instanceof KeyPair$2?$:new KeyPair$2(a,{pub:$,pubEnc:j})};KeyPair$2.fromPrivate=function(a,$,j){return $ instanceof KeyPair$2?$:new KeyPair$2(a,{priv:$,privEnc:j})};KeyPair$2.prototype.validate=function(){var a=this.getPublic();return a.isInfinity()?{result:!1,reason:"Invalid public key"}:a.validate()?a.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};KeyPair$2.prototype.getPublic=function(a,$){return typeof a=="string"&&($=a,a=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),$?this.pub.encode($,a):this.pub};KeyPair$2.prototype.getPrivate=function(a){return a==="hex"?this.priv.toString(16,2):this.priv};KeyPair$2.prototype._importPrivate=function(a,$){this.priv=new BN$3(a,$||16),this.priv=this.priv.umod(this.ec.curve.n)};KeyPair$2.prototype._importPublic=function(a,$){if(a.x||a.y){this.ec.curve.type==="mont"?assert$7(a.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&assert$7(a.x&&a.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(a.x,a.y);return}this.pub=this.ec.curve.decodePoint(a,$)};KeyPair$2.prototype.derive=function(a){return a.validate()||assert$7(a.validate(),"public point not validated"),a.mul(this.priv).getX()};KeyPair$2.prototype.sign=function(a,$,j){return this.ec.sign(a,this,$,j)};KeyPair$2.prototype.verify=function(a,$){return this.ec.verify(a,$,this)};KeyPair$2.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var BN$2=bnExports$1,utils$8=utils$q,assert$6=utils$8.assert;function Signature$2(_,a){if(_ instanceof Signature$2)return _;this._importDER(_,a)||(assert$6(_.r&&_.s,"Signature without r or s"),this.r=new BN$2(_.r,16),this.s=new BN$2(_.s,16),_.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=_.recoveryParam)}var signature$1=Signature$2;function Position(){this.place=0}function getLength(_,a){var $=_[a.place++];if(!($&128))return $;var j=$&15;if(j===0||j>4)return!1;for(var et=0,tt=0,rt=a.place;tt<j;tt++,rt++)et<<=8,et|=_[rt],et>>>=0;return et<=127?!1:(a.place=rt,et)}function rmPadding(_){for(var a=0,$=_.length-1;!_[a]&&!(_[a+1]&128)&&a<$;)a++;return a===0?_:_.slice(a)}Signature$2.prototype._importDER=function(a,$){a=utils$8.toArray(a,$);var j=new Position;if(a[j.place++]!==48)return!1;var et=getLength(a,j);if(et===!1||et+j.place!==a.length||a[j.place++]!==2)return!1;var tt=getLength(a,j);if(tt===!1)return!1;var rt=a.slice(j.place,tt+j.place);if(j.place+=tt,a[j.place++]!==2)return!1;var nt=getLength(a,j);if(nt===!1||a.length!==nt+j.place)return!1;var it=a.slice(j.place,nt+j.place);if(rt[0]===0)if(rt[1]&128)rt=rt.slice(1);else return!1;if(it[0]===0)if(it[1]&128)it=it.slice(1);else return!1;return this.r=new BN$2(rt),this.s=new BN$2(it),this.recoveryParam=null,!0};function constructLength(_,a){if(a<128){_.push(a);return}var $=1+(Math.log(a)/Math.LN2>>>3);for(_.push($|128);--$;)_.push(a>>>($<<3)&255);_.push(a)}Signature$2.prototype.toDER=function(a){var $=this.r.toArray(),j=this.s.toArray();for($[0]&128&&($=[0].concat($)),j[0]&128&&(j=[0].concat(j)),$=rmPadding($),j=rmPadding(j);!j[0]&&!(j[1]&128);)j=j.slice(1);var et=[2];constructLength(et,$.length),et=et.concat($),et.push(2),constructLength(et,j.length);var tt=et.concat(j),rt=[48];return constructLength(rt,tt.length),rt=rt.concat(tt),utils$8.encode(rt,a)};var ec$3,hasRequiredEc;function requireEc(){if(hasRequiredEc)return ec$3;hasRequiredEc=1;var _=bnExports$1,a=hmacDrbg,$=utils$q,j=curves$1,et=requireBrorand(),tt=$.assert,rt=key$1,nt=signature$1;function it(ot){if(!(this instanceof it))return new it(ot);typeof ot=="string"&&(tt(Object.prototype.hasOwnProperty.call(j,ot),"Unknown curve "+ot),ot=j[ot]),ot instanceof j.PresetCurve&&(ot={curve:ot}),this.curve=ot.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=ot.curve.g,this.g.precompute(ot.curve.n.bitLength()+1),this.hash=ot.hash||ot.curve.hash}return ec$3=it,it.prototype.keyPair=function(st){return new rt(this,st)},it.prototype.keyFromPrivate=function(st,ct){return rt.fromPrivate(this,st,ct)},it.prototype.keyFromPublic=function(st,ct){return rt.fromPublic(this,st,ct)},it.prototype.genKeyPair=function(st){st||(st={});for(var ct=new a({hash:this.hash,pers:st.pers,persEnc:st.persEnc||"utf8",entropy:st.entropy||et(this.hash.hmacStrength),entropyEnc:st.entropy&&st.entropyEnc||"utf8",nonce:this.n.toArray()}),ut=this.n.byteLength(),ht=this.n.sub(new _(2));;){var Et=new _(ct.generate(ut));if(!(Et.cmp(ht)>0))return Et.iaddn(1),this.keyFromPrivate(Et)}},it.prototype._truncateToN=function(st,ct){var ut=st.byteLength()*8-this.n.bitLength();return ut>0&&(st=st.ushrn(ut)),!ct&&st.cmp(this.n)>=0?st.sub(this.n):st},it.prototype.sign=function(st,ct,ut,ht){typeof ut=="object"&&(ht=ut,ut=null),ht||(ht={}),ct=this.keyFromPrivate(ct,ut),st=this._truncateToN(new _(st,16));for(var Et=this.n.byteLength(),St=ct.getPrivate().toArray("be",Et),Mt=st.toArray("be",Et),kt=new a({hash:this.hash,entropy:St,nonce:Mt,pers:ht.pers,persEnc:ht.persEnc||"utf8"}),Ct=this.n.sub(new _(1)),Ot=0;;Ot++){var zt=ht.k?ht.k(Ot):new _(kt.generate(this.n.byteLength()));if(zt=this._truncateToN(zt,!0),!(zt.cmpn(1)<=0||zt.cmp(Ct)>=0)){var Ut=this.g.mul(zt);if(!Ut.isInfinity()){var Vt=Ut.getX(),jt=Vt.umod(this.n);if(jt.cmpn(0)!==0){var $t=zt.invm(this.n).mul(jt.mul(ct.getPrivate()).iadd(st));if($t=$t.umod(this.n),$t.cmpn(0)!==0){var Bt=(Ut.getY().isOdd()?1:0)|(Vt.cmp(jt)!==0?2:0);return ht.canonical&&$t.cmp(this.nh)>0&&($t=this.n.sub($t),Bt^=1),new nt({r:jt,s:$t,recoveryParam:Bt})}}}}}},it.prototype.verify=function(st,ct,ut,ht){st=this._truncateToN(new _(st,16)),ut=this.keyFromPublic(ut,ht),ct=new nt(ct,"hex");var Et=ct.r,St=ct.s;if(Et.cmpn(1)<0||Et.cmp(this.n)>=0||St.cmpn(1)<0||St.cmp(this.n)>=0)return!1;var Mt=St.invm(this.n),kt=Mt.mul(st).umod(this.n),Ct=Mt.mul(Et).umod(this.n),Ot;return this.curve._maxwellTrick?(Ot=this.g.jmulAdd(kt,ut.getPublic(),Ct),Ot.isInfinity()?!1:Ot.eqXToP(Et)):(Ot=this.g.mulAdd(kt,ut.getPublic(),Ct),Ot.isInfinity()?!1:Ot.getX().umod(this.n).cmp(Et)===0)},it.prototype.recoverPubKey=function(ot,st,ct,ut){tt((3&ct)===ct,"The recovery param is more than two bits"),st=new nt(st,ut);var ht=this.n,Et=new _(ot),St=st.r,Mt=st.s,kt=ct&1,Ct=ct>>1;if(St.cmp(this.curve.p.umod(this.curve.n))>=0&&Ct)throw new Error("Unable to find sencond key candinate");Ct?St=this.curve.pointFromX(St.add(this.curve.n),kt):St=this.curve.pointFromX(St,kt);var Ot=st.r.invm(ht),zt=ht.sub(Et).mul(Ot).umod(ht),Ut=Mt.mul(Ot).umod(ht);return this.g.mulAdd(zt,St,Ut)},it.prototype.getKeyRecoveryParam=function(ot,st,ct,ut){if(st=new nt(st,ut),st.recoveryParam!==null)return st.recoveryParam;for(var ht=0;ht<4;ht++){var Et;try{Et=this.recoverPubKey(ot,st,ht)}catch{continue}if(Et.eq(ct))return ht}throw new Error("Unable to find valid recovery factor")},ec$3}var utils$7=utils$q,assert$5=utils$7.assert,parseBytes$3=utils$7.parseBytes,cachedProperty$1=utils$7.cachedProperty;function KeyPair$1(_,a){this.eddsa=_,this._secret=parseBytes$3(a.secret),_.isPoint(a.pub)?this._pub=a.pub:this._pubBytes=parseBytes$3(a.pub)}KeyPair$1.fromPublic=function(a,$){return $ instanceof KeyPair$1?$:new KeyPair$1(a,{pub:$})};KeyPair$1.fromSecret=function(a,$){return $ instanceof KeyPair$1?$:new KeyPair$1(a,{secret:$})};KeyPair$1.prototype.secret=function(){return this._secret};cachedProperty$1(KeyPair$1,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())});cachedProperty$1(KeyPair$1,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())});cachedProperty$1(KeyPair$1,"privBytes",function(){var a=this.eddsa,$=this.hash(),j=a.encodingLength-1,et=$.slice(0,a.encodingLength);return et[0]&=248,et[j]&=127,et[j]|=64,et});cachedProperty$1(KeyPair$1,"priv",function(){return this.eddsa.decodeInt(this.privBytes())});cachedProperty$1(KeyPair$1,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()});cachedProperty$1(KeyPair$1,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)});KeyPair$1.prototype.sign=function(a){return assert$5(this._secret,"KeyPair can only verify"),this.eddsa.sign(a,this)};KeyPair$1.prototype.verify=function(a,$){return this.eddsa.verify(a,$,this)};KeyPair$1.prototype.getSecret=function(a){return assert$5(this._secret,"KeyPair is public only"),utils$7.encode(this.secret(),a)};KeyPair$1.prototype.getPublic=function(a){return utils$7.encode(this.pubBytes(),a)};var key=KeyPair$1,BN$1=bnExports$1,utils$6=utils$q,assert$4=utils$6.assert,cachedProperty=utils$6.cachedProperty,parseBytes$2=utils$6.parseBytes;function Signature$1(_,a){this.eddsa=_,typeof a!="object"&&(a=parseBytes$2(a)),Array.isArray(a)&&(a={R:a.slice(0,_.encodingLength),S:a.slice(_.encodingLength)}),assert$4(a.R&&a.S,"Signature without R or S"),_.isPoint(a.R)&&(this._R=a.R),a.S instanceof BN$1&&(this._S=a.S),this._Rencoded=Array.isArray(a.R)?a.R:a.Rencoded,this._Sencoded=Array.isArray(a.S)?a.S:a.Sencoded}cachedProperty(Signature$1,"S",function(){return this.eddsa.decodeInt(this.Sencoded())});cachedProperty(Signature$1,"R",function(){return this.eddsa.decodePoint(this.Rencoded())});cachedProperty(Signature$1,"Rencoded",function(){return this.eddsa.encodePoint(this.R())});cachedProperty(Signature$1,"Sencoded",function(){return this.eddsa.encodeInt(this.S())});Signature$1.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())};Signature$1.prototype.toHex=function(){return utils$6.encode(this.toBytes(),"hex").toUpperCase()};var signature=Signature$1,hash$3=hash$5,curves=curves$1,utils$5=utils$q,assert$3=utils$5.assert,parseBytes$1=utils$5.parseBytes,KeyPair=key,Signature=signature;function EDDSA(_){if(assert$3(_==="ed25519","only tested with ed25519 so far"),!(this instanceof EDDSA))return new EDDSA(_);_=curves[_].curve,this.curve=_,this.g=_.g,this.g.precompute(_.n.bitLength()+1),this.pointClass=_.point().constructor,this.encodingLength=Math.ceil(_.n.bitLength()/8),this.hash=hash$3.sha512}var eddsa=EDDSA;EDDSA.prototype.sign=function(a,$){a=parseBytes$1(a);var j=this.keyFromSecret($),et=this.hashInt(j.messagePrefix(),a),tt=this.g.mul(et),rt=this.encodePoint(tt),nt=this.hashInt(rt,j.pubBytes(),a).mul(j.priv()),it=et.add(nt).umod(this.curve.n);return this.makeSignature({R:tt,S:it,Rencoded:rt})};EDDSA.prototype.verify=function(a,$,j){a=parseBytes$1(a),$=this.makeSignature($);var et=this.keyFromPublic(j),tt=this.hashInt($.Rencoded(),et.pubBytes(),a),rt=this.g.mul($.S()),nt=$.R().add(et.pub().mul(tt));return nt.eq(rt)};EDDSA.prototype.hashInt=function(){for(var a=this.hash(),$=0;$<arguments.length;$++)a.update(arguments[$]);return utils$5.intFromLE(a.digest()).umod(this.curve.n)};EDDSA.prototype.keyFromPublic=function(a){return KeyPair.fromPublic(this,a)};EDDSA.prototype.keyFromSecret=function(a){return KeyPair.fromSecret(this,a)};EDDSA.prototype.makeSignature=function(a){return a instanceof Signature?a:new Signature(this,a)};EDDSA.prototype.encodePoint=function(a){var $=a.getY().toArray("le",this.encodingLength);return $[this.encodingLength-1]|=a.getX().isOdd()?128:0,$};EDDSA.prototype.decodePoint=function(a){a=utils$5.parseBytes(a);var $=a.length-1,j=a.slice(0,$).concat(a[$]&-129),et=(a[$]&128)!==0,tt=utils$5.intFromLE(j);return this.curve.pointFromY(tt,et)};EDDSA.prototype.encodeInt=function(a){return a.toArray("le",this.encodingLength)};EDDSA.prototype.decodeInt=function(a){return utils$5.intFromLE(a)};EDDSA.prototype.isPoint=function(a){return a instanceof this.pointClass};var hasRequiredElliptic;function requireElliptic(){return hasRequiredElliptic||(hasRequiredElliptic=1,function(_){var a=_;a.version=require$$0$1.version,a.utils=utils$q,a.rand=requireBrorand(),a.curve=curve,a.curves=curves$1,a.ec=requireEc(),a.eddsa=eddsa}(elliptic$1)),elliptic$1}var bn$1={exports:{}};bn$1.exports;var hasRequiredBn;function requireBn(){return hasRequiredBn||(hasRequiredBn=1,function(_){(function(a,$){function j(bt,at){if(!bt)throw new Error(at||"Assertion failed")}function et(bt,at){bt.super_=at;var dt=function(){};dt.prototype=at.prototype,bt.prototype=new dt,bt.prototype.constructor=bt}function tt(bt,at,dt){if(tt.isBN(bt))return bt;this.negative=0,this.words=null,this.length=0,this.red=null,bt!==null&&((at==="le"||at==="be")&&(dt=at,at=10),this._init(bt||0,at||10,dt||"be"))}typeof a=="object"?a.exports=tt:$.BN=tt,tt.BN=tt,tt.wordSize=26;var rt;try{typeof window<"u"&&typeof window.Buffer<"u"?rt=window.Buffer:rt=require$$0$2.Buffer}catch{}tt.isBN=function(at){return at instanceof tt?!0:at!==null&&typeof at=="object"&&at.constructor.wordSize===tt.wordSize&&Array.isArray(at.words)},tt.max=function(at,dt){return at.cmp(dt)>0?at:dt},tt.min=function(at,dt){return at.cmp(dt)<0?at:dt},tt.prototype._init=function(at,dt,vt){if(typeof at=="number")return this._initNumber(at,dt,vt);if(typeof at=="object")return this._initArray(at,dt,vt);dt==="hex"&&(dt=16),j(dt===(dt|0)&&dt>=2&&dt<=36),at=at.toString().replace(/\s+/g,"");var xt=0;at[0]==="-"&&(xt++,this.negative=1),xt<at.length&&(dt===16?this._parseHex(at,xt,vt):(this._parseBase(at,dt,xt),vt==="le"&&this._initArray(this.toArray(),dt,vt)))},tt.prototype._initNumber=function(at,dt,vt){at<0&&(this.negative=1,at=-at),at<67108864?(this.words=[at&67108863],this.length=1):at<4503599627370496?(this.words=[at&67108863,at/67108864&67108863],this.length=2):(j(at<9007199254740992),this.words=[at&67108863,at/67108864&67108863,1],this.length=3),vt==="le"&&this._initArray(this.toArray(),dt,vt)},tt.prototype._initArray=function(at,dt,vt){if(j(typeof at.length=="number"),at.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(at.length/3),this.words=new Array(this.length);for(var xt=0;xt<this.length;xt++)this.words[xt]=0;var wt,_t,At=0;if(vt==="be")for(xt=at.length-1,wt=0;xt>=0;xt-=3)_t=at[xt]|at[xt-1]<<8|at[xt-2]<<16,this.words[wt]|=_t<<At&67108863,this.words[wt+1]=_t>>>26-At&67108863,At+=24,At>=26&&(At-=26,wt++);else if(vt==="le")for(xt=0,wt=0;xt<at.length;xt+=3)_t=at[xt]|at[xt+1]<<8|at[xt+2]<<16,this.words[wt]|=_t<<At&67108863,this.words[wt+1]=_t>>>26-At&67108863,At+=24,At>=26&&(At-=26,wt++);return this._strip()};function nt(bt,at){var dt=bt.charCodeAt(at);if(dt>=48&&dt<=57)return dt-48;if(dt>=65&&dt<=70)return dt-55;if(dt>=97&&dt<=102)return dt-87;j(!1,"Invalid character in "+bt)}function it(bt,at,dt){var vt=nt(bt,dt);return dt-1>=at&&(vt|=nt(bt,dt-1)<<4),vt}tt.prototype._parseHex=function(at,dt,vt){this.length=Math.ceil((at.length-dt)/6),this.words=new Array(this.length);for(var xt=0;xt<this.length;xt++)this.words[xt]=0;var wt=0,_t=0,At;if(vt==="be")for(xt=at.length-1;xt>=dt;xt-=2)At=it(at,dt,xt)<<wt,this.words[_t]|=At&67108863,wt>=18?(wt-=18,_t+=1,this.words[_t]|=At>>>26):wt+=8;else{var Tt=at.length-dt;for(xt=Tt%2===0?dt+1:dt;xt<at.length;xt+=2)At=it(at,dt,xt)<<wt,this.words[_t]|=At&67108863,wt>=18?(wt-=18,_t+=1,this.words[_t]|=At>>>26):wt+=8}this._strip()};function ot(bt,at,dt,vt){for(var xt=0,wt=0,_t=Math.min(bt.length,dt),At=at;At<_t;At++){var Tt=bt.charCodeAt(At)-48;xt*=vt,Tt>=49?wt=Tt-49+10:Tt>=17?wt=Tt-17+10:wt=Tt,j(Tt>=0&&wt<vt,"Invalid character"),xt+=wt}return xt}tt.prototype._parseBase=function(at,dt,vt){this.words=[0],this.length=1;for(var xt=0,wt=1;wt<=67108863;wt*=dt)xt++;xt--,wt=wt/dt|0;for(var _t=at.length-vt,At=_t%xt,Tt=Math.min(_t,_t-At)+vt,yt=0,It=vt;It<Tt;It+=xt)yt=ot(at,It,It+xt,dt),this.imuln(wt),this.words[0]+yt<67108864?this.words[0]+=yt:this._iaddn(yt);if(At!==0){var rr=1;for(yt=ot(at,It,at.length,dt),It=0;It<At;It++)rr*=dt;this.imuln(rr),this.words[0]+yt<67108864?this.words[0]+=yt:this._iaddn(yt)}this._strip()},tt.prototype.copy=function(at){at.words=new Array(this.length);for(var dt=0;dt<this.length;dt++)at.words[dt]=this.words[dt];at.length=this.length,at.negative=this.negative,at.red=this.red};function st(bt,at){bt.words=at.words,bt.length=at.length,bt.negative=at.negative,bt.red=at.red}if(tt.prototype._move=function(at){st(at,this)},tt.prototype.clone=function(){var at=new tt(null);return this.copy(at),at},tt.prototype._expand=function(at){for(;this.length<at;)this.words[this.length++]=0;return this},tt.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},tt.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{tt.prototype[Symbol.for("nodejs.util.inspect.custom")]=ct}catch{tt.prototype.inspect=ct}else tt.prototype.inspect=ct;function ct(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var ut=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],ht=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],Et=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];tt.prototype.toString=function(at,dt){at=at||10,dt=dt|0||1;var vt;if(at===16||at==="hex"){vt="";for(var xt=0,wt=0,_t=0;_t<this.length;_t++){var At=this.words[_t],Tt=((At<<xt|wt)&16777215).toString(16);wt=At>>>24-xt&16777215,xt+=2,xt>=26&&(xt-=26,_t--),wt!==0||_t!==this.length-1?vt=ut[6-Tt.length]+Tt+vt:vt=Tt+vt}for(wt!==0&&(vt=wt.toString(16)+vt);vt.length%dt!==0;)vt="0"+vt;return this.negative!==0&&(vt="-"+vt),vt}if(at===(at|0)&&at>=2&&at<=36){var yt=ht[at],It=Et[at];vt="";var rr=this.clone();for(rr.negative=0;!rr.isZero();){var ir=rr.modrn(It).toString(at);rr=rr.idivn(It),rr.isZero()?vt=ir+vt:vt=ut[yt-ir.length]+ir+vt}for(this.isZero()&&(vt="0"+vt);vt.length%dt!==0;)vt="0"+vt;return this.negative!==0&&(vt="-"+vt),vt}j(!1,"Base should be between 2 and 36")},tt.prototype.toNumber=function(){var at=this.words[0];return this.length===2?at+=this.words[1]*67108864:this.length===3&&this.words[2]===1?at+=4503599627370496+this.words[1]*67108864:this.length>2&&j(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-at:at},tt.prototype.toJSON=function(){return this.toString(16,2)},rt&&(tt.prototype.toBuffer=function(at,dt){return this.toArrayLike(rt,at,dt)}),tt.prototype.toArray=function(at,dt){return this.toArrayLike(Array,at,dt)};var St=function(at,dt){return at.allocUnsafe?at.allocUnsafe(dt):new at(dt)};tt.prototype.toArrayLike=function(at,dt,vt){this._strip();var xt=this.byteLength(),wt=vt||Math.max(1,xt);j(xt<=wt,"byte array longer than desired length"),j(wt>0,"Requested array length <= 0");var _t=St(at,wt),At=dt==="le"?"LE":"BE";return this["_toArrayLike"+At](_t,xt),_t},tt.prototype._toArrayLikeLE=function(at,dt){for(var vt=0,xt=0,wt=0,_t=0;wt<this.length;wt++){var At=this.words[wt]<<_t|xt;at[vt++]=At&255,vt<at.length&&(at[vt++]=At>>8&255),vt<at.length&&(at[vt++]=At>>16&255),_t===6?(vt<at.length&&(at[vt++]=At>>24&255),xt=0,_t=0):(xt=At>>>24,_t+=2)}if(vt<at.length)for(at[vt++]=xt;vt<at.length;)at[vt++]=0},tt.prototype._toArrayLikeBE=function(at,dt){for(var vt=at.length-1,xt=0,wt=0,_t=0;wt<this.length;wt++){var At=this.words[wt]<<_t|xt;at[vt--]=At&255,vt>=0&&(at[vt--]=At>>8&255),vt>=0&&(at[vt--]=At>>16&255),_t===6?(vt>=0&&(at[vt--]=At>>24&255),xt=0,_t=0):(xt=At>>>24,_t+=2)}if(vt>=0)for(at[vt--]=xt;vt>=0;)at[vt--]=0},Math.clz32?tt.prototype._countBits=function(at){return 32-Math.clz32(at)}:tt.prototype._countBits=function(at){var dt=at,vt=0;return dt>=4096&&(vt+=13,dt>>>=13),dt>=64&&(vt+=7,dt>>>=7),dt>=8&&(vt+=4,dt>>>=4),dt>=2&&(vt+=2,dt>>>=2),vt+dt},tt.prototype._zeroBits=function(at){if(at===0)return 26;var dt=at,vt=0;return dt&8191||(vt+=13,dt>>>=13),dt&127||(vt+=7,dt>>>=7),dt&15||(vt+=4,dt>>>=4),dt&3||(vt+=2,dt>>>=2),dt&1||vt++,vt},tt.prototype.bitLength=function(){var at=this.words[this.length-1],dt=this._countBits(at);return(this.length-1)*26+dt};function Mt(bt){for(var at=new Array(bt.bitLength()),dt=0;dt<at.length;dt++){var vt=dt/26|0,xt=dt%26;at[dt]=bt.words[vt]>>>xt&1}return at}tt.prototype.zeroBits=function(){if(this.isZero())return 0;for(var at=0,dt=0;dt<this.length;dt++){var vt=this._zeroBits(this.words[dt]);if(at+=vt,vt!==26)break}return at},tt.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},tt.prototype.toTwos=function(at){return this.negative!==0?this.abs().inotn(at).iaddn(1):this.clone()},tt.prototype.fromTwos=function(at){return this.testn(at-1)?this.notn(at).iaddn(1).ineg():this.clone()},tt.prototype.isNeg=function(){return this.negative!==0},tt.prototype.neg=function(){return this.clone().ineg()},tt.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},tt.prototype.iuor=function(at){for(;this.length<at.length;)this.words[this.length++]=0;for(var dt=0;dt<at.length;dt++)this.words[dt]=this.words[dt]|at.words[dt];return this._strip()},tt.prototype.ior=function(at){return j((this.negative|at.negative)===0),this.iuor(at)},tt.prototype.or=function(at){return this.length>at.length?this.clone().ior(at):at.clone().ior(this)},tt.prototype.uor=function(at){return this.length>at.length?this.clone().iuor(at):at.clone().iuor(this)},tt.prototype.iuand=function(at){var dt;this.length>at.length?dt=at:dt=this;for(var vt=0;vt<dt.length;vt++)this.words[vt]=this.words[vt]&at.words[vt];return this.length=dt.length,this._strip()},tt.prototype.iand=function(at){return j((this.negative|at.negative)===0),this.iuand(at)},tt.prototype.and=function(at){return this.length>at.length?this.clone().iand(at):at.clone().iand(this)},tt.prototype.uand=function(at){return this.length>at.length?this.clone().iuand(at):at.clone().iuand(this)},tt.prototype.iuxor=function(at){var dt,vt;this.length>at.length?(dt=this,vt=at):(dt=at,vt=this);for(var xt=0;xt<vt.length;xt++)this.words[xt]=dt.words[xt]^vt.words[xt];if(this!==dt)for(;xt<dt.length;xt++)this.words[xt]=dt.words[xt];return this.length=dt.length,this._strip()},tt.prototype.ixor=function(at){return j((this.negative|at.negative)===0),this.iuxor(at)},tt.prototype.xor=function(at){return this.length>at.length?this.clone().ixor(at):at.clone().ixor(this)},tt.prototype.uxor=function(at){return this.length>at.length?this.clone().iuxor(at):at.clone().iuxor(this)},tt.prototype.inotn=function(at){j(typeof at=="number"&&at>=0);var dt=Math.ceil(at/26)|0,vt=at%26;this._expand(dt),vt>0&&dt--;for(var xt=0;xt<dt;xt++)this.words[xt]=~this.words[xt]&67108863;return vt>0&&(this.words[xt]=~this.words[xt]&67108863>>26-vt),this._strip()},tt.prototype.notn=function(at){return this.clone().inotn(at)},tt.prototype.setn=function(at,dt){j(typeof at=="number"&&at>=0);var vt=at/26|0,xt=at%26;return this._expand(vt+1),dt?this.words[vt]=this.words[vt]|1<<xt:this.words[vt]=this.words[vt]&~(1<<xt),this._strip()},tt.prototype.iadd=function(at){var dt;if(this.negative!==0&&at.negative===0)return this.negative=0,dt=this.isub(at),this.negative^=1,this._normSign();if(this.negative===0&&at.negative!==0)return at.negative=0,dt=this.isub(at),at.negative=1,dt._normSign();var vt,xt;this.length>at.length?(vt=this,xt=at):(vt=at,xt=this);for(var wt=0,_t=0;_t<xt.length;_t++)dt=(vt.words[_t]|0)+(xt.words[_t]|0)+wt,this.words[_t]=dt&67108863,wt=dt>>>26;for(;wt!==0&&_t<vt.length;_t++)dt=(vt.words[_t]|0)+wt,this.words[_t]=dt&67108863,wt=dt>>>26;if(this.length=vt.length,wt!==0)this.words[this.length]=wt,this.length++;else if(vt!==this)for(;_t<vt.length;_t++)this.words[_t]=vt.words[_t];return this},tt.prototype.add=function(at){var dt;return at.negative!==0&&this.negative===0?(at.negative=0,dt=this.sub(at),at.negative^=1,dt):at.negative===0&&this.negative!==0?(this.negative=0,dt=at.sub(this),this.negative=1,dt):this.length>at.length?this.clone().iadd(at):at.clone().iadd(this)},tt.prototype.isub=function(at){if(at.negative!==0){at.negative=0;var dt=this.iadd(at);return at.negative=1,dt._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(at),this.negative=1,this._normSign();var vt=this.cmp(at);if(vt===0)return this.negative=0,this.length=1,this.words[0]=0,this;var xt,wt;vt>0?(xt=this,wt=at):(xt=at,wt=this);for(var _t=0,At=0;At<wt.length;At++)dt=(xt.words[At]|0)-(wt.words[At]|0)+_t,_t=dt>>26,this.words[At]=dt&67108863;for(;_t!==0&&At<xt.length;At++)dt=(xt.words[At]|0)+_t,_t=dt>>26,this.words[At]=dt&67108863;if(_t===0&&At<xt.length&&xt!==this)for(;At<xt.length;At++)this.words[At]=xt.words[At];return this.length=Math.max(this.length,At),xt!==this&&(this.negative=1),this._strip()},tt.prototype.sub=function(at){return this.clone().isub(at)};function kt(bt,at,dt){dt.negative=at.negative^bt.negative;var vt=bt.length+at.length|0;dt.length=vt,vt=vt-1|0;var xt=bt.words[0]|0,wt=at.words[0]|0,_t=xt*wt,At=_t&67108863,Tt=_t/67108864|0;dt.words[0]=At;for(var yt=1;yt<vt;yt++){for(var It=Tt>>>26,rr=Tt&67108863,ir=Math.min(yt,at.length-1),nr=Math.max(0,yt-bt.length+1);nr<=ir;nr++){var Gt=yt-nr|0;xt=bt.words[Gt]|0,wt=at.words[nr]|0,_t=xt*wt+rr,It+=_t/67108864|0,rr=_t&67108863}dt.words[yt]=rr|0,Tt=It|0}return Tt!==0?dt.words[yt]=Tt|0:dt.length--,dt._strip()}var Ct=function(at,dt,vt){var xt=at.words,wt=dt.words,_t=vt.words,At=0,Tt,yt,It,rr=xt[0]|0,ir=rr&8191,nr=rr>>>13,Gt=xt[1]|0,qt=Gt&8191,Jt=Gt>>>13,Ft=xt[2]|0,Kt=Ft&8191,Qt=Ft>>>13,dr=xt[3]|0,xr=dr&8191,pr=dr>>>13,Ir=xt[4]|0,Cr=Ir&8191,lr=Ir>>>13,fr=xt[5]|0,Er=fr&8191,Ar=fr>>>13,kr=xt[6]|0,Sr=kr&8191,$r=kr>>>13,jr=xt[7]|0,Nr=jr&8191,or=jr>>>13,Xt=xt[8]|0,er=Xt&8191,Zt=Xt>>>13,Ht=xt[9]|0,Wt=Ht&8191,ar=Ht>>>13,br=wt[0]|0,wr=br&8191,Rr=br>>>13,Qr=wt[1]|0,Ur=Qr&8191,Hr=Qr>>>13,_n=wt[2]|0,Wr=_n&8191,an=_n>>>13,Sn=wt[3]|0,cn=Sn&8191,Xr=Sn>>>13,Cn=wt[4]|0,ln=Cn&8191,Yr=Cn>>>13,En=wt[5]|0,fn=En&8191,Jr=En>>>13,$n=wt[6]|0,un=$n&8191,en=$n>>>13,An=wt[7]|0,sn=An&8191,tn=An>>>13,kn=wt[8]|0,xn=kn&8191,dn=kn>>>13,Ln=wt[9]|0,hn=Ln&8191,yn=Ln>>>13;vt.negative=at.negative^dt.negative,vt.length=19,Tt=Math.imul(ir,wr),yt=Math.imul(ir,Rr),yt=yt+Math.imul(nr,wr)|0,It=Math.imul(nr,Rr);var ps=(At+Tt|0)+((yt&8191)<<13)|0;At=(It+(yt>>>13)|0)+(ps>>>26)|0,ps&=67108863,Tt=Math.imul(qt,wr),yt=Math.imul(qt,Rr),yt=yt+Math.imul(Jt,wr)|0,It=Math.imul(Jt,Rr),Tt=Tt+Math.imul(ir,Ur)|0,yt=yt+Math.imul(ir,Hr)|0,yt=yt+Math.imul(nr,Ur)|0,It=It+Math.imul(nr,Hr)|0;var ms=(At+Tt|0)+((yt&8191)<<13)|0;At=(It+(yt>>>13)|0)+(ms>>>26)|0,ms&=67108863,Tt=Math.imul(Kt,wr),yt=Math.imul(Kt,Rr),yt=yt+Math.imul(Qt,wr)|0,It=Math.imul(Qt,Rr),Tt=Tt+Math.imul(qt,Ur)|0,yt=yt+Math.imul(qt,Hr)|0,yt=yt+Math.imul(Jt,Ur)|0,It=It+Math.imul(Jt,Hr)|0,Tt=Tt+Math.imul(ir,Wr)|0,yt=yt+Math.imul(ir,an)|0,yt=yt+Math.imul(nr,Wr)|0,It=It+Math.imul(nr,an)|0;var gs=(At+Tt|0)+((yt&8191)<<13)|0;At=(It+(yt>>>13)|0)+(gs>>>26)|0,gs&=67108863,Tt=Math.imul(xr,wr),yt=Math.imul(xr,Rr),yt=yt+Math.imul(pr,wr)|0,It=Math.imul(pr,Rr),Tt=Tt+Math.imul(Kt,Ur)|0,yt=yt+Math.imul(Kt,Hr)|0,yt=yt+Math.imul(Qt,Ur)|0,It=It+Math.imul(Qt,Hr)|0,Tt=Tt+Math.imul(qt,Wr)|0,yt=yt+Math.imul(qt,an)|0,yt=yt+Math.imul(Jt,Wr)|0,It=It+Math.imul(Jt,an)|0,Tt=Tt+Math.imul(ir,cn)|0,yt=yt+Math.imul(ir,Xr)|0,yt=yt+Math.imul(nr,cn)|0,It=It+Math.imul(nr,Xr)|0;var vs=(At+Tt|0)+((yt&8191)<<13)|0;At=(It+(yt>>>13)|0)+(vs>>>26)|0,vs&=67108863,Tt=Math.imul(Cr,wr),yt=Math.imul(Cr,Rr),yt=yt+Math.imul(lr,wr)|0,It=Math.imul(lr,Rr),Tt=Tt+Math.imul(xr,Ur)|0,yt=yt+Math.imul(xr,Hr)|0,yt=yt+Math.imul(pr,Ur)|0,It=It+Math.imul(pr,Hr)|0,Tt=Tt+Math.imul(Kt,Wr)|0,yt=yt+Math.imul(Kt,an)|0,yt=yt+Math.imul(Qt,Wr)|0,It=It+Math.imul(Qt,an)|0,Tt=Tt+Math.imul(qt,cn)|0,yt=yt+Math.imul(qt,Xr)|0,yt=yt+Math.imul(Jt,cn)|0,It=It+Math.imul(Jt,Xr)|0,Tt=Tt+Math.imul(ir,ln)|0,yt=yt+Math.imul(ir,Yr)|0,yt=yt+Math.imul(nr,ln)|0,It=It+Math.imul(nr,Yr)|0;var Zn=(At+Tt|0)+((yt&8191)<<13)|0;At=(It+(yt>>>13)|0)+(Zn>>>26)|0,Zn&=67108863,Tt=Math.imul(Er,wr),yt=Math.imul(Er,Rr),yt=yt+Math.imul(Ar,wr)|0,It=Math.imul(Ar,Rr),Tt=Tt+Math.imul(Cr,Ur)|0,yt=yt+Math.imul(Cr,Hr)|0,yt=yt+Math.imul(lr,Ur)|0,It=It+Math.imul(lr,Hr)|0,Tt=Tt+Math.imul(xr,Wr)|0,yt=yt+Math.imul(xr,an)|0,yt=yt+Math.imul(pr,Wr)|0,It=It+Math.imul(pr,an)|0,Tt=Tt+Math.imul(Kt,cn)|0,yt=yt+Math.imul(Kt,Xr)|0,yt=yt+Math.imul(Qt,cn)|0,It=It+Math.imul(Qt,Xr)|0,Tt=Tt+Math.imul(qt,ln)|0,yt=yt+Math.imul(qt,Yr)|0,yt=yt+Math.imul(Jt,ln)|0,It=It+Math.imul(Jt,Yr)|0,Tt=Tt+Math.imul(ir,fn)|0,yt=yt+Math.imul(ir,Jr)|0,yt=yt+Math.imul(nr,fn)|0,It=It+Math.imul(nr,Jr)|0;var ls=(At+Tt|0)+((yt&8191)<<13)|0;At=(It+(yt>>>13)|0)+(ls>>>26)|0,ls&=67108863,Tt=Math.imul(Sr,wr),yt=Math.imul(Sr,Rr),yt=yt+Math.imul($r,wr)|0,It=Math.imul($r,Rr),Tt=Tt+Math.imul(Er,Ur)|0,yt=yt+Math.imul(Er,Hr)|0,yt=yt+Math.imul(Ar,Ur)|0,It=It+Math.imul(Ar,Hr)|0,Tt=Tt+Math.imul(Cr,Wr)|0,yt=yt+Math.imul(Cr,an)|0,yt=yt+Math.imul(lr,Wr)|0,It=It+Math.imul(lr,an)|0,Tt=Tt+Math.imul(xr,cn)|0,yt=yt+Math.imul(xr,Xr)|0,yt=yt+Math.imul(pr,cn)|0,It=It+Math.imul(pr,Xr)|0,Tt=Tt+Math.imul(Kt,ln)|0,yt=yt+Math.imul(Kt,Yr)|0,yt=yt+Math.imul(Qt,ln)|0,It=It+Math.imul(Qt,Yr)|0,Tt=Tt+Math.imul(qt,fn)|0,yt=yt+Math.imul(qt,Jr)|0,yt=yt+Math.imul(Jt,fn)|0,It=It+Math.imul(Jt,Jr)|0,Tt=Tt+Math.imul(ir,un)|0,yt=yt+Math.imul(ir,en)|0,yt=yt+Math.imul(nr,un)|0,It=It+Math.imul(nr,en)|0;var rs=(At+Tt|0)+((yt&8191)<<13)|0;At=(It+(yt>>>13)|0)+(rs>>>26)|0,rs&=67108863,Tt=Math.imul(Nr,wr),yt=Math.imul(Nr,Rr),yt=yt+Math.imul(or,wr)|0,It=Math.imul(or,Rr),Tt=Tt+Math.imul(Sr,Ur)|0,yt=yt+Math.imul(Sr,Hr)|0,yt=yt+Math.imul($r,Ur)|0,It=It+Math.imul($r,Hr)|0,Tt=Tt+Math.imul(Er,Wr)|0,yt=yt+Math.imul(Er,an)|0,yt=yt+Math.imul(Ar,Wr)|0,It=It+Math.imul(Ar,an)|0,Tt=Tt+Math.imul(Cr,cn)|0,yt=yt+Math.imul(Cr,Xr)|0,yt=yt+Math.imul(lr,cn)|0,It=It+Math.imul(lr,Xr)|0,Tt=Tt+Math.imul(xr,ln)|0,yt=yt+Math.imul(xr,Yr)|0,yt=yt+Math.imul(pr,ln)|0,It=It+Math.imul(pr,Yr)|0,Tt=Tt+Math.imul(Kt,fn)|0,yt=yt+Math.imul(Kt,Jr)|0,yt=yt+Math.imul(Qt,fn)|0,It=It+Math.imul(Qt,Jr)|0,Tt=Tt+Math.imul(qt,un)|0,yt=yt+Math.imul(qt,en)|0,yt=yt+Math.imul(Jt,un)|0,It=It+Math.imul(Jt,en)|0,Tt=Tt+Math.imul(ir,sn)|0,yt=yt+Math.imul(ir,tn)|0,yt=yt+Math.imul(nr,sn)|0,It=It+Math.imul(nr,tn)|0;var es=(At+Tt|0)+((yt&8191)<<13)|0;At=(It+(yt>>>13)|0)+(es>>>26)|0,es&=67108863,Tt=Math.imul(er,wr),yt=Math.imul(er,Rr),yt=yt+Math.imul(Zt,wr)|0,It=Math.imul(Zt,Rr),Tt=Tt+Math.imul(Nr,Ur)|0,yt=yt+Math.imul(Nr,Hr)|0,yt=yt+Math.imul(or,Ur)|0,It=It+Math.imul(or,Hr)|0,Tt=Tt+Math.imul(Sr,Wr)|0,yt=yt+Math.imul(Sr,an)|0,yt=yt+Math.imul($r,Wr)|0,It=It+Math.imul($r,an)|0,Tt=Tt+Math.imul(Er,cn)|0,yt=yt+Math.imul(Er,Xr)|0,yt=yt+Math.imul(Ar,cn)|0,It=It+Math.imul(Ar,Xr)|0,Tt=Tt+Math.imul(Cr,ln)|0,yt=yt+Math.imul(Cr,Yr)|0,yt=yt+Math.imul(lr,ln)|0,It=It+Math.imul(lr,Yr)|0,Tt=Tt+Math.imul(xr,fn)|0,yt=yt+Math.imul(xr,Jr)|0,yt=yt+Math.imul(pr,fn)|0,It=It+Math.imul(pr,Jr)|0,Tt=Tt+Math.imul(Kt,un)|0,yt=yt+Math.imul(Kt,en)|0,yt=yt+Math.imul(Qt,un)|0,It=It+Math.imul(Qt,en)|0,Tt=Tt+Math.imul(qt,sn)|0,yt=yt+Math.imul(qt,tn)|0,yt=yt+Math.imul(Jt,sn)|0,It=It+Math.imul(Jt,tn)|0,Tt=Tt+Math.imul(ir,xn)|0,yt=yt+Math.imul(ir,dn)|0,yt=yt+Math.imul(nr,xn)|0,It=It+Math.imul(nr,dn)|0;var ys=(At+Tt|0)+((yt&8191)<<13)|0;At=(It+(yt>>>13)|0)+(ys>>>26)|0,ys&=67108863,Tt=Math.imul(Wt,wr),yt=Math.imul(Wt,Rr),yt=yt+Math.imul(ar,wr)|0,It=Math.imul(ar,Rr),Tt=Tt+Math.imul(er,Ur)|0,yt=yt+Math.imul(er,Hr)|0,yt=yt+Math.imul(Zt,Ur)|0,It=It+Math.imul(Zt,Hr)|0,Tt=Tt+Math.imul(Nr,Wr)|0,yt=yt+Math.imul(Nr,an)|0,yt=yt+Math.imul(or,Wr)|0,It=It+Math.imul(or,an)|0,Tt=Tt+Math.imul(Sr,cn)|0,yt=yt+Math.imul(Sr,Xr)|0,yt=yt+Math.imul($r,cn)|0,It=It+Math.imul($r,Xr)|0,Tt=Tt+Math.imul(Er,ln)|0,yt=yt+Math.imul(Er,Yr)|0,yt=yt+Math.imul(Ar,ln)|0,It=It+Math.imul(Ar,Yr)|0,Tt=Tt+Math.imul(Cr,fn)|0,yt=yt+Math.imul(Cr,Jr)|0,yt=yt+Math.imul(lr,fn)|0,It=It+Math.imul(lr,Jr)|0,Tt=Tt+Math.imul(xr,un)|0,yt=yt+Math.imul(xr,en)|0,yt=yt+Math.imul(pr,un)|0,It=It+Math.imul(pr,en)|0,Tt=Tt+Math.imul(Kt,sn)|0,yt=yt+Math.imul(Kt,tn)|0,yt=yt+Math.imul(Qt,sn)|0,It=It+Math.imul(Qt,tn)|0,Tt=Tt+Math.imul(qt,xn)|0,yt=yt+Math.imul(qt,dn)|0,yt=yt+Math.imul(Jt,xn)|0,It=It+Math.imul(Jt,dn)|0,Tt=Tt+Math.imul(ir,hn)|0,yt=yt+Math.imul(ir,yn)|0,yt=yt+Math.imul(nr,hn)|0,It=It+Math.imul(nr,yn)|0;var ns=(At+Tt|0)+((yt&8191)<<13)|0;At=(It+(yt>>>13)|0)+(ns>>>26)|0,ns&=67108863,Tt=Math.imul(Wt,Ur),yt=Math.imul(Wt,Hr),yt=yt+Math.imul(ar,Ur)|0,It=Math.imul(ar,Hr),Tt=Tt+Math.imul(er,Wr)|0,yt=yt+Math.imul(er,an)|0,yt=yt+Math.imul(Zt,Wr)|0,It=It+Math.imul(Zt,an)|0,Tt=Tt+Math.imul(Nr,cn)|0,yt=yt+Math.imul(Nr,Xr)|0,yt=yt+Math.imul(or,cn)|0,It=It+Math.imul(or,Xr)|0,Tt=Tt+Math.imul(Sr,ln)|0,yt=yt+Math.imul(Sr,Yr)|0,yt=yt+Math.imul($r,ln)|0,It=It+Math.imul($r,Yr)|0,Tt=Tt+Math.imul(Er,fn)|0,yt=yt+Math.imul(Er,Jr)|0,yt=yt+Math.imul(Ar,fn)|0,It=It+Math.imul(Ar,Jr)|0,Tt=Tt+Math.imul(Cr,un)|0,yt=yt+Math.imul(Cr,en)|0,yt=yt+Math.imul(lr,un)|0,It=It+Math.imul(lr,en)|0,Tt=Tt+Math.imul(xr,sn)|0,yt=yt+Math.imul(xr,tn)|0,yt=yt+Math.imul(pr,sn)|0,It=It+Math.imul(pr,tn)|0,Tt=Tt+Math.imul(Kt,xn)|0,yt=yt+Math.imul(Kt,dn)|0,yt=yt+Math.imul(Qt,xn)|0,It=It+Math.imul(Qt,dn)|0,Tt=Tt+Math.imul(qt,hn)|0,yt=yt+Math.imul(qt,yn)|0,yt=yt+Math.imul(Jt,hn)|0,It=It+Math.imul(Jt,yn)|0;var as=(At+Tt|0)+((yt&8191)<<13)|0;At=(It+(yt>>>13)|0)+(as>>>26)|0,as&=67108863,Tt=Math.imul(Wt,Wr),yt=Math.imul(Wt,an),yt=yt+Math.imul(ar,Wr)|0,It=Math.imul(ar,an),Tt=Tt+Math.imul(er,cn)|0,yt=yt+Math.imul(er,Xr)|0,yt=yt+Math.imul(Zt,cn)|0,It=It+Math.imul(Zt,Xr)|0,Tt=Tt+Math.imul(Nr,ln)|0,yt=yt+Math.imul(Nr,Yr)|0,yt=yt+Math.imul(or,ln)|0,It=It+Math.imul(or,Yr)|0,Tt=Tt+Math.imul(Sr,fn)|0,yt=yt+Math.imul(Sr,Jr)|0,yt=yt+Math.imul($r,fn)|0,It=It+Math.imul($r,Jr)|0,Tt=Tt+Math.imul(Er,un)|0,yt=yt+Math.imul(Er,en)|0,yt=yt+Math.imul(Ar,un)|0,It=It+Math.imul(Ar,en)|0,Tt=Tt+Math.imul(Cr,sn)|0,yt=yt+Math.imul(Cr,tn)|0,yt=yt+Math.imul(lr,sn)|0,It=It+Math.imul(lr,tn)|0,Tt=Tt+Math.imul(xr,xn)|0,yt=yt+Math.imul(xr,dn)|0,yt=yt+Math.imul(pr,xn)|0,It=It+Math.imul(pr,dn)|0,Tt=Tt+Math.imul(Kt,hn)|0,yt=yt+Math.imul(Kt,yn)|0,yt=yt+Math.imul(Qt,hn)|0,It=It+Math.imul(Qt,yn)|0;var ds=(At+Tt|0)+((yt&8191)<<13)|0;At=(It+(yt>>>13)|0)+(ds>>>26)|0,ds&=67108863,Tt=Math.imul(Wt,cn),yt=Math.imul(Wt,Xr),yt=yt+Math.imul(ar,cn)|0,It=Math.imul(ar,Xr),Tt=Tt+Math.imul(er,ln)|0,yt=yt+Math.imul(er,Yr)|0,yt=yt+Math.imul(Zt,ln)|0,It=It+Math.imul(Zt,Yr)|0,Tt=Tt+Math.imul(Nr,fn)|0,yt=yt+Math.imul(Nr,Jr)|0,yt=yt+Math.imul(or,fn)|0,It=It+Math.imul(or,Jr)|0,Tt=Tt+Math.imul(Sr,un)|0,yt=yt+Math.imul(Sr,en)|0,yt=yt+Math.imul($r,un)|0,It=It+Math.imul($r,en)|0,Tt=Tt+Math.imul(Er,sn)|0,yt=yt+Math.imul(Er,tn)|0,yt=yt+Math.imul(Ar,sn)|0,It=It+Math.imul(Ar,tn)|0,Tt=Tt+Math.imul(Cr,xn)|0,yt=yt+Math.imul(Cr,dn)|0,yt=yt+Math.imul(lr,xn)|0,It=It+Math.imul(lr,dn)|0,Tt=Tt+Math.imul(xr,hn)|0,yt=yt+Math.imul(xr,yn)|0,yt=yt+Math.imul(pr,hn)|0,It=It+Math.imul(pr,yn)|0;var fs=(At+Tt|0)+((yt&8191)<<13)|0;At=(It+(yt>>>13)|0)+(fs>>>26)|0,fs&=67108863,Tt=Math.imul(Wt,ln),yt=Math.imul(Wt,Yr),yt=yt+Math.imul(ar,ln)|0,It=Math.imul(ar,Yr),Tt=Tt+Math.imul(er,fn)|0,yt=yt+Math.imul(er,Jr)|0,yt=yt+Math.imul(Zt,fn)|0,It=It+Math.imul(Zt,Jr)|0,Tt=Tt+Math.imul(Nr,un)|0,yt=yt+Math.imul(Nr,en)|0,yt=yt+Math.imul(or,un)|0,It=It+Math.imul(or,en)|0,Tt=Tt+Math.imul(Sr,sn)|0,yt=yt+Math.imul(Sr,tn)|0,yt=yt+Math.imul($r,sn)|0,It=It+Math.imul($r,tn)|0,Tt=Tt+Math.imul(Er,xn)|0,yt=yt+Math.imul(Er,dn)|0,yt=yt+Math.imul(Ar,xn)|0,It=It+Math.imul(Ar,dn)|0,Tt=Tt+Math.imul(Cr,hn)|0,yt=yt+Math.imul(Cr,yn)|0,yt=yt+Math.imul(lr,hn)|0,It=It+Math.imul(lr,yn)|0;var Jn=(At+Tt|0)+((yt&8191)<<13)|0;At=(It+(yt>>>13)|0)+(Jn>>>26)|0,Jn&=67108863,Tt=Math.imul(Wt,fn),yt=Math.imul(Wt,Jr),yt=yt+Math.imul(ar,fn)|0,It=Math.imul(ar,Jr),Tt=Tt+Math.imul(er,un)|0,yt=yt+Math.imul(er,en)|0,yt=yt+Math.imul(Zt,un)|0,It=It+Math.imul(Zt,en)|0,Tt=Tt+Math.imul(Nr,sn)|0,yt=yt+Math.imul(Nr,tn)|0,yt=yt+Math.imul(or,sn)|0,It=It+Math.imul(or,tn)|0,Tt=Tt+Math.imul(Sr,xn)|0,yt=yt+Math.imul(Sr,dn)|0,yt=yt+Math.imul($r,xn)|0,It=It+Math.imul($r,dn)|0,Tt=Tt+Math.imul(Er,hn)|0,yt=yt+Math.imul(Er,yn)|0,yt=yt+Math.imul(Ar,hn)|0,It=It+Math.imul(Ar,yn)|0;var us=(At+Tt|0)+((yt&8191)<<13)|0;At=(It+(yt>>>13)|0)+(us>>>26)|0,us&=67108863,Tt=Math.imul(Wt,un),yt=Math.imul(Wt,en),yt=yt+Math.imul(ar,un)|0,It=Math.imul(ar,en),Tt=Tt+Math.imul(er,sn)|0,yt=yt+Math.imul(er,tn)|0,yt=yt+Math.imul(Zt,sn)|0,It=It+Math.imul(Zt,tn)|0,Tt=Tt+Math.imul(Nr,xn)|0,yt=yt+Math.imul(Nr,dn)|0,yt=yt+Math.imul(or,xn)|0,It=It+Math.imul(or,dn)|0,Tt=Tt+Math.imul(Sr,hn)|0,yt=yt+Math.imul(Sr,yn)|0,yt=yt+Math.imul($r,hn)|0,It=It+Math.imul($r,yn)|0;var xs=(At+Tt|0)+((yt&8191)<<13)|0;At=(It+(yt>>>13)|0)+(xs>>>26)|0,xs&=67108863,Tt=Math.imul(Wt,sn),yt=Math.imul(Wt,tn),yt=yt+Math.imul(ar,sn)|0,It=Math.imul(ar,tn),Tt=Tt+Math.imul(er,xn)|0,yt=yt+Math.imul(er,dn)|0,yt=yt+Math.imul(Zt,xn)|0,It=It+Math.imul(Zt,dn)|0,Tt=Tt+Math.imul(Nr,hn)|0,yt=yt+Math.imul(Nr,yn)|0,yt=yt+Math.imul(or,hn)|0,It=It+Math.imul(or,yn)|0;var bs=(At+Tt|0)+((yt&8191)<<13)|0;At=(It+(yt>>>13)|0)+(bs>>>26)|0,bs&=67108863,Tt=Math.imul(Wt,xn),yt=Math.imul(Wt,dn),yt=yt+Math.imul(ar,xn)|0,It=Math.imul(ar,dn),Tt=Tt+Math.imul(er,hn)|0,yt=yt+Math.imul(er,yn)|0,yt=yt+Math.imul(Zt,hn)|0,It=It+Math.imul(Zt,yn)|0;var Ps=(At+Tt|0)+((yt&8191)<<13)|0;At=(It+(yt>>>13)|0)+(Ps>>>26)|0,Ps&=67108863,Tt=Math.imul(Wt,hn),yt=Math.imul(Wt,yn),yt=yt+Math.imul(ar,hn)|0,It=Math.imul(ar,yn);var Ts=(At+Tt|0)+((yt&8191)<<13)|0;return At=(It+(yt>>>13)|0)+(Ts>>>26)|0,Ts&=67108863,_t[0]=ps,_t[1]=ms,_t[2]=gs,_t[3]=vs,_t[4]=Zn,_t[5]=ls,_t[6]=rs,_t[7]=es,_t[8]=ys,_t[9]=ns,_t[10]=as,_t[11]=ds,_t[12]=fs,_t[13]=Jn,_t[14]=us,_t[15]=xs,_t[16]=bs,_t[17]=Ps,_t[18]=Ts,At!==0&&(_t[19]=At,vt.length++),vt};Math.imul||(Ct=kt);function Ot(bt,at,dt){dt.negative=at.negative^bt.negative,dt.length=bt.length+at.length;for(var vt=0,xt=0,wt=0;wt<dt.length-1;wt++){var _t=xt;xt=0;for(var At=vt&67108863,Tt=Math.min(wt,at.length-1),yt=Math.max(0,wt-bt.length+1);yt<=Tt;yt++){var It=wt-yt,rr=bt.words[It]|0,ir=at.words[yt]|0,nr=rr*ir,Gt=nr&67108863;_t=_t+(nr/67108864|0)|0,Gt=Gt+At|0,At=Gt&67108863,_t=_t+(Gt>>>26)|0,xt+=_t>>>26,_t&=67108863}dt.words[wt]=At,vt=_t,_t=xt}return vt!==0?dt.words[wt]=vt:dt.length--,dt._strip()}function zt(bt,at,dt){return Ot(bt,at,dt)}tt.prototype.mulTo=function(at,dt){var vt,xt=this.length+at.length;return this.length===10&&at.length===10?vt=Ct(this,at,dt):xt<63?vt=kt(this,at,dt):xt<1024?vt=Ot(this,at,dt):vt=zt(this,at,dt),vt},tt.prototype.mul=function(at){var dt=new tt(null);return dt.words=new Array(this.length+at.length),this.mulTo(at,dt)},tt.prototype.mulf=function(at){var dt=new tt(null);return dt.words=new Array(this.length+at.length),zt(this,at,dt)},tt.prototype.imul=function(at){return this.clone().mulTo(at,this)},tt.prototype.imuln=function(at){var dt=at<0;dt&&(at=-at),j(typeof at=="number"),j(at<67108864);for(var vt=0,xt=0;xt<this.length;xt++){var wt=(this.words[xt]|0)*at,_t=(wt&67108863)+(vt&67108863);vt>>=26,vt+=wt/67108864|0,vt+=_t>>>26,this.words[xt]=_t&67108863}return vt!==0&&(this.words[xt]=vt,this.length++),dt?this.ineg():this},tt.prototype.muln=function(at){return this.clone().imuln(at)},tt.prototype.sqr=function(){return this.mul(this)},tt.prototype.isqr=function(){return this.imul(this.clone())},tt.prototype.pow=function(at){var dt=Mt(at);if(dt.length===0)return new tt(1);for(var vt=this,xt=0;xt<dt.length&&dt[xt]===0;xt++,vt=vt.sqr());if(++xt<dt.length)for(var wt=vt.sqr();xt<dt.length;xt++,wt=wt.sqr())dt[xt]!==0&&(vt=vt.mul(wt));return vt},tt.prototype.iushln=function(at){j(typeof at=="number"&&at>=0);var dt=at%26,vt=(at-dt)/26,xt=67108863>>>26-dt<<26-dt,wt;if(dt!==0){var _t=0;for(wt=0;wt<this.length;wt++){var At=this.words[wt]&xt,Tt=(this.words[wt]|0)-At<<dt;this.words[wt]=Tt|_t,_t=At>>>26-dt}_t&&(this.words[wt]=_t,this.length++)}if(vt!==0){for(wt=this.length-1;wt>=0;wt--)this.words[wt+vt]=this.words[wt];for(wt=0;wt<vt;wt++)this.words[wt]=0;this.length+=vt}return this._strip()},tt.prototype.ishln=function(at){return j(this.negative===0),this.iushln(at)},tt.prototype.iushrn=function(at,dt,vt){j(typeof at=="number"&&at>=0);var xt;dt?xt=(dt-dt%26)/26:xt=0;var wt=at%26,_t=Math.min((at-wt)/26,this.length),At=67108863^67108863>>>wt<<wt,Tt=vt;if(xt-=_t,xt=Math.max(0,xt),Tt){for(var yt=0;yt<_t;yt++)Tt.words[yt]=this.words[yt];Tt.length=_t}if(_t!==0)if(this.length>_t)for(this.length-=_t,yt=0;yt<this.length;yt++)this.words[yt]=this.words[yt+_t];else this.words[0]=0,this.length=1;var It=0;for(yt=this.length-1;yt>=0&&(It!==0||yt>=xt);yt--){var rr=this.words[yt]|0;this.words[yt]=It<<26-wt|rr>>>wt,It=rr&At}return Tt&&It!==0&&(Tt.words[Tt.length++]=It),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},tt.prototype.ishrn=function(at,dt,vt){return j(this.negative===0),this.iushrn(at,dt,vt)},tt.prototype.shln=function(at){return this.clone().ishln(at)},tt.prototype.ushln=function(at){return this.clone().iushln(at)},tt.prototype.shrn=function(at){return this.clone().ishrn(at)},tt.prototype.ushrn=function(at){return this.clone().iushrn(at)},tt.prototype.testn=function(at){j(typeof at=="number"&&at>=0);var dt=at%26,vt=(at-dt)/26,xt=1<<dt;if(this.length<=vt)return!1;var wt=this.words[vt];return!!(wt&xt)},tt.prototype.imaskn=function(at){j(typeof at=="number"&&at>=0);var dt=at%26,vt=(at-dt)/26;if(j(this.negative===0,"imaskn works only with positive numbers"),this.length<=vt)return this;if(dt!==0&&vt++,this.length=Math.min(vt,this.length),dt!==0){var xt=67108863^67108863>>>dt<<dt;this.words[this.length-1]&=xt}return this._strip()},tt.prototype.maskn=function(at){return this.clone().imaskn(at)},tt.prototype.iaddn=function(at){return j(typeof at=="number"),j(at<67108864),at<0?this.isubn(-at):this.negative!==0?this.length===1&&(this.words[0]|0)<=at?(this.words[0]=at-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(at),this.negative=1,this):this._iaddn(at)},tt.prototype._iaddn=function(at){this.words[0]+=at;for(var dt=0;dt<this.length&&this.words[dt]>=67108864;dt++)this.words[dt]-=67108864,dt===this.length-1?this.words[dt+1]=1:this.words[dt+1]++;return this.length=Math.max(this.length,dt+1),this},tt.prototype.isubn=function(at){if(j(typeof at=="number"),j(at<67108864),at<0)return this.iaddn(-at);if(this.negative!==0)return this.negative=0,this.iaddn(at),this.negative=1,this;if(this.words[0]-=at,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var dt=0;dt<this.length&&this.words[dt]<0;dt++)this.words[dt]+=67108864,this.words[dt+1]-=1;return this._strip()},tt.prototype.addn=function(at){return this.clone().iaddn(at)},tt.prototype.subn=function(at){return this.clone().isubn(at)},tt.prototype.iabs=function(){return this.negative=0,this},tt.prototype.abs=function(){return this.clone().iabs()},tt.prototype._ishlnsubmul=function(at,dt,vt){var xt=at.length+vt,wt;this._expand(xt);var _t,At=0;for(wt=0;wt<at.length;wt++){_t=(this.words[wt+vt]|0)+At;var Tt=(at.words[wt]|0)*dt;_t-=Tt&67108863,At=(_t>>26)-(Tt/67108864|0),this.words[wt+vt]=_t&67108863}for(;wt<this.length-vt;wt++)_t=(this.words[wt+vt]|0)+At,At=_t>>26,this.words[wt+vt]=_t&67108863;if(At===0)return this._strip();for(j(At===-1),At=0,wt=0;wt<this.length;wt++)_t=-(this.words[wt]|0)+At,At=_t>>26,this.words[wt]=_t&67108863;return this.negative=1,this._strip()},tt.prototype._wordDiv=function(at,dt){var vt=this.length-at.length,xt=this.clone(),wt=at,_t=wt.words[wt.length-1]|0,At=this._countBits(_t);vt=26-At,vt!==0&&(wt=wt.ushln(vt),xt.iushln(vt),_t=wt.words[wt.length-1]|0);var Tt=xt.length-wt.length,yt;if(dt!=="mod"){yt=new tt(null),yt.length=Tt+1,yt.words=new Array(yt.length);for(var It=0;It<yt.length;It++)yt.words[It]=0}var rr=xt.clone()._ishlnsubmul(wt,1,Tt);rr.negative===0&&(xt=rr,yt&&(yt.words[Tt]=1));for(var ir=Tt-1;ir>=0;ir--){var nr=(xt.words[wt.length+ir]|0)*67108864+(xt.words[wt.length+ir-1]|0);for(nr=Math.min(nr/_t|0,67108863),xt._ishlnsubmul(wt,nr,ir);xt.negative!==0;)nr--,xt.negative=0,xt._ishlnsubmul(wt,1,ir),xt.isZero()||(xt.negative^=1);yt&&(yt.words[ir]=nr)}return yt&&yt._strip(),xt._strip(),dt!=="div"&&vt!==0&&xt.iushrn(vt),{div:yt||null,mod:xt}},tt.prototype.divmod=function(at,dt,vt){if(j(!at.isZero()),this.isZero())return{div:new tt(0),mod:new tt(0)};var xt,wt,_t;return this.negative!==0&&at.negative===0?(_t=this.neg().divmod(at,dt),dt!=="mod"&&(xt=_t.div.neg()),dt!=="div"&&(wt=_t.mod.neg(),vt&&wt.negative!==0&&wt.iadd(at)),{div:xt,mod:wt}):this.negative===0&&at.negative!==0?(_t=this.divmod(at.neg(),dt),dt!=="mod"&&(xt=_t.div.neg()),{div:xt,mod:_t.mod}):this.negative&at.negative?(_t=this.neg().divmod(at.neg(),dt),dt!=="div"&&(wt=_t.mod.neg(),vt&&wt.negative!==0&&wt.isub(at)),{div:_t.div,mod:wt}):at.length>this.length||this.cmp(at)<0?{div:new tt(0),mod:this}:at.length===1?dt==="div"?{div:this.divn(at.words[0]),mod:null}:dt==="mod"?{div:null,mod:new tt(this.modrn(at.words[0]))}:{div:this.divn(at.words[0]),mod:new tt(this.modrn(at.words[0]))}:this._wordDiv(at,dt)},tt.prototype.div=function(at){return this.divmod(at,"div",!1).div},tt.prototype.mod=function(at){return this.divmod(at,"mod",!1).mod},tt.prototype.umod=function(at){return this.divmod(at,"mod",!0).mod},tt.prototype.divRound=function(at){var dt=this.divmod(at);if(dt.mod.isZero())return dt.div;var vt=dt.div.negative!==0?dt.mod.isub(at):dt.mod,xt=at.ushrn(1),wt=at.andln(1),_t=vt.cmp(xt);return _t<0||wt===1&&_t===0?dt.div:dt.div.negative!==0?dt.div.isubn(1):dt.div.iaddn(1)},tt.prototype.modrn=function(at){var dt=at<0;dt&&(at=-at),j(at<=67108863);for(var vt=(1<<26)%at,xt=0,wt=this.length-1;wt>=0;wt--)xt=(vt*xt+(this.words[wt]|0))%at;return dt?-xt:xt},tt.prototype.modn=function(at){return this.modrn(at)},tt.prototype.idivn=function(at){var dt=at<0;dt&&(at=-at),j(at<=67108863);for(var vt=0,xt=this.length-1;xt>=0;xt--){var wt=(this.words[xt]|0)+vt*67108864;this.words[xt]=wt/at|0,vt=wt%at}return this._strip(),dt?this.ineg():this},tt.prototype.divn=function(at){return this.clone().idivn(at)},tt.prototype.egcd=function(at){j(at.negative===0),j(!at.isZero());var dt=this,vt=at.clone();dt.negative!==0?dt=dt.umod(at):dt=dt.clone();for(var xt=new tt(1),wt=new tt(0),_t=new tt(0),At=new tt(1),Tt=0;dt.isEven()&&vt.isEven();)dt.iushrn(1),vt.iushrn(1),++Tt;for(var yt=vt.clone(),It=dt.clone();!dt.isZero();){for(var rr=0,ir=1;!(dt.words[0]&ir)&&rr<26;++rr,ir<<=1);if(rr>0)for(dt.iushrn(rr);rr-- >0;)(xt.isOdd()||wt.isOdd())&&(xt.iadd(yt),wt.isub(It)),xt.iushrn(1),wt.iushrn(1);for(var nr=0,Gt=1;!(vt.words[0]&Gt)&&nr<26;++nr,Gt<<=1);if(nr>0)for(vt.iushrn(nr);nr-- >0;)(_t.isOdd()||At.isOdd())&&(_t.iadd(yt),At.isub(It)),_t.iushrn(1),At.iushrn(1);dt.cmp(vt)>=0?(dt.isub(vt),xt.isub(_t),wt.isub(At)):(vt.isub(dt),_t.isub(xt),At.isub(wt))}return{a:_t,b:At,gcd:vt.iushln(Tt)}},tt.prototype._invmp=function(at){j(at.negative===0),j(!at.isZero());var dt=this,vt=at.clone();dt.negative!==0?dt=dt.umod(at):dt=dt.clone();for(var xt=new tt(1),wt=new tt(0),_t=vt.clone();dt.cmpn(1)>0&&vt.cmpn(1)>0;){for(var At=0,Tt=1;!(dt.words[0]&Tt)&&At<26;++At,Tt<<=1);if(At>0)for(dt.iushrn(At);At-- >0;)xt.isOdd()&&xt.iadd(_t),xt.iushrn(1);for(var yt=0,It=1;!(vt.words[0]&It)&&yt<26;++yt,It<<=1);if(yt>0)for(vt.iushrn(yt);yt-- >0;)wt.isOdd()&&wt.iadd(_t),wt.iushrn(1);dt.cmp(vt)>=0?(dt.isub(vt),xt.isub(wt)):(vt.isub(dt),wt.isub(xt))}var rr;return dt.cmpn(1)===0?rr=xt:rr=wt,rr.cmpn(0)<0&&rr.iadd(at),rr},tt.prototype.gcd=function(at){if(this.isZero())return at.abs();if(at.isZero())return this.abs();var dt=this.clone(),vt=at.clone();dt.negative=0,vt.negative=0;for(var xt=0;dt.isEven()&&vt.isEven();xt++)dt.iushrn(1),vt.iushrn(1);do{for(;dt.isEven();)dt.iushrn(1);for(;vt.isEven();)vt.iushrn(1);var wt=dt.cmp(vt);if(wt<0){var _t=dt;dt=vt,vt=_t}else if(wt===0||vt.cmpn(1)===0)break;dt.isub(vt)}while(!0);return vt.iushln(xt)},tt.prototype.invm=function(at){return this.egcd(at).a.umod(at)},tt.prototype.isEven=function(){return(this.words[0]&1)===0},tt.prototype.isOdd=function(){return(this.words[0]&1)===1},tt.prototype.andln=function(at){return this.words[0]&at},tt.prototype.bincn=function(at){j(typeof at=="number");var dt=at%26,vt=(at-dt)/26,xt=1<<dt;if(this.length<=vt)return this._expand(vt+1),this.words[vt]|=xt,this;for(var wt=xt,_t=vt;wt!==0&&_t<this.length;_t++){var At=this.words[_t]|0;At+=wt,wt=At>>>26,At&=67108863,this.words[_t]=At}return wt!==0&&(this.words[_t]=wt,this.length++),this},tt.prototype.isZero=function(){return this.length===1&&this.words[0]===0},tt.prototype.cmpn=function(at){var dt=at<0;if(this.negative!==0&&!dt)return-1;if(this.negative===0&&dt)return 1;this._strip();var vt;if(this.length>1)vt=1;else{dt&&(at=-at),j(at<=67108863,"Number is too big");var xt=this.words[0]|0;vt=xt===at?0:xt<at?-1:1}return this.negative!==0?-vt|0:vt},tt.prototype.cmp=function(at){if(this.negative!==0&&at.negative===0)return-1;if(this.negative===0&&at.negative!==0)return 1;var dt=this.ucmp(at);return this.negative!==0?-dt|0:dt},tt.prototype.ucmp=function(at){if(this.length>at.length)return 1;if(this.length<at.length)return-1;for(var dt=0,vt=this.length-1;vt>=0;vt--){var xt=this.words[vt]|0,wt=at.words[vt]|0;if(xt!==wt){xt<wt?dt=-1:xt>wt&&(dt=1);break}}return dt},tt.prototype.gtn=function(at){return this.cmpn(at)===1},tt.prototype.gt=function(at){return this.cmp(at)===1},tt.prototype.gten=function(at){return this.cmpn(at)>=0},tt.prototype.gte=function(at){return this.cmp(at)>=0},tt.prototype.ltn=function(at){return this.cmpn(at)===-1},tt.prototype.lt=function(at){return this.cmp(at)===-1},tt.prototype.lten=function(at){return this.cmpn(at)<=0},tt.prototype.lte=function(at){return this.cmp(at)<=0},tt.prototype.eqn=function(at){return this.cmpn(at)===0},tt.prototype.eq=function(at){return this.cmp(at)===0},tt.red=function(at){return new Lt(at)},tt.prototype.toRed=function(at){return j(!this.red,"Already a number in reduction context"),j(this.negative===0,"red works only with positives"),at.convertTo(this)._forceRed(at)},tt.prototype.fromRed=function(){return j(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},tt.prototype._forceRed=function(at){return this.red=at,this},tt.prototype.forceRed=function(at){return j(!this.red,"Already a number in reduction context"),this._forceRed(at)},tt.prototype.redAdd=function(at){return j(this.red,"redAdd works only with red numbers"),this.red.add(this,at)},tt.prototype.redIAdd=function(at){return j(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,at)},tt.prototype.redSub=function(at){return j(this.red,"redSub works only with red numbers"),this.red.sub(this,at)},tt.prototype.redISub=function(at){return j(this.red,"redISub works only with red numbers"),this.red.isub(this,at)},tt.prototype.redShl=function(at){return j(this.red,"redShl works only with red numbers"),this.red.shl(this,at)},tt.prototype.redMul=function(at){return j(this.red,"redMul works only with red numbers"),this.red._verify2(this,at),this.red.mul(this,at)},tt.prototype.redIMul=function(at){return j(this.red,"redMul works only with red numbers"),this.red._verify2(this,at),this.red.imul(this,at)},tt.prototype.redSqr=function(){return j(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},tt.prototype.redISqr=function(){return j(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},tt.prototype.redSqrt=function(){return j(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},tt.prototype.redInvm=function(){return j(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},tt.prototype.redNeg=function(){return j(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},tt.prototype.redPow=function(at){return j(this.red&&!at.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,at)};var Ut={k256:null,p224:null,p192:null,p25519:null};function Vt(bt,at){this.name=bt,this.p=new tt(at,16),this.n=this.p.bitLength(),this.k=new tt(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}Vt.prototype._tmp=function(){var at=new tt(null);return at.words=new Array(Math.ceil(this.n/13)),at},Vt.prototype.ireduce=function(at){var dt=at,vt;do this.split(dt,this.tmp),dt=this.imulK(dt),dt=dt.iadd(this.tmp),vt=dt.bitLength();while(vt>this.n);var xt=vt<this.n?-1:dt.ucmp(this.p);return xt===0?(dt.words[0]=0,dt.length=1):xt>0?dt.isub(this.p):dt.strip!==void 0?dt.strip():dt._strip(),dt},Vt.prototype.split=function(at,dt){at.iushrn(this.n,0,dt)},Vt.prototype.imulK=function(at){return at.imul(this.k)};function jt(){Vt.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}et(jt,Vt),jt.prototype.split=function(at,dt){for(var vt=4194303,xt=Math.min(at.length,9),wt=0;wt<xt;wt++)dt.words[wt]=at.words[wt];if(dt.length=xt,at.length<=9){at.words[0]=0,at.length=1;return}var _t=at.words[9];for(dt.words[dt.length++]=_t&vt,wt=10;wt<at.length;wt++){var At=at.words[wt]|0;at.words[wt-10]=(At&vt)<<4|_t>>>22,_t=At}_t>>>=22,at.words[wt-10]=_t,_t===0&&at.length>10?at.length-=10:at.length-=9},jt.prototype.imulK=function(at){at.words[at.length]=0,at.words[at.length+1]=0,at.length+=2;for(var dt=0,vt=0;vt<at.length;vt++){var xt=at.words[vt]|0;dt+=xt*977,at.words[vt]=dt&67108863,dt=xt*64+(dt/67108864|0)}return at.words[at.length-1]===0&&(at.length--,at.words[at.length-1]===0&&at.length--),at};function $t(){Vt.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}et($t,Vt);function Bt(){Vt.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}et(Bt,Vt);function Nt(){Vt.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}et(Nt,Vt),Nt.prototype.imulK=function(at){for(var dt=0,vt=0;vt<at.length;vt++){var xt=(at.words[vt]|0)*19+dt,wt=xt&67108863;xt>>>=26,at.words[vt]=wt,dt=xt}return dt!==0&&(at.words[at.length++]=dt),at},tt._prime=function(at){if(Ut[at])return Ut[at];var dt;if(at==="k256")dt=new jt;else if(at==="p224")dt=new $t;else if(at==="p192")dt=new Bt;else if(at==="p25519")dt=new Nt;else throw new Error("Unknown prime "+at);return Ut[at]=dt,dt};function Lt(bt){if(typeof bt=="string"){var at=tt._prime(bt);this.m=at.p,this.prime=at}else j(bt.gtn(1),"modulus must be greater than 1"),this.m=bt,this.prime=null}Lt.prototype._verify1=function(at){j(at.negative===0,"red works only with positives"),j(at.red,"red works only with red numbers")},Lt.prototype._verify2=function(at,dt){j((at.negative|dt.negative)===0,"red works only with positives"),j(at.red&&at.red===dt.red,"red works only with red numbers")},Lt.prototype.imod=function(at){return this.prime?this.prime.ireduce(at)._forceRed(this):(st(at,at.umod(this.m)._forceRed(this)),at)},Lt.prototype.neg=function(at){return at.isZero()?at.clone():this.m.sub(at)._forceRed(this)},Lt.prototype.add=function(at,dt){this._verify2(at,dt);var vt=at.add(dt);return vt.cmp(this.m)>=0&&vt.isub(this.m),vt._forceRed(this)},Lt.prototype.iadd=function(at,dt){this._verify2(at,dt);var vt=at.iadd(dt);return vt.cmp(this.m)>=0&&vt.isub(this.m),vt},Lt.prototype.sub=function(at,dt){this._verify2(at,dt);var vt=at.sub(dt);return vt.cmpn(0)<0&&vt.iadd(this.m),vt._forceRed(this)},Lt.prototype.isub=function(at,dt){this._verify2(at,dt);var vt=at.isub(dt);return vt.cmpn(0)<0&&vt.iadd(this.m),vt},Lt.prototype.shl=function(at,dt){return this._verify1(at),this.imod(at.ushln(dt))},Lt.prototype.imul=function(at,dt){return this._verify2(at,dt),this.imod(at.imul(dt))},Lt.prototype.mul=function(at,dt){return this._verify2(at,dt),this.imod(at.mul(dt))},Lt.prototype.isqr=function(at){return this.imul(at,at.clone())},Lt.prototype.sqr=function(at){return this.mul(at,at)},Lt.prototype.sqrt=function(at){if(at.isZero())return at.clone();var dt=this.m.andln(3);if(j(dt%2===1),dt===3){var vt=this.m.add(new tt(1)).iushrn(2);return this.pow(at,vt)}for(var xt=this.m.subn(1),wt=0;!xt.isZero()&&xt.andln(1)===0;)wt++,xt.iushrn(1);j(!xt.isZero());var _t=new tt(1).toRed(this),At=_t.redNeg(),Tt=this.m.subn(1).iushrn(1),yt=this.m.bitLength();for(yt=new tt(2*yt*yt).toRed(this);this.pow(yt,Tt).cmp(At)!==0;)yt.redIAdd(At);for(var It=this.pow(yt,xt),rr=this.pow(at,xt.addn(1).iushrn(1)),ir=this.pow(at,xt),nr=wt;ir.cmp(_t)!==0;){for(var Gt=ir,qt=0;Gt.cmp(_t)!==0;qt++)Gt=Gt.redSqr();j(qt<nr);var Jt=this.pow(It,new tt(1).iushln(nr-qt-1));rr=rr.redMul(Jt),It=Jt.redSqr(),ir=ir.redMul(It),nr=qt}return rr},Lt.prototype.invm=function(at){var dt=at._invmp(this.m);return dt.negative!==0?(dt.negative=0,this.imod(dt).redNeg()):this.imod(dt)},Lt.prototype.pow=function(at,dt){if(dt.isZero())return new tt(1).toRed(this);if(dt.cmpn(1)===0)return at.clone();var vt=4,xt=new Array(1<<vt);xt[0]=new tt(1).toRed(this),xt[1]=at;for(var wt=2;wt<xt.length;wt++)xt[wt]=this.mul(xt[wt-1],at);var _t=xt[0],At=0,Tt=0,yt=dt.bitLength()%26;for(yt===0&&(yt=26),wt=dt.length-1;wt>=0;wt--){for(var It=dt.words[wt],rr=yt-1;rr>=0;rr--){var ir=It>>rr&1;if(_t!==xt[0]&&(_t=this.sqr(_t)),ir===0&&At===0){Tt=0;continue}At<<=1,At|=ir,Tt++,!(Tt!==vt&&(wt!==0||rr!==0))&&(_t=this.mul(_t,xt[At]),Tt=0,At=0)}yt=26}return _t},Lt.prototype.convertTo=function(at){var dt=at.umod(this.m);return dt===at?dt.clone():dt},Lt.prototype.convertFrom=function(at){var dt=at.clone();return dt.red=null,dt},tt.mont=function(at){return new Pt(at)};function Pt(bt){Lt.call(this,bt),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new tt(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}et(Pt,Lt),Pt.prototype.convertTo=function(at){return this.imod(at.ushln(this.shift))},Pt.prototype.convertFrom=function(at){var dt=this.imod(at.mul(this.rinv));return dt.red=null,dt},Pt.prototype.imul=function(at,dt){if(at.isZero()||dt.isZero())return at.words[0]=0,at.length=1,at;var vt=at.imul(dt),xt=vt.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),wt=vt.isub(xt).iushrn(this.shift),_t=wt;return wt.cmp(this.m)>=0?_t=wt.isub(this.m):wt.cmpn(0)<0&&(_t=wt.iadd(this.m)),_t._forceRed(this)},Pt.prototype.mul=function(at,dt){if(at.isZero()||dt.isZero())return new tt(0)._forceRed(this);var vt=at.mul(dt),xt=vt.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),wt=vt.isub(xt).iushrn(this.shift),_t=wt;return wt.cmp(this.m)>=0?_t=wt.isub(this.m):wt.cmpn(0)<0&&(_t=wt.iadd(this.m)),_t._forceRed(this)},Pt.prototype.invm=function(at){var dt=this.imod(at._invmp(this.m).mul(this.r2));return dt._forceRed(this)}})(_,commonjsGlobal)}(bn$1)),bn$1.exports}var asn1$1={},asn1={},api={},vmBrowserify={},hasRequiredVmBrowserify;function requireVmBrowserify(){return hasRequiredVmBrowserify||(hasRequiredVmBrowserify=1,function(exports){var indexOf=function(_,a){if(_.indexOf)return _.indexOf(a);for(var $=0;$<_.length;$++)if(_[$]===a)return $;return-1},Object_keys=function(_){if(Object.keys)return Object.keys(_);var a=[];for(var $ in _)a.push($);return a},forEach=function(_,a){if(_.forEach)return _.forEach(a);for(var $=0;$<_.length;$++)a(_[$],$,_)},defineProp=function(){try{return Object.defineProperty({},"_",{}),function(_,a,$){Object.defineProperty(_,a,{writable:!0,enumerable:!1,configurable:!0,value:$})}}catch{return function(a,$,j){a[$]=j}}}(),globals=["Array","Boolean","Date","Error","EvalError","Function","Infinity","JSON","Math","NaN","Number","Object","RangeError","ReferenceError","RegExp","String","SyntaxError","TypeError","URIError","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","eval","isFinite","isNaN","parseFloat","parseInt","undefined","unescape"];function Context(){}Context.prototype={};var Script=exports.Script=function(a){if(!(this instanceof Script))return new Script(a);this.code=a};Script.prototype.runInContext=function(_){if(!(_ instanceof Context))throw new TypeError("needs a 'context' argument.");var a=document.createElement("iframe");a.style||(a.style={}),a.style.display="none",document.body.appendChild(a);var $=a.contentWindow,j=$.eval,et=$.execScript;!j&&et&&(et.call($,"null"),j=$.eval),forEach(Object_keys(_),function(nt){$[nt]=_[nt]}),forEach(globals,function(nt){_[nt]&&($[nt]=_[nt])});var tt=Object_keys($),rt=j.call($,this.code);return forEach(Object_keys($),function(nt){(nt in _||indexOf(tt,nt)===-1)&&(_[nt]=$[nt])}),forEach(globals,function(nt){nt in _||defineProp(_,nt,$[nt])}),document.body.removeChild(a),rt},Script.prototype.runInThisContext=function(){return eval(this.code)},Script.prototype.runInNewContext=function(_){var a=Script.createContext(_),$=this.runInContext(a);return _&&forEach(Object_keys(a),function(j){_[j]=a[j]}),$},forEach(Object_keys(Script.prototype),function(_){exports[_]=Script[_]=function(a){var $=Script(a);return $[_].apply($,[].slice.call(arguments,1))}}),exports.isContext=function(_){return _ instanceof Context},exports.createScript=function(_){return exports.Script(_)},exports.createContext=Script.createContext=function(_){var a=new Context;return typeof _=="object"&&forEach(Object_keys(_),function($){a[$]=_[$]}),a}}(vmBrowserify)),vmBrowserify}var hasRequiredApi;function requireApi(){return hasRequiredApi||(hasRequiredApi=1,function(_){var a=requireAsn1$1(),$=inherits_browserExports,j=_;j.define=function(rt,nt){return new et(rt,nt)};function et(tt,rt){this.name=tt,this.body=rt,this.decoders={},this.encoders={}}et.prototype._createNamed=function(rt){var nt;try{nt=requireVmBrowserify().runInThisContext("(function "+this.name+`(entity) {
  this._initNamed(entity);
})`)}catch{nt=function(ot){this._initNamed(ot)}}return $(nt,rt),nt.prototype._initNamed=function(ot){rt.call(this,ot)},new nt(this)},et.prototype._getDecoder=function(rt){return rt=rt||"der",this.decoders.hasOwnProperty(rt)||(this.decoders[rt]=this._createNamed(a.decoders[rt])),this.decoders[rt]},et.prototype.decode=function(rt,nt,it){return this._getDecoder(nt).decode(rt,it)},et.prototype._getEncoder=function(rt){return rt=rt||"der",this.encoders.hasOwnProperty(rt)||(this.encoders[rt]=this._createNamed(a.encoders[rt])),this.encoders[rt]},et.prototype.encode=function(rt,nt,it){return this._getEncoder(nt).encode(rt,it)}}(api)),api}var base$2={},reporter={},hasRequiredReporter;function requireReporter(){if(hasRequiredReporter)return reporter;hasRequiredReporter=1;var _=inherits_browserExports;function a(j){this._reporterState={obj:null,path:[],options:j||{},errors:[]}}reporter.Reporter=a,a.prototype.isError=function(et){return et instanceof $},a.prototype.save=function(){var et=this._reporterState;return{obj:et.obj,pathLen:et.path.length}},a.prototype.restore=function(et){var tt=this._reporterState;tt.obj=et.obj,tt.path=tt.path.slice(0,et.pathLen)},a.prototype.enterKey=function(et){return this._reporterState.path.push(et)},a.prototype.exitKey=function(et){var tt=this._reporterState;tt.path=tt.path.slice(0,et-1)},a.prototype.leaveKey=function(et,tt,rt){var nt=this._reporterState;this.exitKey(et),nt.obj!==null&&(nt.obj[tt]=rt)},a.prototype.path=function(){return this._reporterState.path.join("/")},a.prototype.enterObject=function(){var et=this._reporterState,tt=et.obj;return et.obj={},tt},a.prototype.leaveObject=function(et){var tt=this._reporterState,rt=tt.obj;return tt.obj=et,rt},a.prototype.error=function(et){var tt,rt=this._reporterState,nt=et instanceof $;if(nt?tt=et:tt=new $(rt.path.map(function(it){return"["+JSON.stringify(it)+"]"}).join(""),et.message||et,et.stack),!rt.options.partial)throw tt;return nt||rt.errors.push(tt),tt},a.prototype.wrapResult=function(et){var tt=this._reporterState;return tt.options.partial?{result:this.isError(et)?null:et,errors:tt.errors}:et};function $(j,et){this.path=j,this.rethrow(et)}return _($,Error),$.prototype.rethrow=function(et){if(this.message=et+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,$),!this.stack)try{throw new Error(this.message)}catch(tt){this.stack=tt.stack}return this},reporter}var buffer={},hasRequiredBuffer;function requireBuffer(){if(hasRequiredBuffer)return buffer;hasRequiredBuffer=1;var _=inherits_browserExports,a=requireBase().Reporter,$=buffer$1.Buffer;function j(tt,rt){if(a.call(this,rt),!$.isBuffer(tt)){this.error("Input not Buffer");return}this.base=tt,this.offset=0,this.length=tt.length}_(j,a),buffer.DecoderBuffer=j,j.prototype.save=function(){return{offset:this.offset,reporter:a.prototype.save.call(this)}},j.prototype.restore=function(rt){var nt=new j(this.base);return nt.offset=rt.offset,nt.length=this.offset,this.offset=rt.offset,a.prototype.restore.call(this,rt.reporter),nt},j.prototype.isEmpty=function(){return this.offset===this.length},j.prototype.readUInt8=function(rt){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(rt||"DecoderBuffer overrun")},j.prototype.skip=function(rt,nt){if(!(this.offset+rt<=this.length))return this.error(nt||"DecoderBuffer overrun");var it=new j(this.base);return it._reporterState=this._reporterState,it.offset=this.offset,it.length=this.offset+rt,this.offset+=rt,it},j.prototype.raw=function(rt){return this.base.slice(rt?rt.offset:this.offset,this.length)};function et(tt,rt){if(Array.isArray(tt))this.length=0,this.value=tt.map(function(nt){return nt instanceof et||(nt=new et(nt,rt)),this.length+=nt.length,nt},this);else if(typeof tt=="number"){if(!(0<=tt&&tt<=255))return rt.error("non-byte EncoderBuffer value");this.value=tt,this.length=1}else if(typeof tt=="string")this.value=tt,this.length=$.byteLength(tt);else if($.isBuffer(tt))this.value=tt,this.length=tt.length;else return rt.error("Unsupported type: "+typeof tt)}return buffer.EncoderBuffer=et,et.prototype.join=function(rt,nt){return rt||(rt=new $(this.length)),nt||(nt=0),this.length===0||(Array.isArray(this.value)?this.value.forEach(function(it){it.join(rt,nt),nt+=it.length}):(typeof this.value=="number"?rt[nt]=this.value:typeof this.value=="string"?rt.write(this.value,nt):$.isBuffer(this.value)&&this.value.copy(rt,nt),nt+=this.length)),rt},buffer}var node$1,hasRequiredNode;function requireNode(){if(hasRequiredNode)return node$1;hasRequiredNode=1;var _=requireBase().Reporter,a=requireBase().EncoderBuffer,$=requireBase().DecoderBuffer,j=minimalisticAssert,et=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],tt=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(et),rt=["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"];function nt(ot,st){var ct={};this._baseState=ct,ct.enc=ot,ct.parent=st||null,ct.children=null,ct.tag=null,ct.args=null,ct.reverseArgs=null,ct.choice=null,ct.optional=!1,ct.any=!1,ct.obj=!1,ct.use=null,ct.useDecoder=null,ct.key=null,ct.default=null,ct.explicit=null,ct.implicit=null,ct.contains=null,ct.parent||(ct.children=[],this._wrap())}node$1=nt;var it=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];return nt.prototype.clone=function(){var st=this._baseState,ct={};it.forEach(function(ht){ct[ht]=st[ht]});var ut=new this.constructor(ct.parent);return ut._baseState=ct,ut},nt.prototype._wrap=function(){var st=this._baseState;tt.forEach(function(ct){this[ct]=function(){var ht=new this.constructor(this);return st.children.push(ht),ht[ct].apply(ht,arguments)}},this)},nt.prototype._init=function(st){var ct=this._baseState;j(ct.parent===null),st.call(this),ct.children=ct.children.filter(function(ut){return ut._baseState.parent===this},this),j.equal(ct.children.length,1,"Root node can have only one child")},nt.prototype._useArgs=function(st){var ct=this._baseState,ut=st.filter(function(ht){return ht instanceof this.constructor},this);st=st.filter(function(ht){return!(ht instanceof this.constructor)},this),ut.length!==0&&(j(ct.children===null),ct.children=ut,ut.forEach(function(ht){ht._baseState.parent=this},this)),st.length!==0&&(j(ct.args===null),ct.args=st,ct.reverseArgs=st.map(function(ht){if(typeof ht!="object"||ht.constructor!==Object)return ht;var Et={};return Object.keys(ht).forEach(function(St){St==(St|0)&&(St|=0);var Mt=ht[St];Et[Mt]=St}),Et}))},rt.forEach(function(ot){nt.prototype[ot]=function(){var ct=this._baseState;throw new Error(ot+" not implemented for encoding: "+ct.enc)}}),et.forEach(function(ot){nt.prototype[ot]=function(){var ct=this._baseState,ut=Array.prototype.slice.call(arguments);return j(ct.tag===null),ct.tag=ot,this._useArgs(ut),this}}),nt.prototype.use=function(st){j(st);var ct=this._baseState;return j(ct.use===null),ct.use=st,this},nt.prototype.optional=function(){var st=this._baseState;return st.optional=!0,this},nt.prototype.def=function(st){var ct=this._baseState;return j(ct.default===null),ct.default=st,ct.optional=!0,this},nt.prototype.explicit=function(st){var ct=this._baseState;return j(ct.explicit===null&&ct.implicit===null),ct.explicit=st,this},nt.prototype.implicit=function(st){var ct=this._baseState;return j(ct.explicit===null&&ct.implicit===null),ct.implicit=st,this},nt.prototype.obj=function(){var st=this._baseState,ct=Array.prototype.slice.call(arguments);return st.obj=!0,ct.length!==0&&this._useArgs(ct),this},nt.prototype.key=function(st){var ct=this._baseState;return j(ct.key===null),ct.key=st,this},nt.prototype.any=function(){var st=this._baseState;return st.any=!0,this},nt.prototype.choice=function(st){var ct=this._baseState;return j(ct.choice===null),ct.choice=st,this._useArgs(Object.keys(st).map(function(ut){return st[ut]})),this},nt.prototype.contains=function(st){var ct=this._baseState;return j(ct.use===null),ct.contains=st,this},nt.prototype._decode=function(st,ct){var ut=this._baseState;if(ut.parent===null)return st.wrapResult(ut.children[0]._decode(st,ct));var ht=ut.default,Et=!0,St=null;if(ut.key!==null&&(St=st.enterKey(ut.key)),ut.optional){var Mt=null;if(ut.explicit!==null?Mt=ut.explicit:ut.implicit!==null?Mt=ut.implicit:ut.tag!==null&&(Mt=ut.tag),Mt===null&&!ut.any){var kt=st.save();try{ut.choice===null?this._decodeGeneric(ut.tag,st,ct):this._decodeChoice(st,ct),Et=!0}catch{Et=!1}st.restore(kt)}else if(Et=this._peekTag(st,Mt,ut.any),st.isError(Et))return Et}var Ct;if(ut.obj&&Et&&(Ct=st.enterObject()),Et){if(ut.explicit!==null){var Ot=this._decodeTag(st,ut.explicit);if(st.isError(Ot))return Ot;st=Ot}var zt=st.offset;if(ut.use===null&&ut.choice===null){if(ut.any)var kt=st.save();var Ut=this._decodeTag(st,ut.implicit!==null?ut.implicit:ut.tag,ut.any);if(st.isError(Ut))return Ut;ut.any?ht=st.raw(kt):st=Ut}if(ct&&ct.track&&ut.tag!==null&&ct.track(st.path(),zt,st.length,"tagged"),ct&&ct.track&&ut.tag!==null&&ct.track(st.path(),st.offset,st.length,"content"),ut.any?ht=ht:ut.choice===null?ht=this._decodeGeneric(ut.tag,st,ct):ht=this._decodeChoice(st,ct),st.isError(ht))return ht;if(!ut.any&&ut.choice===null&&ut.children!==null&&ut.children.forEach(function($t){$t._decode(st,ct)}),ut.contains&&(ut.tag==="octstr"||ut.tag==="bitstr")){var Vt=new $(ht);ht=this._getUse(ut.contains,st._reporterState.obj)._decode(Vt,ct)}}return ut.obj&&Et&&(ht=st.leaveObject(Ct)),ut.key!==null&&(ht!==null||Et===!0)?st.leaveKey(St,ut.key,ht):St!==null&&st.exitKey(St),ht},nt.prototype._decodeGeneric=function(st,ct,ut){var ht=this._baseState;return st==="seq"||st==="set"?null:st==="seqof"||st==="setof"?this._decodeList(ct,st,ht.args[0],ut):/str$/.test(st)?this._decodeStr(ct,st,ut):st==="objid"&&ht.args?this._decodeObjid(ct,ht.args[0],ht.args[1],ut):st==="objid"?this._decodeObjid(ct,null,null,ut):st==="gentime"||st==="utctime"?this._decodeTime(ct,st,ut):st==="null_"?this._decodeNull(ct,ut):st==="bool"?this._decodeBool(ct,ut):st==="objDesc"?this._decodeStr(ct,st,ut):st==="int"||st==="enum"?this._decodeInt(ct,ht.args&&ht.args[0],ut):ht.use!==null?this._getUse(ht.use,ct._reporterState.obj)._decode(ct,ut):ct.error("unknown tag: "+st)},nt.prototype._getUse=function(st,ct){var ut=this._baseState;return ut.useDecoder=this._use(st,ct),j(ut.useDecoder._baseState.parent===null),ut.useDecoder=ut.useDecoder._baseState.children[0],ut.implicit!==ut.useDecoder._baseState.implicit&&(ut.useDecoder=ut.useDecoder.clone(),ut.useDecoder._baseState.implicit=ut.implicit),ut.useDecoder},nt.prototype._decodeChoice=function(st,ct){var ut=this._baseState,ht=null,Et=!1;return Object.keys(ut.choice).some(function(St){var Mt=st.save(),kt=ut.choice[St];try{var Ct=kt._decode(st,ct);if(st.isError(Ct))return!1;ht={type:St,value:Ct},Et=!0}catch{return st.restore(Mt),!1}return!0},this),Et?ht:st.error("Choice not matched")},nt.prototype._createEncoderBuffer=function(st){return new a(st,this.reporter)},nt.prototype._encode=function(st,ct,ut){var ht=this._baseState;if(!(ht.default!==null&&ht.default===st)){var Et=this._encodeValue(st,ct,ut);if(Et!==void 0&&!this._skipDefault(Et,ct,ut))return Et}},nt.prototype._encodeValue=function(st,ct,ut){var ht=this._baseState;if(ht.parent===null)return ht.children[0]._encode(st,ct||new _);var kt=null;if(this.reporter=ct,ht.optional&&st===void 0)if(ht.default!==null)st=ht.default;else return;var Et=null,St=!1;if(ht.any)kt=this._createEncoderBuffer(st);else if(ht.choice)kt=this._encodeChoice(st,ct);else if(ht.contains)Et=this._getUse(ht.contains,ut)._encode(st,ct),St=!0;else if(ht.children)Et=ht.children.map(function(zt){if(zt._baseState.tag==="null_")return zt._encode(null,ct,st);if(zt._baseState.key===null)return ct.error("Child should have a key");var Ut=ct.enterKey(zt._baseState.key);if(typeof st!="object")return ct.error("Child expected, but input is not object");var Vt=zt._encode(st[zt._baseState.key],ct,st);return ct.leaveKey(Ut),Vt},this).filter(function(zt){return zt}),Et=this._createEncoderBuffer(Et);else if(ht.tag==="seqof"||ht.tag==="setof"){if(!(ht.args&&ht.args.length===1))return ct.error("Too many args for : "+ht.tag);if(!Array.isArray(st))return ct.error("seqof/setof, but data is not Array");var Mt=this.clone();Mt._baseState.implicit=null,Et=this._createEncoderBuffer(st.map(function(zt){var Ut=this._baseState;return this._getUse(Ut.args[0],st)._encode(zt,ct)},Mt))}else ht.use!==null?kt=this._getUse(ht.use,ut)._encode(st,ct):(Et=this._encodePrimitive(ht.tag,st),St=!0);var kt;if(!ht.any&&ht.choice===null){var Ct=ht.implicit!==null?ht.implicit:ht.tag,Ot=ht.implicit===null?"universal":"context";Ct===null?ht.use===null&&ct.error("Tag could be omitted only for .use()"):ht.use===null&&(kt=this._encodeComposite(Ct,St,Ot,Et))}return ht.explicit!==null&&(kt=this._encodeComposite(ht.explicit,!1,"context",kt)),kt},nt.prototype._encodeChoice=function(st,ct){var ut=this._baseState,ht=ut.choice[st.type];return ht||j(!1,st.type+" not found in "+JSON.stringify(Object.keys(ut.choice))),ht._encode(st.value,ct)},nt.prototype._encodePrimitive=function(st,ct){var ut=this._baseState;if(/str$/.test(st))return this._encodeStr(ct,st);if(st==="objid"&&ut.args)return this._encodeObjid(ct,ut.reverseArgs[0],ut.args[1]);if(st==="objid")return this._encodeObjid(ct,null,null);if(st==="gentime"||st==="utctime")return this._encodeTime(ct,st);if(st==="null_")return this._encodeNull();if(st==="int"||st==="enum")return this._encodeInt(ct,ut.args&&ut.reverseArgs[0]);if(st==="bool")return this._encodeBool(ct);if(st==="objDesc")return this._encodeStr(ct,st);throw new Error("Unsupported tag: "+st)},nt.prototype._isNumstr=function(st){return/^[0-9 ]*$/.test(st)},nt.prototype._isPrintstr=function(st){return/^[A-Za-z0-9 '\(\)\+,\-\.\/:=\?]*$/.test(st)},node$1}var hasRequiredBase;function requireBase(){return hasRequiredBase||(hasRequiredBase=1,function(_){var a=_;a.Reporter=requireReporter().Reporter,a.DecoderBuffer=requireBuffer().DecoderBuffer,a.EncoderBuffer=requireBuffer().EncoderBuffer,a.Node=requireNode()}(base$2)),base$2}var constants$2={},der={},hasRequiredDer$2;function requireDer$2(){return hasRequiredDer$2||(hasRequiredDer$2=1,function(_){var a=requireConstants();_.tagClass={0:"universal",1:"application",2:"context",3:"private"},_.tagClassByName=a._reverse(_.tagClass),_.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},_.tagByName=a._reverse(_.tag)}(der)),der}var hasRequiredConstants;function requireConstants(){return hasRequiredConstants||(hasRequiredConstants=1,function(_){var a=_;a._reverse=function(j){var et={};return Object.keys(j).forEach(function(tt){(tt|0)==tt&&(tt=tt|0);var rt=j[tt];et[rt]=tt}),et},a.der=requireDer$2()}(constants$2)),constants$2}var decoders$1={},der_1$1,hasRequiredDer$1;function requireDer$1(){if(hasRequiredDer$1)return der_1$1;hasRequiredDer$1=1;var _=inherits_browserExports,a=requireAsn1$1(),$=a.base,j=a.bignum,et=a.constants.der;function tt(ot){this.enc="der",this.name=ot.name,this.entity=ot,this.tree=new rt,this.tree._init(ot.body)}der_1$1=tt,tt.prototype.decode=function(st,ct){return st instanceof $.DecoderBuffer||(st=new $.DecoderBuffer(st,ct)),this.tree._decode(st,ct)};function rt(ot){$.Node.call(this,"der",ot)}_(rt,$.Node),rt.prototype._peekTag=function(st,ct,ut){if(st.isEmpty())return!1;var ht=st.save(),Et=nt(st,'Failed to peek tag: "'+ct+'"');return st.isError(Et)?Et:(st.restore(ht),Et.tag===ct||Et.tagStr===ct||Et.tagStr+"of"===ct||ut)},rt.prototype._decodeTag=function(st,ct,ut){var ht=nt(st,'Failed to decode tag of "'+ct+'"');if(st.isError(ht))return ht;var Et=it(st,ht.primitive,'Failed to get length of "'+ct+'"');if(st.isError(Et))return Et;if(!ut&&ht.tag!==ct&&ht.tagStr!==ct&&ht.tagStr+"of"!==ct)return st.error('Failed to match tag: "'+ct+'"');if(ht.primitive||Et!==null)return st.skip(Et,'Failed to match body of: "'+ct+'"');var St=st.save(),Mt=this._skipUntilEnd(st,'Failed to skip indefinite length body: "'+this.tag+'"');return st.isError(Mt)?Mt:(Et=st.offset-St.offset,st.restore(St),st.skip(Et,'Failed to match body of: "'+ct+'"'))},rt.prototype._skipUntilEnd=function(st,ct){for(;;){var ut=nt(st,ct);if(st.isError(ut))return ut;var ht=it(st,ut.primitive,ct);if(st.isError(ht))return ht;var Et;if(ut.primitive||ht!==null?Et=st.skip(ht):Et=this._skipUntilEnd(st,ct),st.isError(Et))return Et;if(ut.tagStr==="end")break}},rt.prototype._decodeList=function(st,ct,ut,ht){for(var Et=[];!st.isEmpty();){var St=this._peekTag(st,"end");if(st.isError(St))return St;var Mt=ut.decode(st,"der",ht);if(st.isError(Mt)&&St)break;Et.push(Mt)}return Et},rt.prototype._decodeStr=function(st,ct){if(ct==="bitstr"){var ut=st.readUInt8();return st.isError(ut)?ut:{unused:ut,data:st.raw()}}else if(ct==="bmpstr"){var ht=st.raw();if(ht.length%2===1)return st.error("Decoding of string type: bmpstr length mismatch");for(var Et="",St=0;St<ht.length/2;St++)Et+=String.fromCharCode(ht.readUInt16BE(St*2));return Et}else if(ct==="numstr"){var Mt=st.raw().toString("ascii");return this._isNumstr(Mt)?Mt:st.error("Decoding of string type: numstr unsupported characters")}else{if(ct==="octstr")return st.raw();if(ct==="objDesc")return st.raw();if(ct==="printstr"){var kt=st.raw().toString("ascii");return this._isPrintstr(kt)?kt:st.error("Decoding of string type: printstr unsupported characters")}else return/str$/.test(ct)?st.raw().toString():st.error("Decoding of string type: "+ct+" unsupported")}},rt.prototype._decodeObjid=function(st,ct,ut){for(var ht,Et=[],St=0;!st.isEmpty();){var Mt=st.readUInt8();St<<=7,St|=Mt&127,Mt&128||(Et.push(St),St=0)}Mt&128&&Et.push(St);var kt=Et[0]/40|0,Ct=Et[0]%40;if(ut?ht=Et:ht=[kt,Ct].concat(Et.slice(1)),ct){var Ot=ct[ht.join(" ")];Ot===void 0&&(Ot=ct[ht.join(".")]),Ot!==void 0&&(ht=Ot)}return ht},rt.prototype._decodeTime=function(st,ct){var ut=st.raw().toString();if(ct==="gentime")var ht=ut.slice(0,4)|0,Et=ut.slice(4,6)|0,St=ut.slice(6,8)|0,Mt=ut.slice(8,10)|0,kt=ut.slice(10,12)|0,Ct=ut.slice(12,14)|0;else if(ct==="utctime"){var ht=ut.slice(0,2)|0,Et=ut.slice(2,4)|0,St=ut.slice(4,6)|0,Mt=ut.slice(6,8)|0,kt=ut.slice(8,10)|0,Ct=ut.slice(10,12)|0;ht<70?ht=2e3+ht:ht=1900+ht}else return st.error("Decoding "+ct+" time is not supported yet");return Date.UTC(ht,Et-1,St,Mt,kt,Ct,0)},rt.prototype._decodeNull=function(st){return null},rt.prototype._decodeBool=function(st){var ct=st.readUInt8();return st.isError(ct)?ct:ct!==0},rt.prototype._decodeInt=function(st,ct){var ut=st.raw(),ht=new j(ut);return ct&&(ht=ct[ht.toString(10)]||ht),ht},rt.prototype._use=function(st,ct){return typeof st=="function"&&(st=st(ct)),st._getDecoder("der").tree};function nt(ot,st){var ct=ot.readUInt8(st);if(ot.isError(ct))return ct;var ut=et.tagClass[ct>>6],ht=(ct&32)===0;if((ct&31)===31){var Et=ct;for(ct=0;(Et&128)===128;){if(Et=ot.readUInt8(st),ot.isError(Et))return Et;ct<<=7,ct|=Et&127}}else ct&=31;var St=et.tag[ct];return{cls:ut,primitive:ht,tag:ct,tagStr:St}}function it(ot,st,ct){var ut=ot.readUInt8(ct);if(ot.isError(ut))return ut;if(!st&&ut===128)return null;if(!(ut&128))return ut;var ht=ut&127;if(ht>4)return ot.error("length octect is too long");ut=0;for(var Et=0;Et<ht;Et++){ut<<=8;var St=ot.readUInt8(ct);if(ot.isError(St))return St;ut|=St}return ut}return der_1$1}var pem$1,hasRequiredPem$1;function requirePem$1(){if(hasRequiredPem$1)return pem$1;hasRequiredPem$1=1;var _=inherits_browserExports,a=buffer$1.Buffer,$=requireDer$1();function j(et){$.call(this,et),this.enc="pem"}return _(j,$),pem$1=j,j.prototype.decode=function(tt,rt){for(var nt=tt.toString().split(/[\r\n]+/g),it=rt.label.toUpperCase(),ot=/^-----(BEGIN|END) ([^-]+)-----$/,st=-1,ct=-1,ut=0;ut<nt.length;ut++){var ht=nt[ut].match(ot);if(ht!==null&&ht[2]===it)if(st===-1){if(ht[1]!=="BEGIN")break;st=ut}else{if(ht[1]!=="END")break;ct=ut;break}}if(st===-1||ct===-1)throw new Error("PEM section not found for: "+it);var Et=nt.slice(st+1,ct).join("");Et.replace(/[^a-z0-9\+\/=]+/gi,"");var St=new a(Et,"base64");return $.prototype.decode.call(this,St,rt)},pem$1}var hasRequiredDecoders;function requireDecoders(){return hasRequiredDecoders||(hasRequiredDecoders=1,function(_){var a=_;a.der=requireDer$1(),a.pem=requirePem$1()}(decoders$1)),decoders$1}var encoders$1={},der_1,hasRequiredDer;function requireDer(){if(hasRequiredDer)return der_1;hasRequiredDer=1;var _=inherits_browserExports,a=buffer$1.Buffer,$=requireAsn1$1(),j=$.base,et=$.constants.der;function tt(ot){this.enc="der",this.name=ot.name,this.entity=ot,this.tree=new rt,this.tree._init(ot.body)}der_1=tt,tt.prototype.encode=function(st,ct){return this.tree._encode(st,ct).join()};function rt(ot){j.Node.call(this,"der",ot)}_(rt,j.Node),rt.prototype._encodeComposite=function(st,ct,ut,ht){var Et=it(st,ct,ut,this.reporter);if(ht.length<128){var kt=new a(2);return kt[0]=Et,kt[1]=ht.length,this._createEncoderBuffer([kt,ht])}for(var St=1,Mt=ht.length;Mt>=256;Mt>>=8)St++;var kt=new a(2+St);kt[0]=Et,kt[1]=128|St;for(var Mt=1+St,Ct=ht.length;Ct>0;Mt--,Ct>>=8)kt[Mt]=Ct&255;return this._createEncoderBuffer([kt,ht])},rt.prototype._encodeStr=function(st,ct){if(ct==="bitstr")return this._createEncoderBuffer([st.unused|0,st.data]);if(ct==="bmpstr"){for(var ut=new a(st.length*2),ht=0;ht<st.length;ht++)ut.writeUInt16BE(st.charCodeAt(ht),ht*2);return this._createEncoderBuffer(ut)}else return ct==="numstr"?this._isNumstr(st)?this._createEncoderBuffer(st):this.reporter.error("Encoding of string type: numstr supports only digits and space"):ct==="printstr"?this._isPrintstr(st)?this._createEncoderBuffer(st):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(ct)?this._createEncoderBuffer(st):ct==="objDesc"?this._createEncoderBuffer(st):this.reporter.error("Encoding of string type: "+ct+" unsupported")},rt.prototype._encodeObjid=function(st,ct,ut){if(typeof st=="string"){if(!ct)return this.reporter.error("string objid given, but no values map found");if(!ct.hasOwnProperty(st))return this.reporter.error("objid not found in values map");st=ct[st].split(/[\s\.]+/g);for(var ht=0;ht<st.length;ht++)st[ht]|=0}else if(Array.isArray(st)){st=st.slice();for(var ht=0;ht<st.length;ht++)st[ht]|=0}if(!Array.isArray(st))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(st));if(!ut){if(st[1]>=40)return this.reporter.error("Second objid identifier OOB");st.splice(0,2,st[0]*40+st[1])}for(var Et=0,ht=0;ht<st.length;ht++){var St=st[ht];for(Et++;St>=128;St>>=7)Et++}for(var Mt=new a(Et),kt=Mt.length-1,ht=st.length-1;ht>=0;ht--){var St=st[ht];for(Mt[kt--]=St&127;(St>>=7)>0;)Mt[kt--]=128|St&127}return this._createEncoderBuffer(Mt)};function nt(ot){return ot<10?"0"+ot:ot}rt.prototype._encodeTime=function(st,ct){var ut,ht=new Date(st);return ct==="gentime"?ut=[nt(ht.getFullYear()),nt(ht.getUTCMonth()+1),nt(ht.getUTCDate()),nt(ht.getUTCHours()),nt(ht.getUTCMinutes()),nt(ht.getUTCSeconds()),"Z"].join(""):ct==="utctime"?ut=[nt(ht.getFullYear()%100),nt(ht.getUTCMonth()+1),nt(ht.getUTCDate()),nt(ht.getUTCHours()),nt(ht.getUTCMinutes()),nt(ht.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+ct+" time is not supported yet"),this._encodeStr(ut,"octstr")},rt.prototype._encodeNull=function(){return this._createEncoderBuffer("")},rt.prototype._encodeInt=function(st,ct){if(typeof st=="string"){if(!ct)return this.reporter.error("String int or enum given, but no values map");if(!ct.hasOwnProperty(st))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(st));st=ct[st]}if(typeof st!="number"&&!a.isBuffer(st)){var ut=st.toArray();!st.sign&&ut[0]&128&&ut.unshift(0),st=new a(ut)}if(a.isBuffer(st)){var ht=st.length;st.length===0&&ht++;var St=new a(ht);return st.copy(St),st.length===0&&(St[0]=0),this._createEncoderBuffer(St)}if(st<128)return this._createEncoderBuffer(st);if(st<256)return this._createEncoderBuffer([0,st]);for(var ht=1,Et=st;Et>=256;Et>>=8)ht++;for(var St=new Array(ht),Et=St.length-1;Et>=0;Et--)St[Et]=st&255,st>>=8;return St[0]&128&&St.unshift(0),this._createEncoderBuffer(new a(St))},rt.prototype._encodeBool=function(st){return this._createEncoderBuffer(st?255:0)},rt.prototype._use=function(st,ct){return typeof st=="function"&&(st=st(ct)),st._getEncoder("der").tree},rt.prototype._skipDefault=function(st,ct,ut){var ht=this._baseState,Et;if(ht.default===null)return!1;var St=st.join();if(ht.defaultBuffer===void 0&&(ht.defaultBuffer=this._encodeValue(ht.default,ct,ut).join()),St.length!==ht.defaultBuffer.length)return!1;for(Et=0;Et<St.length;Et++)if(St[Et]!==ht.defaultBuffer[Et])return!1;return!0};function it(ot,st,ct,ut){var ht;if(ot==="seqof"?ot="seq":ot==="setof"&&(ot="set"),et.tagByName.hasOwnProperty(ot))ht=et.tagByName[ot];else if(typeof ot=="number"&&(ot|0)===ot)ht=ot;else return ut.error("Unknown tag: "+ot);return ht>=31?ut.error("Multi-octet tag encoding unsupported"):(st||(ht|=32),ht|=et.tagClassByName[ct||"universal"]<<6,ht)}return der_1}var pem,hasRequiredPem;function requirePem(){if(hasRequiredPem)return pem;hasRequiredPem=1;var _=inherits_browserExports,a=requireDer();function $(j){a.call(this,j),this.enc="pem"}return _($,a),pem=$,$.prototype.encode=function(et,tt){for(var rt=a.prototype.encode.call(this,et),nt=rt.toString("base64"),it=["-----BEGIN "+tt.label+"-----"],ot=0;ot<nt.length;ot+=64)it.push(nt.slice(ot,ot+64));return it.push("-----END "+tt.label+"-----"),it.join(`
`)},pem}var hasRequiredEncoders;function requireEncoders(){return hasRequiredEncoders||(hasRequiredEncoders=1,function(_){var a=_;a.der=requireDer(),a.pem=requirePem()}(encoders$1)),encoders$1}var hasRequiredAsn1$1;function requireAsn1$1(){return hasRequiredAsn1$1||(hasRequiredAsn1$1=1,function(_){var a=_;a.bignum=bnExports$1,a.define=requireApi().define,a.base=requireBase(),a.constants=requireConstants(),a.decoders=requireDecoders(),a.encoders=requireEncoders()}(asn1)),asn1}var certificate,hasRequiredCertificate;function requireCertificate(){if(hasRequiredCertificate)return certificate;hasRequiredCertificate=1;var _=requireAsn1$1(),a=_.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),$=_.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),j=_.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())}),et=_.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(j),this.key("subjectPublicKey").bitstr())}),tt=_.define("RelativeDistinguishedName",function(){this.setof($)}),rt=_.define("RDNSequence",function(){this.seqof(tt)}),nt=_.define("Name",function(){this.choice({rdnSequence:this.use(rt)})}),it=_.define("Validity",function(){this.seq().obj(this.key("notBefore").use(a),this.key("notAfter").use(a))}),ot=_.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),st=_.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(j),this.key("issuer").use(nt),this.key("validity").use(it),this.key("subject").use(nt),this.key("subjectPublicKeyInfo").use(et),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(ot).optional())}),ct=_.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(st),this.key("signatureAlgorithm").use(j),this.key("signatureValue").bitstr())});return certificate=ct,certificate}var hasRequiredAsn1;function requireAsn1(){if(hasRequiredAsn1)return asn1$1;hasRequiredAsn1=1;var _=requireAsn1$1();asn1$1.certificate=requireCertificate();var a=_.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});asn1$1.RSAPrivateKey=a;var $=_.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});asn1$1.RSAPublicKey=$;var j=_.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),et=_.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(j),this.key("subjectPublicKey").bitstr())});asn1$1.PublicKey=et;var tt=_.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(j),this.key("subjectPrivateKey").octstr())});asn1$1.PrivateKey=tt;var rt=_.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});asn1$1.EncryptedPrivateKey=rt;var nt=_.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});asn1$1.DSAPrivateKey=nt,asn1$1.DSAparam=_.define("DSAparam",function(){this.int()});var it=_.define("ECParameters",function(){this.choice({namedCurve:this.objid()})}),ot=_.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(it),this.key("publicKey").optional().explicit(1).bitstr())});return asn1$1.ECPrivateKey=ot,asn1$1.signature=_.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())}),asn1$1}const require$$1$1={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"};var fixProc,hasRequiredFixProc;function requireFixProc(){if(hasRequiredFixProc)return fixProc;hasRequiredFixProc=1;var _=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,a=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,$=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,j=requireEvp_bytestokey(),et=requireBrowser$6(),tt=safeBufferExports.Buffer;return fixProc=function(rt,nt){var it=rt.toString(),ot=it.match(_),st;if(ot){var ut="aes"+ot[1],ht=tt.from(ot[2],"hex"),Et=tt.from(ot[3].replace(/[\r\n]/g,""),"base64"),St=j(nt,ht.slice(0,8),parseInt(ot[1],10)).key,Mt=[],kt=et.createDecipheriv(ut,St,ht);Mt.push(kt.update(Et)),Mt.push(kt.final()),st=tt.concat(Mt)}else{var ct=it.match($);st=tt.from(ct[2].replace(/[\r\n]/g,""),"base64")}var Ct=it.match(a)[1];return{tag:Ct,data:st}},fixProc}var parseAsn1,hasRequiredParseAsn1;function requireParseAsn1(){if(hasRequiredParseAsn1)return parseAsn1;hasRequiredParseAsn1=1;var _=requireAsn1(),a=require$$1$1,$=requireFixProc(),j=requireBrowser$6(),et=browser$7,tt=safeBufferExports.Buffer;function rt(it,ot){var st=it.algorithm.decrypt.kde.kdeparams.salt,ct=parseInt(it.algorithm.decrypt.kde.kdeparams.iters.toString(),10),ut=a[it.algorithm.decrypt.cipher.algo.join(".")],ht=it.algorithm.decrypt.cipher.iv,Et=it.subjectPrivateKey,St=parseInt(ut.split("-")[1],10)/8,Mt=et.pbkdf2Sync(ot,st,ct,St,"sha1"),kt=j.createDecipheriv(ut,Mt,ht),Ct=[];return Ct.push(kt.update(Et)),Ct.push(kt.final()),tt.concat(Ct)}function nt(it){var ot;typeof it=="object"&&!tt.isBuffer(it)&&(ot=it.passphrase,it=it.key),typeof it=="string"&&(it=tt.from(it));var st=$(it,ot),ct=st.tag,ut=st.data,ht,Et;switch(ct){case"CERTIFICATE":Et=_.certificate.decode(ut,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(Et||(Et=_.PublicKey.decode(ut,"der")),ht=Et.algorithm.algorithm.join("."),ht){case"1.2.840.113549.1.1.1":return _.RSAPublicKey.decode(Et.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return Et.subjectPrivateKey=Et.subjectPublicKey,{type:"ec",data:Et};case"1.2.840.10040.4.1":return Et.algorithm.params.pub_key=_.DSAparam.decode(Et.subjectPublicKey.data,"der"),{type:"dsa",data:Et.algorithm.params};default:throw new Error("unknown key id "+ht)}case"ENCRYPTED PRIVATE KEY":ut=_.EncryptedPrivateKey.decode(ut,"der"),ut=rt(ut,ot);case"PRIVATE KEY":switch(Et=_.PrivateKey.decode(ut,"der"),ht=Et.algorithm.algorithm.join("."),ht){case"1.2.840.113549.1.1.1":return _.RSAPrivateKey.decode(Et.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:Et.algorithm.curve,privateKey:_.ECPrivateKey.decode(Et.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return Et.algorithm.params.priv_key=_.DSAparam.decode(Et.subjectPrivateKey,"der"),{type:"dsa",params:Et.algorithm.params};default:throw new Error("unknown key id "+ht)}case"RSA PUBLIC KEY":return _.RSAPublicKey.decode(ut,"der");case"RSA PRIVATE KEY":return _.RSAPrivateKey.decode(ut,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:_.DSAPrivateKey.decode(ut,"der")};case"EC PRIVATE KEY":return ut=_.ECPrivateKey.decode(ut,"der"),{curve:ut.parameters.value,privateKey:ut.privateKey};default:throw new Error("unknown key type "+ct)}}return nt.signature=_.signature,parseAsn1=nt,parseAsn1}const require$$4$1={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"};var hasRequiredSign;function requireSign(){if(hasRequiredSign)return sign$1.exports;hasRequiredSign=1;var _=safeBufferExports.Buffer,a=requireBrowser$7(),$=requireBrowserifyRsa(),j=requireElliptic().ec,et=requireBn(),tt=requireParseAsn1(),rt=require$$4$1,nt=1;function it(kt,Ct,Ot,zt,Ut){var Vt=tt(Ct);if(Vt.curve){if(zt!=="ecdsa"&&zt!=="ecdsa/rsa")throw new Error("wrong private key type");return ot(kt,Vt)}else if(Vt.type==="dsa"){if(zt!=="dsa")throw new Error("wrong private key type");return st(kt,Vt,Ot)}if(zt!=="rsa"&&zt!=="ecdsa/rsa")throw new Error("wrong private key type");if(Ct.padding!==void 0&&Ct.padding!==nt)throw new Error("illegal or unsupported padding mode");kt=_.concat([Ut,kt]);for(var jt=Vt.modulus.byteLength(),$t=[0,1];kt.length+$t.length+1<jt;)$t.push(255);$t.push(0);for(var Bt=-1;++Bt<kt.length;)$t.push(kt[Bt]);var Nt=$($t,Vt);return Nt}function ot(kt,Ct){var Ot=rt[Ct.curve.join(".")];if(!Ot)throw new Error("unknown curve "+Ct.curve.join("."));var zt=new j(Ot),Ut=zt.keyFromPrivate(Ct.privateKey),Vt=Ut.sign(kt);return _.from(Vt.toDER())}function st(kt,Ct,Ot){for(var zt=Ct.params.priv_key,Ut=Ct.params.p,Vt=Ct.params.q,jt=Ct.params.g,$t=new et(0),Bt,Nt=ht(kt,Vt).mod(Vt),Lt=!1,Pt=ut(zt,Vt,kt,Ot);Lt===!1;)Bt=St(Vt,Pt,Ot),$t=Mt(jt,Bt,Ut,Vt),Lt=Bt.invm(Vt).imul(Nt.add(zt.mul($t))).mod(Vt),Lt.cmpn(0)===0&&(Lt=!1,$t=new et(0));return ct($t,Lt)}function ct(kt,Ct){kt=kt.toArray(),Ct=Ct.toArray(),kt[0]&128&&(kt=[0].concat(kt)),Ct[0]&128&&(Ct=[0].concat(Ct));var Ot=kt.length+Ct.length+4,zt=[48,Ot,2,kt.length];return zt=zt.concat(kt,[2,Ct.length],Ct),_.from(zt)}function ut(kt,Ct,Ot,zt){if(kt=_.from(kt.toArray()),kt.length<Ct.byteLength()){var Ut=_.alloc(Ct.byteLength()-kt.length);kt=_.concat([Ut,kt])}var Vt=Ot.length,jt=Et(Ot,Ct),$t=_.alloc(Vt);$t.fill(1);var Bt=_.alloc(Vt);return Bt=a(zt,Bt).update($t).update(_.from([0])).update(kt).update(jt).digest(),$t=a(zt,Bt).update($t).digest(),Bt=a(zt,Bt).update($t).update(_.from([1])).update(kt).update(jt).digest(),$t=a(zt,Bt).update($t).digest(),{k:Bt,v:$t}}function ht(kt,Ct){var Ot=new et(kt),zt=(kt.length<<3)-Ct.bitLength();return zt>0&&Ot.ishrn(zt),Ot}function Et(kt,Ct){kt=ht(kt,Ct),kt=kt.mod(Ct);var Ot=_.from(kt.toArray());if(Ot.length<Ct.byteLength()){var zt=_.alloc(Ct.byteLength()-Ot.length);Ot=_.concat([zt,Ot])}return Ot}function St(kt,Ct,Ot){var zt,Ut;do{for(zt=_.alloc(0);zt.length*8<kt.bitLength();)Ct.v=a(Ot,Ct.k).update(Ct.v).digest(),zt=_.concat([zt,Ct.v]);Ut=ht(zt,kt),Ct.k=a(Ot,Ct.k).update(Ct.v).update(_.from([0])).digest(),Ct.v=a(Ot,Ct.k).update(Ct.v).digest()}while(Ut.cmp(kt)!==-1);return Ut}function Mt(kt,Ct,Ot,zt){return kt.toRed(et.mont(Ot)).redPow(Ct).fromRed().mod(zt)}return sign$1.exports=it,sign$1.exports.getKey=ut,sign$1.exports.makeKey=St,sign$1.exports}var verify_1,hasRequiredVerify;function requireVerify(){if(hasRequiredVerify)return verify_1;hasRequiredVerify=1;var _=safeBufferExports.Buffer,a=requireBn(),$=requireElliptic().ec,j=requireParseAsn1(),et=require$$4$1;function tt(ot,st,ct,ut,ht){var Et=j(ct);if(Et.type==="ec"){if(ut!=="ecdsa"&&ut!=="ecdsa/rsa")throw new Error("wrong public key type");return rt(ot,st,Et)}else if(Et.type==="dsa"){if(ut!=="dsa")throw new Error("wrong public key type");return nt(ot,st,Et)}if(ut!=="rsa"&&ut!=="ecdsa/rsa")throw new Error("wrong public key type");st=_.concat([ht,st]);for(var St=Et.modulus.byteLength(),Mt=[1],kt=0;st.length+Mt.length+2<St;)Mt.push(255),kt+=1;Mt.push(0);for(var Ct=-1;++Ct<st.length;)Mt.push(st[Ct]);Mt=_.from(Mt);var Ot=a.mont(Et.modulus);ot=new a(ot).toRed(Ot),ot=ot.redPow(new a(Et.publicExponent)),ot=_.from(ot.fromRed().toArray());var zt=kt<8?1:0;for(St=Math.min(ot.length,Mt.length),ot.length!==Mt.length&&(zt=1),Ct=-1;++Ct<St;)zt|=ot[Ct]^Mt[Ct];return zt===0}function rt(ot,st,ct){var ut=et[ct.data.algorithm.curve.join(".")];if(!ut)throw new Error("unknown curve "+ct.data.algorithm.curve.join("."));var ht=new $(ut),Et=ct.data.subjectPrivateKey.data;return ht.verify(st,ot,Et)}function nt(ot,st,ct){var ut=ct.data.p,ht=ct.data.q,Et=ct.data.g,St=ct.data.pub_key,Mt=j.signature.decode(ot,"der"),kt=Mt.s,Ct=Mt.r;it(kt,ht),it(Ct,ht);var Ot=a.mont(ut),zt=kt.invm(ht),Ut=Et.toRed(Ot).redPow(new a(st).mul(zt).mod(ht)).fromRed().mul(St.toRed(Ot).redPow(Ct.mul(zt).mod(ht)).fromRed()).mod(ut).mod(ht);return Ut.cmp(Ct)===0}function it(ot,st){if(ot.cmpn(0)<=0)throw new Error("invalid sig");if(ot.cmp(st)>=0)throw new Error("invalid sig")}return verify_1=tt,verify_1}var browser$3,hasRequiredBrowser$3;function requireBrowser$3(){if(hasRequiredBrowser$3)return browser$3;hasRequiredBrowser$3=1;var _=safeBufferExports.Buffer,a=browser$b,$=requireReadableBrowser(),j=inherits_browserExports,et=requireSign(),tt=requireVerify(),rt=require$$6$1;Object.keys(rt).forEach(function(ct){rt[ct].id=_.from(rt[ct].id,"hex"),rt[ct.toLowerCase()]=rt[ct]});function nt(ct){$.Writable.call(this);var ut=rt[ct];if(!ut)throw new Error("Unknown message digest");this._hashType=ut.hash,this._hash=a(ut.hash),this._tag=ut.id,this._signType=ut.sign}j(nt,$.Writable),nt.prototype._write=function(ut,ht,Et){this._hash.update(ut),Et()},nt.prototype.update=function(ut,ht){return this._hash.update(typeof ut=="string"?_.from(ut,ht):ut),this},nt.prototype.sign=function(ut,ht){this.end();var Et=this._hash.digest(),St=et(Et,ut,this._hashType,this._signType,this._tag);return ht?St.toString(ht):St};function it(ct){$.Writable.call(this);var ut=rt[ct];if(!ut)throw new Error("Unknown message digest");this._hash=a(ut.hash),this._tag=ut.id,this._signType=ut.sign}j(it,$.Writable),it.prototype._write=function(ut,ht,Et){this._hash.update(ut),Et()},it.prototype.update=function(ut,ht){return this._hash.update(typeof ut=="string"?_.from(ut,ht):ut),this},it.prototype.verify=function(ut,ht,Et){var St=typeof ht=="string"?_.from(ht,Et):ht;this.end();var Mt=this._hash.digest();return tt(St,Mt,ut,this._signType,this._tag)};function ot(ct){return new nt(ct)}function st(ct){return new it(ct)}return browser$3={Sign:ot,Verify:st,createSign:ot,createVerify:st},browser$3}var browser$2,hasRequiredBrowser$2;function requireBrowser$2(){if(hasRequiredBrowser$2)return browser$2;hasRequiredBrowser$2=1;var _=requireElliptic(),a=bnExports$1;browser$2=function(rt){return new j(rt)};var $={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};$.p224=$.secp224r1,$.p256=$.secp256r1=$.prime256v1,$.p192=$.secp192r1=$.prime192v1,$.p384=$.secp384r1,$.p521=$.secp521r1;function j(tt){this.curveType=$[tt],this.curveType||(this.curveType={name:tt}),this.curve=new _.ec(this.curveType.name),this.keys=void 0}j.prototype.generateKeys=function(tt,rt){return this.keys=this.curve.genKeyPair(),this.getPublicKey(tt,rt)},j.prototype.computeSecret=function(tt,rt,nt){rt=rt||"utf8",Buffer$g.isBuffer(tt)||(tt=new Buffer$g(tt,rt));var it=this.curve.keyFromPublic(tt).getPublic(),ot=it.mul(this.keys.getPrivate()).getX();return et(ot,nt,this.curveType.byteLength)},j.prototype.getPublicKey=function(tt,rt){var nt=this.keys.getPublic(rt==="compressed",!0);return rt==="hybrid"&&(nt[nt.length-1]%2?nt[0]=7:nt[0]=6),et(nt,tt)},j.prototype.getPrivateKey=function(tt){return et(this.keys.getPrivate(),tt)},j.prototype.setPublicKey=function(tt,rt){return rt=rt||"utf8",Buffer$g.isBuffer(tt)||(tt=new Buffer$g(tt,rt)),this.keys._importPublic(tt),this},j.prototype.setPrivateKey=function(tt,rt){rt=rt||"utf8",Buffer$g.isBuffer(tt)||(tt=new Buffer$g(tt,rt));var nt=new a(tt);return nt=nt.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(nt),this};function et(tt,rt,nt){Array.isArray(tt)||(tt=tt.toArray());var it=new Buffer$g(tt);if(nt&&it.length<nt){var ot=new Buffer$g(nt-it.length);ot.fill(0),it=Buffer$g.concat([ot,it])}return rt?it.toString(rt):it}return browser$2}var browser$1={},mgf,hasRequiredMgf;function requireMgf(){if(hasRequiredMgf)return mgf;hasRequiredMgf=1;var _=browser$b,a=safeBufferExports.Buffer;mgf=function(j,et){for(var tt=a.alloc(0),rt=0,nt;tt.length<et;)nt=$(rt++),tt=a.concat([tt,_("sha1").update(j).update(nt).digest()]);return tt.slice(0,et)};function $(j){var et=a.allocUnsafe(4);return et.writeUInt32BE(j,0),et}return mgf}var xor,hasRequiredXor;function requireXor(){return hasRequiredXor||(hasRequiredXor=1,xor=function(a,$){for(var j=a.length,et=-1;++et<j;)a[et]^=$[et];return a}),xor}var withPublic_1,hasRequiredWithPublic;function requireWithPublic(){if(hasRequiredWithPublic)return withPublic_1;hasRequiredWithPublic=1;var _=bnExports$1,a=safeBufferExports.Buffer;function $(j,et){return a.from(j.toRed(_.mont(et.modulus)).redPow(new _(et.publicExponent)).fromRed().toArray())}return withPublic_1=$,withPublic_1}var publicEncrypt,hasRequiredPublicEncrypt;function requirePublicEncrypt(){if(hasRequiredPublicEncrypt)return publicEncrypt;hasRequiredPublicEncrypt=1;var _=requireParseAsn1(),a=requireBrowser$8(),$=browser$b,j=requireMgf(),et=requireXor(),tt=bnExports$1,rt=requireWithPublic(),nt=requireBrowserifyRsa(),it=safeBufferExports.Buffer;publicEncrypt=function(ht,Et,St){var Mt;ht.padding?Mt=ht.padding:St?Mt=1:Mt=4;var kt=_(ht),Ct;if(Mt===4)Ct=ot(kt,Et);else if(Mt===1)Ct=st(kt,Et,St);else if(Mt===3){if(Ct=new tt(Et),Ct.cmp(kt.modulus)>=0)throw new Error("data too long for modulus")}else throw new Error("unknown padding");return St?nt(Ct,kt):rt(Ct,kt)};function ot(ut,ht){var Et=ut.modulus.byteLength(),St=ht.length,Mt=$("sha1").update(it.alloc(0)).digest(),kt=Mt.length,Ct=2*kt;if(St>Et-Ct-2)throw new Error("message too long");var Ot=it.alloc(Et-St-Ct-2),zt=Et-kt-1,Ut=a(kt),Vt=et(it.concat([Mt,Ot,it.alloc(1,1),ht],zt),j(Ut,zt)),jt=et(Ut,j(Vt,kt));return new tt(it.concat([it.alloc(1),jt,Vt],Et))}function st(ut,ht,Et){var St=ht.length,Mt=ut.modulus.byteLength();if(St>Mt-11)throw new Error("message too long");var kt;return Et?kt=it.alloc(Mt-St-3,255):kt=ct(Mt-St-3),new tt(it.concat([it.from([0,Et?1:2]),kt,it.alloc(1),ht],Mt))}function ct(ut){for(var ht=it.allocUnsafe(ut),Et=0,St=a(ut*2),Mt=0,kt;Et<ut;)Mt===St.length&&(St=a(ut*2),Mt=0),kt=St[Mt++],kt&&(ht[Et++]=kt);return ht}return publicEncrypt}var privateDecrypt,hasRequiredPrivateDecrypt;function requirePrivateDecrypt(){if(hasRequiredPrivateDecrypt)return privateDecrypt;hasRequiredPrivateDecrypt=1;var _=requireParseAsn1(),a=requireMgf(),$=requireXor(),j=bnExports$1,et=requireBrowserifyRsa(),tt=browser$b,rt=requireWithPublic(),nt=safeBufferExports.Buffer;privateDecrypt=function(ut,ht,Et){var St;ut.padding?St=ut.padding:Et?St=1:St=4;var Mt=_(ut),kt=Mt.modulus.byteLength();if(ht.length>kt||new j(ht).cmp(Mt.modulus)>=0)throw new Error("decryption error");var Ct;Et?Ct=rt(new j(ht),Mt):Ct=et(ht,Mt);var Ot=nt.alloc(kt-Ct.length);if(Ct=nt.concat([Ot,Ct],kt),St===4)return it(Mt,Ct);if(St===1)return ot(Mt,Ct,Et);if(St===3)return Ct;throw new Error("unknown padding")};function it(ct,ut){var ht=ct.modulus.byteLength(),Et=tt("sha1").update(nt.alloc(0)).digest(),St=Et.length;if(ut[0]!==0)throw new Error("decryption error");var Mt=ut.slice(1,St+1),kt=ut.slice(St+1),Ct=$(Mt,a(kt,St)),Ot=$(kt,a(Ct,ht-St-1));if(st(Et,Ot.slice(0,St)))throw new Error("decryption error");for(var zt=St;Ot[zt]===0;)zt++;if(Ot[zt++]!==1)throw new Error("decryption error");return Ot.slice(zt)}function ot(ct,ut,ht){for(var Et=ut.slice(0,2),St=2,Mt=0;ut[St++]!==0;)if(St>=ut.length){Mt++;break}var kt=ut.slice(2,St-1);if((Et.toString("hex")!=="0002"&&!ht||Et.toString("hex")!=="0001"&&ht)&&Mt++,kt.length<8&&Mt++,Mt)throw new Error("decryption error");return ut.slice(St)}function st(ct,ut){ct=nt.from(ct),ut=nt.from(ut);var ht=0,Et=ct.length;ct.length!==ut.length&&(ht++,Et=Math.min(ct.length,ut.length));for(var St=-1;++St<Et;)ht+=ct[St]^ut[St];return ht}return privateDecrypt}var hasRequiredBrowser$1;function requireBrowser$1(){return hasRequiredBrowser$1||(hasRequiredBrowser$1=1,function(_){_.publicEncrypt=requirePublicEncrypt(),_.privateDecrypt=requirePrivateDecrypt(),_.privateEncrypt=function($,j){return _.publicEncrypt($,j,!0)},_.publicDecrypt=function($,j){return _.privateDecrypt($,j,!0)}}(browser$1)),browser$1}var browser={},hasRequiredBrowser;function requireBrowser(){if(hasRequiredBrowser)return browser;hasRequiredBrowser=1;function _(){throw new Error(`secure random number generation not supported by this browser
use chrome, FireFox or Internet Explorer 11`)}var a=safeBufferExports,$=requireBrowser$8(),j=a.Buffer,et=a.kMaxLength,tt=commonjsGlobal.crypto||commonjsGlobal.msCrypto,rt=Math.pow(2,32)-1;function nt(ut,ht){if(typeof ut!="number"||ut!==ut)throw new TypeError("offset must be a number");if(ut>rt||ut<0)throw new TypeError("offset must be a uint32");if(ut>et||ut>ht)throw new RangeError("offset out of range")}function it(ut,ht,Et){if(typeof ut!="number"||ut!==ut)throw new TypeError("size must be a number");if(ut>rt||ut<0)throw new TypeError("size must be a uint32");if(ut+ht>Et||ut>et)throw new RangeError("buffer too small")}tt&&tt.getRandomValues||!process$1$1.browser?(browser.randomFill=ot,browser.randomFillSync=ct):(browser.randomFill=_,browser.randomFillSync=_);function ot(ut,ht,Et,St){if(!j.isBuffer(ut)&&!(ut instanceof commonjsGlobal.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if(typeof ht=="function")St=ht,ht=0,Et=ut.length;else if(typeof Et=="function")St=Et,Et=ut.length-ht;else if(typeof St!="function")throw new TypeError('"cb" argument must be a function');return nt(ht,ut.length),it(Et,ht,ut.length),st(ut,ht,Et,St)}function st(ut,ht,Et,St){if(process$1$1.browser){var Mt=ut.buffer,kt=new Uint8Array(Mt,ht,Et);if(tt.getRandomValues(kt),St){process$1$1.nextTick(function(){St(null,ut)});return}return ut}if(St){$(Et,function(Ot,zt){if(Ot)return St(Ot);zt.copy(ut,ht),St(null,ut)});return}var Ct=$(Et);return Ct.copy(ut,ht),ut}function ct(ut,ht,Et){if(typeof ht>"u"&&(ht=0),!j.isBuffer(ut)&&!(ut instanceof commonjsGlobal.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return nt(ht,ut.length),Et===void 0&&(Et=ut.length-ht),it(Et,ht,ut.length),st(ut,ht,Et)}return browser}var hasRequiredCryptoBrowserify;function requireCryptoBrowserify(){if(hasRequiredCryptoBrowserify)return cryptoBrowserify;hasRequiredCryptoBrowserify=1,cryptoBrowserify.randomBytes=cryptoBrowserify.rng=cryptoBrowserify.pseudoRandomBytes=cryptoBrowserify.prng=requireBrowser$8(),cryptoBrowserify.createHash=cryptoBrowserify.Hash=browser$b,cryptoBrowserify.createHmac=cryptoBrowserify.Hmac=requireBrowser$7();var _=requireAlgos(),a=Object.keys(_),$=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(a);cryptoBrowserify.getHashes=function(){return $};var j=browser$7;cryptoBrowserify.pbkdf2=j.pbkdf2,cryptoBrowserify.pbkdf2Sync=j.pbkdf2Sync;var et=requireBrowser$5();cryptoBrowserify.Cipher=et.Cipher,cryptoBrowserify.createCipher=et.createCipher,cryptoBrowserify.Cipheriv=et.Cipheriv,cryptoBrowserify.createCipheriv=et.createCipheriv,cryptoBrowserify.Decipher=et.Decipher,cryptoBrowserify.createDecipher=et.createDecipher,cryptoBrowserify.Decipheriv=et.Decipheriv,cryptoBrowserify.createDecipheriv=et.createDecipheriv,cryptoBrowserify.getCiphers=et.getCiphers,cryptoBrowserify.listCiphers=et.listCiphers;var tt=requireBrowser$4();cryptoBrowserify.DiffieHellmanGroup=tt.DiffieHellmanGroup,cryptoBrowserify.createDiffieHellmanGroup=tt.createDiffieHellmanGroup,cryptoBrowserify.getDiffieHellman=tt.getDiffieHellman,cryptoBrowserify.createDiffieHellman=tt.createDiffieHellman,cryptoBrowserify.DiffieHellman=tt.DiffieHellman;var rt=requireBrowser$3();cryptoBrowserify.createSign=rt.createSign,cryptoBrowserify.Sign=rt.Sign,cryptoBrowserify.createVerify=rt.createVerify,cryptoBrowserify.Verify=rt.Verify,cryptoBrowserify.createECDH=requireBrowser$2();var nt=requireBrowser$1();cryptoBrowserify.publicEncrypt=nt.publicEncrypt,cryptoBrowserify.privateEncrypt=nt.privateEncrypt,cryptoBrowserify.publicDecrypt=nt.publicDecrypt,cryptoBrowserify.privateDecrypt=nt.privateDecrypt;var it=requireBrowser();return cryptoBrowserify.randomFill=it.randomFill,cryptoBrowserify.randomFillSync=it.randomFillSync,cryptoBrowserify.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join(`
`))},cryptoBrowserify.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6},cryptoBrowserify}Object.defineProperty(node$2,"__esModule",{value:!0});node$2.NodeRandomSource=void 0;const wipe_1$4=wipe$1;class NodeRandomSource{constructor(){if(this.isAvailable=!1,this.isInstantiated=!1,typeof commonjsRequire<"u"){const a=requireCryptoBrowserify();a&&a.randomBytes&&(this._crypto=a,this.isAvailable=!0,this.isInstantiated=!0)}}randomBytes(a){if(!this.isAvailable||!this._crypto)throw new Error("Node.js random byte generator is not available.");let $=this._crypto.randomBytes(a);if($.length!==a)throw new Error("NodeRandomSource: got fewer bytes than requested");const j=new Uint8Array(a);for(let et=0;et<j.length;et++)j[et]=$[et];return(0,wipe_1$4.wipe)($),j}}node$2.NodeRandomSource=NodeRandomSource;Object.defineProperty(system,"__esModule",{value:!0});system.SystemRandomSource=void 0;const browser_1=browser$a,node_1=node$2;class SystemRandomSource{constructor(){if(this.isAvailable=!1,this.name="",this._source=new browser_1.BrowserRandomSource,this._source.isAvailable){this.isAvailable=!0,this.name="Browser";return}if(this._source=new node_1.NodeRandomSource,this._source.isAvailable){this.isAvailable=!0,this.name="Node";return}}randomBytes(a){if(!this.isAvailable)throw new Error("System random byte generator is not available.");return this._source.randomBytes(a)}}system.SystemRandomSource=SystemRandomSource;var binary={},int={};(function(_){Object.defineProperty(_,"__esModule",{value:!0});function a(nt,it){var ot=nt>>>16&65535,st=nt&65535,ct=it>>>16&65535,ut=it&65535;return st*ut+(ot*ut+st*ct<<16>>>0)|0}_.mul=Math.imul||a;function $(nt,it){return nt+it|0}_.add=$;function j(nt,it){return nt-it|0}_.sub=j;function et(nt,it){return nt<<it|nt>>>32-it}_.rotl=et;function tt(nt,it){return nt<<32-it|nt>>>it}_.rotr=tt;function rt(nt){return typeof nt=="number"&&isFinite(nt)&&Math.floor(nt)===nt}_.isInteger=Number.isInteger||rt,_.MAX_SAFE_INTEGER=9007199254740991,_.isSafeInteger=function(nt){return _.isInteger(nt)&&nt>=-_.MAX_SAFE_INTEGER&&nt<=_.MAX_SAFE_INTEGER}})(int);Object.defineProperty(binary,"__esModule",{value:!0});var int_1=int;function readInt16BE(_,a){return a===void 0&&(a=0),(_[a+0]<<8|_[a+1])<<16>>16}binary.readInt16BE=readInt16BE;function readUint16BE(_,a){return a===void 0&&(a=0),(_[a+0]<<8|_[a+1])>>>0}binary.readUint16BE=readUint16BE;function readInt16LE(_,a){return a===void 0&&(a=0),(_[a+1]<<8|_[a])<<16>>16}binary.readInt16LE=readInt16LE;function readUint16LE(_,a){return a===void 0&&(a=0),(_[a+1]<<8|_[a])>>>0}binary.readUint16LE=readUint16LE;function writeUint16BE(_,a,$){return a===void 0&&(a=new Uint8Array(2)),$===void 0&&($=0),a[$+0]=_>>>8,a[$+1]=_>>>0,a}binary.writeUint16BE=writeUint16BE;binary.writeInt16BE=writeUint16BE;function writeUint16LE(_,a,$){return a===void 0&&(a=new Uint8Array(2)),$===void 0&&($=0),a[$+0]=_>>>0,a[$+1]=_>>>8,a}binary.writeUint16LE=writeUint16LE;binary.writeInt16LE=writeUint16LE;function readInt32BE(_,a){return a===void 0&&(a=0),_[a]<<24|_[a+1]<<16|_[a+2]<<8|_[a+3]}binary.readInt32BE=readInt32BE;function readUint32BE(_,a){return a===void 0&&(a=0),(_[a]<<24|_[a+1]<<16|_[a+2]<<8|_[a+3])>>>0}binary.readUint32BE=readUint32BE;function readInt32LE(_,a){return a===void 0&&(a=0),_[a+3]<<24|_[a+2]<<16|_[a+1]<<8|_[a]}binary.readInt32LE=readInt32LE;function readUint32LE(_,a){return a===void 0&&(a=0),(_[a+3]<<24|_[a+2]<<16|_[a+1]<<8|_[a])>>>0}binary.readUint32LE=readUint32LE;function writeUint32BE(_,a,$){return a===void 0&&(a=new Uint8Array(4)),$===void 0&&($=0),a[$+0]=_>>>24,a[$+1]=_>>>16,a[$+2]=_>>>8,a[$+3]=_>>>0,a}binary.writeUint32BE=writeUint32BE;binary.writeInt32BE=writeUint32BE;function writeUint32LE(_,a,$){return a===void 0&&(a=new Uint8Array(4)),$===void 0&&($=0),a[$+0]=_>>>0,a[$+1]=_>>>8,a[$+2]=_>>>16,a[$+3]=_>>>24,a}binary.writeUint32LE=writeUint32LE;binary.writeInt32LE=writeUint32LE;function readInt64BE(_,a){a===void 0&&(a=0);var $=readInt32BE(_,a),j=readInt32BE(_,a+4);return $*4294967296+j-(j>>31)*4294967296}binary.readInt64BE=readInt64BE;function readUint64BE(_,a){a===void 0&&(a=0);var $=readUint32BE(_,a),j=readUint32BE(_,a+4);return $*4294967296+j}binary.readUint64BE=readUint64BE;function readInt64LE(_,a){a===void 0&&(a=0);var $=readInt32LE(_,a),j=readInt32LE(_,a+4);return j*4294967296+$-($>>31)*4294967296}binary.readInt64LE=readInt64LE;function readUint64LE(_,a){a===void 0&&(a=0);var $=readUint32LE(_,a),j=readUint32LE(_,a+4);return j*4294967296+$}binary.readUint64LE=readUint64LE;function writeUint64BE(_,a,$){return a===void 0&&(a=new Uint8Array(8)),$===void 0&&($=0),writeUint32BE(_/4294967296>>>0,a,$),writeUint32BE(_>>>0,a,$+4),a}binary.writeUint64BE=writeUint64BE;binary.writeInt64BE=writeUint64BE;function writeUint64LE(_,a,$){return a===void 0&&(a=new Uint8Array(8)),$===void 0&&($=0),writeUint32LE(_>>>0,a,$),writeUint32LE(_/4294967296>>>0,a,$+4),a}binary.writeUint64LE=writeUint64LE;binary.writeInt64LE=writeUint64LE;function readUintBE(_,a,$){if($===void 0&&($=0),_%8!==0)throw new Error("readUintBE supports only bitLengths divisible by 8");if(_/8>a.length-$)throw new Error("readUintBE: array is too short for the given bitLength");for(var j=0,et=1,tt=_/8+$-1;tt>=$;tt--)j+=a[tt]*et,et*=256;return j}binary.readUintBE=readUintBE;function readUintLE(_,a,$){if($===void 0&&($=0),_%8!==0)throw new Error("readUintLE supports only bitLengths divisible by 8");if(_/8>a.length-$)throw new Error("readUintLE: array is too short for the given bitLength");for(var j=0,et=1,tt=$;tt<$+_/8;tt++)j+=a[tt]*et,et*=256;return j}binary.readUintLE=readUintLE;function writeUintBE(_,a,$,j){if($===void 0&&($=new Uint8Array(_/8)),j===void 0&&(j=0),_%8!==0)throw new Error("writeUintBE supports only bitLengths divisible by 8");if(!int_1.isSafeInteger(a))throw new Error("writeUintBE value must be an integer");for(var et=1,tt=_/8+j-1;tt>=j;tt--)$[tt]=a/et&255,et*=256;return $}binary.writeUintBE=writeUintBE;function writeUintLE(_,a,$,j){if($===void 0&&($=new Uint8Array(_/8)),j===void 0&&(j=0),_%8!==0)throw new Error("writeUintLE supports only bitLengths divisible by 8");if(!int_1.isSafeInteger(a))throw new Error("writeUintLE value must be an integer");for(var et=1,tt=j;tt<j+_/8;tt++)$[tt]=a/et&255,et*=256;return $}binary.writeUintLE=writeUintLE;function readFloat32BE(_,a){a===void 0&&(a=0);var $=new DataView(_.buffer,_.byteOffset,_.byteLength);return $.getFloat32(a)}binary.readFloat32BE=readFloat32BE;function readFloat32LE(_,a){a===void 0&&(a=0);var $=new DataView(_.buffer,_.byteOffset,_.byteLength);return $.getFloat32(a,!0)}binary.readFloat32LE=readFloat32LE;function readFloat64BE(_,a){a===void 0&&(a=0);var $=new DataView(_.buffer,_.byteOffset,_.byteLength);return $.getFloat64(a)}binary.readFloat64BE=readFloat64BE;function readFloat64LE(_,a){a===void 0&&(a=0);var $=new DataView(_.buffer,_.byteOffset,_.byteLength);return $.getFloat64(a,!0)}binary.readFloat64LE=readFloat64LE;function writeFloat32BE(_,a,$){a===void 0&&(a=new Uint8Array(4)),$===void 0&&($=0);var j=new DataView(a.buffer,a.byteOffset,a.byteLength);return j.setFloat32($,_),a}binary.writeFloat32BE=writeFloat32BE;function writeFloat32LE(_,a,$){a===void 0&&(a=new Uint8Array(4)),$===void 0&&($=0);var j=new DataView(a.buffer,a.byteOffset,a.byteLength);return j.setFloat32($,_,!0),a}binary.writeFloat32LE=writeFloat32LE;function writeFloat64BE(_,a,$){a===void 0&&(a=new Uint8Array(8)),$===void 0&&($=0);var j=new DataView(a.buffer,a.byteOffset,a.byteLength);return j.setFloat64($,_),a}binary.writeFloat64BE=writeFloat64BE;function writeFloat64LE(_,a,$){a===void 0&&(a=new Uint8Array(8)),$===void 0&&($=0);var j=new DataView(a.buffer,a.byteOffset,a.byteLength);return j.setFloat64($,_,!0),a}binary.writeFloat64LE=writeFloat64LE;(function(_){Object.defineProperty(_,"__esModule",{value:!0}),_.randomStringForEntropy=_.randomString=_.randomUint32=_.randomBytes=_.defaultRandomSource=void 0;const a=system,$=binary,j=wipe$1;_.defaultRandomSource=new a.SystemRandomSource;function et(ot,st=_.defaultRandomSource){return st.randomBytes(ot)}_.randomBytes=et;function tt(ot=_.defaultRandomSource){const st=et(4,ot),ct=(0,$.readUint32LE)(st);return(0,j.wipe)(st),ct}_.randomUint32=tt;const rt="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";function nt(ot,st=rt,ct=_.defaultRandomSource){if(st.length<2)throw new Error("randomString charset is too short");if(st.length>256)throw new Error("randomString charset is too long");let ut="";const ht=st.length,Et=256-256%ht;for(;ot>0;){const St=et(Math.ceil(ot*256/Et),ct);for(let Mt=0;Mt<St.length&&ot>0;Mt++){const kt=St[Mt];kt<Et&&(ut+=st.charAt(kt%ht),ot--)}(0,j.wipe)(St)}return ut}_.randomString=nt;function it(ot,st=rt,ct=_.defaultRandomSource){const ut=Math.ceil(ot/(Math.log(st.length)/Math.LN2));return nt(ut,st,ct)}_.randomStringForEntropy=it})(random);(function(_){Object.defineProperty(_,"__esModule",{value:!0}),_.sharedKey=_.generateKeyPair=_.generateKeyPairFromSeed=_.scalarMultBase=_.scalarMult=_.SHARED_KEY_LENGTH=_.SECRET_KEY_LENGTH=_.PUBLIC_KEY_LENGTH=void 0;const a=random,$=wipe$1;_.PUBLIC_KEY_LENGTH=32,_.SECRET_KEY_LENGTH=32,_.SHARED_KEY_LENGTH=32;function j(zt){const Ut=new Float64Array(16);if(zt)for(let Vt=0;Vt<zt.length;Vt++)Ut[Vt]=zt[Vt];return Ut}const et=new Uint8Array(32);et[0]=9;const tt=j([56129,1]);function rt(zt){let Ut=1;for(let Vt=0;Vt<16;Vt++){let jt=zt[Vt]+Ut+65535;Ut=Math.floor(jt/65536),zt[Vt]=jt-Ut*65536}zt[0]+=Ut-1+37*(Ut-1)}function nt(zt,Ut,Vt){const jt=~(Vt-1);for(let $t=0;$t<16;$t++){const Bt=jt&(zt[$t]^Ut[$t]);zt[$t]^=Bt,Ut[$t]^=Bt}}function it(zt,Ut){const Vt=j(),jt=j();for(let $t=0;$t<16;$t++)jt[$t]=Ut[$t];rt(jt),rt(jt),rt(jt);for(let $t=0;$t<2;$t++){Vt[0]=jt[0]-65517;for(let Nt=1;Nt<15;Nt++)Vt[Nt]=jt[Nt]-65535-(Vt[Nt-1]>>16&1),Vt[Nt-1]&=65535;Vt[15]=jt[15]-32767-(Vt[14]>>16&1);const Bt=Vt[15]>>16&1;Vt[14]&=65535,nt(jt,Vt,1-Bt)}for(let $t=0;$t<16;$t++)zt[2*$t]=jt[$t]&255,zt[2*$t+1]=jt[$t]>>8}function ot(zt,Ut){for(let Vt=0;Vt<16;Vt++)zt[Vt]=Ut[2*Vt]+(Ut[2*Vt+1]<<8);zt[15]&=32767}function st(zt,Ut,Vt){for(let jt=0;jt<16;jt++)zt[jt]=Ut[jt]+Vt[jt]}function ct(zt,Ut,Vt){for(let jt=0;jt<16;jt++)zt[jt]=Ut[jt]-Vt[jt]}function ut(zt,Ut,Vt){let jt,$t,Bt=0,Nt=0,Lt=0,Pt=0,bt=0,at=0,dt=0,vt=0,xt=0,wt=0,_t=0,At=0,Tt=0,yt=0,It=0,rr=0,ir=0,nr=0,Gt=0,qt=0,Jt=0,Ft=0,Kt=0,Qt=0,dr=0,xr=0,pr=0,Ir=0,Cr=0,lr=0,fr=0,Er=Vt[0],Ar=Vt[1],kr=Vt[2],Sr=Vt[3],$r=Vt[4],jr=Vt[5],Nr=Vt[6],or=Vt[7],Xt=Vt[8],er=Vt[9],Zt=Vt[10],Ht=Vt[11],Wt=Vt[12],ar=Vt[13],br=Vt[14],wr=Vt[15];jt=Ut[0],Bt+=jt*Er,Nt+=jt*Ar,Lt+=jt*kr,Pt+=jt*Sr,bt+=jt*$r,at+=jt*jr,dt+=jt*Nr,vt+=jt*or,xt+=jt*Xt,wt+=jt*er,_t+=jt*Zt,At+=jt*Ht,Tt+=jt*Wt,yt+=jt*ar,It+=jt*br,rr+=jt*wr,jt=Ut[1],Nt+=jt*Er,Lt+=jt*Ar,Pt+=jt*kr,bt+=jt*Sr,at+=jt*$r,dt+=jt*jr,vt+=jt*Nr,xt+=jt*or,wt+=jt*Xt,_t+=jt*er,At+=jt*Zt,Tt+=jt*Ht,yt+=jt*Wt,It+=jt*ar,rr+=jt*br,ir+=jt*wr,jt=Ut[2],Lt+=jt*Er,Pt+=jt*Ar,bt+=jt*kr,at+=jt*Sr,dt+=jt*$r,vt+=jt*jr,xt+=jt*Nr,wt+=jt*or,_t+=jt*Xt,At+=jt*er,Tt+=jt*Zt,yt+=jt*Ht,It+=jt*Wt,rr+=jt*ar,ir+=jt*br,nr+=jt*wr,jt=Ut[3],Pt+=jt*Er,bt+=jt*Ar,at+=jt*kr,dt+=jt*Sr,vt+=jt*$r,xt+=jt*jr,wt+=jt*Nr,_t+=jt*or,At+=jt*Xt,Tt+=jt*er,yt+=jt*Zt,It+=jt*Ht,rr+=jt*Wt,ir+=jt*ar,nr+=jt*br,Gt+=jt*wr,jt=Ut[4],bt+=jt*Er,at+=jt*Ar,dt+=jt*kr,vt+=jt*Sr,xt+=jt*$r,wt+=jt*jr,_t+=jt*Nr,At+=jt*or,Tt+=jt*Xt,yt+=jt*er,It+=jt*Zt,rr+=jt*Ht,ir+=jt*Wt,nr+=jt*ar,Gt+=jt*br,qt+=jt*wr,jt=Ut[5],at+=jt*Er,dt+=jt*Ar,vt+=jt*kr,xt+=jt*Sr,wt+=jt*$r,_t+=jt*jr,At+=jt*Nr,Tt+=jt*or,yt+=jt*Xt,It+=jt*er,rr+=jt*Zt,ir+=jt*Ht,nr+=jt*Wt,Gt+=jt*ar,qt+=jt*br,Jt+=jt*wr,jt=Ut[6],dt+=jt*Er,vt+=jt*Ar,xt+=jt*kr,wt+=jt*Sr,_t+=jt*$r,At+=jt*jr,Tt+=jt*Nr,yt+=jt*or,It+=jt*Xt,rr+=jt*er,ir+=jt*Zt,nr+=jt*Ht,Gt+=jt*Wt,qt+=jt*ar,Jt+=jt*br,Ft+=jt*wr,jt=Ut[7],vt+=jt*Er,xt+=jt*Ar,wt+=jt*kr,_t+=jt*Sr,At+=jt*$r,Tt+=jt*jr,yt+=jt*Nr,It+=jt*or,rr+=jt*Xt,ir+=jt*er,nr+=jt*Zt,Gt+=jt*Ht,qt+=jt*Wt,Jt+=jt*ar,Ft+=jt*br,Kt+=jt*wr,jt=Ut[8],xt+=jt*Er,wt+=jt*Ar,_t+=jt*kr,At+=jt*Sr,Tt+=jt*$r,yt+=jt*jr,It+=jt*Nr,rr+=jt*or,ir+=jt*Xt,nr+=jt*er,Gt+=jt*Zt,qt+=jt*Ht,Jt+=jt*Wt,Ft+=jt*ar,Kt+=jt*br,Qt+=jt*wr,jt=Ut[9],wt+=jt*Er,_t+=jt*Ar,At+=jt*kr,Tt+=jt*Sr,yt+=jt*$r,It+=jt*jr,rr+=jt*Nr,ir+=jt*or,nr+=jt*Xt,Gt+=jt*er,qt+=jt*Zt,Jt+=jt*Ht,Ft+=jt*Wt,Kt+=jt*ar,Qt+=jt*br,dr+=jt*wr,jt=Ut[10],_t+=jt*Er,At+=jt*Ar,Tt+=jt*kr,yt+=jt*Sr,It+=jt*$r,rr+=jt*jr,ir+=jt*Nr,nr+=jt*or,Gt+=jt*Xt,qt+=jt*er,Jt+=jt*Zt,Ft+=jt*Ht,Kt+=jt*Wt,Qt+=jt*ar,dr+=jt*br,xr+=jt*wr,jt=Ut[11],At+=jt*Er,Tt+=jt*Ar,yt+=jt*kr,It+=jt*Sr,rr+=jt*$r,ir+=jt*jr,nr+=jt*Nr,Gt+=jt*or,qt+=jt*Xt,Jt+=jt*er,Ft+=jt*Zt,Kt+=jt*Ht,Qt+=jt*Wt,dr+=jt*ar,xr+=jt*br,pr+=jt*wr,jt=Ut[12],Tt+=jt*Er,yt+=jt*Ar,It+=jt*kr,rr+=jt*Sr,ir+=jt*$r,nr+=jt*jr,Gt+=jt*Nr,qt+=jt*or,Jt+=jt*Xt,Ft+=jt*er,Kt+=jt*Zt,Qt+=jt*Ht,dr+=jt*Wt,xr+=jt*ar,pr+=jt*br,Ir+=jt*wr,jt=Ut[13],yt+=jt*Er,It+=jt*Ar,rr+=jt*kr,ir+=jt*Sr,nr+=jt*$r,Gt+=jt*jr,qt+=jt*Nr,Jt+=jt*or,Ft+=jt*Xt,Kt+=jt*er,Qt+=jt*Zt,dr+=jt*Ht,xr+=jt*Wt,pr+=jt*ar,Ir+=jt*br,Cr+=jt*wr,jt=Ut[14],It+=jt*Er,rr+=jt*Ar,ir+=jt*kr,nr+=jt*Sr,Gt+=jt*$r,qt+=jt*jr,Jt+=jt*Nr,Ft+=jt*or,Kt+=jt*Xt,Qt+=jt*er,dr+=jt*Zt,xr+=jt*Ht,pr+=jt*Wt,Ir+=jt*ar,Cr+=jt*br,lr+=jt*wr,jt=Ut[15],rr+=jt*Er,ir+=jt*Ar,nr+=jt*kr,Gt+=jt*Sr,qt+=jt*$r,Jt+=jt*jr,Ft+=jt*Nr,Kt+=jt*or,Qt+=jt*Xt,dr+=jt*er,xr+=jt*Zt,pr+=jt*Ht,Ir+=jt*Wt,Cr+=jt*ar,lr+=jt*br,fr+=jt*wr,Bt+=38*ir,Nt+=38*nr,Lt+=38*Gt,Pt+=38*qt,bt+=38*Jt,at+=38*Ft,dt+=38*Kt,vt+=38*Qt,xt+=38*dr,wt+=38*xr,_t+=38*pr,At+=38*Ir,Tt+=38*Cr,yt+=38*lr,It+=38*fr,$t=1,jt=Bt+$t+65535,$t=Math.floor(jt/65536),Bt=jt-$t*65536,jt=Nt+$t+65535,$t=Math.floor(jt/65536),Nt=jt-$t*65536,jt=Lt+$t+65535,$t=Math.floor(jt/65536),Lt=jt-$t*65536,jt=Pt+$t+65535,$t=Math.floor(jt/65536),Pt=jt-$t*65536,jt=bt+$t+65535,$t=Math.floor(jt/65536),bt=jt-$t*65536,jt=at+$t+65535,$t=Math.floor(jt/65536),at=jt-$t*65536,jt=dt+$t+65535,$t=Math.floor(jt/65536),dt=jt-$t*65536,jt=vt+$t+65535,$t=Math.floor(jt/65536),vt=jt-$t*65536,jt=xt+$t+65535,$t=Math.floor(jt/65536),xt=jt-$t*65536,jt=wt+$t+65535,$t=Math.floor(jt/65536),wt=jt-$t*65536,jt=_t+$t+65535,$t=Math.floor(jt/65536),_t=jt-$t*65536,jt=At+$t+65535,$t=Math.floor(jt/65536),At=jt-$t*65536,jt=Tt+$t+65535,$t=Math.floor(jt/65536),Tt=jt-$t*65536,jt=yt+$t+65535,$t=Math.floor(jt/65536),yt=jt-$t*65536,jt=It+$t+65535,$t=Math.floor(jt/65536),It=jt-$t*65536,jt=rr+$t+65535,$t=Math.floor(jt/65536),rr=jt-$t*65536,Bt+=$t-1+37*($t-1),$t=1,jt=Bt+$t+65535,$t=Math.floor(jt/65536),Bt=jt-$t*65536,jt=Nt+$t+65535,$t=Math.floor(jt/65536),Nt=jt-$t*65536,jt=Lt+$t+65535,$t=Math.floor(jt/65536),Lt=jt-$t*65536,jt=Pt+$t+65535,$t=Math.floor(jt/65536),Pt=jt-$t*65536,jt=bt+$t+65535,$t=Math.floor(jt/65536),bt=jt-$t*65536,jt=at+$t+65535,$t=Math.floor(jt/65536),at=jt-$t*65536,jt=dt+$t+65535,$t=Math.floor(jt/65536),dt=jt-$t*65536,jt=vt+$t+65535,$t=Math.floor(jt/65536),vt=jt-$t*65536,jt=xt+$t+65535,$t=Math.floor(jt/65536),xt=jt-$t*65536,jt=wt+$t+65535,$t=Math.floor(jt/65536),wt=jt-$t*65536,jt=_t+$t+65535,$t=Math.floor(jt/65536),_t=jt-$t*65536,jt=At+$t+65535,$t=Math.floor(jt/65536),At=jt-$t*65536,jt=Tt+$t+65535,$t=Math.floor(jt/65536),Tt=jt-$t*65536,jt=yt+$t+65535,$t=Math.floor(jt/65536),yt=jt-$t*65536,jt=It+$t+65535,$t=Math.floor(jt/65536),It=jt-$t*65536,jt=rr+$t+65535,$t=Math.floor(jt/65536),rr=jt-$t*65536,Bt+=$t-1+37*($t-1),zt[0]=Bt,zt[1]=Nt,zt[2]=Lt,zt[3]=Pt,zt[4]=bt,zt[5]=at,zt[6]=dt,zt[7]=vt,zt[8]=xt,zt[9]=wt,zt[10]=_t,zt[11]=At,zt[12]=Tt,zt[13]=yt,zt[14]=It,zt[15]=rr}function ht(zt,Ut){ut(zt,Ut,Ut)}function Et(zt,Ut){const Vt=j();for(let jt=0;jt<16;jt++)Vt[jt]=Ut[jt];for(let jt=253;jt>=0;jt--)ht(Vt,Vt),jt!==2&&jt!==4&&ut(Vt,Vt,Ut);for(let jt=0;jt<16;jt++)zt[jt]=Vt[jt]}function St(zt,Ut){const Vt=new Uint8Array(32),jt=new Float64Array(80),$t=j(),Bt=j(),Nt=j(),Lt=j(),Pt=j(),bt=j();for(let xt=0;xt<31;xt++)Vt[xt]=zt[xt];Vt[31]=zt[31]&127|64,Vt[0]&=248,ot(jt,Ut);for(let xt=0;xt<16;xt++)Bt[xt]=jt[xt];$t[0]=Lt[0]=1;for(let xt=254;xt>=0;--xt){const wt=Vt[xt>>>3]>>>(xt&7)&1;nt($t,Bt,wt),nt(Nt,Lt,wt),st(Pt,$t,Nt),ct($t,$t,Nt),st(Nt,Bt,Lt),ct(Bt,Bt,Lt),ht(Lt,Pt),ht(bt,$t),ut($t,Nt,$t),ut(Nt,Bt,Pt),st(Pt,$t,Nt),ct($t,$t,Nt),ht(Bt,$t),ct(Nt,Lt,bt),ut($t,Nt,tt),st($t,$t,Lt),ut(Nt,Nt,$t),ut($t,Lt,bt),ut(Lt,Bt,jt),ht(Bt,Pt),nt($t,Bt,wt),nt(Nt,Lt,wt)}for(let xt=0;xt<16;xt++)jt[xt+16]=$t[xt],jt[xt+32]=Nt[xt],jt[xt+48]=Bt[xt],jt[xt+64]=Lt[xt];const at=jt.subarray(32),dt=jt.subarray(16);Et(at,at),ut(dt,dt,at);const vt=new Uint8Array(32);return it(vt,dt),vt}_.scalarMult=St;function Mt(zt){return St(zt,et)}_.scalarMultBase=Mt;function kt(zt){if(zt.length!==_.SECRET_KEY_LENGTH)throw new Error(`x25519: seed must be ${_.SECRET_KEY_LENGTH} bytes`);const Ut=new Uint8Array(zt);return{publicKey:Mt(Ut),secretKey:Ut}}_.generateKeyPairFromSeed=kt;function Ct(zt){const Ut=(0,a.randomBytes)(32,zt),Vt=kt(Ut);return(0,$.wipe)(Ut),Vt}_.generateKeyPair=Ct;function Ot(zt,Ut,Vt=!1){if(zt.length!==_.PUBLIC_KEY_LENGTH)throw new Error("X25519: incorrect secret key length");if(Ut.length!==_.PUBLIC_KEY_LENGTH)throw new Error("X25519: incorrect public key length");const jt=St(zt,Ut);if(Vt){let $t=0;for(let Bt=0;Bt<jt.length;Bt++)$t|=jt[Bt];if($t===0)throw new Error("X25519: invalid shared key")}return jt}_.sharedKey=Ot})(x25519);var xsalsa20={},salsa20={};Object.defineProperty(salsa20,"__esModule",{value:!0});var binary_1$1=binary,wipe_1$3=wipe$1,ROUNDS$1=20;function core(_,a,$){for(var j=1634760805,et=$[3]<<24|$[2]<<16|$[1]<<8|$[0],tt=$[7]<<24|$[6]<<16|$[5]<<8|$[4],rt=$[11]<<24|$[10]<<16|$[9]<<8|$[8],nt=$[15]<<24|$[14]<<16|$[13]<<8|$[12],it=857760878,ot=a[3]<<24|a[2]<<16|a[1]<<8|a[0],st=a[7]<<24|a[6]<<16|a[5]<<8|a[4],ct=a[11]<<24|a[10]<<16|a[9]<<8|a[8],ut=a[15]<<24|a[14]<<16|a[13]<<8|a[12],ht=2036477234,Et=$[19]<<24|$[18]<<16|$[17]<<8|$[16],St=$[23]<<24|$[22]<<16|$[21]<<8|$[20],Mt=$[27]<<24|$[26]<<16|$[25]<<8|$[24],kt=$[31]<<24|$[30]<<16|$[29]<<8|$[28],Ct=1797285236,Ot=j,zt=et,Ut=tt,Vt=rt,jt=nt,$t=it,Bt=ot,Nt=st,Lt=ct,Pt=ut,bt=ht,at=Et,dt=St,vt=Mt,xt=kt,wt=Ct,_t,At=0;At<ROUNDS$1;At+=2)_t=Ot+dt|0,jt^=_t<<7|_t>>>25,_t=jt+Ot|0,Lt^=_t<<9|_t>>>23,_t=Lt+jt|0,dt^=_t<<13|_t>>>19,_t=dt+Lt|0,Ot^=_t<<18|_t>>>14,_t=$t+zt|0,Pt^=_t<<7|_t>>>25,_t=Pt+$t|0,vt^=_t<<9|_t>>>23,_t=vt+Pt|0,zt^=_t<<13|_t>>>19,_t=zt+vt|0,$t^=_t<<18|_t>>>14,_t=bt+Bt|0,xt^=_t<<7|_t>>>25,_t=xt+bt|0,Ut^=_t<<9|_t>>>23,_t=Ut+xt|0,Bt^=_t<<13|_t>>>19,_t=Bt+Ut|0,bt^=_t<<18|_t>>>14,_t=wt+at|0,Vt^=_t<<7|_t>>>25,_t=Vt+wt|0,Nt^=_t<<9|_t>>>23,_t=Nt+Vt|0,at^=_t<<13|_t>>>19,_t=at+Nt|0,wt^=_t<<18|_t>>>14,_t=Ot+Vt|0,zt^=_t<<7|_t>>>25,_t=zt+Ot|0,Ut^=_t<<9|_t>>>23,_t=Ut+zt|0,Vt^=_t<<13|_t>>>19,_t=Vt+Ut|0,Ot^=_t<<18|_t>>>14,_t=$t+jt|0,Bt^=_t<<7|_t>>>25,_t=Bt+$t|0,Nt^=_t<<9|_t>>>23,_t=Nt+Bt|0,jt^=_t<<13|_t>>>19,_t=jt+Nt|0,$t^=_t<<18|_t>>>14,_t=bt+Pt|0,at^=_t<<7|_t>>>25,_t=at+bt|0,Lt^=_t<<9|_t>>>23,_t=Lt+at|0,Pt^=_t<<13|_t>>>19,_t=Pt+Lt|0,bt^=_t<<18|_t>>>14,_t=wt+xt|0,dt^=_t<<7|_t>>>25,_t=dt+wt|0,vt^=_t<<9|_t>>>23,_t=vt+dt|0,xt^=_t<<13|_t>>>19,_t=xt+vt|0,wt^=_t<<18|_t>>>14;binary_1$1.writeUint32LE(Ot+j|0,_,0),binary_1$1.writeUint32LE(zt+et|0,_,4),binary_1$1.writeUint32LE(Ut+tt|0,_,8),binary_1$1.writeUint32LE(Vt+rt|0,_,12),binary_1$1.writeUint32LE(jt+nt|0,_,16),binary_1$1.writeUint32LE($t+it|0,_,20),binary_1$1.writeUint32LE(Bt+ot|0,_,24),binary_1$1.writeUint32LE(Nt+st|0,_,28),binary_1$1.writeUint32LE(Lt+ct|0,_,32),binary_1$1.writeUint32LE(Pt+ut|0,_,36),binary_1$1.writeUint32LE(bt+ht|0,_,40),binary_1$1.writeUint32LE(at+Et|0,_,44),binary_1$1.writeUint32LE(dt+St|0,_,48),binary_1$1.writeUint32LE(vt+Mt|0,_,52),binary_1$1.writeUint32LE(xt+kt|0,_,56),binary_1$1.writeUint32LE(wt+Ct|0,_,60)}function streamXOR$1(_,a,$,j,et){if(et===void 0&&(et=0),_.length!==32)throw new Error("Salsa20: key size must be 32 bytes");if(j.length<$.length)throw new Error("Salsa20: destination is shorter than source");var tt,rt;if(et===0){if(a.length!==8)throw new Error("Salsa20 nonce must be 8 bytes");tt=new Uint8Array(16),tt.set(a),rt=a.length}else{if(a.length!==16)throw new Error("Salsa20 nonce with counter must be 16 bytes");tt=a,rt=16-et}for(var nt=new Uint8Array(64),it=0;it<$.length;it+=64){core(nt,tt,_);for(var ot=it;ot<it+64&&ot<$.length;ot++)j[ot]=$[ot]^nt[ot-it];incrementCounter(tt,rt,tt.length-rt)}return wipe_1$3.wipe(nt),et===0&&wipe_1$3.wipe(tt),j}salsa20.streamXOR=streamXOR$1;function stream$1(_,a,$,j){return j===void 0&&(j=0),wipe_1$3.wipe($),streamXOR$1(_,a,$,$,j)}salsa20.stream=stream$1;function incrementCounter(_,a,$){for(var j=1;$--;)j=j+(_[a]&255)|0,_[a]=j&255,j>>>=8,a++;if(j>0)throw new Error("Salsa20: counter overflow")}Object.defineProperty(xsalsa20,"__esModule",{value:!0});var binary_1=binary,salsa20_1=salsa20,wipe_1$2=wipe$1;function streamXOR(_,a,$,j,et){if(et===void 0&&(et=0),et===0){if(a.length!==24)throw new Error("XSalsa20 nonce must be 24 bytes")}else if(a.length!==32)throw new Error("XSalsa20 nonce with counter must be 32 bytes");var tt=hsalsa(_,a.subarray(0,16),new Uint8Array(32)),rt=salsa20_1.streamXOR(tt,a.subarray(16),$,j,et);return wipe_1$2.wipe(tt),rt}xsalsa20.streamXOR=streamXOR;function stream(_,a,$,j){return j===void 0&&(j=0),wipe_1$2.wipe($),streamXOR(_,a,$,$,j)}xsalsa20.stream=stream;var ROUNDS=20;function hsalsa(_,a,$){for(var j=1634760805,et=_[3]<<24|_[2]<<16|_[1]<<8|_[0],tt=_[7]<<24|_[6]<<16|_[5]<<8|_[4],rt=_[11]<<24|_[10]<<16|_[9]<<8|_[8],nt=_[15]<<24|_[14]<<16|_[13]<<8|_[12],it=857760878,ot=a[3]<<24|a[2]<<16|a[1]<<8|a[0],st=a[7]<<24|a[6]<<16|a[5]<<8|a[4],ct=a[11]<<24|a[10]<<16|a[9]<<8|a[8],ut=a[15]<<24|a[14]<<16|a[13]<<8|a[12],ht=2036477234,Et=_[19]<<24|_[18]<<16|_[17]<<8|_[16],St=_[23]<<24|_[22]<<16|_[21]<<8|_[20],Mt=_[27]<<24|_[26]<<16|_[25]<<8|_[24],kt=_[31]<<24|_[30]<<16|_[29]<<8|_[28],Ct=1797285236,Ot,zt=0;zt<ROUNDS;zt+=2)Ot=j+St|0,nt^=Ot<<7|Ot>>>25,Ot=nt+j|0,ct^=Ot<<9|Ot>>>23,Ot=ct+nt|0,St^=Ot<<13|Ot>>>19,Ot=St+ct|0,j^=Ot<<18|Ot>>>14,Ot=it+et|0,ut^=Ot<<7|Ot>>>25,Ot=ut+it|0,Mt^=Ot<<9|Ot>>>23,Ot=Mt+ut|0,et^=Ot<<13|Ot>>>19,Ot=et+Mt|0,it^=Ot<<18|Ot>>>14,Ot=ht+ot|0,kt^=Ot<<7|Ot>>>25,Ot=kt+ht|0,tt^=Ot<<9|Ot>>>23,Ot=tt+kt|0,ot^=Ot<<13|Ot>>>19,Ot=ot+tt|0,ht^=Ot<<18|Ot>>>14,Ot=Ct+Et|0,rt^=Ot<<7|Ot>>>25,Ot=rt+Ct|0,st^=Ot<<9|Ot>>>23,Ot=st+rt|0,Et^=Ot<<13|Ot>>>19,Ot=Et+st|0,Ct^=Ot<<18|Ot>>>14,Ot=j+rt|0,et^=Ot<<7|Ot>>>25,Ot=et+j|0,tt^=Ot<<9|Ot>>>23,Ot=tt+et|0,rt^=Ot<<13|Ot>>>19,Ot=rt+tt|0,j^=Ot<<18|Ot>>>14,Ot=it+nt|0,ot^=Ot<<7|Ot>>>25,Ot=ot+it|0,st^=Ot<<9|Ot>>>23,Ot=st+ot|0,nt^=Ot<<13|Ot>>>19,Ot=nt+st|0,it^=Ot<<18|Ot>>>14,Ot=ht+ut|0,Et^=Ot<<7|Ot>>>25,Ot=Et+ht|0,ct^=Ot<<9|Ot>>>23,Ot=ct+Et|0,ut^=Ot<<13|Ot>>>19,Ot=ut+ct|0,ht^=Ot<<18|Ot>>>14,Ot=Ct+kt|0,St^=Ot<<7|Ot>>>25,Ot=St+Ct|0,Mt^=Ot<<9|Ot>>>23,Ot=Mt+St|0,kt^=Ot<<13|Ot>>>19,Ot=kt+Mt|0,Ct^=Ot<<18|Ot>>>14;return binary_1.writeUint32LE(j,$,0),binary_1.writeUint32LE(it,$,4),binary_1.writeUint32LE(ht,$,8),binary_1.writeUint32LE(Ct,$,12),binary_1.writeUint32LE(ot,$,16),binary_1.writeUint32LE(st,$,20),binary_1.writeUint32LE(ct,$,24),binary_1.writeUint32LE(ut,$,28),$}xsalsa20.hsalsa=hsalsa;var secretbox={},poly1305={},constantTime={};Object.defineProperty(constantTime,"__esModule",{value:!0});function select(_,a,$){return~(_-1)&a|_-1&$}constantTime.select=select;function lessOrEqual(_,a){return(_|0)-(a|0)-1>>>31&1}constantTime.lessOrEqual=lessOrEqual;function compare$d(_,a){if(_.length!==a.length)return 0;for(var $=0,j=0;j<_.length;j++)$|=_[j]^a[j];return 1&$-1>>>8}constantTime.compare=compare$d;function equal(_,a){return _.length===0||a.length===0?!1:compare$d(_,a)!==0}constantTime.equal=equal;(function(_){Object.defineProperty(_,"__esModule",{value:!0});var a=constantTime,$=wipe$1;_.DIGEST_LENGTH=16;var j=function(){function rt(nt){this.digestLength=_.DIGEST_LENGTH,this._buffer=new Uint8Array(16),this._r=new Uint16Array(10),this._h=new Uint16Array(10),this._pad=new Uint16Array(8),this._leftover=0,this._fin=0,this._finished=!1;var it=nt[0]|nt[1]<<8;this._r[0]=it&8191;var ot=nt[2]|nt[3]<<8;this._r[1]=(it>>>13|ot<<3)&8191;var st=nt[4]|nt[5]<<8;this._r[2]=(ot>>>10|st<<6)&7939;var ct=nt[6]|nt[7]<<8;this._r[3]=(st>>>7|ct<<9)&8191;var ut=nt[8]|nt[9]<<8;this._r[4]=(ct>>>4|ut<<12)&255,this._r[5]=ut>>>1&8190;var ht=nt[10]|nt[11]<<8;this._r[6]=(ut>>>14|ht<<2)&8191;var Et=nt[12]|nt[13]<<8;this._r[7]=(ht>>>11|Et<<5)&8065;var St=nt[14]|nt[15]<<8;this._r[8]=(Et>>>8|St<<8)&8191,this._r[9]=St>>>5&127,this._pad[0]=nt[16]|nt[17]<<8,this._pad[1]=nt[18]|nt[19]<<8,this._pad[2]=nt[20]|nt[21]<<8,this._pad[3]=nt[22]|nt[23]<<8,this._pad[4]=nt[24]|nt[25]<<8,this._pad[5]=nt[26]|nt[27]<<8,this._pad[6]=nt[28]|nt[29]<<8,this._pad[7]=nt[30]|nt[31]<<8}return rt.prototype._blocks=function(nt,it,ot){for(var st=this._fin?0:2048,ct=this._h[0],ut=this._h[1],ht=this._h[2],Et=this._h[3],St=this._h[4],Mt=this._h[5],kt=this._h[6],Ct=this._h[7],Ot=this._h[8],zt=this._h[9],Ut=this._r[0],Vt=this._r[1],jt=this._r[2],$t=this._r[3],Bt=this._r[4],Nt=this._r[5],Lt=this._r[6],Pt=this._r[7],bt=this._r[8],at=this._r[9];ot>=16;){var dt=nt[it+0]|nt[it+1]<<8;ct+=dt&8191;var vt=nt[it+2]|nt[it+3]<<8;ut+=(dt>>>13|vt<<3)&8191;var xt=nt[it+4]|nt[it+5]<<8;ht+=(vt>>>10|xt<<6)&8191;var wt=nt[it+6]|nt[it+7]<<8;Et+=(xt>>>7|wt<<9)&8191;var _t=nt[it+8]|nt[it+9]<<8;St+=(wt>>>4|_t<<12)&8191,Mt+=_t>>>1&8191;var At=nt[it+10]|nt[it+11]<<8;kt+=(_t>>>14|At<<2)&8191;var Tt=nt[it+12]|nt[it+13]<<8;Ct+=(At>>>11|Tt<<5)&8191;var yt=nt[it+14]|nt[it+15]<<8;Ot+=(Tt>>>8|yt<<8)&8191,zt+=yt>>>5|st;var It=0,rr=It;rr+=ct*Ut,rr+=ut*(5*at),rr+=ht*(5*bt),rr+=Et*(5*Pt),rr+=St*(5*Lt),It=rr>>>13,rr&=8191,rr+=Mt*(5*Nt),rr+=kt*(5*Bt),rr+=Ct*(5*$t),rr+=Ot*(5*jt),rr+=zt*(5*Vt),It+=rr>>>13,rr&=8191;var ir=It;ir+=ct*Vt,ir+=ut*Ut,ir+=ht*(5*at),ir+=Et*(5*bt),ir+=St*(5*Pt),It=ir>>>13,ir&=8191,ir+=Mt*(5*Lt),ir+=kt*(5*Nt),ir+=Ct*(5*Bt),ir+=Ot*(5*$t),ir+=zt*(5*jt),It+=ir>>>13,ir&=8191;var nr=It;nr+=ct*jt,nr+=ut*Vt,nr+=ht*Ut,nr+=Et*(5*at),nr+=St*(5*bt),It=nr>>>13,nr&=8191,nr+=Mt*(5*Pt),nr+=kt*(5*Lt),nr+=Ct*(5*Nt),nr+=Ot*(5*Bt),nr+=zt*(5*$t),It+=nr>>>13,nr&=8191;var Gt=It;Gt+=ct*$t,Gt+=ut*jt,Gt+=ht*Vt,Gt+=Et*Ut,Gt+=St*(5*at),It=Gt>>>13,Gt&=8191,Gt+=Mt*(5*bt),Gt+=kt*(5*Pt),Gt+=Ct*(5*Lt),Gt+=Ot*(5*Nt),Gt+=zt*(5*Bt),It+=Gt>>>13,Gt&=8191;var qt=It;qt+=ct*Bt,qt+=ut*$t,qt+=ht*jt,qt+=Et*Vt,qt+=St*Ut,It=qt>>>13,qt&=8191,qt+=Mt*(5*at),qt+=kt*(5*bt),qt+=Ct*(5*Pt),qt+=Ot*(5*Lt),qt+=zt*(5*Nt),It+=qt>>>13,qt&=8191;var Jt=It;Jt+=ct*Nt,Jt+=ut*Bt,Jt+=ht*$t,Jt+=Et*jt,Jt+=St*Vt,It=Jt>>>13,Jt&=8191,Jt+=Mt*Ut,Jt+=kt*(5*at),Jt+=Ct*(5*bt),Jt+=Ot*(5*Pt),Jt+=zt*(5*Lt),It+=Jt>>>13,Jt&=8191;var Ft=It;Ft+=ct*Lt,Ft+=ut*Nt,Ft+=ht*Bt,Ft+=Et*$t,Ft+=St*jt,It=Ft>>>13,Ft&=8191,Ft+=Mt*Vt,Ft+=kt*Ut,Ft+=Ct*(5*at),Ft+=Ot*(5*bt),Ft+=zt*(5*Pt),It+=Ft>>>13,Ft&=8191;var Kt=It;Kt+=ct*Pt,Kt+=ut*Lt,Kt+=ht*Nt,Kt+=Et*Bt,Kt+=St*$t,It=Kt>>>13,Kt&=8191,Kt+=Mt*jt,Kt+=kt*Vt,Kt+=Ct*Ut,Kt+=Ot*(5*at),Kt+=zt*(5*bt),It+=Kt>>>13,Kt&=8191;var Qt=It;Qt+=ct*bt,Qt+=ut*Pt,Qt+=ht*Lt,Qt+=Et*Nt,Qt+=St*Bt,It=Qt>>>13,Qt&=8191,Qt+=Mt*$t,Qt+=kt*jt,Qt+=Ct*Vt,Qt+=Ot*Ut,Qt+=zt*(5*at),It+=Qt>>>13,Qt&=8191;var dr=It;dr+=ct*at,dr+=ut*bt,dr+=ht*Pt,dr+=Et*Lt,dr+=St*Nt,It=dr>>>13,dr&=8191,dr+=Mt*Bt,dr+=kt*$t,dr+=Ct*jt,dr+=Ot*Vt,dr+=zt*Ut,It+=dr>>>13,dr&=8191,It=(It<<2)+It|0,It=It+rr|0,rr=It&8191,It=It>>>13,ir+=It,ct=rr,ut=ir,ht=nr,Et=Gt,St=qt,Mt=Jt,kt=Ft,Ct=Kt,Ot=Qt,zt=dr,it+=16,ot-=16}this._h[0]=ct,this._h[1]=ut,this._h[2]=ht,this._h[3]=Et,this._h[4]=St,this._h[5]=Mt,this._h[6]=kt,this._h[7]=Ct,this._h[8]=Ot,this._h[9]=zt},rt.prototype.finish=function(nt,it){it===void 0&&(it=0);var ot=new Uint16Array(10),st,ct,ut,ht;if(this._leftover){for(ht=this._leftover,this._buffer[ht++]=1;ht<16;ht++)this._buffer[ht]=0;this._fin=1,this._blocks(this._buffer,0,16)}for(st=this._h[1]>>>13,this._h[1]&=8191,ht=2;ht<10;ht++)this._h[ht]+=st,st=this._h[ht]>>>13,this._h[ht]&=8191;for(this._h[0]+=st*5,st=this._h[0]>>>13,this._h[0]&=8191,this._h[1]+=st,st=this._h[1]>>>13,this._h[1]&=8191,this._h[2]+=st,ot[0]=this._h[0]+5,st=ot[0]>>>13,ot[0]&=8191,ht=1;ht<10;ht++)ot[ht]=this._h[ht]+st,st=ot[ht]>>>13,ot[ht]&=8191;for(ot[9]-=8192,ct=(st^1)-1,ht=0;ht<10;ht++)ot[ht]&=ct;for(ct=~ct,ht=0;ht<10;ht++)this._h[ht]=this._h[ht]&ct|ot[ht];for(this._h[0]=(this._h[0]|this._h[1]<<13)&65535,this._h[1]=(this._h[1]>>>3|this._h[2]<<10)&65535,this._h[2]=(this._h[2]>>>6|this._h[3]<<7)&65535,this._h[3]=(this._h[3]>>>9|this._h[4]<<4)&65535,this._h[4]=(this._h[4]>>>12|this._h[5]<<1|this._h[6]<<14)&65535,this._h[5]=(this._h[6]>>>2|this._h[7]<<11)&65535,this._h[6]=(this._h[7]>>>5|this._h[8]<<8)&65535,this._h[7]=(this._h[8]>>>8|this._h[9]<<5)&65535,ut=this._h[0]+this._pad[0],this._h[0]=ut&65535,ht=1;ht<8;ht++)ut=(this._h[ht]+this._pad[ht]|0)+(ut>>>16)|0,this._h[ht]=ut&65535;return nt[it+0]=this._h[0]>>>0,nt[it+1]=this._h[0]>>>8,nt[it+2]=this._h[1]>>>0,nt[it+3]=this._h[1]>>>8,nt[it+4]=this._h[2]>>>0,nt[it+5]=this._h[2]>>>8,nt[it+6]=this._h[3]>>>0,nt[it+7]=this._h[3]>>>8,nt[it+8]=this._h[4]>>>0,nt[it+9]=this._h[4]>>>8,nt[it+10]=this._h[5]>>>0,nt[it+11]=this._h[5]>>>8,nt[it+12]=this._h[6]>>>0,nt[it+13]=this._h[6]>>>8,nt[it+14]=this._h[7]>>>0,nt[it+15]=this._h[7]>>>8,this._finished=!0,this},rt.prototype.update=function(nt){var it=0,ot=nt.length,st;if(this._leftover){st=16-this._leftover,st>ot&&(st=ot);for(var ct=0;ct<st;ct++)this._buffer[this._leftover+ct]=nt[it+ct];if(ot-=st,it+=st,this._leftover+=st,this._leftover<16)return this;this._blocks(this._buffer,0,16),this._leftover=0}if(ot>=16&&(st=ot-ot%16,this._blocks(nt,it,st),it+=st,ot-=st),ot){for(var ct=0;ct<ot;ct++)this._buffer[this._leftover+ct]=nt[it+ct];this._leftover+=ot}return this},rt.prototype.digest=function(){if(this._finished)throw new Error("Poly1305 was finished");var nt=new Uint8Array(16);return this.finish(nt),nt},rt.prototype.clean=function(){return $.wipe(this._buffer),$.wipe(this._r),$.wipe(this._h),$.wipe(this._pad),this._leftover=0,this._fin=0,this._finished=!0,this},rt}();_.Poly1305=j;function et(rt,nt){var it=new j(rt);it.update(nt);var ot=it.digest();return it.clean(),ot}_.oneTimeAuth=et;function tt(rt,nt){return rt.length!==_.DIGEST_LENGTH||nt.length!==_.DIGEST_LENGTH?!1:a.equal(rt,nt)}_.equal=tt})(poly1305);Object.defineProperty(secretbox,"__esModule",{value:!0});secretbox.generateKey=secretbox.openSecretBox=secretbox.secretBox=void 0;const xsalsa20_1=xsalsa20,poly1305_1=poly1305,wipe_1$1=wipe$1,random_1=random;function secretBox(_,a,$){if(a.length!==24)throw new Error("secretBox nonce must be 24 bytes");const j=new Uint8Array(64),et=new Uint8Array(32);et.set(a),(0,xsalsa20_1.stream)(_,et,j,8);const tt=new Uint8Array(16+$.length);for(let nt=0;nt<32&&nt<$.length;nt++)tt[16+nt]=$[nt]^j[32+nt];$.length>32&&(0,xsalsa20_1.streamXOR)(_,et,$.subarray(32),tt.subarray(48),8);const rt=(0,poly1305_1.oneTimeAuth)(j.subarray(0,32),tt.subarray(16));for(let nt=0;nt<rt.length;nt++)tt[nt]=rt[nt];return(0,wipe_1$1.wipe)(rt),(0,wipe_1$1.wipe)(j),(0,wipe_1$1.wipe)(et),tt}secretbox.secretBox=secretBox;function openSecretBox(_,a,$){if(a.length!==24)throw new Error("secretBox nonce must be 24 bytes");if($.length<16)throw new Error("secretBox data must be at least 16 bytes");const j=new Uint8Array(64),et=new Uint8Array(32);et.set(a),(0,xsalsa20_1.stream)(_,et,j,8);const tt=(0,poly1305_1.oneTimeAuth)(j.subarray(0,32),$.subarray(16));if(!(0,poly1305_1.equal)(tt,$.subarray(0,16)))return null;const rt=$.subarray(16),nt=new Uint8Array(rt.length);for(let it=0;it<32&&it<rt.length;it++)nt[it]=rt[it]^j[32+it];return rt.length>32&&(0,xsalsa20_1.streamXOR)(_,et,rt.subarray(32),nt.subarray(32),8),(0,wipe_1$1.wipe)(tt),(0,wipe_1$1.wipe)(j),(0,wipe_1$1.wipe)(et),nt}secretbox.openSecretBox=openSecretBox;function generateKey(_){return(0,random_1.randomBytes)(32,_)}secretbox.generateKey=generateKey;(function(_){Object.defineProperty(_,"__esModule",{value:!0}),_.openBox=_.box=_.precomputeSharedKey=_.generateKeyPair=void 0;const a=x25519,$=xsalsa20,j=secretbox,et=wipe$1;var tt=x25519;Object.defineProperty(_,"generateKeyPair",{enumerable:!0,get:function(){return tt.generateKeyPair}});const rt=new Uint8Array(16);function nt(st,ct){const ut=(0,a.scalarMult)(ct,st);return(0,$.hsalsa)(ut,rt,ut),ut}_.precomputeSharedKey=nt;function it(st,ct,ut,ht){const Et=nt(st,ct),St=(0,j.secretBox)(Et,ut,ht);return(0,et.wipe)(Et),St}_.box=it;function ot(st,ct,ut,ht){const Et=nt(st,ct),St=(0,j.openSecretBox)(Et,ut,ht);return(0,et.wipe)(Et),St}_.openBox=ot})(box);(function(_){var a=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(j,et,tt,rt){rt===void 0&&(rt=tt);var nt=Object.getOwnPropertyDescriptor(et,tt);(!nt||("get"in nt?!et.__esModule:nt.writable||nt.configurable))&&(nt={enumerable:!0,get:function(){return et[tt]}}),Object.defineProperty(j,rt,nt)}:function(j,et,tt,rt){rt===void 0&&(rt=tt),j[rt]=et[tt]}),$=commonjsGlobal&&commonjsGlobal.__exportStar||function(j,et){for(var tt in j)tt!=="default"&&!Object.prototype.hasOwnProperty.call(et,tt)&&a(et,j,tt)};Object.defineProperty(_,"__esModule",{value:!0}),$(box,_),$(secretbox,_)})(nacl);var utf8={};Object.defineProperty(utf8,"__esModule",{value:!0});var INVALID_UTF16="utf8: invalid string",INVALID_UTF8="utf8: invalid source encoding";function encode$6(_){for(var a=new Uint8Array(encodedLength(_)),$=0,j=0;j<_.length;j++){var et=_.charCodeAt(j);et<128?a[$++]=et:et<2048?(a[$++]=192|et>>6,a[$++]=128|et&63):et<55296?(a[$++]=224|et>>12,a[$++]=128|et>>6&63,a[$++]=128|et&63):(j++,et=(et&1023)<<10,et|=_.charCodeAt(j)&1023,et+=65536,a[$++]=240|et>>18,a[$++]=128|et>>12&63,a[$++]=128|et>>6&63,a[$++]=128|et&63)}return a}var encode_1=utf8.encode=encode$6;function encodedLength(_){for(var a=0,$=0;$<_.length;$++){var j=_.charCodeAt($);if(j<128)a+=1;else if(j<2048)a+=2;else if(j<55296)a+=3;else if(j<=57343){if($>=_.length-1)throw new Error(INVALID_UTF16);$++,a+=4}else throw new Error(INVALID_UTF16)}return a}utf8.encodedLength=encodedLength;function decode$4(_){for(var a=[],$=0;$<_.length;$++){var j=_[$];if(j&128){var et=void 0;if(j<224){if($>=_.length)throw new Error(INVALID_UTF8);var tt=_[++$];if((tt&192)!==128)throw new Error(INVALID_UTF8);j=(j&31)<<6|tt&63,et=128}else if(j<240){if($>=_.length-1)throw new Error(INVALID_UTF8);var tt=_[++$],rt=_[++$];if((tt&192)!==128||(rt&192)!==128)throw new Error(INVALID_UTF8);j=(j&15)<<12|(tt&63)<<6|rt&63,et=2048}else if(j<248){if($>=_.length-2)throw new Error(INVALID_UTF8);var tt=_[++$],rt=_[++$],nt=_[++$];if((tt&192)!==128||(rt&192)!==128||(nt&192)!==128)throw new Error(INVALID_UTF8);j=(j&15)<<18|(tt&63)<<12|(rt&63)<<6|nt&63,et=65536}else throw new Error(INVALID_UTF8);if(j<et||j>=55296&&j<=57343)throw new Error(INVALID_UTF8);if(j>=65536){if(j>1114111)throw new Error(INVALID_UTF8);j-=65536,a.push(String.fromCharCode(55296|j>>10)),j=56320|j&1023}}a.push(String.fromCharCode(j))}return a.join("")}utf8.decode=decode$4;var blake2b$1={};(function(_){Object.defineProperty(_,"__esModule",{value:!0});var a=binary,$=wipe$1;_.BLOCK_SIZE=128,_.DIGEST_LENGTH=64,_.KEY_LENGTH=64,_.PERSONALIZATION_LENGTH=16,_.SALT_LENGTH=16,_.MAX_LEAF_SIZE=Math.pow(2,32)-1,_.MAX_FANOUT=255,_.MAX_MAX_DEPTH=255;var j=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),et=[[0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30],[28,20,8,16,18,30,26,12,2,24,0,4,22,14,10,6],[22,16,24,0,10,4,30,26,20,28,6,12,14,2,18,8],[14,18,6,2,26,24,22,28,4,12,10,20,8,0,30,16],[18,0,10,14,4,8,20,30,28,2,22,24,12,16,6,26],[4,24,12,20,0,22,16,6,8,26,14,10,30,28,2,18],[24,10,2,30,28,26,8,20,0,14,12,6,18,4,16,22],[26,22,14,28,24,2,6,18,10,0,30,8,16,12,4,20],[12,30,28,18,22,6,0,16,24,4,26,14,2,8,20,10],[20,4,16,8,14,12,2,10,30,22,18,28,6,24,26,0],[0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30],[28,20,8,16,18,30,26,12,2,24,0,4,22,14,10,6]],tt=function(){function nt(it,ot){if(it===void 0&&(it=64),this.digestLength=it,this.blockSize=_.BLOCK_SIZE,this._state=new Int32Array(j),this._buffer=new Uint8Array(_.BLOCK_SIZE),this._bufferLength=0,this._ctr=new Uint32Array(4),this._flag=new Uint32Array(4),this._lastNode=!1,this._finished=!1,this._vtmp=new Uint32Array(32),this._mtmp=new Uint32Array(32),it<1||it>_.DIGEST_LENGTH)throw new Error("blake2b: wrong digest length");ot&&this.validateConfig(ot);var st=0;ot&&ot.key&&(st=ot.key.length);var ct=1,ut=1;ot&&ot.tree&&(ct=ot.tree.fanout,ut=ot.tree.maxDepth),this._state[0]^=it|st<<8|ct<<16|ut<<24,ot&&ot.tree&&(this._state[1]^=ot.tree.leafSize,this._state[2]^=ot.tree.nodeOffsetLowBits,this._state[3]^=ot.tree.nodeOffsetHighBits,this._state[4]^=ot.tree.nodeDepth|ot.tree.innerDigestLength<<8,this._lastNode=ot.tree.lastNode),ot&&ot.salt&&(this._state[8]^=a.readUint32LE(ot.salt,0),this._state[9]^=a.readUint32LE(ot.salt,4),this._state[10]^=a.readUint32LE(ot.salt,8),this._state[11]^=a.readUint32LE(ot.salt,12)),ot&&ot.personalization&&(this._state[12]^=a.readUint32LE(ot.personalization,0),this._state[13]^=a.readUint32LE(ot.personalization,4),this._state[14]^=a.readUint32LE(ot.personalization,8),this._state[15]^=a.readUint32LE(ot.personalization,12)),this._initialState=new Uint32Array(this._state),ot&&ot.key&&st>0&&(this._paddedKey=new Uint8Array(_.BLOCK_SIZE),this._paddedKey.set(ot.key),this._buffer.set(this._paddedKey),this._bufferLength=_.BLOCK_SIZE)}return nt.prototype.reset=function(){return this._state.set(this._initialState),this._paddedKey?(this._buffer.set(this._paddedKey),this._bufferLength=_.BLOCK_SIZE):this._bufferLength=0,$.wipe(this._ctr),$.wipe(this._flag),this._finished=!1,this},nt.prototype.validateConfig=function(it){if(it.key&&it.key.length>_.KEY_LENGTH)throw new Error("blake2b: wrong key length");if(it.salt&&it.salt.length!==_.SALT_LENGTH)throw new Error("blake2b: wrong salt length");if(it.personalization&&it.personalization.length!==_.PERSONALIZATION_LENGTH)throw new Error("blake2b: wrong personalization length");if(it.tree){if(it.tree.fanout<0||it.tree.fanout>_.MAX_FANOUT)throw new Error("blake2b: wrong tree fanout");if(it.tree.maxDepth<0||it.tree.maxDepth>_.MAX_MAX_DEPTH)throw new Error("blake2b: wrong tree depth");if(it.tree.leafSize<0||it.tree.leafSize>_.MAX_LEAF_SIZE)throw new Error("blake2b: wrong leaf size");if(it.tree.innerDigestLength<0||it.tree.innerDigestLength>_.DIGEST_LENGTH)throw new Error("blake2b: wrong tree inner digest length")}},nt.prototype.update=function(it,ot){if(ot===void 0&&(ot=it.length),this._finished)throw new Error("blake2b: can't update because hash was finished.");var st=_.BLOCK_SIZE-this._bufferLength,ct=0;if(ot===0)return this;if(ot>st){for(var ut=0;ut<st;ut++)this._buffer[this._bufferLength+ut]=it[ct+ut];this._processBlock(_.BLOCK_SIZE),ct+=st,ot-=st,this._bufferLength=0}for(;ot>_.BLOCK_SIZE;){for(var ut=0;ut<_.BLOCK_SIZE;ut++)this._buffer[ut]=it[ct+ut];this._processBlock(_.BLOCK_SIZE),ct+=_.BLOCK_SIZE,ot-=_.BLOCK_SIZE,this._bufferLength=0}for(var ut=0;ut<ot;ut++)this._buffer[this._bufferLength+ut]=it[ct+ut];return this._bufferLength+=ot,this},nt.prototype.finish=function(it){if(!this._finished){for(var ot=this._bufferLength;ot<_.BLOCK_SIZE;ot++)this._buffer[ot]=0;this._flag[0]=4294967295,this._flag[1]=4294967295,this._lastNode&&(this._flag[2]=4294967295,this._flag[3]=4294967295),this._processBlock(this._bufferLength),this._finished=!0}for(var st=this._buffer.subarray(0,64),ot=0;ot<16;ot++)a.writeUint32LE(this._state[ot],st,ot*4);return it.set(st.subarray(0,it.length)),this},nt.prototype.digest=function(){var it=new Uint8Array(this.digestLength);return this.finish(it),it},nt.prototype.clean=function(){$.wipe(this._vtmp),$.wipe(this._mtmp),$.wipe(this._state),$.wipe(this._buffer),$.wipe(this._initialState),this._paddedKey&&$.wipe(this._paddedKey),this._bufferLength=0,$.wipe(this._ctr),$.wipe(this._flag),this._lastNode=!1,this._finished=!1},nt.prototype.saveState=function(){if(this._finished)throw new Error("blake2b: cannot save finished state");return{state:new Uint32Array(this._state),buffer:new Uint8Array(this._buffer),bufferLength:this._bufferLength,ctr:new Uint32Array(this._ctr),flag:new Uint32Array(this._flag),lastNode:this._lastNode,paddedKey:this._paddedKey?new Uint8Array(this._paddedKey):void 0,initialState:new Uint32Array(this._initialState)}},nt.prototype.restoreState=function(it){return this._state.set(it.state),this._buffer.set(it.buffer),this._bufferLength=it.bufferLength,this._ctr.set(it.ctr),this._flag.set(it.flag),this._lastNode=it.lastNode,this._paddedKey&&$.wipe(this._paddedKey),this._paddedKey=it.paddedKey?new Uint8Array(it.paddedKey):void 0,this._initialState.set(it.initialState),this},nt.prototype.cleanSavedState=function(it){$.wipe(it.state),$.wipe(it.buffer),$.wipe(it.initialState),it.paddedKey&&$.wipe(it.paddedKey),it.bufferLength=0,$.wipe(it.ctr),$.wipe(it.flag),it.lastNode=!1},nt.prototype._G=function(it,ot,st,ct,ut,ht,Et,St,Mt,kt,Ct,Ot,zt){var Ut=it[ot],Vt=it[ht],jt=it[st],$t=it[Et],Bt=it[ct],Nt=it[St],Lt=it[ut],Pt=it[Mt],bt=Ut&65535,at=Ut>>>16,dt=Vt&65535,vt=Vt>>>16;bt+=jt&65535,at+=jt>>>16,dt+=$t&65535,vt+=$t>>>16,at+=bt>>>16,dt+=at>>>16,vt+=dt>>>16,Vt=dt&65535|vt<<16,Ut=bt&65535|at<<16,bt=Ut&65535,at=Ut>>>16,dt=Vt&65535,vt=Vt>>>16,bt+=kt&65535,at+=kt>>>16,dt+=Ct&65535,vt+=Ct>>>16,at+=bt>>>16,dt+=at>>>16,vt+=dt>>>16,Vt=dt&65535|vt<<16,Ut=bt&65535|at<<16,Lt^=Ut,Pt^=Vt,bt=Pt,Pt=Lt,Lt=bt,bt=Bt&65535,at=Bt>>>16,dt=Nt&65535,vt=Nt>>>16,bt+=Lt&65535,at+=Lt>>>16,dt+=Pt&65535,vt+=Pt>>>16,at+=bt>>>16,dt+=at>>>16,vt+=dt>>>16,Nt=dt&65535|vt<<16,Bt=bt&65535|at<<16,jt^=Bt,$t^=Nt,bt=jt<<8|$t>>>24,jt=$t<<8|jt>>>24,$t=bt,bt=Ut&65535,at=Ut>>>16,dt=Vt&65535,vt=Vt>>>16,bt+=jt&65535,at+=jt>>>16,dt+=$t&65535,vt+=$t>>>16,at+=bt>>>16,dt+=at>>>16,vt+=dt>>>16,Vt=dt&65535|vt<<16,Ut=bt&65535|at<<16,bt=Ut&65535,at=Ut>>>16,dt=Vt&65535,vt=Vt>>>16,bt+=Ot&65535,at+=Ot>>>16,dt+=zt&65535,vt+=zt>>>16,at+=bt>>>16,dt+=at>>>16,vt+=dt>>>16,Vt=dt&65535|vt<<16,Ut=bt&65535|at<<16,Lt^=Ut,Pt^=Vt,bt=Lt<<16|Pt>>>16,Lt=Pt<<16|Lt>>>16,Pt=bt,bt=Bt&65535,at=Bt>>>16,dt=Nt&65535,vt=Nt>>>16,bt+=Lt&65535,at+=Lt>>>16,dt+=Pt&65535,vt+=Pt>>>16,at+=bt>>>16,dt+=at>>>16,vt+=dt>>>16,Nt=dt&65535|vt<<16,Bt=bt&65535|at<<16,jt^=Bt,$t^=Nt,bt=$t<<1|jt>>>31,jt=jt<<1|$t>>>31,$t=bt,it[ot]=Ut,it[ht]=Vt,it[st]=jt,it[Et]=$t,it[ct]=Bt,it[St]=Nt,it[ut]=Lt,it[Mt]=Pt},nt.prototype._incrementCounter=function(it){for(var ot=0;ot<3;ot++){var st=this._ctr[ot]+it;if(this._ctr[ot]=st>>>0,this._ctr[ot]===st)return;it=1}},nt.prototype._processBlock=function(it){this._incrementCounter(it);var ot=this._vtmp;ot.set(this._state),ot.set(j,16),ot[12*2+0]^=this._ctr[0],ot[12*2+1]^=this._ctr[1],ot[13*2+0]^=this._ctr[2],ot[13*2+1]^=this._ctr[3],ot[14*2+0]^=this._flag[0],ot[14*2+1]^=this._flag[1],ot[15*2+0]^=this._flag[2],ot[15*2+1]^=this._flag[3];for(var st=this._mtmp,ct=0;ct<32;ct++)st[ct]=a.readUint32LE(this._buffer,ct*4);for(var ut=0;ut<12;ut++)this._G(ot,0,8,16,24,1,9,17,25,st[et[ut][0]],st[et[ut][0]+1],st[et[ut][1]],st[et[ut][1]+1]),this._G(ot,2,10,18,26,3,11,19,27,st[et[ut][2]],st[et[ut][2]+1],st[et[ut][3]],st[et[ut][3]+1]),this._G(ot,4,12,20,28,5,13,21,29,st[et[ut][4]],st[et[ut][4]+1],st[et[ut][5]],st[et[ut][5]+1]),this._G(ot,6,14,22,30,7,15,23,31,st[et[ut][6]],st[et[ut][6]+1],st[et[ut][7]],st[et[ut][7]+1]),this._G(ot,0,10,20,30,1,11,21,31,st[et[ut][8]],st[et[ut][8]+1],st[et[ut][9]],st[et[ut][9]+1]),this._G(ot,2,12,22,24,3,13,23,25,st[et[ut][10]],st[et[ut][10]+1],st[et[ut][11]],st[et[ut][11]+1]),this._G(ot,4,14,16,26,5,15,17,27,st[et[ut][12]],st[et[ut][12]+1],st[et[ut][13]],st[et[ut][13]+1]),this._G(ot,6,8,18,28,7,9,19,29,st[et[ut][14]],st[et[ut][14]+1],st[et[ut][15]],st[et[ut][15]+1]);for(var ct=0;ct<16;ct++)this._state[ct]^=ot[ct]^ot[ct+16]},nt}();_.BLAKE2b=tt;function rt(nt,it,ot){it===void 0&&(it=_.DIGEST_LENGTH);var st=new tt(it,ot);st.update(nt);var ct=st.digest();return st.clean(),ct}_.hash=rt})(blake2b$1);var ed25519={},sha512$2={};(function(_){Object.defineProperty(_,"__esModule",{value:!0});var a=binary,$=wipe$1;_.DIGEST_LENGTH=64,_.BLOCK_SIZE=128;var j=function(){function nt(){this.digestLength=_.DIGEST_LENGTH,this.blockSize=_.BLOCK_SIZE,this._stateHi=new Int32Array(8),this._stateLo=new Int32Array(8),this._tempHi=new Int32Array(16),this._tempLo=new Int32Array(16),this._buffer=new Uint8Array(256),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return nt.prototype._initState=function(){this._stateHi[0]=1779033703,this._stateHi[1]=3144134277,this._stateHi[2]=1013904242,this._stateHi[3]=2773480762,this._stateHi[4]=1359893119,this._stateHi[5]=2600822924,this._stateHi[6]=528734635,this._stateHi[7]=1541459225,this._stateLo[0]=4089235720,this._stateLo[1]=2227873595,this._stateLo[2]=4271175723,this._stateLo[3]=1595750129,this._stateLo[4]=2917565137,this._stateLo[5]=725511199,this._stateLo[6]=4215389547,this._stateLo[7]=327033209},nt.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},nt.prototype.clean=function(){$.wipe(this._buffer),$.wipe(this._tempHi),$.wipe(this._tempLo),this.reset()},nt.prototype.update=function(it,ot){if(ot===void 0&&(ot=it.length),this._finished)throw new Error("SHA512: can't update because hash was finished.");var st=0;if(this._bytesHashed+=ot,this._bufferLength>0){for(;this._bufferLength<_.BLOCK_SIZE&&ot>0;)this._buffer[this._bufferLength++]=it[st++],ot--;this._bufferLength===this.blockSize&&(tt(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,this.blockSize),this._bufferLength=0)}for(ot>=this.blockSize&&(st=tt(this._tempHi,this._tempLo,this._stateHi,this._stateLo,it,st,ot),ot%=this.blockSize);ot>0;)this._buffer[this._bufferLength++]=it[st++],ot--;return this},nt.prototype.finish=function(it){if(!this._finished){var ot=this._bytesHashed,st=this._bufferLength,ct=ot/536870912|0,ut=ot<<3,ht=ot%128<112?128:256;this._buffer[st]=128;for(var Et=st+1;Et<ht-8;Et++)this._buffer[Et]=0;a.writeUint32BE(ct,this._buffer,ht-8),a.writeUint32BE(ut,this._buffer,ht-4),tt(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,ht),this._finished=!0}for(var Et=0;Et<this.digestLength/8;Et++)a.writeUint32BE(this._stateHi[Et],it,Et*8),a.writeUint32BE(this._stateLo[Et],it,Et*8+4);return this},nt.prototype.digest=function(){var it=new Uint8Array(this.digestLength);return this.finish(it),it},nt.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{stateHi:new Int32Array(this._stateHi),stateLo:new Int32Array(this._stateLo),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},nt.prototype.restoreState=function(it){return this._stateHi.set(it.stateHi),this._stateLo.set(it.stateLo),this._bufferLength=it.bufferLength,it.buffer&&this._buffer.set(it.buffer),this._bytesHashed=it.bytesHashed,this._finished=!1,this},nt.prototype.cleanSavedState=function(it){$.wipe(it.stateHi),$.wipe(it.stateLo),it.buffer&&$.wipe(it.buffer),it.bufferLength=0,it.bytesHashed=0},nt}();_.SHA512=j;var et=new Int32Array([1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591]);function tt(nt,it,ot,st,ct,ut,ht){for(var Et=ot[0],St=ot[1],Mt=ot[2],kt=ot[3],Ct=ot[4],Ot=ot[5],zt=ot[6],Ut=ot[7],Vt=st[0],jt=st[1],$t=st[2],Bt=st[3],Nt=st[4],Lt=st[5],Pt=st[6],bt=st[7],at,dt,vt,xt,wt,_t,At,Tt;ht>=128;){for(var yt=0;yt<16;yt++){var It=8*yt+ut;nt[yt]=a.readUint32BE(ct,It),it[yt]=a.readUint32BE(ct,It+4)}for(var yt=0;yt<80;yt++){var rr=Et,ir=St,nr=Mt,Gt=kt,qt=Ct,Jt=Ot,Ft=zt,Kt=Ut,Qt=Vt,dr=jt,xr=$t,pr=Bt,Ir=Nt,Cr=Lt,lr=Pt,fr=bt;if(at=Ut,dt=bt,wt=dt&65535,_t=dt>>>16,At=at&65535,Tt=at>>>16,at=(Ct>>>14|Nt<<18)^(Ct>>>18|Nt<<14)^(Nt>>>9|Ct<<23),dt=(Nt>>>14|Ct<<18)^(Nt>>>18|Ct<<14)^(Ct>>>9|Nt<<23),wt+=dt&65535,_t+=dt>>>16,At+=at&65535,Tt+=at>>>16,at=Ct&Ot^~Ct&zt,dt=Nt&Lt^~Nt&Pt,wt+=dt&65535,_t+=dt>>>16,At+=at&65535,Tt+=at>>>16,at=et[yt*2],dt=et[yt*2+1],wt+=dt&65535,_t+=dt>>>16,At+=at&65535,Tt+=at>>>16,at=nt[yt%16],dt=it[yt%16],wt+=dt&65535,_t+=dt>>>16,At+=at&65535,Tt+=at>>>16,_t+=wt>>>16,At+=_t>>>16,Tt+=At>>>16,vt=At&65535|Tt<<16,xt=wt&65535|_t<<16,at=vt,dt=xt,wt=dt&65535,_t=dt>>>16,At=at&65535,Tt=at>>>16,at=(Et>>>28|Vt<<4)^(Vt>>>2|Et<<30)^(Vt>>>7|Et<<25),dt=(Vt>>>28|Et<<4)^(Et>>>2|Vt<<30)^(Et>>>7|Vt<<25),wt+=dt&65535,_t+=dt>>>16,At+=at&65535,Tt+=at>>>16,at=Et&St^Et&Mt^St&Mt,dt=Vt&jt^Vt&$t^jt&$t,wt+=dt&65535,_t+=dt>>>16,At+=at&65535,Tt+=at>>>16,_t+=wt>>>16,At+=_t>>>16,Tt+=At>>>16,Kt=At&65535|Tt<<16,fr=wt&65535|_t<<16,at=Gt,dt=pr,wt=dt&65535,_t=dt>>>16,At=at&65535,Tt=at>>>16,at=vt,dt=xt,wt+=dt&65535,_t+=dt>>>16,At+=at&65535,Tt+=at>>>16,_t+=wt>>>16,At+=_t>>>16,Tt+=At>>>16,Gt=At&65535|Tt<<16,pr=wt&65535|_t<<16,St=rr,Mt=ir,kt=nr,Ct=Gt,Ot=qt,zt=Jt,Ut=Ft,Et=Kt,jt=Qt,$t=dr,Bt=xr,Nt=pr,Lt=Ir,Pt=Cr,bt=lr,Vt=fr,yt%16===15)for(var It=0;It<16;It++)at=nt[It],dt=it[It],wt=dt&65535,_t=dt>>>16,At=at&65535,Tt=at>>>16,at=nt[(It+9)%16],dt=it[(It+9)%16],wt+=dt&65535,_t+=dt>>>16,At+=at&65535,Tt+=at>>>16,vt=nt[(It+1)%16],xt=it[(It+1)%16],at=(vt>>>1|xt<<31)^(vt>>>8|xt<<24)^vt>>>7,dt=(xt>>>1|vt<<31)^(xt>>>8|vt<<24)^(xt>>>7|vt<<25),wt+=dt&65535,_t+=dt>>>16,At+=at&65535,Tt+=at>>>16,vt=nt[(It+14)%16],xt=it[(It+14)%16],at=(vt>>>19|xt<<13)^(xt>>>29|vt<<3)^vt>>>6,dt=(xt>>>19|vt<<13)^(vt>>>29|xt<<3)^(xt>>>6|vt<<26),wt+=dt&65535,_t+=dt>>>16,At+=at&65535,Tt+=at>>>16,_t+=wt>>>16,At+=_t>>>16,Tt+=At>>>16,nt[It]=At&65535|Tt<<16,it[It]=wt&65535|_t<<16}at=Et,dt=Vt,wt=dt&65535,_t=dt>>>16,At=at&65535,Tt=at>>>16,at=ot[0],dt=st[0],wt+=dt&65535,_t+=dt>>>16,At+=at&65535,Tt+=at>>>16,_t+=wt>>>16,At+=_t>>>16,Tt+=At>>>16,ot[0]=Et=At&65535|Tt<<16,st[0]=Vt=wt&65535|_t<<16,at=St,dt=jt,wt=dt&65535,_t=dt>>>16,At=at&65535,Tt=at>>>16,at=ot[1],dt=st[1],wt+=dt&65535,_t+=dt>>>16,At+=at&65535,Tt+=at>>>16,_t+=wt>>>16,At+=_t>>>16,Tt+=At>>>16,ot[1]=St=At&65535|Tt<<16,st[1]=jt=wt&65535|_t<<16,at=Mt,dt=$t,wt=dt&65535,_t=dt>>>16,At=at&65535,Tt=at>>>16,at=ot[2],dt=st[2],wt+=dt&65535,_t+=dt>>>16,At+=at&65535,Tt+=at>>>16,_t+=wt>>>16,At+=_t>>>16,Tt+=At>>>16,ot[2]=Mt=At&65535|Tt<<16,st[2]=$t=wt&65535|_t<<16,at=kt,dt=Bt,wt=dt&65535,_t=dt>>>16,At=at&65535,Tt=at>>>16,at=ot[3],dt=st[3],wt+=dt&65535,_t+=dt>>>16,At+=at&65535,Tt+=at>>>16,_t+=wt>>>16,At+=_t>>>16,Tt+=At>>>16,ot[3]=kt=At&65535|Tt<<16,st[3]=Bt=wt&65535|_t<<16,at=Ct,dt=Nt,wt=dt&65535,_t=dt>>>16,At=at&65535,Tt=at>>>16,at=ot[4],dt=st[4],wt+=dt&65535,_t+=dt>>>16,At+=at&65535,Tt+=at>>>16,_t+=wt>>>16,At+=_t>>>16,Tt+=At>>>16,ot[4]=Ct=At&65535|Tt<<16,st[4]=Nt=wt&65535|_t<<16,at=Ot,dt=Lt,wt=dt&65535,_t=dt>>>16,At=at&65535,Tt=at>>>16,at=ot[5],dt=st[5],wt+=dt&65535,_t+=dt>>>16,At+=at&65535,Tt+=at>>>16,_t+=wt>>>16,At+=_t>>>16,Tt+=At>>>16,ot[5]=Ot=At&65535|Tt<<16,st[5]=Lt=wt&65535|_t<<16,at=zt,dt=Pt,wt=dt&65535,_t=dt>>>16,At=at&65535,Tt=at>>>16,at=ot[6],dt=st[6],wt+=dt&65535,_t+=dt>>>16,At+=at&65535,Tt+=at>>>16,_t+=wt>>>16,At+=_t>>>16,Tt+=At>>>16,ot[6]=zt=At&65535|Tt<<16,st[6]=Pt=wt&65535|_t<<16,at=Ut,dt=bt,wt=dt&65535,_t=dt>>>16,At=at&65535,Tt=at>>>16,at=ot[7],dt=st[7],wt+=dt&65535,_t+=dt>>>16,At+=at&65535,Tt+=at>>>16,_t+=wt>>>16,At+=_t>>>16,Tt+=At>>>16,ot[7]=Ut=At&65535|Tt<<16,st[7]=bt=wt&65535|_t<<16,ut+=128,ht-=128}return ut}function rt(nt){var it=new j;it.update(nt);var ot=it.digest();return it.clean(),ot}_.hash=rt})(sha512$2);(function(_){Object.defineProperty(_,"__esModule",{value:!0}),_.convertSecretKeyToX25519=_.convertPublicKeyToX25519=_.verify=_.sign=_.extractPublicKeyFromSecretKey=_.generateKeyPair=_.generateKeyPairFromSeed=_.SEED_LENGTH=_.SECRET_KEY_LENGTH=_.PUBLIC_KEY_LENGTH=_.SIGNATURE_LENGTH=void 0;const a=random,$=sha512$2,j=wipe$1;_.SIGNATURE_LENGTH=64,_.PUBLIC_KEY_LENGTH=32,_.SECRET_KEY_LENGTH=64,_.SEED_LENGTH=32;function et(Gt){const qt=new Float64Array(16);if(Gt)for(let Jt=0;Jt<Gt.length;Jt++)qt[Jt]=Gt[Jt];return qt}const tt=new Uint8Array(32);tt[0]=9;const rt=et(),nt=et([1]),it=et([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),ot=et([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),st=et([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),ct=et([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),ut=et([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function ht(Gt,qt){for(let Jt=0;Jt<16;Jt++)Gt[Jt]=qt[Jt]|0}function Et(Gt){let qt=1;for(let Jt=0;Jt<16;Jt++){let Ft=Gt[Jt]+qt+65535;qt=Math.floor(Ft/65536),Gt[Jt]=Ft-qt*65536}Gt[0]+=qt-1+37*(qt-1)}function St(Gt,qt,Jt){const Ft=~(Jt-1);for(let Kt=0;Kt<16;Kt++){const Qt=Ft&(Gt[Kt]^qt[Kt]);Gt[Kt]^=Qt,qt[Kt]^=Qt}}function Mt(Gt,qt){const Jt=et(),Ft=et();for(let Kt=0;Kt<16;Kt++)Ft[Kt]=qt[Kt];Et(Ft),Et(Ft),Et(Ft);for(let Kt=0;Kt<2;Kt++){Jt[0]=Ft[0]-65517;for(let dr=1;dr<15;dr++)Jt[dr]=Ft[dr]-65535-(Jt[dr-1]>>16&1),Jt[dr-1]&=65535;Jt[15]=Ft[15]-32767-(Jt[14]>>16&1);const Qt=Jt[15]>>16&1;Jt[14]&=65535,St(Ft,Jt,1-Qt)}for(let Kt=0;Kt<16;Kt++)Gt[2*Kt]=Ft[Kt]&255,Gt[2*Kt+1]=Ft[Kt]>>8}function kt(Gt,qt){let Jt=0;for(let Ft=0;Ft<32;Ft++)Jt|=Gt[Ft]^qt[Ft];return(1&Jt-1>>>8)-1}function Ct(Gt,qt){const Jt=new Uint8Array(32),Ft=new Uint8Array(32);return Mt(Jt,Gt),Mt(Ft,qt),kt(Jt,Ft)}function Ot(Gt){const qt=new Uint8Array(32);return Mt(qt,Gt),qt[0]&1}function zt(Gt,qt){for(let Jt=0;Jt<16;Jt++)Gt[Jt]=qt[2*Jt]+(qt[2*Jt+1]<<8);Gt[15]&=32767}function Ut(Gt,qt,Jt){for(let Ft=0;Ft<16;Ft++)Gt[Ft]=qt[Ft]+Jt[Ft]}function Vt(Gt,qt,Jt){for(let Ft=0;Ft<16;Ft++)Gt[Ft]=qt[Ft]-Jt[Ft]}function jt(Gt,qt,Jt){let Ft,Kt,Qt=0,dr=0,xr=0,pr=0,Ir=0,Cr=0,lr=0,fr=0,Er=0,Ar=0,kr=0,Sr=0,$r=0,jr=0,Nr=0,or=0,Xt=0,er=0,Zt=0,Ht=0,Wt=0,ar=0,br=0,wr=0,Rr=0,Qr=0,Ur=0,Hr=0,_n=0,Wr=0,an=0,Sn=Jt[0],cn=Jt[1],Xr=Jt[2],Cn=Jt[3],ln=Jt[4],Yr=Jt[5],En=Jt[6],fn=Jt[7],Jr=Jt[8],$n=Jt[9],un=Jt[10],en=Jt[11],An=Jt[12],sn=Jt[13],tn=Jt[14],kn=Jt[15];Ft=qt[0],Qt+=Ft*Sn,dr+=Ft*cn,xr+=Ft*Xr,pr+=Ft*Cn,Ir+=Ft*ln,Cr+=Ft*Yr,lr+=Ft*En,fr+=Ft*fn,Er+=Ft*Jr,Ar+=Ft*$n,kr+=Ft*un,Sr+=Ft*en,$r+=Ft*An,jr+=Ft*sn,Nr+=Ft*tn,or+=Ft*kn,Ft=qt[1],dr+=Ft*Sn,xr+=Ft*cn,pr+=Ft*Xr,Ir+=Ft*Cn,Cr+=Ft*ln,lr+=Ft*Yr,fr+=Ft*En,Er+=Ft*fn,Ar+=Ft*Jr,kr+=Ft*$n,Sr+=Ft*un,$r+=Ft*en,jr+=Ft*An,Nr+=Ft*sn,or+=Ft*tn,Xt+=Ft*kn,Ft=qt[2],xr+=Ft*Sn,pr+=Ft*cn,Ir+=Ft*Xr,Cr+=Ft*Cn,lr+=Ft*ln,fr+=Ft*Yr,Er+=Ft*En,Ar+=Ft*fn,kr+=Ft*Jr,Sr+=Ft*$n,$r+=Ft*un,jr+=Ft*en,Nr+=Ft*An,or+=Ft*sn,Xt+=Ft*tn,er+=Ft*kn,Ft=qt[3],pr+=Ft*Sn,Ir+=Ft*cn,Cr+=Ft*Xr,lr+=Ft*Cn,fr+=Ft*ln,Er+=Ft*Yr,Ar+=Ft*En,kr+=Ft*fn,Sr+=Ft*Jr,$r+=Ft*$n,jr+=Ft*un,Nr+=Ft*en,or+=Ft*An,Xt+=Ft*sn,er+=Ft*tn,Zt+=Ft*kn,Ft=qt[4],Ir+=Ft*Sn,Cr+=Ft*cn,lr+=Ft*Xr,fr+=Ft*Cn,Er+=Ft*ln,Ar+=Ft*Yr,kr+=Ft*En,Sr+=Ft*fn,$r+=Ft*Jr,jr+=Ft*$n,Nr+=Ft*un,or+=Ft*en,Xt+=Ft*An,er+=Ft*sn,Zt+=Ft*tn,Ht+=Ft*kn,Ft=qt[5],Cr+=Ft*Sn,lr+=Ft*cn,fr+=Ft*Xr,Er+=Ft*Cn,Ar+=Ft*ln,kr+=Ft*Yr,Sr+=Ft*En,$r+=Ft*fn,jr+=Ft*Jr,Nr+=Ft*$n,or+=Ft*un,Xt+=Ft*en,er+=Ft*An,Zt+=Ft*sn,Ht+=Ft*tn,Wt+=Ft*kn,Ft=qt[6],lr+=Ft*Sn,fr+=Ft*cn,Er+=Ft*Xr,Ar+=Ft*Cn,kr+=Ft*ln,Sr+=Ft*Yr,$r+=Ft*En,jr+=Ft*fn,Nr+=Ft*Jr,or+=Ft*$n,Xt+=Ft*un,er+=Ft*en,Zt+=Ft*An,Ht+=Ft*sn,Wt+=Ft*tn,ar+=Ft*kn,Ft=qt[7],fr+=Ft*Sn,Er+=Ft*cn,Ar+=Ft*Xr,kr+=Ft*Cn,Sr+=Ft*ln,$r+=Ft*Yr,jr+=Ft*En,Nr+=Ft*fn,or+=Ft*Jr,Xt+=Ft*$n,er+=Ft*un,Zt+=Ft*en,Ht+=Ft*An,Wt+=Ft*sn,ar+=Ft*tn,br+=Ft*kn,Ft=qt[8],Er+=Ft*Sn,Ar+=Ft*cn,kr+=Ft*Xr,Sr+=Ft*Cn,$r+=Ft*ln,jr+=Ft*Yr,Nr+=Ft*En,or+=Ft*fn,Xt+=Ft*Jr,er+=Ft*$n,Zt+=Ft*un,Ht+=Ft*en,Wt+=Ft*An,ar+=Ft*sn,br+=Ft*tn,wr+=Ft*kn,Ft=qt[9],Ar+=Ft*Sn,kr+=Ft*cn,Sr+=Ft*Xr,$r+=Ft*Cn,jr+=Ft*ln,Nr+=Ft*Yr,or+=Ft*En,Xt+=Ft*fn,er+=Ft*Jr,Zt+=Ft*$n,Ht+=Ft*un,Wt+=Ft*en,ar+=Ft*An,br+=Ft*sn,wr+=Ft*tn,Rr+=Ft*kn,Ft=qt[10],kr+=Ft*Sn,Sr+=Ft*cn,$r+=Ft*Xr,jr+=Ft*Cn,Nr+=Ft*ln,or+=Ft*Yr,Xt+=Ft*En,er+=Ft*fn,Zt+=Ft*Jr,Ht+=Ft*$n,Wt+=Ft*un,ar+=Ft*en,br+=Ft*An,wr+=Ft*sn,Rr+=Ft*tn,Qr+=Ft*kn,Ft=qt[11],Sr+=Ft*Sn,$r+=Ft*cn,jr+=Ft*Xr,Nr+=Ft*Cn,or+=Ft*ln,Xt+=Ft*Yr,er+=Ft*En,Zt+=Ft*fn,Ht+=Ft*Jr,Wt+=Ft*$n,ar+=Ft*un,br+=Ft*en,wr+=Ft*An,Rr+=Ft*sn,Qr+=Ft*tn,Ur+=Ft*kn,Ft=qt[12],$r+=Ft*Sn,jr+=Ft*cn,Nr+=Ft*Xr,or+=Ft*Cn,Xt+=Ft*ln,er+=Ft*Yr,Zt+=Ft*En,Ht+=Ft*fn,Wt+=Ft*Jr,ar+=Ft*$n,br+=Ft*un,wr+=Ft*en,Rr+=Ft*An,Qr+=Ft*sn,Ur+=Ft*tn,Hr+=Ft*kn,Ft=qt[13],jr+=Ft*Sn,Nr+=Ft*cn,or+=Ft*Xr,Xt+=Ft*Cn,er+=Ft*ln,Zt+=Ft*Yr,Ht+=Ft*En,Wt+=Ft*fn,ar+=Ft*Jr,br+=Ft*$n,wr+=Ft*un,Rr+=Ft*en,Qr+=Ft*An,Ur+=Ft*sn,Hr+=Ft*tn,_n+=Ft*kn,Ft=qt[14],Nr+=Ft*Sn,or+=Ft*cn,Xt+=Ft*Xr,er+=Ft*Cn,Zt+=Ft*ln,Ht+=Ft*Yr,Wt+=Ft*En,ar+=Ft*fn,br+=Ft*Jr,wr+=Ft*$n,Rr+=Ft*un,Qr+=Ft*en,Ur+=Ft*An,Hr+=Ft*sn,_n+=Ft*tn,Wr+=Ft*kn,Ft=qt[15],or+=Ft*Sn,Xt+=Ft*cn,er+=Ft*Xr,Zt+=Ft*Cn,Ht+=Ft*ln,Wt+=Ft*Yr,ar+=Ft*En,br+=Ft*fn,wr+=Ft*Jr,Rr+=Ft*$n,Qr+=Ft*un,Ur+=Ft*en,Hr+=Ft*An,_n+=Ft*sn,Wr+=Ft*tn,an+=Ft*kn,Qt+=38*Xt,dr+=38*er,xr+=38*Zt,pr+=38*Ht,Ir+=38*Wt,Cr+=38*ar,lr+=38*br,fr+=38*wr,Er+=38*Rr,Ar+=38*Qr,kr+=38*Ur,Sr+=38*Hr,$r+=38*_n,jr+=38*Wr,Nr+=38*an,Kt=1,Ft=Qt+Kt+65535,Kt=Math.floor(Ft/65536),Qt=Ft-Kt*65536,Ft=dr+Kt+65535,Kt=Math.floor(Ft/65536),dr=Ft-Kt*65536,Ft=xr+Kt+65535,Kt=Math.floor(Ft/65536),xr=Ft-Kt*65536,Ft=pr+Kt+65535,Kt=Math.floor(Ft/65536),pr=Ft-Kt*65536,Ft=Ir+Kt+65535,Kt=Math.floor(Ft/65536),Ir=Ft-Kt*65536,Ft=Cr+Kt+65535,Kt=Math.floor(Ft/65536),Cr=Ft-Kt*65536,Ft=lr+Kt+65535,Kt=Math.floor(Ft/65536),lr=Ft-Kt*65536,Ft=fr+Kt+65535,Kt=Math.floor(Ft/65536),fr=Ft-Kt*65536,Ft=Er+Kt+65535,Kt=Math.floor(Ft/65536),Er=Ft-Kt*65536,Ft=Ar+Kt+65535,Kt=Math.floor(Ft/65536),Ar=Ft-Kt*65536,Ft=kr+Kt+65535,Kt=Math.floor(Ft/65536),kr=Ft-Kt*65536,Ft=Sr+Kt+65535,Kt=Math.floor(Ft/65536),Sr=Ft-Kt*65536,Ft=$r+Kt+65535,Kt=Math.floor(Ft/65536),$r=Ft-Kt*65536,Ft=jr+Kt+65535,Kt=Math.floor(Ft/65536),jr=Ft-Kt*65536,Ft=Nr+Kt+65535,Kt=Math.floor(Ft/65536),Nr=Ft-Kt*65536,Ft=or+Kt+65535,Kt=Math.floor(Ft/65536),or=Ft-Kt*65536,Qt+=Kt-1+37*(Kt-1),Kt=1,Ft=Qt+Kt+65535,Kt=Math.floor(Ft/65536),Qt=Ft-Kt*65536,Ft=dr+Kt+65535,Kt=Math.floor(Ft/65536),dr=Ft-Kt*65536,Ft=xr+Kt+65535,Kt=Math.floor(Ft/65536),xr=Ft-Kt*65536,Ft=pr+Kt+65535,Kt=Math.floor(Ft/65536),pr=Ft-Kt*65536,Ft=Ir+Kt+65535,Kt=Math.floor(Ft/65536),Ir=Ft-Kt*65536,Ft=Cr+Kt+65535,Kt=Math.floor(Ft/65536),Cr=Ft-Kt*65536,Ft=lr+Kt+65535,Kt=Math.floor(Ft/65536),lr=Ft-Kt*65536,Ft=fr+Kt+65535,Kt=Math.floor(Ft/65536),fr=Ft-Kt*65536,Ft=Er+Kt+65535,Kt=Math.floor(Ft/65536),Er=Ft-Kt*65536,Ft=Ar+Kt+65535,Kt=Math.floor(Ft/65536),Ar=Ft-Kt*65536,Ft=kr+Kt+65535,Kt=Math.floor(Ft/65536),kr=Ft-Kt*65536,Ft=Sr+Kt+65535,Kt=Math.floor(Ft/65536),Sr=Ft-Kt*65536,Ft=$r+Kt+65535,Kt=Math.floor(Ft/65536),$r=Ft-Kt*65536,Ft=jr+Kt+65535,Kt=Math.floor(Ft/65536),jr=Ft-Kt*65536,Ft=Nr+Kt+65535,Kt=Math.floor(Ft/65536),Nr=Ft-Kt*65536,Ft=or+Kt+65535,Kt=Math.floor(Ft/65536),or=Ft-Kt*65536,Qt+=Kt-1+37*(Kt-1),Gt[0]=Qt,Gt[1]=dr,Gt[2]=xr,Gt[3]=pr,Gt[4]=Ir,Gt[5]=Cr,Gt[6]=lr,Gt[7]=fr,Gt[8]=Er,Gt[9]=Ar,Gt[10]=kr,Gt[11]=Sr,Gt[12]=$r,Gt[13]=jr,Gt[14]=Nr,Gt[15]=or}function $t(Gt,qt){jt(Gt,qt,qt)}function Bt(Gt,qt){const Jt=et();let Ft;for(Ft=0;Ft<16;Ft++)Jt[Ft]=qt[Ft];for(Ft=253;Ft>=0;Ft--)$t(Jt,Jt),Ft!==2&&Ft!==4&&jt(Jt,Jt,qt);for(Ft=0;Ft<16;Ft++)Gt[Ft]=Jt[Ft]}function Nt(Gt,qt){const Jt=et();let Ft;for(Ft=0;Ft<16;Ft++)Jt[Ft]=qt[Ft];for(Ft=250;Ft>=0;Ft--)$t(Jt,Jt),Ft!==1&&jt(Jt,Jt,qt);for(Ft=0;Ft<16;Ft++)Gt[Ft]=Jt[Ft]}function Lt(Gt,qt){const Jt=et(),Ft=et(),Kt=et(),Qt=et(),dr=et(),xr=et(),pr=et(),Ir=et(),Cr=et();Vt(Jt,Gt[1],Gt[0]),Vt(Cr,qt[1],qt[0]),jt(Jt,Jt,Cr),Ut(Ft,Gt[0],Gt[1]),Ut(Cr,qt[0],qt[1]),jt(Ft,Ft,Cr),jt(Kt,Gt[3],qt[3]),jt(Kt,Kt,ot),jt(Qt,Gt[2],qt[2]),Ut(Qt,Qt,Qt),Vt(dr,Ft,Jt),Vt(xr,Qt,Kt),Ut(pr,Qt,Kt),Ut(Ir,Ft,Jt),jt(Gt[0],dr,xr),jt(Gt[1],Ir,pr),jt(Gt[2],pr,xr),jt(Gt[3],dr,Ir)}function Pt(Gt,qt,Jt){for(let Ft=0;Ft<4;Ft++)St(Gt[Ft],qt[Ft],Jt)}function bt(Gt,qt){const Jt=et(),Ft=et(),Kt=et();Bt(Kt,qt[2]),jt(Jt,qt[0],Kt),jt(Ft,qt[1],Kt),Mt(Gt,Ft),Gt[31]^=Ot(Jt)<<7}function at(Gt,qt,Jt){ht(Gt[0],rt),ht(Gt[1],nt),ht(Gt[2],nt),ht(Gt[3],rt);for(let Ft=255;Ft>=0;--Ft){const Kt=Jt[Ft/8|0]>>(Ft&7)&1;Pt(Gt,qt,Kt),Lt(qt,Gt),Lt(Gt,Gt),Pt(Gt,qt,Kt)}}function dt(Gt,qt){const Jt=[et(),et(),et(),et()];ht(Jt[0],st),ht(Jt[1],ct),ht(Jt[2],nt),jt(Jt[3],st,ct),at(Gt,Jt,qt)}function vt(Gt){if(Gt.length!==_.SEED_LENGTH)throw new Error(`ed25519: seed must be ${_.SEED_LENGTH} bytes`);const qt=(0,$.hash)(Gt);qt[0]&=248,qt[31]&=127,qt[31]|=64;const Jt=new Uint8Array(32),Ft=[et(),et(),et(),et()];dt(Ft,qt),bt(Jt,Ft);const Kt=new Uint8Array(64);return Kt.set(Gt),Kt.set(Jt,32),{publicKey:Jt,secretKey:Kt}}_.generateKeyPairFromSeed=vt;function xt(Gt){const qt=(0,a.randomBytes)(32,Gt),Jt=vt(qt);return(0,j.wipe)(qt),Jt}_.generateKeyPair=xt;function wt(Gt){if(Gt.length!==_.SECRET_KEY_LENGTH)throw new Error(`ed25519: secret key must be ${_.SECRET_KEY_LENGTH} bytes`);return new Uint8Array(Gt.subarray(32))}_.extractPublicKeyFromSecretKey=wt;const _t=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function At(Gt,qt){let Jt,Ft,Kt,Qt;for(Ft=63;Ft>=32;--Ft){for(Jt=0,Kt=Ft-32,Qt=Ft-12;Kt<Qt;++Kt)qt[Kt]+=Jt-16*qt[Ft]*_t[Kt-(Ft-32)],Jt=Math.floor((qt[Kt]+128)/256),qt[Kt]-=Jt*256;qt[Kt]+=Jt,qt[Ft]=0}for(Jt=0,Kt=0;Kt<32;Kt++)qt[Kt]+=Jt-(qt[31]>>4)*_t[Kt],Jt=qt[Kt]>>8,qt[Kt]&=255;for(Kt=0;Kt<32;Kt++)qt[Kt]-=Jt*_t[Kt];for(Ft=0;Ft<32;Ft++)qt[Ft+1]+=qt[Ft]>>8,Gt[Ft]=qt[Ft]&255}function Tt(Gt){const qt=new Float64Array(64);for(let Jt=0;Jt<64;Jt++)qt[Jt]=Gt[Jt];for(let Jt=0;Jt<64;Jt++)Gt[Jt]=0;At(Gt,qt)}function yt(Gt,qt){const Jt=new Float64Array(64),Ft=[et(),et(),et(),et()],Kt=(0,$.hash)(Gt.subarray(0,32));Kt[0]&=248,Kt[31]&=127,Kt[31]|=64;const Qt=new Uint8Array(64);Qt.set(Kt.subarray(32),32);const dr=new $.SHA512;dr.update(Qt.subarray(32)),dr.update(qt);const xr=dr.digest();dr.clean(),Tt(xr),dt(Ft,xr),bt(Qt,Ft),dr.reset(),dr.update(Qt.subarray(0,32)),dr.update(Gt.subarray(32)),dr.update(qt);const pr=dr.digest();Tt(pr);for(let Ir=0;Ir<32;Ir++)Jt[Ir]=xr[Ir];for(let Ir=0;Ir<32;Ir++)for(let Cr=0;Cr<32;Cr++)Jt[Ir+Cr]+=pr[Ir]*Kt[Cr];return At(Qt.subarray(32),Jt),Qt}_.sign=yt;function It(Gt,qt){const Jt=et(),Ft=et(),Kt=et(),Qt=et(),dr=et(),xr=et(),pr=et();return ht(Gt[2],nt),zt(Gt[1],qt),$t(Kt,Gt[1]),jt(Qt,Kt,it),Vt(Kt,Kt,Gt[2]),Ut(Qt,Gt[2],Qt),$t(dr,Qt),$t(xr,dr),jt(pr,xr,dr),jt(Jt,pr,Kt),jt(Jt,Jt,Qt),Nt(Jt,Jt),jt(Jt,Jt,Kt),jt(Jt,Jt,Qt),jt(Jt,Jt,Qt),jt(Gt[0],Jt,Qt),$t(Ft,Gt[0]),jt(Ft,Ft,Qt),Ct(Ft,Kt)&&jt(Gt[0],Gt[0],ut),$t(Ft,Gt[0]),jt(Ft,Ft,Qt),Ct(Ft,Kt)?-1:(Ot(Gt[0])===qt[31]>>7&&Vt(Gt[0],rt,Gt[0]),jt(Gt[3],Gt[0],Gt[1]),0)}function rr(Gt,qt,Jt){const Ft=new Uint8Array(32),Kt=[et(),et(),et(),et()],Qt=[et(),et(),et(),et()];if(Jt.length!==_.SIGNATURE_LENGTH)throw new Error(`ed25519: signature must be ${_.SIGNATURE_LENGTH} bytes`);if(It(Qt,Gt))return!1;const dr=new $.SHA512;dr.update(Jt.subarray(0,32)),dr.update(Gt),dr.update(qt);const xr=dr.digest();return Tt(xr),at(Kt,Qt,xr),dt(Qt,Jt.subarray(32)),Lt(Kt,Qt),bt(Ft,Kt),!kt(Jt,Ft)}_.verify=rr;function ir(Gt){let qt=[et(),et(),et(),et()];if(It(qt,Gt))throw new Error("Ed25519: invalid public key");let Jt=et(),Ft=et(),Kt=qt[1];Ut(Jt,nt,Kt),Vt(Ft,nt,Kt),Bt(Ft,Ft),jt(Jt,Jt,Ft);let Qt=new Uint8Array(32);return Mt(Qt,Jt),Qt}_.convertPublicKeyToX25519=ir;function nr(Gt){const qt=(0,$.hash)(Gt.subarray(0,32));qt[0]&=248,qt[31]&=127,qt[31]|=64;const Jt=new Uint8Array(qt.subarray(0,32));return(0,j.wipe)(qt),Jt}_.convertSecretKeyToX25519=nr})(ed25519);var bytes$2={};Object.defineProperty(bytes$2,"__esModule",{value:!0});function concat$1(){for(var _=0,a=0;a<arguments.length;a++)_+=arguments[a].length;for(var $=new Uint8Array(_),j=0,a=0;a<arguments.length;a++){var et=arguments[a];$.set(et,j),j+=et.length}return $}var concat_1=bytes$2.concat=concat$1;const secretbox_NONCEBYTES$1=24;function toHex$1(_){return Buffer$g.from(_).toString("hex")}async function getHexHash(_){return toHex$1(typeof _=="string"?blake2b$1.hash(encode_1(_),32):blake2b$1.hash(_,32))}async function getKeypairFromSeed(_){return ed25519.generateKeyPairFromSeed(blake2b$1.hash(encode_1(_),32))}async function encryptCryptoboxPayload(_,a){const $=Buffer$g.from(random.randomBytes(secretbox_NONCEBYTES$1)),j=Buffer$g.concat([$,Buffer$g.from(nacl.secretBox(a,$,Buffer$g.from(_,"utf8")))]);return toHex$1(j)}async function decryptCryptoboxPayload(_,a){const $=_.slice(0,secretbox_NONCEBYTES$1),j=_.slice(secretbox_NONCEBYTES$1),et=nacl.openSecretBox(a,$,j);if(!et)throw new Error("Decryption failed");return Buffer$g.from(et).toString("utf8")}async function sealCryptobox(_,a){const $=ed25519.convertPublicKeyToX25519(Buffer$g.from(a)),j=nacl.generateKeyPair(),tt=new blake2b$1.BLAKE2b(24).update(j.publicKey,32).update($,32).digest(),rt=typeof _=="string"?encode_1(_):_,nt=nacl.box($,j.secretKey,tt,rt);return toHex$1(concat_1(j.publicKey,nt))}async function openCryptobox(_,a,$){const j=ed25519.convertSecretKeyToX25519(Buffer$g.from($)),et=ed25519.convertPublicKeyToX25519(Buffer$g.from(a)),tt=typeof _=="string"?encode_1(_):_,rt=tt.slice(0,32),nt=tt.slice(32),ot=new blake2b$1.BLAKE2b(24).update(rt,32).update(et,32).digest(),st=nacl.openBox(rt,j,ot,nt);if(!st)throw new Error("Decryption failed");return Buffer$g.from(st).toString()}async function getAddressFromPublicKey(_){const a={edpk:{length:54,prefix:Buffer$g.from(new Uint8Array([6,161,159]))},sppk:{length:55,prefix:Buffer$g.from(new Uint8Array([6,161,161]))},p2pk:{length:55,prefix:Buffer$g.from(new Uint8Array([6,161,164]))}};let $,j;if(_.length===64)$=a.edpk.prefix,j=_;else{const tt=Object.entries(a);for(let rt=0;rt<tt.length;rt++){const[nt,it]=tt[rt];if(_.startsWith(nt)&&_.length===it.length){$=it.prefix;const ot=bs58check$2.decode(_);j=ot.slice(nt.length,ot.length).toString("hex");break}}}if(!$||!j)throw new Error(`invalid publicKey: ${_}`);const et=blake2b$1.hash(Buffer$g.from(j,"hex"),20);return bs58check$2.encode(Buffer$g.concat([$,Buffer$g.from(et)]))}function recipientString(_,a){return`@${_}:${a}`}const isValidAddress=_=>{if(!["tz1","tz2","tz3","tz4","KT1","txr1","sr1"].some($=>_.toLowerCase().startsWith($.toLowerCase())))return!1;try{bs58check$2.decode(_)}catch{return!1}return!0};async function generateGUID(){const _=random.randomBytes(16);return[_.slice(0,4),_.slice(4,6),_.slice(6,8),_.slice(8,10),_.slice(10,16)].map(function(a){return Buffer$g.from(a).toString("hex")}).join("-")}const CONTRACT_PREFIX="KT1",secretbox_NONCEBYTES=24,secretbox_MACBYTES=16;var BeaconMessageType;(function(_){_.BlockchainRequest="blockchain_request",_.PermissionRequest="permission_request",_.SignPayloadRequest="sign_payload_request",_.OperationRequest="operation_request",_.BroadcastRequest="broadcast_request",_.ChangeAccountRequest="change_account_request",_.BlockchainResponse="blockchain_response",_.PermissionResponse="permission_response",_.SignPayloadResponse="sign_payload_response",_.ProofOfEventChallengeRequest="proof_of_event_challenge_request",_.ProofOfEventChallengeResponse="proof_of_event_challenge_response",_.SimulatedProofOfEventChallengeRequest="simulated_proof_of_event_challenge_request",_.SimulatedProofOfEventChallengeResponse="simulated_proof_of_event_challenge_response",_.OperationResponse="operation_response",_.BroadcastResponse="broadcast_response",_.Acknowledge="acknowledge",_.Disconnect="disconnect",_.Error="error"})(BeaconMessageType||(BeaconMessageType={}));var PermissionScope;(function(_){_.SIGN="sign",_.OPERATION_REQUEST="operation_request",_.ENCRYPT="encrypt",_.NOTIFICATION="notification",_.THRESHOLD="threshold"})(PermissionScope||(PermissionScope={}));var NetworkType;(function(_){_.MAINNET="mainnet",_.GHOSTNET="ghostnet",_.WEEKLYNET="weeklynet",_.DAILYNET="dailynet",_.DELPHINET="delphinet",_.EDONET="edonet",_.FLORENCENET="florencenet",_.GRANADANET="granadanet",_.HANGZHOUNET="hangzhounet",_.ITHACANET="ithacanet",_.JAKARTANET="jakartanet",_.KATHMANDUNET="kathmandunet",_.LIMANET="limanet",_.MUMBAINET="mumbainet",_.NAIROBINET="nairobinet",_.OXFORDNET="oxfordnet",_.PARISNET="parisnet",_.CUSTOM="custom"})(NetworkType||(NetworkType={}));var TezosOperationType;(function(_){_.ORIGINATION="origination",_.DELEGATION="delegation",_.REVEAL="reveal",_.TRANSACTION="transaction",_.ACTIVATE_ACCOUNT="activate_account",_.ENDORSEMENT="endorsement",_.SEED_NONCE_REVELATION="seed_nonce_revelation",_.DOUBLE_ENDORSEMENT_EVIDENCE="double_endorsement_evidence",_.DOUBLE_BAKING_EVIDENCE="double_baking_evidence",_.PROPOSALS="proposals",_.BALLOT="ballot",_.ATTESTATION="attestation",_.PREATTESTATION="preattestation",_.PREENDORSEMENT="preendorsement",_.SET_DEPOSITS_LIMIT="set_deposits_limit",_.DOUBLE_PREATTESTATION_EVIDENCE="double_preattestation_evidence",_.DOUBLE_PREENDORSEMENT_EVIDENCE="double_preendorsement_evidence",_.ATTESTATION_WITH_SLOT="attestation_with_slot",_.ENDORSEMENT_WITH_SLOT="endorsement_with_slot",_.DOUBLE_ATTESTATION_EVIDENCE="double_attestation_evidence",_.FAILING_NOOP="failing_noop",_.REGISTER_GLOBAL_CONSTANT="register_global_constant",_.TRANSFER_TICKET="transfer_ticket",_.INCREASE_PAID_STORAGE="increase_paid_storage",_.UPDATE_CONSENSUS_KEY="update_consensus_key",_.DRAIN_DELEGATE="drain_delegate",_.VDF_REVELATION="vdf_revelation",_.EVENT="event",_.TICKET_UPDATES="ticket_updates",_.SMART_ROLLUP_ORIGINATE="smart_rollup_originate",_.SMART_ROLLUP_ADD_MESSAGES="smart_rollup_add_messages",_.SMART_ROLLUP_EXECUTE_OUTBOX_MESSAGE="smart_rollup_execute_outbox_message",_.SMART_ROLLUP_PUBLISH="smart_rollup_publish",_.SMART_ROLLUP_CEMENT="smart_rollup_cement",_.SMART_ROLLUP_RECOVER_BOND="smart_rollup_recover_bond",_.SMART_ROLLUP_REFUTE="smart_rollup_refute",_.SMART_ROLLUP_TIMEOUT="smart_rollup_timeout",_.DAL_PUBLISH_COMMITMENT="dal_publish_commitment"})(TezosOperationType||(TezosOperationType={}));var Origin;(function(_){_.WEBSITE="website",_.EXTENSION="extension",_.P2P="p2p",_.WALLETCONNECT="walletconnect"})(Origin||(Origin={}));var ExtensionMessageTarget;(function(_){_.BACKGROUND="toBackground",_.PAGE="toPage",_.EXTENSION="toExtension"})(ExtensionMessageTarget||(ExtensionMessageTarget={}));var BeaconErrorType;(function(_){_.BROADCAST_ERROR="BROADCAST_ERROR",_.NETWORK_NOT_SUPPORTED="NETWORK_NOT_SUPPORTED",_.NO_ADDRESS_ERROR="NO_ADDRESS_ERROR",_.NO_PRIVATE_KEY_FOUND_ERROR="NO_PRIVATE_KEY_FOUND_ERROR",_.NOT_GRANTED_ERROR="NOT_GRANTED_ERROR",_.PARAMETERS_INVALID_ERROR="PARAMETERS_INVALID_ERROR",_.TOO_MANY_OPERATIONS="TOO_MANY_OPERATIONS",_.TRANSACTION_INVALID_ERROR="TRANSACTION_INVALID_ERROR",_.SIGNATURE_TYPE_NOT_SUPPORTED="SIGNATURE_TYPE_NOT_SUPPORTED",_.ABORTED_ERROR="ABORTED_ERROR",_.UNKNOWN_ERROR="UNKNOWN_ERROR"})(BeaconErrorType||(BeaconErrorType={}));var TransportStatus;(function(_){_.NOT_CONNECTED="NOT_CONNECTED",_.CONNECTING="CONNECTING",_.CONNECTED="CONNECTED"})(TransportStatus||(TransportStatus={}));var TransportType;(function(_){_.CHROME_MESSAGE="chrome_message",_.WALLETCONNECT="walletconnect",_.POST_MESSAGE="post_message",_.LEDGER="ledger",_.P2P="p2p"})(TransportType||(TransportType={}));class Storage{static isSupported(){return Promise.resolve(!1)}}var StorageKey;(function(_){_.TRANSPORT_P2P_PEERS_DAPP="beacon:communication-peers-dapp",_.TRANSPORT_P2P_PEERS_WALLET="beacon:communication-peers-wallet",_.TRANSPORT_POSTMESSAGE_PEERS_DAPP="beacon:postmessage-peers-dapp",_.TRANSPORT_POSTMESSAGE_PEERS_WALLET="beacon:postmessage-peers-wallet",_.TRANSPORT_WALLETCONNECT_PEERS_DAPP="beacon:walletconnect-peers-dapp",_.LAST_SELECTED_WALLET="beacon:last-selected-wallet",_.ACCOUNTS="beacon:accounts",_.ACTIVE_ACCOUNT="beacon:active-account",_.PUSH_TOKENS="beacon:push-tokens",_.BEACON_SDK_SECRET_SEED="beacon:sdk-secret-seed",_.APP_METADATA_LIST="beacon:app-metadata-list",_.PERMISSION_LIST="beacon:permissions",_.ONGOING_PROOF_OF_EVENT_CHALLENGES="beacon:ongoing-proof-of-event-challenges",_.BEACON_SDK_VERSION="beacon:sdk_version",_.MATRIX_PRESERVED_STATE="beacon:sdk-matrix-preserved-state",_.MATRIX_PEER_ROOM_IDS="beacon:matrix-peer-rooms",_.MATRIX_SELECTED_NODE="beacon:matrix-selected-node",_.MULTI_NODE_SETUP_DONE="beacon:multi-node-setup",_.USER_ID="beacon:user-id",_.ENABLE_METRICS="beacon:enable_metrics",_.WC_2_CORE_PAIRING="wc@2:core:0.3:pairing",_.WC_2_CLIENT_SESSION="wc@2:client:0.3:session",_.WC_2_CORE_KEYCHAIN="wc@2:core:0.3:keychain",_.WC_2_CORE_MESSAGES="wc@2:core:0.3:messages",_.WC_2_CLIENT_PROPOSAL="wc@2:client:0.3:proposal",_.WC_2_CORE_SUBSCRIPTION="wc@2:core:0.3:subscription",_.WC_2_CORE_HISTORY="wc@2:core:0.3:history",_.WC_2_CORE_EXPIRER="wc@2:core:0.3:expirer"})(StorageKey||(StorageKey={}));const defaultValues={[StorageKey.TRANSPORT_P2P_PEERS_DAPP]:[],[StorageKey.TRANSPORT_P2P_PEERS_WALLET]:[],[StorageKey.TRANSPORT_POSTMESSAGE_PEERS_DAPP]:[],[StorageKey.TRANSPORT_POSTMESSAGE_PEERS_WALLET]:[],[StorageKey.TRANSPORT_WALLETCONNECT_PEERS_DAPP]:[],[StorageKey.LAST_SELECTED_WALLET]:void 0,[StorageKey.ACCOUNTS]:[],[StorageKey.ACTIVE_ACCOUNT]:void 0,[StorageKey.PUSH_TOKENS]:[],[StorageKey.BEACON_SDK_SECRET_SEED]:void 0,[StorageKey.APP_METADATA_LIST]:[],[StorageKey.PERMISSION_LIST]:[],[StorageKey.ONGOING_PROOF_OF_EVENT_CHALLENGES]:[],[StorageKey.BEACON_SDK_VERSION]:void 0,[StorageKey.MATRIX_PRESERVED_STATE]:{},[StorageKey.MATRIX_PEER_ROOM_IDS]:{},[StorageKey.MATRIX_SELECTED_NODE]:void 0,[StorageKey.MULTI_NODE_SETUP_DONE]:void 0,[StorageKey.WC_2_CLIENT_SESSION]:void 0,[StorageKey.USER_ID]:void 0,[StorageKey.ENABLE_METRICS]:void 0,[StorageKey.WC_2_CORE_PAIRING]:void 0,[StorageKey.WC_2_CORE_KEYCHAIN]:void 0,[StorageKey.WC_2_CORE_MESSAGES]:void 0,[StorageKey.WC_2_CLIENT_PROPOSAL]:void 0,[StorageKey.WC_2_CORE_SUBSCRIPTION]:void 0,[StorageKey.WC_2_CORE_HISTORY]:void 0,[StorageKey.WC_2_CORE_EXPIRER]:void 0};class P2PPairingRequest{constructor(a,$,j,et,tt,rt,nt){Vr(this,"type","p2p-pairing-request");Vr(this,"relayServer");Vr(this,"id");Vr(this,"name");Vr(this,"icon");Vr(this,"appUrl");Vr(this,"publicKey");Vr(this,"version");this.id=a,this.name=$,this.icon=rt,this.appUrl=nt,this.publicKey=j,this.version=et,this.relayServer=tt}}class ExtendedP2PPairingRequest extends P2PPairingRequest{constructor($,j,et,tt,rt,nt,it,ot){super($,j,et,tt,rt,it,ot);Vr(this,"senderId");this.senderId=nt}}var SigningType;(function(_){_.RAW="raw",_.OPERATION="operation",_.MICHELINE="micheline"})(SigningType||(SigningType={}));class P2PPairingResponse{constructor(a,$,j,et,tt,rt,nt){Vr(this,"type","p2p-pairing-request");Vr(this,"relayServer");Vr(this,"id");Vr(this,"name");Vr(this,"icon");Vr(this,"appUrl");Vr(this,"publicKey");Vr(this,"version");this.id=a,this.name=$,this.icon=rt,this.appUrl=nt,this.publicKey=j,this.version=et,this.relayServer=tt}}class PostMessagePairingRequest{constructor(a,$,j,et,tt,rt){Vr(this,"type","postmessage-pairing-request");Vr(this,"id");Vr(this,"name");Vr(this,"icon");Vr(this,"appUrl");Vr(this,"publicKey");Vr(this,"version");this.id=a,this.name=$,this.icon=tt,this.appUrl=rt,this.publicKey=j,this.version=et}}class ExtendedPostMessagePairingRequest extends PostMessagePairingRequest{constructor($,j,et,tt,rt,nt,it){super($,j,et,tt,nt,it);Vr(this,"senderId");this.senderId=rt}}class WalletConnectPairingRequest{constructor(a,$,j,et,tt,rt,nt){Vr(this,"type","walletconnect-pairing-request");Vr(this,"uri");Vr(this,"id");Vr(this,"name");Vr(this,"icon");Vr(this,"appUrl");Vr(this,"publicKey");Vr(this,"version");this.id=a,this.name=$,this.icon=rt,this.appUrl=nt,this.publicKey=j,this.version=et,this.uri=tt}}class ExtendedWalletConnectPairingRequest extends WalletConnectPairingRequest{constructor($,j,et,tt,rt,nt,it,ot){super($,j,et,tt,nt,it,ot);Vr(this,"senderId");this.senderId=rt}}var ColorMode;(function(_){_.LIGHT="light",_.DARK="dark"})(ColorMode||(ColorMode={}));var Regions;(function(_){_.EUROPE_EAST="europe-east",_.EUROPE_WEST="europe-west",_.NORTH_AMERICA_EAST="north-america-east",_.NORTH_AMERICA_WEST="north-america-west",_.CENTRAL_AMERICA="central-america",_.SOUTH_AMERICA="south-america",_.ASIA_EAST="asia-east",_.ASIA_WEST="asia-west",_.AFRICA="africa",_.AUSTRALIA="australia"})(Regions||(Regions={}));const SDK_VERSION="4.2.2",BEACON_VERSION="3",NOTIFICATION_ORACLE_URL="https://beacon-notification-oracle.dev.gke.papers.tech",cbs=[_=>{}];let windowRef={postMessage:(_,a)=>{console.log("GOT MOCK POST MESSAGE",_),cbs.forEach($=>{$({data:_})})},addEventListener:(_,a)=>{cbs.push(a)},removeEventListener:(_,a)=>{cbs.splice(cbs.indexOf($=>$===a),1)},location:{origin:"*"}};try{typeof window<"u"&&(windowRef=window)}catch(_){console.log(`not defined: ${_}`)}class MockAnalytics{track(a,$,j,et){}}class BeaconClient{constructor(a){Vr(this,"name");Vr(this,"iconUrl");Vr(this,"appUrl");Vr(this,"_beaconId",new ExposedPromise);Vr(this,"storage");Vr(this,"analytics");Vr(this,"_keyPair",new ExposedPromise);if(!a.name)throw new Error("Name not set");if(!a.storage)throw new Error("Storage not set");this.name=a.name,this.iconUrl=a.iconUrl,this.appUrl=a.appUrl??windowRef.location.origin,this.storage=a.storage,this.analytics=a.analytics??new MockAnalytics,windowRef.beaconCreatedClientInstance?console.error("[BEACON] It looks like you created multiple Beacon SDK Client instances. This can lead to problems. Only create one instance and re-use it everywhere."):windowRef.beaconCreatedClientInstance=!0,this.initSDK().catch(console.error)}get beaconId(){return this._beaconId.promise}get keyPair(){return this._keyPair.promise}async destroy(){await this.removeBeaconEntriesFromStorage(),windowRef.beaconCreatedClientInstance=!1}async initSDK(){return this.storage.set(StorageKey.BEACON_SDK_VERSION,SDK_VERSION).catch(console.error),this.loadOrCreateBeaconSecret().catch(console.error),this.keyPair.then(a=>{this._beaconId.resolve(toHex$1(a.publicKey))})}async removeBeaconEntriesFromStorage(){const a=Object.values(StorageKey);await Promise.all(a.map($=>this.storage.delete($)))}async loadOrCreateBeaconSecret(){const a=await this.storage.get(StorageKey.BEACON_SDK_SECRET_SEED);if(a&&typeof a=="string")this._keyPair.resolve(await getKeypairFromSeed(a));else{const $=await generateGUID();await this.storage.set(StorageKey.BEACON_SDK_SECRET_SEED,$),this._keyPair.resolve(await getKeypairFromSeed($))}}}function fixArrayType(_){return _}class StorageManager{constructor(a,$){Vr(this,"storage");Vr(this,"storageKey");this.storage=a,this.storageKey=$}async getAll(){return await this.storage.get(this.storageKey)??[]}async getOne(a){const $=await this.storage.get(this.storageKey);return $.find(a)}async addOne(a,$,j=!0){const et=await this.storage.get(this.storageKey);if(!et.some($))et.push(a);else if(j)for(let tt=0;tt<et.length;tt++)$(et[tt])&&(et[tt]=a);return this.storage.set(this.storageKey,et)}async remove(a){const $=await this.storage.get(this.storageKey),j=$.filter(et=>!a(et));return this.storage.set(this.storageKey,j)}async removeAll(){return this.storage.delete(this.storageKey)}}const getAccountIdentifier=async(_,a)=>{const $=[_,a.type];a.name&&$.push(`name:${a.name}`),a.rpcUrl&&$.push(`rpc:${a.rpcUrl}`);const j=Buffer$g.from(blake2b$1.hash(encode_1($.join("-")),10));return bs58check$2.encode(j)};class PermissionValidator{static async hasPermission(a,$,j){switch(a.type){case BeaconMessageType.PermissionRequest:case BeaconMessageType.BroadcastRequest:return!0;case BeaconMessageType.OperationRequest:{const et=await getAccountIdentifier(a.sourceAddress,a.network),tt=await $(et);return tt?tt.scopes.includes(PermissionScope.OPERATION_REQUEST):!1}case BeaconMessageType.SignPayloadRequest:{const tt=(await j()).filter(rt=>rt.address===a.sourceAddress);return tt.length===0?!1:tt.some(rt=>rt.scopes.includes(PermissionScope.SIGN))}default:throw new Error("Message not handled")}}}class AccountManager{constructor(a){Vr(this,"storageManager");this.storageManager=new StorageManager(a,StorageKey.ACCOUNTS)}async getAccounts(){return await this.storageManager.getAll()??[]}async getAccount(a){return this.storageManager.getOne($=>$.accountIdentifier===a)}async addAccount(a){return this.storageManager.addOne(a,$=>$.accountIdentifier===a.accountIdentifier)}async updateAccount(a,$){const j=await this.getAccount(a);if(!j)return;const et={...j,...$};return await this.storageManager.addOne(et,tt=>tt.accountIdentifier===a,!0),et}async removeAccount(a){return this.storageManager.remove($=>$.accountIdentifier===a)}async removeAccounts(a){return this.storageManager.remove($=>a.includes($.accountIdentifier))}async removeAllAccounts(){return this.storageManager.removeAll()}async hasPermission(a){return PermissionValidator.hasPermission(a,this.getAccount.bind(this),this.getAccounts.bind(this))}}const isHex$1=_=>/^[A-F0-9]+$/i.test(_),getSenderId=async _=>{isHex$1(_)||console.error("PublicKey needs to be in hex format!");const a=Buffer$g.from(blake2b$1.hash(Buffer$g.from(_,"hex"),5));return bs58check$2.encode(a)};let debug$2=!!windowRef.beaconSdkDebugEnabled;debug$2&&console.log("[BEACON]: Debug mode is ON (turned on either by the developer or a browser extension)");const getDebugEnabled=()=>debug$2;class InternalLogger{constructor(){}debug(a,$,...j){this._log("debug",a,$,j)}log(a,$,...j){this._log("log",a,$,j)}warn(a,$,...j){this._log("warn",a,$,j)}error(a,$,...j){this._log("error",a,$,j)}time(a,$){a?console.time($):console.timeEnd($)}timeLog(a,$,...j){this._log("timeLog",a,$,j)}_log(a,$,j,et=[]){if(!getDebugEnabled())return;let tt=`[BEACON] ${new Date().toISOString()} [${$}](${j})`,rt=et;switch(et[0]&&typeof et[0]=="string"&&(tt+=` ${et[0]}`,rt=et.slice(1)),a){case"error":console.group(tt),console.error(...rt);break;case"warn":console.group(tt),console.warn(...rt);break;case"debug":console.groupCollapsed(tt),console.debug(...rt);break;case"timeLog":console.group(tt),console.timeLog(...rt);break;default:console.group(tt),console.log(...rt)}console.groupEnd()}}class Logger{constructor(a){Vr(this,"name");this.name=a}debug(a,...$){logger$9.debug(this.name,a,$)}log(a,...$){logger$9.log(this.name,a,$)}warn(a,...$){logger$9.warn(this.name,a,$)}error(a,...$){logger$9.error(this.name,a,$)}time(a,$){logger$9.time(a,$)}timeLog(a,...$){logger$9.timeLog(a,$)}}let logger$9=new InternalLogger;const logger$8=new Logger("Client");class Client extends BeaconClient{constructor($){super($);Vr(this,"accountManager");Vr(this,"handleResponse");Vr(this,"rateLimit",2);Vr(this,"rateLimitWindowInSeconds",5);Vr(this,"requestCounter",[]);Vr(this,"matrixNodes");Vr(this,"transportListeners",new Map);Vr(this,"_transport",new ExposedPromise);this.accountManager=new AccountManager($.storage),this.matrixNodes=$.matrixNodes??{},this.handleResponse=(j,et)=>{throw new Error(`not overwritten${JSON.stringify(j)} - ${JSON.stringify(et)}`)}}get transport(){return this._transport.promise}get connectionStatus(){var $;return(($=this._transport.promiseResult)==null?void 0:$.connectionStatus)??TransportStatus.NOT_CONNECTED}get ready(){return this.transport.then(()=>{})}async cleanup(){if(this.transportListeners.size&&this._transport.isResolved()){const $=await this.transport;await Promise.all(Array.from(this.transportListeners.values()).map(j=>$.removeListener(j))),this.transportListeners.clear()}}async getAccounts(){return this.accountManager.getAccounts()}async getAccount($){return this.accountManager.getAccount($)}async removeAccount($){return this.accountManager.removeAccount($)}async removeAllAccounts(){return this.accountManager.removeAllAccounts()}async addRequestAndCheckIfRateLimited(){const $=new Date().getTime();return this.requestCounter=this.requestCounter.filter(j=>j+this.rateLimitWindowInSeconds*1e3>$),this.requestCounter.push($),this.requestCounter.length>this.rateLimit}async init($){return this._transport.isResolved()?(await this.transport).type:(await this.setTransport($),$.type)}async getOwnAppMetadata(){return{senderId:await getSenderId(await this.beaconId),name:this.name,icon:this.iconUrl}}async getPeers(){return(await this.transport).getPeers()}async addPeer($){return(await this.transport).addPeer($)}async destroy(){if(this._transport.isResolved()){const $=await this.transport;await this.cleanup(),await $.disconnect(),$.type===TransportType.WALLETCONNECT&&await $.doClientCleanup()}await super.destroy()}async setTransport($){$?this._transport.isSettled()?this._transport=ExposedPromise.resolve($):this._transport.resolve($):this._transport.isSettled()&&(this._transport=new ExposedPromise)}async addListener($){this.transportListeners.has($.type)&&await $.removeListener(this.transportListeners.get($.type));const j=async(et,tt)=>{if(typeof et=="string"){const rt=await new Serializer().deserialize(et);this.handleResponse(rt,tt)}};this.transportListeners.set($.type,j),$.addListener(j).catch(et=>logger$8.error("addListener",et))}async sendDisconnectToPeer($,j){const et={id:await generateGUID(),version:$.version,senderId:await getSenderId(await this.beaconId),type:BeaconMessageType.Disconnect},tt=await new Serializer().serialize(et);await(j??await this.transport).send(tt,$)}}const logger$7=new Logger("Transport");let Transport$2=class{constructor(a,$,j){Vr(this,"type",TransportType.POST_MESSAGE);Vr(this,"name");Vr(this,"_isConnected",TransportStatus.NOT_CONNECTED);Vr(this,"peerManager");Vr(this,"client");Vr(this,"newPeerListener");Vr(this,"listeners",[]);this.name=a,this.client=$,this.peerManager=j}setEventHandler(a,$){this.client.eventHandlers.set(a,$)}get connectionStatus(){return this._isConnected}static async isAvailable(){return Promise.resolve(!1)}async connect(){logger$7.log("connect"),this._isConnected=TransportStatus.CONNECTED}async disconnect(){logger$7.log("disconnect"),this._isConnected=TransportStatus.NOT_CONNECTED}async send(a,$){if($)return this.client.sendMessage(a,$);{const et=(await this.getPeers()).map(tt=>this.client.sendMessage(a,tt));return(await Promise.all(et))[0]}}async addListener(a){logger$7.debug("addListener"),this.listeners.push(a)}async removeListener(a){logger$7.log("removeListener"),this.listeners=this.listeners.filter($=>$!==a)}async getPeers(){return this.peerManager.getPeers()}async addPeer(a,$=!0){logger$7.log("addPeer","adding peer",a),await this.peerManager.addPeer(a),await this.listen(a.publicKey)}async removePeer(a){logger$7.log("removePeer","removing peer",a),await this.peerManager.removePeer(a.publicKey),this.client&&await this.client.unsubscribeFromEncryptedMessage(a.publicKey)}async removeAllPeers(){logger$7.log("removeAllPeers"),await this.peerManager.removeAllPeers(),this.client&&await this.client.unsubscribeFromEncryptedMessages()}async notifyListeners(a,$){this.listeners.length===0?logger$7.warn("notifyListeners","0 listeners notified!",this):logger$7.log("notifyListeners",`Notifying ${this.listeners.length} listeners`,this),this.listeners.forEach(j=>{j(a,$)})}};class LocalStorage extends Storage{constructor($){super();Vr(this,"prefix");this.prefix=$}static async isSupported(){return Promise.resolve(typeof window<"u"&&!!window.localStorage)}async get($){const j=localStorage.getItem(this.getPrefixedKey($));if(j)try{return JSON.parse(j)}catch{return j}else return typeof defaultValues[$]=="object"?JSON.parse(JSON.stringify(defaultValues[$])):defaultValues[$]}async set($,j){return typeof j=="string"?localStorage.setItem(this.getPrefixedKey($),j):localStorage.setItem(this.getPrefixedKey($),JSON.stringify(j))}async delete($){return Promise.resolve(localStorage.removeItem(this.getPrefixedKey($)))}async subscribeToStorageChanged($){window.addEventListener("storage",j=>{j.key?$({eventType:"entryModified",key:this.getPrefixedKey(j.key),oldValue:j.oldValue,newValue:j.newValue}):$({eventType:"storageCleared",key:null,oldValue:null,newValue:null})},!1)}getPrefixedKey($){return this.prefix?`${this.prefix}-${$}`:$}}class Serializer{async serialize(a){const $=JSON.stringify(a);return bs58check$2.encode(Buffer$g.from($))}async deserialize(a){if(typeof a!="string")throw new Error("Encoded payload needs to be a string");return JSON.parse(bs58check$2.decode(a).toString())}}class AppMetadataManager{constructor(a){Vr(this,"storageManager");this.storageManager=new StorageManager(a,StorageKey.APP_METADATA_LIST)}async getAppMetadataList(){return await this.storageManager.getAll()??[]}async getAppMetadata(a){return this.storageManager.getOne($=>$.senderId===a)}async addAppMetadata(a){return this.storageManager.addOne(a,$=>$.senderId===a.senderId)}async removeAppMetadata(a){return this.storageManager.remove($=>$.senderId===a)}async removeAppMetadatas(a){return this.storageManager.remove($=>a.includes($.senderId))}async removeAllAppMetadata(){return this.storageManager.removeAll()}}class PermissionManager{constructor(a){Vr(this,"storageManager");this.storageManager=new StorageManager(a,StorageKey.PERMISSION_LIST)}async getPermissions(){return await this.storageManager.getAll()??[]}async getPermission(a){return this.storageManager.getOne($=>$.accountIdentifier===a)}async addPermission(a){return this.storageManager.addOne(a,$=>$.accountIdentifier===a.accountIdentifier&&$.senderId===a.senderId)}async removePermission(a){return this.storageManager.remove($=>$.accountIdentifier===a)}async removePermissions(a){return this.storageManager.remove($=>a.includes($.accountIdentifier))}async removeAllPermissions(){return this.storageManager.removeAll()}async hasPermission(a){return PermissionValidator.hasPermission(a,this.getPermission.bind(this),this.getPermissions.bind(this))}}class PeerManager{constructor(a,$){Vr(this,"storageManager");this.storageManager=new StorageManager(a,$)}async hasPeer(a){return!!await this.getPeer(a)}async getPeers(){return await this.storageManager.getAll()??[]}async getPeer(a){return this.storageManager.getOne($=>$.publicKey===a)}async addPeer(a){return this.storageManager.addOne(a,$=>$.publicKey===a.publicKey)}async removePeer(a){return this.storageManager.remove($=>$.publicKey===a)}async removePeers(a){return this.storageManager.remove($=>a.includes($.publicKey))}async removeAllPeers(){return this.storageManager.removeAll()}}var x25519Session={},keyagreement={},hasRequiredKeyagreement;function requireKeyagreement(){return hasRequiredKeyagreement||(hasRequiredKeyagreement=1,function(_){Object.defineProperty(_,"__esModule",{value:!0}),_.X25519Session=_.SECRET_SEED_LENGTH=_.SAVED_STATE_LENGTH=_.ACCEPT_MESSAGE_LENGTH=_.OFFER_MESSAGE_LENGTH=void 0;const a=random,$=wipe$1,j=x25519,et=requireX25519Session();_.OFFER_MESSAGE_LENGTH=j.PUBLIC_KEY_LENGTH,_.ACCEPT_MESSAGE_LENGTH=j.PUBLIC_KEY_LENGTH,_.SAVED_STATE_LENGTH=j.SECRET_KEY_LENGTH,_.SECRET_SEED_LENGTH=j.SECRET_KEY_LENGTH;class tt{constructor(nt,it){this.offerMessageLength=_.OFFER_MESSAGE_LENGTH,this.acceptMessageLength=_.ACCEPT_MESSAGE_LENGTH,this.sharedKeyLength=j.SHARED_KEY_LENGTH,this.savedStateLength=_.SAVED_STATE_LENGTH,this._seed=nt||(0,a.randomBytes)(j.SECRET_KEY_LENGTH,it)}saveState(){return new Uint8Array(this._seed)}restoreState(nt){return this._seed=new Uint8Array(nt),this}clean(){this._seed&&(0,$.wipe)(this._seed),this._keyPair&&((0,$.wipe)(this._keyPair.secretKey),(0,$.wipe)(this._keyPair.publicKey)),this._sharedKey&&(0,$.wipe)(this._sharedKey),this._sessionKeys&&((0,$.wipe)(this._sessionKeys.receive),(0,$.wipe)(this._sessionKeys.send))}offer(){return this._keyPair=(0,j.generateKeyPairFromSeed)(this._seed),new Uint8Array(this._keyPair.publicKey)}accept(nt){if(this._keyPair)throw new Error("X25519Session: accept shouldn't be called by offering party");if(nt.length!==this.offerMessageLength)throw new Error("X25519Session: incorrect offer message length");if(this._sharedKey)throw new Error("X25519Session: accept was already called");const it=(0,j.generateKeyPairFromSeed)(this._seed);return this._sharedKey=(0,j.sharedKey)(it.secretKey,nt),this._sessionKeys=(0,et.clientSessionKeysFromSharedKey)(this._sharedKey,it.publicKey,nt),(0,$.wipe)(it.secretKey),it.publicKey}finish(nt){if(nt.length!==this.acceptMessageLength)throw new Error("X25519Session: incorrect accept message length");if(!this._keyPair)throw new Error("X25519Session: no offer state");if(this._sharedKey)throw new Error("X25519Session: finish was already called");return this._sharedKey=(0,j.sharedKey)(this._keyPair.secretKey,nt),this._sessionKeys=(0,et.serverSessionKeysFromSharedKey)(this._sharedKey,this._keyPair.publicKey,nt),this}getSharedKey(){if(!this._sharedKey)throw new Error("X25519Session: no shared key established");return new Uint8Array(this._sharedKey)}getSessionKeys(){if(!this._sessionKeys)throw new Error("X25519Session: no shared key established");return{receive:new Uint8Array(this._sessionKeys.receive),send:new Uint8Array(this._sessionKeys.send)}}}_.X25519Session=tt}(keyagreement)),keyagreement}var hasRequiredX25519Session;function requireX25519Session(){return hasRequiredX25519Session||(hasRequiredX25519Session=1,function(_){Object.defineProperty(_,"__esModule",{value:!0}),_.clientSessionKeys=_.serverSessionKeys=_.clientSessionKeysFromSharedKey=_.serverSessionKeysFromSharedKey=_.X25519Session=void 0;const a=blake2b$1,$=x25519;var j=requireKeyagreement();Object.defineProperty(_,"X25519Session",{enumerable:!0,get:function(){return j.X25519Session}});const et=32;function tt(ot,st,ct,ut=a.BLAKE2b){const ht=new ut;if(ht.digestLength!==et*2)throw new Error("X25519: incorrect digest length");const Et=ht.update(ot).update(ct).update(st).digest();return{send:Et.subarray(0,et),receive:Et.subarray(et)}}_.serverSessionKeysFromSharedKey=tt;function rt(ot,st,ct,ut=a.BLAKE2b){const ht=new ut;if(ht.digestLength!==et*2)throw new Error("X25519: incorrect digest length");const Et=ht.update(ot).update(st).update(ct).digest();return{receive:Et.subarray(0,et),send:Et.subarray(et)}}_.clientSessionKeysFromSharedKey=rt;function nt(ot,st,ct=a.BLAKE2b){const ut=(0,$.sharedKey)(ot.secretKey,st);return tt(ut,ot.publicKey,st,ct)}_.serverSessionKeys=nt;function it(ot,st,ct=a.BLAKE2b){const ut=(0,$.sharedKey)(ot.secretKey,st);return rt(ut,ot.publicKey,st,ct)}_.clientSessionKeys=it}(x25519Session)),x25519Session}var x25519SessionExports=requireX25519Session();class CommunicationClient{constructor(a){Vr(this,"keyPair");Vr(this,"eventHandlers",new Map);Vr(this,"isMobileOS",()=>/(Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini|Mobile|Tablet|Windows Phone|SymbianOS|Kindle)/i.test(navigator.userAgent));this.keyPair=a}async getPublicKey(){var a;return toHex$1((a=this.keyPair)==null?void 0:a.publicKey)}async getPublicKeyHash(){return getHexHash(this.keyPair.publicKey)}async createCryptoBoxServer(a,$){return x25519SessionExports.serverSessionKeys({publicKey:ed25519.convertPublicKeyToX25519($.publicKey),secretKey:ed25519.convertSecretKeyToX25519($.secretKey)},ed25519.convertPublicKeyToX25519(Buffer$g.from(a,"hex")))}async createCryptoBoxClient(a,$){return x25519SessionExports.clientSessionKeys({publicKey:ed25519.convertPublicKeyToX25519($.publicKey),secretKey:ed25519.convertSecretKeyToX25519($.secretKey)},ed25519.convertPublicKeyToX25519(Buffer$g.from(a,"hex")))}async encryptMessageAsymmetric(a,$){return sealCryptobox($,Buffer$g.from(a,"hex"))}}function bind$1(_,a){return function(){return _.apply(a,arguments)}}const{toString:toString$2}=Object.prototype,{getPrototypeOf:getPrototypeOf$2}=Object,kindOf=(_=>a=>{const $=toString$2.call(a);return _[$]||(_[$]=$.slice(8,-1).toLowerCase())})(Object.create(null)),kindOfTest=_=>(_=_.toLowerCase(),a=>kindOf(a)===_),typeOfTest=_=>a=>typeof a===_,{isArray:isArray$3}=Array,isUndefined=typeOfTest("undefined");function isBuffer$1(_){return _!==null&&!isUndefined(_)&&_.constructor!==null&&!isUndefined(_.constructor)&&isFunction$2(_.constructor.isBuffer)&&_.constructor.isBuffer(_)}const isArrayBuffer=kindOfTest("ArrayBuffer");function isArrayBufferView(_){let a;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?a=ArrayBuffer.isView(_):a=_&&_.buffer&&isArrayBuffer(_.buffer),a}const isString$1=typeOfTest("string"),isFunction$2=typeOfTest("function"),isNumber=typeOfTest("number"),isObject$2=_=>_!==null&&typeof _=="object",isBoolean$1=_=>_===!0||_===!1,isPlainObject$3=_=>{if(kindOf(_)!=="object")return!1;const a=getPrototypeOf$2(_);return(a===null||a===Object.prototype||Object.getPrototypeOf(a)===null)&&!(Symbol.toStringTag in _)&&!(Symbol.iterator in _)},isDate$1=kindOfTest("Date"),isFile=kindOfTest("File"),isBlob=kindOfTest("Blob"),isFileList=kindOfTest("FileList"),isStream=_=>isObject$2(_)&&isFunction$2(_.pipe),isFormData=_=>{let a;return _&&(typeof FormData=="function"&&_ instanceof FormData||isFunction$2(_.append)&&((a=kindOf(_))==="formdata"||a==="object"&&isFunction$2(_.toString)&&_.toString()==="[object FormData]"))},isURLSearchParams=kindOfTest("URLSearchParams"),[isReadableStream,isRequest,isResponse,isHeaders]=["ReadableStream","Request","Response","Headers"].map(kindOfTest),trim=_=>_.trim?_.trim():_.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function forEach(_,a,{allOwnKeys:$=!1}={}){if(_===null||typeof _>"u")return;let j,et;if(typeof _!="object"&&(_=[_]),isArray$3(_))for(j=0,et=_.length;j<et;j++)a.call(null,_[j],j,_);else{const tt=$?Object.getOwnPropertyNames(_):Object.keys(_),rt=tt.length;let nt;for(j=0;j<rt;j++)nt=tt[j],a.call(null,_[nt],nt,_)}}function findKey$1(_,a){a=a.toLowerCase();const $=Object.keys(_);let j=$.length,et;for(;j-- >0;)if(et=$[j],a===et.toLowerCase())return et;return null}const _global=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global$1,isContextDefined=_=>!isUndefined(_)&&_!==_global;function merge(){const{caseless:_}=isContextDefined(this)&&this||{},a={},$=(j,et)=>{const tt=_&&findKey$1(a,et)||et;isPlainObject$3(a[tt])&&isPlainObject$3(j)?a[tt]=merge(a[tt],j):isPlainObject$3(j)?a[tt]=merge({},j):isArray$3(j)?a[tt]=j.slice():a[tt]=j};for(let j=0,et=arguments.length;j<et;j++)arguments[j]&&forEach(arguments[j],$);return a}const extend=(_,a,$,{allOwnKeys:j}={})=>(forEach(a,(et,tt)=>{$&&isFunction$2(et)?_[tt]=bind$1(et,$):_[tt]=et},{allOwnKeys:j}),_),stripBOM=_=>(_.charCodeAt(0)===65279&&(_=_.slice(1)),_),inherits=(_,a,$,j)=>{_.prototype=Object.create(a.prototype,j),_.prototype.constructor=_,Object.defineProperty(_,"super",{value:a.prototype}),$&&Object.assign(_.prototype,$)},toFlatObject=(_,a,$,j)=>{let et,tt,rt;const nt={};if(a=a||{},_==null)return a;do{for(et=Object.getOwnPropertyNames(_),tt=et.length;tt-- >0;)rt=et[tt],(!j||j(rt,_,a))&&!nt[rt]&&(a[rt]=_[rt],nt[rt]=!0);_=$!==!1&&getPrototypeOf$2(_)}while(_&&(!$||$(_,a))&&_!==Object.prototype);return a},endsWith=(_,a,$)=>{_=String(_),($===void 0||$>_.length)&&($=_.length),$-=a.length;const j=_.indexOf(a,$);return j!==-1&&j===$},toArray$1=_=>{if(!_)return null;if(isArray$3(_))return _;let a=_.length;if(!isNumber(a))return null;const $=new Array(a);for(;a-- >0;)$[a]=_[a];return $},isTypedArray=(_=>a=>_&&a instanceof _)(typeof Uint8Array<"u"&&getPrototypeOf$2(Uint8Array)),forEachEntry=(_,a)=>{const j=(_&&_[Symbol.iterator]).call(_);let et;for(;(et=j.next())&&!et.done;){const tt=et.value;a.call(_,tt[0],tt[1])}},matchAll=(_,a)=>{let $;const j=[];for(;($=_.exec(a))!==null;)j.push($);return j},isHTMLForm=kindOfTest("HTMLFormElement"),toCamelCase=_=>_.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function($,j,et){return j.toUpperCase()+et}),hasOwnProperty=(({hasOwnProperty:_})=>(a,$)=>_.call(a,$))(Object.prototype),isRegExp=kindOfTest("RegExp"),reduceDescriptors=(_,a)=>{const $=Object.getOwnPropertyDescriptors(_),j={};forEach($,(et,tt)=>{let rt;(rt=a(et,tt,_))!==!1&&(j[tt]=rt||et)}),Object.defineProperties(_,j)},freezeMethods=_=>{reduceDescriptors(_,(a,$)=>{if(isFunction$2(_)&&["arguments","caller","callee"].indexOf($)!==-1)return!1;const j=_[$];if(isFunction$2(j)){if(a.enumerable=!1,"writable"in a){a.writable=!1;return}a.set||(a.set=()=>{throw Error("Can not rewrite read-only method '"+$+"'")})}})},toObjectSet=(_,a)=>{const $={},j=et=>{et.forEach(tt=>{$[tt]=!0})};return isArray$3(_)?j(_):j(String(_).split(a)),$},noop$6=()=>{},toFiniteNumber=(_,a)=>_!=null&&Number.isFinite(_=+_)?_:a,ALPHA="abcdefghijklmnopqrstuvwxyz",DIGIT="0123456789",ALPHABET$1={DIGIT,ALPHA,ALPHA_DIGIT:ALPHA+ALPHA.toUpperCase()+DIGIT},generateString=(_=16,a=ALPHABET$1.ALPHA_DIGIT)=>{let $="";const{length:j}=a;for(;_--;)$+=a[Math.random()*j|0];return $};function isSpecCompliantForm(_){return!!(_&&isFunction$2(_.append)&&_[Symbol.toStringTag]==="FormData"&&_[Symbol.iterator])}const toJSONObject=_=>{const a=new Array(10),$=(j,et)=>{if(isObject$2(j)){if(a.indexOf(j)>=0)return;if(!("toJSON"in j)){a[et]=j;const tt=isArray$3(j)?[]:{};return forEach(j,(rt,nt)=>{const it=$(rt,et+1);!isUndefined(it)&&(tt[nt]=it)}),a[et]=void 0,tt}}return j};return $(_,0)},isAsyncFn=kindOfTest("AsyncFunction"),isThenable$1=_=>_&&(isObject$2(_)||isFunction$2(_))&&isFunction$2(_.then)&&isFunction$2(_.catch),utils$4={isArray:isArray$3,isArrayBuffer,isBuffer:isBuffer$1,isFormData,isArrayBufferView,isString:isString$1,isNumber,isBoolean:isBoolean$1,isObject:isObject$2,isPlainObject:isPlainObject$3,isReadableStream,isRequest,isResponse,isHeaders,isUndefined,isDate:isDate$1,isFile,isBlob,isRegExp,isFunction:isFunction$2,isStream,isURLSearchParams,isTypedArray,isFileList,forEach,merge,extend,trim,stripBOM,inherits,toFlatObject,kindOf,kindOfTest,endsWith,toArray:toArray$1,forEachEntry,matchAll,isHTMLForm,hasOwnProperty,hasOwnProp:hasOwnProperty,reduceDescriptors,freezeMethods,toObjectSet,toCamelCase,noop:noop$6,toFiniteNumber,findKey:findKey$1,global:_global,isContextDefined,ALPHABET:ALPHABET$1,generateString,isSpecCompliantForm,toJSONObject,isAsyncFn,isThenable:isThenable$1};function AxiosError(_,a,$,j,et){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=_,this.name="AxiosError",a&&(this.code=a),$&&(this.config=$),j&&(this.request=j),et&&(this.response=et)}utils$4.inherits(AxiosError,Error,{toJSON:function _(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:utils$4.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const prototype$1=AxiosError.prototype,descriptors={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(_=>{descriptors[_]={value:_}});Object.defineProperties(AxiosError,descriptors);Object.defineProperty(prototype$1,"isAxiosError",{value:!0});AxiosError.from=(_,a,$,j,et,tt)=>{const rt=Object.create(prototype$1);return utils$4.toFlatObject(_,rt,function(it){return it!==Error.prototype},nt=>nt!=="isAxiosError"),AxiosError.call(rt,_.message,a,$,j,et),rt.cause=_,rt.name=_.name,tt&&Object.assign(rt,tt),rt};const httpAdapter=null;function isVisitable(_){return utils$4.isPlainObject(_)||utils$4.isArray(_)}function removeBrackets(_){return utils$4.endsWith(_,"[]")?_.slice(0,-2):_}function renderKey(_,a,$){return _?_.concat(a).map(function(et,tt){return et=removeBrackets(et),!$&&tt?"["+et+"]":et}).join($?".":""):a}function isFlatArray(_){return utils$4.isArray(_)&&!_.some(isVisitable)}const predicates=utils$4.toFlatObject(utils$4,{},null,function _(a){return/^is[A-Z]/.test(a)});function toFormData(_,a,$){if(!utils$4.isObject(_))throw new TypeError("target must be an object");a=a||new FormData,$=utils$4.toFlatObject($,{metaTokens:!0,dots:!1,indexes:!1},!1,function(St,Mt){return!utils$4.isUndefined(Mt[St])});const j=$.metaTokens,et=$.visitor||st,tt=$.dots,rt=$.indexes,it=($.Blob||typeof Blob<"u"&&Blob)&&utils$4.isSpecCompliantForm(a);if(!utils$4.isFunction(et))throw new TypeError("visitor must be a function");function ot(Et){if(Et===null)return"";if(utils$4.isDate(Et))return Et.toISOString();if(!it&&utils$4.isBlob(Et))throw new AxiosError("Blob is not supported. Use a Buffer instead.");return utils$4.isArrayBuffer(Et)||utils$4.isTypedArray(Et)?it&&typeof Blob=="function"?new Blob([Et]):Buffer$g.from(Et):Et}function st(Et,St,Mt){let kt=Et;if(Et&&!Mt&&typeof Et=="object"){if(utils$4.endsWith(St,"{}"))St=j?St:St.slice(0,-2),Et=JSON.stringify(Et);else if(utils$4.isArray(Et)&&isFlatArray(Et)||(utils$4.isFileList(Et)||utils$4.endsWith(St,"[]"))&&(kt=utils$4.toArray(Et)))return St=removeBrackets(St),kt.forEach(function(Ot,zt){!(utils$4.isUndefined(Ot)||Ot===null)&&a.append(rt===!0?renderKey([St],zt,tt):rt===null?St:St+"[]",ot(Ot))}),!1}return isVisitable(Et)?!0:(a.append(renderKey(Mt,St,tt),ot(Et)),!1)}const ct=[],ut=Object.assign(predicates,{defaultVisitor:st,convertValue:ot,isVisitable});function ht(Et,St){if(!utils$4.isUndefined(Et)){if(ct.indexOf(Et)!==-1)throw Error("Circular reference detected in "+St.join("."));ct.push(Et),utils$4.forEach(Et,function(kt,Ct){(!(utils$4.isUndefined(kt)||kt===null)&&et.call(a,kt,utils$4.isString(Ct)?Ct.trim():Ct,St,ut))===!0&&ht(kt,St?St.concat(Ct):[Ct])}),ct.pop()}}if(!utils$4.isObject(_))throw new TypeError("data must be an object");return ht(_),a}function encode$5(_){const a={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(_).replace(/[!'()~]|%20|%00/g,function(j){return a[j]})}function AxiosURLSearchParams(_,a){this._pairs=[],_&&toFormData(_,this,a)}const prototype=AxiosURLSearchParams.prototype;prototype.append=function _(a,$){this._pairs.push([a,$])};prototype.toString=function _(a){const $=a?function(j){return a.call(this,j,encode$5)}:encode$5;return this._pairs.map(function(et){return $(et[0])+"="+$(et[1])},"").join("&")};function encode$4(_){return encodeURIComponent(_).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function buildURL(_,a,$){if(!a)return _;const j=$&&$.encode||encode$4,et=$&&$.serialize;let tt;if(et?tt=et(a,$):tt=utils$4.isURLSearchParams(a)?a.toString():new AxiosURLSearchParams(a,$).toString(j),tt){const rt=_.indexOf("#");rt!==-1&&(_=_.slice(0,rt)),_+=(_.indexOf("?")===-1?"?":"&")+tt}return _}class InterceptorManager{constructor(){this.handlers=[]}use(a,$,j){return this.handlers.push({fulfilled:a,rejected:$,synchronous:j?j.synchronous:!1,runWhen:j?j.runWhen:null}),this.handlers.length-1}eject(a){this.handlers[a]&&(this.handlers[a]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(a){utils$4.forEach(this.handlers,function(j){j!==null&&a(j)})}}const transitionalDefaults={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},URLSearchParams$1=typeof URLSearchParams<"u"?URLSearchParams:AxiosURLSearchParams,FormData$1=typeof FormData<"u"?FormData:null,Blob$1=typeof Blob<"u"?Blob:null,platform$1={isBrowser:!0,classes:{URLSearchParams:URLSearchParams$1,FormData:FormData$1,Blob:Blob$1},protocols:["http","https","file","blob","url","data"]},hasBrowserEnv=typeof window<"u"&&typeof document<"u",hasStandardBrowserEnv=(_=>hasBrowserEnv&&["ReactNative","NativeScript","NS"].indexOf(_)<0)(typeof navigator<"u"&&navigator.product),hasStandardBrowserWebWorkerEnv=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",origin=hasBrowserEnv&&window.location.href||"http://localhost",utils$3=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv,hasStandardBrowserEnv,hasStandardBrowserWebWorkerEnv,origin},Symbol.toStringTag,{value:"Module"})),platform={...utils$3,...platform$1};function toURLEncodedForm(_,a){return toFormData(_,new platform.classes.URLSearchParams,Object.assign({visitor:function($,j,et,tt){return platform.isNode&&utils$4.isBuffer($)?(this.append(j,$.toString("base64")),!1):tt.defaultVisitor.apply(this,arguments)}},a))}function parsePropPath(_){return utils$4.matchAll(/\w+|\[(\w*)]/g,_).map(a=>a[0]==="[]"?"":a[1]||a[0])}function arrayToObject(_){const a={},$=Object.keys(_);let j;const et=$.length;let tt;for(j=0;j<et;j++)tt=$[j],a[tt]=_[tt];return a}function formDataToJSON(_){function a($,j,et,tt){let rt=$[tt++];if(rt==="__proto__")return!0;const nt=Number.isFinite(+rt),it=tt>=$.length;return rt=!rt&&utils$4.isArray(et)?et.length:rt,it?(utils$4.hasOwnProp(et,rt)?et[rt]=[et[rt],j]:et[rt]=j,!nt):((!et[rt]||!utils$4.isObject(et[rt]))&&(et[rt]=[]),a($,j,et[rt],tt)&&utils$4.isArray(et[rt])&&(et[rt]=arrayToObject(et[rt])),!nt)}if(utils$4.isFormData(_)&&utils$4.isFunction(_.entries)){const $={};return utils$4.forEachEntry(_,(j,et)=>{a(parsePropPath(j),et,$,0)}),$}return null}function stringifySafely(_,a,$){if(utils$4.isString(_))try{return(a||JSON.parse)(_),utils$4.trim(_)}catch(j){if(j.name!=="SyntaxError")throw j}return($||JSON.stringify)(_)}const defaults$1={transitional:transitionalDefaults,adapter:["xhr","http","fetch"],transformRequest:[function _(a,$){const j=$.getContentType()||"",et=j.indexOf("application/json")>-1,tt=utils$4.isObject(a);if(tt&&utils$4.isHTMLForm(a)&&(a=new FormData(a)),utils$4.isFormData(a))return et?JSON.stringify(formDataToJSON(a)):a;if(utils$4.isArrayBuffer(a)||utils$4.isBuffer(a)||utils$4.isStream(a)||utils$4.isFile(a)||utils$4.isBlob(a)||utils$4.isReadableStream(a))return a;if(utils$4.isArrayBufferView(a))return a.buffer;if(utils$4.isURLSearchParams(a))return $.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),a.toString();let nt;if(tt){if(j.indexOf("application/x-www-form-urlencoded")>-1)return toURLEncodedForm(a,this.formSerializer).toString();if((nt=utils$4.isFileList(a))||j.indexOf("multipart/form-data")>-1){const it=this.env&&this.env.FormData;return toFormData(nt?{"files[]":a}:a,it&&new it,this.formSerializer)}}return tt||et?($.setContentType("application/json",!1),stringifySafely(a)):a}],transformResponse:[function _(a){const $=this.transitional||defaults$1.transitional,j=$&&$.forcedJSONParsing,et=this.responseType==="json";if(utils$4.isResponse(a)||utils$4.isReadableStream(a))return a;if(a&&utils$4.isString(a)&&(j&&!this.responseType||et)){const rt=!($&&$.silentJSONParsing)&&et;try{return JSON.parse(a)}catch(nt){if(rt)throw nt.name==="SyntaxError"?AxiosError.from(nt,AxiosError.ERR_BAD_RESPONSE,this,null,this.response):nt}}return a}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:platform.classes.FormData,Blob:platform.classes.Blob},validateStatus:function _(a){return a>=200&&a<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};utils$4.forEach(["delete","get","head","post","put","patch"],_=>{defaults$1.headers[_]={}});const ignoreDuplicateOf=utils$4.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),parseHeaders=_=>{const a={};let $,j,et;return _&&_.split(`
`).forEach(function(rt){et=rt.indexOf(":"),$=rt.substring(0,et).trim().toLowerCase(),j=rt.substring(et+1).trim(),!(!$||a[$]&&ignoreDuplicateOf[$])&&($==="set-cookie"?a[$]?a[$].push(j):a[$]=[j]:a[$]=a[$]?a[$]+", "+j:j)}),a},$internals=Symbol("internals");function normalizeHeader(_){return _&&String(_).trim().toLowerCase()}function normalizeValue(_){return _===!1||_==null?_:utils$4.isArray(_)?_.map(normalizeValue):String(_)}function parseTokens(_){const a=Object.create(null),$=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let j;for(;j=$.exec(_);)a[j[1]]=j[2];return a}const isValidHeaderName=_=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(_.trim());function matchHeaderValue(_,a,$,j,et){if(utils$4.isFunction(j))return j.call(this,a,$);if(et&&(a=$),!!utils$4.isString(a)){if(utils$4.isString(j))return a.indexOf(j)!==-1;if(utils$4.isRegExp(j))return j.test(a)}}function formatHeader(_){return _.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(a,$,j)=>$.toUpperCase()+j)}function buildAccessors(_,a){const $=utils$4.toCamelCase(" "+a);["get","set","has"].forEach(j=>{Object.defineProperty(_,j+$,{value:function(et,tt,rt){return this[j].call(this,a,et,tt,rt)},configurable:!0})})}class AxiosHeaders{constructor(a){a&&this.set(a)}set(a,$,j){const et=this;function tt(nt,it,ot){const st=normalizeHeader(it);if(!st)throw new Error("header name must be a non-empty string");const ct=utils$4.findKey(et,st);(!ct||et[ct]===void 0||ot===!0||ot===void 0&&et[ct]!==!1)&&(et[ct||it]=normalizeValue(nt))}const rt=(nt,it)=>utils$4.forEach(nt,(ot,st)=>tt(ot,st,it));if(utils$4.isPlainObject(a)||a instanceof this.constructor)rt(a,$);else if(utils$4.isString(a)&&(a=a.trim())&&!isValidHeaderName(a))rt(parseHeaders(a),$);else if(utils$4.isHeaders(a))for(const[nt,it]of a.entries())tt(it,nt,j);else a!=null&&tt($,a,j);return this}get(a,$){if(a=normalizeHeader(a),a){const j=utils$4.findKey(this,a);if(j){const et=this[j];if(!$)return et;if($===!0)return parseTokens(et);if(utils$4.isFunction($))return $.call(this,et,j);if(utils$4.isRegExp($))return $.exec(et);throw new TypeError("parser must be boolean|regexp|function")}}}has(a,$){if(a=normalizeHeader(a),a){const j=utils$4.findKey(this,a);return!!(j&&this[j]!==void 0&&(!$||matchHeaderValue(this,this[j],j,$)))}return!1}delete(a,$){const j=this;let et=!1;function tt(rt){if(rt=normalizeHeader(rt),rt){const nt=utils$4.findKey(j,rt);nt&&(!$||matchHeaderValue(j,j[nt],nt,$))&&(delete j[nt],et=!0)}}return utils$4.isArray(a)?a.forEach(tt):tt(a),et}clear(a){const $=Object.keys(this);let j=$.length,et=!1;for(;j--;){const tt=$[j];(!a||matchHeaderValue(this,this[tt],tt,a,!0))&&(delete this[tt],et=!0)}return et}normalize(a){const $=this,j={};return utils$4.forEach(this,(et,tt)=>{const rt=utils$4.findKey(j,tt);if(rt){$[rt]=normalizeValue(et),delete $[tt];return}const nt=a?formatHeader(tt):String(tt).trim();nt!==tt&&delete $[tt],$[nt]=normalizeValue(et),j[nt]=!0}),this}concat(...a){return this.constructor.concat(this,...a)}toJSON(a){const $=Object.create(null);return utils$4.forEach(this,(j,et)=>{j!=null&&j!==!1&&($[et]=a&&utils$4.isArray(j)?j.join(", "):j)}),$}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([a,$])=>a+": "+$).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(a){return a instanceof this?a:new this(a)}static concat(a,...$){const j=new this(a);return $.forEach(et=>j.set(et)),j}static accessor(a){const j=(this[$internals]=this[$internals]={accessors:{}}).accessors,et=this.prototype;function tt(rt){const nt=normalizeHeader(rt);j[nt]||(buildAccessors(et,rt),j[nt]=!0)}return utils$4.isArray(a)?a.forEach(tt):tt(a),this}}AxiosHeaders.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);utils$4.reduceDescriptors(AxiosHeaders.prototype,({value:_},a)=>{let $=a[0].toUpperCase()+a.slice(1);return{get:()=>_,set(j){this[$]=j}}});utils$4.freezeMethods(AxiosHeaders);function transformData(_,a){const $=this||defaults$1,j=a||$,et=AxiosHeaders.from(j.headers);let tt=j.data;return utils$4.forEach(_,function(nt){tt=nt.call($,tt,et.normalize(),a?a.status:void 0)}),et.normalize(),tt}function isCancel(_){return!!(_&&_.__CANCEL__)}function CanceledError(_,a,$){AxiosError.call(this,_??"canceled",AxiosError.ERR_CANCELED,a,$),this.name="CanceledError"}utils$4.inherits(CanceledError,AxiosError,{__CANCEL__:!0});function settle(_,a,$){const j=$.config.validateStatus;!$.status||!j||j($.status)?_($):a(new AxiosError("Request failed with status code "+$.status,[AxiosError.ERR_BAD_REQUEST,AxiosError.ERR_BAD_RESPONSE][Math.floor($.status/100)-4],$.config,$.request,$))}function parseProtocol(_){const a=/^([-+\w]{1,25})(:?\/\/|:)/.exec(_);return a&&a[1]||""}function speedometer(_,a){_=_||10;const $=new Array(_),j=new Array(_);let et=0,tt=0,rt;return a=a!==void 0?a:1e3,function(it){const ot=Date.now(),st=j[tt];rt||(rt=ot),$[et]=it,j[et]=ot;let ct=tt,ut=0;for(;ct!==et;)ut+=$[ct++],ct=ct%_;if(et=(et+1)%_,et===tt&&(tt=(tt+1)%_),ot-rt<a)return;const ht=st&&ot-st;return ht?Math.round(ut*1e3/ht):void 0}}function throttle(_,a){let $=0;const j=1e3/a;let et=null;return function(){const rt=this===!0,nt=Date.now();if(rt||nt-$>j)return et&&(clearTimeout(et),et=null),$=nt,_.apply(null,arguments);et||(et=setTimeout(()=>(et=null,$=Date.now(),_.apply(null,arguments)),j-(nt-$)))}}const progressEventReducer=(_,a,$=3)=>{let j=0;const et=speedometer(50,250);return throttle(tt=>{const rt=tt.loaded,nt=tt.lengthComputable?tt.total:void 0,it=rt-j,ot=et(it),st=rt<=nt;j=rt;const ct={loaded:rt,total:nt,progress:nt?rt/nt:void 0,bytes:it,rate:ot||void 0,estimated:ot&&nt&&st?(nt-rt)/ot:void 0,event:tt,lengthComputable:nt!=null};ct[a?"download":"upload"]=!0,_(ct)},$)},isURLSameOrigin=platform.hasStandardBrowserEnv?function _(){const a=/(msie|trident)/i.test(navigator.userAgent),$=document.createElement("a");let j;function et(tt){let rt=tt;return a&&($.setAttribute("href",rt),rt=$.href),$.setAttribute("href",rt),{href:$.href,protocol:$.protocol?$.protocol.replace(/:$/,""):"",host:$.host,search:$.search?$.search.replace(/^\?/,""):"",hash:$.hash?$.hash.replace(/^#/,""):"",hostname:$.hostname,port:$.port,pathname:$.pathname.charAt(0)==="/"?$.pathname:"/"+$.pathname}}return j=et(window.location.href),function(rt){const nt=utils$4.isString(rt)?et(rt):rt;return nt.protocol===j.protocol&&nt.host===j.host}}():function _(){return function(){return!0}}(),cookies=platform.hasStandardBrowserEnv?{write(_,a,$,j,et,tt){const rt=[_+"="+encodeURIComponent(a)];utils$4.isNumber($)&&rt.push("expires="+new Date($).toGMTString()),utils$4.isString(j)&&rt.push("path="+j),utils$4.isString(et)&&rt.push("domain="+et),tt===!0&&rt.push("secure"),document.cookie=rt.join("; ")},read(_){const a=document.cookie.match(new RegExp("(^|;\\s*)("+_+")=([^;]*)"));return a?decodeURIComponent(a[3]):null},remove(_){this.write(_,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function isAbsoluteURL(_){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(_)}function combineURLs(_,a){return a?_.replace(/\/?\/$/,"")+"/"+a.replace(/^\/+/,""):_}function buildFullPath(_,a){return _&&!isAbsoluteURL(a)?combineURLs(_,a):a}const headersToObject=_=>_ instanceof AxiosHeaders?{..._}:_;function mergeConfig(_,a){a=a||{};const $={};function j(ot,st,ct){return utils$4.isPlainObject(ot)&&utils$4.isPlainObject(st)?utils$4.merge.call({caseless:ct},ot,st):utils$4.isPlainObject(st)?utils$4.merge({},st):utils$4.isArray(st)?st.slice():st}function et(ot,st,ct){if(utils$4.isUndefined(st)){if(!utils$4.isUndefined(ot))return j(void 0,ot,ct)}else return j(ot,st,ct)}function tt(ot,st){if(!utils$4.isUndefined(st))return j(void 0,st)}function rt(ot,st){if(utils$4.isUndefined(st)){if(!utils$4.isUndefined(ot))return j(void 0,ot)}else return j(void 0,st)}function nt(ot,st,ct){if(ct in a)return j(ot,st);if(ct in _)return j(void 0,ot)}const it={url:tt,method:tt,data:tt,baseURL:rt,transformRequest:rt,transformResponse:rt,paramsSerializer:rt,timeout:rt,timeoutMessage:rt,withCredentials:rt,withXSRFToken:rt,adapter:rt,responseType:rt,xsrfCookieName:rt,xsrfHeaderName:rt,onUploadProgress:rt,onDownloadProgress:rt,decompress:rt,maxContentLength:rt,maxBodyLength:rt,beforeRedirect:rt,transport:rt,httpAgent:rt,httpsAgent:rt,cancelToken:rt,socketPath:rt,responseEncoding:rt,validateStatus:nt,headers:(ot,st)=>et(headersToObject(ot),headersToObject(st),!0)};return utils$4.forEach(Object.keys(Object.assign({},_,a)),function(st){const ct=it[st]||et,ut=ct(_[st],a[st],st);utils$4.isUndefined(ut)&&ct!==nt||($[st]=ut)}),$}const resolveConfig=_=>{const a=mergeConfig({},_);let{data:$,withXSRFToken:j,xsrfHeaderName:et,xsrfCookieName:tt,headers:rt,auth:nt}=a;a.headers=rt=AxiosHeaders.from(rt),a.url=buildURL(buildFullPath(a.baseURL,a.url),_.params,_.paramsSerializer),nt&&rt.set("Authorization","Basic "+btoa((nt.username||"")+":"+(nt.password?unescape(encodeURIComponent(nt.password)):"")));let it;if(utils$4.isFormData($)){if(platform.hasStandardBrowserEnv||platform.hasStandardBrowserWebWorkerEnv)rt.setContentType(void 0);else if((it=rt.getContentType())!==!1){const[ot,...st]=it?it.split(";").map(ct=>ct.trim()).filter(Boolean):[];rt.setContentType([ot||"multipart/form-data",...st].join("; "))}}if(platform.hasStandardBrowserEnv&&(j&&utils$4.isFunction(j)&&(j=j(a)),j||j!==!1&&isURLSameOrigin(a.url))){const ot=et&&tt&&cookies.read(tt);ot&&rt.set(et,ot)}return a},isXHRAdapterSupported=typeof XMLHttpRequest<"u",xhrAdapter=isXHRAdapterSupported&&function(_){return new Promise(function($,j){const et=resolveConfig(_);let tt=et.data;const rt=AxiosHeaders.from(et.headers).normalize();let{responseType:nt}=et,it;function ot(){et.cancelToken&&et.cancelToken.unsubscribe(it),et.signal&&et.signal.removeEventListener("abort",it)}let st=new XMLHttpRequest;st.open(et.method.toUpperCase(),et.url,!0),st.timeout=et.timeout;function ct(){if(!st)return;const ht=AxiosHeaders.from("getAllResponseHeaders"in st&&st.getAllResponseHeaders()),St={data:!nt||nt==="text"||nt==="json"?st.responseText:st.response,status:st.status,statusText:st.statusText,headers:ht,config:_,request:st};settle(function(kt){$(kt),ot()},function(kt){j(kt),ot()},St),st=null}"onloadend"in st?st.onloadend=ct:st.onreadystatechange=function(){!st||st.readyState!==4||st.status===0&&!(st.responseURL&&st.responseURL.indexOf("file:")===0)||setTimeout(ct)},st.onabort=function(){st&&(j(new AxiosError("Request aborted",AxiosError.ECONNABORTED,et,st)),st=null)},st.onerror=function(){j(new AxiosError("Network Error",AxiosError.ERR_NETWORK,et,st)),st=null},st.ontimeout=function(){let Et=et.timeout?"timeout of "+et.timeout+"ms exceeded":"timeout exceeded";const St=et.transitional||transitionalDefaults;et.timeoutErrorMessage&&(Et=et.timeoutErrorMessage),j(new AxiosError(Et,St.clarifyTimeoutError?AxiosError.ETIMEDOUT:AxiosError.ECONNABORTED,et,st)),st=null},tt===void 0&&rt.setContentType(null),"setRequestHeader"in st&&utils$4.forEach(rt.toJSON(),function(Et,St){st.setRequestHeader(St,Et)}),utils$4.isUndefined(et.withCredentials)||(st.withCredentials=!!et.withCredentials),nt&&nt!=="json"&&(st.responseType=et.responseType),typeof et.onDownloadProgress=="function"&&st.addEventListener("progress",progressEventReducer(et.onDownloadProgress,!0)),typeof et.onUploadProgress=="function"&&st.upload&&st.upload.addEventListener("progress",progressEventReducer(et.onUploadProgress)),(et.cancelToken||et.signal)&&(it=ht=>{st&&(j(!ht||ht.type?new CanceledError(null,_,st):ht),st.abort(),st=null)},et.cancelToken&&et.cancelToken.subscribe(it),et.signal&&(et.signal.aborted?it():et.signal.addEventListener("abort",it)));const ut=parseProtocol(et.url);if(ut&&platform.protocols.indexOf(ut)===-1){j(new AxiosError("Unsupported protocol "+ut+":",AxiosError.ERR_BAD_REQUEST,_));return}st.send(tt||null)})},composeSignals=(_,a)=>{let $=new AbortController,j;const et=function(it){if(!j){j=!0,rt();const ot=it instanceof Error?it:this.reason;$.abort(ot instanceof AxiosError?ot:new CanceledError(ot instanceof Error?ot.message:ot))}};let tt=a&&setTimeout(()=>{et(new AxiosError(`timeout ${a} of ms exceeded`,AxiosError.ETIMEDOUT))},a);const rt=()=>{_&&(tt&&clearTimeout(tt),tt=null,_.forEach(it=>{it&&(it.removeEventListener?it.removeEventListener("abort",et):it.unsubscribe(et))}),_=null)};_.forEach(it=>it&&it.addEventListener&&it.addEventListener("abort",et));const{signal:nt}=$;return nt.unsubscribe=rt,[nt,()=>{tt&&clearTimeout(tt),tt=null}]},streamChunk=function*(_,a){let $=_.byteLength;if(!a||$<a){yield _;return}let j=0,et;for(;j<$;)et=j+a,yield _.slice(j,et),j=et},readBytes=async function*(_,a,$){for await(const j of _)yield*streamChunk(ArrayBuffer.isView(j)?j:await $(String(j)),a)},trackStream=(_,a,$,j,et)=>{const tt=readBytes(_,a,et);let rt=0;return new ReadableStream({type:"bytes",async pull(nt){const{done:it,value:ot}=await tt.next();if(it){nt.close(),j();return}let st=ot.byteLength;$&&$(rt+=st),nt.enqueue(new Uint8Array(ot))},cancel(nt){return j(nt),tt.return()}},{highWaterMark:2})},fetchProgressDecorator=(_,a)=>{const $=_!=null;return j=>setTimeout(()=>a({lengthComputable:$,total:_,loaded:j}))},isFetchSupported=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",isReadableStreamSupported=isFetchSupported&&typeof ReadableStream=="function",encodeText=isFetchSupported&&(typeof TextEncoder=="function"?(_=>a=>_.encode(a))(new TextEncoder):async _=>new Uint8Array(await new Response(_).arrayBuffer())),supportsRequestStream=isReadableStreamSupported&&(()=>{let _=!1;const a=new Request(platform.origin,{body:new ReadableStream,method:"POST",get duplex(){return _=!0,"half"}}).headers.has("Content-Type");return _&&!a})(),DEFAULT_CHUNK_SIZE=64*1024,supportsResponseStream=isReadableStreamSupported&&!!(()=>{try{return utils$4.isReadableStream(new Response("").body)}catch{}})(),resolvers={stream:supportsResponseStream&&(_=>_.body)};isFetchSupported&&(_=>{["text","arrayBuffer","blob","formData","stream"].forEach(a=>{!resolvers[a]&&(resolvers[a]=utils$4.isFunction(_[a])?$=>$[a]():($,j)=>{throw new AxiosError(`Response type '${a}' is not supported`,AxiosError.ERR_NOT_SUPPORT,j)})})})(new Response);const getBodyLength=async _=>{if(_==null)return 0;if(utils$4.isBlob(_))return _.size;if(utils$4.isSpecCompliantForm(_))return(await new Request(_).arrayBuffer()).byteLength;if(utils$4.isArrayBufferView(_))return _.byteLength;if(utils$4.isURLSearchParams(_)&&(_=_+""),utils$4.isString(_))return(await encodeText(_)).byteLength},resolveBodyLength=async(_,a)=>{const $=utils$4.toFiniteNumber(_.getContentLength());return $??getBodyLength(a)},fetchAdapter=isFetchSupported&&(async _=>{let{url:a,method:$,data:j,signal:et,cancelToken:tt,timeout:rt,onDownloadProgress:nt,onUploadProgress:it,responseType:ot,headers:st,withCredentials:ct="same-origin",fetchOptions:ut}=resolveConfig(_);ot=ot?(ot+"").toLowerCase():"text";let[ht,Et]=et||tt||rt?composeSignals([et,tt],rt):[],St,Mt;const kt=()=>{!St&&setTimeout(()=>{ht&&ht.unsubscribe()}),St=!0};let Ct;try{if(it&&supportsRequestStream&&$!=="get"&&$!=="head"&&(Ct=await resolveBodyLength(st,j))!==0){let Vt=new Request(a,{method:"POST",body:j,duplex:"half"}),jt;utils$4.isFormData(j)&&(jt=Vt.headers.get("content-type"))&&st.setContentType(jt),Vt.body&&(j=trackStream(Vt.body,DEFAULT_CHUNK_SIZE,fetchProgressDecorator(Ct,progressEventReducer(it)),null,encodeText))}utils$4.isString(ct)||(ct=ct?"cors":"omit"),Mt=new Request(a,{...ut,signal:ht,method:$.toUpperCase(),headers:st.normalize().toJSON(),body:j,duplex:"half",withCredentials:ct});let Ot=await fetch(Mt);const zt=supportsResponseStream&&(ot==="stream"||ot==="response");if(supportsResponseStream&&(nt||zt)){const Vt={};["status","statusText","headers"].forEach($t=>{Vt[$t]=Ot[$t]});const jt=utils$4.toFiniteNumber(Ot.headers.get("content-length"));Ot=new Response(trackStream(Ot.body,DEFAULT_CHUNK_SIZE,nt&&fetchProgressDecorator(jt,progressEventReducer(nt,!0)),zt&&kt,encodeText),Vt)}ot=ot||"text";let Ut=await resolvers[utils$4.findKey(resolvers,ot)||"text"](Ot,_);return!zt&&kt(),Et&&Et(),await new Promise((Vt,jt)=>{settle(Vt,jt,{data:Ut,headers:AxiosHeaders.from(Ot.headers),status:Ot.status,statusText:Ot.statusText,config:_,request:Mt})})}catch(Ot){throw kt(),Ot&&Ot.name==="TypeError"&&/fetch/i.test(Ot.message)?Object.assign(new AxiosError("Network Error",AxiosError.ERR_NETWORK,_,Mt),{cause:Ot.cause||Ot}):AxiosError.from(Ot,Ot&&Ot.code,_,Mt)}}),knownAdapters={http:httpAdapter,xhr:xhrAdapter,fetch:fetchAdapter};utils$4.forEach(knownAdapters,(_,a)=>{if(_){try{Object.defineProperty(_,"name",{value:a})}catch{}Object.defineProperty(_,"adapterName",{value:a})}});const renderReason=_=>`- ${_}`,isResolvedHandle=_=>utils$4.isFunction(_)||_===null||_===!1,adapters={getAdapter:_=>{_=utils$4.isArray(_)?_:[_];const{length:a}=_;let $,j;const et={};for(let tt=0;tt<a;tt++){$=_[tt];let rt;if(j=$,!isResolvedHandle($)&&(j=knownAdapters[(rt=String($)).toLowerCase()],j===void 0))throw new AxiosError(`Unknown adapter '${rt}'`);if(j)break;et[rt||"#"+tt]=j}if(!j){const tt=Object.entries(et).map(([nt,it])=>`adapter ${nt} `+(it===!1?"is not supported by the environment":"is not available in the build"));let rt=a?tt.length>1?`since :
`+tt.map(renderReason).join(`
`):" "+renderReason(tt[0]):"as no adapter specified";throw new AxiosError("There is no suitable adapter to dispatch the request "+rt,"ERR_NOT_SUPPORT")}return j},adapters:knownAdapters};function throwIfCancellationRequested(_){if(_.cancelToken&&_.cancelToken.throwIfRequested(),_.signal&&_.signal.aborted)throw new CanceledError(null,_)}function dispatchRequest(_){return throwIfCancellationRequested(_),_.headers=AxiosHeaders.from(_.headers),_.data=transformData.call(_,_.transformRequest),["post","put","patch"].indexOf(_.method)!==-1&&_.headers.setContentType("application/x-www-form-urlencoded",!1),adapters.getAdapter(_.adapter||defaults$1.adapter)(_).then(function(j){return throwIfCancellationRequested(_),j.data=transformData.call(_,_.transformResponse,j),j.headers=AxiosHeaders.from(j.headers),j},function(j){return isCancel(j)||(throwIfCancellationRequested(_),j&&j.response&&(j.response.data=transformData.call(_,_.transformResponse,j.response),j.response.headers=AxiosHeaders.from(j.response.headers))),Promise.reject(j)})}const VERSION$2="1.7.2",validators$1={};["object","boolean","number","function","string","symbol"].forEach((_,a)=>{validators$1[_]=function(j){return typeof j===_||"a"+(a<1?"n ":" ")+_}});const deprecatedWarnings={};validators$1.transitional=function _(a,$,j){function et(tt,rt){return"[Axios v"+VERSION$2+"] Transitional option '"+tt+"'"+rt+(j?". "+j:"")}return(tt,rt,nt)=>{if(a===!1)throw new AxiosError(et(rt," has been removed"+($?" in "+$:"")),AxiosError.ERR_DEPRECATED);return $&&!deprecatedWarnings[rt]&&(deprecatedWarnings[rt]=!0,console.warn(et(rt," has been deprecated since v"+$+" and will be removed in the near future"))),a?a(tt,rt,nt):!0}};function assertOptions(_,a,$){if(typeof _!="object")throw new AxiosError("options must be an object",AxiosError.ERR_BAD_OPTION_VALUE);const j=Object.keys(_);let et=j.length;for(;et-- >0;){const tt=j[et],rt=a[tt];if(rt){const nt=_[tt],it=nt===void 0||rt(nt,tt,_);if(it!==!0)throw new AxiosError("option "+tt+" must be "+it,AxiosError.ERR_BAD_OPTION_VALUE);continue}if($!==!0)throw new AxiosError("Unknown option "+tt,AxiosError.ERR_BAD_OPTION)}}const validator={assertOptions,validators:validators$1},validators=validator.validators;class Axios{constructor(a){this.defaults=a,this.interceptors={request:new InterceptorManager,response:new InterceptorManager}}async request(a,$){try{return await this._request(a,$)}catch(j){if(j instanceof Error){let et;Error.captureStackTrace?Error.captureStackTrace(et={}):et=new Error;const tt=et.stack?et.stack.replace(/^.+\n/,""):"";try{j.stack?tt&&!String(j.stack).endsWith(tt.replace(/^.+\n.+\n/,""))&&(j.stack+=`
`+tt):j.stack=tt}catch{}}throw j}}_request(a,$){typeof a=="string"?($=$||{},$.url=a):$=a||{},$=mergeConfig(this.defaults,$);const{transitional:j,paramsSerializer:et,headers:tt}=$;j!==void 0&&validator.assertOptions(j,{silentJSONParsing:validators.transitional(validators.boolean),forcedJSONParsing:validators.transitional(validators.boolean),clarifyTimeoutError:validators.transitional(validators.boolean)},!1),et!=null&&(utils$4.isFunction(et)?$.paramsSerializer={serialize:et}:validator.assertOptions(et,{encode:validators.function,serialize:validators.function},!0)),$.method=($.method||this.defaults.method||"get").toLowerCase();let rt=tt&&utils$4.merge(tt.common,tt[$.method]);tt&&utils$4.forEach(["delete","get","head","post","put","patch","common"],Et=>{delete tt[Et]}),$.headers=AxiosHeaders.concat(rt,tt);const nt=[];let it=!0;this.interceptors.request.forEach(function(St){typeof St.runWhen=="function"&&St.runWhen($)===!1||(it=it&&St.synchronous,nt.unshift(St.fulfilled,St.rejected))});const ot=[];this.interceptors.response.forEach(function(St){ot.push(St.fulfilled,St.rejected)});let st,ct=0,ut;if(!it){const Et=[dispatchRequest.bind(this),void 0];for(Et.unshift.apply(Et,nt),Et.push.apply(Et,ot),ut=Et.length,st=Promise.resolve($);ct<ut;)st=st.then(Et[ct++],Et[ct++]);return st}ut=nt.length;let ht=$;for(ct=0;ct<ut;){const Et=nt[ct++],St=nt[ct++];try{ht=Et(ht)}catch(Mt){St.call(this,Mt);break}}try{st=dispatchRequest.call(this,ht)}catch(Et){return Promise.reject(Et)}for(ct=0,ut=ot.length;ct<ut;)st=st.then(ot[ct++],ot[ct++]);return st}getUri(a){a=mergeConfig(this.defaults,a);const $=buildFullPath(a.baseURL,a.url);return buildURL($,a.params,a.paramsSerializer)}}utils$4.forEach(["delete","get","head","options"],function _(a){Axios.prototype[a]=function($,j){return this.request(mergeConfig(j||{},{method:a,url:$,data:(j||{}).data}))}});utils$4.forEach(["post","put","patch"],function _(a){function $(j){return function(tt,rt,nt){return this.request(mergeConfig(nt||{},{method:a,headers:j?{"Content-Type":"multipart/form-data"}:{},url:tt,data:rt}))}}Axios.prototype[a]=$(),Axios.prototype[a+"Form"]=$(!0)});class CancelToken{constructor(a){if(typeof a!="function")throw new TypeError("executor must be a function.");let $;this.promise=new Promise(function(tt){$=tt});const j=this;this.promise.then(et=>{if(!j._listeners)return;let tt=j._listeners.length;for(;tt-- >0;)j._listeners[tt](et);j._listeners=null}),this.promise.then=et=>{let tt;const rt=new Promise(nt=>{j.subscribe(nt),tt=nt}).then(et);return rt.cancel=function(){j.unsubscribe(tt)},rt},a(function(tt,rt,nt){j.reason||(j.reason=new CanceledError(tt,rt,nt),$(j.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(a){if(this.reason){a(this.reason);return}this._listeners?this._listeners.push(a):this._listeners=[a]}unsubscribe(a){if(!this._listeners)return;const $=this._listeners.indexOf(a);$!==-1&&this._listeners.splice($,1)}static source(){let a;return{token:new CancelToken(function(et){a=et}),cancel:a}}}function spread(_){return function($){return _.apply(null,$)}}function isAxiosError(_){return utils$4.isObject(_)&&_.isAxiosError===!0}const HttpStatusCode={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(HttpStatusCode).forEach(([_,a])=>{HttpStatusCode[a]=_});function createInstance(_){const a=new Axios(_),$=bind$1(Axios.prototype.request,a);return utils$4.extend($,Axios.prototype,a,{allOwnKeys:!0}),utils$4.extend($,a,null,{allOwnKeys:!0}),$.create=function(et){return createInstance(mergeConfig(_,et))},$}const axios=createInstance(defaults$1);axios.Axios=Axios;axios.CanceledError=CanceledError;axios.CancelToken=CancelToken;axios.isCancel=isCancel;axios.VERSION=VERSION$2;axios.toFormData=toFormData;axios.AxiosError=AxiosError;axios.Cancel=axios.CanceledError;axios.all=function _(a){return Promise.all(a)};axios.spread=spread;axios.isAxiosError=isAxiosError;axios.mergeConfig=mergeConfig;axios.AxiosHeaders=AxiosHeaders;axios.formToJSON=_=>formDataToJSON(utils$4.isHTMLForm(_)?new FormData(_):_);axios.getAdapter=adapters.getAdapter;axios.HttpStatusCode=HttpStatusCode;axios.default=axios;var MatrixMessageType;(function(_){_.TEXT="m.text"})(MatrixMessageType||(MatrixMessageType={}));class MatrixMessage{constructor(a,$,j,et){Vr(this,"type");Vr(this,"sender");Vr(this,"content");Vr(this,"timestamp");this.type=a,this.sender=$,this.content=j,this.timestamp=et}static from(a){if(isTextMessageEvent(a))return new MatrixMessage(a.content.msgtype,a.sender,a.content.body,a.origin_server_ts)}}const isCreateEvent=_=>_.type==="m.room.create"&&_.content instanceof Object&&"creator"in _.content,isJoinEvent=_=>_.type==="m.room.member"&&_.content instanceof Object&&"membership"in _.content&&_.content.membership==="join",isMessageEvent=_=>_.type==="m.room.message",isTextMessageEvent=_=>isMessageEvent(_)&&_.content instanceof Object&&"msgtype"in _.content&&_.content.msgtype===MatrixMessageType.TEXT;var MatrixRoomStatus;(function(_){_[_.UNKNOWN=0]="UNKNOWN",_[_.JOINED=1]="JOINED",_[_.INVITED=2]="INVITED",_[_.LEFT=3]="LEFT"})(MatrixRoomStatus||(MatrixRoomStatus={}));class MatrixRoom{constructor(a,$=MatrixRoomStatus.UNKNOWN,j=[],et=[]){Vr(this,"id");Vr(this,"status");Vr(this,"members");Vr(this,"messages");this.id=a,this.status=$,this.members=j,this.messages=et}static fromSync(a){if(!a)return[];function $(j,et){return Object.entries(j).map(([tt,rt])=>et(tt,rt))}return[...$(a.join??{},MatrixRoom.fromJoined),...$(a.invite??{},MatrixRoom.fromInvited),...$(a.leave??{},MatrixRoom.fromLeft)]}static from(a,$){return typeof a=="string"?new MatrixRoom(a,$||MatrixRoomStatus.UNKNOWN):$!==void 0?new MatrixRoom(a.id,$,a.members,a.messages):a}static merge(a,$){return!$||$.id!==a.id?MatrixRoom.from(a):new MatrixRoom(a.id,a.status,[...$.members,...a.members].filter((j,et,tt)=>tt.indexOf(j)===et),[...$.messages,...a.messages])}static fromJoined(a,$){const j=[...$.state.events,...$.timeline.events],et=MatrixRoom.getMembersFromEvents(j),tt=MatrixRoom.getMessagesFromEvents(j);return new MatrixRoom(a,MatrixRoomStatus.JOINED,et,tt)}static fromInvited(a,$){const j=MatrixRoom.getMembersFromEvents($.invite_state.events);return new MatrixRoom(a,MatrixRoomStatus.INVITED,j)}static fromLeft(a,$){const j=[...$.state.events,...$.timeline.events],et=MatrixRoom.getMembersFromEvents(j),tt=MatrixRoom.getMessagesFromEvents(j);return new MatrixRoom(a,MatrixRoomStatus.LEFT,et,tt)}static getMembersFromEvents(a){return MatrixRoom.getUniqueEvents(a.filter($=>isCreateEvent($)||isJoinEvent($))).map($=>$.sender).filter(($,j,et)=>et.indexOf($)===j)}static getMessagesFromEvents(a){return MatrixRoom.getUniqueEvents(a.filter(isMessageEvent)).map($=>MatrixMessage.from($)).filter(Boolean)}static getUniqueEvents(a){const $={},j=[];return a.forEach((et,tt)=>{const rt=et.event_id;(rt===void 0||!(rt in $))&&(rt!==void 0&&($[rt]=tt),j.push(et))}),j}}const PRESERVED_FIELDS=["syncToken","rooms"];class MatrixClientStore{constructor(a){Vr(this,"storage");Vr(this,"state",{isRunning:!1,userId:void 0,deviceId:void 0,txnNo:0,accessToken:void 0,syncToken:void 0,pollingTimeout:void 0,pollingRetries:0,rooms:{}});Vr(this,"onStateChangedListeners",new Map);Vr(this,"waitReadyPromise");this.storage=a,this.waitReadyPromise=new Promise(async($,j)=>{try{await this.initFromStorage(),$()}catch(et){j(et)}})}get(a){return this.state[a]}getRoom(a){const $=MatrixRoom.from(a,MatrixRoomStatus.UNKNOWN);return this.state.rooms[$.id]||$}async update(a){await this.waitReady();const $=Object.assign({},this.state);this.setState(a),this.updateStorage(a),this.notifyListeners($,this.state,a)}onStateChanged(a,...$){$.length>0?$.forEach(j=>{this.onStateChangedListeners.set(j,a)}):this.onStateChangedListeners.set("all",a)}async waitReady(){return this.waitReadyPromise}async initFromStorage(){const a=await this.storage.get(StorageKey.MATRIX_PRESERVED_STATE);this.setState(a)}prepareData(a){const j=["rooms"].some(et=>a[et]!==void 0)?JSON.parse(JSON.stringify(a)):a;return Object.values(j.rooms||{}).forEach(et=>{et.messages=[]}),j}updateStorage(a){if(Object.entries(a).filter(([j,et])=>PRESERVED_FIELDS.includes(j)&&!!et).length>0){const j={};PRESERVED_FIELDS.forEach(et=>{j[et]=this.state[et]}),this.storage.set(StorageKey.MATRIX_PRESERVED_STATE,this.prepareData(j))}}setState(a){this.state={isRunning:a.isRunning||this.state.isRunning,userId:a.userId||this.state.userId,deviceId:a.deviceId||this.state.deviceId,txnNo:a.txnNo||this.state.txnNo,accessToken:a.accessToken||this.state.accessToken,syncToken:a.syncToken||this.state.syncToken,pollingTimeout:a.pollingTimeout||this.state.pollingTimeout,pollingRetries:a.pollingRetries||this.state.pollingRetries,rooms:this.mergeRooms(this.state.rooms,a.rooms)}}mergeRooms(a,$){if(!$)return a;const j=Array.isArray($)?$:Object.values($),et=Object.assign({},a);return j.forEach(tt=>{et[tt.id]=MatrixRoom.merge(tt,a[tt.id])}),et}notifyListeners(a,$,j){const et=this.onStateChangedListeners.get("all");et&&et(a,$,j),keys(j).filter(tt=>j[tt]!==void 0).forEach(tt=>{const rt=this.onStateChangedListeners.get(tt);rt&&rt(a,$,j)})}}const logger$6=new Logger("MatrixHttpClient"),CLIENT_API_R0="/_matrix/client/r0";class MatrixHttpClient{constructor(a){Vr(this,"baseUrl");Vr(this,"cancelTokenSource");this.baseUrl=a,this.cancelTokenSource=axios.CancelToken.source()}async get(a,$,j){return this.send("GET",a,j,$)}async post(a,$,j,et){return this.send("POST",a,j,et,$)}async put(a,$,j,et){return this.send("PUT",a,j,et,$)}async cancelAllRequests(){return this.cancelTokenSource.cancel("Manually cancelled")}async send(a,$,j,et,tt){const rt=j?this.getHeaders(j):void 0,nt=et?this.getParams(et):void 0;let it;try{it=await axios.request({method:a,url:$,baseURL:this.apiUrl(CLIENT_API_R0),headers:rt,data:tt,params:nt,cancelToken:this.cancelTokenSource.token})}catch(ot){const st=ot;throw logger$6.error("send",st.code,st.message,st.response.data),ot.response.data}return it.data}getHeaders(a){const $={},j=[];if(a.accessToken&&j.push(["Authorization",`Bearer ${a.accessToken}`]),j.length!==0){for(const[et,tt]of j)$[et]=tt;return $}}getParams(a){if(!a)return;const $=Object.assign(a,{});return keys($).forEach(j=>$[j]===void 0&&delete $[j]),$}apiUrl(...a){const $=this.baseUrl.endsWith("/")?this.baseUrl.substr(0,this.baseUrl.length-1):this.baseUrl,j=a.map(et=>et.startsWith("/")?et.substr(1):et);return[$,...j].join("/")}}class MatrixRoomService{constructor(a){Vr(this,"httpClient");this.httpClient=a}async createRoom(a,$={}){return this.httpClient.post("/createRoom",$,{accessToken:a})}async inviteToRoom(a,$,j){return j.status!==MatrixRoomStatus.JOINED&&j.status!==MatrixRoomStatus.UNKNOWN?Promise.reject(`User is not a member of room ${j.id}.`):this.httpClient.post(`/rooms/${encodeURIComponent(j.id)}/invite`,{user_id:$},{accessToken:a})}async joinRoom(a,$){return $.status===MatrixRoomStatus.JOINED?Promise.resolve({room_id:$.id}):this.httpClient.post(`/rooms/${encodeURIComponent($.id)}/join`,{},{accessToken:a})}async getJoinedRooms(a){return this.httpClient.get("/joined_rooms",void 0,{accessToken:a})}}class MatrixUserService{constructor(a){Vr(this,"httpClient");this.httpClient=a}async login(a,$,j){return this.httpClient.post("/login",{type:"m.login.password",identifier:{type:"m.id.user",user:a},password:$,device_id:j})}}class MatrixEventService{constructor(a){Vr(this,"httpClient");Vr(this,"cachedPromises",new Map);this.httpClient=a}async sync(a,$){return this.withCache("sync",()=>this.httpClient.get("/sync",{timeout:$?$.pollingTimeout:void 0,since:$?$.syncToken:void 0},{accessToken:a}))}async sendMessage(a,$,j,et){return new Promise((tt,rt)=>this.scheduleEvent({accessToken:a,roomId:$,type:"m.room.message",content:j,txnId:et,onSuccess:tt,onError:rt}))}scheduleEvent(a){this.sendEvent(a)}async sendEvent(a){const{roomId:$,type:j,txnId:et,content:tt,accessToken:rt}=a;try{const nt=await this.httpClient.put(`/rooms/${encodeURIComponent($)}/send/${j}/${encodeURIComponent(et)}`,tt,{accessToken:rt});a.onSuccess(nt)}catch(nt){a.onError(nt)}}withCache(a,$){let j=this.cachedPromises.get(a);return j||(j=$().finally(()=>{this.cachedPromises.delete(a)}),this.cachedPromises.set(a,j)),j}}class EventEmitter{constructor(){Vr(this,"events",{})}on(a,$){return typeof this.events[a]!="object"&&(this.events[a]=[]),this.events[a].push($),()=>this.removeListener(a,$)}removeListener(a,$){if(typeof this.events[a]!="object")return;if(!$){this.events[a]=[];return}const j=this.events[a].indexOf($);j>-1&&this.events[a].splice(j,1)}removeAllListeners(){Object.keys(this.events).forEach(a=>this.events[a].splice(0,this.events[a].length))}emit(a,...$){typeof this.events[a]=="object"&&[...this.events[a]].forEach(j=>j.apply(this,$))}once(a,$){const j=this.on(a,(...et)=>{j(),$.apply(this,et)});return j}}var MatrixClientEventType;(function(_){_.INVITE="invite",_.MESSAGE="message"})(MatrixClientEventType||(MatrixClientEventType={}));class MatrixClientEventEmitter extends EventEmitter{constructor(){super(...arguments);Vr(this,"eventEmitProviders",new Map([[MatrixClientEventType.INVITE,()=>[this.isInvite,this.emitInvite.bind(this)]],[MatrixClientEventType.MESSAGE,()=>[this.isMessage,this.emitMessage.bind(this)]]]))}onStateChanged($,j,et){for(const tt of keys(MatrixClientEventType))this.emitIfEvent(MatrixClientEventType[tt],et)}emitIfEvent($,j){const et=this.eventEmitProviders.get($);if(et){const[tt,rt]=et();tt(j)&&rt($,j)}}emitClientEvent($,j,et){this.emit($,{type:$,content:j,timestamp:et})}isInvite($){return $.rooms?$.rooms.some(j=>j.status===MatrixRoomStatus.INVITED):!1}emitInvite($,j){j.rooms.filter(et=>et.status===MatrixRoomStatus.INVITED).map(et=>[et.id,et.members]).forEach(([et,tt])=>{this.emitClientEvent($,{roomId:et,members:tt})})}isMessage($){return $.rooms?$.rooms.some(j=>j.messages.length>0):!1}emitMessage($,j){j.rooms.filter(et=>et.messages.length>0).map(et=>et.messages.map(tt=>[et.id,tt,tt.timestamp])).reduce((et,tt)=>et.concat(tt),[]).forEach(([et,tt,rt])=>{this.emitClientEvent($,{roomId:et,message:tt},rt)})}}const logger$5=new Logger("MatrixClient"),IMMEDIATE_POLLING_RETRIES=3,RETRY_INTERVAL=5e3;class MatrixClient{constructor(a,$,j,et,tt,rt){Vr(this,"store");Vr(this,"eventEmitter");Vr(this,"userService");Vr(this,"roomService");Vr(this,"eventService");Vr(this,"httpClient");Vr(this,"isActive",!0);Vr(this,"_isReady",new ExposedPromise);this.store=a,this.eventEmitter=$,this.userService=j,this.roomService=et,this.eventService=tt,this.httpClient=rt,this.store.onStateChanged((nt,it,ot)=>{this.eventEmitter.onStateChanged(nt,it,ot)},"rooms")}static create(a){const $=new MatrixClientStore(a.storage),j=new MatrixClientEventEmitter,et=new MatrixHttpClient(a.baseUrl),tt=new MatrixUserService(et),rt=new MatrixRoomService(et),nt=new MatrixEventService(et);return new MatrixClient($,j,tt,rt,nt,et)}get joinedRooms(){return new Promise(async a=>{await this.isConnected(),a(Object.values(this.store.get("rooms")).filter($=>$.status===MatrixRoomStatus.JOINED))})}get invitedRooms(){return new Promise(async a=>{await this.isConnected(),a(Object.values(this.store.get("rooms")).filter($=>$.status===MatrixRoomStatus.INVITED))})}get leftRooms(){return new Promise(async a=>{await this.isConnected(),a(Object.values(this.store.get("rooms")).filter($=>$.status===MatrixRoomStatus.LEFT))})}async start(a){const $=await this.userService.login(a.id,a.password,a.deviceId);await this.store.update({accessToken:$.access_token});const j=new Promise(async(et,tt)=>{await this.poll(0,async rt=>{this.store.get("isRunning")||et(),await this.store.update({isRunning:!0,syncToken:rt.next_batch,pollingTimeout:3e4,pollingRetries:0,rooms:MatrixRoom.fromSync(rt.rooms)})},async rt=>{this.store.get("isRunning")||tt(rt),await this.store.update({isRunning:!1,pollingRetries:this.store.get("pollingRetries")+1})})});return j.then(()=>{this._isReady.resolve()}).catch(console.error),j}async isConnected(){return this._isReady.promise}async stop(){return logger$5.log("MATRIX CLIENT STOPPED"),this.isActive=!1,this._isReady=new ExposedPromise,this.httpClient.cancelAllRequests()}subscribe(a,$){this.eventEmitter.on(a,$)}unsubscribe(a,$){$&&this.eventEmitter.removeListener(a,$)}unsubscribeAll(a){this.eventEmitter.removeListener(a)}async getRoomById(a){return await this.isConnected(),this.store.getRoom(a)}async createTrustedPrivateRoom(...a){return await this.isConnected(),this.requiresAuthorization("createRoom",async $=>(await this.roomService.createRoom($,{room_version:"5",invite:a,preset:"public_chat",is_direct:!0})).room_id)}async inviteToRooms(a,...$){await this.isConnected(),await this.requiresAuthorization("invite",j=>Promise.all($.map(et=>{const tt=this.store.getRoom(et);this.roomService.inviteToRoom(j,a,tt).catch(rt=>logger$5.warn("inviteToRooms",rt))})))}async joinRooms(...a){await this.isConnected(),await this.requiresAuthorization("join",$=>Promise.all(a.map(j=>{const et=this.store.getRoom(j);return this.roomService.joinRoom($,et)})))}async sendTextMessage(a,$){await this.isConnected(),await this.requiresAuthorization("send",async j=>{const et=await this.createTxnId();return this.eventService.sendMessage(j,a,{msgtype:"m.text",body:$},et)})}async poll(a,$,j){const et=this.store,tt=this.sync.bind(this),rt=async(nt,it)=>{let ot=0;try{const st=await tt();$(st)}catch(st){j(st),ot=et.get("pollingRetries"),this.isActive&&logger$5.log(`Retry syncing... ${ot} retries so far`)}finally{this.isActive?setTimeout(async()=>{await rt(nt,it)},ot>IMMEDIATE_POLLING_RETRIES?RETRY_INTERVAL+a:a):it(new Error("Syncing stopped manually."))}};return new Promise(rt)}async sync(){return this.requiresAuthorization("sync",async a=>this.eventService.sync(a,{pollingTimeout:this.store.get("pollingTimeout"),syncToken:this.store.get("syncToken")}))}async requiresAuthorization(a,$){const j=this.store.get("accessToken");return j?$(j):Promise.reject(`${a} requires authorization but no access token has been provided.`)}async createTxnId(){const a=new Date().getTime(),$=this.store.get("txnNo");return await this.store.update({txnNo:$+1}),`m${a}.${$}`}}const logger$4=new Logger("P2PCommunicationClient"),RESPONSE_WAIT_TIME_MS=1e3,REGIONS_AND_SERVERS={[Regions.EUROPE_WEST]:["beacon-node-1.diamond.papers.tech","beacon-node-1.sky.papers.tech","beacon-node-2.sky.papers.tech","beacon-node-1.hope.papers.tech","beacon-node-1.hope-2.papers.tech","beacon-node-1.hope-3.papers.tech","beacon-node-1.hope-4.papers.tech","beacon-node-1.hope-5.papers.tech"],[Regions.NORTH_AMERICA_EAST]:["beacon-node-1.beacon-server-1.papers.tech"],[Regions.NORTH_AMERICA_WEST]:["beacon-node-1.beacon-server-2.papers.tech"],[Regions.ASIA_EAST]:["beacon-node-1.beacon-server-3.papers.tech"],[Regions.AUSTRALIA]:["beacon-node-1.beacon-server-4.papers.tech"]},sleep$2=_=>new Promise(a=>setTimeout(a,_));class P2PCommunicationClient extends CommunicationClient{constructor($,j,et,tt,rt,nt,it){super(j);Vr(this,"name");Vr(this,"replicationCount");Vr(this,"storage");Vr(this,"iconUrl");Vr(this,"appUrl");Vr(this,"client",new ExposedPromise);Vr(this,"initialEvent");Vr(this,"initialListener");Vr(this,"selectedRegion");Vr(this,"ENABLED_RELAY_SERVERS");Vr(this,"relayServer");Vr(this,"activeListeners",new Map);Vr(this,"ignoredRooms",[]);Vr(this,"loginCounter",0);this.name=$,this.replicationCount=et,this.storage=tt,this.iconUrl=nt,this.appUrl=it,logger$4.log("constructor","P2PCommunicationClient created"),this.ENABLED_RELAY_SERVERS=REGIONS_AND_SERVERS,rt&&(this.ENABLED_RELAY_SERVERS={...REGIONS_AND_SERVERS,...rt})}async getPairingRequestInfo(){const $=new P2PPairingRequest(await generateGUID(),this.name,await this.getPublicKey(),BEACON_VERSION,(await this.getRelayServer()).server);return this.iconUrl&&($.icon=this.iconUrl),this.appUrl&&($.appUrl=this.appUrl),$}async getPairingResponseInfo($){const j=new P2PPairingResponse($.id,this.name,await this.getPublicKey(),$.version,(await this.getRelayServer()).server);return this.iconUrl&&(j.icon=this.iconUrl),this.appUrl&&(j.appUrl=this.appUrl),j}async findBestRegionAndGetServer(){var ot;if(this.selectedRegion)return(ot=this.relayServer)==null?void 0:ot.promiseResult;const $=Object.keys(this.ENABLED_RELAY_SERVERS),j=[],et=new ExposedPromise;let tt=0;const rt=new ExposedPromise;$.forEach(st=>{const ct=this.ENABLED_RELAY_SERVERS[st]??[];if(ct.length===0)return;tt+=2;const ut=(St=!0)=>{const Mt=Date.now();Promise.race([this.getBeaconInfo(Et),rt.promise]).then(kt=>{typeof kt!="boolean"&&(j.push({time:Date.now()-Mt,server:Et,region:st,result:kt}),j.length>=tt&&et.resolve(void 0),St||ut(!0))})},ht=Math.floor(Math.random()*ct.length),Et=ct[ht];ut(!1)}),await Promise.race([et.promise,sleep$2(RESPONSE_WAIT_TIME_MS)]);let nt=0;for(;j.length<=0;){if(nt>=100)throw new Error("No server responded.");await sleep$2(50),nt++}rt.resolve(!0);const it=j.reduce((st,ct)=>st.time<ct.time?st:ct);return this.selectedRegion=it.region,{server:it.server,timestamp:it.result.timestamp}}async getRelayServer(){if(this.relayServer){const et=await this.relayServer.promise;if(Date.now()-et.localTimestamp<60*1e3)return{server:et.server,timestamp:et.timestamp};const tt=await this.getBeaconInfo(et.server);return this.relayServer.resolve({server:et.server,timestamp:tt.timestamp,localTimestamp:new Date().getTime()}),{server:et.server,timestamp:tt.timestamp}}else this.relayServer=new ExposedPromise;const $=await this.storage.get(StorageKey.MATRIX_SELECTED_NODE);if($&&$.length>0){const et=await this.getBeaconInfo($);return this.relayServer.resolve({server:$,timestamp:et.timestamp,localTimestamp:new Date().getTime()}),{server:$,timestamp:et.timestamp}}const j=await this.findBestRegionAndGetServer();if(!j)throw new Error("No servers found");return this.storage.set(StorageKey.MATRIX_SELECTED_NODE,j.server).catch(et=>logger$4.log(et)),this.relayServer.resolve({server:j.server,timestamp:j.timestamp,localTimestamp:new Date().getTime()}),{server:j.server,timestamp:j.timestamp}}async getBeaconInfo($){return axios.get(`https://${$}/_synapse/client/beacon/info`).then(j=>({region:j.data.region,known_servers:j.data.known_servers,timestamp:Math.floor(j.data.timestamp)}))}async tryJoinRooms($,j=1){try{await(await this.client.promise).joinRooms($)}catch(et){j<=10&&et.errcode==="M_FORBIDDEN"?(logger$4.log("Retrying to join...",et),setTimeout(async()=>{await this.tryJoinRooms($,j+1)},200)):logger$4.log(`Failed to join after ${j} tries.`,et)}}async start(){logger$4.log("start","starting client"),logger$4.log("start","connecting to server");const $=await this.getRelayServer(),j=MatrixClient.create({baseUrl:`https://${$.server}`,storage:this.storage});if(this.initialListener=async ot=>{this.initialEvent&&this.initialEvent.timestamp&&ot&&ot.timestamp?this.initialEvent.timestamp<ot.timestamp&&(this.initialEvent=ot):this.initialEvent=ot},j.subscribe(MatrixClientEventType.MESSAGE,this.initialListener),j.subscribe(MatrixClientEventType.INVITE,async ot=>{let st;ot.content.members.length===1&&(st=ot.content.members[0]),await this.tryJoinRooms(ot.content.roomId),st&&(await this.updateRelayServer(st),await this.updatePeerRoom(st,ot.content.roomId))}),!$.timestamp)throw new Error("No timestamp received from relay server");const et=Math.floor($.timestamp),tt=`login:${Math.floor(et/(5*60))}`;logger$4.log("start",`login ${tt}, ${await this.getPublicKeyHash()} on ${$.server}`);const rt=blake2b$1.hash(encode_1(tt),32),nt=this.keyPair.secretKey??this.keyPair.privateKey,it=ed25519.sign(nt,rt);try{await j.start({id:await this.getPublicKeyHash(),password:`ed:${toHex$1(it)}:${await this.getPublicKey()}`,deviceId:toHex$1(this.keyPair.publicKey)})}catch{if(logger$4.error("start","Could not log in, retrying"),await this.reset(),!this.selectedRegion)throw new Error("No region selected.");if(this.loginCounter<=(this.ENABLED_RELAY_SERVERS[this.selectedRegion]??[]).length){this.loginCounter++,this.start();return}else throw logger$4.error("start","Tried to log in to every known beacon node, but no login was successful."),new Error("Could not connect to any beacon nodes. Try again later.")}logger$4.log("start","login successful, client is ready"),this.client.resolve(j)}async stop(){logger$4.log("stop","stopping client"),this.client.isResolved()&&await(await this.client.promise).stop().catch($=>logger$4.error($)),await this.reset()}async reset(){logger$4.log("reset","resetting connection"),await this.storage.delete(StorageKey.MATRIX_PEER_ROOM_IDS).catch($=>logger$4.log($)),await this.storage.delete(StorageKey.MATRIX_PRESERVED_STATE).catch($=>logger$4.log($)),await this.storage.delete(StorageKey.MATRIX_SELECTED_NODE).catch($=>logger$4.log($)),this.relayServer=void 0,this.client=new ExposedPromise,this.initialEvent=void 0,this.initialListener=void 0}async listenForEncryptedMessage($,j){if(this.activeListeners.has($))return;logger$4.log("listenForEncryptedMessage",`start listening for encrypted messages from publicKey ${$}`);const et=await this.createCryptoBoxServer($,this.keyPair),tt=async it=>{if(this.isTextMessage(it.content)&&await this.isSender(it,$)){let ot;await this.updateRelayServer(it.content.message.sender),await this.updatePeerRoom(it.content.message.sender,it.content.roomId);try{ot=Buffer$g.from(it.content.message.content,"hex")}catch{}if(ot&&ot.length>=secretbox_NONCEBYTES+secretbox_MACBYTES)try{const st=await decryptCryptoboxPayload(ot,et.receive);logger$4.log("listenForEncryptedMessage",`received a message from ${$}`,st),j(st)}catch{}}};this.activeListeners.set($,tt),(await this.client.promise).subscribe(MatrixClientEventType.MESSAGE,tt);const rt=this.initialEvent;rt&&rt.timestamp&&new Date().getTime()-rt.timestamp<5*60*1e3?(logger$4.log("listenForEncryptedMessage","Handling previous event"),await tt(rt)):logger$4.log("listenForEncryptedMessage","No previous event found");const nt=this.initialListener;nt&&(await this.client.promise).unsubscribe(MatrixClientEventType.MESSAGE,nt),this.initialListener=void 0,this.initialEvent=void 0}async unsubscribeFromEncryptedMessage($){const j=this.activeListeners.get($);j&&((await this.client.promise).unsubscribe(MatrixClientEventType.MESSAGE,j),this.activeListeners.delete($))}async unsubscribeFromEncryptedMessages(){(await this.client.promise).unsubscribeAll(MatrixClientEventType.MESSAGE),this.activeListeners.clear()}async sendMessage($,j){const et=await this.createCryptoBoxClient(j.publicKey,this.keyPair),tt=await getHexHash(Buffer$g.from(j.publicKey,"hex")),rt=recipientString(tt,j.relayServer),nt=await this.getRelevantRoom(rt),it=await encryptCryptoboxPayload($,et.send);logger$4.log("sendMessage","sending encrypted message",j.publicKey,nt,$),(await this.client.promise).sendTextMessage(nt,it).catch(async ot=>{if(ot.errcode==="M_FORBIDDEN"){logger$4.log("sendMessage","M_FORBIDDEN",nt,ot),await this.deleteRoomIdFromRooms(nt);const st=await this.getRelevantRoom(rt);logger$4.log("sendMessage","Old room deleted, new room created",st),(await this.client.promise).sendTextMessage(st,it).catch(async ct=>{logger$4.log("sendMessage","inner error",st,ct)})}else logger$4.log("sendMessage","unexpected error",ot)})}async updatePeerRoom($,j){logger$4.log("updatePeerRoom",$,j);const et=$.split(":");if(et.length<2||!et[0].startsWith("@"))throw new Error("Invalid sender");const tt=await this.storage.get(StorageKey.MATRIX_PEER_ROOM_IDS),rt=tt[$];rt===j&&logger$4.debug("updatePeerRoom","rooms are the same, not updating"),logger$4.debug("updatePeerRoom","current room",rt,"new room",j),rt&&rt[1]&&(logger$4.log("updatePeerRoom",`adding room "${rt[1]}" to ignored array`),this.ignoredRooms.push(rt[1])),tt[$]=j,await this.storage.set(StorageKey.MATRIX_PEER_ROOM_IDS,tt)}async deleteRoomIdFromRooms($){const j=await this.storage.get(StorageKey.MATRIX_PEER_ROOM_IDS),et=Object.entries(j).filter(tt=>tt[1]!==$).reduce((tt,rt)=>({...tt,[rt[0]]:rt[1]}),{});await this.storage.set(StorageKey.MATRIX_PEER_ROOM_IDS,et),this.ignoredRooms.push($)}async listenForChannelOpening($){logger$4.debug("listenForChannelOpening"),(await this.client.promise).subscribe(MatrixClientEventType.MESSAGE,async j=>{if(this.isTextMessage(j.content)&&await this.isChannelOpenMessage(j.content)){logger$4.log("listenForChannelOpening","channel opening received, trying to decrypt",JSON.stringify(j)),await this.updateRelayServer(j.content.message.sender),await this.updatePeerRoom(j.content.message.sender,j.content.roomId);const et=j.content.message.content.split(":"),tt=Buffer$g.from(et[et.length-1],"hex");if(tt.length>=secretbox_NONCEBYTES+secretbox_MACBYTES)try{const rt=JSON.parse(await openCryptobox(tt,this.keyPair.publicKey,this.keyPair.secretKey));logger$4.log("listenForChannelOpening","channel opening received and decrypted",JSON.stringify(rt)),$({...rt,senderId:await getSenderId(rt.publicKey)})}catch{}}})}async waitForJoin($,j=0){const et=await(await this.client.promise).getRoomById($);if(logger$4.log("waitForJoin",`Currently ${et.members.length} members, we need at least 2`),!(et.members.length>=2)){if(j<=200)return logger$4.log(`Waiting for join... Try: ${j}`),new Promise(tt=>{setTimeout(()=>{tt(this.waitForJoin($,j+1))},100*(j>50?10:1))});throw new Error(`No one joined after ${j} tries.`)}}async sendPairingResponse($){logger$4.log("sendPairingResponse");const j=await getHexHash(Buffer$g.from($.publicKey,"hex")),et=recipientString(j,$.relayServer),tt=await(await this.client.promise).createTrustedPrivateRoom(et);logger$4.debug("sendPairingResponse",`Connecting to room "${tt}"`),await this.updatePeerRoom(et,tt),await this.waitForJoin(tt),logger$4.debug("sendPairingResponse","Successfully joined room.");const rt=typeof $.version>"u"?await this.getPublicKey():JSON.stringify(await this.getPairingResponseInfo($));logger$4.debug("sendPairingResponse","Sending pairing response",rt);const nt=await this.encryptMessageAsymmetric($.publicKey,rt),it=["@channel-open",et,nt].join(":");(await this.client.promise).sendTextMessage(tt,it).catch(async ot=>{if(ot.errcode==="M_FORBIDDEN"){logger$4.log("sendPairingResponse","M_FORBIDDEN",tt,ot),await this.deleteRoomIdFromRooms(tt);const st=await this.getRelevantRoom(et);logger$4.log("sendPairingResponse","Old room deleted, new room created",st),(await this.client.promise).sendTextMessage(st,it).catch(async ct=>{logger$4.log("sendPairingResponse","inner error",st,ct)})}else logger$4.log("sendPairingResponse","unexpected error",ot)})}isTextMessage($){return $.message.type===MatrixMessageType.TEXT}async updateRelayServer($){logger$4.log("updateRelayServer",$);const j=$.split(":");if(j.length<2||!j[0].startsWith("@"))throw new Error("Invalid sender");const et=j.shift(),tt=j.join(":"),rt=localStorage.getItem("beacon:communication-peers-dapp")?new PeerManager(this.storage,StorageKey.TRANSPORT_P2P_PEERS_DAPP):new PeerManager(this.storage,StorageKey.TRANSPORT_P2P_PEERS_WALLET),it=(await rt.getPeers()).map(async ot=>{`@${await getHexHash(Buffer$g.from(ot.publicKey,"hex"))}`===et&&ot.relayServer!==tt&&(ot.relayServer=tt,await rt.addPeer(ot))});await Promise.all(it)}async isChannelOpenMessage($){return $.message.content.startsWith(`@channel-open:@${await getHexHash(Buffer$g.from(await this.getPublicKey(),"hex"))}`)}async isSender($,j){return $.content.message.sender.startsWith(`@${await getHexHash(Buffer$g.from(j,"hex"))}`)}async getRelevantRoom($){const j=await this.storage.get(StorageKey.MATRIX_PEER_ROOM_IDS);let et=j[$];if(!et){logger$4.log("getRelevantRoom",`No room found for peer ${$}, checking joined ones.`);const tt=await this.getRelevantJoinedRoom($);et=tt.id,j[$]=tt.id,await this.storage.set(StorageKey.MATRIX_PEER_ROOM_IDS,j)}return logger$4.log("getRelevantRoom",`Using room ${et}`),et}async getRelevantJoinedRoom($){const j=await(await this.client.promise).joinedRooms;logger$4.log("checking joined rooms",j,$);const et=j.filter(rt=>!this.ignoredRooms.some(nt=>rt.id===nt)).filter(rt=>rt.members.some(nt=>nt===$));let tt;if(et.length===0||this.ignoredRooms.length>0){logger$4.log("getRelevantJoinedRoom","no relevant rooms found, creating new one");const rt=await(await this.client.promise).createTrustedPrivateRoom($);tt=await(await this.client.promise).getRoomById(rt),logger$4.log("getRelevantJoinedRoom",`waiting for other party to join room: ${tt.id}`),await this.waitForJoin(rt),logger$4.log("getRelevantJoinedRoom",`new room created and peer invited: ${tt.id}`)}else tt=et[0],logger$4.log("getRelevantJoinedRoom",`channel already open, reusing room ${tt.id}`);return tt}}const logger$3=new Logger("P2PTransport");class P2PTransport extends Transport$2{constructor($,j,et,tt,rt,nt,it){super($,new P2PCommunicationClient($,j,1,et,tt,nt,it),new PeerManager(et,rt));Vr(this,"type",TransportType.P2P)}static async isAvailable(){return Promise.resolve(!0)}async connect(){if(this._isConnected!==TransportStatus.NOT_CONNECTED)return;logger$3.log("connect"),this._isConnected=TransportStatus.CONNECTING,await this.client.start();const $=await this.getPeers();if($.length>0){logger$3.log("connect",`connecting to ${$.length} peers`);const j=$.map(async et=>this.listen(et.publicKey));Promise.all(j).catch(et=>logger$3.error("connect",et))}return await this.startOpenChannelListener(),super.connect()}async disconnect(){return await this.client.stop(),super.disconnect()}async startOpenChannelListener(){}async getPairingRequestInfo(){return this.client.getPairingRequestInfo()}async listen($){await this.client.listenForEncryptedMessage($,j=>{const et={origin:Origin.P2P,id:$};this.notifyListeners(j,et).catch(tt=>{throw tt})}).catch(j=>{throw j})}}class WalletP2PTransport extends P2PTransport{constructor(a,$,j,et,tt,rt){super(a,$,j,et,StorageKey.TRANSPORT_P2P_PEERS_WALLET,tt,rt)}async addPeer(a,$=!0){await super.addPeer(a),$&&await this.client.sendPairingResponse(a)}}const logger$2=new Logger("IncomingRequestInterceptor");class IncomingRequestInterceptor{static async intercept(a){logger$2.log("INTERCEPTING REQUEST",a.message),a.message.version==="2"?IncomingRequestInterceptor.handleV2Message(a):a.message.version==="3"&&IncomingRequestInterceptor.handleV3Message(a)}static async getAppMetadata(a,$){const j=await a.getAppMetadata($);if(!j)throw new Error("AppMetadata not found");return j}static async handleV2Message(a){const{message:$,connectionInfo:j,appMetadataManager:et,interceptorCallback:tt}=a;switch($.type){case BeaconMessageType.PermissionRequest:logger$2.log("PERMISSION REQUEST V*",$),$.appMetadata.beaconId&&!$.appMetadata.senderId&&($.appMetadata.senderId=$.appMetadata.beaconId,delete $.appMetadata.beaconId),await et.addAppMetadata($.appMetadata),tt($,j);break;case BeaconMessageType.OperationRequest:{const nt={appMetadata:await IncomingRequestInterceptor.getAppMetadata(et,$.senderId),...$};tt(nt,j)}break;case BeaconMessageType.SignPayloadRequest:{const nt={appMetadata:await IncomingRequestInterceptor.getAppMetadata(et,$.senderId),...$};tt(nt,j)}break;case BeaconMessageType.BroadcastRequest:{const nt={appMetadata:await IncomingRequestInterceptor.getAppMetadata(et,$.senderId),...$};tt(nt,j)}break;case BeaconMessageType.ProofOfEventChallengeRequest:{const nt={appMetadata:await IncomingRequestInterceptor.getAppMetadata(et,$.senderId),...$};tt(nt,j)}break;case BeaconMessageType.SimulatedProofOfEventChallengeRequest:{const nt={appMetadata:await IncomingRequestInterceptor.getAppMetadata(et,$.senderId),...$};tt(nt,j)}break;case BeaconMessageType.SimulatedProofOfEventChallengeRequest:{const nt={appMetadata:await IncomingRequestInterceptor.getAppMetadata(et,$.senderId),...$};tt(nt,j)}break;default:logger$2.log("intercept","Message not handled"),assertNever$1()}}static async handleV3Message(a){const{message:$,connectionInfo:j,appMetadataManager:et,interceptorCallback:tt}=a,rt=$,nt=rt.message;switch(nt.type){case BeaconMessageType.PermissionRequest:await et.addAppMetadata({...nt.blockchainData.appMetadata,senderId:$.senderId}),tt(rt,j);break;case BeaconMessageType.BlockchainRequest:{const it={...rt};tt(it,j)}break;default:logger$2.log("intercept","Message not handled"),assertNever$1()}}}function assertNever$1(_){throw new Error("Function not implemented.")}const logger$1=new Logger("OutgoingResponseInterceptor");class OutgoingResponseInterceptor{static async intercept(a){a.request.version==="2"?OutgoingResponseInterceptor.handleV2Message(a):a.request.version==="3"&&OutgoingResponseInterceptor.handleV3Message(a)}static async handleV3Message(a){const{message:$,appMetadataManager:j,interceptorCallback:et}=a,rt=$.message;logger$1.log("LOGGING OUTGOING V3",rt,j),et($)}static async handleV2Message(a){const{senderId:$,request:j,message:et,ownAppMetadata:tt,permissionManager:rt,appMetadataManager:nt,interceptorCallback:it}=a;switch(et.type){case BeaconMessageType.Error:{const ot={type:et.type,version:"2",senderId:$,id:et.id,errorType:et.errorType};if(et.errorType===BeaconErrorType.TRANSACTION_INVALID_ERROR&&et.errorData){const st=et.errorData;Array.isArray(st)&&st.every(ct=>!!ct.kind&&!!ct.id)?ot.errorData=et.errorData:logger$1.warn("ErrorData provided is not in correct format. It needs to be an array of RPC errors. It will not be included in the message sent to the dApp")}it(ot);break}case BeaconMessageType.Acknowledge:{const ot={type:et.type,version:"2",senderId:$,id:et.id};it(ot);break}case BeaconMessageType.PermissionResponse:{const ot={senderId:$,version:"2",appMetadata:tt,...et};if(!ot.address&&!ot.publicKey)throw new Error("Address or PublicKey must be defined");const st=ot.publicKey,ct=ot.address??await getAddressFromPublicKey(st);if(!isValidAddress(ct))throw new Error(`Invalid address: "${ct}"`);if(et.walletType==="abstracted_account"&&ct.substring(0,3)!==CONTRACT_PREFIX)throw new Error(`Invalid abstracted account address "${ct}", it should be a ${CONTRACT_PREFIX} address`);const ut=await nt.getAppMetadata(j.senderId);if(!ut)throw new Error("AppMetadata not found");const ht={accountIdentifier:await getAccountIdentifier(ct,ot.network),senderId:j.senderId,appMetadata:ut,website:"",address:ct,publicKey:st,network:ot.network,scopes:ot.scopes,connectedAt:new Date().getTime()};rt.addPermission(ht).catch(console.error),it(ot);break}case BeaconMessageType.OperationResponse:{const ot={senderId:$,version:"2",...et};it(ot)}break;case BeaconMessageType.SignPayloadResponse:{const ot={senderId:$,version:"2",...et};it(ot)}break;case BeaconMessageType.BroadcastResponse:{const ot={senderId:$,version:"2",...et};it(ot)}break;case BeaconMessageType.ProofOfEventChallengeResponse:{const ot={senderId:$,version:"2",...et};it(ot)}break;case BeaconMessageType.SimulatedProofOfEventChallengeResponse:{const ot={senderId:$,version:"2",...et};it(ot)}break;default:logger$1.log("intercept","Message not handled"),assertNever()}}}function assertNever(_){throw new Error("Function not implemented.")}const logger=new Logger("WalletClient");let WalletClient$1=class extends Client{constructor($){super({storage:$&&$.storage?$.storage:new LocalStorage,...$});Vr(this,"_isConnected",new ExposedPromise);Vr(this,"permissionManager");Vr(this,"appMetadataManager");Vr(this,"pendingRequests",[]);this.permissionManager=new PermissionManager(this.storage),this.appMetadataManager=new AppMetadataManager(this.storage)}get isConnected(){return this._isConnected.promise}async init(){const $=await this.keyPair,j=new WalletP2PTransport(this.name,$,this.storage,this.matrixNodes,this.iconUrl,this.appUrl);return super.init(j)}async connect($){return this.handleResponse=async(j,et)=>{if(j.version==="3"){const tt=j;if(tt.message.type===BeaconMessageType.Disconnect)return this.disconnect(tt.senderId);this.pendingRequests.some(rt=>rt[0].id===j.id)||(this.pendingRequests.push([tt,et]),await this.sendAcknowledgeResponse(tt,et),await IncomingRequestInterceptor.intercept({message:tt,connectionInfo:et,appMetadataManager:this.appMetadataManager,interceptorCallback:$}))}else{const tt=j;if(tt.type===BeaconMessageType.Disconnect)return this.disconnect(tt.senderId);this.pendingRequests.some(rt=>rt[0].id===j.id)||(this.pendingRequests.push([tt,et]),tt.version!=="1"&&await this.sendAcknowledgeResponse(tt,et),await IncomingRequestInterceptor.intercept({message:tt,connectionInfo:et,appMetadataManager:this.appMetadataManager,interceptorCallback:$}))}},this._connect()}async getRegisterPushChallenge($,j,et=NOTIFICATION_ORACLE_URL){const tt=(await axios.get(`${et}/challenge`)).data,rt=["Tezos Signed Message: ",tt.id,tt.timestamp,j,$].join(" "),nt=toHex$1(rt),it="0501"+nt.length.toString(16).padStart(8,"0")+nt;return{challenge:tt,payloadToSign:it}}async registerPush($,j,et,tt,rt,nt,it=NOTIFICATION_ORACLE_URL){const ot=await this.storage.get(StorageKey.PUSH_TOKENS),st=ot.find(ht=>ht.publicKey===tt&&ht.backendUrl===et);if(st)return st;const ct=(await axios.post(`${it}/register`,{name:this.name,challenge:$,accountPublicKey:tt,signature:j,backendUrl:et,protocolIdentifier:rt,deviceId:nt})).data,ut={publicKey:tt,backendUrl:et,accessToken:ct.accessToken,managementToken:ct.managementToken};return ot.push(ut),await this.storage.set(StorageKey.PUSH_TOKENS,ot),ut}async _connect(){const $=await this.transport;$.connectionStatus===TransportStatus.NOT_CONNECTED&&(await $.connect(),$.addListener(async(j,et)=>{if(typeof j=="string"){const tt=await new Serializer().deserialize(j);this.handleResponse(tt,et)}}).catch(j=>logger.log("_connect",j)),this._isConnected.resolve(!0))}async respond($){logger.log("RESPONSE",$);const j=this.pendingRequests.find(et=>et[0].id===$.id);if(!j)throw new Error("No matching request found!");this.pendingRequests=this.pendingRequests.filter(et=>et[0].id!==$.id),await OutgoingResponseInterceptor.intercept({senderId:await getSenderId(await this.beaconId),request:j[0],message:$,ownAppMetadata:await this.getOwnAppMetadata(),permissionManager:this.permissionManager,appMetadataManager:this.appMetadataManager,interceptorCallback:async et=>{await this.respondToMessage(et,j[1])}})}async getAppMetadataList(){return this.appMetadataManager.getAppMetadataList()}async getAppMetadata($){return this.appMetadataManager.getAppMetadata($)}async removeAppMetadata($){return this.appMetadataManager.removeAppMetadata($)}async removeAllAppMetadata(){return this.appMetadataManager.removeAllAppMetadata()}async getPermissions(){return this.permissionManager.getPermissions()}async getPermission($){return this.permissionManager.getPermission($)}async removePermission($){return this.permissionManager.removePermission($)}async removeAllPermissions(){return this.permissionManager.removeAllPermissions()}async getPeerInfo($){const j=await getSenderId($.publicKey);return $ instanceof PostMessagePairingRequest?new ExtendedPostMessagePairingRequest($.id,$.name,$.publicKey,$.version,j):$ instanceof P2PPairingRequest?new ExtendedP2PPairingRequest($.id,$.name,$.publicKey,$.version,$.relayServer,j):$ instanceof ExtendedWalletConnectPairingRequest?new ExtendedWalletConnectPairingRequest($.id,$.name,$.publicKey,$.version,j,$.uri):{...$,senderId:j}}async addPeer($,j=!0){return(await this.transport).addPeer(await this.getPeerInfo($),j)}async removePeer($,j=!1){const et=(await this.transport).removePeer($);return await this.removePermissionsForPeers([$]),j&&await this.sendDisconnectToPeer($),et}async removeAllPeers($=!1){const j=await(await this.transport).getPeers(),et=(await this.transport).removeAllPeers();if(await this.removePermissionsForPeers(j),$){const tt=j.map(rt=>this.sendDisconnectToPeer(rt));await Promise.all(tt)}return et}async removePermissionsForPeers($){const j=await this.permissionManager.getPermissions(),et=$.map(nt=>nt.senderId),rt=j.filter(nt=>et.includes(nt.appMetadata.senderId)).map(nt=>nt.accountIdentifier);await this.permissionManager.removePermissions(rt)}async sendAcknowledgeResponse($,j){const et={id:$.id,type:BeaconMessageType.Acknowledge};await OutgoingResponseInterceptor.intercept({senderId:await getSenderId(await this.beaconId),request:$,message:et,ownAppMetadata:await this.getOwnAppMetadata(),permissionManager:this.permissionManager,appMetadataManager:this.appMetadataManager,interceptorCallback:async tt=>{await this.respondToMessage(tt,j)}})}async respondToMessage($,j){const et=await new Serializer().serialize($);if(j){const rt=(await this.getPeers()).find(nt=>nt.publicKey===j.id);await(await this.transport).send(et,rt)}else await(await this.transport).send(et)}async disconnect($){const j=await this.transport,tt=(await j.getPeers()).find(rt=>rt.senderId===$);tt&&await this.removePeer(tt),await j.disconnect()}};const WalletClient=new WalletClient$1({name:"Umami",iconUrl:"",appUrl:"https://umamiwallet.com/"});var KEY_PREFIX$2="persist:",FLUSH="persist/FLUSH",REHYDRATE="persist/REHYDRATE",PAUSE="persist/PAUSE",PERSIST="persist/PERSIST",PURGE="persist/PURGE",REGISTER="persist/REGISTER",DEFAULT_VERSION=-1;function _typeof$5(_){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$5=function($){return typeof $}:_typeof$5=function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $},_typeof$5(_)}function ownKeys$5(_,a){var $=Object.keys(_);if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(_);a&&(j=j.filter(function(et){return Object.getOwnPropertyDescriptor(_,et).enumerable})),$.push.apply($,j)}return $}function _objectSpread$4(_){for(var a=1;a<arguments.length;a++){var $=arguments[a]!=null?arguments[a]:{};a%2?ownKeys$5($,!0).forEach(function(j){_defineProperty$7(_,j,$[j])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_,Object.getOwnPropertyDescriptors($)):ownKeys$5($).forEach(function(j){Object.defineProperty(_,j,Object.getOwnPropertyDescriptor($,j))})}return _}function _defineProperty$7(_,a,$){return a in _?Object.defineProperty(_,a,{value:$,enumerable:!0,configurable:!0,writable:!0}):_[a]=$,_}function autoMergeLevel1(_,a,$,j){j.debug;var et=_objectSpread$4({},$);return _&&_typeof$5(_)==="object"&&Object.keys(_).forEach(function(tt){tt!=="_persist"&&a[tt]===$[tt]&&(et[tt]=_[tt])}),et}function createPersistoid(_){var a=_.blacklist||null,$=_.whitelist||null,j=_.transforms||[],et=_.throttle||0,tt="".concat(_.keyPrefix!==void 0?_.keyPrefix:KEY_PREFIX$2).concat(_.key),rt=_.storage,nt;_.serialize===!1?nt=function(Ut){return Ut}:typeof _.serialize=="function"?nt=_.serialize:nt=defaultSerialize;var it=_.writeFailHandler||null,ot={},st={},ct=[],ut=null,ht=null,Et=function(Ut){Object.keys(Ut).forEach(function(Vt){kt(Vt)&&ot[Vt]!==Ut[Vt]&&ct.indexOf(Vt)===-1&&ct.push(Vt)}),Object.keys(ot).forEach(function(Vt){Ut[Vt]===void 0&&kt(Vt)&&ct.indexOf(Vt)===-1&&ot[Vt]!==void 0&&ct.push(Vt)}),ut===null&&(ut=setInterval(St,et)),ot=Ut};function St(){if(ct.length===0){ut&&clearInterval(ut),ut=null;return}var zt=ct.shift(),Ut=j.reduce(function(Vt,jt){return jt.in(Vt,zt,ot)},ot[zt]);if(Ut!==void 0)try{st[zt]=nt(Ut)}catch(Vt){console.error("redux-persist/createPersistoid: error serializing state",Vt)}else delete st[zt];ct.length===0&&Mt()}function Mt(){Object.keys(st).forEach(function(zt){ot[zt]===void 0&&delete st[zt]}),ht=rt.setItem(tt,nt(st)).catch(Ct)}function kt(zt){return!($&&$.indexOf(zt)===-1&&zt!=="_persist"||a&&a.indexOf(zt)!==-1)}function Ct(zt){it&&it(zt)}var Ot=function(){for(;ct.length!==0;)St();return ht||Promise.resolve()};return{update:Et,flush:Ot}}function defaultSerialize(_){return JSON.stringify(_)}function getStoredState(_){var a=_.transforms||[],$="".concat(_.keyPrefix!==void 0?_.keyPrefix:KEY_PREFIX$2).concat(_.key),j=_.storage;_.debug;var et;return _.deserialize===!1?et=function(rt){return rt}:typeof _.deserialize=="function"?et=_.deserialize:et=defaultDeserialize,j.getItem($).then(function(tt){if(tt)try{var rt={},nt=et(tt);return Object.keys(nt).forEach(function(it){rt[it]=a.reduceRight(function(ot,st){return st.out(ot,it,nt)},et(nt[it]))}),rt}catch(it){throw it}else return})}function defaultDeserialize(_){return JSON.parse(_)}function purgeStoredState(_){var a=_.storage,$="".concat(_.keyPrefix!==void 0?_.keyPrefix:KEY_PREFIX$2).concat(_.key);return a.removeItem($,warnIfRemoveError)}function warnIfRemoveError(_){}function ownKeys$4(_,a){var $=Object.keys(_);if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(_);a&&(j=j.filter(function(et){return Object.getOwnPropertyDescriptor(_,et).enumerable})),$.push.apply($,j)}return $}function _objectSpread$3(_){for(var a=1;a<arguments.length;a++){var $=arguments[a]!=null?arguments[a]:{};a%2?ownKeys$4($,!0).forEach(function(j){_defineProperty$6(_,j,$[j])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_,Object.getOwnPropertyDescriptors($)):ownKeys$4($).forEach(function(j){Object.defineProperty(_,j,Object.getOwnPropertyDescriptor($,j))})}return _}function _defineProperty$6(_,a,$){return a in _?Object.defineProperty(_,a,{value:$,enumerable:!0,configurable:!0,writable:!0}):_[a]=$,_}function _objectWithoutProperties$1(_,a){if(_==null)return{};var $=_objectWithoutPropertiesLoose$2(_,a),j,et;if(Object.getOwnPropertySymbols){var tt=Object.getOwnPropertySymbols(_);for(et=0;et<tt.length;et++)j=tt[et],!(a.indexOf(j)>=0)&&Object.prototype.propertyIsEnumerable.call(_,j)&&($[j]=_[j])}return $}function _objectWithoutPropertiesLoose$2(_,a){if(_==null)return{};var $={},j=Object.keys(_),et,tt;for(tt=0;tt<j.length;tt++)et=j[tt],!(a.indexOf(et)>=0)&&($[et]=_[et]);return $}var DEFAULT_TIMEOUT=5e3;function persistReducer(_,a){var $=_.version!==void 0?_.version:DEFAULT_VERSION;_.debug;var j=_.stateReconciler===void 0?autoMergeLevel1:_.stateReconciler,et=_.getStoredState||getStoredState,tt=_.timeout!==void 0?_.timeout:DEFAULT_TIMEOUT,rt=null,nt=!1,it=!0,ot=function(ct){return ct._persist.rehydrated&&rt&&!it&&rt.update(ct),ct};return function(st,ct){var ut=st||{},ht=ut._persist,Et=_objectWithoutProperties$1(ut,["_persist"]),St=Et;if(ct.type===PERSIST){var Mt=!1,kt=function($t,Bt){Mt||(ct.rehydrate(_.key,$t,Bt),Mt=!0)};if(tt&&setTimeout(function(){!Mt&&kt(void 0,new Error('redux-persist: persist timed out for persist key "'.concat(_.key,'"')))},tt),it=!1,rt||(rt=createPersistoid(_)),ht)return _objectSpread$3({},a(St,ct),{_persist:ht});if(typeof ct.rehydrate!="function"||typeof ct.register!="function")throw new Error("redux-persist: either rehydrate or register is not a function on the PERSIST action. This can happen if the action is being replayed. This is an unexplored use case, please open an issue and we will figure out a resolution.");return ct.register(_.key),et(_).then(function(jt){var $t=_.migrate||function(Bt,Nt){return Promise.resolve(Bt)};$t(jt,$).then(function(Bt){kt(Bt)},function(Bt){kt(void 0,Bt)})},function(jt){kt(void 0,jt)}),_objectSpread$3({},a(St,ct),{_persist:{version:$,rehydrated:!1}})}else{if(ct.type===PURGE)return nt=!0,ct.result(purgeStoredState(_)),_objectSpread$3({},a(St,ct),{_persist:ht});if(ct.type===FLUSH)return ct.result(rt&&rt.flush()),_objectSpread$3({},a(St,ct),{_persist:ht});if(ct.type===PAUSE)it=!0;else if(ct.type===REHYDRATE){if(nt)return _objectSpread$3({},St,{_persist:_objectSpread$3({},ht,{rehydrated:!0})});if(ct.key===_.key){var Ct=a(St,ct),Ot=ct.payload,zt=j!==!1&&Ot!==void 0?j(Ot,st,Ct,_):Ct,Ut=_objectSpread$3({},zt,{_persist:_objectSpread$3({},ht,{rehydrated:!0})});return ot(Ut)}}}if(!ht)return a(st,ct);var Vt=a(St,ct);return Vt===St?st:ot(_objectSpread$3({},Vt,{_persist:ht}))}}function formatProdErrorMessage$1(_){return`Minified Redux error #${_}; visit https://redux.js.org/Errors?code=${_} for the full message or use the non-minified dev environment for full errors. `}var $$observable=typeof Symbol=="function"&&Symbol.observable||"@@observable",symbol_observable_default=$$observable,randomString$1=()=>Math.random().toString(36).substring(7).split("").join("."),ActionTypes={INIT:`@@redux/INIT${randomString$1()}`,REPLACE:`@@redux/REPLACE${randomString$1()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${randomString$1()}`},actionTypes_default=ActionTypes;function isPlainObject$2(_){if(typeof _!="object"||_===null)return!1;let a=_;for(;Object.getPrototypeOf(a)!==null;)a=Object.getPrototypeOf(a);return Object.getPrototypeOf(_)===a||Object.getPrototypeOf(_)===null}function createStore(_,a,$){if(typeof _!="function")throw new Error(formatProdErrorMessage$1(2));if(typeof a=="function"&&typeof $=="function"||typeof $=="function"&&typeof arguments[3]=="function")throw new Error(formatProdErrorMessage$1(0));if(typeof a=="function"&&typeof $>"u"&&($=a,a=void 0),typeof $<"u"){if(typeof $!="function")throw new Error(formatProdErrorMessage$1(1));return $(createStore)(_,a)}let j=_,et=a,tt=new Map,rt=tt,nt=0,it=!1;function ot(){rt===tt&&(rt=new Map,tt.forEach((Mt,kt)=>{rt.set(kt,Mt)}))}function st(){if(it)throw new Error(formatProdErrorMessage$1(3));return et}function ct(Mt){if(typeof Mt!="function")throw new Error(formatProdErrorMessage$1(4));if(it)throw new Error(formatProdErrorMessage$1(5));let kt=!0;ot();const Ct=nt++;return rt.set(Ct,Mt),function(){if(kt){if(it)throw new Error(formatProdErrorMessage$1(6));kt=!1,ot(),rt.delete(Ct),tt=null}}}function ut(Mt){if(!isPlainObject$2(Mt))throw new Error(formatProdErrorMessage$1(7));if(typeof Mt.type>"u")throw new Error(formatProdErrorMessage$1(8));if(typeof Mt.type!="string")throw new Error(formatProdErrorMessage$1(17));if(it)throw new Error(formatProdErrorMessage$1(9));try{it=!0,et=j(et,Mt)}finally{it=!1}return(tt=rt).forEach(Ct=>{Ct()}),Mt}function ht(Mt){if(typeof Mt!="function")throw new Error(formatProdErrorMessage$1(10));j=Mt,ut({type:actionTypes_default.REPLACE})}function Et(){const Mt=ct;return{subscribe(kt){if(typeof kt!="object"||kt===null)throw new Error(formatProdErrorMessage$1(11));function Ct(){const zt=kt;zt.next&&zt.next(st())}return Ct(),{unsubscribe:Mt(Ct)}},[symbol_observable_default](){return this}}}return ut({type:actionTypes_default.INIT}),{dispatch:ut,subscribe:ct,getState:st,replaceReducer:ht,[symbol_observable_default]:Et}}function assertReducerShape(_){Object.keys(_).forEach(a=>{const $=_[a];if(typeof $(void 0,{type:actionTypes_default.INIT})>"u")throw new Error(formatProdErrorMessage$1(12));if(typeof $(void 0,{type:actionTypes_default.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(formatProdErrorMessage$1(13))})}function combineReducers(_){const a=Object.keys(_),$={};for(let tt=0;tt<a.length;tt++){const rt=a[tt];typeof _[rt]=="function"&&($[rt]=_[rt])}const j=Object.keys($);let et;try{assertReducerShape($)}catch(tt){et=tt}return function(rt={},nt){if(et)throw et;let it=!1;const ot={};for(let st=0;st<j.length;st++){const ct=j[st],ut=$[ct],ht=rt[ct],Et=ut(ht,nt);if(typeof Et>"u")throw nt&&nt.type,new Error(formatProdErrorMessage$1(14));ot[ct]=Et,it=it||Et!==ht}return it=it||j.length!==Object.keys(rt).length,it?ot:rt}}function compose(..._){return _.length===0?a=>a:_.length===1?_[0]:_.reduce((a,$)=>(...j)=>a($(...j)))}function applyMiddleware(..._){return a=>($,j)=>{const et=a($,j);let tt=()=>{throw new Error(formatProdErrorMessage$1(15))};const rt={getState:et.getState,dispatch:(it,...ot)=>tt(it,...ot)},nt=_.map(it=>it(rt));return tt=compose(...nt)(et.dispatch),{...et,dispatch:tt}}}function isAction(_){return isPlainObject$2(_)&&"type"in _&&typeof _.type=="string"}function _toConsumableArray(_){return _arrayWithoutHoles(_)||_iterableToArray(_)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(_){if(Symbol.iterator in Object(_)||Object.prototype.toString.call(_)==="[object Arguments]")return Array.from(_)}function _arrayWithoutHoles(_){if(Array.isArray(_)){for(var a=0,$=new Array(_.length);a<_.length;a++)$[a]=_[a];return $}}function ownKeys$3(_,a){var $=Object.keys(_);if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(_);a&&(j=j.filter(function(et){return Object.getOwnPropertyDescriptor(_,et).enumerable})),$.push.apply($,j)}return $}function _objectSpread$2(_){for(var a=1;a<arguments.length;a++){var $=arguments[a]!=null?arguments[a]:{};a%2?ownKeys$3($,!0).forEach(function(j){_defineProperty$5(_,j,$[j])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_,Object.getOwnPropertyDescriptors($)):ownKeys$3($).forEach(function(j){Object.defineProperty(_,j,Object.getOwnPropertyDescriptor($,j))})}return _}function _defineProperty$5(_,a,$){return a in _?Object.defineProperty(_,a,{value:$,enumerable:!0,configurable:!0,writable:!0}):_[a]=$,_}var initialState$a={registry:[],bootstrapped:!1},persistorReducer=function _(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:initialState$a,$=arguments.length>1?arguments[1]:void 0;switch($.type){case REGISTER:return _objectSpread$2({},a,{registry:[].concat(_toConsumableArray(a.registry),[$.key])});case REHYDRATE:var j=a.registry.indexOf($.key),et=_toConsumableArray(a.registry);return et.splice(j,1),_objectSpread$2({},a,{registry:et,bootstrapped:et.length===0});default:return a}};function persistStore(_,a,$){var j=createStore(persistorReducer,initialState$a,void 0),et=function(it){j.dispatch({type:REGISTER,key:it})},tt=function(it,ot,st){var ct={type:REHYDRATE,payload:ot,err:st,key:it};_.dispatch(ct),j.dispatch(ct)},rt=_objectSpread$2({},j,{purge:function(){var it=[];return _.dispatch({type:PURGE,result:function(st){it.push(st)}}),Promise.all(it)},flush:function(){var it=[];return _.dispatch({type:FLUSH,result:function(st){it.push(st)}}),Promise.all(it)},pause:function(){_.dispatch({type:PAUSE})},persist:function(){_.dispatch({type:PERSIST,register:et,rehydrate:tt})}});return rt.persist(),rt}var NOTHING=Symbol.for("immer-nothing"),DRAFTABLE=Symbol.for("immer-draftable"),DRAFT_STATE=Symbol.for("immer-state");function die(_,...a){throw new Error(`[Immer] minified error nr: ${_}. Full error at: https://bit.ly/3cXEKWf`)}var getPrototypeOf$1=Object.getPrototypeOf;function isDraft(_){return!!_&&!!_[DRAFT_STATE]}function isDraftable(_){var a;return _?isPlainObject$1(_)||Array.isArray(_)||!!_[DRAFTABLE]||!!((a=_.constructor)!=null&&a[DRAFTABLE])||isMap(_)||isSet(_):!1}var objectCtorString=Object.prototype.constructor.toString();function isPlainObject$1(_){if(!_||typeof _!="object")return!1;const a=getPrototypeOf$1(_);if(a===null)return!0;const $=Object.hasOwnProperty.call(a,"constructor")&&a.constructor;return $===Object?!0:typeof $=="function"&&Function.toString.call($)===objectCtorString}function each(_,a){getArchtype(_)===0?Reflect.ownKeys(_).forEach($=>{a($,_[$],_)}):_.forEach(($,j)=>a(j,$,_))}function getArchtype(_){const a=_[DRAFT_STATE];return a?a.type_:Array.isArray(_)?1:isMap(_)?2:isSet(_)?3:0}function has(_,a){return getArchtype(_)===2?_.has(a):Object.prototype.hasOwnProperty.call(_,a)}function set(_,a,$){const j=getArchtype(_);j===2?_.set(a,$):j===3?_.add($):_[a]=$}function is(_,a){return _===a?_!==0||1/_===1/a:_!==_&&a!==a}function isMap(_){return _ instanceof Map}function isSet(_){return _ instanceof Set}function latest(_){return _.copy_||_.base_}function shallowCopy(_,a){if(isMap(_))return new Map(_);if(isSet(_))return new Set(_);if(Array.isArray(_))return Array.prototype.slice.call(_);const $=isPlainObject$1(_);if(a===!0||a==="class_only"&&!$){const j=Object.getOwnPropertyDescriptors(_);delete j[DRAFT_STATE];let et=Reflect.ownKeys(j);for(let tt=0;tt<et.length;tt++){const rt=et[tt],nt=j[rt];nt.writable===!1&&(nt.writable=!0,nt.configurable=!0),(nt.get||nt.set)&&(j[rt]={configurable:!0,writable:!0,enumerable:nt.enumerable,value:_[rt]})}return Object.create(getPrototypeOf$1(_),j)}else{const j=getPrototypeOf$1(_);if(j!==null&&$)return{..._};const et=Object.create(j);return Object.assign(et,_)}}function freeze(_,a=!1){return isFrozen(_)||isDraft(_)||!isDraftable(_)||(getArchtype(_)>1&&(_.set=_.add=_.clear=_.delete=dontMutateFrozenCollections),Object.freeze(_),a&&Object.entries(_).forEach(([$,j])=>freeze(j,!0))),_}function dontMutateFrozenCollections(){die(2)}function isFrozen(_){return Object.isFrozen(_)}var plugins={};function getPlugin(_){const a=plugins[_];return a||die(0,_),a}var currentScope;function getCurrentScope(){return currentScope}function createScope(_,a){return{drafts_:[],parent_:_,immer_:a,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function usePatchesInScope(_,a){a&&(getPlugin("Patches"),_.patches_=[],_.inversePatches_=[],_.patchListener_=a)}function revokeScope(_){leaveScope(_),_.drafts_.forEach(revokeDraft),_.drafts_=null}function leaveScope(_){_===currentScope&&(currentScope=_.parent_)}function enterScope(_){return currentScope=createScope(currentScope,_)}function revokeDraft(_){const a=_[DRAFT_STATE];a.type_===0||a.type_===1?a.revoke_():a.revoked_=!0}function processResult(_,a){a.unfinalizedDrafts_=a.drafts_.length;const $=a.drafts_[0];return _!==void 0&&_!==$?($[DRAFT_STATE].modified_&&(revokeScope(a),die(4)),isDraftable(_)&&(_=finalize(a,_),a.parent_||maybeFreeze(a,_)),a.patches_&&getPlugin("Patches").generateReplacementPatches_($[DRAFT_STATE].base_,_,a.patches_,a.inversePatches_)):_=finalize(a,$,[]),revokeScope(a),a.patches_&&a.patchListener_(a.patches_,a.inversePatches_),_!==NOTHING?_:void 0}function finalize(_,a,$){if(isFrozen(a))return a;const j=a[DRAFT_STATE];if(!j)return each(a,(et,tt)=>finalizeProperty(_,j,a,et,tt,$)),a;if(j.scope_!==_)return a;if(!j.modified_)return maybeFreeze(_,j.base_,!0),j.base_;if(!j.finalized_){j.finalized_=!0,j.scope_.unfinalizedDrafts_--;const et=j.copy_;let tt=et,rt=!1;j.type_===3&&(tt=new Set(et),et.clear(),rt=!0),each(tt,(nt,it)=>finalizeProperty(_,j,et,nt,it,$,rt)),maybeFreeze(_,et,!1),$&&_.patches_&&getPlugin("Patches").generatePatches_(j,$,_.patches_,_.inversePatches_)}return j.copy_}function finalizeProperty(_,a,$,j,et,tt,rt){if(isDraft(et)){const nt=tt&&a&&a.type_!==3&&!has(a.assigned_,j)?tt.concat(j):void 0,it=finalize(_,et,nt);if(set($,j,it),isDraft(it))_.canAutoFreeze_=!1;else return}else rt&&$.add(et);if(isDraftable(et)&&!isFrozen(et)){if(!_.immer_.autoFreeze_&&_.unfinalizedDrafts_<1)return;finalize(_,et),(!a||!a.scope_.parent_)&&typeof j!="symbol"&&Object.prototype.propertyIsEnumerable.call($,j)&&maybeFreeze(_,et)}}function maybeFreeze(_,a,$=!1){!_.parent_&&_.immer_.autoFreeze_&&_.canAutoFreeze_&&freeze(a,$)}function createProxyProxy(_,a){const $=Array.isArray(_),j={type_:$?1:0,scope_:a?a.scope_:getCurrentScope(),modified_:!1,finalized_:!1,assigned_:{},parent_:a,base_:_,draft_:null,copy_:null,revoke_:null,isManual_:!1};let et=j,tt=objectTraps;$&&(et=[j],tt=arrayTraps);const{revoke:rt,proxy:nt}=Proxy.revocable(et,tt);return j.draft_=nt,j.revoke_=rt,nt}var objectTraps={get(_,a){if(a===DRAFT_STATE)return _;const $=latest(_);if(!has($,a))return readPropFromProto(_,$,a);const j=$[a];return _.finalized_||!isDraftable(j)?j:j===peek(_.base_,a)?(prepareCopy(_),_.copy_[a]=createProxy(j,_)):j},has(_,a){return a in latest(_)},ownKeys(_){return Reflect.ownKeys(latest(_))},set(_,a,$){const j=getDescriptorFromProto(latest(_),a);if(j!=null&&j.set)return j.set.call(_.draft_,$),!0;if(!_.modified_){const et=peek(latest(_),a),tt=et==null?void 0:et[DRAFT_STATE];if(tt&&tt.base_===$)return _.copy_[a]=$,_.assigned_[a]=!1,!0;if(is($,et)&&($!==void 0||has(_.base_,a)))return!0;prepareCopy(_),markChanged(_)}return _.copy_[a]===$&&($!==void 0||a in _.copy_)||Number.isNaN($)&&Number.isNaN(_.copy_[a])||(_.copy_[a]=$,_.assigned_[a]=!0),!0},deleteProperty(_,a){return peek(_.base_,a)!==void 0||a in _.base_?(_.assigned_[a]=!1,prepareCopy(_),markChanged(_)):delete _.assigned_[a],_.copy_&&delete _.copy_[a],!0},getOwnPropertyDescriptor(_,a){const $=latest(_),j=Reflect.getOwnPropertyDescriptor($,a);return j&&{writable:!0,configurable:_.type_!==1||a!=="length",enumerable:j.enumerable,value:$[a]}},defineProperty(){die(11)},getPrototypeOf(_){return getPrototypeOf$1(_.base_)},setPrototypeOf(){die(12)}},arrayTraps={};each(objectTraps,(_,a)=>{arrayTraps[_]=function(){return arguments[0]=arguments[0][0],a.apply(this,arguments)}});arrayTraps.deleteProperty=function(_,a){return arrayTraps.set.call(this,_,a,void 0)};arrayTraps.set=function(_,a,$){return objectTraps.set.call(this,_[0],a,$,_[0])};function peek(_,a){const $=_[DRAFT_STATE];return($?latest($):_)[a]}function readPropFromProto(_,a,$){var et;const j=getDescriptorFromProto(a,$);return j?"value"in j?j.value:(et=j.get)==null?void 0:et.call(_.draft_):void 0}function getDescriptorFromProto(_,a){if(!(a in _))return;let $=getPrototypeOf$1(_);for(;$;){const j=Object.getOwnPropertyDescriptor($,a);if(j)return j;$=getPrototypeOf$1($)}}function markChanged(_){_.modified_||(_.modified_=!0,_.parent_&&markChanged(_.parent_))}function prepareCopy(_){_.copy_||(_.copy_=shallowCopy(_.base_,_.scope_.immer_.useStrictShallowCopy_))}var Immer2=class{constructor(_){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(a,$,j)=>{if(typeof a=="function"&&typeof $!="function"){const tt=$;$=a;const rt=this;return function(it=tt,...ot){return rt.produce(it,st=>$.call(this,st,...ot))}}typeof $!="function"&&die(6),j!==void 0&&typeof j!="function"&&die(7);let et;if(isDraftable(a)){const tt=enterScope(this),rt=createProxy(a,void 0);let nt=!0;try{et=$(rt),nt=!1}finally{nt?revokeScope(tt):leaveScope(tt)}return usePatchesInScope(tt,j),processResult(et,tt)}else if(!a||typeof a!="object"){if(et=$(a),et===void 0&&(et=a),et===NOTHING&&(et=void 0),this.autoFreeze_&&freeze(et,!0),j){const tt=[],rt=[];getPlugin("Patches").generateReplacementPatches_(a,et,tt,rt),j(tt,rt)}return et}else die(1,a)},this.produceWithPatches=(a,$)=>{if(typeof a=="function")return(rt,...nt)=>this.produceWithPatches(rt,it=>a(it,...nt));let j,et;return[this.produce(a,$,(rt,nt)=>{j=rt,et=nt}),j,et]},typeof(_==null?void 0:_.autoFreeze)=="boolean"&&this.setAutoFreeze(_.autoFreeze),typeof(_==null?void 0:_.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(_.useStrictShallowCopy)}createDraft(_){isDraftable(_)||die(8),isDraft(_)&&(_=current(_));const a=enterScope(this),$=createProxy(_,void 0);return $[DRAFT_STATE].isManual_=!0,leaveScope(a),$}finishDraft(_,a){const $=_&&_[DRAFT_STATE];(!$||!$.isManual_)&&die(9);const{scope_:j}=$;return usePatchesInScope(j,a),processResult(void 0,j)}setAutoFreeze(_){this.autoFreeze_=_}setUseStrictShallowCopy(_){this.useStrictShallowCopy_=_}applyPatches(_,a){let $;for($=a.length-1;$>=0;$--){const et=a[$];if(et.path.length===0&&et.op==="replace"){_=et.value;break}}$>-1&&(a=a.slice($+1));const j=getPlugin("Patches").applyPatches_;return isDraft(_)?j(_,a):this.produce(_,et=>j(et,a))}};function createProxy(_,a){const $=isMap(_)?getPlugin("MapSet").proxyMap_(_,a):isSet(_)?getPlugin("MapSet").proxySet_(_,a):createProxyProxy(_,a);return(a?a.scope_:getCurrentScope()).drafts_.push($),$}function current(_){return isDraft(_)||die(10,_),currentImpl(_)}function currentImpl(_){if(!isDraftable(_)||isFrozen(_))return _;const a=_[DRAFT_STATE];let $;if(a){if(!a.modified_)return a.base_;a.finalized_=!0,$=shallowCopy(_,a.scope_.immer_.useStrictShallowCopy_)}else $=shallowCopy(_,!0);return each($,(j,et)=>{set($,j,currentImpl(et))}),a&&(a.finalized_=!1),$}var immer=new Immer2,produce=immer.produce;immer.produceWithPatches.bind(immer);immer.setAutoFreeze.bind(immer);immer.setUseStrictShallowCopy.bind(immer);immer.applyPatches.bind(immer);immer.createDraft.bind(immer);immer.finishDraft.bind(immer);function assertIsFunction(_,a=`expected a function, instead received ${typeof _}`){if(typeof _!="function")throw new TypeError(a)}function assertIsObject(_,a=`expected an object, instead received ${typeof _}`){if(typeof _!="object")throw new TypeError(a)}function assertIsArrayOfFunctions(_,a="expected all items to be functions, instead received the following types: "){if(!_.every($=>typeof $=="function")){const $=_.map(j=>typeof j=="function"?`function ${j.name||"unnamed"}()`:typeof j).join(", ");throw new TypeError(`${a}[${$}]`)}}var ensureIsArray=_=>Array.isArray(_)?_:[_];function getDependencies(_){const a=Array.isArray(_[0])?_[0]:_;return assertIsArrayOfFunctions(a,"createSelector expects all input-selectors to be functions, but received the following types: "),a}function collectInputSelectorResults(_,a){const $=[],{length:j}=_;for(let et=0;et<j;et++)$.push(_[et].apply(null,a));return $}var StrongRef=class{constructor(_){this.value=_}deref(){return this.value}},Ref=typeof WeakRef<"u"?WeakRef:StrongRef,UNTERMINATED=0,TERMINATED=1;function createCacheNode(){return{s:UNTERMINATED,v:void 0,o:null,p:null}}function weakMapMemoize(_,a={}){let $=createCacheNode();const{resultEqualityCheck:j}=a;let et,tt=0;function rt(){var ct;let nt=$;const{length:it}=arguments;for(let ut=0,ht=it;ut<ht;ut++){const Et=arguments[ut];if(typeof Et=="function"||typeof Et=="object"&&Et!==null){let St=nt.o;St===null&&(nt.o=St=new WeakMap);const Mt=St.get(Et);Mt===void 0?(nt=createCacheNode(),St.set(Et,nt)):nt=Mt}else{let St=nt.p;St===null&&(nt.p=St=new Map);const Mt=St.get(Et);Mt===void 0?(nt=createCacheNode(),St.set(Et,nt)):nt=Mt}}const ot=nt;let st;if(nt.s===TERMINATED?st=nt.v:(st=_.apply(null,arguments),tt++),ot.s=TERMINATED,j){const ut=((ct=et==null?void 0:et.deref)==null?void 0:ct.call(et))??et;ut!=null&&j(ut,st)&&(st=ut,tt!==0&&tt--),et=typeof st=="object"&&st!==null||typeof st=="function"?new Ref(st):st}return ot.v=st,st}return rt.clearCache=()=>{$=createCacheNode(),rt.resetResultsCount()},rt.resultsCount=()=>tt,rt.resetResultsCount=()=>{tt=0},rt}function createSelectorCreator(_,...a){const $=typeof _=="function"?{memoize:_,memoizeOptions:a}:_,j=(...et)=>{let tt=0,rt=0,nt,it={},ot=et.pop();typeof ot=="object"&&(it=ot,ot=et.pop()),assertIsFunction(ot,`createSelector expects an output function after the inputs, but received: [${typeof ot}]`);const st={...$,...it},{memoize:ct,memoizeOptions:ut=[],argsMemoize:ht=weakMapMemoize,argsMemoizeOptions:Et=[],devModeChecks:St={}}=st,Mt=ensureIsArray(ut),kt=ensureIsArray(Et),Ct=getDependencies(et),Ot=ct(function(){return tt++,ot.apply(null,arguments)},...Mt),zt=ht(function(){rt++;const Vt=collectInputSelectorResults(Ct,arguments);return nt=Ot.apply(null,Vt),nt},...kt);return Object.assign(zt,{resultFunc:ot,memoizedResultFunc:Ot,dependencies:Ct,dependencyRecomputations:()=>rt,resetDependencyRecomputations:()=>{rt=0},lastResult:()=>nt,recomputations:()=>tt,resetRecomputations:()=>{tt=0},memoize:ct,argsMemoize:ht})};return Object.assign(j,{withTypes:()=>j}),j}var createSelector=createSelectorCreator(weakMapMemoize),createStructuredSelector=Object.assign((_,a=createSelector)=>{assertIsObject(_,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof _}`);const $=Object.keys(_),j=$.map(tt=>_[tt]);return a(j,(...tt)=>tt.reduce((rt,nt,it)=>(rt[$[it]]=nt,rt),{}))},{withTypes:()=>createStructuredSelector});function createThunkMiddleware(_){return({dispatch:$,getState:j})=>et=>tt=>typeof tt=="function"?tt($,j,_):et(tt)}var thunk=createThunkMiddleware(),withExtraArgument=createThunkMiddleware,createDraftSafeSelectorCreator=(..._)=>{const a=createSelectorCreator(..._),$=Object.assign((...j)=>{const et=a(...j),tt=(rt,...nt)=>et(isDraft(rt)?current(rt):rt,...nt);return Object.assign(tt,et),tt},{withTypes:()=>$});return $};createDraftSafeSelectorCreator(weakMapMemoize);var composeWithDevTools=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?compose:compose.apply(null,arguments)},hasMatchFunction=_=>_&&typeof _.match=="function";function createAction(_,a){function $(...j){if(a){let et=a(...j);if(!et)throw new Error(formatProdErrorMessage(0));return{type:_,payload:et.payload,..."meta"in et&&{meta:et.meta},..."error"in et&&{error:et.error}}}return{type:_,payload:j[0]}}return $.toString=()=>`${_}`,$.type=_,$.match=j=>isAction(j)&&j.type===_,$}var Tuple=class ip extends Array{constructor(...a){super(...a),Object.setPrototypeOf(this,ip.prototype)}static get[Symbol.species](){return ip}concat(...a){return super.concat.apply(this,a)}prepend(...a){return a.length===1&&Array.isArray(a[0])?new ip(...a[0].concat(this)):new ip(...a.concat(this))}};function freezeDraftable(_){return isDraftable(_)?produce(_,()=>{}):_}function emplace(_,a,$){if(_.has(a)){let et=_.get(a);return $.update&&(et=$.update(et,a,_),_.set(a,et)),et}if(!$.insert)throw new Error(formatProdErrorMessage(10));const j=$.insert(a,_);return _.set(a,j),j}function isBoolean(_){return typeof _=="boolean"}var buildGetDefaultMiddleware=()=>function(a){const{thunk:$=!0,immutableCheck:j=!0,serializableCheck:et=!0,actionCreatorCheck:tt=!0}=a??{};let rt=new Tuple;return $&&(isBoolean($)?rt.push(thunk):rt.push(withExtraArgument($.extraArgument))),rt},SHOULD_AUTOBATCH="RTK_autoBatch",createQueueWithTimer=_=>a=>{setTimeout(a,_)},rAF=typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:createQueueWithTimer(10),autoBatchEnhancer=(_={type:"raf"})=>a=>(...$)=>{const j=a(...$);let et=!0,tt=!1,rt=!1;const nt=new Set,it=_.type==="tick"?queueMicrotask:_.type==="raf"?rAF:_.type==="callback"?_.queueNotification:createQueueWithTimer(_.timeout),ot=()=>{rt=!1,tt&&(tt=!1,nt.forEach(st=>st()))};return Object.assign({},j,{subscribe(st){const ct=()=>et&&st(),ut=j.subscribe(ct);return nt.add(st),()=>{ut(),nt.delete(st)}},dispatch(st){var ct;try{return et=!((ct=st==null?void 0:st.meta)!=null&&ct[SHOULD_AUTOBATCH]),tt=!et,tt&&(rt||(rt=!0,it(ot))),j.dispatch(st)}finally{et=!0}}})},buildGetDefaultEnhancers=_=>function($){const{autoBatch:j=!0}=$??{};let et=new Tuple(_);return j&&et.push(autoBatchEnhancer(typeof j=="object"?j:void 0)),et},IS_PRODUCTION=!0;function configureStore(_){const a=buildGetDefaultMiddleware(),{reducer:$=void 0,middleware:j,devTools:et=!0,preloadedState:tt=void 0,enhancers:rt=void 0}=_||{};let nt;if(typeof $=="function")nt=$;else if(isPlainObject$2($))nt=combineReducers($);else throw new Error(formatProdErrorMessage(1));let it;typeof j=="function"?it=j(a):it=a();let ot=compose;et&&(ot=composeWithDevTools({trace:!IS_PRODUCTION,...typeof et=="object"&&et}));const st=applyMiddleware(...it),ct=buildGetDefaultEnhancers(st);let ut=typeof rt=="function"?rt(ct):ct();const ht=ot(...ut);return createStore(nt,tt,ht)}function executeReducerBuilderCallback(_){const a={},$=[];let j;const et={addCase(tt,rt){const nt=typeof tt=="string"?tt:tt.type;if(!nt)throw new Error(formatProdErrorMessage(28));if(nt in a)throw new Error(formatProdErrorMessage(29));return a[nt]=rt,et},addMatcher(tt,rt){return $.push({matcher:tt,reducer:rt}),et},addDefaultCase(tt){return j=tt,et}};return _(et),[a,$,j]}function isStateFunction(_){return typeof _=="function"}function createReducer(_,a){let[$,j,et]=executeReducerBuilderCallback(a),tt;if(isStateFunction(_))tt=()=>freezeDraftable(_());else{const nt=freezeDraftable(_);tt=()=>nt}function rt(nt=tt(),it){let ot=[$[it.type],...j.filter(({matcher:st})=>st(it)).map(({reducer:st})=>st)];return ot.filter(st=>!!st).length===0&&(ot=[et]),ot.reduce((st,ct)=>{if(ct)if(isDraft(st)){const ht=ct(st,it);return ht===void 0?st:ht}else{if(isDraftable(st))return produce(st,ut=>ct(ut,it));{const ut=ct(st,it);if(ut===void 0){if(st===null)return st;throw new Error(formatProdErrorMessage(9))}return ut}}return st},nt)}return rt.getInitialState=tt,rt}var urlAlphabet="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",nanoid=(_=21)=>{let a="",$=_;for(;$--;)a+=urlAlphabet[Math.random()*64|0];return a},matches=(_,a)=>hasMatchFunction(_)?_.match(a):_(a);function isAnyOf(..._){return a=>_.some($=>matches($,a))}var commonProperties=["name","message","stack","code"],RejectWithValue=class{constructor(_,a){Vr(this,"_type");this.payload=_,this.meta=a}},FulfillWithMeta=class{constructor(_,a){Vr(this,"_type");this.payload=_,this.meta=a}},miniSerializeError=_=>{if(typeof _=="object"&&_!==null){const a={};for(const $ of commonProperties)typeof _[$]=="string"&&(a[$]=_[$]);return a}return{message:String(_)}},createAsyncThunk=(()=>{function _(a,$,j){const et=createAction(a+"/fulfilled",(it,ot,st,ct)=>({payload:it,meta:{...ct||{},arg:st,requestId:ot,requestStatus:"fulfilled"}})),tt=createAction(a+"/pending",(it,ot,st)=>({payload:void 0,meta:{...st||{},arg:ot,requestId:it,requestStatus:"pending"}})),rt=createAction(a+"/rejected",(it,ot,st,ct,ut)=>({payload:ct,error:(j&&j.serializeError||miniSerializeError)(it||"Rejected"),meta:{...ut||{},arg:st,requestId:ot,rejectedWithValue:!!ct,requestStatus:"rejected",aborted:(it==null?void 0:it.name)==="AbortError",condition:(it==null?void 0:it.name)==="ConditionError"}}));function nt(it){return(ot,st,ct)=>{const ut=j!=null&&j.idGenerator?j.idGenerator(it):nanoid(),ht=new AbortController;let Et,St;function Mt(Ct){St=Ct,ht.abort()}const kt=async function(){var zt,Ut;let Ct;try{let Vt=(zt=j==null?void 0:j.condition)==null?void 0:zt.call(j,it,{getState:st,extra:ct});if(isThenable(Vt)&&(Vt=await Vt),Vt===!1||ht.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const jt=new Promise(($t,Bt)=>{Et=()=>{Bt({name:"AbortError",message:St||"Aborted"})},ht.signal.addEventListener("abort",Et)});ot(tt(ut,it,(Ut=j==null?void 0:j.getPendingMeta)==null?void 0:Ut.call(j,{requestId:ut,arg:it},{getState:st,extra:ct}))),Ct=await Promise.race([jt,Promise.resolve($(it,{dispatch:ot,getState:st,extra:ct,requestId:ut,signal:ht.signal,abort:Mt,rejectWithValue:($t,Bt)=>new RejectWithValue($t,Bt),fulfillWithValue:($t,Bt)=>new FulfillWithMeta($t,Bt)})).then($t=>{if($t instanceof RejectWithValue)throw $t;return $t instanceof FulfillWithMeta?et($t.payload,ut,it,$t.meta):et($t,ut,it)})])}catch(Vt){Ct=Vt instanceof RejectWithValue?rt(null,ut,it,Vt.payload,Vt.meta):rt(Vt,ut,it)}finally{Et&&ht.signal.removeEventListener("abort",Et)}return j&&!j.dispatchConditionRejection&&rt.match(Ct)&&Ct.meta.condition||ot(Ct),Ct}();return Object.assign(kt,{abort:Mt,requestId:ut,arg:it,unwrap(){return kt.then(unwrapResult)}})}}return Object.assign(nt,{pending:tt,rejected:rt,fulfilled:et,settled:isAnyOf(rt,et),typePrefix:a})}return _.withTypes=()=>_,_})();function unwrapResult(_){if(_.meta&&_.meta.rejectedWithValue)throw _.payload;if(_.error)throw _.error;return _.payload}function isThenable(_){return _!==null&&typeof _=="object"&&typeof _.then=="function"}var asyncThunkSymbol=Symbol.for("rtk-slice-createasyncthunk");function getType(_,a){return`${_}/${a}`}function buildCreateSlice({creators:_}={}){var $;const a=($=_==null?void 0:_.asyncThunk)==null?void 0:$[asyncThunkSymbol];return function(et){const{name:tt,reducerPath:rt=tt}=et;if(!tt)throw new Error(formatProdErrorMessage(11));typeof process$1$1<"u";const nt=(typeof et.reducers=="function"?et.reducers(buildReducerCreators()):et.reducers)||{},it=Object.keys(nt),ot={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},st={addCase(Ot,zt){const Ut=typeof Ot=="string"?Ot:Ot.type;if(!Ut)throw new Error(formatProdErrorMessage(12));if(Ut in ot.sliceCaseReducersByType)throw new Error(formatProdErrorMessage(13));return ot.sliceCaseReducersByType[Ut]=zt,st},addMatcher(Ot,zt){return ot.sliceMatchers.push({matcher:Ot,reducer:zt}),st},exposeAction(Ot,zt){return ot.actionCreators[Ot]=zt,st},exposeCaseReducer(Ot,zt){return ot.sliceCaseReducersByName[Ot]=zt,st}};it.forEach(Ot=>{const zt=nt[Ot],Ut={reducerName:Ot,type:getType(tt,Ot),createNotation:typeof et.reducers=="function"};isAsyncThunkSliceReducerDefinition(zt)?handleThunkCaseReducerDefinition(Ut,zt,st,a):handleNormalReducerDefinition(Ut,zt,st)});function ct(){const[Ot={},zt=[],Ut=void 0]=typeof et.extraReducers=="function"?executeReducerBuilderCallback(et.extraReducers):[et.extraReducers],Vt={...Ot,...ot.sliceCaseReducersByType};return createReducer(et.initialState,jt=>{for(let $t in Vt)jt.addCase($t,Vt[$t]);for(let $t of ot.sliceMatchers)jt.addMatcher($t.matcher,$t.reducer);for(let $t of zt)jt.addMatcher($t.matcher,$t.reducer);Ut&&jt.addDefaultCase(Ut)})}const ut=Ot=>Ot,ht=new Map;let Et;function St(Ot,zt){return Et||(Et=ct()),Et(Ot,zt)}function Mt(){return Et||(Et=ct()),Et.getInitialState()}function kt(Ot,zt=!1){function Ut(jt){let $t=jt[Ot];return typeof $t>"u"&&zt&&($t=Mt()),$t}function Vt(jt=ut){const $t=emplace(ht,zt,{insert:()=>new WeakMap});return emplace($t,jt,{insert:()=>{const Bt={};for(const[Nt,Lt]of Object.entries(et.selectors??{}))Bt[Nt]=wrapSelector(Lt,jt,Mt,zt);return Bt}})}return{reducerPath:Ot,getSelectors:Vt,get selectors(){return Vt(Ut)},selectSlice:Ut}}const Ct={name:tt,reducer:St,actions:ot.actionCreators,caseReducers:ot.sliceCaseReducersByName,getInitialState:Mt,...kt(rt),injectInto(Ot,{reducerPath:zt,...Ut}={}){const Vt=zt??rt;return Ot.inject({reducerPath:Vt,reducer:St},Ut),{...Ct,...kt(Vt,!0)}}};return Ct}}function wrapSelector(_,a,$,j){function et(tt,...rt){let nt=a(tt);return typeof nt>"u"&&j&&(nt=$()),_(nt,...rt)}return et.unwrapped=_,et}var createSlice=buildCreateSlice();function buildReducerCreators(){function _(a,$){return{_reducerDefinitionType:"asyncThunk",payloadCreator:a,...$}}return _.withTypes=()=>_,{reducer(a){return Object.assign({[a.name](...$){return a(...$)}}[a.name],{_reducerDefinitionType:"reducer"})},preparedReducer(a,$){return{_reducerDefinitionType:"reducerWithPrepare",prepare:a,reducer:$}},asyncThunk:_}}function handleNormalReducerDefinition({type:_,reducerName:a,createNotation:$},j,et){let tt,rt;if("reducer"in j){if($&&!isCaseReducerWithPrepareDefinition(j))throw new Error(formatProdErrorMessage(17));tt=j.reducer,rt=j.prepare}else tt=j;et.addCase(_,tt).exposeCaseReducer(a,tt).exposeAction(a,rt?createAction(_,rt):createAction(_))}function isAsyncThunkSliceReducerDefinition(_){return _._reducerDefinitionType==="asyncThunk"}function isCaseReducerWithPrepareDefinition(_){return _._reducerDefinitionType==="reducerWithPrepare"}function handleThunkCaseReducerDefinition({type:_,reducerName:a},$,j,et){if(!et)throw new Error(formatProdErrorMessage(18));const{payloadCreator:tt,fulfilled:rt,pending:nt,rejected:it,settled:ot,options:st}=$,ct=et(_,tt,st);j.exposeAction(a,ct),rt&&j.addCase(ct.fulfilled,rt),nt&&j.addCase(ct.pending,nt),it&&j.addCase(ct.rejected,it),ot&&j.addMatcher(ct.settled,ot),j.exposeCaseReducer(a,{fulfilled:rt||noop$5,pending:nt||noop$5,rejected:it||noop$5,settled:ot||noop$5})}function noop$5(){}var assertFunction=(_,a)=>{if(typeof _!="function")throw new Error(formatProdErrorMessage(32))},alm="listenerMiddleware",getListenerEntryPropsFrom=_=>{let{type:a,actionCreator:$,matcher:j,predicate:et,effect:tt}=_;if(a)et=createAction(a).match;else if($)a=$.type,et=$.match;else if(j)et=j;else if(!et)throw new Error(formatProdErrorMessage(21));return assertFunction(tt),{predicate:et,type:a,effect:tt}},createListenerEntry=Object.assign(_=>{const{type:a,predicate:$,effect:j}=getListenerEntryPropsFrom(_);return{id:nanoid(),effect:j,type:a,predicate:$,pending:new Set,unsubscribe:()=>{throw new Error(formatProdErrorMessage(22))}}},{withTypes:()=>createListenerEntry}),addListener=Object.assign(createAction(`${alm}/add`),{withTypes:()=>addListener});createAction(`${alm}/removeAll`);var removeListener=Object.assign(createAction(`${alm}/remove`),{withTypes:()=>removeListener});function formatProdErrorMessage(_){return`Minified Redux Toolkit error #${_}; visit https://redux-toolkit.js.org/Errors?code=${_} for the full message or use the non-minified dev environment for full errors. `}var createWebStorage$1={},getStorage$1={};getStorage$1.__esModule=!0;getStorage$1.default=getStorage;function _typeof$4(_){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$4=function($){return typeof $}:_typeof$4=function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $},_typeof$4(_)}function noop$4(){}var noopStorage={getItem:noop$4,setItem:noop$4,removeItem:noop$4};function hasStorage(_){if((typeof self>"u"?"undefined":_typeof$4(self))!=="object"||!(_ in self))return!1;try{var a=self[_],$="redux-persist ".concat(_," test");a.setItem($,"test"),a.getItem($),a.removeItem($)}catch{return!1}return!0}function getStorage(_){var a="".concat(_,"Storage");return hasStorage(a)?self[a]:noopStorage}createWebStorage$1.__esModule=!0;createWebStorage$1.default=createWebStorage;var _getStorage=_interopRequireDefault$6(getStorage$1);function _interopRequireDefault$6(_){return _&&_.__esModule?_:{default:_}}function createWebStorage(_){var a=(0,_getStorage.default)(_);return{getItem:function(j){return new Promise(function(et,tt){et(a.getItem(j))})},setItem:function(j,et){return new Promise(function(tt,rt){tt(a.setItem(j,et))})},removeItem:function(j){return new Promise(function(et,tt){et(a.removeItem(j))})}}}var default_1=void 0,_createWebStorage=_interopRequireDefault$5(createWebStorage$1);function _interopRequireDefault$5(_){return _&&_.__esModule?_:{default:_}}var _default$5=(0,_createWebStorage.default)("local");default_1=_default$5;function createAsyncMigrate(_,a){return async($,j)=>{if(!$)return;const et=$._persist&&$._persist.version!==void 0?$._persist.version:DEFAULT_VERSION;if(et===j||et>j)return $;const tt=Object.keys(_).map(nt=>parseInt(nt)).filter(nt=>j>=nt&&nt>et).sort((nt,it)=>nt-it);let rt=$;for(const nt of tt)rt=await _[nt](rt);return rt}}const initialState$9={html:"",seen:!0},announcementSlice=createSlice({name:"announcements",initialState:initialState$9,reducers:{reset:()=>initialState$9,setCurrent:(_,{payload:a})=>{a!==_.html&&(_.seen=!1),_.html=a},setSeen:_=>{_.seen=!0}}}),ERROR_MSG_INPUT="Input must be an string, Buffer or Uint8Array";function normalizeInput(_){let a;if(_ instanceof Uint8Array)a=_;else if(typeof _=="string")a=new TextEncoder().encode(_);else throw new Error(ERROR_MSG_INPUT);return a}function toHex(_){return Array.prototype.map.call(_,function(a){return(a<16?"0":"")+a.toString(16)}).join("")}function uint32ToHex(_){return(4294967296+_).toString(16).substring(1)}function debugPrint(_,a,$){let j=`
`+_+" = ";for(let et=0;et<a.length;et+=2){if($===32)j+=uint32ToHex(a[et]).toUpperCase(),j+=" ",j+=uint32ToHex(a[et+1]).toUpperCase();else if($===64)j+=uint32ToHex(a[et+1]).toUpperCase(),j+=uint32ToHex(a[et]).toUpperCase();else throw new Error("Invalid size "+$);et%6===4?j+=`
`+new Array(_.length+4).join(" "):et<a.length-2&&(j+=" ")}console.log(j)}function testSpeed(_,a,$){let j=new Date().getTime();const et=new Uint8Array(a);for(let rt=0;rt<a;rt++)et[rt]=rt%256;const tt=new Date().getTime();console.log("Generated random input in "+(tt-j)+"ms"),j=tt;for(let rt=0;rt<$;rt++){const nt=_(et),it=new Date().getTime(),ot=it-j;j=it,console.log("Hashed in "+ot+"ms: "+nt.substring(0,20)+"..."),console.log(Math.round(a/(1<<20)/(ot/1e3)*100)/100+" MB PER SECOND")}}var util$3={normalizeInput,toHex,debugPrint,testSpeed};const util$2=util$3;function ADD64AA(_,a,$){const j=_[a]+_[$];let et=_[a+1]+_[$+1];j>=4294967296&&et++,_[a]=j,_[a+1]=et}function ADD64AC(_,a,$,j){let et=_[a]+$;$<0&&(et+=4294967296);let tt=_[a+1]+j;et>=4294967296&&tt++,_[a]=et,_[a+1]=tt}function B2B_GET32(_,a){return _[a]^_[a+1]<<8^_[a+2]<<16^_[a+3]<<24}function B2B_G(_,a,$,j,et,tt){const rt=m$1[et],nt=m$1[et+1],it=m$1[tt],ot=m$1[tt+1];ADD64AA(v$2,_,a),ADD64AC(v$2,_,rt,nt);let st=v$2[j]^v$2[_],ct=v$2[j+1]^v$2[_+1];v$2[j]=ct,v$2[j+1]=st,ADD64AA(v$2,$,j),st=v$2[a]^v$2[$],ct=v$2[a+1]^v$2[$+1],v$2[a]=st>>>24^ct<<8,v$2[a+1]=ct>>>24^st<<8,ADD64AA(v$2,_,a),ADD64AC(v$2,_,it,ot),st=v$2[j]^v$2[_],ct=v$2[j+1]^v$2[_+1],v$2[j]=st>>>16^ct<<16,v$2[j+1]=ct>>>16^st<<16,ADD64AA(v$2,$,j),st=v$2[a]^v$2[$],ct=v$2[a+1]^v$2[$+1],v$2[a]=ct>>>31^st<<1,v$2[a+1]=st>>>31^ct<<1}const BLAKE2B_IV32=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),SIGMA8=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3],SIGMA82=new Uint8Array(SIGMA8.map(function(_){return _*2})),v$2=new Uint32Array(32),m$1=new Uint32Array(32);function blake2bCompress(_,a){let $=0;for($=0;$<16;$++)v$2[$]=_.h[$],v$2[$+16]=BLAKE2B_IV32[$];for(v$2[24]=v$2[24]^_.t,v$2[25]=v$2[25]^_.t/4294967296,a&&(v$2[28]=~v$2[28],v$2[29]=~v$2[29]),$=0;$<32;$++)m$1[$]=B2B_GET32(_.b,4*$);for($=0;$<12;$++)B2B_G(0,8,16,24,SIGMA82[$*16+0],SIGMA82[$*16+1]),B2B_G(2,10,18,26,SIGMA82[$*16+2],SIGMA82[$*16+3]),B2B_G(4,12,20,28,SIGMA82[$*16+4],SIGMA82[$*16+5]),B2B_G(6,14,22,30,SIGMA82[$*16+6],SIGMA82[$*16+7]),B2B_G(0,10,20,30,SIGMA82[$*16+8],SIGMA82[$*16+9]),B2B_G(2,12,22,24,SIGMA82[$*16+10],SIGMA82[$*16+11]),B2B_G(4,14,16,26,SIGMA82[$*16+12],SIGMA82[$*16+13]),B2B_G(6,8,18,28,SIGMA82[$*16+14],SIGMA82[$*16+15]);for($=0;$<16;$++)_.h[$]=_.h[$]^v$2[$]^v$2[$+16]}const parameterBlock=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);function blake2bInit(_,a,$,j){if(_===0||_>64)throw new Error("Illegal output length, expected 0 < length <= 64");if(a&&a.length>64)throw new Error("Illegal key, expected Uint8Array with 0 < length <= 64");if($&&$.length!==16)throw new Error("Illegal salt, expected Uint8Array with length is 16");if(j&&j.length!==16)throw new Error("Illegal personal, expected Uint8Array with length is 16");const et={b:new Uint8Array(128),h:new Uint32Array(16),t:0,c:0,outlen:_};parameterBlock.fill(0),parameterBlock[0]=_,a&&(parameterBlock[1]=a.length),parameterBlock[2]=1,parameterBlock[3]=1,$&&parameterBlock.set($,32),j&&parameterBlock.set(j,48);for(let tt=0;tt<16;tt++)et.h[tt]=BLAKE2B_IV32[tt]^B2B_GET32(parameterBlock,tt*4);return a&&(blake2bUpdate(et,a),et.c=128),et}function blake2bUpdate(_,a){for(let $=0;$<a.length;$++)_.c===128&&(_.t+=_.c,blake2bCompress(_,!1),_.c=0),_.b[_.c++]=a[$]}function blake2bFinal(_){for(_.t+=_.c;_.c<128;)_.b[_.c++]=0;blake2bCompress(_,!0);const a=new Uint8Array(_.outlen);for(let $=0;$<_.outlen;$++)a[$]=_.h[$>>2]>>8*($&3);return a}function blake2b(_,a,$,j,et){$=$||64,_=util$2.normalizeInput(_),j&&(j=util$2.normalizeInput(j)),et&&(et=util$2.normalizeInput(et));const tt=blake2bInit($,a,j,et);return blake2bUpdate(tt,_),blake2bFinal(tt)}function blake2bHex(_,a,$,j,et){const tt=blake2b(_,a,$,j,et);return util$2.toHex(tt)}var blake2b_1={blake2b,blake2bHex,blake2bInit,blake2bUpdate,blake2bFinal};const util$1=util$3;function B2S_GET32(_,a){return _[a]^_[a+1]<<8^_[a+2]<<16^_[a+3]<<24}function B2S_G(_,a,$,j,et,tt){v$1[_]=v$1[_]+v$1[a]+et,v$1[j]=ROTR32(v$1[j]^v$1[_],16),v$1[$]=v$1[$]+v$1[j],v$1[a]=ROTR32(v$1[a]^v$1[$],12),v$1[_]=v$1[_]+v$1[a]+tt,v$1[j]=ROTR32(v$1[j]^v$1[_],8),v$1[$]=v$1[$]+v$1[j],v$1[a]=ROTR32(v$1[a]^v$1[$],7)}function ROTR32(_,a){return _>>>a^_<<32-a}const BLAKE2S_IV=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),SIGMA=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0]),v$1=new Uint32Array(16),m=new Uint32Array(16);function blake2sCompress(_,a){let $=0;for($=0;$<8;$++)v$1[$]=_.h[$],v$1[$+8]=BLAKE2S_IV[$];for(v$1[12]^=_.t,v$1[13]^=_.t/4294967296,a&&(v$1[14]=~v$1[14]),$=0;$<16;$++)m[$]=B2S_GET32(_.b,4*$);for($=0;$<10;$++)B2S_G(0,4,8,12,m[SIGMA[$*16+0]],m[SIGMA[$*16+1]]),B2S_G(1,5,9,13,m[SIGMA[$*16+2]],m[SIGMA[$*16+3]]),B2S_G(2,6,10,14,m[SIGMA[$*16+4]],m[SIGMA[$*16+5]]),B2S_G(3,7,11,15,m[SIGMA[$*16+6]],m[SIGMA[$*16+7]]),B2S_G(0,5,10,15,m[SIGMA[$*16+8]],m[SIGMA[$*16+9]]),B2S_G(1,6,11,12,m[SIGMA[$*16+10]],m[SIGMA[$*16+11]]),B2S_G(2,7,8,13,m[SIGMA[$*16+12]],m[SIGMA[$*16+13]]),B2S_G(3,4,9,14,m[SIGMA[$*16+14]],m[SIGMA[$*16+15]]);for($=0;$<8;$++)_.h[$]^=v$1[$]^v$1[$+8]}function blake2sInit(_,a){if(!(_>0&&_<=32))throw new Error("Incorrect output length, should be in [1, 32]");const $=a?a.length:0;if(a&&!($>0&&$<=32))throw new Error("Incorrect key length, should be in [1, 32]");const j={h:new Uint32Array(BLAKE2S_IV),b:new Uint8Array(64),c:0,t:0,outlen:_};return j.h[0]^=16842752^$<<8^_,$>0&&(blake2sUpdate(j,a),j.c=64),j}function blake2sUpdate(_,a){for(let $=0;$<a.length;$++)_.c===64&&(_.t+=_.c,blake2sCompress(_,!1),_.c=0),_.b[_.c++]=a[$]}function blake2sFinal(_){for(_.t+=_.c;_.c<64;)_.b[_.c++]=0;blake2sCompress(_,!0);const a=new Uint8Array(_.outlen);for(let $=0;$<_.outlen;$++)a[$]=_.h[$>>2]>>8*($&3)&255;return a}function blake2s(_,a,$){$=$||32,_=util$1.normalizeInput(_);const j=blake2sInit($,a);return blake2sUpdate(j,_),blake2sFinal(j)}function blake2sHex(_,a,$){const j=blake2s(_,a,$);return util$1.toHex(j)}var blake2s_1={blake2s,blake2sHex,blake2sInit,blake2sUpdate,blake2sFinal};const b2b=blake2b_1,b2s=blake2s_1;var blakejs={blake2b:b2b.blake2b,blake2bHex:b2b.blake2bHex,blake2bInit:b2b.blake2bInit,blake2bUpdate:b2b.blake2bUpdate,blake2bFinal:b2b.blake2bFinal,blake2s:b2s.blake2s,blake2sHex:b2s.blake2sHex,blake2sInit:b2s.blake2sInit,blake2sUpdate:b2s.blake2sUpdate,blake2sFinal:b2s.blake2sFinal};const blake=getDefaultExportFromCjs$1(blakejs);var sha256$2={},_sha2={},_assert={};Object.defineProperty(_assert,"__esModule",{value:!0});_assert.output=_assert.exists=_assert.hash=_assert.bytes=_assert.bool=_assert.number=void 0;function number$2(_){if(!Number.isSafeInteger(_)||_<0)throw new Error(`Wrong positive integer: ${_}`)}_assert.number=number$2;function bool$2(_){if(typeof _!="boolean")throw new Error(`Expected boolean, not ${_}`)}_assert.bool=bool$2;function isBytes$3(_){return _ instanceof Uint8Array||_!=null&&typeof _=="object"&&_.constructor.name==="Uint8Array"}function bytes$1(_,...a){if(!isBytes$3(_))throw new Error("Expected Uint8Array");if(a.length>0&&!a.includes(_.length))throw new Error(`Expected Uint8Array of length ${a}, not of length=${_.length}`)}_assert.bytes=bytes$1;function hash$2(_){if(typeof _!="function"||typeof _.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");number$2(_.outputLen),number$2(_.blockLen)}_assert.hash=hash$2;function exists$1(_,a=!0){if(_.destroyed)throw new Error("Hash instance has been destroyed");if(a&&_.finished)throw new Error("Hash#digest() has already been called")}_assert.exists=exists$1;function output$1(_,a){bytes$1(_);const $=a.outputLen;if(_.length<$)throw new Error(`digestInto() expects output buffer of length at least ${$}`)}_assert.output=output$1;const assert$2={number:number$2,bool:bool$2,bytes:bytes$1,hash:hash$2,exists:exists$1,output:output$1};_assert.default=assert$2;var utils$2={},crypto$1={};Object.defineProperty(crypto$1,"__esModule",{value:!0});crypto$1.crypto=void 0;crypto$1.crypto=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;(function(_){/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */Object.defineProperty(_,"__esModule",{value:!0}),_.randomBytes=_.wrapXOFConstructorWithOpts=_.wrapConstructorWithOpts=_.wrapConstructor=_.checkOpts=_.Hash=_.concatBytes=_.toBytes=_.utf8ToBytes=_.asyncLoop=_.nextTick=_.hexToBytes=_.bytesToHex=_.isLE=_.rotr=_.createView=_.u32=_.u8=void 0;const a=crypto$1,$=$t=>new Uint8Array($t.buffer,$t.byteOffset,$t.byteLength);_.u8=$;const j=$t=>new Uint32Array($t.buffer,$t.byteOffset,Math.floor($t.byteLength/4));_.u32=j;function et($t){return $t instanceof Uint8Array||$t!=null&&typeof $t=="object"&&$t.constructor.name==="Uint8Array"}const tt=$t=>new DataView($t.buffer,$t.byteOffset,$t.byteLength);_.createView=tt;const rt=($t,Bt)=>$t<<32-Bt|$t>>>Bt;if(_.rotr=rt,_.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68,!_.isLE)throw new Error("Non little-endian hardware is not supported");const nt=Array.from({length:256},($t,Bt)=>Bt.toString(16).padStart(2,"0"));function it($t){if(!et($t))throw new Error("Uint8Array expected");let Bt="";for(let Nt=0;Nt<$t.length;Nt++)Bt+=nt[$t[Nt]];return Bt}_.bytesToHex=it;const ot={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function st($t){if($t>=ot._0&&$t<=ot._9)return $t-ot._0;if($t>=ot._A&&$t<=ot._F)return $t-(ot._A-10);if($t>=ot._a&&$t<=ot._f)return $t-(ot._a-10)}function ct($t){if(typeof $t!="string")throw new Error("hex string expected, got "+typeof $t);const Bt=$t.length,Nt=Bt/2;if(Bt%2)throw new Error("padded hex string expected, got unpadded hex of length "+Bt);const Lt=new Uint8Array(Nt);for(let Pt=0,bt=0;Pt<Nt;Pt++,bt+=2){const at=st($t.charCodeAt(bt)),dt=st($t.charCodeAt(bt+1));if(at===void 0||dt===void 0){const vt=$t[bt]+$t[bt+1];throw new Error('hex string expected, got non-hex character "'+vt+'" at index '+bt)}Lt[Pt]=at*16+dt}return Lt}_.hexToBytes=ct;const ut=async()=>{};_.nextTick=ut;async function ht($t,Bt,Nt){let Lt=Date.now();for(let Pt=0;Pt<$t;Pt++){Nt(Pt);const bt=Date.now()-Lt;bt>=0&&bt<Bt||(await(0,_.nextTick)(),Lt+=bt)}}_.asyncLoop=ht;function Et($t){if(typeof $t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof $t}`);return new Uint8Array(new TextEncoder().encode($t))}_.utf8ToBytes=Et;function St($t){if(typeof $t=="string"&&($t=Et($t)),!et($t))throw new Error(`expected Uint8Array, got ${typeof $t}`);return $t}_.toBytes=St;function Mt(...$t){let Bt=0;for(let Lt=0;Lt<$t.length;Lt++){const Pt=$t[Lt];if(!et(Pt))throw new Error("Uint8Array expected");Bt+=Pt.length}const Nt=new Uint8Array(Bt);for(let Lt=0,Pt=0;Lt<$t.length;Lt++){const bt=$t[Lt];Nt.set(bt,Pt),Pt+=bt.length}return Nt}_.concatBytes=Mt;class kt{clone(){return this._cloneInto()}}_.Hash=kt;const Ct={}.toString;function Ot($t,Bt){if(Bt!==void 0&&Ct.call(Bt)!=="[object Object]")throw new Error("Options should be object or undefined");return Object.assign($t,Bt)}_.checkOpts=Ot;function zt($t){const Bt=Lt=>$t().update(St(Lt)).digest(),Nt=$t();return Bt.outputLen=Nt.outputLen,Bt.blockLen=Nt.blockLen,Bt.create=()=>$t(),Bt}_.wrapConstructor=zt;function Ut($t){const Bt=(Lt,Pt)=>$t(Pt).update(St(Lt)).digest(),Nt=$t({});return Bt.outputLen=Nt.outputLen,Bt.blockLen=Nt.blockLen,Bt.create=Lt=>$t(Lt),Bt}_.wrapConstructorWithOpts=Ut;function Vt($t){const Bt=(Lt,Pt)=>$t(Pt).update(St(Lt)).digest(),Nt=$t({});return Bt.outputLen=Nt.outputLen,Bt.blockLen=Nt.blockLen,Bt.create=Lt=>$t(Lt),Bt}_.wrapXOFConstructorWithOpts=Vt;function jt($t=32){if(a.crypto&&typeof a.crypto.getRandomValues=="function")return a.crypto.getRandomValues(new Uint8Array($t));throw new Error("crypto.getRandomValues must be defined")}_.randomBytes=jt})(utils$2);Object.defineProperty(_sha2,"__esModule",{value:!0});_sha2.SHA2=void 0;const _assert_js_1$1=_assert,utils_js_1$3=utils$2;function setBigUint64(_,a,$,j){if(typeof _.setBigUint64=="function")return _.setBigUint64(a,$,j);const et=BigInt(32),tt=BigInt(4294967295),rt=Number($>>et&tt),nt=Number($&tt),it=j?4:0,ot=j?0:4;_.setUint32(a+it,rt,j),_.setUint32(a+ot,nt,j)}class SHA2 extends utils_js_1$3.Hash{constructor(a,$,j,et){super(),this.blockLen=a,this.outputLen=$,this.padOffset=j,this.isLE=et,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(a),this.view=(0,utils_js_1$3.createView)(this.buffer)}update(a){(0,_assert_js_1$1.exists)(this);const{view:$,buffer:j,blockLen:et}=this;a=(0,utils_js_1$3.toBytes)(a);const tt=a.length;for(let rt=0;rt<tt;){const nt=Math.min(et-this.pos,tt-rt);if(nt===et){const it=(0,utils_js_1$3.createView)(a);for(;et<=tt-rt;rt+=et)this.process(it,rt);continue}j.set(a.subarray(rt,rt+nt),this.pos),this.pos+=nt,rt+=nt,this.pos===et&&(this.process($,0),this.pos=0)}return this.length+=a.length,this.roundClean(),this}digestInto(a){(0,_assert_js_1$1.exists)(this),(0,_assert_js_1$1.output)(a,this),this.finished=!0;const{buffer:$,view:j,blockLen:et,isLE:tt}=this;let{pos:rt}=this;$[rt++]=128,this.buffer.subarray(rt).fill(0),this.padOffset>et-rt&&(this.process(j,0),rt=0);for(let ct=rt;ct<et;ct++)$[ct]=0;setBigUint64(j,et-8,BigInt(this.length*8),tt),this.process(j,0);const nt=(0,utils_js_1$3.createView)(a),it=this.outputLen;if(it%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const ot=it/4,st=this.get();if(ot>st.length)throw new Error("_sha2: outputLen bigger than state");for(let ct=0;ct<ot;ct++)nt.setUint32(4*ct,st[ct],tt)}digest(){const{buffer:a,outputLen:$}=this;this.digestInto(a);const j=a.slice(0,$);return this.destroy(),j}_cloneInto(a){a||(a=new this.constructor),a.set(...this.get());const{blockLen:$,buffer:j,length:et,finished:tt,destroyed:rt,pos:nt}=this;return a.length=et,a.pos=nt,a.finished=tt,a.destroyed=rt,et%$&&a.buffer.set(j),a}}_sha2.SHA2=SHA2;Object.defineProperty(sha256$2,"__esModule",{value:!0});sha256$2.sha224=sha256$2.sha256=void 0;const _sha2_js_1$1=_sha2,utils_js_1$2=utils$2,Chi=(_,a,$)=>_&a^~_&$,Maj=(_,a,$)=>_&a^_&$^a&$,SHA256_K=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),IV=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),SHA256_W=new Uint32Array(64);class SHA256 extends _sha2_js_1$1.SHA2{constructor(){super(64,32,8,!1),this.A=IV[0]|0,this.B=IV[1]|0,this.C=IV[2]|0,this.D=IV[3]|0,this.E=IV[4]|0,this.F=IV[5]|0,this.G=IV[6]|0,this.H=IV[7]|0}get(){const{A:a,B:$,C:j,D:et,E:tt,F:rt,G:nt,H:it}=this;return[a,$,j,et,tt,rt,nt,it]}set(a,$,j,et,tt,rt,nt,it){this.A=a|0,this.B=$|0,this.C=j|0,this.D=et|0,this.E=tt|0,this.F=rt|0,this.G=nt|0,this.H=it|0}process(a,$){for(let ct=0;ct<16;ct++,$+=4)SHA256_W[ct]=a.getUint32($,!1);for(let ct=16;ct<64;ct++){const ut=SHA256_W[ct-15],ht=SHA256_W[ct-2],Et=(0,utils_js_1$2.rotr)(ut,7)^(0,utils_js_1$2.rotr)(ut,18)^ut>>>3,St=(0,utils_js_1$2.rotr)(ht,17)^(0,utils_js_1$2.rotr)(ht,19)^ht>>>10;SHA256_W[ct]=St+SHA256_W[ct-7]+Et+SHA256_W[ct-16]|0}let{A:j,B:et,C:tt,D:rt,E:nt,F:it,G:ot,H:st}=this;for(let ct=0;ct<64;ct++){const ut=(0,utils_js_1$2.rotr)(nt,6)^(0,utils_js_1$2.rotr)(nt,11)^(0,utils_js_1$2.rotr)(nt,25),ht=st+ut+Chi(nt,it,ot)+SHA256_K[ct]+SHA256_W[ct]|0,St=((0,utils_js_1$2.rotr)(j,2)^(0,utils_js_1$2.rotr)(j,13)^(0,utils_js_1$2.rotr)(j,22))+Maj(j,et,tt)|0;st=ot,ot=it,it=nt,nt=rt+ht|0,rt=tt,tt=et,et=j,j=ht+St|0}j=j+this.A|0,et=et+this.B|0,tt=tt+this.C|0,rt=rt+this.D|0,nt=nt+this.E|0,it=it+this.F|0,ot=ot+this.G|0,st=st+this.H|0,this.set(j,et,tt,rt,nt,it,ot,st)}roundClean(){SHA256_W.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}class SHA224 extends SHA256{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}sha256$2.sha256=(0,utils_js_1$2.wrapConstructor)(()=>new SHA256);sha256$2.sha224=(0,utils_js_1$2.wrapConstructor)(()=>new SHA224);function base$1(_){if(_.length>=255)throw new TypeError("Alphabet too long");for(var a=new Uint8Array(256),$=0;$<a.length;$++)a[$]=255;for(var j=0;j<_.length;j++){var et=_.charAt(j),tt=et.charCodeAt(0);if(a[tt]!==255)throw new TypeError(et+" is ambiguous");a[tt]=j}var rt=_.length,nt=_.charAt(0),it=Math.log(rt)/Math.log(256),ot=Math.log(256)/Math.log(rt);function st(ht){if(ht instanceof Uint8Array||(ArrayBuffer.isView(ht)?ht=new Uint8Array(ht.buffer,ht.byteOffset,ht.byteLength):Array.isArray(ht)&&(ht=Uint8Array.from(ht))),!(ht instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(ht.length===0)return"";for(var Et=0,St=0,Mt=0,kt=ht.length;Mt!==kt&&ht[Mt]===0;)Mt++,Et++;for(var Ct=(kt-Mt)*ot+1>>>0,Ot=new Uint8Array(Ct);Mt!==kt;){for(var zt=ht[Mt],Ut=0,Vt=Ct-1;(zt!==0||Ut<St)&&Vt!==-1;Vt--,Ut++)zt+=256*Ot[Vt]>>>0,Ot[Vt]=zt%rt>>>0,zt=zt/rt>>>0;if(zt!==0)throw new Error("Non-zero carry");St=Ut,Mt++}for(var jt=Ct-St;jt!==Ct&&Ot[jt]===0;)jt++;for(var $t=nt.repeat(Et);jt<Ct;++jt)$t+=_.charAt(Ot[jt]);return $t}function ct(ht){if(typeof ht!="string")throw new TypeError("Expected String");if(ht.length===0)return new Uint8Array;for(var Et=0,St=0,Mt=0;ht[Et]===nt;)St++,Et++;for(var kt=(ht.length-Et)*it+1>>>0,Ct=new Uint8Array(kt);ht[Et];){var Ot=a[ht.charCodeAt(Et)];if(Ot===255)return;for(var zt=0,Ut=kt-1;(Ot!==0||zt<Mt)&&Ut!==-1;Ut--,zt++)Ot+=rt*Ct[Ut]>>>0,Ct[Ut]=Ot%256>>>0,Ot=Ot/256>>>0;if(Ot!==0)throw new Error("Non-zero carry");Mt=zt,Et++}for(var Vt=kt-Mt;Vt!==kt&&Ct[Vt]===0;)Vt++;for(var jt=new Uint8Array(St+(kt-Vt)),$t=St;Vt!==kt;)jt[$t++]=Ct[Vt++];return jt}function ut(ht){var Et=ct(ht);if(Et)return Et;throw new Error("Non-base"+rt+" character")}return{encode:st,decodeUnsafe:ct,decode:ut}}var src$1=base$1;const basex=src$1,ALPHABET="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";var bs58=basex(ALPHABET),base58=bs58,base=function(_){function a(tt){var rt=Uint8Array.from(tt),nt=_(rt),it=rt.length+4,ot=new Uint8Array(it);return ot.set(rt,0),ot.set(nt.subarray(0,4),rt.length),base58.encode(ot,it)}function $(tt){var rt=tt.slice(0,-4),nt=tt.slice(-4),it=_(rt);if(!(nt[0]^it[0]|nt[1]^it[1]|nt[2]^it[2]|nt[3]^it[3]))return rt}function j(tt){var rt=base58.decodeUnsafe(tt);if(rt)return $(rt)}function et(tt){var rt=base58.decode(tt),nt=$(rt);if(!nt)throw new Error("Invalid checksum");return nt}return{encode:a,decode:et,decodeUnsafe:j}},{sha256:sha256$1}=sha256$2,bs58checkBase=base;function sha256x2(_){return sha256$1(sha256$1(_))}var bs58check=bs58checkBase(sha256x2);const bs58check$1=getDefaultExportFromCjs$1(bs58check);class TaquitoError extends Error{}class ParameterValidationError extends TaquitoError{}class RpcError extends TaquitoError{}class TezosToolkitConfigError extends TaquitoError{}class UnsupportedActionError extends TaquitoError{}class NetworkError extends TaquitoError{}class InvalidAddressError extends ParameterValidationError{constructor(a,$){super(),this.address=a,this.errorDetail=$,this.name="InvalidAddressError",this.message=`Invalid address "${a}"`,this.message+=$?` ${$}.`:"."}}class InvalidBlockHashError extends ParameterValidationError{constructor(a,$){super(),this.blockHash=a,this.errorDetail=$,this.name="InvalidBlockHashError",this.message=`Invalid block hash "${a}"`,this.message+=$?` ${$}.`:"."}}class InvalidAmountError extends ParameterValidationError{constructor(a){super(),this.amount=a,this.name="InvalidAmountError",this.message=`Invalid amount "${a}"`}}class InvalidDerivationPathError extends ParameterValidationError{constructor(a,$){super(),this.derivationPath=a,this.errorDetail=$,this.name="InvalidDerivationPathError",this.message=`Invalid derivation path "${a}"`,this.message+=$?` ${$}.`:"."}}class InvalidHexStringError extends ParameterValidationError{constructor(a,$){super(),this.hexString=a,this.errorDetail=$,this.name="InvalidHexStringError",this.message=`Invalid hex string "${a}"`,this.message+=$?` ${$}.`:"."}}class InvalidMessageError extends ParameterValidationError{constructor(a,$){super(),this.msg=a,this.errorDetail=$,this.name="InvalidMessageError",this.message=`Invalid message "${a}"`,this.message+=$?` ${$}.`:"."}}class InvalidViewParameterError extends ParameterValidationError{constructor(a,$,j,et){super(),this.viewName=a,this.sigs=$,this.args=j,this.cause=et,this.name="InvalidViewParameterError",this.message=`Invalid view arguments ${JSON.stringify(j)} received for name "${a}" expecting one of the following signatures ${JSON.stringify($)}.`}}class InvalidKeyError extends ParameterValidationError{constructor(a){super(),this.errorDetail=a,this.name="InvalidKeyError",this.message="Invalid private key",this.message+=a?` ${a}.`:"."}}class InvalidPublicKeyError extends ParameterValidationError{constructor(a,$){super(),this.publicKey=a,this.errorDetail=$,this.name="InvalidPublicKeyError",this.message=`Invalid public key "${a}"`,this.message+=$?` ${$}.`:"."}}class InvalidContractAddressError extends ParameterValidationError{constructor(a,$){super(),this.contractAddress=a,this.errorDetail=$,this.name="InvalidContractAddressError",this.message=`Invalid contract address "${a}"`,this.message+=$?` ${$}.`:"."}}class InvalidChainIdError extends ParameterValidationError{constructor(a,$){super(),this.chainId=a,this.errorDetail=$,this.name="InvalidChainIdError",this.message=`Invalid chain id "${a}"`,this.message+=$?` ${$}.`:"."}}class InvalidKeyHashError extends ParameterValidationError{constructor(a,$){super(),this.keyHash=a,this.errorDetail=$,this.name="InvalidKeyHashError",this.message=`Invalid public key hash "${a}"`,this.message+=$?` ${$}.`:"."}}class InvalidOperationHashError extends ParameterValidationError{constructor(a,$){super(),this.operationHash=a,this.errorDetail=$,this.name="InvalidOperationHashError",this.message=`Invalid operation hash "${a}"`,this.message+=$?` ${$}.`:"."}}class InvalidOperationKindError extends ParameterValidationError{constructor(a,$){super(),this.operationKind=a,this.errorDetail=$,this.name="InvalidOperationKindError",this.message=`Invalid operation kind "${a}"`,this.message+=$?` ${$}.`:"."}}class DeprecationError extends UnsupportedActionError{constructor(a){super(),this.message=a,this.name="DeprecationError"}}class ProhibitedActionError extends UnsupportedActionError{constructor(a){super(),this.message=a,this.name="ProhibitedActionError"}}class PublicKeyNotFoundError extends TaquitoError{constructor(a,$){super(),this.pkh=a,this.cause=$,this.name="PublicKeyNotFoundError",this.message=`Public key not found of this address "${a}" in either wallet or contract API.`}}var isNumeric=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,mathceil=Math.ceil,mathfloor=Math.floor,bignumberError="[BigNumber Error] ",tooManyDigits=bignumberError+"Number primitive has more than 15 significant digits: ",BASE=1e14,LOG_BASE=14,MAX_SAFE_INTEGER$2=9007199254740991,POWS_TEN=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],SQRT_BASE=1e7,MAX=1e9;function clone(_){var a,$,j,et=Ct.prototype={constructor:Ct,toString:null,valueOf:null},tt=new Ct(1),rt=20,nt=4,it=-7,ot=21,st=-1e7,ct=1e7,ut=!1,ht=1,Et=0,St={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:" ",suffix:""},Mt="0123456789abcdefghijklmnopqrstuvwxyz",kt=!0;function Ct($t,Bt){var Nt,Lt,Pt,bt,at,dt,vt,xt,wt=this;if(!(wt instanceof Ct))return new Ct($t,Bt);if(Bt==null){if($t&&$t._isBigNumber===!0){wt.s=$t.s,!$t.c||$t.e>ct?wt.c=wt.e=null:$t.e<st?wt.c=[wt.e=0]:(wt.e=$t.e,wt.c=$t.c.slice());return}if((dt=typeof $t=="number")&&$t*0==0){if(wt.s=1/$t<0?($t=-$t,-1):1,$t===~~$t){for(bt=0,at=$t;at>=10;at/=10,bt++);bt>ct?wt.c=wt.e=null:(wt.e=bt,wt.c=[$t]);return}xt=String($t)}else{if(!isNumeric.test(xt=String($t)))return j(wt,xt,dt);wt.s=xt.charCodeAt(0)==45?(xt=xt.slice(1),-1):1}(bt=xt.indexOf("."))>-1&&(xt=xt.replace(".","")),(at=xt.search(/e/i))>0?(bt<0&&(bt=at),bt+=+xt.slice(at+1),xt=xt.substring(0,at)):bt<0&&(bt=xt.length)}else{if(intCheck(Bt,2,Mt.length,"Base"),Bt==10&&kt)return wt=new Ct($t),Vt(wt,rt+wt.e+1,nt);if(xt=String($t),dt=typeof $t=="number"){if($t*0!=0)return j(wt,xt,dt,Bt);if(wt.s=1/$t<0?(xt=xt.slice(1),-1):1,Ct.DEBUG&&xt.replace(/^0\.0*|\./,"").length>15)throw Error(tooManyDigits+$t)}else wt.s=xt.charCodeAt(0)===45?(xt=xt.slice(1),-1):1;for(Nt=Mt.slice(0,Bt),bt=at=0,vt=xt.length;at<vt;at++)if(Nt.indexOf(Lt=xt.charAt(at))<0){if(Lt=="."){if(at>bt){bt=vt;continue}}else if(!Pt&&(xt==xt.toUpperCase()&&(xt=xt.toLowerCase())||xt==xt.toLowerCase()&&(xt=xt.toUpperCase()))){Pt=!0,at=-1,bt=0;continue}return j(wt,String($t),dt,Bt)}dt=!1,xt=$(xt,Bt,10,wt.s),(bt=xt.indexOf("."))>-1?xt=xt.replace(".",""):bt=xt.length}for(at=0;xt.charCodeAt(at)===48;at++);for(vt=xt.length;xt.charCodeAt(--vt)===48;);if(xt=xt.slice(at,++vt)){if(vt-=at,dt&&Ct.DEBUG&&vt>15&&($t>MAX_SAFE_INTEGER$2||$t!==mathfloor($t)))throw Error(tooManyDigits+wt.s*$t);if((bt=bt-at-1)>ct)wt.c=wt.e=null;else if(bt<st)wt.c=[wt.e=0];else{if(wt.e=bt,wt.c=[],at=(bt+1)%LOG_BASE,bt<0&&(at+=LOG_BASE),at<vt){for(at&&wt.c.push(+xt.slice(0,at)),vt-=LOG_BASE;at<vt;)wt.c.push(+xt.slice(at,at+=LOG_BASE));at=LOG_BASE-(xt=xt.slice(at)).length}else at-=vt;for(;at--;xt+="0");wt.c.push(+xt)}}else wt.c=[wt.e=0]}Ct.clone=clone,Ct.ROUND_UP=0,Ct.ROUND_DOWN=1,Ct.ROUND_CEIL=2,Ct.ROUND_FLOOR=3,Ct.ROUND_HALF_UP=4,Ct.ROUND_HALF_DOWN=5,Ct.ROUND_HALF_EVEN=6,Ct.ROUND_HALF_CEIL=7,Ct.ROUND_HALF_FLOOR=8,Ct.EUCLID=9,Ct.config=Ct.set=function($t){var Bt,Nt;if($t!=null)if(typeof $t=="object"){if($t.hasOwnProperty(Bt="DECIMAL_PLACES")&&(Nt=$t[Bt],intCheck(Nt,0,MAX,Bt),rt=Nt),$t.hasOwnProperty(Bt="ROUNDING_MODE")&&(Nt=$t[Bt],intCheck(Nt,0,8,Bt),nt=Nt),$t.hasOwnProperty(Bt="EXPONENTIAL_AT")&&(Nt=$t[Bt],Nt&&Nt.pop?(intCheck(Nt[0],-MAX,0,Bt),intCheck(Nt[1],0,MAX,Bt),it=Nt[0],ot=Nt[1]):(intCheck(Nt,-MAX,MAX,Bt),it=-(ot=Nt<0?-Nt:Nt))),$t.hasOwnProperty(Bt="RANGE"))if(Nt=$t[Bt],Nt&&Nt.pop)intCheck(Nt[0],-MAX,-1,Bt),intCheck(Nt[1],1,MAX,Bt),st=Nt[0],ct=Nt[1];else if(intCheck(Nt,-MAX,MAX,Bt),Nt)st=-(ct=Nt<0?-Nt:Nt);else throw Error(bignumberError+Bt+" cannot be zero: "+Nt);if($t.hasOwnProperty(Bt="CRYPTO"))if(Nt=$t[Bt],Nt===!!Nt)if(Nt)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))ut=Nt;else throw ut=!Nt,Error(bignumberError+"crypto unavailable");else ut=Nt;else throw Error(bignumberError+Bt+" not true or false: "+Nt);if($t.hasOwnProperty(Bt="MODULO_MODE")&&(Nt=$t[Bt],intCheck(Nt,0,9,Bt),ht=Nt),$t.hasOwnProperty(Bt="POW_PRECISION")&&(Nt=$t[Bt],intCheck(Nt,0,MAX,Bt),Et=Nt),$t.hasOwnProperty(Bt="FORMAT"))if(Nt=$t[Bt],typeof Nt=="object")St=Nt;else throw Error(bignumberError+Bt+" not an object: "+Nt);if($t.hasOwnProperty(Bt="ALPHABET"))if(Nt=$t[Bt],typeof Nt=="string"&&!/^.?$|[+\-.\s]|(.).*\1/.test(Nt))kt=Nt.slice(0,10)=="0123456789",Mt=Nt;else throw Error(bignumberError+Bt+" invalid: "+Nt)}else throw Error(bignumberError+"Object expected: "+$t);return{DECIMAL_PLACES:rt,ROUNDING_MODE:nt,EXPONENTIAL_AT:[it,ot],RANGE:[st,ct],CRYPTO:ut,MODULO_MODE:ht,POW_PRECISION:Et,FORMAT:St,ALPHABET:Mt}},Ct.isBigNumber=function($t){if(!$t||$t._isBigNumber!==!0)return!1;if(!Ct.DEBUG)return!0;var Bt,Nt,Lt=$t.c,Pt=$t.e,bt=$t.s;e:if({}.toString.call(Lt)=="[object Array]"){if((bt===1||bt===-1)&&Pt>=-MAX&&Pt<=MAX&&Pt===mathfloor(Pt)){if(Lt[0]===0){if(Pt===0&&Lt.length===1)return!0;break e}if(Bt=(Pt+1)%LOG_BASE,Bt<1&&(Bt+=LOG_BASE),String(Lt[0]).length==Bt){for(Bt=0;Bt<Lt.length;Bt++)if(Nt=Lt[Bt],Nt<0||Nt>=BASE||Nt!==mathfloor(Nt))break e;if(Nt!==0)return!0}}}else if(Lt===null&&Pt===null&&(bt===null||bt===1||bt===-1))return!0;throw Error(bignumberError+"Invalid BigNumber: "+$t)},Ct.maximum=Ct.max=function(){return zt(arguments,-1)},Ct.minimum=Ct.min=function(){return zt(arguments,1)},Ct.random=function(){var $t=9007199254740992,Bt=Math.random()*$t&2097151?function(){return mathfloor(Math.random()*$t)}:function(){return(Math.random()*1073741824|0)*8388608+(Math.random()*8388608|0)};return function(Nt){var Lt,Pt,bt,at,dt,vt=0,xt=[],wt=new Ct(tt);if(Nt==null?Nt=rt:intCheck(Nt,0,MAX),at=mathceil(Nt/LOG_BASE),ut)if(crypto.getRandomValues){for(Lt=crypto.getRandomValues(new Uint32Array(at*=2));vt<at;)dt=Lt[vt]*131072+(Lt[vt+1]>>>11),dt>=9e15?(Pt=crypto.getRandomValues(new Uint32Array(2)),Lt[vt]=Pt[0],Lt[vt+1]=Pt[1]):(xt.push(dt%1e14),vt+=2);vt=at/2}else if(crypto.randomBytes){for(Lt=crypto.randomBytes(at*=7);vt<at;)dt=(Lt[vt]&31)*281474976710656+Lt[vt+1]*1099511627776+Lt[vt+2]*4294967296+Lt[vt+3]*16777216+(Lt[vt+4]<<16)+(Lt[vt+5]<<8)+Lt[vt+6],dt>=9e15?crypto.randomBytes(7).copy(Lt,vt):(xt.push(dt%1e14),vt+=7);vt=at/7}else throw ut=!1,Error(bignumberError+"crypto unavailable");if(!ut)for(;vt<at;)dt=Bt(),dt<9e15&&(xt[vt++]=dt%1e14);for(at=xt[--vt],Nt%=LOG_BASE,at&&Nt&&(dt=POWS_TEN[LOG_BASE-Nt],xt[vt]=mathfloor(at/dt)*dt);xt[vt]===0;xt.pop(),vt--);if(vt<0)xt=[bt=0];else{for(bt=-1;xt[0]===0;xt.splice(0,1),bt-=LOG_BASE);for(vt=1,dt=xt[0];dt>=10;dt/=10,vt++);vt<LOG_BASE&&(bt-=LOG_BASE-vt)}return wt.e=bt,wt.c=xt,wt}}(),Ct.sum=function(){for(var $t=1,Bt=arguments,Nt=new Ct(Bt[0]);$t<Bt.length;)Nt=Nt.plus(Bt[$t++]);return Nt},$=function(){var $t="0123456789";function Bt(Nt,Lt,Pt,bt){for(var at,dt=[0],vt,xt=0,wt=Nt.length;xt<wt;){for(vt=dt.length;vt--;dt[vt]*=Lt);for(dt[0]+=bt.indexOf(Nt.charAt(xt++)),at=0;at<dt.length;at++)dt[at]>Pt-1&&(dt[at+1]==null&&(dt[at+1]=0),dt[at+1]+=dt[at]/Pt|0,dt[at]%=Pt)}return dt.reverse()}return function(Nt,Lt,Pt,bt,at){var dt,vt,xt,wt,_t,At,Tt,yt,It=Nt.indexOf("."),rr=rt,ir=nt;for(It>=0&&(wt=Et,Et=0,Nt=Nt.replace(".",""),yt=new Ct(Lt),At=yt.pow(Nt.length-It),Et=wt,yt.c=Bt(toFixedPoint(coeffToString(At.c),At.e,"0"),10,Pt,$t),yt.e=yt.c.length),Tt=Bt(Nt,Lt,Pt,at?(dt=Mt,$t):(dt=$t,Mt)),xt=wt=Tt.length;Tt[--wt]==0;Tt.pop());if(!Tt[0])return dt.charAt(0);if(It<0?--xt:(At.c=Tt,At.e=xt,At.s=bt,At=a(At,yt,rr,ir,Pt),Tt=At.c,_t=At.r,xt=At.e),vt=xt+rr+1,It=Tt[vt],wt=Pt/2,_t=_t||vt<0||Tt[vt+1]!=null,_t=ir<4?(It!=null||_t)&&(ir==0||ir==(At.s<0?3:2)):It>wt||It==wt&&(ir==4||_t||ir==6&&Tt[vt-1]&1||ir==(At.s<0?8:7)),vt<1||!Tt[0])Nt=_t?toFixedPoint(dt.charAt(1),-rr,dt.charAt(0)):dt.charAt(0);else{if(Tt.length=vt,_t)for(--Pt;++Tt[--vt]>Pt;)Tt[vt]=0,vt||(++xt,Tt=[1].concat(Tt));for(wt=Tt.length;!Tt[--wt];);for(It=0,Nt="";It<=wt;Nt+=dt.charAt(Tt[It++]));Nt=toFixedPoint(Nt,xt,dt.charAt(0))}return Nt}}(),a=function(){function $t(Lt,Pt,bt){var at,dt,vt,xt,wt=0,_t=Lt.length,At=Pt%SQRT_BASE,Tt=Pt/SQRT_BASE|0;for(Lt=Lt.slice();_t--;)vt=Lt[_t]%SQRT_BASE,xt=Lt[_t]/SQRT_BASE|0,at=Tt*vt+xt*At,dt=At*vt+at%SQRT_BASE*SQRT_BASE+wt,wt=(dt/bt|0)+(at/SQRT_BASE|0)+Tt*xt,Lt[_t]=dt%bt;return wt&&(Lt=[wt].concat(Lt)),Lt}function Bt(Lt,Pt,bt,at){var dt,vt;if(bt!=at)vt=bt>at?1:-1;else for(dt=vt=0;dt<bt;dt++)if(Lt[dt]!=Pt[dt]){vt=Lt[dt]>Pt[dt]?1:-1;break}return vt}function Nt(Lt,Pt,bt,at){for(var dt=0;bt--;)Lt[bt]-=dt,dt=Lt[bt]<Pt[bt]?1:0,Lt[bt]=dt*at+Lt[bt]-Pt[bt];for(;!Lt[0]&&Lt.length>1;Lt.splice(0,1));}return function(Lt,Pt,bt,at,dt){var vt,xt,wt,_t,At,Tt,yt,It,rr,ir,nr,Gt,qt,Jt,Ft,Kt,Qt,dr=Lt.s==Pt.s?1:-1,xr=Lt.c,pr=Pt.c;if(!xr||!xr[0]||!pr||!pr[0])return new Ct(!Lt.s||!Pt.s||(xr?pr&&xr[0]==pr[0]:!pr)?NaN:xr&&xr[0]==0||!pr?dr*0:dr/0);for(It=new Ct(dr),rr=It.c=[],xt=Lt.e-Pt.e,dr=bt+xt+1,dt||(dt=BASE,xt=bitFloor(Lt.e/LOG_BASE)-bitFloor(Pt.e/LOG_BASE),dr=dr/LOG_BASE|0),wt=0;pr[wt]==(xr[wt]||0);wt++);if(pr[wt]>(xr[wt]||0)&&xt--,dr<0)rr.push(1),_t=!0;else{for(Jt=xr.length,Kt=pr.length,wt=0,dr+=2,At=mathfloor(dt/(pr[0]+1)),At>1&&(pr=$t(pr,At,dt),xr=$t(xr,At,dt),Kt=pr.length,Jt=xr.length),qt=Kt,ir=xr.slice(0,Kt),nr=ir.length;nr<Kt;ir[nr++]=0);Qt=pr.slice(),Qt=[0].concat(Qt),Ft=pr[0],pr[1]>=dt/2&&Ft++;do{if(At=0,vt=Bt(pr,ir,Kt,nr),vt<0){if(Gt=ir[0],Kt!=nr&&(Gt=Gt*dt+(ir[1]||0)),At=mathfloor(Gt/Ft),At>1)for(At>=dt&&(At=dt-1),Tt=$t(pr,At,dt),yt=Tt.length,nr=ir.length;Bt(Tt,ir,yt,nr)==1;)At--,Nt(Tt,Kt<yt?Qt:pr,yt,dt),yt=Tt.length,vt=1;else At==0&&(vt=At=1),Tt=pr.slice(),yt=Tt.length;if(yt<nr&&(Tt=[0].concat(Tt)),Nt(ir,Tt,nr,dt),nr=ir.length,vt==-1)for(;Bt(pr,ir,Kt,nr)<1;)At++,Nt(ir,Kt<nr?Qt:pr,nr,dt),nr=ir.length}else vt===0&&(At++,ir=[0]);rr[wt++]=At,ir[0]?ir[nr++]=xr[qt]||0:(ir=[xr[qt]],nr=1)}while((qt++<Jt||ir[0]!=null)&&dr--);_t=ir[0]!=null,rr[0]||rr.splice(0,1)}if(dt==BASE){for(wt=1,dr=rr[0];dr>=10;dr/=10,wt++);Vt(It,bt+(It.e=wt+xt*LOG_BASE-1)+1,at,_t)}else It.e=xt,It.r=+_t;return It}}();function Ot($t,Bt,Nt,Lt){var Pt,bt,at,dt,vt;if(Nt==null?Nt=nt:intCheck(Nt,0,8),!$t.c)return $t.toString();if(Pt=$t.c[0],at=$t.e,Bt==null)vt=coeffToString($t.c),vt=Lt==1||Lt==2&&(at<=it||at>=ot)?toExponential(vt,at):toFixedPoint(vt,at,"0");else if($t=Vt(new Ct($t),Bt,Nt),bt=$t.e,vt=coeffToString($t.c),dt=vt.length,Lt==1||Lt==2&&(Bt<=bt||bt<=it)){for(;dt<Bt;vt+="0",dt++);vt=toExponential(vt,bt)}else if(Bt-=at,vt=toFixedPoint(vt,bt,"0"),bt+1>dt){if(--Bt>0)for(vt+=".";Bt--;vt+="0");}else if(Bt+=bt-dt,Bt>0)for(bt+1==dt&&(vt+=".");Bt--;vt+="0");return $t.s<0&&Pt?"-"+vt:vt}function zt($t,Bt){for(var Nt,Lt,Pt=1,bt=new Ct($t[0]);Pt<$t.length;Pt++)Lt=new Ct($t[Pt]),(!Lt.s||(Nt=compare$c(bt,Lt))===Bt||Nt===0&&bt.s===Bt)&&(bt=Lt);return bt}function Ut($t,Bt,Nt){for(var Lt=1,Pt=Bt.length;!Bt[--Pt];Bt.pop());for(Pt=Bt[0];Pt>=10;Pt/=10,Lt++);return(Nt=Lt+Nt*LOG_BASE-1)>ct?$t.c=$t.e=null:Nt<st?$t.c=[$t.e=0]:($t.e=Nt,$t.c=Bt),$t}j=function(){var $t=/^(-?)0([xbo])(?=\w[\w.]*$)/i,Bt=/^([^.]+)\.$/,Nt=/^\.([^.]+)$/,Lt=/^-?(Infinity|NaN)$/,Pt=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(bt,at,dt,vt){var xt,wt=dt?at:at.replace(Pt,"");if(Lt.test(wt))bt.s=isNaN(wt)?null:wt<0?-1:1;else{if(!dt&&(wt=wt.replace($t,function(_t,At,Tt){return xt=(Tt=Tt.toLowerCase())=="x"?16:Tt=="b"?2:8,!vt||vt==xt?At:_t}),vt&&(xt=vt,wt=wt.replace(Bt,"$1").replace(Nt,"0.$1")),at!=wt))return new Ct(wt,xt);if(Ct.DEBUG)throw Error(bignumberError+"Not a"+(vt?" base "+vt:"")+" number: "+at);bt.s=null}bt.c=bt.e=null}}();function Vt($t,Bt,Nt,Lt){var Pt,bt,at,dt,vt,xt,wt,_t=$t.c,At=POWS_TEN;if(_t){e:{for(Pt=1,dt=_t[0];dt>=10;dt/=10,Pt++);if(bt=Bt-Pt,bt<0)bt+=LOG_BASE,at=Bt,vt=_t[xt=0],wt=mathfloor(vt/At[Pt-at-1]%10);else if(xt=mathceil((bt+1)/LOG_BASE),xt>=_t.length)if(Lt){for(;_t.length<=xt;_t.push(0));vt=wt=0,Pt=1,bt%=LOG_BASE,at=bt-LOG_BASE+1}else break e;else{for(vt=dt=_t[xt],Pt=1;dt>=10;dt/=10,Pt++);bt%=LOG_BASE,at=bt-LOG_BASE+Pt,wt=at<0?0:mathfloor(vt/At[Pt-at-1]%10)}if(Lt=Lt||Bt<0||_t[xt+1]!=null||(at<0?vt:vt%At[Pt-at-1]),Lt=Nt<4?(wt||Lt)&&(Nt==0||Nt==($t.s<0?3:2)):wt>5||wt==5&&(Nt==4||Lt||Nt==6&&(bt>0?at>0?vt/At[Pt-at]:0:_t[xt-1])%10&1||Nt==($t.s<0?8:7)),Bt<1||!_t[0])return _t.length=0,Lt?(Bt-=$t.e+1,_t[0]=At[(LOG_BASE-Bt%LOG_BASE)%LOG_BASE],$t.e=-Bt||0):_t[0]=$t.e=0,$t;if(bt==0?(_t.length=xt,dt=1,xt--):(_t.length=xt+1,dt=At[LOG_BASE-bt],_t[xt]=at>0?mathfloor(vt/At[Pt-at]%At[at])*dt:0),Lt)for(;;)if(xt==0){for(bt=1,at=_t[0];at>=10;at/=10,bt++);for(at=_t[0]+=dt,dt=1;at>=10;at/=10,dt++);bt!=dt&&($t.e++,_t[0]==BASE&&(_t[0]=1));break}else{if(_t[xt]+=dt,_t[xt]!=BASE)break;_t[xt--]=0,dt=1}for(bt=_t.length;_t[--bt]===0;_t.pop());}$t.e>ct?$t.c=$t.e=null:$t.e<st&&($t.c=[$t.e=0])}return $t}function jt($t){var Bt,Nt=$t.e;return Nt===null?$t.toString():(Bt=coeffToString($t.c),Bt=Nt<=it||Nt>=ot?toExponential(Bt,Nt):toFixedPoint(Bt,Nt,"0"),$t.s<0?"-"+Bt:Bt)}return et.absoluteValue=et.abs=function(){var $t=new Ct(this);return $t.s<0&&($t.s=1),$t},et.comparedTo=function($t,Bt){return compare$c(this,new Ct($t,Bt))},et.decimalPlaces=et.dp=function($t,Bt){var Nt,Lt,Pt,bt=this;if($t!=null)return intCheck($t,0,MAX),Bt==null?Bt=nt:intCheck(Bt,0,8),Vt(new Ct(bt),$t+bt.e+1,Bt);if(!(Nt=bt.c))return null;if(Lt=((Pt=Nt.length-1)-bitFloor(this.e/LOG_BASE))*LOG_BASE,Pt=Nt[Pt])for(;Pt%10==0;Pt/=10,Lt--);return Lt<0&&(Lt=0),Lt},et.dividedBy=et.div=function($t,Bt){return a(this,new Ct($t,Bt),rt,nt)},et.dividedToIntegerBy=et.idiv=function($t,Bt){return a(this,new Ct($t,Bt),0,1)},et.exponentiatedBy=et.pow=function($t,Bt){var Nt,Lt,Pt,bt,at,dt,vt,xt,wt,_t=this;if($t=new Ct($t),$t.c&&!$t.isInteger())throw Error(bignumberError+"Exponent not an integer: "+jt($t));if(Bt!=null&&(Bt=new Ct(Bt)),dt=$t.e>14,!_t.c||!_t.c[0]||_t.c[0]==1&&!_t.e&&_t.c.length==1||!$t.c||!$t.c[0])return wt=new Ct(Math.pow(+jt(_t),dt?$t.s*(2-isOdd($t)):+jt($t))),Bt?wt.mod(Bt):wt;if(vt=$t.s<0,Bt){if(Bt.c?!Bt.c[0]:!Bt.s)return new Ct(NaN);Lt=!vt&&_t.isInteger()&&Bt.isInteger(),Lt&&(_t=_t.mod(Bt))}else{if($t.e>9&&(_t.e>0||_t.e<-1||(_t.e==0?_t.c[0]>1||dt&&_t.c[1]>=24e7:_t.c[0]<8e13||dt&&_t.c[0]<=9999975e7)))return bt=_t.s<0&&isOdd($t)?-0:0,_t.e>-1&&(bt=1/bt),new Ct(vt?1/bt:bt);Et&&(bt=mathceil(Et/LOG_BASE+2))}for(dt?(Nt=new Ct(.5),vt&&($t.s=1),xt=isOdd($t)):(Pt=Math.abs(+jt($t)),xt=Pt%2),wt=new Ct(tt);;){if(xt){if(wt=wt.times(_t),!wt.c)break;bt?wt.c.length>bt&&(wt.c.length=bt):Lt&&(wt=wt.mod(Bt))}if(Pt){if(Pt=mathfloor(Pt/2),Pt===0)break;xt=Pt%2}else if($t=$t.times(Nt),Vt($t,$t.e+1,1),$t.e>14)xt=isOdd($t);else{if(Pt=+jt($t),Pt===0)break;xt=Pt%2}_t=_t.times(_t),bt?_t.c&&_t.c.length>bt&&(_t.c.length=bt):Lt&&(_t=_t.mod(Bt))}return Lt?wt:(vt&&(wt=tt.div(wt)),Bt?wt.mod(Bt):bt?Vt(wt,Et,nt,at):wt)},et.integerValue=function($t){var Bt=new Ct(this);return $t==null?$t=nt:intCheck($t,0,8),Vt(Bt,Bt.e+1,$t)},et.isEqualTo=et.eq=function($t,Bt){return compare$c(this,new Ct($t,Bt))===0},et.isFinite=function(){return!!this.c},et.isGreaterThan=et.gt=function($t,Bt){return compare$c(this,new Ct($t,Bt))>0},et.isGreaterThanOrEqualTo=et.gte=function($t,Bt){return(Bt=compare$c(this,new Ct($t,Bt)))===1||Bt===0},et.isInteger=function(){return!!this.c&&bitFloor(this.e/LOG_BASE)>this.c.length-2},et.isLessThan=et.lt=function($t,Bt){return compare$c(this,new Ct($t,Bt))<0},et.isLessThanOrEqualTo=et.lte=function($t,Bt){return(Bt=compare$c(this,new Ct($t,Bt)))===-1||Bt===0},et.isNaN=function(){return!this.s},et.isNegative=function(){return this.s<0},et.isPositive=function(){return this.s>0},et.isZero=function(){return!!this.c&&this.c[0]==0},et.minus=function($t,Bt){var Nt,Lt,Pt,bt,at=this,dt=at.s;if($t=new Ct($t,Bt),Bt=$t.s,!dt||!Bt)return new Ct(NaN);if(dt!=Bt)return $t.s=-Bt,at.plus($t);var vt=at.e/LOG_BASE,xt=$t.e/LOG_BASE,wt=at.c,_t=$t.c;if(!vt||!xt){if(!wt||!_t)return wt?($t.s=-Bt,$t):new Ct(_t?at:NaN);if(!wt[0]||!_t[0])return _t[0]?($t.s=-Bt,$t):new Ct(wt[0]?at:nt==3?-0:0)}if(vt=bitFloor(vt),xt=bitFloor(xt),wt=wt.slice(),dt=vt-xt){for((bt=dt<0)?(dt=-dt,Pt=wt):(xt=vt,Pt=_t),Pt.reverse(),Bt=dt;Bt--;Pt.push(0));Pt.reverse()}else for(Lt=(bt=(dt=wt.length)<(Bt=_t.length))?dt:Bt,dt=Bt=0;Bt<Lt;Bt++)if(wt[Bt]!=_t[Bt]){bt=wt[Bt]<_t[Bt];break}if(bt&&(Pt=wt,wt=_t,_t=Pt,$t.s=-$t.s),Bt=(Lt=_t.length)-(Nt=wt.length),Bt>0)for(;Bt--;wt[Nt++]=0);for(Bt=BASE-1;Lt>dt;){if(wt[--Lt]<_t[Lt]){for(Nt=Lt;Nt&&!wt[--Nt];wt[Nt]=Bt);--wt[Nt],wt[Lt]+=BASE}wt[Lt]-=_t[Lt]}for(;wt[0]==0;wt.splice(0,1),--xt);return wt[0]?Ut($t,wt,xt):($t.s=nt==3?-1:1,$t.c=[$t.e=0],$t)},et.modulo=et.mod=function($t,Bt){var Nt,Lt,Pt=this;return $t=new Ct($t,Bt),!Pt.c||!$t.s||$t.c&&!$t.c[0]?new Ct(NaN):!$t.c||Pt.c&&!Pt.c[0]?new Ct(Pt):(ht==9?(Lt=$t.s,$t.s=1,Nt=a(Pt,$t,0,3),$t.s=Lt,Nt.s*=Lt):Nt=a(Pt,$t,0,ht),$t=Pt.minus(Nt.times($t)),!$t.c[0]&&ht==1&&($t.s=Pt.s),$t)},et.multipliedBy=et.times=function($t,Bt){var Nt,Lt,Pt,bt,at,dt,vt,xt,wt,_t,At,Tt,yt,It,rr,ir=this,nr=ir.c,Gt=($t=new Ct($t,Bt)).c;if(!nr||!Gt||!nr[0]||!Gt[0])return!ir.s||!$t.s||nr&&!nr[0]&&!Gt||Gt&&!Gt[0]&&!nr?$t.c=$t.e=$t.s=null:($t.s*=ir.s,!nr||!Gt?$t.c=$t.e=null:($t.c=[0],$t.e=0)),$t;for(Lt=bitFloor(ir.e/LOG_BASE)+bitFloor($t.e/LOG_BASE),$t.s*=ir.s,vt=nr.length,_t=Gt.length,vt<_t&&(yt=nr,nr=Gt,Gt=yt,Pt=vt,vt=_t,_t=Pt),Pt=vt+_t,yt=[];Pt--;yt.push(0));for(It=BASE,rr=SQRT_BASE,Pt=_t;--Pt>=0;){for(Nt=0,At=Gt[Pt]%rr,Tt=Gt[Pt]/rr|0,at=vt,bt=Pt+at;bt>Pt;)xt=nr[--at]%rr,wt=nr[at]/rr|0,dt=Tt*xt+wt*At,xt=At*xt+dt%rr*rr+yt[bt]+Nt,Nt=(xt/It|0)+(dt/rr|0)+Tt*wt,yt[bt--]=xt%It;yt[bt]=Nt}return Nt?++Lt:yt.splice(0,1),Ut($t,yt,Lt)},et.negated=function(){var $t=new Ct(this);return $t.s=-$t.s||null,$t},et.plus=function($t,Bt){var Nt,Lt=this,Pt=Lt.s;if($t=new Ct($t,Bt),Bt=$t.s,!Pt||!Bt)return new Ct(NaN);if(Pt!=Bt)return $t.s=-Bt,Lt.minus($t);var bt=Lt.e/LOG_BASE,at=$t.e/LOG_BASE,dt=Lt.c,vt=$t.c;if(!bt||!at){if(!dt||!vt)return new Ct(Pt/0);if(!dt[0]||!vt[0])return vt[0]?$t:new Ct(dt[0]?Lt:Pt*0)}if(bt=bitFloor(bt),at=bitFloor(at),dt=dt.slice(),Pt=bt-at){for(Pt>0?(at=bt,Nt=vt):(Pt=-Pt,Nt=dt),Nt.reverse();Pt--;Nt.push(0));Nt.reverse()}for(Pt=dt.length,Bt=vt.length,Pt-Bt<0&&(Nt=vt,vt=dt,dt=Nt,Bt=Pt),Pt=0;Bt;)Pt=(dt[--Bt]=dt[Bt]+vt[Bt]+Pt)/BASE|0,dt[Bt]=BASE===dt[Bt]?0:dt[Bt]%BASE;return Pt&&(dt=[Pt].concat(dt),++at),Ut($t,dt,at)},et.precision=et.sd=function($t,Bt){var Nt,Lt,Pt,bt=this;if($t!=null&&$t!==!!$t)return intCheck($t,1,MAX),Bt==null?Bt=nt:intCheck(Bt,0,8),Vt(new Ct(bt),$t,Bt);if(!(Nt=bt.c))return null;if(Pt=Nt.length-1,Lt=Pt*LOG_BASE+1,Pt=Nt[Pt]){for(;Pt%10==0;Pt/=10,Lt--);for(Pt=Nt[0];Pt>=10;Pt/=10,Lt++);}return $t&&bt.e+1>Lt&&(Lt=bt.e+1),Lt},et.shiftedBy=function($t){return intCheck($t,-MAX_SAFE_INTEGER$2,MAX_SAFE_INTEGER$2),this.times("1e"+$t)},et.squareRoot=et.sqrt=function(){var $t,Bt,Nt,Lt,Pt,bt=this,at=bt.c,dt=bt.s,vt=bt.e,xt=rt+4,wt=new Ct("0.5");if(dt!==1||!at||!at[0])return new Ct(!dt||dt<0&&(!at||at[0])?NaN:at?bt:1/0);if(dt=Math.sqrt(+jt(bt)),dt==0||dt==1/0?(Bt=coeffToString(at),(Bt.length+vt)%2==0&&(Bt+="0"),dt=Math.sqrt(+Bt),vt=bitFloor((vt+1)/2)-(vt<0||vt%2),dt==1/0?Bt="5e"+vt:(Bt=dt.toExponential(),Bt=Bt.slice(0,Bt.indexOf("e")+1)+vt),Nt=new Ct(Bt)):Nt=new Ct(dt+""),Nt.c[0]){for(vt=Nt.e,dt=vt+xt,dt<3&&(dt=0);;)if(Pt=Nt,Nt=wt.times(Pt.plus(a(bt,Pt,xt,1))),coeffToString(Pt.c).slice(0,dt)===(Bt=coeffToString(Nt.c)).slice(0,dt))if(Nt.e<vt&&--dt,Bt=Bt.slice(dt-3,dt+1),Bt=="9999"||!Lt&&Bt=="4999"){if(!Lt&&(Vt(Pt,Pt.e+rt+2,0),Pt.times(Pt).eq(bt))){Nt=Pt;break}xt+=4,dt+=4,Lt=1}else{(!+Bt||!+Bt.slice(1)&&Bt.charAt(0)=="5")&&(Vt(Nt,Nt.e+rt+2,1),$t=!Nt.times(Nt).eq(bt));break}}return Vt(Nt,Nt.e+rt+1,nt,$t)},et.toExponential=function($t,Bt){return $t!=null&&(intCheck($t,0,MAX),$t++),Ot(this,$t,Bt,1)},et.toFixed=function($t,Bt){return $t!=null&&(intCheck($t,0,MAX),$t=$t+this.e+1),Ot(this,$t,Bt)},et.toFormat=function($t,Bt,Nt){var Lt,Pt=this;if(Nt==null)$t!=null&&Bt&&typeof Bt=="object"?(Nt=Bt,Bt=null):$t&&typeof $t=="object"?(Nt=$t,$t=Bt=null):Nt=St;else if(typeof Nt!="object")throw Error(bignumberError+"Argument not an object: "+Nt);if(Lt=Pt.toFixed($t,Bt),Pt.c){var bt,at=Lt.split("."),dt=+Nt.groupSize,vt=+Nt.secondaryGroupSize,xt=Nt.groupSeparator||"",wt=at[0],_t=at[1],At=Pt.s<0,Tt=At?wt.slice(1):wt,yt=Tt.length;if(vt&&(bt=dt,dt=vt,vt=bt,yt-=bt),dt>0&&yt>0){for(bt=yt%dt||dt,wt=Tt.substr(0,bt);bt<yt;bt+=dt)wt+=xt+Tt.substr(bt,dt);vt>0&&(wt+=xt+Tt.slice(bt)),At&&(wt="-"+wt)}Lt=_t?wt+(Nt.decimalSeparator||"")+((vt=+Nt.fractionGroupSize)?_t.replace(new RegExp("\\d{"+vt+"}\\B","g"),"$&"+(Nt.fractionGroupSeparator||"")):_t):wt}return(Nt.prefix||"")+Lt+(Nt.suffix||"")},et.toFraction=function($t){var Bt,Nt,Lt,Pt,bt,at,dt,vt,xt,wt,_t,At,Tt=this,yt=Tt.c;if($t!=null&&(dt=new Ct($t),!dt.isInteger()&&(dt.c||dt.s!==1)||dt.lt(tt)))throw Error(bignumberError+"Argument "+(dt.isInteger()?"out of range: ":"not an integer: ")+jt(dt));if(!yt)return new Ct(Tt);for(Bt=new Ct(tt),xt=Nt=new Ct(tt),Lt=vt=new Ct(tt),At=coeffToString(yt),bt=Bt.e=At.length-Tt.e-1,Bt.c[0]=POWS_TEN[(at=bt%LOG_BASE)<0?LOG_BASE+at:at],$t=!$t||dt.comparedTo(Bt)>0?bt>0?Bt:xt:dt,at=ct,ct=1/0,dt=new Ct(At),vt.c[0]=0;wt=a(dt,Bt,0,1),Pt=Nt.plus(wt.times(Lt)),Pt.comparedTo($t)!=1;)Nt=Lt,Lt=Pt,xt=vt.plus(wt.times(Pt=xt)),vt=Pt,Bt=dt.minus(wt.times(Pt=Bt)),dt=Pt;return Pt=a($t.minus(Nt),Lt,0,1),vt=vt.plus(Pt.times(xt)),Nt=Nt.plus(Pt.times(Lt)),vt.s=xt.s=Tt.s,bt=bt*2,_t=a(xt,Lt,bt,nt).minus(Tt).abs().comparedTo(a(vt,Nt,bt,nt).minus(Tt).abs())<1?[xt,Lt]:[vt,Nt],ct=at,_t},et.toNumber=function(){return+jt(this)},et.toPrecision=function($t,Bt){return $t!=null&&intCheck($t,1,MAX),Ot(this,$t,Bt,2)},et.toString=function($t){var Bt,Nt=this,Lt=Nt.s,Pt=Nt.e;return Pt===null?Lt?(Bt="Infinity",Lt<0&&(Bt="-"+Bt)):Bt="NaN":($t==null?Bt=Pt<=it||Pt>=ot?toExponential(coeffToString(Nt.c),Pt):toFixedPoint(coeffToString(Nt.c),Pt,"0"):$t===10&&kt?(Nt=Vt(new Ct(Nt),rt+Pt+1,nt),Bt=toFixedPoint(coeffToString(Nt.c),Nt.e,"0")):(intCheck($t,2,Mt.length,"Base"),Bt=$(toFixedPoint(coeffToString(Nt.c),Pt,"0"),10,$t,Lt,!0)),Lt<0&&Nt.c[0]&&(Bt="-"+Bt)),Bt},et.valueOf=et.toJSON=function(){return jt(this)},et._isBigNumber=!0,et[Symbol.toStringTag]="BigNumber",et[Symbol.for("nodejs.util.inspect.custom")]=et.valueOf,_!=null&&Ct.set(_),Ct}function bitFloor(_){var a=_|0;return _>0||_===a?a:a-1}function coeffToString(_){for(var a,$,j=1,et=_.length,tt=_[0]+"";j<et;){for(a=_[j++]+"",$=LOG_BASE-a.length;$--;a="0"+a);tt+=a}for(et=tt.length;tt.charCodeAt(--et)===48;);return tt.slice(0,et+1||1)}function compare$c(_,a){var $,j,et=_.c,tt=a.c,rt=_.s,nt=a.s,it=_.e,ot=a.e;if(!rt||!nt)return null;if($=et&&!et[0],j=tt&&!tt[0],$||j)return $?j?0:-nt:rt;if(rt!=nt)return rt;if($=rt<0,j=it==ot,!et||!tt)return j?0:!et^$?1:-1;if(!j)return it>ot^$?1:-1;for(nt=(it=et.length)<(ot=tt.length)?it:ot,rt=0;rt<nt;rt++)if(et[rt]!=tt[rt])return et[rt]>tt[rt]^$?1:-1;return it==ot?0:it>ot^$?1:-1}function intCheck(_,a,$,j){if(_<a||_>$||_!==mathfloor(_))throw Error(bignumberError+(j||"Argument")+(typeof _=="number"?_<a||_>$?" out of range: ":" not an integer: ":" not a primitive number: ")+String(_))}function isOdd(_){var a=_.c.length-1;return bitFloor(_.e/LOG_BASE)==a&&_.c[a]%2!=0}function toExponential(_,a){return(_.length>1?_.charAt(0)+"."+_.slice(1):_)+(a<0?"e":"e+")+a}function toFixedPoint(_,a,$){var j,et;if(a<0){for(et=$+".";++a;et+=$);_=et+_}else if(j=_.length,++a>j){for(et=$,a-=j;--a;et+=$);_+=et}else a<j&&(_=_.slice(0,a)+"."+_.slice(a));return _}var BigNumber=clone(),ellipticExports=requireElliptic();const elliptic=getDefaultExportFromCjs$1(ellipticExports);var typedarrayToBuffer=function _(a){return ArrayBuffer.isView(a)?Buffer$g.from(a.buffer,a.byteOffset,a.byteLength):Buffer$g.from(a)};const toBuffer$1=getDefaultExportFromCjs$1(typedarrayToBuffer);var Prefix;(function(_){_.TZ1="tz1",_.TZ2="tz2",_.TZ3="tz3",_.TZ4="tz4",_.KT="KT",_.KT1="KT1",_.EDSK2="edsk2",_.SPSK="spsk",_.P2SK="p2sk",_.EDPK="edpk",_.SPPK="sppk",_.P2PK="p2pk",_.BLPK="BLpk",_.EDESK="edesk",_.SPESK="spesk",_.P2ESK="p2esk",_.EDSK="edsk",_.EDSIG="edsig",_.SPSIG="spsig",_.P2SIG="p2sig",_.SIG="sig",_.NET="Net",_.NCE="nce",_.B="B",_.O="o",_.LO="Lo",_.LLO="LLo",_.P="P",_.CO="Co",_.ID="id",_.EXPR="expr",_.TZ="TZ",_.VH="vh",_.SASK="sask",_.ZET1="zet1",_.SR1="sr1",_.SRC1="src1"})(Prefix||(Prefix={}));const prefix={[Prefix.TZ1]:new Uint8Array([6,161,159]),[Prefix.TZ2]:new Uint8Array([6,161,161]),[Prefix.TZ3]:new Uint8Array([6,161,164]),[Prefix.TZ4]:new Uint8Array([6,161,166]),[Prefix.KT]:new Uint8Array([2,90,121]),[Prefix.KT1]:new Uint8Array([2,90,121]),[Prefix.EDSK]:new Uint8Array([43,246,78,7]),[Prefix.EDSK2]:new Uint8Array([13,15,58,7]),[Prefix.SPSK]:new Uint8Array([17,162,224,201]),[Prefix.P2SK]:new Uint8Array([16,81,238,189]),[Prefix.EDPK]:new Uint8Array([13,15,37,217]),[Prefix.SPPK]:new Uint8Array([3,254,226,86]),[Prefix.P2PK]:new Uint8Array([3,178,139,127]),[Prefix.BLPK]:new Uint8Array([6,149,135,204]),[Prefix.EDESK]:new Uint8Array([7,90,60,179,41]),[Prefix.SPESK]:new Uint8Array([9,237,241,174,150]),[Prefix.P2ESK]:new Uint8Array([9,48,57,115,171]),[Prefix.EDSIG]:new Uint8Array([9,245,205,134,18]),[Prefix.SPSIG]:new Uint8Array([13,115,101,19,63]),[Prefix.P2SIG]:new Uint8Array([54,240,44,52]),[Prefix.SIG]:new Uint8Array([4,130,43]),[Prefix.NET]:new Uint8Array([87,82,0]),[Prefix.NCE]:new Uint8Array([69,220,169]),[Prefix.B]:new Uint8Array([1,52]),[Prefix.O]:new Uint8Array([5,116]),[Prefix.LO]:new Uint8Array([133,233]),[Prefix.LLO]:new Uint8Array([29,159,109]),[Prefix.P]:new Uint8Array([2,170]),[Prefix.CO]:new Uint8Array([79,179]),[Prefix.ID]:new Uint8Array([153,103]),[Prefix.EXPR]:new Uint8Array([13,44,64,27]),[Prefix.TZ]:new Uint8Array([2,90,121]),[Prefix.VH]:new Uint8Array([1,106,242]),[Prefix.SASK]:new Uint8Array([11,237,20,92]),[Prefix.ZET1]:new Uint8Array([18,71,40,223]),[Prefix.SR1]:new Uint8Array([6,124,117]),[Prefix.SRC1]:new Uint8Array([17,165,134,138])},prefixLength={[Prefix.TZ1]:20,[Prefix.TZ2]:20,[Prefix.TZ3]:20,[Prefix.TZ4]:20,[Prefix.KT]:20,[Prefix.KT1]:20,[Prefix.EDPK]:32,[Prefix.SPPK]:33,[Prefix.P2PK]:33,[Prefix.BLPK]:48,[Prefix.EDSIG]:64,[Prefix.SPSIG]:64,[Prefix.P2SIG]:64,[Prefix.SIG]:64,[Prefix.NET]:4,[Prefix.B]:32,[Prefix.P]:32,[Prefix.O]:32,[Prefix.VH]:32,[Prefix.SASK]:169,[Prefix.ZET1]:43,[Prefix.SR1]:20,[Prefix.SRC1]:32};class ValueConversionError extends UnsupportedActionError{constructor(a,$){super(),this.value=a,this.desiredType=$,this.name="ValueConversionError",this.message=`Unable to convert ${a} to a ${$}`}}var ValidationResult;(function(_){_[_.NO_PREFIX_MATCHED=0]="NO_PREFIX_MATCHED",_[_.INVALID_CHECKSUM=1]="INVALID_CHECKSUM",_[_.INVALID_LENGTH=2]="INVALID_LENGTH",_[_.VALID=3]="VALID"})(ValidationResult||(ValidationResult={}));function isValidPrefix(_){return typeof _!="string"?!1:_ in prefix}function validatePrefixedValue(_,a){const $=new RegExp(`^(${a.join("|")})`).exec(_);if(!$||$.length===0)return ValidationResult.NO_PREFIX_MATCHED;const j=$[0];if(!isValidPrefix(j))return ValidationResult.NO_PREFIX_MATCHED;if(_.includes("%")&&(_=_.split("%")[0]),!/^(KT1\w{33})$/.test(_)&&j==="KT1")return ValidationResult.INVALID_CHECKSUM;let tt=bs58check$1.decodeUnsafe(_);return tt?(tt=tt.slice(prefix[j].length),tt.length!==prefixLength[j]?ValidationResult.INVALID_LENGTH:ValidationResult.VALID):ValidationResult.INVALID_CHECKSUM}const implicitPrefix=[Prefix.TZ1,Prefix.TZ2,Prefix.TZ3,Prefix.TZ4],contractPrefix=[Prefix.KT1],signaturePrefix=[Prefix.EDSIG,Prefix.P2SIG,Prefix.SPSIG,Prefix.SIG],pkPrefix=[Prefix.EDPK,Prefix.SPPK,Prefix.P2PK,Prefix.BLPK],operationPrefix=[Prefix.O];Prefix.P;const blockPrefix=[Prefix.B],smartRollupPrefix=[Prefix.SR1];function validateAddress(_){return validatePrefixedValue(_,[...implicitPrefix,...contractPrefix,...smartRollupPrefix])}function validateChain(_){return validatePrefixedValue(_,[Prefix.NET])}function validateContractAddress(_){return validatePrefixedValue(_,contractPrefix)}function validateKeyHash(_){return validatePrefixedValue(_,implicitPrefix)}function validateSignature(_){return validatePrefixedValue(_,signaturePrefix)}function validatePublicKey(_){return validatePrefixedValue(_,pkPrefix)}function validateOperation(_){return validatePrefixedValue(_,operationPrefix)}function validateBlock(_){return validatePrefixedValue(_,blockPrefix)}function invalidDetail(_){switch(_){case ValidationResult.NO_PREFIX_MATCHED:return"with unsupported prefix";case ValidationResult.INVALID_CHECKSUM:return"failed checksum";case ValidationResult.INVALID_LENGTH:return"with incorrect length";default:return""}}const TZ_DECIMALS=6,MTZ_DECIMALS=3;function getDecimal(_){switch(_){case"tz":return TZ_DECIMALS;case"mtz":return MTZ_DECIMALS;case"mutez":default:return 0}}function format$1(_="mutez",a="mutez",$){const j=new BigNumber($);return j.isNaN()?$:j.multipliedBy(Math.pow(10,getDecimal(_))).dividedBy(Math.pow(10,getDecimal(a)))}function encodeExpr(_){const a=blake.blake2b(hex2buf(_),void 0,32);return b58cencode(a,prefix.expr)}function b58cencode(_,a){const $=typeof _=="string"?Uint8Array.from(buffer$1.Buffer.from(_,"hex")):_,j=new Uint8Array(a.length+$.length);return j.set(a),j.set($,a.length),bs58check$1.encode(buffer$1.Buffer.from(j.buffer))}const b58cdecode=(_,a)=>bs58check$1.decode(_).slice(a.length);function b58decode(_){const a=bs58check$1.decode(_),j={[prefix.tz1.toString()]:"0000",[prefix.tz2.toString()]:"0001",[prefix.tz3.toString()]:"0002"}[new Uint8Array(a.slice(0,3)).toString()];if(j){const et=buf2hex(a.slice(3));return j+et}else return"01"+buf2hex(a.slice(3,42))+"00"}function encodeAddress(_){if(_.substring(0,2)==="0x"&&(_=_.slice(2)),_.substring(0,2)==="00"){const a={"0000":prefix.tz1,"0001":prefix.tz2,"0002":prefix.tz3};return b58cencode(_.substring(4),a[_.substring(0,4)])}return b58cencode(_.substring(2,42),prefix.KT)}function encodeKey(_){if(_[0]==="0"){const a={"00":new Uint8Array([13,15,37,217]),"01":new Uint8Array([3,254,226,86]),"02":new Uint8Array([3,178,139,127])};return b58cencode(_.substring(2),a[_.substring(0,2)])}}function encodeKeyHash(_){if(_[0]==="0"){const a={"00":new Uint8Array([6,161,159]),"01":new Uint8Array([6,161,161]),"02":new Uint8Array([6,161,164])};return b58cencode(_.substring(2),a[_.substring(0,2)])}}const hex2buf=_=>{if(_.length%2!==0)throw new InvalidHexStringError(_,": Expecting even number of characters");const a=stripHexPrefix$1(_);if(!a.match(/^([\da-f]{2})*$/gi))throw new InvalidHexStringError(_,": Only characters 0-9, a-f and A-F are expected. Optionally, it can be prefixed with '0x'");const $=new Uint8Array(a.length/2);let j=0;for(let et=0;et<a.length;et+=2){const tt=parseInt(a.slice(et,et+2),16);if(Number.isNaN(tt))throw new ValueConversionError(_,"Uint8Array");$[j++]=tt}return $},mergebuf=(_,a)=>{const $=new Uint8Array(_.length+a.length);return $.set(_),$.set(a,_.length),$},buf2hex=_=>{const a=[];return _.forEach($=>{const et=`00${$.toString(16)}`.slice(-2);a.push(et)}),a.join("")};function hex2Bytes(_){const a=stripHexPrefix$1(_);if(!a.match(/^(0x)?([\da-f]{2})*$/gi))throw new InvalidHexStringError(_,": Expecting even number of characters: 0-9, a-z, A-Z, optionally prefixed with 0x");return buffer$1.Buffer.from(a,"hex")}function stripHexPrefix$1(_){return _.startsWith("0x")?_.slice(2):_}var util;(function(_){_.assertEqual=et=>et;function a(et){}_.assertIs=a;function $(et){throw new Error}_.assertNever=$,_.arrayToEnum=et=>{const tt={};for(const rt of et)tt[rt]=rt;return tt},_.getValidEnumValues=et=>{const tt=_.objectKeys(et).filter(nt=>typeof et[et[nt]]!="number"),rt={};for(const nt of tt)rt[nt]=et[nt];return _.objectValues(rt)},_.objectValues=et=>_.objectKeys(et).map(function(tt){return et[tt]}),_.objectKeys=typeof Object.keys=="function"?et=>Object.keys(et):et=>{const tt=[];for(const rt in et)Object.prototype.hasOwnProperty.call(et,rt)&&tt.push(rt);return tt},_.find=(et,tt)=>{for(const rt of et)if(tt(rt))return rt},_.isInteger=typeof Number.isInteger=="function"?et=>Number.isInteger(et):et=>typeof et=="number"&&isFinite(et)&&Math.floor(et)===et;function j(et,tt=" | "){return et.map(rt=>typeof rt=="string"?`'${rt}'`:rt).join(tt)}_.joinValues=j,_.jsonStringifyReplacer=(et,tt)=>typeof tt=="bigint"?tt.toString():tt})(util||(util={}));var objectUtil;(function(_){_.mergeShapes=(a,$)=>({...a,...$})})(objectUtil||(objectUtil={}));const ZodParsedType=util.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),getParsedType=_=>{switch(typeof _){case"undefined":return ZodParsedType.undefined;case"string":return ZodParsedType.string;case"number":return isNaN(_)?ZodParsedType.nan:ZodParsedType.number;case"boolean":return ZodParsedType.boolean;case"function":return ZodParsedType.function;case"bigint":return ZodParsedType.bigint;case"symbol":return ZodParsedType.symbol;case"object":return Array.isArray(_)?ZodParsedType.array:_===null?ZodParsedType.null:_.then&&typeof _.then=="function"&&_.catch&&typeof _.catch=="function"?ZodParsedType.promise:typeof Map<"u"&&_ instanceof Map?ZodParsedType.map:typeof Set<"u"&&_ instanceof Set?ZodParsedType.set:typeof Date<"u"&&_ instanceof Date?ZodParsedType.date:ZodParsedType.object;default:return ZodParsedType.unknown}},ZodIssueCode=util.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),quotelessJson=_=>JSON.stringify(_,null,2).replace(/"([^"]+)":/g,"$1:");class ZodError extends Error{constructor(a){super(),this.issues=[],this.addIssue=j=>{this.issues=[...this.issues,j]},this.addIssues=(j=[])=>{this.issues=[...this.issues,...j]};const $=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,$):this.__proto__=$,this.name="ZodError",this.issues=a}get errors(){return this.issues}format(a){const $=a||function(tt){return tt.message},j={_errors:[]},et=tt=>{for(const rt of tt.issues)if(rt.code==="invalid_union")rt.unionErrors.map(et);else if(rt.code==="invalid_return_type")et(rt.returnTypeError);else if(rt.code==="invalid_arguments")et(rt.argumentsError);else if(rt.path.length===0)j._errors.push($(rt));else{let nt=j,it=0;for(;it<rt.path.length;){const ot=rt.path[it];it===rt.path.length-1?(nt[ot]=nt[ot]||{_errors:[]},nt[ot]._errors.push($(rt))):nt[ot]=nt[ot]||{_errors:[]},nt=nt[ot],it++}}};return et(this),j}static assert(a){if(!(a instanceof ZodError))throw new Error(`Not a ZodError: ${a}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,util.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(a=$=>$.message){const $={},j=[];for(const et of this.issues)et.path.length>0?($[et.path[0]]=$[et.path[0]]||[],$[et.path[0]].push(a(et))):j.push(a(et));return{formErrors:j,fieldErrors:$}}get formErrors(){return this.flatten()}}ZodError.create=_=>new ZodError(_);const errorMap=(_,a)=>{let $;switch(_.code){case ZodIssueCode.invalid_type:_.received===ZodParsedType.undefined?$="Required":$=`Expected ${_.expected}, received ${_.received}`;break;case ZodIssueCode.invalid_literal:$=`Invalid literal value, expected ${JSON.stringify(_.expected,util.jsonStringifyReplacer)}`;break;case ZodIssueCode.unrecognized_keys:$=`Unrecognized key(s) in object: ${util.joinValues(_.keys,", ")}`;break;case ZodIssueCode.invalid_union:$="Invalid input";break;case ZodIssueCode.invalid_union_discriminator:$=`Invalid discriminator value. Expected ${util.joinValues(_.options)}`;break;case ZodIssueCode.invalid_enum_value:$=`Invalid enum value. Expected ${util.joinValues(_.options)}, received '${_.received}'`;break;case ZodIssueCode.invalid_arguments:$="Invalid function arguments";break;case ZodIssueCode.invalid_return_type:$="Invalid function return type";break;case ZodIssueCode.invalid_date:$="Invalid date";break;case ZodIssueCode.invalid_string:typeof _.validation=="object"?"includes"in _.validation?($=`Invalid input: must include "${_.validation.includes}"`,typeof _.validation.position=="number"&&($=`${$} at one or more positions greater than or equal to ${_.validation.position}`)):"startsWith"in _.validation?$=`Invalid input: must start with "${_.validation.startsWith}"`:"endsWith"in _.validation?$=`Invalid input: must end with "${_.validation.endsWith}"`:util.assertNever(_.validation):_.validation!=="regex"?$=`Invalid ${_.validation}`:$="Invalid";break;case ZodIssueCode.too_small:_.type==="array"?$=`Array must contain ${_.exact?"exactly":_.inclusive?"at least":"more than"} ${_.minimum} element(s)`:_.type==="string"?$=`String must contain ${_.exact?"exactly":_.inclusive?"at least":"over"} ${_.minimum} character(s)`:_.type==="number"?$=`Number must be ${_.exact?"exactly equal to ":_.inclusive?"greater than or equal to ":"greater than "}${_.minimum}`:_.type==="date"?$=`Date must be ${_.exact?"exactly equal to ":_.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(_.minimum))}`:$="Invalid input";break;case ZodIssueCode.too_big:_.type==="array"?$=`Array must contain ${_.exact?"exactly":_.inclusive?"at most":"less than"} ${_.maximum} element(s)`:_.type==="string"?$=`String must contain ${_.exact?"exactly":_.inclusive?"at most":"under"} ${_.maximum} character(s)`:_.type==="number"?$=`Number must be ${_.exact?"exactly":_.inclusive?"less than or equal to":"less than"} ${_.maximum}`:_.type==="bigint"?$=`BigInt must be ${_.exact?"exactly":_.inclusive?"less than or equal to":"less than"} ${_.maximum}`:_.type==="date"?$=`Date must be ${_.exact?"exactly":_.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(_.maximum))}`:$="Invalid input";break;case ZodIssueCode.custom:$="Invalid input";break;case ZodIssueCode.invalid_intersection_types:$="Intersection results could not be merged";break;case ZodIssueCode.not_multiple_of:$=`Number must be a multiple of ${_.multipleOf}`;break;case ZodIssueCode.not_finite:$="Number must be finite";break;default:$=a.defaultError,util.assertNever(_)}return{message:$}};let overrideErrorMap=errorMap;function setErrorMap(_){overrideErrorMap=_}function getErrorMap(){return overrideErrorMap}const makeIssue=_=>{const{data:a,path:$,errorMaps:j,issueData:et}=_,tt=[...$,...et.path||[]],rt={...et,path:tt};if(et.message!==void 0)return{...et,path:tt,message:et.message};let nt="";const it=j.filter(ot=>!!ot).slice().reverse();for(const ot of it)nt=ot(rt,{data:a,defaultError:nt}).message;return{...et,path:tt,message:nt}},EMPTY_PATH=[];function addIssueToContext(_,a){const $=getErrorMap(),j=makeIssue({issueData:a,data:_.data,path:_.path,errorMaps:[_.common.contextualErrorMap,_.schemaErrorMap,$,$===errorMap?void 0:errorMap].filter(et=>!!et)});_.common.issues.push(j)}class ParseStatus{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(a,$){const j=[];for(const et of $){if(et.status==="aborted")return INVALID;et.status==="dirty"&&a.dirty(),j.push(et.value)}return{status:a.value,value:j}}static async mergeObjectAsync(a,$){const j=[];for(const et of $){const tt=await et.key,rt=await et.value;j.push({key:tt,value:rt})}return ParseStatus.mergeObjectSync(a,j)}static mergeObjectSync(a,$){const j={};for(const et of $){const{key:tt,value:rt}=et;if(tt.status==="aborted"||rt.status==="aborted")return INVALID;tt.status==="dirty"&&a.dirty(),rt.status==="dirty"&&a.dirty(),tt.value!=="__proto__"&&(typeof rt.value<"u"||et.alwaysSet)&&(j[tt.value]=rt.value)}return{status:a.value,value:j}}}const INVALID=Object.freeze({status:"aborted"}),DIRTY=_=>({status:"dirty",value:_}),OK=_=>({status:"valid",value:_}),isAborted=_=>_.status==="aborted",isDirty=_=>_.status==="dirty",isValid$1=_=>_.status==="valid",isAsync=_=>typeof Promise<"u"&&_ instanceof Promise;function __classPrivateFieldGet$1(_,a,$,j){if(typeof a=="function"?_!==a||!j:!a.has(_))throw new TypeError("Cannot read private member from an object whose class did not declare it");return a.get(_)}function __classPrivateFieldSet$1(_,a,$,j,et){if(typeof a=="function"?_!==a||!et:!a.has(_))throw new TypeError("Cannot write private member to an object whose class did not declare it");return a.set(_,$),$}typeof SuppressedError=="function"&&SuppressedError;var errorUtil;(function(_){_.errToObj=a=>typeof a=="string"?{message:a}:a||{},_.toString=a=>typeof a=="string"?a:a==null?void 0:a.message})(errorUtil||(errorUtil={}));var _ZodEnum_cache,_ZodNativeEnum_cache;class ParseInputLazyPath{constructor(a,$,j,et){this._cachedPath=[],this.parent=a,this.data=$,this._path=j,this._key=et}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const handleResult=(_,a)=>{if(isValid$1(a))return{success:!0,data:a.value};if(!_.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const $=new ZodError(_.common.issues);return this._error=$,this._error}}};function processCreateParams(_){if(!_)return{};const{errorMap:a,invalid_type_error:$,required_error:j,description:et}=_;if(a&&($||j))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return a?{errorMap:a,description:et}:{errorMap:(rt,nt)=>{var it,ot;const{message:st}=_;return rt.code==="invalid_enum_value"?{message:st??nt.defaultError}:typeof nt.data>"u"?{message:(it=st??j)!==null&&it!==void 0?it:nt.defaultError}:rt.code!=="invalid_type"?{message:nt.defaultError}:{message:(ot=st??$)!==null&&ot!==void 0?ot:nt.defaultError}},description:et}}class ZodType{constructor(a){this.spa=this.safeParseAsync,this._def=a,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(a){return getParsedType(a.data)}_getOrReturnCtx(a,$){return $||{common:a.parent.common,data:a.data,parsedType:getParsedType(a.data),schemaErrorMap:this._def.errorMap,path:a.path,parent:a.parent}}_processInputParams(a){return{status:new ParseStatus,ctx:{common:a.parent.common,data:a.data,parsedType:getParsedType(a.data),schemaErrorMap:this._def.errorMap,path:a.path,parent:a.parent}}}_parseSync(a){const $=this._parse(a);if(isAsync($))throw new Error("Synchronous parse encountered promise.");return $}_parseAsync(a){const $=this._parse(a);return Promise.resolve($)}parse(a,$){const j=this.safeParse(a,$);if(j.success)return j.data;throw j.error}safeParse(a,$){var j;const et={common:{issues:[],async:(j=$==null?void 0:$.async)!==null&&j!==void 0?j:!1,contextualErrorMap:$==null?void 0:$.errorMap},path:($==null?void 0:$.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:a,parsedType:getParsedType(a)},tt=this._parseSync({data:a,path:et.path,parent:et});return handleResult(et,tt)}async parseAsync(a,$){const j=await this.safeParseAsync(a,$);if(j.success)return j.data;throw j.error}async safeParseAsync(a,$){const j={common:{issues:[],contextualErrorMap:$==null?void 0:$.errorMap,async:!0},path:($==null?void 0:$.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:a,parsedType:getParsedType(a)},et=this._parse({data:a,path:j.path,parent:j}),tt=await(isAsync(et)?et:Promise.resolve(et));return handleResult(j,tt)}refine(a,$){const j=et=>typeof $=="string"||typeof $>"u"?{message:$}:typeof $=="function"?$(et):$;return this._refinement((et,tt)=>{const rt=a(et),nt=()=>tt.addIssue({code:ZodIssueCode.custom,...j(et)});return typeof Promise<"u"&&rt instanceof Promise?rt.then(it=>it?!0:(nt(),!1)):rt?!0:(nt(),!1)})}refinement(a,$){return this._refinement((j,et)=>a(j)?!0:(et.addIssue(typeof $=="function"?$(j,et):$),!1))}_refinement(a){return new ZodEffects({schema:this,typeName:ZodFirstPartyTypeKind.ZodEffects,effect:{type:"refinement",refinement:a}})}superRefine(a){return this._refinement(a)}optional(){return ZodOptional.create(this,this._def)}nullable(){return ZodNullable.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ZodArray.create(this,this._def)}promise(){return ZodPromise.create(this,this._def)}or(a){return ZodUnion.create([this,a],this._def)}and(a){return ZodIntersection.create(this,a,this._def)}transform(a){return new ZodEffects({...processCreateParams(this._def),schema:this,typeName:ZodFirstPartyTypeKind.ZodEffects,effect:{type:"transform",transform:a}})}default(a){const $=typeof a=="function"?a:()=>a;return new ZodDefault({...processCreateParams(this._def),innerType:this,defaultValue:$,typeName:ZodFirstPartyTypeKind.ZodDefault})}brand(){return new ZodBranded({typeName:ZodFirstPartyTypeKind.ZodBranded,type:this,...processCreateParams(this._def)})}catch(a){const $=typeof a=="function"?a:()=>a;return new ZodCatch({...processCreateParams(this._def),innerType:this,catchValue:$,typeName:ZodFirstPartyTypeKind.ZodCatch})}describe(a){const $=this.constructor;return new $({...this._def,description:a})}pipe(a){return ZodPipeline.create(this,a)}readonly(){return ZodReadonly.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const cuidRegex=/^c[^\s-]{8,}$/i,cuid2Regex=/^[0-9a-z]+$/,ulidRegex=/^[0-9A-HJKMNP-TV-Z]{26}$/,uuidRegex=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,nanoidRegex=/^[a-z0-9_-]{21}$/i,durationRegex=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,emailRegex=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,_emojiRegex="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let emojiRegex;const ipv4Regex=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ipv6Regex=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,base64Regex=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,dateRegexSource="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",dateRegex=new RegExp(`^${dateRegexSource}$`);function timeRegexSource(_){let a="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return _.precision?a=`${a}\\.\\d{${_.precision}}`:_.precision==null&&(a=`${a}(\\.\\d+)?`),a}function timeRegex(_){return new RegExp(`^${timeRegexSource(_)}$`)}function datetimeRegex(_){let a=`${dateRegexSource}T${timeRegexSource(_)}`;const $=[];return $.push(_.local?"Z?":"Z"),_.offset&&$.push("([+-]\\d{2}:?\\d{2})"),a=`${a}(${$.join("|")})`,new RegExp(`^${a}$`)}function isValidIP(_,a){return!!((a==="v4"||!a)&&ipv4Regex.test(_)||(a==="v6"||!a)&&ipv6Regex.test(_))}class ZodString extends ZodType{_parse(a){if(this._def.coerce&&(a.data=String(a.data)),this._getType(a)!==ZodParsedType.string){const tt=this._getOrReturnCtx(a);return addIssueToContext(tt,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.string,received:tt.parsedType}),INVALID}const j=new ParseStatus;let et;for(const tt of this._def.checks)if(tt.kind==="min")a.data.length<tt.value&&(et=this._getOrReturnCtx(a,et),addIssueToContext(et,{code:ZodIssueCode.too_small,minimum:tt.value,type:"string",inclusive:!0,exact:!1,message:tt.message}),j.dirty());else if(tt.kind==="max")a.data.length>tt.value&&(et=this._getOrReturnCtx(a,et),addIssueToContext(et,{code:ZodIssueCode.too_big,maximum:tt.value,type:"string",inclusive:!0,exact:!1,message:tt.message}),j.dirty());else if(tt.kind==="length"){const rt=a.data.length>tt.value,nt=a.data.length<tt.value;(rt||nt)&&(et=this._getOrReturnCtx(a,et),rt?addIssueToContext(et,{code:ZodIssueCode.too_big,maximum:tt.value,type:"string",inclusive:!0,exact:!0,message:tt.message}):nt&&addIssueToContext(et,{code:ZodIssueCode.too_small,minimum:tt.value,type:"string",inclusive:!0,exact:!0,message:tt.message}),j.dirty())}else if(tt.kind==="email")emailRegex.test(a.data)||(et=this._getOrReturnCtx(a,et),addIssueToContext(et,{validation:"email",code:ZodIssueCode.invalid_string,message:tt.message}),j.dirty());else if(tt.kind==="emoji")emojiRegex||(emojiRegex=new RegExp(_emojiRegex,"u")),emojiRegex.test(a.data)||(et=this._getOrReturnCtx(a,et),addIssueToContext(et,{validation:"emoji",code:ZodIssueCode.invalid_string,message:tt.message}),j.dirty());else if(tt.kind==="uuid")uuidRegex.test(a.data)||(et=this._getOrReturnCtx(a,et),addIssueToContext(et,{validation:"uuid",code:ZodIssueCode.invalid_string,message:tt.message}),j.dirty());else if(tt.kind==="nanoid")nanoidRegex.test(a.data)||(et=this._getOrReturnCtx(a,et),addIssueToContext(et,{validation:"nanoid",code:ZodIssueCode.invalid_string,message:tt.message}),j.dirty());else if(tt.kind==="cuid")cuidRegex.test(a.data)||(et=this._getOrReturnCtx(a,et),addIssueToContext(et,{validation:"cuid",code:ZodIssueCode.invalid_string,message:tt.message}),j.dirty());else if(tt.kind==="cuid2")cuid2Regex.test(a.data)||(et=this._getOrReturnCtx(a,et),addIssueToContext(et,{validation:"cuid2",code:ZodIssueCode.invalid_string,message:tt.message}),j.dirty());else if(tt.kind==="ulid")ulidRegex.test(a.data)||(et=this._getOrReturnCtx(a,et),addIssueToContext(et,{validation:"ulid",code:ZodIssueCode.invalid_string,message:tt.message}),j.dirty());else if(tt.kind==="url")try{new URL(a.data)}catch{et=this._getOrReturnCtx(a,et),addIssueToContext(et,{validation:"url",code:ZodIssueCode.invalid_string,message:tt.message}),j.dirty()}else tt.kind==="regex"?(tt.regex.lastIndex=0,tt.regex.test(a.data)||(et=this._getOrReturnCtx(a,et),addIssueToContext(et,{validation:"regex",code:ZodIssueCode.invalid_string,message:tt.message}),j.dirty())):tt.kind==="trim"?a.data=a.data.trim():tt.kind==="includes"?a.data.includes(tt.value,tt.position)||(et=this._getOrReturnCtx(a,et),addIssueToContext(et,{code:ZodIssueCode.invalid_string,validation:{includes:tt.value,position:tt.position},message:tt.message}),j.dirty()):tt.kind==="toLowerCase"?a.data=a.data.toLowerCase():tt.kind==="toUpperCase"?a.data=a.data.toUpperCase():tt.kind==="startsWith"?a.data.startsWith(tt.value)||(et=this._getOrReturnCtx(a,et),addIssueToContext(et,{code:ZodIssueCode.invalid_string,validation:{startsWith:tt.value},message:tt.message}),j.dirty()):tt.kind==="endsWith"?a.data.endsWith(tt.value)||(et=this._getOrReturnCtx(a,et),addIssueToContext(et,{code:ZodIssueCode.invalid_string,validation:{endsWith:tt.value},message:tt.message}),j.dirty()):tt.kind==="datetime"?datetimeRegex(tt).test(a.data)||(et=this._getOrReturnCtx(a,et),addIssueToContext(et,{code:ZodIssueCode.invalid_string,validation:"datetime",message:tt.message}),j.dirty()):tt.kind==="date"?dateRegex.test(a.data)||(et=this._getOrReturnCtx(a,et),addIssueToContext(et,{code:ZodIssueCode.invalid_string,validation:"date",message:tt.message}),j.dirty()):tt.kind==="time"?timeRegex(tt).test(a.data)||(et=this._getOrReturnCtx(a,et),addIssueToContext(et,{code:ZodIssueCode.invalid_string,validation:"time",message:tt.message}),j.dirty()):tt.kind==="duration"?durationRegex.test(a.data)||(et=this._getOrReturnCtx(a,et),addIssueToContext(et,{validation:"duration",code:ZodIssueCode.invalid_string,message:tt.message}),j.dirty()):tt.kind==="ip"?isValidIP(a.data,tt.version)||(et=this._getOrReturnCtx(a,et),addIssueToContext(et,{validation:"ip",code:ZodIssueCode.invalid_string,message:tt.message}),j.dirty()):tt.kind==="base64"?base64Regex.test(a.data)||(et=this._getOrReturnCtx(a,et),addIssueToContext(et,{validation:"base64",code:ZodIssueCode.invalid_string,message:tt.message}),j.dirty()):util.assertNever(tt);return{status:j.value,value:a.data}}_regex(a,$,j){return this.refinement(et=>a.test(et),{validation:$,code:ZodIssueCode.invalid_string,...errorUtil.errToObj(j)})}_addCheck(a){return new ZodString({...this._def,checks:[...this._def.checks,a]})}email(a){return this._addCheck({kind:"email",...errorUtil.errToObj(a)})}url(a){return this._addCheck({kind:"url",...errorUtil.errToObj(a)})}emoji(a){return this._addCheck({kind:"emoji",...errorUtil.errToObj(a)})}uuid(a){return this._addCheck({kind:"uuid",...errorUtil.errToObj(a)})}nanoid(a){return this._addCheck({kind:"nanoid",...errorUtil.errToObj(a)})}cuid(a){return this._addCheck({kind:"cuid",...errorUtil.errToObj(a)})}cuid2(a){return this._addCheck({kind:"cuid2",...errorUtil.errToObj(a)})}ulid(a){return this._addCheck({kind:"ulid",...errorUtil.errToObj(a)})}base64(a){return this._addCheck({kind:"base64",...errorUtil.errToObj(a)})}ip(a){return this._addCheck({kind:"ip",...errorUtil.errToObj(a)})}datetime(a){var $,j;return typeof a=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:a}):this._addCheck({kind:"datetime",precision:typeof(a==null?void 0:a.precision)>"u"?null:a==null?void 0:a.precision,offset:($=a==null?void 0:a.offset)!==null&&$!==void 0?$:!1,local:(j=a==null?void 0:a.local)!==null&&j!==void 0?j:!1,...errorUtil.errToObj(a==null?void 0:a.message)})}date(a){return this._addCheck({kind:"date",message:a})}time(a){return typeof a=="string"?this._addCheck({kind:"time",precision:null,message:a}):this._addCheck({kind:"time",precision:typeof(a==null?void 0:a.precision)>"u"?null:a==null?void 0:a.precision,...errorUtil.errToObj(a==null?void 0:a.message)})}duration(a){return this._addCheck({kind:"duration",...errorUtil.errToObj(a)})}regex(a,$){return this._addCheck({kind:"regex",regex:a,...errorUtil.errToObj($)})}includes(a,$){return this._addCheck({kind:"includes",value:a,position:$==null?void 0:$.position,...errorUtil.errToObj($==null?void 0:$.message)})}startsWith(a,$){return this._addCheck({kind:"startsWith",value:a,...errorUtil.errToObj($)})}endsWith(a,$){return this._addCheck({kind:"endsWith",value:a,...errorUtil.errToObj($)})}min(a,$){return this._addCheck({kind:"min",value:a,...errorUtil.errToObj($)})}max(a,$){return this._addCheck({kind:"max",value:a,...errorUtil.errToObj($)})}length(a,$){return this._addCheck({kind:"length",value:a,...errorUtil.errToObj($)})}nonempty(a){return this.min(1,errorUtil.errToObj(a))}trim(){return new ZodString({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new ZodString({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new ZodString({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(a=>a.kind==="datetime")}get isDate(){return!!this._def.checks.find(a=>a.kind==="date")}get isTime(){return!!this._def.checks.find(a=>a.kind==="time")}get isDuration(){return!!this._def.checks.find(a=>a.kind==="duration")}get isEmail(){return!!this._def.checks.find(a=>a.kind==="email")}get isURL(){return!!this._def.checks.find(a=>a.kind==="url")}get isEmoji(){return!!this._def.checks.find(a=>a.kind==="emoji")}get isUUID(){return!!this._def.checks.find(a=>a.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(a=>a.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(a=>a.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(a=>a.kind==="cuid2")}get isULID(){return!!this._def.checks.find(a=>a.kind==="ulid")}get isIP(){return!!this._def.checks.find(a=>a.kind==="ip")}get isBase64(){return!!this._def.checks.find(a=>a.kind==="base64")}get minLength(){let a=null;for(const $ of this._def.checks)$.kind==="min"&&(a===null||$.value>a)&&(a=$.value);return a}get maxLength(){let a=null;for(const $ of this._def.checks)$.kind==="max"&&(a===null||$.value<a)&&(a=$.value);return a}}ZodString.create=_=>{var a;return new ZodString({checks:[],typeName:ZodFirstPartyTypeKind.ZodString,coerce:(a=_==null?void 0:_.coerce)!==null&&a!==void 0?a:!1,...processCreateParams(_)})};function floatSafeRemainder(_,a){const $=(_.toString().split(".")[1]||"").length,j=(a.toString().split(".")[1]||"").length,et=$>j?$:j,tt=parseInt(_.toFixed(et).replace(".","")),rt=parseInt(a.toFixed(et).replace(".",""));return tt%rt/Math.pow(10,et)}class ZodNumber extends ZodType{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(a){if(this._def.coerce&&(a.data=Number(a.data)),this._getType(a)!==ZodParsedType.number){const tt=this._getOrReturnCtx(a);return addIssueToContext(tt,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.number,received:tt.parsedType}),INVALID}let j;const et=new ParseStatus;for(const tt of this._def.checks)tt.kind==="int"?util.isInteger(a.data)||(j=this._getOrReturnCtx(a,j),addIssueToContext(j,{code:ZodIssueCode.invalid_type,expected:"integer",received:"float",message:tt.message}),et.dirty()):tt.kind==="min"?(tt.inclusive?a.data<tt.value:a.data<=tt.value)&&(j=this._getOrReturnCtx(a,j),addIssueToContext(j,{code:ZodIssueCode.too_small,minimum:tt.value,type:"number",inclusive:tt.inclusive,exact:!1,message:tt.message}),et.dirty()):tt.kind==="max"?(tt.inclusive?a.data>tt.value:a.data>=tt.value)&&(j=this._getOrReturnCtx(a,j),addIssueToContext(j,{code:ZodIssueCode.too_big,maximum:tt.value,type:"number",inclusive:tt.inclusive,exact:!1,message:tt.message}),et.dirty()):tt.kind==="multipleOf"?floatSafeRemainder(a.data,tt.value)!==0&&(j=this._getOrReturnCtx(a,j),addIssueToContext(j,{code:ZodIssueCode.not_multiple_of,multipleOf:tt.value,message:tt.message}),et.dirty()):tt.kind==="finite"?Number.isFinite(a.data)||(j=this._getOrReturnCtx(a,j),addIssueToContext(j,{code:ZodIssueCode.not_finite,message:tt.message}),et.dirty()):util.assertNever(tt);return{status:et.value,value:a.data}}gte(a,$){return this.setLimit("min",a,!0,errorUtil.toString($))}gt(a,$){return this.setLimit("min",a,!1,errorUtil.toString($))}lte(a,$){return this.setLimit("max",a,!0,errorUtil.toString($))}lt(a,$){return this.setLimit("max",a,!1,errorUtil.toString($))}setLimit(a,$,j,et){return new ZodNumber({...this._def,checks:[...this._def.checks,{kind:a,value:$,inclusive:j,message:errorUtil.toString(et)}]})}_addCheck(a){return new ZodNumber({...this._def,checks:[...this._def.checks,a]})}int(a){return this._addCheck({kind:"int",message:errorUtil.toString(a)})}positive(a){return this._addCheck({kind:"min",value:0,inclusive:!1,message:errorUtil.toString(a)})}negative(a){return this._addCheck({kind:"max",value:0,inclusive:!1,message:errorUtil.toString(a)})}nonpositive(a){return this._addCheck({kind:"max",value:0,inclusive:!0,message:errorUtil.toString(a)})}nonnegative(a){return this._addCheck({kind:"min",value:0,inclusive:!0,message:errorUtil.toString(a)})}multipleOf(a,$){return this._addCheck({kind:"multipleOf",value:a,message:errorUtil.toString($)})}finite(a){return this._addCheck({kind:"finite",message:errorUtil.toString(a)})}safe(a){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:errorUtil.toString(a)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:errorUtil.toString(a)})}get minValue(){let a=null;for(const $ of this._def.checks)$.kind==="min"&&(a===null||$.value>a)&&(a=$.value);return a}get maxValue(){let a=null;for(const $ of this._def.checks)$.kind==="max"&&(a===null||$.value<a)&&(a=$.value);return a}get isInt(){return!!this._def.checks.find(a=>a.kind==="int"||a.kind==="multipleOf"&&util.isInteger(a.value))}get isFinite(){let a=null,$=null;for(const j of this._def.checks){if(j.kind==="finite"||j.kind==="int"||j.kind==="multipleOf")return!0;j.kind==="min"?($===null||j.value>$)&&($=j.value):j.kind==="max"&&(a===null||j.value<a)&&(a=j.value)}return Number.isFinite($)&&Number.isFinite(a)}}ZodNumber.create=_=>new ZodNumber({checks:[],typeName:ZodFirstPartyTypeKind.ZodNumber,coerce:(_==null?void 0:_.coerce)||!1,...processCreateParams(_)});class ZodBigInt extends ZodType{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(a){if(this._def.coerce&&(a.data=BigInt(a.data)),this._getType(a)!==ZodParsedType.bigint){const tt=this._getOrReturnCtx(a);return addIssueToContext(tt,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.bigint,received:tt.parsedType}),INVALID}let j;const et=new ParseStatus;for(const tt of this._def.checks)tt.kind==="min"?(tt.inclusive?a.data<tt.value:a.data<=tt.value)&&(j=this._getOrReturnCtx(a,j),addIssueToContext(j,{code:ZodIssueCode.too_small,type:"bigint",minimum:tt.value,inclusive:tt.inclusive,message:tt.message}),et.dirty()):tt.kind==="max"?(tt.inclusive?a.data>tt.value:a.data>=tt.value)&&(j=this._getOrReturnCtx(a,j),addIssueToContext(j,{code:ZodIssueCode.too_big,type:"bigint",maximum:tt.value,inclusive:tt.inclusive,message:tt.message}),et.dirty()):tt.kind==="multipleOf"?a.data%tt.value!==BigInt(0)&&(j=this._getOrReturnCtx(a,j),addIssueToContext(j,{code:ZodIssueCode.not_multiple_of,multipleOf:tt.value,message:tt.message}),et.dirty()):util.assertNever(tt);return{status:et.value,value:a.data}}gte(a,$){return this.setLimit("min",a,!0,errorUtil.toString($))}gt(a,$){return this.setLimit("min",a,!1,errorUtil.toString($))}lte(a,$){return this.setLimit("max",a,!0,errorUtil.toString($))}lt(a,$){return this.setLimit("max",a,!1,errorUtil.toString($))}setLimit(a,$,j,et){return new ZodBigInt({...this._def,checks:[...this._def.checks,{kind:a,value:$,inclusive:j,message:errorUtil.toString(et)}]})}_addCheck(a){return new ZodBigInt({...this._def,checks:[...this._def.checks,a]})}positive(a){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:errorUtil.toString(a)})}negative(a){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:errorUtil.toString(a)})}nonpositive(a){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:errorUtil.toString(a)})}nonnegative(a){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:errorUtil.toString(a)})}multipleOf(a,$){return this._addCheck({kind:"multipleOf",value:a,message:errorUtil.toString($)})}get minValue(){let a=null;for(const $ of this._def.checks)$.kind==="min"&&(a===null||$.value>a)&&(a=$.value);return a}get maxValue(){let a=null;for(const $ of this._def.checks)$.kind==="max"&&(a===null||$.value<a)&&(a=$.value);return a}}ZodBigInt.create=_=>{var a;return new ZodBigInt({checks:[],typeName:ZodFirstPartyTypeKind.ZodBigInt,coerce:(a=_==null?void 0:_.coerce)!==null&&a!==void 0?a:!1,...processCreateParams(_)})};class ZodBoolean extends ZodType{_parse(a){if(this._def.coerce&&(a.data=!!a.data),this._getType(a)!==ZodParsedType.boolean){const j=this._getOrReturnCtx(a);return addIssueToContext(j,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.boolean,received:j.parsedType}),INVALID}return OK(a.data)}}ZodBoolean.create=_=>new ZodBoolean({typeName:ZodFirstPartyTypeKind.ZodBoolean,coerce:(_==null?void 0:_.coerce)||!1,...processCreateParams(_)});class ZodDate extends ZodType{_parse(a){if(this._def.coerce&&(a.data=new Date(a.data)),this._getType(a)!==ZodParsedType.date){const tt=this._getOrReturnCtx(a);return addIssueToContext(tt,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.date,received:tt.parsedType}),INVALID}if(isNaN(a.data.getTime())){const tt=this._getOrReturnCtx(a);return addIssueToContext(tt,{code:ZodIssueCode.invalid_date}),INVALID}const j=new ParseStatus;let et;for(const tt of this._def.checks)tt.kind==="min"?a.data.getTime()<tt.value&&(et=this._getOrReturnCtx(a,et),addIssueToContext(et,{code:ZodIssueCode.too_small,message:tt.message,inclusive:!0,exact:!1,minimum:tt.value,type:"date"}),j.dirty()):tt.kind==="max"?a.data.getTime()>tt.value&&(et=this._getOrReturnCtx(a,et),addIssueToContext(et,{code:ZodIssueCode.too_big,message:tt.message,inclusive:!0,exact:!1,maximum:tt.value,type:"date"}),j.dirty()):util.assertNever(tt);return{status:j.value,value:new Date(a.data.getTime())}}_addCheck(a){return new ZodDate({...this._def,checks:[...this._def.checks,a]})}min(a,$){return this._addCheck({kind:"min",value:a.getTime(),message:errorUtil.toString($)})}max(a,$){return this._addCheck({kind:"max",value:a.getTime(),message:errorUtil.toString($)})}get minDate(){let a=null;for(const $ of this._def.checks)$.kind==="min"&&(a===null||$.value>a)&&(a=$.value);return a!=null?new Date(a):null}get maxDate(){let a=null;for(const $ of this._def.checks)$.kind==="max"&&(a===null||$.value<a)&&(a=$.value);return a!=null?new Date(a):null}}ZodDate.create=_=>new ZodDate({checks:[],coerce:(_==null?void 0:_.coerce)||!1,typeName:ZodFirstPartyTypeKind.ZodDate,...processCreateParams(_)});class ZodSymbol extends ZodType{_parse(a){if(this._getType(a)!==ZodParsedType.symbol){const j=this._getOrReturnCtx(a);return addIssueToContext(j,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.symbol,received:j.parsedType}),INVALID}return OK(a.data)}}ZodSymbol.create=_=>new ZodSymbol({typeName:ZodFirstPartyTypeKind.ZodSymbol,...processCreateParams(_)});class ZodUndefined extends ZodType{_parse(a){if(this._getType(a)!==ZodParsedType.undefined){const j=this._getOrReturnCtx(a);return addIssueToContext(j,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.undefined,received:j.parsedType}),INVALID}return OK(a.data)}}ZodUndefined.create=_=>new ZodUndefined({typeName:ZodFirstPartyTypeKind.ZodUndefined,...processCreateParams(_)});class ZodNull extends ZodType{_parse(a){if(this._getType(a)!==ZodParsedType.null){const j=this._getOrReturnCtx(a);return addIssueToContext(j,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.null,received:j.parsedType}),INVALID}return OK(a.data)}}ZodNull.create=_=>new ZodNull({typeName:ZodFirstPartyTypeKind.ZodNull,...processCreateParams(_)});class ZodAny extends ZodType{constructor(){super(...arguments),this._any=!0}_parse(a){return OK(a.data)}}ZodAny.create=_=>new ZodAny({typeName:ZodFirstPartyTypeKind.ZodAny,...processCreateParams(_)});class ZodUnknown extends ZodType{constructor(){super(...arguments),this._unknown=!0}_parse(a){return OK(a.data)}}ZodUnknown.create=_=>new ZodUnknown({typeName:ZodFirstPartyTypeKind.ZodUnknown,...processCreateParams(_)});class ZodNever extends ZodType{_parse(a){const $=this._getOrReturnCtx(a);return addIssueToContext($,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.never,received:$.parsedType}),INVALID}}ZodNever.create=_=>new ZodNever({typeName:ZodFirstPartyTypeKind.ZodNever,...processCreateParams(_)});class ZodVoid extends ZodType{_parse(a){if(this._getType(a)!==ZodParsedType.undefined){const j=this._getOrReturnCtx(a);return addIssueToContext(j,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.void,received:j.parsedType}),INVALID}return OK(a.data)}}ZodVoid.create=_=>new ZodVoid({typeName:ZodFirstPartyTypeKind.ZodVoid,...processCreateParams(_)});class ZodArray extends ZodType{_parse(a){const{ctx:$,status:j}=this._processInputParams(a),et=this._def;if($.parsedType!==ZodParsedType.array)return addIssueToContext($,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.array,received:$.parsedType}),INVALID;if(et.exactLength!==null){const rt=$.data.length>et.exactLength.value,nt=$.data.length<et.exactLength.value;(rt||nt)&&(addIssueToContext($,{code:rt?ZodIssueCode.too_big:ZodIssueCode.too_small,minimum:nt?et.exactLength.value:void 0,maximum:rt?et.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:et.exactLength.message}),j.dirty())}if(et.minLength!==null&&$.data.length<et.minLength.value&&(addIssueToContext($,{code:ZodIssueCode.too_small,minimum:et.minLength.value,type:"array",inclusive:!0,exact:!1,message:et.minLength.message}),j.dirty()),et.maxLength!==null&&$.data.length>et.maxLength.value&&(addIssueToContext($,{code:ZodIssueCode.too_big,maximum:et.maxLength.value,type:"array",inclusive:!0,exact:!1,message:et.maxLength.message}),j.dirty()),$.common.async)return Promise.all([...$.data].map((rt,nt)=>et.type._parseAsync(new ParseInputLazyPath($,rt,$.path,nt)))).then(rt=>ParseStatus.mergeArray(j,rt));const tt=[...$.data].map((rt,nt)=>et.type._parseSync(new ParseInputLazyPath($,rt,$.path,nt)));return ParseStatus.mergeArray(j,tt)}get element(){return this._def.type}min(a,$){return new ZodArray({...this._def,minLength:{value:a,message:errorUtil.toString($)}})}max(a,$){return new ZodArray({...this._def,maxLength:{value:a,message:errorUtil.toString($)}})}length(a,$){return new ZodArray({...this._def,exactLength:{value:a,message:errorUtil.toString($)}})}nonempty(a){return this.min(1,a)}}ZodArray.create=(_,a)=>new ZodArray({type:_,minLength:null,maxLength:null,exactLength:null,typeName:ZodFirstPartyTypeKind.ZodArray,...processCreateParams(a)});function deepPartialify(_){if(_ instanceof ZodObject){const a={};for(const $ in _.shape){const j=_.shape[$];a[$]=ZodOptional.create(deepPartialify(j))}return new ZodObject({..._._def,shape:()=>a})}else return _ instanceof ZodArray?new ZodArray({..._._def,type:deepPartialify(_.element)}):_ instanceof ZodOptional?ZodOptional.create(deepPartialify(_.unwrap())):_ instanceof ZodNullable?ZodNullable.create(deepPartialify(_.unwrap())):_ instanceof ZodTuple?ZodTuple.create(_.items.map(a=>deepPartialify(a))):_}class ZodObject extends ZodType{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const a=this._def.shape(),$=util.objectKeys(a);return this._cached={shape:a,keys:$}}_parse(a){if(this._getType(a)!==ZodParsedType.object){const ot=this._getOrReturnCtx(a);return addIssueToContext(ot,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.object,received:ot.parsedType}),INVALID}const{status:j,ctx:et}=this._processInputParams(a),{shape:tt,keys:rt}=this._getCached(),nt=[];if(!(this._def.catchall instanceof ZodNever&&this._def.unknownKeys==="strip"))for(const ot in et.data)rt.includes(ot)||nt.push(ot);const it=[];for(const ot of rt){const st=tt[ot],ct=et.data[ot];it.push({key:{status:"valid",value:ot},value:st._parse(new ParseInputLazyPath(et,ct,et.path,ot)),alwaysSet:ot in et.data})}if(this._def.catchall instanceof ZodNever){const ot=this._def.unknownKeys;if(ot==="passthrough")for(const st of nt)it.push({key:{status:"valid",value:st},value:{status:"valid",value:et.data[st]}});else if(ot==="strict")nt.length>0&&(addIssueToContext(et,{code:ZodIssueCode.unrecognized_keys,keys:nt}),j.dirty());else if(ot!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const ot=this._def.catchall;for(const st of nt){const ct=et.data[st];it.push({key:{status:"valid",value:st},value:ot._parse(new ParseInputLazyPath(et,ct,et.path,st)),alwaysSet:st in et.data})}}return et.common.async?Promise.resolve().then(async()=>{const ot=[];for(const st of it){const ct=await st.key,ut=await st.value;ot.push({key:ct,value:ut,alwaysSet:st.alwaysSet})}return ot}).then(ot=>ParseStatus.mergeObjectSync(j,ot)):ParseStatus.mergeObjectSync(j,it)}get shape(){return this._def.shape()}strict(a){return errorUtil.errToObj,new ZodObject({...this._def,unknownKeys:"strict",...a!==void 0?{errorMap:($,j)=>{var et,tt,rt,nt;const it=(rt=(tt=(et=this._def).errorMap)===null||tt===void 0?void 0:tt.call(et,$,j).message)!==null&&rt!==void 0?rt:j.defaultError;return $.code==="unrecognized_keys"?{message:(nt=errorUtil.errToObj(a).message)!==null&&nt!==void 0?nt:it}:{message:it}}}:{}})}strip(){return new ZodObject({...this._def,unknownKeys:"strip"})}passthrough(){return new ZodObject({...this._def,unknownKeys:"passthrough"})}extend(a){return new ZodObject({...this._def,shape:()=>({...this._def.shape(),...a})})}merge(a){return new ZodObject({unknownKeys:a._def.unknownKeys,catchall:a._def.catchall,shape:()=>({...this._def.shape(),...a._def.shape()}),typeName:ZodFirstPartyTypeKind.ZodObject})}setKey(a,$){return this.augment({[a]:$})}catchall(a){return new ZodObject({...this._def,catchall:a})}pick(a){const $={};return util.objectKeys(a).forEach(j=>{a[j]&&this.shape[j]&&($[j]=this.shape[j])}),new ZodObject({...this._def,shape:()=>$})}omit(a){const $={};return util.objectKeys(this.shape).forEach(j=>{a[j]||($[j]=this.shape[j])}),new ZodObject({...this._def,shape:()=>$})}deepPartial(){return deepPartialify(this)}partial(a){const $={};return util.objectKeys(this.shape).forEach(j=>{const et=this.shape[j];a&&!a[j]?$[j]=et:$[j]=et.optional()}),new ZodObject({...this._def,shape:()=>$})}required(a){const $={};return util.objectKeys(this.shape).forEach(j=>{if(a&&!a[j])$[j]=this.shape[j];else{let tt=this.shape[j];for(;tt instanceof ZodOptional;)tt=tt._def.innerType;$[j]=tt}}),new ZodObject({...this._def,shape:()=>$})}keyof(){return createZodEnum(util.objectKeys(this.shape))}}ZodObject.create=(_,a)=>new ZodObject({shape:()=>_,unknownKeys:"strip",catchall:ZodNever.create(),typeName:ZodFirstPartyTypeKind.ZodObject,...processCreateParams(a)});ZodObject.strictCreate=(_,a)=>new ZodObject({shape:()=>_,unknownKeys:"strict",catchall:ZodNever.create(),typeName:ZodFirstPartyTypeKind.ZodObject,...processCreateParams(a)});ZodObject.lazycreate=(_,a)=>new ZodObject({shape:_,unknownKeys:"strip",catchall:ZodNever.create(),typeName:ZodFirstPartyTypeKind.ZodObject,...processCreateParams(a)});class ZodUnion extends ZodType{_parse(a){const{ctx:$}=this._processInputParams(a),j=this._def.options;function et(tt){for(const nt of tt)if(nt.result.status==="valid")return nt.result;for(const nt of tt)if(nt.result.status==="dirty")return $.common.issues.push(...nt.ctx.common.issues),nt.result;const rt=tt.map(nt=>new ZodError(nt.ctx.common.issues));return addIssueToContext($,{code:ZodIssueCode.invalid_union,unionErrors:rt}),INVALID}if($.common.async)return Promise.all(j.map(async tt=>{const rt={...$,common:{...$.common,issues:[]},parent:null};return{result:await tt._parseAsync({data:$.data,path:$.path,parent:rt}),ctx:rt}})).then(et);{let tt;const rt=[];for(const it of j){const ot={...$,common:{...$.common,issues:[]},parent:null},st=it._parseSync({data:$.data,path:$.path,parent:ot});if(st.status==="valid")return st;st.status==="dirty"&&!tt&&(tt={result:st,ctx:ot}),ot.common.issues.length&&rt.push(ot.common.issues)}if(tt)return $.common.issues.push(...tt.ctx.common.issues),tt.result;const nt=rt.map(it=>new ZodError(it));return addIssueToContext($,{code:ZodIssueCode.invalid_union,unionErrors:nt}),INVALID}}get options(){return this._def.options}}ZodUnion.create=(_,a)=>new ZodUnion({options:_,typeName:ZodFirstPartyTypeKind.ZodUnion,...processCreateParams(a)});const getDiscriminator=_=>_ instanceof ZodLazy?getDiscriminator(_.schema):_ instanceof ZodEffects?getDiscriminator(_.innerType()):_ instanceof ZodLiteral?[_.value]:_ instanceof ZodEnum?_.options:_ instanceof ZodNativeEnum?util.objectValues(_.enum):_ instanceof ZodDefault?getDiscriminator(_._def.innerType):_ instanceof ZodUndefined?[void 0]:_ instanceof ZodNull?[null]:_ instanceof ZodOptional?[void 0,...getDiscriminator(_.unwrap())]:_ instanceof ZodNullable?[null,...getDiscriminator(_.unwrap())]:_ instanceof ZodBranded||_ instanceof ZodReadonly?getDiscriminator(_.unwrap()):_ instanceof ZodCatch?getDiscriminator(_._def.innerType):[];class ZodDiscriminatedUnion extends ZodType{_parse(a){const{ctx:$}=this._processInputParams(a);if($.parsedType!==ZodParsedType.object)return addIssueToContext($,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.object,received:$.parsedType}),INVALID;const j=this.discriminator,et=$.data[j],tt=this.optionsMap.get(et);return tt?$.common.async?tt._parseAsync({data:$.data,path:$.path,parent:$}):tt._parseSync({data:$.data,path:$.path,parent:$}):(addIssueToContext($,{code:ZodIssueCode.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[j]}),INVALID)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(a,$,j){const et=new Map;for(const tt of $){const rt=getDiscriminator(tt.shape[a]);if(!rt.length)throw new Error(`A discriminator value for key \`${a}\` could not be extracted from all schema options`);for(const nt of rt){if(et.has(nt))throw new Error(`Discriminator property ${String(a)} has duplicate value ${String(nt)}`);et.set(nt,tt)}}return new ZodDiscriminatedUnion({typeName:ZodFirstPartyTypeKind.ZodDiscriminatedUnion,discriminator:a,options:$,optionsMap:et,...processCreateParams(j)})}}function mergeValues(_,a){const $=getParsedType(_),j=getParsedType(a);if(_===a)return{valid:!0,data:_};if($===ZodParsedType.object&&j===ZodParsedType.object){const et=util.objectKeys(a),tt=util.objectKeys(_).filter(nt=>et.indexOf(nt)!==-1),rt={..._,...a};for(const nt of tt){const it=mergeValues(_[nt],a[nt]);if(!it.valid)return{valid:!1};rt[nt]=it.data}return{valid:!0,data:rt}}else if($===ZodParsedType.array&&j===ZodParsedType.array){if(_.length!==a.length)return{valid:!1};const et=[];for(let tt=0;tt<_.length;tt++){const rt=_[tt],nt=a[tt],it=mergeValues(rt,nt);if(!it.valid)return{valid:!1};et.push(it.data)}return{valid:!0,data:et}}else return $===ZodParsedType.date&&j===ZodParsedType.date&&+_==+a?{valid:!0,data:_}:{valid:!1}}class ZodIntersection extends ZodType{_parse(a){const{status:$,ctx:j}=this._processInputParams(a),et=(tt,rt)=>{if(isAborted(tt)||isAborted(rt))return INVALID;const nt=mergeValues(tt.value,rt.value);return nt.valid?((isDirty(tt)||isDirty(rt))&&$.dirty(),{status:$.value,value:nt.data}):(addIssueToContext(j,{code:ZodIssueCode.invalid_intersection_types}),INVALID)};return j.common.async?Promise.all([this._def.left._parseAsync({data:j.data,path:j.path,parent:j}),this._def.right._parseAsync({data:j.data,path:j.path,parent:j})]).then(([tt,rt])=>et(tt,rt)):et(this._def.left._parseSync({data:j.data,path:j.path,parent:j}),this._def.right._parseSync({data:j.data,path:j.path,parent:j}))}}ZodIntersection.create=(_,a,$)=>new ZodIntersection({left:_,right:a,typeName:ZodFirstPartyTypeKind.ZodIntersection,...processCreateParams($)});class ZodTuple extends ZodType{_parse(a){const{status:$,ctx:j}=this._processInputParams(a);if(j.parsedType!==ZodParsedType.array)return addIssueToContext(j,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.array,received:j.parsedType}),INVALID;if(j.data.length<this._def.items.length)return addIssueToContext(j,{code:ZodIssueCode.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),INVALID;!this._def.rest&&j.data.length>this._def.items.length&&(addIssueToContext(j,{code:ZodIssueCode.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),$.dirty());const tt=[...j.data].map((rt,nt)=>{const it=this._def.items[nt]||this._def.rest;return it?it._parse(new ParseInputLazyPath(j,rt,j.path,nt)):null}).filter(rt=>!!rt);return j.common.async?Promise.all(tt).then(rt=>ParseStatus.mergeArray($,rt)):ParseStatus.mergeArray($,tt)}get items(){return this._def.items}rest(a){return new ZodTuple({...this._def,rest:a})}}ZodTuple.create=(_,a)=>{if(!Array.isArray(_))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ZodTuple({items:_,typeName:ZodFirstPartyTypeKind.ZodTuple,rest:null,...processCreateParams(a)})};class ZodRecord extends ZodType{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(a){const{status:$,ctx:j}=this._processInputParams(a);if(j.parsedType!==ZodParsedType.object)return addIssueToContext(j,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.object,received:j.parsedType}),INVALID;const et=[],tt=this._def.keyType,rt=this._def.valueType;for(const nt in j.data)et.push({key:tt._parse(new ParseInputLazyPath(j,nt,j.path,nt)),value:rt._parse(new ParseInputLazyPath(j,j.data[nt],j.path,nt)),alwaysSet:nt in j.data});return j.common.async?ParseStatus.mergeObjectAsync($,et):ParseStatus.mergeObjectSync($,et)}get element(){return this._def.valueType}static create(a,$,j){return $ instanceof ZodType?new ZodRecord({keyType:a,valueType:$,typeName:ZodFirstPartyTypeKind.ZodRecord,...processCreateParams(j)}):new ZodRecord({keyType:ZodString.create(),valueType:a,typeName:ZodFirstPartyTypeKind.ZodRecord,...processCreateParams($)})}}class ZodMap extends ZodType{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(a){const{status:$,ctx:j}=this._processInputParams(a);if(j.parsedType!==ZodParsedType.map)return addIssueToContext(j,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.map,received:j.parsedType}),INVALID;const et=this._def.keyType,tt=this._def.valueType,rt=[...j.data.entries()].map(([nt,it],ot)=>({key:et._parse(new ParseInputLazyPath(j,nt,j.path,[ot,"key"])),value:tt._parse(new ParseInputLazyPath(j,it,j.path,[ot,"value"]))}));if(j.common.async){const nt=new Map;return Promise.resolve().then(async()=>{for(const it of rt){const ot=await it.key,st=await it.value;if(ot.status==="aborted"||st.status==="aborted")return INVALID;(ot.status==="dirty"||st.status==="dirty")&&$.dirty(),nt.set(ot.value,st.value)}return{status:$.value,value:nt}})}else{const nt=new Map;for(const it of rt){const ot=it.key,st=it.value;if(ot.status==="aborted"||st.status==="aborted")return INVALID;(ot.status==="dirty"||st.status==="dirty")&&$.dirty(),nt.set(ot.value,st.value)}return{status:$.value,value:nt}}}}ZodMap.create=(_,a,$)=>new ZodMap({valueType:a,keyType:_,typeName:ZodFirstPartyTypeKind.ZodMap,...processCreateParams($)});class ZodSet extends ZodType{_parse(a){const{status:$,ctx:j}=this._processInputParams(a);if(j.parsedType!==ZodParsedType.set)return addIssueToContext(j,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.set,received:j.parsedType}),INVALID;const et=this._def;et.minSize!==null&&j.data.size<et.minSize.value&&(addIssueToContext(j,{code:ZodIssueCode.too_small,minimum:et.minSize.value,type:"set",inclusive:!0,exact:!1,message:et.minSize.message}),$.dirty()),et.maxSize!==null&&j.data.size>et.maxSize.value&&(addIssueToContext(j,{code:ZodIssueCode.too_big,maximum:et.maxSize.value,type:"set",inclusive:!0,exact:!1,message:et.maxSize.message}),$.dirty());const tt=this._def.valueType;function rt(it){const ot=new Set;for(const st of it){if(st.status==="aborted")return INVALID;st.status==="dirty"&&$.dirty(),ot.add(st.value)}return{status:$.value,value:ot}}const nt=[...j.data.values()].map((it,ot)=>tt._parse(new ParseInputLazyPath(j,it,j.path,ot)));return j.common.async?Promise.all(nt).then(it=>rt(it)):rt(nt)}min(a,$){return new ZodSet({...this._def,minSize:{value:a,message:errorUtil.toString($)}})}max(a,$){return new ZodSet({...this._def,maxSize:{value:a,message:errorUtil.toString($)}})}size(a,$){return this.min(a,$).max(a,$)}nonempty(a){return this.min(1,a)}}ZodSet.create=(_,a)=>new ZodSet({valueType:_,minSize:null,maxSize:null,typeName:ZodFirstPartyTypeKind.ZodSet,...processCreateParams(a)});class ZodFunction extends ZodType{constructor(){super(...arguments),this.validate=this.implement}_parse(a){const{ctx:$}=this._processInputParams(a);if($.parsedType!==ZodParsedType.function)return addIssueToContext($,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.function,received:$.parsedType}),INVALID;function j(nt,it){return makeIssue({data:nt,path:$.path,errorMaps:[$.common.contextualErrorMap,$.schemaErrorMap,getErrorMap(),errorMap].filter(ot=>!!ot),issueData:{code:ZodIssueCode.invalid_arguments,argumentsError:it}})}function et(nt,it){return makeIssue({data:nt,path:$.path,errorMaps:[$.common.contextualErrorMap,$.schemaErrorMap,getErrorMap(),errorMap].filter(ot=>!!ot),issueData:{code:ZodIssueCode.invalid_return_type,returnTypeError:it}})}const tt={errorMap:$.common.contextualErrorMap},rt=$.data;if(this._def.returns instanceof ZodPromise){const nt=this;return OK(async function(...it){const ot=new ZodError([]),st=await nt._def.args.parseAsync(it,tt).catch(ht=>{throw ot.addIssue(j(it,ht)),ot}),ct=await Reflect.apply(rt,this,st);return await nt._def.returns._def.type.parseAsync(ct,tt).catch(ht=>{throw ot.addIssue(et(ct,ht)),ot})})}else{const nt=this;return OK(function(...it){const ot=nt._def.args.safeParse(it,tt);if(!ot.success)throw new ZodError([j(it,ot.error)]);const st=Reflect.apply(rt,this,ot.data),ct=nt._def.returns.safeParse(st,tt);if(!ct.success)throw new ZodError([et(st,ct.error)]);return ct.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...a){return new ZodFunction({...this._def,args:ZodTuple.create(a).rest(ZodUnknown.create())})}returns(a){return new ZodFunction({...this._def,returns:a})}implement(a){return this.parse(a)}strictImplement(a){return this.parse(a)}static create(a,$,j){return new ZodFunction({args:a||ZodTuple.create([]).rest(ZodUnknown.create()),returns:$||ZodUnknown.create(),typeName:ZodFirstPartyTypeKind.ZodFunction,...processCreateParams(j)})}}class ZodLazy extends ZodType{get schema(){return this._def.getter()}_parse(a){const{ctx:$}=this._processInputParams(a);return this._def.getter()._parse({data:$.data,path:$.path,parent:$})}}ZodLazy.create=(_,a)=>new ZodLazy({getter:_,typeName:ZodFirstPartyTypeKind.ZodLazy,...processCreateParams(a)});class ZodLiteral extends ZodType{_parse(a){if(a.data!==this._def.value){const $=this._getOrReturnCtx(a);return addIssueToContext($,{received:$.data,code:ZodIssueCode.invalid_literal,expected:this._def.value}),INVALID}return{status:"valid",value:a.data}}get value(){return this._def.value}}ZodLiteral.create=(_,a)=>new ZodLiteral({value:_,typeName:ZodFirstPartyTypeKind.ZodLiteral,...processCreateParams(a)});function createZodEnum(_,a){return new ZodEnum({values:_,typeName:ZodFirstPartyTypeKind.ZodEnum,...processCreateParams(a)})}class ZodEnum extends ZodType{constructor(){super(...arguments),_ZodEnum_cache.set(this,void 0)}_parse(a){if(typeof a.data!="string"){const $=this._getOrReturnCtx(a),j=this._def.values;return addIssueToContext($,{expected:util.joinValues(j),received:$.parsedType,code:ZodIssueCode.invalid_type}),INVALID}if(__classPrivateFieldGet$1(this,_ZodEnum_cache)||__classPrivateFieldSet$1(this,_ZodEnum_cache,new Set(this._def.values)),!__classPrivateFieldGet$1(this,_ZodEnum_cache).has(a.data)){const $=this._getOrReturnCtx(a),j=this._def.values;return addIssueToContext($,{received:$.data,code:ZodIssueCode.invalid_enum_value,options:j}),INVALID}return OK(a.data)}get options(){return this._def.values}get enum(){const a={};for(const $ of this._def.values)a[$]=$;return a}get Values(){const a={};for(const $ of this._def.values)a[$]=$;return a}get Enum(){const a={};for(const $ of this._def.values)a[$]=$;return a}extract(a,$=this._def){return ZodEnum.create(a,{...this._def,...$})}exclude(a,$=this._def){return ZodEnum.create(this.options.filter(j=>!a.includes(j)),{...this._def,...$})}}_ZodEnum_cache=new WeakMap;ZodEnum.create=createZodEnum;class ZodNativeEnum extends ZodType{constructor(){super(...arguments),_ZodNativeEnum_cache.set(this,void 0)}_parse(a){const $=util.getValidEnumValues(this._def.values),j=this._getOrReturnCtx(a);if(j.parsedType!==ZodParsedType.string&&j.parsedType!==ZodParsedType.number){const et=util.objectValues($);return addIssueToContext(j,{expected:util.joinValues(et),received:j.parsedType,code:ZodIssueCode.invalid_type}),INVALID}if(__classPrivateFieldGet$1(this,_ZodNativeEnum_cache)||__classPrivateFieldSet$1(this,_ZodNativeEnum_cache,new Set(util.getValidEnumValues(this._def.values))),!__classPrivateFieldGet$1(this,_ZodNativeEnum_cache).has(a.data)){const et=util.objectValues($);return addIssueToContext(j,{received:j.data,code:ZodIssueCode.invalid_enum_value,options:et}),INVALID}return OK(a.data)}get enum(){return this._def.values}}_ZodNativeEnum_cache=new WeakMap;ZodNativeEnum.create=(_,a)=>new ZodNativeEnum({values:_,typeName:ZodFirstPartyTypeKind.ZodNativeEnum,...processCreateParams(a)});class ZodPromise extends ZodType{unwrap(){return this._def.type}_parse(a){const{ctx:$}=this._processInputParams(a);if($.parsedType!==ZodParsedType.promise&&$.common.async===!1)return addIssueToContext($,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.promise,received:$.parsedType}),INVALID;const j=$.parsedType===ZodParsedType.promise?$.data:Promise.resolve($.data);return OK(j.then(et=>this._def.type.parseAsync(et,{path:$.path,errorMap:$.common.contextualErrorMap})))}}ZodPromise.create=(_,a)=>new ZodPromise({type:_,typeName:ZodFirstPartyTypeKind.ZodPromise,...processCreateParams(a)});class ZodEffects extends ZodType{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===ZodFirstPartyTypeKind.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(a){const{status:$,ctx:j}=this._processInputParams(a),et=this._def.effect||null,tt={addIssue:rt=>{addIssueToContext(j,rt),rt.fatal?$.abort():$.dirty()},get path(){return j.path}};if(tt.addIssue=tt.addIssue.bind(tt),et.type==="preprocess"){const rt=et.transform(j.data,tt);if(j.common.async)return Promise.resolve(rt).then(async nt=>{if($.value==="aborted")return INVALID;const it=await this._def.schema._parseAsync({data:nt,path:j.path,parent:j});return it.status==="aborted"?INVALID:it.status==="dirty"||$.value==="dirty"?DIRTY(it.value):it});{if($.value==="aborted")return INVALID;const nt=this._def.schema._parseSync({data:rt,path:j.path,parent:j});return nt.status==="aborted"?INVALID:nt.status==="dirty"||$.value==="dirty"?DIRTY(nt.value):nt}}if(et.type==="refinement"){const rt=nt=>{const it=et.refinement(nt,tt);if(j.common.async)return Promise.resolve(it);if(it instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return nt};if(j.common.async===!1){const nt=this._def.schema._parseSync({data:j.data,path:j.path,parent:j});return nt.status==="aborted"?INVALID:(nt.status==="dirty"&&$.dirty(),rt(nt.value),{status:$.value,value:nt.value})}else return this._def.schema._parseAsync({data:j.data,path:j.path,parent:j}).then(nt=>nt.status==="aborted"?INVALID:(nt.status==="dirty"&&$.dirty(),rt(nt.value).then(()=>({status:$.value,value:nt.value}))))}if(et.type==="transform")if(j.common.async===!1){const rt=this._def.schema._parseSync({data:j.data,path:j.path,parent:j});if(!isValid$1(rt))return rt;const nt=et.transform(rt.value,tt);if(nt instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:$.value,value:nt}}else return this._def.schema._parseAsync({data:j.data,path:j.path,parent:j}).then(rt=>isValid$1(rt)?Promise.resolve(et.transform(rt.value,tt)).then(nt=>({status:$.value,value:nt})):rt);util.assertNever(et)}}ZodEffects.create=(_,a,$)=>new ZodEffects({schema:_,typeName:ZodFirstPartyTypeKind.ZodEffects,effect:a,...processCreateParams($)});ZodEffects.createWithPreprocess=(_,a,$)=>new ZodEffects({schema:a,effect:{type:"preprocess",transform:_},typeName:ZodFirstPartyTypeKind.ZodEffects,...processCreateParams($)});class ZodOptional extends ZodType{_parse(a){return this._getType(a)===ZodParsedType.undefined?OK(void 0):this._def.innerType._parse(a)}unwrap(){return this._def.innerType}}ZodOptional.create=(_,a)=>new ZodOptional({innerType:_,typeName:ZodFirstPartyTypeKind.ZodOptional,...processCreateParams(a)});class ZodNullable extends ZodType{_parse(a){return this._getType(a)===ZodParsedType.null?OK(null):this._def.innerType._parse(a)}unwrap(){return this._def.innerType}}ZodNullable.create=(_,a)=>new ZodNullable({innerType:_,typeName:ZodFirstPartyTypeKind.ZodNullable,...processCreateParams(a)});class ZodDefault extends ZodType{_parse(a){const{ctx:$}=this._processInputParams(a);let j=$.data;return $.parsedType===ZodParsedType.undefined&&(j=this._def.defaultValue()),this._def.innerType._parse({data:j,path:$.path,parent:$})}removeDefault(){return this._def.innerType}}ZodDefault.create=(_,a)=>new ZodDefault({innerType:_,typeName:ZodFirstPartyTypeKind.ZodDefault,defaultValue:typeof a.default=="function"?a.default:()=>a.default,...processCreateParams(a)});class ZodCatch extends ZodType{_parse(a){const{ctx:$}=this._processInputParams(a),j={...$,common:{...$.common,issues:[]}},et=this._def.innerType._parse({data:j.data,path:j.path,parent:{...j}});return isAsync(et)?et.then(tt=>({status:"valid",value:tt.status==="valid"?tt.value:this._def.catchValue({get error(){return new ZodError(j.common.issues)},input:j.data})})):{status:"valid",value:et.status==="valid"?et.value:this._def.catchValue({get error(){return new ZodError(j.common.issues)},input:j.data})}}removeCatch(){return this._def.innerType}}ZodCatch.create=(_,a)=>new ZodCatch({innerType:_,typeName:ZodFirstPartyTypeKind.ZodCatch,catchValue:typeof a.catch=="function"?a.catch:()=>a.catch,...processCreateParams(a)});class ZodNaN extends ZodType{_parse(a){if(this._getType(a)!==ZodParsedType.nan){const j=this._getOrReturnCtx(a);return addIssueToContext(j,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.nan,received:j.parsedType}),INVALID}return{status:"valid",value:a.data}}}ZodNaN.create=_=>new ZodNaN({typeName:ZodFirstPartyTypeKind.ZodNaN,...processCreateParams(_)});const BRAND=Symbol("zod_brand");class ZodBranded extends ZodType{_parse(a){const{ctx:$}=this._processInputParams(a),j=$.data;return this._def.type._parse({data:j,path:$.path,parent:$})}unwrap(){return this._def.type}}class ZodPipeline extends ZodType{_parse(a){const{status:$,ctx:j}=this._processInputParams(a);if(j.common.async)return(async()=>{const tt=await this._def.in._parseAsync({data:j.data,path:j.path,parent:j});return tt.status==="aborted"?INVALID:tt.status==="dirty"?($.dirty(),DIRTY(tt.value)):this._def.out._parseAsync({data:tt.value,path:j.path,parent:j})})();{const et=this._def.in._parseSync({data:j.data,path:j.path,parent:j});return et.status==="aborted"?INVALID:et.status==="dirty"?($.dirty(),{status:"dirty",value:et.value}):this._def.out._parseSync({data:et.value,path:j.path,parent:j})}}static create(a,$){return new ZodPipeline({in:a,out:$,typeName:ZodFirstPartyTypeKind.ZodPipeline})}}class ZodReadonly extends ZodType{_parse(a){const $=this._def.innerType._parse(a),j=et=>(isValid$1(et)&&(et.value=Object.freeze(et.value)),et);return isAsync($)?$.then(et=>j(et)):j($)}unwrap(){return this._def.innerType}}ZodReadonly.create=(_,a)=>new ZodReadonly({innerType:_,typeName:ZodFirstPartyTypeKind.ZodReadonly,...processCreateParams(a)});function custom(_,a={},$){return _?ZodAny.create().superRefine((j,et)=>{var tt,rt;if(!_(j)){const nt=typeof a=="function"?a(j):typeof a=="string"?{message:a}:a,it=(rt=(tt=nt.fatal)!==null&&tt!==void 0?tt:$)!==null&&rt!==void 0?rt:!0,ot=typeof nt=="string"?{message:nt}:nt;et.addIssue({code:"custom",...ot,fatal:it})}}):ZodAny.create()}const late={object:ZodObject.lazycreate};var ZodFirstPartyTypeKind;(function(_){_.ZodString="ZodString",_.ZodNumber="ZodNumber",_.ZodNaN="ZodNaN",_.ZodBigInt="ZodBigInt",_.ZodBoolean="ZodBoolean",_.ZodDate="ZodDate",_.ZodSymbol="ZodSymbol",_.ZodUndefined="ZodUndefined",_.ZodNull="ZodNull",_.ZodAny="ZodAny",_.ZodUnknown="ZodUnknown",_.ZodNever="ZodNever",_.ZodVoid="ZodVoid",_.ZodArray="ZodArray",_.ZodObject="ZodObject",_.ZodUnion="ZodUnion",_.ZodDiscriminatedUnion="ZodDiscriminatedUnion",_.ZodIntersection="ZodIntersection",_.ZodTuple="ZodTuple",_.ZodRecord="ZodRecord",_.ZodMap="ZodMap",_.ZodSet="ZodSet",_.ZodFunction="ZodFunction",_.ZodLazy="ZodLazy",_.ZodLiteral="ZodLiteral",_.ZodEnum="ZodEnum",_.ZodEffects="ZodEffects",_.ZodNativeEnum="ZodNativeEnum",_.ZodOptional="ZodOptional",_.ZodNullable="ZodNullable",_.ZodDefault="ZodDefault",_.ZodCatch="ZodCatch",_.ZodPromise="ZodPromise",_.ZodBranded="ZodBranded",_.ZodPipeline="ZodPipeline",_.ZodReadonly="ZodReadonly"})(ZodFirstPartyTypeKind||(ZodFirstPartyTypeKind={}));const instanceOfType=(_,a={message:`Input not instance of ${_.name}`})=>custom($=>$ instanceof _,a),stringType=ZodString.create,numberType=ZodNumber.create,nanType=ZodNaN.create,bigIntType=ZodBigInt.create,booleanType=ZodBoolean.create,dateType=ZodDate.create,symbolType=ZodSymbol.create,undefinedType=ZodUndefined.create,nullType=ZodNull.create,anyType=ZodAny.create,unknownType=ZodUnknown.create,neverType=ZodNever.create,voidType=ZodVoid.create,arrayType=ZodArray.create,objectType=ZodObject.create,strictObjectType=ZodObject.strictCreate,unionType=ZodUnion.create,discriminatedUnionType=ZodDiscriminatedUnion.create,intersectionType=ZodIntersection.create,tupleType=ZodTuple.create,recordType=ZodRecord.create,mapType=ZodMap.create,setType=ZodSet.create,functionType$1=ZodFunction.create,lazyType=ZodLazy.create,literalType=ZodLiteral.create,enumType=ZodEnum.create,nativeEnumType=ZodNativeEnum.create,promiseType=ZodPromise.create,effectsType=ZodEffects.create,optionalType=ZodOptional.create,nullableType=ZodNullable.create,preprocessType=ZodEffects.createWithPreprocess,pipelineType=ZodPipeline.create,ostring=()=>stringType().optional(),onumber=()=>numberType().optional(),oboolean=()=>booleanType().optional(),coerce$2={string:_=>ZodString.create({..._,coerce:!0}),number:_=>ZodNumber.create({..._,coerce:!0}),boolean:_=>ZodBoolean.create({..._,coerce:!0}),bigint:_=>ZodBigInt.create({..._,coerce:!0}),date:_=>ZodDate.create({..._,coerce:!0})},NEVER$1=INVALID;var z=Object.freeze({__proto__:null,defaultErrorMap:errorMap,setErrorMap,getErrorMap,makeIssue,EMPTY_PATH,addIssueToContext,ParseStatus,INVALID,DIRTY,OK,isAborted,isDirty,isValid:isValid$1,isAsync,get util(){return util},get objectUtil(){return objectUtil},ZodParsedType,getParsedType,ZodType,datetimeRegex,ZodString,ZodNumber,ZodBigInt,ZodBoolean,ZodDate,ZodSymbol,ZodUndefined,ZodNull,ZodAny,ZodUnknown,ZodNever,ZodVoid,ZodArray,ZodObject,ZodUnion,ZodDiscriminatedUnion,ZodIntersection,ZodTuple,ZodRecord,ZodMap,ZodSet,ZodFunction,ZodLazy,ZodLiteral,ZodEnum,ZodNativeEnum,ZodPromise,ZodEffects,ZodTransformer:ZodEffects,ZodOptional,ZodNullable,ZodDefault,ZodCatch,ZodNaN,BRAND,ZodBranded,ZodPipeline,ZodReadonly,custom,Schema:ZodType,ZodSchema:ZodType,late,get ZodFirstPartyTypeKind(){return ZodFirstPartyTypeKind},coerce:coerce$2,any:anyType,array:arrayType,bigint:bigIntType,boolean:booleanType,date:dateType,discriminatedUnion:discriminatedUnionType,effect:effectsType,enum:enumType,function:functionType$1,instanceof:instanceOfType,intersection:intersectionType,lazy:lazyType,literal:literalType,map:mapType,nan:nanType,nativeEnum:nativeEnumType,never:neverType,null:nullType,nullable:nullableType,number:numberType,object:objectType,oboolean,onumber,optional:optionalType,ostring,pipeline:pipelineType,preprocess:preprocessType,promise:promiseType,record:recordType,set:setType,strictObject:strictObjectType,string:stringType,symbol:symbolType,transformer:effectsType,tuple:tupleType,undefined:undefinedType,union:unionType,unknown:unknownType,void:voidType,NEVER:NEVER$1,ZodIssueCode,quotelessJson,ZodError});const Schema$1=z.object({address:z.string()}),parsePkh=_=>{if(isValidContractPkh(_))return parseContractPkh(_);if(isValidImplicitPkh(_))return parseImplicitPkh(_);throw new Error(`Cannot parse address type: ${_}`)},isAddressValid=_=>validateAddress(_)===ValidationResult.VALID,isValidContractPkh=_=>isAddressValid(_)&&_.match(/^KT1\w+/),isValidImplicitPkh=_=>isAddressValid(_)&&_.match(/^tz[1234]\w+/),parseContractPkh=_=>{if(isValidContractPkh(_))return{type:"contract",pkh:_};throw new Error(`Invalid contract address: ${_}`)},parseImplicitPkh=_=>{if(isValidImplicitPkh(_))return{type:"implicit",pkh:_};throw new Error(`Invalid implicit address: ${_}`)},encodeReserved=[encodeURIComponent,encodeURIComponent];function encode$3(_,a=","){const $=(j,et)=>{const tt=_[et%_.length];return typeof j>"u"?"":typeof j=="object"?Array.isArray(j)?j.map(tt).join(a):Object.entries(j).reduce((nt,it)=>[...nt,...it],[]).map(tt).join(a):tt(String(j))};return(j,...et)=>j.reduce((tt,rt,nt)=>`${tt}${rt}${$(et[nt],nt)}`,"")}function delimited(_=","){return(a,$=encodeReserved)=>Object.entries(a).filter(([,j])=>j!==void 0).map(([j,et])=>encode$3($,_)`${j}=${et}`).join("&")}function stripUndefined(_){return _&&JSON.parse(JSON.stringify(_))}function joinUrl(..._){return _.filter(Boolean).map((a,$)=>$===0?a:a.replace(/^\/+/,"")).map((a,$,j)=>$===j.length-1?a:a.replace(/\/+$/,"")).join("/")}function query(..._){const a=_.filter(Boolean).join("&");return a&&`?${a}`}function explode(_,a=encodeReserved){const $=encode$3(a);return Object.entries(_).filter(([,j])=>j!==void 0).map(([j,et])=>Array.isArray(et)?et.map(tt=>$`${j}=${tt}`).join("&"):typeof et=="object"?explode(et,a):$`${j}=${et}`).join("&")}const form=delimited(),SUCCESS_CODES=[200,201,202,204];async function ok(_){const a=await _;if(SUCCESS_CODES.some($=>$==a.status))return a.data;throw new HttpError(a.status,a.data)}class HttpError extends Error{constructor($,j){super(`Error: ${$}`);Vr(this,"status");Vr(this,"data");this.status=$,this.data=j}}function runtime$1(_){async function a(tt,rt){const nt=await et(tt,rt);let it;try{it=await nt.text()}catch{}return{status:nt.status,headers:nt.headers,contentType:nt.headers.get("content-type"),data:it}}async function $(tt,rt={}){const{status:nt,headers:it,contentType:ot,data:st}=await a(tt,{...rt,headers:{Accept:"application/json",...rt.headers}});return(ot?ot.includes("json"):!1)?{status:nt,headers:it,data:st?JSON.parse(st):null}:{status:nt,headers:it,data:st}}async function j(tt,rt={}){const nt=await et(tt,rt);let it;try{it=await nt.blob()}catch{}return{status:nt.status,headers:nt.headers,data:it}}async function et(tt,rt={}){const{baseUrl:nt,headers:it,fetch:ot,...st}={..._,...rt},ct=joinUrl(nt,tt);return await(ot||fetch)(ct,{...st,headers:stripUndefined({..._.headers,...it})})}return{ok,fetchText:a,fetchJson:$,fetchBlob:j,json({body:tt,headers:rt,...nt}){return{...nt,...tt!=null&&{body:JSON.stringify(tt)},headers:{...rt,"Content-Type":"application/json"}}},form({body:tt,headers:rt,...nt}){return{...nt,...tt!=null&&{body:form(tt)},headers:{...rt,"Content-Type":"application/x-www-form-urlencoded"}}},multipart({body:tt,...rt}){if(tt==null)return rt;const nt=new(_.formDataConstructor||rt.formDataConstructor||FormData);return Object.entries(tt).forEach(([it,ot])=>{nt.append(it,ot)}),{...rt,body:nt}}}}const jsonParameter=(_,a)=>{if(!a)return{};const $={};return Object.entries(a).forEach(([j,et])=>{if(!(et instanceof Object))throw new Error(`Expected ${_} value to be object, received ${typeof et}`);const{jsonPath:tt,jsonValue:rt}=et;if(rt==null)throw new Error(`Expected jsonValue in ${_} -> ${j}, found: ${rt}`);const it=[_,tt,j].filter(ot=>ot!==void 0).join(".");$[it]=rt}),$},anyofParameter=(_,a)=>{if(!a)return{};const{fields:$}=a;(rt=>{if(!Array.isArray(rt))throw new Error(`Expected ${_} fields to be Array. Received ${typeof rt}.`);return rt.forEach(nt=>{if(typeof nt!="string")throw new Error(`Expected ${_} fields to be strings. Received ${typeof nt}`)}),!0})($);const et={},tt=$.join(".");if(a.value){const rt=`${_}.${tt}`;et[rt]=a.value}for(const rt of["in","eq","null"])if(a[rt]){const nt=`${_}.${tt}.${rt}`;return et[nt]=Array.isArray(a[rt])?a[rt].join(","):a[rt],et}return et},queryParameter=(_,a)=>{if(!a)return{};const $={};return Object.entries(a).forEach(([j,et])=>{const tt=`${_}.${j}`;$[tt]=et}),$},parsers={jsonParameter,queryParameter,anyofParameter},defaults={baseUrl:"https://api.tzkt.io"},oazapfts=runtime$1(defaults);function accountsGet({id:_,address:a,$type:$,kind:j,delegate:et,balance:tt,staked:rt,lastActivity:nt,select:it,sort:ot,offset:st,limit:ct}={},ut){return oazapfts.ok(oazapfts.fetchJson(`/v1/accounts${query(explode({limit:ct,...parsers.queryParameter("id",_),...parsers.queryParameter("address",a),...parsers.queryParameter("type",$),...parsers.queryParameter("kind",j),...parsers.queryParameter("delegate",et),...parsers.queryParameter("balance",tt),...parsers.queryParameter("staked",rt),...parsers.queryParameter("lastActivity",nt),...parsers.queryParameter("select",it),...parsers.queryParameter("sort",ot),...parsers.queryParameter("offset",st)}))}`,{...ut}))}function blocksGetCount(_){return oazapfts.ok(oazapfts.fetchJson("/v1/blocks/count",{..._}))}function contractsGet({address:_,kind:a,tzips:$,creator:j,manager:et,delegate:tt,balance:rt,lastActivity:nt,typeHash:it,codeHash:ot,select:st,sort:ct,offset:ut,limit:ht,includeStorage:Et}={},St){return oazapfts.ok(oazapfts.fetchJson(`/v1/contracts${query(explode({limit:ht,includeStorage:Et,...parsers.queryParameter("address",_),...parsers.queryParameter("kind",a),...parsers.queryParameter("tzips",$),...parsers.queryParameter("creator",j),...parsers.queryParameter("manager",et),...parsers.queryParameter("delegate",tt),...parsers.queryParameter("balance",rt),...parsers.queryParameter("lastActivity",nt),...parsers.queryParameter("typeHash",it),...parsers.queryParameter("codeHash",ot),...parsers.queryParameter("select",st),...parsers.queryParameter("sort",ct),...parsers.queryParameter("offset",ut)}))}`,{...St}))}function delegatesGet({active:_,lastActivity:a,select:$,sort:j,offset:et,limit:tt}={},rt){return oazapfts.ok(oazapfts.fetchJson(`/v1/delegates${query(explode({limit:tt,...parsers.queryParameter("active",_),...parsers.queryParameter("lastActivity",a),...parsers.queryParameter("select",$),...parsers.queryParameter("sort",j),...parsers.queryParameter("offset",et)}))}`,{...rt}))}function operationsGetDelegations({anyof:_,initiator:a,sender:$,prevDelegate:j,newDelegate:et,level:tt,timestamp:rt,senderCodeHash:nt,status:it,select:ot,sort:st,offset:ct,limit:ut,quote:ht}={},Et){return oazapfts.ok(oazapfts.fetchJson(`/v1/operations/delegations${query(explode({limit:ut,quote:ht,...parsers.anyofParameter("anyof",_),...parsers.queryParameter("initiator",a),...parsers.queryParameter("sender",$),...parsers.queryParameter("prevDelegate",j),...parsers.queryParameter("newDelegate",et),...parsers.queryParameter("level",tt),...parsers.queryParameter("timestamp",rt),...parsers.queryParameter("senderCodeHash",nt),...parsers.queryParameter("status",it),...parsers.queryParameter("select",ot),...parsers.queryParameter("sort",st),...parsers.queryParameter("offset",ct)}))}`,{...Et}))}function operationsGetOriginations({anyof:_,initiator:a,sender:$,contractManager:j,contractDelegate:et,originatedContract:tt,id:rt,typeHash:nt,codeHash:it,level:ot,timestamp:st,senderCodeHash:ct,anyCodeHash:ut,status:ht,select:Et,sort:St,offset:Mt,limit:kt,micheline:Ct,quote:Ot}={},zt){return oazapfts.ok(oazapfts.fetchJson(`/v1/operations/originations${query(explode({limit:kt,micheline:Ct,quote:Ot,...parsers.anyofParameter("anyof",_),...parsers.queryParameter("initiator",a),...parsers.queryParameter("sender",$),...parsers.queryParameter("contractManager",j),...parsers.queryParameter("contractDelegate",et),...parsers.queryParameter("originatedContract",tt),...parsers.queryParameter("id",rt),...parsers.queryParameter("typeHash",nt),...parsers.queryParameter("codeHash",it),...parsers.queryParameter("level",ot),...parsers.queryParameter("timestamp",st),...parsers.queryParameter("senderCodeHash",ct),...parsers.queryParameter("anyCodeHash",ut),...parsers.queryParameter("status",ht),...parsers.queryParameter("select",Et),...parsers.queryParameter("sort",St),...parsers.queryParameter("offset",Mt)}))}`,{...zt}))}function operationsGetTransactions({anyof:_,initiator:a,sender:$,target:j,amount:et,id:tt,level:rt,timestamp:nt,senderCodeHash:it,targetCodeHash:ot,codeHash:st,entrypoint:ct,parameter:ut,hasInternals:ht,status:Et,select:St,sort:Mt,offset:kt,limit:Ct,micheline:Ot,quote:zt}={},Ut){return oazapfts.ok(oazapfts.fetchJson(`/v1/operations/transactions${query(explode({limit:Ct,micheline:Ot,quote:zt,...parsers.anyofParameter("anyof",_),...parsers.queryParameter("initiator",a),...parsers.queryParameter("sender",$),...parsers.queryParameter("target",j),...parsers.queryParameter("amount",et),...parsers.queryParameter("id",tt),...parsers.queryParameter("level",rt),...parsers.queryParameter("timestamp",nt),...parsers.queryParameter("senderCodeHash",it),...parsers.queryParameter("targetCodeHash",ot),...parsers.queryParameter("codeHash",st),...parsers.queryParameter("entrypoint",ct),...parsers.jsonParameter("parameter",ut),...parsers.queryParameter("hasInternals",ht),...parsers.queryParameter("status",Et),...parsers.queryParameter("select",St),...parsers.queryParameter("sort",Mt),...parsers.queryParameter("offset",kt)}))}`,{...Ut}))}function quotesGetLast(_){return oazapfts.ok(oazapfts.fetchJson("/v1/quotes/last",{..._}))}function tokensGetTokenBalances({id:_,account:a,tokenId:$,tokenContract:j,tokenTokenId:et,tokenStandard:tt,tokenMetadata:rt,tokenHasFilters:nt,balance:it,firstLevel:ot,firstTime:st,lastLevel:ct,lastTime:ut,indexedAt:ht,sort:Et,offset:St,limit:Mt,select:kt}={},Ct){return oazapfts.ok(oazapfts.fetchJson(`/v1/tokens/balances${query(explode({"token.HasFilters":nt,limit:Mt,...parsers.queryParameter("id",_),...parsers.queryParameter("account",a),...parsers.queryParameter("token.id",$),...parsers.queryParameter("token.contract",j),...parsers.queryParameter("token.tokenId",et),...parsers.queryParameter("token.standard",tt),...parsers.jsonParameter("token.metadata",rt),...parsers.queryParameter("balance",it),...parsers.queryParameter("firstLevel",ot),...parsers.queryParameter("firstTime",st),...parsers.queryParameter("lastLevel",ct),...parsers.queryParameter("lastTime",ut),...parsers.queryParameter("indexedAt",ht),...parsers.queryParameter("sort",Et),...parsers.queryParameter("offset",St),...parsers.queryParameter("select",kt)}))}`,{...Ct}))}function tokensGetTokenTransfers({id:_,level:a,timestamp:$,tokenId:j,tokenContract:et,tokenTokenId:tt,tokenStandard:rt,tokenMetadata:nt,tokenHasFilters:it,anyof:ot,$from:st,to:ct,amount:ut,transactionId:ht,originationId:Et,migrationId:St,indexedAt:Mt,sort:kt,offset:Ct,limit:Ot,select:zt}={},Ut){return oazapfts.ok(oazapfts.fetchJson(`/v1/tokens/transfers${query(explode({"token.HasFilters":it,limit:Ot,...parsers.queryParameter("id",_),...parsers.queryParameter("level",a),...parsers.queryParameter("timestamp",$),...parsers.queryParameter("token.id",j),...parsers.queryParameter("token.contract",et),...parsers.queryParameter("token.tokenId",tt),...parsers.queryParameter("token.standard",rt),...parsers.jsonParameter("token.metadata",nt),...parsers.anyofParameter("anyof",ot),...parsers.queryParameter("from",st),...parsers.queryParameter("to",ct),...parsers.queryParameter("amount",ut),...parsers.queryParameter("transactionId",ht),...parsers.queryParameter("originationId",Et),...parsers.queryParameter("migrationId",St),...parsers.queryParameter("indexedAt",Mt),...parsers.queryParameter("sort",kt),...parsers.queryParameter("offset",Ct),...parsers.queryParameter("select",zt)}))}`,{...Ut}))}let e$1=class{constructor(a){this.queue=void 0,this.maxConcurrent=void 0,this.count=void 0,this.queue=[],this.maxConcurrent=a,this.count=0}get canAcquire(){return this.count<this.maxConcurrent}acquire(){return this.canAcquire?(this.count++,Promise.resolve()):new Promise(a=>this.queue.push(a))}release(){const a=this.queue.shift();a?setTimeout(a,0):this.count--}};const t$4="_default";class s{constructor(a=1){this.semaphoreInstances=void 0,this.maxConcurrent=void 0,this.semaphoreInstances={},this.maxConcurrent=a}hasSemaphoreInstance(a=t$4){return!!this.semaphoreInstances[a]}getSemaphoreInstance(a=t$4){return this.hasSemaphoreInstance(a)||(this.semaphoreInstances[a]=new e$1(this.maxConcurrent)),this.semaphoreInstances[a]}tidy(a=t$4){this.hasSemaphoreInstance(a)&&this.getSemaphoreInstance(a).count===0&&delete this.semaphoreInstances[a]}canAcquire(a=t$4){return this.getSemaphoreInstance(a).canAcquire}acquire(a=t$4){return this.getSemaphoreInstance(a).acquire()}release(a=t$4){this.getSemaphoreInstance(a).release(),this.tidy(a)}count(a=t$4){return this.hasSemaphoreInstance(a)?this.getSemaphoreInstance(a).count:0}hasTasks(a=t$4){return this.count(a)>0}async request(a,$=t$4){try{return await this.acquire($),await a()}finally{this.release($)}}async requestIfAvailable(a,$=t$4){return this.canAcquire($)?this.request(a,$):null}}function assign(_,a){for(const $ in a)Object.defineProperty(_,$,{value:a[$],enumerable:!0,configurable:!0});return _}function createError(_,a,$){if(!_||typeof _=="string")throw new TypeError("Please pass an Error to err-code");$||($={}),typeof a=="object"&&($=a,a=void 0),a!=null&&($.code=a);try{return assign(_,$)}catch{$.message=_.message,$.stack=_.stack;const et=function(){};return et.prototype=Object.create(Object.getPrototypeOf(_)),assign(new et,$)}}var errCode=createError,retry$3={};function RetryOperation(_,a){typeof a=="boolean"&&(a={forever:a}),this._originalTimeouts=JSON.parse(JSON.stringify(_)),this._timeouts=_,this._options=a||{},this._maxRetryTime=a&&a.maxRetryTime||1/0,this._fn=null,this._errors=[],this._attempts=1,this._operationTimeout=null,this._operationTimeoutCb=null,this._timeout=null,this._operationStart=null,this._options.forever&&(this._cachedTimeouts=this._timeouts.slice(0))}var retry_operation=RetryOperation;RetryOperation.prototype.reset=function(){this._attempts=1,this._timeouts=this._originalTimeouts};RetryOperation.prototype.stop=function(){this._timeout&&clearTimeout(this._timeout),this._timeouts=[],this._cachedTimeouts=null};RetryOperation.prototype.retry=function(_){if(this._timeout&&clearTimeout(this._timeout),!_)return!1;var a=new Date().getTime();if(_&&a-this._operationStart>=this._maxRetryTime)return this._errors.unshift(new Error("RetryOperation timeout occurred")),!1;this._errors.push(_);var $=this._timeouts.shift();if($===void 0)if(this._cachedTimeouts)this._errors.splice(this._errors.length-1,this._errors.length),this._timeouts=this._cachedTimeouts.slice(0),$=this._timeouts.shift();else return!1;var j=this,et=setTimeout(function(){j._attempts++,j._operationTimeoutCb&&(j._timeout=setTimeout(function(){j._operationTimeoutCb(j._attempts)},j._operationTimeout),j._options.unref&&j._timeout.unref()),j._fn(j._attempts)},$);return this._options.unref&&et.unref(),!0};RetryOperation.prototype.attempt=function(_,a){this._fn=_,a&&(a.timeout&&(this._operationTimeout=a.timeout),a.cb&&(this._operationTimeoutCb=a.cb));var $=this;this._operationTimeoutCb&&(this._timeout=setTimeout(function(){$._operationTimeoutCb()},$._operationTimeout)),this._operationStart=new Date().getTime(),this._fn(this._attempts)};RetryOperation.prototype.try=function(_){console.log("Using RetryOperation.try() is deprecated"),this.attempt(_)};RetryOperation.prototype.start=function(_){console.log("Using RetryOperation.start() is deprecated"),this.attempt(_)};RetryOperation.prototype.start=RetryOperation.prototype.try;RetryOperation.prototype.errors=function(){return this._errors};RetryOperation.prototype.attempts=function(){return this._attempts};RetryOperation.prototype.mainError=function(){if(this._errors.length===0)return null;for(var _={},a=null,$=0,j=0;j<this._errors.length;j++){var et=this._errors[j],tt=et.message,rt=(_[tt]||0)+1;_[tt]=rt,rt>=$&&(a=et,$=rt)}return a};(function(_){var a=retry_operation;_.operation=function($){var j=_.timeouts($);return new a(j,{forever:$&&$.forever,unref:$&&$.unref,maxRetryTime:$&&$.maxRetryTime})},_.timeouts=function($){if($ instanceof Array)return[].concat($);var j={retries:10,factor:2,minTimeout:1*1e3,maxTimeout:1/0,randomize:!1};for(var et in $)j[et]=$[et];if(j.minTimeout>j.maxTimeout)throw new Error("minTimeout is greater than maxTimeout");for(var tt=[],rt=0;rt<j.retries;rt++)tt.push(this.createTimeout(rt,j));return $&&$.forever&&!tt.length&&tt.push(this.createTimeout(rt,j)),tt.sort(function(nt,it){return nt-it}),tt},_.createTimeout=function($,j){var et=j.randomize?Math.random()+1:1,tt=Math.round(et*j.minTimeout*Math.pow(j.factor,$));return tt=Math.min(tt,j.maxTimeout),tt},_.wrap=function($,j,et){if(j instanceof Array&&(et=j,j=null),!et){et=[];for(var tt in $)typeof $[tt]=="function"&&et.push(tt)}for(var rt=0;rt<et.length;rt++){var nt=et[rt],it=$[nt];$[nt]=(function(st){var ct=_.operation(j),ut=Array.prototype.slice.call(arguments,1),ht=ut.pop();ut.push(function(Et){ct.retry(Et)||(Et&&(arguments[0]=ct.mainError()),ht.apply(this,arguments))}),ct.attempt(function(){st.apply($,ut)})}).bind($,it),$[nt].options=j}}})(retry$3);var retry$2=retry$3,errcode=errCode,retry$1=retry$2,hasOwn=Object.prototype.hasOwnProperty;function isRetryError(_){return _&&_.code==="EPROMISERETRY"&&hasOwn.call(_,"retried")}function promiseRetry(_,a){var $,j;return typeof _=="object"&&typeof a=="function"&&($=a,a=_,_=$),j=retry$1.operation(a),new Promise(function(et,tt){j.attempt(function(rt){Promise.resolve().then(function(){return _(function(nt){throw isRetryError(nt)&&(nt=nt.retried),errcode(new Error("Retrying"),"EPROMISERETRY",{retried:nt})},rt)}).then(et,function(nt){isRetryError(nt)&&(nt=nt.retried,j.retry(nt||new Error))||tt(nt)})})})}var promiseRetry_1=promiseRetry;const promiseRetry$1=getDefaultExportFromCjs$1(promiseRetry_1),tzktRateLimiter=new s(10),withRateLimit=_=>tzktRateLimiter.acquire().then(()=>promiseRetry$1(a=>_().catch(a),{retries:3,minTimeout:100})).catch(a=>{throw"status"in a&&"data"in a?new Error(`Fetching data from tzkt failed with: ${a.status}, ${a.data}`):a}).finally(()=>tzktRateLimiter.release()),MULTISIG_FETCH_LIMIT=1e4,TYPE_HASH=1963879877,CODE_HASH=-1890025422,getAllMultiSigContracts=async _=>withRateLimit(async()=>{try{const a=`${_.tzktApiUrl}/v1/contracts?typeHash=${TYPE_HASH}&codeHash=${CODE_HASH}&includeStorage=true&limit=${MULTISIG_FETCH_LIMIT}`,{data:$}=await axios.get(a);return $}catch(a){throw new Error(`Error fetching same contracts from tzkt: ${a.message}`)}}),getExistingContracts=(_,a)=>withRateLimit(()=>contractsGet({address:{in:[_.join(",")]},select:{fields:["address"]},limit:Math.min(1e4,_.length)},{baseUrl:a.tzktApiUrl})),getPendingOperations=async(_,a)=>withRateLimit(async()=>{if(_.length===0)return Promise.resolve([]);const $=`${a.tzktApiUrl}/v1/bigmaps/keys?active=true&bigmap.in=${_.join(",")}&limit=${MULTISIG_FETCH_LIMIT}`,{data:j}=await axios.get($);return j}),parseMultisig=_=>({address:parseContractPkh(_.address),threshold:Number(_.storage.threshold),signers:_.storage.signers.map(parseImplicitPkh),pendingOperationsBigmapId:_.storage.pending_ops}),getRelevantMultisigContracts=async(_,a)=>(await getAllMultiSigContracts(a)).filter(({storage:{signers:j}})=>lodashExports.every(j,isValidImplicitPkh)?j.filter(tt=>_.has(tt)).length>0:!1).map(parseMultisig),getNetworksForContracts=async(_,a)=>{const $=new Map;return a.length===0||(await Promise.all(_.map(async et=>(await getExistingContracts(a,et)).map(tt=>[tt,et.name])))).flat().forEach(([et,tt])=>$.set(et,tt)),$},parseMultisigOperation=_=>{const{bigmap:a,key:$,value:j}=_;if($===null||j===null)throw new Error("parseMultisigOperation failed");return{id:$,bigmapId:a,rawActions:j.actions,approvals:j.approvals.map(parseImplicitPkh)}},getPendingOperationsForMultisigs=async(_,a)=>{if(_.length===0)return[];const $=_.map(et=>et.pendingOperationsBigmapId),j=await getPendingOperations($,a);return lodashExports.compact(j.map(parseMultisigOperation))},VERSION$1=6,mainStoreMigrations={0:_=>produce(_,a=>{a.multisigs.labelsMap={}}),1:_=>produce(_,a=>{a.announcement=initialState$9}),2:lodashExports.identity,3:_=>produce(_,a=>{a.networks.current.name==="ghostnet"&&(a.networks.current.buyTezUrl="https://faucet.ghostnet.teztnets.com/");for(const $ of a.networks.available)if($.name==="ghostnet"){$.buyTezUrl="https://faucet.ghostnet.teztnets.com/";break}}),4:lodashExports.identity,5:_=>produce(_,a=>{delete a.assets.transfers.tez}),6:async _=>{const a=Object.values(_.contacts).filter(tt=>isValidImplicitPkh(tt.pkh)).map(tt=>[tt.pkh,{...tt,network:void 0}]),$=Object.values(_.contacts).filter(tt=>isValidContractPkh(tt.pkh)).map(tt=>tt.pkh),et=[...(await getNetworksForContracts(_.networks.available,$)).entries()].map(([tt,rt])=>[tt,{..._.contacts[tt],network:rt}]);return produce(_,tt=>{tt.contacts=lodashExports.fromPairs([...a,...et])})}},accountsMigrations={0:lodashExports.identity,1:lodashExports.identity,2:_=>produce(_,a=>{a.items.forEach($=>{$.type==="secret_key"&&($.curve="ed25519")})}),3:lodashExports.identity,4:_=>produce(_,a=>{a.items.forEach($=>{$.type==="ledger"&&!$.derivationPathTemplate&&($.derivationPathTemplate=void 0,$.derivationPath==="44'/1729'/0'/0'"?$.derivationPathTemplate="44'/1729'/?'/0'":$.derivationPath==="44'/1729'/0'/0'/0'"&&($.derivationPathTemplate="44'/1729'/?'/0'/0'"))})}),5:lodashExports.identity,6:lodashExports.identity},AES_MODE="AES-GCM",BYTE_TO_BIT=8,KEY_SIZE=32,NUM_ITERATIONS_V2=6e5,NUM_ITERATIONS_V1=1e4,derivePasswordBasedKeyV1=async(_,a)=>derivePasswordBasedKey(Buffer$g.alloc(32,_,"utf-8"),a,NUM_ITERATIONS_V1),derivePasswordBasedKeyV2=async(_,a)=>derivePasswordBasedKey(Buffer$g.from(_,"utf-8"),a,NUM_ITERATIONS_V2),derivePasswordBasedKey=async(_,a,$)=>{const j={name:"PBKDF2",salt:a,iterations:$,hash:"SHA-256"},et=await crypto.subtle.importKey("raw",_,j.name,!1,["deriveKey"]);return await crypto.subtle.deriveKey(j,et,{name:AES_MODE,length:KEY_SIZE*BYTE_TO_BIT},!1,["encrypt","decrypt"])},SALT_SIZE=32,IV_SIZE=12,encrypt$1=async(_,a)=>{const $=crypto.getRandomValues(new Uint8Array(SALT_SIZE)),j=await derivePasswordBasedKeyV2(a,$),et=crypto.getRandomValues(new Uint8Array(IV_SIZE)),tt=await crypto.subtle.encrypt({name:AES_MODE,iv:et},j,Buffer$g.from(_,"utf-8"));return{iv:buf2hex(Buffer$g.from(et)),salt:buf2hex(Buffer$g.from($)),data:buf2hex(Buffer$g.from(tt))}},decrypt$1=async(_,a,$="V2")=>{const{iv:j,salt:et,data:tt}=_;try{const rt=$==="V2"?await derivePasswordBasedKeyV2(a,hex2Bytes(et)):await derivePasswordBasedKeyV1(a,hex2Bytes(et)),nt=await crypto.subtle.decrypt({name:AES_MODE,iv:hex2Bytes(j)},rt,hex2Bytes(tt));return Buffer$g.from(nt).toString("utf-8")}catch{throw new Error("Error decrypting data: Invalid password")}},changeMnemonicPassword=createAsyncThunk("accounts/changeMnemonicPassword",async({currentPassword:_,newPassword:a},{getState:$})=>{if(_===a)throw new Error("New password must be different from the current password");const{items:j,seedPhrases:et}=$().accounts;if(j.filter(rt=>rt.type==="mnemonic").length===0)throw new Error("No mnemonic accounts found");const tt=await Promise.all(Object.entries(et).map(async([rt,nt])=>{if(!nt)throw new Error("No encrypted mnemonic found");try{const it=await decrypt$1(nt,_),ot=await encrypt$1(it,a);return[rt,ot]}catch(it){throw new Error(it.message)}}));return{newEncryptedMnemonics:lodashExports.fromPairs(tt)}}),initialState$8={items:[],seedPhrases:{},secretKeys:{}},accountsSlice=createSlice({name:"accounts",initialState:initialState$8,extraReducers:_=>{_.addCase(changeMnemonicPassword.fulfilled,(a,$)=>{const{newEncryptedMnemonics:j}=$.payload;a.seedPhrases=j})},reducers:{reset:()=>initialState$8,removeMnemonicAndAccounts:(_,{payload:a})=>{const{fingerPrint:$}=a,j=_.items.filter(et=>!(et.type==="mnemonic"&&et.seedFingerPrint===$));_.items=j,delete _.seedPhrases[$]},removeNonMnemonicAccounts:(_,{payload:a})=>{_.items=lodashExports.remove(_.items,$=>$.type==="mnemonic"||$.type!==a.accountType),a.accountType==="secret_key"&&(_.secretKeys={})},removeAccount:(_,{payload:a})=>{lodashExports.remove(_.items,$=>$.address.pkh===a.address.pkh),a.type==="secret_key"&&delete _.secretKeys[a.address.pkh]},renameAccount:(_,{payload:a})=>{const{account:$,newName:j}=a;if(j.length===0)throw new Error("Cannot rename account to an empty name.");if(_.items.find(tt=>tt.label===j))throw new Error(`Cannot rename account ${$.address.pkh} to ${j} since the name already exists.`);const et=_.items.find(tt=>tt.address.pkh===$.address.pkh&&tt.label===$.label);et&&(et.label=j)},addAccount:(_,{payload:a})=>{_.items=concatUnique(_.items,[a])},addMnemonicAccounts:(_,{payload:{encryptedMnemonic:a,accounts:$,seedFingerprint:j}})=>{_.items=concatUnique(_.items,$),_.seedPhrases[j]=a},addSecretKey:(_,{payload:{pkh:a,encryptedSecretKey:$}})=>{_.secretKeys[a]=$}}}),concatUnique=(_,a)=>(a.forEach($=>{if(_.some(j=>j.address.pkh===$.address.pkh))throw new Error(`Can't add account with address ${$.address.pkh} because it already exists.`)}),[..._,...a]);accountsSlice.actions;const FA12TokenSchema=z.object({standard:z.string().regex(/^fa1\.2$/i),contract:Schema$1}),FA2TokenSchema=z.object({standard:z.string().regex(/^fa2$/i),tokenId:z.string(),contract:Schema$1}),NFTSchema=z.object({id:z.number(),standard:z.string().regex(/^fa2$/i),tokenId:z.string(),contract:Schema$1,totalSupply:z.string().optional(),metadata:z.object({displayUri:z.string(),decimals:z.void().or(z.string().regex(/^0$/))})}),fromRaw$1=_=>{const a=_.metadata;if(_.standard==="fa1.2"){const et=FA12TokenSchema.safeParse(_);return et.success?{type:"fa1.2",metadata:a,contract:et.data.contract.address,tokenId:"0"}:(console.warn("Invalid FA1 token: "+JSON.stringify(_)),null)}const $=NFTSchema.safeParse(_);if($.success)return{metadata:a,type:"nft",id:$.data.id,contract:$.data.contract.address,tokenId:$.data.tokenId,displayUri:$.data.metadata.displayUri,totalSupply:$.data.totalSupply};const j=FA2TokenSchema.safeParse(_);return j.success?{type:"fa2",metadata:a,contract:j.data.contract.address,tokenId:j.data.tokenId}:(console.warn("Invalid FA2 token: "+JSON.stringify(_)),null)},fullId=_=>`${_.contract}:${_.tokenId}`,defaultTokenName=_=>{switch(_.type){case"fa1.2":return DEFAULT_FA1_NAME;case"fa2":return DEFAULT_FA2_NAME;case"nft":return DEFAULT_NFT_NAME}},tokenNameSafe=_=>tokenName(_)||defaultTokenName(_),tokenName=_=>{var a;return(a=_.metadata)==null?void 0:a.name},defaultTokenSymbol=_=>{switch(_.type){case"fa1.2":return DEFAULT_FA1_SYMBOL;case"fa2":return DEFAULT_FA2_SYMBOL;case"nft":return DEFAULT_NFT_SYMBOL}},tokenSymbolSafe=_=>tokenSymbol(_)||defaultTokenSymbol(_),tokenSymbol=_=>{var a;return(a=_.metadata)==null?void 0:a.symbol},tokenDecimals=_=>{var a;return((a=_.metadata)==null?void 0:a.decimals)??DEFAULT_TOKEN_DECIMALS},getRealAmount=(_,a)=>{const $=new BigNumber(a),j=tokenDecimals(_);return $.multipliedBy(new BigNumber(10).exponentiatedBy(j)).toFixed()},formatTokenAmount=(_,a=DEFAULT_TOKEN_DECIMALS)=>{const $=BigNumber(_).dividedBy(BigNumber(10).pow(a));try{return new Intl.NumberFormat("en-US",{minimumFractionDigits:Number(a),maximumFractionDigits:Number(a)}).format($.toNumber())}catch{return console.warn(`Can't format token amount with decimals = ${a}`),formatTokenAmount(_,"0")}},tokenPrettyAmount=(_,a,$)=>{var nt;if(a.type==="nft")return _;const j=tokenSymbolSafe(a),et=(nt=a.metadata)==null?void 0:nt.decimals,tt=$!=null&&$.showSymbol?` ${j}`:"";return`${formatTokenAmount(_,et)}${tt}`},artifactUri=_=>_.metadata.artifactUri||_.displayUri,thumbnailUri=_=>_.metadata.thumbnailUri||_.displayUri,mimeType=_=>{var a,$;return($=(a=_.metadata.formats)==null?void 0:a.find(j=>j.uri===artifactUri(_)))==null?void 0:$.mimeType},royalties=_=>{const a=_.metadata.royalties;if(!a)return[];const $=Math.pow(10,Number(a.decimals)),j=Object.entries(a.shares).map(([et,tt])=>({address:et,share:Number(tt)*100/$}));return j.sort((et,tt)=>et.share<tt.share?1:-1),j},metadataUri=(_,a)=>`${tokenUri(_,a)}/metadata`,tokenUri=({contract:_,tokenId:a},$)=>`${$.tzktExplorerUrl}/${_}/tokens/${a}`,DEFAULT_FA1_NAME="FA1.2 token",DEFAULT_FA2_NAME="FA2 token",DEFAULT_NFT_NAME="NFT",DEFAULT_FA1_SYMBOL="FA1.2",DEFAULT_FA2_SYMBOL="FA2",DEFAULT_NFT_SYMBOL="NFT",DEFAULT_TOKEN_DECIMALS="0",fromRaw=_=>{const a=fromRaw$1(_.token);return!a||!_.balance?null:{balance:_.balance,lastLevel:_.lastLevel,...a}},keepNFTs=_=>_.filter(a=>a.type==="nft"),keepFA1s=_=>_.filter(a=>a.type==="fa1.2"),keepFA2s=_=>_.filter(a=>a.type==="fa2"),initialState$7={blockLevel:null,balances:{mutez:{},tokens:{}},transfers:{tokens:{}},delegationLevels:{},bakers:[],conversionRate:void 0,refetchTrigger:0,isLoading:!1,lastTimeUpdated:null},assetsSlice=createSlice({name:"assets",initialState:initialState$7,extraReducers:_=>_.addCase(accountsSlice.actions.reset,()=>initialState$7),reducers:{reset:()=>initialState$7,updateBlockLevel:(_,{payload:a})=>{_.blockLevel=a},updateTokenTransfers:(_,{payload:a})=>{a.forEach($=>{_.transfers.tokens[$.transactionId]=$})},updateTezBalance:(_,{payload:a})=>{_.balances.mutez=a.reduce(($,j)=>({...$,[j.address]:String(j.balance)}),{}),_.delegationLevels=a.reduce(($,j)=>({...$,[j.address]:j.delegationLevel}),{})},updateTokenBalance:(_,{payload:a})=>{const $=lodashExports.groupBy(a,j=>j.account.address);_.balances.tokens=lodashExports.mapValues($,j=>lodashExports.compact(j.map(fromRaw)).map(({balance:et,contract:tt,tokenId:rt,lastLevel:nt})=>({balance:et,contract:tt,tokenId:rt,lastLevel:nt})))},removeAccountsData:(_,{payload:a})=>{a.forEach($=>{delete _.balances.mutez[$],delete _.balances.tokens[$],delete _.delegationLevels[$]})},updateBakers:(_,{payload:a})=>{_.bakers=a},updateConversionRate:(_,{payload:a})=>{_.conversionRate=a},refetch:_=>{_.refetchTrigger+=1},setIsLoading:(_,{payload:a})=>{_.isLoading=a},setLastTimeUpdated:(_,{payload:a})=>{_.lastTimeUpdated=a}}}),assetsActions=assetsSlice.actions,MAINNET={name:"mainnet",rpcUrl:"https://prod.tcinfra.net/rpc/mainnet/",tzktApiUrl:"https://api.mainnet.tzkt.io",tzktExplorerUrl:"https://tzkt.io",buyTezUrl:"https://widget.wert.io"},GHOSTNET={name:"ghostnet",rpcUrl:"https://ghostnet.ecadinfra.com",tzktApiUrl:"https://api.ghostnet.tzkt.io",tzktExplorerUrl:"https://ghostnet.tzkt.io",buyTezUrl:"https://faucet.ghostnet.teztnets.com/"},isDefault=_=>DefaultNetworks.map(a=>a.name).includes(_.name),DefaultNetworks=[MAINNET,GHOSTNET],initialState$6=lodashExports.fromPairs(DefaultNetworks.map(_=>[_.name,[]])),batchesSlice=createSlice({name:"batches",initialState:initialState$6,reducers:{reset:()=>initialState$6,add:(_,{payload:{operations:a,network:$}})=>{$.name in _||(_[$.name]=[]);const j=_[$.name],et=j.find(tt=>tt.sender.address.pkh===a.sender.address.pkh);if(et){et.operations.push(...a.operations);return}j.push(a)},clear:(_,{payload:{pkh:a,network:$}})=>{const j=_[$.name]||[],et=lodashExports.findIndex(j,tt=>tt.sender.address.pkh===a);et!==-1&&j.splice(et,1)},removeItem:(_,{payload:{pkh:a,index:$,network:j}})=>{const et=_[j.name]||[],tt=lodashExports.findIndex(et,nt=>nt.sender.address.pkh===a);if(tt===-1)return;const rt=et[tt];$<rt.operations.length&&rt.operations.splice($,1),rt.operations.length===0&&et.splice(tt,1)},removeByAccounts:(_,{payload:a})=>lodashExports.fromPairs(Object.entries(_).map(([$,j])=>{const et=(j||[]).filter(tt=>!a.includes(tt.sender.address.pkh));return[$,et]}))}}),batchesActions=batchesSlice.actions,initialState$5={},beaconSlice=createSlice({name:"beacon",initialState:initialState$5,reducers:{reset:()=>initialState$5,addConnection:(_,{payload:a})=>{_[a.dAppId]={accountPkh:a.accountPkh,networkType:a.networkType}},removeConnection:(_,{payload:a})=>{delete _[a]},removeConnections:(_,{payload:a})=>lodashExports.fromPairs(Object.entries(_).filter(([$,j])=>!a.includes(j.accountPkh)))}});beaconSlice.actions;const initialState$4={},contactsSlice=createSlice({name:"contacts",initialState:initialState$4,reducers:{reset:()=>initialState$4,upsert:(_,{payload:a})=>{_[a.pkh]=a},remove:(_,{payload:a})=>{delete _[a]}}}),contactsActions=contactsSlice.actions,MAX_ERRORS_LEN=100,initialState$3=[],errorsSlice=createSlice({name:"errors",initialState:initialState$3,reducers:{reset:()=>initialState$3,add(_,{payload:a}){_.length===MAX_ERRORS_LEN&&_.shift(),_.push(a)}}}),initialState$2={items:[],pendingOperations:{},labelsMap:{}},multisigsSlice=createSlice({name:"multisigs",initialState:initialState$2,reducers:{reset:()=>initialState$2,mockAddAccount:(_,{payload:a})=>{_.items.push({label:`Multisig Account ${_.items.length}`,type:"multisig",...a})},setMultisigs:(_,{payload:a})=>{const $=lodashExports.fromPairs(_.items.map(j=>[j.address.pkh,j.label]));_.items=a.map((j,et)=>({...j,label:$[j.address.pkh]||_.labelsMap[j.address.pkh]||`Multisig Account ${et}`,type:"multisig"}))},addMultisigLabel:(_,{payload:{pkh:a,label:$}})=>{_.labelsMap[a]=$},setPendingOperations:(_,{payload:a})=>{_.pendingOperations=lodashExports.groupBy(a,$=>$.bigmapId)},setName:(_,{payload:a})=>{const{account:{address:{pkh:$}},newName:j}=a,et=_.items.find(tt=>tt.address.pkh===$);et&&(et.label=j)},removeMultisigsData:(_,{payload:a})=>{const $=_.items.filter(j=>a.includes(j.address.pkh)).map(j=>String(j.pendingOperationsBigmapId));_.pendingOperations=lodashExports.omit(_.pendingOperations,$),_.labelsMap=lodashExports.omit(_.labelsMap,a)}}}),multisigActions=multisigsSlice.actions,initialState$1={available:DefaultNetworks,current:MAINNET},networksSlice=createSlice({name:"networks",initialState:initialState$1,reducers:{reset:()=>initialState$1,setCurrent:(_,{payload:a})=>{_.current=a},upsertNetwork:(_,{payload:a})=>{if(isDefault(a))return;const $=_.available.findIndex(j=>j.name===a.name);if(_.current.name===a.name&&(_.current=a),$!==-1){_.available[$]=a;return}_.available.push(a)},removeNetwork:(_,{payload:a})=>{isDefault(a)||lodashExports.remove(_.available,$=>$.name===a.name)}}}),networksActions=networksSlice.actions,initialState=lodashExports.fromPairs(DefaultNetworks.map(_=>[_.name,{}])),tokensSlice=createSlice({name:"tokens",initialState,reducers:{reset:()=>initialState,addTokens:(_,{payload:{network:a,tokens:$}})=>{lodashExports.compact($.map(fromRaw$1)).forEach(j=>{lodashExports.setWith(_,[a.name,j.contract,j.tokenId],j,Object)})}}}),tokensActions=tokensSlice.actions,rootPersistConfig={key:"root",version:VERSION$1,storage:default_1,blacklist:["accounts"],migrate:createAsyncMigrate(mainStoreMigrations)},accountsPersistConfig={key:"accounts",version:VERSION$1,storage:default_1,migrate:createAsyncMigrate(accountsMigrations)},rootReducers=combineReducers({accounts:persistReducer(accountsPersistConfig,accountsSlice.reducer),announcement:announcementSlice.reducer,assets:assetsSlice.reducer,batches:batchesSlice.reducer,beacon:beaconSlice.reducer,contacts:contactsSlice.reducer,errors:errorsSlice.reducer,multisigs:multisigsSlice.reducer,networks:networksSlice.reducer,tokens:tokensSlice.reducer}),reducer=persistReducer(rootPersistConfig,rootReducers),store=configureStore({reducer,middleware:_=>_({serializableCheck:{ignoredActions:[FLUSH,REHYDRATE,PAUSE,PERSIST,PURGE,REGISTER]}})}),persistor=persistStore(store),FormErrorMessage=({children:_,...a})=>jsxRuntimeExports.jsxs(FormErrorMessage$1,{color:colors.orange,fontSize:"12px",...a,children:[jsxRuntimeExports.jsx(Icon,{as:ExclamationIcon,marginRight:"6px"}),_]}),CONFIRMATION_CODE="wasabi",reset=()=>WalletClient.destroy().catch(lodashExports.noop).finally(()=>{persistor.pause(),localStorage.clear(),window.location.reload()}),OffboardingForm=()=>{const _=useForm({mode:"onBlur"}),{register:a,handleSubmit:$,formState:{isValid:j,errors:et},getValues:tt}=_,rt=()=>{if(!(!tt("check")||tt("confirmationCode")!==CONFIRMATION_CODE))return reset()};return jsxRuntimeExports.jsx(FormProvider,{..._,children:jsxRuntimeExports.jsxs("form",{onSubmit:$(rt),children:[jsxRuntimeExports.jsx(ModalCloseButton,{}),jsxRuntimeExports.jsx(ModalHeader,{marginBottom:"10px",textAlign:"center",children:jsxRuntimeExports.jsxs(Box,{children:[jsxRuntimeExports.jsx(WarningIcon,{width:"40px",height:"40px",marginBottom:"20px"}),jsxRuntimeExports.jsx(Heading,{children:"Off-board Wallet"})]})}),jsxRuntimeExports.jsxs(Box,{children:[jsxRuntimeExports.jsx(Text,{marginBottom:"8px",color:colors.gray[400],fontWeight:"bold",textAlign:"center",size:"sm",children:"This will permanently remove any data from this computer."}),jsxRuntimeExports.jsxs(Text,{color:colors.gray[400],textAlign:"center",size:"sm",children:["Please enter « ",CONFIRMATION_CODE," » to confirm. The accounts are still available to be imported in the future; in order to regain access to your accounts, please make sure that you keep the recovery phrase."]}),jsxRuntimeExports.jsxs(ModalBody,{children:[jsxRuntimeExports.jsx(Divider,{borderColor:colors.gray[700],marginY:"20px"}),jsxRuntimeExports.jsx(FormControl,{isInvalid:!!et.check,children:jsxRuntimeExports.jsx(Checkbox,{...a("check",{required:!0}),children:jsxRuntimeExports.jsx(Text,{marginLeft:"8px",fontWeight:"bold",children:"I have read the warning and I am certain I want to remove my private keys locally. I also made sure to keep my recovery phrase."})})}),jsxRuntimeExports.jsx(Divider,{borderColor:colors.gray[700],marginY:"20px"}),jsxRuntimeExports.jsxs(FormControl,{isInvalid:!!et.confirmationCode,paddingY:5,children:[jsxRuntimeExports.jsx(Input,{type:"text",...a("confirmationCode",{required:"Confirmation is required",validate:nt=>nt===CONFIRMATION_CODE||"Confirmation code does not match"}),placeholder:"Enter code word to confirm"}),et.confirmationCode&&jsxRuntimeExports.jsx(FormErrorMessage,{children:et.confirmationCode.message})]})]})]}),jsxRuntimeExports.jsx(ModalFooter,{padding:0,children:jsxRuntimeExports.jsx(Button,{width:"100%",marginBottom:"8px",isDisabled:!j,size:"lg",type:"submit",variant:"warning",children:"Confirm"})})]})})},useOffboardingModal=()=>{const{isOpen:_,onOpen:a,onClose:$}=useDisclosure$1();return{modalElement:jsxRuntimeExports.jsxs(Modal,{isCentered:!0,isOpen:_,onClose:$,children:[jsxRuntimeExports.jsx(ModalOverlay,{}),jsxRuntimeExports.jsx(ModalContent,{background:colors.gray[900],children:jsxRuntimeExports.jsx(OffboardingForm,{})})]}),onOpen:a}},CircleIcon=({icon:_,size:a,onClick:$=()=>{}})=>jsxRuntimeExports.jsx(Box,{width:a,height:a,margin:"auto",background:colors.gray[700],borderRadius:"full",onClick:$,children:jsxRuntimeExports.jsx(Center,{height:"100%",children:_})}),ModalContentWrapper=({children:_,icon:a,title:$,subtitle:j})=>jsxRuntimeExports.jsxs(VStack,{maxHeight:"83vh",spacing:0,children:[jsxRuntimeExports.jsx(Box,{marginBottom:"16px",children:jsxRuntimeExports.jsx(CircleIcon,{icon:a,size:"48px"})}),jsxRuntimeExports.jsxs(Center,{flexDirection:"column",width:"340px",marginBottom:"32px",children:[jsxRuntimeExports.jsx(Heading,{lineHeight:"26px",size:"xl",children:$}),j&&jsxRuntimeExports.jsx(Text,{marginTop:"10px",color:colors.gray[400],lineHeight:"18px",textAlign:"center",size:"sm",children:j})]}),_]}),name="umami",productName="umami",version="2.2.0",author="Trilitech <umami-admin@trili.tech>",description="Tezos Wallet",homepage="https://umamiwallet.com",repository="https://github.com/trilitech/umami-v2",license="MIT",engines={node:">=20 <21.0.0"},type$5="commonjs",main="build/electron.js",scripts={build:"vite build",dev:"vite dev",preview:"vite preview","electron:package:linux":"electron-builder -l","electron:package:mac":"electron-builder -m","electron:package:mac:debug":"DEBUG=true yarn build --mode dev && sed -i='' 's@devTools: false@devTools: true@g' build/electron.js && yarn electron:package:mac -c electron-builder.dev.yml && rm -rf build","electron:package:win":"electron-builder -w","electron:start":"electronmon .",docs:"typedoc --tsconfig tsconfig.e2e.json","format:ci":"prettier --check .",format:"prettier --write .","lint:ci":"eslint src --ext .js,.jsx,.ts,.tsx --max-warnings=0",lint:"eslint src --ext .js,.jsx,.ts,.tsx --fix",test:"cross-env TZ=CET jest","test:watch":"cross-env DEV=true yarn test --watch","test:e2e":"cross-env TS_NODE_PROJECT=tsconfig.e2e.json cucumber-js","test:e2e:focus":"yarn test:e2e --tags='@focus'","theme:watch":"chakra-cli tokens src/style/theme.ts --watch",theme:"chakra-cli tokens src/style/theme.ts"},devDependencies={"@airgap/beacon-wallet":"^4.2.2","@babel/core":"^7.24.7","@babel/preset-env":"^7.24.7","@babel/preset-react":"^7.24.7","@babel/preset-typescript":"^7.24.7","@babel/runtime":"^7.24.7","@chakra-ui/anatomy":"2.2.2","@chakra-ui/cli":"^2.4.1","@chakra-ui/icons":"^2.1.1","@chakra-ui/react":"^2.8.2","@chakra-ui/styled-system":"2.9.2","@chakra-ui/system":"^2.6.2","@chriscdn/promise-semaphore":"^2.0.9","@cucumber/cucumber":"^10.8.0","@electron/notarize":"^2.3.2","@emotion/react":"^11.11.4","@emotion/styled":"^11.11.5","@ledgerhq/hw-transport-webusb":"^6.28.6","@playwright/test":"^1.44.1","@reduxjs/toolkit":"^2.2.5","@stylistic/eslint-plugin":"^2.1.0","@tanstack/eslint-plugin-query":"^5.43.1","@tanstack/react-query":"^5.44.0","@tanstack/react-query-devtools":"^5.44.0","@taquito/ledger-signer":"^19.2.1","@taquito/michel-codec":"^19.2.1","@taquito/rpc":"^19.2.1","@taquito/signer":"^19.2.1","@taquito/taquito":"19.2.1","@taquito/utils":"^19.2.1","@testing-library/dom":"^10.1.0","@testing-library/jest-dom":"6.4.6","@testing-library/react":"14.3.1","@testing-library/user-event":"14.5.2","@toruslabs/customauth":"^16.0.6","@types/babel__core":"^7.20.5","@types/babel__preset-env":"^7.9.6","@types/identity-obj-proxy":"^3.0.2","@types/jest":"^29.5.12","@types/md5":"^2.3.5","@types/node":"20.14.2","@types/papaparse":"^5.3.14","@types/pluralize":"^0.0.33","@types/promise-retry":"^1.1.6","@types/react":"18.3.3","@types/react-dom":"18.3.0","@types/react-test-renderer":"^18.3.0","@typescript-eslint/eslint-plugin":"^7.12.0","@typescript-eslint/parser":"^7.13.0","@tzkt/sdk-api":"^2.2.1","@vitejs/plugin-react":"^4.3.1",axios:"^1.7.2","babel-jest":"^29.7.0","bignumber.js":"^9.1.2",bip39:"^3.1.0",concurrently:"^8.2.2","cross-env":"^7.0.3","date-fns":"^3.6.0",electron:"^31.0.0","electron-builder":"^24.13.3",electronmon:"^2.0.3",eslint:"^8.57.0","eslint-import-resolver-typescript":"^3.6.1","eslint-plugin-chakra-ui":"^0.11.0","eslint-plugin-deprecation":"^3.0.0","eslint-plugin-import":"^2.29.1","eslint-plugin-jest":"^28.6.0","eslint-plugin-jest-dom":"^5.4.0","eslint-plugin-playwright":"^1.6.2","eslint-plugin-react":"^7.34.2","eslint-plugin-react-hooks":"^4.6.2","eslint-plugin-react-redux":"^4.1.0","eslint-plugin-testing-library":"^6.2.2","eslint-plugin-tsdoc":"^0.3.0","eslint-plugin-unused-imports":"^3.2.0","framer-motion":"^11.2.10","http-server":"^14.1.1","identity-obj-proxy":"^3.0.0",immer:"^10.1.1",jest:"29.7.0","jest-canvas-mock":"^2.5.2","jest-environment-jsdom":"^29.7.0","jest-fail-on-console":"^3.3.0","jest-resolve":"29.7.0","jest-watch-typeahead":"^2.2.2",lodash:"^4.17.21",md5:"^2.3.0",mockdate:"^3.0.5",ordinal:"^1.0.3",papaparse:"^5.4.1",pluralize:"^8.0.0",prettier:"^3.3.2","prettier-plugin-gherkin":"^2.2.1",process:"^0.11.10","promise-retry":"^2.0.1",react:"^18.3.1","react-dom":"^18.3.1","react-error-boundary":"^4.0.13","react-hook-form":"^7.51.5","react-hooks-testing-library":"^0.6.0","react-player":"^2.16.0","react-qrcode-logo":"^3.0.0","react-redux":"9.1.2","react-refresh":"^0.14.2","react-remove-scroll":"^2.5.10","react-responsive-carousel":"^3.2.23","react-router-dom":"^6.23.1","react-test-renderer":"^18.3.1",redux:"^5.0.1","redux-persist":"^6.0.0","ts-node":"^10.9.2",typedoc:"^0.25.13","typedoc-plugin-missing-exports":"^2.2.0",typescript:"5.4.5",vite:"^5.2.13","vite-plugin-checker":"^0.6.4","vite-plugin-node-polyfills":"^0.22.0",zipurl:"^0.2.18",zod:"^3.23.8"},packageManager="yarn@4.3.0",dependencies={"electron-updater":"^6.2.1"},resolutions={jsdom:"^23.0.1","@types/jsdom":"^21.1.6"},packageInfo={name,productName,version,author,description,homepage,repository,license,engines,type:type$5,main,scripts,devDependencies,packageManager,dependencies,resolutions};var withSelector={exports:{}},useSyncExternalStoreWithSelector_production_min={};/**
 * @license React
 * use-sync-external-store-with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var g=reactExports;function n$1(_,a){return _===a&&(_!==0||1/_===1/a)||_!==_&&a!==a}var p=typeof Object.is=="function"?Object.is:n$1,q=g.useSyncExternalStore,r$1=g.useRef,t$3=g.useEffect,u=g.useMemo,v=g.useDebugValue;useSyncExternalStoreWithSelector_production_min.useSyncExternalStoreWithSelector=function(_,a,$,j,et){var tt=r$1(null);if(tt.current===null){var rt={hasValue:!1,value:null};tt.current=rt}else rt=tt.current;tt=u(function(){function it(ht){if(!ot){if(ot=!0,st=ht,ht=j(ht),et!==void 0&&rt.hasValue){var Et=rt.value;if(et(Et,ht))return ct=Et}return ct=ht}if(Et=ct,p(st,ht))return Et;var St=j(ht);return et!==void 0&&et(Et,St)?Et:(st=ht,ct=St)}var ot=!1,st,ct,ut=$===void 0?null:$;return[function(){return it(a())},ut===null?void 0:function(){return it(ut())}]},[a,$,j,et]);var nt=q(_,tt[0],tt[1]);return t$3(function(){rt.hasValue=!0,rt.value=nt},[nt]),v(nt),nt};withSelector.exports=useSyncExternalStoreWithSelector_production_min;var withSelectorExports=withSelector.exports,React$1="default"in React$3?React$2:React$3,ContextKey=Symbol.for("react-redux-context"),gT=typeof globalThis<"u"?globalThis:{};function getContext(){if(!React$1.createContext)return{};const _=gT[ContextKey]??(gT[ContextKey]=new Map);let a=_.get(React$1.createContext);return a||(a=React$1.createContext(null),_.set(React$1.createContext,a)),a}var ReactReduxContext=getContext(),notInitialized=()=>{throw new Error("uSES not initialized!")};function createReduxContextHook(_=ReactReduxContext){return function(){return React$1.useContext(_)}}var useReduxContext=createReduxContextHook(),useSyncExternalStoreWithSelector=notInitialized,initializeUseSelector=_=>{useSyncExternalStoreWithSelector=_},refEquality=(_,a)=>_===a;function createSelectorHook(_=ReactReduxContext){const a=_===ReactReduxContext?useReduxContext:createReduxContextHook(_),$=(j,et={})=>{const{equalityFn:tt=refEquality,devModeChecks:rt={}}=typeof et=="function"?{equalityFn:et}:et,{store:nt,subscription:it,getServerState:ot,stabilityCheck:st,identityFunctionCheck:ct}=a();React$1.useRef(!0);const ut=React$1.useCallback({[j.name](Et){return j(Et)}}[j.name],[j,st,rt.stabilityCheck]),ht=useSyncExternalStoreWithSelector(it.addNestedSub,nt.getState,ot||nt.getState,ut,tt);return React$1.useDebugValue(ht),ht};return Object.assign($,{withTypes:()=>$}),$}var useSelector=createSelectorHook();function defaultNoopBatch(_){_()}function createListenerCollection(){let _=null,a=null;return{clear(){_=null,a=null},notify(){defaultNoopBatch(()=>{let $=_;for(;$;)$.callback(),$=$.next})},get(){const $=[];let j=_;for(;j;)$.push(j),j=j.next;return $},subscribe($){let j=!0;const et=a={callback:$,next:null,prev:a};return et.prev?et.prev.next=et:_=et,function(){!j||_===null||(j=!1,et.next?et.next.prev=et.prev:a=et.prev,et.prev?et.prev.next=et.next:_=et.next)}}}}var nullListeners={notify(){},get:()=>[]};function createSubscription(_,a){let $,j=nullListeners,et=0,tt=!1;function rt(St){st();const Mt=j.subscribe(St);let kt=!1;return()=>{kt||(kt=!0,Mt(),ct())}}function nt(){j.notify()}function it(){Et.onStateChange&&Et.onStateChange()}function ot(){return tt}function st(){et++,$||($=_.subscribe(it),j=createListenerCollection())}function ct(){et--,$&&et===0&&($(),$=void 0,j.clear(),j=nullListeners)}function ut(){tt||(tt=!0,st())}function ht(){tt&&(tt=!1,ct())}const Et={addNestedSub:rt,notifyNestedSubs:nt,handleChangeWrapper:it,isSubscribed:ot,trySubscribe:ut,tryUnsubscribe:ht,getListeners:()=>j};return Et}var canUseDOM=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",isReactNative$1=typeof navigator<"u"&&navigator.product==="ReactNative",useIsomorphicLayoutEffect$1=canUseDOM||isReactNative$1?React$1.useLayoutEffect:React$1.useEffect;function Provider$1({store:_,context:a,children:$,serverState:j,stabilityCheck:et="once",identityFunctionCheck:tt="once"}){const rt=React$1.useMemo(()=>{const ot=createSubscription(_);return{store:_,subscription:ot,getServerState:j?()=>j:void 0,stabilityCheck:et,identityFunctionCheck:tt}},[_,j,et,tt]),nt=React$1.useMemo(()=>_.getState(),[_]);useIsomorphicLayoutEffect$1(()=>{const{subscription:ot}=rt;return ot.onStateChange=ot.notifyNestedSubs,ot.trySubscribe(),nt!==_.getState()&&ot.notifyNestedSubs(),()=>{ot.tryUnsubscribe(),ot.onStateChange=void 0}},[rt,nt]);const it=a||ReactReduxContext;return React$1.createElement(it.Provider,{value:rt},$)}var Provider_default=Provider$1;function createStoreHook(_=ReactReduxContext){const a=_===ReactReduxContext?useReduxContext:createReduxContextHook(_),$=()=>{const{store:j}=a();return j};return Object.assign($,{withTypes:()=>$}),$}var useStore=createStoreHook();function createDispatchHook(_=ReactReduxContext){const a=_===ReactReduxContext?useStore:createStoreHook(_),$=()=>a().dispatch;return Object.assign($,{withTypes:()=>$}),$}var useDispatch=createDispatchHook();initializeUseSelector(withSelectorExports.useSyncExternalStoreWithSelector);const useAppDispatch=useDispatch,useAppSelector=useSelector,useSelectedNetwork=()=>useAppSelector(_=>_.networks.current),useAvailableNetworks=()=>useAppSelector(_=>_.networks.available),useFindNetwork=()=>{const _=useAvailableNetworks();return a=>_.find($=>$.name.toLowerCase()===a.toLowerCase())},useSelectNetwork=()=>{const _=useAvailableNetworks(),a=useDispatch();return $=>{const j=_.find(et=>et.name===$);j&&a(networksActions.setCurrent(j))}},useGetToken=()=>{const _=useSelectedNetwork(),a=useAppSelector($=>$.tokens[_.name]);return($,j)=>lodashExports.get(a,[$,j])},useGetTokenType=_=>{const a=useAppSelector($=>$.tokens[_.name]);return $=>{if(!(a&&$ in a))return;const j=a[$],et=Object.keys(j)[0];if(et)return j[et].type}},errorClasses={},deserializers={},addCustomErrorDeserializer=(_,a)=>{deserializers[_]=a},createCustomErrorClass=_=>{class a extends Error{constructor(j,et,tt){if(super(j||_,tt),Object.setPrototypeOf(this,a.prototype),this.name=_,et)for(const rt in et)this[rt]=et[rt];if(tt&&isObject$1(tt)&&"cause"in tt&&!("cause"in this)){const rt=tt.cause;this.cause=rt,"stack"in rt&&(this.stack=this.stack+`
CAUSE: `+rt.stack)}}}return errorClasses[_]=a,a};function isObject$1(_){return typeof _=="object"}createCustomErrorClass("AccountNameRequired");createCustomErrorClass("AccountNotSupported");createCustomErrorClass("AmountRequired");createCustomErrorClass("BluetoothRequired");createCustomErrorClass("BtcUnmatchedApp");createCustomErrorClass("CantOpenDevice");createCustomErrorClass("CashAddrNotSupported");createCustomErrorClass("ClaimRewardsFeesWarning");createCustomErrorClass("CurrencyNotSupported");createCustomErrorClass("DeviceAppVerifyNotSupported");createCustomErrorClass("DeviceGenuineSocketEarlyClose");createCustomErrorClass("DeviceNotGenuine");createCustomErrorClass("DeviceOnDashboardExpected");createCustomErrorClass("DeviceOnDashboardUnexpected");createCustomErrorClass("DeviceInOSUExpected");createCustomErrorClass("DeviceHalted");createCustomErrorClass("DeviceNameInvalid");createCustomErrorClass("DeviceSocketFail");createCustomErrorClass("DeviceSocketNoBulkStatus");createCustomErrorClass("DeviceSocketNoBulkStatus");createCustomErrorClass("UnresponsiveDeviceError");const DisconnectedDevice=createCustomErrorClass("DisconnectedDevice"),DisconnectedDeviceDuringOperation=createCustomErrorClass("DisconnectedDeviceDuringOperation");createCustomErrorClass("DeviceExtractOnboardingStateError");createCustomErrorClass("DeviceOnboardingStatePollingError");createCustomErrorClass("EnpointConfig");createCustomErrorClass("EthAppPleaseEnableContractData");createCustomErrorClass("FeeEstimationFailed");createCustomErrorClass("FirmwareNotRecognized");createCustomErrorClass("HardResetFail");createCustomErrorClass("InvalidXRPTag");createCustomErrorClass("InvalidAddress");createCustomErrorClass("InvalidNonce");createCustomErrorClass("InvalidAddressBecauseDestinationIsAlsoSource");createCustomErrorClass("LatestMCUInstalledError");createCustomErrorClass("UnknownMCU");createCustomErrorClass("LedgerAPIError");createCustomErrorClass("LedgerAPIErrorWithMessage");createCustomErrorClass("LedgerAPINotAvailable");createCustomErrorClass("ManagerAppAlreadyInstalled");createCustomErrorClass("ManagerAppRelyOnBTC");createCustomErrorClass("ManagerAppDepInstallRequired");createCustomErrorClass("ManagerAppDepUninstallRequired");createCustomErrorClass("ManagerDeviceLocked");createCustomErrorClass("ManagerFirmwareNotEnoughSpace");createCustomErrorClass("ManagerNotEnoughSpace");createCustomErrorClass("ManagerUninstallBTCDep");createCustomErrorClass("NetworkDown");createCustomErrorClass("NetworkError");createCustomErrorClass("NoAddressesFound");createCustomErrorClass("NotEnoughBalance");createCustomErrorClass("NotEnoughBalanceToDelegate");createCustomErrorClass("NotEnoughBalanceInParentAccount");createCustomErrorClass("NotEnoughSpendableBalance");createCustomErrorClass("NotEnoughBalanceBecauseDestinationNotCreated");createCustomErrorClass("NoAccessToCamera");createCustomErrorClass("NotEnoughGas");createCustomErrorClass("NotEnoughGasSwap");createCustomErrorClass("NotSupportedLegacyAddress");createCustomErrorClass("GasLessThanEstimate");createCustomErrorClass("PriorityFeeTooLow");createCustomErrorClass("PriorityFeeTooHigh");createCustomErrorClass("PriorityFeeHigherThanMaxFee");createCustomErrorClass("MaxFeeTooLow");createCustomErrorClass("PasswordsDontMatch");createCustomErrorClass("PasswordIncorrect");createCustomErrorClass("RecommendSubAccountsToEmpty");createCustomErrorClass("RecommendUndelegation");createCustomErrorClass("TimeoutTagged");createCustomErrorClass("UnexpectedBootloader");createCustomErrorClass("MCUNotGenuineToDashboard");createCustomErrorClass("RecipientRequired");createCustomErrorClass("UnavailableTezosOriginatedAccountReceive");createCustomErrorClass("UnavailableTezosOriginatedAccountSend");createCustomErrorClass("UpdateFetchFileFail");createCustomErrorClass("UpdateIncorrectHash");createCustomErrorClass("UpdateIncorrectSig");createCustomErrorClass("UpdateYourApp");createCustomErrorClass("UserRefusedDeviceNameChange");createCustomErrorClass("UserRefusedAddress");createCustomErrorClass("UserRefusedFirmwareUpdate");createCustomErrorClass("UserRefusedAllowManager");createCustomErrorClass("UserRefusedOnDevice");createCustomErrorClass("ExpertModeRequired");const TransportOpenUserCancelled=createCustomErrorClass("TransportOpenUserCancelled"),TransportInterfaceNotAvailable=createCustomErrorClass("TransportInterfaceNotAvailable"),TransportPendingOperation=createCustomErrorClass("TransportPendingOperation"),TransportWebUSBGestureRequired=createCustomErrorClass("TransportWebUSBGestureRequired");createCustomErrorClass("TransactionHasBeenValidatedError");createCustomErrorClass("TransportExchangeTimeoutError");createCustomErrorClass("DeviceShouldStayInApp");createCustomErrorClass("WebsocketConnectionError");createCustomErrorClass("WebsocketConnectionFailed");createCustomErrorClass("WrongDeviceForAccount");createCustomErrorClass("WrongDeviceForAccountPayout");createCustomErrorClass("WrongDeviceForAccountRefund");createCustomErrorClass("WrongAppForCurrency");createCustomErrorClass("ETHAddressNonEIP");createCustomErrorClass("CantScanQRCode");createCustomErrorClass("FeeNotLoaded");createCustomErrorClass("FeeNotLoadedSwap");createCustomErrorClass("FeeRequired");createCustomErrorClass("FeeTooHigh");createCustomErrorClass("PendingOperation");createCustomErrorClass("SyncError");createCustomErrorClass("PairingFailed");createCustomErrorClass("PeerRemovedPairing");createCustomErrorClass("GenuineCheckFailed");createCustomErrorClass("LedgerAPI4xx");createCustomErrorClass("LedgerAPI5xx");createCustomErrorClass("FirmwareOrAppUpdateRequired");createCustomErrorClass("ReplacementTransactionUnderpriced");createCustomErrorClass("OpReturnSizeLimit");createCustomErrorClass("DustLimit");createCustomErrorClass("LanguageNotFound");createCustomErrorClass("NoDBPathGiven");createCustomErrorClass("DBWrongPassword");createCustomErrorClass("DBNotReset");createCustomErrorClass("SequenceNumberError");createCustomErrorClass("DisabledTransactionBroadcastError");var HwTransportErrorType;(function(_){_.Unknown="Unknown",_.LocationServicesDisabled="LocationServicesDisabled",_.LocationServicesUnauthorized="LocationServicesUnauthorized",_.BluetoothScanStartFailed="BluetoothScanStartFailed"})(HwTransportErrorType||(HwTransportErrorType={}));let TransportError$1=class extends Error{constructor(a,$){const j="TransportError";super(a||j),this.name=j,this.message=a,this.stack=new Error(a).stack,this.id=$}};addCustomErrorDeserializer("TransportError",_=>new TransportError$1(_.message,_.id));const StatusCodes={ACCESS_CONDITION_NOT_FULFILLED:38916,ALGORITHM_NOT_SUPPORTED:38020,CLA_NOT_SUPPORTED:28160,CODE_BLOCKED:38976,CODE_NOT_INITIALIZED:38914,COMMAND_INCOMPATIBLE_FILE_STRUCTURE:27009,CONDITIONS_OF_USE_NOT_SATISFIED:27013,CONTRADICTION_INVALIDATION:38928,CONTRADICTION_SECRET_CODE_STATUS:38920,CUSTOM_IMAGE_BOOTLOADER:26159,CUSTOM_IMAGE_EMPTY:26158,FILE_ALREADY_EXISTS:27273,FILE_NOT_FOUND:37892,GP_AUTH_FAILED:25344,HALTED:28586,INCONSISTENT_FILE:37896,INCORRECT_DATA:27264,INCORRECT_LENGTH:26368,INCORRECT_P1_P2:27392,INS_NOT_SUPPORTED:27904,DEVICE_NOT_ONBOARDED:27911,DEVICE_NOT_ONBOARDED_2:26129,INVALID_KCV:38021,INVALID_OFFSET:37890,LICENSING:28482,LOCKED_DEVICE:21781,MAX_VALUE_REACHED:38992,MEMORY_PROBLEM:37440,MISSING_CRITICAL_PARAMETER:26624,NO_EF_SELECTED:37888,NOT_ENOUGH_MEMORY_SPACE:27268,OK:36864,PIN_REMAINING_ATTEMPTS:25536,REFERENCED_DATA_NOT_FOUND:27272,SECURITY_STATUS_NOT_SATISFIED:27010,TECHNICAL_PROBLEM:28416,UNKNOWN_APDU:27906,USER_REFUSED_ON_DEVICE:21761,NOT_ENOUGH_SPACE:20738};function getAltStatusMessage(_){switch(_){case 26368:return"Incorrect length";case 26624:return"Missing critical parameter";case 27010:return"Security not satisfied (dongle locked or have invalid access rights)";case 27013:return"Condition of use not satisfied (denied by the user?)";case 27264:return"Invalid data received";case 27392:return"Invalid parameter received";case 21781:return"Locked device"}if(28416<=_&&_<=28671)return"Internal error, please report"}class TransportStatusError extends Error{constructor(a,{canBeMappedToChildError:$=!0}={}){const j=Object.keys(StatusCodes).find(nt=>StatusCodes[nt]===a)||"UNKNOWN_ERROR",et=getAltStatusMessage(a)||j,tt=a.toString(16),rt=`Ledger device: ${et} (0x${tt})`;if(super(rt),this.name="TransportStatusError",this.statusCode=a,this.statusText=j,Object.setPrototypeOf(this,TransportStatusError.prototype),$&&a===StatusCodes.LOCKED_DEVICE)return new LockedDeviceError(rt)}}class LockedDeviceError extends TransportStatusError{constructor(a){super(StatusCodes.LOCKED_DEVICE,{canBeMappedToChildError:!1}),a&&(this.message=a),this.name="LockedDeviceError",Object.setPrototypeOf(this,LockedDeviceError.prototype)}}addCustomErrorDeserializer("TransportStatusError",_=>new TransportStatusError(_.statusCode));let id=0;const subscribers=[],log$8=(_,a,$)=>{const j={type:_,id:String(++id),date:new Date};a&&(j.message=a),dispatch(j)},trace=({type:_,message:a,data:$,context:j})=>{const et={type:_,id:String(++id),date:new Date};a&&(et.message=a),$&&(et.data=$),j&&(et.context=j),dispatch(et)};class LocalTracer{constructor(a,$){this.type=a,this.context=$}trace(a,$){trace({type:this.type,message:a,data:$,context:this.context})}getContext(){return this.context}setContext(a){this.context=a}updateContext(a){this.context=Object.assign(Object.assign({},this.context),a)}getType(){return this.type}setType(a){this.type=a}withType(a){return new LocalTracer(a,this.context)}withContext(a){return new LocalTracer(this.type,a)}withUpdatedContext(a){return new LocalTracer(this.type,Object.assign(Object.assign({},this.context),a))}}const listen=_=>(subscribers.push(_),()=>{const a=subscribers.indexOf(_);a!==-1&&(subscribers[a]=subscribers[subscribers.length-1],subscribers.pop())});function dispatch(_){for(let a=0;a<subscribers.length;a++)try{subscribers[a](_)}catch($){console.error($)}}typeof window<"u"&&(window.__ledgerLogsListen=listen);var __awaiter$7=function(_,a,$,j){function et(tt){return tt instanceof $?tt:new $(function(rt){rt(tt)})}return new($||($=Promise))(function(tt,rt){function nt(st){try{ot(j.next(st))}catch(ct){rt(ct)}}function it(st){try{ot(j.throw(st))}catch(ct){rt(ct)}}function ot(st){st.done?tt(st.value):et(st.value).then(nt,it)}ot((j=j.apply(_,a||[])).next())})};const DEFAULT_LOG_TYPE="transport";let Transport$1=class{constructor({context:a,logType:$}={}){this.exchangeTimeout=3e4,this.unresponsiveTimeout=15e3,this.deviceModel=null,this._events=new EventEmitter$2,this.send=(j,et,tt,rt,nt=Buffer$g.alloc(0),it=[StatusCodes.OK],{abortTimeoutMs:ot}={})=>__awaiter$7(this,void 0,void 0,function*(){const st=this.tracer.withUpdatedContext({function:"send"});if(nt.length>=256)throw st.trace("data.length exceeded 256 bytes limit",{dataLength:nt.length}),new TransportError$1("data.length exceed 256 bytes limit. Got: "+nt.length,"DataLengthTooBig");st.trace("Starting an exchange",{abortTimeoutMs:ot});const ct=yield this.exchange(Buffer$g.concat([Buffer$g.from([j,et,tt,rt]),Buffer$g.from([nt.length]),nt]),{abortTimeoutMs:ot});st.trace("Received response from exchange");const ut=ct.readUInt16BE(ct.length-2);if(!it.some(ht=>ht===ut))throw new TransportStatusError(ut);return ct}),this._appAPIlock=null,this.tracer=new LocalTracer($??DEFAULT_LOG_TYPE,a)}exchange(a,{abortTimeoutMs:$}={}){throw new Error("exchange not implemented")}exchangeBulk(a,$){let j=!1;const et=()=>{j=!0};return __awaiter$7(this,void 0,void 0,function*(){if(!j)for(const rt of a){const nt=yield this.exchange(rt);if(j)return;const it=nt.readUInt16BE(nt.length-2);if(it!==StatusCodes.OK)throw new TransportStatusError(it);$.next(nt)}}).then(()=>!j&&$.complete(),rt=>!j&&$.error(rt)),{unsubscribe:et}}setScrambleKey(a){}close(){return Promise.resolve()}on(a,$){this._events.on(a,$)}off(a,$){this._events.removeListener(a,$)}emit(a,...$){this._events.emit(a,...$)}setDebugMode(){console.warn("setDebugMode is deprecated. use @ledgerhq/logs instead. No logs are emitted in this anymore.")}setExchangeTimeout(a){this.exchangeTimeout=a}setExchangeUnresponsiveTimeout(a){this.unresponsiveTimeout=a}static create(a=3e3,$){return new Promise((j,et)=>{let tt=!1;const rt=this.listen({next:it=>{tt=!0,rt&&rt.unsubscribe(),nt&&clearTimeout(nt),this.open(it.descriptor,a).then(j,et)},error:it=>{nt&&clearTimeout(nt),et(it)},complete:()=>{nt&&clearTimeout(nt),tt||et(new TransportError$1(this.ErrorMessage_NoDeviceFound,"NoDeviceFound"))}}),nt=$?setTimeout(()=>{rt.unsubscribe(),et(new TransportError$1(this.ErrorMessage_ListenTimeout,"ListenTimeout"))},$):null})}exchangeAtomicImpl(a){return __awaiter$7(this,void 0,void 0,function*(){const $=this.tracer.withUpdatedContext({function:"exchangeAtomicImpl",unresponsiveTimeout:this.unresponsiveTimeout});if(this.exchangeBusyPromise)throw $.trace("Atomic exchange is already busy"),new TransportPendingOperation("An action was already pending on the Ledger device. Please deny or reconnect.");let j;const et=new Promise(nt=>{j=nt});this.exchangeBusyPromise=et;let tt=!1;const rt=setTimeout(()=>{$.trace('Timeout reached, emitting Transport event "unresponsive"',{unresponsiveTimeout:this.unresponsiveTimeout}),tt=!0,this.emit("unresponsive")},this.unresponsiveTimeout);try{const nt=yield a();return tt&&($.trace("Device was unresponsive, emitting responsive"),this.emit("responsive")),nt}finally{$.trace("Finalize, clearing busy guard"),clearTimeout(rt),j&&j(),this.exchangeBusyPromise=null}})}decorateAppAPIMethods(a,$,j){for(const et of $)a[et]=this.decorateAppAPIMethod(et,a[et],a,j)}decorateAppAPIMethod(a,$,j,et){return(...tt)=>__awaiter$7(this,void 0,void 0,function*(){const{_appAPIlock:rt}=this;if(rt)return Promise.reject(new TransportError$1("Ledger Device is busy (lock "+rt+")","TransportLocked"));try{return this._appAPIlock=a,this.setScrambleKey(et),yield $.apply(j,tt)}finally{this._appAPIlock=null}})}setTraceContext(a){this.tracer=this.tracer.withContext(a)}updateTraceContext(a){this.tracer.updateContext(a)}getTraceContext(){return this.tracer.getContext()}};Transport$1.ErrorMessage_ListenTimeout="No Ledger device found (timeout)";Transport$1.ErrorMessage_NoDeviceFound="No Ledger device found";const Tag$1=5;function asUInt16BE(_){const a=Buffer$g.alloc(2);return a.writeUInt16BE(_,0),a}const initialAcc={data:Buffer$g.alloc(0),dataLength:0,sequence:0},createHIDframing=(_,a)=>({makeBlocks($){let j=Buffer$g.concat([asUInt16BE($.length),$]);const et=a-5,tt=Math.ceil(j.length/et);j=Buffer$g.concat([j,Buffer$g.alloc(tt*et-j.length+1).fill(0)]);const rt=[];for(let nt=0;nt<tt;nt++){const it=Buffer$g.alloc(5);it.writeUInt16BE(_,0),it.writeUInt8(Tag$1,2),it.writeUInt16BE(nt,3);const ot=j.slice(nt*et,(nt+1)*et);rt.push(Buffer$g.concat([it,ot]))}return rt},reduceResponse($,j){let{data:et,dataLength:tt,sequence:rt}=$||initialAcc;if(j.readUInt16BE(0)!==_)throw new TransportError$1("Invalid channel","InvalidChannel");if(j.readUInt8(2)!==Tag$1)throw new TransportError$1("Invalid tag","InvalidTag");if(j.readUInt16BE(3)!==rt)throw new TransportError$1("Invalid sequence","InvalidSequence");$||(tt=j.readUInt16BE(5)),rt++;const nt=j.slice($?5:7);return et=Buffer$g.concat([et,nt]),et.length>tt&&(et=et.slice(0,tt)),{data:et,dataLength:tt,sequence:rt}},getReducedResult($){if($&&$.dataLength===$.data.length)return $.data}});var re$3={exports:{}};const SEMVER_SPEC_VERSION="2.0.0",MAX_LENGTH$1=256,MAX_SAFE_INTEGER$1=Number.MAX_SAFE_INTEGER||9007199254740991,MAX_SAFE_COMPONENT_LENGTH=16,MAX_SAFE_BUILD_LENGTH=MAX_LENGTH$1-6,RELEASE_TYPES=["major","premajor","minor","preminor","patch","prepatch","prerelease"];var constants$1={MAX_LENGTH:MAX_LENGTH$1,MAX_SAFE_COMPONENT_LENGTH,MAX_SAFE_BUILD_LENGTH,MAX_SAFE_INTEGER:MAX_SAFE_INTEGER$1,RELEASE_TYPES,SEMVER_SPEC_VERSION,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2},define_process_env_default={};const debug$1=typeof process$1$1=="object"&&define_process_env_default&&define_process_env_default.NODE_DEBUG&&/\bsemver\b/i.test(define_process_env_default.NODE_DEBUG)?(..._)=>console.error("SEMVER",..._):()=>{};var debug_1=debug$1;(function(_,a){const{MAX_SAFE_COMPONENT_LENGTH:$,MAX_SAFE_BUILD_LENGTH:j,MAX_LENGTH:et}=constants$1,tt=debug_1;a=_.exports={};const rt=a.re=[],nt=a.safeRe=[],it=a.src=[],ot=a.t={};let st=0;const ct="[a-zA-Z0-9-]",ut=[["\\s",1],["\\d",et],[ct,j]],ht=St=>{for(const[Mt,kt]of ut)St=St.split(`${Mt}*`).join(`${Mt}{0,${kt}}`).split(`${Mt}+`).join(`${Mt}{1,${kt}}`);return St},Et=(St,Mt,kt)=>{const Ct=ht(Mt),Ot=st++;tt(St,Ot,Mt),ot[St]=Ot,it[Ot]=Mt,rt[Ot]=new RegExp(Mt,kt?"g":void 0),nt[Ot]=new RegExp(Ct,kt?"g":void 0)};Et("NUMERICIDENTIFIER","0|[1-9]\\d*"),Et("NUMERICIDENTIFIERLOOSE","\\d+"),Et("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${ct}*`),Et("MAINVERSION",`(${it[ot.NUMERICIDENTIFIER]})\\.(${it[ot.NUMERICIDENTIFIER]})\\.(${it[ot.NUMERICIDENTIFIER]})`),Et("MAINVERSIONLOOSE",`(${it[ot.NUMERICIDENTIFIERLOOSE]})\\.(${it[ot.NUMERICIDENTIFIERLOOSE]})\\.(${it[ot.NUMERICIDENTIFIERLOOSE]})`),Et("PRERELEASEIDENTIFIER",`(?:${it[ot.NUMERICIDENTIFIER]}|${it[ot.NONNUMERICIDENTIFIER]})`),Et("PRERELEASEIDENTIFIERLOOSE",`(?:${it[ot.NUMERICIDENTIFIERLOOSE]}|${it[ot.NONNUMERICIDENTIFIER]})`),Et("PRERELEASE",`(?:-(${it[ot.PRERELEASEIDENTIFIER]}(?:\\.${it[ot.PRERELEASEIDENTIFIER]})*))`),Et("PRERELEASELOOSE",`(?:-?(${it[ot.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${it[ot.PRERELEASEIDENTIFIERLOOSE]})*))`),Et("BUILDIDENTIFIER",`${ct}+`),Et("BUILD",`(?:\\+(${it[ot.BUILDIDENTIFIER]}(?:\\.${it[ot.BUILDIDENTIFIER]})*))`),Et("FULLPLAIN",`v?${it[ot.MAINVERSION]}${it[ot.PRERELEASE]}?${it[ot.BUILD]}?`),Et("FULL",`^${it[ot.FULLPLAIN]}$`),Et("LOOSEPLAIN",`[v=\\s]*${it[ot.MAINVERSIONLOOSE]}${it[ot.PRERELEASELOOSE]}?${it[ot.BUILD]}?`),Et("LOOSE",`^${it[ot.LOOSEPLAIN]}$`),Et("GTLT","((?:<|>)?=?)"),Et("XRANGEIDENTIFIERLOOSE",`${it[ot.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),Et("XRANGEIDENTIFIER",`${it[ot.NUMERICIDENTIFIER]}|x|X|\\*`),Et("XRANGEPLAIN",`[v=\\s]*(${it[ot.XRANGEIDENTIFIER]})(?:\\.(${it[ot.XRANGEIDENTIFIER]})(?:\\.(${it[ot.XRANGEIDENTIFIER]})(?:${it[ot.PRERELEASE]})?${it[ot.BUILD]}?)?)?`),Et("XRANGEPLAINLOOSE",`[v=\\s]*(${it[ot.XRANGEIDENTIFIERLOOSE]})(?:\\.(${it[ot.XRANGEIDENTIFIERLOOSE]})(?:\\.(${it[ot.XRANGEIDENTIFIERLOOSE]})(?:${it[ot.PRERELEASELOOSE]})?${it[ot.BUILD]}?)?)?`),Et("XRANGE",`^${it[ot.GTLT]}\\s*${it[ot.XRANGEPLAIN]}$`),Et("XRANGELOOSE",`^${it[ot.GTLT]}\\s*${it[ot.XRANGEPLAINLOOSE]}$`),Et("COERCEPLAIN",`(^|[^\\d])(\\d{1,${$}})(?:\\.(\\d{1,${$}}))?(?:\\.(\\d{1,${$}}))?`),Et("COERCE",`${it[ot.COERCEPLAIN]}(?:$|[^\\d])`),Et("COERCEFULL",it[ot.COERCEPLAIN]+`(?:${it[ot.PRERELEASE]})?(?:${it[ot.BUILD]})?(?:$|[^\\d])`),Et("COERCERTL",it[ot.COERCE],!0),Et("COERCERTLFULL",it[ot.COERCEFULL],!0),Et("LONETILDE","(?:~>?)"),Et("TILDETRIM",`(\\s*)${it[ot.LONETILDE]}\\s+`,!0),a.tildeTrimReplace="$1~",Et("TILDE",`^${it[ot.LONETILDE]}${it[ot.XRANGEPLAIN]}$`),Et("TILDELOOSE",`^${it[ot.LONETILDE]}${it[ot.XRANGEPLAINLOOSE]}$`),Et("LONECARET","(?:\\^)"),Et("CARETTRIM",`(\\s*)${it[ot.LONECARET]}\\s+`,!0),a.caretTrimReplace="$1^",Et("CARET",`^${it[ot.LONECARET]}${it[ot.XRANGEPLAIN]}$`),Et("CARETLOOSE",`^${it[ot.LONECARET]}${it[ot.XRANGEPLAINLOOSE]}$`),Et("COMPARATORLOOSE",`^${it[ot.GTLT]}\\s*(${it[ot.LOOSEPLAIN]})$|^$`),Et("COMPARATOR",`^${it[ot.GTLT]}\\s*(${it[ot.FULLPLAIN]})$|^$`),Et("COMPARATORTRIM",`(\\s*)${it[ot.GTLT]}\\s*(${it[ot.LOOSEPLAIN]}|${it[ot.XRANGEPLAIN]})`,!0),a.comparatorTrimReplace="$1$2$3",Et("HYPHENRANGE",`^\\s*(${it[ot.XRANGEPLAIN]})\\s+-\\s+(${it[ot.XRANGEPLAIN]})\\s*$`),Et("HYPHENRANGELOOSE",`^\\s*(${it[ot.XRANGEPLAINLOOSE]})\\s+-\\s+(${it[ot.XRANGEPLAINLOOSE]})\\s*$`),Et("STAR","(<|>)?=?\\s*\\*"),Et("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),Et("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(re$3,re$3.exports);var reExports=re$3.exports;const looseOption=Object.freeze({loose:!0}),emptyOpts=Object.freeze({}),parseOptions$1=_=>_?typeof _!="object"?looseOption:_:emptyOpts;var parseOptions_1=parseOptions$1;const numeric=/^[0-9]+$/,compareIdentifiers$1=(_,a)=>{const $=numeric.test(_),j=numeric.test(a);return $&&j&&(_=+_,a=+a),_===a?0:$&&!j?-1:j&&!$?1:_<a?-1:1},rcompareIdentifiers=(_,a)=>compareIdentifiers$1(a,_);var identifiers$1={compareIdentifiers:compareIdentifiers$1,rcompareIdentifiers};const debug=debug_1,{MAX_LENGTH,MAX_SAFE_INTEGER}=constants$1,{safeRe:re$2,t:t$2}=reExports,parseOptions=parseOptions_1,{compareIdentifiers}=identifiers$1;let SemVer$d=class zo{constructor(a,$){if($=parseOptions($),a instanceof zo){if(a.loose===!!$.loose&&a.includePrerelease===!!$.includePrerelease)return a;a=a.version}else if(typeof a!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof a}".`);if(a.length>MAX_LENGTH)throw new TypeError(`version is longer than ${MAX_LENGTH} characters`);debug("SemVer",a,$),this.options=$,this.loose=!!$.loose,this.includePrerelease=!!$.includePrerelease;const j=a.trim().match($.loose?re$2[t$2.LOOSE]:re$2[t$2.FULL]);if(!j)throw new TypeError(`Invalid Version: ${a}`);if(this.raw=a,this.major=+j[1],this.minor=+j[2],this.patch=+j[3],this.major>MAX_SAFE_INTEGER||this.major<0)throw new TypeError("Invalid major version");if(this.minor>MAX_SAFE_INTEGER||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>MAX_SAFE_INTEGER||this.patch<0)throw new TypeError("Invalid patch version");j[4]?this.prerelease=j[4].split(".").map(et=>{if(/^[0-9]+$/.test(et)){const tt=+et;if(tt>=0&&tt<MAX_SAFE_INTEGER)return tt}return et}):this.prerelease=[],this.build=j[5]?j[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(a){if(debug("SemVer.compare",this.version,this.options,a),!(a instanceof zo)){if(typeof a=="string"&&a===this.version)return 0;a=new zo(a,this.options)}return a.version===this.version?0:this.compareMain(a)||this.comparePre(a)}compareMain(a){return a instanceof zo||(a=new zo(a,this.options)),compareIdentifiers(this.major,a.major)||compareIdentifiers(this.minor,a.minor)||compareIdentifiers(this.patch,a.patch)}comparePre(a){if(a instanceof zo||(a=new zo(a,this.options)),this.prerelease.length&&!a.prerelease.length)return-1;if(!this.prerelease.length&&a.prerelease.length)return 1;if(!this.prerelease.length&&!a.prerelease.length)return 0;let $=0;do{const j=this.prerelease[$],et=a.prerelease[$];if(debug("prerelease compare",$,j,et),j===void 0&&et===void 0)return 0;if(et===void 0)return 1;if(j===void 0)return-1;if(j===et)continue;return compareIdentifiers(j,et)}while(++$)}compareBuild(a){a instanceof zo||(a=new zo(a,this.options));let $=0;do{const j=this.build[$],et=a.build[$];if(debug("build compare",$,j,et),j===void 0&&et===void 0)return 0;if(et===void 0)return 1;if(j===void 0)return-1;if(j===et)continue;return compareIdentifiers(j,et)}while(++$)}inc(a,$,j){switch(a){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",$,j);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",$,j);break;case"prepatch":this.prerelease.length=0,this.inc("patch",$,j),this.inc("pre",$,j);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",$,j),this.inc("pre",$,j);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const et=Number(j)?1:0;if(!$&&j===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[et];else{let tt=this.prerelease.length;for(;--tt>=0;)typeof this.prerelease[tt]=="number"&&(this.prerelease[tt]++,tt=-2);if(tt===-1){if($===this.prerelease.join(".")&&j===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(et)}}if($){let tt=[$,et];j===!1&&(tt=[$]),compareIdentifiers(this.prerelease[0],$)===0?isNaN(this.prerelease[1])&&(this.prerelease=tt):this.prerelease=tt}break}default:throw new Error(`invalid increment argument: ${a}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};var semver$2=SemVer$d;const SemVer$c=semver$2,parse$9=(_,a,$=!1)=>{if(_ instanceof SemVer$c)return _;try{return new SemVer$c(_,a)}catch(j){if(!$)return null;throw j}};var parse_1=parse$9;const parse$8=parse_1,valid$2=(_,a)=>{const $=parse$8(_,a);return $?$.version:null};var valid_1=valid$2;const parse$7=parse_1,clean$1=(_,a)=>{const $=parse$7(_.trim().replace(/^[=v]+/,""),a);return $?$.version:null};var clean_1=clean$1;const SemVer$b=semver$2,inc$1=(_,a,$,j,et)=>{typeof $=="string"&&(et=j,j=$,$=void 0);try{return new SemVer$b(_ instanceof SemVer$b?_.version:_,$).inc(a,j,et).version}catch{return null}};var inc_1=inc$1;const parse$6=parse_1,diff$1=(_,a)=>{const $=parse$6(_,null,!0),j=parse$6(a,null,!0),et=$.compare(j);if(et===0)return null;const tt=et>0,rt=tt?$:j,nt=tt?j:$,it=!!rt.prerelease.length;if(!!nt.prerelease.length&&!it)return!nt.patch&&!nt.minor?"major":rt.patch?"patch":rt.minor?"minor":"major";const st=it?"pre":"";return $.major!==j.major?st+"major":$.minor!==j.minor?st+"minor":$.patch!==j.patch?st+"patch":"prerelease"};var diff_1=diff$1;const SemVer$a=semver$2,major$1=(_,a)=>new SemVer$a(_,a).major;var major_1=major$1;const SemVer$9=semver$2,minor$1=(_,a)=>new SemVer$9(_,a).minor;var minor_1=minor$1;const SemVer$8=semver$2,patch$1=(_,a)=>new SemVer$8(_,a).patch;var patch_1=patch$1;const parse$5=parse_1,prerelease$1=(_,a)=>{const $=parse$5(_,a);return $&&$.prerelease.length?$.prerelease:null};var prerelease_1=prerelease$1;const SemVer$7=semver$2,compare$b=(_,a,$)=>new SemVer$7(_,$).compare(new SemVer$7(a,$));var compare_1=compare$b;const compare$a=compare_1,rcompare$1=(_,a,$)=>compare$a(a,_,$);var rcompare_1=rcompare$1;const compare$9=compare_1,compareLoose$1=(_,a)=>compare$9(_,a,!0);var compareLoose_1=compareLoose$1;const SemVer$6=semver$2,compareBuild$3=(_,a,$)=>{const j=new SemVer$6(_,$),et=new SemVer$6(a,$);return j.compare(et)||j.compareBuild(et)};var compareBuild_1=compareBuild$3;const compareBuild$2=compareBuild_1,sort$1=(_,a)=>_.sort(($,j)=>compareBuild$2($,j,a));var sort_1=sort$1;const compareBuild$1=compareBuild_1,rsort$1=(_,a)=>_.sort(($,j)=>compareBuild$1(j,$,a));var rsort_1=rsort$1;const compare$8=compare_1,gt$4=(_,a,$)=>compare$8(_,a,$)>0;var gt_1=gt$4;const compare$7=compare_1,lt$3=(_,a,$)=>compare$7(_,a,$)<0;var lt_1=lt$3;const compare$6=compare_1,eq$2=(_,a,$)=>compare$6(_,a,$)===0;var eq_1=eq$2;const compare$5=compare_1,neq$2=(_,a,$)=>compare$5(_,a,$)!==0;var neq_1=neq$2;const compare$4=compare_1,gte$3=(_,a,$)=>compare$4(_,a,$)>=0;var gte_1=gte$3;const compare$3=compare_1,lte$3=(_,a,$)=>compare$3(_,a,$)<=0;var lte_1=lte$3;const eq$1=eq_1,neq$1=neq_1,gt$3=gt_1,gte$2=gte_1,lt$2=lt_1,lte$2=lte_1,cmp$1=(_,a,$,j)=>{switch(a){case"===":return typeof _=="object"&&(_=_.version),typeof $=="object"&&($=$.version),_===$;case"!==":return typeof _=="object"&&(_=_.version),typeof $=="object"&&($=$.version),_!==$;case"":case"=":case"==":return eq$1(_,$,j);case"!=":return neq$1(_,$,j);case">":return gt$3(_,$,j);case">=":return gte$2(_,$,j);case"<":return lt$2(_,$,j);case"<=":return lte$2(_,$,j);default:throw new TypeError(`Invalid operator: ${a}`)}};var cmp_1=cmp$1;const SemVer$5=semver$2,parse$4=parse_1,{safeRe:re$1,t:t$1}=reExports,coerce$1=(_,a)=>{if(_ instanceof SemVer$5)return _;if(typeof _=="number"&&(_=String(_)),typeof _!="string")return null;a=a||{};let $=null;if(!a.rtl)$=_.match(a.includePrerelease?re$1[t$1.COERCEFULL]:re$1[t$1.COERCE]);else{const it=a.includePrerelease?re$1[t$1.COERCERTLFULL]:re$1[t$1.COERCERTL];let ot;for(;(ot=it.exec(_))&&(!$||$.index+$[0].length!==_.length);)(!$||ot.index+ot[0].length!==$.index+$[0].length)&&($=ot),it.lastIndex=ot.index+ot[1].length+ot[2].length;it.lastIndex=-1}if($===null)return null;const j=$[2],et=$[3]||"0",tt=$[4]||"0",rt=a.includePrerelease&&$[5]?`-${$[5]}`:"",nt=a.includePrerelease&&$[6]?`+${$[6]}`:"";return parse$4(`${j}.${et}.${tt}${rt}${nt}`,a)};var coerce_1=coerce$1;class LRUCache{constructor(){this.max=1e3,this.map=new Map}get(a){const $=this.map.get(a);if($!==void 0)return this.map.delete(a),this.map.set(a,$),$}delete(a){return this.map.has(a)?(this.map.delete(a),!0):!1}set(a,$){if(!this.delete(a)&&$!==void 0){if(this.map.size>=this.max){const et=this.map.keys().next().value;this.delete(et)}this.map.set(a,$)}return this}}var lrucache=LRUCache,range$1,hasRequiredRange;function requireRange(){if(hasRequiredRange)return range$1;hasRequiredRange=1;class _{constructor(at,dt){if(dt=j(dt),at instanceof _)return at.loose===!!dt.loose&&at.includePrerelease===!!dt.includePrerelease?at:new _(at.raw,dt);if(at instanceof et)return this.raw=at.value,this.set=[[at]],this.format(),this;if(this.options=dt,this.loose=!!dt.loose,this.includePrerelease=!!dt.includePrerelease,this.raw=at.trim().split(/\s+/).join(" "),this.set=this.raw.split("||").map(vt=>this.parseRange(vt.trim())).filter(vt=>vt.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const vt=this.set[0];if(this.set=this.set.filter(xt=>!Et(xt[0])),this.set.length===0)this.set=[vt];else if(this.set.length>1){for(const xt of this.set)if(xt.length===1&&St(xt[0])){this.set=[xt];break}}}this.format()}format(){return this.range=this.set.map(at=>at.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(at){const vt=((this.options.includePrerelease&&ut)|(this.options.loose&&ht))+":"+at,xt=$.get(vt);if(xt)return xt;const wt=this.options.loose,_t=wt?nt[it.HYPHENRANGELOOSE]:nt[it.HYPHENRANGE];at=at.replace(_t,Lt(this.options.includePrerelease)),tt("hyphen replace",at),at=at.replace(nt[it.COMPARATORTRIM],ot),tt("comparator trim",at),at=at.replace(nt[it.TILDETRIM],st),tt("tilde trim",at),at=at.replace(nt[it.CARETTRIM],ct),tt("caret trim",at);let At=at.split(" ").map(rr=>kt(rr,this.options)).join(" ").split(/\s+/).map(rr=>Nt(rr,this.options));wt&&(At=At.filter(rr=>(tt("loose invalid filter",rr,this.options),!!rr.match(nt[it.COMPARATORLOOSE])))),tt("range list",At);const Tt=new Map,yt=At.map(rr=>new et(rr,this.options));for(const rr of yt){if(Et(rr))return[rr];Tt.set(rr.value,rr)}Tt.size>1&&Tt.has("")&&Tt.delete("");const It=[...Tt.values()];return $.set(vt,It),It}intersects(at,dt){if(!(at instanceof _))throw new TypeError("a Range is required");return this.set.some(vt=>Mt(vt,dt)&&at.set.some(xt=>Mt(xt,dt)&&vt.every(wt=>xt.every(_t=>wt.intersects(_t,dt)))))}test(at){if(!at)return!1;if(typeof at=="string")try{at=new rt(at,this.options)}catch{return!1}for(let dt=0;dt<this.set.length;dt++)if(Pt(this.set[dt],at,this.options))return!0;return!1}}range$1=_;const a=lrucache,$=new a,j=parseOptions_1,et=requireComparator(),tt=debug_1,rt=semver$2,{safeRe:nt,t:it,comparatorTrimReplace:ot,tildeTrimReplace:st,caretTrimReplace:ct}=reExports,{FLAG_INCLUDE_PRERELEASE:ut,FLAG_LOOSE:ht}=constants$1,Et=bt=>bt.value==="<0.0.0-0",St=bt=>bt.value==="",Mt=(bt,at)=>{let dt=!0;const vt=bt.slice();let xt=vt.pop();for(;dt&&vt.length;)dt=vt.every(wt=>xt.intersects(wt,at)),xt=vt.pop();return dt},kt=(bt,at)=>(tt("comp",bt,at),bt=Ut(bt,at),tt("caret",bt),bt=Ot(bt,at),tt("tildes",bt),bt=jt(bt,at),tt("xrange",bt),bt=Bt(bt,at),tt("stars",bt),bt),Ct=bt=>!bt||bt.toLowerCase()==="x"||bt==="*",Ot=(bt,at)=>bt.trim().split(/\s+/).map(dt=>zt(dt,at)).join(" "),zt=(bt,at)=>{const dt=at.loose?nt[it.TILDELOOSE]:nt[it.TILDE];return bt.replace(dt,(vt,xt,wt,_t,At)=>{tt("tilde",bt,vt,xt,wt,_t,At);let Tt;return Ct(xt)?Tt="":Ct(wt)?Tt=`>=${xt}.0.0 <${+xt+1}.0.0-0`:Ct(_t)?Tt=`>=${xt}.${wt}.0 <${xt}.${+wt+1}.0-0`:At?(tt("replaceTilde pr",At),Tt=`>=${xt}.${wt}.${_t}-${At} <${xt}.${+wt+1}.0-0`):Tt=`>=${xt}.${wt}.${_t} <${xt}.${+wt+1}.0-0`,tt("tilde return",Tt),Tt})},Ut=(bt,at)=>bt.trim().split(/\s+/).map(dt=>Vt(dt,at)).join(" "),Vt=(bt,at)=>{tt("caret",bt,at);const dt=at.loose?nt[it.CARETLOOSE]:nt[it.CARET],vt=at.includePrerelease?"-0":"";return bt.replace(dt,(xt,wt,_t,At,Tt)=>{tt("caret",bt,xt,wt,_t,At,Tt);let yt;return Ct(wt)?yt="":Ct(_t)?yt=`>=${wt}.0.0${vt} <${+wt+1}.0.0-0`:Ct(At)?wt==="0"?yt=`>=${wt}.${_t}.0${vt} <${wt}.${+_t+1}.0-0`:yt=`>=${wt}.${_t}.0${vt} <${+wt+1}.0.0-0`:Tt?(tt("replaceCaret pr",Tt),wt==="0"?_t==="0"?yt=`>=${wt}.${_t}.${At}-${Tt} <${wt}.${_t}.${+At+1}-0`:yt=`>=${wt}.${_t}.${At}-${Tt} <${wt}.${+_t+1}.0-0`:yt=`>=${wt}.${_t}.${At}-${Tt} <${+wt+1}.0.0-0`):(tt("no pr"),wt==="0"?_t==="0"?yt=`>=${wt}.${_t}.${At}${vt} <${wt}.${_t}.${+At+1}-0`:yt=`>=${wt}.${_t}.${At}${vt} <${wt}.${+_t+1}.0-0`:yt=`>=${wt}.${_t}.${At} <${+wt+1}.0.0-0`),tt("caret return",yt),yt})},jt=(bt,at)=>(tt("replaceXRanges",bt,at),bt.split(/\s+/).map(dt=>$t(dt,at)).join(" ")),$t=(bt,at)=>{bt=bt.trim();const dt=at.loose?nt[it.XRANGELOOSE]:nt[it.XRANGE];return bt.replace(dt,(vt,xt,wt,_t,At,Tt)=>{tt("xRange",bt,vt,xt,wt,_t,At,Tt);const yt=Ct(wt),It=yt||Ct(_t),rr=It||Ct(At),ir=rr;return xt==="="&&ir&&(xt=""),Tt=at.includePrerelease?"-0":"",yt?xt===">"||xt==="<"?vt="<0.0.0-0":vt="*":xt&&ir?(It&&(_t=0),At=0,xt===">"?(xt=">=",It?(wt=+wt+1,_t=0,At=0):(_t=+_t+1,At=0)):xt==="<="&&(xt="<",It?wt=+wt+1:_t=+_t+1),xt==="<"&&(Tt="-0"),vt=`${xt+wt}.${_t}.${At}${Tt}`):It?vt=`>=${wt}.0.0${Tt} <${+wt+1}.0.0-0`:rr&&(vt=`>=${wt}.${_t}.0${Tt} <${wt}.${+_t+1}.0-0`),tt("xRange return",vt),vt})},Bt=(bt,at)=>(tt("replaceStars",bt,at),bt.trim().replace(nt[it.STAR],"")),Nt=(bt,at)=>(tt("replaceGTE0",bt,at),bt.trim().replace(nt[at.includePrerelease?it.GTE0PRE:it.GTE0],"")),Lt=bt=>(at,dt,vt,xt,wt,_t,At,Tt,yt,It,rr,ir)=>(Ct(vt)?dt="":Ct(xt)?dt=`>=${vt}.0.0${bt?"-0":""}`:Ct(wt)?dt=`>=${vt}.${xt}.0${bt?"-0":""}`:_t?dt=`>=${dt}`:dt=`>=${dt}${bt?"-0":""}`,Ct(yt)?Tt="":Ct(It)?Tt=`<${+yt+1}.0.0-0`:Ct(rr)?Tt=`<${yt}.${+It+1}.0-0`:ir?Tt=`<=${yt}.${It}.${rr}-${ir}`:bt?Tt=`<${yt}.${It}.${+rr+1}-0`:Tt=`<=${Tt}`,`${dt} ${Tt}`.trim()),Pt=(bt,at,dt)=>{for(let vt=0;vt<bt.length;vt++)if(!bt[vt].test(at))return!1;if(at.prerelease.length&&!dt.includePrerelease){for(let vt=0;vt<bt.length;vt++)if(tt(bt[vt].semver),bt[vt].semver!==et.ANY&&bt[vt].semver.prerelease.length>0){const xt=bt[vt].semver;if(xt.major===at.major&&xt.minor===at.minor&&xt.patch===at.patch)return!0}return!1}return!0};return range$1}var comparator,hasRequiredComparator;function requireComparator(){if(hasRequiredComparator)return comparator;hasRequiredComparator=1;const _=Symbol("SemVer ANY");class a{static get ANY(){return _}constructor(st,ct){if(ct=$(ct),st instanceof a){if(st.loose===!!ct.loose)return st;st=st.value}st=st.trim().split(/\s+/).join(" "),rt("comparator",st,ct),this.options=ct,this.loose=!!ct.loose,this.parse(st),this.semver===_?this.value="":this.value=this.operator+this.semver.version,rt("comp",this)}parse(st){const ct=this.options.loose?j[et.COMPARATORLOOSE]:j[et.COMPARATOR],ut=st.match(ct);if(!ut)throw new TypeError(`Invalid comparator: ${st}`);this.operator=ut[1]!==void 0?ut[1]:"",this.operator==="="&&(this.operator=""),ut[2]?this.semver=new nt(ut[2],this.options.loose):this.semver=_}toString(){return this.value}test(st){if(rt("Comparator.test",st,this.options.loose),this.semver===_||st===_)return!0;if(typeof st=="string")try{st=new nt(st,this.options)}catch{return!1}return tt(st,this.operator,this.semver,this.options)}intersects(st,ct){if(!(st instanceof a))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new it(st.value,ct).test(this.value):st.operator===""?st.value===""?!0:new it(this.value,ct).test(st.semver):(ct=$(ct),ct.includePrerelease&&(this.value==="<0.0.0-0"||st.value==="<0.0.0-0")||!ct.includePrerelease&&(this.value.startsWith("<0.0.0")||st.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&st.operator.startsWith(">")||this.operator.startsWith("<")&&st.operator.startsWith("<")||this.semver.version===st.semver.version&&this.operator.includes("=")&&st.operator.includes("=")||tt(this.semver,"<",st.semver,ct)&&this.operator.startsWith(">")&&st.operator.startsWith("<")||tt(this.semver,">",st.semver,ct)&&this.operator.startsWith("<")&&st.operator.startsWith(">")))}}comparator=a;const $=parseOptions_1,{safeRe:j,t:et}=reExports,tt=cmp_1,rt=debug_1,nt=semver$2,it=requireRange();return comparator}const Range$9=requireRange(),satisfies$4=(_,a,$)=>{try{a=new Range$9(a,$)}catch{return!1}return a.test(_)};var satisfies_1=satisfies$4;const Range$8=requireRange(),toComparators$1=(_,a)=>new Range$8(_,a).set.map($=>$.map(j=>j.value).join(" ").trim().split(" "));var toComparators_1=toComparators$1;const SemVer$4=semver$2,Range$7=requireRange(),maxSatisfying$1=(_,a,$)=>{let j=null,et=null,tt=null;try{tt=new Range$7(a,$)}catch{return null}return _.forEach(rt=>{tt.test(rt)&&(!j||et.compare(rt)===-1)&&(j=rt,et=new SemVer$4(j,$))}),j};var maxSatisfying_1=maxSatisfying$1;const SemVer$3=semver$2,Range$6=requireRange(),minSatisfying$1=(_,a,$)=>{let j=null,et=null,tt=null;try{tt=new Range$6(a,$)}catch{return null}return _.forEach(rt=>{tt.test(rt)&&(!j||et.compare(rt)===1)&&(j=rt,et=new SemVer$3(j,$))}),j};var minSatisfying_1=minSatisfying$1;const SemVer$2=semver$2,Range$5=requireRange(),gt$2=gt_1,minVersion$1=(_,a)=>{_=new Range$5(_,a);let $=new SemVer$2("0.0.0");if(_.test($)||($=new SemVer$2("0.0.0-0"),_.test($)))return $;$=null;for(let j=0;j<_.set.length;++j){const et=_.set[j];let tt=null;et.forEach(rt=>{const nt=new SemVer$2(rt.semver.version);switch(rt.operator){case">":nt.prerelease.length===0?nt.patch++:nt.prerelease.push(0),nt.raw=nt.format();case"":case">=":(!tt||gt$2(nt,tt))&&(tt=nt);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${rt.operator}`)}}),tt&&(!$||gt$2($,tt))&&($=tt)}return $&&_.test($)?$:null};var minVersion_1=minVersion$1;const Range$4=requireRange(),validRange$1=(_,a)=>{try{return new Range$4(_,a).range||"*"}catch{return null}};var valid$1=validRange$1;const SemVer$1=semver$2,Comparator$2=requireComparator(),{ANY:ANY$1}=Comparator$2,Range$3=requireRange(),satisfies$3=satisfies_1,gt$1=gt_1,lt$1=lt_1,lte$1=lte_1,gte$1=gte_1,outside$3=(_,a,$,j)=>{_=new SemVer$1(_,j),a=new Range$3(a,j);let et,tt,rt,nt,it;switch($){case">":et=gt$1,tt=lte$1,rt=lt$1,nt=">",it=">=";break;case"<":et=lt$1,tt=gte$1,rt=gt$1,nt="<",it="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(satisfies$3(_,a,j))return!1;for(let ot=0;ot<a.set.length;++ot){const st=a.set[ot];let ct=null,ut=null;if(st.forEach(ht=>{ht.semver===ANY$1&&(ht=new Comparator$2(">=0.0.0")),ct=ct||ht,ut=ut||ht,et(ht.semver,ct.semver,j)?ct=ht:rt(ht.semver,ut.semver,j)&&(ut=ht)}),ct.operator===nt||ct.operator===it||(!ut.operator||ut.operator===nt)&&tt(_,ut.semver))return!1;if(ut.operator===it&&rt(_,ut.semver))return!1}return!0};var outside_1=outside$3;const outside$2=outside_1,gtr$1=(_,a,$)=>outside$2(_,a,">",$);var gtr_1=gtr$1;const outside$1=outside_1,ltr$1=(_,a,$)=>outside$1(_,a,"<",$);var ltr_1=ltr$1;const Range$2=requireRange(),intersects$1=(_,a,$)=>(_=new Range$2(_,$),a=new Range$2(a,$),_.intersects(a,$));var intersects_1=intersects$1;const satisfies$2=satisfies_1,compare$2=compare_1;var simplify=(_,a,$)=>{const j=[];let et=null,tt=null;const rt=_.sort((st,ct)=>compare$2(st,ct,$));for(const st of rt)satisfies$2(st,a,$)?(tt=st,et||(et=st)):(tt&&j.push([et,tt]),tt=null,et=null);et&&j.push([et,null]);const nt=[];for(const[st,ct]of j)st===ct?nt.push(st):!ct&&st===rt[0]?nt.push("*"):ct?st===rt[0]?nt.push(`<=${ct}`):nt.push(`${st} - ${ct}`):nt.push(`>=${st}`);const it=nt.join(" || "),ot=typeof a.raw=="string"?a.raw:String(a);return it.length<ot.length?it:a};const Range$1=requireRange(),Comparator$1=requireComparator(),{ANY}=Comparator$1,satisfies$1=satisfies_1,compare$1=compare_1,subset$1=(_,a,$={})=>{if(_===a)return!0;_=new Range$1(_,$),a=new Range$1(a,$);let j=!1;e:for(const et of _.set){for(const tt of a.set){const rt=simpleSubset(et,tt,$);if(j=j||rt!==null,rt)continue e}if(j)return!1}return!0},minimumVersionWithPreRelease=[new Comparator$1(">=0.0.0-0")],minimumVersion=[new Comparator$1(">=0.0.0")],simpleSubset=(_,a,$)=>{if(_===a)return!0;if(_.length===1&&_[0].semver===ANY){if(a.length===1&&a[0].semver===ANY)return!0;$.includePrerelease?_=minimumVersionWithPreRelease:_=minimumVersion}if(a.length===1&&a[0].semver===ANY){if($.includePrerelease)return!0;a=minimumVersion}const j=new Set;let et,tt;for(const ht of _)ht.operator===">"||ht.operator===">="?et=higherGT(et,ht,$):ht.operator==="<"||ht.operator==="<="?tt=lowerLT(tt,ht,$):j.add(ht.semver);if(j.size>1)return null;let rt;if(et&&tt){if(rt=compare$1(et.semver,tt.semver,$),rt>0)return null;if(rt===0&&(et.operator!==">="||tt.operator!=="<="))return null}for(const ht of j){if(et&&!satisfies$1(ht,String(et),$)||tt&&!satisfies$1(ht,String(tt),$))return null;for(const Et of a)if(!satisfies$1(ht,String(Et),$))return!1;return!0}let nt,it,ot,st,ct=tt&&!$.includePrerelease&&tt.semver.prerelease.length?tt.semver:!1,ut=et&&!$.includePrerelease&&et.semver.prerelease.length?et.semver:!1;ct&&ct.prerelease.length===1&&tt.operator==="<"&&ct.prerelease[0]===0&&(ct=!1);for(const ht of a){if(st=st||ht.operator===">"||ht.operator===">=",ot=ot||ht.operator==="<"||ht.operator==="<=",et){if(ut&&ht.semver.prerelease&&ht.semver.prerelease.length&&ht.semver.major===ut.major&&ht.semver.minor===ut.minor&&ht.semver.patch===ut.patch&&(ut=!1),ht.operator===">"||ht.operator===">="){if(nt=higherGT(et,ht,$),nt===ht&&nt!==et)return!1}else if(et.operator===">="&&!satisfies$1(et.semver,String(ht),$))return!1}if(tt){if(ct&&ht.semver.prerelease&&ht.semver.prerelease.length&&ht.semver.major===ct.major&&ht.semver.minor===ct.minor&&ht.semver.patch===ct.patch&&(ct=!1),ht.operator==="<"||ht.operator==="<="){if(it=lowerLT(tt,ht,$),it===ht&&it!==tt)return!1}else if(tt.operator==="<="&&!satisfies$1(tt.semver,String(ht),$))return!1}if(!ht.operator&&(tt||et)&&rt!==0)return!1}return!(et&&ot&&!tt&&rt!==0||tt&&st&&!et&&rt!==0||ut||ct)},higherGT=(_,a,$)=>{if(!_)return a;const j=compare$1(_.semver,a.semver,$);return j>0?_:j<0||a.operator===">"&&_.operator===">="?a:_},lowerLT=(_,a,$)=>{if(!_)return a;const j=compare$1(_.semver,a.semver,$);return j<0?_:j>0||a.operator==="<"&&_.operator==="<="?a:_};var subset_1=subset$1;const internalRe=reExports,constants=constants$1,SemVer=semver$2,identifiers=identifiers$1,parse$3=parse_1,valid=valid_1,clean=clean_1,inc=inc_1,diff=diff_1,major=major_1,minor=minor_1,patch=patch_1,prerelease=prerelease_1,compare=compare_1,rcompare=rcompare_1,compareLoose=compareLoose_1,compareBuild=compareBuild_1,sort=sort_1,rsort=rsort_1,gt=gt_1,lt=lt_1,eq=eq_1,neq=neq_1,gte=gte_1,lte=lte_1,cmp=cmp_1,coerce=coerce_1,Comparator=requireComparator(),Range=requireRange(),satisfies=satisfies_1,toComparators=toComparators_1,maxSatisfying=maxSatisfying_1,minSatisfying=minSatisfying_1,minVersion=minVersion_1,validRange=valid$1,outside=outside_1,gtr=gtr_1,ltr=ltr_1,intersects=intersects_1,simplifyRange=simplify,subset=subset_1;var semver={parse:parse$3,valid,clean,inc,diff,major,minor,patch,prerelease,compare,rcompare,compareLoose,compareBuild,sort,rsort,gt,lt,eq,neq,gte,lte,cmp,coerce,Comparator,Range,satisfies,toComparators,maxSatisfying,minSatisfying,minVersion,validRange,outside,gtr,ltr,intersects,simplifyRange,subset,SemVer,re:internalRe.re,src:internalRe.src,tokens:internalRe.t,SEMVER_SPEC_VERSION:constants.SEMVER_SPEC_VERSION,RELEASE_TYPES:constants.RELEASE_TYPES,compareIdentifiers:identifiers.compareIdentifiers,rcompareIdentifiers:identifiers.rcompareIdentifiers};const semver$1=getDefaultExportFromCjs$1(semver);var DeviceModelId;(function(_){_.blue="blue",_.nanoS="nanoS",_.nanoSP="nanoSP",_.nanoX="nanoX",_.stax="stax",_.europa="europa"})(DeviceModelId||(DeviceModelId={}));const devices={[DeviceModelId.blue]:{id:DeviceModelId.blue,productName:"Ledger Blue",productIdMM:0,legacyUsbProductId:0,usbOnly:!0,memorySize:480*1024,masks:[822083584,822149120],getBlockSize:_=>4*1024},[DeviceModelId.nanoS]:{id:DeviceModelId.nanoS,productName:"Ledger Nano S",productIdMM:16,legacyUsbProductId:1,usbOnly:!0,memorySize:320*1024,masks:[823132160],getBlockSize:_=>{var a;return semver$1.lt((a=semver$1.coerce(_))!==null&&a!==void 0?a:"","2.0.0")?4*1024:2*1024}},[DeviceModelId.nanoX]:{id:DeviceModelId.nanoX,productName:"Ledger Nano X",productIdMM:64,legacyUsbProductId:4,usbOnly:!1,memorySize:2*1024*1024,masks:[855638016],getBlockSize:_=>4*1024,bluetoothSpec:[{serviceUuid:"13d63400-2c97-0004-0000-4c6564676572",notifyUuid:"13d63400-2c97-0004-0001-4c6564676572",writeUuid:"13d63400-2c97-0004-0002-4c6564676572",writeCmdUuid:"13d63400-2c97-0004-0003-4c6564676572"}]},[DeviceModelId.nanoSP]:{id:DeviceModelId.nanoSP,productName:"Ledger Nano S Plus",productIdMM:80,legacyUsbProductId:5,usbOnly:!0,memorySize:1533*1024,masks:[856686592],getBlockSize:_=>32},[DeviceModelId.stax]:{id:DeviceModelId.stax,productName:"Ledger Stax",productIdMM:96,legacyUsbProductId:6,usbOnly:!1,memorySize:1533*1024,masks:[857735168],getBlockSize:_=>32,bluetoothSpec:[{serviceUuid:"13d63400-2c97-6004-0000-4c6564676572",notifyUuid:"13d63400-2c97-6004-0001-4c6564676572",writeUuid:"13d63400-2c97-6004-0002-4c6564676572",writeCmdUuid:"13d63400-2c97-6004-0003-4c6564676572"}]},[DeviceModelId.europa]:{id:DeviceModelId.europa,productName:"Ledger Europa",productIdMM:112,legacyUsbProductId:7,usbOnly:!1,memorySize:1533*1024,masks:[858783744],getBlockSize:_=>32,bluetoothSpec:[{serviceUuid:"13d63400-2c97-3004-0000-4c6564676572",notifyUuid:"13d63400-2c97-3004-0001-4c6564676572",writeUuid:"13d63400-2c97-3004-0002-4c6564676572",writeCmdUuid:"13d63400-2c97-3004-0003-4c6564676572"}]}};DeviceModelId.blue,DeviceModelId.nanoS,DeviceModelId.nanoSP,DeviceModelId.nanoX,DeviceModelId.stax,DeviceModelId.europa;const devicesList=Object.values(devices),ledgerUSBVendorId=11415,identifyUSBProductId=_=>{const a=devicesList.find(et=>et.legacyUsbProductId===_);if(a)return a;const $=_>>8;return devicesList.find(et=>et.productIdMM===$)},bluetoothServices=[],serviceUuidToInfos={};for(const _ in devices){const a=devices[_],{bluetoothSpec:$}=a;if($)for(let j=0;j<$.length;j++){const et=$[j];bluetoothServices.push(et.serviceUuid),serviceUuidToInfos[et.serviceUuid]=serviceUuidToInfos[et.serviceUuid.replace(/-/g,"")]=Object.assign({deviceModel:a},et)}}var __awaiter$6=function(_,a,$,j){function et(tt){return tt instanceof $?tt:new $(function(rt){rt(tt)})}return new($||($=Promise))(function(tt,rt){function nt(st){try{ot(j.next(st))}catch(ct){rt(ct)}}function it(st){try{ot(j.throw(st))}catch(ct){rt(ct)}}function ot(st){st.done?tt(st.value):et(st.value).then(nt,it)}ot((j=j.apply(_,a||[])).next())})};const ledgerDevices=[{vendorId:ledgerUSBVendorId}];function requestLedgerDevice(){return __awaiter$6(this,void 0,void 0,function*(){return yield navigator.usb.requestDevice({filters:ledgerDevices})})}function getLedgerDevices(){return __awaiter$6(this,void 0,void 0,function*(){return(yield navigator.usb.getDevices()).filter(a=>a.vendorId===ledgerUSBVendorId)})}function getFirstLedgerDevice(){return __awaiter$6(this,void 0,void 0,function*(){const _=yield getLedgerDevices();return _.length>0?_[0]:requestLedgerDevice()})}const isSupported=()=>Promise.resolve(!!navigator&&!!navigator.usb&&typeof navigator.usb.getDevices=="function");var __awaiter$5=function(_,a,$,j){function et(tt){return tt instanceof $?tt:new $(function(rt){rt(tt)})}return new($||($=Promise))(function(tt,rt){function nt(st){try{ot(j.next(st))}catch(ct){rt(ct)}}function it(st){try{ot(j.throw(st))}catch(ct){rt(ct)}}function ot(st){st.done?tt(st.value):et(st.value).then(nt,it)}ot((j=j.apply(_,a||[])).next())})};const configurationValue=1,endpointNumber=3;class TransportWebUSB extends Transport$1{constructor(a,$){super(),this.channel=Math.floor(Math.random()*65535),this.packetSize=64,this._disconnectEmitted=!1,this._emitDisconnect=j=>{this._disconnectEmitted||(this._disconnectEmitted=!0,this.emit("disconnect",j))},this.device=a,this.interfaceNumber=$,this.deviceModel=identifyUSBProductId(a.productId)}static request(){return __awaiter$5(this,void 0,void 0,function*(){const a=yield requestLedgerDevice();return TransportWebUSB.open(a)})}static openConnected(){return __awaiter$5(this,void 0,void 0,function*(){const a=yield getLedgerDevices();return a.length===0?null:TransportWebUSB.open(a[0])})}static open(a){return __awaiter$5(this,void 0,void 0,function*(){yield a.open(),a.configuration===null&&(yield a.selectConfiguration(configurationValue)),yield gracefullyResetDevice(a);const $=a.configurations[0].interfaces.find(({alternates:rt})=>rt.some(nt=>nt.interfaceClass===255));if(!$)throw new TransportInterfaceNotAvailable("No WebUSB interface found for your Ledger device. Please upgrade firmware or contact techsupport.");const j=$.interfaceNumber;try{yield a.claimInterface(j)}catch(rt){throw yield a.close(),new TransportInterfaceNotAvailable(rt.message)}const et=new TransportWebUSB(a,j),tt=rt=>{a===rt.device&&(navigator.usb.removeEventListener("disconnect",tt),et._emitDisconnect(new DisconnectedDevice))};return navigator.usb.addEventListener("disconnect",tt),et})}close(){return __awaiter$5(this,void 0,void 0,function*(){yield this.exchangeBusyPromise,yield this.device.releaseInterface(this.interfaceNumber),yield gracefullyResetDevice(this.device),yield this.device.close()})}exchange(a){return __awaiter$5(this,void 0,void 0,function*(){return yield this.exchangeAtomicImpl(()=>__awaiter$5(this,void 0,void 0,function*(){const{channel:j,packetSize:et}=this;log$8("apdu","=> "+a.toString("hex"));const tt=createHIDframing(j,et),rt=tt.makeBlocks(a);for(let ot=0;ot<rt.length;ot++)yield this.device.transferOut(endpointNumber,rt[ot]);let nt,it;for(;!(nt=tt.getReducedResult(it));){const ot=yield this.device.transferIn(endpointNumber,et),st=Buffer$g.from(ot.data.buffer);it=tt.reduceResponse(it,st)}return log$8("apdu","<= "+nt.toString("hex")),nt})).catch(j=>{throw j&&j.message&&j.message.includes("disconnected")?(this._emitDisconnect(j),new DisconnectedDeviceDuringOperation(j.message)):j})})}setScrambleKey(){}}TransportWebUSB.isSupported=isSupported;TransportWebUSB.list=getLedgerDevices;TransportWebUSB.listen=_=>{let a=!1;getFirstLedgerDevice().then(j=>{if(!a){const et=identifyUSBProductId(j.productId);_.next({type:"add",descriptor:j,deviceModel:et}),_.complete()}},j=>{window.DOMException&&j instanceof window.DOMException&&j.code===18?_.error(new TransportWebUSBGestureRequired(j.message)):_.error(new TransportOpenUserCancelled(j.message))});function $(){a=!0}return{unsubscribe:$}};function gracefullyResetDevice(_){return __awaiter$5(this,void 0,void 0,function*(){try{yield _.reset()}catch(a){console.warn(a)}})}function __awaiter$4(_,a,$,j){function et(tt){return tt instanceof $?tt:new $(function(rt){rt(tt)})}return new($||($=Promise))(function(tt,rt){function nt(st){try{ot(j.next(st))}catch(ct){rt(ct)}}function it(st){try{ot(j.throw(st))}catch(ct){rt(ct)}}function ot(st){st.done?tt(st.value):et(st.value).then(nt,it)}ot((j=j.apply(_,[])).next())})}typeof SuppressedError=="function"&&SuppressedError;const MAX_CHUNK_SIZE=230;function transformPathToBuffer(_){const a=[];_.split("/").forEach(et=>{let tt=parseInt(et,10);Number.isNaN(tt)||(et.length>1&&et[et.length-1]==="'"&&(tt+=2147483648),a.push(tt))});const j=Buffer$g.alloc(1+a.length*4);return j[0]=a.length,a.forEach((et,tt)=>{j.writeUInt32BE(et,1+4*tt)}),j}function compressPublicKey(_,a){return a===0||a===3?_=_.slice(1):(_[0]=2+(_[64]&1),_=_.slice(0,33)),_}function appendWatermark(_,a){let $=_;return typeof a<"u"&&($=Buffer$g.from(a).toString("hex").concat(_)),$}function chunkOperation(_,a){let $=0;for(;$!==a.length;){const j=$+MAX_CHUNK_SIZE>=a.length?a.length-$:MAX_CHUNK_SIZE,et=Buffer$g.alloc(j);a.copy(et,0,$,$+j),_.push(et),$+=j}return _}function validateResponse(_){let a=!0;_[0]!==49&&_[0]!==48&&(a=!1),_[1]+4!==_.length&&(a=!1),_[2]!==2&&(a=!1);const $=_[3];_[4+$]!==2&&(a=!1);const j=5+$,et=_[j];return j+1+et+2!==_.length&&(a=!1),a}function extractValue(_,a){const $=Buffer$g.alloc(32);$.fill(0);let j=a[_],et=_+1;return j>32&&(et+=j-32,j=32),a.copy($,32-j,et,et+j),{buffer:$,idxValueStart:et,length:j}}class InvalidLedgerResponseError extends TaquitoError{constructor(a){super(),this.message=a,this.name="InvalidLedgerResponseError"}}class PublicKeyRetrievalError extends TaquitoError{constructor(a){super(),this.cause=a,this.name="PublicKeyRetrievalError",this.message="Unable to retrieve Public Key from Ledger"}}class PublicKeyHashRetrievalError extends TaquitoError{constructor(){super(),this.name="PublicKeyHashRetrievalError",this.message="Unable to retrieve Public Key Hash from Ledger"}}class InvalidDerivationTypeError extends ParameterValidationError{constructor(a){super(),this.derivationType=a,this.name="InvalidDerivationTypeError",this.message=`Invalid derivation type ${a} expecting one of the following: DerivationType.ED25519, DerivationType.SECP256K1, DerivationType.P256 or DerivationType.BIP32_ED25519`}}var DerivationType;(function(_){_[_.ED25519=0]="ED25519",_[_.SECP256K1=1]="SECP256K1",_[_.P256=2]="P256",_[_.BIP32_ED25519=3]="BIP32_ED25519"})(DerivationType||(DerivationType={}));class LedgerSigner{constructor(a,$="44'/1729'/0'/0'",j=!0,et=DerivationType.ED25519){if(this.transport=a,this.path=$,this.prompt=j,this.derivationType=et,this.CLA=128,this.INS_GET_PUBLIC_KEY=2,this.INS_PROMPT_PUBLIC_KEY=3,this.INS_SIGN=4,this.FIRST_MESSAGE_SEQUENCE=0,this.LAST_MESSAGE_SEQUENCE=129,this.OTHER_MESSAGE_SEQUENCE=1,this.transport.setScrambleKey("XTZ"),!$.startsWith("44'/1729'"))throw new InvalidDerivationPathError($,`${invalidDetail(ValidationResult.NO_PREFIX_MATCHED)} expecting prefix "44'/1729'".`);if(!Object.values(DerivationType).includes(et))throw new InvalidDerivationTypeError(et.toString())}publicKeyHash(){return __awaiter$4(this,void 0,void 0,function*(){if(this._publicKeyHash||(yield this.publicKey()),this._publicKeyHash)return this._publicKeyHash;throw new PublicKeyHashRetrievalError})}publicKey(){return __awaiter$4(this,void 0,void 0,function*(){if(this._publicKey)return this._publicKey;const a=yield this.getLedgerPublicKey(),$=a[0],j=a.slice(1,1+$),et=compressPublicKey(j,this.derivationType),tt=this.getPrefixes(),rt=b58cencode(et,tt.prefPk),nt=b58cencode(blake2b$1.hash(et,20),tt.prefPkh);return this._publicKey=rt,this._publicKeyHash=nt,rt})}getLedgerPublicKey(){return __awaiter$4(this,void 0,void 0,function*(){try{let a=this.INS_PROMPT_PUBLIC_KEY;return this.prompt===!1&&(a=this.INS_GET_PUBLIC_KEY),yield this.transport.send(this.CLA,a,this.FIRST_MESSAGE_SEQUENCE,this.derivationType,transformPathToBuffer(this.path))}catch(a){throw new PublicKeyRetrievalError(a)}})}secretKey(){return __awaiter$4(this,void 0,void 0,function*(){throw new ProhibitedActionError("Secret key cannot be exposed")})}sign(a,$){return __awaiter$4(this,void 0,void 0,function*(){const j=appendWatermark(a,$),et=Buffer$g.from(j,"hex");let tt=[];tt.push(transformPathToBuffer(this.path)),tt=chunkOperation(tt,et);const rt=yield this.signWithLedger(tt);let nt;if(this.derivationType===DerivationType.ED25519||this.derivationType===DerivationType.BIP32_ED25519)nt=rt.slice(0,rt.length-2).toString("hex");else{if(!validateResponse(rt))throw new InvalidLedgerResponseError("Invalid signature return by ledger unable to parse the response");const ot=extractValue(3,rt),st=ot.idxValueStart+ot.length+1,ct=extractValue(st,rt);nt=Buffer$g.concat([ot.buffer,ct.buffer]).toString("hex")}return{bytes:a,sig:b58cencode(nt,prefix[Prefix.SIG]),prefixSig:b58cencode(nt,this.getPrefixes().prefSig),sbytes:a+nt}})}signWithLedger(a){return __awaiter$4(this,void 0,void 0,function*(){let $=yield this.transport.send(this.CLA,this.INS_SIGN,this.FIRST_MESSAGE_SEQUENCE,this.derivationType,a[0]);for(let j=1;j<a.length;j++){const et=j===a.length-1?this.LAST_MESSAGE_SEQUENCE:this.OTHER_MESSAGE_SEQUENCE;$=yield this.transport.send(this.CLA,this.INS_SIGN,et,this.derivationType,a[j])}return $})}getPrefixes(){return this.derivationType===DerivationType.ED25519||this.derivationType===DerivationType.BIP32_ED25519?{prefPk:prefix[Prefix.EDPK],prefPkh:prefix[Prefix.TZ1],prefSig:prefix[Prefix.EDSIG]}:this.derivationType===DerivationType.SECP256K1?{prefPk:prefix[Prefix.SPPK],prefPkh:prefix[Prefix.TZ2],prefSig:prefix[Prefix.SPSIG]}:{prefPk:prefix[Prefix.P2PK],prefPkh:prefix[Prefix.TZ3],prefSig:prefix[Prefix.P2SIG]}}}const sourceReference=Symbol("source_reference");class ScanError extends TaquitoError{constructor(a,$,j){super(),this.src=a,this.idx=$,this.message=j,this.name="ScanError"}}var Literal;(function(_){_[_.Comment=0]="Comment",_[_.Number=1]="Number",_[_.String=2]="String",_[_.Bytes=3]="Bytes",_[_.Ident=4]="Ident"})(Literal||(Literal={}));const isSpace=new RegExp("\\s"),isIdentStart=new RegExp("[:@%_A-Za-z]"),isIdent=new RegExp("[@%_\\.A-Za-z0-9]"),isDigit=new RegExp("[0-9]"),isHex=new RegExp("[0-9a-fA-F]");function*scan(_,a=!1){let $=0;for(;$<_.length;){for(;$<_.length&&isSpace.test(_[$]);)$++;if($===_.length)return;const j=_[$],et=$;if(isIdentStart.test(j)){for($++;$<_.length&&isIdent.test(_[$]);)$++;yield{t:Literal.Ident,v:_.slice(et,$),first:et,last:$}}else if(_.length-$>1&&_.substring($,$+2)==="0x"){for($+=2;$<_.length&&isHex.test(_[$]);)$++;if($-et&1)throw new ScanError(_,$,"Bytes literal length is expected to be power of two");yield{t:Literal.Bytes,v:_.slice(et,$),first:et,last:$}}else if(isDigit.test(j)||j==="-"){j==="-"&&$++;const tt=$;for(;$<_.length&&isDigit.test(_[$]);)$++;if(tt===$)throw new ScanError(_,$,"Number literal is too short");yield{t:Literal.Number,v:_.slice(et,$),first:et,last:$}}else if(j==='"'){$++;let tt=!1;for(;$<_.length&&(tt||_[$]!=='"');$++)!tt&&_[$]==="\\"?tt=!0:tt=!1;if($===_.length)throw new ScanError(_,$,"Unterminated string literal");$++,yield{t:Literal.String,v:_.slice(et,$),first:et,last:$}}else if(j==="#"){for($++;$<_.length&&_[$]!==`
`;)$++;a&&(yield{t:Literal.Comment,v:_.slice(et,$),first:et,last:$})}else if(_.length-$>1&&_.substring($,$+2)==="/*"){for($+=2;$<_.length&&!(_.length-$>1&&_.substring($,$+2)==="*/");)$++;if($===_.length)throw new ScanError(_,$,"Unterminated C style comment");$+=2,a&&(yield{t:Literal.Comment,v:_.slice(et,$),first:et,last:$})}else if(j==="("||j===")"||j==="{"||j==="}"||j===";")$++,yield{t:j,v:j,first:et,last:$};else throw new ScanError(_,$,`Invalid character at offset ${$}: \`${j}'`)}}const refContract=Symbol("ref_contract");var Protocol;(function(_){_.Ps9mPmXa="Ps9mPmXaRzmzk35gbAYNCAw6UXdE2qoABTHbN2oEEc1qM7CwT9P",_.PtCJ7pwo="PtCJ7pwoxe8JasnHY8YonnLYjcVHmhiARPJvqcC6VfHT5s8k8sY",_.PsYLVpVv="PsYLVpVvgbLhAhoqAkMFUo6gudkJ9weNXhUYCiLDzcUpFpkk8Wt",_.PsddFKi3="PsddFKi32cMJ2qPjf43Qv5GDWLDPZb3T3bF6fLKiF5HtvHNU7aP",_.Pt24m4xi="Pt24m4xiPbLDhVgVfABUjirbmda3yohdN82Sp9FeuAXJ4eV9otd",_.PsBABY5H="PsBABY5HQTSkA4297zNHfsZNKtxULfL18y95qb3m53QJiXGmrbU",_.PsBabyM1="PsBabyM1eUXZseaJdmXFApDSBqj8YBfwELoxZHHW77EMcAbbwAS",_.PsCARTHA="PsCARTHAGazKbHtnKfLzQg3kms52kSRpgnDY982a9oYsSXRLQEb",_.PsDELPH1="PsDELPH1Kxsxt8f9eWbxQeRxkjfbxoqM52jvs5Y5fBxWWh4ifpo",_.PtEdoTez="PtEdoTezd3RHSC31mpxxo1npxFjoWWcFgQtxapi51Z8TLu6v6Uq",_.PtEdo2Zk="PtEdo2ZkT9oKpimTah6x2embF25oss54njMuPzkJTEi5RqfdZFA",_.PsFLorena="PsFLorenaUUuikDWvMDr6fGBRG8kt3e3D3fHoXK1j1BFRxeSH4i",_.PtGRANADs="PtGRANADsDU8R9daYKAgWnQYAJ64omN1o3KMGVCykShA97vQbvV",_.PtHangzH="PtHangzHogokSuiMHemCuowEavgYTP8J5qQ9fQS793MHYFpCY3r",_.PtHangz2="PtHangz2aRngywmSRGGvrcTyMbbdpWdpFKuS4uMWxg2RaH9i1qx",_.PsiThaCa="PsiThaCaT47Zboaw71QWScM8sXeMM7bbQFncK9FLqYc6EKdpjVP",_.Psithaca2="Psithaca2MLRFYargivpo7YvUr7wUDqyxrdhC5CQq78mRvimz6A",_.PtJakarta="PtJakartaiDz69SfDDLXJSiuZqTSeSKRDbKVZC8MNzJnvRjvnGw",_.PtJakart2="PtJakart2xVj7pYXJBXrqHgd82rdkLey5ZeeGwDgPp9rhQUbSqY",_.PtKathman="PtKathmankSpLLDALzWw7CGD2j2MtyveTwboEYokqUCP4a1LxMg",_.PtLimaPtL="PtLimaPtLMwfNinJi9rCfDPWea8dFgTZ1MeJ9f1m2SRic6ayiwW",_.PtMumbaii="PtMumbaiiFFEGbew1rRjzSPyzRbA51Tm3RVZL5suHPxSZYDhCEc",_.PtMumbai2="PtMumbai2TmsJHNGRkD8v8YDbtao7BLUC3wjASn1inAKLFCjaH1",_.PtNairobi="PtNairobiyssHuh87hEhfVBGCVrK3WnS8Z2FT4ymB5tAa4r1nQf",_.ProxfordY="ProxfordYmVfjWnRcgjWH36fW6PArwqykTFzotUxRs6gmTcZDuH",_.ProtoALpha="ProtoALphaALphaALphaALphaALphaALphaALphaALphaDdp3zK"})(Protocol||(Protocol={}));const DefaultProtocol=Protocol.Psithaca2,protoLevel={Ps9mPmXaRzmzk35gbAYNCAw6UXdE2qoABTHbN2oEEc1qM7CwT9P:0,PtCJ7pwoxe8JasnHY8YonnLYjcVHmhiARPJvqcC6VfHT5s8k8sY:1,PsYLVpVvgbLhAhoqAkMFUo6gudkJ9weNXhUYCiLDzcUpFpkk8Wt:2,PsddFKi32cMJ2qPjf43Qv5GDWLDPZb3T3bF6fLKiF5HtvHNU7aP:3,Pt24m4xiPbLDhVgVfABUjirbmda3yohdN82Sp9FeuAXJ4eV9otd:4,PsBABY5HQTSkA4297zNHfsZNKtxULfL18y95qb3m53QJiXGmrbU:5,PsBabyM1eUXZseaJdmXFApDSBqj8YBfwELoxZHHW77EMcAbbwAS:5,PsCARTHAGazKbHtnKfLzQg3kms52kSRpgnDY982a9oYsSXRLQEb:6,PsDELPH1Kxsxt8f9eWbxQeRxkjfbxoqM52jvs5Y5fBxWWh4ifpo:7,PtEdoTezd3RHSC31mpxxo1npxFjoWWcFgQtxapi51Z8TLu6v6Uq:8,PtEdo2ZkT9oKpimTah6x2embF25oss54njMuPzkJTEi5RqfdZFA:8,PsFLorenaUUuikDWvMDr6fGBRG8kt3e3D3fHoXK1j1BFRxeSH4i:9,PtGRANADsDU8R9daYKAgWnQYAJ64omN1o3KMGVCykShA97vQbvV:10,PtHangzHogokSuiMHemCuowEavgYTP8J5qQ9fQS793MHYFpCY3r:11,PtHangz2aRngywmSRGGvrcTyMbbdpWdpFKuS4uMWxg2RaH9i1qx:11,PsiThaCaT47Zboaw71QWScM8sXeMM7bbQFncK9FLqYc6EKdpjVP:12,Psithaca2MLRFYargivpo7YvUr7wUDqyxrdhC5CQq78mRvimz6A:12,PtJakartaiDz69SfDDLXJSiuZqTSeSKRDbKVZC8MNzJnvRjvnGw:13,PtJakart2xVj7pYXJBXrqHgd82rdkLey5ZeeGwDgPp9rhQUbSqY:13,PtKathmankSpLLDALzWw7CGD2j2MtyveTwboEYokqUCP4a1LxMg:14,PtLimaPtLMwfNinJi9rCfDPWea8dFgTZ1MeJ9f1m2SRic6ayiwW:15,PtMumbaiiFFEGbew1rRjzSPyzRbA51Tm3RVZL5suHPxSZYDhCEc:16,PtMumbai2TmsJHNGRkD8v8YDbtao7BLUC3wjASn1inAKLFCjaH1:16,PtNairobiyssHuh87hEhfVBGCVrK3WnS8Z2FT4ymB5tAa4r1nQf:17,ProxfordYmVfjWnRcgjWH36fW6PArwqykTFzotUxRs6gmTcZDuH:19,ProtoALphaALphaALphaALphaALphaALphaALphaALphaDdp3zK:20};function ProtoInferiorTo(_,a){return protoLevel[_]<protoLevel[a]}class MacroError extends TaquitoError{constructor(a,$){super(),this.prim=a,this.message=$,this.name="MacroError"}}function assertArgs$1(_,a){var $,j;if(a===0&&_.args===void 0||(($=_.args)===null||$===void 0?void 0:$.length)===a)return!0;throw new MacroError(_,`macro ${_.prim} expects ${a} arguments, was given ${(j=_.args)===null||j===void 0?void 0:j.length}`)}function assertNoAnnots(_){if(_.annots===void 0)return!0;throw new MacroError(_,`unexpected annotation on macro ${_.prim}: ${_.annots}`)}function assertIntArg(_,a){if("int"in a)return!0;throw new MacroError(_,`macro ${_.prim} expects int argument`)}function parsePairUnpairExpr(_,a,$,j){let et=0,tt=0;const rt=[null,null];let nt;if(et===a.length)throw new MacroError(_,`unexpected end: ${_.prim}`);let it=a[et++];switch(it){case"P":{const{r:st,n:ct,an:ut}=parsePairUnpairExpr(_,a.slice(et),$.slice(tt),j);nt=st,et+=ct,tt+=ut;break}case"A":tt!==$.length&&(rt[0]=$[tt++]);break;default:throw new MacroError(_,`${_.prim}: unexpected character: ${it}`)}let ot;if(et===a.length)throw new MacroError(_,`unexpected end: ${_.prim}`);switch(it=a[et++],it){case"P":{const{r:st,n:ct,an:ut}=parsePairUnpairExpr(_,a.slice(et),$.slice(tt),j);ot=st.map(([ht,Et])=>[ht+1,Et]),et+=ct,tt+=ut;break}case"I":tt!==$.length&&(rt[1]=$[tt++]);break;default:throw new MacroError(_,`${_.prim}: unexpected character: ${it}`)}return{r:j(nt,ot,[0,rt]),n:et,an:tt}}function parseSetMapCadr(_,a,$,j){const et=a[0];switch(et){case"A":return a.length>1?[{prim:"DUP"},{prim:"DIP",args:[[{prim:"CAR",annots:["@%%"]},parseSetMapCadr(_,a.slice(1),[],j)]]},{prim:"CDR",annots:["@%%"]},{prim:"SWAP"},{prim:"PAIR",annots:["%@","%@",...$]}]:j.a;case"D":return a.length>1?[{prim:"DUP"},{prim:"DIP",args:[[{prim:"CDR",annots:["@%%"]},parseSetMapCadr(_,a.slice(1),[],j)]]},{prim:"CAR",annots:["@%%"]},{prim:"PAIR",annots:["%@","%@",...$]}]:j.d;default:throw new MacroError(_,`${_.prim}: unexpected character: ${et}`)}}function trimLast(_,a){let $=_.length;for(;$>0&&_[$-1]===a;)$--;return _.slice(0,$)}function filterAnnotations(_){const a=[],$=[];if(_!==void 0)for(const j of _)(j.length!==0&&j[0]==="%"?a:$).push(j);return{fields:a,rest:$}}function mkPrim({prim:_,annots:a,args:$}){return Object.assign(Object.assign({prim:_},a&&{annots:a}),$&&{args:$})}const pairRe=/^P[PAI]{3,}R$/,unpairRe=/^UNP[PAI]{2,}R$/,cadrRe=/^C[AD]{2,}R$/,setCadrRe=/^SET_C[AD]+R$/,mapCadrRe=/^MAP_C[AD]+R$/,diipRe=/^DI{2,}P$/,duupRe=/^DU+P$/;function expandMacros(_,a){const $=(a==null?void 0:a.protocol)||DefaultProtocol;function j(et){return et!==void 0?[{prim:"RENAME",annots:et}]:[]}switch(_.prim){case"CMPEQ":case"CMPNEQ":case"CMPLT":case"CMPGT":case"CMPLE":case"CMPGE":if(assertArgs$1(_,0))return[{prim:"COMPARE"},mkPrim({prim:_.prim.slice(3),annots:_.annots})];break;case"IFEQ":case"IFNEQ":case"IFLT":case"IFGT":case"IFLE":case"IFGE":if(assertArgs$1(_,2))return[{prim:_.prim.slice(2)},mkPrim({prim:"IF",annots:_.annots,args:_.args})];break;case"IFCMPEQ":case"IFCMPNEQ":case"IFCMPLT":case"IFCMPGT":case"IFCMPLE":case"IFCMPGE":if(assertArgs$1(_,2))return[{prim:"COMPARE"},{prim:_.prim.slice(5)},mkPrim({prim:"IF",annots:_.annots,args:_.args})];break;case"FAIL":if(assertArgs$1(_,0)&&assertNoAnnots(_))return[{prim:"UNIT"},{prim:"FAILWITH"}];break;case"ASSERT":if(assertArgs$1(_,0)&&assertNoAnnots(_))return[{prim:"IF",args:[[],[[{prim:"UNIT"},{prim:"FAILWITH"}]]]}];break;case"ASSERT_EQ":case"ASSERT_NEQ":case"ASSERT_LT":case"ASSERT_GT":case"ASSERT_LE":case"ASSERT_GE":if(assertArgs$1(_,0)&&assertNoAnnots(_))return[{prim:_.prim.slice(7)},{prim:"IF",args:[[],[[{prim:"UNIT"},{prim:"FAILWITH"}]]]}];break;case"ASSERT_CMPEQ":case"ASSERT_CMPNEQ":case"ASSERT_CMPLT":case"ASSERT_CMPGT":case"ASSERT_CMPLE":case"ASSERT_CMPGE":if(assertArgs$1(_,0)&&assertNoAnnots(_))return[[{prim:"COMPARE"},{prim:_.prim.slice(10)}],{prim:"IF",args:[[],[[{prim:"UNIT"},{prim:"FAILWITH"}]]]}];break;case"ASSERT_NONE":if(assertArgs$1(_,0)&&assertNoAnnots(_))return[{prim:"IF_NONE",args:[[],[[{prim:"UNIT"},{prim:"FAILWITH"}]]]}];break;case"ASSERT_SOME":if(assertArgs$1(_,0))return[{prim:"IF_NONE",args:[[[{prim:"UNIT"},{prim:"FAILWITH"}]],j(_.annots)]}];break;case"ASSERT_LEFT":if(assertArgs$1(_,0))return[{prim:"IF_LEFT",args:[j(_.annots),[[{prim:"UNIT"},{prim:"FAILWITH"}]]]}];break;case"ASSERT_RIGHT":if(assertArgs$1(_,0))return[{prim:"IF_LEFT",args:[[[{prim:"UNIT"},{prim:"FAILWITH"}]],j(_.annots)]}];break;case"IF_SOME":if(assertArgs$1(_,2))return[mkPrim({prim:"IF_NONE",annots:_.annots,args:[_.args[1],_.args[0]]})];break;case"IF_RIGHT":if(assertArgs$1(_,2))return[mkPrim({prim:"IF_LEFT",annots:_.annots,args:[_.args[1],_.args[0]]})];break;case"CAR":case"CDR":if(_.args!==void 0){if(assertArgs$1(_,1)&&assertIntArg(_,_.args[0])){const et=parseInt(_.args[0].int,10);return mkPrim({prim:"GET",args:[{int:_.prim==="CAR"?String(et*2+1):String(et*2)}],annots:_.annots})}}else return _}if(pairRe.test(_.prim)&&assertArgs$1(_,0)){const{fields:et,rest:tt}=filterAnnotations(_.annots),{r:rt}=parsePairUnpairExpr(_,_.prim.slice(1),et,(nt,it,ot)=>[...nt||[],...it||[],ot]);return rt.map(([nt,it],ot)=>{const st=[...trimLast(it,null).map(ut=>ut===null?"%":ut),...nt===0&&ot===rt.length-1?tt:[]],ct=mkPrim({prim:"PAIR",annots:st.length!==0?st:void 0});return nt===0?ct:{prim:"DIP",args:nt===1?[[ct]]:[{int:String(nt)},[ct]]}})}if(unpairRe.test(_.prim))if(ProtoInferiorTo($,Protocol.PtEdo2Zk)&&assertArgs$1(_,0)){const{r:et}=parsePairUnpairExpr(_,_.prim.slice(3),_.annots||[],(tt,rt,nt)=>[nt,...rt||[],...tt||[]]);return et.map(([tt,rt])=>{const nt=[{prim:"DUP"},mkPrim({prim:"CAR",annots:rt[0]!==null?[rt[0]]:void 0}),{prim:"DIP",args:[[mkPrim({prim:"CDR",annots:rt[1]!==null?[rt[1]]:void 0})]]}];return tt===0?nt:{prim:"DIP",args:tt===1?[[nt]]:[{int:String(tt)},[nt]]}})}else{if(_.prim==="UNPAIR")return _;if(assertArgs$1(_,0)){const{r:et}=parsePairUnpairExpr(_,_.prim.slice(3),[],(tt,rt,nt)=>[nt,...rt||[],...tt||[]]);return et.map(([tt])=>{const rt=mkPrim({prim:"UNPAIR"});return tt===0?rt:{prim:"DIP",args:tt===1?[[rt]]:[{int:String(tt)},[rt]]}})}}if(cadrRe.test(_.prim)&&assertArgs$1(_,0)){const et=[..._.prim.slice(1,_.prim.length-1)];return et.map((tt,rt)=>{const nt=rt===et.length-1?_.annots:void 0;switch(tt){case"A":return mkPrim({prim:"CAR",annots:nt});case"D":return mkPrim({prim:"CDR",annots:nt});default:throw new MacroError(_,`unexpected character: ${tt}`)}})}if(setCadrRe.test(_.prim)&&assertArgs$1(_,0)){const{fields:et,rest:tt}=filterAnnotations(_.annots);if(et.length>1)throw new MacroError(_,`unexpected annotation on macro ${_.prim}: ${et}`);const rt=et.length!==0?{a:[{prim:"DUP"},{prim:"CAR",annots:et},{prim:"DROP"},{prim:"CDR",annots:["@%%"]},{prim:"SWAP"},{prim:"PAIR",annots:[et[0],"%@"]}],d:[{prim:"DUP"},{prim:"CDR",annots:et},{prim:"DROP"},{prim:"CAR",annots:["@%%"]},{prim:"PAIR",annots:["%@",et[0]]}]}:{a:[{prim:"CDR",annots:["@%%"]},{prim:"SWAP"},{prim:"PAIR",annots:["%","%@"]}],d:[{prim:"CAR",annots:["@%%"]},{prim:"PAIR",annots:["%@","%"]}]};return parseSetMapCadr(_,_.prim.slice(5,_.prim.length-1),tt,rt)}if(mapCadrRe.test(_.prim)&&assertArgs$1(_,1)){const{fields:et}=filterAnnotations(_.annots);if(et.length>1)throw new MacroError(_,`unexpected annotation on macro ${_.prim}: ${et}`);const tt={a:[{prim:"DUP"},{prim:"CDR",annots:["@%%"]},{prim:"DIP",args:[[mkPrim({prim:"CAR",annots:et.length!==0?["@"+et[0].slice(1)]:void 0}),_.args[0]]]},{prim:"SWAP"},{prim:"PAIR",annots:[et.length!==0?et[0]:"%","%@"]}],d:[{prim:"DUP"},mkPrim({prim:"CDR",annots:et.length!==0?["@"+et[0].slice(1)]:void 0}),_.args[0],{prim:"SWAP"},{prim:"CAR",annots:["@%%"]},{prim:"PAIR",annots:["%@",et.length!==0?et[0]:"%"]}]};return parseSetMapCadr(_,_.prim.slice(5,_.prim.length-1),[],tt)}if(diipRe.test(_.prim)&&assertArgs$1(_,1)){let et=0;for(;_.prim[1+et]==="I";)et++;return mkPrim({prim:"DIP",args:[{int:String(et)},_.args[0]]})}if(duupRe.test(_.prim)){let et=0;for(;_.prim[1+et]==="U";)et++;if(ProtoInferiorTo($,Protocol.PtEdo2Zk)){if(et===1){if(_.args===void 0)return _;assertArgs$1(_,1)&&assertIntArg(_,_.args[0])&&(et=parseInt(_.args[0].int,10))}else assertArgs$1(_,0);return et===1?[mkPrim({prim:"DUP",annots:_.annots})]:et===2?[{prim:"DIP",args:[[mkPrim({prim:"DUP",annots:_.annots})]]},{prim:"SWAP"}]:[{prim:"DIP",args:[{int:String(et-1)},[mkPrim({prim:"DUP",annots:_.annots})]]},{prim:"DIG",args:[{int:String(et)}]}]}else{if(et===1)return _;if(assertArgs$1(_,0))return mkPrim({prim:"DUP",args:[{int:String(et)}],annots:_.annots})}}return _}function expandGlobalConstants(_,a){return _.args!==void 0&&_.args.length===1&&"string"in _.args[0]&&_.args[0].string in a?a[_.args[0].string]:_}class MichelineParseError extends TaquitoError{constructor(a,$){super(),this.token=a,this.message=$,this.name="MichelineParseError"}}class JSONParseError extends TaquitoError{constructor(a,$){super(),this.node=a,this.message=$,this.name="JSONParseError"}}const errEOF=new MichelineParseError(null,"Unexpected EOF");function isAnnotation(_){return _.t===Literal.Ident&&(_.v[0]==="@"||_.v[0]==="%"||_.v[0]===":")}const intRe=new RegExp("^-?[0-9]+$"),bytesRe=new RegExp("^([0-9a-fA-F]{2})*$");let Parser$1=class{constructor(a){this.opt=a}expand(a){var $,j,et;if((($=this.opt)===null||$===void 0?void 0:$.expandGlobalConstant)!==void 0&&a.prim==="constant"){const tt=expandGlobalConstants(a,this.opt.expandGlobalConstant);return tt!==a&&(tt[sourceReference]=Object.assign(Object.assign({},a[sourceReference]||{first:0,last:0}),{globalConstant:a})),tt}if(((j=this.opt)===null||j===void 0?void 0:j.expandMacros)===void 0||!((et=this.opt)===null||et===void 0)&&et.expandMacros){const tt=expandMacros(a,this.opt);return tt!==a&&(tt[sourceReference]=Object.assign(Object.assign({},a[sourceReference]||{first:0,last:0}),{macro:a})),tt}else return a}parseListExpr(a,$){var j;const et={first:$.first,last:$.last},tt=$.t==="(";let rt;if(tt){if(rt=a.next(),rt.done)throw errEOF;et.last=rt.value.last}else rt={value:$};if(rt.value.t!==Literal.Ident)throw new MichelineParseError(rt.value,`not an identifier: ${rt.value.v}`);const nt={prim:rt.value.v,[sourceReference]:et};for(;;){const it=a.next();if(it.done){if(tt)throw errEOF;break}else if(it.value.t===")"){if(!tt)throw new MichelineParseError(it.value,"unexpected closing bracket");et.last=it.value.last;break}else if(isAnnotation(it.value))nt.annots=nt.annots||[],nt.annots.push(it.value.v),et.last=it.value.last;else{nt.args=nt.args||[];const ot=this.parseExpr(a,it.value);et.last=((j=ot[sourceReference])===null||j===void 0?void 0:j.last)||et.last,nt.args.push(ot)}}return this.expand(nt)}parseArgs(a,$){var j;const et={first:$.first,last:$.last},tt={prim:$.v,[sourceReference]:et};for(;;){const rt=a.next();if(rt.done||rt.value.t==="}"||rt.value.t===";")return[tt,rt];if(isAnnotation(rt.value))et.last=rt.value.last,tt.annots=tt.annots||[],tt.annots.push(rt.value.v);else{const nt=this.parseExpr(a,rt.value);et.last=((j=nt[sourceReference])===null||j===void 0?void 0:j.last)||et.last,tt.args=tt.args||[],tt.args.push(nt)}}}parseSequenceExpr(a,$){var j,et;const tt={first:$.first,last:$.last},rt=[];rt[sourceReference]=tt;const nt=$.t==="{";let it=$.t==="{"?null:{value:$};for(;;){if(it===null&&(it=a.next(),it.done||(tt.last=it.value.last)),it.done){if(nt)throw errEOF;return rt}if(it.value.t==="}"){if(nt)return rt;throw new MichelineParseError(it.value,"unexpected closing bracket")}else if(it.value.t===Literal.Ident){const[ot,st]=this.parseArgs(a,it.value);tt.last=((j=ot[sourceReference])===null||j===void 0?void 0:j.last)||tt.last,rt.push(this.expand(ot)),it=st}else{const ot=this.parseExpr(a,it.value);tt.last=((et=ot[sourceReference])===null||et===void 0?void 0:et.last)||tt.last,rt.push(ot),it=null}it===null&&(it=a.next(),it.done||(tt.last=it.value.last)),!it.done&&it.value.t===";"&&(it=null)}}parseExpr(a,$){switch($.t){case Literal.Ident:return this.expand({prim:$.v,[sourceReference]:{first:$.first,last:$.last}});case Literal.Number:return{int:$.v,[sourceReference]:{first:$.first,last:$.last}};case Literal.String:return{string:JSON.parse($.v),[sourceReference]:{first:$.first,last:$.last}};case Literal.Bytes:return{bytes:$.v.slice(2),[sourceReference]:{first:$.first,last:$.last}};case"{":return this.parseSequenceExpr(a,$);default:return this.parseListExpr(a,$)}}parseSequence(a){if(typeof a!="string")throw new TypeError(`string type was expected, got ${typeof a} instead`);const $=scan(a),j=$.next();return j.done?null:this.parseSequenceExpr($,j.value)}parseList(a){if(typeof a!="string")throw new TypeError(`string type was expected, got ${typeof a} instead`);const $=scan(a),j=$.next();return j.done?null:this.parseListExpr($,j.value)}parseMichelineExpression(a){if(typeof a!="string")throw new TypeError(`string type was expected, got ${typeof a} instead`);const $=scan(a),j=$.next();return j.done?null:this.parseExpr($,j.value)}parseScript(a){return this.parseSequence(a)}parseData(a){return this.parseList(a)}parseJSON(a){if(typeof a!="object")throw new TypeError(`object type was expected, got ${typeof a} instead`);if(Array.isArray(a)){const $=[];for(const j of a){if(j===null||typeof j!="object")throw new JSONParseError(j,`unexpected sequence element: ${j}`);$.push(this.parseJSON(j))}return $}else if("prim"in a){const $=a;if(typeof $.prim=="string"&&($.annots===void 0||Array.isArray($.annots))&&($.args===void 0||Array.isArray($.args))){const j={prim:$.prim};if($.annots!==void 0){for(const et of $.annots)if(typeof et!="string")throw new JSONParseError(et,`string expected: ${et}`);j.annots=$.annots}if($.args!==void 0){j.args=[];for(const et of $.args){if(et===null||typeof et!="object")throw new JSONParseError(et,`unexpected argument: ${et}`);j.args.push(this.parseJSON(et))}}return this.expand(j)}throw new JSONParseError(a,`malformed prim expression: ${a}`)}else if("string"in a){if(typeof a.string=="string")return{string:a.string};throw new JSONParseError(a,`malformed string literal: ${a}`)}else if("int"in a){if(typeof a.int=="string"&&intRe.test(a.int))return{int:a.int};throw new JSONParseError(a,`malformed int literal: ${a}`)}else if("bytes"in a){if(typeof a.bytes=="string"&&bytesRe.test(a.bytes))return{bytes:a.bytes};throw new JSONParseError(a,`malformed bytes literal: ${a}`)}else throw new JSONParseError(a,`unexpected object: ${a}`)}};const H=[1779033703,-1150833019,1013904242,-1521486534,1359893119,-1694144372,528734635,1541459225],K=[1116352408,1899447441,-1245643825,-373957723,961987163,1508970993,-1841331548,-1424204075,-670586216,310598401,607225278,1426881987,1925078388,-2132889090,-1680079193,-1046744716,-459576895,-272742522,264347078,604807628,770255983,1249150122,1555081692,1996064986,-1740746414,-1473132947,-1341970488,-1084653625,-958395405,-710438585,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,-2117940946,-1838011259,-1564481375,-1474664885,-1035236496,-949202525,-778901479,-694614492,-200395387,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,-2067236844,-1933114872,-1866530822,-1538233109,-1090935817,-965641998];class Base58DecodingError extends TaquitoError{constructor(a){super(),this.message=a,this.name="Base58DecodingError"}}function sha256(_){const a=(_.length+9)%64,$=a===0?0:64-a;if(_.length>268435455)throw new InvalidMessageError("",`: Invalid length ${_.length} is too big -- SHA-256.`);const j=_.length<<3,et=[..._,128,...new Array($).fill(0),0,0,0,0,j>>24&255,j>>16&255,j>>8&255,j&255];function tt(st,ct){return st>>>ct|st<<32-ct}const rt=[...H],nt=new Array(64),it=new Array(8);for(let st=0;st<et.length;st+=64){let ct=st,ut=0;for(;ut<16;)nt[ut]=et[ct]<<24|et[ct+1]<<16|et[ct+2]<<8|et[ct+3],ct+=4,ut++;for(;ut<64;){const ht=tt(nt[ut-15],7)^tt(nt[ut-15],18)^nt[ut-15]>>>3,Et=tt(nt[ut-2],17)^tt(nt[ut-2],19)^nt[ut-2]>>>10;nt[ut]=(Et|0)+nt[ut-7]+ht+nt[ut-16]|0,ut++}for(let ht=0;ht<8;ht++)it[ht]=rt[ht];for(let ht=0;ht<64;ht++){const Et=tt(it[0],2)^tt(it[0],13)^tt(it[0],22),St=tt(it[4],6)^tt(it[4],11)^tt(it[4],25),Mt=it[7]+St+(it[4]&it[5]^~it[4]&it[6])+K[ht]+nt[ht]|0,kt=Et+(it[0]&it[1]^it[0]&it[2]^it[1]&it[2])|0;it[7]=it[6],it[6]=it[5],it[5]=it[4],it[4]=it[3]+Mt|0,it[3]=it[2],it[2]=it[1],it[1]=it[0],it[0]=Mt+kt|0}for(let ht=0;ht<8;ht++)rt[ht]=rt[ht]+it[ht]|0}const ot=[];for(const st of rt)ot.push(st>>24&255),ot.push(st>>16&255),ot.push(st>>8&255),ot.push(st&255);return ot}const base58alphabetFwd=[0,1,2,3,4,5,6,7,8,-1,-1,-1,-1,-1,-1,-1,9,10,11,12,13,14,15,16,-1,17,18,19,20,21,-1,22,23,24,25,26,27,28,29,30,31,32,-1,-1,-1,-1,-1,-1,33,34,35,36,37,38,39,40,41,42,43,-1,44,45,46,47,48,49,50,51,52,53,54,55,56,57];function byteAt(_,a){const $=_.charCodeAt(a)-49;if($>=base58alphabetFwd.length||base58alphabetFwd[$]===-1)throw new Base58DecodingError(`Unexpected character at position ${a}: ${_[a]}`);return base58alphabetFwd[$]}function decodeBase58(_){const a=[];let $=0;for(;$<_.length&&byteAt(_,$)===0;)$++;let j=$;for(;$<_.length;){let et=byteAt(_,$++),tt=0;for(;et!==0||tt<a.length;){const rt=(a[tt]||0)*58+et;a[tt++]=rt%256,et=Math.floor(rt/256)}}for(;j-- >0;)a.push(0);return a.reverse()}function decodeBase58Check(_){const a=decodeBase58(_);if(a.length<4)throw new Base58DecodingError(`Data is too short ${a.length}`);const $=a.slice(0,a.length-4),j=a.slice(a.length-4),et=sha256(sha256($));if(j[0]!==et[0]||j[1]!==et[1]||j[2]!==et[2]||j[3]!==et[3])throw new Base58DecodingError("Invalid checksum");return $}class InvalidMichelsonError extends ParameterValidationError{constructor(a){super(),this.message=a,this.name="InvalidMichelsonError"}}class InvalidTypeExpressionError extends ParameterValidationError{constructor(a){super(),this.message=a,this.name="InvalidTypeExpressionError"}}class InvalidDataExpressionError extends ParameterValidationError{constructor(a){super(),this.message=a,this.name="InvalidDataExpressionError"}}class InvalidEntrypointError extends ParameterValidationError{constructor(a){super(),this.entrypoint=a,this.name="InvalidEntrypointError",this.message=`Contract has no entrypoint named: "${a}"`}}class LongIntegerError extends TaquitoError{constructor(a){super(),this.message=a,this.name="LongIntegerError"}}class MichelsonError extends TaquitoError{constructor(a,$){super(),this.val=a,this.message=$,this.name="MichelsonError"}}class MichelsonTypeError extends MichelsonError{constructor(a,$,j){super(a,$),this.val=a,this.message=$,this.name="MichelsonTypeError",j!==void 0&&(this.data=j)}}class LongInteger{append(a){let $=0;for(;a!==0||$<this.buf.length;){const j=(this.buf[$]||0)*10+a;this.buf[$++]=j%256,a=Math.floor(j/256)}}constructor(a){if(this.neg=!1,this.buf=[],a!==void 0)if(typeof a=="string")for(let $=0;$<a.length;$++){const j=a.charCodeAt($);if($===0&&j===45)this.neg=!0;else{if(j<48||j>57)throw new LongIntegerError(`unexpected character in integer constant "${a[$]}"`);this.append(j-48)}}else a<0?(this.neg=!0,this.append(-a)):this.append(a)}cmp(a){if(this.neg!==a.neg)return(a.neg?1:0)-(this.neg?1:0);{let $=0;if(this.buf.length!==a.buf.length)$=this.buf.length<a.buf.length?-1:1;else if(this.buf.length!==0){let j=a.buf.length-1;for(;j>=0&&this.buf[j]===a.buf[j];)j--;$=j<0?0:this.buf[j]<a.buf[j]?-1:1}return this.neg?$===0?0:-$:$}}get sign(){return this.buf.length===0?0:this.neg?-1:1}}function parseBytes(_){const a=[];for(let $=0;$<_.length;$+=2){const j=parseInt(_.slice($,$+2),16);if(Number.isNaN(j))return null;a.push(j)}return a}function isDecimal(_){try{return new LongInteger(_),!0}catch{return!1}}function isNatural(_){try{return new LongInteger(_).sign>=0}catch{return!1}}const annRe=/^(@%|@%%|%@|[@:%]([_0-9a-zA-Z][_0-9a-zA-Z.%@]*)?)$/;function unpackAnnotations(_,a){if(Array.isArray(_))return{};let $,j,et;if(_.annots!==void 0){for(const tt of _.annots)if(tt.length!==0){if(!annRe.test(tt)||!(a!=null&&a.specialVar)&&(tt==="@%"||tt==="@%%")||!(a!=null&&a.specialFields)&&tt==="%@")throw new MichelsonError(_,`${_.prim}: unexpected annotation: ${tt}`);switch(tt[0]){case"%":(a!=null&&a.emptyFields||tt.length>1)&&($=$||[],$.push(tt));break;case":":tt.length>1&&(j=j||[],j.push(tt));break;case"@":(a!=null&&a.emptyVar||tt.length>1)&&(et=et||[],et.push(tt));break}}}return{f:$,t:j,v:et}}const tezosPrefix={BlockHash:[32,[1,52]],OperationHash:[32,[5,116]],OperationListHash:[32,[133,233]],OperationListListHash:[32,[29,159,109]],ProtocolHash:[32,[2,170]],ContextHash:[32,[79,199]],ED25519PublicKeyHash:[20,[6,161,159]],SECP256K1PublicKeyHash:[20,[6,161,161]],P256PublicKeyHash:[20,[6,161,164]],ContractHash:[20,[2,90,121]],CryptoboxPublicKeyHash:[16,[153,103]],ED25519Seed:[32,[13,15,58,7]],ED25519PublicKey:[32,[13,15,37,217]],SECP256K1SecretKey:[32,[17,162,224,201]],P256SecretKey:[32,[16,81,238,189]],ED25519EncryptedSeed:[56,[7,90,60,179,41]],SECP256K1EncryptedSecretKey:[56,[9,237,241,174,150]],P256EncryptedSecretKey:[56,[9,48,57,115,171]],SECP256K1PublicKey:[33,[3,254,226,86]],P256PublicKey:[33,[3,178,139,127]],SECP256K1Scalar:[33,[38,248,136]],SECP256K1Element:[33,[5,92,0]],ED25519SecretKey:[64,[43,246,78,7]],ED25519Signature:[64,[9,245,205,134,18]],SECP256K1Signature:[64,[13,115,101,19,63]],P256Signature:[64,[54,240,44,52]],GenericSignature:[64,[4,130,43]],ChainID:[4,[87,82,0]],RollupAddress:[20,[1,128,120,31]]};function checkDecodeTezosID(_,...a){const $=decodeBase58Check(_);for(const j of a){const[et,tt]=tezosPrefix[j];if($.length===et+tt.length){let rt=0;for(;rt<tt.length&&$[rt]===tt[rt];)rt++;if(rt===tt.length)return[j,$.slice(tt.length)]}}return null}function unpackComb(_,a){const $=a,j=Array.isArray($)?$:$.args;return j.length===2?_==="pair"?{prim:"pair",args:j}:{prim:"Pair",args:j}:Object.assign(Object.assign({},Array.isArray($)?{prim:_}:$),{args:[j[0],{prim:_,args:j.slice(1)}]})}function isPairType(_){return Array.isArray(_)||_.prim==="pair"}function isPairData(_){return Array.isArray(_)||"prim"in _&&_.prim==="Pair"}const rfc3339Re=/^[0-9]{4}-(0[1-9]|1[0-2])-(0[1-9]|[12][0-9]|3[01])[T ]([01][0-9]|2[0-3]):([0-5][0-9]):([0-5][0-9]|60)(\.[0-9]+)?(Z|[+-]([01][0-9]|2[0-3]):([0-5][0-9]))$/;function parseDate(_){if("string"in _){if(isNatural(_.string))return new Date(parseInt(_.string,10));if(rfc3339Re.test(_.string)){const a=new Date(_.string);if(!Number.isNaN(a.valueOf))return a}}else if(isDecimal(_.int))return new Date(parseInt(_.int,10));return null}const maxViewNameLength=31,noArgInstructionIDs={ABS:!0,ADD:!0,ADDRESS:!0,AMOUNT:!0,AND:!0,APPLY:!0,BALANCE:!0,BLAKE2B:!0,CAR:!0,CDR:!0,CHAIN_ID:!0,CHECK_SIGNATURE:!0,COMPARE:!0,CONCAT:!0,CONS:!0,EDIV:!0,EQ:!0,EXEC:!0,FAILWITH:!0,GE:!0,GET_AND_UPDATE:!0,GT:!0,HASH_KEY:!0,IMPLICIT_ACCOUNT:!0,INT:!0,ISNAT:!0,JOIN_TICKETS:!0,KECCAK:!0,LE:!0,LEVEL:!0,LSL:!0,LSR:!0,LT:!0,MEM:!0,MUL:!0,NEG:!0,NEQ:!0,NEVER:!0,NOT:!0,NOW:!0,OR:!0,PACK:!0,PAIRING_CHECK:!0,READ_TICKET:!0,SAPLING_VERIFY_UPDATE:!0,SELF:!0,SELF_ADDRESS:!0,SENDER:!0,SET_DELEGATE:!0,SHA256:!0,SHA3:!0,SHA512:!0,SIZE:!0,SLICE:!0,SOME:!0,SOURCE:!0,SPLIT_TICKET:!0,SUB:!0,SWAP:!0,TICKET:!0,TICKET_DEPRECATED:!0,TOTAL_VOTING_POWER:!0,TRANSFER_TOKENS:!0,UNIT:!0,VOTING_POWER:!0,XOR:!0,RENAME:!0,OPEN_CHEST:!0,SUB_MUTEZ:!0,MIN_BLOCK_TIME:!0,BYTES:!0,NAT:!0},instructionIDs=Object.assign({},noArgInstructionIDs,{CONTRACT:!0,CREATE_CONTRACT:!0,DIG:!0,DIP:!0,DROP:!0,DUG:!0,DUP:!0,EMIT:!0,EMPTY_BIG_MAP:!0,EMPTY_MAP:!0,EMPTY_SET:!0,GET:!0,IF:!0,IF_CONS:!0,IF_LEFT:!0,IF_NONE:!0,ITER:!0,LAMBDA:!0,LAMBDA_REC:!0,LEFT:!0,LOOP:!0,LOOP_LEFT:!0,MAP:!0,NIL:!0,NONE:!0,PAIR:!0,PUSH:!0,RIGHT:!0,SAPLING_EMPTY_STATE:!0,UNPACK:!0,UNPAIR:!0,UPDATE:!0,CAST:!0,VIEW:!0}),simpleComparableTypeIDs={unit:!0,never:!0,bool:!0,int:!0,nat:!0,string:!0,chain_id:!0,bytes:!0,mutez:!0,key_hash:!0,key:!0,signature:!0,timestamp:!0,address:!0,tx_rollup_l2_address:!0},typeIDs=Object.assign({},simpleComparableTypeIDs,{or:!0,pair:!0,set:!0,big_map:!0,contract:!0,lambda:!0,list:!0,map:!0,operation:!0,option:!0,bls12_381_g1:!0,bls12_381_g2:!0,bls12_381_fr:!0,sapling_transaction:!0,sapling_transaction_deprecated:!0,sapling_state:!0,ticket:!0,chest_key:!0,chest:!0});class MichelsonValidationError extends MichelsonError{constructor(a,$){super(a,$),this.val=a,this.message=$,this.name="MichelsonValidationError"}}function isPrim$1(_){return"prim"in _}function isPrimOrSeq(_){return Array.isArray(_)||"prim"in _}function assertPrim(_){if(isPrim$1(_))return!0;throw new MichelsonValidationError(_,"prim expression expected")}function assertSeq(_){if(Array.isArray(_))return!0;throw new MichelsonValidationError(_,"sequence expression expected")}function assertPrimOrSeq(_){if(isPrimOrSeq(_))return!0;throw new MichelsonValidationError(_,"prim or sequence expression expected")}function assertNatural(_){if(_.int[0]==="-")throw new MichelsonValidationError(_,"natural number expected")}function assertIntLiteral(_){if("int"in _)return!0;throw new MichelsonValidationError(_,"int literal expected")}function assertStringLiteral(_){if("string"in _)return!0;throw new MichelsonValidationError(_,"string literal expected")}function assertArgs(_,a){var $;if(a===0&&_.args===void 0||(($=_.args)===null||$===void 0?void 0:$.length)===a)return!0;throw new MichelsonValidationError(_,`${a} arguments expected`)}function assertMichelsonInstruction(_){var a,$;if(Array.isArray(_)){for(const j of _){if(!Array.isArray(j)&&!isPrim$1(j))throw new MichelsonValidationError(_,"sequence or prim expected");assertMichelsonInstruction(j)}return!0}if(assertPrim(_)){if(Object.prototype.hasOwnProperty.call(noArgInstructionIDs,_.prim))return assertArgs(_,0),!0;switch(_.prim){case"DROP":case"PAIR":case"UNPAIR":case"DUP":case"UPDATE":case"GET":_.args!==void 0&&assertArgs(_,1)&&assertIntLiteral(_.args[0])&&assertNatural(_.args[0]);break;case"DIG":case"DUG":case"SAPLING_EMPTY_STATE":assertArgs(_,1)&&assertIntLiteral(_.args[0])&&assertNatural(_.args[0]);break;case"NONE":case"LEFT":case"RIGHT":case"NIL":case"CAST":assertArgs(_,1)&&assertMichelsonType(_.args[0]);break;case"UNPACK":assertArgs(_,1)&&assertMichelsonPackableType(_.args[0]);break;case"CONTRACT":assertArgs(_,1)&&assertMichelsonPassableType(_.args[0]);break;case"IF_NONE":case"IF_LEFT":case"IF_CONS":case"IF":assertArgs(_,2)&&(assertSeq(_.args[0])&&assertMichelsonInstruction(_.args[0]),assertSeq(_.args[1])&&assertMichelsonInstruction(_.args[1]));break;case"MAP":case"ITER":case"LOOP":case"LOOP_LEFT":assertArgs(_,1)&&assertMichelsonInstruction(_.args[0]);break;case"CREATE_CONTRACT":assertArgs(_,1)&&assertMichelsonContract(_.args[0]);break;case"DIP":if(((a=_.args)===null||a===void 0?void 0:a.length)===2)assertIntLiteral(_.args[0])&&assertNatural(_.args[0]),assertSeq(_.args[1])&&assertMichelsonInstruction(_.args[1]);else if((($=_.args)===null||$===void 0?void 0:$.length)===1)assertSeq(_.args[0])&&assertMichelsonInstruction(_.args[0]);else throw new MichelsonValidationError(_,"1 or 2 arguments expected");break;case"PUSH":assertArgs(_,2)&&(assertMichelsonPushableType(_.args[0]),assertMichelsonData(_.args[1]));break;case"EMPTY_SET":assertArgs(_,1)&&assertMichelsonComparableType(_.args[0]);break;case"EMPTY_MAP":assertArgs(_,2)&&(assertMichelsonComparableType(_.args[0]),assertMichelsonType(_.args[1]));break;case"EMPTY_BIG_MAP":assertArgs(_,2)&&(assertMichelsonComparableType(_.args[0]),assertMichelsonBigMapStorableType(_.args[1]));break;case"LAMBDA_REC":case"LAMBDA":assertArgs(_,3)&&(assertMichelsonType(_.args[0]),assertMichelsonType(_.args[1]),assertSeq(_.args[2])&&assertMichelsonInstruction(_.args[2]));break;case"VIEW":assertArgs(_,2)&&(assertStringLiteral(_.args[0])&&assertViewNameValid(_.args[0]),assertMichelsonType(_.args[1])&&assertMichelsonPushableType(_.args[1]));break;case"EMIT":_.args&&_.args.length>0?assertArgs(_,1):assertArgs(_,0);break;default:throw new MichelsonValidationError(_,"instruction expected")}}return!0}function assertMichelsonComparableType(_){if(assertPrimOrSeq(_)){if(Array.isArray(_)||_.prim==="pair"||_.prim==="or"||_.prim==="option")traverseType(_,a=>assertMichelsonComparableType(a));else if(!Object.prototype.hasOwnProperty.call(simpleComparableTypeIDs,_.prim))throw new MichelsonValidationError(_,`${_.prim}: type is not comparable`)}return!0}function assertMichelsonPackableType(_){if(assertPrimOrSeq(_)&&isPrim$1(_)){if(!Object.prototype.hasOwnProperty.call(typeIDs,_.prim)||_.prim==="big_map"||_.prim==="operation"||_.prim==="sapling_state"||_.prim==="ticket")throw new MichelsonValidationError(_,`${_.prim}: type can't be used inside PACK/UNPACK instructions`);traverseType(_,a=>assertMichelsonPackableType(a))}return!0}function assertMichelsonPushableType(_){if(assertPrimOrSeq(_)&&isPrim$1(_)){if(!Object.prototype.hasOwnProperty.call(typeIDs,_.prim)||_.prim==="big_map"||_.prim==="operation"||_.prim==="sapling_state"||_.prim==="ticket"||_.prim==="contract")throw new MichelsonValidationError(_,`${_.prim}: type can't be pushed`);traverseType(_,a=>assertMichelsonPushableType(a))}return!0}function assertMichelsonStorableType(_){if(assertPrimOrSeq(_)&&isPrim$1(_)){if(!Object.prototype.hasOwnProperty.call(typeIDs,_.prim)||_.prim==="operation"||_.prim==="contract")throw new MichelsonValidationError(_,`${_.prim}: type can't be used as part of a storage`);traverseType(_,a=>assertMichelsonStorableType(a))}return!0}function assertMichelsonPassableType(_){if(assertPrimOrSeq(_)&&isPrim$1(_)){if(!Object.prototype.hasOwnProperty.call(typeIDs,_.prim)||_.prim==="operation")throw new MichelsonValidationError(_,`${_.prim}: type can't be used as part of a parameter`);traverseType(_,a=>assertMichelsonPassableType(a))}return!0}function assertMichelsonBigMapStorableType(_){if(assertPrimOrSeq(_)&&isPrim$1(_)){if(!Object.prototype.hasOwnProperty.call(typeIDs,_.prim)||_.prim==="big_map"||_.prim==="operation"||_.prim==="sapling_state")throw new MichelsonValidationError(_,`${_.prim}: type can't be used inside a big_map`);traverseType(_,a=>assertMichelsonBigMapStorableType(a))}return!0}const viewRe=new RegExp("^[a-zA-Z0-9_.%@]*$");function assertViewNameValid(_){if(_.string.length>maxViewNameLength)throw new MichelsonValidationError(_,`view name too long: ${_.string}`);if(!viewRe.test(_.string))throw new MichelsonValidationError(_,`invalid character(s) in view name: ${_.string}`)}function assertMichelsonType(_){if(assertPrimOrSeq(_)&&isPrim$1(_)){if(!Object.prototype.hasOwnProperty.call(typeIDs,_.prim))throw new MichelsonValidationError(_,"type expected");traverseType(_,a=>assertMichelsonType(a))}return!0}function traverseType(_,a){if(Array.isArray(_)||_.prim==="pair"){const $=Array.isArray(_)?_:_.args;if($===void 0||$.length<2)throw new MichelsonValidationError(_,"at least 2 arguments expected");return $.forEach(j=>{assertPrimOrSeq(j)&&a(j)}),!0}switch(_.prim){case"option":case"list":assertArgs(_,1)&&assertPrimOrSeq(_.args[0])&&a(_.args[0]);break;case"contract":assertArgs(_,1)&&assertMichelsonPassableType(_.args[0]);break;case"or":assertArgs(_,2)&&assertPrimOrSeq(_.args[0])&&assertPrimOrSeq(_.args[1])&&(a(_.args[0]),a(_.args[1]));break;case"lambda":assertArgs(_,2)&&(assertMichelsonType(_.args[0]),assertMichelsonType(_.args[1]));break;case"set":assertArgs(_,1)&&assertMichelsonComparableType(_.args[0]);break;case"map":assertArgs(_,2)&&assertPrimOrSeq(_.args[0])&&assertPrimOrSeq(_.args[1])&&(assertMichelsonComparableType(_.args[0]),a(_.args[1]));break;case"big_map":assertArgs(_,2)&&assertPrimOrSeq(_.args[0])&&assertPrimOrSeq(_.args[1])&&(assertMichelsonComparableType(_.args[0]),assertMichelsonBigMapStorableType(_.args[1]),a(_.args[1]));break;case"ticket":assertArgs(_,1)&&assertPrimOrSeq(_.args[0])&&assertMichelsonComparableType(_.args[0]);break;case"sapling_state":case"sapling_transaction":assertArgs(_,1)&&assertIntLiteral(_.args[0]);break;default:assertArgs(_,0)}return!0}function assertMichelsonData(_){if("int"in _||"string"in _||"bytes"in _)return!0;if(Array.isArray(_)){let a=0;for(const $ of _)isPrim$1($)&&$.prim==="Elt"?(assertArgs($,2)&&(assertMichelsonData($.args[0]),assertMichelsonData($.args[1])),a++):assertMichelsonData($);if(a!==0&&a!==_.length)throw new MichelsonValidationError(_,"data entries and map elements can't be intermixed");return!0}if(isPrim$1(_))switch(_.prim){case"Unit":case"True":case"False":case"None":assertArgs(_,0);break;case"Pair":if(_.args===void 0||_.args.length<2)throw new MichelsonValidationError(_,"at least 2 arguments expected");for(const a of _.args)assertMichelsonData(a);break;case"Left":case"Right":case"Some":assertArgs(_,1)&&assertMichelsonData(_.args[0]);break;case"Lambda_rec":_.args&&assertMichelsonInstruction(_.args);break;default:if(Object.prototype.hasOwnProperty.call(instructionIDs,_.prim))assertMichelsonInstruction(_);else throw new MichelsonValidationError(_,"data entry or instruction expected")}else throw new MichelsonValidationError(_,"data entry expected");return!0}function assertMichelsonContract(_){if(assertSeq(_)){const a={},$={};for(const j of _)if(assertPrim(j)){if(j.prim!=="view"){if(j.prim in a)throw new MichelsonValidationError(_,`duplicate contract section: ${j.prim}`);a[j.prim]=!0}switch(j.prim){case"code":assertArgs(j,1)&&assertSeq(j.args[0])&&assertMichelsonInstruction(j.args[0]);break;case"parameter":if(assertArgs(j,1)&&assertMichelsonPassableType(j.args[0]),j.annots)throw new MichelsonValidationError(j,"Annotation must be part of the parameter type");break;case"storage":assertArgs(j,1)&&assertMichelsonStorableType(j.args[0]);break;case"view":if(assertArgs(j,4)){if(assertStringLiteral(j.args[0])){const et=j.args[0];if(et.string in $)throw new MichelsonValidationError(_,`duplicate view name: ${et.string}`);$[et.string]=!0,assertViewNameValid(et)}assertMichelsonPushableType(j.args[1]),assertMichelsonPushableType(j.args[2]),assertSeq(j.args[3])&&assertMichelsonInstruction(j.args[3])}break;default:throw new MichelsonValidationError(_,`unexpected contract section: ${j.prim}`)}}}return!0}function isInstruction(_){return Object.prototype.hasOwnProperty.call(instructionIDs,_.prim)}function assertDataListIfAny(_){if(!Array.isArray(_))return!1;for(const a of _)if("prim"in a){if(isInstruction(a))throw new MichelsonError(_,`Instruction outside of a lambda: ${JSON.stringify(_)}`);if(a.prim==="Elt")throw new MichelsonError(_,`Elt item outside of a map literal: ${JSON.stringify(_)}`)}return!0}function __rest$2(_,a){var $={};for(var j in _)Object.prototype.hasOwnProperty.call(_,j)&&a.indexOf(j)<0&&($[j]=_[j]);if(_!=null&&typeof Object.getOwnPropertySymbols=="function")for(var et=0,j=Object.getOwnPropertySymbols(_);et<j.length;et++)a.indexOf(j[et])<0&&Object.prototype.propertyIsEnumerable.call(_,j[et])&&($[j[et]]=_[j[et]]);return $}typeof SuppressedError=="function"&&SuppressedError;const primitives=["parameter","storage","code","False","Elt","Left","None","Pair","Right","Some","True","Unit","PACK","UNPACK","BLAKE2B","SHA256","SHA512","ABS","ADD","AMOUNT","AND","BALANCE","CAR","CDR","CHECK_SIGNATURE","COMPARE","CONCAT","CONS","CREATE_ACCOUNT","CREATE_CONTRACT","IMPLICIT_ACCOUNT","DIP","DROP","DUP","EDIV","EMPTY_MAP","EMPTY_SET","EQ","EXEC","FAILWITH","GE","GET","GT","HASH_KEY","IF","IF_CONS","IF_LEFT","IF_NONE","INT","LAMBDA","LE","LEFT","LOOP","LSL","LSR","LT","MAP","MEM","MUL","NEG","NEQ","NIL","NONE","NOT","NOW","OR","PAIR","PUSH","RIGHT","SIZE","SOME","SOURCE","SENDER","SELF","STEPS_TO_QUOTA","SUB","SWAP","TRANSFER_TOKENS","SET_DELEGATE","UNIT","UPDATE","XOR","ITER","LOOP_LEFT","ADDRESS","CONTRACT","ISNAT","CAST","RENAME","bool","contract","int","key","key_hash","lambda","list","map","big_map","nat","option","or","pair","set","signature","string","bytes","mutez","timestamp","unit","operation","address","SLICE","DIG","DUG","EMPTY_BIG_MAP","APPLY","chain_id","CHAIN_ID","LEVEL","SELF_ADDRESS","never","NEVER","UNPAIR","VOTING_POWER","TOTAL_VOTING_POWER","KECCAK","SHA3","PAIRING_CHECK","bls12_381_g1","bls12_381_g2","bls12_381_fr","sapling_state","sapling_transaction_deprecated","SAPLING_EMPTY_STATE","SAPLING_VERIFY_UPDATE","ticket","TICKET_DEPRECATED","READ_TICKET","SPLIT_TICKET","JOIN_TICKETS","GET_AND_UPDATE","chest","chest_key","OPEN_CHEST","VIEW","view","constant","SUB_MUTEZ","tx_rollup_l2_address","MIN_BLOCK_TIME","sapling_transaction","EMIT","Lambda_rec","LAMBDA_REC","TICKET","BYTES","NAT"];Object.assign({},...primitives.map((_,a)=>({[_]:a})));var Tag;(function(_){_[_.Int=0]="Int",_[_.String=1]="String",_[_.Sequence=2]="Sequence",_[_.Prim0=3]="Prim0",_[_.Prim0Annot=4]="Prim0Annot",_[_.Prim1=5]="Prim1",_[_.Prim1Annot=6]="Prim1Annot",_[_.Prim2=7]="Prim2",_[_.Prim2Annot=8]="Prim2Annot",_[_.Prim=9]="Prim",_[_.Bytes=10]="Bytes"})(Tag||(Tag={}));const boundsErr=new Error("bounds out of range");class Reader{constructor(a,$=0,j=a.length){this.buffer=a,this.idx=$,this.cap=j}get length(){return this.cap-this.idx}readBytes(a){if(this.cap-this.idx<a)throw boundsErr;const $=this.buffer.slice(this.idx,this.idx+a);return this.idx+=a,$}reader(a){if(this.cap-this.idx<a)throw boundsErr;const $=new Reader(this.buffer,this.idx,this.idx+a);return this.idx+=a,$}copy(){return new Reader(this.buffer,this.idx,this.cap)}readUint8(){if(this.cap-this.idx<1)throw boundsErr;return this.buffer[this.idx++]>>>0}readUint16(){if(this.cap-this.idx<2)throw boundsErr;const a=this.buffer[this.idx++],$=this.buffer[this.idx++];return(a<<8|$)>>>0}readUint32(){if(this.cap-this.idx<4)throw boundsErr;const a=this.buffer[this.idx++],$=this.buffer[this.idx++],j=this.buffer[this.idx++],et=this.buffer[this.idx++];return(a<<24|$<<16|j<<8|et)>>>0}readInt8(){if(this.cap-this.idx<1)throw boundsErr;return this.buffer[this.idx++]<<24>>24}readInt16(){if(this.cap-this.idx<2)throw boundsErr;const a=this.buffer[this.idx++],$=this.buffer[this.idx++];return(a<<8|$)<<16>>16}readInt32(){if(this.cap-this.idx<4)throw boundsErr;const a=this.buffer[this.idx++],$=this.buffer[this.idx++],j=this.buffer[this.idx++],et=this.buffer[this.idx++];return a<<24|$<<16|j<<8|et}}var ContractID;(function(_){_[_.Implicit=0]="Implicit",_[_.Originated=1]="Originated"})(ContractID||(ContractID={}));var PublicKeyHashID;(function(_){_[_.ED25519=0]="ED25519",_[_.SECP256K1=1]="SECP256K1",_[_.P256=2]="P256"})(PublicKeyHashID||(PublicKeyHashID={}));function readPublicKeyHash(_){let a;const $=_.readUint8();switch($){case PublicKeyHashID.ED25519:a="ED25519PublicKeyHash";break;case PublicKeyHashID.SECP256K1:a="SECP256K1PublicKeyHash";break;case PublicKeyHashID.P256:a="P256PublicKeyHash";break;default:throw new Error(`unknown public key hash tag: ${$}`)}return{type:a,hash:_.readBytes(20)}}function readAddress(_){let a;const $=_.readUint8();switch($){case ContractID.Implicit:a=readPublicKeyHash(_);break;case ContractID.Originated:a={type:"ContractHash",hash:_.readBytes(20)},_.readBytes(1);break;default:throw new Error(`unknown address tag: ${$}`)}if(_.length!==0){const j=new TextDecoder;a.entryPoint=j.decode(new Uint8Array(_.readBytes(_.length)))}return a}var PublicKeyID;(function(_){_[_.ED25519=0]="ED25519",_[_.SECP256K1=1]="SECP256K1",_[_.P256=2]="P256"})(PublicKeyID||(PublicKeyID={}));function readPublicKey(_){let a,$;const j=_.readUint8();switch(j){case PublicKeyID.ED25519:$="ED25519PublicKey",a=32;break;case PublicKeyID.SECP256K1:$="SECP256K1PublicKey",a=33;break;case PublicKeyID.P256:$="P256PublicKey",a=33;break;default:throw new Error(`unknown public key tag: ${j}`)}return{type:$,publicKey:_.readBytes(a)}}function decodeAddressBytes(_){const a=parseBytes(_.bytes);if(a===null)throw new Error(`can't parse bytes: "${_.bytes}"`);const $=new Reader(new Uint8Array(a));return readAddress($)}function decodePublicKeyHashBytes(_){const a=parseBytes(_.bytes);if(a===null)throw new Error(`can't parse bytes: "${_.bytes}"`);const $=new Reader(new Uint8Array(a));return readPublicKeyHash($)}function decodePublicKeyBytes(_){const a=parseBytes(_.bytes);if(a===null)throw new Error(`can't parse bytes: "${_.bytes}"`);const $=new Reader(new Uint8Array(a));return readPublicKey($)}class MichelsonInstructionError extends MichelsonError{constructor(a,$,j){super(a,j),this.val=a,this.stackState=$,this.message=j,this.name="MichelsonInstructionError"}}function typeID(_){return Array.isArray(_)?"pair":_.prim}function typeArgs(_){return"prim"in _?_.args:_}function assertScalarTypesEqual(_,a,$=!1){if(typeID(_)!==typeID(a))throw new MichelsonTypeError(_,`types mismatch: ${typeID(_)} != ${typeID(a)}`,void 0);const j=[unpackAnnotations(_),unpackAnnotations(a)];if(j[0].t&&j[1].t&&j[0].t[0]!==j[1].t[0])throw new MichelsonTypeError(_,`${typeID(_)}: type names mismatch: ${j[0].t[0]} != ${j[1].t[0]}`,void 0);if($&&j[0].f&&j[1].f&&j[0].f[0]!==j[1].f[0])throw new MichelsonTypeError(_,`${typeID(_)}: field names mismatch: ${j[0].f[0]} != ${j[1].f}`,void 0);if(isPairType(_)){const et=unpackComb("pair",_),tt=unpackComb("pair",a);assertScalarTypesEqual(et.args[0],tt.args[0],!0),assertScalarTypesEqual(et.args[1],tt.args[1],!0);return}switch(_.prim){case"option":case"list":case"contract":case"set":case"ticket":assertScalarTypesEqual(_.args[0],a.args[0]);break;case"or":assertScalarTypesEqual(_.args[0],a.args[0],!0),assertScalarTypesEqual(_.args[1],a.args[1],!0);break;case"lambda":case"map":case"big_map":assertScalarTypesEqual(_.args[0],a.args[0]),assertScalarTypesEqual(_.args[1],a.args[1]);break;case"sapling_state":case"sapling_transaction":if(parseInt(_.args[0].int,10)!==parseInt(a.args[0].int,10))throw new MichelsonTypeError(_,`${typeID(_)}: type argument mismatch: ${_.args[0].int} != ${a.args[0].int}`,void 0)}}function assertStacksEqual(_,a){if(_.length!==a.length)throw new MichelsonTypeError(_,`stack length mismatch: ${_.length} != ${a.length}`,void 0);for(let $=0;$<_.length;$++)assertScalarTypesEqual(_[$],a[$])}function assertTypeAnnotationsValid(_,a=!1){var $,j,et;if(!Array.isArray(_)){const tt=unpackAnnotations(_);if(((($=tt.t)===null||$===void 0?void 0:$.length)||0)>1)throw new MichelsonTypeError(_,`${_.prim}: at most one type annotation allowed: ${_.annots}`,void 0);if(a){if((((j=tt.f)===null||j===void 0?void 0:j.length)||0)>1)throw new MichelsonTypeError(_,`${_.prim}: at most one field annotation allowed: ${_.annots}`,void 0)}else if((((et=tt.f)===null||et===void 0?void 0:et.length)||0)>0)throw new MichelsonTypeError(_,`${_.prim}: field annotations aren't allowed: ${_.annots}`,void 0)}if(isPairType(_)){const tt=typeArgs(_);for(const rt of tt)assertTypeAnnotationsValid(rt,!0);return}switch(_.prim){case"option":case"list":case"contract":case"set":assertTypeAnnotationsValid(_.args[0]);break;case"or":for(const tt of _.args)assertTypeAnnotationsValid(tt,!0);break;case"lambda":case"map":case"big_map":assertTypeAnnotationsValid(_.args[0]),assertTypeAnnotationsValid(_.args[1])}}function isFunction$1(_){if(!Array.isArray(_))return!1;for(const a of _)if(!(Array.isArray(a)&&isFunction$1(a)||"prim"in a&&isInstruction(a)))return!1;return!0}function assertDataValidInternal(_,a,$){if(isPairType(a)){if(isPairData(_)){assertDataListIfAny(_);const j=unpackComb("Pair",_),et=unpackComb("pair",a);assertDataValidInternal(j.args[0],et.args[0],$),assertDataValidInternal(j.args[1],et.args[1],$);return}throw new MichelsonTypeError(a,`pair expected: ${JSON.stringify(_)}`,_)}switch(a.prim){case"int":if("int"in _&&isDecimal(_.int))return;throw new MichelsonTypeError(a,`integer value expected: ${JSON.stringify(_)}`,_);case"nat":case"mutez":if("int"in _&&isNatural(_.int))return;throw new MichelsonTypeError(a,`natural value expected: ${JSON.stringify(_)}`,_);case"string":if("string"in _)return;throw new MichelsonTypeError(a,`string value expected: ${JSON.stringify(_)}`,_);case"bytes":case"bls12_381_g1":case"bls12_381_g2":if("bytes"in _&&parseBytes(_.bytes)!==null)return;throw new MichelsonTypeError(a,`bytes value expected: ${JSON.stringify(_)}`,_);case"bool":if("prim"in _&&(_.prim==="True"||_.prim==="False"))return;throw new MichelsonTypeError(a,`boolean value expected: ${JSON.stringify(_)}`,_);case"key_hash":if("string"in _&&checkDecodeTezosID(_.string,"ED25519PublicKeyHash","SECP256K1PublicKeyHash","P256PublicKeyHash")!==null)return;if("bytes"in _)try{decodePublicKeyHashBytes(_);return}catch{}throw new MichelsonTypeError(a,`key hash expected: ${JSON.stringify(_)}`,_);case"timestamp":if(("string"in _||"int"in _)&&parseDate(_)!==null)return;throw new MichelsonTypeError(a,`timestamp expected: ${JSON.stringify(_)}`,_);case"address":if("string"in _){let j=_.string;const et=_.string.indexOf("%");if(et>=0&&(j=_.string.slice(0,et)),checkDecodeTezosID(j,"ED25519PublicKeyHash","SECP256K1PublicKeyHash","P256PublicKeyHash","ContractHash","RollupAddress")!==null)return}else if("bytes"in _)try{decodeAddressBytes(_);return}catch{}throw new MichelsonTypeError(a,`address expected: ${JSON.stringify(_)}`,_);case"key":if("string"in _&&checkDecodeTezosID(_.string,"ED25519PublicKey","SECP256K1PublicKey","P256PublicKey")!==null)return;if("bytes"in _)try{decodePublicKeyBytes(_);return}catch{}throw new MichelsonTypeError(a,`public key expected: ${JSON.stringify(_)}`,_);case"unit":if("prim"in _&&_.prim==="Unit")return;throw new MichelsonTypeError(a,`unit value expected: ${JSON.stringify(_)}`,_);case"signature":if("bytes"in _||"string"in _&&checkDecodeTezosID(_.string,"ED25519Signature","SECP256K1Signature","P256Signature","GenericSignature")!==null)return;throw new MichelsonTypeError(a,`signature expected: ${JSON.stringify(_)}`,_);case"chain_id":if(("bytes"in _||"string"in _)&&("string"in _?decodeBase58Check(_.string):parseBytes(_.bytes))!==null)return;throw new MichelsonTypeError(a,`chain id expected: ${JSON.stringify(_)}`,_);case"option":if("prim"in _){if(_.prim==="None")return;if(_.prim==="Some"){assertDataValidInternal(_.args[0],a.args[0],$);return}}throw new MichelsonTypeError(a,`option expected: ${JSON.stringify(_)}`,_);case"list":case"set":if(assertDataListIfAny(_)){for(const j of _)assertDataValidInternal(j,a.args[0],$);return}throw new MichelsonTypeError(a,`${a.prim} expected: ${JSON.stringify(_)}`,_);case"or":if("prim"in _){if(_.prim==="Left"){assertDataValidInternal(_.args[0],a.args[0],$);return}else if(_.prim==="Right"){assertDataValidInternal(_.args[0],a.args[1],$);return}}throw new MichelsonTypeError(a,`union (or) expected: ${JSON.stringify(_)}`,_);case"lambda":if(isFunction$1(_)){const j=functionTypeInternal(_,[a.args[0]],$);if("failed"in j)throw new MichelsonTypeError(a,`function is failed with error type: ${j.failed}`,_);if(j.length!==1)throw new MichelsonTypeError(a,"function must return a value",_);assertScalarTypesEqual(a.args[1],j[0]);return}throw new MichelsonTypeError(a,`function expected: ${JSON.stringify(_)}`,_);case"map":case"big_map":if(Array.isArray(_)){for(const j of _){if(!("prim"in j)||j.prim!=="Elt")throw new MichelsonTypeError(a,`map elements expected: ${JSON.stringify(_)}`,_);assertDataValidInternal(j.args[0],a.args[0],$),assertDataValidInternal(j.args[1],a.args[1],$)}return}throw new MichelsonTypeError(a,`${a.prim} expected: ${JSON.stringify(_)}`,_);case"bls12_381_fr":if("int"in _&&isDecimal(_.int)||"bytes"in _&&parseBytes(_.bytes)!==null)return;throw new MichelsonTypeError(a,`BLS12-381 element expected: ${JSON.stringify(_)}`,_);case"sapling_state":if(Array.isArray(_))return;throw new MichelsonTypeError(a,`sapling state expected: ${JSON.stringify(_)}`,_);case"ticket":assertDataValidInternal(_,{prim:"pair",args:[{prim:"address"},a.args[0],{prim:"nat"}]},$);return;default:throw new MichelsonTypeError(a,`type ${typeID(a)} don't have Michelson literal representation`,_)}}function instructionListType(_,a,$){let j=a,et=a,tt=0;for(const rt of _){const nt=functionTypeInternal(rt,et,$);if(j=nt,"failed"in nt)break;et=nt,tt++}if("failed"in j&&j.level==0&&(!("prim"in j.failed)||j.failed.prim!=="never")&&tt!==_.length-1)throw new MichelsonInstructionError(_,j,"FAIL must appear in a tail position");if(($==null?void 0:$.traceCallback)!==void 0){const rt={op:_,in:a,out:j};$.traceCallback(rt)}return"failed"in j?{failed:j.failed,level:j.level+1}:j}function functionTypeInternal(_,a,$){const j=($==null?void 0:$.protocol)||DefaultProtocol;if(Array.isArray(_))return instructionListType(_,a,$);const et=_;function tt(Nt,...Lt){if(a.length<Lt.length+Nt)throw new MichelsonInstructionError(et,a,`${et.prim}: stack must have at least ${Lt.length} element(s)`);let Pt=Nt;for(const bt of Lt){if(bt!==null&&bt.length!==0){let at=0;for(;at<bt.length&&bt[at]!==typeID(a[Pt]);)at++;if(at===bt.length)throw new MichelsonInstructionError(et,a,`${et.prim}: stack type mismatch: [${Pt}] expected to be ${bt}, got ${typeID(a[Pt])} instead`)}Pt++}return a.slice(Nt,Lt.length+Nt)}function rt(Nt){return(...Lt)=>{try{return Nt(...Lt)}catch(Pt){throw Pt instanceof MichelsonError?new MichelsonInstructionError(et,a,Pt.message):Pt}}}function nt(Nt){return Lt=>{try{return Nt(Lt)}catch(Pt){throw Pt instanceof MichelsonError?new MichelsonInstructionError(et,a,Pt.message):Pt}}}const it=rt(unpackAnnotations),ot=rt(assertStacksEqual),st=rt(assertScalarTypesEqual),ct=nt(assertMichelsonComparableType),ut=nt(assertMichelsonPackableType),ht=nt(assertMichelsonStorableType),Et=nt(assertMichelsonPushableType),St=nt(assertMichelsonBigMapStorableType);function Mt(Nt,Lt){const Pt=it(et,Object.assign(Object.assign({},Lt),{emptyFields:Nt.f!==void 0&&Nt.f>1,emptyVar:Nt.v!==void 0&&Nt.v>1})),bt=(at,dt,vt)=>{if(at&&at.length>(dt||0))throw new MichelsonInstructionError(et,a,`${et.prim}: at most ${dt||0} ${vt} annotations allowed`)};return bt(Pt.f,Nt.f,"field"),bt(Pt.t,Nt.t,"type"),bt(Pt.v,Nt.v,"variable"),Pt}function kt(Nt,Lt){const Pt=Nt,bt=Array.isArray(Pt)?{prim:"pair",args:Pt}:Pt,at=it(bt),dt=Lt.v!==void 0||Lt.t!==void 0||Lt.f!==void 0?[...(Lt.v===null?at.v:Lt.v)||[],...(Lt.t===null?at.t:Lt.t)||[],...(Lt.f===null?at.f:Lt.f)||[]]:void 0,vt=__rest$2(bt,["annots"]);return Object.assign(Object.assign({},vt),dt&&dt.length!==0&&{annots:dt})}function Ct(Nt,Lt){const Pt=Mt({v:1});return kt(Nt,{v:Pt.v!==void 0?Pt.v:Lt!==void 0?[Lt]:null,t:null})}function Ot(Nt,Lt,Pt,bt,at){var dt,vt,xt,wt;const _t=(dt=it(Lt).f)===null||dt===void 0?void 0:dt[0],At=(vt=Pt.f)===null||vt===void 0?void 0:vt[bt];if(At!==void 0&&At!=="%"&&_t!==void 0&&At!==_t)throw new MichelsonInstructionError(et,a,`${et.prim}: field names doesn't match: ${At} !== ${_t}`);const Tt=(xt=Pt.v)===null||xt===void 0?void 0:xt[bt],yt=(wt=it(Nt).v)===null||wt===void 0?void 0:wt[0];return kt(Lt,{t:null,v:Tt?Tt==="@%"?_t?["@"+_t.slice(1)]:void 0:Tt==="@%%"?yt?["@"+yt.slice(1)+"."+(_t?_t.slice(1):at)]:_t?["@"+_t.slice(1)]:void 0:[Tt]:null})}function zt(Nt,Lt,Pt=Lt){const bt=unpackComb("pair",Nt);if(Pt===1)return[bt.args[0]];if(Pt===2)return bt.args;const at=bt.args[1];if(isPairType(at))return[bt.args[0],...zt(at,Lt,Pt-1)];throw new MichelsonInstructionError(et,a,`${et.prim}: at least ${Lt} fields are expected`)}function Ut(Nt,Lt,Pt=Lt){if(Pt===0)return Nt;const bt=unpackComb("pair",Nt);if(Pt===1)return bt.args[0];const at=bt.args[1];if(isPairType(at))return Ut(at,Lt,Pt-2);if(Pt===2)return at;throw new MichelsonInstructionError(et,a,`${et.prim}: at least ${Lt+1} fields are expected`)}function Vt(Nt,Lt,Pt,bt=Pt){if(bt===0)return Lt;const at=unpackComb("pair",Nt);if(bt===1)return Object.assign(Object.assign({},at),{args:[Lt,at.args[1]]});const dt=at.args[1];if(isPairType(dt))return Object.assign(Object.assign({},at),{args:[at.args[0],Vt(dt,Lt,Pt,bt-2)]});if(bt===2)return Object.assign(Object.assign({},at),{args:[at.args[0],Lt]});throw new MichelsonInstructionError(et,a,`${et.prim}: at least ${Pt+1} fields are expected`)}const jt=(Nt,Lt)=>["@"+(Nt.v?Nt.v[0].slice(1)+".":"")+Lt];function $t(Nt,Lt){return"failed"in Nt||"failed"in Lt?"failed"in Nt?Lt:Nt:(ot(Nt,Lt),Nt)}const Bt=(Nt=>{var Lt,Pt,bt,at,dt;switch(Nt.prim){case"DUP":{const vt=Nt.args?parseInt(Nt.args[0].int,10):1;if(vt===0)throw new MichelsonInstructionError(Nt,a,"DUP 0 is forbidden");const xt=tt(vt-1,null)[0];if(typeID(xt)==="ticket")throw new MichelsonInstructionError(Nt,a,"ticket can't be DUPed");return[xt,...a]}case"SWAP":{const vt=tt(0,null,null);return Mt({}),[vt[1],vt[0],...a.slice(2)]}case"SOME":return[kt({prim:"option",args:[tt(0,null)[0]]},Mt({t:1,v:1})),...a.slice(1)];case"UNIT":return[kt({prim:"unit"},Mt({v:1,t:1})),...a];case"PAIR":{const vt=Nt.args?parseInt(Nt.args[0].int,10):2;if(vt<2)throw new MichelsonInstructionError(Nt,a,`PAIR ${vt} is forbidden`);const xt=tt(0,...new Array(vt).fill(null)),wt=Mt({f:vt,t:1,v:1},{specialFields:!0}),_t=Tt=>{const yt=Tt.lastIndexOf(".");return Tt.slice(yt>0?yt+1:1)},At=xt.map((Tt,yt)=>{var It;const rr=it(Tt),ir=wt.f&&wt.f.length>yt&&wt.f[yt]!=="%"?wt.f[yt]==="%@"?rr.v?["%"+_t(((It=rr.v)===null||It===void 0?void 0:It[0])||"")]:void 0:[wt.f[yt]]:void 0;return kt(Tt,{v:null,t:null,f:ir})});return[kt({prim:"pair",args:At},{t:wt.t,v:wt.v}),...a.slice(vt)]}case"UNPAIR":{const vt=Nt.args?parseInt(Nt.args[0].int,10):2;if(vt<2)throw new MichelsonInstructionError(Nt,a,`UNPAIR ${vt} is forbidden`);const xt=tt(0,["pair"])[0],wt=Mt({f:2,v:2},{specialVar:!0});return[...zt(xt,vt).map((At,Tt)=>Ot(xt,At,wt,Tt,Tt===0?"car":"cdr")),...a.slice(1)]}case"CAR":case"CDR":{const vt=unpackComb("pair",tt(0,["pair"])[0]),xt=vt.args[Nt.prim==="CAR"?0:1],wt=Mt({f:1,v:1},{specialVar:!0});return[Ot(vt,xt,wt,0,Nt.prim.toLocaleLowerCase()),...a.slice(1)]}case"CONS":{const vt=tt(0,null,["list"]);return st(vt[0],vt[1].args[0]),[Ct({prim:"list",args:[vt[1].args[0]]}),...a.slice(2)]}case"SIZE":return tt(0,["string","list","set","map","bytes"]),[Ct({prim:"nat"}),...a.slice(1)];case"MEM":{const vt=tt(0,null,["set","map","big_map"]);return ct(vt[0]),st(vt[0],vt[1].args[0]),[Ct({prim:"bool"}),...a.slice(2)]}case"GET":if(Nt.args){const vt=parseInt(Nt.args[0].int,10),xt=tt(0,["pair"])[0];return[Ct(Ut(xt,vt)),...a.slice(1)]}else{const vt=tt(0,null,["map","big_map"]);return ct(vt[0]),st(vt[0],vt[1].args[0]),[Ct({prim:"option",args:[vt[1].args[1]]}),...a.slice(2)]}case"UPDATE":if(Nt.args){const vt=parseInt(Nt.args[0].int,10),xt=tt(0,null,["pair"]);return[Ct(Vt(xt[1],xt[0],vt)),...a.slice(2)]}else{const vt=tt(0,null,["bool","option"]);if(ct(vt[0]),vt[1].prim==="bool"){const wt=tt(2,["set"]);return st(vt[0],wt[0].args[0]),[Ct({prim:"set",args:[kt(vt[0],{t:null})]}),...a.slice(3)]}const xt=tt(2,["map","big_map"]);return st(vt[0],xt[0].args[0]),xt[0].prim==="map"?[Ct({prim:"map",args:[kt(vt[0],{t:null}),kt(vt[1].args[0],{t:null})]}),...a.slice(3)]:(St(vt[1].args[0]),[Ct({prim:"big_map",args:[kt(vt[0],{t:null}),kt(vt[1].args[0],{t:null})]}),...a.slice(3)])}case"GET_AND_UPDATE":{const vt=Mt({v:2}),xt=tt(0,null,["option"],["map","big_map"]);ct(xt[0]),st(xt[0],xt[2].args[0]),st(xt[1].args[0],xt[2].args[1]);const wt=(Lt=vt.v)===null||Lt===void 0?void 0:Lt.map(_t=>_t!=="@"?[_t]:void 0);return xt[2].prim==="map"?[kt({prim:"option",args:[xt[2].args[1]]},{v:wt==null?void 0:wt[0]}),kt({prim:"map",args:[kt(xt[0],{t:null}),kt(xt[1].args[0],{t:null})]},{v:wt==null?void 0:wt[1]}),...a.slice(3)]:(St(xt[1].args[0]),[kt({prim:"option",args:[xt[2].args[1]]},{v:wt==null?void 0:wt[0]}),kt({prim:"big_map",args:[kt(xt[0],{t:null}),kt(xt[1].args[0],{t:null})]},{v:wt==null?void 0:wt[1]}),...a.slice(3)])}case"EXEC":{const vt=tt(0,null,["lambda"]);return st(vt[0],vt[1].args[0]),[Ct(vt[1].args[1]),...a.slice(2)]}case"APPLY":{const vt=tt(0,null,["lambda"]);if(ht(vt[0]),Et(vt[0]),!isPairType(vt[1].args[0]))throw new MichelsonInstructionError(Nt,a,`${Nt.prim}: function's argument must be a pair: ${typeID(vt[1].args[0])}`);const xt=vt[1].args[0];return st(vt[0],typeArgs(xt)[0]),[Ct({prim:"lambda",args:[typeArgs(xt)[1],vt[1].args[1]]}),...a.slice(2)]}case"FAILWITH":{const vt=tt(0,null)[0];return ProtoInferiorTo(j,Protocol.PtEdo2Zk)||ut(vt),{failed:vt,level:0}}case"NEVER":return tt(0,["never"]),{failed:{prim:"never"},level:0};case"RENAME":return[Ct(tt(0,null)[0]),...a.slice(1)];case"CONCAT":{const vt=tt(0,["string","list","bytes"]);if(vt[0].prim==="list"){if(typeID(vt[0].args[0])!=="string"&&typeID(vt[0].args[0])!=="bytes")throw new MichelsonInstructionError(Nt,a,`${Nt.prim}: can't concatenate list of ${typeID(vt[0].args[0])}'s`);return[Ct(vt[0].args[0]),...a.slice(1)]}const xt=tt(1,["string","bytes"]);if(vt[0].prim!==xt[0].prim)throw new MichelsonInstructionError(Nt,a,`${Nt.prim}: can't concatenate ${vt[0].prim} with ${xt[0].prim}`);return[Ct(xt[0]),...a.slice(2)]}case"SLICE":return[Ct({prim:"option",args:[tt(0,["nat"],["nat"],["string","bytes"])[2]]},"@slice"),...a.slice(3)];case"PACK":{const vt=tt(0,null)[0];return ut(vt),[Ct({prim:"bytes"},"@packed"),...a.slice(1)]}case"ADD":{const vt=tt(0,["nat","int","timestamp","mutez","bls12_381_g1","bls12_381_g2","bls12_381_fr"],["nat","int","timestamp","mutez","bls12_381_g1","bls12_381_g2","bls12_381_fr"]);if(vt[0].prim==="nat"&&vt[1].prim==="int"||vt[0].prim==="int"&&vt[1].prim==="nat")return[Ct({prim:"int"}),...a.slice(2)];if(vt[0].prim==="int"&&vt[1].prim==="timestamp"||vt[0].prim==="timestamp"&&vt[1].prim==="int")return[Ct({prim:"timestamp"}),...a.slice(2)];if((vt[0].prim==="int"||vt[0].prim==="nat"||vt[0].prim==="mutez"||vt[0].prim==="bls12_381_g1"||vt[0].prim==="bls12_381_g2"||vt[0].prim==="bls12_381_fr")&&vt[0].prim===vt[1].prim)return[Ct(vt[0]),...a.slice(2)];throw new MichelsonInstructionError(Nt,a,`${Nt.prim}: can't add ${vt[0].prim} to ${vt[1].prim}`)}case"SUB":{const vt=ProtoInferiorTo(j,Protocol.PsiThaCa)?tt(0,["nat","int","timestamp","mutez"],["nat","int","timestamp","mutez"]):tt(0,["nat","int","timestamp"],["nat","int","timestamp"]);if((vt[0].prim==="nat"||vt[0].prim==="int")&&(vt[1].prim==="nat"||vt[1].prim==="int")||vt[0].prim==="timestamp"&&vt[1].prim==="timestamp")return[Ct({prim:"int"}),...a.slice(2)];if(vt[0].prim==="timestamp"&&vt[1].prim==="int")return[Ct({prim:"timestamp"}),...a.slice(2)];if(vt[0].prim==="mutez"&&vt[1].prim==="mutez")return[Ct({prim:"mutez"}),...a.slice(2)];throw new MichelsonInstructionError(Nt,a,`${Nt.prim}: can't subtract ${vt[0].prim} from ${vt[1].prim}`)}case"SUB_MUTEZ":return tt(0,["mutez"],["mutez"]),[Ct({prim:"option",args:[{prim:"mutez"}]}),...a.slice(2)];case"MUL":{const vt=tt(0,["nat","int","mutez","bls12_381_g1","bls12_381_g2","bls12_381_fr"],["nat","int","mutez","bls12_381_g1","bls12_381_g2","bls12_381_fr"]);if(vt[0].prim==="nat"&&vt[1].prim==="int"||vt[0].prim==="int"&&vt[1].prim==="nat")return[Ct({prim:"int"}),...a.slice(2)];if(vt[0].prim==="nat"&&vt[1].prim==="mutez"||vt[0].prim==="mutez"&&vt[1].prim==="nat")return[Ct({prim:"mutez"}),...a.slice(2)];if((vt[0].prim==="bls12_381_g1"||vt[0].prim==="bls12_381_g2"||vt[0].prim==="bls12_381_fr")&&vt[1].prim==="bls12_381_fr"||(vt[0].prim==="nat"||vt[0].prim==="int")&&vt[0].prim===vt[1].prim)return[Ct(vt[0]),...a.slice(2)];if((vt[0].prim==="nat"||vt[0].prim==="int")&&vt[1].prim==="bls12_381_fr"||(vt[1].prim==="nat"||vt[1].prim==="int")&&vt[0].prim==="bls12_381_fr")return[Ct({prim:"bls12_381_fr"}),...a.slice(2)];throw new MichelsonInstructionError(Nt,a,`${Nt.prim}: can't multiply ${vt[0].prim} by ${vt[1].prim}`)}case"EDIV":{const vt=(wt,_t)=>({prim:"option",args:[{prim:"pair",args:[{prim:wt},{prim:_t}]}]}),xt=tt(0,["nat","int","mutez"],["nat","int","mutez"]);if(xt[0].prim==="nat"&&xt[1].prim==="nat")return[Ct(vt("nat","nat")),...a.slice(2)];if((xt[0].prim==="nat"||xt[0].prim==="int")&&(xt[1].prim==="nat"||xt[1].prim==="int"))return[Ct(vt("int","nat")),...a.slice(2)];if(xt[0].prim==="mutez"&&xt[1].prim==="nat")return[Ct(vt("mutez","mutez")),...a.slice(2)];if(xt[0].prim==="mutez"&&xt[1].prim==="mutez")return[Ct(vt("nat","mutez")),...a.slice(2)];throw new MichelsonInstructionError(Nt,a,`${Nt.prim}: can't euclideally divide ${xt[0].prim} by ${xt[1].prim}`)}case"ABS":return tt(0,["int"]),[Ct({prim:"nat"}),...a.slice(1)];case"ISNAT":return tt(0,["int"]),[Ct({prim:"option",args:[{prim:"nat"}]}),...a.slice(1)];case"INT":return tt(0,["nat","bls12_381_fr","bytes"]),[Ct({prim:"int"}),...a.slice(1)];case"BYTES":return tt(0,["nat","int"]),[Ct({prim:"bytes"}),...a.slice(1)];case"NAT":return tt(0,["bytes"]),[Ct({prim:"nat"}),...a.slice(1)];case"NEG":{const vt=tt(0,["nat","int","bls12_381_g1","bls12_381_g2","bls12_381_fr"])[0];return vt.prim==="nat"||vt.prim==="int"?[Ct({prim:"int"}),...a.slice(1)]:[Ct(vt),...a.slice(1)]}case"LSL":case"LSR":return tt(0,["nat","bytes"],["nat","bytes"]),[Ct({prim:"nat"}),...a.slice(2)];case"OR":case"XOR":{const vt=tt(0,["nat","bytes","bool"],["nat","bytes","bool"]);if(vt[0].prim!==vt[1].prim)throw new MichelsonInstructionError(Nt,a,`${Nt.prim}: both arguments must be of the same type: ${vt[0].prim}, ${vt[1].prim}`);return[Ct(vt[1]),...a.slice(2)]}case"AND":{const vt=tt(0,["nat","bytes","bool","int"],["nat","bytes","bool"]);if((vt[0].prim!=="int"||vt[1].prim!=="nat")&&vt[0].prim!==vt[1].prim)throw new MichelsonInstructionError(Nt,a,`${Nt.prim}: both arguments must be of the same type: ${vt[0].prim}, ${vt[1].prim}`);return[Ct(vt[1]),...a.slice(2)]}case"NOT":return tt(0,["nat","bytes","bool","int"])[0].prim==="bool"?[Ct({prim:"bool"}),...a.slice(1)]:[Ct({prim:"int"}),...a.slice(1)];case"COMPARE":{const vt=tt(0,null,null);return ct(vt[0]),ct(vt[1]),[Ct({prim:"int"}),...a.slice(2)]}case"EQ":case"NEQ":case"LT":case"GT":case"LE":case"GE":return tt(0,["int"]),[Ct({prim:"bool"}),...a.slice(1)];case"SELF":{if(($==null?void 0:$.contract)===void 0)throw new MichelsonInstructionError(Nt,a,`${Nt.prim}: contract required`);const vt=Mt({f:1,v:1}),xt=contractEntryPoint($.contract,(Pt=vt.f)===null||Pt===void 0?void 0:Pt[0]);if(xt===null)throw new MichelsonInstructionError(Nt,a,`${Nt.prim}: contract has no entrypoint ${xt}`);return[kt({prim:"contract",args:[xt]},{v:vt.v?vt.v:["@self"]}),...a]}case"TRANSFER_TOKENS":{const vt=tt(0,null,["mutez"],["contract"]);return st(vt[0],vt[2].args[0]),[Ct({prim:"operation"}),...a.slice(3)]}case"SET_DELEGATE":{const vt=tt(0,["option"])[0];if(typeID(vt.args[0])!=="key_hash")throw new MichelsonInstructionError(Nt,a,`${Nt.prim}: key hash expected: ${typeID(vt.args[0])}`);return[Ct({prim:"operation"}),...a.slice(1)]}case"IMPLICIT_ACCOUNT":return tt(0,["key_hash"]),[Ct({prim:"contract",args:[{prim:"unit"}]}),...a.slice(1)];case"NOW":return[Ct({prim:"timestamp"},"@now"),...a];case"AMOUNT":return[Ct({prim:"mutez"},"@amount"),...a];case"BALANCE":return[Ct({prim:"mutez"},"@balance"),...a];case"CHECK_SIGNATURE":return tt(0,["key"],["signature"],["bytes"]),[Ct({prim:"bool"}),...a.slice(3)];case"BLAKE2B":case"SHA256":case"SHA512":case"KECCAK":case"SHA3":return tt(0,["bytes"]),[Ct({prim:"bytes"}),...a.slice(1)];case"HASH_KEY":return tt(0,["key"]),[Ct({prim:"key_hash"}),...a.slice(1)];case"SOURCE":return[Ct({prim:"address"},"@source"),...a];case"SENDER":return[Ct({prim:"address"},"@sender"),...a];case"ADDRESS":{const vt=tt(0,["contract"])[0],xt=Mt({v:1});return[kt({prim:"address",[refContract]:vt},{v:xt.v?xt.v:jt(it(vt),"address")}),...a.slice(1)]}case"SELF_ADDRESS":{const vt={prim:"address"};return($==null?void 0:$.contract)!==void 0&&(vt[refContract]={prim:"contract",args:[contractSection($.contract,"parameter").args[0]]}),[Ct(vt,"@address"),...a]}case"CHAIN_ID":return[Ct({prim:"chain_id"}),...a];case"DROP":{Mt({});const vt=Nt.args!==void 0?parseInt(Nt.args[0].int,10):1;return tt(vt-1,null),a.slice(vt)}case"DIG":{Mt({});const vt=parseInt(Nt.args[0].int,10);return[tt(vt,null)[0],...a.slice(0,vt),...a.slice(vt+1)]}case"DUG":{Mt({});const vt=parseInt(Nt.args[0].int,10);return[...a.slice(1,vt+1),tt(0,null)[0],...a.slice(vt+1)]}case"NONE":return assertTypeAnnotationsValid(Nt.args[0]),[kt({prim:"option",args:[Nt.args[0]]},Mt({t:1,v:1})),...a];case"LEFT":case"RIGHT":{const vt=tt(0,null)[0],xt=Mt({f:2,t:1,v:1},{specialFields:!0}),wt=it(vt),_t=[kt(vt,{t:null,v:null,f:xt.f&&xt.f.length>0&&xt.f[0]!=="%"?xt.f[0]==="%@"?wt.v?["%"+wt.v[0].slice(1)]:void 0:xt.f:void 0}),kt(Nt.args[0],{t:null,f:xt.f&&xt.f.length>1&&xt.f[1]!=="%"?xt.f:void 0})];return[kt({prim:"or",args:Nt.prim==="LEFT"?_t:[_t[1],_t[0]]},{t:xt.t,v:xt.v}),...a.slice(1)]}case"NIL":return assertTypeAnnotationsValid(Nt.args[0]),[kt({prim:"list",args:[Nt.args[0]]},Mt({t:1,v:1})),...a];case"UNPACK":return tt(0,["bytes"]),assertTypeAnnotationsValid(Nt.args[0]),[Ct({prim:"option",args:[Nt.args[0]]},"@unpacked"),...a.slice(1)];case"CONTRACT":{const vt=tt(0,["address"])[0];assertTypeAnnotationsValid(Nt.args[0]);const xt=Mt({v:1,f:1}),wt=vt[refContract];if(wt!==void 0){const _t=contractEntryPoint(wt,(bt=xt.f)===null||bt===void 0?void 0:bt[0]);if(_t===null)throw new MichelsonInstructionError(Nt,a,`${Nt.prim}: contract has no entrypoint ${_t}`);st(_t,Nt.args[0])}return[kt({prim:"option",args:[{prim:"contract",args:[Nt.args[0]]}]},{v:xt.v?xt.v:jt(it(vt),"contract")}),...a.slice(1)]}case"CAST":{Mt({});const vt=tt(0,null)[0];return assertTypeAnnotationsValid(Nt.args[0]),st(Nt.args[0],vt),[Nt.args[0],...a.slice(1)]}case"IF_NONE":{Mt({});const vt=tt(0,["option"])[0],xt=a.slice(1),wt=functionTypeInternal(Nt.args[0],xt,$),_t=functionTypeInternal(Nt.args[1],[kt(vt.args[0],{t:null,v:jt(it(vt),"some")}),...xt],$);return $t(wt,_t)}case"IF_LEFT":{Mt({});const vt=tt(0,["or"])[0],xt=it(vt),wt=it(vt.args[0]),_t=it(vt.args[1]),At=a.slice(1),Tt=functionTypeInternal(Nt.args[0],[kt(vt.args[0],{t:null,v:jt(xt,wt.f?wt.f[0].slice(1):"left")}),...At],$),yt=functionTypeInternal(Nt.args[1],[kt(vt.args[1],{t:null,v:jt(xt,_t.f?_t.f[0].slice(1):"right")}),...At],$);return $t(Tt,yt)}case"IF_CONS":{Mt({});const vt=tt(0,["list"])[0],xt=it(vt),wt=a.slice(1),_t=functionTypeInternal(Nt.args[0],[kt(vt.args[0],{t:null,v:jt(xt,"hd")}),kt(vt,{t:null,v:jt(xt,"tl")}),...wt],$),At=functionTypeInternal(Nt.args[1],wt,$);return $t(_t,At)}case"IF":{Mt({}),tt(0,["bool"]);const vt=a.slice(1),xt=functionTypeInternal(Nt.args[0],vt,$),wt=functionTypeInternal(Nt.args[1],vt,$);return $t(xt,wt)}case"MAP":{const vt=tt(0,["list","map","option"])[0],xt=a.slice(1),wt=vt.prim==="map"?{prim:"pair",args:vt.args}:vt.args[0],_t=functionTypeInternal(Nt.args[0],[kt(wt,{t:null,v:jt(it(vt),"elt")}),...xt],$);if("failed"in _t){if(!("prim"in _t.failed)||_t.failed.prim!=="never")throw new MichelsonInstructionError(Nt,a,`${Nt.prim}: FAIL is not allowed in MAP`);return{failed:_t.failed,level:_t.level+1}}if(_t.length<1)throw new MichelsonInstructionError(Nt,a,`${Nt.prim}: function must return a value`);return ot(_t.slice(1),xt),vt.prim==="list"?[Ct({prim:"list",args:[_t[0]]}),...xt]:vt.prim==="map"?[Ct({prim:"map",args:[vt.args[0],_t[0]]}),...xt]:[Ct({prim:"option",args:[_t[0]]}),...xt]}case"ITER":{Mt({});const vt=tt(0,["set","list","map"])[0],xt=a.slice(1),wt=vt.prim==="map"?{prim:"pair",args:vt.args}:vt.args[0],_t=functionTypeInternal(Nt.args[0],[kt(wt,{t:null,v:jt(it(vt),"elt")}),...xt],$);return"failed"in _t?{failed:_t.failed,level:_t.level+1}:(ot(_t,xt),xt)}case"LOOP":{Mt({}),tt(0,["bool"]);const vt=a.slice(1),xt=functionTypeInternal(Nt.args[0],vt,$);return"failed"in xt?{failed:xt.failed,level:xt.level+1}:(ot(xt,[{prim:"bool"},...vt]),vt)}case"LOOP_LEFT":{Mt({});const vt=tt(0,["or"])[0],xt=a.slice(1),wt=functionTypeInternal(Nt.args[0],[kt(vt.args[0],{t:null,v:jt(it(vt),"left")}),...xt],$);return"failed"in wt?{failed:wt.failed,level:wt.level+1}:(ot(wt,[vt,...xt]),[kt(vt.args[1],{t:null,v:Mt({v:1}).v}),...xt])}case"DIP":{Mt({});const vt=Nt.args.length===2?parseInt(Nt.args[0].int,10):1;tt(vt-1,null);const xt=a.slice(0,vt),wt=a.slice(vt),_t=Nt.args.length===2?functionTypeInternal(Nt.args[1],wt,$):functionTypeInternal(Nt.args[0],wt,$);return"failed"in _t?{failed:_t.failed,level:_t.level+1}:[...xt,..._t]}case"CREATE_CONTRACT":{const vt=Mt({v:2}),xt=tt(0,["option"],["mutez"],null);if(typeID(xt[0].args[0])!=="key_hash")throw new MichelsonInstructionError(Nt,a,`${Nt.prim}: key hash expected: ${typeID(xt[0].args[0])}`);ht(xt[2])&&(assertContractValid(Nt.args[0]),assertScalarTypesEqual(contractSection(Nt.args[0],"storage").args[0],xt[2]));const wt=(at=vt.v)===null||at===void 0?void 0:at.map(_t=>_t!=="@"?[_t]:void 0);return[kt({prim:"operation"},{v:wt==null?void 0:wt[0]}),kt({prim:"address",[refContract]:{prim:"contract",args:[contractSection(Nt.args[0],"parameter").args[0]]}},{v:wt==null?void 0:wt[1]}),...a.slice(3)]}case"PUSH":return assertTypeAnnotationsValid(Nt.args[0]),assertDataValidInternal(Nt.args[1],Nt.args[0],Object.assign(Object.assign({},$),{contract:void 0})),[Ct(Nt.args[0]),...a];case"EMPTY_SET":return assertTypeAnnotationsValid(Nt.args[0]),ct(Nt.args[0]),[kt({prim:"set",args:Nt.args},Mt({t:1,v:1})),...a];case"EMPTY_MAP":return assertTypeAnnotationsValid(Nt.args[0]),ct(Nt.args[0]),assertTypeAnnotationsValid(Nt.args[1]),[kt({prim:"map",args:Nt.args},Mt({t:1,v:1})),...a];case"EMPTY_BIG_MAP":return assertTypeAnnotationsValid(Nt.args[0]),ct(Nt.args[0]),assertTypeAnnotationsValid(Nt.args[1]),St(Nt.args[0]),[kt({prim:"big_map",args:Nt.args},Mt({t:1,v:1})),...a];case"LAMBDA_REC":case"LAMBDA":{assertTypeAnnotationsValid(Nt.args[0]),assertTypeAnnotationsValid(Nt.args[1]);const vt=[Nt.args[0]];Nt.prim==="LAMBDA_REC"&&vt.push({prim:"lambda",args:[Nt.args[0],Nt.args[1]]});const xt=functionTypeInternal(Nt.args[2],vt,Object.assign(Object.assign({},$),{contract:void 0}));if("failed"in xt)return{failed:xt.failed,level:xt.level+1};if(xt.length!==1)throw new MichelsonInstructionError(Nt,a,`${Nt.prim}: function must return a value`);return st(Nt.args[1],xt[0]),[Ct({prim:"lambda",args:[Nt.args[0],Nt.args[1]]}),...a]}case"LEVEL":return[Ct({prim:"nat"},"@level"),...a];case"TOTAL_VOTING_POWER":return[Ct({prim:"nat"}),...a];case"VOTING_POWER":return tt(0,["key_hash"]),[Ct({prim:"nat"}),...a.slice(1)];case"TICKET":{const vt=tt(0,null,["nat"])[0];return ct(vt),ProtoInferiorTo(j,Protocol.PtLimaPtL)?[kt({prim:"ticket",args:[vt]},Mt({t:1,v:1})),...a.slice(2)]:[Ct({prim:"option",args:[kt({prim:"ticket",args:[vt]},Mt({t:1,v:1}))]}),...a.slice(2)]}case"JOIN_TICKETS":{const vt=unpackComb("pair",tt(0,["pair"])[0]);if(typeID(vt.args[0])!=="ticket")throw new MichelsonInstructionError(Nt,a,`${Nt.prim}: ticket expected: ${typeID(vt.args[0])}`);return st(vt.args[0],vt.args[1]),[Ct({prim:"option",args:[kt(vt.args[0],{t:null})]}),...a.slice(1)]}case"SPLIT_TICKET":{const vt=tt(0,["ticket"],["pair"]),xt=unpackComb("pair",vt[1]);if(typeID(xt.args[0])!=="nat")throw new MichelsonInstructionError(Nt,a,`${Nt.prim}: nat expected: ${typeID(xt.args[0])}`);return st(xt.args[0],xt.args[1]),[Ct({prim:"option",args:[{prim:"pair",args:[kt(vt[0],{t:null}),kt(vt[0],{t:null})]}]}),...a.slice(2)]}case"READ_TICKET":{const vt=Mt({v:2}),xt=tt(0,["ticket"])[0],wt=(dt=vt.v)===null||dt===void 0?void 0:dt.map(_t=>_t!=="@"?[_t]:void 0);return[kt({prim:"pair",args:[{prim:"address"},kt(xt.args[0],{t:null}),{prim:"nat"}]},{v:wt==null?void 0:wt[0]}),kt(xt,{v:wt==null?void 0:wt[1],t:null}),...a.slice(1)]}case"PAIRING_CHECK":{const vt=tt(0,["list"])[0].args[0];if(!isPairType(vt))throw new MichelsonInstructionError(Nt,a,`${Nt.prim}: pair expected: ${typeID(vt)}`);const xt=unpackComb("pair",vt);if(typeID(xt.args[0])!=="bls12_381_g1")throw new MichelsonInstructionError(Nt,a,`${Nt.prim}: bls12_381_g1 expected: ${typeID(xt.args[0])}`);if(typeID(xt.args[1])!=="bls12_381_g2")throw new MichelsonInstructionError(Nt,a,`${Nt.prim}: bls12_381_g2 expected: ${typeID(xt.args[1])}`);return[Ct({prim:"bool"}),...a.slice(1)]}case"SAPLING_EMPTY_STATE":return[kt({prim:"sapling_state",args:[Nt.args[0]]},Mt({v:1,t:1})),...a];case"SAPLING_VERIFY_UPDATE":{const vt=tt(0,["sapling_transaction"],["sapling_state"]);if(parseInt(vt[0].args[0].int,10)!==parseInt(vt[1].args[0].int,10))throw new MichelsonInstructionError(Nt,a,`${Nt.prim}: sapling memo size mismatch: ${vt[0].args[0].int} != ${vt[1].args[0].int}`);return ProtoInferiorTo(j,Protocol.PtJakarta)?[Ct({prim:"option",args:[{prim:"pair",args:[{prim:"int"},kt(vt[1],{t:null})]}]}),...a.slice(2)]:[Ct({prim:"option",args:[{prim:"pair",args:[{prim:"bytes"},{prim:"pair",args:[{prim:"int"},kt(vt[1],{t:null})]}]}]}),...a.slice(2)]}case"OPEN_CHEST":return tt(0,["chest_key"],["chest"],["nat"]),[Ct({prim:"or",args:[{prim:"bytes"},{prim:"bool"}]}),...a.slice(3)];case"VIEW":{const vt=tt(0,null,["address"]);return Et(vt[0]),[Ct({prim:"option",args:[Nt.args[1]]}),...a.slice(2)]}case"MIN_BLOCK_TIME":return[Ct({prim:"nat"}),...a];case"EMIT":{const vt=Mt({f:1,t:1});if(Nt.args){const xt=tt(0,null);return st(xt[0],Nt.args[0]),[kt({prim:"operation"},vt),...a.slice(1)]}return[kt({prim:"operation"},vt),...a.slice(1)]}default:throw new MichelsonError(Nt,`unexpected instruction: ${Nt.prim}`)}})(et);if(($==null?void 0:$.traceCallback)!==void 0){const Nt={op:et,in:a,out:Bt};$.traceCallback(Nt)}return Bt}function contractSection(_,a){for(const $ of _)if($.prim===a)return $;throw new MichelsonError(_,`missing contract section: ${a}`)}function contractViews(_){const a={};for(const $ of _)$.prim==="view"&&(a[$.args[0].string]=$);return a}function isContract(_){if(Array.isArray(_)){for(const a of _)if("prim"in a&&(a.prim==="parameter"||a.prim==="storage"||a.prim==="code"))return!0}return!1}function contractEntryPoint(_,a){a=a||"%default";const $=contractEntryPoints(_).find(j=>j[0]===a);return $!==void 0?$[1]:a==="%default"?isContract(_)?contractSection(_,"parameter").args[0]:_:null}function isOrType(_){return Array.isArray(_)||_.prim==="or"}function contractEntryPoints(_){if(isContract(_)){const a=contractSection(_,"parameter"),$=contractEntryPoints(a.args[0]),j=unpackAnnotations(a);return j.f?[[j.f[0],a.args[0]],...$]:$}if(isOrType(_)){const a=typeArgs(_),$=j=>{const et=unpackAnnotations(a[j]);if(typeID(a[j])==="or"){const tt=contractEntryPoints(a[j]);return et.f?[[et.f[0],a[j]],...tt]:tt}return et.f?[[et.f[0],a[j]]]:[]};return[...$(0),...$(1)]}return[]}function assertContractValid(_,a){const $=(it,ot,st,ct)=>{assertTypeAnnotationsValid(it,!0),assertTypeAnnotationsValid(ot);const ut={prim:"pair",args:[Object.assign(Object.assign({},it),{annots:["@parameter"]}),Object.assign(Object.assign({},ot),{annots:["@storage"]})]},ht=functionTypeInternal(ct,[ut],Object.assign(Object.assign({},a),{contract:_}));if("failed"in ht)return ht;try{assertStacksEqual(ht,[st])}catch(Et){throw Et instanceof MichelsonError?new MichelsonInstructionError(ct,ht,Et.message):Et}return ht},j=contractSection(_,"parameter").args[0],et=contractSection(_,"storage").args[0],tt=contractSection(_,"code").args[0],nt=$(j,et,{prim:"pair",args:[{prim:"list",args:[{prim:"operation"}]},et]},tt);for(const it of Object.values(contractViews(_)))$(it.args[1],et,it.args[2],it.args[3]);return nt}function assertDataValid(_,a,$){assertTypeAnnotationsValid(a),assertDataValidInternal(_,a,$||null)}function functionType(_,a,$){for(const j of a)assertTypeAnnotationsValid(j);if(($==null?void 0:$.contract)!==void 0)for(const j of["parameter","storage"]){const et=contractSection($.contract,j).args[0];assertTypeAnnotationsValid(et)}return functionTypeInternal(_,a,$||null)}function isDataValid(_,a,$){try{return assertDataValid(_,a,$),!0}catch{return!1}}class Contract{constructor(a,$){this.contract=a,this.ctx=Object.assign({contract:a},$),this.output=assertContractValid(a,this.ctx)}static parse(a,$){const j=new Parser$1($),et=typeof a=="string"?j.parseScript(a):j.parseJSON(a);if(et===null)throw new InvalidMichelsonError("empty Michelson");if(assertMichelsonContract(et))return new Contract(et,$)}static parseTypeExpression(a,$){const j=new Parser$1($),et=typeof a=="string"?j.parseScript(a):j.parseJSON(a);if(et===null)throw new InvalidTypeExpressionError("empty type expression");if(assertMichelsonType(et))return assertTypeAnnotationsValid(et),et}static parseDataExpression(a,$){const j=new Parser$1($),et=typeof a=="string"?j.parseScript(a):j.parseJSON(a);if(et===null)throw new InvalidDataExpressionError("empty data expression");if(assertMichelsonData(et))return et;throw void 0}section(a){return contractSection(this.contract,a)}entryPoints(){return contractEntryPoints(this.contract)}entryPoint(a){return contractEntryPoint(this.contract,a)}assertDataValid(a,$){assertDataValid(a,$,this.ctx)}isDataValid(a,$){return isDataValid(a,$,this.ctx)}assertParameterValid(a,$){const j=this.entryPoint(a||void 0);if(j===null)throw new InvalidEntrypointError(a==null?void 0:a.toString());this.assertDataValid($,j)}isParameterValid(a,$){try{return this.assertParameterValid(a,$),!0}catch{return!1}}functionType(a,$){return functionType(a,$,this.ctx)}}new Contract([{prim:"parameter",args:[{prim:"unit"}]},{prim:"storage",args:[{prim:"unit"}]},{prim:"code",args:[[{prim:"CAR"},{prim:"NIL",args:[{prim:"operation"}]},{prim:"PAIR"}]]}]);function __awaiter$3(_,a,$,j){function et(tt){return tt instanceof $?tt:new $(function(rt){rt(tt)})}return new($||($=Promise))(function(tt,rt){function nt(st){try{ot(j.next(st))}catch(ct){rt(ct)}}function it(st){try{ot(j.throw(st))}catch(ct){rt(ct)}}function ot(st){st.done?tt(st.value):et(st.value).then(nt,it)}ot((j=j.apply(_,[])).next())})}typeof SuppressedError=="function"&&SuppressedError;class HttpRequestFailed extends NetworkError{constructor(a,$,j){super(),this.method=a,this.url=$,this.cause=j,this.name="HttpRequestFailed",this.message=`${a} ${$} ${String(j)}`}}class HttpResponseError extends NetworkError{constructor(a,$,j,et,tt){super(),this.message=a,this.status=$,this.statusText=j,this.body=et,this.url=tt,this.name="HttpResponseError"}}class HttpTimeoutError extends NetworkError{constructor(a,$){super(),this.timeout=a,this.url=$,this.name="HttpTimeoutError",this.message=`HTTP request timeout of ${a}ms exceeded`}}var STATUS_CODE;(function(_){_[_.CONTINUE=100]="CONTINUE",_[_.SWITCHING_PROTOCOLS=101]="SWITCHING_PROTOCOLS",_[_.PROCESSING=102]="PROCESSING",_[_.OK=200]="OK",_[_.CREATED=201]="CREATED",_[_.ACCEPTED=202]="ACCEPTED",_[_.NON_AUTHORITATIVE_INFORMATION=203]="NON_AUTHORITATIVE_INFORMATION",_[_.NO_CONTENT=204]="NO_CONTENT",_[_.RESET_CONTENT=205]="RESET_CONTENT",_[_.PARTIAL_CONTENT=206]="PARTIAL_CONTENT",_[_.MULTI_STATUS=207]="MULTI_STATUS",_[_.ALREADY_REPORTED=208]="ALREADY_REPORTED",_[_.IM_USED=226]="IM_USED",_[_.MULTIPLE_CHOICES=300]="MULTIPLE_CHOICES",_[_.MOVED_PERMANENTLY=301]="MOVED_PERMANENTLY",_[_.FOUND=302]="FOUND",_[_.SEE_OTHER=303]="SEE_OTHER",_[_.NOT_MODIFIED=304]="NOT_MODIFIED",_[_.USE_PROXY=305]="USE_PROXY",_[_.SWITCH_PROXY=306]="SWITCH_PROXY",_[_.TEMPORARY_REDIRECT=307]="TEMPORARY_REDIRECT",_[_.PERMANENT_REDIRECT=308]="PERMANENT_REDIRECT",_[_.BAD_REQUEST=400]="BAD_REQUEST",_[_.UNAUTHORIZED=401]="UNAUTHORIZED",_[_.PAYMENT_REQUIRED=402]="PAYMENT_REQUIRED",_[_.FORBIDDEN=403]="FORBIDDEN",_[_.NOT_FOUND=404]="NOT_FOUND",_[_.METHOD_NOT_ALLOWED=405]="METHOD_NOT_ALLOWED",_[_.NOT_ACCEPTABLE=406]="NOT_ACCEPTABLE",_[_.PROXY_AUTHENTICATION_REQUIRED=407]="PROXY_AUTHENTICATION_REQUIRED",_[_.REQUEST_TIMEOUT=408]="REQUEST_TIMEOUT",_[_.CONFLICT=409]="CONFLICT",_[_.GONE=410]="GONE",_[_.LENGTH_REQUIRED=411]="LENGTH_REQUIRED",_[_.PRECONDITION_FAILED=412]="PRECONDITION_FAILED",_[_.PAYLOAD_TOO_LARGE=413]="PAYLOAD_TOO_LARGE",_[_.URI_TOO_LONG=414]="URI_TOO_LONG",_[_.UNSUPPORTED_MEDIA_TYPE=415]="UNSUPPORTED_MEDIA_TYPE",_[_.RANGE_NOT_SATISFIABLE=416]="RANGE_NOT_SATISFIABLE",_[_.EXPECTATION_FAILED=417]="EXPECTATION_FAILED",_[_.I_AM_A_TEAPOT=418]="I_AM_A_TEAPOT",_[_.MISDIRECTED_REQUEST=421]="MISDIRECTED_REQUEST",_[_.UNPROCESSABLE_ENTITY=422]="UNPROCESSABLE_ENTITY",_[_.LOCKED=423]="LOCKED",_[_.FAILED_DEPENDENCY=424]="FAILED_DEPENDENCY",_[_.UPGRADE_REQUIRED=426]="UPGRADE_REQUIRED",_[_.PRECONDITION_REQUIRED=428]="PRECONDITION_REQUIRED",_[_.TOO_MANY_REQUESTS=429]="TOO_MANY_REQUESTS",_[_.REQUEST_HEADER_FIELDS_TOO_LARGE=431]="REQUEST_HEADER_FIELDS_TOO_LARGE",_[_.UNAVAILABLE_FOR_LEGAL_REASONS=451]="UNAVAILABLE_FOR_LEGAL_REASONS",_[_.INTERNAL_SERVER_ERROR=500]="INTERNAL_SERVER_ERROR",_[_.NOT_IMPLEMENTED=501]="NOT_IMPLEMENTED",_[_.BAD_GATEWAY=502]="BAD_GATEWAY",_[_.SERVICE_UNAVAILABLE=503]="SERVICE_UNAVAILABLE",_[_.GATEWAY_TIMEOUT=504]="GATEWAY_TIMEOUT",_[_.HTTP_VERSION_NOT_SUPPORTED=505]="HTTP_VERSION_NOT_SUPPORTED",_[_.VARIANT_ALSO_NEGOTIATES=506]="VARIANT_ALSO_NEGOTIATES",_[_.INSUFFICIENT_STORAGE=507]="INSUFFICIENT_STORAGE",_[_.LOOP_DETECTED=508]="LOOP_DETECTED",_[_.NOT_EXTENDED=510]="NOT_EXTENDED",_[_.NETWORK_AUTHENTICATION_REQUIRED=511]="NETWORK_AUTHENTICATION_REQUIRED"})(STATUS_CODE||(STATUS_CODE={}));var _a$2;let fetch$1=globalThis==null?void 0:globalThis.fetch;const isNode=typeof process$1$1<"u"&&!!(!((_a$2=process$1$1==null?void 0:process$1$1.versions)===null||_a$2===void 0)&&_a$2.node);isNode&&(fetch$1=require("node-fetch"));class HttpBackend{constructor(a=3e4){this.timeout=a}serialize(a){if(!a)return"";const $=[];for(const et in a)if(a.hasOwnProperty(et)&&typeof a[et]<"u"){const tt=typeof a[et].toJSON=="function"?a[et].toJSON():a[et];if(tt===null){$.push(encodeURIComponent(et));continue}if(Array.isArray(tt)){tt.forEach(rt=>{$.push(encodeURIComponent(et)+"="+encodeURIComponent(rt))});continue}$.push(encodeURIComponent(et)+"="+encodeURIComponent(tt))}const j=$.join("&");return j?`?${j}`:""}createRequest({url:a,method:$,timeout:j=this.timeout,query:et,headers:tt={},json:rt=!0},nt){return __awaiter$3(this,void 0,void 0,function*(){const it=a+this.serialize(et);tt["Content-Type"]||(tt["Content-Type"]="application/json");const ot=new AbortController,st=setTimeout(()=>ot.abort(),j);try{const ct=yield fetch$1(it,{method:$,headers:tt,body:JSON.stringify(nt),signal:ot.signal});if(typeof ct>"u")throw new Error("Response is undefined");if(ct.status>=400){const ut=yield ct.text();throw new HttpResponseError(`Http error response: (${ct.status}) ${ut}`,ct.status,ct.statusText,ut,it)}return rt?ct.json():ct.text()}catch(ct){throw ct instanceof Error&&ct.name==="AbortError"?new HttpTimeoutError(j,it):ct instanceof HttpResponseError?ct:new HttpRequestFailed(String($),it,ct)}finally{clearTimeout(st)}})}}function __rest$1(_,a){var $={};for(var j in _)Object.prototype.hasOwnProperty.call(_,j)&&a.indexOf(j)<0&&($[j]=_[j]);if(_!=null&&typeof Object.getOwnPropertySymbols=="function")for(var et=0,j=Object.getOwnPropertySymbols(_);et<j.length;et++)a.indexOf(j[et])<0&&Object.prototype.propertyIsEnumerable.call(_,j[et])&&($[j[et]]=_[j[et]]);return $}function __awaiter$2(_,a,$,j){function et(tt){return tt instanceof $?tt:new $(function(rt){rt(tt)})}return new($||($=Promise))(function(tt,rt){function nt(st){try{ot(j.next(st))}catch(ct){rt(ct)}}function it(st){try{ot(j.throw(st))}catch(ct){rt(ct)}}function ot(st){st.done?tt(st.value):et(st.value).then(nt,it)}ot((j=j.apply(_,[])).next())})}typeof SuppressedError=="function"&&SuppressedError;const defaultChain="main",defaultRPCOptions={block:"head"};var RPCMethodName;(function(_){_.GET_BAKING_RIGHTS="getBakingRights",_.GET_BALLOTS="getBallots",_.GET_BALLOT_LIST="getBallotList",_.GET_BIG_MAP_KEY="getBigMapKey",_.GET_BIG_MAP_EXPR="getBigMapExpr",_.GET_BLOCK_HASH="getBlockHash",_.GET_BLOCK="getBlock",_.GET_BLOCK_HEADER="getBlockHeader",_.GET_BLOCK_METADATA="getBlockMetadata",_.GET_BALANCE="getBalance",_.GET_CHAIN_ID="getChainId",_.GET_CONSTANTS="getConstants",_.GET_CONTRACT="getContract",_.GET_CURRENT_PERIOD="getCurrentPeriod",_.GET_CURRENT_PROPOSAL="getCurrentProposal",_.GET_CURRENT_QUORUM="getCurrentQuorum",_.GET_DELEGATE="getDelegate",_.GET_DELEGATES="getDelegates",_.GET_VOTING_INFO="getVotingInfo",_.GET_ATTESTATION_RIGHTS="getAttestationRights",_.GET_ENDORSING_RIGHTS="getEndorsingRights",_.GET_ENTRYPOINTS="getEntrypoints",_.GET_LIVE_BLOCKS="getLiveBlocks",_.GET_MANAGER_KEY="getManagerKey",_.GET_NORMALIZED_SCRIPT="getNormalizedScript",_.GET_PROPOSALS="getProposals",_.GET_PROTOCOLS="getProtocols",_.GET_SAPLING_DIFF_BY_CONTRACT="getSaplingDiffByContract",_.GET_SAPLING_DIFF_BY_ID="getSaplingDiffById",_.GET_SCRIPT="getScript",_.GET_STORAGE="getStorage",_.GET_SUCCESSOR_PERIOD="getSuccessorPeriod",_.GET_VOTES_LISTINGS="getVotesListings",_.PACK_DATA="packData",_.GET_STORAGE_USED_SPACE="getStorageUsedSpace",_.GET_STORAGE_PAID_SPACE="getStoragePaidSpace",_.GET_TICKET_BALANCE="getTicketBalance",_.GET_ALL_TICKET_BALANCES="getAllTicketBalances",_.GET_PENDING_OPERATIONS="getPendingOperations"})(RPCMethodName||(RPCMethodName={}));function castToBigNumber(_,a){const $=Array.isArray(_);typeof a>"u"&&(a=Object.keys(_));const j=$?[]:{};return a.forEach(et=>{const tt=_[et];let rt;if(!(typeof tt>"u")){if(Array.isArray(tt)){rt=castToBigNumber(tt),j[et]=rt;return}rt=new BigNumber(tt),j[et]=rt}}),j}var OPERATION_METADATA;(function(_){_.TOO_LARGE="too large"})(OPERATION_METADATA||(OPERATION_METADATA={}));var METADATA_BALANCE_UPDATES_CATEGORY;(function(_){_.BAKING_BONUSES="baking bonuses",_.BAKING_REWARDS="baking rewards",_.BLOCK_FEES="block fees",_.BONDS="bonds",_.BOOTSTRAP="bootstrap",_.BURNED="burned",_.COMMITMENT="commitment",_.DELEGATE_DENOMINATOR="delegate_denominator",_.DELEGATOR_NUMERATOR="delegator_numerator",_.DEPOSITS="deposits",_.ENDORSING_REWARDS="endorsing rewards",_.INVOICE="invoice",_.LOST_ENDORSING_REWARDS="lost endorsing rewards",_.MINTED="minted",_.NONCE_REVELATION_REWARDS="nonce revelation rewards",_.PUNISHMENTS="punishments",_.SMART_ROLLUP_REFUTATION_PUNISHMENTS="smart_rollup_refutation_punishments",_.SMART_ROLLUP_REFUTATION_REWARDS="smart_rollup_refutation_rewards",_.STORAGE_FEES="storage fees",_.SUBSIDY="subsidy",_.UNSTAKED_DEPOSITS="unstaked_deposits"})(METADATA_BALANCE_UPDATES_CATEGORY||(METADATA_BALANCE_UPDATES_CATEGORY={}));var PvmKind;(function(_){_.WASM2="wasm_2_0_0",_.ARITH="arith",_.RISCV="riscv"})(PvmKind||(PvmKind={}));var SmartRollupRefutationOptions;(function(_){_.START="start",_.MOVE="move"})(SmartRollupRefutationOptions||(SmartRollupRefutationOptions={}));var SmartRollupInputProofKind;(function(_){_.INBOX_PROOF="inbox_proof",_.REVEAL_PROOF="reveal_proof",_.FIRST_INPUT="first_input"})(SmartRollupInputProofKind||(SmartRollupInputProofKind={}));var SmartRollupRefuteRevealProofKind;(function(_){_.RAW_DATA_PROOF="raw_data_proof",_.METADATA_PROOF="metadata_proof",_.DAL_PAGE_PROOF="dal_page_proof"})(SmartRollupRefuteRevealProofKind||(SmartRollupRefuteRevealProofKind={}));var SmartRollupRefuteGameStatusOptions;(function(_){_.ONGOING="ongoing",_.ENDED="ended"})(SmartRollupRefuteGameStatusOptions||(SmartRollupRefuteGameStatusOptions={}));var SmartRollupRefuteGameEndedPlayerOutcomes;(function(_){_.LOSER="loser",_.DRAW="draw"})(SmartRollupRefuteGameEndedPlayerOutcomes||(SmartRollupRefuteGameEndedPlayerOutcomes={}));var SmartRollupRefuteGameEndedReason;(function(_){_.CONFLICT_RESOLVED="conflict_resolved",_.TIMEOUT="timeout"})(SmartRollupRefuteGameEndedReason||(SmartRollupRefuteGameEndedReason={}));var OpKind;(function(_){_.ORIGINATION="origination",_.DELEGATION="delegation",_.REVEAL="reveal",_.TRANSACTION="transaction",_.ACTIVATION="activate_account",_.ATTESTATION="attestation",_.ENDORSEMENT="endorsement",_.PREATTESTATION="preattestation",_.PREENDORSEMENT="preendorsement",_.SET_DEPOSITS_LIMIT="set_deposits_limit",_.DOUBLE_PREATTESTATION_EVIDENCE="double_preattestation_evidence",_.DOUBLE_PREENDORSEMENT_EVIDENCE="double_preendorsement_evidence",_.ATTESTATION_WITH_SLOT="attestation_with_slot",_.ENDORSEMENT_WITH_SLOT="endorsement_with_slot",_.SEED_NONCE_REVELATION="seed_nonce_revelation",_.DOUBLE_ATTESTATION_EVIDENCE="double_attestation_evidence",_.DOUBLE_ENDORSEMENT_EVIDENCE="double_endorsement_evidence",_.DOUBLE_BAKING_EVIDENCE="double_baking_evidence",_.PROPOSALS="proposals",_.BALLOT="ballot",_.FAILING_NOOP="failing_noop",_.REGISTER_GLOBAL_CONSTANT="register_global_constant",_.TRANSFER_TICKET="transfer_ticket",_.INCREASE_PAID_STORAGE="increase_paid_storage",_.UPDATE_CONSENSUS_KEY="update_consensus_key",_.DRAIN_DELEGATE="drain_delegate",_.VDF_REVELATION="vdf_revelation",_.EVENT="event",_.TICKET_UPDATES="ticket_updates",_.SMART_ROLLUP_ORIGINATE="smart_rollup_originate",_.SMART_ROLLUP_ADD_MESSAGES="smart_rollup_add_messages",_.SMART_ROLLUP_EXECUTE_OUTBOX_MESSAGE="smart_rollup_execute_outbox_message",_.SMART_ROLLUP_PUBLISH="smart_rollup_publish",_.SMART_ROLLUP_CEMENT="smart_rollup_cement",_.SMART_ROLLUP_RECOVER_BOND="smart_rollup_recover_bond",_.SMART_ROLLUP_REFUTE="smart_rollup_refute",_.SMART_ROLLUP_TIMEOUT="smart_rollup_timeout"})(OpKind||(OpKind={}));class RpcClient{constructor(a,$=defaultChain,j=new HttpBackend){this.url=a,this.chain=$,this.httpBackend=j}createURL(a){let $=this.url;for(;$.endsWith("/");)$=$.slice(0,-1);return`${$}${a}`}validateAddress(a){const $=validateAddress(a);if($!==ValidationResult.VALID)throw new InvalidAddressError(a,invalidDetail($))}validateContract(a){const $=validateContractAddress(a);if($!==ValidationResult.VALID)throw new InvalidContractAddressError(a,invalidDetail($))}getBlockHash({block:a}=defaultRPCOptions){return __awaiter$2(this,void 0,void 0,function*(){return yield this.httpBackend.createRequest({url:this.createURL(`/chains/${this.chain}/blocks/${a}/hash`),method:"GET"})})}getLiveBlocks({block:a}=defaultRPCOptions){return __awaiter$2(this,void 0,void 0,function*(){return yield this.httpBackend.createRequest({url:this.createURL(`/chains/${this.chain}/blocks/${a}/live_blocks`),method:"GET"})})}getBalance(a,{block:$}=defaultRPCOptions){return __awaiter$2(this,void 0,void 0,function*(){this.validateAddress(a);const j=yield this.httpBackend.createRequest({url:this.createURL(`/chains/${this.chain}/blocks/${$}/context/contracts/${a}/balance`),method:"GET"});return new BigNumber(j)})}getStorage(a,{block:$}=defaultRPCOptions){return __awaiter$2(this,void 0,void 0,function*(){return this.validateContract(a),this.httpBackend.createRequest({url:this.createURL(`/chains/${this.chain}/blocks/${$}/context/contracts/${a}/storage`),method:"GET"})})}getScript(a,{block:$}=defaultRPCOptions){return __awaiter$2(this,void 0,void 0,function*(){return this.validateContract(a),this.httpBackend.createRequest({url:this.createURL(`/chains/${this.chain}/blocks/${$}/context/contracts/${a}/script`),method:"GET"})})}getNormalizedScript(a,$={unparsing_mode:"Readable"},{block:j}=defaultRPCOptions){return __awaiter$2(this,void 0,void 0,function*(){return this.validateContract(a),this.httpBackend.createRequest({url:this.createURL(`/chains/${this.chain}/blocks/${j}/context/contracts/${a}/script/normalized`),method:"POST"},$)})}getContract(a,{block:$}=defaultRPCOptions){return __awaiter$2(this,void 0,void 0,function*(){this.validateAddress(a);const j=yield this.httpBackend.createRequest({url:this.createURL(`/chains/${this.chain}/blocks/${$}/context/contracts/${a}`),method:"GET"});return Object.assign(Object.assign({},j),{balance:new BigNumber(j.balance)})})}getManagerKey(a,{block:$}=defaultRPCOptions){return __awaiter$2(this,void 0,void 0,function*(){return this.validateAddress(a),this.httpBackend.createRequest({url:this.createURL(`/chains/${this.chain}/blocks/${$}/context/contracts/${a}/manager_key`),method:"GET"})})}getDelegate(a,{block:$}=defaultRPCOptions){return __awaiter$2(this,void 0,void 0,function*(){this.validateAddress(a);let j;try{j=yield this.httpBackend.createRequest({url:this.createURL(`/chains/${this.chain}/blocks/${$}/context/contracts/${a}/delegate`),method:"GET"})}catch(et){if(et instanceof HttpResponseError&&et.status===STATUS_CODE.NOT_FOUND)j=null;else throw et}return j})}getBigMapKey(a,$,{block:j}=defaultRPCOptions){return __awaiter$2(this,void 0,void 0,function*(){return this.validateAddress(a),this.httpBackend.createRequest({url:this.createURL(`/chains/${this.chain}/blocks/${j}/context/contracts/${a}/big_map_get`),method:"POST"},$)})}getBigMapExpr(a,$,{block:j}=defaultRPCOptions){return __awaiter$2(this,void 0,void 0,function*(){return this.httpBackend.createRequest({url:this.createURL(`/chains/${this.chain}/blocks/${j}/context/big_maps/${a}/${$}`),method:"GET"})})}getDelegates(a,{block:$}=defaultRPCOptions){return __awaiter$2(this,void 0,void 0,function*(){this.validateAddress(a);const j=yield this.httpBackend.createRequest({url:this.createURL(`/chains/${this.chain}/blocks/${$}/context/delegates/${a}`),method:"GET"}),et=castToBigNumber(j,["balance","full_balance","current_frozen_deposits","frozen_deposits","frozen_balance","frozen_deposits_limit","staking_balance","delegated_balance","voting_power","total_delegated_stake","staking_denominator"]);return Object.assign(Object.assign(Object.assign({},j),et),{frozen_balance_by_cycle:j.frozen_balance_by_cycle?j.frozen_balance_by_cycle.map(tt=>{var{deposit:rt,deposits:nt,fees:it,rewards:ot}=tt,st=__rest$1(tt,["deposit","deposits","fees","rewards"]);const ct=castToBigNumber({deposit:rt,deposits:nt,fees:it,rewards:ot},["deposit","deposits","fees","rewards"]);return Object.assign(Object.assign({},st),{deposit:ct.deposit,deposits:ct.deposits,fees:ct.fees,rewards:ct.rewards})}):void 0})})}getVotingInfo(a,{block:$}=defaultRPCOptions){return __awaiter$2(this,void 0,void 0,function*(){return this.validateAddress(a),yield this.httpBackend.createRequest({url:this.createURL(`/chains/${this.chain}/blocks/${$}/context/delegates/${a}/voting_info`),method:"GET"})})}getConstants({block:a}=defaultRPCOptions){return __awaiter$2(this,void 0,void 0,function*(){const $=yield this.httpBackend.createRequest({url:this.createURL(`/chains/${this.chain}/blocks/${a}/context/constants`),method:"GET"}),j=castToBigNumber($,["time_between_blocks","hard_gas_limit_per_operation","hard_gas_limit_per_block","proof_of_work_threshold","tokens_per_roll","seed_nonce_revelation_tip","block_security_deposit","endorsement_security_deposit","block_reward","endorsement_reward","cost_per_byte","hard_storage_limit_per_operation","test_chain_duration","baking_reward_per_endorsement","delay_per_missing_endorsement","minimal_block_delay","liquidity_baking_subsidy","cache_layout","baking_reward_fixed_portion","baking_reward_bonus_per_slot","endorsing_reward_per_slot","double_baking_punishment","delay_increment_per_round","tx_rollup_commitment_bond","vdf_difficulty","sc_rollup_stake_amount","minimal_stake"]);return Object.assign(Object.assign({},$),j)})}getBlock({block:a,version:$}=defaultRPCOptions){return __awaiter$2(this,void 0,void 0,function*(){const j={url:this.createURL(`/chains/${this.chain}/blocks/${a}`),method:"GET"};return $!==void 0&&(j.query={version:$}),yield this.httpBackend.createRequest(j)})}getBlockHeader({block:a}=defaultRPCOptions){return __awaiter$2(this,void 0,void 0,function*(){return yield this.httpBackend.createRequest({url:this.createURL(`/chains/${this.chain}/blocks/${a}/header`),method:"GET"})})}getBlockMetadata({block:a,version:$}=defaultRPCOptions){return __awaiter$2(this,void 0,void 0,function*(){const j={url:this.createURL(`/chains/${this.chain}/blocks/${a}/metadata`),method:"GET"};return $!==void 0&&(j.query={version:$}),yield this.httpBackend.createRequest(j)})}getBakingRights(a={},{block:$}=defaultRPCOptions){return __awaiter$2(this,void 0,void 0,function*(){return yield this.httpBackend.createRequest({url:this.createURL(`/chains/${this.chain}/blocks/${$}/helpers/baking_rights`),method:"GET",query:a})})}getAttestationRights(a={},{block:$}=defaultRPCOptions){return __awaiter$2(this,void 0,void 0,function*(){return yield this.httpBackend.createRequest({url:this.createURL(`/chains/${this.chain}/blocks/${$}/helpers/attestation_rights`),method:"GET",query:a})})}getEndorsingRights(a={},{block:$}=defaultRPCOptions){return __awaiter$2(this,void 0,void 0,function*(){return yield this.httpBackend.createRequest({url:this.createURL(`/chains/${this.chain}/blocks/${$}/helpers/endorsing_rights`),method:"GET",query:a})})}getBallotList({block:a}=defaultRPCOptions){return __awaiter$2(this,void 0,void 0,function*(){return yield this.httpBackend.createRequest({url:this.createURL(`/chains/${this.chain}/blocks/${a}/votes/ballot_list`),method:"GET"})})}getBallots({block:a}=defaultRPCOptions){return __awaiter$2(this,void 0,void 0,function*(){const $=yield this.httpBackend.createRequest({url:this.createURL(`/chains/${this.chain}/blocks/${a}/votes/ballots`),method:"GET"});return castToBigNumber($,["yay","nay","pass"])})}getCurrentProposal({block:a}=defaultRPCOptions){return __awaiter$2(this,void 0,void 0,function*(){return yield this.httpBackend.createRequest({url:this.createURL(`/chains/${this.chain}/blocks/${a}/votes/current_proposal`),method:"GET"})})}getCurrentQuorum({block:a}=defaultRPCOptions){return __awaiter$2(this,void 0,void 0,function*(){return yield this.httpBackend.createRequest({url:this.createURL(`/chains/${this.chain}/blocks/${a}/votes/current_quorum`),method:"GET"})})}getVotesListings({block:a}=defaultRPCOptions){return __awaiter$2(this,void 0,void 0,function*(){const $=yield this.httpBackend.createRequest({url:this.createURL(`/chains/${this.chain}/blocks/${a}/votes/listings`),method:"GET"});return $.map(j=>(j.voting_power&&(j.voting_power=new BigNumber(j.voting_power)),j)),$})}getProposals({block:a}=defaultRPCOptions){return __awaiter$2(this,void 0,void 0,function*(){const $=yield this.httpBackend.createRequest({url:this.createURL(`/chains/${this.chain}/blocks/${a}/votes/proposals`),method:"GET"});return $.map(j=>j[1]=new BigNumber(j[1])),$})}forgeOperations(a,{block:$}=defaultRPCOptions){return __awaiter$2(this,void 0,void 0,function*(){return this.httpBackend.createRequest({url:this.createURL(`/chains/${this.chain}/blocks/${$}/helpers/forge/operations`),method:"POST"},a)})}injectOperation(a){return __awaiter$2(this,void 0,void 0,function*(){return this.httpBackend.createRequest({url:this.createURL("/injection/operation"),method:"POST"},a)})}preapplyOperations(a,{block:$,version:j}=defaultRPCOptions){return __awaiter$2(this,void 0,void 0,function*(){const et={url:this.createURL(`/chains/${this.chain}/blocks/${$}/helpers/preapply/operations`),method:"POST"};return j!==void 0&&(et.query={version:j}),yield this.httpBackend.createRequest(et,a)})}getEntrypoints(a,{block:$}=defaultRPCOptions){return __awaiter$2(this,void 0,void 0,function*(){return this.validateContract(a),yield this.httpBackend.createRequest({url:this.createURL(`/chains/${this.chain}/blocks/${$}/context/contracts/${a}/entrypoints`),method:"GET"})})}runOperation(a,{block:$,version:j}=defaultRPCOptions){return __awaiter$2(this,void 0,void 0,function*(){const et={url:this.createURL(`/chains/${this.chain}/blocks/${$}/helpers/scripts/run_operation`),method:"POST"};return j!==void 0&&(et.query={version:j}),yield this.httpBackend.createRequest(et,a)})}simulateOperation(a,{block:$,version:j}=defaultRPCOptions){return __awaiter$2(this,void 0,void 0,function*(){const et={url:this.createURL(`/chains/${this.chain}/blocks/${$}/helpers/scripts/simulate_operation`),method:"POST"};return j!==void 0&&(et.query={version:j}),yield this.httpBackend.createRequest(et,a)})}runCode(a,{block:$}=defaultRPCOptions){return __awaiter$2(this,void 0,void 0,function*(){return yield this.httpBackend.createRequest({url:this.createURL(`/chains/${this.chain}/blocks/${$}/helpers/scripts/run_code`),method:"POST"},a)})}runScriptView(a,$){var{unparsing_mode:j="Readable"}=a,et=__rest$1(a,["unparsing_mode"]),tt=$===void 0?defaultRPCOptions:$,rt=tt.block;return __awaiter$2(this,void 0,void 0,function*(){return this.httpBackend.createRequest({url:this.createURL(`/chains/${this.chain}/blocks/${rt}/helpers/scripts/run_script_view`),method:"POST"},Object.assign({unparsing_mode:j},et))})}runView(a,$){var{unparsing_mode:j="Readable"}=a,et=__rest$1(a,["unparsing_mode"]),tt=$===void 0?defaultRPCOptions:$,rt=tt.block;return __awaiter$2(this,void 0,void 0,function*(){return this.httpBackend.createRequest({url:this.createURL(`/chains/${this.chain}/blocks/${rt}/helpers/scripts/run_view`),method:"POST"},Object.assign({unparsing_mode:j},et))})}getChainId(){return __awaiter$2(this,void 0,void 0,function*(){return this.httpBackend.createRequest({url:this.createURL(`/chains/${this.chain}/chain_id`),method:"GET"})})}packData(a,{block:$}=defaultRPCOptions){return __awaiter$2(this,void 0,void 0,function*(){const j=yield this.httpBackend.createRequest({url:this.createURL(`/chains/${this.chain}/blocks/${$}/helpers/scripts/pack_data`),method:"POST"},a),{gas:et}=j,tt=__rest$1(j,["gas"]);let rt=et;const nt=new BigNumber(et||"");return nt.isNaN()||(rt=nt),Object.assign({gas:rt},tt)})}getRpcUrl(){return this.url}getCurrentPeriod({block:a}=defaultRPCOptions){return __awaiter$2(this,void 0,void 0,function*(){return yield this.httpBackend.createRequest({url:this.createURL(`/chains/${this.chain}/blocks/${a}/votes/current_period`),method:"GET"})})}getSuccessorPeriod({block:a}=defaultRPCOptions){return __awaiter$2(this,void 0,void 0,function*(){return yield this.httpBackend.createRequest({url:this.createURL(`/chains/${this.chain}/blocks/${a}/votes/successor_period`),method:"GET"})})}getSaplingDiffById(a,{block:$}=defaultRPCOptions){return __awaiter$2(this,void 0,void 0,function*(){return this.httpBackend.createRequest({url:this.createURL(`/chains/${this.chain}/blocks/${$}/context/sapling/${a}/get_diff`),method:"GET"})})}getSaplingDiffByContract(a,{block:$}=defaultRPCOptions){return __awaiter$2(this,void 0,void 0,function*(){return this.httpBackend.createRequest({url:this.createURL(`/chains/${this.chain}/blocks/${$}/context/contracts/${a}/single_sapling_get_diff`),method:"GET"})})}getProtocols({block:a}=defaultRPCOptions){return __awaiter$2(this,void 0,void 0,function*(){return this.httpBackend.createRequest({url:this.createURL(`/chains/${this.chain}/blocks/${a}/protocols`),method:"GET"})})}getStorageUsedSpace(a,{block:$}=defaultRPCOptions){return __awaiter$2(this,void 0,void 0,function*(){return this.httpBackend.createRequest({url:this.createURL(`/chains/${this.chain}/blocks/${$}/context/contracts/${a}/storage/used_space`),method:"GET"})})}getStoragePaidSpace(a,{block:$}=defaultRPCOptions){return __awaiter$2(this,void 0,void 0,function*(){return this.httpBackend.createRequest({url:this.createURL(`/chains/${this.chain}/blocks/${$}/context/contracts/${a}/storage/paid_space`),method:"GET"})})}getTicketBalance(a,$,{block:j}=defaultRPCOptions){return __awaiter$2(this,void 0,void 0,function*(){return this.httpBackend.createRequest({url:this.createURL(`/chains/${this.chain}/blocks/${j}/context/contracts/${a}/ticket_balance`),method:"POST"},$)})}getAllTicketBalances(a,{block:$}=defaultRPCOptions){return __awaiter$2(this,void 0,void 0,function*(){return this.httpBackend.createRequest({url:this.createURL(`/chains/${this.chain}/blocks/${$}/context/contracts/${a}/all_ticket_balances`),method:"GET"})})}getPendingOperations(a={}){return __awaiter$2(this,void 0,void 0,function*(){return this.httpBackend.createRequest({url:this.createURL(`/chains/${this.chain}/mempool/pending_operations`),method:"GET",query:a})})}}var src={},sha512$1={},_u64={};Object.defineProperty(_u64,"__esModule",{value:!0});_u64.add5L=_u64.add5H=_u64.add4H=_u64.add4L=_u64.add3H=_u64.add3L=_u64.add=_u64.rotlBL=_u64.rotlBH=_u64.rotlSL=_u64.rotlSH=_u64.rotr32L=_u64.rotr32H=_u64.rotrBL=_u64.rotrBH=_u64.rotrSL=_u64.rotrSH=_u64.shrSL=_u64.shrSH=_u64.toBig=_u64.split=_u64.fromBig=void 0;const U32_MASK64$1=BigInt(2**32-1),_32n$1=BigInt(32);function fromBig$1(_,a=!1){return a?{h:Number(_&U32_MASK64$1),l:Number(_>>_32n$1&U32_MASK64$1)}:{h:Number(_>>_32n$1&U32_MASK64$1)|0,l:Number(_&U32_MASK64$1)|0}}_u64.fromBig=fromBig$1;function split$1(_,a=!1){let $=new Uint32Array(_.length),j=new Uint32Array(_.length);for(let et=0;et<_.length;et++){const{h:tt,l:rt}=fromBig$1(_[et],a);[$[et],j[et]]=[tt,rt]}return[$,j]}_u64.split=split$1;const toBig=(_,a)=>BigInt(_>>>0)<<_32n$1|BigInt(a>>>0);_u64.toBig=toBig;const shrSH=(_,a,$)=>_>>>$;_u64.shrSH=shrSH;const shrSL=(_,a,$)=>_<<32-$|a>>>$;_u64.shrSL=shrSL;const rotrSH=(_,a,$)=>_>>>$|a<<32-$;_u64.rotrSH=rotrSH;const rotrSL=(_,a,$)=>_<<32-$|a>>>$;_u64.rotrSL=rotrSL;const rotrBH=(_,a,$)=>_<<64-$|a>>>$-32;_u64.rotrBH=rotrBH;const rotrBL=(_,a,$)=>_>>>$-32|a<<64-$;_u64.rotrBL=rotrBL;const rotr32H=(_,a)=>a;_u64.rotr32H=rotr32H;const rotr32L=(_,a)=>_;_u64.rotr32L=rotr32L;const rotlSH$1=(_,a,$)=>_<<$|a>>>32-$;_u64.rotlSH=rotlSH$1;const rotlSL$1=(_,a,$)=>a<<$|_>>>32-$;_u64.rotlSL=rotlSL$1;const rotlBH$1=(_,a,$)=>a<<$-32|_>>>64-$;_u64.rotlBH=rotlBH$1;const rotlBL$1=(_,a,$)=>_<<$-32|a>>>64-$;_u64.rotlBL=rotlBL$1;function add(_,a,$,j){const et=(a>>>0)+(j>>>0);return{h:_+$+(et/2**32|0)|0,l:et|0}}_u64.add=add;const add3L=(_,a,$)=>(_>>>0)+(a>>>0)+($>>>0);_u64.add3L=add3L;const add3H=(_,a,$,j)=>a+$+j+(_/2**32|0)|0;_u64.add3H=add3H;const add4L=(_,a,$,j)=>(_>>>0)+(a>>>0)+($>>>0)+(j>>>0);_u64.add4L=add4L;const add4H=(_,a,$,j,et)=>a+$+j+et+(_/2**32|0)|0;_u64.add4H=add4H;const add5L=(_,a,$,j,et)=>(_>>>0)+(a>>>0)+($>>>0)+(j>>>0)+(et>>>0);_u64.add5L=add5L;const add5H=(_,a,$,j,et,tt)=>a+$+j+et+tt+(_/2**32|0)|0;_u64.add5H=add5H;const u64={fromBig:fromBig$1,split:split$1,toBig,shrSH,shrSL,rotrSH,rotrSL,rotrBH,rotrBL,rotr32H,rotr32L,rotlSH:rotlSH$1,rotlSL:rotlSL$1,rotlBH:rotlBH$1,rotlBL:rotlBL$1,add,add3L,add3H,add4L,add4H,add5H,add5L};_u64.default=u64;Object.defineProperty(sha512$1,"__esModule",{value:!0});sha512$1.sha384=sha512$1.sha512_256=sha512$1.sha512_224=sha512$1.sha512=sha512$1.SHA512=void 0;const _sha2_js_1=_sha2,_u64_js_1=_u64,utils_js_1$1=utils$2,[SHA512_Kh,SHA512_Kl]=_u64_js_1.default.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(_=>BigInt(_))),SHA512_W_H=new Uint32Array(80),SHA512_W_L=new Uint32Array(80);class SHA512 extends _sha2_js_1.SHA2{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:a,Al:$,Bh:j,Bl:et,Ch:tt,Cl:rt,Dh:nt,Dl:it,Eh:ot,El:st,Fh:ct,Fl:ut,Gh:ht,Gl:Et,Hh:St,Hl:Mt}=this;return[a,$,j,et,tt,rt,nt,it,ot,st,ct,ut,ht,Et,St,Mt]}set(a,$,j,et,tt,rt,nt,it,ot,st,ct,ut,ht,Et,St,Mt){this.Ah=a|0,this.Al=$|0,this.Bh=j|0,this.Bl=et|0,this.Ch=tt|0,this.Cl=rt|0,this.Dh=nt|0,this.Dl=it|0,this.Eh=ot|0,this.El=st|0,this.Fh=ct|0,this.Fl=ut|0,this.Gh=ht|0,this.Gl=Et|0,this.Hh=St|0,this.Hl=Mt|0}process(a,$){for(let Ot=0;Ot<16;Ot++,$+=4)SHA512_W_H[Ot]=a.getUint32($),SHA512_W_L[Ot]=a.getUint32($+=4);for(let Ot=16;Ot<80;Ot++){const zt=SHA512_W_H[Ot-15]|0,Ut=SHA512_W_L[Ot-15]|0,Vt=_u64_js_1.default.rotrSH(zt,Ut,1)^_u64_js_1.default.rotrSH(zt,Ut,8)^_u64_js_1.default.shrSH(zt,Ut,7),jt=_u64_js_1.default.rotrSL(zt,Ut,1)^_u64_js_1.default.rotrSL(zt,Ut,8)^_u64_js_1.default.shrSL(zt,Ut,7),$t=SHA512_W_H[Ot-2]|0,Bt=SHA512_W_L[Ot-2]|0,Nt=_u64_js_1.default.rotrSH($t,Bt,19)^_u64_js_1.default.rotrBH($t,Bt,61)^_u64_js_1.default.shrSH($t,Bt,6),Lt=_u64_js_1.default.rotrSL($t,Bt,19)^_u64_js_1.default.rotrBL($t,Bt,61)^_u64_js_1.default.shrSL($t,Bt,6),Pt=_u64_js_1.default.add4L(jt,Lt,SHA512_W_L[Ot-7],SHA512_W_L[Ot-16]),bt=_u64_js_1.default.add4H(Pt,Vt,Nt,SHA512_W_H[Ot-7],SHA512_W_H[Ot-16]);SHA512_W_H[Ot]=bt|0,SHA512_W_L[Ot]=Pt|0}let{Ah:j,Al:et,Bh:tt,Bl:rt,Ch:nt,Cl:it,Dh:ot,Dl:st,Eh:ct,El:ut,Fh:ht,Fl:Et,Gh:St,Gl:Mt,Hh:kt,Hl:Ct}=this;for(let Ot=0;Ot<80;Ot++){const zt=_u64_js_1.default.rotrSH(ct,ut,14)^_u64_js_1.default.rotrSH(ct,ut,18)^_u64_js_1.default.rotrBH(ct,ut,41),Ut=_u64_js_1.default.rotrSL(ct,ut,14)^_u64_js_1.default.rotrSL(ct,ut,18)^_u64_js_1.default.rotrBL(ct,ut,41),Vt=ct&ht^~ct&St,jt=ut&Et^~ut&Mt,$t=_u64_js_1.default.add5L(Ct,Ut,jt,SHA512_Kl[Ot],SHA512_W_L[Ot]),Bt=_u64_js_1.default.add5H($t,kt,zt,Vt,SHA512_Kh[Ot],SHA512_W_H[Ot]),Nt=$t|0,Lt=_u64_js_1.default.rotrSH(j,et,28)^_u64_js_1.default.rotrBH(j,et,34)^_u64_js_1.default.rotrBH(j,et,39),Pt=_u64_js_1.default.rotrSL(j,et,28)^_u64_js_1.default.rotrBL(j,et,34)^_u64_js_1.default.rotrBL(j,et,39),bt=j&tt^j&nt^tt&nt,at=et&rt^et&it^rt&it;kt=St|0,Ct=Mt|0,St=ht|0,Mt=Et|0,ht=ct|0,Et=ut|0,{h:ct,l:ut}=_u64_js_1.default.add(ot|0,st|0,Bt|0,Nt|0),ot=nt|0,st=it|0,nt=tt|0,it=rt|0,tt=j|0,rt=et|0;const dt=_u64_js_1.default.add3L(Nt,Pt,at);j=_u64_js_1.default.add3H(dt,Bt,Lt,bt),et=dt|0}({h:j,l:et}=_u64_js_1.default.add(this.Ah|0,this.Al|0,j|0,et|0)),{h:tt,l:rt}=_u64_js_1.default.add(this.Bh|0,this.Bl|0,tt|0,rt|0),{h:nt,l:it}=_u64_js_1.default.add(this.Ch|0,this.Cl|0,nt|0,it|0),{h:ot,l:st}=_u64_js_1.default.add(this.Dh|0,this.Dl|0,ot|0,st|0),{h:ct,l:ut}=_u64_js_1.default.add(this.Eh|0,this.El|0,ct|0,ut|0),{h:ht,l:Et}=_u64_js_1.default.add(this.Fh|0,this.Fl|0,ht|0,Et|0),{h:St,l:Mt}=_u64_js_1.default.add(this.Gh|0,this.Gl|0,St|0,Mt|0),{h:kt,l:Ct}=_u64_js_1.default.add(this.Hh|0,this.Hl|0,kt|0,Ct|0),this.set(j,et,tt,rt,nt,it,ot,st,ct,ut,ht,Et,St,Mt,kt,Ct)}roundClean(){SHA512_W_H.fill(0),SHA512_W_L.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}sha512$1.SHA512=SHA512;class SHA512_224 extends SHA512{constructor(){super(),this.Ah=-1942145080,this.Al=424955298,this.Bh=1944164710,this.Bl=-1982016298,this.Ch=502970286,this.Cl=855612546,this.Dh=1738396948,this.Dl=1479516111,this.Eh=258812777,this.El=2077511080,this.Fh=2011393907,this.Fl=79989058,this.Gh=1067287976,this.Gl=1780299464,this.Hh=286451373,this.Hl=-1848208735,this.outputLen=28}}class SHA512_256 extends SHA512{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}}class SHA384 extends SHA512{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}}sha512$1.sha512=(0,utils_js_1$1.wrapConstructor)(()=>new SHA512);sha512$1.sha512_224=(0,utils_js_1$1.wrapConstructor)(()=>new SHA512_224);sha512$1.sha512_256=(0,utils_js_1$1.wrapConstructor)(()=>new SHA512_256);sha512$1.sha384=(0,utils_js_1$1.wrapConstructor)(()=>new SHA384);var pbkdf2$1={},hmac$2={};(function(_){Object.defineProperty(_,"__esModule",{value:!0}),_.hmac=_.HMAC=void 0;const a=_assert,$=utils$2;class j extends $.Hash{constructor(rt,nt){super(),this.finished=!1,this.destroyed=!1,(0,a.hash)(rt);const it=(0,$.toBytes)(nt);if(this.iHash=rt.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const ot=this.blockLen,st=new Uint8Array(ot);st.set(it.length>ot?rt.create().update(it).digest():it);for(let ct=0;ct<st.length;ct++)st[ct]^=54;this.iHash.update(st),this.oHash=rt.create();for(let ct=0;ct<st.length;ct++)st[ct]^=106;this.oHash.update(st),st.fill(0)}update(rt){return(0,a.exists)(this),this.iHash.update(rt),this}digestInto(rt){(0,a.exists)(this),(0,a.bytes)(rt,this.outputLen),this.finished=!0,this.iHash.digestInto(rt),this.oHash.update(rt),this.oHash.digestInto(rt),this.destroy()}digest(){const rt=new Uint8Array(this.oHash.outputLen);return this.digestInto(rt),rt}_cloneInto(rt){rt||(rt=Object.create(Object.getPrototypeOf(this),{}));const{oHash:nt,iHash:it,finished:ot,destroyed:st,blockLen:ct,outputLen:ut}=this;return rt=rt,rt.finished=ot,rt.destroyed=st,rt.blockLen=ct,rt.outputLen=ut,rt.oHash=nt._cloneInto(rt.oHash),rt.iHash=it._cloneInto(rt.iHash),rt}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}_.HMAC=j;const et=(tt,rt,nt)=>new j(tt,rt).update(nt).digest();_.hmac=et,_.hmac.create=(tt,rt)=>new j(tt,rt)})(hmac$2);Object.defineProperty(pbkdf2$1,"__esModule",{value:!0});pbkdf2$1.pbkdf2Async=pbkdf2$1.pbkdf2=void 0;const _assert_js_1=_assert,hmac_js_1=hmac$2,utils_js_1=utils$2;function pbkdf2Init(_,a,$,j){(0,_assert_js_1.hash)(_);const et=(0,utils_js_1.checkOpts)({dkLen:32,asyncTick:10},j),{c:tt,dkLen:rt,asyncTick:nt}=et;if((0,_assert_js_1.number)(tt),(0,_assert_js_1.number)(rt),(0,_assert_js_1.number)(nt),tt<1)throw new Error("PBKDF2: iterations (c) should be >= 1");const it=(0,utils_js_1.toBytes)(a),ot=(0,utils_js_1.toBytes)($),st=new Uint8Array(rt),ct=hmac_js_1.hmac.create(_,it),ut=ct._cloneInto().update(ot);return{c:tt,dkLen:rt,asyncTick:nt,DK:st,PRF:ct,PRFSalt:ut}}function pbkdf2Output(_,a,$,j,et){return _.destroy(),a.destroy(),j&&j.destroy(),et.fill(0),$}function pbkdf2(_,a,$,j){const{c:et,dkLen:tt,DK:rt,PRF:nt,PRFSalt:it}=pbkdf2Init(_,a,$,j);let ot;const st=new Uint8Array(4),ct=(0,utils_js_1.createView)(st),ut=new Uint8Array(nt.outputLen);for(let ht=1,Et=0;Et<tt;ht++,Et+=nt.outputLen){const St=rt.subarray(Et,Et+nt.outputLen);ct.setInt32(0,ht,!1),(ot=it._cloneInto(ot)).update(st).digestInto(ut),St.set(ut.subarray(0,St.length));for(let Mt=1;Mt<et;Mt++){nt._cloneInto(ot).update(ut).digestInto(ut);for(let kt=0;kt<St.length;kt++)St[kt]^=ut[kt]}}return pbkdf2Output(nt,it,rt,ot,ut)}pbkdf2$1.pbkdf2=pbkdf2;async function pbkdf2Async(_,a,$,j){const{c:et,dkLen:tt,asyncTick:rt,DK:nt,PRF:it,PRFSalt:ot}=pbkdf2Init(_,a,$,j);let st;const ct=new Uint8Array(4),ut=(0,utils_js_1.createView)(ct),ht=new Uint8Array(it.outputLen);for(let Et=1,St=0;St<tt;Et++,St+=it.outputLen){const Mt=nt.subarray(St,St+it.outputLen);ut.setInt32(0,Et,!1),(st=ot._cloneInto(st)).update(ct).digestInto(ht),Mt.set(ht.subarray(0,Mt.length)),await(0,utils_js_1.asyncLoop)(et-1,rt,()=>{it._cloneInto(st).update(ht).digestInto(ht);for(let kt=0;kt<Mt.length;kt++)Mt[kt]^=ht[kt]})}return pbkdf2Output(it,ot,nt,st,ht)}pbkdf2$1.pbkdf2Async=pbkdf2Async;var _wordlists={};const require$$0=["abdikace","abeceda","adresa","agrese","akce","aktovka","alej","alkohol","amputace","ananas","andulka","anekdota","anketa","antika","anulovat","archa","arogance","asfalt","asistent","aspirace","astma","astronom","atlas","atletika","atol","autobus","azyl","babka","bachor","bacil","baculka","badatel","bageta","bagr","bahno","bakterie","balada","baletka","balkon","balonek","balvan","balza","bambus","bankomat","barbar","baret","barman","baroko","barva","baterka","batoh","bavlna","bazalka","bazilika","bazuka","bedna","beran","beseda","bestie","beton","bezinka","bezmoc","beztak","bicykl","bidlo","biftek","bikiny","bilance","biograf","biolog","bitva","bizon","blahobyt","blatouch","blecha","bledule","blesk","blikat","blizna","blokovat","bloudit","blud","bobek","bobr","bodlina","bodnout","bohatost","bojkot","bojovat","bokorys","bolest","borec","borovice","bota","boubel","bouchat","bouda","boule","bourat","boxer","bradavka","brambora","branka","bratr","brepta","briketa","brko","brloh","bronz","broskev","brunetka","brusinka","brzda","brzy","bublina","bubnovat","buchta","buditel","budka","budova","bufet","bujarost","bukvice","buldok","bulva","bunda","bunkr","burza","butik","buvol","buzola","bydlet","bylina","bytovka","bzukot","capart","carevna","cedr","cedule","cejch","cejn","cela","celer","celkem","celnice","cenina","cennost","cenovka","centrum","cenzor","cestopis","cetka","chalupa","chapadlo","charita","chata","chechtat","chemie","chichot","chirurg","chlad","chleba","chlubit","chmel","chmura","chobot","chochol","chodba","cholera","chomout","chopit","choroba","chov","chrapot","chrlit","chrt","chrup","chtivost","chudina","chutnat","chvat","chvilka","chvost","chyba","chystat","chytit","cibule","cigareta","cihelna","cihla","cinkot","cirkus","cisterna","citace","citrus","cizinec","cizost","clona","cokoliv","couvat","ctitel","ctnost","cudnost","cuketa","cukr","cupot","cvaknout","cval","cvik","cvrkot","cyklista","daleko","dareba","datel","datum","dcera","debata","dechovka","decibel","deficit","deflace","dekl","dekret","demokrat","deprese","derby","deska","detektiv","dikobraz","diktovat","dioda","diplom","disk","displej","divadlo","divoch","dlaha","dlouho","dluhopis","dnes","dobro","dobytek","docent","dochutit","dodnes","dohled","dohoda","dohra","dojem","dojnice","doklad","dokola","doktor","dokument","dolar","doleva","dolina","doma","dominant","domluvit","domov","donutit","dopad","dopis","doplnit","doposud","doprovod","dopustit","dorazit","dorost","dort","dosah","doslov","dostatek","dosud","dosyta","dotaz","dotek","dotknout","doufat","doutnat","dovozce","dozadu","doznat","dozorce","drahota","drak","dramatik","dravec","draze","drdol","drobnost","drogerie","drozd","drsnost","drtit","drzost","duben","duchovno","dudek","duha","duhovka","dusit","dusno","dutost","dvojice","dvorec","dynamit","ekolog","ekonomie","elektron","elipsa","email","emise","emoce","empatie","epizoda","epocha","epopej","epos","esej","esence","eskorta","eskymo","etiketa","euforie","evoluce","exekuce","exkurze","expedice","exploze","export","extrakt","facka","fajfka","fakulta","fanatik","fantazie","farmacie","favorit","fazole","federace","fejeton","fenka","fialka","figurant","filozof","filtr","finance","finta","fixace","fjord","flanel","flirt","flotila","fond","fosfor","fotbal","fotka","foton","frakce","freska","fronta","fukar","funkce","fyzika","galeje","garant","genetika","geolog","gilotina","glazura","glejt","golem","golfista","gotika","graf","gramofon","granule","grep","gril","grog","groteska","guma","hadice","hadr","hala","halenka","hanba","hanopis","harfa","harpuna","havran","hebkost","hejkal","hejno","hejtman","hektar","helma","hematom","herec","herna","heslo","hezky","historik","hladovka","hlasivky","hlava","hledat","hlen","hlodavec","hloh","hloupost","hltat","hlubina","hluchota","hmat","hmota","hmyz","hnis","hnojivo","hnout","hoblina","hoboj","hoch","hodiny","hodlat","hodnota","hodovat","hojnost","hokej","holinka","holka","holub","homole","honitba","honorace","horal","horda","horizont","horko","horlivec","hormon","hornina","horoskop","horstvo","hospoda","hostina","hotovost","houba","houf","houpat","houska","hovor","hradba","hranice","hravost","hrazda","hrbolek","hrdina","hrdlo","hrdost","hrnek","hrobka","hromada","hrot","hrouda","hrozen","hrstka","hrubost","hryzat","hubenost","hubnout","hudba","hukot","humr","husita","hustota","hvozd","hybnost","hydrant","hygiena","hymna","hysterik","idylka","ihned","ikona","iluze","imunita","infekce","inflace","inkaso","inovace","inspekce","internet","invalida","investor","inzerce","ironie","jablko","jachta","jahoda","jakmile","jakost","jalovec","jantar","jarmark","jaro","jasan","jasno","jatka","javor","jazyk","jedinec","jedle","jednatel","jehlan","jekot","jelen","jelito","jemnost","jenom","jepice","jeseter","jevit","jezdec","jezero","jinak","jindy","jinoch","jiskra","jistota","jitrnice","jizva","jmenovat","jogurt","jurta","kabaret","kabel","kabinet","kachna","kadet","kadidlo","kahan","kajak","kajuta","kakao","kaktus","kalamita","kalhoty","kalibr","kalnost","kamera","kamkoliv","kamna","kanibal","kanoe","kantor","kapalina","kapela","kapitola","kapka","kaple","kapota","kapr","kapusta","kapybara","karamel","karotka","karton","kasa","katalog","katedra","kauce","kauza","kavalec","kazajka","kazeta","kazivost","kdekoliv","kdesi","kedluben","kemp","keramika","kino","klacek","kladivo","klam","klapot","klasika","klaun","klec","klenba","klepat","klesnout","klid","klima","klisna","klobouk","klokan","klopa","kloub","klubovna","klusat","kluzkost","kmen","kmitat","kmotr","kniha","knot","koalice","koberec","kobka","kobliha","kobyla","kocour","kohout","kojenec","kokos","koktejl","kolaps","koleda","kolize","kolo","komando","kometa","komik","komnata","komora","kompas","komunita","konat","koncept","kondice","konec","konfese","kongres","konina","konkurs","kontakt","konzerva","kopanec","kopie","kopnout","koprovka","korbel","korektor","kormidlo","koroptev","korpus","koruna","koryto","korzet","kosatec","kostka","kotel","kotleta","kotoul","koukat","koupelna","kousek","kouzlo","kovboj","koza","kozoroh","krabice","krach","krajina","kralovat","krasopis","kravata","kredit","krejcar","kresba","kreveta","kriket","kritik","krize","krkavec","krmelec","krmivo","krocan","krok","kronika","kropit","kroupa","krovka","krtek","kruhadlo","krupice","krutost","krvinka","krychle","krypta","krystal","kryt","kudlanka","kufr","kujnost","kukla","kulajda","kulich","kulka","kulomet","kultura","kuna","kupodivu","kurt","kurzor","kutil","kvalita","kvasinka","kvestor","kynolog","kyselina","kytara","kytice","kytka","kytovec","kyvadlo","labrador","lachtan","ladnost","laik","lakomec","lamela","lampa","lanovka","lasice","laso","lastura","latinka","lavina","lebka","leckdy","leden","lednice","ledovka","ledvina","legenda","legie","legrace","lehce","lehkost","lehnout","lektvar","lenochod","lentilka","lepenka","lepidlo","letadlo","letec","letmo","letokruh","levhart","levitace","levobok","libra","lichotka","lidojed","lidskost","lihovina","lijavec","lilek","limetka","linie","linka","linoleum","listopad","litina","litovat","lobista","lodivod","logika","logoped","lokalita","loket","lomcovat","lopata","lopuch","lord","losos","lotr","loudal","louh","louka","louskat","lovec","lstivost","lucerna","lucifer","lump","lusk","lustrace","lvice","lyra","lyrika","lysina","madam","madlo","magistr","mahagon","majetek","majitel","majorita","makak","makovice","makrela","malba","malina","malovat","malvice","maminka","mandle","manko","marnost","masakr","maskot","masopust","matice","matrika","maturita","mazanec","mazivo","mazlit","mazurka","mdloba","mechanik","meditace","medovina","melasa","meloun","mentolka","metla","metoda","metr","mezera","migrace","mihnout","mihule","mikina","mikrofon","milenec","milimetr","milost","mimika","mincovna","minibar","minomet","minulost","miska","mistr","mixovat","mladost","mlha","mlhovina","mlok","mlsat","mluvit","mnich","mnohem","mobil","mocnost","modelka","modlitba","mohyla","mokro","molekula","momentka","monarcha","monokl","monstrum","montovat","monzun","mosaz","moskyt","most","motivace","motorka","motyka","moucha","moudrost","mozaika","mozek","mozol","mramor","mravenec","mrkev","mrtvola","mrzet","mrzutost","mstitel","mudrc","muflon","mulat","mumie","munice","muset","mutace","muzeum","muzikant","myslivec","mzda","nabourat","nachytat","nadace","nadbytek","nadhoz","nadobro","nadpis","nahlas","nahnat","nahodile","nahradit","naivita","najednou","najisto","najmout","naklonit","nakonec","nakrmit","nalevo","namazat","namluvit","nanometr","naoko","naopak","naostro","napadat","napevno","naplnit","napnout","naposled","naprosto","narodit","naruby","narychlo","nasadit","nasekat","naslepo","nastat","natolik","navenek","navrch","navzdory","nazvat","nebe","nechat","necky","nedaleko","nedbat","neduh","negace","nehet","nehoda","nejen","nejprve","neklid","nelibost","nemilost","nemoc","neochota","neonka","nepokoj","nerost","nerv","nesmysl","nesoulad","netvor","neuron","nevina","nezvykle","nicota","nijak","nikam","nikdy","nikl","nikterak","nitro","nocleh","nohavice","nominace","nora","norek","nositel","nosnost","nouze","noviny","novota","nozdra","nuda","nudle","nuget","nutit","nutnost","nutrie","nymfa","obal","obarvit","obava","obdiv","obec","obehnat","obejmout","obezita","obhajoba","obilnice","objasnit","objekt","obklopit","oblast","oblek","obliba","obloha","obluda","obnos","obohatit","obojek","obout","obrazec","obrna","obruba","obrys","obsah","obsluha","obstarat","obuv","obvaz","obvinit","obvod","obvykle","obyvatel","obzor","ocas","ocel","ocenit","ochladit","ochota","ochrana","ocitnout","odboj","odbyt","odchod","odcizit","odebrat","odeslat","odevzdat","odezva","odhadce","odhodit","odjet","odjinud","odkaz","odkoupit","odliv","odluka","odmlka","odolnost","odpad","odpis","odplout","odpor","odpustit","odpykat","odrazka","odsoudit","odstup","odsun","odtok","odtud","odvaha","odveta","odvolat","odvracet","odznak","ofina","ofsajd","ohlas","ohnisko","ohrada","ohrozit","ohryzek","okap","okenice","oklika","okno","okouzlit","okovy","okrasa","okres","okrsek","okruh","okupant","okurka","okusit","olejnina","olizovat","omak","omeleta","omezit","omladina","omlouvat","omluva","omyl","onehdy","opakovat","opasek","operace","opice","opilost","opisovat","opora","opozice","opravdu","oproti","orbital","orchestr","orgie","orlice","orloj","ortel","osada","oschnout","osika","osivo","oslava","oslepit","oslnit","oslovit","osnova","osoba","osolit","ospalec","osten","ostraha","ostuda","ostych","osvojit","oteplit","otisk","otop","otrhat","otrlost","otrok","otruby","otvor","ovanout","ovar","oves","ovlivnit","ovoce","oxid","ozdoba","pachatel","pacient","padouch","pahorek","pakt","palanda","palec","palivo","paluba","pamflet","pamlsek","panenka","panika","panna","panovat","panstvo","pantofle","paprika","parketa","parodie","parta","paruka","paryba","paseka","pasivita","pastelka","patent","patrona","pavouk","pazneht","pazourek","pecka","pedagog","pejsek","peklo","peloton","penalta","pendrek","penze","periskop","pero","pestrost","petarda","petice","petrolej","pevnina","pexeso","pianista","piha","pijavice","pikle","piknik","pilina","pilnost","pilulka","pinzeta","pipeta","pisatel","pistole","pitevna","pivnice","pivovar","placenta","plakat","plamen","planeta","plastika","platit","plavidlo","plaz","plech","plemeno","plenta","ples","pletivo","plevel","plivat","plnit","plno","plocha","plodina","plomba","plout","pluk","plyn","pobavit","pobyt","pochod","pocit","poctivec","podat","podcenit","podepsat","podhled","podivit","podklad","podmanit","podnik","podoba","podpora","podraz","podstata","podvod","podzim","poezie","pohanka","pohnutka","pohovor","pohroma","pohyb","pointa","pojistka","pojmout","pokazit","pokles","pokoj","pokrok","pokuta","pokyn","poledne","polibek","polknout","poloha","polynom","pomalu","pominout","pomlka","pomoc","pomsta","pomyslet","ponechat","ponorka","ponurost","popadat","popel","popisek","poplach","poprosit","popsat","popud","poradce","porce","porod","porucha","poryv","posadit","posed","posila","poskok","poslanec","posoudit","pospolu","postava","posudek","posyp","potah","potkan","potlesk","potomek","potrava","potupa","potvora","poukaz","pouto","pouzdro","povaha","povidla","povlak","povoz","povrch","povstat","povyk","povzdech","pozdrav","pozemek","poznatek","pozor","pozvat","pracovat","prahory","praktika","prales","praotec","praporek","prase","pravda","princip","prkno","probudit","procento","prodej","profese","prohra","projekt","prolomit","promile","pronikat","propad","prorok","prosba","proton","proutek","provaz","prskavka","prsten","prudkost","prut","prvek","prvohory","psanec","psovod","pstruh","ptactvo","puberta","puch","pudl","pukavec","puklina","pukrle","pult","pumpa","punc","pupen","pusa","pusinka","pustina","putovat","putyka","pyramida","pysk","pytel","racek","rachot","radiace","radnice","radon","raft","ragby","raketa","rakovina","rameno","rampouch","rande","rarach","rarita","rasovna","rastr","ratolest","razance","razidlo","reagovat","reakce","recept","redaktor","referent","reflex","rejnok","reklama","rekord","rekrut","rektor","reputace","revize","revma","revolver","rezerva","riskovat","riziko","robotika","rodokmen","rohovka","rokle","rokoko","romaneto","ropovod","ropucha","rorejs","rosol","rostlina","rotmistr","rotoped","rotunda","roubenka","roucho","roup","roura","rovina","rovnice","rozbor","rozchod","rozdat","rozeznat","rozhodce","rozinka","rozjezd","rozkaz","rozloha","rozmar","rozpad","rozruch","rozsah","roztok","rozum","rozvod","rubrika","ruchadlo","rukavice","rukopis","ryba","rybolov","rychlost","rydlo","rypadlo","rytina","ryzost","sadista","sahat","sako","samec","samizdat","samota","sanitka","sardinka","sasanka","satelit","sazba","sazenice","sbor","schovat","sebranka","secese","sedadlo","sediment","sedlo","sehnat","sejmout","sekera","sekta","sekunda","sekvoje","semeno","seno","servis","sesadit","seshora","seskok","seslat","sestra","sesuv","sesypat","setba","setina","setkat","setnout","setrvat","sever","seznam","shoda","shrnout","sifon","silnice","sirka","sirotek","sirup","situace","skafandr","skalisko","skanzen","skaut","skeptik","skica","skladba","sklenice","sklo","skluz","skoba","skokan","skoro","skripta","skrz","skupina","skvost","skvrna","slabika","sladidlo","slanina","slast","slavnost","sledovat","slepec","sleva","slezina","slib","slina","sliznice","slon","sloupek","slovo","sluch","sluha","slunce","slupka","slza","smaragd","smetana","smilstvo","smlouva","smog","smrad","smrk","smrtka","smutek","smysl","snad","snaha","snob","sobota","socha","sodovka","sokol","sopka","sotva","souboj","soucit","soudce","souhlas","soulad","soumrak","souprava","soused","soutok","souviset","spalovna","spasitel","spis","splav","spodek","spojenec","spolu","sponzor","spornost","spousta","sprcha","spustit","sranda","sraz","srdce","srna","srnec","srovnat","srpen","srst","srub","stanice","starosta","statika","stavba","stehno","stezka","stodola","stolek","stopa","storno","stoupat","strach","stres","strhnout","strom","struna","studna","stupnice","stvol","styk","subjekt","subtropy","suchar","sudost","sukno","sundat","sunout","surikata","surovina","svah","svalstvo","svetr","svatba","svazek","svisle","svitek","svoboda","svodidlo","svorka","svrab","sykavka","sykot","synek","synovec","sypat","sypkost","syrovost","sysel","sytost","tabletka","tabule","tahoun","tajemno","tajfun","tajga","tajit","tajnost","taktika","tamhle","tampon","tancovat","tanec","tanker","tapeta","tavenina","tazatel","technika","tehdy","tekutina","telefon","temnota","tendence","tenista","tenor","teplota","tepna","teprve","terapie","termoska","textil","ticho","tiskopis","titulek","tkadlec","tkanina","tlapka","tleskat","tlukot","tlupa","tmel","toaleta","topinka","topol","torzo","touha","toulec","tradice","traktor","tramp","trasa","traverza","trefit","trest","trezor","trhavina","trhlina","trochu","trojice","troska","trouba","trpce","trpitel","trpkost","trubec","truchlit","truhlice","trus","trvat","tudy","tuhnout","tuhost","tundra","turista","turnaj","tuzemsko","tvaroh","tvorba","tvrdost","tvrz","tygr","tykev","ubohost","uboze","ubrat","ubrousek","ubrus","ubytovna","ucho","uctivost","udivit","uhradit","ujednat","ujistit","ujmout","ukazatel","uklidnit","uklonit","ukotvit","ukrojit","ulice","ulita","ulovit","umyvadlo","unavit","uniforma","uniknout","upadnout","uplatnit","uplynout","upoutat","upravit","uran","urazit","usednout","usilovat","usmrtit","usnadnit","usnout","usoudit","ustlat","ustrnout","utahovat","utkat","utlumit","utonout","utopenec","utrousit","uvalit","uvolnit","uvozovka","uzdravit","uzel","uzenina","uzlina","uznat","vagon","valcha","valoun","vana","vandal","vanilka","varan","varhany","varovat","vcelku","vchod","vdova","vedro","vegetace","vejce","velbloud","veletrh","velitel","velmoc","velryba","venkov","veranda","verze","veselka","veskrze","vesnice","vespodu","vesta","veterina","veverka","vibrace","vichr","videohra","vidina","vidle","vila","vinice","viset","vitalita","vize","vizitka","vjezd","vklad","vkus","vlajka","vlak","vlasec","vlevo","vlhkost","vliv","vlnovka","vloupat","vnucovat","vnuk","voda","vodivost","vodoznak","vodstvo","vojensky","vojna","vojsko","volant","volba","volit","volno","voskovka","vozidlo","vozovna","vpravo","vrabec","vracet","vrah","vrata","vrba","vrcholek","vrhat","vrstva","vrtule","vsadit","vstoupit","vstup","vtip","vybavit","vybrat","vychovat","vydat","vydra","vyfotit","vyhledat","vyhnout","vyhodit","vyhradit","vyhubit","vyjasnit","vyjet","vyjmout","vyklopit","vykonat","vylekat","vymazat","vymezit","vymizet","vymyslet","vynechat","vynikat","vynutit","vypadat","vyplatit","vypravit","vypustit","vyrazit","vyrovnat","vyrvat","vyslovit","vysoko","vystavit","vysunout","vysypat","vytasit","vytesat","vytratit","vyvinout","vyvolat","vyvrhel","vyzdobit","vyznat","vzadu","vzbudit","vzchopit","vzdor","vzduch","vzdychat","vzestup","vzhledem","vzkaz","vzlykat","vznik","vzorek","vzpoura","vztah","vztek","xylofon","zabrat","zabydlet","zachovat","zadarmo","zadusit","zafoukat","zahltit","zahodit","zahrada","zahynout","zajatec","zajet","zajistit","zaklepat","zakoupit","zalepit","zamezit","zamotat","zamyslet","zanechat","zanikat","zaplatit","zapojit","zapsat","zarazit","zastavit","zasunout","zatajit","zatemnit","zatknout","zaujmout","zavalit","zavelet","zavinit","zavolat","zavrtat","zazvonit","zbavit","zbrusu","zbudovat","zbytek","zdaleka","zdarma","zdatnost","zdivo","zdobit","zdroj","zdvih","zdymadlo","zelenina","zeman","zemina","zeptat","zezadu","zezdola","zhatit","zhltnout","zhluboka","zhotovit","zhruba","zima","zimnice","zjemnit","zklamat","zkoumat","zkratka","zkumavka","zlato","zlehka","zloba","zlom","zlost","zlozvyk","zmapovat","zmar","zmatek","zmije","zmizet","zmocnit","zmodrat","zmrzlina","zmutovat","znak","znalost","znamenat","znovu","zobrazit","zotavit","zoubek","zoufale","zplodit","zpomalit","zprava","zprostit","zprudka","zprvu","zrada","zranit","zrcadlo","zrnitost","zrno","zrovna","zrychlit","zrzavost","zticha","ztratit","zubovina","zubr","zvednout","zvenku","zvesela","zvon","zvrat","zvukovod","zvyk"],require$$1=["的","一","是","在","不","了","有","和","人","这","中","大","为","上","个","国","我","以","要","他","时","来","用","们","生","到","作","地","于","出","就","分","对","成","会","可","主","发","年","动","同","工","也","能","下","过","子","说","产","种","面","而","方","后","多","定","行","学","法","所","民","得","经","十","三","之","进","着","等","部","度","家","电","力","里","如","水","化","高","自","二","理","起","小","物","现","实","加","量","都","两","体","制","机","当","使","点","从","业","本","去","把","性","好","应","开","它","合","还","因","由","其","些","然","前","外","天","政","四","日","那","社","义","事","平","形","相","全","表","间","样","与","关","各","重","新","线","内","数","正","心","反","你","明","看","原","又","么","利","比","或","但","质","气","第","向","道","命","此","变","条","只","没","结","解","问","意","建","月","公","无","系","军","很","情","者","最","立","代","想","已","通","并","提","直","题","党","程","展","五","果","料","象","员","革","位","入","常","文","总","次","品","式","活","设","及","管","特","件","长","求","老","头","基","资","边","流","路","级","少","图","山","统","接","知","较","将","组","见","计","别","她","手","角","期","根","论","运","农","指","几","九","区","强","放","决","西","被","干","做","必","战","先","回","则","任","取","据","处","队","南","给","色","光","门","即","保","治","北","造","百","规","热","领","七","海","口","东","导","器","压","志","世","金","增","争","济","阶","油","思","术","极","交","受","联","什","认","六","共","权","收","证","改","清","美","再","采","转","更","单","风","切","打","白","教","速","花","带","安","场","身","车","例","真","务","具","万","每","目","至","达","走","积","示","议","声","报","斗","完","类","八","离","华","名","确","才","科","张","信","马","节","话","米","整","空","元","况","今","集","温","传","土","许","步","群","广","石","记","需","段","研","界","拉","林","律","叫","且","究","观","越","织","装","影","算","低","持","音","众","书","布","复","容","儿","须","际","商","非","验","连","断","深","难","近","矿","千","周","委","素","技","备","半","办","青","省","列","习","响","约","支","般","史","感","劳","便","团","往","酸","历","市","克","何","除","消","构","府","称","太","准","精","值","号","率","族","维","划","选","标","写","存","候","毛","亲","快","效","斯","院","查","江","型","眼","王","按","格","养","易","置","派","层","片","始","却","专","状","育","厂","京","识","适","属","圆","包","火","住","调","满","县","局","照","参","红","细","引","听","该","铁","价","严","首","底","液","官","德","随","病","苏","失","尔","死","讲","配","女","黄","推","显","谈","罪","神","艺","呢","席","含","企","望","密","批","营","项","防","举","球","英","氧","势","告","李","台","落","木","帮","轮","破","亚","师","围","注","远","字","材","排","供","河","态","封","另","施","减","树","溶","怎","止","案","言","士","均","武","固","叶","鱼","波","视","仅","费","紧","爱","左","章","早","朝","害","续","轻","服","试","食","充","兵","源","判","护","司","足","某","练","差","致","板","田","降","黑","犯","负","击","范","继","兴","似","余","坚","曲","输","修","故","城","夫","够","送","笔","船","占","右","财","吃","富","春","职","觉","汉","画","功","巴","跟","虽","杂","飞","检","吸","助","升","阳","互","初","创","抗","考","投","坏","策","古","径","换","未","跑","留","钢","曾","端","责","站","简","述","钱","副","尽","帝","射","草","冲","承","独","令","限","阿","宣","环","双","请","超","微","让","控","州","良","轴","找","否","纪","益","依","优","顶","础","载","倒","房","突","坐","粉","敌","略","客","袁","冷","胜","绝","析","块","剂","测","丝","协","诉","念","陈","仍","罗","盐","友","洋","错","苦","夜","刑","移","频","逐","靠","混","母","短","皮","终","聚","汽","村","云","哪","既","距","卫","停","烈","央","察","烧","迅","境","若","印","洲","刻","括","激","孔","搞","甚","室","待","核","校","散","侵","吧","甲","游","久","菜","味","旧","模","湖","货","损","预","阻","毫","普","稳","乙","妈","植","息","扩","银","语","挥","酒","守","拿","序","纸","医","缺","雨","吗","针","刘","啊","急","唱","误","训","愿","审","附","获","茶","鲜","粮","斤","孩","脱","硫","肥","善","龙","演","父","渐","血","欢","械","掌","歌","沙","刚","攻","谓","盾","讨","晚","粒","乱","燃","矛","乎","杀","药","宁","鲁","贵","钟","煤","读","班","伯","香","介","迫","句","丰","培","握","兰","担","弦","蛋","沉","假","穿","执","答","乐","谁","顺","烟","缩","征","脸","喜","松","脚","困","异","免","背","星","福","买","染","井","概","慢","怕","磁","倍","祖","皇","促","静","补","评","翻","肉","践","尼","衣","宽","扬","棉","希","伤","操","垂","秋","宜","氢","套","督","振","架","亮","末","宪","庆","编","牛","触","映","雷","销","诗","座","居","抓","裂","胞","呼","娘","景","威","绿","晶","厚","盟","衡","鸡","孙","延","危","胶","屋","乡","临","陆","顾","掉","呀","灯","岁","措","束","耐","剧","玉","赵","跳","哥","季","课","凯","胡","额","款","绍","卷","齐","伟","蒸","殖","永","宗","苗","川","炉","岩","弱","零","杨","奏","沿","露","杆","探","滑","镇","饭","浓","航","怀","赶","库","夺","伊","灵","税","途","灭","赛","归","召","鼓","播","盘","裁","险","康","唯","录","菌","纯","借","糖","盖","横","符","私","努","堂","域","枪","润","幅","哈","竟","熟","虫","泽","脑","壤","碳","欧","遍","侧","寨","敢","彻","虑","斜","薄","庭","纳","弹","饲","伸","折","麦","湿","暗","荷","瓦","塞","床","筑","恶","户","访","塔","奇","透","梁","刀","旋","迹","卡","氯","遇","份","毒","泥","退","洗","摆","灰","彩","卖","耗","夏","择","忙","铜","献","硬","予","繁","圈","雪","函","亦","抽","篇","阵","阴","丁","尺","追","堆","雄","迎","泛","爸","楼","避","谋","吨","野","猪","旗","累","偏","典","馆","索","秦","脂","潮","爷","豆","忽","托","惊","塑","遗","愈","朱","替","纤","粗","倾","尚","痛","楚","谢","奋","购","磨","君","池","旁","碎","骨","监","捕","弟","暴","割","贯","殊","释","词","亡","壁","顿","宝","午","尘","闻","揭","炮","残","冬","桥","妇","警","综","招","吴","付","浮","遭","徐","您","摇","谷","赞","箱","隔","订","男","吹","园","纷","唐","败","宋","玻","巨","耕","坦","荣","闭","湾","键","凡","驻","锅","救","恩","剥","凝","碱","齿","截","炼","麻","纺","禁","废","盛","版","缓","净","睛","昌","婚","涉","筒","嘴","插","岸","朗","庄","街","藏","姑","贸","腐","奴","啦","惯","乘","伙","恢","匀","纱","扎","辩","耳","彪","臣","亿","璃","抵","脉","秀","萨","俄","网","舞","店","喷","纵","寸","汗","挂","洪","贺","闪","柬","爆","烯","津","稻","墙","软","勇","像","滚","厘","蒙","芳","肯","坡","柱","荡","腿","仪","旅","尾","轧","冰","贡","登","黎","削","钻","勒","逃","障","氨","郭","峰","币","港","伏","轨","亩","毕","擦","莫","刺","浪","秘","援","株","健","售","股","岛","甘","泡","睡","童","铸","汤","阀","休","汇","舍","牧","绕","炸","哲","磷","绩","朋","淡","尖","启","陷","柴","呈","徒","颜","泪","稍","忘","泵","蓝","拖","洞","授","镜","辛","壮","锋","贫","虚","弯","摩","泰","幼","廷","尊","窗","纲","弄","隶","疑","氏","宫","姐","震","瑞","怪","尤","琴","循","描","膜","违","夹","腰","缘","珠","穷","森","枝","竹","沟","催","绳","忆","邦","剩","幸","浆","栏","拥","牙","贮","礼","滤","钠","纹","罢","拍","咱","喊","袖","埃","勤","罚","焦","潜","伍","墨","欲","缝","姓","刊","饱","仿","奖","铝","鬼","丽","跨","默","挖","链","扫","喝","袋","炭","污","幕","诸","弧","励","梅","奶","洁","灾","舟","鉴","苯","讼","抱","毁","懂","寒","智","埔","寄","届","跃","渡","挑","丹","艰","贝","碰","拔","爹","戴","码","梦","芽","熔","赤","渔","哭","敬","颗","奔","铅","仲","虎","稀","妹","乏","珍","申","桌","遵","允","隆","螺","仓","魏","锐","晓","氮","兼","隐","碍","赫","拨","忠","肃","缸","牵","抢","博","巧","壳","兄","杜","讯","诚","碧","祥","柯","页","巡","矩","悲","灌","龄","伦","票","寻","桂","铺","圣","恐","恰","郑","趣","抬","荒","腾","贴","柔","滴","猛","阔","辆","妻","填","撤","储","签","闹","扰","紫","砂","递","戏","吊","陶","伐","喂","疗","瓶","婆","抚","臂","摸","忍","虾","蜡","邻","胸","巩","挤","偶","弃","槽","劲","乳","邓","吉","仁","烂","砖","租","乌","舰","伴","瓜","浅","丙","暂","燥","橡","柳","迷","暖","牌","秧","胆","详","簧","踏","瓷","谱","呆","宾","糊","洛","辉","愤","竞","隙","怒","粘","乃","绪","肩","籍","敏","涂","熙","皆","侦","悬","掘","享","纠","醒","狂","锁","淀","恨","牲","霸","爬","赏","逆","玩","陵","祝","秒","浙","貌","役","彼","悉","鸭","趋","凤","晨","畜","辈","秩","卵","署","梯","炎","滩","棋","驱","筛","峡","冒","啥","寿","译","浸","泉","帽","迟","硅","疆","贷","漏","稿","冠","嫩","胁","芯","牢","叛","蚀","奥","鸣","岭","羊","凭","串","塘","绘","酵","融","盆","锡","庙","筹","冻","辅","摄","袭","筋","拒","僚","旱","钾","鸟","漆","沈","眉","疏","添","棒","穗","硝","韩","逼","扭","侨","凉","挺","碗","栽","炒","杯","患","馏","劝","豪","辽","勃","鸿","旦","吏","拜","狗","埋","辊","掩","饮","搬","骂","辞","勾","扣","估","蒋","绒","雾","丈","朵","姆","拟","宇","辑","陕","雕","偿","蓄","崇","剪","倡","厅","咬","驶","薯","刷","斥","番","赋","奉","佛","浇","漫","曼","扇","钙","桃","扶","仔","返","俗","亏","腔","鞋","棱","覆","框","悄","叔","撞","骗","勘","旺","沸","孤","吐","孟","渠","屈","疾","妙","惜","仰","狠","胀","谐","抛","霉","桑","岗","嘛","衰","盗","渗","脏","赖","涌","甜","曹","阅","肌","哩","厉","烃","纬","毅","昨","伪","症","煮","叹","钉","搭","茎","笼","酷","偷","弓","锥","恒","杰","坑","鼻","翼","纶","叙","狱","逮","罐","络","棚","抑","膨","蔬","寺","骤","穆","冶","枯","册","尸","凸","绅","坯","牺","焰","轰","欣","晋","瘦","御","锭","锦","丧","旬","锻","垄","搜","扑","邀","亭","酯","迈","舒","脆","酶","闲","忧","酚","顽","羽","涨","卸","仗","陪","辟","惩","杭","姚","肚","捉","飘","漂","昆","欺","吾","郎","烷","汁","呵","饰","萧","雅","邮","迁","燕","撒","姻","赴","宴","烦","债","帐","斑","铃","旨","醇","董","饼","雏","姿","拌","傅","腹","妥","揉","贤","拆","歪","葡","胺","丢","浩","徽","昂","垫","挡","览","贪","慰","缴","汪","慌","冯","诺","姜","谊","凶","劣","诬","耀","昏","躺","盈","骑","乔","溪","丛","卢","抹","闷","咨","刮","驾","缆","悟","摘","铒","掷","颇","幻","柄","惠","惨","佳","仇","腊","窝","涤","剑","瞧","堡","泼","葱","罩","霍","捞","胎","苍","滨","俩","捅","湘","砍","霞","邵","萄","疯","淮","遂","熊","粪","烘","宿","档","戈","驳","嫂","裕","徙","箭","捐","肠","撑","晒","辨","殿","莲","摊","搅","酱","屏","疫","哀","蔡","堵","沫","皱","畅","叠","阁","莱","敲","辖","钩","痕","坝","巷","饿","祸","丘","玄","溜","曰","逻","彭","尝","卿","妨","艇","吞","韦","怨","矮","歇"],require$$2$1=["的","一","是","在","不","了","有","和","人","這","中","大","為","上","個","國","我","以","要","他","時","來","用","們","生","到","作","地","於","出","就","分","對","成","會","可","主","發","年","動","同","工","也","能","下","過","子","說","產","種","面","而","方","後","多","定","行","學","法","所","民","得","經","十","三","之","進","著","等","部","度","家","電","力","裡","如","水","化","高","自","二","理","起","小","物","現","實","加","量","都","兩","體","制","機","當","使","點","從","業","本","去","把","性","好","應","開","它","合","還","因","由","其","些","然","前","外","天","政","四","日","那","社","義","事","平","形","相","全","表","間","樣","與","關","各","重","新","線","內","數","正","心","反","你","明","看","原","又","麼","利","比","或","但","質","氣","第","向","道","命","此","變","條","只","沒","結","解","問","意","建","月","公","無","系","軍","很","情","者","最","立","代","想","已","通","並","提","直","題","黨","程","展","五","果","料","象","員","革","位","入","常","文","總","次","品","式","活","設","及","管","特","件","長","求","老","頭","基","資","邊","流","路","級","少","圖","山","統","接","知","較","將","組","見","計","別","她","手","角","期","根","論","運","農","指","幾","九","區","強","放","決","西","被","幹","做","必","戰","先","回","則","任","取","據","處","隊","南","給","色","光","門","即","保","治","北","造","百","規","熱","領","七","海","口","東","導","器","壓","志","世","金","增","爭","濟","階","油","思","術","極","交","受","聯","什","認","六","共","權","收","證","改","清","美","再","採","轉","更","單","風","切","打","白","教","速","花","帶","安","場","身","車","例","真","務","具","萬","每","目","至","達","走","積","示","議","聲","報","鬥","完","類","八","離","華","名","確","才","科","張","信","馬","節","話","米","整","空","元","況","今","集","溫","傳","土","許","步","群","廣","石","記","需","段","研","界","拉","林","律","叫","且","究","觀","越","織","裝","影","算","低","持","音","眾","書","布","复","容","兒","須","際","商","非","驗","連","斷","深","難","近","礦","千","週","委","素","技","備","半","辦","青","省","列","習","響","約","支","般","史","感","勞","便","團","往","酸","歷","市","克","何","除","消","構","府","稱","太","準","精","值","號","率","族","維","劃","選","標","寫","存","候","毛","親","快","效","斯","院","查","江","型","眼","王","按","格","養","易","置","派","層","片","始","卻","專","狀","育","廠","京","識","適","屬","圓","包","火","住","調","滿","縣","局","照","參","紅","細","引","聽","該","鐵","價","嚴","首","底","液","官","德","隨","病","蘇","失","爾","死","講","配","女","黃","推","顯","談","罪","神","藝","呢","席","含","企","望","密","批","營","項","防","舉","球","英","氧","勢","告","李","台","落","木","幫","輪","破","亞","師","圍","注","遠","字","材","排","供","河","態","封","另","施","減","樹","溶","怎","止","案","言","士","均","武","固","葉","魚","波","視","僅","費","緊","愛","左","章","早","朝","害","續","輕","服","試","食","充","兵","源","判","護","司","足","某","練","差","致","板","田","降","黑","犯","負","擊","范","繼","興","似","餘","堅","曲","輸","修","故","城","夫","夠","送","筆","船","佔","右","財","吃","富","春","職","覺","漢","畫","功","巴","跟","雖","雜","飛","檢","吸","助","昇","陽","互","初","創","抗","考","投","壞","策","古","徑","換","未","跑","留","鋼","曾","端","責","站","簡","述","錢","副","盡","帝","射","草","衝","承","獨","令","限","阿","宣","環","雙","請","超","微","讓","控","州","良","軸","找","否","紀","益","依","優","頂","礎","載","倒","房","突","坐","粉","敵","略","客","袁","冷","勝","絕","析","塊","劑","測","絲","協","訴","念","陳","仍","羅","鹽","友","洋","錯","苦","夜","刑","移","頻","逐","靠","混","母","短","皮","終","聚","汽","村","雲","哪","既","距","衛","停","烈","央","察","燒","迅","境","若","印","洲","刻","括","激","孔","搞","甚","室","待","核","校","散","侵","吧","甲","遊","久","菜","味","舊","模","湖","貨","損","預","阻","毫","普","穩","乙","媽","植","息","擴","銀","語","揮","酒","守","拿","序","紙","醫","缺","雨","嗎","針","劉","啊","急","唱","誤","訓","願","審","附","獲","茶","鮮","糧","斤","孩","脫","硫","肥","善","龍","演","父","漸","血","歡","械","掌","歌","沙","剛","攻","謂","盾","討","晚","粒","亂","燃","矛","乎","殺","藥","寧","魯","貴","鐘","煤","讀","班","伯","香","介","迫","句","豐","培","握","蘭","擔","弦","蛋","沉","假","穿","執","答","樂","誰","順","煙","縮","徵","臉","喜","松","腳","困","異","免","背","星","福","買","染","井","概","慢","怕","磁","倍","祖","皇","促","靜","補","評","翻","肉","踐","尼","衣","寬","揚","棉","希","傷","操","垂","秋","宜","氫","套","督","振","架","亮","末","憲","慶","編","牛","觸","映","雷","銷","詩","座","居","抓","裂","胞","呼","娘","景","威","綠","晶","厚","盟","衡","雞","孫","延","危","膠","屋","鄉","臨","陸","顧","掉","呀","燈","歲","措","束","耐","劇","玉","趙","跳","哥","季","課","凱","胡","額","款","紹","卷","齊","偉","蒸","殖","永","宗","苗","川","爐","岩","弱","零","楊","奏","沿","露","桿","探","滑","鎮","飯","濃","航","懷","趕","庫","奪","伊","靈","稅","途","滅","賽","歸","召","鼓","播","盤","裁","險","康","唯","錄","菌","純","借","糖","蓋","橫","符","私","努","堂","域","槍","潤","幅","哈","竟","熟","蟲","澤","腦","壤","碳","歐","遍","側","寨","敢","徹","慮","斜","薄","庭","納","彈","飼","伸","折","麥","濕","暗","荷","瓦","塞","床","築","惡","戶","訪","塔","奇","透","梁","刀","旋","跡","卡","氯","遇","份","毒","泥","退","洗","擺","灰","彩","賣","耗","夏","擇","忙","銅","獻","硬","予","繁","圈","雪","函","亦","抽","篇","陣","陰","丁","尺","追","堆","雄","迎","泛","爸","樓","避","謀","噸","野","豬","旗","累","偏","典","館","索","秦","脂","潮","爺","豆","忽","托","驚","塑","遺","愈","朱","替","纖","粗","傾","尚","痛","楚","謝","奮","購","磨","君","池","旁","碎","骨","監","捕","弟","暴","割","貫","殊","釋","詞","亡","壁","頓","寶","午","塵","聞","揭","炮","殘","冬","橋","婦","警","綜","招","吳","付","浮","遭","徐","您","搖","谷","贊","箱","隔","訂","男","吹","園","紛","唐","敗","宋","玻","巨","耕","坦","榮","閉","灣","鍵","凡","駐","鍋","救","恩","剝","凝","鹼","齒","截","煉","麻","紡","禁","廢","盛","版","緩","淨","睛","昌","婚","涉","筒","嘴","插","岸","朗","莊","街","藏","姑","貿","腐","奴","啦","慣","乘","夥","恢","勻","紗","扎","辯","耳","彪","臣","億","璃","抵","脈","秀","薩","俄","網","舞","店","噴","縱","寸","汗","掛","洪","賀","閃","柬","爆","烯","津","稻","牆","軟","勇","像","滾","厘","蒙","芳","肯","坡","柱","盪","腿","儀","旅","尾","軋","冰","貢","登","黎","削","鑽","勒","逃","障","氨","郭","峰","幣","港","伏","軌","畝","畢","擦","莫","刺","浪","秘","援","株","健","售","股","島","甘","泡","睡","童","鑄","湯","閥","休","匯","舍","牧","繞","炸","哲","磷","績","朋","淡","尖","啟","陷","柴","呈","徒","顏","淚","稍","忘","泵","藍","拖","洞","授","鏡","辛","壯","鋒","貧","虛","彎","摩","泰","幼","廷","尊","窗","綱","弄","隸","疑","氏","宮","姐","震","瑞","怪","尤","琴","循","描","膜","違","夾","腰","緣","珠","窮","森","枝","竹","溝","催","繩","憶","邦","剩","幸","漿","欄","擁","牙","貯","禮","濾","鈉","紋","罷","拍","咱","喊","袖","埃","勤","罰","焦","潛","伍","墨","欲","縫","姓","刊","飽","仿","獎","鋁","鬼","麗","跨","默","挖","鏈","掃","喝","袋","炭","污","幕","諸","弧","勵","梅","奶","潔","災","舟","鑑","苯","訟","抱","毀","懂","寒","智","埔","寄","屆","躍","渡","挑","丹","艱","貝","碰","拔","爹","戴","碼","夢","芽","熔","赤","漁","哭","敬","顆","奔","鉛","仲","虎","稀","妹","乏","珍","申","桌","遵","允","隆","螺","倉","魏","銳","曉","氮","兼","隱","礙","赫","撥","忠","肅","缸","牽","搶","博","巧","殼","兄","杜","訊","誠","碧","祥","柯","頁","巡","矩","悲","灌","齡","倫","票","尋","桂","鋪","聖","恐","恰","鄭","趣","抬","荒","騰","貼","柔","滴","猛","闊","輛","妻","填","撤","儲","簽","鬧","擾","紫","砂","遞","戲","吊","陶","伐","餵","療","瓶","婆","撫","臂","摸","忍","蝦","蠟","鄰","胸","鞏","擠","偶","棄","槽","勁","乳","鄧","吉","仁","爛","磚","租","烏","艦","伴","瓜","淺","丙","暫","燥","橡","柳","迷","暖","牌","秧","膽","詳","簧","踏","瓷","譜","呆","賓","糊","洛","輝","憤","競","隙","怒","粘","乃","緒","肩","籍","敏","塗","熙","皆","偵","懸","掘","享","糾","醒","狂","鎖","淀","恨","牲","霸","爬","賞","逆","玩","陵","祝","秒","浙","貌","役","彼","悉","鴨","趨","鳳","晨","畜","輩","秩","卵","署","梯","炎","灘","棋","驅","篩","峽","冒","啥","壽","譯","浸","泉","帽","遲","矽","疆","貸","漏","稿","冠","嫩","脅","芯","牢","叛","蝕","奧","鳴","嶺","羊","憑","串","塘","繪","酵","融","盆","錫","廟","籌","凍","輔","攝","襲","筋","拒","僚","旱","鉀","鳥","漆","沈","眉","疏","添","棒","穗","硝","韓","逼","扭","僑","涼","挺","碗","栽","炒","杯","患","餾","勸","豪","遼","勃","鴻","旦","吏","拜","狗","埋","輥","掩","飲","搬","罵","辭","勾","扣","估","蔣","絨","霧","丈","朵","姆","擬","宇","輯","陝","雕","償","蓄","崇","剪","倡","廳","咬","駛","薯","刷","斥","番","賦","奉","佛","澆","漫","曼","扇","鈣","桃","扶","仔","返","俗","虧","腔","鞋","棱","覆","框","悄","叔","撞","騙","勘","旺","沸","孤","吐","孟","渠","屈","疾","妙","惜","仰","狠","脹","諧","拋","黴","桑","崗","嘛","衰","盜","滲","臟","賴","湧","甜","曹","閱","肌","哩","厲","烴","緯","毅","昨","偽","症","煮","嘆","釘","搭","莖","籠","酷","偷","弓","錐","恆","傑","坑","鼻","翼","綸","敘","獄","逮","罐","絡","棚","抑","膨","蔬","寺","驟","穆","冶","枯","冊","屍","凸","紳","坯","犧","焰","轟","欣","晉","瘦","禦","錠","錦","喪","旬","鍛","壟","搜","撲","邀","亭","酯","邁","舒","脆","酶","閒","憂","酚","頑","羽","漲","卸","仗","陪","闢","懲","杭","姚","肚","捉","飄","漂","昆","欺","吾","郎","烷","汁","呵","飾","蕭","雅","郵","遷","燕","撒","姻","赴","宴","煩","債","帳","斑","鈴","旨","醇","董","餅","雛","姿","拌","傅","腹","妥","揉","賢","拆","歪","葡","胺","丟","浩","徽","昂","墊","擋","覽","貪","慰","繳","汪","慌","馮","諾","姜","誼","兇","劣","誣","耀","昏","躺","盈","騎","喬","溪","叢","盧","抹","悶","諮","刮","駕","纜","悟","摘","鉺","擲","頗","幻","柄","惠","慘","佳","仇","臘","窩","滌","劍","瞧","堡","潑","蔥","罩","霍","撈","胎","蒼","濱","倆","捅","湘","砍","霞","邵","萄","瘋","淮","遂","熊","糞","烘","宿","檔","戈","駁","嫂","裕","徙","箭","捐","腸","撐","曬","辨","殿","蓮","攤","攪","醬","屏","疫","哀","蔡","堵","沫","皺","暢","疊","閣","萊","敲","轄","鉤","痕","壩","巷","餓","禍","丘","玄","溜","曰","邏","彭","嘗","卿","妨","艇","吞","韋","怨","矮","歇"],require$$3=["가격","가끔","가난","가능","가득","가르침","가뭄","가방","가상","가슴","가운데","가을","가이드","가입","가장","가정","가족","가죽","각오","각자","간격","간부","간섭","간장","간접","간판","갈등","갈비","갈색","갈증","감각","감기","감소","감수성","감자","감정","갑자기","강남","강당","강도","강력히","강변","강북","강사","강수량","강아지","강원도","강의","강제","강조","같이","개구리","개나리","개방","개별","개선","개성","개인","객관적","거실","거액","거울","거짓","거품","걱정","건강","건물","건설","건조","건축","걸음","검사","검토","게시판","게임","겨울","견해","결과","결국","결론","결석","결승","결심","결정","결혼","경계","경고","경기","경력","경복궁","경비","경상도","경영","경우","경쟁","경제","경주","경찰","경치","경향","경험","계곡","계단","계란","계산","계속","계약","계절","계층","계획","고객","고구려","고궁","고급","고등학생","고무신","고민","고양이","고장","고전","고집","고춧가루","고통","고향","곡식","골목","골짜기","골프","공간","공개","공격","공군","공급","공기","공동","공무원","공부","공사","공식","공업","공연","공원","공장","공짜","공책","공통","공포","공항","공휴일","과목","과일","과장","과정","과학","관객","관계","관광","관념","관람","관련","관리","관습","관심","관점","관찰","광경","광고","광장","광주","괴로움","굉장히","교과서","교문","교복","교실","교양","교육","교장","교직","교통","교환","교훈","구경","구름","구멍","구별","구분","구석","구성","구속","구역","구입","구청","구체적","국가","국기","국내","국립","국물","국민","국수","국어","국왕","국적","국제","국회","군대","군사","군인","궁극적","권리","권위","권투","귀국","귀신","규정","규칙","균형","그날","그냥","그늘","그러나","그룹","그릇","그림","그제서야","그토록","극복","극히","근거","근교","근래","근로","근무","근본","근원","근육","근처","글씨","글자","금강산","금고","금년","금메달","금액","금연","금요일","금지","긍정적","기간","기관","기념","기능","기독교","기둥","기록","기름","기법","기본","기분","기쁨","기숙사","기술","기억","기업","기온","기운","기원","기적","기준","기침","기혼","기획","긴급","긴장","길이","김밥","김치","김포공항","깍두기","깜빡","깨달음","깨소금","껍질","꼭대기","꽃잎","나들이","나란히","나머지","나물","나침반","나흘","낙엽","난방","날개","날씨","날짜","남녀","남대문","남매","남산","남자","남편","남학생","낭비","낱말","내년","내용","내일","냄비","냄새","냇물","냉동","냉면","냉방","냉장고","넥타이","넷째","노동","노란색","노력","노인","녹음","녹차","녹화","논리","논문","논쟁","놀이","농구","농담","농민","농부","농업","농장","농촌","높이","눈동자","눈물","눈썹","뉴욕","느낌","늑대","능동적","능력","다방","다양성","다음","다이어트","다행","단계","단골","단독","단맛","단순","단어","단위","단점","단체","단추","단편","단풍","달걀","달러","달력","달리","닭고기","담당","담배","담요","담임","답변","답장","당근","당분간","당연히","당장","대규모","대낮","대단히","대답","대도시","대략","대량","대륙","대문","대부분","대신","대응","대장","대전","대접","대중","대책","대출","대충","대통령","대학","대한민국","대합실","대형","덩어리","데이트","도대체","도덕","도둑","도망","도서관","도심","도움","도입","도자기","도저히","도전","도중","도착","독감","독립","독서","독일","독창적","동화책","뒷모습","뒷산","딸아이","마누라","마늘","마당","마라톤","마련","마무리","마사지","마약","마요네즈","마을","마음","마이크","마중","마지막","마찬가지","마찰","마흔","막걸리","막내","막상","만남","만두","만세","만약","만일","만점","만족","만화","많이","말기","말씀","말투","맘대로","망원경","매년","매달","매력","매번","매스컴","매일","매장","맥주","먹이","먼저","먼지","멀리","메일","며느리","며칠","면담","멸치","명단","명령","명예","명의","명절","명칭","명함","모금","모니터","모델","모든","모범","모습","모양","모임","모조리","모집","모퉁이","목걸이","목록","목사","목소리","목숨","목적","목표","몰래","몸매","몸무게","몸살","몸속","몸짓","몸통","몹시","무관심","무궁화","무더위","무덤","무릎","무슨","무엇","무역","무용","무조건","무지개","무척","문구","문득","문법","문서","문제","문학","문화","물가","물건","물결","물고기","물론","물리학","물음","물질","물체","미국","미디어","미사일","미술","미역","미용실","미움","미인","미팅","미혼","민간","민족","민주","믿음","밀가루","밀리미터","밑바닥","바가지","바구니","바나나","바늘","바닥","바닷가","바람","바이러스","바탕","박물관","박사","박수","반대","반드시","반말","반발","반성","반응","반장","반죽","반지","반찬","받침","발가락","발걸음","발견","발달","발레","발목","발바닥","발생","발음","발자국","발전","발톱","발표","밤하늘","밥그릇","밥맛","밥상","밥솥","방금","방면","방문","방바닥","방법","방송","방식","방안","방울","방지","방학","방해","방향","배경","배꼽","배달","배드민턴","백두산","백색","백성","백인","백제","백화점","버릇","버섯","버튼","번개","번역","번지","번호","벌금","벌레","벌써","범위","범인","범죄","법률","법원","법적","법칙","베이징","벨트","변경","변동","변명","변신","변호사","변화","별도","별명","별일","병실","병아리","병원","보관","보너스","보라색","보람","보름","보상","보안","보자기","보장","보전","보존","보통","보편적","보험","복도","복사","복숭아","복습","볶음","본격적","본래","본부","본사","본성","본인","본질","볼펜","봉사","봉지","봉투","부근","부끄러움","부담","부동산","부문","부분","부산","부상","부엌","부인","부작용","부장","부정","부족","부지런히","부친","부탁","부품","부회장","북부","북한","분노","분량","분리","분명","분석","분야","분위기","분필","분홍색","불고기","불과","불교","불꽃","불만","불법","불빛","불안","불이익","불행","브랜드","비극","비난","비닐","비둘기","비디오","비로소","비만","비명","비밀","비바람","비빔밥","비상","비용","비율","비중","비타민","비판","빌딩","빗물","빗방울","빗줄기","빛깔","빨간색","빨래","빨리","사건","사계절","사나이","사냥","사람","사랑","사립","사모님","사물","사방","사상","사생활","사설","사슴","사실","사업","사용","사월","사장","사전","사진","사촌","사춘기","사탕","사투리","사흘","산길","산부인과","산업","산책","살림","살인","살짝","삼계탕","삼국","삼십","삼월","삼촌","상관","상금","상대","상류","상반기","상상","상식","상업","상인","상자","상점","상처","상추","상태","상표","상품","상황","새벽","색깔","색연필","생각","생명","생물","생방송","생산","생선","생신","생일","생활","서랍","서른","서명","서민","서비스","서양","서울","서적","서점","서쪽","서클","석사","석유","선거","선물","선배","선생","선수","선원","선장","선전","선택","선풍기","설거지","설날","설렁탕","설명","설문","설사","설악산","설치","설탕","섭씨","성공","성당","성명","성별","성인","성장","성적","성질","성함","세금","세미나","세상","세월","세종대왕","세탁","센터","센티미터","셋째","소규모","소극적","소금","소나기","소년","소득","소망","소문","소설","소속","소아과","소용","소원","소음","소중히","소지품","소질","소풍","소형","속담","속도","속옷","손가락","손길","손녀","손님","손등","손목","손뼉","손실","손질","손톱","손해","솔직히","솜씨","송아지","송이","송편","쇠고기","쇼핑","수건","수년","수단","수돗물","수동적","수면","수명","수박","수상","수석","수술","수시로","수업","수염","수영","수입","수준","수집","수출","수컷","수필","수학","수험생","수화기","숙녀","숙소","숙제","순간","순서","순수","순식간","순위","숟가락","술병","술집","숫자","스님","스물","스스로","스승","스웨터","스위치","스케이트","스튜디오","스트레스","스포츠","슬쩍","슬픔","습관","습기","승객","승리","승부","승용차","승진","시각","시간","시골","시금치","시나리오","시댁","시리즈","시멘트","시민","시부모","시선","시설","시스템","시아버지","시어머니","시월","시인","시일","시작","시장","시절","시점","시중","시즌","시집","시청","시합","시험","식구","식기","식당","식량","식료품","식물","식빵","식사","식생활","식초","식탁","식품","신고","신규","신념","신문","신발","신비","신사","신세","신용","신제품","신청","신체","신화","실감","실내","실력","실례","실망","실수","실습","실시","실장","실정","실질적","실천","실체","실컷","실태","실패","실험","실현","심리","심부름","심사","심장","심정","심판","쌍둥이","씨름","씨앗","아가씨","아나운서","아드님","아들","아쉬움","아스팔트","아시아","아울러","아저씨","아줌마","아직","아침","아파트","아프리카","아픔","아홉","아흔","악기","악몽","악수","안개","안경","안과","안내","안녕","안동","안방","안부","안주","알루미늄","알코올","암시","암컷","압력","앞날","앞문","애인","애정","액수","앨범","야간","야단","야옹","약간","약국","약속","약수","약점","약품","약혼녀","양념","양력","양말","양배추","양주","양파","어둠","어려움","어른","어젯밤","어쨌든","어쩌다가","어쩐지","언니","언덕","언론","언어","얼굴","얼른","얼음","얼핏","엄마","업무","업종","업체","엉덩이","엉망","엉터리","엊그제","에너지","에어컨","엔진","여건","여고생","여관","여군","여권","여대생","여덟","여동생","여든","여론","여름","여섯","여성","여왕","여인","여전히","여직원","여학생","여행","역사","역시","역할","연결","연구","연극","연기","연락","연설","연세","연속","연습","연애","연예인","연인","연장","연주","연출","연필","연합","연휴","열기","열매","열쇠","열심히","열정","열차","열흘","염려","엽서","영국","영남","영상","영양","영역","영웅","영원히","영하","영향","영혼","영화","옆구리","옆방","옆집","예감","예금","예방","예산","예상","예선","예술","예습","예식장","예약","예전","예절","예정","예컨대","옛날","오늘","오락","오랫동안","오렌지","오로지","오른발","오븐","오십","오염","오월","오전","오직","오징어","오페라","오피스텔","오히려","옥상","옥수수","온갖","온라인","온몸","온종일","온통","올가을","올림픽","올해","옷차림","와이셔츠","와인","완성","완전","왕비","왕자","왜냐하면","왠지","외갓집","외국","외로움","외삼촌","외출","외침","외할머니","왼발","왼손","왼쪽","요금","요일","요즘","요청","용기","용서","용어","우산","우선","우승","우연히","우정","우체국","우편","운동","운명","운반","운전","운행","울산","울음","움직임","웃어른","웃음","워낙","원고","원래","원서","원숭이","원인","원장","원피스","월급","월드컵","월세","월요일","웨이터","위반","위법","위성","위원","위험","위협","윗사람","유난히","유럽","유명","유물","유산","유적","유치원","유학","유행","유형","육군","육상","육십","육체","은행","음력","음료","음반","음성","음식","음악","음주","의견","의논","의문","의복","의식","의심","의외로","의욕","의원","의학","이것","이곳","이념","이놈","이달","이대로","이동","이렇게","이력서","이론적","이름","이민","이발소","이별","이불","이빨","이상","이성","이슬","이야기","이용","이웃","이월","이윽고","이익","이전","이중","이튿날","이틀","이혼","인간","인격","인공","인구","인근","인기","인도","인류","인물","인생","인쇄","인연","인원","인재","인종","인천","인체","인터넷","인하","인형","일곱","일기","일단","일대","일등","일반","일본","일부","일상","일생","일손","일요일","일월","일정","일종","일주일","일찍","일체","일치","일행","일회용","임금","임무","입대","입력","입맛","입사","입술","입시","입원","입장","입학","자가용","자격","자극","자동","자랑","자부심","자식","자신","자연","자원","자율","자전거","자정","자존심","자판","작가","작년","작성","작업","작용","작은딸","작품","잔디","잔뜩","잔치","잘못","잠깐","잠수함","잠시","잠옷","잠자리","잡지","장관","장군","장기간","장래","장례","장르","장마","장면","장모","장미","장비","장사","장소","장식","장애인","장인","장점","장차","장학금","재능","재빨리","재산","재생","재작년","재정","재채기","재판","재학","재활용","저것","저고리","저곳","저녁","저런","저렇게","저번","저울","저절로","저축","적극","적당히","적성","적용","적응","전개","전공","전기","전달","전라도","전망","전문","전반","전부","전세","전시","전용","전자","전쟁","전주","전철","전체","전통","전혀","전후","절대","절망","절반","절약","절차","점검","점수","점심","점원","점점","점차","접근","접시","접촉","젓가락","정거장","정도","정류장","정리","정말","정면","정문","정반대","정보","정부","정비","정상","정성","정오","정원","정장","정지","정치","정확히","제공","제과점","제대로","제목","제발","제법","제삿날","제안","제일","제작","제주도","제출","제품","제한","조각","조건","조금","조깅","조명","조미료","조상","조선","조용히","조절","조정","조직","존댓말","존재","졸업","졸음","종교","종로","종류","종소리","종업원","종종","종합","좌석","죄인","주관적","주름","주말","주머니","주먹","주문","주민","주방","주변","주식","주인","주일","주장","주전자","주택","준비","줄거리","줄기","줄무늬","중간","중계방송","중국","중년","중단","중독","중반","중부","중세","중소기업","중순","중앙","중요","중학교","즉석","즉시","즐거움","증가","증거","증권","증상","증세","지각","지갑","지경","지극히","지금","지급","지능","지름길","지리산","지방","지붕","지식","지역","지우개","지원","지적","지점","지진","지출","직선","직업","직원","직장","진급","진동","진로","진료","진리","진짜","진찰","진출","진통","진행","질문","질병","질서","짐작","집단","집안","집중","짜증","찌꺼기","차남","차라리","차량","차림","차별","차선","차츰","착각","찬물","찬성","참가","참기름","참새","참석","참여","참외","참조","찻잔","창가","창고","창구","창문","창밖","창작","창조","채널","채점","책가방","책방","책상","책임","챔피언","처벌","처음","천국","천둥","천장","천재","천천히","철도","철저히","철학","첫날","첫째","청년","청바지","청소","청춘","체계","체력","체온","체육","체중","체험","초등학생","초반","초밥","초상화","초순","초여름","초원","초저녁","초점","초청","초콜릿","촛불","총각","총리","총장","촬영","최근","최상","최선","최신","최악","최종","추석","추억","추진","추천","추측","축구","축소","축제","축하","출근","출발","출산","출신","출연","출입","출장","출판","충격","충고","충돌","충분히","충청도","취업","취직","취향","치약","친구","친척","칠십","칠월","칠판","침대","침묵","침실","칫솔","칭찬","카메라","카운터","칼국수","캐릭터","캠퍼스","캠페인","커튼","컨디션","컬러","컴퓨터","코끼리","코미디","콘서트","콜라","콤플렉스","콩나물","쾌감","쿠데타","크림","큰길","큰딸","큰소리","큰아들","큰어머니","큰일","큰절","클래식","클럽","킬로","타입","타자기","탁구","탁자","탄생","태권도","태양","태풍","택시","탤런트","터널","터미널","테니스","테스트","테이블","텔레비전","토론","토마토","토요일","통계","통과","통로","통신","통역","통일","통장","통제","통증","통합","통화","퇴근","퇴원","퇴직금","튀김","트럭","특급","특별","특성","특수","특징","특히","튼튼히","티셔츠","파란색","파일","파출소","판결","판단","판매","판사","팔십","팔월","팝송","패션","팩스","팩시밀리","팬티","퍼센트","페인트","편견","편의","편지","편히","평가","평균","평생","평소","평양","평일","평화","포스터","포인트","포장","포함","표면","표정","표준","표현","품목","품질","풍경","풍속","풍습","프랑스","프린터","플라스틱","피곤","피망","피아노","필름","필수","필요","필자","필통","핑계","하느님","하늘","하드웨어","하룻밤","하반기","하숙집","하순","하여튼","하지만","하천","하품","하필","학과","학교","학급","학기","학년","학력","학번","학부모","학비","학생","학술","학습","학용품","학원","학위","학자","학점","한계","한글","한꺼번에","한낮","한눈","한동안","한때","한라산","한마디","한문","한번","한복","한식","한여름","한쪽","할머니","할아버지","할인","함께","함부로","합격","합리적","항공","항구","항상","항의","해결","해군","해답","해당","해물","해석","해설","해수욕장","해안","핵심","핸드백","햄버거","햇볕","햇살","행동","행복","행사","행운","행위","향기","향상","향수","허락","허용","헬기","현관","현금","현대","현상","현실","현장","현재","현지","혈액","협력","형부","형사","형수","형식","형제","형태","형편","혜택","호기심","호남","호랑이","호박","호텔","호흡","혹시","홀로","홈페이지","홍보","홍수","홍차","화면","화분","화살","화요일","화장","화학","확보","확인","확장","확정","환갑","환경","환영","환율","환자","활기","활동","활발히","활용","활짝","회견","회관","회복","회색","회원","회장","회전","횟수","횡단보도","효율적","후반","후춧가루","훈련","훨씬","휴식","휴일","흉내","흐름","흑백","흑인","흔적","흔히","흥미","흥분","희곡","희망","희생","흰색","힘껏"],require$$4=["abaisser","abandon","abdiquer","abeille","abolir","aborder","aboutir","aboyer","abrasif","abreuver","abriter","abroger","abrupt","absence","absolu","absurde","abusif","abyssal","académie","acajou","acarien","accabler","accepter","acclamer","accolade","accroche","accuser","acerbe","achat","acheter","aciduler","acier","acompte","acquérir","acronyme","acteur","actif","actuel","adepte","adéquat","adhésif","adjectif","adjuger","admettre","admirer","adopter","adorer","adoucir","adresse","adroit","adulte","adverbe","aérer","aéronef","affaire","affecter","affiche","affreux","affubler","agacer","agencer","agile","agiter","agrafer","agréable","agrume","aider","aiguille","ailier","aimable","aisance","ajouter","ajuster","alarmer","alchimie","alerte","algèbre","algue","aliéner","aliment","alléger","alliage","allouer","allumer","alourdir","alpaga","altesse","alvéole","amateur","ambigu","ambre","aménager","amertume","amidon","amiral","amorcer","amour","amovible","amphibie","ampleur","amusant","analyse","anaphore","anarchie","anatomie","ancien","anéantir","angle","angoisse","anguleux","animal","annexer","annonce","annuel","anodin","anomalie","anonyme","anormal","antenne","antidote","anxieux","apaiser","apéritif","aplanir","apologie","appareil","appeler","apporter","appuyer","aquarium","aqueduc","arbitre","arbuste","ardeur","ardoise","argent","arlequin","armature","armement","armoire","armure","arpenter","arracher","arriver","arroser","arsenic","artériel","article","aspect","asphalte","aspirer","assaut","asservir","assiette","associer","assurer","asticot","astre","astuce","atelier","atome","atrium","atroce","attaque","attentif","attirer","attraper","aubaine","auberge","audace","audible","augurer","aurore","automne","autruche","avaler","avancer","avarice","avenir","averse","aveugle","aviateur","avide","avion","aviser","avoine","avouer","avril","axial","axiome","badge","bafouer","bagage","baguette","baignade","balancer","balcon","baleine","balisage","bambin","bancaire","bandage","banlieue","bannière","banquier","barbier","baril","baron","barque","barrage","bassin","bastion","bataille","bateau","batterie","baudrier","bavarder","belette","bélier","belote","bénéfice","berceau","berger","berline","bermuda","besace","besogne","bétail","beurre","biberon","bicycle","bidule","bijou","bilan","bilingue","billard","binaire","biologie","biopsie","biotype","biscuit","bison","bistouri","bitume","bizarre","blafard","blague","blanchir","blessant","blinder","blond","bloquer","blouson","bobard","bobine","boire","boiser","bolide","bonbon","bondir","bonheur","bonifier","bonus","bordure","borne","botte","boucle","boueux","bougie","boulon","bouquin","bourse","boussole","boutique","boxeur","branche","brasier","brave","brebis","brèche","breuvage","bricoler","brigade","brillant","brioche","brique","brochure","broder","bronzer","brousse","broyeur","brume","brusque","brutal","bruyant","buffle","buisson","bulletin","bureau","burin","bustier","butiner","butoir","buvable","buvette","cabanon","cabine","cachette","cadeau","cadre","caféine","caillou","caisson","calculer","calepin","calibre","calmer","calomnie","calvaire","camarade","caméra","camion","campagne","canal","caneton","canon","cantine","canular","capable","caporal","caprice","capsule","capter","capuche","carabine","carbone","caresser","caribou","carnage","carotte","carreau","carton","cascade","casier","casque","cassure","causer","caution","cavalier","caverne","caviar","cédille","ceinture","céleste","cellule","cendrier","censurer","central","cercle","cérébral","cerise","cerner","cerveau","cesser","chagrin","chaise","chaleur","chambre","chance","chapitre","charbon","chasseur","chaton","chausson","chavirer","chemise","chenille","chéquier","chercher","cheval","chien","chiffre","chignon","chimère","chiot","chlorure","chocolat","choisir","chose","chouette","chrome","chute","cigare","cigogne","cimenter","cinéma","cintrer","circuler","cirer","cirque","citerne","citoyen","citron","civil","clairon","clameur","claquer","classe","clavier","client","cligner","climat","clivage","cloche","clonage","cloporte","cobalt","cobra","cocasse","cocotier","coder","codifier","coffre","cogner","cohésion","coiffer","coincer","colère","colibri","colline","colmater","colonel","combat","comédie","commande","compact","concert","conduire","confier","congeler","connoter","consonne","contact","convexe","copain","copie","corail","corbeau","cordage","corniche","corpus","correct","cortège","cosmique","costume","coton","coude","coupure","courage","couteau","couvrir","coyote","crabe","crainte","cravate","crayon","créature","créditer","crémeux","creuser","crevette","cribler","crier","cristal","critère","croire","croquer","crotale","crucial","cruel","crypter","cubique","cueillir","cuillère","cuisine","cuivre","culminer","cultiver","cumuler","cupide","curatif","curseur","cyanure","cycle","cylindre","cynique","daigner","damier","danger","danseur","dauphin","débattre","débiter","déborder","débrider","débutant","décaler","décembre","déchirer","décider","déclarer","décorer","décrire","décupler","dédale","déductif","déesse","défensif","défiler","défrayer","dégager","dégivrer","déglutir","dégrafer","déjeuner","délice","déloger","demander","demeurer","démolir","dénicher","dénouer","dentelle","dénuder","départ","dépenser","déphaser","déplacer","déposer","déranger","dérober","désastre","descente","désert","désigner","désobéir","dessiner","destrier","détacher","détester","détourer","détresse","devancer","devenir","deviner","devoir","diable","dialogue","diamant","dicter","différer","digérer","digital","digne","diluer","dimanche","diminuer","dioxyde","directif","diriger","discuter","disposer","dissiper","distance","divertir","diviser","docile","docteur","dogme","doigt","domaine","domicile","dompter","donateur","donjon","donner","dopamine","dortoir","dorure","dosage","doseur","dossier","dotation","douanier","double","douceur","douter","doyen","dragon","draper","dresser","dribbler","droiture","duperie","duplexe","durable","durcir","dynastie","éblouir","écarter","écharpe","échelle","éclairer","éclipse","éclore","écluse","école","économie","écorce","écouter","écraser","écrémer","écrivain","écrou","écume","écureuil","édifier","éduquer","effacer","effectif","effigie","effort","effrayer","effusion","égaliser","égarer","éjecter","élaborer","élargir","électron","élégant","éléphant","élève","éligible","élitisme","éloge","élucider","éluder","emballer","embellir","embryon","émeraude","émission","emmener","émotion","émouvoir","empereur","employer","emporter","emprise","émulsion","encadrer","enchère","enclave","encoche","endiguer","endosser","endroit","enduire","énergie","enfance","enfermer","enfouir","engager","engin","englober","énigme","enjamber","enjeu","enlever","ennemi","ennuyeux","enrichir","enrobage","enseigne","entasser","entendre","entier","entourer","entraver","énumérer","envahir","enviable","envoyer","enzyme","éolien","épaissir","épargne","épatant","épaule","épicerie","épidémie","épier","épilogue","épine","épisode","épitaphe","époque","épreuve","éprouver","épuisant","équerre","équipe","ériger","érosion","erreur","éruption","escalier","espadon","espèce","espiègle","espoir","esprit","esquiver","essayer","essence","essieu","essorer","estime","estomac","estrade","étagère","étaler","étanche","étatique","éteindre","étendoir","éternel","éthanol","éthique","ethnie","étirer","étoffer","étoile","étonnant","étourdir","étrange","étroit","étude","euphorie","évaluer","évasion","éventail","évidence","éviter","évolutif","évoquer","exact","exagérer","exaucer","exceller","excitant","exclusif","excuse","exécuter","exemple","exercer","exhaler","exhorter","exigence","exiler","exister","exotique","expédier","explorer","exposer","exprimer","exquis","extensif","extraire","exulter","fable","fabuleux","facette","facile","facture","faiblir","falaise","fameux","famille","farceur","farfelu","farine","farouche","fasciner","fatal","fatigue","faucon","fautif","faveur","favori","fébrile","féconder","fédérer","félin","femme","fémur","fendoir","féodal","fermer","féroce","ferveur","festival","feuille","feutre","février","fiasco","ficeler","fictif","fidèle","figure","filature","filetage","filière","filleul","filmer","filou","filtrer","financer","finir","fiole","firme","fissure","fixer","flairer","flamme","flasque","flatteur","fléau","flèche","fleur","flexion","flocon","flore","fluctuer","fluide","fluvial","folie","fonderie","fongible","fontaine","forcer","forgeron","formuler","fortune","fossile","foudre","fougère","fouiller","foulure","fourmi","fragile","fraise","franchir","frapper","frayeur","frégate","freiner","frelon","frémir","frénésie","frère","friable","friction","frisson","frivole","froid","fromage","frontal","frotter","fruit","fugitif","fuite","fureur","furieux","furtif","fusion","futur","gagner","galaxie","galerie","gambader","garantir","gardien","garnir","garrigue","gazelle","gazon","géant","gélatine","gélule","gendarme","général","génie","genou","gentil","géologie","géomètre","géranium","germe","gestuel","geyser","gibier","gicler","girafe","givre","glace","glaive","glisser","globe","gloire","glorieux","golfeur","gomme","gonfler","gorge","gorille","goudron","gouffre","goulot","goupille","gourmand","goutte","graduel","graffiti","graine","grand","grappin","gratuit","gravir","grenat","griffure","griller","grimper","grogner","gronder","grotte","groupe","gruger","grutier","gruyère","guépard","guerrier","guide","guimauve","guitare","gustatif","gymnaste","gyrostat","habitude","hachoir","halte","hameau","hangar","hanneton","haricot","harmonie","harpon","hasard","hélium","hématome","herbe","hérisson","hermine","héron","hésiter","heureux","hiberner","hibou","hilarant","histoire","hiver","homard","hommage","homogène","honneur","honorer","honteux","horde","horizon","horloge","hormone","horrible","houleux","housse","hublot","huileux","humain","humble","humide","humour","hurler","hydromel","hygiène","hymne","hypnose","idylle","ignorer","iguane","illicite","illusion","image","imbiber","imiter","immense","immobile","immuable","impact","impérial","implorer","imposer","imprimer","imputer","incarner","incendie","incident","incliner","incolore","indexer","indice","inductif","inédit","ineptie","inexact","infini","infliger","informer","infusion","ingérer","inhaler","inhiber","injecter","injure","innocent","inoculer","inonder","inscrire","insecte","insigne","insolite","inspirer","instinct","insulter","intact","intense","intime","intrigue","intuitif","inutile","invasion","inventer","inviter","invoquer","ironique","irradier","irréel","irriter","isoler","ivoire","ivresse","jaguar","jaillir","jambe","janvier","jardin","jauger","jaune","javelot","jetable","jeton","jeudi","jeunesse","joindre","joncher","jongler","joueur","jouissif","journal","jovial","joyau","joyeux","jubiler","jugement","junior","jupon","juriste","justice","juteux","juvénile","kayak","kimono","kiosque","label","labial","labourer","lacérer","lactose","lagune","laine","laisser","laitier","lambeau","lamelle","lampe","lanceur","langage","lanterne","lapin","largeur","larme","laurier","lavabo","lavoir","lecture","légal","léger","légume","lessive","lettre","levier","lexique","lézard","liasse","libérer","libre","licence","licorne","liège","lièvre","ligature","ligoter","ligue","limer","limite","limonade","limpide","linéaire","lingot","lionceau","liquide","lisière","lister","lithium","litige","littoral","livreur","logique","lointain","loisir","lombric","loterie","louer","lourd","loutre","louve","loyal","lubie","lucide","lucratif","lueur","lugubre","luisant","lumière","lunaire","lundi","luron","lutter","luxueux","machine","magasin","magenta","magique","maigre","maillon","maintien","mairie","maison","majorer","malaxer","maléfice","malheur","malice","mallette","mammouth","mandater","maniable","manquant","manteau","manuel","marathon","marbre","marchand","mardi","maritime","marqueur","marron","marteler","mascotte","massif","matériel","matière","matraque","maudire","maussade","mauve","maximal","méchant","méconnu","médaille","médecin","méditer","méduse","meilleur","mélange","mélodie","membre","mémoire","menacer","mener","menhir","mensonge","mentor","mercredi","mérite","merle","messager","mesure","métal","météore","méthode","métier","meuble","miauler","microbe","miette","mignon","migrer","milieu","million","mimique","mince","minéral","minimal","minorer","minute","miracle","miroiter","missile","mixte","mobile","moderne","moelleux","mondial","moniteur","monnaie","monotone","monstre","montagne","monument","moqueur","morceau","morsure","mortier","moteur","motif","mouche","moufle","moulin","mousson","mouton","mouvant","multiple","munition","muraille","murène","murmure","muscle","muséum","musicien","mutation","muter","mutuel","myriade","myrtille","mystère","mythique","nageur","nappe","narquois","narrer","natation","nation","nature","naufrage","nautique","navire","nébuleux","nectar","néfaste","négation","négliger","négocier","neige","nerveux","nettoyer","neurone","neutron","neveu","niche","nickel","nitrate","niveau","noble","nocif","nocturne","noirceur","noisette","nomade","nombreux","nommer","normatif","notable","notifier","notoire","nourrir","nouveau","novateur","novembre","novice","nuage","nuancer","nuire","nuisible","numéro","nuptial","nuque","nutritif","obéir","objectif","obliger","obscur","observer","obstacle","obtenir","obturer","occasion","occuper","océan","octobre","octroyer","octupler","oculaire","odeur","odorant","offenser","officier","offrir","ogive","oiseau","oisillon","olfactif","olivier","ombrage","omettre","onctueux","onduler","onéreux","onirique","opale","opaque","opérer","opinion","opportun","opprimer","opter","optique","orageux","orange","orbite","ordonner","oreille","organe","orgueil","orifice","ornement","orque","ortie","osciller","osmose","ossature","otarie","ouragan","ourson","outil","outrager","ouvrage","ovation","oxyde","oxygène","ozone","paisible","palace","palmarès","palourde","palper","panache","panda","pangolin","paniquer","panneau","panorama","pantalon","papaye","papier","papoter","papyrus","paradoxe","parcelle","paresse","parfumer","parler","parole","parrain","parsemer","partager","parure","parvenir","passion","pastèque","paternel","patience","patron","pavillon","pavoiser","payer","paysage","peigne","peintre","pelage","pélican","pelle","pelouse","peluche","pendule","pénétrer","pénible","pensif","pénurie","pépite","péplum","perdrix","perforer","période","permuter","perplexe","persil","perte","peser","pétale","petit","pétrir","peuple","pharaon","phobie","phoque","photon","phrase","physique","piano","pictural","pièce","pierre","pieuvre","pilote","pinceau","pipette","piquer","pirogue","piscine","piston","pivoter","pixel","pizza","placard","plafond","plaisir","planer","plaque","plastron","plateau","pleurer","plexus","pliage","plomb","plonger","pluie","plumage","pochette","poésie","poète","pointe","poirier","poisson","poivre","polaire","policier","pollen","polygone","pommade","pompier","ponctuel","pondérer","poney","portique","position","posséder","posture","potager","poteau","potion","pouce","poulain","poumon","pourpre","poussin","pouvoir","prairie","pratique","précieux","prédire","préfixe","prélude","prénom","présence","prétexte","prévoir","primitif","prince","prison","priver","problème","procéder","prodige","profond","progrès","proie","projeter","prologue","promener","propre","prospère","protéger","prouesse","proverbe","prudence","pruneau","psychose","public","puceron","puiser","pulpe","pulsar","punaise","punitif","pupitre","purifier","puzzle","pyramide","quasar","querelle","question","quiétude","quitter","quotient","racine","raconter","radieux","ragondin","raideur","raisin","ralentir","rallonge","ramasser","rapide","rasage","ratisser","ravager","ravin","rayonner","réactif","réagir","réaliser","réanimer","recevoir","réciter","réclamer","récolter","recruter","reculer","recycler","rédiger","redouter","refaire","réflexe","réformer","refrain","refuge","régalien","région","réglage","régulier","réitérer","rejeter","rejouer","relatif","relever","relief","remarque","remède","remise","remonter","remplir","remuer","renard","renfort","renifler","renoncer","rentrer","renvoi","replier","reporter","reprise","reptile","requin","réserve","résineux","résoudre","respect","rester","résultat","rétablir","retenir","réticule","retomber","retracer","réunion","réussir","revanche","revivre","révolte","révulsif","richesse","rideau","rieur","rigide","rigoler","rincer","riposter","risible","risque","rituel","rival","rivière","rocheux","romance","rompre","ronce","rondin","roseau","rosier","rotatif","rotor","rotule","rouge","rouille","rouleau","routine","royaume","ruban","rubis","ruche","ruelle","rugueux","ruiner","ruisseau","ruser","rustique","rythme","sabler","saboter","sabre","sacoche","safari","sagesse","saisir","salade","salive","salon","saluer","samedi","sanction","sanglier","sarcasme","sardine","saturer","saugrenu","saumon","sauter","sauvage","savant","savonner","scalpel","scandale","scélérat","scénario","sceptre","schéma","science","scinder","score","scrutin","sculpter","séance","sécable","sécher","secouer","sécréter","sédatif","séduire","seigneur","séjour","sélectif","semaine","sembler","semence","séminal","sénateur","sensible","sentence","séparer","séquence","serein","sergent","sérieux","serrure","sérum","service","sésame","sévir","sevrage","sextuple","sidéral","siècle","siéger","siffler","sigle","signal","silence","silicium","simple","sincère","sinistre","siphon","sirop","sismique","situer","skier","social","socle","sodium","soigneux","soldat","soleil","solitude","soluble","sombre","sommeil","somnoler","sonde","songeur","sonnette","sonore","sorcier","sortir","sosie","sottise","soucieux","soudure","souffle","soulever","soupape","source","soutirer","souvenir","spacieux","spatial","spécial","sphère","spiral","stable","station","sternum","stimulus","stipuler","strict","studieux","stupeur","styliste","sublime","substrat","subtil","subvenir","succès","sucre","suffixe","suggérer","suiveur","sulfate","superbe","supplier","surface","suricate","surmener","surprise","sursaut","survie","suspect","syllabe","symbole","symétrie","synapse","syntaxe","système","tabac","tablier","tactile","tailler","talent","talisman","talonner","tambour","tamiser","tangible","tapis","taquiner","tarder","tarif","tartine","tasse","tatami","tatouage","taupe","taureau","taxer","témoin","temporel","tenaille","tendre","teneur","tenir","tension","terminer","terne","terrible","tétine","texte","thème","théorie","thérapie","thorax","tibia","tiède","timide","tirelire","tiroir","tissu","titane","titre","tituber","toboggan","tolérant","tomate","tonique","tonneau","toponyme","torche","tordre","tornade","torpille","torrent","torse","tortue","totem","toucher","tournage","tousser","toxine","traction","trafic","tragique","trahir","train","trancher","travail","trèfle","tremper","trésor","treuil","triage","tribunal","tricoter","trilogie","triomphe","tripler","triturer","trivial","trombone","tronc","tropical","troupeau","tuile","tulipe","tumulte","tunnel","turbine","tuteur","tutoyer","tuyau","tympan","typhon","typique","tyran","ubuesque","ultime","ultrason","unanime","unifier","union","unique","unitaire","univers","uranium","urbain","urticant","usage","usine","usuel","usure","utile","utopie","vacarme","vaccin","vagabond","vague","vaillant","vaincre","vaisseau","valable","valise","vallon","valve","vampire","vanille","vapeur","varier","vaseux","vassal","vaste","vecteur","vedette","végétal","véhicule","veinard","véloce","vendredi","vénérer","venger","venimeux","ventouse","verdure","vérin","vernir","verrou","verser","vertu","veston","vétéran","vétuste","vexant","vexer","viaduc","viande","victoire","vidange","vidéo","vignette","vigueur","vilain","village","vinaigre","violon","vipère","virement","virtuose","virus","visage","viseur","vision","visqueux","visuel","vital","vitesse","viticole","vitrine","vivace","vivipare","vocation","voguer","voile","voisin","voiture","volaille","volcan","voltiger","volume","vorace","vortex","voter","vouloir","voyage","voyelle","wagon","xénon","yacht","zèbre","zénith","zeste","zoologie"],require$$5=["abaco","abbaglio","abbinato","abete","abisso","abolire","abrasivo","abrogato","accadere","accenno","accusato","acetone","achille","acido","acqua","acre","acrilico","acrobata","acuto","adagio","addebito","addome","adeguato","aderire","adipe","adottare","adulare","affabile","affetto","affisso","affranto","aforisma","afoso","africano","agave","agente","agevole","aggancio","agire","agitare","agonismo","agricolo","agrumeto","aguzzo","alabarda","alato","albatro","alberato","albo","albume","alce","alcolico","alettone","alfa","algebra","aliante","alibi","alimento","allagato","allegro","allievo","allodola","allusivo","almeno","alogeno","alpaca","alpestre","altalena","alterno","alticcio","altrove","alunno","alveolo","alzare","amalgama","amanita","amarena","ambito","ambrato","ameba","america","ametista","amico","ammasso","ammenda","ammirare","ammonito","amore","ampio","ampliare","amuleto","anacardo","anagrafe","analista","anarchia","anatra","anca","ancella","ancora","andare","andrea","anello","angelo","angolare","angusto","anima","annegare","annidato","anno","annuncio","anonimo","anticipo","anzi","apatico","apertura","apode","apparire","appetito","appoggio","approdo","appunto","aprile","arabica","arachide","aragosta","araldica","arancio","aratura","arazzo","arbitro","archivio","ardito","arenile","argento","argine","arguto","aria","armonia","arnese","arredato","arringa","arrosto","arsenico","arso","artefice","arzillo","asciutto","ascolto","asepsi","asettico","asfalto","asino","asola","aspirato","aspro","assaggio","asse","assoluto","assurdo","asta","astenuto","astice","astratto","atavico","ateismo","atomico","atono","attesa","attivare","attorno","attrito","attuale","ausilio","austria","autista","autonomo","autunno","avanzato","avere","avvenire","avviso","avvolgere","azione","azoto","azzimo","azzurro","babele","baccano","bacino","baco","badessa","badilata","bagnato","baita","balcone","baldo","balena","ballata","balzano","bambino","bandire","baraonda","barbaro","barca","baritono","barlume","barocco","basilico","basso","batosta","battuto","baule","bava","bavosa","becco","beffa","belgio","belva","benda","benevole","benigno","benzina","bere","berlina","beta","bibita","bici","bidone","bifido","biga","bilancia","bimbo","binocolo","biologo","bipede","bipolare","birbante","birra","biscotto","bisesto","bisnonno","bisonte","bisturi","bizzarro","blando","blatta","bollito","bonifico","bordo","bosco","botanico","bottino","bozzolo","braccio","bradipo","brama","branca","bravura","bretella","brevetto","brezza","briglia","brillante","brindare","broccolo","brodo","bronzina","brullo","bruno","bubbone","buca","budino","buffone","buio","bulbo","buono","burlone","burrasca","bussola","busta","cadetto","caduco","calamaro","calcolo","calesse","calibro","calmo","caloria","cambusa","camerata","camicia","cammino","camola","campale","canapa","candela","cane","canino","canotto","cantina","capace","capello","capitolo","capogiro","cappero","capra","capsula","carapace","carcassa","cardo","carisma","carovana","carretto","cartolina","casaccio","cascata","caserma","caso","cassone","castello","casuale","catasta","catena","catrame","cauto","cavillo","cedibile","cedrata","cefalo","celebre","cellulare","cena","cenone","centesimo","ceramica","cercare","certo","cerume","cervello","cesoia","cespo","ceto","chela","chiaro","chicca","chiedere","chimera","china","chirurgo","chitarra","ciao","ciclismo","cifrare","cigno","cilindro","ciottolo","circa","cirrosi","citrico","cittadino","ciuffo","civetta","civile","classico","clinica","cloro","cocco","codardo","codice","coerente","cognome","collare","colmato","colore","colposo","coltivato","colza","coma","cometa","commando","comodo","computer","comune","conciso","condurre","conferma","congelare","coniuge","connesso","conoscere","consumo","continuo","convegno","coperto","copione","coppia","copricapo","corazza","cordata","coricato","cornice","corolla","corpo","corredo","corsia","cortese","cosmico","costante","cottura","covato","cratere","cravatta","creato","credere","cremoso","crescita","creta","criceto","crinale","crisi","critico","croce","cronaca","crostata","cruciale","crusca","cucire","cuculo","cugino","cullato","cupola","curatore","cursore","curvo","cuscino","custode","dado","daino","dalmata","damerino","daniela","dannoso","danzare","datato","davanti","davvero","debutto","decennio","deciso","declino","decollo","decreto","dedicato","definito","deforme","degno","delegare","delfino","delirio","delta","demenza","denotato","dentro","deposito","derapata","derivare","deroga","descritto","deserto","desiderio","desumere","detersivo","devoto","diametro","dicembre","diedro","difeso","diffuso","digerire","digitale","diluvio","dinamico","dinnanzi","dipinto","diploma","dipolo","diradare","dire","dirotto","dirupo","disagio","discreto","disfare","disgelo","disposto","distanza","disumano","dito","divano","divelto","dividere","divorato","doblone","docente","doganale","dogma","dolce","domato","domenica","dominare","dondolo","dono","dormire","dote","dottore","dovuto","dozzina","drago","druido","dubbio","dubitare","ducale","duna","duomo","duplice","duraturo","ebano","eccesso","ecco","eclissi","economia","edera","edicola","edile","editoria","educare","egemonia","egli","egoismo","egregio","elaborato","elargire","elegante","elencato","eletto","elevare","elfico","elica","elmo","elsa","eluso","emanato","emblema","emesso","emiro","emotivo","emozione","empirico","emulo","endemico","enduro","energia","enfasi","enoteca","entrare","enzima","epatite","epilogo","episodio","epocale","eppure","equatore","erario","erba","erboso","erede","eremita","erigere","ermetico","eroe","erosivo","errante","esagono","esame","esanime","esaudire","esca","esempio","esercito","esibito","esigente","esistere","esito","esofago","esortato","esoso","espanso","espresso","essenza","esso","esteso","estimare","estonia","estroso","esultare","etilico","etnico","etrusco","etto","euclideo","europa","evaso","evidenza","evitato","evoluto","evviva","fabbrica","faccenda","fachiro","falco","famiglia","fanale","fanfara","fango","fantasma","fare","farfalla","farinoso","farmaco","fascia","fastoso","fasullo","faticare","fato","favoloso","febbre","fecola","fede","fegato","felpa","feltro","femmina","fendere","fenomeno","fermento","ferro","fertile","fessura","festivo","fetta","feudo","fiaba","fiducia","fifa","figurato","filo","finanza","finestra","finire","fiore","fiscale","fisico","fiume","flacone","flamenco","flebo","flemma","florido","fluente","fluoro","fobico","focaccia","focoso","foderato","foglio","folata","folclore","folgore","fondente","fonetico","fonia","fontana","forbito","forchetta","foresta","formica","fornaio","foro","fortezza","forzare","fosfato","fosso","fracasso","frana","frassino","fratello","freccetta","frenata","fresco","frigo","frollino","fronde","frugale","frutta","fucilata","fucsia","fuggente","fulmine","fulvo","fumante","fumetto","fumoso","fune","funzione","fuoco","furbo","furgone","furore","fuso","futile","gabbiano","gaffe","galateo","gallina","galoppo","gambero","gamma","garanzia","garbo","garofano","garzone","gasdotto","gasolio","gastrico","gatto","gaudio","gazebo","gazzella","geco","gelatina","gelso","gemello","gemmato","gene","genitore","gennaio","genotipo","gergo","ghepardo","ghiaccio","ghisa","giallo","gilda","ginepro","giocare","gioiello","giorno","giove","girato","girone","gittata","giudizio","giurato","giusto","globulo","glutine","gnomo","gobba","golf","gomito","gommone","gonfio","gonna","governo","gracile","grado","grafico","grammo","grande","grattare","gravoso","grazia","greca","gregge","grifone","grigio","grinza","grotta","gruppo","guadagno","guaio","guanto","guardare","gufo","guidare","ibernato","icona","identico","idillio","idolo","idra","idrico","idrogeno","igiene","ignaro","ignorato","ilare","illeso","illogico","illudere","imballo","imbevuto","imbocco","imbuto","immane","immerso","immolato","impacco","impeto","impiego","importo","impronta","inalare","inarcare","inattivo","incanto","incendio","inchino","incisivo","incluso","incontro","incrocio","incubo","indagine","india","indole","inedito","infatti","infilare","inflitto","ingaggio","ingegno","inglese","ingordo","ingrosso","innesco","inodore","inoltrare","inondato","insano","insetto","insieme","insonnia","insulina","intasato","intero","intonaco","intuito","inumidire","invalido","invece","invito","iperbole","ipnotico","ipotesi","ippica","iride","irlanda","ironico","irrigato","irrorare","isolato","isotopo","isterico","istituto","istrice","italia","iterare","labbro","labirinto","lacca","lacerato","lacrima","lacuna","laddove","lago","lampo","lancetta","lanterna","lardoso","larga","laringe","lastra","latenza","latino","lattuga","lavagna","lavoro","legale","leggero","lembo","lentezza","lenza","leone","lepre","lesivo","lessato","lesto","letterale","leva","levigato","libero","lido","lievito","lilla","limatura","limitare","limpido","lineare","lingua","liquido","lira","lirica","lisca","lite","litigio","livrea","locanda","lode","logica","lombare","londra","longevo","loquace","lorenzo","loto","lotteria","luce","lucidato","lumaca","luminoso","lungo","lupo","luppolo","lusinga","lusso","lutto","macabro","macchina","macero","macinato","madama","magico","maglia","magnete","magro","maiolica","malafede","malgrado","malinteso","malsano","malto","malumore","mana","mancia","mandorla","mangiare","manifesto","mannaro","manovra","mansarda","mantide","manubrio","mappa","maratona","marcire","maretta","marmo","marsupio","maschera","massaia","mastino","materasso","matricola","mattone","maturo","mazurca","meandro","meccanico","mecenate","medesimo","meditare","mega","melassa","melis","melodia","meninge","meno","mensola","mercurio","merenda","merlo","meschino","mese","messere","mestolo","metallo","metodo","mettere","miagolare","mica","micelio","michele","microbo","midollo","miele","migliore","milano","milite","mimosa","minerale","mini","minore","mirino","mirtillo","miscela","missiva","misto","misurare","mitezza","mitigare","mitra","mittente","mnemonico","modello","modifica","modulo","mogano","mogio","mole","molosso","monastero","monco","mondina","monetario","monile","monotono","monsone","montato","monviso","mora","mordere","morsicato","mostro","motivato","motosega","motto","movenza","movimento","mozzo","mucca","mucosa","muffa","mughetto","mugnaio","mulatto","mulinello","multiplo","mummia","munto","muovere","murale","musa","muscolo","musica","mutevole","muto","nababbo","nafta","nanometro","narciso","narice","narrato","nascere","nastrare","naturale","nautica","naviglio","nebulosa","necrosi","negativo","negozio","nemmeno","neofita","neretto","nervo","nessuno","nettuno","neutrale","neve","nevrotico","nicchia","ninfa","nitido","nobile","nocivo","nodo","nome","nomina","nordico","normale","norvegese","nostrano","notare","notizia","notturno","novella","nucleo","nulla","numero","nuovo","nutrire","nuvola","nuziale","oasi","obbedire","obbligo","obelisco","oblio","obolo","obsoleto","occasione","occhio","occidente","occorrere","occultare","ocra","oculato","odierno","odorare","offerta","offrire","offuscato","oggetto","oggi","ognuno","olandese","olfatto","oliato","oliva","ologramma","oltre","omaggio","ombelico","ombra","omega","omissione","ondoso","onere","onice","onnivoro","onorevole","onta","operato","opinione","opposto","oracolo","orafo","ordine","orecchino","orefice","orfano","organico","origine","orizzonte","orma","ormeggio","ornativo","orologio","orrendo","orribile","ortensia","ortica","orzata","orzo","osare","oscurare","osmosi","ospedale","ospite","ossa","ossidare","ostacolo","oste","otite","otre","ottagono","ottimo","ottobre","ovale","ovest","ovino","oviparo","ovocito","ovunque","ovviare","ozio","pacchetto","pace","pacifico","padella","padrone","paese","paga","pagina","palazzina","palesare","pallido","palo","palude","pandoro","pannello","paolo","paonazzo","paprica","parabola","parcella","parere","pargolo","pari","parlato","parola","partire","parvenza","parziale","passivo","pasticca","patacca","patologia","pattume","pavone","peccato","pedalare","pedonale","peggio","peloso","penare","pendice","penisola","pennuto","penombra","pensare","pentola","pepe","pepita","perbene","percorso","perdonato","perforare","pergamena","periodo","permesso","perno","perplesso","persuaso","pertugio","pervaso","pesatore","pesista","peso","pestifero","petalo","pettine","petulante","pezzo","piacere","pianta","piattino","piccino","picozza","piega","pietra","piffero","pigiama","pigolio","pigro","pila","pilifero","pillola","pilota","pimpante","pineta","pinna","pinolo","pioggia","piombo","piramide","piretico","pirite","pirolisi","pitone","pizzico","placebo","planare","plasma","platano","plenario","pochezza","poderoso","podismo","poesia","poggiare","polenta","poligono","pollice","polmonite","polpetta","polso","poltrona","polvere","pomice","pomodoro","ponte","popoloso","porfido","poroso","porpora","porre","portata","posa","positivo","possesso","postulato","potassio","potere","pranzo","prassi","pratica","precluso","predica","prefisso","pregiato","prelievo","premere","prenotare","preparato","presenza","pretesto","prevalso","prima","principe","privato","problema","procura","produrre","profumo","progetto","prolunga","promessa","pronome","proposta","proroga","proteso","prova","prudente","prugna","prurito","psiche","pubblico","pudica","pugilato","pugno","pulce","pulito","pulsante","puntare","pupazzo","pupilla","puro","quadro","qualcosa","quasi","querela","quota","raccolto","raddoppio","radicale","radunato","raffica","ragazzo","ragione","ragno","ramarro","ramingo","ramo","randagio","rantolare","rapato","rapina","rappreso","rasatura","raschiato","rasente","rassegna","rastrello","rata","ravveduto","reale","recepire","recinto","recluta","recondito","recupero","reddito","redimere","regalato","registro","regola","regresso","relazione","remare","remoto","renna","replica","reprimere","reputare","resa","residente","responso","restauro","rete","retina","retorica","rettifica","revocato","riassunto","ribadire","ribelle","ribrezzo","ricarica","ricco","ricevere","riciclato","ricordo","ricreduto","ridicolo","ridurre","rifasare","riflesso","riforma","rifugio","rigare","rigettato","righello","rilassato","rilevato","rimanere","rimbalzo","rimedio","rimorchio","rinascita","rincaro","rinforzo","rinnovo","rinomato","rinsavito","rintocco","rinuncia","rinvenire","riparato","ripetuto","ripieno","riportare","ripresa","ripulire","risata","rischio","riserva","risibile","riso","rispetto","ristoro","risultato","risvolto","ritardo","ritegno","ritmico","ritrovo","riunione","riva","riverso","rivincita","rivolto","rizoma","roba","robotico","robusto","roccia","roco","rodaggio","rodere","roditore","rogito","rollio","romantico","rompere","ronzio","rosolare","rospo","rotante","rotondo","rotula","rovescio","rubizzo","rubrica","ruga","rullino","rumine","rumoroso","ruolo","rupe","russare","rustico","sabato","sabbiare","sabotato","sagoma","salasso","saldatura","salgemma","salivare","salmone","salone","saltare","saluto","salvo","sapere","sapido","saporito","saraceno","sarcasmo","sarto","sassoso","satellite","satira","satollo","saturno","savana","savio","saziato","sbadiglio","sbalzo","sbancato","sbarra","sbattere","sbavare","sbendare","sbirciare","sbloccato","sbocciato","sbrinare","sbruffone","sbuffare","scabroso","scadenza","scala","scambiare","scandalo","scapola","scarso","scatenare","scavato","scelto","scenico","scettro","scheda","schiena","sciarpa","scienza","scindere","scippo","sciroppo","scivolo","sclerare","scodella","scolpito","scomparto","sconforto","scoprire","scorta","scossone","scozzese","scriba","scrollare","scrutinio","scuderia","scultore","scuola","scuro","scusare","sdebitare","sdoganare","seccatura","secondo","sedano","seggiola","segnalato","segregato","seguito","selciato","selettivo","sella","selvaggio","semaforo","sembrare","seme","seminato","sempre","senso","sentire","sepolto","sequenza","serata","serbato","sereno","serio","serpente","serraglio","servire","sestina","setola","settimana","sfacelo","sfaldare","sfamato","sfarzoso","sfaticato","sfera","sfida","sfilato","sfinge","sfocato","sfoderare","sfogo","sfoltire","sforzato","sfratto","sfruttato","sfuggito","sfumare","sfuso","sgabello","sgarbato","sgonfiare","sgorbio","sgrassato","sguardo","sibilo","siccome","sierra","sigla","signore","silenzio","sillaba","simbolo","simpatico","simulato","sinfonia","singolo","sinistro","sino","sintesi","sinusoide","sipario","sisma","sistole","situato","slitta","slogatura","sloveno","smarrito","smemorato","smentito","smeraldo","smilzo","smontare","smottato","smussato","snellire","snervato","snodo","sobbalzo","sobrio","soccorso","sociale","sodale","soffitto","sogno","soldato","solenne","solido","sollazzo","solo","solubile","solvente","somatico","somma","sonda","sonetto","sonnifero","sopire","soppeso","sopra","sorgere","sorpasso","sorriso","sorso","sorteggio","sorvolato","sospiro","sosta","sottile","spada","spalla","spargere","spatola","spavento","spazzola","specie","spedire","spegnere","spelatura","speranza","spessore","spettrale","spezzato","spia","spigoloso","spillato","spinoso","spirale","splendido","sportivo","sposo","spranga","sprecare","spronato","spruzzo","spuntino","squillo","sradicare","srotolato","stabile","stacco","staffa","stagnare","stampato","stantio","starnuto","stasera","statuto","stelo","steppa","sterzo","stiletto","stima","stirpe","stivale","stizzoso","stonato","storico","strappo","stregato","stridulo","strozzare","strutto","stuccare","stufo","stupendo","subentro","succoso","sudore","suggerito","sugo","sultano","suonare","superbo","supporto","surgelato","surrogato","sussurro","sutura","svagare","svedese","sveglio","svelare","svenuto","svezia","sviluppo","svista","svizzera","svolta","svuotare","tabacco","tabulato","tacciare","taciturno","tale","talismano","tampone","tannino","tara","tardivo","targato","tariffa","tarpare","tartaruga","tasto","tattico","taverna","tavolata","tazza","teca","tecnico","telefono","temerario","tempo","temuto","tendone","tenero","tensione","tentacolo","teorema","terme","terrazzo","terzetto","tesi","tesserato","testato","tetro","tettoia","tifare","tigella","timbro","tinto","tipico","tipografo","tiraggio","tiro","titanio","titolo","titubante","tizio","tizzone","toccare","tollerare","tolto","tombola","tomo","tonfo","tonsilla","topazio","topologia","toppa","torba","tornare","torrone","tortora","toscano","tossire","tostatura","totano","trabocco","trachea","trafila","tragedia","tralcio","tramonto","transito","trapano","trarre","trasloco","trattato","trave","treccia","tremolio","trespolo","tributo","tricheco","trifoglio","trillo","trincea","trio","tristezza","triturato","trivella","tromba","trono","troppo","trottola","trovare","truccato","tubatura","tuffato","tulipano","tumulto","tunisia","turbare","turchino","tuta","tutela","ubicato","uccello","uccisore","udire","uditivo","uffa","ufficio","uguale","ulisse","ultimato","umano","umile","umorismo","uncinetto","ungere","ungherese","unicorno","unificato","unisono","unitario","unte","uovo","upupa","uragano","urgenza","urlo","usanza","usato","uscito","usignolo","usuraio","utensile","utilizzo","utopia","vacante","vaccinato","vagabondo","vagliato","valanga","valgo","valico","valletta","valoroso","valutare","valvola","vampata","vangare","vanitoso","vano","vantaggio","vanvera","vapore","varano","varcato","variante","vasca","vedetta","vedova","veduto","vegetale","veicolo","velcro","velina","velluto","veloce","venato","vendemmia","vento","verace","verbale","vergogna","verifica","vero","verruca","verticale","vescica","vessillo","vestale","veterano","vetrina","vetusto","viandante","vibrante","vicenda","vichingo","vicinanza","vidimare","vigilia","vigneto","vigore","vile","villano","vimini","vincitore","viola","vipera","virgola","virologo","virulento","viscoso","visione","vispo","vissuto","visura","vita","vitello","vittima","vivanda","vivido","viziare","voce","voga","volatile","volere","volpe","voragine","vulcano","zampogna","zanna","zappato","zattera","zavorra","zefiro","zelante","zelo","zenzero","zerbino","zibetto","zinco","zircone","zitto","zolla","zotico","zucchero","zufolo","zulu","zuppa"],require$$6=["ábaco","abdomen","abeja","abierto","abogado","abono","aborto","abrazo","abrir","abuelo","abuso","acabar","academia","acceso","acción","aceite","acelga","acento","aceptar","ácido","aclarar","acné","acoger","acoso","activo","acto","actriz","actuar","acudir","acuerdo","acusar","adicto","admitir","adoptar","adorno","aduana","adulto","aéreo","afectar","afición","afinar","afirmar","ágil","agitar","agonía","agosto","agotar","agregar","agrio","agua","agudo","águila","aguja","ahogo","ahorro","aire","aislar","ajedrez","ajeno","ajuste","alacrán","alambre","alarma","alba","álbum","alcalde","aldea","alegre","alejar","alerta","aleta","alfiler","alga","algodón","aliado","aliento","alivio","alma","almeja","almíbar","altar","alteza","altivo","alto","altura","alumno","alzar","amable","amante","amapola","amargo","amasar","ámbar","ámbito","ameno","amigo","amistad","amor","amparo","amplio","ancho","anciano","ancla","andar","andén","anemia","ángulo","anillo","ánimo","anís","anotar","antena","antiguo","antojo","anual","anular","anuncio","añadir","añejo","año","apagar","aparato","apetito","apio","aplicar","apodo","aporte","apoyo","aprender","aprobar","apuesta","apuro","arado","araña","arar","árbitro","árbol","arbusto","archivo","arco","arder","ardilla","arduo","área","árido","aries","armonía","arnés","aroma","arpa","arpón","arreglo","arroz","arruga","arte","artista","asa","asado","asalto","ascenso","asegurar","aseo","asesor","asiento","asilo","asistir","asno","asombro","áspero","astilla","astro","astuto","asumir","asunto","atajo","ataque","atar","atento","ateo","ático","atleta","átomo","atraer","atroz","atún","audaz","audio","auge","aula","aumento","ausente","autor","aval","avance","avaro","ave","avellana","avena","avestruz","avión","aviso","ayer","ayuda","ayuno","azafrán","azar","azote","azúcar","azufre","azul","baba","babor","bache","bahía","baile","bajar","balanza","balcón","balde","bambú","banco","banda","baño","barba","barco","barniz","barro","báscula","bastón","basura","batalla","batería","batir","batuta","baúl","bazar","bebé","bebida","bello","besar","beso","bestia","bicho","bien","bingo","blanco","bloque","blusa","boa","bobina","bobo","boca","bocina","boda","bodega","boina","bola","bolero","bolsa","bomba","bondad","bonito","bono","bonsái","borde","borrar","bosque","bote","botín","bóveda","bozal","bravo","brazo","brecha","breve","brillo","brinco","brisa","broca","broma","bronce","brote","bruja","brusco","bruto","buceo","bucle","bueno","buey","bufanda","bufón","búho","buitre","bulto","burbuja","burla","burro","buscar","butaca","buzón","caballo","cabeza","cabina","cabra","cacao","cadáver","cadena","caer","café","caída","caimán","caja","cajón","cal","calamar","calcio","caldo","calidad","calle","calma","calor","calvo","cama","cambio","camello","camino","campo","cáncer","candil","canela","canguro","canica","canto","caña","cañón","caoba","caos","capaz","capitán","capote","captar","capucha","cara","carbón","cárcel","careta","carga","cariño","carne","carpeta","carro","carta","casa","casco","casero","caspa","castor","catorce","catre","caudal","causa","cazo","cebolla","ceder","cedro","celda","célebre","celoso","célula","cemento","ceniza","centro","cerca","cerdo","cereza","cero","cerrar","certeza","césped","cetro","chacal","chaleco","champú","chancla","chapa","charla","chico","chiste","chivo","choque","choza","chuleta","chupar","ciclón","ciego","cielo","cien","cierto","cifra","cigarro","cima","cinco","cine","cinta","ciprés","circo","ciruela","cisne","cita","ciudad","clamor","clan","claro","clase","clave","cliente","clima","clínica","cobre","cocción","cochino","cocina","coco","código","codo","cofre","coger","cohete","cojín","cojo","cola","colcha","colegio","colgar","colina","collar","colmo","columna","combate","comer","comida","cómodo","compra","conde","conejo","conga","conocer","consejo","contar","copa","copia","corazón","corbata","corcho","cordón","corona","correr","coser","cosmos","costa","cráneo","cráter","crear","crecer","creído","crema","cría","crimen","cripta","crisis","cromo","crónica","croqueta","crudo","cruz","cuadro","cuarto","cuatro","cubo","cubrir","cuchara","cuello","cuento","cuerda","cuesta","cueva","cuidar","culebra","culpa","culto","cumbre","cumplir","cuna","cuneta","cuota","cupón","cúpula","curar","curioso","curso","curva","cutis","dama","danza","dar","dardo","dátil","deber","débil","década","decir","dedo","defensa","definir","dejar","delfín","delgado","delito","demora","denso","dental","deporte","derecho","derrota","desayuno","deseo","desfile","desnudo","destino","desvío","detalle","detener","deuda","día","diablo","diadema","diamante","diana","diario","dibujo","dictar","diente","dieta","diez","difícil","digno","dilema","diluir","dinero","directo","dirigir","disco","diseño","disfraz","diva","divino","doble","doce","dolor","domingo","don","donar","dorado","dormir","dorso","dos","dosis","dragón","droga","ducha","duda","duelo","dueño","dulce","dúo","duque","durar","dureza","duro","ébano","ebrio","echar","eco","ecuador","edad","edición","edificio","editor","educar","efecto","eficaz","eje","ejemplo","elefante","elegir","elemento","elevar","elipse","élite","elixir","elogio","eludir","embudo","emitir","emoción","empate","empeño","empleo","empresa","enano","encargo","enchufe","encía","enemigo","enero","enfado","enfermo","engaño","enigma","enlace","enorme","enredo","ensayo","enseñar","entero","entrar","envase","envío","época","equipo","erizo","escala","escena","escolar","escribir","escudo","esencia","esfera","esfuerzo","espada","espejo","espía","esposa","espuma","esquí","estar","este","estilo","estufa","etapa","eterno","ética","etnia","evadir","evaluar","evento","evitar","exacto","examen","exceso","excusa","exento","exigir","exilio","existir","éxito","experto","explicar","exponer","extremo","fábrica","fábula","fachada","fácil","factor","faena","faja","falda","fallo","falso","faltar","fama","familia","famoso","faraón","farmacia","farol","farsa","fase","fatiga","fauna","favor","fax","febrero","fecha","feliz","feo","feria","feroz","fértil","fervor","festín","fiable","fianza","fiar","fibra","ficción","ficha","fideo","fiebre","fiel","fiera","fiesta","figura","fijar","fijo","fila","filete","filial","filtro","fin","finca","fingir","finito","firma","flaco","flauta","flecha","flor","flota","fluir","flujo","flúor","fobia","foca","fogata","fogón","folio","folleto","fondo","forma","forro","fortuna","forzar","fosa","foto","fracaso","frágil","franja","frase","fraude","freír","freno","fresa","frío","frito","fruta","fuego","fuente","fuerza","fuga","fumar","función","funda","furgón","furia","fusil","fútbol","futuro","gacela","gafas","gaita","gajo","gala","galería","gallo","gamba","ganar","gancho","ganga","ganso","garaje","garza","gasolina","gastar","gato","gavilán","gemelo","gemir","gen","género","genio","gente","geranio","gerente","germen","gesto","gigante","gimnasio","girar","giro","glaciar","globo","gloria","gol","golfo","goloso","golpe","goma","gordo","gorila","gorra","gota","goteo","gozar","grada","gráfico","grano","grasa","gratis","grave","grieta","grillo","gripe","gris","grito","grosor","grúa","grueso","grumo","grupo","guante","guapo","guardia","guerra","guía","guiño","guion","guiso","guitarra","gusano","gustar","haber","hábil","hablar","hacer","hacha","hada","hallar","hamaca","harina","haz","hazaña","hebilla","hebra","hecho","helado","helio","hembra","herir","hermano","héroe","hervir","hielo","hierro","hígado","higiene","hijo","himno","historia","hocico","hogar","hoguera","hoja","hombre","hongo","honor","honra","hora","hormiga","horno","hostil","hoyo","hueco","huelga","huerta","hueso","huevo","huida","huir","humano","húmedo","humilde","humo","hundir","huracán","hurto","icono","ideal","idioma","ídolo","iglesia","iglú","igual","ilegal","ilusión","imagen","imán","imitar","impar","imperio","imponer","impulso","incapaz","índice","inerte","infiel","informe","ingenio","inicio","inmenso","inmune","innato","insecto","instante","interés","íntimo","intuir","inútil","invierno","ira","iris","ironía","isla","islote","jabalí","jabón","jamón","jarabe","jardín","jarra","jaula","jazmín","jefe","jeringa","jinete","jornada","joroba","joven","joya","juerga","jueves","juez","jugador","jugo","juguete","juicio","junco","jungla","junio","juntar","júpiter","jurar","justo","juvenil","juzgar","kilo","koala","labio","lacio","lacra","lado","ladrón","lagarto","lágrima","laguna","laico","lamer","lámina","lámpara","lana","lancha","langosta","lanza","lápiz","largo","larva","lástima","lata","látex","latir","laurel","lavar","lazo","leal","lección","leche","lector","leer","legión","legumbre","lejano","lengua","lento","leña","león","leopardo","lesión","letal","letra","leve","leyenda","libertad","libro","licor","líder","lidiar","lienzo","liga","ligero","lima","límite","limón","limpio","lince","lindo","línea","lingote","lino","linterna","líquido","liso","lista","litera","litio","litro","llaga","llama","llanto","llave","llegar","llenar","llevar","llorar","llover","lluvia","lobo","loción","loco","locura","lógica","logro","lombriz","lomo","lonja","lote","lucha","lucir","lugar","lujo","luna","lunes","lupa","lustro","luto","luz","maceta","macho","madera","madre","maduro","maestro","mafia","magia","mago","maíz","maldad","maleta","malla","malo","mamá","mambo","mamut","manco","mando","manejar","manga","maniquí","manjar","mano","manso","manta","mañana","mapa","máquina","mar","marco","marea","marfil","margen","marido","mármol","marrón","martes","marzo","masa","máscara","masivo","matar","materia","matiz","matriz","máximo","mayor","mazorca","mecha","medalla","medio","médula","mejilla","mejor","melena","melón","memoria","menor","mensaje","mente","menú","mercado","merengue","mérito","mes","mesón","meta","meter","método","metro","mezcla","miedo","miel","miembro","miga","mil","milagro","militar","millón","mimo","mina","minero","mínimo","minuto","miope","mirar","misa","miseria","misil","mismo","mitad","mito","mochila","moción","moda","modelo","moho","mojar","molde","moler","molino","momento","momia","monarca","moneda","monja","monto","moño","morada","morder","moreno","morir","morro","morsa","mortal","mosca","mostrar","motivo","mover","móvil","mozo","mucho","mudar","mueble","muela","muerte","muestra","mugre","mujer","mula","muleta","multa","mundo","muñeca","mural","muro","músculo","museo","musgo","música","muslo","nácar","nación","nadar","naipe","naranja","nariz","narrar","nasal","natal","nativo","natural","náusea","naval","nave","navidad","necio","néctar","negar","negocio","negro","neón","nervio","neto","neutro","nevar","nevera","nicho","nido","niebla","nieto","niñez","niño","nítido","nivel","nobleza","noche","nómina","noria","norma","norte","nota","noticia","novato","novela","novio","nube","nuca","núcleo","nudillo","nudo","nuera","nueve","nuez","nulo","número","nutria","oasis","obeso","obispo","objeto","obra","obrero","observar","obtener","obvio","oca","ocaso","océano","ochenta","ocho","ocio","ocre","octavo","octubre","oculto","ocupar","ocurrir","odiar","odio","odisea","oeste","ofensa","oferta","oficio","ofrecer","ogro","oído","oír","ojo","ola","oleada","olfato","olivo","olla","olmo","olor","olvido","ombligo","onda","onza","opaco","opción","ópera","opinar","oponer","optar","óptica","opuesto","oración","orador","oral","órbita","orca","orden","oreja","órgano","orgía","orgullo","oriente","origen","orilla","oro","orquesta","oruga","osadía","oscuro","osezno","oso","ostra","otoño","otro","oveja","óvulo","óxido","oxígeno","oyente","ozono","pacto","padre","paella","página","pago","país","pájaro","palabra","palco","paleta","pálido","palma","paloma","palpar","pan","panal","pánico","pantera","pañuelo","papá","papel","papilla","paquete","parar","parcela","pared","parir","paro","párpado","parque","párrafo","parte","pasar","paseo","pasión","paso","pasta","pata","patio","patria","pausa","pauta","pavo","payaso","peatón","pecado","pecera","pecho","pedal","pedir","pegar","peine","pelar","peldaño","pelea","peligro","pellejo","pelo","peluca","pena","pensar","peñón","peón","peor","pepino","pequeño","pera","percha","perder","pereza","perfil","perico","perla","permiso","perro","persona","pesa","pesca","pésimo","pestaña","pétalo","petróleo","pez","pezuña","picar","pichón","pie","piedra","pierna","pieza","pijama","pilar","piloto","pimienta","pino","pintor","pinza","piña","piojo","pipa","pirata","pisar","piscina","piso","pista","pitón","pizca","placa","plan","plata","playa","plaza","pleito","pleno","plomo","pluma","plural","pobre","poco","poder","podio","poema","poesía","poeta","polen","policía","pollo","polvo","pomada","pomelo","pomo","pompa","poner","porción","portal","posada","poseer","posible","poste","potencia","potro","pozo","prado","precoz","pregunta","premio","prensa","preso","previo","primo","príncipe","prisión","privar","proa","probar","proceso","producto","proeza","profesor","programa","prole","promesa","pronto","propio","próximo","prueba","público","puchero","pudor","pueblo","puerta","puesto","pulga","pulir","pulmón","pulpo","pulso","puma","punto","puñal","puño","pupa","pupila","puré","quedar","queja","quemar","querer","queso","quieto","química","quince","quitar","rábano","rabia","rabo","ración","radical","raíz","rama","rampa","rancho","rango","rapaz","rápido","rapto","rasgo","raspa","rato","rayo","raza","razón","reacción","realidad","rebaño","rebote","recaer","receta","rechazo","recoger","recreo","recto","recurso","red","redondo","reducir","reflejo","reforma","refrán","refugio","regalo","regir","regla","regreso","rehén","reino","reír","reja","relato","relevo","relieve","relleno","reloj","remar","remedio","remo","rencor","rendir","renta","reparto","repetir","reposo","reptil","res","rescate","resina","respeto","resto","resumen","retiro","retorno","retrato","reunir","revés","revista","rey","rezar","rico","riego","rienda","riesgo","rifa","rígido","rigor","rincón","riñón","río","riqueza","risa","ritmo","rito","rizo","roble","roce","rociar","rodar","rodeo","rodilla","roer","rojizo","rojo","romero","romper","ron","ronco","ronda","ropa","ropero","rosa","rosca","rostro","rotar","rubí","rubor","rudo","rueda","rugir","ruido","ruina","ruleta","rulo","rumbo","rumor","ruptura","ruta","rutina","sábado","saber","sabio","sable","sacar","sagaz","sagrado","sala","saldo","salero","salir","salmón","salón","salsa","salto","salud","salvar","samba","sanción","sandía","sanear","sangre","sanidad","sano","santo","sapo","saque","sardina","sartén","sastre","satán","sauna","saxofón","sección","seco","secreto","secta","sed","seguir","seis","sello","selva","semana","semilla","senda","sensor","señal","señor","separar","sepia","sequía","ser","serie","sermón","servir","sesenta","sesión","seta","setenta","severo","sexo","sexto","sidra","siesta","siete","siglo","signo","sílaba","silbar","silencio","silla","símbolo","simio","sirena","sistema","sitio","situar","sobre","socio","sodio","sol","solapa","soldado","soledad","sólido","soltar","solución","sombra","sondeo","sonido","sonoro","sonrisa","sopa","soplar","soporte","sordo","sorpresa","sorteo","sostén","sótano","suave","subir","suceso","sudor","suegra","suelo","sueño","suerte","sufrir","sujeto","sultán","sumar","superar","suplir","suponer","supremo","sur","surco","sureño","surgir","susto","sutil","tabaco","tabique","tabla","tabú","taco","tacto","tajo","talar","talco","talento","talla","talón","tamaño","tambor","tango","tanque","tapa","tapete","tapia","tapón","taquilla","tarde","tarea","tarifa","tarjeta","tarot","tarro","tarta","tatuaje","tauro","taza","tazón","teatro","techo","tecla","técnica","tejado","tejer","tejido","tela","teléfono","tema","temor","templo","tenaz","tender","tener","tenis","tenso","teoría","terapia","terco","término","ternura","terror","tesis","tesoro","testigo","tetera","texto","tez","tibio","tiburón","tiempo","tienda","tierra","tieso","tigre","tijera","tilde","timbre","tímido","timo","tinta","tío","típico","tipo","tira","tirón","titán","títere","título","tiza","toalla","tobillo","tocar","tocino","todo","toga","toldo","tomar","tono","tonto","topar","tope","toque","tórax","torero","tormenta","torneo","toro","torpedo","torre","torso","tortuga","tos","tosco","toser","tóxico","trabajo","tractor","traer","tráfico","trago","traje","tramo","trance","trato","trauma","trazar","trébol","tregua","treinta","tren","trepar","tres","tribu","trigo","tripa","triste","triunfo","trofeo","trompa","tronco","tropa","trote","trozo","truco","trueno","trufa","tubería","tubo","tuerto","tumba","tumor","túnel","túnica","turbina","turismo","turno","tutor","ubicar","úlcera","umbral","unidad","unir","universo","uno","untar","uña","urbano","urbe","urgente","urna","usar","usuario","útil","utopía","uva","vaca","vacío","vacuna","vagar","vago","vaina","vajilla","vale","válido","valle","valor","válvula","vampiro","vara","variar","varón","vaso","vecino","vector","vehículo","veinte","vejez","vela","velero","veloz","vena","vencer","venda","veneno","vengar","venir","venta","venus","ver","verano","verbo","verde","vereda","verja","verso","verter","vía","viaje","vibrar","vicio","víctima","vida","vídeo","vidrio","viejo","viernes","vigor","vil","villa","vinagre","vino","viñedo","violín","viral","virgo","virtud","visor","víspera","vista","vitamina","viudo","vivaz","vivero","vivir","vivo","volcán","volumen","volver","voraz","votar","voto","voz","vuelo","vulgar","yacer","yate","yegua","yema","yerno","yeso","yodo","yoga","yogur","zafiro","zanja","zapato","zarza","zona","zorro","zumo","zurdo"],require$$7=["あいこくしん","あいさつ","あいだ","あおぞら","あかちゃん","あきる","あけがた","あける","あこがれる","あさい","あさひ","あしあと","あじわう","あずかる","あずき","あそぶ","あたえる","あたためる","あたりまえ","あたる","あつい","あつかう","あっしゅく","あつまり","あつめる","あてな","あてはまる","あひる","あぶら","あぶる","あふれる","あまい","あまど","あまやかす","あまり","あみもの","あめりか","あやまる","あゆむ","あらいぐま","あらし","あらすじ","あらためる","あらゆる","あらわす","ありがとう","あわせる","あわてる","あんい","あんがい","あんこ","あんぜん","あんてい","あんない","あんまり","いいだす","いおん","いがい","いがく","いきおい","いきなり","いきもの","いきる","いくじ","いくぶん","いけばな","いけん","いこう","いこく","いこつ","いさましい","いさん","いしき","いじゅう","いじょう","いじわる","いずみ","いずれ","いせい","いせえび","いせかい","いせき","いぜん","いそうろう","いそがしい","いだい","いだく","いたずら","いたみ","いたりあ","いちおう","いちじ","いちど","いちば","いちぶ","いちりゅう","いつか","いっしゅん","いっせい","いっそう","いったん","いっち","いってい","いっぽう","いてざ","いてん","いどう","いとこ","いない","いなか","いねむり","いのち","いのる","いはつ","いばる","いはん","いびき","いひん","いふく","いへん","いほう","いみん","いもうと","いもたれ","いもり","いやがる","いやす","いよかん","いよく","いらい","いらすと","いりぐち","いりょう","いれい","いれもの","いれる","いろえんぴつ","いわい","いわう","いわかん","いわば","いわゆる","いんげんまめ","いんさつ","いんしょう","いんよう","うえき","うえる","うおざ","うがい","うかぶ","うかべる","うきわ","うくらいな","うくれれ","うけたまわる","うけつけ","うけとる","うけもつ","うける","うごかす","うごく","うこん","うさぎ","うしなう","うしろがみ","うすい","うすぎ","うすぐらい","うすめる","うせつ","うちあわせ","うちがわ","うちき","うちゅう","うっかり","うつくしい","うったえる","うつる","うどん","うなぎ","うなじ","うなずく","うなる","うねる","うのう","うぶげ","うぶごえ","うまれる","うめる","うもう","うやまう","うよく","うらがえす","うらぐち","うらない","うりあげ","うりきれ","うるさい","うれしい","うれゆき","うれる","うろこ","うわき","うわさ","うんこう","うんちん","うんてん","うんどう","えいえん","えいが","えいきょう","えいご","えいせい","えいぶん","えいよう","えいわ","えおり","えがお","えがく","えきたい","えくせる","えしゃく","えすて","えつらん","えのぐ","えほうまき","えほん","えまき","えもじ","えもの","えらい","えらぶ","えりあ","えんえん","えんかい","えんぎ","えんげき","えんしゅう","えんぜつ","えんそく","えんちょう","えんとつ","おいかける","おいこす","おいしい","おいつく","おうえん","おうさま","おうじ","おうせつ","おうたい","おうふく","おうべい","おうよう","おえる","おおい","おおう","おおどおり","おおや","おおよそ","おかえり","おかず","おがむ","おかわり","おぎなう","おきる","おくさま","おくじょう","おくりがな","おくる","おくれる","おこす","おこなう","おこる","おさえる","おさない","おさめる","おしいれ","おしえる","おじぎ","おじさん","おしゃれ","おそらく","おそわる","おたがい","おたく","おだやか","おちつく","おっと","おつり","おでかけ","おとしもの","おとなしい","おどり","おどろかす","おばさん","おまいり","おめでとう","おもいで","おもう","おもたい","おもちゃ","おやつ","おやゆび","およぼす","おらんだ","おろす","おんがく","おんけい","おんしゃ","おんせん","おんだん","おんちゅう","おんどけい","かあつ","かいが","がいき","がいけん","がいこう","かいさつ","かいしゃ","かいすいよく","かいぜん","かいぞうど","かいつう","かいてん","かいとう","かいふく","がいへき","かいほう","かいよう","がいらい","かいわ","かえる","かおり","かかえる","かがく","かがし","かがみ","かくご","かくとく","かざる","がぞう","かたい","かたち","がちょう","がっきゅう","がっこう","がっさん","がっしょう","かなざわし","かのう","がはく","かぶか","かほう","かほご","かまう","かまぼこ","かめれおん","かゆい","かようび","からい","かるい","かろう","かわく","かわら","がんか","かんけい","かんこう","かんしゃ","かんそう","かんたん","かんち","がんばる","きあい","きあつ","きいろ","ぎいん","きうい","きうん","きえる","きおう","きおく","きおち","きおん","きかい","きかく","きかんしゃ","ききて","きくばり","きくらげ","きけんせい","きこう","きこえる","きこく","きさい","きさく","きさま","きさらぎ","ぎじかがく","ぎしき","ぎじたいけん","ぎじにってい","ぎじゅつしゃ","きすう","きせい","きせき","きせつ","きそう","きぞく","きぞん","きたえる","きちょう","きつえん","ぎっちり","きつつき","きつね","きてい","きどう","きどく","きない","きなが","きなこ","きぬごし","きねん","きのう","きのした","きはく","きびしい","きひん","きふく","きぶん","きぼう","きほん","きまる","きみつ","きむずかしい","きめる","きもだめし","きもち","きもの","きゃく","きやく","ぎゅうにく","きよう","きょうりゅう","きらい","きらく","きりん","きれい","きれつ","きろく","ぎろん","きわめる","ぎんいろ","きんかくじ","きんじょ","きんようび","ぐあい","くいず","くうかん","くうき","くうぐん","くうこう","ぐうせい","くうそう","ぐうたら","くうふく","くうぼ","くかん","くきょう","くげん","ぐこう","くさい","くさき","くさばな","くさる","くしゃみ","くしょう","くすのき","くすりゆび","くせげ","くせん","ぐたいてき","くださる","くたびれる","くちこみ","くちさき","くつした","ぐっすり","くつろぐ","くとうてん","くどく","くなん","くねくね","くのう","くふう","くみあわせ","くみたてる","くめる","くやくしょ","くらす","くらべる","くるま","くれる","くろう","くわしい","ぐんかん","ぐんしょく","ぐんたい","ぐんて","けあな","けいかく","けいけん","けいこ","けいさつ","げいじゅつ","けいたい","げいのうじん","けいれき","けいろ","けおとす","けおりもの","げきか","げきげん","げきだん","げきちん","げきとつ","げきは","げきやく","げこう","げこくじょう","げざい","けさき","げざん","けしき","けしごむ","けしょう","げすと","けたば","けちゃっぷ","けちらす","けつあつ","けつい","けつえき","けっこん","けつじょ","けっせき","けってい","けつまつ","げつようび","げつれい","けつろん","げどく","けとばす","けとる","けなげ","けなす","けなみ","けぬき","げねつ","けねん","けはい","げひん","けぶかい","げぼく","けまり","けみかる","けむし","けむり","けもの","けらい","けろけろ","けわしい","けんい","けんえつ","けんお","けんか","げんき","けんげん","けんこう","けんさく","けんしゅう","けんすう","げんそう","けんちく","けんてい","けんとう","けんない","けんにん","げんぶつ","けんま","けんみん","けんめい","けんらん","けんり","こあくま","こいぬ","こいびと","ごうい","こうえん","こうおん","こうかん","ごうきゅう","ごうけい","こうこう","こうさい","こうじ","こうすい","ごうせい","こうそく","こうたい","こうちゃ","こうつう","こうてい","こうどう","こうない","こうはい","ごうほう","ごうまん","こうもく","こうりつ","こえる","こおり","ごかい","ごがつ","ごかん","こくご","こくさい","こくとう","こくない","こくはく","こぐま","こけい","こける","ここのか","こころ","こさめ","こしつ","こすう","こせい","こせき","こぜん","こそだて","こたい","こたえる","こたつ","こちょう","こっか","こつこつ","こつばん","こつぶ","こてい","こてん","ことがら","ことし","ことば","ことり","こなごな","こねこね","このまま","このみ","このよ","ごはん","こひつじ","こふう","こふん","こぼれる","ごまあぶら","こまかい","ごますり","こまつな","こまる","こむぎこ","こもじ","こもち","こもの","こもん","こやく","こやま","こゆう","こゆび","こよい","こよう","こりる","これくしょん","ころっけ","こわもて","こわれる","こんいん","こんかい","こんき","こんしゅう","こんすい","こんだて","こんとん","こんなん","こんびに","こんぽん","こんまけ","こんや","こんれい","こんわく","ざいえき","さいかい","さいきん","ざいげん","ざいこ","さいしょ","さいせい","ざいたく","ざいちゅう","さいてき","ざいりょう","さうな","さかいし","さがす","さかな","さかみち","さがる","さぎょう","さくし","さくひん","さくら","さこく","さこつ","さずかる","ざせき","さたん","さつえい","ざつおん","ざっか","ざつがく","さっきょく","ざっし","さつじん","ざっそう","さつたば","さつまいも","さてい","さといも","さとう","さとおや","さとし","さとる","さのう","さばく","さびしい","さべつ","さほう","さほど","さます","さみしい","さみだれ","さむけ","さめる","さやえんどう","さゆう","さよう","さよく","さらだ","ざるそば","さわやか","さわる","さんいん","さんか","さんきゃく","さんこう","さんさい","ざんしょ","さんすう","さんせい","さんそ","さんち","さんま","さんみ","さんらん","しあい","しあげ","しあさって","しあわせ","しいく","しいん","しうち","しえい","しおけ","しかい","しかく","じかん","しごと","しすう","じだい","したうけ","したぎ","したて","したみ","しちょう","しちりん","しっかり","しつじ","しつもん","してい","してき","してつ","じてん","じどう","しなぎれ","しなもの","しなん","しねま","しねん","しのぐ","しのぶ","しはい","しばかり","しはつ","しはらい","しはん","しひょう","しふく","じぶん","しへい","しほう","しほん","しまう","しまる","しみん","しむける","じむしょ","しめい","しめる","しもん","しゃいん","しゃうん","しゃおん","じゃがいも","しやくしょ","しゃくほう","しゃけん","しゃこ","しゃざい","しゃしん","しゃせん","しゃそう","しゃたい","しゃちょう","しゃっきん","じゃま","しゃりん","しゃれい","じゆう","じゅうしょ","しゅくはく","じゅしん","しゅっせき","しゅみ","しゅらば","じゅんばん","しょうかい","しょくたく","しょっけん","しょどう","しょもつ","しらせる","しらべる","しんか","しんこう","じんじゃ","しんせいじ","しんちく","しんりん","すあげ","すあし","すあな","ずあん","すいえい","すいか","すいとう","ずいぶん","すいようび","すうがく","すうじつ","すうせん","すおどり","すきま","すくう","すくない","すける","すごい","すこし","ずさん","すずしい","すすむ","すすめる","すっかり","ずっしり","ずっと","すてき","すてる","すねる","すのこ","すはだ","すばらしい","ずひょう","ずぶぬれ","すぶり","すふれ","すべて","すべる","ずほう","すぼん","すまい","すめし","すもう","すやき","すらすら","するめ","すれちがう","すろっと","すわる","すんぜん","すんぽう","せあぶら","せいかつ","せいげん","せいじ","せいよう","せおう","せかいかん","せきにん","せきむ","せきゆ","せきらんうん","せけん","せこう","せすじ","せたい","せたけ","せっかく","せっきゃく","ぜっく","せっけん","せっこつ","せっさたくま","せつぞく","せつだん","せつでん","せっぱん","せつび","せつぶん","せつめい","せつりつ","せなか","せのび","せはば","せびろ","せぼね","せまい","せまる","せめる","せもたれ","せりふ","ぜんあく","せんい","せんえい","せんか","せんきょ","せんく","せんげん","ぜんご","せんさい","せんしゅ","せんすい","せんせい","せんぞ","せんたく","せんちょう","せんてい","せんとう","せんぬき","せんねん","せんぱい","ぜんぶ","ぜんぽう","せんむ","せんめんじょ","せんもん","せんやく","せんゆう","せんよう","ぜんら","ぜんりゃく","せんれい","せんろ","そあく","そいとげる","そいね","そうがんきょう","そうき","そうご","そうしん","そうだん","そうなん","そうび","そうめん","そうり","そえもの","そえん","そがい","そげき","そこう","そこそこ","そざい","そしな","そせい","そせん","そそぐ","そだてる","そつう","そつえん","そっかん","そつぎょう","そっけつ","そっこう","そっせん","そっと","そとがわ","そとづら","そなえる","そなた","そふぼ","そぼく","そぼろ","そまつ","そまる","そむく","そむりえ","そめる","そもそも","そよかぜ","そらまめ","そろう","そんかい","そんけい","そんざい","そんしつ","そんぞく","そんちょう","ぞんび","ぞんぶん","そんみん","たあい","たいいん","たいうん","たいえき","たいおう","だいがく","たいき","たいぐう","たいけん","たいこ","たいざい","だいじょうぶ","だいすき","たいせつ","たいそう","だいたい","たいちょう","たいてい","だいどころ","たいない","たいねつ","たいのう","たいはん","だいひょう","たいふう","たいへん","たいほ","たいまつばな","たいみんぐ","たいむ","たいめん","たいやき","たいよう","たいら","たいりょく","たいる","たいわん","たうえ","たえる","たおす","たおる","たおれる","たかい","たかね","たきび","たくさん","たこく","たこやき","たさい","たしざん","だじゃれ","たすける","たずさわる","たそがれ","たたかう","たたく","ただしい","たたみ","たちばな","だっかい","だっきゃく","だっこ","だっしゅつ","だったい","たてる","たとえる","たなばた","たにん","たぬき","たのしみ","たはつ","たぶん","たべる","たぼう","たまご","たまる","だむる","ためいき","ためす","ためる","たもつ","たやすい","たよる","たらす","たりきほんがん","たりょう","たりる","たると","たれる","たれんと","たろっと","たわむれる","だんあつ","たんい","たんおん","たんか","たんき","たんけん","たんご","たんさん","たんじょうび","だんせい","たんそく","たんたい","だんち","たんてい","たんとう","だんな","たんにん","だんねつ","たんのう","たんぴん","だんぼう","たんまつ","たんめい","だんれつ","だんろ","だんわ","ちあい","ちあん","ちいき","ちいさい","ちえん","ちかい","ちから","ちきゅう","ちきん","ちけいず","ちけん","ちこく","ちさい","ちしき","ちしりょう","ちせい","ちそう","ちたい","ちたん","ちちおや","ちつじょ","ちてき","ちてん","ちぬき","ちぬり","ちのう","ちひょう","ちへいせん","ちほう","ちまた","ちみつ","ちみどろ","ちめいど","ちゃんこなべ","ちゅうい","ちゆりょく","ちょうし","ちょさくけん","ちらし","ちらみ","ちりがみ","ちりょう","ちるど","ちわわ","ちんたい","ちんもく","ついか","ついたち","つうか","つうじょう","つうはん","つうわ","つかう","つかれる","つくね","つくる","つけね","つける","つごう","つたえる","つづく","つつじ","つつむ","つとめる","つながる","つなみ","つねづね","つのる","つぶす","つまらない","つまる","つみき","つめたい","つもり","つもる","つよい","つるぼ","つるみく","つわもの","つわり","てあし","てあて","てあみ","ていおん","ていか","ていき","ていけい","ていこく","ていさつ","ていし","ていせい","ていたい","ていど","ていねい","ていひょう","ていへん","ていぼう","てうち","ておくれ","てきとう","てくび","でこぼこ","てさぎょう","てさげ","てすり","てそう","てちがい","てちょう","てつがく","てつづき","でっぱ","てつぼう","てつや","でぬかえ","てぬき","てぬぐい","てのひら","てはい","てぶくろ","てふだ","てほどき","てほん","てまえ","てまきずし","てみじか","てみやげ","てらす","てれび","てわけ","てわたし","でんあつ","てんいん","てんかい","てんき","てんぐ","てんけん","てんごく","てんさい","てんし","てんすう","でんち","てんてき","てんとう","てんない","てんぷら","てんぼうだい","てんめつ","てんらんかい","でんりょく","でんわ","どあい","といれ","どうかん","とうきゅう","どうぐ","とうし","とうむぎ","とおい","とおか","とおく","とおす","とおる","とかい","とかす","ときおり","ときどき","とくい","とくしゅう","とくてん","とくに","とくべつ","とけい","とける","とこや","とさか","としょかん","とそう","とたん","とちゅう","とっきゅう","とっくん","とつぜん","とつにゅう","とどける","ととのえる","とない","となえる","となり","とのさま","とばす","どぶがわ","とほう","とまる","とめる","ともだち","ともる","どようび","とらえる","とんかつ","どんぶり","ないかく","ないこう","ないしょ","ないす","ないせん","ないそう","なおす","ながい","なくす","なげる","なこうど","なさけ","なたでここ","なっとう","なつやすみ","ななおし","なにごと","なにもの","なにわ","なのか","なふだ","なまいき","なまえ","なまみ","なみだ","なめらか","なめる","なやむ","ならう","ならび","ならぶ","なれる","なわとび","なわばり","にあう","にいがた","にうけ","におい","にかい","にがて","にきび","にくしみ","にくまん","にげる","にさんかたんそ","にしき","にせもの","にちじょう","にちようび","にっか","にっき","にっけい","にっこう","にっさん","にっしょく","にっすう","にっせき","にってい","になう","にほん","にまめ","にもつ","にやり","にゅういん","にりんしゃ","にわとり","にんい","にんか","にんき","にんげん","にんしき","にんずう","にんそう","にんたい","にんち","にんてい","にんにく","にんぷ","にんまり","にんむ","にんめい","にんよう","ぬいくぎ","ぬかす","ぬぐいとる","ぬぐう","ぬくもり","ぬすむ","ぬまえび","ぬめり","ぬらす","ぬんちゃく","ねあげ","ねいき","ねいる","ねいろ","ねぐせ","ねくたい","ねくら","ねこぜ","ねこむ","ねさげ","ねすごす","ねそべる","ねだん","ねつい","ねっしん","ねつぞう","ねったいぎょ","ねぶそく","ねふだ","ねぼう","ねほりはほり","ねまき","ねまわし","ねみみ","ねむい","ねむたい","ねもと","ねらう","ねわざ","ねんいり","ねんおし","ねんかん","ねんきん","ねんぐ","ねんざ","ねんし","ねんちゃく","ねんど","ねんぴ","ねんぶつ","ねんまつ","ねんりょう","ねんれい","のいず","のおづま","のがす","のきなみ","のこぎり","のこす","のこる","のせる","のぞく","のぞむ","のたまう","のちほど","のっく","のばす","のはら","のべる","のぼる","のみもの","のやま","のらいぬ","のらねこ","のりもの","のりゆき","のれん","のんき","ばあい","はあく","ばあさん","ばいか","ばいく","はいけん","はいご","はいしん","はいすい","はいせん","はいそう","はいち","ばいばい","はいれつ","はえる","はおる","はかい","ばかり","はかる","はくしゅ","はけん","はこぶ","はさみ","はさん","はしご","ばしょ","はしる","はせる","ぱそこん","はそん","はたん","はちみつ","はつおん","はっかく","はづき","はっきり","はっくつ","はっけん","はっこう","はっさん","はっしん","はったつ","はっちゅう","はってん","はっぴょう","はっぽう","はなす","はなび","はにかむ","はぶらし","はみがき","はむかう","はめつ","はやい","はやし","はらう","はろうぃん","はわい","はんい","はんえい","はんおん","はんかく","はんきょう","ばんぐみ","はんこ","はんしゃ","はんすう","はんだん","ぱんち","ぱんつ","はんてい","はんとし","はんのう","はんぱ","はんぶん","はんぺん","はんぼうき","はんめい","はんらん","はんろん","ひいき","ひうん","ひえる","ひかく","ひかり","ひかる","ひかん","ひくい","ひけつ","ひこうき","ひこく","ひさい","ひさしぶり","ひさん","びじゅつかん","ひしょ","ひそか","ひそむ","ひたむき","ひだり","ひたる","ひつぎ","ひっこし","ひっし","ひつじゅひん","ひっす","ひつぜん","ぴったり","ぴっちり","ひつよう","ひてい","ひとごみ","ひなまつり","ひなん","ひねる","ひはん","ひびく","ひひょう","ひほう","ひまわり","ひまん","ひみつ","ひめい","ひめじし","ひやけ","ひやす","ひよう","びょうき","ひらがな","ひらく","ひりつ","ひりょう","ひるま","ひるやすみ","ひれい","ひろい","ひろう","ひろき","ひろゆき","ひんかく","ひんけつ","ひんこん","ひんしゅ","ひんそう","ぴんち","ひんぱん","びんぼう","ふあん","ふいうち","ふうけい","ふうせん","ぷうたろう","ふうとう","ふうふ","ふえる","ふおん","ふかい","ふきん","ふくざつ","ふくぶくろ","ふこう","ふさい","ふしぎ","ふじみ","ふすま","ふせい","ふせぐ","ふそく","ぶたにく","ふたん","ふちょう","ふつう","ふつか","ふっかつ","ふっき","ふっこく","ぶどう","ふとる","ふとん","ふのう","ふはい","ふひょう","ふへん","ふまん","ふみん","ふめつ","ふめん","ふよう","ふりこ","ふりる","ふるい","ふんいき","ぶんがく","ぶんぐ","ふんしつ","ぶんせき","ふんそう","ぶんぽう","へいあん","へいおん","へいがい","へいき","へいげん","へいこう","へいさ","へいしゃ","へいせつ","へいそ","へいたく","へいてん","へいねつ","へいわ","へきが","へこむ","べにいろ","べにしょうが","へらす","へんかん","べんきょう","べんごし","へんさい","へんたい","べんり","ほあん","ほいく","ぼうぎょ","ほうこく","ほうそう","ほうほう","ほうもん","ほうりつ","ほえる","ほおん","ほかん","ほきょう","ぼきん","ほくろ","ほけつ","ほけん","ほこう","ほこる","ほしい","ほしつ","ほしゅ","ほしょう","ほせい","ほそい","ほそく","ほたて","ほたる","ぽちぶくろ","ほっきょく","ほっさ","ほったん","ほとんど","ほめる","ほんい","ほんき","ほんけ","ほんしつ","ほんやく","まいにち","まかい","まかせる","まがる","まける","まこと","まさつ","まじめ","ますく","まぜる","まつり","まとめ","まなぶ","まぬけ","まねく","まほう","まもる","まゆげ","まよう","まろやか","まわす","まわり","まわる","まんが","まんきつ","まんぞく","まんなか","みいら","みうち","みえる","みがく","みかた","みかん","みけん","みこん","みじかい","みすい","みすえる","みせる","みっか","みつかる","みつける","みてい","みとめる","みなと","みなみかさい","みねらる","みのう","みのがす","みほん","みもと","みやげ","みらい","みりょく","みわく","みんか","みんぞく","むいか","むえき","むえん","むかい","むかう","むかえ","むかし","むぎちゃ","むける","むげん","むさぼる","むしあつい","むしば","むじゅん","むしろ","むすう","むすこ","むすぶ","むすめ","むせる","むせん","むちゅう","むなしい","むのう","むやみ","むよう","むらさき","むりょう","むろん","めいあん","めいうん","めいえん","めいかく","めいきょく","めいさい","めいし","めいそう","めいぶつ","めいれい","めいわく","めぐまれる","めざす","めした","めずらしい","めだつ","めまい","めやす","めんきょ","めんせき","めんどう","もうしあげる","もうどうけん","もえる","もくし","もくてき","もくようび","もちろん","もどる","もらう","もんく","もんだい","やおや","やける","やさい","やさしい","やすい","やすたろう","やすみ","やせる","やそう","やたい","やちん","やっと","やっぱり","やぶる","やめる","ややこしい","やよい","やわらかい","ゆうき","ゆうびんきょく","ゆうべ","ゆうめい","ゆけつ","ゆしゅつ","ゆせん","ゆそう","ゆたか","ゆちゃく","ゆでる","ゆにゅう","ゆびわ","ゆらい","ゆれる","ようい","ようか","ようきゅう","ようじ","ようす","ようちえん","よかぜ","よかん","よきん","よくせい","よくぼう","よけい","よごれる","よさん","よしゅう","よそう","よそく","よっか","よてい","よどがわく","よねつ","よやく","よゆう","よろこぶ","よろしい","らいう","らくがき","らくご","らくさつ","らくだ","らしんばん","らせん","らぞく","らたい","らっか","られつ","りえき","りかい","りきさく","りきせつ","りくぐん","りくつ","りけん","りこう","りせい","りそう","りそく","りてん","りねん","りゆう","りゅうがく","りよう","りょうり","りょかん","りょくちゃ","りょこう","りりく","りれき","りろん","りんご","るいけい","るいさい","るいじ","るいせき","るすばん","るりがわら","れいかん","れいぎ","れいせい","れいぞうこ","れいとう","れいぼう","れきし","れきだい","れんあい","れんけい","れんこん","れんさい","れんしゅう","れんぞく","れんらく","ろうか","ろうご","ろうじん","ろうそく","ろくが","ろこつ","ろじうら","ろしゅつ","ろせん","ろてん","ろめん","ろれつ","ろんぎ","ろんぱ","ろんぶん","ろんり","わかす","わかめ","わかやま","わかれる","わしつ","わじまし","わすれもの","わらう","われる"],require$$8=["abacate","abaixo","abalar","abater","abduzir","abelha","aberto","abismo","abotoar","abranger","abreviar","abrigar","abrupto","absinto","absoluto","absurdo","abutre","acabado","acalmar","acampar","acanhar","acaso","aceitar","acelerar","acenar","acervo","acessar","acetona","achatar","acidez","acima","acionado","acirrar","aclamar","aclive","acolhida","acomodar","acoplar","acordar","acumular","acusador","adaptar","adega","adentro","adepto","adequar","aderente","adesivo","adeus","adiante","aditivo","adjetivo","adjunto","admirar","adorar","adquirir","adubo","adverso","advogado","aeronave","afastar","aferir","afetivo","afinador","afivelar","aflito","afluente","afrontar","agachar","agarrar","agasalho","agenciar","agilizar","agiota","agitado","agora","agradar","agreste","agrupar","aguardar","agulha","ajoelhar","ajudar","ajustar","alameda","alarme","alastrar","alavanca","albergue","albino","alcatra","aldeia","alecrim","alegria","alertar","alface","alfinete","algum","alheio","aliar","alicate","alienar","alinhar","aliviar","almofada","alocar","alpiste","alterar","altitude","alucinar","alugar","aluno","alusivo","alvo","amaciar","amador","amarelo","amassar","ambas","ambiente","ameixa","amenizar","amido","amistoso","amizade","amolador","amontoar","amoroso","amostra","amparar","ampliar","ampola","anagrama","analisar","anarquia","anatomia","andaime","anel","anexo","angular","animar","anjo","anomalia","anotado","ansioso","anterior","anuidade","anunciar","anzol","apagador","apalpar","apanhado","apego","apelido","apertada","apesar","apetite","apito","aplauso","aplicada","apoio","apontar","aposta","aprendiz","aprovar","aquecer","arame","aranha","arara","arcada","ardente","areia","arejar","arenito","aresta","argiloso","argola","arma","arquivo","arraial","arrebate","arriscar","arroba","arrumar","arsenal","arterial","artigo","arvoredo","asfaltar","asilado","aspirar","assador","assinar","assoalho","assunto","astral","atacado","atadura","atalho","atarefar","atear","atender","aterro","ateu","atingir","atirador","ativo","atoleiro","atracar","atrevido","atriz","atual","atum","auditor","aumentar","aura","aurora","autismo","autoria","autuar","avaliar","avante","avaria","avental","avesso","aviador","avisar","avulso","axila","azarar","azedo","azeite","azulejo","babar","babosa","bacalhau","bacharel","bacia","bagagem","baiano","bailar","baioneta","bairro","baixista","bajular","baleia","baliza","balsa","banal","bandeira","banho","banir","banquete","barato","barbado","baronesa","barraca","barulho","baseado","bastante","batata","batedor","batida","batom","batucar","baunilha","beber","beijo","beirada","beisebol","beldade","beleza","belga","beliscar","bendito","bengala","benzer","berimbau","berlinda","berro","besouro","bexiga","bezerro","bico","bicudo","bienal","bifocal","bifurcar","bigorna","bilhete","bimestre","bimotor","biologia","biombo","biosfera","bipolar","birrento","biscoito","bisneto","bispo","bissexto","bitola","bizarro","blindado","bloco","bloquear","boato","bobagem","bocado","bocejo","bochecha","boicotar","bolada","boletim","bolha","bolo","bombeiro","bonde","boneco","bonita","borbulha","borda","boreal","borracha","bovino","boxeador","branco","brasa","braveza","breu","briga","brilho","brincar","broa","brochura","bronzear","broto","bruxo","bucha","budismo","bufar","bule","buraco","busca","busto","buzina","cabana","cabelo","cabide","cabo","cabrito","cacau","cacetada","cachorro","cacique","cadastro","cadeado","cafezal","caiaque","caipira","caixote","cajado","caju","calafrio","calcular","caldeira","calibrar","calmante","calota","camada","cambista","camisa","camomila","campanha","camuflar","canavial","cancelar","caneta","canguru","canhoto","canivete","canoa","cansado","cantar","canudo","capacho","capela","capinar","capotar","capricho","captador","capuz","caracol","carbono","cardeal","careca","carimbar","carneiro","carpete","carreira","cartaz","carvalho","casaco","casca","casebre","castelo","casulo","catarata","cativar","caule","causador","cautelar","cavalo","caverna","cebola","cedilha","cegonha","celebrar","celular","cenoura","censo","centeio","cercar","cerrado","certeiro","cerveja","cetim","cevada","chacota","chaleira","chamado","chapada","charme","chatice","chave","chefe","chegada","cheiro","cheque","chicote","chifre","chinelo","chocalho","chover","chumbo","chutar","chuva","cicatriz","ciclone","cidade","cidreira","ciente","cigana","cimento","cinto","cinza","ciranda","circuito","cirurgia","citar","clareza","clero","clicar","clone","clube","coado","coagir","cobaia","cobertor","cobrar","cocada","coelho","coentro","coeso","cogumelo","coibir","coifa","coiote","colar","coleira","colher","colidir","colmeia","colono","coluna","comando","combinar","comentar","comitiva","comover","complexo","comum","concha","condor","conectar","confuso","congelar","conhecer","conjugar","consumir","contrato","convite","cooperar","copeiro","copiador","copo","coquetel","coragem","cordial","corneta","coronha","corporal","correio","cortejo","coruja","corvo","cosseno","costela","cotonete","couro","couve","covil","cozinha","cratera","cravo","creche","credor","creme","crer","crespo","criada","criminal","crioulo","crise","criticar","crosta","crua","cruzeiro","cubano","cueca","cuidado","cujo","culatra","culminar","culpar","cultura","cumprir","cunhado","cupido","curativo","curral","cursar","curto","cuspir","custear","cutelo","damasco","datar","debater","debitar","deboche","debulhar","decalque","decimal","declive","decote","decretar","dedal","dedicado","deduzir","defesa","defumar","degelo","degrau","degustar","deitado","deixar","delator","delegado","delinear","delonga","demanda","demitir","demolido","dentista","depenado","depilar","depois","depressa","depurar","deriva","derramar","desafio","desbotar","descanso","desenho","desfiado","desgaste","desigual","deslize","desmamar","desova","despesa","destaque","desviar","detalhar","detentor","detonar","detrito","deusa","dever","devido","devotado","dezena","diagrama","dialeto","didata","difuso","digitar","dilatado","diluente","diminuir","dinastia","dinheiro","diocese","direto","discreta","disfarce","disparo","disquete","dissipar","distante","ditador","diurno","diverso","divisor","divulgar","dizer","dobrador","dolorido","domador","dominado","donativo","donzela","dormente","dorsal","dosagem","dourado","doutor","drenagem","drible","drogaria","duelar","duende","dueto","duplo","duquesa","durante","duvidoso","eclodir","ecoar","ecologia","edificar","edital","educado","efeito","efetivar","ejetar","elaborar","eleger","eleitor","elenco","elevador","eliminar","elogiar","embargo","embolado","embrulho","embutido","emenda","emergir","emissor","empatia","empenho","empinado","empolgar","emprego","empurrar","emulador","encaixe","encenado","enchente","encontro","endeusar","endossar","enfaixar","enfeite","enfim","engajado","engenho","englobar","engomado","engraxar","enguia","enjoar","enlatar","enquanto","enraizar","enrolado","enrugar","ensaio","enseada","ensino","ensopado","entanto","enteado","entidade","entortar","entrada","entulho","envergar","enviado","envolver","enxame","enxerto","enxofre","enxuto","epiderme","equipar","ereto","erguido","errata","erva","ervilha","esbanjar","esbelto","escama","escola","escrita","escuta","esfinge","esfolar","esfregar","esfumado","esgrima","esmalte","espanto","espelho","espiga","esponja","espreita","espumar","esquerda","estaca","esteira","esticar","estofado","estrela","estudo","esvaziar","etanol","etiqueta","euforia","europeu","evacuar","evaporar","evasivo","eventual","evidente","evoluir","exagero","exalar","examinar","exato","exausto","excesso","excitar","exclamar","executar","exemplo","exibir","exigente","exonerar","expandir","expelir","expirar","explanar","exposto","expresso","expulsar","externo","extinto","extrato","fabricar","fabuloso","faceta","facial","fada","fadiga","faixa","falar","falta","familiar","fandango","fanfarra","fantoche","fardado","farelo","farinha","farofa","farpa","fartura","fatia","fator","favorita","faxina","fazenda","fechado","feijoada","feirante","felino","feminino","fenda","feno","fera","feriado","ferrugem","ferver","festejar","fetal","feudal","fiapo","fibrose","ficar","ficheiro","figurado","fileira","filho","filme","filtrar","firmeza","fisgada","fissura","fita","fivela","fixador","fixo","flacidez","flamingo","flanela","flechada","flora","flutuar","fluxo","focal","focinho","fofocar","fogo","foguete","foice","folgado","folheto","forjar","formiga","forno","forte","fosco","fossa","fragata","fralda","frango","frasco","fraterno","freira","frente","fretar","frieza","friso","fritura","fronha","frustrar","fruteira","fugir","fulano","fuligem","fundar","fungo","funil","furador","furioso","futebol","gabarito","gabinete","gado","gaiato","gaiola","gaivota","galega","galho","galinha","galocha","ganhar","garagem","garfo","gargalo","garimpo","garoupa","garrafa","gasoduto","gasto","gata","gatilho","gaveta","gazela","gelado","geleia","gelo","gemada","gemer","gemido","generoso","gengiva","genial","genoma","genro","geologia","gerador","germinar","gesso","gestor","ginasta","gincana","gingado","girafa","girino","glacial","glicose","global","glorioso","goela","goiaba","golfe","golpear","gordura","gorjeta","gorro","gostoso","goteira","governar","gracejo","gradual","grafite","gralha","grampo","granada","gratuito","graveto","graxa","grego","grelhar","greve","grilo","grisalho","gritaria","grosso","grotesco","grudado","grunhido","gruta","guache","guarani","guaxinim","guerrear","guiar","guincho","guisado","gula","guloso","guru","habitar","harmonia","haste","haver","hectare","herdar","heresia","hesitar","hiato","hibernar","hidratar","hiena","hino","hipismo","hipnose","hipoteca","hoje","holofote","homem","honesto","honrado","hormonal","hospedar","humorado","iate","ideia","idoso","ignorado","igreja","iguana","ileso","ilha","iludido","iluminar","ilustrar","imagem","imediato","imenso","imersivo","iminente","imitador","imortal","impacto","impedir","implante","impor","imprensa","impune","imunizar","inalador","inapto","inativo","incenso","inchar","incidir","incluir","incolor","indeciso","indireto","indutor","ineficaz","inerente","infantil","infestar","infinito","inflamar","informal","infrator","ingerir","inibido","inicial","inimigo","injetar","inocente","inodoro","inovador","inox","inquieto","inscrito","inseto","insistir","inspetor","instalar","insulto","intacto","integral","intimar","intocado","intriga","invasor","inverno","invicto","invocar","iogurte","iraniano","ironizar","irreal","irritado","isca","isento","isolado","isqueiro","italiano","janeiro","jangada","janta","jararaca","jardim","jarro","jasmim","jato","javali","jazida","jejum","joaninha","joelhada","jogador","joia","jornal","jorrar","jovem","juba","judeu","judoca","juiz","julgador","julho","jurado","jurista","juro","justa","labareda","laboral","lacre","lactante","ladrilho","lagarta","lagoa","laje","lamber","lamentar","laminar","lampejo","lanche","lapidar","lapso","laranja","lareira","largura","lasanha","lastro","lateral","latido","lavanda","lavoura","lavrador","laxante","lazer","lealdade","lebre","legado","legendar","legista","leigo","leiloar","leitura","lembrete","leme","lenhador","lentilha","leoa","lesma","leste","letivo","letreiro","levar","leveza","levitar","liberal","libido","liderar","ligar","ligeiro","limitar","limoeiro","limpador","linda","linear","linhagem","liquidez","listagem","lisura","litoral","livro","lixa","lixeira","locador","locutor","lojista","lombo","lona","longe","lontra","lorde","lotado","loteria","loucura","lousa","louvar","luar","lucidez","lucro","luneta","lustre","lutador","luva","macaco","macete","machado","macio","madeira","madrinha","magnata","magreza","maior","mais","malandro","malha","malote","maluco","mamilo","mamoeiro","mamute","manada","mancha","mandato","manequim","manhoso","manivela","manobrar","mansa","manter","manusear","mapeado","maquinar","marcador","maresia","marfim","margem","marinho","marmita","maroto","marquise","marreco","martelo","marujo","mascote","masmorra","massagem","mastigar","matagal","materno","matinal","matutar","maxilar","medalha","medida","medusa","megafone","meiga","melancia","melhor","membro","memorial","menino","menos","mensagem","mental","merecer","mergulho","mesada","mesclar","mesmo","mesquita","mestre","metade","meteoro","metragem","mexer","mexicano","micro","migalha","migrar","milagre","milenar","milhar","mimado","minerar","minhoca","ministro","minoria","miolo","mirante","mirtilo","misturar","mocidade","moderno","modular","moeda","moer","moinho","moita","moldura","moleza","molho","molinete","molusco","montanha","moqueca","morango","morcego","mordomo","morena","mosaico","mosquete","mostarda","motel","motim","moto","motriz","muda","muito","mulata","mulher","multar","mundial","munido","muralha","murcho","muscular","museu","musical","nacional","nadador","naja","namoro","narina","narrado","nascer","nativa","natureza","navalha","navegar","navio","neblina","nebuloso","negativa","negociar","negrito","nervoso","neta","neural","nevasca","nevoeiro","ninar","ninho","nitidez","nivelar","nobreza","noite","noiva","nomear","nominal","nordeste","nortear","notar","noticiar","noturno","novelo","novilho","novo","nublado","nudez","numeral","nupcial","nutrir","nuvem","obcecado","obedecer","objetivo","obrigado","obscuro","obstetra","obter","obturar","ocidente","ocioso","ocorrer","oculista","ocupado","ofegante","ofensiva","oferenda","oficina","ofuscado","ogiva","olaria","oleoso","olhar","oliveira","ombro","omelete","omisso","omitir","ondulado","oneroso","ontem","opcional","operador","oponente","oportuno","oposto","orar","orbitar","ordem","ordinal","orfanato","orgasmo","orgulho","oriental","origem","oriundo","orla","ortodoxo","orvalho","oscilar","ossada","osso","ostentar","otimismo","ousadia","outono","outubro","ouvido","ovelha","ovular","oxidar","oxigenar","pacato","paciente","pacote","pactuar","padaria","padrinho","pagar","pagode","painel","pairar","paisagem","palavra","palestra","palheta","palito","palmada","palpitar","pancada","panela","panfleto","panqueca","pantanal","papagaio","papelada","papiro","parafina","parcial","pardal","parede","partida","pasmo","passado","pastel","patamar","patente","patinar","patrono","paulada","pausar","peculiar","pedalar","pedestre","pediatra","pedra","pegada","peitoral","peixe","pele","pelicano","penca","pendurar","peneira","penhasco","pensador","pente","perceber","perfeito","pergunta","perito","permitir","perna","perplexo","persiana","pertence","peruca","pescado","pesquisa","pessoa","petiscar","piada","picado","piedade","pigmento","pilastra","pilhado","pilotar","pimenta","pincel","pinguim","pinha","pinote","pintar","pioneiro","pipoca","piquete","piranha","pires","pirueta","piscar","pistola","pitanga","pivete","planta","plaqueta","platina","plebeu","plumagem","pluvial","pneu","poda","poeira","poetisa","polegada","policiar","poluente","polvilho","pomar","pomba","ponderar","pontaria","populoso","porta","possuir","postal","pote","poupar","pouso","povoar","praia","prancha","prato","praxe","prece","predador","prefeito","premiar","prensar","preparar","presilha","pretexto","prevenir","prezar","primata","princesa","prisma","privado","processo","produto","profeta","proibido","projeto","prometer","propagar","prosa","protetor","provador","publicar","pudim","pular","pulmonar","pulseira","punhal","punir","pupilo","pureza","puxador","quadra","quantia","quarto","quase","quebrar","queda","queijo","quente","querido","quimono","quina","quiosque","rabanada","rabisco","rachar","racionar","radial","raiar","rainha","raio","raiva","rajada","ralado","ramal","ranger","ranhura","rapadura","rapel","rapidez","raposa","raquete","raridade","rasante","rascunho","rasgar","raspador","rasteira","rasurar","ratazana","ratoeira","realeza","reanimar","reaver","rebaixar","rebelde","rebolar","recado","recente","recheio","recibo","recordar","recrutar","recuar","rede","redimir","redonda","reduzida","reenvio","refinar","refletir","refogar","refresco","refugiar","regalia","regime","regra","reinado","reitor","rejeitar","relativo","remador","remendo","remorso","renovado","reparo","repelir","repleto","repolho","represa","repudiar","requerer","resenha","resfriar","resgatar","residir","resolver","respeito","ressaca","restante","resumir","retalho","reter","retirar","retomada","retratar","revelar","revisor","revolta","riacho","rica","rigidez","rigoroso","rimar","ringue","risada","risco","risonho","robalo","rochedo","rodada","rodeio","rodovia","roedor","roleta","romano","roncar","rosado","roseira","rosto","rota","roteiro","rotina","rotular","rouco","roupa","roxo","rubro","rugido","rugoso","ruivo","rumo","rupestre","russo","sabor","saciar","sacola","sacudir","sadio","safira","saga","sagrada","saibro","salada","saleiro","salgado","saliva","salpicar","salsicha","saltar","salvador","sambar","samurai","sanar","sanfona","sangue","sanidade","sapato","sarda","sargento","sarjeta","saturar","saudade","saxofone","sazonal","secar","secular","seda","sedento","sediado","sedoso","sedutor","segmento","segredo","segundo","seiva","seleto","selvagem","semanal","semente","senador","senhor","sensual","sentado","separado","sereia","seringa","serra","servo","setembro","setor","sigilo","silhueta","silicone","simetria","simpatia","simular","sinal","sincero","singular","sinopse","sintonia","sirene","siri","situado","soberano","sobra","socorro","sogro","soja","solda","soletrar","solteiro","sombrio","sonata","sondar","sonegar","sonhador","sono","soprano","soquete","sorrir","sorteio","sossego","sotaque","soterrar","sovado","sozinho","suavizar","subida","submerso","subsolo","subtrair","sucata","sucesso","suco","sudeste","sufixo","sugador","sugerir","sujeito","sulfato","sumir","suor","superior","suplicar","suposto","suprimir","surdina","surfista","surpresa","surreal","surtir","suspiro","sustento","tabela","tablete","tabuada","tacho","tagarela","talher","talo","talvez","tamanho","tamborim","tampa","tangente","tanto","tapar","tapioca","tardio","tarefa","tarja","tarraxa","tatuagem","taurino","taxativo","taxista","teatral","tecer","tecido","teclado","tedioso","teia","teimar","telefone","telhado","tempero","tenente","tensor","tentar","termal","terno","terreno","tese","tesoura","testado","teto","textura","texugo","tiara","tigela","tijolo","timbrar","timidez","tingido","tinteiro","tiragem","titular","toalha","tocha","tolerar","tolice","tomada","tomilho","tonel","tontura","topete","tora","torcido","torneio","torque","torrada","torto","tostar","touca","toupeira","toxina","trabalho","tracejar","tradutor","trafegar","trajeto","trama","trancar","trapo","traseiro","tratador","travar","treino","tremer","trepidar","trevo","triagem","tribo","triciclo","tridente","trilogia","trindade","triplo","triturar","triunfal","trocar","trombeta","trova","trunfo","truque","tubular","tucano","tudo","tulipa","tupi","turbo","turma","turquesa","tutelar","tutorial","uivar","umbigo","unha","unidade","uniforme","urologia","urso","urtiga","urubu","usado","usina","usufruir","vacina","vadiar","vagaroso","vaidoso","vala","valente","validade","valores","vantagem","vaqueiro","varanda","vareta","varrer","vascular","vasilha","vassoura","vazar","vazio","veado","vedar","vegetar","veicular","veleiro","velhice","veludo","vencedor","vendaval","venerar","ventre","verbal","verdade","vereador","vergonha","vermelho","verniz","versar","vertente","vespa","vestido","vetorial","viaduto","viagem","viajar","viatura","vibrador","videira","vidraria","viela","viga","vigente","vigiar","vigorar","vilarejo","vinco","vinheta","vinil","violeta","virada","virtude","visitar","visto","vitral","viveiro","vizinho","voador","voar","vogal","volante","voleibol","voltagem","volumoso","vontade","vulto","vuvuzela","xadrez","xarope","xeque","xeretar","xerife","xingar","zangado","zarpar","zebu","zelador","zombar","zoologia","zumbido"],require$$9=["abandon","ability","able","about","above","absent","absorb","abstract","absurd","abuse","access","accident","account","accuse","achieve","acid","acoustic","acquire","across","act","action","actor","actress","actual","adapt","add","addict","address","adjust","admit","adult","advance","advice","aerobic","affair","afford","afraid","again","age","agent","agree","ahead","aim","air","airport","aisle","alarm","album","alcohol","alert","alien","all","alley","allow","almost","alone","alpha","already","also","alter","always","amateur","amazing","among","amount","amused","analyst","anchor","ancient","anger","angle","angry","animal","ankle","announce","annual","another","answer","antenna","antique","anxiety","any","apart","apology","appear","apple","approve","april","arch","arctic","area","arena","argue","arm","armed","armor","army","around","arrange","arrest","arrive","arrow","art","artefact","artist","artwork","ask","aspect","assault","asset","assist","assume","asthma","athlete","atom","attack","attend","attitude","attract","auction","audit","august","aunt","author","auto","autumn","average","avocado","avoid","awake","aware","away","awesome","awful","awkward","axis","baby","bachelor","bacon","badge","bag","balance","balcony","ball","bamboo","banana","banner","bar","barely","bargain","barrel","base","basic","basket","battle","beach","bean","beauty","because","become","beef","before","begin","behave","behind","believe","below","belt","bench","benefit","best","betray","better","between","beyond","bicycle","bid","bike","bind","biology","bird","birth","bitter","black","blade","blame","blanket","blast","bleak","bless","blind","blood","blossom","blouse","blue","blur","blush","board","boat","body","boil","bomb","bone","bonus","book","boost","border","boring","borrow","boss","bottom","bounce","box","boy","bracket","brain","brand","brass","brave","bread","breeze","brick","bridge","brief","bright","bring","brisk","broccoli","broken","bronze","broom","brother","brown","brush","bubble","buddy","budget","buffalo","build","bulb","bulk","bullet","bundle","bunker","burden","burger","burst","bus","business","busy","butter","buyer","buzz","cabbage","cabin","cable","cactus","cage","cake","call","calm","camera","camp","can","canal","cancel","candy","cannon","canoe","canvas","canyon","capable","capital","captain","car","carbon","card","cargo","carpet","carry","cart","case","cash","casino","castle","casual","cat","catalog","catch","category","cattle","caught","cause","caution","cave","ceiling","celery","cement","census","century","cereal","certain","chair","chalk","champion","change","chaos","chapter","charge","chase","chat","cheap","check","cheese","chef","cherry","chest","chicken","chief","child","chimney","choice","choose","chronic","chuckle","chunk","churn","cigar","cinnamon","circle","citizen","city","civil","claim","clap","clarify","claw","clay","clean","clerk","clever","click","client","cliff","climb","clinic","clip","clock","clog","close","cloth","cloud","clown","club","clump","cluster","clutch","coach","coast","coconut","code","coffee","coil","coin","collect","color","column","combine","come","comfort","comic","common","company","concert","conduct","confirm","congress","connect","consider","control","convince","cook","cool","copper","copy","coral","core","corn","correct","cost","cotton","couch","country","couple","course","cousin","cover","coyote","crack","cradle","craft","cram","crane","crash","crater","crawl","crazy","cream","credit","creek","crew","cricket","crime","crisp","critic","crop","cross","crouch","crowd","crucial","cruel","cruise","crumble","crunch","crush","cry","crystal","cube","culture","cup","cupboard","curious","current","curtain","curve","cushion","custom","cute","cycle","dad","damage","damp","dance","danger","daring","dash","daughter","dawn","day","deal","debate","debris","decade","december","decide","decline","decorate","decrease","deer","defense","define","defy","degree","delay","deliver","demand","demise","denial","dentist","deny","depart","depend","deposit","depth","deputy","derive","describe","desert","design","desk","despair","destroy","detail","detect","develop","device","devote","diagram","dial","diamond","diary","dice","diesel","diet","differ","digital","dignity","dilemma","dinner","dinosaur","direct","dirt","disagree","discover","disease","dish","dismiss","disorder","display","distance","divert","divide","divorce","dizzy","doctor","document","dog","doll","dolphin","domain","donate","donkey","donor","door","dose","double","dove","draft","dragon","drama","drastic","draw","dream","dress","drift","drill","drink","drip","drive","drop","drum","dry","duck","dumb","dune","during","dust","dutch","duty","dwarf","dynamic","eager","eagle","early","earn","earth","easily","east","easy","echo","ecology","economy","edge","edit","educate","effort","egg","eight","either","elbow","elder","electric","elegant","element","elephant","elevator","elite","else","embark","embody","embrace","emerge","emotion","employ","empower","empty","enable","enact","end","endless","endorse","enemy","energy","enforce","engage","engine","enhance","enjoy","enlist","enough","enrich","enroll","ensure","enter","entire","entry","envelope","episode","equal","equip","era","erase","erode","erosion","error","erupt","escape","essay","essence","estate","eternal","ethics","evidence","evil","evoke","evolve","exact","example","excess","exchange","excite","exclude","excuse","execute","exercise","exhaust","exhibit","exile","exist","exit","exotic","expand","expect","expire","explain","expose","express","extend","extra","eye","eyebrow","fabric","face","faculty","fade","faint","faith","fall","false","fame","family","famous","fan","fancy","fantasy","farm","fashion","fat","fatal","father","fatigue","fault","favorite","feature","february","federal","fee","feed","feel","female","fence","festival","fetch","fever","few","fiber","fiction","field","figure","file","film","filter","final","find","fine","finger","finish","fire","firm","first","fiscal","fish","fit","fitness","fix","flag","flame","flash","flat","flavor","flee","flight","flip","float","flock","floor","flower","fluid","flush","fly","foam","focus","fog","foil","fold","follow","food","foot","force","forest","forget","fork","fortune","forum","forward","fossil","foster","found","fox","fragile","frame","frequent","fresh","friend","fringe","frog","front","frost","frown","frozen","fruit","fuel","fun","funny","furnace","fury","future","gadget","gain","galaxy","gallery","game","gap","garage","garbage","garden","garlic","garment","gas","gasp","gate","gather","gauge","gaze","general","genius","genre","gentle","genuine","gesture","ghost","giant","gift","giggle","ginger","giraffe","girl","give","glad","glance","glare","glass","glide","glimpse","globe","gloom","glory","glove","glow","glue","goat","goddess","gold","good","goose","gorilla","gospel","gossip","govern","gown","grab","grace","grain","grant","grape","grass","gravity","great","green","grid","grief","grit","grocery","group","grow","grunt","guard","guess","guide","guilt","guitar","gun","gym","habit","hair","half","hammer","hamster","hand","happy","harbor","hard","harsh","harvest","hat","have","hawk","hazard","head","health","heart","heavy","hedgehog","height","hello","helmet","help","hen","hero","hidden","high","hill","hint","hip","hire","history","hobby","hockey","hold","hole","holiday","hollow","home","honey","hood","hope","horn","horror","horse","hospital","host","hotel","hour","hover","hub","huge","human","humble","humor","hundred","hungry","hunt","hurdle","hurry","hurt","husband","hybrid","ice","icon","idea","identify","idle","ignore","ill","illegal","illness","image","imitate","immense","immune","impact","impose","improve","impulse","inch","include","income","increase","index","indicate","indoor","industry","infant","inflict","inform","inhale","inherit","initial","inject","injury","inmate","inner","innocent","input","inquiry","insane","insect","inside","inspire","install","intact","interest","into","invest","invite","involve","iron","island","isolate","issue","item","ivory","jacket","jaguar","jar","jazz","jealous","jeans","jelly","jewel","job","join","joke","journey","joy","judge","juice","jump","jungle","junior","junk","just","kangaroo","keen","keep","ketchup","key","kick","kid","kidney","kind","kingdom","kiss","kit","kitchen","kite","kitten","kiwi","knee","knife","knock","know","lab","label","labor","ladder","lady","lake","lamp","language","laptop","large","later","latin","laugh","laundry","lava","law","lawn","lawsuit","layer","lazy","leader","leaf","learn","leave","lecture","left","leg","legal","legend","leisure","lemon","lend","length","lens","leopard","lesson","letter","level","liar","liberty","library","license","life","lift","light","like","limb","limit","link","lion","liquid","list","little","live","lizard","load","loan","lobster","local","lock","logic","lonely","long","loop","lottery","loud","lounge","love","loyal","lucky","luggage","lumber","lunar","lunch","luxury","lyrics","machine","mad","magic","magnet","maid","mail","main","major","make","mammal","man","manage","mandate","mango","mansion","manual","maple","marble","march","margin","marine","market","marriage","mask","mass","master","match","material","math","matrix","matter","maximum","maze","meadow","mean","measure","meat","mechanic","medal","media","melody","melt","member","memory","mention","menu","mercy","merge","merit","merry","mesh","message","metal","method","middle","midnight","milk","million","mimic","mind","minimum","minor","minute","miracle","mirror","misery","miss","mistake","mix","mixed","mixture","mobile","model","modify","mom","moment","monitor","monkey","monster","month","moon","moral","more","morning","mosquito","mother","motion","motor","mountain","mouse","move","movie","much","muffin","mule","multiply","muscle","museum","mushroom","music","must","mutual","myself","mystery","myth","naive","name","napkin","narrow","nasty","nation","nature","near","neck","need","negative","neglect","neither","nephew","nerve","nest","net","network","neutral","never","news","next","nice","night","noble","noise","nominee","noodle","normal","north","nose","notable","note","nothing","notice","novel","now","nuclear","number","nurse","nut","oak","obey","object","oblige","obscure","observe","obtain","obvious","occur","ocean","october","odor","off","offer","office","often","oil","okay","old","olive","olympic","omit","once","one","onion","online","only","open","opera","opinion","oppose","option","orange","orbit","orchard","order","ordinary","organ","orient","original","orphan","ostrich","other","outdoor","outer","output","outside","oval","oven","over","own","owner","oxygen","oyster","ozone","pact","paddle","page","pair","palace","palm","panda","panel","panic","panther","paper","parade","parent","park","parrot","party","pass","patch","path","patient","patrol","pattern","pause","pave","payment","peace","peanut","pear","peasant","pelican","pen","penalty","pencil","people","pepper","perfect","permit","person","pet","phone","photo","phrase","physical","piano","picnic","picture","piece","pig","pigeon","pill","pilot","pink","pioneer","pipe","pistol","pitch","pizza","place","planet","plastic","plate","play","please","pledge","pluck","plug","plunge","poem","poet","point","polar","pole","police","pond","pony","pool","popular","portion","position","possible","post","potato","pottery","poverty","powder","power","practice","praise","predict","prefer","prepare","present","pretty","prevent","price","pride","primary","print","priority","prison","private","prize","problem","process","produce","profit","program","project","promote","proof","property","prosper","protect","proud","provide","public","pudding","pull","pulp","pulse","pumpkin","punch","pupil","puppy","purchase","purity","purpose","purse","push","put","puzzle","pyramid","quality","quantum","quarter","question","quick","quit","quiz","quote","rabbit","raccoon","race","rack","radar","radio","rail","rain","raise","rally","ramp","ranch","random","range","rapid","rare","rate","rather","raven","raw","razor","ready","real","reason","rebel","rebuild","recall","receive","recipe","record","recycle","reduce","reflect","reform","refuse","region","regret","regular","reject","relax","release","relief","rely","remain","remember","remind","remove","render","renew","rent","reopen","repair","repeat","replace","report","require","rescue","resemble","resist","resource","response","result","retire","retreat","return","reunion","reveal","review","reward","rhythm","rib","ribbon","rice","rich","ride","ridge","rifle","right","rigid","ring","riot","ripple","risk","ritual","rival","river","road","roast","robot","robust","rocket","romance","roof","rookie","room","rose","rotate","rough","round","route","royal","rubber","rude","rug","rule","run","runway","rural","sad","saddle","sadness","safe","sail","salad","salmon","salon","salt","salute","same","sample","sand","satisfy","satoshi","sauce","sausage","save","say","scale","scan","scare","scatter","scene","scheme","school","science","scissors","scorpion","scout","scrap","screen","script","scrub","sea","search","season","seat","second","secret","section","security","seed","seek","segment","select","sell","seminar","senior","sense","sentence","series","service","session","settle","setup","seven","shadow","shaft","shallow","share","shed","shell","sheriff","shield","shift","shine","ship","shiver","shock","shoe","shoot","shop","short","shoulder","shove","shrimp","shrug","shuffle","shy","sibling","sick","side","siege","sight","sign","silent","silk","silly","silver","similar","simple","since","sing","siren","sister","situate","six","size","skate","sketch","ski","skill","skin","skirt","skull","slab","slam","sleep","slender","slice","slide","slight","slim","slogan","slot","slow","slush","small","smart","smile","smoke","smooth","snack","snake","snap","sniff","snow","soap","soccer","social","sock","soda","soft","solar","soldier","solid","solution","solve","someone","song","soon","sorry","sort","soul","sound","soup","source","south","space","spare","spatial","spawn","speak","special","speed","spell","spend","sphere","spice","spider","spike","spin","spirit","split","spoil","sponsor","spoon","sport","spot","spray","spread","spring","spy","square","squeeze","squirrel","stable","stadium","staff","stage","stairs","stamp","stand","start","state","stay","steak","steel","stem","step","stereo","stick","still","sting","stock","stomach","stone","stool","story","stove","strategy","street","strike","strong","struggle","student","stuff","stumble","style","subject","submit","subway","success","such","sudden","suffer","sugar","suggest","suit","summer","sun","sunny","sunset","super","supply","supreme","sure","surface","surge","surprise","surround","survey","suspect","sustain","swallow","swamp","swap","swarm","swear","sweet","swift","swim","swing","switch","sword","symbol","symptom","syrup","system","table","tackle","tag","tail","talent","talk","tank","tape","target","task","taste","tattoo","taxi","teach","team","tell","ten","tenant","tennis","tent","term","test","text","thank","that","theme","then","theory","there","they","thing","this","thought","three","thrive","throw","thumb","thunder","ticket","tide","tiger","tilt","timber","time","tiny","tip","tired","tissue","title","toast","tobacco","today","toddler","toe","together","toilet","token","tomato","tomorrow","tone","tongue","tonight","tool","tooth","top","topic","topple","torch","tornado","tortoise","toss","total","tourist","toward","tower","town","toy","track","trade","traffic","tragic","train","transfer","trap","trash","travel","tray","treat","tree","trend","trial","tribe","trick","trigger","trim","trip","trophy","trouble","truck","true","truly","trumpet","trust","truth","try","tube","tuition","tumble","tuna","tunnel","turkey","turn","turtle","twelve","twenty","twice","twin","twist","two","type","typical","ugly","umbrella","unable","unaware","uncle","uncover","under","undo","unfair","unfold","unhappy","uniform","unique","unit","universe","unknown","unlock","until","unusual","unveil","update","upgrade","uphold","upon","upper","upset","urban","urge","usage","use","used","useful","useless","usual","utility","vacant","vacuum","vague","valid","valley","valve","van","vanish","vapor","various","vast","vault","vehicle","velvet","vendor","venture","venue","verb","verify","version","very","vessel","veteran","viable","vibrant","vicious","victory","video","view","village","vintage","violin","virtual","virus","visa","visit","visual","vital","vivid","vocal","voice","void","volcano","volume","vote","voyage","wage","wagon","wait","walk","wall","walnut","want","warfare","warm","warrior","wash","wasp","waste","water","wave","way","wealth","weapon","wear","weasel","weather","web","wedding","weekend","weird","welcome","west","wet","whale","what","wheat","wheel","when","where","whip","whisper","wide","width","wife","wild","will","win","window","wine","wing","wink","winner","winter","wire","wisdom","wise","wish","witness","wolf","woman","wonder","wood","wool","word","work","world","worry","worth","wrap","wreck","wrestle","wrist","write","wrong","yard","year","yellow","you","young","youth","zebra","zero","zone","zoo"];Object.defineProperty(_wordlists,"__esModule",{value:!0});const wordlists$1={};_wordlists.wordlists=wordlists$1;let _default$4;var _default_1=_wordlists._default=_default$4;try{_default_1=_wordlists._default=_default$4=require$$0,wordlists$1.czech=_default$4}catch(_){}try{_default_1=_wordlists._default=_default$4=require$$1,wordlists$1.chinese_simplified=_default$4}catch(_){}try{_default_1=_wordlists._default=_default$4=require$$2$1,wordlists$1.chinese_traditional=_default$4}catch(_){}try{_default_1=_wordlists._default=_default$4=require$$3,wordlists$1.korean=_default$4}catch(_){}try{_default_1=_wordlists._default=_default$4=require$$4,wordlists$1.french=_default$4}catch(_){}try{_default_1=_wordlists._default=_default$4=require$$5,wordlists$1.italian=_default$4}catch(_){}try{_default_1=_wordlists._default=_default$4=require$$6,wordlists$1.spanish=_default$4}catch(_){}try{_default_1=_wordlists._default=_default$4=require$$7,wordlists$1.japanese=_default$4,wordlists$1.JA=_default$4}catch(_){}try{_default_1=_wordlists._default=_default$4=require$$8,wordlists$1.portuguese=_default$4}catch(_){}try{_default_1=_wordlists._default=_default$4=require$$9,wordlists$1.english=_default$4,wordlists$1.EN=_default$4}catch(_){}Object.defineProperty(src,"__esModule",{value:!0});const sha256_1=sha256$2,sha512_1=sha512$1,pbkdf2_1=pbkdf2$1,utils_1=utils$2,_wordlists_1=_wordlists;let DEFAULT_WORDLIST=_wordlists_1._default;const INVALID_MNEMONIC="Invalid mnemonic",INVALID_ENTROPY="Invalid entropy",INVALID_CHECKSUM="Invalid mnemonic checksum",WORDLIST_REQUIRED=`A wordlist is required but a default could not be found.
Please pass a 2048 word array explicitly.`;function normalize(_){return(_||"").normalize("NFKD")}function lpad(_,a,$){for(;_.length<$;)_=a+_;return _}function binaryToByte(_){return parseInt(_,2)}function bytesToBinary(_){return _.map(a=>lpad(a.toString(2),"0",8)).join("")}function deriveChecksumBits(_){const $=_.length*8/32,j=sha256_1.sha256(Uint8Array.from(_));return bytesToBinary(Array.from(j)).slice(0,$)}function salt(_){return"mnemonic"+(_||"")}function mnemonicToSeedSync(_,a){const $=Uint8Array.from(Buffer$g.from(normalize(_),"utf8")),j=Uint8Array.from(Buffer$g.from(salt(normalize(a)),"utf8")),et=pbkdf2_1.pbkdf2(sha512_1.sha512,$,j,{c:2048,dkLen:64});return Buffer$g.from(et)}var mnemonicToSeedSync_1=src.mnemonicToSeedSync=mnemonicToSeedSync;function mnemonicToSeed(_,a){const $=Uint8Array.from(Buffer$g.from(normalize(_),"utf8")),j=Uint8Array.from(Buffer$g.from(salt(normalize(a)),"utf8"));return pbkdf2_1.pbkdf2Async(sha512_1.sha512,$,j,{c:2048,dkLen:64}).then(et=>Buffer$g.from(et))}src.mnemonicToSeed=mnemonicToSeed;function mnemonicToEntropy(_,a){if(a=a||DEFAULT_WORDLIST,!a)throw new Error(WORDLIST_REQUIRED);const $=normalize(_).split(" ");if($.length%3!==0)throw new Error(INVALID_MNEMONIC);const j=$.map(st=>{const ct=a.indexOf(st);if(ct===-1)throw new Error(INVALID_MNEMONIC);return lpad(ct.toString(2),"0",11)}).join(""),et=Math.floor(j.length/33)*32,tt=j.slice(0,et),rt=j.slice(et),nt=tt.match(/(.{1,8})/g).map(binaryToByte);if(nt.length<16)throw new Error(INVALID_ENTROPY);if(nt.length>32)throw new Error(INVALID_ENTROPY);if(nt.length%4!==0)throw new Error(INVALID_ENTROPY);const it=Buffer$g.from(nt);if(deriveChecksumBits(it)!==rt)throw new Error(INVALID_CHECKSUM);return it.toString("hex")}src.mnemonicToEntropy=mnemonicToEntropy;function entropyToMnemonic(_,a){if(Buffer$g.isBuffer(_)||(_=Buffer$g.from(_,"hex")),a=a||DEFAULT_WORDLIST,!a)throw new Error(WORDLIST_REQUIRED);if(_.length<16)throw new TypeError(INVALID_ENTROPY);if(_.length>32)throw new TypeError(INVALID_ENTROPY);if(_.length%4!==0)throw new TypeError(INVALID_ENTROPY);const $=bytesToBinary(Array.from(_)),j=deriveChecksumBits(_),rt=($+j).match(/(.{1,11})/g).map(nt=>{const it=binaryToByte(nt);return a[it]});return a[0]==="あいこくしん"?rt.join("　"):rt.join(" ")}src.entropyToMnemonic=entropyToMnemonic;function generateMnemonic(_,a,$){if(_=_||128,_%32!==0)throw new TypeError(INVALID_ENTROPY);return a=a||(j=>Buffer$g.from(utils_1.randomBytes(j))),entropyToMnemonic(a(_/8),$)}var generateMnemonic_1=src.generateMnemonic=generateMnemonic;function validateMnemonic(_,a){try{mnemonicToEntropy(_,a)}catch{return!1}return!0}var validateMnemonic_1=src.validateMnemonic=validateMnemonic;function setDefaultWordlist(_){const a=_wordlists_1.wordlists[_];if(a)DEFAULT_WORDLIST=a;else throw new Error('Could not find wordlist for language "'+_+'"')}src.setDefaultWordlist=setDefaultWordlist;function getDefaultWordlist(){if(!DEFAULT_WORDLIST)throw new Error("No Default Wordlist set");return Object.keys(_wordlists_1.wordlists).filter(_=>_==="JA"||_==="EN"?!1:_wordlists_1.wordlists[_].every((a,$)=>a===DEFAULT_WORDLIST[$]))[0]}src.getDefaultWordlist=getDefaultWordlist;var _wordlists_2=_wordlists,wordlists=src.wordlists=_wordlists_2.wordlists,hmac$1={},hash$1={};Object.defineProperty(hash$1,"__esModule",{value:!0});function isSerializableHash(_){return typeof _.saveState<"u"&&typeof _.restoreState<"u"&&typeof _.cleanSavedState<"u"}hash$1.isSerializableHash=isSerializableHash;Object.defineProperty(hmac$1,"__esModule",{value:!0});var hash_1=hash$1,constant_time_1=constantTime,wipe_1=wipe$1,HMAC=function(){function _(a,$){this._finished=!1,this._inner=new a,this._outer=new a,this.blockSize=this._outer.blockSize,this.digestLength=this._outer.digestLength;var j=new Uint8Array(this.blockSize);$.length>this.blockSize?this._inner.update($).finish(j).clean():j.set($);for(var et=0;et<j.length;et++)j[et]^=54;this._inner.update(j);for(var et=0;et<j.length;et++)j[et]^=106;this._outer.update(j),hash_1.isSerializableHash(this._inner)&&hash_1.isSerializableHash(this._outer)&&(this._innerKeyedState=this._inner.saveState(),this._outerKeyedState=this._outer.saveState()),wipe_1.wipe(j)}return _.prototype.reset=function(){if(!hash_1.isSerializableHash(this._inner)||!hash_1.isSerializableHash(this._outer))throw new Error("hmac: can't reset() because hash doesn't implement restoreState()");return this._inner.restoreState(this._innerKeyedState),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this},_.prototype.clean=function(){hash_1.isSerializableHash(this._inner)&&this._inner.cleanSavedState(this._innerKeyedState),hash_1.isSerializableHash(this._outer)&&this._outer.cleanSavedState(this._outerKeyedState),this._inner.clean(),this._outer.clean()},_.prototype.update=function(a){return this._inner.update(a),this},_.prototype.finish=function(a){return this._finished?(this._outer.finish(a),this):(this._inner.finish(a),this._outer.update(a.subarray(0,this.digestLength)).finish(a),this._finished=!0,this)},_.prototype.digest=function(){var a=new Uint8Array(this.digestLength);return this.finish(a),a},_.prototype.saveState=function(){if(!hash_1.isSerializableHash(this._inner))throw new Error("hmac: can't saveState() because hash doesn't implement it");return this._inner.saveState()},_.prototype.restoreState=function(a){if(!hash_1.isSerializableHash(this._inner)||!hash_1.isSerializableHash(this._outer))throw new Error("hmac: can't restoreState() because hash doesn't implement it");return this._inner.restoreState(a),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this},_.prototype.cleanSavedState=function(a){if(!hash_1.isSerializableHash(this._inner))throw new Error("hmac: can't cleanSavedState() because hash doesn't implement it");this._inner.cleanSavedState(a)},_}(),HMAC_1=hmac$1.HMAC=HMAC;function hmac(_,a,$){var j=new HMAC(_,a);j.update($);var et=j.digest();return j.clean(),et}hmac$1.hmac=hmac;hmac$1.equal=constant_time_1.equal;function __awaiter$1(_,a,$,j){function et(tt){return tt instanceof $?tt:new $(function(rt){rt(tt)})}return new($||($=Promise))(function(tt,rt){function nt(st){try{ot(j.next(st))}catch(ct){rt(ct)}}function it(st){try{ot(j.throw(st))}catch(ct){rt(ct)}}function ot(st){st.done?tt(st.value):et(st.value).then(nt,it)}ot((j=j.apply(_,[])).next())})}typeof SuppressedError=="function"&&SuppressedError;class Tz1{constructor(a,$,j){this.key=a;const et=a.substring(0,$?5:4);if(!isValidPrefix(et))throw new InvalidKeyError(`${invalidDetail(ValidationResult.NO_PREFIX_MATCHED)} expecting either '${Prefix.EDESK}' or '${Prefix.EDSK}'.`);if(this._key=j(b58cdecode(this.key,prefix[et])),this._publicKey=this._key.slice(32),!this._key)throw new InvalidKeyError("unable to decode");this.isInit=this.init()}init(){return __awaiter$1(this,void 0,void 0,function*(){if(this._key.length!==64){const{publicKey:a,secretKey:$}=ed25519.generateKeyPairFromSeed(new Uint8Array(this._key));this._publicKey=a,this._key=$}return!0})}sign(a,$){return __awaiter$1(this,void 0,void 0,function*(){yield this.isInit;const j=ed25519.sign(new Uint8Array(this._key),new Uint8Array($)),et=toBuffer$1(j),tt=a+buf2hex(et);return{bytes:a,sig:b58cencode(j,prefix.sig),prefixSig:b58cencode(j,prefix.edsig),sbytes:tt}})}publicKey(){return __awaiter$1(this,void 0,void 0,function*(){return yield this.isInit,b58cencode(this._publicKey,prefix.edpk)})}publicKeyHash(){return __awaiter$1(this,void 0,void 0,function*(){return yield this.isInit,b58cencode(blake2b$1.hash(new Uint8Array(this._publicKey),20),prefix.tz1)})}secretKey(){return __awaiter$1(this,void 0,void 0,function*(){yield this.isInit;let a=this._key;const{secretKey:$}=ed25519.generateKeyPairFromSeed(new Uint8Array(a).slice(0,32));return a=toBuffer$1($),b58cencode(a,prefix.edsk)})}}const pref={p256:{pk:prefix.p2pk,sk:prefix.p2sk,pkh:prefix.tz3,sig:prefix.p2sig},secp256k1:{pk:prefix.sppk,sk:prefix.spsk,pkh:prefix.tz2,sig:prefix.spsig}};class ECKey{constructor(a,$,j,et){this.curve=a,this.key=$;const tt=$.substring(0,j?5:4);if(!isValidPrefix(tt))throw new InvalidKeyError(invalidDetail(ValidationResult.NO_PREFIX_MATCHED)+` expecting one of the following prefix '${Prefix.SPSK}', '${Prefix.SPESK}', '${Prefix.P2SK}' or '${Prefix.P2ESK}'.`);this._key=et(b58cdecode(this.key,prefix[tt]));const rt=new elliptic.ec(this.curve).keyFromPrivate(this._key),nt=rt.getPublic().getY().toArray(),ot=(nt.length<32?nt[nt.length-1]:nt[31])%2?3:2,st=new Array(32).fill(0);this._publicKey=toBuffer$1(new Uint8Array([ot].concat(st.concat(rt.getPublic().getX().toArray()).slice(-32))))}sign(a,$){return __awaiter$1(this,void 0,void 0,function*(){const et=new elliptic.ec(this.curve).keyFromPrivate(this._key).sign($,{canonical:!0}),tt=et.r.toString("hex",64)+et.s.toString("hex",64),rt=a+tt;return{bytes:a,sig:b58cencode(tt,prefix.sig),prefixSig:b58cencode(tt,pref[this.curve].sig),sbytes:rt}})}publicKey(){return __awaiter$1(this,void 0,void 0,function*(){return b58cencode(this._publicKey,pref[this.curve].pk)})}publicKeyHash(){return __awaiter$1(this,void 0,void 0,function*(){return b58cencode(blake2b$1.hash(new Uint8Array(this._publicKey),20),pref[this.curve].pkh)})}secretKey(){return __awaiter$1(this,void 0,void 0,function*(){const a=this._key;return b58cencode(a,pref[this.curve].sk)})}}const Tz3=ECKey.bind(null,"p256"),Tz2=ECKey.bind(null,"secp256k1");function parseHex(_){const a=[];for(let $=0;$<_.length;$+=2){const j=_.slice($,$+2),et=parseInt(j,16);if(Number.isNaN(et))throw new InvalidHexStringError(j);a.push(et)}return new Uint8Array(a)}class InvalidMnemonicError extends ParameterValidationError{constructor(a){super(),this.mnemonic=a,this.name="InvalidMnemonicError",this.message=`Invalid mnemonic "${a}"`}}class InvalidBitSize extends ParameterValidationError{constructor(a){super(),this.message=a,this.name="InvalidBitSize"}}class InvalidCurveError extends ParameterValidationError{constructor(a){super(),this.message=a,this.name="InvalidCurveError"}}class InvalidSeedLengthError extends ParameterValidationError{constructor(a){super(),this.seedLength=a,this.name="InvalidSeedLengthError",this.message=`Invalid seed length "${a}" expecting length between 16 to 64.`}}class ToBeImplemented extends UnsupportedActionError{constructor(){super(),this.name="ToBeImplemented",this.message="This feature is under developement"}}class InvalidPassphraseError extends ParameterValidationError{constructor(a){super(),this.message=a,this.name="InvalidPassphraseError"}}const seedKey={p256:"Nist256p1 seed",secp256k1:"Bitcoin seed"},minSeedSize$1=16,maxSeedSize$1=64;let PrivateKey$1=class l0{constructor(a,$){this.chainCode=$,this.keyPair=a}static fromSeed(a,$){var j,et;let tt=typeof a=="string"?parseHex(a):a;if(tt.length<minSeedSize$1||tt.length>maxSeedSize$1)throw new InvalidSeedLengthError(tt.length);if(!Object.prototype.hasOwnProperty.call(seedKey,$))throw new InvalidCurveError(`Unsupported curve "${$}" expecting either "p256" or "secp256k1"`);const rt=new ellipticExports.ec($);if(((j=rt.n)===null||j===void 0?void 0:j.bitLength())!==256)throw new InvalidBitSize(`Invalid curve "${$}" with bit size "${(et=rt.n)===null||et===void 0?void 0:et.bitLength()}" expecting bit size "256"`);const nt=new TextEncoder().encode(seedKey[$]);let it=null,ot=new Uint8Array,st=0;for(;st===0;){const ut=new HMAC_1(sha512$2.SHA512,nt).update(tt).digest();it=new BN$8(ut.subarray(0,32)),ot=ut.subarray(32),it.isZero()||it.cmp(rt.n)>=0?tt=ut:st++}const ct=rt.keyPair({});return ct.priv=it,new l0(ct,ot)}derive(a){const $=new Uint8Array(37);a&Hard?$.set(this.keyPair.getPrivate().toArray(),1):$.set(this.keyPair.getPublic().encodeCompressed(),0),new DataView($.buffer).setUint32(33,a);let j=new BN$8(0),et=new Uint8Array,tt=0;for(;tt===0;){const nt=new HMAC_1(sha512$2.SHA512,this.chainCode).update($).digest();j=new BN$8(nt.subarray(0,32)),et=nt.subarray(32),this.keyPair.ec.n&&j.cmp(this.keyPair.ec.n)<0&&(j=j.add(this.keyPair.getPrivate()).mod(this.keyPair.ec.n),j.isZero()||tt++),$.set(et,1),$[0]=1}const rt=this.keyPair.ec.keyPair({});return rt.priv=j,new l0(rt,et)}derivePath(a){let $=this;for(const j of a)$=$.derive(j);return $}bytes(){if(!this.keyPair.priv)throw new InvalidKeyError("missing private key");const a=this.keyPair.priv.toArray(),$=new Uint8Array(32);return $.set(a,$.length-a.length),$}};const Hard=2147483648;class Path extends Array{static from(a){return super.from(a).map($=>$>>>0)}static fromString(a){if(a.length===0)return new Path;let $=a.split("/");const j=[];$[0]==="m"&&($=$.slice(1));for(let et of $){if(et.length===0)throw new InvalidDerivationPathError(a,": Invalid BIP32 path");let tt=0;const rt=et[et.length-1];(rt==="'"||rt==="h"||rt==="H")&&(tt=Hard,et=et.slice(0,et.length-1));const nt=(parseInt(et,10)|tt)>>>0;j.push(nt)}return Path.from(j)}}const minSeedSize=16,maxSeedSize=64,ed25519Key="ed25519 seed";class PrivateKey{constructor(a,$){this.priv=a,this.chainCode=$}static fromSeed(a){const $=typeof a=="string"?parseHex(a):a;if($.length<minSeedSize||$.length>maxSeedSize)throw new InvalidSeedLengthError($.length);const j=new TextEncoder().encode(ed25519Key),et=new HMAC_1(sha512$2.SHA512,j).update($).digest();return new PrivateKey(ed25519.generateKeyPairFromSeed(et.subarray(0,32)).secretKey,et.subarray(32))}seed(){return this.priv.subarray(0,32)}derive(a){if(!(a&Hard))throw new InvalidDerivationPathError(a.toString(),": Non-hardened derivation path.");const $=new Uint8Array(37);$.set(this.seed(),1),new DataView($.buffer).setUint32(33,a);const j=new HMAC_1(sha512$2.SHA512,this.chainCode).update($).digest();return new PrivateKey(ed25519.generateKeyPairFromSeed(j.subarray(0,32)).secretKey,j.subarray(32))}derivePath(a){let $=this;for(const j of a)$=$.derive(j);return $}}const generateSecretKey=(_,a,$)=>{const j=Path.fromString(a);let et;switch($){case"ed25519":return et=PrivateKey.fromSeed(_).derivePath(j),b58cencode(et.seed().slice(0,32),prefix.edsk2);case"secp256k1":case"p256":{const tt=$==="secp256k1"?prefix.spsk:prefix.p2sk;let rt=PrivateKey$1.fromSeed(_,$);rt=rt.derivePath(j);const nt=new Uint8Array(rt.keyPair.getPrivate().toArray());return b58cencode(nt,tt)}case"bip25519":throw new ToBeImplemented;default:throw new InvalidCurveError(`Unsupported curve "${$}" expecting one of the following "ed25519", "secp256k1", "p256"`)}};class InMemorySigner{static fromFundraiser(a,$,j){if(!validateMnemonic_1(j))throw new InvalidMnemonicError(j);const et=mnemonicToSeedSync_1(j,`${a}${$}`),tt=b58cencode(et.slice(0,32),prefix.edsk2);return new InMemorySigner(tt)}static fromSecretKey(a,$){return __awaiter$1(this,void 0,void 0,function*(){return new InMemorySigner(a,$)})}static fromMnemonic({mnemonic:a,password:$="",derivationPath:j="44'/1729'/0'/0'",curve:et="ed25519"}){if(!validateMnemonic_1(a))throw new InvalidMnemonicError(a);const tt=mnemonicToSeedSync_1(a,$),rt=generateSecretKey(tt,j,et);return new InMemorySigner(rt)}constructor(a,$){const j=a.substring(2,3)==="e";let et=tt=>tt;if(j){if(!$)throw new InvalidPassphraseError("No passphrase provided to decrypt encrypted key");et=tt=>{const rt=toBuffer$1(tt.slice(0,8)),nt=tt.slice(8),it=browser$7.pbkdf2Sync($,rt,32768,32,"sha512");return nacl.openSecretBox(new Uint8Array(it),new Uint8Array(24),new Uint8Array(nt))}}switch(a.substring(0,4)){case"edes":case"edsk":this._key=new Tz1(a,j,et);break;case"spsk":case"spes":this._key=new Tz2(a,j,et);break;case"p2sk":case"p2es":this._key=new Tz3(a,j,et);break;default:throw new InvalidKeyError(`${invalidDetail(ValidationResult.NO_PREFIX_MATCHED)} expecting one of the following '${Prefix.EDESK}', '${Prefix.EDSK}', '${Prefix.SPSK}', '${Prefix.SPESK}', '${Prefix.P2SK}' or '${Prefix.P2ESK}'.`)}}sign(a,$){return __awaiter$1(this,void 0,void 0,function*(){let j=hex2buf(a);typeof $<"u"&&(j=mergebuf($,j));const et=blake2b$1.hash(j,32);return this._key.sign(a,et)})}publicKey(){return __awaiter$1(this,void 0,void 0,function*(){return this._key.publicKey()})}publicKeyHash(){return __awaiter$1(this,void 0,void 0,function*(){return this._key.publicKeyHash()})}secretKey(){return __awaiter$1(this,void 0,void 0,function*(){return this._key.secretKey()})}}function isFunction(_){return typeof _=="function"}function createErrorClass(_){var a=function(j){Error.call(j),j.stack=new Error().stack},$=_(a);return $.prototype=Object.create(Error.prototype),$.prototype.constructor=$,$}var UnsubscriptionError=createErrorClass(function(_){return function($){_(this),this.message=$?$.length+` errors occurred during unsubscription:
`+$.map(function(j,et){return et+1+") "+j.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=$}});function arrRemove(_,a){if(_){var $=_.indexOf(a);0<=$&&_.splice($,1)}}var Subscription=function(){function _(a){this.initialTeardown=a,this.closed=!1,this._parentage=null,this._finalizers=null}return _.prototype.unsubscribe=function(){var a,$,j,et,tt;if(!this.closed){this.closed=!0;var rt=this._parentage;if(rt)if(this._parentage=null,Array.isArray(rt))try{for(var nt=__values(rt),it=nt.next();!it.done;it=nt.next()){var ot=it.value;ot.remove(this)}}catch(St){a={error:St}}finally{try{it&&!it.done&&($=nt.return)&&$.call(nt)}finally{if(a)throw a.error}}else rt.remove(this);var st=this.initialTeardown;if(isFunction(st))try{st()}catch(St){tt=St instanceof UnsubscriptionError?St.errors:[St]}var ct=this._finalizers;if(ct){this._finalizers=null;try{for(var ut=__values(ct),ht=ut.next();!ht.done;ht=ut.next()){var Et=ht.value;try{execFinalizer(Et)}catch(St){tt=tt??[],St instanceof UnsubscriptionError?tt=__spreadArray(__spreadArray([],__read(tt)),__read(St.errors)):tt.push(St)}}}catch(St){j={error:St}}finally{try{ht&&!ht.done&&(et=ut.return)&&et.call(ut)}finally{if(j)throw j.error}}}if(tt)throw new UnsubscriptionError(tt)}},_.prototype.add=function(a){var $;if(a&&a!==this)if(this.closed)execFinalizer(a);else{if(a instanceof _){if(a.closed||a._hasParent(this))return;a._addParent(this)}(this._finalizers=($=this._finalizers)!==null&&$!==void 0?$:[]).push(a)}},_.prototype._hasParent=function(a){var $=this._parentage;return $===a||Array.isArray($)&&$.includes(a)},_.prototype._addParent=function(a){var $=this._parentage;this._parentage=Array.isArray($)?($.push(a),$):$?[$,a]:a},_.prototype._removeParent=function(a){var $=this._parentage;$===a?this._parentage=null:Array.isArray($)&&arrRemove($,a)},_.prototype.remove=function(a){var $=this._finalizers;$&&arrRemove($,a),a instanceof _&&a._removeParent(this)},_.EMPTY=function(){var a=new _;return a.closed=!0,a}(),_}(),EMPTY_SUBSCRIPTION=Subscription.EMPTY;function isSubscription(_){return _ instanceof Subscription||_&&"closed"in _&&isFunction(_.remove)&&isFunction(_.add)&&isFunction(_.unsubscribe)}function execFinalizer(_){isFunction(_)?_():_.unsubscribe()}var config$2={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},timeoutProvider={setTimeout:function(_,a){for(var $=[],j=2;j<arguments.length;j++)$[j-2]=arguments[j];return setTimeout.apply(void 0,__spreadArray([_,a],__read($)))},clearTimeout:function(_){var a=timeoutProvider.delegate;return((a==null?void 0:a.clearTimeout)||clearTimeout)(_)},delegate:void 0};function reportUnhandledError(_){timeoutProvider.setTimeout(function(){throw _})}function noop$3(){}function errorContext(_){_()}var Subscriber=function(_){__extends$1(a,_);function a($){var j=_.call(this)||this;return j.isStopped=!1,$?(j.destination=$,isSubscription($)&&$.add(j)):j.destination=EMPTY_OBSERVER,j}return a.create=function($,j,et){return new SafeSubscriber($,j,et)},a.prototype.next=function($){this.isStopped||this._next($)},a.prototype.error=function($){this.isStopped||(this.isStopped=!0,this._error($))},a.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},a.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,_.prototype.unsubscribe.call(this),this.destination=null)},a.prototype._next=function($){this.destination.next($)},a.prototype._error=function($){try{this.destination.error($)}finally{this.unsubscribe()}},a.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},a}(Subscription),_bind=Function.prototype.bind;function bind(_,a){return _bind.call(_,a)}var ConsumerObserver=function(){function _(a){this.partialObserver=a}return _.prototype.next=function(a){var $=this.partialObserver;if($.next)try{$.next(a)}catch(j){handleUnhandledError(j)}},_.prototype.error=function(a){var $=this.partialObserver;if($.error)try{$.error(a)}catch(j){handleUnhandledError(j)}else handleUnhandledError(a)},_.prototype.complete=function(){var a=this.partialObserver;if(a.complete)try{a.complete()}catch($){handleUnhandledError($)}},_}(),SafeSubscriber=function(_){__extends$1(a,_);function a($,j,et){var tt=_.call(this)||this,rt;if(isFunction($)||!$)rt={next:$??void 0,error:j??void 0,complete:et??void 0};else{var nt;tt&&config$2.useDeprecatedNextContext?(nt=Object.create($),nt.unsubscribe=function(){return tt.unsubscribe()},rt={next:$.next&&bind($.next,nt),error:$.error&&bind($.error,nt),complete:$.complete&&bind($.complete,nt)}):rt=$}return tt.destination=new ConsumerObserver(rt),tt}return a}(Subscriber);function handleUnhandledError(_){reportUnhandledError(_)}function defaultErrorHandler(_){throw _}var EMPTY_OBSERVER={closed:!0,next:noop$3,error:defaultErrorHandler,complete:noop$3},observable=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function identity(_){return _}function pipeFromArray(_){return _.length===0?identity:_.length===1?_[0]:function($){return _.reduce(function(j,et){return et(j)},$)}}var Observable=function(){function _(a){a&&(this._subscribe=a)}return _.prototype.lift=function(a){var $=new _;return $.source=this,$.operator=a,$},_.prototype.subscribe=function(a,$,j){var et=this,tt=isSubscriber(a)?a:new SafeSubscriber(a,$,j);return errorContext(function(){var rt=et,nt=rt.operator,it=rt.source;tt.add(nt?nt.call(tt,it):it?et._subscribe(tt):et._trySubscribe(tt))}),tt},_.prototype._trySubscribe=function(a){try{return this._subscribe(a)}catch($){a.error($)}},_.prototype.forEach=function(a,$){var j=this;return $=getPromiseCtor($),new $(function(et,tt){var rt=new SafeSubscriber({next:function(nt){try{a(nt)}catch(it){tt(it),rt.unsubscribe()}},error:tt,complete:et});j.subscribe(rt)})},_.prototype._subscribe=function(a){var $;return($=this.source)===null||$===void 0?void 0:$.subscribe(a)},_.prototype[observable]=function(){return this},_.prototype.pipe=function(){for(var a=[],$=0;$<arguments.length;$++)a[$]=arguments[$];return pipeFromArray(a)(this)},_.prototype.toPromise=function(a){var $=this;return a=getPromiseCtor(a),new a(function(j,et){var tt;$.subscribe(function(rt){return tt=rt},function(rt){return et(rt)},function(){return j(tt)})})},_.create=function(a){return new _(a)},_}();function getPromiseCtor(_){var a;return(a=_??config$2.Promise)!==null&&a!==void 0?a:Promise}function isObserver(_){return _&&isFunction(_.next)&&isFunction(_.error)&&isFunction(_.complete)}function isSubscriber(_){return _&&_ instanceof Subscriber||isObserver(_)&&isSubscription(_)}function hasLift(_){return isFunction(_==null?void 0:_.lift)}function operate(_){return function(a){if(hasLift(a))return a.lift(function($){try{return _($,this)}catch(j){this.error(j)}});throw new TypeError("Unable to lift unknown Observable type")}}function createOperatorSubscriber(_,a,$,j,et){return new OperatorSubscriber(_,a,$,j,et)}var OperatorSubscriber=function(_){__extends$1(a,_);function a($,j,et,tt,rt,nt){var it=_.call(this,$)||this;return it.onFinalize=rt,it.shouldUnsubscribe=nt,it._next=j?function(ot){try{j(ot)}catch(st){$.error(st)}}:_.prototype._next,it._error=tt?function(ot){try{tt(ot)}catch(st){$.error(st)}finally{this.unsubscribe()}}:_.prototype._error,it._complete=et?function(){try{et()}catch(ot){$.error(ot)}finally{this.unsubscribe()}}:_.prototype._complete,it}return a.prototype.unsubscribe=function(){var $;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var j=this.closed;_.prototype.unsubscribe.call(this),!j&&(($=this.onFinalize)===null||$===void 0||$.call(this))}},a}(Subscriber);function refCount(){return operate(function(_,a){var $=null;_._refCount++;var j=createOperatorSubscriber(a,void 0,void 0,void 0,function(){if(!_||_._refCount<=0||0<--_._refCount){$=null;return}var et=_._connection,tt=$;$=null,et&&(!tt||et===tt)&&et.unsubscribe(),a.unsubscribe()});_.subscribe(j),j.closed||($=_.connect())})}var ConnectableObservable=function(_){__extends$1(a,_);function a($,j){var et=_.call(this)||this;return et.source=$,et.subjectFactory=j,et._subject=null,et._refCount=0,et._connection=null,hasLift($)&&(et.lift=$.lift),et}return a.prototype._subscribe=function($){return this.getSubject().subscribe($)},a.prototype.getSubject=function(){var $=this._subject;return(!$||$.isStopped)&&(this._subject=this.subjectFactory()),this._subject},a.prototype._teardown=function(){this._refCount=0;var $=this._connection;this._subject=this._connection=null,$==null||$.unsubscribe()},a.prototype.connect=function(){var $=this,j=this._connection;if(!j){j=this._connection=new Subscription;var et=this.getSubject();j.add(this.source.subscribe(createOperatorSubscriber(et,void 0,function(){$._teardown(),et.complete()},function(tt){$._teardown(),et.error(tt)},function(){return $._teardown()}))),j.closed&&(this._connection=null,j=Subscription.EMPTY)}return j},a.prototype.refCount=function(){return refCount()(this)},a}(Observable),ObjectUnsubscribedError=createErrorClass(function(_){return function(){_(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),Subject=function(_){__extends$1(a,_);function a(){var $=_.call(this)||this;return $.closed=!1,$.currentObservers=null,$.observers=[],$.isStopped=!1,$.hasError=!1,$.thrownError=null,$}return a.prototype.lift=function($){var j=new AnonymousSubject(this,this);return j.operator=$,j},a.prototype._throwIfClosed=function(){if(this.closed)throw new ObjectUnsubscribedError},a.prototype.next=function($){var j=this;errorContext(function(){var et,tt;if(j._throwIfClosed(),!j.isStopped){j.currentObservers||(j.currentObservers=Array.from(j.observers));try{for(var rt=__values(j.currentObservers),nt=rt.next();!nt.done;nt=rt.next()){var it=nt.value;it.next($)}}catch(ot){et={error:ot}}finally{try{nt&&!nt.done&&(tt=rt.return)&&tt.call(rt)}finally{if(et)throw et.error}}}})},a.prototype.error=function($){var j=this;errorContext(function(){if(j._throwIfClosed(),!j.isStopped){j.hasError=j.isStopped=!0,j.thrownError=$;for(var et=j.observers;et.length;)et.shift().error($)}})},a.prototype.complete=function(){var $=this;errorContext(function(){if($._throwIfClosed(),!$.isStopped){$.isStopped=!0;for(var j=$.observers;j.length;)j.shift().complete()}})},a.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(a.prototype,"observed",{get:function(){var $;return(($=this.observers)===null||$===void 0?void 0:$.length)>0},enumerable:!1,configurable:!0}),a.prototype._trySubscribe=function($){return this._throwIfClosed(),_.prototype._trySubscribe.call(this,$)},a.prototype._subscribe=function($){return this._throwIfClosed(),this._checkFinalizedStatuses($),this._innerSubscribe($)},a.prototype._innerSubscribe=function($){var j=this,et=this,tt=et.hasError,rt=et.isStopped,nt=et.observers;return tt||rt?EMPTY_SUBSCRIPTION:(this.currentObservers=null,nt.push($),new Subscription(function(){j.currentObservers=null,arrRemove(nt,$)}))},a.prototype._checkFinalizedStatuses=function($){var j=this,et=j.hasError,tt=j.thrownError,rt=j.isStopped;et?$.error(tt):rt&&$.complete()},a.prototype.asObservable=function(){var $=new Observable;return $.source=this,$},a.create=function($,j){return new AnonymousSubject($,j)},a}(Observable),AnonymousSubject=function(_){__extends$1(a,_);function a($,j){var et=_.call(this)||this;return et.destination=$,et.source=j,et}return a.prototype.next=function($){var j,et;(et=(j=this.destination)===null||j===void 0?void 0:j.next)===null||et===void 0||et.call(j,$)},a.prototype.error=function($){var j,et;(et=(j=this.destination)===null||j===void 0?void 0:j.error)===null||et===void 0||et.call(j,$)},a.prototype.complete=function(){var $,j;(j=($=this.destination)===null||$===void 0?void 0:$.complete)===null||j===void 0||j.call($)},a.prototype._subscribe=function($){var j,et;return(et=(j=this.source)===null||j===void 0?void 0:j.subscribe($))!==null&&et!==void 0?et:EMPTY_SUBSCRIPTION},a}(Subject),BehaviorSubject=function(_){__extends$1(a,_);function a($){var j=_.call(this)||this;return j._value=$,j}return Object.defineProperty(a.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),a.prototype._subscribe=function($){var j=_.prototype._subscribe.call(this,$);return!j.closed&&$.next(this._value),j},a.prototype.getValue=function(){var $=this,j=$.hasError,et=$.thrownError,tt=$._value;if(j)throw et;return this._throwIfClosed(),tt},a.prototype.next=function($){_.prototype.next.call(this,this._value=$)},a}(Subject),dateTimestampProvider={now:function(){return(dateTimestampProvider.delegate||Date).now()},delegate:void 0},ReplaySubject=function(_){__extends$1(a,_);function a($,j,et){$===void 0&&($=1/0),j===void 0&&(j=1/0),et===void 0&&(et=dateTimestampProvider);var tt=_.call(this)||this;return tt._bufferSize=$,tt._windowTime=j,tt._timestampProvider=et,tt._buffer=[],tt._infiniteTimeWindow=!0,tt._infiniteTimeWindow=j===1/0,tt._bufferSize=Math.max(1,$),tt._windowTime=Math.max(1,j),tt}return a.prototype.next=function($){var j=this,et=j.isStopped,tt=j._buffer,rt=j._infiniteTimeWindow,nt=j._timestampProvider,it=j._windowTime;et||(tt.push($),!rt&&tt.push(nt.now()+it)),this._trimBuffer(),_.prototype.next.call(this,$)},a.prototype._subscribe=function($){this._throwIfClosed(),this._trimBuffer();for(var j=this._innerSubscribe($),et=this,tt=et._infiniteTimeWindow,rt=et._buffer,nt=rt.slice(),it=0;it<nt.length&&!$.closed;it+=tt?1:2)$.next(nt[it]);return this._checkFinalizedStatuses($),j},a.prototype._trimBuffer=function(){var $=this,j=$._bufferSize,et=$._timestampProvider,tt=$._buffer,rt=$._infiniteTimeWindow,nt=(rt?1:2)*j;if(j<1/0&&nt<tt.length&&tt.splice(0,tt.length-nt),!rt){for(var it=et.now(),ot=0,st=1;st<tt.length&&tt[st]<=it;st+=2)ot=st;ot&&tt.splice(0,ot+1)}},a}(Subject),Action$1=function(_){__extends$1(a,_);function a($,j){return _.call(this)||this}return a.prototype.schedule=function($,j){return this},a}(Subscription),intervalProvider={setInterval:function(_,a){for(var $=[],j=2;j<arguments.length;j++)$[j-2]=arguments[j];return setInterval.apply(void 0,__spreadArray([_,a],__read($)))},clearInterval:function(_){var a=intervalProvider.delegate;return((a==null?void 0:a.clearInterval)||clearInterval)(_)},delegate:void 0},AsyncAction=function(_){__extends$1(a,_);function a($,j){var et=_.call(this,$,j)||this;return et.scheduler=$,et.work=j,et.pending=!1,et}return a.prototype.schedule=function($,j){var et;if(j===void 0&&(j=0),this.closed)return this;this.state=$;var tt=this.id,rt=this.scheduler;return tt!=null&&(this.id=this.recycleAsyncId(rt,tt,j)),this.pending=!0,this.delay=j,this.id=(et=this.id)!==null&&et!==void 0?et:this.requestAsyncId(rt,this.id,j),this},a.prototype.requestAsyncId=function($,j,et){return et===void 0&&(et=0),intervalProvider.setInterval($.flush.bind($,this),et)},a.prototype.recycleAsyncId=function($,j,et){if(et===void 0&&(et=0),et!=null&&this.delay===et&&this.pending===!1)return j;j!=null&&intervalProvider.clearInterval(j)},a.prototype.execute=function($,j){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var et=this._execute($,j);if(et)return et;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},a.prototype._execute=function($,j){var et=!1,tt;try{this.work($)}catch(rt){et=!0,tt=rt||new Error("Scheduled action threw falsy error")}if(et)return this.unsubscribe(),tt},a.prototype.unsubscribe=function(){if(!this.closed){var $=this,j=$.id,et=$.scheduler,tt=et.actions;this.work=this.state=this.scheduler=null,this.pending=!1,arrRemove(tt,this),j!=null&&(this.id=this.recycleAsyncId(et,j,null)),this.delay=null,_.prototype.unsubscribe.call(this)}},a}(Action$1),Scheduler=function(){function _(a,$){$===void 0&&($=_.now),this.schedulerActionCtor=a,this.now=$}return _.prototype.schedule=function(a,$,j){return $===void 0&&($=0),new this.schedulerActionCtor(this,a).schedule(j,$)},_.now=dateTimestampProvider.now,_}(),AsyncScheduler=function(_){__extends$1(a,_);function a($,j){j===void 0&&(j=Scheduler.now);var et=_.call(this,$,j)||this;return et.actions=[],et._active=!1,et}return a.prototype.flush=function($){var j=this.actions;if(this._active){j.push($);return}var et;this._active=!0;do if(et=$.execute($.state,$.delay))break;while($=j.shift());if(this._active=!1,et){for(;$=j.shift();)$.unsubscribe();throw et}},a}(Scheduler),asyncScheduler=new AsyncScheduler(AsyncAction),async=asyncScheduler,EMPTY=new Observable(function(_){return _.complete()});function isScheduler(_){return _&&isFunction(_.schedule)}function last(_){return _[_.length-1]}function popResultSelector(_){return isFunction(last(_))?_.pop():void 0}function popScheduler(_){return isScheduler(last(_))?_.pop():void 0}var isArrayLike=function(_){return _&&typeof _.length=="number"&&typeof _!="function"};function isPromise$1(_){return isFunction(_==null?void 0:_.then)}function isInteropObservable(_){return isFunction(_[observable])}function isAsyncIterable(_){return Symbol.asyncIterator&&isFunction(_==null?void 0:_[Symbol.asyncIterator])}function createInvalidObservableTypeError(_){return new TypeError("You provided "+(_!==null&&typeof _=="object"?"an invalid object":"'"+_+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function getSymbolIterator(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var iterator=getSymbolIterator();function isIterable(_){return isFunction(_==null?void 0:_[iterator])}function readableStreamLikeToAsyncGenerator(_){return __asyncGenerator(this,arguments,function(){var $,j,et,tt;return __generator(this,function(rt){switch(rt.label){case 0:$=_.getReader(),rt.label=1;case 1:rt.trys.push([1,,9,10]),rt.label=2;case 2:return[4,__await($.read())];case 3:return j=rt.sent(),et=j.value,tt=j.done,tt?[4,__await(void 0)]:[3,5];case 4:return[2,rt.sent()];case 5:return[4,__await(et)];case 6:return[4,rt.sent()];case 7:return rt.sent(),[3,2];case 8:return[3,10];case 9:return $.releaseLock(),[7];case 10:return[2]}})})}function isReadableStreamLike(_){return isFunction(_==null?void 0:_.getReader)}function innerFrom(_){if(_ instanceof Observable)return _;if(_!=null){if(isInteropObservable(_))return fromInteropObservable(_);if(isArrayLike(_))return fromArrayLike(_);if(isPromise$1(_))return fromPromise(_);if(isAsyncIterable(_))return fromAsyncIterable(_);if(isIterable(_))return fromIterable(_);if(isReadableStreamLike(_))return fromReadableStreamLike(_)}throw createInvalidObservableTypeError(_)}function fromInteropObservable(_){return new Observable(function(a){var $=_[observable]();if(isFunction($.subscribe))return $.subscribe(a);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function fromArrayLike(_){return new Observable(function(a){for(var $=0;$<_.length&&!a.closed;$++)a.next(_[$]);a.complete()})}function fromPromise(_){return new Observable(function(a){_.then(function($){a.closed||(a.next($),a.complete())},function($){return a.error($)}).then(null,reportUnhandledError)})}function fromIterable(_){return new Observable(function(a){var $,j;try{for(var et=__values(_),tt=et.next();!tt.done;tt=et.next()){var rt=tt.value;if(a.next(rt),a.closed)return}}catch(nt){$={error:nt}}finally{try{tt&&!tt.done&&(j=et.return)&&j.call(et)}finally{if($)throw $.error}}a.complete()})}function fromAsyncIterable(_){return new Observable(function(a){process(_,a).catch(function($){return a.error($)})})}function fromReadableStreamLike(_){return fromAsyncIterable(readableStreamLikeToAsyncGenerator(_))}function process(_,a){var $,j,et,tt;return __awaiter$8(this,void 0,void 0,function(){var rt,nt;return __generator(this,function(it){switch(it.label){case 0:it.trys.push([0,5,6,11]),$=__asyncValues(_),it.label=1;case 1:return[4,$.next()];case 2:if(j=it.sent(),!!j.done)return[3,4];if(rt=j.value,a.next(rt),a.closed)return[2];it.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return nt=it.sent(),et={error:nt},[3,11];case 6:return it.trys.push([6,,9,10]),j&&!j.done&&(tt=$.return)?[4,tt.call($)]:[3,8];case 7:it.sent(),it.label=8;case 8:return[3,10];case 9:if(et)throw et.error;return[7];case 10:return[7];case 11:return a.complete(),[2]}})})}function executeSchedule(_,a,$,j,et){j===void 0&&(j=0),et===void 0&&(et=!1);var tt=a.schedule(function(){$(),et?_.add(this.schedule(null,j)):this.unsubscribe()},j);if(_.add(tt),!et)return tt}function observeOn(_,a){return a===void 0&&(a=0),operate(function($,j){$.subscribe(createOperatorSubscriber(j,function(et){return executeSchedule(j,_,function(){return j.next(et)},a)},function(){return executeSchedule(j,_,function(){return j.complete()},a)},function(et){return executeSchedule(j,_,function(){return j.error(et)},a)}))})}function subscribeOn(_,a){return a===void 0&&(a=0),operate(function($,j){j.add(_.schedule(function(){return $.subscribe(j)},a))})}function scheduleObservable(_,a){return innerFrom(_).pipe(subscribeOn(a),observeOn(a))}function schedulePromise(_,a){return innerFrom(_).pipe(subscribeOn(a),observeOn(a))}function scheduleArray(_,a){return new Observable(function($){var j=0;return a.schedule(function(){j===_.length?$.complete():($.next(_[j++]),$.closed||this.schedule())})})}function scheduleIterable(_,a){return new Observable(function($){var j;return executeSchedule($,a,function(){j=_[iterator](),executeSchedule($,a,function(){var et,tt,rt;try{et=j.next(),tt=et.value,rt=et.done}catch(nt){$.error(nt);return}rt?$.complete():$.next(tt)},0,!0)}),function(){return isFunction(j==null?void 0:j.return)&&j.return()}})}function scheduleAsyncIterable(_,a){if(!_)throw new Error("Iterable cannot be null");return new Observable(function($){executeSchedule($,a,function(){var j=_[Symbol.asyncIterator]();executeSchedule($,a,function(){j.next().then(function(et){et.done?$.complete():$.next(et.value)})},0,!0)})})}function scheduleReadableStreamLike(_,a){return scheduleAsyncIterable(readableStreamLikeToAsyncGenerator(_),a)}function scheduled(_,a){if(_!=null){if(isInteropObservable(_))return scheduleObservable(_,a);if(isArrayLike(_))return scheduleArray(_,a);if(isPromise$1(_))return schedulePromise(_,a);if(isAsyncIterable(_))return scheduleAsyncIterable(_,a);if(isIterable(_))return scheduleIterable(_,a);if(isReadableStreamLike(_))return scheduleReadableStreamLike(_,a)}throw createInvalidObservableTypeError(_)}function from(_,a){return a?scheduled(_,a):innerFrom(_)}function of(){for(var _=[],a=0;a<arguments.length;a++)_[a]=arguments[a];var $=popScheduler(_);return from(_,$)}function throwError(_,a){var $=isFunction(_)?_:function(){return _},j=function(et){return et.error($())};return new Observable(j)}var EmptyError=createErrorClass(function(_){return function(){_(this),this.name="EmptyError",this.message="no elements in sequence"}});function isValidDate(_){return _ instanceof Date&&!isNaN(_)}var TimeoutError=createErrorClass(function(_){return function($){$===void 0&&($=null),_(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=$}});function timeout(_,a){var $=isValidDate(_)?{first:_}:typeof _=="number"?{each:_}:_,j=$.first,et=$.each,tt=$.with,rt=tt===void 0?timeoutErrorFactory:tt,nt=$.scheduler,it=nt===void 0?asyncScheduler:nt,ot=$.meta,st=ot===void 0?null:ot;if(j==null&&et==null)throw new TypeError("No timeout provided.");return operate(function(ct,ut){var ht,Et,St=null,Mt=0,kt=function(Ct){Et=executeSchedule(ut,it,function(){try{ht.unsubscribe(),innerFrom(rt({meta:st,lastValue:St,seen:Mt})).subscribe(ut)}catch(Ot){ut.error(Ot)}},Ct)};ht=ct.subscribe(createOperatorSubscriber(ut,function(Ct){Et==null||Et.unsubscribe(),Mt++,ut.next(St=Ct),et>0&&kt(et)},void 0,void 0,function(){Et!=null&&Et.closed||Et==null||Et.unsubscribe(),St=null})),!Mt&&kt(j!=null?typeof j=="number"?j:+j-it.now():et)})}function timeoutErrorFactory(_){throw new TimeoutError(_)}function map$1(_,a){return operate(function($,j){var et=0;$.subscribe(createOperatorSubscriber(j,function(tt){j.next(_.call(a,tt,et++))}))})}var isArray$2=Array.isArray;function callOrApply(_,a){return isArray$2(a)?_.apply(void 0,__spreadArray([],__read(a))):_(a)}function mapOneOrManyArgs(_){return map$1(function(a){return callOrApply(_,a)})}var isArray$1=Array.isArray,getPrototypeOf=Object.getPrototypeOf,objectProto=Object.prototype,getKeys$1=Object.keys;function argsArgArrayOrObject(_){if(_.length===1){var a=_[0];if(isArray$1(a))return{args:a,keys:null};if(isPOJO(a)){var $=getKeys$1(a);return{args:$.map(function(j){return a[j]}),keys:$}}}return{args:_,keys:null}}function isPOJO(_){return _&&typeof _=="object"&&getPrototypeOf(_)===objectProto}function createObject(_,a){return _.reduce(function($,j,et){return $[j]=a[et],$},{})}function combineLatest(){for(var _=[],a=0;a<arguments.length;a++)_[a]=arguments[a];var $=popScheduler(_),j=popResultSelector(_),et=argsArgArrayOrObject(_),tt=et.args,rt=et.keys;if(tt.length===0)return from([],$);var nt=new Observable(combineLatestInit(tt,$,rt?function(it){return createObject(rt,it)}:identity));return j?nt.pipe(mapOneOrManyArgs(j)):nt}function combineLatestInit(_,a,$){return $===void 0&&($=identity),function(j){maybeSchedule(a,function(){for(var et=_.length,tt=new Array(et),rt=et,nt=et,it=function(st){maybeSchedule(a,function(){var ct=from(_[st],a),ut=!1;ct.subscribe(createOperatorSubscriber(j,function(ht){tt[st]=ht,ut||(ut=!0,nt--),nt||j.next($(tt.slice()))},function(){--rt||j.complete()}))},j)},ot=0;ot<et;ot++)it(ot)},j)}}function maybeSchedule(_,a,$){_?executeSchedule($,_,a):a()}function mergeInternals(_,a,$,j,et,tt,rt,nt){var it=[],ot=0,st=0,ct=!1,ut=function(){ct&&!it.length&&!ot&&a.complete()},ht=function(St){return ot<j?Et(St):it.push(St)},Et=function(St){ot++;var Mt=!1;innerFrom($(St,st++)).subscribe(createOperatorSubscriber(a,function(kt){a.next(kt)},function(){Mt=!0},void 0,function(){if(Mt)try{ot--;for(var kt=function(){var Ct=it.shift();rt||Et(Ct)};it.length&&ot<j;)kt();ut()}catch(Ct){a.error(Ct)}}))};return _.subscribe(createOperatorSubscriber(a,ht,function(){ct=!0,ut()})),function(){}}function mergeMap(_,a,$){return $===void 0&&($=1/0),isFunction(a)?mergeMap(function(j,et){return map$1(function(tt,rt){return a(j,tt,et,rt)})(innerFrom(_(j,et)))},$):(typeof a=="number"&&($=a),operate(function(j,et){return mergeInternals(j,et,_,$)}))}function mergeAll(_){return mergeMap(identity,_)}function concatAll(){return mergeAll(1)}function concat(){for(var _=[],a=0;a<arguments.length;a++)_[a]=arguments[a];return concatAll()(from(_,popScheduler(_)))}function defer(_){return new Observable(function(a){innerFrom(_()).subscribe(a)})}function timer(_,a,$){_===void 0&&(_=0),$===void 0&&($=async);var j=-1;return a!=null&&(isScheduler(a)?$=a:j=a),new Observable(function(et){var tt=isValidDate(_)?+_-$.now():_;tt<0&&(tt=0);var rt=0;return $.schedule(function(){et.closed||(et.next(rt++),0<=j?this.schedule(void 0,j):et.complete())},tt)})}var NEVER=new Observable(noop$3);function filter(_,a){return operate(function($,j){var et=0;$.subscribe(createOperatorSubscriber(j,function(tt){return _.call(a,tt,et++)&&j.next(tt)}))})}function range(_,a,$){if(a==null&&(a=_,_=0),a<=0)return EMPTY;var j=a+_;return new Observable(function(et){for(var tt=_;tt<j&&!et.closed;)et.next(tt++);et.complete()})}function catchError(_){return operate(function(a,$){var j=null,et=!1,tt;j=a.subscribe(createOperatorSubscriber($,void 0,void 0,function(rt){tt=innerFrom(_(rt,catchError(_)(a))),j?(j.unsubscribe(),j=null,tt.subscribe($)):et=!0})),et&&(j.unsubscribe(),j=null,tt.subscribe($))})}function concatMap(_,a){return isFunction(a)?mergeMap(_,a,1):mergeMap(_,1)}function fromSubscribable(_){return new Observable(function(a){return _.subscribe(a)})}var DEFAULT_CONFIG={connector:function(){return new Subject}};function connect(_,a){a===void 0&&(a=DEFAULT_CONFIG);var $=a.connector;return operate(function(j,et){var tt=$();innerFrom(_(fromSubscribable(tt))).subscribe(et),et.add(j.subscribe(tt))})}function defaultIfEmpty(_){return operate(function(a,$){var j=!1;a.subscribe(createOperatorSubscriber($,function(et){j=!0,$.next(et)},function(){j||$.next(_),$.complete()}))})}function take(_){return _<=0?function(){return EMPTY}:operate(function(a,$){var j=0;a.subscribe(createOperatorSubscriber($,function(et){++j<=_&&($.next(et),_<=j&&$.complete())}))})}function distinctUntilChanged(_,a){return a===void 0&&(a=identity),_=_??defaultCompare,operate(function($,j){var et,tt=!0;$.subscribe(createOperatorSubscriber(j,function(rt){var nt=a(rt);(tt||!_(et,nt))&&(tt=!1,et=nt,j.next(rt))}))})}function defaultCompare(_,a){return _===a}function distinctUntilKeyChanged(_,a){return distinctUntilChanged(function($,j){return $[_]===j[_]})}function throwIfEmpty(_){return _===void 0&&(_=defaultErrorFactory),operate(function(a,$){var j=!1;a.subscribe(createOperatorSubscriber($,function(et){j=!0,$.next(et)},function(){return j?$.complete():$.error(_())}))})}function defaultErrorFactory(){return new EmptyError}function endWith(){for(var _=[],a=0;a<arguments.length;a++)_[a]=arguments[a];return function($){return concat($,of.apply(void 0,__spreadArray([],__read(_))))}}function first(_,a){var $=arguments.length>=2;return function(j){return j.pipe(identity,take(1),$?defaultIfEmpty(a):throwIfEmpty(function(){return new EmptyError}))}}function multicast(_,a){var $=isFunction(_)?_:function(){return _};return isFunction(a)?connect(a,{connector:$}):function(j){return new ConnectableObservable(j,$)}}function pluck(){for(var _=[],a=0;a<arguments.length;a++)_[a]=arguments[a];var $=_.length;if($===0)throw new Error("list of properties cannot be empty.");return map$1(function(j){for(var et=j,tt=0;tt<$;tt++){var rt=et==null?void 0:et[_[tt]];if(typeof rt<"u")et=rt;else return}return et})}function publish(_){return _?function(a){return connect(_)(a)}:function(a){return multicast(new Subject)(a)}}function retry(_){_===void 0&&(_=1/0);var a;_&&typeof _=="object"?a=_:a={count:_};var $=a.count,j=$===void 0?1/0:$,et=a.delay,tt=a.resetOnSuccess,rt=tt===void 0?!1:tt;return j<=0?identity:operate(function(nt,it){var ot=0,st,ct=function(){var ut=!1;st=nt.subscribe(createOperatorSubscriber(it,function(ht){rt&&(ot=0),it.next(ht)},void 0,function(ht){if(ot++<j){var Et=function(){st?(st.unsubscribe(),st=null,ct()):ut=!0};if(et!=null){var St=typeof et=="number"?timer(et):innerFrom(et(ht,ot)),Mt=createOperatorSubscriber(it,function(){Mt.unsubscribe(),Et()},function(){it.complete()});St.subscribe(Mt)}else Et()}else it.error(ht)})),ut&&(st.unsubscribe(),st=null,ct())};ct()})}function share(_){_===void 0&&(_={});var a=_.connector,$=a===void 0?function(){return new Subject}:a,j=_.resetOnError,et=j===void 0?!0:j,tt=_.resetOnComplete,rt=tt===void 0?!0:tt,nt=_.resetOnRefCountZero,it=nt===void 0?!0:nt;return function(ot){var st,ct,ut,ht=0,Et=!1,St=!1,Mt=function(){ct==null||ct.unsubscribe(),ct=void 0},kt=function(){Mt(),st=ut=void 0,Et=St=!1},Ct=function(){var Ot=st;kt(),Ot==null||Ot.unsubscribe()};return operate(function(Ot,zt){ht++,!St&&!Et&&Mt();var Ut=ut=ut??$();zt.add(function(){ht--,ht===0&&!St&&!Et&&(ct=handleReset(Ct,it))}),Ut.subscribe(zt),!st&&ht>0&&(st=new SafeSubscriber({next:function(Vt){return Ut.next(Vt)},error:function(Vt){St=!0,Mt(),ct=handleReset(kt,et,Vt),Ut.error(Vt)},complete:function(){Et=!0,Mt(),ct=handleReset(kt,rt),Ut.complete()}}),innerFrom(Ot).subscribe(st))})(ot)}}function handleReset(_,a){for(var $=[],j=2;j<arguments.length;j++)$[j-2]=arguments[j];if(a===!0){_();return}if(a!==!1){var et=new SafeSubscriber({next:function(){et.unsubscribe(),_()}});return innerFrom(a.apply(void 0,__spreadArray([],__read($)))).subscribe(et)}}function shareReplay(_,a,$){var j,et,tt,rt,nt=!1;return _&&typeof _=="object"?(j=_.bufferSize,rt=j===void 0?1/0:j,et=_.windowTime,a=et===void 0?1/0:et,tt=_.refCount,nt=tt===void 0?!1:tt,$=_.scheduler):rt=_??1/0,share({connector:function(){return new ReplaySubject(rt,a,$)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:nt})}function startWith(){for(var _=[],a=0;a<arguments.length;a++)_[a]=arguments[a];var $=popScheduler(_);return operate(function(j,et){($?concat(_,j,$):concat(_,j)).subscribe(et)})}function switchMap(_,a){return operate(function($,j){var et=null,tt=0,rt=!1,nt=function(){return rt&&!et&&j.complete()};$.subscribe(createOperatorSubscriber(j,function(it){et==null||et.unsubscribe();var ot=0,st=tt++;innerFrom(_(it,st)).subscribe(et=createOperatorSubscriber(j,function(ct){return j.next(a?a(it,ct,st,ot++):ct)},function(){et=null,nt()}))},function(){rt=!0,nt()}))})}function takeUntil(_){return operate(function(a,$){innerFrom(_).subscribe(createOperatorSubscriber($,function(){return $.complete()},noop$3)),!$.closed&&a.subscribe($)})}function takeWhile(_,a){return operate(function($,j){var et=0;$.subscribe(createOperatorSubscriber(j,function(tt){var rt=_(tt,et++);(rt||a)&&j.next(tt),!rt&&j.complete()}))})}function tap(_,a,$){var j=isFunction(_)||a||$?{next:_,error:a,complete:$}:_;return j?operate(function(et,tt){var rt;(rt=j.subscribe)===null||rt===void 0||rt.call(j);var nt=!0;et.subscribe(createOperatorSubscriber(tt,function(it){var ot;(ot=j.next)===null||ot===void 0||ot.call(j,it),tt.next(it)},function(){var it;nt=!1,(it=j.complete)===null||it===void 0||it.call(j),tt.complete()},function(it){var ot;nt=!1,(ot=j.error)===null||ot===void 0||ot.call(j,it),tt.error(it)},function(){var it,ot;nt&&((it=j.unsubscribe)===null||it===void 0||it.call(j)),(ot=j.finalize)===null||ot===void 0||ot.call(j)}))}):identity}var fastJsonStableStringify=function(_,a){a||(a={}),typeof a=="function"&&(a={cmp:a});var $=typeof a.cycles=="boolean"?a.cycles:!1,j=a.cmp&&function(tt){return function(rt){return function(nt,it){var ot={key:nt,value:rt[nt]},st={key:it,value:rt[it]};return tt(ot,st)}}}(a.cmp),et=[];return function tt(rt){if(rt&&rt.toJSON&&typeof rt.toJSON=="function"&&(rt=rt.toJSON()),rt!==void 0){if(typeof rt=="number")return isFinite(rt)?""+rt:"null";if(typeof rt!="object")return JSON.stringify(rt);var nt,it;if(Array.isArray(rt)){for(it="[",nt=0;nt<rt.length;nt++)nt&&(it+=","),it+=tt(rt[nt])||"null";return it+"]"}if(rt===null)return"null";if(et.indexOf(rt)!==-1){if($)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var ot=et.push(rt)-1,st=Object.keys(rt).sort(j&&j(rt));for(it="",nt=0;nt<st.length;nt++){var ct=st[nt],ut=tt(rt[ct]);ut&&(it&&(it+=","),it+=JSON.stringify(ct)+":"+ut)}return et.splice(ot,1),"{"+it+"}"}}(_)};const stringify$2=getDefaultExportFromCjs$1(fastJsonStableStringify);var _a$1;class InvalidMapTypeError extends TaquitoError{constructor(a,$){super(),this.mapType=a,this.reason=$,this.message=`The map type '${JSON.stringify(a)}' is invalid. Reason: ${$}.`,this.name="InvalidMapTypeError"}}const michelsonMapTypeSymbol=Symbol.for("taquito-michelson-map-type-symbol");function validateMapType(_){if(!("prim"in _))throw new InvalidMapTypeError(_,"Missing 'prim' field");if(!["map","big_map"].includes(_.prim))throw new InvalidMapTypeError(_,"The prim field should be 'map' or 'big_map'");if(!("args"in _))throw new InvalidMapTypeError(_,"Missing 'args' field");if(!Array.isArray(_.args))throw new InvalidMapTypeError(_,"The 'args' field should be an array");if(_.args.length!==2)throw new InvalidMapTypeError(_,"The 'args' field should have 2 elements")}class MapTypecheckError extends TaquitoError{constructor(a,$,j,et){super(),this.value=a,this.type=$,this.reason=et,this.name="MapTypecheckError",this.message=`The ${j} provided: ${JSON.stringify(a)} is not compatible with the expected michelson type: ${JSON.stringify($)}. Reason: ${JSON.stringify(et)}.`,this.name="MapTypecheckError"}}class MichelsonMap{static isMichelsonMap(a){return a&&a[michelsonMapTypeSymbol]===!0}constructor(a){this.valueMap=new Map,this.keyMap=new Map,this[_a$1]=!0,a&&this.setType(a)}setType(a){validateMapType(a),this.keySchema=new Schema(a.args[0]),this.valueSchema=new Schema(a.args[1])}removeType(){this.keySchema=void 0,this.valueSchema=void 0}static fromLiteral(a,$){const j=new MichelsonMap($);return Object.keys(a).forEach(et=>{j.set(et,a[et])}),j}typecheckKey(a){this.keySchema&&this.keySchema.Typecheck(a)}typecheckValue(a){this.valueSchema&&this.valueSchema.Typecheck(a)}assertTypecheckValue(a){try{this.typecheckValue(a)}catch($){throw new MapTypecheckError(a,this.valueSchema,"value",$)}}assertTypecheckKey(a){try{this.typecheckKey(a)}catch($){throw new MapTypecheckError(a,this.keySchema,"key",$)}}serializeDeterministically(a){return stringify$2(a)}*keys(){for(const[a]of this.entries())yield a}*values(){for(const[,a]of this.entries())yield a}*entries(){for(const a of this.valueMap.keys())yield[this.keyMap.get(a),this.valueMap.get(a)]}get(a){this.assertTypecheckKey(a);const $=this.serializeDeterministically(a);return this.valueMap.get($)}set(a,$){this.assertTypecheckKey(a),this.assertTypecheckValue($);const j=this.serializeDeterministically(a);this.keyMap.set(j,a),this.valueMap.set(j,$)}delete(a){this.assertTypecheckKey(a),this.keyMap.delete(this.serializeDeterministically(a)),this.valueMap.delete(this.serializeDeterministically(a))}has(a){this.assertTypecheckKey(a);const $=this.serializeDeterministically(a);return this.keyMap.has($)&&this.valueMap.has($)}clear(){this.keyMap.clear(),this.valueMap.clear()}get size(){return this.keyMap.size}forEach(a){for(const[$,j]of this.entries())a(j,$,this)}}_a$1=michelsonMapTypeSymbol;class TokenValidationError extends TaquitoError{constructor(a,$,j){super(),this.value=a,this.token=$,this.name="TokenValidationError";const et=this.token.annot(),tt=et?`[${et}] `:"";this.message=`${tt}${j}`}}class Token{constructor(a,$,j){this.val=a,this.idx=$,this.fac=j,this.createToken=this.fac}typeWithoutAnnotations(){const a=j=>{if(typeof j=="object"){if(Array.isArray(j))return j.map(rt=>a(rt));const et=j;return et.args?{prim:et.prim,args:et.args.map(tt=>a(tt))}:{prim:et.prim}}return j};return(j=>j.args?{prim:j.prim,args:j.args.map(et=>a(et))}:{prim:j.prim})(this.val)}annot(){return(Array.isArray(this.val.annots)&&this.val.annots.length>0?this.val.annots[0]:String(this.idx)).replace(/(%|:)(_Liq_entry_)?/,"")}hasAnnotations(){return Array.isArray(this.val.annots)&&this.val.annots.length}get tokenVal(){return this.val}ExtractSignature(){return[[this.ExtractSchema()]]}}class ComparableToken extends Token{compare(a,$){return a===$?0:a<$?-1:1}}class BigMapValidationError extends TokenValidationError{constructor(a,$,j){super(a,$,j),this.value=a,this.token=$,this.name="BigMapValidationError"}}class BigMapToken extends Token{constructor(a,$,j){super(a,$,j),this.val=a,this.idx=$,this.fac=j}get ValueSchema(){return this.createToken(this.val.args[1],0)}get KeySchema(){return this.createToken(this.val.args[0],0)}ExtractSchema(){return{big_map:{key:this.KeySchema.ExtractSchema(),value:this.ValueSchema.ExtractSchema()}}}generateSchema(){return{__michelsonType:BigMapToken.prim,schema:{key:this.KeySchema.generateSchema(),value:this.ValueSchema.generateSchema()}}}validate(a){if(!MichelsonMap.isMichelsonMap(a))throw new BigMapValidationError(a,this,`Value ${JSON.stringify(a)} is not a MichelsonMap`)}objLitToMichelsonMap(a){return a instanceof MichelsonMap?a:typeof a=="object"?Object.keys(a).length===0?new MichelsonMap:MichelsonMap.fromLiteral(a):a}Encode(a){const $=this.objLitToMichelsonMap(a.pop());return this.validate($),Array.from($.keys()).sort((j,et)=>this.KeySchema.compare(j,et)).map(j=>({prim:"Elt",args:[this.KeySchema.EncodeObject(j),this.ValueSchema.EncodeObject($.get(j))]}))}EncodeObject(a,$){const j=this.objLitToMichelsonMap(a);return this.validate(j),$&&$[BigMapToken.prim]?$[BigMapToken.prim](j,this.val):Array.from(j.keys()).sort((et,tt)=>this.KeySchema.compare(et,tt)).map(et=>({prim:"Elt",args:[this.KeySchema.EncodeObject(et),this.ValueSchema.EncodeObject(j.get(et))]}))}Execute(a,$){if($&&$[BigMapToken.prim])return $[BigMapToken.prim](a,this.val);if(Array.isArray(a)){const j=new MichelsonMap(this.val);return a.forEach(et=>{j.set(this.KeySchema.ToKey(et.args[0]),this.ValueSchema.Execute(et.args[1]))}),j}else{if("int"in a)return a.int;throw new BigMapValidationError(a,this,`Big map is expecting either an array (Athens) or an object with an int property (Babylon). Got ${JSON.stringify(a)}`)}}findAndReturnTokens(a,$){return BigMapToken.prim===a&&$.push(this),this.KeySchema.findAndReturnTokens(a,$),this.ValueSchema.findAndReturnTokens(a,$),$}}BigMapToken.prim="big_map";class OrValidationError extends TokenValidationError{constructor(a,$,j){super(a,$,j),this.value=a,this.token=$,this.name="OrValidationError"}}class OrToken extends ComparableToken{constructor(a,$,j){super(a,$,j),this.val=a,this.idx=$,this.fac=j}Encode(a){const $=a[a.length-1],j=this.createToken(this.val.args[0],this.idx);let et=1;j instanceof OrToken&&(et=Object.keys(j.ExtractSchema()).length);const tt=this.createToken(this.val.args[1],this.idx+et);if(String(j.annot())===String($)&&!(j instanceof OrToken))return a.pop(),{prim:"Left",args:[j.Encode(a)]};if(String(tt.annot())===String($)&&!(tt instanceof OrToken))return a.pop(),{prim:"Right",args:[tt.Encode(a)]};if(j instanceof OrToken){const rt=j.Encode(a);if(rt)return{prim:"Left",args:[rt]}}if(tt instanceof OrToken){const rt=tt.Encode(a);if(rt)return{prim:"Right",args:[rt]}}return null}ExtractSignature(){const a=this.createToken(this.val.args[0],this.idx);let $=1;a instanceof OrToken&&($=Object.keys(a.ExtractSchema()).length);const j=this.createToken(this.val.args[1],this.idx+$),et=[];if(a instanceof OrToken)et.push(...a.ExtractSignature());else for(const tt of a.ExtractSignature())et.push([a.annot(),...tt]);if(j instanceof OrToken)et.push(...j.ExtractSignature());else for(const tt of j.ExtractSignature())et.push([j.annot(),...tt]);return et}EncodeObject(a,$){this.validateJavascriptObject(a);const j=Object.keys(a)[0],et=this.createToken(this.val.args[0],this.idx);let tt=1;et instanceof OrToken&&(tt=Object.keys(et.ExtractSchema()).length);const rt=this.createToken(this.val.args[1],this.idx+tt);if(String(et.annot())===String(j)&&!(et instanceof OrToken))return{prim:"Left",args:[et.EncodeObject(a[j],$)]};if(String(rt.annot())===String(j)&&!(rt instanceof OrToken))return{prim:"Right",args:[rt.EncodeObject(a[j],$)]};if(et instanceof OrToken){const nt=et.EncodeObject(a,$);if(nt)return{prim:"Left",args:[nt]}}if(rt instanceof OrToken){const nt=rt.EncodeObject(a,$);if(nt)return{prim:"Right",args:[nt]}}return null}validateJavascriptObject(a){if(typeof a!="object"||Array.isArray(a)||a===null||Object.keys(a).length!==1)throw new OrValidationError(a,this,`EncodeObject expects an object with a single key but got: ${JSON.stringify(a)}`)}Execute(a,$){const j=this.createToken(this.val.args[0],this.idx);let et=1;j instanceof OrToken&&(et=Object.keys(j.ExtractSchema()).length);const tt=this.createToken(this.val.args[1],this.idx+et);if(a.prim==="Right")return tt instanceof OrToken?tt.Execute(a.args[0],$):{[tt.annot()]:tt.Execute(a.args[0],$)};if(a.prim==="Left")return j instanceof OrToken?j.Execute(a.args[0],$):{[j.annot()]:j.Execute(a.args[0],$)};throw new OrValidationError(a,this,`Was expecting Left or Right prim but got: ${JSON.stringify(a.prim)}`)}traversal(a,$,j){const et=this.createToken(this.val.args[0],this.idx);let tt=1,rt;et instanceof OrToken?(rt=a(et),tt=Object.keys(et.ExtractSchema()).length):rt={[et.annot()]:a(et)};const nt=this.createToken(this.val.args[1],this.idx+tt);let it;return nt instanceof OrToken?it=$(nt):it={[nt.annot()]:$(nt)},j(rt,it)}ExtractSchema(){return this.traversal(a=>a.ExtractSchema(),a=>a.ExtractSchema(),(a,$)=>Object.assign(Object.assign({},a),$))}generateSchema(){return{__michelsonType:OrToken.prim,schema:this.traversal(a=>a instanceof OrToken?a.generateSchema().schema:a.generateSchema(),a=>a instanceof OrToken?a.generateSchema().schema:a.generateSchema(),(a,$)=>Object.assign(Object.assign({},a),$))}}findToken(a){const $=this.createToken(this.val.args[0],this.idx);let j=1;$ instanceof OrToken&&(j=Object.keys($.ExtractSchema()).length);const et=this.createToken(this.val.args[1],this.idx+j);if(String($.annot())===String(a)&&!($ instanceof OrToken)&&$ instanceof ComparableToken)return $;if(String(et.annot())===String(a)&&!(et instanceof OrToken)&&et instanceof ComparableToken)return et;if($ instanceof OrToken){const tt=$.findToken(a);if(tt)return tt}if(et instanceof OrToken){const tt=et.findToken(a);if(tt)return tt}return null}compare(a,$){const j=Object.keys(a)[0],et=Object.keys($)[0];if(j===et){const tt=this.findToken(j);if(tt instanceof ComparableToken)return tt.compare(a[j],$[j])}else{const tt=JSON.stringify(this.EncodeObject(a)),rt=JSON.stringify(this.EncodeObject($));return tt<rt?-1:1}}ToKey(a){return this.Execute(a)}ToBigMapKey(a){return{key:this.EncodeObject(a),type:this.typeWithoutAnnotations()}}findAndReturnTokens(a,$){return OrToken.prim===a&&$.push(this),this.traversal(j=>j.findAndReturnTokens(a,$),j=>j.findAndReturnTokens(a,$),(j,et)=>Object.assign(Object.assign({},j),et)),$}}OrToken.prim="or";class TokenArgumentValidationError extends TaquitoError{constructor(a){super(a),this.message=a,this.name="TokenArgumentValidationError"}}class TokenComparisonError extends TaquitoError{constructor(a,$){super(),this.val1=a,this.val2=$,this.name="TokenComparisonError",this.message=`Tokens ${JSON.stringify(a)} and ${JSON.stringify($)} are not comparable`}}function collapse$1(_,a=PairToken.prim){if(Array.isArray(_))return collapse$1({prim:a,args:_},a);if(_.args===void 0)throw new TokenArgumentValidationError(`The value ${JSON.stringify(_)} is an invalid PairToken with no arguments, a pair must have two or more arguments.`);return _.args.length>2?[_.args[0],{prim:a,args:_.args.slice(1)}]:[_.args[0],_.args[1]]}class PairToken extends ComparableToken{constructor(a,$,j){super(Array.isArray(a)?{prim:PairToken.prim,args:a}:a.prim?a:{prim:PairToken.prim,args:a},$,j)}args(){return collapse$1(this.val)}tokens(){let a=0;return this.args().map($=>{const j=this.createToken($,this.idx+a);return j instanceof PairToken?a+=Object.keys(j.ExtractSchema()).length:a++,j})}Encode(a){return{prim:"Pair",args:this.tokens().map($=>$.Encode(a))}}ExtractSignature(){const a=this.args(),$=this.createToken(a[0],this.idx);let j=1;$ instanceof OrToken&&(j=Object.keys($.ExtractSchema()).length);const et=this.createToken(a[1],this.idx+j),tt=[];for(const rt of $.ExtractSignature())for(const nt of et.ExtractSignature())tt.push([...rt,...nt]);return tt}ToBigMapKey(a){return{key:this.EncodeObject(a),type:this.typeWithoutAnnotations()}}ToKey(a){return this.Execute(a)}EncodeObject(a,$){const[j,et]=this.tokens();let tt;j instanceof PairToken&&!j.hasAnnotations()?tt=a:tt=a[j.annot()];let rt;return et instanceof PairToken&&!et.hasAnnotations()?rt=a:rt=a[et.annot()],{prim:"Pair",args:[j.EncodeObject(tt,$),et.EncodeObject(rt,$)]}}traversal(a,$){const j=this.args(),et=this.createToken(j[0],this.idx);let tt=1,rt;et instanceof PairToken&&!et.hasAnnotations()?(rt=a(et),et instanceof PairToken&&(tt=Object.keys(et.ExtractSchema()).length)):rt={[et.annot()]:a(et)};const nt=this.createToken(j[1],this.idx+tt);let it;return nt instanceof PairToken&&!nt.hasAnnotations()?it=$(nt):it={[nt.annot()]:$(nt)},Object.assign(Object.assign({},rt),it)}Execute(a,$){const j=collapse$1(a,"Pair");return this.traversal(et=>et.Execute(j[0],$),et=>et.Execute(j[1],$))}ExtractSchema(){return this.traversal(a=>a.ExtractSchema(),a=>a.ExtractSchema())}generateSchema(){return{__michelsonType:PairToken.prim,schema:this.traversal(a=>a instanceof PairToken&&!a.hasAnnotations()?a.generateSchema().schema:a.generateSchema(),a=>a instanceof PairToken&&!a.hasAnnotations()?a.generateSchema().schema:a.generateSchema())}}compare(a,$){const[j,et]=this.tokens(),tt=(rt,nt)=>rt instanceof PairToken&&!rt.hasAnnotations()?nt:nt[rt.annot()];if(j instanceof ComparableToken&&et instanceof ComparableToken){const rt=j.compare(tt(j,a),tt(j,$));return rt===0?et.compare(tt(et,a),tt(et,$)):rt}throw new TokenComparisonError(a,$)}findAndReturnTokens(a,$){return PairToken.prim===a&&$.push(this),this.tokens().map(j=>j.findAndReturnTokens(a,$)),$}}PairToken.prim="pair";class NatValidationError extends TokenValidationError{constructor(a,$,j){super(a,$,j),this.value=a,this.token=$,this.name="NatValidationError"}}class NatToken extends ComparableToken{constructor(a,$,j){super(a,$,j),this.val=a,this.idx=$,this.fac=j}Execute(a){return new BigNumber(a[Object.keys(a)[0]])}Encode(a){const $=a.pop();return this.validate($),{int:new BigNumber($).toFixed()}}validate(a){const $=new BigNumber(a);if($.isNaN())throw new NatValidationError(a,this,`Value is not a number: ${JSON.stringify(a)}`);if($.isNegative())throw new NatValidationError(a,this,`Value cannot be negative: ${JSON.stringify(a)}`)}EncodeObject(a,$){return this.validate(a),$&&$[NatToken.prim]?$[NatToken.prim](a):{int:new BigNumber(a).toFixed()}}ExtractSchema(){return NatToken.prim}generateSchema(){return{__michelsonType:NatToken.prim,schema:NatToken.prim}}ToBigMapKey(a){return{key:{int:String(a)},type:{prim:NatToken.prim}}}ToKey({int:a}){return new BigNumber(a)}compare(a,$){const j=Number(a),et=Number($);return j===et?0:j<et?-1:1}findAndReturnTokens(a,$){return NatToken.prim===a&&$.push(this),$}}NatToken.prim="nat";class StringToken extends ComparableToken{constructor(a,$,j){super(a,$,j),this.val=a,this.idx=$,this.fac=j}Execute(a){return a[Object.keys(a)[0]]}ExtractSchema(){return StringToken.prim}generateSchema(){return{__michelsonType:StringToken.prim,schema:StringToken.prim}}Encode(a){return{string:a.pop()}}EncodeObject(a,$){return $&&$[StringToken.prim]?$[StringToken.prim](a):{string:a}}ToKey({string:a}){return a}ToBigMapKey(a){return{key:{string:a},type:{prim:StringToken.prim}}}findAndReturnTokens(a,$){return StringToken.prim===a&&$.push(this),$}}StringToken.prim="string";class AddressValidationError extends TokenValidationError{constructor(a,$,j){super(a,$,j),this.value=a,this.token=$,this.name="AddressValidationError"}}class AddressToken extends ComparableToken{constructor(a,$,j){super(a,$,j),this.val=a,this.idx=$,this.fac=j}ToBigMapKey(a){return{key:{bytes:b58decode(a)},type:{prim:"bytes"}}}validate(a){if(validateAddress(a)!==ValidationResult.VALID)throw new AddressValidationError(a,this,`Address is not valid: ${JSON.stringify(a)}`)}Encode(a){const $=a.pop();return this.validate($),{string:$}}EncodeObject(a,$){return this.validate(a),$&&$[AddressToken.prim]?$[AddressToken.prim](a):{string:a}}Execute(a){if(a.string)return a.string;if(!a.bytes)throw new AddressValidationError(a,this,`cannot be missing both string and bytes: ${JSON.stringify(a)}`);return encodeAddress(a.bytes)}ExtractSchema(){return AddressToken.prim}generateSchema(){return{__michelsonType:AddressToken.prim,schema:AddressToken.prim}}ToKey({bytes:a,string:$}){if($)return $;if(!a)throw new AddressValidationError({bytes:a,string:$},this,`cannot be missing both string and bytes ${JSON.stringify({string:$,bytes:a})}`);return encodeAddress(a)}compare(a,$){const j=rt=>rt.startsWith("tz"),et=j(a),tt=j($);return et&&!tt?-1:tt&&!et?1:super.compare(a,$)}findAndReturnTokens(a,$){return AddressToken.prim===a&&$.push(this),$}}AddressToken.prim="address";class MapValidationError extends TokenValidationError{constructor(a,$,j){super(a,$,j),this.value=a,this.token=$,this.name="MapValidationError"}}class MapToken extends Token{constructor(a,$,j){super(a,$,j),this.val=a,this.idx=$,this.fac=j}get ValueSchema(){return this.createToken(this.val.args[1],0)}get KeySchema(){return this.createToken(this.val.args[0],0)}validate(a){if(!MichelsonMap.isMichelsonMap(a))throw new MapValidationError(a,this,`Value ${JSON.stringify(a)} is not a valid MichelsonMap`)}Execute(a,$){const j=new MichelsonMap(this.val);return a.forEach(et=>{j.set(this.KeySchema.ToKey(et.args[0]),this.ValueSchema.Execute(et.args[1],$))}),j}objLitToMichelsonMap(a){return a instanceof MichelsonMap?a:typeof a=="object"?Object.keys(a).length===0?new MichelsonMap:MichelsonMap.fromLiteral(a):a}Encode(a){const $=this.objLitToMichelsonMap(a.pop());return this.validate($),Array.from($.keys()).sort((j,et)=>this.KeySchema.compare(j,et)).map(j=>({prim:"Elt",args:[this.KeySchema.EncodeObject(j),this.ValueSchema.EncodeObject($.get(j))]}))}EncodeObject(a,$){const j=this.objLitToMichelsonMap(a);return this.validate(j),$&&$[MapToken.prim]?$[MapToken.prim](j):Array.from(j.keys()).sort((et,tt)=>this.KeySchema.compare(et,tt)).map(et=>({prim:"Elt",args:[this.KeySchema.EncodeObject(et),this.ValueSchema.EncodeObject(j.get(et))]}))}ExtractSchema(){return{map:{key:this.KeySchema.ExtractSchema(),value:this.ValueSchema.ExtractSchema()}}}generateSchema(){return{__michelsonType:MapToken.prim,schema:{key:this.KeySchema.generateSchema(),value:this.ValueSchema.generateSchema()}}}findAndReturnTokens(a,$){return MapToken.prim===a&&$.push(this),this.KeySchema.findAndReturnTokens(a,$),this.ValueSchema.findAndReturnTokens(a,$),$}}MapToken.prim="map";class BoolToken extends ComparableToken{constructor(a,$,j){super(a,$,j),this.val=a,this.idx=$,this.fac=j}Execute(a){return String(a.prim).toLowerCase()==="true"}Encode(a){return{prim:a.pop()?"True":"False"}}EncodeObject(a,$){return $&&$[BoolToken.prim]?$[BoolToken.prim](a):{prim:a?"True":"False"}}ExtractSchema(){return BoolToken.prim}generateSchema(){return{__michelsonType:BoolToken.prim,schema:BoolToken.prim}}ToBigMapKey(a){return{key:this.EncodeObject(a),type:{prim:BoolToken.prim}}}ToKey(a){return this.EncodeObject(a)}compare(a,$){return a&&$||!a&&!$?0:a?1:-1}findAndReturnTokens(a,$){return BoolToken.prim===a&&$.push(this),$}}BoolToken.prim="bool";class ContractValidationError extends TokenValidationError{constructor(a,$,j){super(a,$,j),this.value=a,this.token=$,this.name="ContractValidationError"}}class ContractToken extends Token{constructor(a,$,j){super(a,$,j),this.val=a,this.idx=$,this.fac=j}validate(a){if(validateAddress(a)!==ValidationResult.VALID)throw new ContractValidationError(a,this,`Value ${JSON.stringify(a)} is not a valid contract address.`);return null}Execute(a){if(a.string)return a.string;if(!a.bytes)throw new ContractValidationError(a,this,`Value ${JSON.stringify(a)} is not a valid contract address. must contain bytes or string.`);return encodeAddress(a.bytes)}Encode(a){const $=a.pop();return this.validate($),{string:$}}EncodeObject(a,$){return this.validate(a),$&&$[ContractToken.prim]?$[ContractToken.prim](a):{string:a}}ExtractSchema(){return ContractToken.prim}generateSchema(){const a=this.createToken(this.val.args[0],0);return{__michelsonType:ContractToken.prim,schema:{parameter:this.val.args[0]?a.generateSchema():{}}}}findAndReturnTokens(a,$){return ContractToken.prim===a&&$.push(this),$}}ContractToken.prim="contract";class ListValidationError extends TokenValidationError{constructor(a,$,j){super(a,$,j),this.value=a,this.token=$,this.name="ListValidationError"}}class ListToken extends Token{constructor(a,$,j){super(a,$,j),this.val=a,this.idx=$,this.fac=j}get valueSchema(){return this.createToken(this.val.args[0],this.idx)}validate(a){if(!Array.isArray(a))throw new ListValidationError(a,this,`Value ${JSON.stringify(a)} is not a valid array`)}Encode(a){const $=a.pop();this.validate($);const j=this.createToken(this.val.args[0],0);return $.reduce((et,tt)=>[...et,j.EncodeObject(tt)],[])}Execute(a,$){const j=this.createToken(this.val.args[0],0);return this.validate(a),a.reduce((et,tt)=>[...et,j.Execute(tt,$)],[])}EncodeObject(a,$){const j=this.createToken(this.val.args[0],0);return this.validate(a),$&&$[ListToken.prim]?$[ListToken.prim](a):a.reduce((et,tt)=>[...et,j.EncodeObject(tt)],[])}ExtractSchema(){return{[ListToken.prim]:this.valueSchema.ExtractSchema()}}generateSchema(){return{__michelsonType:ListToken.prim,schema:this.valueSchema.generateSchema()}}findAndReturnTokens(a,$){return ListToken.prim===a&&$.push(this),this.createToken(this.val.args[0],this.idx).findAndReturnTokens(a,$),$}}ListToken.prim="list";class MutezValidationError extends TokenValidationError{constructor(a,$,j){super(a,$,j),this.value=a,this.token=$,this.name="MutezValidationError"}}class MutezToken extends ComparableToken{constructor(a,$,j){super(a,$,j),this.val=a,this.idx=$,this.fac=j}Execute(a){return new BigNumber(a[Object.keys(a)[0]])}ExtractSchema(){return MutezToken.prim}generateSchema(){return{__michelsonType:MutezToken.prim,schema:MutezToken.prim}}validate(a){if(new BigNumber(a).isNaN())throw new MutezValidationError(a,this,`Value is not a number: ${a}`)}Encode(a){const $=a.pop();return this.validate($),{int:String($).toString()}}EncodeObject(a,$){return this.validate(a),$&&$[MutezToken.prim]?$[MutezToken.prim](a):{int:String(a).toString()}}ToBigMapKey(a){return{key:{int:String(a)},type:{prim:MutezToken.prim}}}ToKey({int:a}){return a}compare(a,$){const j=Number(a),et=Number($);return j===et?0:j<et?-1:1}findAndReturnTokens(a,$){return MutezToken.prim===a&&$.push(this),$}}MutezToken.prim="mutez";class BytesValidationError extends TokenValidationError{constructor(a,$,j){super(a,$,j),this.value=a,this.token=$,this.name="BytesValidationError"}}class BytesToken extends ComparableToken{constructor(a,$,j){super(a,$,j),this.val=a,this.idx=$,this.fac=j}ToBigMapKey(a){return{key:{bytes:a},type:{prim:BytesToken.prim}}}validate(a){if(!(typeof a=="string"&&/^[0-9a-fA-F]*$/.test(a)&&a.length%2===0))throw new BytesValidationError(a,this,`Invalid bytes: ${a}`)}convertUint8ArrayToHexString(a){return a.constructor===Uint8Array?Buffer$g.from(a).toString("hex"):a}Encode(a){let $=a.pop();return $=stripHexPrefix$1(this.convertUint8ArrayToHexString($)),this.validate($),{bytes:String($).toString()}}EncodeObject(a,$){return a=this.convertUint8ArrayToHexString(a),typeof a=="string"&&(a=stripHexPrefix$1(a)),this.validate(a),$&&$[BytesToken.prim]?$[BytesToken.prim](a):{bytes:String(a).toString()}}Execute(a){return a.bytes}ExtractSchema(){return BytesToken.prim}generateSchema(){return{__michelsonType:BytesToken.prim,schema:BytesToken.prim}}ToKey({bytes:a,string:$}){return $||a}findAndReturnTokens(a,$){return BytesToken.prim===a&&$.push(this),$}}BytesToken.prim="bytes";class OptionToken extends ComparableToken{constructor(a,$,j){super(a,$,j),this.val=a,this.idx=$,this.fac=j}subToken(){return this.createToken(this.val.args[0],this.idx)}schema(){return this.createToken(this.val.args[0],0)}annot(){return Array.isArray(this.val.annots)?super.annot():this.createToken(this.val.args[0],this.idx).annot()}Encode(a){const $=a;return $==null?{prim:"None"}:Array.isArray($)&&($[$.length-1]===void 0||$[$.length-1]===null)?($.pop(),{prim:"None"}):{prim:"Some",args:[this.schema().Encode(a)]}}EncodeObject(a,$){let j=a;return j==null?{prim:"None"}:(j=typeof j=="object"&&"Some"in j?j.Some:j,{prim:"Some",args:[this.schema().EncodeObject(j,$)]})}Execute(a,$){return a.prim==="None"?null:{Some:this.schema().Execute(a.args[0],$)}}ExtractSchema(){return{Some:this.schema().ExtractSchema()}}generateSchema(){return{__michelsonType:OptionToken.prim,schema:this.schema().generateSchema()}}ExtractSignature(){return[...this.schema().ExtractSignature()]}get KeySchema(){return this.schema()}compare(a,$){if(a){if(!$)return 1}else return-1;return this.KeySchema.compare(a,$)}ToKey(a){return this.Execute(a)}ToBigMapKey(a){return{key:this.EncodeObject(a),type:this.typeWithoutAnnotations()}}findAndReturnTokens(a,$){return OptionToken.prim===a&&$.push(this),this.subToken().findAndReturnTokens(a,$),$}}OptionToken.prim="option";class TimestampToken extends ComparableToken{constructor(a,$,j){super(a,$,j),this.val=a,this.idx=$,this.fac=j}Execute(a){if(a.string&&/^\d+$/.test(a.string))return new Date(Number(a.string)*1e3).toISOString();if(a.string)return new Date(a.string).toISOString();if(a.int)return new Date(Number(a.int)*1e3).toISOString()}Encode(a){const $=a.pop();return typeof $=="number"?{int:String($)}:{string:$}}EncodeObject(a,$){return $&&$[TimestampToken.prim]?$[TimestampToken.prim](a):typeof a=="number"?{int:String(a)}:{string:a}}ExtractSchema(){return TimestampToken.prim}generateSchema(){return{__michelsonType:TimestampToken.prim,schema:TimestampToken.prim}}ToKey({string:a}){return a}ToBigMapKey(a){return{key:{string:a},type:{prim:TimestampToken.prim}}}findAndReturnTokens(a,$){return TimestampToken.prim===a&&$.push(this),$}}TimestampToken.prim="timestamp";class IntValidationError extends TokenValidationError{constructor(a,$,j){super(a,$,j),this.value=a,this.token=$,this.name="IntValidationError"}}class IntToken extends ComparableToken{constructor(a,$,j){super(a,$,j),this.val=a,this.idx=$,this.fac=j}Execute(a){return new BigNumber(a[Object.keys(a)[0]])}ExtractSchema(){return IntToken.prim}generateSchema(){return{__michelsonType:IntToken.prim,schema:IntToken.prim}}validate(a){if(new BigNumber(a).isNaN())throw new IntValidationError(a,this,`Value is not a number: ${JSON.stringify(a)}`)}Encode(a){const $=a.pop();return this.validate($),{int:new BigNumber($).toFixed()}}EncodeObject(a,$){return this.validate(a),$&&$[IntToken.prim]?$[IntToken.prim](a):{int:new BigNumber(a).toFixed()}}ToBigMapKey(a){return{key:{int:String(a)},type:{prim:IntToken.prim}}}ToKey({int:a}){return a}compare(a,$){const j=Number(a),et=Number($);return j===et?0:j<et?-1:1}findAndReturnTokens(a,$){return IntToken.prim===a&&$.push(this),$}}IntToken.prim="int";class UnitToken extends ComparableToken{constructor(a,$,j){super(a,$,j),this.val=a,this.idx=$,this.fac=j}Encode(a){return a.pop(),{prim:"Unit"}}EncodeObject(a,$){return $&&$[UnitToken.prim]?$[UnitToken.prim](a):{prim:"Unit"}}Execute(a){return UnitValue}ExtractSchema(){return UnitToken.prim}generateSchema(){return{__michelsonType:UnitToken.prim,schema:UnitToken.prim}}compare(a,$){return 0}ToKey(a){return UnitValue}ToBigMapKey(a){return{key:{prim:"Unit"},type:{prim:UnitToken.prim}}}findAndReturnTokens(a,$){return UnitToken.prim===a&&$.push(this),$}}UnitToken.prim="unit";const publicKeyPrefixLength=4;class KeyValidationError extends TokenValidationError{constructor(a,$,j){super(a,$,j),this.value=a,this.token=$,this.name="KeyValidationError"}}class KeyToken extends ComparableToken{constructor(a,$,j){super(a,$,j),this.val=a,this.idx=$,this.fac=j}Execute(a){return a.string?a.string:encodeKey(a.bytes)}validate(a){if(validatePublicKey(a)!==ValidationResult.VALID)throw new KeyValidationError(a,this,"Key is not valid")}Encode(a){const $=a.pop();return this.validate($),{string:$}}EncodeObject(a,$){return this.validate(a),$&&$[KeyToken.prim]?$[KeyToken.prim](a):{string:a}}ExtractSchema(){return KeyToken.prim}generateSchema(){return{__michelsonType:KeyToken.prim,schema:KeyToken.prim}}ToKey(a){return this.Execute(a)}ToBigMapKey(a){return{key:{string:a},type:{prim:KeyToken.prim}}}compare(a,$){const j=this.getPrefix(a),et=this.getPrefix($);if(j===Prefix.EDPK&&et!==Prefix.EDPK)return-1;if(j===Prefix.SPPK&&et!==Prefix.SPPK)return et===Prefix.EDPK?1:-1;if(j===Prefix.P2PK){if(et!==Prefix.P2PK)return 1;const tt=this.getP256PublicKeyComparableBytes(a),rt=this.getP256PublicKeyComparableBytes($);return Buffer$g.compare(tt,rt)}return super.compare(a,$)}getPrefix(a){return a.substring(0,publicKeyPrefixLength)}getP256PublicKeyComparableBytes(a){return b58cdecode(a,prefix[Prefix.P2PK]).slice(1)}findAndReturnTokens(a,$){return KeyToken.prim===a&&$.push(this),$}}KeyToken.prim="key";class KeyHashValidationError extends TokenValidationError{constructor(a,$,j){super(a,$,j),this.value=a,this.token=$,this.name="KeyHashValidationError"}}class KeyHashToken extends ComparableToken{constructor(a,$,j){super(a,$,j),this.val=a,this.idx=$,this.fac=j}Execute(a){return a.string?a.string:encodeKeyHash(a.bytes)}validate(a){if(validateKeyHash(a)!==ValidationResult.VALID)throw new KeyHashValidationError(a,this,`KeyHash is not valid: ${JSON.stringify(a)}`)}Encode(a){const $=a.pop();return this.validate($),{string:$}}EncodeObject(a,$){return this.validate(a),$&&$[KeyHashToken.prim]?$[KeyHashToken.prim](a):{string:a}}ExtractSchema(){return KeyHashToken.prim}generateSchema(){return{__michelsonType:KeyHashToken.prim,schema:KeyHashToken.prim}}ToKey({string:a,bytes:$}){return a||encodeKeyHash($)}ToBigMapKey(a){return{key:{string:a},type:{prim:KeyHashToken.prim}}}findAndReturnTokens(a,$){return KeyHashToken.prim===a&&$.push(this),$}}KeyHashToken.prim="key_hash";class SignatureValidationError extends TokenValidationError{constructor(a,$,j){super(a,$,j),this.value=a,this.token=$,this.name="SignatureValidationError"}}class SignatureToken extends ComparableToken{constructor(a,$,j){super(a,$,j),this.val=a,this.idx=$,this.fac=j}Execute(a){return a.string?a.string:a.bytes}validate(a){if(validateSignature(a)!==ValidationResult.VALID)throw new SignatureValidationError(a,this,"Signature is not valid")}Encode(a){const $=a.pop();return this.validate($),{string:$}}EncodeObject(a,$){return this.validate(a),$&&$[SignatureToken.prim]?$[SignatureToken.prim](a):{string:a}}ExtractSchema(){return SignatureToken.prim}generateSchema(){return{__michelsonType:SignatureToken.prim,schema:SignatureToken.prim}}ToKey(a){return this.Execute(a)}ToBigMapKey(a){return{key:{string:a},type:{prim:SignatureToken.prim}}}findAndReturnTokens(a,$){return SignatureToken.prim===a&&$.push(this),$}}SignatureToken.prim="signature";class LambdaToken extends Token{constructor(a,$,j){super(a,$,j),this.val=a,this.idx=$,this.fac=j}get paramSchema(){return this.createToken(this.val.args[0],this.idx)}get returnSchema(){return this.createToken(this.val.args[1],this.idx+1)}Execute(a){return a.string?a.string:a}Encode(a){return a.pop()}EncodeObject(a,$){return $&&$[LambdaToken.prim]?$[LambdaToken.prim](a):a}ExtractSchema(){return{[LambdaToken.prim]:{parameters:this.paramSchema.ExtractSchema(),returns:this.returnSchema.ExtractSchema()}}}generateSchema(){return{__michelsonType:LambdaToken.prim,schema:{parameters:this.paramSchema.generateSchema(),returns:this.returnSchema.generateSchema()}}}findAndReturnTokens(a,$){return LambdaToken.prim===a&&$.push(this),this.createToken(this.val.args[0],this.idx).findAndReturnTokens(a,$),this.createToken(this.val.args[1],this.idx).findAndReturnTokens(a,$),$}}LambdaToken.prim="lambda";class OperationToken extends Token{constructor(a,$,j){super(a,$,j),this.val=a,this.idx=$,this.fac=j}Execute(a){return a.string}Encode(...a){return{string:a.pop()}}EncodeObject(a,$){return $&&$[OperationToken.prim]?$[OperationToken.prim](a):{string:a}}ExtractSchema(){return OperationToken.prim}generateSchema(){return{__michelsonType:OperationToken.prim,schema:OperationToken.prim}}findAndReturnTokens(a,$){return OperationToken.prim===a&&$.push(this),$}}OperationToken.prim="operation";class SetValidationError extends TokenValidationError{constructor(a,$,j){super(a,$,j),this.value=a,this.token=$,this.name="SetValidationError"}}class SetToken extends Token{constructor(a,$,j){super(a,$,j),this.val=a,this.idx=$,this.fac=j}get KeySchema(){return this.createToken(this.val.args[0],0)}validate(a){if(!Array.isArray(a))throw new SetValidationError(a,this,`Value ${JSON.stringify(a)} is not an array`)}Encode(a){const $=a.pop();return this.validate($),$.sort((j,et)=>this.KeySchema.compare(j,et)).reduce((j,et)=>[...j,this.KeySchema.EncodeObject(et)],[])}Execute(a,$){return a.reduce((j,et)=>[...j,this.KeySchema.Execute(et,$)],[])}EncodeObject(a,$){return this.validate(a),$&&$[SetToken.prim]?$[SetToken.prim](a):a.sort((j,et)=>this.KeySchema.compare(j,et)).reduce((j,et)=>[...j,this.KeySchema.EncodeObject(et)],[])}ExtractSchema(){return SetToken.prim}generateSchema(){return{__michelsonType:SetToken.prim,schema:this.KeySchema.generateSchema()}}findAndReturnTokens(a,$){return SetToken.prim===a&&$.push(this),this.KeySchema.findAndReturnTokens(a,$),$}}SetToken.prim="set";class ChainIDValidationError extends TokenValidationError{constructor(a,$,j){super(a,$,j),this.value=a,this.token=$,this.name="ChainIDValidationError"}}class ChainIDToken extends ComparableToken{constructor(a,$,j){super(a,$,j),this.val=a,this.idx=$,this.fac=j}validate(a){if(validateChain(a)!==ValidationResult.VALID)throw new ChainIDValidationError(a,this,`Value ${JSON.stringify(a)} is not a valid ChainID`)}Execute(a){return a[Object.keys(a)[0]]}ExtractSchema(){return ChainIDToken.prim}generateSchema(){return{__michelsonType:ChainIDToken.prim,schema:ChainIDToken.prim}}Encode(a){const $=a.pop();return this.validate($),{string:$}}EncodeObject(a,$){return this.validate(a),$&&$[ChainIDToken.prim]?$[ChainIDToken.prim](a):{string:a}}ToKey({string:a}){return a}ToBigMapKey(a){return{key:{string:a},type:{prim:ChainIDToken.prim}}}findAndReturnTokens(a,$){return ChainIDToken.prim===a&&$.push(this),$}}ChainIDToken.prim="chain_id";class EncodeTicketError extends TaquitoError{constructor(){super(),this.name="TicketEncodeError",this.message="Tickets cannot be sent to the blockchain; they are created on-chain"}}const ticketerType$1={prim:"contract"},amountType$1={prim:"int"};class TicketToken extends Token{constructor(a,$,j){super(a,$,j),this.val=a,this.idx=$,this.fac=j}get valueToken(){return this.createToken(this.val.args[0],this.idx)}Encode(a){throw new EncodeTicketError}EncodeObject(a,$){if($&&$[TicketToken.prim])return $[TicketToken.prim](a,this.val);throw new EncodeTicketError}Execute(a,$){if($&&$[TicketToken.prim])return $[TicketToken.prim](a,this.val);const j=this.createToken(ticketerType$1,this.idx),et=this.valueToken,tt=this.createToken(amountType$1,this.idx);return a.args[2]===void 0&&a.args[1].args!==void 0?{ticketer:j.Execute(a.args[0],$),value:et.Execute(a.args[1].args[0],$),amount:tt.Execute(a.args[1].args[1],$)}:{ticketer:j.Execute(a.args[0],$),value:et.Execute(a.args[1],$),amount:tt.Execute(a.args[2],$)}}ExtractSchema(){return{ticketer:ContractToken.prim,value:this.valueToken.ExtractSchema(),amount:IntToken.prim}}generateSchema(){return{__michelsonType:TicketToken.prim,schema:{value:this.valueToken.generateSchema(),ticketer:{__michelsonType:ContractToken.prim,schema:ContractToken.prim},amount:{__michelsonType:IntToken.prim,schema:IntToken.prim}}}}findAndReturnTokens(a,$){return TicketToken.prim===a&&$.push(this),this.valueToken.findAndReturnTokens(a,$),$}}TicketToken.prim="ticket";class EncodeTicketDeprecatedError extends TaquitoError{constructor(){super(),this.name="TicketDeprecatedEncodeError",this.message="Ticket_deprecated cannot be sent to the blockchain; they are created on-chain"}}const ticketerType={prim:"contract"},amountType={prim:"int"};class TicketDeprecatedToken extends Token{constructor(a,$,j){super(a,$,j),this.val=a,this.idx=$,this.fac=j}get valueToken(){return this.createToken(this.val.args[0],this.idx)}Encode(a){throw new EncodeTicketDeprecatedError}EncodeObject(a,$){if($&&$[TicketDeprecatedToken.prim])return $[TicketDeprecatedToken.prim](a,this.val);throw new EncodeTicketDeprecatedError}Execute(a,$){if($&&$[TicketDeprecatedToken.prim])return $[TicketDeprecatedToken.prim](a,this.val);const j=this.createToken(ticketerType,this.idx),et=this.valueToken,tt=this.createToken(amountType,this.idx);return a.args[2]===void 0&&a.args[1].args!==void 0?{ticketer:j.Execute(a.args[0],$),value:et.Execute(a.args[1].args[0],$),amount:tt.Execute(a.args[1].args[1],$)}:{ticketer:j.Execute(a.args[0],$),value:et.Execute(a.args[1],$),amount:tt.Execute(a.args[2],$)}}ExtractSchema(){return{ticketer:ContractToken.prim,value:this.valueToken.ExtractSchema(),amount:IntToken.prim}}generateSchema(){return{__michelsonType:TicketDeprecatedToken.prim,schema:{value:this.valueToken.generateSchema(),ticketer:{__michelsonType:ContractToken.prim,schema:ContractToken.prim},amount:{__michelsonType:IntToken.prim,schema:IntToken.prim}}}}findAndReturnTokens(a,$){return TicketDeprecatedToken.prim===a&&$.push(this),this.valueToken.findAndReturnTokens(a,$),$}}TicketDeprecatedToken.prim="ticket_deprecated";class NeverTokenError extends TokenValidationError{constructor(a,$,j){super(a,$,j),this.value=a,this.token=$,this.name="NeverTokenError"}}class NeverToken extends Token{constructor(a,$,j){super(a,$,j),this.val=a,this.idx=$,this.fac=j}Encode(a){const $=a.pop();throw new NeverTokenError($,this,`Assigning a value to the type never is forbidden. Trying to assign ${JSON.stringify($)}.`)}EncodeObject(a,$){if($&&$[NeverToken.prim])return $[NeverToken.prim](a);throw new NeverTokenError(a,this,`Assigning a value to the type never is forbidden. Trying to assign ${JSON.stringify(a)}.`)}Execute(a){throw new NeverTokenError(a,this,`There is no literal value for the type never. Trying to execute ${JSON.stringify(a)}.`)}ExtractSchema(){return NeverToken.prim}generateSchema(){return{__michelsonType:NeverToken.prim,schema:NeverToken.prim}}findAndReturnTokens(a,$){return NeverToken.prim===a&&$.push(this),$}}NeverToken.prim="never";class SaplingStateValidationError extends TokenValidationError{constructor(a,$,j){super(a,$,j),this.value=a,this.token=$,this.name="SaplingStateValidationError"}}class SaplingStateToken extends Token{constructor(a,$,j){super(a,$,j),this.val=a,this.idx=$,this.fac=j}isValid(a){return typeof a=="object"&&Object.keys(a).length===0}Execute(a,$){if($&&$[SaplingStateToken.prim])return $[SaplingStateToken.prim](a,this.val);if("int"in a)return a.int;throw new SaplingStateValidationError(a,this,`Sapling state is expecting an object with an int property. Got ${JSON.stringify(a)}`)}Encode(a){const $=a.pop();if(this.isValid($))return[];throw new SaplingStateValidationError($,this,`Invalid sapling_state. Received: ${JSON.stringify($)} while expecting: {}`)}EncodeObject(a,$){if($&&$[SaplingStateToken.prim])return $[SaplingStateToken.prim](a);if(this.isValid(a))return[];throw new SaplingStateValidationError(a,this,`Invalid sapling_state. Received: ${JSON.stringify(a)} while expecting: {}`)}ExtractSchema(){return{[SaplingStateToken.prim]:{"memo-size":Number(this.val.args[0].int)}}}generateSchema(){return{__michelsonType:SaplingStateToken.prim,schema:{memoSize:this.val.args[0].int}}}findAndReturnTokens(a,$){return SaplingStateToken.prim===a&&$.push(this),$}}SaplingStateToken.prim="sapling_state";class SaplingTransactionValidationError extends TokenValidationError{constructor(a,$,j){super(a,$,j),this.value=a,this.token=$,this.name="SaplingTransactionValidationError"}}class SaplingTransactionToken extends Token{constructor(a,$,j){super(a,$,j),this.val=a,this.idx=$,this.fac=j}Execute(a){throw new SaplingTransactionValidationError(a,this,`There is no literal value for the sapling_transaction type. Got: ${JSON.stringify(a)}.`)}validateBytes(a){const $=/^(0x|0X)?([0-9a-fA-F]*$)/.exec(a);if($&&$[2].length%2===0)return $[2];throw new SaplingTransactionValidationError(a,this,`Invalid bytes: ${JSON.stringify(a)}`)}convertUint8ArrayToHexString(a){return a.constructor===Uint8Array?Buffer$g.from(a).toString("hex"):a}Encode(a){let $=a.pop();return $=this.validateBytes(this.convertUint8ArrayToHexString($)),{bytes:String($).toString()}}EncodeObject(a,$){return a=this.validateBytes(this.convertUint8ArrayToHexString(a)),$&&$[SaplingTransactionToken.prim]?$[SaplingTransactionToken.prim](a):{bytes:String(a).toString()}}ExtractSchema(){return{[SaplingTransactionToken.prim]:{"memo-size":Number(this.val.args[0].int)}}}generateSchema(){return{__michelsonType:SaplingTransactionToken.prim,schema:{memoSize:this.val.args[0].int}}}findAndReturnTokens(a,$){return SaplingTransactionToken.prim===a&&$.push(this),$}}SaplingTransactionToken.prim="sapling_transaction";class SaplingTransactionDeprecatedValidationError extends TokenValidationError{constructor(a,$,j){super(a,$,j),this.value=a,this.token=$,this.name="SaplingTransactionDeprecatedValidationError"}}class SaplingTransactionDeprecatedToken extends Token{constructor(a,$,j){super(a,$,j),this.val=a,this.idx=$,this.fac=j}Execute(a){throw new SaplingTransactionDeprecatedValidationError(a,this,`There is no literal value for the sapling_transaction_deprecated type. Got: ${JSON.stringify(a)}.`)}validateBytes(a){const $=/^(0x|0X)?([0-9a-fA-F]*$)/.exec(a);if($&&$[2].length%2===0)return $[2];throw new SaplingTransactionDeprecatedValidationError(a,this,`Invalid bytes: ${JSON.stringify(a)}`)}convertUint8ArrayToHexString(a){return a.constructor===Uint8Array?Buffer$g.from(a).toString("hex"):a}Encode(a){let $=a.pop();return $=this.validateBytes(this.convertUint8ArrayToHexString($)),{bytes:String($).toString()}}EncodeObject(a,$){return a=this.validateBytes(this.convertUint8ArrayToHexString(a)),$&&$[SaplingTransactionDeprecatedToken.prim]?$[SaplingTransactionDeprecatedToken.prim](a):{bytes:String(a).toString()}}ExtractSchema(){return{[SaplingTransactionDeprecatedToken.prim]:{"memo-size":Number(this.val.args[0].int)}}}generateSchema(){return{__michelsonType:SaplingTransactionDeprecatedToken.prim,schema:{memoSize:this.val.args[0].int}}}findAndReturnTokens(a,$){return SaplingTransactionDeprecatedToken.prim===a&&$.push(this),$}}SaplingTransactionDeprecatedToken.prim="sapling_transaction_deprecated";class Bls12381frValidationError extends TokenValidationError{constructor(a,$,j){super(a,$,j),this.value=a,this.token=$,this.name="Bls12381frValidationError"}}class Bls12381frToken extends Token{constructor(a,$,j){super(a,$,j),this.val=a,this.idx=$,this.fac=j}validate(a){if(!(/^[0-9a-fA-F]*$/.test(a)&&a.length%2===0))throw new Bls12381frValidationError(a,this,`Invalid bytes: ${JSON.stringify(a)}`)}convertUint8ArrayToHexString(a){return a.constructor===Uint8Array?Buffer$g.from(a).toString("hex"):a}Encode(a){let $=a.pop();return typeof $=="number"?{int:$.toString()}:($=this.convertUint8ArrayToHexString($),this.validate($),{bytes:$})}EncodeObject(a,$){return $&&$[Bls12381frToken.prim]?$[Bls12381frToken.prim](a):typeof a=="number"?{int:a.toString()}:(a=this.convertUint8ArrayToHexString(a),this.validate(a),{bytes:a})}Execute(a){return a.bytes}ExtractSchema(){return Bls12381frToken.prim}generateSchema(){return{__michelsonType:Bls12381frToken.prim,schema:Bls12381frToken.prim}}findAndReturnTokens(a,$){return Bls12381frToken.prim===a&&$.push(this),$}}Bls12381frToken.prim="bls12_381_fr";class Bls12381g1ValidationError extends TokenValidationError{constructor(a,$,j){super(a,$,j),this.value=a,this.token=$,this.name="Bls12381g1ValidationError"}}class Bls12381g1Token extends Token{constructor(a,$,j){super(a,$,j),this.val=a,this.idx=$,this.fac=j}validate(a){if(!(/^[0-9a-fA-F]*$/.test(a)&&a.length%2===0))throw new Bls12381g1ValidationError(a,this,`Invalid bytes: ${JSON.stringify(a)}`)}convertUint8ArrayToHexString(a){return a.constructor===Uint8Array?Buffer$g.from(a).toString("hex"):a}Encode(a){let $=a.pop();return $=this.convertUint8ArrayToHexString($),this.validate($),{bytes:$}}EncodeObject(a,$){return a=this.convertUint8ArrayToHexString(a),this.validate(a),$&&$[Bls12381g1Token.prim]?$[Bls12381g1Token.prim](a):{bytes:a}}Execute(a){return a.bytes}ExtractSchema(){return Bls12381g1Token.prim}generateSchema(){return{__michelsonType:Bls12381g1Token.prim,schema:Bls12381g1Token.prim}}findAndReturnTokens(a,$){return Bls12381g1Token.prim===a&&$.push(this),$}}Bls12381g1Token.prim="bls12_381_g1";class Bls12381g2ValidationError extends TokenValidationError{constructor(a,$,j){super(a,$,j),this.value=a,this.token=$,this.name="Bls12381g2ValidationError"}}class Bls12381g2Token extends Token{constructor(a,$,j){super(a,$,j),this.val=a,this.idx=$,this.fac=j}validate(a){if(!(/^[0-9a-fA-F]*$/.test(a)&&a.length%2===0))throw new Bls12381g2ValidationError(a,this,`Invalid bytes: ${JSON.stringify(a)}`)}convertUint8ArrayToHexString(a){return a.constructor===Uint8Array?Buffer$g.from(a).toString("hex"):a}Encode(a){let $=a.pop();return $=this.convertUint8ArrayToHexString($),this.validate($),{bytes:$}}EncodeObject(a,$){return a=this.convertUint8ArrayToHexString(a),this.validate(a),$&&$[Bls12381g2Token.prim]?$[Bls12381g2Token.prim](a):{bytes:a}}Execute(a){return a.bytes}ExtractSchema(){return Bls12381g2Token.prim}generateSchema(){return{__michelsonType:Bls12381g2Token.prim,schema:Bls12381g2Token.prim}}findAndReturnTokens(a,$){return Bls12381g2Token.prim===a&&$.push(this),$}}Bls12381g2Token.prim="bls12_381_g2";class ChestValidationError extends TokenValidationError{constructor(a,$,j){super(a,$,j),this.value=a,this.token=$,this.name="ChestValidationError"}}class ChestToken extends Token{constructor(a,$,j){super(a,$,j),this.val=a,this.idx=$,this.fac=j}validate(a){if(!(/^[0-9a-fA-F]*$/.test(a)&&a.length%2==0))throw new ChestValidationError(a,this,`Invalid bytes: ${JSON.stringify(a)}`)}convertUint8ArrayToHexString(a){return a.constructor===Uint8Array?Buffer$g.from(a).toString("hex"):a}Encode(a){let $=a.pop();return $=this.convertUint8ArrayToHexString($),this.validate($),{bytes:$}}EncodeObject(a,$){return a=this.convertUint8ArrayToHexString(a),this.validate(a),$&&$[ChestToken.prim]?$[ChestToken.prim](a):{bytes:a}}Execute(a){return a.bytes}ExtractSchema(){return ChestToken.prim}generateSchema(){return{__michelsonType:ChestToken.prim,schema:ChestToken.prim}}findAndReturnTokens(a,$){return ChestToken.prim===a&&$.push(this),$}}ChestToken.prim="chest";class ChestKeyValidationError extends TokenValidationError{constructor(a,$,j){super(a,$,j),this.value=a,this.token=$,this.name="ChestKeyValidationError"}}class ChestKeyToken extends Token{constructor(a,$,j){super(a,$,j),this.val=a,this.idx=$,this.fac=j}validate(a){if(!(/^[0-9a-fA-F]*$/.test(a)&&a.length%2===0))throw new ChestKeyValidationError(a,this,`Invalid bytes: ${JSON.stringify(a)}`)}convertUint8ArrayToHexString(a){return a.constructor===Uint8Array?Buffer$g.from(a).toString("hex"):a}Encode(a){let $=a.pop();return $=this.convertUint8ArrayToHexString($),this.validate($),{bytes:$}}EncodeObject(a,$){return a=this.convertUint8ArrayToHexString(a),this.validate(a),$&&$[ChestKeyToken.prim]?$[ChestKeyToken.prim](a):{bytes:a}}Execute(a){return a.bytes}ExtractSchema(){return ChestKeyToken.prim}generateSchema(){return{__michelsonType:ChestKeyToken.prim,schema:ChestKeyToken.prim}}findAndReturnTokens(a,$){return ChestKeyToken.prim===a&&$.push(this),$}}ChestKeyToken.prim="chest_key";class GlobalConstantEncodingError extends TokenValidationError{constructor(a,$,j){super(a,$,j),this.value=a,this.token=$,this.name="GlobalConstantEncodingError"}}class GlobalConstantDecodingError extends TokenValidationError{constructor(a,$,j){super(a,$,j),this.value=a,this.token=$,this.name="GlobalConstantDecodingError"}}class GlobalConstantToken extends Token{constructor(a,$,j){super(a,$,j),this.val=a,this.idx=$,this.fac=j}Execute(a,$){if($&&$[GlobalConstantToken.prim])return $[GlobalConstantToken.prim](a,this.val);throw new GlobalConstantDecodingError(a,this,`Unable to decode a value represented by a global constants. Please provide an expanded script to the Michelson-Encoder or semantics for the decoding. The following global constant hash was encountered: ${this.val.args[0].string}.`)}Encode(a){throw new GlobalConstantEncodingError(a,this,`Unable to encode a script containing global constants. Please provide an expanded script to the Michelson-Encoder. The following global constant hash was encountered: ${this.val.args[0].string}.`)}EncodeObject(a,$){if($&&$[GlobalConstantToken.prim])return $[GlobalConstantToken.prim](a);throw new GlobalConstantEncodingError(a,this,`Unable to encode a script containing global constants. Please provide an expanded script to the Michelson-Encoder. The following global constant hash was encountered: ${this.val.args[0].string}.`)}ExtractSchema(){return GlobalConstantToken.prim}generateSchema(){return{__michelsonType:GlobalConstantToken.prim,schema:{hash:this.val.args[0].string}}}findAndReturnTokens(a,$){return GlobalConstantToken.prim===a&&$.push(this),$}}GlobalConstantToken.prim="constant";const tokens=[PairToken,NatToken,StringToken,BigMapToken,AddressToken,MapToken,BoolToken,OrToken,ContractToken,ListToken,MutezToken,BytesToken,OptionToken,TimestampToken,IntToken,UnitToken,KeyToken,KeyHashToken,SignatureToken,LambdaToken,OperationToken,SetToken,ChainIDToken,TicketToken,TicketDeprecatedToken,NeverToken,SaplingStateToken,SaplingTransactionToken,SaplingTransactionDeprecatedToken,Bls12381frToken,Bls12381g1Token,Bls12381g2Token,ChestToken,ChestKeyToken,GlobalConstantToken];class InvalidTokenError extends TaquitoError{constructor(a,$){super(a),this.message=a,this.data=$,this.name="Invalid token error"}}function createToken(_,a){if(Array.isArray(_))return new PairToken(_,a,createToken);const $=tokens.find(j=>j.prim===_.prim);if(!$)throw new InvalidTokenError(`Malformed data: ${JSON.stringify(_)}. Expected a value with a valid prim property`,_);return new $(_,a,createToken)}class ParameterEncodingError extends InvalidViewParameterError{constructor(a,$,j,et){super(a,$,j,et),this.viewName=a,this.sigs=$,this.args=j,this.cause=et,this.name="ParameterEncodingError",this.message=`Could not encode parameter ${JSON.stringify(j)} received for name "${a}" expecting one of the following signatures ${JSON.stringify($)}`}}class InvalidScriptError extends TaquitoError{constructor(a,$){super(),this.script=a,this.reason=$,this.name="InvalidScriptError";let j="Invalid on-chain view found in the following script.";$&&(j+=` Reason: ${$}.`),j+=`Script: ${JSON.stringify(a)}`,this.message=j}}class InvalidRpcResponseError extends TaquitoError{constructor(a,$){super(),this.script=a,this.reason=$,this.name="InvalidRpcResponseError";let j="Invalid RPC response passed as argument(s).";$&&(j+=` Reason: ${$}.`),j+=` Received: ${JSON.stringify(a)}`,this.message=j}}class InvalidBigMapSchemaError extends TaquitoError{constructor(a){super(a),this.message=a,this.name="InvalidBigMapSchemaError"}}class InvalidBigMapDiffError extends TaquitoError{constructor(a,$){super(a),this.message=a,this.value=$,this.name="InvalidBigMapDiffError"}}class BigMapEncodingError extends TaquitoError{constructor(a,$,j,et){super(),this.details=$,this.schema=j,this.value=et,this.name="BigMapEncodingError",this.message=`Unable to encode the big map ${a}. Schema is: ${JSON.stringify(j)}. The ${a} is: ${JSON.stringify(et)}. Error details: ${$}`}}class StorageEncodingError extends TaquitoError{constructor(a,$,j,et,tt){super(),this.details=$,this.schema=j,this.value=et,this.semantics=tt,this.name="StorageEncodingError",this.message=`Unable to encode ${a}. The schema is: ${JSON.stringify(j)}, the value is: ${JSON.stringify(et)}.${tt?`And the semantic is: ${JSON.stringify(tt)}`:""}. Error details: ${$}`}}class MissingArgumentError extends TaquitoError{constructor(a){super(a),this.message=a,this.name="MissingArgumentError"}}var _a;const schemaTypeSymbol=Symbol.for("taquito-schema-type-symbol");function collapse(_,a=PairToken.prim){var $,j;if(Array.isArray(_))return collapse({prim:a,args:_},a);const et=_;return et.prim===a&&et.args&&et.args.length>2?Object.assign(Object.assign({},et),{args:[($=et.args)===null||$===void 0?void 0:$[0],{prim:a,args:(j=et.args)===null||j===void 0?void 0:j.slice(1)}]}):et}function deepEqual(_,a){if(_===void 0||a===void 0)return _===a;const $=collapse(_),j=collapse(a);return $.prim===j.prim&&($.args===void 0&&j.args===void 0||$.args!==void 0&&j.args!==void 0&&$.args.length===j.args.length&&$.args.every((et,tt)=>{var rt,nt;return deepEqual(et,(nt=(rt=j.args)===null||rt===void 0?void 0:rt[tt])!==null&&nt!==void 0?nt:{})}))&&($.annots===void 0&&j.annots===void 0||$.annots!==void 0&&j.annots!==void 0&&$.annots.length===j.annots.length&&$.annots.every((et,tt)=>{var rt;return et===((rt=j.annots)===null||rt===void 0?void 0:rt[tt])}))}class Schema{static isSchema(a){return a&&a[schemaTypeSymbol]===!0}static fromRPCResponse(a){if(!a)throw new InvalidRpcResponseError(a,"the RPC response is empty");if(!a.script)throw new InvalidRpcResponseError(a,"the RPC response has no script");if(!Array.isArray(a.script.code))throw new InvalidRpcResponseError(a,"The response.script.code should be an array");let $=a.script.code;for(;$.length===1&&Array.isArray($[0]);)$=$[0];const j=$.find(et=>"prim"in et&&et.prim==="storage");if(!j||!Array.isArray(j.args))throw new InvalidRpcResponseError(a,'The response.script.code has an element of type {prim: "storage"}, but its args is not an array');return new Schema(j.args[0])}isExpressionExtended(a){return"prim"in a&&Array.isArray(a.args)}constructor(a){if(this.val=a,this[_a]=!0,this.root=createToken(a,0),this.root instanceof BigMapToken)this.bigMap=this.root;else if(this.isExpressionExtended(a)&&a.prim==="pair"){const $=a.args[0];this.isExpressionExtended($)&&$.prim==="big_map"&&(this.bigMap=new BigMapToken($,0,createToken))}}removeTopLevelAnnotation(a){return(this.root instanceof PairToken||this.root instanceof OrToken)&&this.root.hasAnnotations()&&typeof a=="object"&&Object.keys(a).length===1?a[Object.keys(a)[0]]:a}Execute(a,$){const j=this.root.Execute(a,$);return this.removeTopLevelAnnotation(j)}Typecheck(a){this.root instanceof BigMapToken&&Number.isInteger(Number(a))||this.root instanceof TicketToken&&a.ticketer&&a.value&&a.amount||this.root instanceof TicketDeprecatedToken&&a.ticketer&&a.value&&a.amount||this.root instanceof MapToken&&this.root.ValueSchema instanceof BigMapToken||this.root.EncodeObject(a)}ExecuteOnBigMapDiff(a,$){if(!this.bigMap)throw new InvalidBigMapSchemaError("Big map schema is undefined");if(!Array.isArray(a))throw new InvalidBigMapDiffError(`Big map diff must be an array, got: ${JSON.stringify(a)}`,a);const j=a.map(({key:et,value:tt})=>({args:[et,tt]}));return this.bigMap.Execute(j,$)}ExecuteOnBigMapValue(a,$){if(!this.bigMap)throw new InvalidBigMapSchemaError("Big map schema is undefined");return this.bigMap.ValueSchema.Execute(a,$)}EncodeBigMapKey(a){if(!this.bigMap)throw new InvalidBigMapSchemaError("Big map schema is undefined");try{return this.bigMap.KeySchema.ToBigMapKey(a)}catch($){throw new BigMapEncodingError("key",$,this.bigMap.KeySchema,a)}}Encode(a,$){try{return this.root.EncodeObject(a,$)}catch(j){throw j instanceof TokenValidationError?j:new StorageEncodingError("storage object",j,this.root,a,$)}}ExtractSchema(){return this.removeTopLevelAnnotation(this.root.ExtractSchema())}generateSchema(){return this.removeTopLevelAnnotation(this.root.generateSchema())}ComputeState(a,$){if(!this.bigMap)throw new InvalidBigMapSchemaError("Big map schema is undefined");const j=a.reduce((et,tt)=>Object.assign(Object.assign({},et),this.ExecuteOnBigMapDiff(tt.contents[0].metadata.operation_result.big_map_diff)),{});return Object.assign(Object.assign({},this.Execute($)),{[this.bigMap.annot()]:j})}FindFirstInTopLevelPair(a,$){return this.findValue(this.root.val,a,$)}findValue(a,$,j){if(deepEqual(j,a))return $;if(Array.isArray(a)||a.prim==="pair"){const et=collapse(a),tt=collapse($,"Pair");if(et.args===void 0||tt.args===void 0)throw new MissingArgumentError("Tokens have no arguments");if(et.args[0])return this.findValue(et.args[0],tt.args[0],j)||this.findValue(et.args[1],tt.args[1],j)}}findToken(a){const $=[];return this.root.findAndReturnTokens(a,$)}}_a=schemaTypeSymbol;class ParameterSchema{static fromRPCResponse(a){if(!a)throw new InvalidRpcResponseError(a,"the RPC response is empty");if(!a.script)throw new InvalidRpcResponseError(a,"the RPC response has no script");if(!Array.isArray(a.script.code))throw new InvalidRpcResponseError(a,"The response.script.code should be an array");const $=a.script.code.find(j=>"prim"in j&&j.prim==="parameter");if(!$)throw new InvalidRpcResponseError(a,'The response.script.code should have an element of type {prim: "parameter"}');if(!Array.isArray($.args))throw new InvalidRpcResponseError(a,'The response.script.code has an element of type {prim: "parameter"}, but its args is not an array');return new ParameterSchema($.args[0])}get isMultipleEntryPoint(){return this.root instanceof OrToken||this.root instanceof OptionToken&&this.root.subToken()instanceof OrToken}get hasAnnotation(){return this.isMultipleEntryPoint?Object.keys(this.ExtractSchema())[0]!=="0":!0}constructor(a){this.root=createToken(a,0)}Execute(a,$){return this.root.Execute(a,$)}Encode(...a){try{return this.root.Encode(a.reverse())}catch($){throw $ instanceof TokenValidationError?$:new ParameterEncodingError("Unable to encode parameter",this.root,a,$)}}EncodeObject(a,$){try{return this.root.EncodeObject(a,$)}catch(j){throw j instanceof TokenValidationError?j:new ParameterEncodingError("Unable to encode parameter object",this.root,a,j)}}ExtractSchema(){return this.root.ExtractSchema()}generateSchema(){return this.root.generateSchema()}ExtractSignatures(){return this.root.ExtractSignature()}}class ViewSchema{static fromRPCResponse(a){const $=[],j=a&&a.script&&Array.isArray(a.script.code)&&a.script.code.filter(et=>et.prim==="view");return j&&j.forEach(et=>{$.push(new ViewSchema(et.args))}),$}constructor(a){if(!a)throw new InvalidScriptError(a,"the args are not defined");if(a.length!==4)throw new InvalidScriptError(a,"there should be exactly 4 arguments");if(!("string"in a[0])||!a[0].string)throw new InvalidScriptError(a,"The first argument should be a string, representing the view name. It should be in the form: { string: 'viewName' }");this.viewName=a[0].string,this.viewArgsType=a[1],this.viewReturnType=a[2],this.instructions=a[3],this.rootArgsType=createToken(this.viewArgsType,0),this.rootReturnType=createToken(this.viewReturnType,0)}encodeViewArgs(a){try{return this.rootArgsType.EncodeObject(a)}catch($){throw new ParameterEncodingError(this.viewName,void 0,a,$)}}decodeViewResult(a,$){return this.rootReturnType.Execute(a,$)}extractArgsSchema(){return this.rootArgsType.ExtractSchema()}extractResultSchema(){return this.rootReturnType.ExtractSchema()}}class EventSchema{constructor(a,$){this.tag=a,this.type=$}static fromMichelineValue(a){var $,j;return new EventSchema(($=a.annots)===null||$===void 0?void 0:$[0],(j=a.args)===null||j===void 0?void 0:j[0])}static fromRPCResponse(a){const $=[];return a.script.code.forEach(j=>{!("prim"in j)||j.prim!=="code"||!("args"in j)||!j.args||$.push(...EventSchema.extractEventsRecursively(j.args))}),EventSchema.removeDuplicates($)}static removeDuplicates(a){const $=[];return a.forEach(j=>{$.findIndex(tt=>tt.tag===j.tag&&deepEqual(tt.type,j.type))===-1&&$.push(j)}),$}static extractEventsRecursively(a){return Array.isArray(a)?a.flatMap($=>EventSchema.extractEventsRecursively($)):"prim"in a?a.prim==="EMIT"?[EventSchema.fromMichelineValue(a)]:!("args"in a)||!a.args?[]:a.args.flatMap($=>EventSchema.extractEventsRecursively($)):[]}}const UnitValue=Symbol(),toHexString=_=>_.reduce((a,$)=>a+$.toString(16).padStart(2,"0"),""),pad=(_,a=8)=>_.toString(16).padStart(a,"0"),ENTRYPOINT_MAX_LENGTH=31;var CODEC;(function(_){_.SECRET="secret",_.RAW="raw",_.TZ1="tz1",_.BRANCH="branch",_.ZARITH="zarith",_.PUBLIC_KEY="public_key",_.PKH="pkh",_.PKH_ARR="pkhArr",_.DELEGATE="delegate",_.SCRIPT="script",_.BALLOT_STATEMENT="ballotStmt",_.PROPOSAL="proposal",_.PROPOSAL_ARR="proposalArr",_.INT32="int32",_.INT16="int16",_.PARAMETERS="parameters",_.ADDRESS="address",_.SMART_CONTRACT_ADDRESS="smart_contract_address",_.SMART_ROLLUP_ADDRESS="smart_rollup_address",_.SMART_ROLLUP_COMMITMENT_HASH="smart_rollup_commitment_hash",_.VALUE="value",_.PADDED_BYTES="padded_bytes",_.SMART_ROLLUP_MESSAGE="smart_rollup_message",_.MANAGER="manager",_.BLOCK_PAYLOAD_HASH="blockPayloadHash",_.ENTRYPOINT="entrypoint",_.OPERATION="operation",_.OP_ACTIVATE_ACCOUNT="activate_account",_.OP_DELEGATION="delegation",_.OP_TRANSACTION="transaction",_.OP_ORIGINATION="origination",_.OP_BALLOT="ballot",_.OP_FAILING_NOOP="failing_noop",_.OP_ATTESTATION="attestation",_.OP_ENDORSEMENT="endorsement",_.OP_SEED_NONCE_REVELATION="seed_nonce_revelation",_.OP_REVEAL="reveal",_.OP_PROPOSALS="proposals",_.OP_REGISTER_GLOBAL_CONSTANT="register_global_constant",_.OP_TRANSFER_TICKET="transfer_ticket",_.BURN_LIMIT="burn_limit",_.OP_INCREASE_PAID_STORAGE="increase_paid_storage",_.OP_UPDATE_CONSENSUS_KEY="update_consensus_key",_.OP_DRAIN_DELEGATE="drain_delegate",_.DEPOSITS_LIMIT="deposits_limit",_.OP_SET_DEPOSITS_LIMIT="set_deposits_limit",_.OP_SMART_ROLLUP_ORIGINATE="smart_rollup_originate",_.PVM_KIND="pvm_kind",_.OP_SMART_ROLLUP_ADD_MESSAGES="smart_rollup_add_messages",_.OP_SMART_ROLLUP_EXECUTE_OUTBOX_MESSAGE="smart_rollup_execute_outbox_message"})(CODEC||(CODEC={}));const opMapping={"00":"parameter","01":"storage","02":"code","03":"False","04":"Elt","05":"Left","06":"None","07":"Pair","08":"Right","09":"Some","0a":"True","0b":"Unit","0c":"PACK","0d":"UNPACK","0e":"BLAKE2B","0f":"SHA256",10:"SHA512",11:"ABS",12:"ADD",13:"AMOUNT",14:"AND",15:"BALANCE",16:"CAR",17:"CDR",18:"CHECK_SIGNATURE",19:"COMPARE","1a":"CONCAT","1b":"CONS","1c":"CREATE_ACCOUNT","1d":"CREATE_CONTRACT","1e":"IMPLICIT_ACCOUNT","1f":"DIP",20:"DROP",21:"DUP",22:"EDIV",23:"EMPTY_MAP",24:"EMPTY_SET",25:"EQ",26:"EXEC",27:"FAILWITH",28:"GE",29:"GET","2a":"GT","2b":"HASH_KEY","2c":"IF","2d":"IF_CONS","2e":"IF_LEFT","2f":"IF_NONE",30:"INT",31:"LAMBDA",32:"LE",33:"LEFT",34:"LOOP",35:"LSL",36:"LSR",37:"LT",38:"MAP",39:"MEM","3a":"MUL","3b":"NEG","3c":"NEQ","3d":"NIL","3e":"NONE","3f":"NOT",40:"NOW",41:"OR",42:"PAIR",43:"PUSH",44:"RIGHT",45:"SIZE",46:"SOME",47:"SOURCE",48:"SENDER",49:"SELF","4a":"STEPS_TO_QUOTA","4b":"SUB","4c":"SWAP","4d":"TRANSFER_TOKENS","4e":"SET_DELEGATE","4f":"UNIT",50:"UPDATE",51:"XOR",52:"ITER",53:"LOOP_LEFT",54:"ADDRESS",55:"CONTRACT",56:"ISNAT",57:"CAST",58:"RENAME",59:"bool","5a":"contract","5b":"int","5c":"key","5d":"key_hash","5e":"lambda","5f":"list",60:"map",61:"big_map",62:"nat",63:"option",64:"or",65:"pair",66:"set",67:"signature",68:"string",69:"bytes","6a":"mutez","6b":"timestamp","6c":"unit","6d":"operation","6e":"address","6f":"SLICE",70:"DIG",71:"DUG",72:"EMPTY_BIG_MAP",73:"APPLY",74:"chain_id",75:"CHAIN_ID",76:"LEVEL",77:"SELF_ADDRESS",78:"never",79:"NEVER","7a":"UNPAIR","7b":"VOTING_POWER","7c":"TOTAL_VOTING_POWER","7d":"KECCAK","7e":"SHA3","7f":"PAIRING_CHECK",80:"bls12_381_g1",81:"bls12_381_g2",82:"bls12_381_fr",83:"sapling_state",84:"sapling_transaction_deprecated",85:"SAPLING_EMPTY_STATE",86:"SAPLING_VERIFY_UPDATE",87:"ticket",88:"TICKET_DEPRECATED",89:"READ_TICKET","8a":"SPLIT_TICKET","8b":"JOIN_TICKETS","8c":"GET_AND_UPDATE","8d":"chest","8e":"chest_key","8f":"OPEN_CHEST",90:"VIEW",91:"view",92:"constant",93:"SUB_MUTEZ",94:"tx_rollup_l2_address",95:"MIN_BLOCK_TIME",96:"sapling_transaction",97:"EMIT",98:"Lambda_rec",99:"LAMBDA_REC","9a":"TICKET","9b":"BYTES","9c":"NAT"},opMappingReverse=(()=>{const _={};return Object.keys(opMapping).forEach(a=>{_[opMapping[a]]=a}),_})(),kindMapping={4:"activate_account",107:"reveal",110:"delegation",108:"transaction",109:"origination",6:"ballot",21:"attestation",1:"seed_nonce_revelation",5:"proposals",111:"register_global_constant",158:"transfer_ticket",112:"set_deposits_limit",113:"increase_paid_storage",114:"update_consensus_key",9:"drain_delegate",200:"smart_rollup_originate",201:"smart_rollup_add_messages",206:"smart_rollup_execute_outbox_message",17:"failing_noop"},kindMappingReverse=(()=>{const _={};return Object.keys(kindMapping).forEach(a=>{const $=typeof a=="string"?parseInt(a,10):a;_[kindMapping[$]]=pad($,2)}),_})(),entrypointMapping={"00":"default","01":"root","02":"do","03":"set_delegate","04":"remove_delegate","05":"deposit","06":"stake","07":"unstake","08":"finalize_unstake","09":"set_delegate_parameters"},entrypointMappingReverse=(()=>{const _={};return Object.keys(entrypointMapping).forEach(a=>{_[entrypointMapping[a]]=a}),_})();class InvalidOperationSchemaError extends ParameterValidationError{constructor(a,$){super(),this.operation=a,this.errorDetail=$,this.name="InvalidOperationSchemaError",this.message="Invalid operation content recevied",$&&(this.message+=` ${$}.`)}}class OversizedEntryPointError extends ParameterValidationError{constructor(a){super(),this.entrypoint=a,this.name="OversizedEntryPointError",this.message=`Invalid entrypoint length "${a.length}", maximum length is "${ENTRYPOINT_MAX_LENGTH}".`}}class InvalidBallotValueError extends ParameterValidationError{constructor(a){super(),this.ballotValue=a,this.name="InvalidBallotValueError",this.message=`Invalid ballot value "${a}" expecting one of the following: "yay", "nay", "pass".`}}class DecodeBallotValueError extends ParameterValidationError{constructor(a){super(),this.ballotValue=a,this.name="DecodeBallotValueError",this.message=`Invalid ballot value "${a}", cannot be decoded.`}}class UnexpectedMichelsonValueError extends ParameterValidationError{constructor(a){super(),this.value=a,this.name="UnexpectedMichelsonValueError",this.message=`Invalid Michelson value "${a}", unalbe to encode.`}}class OperationDecodingError extends ParameterValidationError{constructor(a){super(),this.message=a,this.name="OperationDecodingError"}}class OperationEncodingError extends ParameterValidationError{constructor(a){super(),this.message=a,this.name="OperationEncodingError"}}class UnsupportedOperationError extends ParameterValidationError{constructor(a){super(),this.op=a,this.name="UnsupportedOperationError",this.message=`Unsupported operation "${a}", can submit an issue on our github for feature request.`}}class UnsupportedPvmKindError extends ParameterValidationError{constructor(a){super(),this.pvm=a,this.name="UnsupportedPvmKindError",this.message=`Invalid Pvm kind "${a}" expecting either "arith" or "wasm_2_0_0".`}}class DecodePvmKindError extends ParameterValidationError{constructor(a){super(),this.pvm=a,this.name="DecodePvmKindError",this.message=`Invalid Pvm kind "${a}", cannot be decoded.`}}class InvalidSmartRollupAddressError extends ParameterValidationError{constructor(a,$){super(),this.address=a,this.errorDetail=$,this.name="InvalidSmartRollupAddress",this.message=`Invalid smart rollup address "${a}"`,$&&(this.message+=` ${$}.`)}}class InvalidSmartRollupCommitmentHashError extends ParameterValidationError{constructor(a,$){super(),this.hash=a,this.errorDetail=$,this.name="InvalidSmartRollupCommitmentHashError",this.message=`Invalid smart rollup commitment hash "${a}"`,$&&(this.message+=` ${$}.`)}}class Uint8ArrayConsumer{static fromHexString(a){const $=a.toLowerCase();if(/^(([a-f]|\d){2})*$/.test($)){const j=new Uint8Array(($.match(/([a-z]|\d){2}/g)||[]).map(et=>parseInt(et,16)));return new Uint8ArrayConsumer(j)}else throw new InvalidHexStringError($)}constructor(a,$=0){this.arr=a,this.offset=$}consume(a){const $=this.arr.subarray(this.offset,this.offset+a);return this.offset+=a,$}get(a){return this.arr[this.offset+a]}length(){return this.arr.length-this.offset}slice(a,$){return new Uint8ArrayConsumer(this.arr.slice(a,$))}}const isPrim=_=>"prim"in _,isBytes$2=_=>"bytes"in _&&typeof _.bytes=="string",isString=_=>"string"in _&&typeof _.string=="string",isInt=_=>"int"in _&&typeof _.int=="string",scriptEncoder=_=>{const a=valueEncoder(_.code),$=valueEncoder(_.storage);return`${pad(a.length/2,8)}${a}${pad($.length/2,8)}${$}`},scriptDecoder=_=>{const a=extractRequiredLen(_),$=extractRequiredLen(_);return{code:valueDecoder(new Uint8ArrayConsumer(a)),storage:valueDecoder(new Uint8ArrayConsumer($))}},valueEncoder=_=>{if(Array.isArray(_)){const a=_.map(j=>valueEncoder(j)).join(""),$=a.length/2;return`02${pad($)}${a}`}else{if(isPrim(_))return primEncoder(_);if(isBytes$2(_))return bytesEncoder(_);if(isString(_))return stringEncoder(_);if(isInt(_))return intEncoder(_)}throw new UnexpectedMichelsonValueError(JSON.stringify(_))},valueDecoder=_=>{const a=_.consume(1);switch(a[0]){case 10:return bytesDecoder(_);case 1:return stringDecoder(_);case 0:return intDecoder(_);case 2:{const $=new Uint8ArrayConsumer(extractRequiredLen(_)),j=[];for(;$.length()>0;)j.push(valueDecoder($));return j}default:return primDecoder(_,a)}},extractRequiredLen=(_,a=4)=>{const $=_.consume(a),j=parseInt(Buffer$g.from($).toString("hex"),16);return _.consume(j)},stripLengthPrefixFromBytes=(_,a=4)=>{const $=[];let j=_;for(;j.length();){const et=j.consume(a),tt=parseInt(Buffer$g.from(et).toString("hex"),16);$.push(j.consume(tt)),j=j.slice(tt+a)}return $},bytesEncoder=_=>{if(!/^([A-Fa-f0-9]{2})*$/.test(_.bytes))throw new InvalidHexStringError(_.bytes);const a=_.bytes.length/2;return`0a${pad(a)}${_.bytes}`},bytesDecoder=_=>{const a=extractRequiredLen(_);return{bytes:Buffer$g.from(a).toString("hex")}},stringEncoder=_=>{const a=Buffer$g.from(_.string,"utf8").toString("hex"),$=a.length/2;return`01${pad($)}${a}`},stringDecoder=_=>{const a=extractRequiredLen(_);return{string:Buffer$g.from(a).toString("utf8")}},intEncoder=({int:_})=>{const a=new BigNumber(_,10),$=a.toString(2)[0]==="-"?"1":"0",j=a.toString(2).replace(/-/g,""),et=j.length<=6?6:(j.length-6)%7?j.length+7-(j.length-6)%7:j.length,rt=j.padStart(et,"0").match(/\d{6,7}/g).reverse();return rt[0]=$+rt[0],`00${rt.map((it,ot)=>parseInt((ot===rt.length-1?"0":"1")+it,2).toString(16).padStart(2,"0")).join("")}`},intDecoder=_=>{let a=_.consume(1)[0];const $=[],j=128;for(;a&j;)$.push(a),a=_.consume(1)[0];$.push(a);const et=!!(64&$[0]);$[0]=$[0]&127;const tt=$.map((nt,it)=>nt.toString(2).slice(it===0?-6:-7).padStart(it===0?6:7,"0")).reverse();let rt=new BigNumber(tt.join(""),2);return et&&(rt=rt.times(-1)),{int:rt.toFixed()}},primEncoder=_=>{const a=+Array.isArray(_.annots),$=Array.isArray(_.args)?_.args.length:0,j=pad(Math.min(2*$+a+3,9),2),et=opMappingReverse[_.prim];let tt=(_.args||[]).map(nt=>valueEncoder(nt)).join("");const rt=Array.isArray(_.annots)?encodeAnnots(_.annots):"";return(_.prim==="LAMBDA"||_.prim==="LAMBDA_REC")&&$&&(tt=pad(tt.length/2)+tt+pad(0)),(_.prim==="pair"||_.prim==="Pair")&&$>2&&(tt=rt===""?pad(tt.length/2)+tt+pad(0):pad(tt.length/2)+tt),_.prim==="view"&&_.args&&(tt=pad(tt.length/2)+tt+pad(0)),`${j}${et}${tt}${rt}`},primDecoder=(_,a)=>{const $=(a[0]-3)%2===1;let j=Math.floor((a[0]-3)/2);const et=_.consume(1)[0].toString(16).padStart(2,"0"),tt={prim:opMapping[et]};if((opMapping[et]==="LAMBDA"||opMapping[et]==="LAMBDA_REC")&&_.consume(4),opMapping[et]==="view")return j!=0?primViewDecoder(_,tt):tt;let rt,nt;(opMapping[et]==="pair"||opMapping[et]==="Pair")&&j>2&&(rt=decodeCombPair(_),j=0,nt=decodeAnnots(_));const it=new Array(j).fill(0).map(()=>valueDecoder(_));return(opMapping[et]==="LAMBDA"||opMapping[et]==="LAMBDA_REC")&&_.consume(4),rt?tt.args=rt:it.length&&(tt.args=it),nt&&nt[0]!==""?tt.annots=nt:$&&(tt.annots=decodeAnnots(_)),tt},primViewDecoder=(_,a)=>(_.consume(4),a.args=new Array(4).fill(0).map(()=>valueDecoder(_)),_.consume(4),a),decodeCombPair=_=>{const a=new Uint8ArrayConsumer(extractRequiredLen(_)),$=[];for(;a.length()>0;)$.push(valueDecoder(a));return $},encodeAnnots=_=>{const a=_.map(j=>Buffer$g.from(j,"utf8").toString("hex")).join("20"),$=a.length/2;return`${pad($)}${a}`},decodeAnnots=_=>{const a=_.consume(4),$=parseInt(Buffer$g.from(a).toString("hex"),16),j=_.consume($);return Buffer$g.from(j).toString("hex").split("20").map(tt=>Buffer$g.from(tt,"hex").toString("utf8"))},prefixEncoder=_=>a=>buf2hex(Buffer$g.from(b58cdecode(a,prefix[_]))),prefixDecoder=_=>a=>{const $=a.consume(prefixLength[_]);return b58cencode($,prefix[_])},tz1Decoder=prefixDecoder(Prefix.TZ1),branchDecoder=prefixDecoder(Prefix.B),publicKeyHashDecoder=_=>{const a=_.consume(1);if(a[0]===0)return prefixDecoder(Prefix.TZ1)(_);if(a[0]===1)return prefixDecoder(Prefix.TZ2)(_);if(a[0]===2)return prefixDecoder(Prefix.TZ3)(_)},publicKeyHashesDecoder=_=>{if(!boolDecoder(_))return;const a=[];for(_.consume(4);_.length()>0;)a.push(publicKeyHashDecoder(_));return a},branchEncoder=prefixEncoder(Prefix.B),tz1Encoder=prefixEncoder(Prefix.TZ1),boolEncoder=_=>_?"ff":"00",proposalEncoder=_=>prefixEncoder(Prefix.P)(_),proposalDecoder=_=>prefixDecoder(Prefix.P)(_),proposalsDecoder=_=>{const a=[];for(_.consume(4);_.length()>0;)a.push(proposalDecoder(_));return a},proposalsEncoder=_=>pad(32*_.length)+_.map(a=>proposalEncoder(a)).join(""),ballotEncoder=_=>{switch(_){case"yay":return"00";case"nay":return"01";case"pass":return"02";default:throw new InvalidBallotValueError(_)}},ballotDecoder=_=>{const a=_.consume(1);switch(a[0]){case 0:return"yay";case 1:return"nay";case 2:return"pass";default:throw new DecodeBallotValueError(a[0].toString())}},pvmKindEncoder=_=>{switch(_){case"arith":return"00";case"wasm_2_0_0":return"01";case"riscv":return"02";default:throw new UnsupportedPvmKindError(_)}},pvmKindDecoder=_=>{const a=_.consume(1);switch(a[0]){case 0:return"arith";case 1:return"wasm_2_0_0";case 2:return"riscv";default:throw new DecodePvmKindError(a[0].toString())}},delegateEncoder=_=>_?boolEncoder(!0)+publicKeyHashEncoder(_):boolEncoder(!1),int32Encoder=_=>{const a=parseInt(String(_),10),$=[];for(let j=0;j<4;j++){const et=(4-(j+1))*8;$.push((a&255<<et)>>et)}return Buffer$g.from($).toString("hex")},int32Decoder=_=>{const a=_.consume(4);let $=0;for(let j=0;j<a.length;j++)$=$|a[j]<<(a.length-(j+1))*8;return $},int16Encoder=_=>{const a=parseInt(String(_),10),$=[];for(let j=0;j<2;j++){const et=(2-(j+1))*8;$.push((a&255<<et)>>et)}return Buffer$g.from($).toString("hex")},int16Decoder=_=>{const a=_.consume(2);let $=0;for(let j=0;j<a.length;j++)$=$|a[j]<<(a.length-(j+1))*8;return $},boolDecoder=_=>_.consume(1)[0]===255,delegateDecoder=_=>{if(boolDecoder(_))return publicKeyHashDecoder(_)},publicKeyHashEncoder=_=>{switch(_.substring(0,3)){case Prefix.TZ1:return"00"+prefixEncoder(Prefix.TZ1)(_);case Prefix.TZ2:return"01"+prefixEncoder(Prefix.TZ2)(_);case Prefix.TZ3:return"02"+prefixEncoder(Prefix.TZ3)(_);case Prefix.TZ4:return"03"+prefixEncoder(Prefix.TZ4)(_);default:throw new InvalidKeyHashError(_,invalidDetail(ValidationResult.NO_PREFIX_MATCHED)+` expecting one for the following "${Prefix.TZ1}", "${Prefix.TZ2}", "${Prefix.TZ3}" or "${Prefix.TZ4}".`)}},publicKeyHashesEncoder=_=>{if(!_)return boolEncoder(!1);if(_.length===0)return boolEncoder(!0)+pad(0);const a=_.reduce(($,j)=>$+publicKeyHashEncoder(j),"");return boolEncoder(!0)+pad(a.length/2)+a},publicKeyEncoder=_=>{switch(_.substring(0,4)){case Prefix.EDPK:return"00"+prefixEncoder(Prefix.EDPK)(_);case Prefix.SPPK:return"01"+prefixEncoder(Prefix.SPPK)(_);case Prefix.P2PK:return"02"+prefixEncoder(Prefix.P2PK)(_);default:throw new InvalidPublicKeyError(_,invalidDetail(ValidationResult.NO_PREFIX_MATCHED)+` expecting one of the following '${Prefix.EDPK}', '${Prefix.SPPK}', '${Prefix.P2PK}' or '${Prefix.BLPK}'.`)}},addressEncoder=_=>{switch(_.substring(0,3)){case Prefix.TZ1:case Prefix.TZ2:case Prefix.TZ3:case Prefix.TZ4:return"00"+publicKeyHashEncoder(_);case Prefix.KT1:return"01"+prefixEncoder(Prefix.KT1)(_)+"00";default:throw new InvalidAddressError(_,invalidDetail(ValidationResult.NO_PREFIX_MATCHED)+` expecting one of the following prefix '${Prefix.TZ1}', ${Prefix.TZ2}', '${Prefix.TZ3}', '${Prefix.TZ4}' or '${Prefix.KT1}'.`)}},smartRollupAddressEncoder=_=>{if(_.substring(0,3)!==Prefix.SR1)throw new InvalidSmartRollupAddressError(_,invalidDetail(ValidationResult.NO_PREFIX_MATCHED)+` expecting prefix '${Prefix.SR1}'.`);return prefixEncoder(Prefix.SR1)(_)},smartContractAddressEncoder=_=>{if(_.substring(0,3)===Prefix.KT1)return"01"+prefixEncoder(Prefix.KT1)(_)+"00";throw new InvalidContractAddressError(_,invalidDetail(ValidationResult.NO_PREFIX_MATCHED)+` expecting prefix '${Prefix.KT1}'.`)},publicKeyDecoder=_=>{switch(_.consume(1)[0]){case 0:return prefixDecoder(Prefix.EDPK)(_);case 1:return prefixDecoder(Prefix.SPPK)(_);case 2:return prefixDecoder(Prefix.P2PK)(_);default:throw new InvalidPublicKeyError(_.toString(),invalidDetail(ValidationResult.NO_PREFIX_MATCHED))}},smartRollupCommitmentHashEncoder=_=>{if(_.substring(0,4)===Prefix.SRC1)return prefixEncoder(Prefix.SRC1)(_);throw new InvalidSmartRollupCommitmentHashError(_,invalidDetail(ValidationResult.NO_PREFIX_MATCHED)+` expecting prefix '${Prefix.SRC1}'`)},addressDecoder=_=>{switch(_.consume(1)[0]){case 0:return publicKeyHashDecoder(_);case 1:{const $=prefixDecoder(Prefix.KT1)(_);return _.consume(1),$}default:throw new InvalidAddressError(_.toString(),": Unable to decode.")}},smartRollupAddressDecoder=_=>{const a=prefixDecoder(Prefix.SR1)(_);if(a.substring(0,3)!==Prefix.SR1)throw new InvalidSmartRollupAddressError(a,invalidDetail(ValidationResult.NO_PREFIX_MATCHED)+` expecting prefix '${Prefix.SR1}'.`);return a},smartContractAddressDecoder=_=>{if(_.consume(1)[0]===1){const $=prefixDecoder(Prefix.KT1)(_);return _.consume(1),$}throw new InvalidContractAddressError(_.toString(),invalidDetail(ValidationResult.NO_PREFIX_MATCHED))},smartRollupCommitmentHashDecoder=_=>{const a=prefixDecoder(Prefix.SRC1)(_);if(a.substring(0,4)!==Prefix.SRC1)throw new InvalidSmartRollupCommitmentHashError(a,invalidDetail(ValidationResult.NO_PREFIX_MATCHED)+` expecting prefix '${Prefix.SRC1}'`);return a},zarithEncoder=_=>{const a=[];let $=new BigNumber(_,10);if($.isNaN())throw new TypeError(`Invalid zarith number ${_}`);for(;;)if($.lt(128)){$.lt(16)&&a.push("0"),a.push($.toString(16));break}else{let j=$.mod(128);$=$.minus(j),$=$.dividedBy(128),j=j.plus(128),a.push(j.toString(16))}return a.join("")},zarithDecoder=_=>{let a=0;for(;a<_.length()&&_.get(a)&128;)a+=1;let $=new BigNumber(0);for(let j=a;j>=0;j-=1){const et=_.get(j)&127;$=$.multipliedBy(128),$=$.plus(et)}return _.consume(a+1),new BigNumber($).toString()},entrypointDecoder=_=>{const a=pad(_.consume(1)[0],2);if(a in entrypointMapping)return entrypointMapping[a];{const $=extractRequiredLen(_,1),j=Buffer$g.from($).toString("utf8");if(j.length>ENTRYPOINT_MAX_LENGTH)throw new OversizedEntryPointError(j);return j}},parametersDecoder=_=>{if(_.consume(1)[0]!==0){const $=entrypointDecoder(_),j=extractRequiredLen(_),et=valueDecoder(new Uint8ArrayConsumer(j));return{entrypoint:$,value:et}}},entrypointEncoder=_=>{if(_ in entrypointMappingReverse)return`${entrypointMappingReverse[_]}`;if(_.length>ENTRYPOINT_MAX_LENGTH)throw new OversizedEntryPointError(_);return`ff${valueEncoder({string:_}).slice(8)}`},parametersEncoder=_=>{if(!_||_.entrypoint==="default"&&"prim"in _.value&&_.value.prim==="Unit")return"00";const a=entrypointEncoder(_.entrypoint),$=valueEncoder(_.value),j=($.length/2).toString(16).padStart(8,"0");return`ff${a}${j}${$}`},valueParameterEncoder=_=>{const a=valueEncoder(_);return`${pad(a.length/2)}${a}`},valueParameterDecoder=_=>{const a=extractRequiredLen(_);return valueDecoder(new Uint8ArrayConsumer(a))},blockPayloadHashEncoder=prefixEncoder(Prefix.VH),blockPayloadHashDecoder=prefixDecoder(Prefix.VH),entrypointNameEncoder=_=>`${valueEncoder({string:_}).slice(2)}`,entrypointNameDecoder=_=>{const a=extractRequiredLen(_);return Buffer$g.from(a).toString("utf8")},burnLimitEncoder=_=>_?`ff${zarithEncoder(_)}`:"00",burnLimitDecoder=_=>{const a=_.consume(1);if(Buffer$g.from(a).toString("hex")!=="00")return zarithDecoder(_)},depositsLimitEncoder=_=>_?`ff${zarithEncoder(_)}`:"00",depositsLimitDecoder=_=>{const a=_.consume(1);if(Buffer$g.from(a).toString("hex")!=="00")return zarithDecoder(_)},paddedBytesEncoder=(_,a=8)=>`${pad(_.length/2,a)}${_}`,paddedBytesDecoder=_=>{const a=extractRequiredLen(_);return Buffer$g.from(a).toString("hex")},smartRollupMessageEncoder=_=>{const a=_.reduce(($,j)=>$+`${pad(j.length/2)}${j}`,"");return`${pad(a.length/2)}${a}`},smartRollupMessageDecoder=_=>{const a=extractRequiredLen(_);return stripLengthPrefixFromBytes(new Uint8ArrayConsumer(a)).map(j=>Buffer$g.from(j).toString("hex"))},ManagerOperationSchema={branch:CODEC.BRANCH,contents:[CODEC.OPERATION]},ActivationSchema={pkh:CODEC.TZ1,secret:CODEC.SECRET},RevealSchema={source:CODEC.PKH,fee:CODEC.ZARITH,counter:CODEC.ZARITH,gas_limit:CODEC.ZARITH,storage_limit:CODEC.ZARITH,public_key:CODEC.PUBLIC_KEY},DelegationSchema={source:CODEC.PKH,fee:CODEC.ZARITH,counter:CODEC.ZARITH,gas_limit:CODEC.ZARITH,storage_limit:CODEC.ZARITH,delegate:CODEC.DELEGATE},TransactionSchema={source:CODEC.PKH,fee:CODEC.ZARITH,counter:CODEC.ZARITH,gas_limit:CODEC.ZARITH,storage_limit:CODEC.ZARITH,amount:CODEC.ZARITH,destination:CODEC.ADDRESS,parameters:CODEC.PARAMETERS},OriginationSchema={source:CODEC.PKH,fee:CODEC.ZARITH,counter:CODEC.ZARITH,gas_limit:CODEC.ZARITH,storage_limit:CODEC.ZARITH,balance:CODEC.ZARITH,delegate:CODEC.DELEGATE,script:CODEC.SCRIPT},BallotSchema={source:CODEC.PKH,period:CODEC.INT32,proposal:CODEC.PROPOSAL,ballot:CODEC.BALLOT_STATEMENT},AttestationSchema={slot:CODEC.INT16,level:CODEC.INT32,round:CODEC.INT32,block_payload_hash:CODEC.BLOCK_PAYLOAD_HASH},EndorsementSchema={slot:CODEC.INT16,level:CODEC.INT32,round:CODEC.INT32,block_payload_hash:CODEC.BLOCK_PAYLOAD_HASH},SeedNonceRevelationSchema={level:CODEC.INT32,nonce:CODEC.RAW},ProposalsSchema={source:CODEC.PKH,period:CODEC.INT32,proposals:CODEC.PROPOSAL_ARR},RegisterGlobalConstantSchema={source:CODEC.PKH,fee:CODEC.ZARITH,counter:CODEC.ZARITH,gas_limit:CODEC.ZARITH,storage_limit:CODEC.ZARITH,value:CODEC.VALUE},TransferTicketSchema={source:CODEC.PKH,fee:CODEC.ZARITH,counter:CODEC.ZARITH,gas_limit:CODEC.ZARITH,storage_limit:CODEC.ZARITH,ticket_contents:CODEC.VALUE,ticket_ty:CODEC.VALUE,ticket_ticketer:CODEC.ADDRESS,ticket_amount:CODEC.ZARITH,destination:CODEC.ADDRESS,entrypoint:CODEC.ENTRYPOINT},IncreasePaidStorageSchema={source:CODEC.PKH,fee:CODEC.ZARITH,counter:CODEC.ZARITH,gas_limit:CODEC.ZARITH,storage_limit:CODEC.ZARITH,amount:CODEC.ZARITH,destination:CODEC.SMART_CONTRACT_ADDRESS},UpdateConsensusKeySchema={source:CODEC.PKH,fee:CODEC.ZARITH,counter:CODEC.ZARITH,gas_limit:CODEC.ZARITH,storage_limit:CODEC.ZARITH,pk:CODEC.PUBLIC_KEY},DrainDelegateSchema={consensus_key:CODEC.PKH,delegate:CODEC.PKH,destination:CODEC.PKH},SetDepositsLimitSchema={source:CODEC.PKH,fee:CODEC.ZARITH,counter:CODEC.ZARITH,gas_limit:CODEC.ZARITH,storage_limit:CODEC.ZARITH,limit:CODEC.DEPOSITS_LIMIT},SmartRollupOriginateSchema={source:CODEC.PKH,fee:CODEC.ZARITH,counter:CODEC.ZARITH,gas_limit:CODEC.ZARITH,storage_limit:CODEC.ZARITH,pvm_kind:CODEC.PVM_KIND,kernel:CODEC.PADDED_BYTES,parameters_ty:CODEC.VALUE,whitelist:CODEC.PKH_ARR},SmartRollupAddMessagesSchema={source:CODEC.PKH,fee:CODEC.ZARITH,counter:CODEC.ZARITH,gas_limit:CODEC.ZARITH,storage_limit:CODEC.ZARITH,message:CODEC.SMART_ROLLUP_MESSAGE},SmartRollupExecuteOutboxMessageSchema={source:CODEC.PKH,fee:CODEC.ZARITH,counter:CODEC.ZARITH,gas_limit:CODEC.ZARITH,storage_limit:CODEC.ZARITH,rollup:CODEC.SMART_ROLLUP_ADDRESS,cemented_commitment:CODEC.SMART_ROLLUP_COMMITMENT_HASH,output_proof:CODEC.PADDED_BYTES},FailingNoopSchema={arbitrary:CODEC.PADDED_BYTES},operationEncoder=_=>a=>{if(!(a.kind in _)||!(a.kind in kindMappingReverse))throw new InvalidOperationKindError(a.kind);return kindMappingReverse[a.kind]+_[a.kind](a)},operationDecoder=_=>a=>{const $=a.consume(1),j=kindMapping[$[0]];if(j===void 0)throw new UnsupportedOperationError($[0].toString());const et=_[j](a);if(typeof et!="object")throw new OperationDecodingError("Invalid operation, cannot be decoded.");return Object.assign({kind:j},et)},schemaEncoder=_=>a=>$=>Object.keys(a).reduce((et,tt)=>{const rt=a[tt];if($&&Array.isArray(rt)){const nt=_[rt[0]],it=$[tt];if(!Array.isArray(it))throw new OperationEncodingError(`Invalid operation value "${JSON.stringify(it)}" of key "${tt}, expected value to be Array.`);return et+it.reduce((ot,st)=>ot+nt(st),"")}else{const nt=_[rt];return et+nt($[tt])}},""),schemaDecoder=_=>a=>$=>Object.keys(a).reduce((et,tt)=>{const rt=a[tt];if(Array.isArray(rt)){const nt=_[rt[0]],it=[],ot=$.length();for(;$.length()>0;)if(it.push(nt($)),ot===$.length())throw new OperationDecodingError("Unable to decode value");return Object.assign(Object.assign({},et),{[tt]:it})}else{const nt=_[rt],it=nt($);return typeof it<"u"?Object.assign(Object.assign({},et),{[tt]:it}):Object.assign({},et)}},{}),decoders={[CODEC.SECRET]:_=>toHexString(_.consume(20)),[CODEC.RAW]:_=>toHexString(_.consume(32)),[CODEC.TZ1]:tz1Decoder,[CODEC.BRANCH]:branchDecoder,[CODEC.ZARITH]:zarithDecoder,[CODEC.PUBLIC_KEY]:publicKeyDecoder,[CODEC.PKH]:publicKeyHashDecoder,[CODEC.PKH_ARR]:publicKeyHashesDecoder,[CODEC.DELEGATE]:delegateDecoder,[CODEC.INT32]:int32Decoder,[CODEC.SCRIPT]:scriptDecoder,[CODEC.BALLOT_STATEMENT]:ballotDecoder,[CODEC.PROPOSAL]:proposalDecoder,[CODEC.PROPOSAL_ARR]:proposalsDecoder,[CODEC.PARAMETERS]:parametersDecoder,[CODEC.ADDRESS]:addressDecoder,[CODEC.SMART_ROLLUP_ADDRESS]:smartRollupAddressDecoder,[CODEC.SMART_CONTRACT_ADDRESS]:smartContractAddressDecoder,[CODEC.SMART_ROLLUP_COMMITMENT_HASH]:smartRollupCommitmentHashDecoder,[CODEC.VALUE]:valueParameterDecoder,[CODEC.INT16]:int16Decoder,[CODEC.BLOCK_PAYLOAD_HASH]:blockPayloadHashDecoder,[CODEC.ENTRYPOINT]:entrypointNameDecoder,[CODEC.BURN_LIMIT]:burnLimitDecoder,[CODEC.DEPOSITS_LIMIT]:depositsLimitDecoder,[CODEC.PVM_KIND]:pvmKindDecoder,[CODEC.PADDED_BYTES]:paddedBytesDecoder,[CODEC.SMART_ROLLUP_MESSAGE]:smartRollupMessageDecoder};decoders[CODEC.OPERATION]=operationDecoder(decoders);decoders[CODEC.OP_ACTIVATE_ACCOUNT]=_=>schemaDecoder(decoders)(ActivationSchema)(_);decoders[CODEC.OP_FAILING_NOOP]=_=>schemaDecoder(decoders)(FailingNoopSchema)(_);decoders[CODEC.OP_DELEGATION]=_=>schemaDecoder(decoders)(DelegationSchema)(_);decoders[CODEC.OP_TRANSACTION]=_=>schemaDecoder(decoders)(TransactionSchema)(_);decoders[CODEC.OP_ORIGINATION]=_=>schemaDecoder(decoders)(OriginationSchema)(_);decoders[CODEC.OP_BALLOT]=_=>schemaDecoder(decoders)(BallotSchema)(_);decoders[CODEC.OP_ATTESTATION]=_=>schemaDecoder(decoders)(AttestationSchema)(_);decoders[CODEC.OP_ENDORSEMENT]=_=>schemaDecoder(decoders)(EndorsementSchema)(_);decoders[CODEC.OP_SEED_NONCE_REVELATION]=_=>schemaDecoder(decoders)(SeedNonceRevelationSchema)(_);decoders[CODEC.OP_PROPOSALS]=_=>schemaDecoder(decoders)(ProposalsSchema)(_);decoders[CODEC.OP_REVEAL]=_=>schemaDecoder(decoders)(RevealSchema)(_);decoders[CODEC.OP_REGISTER_GLOBAL_CONSTANT]=_=>schemaDecoder(decoders)(RegisterGlobalConstantSchema)(_);decoders[CODEC.OP_TRANSFER_TICKET]=_=>schemaDecoder(decoders)(TransferTicketSchema)(_);decoders[CODEC.OP_INCREASE_PAID_STORAGE]=_=>schemaDecoder(decoders)(IncreasePaidStorageSchema)(_);decoders[CODEC.OP_UPDATE_CONSENSUS_KEY]=_=>schemaDecoder(decoders)(UpdateConsensusKeySchema)(_);decoders[CODEC.OP_DRAIN_DELEGATE]=_=>schemaDecoder(decoders)(DrainDelegateSchema)(_);decoders[CODEC.OP_SMART_ROLLUP_ORIGINATE]=_=>schemaDecoder(decoders)(SmartRollupOriginateSchema)(_);decoders[CODEC.OP_SMART_ROLLUP_ADD_MESSAGES]=_=>schemaDecoder(decoders)(SmartRollupAddMessagesSchema)(_);decoders[CODEC.OP_SMART_ROLLUP_EXECUTE_OUTBOX_MESSAGE]=_=>schemaDecoder(decoders)(SmartRollupExecuteOutboxMessageSchema)(_);decoders[CODEC.MANAGER]=schemaDecoder(decoders)(ManagerOperationSchema);decoders[CODEC.OP_SET_DEPOSITS_LIMIT]=_=>schemaDecoder(decoders)(SetDepositsLimitSchema)(_);const encoders={[CODEC.SECRET]:_=>_,[CODEC.RAW]:_=>_,[CODEC.TZ1]:tz1Encoder,[CODEC.BRANCH]:branchEncoder,[CODEC.ZARITH]:zarithEncoder,[CODEC.PUBLIC_KEY]:publicKeyEncoder,[CODEC.PKH]:publicKeyHashEncoder,[CODEC.PKH_ARR]:publicKeyHashesEncoder,[CODEC.DELEGATE]:delegateEncoder,[CODEC.SCRIPT]:scriptEncoder,[CODEC.BALLOT_STATEMENT]:ballotEncoder,[CODEC.PROPOSAL]:proposalEncoder,[CODEC.PROPOSAL_ARR]:proposalsEncoder,[CODEC.INT32]:int32Encoder,[CODEC.PARAMETERS]:parametersEncoder,[CODEC.ADDRESS]:addressEncoder,[CODEC.SMART_ROLLUP_ADDRESS]:smartRollupAddressEncoder,[CODEC.SMART_CONTRACT_ADDRESS]:smartContractAddressEncoder,[CODEC.SMART_ROLLUP_COMMITMENT_HASH]:smartRollupCommitmentHashEncoder,[CODEC.VALUE]:valueParameterEncoder,[CODEC.INT16]:int16Encoder,[CODEC.BLOCK_PAYLOAD_HASH]:blockPayloadHashEncoder,[CODEC.ENTRYPOINT]:entrypointNameEncoder,[CODEC.BURN_LIMIT]:burnLimitEncoder,[CODEC.DEPOSITS_LIMIT]:depositsLimitEncoder,[CODEC.PVM_KIND]:pvmKindEncoder,[CODEC.PADDED_BYTES]:paddedBytesEncoder,[CODEC.SMART_ROLLUP_MESSAGE]:smartRollupMessageEncoder};encoders[CODEC.OPERATION]=operationEncoder(encoders);encoders[CODEC.OP_ACTIVATE_ACCOUNT]=_=>schemaEncoder(encoders)(ActivationSchema)(_);encoders[CODEC.OP_DELEGATION]=_=>schemaEncoder(encoders)(DelegationSchema)(_);encoders[CODEC.OP_TRANSACTION]=_=>schemaEncoder(encoders)(TransactionSchema)(_);encoders[CODEC.OP_ORIGINATION]=_=>schemaEncoder(encoders)(OriginationSchema)(_);encoders[CODEC.OP_BALLOT]=_=>schemaEncoder(encoders)(BallotSchema)(_);encoders[CODEC.OP_ATTESTATION]=_=>schemaEncoder(encoders)(AttestationSchema)(_);encoders[CODEC.OP_ENDORSEMENT]=_=>schemaEncoder(encoders)(EndorsementSchema)(_);encoders[CODEC.OP_SEED_NONCE_REVELATION]=_=>schemaEncoder(encoders)(SeedNonceRevelationSchema)(_);encoders[CODEC.OP_PROPOSALS]=_=>schemaEncoder(encoders)(ProposalsSchema)(_);encoders[CODEC.OP_REVEAL]=_=>schemaEncoder(encoders)(RevealSchema)(_);encoders[CODEC.OP_REGISTER_GLOBAL_CONSTANT]=_=>schemaEncoder(encoders)(RegisterGlobalConstantSchema)(_);encoders[CODEC.OP_TRANSFER_TICKET]=_=>schemaEncoder(encoders)(TransferTicketSchema)(_);encoders[CODEC.OP_INCREASE_PAID_STORAGE]=_=>schemaEncoder(encoders)(IncreasePaidStorageSchema)(_);encoders[CODEC.OP_UPDATE_CONSENSUS_KEY]=_=>schemaEncoder(encoders)(UpdateConsensusKeySchema)(_);encoders[CODEC.OP_DRAIN_DELEGATE]=_=>schemaEncoder(encoders)(DrainDelegateSchema)(_);encoders[CODEC.OP_SMART_ROLLUP_ORIGINATE]=_=>schemaEncoder(encoders)(SmartRollupOriginateSchema)(_);encoders[CODEC.OP_SMART_ROLLUP_ADD_MESSAGES]=_=>schemaEncoder(encoders)(SmartRollupAddMessagesSchema)(_);encoders[CODEC.OP_SMART_ROLLUP_EXECUTE_OUTBOX_MESSAGE]=_=>schemaEncoder(encoders)(SmartRollupExecuteOutboxMessageSchema)(_);encoders[CODEC.MANAGER]=schemaEncoder(encoders)(ManagerOperationSchema);encoders[CODEC.OP_SET_DEPOSITS_LIMIT]=_=>schemaEncoder(encoders)(SetDepositsLimitSchema)(_);encoders[CODEC.OP_FAILING_NOOP]=_=>schemaEncoder(encoders)(FailingNoopSchema)(_);const OperationKindMapping={activate_account:ActivationSchema,reveal:RevealSchema,delegation:DelegationSchema,transaction:TransactionSchema,origination:OriginationSchema,ballot:BallotSchema,attestation:AttestationSchema,endorsement:EndorsementSchema,seed_nonce_revelation:SeedNonceRevelationSchema,proposals:ProposalsSchema,register_global_constant:RegisterGlobalConstantSchema,transfer_ticket:TransferTicketSchema,increase_paid_storage:IncreasePaidStorageSchema,update_consensus_key:UpdateConsensusKeySchema,drain_delegate:DrainDelegateSchema,set_deposits_limit:SetDepositsLimitSchema,smart_rollup_originate:SmartRollupOriginateSchema,smart_rollup_add_messages:SmartRollupAddMessagesSchema,smart_rollup_execute_outbox_message:SmartRollupExecuteOutboxMessageSchema,failing_noop:FailingNoopSchema},getArrayDifference=(_,a)=>a.filter($=>!_.includes($)),deleteArrayElementByValue=(_,a)=>_.filter($=>$!==a),validateOperationKind=_=>Object.keys(OperationKindMapping).includes(_),validateMissingProperty=_=>{const a=_.kind,$=Object.keys(_),j=deleteArrayElementByValue($,"kind"),et=Object.keys(OperationKindMapping[a]);return getArrayDifference(j,et)};var ProtocolsHash;(function(_){_.Pt24m4xi="Pt24m4xiPbLDhVgVfABUjirbmda3yohdN82Sp9FeuAXJ4eV9otd",_.PsBABY5H="PsBABY5HQTSkA4297zNHfsZNKtxULfL18y95qb3m53QJiXGmrbU",_.PsBabyM1="PsBabyM1eUXZseaJdmXFApDSBqj8YBfwELoxZHHW77EMcAbbwAS",_.PsCARTHA="PsCARTHAGazKbHtnKfLzQg3kms52kSRpgnDY982a9oYsSXRLQEb",_.PsDELPH1="PsDELPH1Kxsxt8f9eWbxQeRxkjfbxoqM52jvs5Y5fBxWWh4ifpo",_.PtEdo2Zk="PtEdo2ZkT9oKpimTah6x2embF25oss54njMuPzkJTEi5RqfdZFA",_.PsFLorena="PsFLorenaUUuikDWvMDr6fGBRG8kt3e3D3fHoXK1j1BFRxeSH4i",_.PtGRANADs="PtGRANADsDU8R9daYKAgWnQYAJ64omN1o3KMGVCykShA97vQbvV",_.PtHangz2="PtHangz2aRngywmSRGGvrcTyMbbdpWdpFKuS4uMWxg2RaH9i1qx",_.Psithaca2="Psithaca2MLRFYargivpo7YvUr7wUDqyxrdhC5CQq78mRvimz6A",_.PtJakart2="PtJakart2xVj7pYXJBXrqHgd82rdkLey5ZeeGwDgPp9rhQUbSqY",_.PtKathman="PtKathmankSpLLDALzWw7CGD2j2MtyveTwboEYokqUCP4a1LxMg",_.PtLimaPtL="PtLimaPtLMwfNinJi9rCfDPWea8dFgTZ1MeJ9f1m2SRic6ayiwW",_.PtMumbaii="PtMumbaiiFFEGbew1rRjzSPyzRbA51Tm3RVZL5suHPxSZYDhCEc",_.PtMumbai2="PtMumbai2TmsJHNGRkD8v8YDbtao7BLUC3wjASn1inAKLFCjaH1",_.PtNairobi="PtNairobiyssHuh87hEhfVBGCVrK3WnS8Z2FT4ymB5tAa4r1nQf",_.ProxfordY="ProxfordYmVfjWnRcgjWH36fW6PArwqykTFzotUxRs6gmTcZDuH",_.ProtoALpha="ProtoALphaALphaALphaALphaALphaALphaALphaALphaDdp3zK"})(ProtocolsHash||(ProtocolsHash={}));const PROTOCOL_CURRENT=ProtocolsHash.ProxfordY;function getCodec(_,a){return{encoder:encoders[_],decoder:$=>{const j=Uint8ArrayConsumer.fromHexString($);return decoders[_](j)}}}class LocalForger{constructor(a=PROTOCOL_CURRENT){this.protocolHash=a,this.codec=getCodec(CODEC.MANAGER,this.protocolHash)}forge(a){const $=validateBlock(a.branch);if($!==ValidationResult.VALID)throw new InvalidBlockHashError(a.branch,invalidDetail($));for(const et of a.contents){if(!validateOperationKind(et.kind))throw new InvalidOperationKindError(et.kind);const tt=validateMissingProperty(et);if(tt.length===1){if(et.kind==="delegation"&&tt[0]==="delegate")continue;if(et.kind==="origination"&&tt[0]==="delegate")continue;if(et.kind==="transaction"&&tt[0]==="parameters")continue;if(et.kind==="set_deposits_limit"&&tt[0]==="limit")continue;if(et.kind==="smart_rollup_originate"&&tt[0]==="whitelist")continue;throw new InvalidOperationSchemaError(et,`missing properties "${tt.join(", ")}"`)}else if(tt.length>1)throw new InvalidOperationSchemaError(et,`missing properties "${tt.join(", ")}"`)}const j=this.codec.encoder(a).toLowerCase();return Promise.resolve(j)}parse(a){return Promise.resolve(this.codec.decoder(a))}}new LocalForger;function __rest(_,a){var $={};for(var j in _)Object.prototype.hasOwnProperty.call(_,j)&&a.indexOf(j)<0&&($[j]=_[j]);if(_!=null&&typeof Object.getOwnPropertySymbols=="function")for(var et=0,j=Object.getOwnPropertySymbols(_);et<j.length;et++)a.indexOf(j[et])<0&&Object.prototype.propertyIsEnumerable.call(_,j[et])&&($[j[et]]=_[j[et]]);return $}function __awaiter(_,a,$,j){function et(tt){return tt instanceof $?tt:new $(function(rt){rt(tt)})}return new($||($=Promise))(function(tt,rt){function nt(st){try{ot(j.next(st))}catch(ct){rt(ct)}}function it(st){try{ot(j.throw(st))}catch(ct){rt(ct)}}function ot(st){st.done?tt(st.value):et(st.value).then(nt,it)}ot((j=j.apply(_,[])).next())})}function __classPrivateFieldGet(_,a,$,j){if($==="a"&&!j)throw new TypeError("Private accessor was defined without a getter");if(typeof a=="function"?_!==a||!j:!a.has(_))throw new TypeError("Cannot read private member from an object whose class did not declare it");return $==="m"?j:$==="a"?j.call(_):j?j.value:a.get(_)}function __classPrivateFieldSet(_,a,$,j,et){if(typeof a=="function"?_!==a||!et:!a.has(_))throw new TypeError("Cannot write private member to an object whose class did not declare it");return a.set(_,$),$}typeof SuppressedError=="function"&&SuppressedError;function formatErrorMessage(_,a){const $=JSON.parse(_.body);if($[0]&&$[0].kind&&$[0].msg){const j=JSON.stringify({kind:$[0].kind,id:$[0].id,msg:$[0].msg.replace(a,"")});return new HttpResponseError(`Http error response: (${_.status}) ${j}`,_.status,_.statusText,j,_.url)}else return _}class RpcInjector{constructor(a){this.context=a}inject(a){return __awaiter(this,void 0,void 0,function*(){let $;try{$=yield this.context.rpc.injectOperation(a)}catch(j){const et=". You may want to use --replace to provide adequate fee and replace it";throw j instanceof HttpResponseError&&j.message.includes(et)?formatErrorMessage(j,et):j}return $})}}class UnconfiguredSignerError extends TezosToolkitConfigError{constructor(){super(),this.name="UnconfiguredSignerError",this.message="No signer has been configured. Please configure one by calling setProvider({signer}) on your TezosToolkit instance."}}class NoopSigner{publicKey(){return __awaiter(this,void 0,void 0,function*(){throw new UnconfiguredSignerError})}publicKeyHash(){return __awaiter(this,void 0,void 0,function*(){throw new UnconfiguredSignerError})}secretKey(){return __awaiter(this,void 0,void 0,function*(){throw new UnconfiguredSignerError})}sign(a,$){return __awaiter(this,void 0,void 0,function*(){throw new UnconfiguredSignerError})}}function createObservableFromSubscription(_){return new Observable(a=>(_.on("data",$=>{a.next($)}),_.on("error",$=>{a.error($)}),_.on("close",()=>{a.complete()}),()=>{_.close()}))}const REVEAL_GAS_LIMIT={TZ1:169,TZ2:155,TZ3:445,TZ4:1674},REVEAL_FEE={TZ1:276,TZ2:276,TZ3:305,TZ4:477},REVEAL_STORAGE_LIMIT=0,COST_PER_BYTE=250;var Protocols;(function(_){_.Pt24m4xi="Pt24m4xiPbLDhVgVfABUjirbmda3yohdN82Sp9FeuAXJ4eV9otd",_.PsBABY5H="PsBABY5HQTSkA4297zNHfsZNKtxULfL18y95qb3m53QJiXGmrbU",_.PsBabyM1="PsBabyM1eUXZseaJdmXFApDSBqj8YBfwELoxZHHW77EMcAbbwAS",_.PsCARTHA="PsCARTHAGazKbHtnKfLzQg3kms52kSRpgnDY982a9oYsSXRLQEb",_.PsDELPH1="PsDELPH1Kxsxt8f9eWbxQeRxkjfbxoqM52jvs5Y5fBxWWh4ifpo",_.PtEdo2Zk="PtEdo2ZkT9oKpimTah6x2embF25oss54njMuPzkJTEi5RqfdZFA",_.PsFLorena="PsFLorenaUUuikDWvMDr6fGBRG8kt3e3D3fHoXK1j1BFRxeSH4i",_.PtGRANADs="PtGRANADsDU8R9daYKAgWnQYAJ64omN1o3KMGVCykShA97vQbvV",_.PtHangz2="PtHangz2aRngywmSRGGvrcTyMbbdpWdpFKuS4uMWxg2RaH9i1qx",_.PsiThaCa="PsiThaCaT47Zboaw71QWScM8sXeMM7bbQFncK9FLqYc6EKdpjVP",_.Psithaca2="Psithaca2MLRFYargivpo7YvUr7wUDqyxrdhC5CQq78mRvimz6A",_.PtJakart2="PtJakart2xVj7pYXJBXrqHgd82rdkLey5ZeeGwDgPp9rhQUbSqY",_.PtKathman="PtKathmankSpLLDALzWw7CGD2j2MtyveTwboEYokqUCP4a1LxMg",_.PtLimaPtL="PtLimaPtLMwfNinJi9rCfDPWea8dFgTZ1MeJ9f1m2SRic6ayiwW",_.PtMumbaii="PtMumbaiiFFEGbew1rRjzSPyzRbA51Tm3RVZL5suHPxSZYDhCEc",_.PtMumbai2="PtMumbai2TmsJHNGRkD8v8YDbtao7BLUC3wjASn1inAKLFCjaH1",_.PtNairobi="PtNairobiyssHuh87hEhfVBGCVrK3WnS8Z2FT4ymB5tAa4r1nQf",_.ProxfordY="ProxfordYmVfjWnRcgjWH36fW6PArwqykTFzotUxRs6gmTcZDuH",_.ProtoALpha="ProtoALphaALphaALphaALphaALphaALphaALphaALphaDdp3zK"})(Protocols||(Protocols={}));Protocols.Pt24m4xi,Protocols.PsBABY5H,Protocols.PsBabyM1,Protocols.PsCARTHA,Protocols.PsDELPH1,Protocols.PtEdo2Zk,Protocols.PsFLorena,Protocols.PtGRANADs,Protocols.PtHangz2,Protocols.PsiThaCa,Protocols.Psithaca2,Protocols.PtJakart2,Protocols.PtKathman,Protocols.PtLimaPtL,Protocols.PtMumbai2,Protocols.PtNairobi,Protocols.ProxfordY,Protocols.ProtoALpha;var ChainIds;(function(_){_.MAINNET="NetXdQprcVkpaWU",_.CARTHAGENET="NetXjD3HPJJjmcd",_.DELPHINET="NetXm8tYqnMWky1",_.EDONET="NetXSgo1ZT2DRUG",_.FLORENCENET="NetXxkAx4woPLyu",_.GRANADANET="NetXz969SFaFn8k",_.HANGZHOUNET="NetXZSsxBpMQeAT",_.ITHACANET="NetXbhmtAbMukLc",_.ITHACANET2="NetXnHfVqm9iesp",_.JAKARTANET2="NetXLH1uAxK7CCh",_.KATHMANDUNET="NetXazhm4yetmff",_.LIMANET="NetXizpkH94bocH",_.MUMBAINET="NetXQw6nWSnrJ5t",_.MUMBAINET2="NetXgbcrNtXD2yA",_.NAIROBINET="NetXyuzvDo2Ugzb",_.OXFORDNET2="NetXxWsskGahzQB"})(ChainIds||(ChainIds={}));const getRevealGasLimit=_=>Math.round(getRevealGasLimitInternal(_)*37/10),getRevealGasLimitInternal=_=>{switch(_.substring(0,3)){case"tz1":return REVEAL_GAS_LIMIT.TZ1;case"tz2":return REVEAL_GAS_LIMIT.TZ2;case"tz3":return REVEAL_GAS_LIMIT.TZ3;case"tz4":return REVEAL_GAS_LIMIT.TZ4;default:throw new Error(`Cannot estimate reveal gas limit for ${_}`)}},getRevealFee=_=>Math.round(getRevealFeeInternal(_)*12/10),getRevealFeeInternal=_=>{switch(_.substring(0,3)){case"tz1":return REVEAL_FEE.TZ1;case"tz2":return REVEAL_FEE.TZ2;case"tz3":return REVEAL_FEE.TZ3;case"tz4":return REVEAL_FEE.TZ4;default:throw new Error(`Cannot estimate reveal fee for ${_}`)}};class InvalidParameterError extends ParameterValidationError{constructor(a,$,j){super(),this.smartContractMethodName=a,this.sigs=$,this.invalidParams=j,this.name="InvalidParameterError",this.message=`${a} Received ${j.length} arguments while expecting one of the following signatures (${JSON.stringify($)})`}}class InvalidDelegationSource extends ParameterValidationError{constructor(a){super(),this.source=a,this.name="InvalidDelegationSource",this.message=`Since Babylon delegation source can no longer be a contract address ${a}. Please use the smart contract abstraction to set your delegate.`}}class InvalidCodeParameter extends ParameterValidationError{constructor(a,$){super(),this.message=a,this.data=$,this.name="InvalidCodeParameter"}}class InvalidInitParameter extends ParameterValidationError{constructor(a,$){super(),this.message=a,this.data=$,this.name="InvalidInitParameter"}}class ViewSimulationError extends RpcError{constructor(a,$,j,et){super(),this.message=a,this.viewName=$,this.failWith=j,this.cause=et,this.name="ViewSimulationError"}}const validateAndExtractFailwith=_=>{if(isJsonString(_.body)){const a=JSON.parse(_.body);if(Array.isArray(a)&&"with"in a[a.length-1])return a[a.length-1].with}},isJsonString=_=>{try{JSON.parse(_)}catch{return!1}return!0};class InvalidViewSimulationContext extends ParameterValidationError{constructor(a){super(),this.info=a,this.name="InvalidViewSimulationContext",this.message=`${a} Please configure the context of the view execution in the executeView method.`}}class RevealOperationError extends RpcError{constructor(a){super(),this.message=a,this.name="RevealOperationError"}}class OriginationParameterError extends ParameterValidationError{constructor(a){super(),this.message=a,this.name}}class InvalidBalanceError extends ParameterValidationError{constructor(a){super(),this.message=a,this.name="InvalidBalanceError"}}const createActivationOperation=({pkh:_,secret:a})=>__awaiter(void 0,void 0,void 0,function*(){return{kind:OpKind.ACTIVATION,pkh:_,secret:a}}),createOriginationOperation=({code:_,init:a,balance:$="0",delegate:j,storage:et,fee:tt,gasLimit:rt,storageLimit:nt,mutez:it=!1})=>__awaiter(void 0,void 0,void 0,function*(){if(et!==void 0&&a!==void 0)throw new OriginationParameterError("Storage and Init cannot be set a the same time. Please either use storage or init but not both.");if(!Array.isArray(_))throw new InvalidCodeParameter("Wrong code parameter type, expected an array",_);let ot;if(et!==void 0){const ut=_.find(Et=>"prim"in Et&&Et.prim==="storage");if((ut==null?void 0:ut.args)===void 0)throw new InvalidCodeParameter("The storage section is missing from the script",_);ot=new Schema(ut.args[0]).Encode(et)}else if(a!==void 0&&typeof a=="object")ot=a;else throw new InvalidInitParameter("Wrong init parameter type, expected JSON Michelson",a);const st={code:_,storage:ot};if(isNaN(Number($)))throw new InvalidBalanceError(`Invalid Balance "${$}", cannot be converted to a number`);const ct={kind:OpKind.ORIGINATION,fee:tt,gas_limit:rt,storage_limit:nt,balance:it?$.toString():format$1("tz","mutez",$).toString(),script:st};return j&&(ct.delegate=j),ct}),createTransferOperation=({to:_,amount:a,parameter:$,fee:j,gasLimit:et,storageLimit:tt,mutez:rt=!1})=>__awaiter(void 0,void 0,void 0,function*(){return{kind:OpKind.TRANSACTION,fee:j,gas_limit:et,storage_limit:tt,amount:rt?a.toString():format$1("tz","mutez",a).toString(),destination:_,parameters:$}}),createSetDelegateOperation=({delegate:_,source:a,fee:$,gasLimit:j,storageLimit:et})=>__awaiter(void 0,void 0,void 0,function*(){return{kind:OpKind.DELEGATION,source:a,fee:$,gas_limit:j,storage_limit:et,delegate:_}}),createRegisterDelegateOperation=({fee:_,gasLimit:a,storageLimit:$},j)=>__awaiter(void 0,void 0,void 0,function*(){return{kind:OpKind.DELEGATION,fee:_,gas_limit:a,storage_limit:$,delegate:j}}),createRevealOperation=({fee:_,gasLimit:a,storageLimit:$},j,et)=>__awaiter(void 0,void 0,void 0,function*(){return{kind:OpKind.REVEAL,fee:_,public_key:et,source:j,gas_limit:a??getRevealGasLimit(j),storage_limit:$}}),createRegisterGlobalConstantOperation=({value:_,source:a,fee:$,gasLimit:j,storageLimit:et})=>__awaiter(void 0,void 0,void 0,function*(){return{kind:OpKind.REGISTER_GLOBAL_CONSTANT,value:_,fee:$,gas_limit:j,storage_limit:et,source:a}}),createTransferTicketOperation=({ticketContents:_,ticketTy:a,ticketTicketer:$,ticketAmount:j,destination:et,entrypoint:tt,source:rt,fee:nt,gasLimit:it,storageLimit:ot})=>__awaiter(void 0,void 0,void 0,function*(){return{kind:OpKind.TRANSFER_TICKET,fee:nt,gas_limit:it,storage_limit:ot,source:rt,ticket_contents:_,ticket_ty:a,ticket_ticketer:$,ticket_amount:j,destination:et,entrypoint:tt}}),createIncreasePaidStorageOperation=({source:_,fee:a,gasLimit:$,storageLimit:j,amount:et,destination:tt})=>__awaiter(void 0,void 0,void 0,function*(){return{kind:OpKind.INCREASE_PAID_STORAGE,source:_,fee:a,gas_limit:$,storage_limit:j,amount:et,destination:tt}}),createDrainDelegateOperation=({consensus_key:_,delegate:a,destination:$})=>__awaiter(void 0,void 0,void 0,function*(){return{kind:OpKind.DRAIN_DELEGATE,consensus_key:_,delegate:a,destination:$}}),createBallotOperation=({source:_,proposal:a,ballot:$})=>__awaiter(void 0,void 0,void 0,function*(){return{kind:OpKind.BALLOT,source:_,proposal:a,ballot:$}}),createProposalsOperation=({source:_,proposals:a})=>__awaiter(void 0,void 0,void 0,function*(){return{kind:OpKind.PROPOSALS,source:_,proposals:a}}),createUpdateConsensusKeyOperation=({source:_,fee:a,gasLimit:$,storageLimit:j,pk:et})=>__awaiter(void 0,void 0,void 0,function*(){return{kind:OpKind.UPDATE_CONSENSUS_KEY,source:_,fee:a,gas_limit:$,storage_limit:j,pk:et}}),createSmartRollupAddMessagesOperation=({source:_,fee:a,gasLimit:$,storageLimit:j,message:et})=>__awaiter(void 0,void 0,void 0,function*(){return{kind:OpKind.SMART_ROLLUP_ADD_MESSAGES,source:_,fee:a,gas_limit:$,storage_limit:j,message:et}}),createSmartRollupOriginateOperation=({source:_,fee:a,gasLimit:$,storageLimit:j,pvmKind:et,kernel:tt,parametersType:rt})=>__awaiter(void 0,void 0,void 0,function*(){return{kind:OpKind.SMART_ROLLUP_ORIGINATE,source:_,fee:a,gas_limit:$,storage_limit:j,pvm_kind:et,kernel:tt,parameters_ty:rt}}),createSmartRollupExecuteOutboxMessageOperation=({source:_,fee:a,gasLimit:$,storageLimit:j,rollup:et,cementedCommitment:tt,outputProof:rt})=>__awaiter(void 0,void 0,void 0,function*(){return{kind:OpKind.SMART_ROLLUP_EXECUTE_OUTBOX_MESSAGE,source:_,fee:a,gas_limit:$,storage_limit:j,rollup:et,cemented_commitment:tt,output_proof:rt}}),attachKind=(_,a)=>Object.assign(Object.assign({},_),{kind:a}),findWithKind=(_,a)=>{if(Array.isArray(_)){const $=_.find(j=>j.kind===a);if($&&isKind($,a))return $}},isKind=(_,a)=>_.kind===a,isOpWithGasBuffer=_=>_.kind===OpKind.TRANSACTION&&_.parameters?!0:["origination","register_global_constant","transfer_ticket","update_consensus_key","smart_rollup_add_messages","smart_rollup_originate"].indexOf(_.kind)!==-1,isOpWithFee=_=>["transaction","delegation","origination","reveal","register_global_constant","increase_paid_storage","transfer_ticket","update_consensus_key","smart_rollup_add_messages","smart_rollup_originate","smart_rollup_execute_outbox_message"].indexOf(_.kind)!==-1,isOpRequireReveal=_=>["transaction","delegation","origination","register_global_constant","increase_paid_storage","transfer_ticket","update_consensus_key","smart_rollup_add_messages","smart_rollup_originate","smart_rollup_execute_outbox_message"].indexOf(_.kind)!==-1,hasMetadata=_=>"metadata"in _,hasMetadataWithResult=_=>hasMetadata(_)&&"operation_result"in _.metadata,hasMetadataWithInternalOperationResult=_=>hasMetadata(_)&&"internal_operation_results"in _.metadata,isErrorWithMessage=_=>"with"in _;class TezosOperationError extends RpcError{constructor(a,$,j){super(),this.errors=a,this.errorDetails=$,this.operationsWithResults=j,this.name="TezosOperationError",this.lastError=a[a.length-1],this.message=`(${this.kind}) ${this.id}`,isErrorWithMessage(this.lastError)&&(this.lastError.with.string?this.message=this.lastError.with.string:this.lastError.with.int?this.message=this.lastError.with.int:this.message=JSON.stringify(this.lastError.with))}get id(){return this.lastError.id}get kind(){return this.lastError.kind}}class TezosPreapplyFailureError extends Error{constructor(a){super(),this.result=a,this.name="TezosPreapplyFailureError",this.message="Preapply returned an unexpected result"}}const flattenOperationResult=_=>{const a=Array.isArray(_)?_:[_],$=[];for(let j=0;j<a.length;j++)for(let et=0;et<a[j].contents.length;et++){const tt=a[j].contents[et];hasMetadataWithResult(tt)&&"fee"in tt&&($.push(Object.assign({fee:tt.fee},tt.metadata.operation_result)),Array.isArray(tt.metadata.internal_operation_results)&&tt.metadata.internal_operation_results.forEach(rt=>$.push(rt.result)))}return $},flattenErrors=(_,a="failed")=>{const $=Array.isArray(_)?_:[_];let j=[];for(let et=0;et<$.length;et++)for(let tt=0;tt<$[et].contents.length;tt++){const rt=$[et].contents[tt];if(hasMetadata(rt)&&(hasMetadataWithResult(rt)&&rt.metadata.operation_result.status===a&&(j=j.concat(rt.metadata.operation_result.errors||[])),hasMetadataWithInternalOperationResult(rt)&&Array.isArray(rt.metadata.internal_operation_results)))for(const nt of rt.metadata.internal_operation_results)"result"in nt&&nt.result.status===a&&(j=j.concat(nt.result.errors||[]))}return j};class OriginationOperationError extends TaquitoError{constructor(a){super(),this.message=a,this.name="OriginationOperationError"}}class InvalidEstimateValueError extends ParameterValidationError{constructor(a){super(),this.message=a,this.name="InvalidEstimateValueError"}}class InvalidConfirmationCountError extends ParameterValidationError{constructor(a){super(),this.invalidConfirmations=a,this.name="InvalidConfirmationCountError",this.message=`Invalid confirmation count ${a} expecting at least 1`}}class ConfirmationTimeoutError extends NetworkError{constructor(a){super(),this.message=a,this.name="ConfirmationTimeoutError"}}class RPCResponseError extends RpcError{constructor(a,$){super(),this.message=a,this.cause=$,this.name="RPCResponseError"}}class Operation{get includedInBlock(){return this._foundAt}constructor(a,$,j,et){if(this.hash=a,this.raw=$,this.results=j,this.context=et,this._pollingConfig$=new ReplaySubject(1),this.currentHead$=this._pollingConfig$.pipe(switchMap(tt=>new BehaviorSubject(tt).pipe(timeout({each:tt.timeout*1e3,with:()=>throwError(()=>new ConfirmationTimeoutError("Confirmation polling timed out"))}))),switchMap(()=>defer(()=>createObservableFromSubscription(this.context.stream.subscribeBlock("head"))).pipe(switchMap(tt=>{var rt,nt;const it=(nt=(rt=this.lastHead)===null||rt===void 0?void 0:rt.header.level)!==null&&nt!==void 0?nt:tt.header.level-1;return range(it+1,tt.header.level-it-1).pipe(concatMap(ot=>this.context.readProvider.getBlock(ot)),endWith(tt))}),tap(tt=>this.lastHead=tt))),shareReplay({refCount:!0})),this.confirmed$=this.currentHead$.pipe(map$1(tt=>{for(let rt=3;rt>=0;rt--)tt.operations[rt].forEach(nt=>{nt.hash===this.hash&&(this._foundAt=tt.header.level)});if(tt.header.level-this._foundAt>=0)return this._foundAt}),filter(tt=>tt!==void 0),first(),shareReplay()),this._foundAt=Number.POSITIVE_INFINITY,validateOperation(this.hash)!==ValidationResult.VALID)throw new InvalidOperationHashError(this.hash);this.confirmed$.pipe(first(),catchError(()=>of(EMPTY))).subscribe()}get revealOperation(){return Array.isArray(this.results)&&this.results.find(a=>a.kind==="reveal")}get revealStatus(){return this.revealOperation?this.revealOperation.metadata.operation_result.status:"unknown"}get status(){return this.results.map(a=>hasMetadataWithResult(a)?a.metadata.operation_result.status:"unknown")[0]||"unknown"}confirmation(a,$){return __awaiter(this,void 0,void 0,function*(){if(typeof a<"u"&&a<1)throw new InvalidConfirmationCountError(a);const{defaultConfirmationCount:j,confirmationPollingTimeoutSecond:et}=this.context.config;this._pollingConfig$.next({timeout:$||et});const tt=a!==void 0?a:j;return new Promise((rt,nt)=>{this.confirmed$.pipe(switchMap(()=>this.currentHead$),filter(it=>it.header.level-this._foundAt>=tt-1),first()).subscribe({error:it=>nt(it),complete:()=>rt(this._foundAt+(tt-1))})})})}}class BatchOperation extends Operation{constructor(a,$,j,et,tt,rt){super(a,et,tt,rt),this.params=$,this.source=j}sumProp(a,$){return a.reduce((j,et)=>$ in et?Number(et[$])+j:j,0)}getOriginatedContractAddresses(){const a=this.results.filter(j=>j.kind==="origination");let $=[];for(const j of a)j.metadata.operation_result.originated_contracts&&($=[...$,...j.metadata.operation_result.originated_contracts]);return $}get status(){return this.results.filter(a=>BATCH_KINDS.indexOf(a.kind)!==-1).map(a=>hasMetadataWithResult(a)?a.metadata.operation_result.status:"unknown")[0]||"unknown"}get fee(){return this.sumProp(this.params,"fee")}get gasLimit(){return this.sumProp(this.params,"gas_limit")}get storageLimit(){return this.sumProp(this.params,"storage_limit")}get consumedGas(){return BigNumber.config({DECIMAL_PLACES:0,ROUNDING_MODE:BigNumber.ROUND_UP}),new BigNumber(this.consumedMilliGas).dividedBy(1e3).toString()}get consumedMilliGas(){return String(this.sumProp(flattenOperationResult({contents:this.results}),"consumed_milligas"))}get storageDiff(){return String(this.sumProp(flattenOperationResult({contents:this.results}),"paid_storage_size_diff"))}get errors(){return flattenErrors({contents:this.results})}}class Provider{get rpc(){return this.context.rpc}get signer(){return this.context.signer}constructor(a){this.context=a}forge({opOb:{branch:a,contents:$,protocol:j},counter:et}){return __awaiter(this,void 0,void 0,function*(){return{opbytes:yield this.context.forger.forge({branch:a,contents:$}),opOb:{branch:a,contents:$,protocol:j},counter:et}})}estimate(a,$){var{fee:j,gasLimit:et,storageLimit:tt}=a,rt=__rest(a,["fee","gasLimit","storageLimit"]);return __awaiter(this,void 0,void 0,function*(){let nt=j,it=et,ot=tt;if(nt&&nt%1!==0)throw new InvalidEstimateValueError(`Fee value must not be a decimal: ${nt}`);if(it&&it%1!==0)throw new InvalidEstimateValueError(`Gas Limit value must not be a decimal: ${it}`);if(ot&&ot%1!==0)throw new InvalidEstimateValueError(`Storage Limit value must not be a decimal: ${ot}`);if(j===void 0||et===void 0||tt===void 0){const st=yield $(Object.assign({fee:j,gasLimit:et,storageLimit:tt},rt));nt??(nt=st.suggestedFeeMutez),it??(it=st.gasLimit),ot??(ot=st.storageLimit)}return{fee:nt,gasLimit:it,storageLimit:ot}})}getRPCOp(a){return __awaiter(this,void 0,void 0,function*(){switch(a.kind){case OpKind.TRANSACTION:return createTransferOperation(Object.assign({},a));case OpKind.ORIGINATION:return createOriginationOperation(yield this.context.parser.prepareCodeOrigination(Object.assign({},a)));case OpKind.DELEGATION:return createSetDelegateOperation(Object.assign({},a));case OpKind.REGISTER_GLOBAL_CONSTANT:return createRegisterGlobalConstantOperation(Object.assign({},a));case OpKind.INCREASE_PAID_STORAGE:return createIncreasePaidStorageOperation(Object.assign({},a));case OpKind.TRANSFER_TICKET:return createTransferTicketOperation(Object.assign({},a));case OpKind.SMART_ROLLUP_ADD_MESSAGES:return createSmartRollupAddMessagesOperation(Object.assign({},a));case OpKind.SMART_ROLLUP_ORIGINATE:return createSmartRollupOriginateOperation(Object.assign({},a));case OpKind.SMART_ROLLUP_EXECUTE_OUTBOX_MESSAGE:return createSmartRollupExecuteOutboxMessageOperation(Object.assign({},a));default:throw new InvalidOperationKindError(a.kind)}})}runOperation(a){return __awaiter(this,void 0,void 0,function*(){return{opResponse:yield this.rpc.runOperation(a),op:a,context:this.context.clone()}})}simulate(a){return __awaiter(this,void 0,void 0,function*(){return{opResponse:yield this.rpc.simulateOperation(a),op:a,context:this.context.clone()}})}isRevealOpNeeded(a,$){return __awaiter(this,void 0,void 0,function*(){return!(!(yield this.isAccountRevealRequired($))||!this.isRevealRequiredForOpType(a))})}isAccountRevealRequired(a){return __awaiter(this,void 0,void 0,function*(){return!(yield this.context.readProvider.isAccountRevealed(a,"head"))})}isRevealRequiredForOpType(a){let $=!1;for(const j of a)isOpRequireReveal(j)&&($=!0);return $}signAndInject(a){return __awaiter(this,void 0,void 0,function*(){const $=yield this.signer.sign(a.opbytes,new Uint8Array([3]));a.opbytes=$.sbytes,a.opOb.signature=$.prefixSig;const j=[],et=yield this.rpc.preapplyOperations([a.opOb]);if(!Array.isArray(et))throw new TezosPreapplyFailureError(et);for(let rt=0;rt<et.length;rt++)for(let nt=0;nt<et[rt].contents.length;nt++)j.push(et[rt].contents[nt]);const tt=flattenErrors(et);if(tt.length)throw new TezosOperationError(tt,"Error occurred during validation simulation of operation",j);return{hash:yield this.context.injector.inject(a.opbytes),forgedBytes:a,opResponse:j,context:this.context.clone()}})}}class WalletOperationBatch{constructor(a,$){this.walletProvider=a,this.context=$,this.operations=[]}withTransfer(a){const $=validateAddress(a.to);if($!==ValidationResult.VALID)throw new InvalidAddressError(a.to,invalidDetail($));return this.operations.push(Object.assign({kind:OpKind.TRANSACTION},a)),this}withContractCall(a,$={}){return this.withTransfer(a.toTransferParams($))}withDelegation(a){var $;const j=validateAddress(($=a.delegate)!==null&&$!==void 0?$:"");if(a.delegate&&j!==ValidationResult.VALID)throw new InvalidAddressError(a.delegate,invalidDetail(j));return this.operations.push(Object.assign({kind:OpKind.DELEGATION},a)),this}withOrigination(a){return this.operations.push(Object.assign({kind:OpKind.ORIGINATION},a)),this}withIncreasePaidStorage(a){const $=validateAddress(a.destination);if($!==ValidationResult.VALID)throw new InvalidAddressError(a.destination,invalidDetail($));return this.operations.push(Object.assign({kind:OpKind.INCREASE_PAID_STORAGE},a)),this}mapOperation(a){return __awaiter(this,void 0,void 0,function*(){switch(a.kind){case OpKind.TRANSACTION:return this.walletProvider.mapTransferParamsToWalletParams(()=>__awaiter(this,void 0,void 0,function*(){return a}));case OpKind.ORIGINATION:return this.walletProvider.mapOriginateParamsToWalletParams(()=>__awaiter(this,void 0,void 0,function*(){return this.context.parser.prepareCodeOrigination(Object.assign({},a))}));case OpKind.DELEGATION:return this.walletProvider.mapDelegateParamsToWalletParams(()=>__awaiter(this,void 0,void 0,function*(){return a}));case OpKind.INCREASE_PAID_STORAGE:return this.walletProvider.mapIncreasePaidStorageWalletParams(()=>__awaiter(this,void 0,void 0,function*(){return a}));default:throw new InvalidOperationKindError(JSON.stringify(a.kind))}})}with(a){for(const $ of a)switch($.kind){case OpKind.TRANSACTION:this.withTransfer($);break;case OpKind.ORIGINATION:this.withOrigination($);break;case OpKind.DELEGATION:this.withDelegation($);break;case OpKind.INCREASE_PAID_STORAGE:this.withIncreasePaidStorage($);break;default:throw new InvalidOperationKindError(JSON.stringify($.kind))}return this}send(){return __awaiter(this,void 0,void 0,function*(){const a=[];for(const j of this.operations)a.push(yield this.mapOperation(j));const $=yield this.walletProvider.sendOperations(a);return this.context.operationFactory.createBatchOperation($)})}}class Wallet{constructor(a){this.context=a,this.walletCommand=$=>({send:$})}get walletProvider(){return this.context.walletProvider}pkh({forceRefetch:a}={}){return __awaiter(this,void 0,void 0,function*(){return(!this._pkh||a)&&(this._pkh=yield this.walletProvider.getPKH()),this._pkh})}pk({forceRefetch:a}={}){return __awaiter(this,void 0,void 0,function*(){return(!this._pk||a)&&(this._pk=yield this.walletProvider.getPK()),this._pk})}originate(a){return this.walletCommand(()=>__awaiter(this,void 0,void 0,function*(){const $=yield this.walletProvider.mapOriginateParamsToWalletParams(()=>this.context.parser.prepareCodeOrigination(Object.assign({},a))),j=yield this.walletProvider.sendOperations([$]);return this.context.operationFactory.createOriginationOperation(j)}))}setDelegate(a){var $;const j=validateAddress(($=a.delegate)!==null&&$!==void 0?$:"");if(a.delegate&&j!==ValidationResult.VALID)throw new InvalidAddressError(a.delegate,invalidDetail(j));return this.walletCommand(()=>__awaiter(this,void 0,void 0,function*(){const et=yield this.walletProvider.mapDelegateParamsToWalletParams(()=>__awaiter(this,void 0,void 0,function*(){return a})),tt=yield this.walletProvider.sendOperations([et]);return this.context.operationFactory.createDelegationOperation(tt)}))}signFailingNoop(a){return __awaiter(this,void 0,void 0,function*(){const $={kind:OpKind.FAILING_NOOP,arbitrary:a.arbitrary},j=yield this.context.readProvider.getBlockHash(a.basedOnBlock),et=yield this.context.forger.forge({branch:j,contents:[$]});return{signature:yield this.walletProvider.sign(et,Uint8Array.from([3])),bytes:et,signedContent:{branch:j,contents:[{kind:OpKind.FAILING_NOOP,arbitrary:a.arbitrary}]}}})}registerDelegate(){return this.walletCommand(()=>__awaiter(this,void 0,void 0,function*(){const a=yield this.walletProvider.mapDelegateParamsToWalletParams(()=>__awaiter(this,void 0,void 0,function*(){return{delegate:yield this.pkh()}})),$=yield this.walletProvider.sendOperations([a]);return this.context.operationFactory.createDelegationOperation($)}))}transfer(a){const $=validateAddress(a.to);if($!==ValidationResult.VALID)throw new InvalidAddressError(a.to,invalidDetail($));return this.walletCommand(()=>__awaiter(this,void 0,void 0,function*(){const j=yield this.walletProvider.mapTransferParamsToWalletParams(()=>__awaiter(this,void 0,void 0,function*(){return a})),et=yield this.walletProvider.sendOperations([j]);return this.context.operationFactory.createTransactionOperation(et)}))}increasePaidStorage(a){const $=validateAddress(a.destination);if($!==ValidationResult.VALID)throw new InvalidAddressError(a.destination,invalidDetail($));return this.walletCommand(()=>__awaiter(this,void 0,void 0,function*(){const j=yield this.walletProvider.mapIncreasePaidStorageWalletParams(()=>__awaiter(this,void 0,void 0,function*(){return a})),et=yield this.walletProvider.sendOperations([j]);return this.context.operationFactory.createIncreasePaidStorageOperation(et)}))}batch(a){const $=new WalletOperationBatch(this.walletProvider,this.context);return Array.isArray(a)&&$.with(a),$}at(a,$=j=>j){return __awaiter(this,void 0,void 0,function*(){const j=validateContractAddress(a);if(j!==ValidationResult.VALID)throw new InvalidContractAddressError(a,invalidDetail(j));const et=this.context.withExtensions().rpc,tt=this.context.withExtensions().readProvider,rt=yield tt.getScript(a,"head"),nt=yield tt.getEntrypoints(a),it=new ContractAbstraction(a,rt,this,this.context.contract,nt,et,tt);return $(it,this.context)})}getPK(){return __awaiter(this,void 0,void 0,function*(){return yield this.pk()})}}const receiptFromOperation=(_,{ALLOCATION_BURN:a,ORIGINATION_BURN:$}={ALLOCATION_BURN:257,ORIGINATION_BURN:257})=>{BigNumber.config({DECIMAL_PLACES:0,ROUNDING_MODE:BigNumber.ROUND_UP});const j=flattenOperationResult({contents:_});let et=new BigNumber(0),tt=new BigNumber(0),rt=new BigNumber(0),nt=new BigNumber(0),it=new BigNumber(0),ot=new BigNumber(0);return j.forEach(st=>{rt=rt.plus(st.fee||0),nt=nt.plus(Array.isArray(st.originated_contracts)?st.originated_contracts.length*$:0),it=it.plus("allocated_destination_contract"in st?a:0),et=et.plus(st.consumed_milligas||0),ot=ot.plus("paid_storage_size_diff"in st&&Number(st.paid_storage_size_diff)||0)}),tt=tt.plus(it).plus(nt).plus(ot),{totalFee:rt,totalMilliGas:et,totalGas:et.dividedBy(1e3),totalStorage:tt,totalAllocationBurn:it,totalOriginationBurn:nt,totalPaidStorageDiff:ot,totalStorageBurn:new BigNumber(tt.multipliedBy(COST_PER_BYTE))}};class ConfirmationUndefinedError extends TezosToolkitConfigError{constructor(){super(),this.name="ConfirmationUndefinedError",this.message="Default confirmation count can not be undefined"}}class ObservableError extends NetworkError{constructor(a){super(),this.message=a,this.name="ObservableError"}}const MAX_BRANCH_ANCESTORS=60;class WalletOperation{operationResults(){return __awaiter(this,void 0,void 0,function*(){return this._operationResult.pipe(first()).toPromise()})}receipt(){return __awaiter(this,void 0,void 0,function*(){const a=yield this.operationResults();if(!a)throw new ObservableError("Unable to get operation results");return receiptFromOperation(a)})}constructor(a,$,j){if(this.opHash=a,this.context=$,this._newHead$=j,this._operationResult=new ReplaySubject(1),this._includedInBlock=new ReplaySubject(1),this._included=!1,this.newHead$=this._newHead$.pipe(switchMap(et=>{var tt,rt;const nt=(rt=(tt=this.lastHead)===null||tt===void 0?void 0:tt.header.level)!==null&&rt!==void 0?rt:et.header.level-1;return range(nt+1,et.header.level-nt-1).pipe(concatMap(it=>this.context.readProvider.getBlock(it)),endWith(et))}),tap(et=>this.lastHead=et),share({connector:()=>new ReplaySubject(1),resetOnError:!1,resetOnComplete:!1,resetOnRefCountZero:!1})),this.confirmed$=this.newHead$.pipe(map$1(et=>{for(const tt of et.operations)for(const rt of tt)if(rt.hash===this.opHash)return this._included=!0,this._includedInBlock.next(et),this._operationResult.next(rt.contents),et}),filter(et=>typeof et<"u"),first(),share({connector:()=>new ReplaySubject(1),resetOnError:!1,resetOnComplete:!1,resetOnRefCountZero:!1})),validateOperation(this.opHash)!==ValidationResult.VALID)throw new InvalidOperationHashError(this.opHash);this.confirmed$.pipe(first(),catchError(()=>of(void 0))).subscribe()}getCurrentConfirmation(){return __awaiter(this,void 0,void 0,function*(){return this._included?combineLatest([this._includedInBlock,from(this.context.readProvider.getBlock("head"))]).pipe(map$1(([a,$])=>$.header.level-a.header.level+1),first()).toPromise():0})}isInCurrentBranch(a="head"){return __awaiter(this,void 0,void 0,function*(){if(!this._included)return!0;const $=yield this.context.readProvider.getBlockLevel(a),j=yield this._includedInBlock.pipe(first()).toPromise();if(!j)throw new ObservableError("Inclusion block is undefined");const et=$-j.header.level;if(et<=0)return!0;const tt=Math.min(j.header.level+et,j.header.level+MAX_BRANCH_ANCESTORS);return new Set(yield this.context.readProvider.getLiveBlocks(tt)).has(j.hash)})}confirmationObservable(a){if(typeof a<"u"&&a<1)throw new InvalidConfirmationCountError(a);const{defaultConfirmationCount:$}=this.context.config,j=a!==void 0?a:$;if(j===void 0)throw new ConfirmationUndefinedError;return combineLatest([this._includedInBlock,this.newHead$]).pipe(distinctUntilChanged(([,et],[,tt])=>et.hash===tt.hash),map$1(([et,tt])=>({block:tt,expectedConfirmation:j,currentConfirmation:tt.header.level-et.header.level+1,completed:tt.header.level-et.header.level>=j-1,isInCurrentBranch:()=>this.isInCurrentBranch(tt.hash)})),takeWhile(({completed:et})=>!et,!0))}confirmation(a){return this.confirmationObservable(a).toPromise()}}class TransactionWalletOperation extends WalletOperation{constructor(a,$,j){super(a,$,j),this.opHash=a,this.context=$}revealOperation(){return __awaiter(this,void 0,void 0,function*(){const a=yield this.operationResults();if(!a)throw new ObservableError("operationResult returned undefined");return a.find($=>$.kind===OpKind.REVEAL)})}transactionOperation(){return __awaiter(this,void 0,void 0,function*(){const a=yield this.operationResults();if(!a)throw new ObservableError("operationResult returned undefined");return a.find($=>$.kind===OpKind.TRANSACTION)})}status(){return __awaiter(this,void 0,void 0,function*(){if(!this._included)return"pending";const a=yield this.transactionOperation();return a?a.metadata.operation_result.status:"unknown"})}}class OriginationWalletOperation extends WalletOperation{constructor(a,$,j){super(a,$,j),this.opHash=a,this.context=$}originationOperation(){return __awaiter(this,void 0,void 0,function*(){const a=yield this.operationResults();if(a)return findWithKind(a,OpKind.ORIGINATION);throw new ObservableError("Unable to fetch operation result")})}revealOperation(){return __awaiter(this,void 0,void 0,function*(){const a=yield this.operationResults();if(a)return findWithKind(a,OpKind.REVEAL);throw new ObservableError("Unable to fetch operation result")})}status(){return __awaiter(this,void 0,void 0,function*(){if(!this._included)return"pending";const a=yield this.originationOperation();return a?a.metadata.operation_result.status:"unknown"})}contract(){return __awaiter(this,void 0,void 0,function*(){const a=yield this.originationOperation(),$=((a==null?void 0:a.metadata.operation_result.originated_contracts)||[])[0];return this.context.wallet.at($)})}}class DelegationWalletOperation extends WalletOperation{constructor(a,$,j){super(a,$,j),this.opHash=a,this.context=$}revealOperation(){return __awaiter(this,void 0,void 0,function*(){const a=yield this.operationResults();if(a)return a.find($=>$.kind===OpKind.REVEAL);throw new ObservableError("Unable to fetch operation result")})}delegationOperation(){return __awaiter(this,void 0,void 0,function*(){const a=yield this.operationResults();if(a)return a.find($=>$.kind===OpKind.DELEGATION);throw new ObservableError("Unable to fetch operation result")})}status(){return __awaiter(this,void 0,void 0,function*(){if(!this._included)return"pending";const a=yield this.delegationOperation();return a?a.metadata.operation_result.status:"unknown"})}}class LegacyWalletProvider{constructor(a){this.context=a}getPKH(){return __awaiter(this,void 0,void 0,function*(){return this.context.signer.publicKeyHash()})}getPK(){return __awaiter(this,void 0,void 0,function*(){return this.context.signer.publicKey()})}mapTransferParamsToWalletParams(a){return __awaiter(this,void 0,void 0,function*(){return attachKind(yield a(),OpKind.TRANSACTION)})}mapOriginateParamsToWalletParams(a){return __awaiter(this,void 0,void 0,function*(){return attachKind(yield a(),OpKind.ORIGINATION)})}mapDelegateParamsToWalletParams(a){return __awaiter(this,void 0,void 0,function*(){return attachKind(yield a(),OpKind.DELEGATION)})}mapIncreasePaidStorageWalletParams(a){return __awaiter(this,void 0,void 0,function*(){return attachKind(yield a(),OpKind.INCREASE_PAID_STORAGE)})}sendOperations(a){return __awaiter(this,void 0,void 0,function*(){return(yield this.context.batch.batch(a).send()).hash})}sign(a,$){return __awaiter(this,void 0,void 0,function*(){const{prefixSig:j}=yield this.context.signer.sign(a,$);return j})}}class ContractMethodObject{constructor(a,$,j,et,tt="unit",rt=!0,nt=!1){this.provider=a,this.address=$,this.parameterSchema=j,this.name=et,this.args=tt,this.isMultipleEntrypoint=rt,this.isAnonymous=nt}getSignature(){return this.isAnonymous?this.parameterSchema.ExtractSchema()[this.name]:this.parameterSchema.ExtractSchema()}send(a={}){return this.provider instanceof Wallet?this.provider.transfer(this.toTransferParams(a)).send():this.provider.transfer(this.toTransferParams(a))}toTransferParams({fee:a,gasLimit:$,storageLimit:j,source:et,amount:tt=0,mutez:rt=!1}={}){return{to:this.address,amount:tt,fee:a,mutez:rt,source:et,gasLimit:$,storageLimit:j,parameter:{entrypoint:this.isMultipleEntrypoint?this.name:DEFAULT_SMART_CONTRACT_METHOD_NAME,value:this.isAnonymous?this.parameterSchema.EncodeObject({[this.name]:this.args}):this.parameterSchema.EncodeObject(this.args)}}}}class ContractMethod{constructor(a,$,j,et,tt,rt=!0,nt=!1){this.provider=a,this.address=$,this.parameterSchema=j,this.name=et,this.args=tt,this.isMultipleEntrypoint=rt,this.isAnonymous=nt}validateArgs(a,$,j){const et=$.ExtractSignatures();if(!et.find(tt=>tt.length===a.length))throw new InvalidParameterError(j,et,a)}get schema(){return this.isAnonymous?this.parameterSchema.ExtractSchema()[this.name]:this.parameterSchema.ExtractSchema()}getSignature(){if(this.isAnonymous){const a=this.parameterSchema.ExtractSignatures().find($=>$[0]===this.name);if(a)return a.shift(),a}else{const a=this.parameterSchema.ExtractSignatures();return a.length==1?a[0]:a}}send(a={}){return this.provider instanceof Wallet?this.provider.transfer(this.toTransferParams(a)).send():this.provider.transfer(this.toTransferParams(a))}toTransferParams({fee:a,gasLimit:$,storageLimit:j,source:et,amount:tt=0,mutez:rt=!1}={}){return{to:this.address,amount:tt,fee:a,mutez:rt,source:et,gasLimit:$,storageLimit:j,parameter:{entrypoint:this.isMultipleEntrypoint?this.name:DEFAULT_SMART_CONTRACT_METHOD_NAME,value:this.isAnonymous?this.parameterSchema.Encode(this.name,...this.args):this.parameterSchema.Encode(...this.args)}}}}class OnChainView{constructor(a,$,j,et,tt,rt="Unit"){this._rpc=a,this._readProvider=$,this._contractAddress=j,this._smartContractViewSchema=et,this._contractStorageType=tt,this._args=rt}getSignature(){return{parameter:this._smartContractViewSchema.extractArgsSchema(),result:this._smartContractViewSchema.extractResultSchema()}}executeView(a){return __awaiter(this,void 0,void 0,function*(){this.verifyContextExecution(a);const $=yield this._readProvider.getChainId(),j=this.transformArgsToMichelson(),et={contract:this._contractAddress,view:this._smartContractViewSchema.viewName,input:j,chain_id:$,source:a.viewCaller};return a.source&&(et.payer=a.source),this.executeViewAndDecodeResult(et)})}verifyContextExecution(a){if(a.source&&validateAddress(a.source)!==ValidationResult.VALID)throw new InvalidViewSimulationContext(`The source account who initialized the view execution is invalid: ${a.source}.`);if(!a.viewCaller||validateAddress(a.viewCaller)!==ValidationResult.VALID)throw new InvalidViewSimulationContext(`The contract which is the caller of view is invalid: ${a.viewCaller}.`)}transformArgsToMichelson(){try{return this._smartContractViewSchema.encodeViewArgs(this._args)}catch(a){throw new InvalidViewParameterError(this._smartContractViewSchema.viewName,this.getSignature(),this._args,a)}}adaptViewCodeToContext(a,$,j){const et={BALANCE:[{prim:"PUSH",args:[{prim:"mutez"},{int:j}]}],SENDER:[{prim:"PUSH",args:[{prim:"address"},{string:$}]}],SELF_ADDRESS:[{prim:"PUSH",args:[{prim:"address"},{string:this._contractAddress}]}],AMOUNT:[{prim:"PUSH",args:[{prim:"mutez"},{int:"0"}]}]};return a.forEach((tt,rt)=>{tt.prim in et&&(a[rt]=Object(et)[tt.prim]),tt.args&&tt.args.length!==0?this.adaptViewCodeToContext(tt.args,$,j):Array.isArray(tt)&&this.adaptViewCodeToContext(tt,$,j)}),a}executeViewAndDecodeResult(a){return __awaiter(this,void 0,void 0,function*(){let $;try{$=(yield this._rpc.runScriptView(a)).data}catch(j){const et=validateAndExtractFailwith(j);throw et?new ViewSimulationError(`The simulation of the on-chain view named ${this._smartContractViewSchema.viewName} failed with: ${JSON.stringify(et)}`,this._smartContractViewSchema.viewName,et,j):j}return this._smartContractViewSchema.decodeViewResult($)})}}class ContractMethodFactory{constructor(a,$){this.provider=a,this.contractAddress=$}createContractMethodFlatParams(a,$,j,et=!0,tt=!1){return new ContractMethod(this.provider,this.contractAddress,a,$,j,et,tt)}createContractMethodObjectParam(a,$,j,et=!0,tt=!1){return new ContractMethodObject(this.provider,this.contractAddress,a,$,j,et,tt)}createContractViewObjectParam(a,$,j,et,tt){return new OnChainView(a,$,this.contractAddress,j,et,tt)}}const DEFAULT_SMART_CONTRACT_METHOD_NAME="default";class ContractView{constructor(a,$,j,et,tt,rt,nt){this.currentContract=a,this.name=$,this.callbackParametersSchema=j,this.parameterSchema=et,this.args=tt,this.rpc=rt,this.readProvider=nt}read(a){return __awaiter(this,void 0,void 0,function*(){const $=validateChain(a??"");if(validateContractAddress(a??"")==ValidationResult.VALID)throw new DeprecationError("Since version 12, the lambda view no longer depends on a lambda contract. The read method no longer accepts a contract address as a parameter.");if(a&&$!==ValidationResult.VALID)throw new InvalidChainIdError(a,invalidDetail($));const j=this.parameterSchema.Encode(...this.args),et=yield this.rpc.runView({contract:this.currentContract.address,entrypoint:this.name,input:j,chain_id:a||(yield this.readProvider.getChainId())});return this.callbackParametersSchema.Execute(et.data)})}}const validateArgs=(_,a,$)=>{const j=a.ExtractSignatures();if(!j.find(et=>et.length===_.length))throw new InvalidParameterError($,j,_)},isView$2=_=>{let a=!1;if("prim"in _&&_.prim==="pair"&&_.args){const $=_.args[_.args.length-1];"prim"in $&&$.prim==="contract"&&(a=!0)}return a};class ContractAbstraction{constructor(a,$,j,et,tt,rt,nt){this.address=a,this.script=$,this.storageProvider=et,this.entrypoints=tt,this.rpc=rt,this.readProvider=nt,this.methods={},this.methodsObject={},this.views={},this.contractViews={},this.contractMethodFactory=new ContractMethodFactory(j,a),this.schema=Schema.fromRPCResponse({script:this.script}),this.parameterSchema=ParameterSchema.fromRPCResponse({script:this.script}),this.viewSchema=ViewSchema.fromRPCResponse({script:this.script}),this.viewSchema.length!==0&&this._initializeOnChainViews(this,rt,this.readProvider,this.viewSchema),this.eventSchema=EventSchema.fromRPCResponse({script:this.script}),this._initializeMethods(this,this.entrypoints.entrypoints,this.rpc,this.readProvider)}_initializeMethods(a,$,j,et){const tt=this.parameterSchema,rt=Object.keys($);if(tt.isMultipleEntryPoint)rt.forEach(it=>{const ot=new ParameterSchema($[it]);if(this.methods[it]=function(...st){return a.contractMethodFactory.createContractMethodFlatParams(ot,it,st)},this.methodsObject[it]=function(st){return a.contractMethodFactory.createContractMethodObjectParam(ot,it,st)},isView$2($[it])){const st=function(...ct){const ut=$[it].args[0],ht=new ParameterSchema(ut),Et=$[it].args[1].args[0],St=new ParameterSchema(Et);return validateArgs(ct,ht,it),new ContractView(a,it,St,ht,ct,j,et)};this.views[it]=st}}),Object.keys(tt.ExtractSchema()).filter(it=>Object.keys($).indexOf(it)===-1).forEach(it=>{this.methods[it]=function(...ot){return a.contractMethodFactory.createContractMethodFlatParams(tt,it,ot,!1,!0)},this.methodsObject[it]=function(ot){return a.contractMethodFactory.createContractMethodObjectParam(tt,it,ot,!1,!0)}});else{const nt=this.parameterSchema;this.methods[DEFAULT_SMART_CONTRACT_METHOD_NAME]=function(...it){return a.contractMethodFactory.createContractMethodFlatParams(nt,DEFAULT_SMART_CONTRACT_METHOD_NAME,it,!1)},this.methodsObject[DEFAULT_SMART_CONTRACT_METHOD_NAME]=function(it){return a.contractMethodFactory.createContractMethodObjectParam(nt,DEFAULT_SMART_CONTRACT_METHOD_NAME,it,!1)}}}_initializeOnChainViews(a,$,j,et){const tt=this.schema.val;et.forEach(rt=>{this.contractViews[rt.viewName]=function(nt){return a.contractMethodFactory.createContractViewObjectParam($,j,rt,tt,nt)}})}storage(){return this.storageProvider.getStorage(this.address,this.schema)}bigMap(a){return this.storageProvider.getBigMapKey(this.address,a,this.schema)}}const setDelegate=_=>[{prim:"DROP"},{prim:"NIL",args:[{prim:"operation"}]},{prim:"PUSH",args:[{prim:"key_hash"},{string:_}]},{prim:"SOME"},{prim:"SET_DELEGATE"},{prim:"CONS"}],transferImplicit=(_,a)=>[{prim:"DROP"},{prim:"NIL",args:[{prim:"operation"}]},{prim:"PUSH",args:[{prim:"key_hash"},{string:_}]},{prim:"IMPLICIT_ACCOUNT"},{prim:"PUSH",args:[{prim:"mutez"},{int:`${a}`}]},{prim:"UNIT"},{prim:"TRANSFER_TOKENS"},{prim:"CONS"}],removeDelegate=()=>[{prim:"DROP"},{prim:"NIL",args:[{prim:"operation"}]},{prim:"NONE",args:[{prim:"key_hash"}]},{prim:"SET_DELEGATE"},{prim:"CONS"}],transferToContract=(_,a)=>[{prim:"DROP"},{prim:"NIL",args:[{prim:"operation"}]},{prim:"PUSH",args:[{prim:"address"},{string:_}]},{prim:"CONTRACT",args:[{prim:"unit"}]},{prim:"IF_NONE",args:[[{prim:"UNIT"},{prim:"FAILWITH"}],[]]},{prim:"PUSH",args:[{prim:"mutez"},{int:`${a}`}]},{prim:"UNIT"},{prim:"TRANSFER_TOKENS"},{prim:"CONS"}],MANAGER_LAMBDA={setDelegate,removeDelegate,transferImplicit,transferToContract};class SaplingStateAbstraction{constructor(a,$){this.id=a,this.provider=$}getSaplingDiff(a){return __awaiter(this,void 0,void 0,function*(){return this.provider.getSaplingDiffByID(this.id.toString(),a)})}getId(){return this.id.toString()}}class BigMapAbstraction{constructor(a,$,j){this.id=a,this.schema=$,this.provider=j}get(a,$){return __awaiter(this,void 0,void 0,function*(){try{return yield this.provider.getBigMapKeyByID(this.id.toString(),a,this.schema,$)}catch(j){if(j instanceof HttpResponseError&&j.status===STATUS_CODE.NOT_FOUND)return;throw j}})}getMultipleValues(a,$,j=5){return __awaiter(this,void 0,void 0,function*(){return this.provider.getBigMapKeysByID(this.id.toString(),a,this.schema,$,j)})}toJSON(){return this.id.toString()}toString(){return this.id.toString()}}const smartContractAbstractionSemantic=_=>({big_map:(a,$)=>{if(!a||!("int"in a)||a.int===void 0)return{};{const j=new Schema($);return new BigMapAbstraction(new BigNumber(a.int),j,_)}},sapling_state:a=>!a||!("int"in a)||a.int===void 0?{}:new SaplingStateAbstraction(new BigNumber(a.int),_)});var _PrepareProvider_counters;const mergeLimits=(_,a)=>{var $,j,et;return{fee:($=_.fee)!==null&&$!==void 0?$:a.fee,gasLimit:(j=_.gasLimit)!==null&&j!==void 0?j:a.gasLimit,storageLimit:(et=_.storageLimit)!==null&&et!==void 0?et:a.storageLimit}};class PrepareProvider extends Provider{constructor(a){super(a),this.context=a,_PrepareProvider_counters.set(this,void 0),__classPrivateFieldSet(this,_PrepareProvider_counters,{})}getBlockHash(a){return __awaiter(this,void 0,void 0,function*(){return this.context.readProvider.getBlockHash(a??"head~2")})}getProtocolHash(){return __awaiter(this,void 0,void 0,function*(){return this.context.readProvider.getNextProtocol("head")})}getHeadCounter(a){var $;return __awaiter(this,void 0,void 0,function*(){return($=this.context.readProvider.getCounter(a,"head"))!==null&&$!==void 0?$:"0"})}adjustGasForBatchOperation(a,$,j){return BigNumber.min($,a.div(j+1))}getOperationLimits(a,$){return __awaiter(this,void 0,void 0,function*(){const{hard_gas_limit_per_operation:j,hard_gas_limit_per_block:et,hard_storage_limit_per_operation:tt}=a;return{fee:0,gasLimit:$?Math.floor(this.adjustGasForBatchOperation(et,j,$).toNumber()):j.toNumber(),storageLimit:tt.toNumber()}})}getFee(a,$,j){return(!__classPrivateFieldGet(this,_PrepareProvider_counters,"f")[$]||__classPrivateFieldGet(this,_PrepareProvider_counters,"f")[$]<j)&&(__classPrivateFieldGet(this,_PrepareProvider_counters,"f")[$]=j),{counter:`${++__classPrivateFieldGet(this,_PrepareProvider_counters,"f")[$]}`,fee:typeof a.fee>"u"?"0":`${a.fee}`,gas_limit:typeof a.gas_limit>"u"?"0":`${a.gas_limit}`,storage_limit:typeof a.storage_limit>"u"?"0":`${a.storage_limit}`}}getSource(a,$,j){return{source:typeof a.source>"u"?j||$:a.source}}addRevealOperationIfNeeded(a,$){return __awaiter(this,void 0,void 0,function*(){if(isOpRequireReveal(a)){const j=[a],{publicKey:et,pkh:tt}=yield this.getKeys();if(yield this.isAccountRevealRequired($)){if(!et)throw new PublicKeyNotFoundError(tt);return j.unshift(yield createRevealOperation({fee:getRevealFee(tt),storageLimit:REVEAL_STORAGE_LIMIT,gasLimit:getRevealGasLimit(tt)},$,et)),j}}return a})}getKeys(){return __awaiter(this,void 0,void 0,function*(){const a=this.context.isAnySignerConfigured();return{pkh:a?yield this.signer.publicKeyHash():yield this.context.walletProvider.getPKH(),publicKey:a?yield this.signer.publicKey():void 0}})}convertIntoArray(a){return Array.isArray(a)?[...a]:[a]}constructOpContents(a,$,j,et,tt){return a.map(rt=>{switch(rt.kind){case OpKind.ACTIVATION:case OpKind.DRAIN_DELEGATE:return Object.assign({},rt);case OpKind.ORIGINATION:return Object.assign(Object.assign(Object.assign(Object.assign({},rt),{balance:typeof rt.balance<"u"?`${rt.balance}`:"0"}),this.getSource(rt,j,et)),this.getFee(rt,j,$));case OpKind.TRANSACTION:{const nt=Object.assign(Object.assign(Object.assign(Object.assign({},rt),{amount:typeof rt.amount<"u"?`${rt.amount}`:"0"}),this.getSource(rt,j,et)),this.getFee(rt,j,$));if(nt.source.toLowerCase().startsWith("kt1"))throw new DeprecationError(`KT1 addresses are not supported as source since ${Protocols.PsBabyM1}`);return nt}case OpKind.REVEAL:case OpKind.DELEGATION:case OpKind.REGISTER_GLOBAL_CONSTANT:case OpKind.UPDATE_CONSENSUS_KEY:case OpKind.SMART_ROLLUP_ADD_MESSAGES:case OpKind.SMART_ROLLUP_ORIGINATE:case OpKind.SMART_ROLLUP_EXECUTE_OUTBOX_MESSAGE:return Object.assign(Object.assign(Object.assign({},rt),this.getSource(rt,j,et)),this.getFee(rt,j,$));case OpKind.TRANSFER_TICKET:return Object.assign(Object.assign(Object.assign(Object.assign({},rt),{ticket_amount:`${rt.ticket_amount}`}),this.getSource(rt,j,et)),this.getFee(rt,j,$));case OpKind.INCREASE_PAID_STORAGE:return Object.assign(Object.assign(Object.assign(Object.assign({},rt),{amount:`${rt.amount}`}),this.getSource(rt,j,et)),this.getFee(rt,j,$));case OpKind.BALLOT:if(tt===void 0)throw new RPCResponseError("Failed to get the current voting period index");return Object.assign(Object.assign({},rt),{period:tt==null?void 0:tt.voting_period.index});case OpKind.PROPOSALS:if(tt===void 0)throw new RPCResponseError("Failed to get the current voting period index");return Object.assign(Object.assign({},rt),{period:tt==null?void 0:tt.voting_period.index});default:throw new InvalidOperationKindError(rt.kind)}})}activate({pkh:a,secret:$}){return __awaiter(this,void 0,void 0,function*(){const j=yield createActivationOperation({pkh:a,secret:$}),et=this.convertIntoArray(j),tt=yield this.getBlockHash(),rt=yield this.getProtocolHash();__classPrivateFieldSet(this,_PrepareProvider_counters,{});const nt=parseInt(yield this.getHeadCounter(a),10),it=this.constructOpContents(et,nt,a);return{opOb:{branch:tt,contents:it,protocol:rt},counter:nt}})}reveal({fee:a,gasLimit:$,storageLimit:j}){return __awaiter(this,void 0,void 0,function*(){const{pkh:et,publicKey:tt}=yield this.getKeys();if(!tt)throw new PublicKeyNotFoundError(et);const rt=yield this.context.readProvider.getProtocolConstants("head"),nt=yield this.getOperationLimits(rt),it=mergeLimits({fee:a,storageLimit:j,gasLimit:$},nt),ot=yield createRevealOperation({fee:it.fee,gasLimit:it.gasLimit,storageLimit:it.storageLimit},et,tt),st=this.convertIntoArray(ot),ct=yield this.getBlockHash(),ut=yield this.getProtocolHash();__classPrivateFieldSet(this,_PrepareProvider_counters,{});const ht=parseInt(yield this.getHeadCounter(et),10),Et=this.constructOpContents(st,ht,et);return{opOb:{branch:ct,contents:Et,protocol:ut},counter:ht}})}originate(a,$){var{fee:j,storageLimit:et,gasLimit:tt}=a,rt=__rest(a,["fee","storageLimit","gasLimit"]);return __awaiter(this,void 0,void 0,function*(){const{pkh:nt}=yield this.getKeys(),it=yield this.context.readProvider.getProtocolConstants("head"),ot=yield this.getOperationLimits(it),st=yield createOriginationOperation(yield this.context.parser.prepareCodeOrigination(Object.assign(Object.assign({},rt),mergeLimits({fee:j,storageLimit:et,gasLimit:tt},ot)))),ct=yield this.addRevealOperationIfNeeded(st,nt),ut=this.convertIntoArray(ct),ht=yield this.getBlockHash(),Et=yield this.getProtocolHash();__classPrivateFieldSet(this,_PrepareProvider_counters,{});const St=parseInt(yield this.getHeadCounter(nt),10),Mt=this.constructOpContents(ut,St,nt,$);return{opOb:{branch:ht,contents:Mt,protocol:Et},counter:St}})}transaction(a){var{fee:$,storageLimit:j,gasLimit:et}=a,tt=__rest(a,["fee","storageLimit","gasLimit"]);return __awaiter(this,void 0,void 0,function*(){const{pkh:rt}=yield this.getKeys(),nt=yield this.context.readProvider.getProtocolConstants("head"),it=yield this.getOperationLimits(nt),ot=yield createTransferOperation(Object.assign(Object.assign({},tt),mergeLimits({fee:$,storageLimit:j,gasLimit:et},it))),st=yield this.addRevealOperationIfNeeded(ot,rt),ct=this.convertIntoArray(st),ut=yield this.getBlockHash(),ht=yield this.getProtocolHash();__classPrivateFieldSet(this,_PrepareProvider_counters,{});const Et=parseInt(yield this.getHeadCounter(rt),10),St=this.constructOpContents(ct,Et,rt,tt.source);return{opOb:{branch:ut,contents:St,protocol:ht},counter:Et}})}delegation(a){var{fee:$,storageLimit:j,gasLimit:et}=a,tt=__rest(a,["fee","storageLimit","gasLimit"]);return __awaiter(this,void 0,void 0,function*(){const{pkh:rt}=yield this.getKeys(),nt=yield this.context.readProvider.getProtocolConstants("head"),it=yield this.getOperationLimits(nt),ot=yield createSetDelegateOperation(Object.assign(Object.assign({},tt),mergeLimits({fee:$,storageLimit:j,gasLimit:et},it))),st=yield this.addRevealOperationIfNeeded(ot,rt),ct=this.convertIntoArray(st),ut=yield this.getBlockHash(),ht=yield this.getProtocolHash();__classPrivateFieldSet(this,_PrepareProvider_counters,{});const Et=parseInt(yield this.getHeadCounter(rt),10),St=this.constructOpContents(ct,Et,rt,tt.source);return{opOb:{branch:ut,contents:St,protocol:ht},counter:Et}})}registerDelegate({fee:a,storageLimit:$,gasLimit:j},et){return __awaiter(this,void 0,void 0,function*(){const{pkh:tt}=yield this.getKeys(),rt=yield this.context.readProvider.getProtocolConstants("head"),nt=yield this.getOperationLimits(rt),it=mergeLimits({fee:a,storageLimit:$,gasLimit:j},nt),ot=yield createRegisterDelegateOperation({fee:it.fee,storageLimit:it.storageLimit,gasLimit:it.gasLimit},tt),st=yield this.addRevealOperationIfNeeded(ot,tt),ct=this.convertIntoArray(st),ut=yield this.getBlockHash(),ht=yield this.getProtocolHash();__classPrivateFieldSet(this,_PrepareProvider_counters,{});const Et=parseInt(yield this.getHeadCounter(tt),10),St=this.constructOpContents(ct,Et,tt,et);return{opOb:{branch:ut,contents:St,protocol:ht},counter:Et}})}registerGlobalConstant(a){var{fee:$,storageLimit:j,gasLimit:et}=a,tt=__rest(a,["fee","storageLimit","gasLimit"]);return __awaiter(this,void 0,void 0,function*(){const{pkh:rt}=yield this.getKeys(),nt=yield this.context.readProvider.getProtocolConstants("head"),it=yield this.getOperationLimits(nt),ot=yield createRegisterGlobalConstantOperation(Object.assign(Object.assign({},tt),mergeLimits({fee:$,storageLimit:j,gasLimit:et},it))),st=yield this.addRevealOperationIfNeeded(ot,rt),ct=this.convertIntoArray(st),ut=yield this.getBlockHash(),ht=yield this.getProtocolHash();__classPrivateFieldSet(this,_PrepareProvider_counters,{});const Et=parseInt(yield this.getHeadCounter(rt),10),St=this.constructOpContents(ct,Et,rt,tt.source);return{opOb:{branch:ut,contents:St,protocol:ht},counter:Et}})}updateConsensusKey(a,$){var{fee:j,storageLimit:et,gasLimit:tt}=a,rt=__rest(a,["fee","storageLimit","gasLimit"]);return __awaiter(this,void 0,void 0,function*(){const{pkh:nt}=yield this.getKeys(),it=yield this.context.readProvider.getProtocolConstants("head"),ot=yield this.getOperationLimits(it),st=yield createUpdateConsensusKeyOperation(Object.assign(Object.assign({},rt),mergeLimits({fee:j,storageLimit:et,gasLimit:tt},ot))),ct=yield this.addRevealOperationIfNeeded(st,nt),ut=this.convertIntoArray(ct),ht=yield this.getBlockHash(),Et=yield this.getProtocolHash();__classPrivateFieldSet(this,_PrepareProvider_counters,{});const St=parseInt(yield this.getHeadCounter(nt),10),Mt=this.constructOpContents(ut,St,nt,$);return{opOb:{branch:ht,contents:Mt,protocol:Et},counter:St}})}increasePaidStorage(a){var{fee:$,storageLimit:j,gasLimit:et}=a,tt=__rest(a,["fee","storageLimit","gasLimit"]);return __awaiter(this,void 0,void 0,function*(){const{pkh:rt}=yield this.getKeys(),nt=yield this.context.readProvider.getProtocolConstants("head"),it=yield this.getOperationLimits(nt),ot=yield createIncreasePaidStorageOperation(Object.assign(Object.assign({},tt),mergeLimits({fee:$,storageLimit:j,gasLimit:et},it))),st=yield this.addRevealOperationIfNeeded(ot,rt),ct=this.convertIntoArray(st),ut=yield this.getBlockHash(),ht=yield this.getProtocolHash();__classPrivateFieldSet(this,_PrepareProvider_counters,{});const Et=parseInt(yield this.getHeadCounter(rt),10),St=this.constructOpContents(ct,Et,rt,tt.source);return{opOb:{branch:ut,contents:St,protocol:ht},counter:Et}})}ballot(a){return __awaiter(this,void 0,void 0,function*(){const{pkh:$}=yield this.getKeys(),j=yield createBallotOperation(Object.assign({},a)),et=this.convertIntoArray(j),tt=yield this.getBlockHash(),rt=yield this.getProtocolHash();__classPrivateFieldSet(this,_PrepareProvider_counters,{});const nt=parseInt(yield this.getHeadCounter($),10);let it;try{it=yield this.rpc.getCurrentPeriod()}catch{throw new RPCResponseError("Failed to get the current voting period index")}const ot=this.constructOpContents(et,nt,$,void 0,it);return{opOb:{branch:tt,contents:ot,protocol:rt},counter:nt}})}proposals(a){return __awaiter(this,void 0,void 0,function*(){const{pkh:$}=yield this.getKeys(),j=yield createProposalsOperation(Object.assign({},a)),et=this.convertIntoArray(j),tt=yield this.getBlockHash(),rt=yield this.getProtocolHash();__classPrivateFieldSet(this,_PrepareProvider_counters,{});const nt=parseInt(yield this.getHeadCounter($),10);let it;try{it=yield this.rpc.getCurrentPeriod()}catch{throw new RPCResponseError("Failed to get the current voting period index")}const ot=this.constructOpContents(et,nt,$,void 0,it);return{opOb:{branch:tt,contents:ot,protocol:rt},counter:nt}})}drainDelegate(a,$){return __awaiter(this,void 0,void 0,function*(){const{pkh:j}=yield this.getKeys(),et=yield createDrainDelegateOperation(Object.assign({},a)),tt=this.convertIntoArray(et),rt=yield this.getBlockHash(),nt=yield this.getProtocolHash();__classPrivateFieldSet(this,_PrepareProvider_counters,{});const it=parseInt(yield this.getHeadCounter(j),10),ot=this.constructOpContents(tt,it,j,$);return{opOb:{branch:rt,contents:ot,protocol:nt},counter:it}})}transferTicket(a){var{fee:$,storageLimit:j,gasLimit:et}=a,tt=__rest(a,["fee","storageLimit","gasLimit"]);return __awaiter(this,void 0,void 0,function*(){const{pkh:rt}=yield this.getKeys(),nt=yield this.context.readProvider.getProtocolConstants("head"),it=yield this.getOperationLimits(nt),ot=yield createTransferTicketOperation(Object.assign(Object.assign({},tt),mergeLimits({fee:$,storageLimit:j,gasLimit:et},it))),st=yield this.addRevealOperationIfNeeded(ot,rt),ct=this.convertIntoArray(st),ut=yield this.getBlockHash(),ht=yield this.getProtocolHash();__classPrivateFieldSet(this,_PrepareProvider_counters,{});const Et=parseInt(yield this.getHeadCounter(rt),10),St=this.constructOpContents(ct,Et,rt,tt.source);return{opOb:{branch:ut,contents:St,protocol:ht},counter:Et}})}smartRollupAddMessages(a){var{fee:$,storageLimit:j,gasLimit:et}=a,tt=__rest(a,["fee","storageLimit","gasLimit"]);return __awaiter(this,void 0,void 0,function*(){const{pkh:rt}=yield this.getKeys(),nt=yield this.context.readProvider.getProtocolConstants("head"),it=yield this.getOperationLimits(nt),ot=yield createSmartRollupAddMessagesOperation(Object.assign(Object.assign({},tt),mergeLimits({fee:$,storageLimit:j,gasLimit:et},it))),st=yield this.addRevealOperationIfNeeded(ot,rt),ct=this.convertIntoArray(st),ut=yield this.getBlockHash(),ht=yield this.getProtocolHash();__classPrivateFieldSet(this,_PrepareProvider_counters,{});const Et=parseInt(yield this.getHeadCounter(rt),10),St=this.constructOpContents(ct,Et,rt,tt.source);return{opOb:{branch:ut,contents:St,protocol:ht},counter:Et}})}smartRollupOriginate(a){var{fee:$,storageLimit:j,gasLimit:et}=a,tt=__rest(a,["fee","storageLimit","gasLimit"]);return __awaiter(this,void 0,void 0,function*(){const{pkh:rt}=yield this.getKeys(),nt=yield this.context.readProvider.getProtocolConstants("head"),it=yield this.getOperationLimits(nt),ot=yield createSmartRollupOriginateOperation(Object.assign(Object.assign({},mergeLimits({fee:$,storageLimit:j,gasLimit:et},it)),tt)),st=yield this.addRevealOperationIfNeeded(ot,rt),ct=this.convertIntoArray(st),ut=yield this.getBlockHash(),ht=yield this.getProtocolHash();__classPrivateFieldSet(this,_PrepareProvider_counters,{});const Et=parseInt(yield this.getHeadCounter(rt),10),St=this.constructOpContents(ct,Et,rt,tt.source);return{opOb:{branch:ut,contents:St,protocol:ht},counter:Et}})}smartRollupExecuteOutboxMessage(a){var{fee:$,storageLimit:j,gasLimit:et}=a,tt=__rest(a,["fee","storageLimit","gasLimit"]);return __awaiter(this,void 0,void 0,function*(){const{pkh:rt}=yield this.getKeys(),nt=yield this.context.readProvider.getProtocolConstants("head"),it=yield this.getOperationLimits(nt),ot=yield createSmartRollupExecuteOutboxMessageOperation(Object.assign(Object.assign({},tt),mergeLimits({fee:$,storageLimit:j,gasLimit:et},it))),st=yield this.addRevealOperationIfNeeded(ot,rt),ct=this.convertIntoArray(st),ut=yield this.getBlockHash(),ht=yield this.getProtocolHash();__classPrivateFieldSet(this,_PrepareProvider_counters,{});const Et=parseInt(yield this.getHeadCounter(rt),10),St=this.constructOpContents(ct,Et,rt,tt.source);return{opOb:{branch:ut,contents:St,protocol:ht},counter:Et}})}batch(a,$){return __awaiter(this,void 0,void 0,function*(){const{pkh:j,publicKey:et}=yield this.getKeys(),tt=yield this.context.readProvider.getProtocolConstants("head"),rt=yield this.getOperationLimits(tt,a.length),nt=yield this.isRevealOpNeeded(a,j),it=[];if($)for(const ht of a)if(isOpWithFee(ht)){const Et=$.shift(),St=mergeLimits(ht,{fee:Et.suggestedFeeMutez,storageLimit:Et.storageLimit,gasLimit:Et.gasLimit});it.push(yield this.getRPCOp(Object.assign(Object.assign({},ht),St)))}else it.push(Object.assign({},ht));else for(const ht of a)if(isOpWithFee(ht)){const Et=mergeLimits(ht,rt);it.push(yield this.getRPCOp(Object.assign(Object.assign({},ht),Et)))}else it.push(Object.assign({},ht));if(nt){if(!et)throw new PublicKeyNotFoundError(j);it.unshift(yield createRevealOperation({fee:getRevealFee(j),storageLimit:REVEAL_STORAGE_LIMIT,gasLimit:getRevealGasLimit(j)},j,et))}const ot=yield this.getBlockHash(),st=yield this.getProtocolHash();__classPrivateFieldSet(this,_PrepareProvider_counters,{});const ct=parseInt(yield this.getHeadCounter(j),10),ut=this.constructOpContents(it,ct,j);return{opOb:{branch:ot,contents:ut,protocol:st},counter:ct}})}contractCall(a){var $,j,et;return __awaiter(this,void 0,void 0,function*(){const tt=yield this.getBlockHash(),rt=yield this.getProtocolHash(),{pkh:nt}=yield this.getKeys();__classPrivateFieldSet(this,_PrepareProvider_counters,{});const it=parseInt(yield this.getHeadCounter(nt),10),ot=a.toTransferParams(),st=yield this.context.readProvider.getProtocolConstants("head"),ct=yield this.getOperationLimits(st),ut=mergeLimits({fee:ot.fee,storageLimit:ot.storageLimit,gasLimit:ot.gasLimit},ct),ht={kind:OpKind.TRANSACTION,fee:($=ot.fee)!==null&&$!==void 0?$:ut.fee,gas_limit:(j=ot.gasLimit)!==null&&j!==void 0?j:ut.gasLimit,storage_limit:(et=ot.storageLimit)!==null&&et!==void 0?et:ut.storageLimit,amount:String(ot.amount),destination:ot.to,parameters:ot.parameter},Et=yield this.addRevealOperationIfNeeded(ht,nt),St=this.convertIntoArray(Et),Mt=this.constructOpContents(St,it,nt);return{opOb:{branch:tt,contents:Mt,protocol:rt},counter:it}})}toPreapply(a){return __awaiter(this,void 0,void 0,function*(){const{opOb:{contents:$,branch:j,protocol:et}}=a,tt=this.toForge(a),rt=yield this.context.forger.forge(tt),nt=yield this.context.signer.sign(rt,new Uint8Array([3]));return[{contents:$,branch:j,protocol:et,signature:nt.prefixSig}]})}toForge({opOb:{contents:a,branch:$}}){return{branch:$,contents:a}}}_PrepareProvider_counters=new WeakMap;const BATCH_KINDS=[OpKind.ACTIVATION,OpKind.ORIGINATION,OpKind.TRANSACTION,OpKind.DELEGATION];class OperationBatch extends Provider{constructor(a,$){super(a),this.estimator=$,this.operations=[],this.prepare=new PrepareProvider(this.context)}withTransfer(a){const $=validateAddress(a.to);if(a.amount<0)throw new InvalidAmountError(a.amount.toString());if($!==ValidationResult.VALID)throw new InvalidAddressError(a.to,invalidDetail($));return this.operations.push(Object.assign({kind:OpKind.TRANSACTION},a)),this}withTransferTicket(a){const $=validateAddress(a.destination);if($!==ValidationResult.VALID)throw new InvalidAddressError(a.destination,invalidDetail($));return this.operations.push(Object.assign({kind:OpKind.TRANSFER_TICKET},a)),this}withContractCall(a,$={}){return this.withTransfer(a.toTransferParams($))}withDelegation(a){var $;const j=validateAddress(a.source);if(a.source&&j!==ValidationResult.VALID)throw new InvalidAddressError(a.source,invalidDetail(j));const et=validateAddress(($=a.delegate)!==null&&$!==void 0?$:"");if(a.delegate&&et!==ValidationResult.VALID)throw new InvalidAddressError(a.delegate,invalidDetail(et));return this.operations.push(Object.assign({kind:OpKind.DELEGATION},a)),this}withActivation({pkh:a,secret:$}){const j=validateKeyHash(a);if(j!==ValidationResult.VALID)throw new InvalidKeyHashError(a,invalidDetail(j));return this.operations.push({kind:OpKind.ACTIVATION,pkh:a,secret:$}),this}withOrigination(a){return this.operations.push(Object.assign({kind:OpKind.ORIGINATION},a)),this}withRegisterGlobalConstant(a){return this.operations.push(Object.assign({kind:OpKind.REGISTER_GLOBAL_CONSTANT},a)),this}withIncreasePaidStorage(a){return this.operations.push(Object.assign({kind:OpKind.INCREASE_PAID_STORAGE},a)),this}withSmartRollupAddMessages(a){return this.operations.push(Object.assign({kind:OpKind.SMART_ROLLUP_ADD_MESSAGES},a)),this}withSmartRollupOriginate(a){return this.operations.push(Object.assign({kind:OpKind.SMART_ROLLUP_ORIGINATE},a)),this}withSmartRollupExecuteOutboxMessage(a){return this.operations.push(Object.assign({kind:OpKind.SMART_ROLLUP_EXECUTE_OUTBOX_MESSAGE},a)),this}getRPCOp(a){return __awaiter(this,void 0,void 0,function*(){switch(a.kind){case OpKind.TRANSACTION:return createTransferOperation(Object.assign({},a));case OpKind.ORIGINATION:return createOriginationOperation(yield this.context.parser.prepareCodeOrigination(Object.assign({},a)));case OpKind.DELEGATION:return createSetDelegateOperation(Object.assign({},a));case OpKind.REGISTER_GLOBAL_CONSTANT:return createRegisterGlobalConstantOperation(Object.assign({},a));case OpKind.INCREASE_PAID_STORAGE:return createIncreasePaidStorageOperation(Object.assign({},a));case OpKind.TRANSFER_TICKET:return createTransferTicketOperation(Object.assign({},a));case OpKind.SMART_ROLLUP_ADD_MESSAGES:return createSmartRollupAddMessagesOperation(Object.assign({},a));case OpKind.SMART_ROLLUP_ORIGINATE:return createSmartRollupOriginateOperation(Object.assign({},a));case OpKind.SMART_ROLLUP_EXECUTE_OUTBOX_MESSAGE:return createSmartRollupExecuteOutboxMessageOperation(Object.assign({},a));default:throw new InvalidOperationKindError(JSON.stringify(a.kind))}})}with(a){for(const $ of a)switch($.kind){case OpKind.TRANSACTION:this.withTransfer($);break;case OpKind.ORIGINATION:this.withOrigination($);break;case OpKind.DELEGATION:this.withDelegation($);break;case OpKind.ACTIVATION:this.withActivation($);break;case OpKind.REGISTER_GLOBAL_CONSTANT:this.withRegisterGlobalConstant($);break;case OpKind.INCREASE_PAID_STORAGE:this.withIncreasePaidStorage($);break;case OpKind.TRANSFER_TICKET:this.withTransferTicket($);break;case OpKind.SMART_ROLLUP_ADD_MESSAGES:this.withSmartRollupAddMessages($);break;case OpKind.SMART_ROLLUP_ORIGINATE:this.withSmartRollupOriginate($);break;case OpKind.SMART_ROLLUP_EXECUTE_OUTBOX_MESSAGE:this.withSmartRollupExecuteOutboxMessage($);break;default:throw new InvalidOperationKindError(JSON.stringify($.kind))}return this}send(a){return __awaiter(this,void 0,void 0,function*(){const $=yield this.signer.publicKeyHash(),j=a&&a.source||$,et=yield this.estimator.batch(this.operations);et.length!==this.operations.length&&et.shift();const tt=yield this.prepare.batch(this.operations,et),rt=yield this.forge(tt),{hash:nt,context:it,forgedBytes:ot,opResponse:st}=yield this.signAndInject(rt);return new BatchOperation(nt,tt.opOb.contents,j,ot,st,it)})}}class RPCBatchProvider{constructor(a,$){this.context=a,this.estimator=$}batch(a){const $=new OperationBatch(this.context,this.estimator);return Array.isArray(a)&&$.with(a),$}}class BatchWalletOperation extends WalletOperation{constructor(a,$,j){super(a,$,j),this.opHash=a,this.context=$,this.getOriginatedContractAddresses=()=>__awaiter(this,void 0,void 0,function*(){const et=yield this.operationResults();if(et){const tt=et.filter(nt=>nt.kind==="origination");let rt=[];for(const nt of tt)nt.metadata.operation_result.originated_contracts&&(rt=[...rt,...nt.metadata.operation_result.originated_contracts]);return rt}else throw new ObservableError("Unable to fetch operation results")})}revealOperation(){return __awaiter(this,void 0,void 0,function*(){const a=yield this.operationResults();if(a)return a.find($=>$.kind===OpKind.REVEAL);throw new ObservableError("Unable to fetch operation results")})}status(){return __awaiter(this,void 0,void 0,function*(){if(!this._included)return"pending";const a=yield this.operationResults();if(a)return a.filter($=>BATCH_KINDS.indexOf($.kind)!==-1).map($=>hasMetadataWithResult($)?$.metadata.operation_result.status:"unknown")[0]||"unknown";throw new ObservableError("Unable to fetch operation results")})}}class IncreasePaidStorageWalletOperation extends WalletOperation{constructor(a,$,j){super(a,$,j),this.opHash=a,this.context=$}revealOperation(){return __awaiter(this,void 0,void 0,function*(){const a=yield this.operationResults();if(a)return a.find($=>$.kind===OpKind.REVEAL);throw new ObservableError("Unable to fetch operation result")})}increasePaidStorageOperation(){return __awaiter(this,void 0,void 0,function*(){const a=yield this.operationResults();if(a)return a.find($=>$.kind===OpKind.INCREASE_PAID_STORAGE);throw new ObservableError("Unable to fetch operation result")})}status(){return __awaiter(this,void 0,void 0,function*(){if(!this._included)return"pending";const a=yield this.increasePaidStorageOperation();return a?a.metadata.operation_result.status:"unknown"})}}function timeoutAfter(_){return function($){return new BehaviorSubject(null).pipe(timeout({each:_,with:()=>throwError(()=>new ConfirmationTimeoutError("Confirmation polling timed out"))}),mergeMap(()=>$))}}const createNewPollingBasedHeadObservable=(_,a,$)=>_.pipe(timeoutAfter(a.config.confirmationPollingTimeoutSecond*1e3),share({connector:()=>new ReplaySubject(1),resetOnError:!1,resetOnComplete:!1,resetOnRefCountZero:!1}));class OperationFactory{constructor(a){this.context=a,this.sharedHeadObs=defer(()=>createObservableFromSubscription(this.context.stream.subscribeBlock("head")))}createNewHeadObservable(){return __awaiter(this,void 0,void 0,function*(){return createNewPollingBasedHeadObservable(this.sharedHeadObs,this.context)})}createPastBlockWalker(a,$=1){return from(this.context.readProvider.getBlock(a)).pipe(switchMap(j=>$===1?of(j):range(j.header.level,$-1).pipe(startWith(j),concatMap(et=>__awaiter(this,void 0,void 0,function*(){return this.context.readProvider.getBlock(typeof et=="number"?et:et.header.level)})))))}createHeadObservableFromConfig({blockIdentifier:a}){return __awaiter(this,void 0,void 0,function*(){const $=[];return a&&$.push(this.createPastBlockWalker(a)),$.push(yield this.createNewHeadObservable()),concat(...$)})}createOperation(a,$={}){return __awaiter(this,void 0,void 0,function*(){return new WalletOperation(a,this.context.clone(),yield this.createHeadObservableFromConfig($))})}createBatchOperation(a,$={}){return __awaiter(this,void 0,void 0,function*(){return new BatchWalletOperation(a,this.context.clone(),yield this.createHeadObservableFromConfig($))})}createTransactionOperation(a,$={}){return __awaiter(this,void 0,void 0,function*(){return new TransactionWalletOperation(a,this.context.clone(),yield this.createHeadObservableFromConfig($))})}createDelegationOperation(a,$={}){return __awaiter(this,void 0,void 0,function*(){return new DelegationWalletOperation(a,this.context.clone(),yield this.createHeadObservableFromConfig($))})}createOriginationOperation(a,$={}){return __awaiter(this,void 0,void 0,function*(){return new OriginationWalletOperation(a,this.context.clone(),yield this.createHeadObservableFromConfig($))})}createIncreasePaidStorageOperation(a,$={}){return __awaiter(this,void 0,void 0,function*(){return new IncreasePaidStorageWalletOperation(a,this.context.clone(),yield this.createHeadObservableFromConfig($))})}}class RpcTzProvider extends Provider{constructor(a){super(a),this.prepare=new PrepareProvider(this.context)}getBalance(a){return __awaiter(this,void 0,void 0,function*(){const $=validateAddress(a);if($!==ValidationResult.VALID)throw new InvalidAddressError(a,invalidDetail($));return this.context.readProvider.getBalance(a,"head")})}getDelegate(a){return __awaiter(this,void 0,void 0,function*(){const $=validateAddress(a);if($!==ValidationResult.VALID)throw new InvalidAddressError(a,invalidDetail($));return this.context.readProvider.getDelegate(a,"head")})}activate(a,$){return __awaiter(this,void 0,void 0,function*(){const j=validateKeyHash(a);if(j!==ValidationResult.VALID)throw new InvalidKeyHashError(a,invalidDetail(j));const et=yield this.prepare.activate({pkh:a,secret:$}),tt=yield this.forge(et),rt=`${tt.opbytes}00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000`;return new Operation(yield this.rpc.injectOperation(rt),Object.assign(Object.assign({},tt),{opbytes:rt}),[],this.context.clone())})}}const MINIMAL_FEE_MUTEZ=100,MINIMAL_FEE_PER_BYTE_MUTEZ=1,MINIMAL_FEE_PER_GAS_MUTEZ=.1;class Estimate{constructor(a,$,j,et,tt=MINIMAL_FEE_MUTEZ){this._milligasLimit=a,this._storageLimit=$,this.opSize=j,this.minimalFeePerStorageByteMutez=et,this.baseFeeMutez=tt}get burnFeeMutez(){return this.roundUp(Number(this.storageLimit)*Number(this.minimalFeePerStorageByteMutez))}get storageLimit(){return Math.max(Number(this._storageLimit),0)}get gasLimit(){return this.roundUp(Number(this._milligasLimit)/1e3)}get operationFeeMutez(){return this.gasLimit*MINIMAL_FEE_PER_GAS_MUTEZ+Number(this.opSize)*MINIMAL_FEE_PER_BYTE_MUTEZ}roundUp(a){return Math.ceil(Number(a))}get minimalFeeMutez(){return this.roundUp(this.operationFeeMutez+MINIMAL_FEE_MUTEZ)}get suggestedFeeMutez(){return this.roundUp(this.operationFeeMutez+MINIMAL_FEE_MUTEZ*1.2)}get usingBaseFeeMutez(){return Math.max(Number(this.baseFeeMutez),MINIMAL_FEE_MUTEZ)+this.roundUp(this.operationFeeMutez)}get totalCost(){return this.minimalFeeMutez+this.burnFeeMutez}get consumedMilligas(){return Number(this._milligasLimit)}static createEstimateInstanceFromProperties(a){let $=0,j=0,et=0,tt=0,rt;return a.forEach(nt=>{$+=nt.milligasLimit,j+=nt.storageLimit,et+=nt.opSize,tt=Math.max(nt.minimalFeePerStorageByteMutez,tt),nt.baseFeeMutez&&(rt=rt?rt+nt.baseFeeMutez:nt.baseFeeMutez)}),new Estimate($,j,et,tt,rt)}static createArrayEstimateInstancesFromProperties(a){return a.map($=>new Estimate($.milligasLimit,$.storageLimit,$.opSize,$.minimalFeePerStorageByteMutez,$.baseFeeMutez))}}class RevealEstimateError extends TaquitoError{constructor(){super(),this.name="RevealEstimateError",this.message="Public key is unknown, unable to estimate the reveal operation in Wallet API."}}const STUB_SIGNATURE="edsigtkpiSSschcaCt9pUVrpNPf7TTcgvgDEDD6NCEHMy8NNQJCGnMfLZzYoQj74yLjo9wx6MPVV29CvVzgi7qEcEUok3k7AuMg";class RPCEstimateProvider extends Provider{constructor(){super(...arguments),this.OP_SIZE_REVEAL=324,this.MILLIGAS_BUFFER=100*1e3,this.STORAGE_BUFFER=20,this.prepare=new PrepareProvider(this.context)}getKeys(){return __awaiter(this,void 0,void 0,function*(){const a=this.context.isAnySignerConfigured();return{publicKeyHash:a?yield this.signer.publicKeyHash():yield this.context.walletProvider.getPKH(),publicKey:a?yield this.signer.publicKey():void 0}})}getEstimationPropertiesFromOperationContent(a,$,j,et){const tt=flattenOperationResult({contents:[a]});let rt=0,nt=0;return tt.forEach(it=>{rt+=Number(it.consumed_milligas)||0,nt+="allocated_destination_contract"in it?et:0,nt+="originated_contracts"in it&&Array.isArray(it.originated_contracts)?it.originated_contracts.length*et:0,nt+="storage_size"in it&&"global_address"in it&&Number(it.storage_size)||0,nt+="paid_storage_size_diff"in it&&Number(it.paid_storage_size_diff)||0,nt+="genesis_commitment_hash"in it&&Number(it.size)||0}),isOpWithFee(a)?{milligasLimit:isOpWithGasBuffer(a)?rt+Number(this.MILLIGAS_BUFFER):rt,storageLimit:nt>0?nt+this.STORAGE_BUFFER:0,opSize:$,minimalFeePerStorageByteMutez:j.toNumber()}:{milligasLimit:0,storageLimit:0,opSize:$,minimalFeePerStorageByteMutez:j.toNumber(),baseFeeMutez:0}}calculateEstimates(a,$){return __awaiter(this,void 0,void 0,function*(){const{opbytes:j,opOb:{branch:et,contents:tt}}=yield this.forge(a),rt={operation:{branch:et,contents:tt,signature:STUB_SIGNATURE},chain_id:yield this.context.readProvider.getChainId()},{opResponse:nt}=yield this.simulate(rt),{cost_per_byte:it,origination_size:ot}=$,st=[...flattenErrors(nt,"backtracked"),...flattenErrors(nt)];if(st.length)throw new TezosOperationError(st,"Error occurred during estimation",nt.contents);let ct=1;return Array.isArray(a.opOb.contents)&&a.opOb.contents.length>1&&(ct=nt.contents[0].kind==="reveal"?a.opOb.contents.length-1:a.opOb.contents.length),nt.contents.map(ut=>this.getEstimationPropertiesFromOperationContent(ut,ut.kind==="reveal"?this.OP_SIZE_REVEAL/2:(j.length+130)/2/ct,it,ot??257))})}originate(a){return __awaiter(this,void 0,void 0,function*(){const $=yield this.prepare.originate(a),j=yield this.context.readProvider.getProtocolConstants("head"),et=yield this.calculateEstimates($,j);return $.opOb.contents[0].kind==="reveal"&&(et.shift(),et[0].opSize-=this.OP_SIZE_REVEAL/2),Estimate.createEstimateInstanceFromProperties(et)})}transfer(a){var $,{fee:j,storageLimit:et,gasLimit:tt}=a,rt=__rest(a,["fee","storageLimit","gasLimit"]);return __awaiter(this,void 0,void 0,function*(){const nt=validateAddress(rt.to);if(nt!==ValidationResult.VALID)throw new InvalidAddressError(rt.to,invalidDetail(nt));const it=validateAddress(($=rt.source)!==null&&$!==void 0?$:"");if(rt.source&&it!==ValidationResult.VALID)throw new InvalidAddressError(rt.source,invalidDetail(it));if(rt.amount<0)throw new InvalidAmountError(rt.amount.toString());const ot=yield this.prepare.transaction(Object.assign({fee:j,storageLimit:et,gasLimit:tt},rt)),st=yield this.context.readProvider.getProtocolConstants("head"),ct=yield this.calculateEstimates(ot,st);return ot.opOb.contents[0].kind==="reveal"&&(ct.shift(),ct[0].opSize-=this.OP_SIZE_REVEAL/2),Estimate.createEstimateInstanceFromProperties(ct)})}transferTicket(a){var $,{fee:j,storageLimit:et,gasLimit:tt}=a,rt=__rest(a,["fee","storageLimit","gasLimit"]);return __awaiter(this,void 0,void 0,function*(){const nt=validateAddress(rt.destination);if(nt!==ValidationResult.VALID)throw new InvalidAddressError(rt.destination,invalidDetail(nt));const it=validateAddress(($=rt.source)!==null&&$!==void 0?$:"");if(rt.source&&it!==ValidationResult.VALID)throw new InvalidAddressError(rt.source,invalidDetail(it));const ot=yield this.context.readProvider.getProtocolConstants("head"),st=yield this.prepare.transferTicket(Object.assign({fee:j,storageLimit:et,gasLimit:tt},rt)),ct=yield this.calculateEstimates(st,ot);return st.opOb.contents[0].kind==="reveal"&&(ct.shift(),ct[0].opSize-=this.OP_SIZE_REVEAL/2),Estimate.createEstimateInstanceFromProperties(ct)})}setDelegate(a){var $,{fee:j,gasLimit:et,storageLimit:tt}=a,rt=__rest(a,["fee","gasLimit","storageLimit"]);return __awaiter(this,void 0,void 0,function*(){const nt=validateAddress(rt.source);if(rt.source&&nt!==ValidationResult.VALID)throw new InvalidAddressError(rt.source,invalidDetail(nt));const it=validateAddress(($=rt.delegate)!==null&&$!==void 0?$:"");if(rt.delegate&&it!==ValidationResult.VALID)throw new InvalidAddressError(rt.delegate,invalidDetail(it));const ot=yield this.prepare.delegation(Object.assign({fee:j,storageLimit:tt,gasLimit:et},rt)),st=yield this.context.readProvider.getProtocolConstants("head"),ct=yield this.calculateEstimates(ot,st);return ot.opOb.contents[0].kind==="reveal"&&(ct.shift(),ct[0].opSize-=this.OP_SIZE_REVEAL/2),Estimate.createEstimateInstanceFromProperties(ct)})}batch(a){return __awaiter(this,void 0,void 0,function*(){const $=yield this.context.readProvider.getProtocolConstants("head"),j=yield this.prepare.batch(a),et=yield this.calculateEstimates(j,$);return Estimate.createArrayEstimateInstancesFromProperties(et)})}registerDelegate(a,$){var{fee:j,storageLimit:et,gasLimit:tt}=a,rt=__rest(a,["fee","storageLimit","gasLimit"]);return __awaiter(this,void 0,void 0,function*(){const nt=(yield this.getKeys()).publicKeyHash,it=yield this.context.readProvider.getProtocolConstants("head"),ot=$||nt,st=yield this.prepare.registerDelegate(Object.assign({fee:j,storageLimit:et,gasLimit:tt},rt),ot),ct=yield this.calculateEstimates(st,it);return st.opOb.contents[0].kind==="reveal"&&(ct.shift(),ct[0].opSize-=this.OP_SIZE_REVEAL/2),Estimate.createEstimateInstanceFromProperties(ct)})}reveal(a){return __awaiter(this,void 0,void 0,function*(){const{publicKeyHash:$,publicKey:j}=yield this.getKeys();if(!j)throw new RevealEstimateError;if(yield this.isAccountRevealRequired($)){const et=yield this.context.readProvider.getProtocolConstants("head"),tt=a?yield this.prepare.reveal(a):yield this.prepare.reveal({}),rt=yield this.calculateEstimates(tt,et);return Estimate.createEstimateInstanceFromProperties(rt)}})}registerGlobalConstant(a){var{fee:$,storageLimit:j,gasLimit:et}=a,tt=__rest(a,["fee","storageLimit","gasLimit"]);return __awaiter(this,void 0,void 0,function*(){const rt=yield this.prepare.registerGlobalConstant(Object.assign({fee:$,storageLimit:j,gasLimit:et},tt)),nt=yield this.context.readProvider.getProtocolConstants("head"),it=yield this.calculateEstimates(rt,nt);return rt.opOb.contents[0].kind==="reveal"&&(it.shift(),it[0].opSize-=this.OP_SIZE_REVEAL/2),Estimate.createEstimateInstanceFromProperties(it)})}increasePaidStorage(a){var{fee:$,storageLimit:j,gasLimit:et}=a,tt=__rest(a,["fee","storageLimit","gasLimit"]);return __awaiter(this,void 0,void 0,function*(){if(tt.amount<0)throw new InvalidAmountError(tt.amount.toString());const rt=yield this.context.readProvider.getProtocolConstants("head"),nt=yield this.prepare.increasePaidStorage(Object.assign({fee:$,storageLimit:j,gasLimit:et},tt)),it=yield this.calculateEstimates(nt,rt);return nt.opOb.contents[0].kind==="reveal"&&(it.shift(),it[0].opSize-=this.OP_SIZE_REVEAL/2),Estimate.createEstimateInstanceFromProperties(it)})}updateConsensusKey(a){return __awaiter(this,void 0,void 0,function*(){const $=yield this.context.readProvider.getProtocolConstants("head"),j=yield this.prepare.updateConsensusKey(a),et=yield this.calculateEstimates(j,$);return j.opOb.contents[0].kind==="reveal"&&(et.shift(),et[0].opSize-=this.OP_SIZE_REVEAL/2),Estimate.createEstimateInstanceFromProperties(et)})}smartRollupAddMessages(a){return __awaiter(this,void 0,void 0,function*(){const $=yield this.context.readProvider.getProtocolConstants("head"),j=yield this.prepare.smartRollupAddMessages(a),et=yield this.calculateEstimates(j,$);return j.opOb.contents[0].kind==="reveal"&&(et.shift(),et[0].opSize-=this.OP_SIZE_REVEAL/2),Estimate.createEstimateInstanceFromProperties(et)})}smartRollupOriginate(a){return __awaiter(this,void 0,void 0,function*(){const $=yield this.context.readProvider.getProtocolConstants("head"),j=yield this.prepare.smartRollupOriginate(a),et=yield this.calculateEstimates(j,$);return j.opOb.contents[0].kind==="reveal"&&(et.shift(),et[0].opSize-=this.OP_SIZE_REVEAL/2),Estimate.createEstimateInstanceFromProperties(et)})}smartRollupExecuteOutboxMessage(a){return __awaiter(this,void 0,void 0,function*(){const $=yield this.context.readProvider.getProtocolConstants("head"),j=yield this.prepare.smartRollupExecuteOutboxMessage(a),et=yield this.calculateEstimates(j,$);return j.opOb.contents[0].kind==="reveal"&&et.shift(),Estimate.createEstimateInstanceFromProperties(et)})}contractCall(a){return __awaiter(this,void 0,void 0,function*(){const $=yield this.context.readProvider.getProtocolConstants("head"),j=yield this.prepare.contractCall(a),et=yield this.calculateEstimates(j,$);return j.opOb.contents[0].kind==="reveal"&&(et.shift(),et[0].opSize-=this.OP_SIZE_REVEAL/2),Estimate.createEstimateInstanceFromProperties(et)})}}class DelegateOperation extends Operation{constructor(a,$,j,et,tt,rt){super(a,et,tt,rt),this.params=$,this.source=j}get operationResults(){const a=Array.isArray(this.results)&&this.results.find(j=>j.kind==="delegation"),$=a&&a.metadata&&a.metadata.operation_result;return $||void 0}get status(){var a,$;return($=(a=this.operationResults)===null||a===void 0?void 0:a.status)!==null&&$!==void 0?$:"unknown"}get delegate(){return this.params.delegate}get isRegisterOperation(){return this.delegate===this.source}get fee(){return Number(this.params.fee)}get gasLimit(){return Number(this.params.gas_limit)}get storageLimit(){return Number(this.params.storage_limit)}get consumedGas(){return BigNumber.config({DECIMAL_PLACES:0,ROUNDING_MODE:BigNumber.ROUND_UP}),this.consumedMilliGas?new BigNumber(this.consumedMilliGas).dividedBy(1e3).toString():void 0}get consumedMilliGas(){var a;return(a=this.operationResults)===null||a===void 0?void 0:a.consumed_milligas}get errors(){var a;return(a=this.operationResults)===null||a===void 0?void 0:a.errors}}class OriginationOperation extends Operation{constructor(a,$,j,et,tt,rt){super(a,j,et,tt),this.params=$,this.contractProvider=rt;const nt=this.operationResults&&this.operationResults.originated_contracts;Array.isArray(nt)&&(this.contractAddress=nt[0])}get status(){var a,$;return($=(a=this.operationResults)===null||a===void 0?void 0:a.status)!==null&&$!==void 0?$:"unknown"}get operationResults(){const a=Array.isArray(this.results)&&this.results.find(j=>j.kind==="origination"),$=a&&hasMetadataWithResult(a)&&a.metadata.operation_result;return $||void 0}get fee(){return Number(this.params.fee)}get gasLimit(){return Number(this.params.gas_limit)}get storageLimit(){return Number(this.params.storage_limit)}get consumedGas(){return BigNumber.config({DECIMAL_PLACES:0,ROUNDING_MODE:BigNumber.ROUND_UP}),this.consumedMilliGas?new BigNumber(this.consumedMilliGas).dividedBy(1e3).toString():void 0}get consumedMilliGas(){var a;return(a=this.operationResults)===null||a===void 0?void 0:a.consumed_milligas}get storageDiff(){const a=this.operationResults&&this.operationResults.paid_storage_size_diff;return a||void 0}get storageSize(){const a=this.operationResults&&this.operationResults.storage_size;return a||void 0}get errors(){var a;return(a=this.operationResults)===null||a===void 0?void 0:a.errors}contract(a,$){return __awaiter(this,void 0,void 0,function*(){if(!this.contractAddress)throw new OriginationOperationError("No contract was originated in this operation");return yield this.confirmation(a,$),this.contractProvider.at(this.contractAddress)})}}class RegisterGlobalConstantOperation extends Operation{constructor(a,$,j,et,tt,rt){super(a,et,tt,rt),this.params=$,this.source=j,this.globalConstantHash=this.operationResults&&this.operationResults.global_address}get operationResults(){const a=Array.isArray(this.results)&&this.results.find(j=>j.kind==="register_global_constant"),$=a&&a.metadata&&a.metadata.operation_result;return $||void 0}get status(){var a,$;return($=(a=this.operationResults)===null||a===void 0?void 0:a.status)!==null&&$!==void 0?$:"unknown"}get registeredExpression(){return this.params.value}get fee(){return Number(this.params.fee)}get gasLimit(){return Number(this.params.gas_limit)}get storageLimit(){return Number(this.params.storage_limit)}get errors(){var a;return(a=this.operationResults)===null||a===void 0?void 0:a.errors}get consumedGas(){return BigNumber.config({DECIMAL_PLACES:0,ROUNDING_MODE:BigNumber.ROUND_UP}),this.consumedMilliGas?new BigNumber(this.consumedMilliGas).dividedBy(1e3).toString():void 0}get consumedMilliGas(){var a;return(a=this.operationResults)===null||a===void 0?void 0:a.consumed_milligas}}class RevealOperation extends Operation{constructor(a,$,j,et,tt,rt){super(a,et,tt,rt),this.params=$,this.source=j}get operationResults(){const a=Array.isArray(this.results)&&this.results.find($=>$.kind==="reveal");return a?[a]:[]}get status(){const $=this.operationResults[0];return $?$.metadata.operation_result.status:"unknown"}get fee(){return Number(this.params.fee)}get gasLimit(){return Number(this.params.gas_limit)}get storageLimit(){return Number(this.params.storage_limit)}get publicKey(){return this.params.public_key}sumProp(a,$){return a.reduce((j,et)=>$ in et?Number(et[$])+j:j,0)}get consumedGas(){return BigNumber.config({DECIMAL_PLACES:0,ROUNDING_MODE:BigNumber.ROUND_UP}),new BigNumber(this.consumedMilliGas).dividedBy(1e3).toString()}get consumedMilliGas(){return String(this.sumProp(flattenOperationResult({contents:this.operationResults}),"consumed_milligas"))}get storageDiff(){return String(this.sumProp(flattenOperationResult({contents:this.operationResults}),"paid_storage_size_diff"))}get storageSize(){return String(this.sumProp(flattenOperationResult({contents:this.operationResults}),"storage_size"))}get errors(){return flattenErrors({contents:this.operationResults})}}class TransactionOperation extends Operation{constructor(a,$,j,et,tt,rt){super(a,et,tt,rt),this.params=$,this.source=j}get operationResults(){const a=Array.isArray(this.results)&&this.results.find($=>$.kind==="transaction");return a?[a]:[]}get status(){const $=this.operationResults[0];return $?$.metadata.operation_result.status:"unknown"}get amount(){return new BigNumber(this.params.amount)}get destination(){return this.params.destination}get fee(){return Number(this.params.fee)}get gasLimit(){return Number(this.params.gas_limit)}get storageLimit(){return Number(this.params.storage_limit)}sumProp(a,$){return a.reduce((j,et)=>$ in et?Number(et[$])+j:j,0)}get consumedGas(){return BigNumber.config({DECIMAL_PLACES:0,ROUNDING_MODE:BigNumber.ROUND_UP}),new BigNumber(this.consumedMilliGas).dividedBy(1e3).toString()}get consumedMilliGas(){return String(this.sumProp(flattenOperationResult({contents:this.operationResults}),"consumed_milligas"))}get storageDiff(){return String(this.sumProp(flattenOperationResult({contents:this.operationResults}),"paid_storage_size_diff"))}get storageSize(){return String(this.sumProp(flattenOperationResult({contents:this.operationResults}),"storage_size"))}get errors(){return flattenErrors({contents:this.operationResults})}}class IncreasePaidStorageOperation extends Operation{constructor(a,$,j,et,tt,rt){super(a,et,tt,rt),this.params=$,this.source=j}get operationResults(){const a=Array.isArray(this.results)&&this.results.find(j=>j.kind==="increase_paid_storage"),$=a&&a.metadata&&a.metadata.operation_result;return $||void 0}get status(){var a,$;return($=(a=this.operationResults)===null||a===void 0?void 0:a.status)!==null&&$!==void 0?$:"unknown"}get fee(){return Number(this.params.fee)}get gasLimit(){return Number(this.params.gas_limit)}get storageLimit(){return Number(this.params.storage_limit)}get errors(){var a;return(a=this.operationResults)===null||a===void 0?void 0:a.errors}get consumedMilliGas(){var a;return(a=this.operationResults)===null||a===void 0?void 0:a.consumed_milligas}get amount(){return this.params.amount}get destination(){return this.params.destination}}class UpdateConsensusKeyOperation extends Operation{constructor(a,$,j,et,tt,rt){super(a,et,tt,rt),this.params=$,this.source=j}get operationResults(){const a=Array.isArray(this.results)&&this.results.find(j=>j.kind==="update_consensus_key"),$=a&&a.metadata&&a.metadata.operation_result;return $||void 0}get status(){var a,$;return($=(a=this.operationResults)===null||a===void 0?void 0:a.status)!==null&&$!==void 0?$:"unknown"}get fee(){return Number(this.params.fee)}get gasLimit(){return Number(this.params.gas_limit)}get storageLimit(){return Number(this.params.storage_limit)}get pk(){return this.params.pk}get consumedMilliGas(){var a;return(a=this.operationResults)===null||a===void 0?void 0:a.consumed_milligas}get errors(){var a;return(a=this.operationResults)===null||a===void 0?void 0:a.errors}}class SmartRollupAddMessagesOperation extends Operation{constructor(a,$,j,et,tt,rt){super(a,et,tt,rt),this.params=$,this.source=j}get operationResults(){const a=Array.isArray(this.results)&&this.results.find(j=>j.kind==="smart_rollup_add_messages"),$=a&&a.metadata&&a.metadata.operation_result;return $||void 0}get status(){var a,$;return($=(a=this.operationResults)===null||a===void 0?void 0:a.status)!==null&&$!==void 0?$:"unknown"}get message(){return this.params.message}get fee(){return Number(this.params.fee)}get gasLimit(){return Number(this.params.gas_limit)}get storageLimit(){return Number(this.params.storage_limit)}get consumedMilliGas(){var a;return(a=this.operationResults)===null||a===void 0?void 0:a.consumed_milligas}get errors(){var a;return(a=this.operationResults)===null||a===void 0?void 0:a.errors}}class SmartRollupOriginateOperation extends Operation{constructor(a,$,j,et,tt,rt){super(a,et,tt,rt),this.params=$,this.source=j}get operationResults(){const a=Array.isArray(this.results)&&this.results.find(j=>j.kind===OpKind.SMART_ROLLUP_ORIGINATE),$=a&&a.metadata&&a.metadata.operation_result;return $||void 0}get status(){var a,$;return($=(a=this.operationResults)===null||a===void 0?void 0:a.status)!==null&&$!==void 0?$:"unknown"}get fee(){return Number(this.params.fee)}get gasLimit(){return Number(this.params.gas_limit)}get storageLimit(){return Number(this.params.storage_limit)}get consumedMilliGas(){var a;return(a=this.operationResults)===null||a===void 0?void 0:a.consumed_milligas}get pvmKind(){return this.params.pvm_kind}get kernel(){return this.params.kernel}get errors(){var a;return(a=this.operationResults)===null||a===void 0?void 0:a.errors}}class BallotOperation extends Operation{constructor(a,$,j,et,tt,rt){super(a,et,tt,rt),this.params=$,this.source=j}get operationResults(){const $=Array.isArray(this.results)&&this.results.find(j=>j.kind==="ballot");return $||void 0}get period(){var a;return(a=this.operationResults)===null||a===void 0?void 0:a.period}get proposal(){return this.params.proposal}get ballot(){return this.params.ballot}}class DrainDelegateOperation extends Operation{constructor(a,$,j,et,tt){super(a,j,et,tt),this.params=$}get operationResults(){const a=Array.isArray(this.results)&&this.results.find(j=>j.kind==="drain_delegate"),$=a&&a.metadata&&a.metadata.balance_updates;return $||void 0}get consensusKey(){return this.params.consensus_key}get delegate(){return this.params.delegate}get destination(){return this.params.destination}}class ProposalsOperation extends Operation{constructor(a,$,j,et,tt,rt){super(a,et,tt,rt),this.params=$,this.source=j}get operationResults(){const $=Array.isArray(this.results)&&this.results.find(j=>j.kind==="proposals");return $||void 0}get proposals(){return this.params.proposals}get period(){var a;return(a=this.operationResults)===null||a===void 0?void 0:a.period}}class TransferTicketOperation extends Operation{constructor(a,$,j,et,tt,rt){super(a,et,tt,rt),this.params=$,this.source=j}get operationResults(){const a=Array.isArray(this.results)&&this.results.find(j=>j.kind===OpKind.TRANSFER_TICKET),$=a&&a.metadata&&a.metadata.operation_result;return $||void 0}get status(){var a,$;return($=(a=this.operationResults)===null||a===void 0?void 0:a.status)!==null&&$!==void 0?$:"unknown"}get fee(){return Number(this.params.fee)}get gasLimit(){return Number(this.params.gas_limit)}get storageLimit(){return Number(this.params.storage_limit)}get consumedGas(){return BigNumber.config({DECIMAL_PLACES:0,ROUNDING_MODE:BigNumber.ROUND_UP}),this.consumedMilliGas?new BigNumber(this.consumedMilliGas).dividedBy(1e3).toString():void 0}get consumedMilliGas(){var a;return(a=this.operationResults)===null||a===void 0?void 0:a.consumed_milligas}}class SmartRollupExecuteOutboxMessageOperation extends Operation{constructor(a,$,j,et,tt,rt){super(a,et,tt,rt),this.params=$,this.source=j}get operationResults(){const a=Array.isArray(this.results)&&this.results.find(j=>j.kind===OpKind.SMART_ROLLUP_EXECUTE_OUTBOX_MESSAGE),$=a&&a.metadata&&a.metadata.operation_result;return $||void 0}get status(){var a,$;return($=(a=this.operationResults)===null||a===void 0?void 0:a.status)!==null&&$!==void 0?$:"unknown"}get rollup(){return this.params.rollup}get cementedCommitment(){return this.params.cemented_commitment}get outputProof(){return this.params.output_proof}get fee(){return Number(this.params.fee)}get gasLimit(){return Number(this.params.gas_limit)}get storageLimit(){return Number(this.params.storage_limit)}get consumedMilliGas(){var a;return(a=this.operationResults)===null||a===void 0?void 0:a.consumed_milligas}get errors(){var a;return(a=this.operationResults)===null||a===void 0?void 0:a.errors}}class RpcContractProvider extends Provider{constructor(a,$){super(a),this.estimator=$,this.contractProviderTypeSymbol=Symbol.for("taquito-contract-provider-type-symbol"),this.prepare=new PrepareProvider(this.context)}getStorage(a,$){return __awaiter(this,void 0,void 0,function*(){const j=validateContractAddress(a);if(j!==ValidationResult.VALID)throw new InvalidContractAddressError(a,invalidDetail(j));const et=yield this.context.readProvider.getScript(a,"head");$||($=et);let tt;return Schema.isSchema($)?tt=$:tt=Schema.fromRPCResponse({script:$}),tt.Execute(et.storage,smartContractAbstractionSemantic(this))})}getBigMapKey(a,$,j){return __awaiter(this,void 0,void 0,function*(){const et=validateContractAddress(a);if(et!==ValidationResult.VALID)throw new InvalidContractAddressError(a,invalidDetail(et));j||(j=(yield this.rpc.getContract(a)).script);let tt;Schema.isSchema(j)?tt=j:tt=Schema.fromRPCResponse({script:j});const rt=tt.EncodeBigMapKey($),nt=yield this.rpc.getBigMapKey(a,rt);return tt.ExecuteOnBigMapValue(nt)})}getBigMapKeyByID(a,$,j,et){return __awaiter(this,void 0,void 0,function*(){const{key:tt,type:rt}=j.EncodeBigMapKey($),{packed:nt}=yield this.context.packer.packData({data:tt,type:rt}),it=encodeExpr(nt),ot=et?yield this.context.readProvider.getBigMapValue({id:a.toString(),expr:it},et):yield this.context.readProvider.getBigMapValue({id:a.toString(),expr:it},"head");return j.ExecuteOnBigMapValue(ot,smartContractAbstractionSemantic(this))})}getBigMapKeysByID(a,$,j,et,tt=5){return __awaiter(this,void 0,void 0,function*(){const rt=yield this.getBlockForRequest($,et),nt=new MichelsonMap;let it=0,ot=[];for(;it<$.length;){const ct=$.slice(it,it+tt).map(ut=>this.getBigMapValueOrUndefined(ut,a,j,rt));ot=[...ot,...yield Promise.all(ct)],it+=tt}for(let st=0;st<ot.length;st++)nt.set($[st],ot[st]);return nt})}getBlockForRequest(a,$){return __awaiter(this,void 0,void 0,function*(){return a.length===1||typeof $<"u"?$:yield this.context.readProvider.getBlockLevel("head")})}getBigMapValueOrUndefined(a,$,j,et){return __awaiter(this,void 0,void 0,function*(){try{return yield this.getBigMapKeyByID($,a,j,et)}catch(tt){if(tt instanceof HttpResponseError&&tt.status===STATUS_CODE.NOT_FOUND)return;throw tt}})}getSaplingDiffByID(a,$){return __awaiter(this,void 0,void 0,function*(){return $?yield this.context.readProvider.getSaplingDiffById({id:a.toString()},$):yield this.context.readProvider.getSaplingDiffById({id:a.toString()},"head")})}originate(a){return __awaiter(this,void 0,void 0,function*(){const $=yield this.estimate(a,this.estimator.originate.bind(this.estimator)),j=yield this.prepare.originate(Object.assign(Object.assign({},a),$)),et=j.opOb.contents.find(st=>st.kind===OpKind.ORIGINATION),tt=yield this.forge(j),{hash:rt,context:nt,forgedBytes:it,opResponse:ot}=yield this.signAndInject(tt);return new OriginationOperation(rt,et,it,ot,nt,this)})}setDelegate(a){var $;return __awaiter(this,void 0,void 0,function*(){const j=validateAddress(a.source);if(a.source&&j!==ValidationResult.VALID)throw new InvalidAddressError(a.source,invalidDetail(j));const et=validateAddress(($=a.delegate)!==null&&$!==void 0?$:"");if(a.delegate&&et!==ValidationResult.VALID)throw new InvalidAddressError(a.delegate,invalidDetail(et));if(/kt1/i.test(a.source))throw new InvalidDelegationSource(a.source);const tt=yield this.signer.publicKeyHash(),rt=a.source||tt,nt=yield this.estimate(a,this.estimator.setDelegate.bind(this.estimator)),it=yield this.prepare.delegation(Object.assign(Object.assign({},a),nt)),ot=it.opOb.contents.find(St=>St.kind===OpKind.DELEGATION),st=yield this.forge(it),{hash:ct,context:ut,forgedBytes:ht,opResponse:Et}=yield this.signAndInject(st);return new DelegateOperation(ct,ot,rt,ht,Et,ut)})}registerDelegate(a){return __awaiter(this,void 0,void 0,function*(){const $=yield this.estimate(a,this.estimator.registerDelegate.bind(this.estimator)),j=yield this.signer.publicKeyHash(),et=yield this.prepare.registerDelegate(Object.assign(Object.assign({},a),$)),tt=et.opOb.contents.find(ct=>ct.kind===OpKind.DELEGATION),rt=yield this.forge(et),{hash:nt,context:it,forgedBytes:ot,opResponse:st}=yield this.signAndInject(rt);return new DelegateOperation(nt,tt,j,ot,st,it)})}transfer(a){var $;return __awaiter(this,void 0,void 0,function*(){const j=validateAddress(a.to);if(j!==ValidationResult.VALID)throw new InvalidAddressError(a.to,invalidDetail(j));const et=validateAddress(($=a.source)!==null&&$!==void 0?$:"");if(a.source&&et!==ValidationResult.VALID)throw new InvalidAddressError(a.source,invalidDetail(et));if(a.amount<0)throw new InvalidAmountError(a.amount.toString());const tt=yield this.signer.publicKeyHash(),rt=yield this.estimate(a,this.estimator.transfer.bind(this.estimator)),nt=a.source||tt,it=yield this.prepare.transaction(Object.assign(Object.assign({},a),rt)),ot=it.opOb.contents.find(St=>St.kind===OpKind.TRANSACTION),st=yield this.forge(it),{hash:ct,context:ut,forgedBytes:ht,opResponse:Et}=yield this.signAndInject(st);return new TransactionOperation(ct,ot,nt,ht,Et,ut)})}transferTicket(a){var $,j;return __awaiter(this,void 0,void 0,function*(){const et=validateAddress(a.destination);if(et!==ValidationResult.VALID)throw new InvalidAddressError(a.destination,invalidDetail(et));const tt=validateAddress(($=a.source)!==null&&$!==void 0?$:"");if(a.source&&tt!==ValidationResult.VALID)throw new InvalidAddressError(a.source,invalidDetail(tt));const rt=yield this.signer.publicKeyHash(),nt=(j=a.source)!==null&&j!==void 0?j:rt,it=yield this.estimate(a,this.estimator.transferTicket.bind(this.estimator)),ot=yield this.prepare.transferTicket(Object.assign(Object.assign({},a),it)),st=ot.opOb.contents.find(Mt=>Mt.kind===OpKind.TRANSFER_TICKET),ct=yield this.forge(ot),{hash:ut,context:ht,forgedBytes:Et,opResponse:St}=yield this.signAndInject(ct);return new TransferTicketOperation(ut,st,nt,Et,St,ht)})}reveal(a){return __awaiter(this,void 0,void 0,function*(){const $=yield this.signer.publicKeyHash(),j=yield this.estimator.reveal(a);if(j){const et=yield this.estimate(a,()=>__awaiter(this,void 0,void 0,function*(){return j})),tt=yield this.prepare.reveal(Object.assign(Object.assign({},a),et)),rt=tt.opOb.contents.find(ut=>ut.kind===OpKind.REVEAL),nt=yield this.forge(tt),{hash:it,context:ot,forgedBytes:st,opResponse:ct}=yield this.signAndInject(nt);return new RevealOperation(it,rt,$,st,ct,ot)}else throw new RevealOperationError(`The publicKeyHash '${$}' has already been revealed.`)})}registerGlobalConstant(a){return __awaiter(this,void 0,void 0,function*(){const $=yield this.signer.publicKeyHash(),j=yield this.estimate(a,this.estimator.registerGlobalConstant.bind(this.estimator)),et=yield this.prepare.registerGlobalConstant(Object.assign(Object.assign({},a),j)),tt=et.opOb.contents.find(ct=>ct.kind===OpKind.REGISTER_GLOBAL_CONSTANT),rt=yield this.forge(et),{hash:nt,context:it,forgedBytes:ot,opResponse:st}=yield this.signAndInject(rt);return new RegisterGlobalConstantOperation(nt,tt,$,ot,st,it)})}increasePaidStorage(a){return __awaiter(this,void 0,void 0,function*(){if(a.amount<0)throw new InvalidAmountError(a.amount.toString());const $=yield this.signer.publicKeyHash(),j=yield this.estimate(a,this.estimator.increasePaidStorage.bind(this.estimator)),et=yield this.prepare.increasePaidStorage(Object.assign(Object.assign({},a),j)),tt=et.opOb.contents.find(ct=>ct.kind===OpKind.INCREASE_PAID_STORAGE),rt=yield this.forge(et),{hash:nt,context:it,forgedBytes:ot,opResponse:st}=yield this.signAndInject(rt);return new IncreasePaidStorageOperation(nt,tt,$,ot,st,it)})}drainDelegate(a){return __awaiter(this,void 0,void 0,function*(){const $=yield this.prepare.drainDelegate(a),j=$.opOb.contents.find(ot=>ot.kind===OpKind.DRAIN_DELEGATE),et=yield this.forge($),{hash:tt,context:rt,forgedBytes:nt,opResponse:it}=yield this.signAndInject(et);return new DrainDelegateOperation(tt,j,nt,it,rt)})}ballot(a){var $,j;return __awaiter(this,void 0,void 0,function*(){const et=yield this.signer.publicKeyHash(),tt=validateAddress(($=a.source)!==null&&$!==void 0?$:"");if(a.source&&tt!==ValidationResult.VALID)throw new InvalidAddressError(a.source,invalidDetail(tt));const rt=(j=a.source)!==null&&j!==void 0?j:et,nt=yield this.prepare.ballot(Object.assign(Object.assign({},a),{source:rt})),it=nt.opOb.contents.find(Et=>Et.kind===OpKind.BALLOT),ot=yield this.forge(nt),{hash:st,context:ct,forgedBytes:ut,opResponse:ht}=yield this.signAndInject(ot);return new BallotOperation(st,it,et,ut,ht,ct)})}proposals(a){var $,j;return __awaiter(this,void 0,void 0,function*(){const et=yield this.signer.publicKeyHash(),tt=validateAddress(($=a.source)!==null&&$!==void 0?$:"");if(a.source&&tt!==ValidationResult.VALID)throw new InvalidAddressError(a.source,invalidDetail(tt));const rt=(j=a.source)!==null&&j!==void 0?j:et,nt=yield this.prepare.proposals(Object.assign(Object.assign({},a),{source:rt})),it=nt.opOb.contents.find(Et=>Et.kind===OpKind.PROPOSALS),ot=yield this.forge(nt),{hash:st,context:ct,forgedBytes:ut,opResponse:ht}=yield this.signAndInject(ot);return new ProposalsOperation(st,it,et,ut,ht,ct)})}updateConsensusKey(a){return __awaiter(this,void 0,void 0,function*(){const $=yield this.signer.publicKeyHash(),j=yield this.estimate(a,this.estimator.updateConsensusKey.bind(this.estimator)),et=yield this.prepare.updateConsensusKey(Object.assign(Object.assign({},a),j)),tt=et.opOb.contents.find(ct=>ct.kind===OpKind.UPDATE_CONSENSUS_KEY),rt=yield this.forge(et),{hash:nt,context:it,forgedBytes:ot,opResponse:st}=yield this.signAndInject(rt);return new UpdateConsensusKeyOperation(nt,tt,$,ot,st,it)})}smartRollupAddMessages(a){return __awaiter(this,void 0,void 0,function*(){const $=yield this.signer.publicKeyHash(),j=yield this.estimate(a,this.estimator.smartRollupAddMessages.bind(this.estimator)),et=yield this.prepare.smartRollupAddMessages(Object.assign(Object.assign({},a),j)),tt=et.opOb.contents.find(ct=>ct.kind===OpKind.SMART_ROLLUP_ADD_MESSAGES),rt=yield this.forge(et),{hash:nt,context:it,forgedBytes:ot,opResponse:st}=yield this.signAndInject(rt);return new SmartRollupAddMessagesOperation(nt,tt,$,ot,st,it)})}smartRollupOriginate(a){return __awaiter(this,void 0,void 0,function*(){const $=yield this.signer.publicKeyHash(),j=yield this.estimate(a,this.estimator.smartRollupOriginate.bind(this.estimator)),et=yield this.prepare.smartRollupOriginate(Object.assign(Object.assign({},a),j)),tt=et.opOb.contents.find(ct=>ct.kind===OpKind.SMART_ROLLUP_ORIGINATE),rt=yield this.forge(et),{hash:nt,context:it,forgedBytes:ot,opResponse:st}=yield this.signAndInject(rt);return new SmartRollupOriginateOperation(nt,tt,$,ot,st,it)})}smartRollupExecuteOutboxMessage(a){return __awaiter(this,void 0,void 0,function*(){const $=yield this.signer.publicKeyHash(),j=yield this.estimate(a,this.estimator.smartRollupExecuteOutboxMessage.bind(this.estimator)),et=yield this.prepare.smartRollupExecuteOutboxMessage(Object.assign(Object.assign({},a),j)),tt=et.opOb.contents.find(ct=>ct.kind===OpKind.SMART_ROLLUP_EXECUTE_OUTBOX_MESSAGE),rt=yield this.forge(et),{hash:nt,context:it,forgedBytes:ot,opResponse:st}=yield this.signAndInject(rt);return new SmartRollupExecuteOutboxMessageOperation(nt,tt,$,ot,st,it)})}failingNoop(a){return __awaiter(this,void 0,void 0,function*(){const $={kind:OpKind.FAILING_NOOP,arbitrary:a.arbitrary},j=yield this.context.readProvider.getBlockHash(a.basedOnBlock),et=yield this.context.forger.forge({branch:j,contents:[$]}),{prefixSig:tt}=yield this.signer.sign(et,new Uint8Array([3]));return{signature:tt,bytes:et,signedContent:{branch:j,contents:[{kind:OpKind.FAILING_NOOP,arbitrary:a.arbitrary}]}}})}at(a,$=j=>j){return __awaiter(this,void 0,void 0,function*(){const j=validateContractAddress(a);if(j!==ValidationResult.VALID)throw new InvalidContractAddressError(a,invalidDetail(j));const et=this.context.withExtensions().rpc,tt=this.context.withExtensions().readProvider,rt=yield tt.getScript(a,"head"),nt=yield tt.getEntrypoints(a),it=new ContractAbstraction(a,rt,this,this,nt,et,tt);return $(it,this.context)})}batch(a){const $=new OperationBatch(this.context,this.estimator);return Array.isArray(a)&&$.with(a),$}}class MichelCodecParser{constructor(a){this.context=a}getNextProto(){return __awaiter(this,void 0,void 0,function*(){if(!this.context.proto){const a=yield this.context.readProvider.getNextProtocol("head");this.context.proto=a}return this.context.proto})}parseScript(a){return __awaiter(this,void 0,void 0,function*(){return new Parser$1({protocol:yield this.getNextProto()}).parseScript(a)})}parseMichelineExpression(a){return __awaiter(this,void 0,void 0,function*(){return new Parser$1({protocol:yield this.getNextProto()}).parseMichelineExpression(a)})}parseJSON(a){return __awaiter(this,void 0,void 0,function*(){return new Parser$1({protocol:yield this.getNextProto()}).parseJSON(a)})}prepareCodeOrigination(a){return __awaiter(this,void 0,void 0,function*(){const $=a;if($.code=yield this.formatCodeParam(a.code),a.init)$.init=yield this.formatInitParam(a.init);else if(a.storage){const j=$.code.find(rt=>"prim"in rt&&rt.prim==="storage");if(!(j!=null&&j.args))throw new InvalidCodeParameter("The storage section is missing from the script",a.code);const et=new Schema(j.args[0]),tt=yield this.findGlobalConstantsHashAndValue(et);if(Object.keys(tt).length!==0){const nt=new Parser$1({expandGlobalConstant:tt}).parseJSON(j.args[0]),it=new Schema(nt);$.init=it.Encode(a.storage)}else $.init=et.Encode(a.storage);delete $.storage}return $})}formatCodeParam(a){return __awaiter(this,void 0,void 0,function*(){let $;if(typeof a=="string"){const j=yield this.parseScript(a);if(j===null)throw new InvalidCodeParameter("Unable to parse",a);$=j}else{const j=yield this.parseJSON(a),et=["parameter","storage","code"];$=j.sort((tt,rt)=>et.indexOf(tt.prim)-et.indexOf(rt.prim))}return $})}formatInitParam(a){return __awaiter(this,void 0,void 0,function*(){let $;if(typeof a=="string"){const j=yield this.parseMichelineExpression(a);if(j===null)throw new InvalidInitParameter("Invalid init parameter",a);$=j}else $=yield this.parseJSON(a);return $})}findGlobalConstantsHashAndValue(a){return __awaiter(this,void 0,void 0,function*(){const $=a.findToken("constant"),j={};if($.length!==0)for(const et of $){const tt=et.tokenVal.args;if(tt){const rt=tt[0];if(rt.string){const nt=rt.string,it=yield this.context.globalConstantsProvider.getGlobalConstantByHash(nt);Object.assign(j,{[nt]:it})}}}return j})}}class RpcPacker{constructor(a){this.context=a}packData(a){return __awaiter(this,void 0,void 0,function*(){return this.context.rpc.packData(a)})}}class UnconfiguredGlobalConstantsProviderError extends TezosToolkitConfigError{constructor(){super(),this.name="UnconfiguredGlobalConstantsProviderError",this.message="No global constants provider has been configured. Please configure one by calling setGlobalConstantsProvider({globalConstantsProvider}) on your TezosToolkit instance."}}class NoopGlobalConstantsProvider{getGlobalConstantByHash(a){return __awaiter(this,void 0,void 0,function*(){throw new UnconfiguredGlobalConstantsProviderError})}}class RpcReadAdapter{constructor(a){this.rpc=a}getBalance(a,$){return __awaiter(this,void 0,void 0,function*(){return this.rpc.getBalance(a,{block:String($)})})}getDelegate(a,$){return __awaiter(this,void 0,void 0,function*(){return this.rpc.getDelegate(a,{block:String($)})})}getNextProtocol(a){return __awaiter(this,void 0,void 0,function*(){return(yield this.rpc.getProtocols({block:String(a)})).next_protocol})}getProtocolConstants(a){return __awaiter(this,void 0,void 0,function*(){const{time_between_blocks:$,minimal_block_delay:j,hard_gas_limit_per_operation:et,hard_gas_limit_per_block:tt,hard_storage_limit_per_operation:rt,cost_per_byte:nt,smart_rollup_origination_size:it}=yield this.rpc.getConstants({block:String(a)});return{time_between_blocks:$,minimal_block_delay:j,hard_gas_limit_per_operation:et,hard_gas_limit_per_block:tt,hard_storage_limit_per_operation:rt,cost_per_byte:nt,smart_rollup_origination_size:it}})}getScript(a,$){return __awaiter(this,void 0,void 0,function*(){const{script:j}=yield this.rpc.getContract(a,{block:String($)});return j})}getStorage(a,$){return __awaiter(this,void 0,void 0,function*(){return this.rpc.getStorage(a,{block:String($)})})}getBlockHash(a){return __awaiter(this,void 0,void 0,function*(){const{hash:$}=yield this.rpc.getBlockHeader({block:String(a)});return $})}getBlockLevel(a){return __awaiter(this,void 0,void 0,function*(){const{level:$}=yield this.rpc.getBlockHeader({block:String(a)});return $})}getCounter(a,$){return __awaiter(this,void 0,void 0,function*(){const{counter:j}=yield this.rpc.getContract(a,{block:String($)});return j||"0"})}getBlockTimestamp(a){return __awaiter(this,void 0,void 0,function*(){const{timestamp:$}=yield this.rpc.getBlockHeader({block:String(a)});return $})}getBigMapValue(a,$){return __awaiter(this,void 0,void 0,function*(){return this.rpc.getBigMapExpr(a.id,a.expr,{block:String($)})})}getSaplingDiffById(a,$){return __awaiter(this,void 0,void 0,function*(){return this.rpc.getSaplingDiffById(a.id,{block:String($)})})}getSaplingDiffByContract(a,$){return __awaiter(this,void 0,void 0,function*(){return this.rpc.getSaplingDiffByContract(a,{block:String($)})})}getEntrypoints(a){return __awaiter(this,void 0,void 0,function*(){return this.rpc.getEntrypoints(a)})}getChainId(){return __awaiter(this,void 0,void 0,function*(){return this.rpc.getChainId()})}isAccountRevealed(a,$){return __awaiter(this,void 0,void 0,function*(){const j=yield this.rpc.getManagerKey(a,{block:String($)});return j&&typeof j=="object"?!!j.key:!!j})}getBlock(a){return __awaiter(this,void 0,void 0,function*(){return this.rpc.getBlock({block:String(a)})})}getLiveBlocks(a){return this.rpc.getLiveBlocks({block:String(a)})}}class UnsupportedEventError extends ParameterValidationError{constructor(a){super(),this.type=a,this.name="UnsupportedEventError",this.message=`Unsupported event type "${a}" expecting one of the "data", "error", or "close".`}}class InvalidFilterExpressionError extends ParameterValidationError{constructor(a){super(),this.invalidExpression=a,this.name="InvalidFilterExpressionError",this.message="Invalid filter expression expecting the object to contain either and/or property"}}const opHashFilter=(_,a)=>_.hash===a.opHash,sourceFilter=(_,a)=>{switch(_.kind){case"attestation":return"metadata"in _&&_.metadata.delegate===a.source;case"endorsement":return"metadata"in _&&_.metadata.delegate===a.source;case"activate_account":return"metadata"in _&&_.pkh===a.source;default:return"source"in _&&_.source===a.source}},kindFilter=(_,a)=>"kind"in _&&_.kind===a.kind,destinationFilter=(_,a)=>{switch(_.kind){case"delegation":return _.delegate===a.destination;case"origination":if("metadata"in _&&"operation_result"in _.metadata&&"originated_contracts"in _.metadata.operation_result&&Array.isArray(_.metadata.operation_result.originated_contracts))return _.metadata.operation_result.originated_contracts.some($=>$===a.destination);break;case"transaction":return _.destination===a.destination;default:return!1}},eventFilter=(_,a,$,j)=>!(_.kind!=="event"||$&&_.tag!==$||a&&_.source!==a||j&&_.result.status!=="applied"),evaluateOpFilter=(_,a)=>"opHash"in a?opHashFilter(_,a):"source"in a?sourceFilter(_,a):"kind"in a?kindFilter(_,a):"destination"in a?destinationFilter(_,a):!1,evaluateExpression=(_,a)=>{if(Array.isArray(a.and))return a.and.every($=>evaluateFilter(_,$));if(Array.isArray(a.or))return a.or.some($=>evaluateFilter(_,$));throw new InvalidFilterExpressionError(a)},evaluateFilter=(_,a)=>{const $=[];return Array.isArray(a)?$.push(...a):$.push(a),$.every(j=>"and"in j||"or"in j?evaluateExpression(_,j):evaluateOpFilter(_,j))};class ObservableSubscription{constructor(a,$=!1,j=retry()){this.shouldRetry=$,this.operatorFunction=j,this.errorListeners=[],this.messageListeners=[],this.closeListeners=[],this.completed$=new Subject,a.pipe(takeUntil(this.completed$),tap(et=>{this.call(this.messageListeners,et)},et=>{this.call(this.errorListeners,et)},()=>{this.call(this.closeListeners)}),this.shouldRetry?j:tap(),catchError(()=>NEVER)).subscribe()}call(a,$){for(const j of a)try{j($)}catch(et){console.error(et)}}remove(a,$){const j=a.indexOf($);j!==-1&&a.splice(j,1)}on(a,$){switch(a){case"data":this.messageListeners.push($);break;case"error":this.errorListeners.push($);break;case"close":this.closeListeners.push($);break;default:throw new UnsupportedEventError(a)}}off(a,$){switch(a){case"data":this.remove(this.messageListeners,$);break;case"error":this.remove(this.errorListeners,$);break;case"close":this.remove(this.closeListeners,$);break;default:throw new UnsupportedEventError(a)}}close(){this.completed$.next()}}const defaultConfigStreamer={shouldObservableSubscriptionRetry:!1,observableSubscriptionRetryFunction:retry()},getLastBlock=_=>from(_.rpc.getBlock()).pipe(first()),applyFilter=_=>concatMap(a=>new Observable($=>{for(const j of a.operations)for(const et of j)for(const tt of et.contents)evaluateFilter(Object.assign({hash:et.hash},tt),_)&&$.next(Object.assign({hash:et.hash},tt));$.complete()})),applyEventFilter=_=>concatMap(a=>new Observable($=>{for(const j of a.operations)for(const et of j)for(const tt of et.contents){const nt=tt.metadata.internal_operation_results;if(nt)for(const it of nt)eventFilter(it,_==null?void 0:_.address,_==null?void 0:_.tag,_==null?void 0:_.excludeFailedOperations)&&$.next(Object.assign({opHash:et.hash,blockHash:a.hash,level:a.header.level},it))}$.complete()}));class PollingSubscribeProvider{constructor(a,$={}){this.context=a,this._config$=new BehaviorSubject(Object.assign(Object.assign({},defaultConfigStreamer),$)),this.timer$=this._config$.pipe(pluck("pollingIntervalMilliseconds"),switchMap(j=>j?timer(0,j):from(this.getConfirmationPollingInterval()).pipe(switchMap(et=>timer(0,et))))),this.newBlock$=this.timer$.pipe(switchMap(()=>getLastBlock(this.context)),distinctUntilKeyChanged("hash"),publish(),refCount())}get config(){return this._config$.getValue()}getConfirmationPollingInterval(){return __awaiter(this,void 0,void 0,function*(){if(!this.config.pollingIntervalMilliseconds)try{const j=yield this.context.readProvider.getProtocolConstants("head"),tt=(j.minimal_block_delay?j.minimal_block_delay.multipliedBy(1e3):j.time_between_blocks?j.time_between_blocks[0].multipliedBy(1e3):new BigNumber(5e3)).dividedBy(3);this.config.pollingIntervalMilliseconds=tt.toNumber()===0?1e3:tt.toNumber()}catch{return 5e3}return this.config.pollingIntervalMilliseconds})}subscribeBlock(a){return new ObservableSubscription(this.newBlock$,this.config.shouldObservableSubscriptionRetry,this.config.observableSubscriptionRetryFunction)}subscribe(a){return new ObservableSubscription(this.newBlock$.pipe(pluck("hash")),this.config.shouldObservableSubscriptionRetry,this.config.observableSubscriptionRetryFunction)}subscribeOperation(a){return new ObservableSubscription(this.newBlock$.pipe(applyFilter(a)),this.config.shouldObservableSubscriptionRetry,this.config.observableSubscriptionRetryFunction)}subscribeEvent(a){return new ObservableSubscription(this.newBlock$.pipe(applyEventFilter(a)),this.config.shouldObservableSubscriptionRetry,this.config.observableSubscriptionRetryFunction)}}class TaquitoLocalForger{constructor(a){this.context=a}getNextProto(){return __awaiter(this,void 0,void 0,function*(){if(!this.context.proto){const a=yield this.context.readProvider.getNextProtocol("head");this.context.proto=a}return this.context.proto})}forge({branch:a,contents:$}){return __awaiter(this,void 0,void 0,function*(){return new LocalForger(yield this.getNextProto()).forge({branch:a,contents:$})})}}const defaultConfigConfirmation={defaultConfirmationCount:1,confirmationPollingTimeoutSecond:180};class Context{constructor(a,$=new NoopSigner,j,et=new BehaviorSubject(Object.assign({},defaultConfigConfirmation)),tt,rt,nt,it,ot,st,ct,ut){this._rpc=a,this._signer=$,this._proto=j,this._config=et,this.providerDecorator=[],this.tz=new RpcTzProvider(this),this.estimate=new RPCEstimateProvider(this),this.contract=new RpcContractProvider(this,this.estimate),this.prepare=new PrepareProvider(this),this.batch=new RPCBatchProvider(this,this.estimate),this.wallet=new Wallet(this),this.withExtensions=()=>{let ht=this.clone();return this.providerDecorator.forEach(Et=>{ht=Et(ht)}),ht},typeof this._rpc=="string"?this._rpcClient=new RpcClient(this._rpc):this._rpcClient=this._rpc,this._forger=tt||new TaquitoLocalForger(this),this._injector=rt||new RpcInjector(this),this.operationFactory=new OperationFactory(this),this._walletProvider=it||new LegacyWalletProvider(this),this._parser=ot||new MichelCodecParser(this),this._packer=nt||new RpcPacker(this),this._globalConstantsProvider=st||new NoopGlobalConstantsProvider,this._readProvider=ct||new RpcReadAdapter(this._rpcClient),this._stream=ut||new PollingSubscribeProvider(this)}get config(){return this._config.getValue()}set config(a){this._config.next(Object.assign({},a))}setPartialConfig(a){this._config.next(Object.assign(Object.assign({},this._config.getValue()),a))}get rpc(){return this._rpcClient}set rpc(a){this._rpcClient=a}get injector(){return this._injector}set injector(a){this._injector=a}get forger(){return this._forger}set forger(a){this._forger=a}get signer(){return this._signer}set signer(a){this._signer=a}get walletProvider(){return this._walletProvider}set walletProvider(a){this._walletProvider=a}set proto(a){this._proto=a}get proto(){return this._proto}get parser(){return this._parser}set parser(a){this._parser=a}get packer(){return this._packer}set packer(a){this._packer=a}get globalConstantsProvider(){return this._globalConstantsProvider}set globalConstantsProvider(a){this._globalConstantsProvider=a}get readProvider(){return this._readProvider}set readProvider(a){this._readProvider=a}get stream(){return this._stream}set stream(a){this._stream=a}isAnyProtocolActive(a=[]){return __awaiter(this,void 0,void 0,function*(){if(this._proto)return a.includes(this._proto);{const $=yield this.readProvider.getNextProtocol("head");return a.includes($)}})}isAnySignerConfigured(){return!(this.signer instanceof NoopSigner)}clone(){return new Context(this.rpc,this.signer,this.proto,this._config,this.forger,this._injector,this.packer,this._walletProvider,this._parser,this._globalConstantsProvider,this._readProvider,this._stream)}registerProviderDecorator(a){this.providerDecorator.push(a)}}const VERSION={commitHash:"2e05f6f865be17a1b367b284542b24ffa9823271",version:"19.2.1"};class TezosToolkit{constructor(a){this._rpc=a,this._options={},this.format=format$1,typeof this._rpc=="string"?this._rpcClient=new RpcClient(this._rpc):this._rpcClient=this._rpc,this._context=new Context(a),this._wallet=new Wallet(this._context),this.setProvider({rpc:this._rpcClient}),this.batch=this._context.batch.batch.bind(this._context.batch)}setProvider({rpc:a,stream:$,signer:j,protocol:et,config:tt,forger:rt,wallet:nt,packer:it,globalConstantsProvider:ot,readProvider:st,parserProvider:ct,injectorProvider:ut}){this.setRpcProvider(a),this.setStreamProvider($),this.setSignerProvider(j),this.setForgerProvider(rt),this.setWalletProvider(nt),this.setPackerProvider(it),this.setGlobalConstantsProvider(ot),this.setReadProvider(st),this.setParserProvider(ct),this.setInjectorProvider(ut),this._context.proto=et,tt&&this._context.setPartialConfig(tt)}setSignerProvider(a){!this._options.signer&&typeof a>"u"?(this._context.signer=new NoopSigner,this._options.signer=a):typeof a<"u"&&(this._context.signer=a,this._options.signer=a)}setRpcProvider(a){typeof a=="string"?this._rpcClient=new RpcClient(a):a===void 0||(this._rpcClient=a),this._options.rpc=this._rpcClient,this._context.rpc=this._rpcClient}setForgerProvider(a){if(typeof a<"u")this._options.forger=a,this._context.forger=a;else if(this._options.forger===void 0){const $=this.getFactory(TaquitoLocalForger)();this._options.forger=$,this._context.forger=$}}setStreamProvider(a){if(typeof a=="string"){const $=new PollingSubscribeProvider(new Context(new RpcClient(a)));this._options.stream=$,this._context.stream=$}else if(typeof a<"u")this._options.stream=a,this._context.stream=a;else if(this._options.stream===void 0){const $=this.getFactory(PollingSubscribeProvider)();this._options.stream=$,this._context.stream=$}}setWalletProvider(a){if(!this._options.wallet&&typeof a>"u"){const $=this.getFactory(LegacyWalletProvider)();this._options.wallet=$,this._context.walletProvider=$}else typeof a<"u"&&(this._options.wallet=a,this._context.walletProvider=a)}setPackerProvider(a){if(!this._options.packer&&typeof a>"u"){const $=this.getFactory(RpcPacker)();this._context.packer=$,this._options.packer=$}else typeof a<"u"&&(this._context.packer=a,this._options.packer=a)}setGlobalConstantsProvider(a){if(!this._options.globalConstantsProvider&&typeof a>"u"){const $=new NoopGlobalConstantsProvider;this._context.globalConstantsProvider=$,this._options.globalConstantsProvider=$}else typeof a<"u"&&(this._context.globalConstantsProvider=a,this._options.globalConstantsProvider=a)}setReadProvider(a){const $=a||new RpcReadAdapter(this._context.rpc);this._options.readProvider=$,this._context.readProvider=$}setParserProvider(a){if(!this._options.parserProvider&&typeof a>"u"){const $=new MichelCodecParser(this._context);this._context.parser=$,this._options.parserProvider=$}else typeof a<"u"&&(this._context.parser=a,this._options.parserProvider=a)}setInjectorProvider(a){if(!this._options.injectorProvider&&typeof a>"u"){const $=new RpcInjector(this._context);this._context.injector=$,this._options.injectorProvider=$}else typeof a<"u"&&(this._context.injector=a,this._options.injectorProvider=a)}get tz(){return this._context.tz}get contract(){return this._context.contract}get prepare(){return this._context.prepare}get wallet(){return this._wallet}get operation(){return this._context.operationFactory}get estimate(){return this._context.estimate}get stream(){return this._context.stream}get rpc(){return this._context.rpc}get signer(){return this._context.signer}get globalConstants(){return this._context.globalConstantsProvider}addExtension(a){Array.isArray(a)?a.forEach($=>$.configureContext(this._context)):a.configureContext(this._context)}getFactory(a){return(...$)=>new a(this._context,...$)}getVersionInfo(){return VERSION}}class FakeSigner{constructor(a,$){this.pk=a,this.pkh=$}async publicKey(){return Promise.resolve(this.pk)}async publicKeyHash(){return Promise.resolve(this.pkh)}async sign(){return Promise.reject(new Error("`sign` method not available"))}async secretKey(){return Promise.reject(new Error("empty secret key"))}}const LAMBDA_HEADER=[{prim:"DROP"},{prim:"NIL",args:[{prim:"operation"}]}],makeMultisigApproveOrExecuteOperation=(_,a,$)=>makeContractCallOperation(_,a,{int:$}),makeMultisigProposeOperation=(_,a)=>{const $=toBatchLambda(a);return makeContractCallOperation(_,"propose",$)},makeContractCallOperation=(_,a,$,j="0")=>({type:"contract_call",contract:_,entrypoint:a,args:$,amount:j}),headlessLambda=_=>lodashExports.isEqual(_.slice(0,2),LAMBDA_HEADER)?_.slice(2):_,toLambda=_=>{switch(_.type){case"tez":switch(_.recipient.type){case"implicit":return MANAGER_LAMBDA.transferImplicit(_.recipient.pkh,Number(_.amount));case"contract":return MANAGER_LAMBDA.transferToContract(_.recipient.pkh,Number(_.amount))}case"fa1.2":return contractLambda(_,FA12_TRANSFER_ARG_TYPES,makeFA12TransactionParameter(_));case"fa2":return contractLambda(_,FA2_TRANSFER_ARG_TYPES,makeFA2TransactionParameter(_));case"delegation":return MANAGER_LAMBDA.setDelegate(_.recipient.pkh);case"undelegation":return MANAGER_LAMBDA.removeDelegate();case"contract_origination":case"contract_call":throw new Error(`${_.type} is not supported yet`)}},toBatchLambda=_=>{const a=_.map($=>toLambda($)).flatMap(headlessLambda);return[...LAMBDA_HEADER,...a]},FA2_TRANSFER_ARG_TYPES={args:[{args:[{annots:["%from_"],prim:"address"},{annots:["%txs"],args:[{args:[{annots:["%to_"],prim:"address"},{args:[{annots:["%token_id"],prim:"nat"},{annots:["%amount"],prim:"nat"}],prim:"pair"}],prim:"pair"}],prim:"list"}],prim:"pair"}],prim:"list"},FA12_TRANSFER_ARG_TYPES={args:[{annots:[":from"],prim:"address"},{args:[{annots:[":to"],prim:"address"},{annots:[":value"],prim:"nat"}],prim:"pair"}],prim:"pair"},contractLambda=(_,a,$)=>[...LAMBDA_HEADER,{prim:"PUSH",args:[{prim:"address"},{string:_.contract.pkh+"%"+$.entrypoint}]},{prim:"CONTRACT",args:[a]},[{prim:"IF_NONE",args:[[{prim:"UNIT"},{prim:"FAILWITH"}],[]]}],{prim:"PUSH",args:[{prim:"mutez"},{int:"0"}]},{prim:"PUSH",args:[a,$.value]},{prim:"TRANSFER_TOKENS"},{prim:"CONS"}],makeFA12TransactionParameter=({sender:_,recipient:a,amount:$})=>({entrypoint:"transfer",value:{prim:"Pair",args:[{string:_.pkh},{prim:"Pair",args:[{string:a.pkh},{int:$}]}]}}),makeFA2TransactionParameter=({sender:_,recipient:a,tokenId:$,amount:j})=>({entrypoint:"transfer",value:[{prim:"Pair",args:[{string:_.pkh},[{prim:"Pair",args:[{string:a.pkh},{prim:"Pair",args:[{int:$},{int:j}]}]}]]}]}),addressExists=async(_,a)=>{try{const $=`${a.tzktApiUrl}/v1/accounts/${_}`,{data:{type:j}}=await axios.get($);return j!=="empty"}catch($){throw new Error(`Error fetching account from tzkt ${$.message}`)}},getFingerPrint=async _=>{const a=new TextEncoder().encode(_),$=await crypto.subtle.digest("SHA-256",a);return Array.from(new Uint8Array($)).map(tt=>tt.toString(16).padStart(2,"0")).join("").slice(0,8)},curvesToDerivationPath=_=>{switch(_){case"ed25519":return DerivationType.ED25519;case"secp256k1":return DerivationType.SECP256K1;case"p256":return DerivationType.P256;case"bip25519":throw new Error("bip25519 is not supported in Tezos")}},makeSigner=async _=>{switch(_.type){case"social":case"mnemonic":case"secret_key":return new InMemorySigner(_.secretKey);case"ledger":{const a=await TransportWebUSB.list();for(let et=0;et<a.length;et++)a[et].close();const $=await TransportWebUSB.create();return new LedgerSigner($,_.account.derivationPath,!1,curvesToDerivationPath(_.account.curve))}case"fake":return new FakeSigner(_.signer.pk,_.signer.address.pkh)}},makeToolkit=async _=>{const a=new TezosToolkit(_.network.rpcUrl),$=await makeSigner(_);return a.setSignerProvider($),a},getPublicKeyPairFromSk=async _=>{const a=new InMemorySigner(_);return{pk:await a.publicKey(),pkh:await a.publicKeyHash()}},derivePublicKeyPair=async(_,a,$="ed25519")=>deriveSecretKey(_,a,$).then(getPublicKeyPairFromSk),deriveSecretKey=(_,a,$)=>InMemorySigner.fromMnemonic({mnemonic:_,derivationPath:a,curve:$}).secretKey(),selectRandomElements=(_,a)=>lodashExports.shuffle(_.map(($,j)=>({value:$,index:j}))).slice(0,a).sort(($,j)=>$.index-j.index),operationToTaquitoOperation=_=>{switch(_.type){case"tez":return{kind:OpKind.TRANSACTION,to:_.recipient.pkh,amount:parseInt(_.amount),mutez:!0};case"contract_call":return{kind:OpKind.TRANSACTION,to:_.contract.pkh,amount:parseInt(_.amount),mutez:!0,parameter:{entrypoint:_.entrypoint,value:_.args}};case"delegation":return{kind:OpKind.DELEGATION,source:_.sender.pkh,delegate:_.recipient.pkh};case"undelegation":return{kind:OpKind.DELEGATION,source:_.sender.pkh,delegate:void 0};case"fa1.2":return{kind:OpKind.TRANSACTION,amount:0,to:_.contract.pkh,parameter:makeFA12TransactionParameter(_)};case"fa2":return{kind:OpKind.TRANSACTION,amount:0,to:_.contract.pkh,parameter:makeFA2TransactionParameter(_)};case"contract_origination":return isValidMichelson(_.storage)?{kind:OpKind.ORIGINATION,code:_.code,init:_.storage}:{kind:OpKind.ORIGINATION,code:_.code,storage:_.storage}}},isValidMichelson=_=>{try{return new Parser$1().parseJSON(_),!0}catch{return!1}},operationsToBatchParams=({type:_,operations:a,sender:$})=>(_==="implicit"?a:[makeMultisigProposeOperation($.address,a)]).map(operationToTaquitoOperation),operationsToWalletParams=_=>lodashExports.zipWith(operationsToBatchParams(_),_.estimates,(a,$)=>({...a,...$})),estimate=async(_,a)=>{const $=await makeToolkit({type:"fake",signer:_.signer,network:a});try{const j=await $.estimate.batch(operationsToBatchParams(_));return{..._,estimates:j.map(et=>({storageLimit:et.storageLimit,gasLimit:et.gasLimit,fee:Math.max(et.suggestedFeeMutez,et.totalCost)}))}}catch(j){throw await addressExists(_.signer.address.pkh,a)?(j instanceof Error&&(j.message=handleTezError(j)),j):new Error(`Signer address is not revealed on the ${a.name}.`)}},handleTezError=_=>_.message.includes("subtraction_underflow")?"Insufficient balance, please make sure you have enough funds.":_.message.includes("contract.non_existing_contract")?"Contract does not exist, please check if the correct network is selected.":_.message,getAccounts=async(_,a)=>withRateLimit(()=>accountsGet({address:{in:[_.join(",")]},select:{fields:["address,balance,delegationLevel"]}},{baseUrl:a.tzktApiUrl})),getTokenBalances=async(_,a)=>withRateLimit(()=>tokensGetTokenBalances({account:{in:[_.join(",")]},balance:{gt:"0"},limit:1e4},{baseUrl:a.tzktApiUrl})),getDelegations=async(_,a,$)=>withRateLimit(()=>operationsGetDelegations({sender:{in:[_.join(",")]},...$},{baseUrl:a.tzktApiUrl})),getTransactions=async(_,a,$)=>withRateLimit(()=>operationsGetTransactions({anyof:{fields:["sender","target","initiator"],in:[_.join(",")]},...$},{baseUrl:a.tzktApiUrl})),getOriginations=async(_,a,$)=>withRateLimit(()=>operationsGetOriginations({sender:{in:[_.join(",")]},...$},{baseUrl:a.tzktApiUrl})),getCombinedOperations=async(_,a,$)=>{const j=($==null?void 0:$.limit)||100,et=($==null?void 0:$.sort)??"desc",tt={limit:j,offset:$!=null&&$.lastId?{cr:$.lastId}:void 0,sort:{[et]:"id"}},rt=await Promise.all([getTransactions(_,a,tt),getDelegations(_,a,tt),getOriginations(_,a,tt),getTokenTransfers(_,a,tt)]);return lodashExports.sortBy(rt.flat(),nt=>et==="asc"?nt.id:-nt.id).slice(0,j)},getRelatedTokenTransfers=async(_,a)=>_.length===0?[]:withRateLimit(()=>tokensGetTokenTransfers({transactionId:{in:[_.join(",")]}},{baseUrl:a.tzktApiUrl})),getTokenTransfers=async(_,a,$)=>withRateLimit(async()=>(await tokensGetTokenTransfers({anyof:{fields:["from","to"],in:[_.join(",")]},...$},{baseUrl:a.tzktApiUrl})).map(et=>({...et,type:"token_transfer"}))),getLastDelegation=(_,a)=>getDelegations([_],a,{limit:1,sort:{desc:"id"}}).then(lodashExports.first),getTezosPriceInUSD=()=>withRateLimit(()=>quotesGetLast().then(_=>_.usd)),getLatestBlockLevel=async _=>withRateLimit(async()=>await blocksGetCount({baseUrl:_.tzktApiUrl})),getBakers=async _=>withRateLimit(()=>delegatesGet({sort:{desc:"stakingBalance"},active:{eq:!0},limit:1e4,select:{fields:["address,alias,stakingBalance"]}},{baseUrl:_.tzktApiUrl}).then(a=>a.map($=>({name:$.alias||"Unknown baker",address:$.address,stakingBalance:$.stakingBalance})))),executeOperations=async(_,a)=>{const $=operationsToWalletParams(_);return a.wallet.batch($).send()},TEZ="ꜩ",TEZ_DECIMALS=6,truncate=(_,a)=>_.length>a?_.slice(0,a-3)+"...":_,tezToMutez=_=>format$1("tz","mutez",_),mutezToTez=_=>format$1("mutez","tz",_),formatTezAmount=_=>{const a=BigNumber(mutezToTez(_)).toNumber();return new Intl.NumberFormat("en-US",{minimumFractionDigits:TEZ_DECIMALS,maximumFractionDigits:TEZ_DECIMALS}).format(a)},prettyTezAmount=_=>`${formatTezAmount(_)} ${TEZ}`,formatPkh=_=>`${_.slice(0,5)}...${_.slice(-5)}`,useBlockLevel=()=>useAppSelector(_=>_.assets.blockLevel),useIsBlockFinalised=_=>{const a=useBlockLevel();return a!==null?a-_>=2:null},useAllNfts=()=>{const _=useGetAccountNFTs(),a=useAppSelector(j=>j.assets.balances.tokens),$=Object.keys(a);return lodashExports.fromPairs($.map(j=>[j,_(j)]))},useGetAccountAssets=()=>{const _=useGetToken(),a=useAppSelector($=>$.assets.balances.tokens);return $=>{const j=a[$]||[];return lodashExports.compact(j.map(({contract:et,tokenId:tt,...rt})=>{const nt=_(et,tt);return nt&&{...nt,...rt}}))}},useGetAccountFA2Tokens=()=>{const _=useGetAccountAssets();return a=>keepFA2s(_(a))},useGetAccountFA1Tokens=()=>{const _=useGetAccountAssets();return a=>keepFA1s(_(a))},useGetAccountAllTokens=()=>{const _=useGetAccountFA1Tokens(),a=useGetAccountFA2Tokens();return $=>[..._($),...a($)]},useGetAccountNFTs=()=>{const _=useGetAccountAssets();return a=>keepNFTs(_(a))},useGetTokenTransfer=()=>{const _=useAppSelector(a=>a.assets.transfers.tokens);return a=>{const $=_[a];return $&&{...$,type:"token_transfer"}}},useConversionRate=()=>useAppSelector(_=>_.assets.conversionRate),useTezToDollar=()=>{const _=useConversionRate();return _?a=>BigNumber(a).multipliedBy(_).decimalPlaces(2,BigNumber.ROUND_UP):()=>{}},useGetDollarBalance=()=>{const _=useTezToDollar(),a=useGetAccountBalance();return $=>{const j=a($);return j===void 0?void 0:_(mutezToTez(j).toFixed())}},useTotalBalance=()=>{const _=useAppSelector(tt=>tt.assets.balances.mutez),a=useTezToDollar(),$=Object.values(_);if($.length===0)return null;const j=$.reduce((tt,rt)=>tt.plus(rt),BigNumber(0)),et=a(mutezToTez(j).toFixed());return{mutez:j.toFixed(),usd:et}},useGetAccountBalance=()=>{const _=useAppSelector(a=>a.assets.balances.mutez);return a=>_[a]},useBakerList=()=>useAppSelector(_=>_.assets.bakers),useGetBaker=()=>{const _=useBakerList();return a=>_.find($=>$.address===a)},useRefetchTrigger=()=>useAppSelector(_=>_.assets.refetchTrigger),useIsLoading=()=>useAppSelector(_=>_.assets.isLoading),useLastTimeUpdated=()=>useAppSelector(_=>_.assets.lastTimeUpdated),useMultisigAccounts=()=>useAppSelector(_=>_.multisigs.items),useGetPendingMultisigOperations=()=>{const _=useAppSelector(a=>a.multisigs.pendingOperations);return a=>[..._[a.pendingOperationsBigmapId]??[]].sort((j,et)=>Number(et.id)-Number(j.id))},useSeedPhrases=()=>useAppSelector(_=>_.accounts.seedPhrases),useSecretKeys=()=>useAppSelector(_=>_.accounts.secretKeys),useImplicitAccounts=()=>useAppSelector(_=>_.accounts.items),useGetImplicitAccountSafe=()=>{const _=useImplicitAccounts();return a=>_.find($=>$.address.pkh===a)},useGetImplicitAccount=()=>{const _=useGetImplicitAccountSafe();return a=>{const $=_(a);if(!$)throw new Error(`Unknown account: ${a}`);return $}},useGetAccountsByType=()=>{const _=useImplicitAccounts();return a=>_.filter($=>$.type===a)},useGetAccountsByFingerPrint=()=>{const _=useGetAccountsByType();return a=>_("mnemonic").filter($=>$.seedFingerPrint===a)},useAllAccounts=()=>{const _=useImplicitAccounts(),a=useMultisigAccounts();return[..._,...a]},useGetOwnedAccountSafe=()=>{const _=useAllAccounts();return a=>_.find($=>$.address.pkh===a)},useGetOwnedAccount=()=>{const _=useGetOwnedAccountSafe();return a=>{const $=_(a);if(!$)throw new Error(`Unknown account: ${a}`);return $}},useValidateMasterPassword=()=>{const _=useSeedPhrases(),a=useSecretKeys(),$=Object.values({...a,..._})[0];return $?async j=>{await decrypt$1($,j)}:null},useIsOwnedAddress=()=>{const _=useAllAccounts(),a=new Set(_.map($=>$.address.pkh));return $=>!!$&&a.has($)},useGetMultisigSigners=()=>{const _=useImplicitAccounts();return a=>{const $=_.filter(j=>a.signers.some(et=>et.pkh===j.address.pkh));return $.length===0&&console.warn("Wallet doesn't own any signers for multisig contract "+a.address.pkh),$}},useGetOwnedSignersForAccount=()=>{const _=useGetMultisigSigners();return a=>{switch(a.type){case"ledger":case"mnemonic":case"social":case"secret_key":return[a];case"multisig":return _(a)}}},useGetBestSignerForAccount=()=>{const _=useGetOwnedSignersForAccount(),a=useGetMostFundedImplicitAccount();return $=>a(_($))},useGetMostFundedImplicitAccount=()=>{const _=useGetAccountBalance();return a=>lodashExports.maxBy(a,$=>Number(_($.address.pkh)||"0"))},useGetSecretKey=()=>{const _=useSeedPhrases(),a=useSecretKeys();return async($,j)=>{if($.type==="secret_key"){const et=a[$.address.pkh];if(!et)throw new Error(`Missing secret key for account ${$.address.pkh}`);return decrypt$1(et,j)}else{const et=_[$.seedFingerPrint];if(!et)throw new Error(`Missing seedphrase for account ${$.address.pkh}`);const tt=await decrypt$1(et,j);return deriveSecretKey(tt,$.derivationPath,$.curve)}}},useAllContacts=()=>useAppSelector(_=>_.contacts),useContactsForSelectedNetwork=()=>{const _=useSelectedNetwork(),a=useAllContacts();return Object.values(a).filter($=>isValidImplicitPkh($.pkh)||$.network===_.name).map($=>$)},useSortedContacts=()=>useContactsForSelectedNetwork().sort((a,$)=>a.name.localeCompare($.name)).map(a=>a),useAddressExistsInContacts=()=>{const _=useAllContacts();return a=>a in _},useGetContactName=()=>{const _=useAllContacts();return a=>a in _?_[a].name:void 0},useValidateNewContactPkh=()=>{const _=useAddressExistsInContacts(),a=useGetOwnedAccountSafe();return $=>isAddressValid($)?a($)?"Address is already used in accounts":!_($)||"Address is already registered":"Invalid address"},useValidateName=_=>{const a=useIsUniqueLabel();return $=>{const j=$.trim();return j.length===0?"Name should not be empty":_!==void 0&&j===_?"Name was not changed":a(j)?!0:"Name must be unique across all accounts and contacts"}},useGetNextAvailableAccountLabels=()=>{const _=useIsUniqueLabel();return(a,$=1)=>{const j=[];for(let et=1;j.length<$;et++){const tt=et===1?a:`${a} ${et}`;_(tt)&&j.push(tt)}return j}},useIsUniqueLabel=()=>{const _=useAllAccounts().map($=>$.label),a=Object.values(useAllContacts()).map($=>$.name);return $=>![..._,...a].includes($)};var Subscribable=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(_){return this.listeners.add(_),this.onSubscribe(),()=>{this.listeners.delete(_),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},isServer=typeof window>"u"||"Deno"in globalThis;function noop$2(){}function functionalUpdate(_,a){return typeof _=="function"?_(a):_}function isValidTimeout(_){return typeof _=="number"&&_>=0&&_!==1/0}function timeUntilStale(_,a){return Math.max(_+(a||0)-Date.now(),0)}function resolveStaleTime(_,a){return typeof _=="function"?_(a):_}function matchQuery(_,a){const{type:$="all",exact:j,fetchStatus:et,predicate:tt,queryKey:rt,stale:nt}=_;if(rt){if(j){if(a.queryHash!==hashQueryKeyByOptions(rt,a.options))return!1}else if(!partialMatchKey(a.queryKey,rt))return!1}if($!=="all"){const it=a.isActive();if($==="active"&&!it||$==="inactive"&&it)return!1}return!(typeof nt=="boolean"&&a.isStale()!==nt||et&&et!==a.state.fetchStatus||tt&&!tt(a))}function matchMutation(_,a){const{exact:$,status:j,predicate:et,mutationKey:tt}=_;if(tt){if(!a.options.mutationKey)return!1;if($){if(hashKey(a.options.mutationKey)!==hashKey(tt))return!1}else if(!partialMatchKey(a.options.mutationKey,tt))return!1}return!(j&&a.state.status!==j||et&&!et(a))}function hashQueryKeyByOptions(_,a){return((a==null?void 0:a.queryKeyHashFn)||hashKey)(_)}function hashKey(_){return JSON.stringify(_,(a,$)=>isPlainObject($)?Object.keys($).sort().reduce((j,et)=>(j[et]=$[et],j),{}):$)}function partialMatchKey(_,a){return _===a?!0:typeof _!=typeof a?!1:_&&a&&typeof _=="object"&&typeof a=="object"?!Object.keys(a).some($=>!partialMatchKey(_[$],a[$])):!1}function replaceEqualDeep(_,a){if(_===a)return _;const $=isPlainArray(_)&&isPlainArray(a);if($||isPlainObject(_)&&isPlainObject(a)){const j=$?_:Object.keys(_),et=j.length,tt=$?a:Object.keys(a),rt=tt.length,nt=$?[]:{};let it=0;for(let ot=0;ot<rt;ot++){const st=$?ot:tt[ot];(!$&&j.includes(st)||$)&&_[st]===void 0&&a[st]===void 0?(nt[st]=void 0,it++):(nt[st]=replaceEqualDeep(_[st],a[st]),nt[st]===_[st]&&_[st]!==void 0&&it++)}return et===rt&&it===et?_:nt}return a}function shallowEqualObjects(_,a){if(!a||Object.keys(_).length!==Object.keys(a).length)return!1;for(const $ in _)if(_[$]!==a[$])return!1;return!0}function isPlainArray(_){return Array.isArray(_)&&_.length===Object.keys(_).length}function isPlainObject(_){if(!hasObjectPrototype(_))return!1;const a=_.constructor;if(a===void 0)return!0;const $=a.prototype;return!(!hasObjectPrototype($)||!$.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(_)!==Object.prototype)}function hasObjectPrototype(_){return Object.prototype.toString.call(_)==="[object Object]"}function sleep$1(_){return new Promise(a=>{setTimeout(a,_)})}function replaceData(_,a,$){return typeof $.structuralSharing=="function"?$.structuralSharing(_,a):$.structuralSharing!==!1?replaceEqualDeep(_,a):a}function addToEnd(_,a,$=0){const j=[..._,a];return $&&j.length>$?j.slice(1):j}function addToStart(_,a,$=0){const j=[a,..._];return $&&j.length>$?j.slice(0,-1):j}var skipToken=Symbol(),ensureQueryFn=(_,a)=>!_.queryFn&&(a!=null&&a.initialPromise)?()=>a.initialPromise:!_.queryFn||_.queryFn===skipToken?()=>Promise.reject(new Error(`Missing queryFn: '${_.queryHash}'`)):_.queryFn,au,Hl,Cu,vv,FocusManager=(vv=class extends Subscribable{constructor(){super();In(this,au,void 0);In(this,Hl,void 0);In(this,Cu,void 0);Tn(this,Cu,a=>{if(!isServer&&window.addEventListener){const $=()=>a();return window.addEventListener("visibilitychange",$,!1),()=>{window.removeEventListener("visibilitychange",$)}}})}onSubscribe(){Lr(this,Hl)||this.setEventListener(Lr(this,Cu))}onUnsubscribe(){var a;this.hasListeners()||((a=Lr(this,Hl))==null||a.call(this),Tn(this,Hl,void 0))}setEventListener(a){var $;Tn(this,Cu,a),($=Lr(this,Hl))==null||$.call(this),Tn(this,Hl,a(j=>{typeof j=="boolean"?this.setFocused(j):this.onFocus()}))}setFocused(a){Lr(this,au)!==a&&(Tn(this,au,a),this.onFocus())}onFocus(){const a=this.isFocused();this.listeners.forEach($=>{$(a)})}isFocused(){var a;return typeof Lr(this,au)=="boolean"?Lr(this,au):((a=globalThis.document)==null?void 0:a.visibilityState)!=="hidden"}},au=new WeakMap,Hl=new WeakMap,Cu=new WeakMap,vv),focusManager=new FocusManager,$u,Vl,ku,yv,OnlineManager=(yv=class extends Subscribable{constructor(){super();In(this,$u,!0);In(this,Vl,void 0);In(this,ku,void 0);Tn(this,ku,a=>{if(!isServer&&window.addEventListener){const $=()=>a(!0),j=()=>a(!1);return window.addEventListener("online",$,!1),window.addEventListener("offline",j,!1),()=>{window.removeEventListener("online",$),window.removeEventListener("offline",j)}}})}onSubscribe(){Lr(this,Vl)||this.setEventListener(Lr(this,ku))}onUnsubscribe(){var a;this.hasListeners()||((a=Lr(this,Vl))==null||a.call(this),Tn(this,Vl,void 0))}setEventListener(a){var $;Tn(this,ku,a),($=Lr(this,Vl))==null||$.call(this),Tn(this,Vl,a(this.setOnline.bind(this)))}setOnline(a){Lr(this,$u)!==a&&(Tn(this,$u,a),this.listeners.forEach(j=>{j(a)}))}isOnline(){return Lr(this,$u)}},$u=new WeakMap,Vl=new WeakMap,ku=new WeakMap,yv),onlineManager=new OnlineManager;function defaultRetryDelay(_){return Math.min(1e3*2**_,3e4)}function canFetch(_){return(_??"online")==="online"?onlineManager.isOnline():!0}var CancelledError=class{constructor(_){this.revert=_==null?void 0:_.revert,this.silent=_==null?void 0:_.silent}};function isCancelledError(_){return _ instanceof CancelledError}function createRetryer(_){let a=!1,$=0,j=!1,et,tt,rt;const nt=new Promise((kt,Ct)=>{tt=kt,rt=Ct}),it=kt=>{var Ct;j||(Et(new CancelledError(kt)),(Ct=_.abort)==null||Ct.call(_))},ot=()=>{a=!0},st=()=>{a=!1},ct=()=>focusManager.isFocused()&&(_.networkMode==="always"||onlineManager.isOnline())&&_.canRun(),ut=()=>canFetch(_.networkMode)&&_.canRun(),ht=kt=>{var Ct;j||(j=!0,(Ct=_.onSuccess)==null||Ct.call(_,kt),et==null||et(),tt(kt))},Et=kt=>{var Ct;j||(j=!0,(Ct=_.onError)==null||Ct.call(_,kt),et==null||et(),rt(kt))},St=()=>new Promise(kt=>{var Ct;et=Ot=>{(j||ct())&&kt(Ot)},(Ct=_.onPause)==null||Ct.call(_)}).then(()=>{var kt;et=void 0,j||(kt=_.onContinue)==null||kt.call(_)}),Mt=()=>{if(j)return;let kt;const Ct=$===0?_.initialPromise:void 0;try{kt=Ct??_.fn()}catch(Ot){kt=Promise.reject(Ot)}Promise.resolve(kt).then(ht).catch(Ot=>{var $t;if(j)return;const zt=_.retry??(isServer?0:3),Ut=_.retryDelay??defaultRetryDelay,Vt=typeof Ut=="function"?Ut($,Ot):Ut,jt=zt===!0||typeof zt=="number"&&$<zt||typeof zt=="function"&&zt($,Ot);if(a||!jt){Et(Ot);return}$++,($t=_.onFail)==null||$t.call(_,$,Ot),sleep$1(Vt).then(()=>ct()?void 0:St()).then(()=>{a?Et(Ot):Mt()})})};return{promise:nt,cancel:it,continue:()=>(et==null||et(),nt),cancelRetry:ot,continueRetry:st,canStart:ut,start:()=>(ut()?Mt():St().then(Mt),nt)}}function createNotifyManager(){let _=[],a=0,$=ut=>{ut()},j=ut=>{ut()},et=ut=>setTimeout(ut,0);const tt=ut=>{et=ut},rt=ut=>{let ht;a++;try{ht=ut()}finally{a--,a||ot()}return ht},nt=ut=>{a?_.push(ut):et(()=>{$(ut)})},it=ut=>(...ht)=>{nt(()=>{ut(...ht)})},ot=()=>{const ut=_;_=[],ut.length&&et(()=>{j(()=>{ut.forEach(ht=>{$(ht)})})})};return{batch:rt,batchCalls:it,schedule:nt,setNotifyFunction:ut=>{$=ut},setBatchNotifyFunction:ut=>{j=ut},setScheduler:tt}}var notifyManager=createNotifyManager(),cu,xv,Removable=(xv=class{constructor(){In(this,cu,void 0)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),isValidTimeout(this.gcTime)&&Tn(this,cu,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(_){this.gcTime=Math.max(this.gcTime||0,_??(isServer?1/0:5*60*1e3))}clearGcTimeout(){Lr(this,cu)&&(clearTimeout(Lr(this,cu)),Tn(this,cu,void 0))}},cu=new WeakMap,xv),Iu,Mu,Eo,Hs,op,lu,Oo,$a,bv,Query=(bv=class extends Removable{constructor(a){super();In(this,Oo);In(this,Iu,void 0);In(this,Mu,void 0);In(this,Eo,void 0);In(this,Hs,void 0);In(this,op,void 0);In(this,lu,void 0);Tn(this,lu,!1),Tn(this,op,a.defaultOptions),this.setOptions(a.options),this.observers=[],Tn(this,Eo,a.cache),this.queryKey=a.queryKey,this.queryHash=a.queryHash,Tn(this,Iu,a.state||getDefaultState$1(this.options)),this.state=Lr(this,Iu),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var a;return(a=Lr(this,Hs))==null?void 0:a.promise}setOptions(a){this.options={...Lr(this,op),...a},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&Lr(this,Eo).remove(this)}setData(a,$){const j=replaceData(this.state.data,a,this.options);return Wn(this,Oo,$a).call(this,{data:j,type:"success",dataUpdatedAt:$==null?void 0:$.updatedAt,manual:$==null?void 0:$.manual}),j}setState(a,$){Wn(this,Oo,$a).call(this,{type:"setState",state:a,setStateOptions:$})}cancel(a){var j,et;const $=(j=Lr(this,Hs))==null?void 0:j.promise;return(et=Lr(this,Hs))==null||et.cancel(a),$?$.then(noop$2).catch(noop$2):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(Lr(this,Iu))}isActive(){return this.observers.some(a=>a.options.enabled!==!1)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(a=>a.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(a=0){return this.state.isInvalidated||this.state.data===void 0||!timeUntilStale(this.state.dataUpdatedAt,a)}onFocus(){var $;const a=this.observers.find(j=>j.shouldFetchOnWindowFocus());a==null||a.refetch({cancelRefetch:!1}),($=Lr(this,Hs))==null||$.continue()}onOnline(){var $;const a=this.observers.find(j=>j.shouldFetchOnReconnect());a==null||a.refetch({cancelRefetch:!1}),($=Lr(this,Hs))==null||$.continue()}addObserver(a){this.observers.includes(a)||(this.observers.push(a),this.clearGcTimeout(),Lr(this,Eo).notify({type:"observerAdded",query:this,observer:a}))}removeObserver(a){this.observers.includes(a)&&(this.observers=this.observers.filter($=>$!==a),this.observers.length||(Lr(this,Hs)&&(Lr(this,lu)?Lr(this,Hs).cancel({revert:!0}):Lr(this,Hs).cancelRetry()),this.scheduleGc()),Lr(this,Eo).notify({type:"observerRemoved",query:this,observer:a}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Wn(this,Oo,$a).call(this,{type:"invalidate"})}fetch(a,$){var it,ot,st;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&($!=null&&$.cancelRefetch))this.cancel({silent:!0});else if(Lr(this,Hs))return Lr(this,Hs).continueRetry(),Lr(this,Hs).promise}if(a&&this.setOptions(a),!this.options.queryFn){const ct=this.observers.find(ut=>ut.options.queryFn);ct&&this.setOptions(ct.options)}const j=new AbortController,et=ct=>{Object.defineProperty(ct,"signal",{enumerable:!0,get:()=>(Tn(this,lu,!0),j.signal)})},tt=()=>{const ct=ensureQueryFn(this.options,$),ut={queryKey:this.queryKey,meta:this.meta};return et(ut),Tn(this,lu,!1),this.options.persister?this.options.persister(ct,ut,this):ct(ut)},rt={fetchOptions:$,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:tt};et(rt),(it=this.options.behavior)==null||it.onFetch(rt,this),Tn(this,Mu,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((ot=rt.fetchOptions)==null?void 0:ot.meta))&&Wn(this,Oo,$a).call(this,{type:"fetch",meta:(st=rt.fetchOptions)==null?void 0:st.meta});const nt=ct=>{var ut,ht,Et,St;isCancelledError(ct)&&ct.silent||Wn(this,Oo,$a).call(this,{type:"error",error:ct}),isCancelledError(ct)||((ht=(ut=Lr(this,Eo).config).onError)==null||ht.call(ut,ct,this),(St=(Et=Lr(this,Eo).config).onSettled)==null||St.call(Et,this.state.data,ct,this)),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return Tn(this,Hs,createRetryer({initialPromise:$==null?void 0:$.initialPromise,fn:rt.fetchFn,abort:j.abort.bind(j),onSuccess:ct=>{var ut,ht,Et,St;if(ct===void 0){nt(new Error(`${this.queryHash} data is undefined`));return}this.setData(ct),(ht=(ut=Lr(this,Eo).config).onSuccess)==null||ht.call(ut,ct,this),(St=(Et=Lr(this,Eo).config).onSettled)==null||St.call(Et,ct,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:nt,onFail:(ct,ut)=>{Wn(this,Oo,$a).call(this,{type:"failed",failureCount:ct,error:ut})},onPause:()=>{Wn(this,Oo,$a).call(this,{type:"pause"})},onContinue:()=>{Wn(this,Oo,$a).call(this,{type:"continue"})},retry:rt.options.retry,retryDelay:rt.options.retryDelay,networkMode:rt.options.networkMode,canRun:()=>!0})),Lr(this,Hs).start()}},Iu=new WeakMap,Mu=new WeakMap,Eo=new WeakMap,Hs=new WeakMap,op=new WeakMap,lu=new WeakMap,Oo=new WeakSet,$a=function(a){const $=j=>{switch(a.type){case"failed":return{...j,fetchFailureCount:a.failureCount,fetchFailureReason:a.error};case"pause":return{...j,fetchStatus:"paused"};case"continue":return{...j,fetchStatus:"fetching"};case"fetch":return{...j,...fetchState(j.data,this.options),fetchMeta:a.meta??null};case"success":return{...j,data:a.data,dataUpdateCount:j.dataUpdateCount+1,dataUpdatedAt:a.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!a.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const et=a.error;return isCancelledError(et)&&et.revert&&Lr(this,Mu)?{...Lr(this,Mu),fetchStatus:"idle"}:{...j,error:et,errorUpdateCount:j.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:j.fetchFailureCount+1,fetchFailureReason:et,fetchStatus:"idle",status:"error"};case"invalidate":return{...j,isInvalidated:!0};case"setState":return{...j,...a.state}}};this.state=$(this.state),notifyManager.batch(()=>{this.observers.forEach(j=>{j.onQueryUpdate()}),Lr(this,Eo).notify({query:this,type:"updated",action:a})})},bv);function fetchState(_,a){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:canFetch(a.networkMode)?"fetching":"paused",..._===void 0&&{error:null,status:"pending"}}}function getDefaultState$1(_){const a=typeof _.initialData=="function"?_.initialData():_.initialData,$=a!==void 0,j=$?typeof _.initialDataUpdatedAt=="function"?_.initialDataUpdatedAt():_.initialDataUpdatedAt:0;return{data:a,dataUpdateCount:0,dataUpdatedAt:$?j??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:$?"success":"pending",fetchStatus:"idle"}}var Ho,Ev,QueryCache=(Ev=class extends Subscribable{constructor(a={}){super();In(this,Ho,void 0);this.config=a,Tn(this,Ho,new Map)}build(a,$,j){const et=$.queryKey,tt=$.queryHash??hashQueryKeyByOptions(et,$);let rt=this.get(tt);return rt||(rt=new Query({cache:this,queryKey:et,queryHash:tt,options:a.defaultQueryOptions($),state:j,defaultOptions:a.getQueryDefaults(et)}),this.add(rt)),rt}add(a){Lr(this,Ho).has(a.queryHash)||(Lr(this,Ho).set(a.queryHash,a),this.notify({type:"added",query:a}))}remove(a){const $=Lr(this,Ho).get(a.queryHash);$&&(a.destroy(),$===a&&Lr(this,Ho).delete(a.queryHash),this.notify({type:"removed",query:a}))}clear(){notifyManager.batch(()=>{this.getAll().forEach(a=>{this.remove(a)})})}get(a){return Lr(this,Ho).get(a)}getAll(){return[...Lr(this,Ho).values()]}find(a){const $={exact:!0,...a};return this.getAll().find(j=>matchQuery($,j))}findAll(a={}){const $=this.getAll();return Object.keys(a).length>0?$.filter(j=>matchQuery(a,j)):$}notify(a){notifyManager.batch(()=>{this.listeners.forEach($=>{$(a)})})}onFocus(){notifyManager.batch(()=>{this.getAll().forEach(a=>{a.onFocus()})})}onOnline(){notifyManager.batch(()=>{this.getAll().forEach(a=>{a.onOnline()})})}},Ho=new WeakMap,Ev),Vo,Ws,uu,Ko,Ul,wv,Mutation=(wv=class extends Removable{constructor(a){super();In(this,Ko);In(this,Vo,void 0);In(this,Ws,void 0);In(this,uu,void 0);this.mutationId=a.mutationId,Tn(this,Ws,a.mutationCache),Tn(this,Vo,[]),this.state=a.state||getDefaultState(),this.setOptions(a.options),this.scheduleGc()}setOptions(a){this.options=a,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(a){Lr(this,Vo).includes(a)||(Lr(this,Vo).push(a),this.clearGcTimeout(),Lr(this,Ws).notify({type:"observerAdded",mutation:this,observer:a}))}removeObserver(a){Tn(this,Vo,Lr(this,Vo).filter($=>$!==a)),this.scheduleGc(),Lr(this,Ws).notify({type:"observerRemoved",mutation:this,observer:a})}optionalRemove(){Lr(this,Vo).length||(this.state.status==="pending"?this.scheduleGc():Lr(this,Ws).remove(this))}continue(){var a;return((a=Lr(this,uu))==null?void 0:a.continue())??this.execute(this.state.variables)}async execute(a){var et,tt,rt,nt,it,ot,st,ct,ut,ht,Et,St,Mt,kt,Ct,Ot,zt,Ut,Vt,jt;Tn(this,uu,createRetryer({fn:()=>this.options.mutationFn?this.options.mutationFn(a):Promise.reject(new Error("No mutationFn found")),onFail:($t,Bt)=>{Wn(this,Ko,Ul).call(this,{type:"failed",failureCount:$t,error:Bt})},onPause:()=>{Wn(this,Ko,Ul).call(this,{type:"pause"})},onContinue:()=>{Wn(this,Ko,Ul).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>Lr(this,Ws).canRun(this)}));const $=this.state.status==="pending",j=!Lr(this,uu).canStart();try{if(!$){Wn(this,Ko,Ul).call(this,{type:"pending",variables:a,isPaused:j}),await((tt=(et=Lr(this,Ws).config).onMutate)==null?void 0:tt.call(et,a,this));const Bt=await((nt=(rt=this.options).onMutate)==null?void 0:nt.call(rt,a));Bt!==this.state.context&&Wn(this,Ko,Ul).call(this,{type:"pending",context:Bt,variables:a,isPaused:j})}const $t=await Lr(this,uu).start();return await((ot=(it=Lr(this,Ws).config).onSuccess)==null?void 0:ot.call(it,$t,a,this.state.context,this)),await((ct=(st=this.options).onSuccess)==null?void 0:ct.call(st,$t,a,this.state.context)),await((ht=(ut=Lr(this,Ws).config).onSettled)==null?void 0:ht.call(ut,$t,null,this.state.variables,this.state.context,this)),await((St=(Et=this.options).onSettled)==null?void 0:St.call(Et,$t,null,a,this.state.context)),Wn(this,Ko,Ul).call(this,{type:"success",data:$t}),$t}catch($t){try{throw await((kt=(Mt=Lr(this,Ws).config).onError)==null?void 0:kt.call(Mt,$t,a,this.state.context,this)),await((Ot=(Ct=this.options).onError)==null?void 0:Ot.call(Ct,$t,a,this.state.context)),await((Ut=(zt=Lr(this,Ws).config).onSettled)==null?void 0:Ut.call(zt,void 0,$t,this.state.variables,this.state.context,this)),await((jt=(Vt=this.options).onSettled)==null?void 0:jt.call(Vt,void 0,$t,a,this.state.context)),$t}finally{Wn(this,Ko,Ul).call(this,{type:"error",error:$t})}}finally{Lr(this,Ws).runNext(this)}}},Vo=new WeakMap,Ws=new WeakMap,uu=new WeakMap,Ko=new WeakSet,Ul=function(a){const $=j=>{switch(a.type){case"failed":return{...j,failureCount:a.failureCount,failureReason:a.error};case"pause":return{...j,isPaused:!0};case"continue":return{...j,isPaused:!1};case"pending":return{...j,context:a.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:a.isPaused,status:"pending",variables:a.variables,submittedAt:Date.now()};case"success":return{...j,data:a.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...j,data:void 0,error:a.error,failureCount:j.failureCount+1,failureReason:a.error,isPaused:!1,status:"error"}}};this.state=$(this.state),notifyManager.batch(()=>{Lr(this,Vo).forEach(j=>{j.onMutationUpdate(a)}),Lr(this,Ws).notify({mutation:this,type:"updated",action:a})})},wv);function getDefaultState(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var co,ap,_v,MutationCache=(_v=class extends Subscribable{constructor(a={}){super();In(this,co,void 0);In(this,ap,void 0);this.config=a,Tn(this,co,new Map),Tn(this,ap,Date.now())}build(a,$,j){const et=new Mutation({mutationCache:this,mutationId:++rm(this,ap)._,options:a.defaultMutationOptions($),state:j});return this.add(et),et}add(a){const $=scopeFor(a),j=Lr(this,co).get($)??[];j.push(a),Lr(this,co).set($,j),this.notify({type:"added",mutation:a})}remove(a){var j;const $=scopeFor(a);if(Lr(this,co).has($)){const et=(j=Lr(this,co).get($))==null?void 0:j.filter(tt=>tt!==a);et&&(et.length===0?Lr(this,co).delete($):Lr(this,co).set($,et))}this.notify({type:"removed",mutation:a})}canRun(a){var j;const $=(j=Lr(this,co).get(scopeFor(a)))==null?void 0:j.find(et=>et.state.status==="pending");return!$||$===a}runNext(a){var j;const $=(j=Lr(this,co).get(scopeFor(a)))==null?void 0:j.find(et=>et!==a&&et.state.isPaused);return($==null?void 0:$.continue())??Promise.resolve()}clear(){notifyManager.batch(()=>{this.getAll().forEach(a=>{this.remove(a)})})}getAll(){return[...Lr(this,co).values()].flat()}find(a){const $={exact:!0,...a};return this.getAll().find(j=>matchMutation($,j))}findAll(a={}){return this.getAll().filter($=>matchMutation(a,$))}notify(a){notifyManager.batch(()=>{this.listeners.forEach($=>{$(a)})})}resumePausedMutations(){const a=this.getAll().filter($=>$.state.isPaused);return notifyManager.batch(()=>Promise.all(a.map($=>$.continue().catch(noop$2))))}},co=new WeakMap,ap=new WeakMap,_v);function scopeFor(_){var a;return((a=_.options.scope)==null?void 0:a.id)??String(_.mutationId)}function infiniteQueryBehavior(_){return{onFetch:(a,$)=>{const j=async()=>{var Et,St,Mt,kt,Ct;const et=a.options,tt=(Mt=(St=(Et=a.fetchOptions)==null?void 0:Et.meta)==null?void 0:St.fetchMore)==null?void 0:Mt.direction,rt=((kt=a.state.data)==null?void 0:kt.pages)||[],nt=((Ct=a.state.data)==null?void 0:Ct.pageParams)||[],it={pages:[],pageParams:[]};let ot=!1;const st=Ot=>{Object.defineProperty(Ot,"signal",{enumerable:!0,get:()=>(a.signal.aborted?ot=!0:a.signal.addEventListener("abort",()=>{ot=!0}),a.signal)})},ct=ensureQueryFn(a.options,a.fetchOptions),ut=async(Ot,zt,Ut)=>{if(ot)return Promise.reject();if(zt==null&&Ot.pages.length)return Promise.resolve(Ot);const Vt={queryKey:a.queryKey,pageParam:zt,direction:Ut?"backward":"forward",meta:a.options.meta};st(Vt);const jt=await ct(Vt),{maxPages:$t}=a.options,Bt=Ut?addToStart:addToEnd;return{pages:Bt(Ot.pages,jt,$t),pageParams:Bt(Ot.pageParams,zt,$t)}};let ht;if(tt&&rt.length){const Ot=tt==="backward",zt=Ot?getPreviousPageParam:getNextPageParam,Ut={pages:rt,pageParams:nt},Vt=zt(et,Ut);ht=await ut(Ut,Vt,Ot)}else{ht=await ut(it,nt[0]??et.initialPageParam);const Ot=_??rt.length;for(let zt=1;zt<Ot;zt++){const Ut=getNextPageParam(et,ht);ht=await ut(ht,Ut)}}return ht};a.options.persister?a.fetchFn=()=>{var et,tt;return(tt=(et=a.options).persister)==null?void 0:tt.call(et,j,{queryKey:a.queryKey,meta:a.options.meta,signal:a.signal},$)}:a.fetchFn=j}}}function getNextPageParam(_,{pages:a,pageParams:$}){const j=a.length-1;return _.getNextPageParam(a[j],a,$[j],$)}function getPreviousPageParam(_,{pages:a,pageParams:$}){var j;return(j=_.getPreviousPageParam)==null?void 0:j.call(_,a[0],a,$[0],$)}function hasNextPage(_,a){return a?getNextPageParam(_,a)!=null:!1}function hasPreviousPage(_,a){return!a||!_.getPreviousPageParam?!1:getPreviousPageParam(_,a)!=null}var Ss,Kl,Wl,Ou,ju,Gl,Lu,Bu,Sv,QueryClient=(Sv=class{constructor(_={}){In(this,Ss,void 0);In(this,Kl,void 0);In(this,Wl,void 0);In(this,Ou,void 0);In(this,ju,void 0);In(this,Gl,void 0);In(this,Lu,void 0);In(this,Bu,void 0);Tn(this,Ss,_.queryCache||new QueryCache),Tn(this,Kl,_.mutationCache||new MutationCache),Tn(this,Wl,_.defaultOptions||{}),Tn(this,Ou,new Map),Tn(this,ju,new Map),Tn(this,Gl,0)}mount(){rm(this,Gl)._++,Lr(this,Gl)===1&&(Tn(this,Lu,focusManager.subscribe(async _=>{_&&(await this.resumePausedMutations(),Lr(this,Ss).onFocus())})),Tn(this,Bu,onlineManager.subscribe(async _=>{_&&(await this.resumePausedMutations(),Lr(this,Ss).onOnline())})))}unmount(){var _,a;rm(this,Gl)._--,Lr(this,Gl)===0&&((_=Lr(this,Lu))==null||_.call(this),Tn(this,Lu,void 0),(a=Lr(this,Bu))==null||a.call(this),Tn(this,Bu,void 0))}isFetching(_){return Lr(this,Ss).findAll({..._,fetchStatus:"fetching"}).length}isMutating(_){return Lr(this,Kl).findAll({..._,status:"pending"}).length}getQueryData(_){var $;const a=this.defaultQueryOptions({queryKey:_});return($=Lr(this,Ss).get(a.queryHash))==null?void 0:$.state.data}ensureQueryData(_){const a=this.getQueryData(_.queryKey);if(a===void 0)return this.fetchQuery(_);{const $=this.defaultQueryOptions(_),j=Lr(this,Ss).build(this,$);return _.revalidateIfStale&&j.isStaleByTime(resolveStaleTime($.staleTime,j))&&this.prefetchQuery($),Promise.resolve(a)}}getQueriesData(_){return Lr(this,Ss).findAll(_).map(({queryKey:a,state:$})=>{const j=$.data;return[a,j]})}setQueryData(_,a,$){const j=this.defaultQueryOptions({queryKey:_}),et=Lr(this,Ss).get(j.queryHash),tt=et==null?void 0:et.state.data,rt=functionalUpdate(a,tt);if(rt!==void 0)return Lr(this,Ss).build(this,j).setData(rt,{...$,manual:!0})}setQueriesData(_,a,$){return notifyManager.batch(()=>Lr(this,Ss).findAll(_).map(({queryKey:j})=>[j,this.setQueryData(j,a,$)]))}getQueryState(_){var $;const a=this.defaultQueryOptions({queryKey:_});return($=Lr(this,Ss).get(a.queryHash))==null?void 0:$.state}removeQueries(_){const a=Lr(this,Ss);notifyManager.batch(()=>{a.findAll(_).forEach($=>{a.remove($)})})}resetQueries(_,a){const $=Lr(this,Ss),j={type:"active",..._};return notifyManager.batch(()=>($.findAll(_).forEach(et=>{et.reset()}),this.refetchQueries(j,a)))}cancelQueries(_={},a={}){const $={revert:!0,...a},j=notifyManager.batch(()=>Lr(this,Ss).findAll(_).map(et=>et.cancel($)));return Promise.all(j).then(noop$2).catch(noop$2)}invalidateQueries(_={},a={}){return notifyManager.batch(()=>{if(Lr(this,Ss).findAll(_).forEach(j=>{j.invalidate()}),_.refetchType==="none")return Promise.resolve();const $={..._,type:_.refetchType??_.type??"active"};return this.refetchQueries($,a)})}refetchQueries(_={},a){const $={...a,cancelRefetch:(a==null?void 0:a.cancelRefetch)??!0},j=notifyManager.batch(()=>Lr(this,Ss).findAll(_).filter(et=>!et.isDisabled()).map(et=>{let tt=et.fetch(void 0,$);return $.throwOnError||(tt=tt.catch(noop$2)),et.state.fetchStatus==="paused"?Promise.resolve():tt}));return Promise.all(j).then(noop$2)}fetchQuery(_){const a=this.defaultQueryOptions(_);a.retry===void 0&&(a.retry=!1);const $=Lr(this,Ss).build(this,a);return $.isStaleByTime(resolveStaleTime(a.staleTime,$))?$.fetch(a):Promise.resolve($.state.data)}prefetchQuery(_){return this.fetchQuery(_).then(noop$2).catch(noop$2)}fetchInfiniteQuery(_){return _.behavior=infiniteQueryBehavior(_.pages),this.fetchQuery(_)}prefetchInfiniteQuery(_){return this.fetchInfiniteQuery(_).then(noop$2).catch(noop$2)}resumePausedMutations(){return onlineManager.isOnline()?Lr(this,Kl).resumePausedMutations():Promise.resolve()}getQueryCache(){return Lr(this,Ss)}getMutationCache(){return Lr(this,Kl)}getDefaultOptions(){return Lr(this,Wl)}setDefaultOptions(_){Tn(this,Wl,_)}setQueryDefaults(_,a){Lr(this,Ou).set(hashKey(_),{queryKey:_,defaultOptions:a})}getQueryDefaults(_){const a=[...Lr(this,Ou).values()];let $={};return a.forEach(j=>{partialMatchKey(_,j.queryKey)&&($={...$,...j.defaultOptions})}),$}setMutationDefaults(_,a){Lr(this,ju).set(hashKey(_),{mutationKey:_,defaultOptions:a})}getMutationDefaults(_){const a=[...Lr(this,ju).values()];let $={};return a.forEach(j=>{partialMatchKey(_,j.mutationKey)&&($={...$,...j.defaultOptions})}),$}defaultQueryOptions(_){if(_._defaulted)return _;const a={...Lr(this,Wl).queries,...this.getQueryDefaults(_.queryKey),..._,_defaulted:!0};return a.queryHash||(a.queryHash=hashQueryKeyByOptions(a.queryKey,a)),a.refetchOnReconnect===void 0&&(a.refetchOnReconnect=a.networkMode!=="always"),a.throwOnError===void 0&&(a.throwOnError=!!a.suspense),!a.networkMode&&a.persister&&(a.networkMode="offlineFirst"),a.enabled!==!0&&a.queryFn===skipToken&&(a.enabled=!1),a}defaultMutationOptions(_){return _!=null&&_._defaulted?_:{...Lr(this,Wl).mutations,...(_==null?void 0:_.mutationKey)&&this.getMutationDefaults(_.mutationKey),..._,_defaulted:!0}}clear(){Lr(this,Ss).clear(),Lr(this,Kl).clear()}},Ss=new WeakMap,Kl=new WeakMap,Wl=new WeakMap,Ou=new WeakMap,ju=new WeakMap,Gl=new WeakMap,Lu=new WeakMap,Bu=new WeakMap,Sv),ro,os,cp,Gs,du,Nu,qo,lp,Du,Fu,fu,hu,Zl,Uu,pu,sp,up,u0,dp,d0,fp,f0,hp,h0,pp,p0,mp,m0,gp,g0,im,Av,Rv,QueryObserver=(Rv=class extends Subscribable{constructor(a,$){super();In(this,pu);In(this,up);In(this,dp);In(this,fp);In(this,hp);In(this,pp);In(this,mp);In(this,gp);In(this,im);In(this,ro,void 0);In(this,os,void 0);In(this,cp,void 0);In(this,Gs,void 0);In(this,du,void 0);In(this,Nu,void 0);In(this,qo,void 0);In(this,lp,void 0);In(this,Du,void 0);In(this,Fu,void 0);In(this,fu,void 0);In(this,hu,void 0);In(this,Zl,void 0);In(this,Uu,new Set);this.options=$,Tn(this,ro,a),Tn(this,qo,null),this.bindMethods(),this.setOptions($)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(Lr(this,os).addObserver(this),shouldFetchOnMount(Lr(this,os),this.options)?Wn(this,pu,sp).call(this):this.updateResult(),Wn(this,hp,h0).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return shouldFetchOn(Lr(this,os),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return shouldFetchOn(Lr(this,os),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Wn(this,pp,p0).call(this),Wn(this,mp,m0).call(this),Lr(this,os).removeObserver(this)}setOptions(a,$){const j=this.options,et=Lr(this,os);if(this.options=Lr(this,ro).defaultQueryOptions(a),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");Wn(this,gp,g0).call(this),Lr(this,os).setOptions(this.options),j._defaulted&&!shallowEqualObjects(this.options,j)&&Lr(this,ro).getQueryCache().notify({type:"observerOptionsUpdated",query:Lr(this,os),observer:this});const tt=this.hasListeners();tt&&shouldFetchOptionally(Lr(this,os),et,this.options,j)&&Wn(this,pu,sp).call(this),this.updateResult($),tt&&(Lr(this,os)!==et||this.options.enabled!==j.enabled||resolveStaleTime(this.options.staleTime,Lr(this,os))!==resolveStaleTime(j.staleTime,Lr(this,os)))&&Wn(this,up,u0).call(this);const rt=Wn(this,dp,d0).call(this);tt&&(Lr(this,os)!==et||this.options.enabled!==j.enabled||rt!==Lr(this,Zl))&&Wn(this,fp,f0).call(this,rt)}getOptimisticResult(a){const $=Lr(this,ro).getQueryCache().build(Lr(this,ro),a),j=this.createResult($,a);return shouldAssignObserverCurrentProperties(this,j)&&(Tn(this,Gs,j),Tn(this,Nu,this.options),Tn(this,du,Lr(this,os).state)),j}getCurrentResult(){return Lr(this,Gs)}trackResult(a,$){const j={};return Object.keys(a).forEach(et=>{Object.defineProperty(j,et,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(et),$==null||$(et),a[et])})}),j}trackProp(a){Lr(this,Uu).add(a)}getCurrentQuery(){return Lr(this,os)}refetch({...a}={}){return this.fetch({...a})}fetchOptimistic(a){const $=Lr(this,ro).defaultQueryOptions(a),j=Lr(this,ro).getQueryCache().build(Lr(this,ro),$);return j.isFetchingOptimistic=!0,j.fetch().then(()=>this.createResult(j,$))}fetch(a){return Wn(this,pu,sp).call(this,{...a,cancelRefetch:a.cancelRefetch??!0}).then(()=>(this.updateResult(),Lr(this,Gs)))}createResult(a,$){var jt;const j=Lr(this,os),et=this.options,tt=Lr(this,Gs),rt=Lr(this,du),nt=Lr(this,Nu),ot=a!==j?a.state:Lr(this,cp),{state:st}=a;let ct={...st},ut=!1,ht;if($._optimisticResults){const $t=this.hasListeners(),Bt=!$t&&shouldFetchOnMount(a,$),Nt=$t&&shouldFetchOptionally(a,j,$,et);(Bt||Nt)&&(ct={...ct,...fetchState(st.data,a.options)}),$._optimisticResults==="isRestoring"&&(ct.fetchStatus="idle")}let{error:Et,errorUpdatedAt:St,status:Mt}=ct;if($.select&&ct.data!==void 0)if(tt&&ct.data===(rt==null?void 0:rt.data)&&$.select===Lr(this,lp))ht=Lr(this,Du);else try{Tn(this,lp,$.select),ht=$.select(ct.data),ht=replaceData(tt==null?void 0:tt.data,ht,$),Tn(this,Du,ht),Tn(this,qo,null)}catch($t){Tn(this,qo,$t)}else ht=ct.data;if($.placeholderData!==void 0&&ht===void 0&&Mt==="pending"){let $t;if(tt!=null&&tt.isPlaceholderData&&$.placeholderData===(nt==null?void 0:nt.placeholderData))$t=tt.data;else if($t=typeof $.placeholderData=="function"?$.placeholderData((jt=Lr(this,Fu))==null?void 0:jt.state.data,Lr(this,Fu)):$.placeholderData,$.select&&$t!==void 0)try{$t=$.select($t),Tn(this,qo,null)}catch(Bt){Tn(this,qo,Bt)}$t!==void 0&&(Mt="success",ht=replaceData(tt==null?void 0:tt.data,$t,$),ut=!0)}Lr(this,qo)&&(Et=Lr(this,qo),ht=Lr(this,Du),St=Date.now(),Mt="error");const kt=ct.fetchStatus==="fetching",Ct=Mt==="pending",Ot=Mt==="error",zt=Ct&&kt,Ut=ht!==void 0;return{status:Mt,fetchStatus:ct.fetchStatus,isPending:Ct,isSuccess:Mt==="success",isError:Ot,isInitialLoading:zt,isLoading:zt,data:ht,dataUpdatedAt:ct.dataUpdatedAt,error:Et,errorUpdatedAt:St,failureCount:ct.fetchFailureCount,failureReason:ct.fetchFailureReason,errorUpdateCount:ct.errorUpdateCount,isFetched:ct.dataUpdateCount>0||ct.errorUpdateCount>0,isFetchedAfterMount:ct.dataUpdateCount>ot.dataUpdateCount||ct.errorUpdateCount>ot.errorUpdateCount,isFetching:kt,isRefetching:kt&&!Ct,isLoadingError:Ot&&!Ut,isPaused:ct.fetchStatus==="paused",isPlaceholderData:ut,isRefetchError:Ot&&Ut,isStale:isStale(a,$),refetch:this.refetch}}updateResult(a){const $=Lr(this,Gs),j=this.createResult(Lr(this,os),this.options);if(Tn(this,du,Lr(this,os).state),Tn(this,Nu,this.options),Lr(this,du).data!==void 0&&Tn(this,Fu,Lr(this,os)),shallowEqualObjects(j,$))return;Tn(this,Gs,j);const et={},tt=()=>{if(!$)return!0;const{notifyOnChangeProps:rt}=this.options,nt=typeof rt=="function"?rt():rt;if(nt==="all"||!nt&&!Lr(this,Uu).size)return!0;const it=new Set(nt??Lr(this,Uu));return this.options.throwOnError&&it.add("error"),Object.keys(Lr(this,Gs)).some(ot=>{const st=ot;return Lr(this,Gs)[st]!==$[st]&&it.has(st)})};(a==null?void 0:a.listeners)!==!1&&tt()&&(et.listeners=!0),Wn(this,im,Av).call(this,{...et,...a})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Wn(this,hp,h0).call(this)}},ro=new WeakMap,os=new WeakMap,cp=new WeakMap,Gs=new WeakMap,du=new WeakMap,Nu=new WeakMap,qo=new WeakMap,lp=new WeakMap,Du=new WeakMap,Fu=new WeakMap,fu=new WeakMap,hu=new WeakMap,Zl=new WeakMap,Uu=new WeakMap,pu=new WeakSet,sp=function(a){Wn(this,gp,g0).call(this);let $=Lr(this,os).fetch(this.options,a);return a!=null&&a.throwOnError||($=$.catch(noop$2)),$},up=new WeakSet,u0=function(){Wn(this,pp,p0).call(this);const a=resolveStaleTime(this.options.staleTime,Lr(this,os));if(isServer||Lr(this,Gs).isStale||!isValidTimeout(a))return;const j=timeUntilStale(Lr(this,Gs).dataUpdatedAt,a)+1;Tn(this,fu,setTimeout(()=>{Lr(this,Gs).isStale||this.updateResult()},j))},dp=new WeakSet,d0=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(Lr(this,os)):this.options.refetchInterval)??!1},fp=new WeakSet,f0=function(a){Wn(this,mp,m0).call(this),Tn(this,Zl,a),!(isServer||this.options.enabled===!1||!isValidTimeout(Lr(this,Zl))||Lr(this,Zl)===0)&&Tn(this,hu,setInterval(()=>{(this.options.refetchIntervalInBackground||focusManager.isFocused())&&Wn(this,pu,sp).call(this)},Lr(this,Zl)))},hp=new WeakSet,h0=function(){Wn(this,up,u0).call(this),Wn(this,fp,f0).call(this,Wn(this,dp,d0).call(this))},pp=new WeakSet,p0=function(){Lr(this,fu)&&(clearTimeout(Lr(this,fu)),Tn(this,fu,void 0))},mp=new WeakSet,m0=function(){Lr(this,hu)&&(clearInterval(Lr(this,hu)),Tn(this,hu,void 0))},gp=new WeakSet,g0=function(){const a=Lr(this,ro).getQueryCache().build(Lr(this,ro),this.options);if(a===Lr(this,os))return;const $=Lr(this,os);Tn(this,os,a),Tn(this,cp,a.state),this.hasListeners()&&($==null||$.removeObserver(this),a.addObserver(this))},im=new WeakSet,Av=function(a){notifyManager.batch(()=>{a.listeners&&this.listeners.forEach($=>{$(Lr(this,Gs))}),Lr(this,ro).getQueryCache().notify({query:Lr(this,os),type:"observerResultsUpdated"})})},Rv);function shouldLoadOnMount(_,a){return a.enabled!==!1&&_.state.data===void 0&&!(_.state.status==="error"&&a.retryOnMount===!1)}function shouldFetchOnMount(_,a){return shouldLoadOnMount(_,a)||_.state.data!==void 0&&shouldFetchOn(_,a,a.refetchOnMount)}function shouldFetchOn(_,a,$){if(a.enabled!==!1){const j=typeof $=="function"?$(_):$;return j==="always"||j!==!1&&isStale(_,a)}return!1}function shouldFetchOptionally(_,a,$,j){return(_!==a||j.enabled===!1)&&(!$.suspense||_.state.status!=="error")&&isStale(_,$)}function isStale(_,a){return a.enabled!==!1&&_.isStaleByTime(resolveStaleTime(a.staleTime,_))}function shouldAssignObserverCurrentProperties(_,a){return!shallowEqualObjects(_.getCurrentResult(),a)}var InfiniteQueryObserver=class extends QueryObserver{constructor(_,a){super(_,a)}bindMethods(){super.bindMethods(),this.fetchNextPage=this.fetchNextPage.bind(this),this.fetchPreviousPage=this.fetchPreviousPage.bind(this)}setOptions(_,a){super.setOptions({..._,behavior:infiniteQueryBehavior()},a)}getOptimisticResult(_){return _.behavior=infiniteQueryBehavior(),super.getOptimisticResult(_)}fetchNextPage(_){return this.fetch({..._,meta:{fetchMore:{direction:"forward"}}})}fetchPreviousPage(_){return this.fetch({..._,meta:{fetchMore:{direction:"backward"}}})}createResult(_,a){var Et,St;const{state:$}=_,j=super.createResult(_,a),{isFetching:et,isRefetching:tt,isError:rt,isRefetchError:nt}=j,it=(St=(Et=$.fetchMeta)==null?void 0:Et.fetchMore)==null?void 0:St.direction,ot=rt&&it==="forward",st=et&&it==="forward",ct=rt&&it==="backward",ut=et&&it==="backward";return{...j,fetchNextPage:this.fetchNextPage,fetchPreviousPage:this.fetchPreviousPage,hasNextPage:hasNextPage(a,$.data),hasPreviousPage:hasPreviousPage(a,$.data),isFetchNextPageError:ot,isFetchingNextPage:st,isFetchPreviousPageError:ct,isFetchingPreviousPage:ut,isRefetchError:nt&&!ot&&!ct,isRefetching:tt&&!st&&!ut}}},QueryClientContext=reactExports.createContext(void 0),useQueryClient=_=>{const a=reactExports.useContext(QueryClientContext);if(!a)throw new Error("No QueryClient set, use QueryClientProvider to set one");return a},QueryClientProvider=({client:_,children:a})=>(reactExports.useEffect(()=>(_.mount(),()=>{_.unmount()}),[_]),jsxRuntimeExports.jsx(QueryClientContext.Provider,{value:_,children:a})),IsRestoringContext=reactExports.createContext(!1),useIsRestoring=()=>reactExports.useContext(IsRestoringContext);IsRestoringContext.Provider;function createValue(){let _=!1;return{clearReset:()=>{_=!1},reset:()=>{_=!0},isReset:()=>_}}var QueryErrorResetBoundaryContext=reactExports.createContext(createValue()),useQueryErrorResetBoundary=()=>reactExports.useContext(QueryErrorResetBoundaryContext);function shouldThrowError(_,a){return typeof _=="function"?_(...a):!!_}var ensurePreventErrorBoundaryRetry=(_,a)=>{(_.suspense||_.throwOnError)&&(a.isReset()||(_.retryOnMount=!1))},useClearResetErrorBoundary=_=>{reactExports.useEffect(()=>{_.clearReset()},[_])},getHasError=({result:_,errorResetBoundary:a,throwOnError:$,query:j})=>_.isError&&!a.isReset()&&!_.isFetching&&j&&shouldThrowError($,[_.error,j]),ensureStaleTime=_=>{_.suspense&&typeof _.staleTime!="number"&&(_.staleTime=1e3)},shouldSuspend=(_,a)=>(_==null?void 0:_.suspense)&&a.isPending,fetchOptimistic=(_,a,$)=>a.fetchOptimistic(_).catch(()=>{$.clearReset()});function useBaseQuery(_,a,$){const j=useQueryClient(),et=useIsRestoring(),tt=useQueryErrorResetBoundary(),rt=j.defaultQueryOptions(_);rt._optimisticResults=et?"isRestoring":"optimistic",ensureStaleTime(rt),ensurePreventErrorBoundaryRetry(rt,tt),useClearResetErrorBoundary(tt);const[nt]=reactExports.useState(()=>new a(j,rt)),it=nt.getOptimisticResult(rt);if(reactExports.useSyncExternalStore(reactExports.useCallback(ot=>{const st=et?()=>{}:nt.subscribe(notifyManager.batchCalls(ot));return nt.updateResult(),st},[nt,et]),()=>nt.getCurrentResult(),()=>nt.getCurrentResult()),reactExports.useEffect(()=>{nt.setOptions(rt,{listeners:!1})},[rt,nt]),shouldSuspend(rt,it))throw fetchOptimistic(rt,nt,tt);if(getHasError({result:it,errorResetBoundary:tt,throwOnError:rt.throwOnError,query:j.getQueryCache().get(rt.queryHash)}))throw it.error;return rt.notifyOnChangeProps?it:nt.trackResult(it)}function useQuery(_,a){return useBaseQuery(_,QueryObserver)}function useInfiniteQuery(_,a){return useBaseQuery(_,InfiniteQueryObserver)}const peerInfoSchema=z.object({id:z.string(),type:z.string(),name:z.string(),publicKey:z.string(),version:z.string(),icon:z.string().optional(),relayServer:z.string().optional()}),makePeerInfo=peerInfoSchema.parse,useGetConnectionInfo=_=>useAppSelector($=>$.beacon)[_],useGetPeersForAccounts=()=>{const _=useAppSelector(a=>a.beacon);return a=>lodashExports.uniq(Object.entries(_).filter(([$,j])=>a.includes(j.accountPkh)).map(([$,j])=>$))},useResetConnections=()=>{const _=useDispatch();return()=>_(beaconSlice.actions.reset())},useAddConnection=()=>{const _=useDispatch();return(a,$,j)=>_(beaconSlice.actions.addConnection({dAppId:a,accountPkh:$,networkType:j}))},useRemoveConnection=()=>{const _=useDispatch();return a=>_(beaconSlice.actions.removeConnection(a))},PEERS_QUERY_KEY="beaconPeers",useRefreshPeers=()=>{const _=useQueryClient();return()=>_.refetchQueries({queryKey:[PEERS_QUERY_KEY]})},usePeers=()=>useQuery({queryKey:[PEERS_QUERY_KEY],queryFn:()=>WalletClient.getPeers(),initialData:[]}).data,useRemovePeer=()=>{const _=useRefreshPeers(),a=useRemoveConnection();return $=>WalletClient.removePeer($,!0).then(()=>a($.senderId)).finally(()=>void _())},useRemovePeerBySenderId=()=>{const _=usePeers(),a=useRemovePeer();return $=>Promise.all(_.filter(j=>$===j.senderId).map(a))},useRemovePeersByAccounts=()=>{const _=useGetPeersForAccounts(),a=useRemovePeerBySenderId();return $=>Promise.all(_($).map(a))},useAddPeer=()=>{const _=useRefreshPeers(),a=useToast();return $=>new Serializer().deserialize($).then(makePeerInfo).then(j=>WalletClient.addPeer(j)).then(_).catch(j=>{a({description:"Beacon sync code in the clipboard is invalid. Please copy a beacon sync code from the dApp",status:"error"}),console.error(j)})},useRemoveDependenciesAndMultisigs=()=>{const _=useAppDispatch(),a=useGetMultisigsToRemove(),$=useRemoveAccountsDependencies();return j=>{const et=a(j);$([...j,...et]),_(multisigsSlice.actions.removeMultisigsData(et.map(tt=>tt.address.pkh)))}},useRemoveAccountsDependencies=()=>{const _=useAppDispatch(),a=useRemovePeersByAccounts();return $=>{const j=$.map(et=>et.address.pkh);_(batchesSlice.actions.removeByAccounts(j)),a(j),_(beaconSlice.actions.removeConnections(j)),_(assetsSlice.actions.removeAccountsData(j))}},useGetMultisigsToRemove=()=>{const _=useImplicitAccounts(),a=useMultisigAccounts();return $=>{const j=$.map(tt=>tt.address.pkh),et=_.map(tt=>tt.address.pkh).filter(tt=>!j.includes(tt));return a.filter(tt=>!tt.signers.some(rt=>et.includes(rt.pkh)))}},defaultDerivationPathTemplate="44'/1729'/?'/0'",DEFAULT_DERIVATION_PATH_TEMPLATE={label:"Default - m/44'/1729'/?'/0'",value:defaultDerivationPathTemplate},AVAILABLE_DERIVATION_PATH_TEMPLATES=[DEFAULT_DERIVATION_PATH_TEMPLATE,{label:"m/44'/1729'/0'/?'",value:"44'/1729'/0'/?'"},{label:"m/44'/1729'/?'/0'/0'",value:"44'/1729'/?'/0'/0'"},{label:"m/44'/1729'/0'/0'/?'",value:"44'/1729'/0'/0'/?'"}],getDefaultDerivationPath=_=>makeDerivationPath(defaultDerivationPathTemplate,_),makeDerivationPath=(_,a)=>_.replace("?",a.toString()),makeMnemonicAccount=(_,a,$,j,et,tt)=>({curve:"ed25519",derivationPath:$,derivationPathTemplate:j,pk:_,address:parseImplicitPkh(a),seedFingerPrint:et,label:tt,type:"mnemonic"}),generate24WordMnemonic=()=>generateMnemonic_1(256),restoreRevealedPublicKeyPairs=async(_,a,$)=>{const j=[];let et=0,tt=await derivePublicKeyPair(_,makeDerivationPath(a,et));do j.push(tt),et+=1,tt=await derivePublicKeyPair(_,makeDerivationPath(a,et));while(await addressExists(tt.pkh,$));return j},useRestoreRevealedMnemonicAccounts=()=>{const _=useGetNextAvailableAccountLabels();return async(a,$,j,et)=>{const tt=await restoreRevealedPublicKeyPairs(a,j,$),rt=await getFingerPrint(a),nt=_(et,tt.length);return tt.map(({pk:it,pkh:ot},st)=>makeMnemonicAccount(it,ot,makeDerivationPath(j,st),j,rt,nt[st]))}},getCurve=_=>{if(_.startsWith(Prefix.EDESK)||_.startsWith(Prefix.EDSK))return"ed25519";if(_.startsWith(Prefix.SPESK)||_.startsWith(Prefix.SPSK))return"secp256k1";if(_.startsWith(Prefix.P2ESK)||_.startsWith(Prefix.P2SK))return"p256";throw new Error("Invalid secret key")},isEncryptedSecretKeyPrefix=_=>_.substring(2,3)==="e",makeSecretKeyAccount=async({secretKey:_,label:a,password:$})=>{const{pk:j,pkh:et}=await getPublicKeyPairFromSk(_),tt=await encrypt$1(_,$);return{account:{type:"secret_key",pk:j,label:a,curve:getCurve(_),address:parseImplicitPkh(et)},encryptedSecretKey:tt}},restore=({secretKey:_,label:a,password:$})=>async j=>{const{account:et,encryptedSecretKey:tt}=await makeSecretKeyAccount({secretKey:_,label:a,password:$});j(accountsSlice.actions.addAccount(et)),j(accountsSlice.actions.addSecretKey({pkh:et.address.pkh,encryptedSecretKey:tt}))},{removeMnemonicAndAccounts,removeNonMnemonicAccounts}=accountsSlice.actions,{addAccount}=accountsSlice.actions,useRestoreFromMnemonic=()=>{const _=useSelectedNetwork(),a=useRestoreRevealedMnemonicAccounts(),$=useDispatch();return async({mnemonic:j,password:et,derivationPathTemplate:tt,label:rt})=>{const nt=await getFingerPrint(j),it=await a(j,_,tt,rt),ot=await encrypt$1(j,et);$(accountsSlice.actions.addMnemonicAccounts({seedFingerprint:nt,accounts:it,encryptedMnemonic:ot}))}},useDeriveMnemonicAccount=()=>{const _=useSeedPhrases(),a=useImplicitAccounts(),$=useGetNextAvailableAccountLabels(),j=useDispatch();return async({fingerPrint:et,password:tt,label:rt})=>{const nt=_[et];if(!nt)throw new Error(`No seedphrase found with fingerprint: ${et}`);const it=await decrypt$1(nt,tt),ot=a.filter(kt=>kt.type==="mnemonic"&&kt.seedFingerPrint===et),st=ot.length,ct=ot[0].derivationPathTemplate,ut=makeDerivationPath(ct,st),{pk:ht,pkh:Et}=await derivePublicKeyPair(it,ut),St=$(rt,1)[0],Mt=makeMnemonicAccount(ht,Et,ut,ct,et,St);j(accountsSlice.actions.addAccount(Mt))}},useRestoreFromSecretKey=()=>{const _=useAppDispatch();return(a,$,j)=>_(restore({secretKey:a,password:$,label:j}))},useRestoreLedger=()=>{const _=useAppDispatch();return(a,$,j,et,tt)=>{_(addAccount({derivationPathTemplate:a,derivationPath:$,curve:"ed25519",type:"ledger",pk:j,address:{type:"implicit",pkh:et},label:tt}))}},useRestoreSocial=()=>{const _=useAppDispatch();return reactExports.useCallback(($,j,et,tt)=>{_(addAccount({type:"social",pk:$,address:{type:"implicit",pkh:j},idp:tt,label:et}))},[_])},useRemoveMnemonic=()=>{const _=useAppDispatch(),a=useGetAccountsByFingerPrint(),$=useRemoveDependenciesAndMultisigs();return j=>{$(a(j)),_(removeMnemonicAndAccounts({fingerPrint:j}))}},useRemoveNonMnemonic=()=>{const _=useAppDispatch(),a=useGetAccountsByType(),$=useRemoveDependenciesAndMultisigs();return j=>{$(a(j)),_(removeNonMnemonicAccounts({accountType:j}))}},useRemoveAccount=()=>{const _=useAppDispatch(),a=useRemoveDependenciesAndMultisigs();return $=>{a([$]),_(accountsSlice.actions.removeAccount($))}},DEFAULT_TITLE="Name Your Account",NameAccountDisplay=({onSubmit:_,title:a=DEFAULT_TITLE,subtitle:$})=>{const{register:j,handleSubmit:et}=useForm({mode:"onChange"});return jsxRuntimeExports.jsx(ModalContentWrapper,{icon:jsxRuntimeExports.jsx(EditAccountIcon,{}),subtitle:$,title:a,children:jsxRuntimeExports.jsxs("form",{onSubmit:et(_),style:{width:"100%"},children:[jsxRuntimeExports.jsxs(FormControl,{children:[jsxRuntimeExports.jsx(FormLabel,{children:"Account name"}),jsxRuntimeExports.jsx(Input,{"data-testid":"name",type:"text",...j("accountName",{required:!1}),placeholder:"Optional"})]}),jsxRuntimeExports.jsx(Button,{width:"100%",marginTop:"32px",size:"lg",type:"submit",children:"Continue"})]})})},DEFAULT_ACCOUNT_LABEL="Account",NameAccount=({goToStep:_,account:a})=>{const $=useGetNextAvailableAccountLabels(),j=et=>{const tt=et.accountName.trim()||DEFAULT_ACCOUNT_LABEL,rt=$(tt)[0];switch(a.type){case"secret_key":return _({type:"masterPassword",account:{...a,label:rt}});case"ledger":return _({type:"derivationPath",account:{...a,label:rt}});case"mnemonic":return _({type:"derivationPath",account:{...a,label:tt}})}};return jsxRuntimeExports.jsx(NameAccountDisplay,{onSubmit:j,subtitle:"Please choose a name for your first account. You can edit your account name later."})},reload=()=>window.location.reload(),useRestoreV1BackupFile=()=>{const _=useRestoreFromMnemonic();return async(a,$)=>{const j=a.recoveryPhrases,et=a.derivationPaths.map(rt=>rt.slice(0,2)==="m/"?rt.slice(2):rt),tt=[];try{for(const rt of j)tt.push(await decrypt$1(rt,$,"V1"))}catch{throw new Error("Invalid password.")}for(const[rt,nt]of tt.entries())await _({mnemonic:nt,password:$,label:DEFAULT_ACCOUNT_LABEL,derivationPathTemplate:et[rt]})}},restoreV2BackupFile=async(_,a)=>{const $=_["persist:accounts"];if(!$)throw new Error("Invalid backup file.");const j=JSON.parse($),et=JSON.parse(j.seedPhrases);try{for(const tt of Object.values(et))await decrypt$1(tt,a,"V2")}catch{throw new Error("Invalid password.")}persistor.pause(),localStorage.clear(),localStorage.setItem("persist:accounts",$),localStorage.setItem("persist:root",_["persist:root"])},downloadBackupFile=()=>{const _={version:packageInfo.version,"persist:accounts":localStorage.getItem("persist:accounts"),"persist:root":localStorage.getItem("persist:root")},a=`data:text/json;chatset=utf-8,${encodeURIComponent(JSON.stringify(_))}`,$=document.createElement("a");$.href=a,$.download="UmamiV2Backup.json",$.click()},BackgroundImage=""+new URL("background_image-BS5h8JYK.png",import.meta.url).href,feedbackEmailBodyTemplate="What is it about? (if a bug report please consider including your account address) %0A PLEASE FILL %0A%0A What is the feedback? %0A PLEASE FILL",refresh=()=>{window.location.href="/"},ErrorPage=()=>{const{modalElement:_,onOpen:a}=useOffboardingModal();return jsxRuntimeExports.jsxs(Center,{height:"100vh",padding:"60px",backgroundImage:BackgroundImage,backgroundSize:"cover",children:[jsxRuntimeExports.jsx(Box,{width:"480px",padding:"40px",background:colors.gray[900],border:"1px",borderColor:colors.gray[700],borderRadius:"8px",boxShadow:"0px 0px 30px rgba(0, 0, 0, 0.30)",children:jsxRuntimeExports.jsx(ModalContentWrapper,{icon:jsxRuntimeExports.jsx(NoticeIcon,{}),subtitle:"Please refresh the app or use one of the following options:",title:"Oops! Something went wrong!",children:jsxRuntimeExports.jsxs(VStack,{width:"100%",spacing:"16px",children:[jsxRuntimeExports.jsx(Button,{width:"100%",borderRadius:"4px",onClick:downloadBackupFile,size:"lg",children:"Save Backup"}),jsxRuntimeExports.jsx(Button,{width:"100%",borderRadius:"4px",onClick:a,size:"lg",variant:"warning",children:"Off-board Wallet"}),jsxRuntimeExports.jsx(Button,{width:"100%",borderColor:colors.gray[600],borderRadius:"4px",size:"lg",variant:"tertiary",children:jsxRuntimeExports.jsx(Link$1,{width:"100%",_hover:{textDecoration:"none"},href:`mailto:umami-support@trili.tech?subject=Umami V2 feedback&body=${feedbackEmailBodyTemplate}`,rel:"noopener noreferrer",target:"_blank",children:"Report Error"})}),jsxRuntimeExports.jsx(Link$1,{display:"block",marginTop:"14px",color:colors.blue,fill:colors.blue,_hover:{color:colors.blueL,fill:colors.blueL},onClick:refresh,children:jsxRuntimeExports.jsxs(Center,{children:[jsxRuntimeExports.jsx(ReloadIcon,{marginRight:"7px"}),jsxRuntimeExports.jsx(Heading,{display:"inline",lineHeight:"22px",size:"md",children:"Refresh"})]})})]})})}),_]})},queryClient=new QueryClient,ReactQueryProvider=({children:_})=>jsxRuntimeExports.jsx(QueryClientProvider,{client:queryClient,children:_}),ReduxStore=_=>jsxRuntimeExports.jsx(Provider_default,{store,children:_.children}),baseCircle={borderRadius:"full",bg:colors.gray[600],_disabled:{bg:colors.gray[700],color:colors.gray[450]},_hover:{color:colors.green,bg:colors.gray[500],_disabled:{bg:colors.gray[700],color:colors.gray[450]}}},buttonTheme={sizes:{md:{height:"38px",fontSize:"14px",minWidth:"38px"},lg:{height:"48px",fontSize:"16px",minWidth:"48px"}},variants:{primary:{bg:colors.blue,_disabled:{bg:colors.gray[500],color:colors.gray[450],opacity:1},_hover:{_disabled:{bg:colors.gray[500],color:colors.gray[450],opacity:1},bg:colors.blueL}},secondary:{border:"1px solid",borderColor:colors.green,_disabled:{color:colors.gray[450],borderColor:colors.gray[500],opacity:1},_hover:{bg:colors.green,_disabled:{color:colors.gray[450],borderColor:colors.gray[500],opacity:1}}},tertiary:{bg:"transparent",border:"1px solid",borderColor:colors.gray[500],_disabled:{color:colors.gray[450],opacity:1},_hover:{border:"1px solid",borderColor:colors.gray[600],bg:colors.gray[600],_disabled:{borderColor:colors.gray[500],color:colors.gray[450],opacity:1}}},warning:{bg:colors.orange,_disabled:{bg:colors.gray[500],color:colors.gray[450],opacity:1},_hover:{bg:colors.orangeL,_disabled:{bg:colors.gray[500],color:colors.gray[450],opacity:1}}},circle_without_hover_color:{...baseCircle,_hover:{color:colors.green,_disabled:{bg:colors.gray[700],color:colors.gray[450]}}},circle_without_color:baseCircle,circle:{...baseCircle,color:colors.gray[300]},specialCTA:{color:colors.greenL,_hover:{color:colors.green}},CTAWithIcon:{padding:"8px 7px",color:colors.gray[300],_hover:{color:colors.green},_disabled:{color:colors.gray[450]}},popover:{color:colors.gray[300],stroke:colors.gray[450],width:"100%",padding:0,height:"24px",justifyContent:"end",_hover:{color:colors.green,stroke:colors.green}},socialLogin:{width:"48px",height:"48px",background:"white",borderWidth:"0",borderRadius:"full",_loading:{color:"white",background:colors.gray[600],_hover:{background:colors.gray[600]}},_hover:{color:"white",background:colors.gray[600]}}},defaultProps:{variant:"primary",size:"md"}},{definePartsStyle:definePartsStyle$6,defineMultiStyleConfig:defineMultiStyleConfig$6}=createMultiStyleConfigHelpers(checkboxAnatomy.keys),baseStyle$3=definePartsStyle$6({icon:{color:"white"},control:{marginTop:"-20px",width:"20px",height:"20px",borderWidth:"2px",borderColor:colors.gray[400],borderRadius:"2px",_checked:{borderColor:colors.green,bg:colors.green,color:colors.white,_hover:{bg:colors.green,borderColor:colors.green}}}}),checkboxTheme=defineMultiStyleConfig$6({baseStyle:baseStyle$3}),{definePartsStyle:definePartsStyle$5,defineMultiStyleConfig:defineMultiStyleConfig$5}=createMultiStyleConfigHelpers(drawerAnatomy.keys),baseStyle$2=definePartsStyle$5(_=>({body:{padding:"18px 30px 30px 30px",borderLeft:`1px solid ${colors.gray[800]}`},dialog:{bg:colors.gray[900]}})),drawerTheme=defineMultiStyleConfig$5({baseStyle:baseStyle$2,sizes:{md:{dialog:{maxW:"594px"}}},defaultProps:{size:"md"}}),{definePartsStyle:definePartsStyle$4,defineMultiStyleConfig:defineMultiStyleConfig$4}=createMultiStyleConfigHelpers(listAnatomy.keys),onboardingNoticeStyle=definePartsStyle$4({item:{"&::marker":{color:colors.gray[400]}}}),suggestionsStyle=definePartsStyle$4({item:{_hover:{background:colors.gray[500]},background:colors.gray[700],borderRadius:"4px",cursor:"pointer",height:"28px",listStyleType:"none"},container:{background:colors.gray[700],border:"1px solid",borderColor:colors.gray[500],borderRadius:"8px",listStyleType:"none",marginLeft:"0 !important",overflowX:"hidden",padding:"10px",position:"absolute",width:"100%",zIndex:2,maxHeight:"130px"}}),listTheme=defineMultiStyleConfig$4({variants:{onboardingNotice:onboardingNoticeStyle,suggestions:suggestionsStyle}}),{definePartsStyle:definePartsStyle$3,defineMultiStyleConfig:defineMultiStyleConfig$3}=createMultiStyleConfigHelpers(modalAnatomy.keys),modalButtonBaseStyle={top:"10px",position:"absolute",color:colors.gray[400],borderRadius:"18px"},closeButtonStyle={...modalButtonBaseStyle,insetEnd:"10px"},backButtonStyle={...modalButtonBaseStyle,insetStart:"10px"},baseStyle$1=definePartsStyle$3({dialog:{padding:"40px",_dark:{bg:colors.gray[900],border:"1px solid",borderColor:colors.gray[700],borderRadius:"8px"}},overlay:{_dark:{bg:"rgba(0, 0, 0, 0.85)"}},closeButton:closeButtonStyle,body:{padding:0},footer:{padding:"32px 0 0 0"},header:{padding:0}}),modalTheme=defineMultiStyleConfig$3({baseStyle:baseStyle$1,sizes:{md:{dialog:{maxW:"482px"}}}}),{definePartsStyle:definePartsStyle$2,defineMultiStyleConfig:defineMultiStyleConfig$2}=createMultiStyleConfigHelpers(radioAnatomy.keys),primary=definePartsStyle$2({control:{height:"16px",width:"16px",_dark:{borderColor:colors.gray[400]},_checked:{backgroundColor:colors.green,borderColor:colors.green,border:"none",color:"white"}}}),radioTheme=defineMultiStyleConfig$2({variants:{primary}}),{definePartsStyle:definePartsStyle$1,defineMultiStyleConfig:defineMultiStyleConfig$1}=createMultiStyleConfigHelpers(switchAnatomy.keys),danger=definePartsStyle$1({track:{backgroundColor:colors.gray[450],_checked:{backgroundColor:colors.orange}},thumb:{backgroundColor:"black"}}),switchTheme=defineMultiStyleConfig$1({variants:{danger}}),{definePartsStyle,defineMultiStyleConfig}=createMultiStyleConfigHelpers(tabsAnatomy.keys),baseStyle=definePartsStyle({tab:{_selected:{fontWeight:600,color:colors.white,borderColor:colors.orange,borderBottom:`2px solid ${colors.orange}`}}}),tabsTheme=defineMultiStyleConfig({baseStyle}),config$1={initialColorMode:"dark",useSystemColorMode:!1},sizes={xs:{fontSize:"12px"},sm:{fontSize:"14px"},md:{fontSize:"16px"},lg:{fontSize:"18px"},xl:{fontSize:"20px"},"2xl":{fontSize:"24px"},"3xl":{fontSize:"30px"},"4xl":{fontSize:"36px"},"5xl":{fontSize:"48px"},"6xl":{fontSize:"69px"}},theme=extendTheme({components:{Tabs:tabsTheme,Text:{baseStyle:{fontWeight:"400",fontFamily:"Inter"},sizes},Heading:{baseStyle:{fontWeight:"600",fontFamily:"Inter"},sizes},Checkbox:checkboxTheme,Input:{sizes:{md:{field:{height:"48px"}}},defaultProps:{variant:"filled"},variants:{filled:{field:{bg:colors.gray[800],border:"1px solid",borderColor:colors.gray[500],_invalid:{borderColor:colors.orange},_hover:{bg:colors.gray[800]},_focusVisible:{bg:colors.gray[800],borderColor:colors.gray[450]}}}}},Button:buttonTheme,FormLabel:{baseStyle:{fontWeight:"600",marginBottom:"12px",size:"md"},sizes},Modal:modalTheme,Drawer:drawerTheme,Radio:radioTheme,List:listTheme,Switch:switchTheme},config:config$1,colors:{umami:colors,text:{dark:colors.gray[400]}},styles:{global:{body:{bg:colors.black,color:colors.white,fontFamily:"Inter"}}}}),UmamiTheme=_=>jsxRuntimeExports.jsxs(ChakraProvider,{theme,children:[jsxRuntimeExports.jsx(ColorModeScript,{initialColorMode:theme.config.initialColorMode}),_.children]});/**
 * @remix-run/router v1.16.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$4(){return _extends$4=Object.assign?Object.assign.bind():function(_){for(var a=1;a<arguments.length;a++){var $=arguments[a];for(var j in $)Object.prototype.hasOwnProperty.call($,j)&&(_[j]=$[j])}return _},_extends$4.apply(this,arguments)}var Action;(function(_){_.Pop="POP",_.Push="PUSH",_.Replace="REPLACE"})(Action||(Action={}));const PopStateEventType="popstate";function createHashHistory(_){_===void 0&&(_={});function a(et,tt){let{pathname:rt="/",search:nt="",hash:it=""}=parsePath(et.location.hash.substr(1));return!rt.startsWith("/")&&!rt.startsWith(".")&&(rt="/"+rt),createLocation("",{pathname:rt,search:nt,hash:it},tt.state&&tt.state.usr||null,tt.state&&tt.state.key||"default")}function $(et,tt){let rt=et.document.querySelector("base"),nt="";if(rt&&rt.getAttribute("href")){let it=et.location.href,ot=it.indexOf("#");nt=ot===-1?it:it.slice(0,ot)}return nt+"#"+(typeof tt=="string"?tt:createPath(tt))}function j(et,tt){warning(et.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(tt)+")")}return getUrlBasedHistory(a,$,j,_)}function invariant(_,a){if(_===!1||_===null||typeof _>"u")throw new Error(a)}function warning(_,a){if(!_){typeof console<"u"&&console.warn(a);try{throw new Error(a)}catch{}}}function createKey(){return Math.random().toString(36).substr(2,8)}function getHistoryState(_,a){return{usr:_.state,key:_.key,idx:a}}function createLocation(_,a,$,j){return $===void 0&&($=null),_extends$4({pathname:typeof _=="string"?_:_.pathname,search:"",hash:""},typeof a=="string"?parsePath(a):a,{state:$,key:a&&a.key||j||createKey()})}function createPath(_){let{pathname:a="/",search:$="",hash:j=""}=_;return $&&$!=="?"&&(a+=$.charAt(0)==="?"?$:"?"+$),j&&j!=="#"&&(a+=j.charAt(0)==="#"?j:"#"+j),a}function parsePath(_){let a={};if(_){let $=_.indexOf("#");$>=0&&(a.hash=_.substr($),_=_.substr(0,$));let j=_.indexOf("?");j>=0&&(a.search=_.substr(j),_=_.substr(0,j)),_&&(a.pathname=_)}return a}function getUrlBasedHistory(_,a,$,j){j===void 0&&(j={});let{window:et=document.defaultView,v5Compat:tt=!1}=j,rt=et.history,nt=Action.Pop,it=null,ot=st();ot==null&&(ot=0,rt.replaceState(_extends$4({},rt.state,{idx:ot}),""));function st(){return(rt.state||{idx:null}).idx}function ct(){nt=Action.Pop;let Mt=st(),kt=Mt==null?null:Mt-ot;ot=Mt,it&&it({action:nt,location:St.location,delta:kt})}function ut(Mt,kt){nt=Action.Push;let Ct=createLocation(St.location,Mt,kt);$&&$(Ct,Mt),ot=st()+1;let Ot=getHistoryState(Ct,ot),zt=St.createHref(Ct);try{rt.pushState(Ot,"",zt)}catch(Ut){if(Ut instanceof DOMException&&Ut.name==="DataCloneError")throw Ut;et.location.assign(zt)}tt&&it&&it({action:nt,location:St.location,delta:1})}function ht(Mt,kt){nt=Action.Replace;let Ct=createLocation(St.location,Mt,kt);$&&$(Ct,Mt),ot=st();let Ot=getHistoryState(Ct,ot),zt=St.createHref(Ct);rt.replaceState(Ot,"",zt),tt&&it&&it({action:nt,location:St.location,delta:0})}function Et(Mt){let kt=et.location.origin!=="null"?et.location.origin:et.location.href,Ct=typeof Mt=="string"?Mt:createPath(Mt);return Ct=Ct.replace(/ $/,"%20"),invariant(kt,"No window.location.(origin|href) available to create URL for href: "+Ct),new URL(Ct,kt)}let St={get action(){return nt},get location(){return _(et,rt)},listen(Mt){if(it)throw new Error("A history only accepts one active listener");return et.addEventListener(PopStateEventType,ct),it=Mt,()=>{et.removeEventListener(PopStateEventType,ct),it=null}},createHref(Mt){return a(et,Mt)},createURL:Et,encodeLocation(Mt){let kt=Et(Mt);return{pathname:kt.pathname,search:kt.search,hash:kt.hash}},push:ut,replace:ht,go(Mt){return rt.go(Mt)}};return St}var ResultType;(function(_){_.data="data",_.deferred="deferred",_.redirect="redirect",_.error="error"})(ResultType||(ResultType={}));function matchRoutes(_,a,$){$===void 0&&($="/");let j=typeof a=="string"?parsePath(a):a,et=stripBasename(j.pathname||"/",$);if(et==null)return null;let tt=flattenRoutes(_);rankRouteBranches(tt);let rt=null;for(let nt=0;rt==null&&nt<tt.length;++nt){let it=decodePath(et);rt=matchRouteBranch(tt[nt],it)}return rt}function flattenRoutes(_,a,$,j){a===void 0&&(a=[]),$===void 0&&($=[]),j===void 0&&(j="");let et=(tt,rt,nt)=>{let it={relativePath:nt===void 0?tt.path||"":nt,caseSensitive:tt.caseSensitive===!0,childrenIndex:rt,route:tt};it.relativePath.startsWith("/")&&(invariant(it.relativePath.startsWith(j),'Absolute route path "'+it.relativePath+'" nested under path '+('"'+j+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),it.relativePath=it.relativePath.slice(j.length));let ot=joinPaths([j,it.relativePath]),st=$.concat(it);tt.children&&tt.children.length>0&&(invariant(tt.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+ot+'".')),flattenRoutes(tt.children,a,st,ot)),!(tt.path==null&&!tt.index)&&a.push({path:ot,score:computeScore(ot,tt.index),routesMeta:st})};return _.forEach((tt,rt)=>{var nt;if(tt.path===""||!((nt=tt.path)!=null&&nt.includes("?")))et(tt,rt);else for(let it of explodeOptionalSegments(tt.path))et(tt,rt,it)}),a}function explodeOptionalSegments(_){let a=_.split("/");if(a.length===0)return[];let[$,...j]=a,et=$.endsWith("?"),tt=$.replace(/\?$/,"");if(j.length===0)return et?[tt,""]:[tt];let rt=explodeOptionalSegments(j.join("/")),nt=[];return nt.push(...rt.map(it=>it===""?tt:[tt,it].join("/"))),et&&nt.push(...rt),nt.map(it=>_.startsWith("/")&&it===""?"/":it)}function rankRouteBranches(_){_.sort((a,$)=>a.score!==$.score?$.score-a.score:compareIndexes(a.routesMeta.map(j=>j.childrenIndex),$.routesMeta.map(j=>j.childrenIndex)))}const paramRe=/^:[\w-]+$/,dynamicSegmentValue=3,indexRouteValue=2,emptySegmentValue=1,staticSegmentValue=10,splatPenalty=-2,isSplat=_=>_==="*";function computeScore(_,a){let $=_.split("/"),j=$.length;return $.some(isSplat)&&(j+=splatPenalty),a&&(j+=indexRouteValue),$.filter(et=>!isSplat(et)).reduce((et,tt)=>et+(paramRe.test(tt)?dynamicSegmentValue:tt===""?emptySegmentValue:staticSegmentValue),j)}function compareIndexes(_,a){return _.length===a.length&&_.slice(0,-1).every((j,et)=>j===a[et])?_[_.length-1]-a[a.length-1]:0}function matchRouteBranch(_,a){let{routesMeta:$}=_,j={},et="/",tt=[];for(let rt=0;rt<$.length;++rt){let nt=$[rt],it=rt===$.length-1,ot=et==="/"?a:a.slice(et.length)||"/",st=matchPath({path:nt.relativePath,caseSensitive:nt.caseSensitive,end:it},ot);if(!st)return null;Object.assign(j,st.params);let ct=nt.route;tt.push({params:j,pathname:joinPaths([et,st.pathname]),pathnameBase:normalizePathname(joinPaths([et,st.pathnameBase])),route:ct}),st.pathnameBase!=="/"&&(et=joinPaths([et,st.pathnameBase]))}return tt}function matchPath(_,a){typeof _=="string"&&(_={path:_,caseSensitive:!1,end:!0});let[$,j]=compilePath(_.path,_.caseSensitive,_.end),et=a.match($);if(!et)return null;let tt=et[0],rt=tt.replace(/(.)\/+$/,"$1"),nt=et.slice(1);return{params:j.reduce((ot,st,ct)=>{let{paramName:ut,isOptional:ht}=st;if(ut==="*"){let St=nt[ct]||"";rt=tt.slice(0,tt.length-St.length).replace(/(.)\/+$/,"$1")}const Et=nt[ct];return ht&&!Et?ot[ut]=void 0:ot[ut]=(Et||"").replace(/%2F/g,"/"),ot},{}),pathname:tt,pathnameBase:rt,pattern:_}}function compilePath(_,a,$){a===void 0&&(a=!1),$===void 0&&($=!0),warning(_==="*"||!_.endsWith("*")||_.endsWith("/*"),'Route path "'+_+'" will be treated as if it were '+('"'+_.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+_.replace(/\*$/,"/*")+'".'));let j=[],et="^"+_.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(rt,nt,it)=>(j.push({paramName:nt,isOptional:it!=null}),it?"/?([^\\/]+)?":"/([^\\/]+)"));return _.endsWith("*")?(j.push({paramName:"*"}),et+=_==="*"||_==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):$?et+="\\/*$":_!==""&&_!=="/"&&(et+="(?:(?=\\/|$))"),[new RegExp(et,a?void 0:"i"),j]}function decodePath(_){try{return _.split("/").map(a=>decodeURIComponent(a).replace(/\//g,"%2F")).join("/")}catch(a){return warning(!1,'The URL path "'+_+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+a+").")),_}}function stripBasename(_,a){if(a==="/")return _;if(!_.toLowerCase().startsWith(a.toLowerCase()))return null;let $=a.endsWith("/")?a.length-1:a.length,j=_.charAt($);return j&&j!=="/"?null:_.slice($)||"/"}function resolvePath(_,a){a===void 0&&(a="/");let{pathname:$,search:j="",hash:et=""}=typeof _=="string"?parsePath(_):_;return{pathname:$?$.startsWith("/")?$:resolvePathname($,a):a,search:normalizeSearch(j),hash:normalizeHash(et)}}function resolvePathname(_,a){let $=a.replace(/\/+$/,"").split("/");return _.split("/").forEach(et=>{et===".."?$.length>1&&$.pop():et!=="."&&$.push(et)}),$.length>1?$.join("/"):"/"}function getInvalidPathError(_,a,$,j){return"Cannot include a '"+_+"' character in a manually specified "+("`to."+a+"` field ["+JSON.stringify(j)+"].  Please separate it out to the ")+("`to."+$+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function getPathContributingMatches(_){return _.filter((a,$)=>$===0||a.route.path&&a.route.path.length>0)}function getResolveToMatches(_,a){let $=getPathContributingMatches(_);return a?$.map((j,et)=>et===_.length-1?j.pathname:j.pathnameBase):$.map(j=>j.pathnameBase)}function resolveTo(_,a,$,j){j===void 0&&(j=!1);let et;typeof _=="string"?et=parsePath(_):(et=_extends$4({},_),invariant(!et.pathname||!et.pathname.includes("?"),getInvalidPathError("?","pathname","search",et)),invariant(!et.pathname||!et.pathname.includes("#"),getInvalidPathError("#","pathname","hash",et)),invariant(!et.search||!et.search.includes("#"),getInvalidPathError("#","search","hash",et)));let tt=_===""||et.pathname==="",rt=tt?"/":et.pathname,nt;if(rt==null)nt=$;else{let ct=a.length-1;if(!j&&rt.startsWith("..")){let ut=rt.split("/");for(;ut[0]==="..";)ut.shift(),ct-=1;et.pathname=ut.join("/")}nt=ct>=0?a[ct]:"/"}let it=resolvePath(et,nt),ot=rt&&rt!=="/"&&rt.endsWith("/"),st=(tt||rt===".")&&$.endsWith("/");return!it.pathname.endsWith("/")&&(ot||st)&&(it.pathname+="/"),it}const joinPaths=_=>_.join("/").replace(/\/\/+/g,"/"),normalizePathname=_=>_.replace(/\/+$/,"").replace(/^\/*/,"/"),normalizeSearch=_=>!_||_==="?"?"":_.startsWith("?")?_:"?"+_,normalizeHash=_=>!_||_==="#"?"":_.startsWith("#")?_:"#"+_;function isRouteErrorResponse(_){return _!=null&&typeof _.status=="number"&&typeof _.statusText=="string"&&typeof _.internal=="boolean"&&"data"in _}const validMutationMethodsArr=["post","put","patch","delete"];new Set(validMutationMethodsArr);const validRequestMethodsArr=["get",...validMutationMethodsArr];new Set(validRequestMethodsArr);/**
 * React Router v6.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$3(){return _extends$3=Object.assign?Object.assign.bind():function(_){for(var a=1;a<arguments.length;a++){var $=arguments[a];for(var j in $)Object.prototype.hasOwnProperty.call($,j)&&(_[j]=$[j])}return _},_extends$3.apply(this,arguments)}const DataRouterContext=reactExports.createContext(null),DataRouterStateContext=reactExports.createContext(null),NavigationContext=reactExports.createContext(null),LocationContext=reactExports.createContext(null),RouteContext=reactExports.createContext({outlet:null,matches:[],isDataRoute:!1}),RouteErrorContext=reactExports.createContext(null);function useHref(_,a){let{relative:$}=a===void 0?{}:a;useInRouterContext()||invariant(!1);let{basename:j,navigator:et}=reactExports.useContext(NavigationContext),{hash:tt,pathname:rt,search:nt}=useResolvedPath(_,{relative:$}),it=rt;return j!=="/"&&(it=rt==="/"?j:joinPaths([j,rt])),et.createHref({pathname:it,search:nt,hash:tt})}function useInRouterContext(){return reactExports.useContext(LocationContext)!=null}function useLocation(){return useInRouterContext()||invariant(!1),reactExports.useContext(LocationContext).location}function useIsomorphicLayoutEffect(_){reactExports.useContext(NavigationContext).static||reactExports.useLayoutEffect(_)}function useNavigate(){let{isDataRoute:_}=reactExports.useContext(RouteContext);return _?useNavigateStable():useNavigateUnstable()}function useNavigateUnstable(){useInRouterContext()||invariant(!1);let _=reactExports.useContext(DataRouterContext),{basename:a,future:$,navigator:j}=reactExports.useContext(NavigationContext),{matches:et}=reactExports.useContext(RouteContext),{pathname:tt}=useLocation(),rt=JSON.stringify(getResolveToMatches(et,$.v7_relativeSplatPath)),nt=reactExports.useRef(!1);return useIsomorphicLayoutEffect(()=>{nt.current=!0}),reactExports.useCallback(function(ot,st){if(st===void 0&&(st={}),!nt.current)return;if(typeof ot=="number"){j.go(ot);return}let ct=resolveTo(ot,JSON.parse(rt),tt,st.relative==="path");_==null&&a!=="/"&&(ct.pathname=ct.pathname==="/"?a:joinPaths([a,ct.pathname])),(st.replace?j.replace:j.push)(ct,st.state,st)},[a,j,rt,tt,_])}function useParams(){let{matches:_}=reactExports.useContext(RouteContext),a=_[_.length-1];return a?a.params:{}}function useResolvedPath(_,a){let{relative:$}=a===void 0?{}:a,{future:j}=reactExports.useContext(NavigationContext),{matches:et}=reactExports.useContext(RouteContext),{pathname:tt}=useLocation(),rt=JSON.stringify(getResolveToMatches(et,j.v7_relativeSplatPath));return reactExports.useMemo(()=>resolveTo(_,JSON.parse(rt),tt,$==="path"),[_,rt,tt,$])}function useRoutes(_,a){return useRoutesImpl(_,a)}function useRoutesImpl(_,a,$,j){useInRouterContext()||invariant(!1);let{navigator:et}=reactExports.useContext(NavigationContext),{matches:tt}=reactExports.useContext(RouteContext),rt=tt[tt.length-1],nt=rt?rt.params:{};rt&&rt.pathname;let it=rt?rt.pathnameBase:"/";rt&&rt.route;let ot=useLocation(),st;if(a){var ct;let Mt=typeof a=="string"?parsePath(a):a;it==="/"||(ct=Mt.pathname)!=null&&ct.startsWith(it)||invariant(!1),st=Mt}else st=ot;let ut=st.pathname||"/",ht=ut;if(it!=="/"){let Mt=it.replace(/^\//,"").split("/");ht="/"+ut.replace(/^\//,"").split("/").slice(Mt.length).join("/")}let Et=matchRoutes(_,{pathname:ht}),St=_renderMatches(Et&&Et.map(Mt=>Object.assign({},Mt,{params:Object.assign({},nt,Mt.params),pathname:joinPaths([it,et.encodeLocation?et.encodeLocation(Mt.pathname).pathname:Mt.pathname]),pathnameBase:Mt.pathnameBase==="/"?it:joinPaths([it,et.encodeLocation?et.encodeLocation(Mt.pathnameBase).pathname:Mt.pathnameBase])})),tt,$,j);return a&&St?reactExports.createElement(LocationContext.Provider,{value:{location:_extends$3({pathname:"/",search:"",hash:"",state:null,key:"default"},st),navigationType:Action.Pop}},St):St}function DefaultErrorComponent(){let _=useRouteError(),a=isRouteErrorResponse(_)?_.status+" "+_.statusText:_ instanceof Error?_.message:JSON.stringify(_),$=_ instanceof Error?_.stack:null,et={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("h2",null,"Unexpected Application Error!"),reactExports.createElement("h3",{style:{fontStyle:"italic"}},a),$?reactExports.createElement("pre",{style:et},$):null,null)}const defaultErrorElement=reactExports.createElement(DefaultErrorComponent,null);class RenderErrorBoundary extends reactExports.Component{constructor(a){super(a),this.state={location:a.location,revalidation:a.revalidation,error:a.error}}static getDerivedStateFromError(a){return{error:a}}static getDerivedStateFromProps(a,$){return $.location!==a.location||$.revalidation!=="idle"&&a.revalidation==="idle"?{error:a.error,location:a.location,revalidation:a.revalidation}:{error:a.error!==void 0?a.error:$.error,location:$.location,revalidation:a.revalidation||$.revalidation}}componentDidCatch(a,$){console.error("React Router caught the following error during render",a,$)}render(){return this.state.error!==void 0?reactExports.createElement(RouteContext.Provider,{value:this.props.routeContext},reactExports.createElement(RouteErrorContext.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function RenderedRoute(_){let{routeContext:a,match:$,children:j}=_,et=reactExports.useContext(DataRouterContext);return et&&et.static&&et.staticContext&&($.route.errorElement||$.route.ErrorBoundary)&&(et.staticContext._deepestRenderedBoundaryId=$.route.id),reactExports.createElement(RouteContext.Provider,{value:a},j)}function _renderMatches(_,a,$,j){var et;if(a===void 0&&(a=[]),$===void 0&&($=null),j===void 0&&(j=null),_==null){var tt;if((tt=$)!=null&&tt.errors)_=$.matches;else return null}let rt=_,nt=(et=$)==null?void 0:et.errors;if(nt!=null){let st=rt.findIndex(ct=>ct.route.id&&(nt==null?void 0:nt[ct.route.id])!==void 0);st>=0||invariant(!1),rt=rt.slice(0,Math.min(rt.length,st+1))}let it=!1,ot=-1;if($&&j&&j.v7_partialHydration)for(let st=0;st<rt.length;st++){let ct=rt[st];if((ct.route.HydrateFallback||ct.route.hydrateFallbackElement)&&(ot=st),ct.route.id){let{loaderData:ut,errors:ht}=$,Et=ct.route.loader&&ut[ct.route.id]===void 0&&(!ht||ht[ct.route.id]===void 0);if(ct.route.lazy||Et){it=!0,ot>=0?rt=rt.slice(0,ot+1):rt=[rt[0]];break}}}return rt.reduceRight((st,ct,ut)=>{let ht,Et=!1,St=null,Mt=null;$&&(ht=nt&&ct.route.id?nt[ct.route.id]:void 0,St=ct.route.errorElement||defaultErrorElement,it&&(ot<0&&ut===0?(Et=!0,Mt=null):ot===ut&&(Et=!0,Mt=ct.route.hydrateFallbackElement||null)));let kt=a.concat(rt.slice(0,ut+1)),Ct=()=>{let Ot;return ht?Ot=St:Et?Ot=Mt:ct.route.Component?Ot=reactExports.createElement(ct.route.Component,null):ct.route.element?Ot=ct.route.element:Ot=st,reactExports.createElement(RenderedRoute,{match:ct,routeContext:{outlet:st,matches:kt,isDataRoute:$!=null},children:Ot})};return $&&(ct.route.ErrorBoundary||ct.route.errorElement||ut===0)?reactExports.createElement(RenderErrorBoundary,{location:$.location,revalidation:$.revalidation,component:St,error:ht,children:Ct(),routeContext:{outlet:null,matches:kt,isDataRoute:!0}}):Ct()},null)}var DataRouterHook$1=function(_){return _.UseBlocker="useBlocker",_.UseRevalidator="useRevalidator",_.UseNavigateStable="useNavigate",_}(DataRouterHook$1||{}),DataRouterStateHook$1=function(_){return _.UseBlocker="useBlocker",_.UseLoaderData="useLoaderData",_.UseActionData="useActionData",_.UseRouteError="useRouteError",_.UseNavigation="useNavigation",_.UseRouteLoaderData="useRouteLoaderData",_.UseMatches="useMatches",_.UseRevalidator="useRevalidator",_.UseNavigateStable="useNavigate",_.UseRouteId="useRouteId",_}(DataRouterStateHook$1||{});function useDataRouterContext(_){let a=reactExports.useContext(DataRouterContext);return a||invariant(!1),a}function useDataRouterState(_){let a=reactExports.useContext(DataRouterStateContext);return a||invariant(!1),a}function useRouteContext(_){let a=reactExports.useContext(RouteContext);return a||invariant(!1),a}function useCurrentRouteId(_){let a=useRouteContext(),$=a.matches[a.matches.length-1];return $.route.id||invariant(!1),$.route.id}function useRouteError(){var _;let a=reactExports.useContext(RouteErrorContext),$=useDataRouterState(DataRouterStateHook$1.UseRouteError),j=useCurrentRouteId(DataRouterStateHook$1.UseRouteError);return a!==void 0?a:(_=$.errors)==null?void 0:_[j]}function useNavigateStable(){let{router:_}=useDataRouterContext(DataRouterHook$1.UseNavigateStable),a=useCurrentRouteId(DataRouterStateHook$1.UseNavigateStable),$=reactExports.useRef(!1);return useIsomorphicLayoutEffect(()=>{$.current=!0}),reactExports.useCallback(function(et,tt){tt===void 0&&(tt={}),$.current&&(typeof et=="number"?_.navigate(et):_.navigate(et,_extends$3({fromRouteId:a},tt)))},[_,a])}function Navigate(_){let{to:a,replace:$,state:j,relative:et}=_;useInRouterContext()||invariant(!1);let{future:tt,static:rt}=reactExports.useContext(NavigationContext),{matches:nt}=reactExports.useContext(RouteContext),{pathname:it}=useLocation(),ot=useNavigate(),st=resolveTo(a,getResolveToMatches(nt,tt.v7_relativeSplatPath),it,et==="path"),ct=JSON.stringify(st);return reactExports.useEffect(()=>ot(JSON.parse(ct),{replace:$,state:j,relative:et}),[ot,ct,et,$,j]),null}function Route(_){invariant(!1)}function Router$1(_){let{basename:a="/",children:$=null,location:j,navigationType:et=Action.Pop,navigator:tt,static:rt=!1,future:nt}=_;useInRouterContext()&&invariant(!1);let it=a.replace(/^\/*/,"/"),ot=reactExports.useMemo(()=>({basename:it,navigator:tt,static:rt,future:_extends$3({v7_relativeSplatPath:!1},nt)}),[it,nt,tt,rt]);typeof j=="string"&&(j=parsePath(j));let{pathname:st="/",search:ct="",hash:ut="",state:ht=null,key:Et="default"}=j,St=reactExports.useMemo(()=>{let Mt=stripBasename(st,it);return Mt==null?null:{location:{pathname:Mt,search:ct,hash:ut,state:ht,key:Et},navigationType:et}},[it,st,ct,ut,ht,Et,et]);return St==null?null:reactExports.createElement(NavigationContext.Provider,{value:ot},reactExports.createElement(LocationContext.Provider,{children:$,value:St}))}function Routes(_){let{children:a,location:$}=_;return useRoutes(createRoutesFromChildren(a),$)}new Promise(()=>{});function createRoutesFromChildren(_,a){a===void 0&&(a=[]);let $=[];return reactExports.Children.forEach(_,(j,et)=>{if(!reactExports.isValidElement(j))return;let tt=[...a,et];if(j.type===reactExports.Fragment){$.push.apply($,createRoutesFromChildren(j.props.children,tt));return}j.type!==Route&&invariant(!1),!j.props.index||!j.props.children||invariant(!1);let rt={id:j.props.id||tt.join("-"),caseSensitive:j.props.caseSensitive,element:j.props.element,Component:j.props.Component,index:j.props.index,path:j.props.path,loader:j.props.loader,action:j.props.action,errorElement:j.props.errorElement,ErrorBoundary:j.props.ErrorBoundary,hasErrorBoundary:j.props.ErrorBoundary!=null||j.props.errorElement!=null,shouldRevalidate:j.props.shouldRevalidate,handle:j.props.handle,lazy:j.props.lazy};j.props.children&&(rt.children=createRoutesFromChildren(j.props.children,tt)),$.push(rt)}),$}/**
 * React Router DOM v6.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$2(){return _extends$2=Object.assign?Object.assign.bind():function(_){for(var a=1;a<arguments.length;a++){var $=arguments[a];for(var j in $)Object.prototype.hasOwnProperty.call($,j)&&(_[j]=$[j])}return _},_extends$2.apply(this,arguments)}function _objectWithoutPropertiesLoose$1(_,a){if(_==null)return{};var $={},j=Object.keys(_),et,tt;for(tt=0;tt<j.length;tt++)et=j[tt],!(a.indexOf(et)>=0)&&($[et]=_[et]);return $}function isModifiedEvent(_){return!!(_.metaKey||_.altKey||_.ctrlKey||_.shiftKey)}function shouldProcessLinkClick(_,a){return _.button===0&&(!a||a==="_self")&&!isModifiedEvent(_)}function createSearchParams(_){return _===void 0&&(_=""),new URLSearchParams(typeof _=="string"||Array.isArray(_)||_ instanceof URLSearchParams?_:Object.keys(_).reduce((a,$)=>{let j=_[$];return a.concat(Array.isArray(j)?j.map(et=>[$,et]):[[$,j]])},[]))}function getSearchParamsForLocation(_,a){let $=createSearchParams(_);return a&&a.forEach((j,et)=>{$.has(et)||a.getAll(et).forEach(tt=>{$.append(et,tt)})}),$}const _excluded$3=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],REACT_ROUTER_VERSION="6";try{window.__reactRouterVersion=REACT_ROUTER_VERSION}catch(_){}const START_TRANSITION="startTransition",startTransitionImpl=React$3[START_TRANSITION];function HashRouter(_){let{basename:a,children:$,future:j,window:et}=_,tt=reactExports.useRef();tt.current==null&&(tt.current=createHashHistory({window:et,v5Compat:!0}));let rt=tt.current,[nt,it]=reactExports.useState({action:rt.action,location:rt.location}),{v7_startTransition:ot}=j||{},st=reactExports.useCallback(ct=>{ot&&startTransitionImpl?startTransitionImpl(()=>it(ct)):it(ct)},[it,ot]);return reactExports.useLayoutEffect(()=>rt.listen(st),[rt,st]),reactExports.createElement(Router$1,{basename:a,children:$,location:nt.location,navigationType:nt.action,navigator:rt,future:j})}const isBrowser=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ABSOLUTE_URL_REGEX=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Link=reactExports.forwardRef(function _(a,$){let{onClick:j,relative:et,reloadDocument:tt,replace:rt,state:nt,target:it,to:ot,preventScrollReset:st,unstable_viewTransition:ct}=a,ut=_objectWithoutPropertiesLoose$1(a,_excluded$3),{basename:ht}=reactExports.useContext(NavigationContext),Et,St=!1;if(typeof ot=="string"&&ABSOLUTE_URL_REGEX.test(ot)&&(Et=ot,isBrowser))try{let Ot=new URL(window.location.href),zt=ot.startsWith("//")?new URL(Ot.protocol+ot):new URL(ot),Ut=stripBasename(zt.pathname,ht);zt.origin===Ot.origin&&Ut!=null?ot=Ut+zt.search+zt.hash:St=!0}catch{}let Mt=useHref(ot,{relative:et}),kt=useLinkClickHandler(ot,{replace:rt,state:nt,target:it,preventScrollReset:st,relative:et,unstable_viewTransition:ct});function Ct(Ot){j&&j(Ot),Ot.defaultPrevented||kt(Ot)}return reactExports.createElement("a",_extends$2({},ut,{href:Et||Mt,onClick:St||tt?j:Ct,ref:$,target:it}))});var DataRouterHook;(function(_){_.UseScrollRestoration="useScrollRestoration",_.UseSubmit="useSubmit",_.UseSubmitFetcher="useSubmitFetcher",_.UseFetcher="useFetcher",_.useViewTransitionState="useViewTransitionState"})(DataRouterHook||(DataRouterHook={}));var DataRouterStateHook;(function(_){_.UseFetcher="useFetcher",_.UseFetchers="useFetchers",_.UseScrollRestoration="useScrollRestoration"})(DataRouterStateHook||(DataRouterStateHook={}));function useLinkClickHandler(_,a){let{target:$,replace:j,state:et,preventScrollReset:tt,relative:rt,unstable_viewTransition:nt}=a===void 0?{}:a,it=useNavigate(),ot=useLocation(),st=useResolvedPath(_,{relative:rt});return reactExports.useCallback(ct=>{if(shouldProcessLinkClick(ct,$)){ct.preventDefault();let ut=j!==void 0?j:createPath(ot)===createPath(st);it(_,{replace:ut,state:et,preventScrollReset:tt,relative:rt,unstable_viewTransition:nt})}},[ot,it,st,j,et,$,_,tt,rt,nt])}function useSearchParams(_){let a=reactExports.useRef(createSearchParams(_)),$=reactExports.useRef(!1),j=useLocation(),et=reactExports.useMemo(()=>getSearchParamsForLocation(j.search,$.current?null:a.current),[j.search]),tt=useNavigate(),rt=reactExports.useCallback((nt,it)=>{const ot=createSearchParams(typeof nt=="function"?nt(et):nt);$.current=!0,tt("?"+ot,it)},[tt,et]);return[et,rt]}const ANNOUNCEMENT_REFRESH_INTERVAL=60*60*1e3,ANNOUNCEMENT_FILE_URL="https://storage.googleapis.com/umami-artifacts/announcement.html",AnnouncementBanner=()=>{const{html:_,seen:a}=useAppSelector(j=>j.announcement),$=useAppDispatch();return reactExports.useEffect(()=>{const j=()=>{axios.get(ANNOUNCEMENT_FILE_URL).then(tt=>{$(announcementSlice.actions.setCurrent(tt.data))}).catch(tt=>{})};j();const et=setInterval(j,ANNOUNCEMENT_REFRESH_INTERVAL);return()=>clearInterval(et)},[$]),a||!_?null:jsxRuntimeExports.jsx(Alert,{className:"announcement-banner",color:"black",background:colors.orangeL,"data-testid":"announcement",paddingX:"30px",children:jsxRuntimeExports.jsxs(Flex,{justifyContent:"space-between",width:"100%",children:[jsxRuntimeExports.jsxs(Center,{children:[jsxRuntimeExports.jsx(MaintenanceIcon,{marginRight:"4px"}),jsxRuntimeExports.jsx(AlertDescription,{fontSize:"14px",dangerouslySetInnerHTML:{__html:_}})]}),jsxRuntimeExports.jsx(CloseButton,{"data-testid":"close",onClick:()=>$(announcementSlice.actions.setSeen())})]})})},DynamicModalContext=reactExports.createContext({openWith:_=>Promise.resolve(),onClose:()=>{},isOpen:!1}),useDynamicModal=()=>{const{isOpen:_,onClose:a,onOpen:$}=useDisclosure$1(),[j,et]=reactExports.useState(null),[tt,rt]=reactExports.useState("md");return{isOpen:_,onClose:a,openWith:async(it,ot="md")=>(rt(ot),et(it),$(),Promise.resolve()),content:jsxRuntimeExports.jsxs(Modal,{autoFocus:!1,blockScrollOnMount:!1,closeOnOverlayClick:!1,isCentered:!0,isOpen:_,motionPreset:localStorage.getItem("chakra-modal-motion-preset")||void 0,onClose:a,size:tt,children:[jsxRuntimeExports.jsx(ModalOverlay,{}),jsxRuntimeExports.jsx(ReactRemoveScroll,{enabled:_,children:j})]})}},JsValueWrap=({value:_,space:a=2,...$})=>jsxRuntimeExports.jsx(Card,{background:colors.gray[700],borderRadius:"5px",...$,children:jsxRuntimeExports.jsx(CardBody,{children:jsxRuntimeExports.jsx("pre",{style:{whiteSpace:"pre-wrap",fontSize:"12px",lineHeight:"18px"},children:JSON.stringify(_,null,a)})})}),getSuggestions=(_,a)=>a.filter($=>!_.trim()||$.name.toLowerCase().includes(_.trim().toLowerCase()));var md5$1={exports:{}},crypt={exports:{}};(function(){var _="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a={rotl:function($,j){return $<<j|$>>>32-j},rotr:function($,j){return $<<32-j|$>>>j},endian:function($){if($.constructor==Number)return a.rotl($,8)&16711935|a.rotl($,24)&4278255360;for(var j=0;j<$.length;j++)$[j]=a.endian($[j]);return $},randomBytes:function($){for(var j=[];$>0;$--)j.push(Math.floor(Math.random()*256));return j},bytesToWords:function($){for(var j=[],et=0,tt=0;et<$.length;et++,tt+=8)j[tt>>>5]|=$[et]<<24-tt%32;return j},wordsToBytes:function($){for(var j=[],et=0;et<$.length*32;et+=8)j.push($[et>>>5]>>>24-et%32&255);return j},bytesToHex:function($){for(var j=[],et=0;et<$.length;et++)j.push(($[et]>>>4).toString(16)),j.push(($[et]&15).toString(16));return j.join("")},hexToBytes:function($){for(var j=[],et=0;et<$.length;et+=2)j.push(parseInt($.substr(et,2),16));return j},bytesToBase64:function($){for(var j=[],et=0;et<$.length;et+=3)for(var tt=$[et]<<16|$[et+1]<<8|$[et+2],rt=0;rt<4;rt++)et*8+rt*6<=$.length*8?j.push(_.charAt(tt>>>6*(3-rt)&63)):j.push("=");return j.join("")},base64ToBytes:function($){$=$.replace(/[^A-Z0-9+\/]/ig,"");for(var j=[],et=0,tt=0;et<$.length;tt=++et%4)tt!=0&&j.push((_.indexOf($.charAt(et-1))&Math.pow(2,-2*tt+8)-1)<<tt*2|_.indexOf($.charAt(et))>>>6-tt*2);return j}};crypt.exports=a})();var cryptExports=crypt.exports,charenc={utf8:{stringToBytes:function(_){return charenc.bin.stringToBytes(unescape(encodeURIComponent(_)))},bytesToString:function(_){return decodeURIComponent(escape(charenc.bin.bytesToString(_)))}},bin:{stringToBytes:function(_){for(var a=[],$=0;$<_.length;$++)a.push(_.charCodeAt($)&255);return a},bytesToString:function(_){for(var a=[],$=0;$<_.length;$++)a.push(String.fromCharCode(_[$]));return a.join("")}}},charenc_1=charenc;/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var isBuffer_1=function(_){return _!=null&&(isBuffer(_)||isSlowBuffer(_)||!!_._isBuffer)};function isBuffer(_){return!!_.constructor&&typeof _.constructor.isBuffer=="function"&&_.constructor.isBuffer(_)}function isSlowBuffer(_){return typeof _.readFloatLE=="function"&&typeof _.slice=="function"&&isBuffer(_.slice(0,0))}(function(){var _=cryptExports,a=charenc_1.utf8,$=isBuffer_1,j=charenc_1.bin,et=function(tt,rt){tt.constructor==String?rt&&rt.encoding==="binary"?tt=j.stringToBytes(tt):tt=a.stringToBytes(tt):$(tt)?tt=Array.prototype.slice.call(tt,0):!Array.isArray(tt)&&tt.constructor!==Uint8Array&&(tt=tt.toString());for(var nt=_.bytesToWords(tt),it=tt.length*8,ot=1732584193,st=-271733879,ct=-1732584194,ut=271733878,ht=0;ht<nt.length;ht++)nt[ht]=(nt[ht]<<8|nt[ht]>>>24)&16711935|(nt[ht]<<24|nt[ht]>>>8)&4278255360;nt[it>>>5]|=128<<it%32,nt[(it+64>>>9<<4)+14]=it;for(var Et=et._ff,St=et._gg,Mt=et._hh,kt=et._ii,ht=0;ht<nt.length;ht+=16){var Ct=ot,Ot=st,zt=ct,Ut=ut;ot=Et(ot,st,ct,ut,nt[ht+0],7,-680876936),ut=Et(ut,ot,st,ct,nt[ht+1],12,-389564586),ct=Et(ct,ut,ot,st,nt[ht+2],17,606105819),st=Et(st,ct,ut,ot,nt[ht+3],22,-1044525330),ot=Et(ot,st,ct,ut,nt[ht+4],7,-176418897),ut=Et(ut,ot,st,ct,nt[ht+5],12,1200080426),ct=Et(ct,ut,ot,st,nt[ht+6],17,-1473231341),st=Et(st,ct,ut,ot,nt[ht+7],22,-45705983),ot=Et(ot,st,ct,ut,nt[ht+8],7,1770035416),ut=Et(ut,ot,st,ct,nt[ht+9],12,-1958414417),ct=Et(ct,ut,ot,st,nt[ht+10],17,-42063),st=Et(st,ct,ut,ot,nt[ht+11],22,-1990404162),ot=Et(ot,st,ct,ut,nt[ht+12],7,1804603682),ut=Et(ut,ot,st,ct,nt[ht+13],12,-40341101),ct=Et(ct,ut,ot,st,nt[ht+14],17,-1502002290),st=Et(st,ct,ut,ot,nt[ht+15],22,1236535329),ot=St(ot,st,ct,ut,nt[ht+1],5,-165796510),ut=St(ut,ot,st,ct,nt[ht+6],9,-1069501632),ct=St(ct,ut,ot,st,nt[ht+11],14,643717713),st=St(st,ct,ut,ot,nt[ht+0],20,-373897302),ot=St(ot,st,ct,ut,nt[ht+5],5,-701558691),ut=St(ut,ot,st,ct,nt[ht+10],9,38016083),ct=St(ct,ut,ot,st,nt[ht+15],14,-660478335),st=St(st,ct,ut,ot,nt[ht+4],20,-405537848),ot=St(ot,st,ct,ut,nt[ht+9],5,568446438),ut=St(ut,ot,st,ct,nt[ht+14],9,-1019803690),ct=St(ct,ut,ot,st,nt[ht+3],14,-187363961),st=St(st,ct,ut,ot,nt[ht+8],20,1163531501),ot=St(ot,st,ct,ut,nt[ht+13],5,-1444681467),ut=St(ut,ot,st,ct,nt[ht+2],9,-51403784),ct=St(ct,ut,ot,st,nt[ht+7],14,1735328473),st=St(st,ct,ut,ot,nt[ht+12],20,-1926607734),ot=Mt(ot,st,ct,ut,nt[ht+5],4,-378558),ut=Mt(ut,ot,st,ct,nt[ht+8],11,-2022574463),ct=Mt(ct,ut,ot,st,nt[ht+11],16,1839030562),st=Mt(st,ct,ut,ot,nt[ht+14],23,-35309556),ot=Mt(ot,st,ct,ut,nt[ht+1],4,-1530992060),ut=Mt(ut,ot,st,ct,nt[ht+4],11,1272893353),ct=Mt(ct,ut,ot,st,nt[ht+7],16,-155497632),st=Mt(st,ct,ut,ot,nt[ht+10],23,-1094730640),ot=Mt(ot,st,ct,ut,nt[ht+13],4,681279174),ut=Mt(ut,ot,st,ct,nt[ht+0],11,-358537222),ct=Mt(ct,ut,ot,st,nt[ht+3],16,-722521979),st=Mt(st,ct,ut,ot,nt[ht+6],23,76029189),ot=Mt(ot,st,ct,ut,nt[ht+9],4,-640364487),ut=Mt(ut,ot,st,ct,nt[ht+12],11,-421815835),ct=Mt(ct,ut,ot,st,nt[ht+15],16,530742520),st=Mt(st,ct,ut,ot,nt[ht+2],23,-995338651),ot=kt(ot,st,ct,ut,nt[ht+0],6,-198630844),ut=kt(ut,ot,st,ct,nt[ht+7],10,1126891415),ct=kt(ct,ut,ot,st,nt[ht+14],15,-1416354905),st=kt(st,ct,ut,ot,nt[ht+5],21,-57434055),ot=kt(ot,st,ct,ut,nt[ht+12],6,1700485571),ut=kt(ut,ot,st,ct,nt[ht+3],10,-1894986606),ct=kt(ct,ut,ot,st,nt[ht+10],15,-1051523),st=kt(st,ct,ut,ot,nt[ht+1],21,-2054922799),ot=kt(ot,st,ct,ut,nt[ht+8],6,1873313359),ut=kt(ut,ot,st,ct,nt[ht+15],10,-30611744),ct=kt(ct,ut,ot,st,nt[ht+6],15,-1560198380),st=kt(st,ct,ut,ot,nt[ht+13],21,1309151649),ot=kt(ot,st,ct,ut,nt[ht+4],6,-145523070),ut=kt(ut,ot,st,ct,nt[ht+11],10,-1120210379),ct=kt(ct,ut,ot,st,nt[ht+2],15,718787259),st=kt(st,ct,ut,ot,nt[ht+9],21,-343485551),ot=ot+Ct>>>0,st=st+Ot>>>0,ct=ct+zt>>>0,ut=ut+Ut>>>0}return _.endian([ot,st,ct,ut])};et._ff=function(tt,rt,nt,it,ot,st,ct){var ut=tt+(rt&nt|~rt&it)+(ot>>>0)+ct;return(ut<<st|ut>>>32-st)+rt},et._gg=function(tt,rt,nt,it,ot,st,ct){var ut=tt+(rt&it|nt&~it)+(ot>>>0)+ct;return(ut<<st|ut>>>32-st)+rt},et._hh=function(tt,rt,nt,it,ot,st,ct){var ut=tt+(rt^nt^it)+(ot>>>0)+ct;return(ut<<st|ut>>>32-st)+rt},et._ii=function(tt,rt,nt,it,ot,st,ct){var ut=tt+(nt^(rt|~it))+(ot>>>0)+ct;return(ut<<st|ut>>>32-st)+rt},et._blocksize=16,et._digestsize=16,md5$1.exports=function(tt,rt){if(tt==null)throw new Error("Illegal argument "+tt);var nt=_.wordsToBytes(et(tt,rt));return rt&&rt.asBytes?nt:rt&&rt.asString?j.bytesToString(nt):_.bytesToHex(nt)}})();var md5Exports=md5$1.exports;const md5=getDefaultExportFromCjs$1(md5Exports),ReactIdenticon=React$2.memo(({count:_=5,background:a,string:$,size:j})=>{const et=reactExports.useRef(null);reactExports.useEffect(()=>{tt()});const tt=()=>{const rt=md5($),nt=Math.floor(j/_),it=rt.slice(0,6),ot=et.current;ot.width=nt*_,ot.height=nt*_;const st=rt.split("").map(ht=>parseInt(ht,16)).map(ht=>ht<8?0:1),ct=[];ct[0]=ct[4]=st.slice(0,5),ct[1]=ct[3]=st.slice(5,10),ct[2]=st.slice(10,15);const ut=ot.getContext("2d");ut.imageSmoothingEnabled=!1,ut.clearRect(0,0,ot.width,ot.height),ct.forEach((ht,Et)=>{ht.forEach((St,Mt)=>{St?(ut.fillStyle="#"+it,ut.fillRect(nt*Et,nt*Mt,nt,nt)):(ut.fillStyle=a,ut.fillRect(nt*Et,nt*Mt,nt,nt))})})};return jsxRuntimeExports.jsx("canvas",{ref:et,style:{width:j,height:j}})}),color=_=>`#${md5(_).slice(0,6)}`,Identicon=({address:_,identiconSize:a,...$})=>jsxRuntimeExports.jsx(Box,{sx:{canvas:{borderRadius:"4px"}},zIndex:3,background:"white",borderRadius:"4px","data-testid":"identicon",...$,children:jsxRuntimeExports.jsx(ReactIdenticon,{background:"white",size:a,string:_.pkh,style:{borderRadius:4}})}),SIZES$1={lg:{defaults:{width:"48px",height:"48px",borderRadius:"4px"},mnemonic:{padding:"8px",identiconSize:32},ledger:{padding:"10px"},secret_key:{padding:"8px",identiconSize:32},multisig:{padding:"10px"},social:{google:{paddingX:"10.28px",paddingY:"10px"},facebook:{padding:"9px"},twitter:{paddingX:"12.78px",paddingY:"13.5px"},reddit:{padding:"10px"},email:{padding:"10px"}}},sm:{defaults:{width:"30px",height:"30px",borderRadius:"4px"},mnemonic:{padding:"5px",identiconSize:20},ledger:{padding:"5px"},secret_key:{padding:"5px",identiconSize:20},multisig:{padding:"5px"},social:{google:{paddingX:"6.425px",paddingY:"6.25px"},facebook:{padding:"6px"},twitter:{paddingX:"7.5px",paddingY:"8px"},reddit:{padding:"6px"},email:{padding:"6px"}}}},AccountTileIcon=reactExports.memo(({account:_,size:a})=>{const $=SIZES$1[a],j=$.defaults;switch(_.type){case"secret_key":return jsxRuntimeExports.jsx(Identicon,{address:_.address,...j,...$.secret_key});case"mnemonic":return jsxRuntimeExports.jsx(Identicon,{address:_.address,...j,...$.mnemonic});case"ledger":return jsxRuntimeExports.jsx(LedgerIcon,{...j,...$.ledger,background:colors.gray[500]});case"multisig":return jsxRuntimeExports.jsx(KeyIcon,{...j,...$.multisig,stroke:colors.gray[400],background:colors.gray[500]});case"social":switch(_.idp){case"google":return jsxRuntimeExports.jsx(GoogleIcon,{...j,...$.social.google,background:"white"});case"facebook":return jsxRuntimeExports.jsx(FacebookIcon,{...j,...$.social.facebook,background:"white"});case"twitter":return jsxRuntimeExports.jsx(TwitterIcon,{...j,...$.social.twitter,background:"white"});case"reddit":return jsxRuntimeExports.jsx(RedditIcon,{...j,...$.social.reddit,background:"white"});case"email":return jsxRuntimeExports.jsx(EmailIcon,{...j,...$.social.email,color:"black",background:"white"})}}}),baseIconProps={stroke:colors.gray[400],borderRadius:"4px",background:colors.gray[500]},AddressTileIcon=reactExports.memo(({addressKind:_,size:a})=>{const j=useGetOwnedAccountSafe()(_.pkh);if(j)return jsxRuntimeExports.jsx(AccountTileIcon,{account:j,size:a});let et,tt;switch(a){case"sm":et="30px",tt="5px";break;case"lg":et="48px",tt="10px"}switch(_.type){case"contact":return jsxRuntimeExports.jsx(ContactIcon,{width:et,height:et,padding:tt,...baseIconProps});case"unknown":return jsxRuntimeExports.jsx(UnknownContactIcon,{width:et,height:et,padding:tt,...baseIconProps});case"baker":return jsxRuntimeExports.jsx(Image$1,{height:et,"data-testid":"baker-icon",src:`https://services.tzkt.io/v1/avatars/${_.pkh}`});case"secret_key":case"mnemonic":case"social":case"ledger":case"multisig":return null}}),useAddressKind$1=_=>{const a=useOwnedAccountAddressKind$1(_),$=useBakerAddressKind(_),j=useContactAddressKind(_);return a||$||j||{pkh:_.pkh,type:"unknown",label:null}},useOwnedAccountAddressKind$1=({pkh:_})=>{const $=useGetOwnedAccountSafe()(_);return $?{type:$.type,pkh:_,label:$.label}:null},useBakerAddressKind=({pkh:_})=>{const $=useGetBaker()(_);return $?{pkh:_,type:"baker",label:$.name}:null},useContactAddressKind=({pkh:_})=>{const $=useGetContactName()(_);return $?{pkh:_,type:"contact",label:$}:null},splitNumber=_=>{const[a,$]=_.split(".");return{integer:a,decimal:$}},PrettyNumber=({number:_,size:a="md",...$})=>{const j=a==="md"?"md":"lg",et=a==="md"?"sm":"md",{integer:tt,decimal:rt}=splitNumber(_);return jsxRuntimeExports.jsxs(Flex,{alignItems:"end","data-testid":"pretty-number",...$,children:[jsxRuntimeExports.jsx(Heading,{size:j,children:tt}),rt&&jsxRuntimeExports.jsxs(Heading,{overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",size:et,children:[".",rt]})]})},AccountBalance=({address:_,size:a,numberProps:$,...j})=>{const tt=useGetAccountBalance()(_);if(!tt)return null;const rt=prettyTezAmount(tt);return jsxRuntimeExports.jsx(Box,{overflow:"hidden",textAlign:"right","data-testid":"account-balance",...j,children:jsxRuntimeExports.jsx(PrettyNumber,{number:rt,size:a,...$})})},AddressTile=({address:_,hideBalance:a=!1,...$})=>{const j=useAddressKind$1(_);return jsxRuntimeExports.jsx(Tooltip,{background:colors.white,hasArrow:!0,label:j.label,placement:"left",children:jsxRuntimeExports.jsxs(Flex,{alignItems:"center",justifyContent:"space-between",width:"100%",padding:"9px 10px",background:colors.gray[800],borderRadius:"4px","data-testid":"address-tile",...$,children:[jsxRuntimeExports.jsxs(Flex,{alignItems:"center",width:a?"100%":"calc(100% - 95px)",children:[jsxRuntimeExports.jsx(AddressTileIcon,{addressKind:j,size:"sm"}),j.type==="unknown"?jsxRuntimeExports.jsx(Text,{marginLeft:"10px",color:colors.gray[300],size:"sm",children:_.pkh}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Box,{overflow:"hidden",width:"100%",marginLeft:"10px",whiteSpace:"nowrap",children:jsxRuntimeExports.jsx(Heading,{overflow:"hidden",textOverflow:"ellipsis",size:"sm",children:j.label})}),jsxRuntimeExports.jsx(Text,{width:"89px",marginLeft:"10px",color:colors.gray[300],size:"xs",children:formatPkh(j.pkh)})]})]}),!a&&jsxRuntimeExports.jsx(AccountBalance,{overflow:"hidden",marginLeft:"10px",textAlign:"right",address:_.pkh,numberProps:{maxWidth:"85px"}})]})})},Suggestions=({contacts:_,hideBalance:a,onChange:$})=>_.length===0?null:jsxRuntimeExports.jsx(UnorderedList,{position:"absolute",zIndex:2,overflowY:"auto",width:"100%",maxHeight:"300px",marginTop:"8px",marginLeft:0,background:colors.gray[700],border:"1px solid",borderColor:colors.gray[500],borderRadius:"8px","data-testid":"suggestions-list",listStyleType:"none",children:_.map((j,et)=>jsxRuntimeExports.jsx(Box,{children:jsxRuntimeExports.jsx(ListItem,{marginBottom:et===_.length-1?"5px":0,padding:"5px 15px 0 5px","data-testid":`suggestion-${j.pkh}`,onMouseDown:()=>{$(j.pkh)},children:jsxRuntimeExports.jsx(AddressTile,{height:"40px",padding:"10px 8px 10px 5px",background:colors.gray[700],borderRadius:"4px",_hover:{background:colors.gray[500]},cursor:"pointer",address:parsePkh(j.pkh),hideBalance:a})})},j.pkh))}),AddressAutocomplete=({contacts:_,isDisabled:a,isLoading:$=!1,allowUnknown:j,inputName:et,onUpdate:tt,validate:rt,label:nt,keepValid:it,style:ot,size:st,hideBalance:ct=!1})=>{const{register:ut,setValue:ht,formState:{defaultValues:Et},getValues:St}=useFormContext(),Mt=ht,kt=reactExports.useId(),[Ct,Ot]=reactExports.useState(()=>{var bt;if(it||!Et)return"";const Pt=lodashExports.get(Et,et);return Pt?((bt=_.find(at=>at.pkh===Pt))==null?void 0:bt.name)||Pt:""}),[zt,Ut]=reactExports.useState(!0),[Vt,jt]=reactExports.useState(getSuggestions("",_)),$t=St(et),Bt=Pt=>{Ot(Pt),jt(getSuggestions(Pt,_));const bt=_.find(dt=>dt.name===Pt||dt.pkh===Pt);let at;if(bt!==void 0)at=bt.pkh,Ut(!0);else if(j&&isAddressValid(Pt))at=Pt;else{if(it)return;at=""}Mt(et,at,{shouldValidate:!0}),tt&&tt(at)};let Nt="raw_input";$?Nt="selected_tile":a?Nt="disabled_tile":$t&&(Nt="selected_tile");const Lt=()=>{Bt(""),Ut(!1)};return jsxRuntimeExports.jsxs(Box,{"data-testid":`address-autocomplete-${et}`,children:[jsxRuntimeExports.jsx(FormLabel,{htmlFor:kt,children:nt}),Nt==="disabled_tile"&&jsxRuntimeExports.jsx(AddressTile,{address:parsePkh($t)}),Nt==="selected_tile"&&jsxRuntimeExports.jsx(Box,{height:"48px",background:colors.gray[800],border:"1px solid",borderColor:colors.gray[500],borderRadius:"4px","data-testid":`selected-address-tile-${$t}`,onClick:Lt,paddingY:0,children:jsxRuntimeExports.jsxs(Center,{justifyContent:"space-between",cursor:"pointer","data-testid":"clear-selected-button",children:[jsxRuntimeExports.jsx(AddressTile,{width:st==="short"?"338px":"365px",paddingTop:"8px",background:"transparent",address:parsePkh($t)}),it?jsxRuntimeExports.jsx(ChevronDownIcon$1,{marginRight:"12px","data-testid":"chevron-icon"}):jsxRuntimeExports.jsx(CrossButton,{marginRight:"14px"})]})}),Nt==="raw_input"&&jsxRuntimeExports.jsxs(InputGroup,{children:[jsxRuntimeExports.jsx(Input,{...ot,"aria-label":et,autoComplete:"off",id:kt,onBlur:Pt=>{if(Pt.preventDefault(),Ut(!0),it&&$t!==Pt.target.value)return Bt($t);Bt(Pt.target.value)},onChange:Pt=>Bt(Pt.target.value),onFocus:()=>Ut(!1),placeholder:"Enter address or contact name",value:Ct}),jsxRuntimeExports.jsx(InputRightElement,{children:Ct?jsxRuntimeExports.jsx(CrossButton,{marginRight:"0px",onClick:Lt}):jsxRuntimeExports.jsx(ChevronDownIcon$1,{"data-testid":"chevron-icon"})})]}),jsxRuntimeExports.jsx(Input,{...ut(et,{required:"Invalid address or contact name",validate:rt}),marginBottom:0,"data-testid":`real-address-input-${et}`,name:et,type:"hidden"}),!zt&&jsxRuntimeExports.jsx(Suggestions,{contacts:Vt,hideBalance:ct,onChange:Bt})]})},CrossButton=_=>jsxRuntimeExports.jsx(XMark,{marginRight:"16px",stroke:colors.gray[450],cursor:"pointer","data-testid":"clear-input-button",..._}),OwnedImplicitAccountsAutocomplete=_=>{const a=useImplicitAccounts().map($=>({name:$.label,pkh:$.address.pkh}));return jsxRuntimeExports.jsx(AddressAutocomplete,{..._,contacts:a})},OwnedAccountsAutocomplete=_=>{const a=useAllAccounts().map($=>({name:$.label,pkh:$.address.pkh}));return jsxRuntimeExports.jsx(AddressAutocomplete,{..._,contacts:a})},BakersAutocomplete=_=>{const a=useBakerList().map($=>({name:$.name,pkh:$.address}));return jsxRuntimeExports.jsx(AddressAutocomplete,{..._,contacts:a,hideBalance:!0})},AvailableSignersAutocomplete=_=>{const $=useGetOwnedSignersForAccount()(_.account).map(j=>({name:j.label,pkh:j.address.pkh}));return jsxRuntimeExports.jsx(AddressAutocomplete,{allowUnknown:!1,contacts:$,isDisabled:$.length===1,..._})},KnownAccountsAutocomplete=_=>{const a=useContactsForSelectedNetwork(),$=useAllAccounts().map(j=>({name:j.label,pkh:j.address.pkh}));return jsxRuntimeExports.jsx(AddressAutocomplete,{..._,contacts:a.concat($)})},getErrorContext=_=>{let a="Something went wrong";typeof _=="object"&&"message"in _?a=_.message:typeof _=="string"&&(a=_);let $="";return typeof _=="object"&&"stack"in _&&($=_.stack),{timestamp:new Date().toISOString(),description:a,stacktrace:$}},useAsyncActionHandler=()=>{const[_,a]=reactExports.useState(!1),$=reactExports.useRef(_),j=useToast(),et=useAppDispatch(),tt=reactExports.useCallback(async(nt,it)=>{if(!$.current){$.current=!0,a(!0);try{return await nt()}catch(ot){const st=getErrorContext(ot);throw j({description:st.description,status:"error",...typeof it=="function"?it(ot):it}),et(errorsSlice.actions.add(st)),ot}finally{$.current=!1,a(!1)}}},[et,j]),rt=reactExports.useCallback(async(nt,it)=>tt(nt,it).catch(()=>{}),[tt]);return{isLoading:_,handleAsyncAction:rt,handleAsyncActionUnsafe:tt}},PermissionRequestModal=({request:_})=>{const a=useAddConnection(),$=useGetImplicitAccount(),{onClose:j}=reactExports.useContext(DynamicModalContext),{handleAsyncAction:et}=useAsyncActionHandler(),tt=useForm({mode:"onBlur"}),{getValues:rt,formState:{errors:nt,isValid:it}}=tt,ot=useRemovePeerBySenderId(),st=()=>{ot(_.senderId),WalletClient.respond({id:_.id,type:BeaconMessageType.Error,errorType:BeaconErrorType.NOT_GRANTED_ERROR})},ct=()=>et(async()=>{const ut=$(rt().address),ht={type:BeaconMessageType.PermissionResponse,network:_.network,scopes:_.scopes,id:_.id,publicKey:ut.pk,walletType:"implicit"};await WalletClient.respond(ht),a(_.senderId,ut.address.pkh,_.network.type)}).finally(j);return jsxRuntimeExports.jsxs(ModalContent,{children:[jsxRuntimeExports.jsxs(ModalHeader,{marginBottom:"24px",children:[jsxRuntimeExports.jsx(Flex,{alignItems:"center",justifyContent:"center",children:"Permission Request"}),jsxRuntimeExports.jsxs(Text,{marginTop:"10px",color:colors.gray[400],textAlign:"center",size:"sm",children:[_.appMetadata.name," is requesting permission to sign this operation."]}),jsxRuntimeExports.jsxs(Flex,{alignItems:"center",justifyContent:"center",marginTop:"10px",children:[jsxRuntimeExports.jsx(Heading,{marginRight:"4px",color:colors.gray[450],size:"sm",children:"Network:"}),jsxRuntimeExports.jsx(Text,{color:colors.gray[400],size:"sm",children:lodashExports.capitalize(_.network.type)})]})]}),jsxRuntimeExports.jsx(ModalCloseButton,{onClick:st}),jsxRuntimeExports.jsxs(ModalBody,{"data-testid":"beacon-request-body",children:[jsxRuntimeExports.jsxs(Flex,{alignItems:"center",marginTop:"16px",padding:"15px",borderRadius:"4px",backgroundColor:colors.gray[800],children:[jsxRuntimeExports.jsx(AspectRatio,{width:"60px",marginRight:"12px",ratio:1,children:jsxRuntimeExports.jsx(Image$1,{borderRadius:"4px",src:_.appMetadata.icon})}),jsxRuntimeExports.jsx(Heading,{size:"sm",children:_.appMetadata.name})]}),jsxRuntimeExports.jsx(Accordion,{marginTop:"16px",allowToggle:!0,children:jsxRuntimeExports.jsxs(AccordionItem,{background:colors.gray[800],border:"none",borderRadius:"8px",children:[jsxRuntimeExports.jsxs(AccordionButton,{children:[jsxRuntimeExports.jsx(Heading,{flex:"1",textAlign:"left",marginY:"10px",size:"md",children:"Request"}),jsxRuntimeExports.jsx(AccordionIcon,{})]}),jsxRuntimeExports.jsx(AccordionPanel,{children:jsxRuntimeExports.jsx(JsValueWrap,{overflow:"auto",maxHeight:"250px",value:_})})]})}),jsxRuntimeExports.jsx(FormProvider,{...tt,children:jsxRuntimeExports.jsxs(FormControl,{marginTop:"24px",isInvalid:!!nt.address,children:[jsxRuntimeExports.jsx(OwnedImplicitAccountsAutocomplete,{allowUnknown:!1,inputName:"address",label:"Select Account"}),nt.address&&jsxRuntimeExports.jsx(FormErrorMessage$1,{children:nt.address.message})]})})]}),jsxRuntimeExports.jsx(ModalFooter,{children:jsxRuntimeExports.jsx(Button,{width:"100%",isDisabled:!it,onClick:ct,size:"lg",children:"Allow"})})]})},PAYLOAD_PADDING="0501",getPayloadHexBytes=_=>{let a=0;if(_.startsWith(PAYLOAD_PADDING)){for(a=4;a<_.length&&_[a]==="0";)a+=1;let $="",j=0;const et=a;for(;a<_.length&&_[a]!=="0";){$+=_[a],j=parseInt($,16);const tt=_.length-$.length-et;if(j*2===tt){a+=1;break}if(j*2>tt)throw new Error("Invalid payload length");a+=1}}return _.slice(a)},decodePayload$1=_=>{try{return new TextDecoder("utf-8").decode(hex2buf(getPayloadHexBytes(_)))||_}catch{return _}};function _typeof$3(_){"@babel/helpers - typeof";return _typeof$3=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},_typeof$3(_)}function toPrimitive(_,a){if(_typeof$3(_)!="object"||!_)return _;var $=_[Symbol.toPrimitive];if($!==void 0){var j=$.call(_,a||"default");if(_typeof$3(j)!="object")return j;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(_)}function toPropertyKey(_){var a=toPrimitive(_,"string");return _typeof$3(a)=="symbol"?a:a+""}function _defineProperty$4(_,a,$){return(a=toPropertyKey(a))in _?Object.defineProperty(_,a,{value:$,enumerable:!0,configurable:!0,writable:!0}):_[a]=$,_}function ownKeys$2(_,a){var $=Object.keys(_);if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(_);a&&(j=j.filter(function(et){return Object.getOwnPropertyDescriptor(_,et).enumerable})),$.push.apply($,j)}return $}function _objectSpread2(_){for(var a=1;a<arguments.length;a++){var $=arguments[a]!=null?arguments[a]:{};a%2?ownKeys$2(Object($),!0).forEach(function(j){_defineProperty$4(_,j,$[j])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_,Object.getOwnPropertyDescriptors($)):ownKeys$2(Object($)).forEach(function(j){Object.defineProperty(_,j,Object.getOwnPropertyDescriptor($,j))})}return _}var lodash_merge={exports:{}};lodash_merge.exports;(function(_,a){var $=200,j="__lodash_hash_undefined__",et=800,tt=16,rt=9007199254740991,nt="[object Arguments]",it="[object Array]",ot="[object AsyncFunction]",st="[object Boolean]",ct="[object Date]",ut="[object Error]",ht="[object Function]",Et="[object GeneratorFunction]",St="[object Map]",Mt="[object Number]",kt="[object Null]",Ct="[object Object]",Ot="[object Proxy]",zt="[object RegExp]",Ut="[object Set]",Vt="[object String]",jt="[object Undefined]",$t="[object WeakMap]",Bt="[object ArrayBuffer]",Nt="[object DataView]",Lt="[object Float32Array]",Pt="[object Float64Array]",bt="[object Int8Array]",at="[object Int16Array]",dt="[object Int32Array]",vt="[object Uint8Array]",xt="[object Uint8ClampedArray]",wt="[object Uint16Array]",_t="[object Uint32Array]",At=/[\\^$.*+?()[\]{}|]/g,Tt=/^\[object .+?Constructor\]$/,yt=/^(?:0|[1-9]\d*)$/,It={};It[Lt]=It[Pt]=It[bt]=It[at]=It[dt]=It[vt]=It[xt]=It[wt]=It[_t]=!0,It[nt]=It[it]=It[Bt]=It[st]=It[Nt]=It[ct]=It[ut]=It[ht]=It[St]=It[Mt]=It[Ct]=It[zt]=It[Ut]=It[Vt]=It[$t]=!1;var rr=typeof commonjsGlobal=="object"&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal,ir=typeof self=="object"&&self&&self.Object===Object&&self,nr=rr||ir||Function("return this")(),Gt=a&&!a.nodeType&&a,qt=Gt&&!0&&_&&!_.nodeType&&_,Jt=qt&&qt.exports===Gt,Ft=Jt&&rr.process,Kt=function(){try{var Yt=qt&&qt.require&&qt.require("util").types;return Yt||Ft&&Ft.binding&&Ft.binding("util")}catch{}}(),Qt=Kt&&Kt.isTypedArray;function dr(Yt,cr,gr){switch(gr.length){case 0:return Yt.call(cr);case 1:return Yt.call(cr,gr[0]);case 2:return Yt.call(cr,gr[0],gr[1]);case 3:return Yt.call(cr,gr[0],gr[1],gr[2])}return Yt.apply(cr,gr)}function xr(Yt,cr){for(var gr=-1,Dr=Array(Yt);++gr<Yt;)Dr[gr]=cr(gr);return Dr}function pr(Yt){return function(cr){return Yt(cr)}}function Ir(Yt,cr){return Yt==null?void 0:Yt[cr]}function Cr(Yt,cr){return function(gr){return Yt(cr(gr))}}var lr=Array.prototype,fr=Function.prototype,Er=Object.prototype,Ar=nr["__core-js_shared__"],kr=fr.toString,Sr=Er.hasOwnProperty,$r=function(){var Yt=/[^.]+$/.exec(Ar&&Ar.keys&&Ar.keys.IE_PROTO||"");return Yt?"Symbol(src)_1."+Yt:""}(),jr=Er.toString,Nr=kr.call(Object),or=RegExp("^"+kr.call(Sr).replace(At,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Xt=Jt?nr.Buffer:void 0,er=nr.Symbol,Zt=nr.Uint8Array;Xt&&Xt.allocUnsafe;var Ht=Cr(Object.getPrototypeOf,Object),Wt=Object.create,ar=Er.propertyIsEnumerable,br=lr.splice,wr=er?er.toStringTag:void 0,Rr=function(){try{var Yt=Ro(Object,"defineProperty");return Yt({},"",{}),Yt}catch{}}(),Qr=Xt?Xt.isBuffer:void 0,Ur=Math.max,Hr=Date.now,_n=Ro(nr,"Map"),Wr=Ro(Object,"create"),an=function(){function Yt(){}return function(cr){if(!Cs(cr))return{};if(Wt)return Wt(cr);Yt.prototype=cr;var gr=new Yt;return Yt.prototype=void 0,gr}}();function Sn(Yt){var cr=-1,gr=Yt==null?0:Yt.length;for(this.clear();++cr<gr;){var Dr=Yt[cr];this.set(Dr[0],Dr[1])}}function cn(){this.__data__=Wr?Wr(null):{},this.size=0}function Xr(Yt){var cr=this.has(Yt)&&delete this.__data__[Yt];return this.size-=cr?1:0,cr}function Cn(Yt){var cr=this.__data__;if(Wr){var gr=cr[Yt];return gr===j?void 0:gr}return Sr.call(cr,Yt)?cr[Yt]:void 0}function ln(Yt){var cr=this.__data__;return Wr?cr[Yt]!==void 0:Sr.call(cr,Yt)}function Yr(Yt,cr){var gr=this.__data__;return this.size+=this.has(Yt)?0:1,gr[Yt]=Wr&&cr===void 0?j:cr,this}Sn.prototype.clear=cn,Sn.prototype.delete=Xr,Sn.prototype.get=Cn,Sn.prototype.has=ln,Sn.prototype.set=Yr;function En(Yt){var cr=-1,gr=Yt==null?0:Yt.length;for(this.clear();++cr<gr;){var Dr=Yt[cr];this.set(Dr[0],Dr[1])}}function fn(){this.__data__=[],this.size=0}function Jr(Yt){var cr=this.__data__,gr=rs(cr,Yt);if(gr<0)return!1;var Dr=cr.length-1;return gr==Dr?cr.pop():br.call(cr,gr,1),--this.size,!0}function $n(Yt){var cr=this.__data__,gr=rs(cr,Yt);return gr<0?void 0:cr[gr][1]}function un(Yt){return rs(this.__data__,Yt)>-1}function en(Yt,cr){var gr=this.__data__,Dr=rs(gr,Yt);return Dr<0?(++this.size,gr.push([Yt,cr])):gr[Dr][1]=cr,this}En.prototype.clear=fn,En.prototype.delete=Jr,En.prototype.get=$n,En.prototype.has=un,En.prototype.set=en;function An(Yt){var cr=-1,gr=Yt==null?0:Yt.length;for(this.clear();++cr<gr;){var Dr=Yt[cr];this.set(Dr[0],Dr[1])}}function sn(){this.size=0,this.__data__={hash:new Sn,map:new(_n||En),string:new Sn}}function tn(Yt){var cr=Zs(this,Yt).delete(Yt);return this.size-=cr?1:0,cr}function kn(Yt){return Zs(this,Yt).get(Yt)}function xn(Yt){return Zs(this,Yt).has(Yt)}function dn(Yt,cr){var gr=Zs(this,Yt),Dr=gr.size;return gr.set(Yt,cr),this.size+=gr.size==Dr?0:1,this}An.prototype.clear=sn,An.prototype.delete=tn,An.prototype.get=kn,An.prototype.has=xn,An.prototype.set=dn;function Ln(Yt){var cr=this.__data__=new En(Yt);this.size=cr.size}function hn(){this.__data__=new En,this.size=0}function yn(Yt){var cr=this.__data__,gr=cr.delete(Yt);return this.size=cr.size,gr}function ps(Yt){return this.__data__.get(Yt)}function ms(Yt){return this.__data__.has(Yt)}function gs(Yt,cr){var gr=this.__data__;if(gr instanceof En){var Dr=gr.__data__;if(!_n||Dr.length<$-1)return Dr.push([Yt,cr]),this.size=++gr.size,this;gr=this.__data__=new An(Dr)}return gr.set(Yt,cr),this.size=gr.size,this}Ln.prototype.clear=hn,Ln.prototype.delete=yn,Ln.prototype.get=ps,Ln.prototype.has=ms,Ln.prototype.set=gs;function vs(Yt,cr){var gr=Ns(Yt),Dr=!gr&&Ao(Yt),Zr=!gr&&!Dr&&fo(Yt),pn=!gr&&!Dr&&!Zr&&Lo(Yt),wn=gr||Dr||Zr||pn,nn=wn?xr(Yt.length,String):[],mn=nn.length;for(var Bn in Yt)wn&&(Bn=="length"||Zr&&(Bn=="offset"||Bn=="parent")||pn&&(Bn=="buffer"||Bn=="byteLength"||Bn=="byteOffset")||lo(Bn,mn))||nn.push(Bn);return nn}function Zn(Yt,cr,gr){(gr!==void 0&&!Xs(Yt[cr],gr)||gr===void 0&&!(cr in Yt))&&es(Yt,cr,gr)}function ls(Yt,cr,gr){var Dr=Yt[cr];(!(Sr.call(Yt,cr)&&Xs(Dr,gr))||gr===void 0&&!(cr in Yt))&&es(Yt,cr,gr)}function rs(Yt,cr){for(var gr=Yt.length;gr--;)if(Xs(Yt[gr][0],cr))return gr;return-1}function es(Yt,cr,gr){cr=="__proto__"&&Rr?Rr(Yt,cr,{configurable:!0,enumerable:!0,value:gr,writable:!0}):Yt[cr]=gr}var ys=So();function ns(Yt){return Yt==null?Yt===void 0?jt:kt:wr&&wr in Object(Yt)?xl(Yt):_l(Yt)}function as(Yt){return Ms(Yt)&&ns(Yt)==nt}function ds(Yt){if(!Cs(Yt)||jo(Yt))return!1;var cr=To(Yt)?or:Tt;return cr.test(Tl(Yt))}function fs(Yt){return Ms(Yt)&&Po(Yt.length)&&!!It[ns(Yt)]}function Jn(Yt){if(!Cs(Yt))return Bs(Yt);var cr=Ys(Yt),gr=[];for(var Dr in Yt)Dr=="constructor"&&(cr||!Sr.call(Yt,Dr))||gr.push(Dr);return gr}function us(Yt,cr,gr,Dr,Zr){Yt!==cr&&ys(cr,function(pn,wn){if(Zr||(Zr=new Ln),Cs(pn))xs(Yt,cr,wn,gr,us,Dr,Zr);else{var nn=Dr?Dr(Is(Yt,wn),pn,wn+"",Yt,cr,Zr):void 0;nn===void 0&&(nn=pn),Zn(Yt,wn,nn)}},Bo)}function xs(Yt,cr,gr,Dr,Zr,pn,wn){var nn=Is(Yt,gr),mn=Is(cr,gr),Bn=wn.get(mn);if(Bn){Zn(Yt,gr,Bn);return}var Fn=pn?pn(nn,mn,gr+"",Yt,cr,wn):void 0,Xn=Fn===void 0;if(Xn){var Yn=Ns(mn),Es=!Yn&&fo(mn),Ds=!Yn&&!Es&&Lo(mn);Fn=mn,Yn||Es||Ds?Ns(nn)?Fn=nn:Pl(nn)?Fn=Wo(nn):Es?(Xn=!1,Fn=Ts(mn)):Ds?(Xn=!1,Fn=wo(mn)):Fn=[]:Cl(mn)||Ao(mn)?(Fn=nn,Ao(nn)?Fn=Co(nn):(!Cs(nn)||To(nn))&&(Fn=El(mn))):Xn=!1}Xn&&(wn.set(mn,Fn),Zr(Fn,mn,Dr,pn,wn),wn.delete(mn)),Zn(Yt,gr,Fn)}function bs(Yt,cr){return Rl(Sl(Yt,cr,Gn),Yt+"")}var Ps=Rr?function(Yt,cr){return Rr(Yt,"toString",{configurable:!0,enumerable:!1,value:Qn(cr),writable:!0})}:Gn;function Ts(Yt,cr){return Yt.slice()}function yl(Yt){var cr=new Yt.constructor(Yt.byteLength);return new Zt(cr).set(new Zt(Yt)),cr}function wo(Yt,cr){var gr=yl(Yt.buffer);return new Yt.constructor(gr,Yt.byteOffset,Yt.length)}function Wo(Yt,cr){var gr=-1,Dr=Yt.length;for(cr||(cr=Array(Dr));++gr<Dr;)cr[gr]=Yt[gr];return cr}function _o(Yt,cr,gr,Dr){var Zr=!gr;gr||(gr={});for(var pn=-1,wn=cr.length;++pn<wn;){var nn=cr[pn],mn=void 0;mn===void 0&&(mn=Yt[nn]),Zr?es(gr,nn,mn):ls(gr,nn,mn)}return gr}function Go(Yt){return bs(function(cr,gr){var Dr=-1,Zr=gr.length,pn=Zr>1?gr[Zr-1]:void 0,wn=Zr>2?gr[2]:void 0;for(pn=Yt.length>3&&typeof pn=="function"?(Zr--,pn):void 0,wn&&Yl(gr[0],gr[1],wn)&&(pn=Zr<3?void 0:pn,Zr=1),cr=Object(cr);++Dr<Zr;){var nn=gr[Dr];nn&&Yt(cr,nn,Dr,pn)}return cr})}function So(Yt){return function(cr,gr,Dr){for(var Zr=-1,pn=Object(cr),wn=Dr(cr),nn=wn.length;nn--;){var mn=wn[++Zr];if(gr(pn[mn],mn,pn)===!1)break}return cr}}function Zs(Yt,cr){var gr=Yt.__data__;return wl(cr)?gr[typeof cr=="string"?"string":"hash"]:gr.map}function Ro(Yt,cr){var gr=Ir(Yt,cr);return ds(gr)?gr:void 0}function xl(Yt){var cr=Sr.call(Yt,wr),gr=Yt[wr];try{Yt[wr]=void 0;var Dr=!0}catch{}var Zr=jr.call(Yt);return Dr&&(cr?Yt[wr]=gr:delete Yt[wr]),Zr}function El(Yt){return typeof Yt.constructor=="function"&&!Ys(Yt)?an(Ht(Yt)):{}}function lo(Yt,cr){var gr=typeof Yt;return cr=cr??rt,!!cr&&(gr=="number"||gr!="symbol"&&yt.test(Yt))&&Yt>-1&&Yt%1==0&&Yt<cr}function Yl(Yt,cr,gr){if(!Cs(gr))return!1;var Dr=typeof cr;return(Dr=="number"?uo(gr)&&lo(cr,gr.length):Dr=="string"&&cr in gr)?Xs(gr[cr],Yt):!1}function wl(Yt){var cr=typeof Yt;return cr=="string"||cr=="number"||cr=="symbol"||cr=="boolean"?Yt!=="__proto__":Yt===null}function jo(Yt){return!!$r&&$r in Yt}function Ys(Yt){var cr=Yt&&Yt.constructor,gr=typeof cr=="function"&&cr.prototype||Er;return Yt===gr}function Bs(Yt){var cr=[];if(Yt!=null)for(var gr in Object(Yt))cr.push(gr);return cr}function _l(Yt){return jr.call(Yt)}function Sl(Yt,cr,gr){return cr=Ur(cr===void 0?Yt.length-1:cr,0),function(){for(var Dr=arguments,Zr=-1,pn=Ur(Dr.length-cr,0),wn=Array(pn);++Zr<pn;)wn[Zr]=Dr[cr+Zr];Zr=-1;for(var nn=Array(cr+1);++Zr<cr;)nn[Zr]=Dr[Zr];return nn[cr]=gr(wn),dr(Yt,this,nn)}}function Is(Yt,cr){if(!(cr==="constructor"&&typeof Yt[cr]=="function")&&cr!="__proto__")return Yt[cr]}var Rl=Al(Ps);function Al(Yt){var cr=0,gr=0;return function(){var Dr=Hr(),Zr=tt-(Dr-gr);if(gr=Dr,Zr>0){if(++cr>=et)return arguments[0]}else cr=0;return Yt.apply(void 0,arguments)}}function Tl(Yt){if(Yt!=null){try{return kr.call(Yt)}catch{}try{return Yt+""}catch{}}return""}function Xs(Yt,cr){return Yt===cr||Yt!==Yt&&cr!==cr}var Ao=as(function(){return arguments}())?as:function(Yt){return Ms(Yt)&&Sr.call(Yt,"callee")&&!ar.call(Yt,"callee")},Ns=Array.isArray;function uo(Yt){return Yt!=null&&Po(Yt.length)&&!To(Yt)}function Pl(Yt){return Ms(Yt)&&uo(Yt)}var fo=Qr||_r;function To(Yt){if(!Cs(Yt))return!1;var cr=ns(Yt);return cr==ht||cr==Et||cr==ot||cr==Ot}function Po(Yt){return typeof Yt=="number"&&Yt>-1&&Yt%1==0&&Yt<=rt}function Cs(Yt){var cr=typeof Yt;return Yt!=null&&(cr=="object"||cr=="function")}function Ms(Yt){return Yt!=null&&typeof Yt=="object"}function Cl(Yt){if(!Ms(Yt)||ns(Yt)!=Ct)return!1;var cr=Ht(Yt);if(cr===null)return!0;var gr=Sr.call(cr,"constructor")&&cr.constructor;return typeof gr=="function"&&gr instanceof gr&&kr.call(gr)==Nr}var Lo=Qt?pr(Qt):fs;function Co(Yt){return _o(Yt,Bo(Yt))}function Bo(Yt){return uo(Yt)?vs(Yt):Jn(Yt)}var Xl=Go(function(Yt,cr,gr){us(Yt,cr,gr)});function Qn(Yt){return function(){return Yt}}function Gn(Yt){return Yt}function _r(){return!1}_.exports=Xl})(lodash_merge,lodash_merge.exports);var lodash_mergeExports=lodash_merge.exports;const deepmerge$1=getDefaultExportFromCjs$1(lodash_mergeExports);var loglevel={exports:{}};(function(_){(function(a,$){_.exports?_.exports=$():a.log=$()})(commonjsGlobal,function(){var a=function(){},$="undefined",j=typeof window!==$&&typeof window.navigator!==$&&/Trident\/|MSIE /.test(window.navigator.userAgent),et=["trace","debug","info","warn","error"],tt={},rt=null;function nt(St,Mt){var kt=St[Mt];if(typeof kt.bind=="function")return kt.bind(St);try{return Function.prototype.bind.call(kt,St)}catch{return function(){return Function.prototype.apply.apply(kt,[St,arguments])}}}function it(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function ot(St){return St==="debug"&&(St="log"),typeof console===$?!1:St==="trace"&&j?it:console[St]!==void 0?nt(console,St):console.log!==void 0?nt(console,"log"):a}function st(){for(var St=this.getLevel(),Mt=0;Mt<et.length;Mt++){var kt=et[Mt];this[kt]=Mt<St?a:this.methodFactory(kt,St,this.name)}if(this.log=this.debug,typeof console===$&&St<this.levels.SILENT)return"No console available for logging"}function ct(St){return function(){typeof console!==$&&(st.call(this),this[St].apply(this,arguments))}}function ut(St,Mt,kt){return ot(St)||ct.apply(this,arguments)}function ht(St,Mt){var kt=this,Ct,Ot,zt,Ut="loglevel";typeof St=="string"?Ut+=":"+St:typeof St=="symbol"&&(Ut=void 0);function Vt(Lt){var Pt=(et[Lt]||"silent").toUpperCase();if(!(typeof window===$||!Ut)){try{window.localStorage[Ut]=Pt;return}catch{}try{window.document.cookie=encodeURIComponent(Ut)+"="+Pt+";"}catch{}}}function jt(){var Lt;if(!(typeof window===$||!Ut)){try{Lt=window.localStorage[Ut]}catch{}if(typeof Lt===$)try{var Pt=window.document.cookie,bt=encodeURIComponent(Ut),at=Pt.indexOf(bt+"=");at!==-1&&(Lt=/^([^;]+)/.exec(Pt.slice(at+bt.length+1))[1])}catch{}return kt.levels[Lt]===void 0&&(Lt=void 0),Lt}}function $t(){if(!(typeof window===$||!Ut)){try{window.localStorage.removeItem(Ut)}catch{}try{window.document.cookie=encodeURIComponent(Ut)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch{}}}function Bt(Lt){var Pt=Lt;if(typeof Pt=="string"&&kt.levels[Pt.toUpperCase()]!==void 0&&(Pt=kt.levels[Pt.toUpperCase()]),typeof Pt=="number"&&Pt>=0&&Pt<=kt.levels.SILENT)return Pt;throw new TypeError("log.setLevel() called with invalid level: "+Lt)}kt.name=St,kt.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},kt.methodFactory=Mt||ut,kt.getLevel=function(){return zt??Ot??Ct},kt.setLevel=function(Lt,Pt){return zt=Bt(Lt),Pt!==!1&&Vt(zt),st.call(kt)},kt.setDefaultLevel=function(Lt){Ot=Bt(Lt),jt()||kt.setLevel(Lt,!1)},kt.resetLevel=function(){zt=null,$t(),st.call(kt)},kt.enableAll=function(Lt){kt.setLevel(kt.levels.TRACE,Lt)},kt.disableAll=function(Lt){kt.setLevel(kt.levels.SILENT,Lt)},kt.rebuild=function(){if(rt!==kt&&(Ct=Bt(rt.getLevel())),st.call(kt),rt===kt)for(var Lt in tt)tt[Lt].rebuild()},Ct=Bt(rt?rt.getLevel():"WARN");var Nt=jt();Nt!=null&&(zt=Bt(Nt)),st.call(kt)}rt=new ht,rt.getLogger=function(Mt){if(typeof Mt!="symbol"&&typeof Mt!="string"||Mt==="")throw new TypeError("You must supply a name when creating a logger.");var kt=tt[Mt];return kt||(kt=tt[Mt]=new ht(Mt,rt.methodFactory)),kt};var Et=typeof window!==$?window.log:void 0;return rt.noConflict=function(){return typeof window!==$&&window.log===rt&&(window.log=Et),rt},rt.getLoggers=function(){return tt},rt.default=rt,rt})})(loglevel);var loglevelExports=loglevel.exports;const log$1$1=getDefaultExportFromCjs$1(loglevelExports),log$7=log$1$1.getLogger("http-helpers");log$7.setLevel(loglevelExports.levels.INFO);let apiKey$2="torus-default";const gatewayAuthHeader$2="x-api-key";async function fetchAndTrace$2(_,a){let $=null;try{$=new URL(_)}catch{}return fetch(_,a)}function getApiKeyHeaders$2(){const _={};return _[gatewayAuthHeader$2]=apiKey$2,_}function debugLogResponse$2(_){log$7.info(`Response: ${_.status} ${_.statusText}`),log$7.info(`Url: ${_.url}`)}function logTracingHeader$1(_){log$7.info(`Request tracing with traceID=${_.headers.get("x-web3-correlation-id")}`)}const promiseTimeout$1=(_,a)=>{const $=new Promise((j,et)=>{const tt=setTimeout(()=>{clearTimeout(tt),et(new Error(`Timed out in ${_}ms`))},_)});return Promise.race([a,$])},get$2=async function(_){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},$=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const j={mode:"cors",headers:{}};$.useAPIKey&&(j.headers=_objectSpread2(_objectSpread2({},j.headers),getApiKeyHeaders$2()));const et=deepmerge$1(j,a,{method:"GET"}),tt=await fetchAndTrace$2(_,et);if(tt.ok){const rt=tt.headers.get("content-type");return rt!=null&&rt.includes("application/json")?tt.json():tt.text()}throw debugLogResponse$2(tt),tt},post$1=function(_){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},$=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},j=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const et={mode:"cors",headers:{"Content-Type":"application/json; charset=utf-8"}};j.useAPIKey&&(et.headers=_objectSpread2(_objectSpread2({},et.headers),getApiKeyHeaders$2()));const tt=deepmerge$1(et,$,{method:"POST"});return j.isUrlEncodedData?(tt.body=a,tt.headers["Content-Type"]==="application/json; charset=utf-8"&&delete tt.headers["Content-Type"]):tt.body=JSON.stringify(a),promiseTimeout$1(j.timeout||6e4,fetchAndTrace$2(_,tt).then(rt=>{if(j.logTracingHeader&&logTracingHeader$1(rt),rt.ok){const nt=rt.headers.get("content-type");return nt!=null&&nt.includes("application/json")?rt.json():rt.text()}throw debugLogResponse$2(rt),rt}))};function _objectWithoutPropertiesLoose(_,a){if(_==null)return{};var $={};for(var j in _)if({}.hasOwnProperty.call(_,j)){if(a.indexOf(j)>=0)continue;$[j]=_[j]}return $}function _objectWithoutProperties(_,a){if(_==null)return{};var $,j,et=_objectWithoutPropertiesLoose(_,a);if(Object.getOwnPropertySymbols){var tt=Object.getOwnPropertySymbols(_);for(j=0;j<tt.length;j++)$=tt[j],a.indexOf($)>=0||{}.propertyIsEnumerable.call(_,$)&&(et[$]=_[$])}return et}const BROWSER_ALIASES_MAP={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},BROWSER_MAP={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},PLATFORMS_MAP={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},OS_MAP={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},ENGINE_MAP={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"};class Utils{static getFirstMatch(a,$){const j=$.match(a);return j&&j.length>0&&j[1]||""}static getSecondMatch(a,$){const j=$.match(a);return j&&j.length>1&&j[2]||""}static matchAndReturnConst(a,$,j){if(a.test($))return j}static getWindowsVersionName(a){switch(a){case"NT":return"NT";case"XP":return"XP";case"NT 5.0":return"2000";case"NT 5.1":return"XP";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}}static getMacOSVersionName(a){const $=a.split(".").splice(0,2).map(j=>parseInt(j,10)||0);if($.push(0),$[0]===10)switch($[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}}static getAndroidVersionName(a){const $=a.split(".").splice(0,2).map(j=>parseInt(j,10)||0);if($.push(0),!($[0]===1&&$[1]<5)){if($[0]===1&&$[1]<6)return"Cupcake";if($[0]===1&&$[1]>=6)return"Donut";if($[0]===2&&$[1]<2)return"Eclair";if($[0]===2&&$[1]===2)return"Froyo";if($[0]===2&&$[1]>2)return"Gingerbread";if($[0]===3)return"Honeycomb";if($[0]===4&&$[1]<1)return"Ice Cream Sandwich";if($[0]===4&&$[1]<4)return"Jelly Bean";if($[0]===4&&$[1]>=4)return"KitKat";if($[0]===5)return"Lollipop";if($[0]===6)return"Marshmallow";if($[0]===7)return"Nougat";if($[0]===8)return"Oreo";if($[0]===9)return"Pie"}}static getVersionPrecision(a){return a.split(".").length}static compareVersions(a,$,j=!1){const et=Utils.getVersionPrecision(a),tt=Utils.getVersionPrecision($);let rt=Math.max(et,tt),nt=0;const it=Utils.map([a,$],ot=>{const st=rt-Utils.getVersionPrecision(ot),ct=ot+new Array(st+1).join(".0");return Utils.map(ct.split("."),ut=>new Array(20-ut.length).join("0")+ut).reverse()});for(j&&(nt=rt-Math.min(et,tt)),rt-=1;rt>=nt;){if(it[0][rt]>it[1][rt])return 1;if(it[0][rt]===it[1][rt]){if(rt===nt)return 0;rt-=1}else if(it[0][rt]<it[1][rt])return-1}}static map(a,$){const j=[];let et;if(Array.prototype.map)return Array.prototype.map.call(a,$);for(et=0;et<a.length;et+=1)j.push($(a[et]));return j}static find(a,$){let j,et;if(Array.prototype.find)return Array.prototype.find.call(a,$);for(j=0,et=a.length;j<et;j+=1){const tt=a[j];if($(tt,j))return tt}}static assign(a,...$){const j=a;let et,tt;if(Object.assign)return Object.assign(a,...$);for(et=0,tt=$.length;et<tt;et+=1){const rt=$[et];typeof rt=="object"&&rt!==null&&Object.keys(rt).forEach(it=>{j[it]=rt[it]})}return a}static getBrowserAlias(a){return BROWSER_ALIASES_MAP[a]}static getBrowserTypeByAlias(a){return BROWSER_MAP[a]||""}}const commonVersionIdentifier=/version\/(\d+(\.?_?\d+)+)/i,browsersList=[{test:[/googlebot/i],describe(_){const a={name:"Googlebot"},$=Utils.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,_)||Utils.getFirstMatch(commonVersionIdentifier,_);return $&&(a.version=$),a}},{test:[/opera/i],describe(_){const a={name:"Opera"},$=Utils.getFirstMatch(commonVersionIdentifier,_)||Utils.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,_);return $&&(a.version=$),a}},{test:[/opr\/|opios/i],describe(_){const a={name:"Opera"},$=Utils.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,_)||Utils.getFirstMatch(commonVersionIdentifier,_);return $&&(a.version=$),a}},{test:[/SamsungBrowser/i],describe(_){const a={name:"Samsung Internet for Android"},$=Utils.getFirstMatch(commonVersionIdentifier,_)||Utils.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,_);return $&&(a.version=$),a}},{test:[/Whale/i],describe(_){const a={name:"NAVER Whale Browser"},$=Utils.getFirstMatch(commonVersionIdentifier,_)||Utils.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,_);return $&&(a.version=$),a}},{test:[/MZBrowser/i],describe(_){const a={name:"MZ Browser"},$=Utils.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,_)||Utils.getFirstMatch(commonVersionIdentifier,_);return $&&(a.version=$),a}},{test:[/focus/i],describe(_){const a={name:"Focus"},$=Utils.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,_)||Utils.getFirstMatch(commonVersionIdentifier,_);return $&&(a.version=$),a}},{test:[/swing/i],describe(_){const a={name:"Swing"},$=Utils.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,_)||Utils.getFirstMatch(commonVersionIdentifier,_);return $&&(a.version=$),a}},{test:[/coast/i],describe(_){const a={name:"Opera Coast"},$=Utils.getFirstMatch(commonVersionIdentifier,_)||Utils.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,_);return $&&(a.version=$),a}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe(_){const a={name:"Opera Touch"},$=Utils.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,_)||Utils.getFirstMatch(commonVersionIdentifier,_);return $&&(a.version=$),a}},{test:[/yabrowser/i],describe(_){const a={name:"Yandex Browser"},$=Utils.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,_)||Utils.getFirstMatch(commonVersionIdentifier,_);return $&&(a.version=$),a}},{test:[/ucbrowser/i],describe(_){const a={name:"UC Browser"},$=Utils.getFirstMatch(commonVersionIdentifier,_)||Utils.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,_);return $&&(a.version=$),a}},{test:[/Maxthon|mxios/i],describe(_){const a={name:"Maxthon"},$=Utils.getFirstMatch(commonVersionIdentifier,_)||Utils.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,_);return $&&(a.version=$),a}},{test:[/epiphany/i],describe(_){const a={name:"Epiphany"},$=Utils.getFirstMatch(commonVersionIdentifier,_)||Utils.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,_);return $&&(a.version=$),a}},{test:[/puffin/i],describe(_){const a={name:"Puffin"},$=Utils.getFirstMatch(commonVersionIdentifier,_)||Utils.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,_);return $&&(a.version=$),a}},{test:[/sleipnir/i],describe(_){const a={name:"Sleipnir"},$=Utils.getFirstMatch(commonVersionIdentifier,_)||Utils.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,_);return $&&(a.version=$),a}},{test:[/k-meleon/i],describe(_){const a={name:"K-Meleon"},$=Utils.getFirstMatch(commonVersionIdentifier,_)||Utils.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,_);return $&&(a.version=$),a}},{test:[/micromessenger/i],describe(_){const a={name:"WeChat"},$=Utils.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,_)||Utils.getFirstMatch(commonVersionIdentifier,_);return $&&(a.version=$),a}},{test:[/qqbrowser/i],describe(_){const a={name:/qqbrowserlite/i.test(_)?"QQ Browser Lite":"QQ Browser"},$=Utils.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,_)||Utils.getFirstMatch(commonVersionIdentifier,_);return $&&(a.version=$),a}},{test:[/msie|trident/i],describe(_){const a={name:"Internet Explorer"},$=Utils.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,_);return $&&(a.version=$),a}},{test:[/\sedg\//i],describe(_){const a={name:"Microsoft Edge"},$=Utils.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,_);return $&&(a.version=$),a}},{test:[/edg([ea]|ios)/i],describe(_){const a={name:"Microsoft Edge"},$=Utils.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,_);return $&&(a.version=$),a}},{test:[/vivaldi/i],describe(_){const a={name:"Vivaldi"},$=Utils.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,_);return $&&(a.version=$),a}},{test:[/seamonkey/i],describe(_){const a={name:"SeaMonkey"},$=Utils.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,_);return $&&(a.version=$),a}},{test:[/sailfish/i],describe(_){const a={name:"Sailfish"},$=Utils.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,_);return $&&(a.version=$),a}},{test:[/silk/i],describe(_){const a={name:"Amazon Silk"},$=Utils.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,_);return $&&(a.version=$),a}},{test:[/phantom/i],describe(_){const a={name:"PhantomJS"},$=Utils.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,_);return $&&(a.version=$),a}},{test:[/slimerjs/i],describe(_){const a={name:"SlimerJS"},$=Utils.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,_);return $&&(a.version=$),a}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(_){const a={name:"BlackBerry"},$=Utils.getFirstMatch(commonVersionIdentifier,_)||Utils.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,_);return $&&(a.version=$),a}},{test:[/(web|hpw)[o0]s/i],describe(_){const a={name:"WebOS Browser"},$=Utils.getFirstMatch(commonVersionIdentifier,_)||Utils.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,_);return $&&(a.version=$),a}},{test:[/bada/i],describe(_){const a={name:"Bada"},$=Utils.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,_);return $&&(a.version=$),a}},{test:[/tizen/i],describe(_){const a={name:"Tizen"},$=Utils.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,_)||Utils.getFirstMatch(commonVersionIdentifier,_);return $&&(a.version=$),a}},{test:[/qupzilla/i],describe(_){const a={name:"QupZilla"},$=Utils.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,_)||Utils.getFirstMatch(commonVersionIdentifier,_);return $&&(a.version=$),a}},{test:[/firefox|iceweasel|fxios/i],describe(_){const a={name:"Firefox"},$=Utils.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,_);return $&&(a.version=$),a}},{test:[/electron/i],describe(_){const a={name:"Electron"},$=Utils.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,_);return $&&(a.version=$),a}},{test:[/MiuiBrowser/i],describe(_){const a={name:"Miui"},$=Utils.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,_);return $&&(a.version=$),a}},{test:[/chromium/i],describe(_){const a={name:"Chromium"},$=Utils.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,_)||Utils.getFirstMatch(commonVersionIdentifier,_);return $&&(a.version=$),a}},{test:[/chrome|crios|crmo/i],describe(_){const a={name:"Chrome"},$=Utils.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,_);return $&&(a.version=$),a}},{test:[/GSA/i],describe(_){const a={name:"Google Search"},$=Utils.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,_);return $&&(a.version=$),a}},{test(_){const a=!_.test(/like android/i),$=_.test(/android/i);return a&&$},describe(_){const a={name:"Android Browser"},$=Utils.getFirstMatch(commonVersionIdentifier,_);return $&&(a.version=$),a}},{test:[/playstation 4/i],describe(_){const a={name:"PlayStation 4"},$=Utils.getFirstMatch(commonVersionIdentifier,_);return $&&(a.version=$),a}},{test:[/safari|applewebkit/i],describe(_){const a={name:"Safari"},$=Utils.getFirstMatch(commonVersionIdentifier,_);return $&&(a.version=$),a}},{test:[/.*/i],describe(_){const a=/^(.*)\/(.*) /,$=/^(.*)\/(.*)[ \t]\((.*)/,et=_.search("\\(")!==-1?$:a;return{name:Utils.getFirstMatch(et,_),version:Utils.getSecondMatch(et,_)}}}],osParsersList=[{test:[/Roku\/DVP/],describe(_){const a=Utils.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,_);return{name:OS_MAP.Roku,version:a}}},{test:[/windows phone/i],describe(_){const a=Utils.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,_);return{name:OS_MAP.WindowsPhone,version:a}}},{test:[/windows /i],describe(_){const a=Utils.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,_),$=Utils.getWindowsVersionName(a);return{name:OS_MAP.Windows,version:a,versionName:$}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe(_){const a={name:OS_MAP.iOS},$=Utils.getSecondMatch(/(Version\/)(\d[\d.]+)/,_);return $&&(a.version=$),a}},{test:[/macintosh/i],describe(_){const a=Utils.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,_).replace(/[_\s]/g,"."),$=Utils.getMacOSVersionName(a),j={name:OS_MAP.MacOS,version:a};return $&&(j.versionName=$),j}},{test:[/(ipod|iphone|ipad)/i],describe(_){const a=Utils.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,_).replace(/[_\s]/g,".");return{name:OS_MAP.iOS,version:a}}},{test(_){const a=!_.test(/like android/i),$=_.test(/android/i);return a&&$},describe(_){const a=Utils.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,_),$=Utils.getAndroidVersionName(a),j={name:OS_MAP.Android,version:a};return $&&(j.versionName=$),j}},{test:[/(web|hpw)[o0]s/i],describe(_){const a=Utils.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,_),$={name:OS_MAP.WebOS};return a&&a.length&&($.version=a),$}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(_){const a=Utils.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,_)||Utils.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,_)||Utils.getFirstMatch(/\bbb(\d+)/i,_);return{name:OS_MAP.BlackBerry,version:a}}},{test:[/bada/i],describe(_){const a=Utils.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,_);return{name:OS_MAP.Bada,version:a}}},{test:[/tizen/i],describe(_){const a=Utils.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,_);return{name:OS_MAP.Tizen,version:a}}},{test:[/linux/i],describe(){return{name:OS_MAP.Linux}}},{test:[/CrOS/],describe(){return{name:OS_MAP.ChromeOS}}},{test:[/PlayStation 4/],describe(_){const a=Utils.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,_);return{name:OS_MAP.PlayStation4,version:a}}}],platformParsersList=[{test:[/googlebot/i],describe(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe(_){const a=Utils.getFirstMatch(/(can-l01)/i,_)&&"Nova",$={type:PLATFORMS_MAP.mobile,vendor:"Huawei"};return a&&($.model=a),$}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe(){return{type:PLATFORMS_MAP.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe(){return{type:PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe(){return{type:PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe(){return{type:PLATFORMS_MAP.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe(){return{type:PLATFORMS_MAP.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe(){return{type:PLATFORMS_MAP.tablet}}},{test(_){const a=_.test(/ipod|iphone/i),$=_.test(/like (ipod|iphone)/i);return a&&!$},describe(_){const a=Utils.getFirstMatch(/(ipod|iphone)/i,_);return{type:PLATFORMS_MAP.mobile,vendor:"Apple",model:a}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe(){return{type:PLATFORMS_MAP.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe(){return{type:PLATFORMS_MAP.mobile}}},{test(_){return _.getBrowserName(!0)==="blackberry"},describe(){return{type:PLATFORMS_MAP.mobile,vendor:"BlackBerry"}}},{test(_){return _.getBrowserName(!0)==="bada"},describe(){return{type:PLATFORMS_MAP.mobile}}},{test(_){return _.getBrowserName()==="windows phone"},describe(){return{type:PLATFORMS_MAP.mobile,vendor:"Microsoft"}}},{test(_){const a=Number(String(_.getOSVersion()).split(".")[0]);return _.getOSName(!0)==="android"&&a>=3},describe(){return{type:PLATFORMS_MAP.tablet}}},{test(_){return _.getOSName(!0)==="android"},describe(){return{type:PLATFORMS_MAP.mobile}}},{test(_){return _.getOSName(!0)==="macos"},describe(){return{type:PLATFORMS_MAP.desktop,vendor:"Apple"}}},{test(_){return _.getOSName(!0)==="windows"},describe(){return{type:PLATFORMS_MAP.desktop}}},{test(_){return _.getOSName(!0)==="linux"},describe(){return{type:PLATFORMS_MAP.desktop}}},{test(_){return _.getOSName(!0)==="playstation 4"},describe(){return{type:PLATFORMS_MAP.tv}}},{test(_){return _.getOSName(!0)==="roku"},describe(){return{type:PLATFORMS_MAP.tv}}}],enginesParsersList=[{test(_){return _.getBrowserName(!0)==="microsoft edge"},describe(_){if(/\sedg\//i.test(_))return{name:ENGINE_MAP.Blink};const $=Utils.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,_);return{name:ENGINE_MAP.EdgeHTML,version:$}}},{test:[/trident/i],describe(_){const a={name:ENGINE_MAP.Trident},$=Utils.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,_);return $&&(a.version=$),a}},{test(_){return _.test(/presto/i)},describe(_){const a={name:ENGINE_MAP.Presto},$=Utils.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,_);return $&&(a.version=$),a}},{test(_){const a=_.test(/gecko/i),$=_.test(/like gecko/i);return a&&!$},describe(_){const a={name:ENGINE_MAP.Gecko},$=Utils.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,_);return $&&(a.version=$),a}},{test:[/(apple)?webkit\/537\.36/i],describe(){return{name:ENGINE_MAP.Blink}}},{test:[/(apple)?webkit/i],describe(_){const a={name:ENGINE_MAP.WebKit},$=Utils.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,_);return $&&(a.version=$),a}}];class Parser{constructor(a,$=!1){if(a==null||a==="")throw new Error("UserAgent parameter can't be empty");this._ua=a,this.parsedResult={},$!==!0&&this.parse()}getUA(){return this._ua}test(a){return a.test(this._ua)}parseBrowser(){this.parsedResult.browser={};const a=Utils.find(browsersList,$=>{if(typeof $.test=="function")return $.test(this);if($.test instanceof Array)return $.test.some(j=>this.test(j));throw new Error("Browser's test function is not valid")});return a&&(this.parsedResult.browser=a.describe(this.getUA())),this.parsedResult.browser}getBrowser(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()}getBrowserName(a){return a?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""}getBrowserVersion(){return this.getBrowser().version}getOS(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()}parseOS(){this.parsedResult.os={};const a=Utils.find(osParsersList,$=>{if(typeof $.test=="function")return $.test(this);if($.test instanceof Array)return $.test.some(j=>this.test(j));throw new Error("Browser's test function is not valid")});return a&&(this.parsedResult.os=a.describe(this.getUA())),this.parsedResult.os}getOSName(a){const{name:$}=this.getOS();return a?String($).toLowerCase()||"":$||""}getOSVersion(){return this.getOS().version}getPlatform(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()}getPlatformType(a=!1){const{type:$}=this.getPlatform();return a?String($).toLowerCase()||"":$||""}parsePlatform(){this.parsedResult.platform={};const a=Utils.find(platformParsersList,$=>{if(typeof $.test=="function")return $.test(this);if($.test instanceof Array)return $.test.some(j=>this.test(j));throw new Error("Browser's test function is not valid")});return a&&(this.parsedResult.platform=a.describe(this.getUA())),this.parsedResult.platform}getEngine(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()}getEngineName(a){return a?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""}parseEngine(){this.parsedResult.engine={};const a=Utils.find(enginesParsersList,$=>{if(typeof $.test=="function")return $.test(this);if($.test instanceof Array)return $.test.some(j=>this.test(j));throw new Error("Browser's test function is not valid")});return a&&(this.parsedResult.engine=a.describe(this.getUA())),this.parsedResult.engine}parse(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this}getResult(){return Utils.assign({},this.parsedResult)}satisfies(a){const $={};let j=0;const et={};let tt=0;if(Object.keys(a).forEach(nt=>{const it=a[nt];typeof it=="string"?(et[nt]=it,tt+=1):typeof it=="object"&&($[nt]=it,j+=1)}),j>0){const nt=Object.keys($),it=Utils.find(nt,st=>this.isOS(st));if(it){const st=this.satisfies($[it]);if(st!==void 0)return st}const ot=Utils.find(nt,st=>this.isPlatform(st));if(ot){const st=this.satisfies($[ot]);if(st!==void 0)return st}}if(tt>0){const nt=Object.keys(et),it=Utils.find(nt,ot=>this.isBrowser(ot,!0));if(it!==void 0)return this.compareVersion(et[it])}}isBrowser(a,$=!1){const j=this.getBrowserName().toLowerCase();let et=a.toLowerCase();const tt=Utils.getBrowserTypeByAlias(et);return $&&tt&&(et=tt.toLowerCase()),et===j}compareVersion(a){let $=[0],j=a,et=!1;const tt=this.getBrowserVersion();if(typeof tt=="string")return a[0]===">"||a[0]==="<"?(j=a.substr(1),a[1]==="="?(et=!0,j=a.substr(2)):$=[],a[0]===">"?$.push(1):$.push(-1)):a[0]==="="?j=a.substr(1):a[0]==="~"&&(et=!0,j=a.substr(1)),$.indexOf(Utils.compareVersions(tt,j,et))>-1}isOS(a){return this.getOSName(!0)===String(a).toLowerCase()}isPlatform(a){return this.getPlatformType(!0)===String(a).toLowerCase()}isEngine(a){return this.getEngineName(!0)===String(a).toLowerCase()}is(a,$=!1){return this.isBrowser(a,$)||this.isOS(a)||this.isPlatform(a)}some(a=[]){return a.some($=>this.is($))}}/*!
 * Bowser - a browser detector
 * https://github.com/lancedikson/bowser
 * MIT License | (c) Dustin Diaz 2012-2015
 * MIT License | (c) Denis Demchenko 2015-2019
 */class Bowser{static getParser(a,$=!1){if(typeof a!="string")throw new Error("UserAgent should be a string");return new Parser(a,$)}static parse(a){return new Parser(a).getResult()}static get BROWSER_MAP(){return BROWSER_MAP}static get ENGINE_MAP(){return ENGINE_MAP}static get OS_MAP(){return OS_MAP}static get PLATFORMS_MAP(){return PLATFORMS_MAP}}function isPromise(_){return!!(_&&typeof _.then=="function")}Promise.resolve(!1);Promise.resolve(!0);var PROMISE_RESOLVED_VOID=Promise.resolve();function sleep(_,a){return _||(_=0),new Promise(function($){return setTimeout(function(){return $(a)},_)})}function randomInt(_,a){return Math.floor(Math.random()*(a-_+1)+_)}function randomToken(){return Math.random().toString(36).substring(2)}var lastMs=0,additional=0;function microSeconds$5(){var _=new Date().getTime();return _===lastMs?(additional++,_*1e3+additional):(lastMs=_,additional=0,_*1e3)}function are3PCSupported$1(){if(typeof navigator>"u")return!1;var _=Bowser.parse(navigator.userAgent);log$6.info(JSON.stringify(_),"current browser info");var a=!0;return navigator.brave&&(a=!1),(_.engine.name===Bowser.ENGINE_MAP.WebKit||_.engine.name===Bowser.ENGINE_MAP.Gecko)&&(a=!1),a}var log$6=log$1$1.getLogger("broadcast-channel");log$6.setLevel("error");var microSeconds$4=microSeconds$5,type$4="native";function create$4(_){var a={messagesCallback:null,bc:new BroadcastChannel(_),subFns:[]};return a.bc.onmessage=function($){a.messagesCallback&&a.messagesCallback($.data)},a}function close$4(_){_.bc.close(),_.subFns=[]}function postMessage$4(_,a){try{return _.bc.postMessage(a,!1),PROMISE_RESOLVED_VOID}catch($){return Promise.reject($)}}function onMessage$4(_,a){_.messagesCallback=a}function canBeUsed$4(_){if(typeof window>"u"||!_.support3PC)return!1;if(typeof BroadcastChannel=="function"){if(BroadcastChannel._pubkey)throw new Error("BroadcastChannel: Do not overwrite window.BroadcastChannel with this module, this is not a polyfill");return!0}else return!1}function averageResponseTime$4(){return 150}const NativeMethod={create:create$4,close:close$4,onMessage:onMessage$4,postMessage:postMessage$4,canBeUsed:canBeUsed$4,type:type$4,averageResponseTime:averageResponseTime$4,microSeconds:microSeconds$4};var ObliviousSet=function(){function _(a){this.ttl=a,this.map=new Map,this._to=!1}return _.prototype.has=function(a){return this.map.has(a)},_.prototype.add=function(a){var $=this;this.map.set(a,now()),this._to||(this._to=!0,setTimeout(function(){$._to=!1,removeTooOldValues($)},0))},_.prototype.clear=function(){this.map.clear()},_}();function removeTooOldValues(_){for(var a=now()-_.ttl,$=_.map[Symbol.iterator]();;){var j=$.next().value;if(!j)return;var et=j[0],tt=j[1];if(tt<a)_.map.delete(et);else return}}function now(){return new Date().getTime()}function fillOptionsWithDefaults(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=JSON.parse(JSON.stringify(_));return typeof a.support3PC>"u"&&(a.support3PC=are3PCSupported$1()),typeof a.webWorkerSupport>"u"&&(a.webWorkerSupport=!0),a.idb||(a.idb={}),a.idb.ttl||(a.idb.ttl=1e3*45),a.idb.fallbackInterval||(a.idb.fallbackInterval=150),_.idb&&typeof _.idb.onclose=="function"&&(a.idb.onclose=_.idb.onclose),a.localstorage||(a.localstorage={}),a.localstorage.removeTimeout||(a.localstorage.removeTimeout=1e3*60),a.server||(a.server={}),a.server.url||(a.server.url="https://broadcast-server.tor.us"),a.server.removeTimeout||(a.server.removeTimeout=1e3*60*5),_.methods&&(a.methods=_.methods),a}var microSeconds$3=microSeconds$5,DB_PREFIX="pubkey.broadcast-channel-0-",OBJECT_STORE_ID="messages",TRANSACTION_SETTINGS={durability:"relaxed"},type$3="idb";function getIdb(){if(typeof indexedDB<"u")return indexedDB;if(typeof window<"u"){if(typeof window.mozIndexedDB<"u")return window.mozIndexedDB;if(typeof window.webkitIndexedDB<"u")return window.webkitIndexedDB;if(typeof window.msIndexedDB<"u")return window.msIndexedDB}return!1}function commitIndexedDBTransaction(_){_.commit&&_.commit()}function createDatabase(_){var a=getIdb(),$=DB_PREFIX+_,j=a.open($);j.onupgradeneeded=function(tt){var rt=tt.target.result;rt.createObjectStore(OBJECT_STORE_ID,{keyPath:"id",autoIncrement:!0})};var et=new Promise(function(tt,rt){j.onerror=function(nt){return rt(nt)},j.onsuccess=function(){tt(j.result)}});return et}function writeMessage(_,a,$){var j=new Date().getTime(),et={uuid:a,time:j,data:$},tt=_.transaction([OBJECT_STORE_ID],"readwrite",TRANSACTION_SETTINGS);return new Promise(function(rt,nt){tt.oncomplete=function(){return rt()},tt.onerror=function(ot){return nt(ot)};var it=tt.objectStore(OBJECT_STORE_ID);it.add(et),commitIndexedDBTransaction(tt)})}function getMessagesHigherThan(_,a){var $=_.transaction(OBJECT_STORE_ID,"readonly",TRANSACTION_SETTINGS),j=$.objectStore(OBJECT_STORE_ID),et=[],tt=IDBKeyRange.bound(a+1,1/0);if(j.getAll){var rt=j.getAll(tt);return new Promise(function(it,ot){rt.onerror=function(st){return ot(st)},rt.onsuccess=function(st){it(st.target.result)}})}function nt(){try{return tt=IDBKeyRange.bound(a+1,1/0),j.openCursor(tt)}catch{return j.openCursor()}}return new Promise(function(it,ot){var st=nt();st.onerror=function(ct){return ot(ct)},st.onsuccess=function(ct){var ut=ct.target.result;ut?ut.value.id<a+1?ut.continue(a+1):(et.push(ut.value),ut.continue()):(commitIndexedDBTransaction($),it(et))}})}function removeMessagesById(_,a){var $=_.transaction([OBJECT_STORE_ID],"readwrite",TRANSACTION_SETTINGS),j=$.objectStore(OBJECT_STORE_ID);return Promise.all(a.map(function(et){var tt=j.delete(et);return new Promise(function(rt){tt.onsuccess=function(){return rt()}})}))}function getOldMessages(_,a){var $=new Date().getTime()-a,j=_.transaction(OBJECT_STORE_ID,"readonly",TRANSACTION_SETTINGS),et=j.objectStore(OBJECT_STORE_ID),tt=[];return new Promise(function(rt){et.openCursor().onsuccess=function(nt){var it=nt.target.result;if(it){var ot=it.value;if(ot.time<$)tt.push(ot),it.continue();else{commitIndexedDBTransaction(j),rt(tt);return}}else rt(tt)}})}function cleanOldMessages(_,a){return getOldMessages(_,a).then(function($){return removeMessagesById(_,$.map(function(j){return j.id}))})}function create$3(_,a){return a=fillOptionsWithDefaults(a),createDatabase(_).then(function($){var j={closed:!1,lastCursorId:0,channelName:_,options:a,uuid:randomToken(),eMIs:new ObliviousSet(a.idb.ttl*2),writeBlockPromise:PROMISE_RESOLVED_VOID,messagesCallback:null,readQueuePromises:[],db:$};return $.onclose=function(){j.closed=!0,a.idb.onclose&&a.idb.onclose()},_readLoop(j),j})}function _readLoop(_){_.closed||readNewMessages(_).then(function(){return sleep(_.options.idb.fallbackInterval)}).then(function(){return _readLoop(_)})}function _filterMessage(_,a){return!(_.uuid===a.uuid||a.eMIs.has(_.id)||_.data.time<a.messagesCallbackTime)}function readNewMessages(_){return _.closed||!_.messagesCallback?PROMISE_RESOLVED_VOID:getMessagesHigherThan(_.db,_.lastCursorId).then(function(a){var $=a.filter(function(j){return!!j}).map(function(j){return j.id>_.lastCursorId&&(_.lastCursorId=j.id),j}).filter(function(j){return _filterMessage(j,_)}).sort(function(j,et){return j.time-et.time});return $.forEach(function(j){_.messagesCallback&&(_.eMIs.add(j.id),_.messagesCallback(j.data))}),PROMISE_RESOLVED_VOID})}function close$3(_){_.closed=!0,_.db.close()}function postMessage$3(_,a){return _.writeBlockPromise=_.writeBlockPromise.then(function(){return writeMessage(_.db,_.uuid,a)}).then(function(){randomInt(0,10)===0&&cleanOldMessages(_.db,_.options.idb.ttl)}),_.writeBlockPromise}function onMessage$3(_,a,$){_.messagesCallbackTime=$,_.messagesCallback=a,readNewMessages(_)}function canBeUsed$3(_){if(!_.support3PC)return!1;var a=getIdb();return!!a}function averageResponseTime$3(_){return _.idb.fallbackInterval*2}const IndexeDbMethod={create:create$3,close:close$3,onMessage:onMessage$3,postMessage:postMessage$3,canBeUsed:canBeUsed$3,type:type$3,averageResponseTime:averageResponseTime$3,microSeconds:microSeconds$3};var microSeconds$2=microSeconds$5,KEY_PREFIX$1="pubkey.broadcastChannel-",type$2="localstorage";function getLocalStorage(){var _;if(typeof window>"u")return null;try{_=window.localStorage,_=window["ie8-eventlistener/storage"]||window.localStorage}catch{}return _}function storageKey$1(_){return KEY_PREFIX$1+_}function postMessage$2(_,a){return new Promise(function($){sleep().then(function(){var j=storageKey$1(_.channelName),et={token:randomToken(),time:new Date().getTime(),data:a,uuid:_.uuid},tt=JSON.stringify(et);getLocalStorage().setItem(j,tt);var rt=document.createEvent("Event");rt.initEvent("storage",!0,!0),rt.key=j,rt.newValue=tt,window.dispatchEvent(rt),$()})})}function addStorageEventListener(_,a){var $=storageKey$1(_),j=function(tt){tt.key===$&&a(JSON.parse(tt.newValue))};return window.addEventListener("storage",j),j}function removeStorageEventListener(_){window.removeEventListener("storage",_)}function create$2(_,a){if(a=fillOptionsWithDefaults(a),!canBeUsed$2(a))throw new Error("BroadcastChannel: localstorage cannot be used");var $=randomToken(),j=new ObliviousSet(a.localstorage.removeTimeout),et={channelName:_,uuid:$,eMIs:j};return et.listener=addStorageEventListener(_,function(tt){et.messagesCallback&&tt.uuid!==$&&(!tt.token||j.has(tt.token)||tt.data.time&&tt.data.time<et.messagesCallbackTime||(j.add(tt.token),et.messagesCallback(tt.data)))}),et}function close$2(_){removeStorageEventListener(_.listener)}function onMessage$2(_,a,$){_.messagesCallbackTime=$,_.messagesCallback=a}function canBeUsed$2(_){if(!_.support3PC)return!1;var a=getLocalStorage();if(!a)return!1;try{var $="__broadcastchannel_check";a.setItem($,"works"),a.removeItem($)}catch{return!1}return!0}function averageResponseTime$2(){var _=120,a=navigator.userAgent.toLowerCase();return a.includes("safari")&&!a.includes("chrome")?_*2:_}const LocalstorageMethod={create:create$2,close:close$2,onMessage:onMessage$2,postMessage:postMessage$2,canBeUsed:canBeUsed$2,type:type$2,averageResponseTime:averageResponseTime$2,microSeconds:microSeconds$2};function asyncGeneratorStep(_,a,$,j,et,tt,rt){try{var nt=_[tt](rt),it=nt.value}catch(ot){return void $(ot)}nt.done?a(it):Promise.resolve(it).then(j,et)}function _asyncToGenerator(_){return function(){var a=this,$=arguments;return new Promise(function(j,et){var tt=_.apply(a,$);function rt(it){asyncGeneratorStep(tt,j,et,rt,nt,"next",it)}function nt(it){asyncGeneratorStep(tt,j,et,rt,nt,"throw",it)}rt(void 0)})}}var regeneratorRuntime$1={exports:{}},_typeof$2={exports:{}};(function(_){function a($){"@babel/helpers - typeof";return _.exports=a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(j){return typeof j}:function(j){return j&&typeof Symbol=="function"&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":typeof j},_.exports.__esModule=!0,_.exports.default=_.exports,a($)}_.exports=a,_.exports.__esModule=!0,_.exports.default=_.exports})(_typeof$2);var _typeofExports=_typeof$2.exports;(function(_){var a=_typeofExports.default;function $(){_.exports=$=function(){return et},_.exports.__esModule=!0,_.exports.default=_.exports;var j,et={},tt=Object.prototype,rt=tt.hasOwnProperty,nt=Object.defineProperty||function(_t,At,Tt){_t[At]=Tt.value},it=typeof Symbol=="function"?Symbol:{},ot=it.iterator||"@@iterator",st=it.asyncIterator||"@@asyncIterator",ct=it.toStringTag||"@@toStringTag";function ut(_t,At,Tt){return Object.defineProperty(_t,At,{value:Tt,enumerable:!0,configurable:!0,writable:!0}),_t[At]}try{ut({},"")}catch{ut=function(Tt,yt,It){return Tt[yt]=It}}function ht(_t,At,Tt,yt){var It=At&&At.prototype instanceof zt?At:zt,rr=Object.create(It.prototype),ir=new xt(yt||[]);return nt(rr,"_invoke",{value:bt(_t,Tt,ir)}),rr}function Et(_t,At,Tt){try{return{type:"normal",arg:_t.call(At,Tt)}}catch(yt){return{type:"throw",arg:yt}}}et.wrap=ht;var St="suspendedStart",Mt="suspendedYield",kt="executing",Ct="completed",Ot={};function zt(){}function Ut(){}function Vt(){}var jt={};ut(jt,ot,function(){return this});var $t=Object.getPrototypeOf,Bt=$t&&$t($t(wt([])));Bt&&Bt!==tt&&rt.call(Bt,ot)&&(jt=Bt);var Nt=Vt.prototype=zt.prototype=Object.create(jt);function Lt(_t){["next","throw","return"].forEach(function(At){ut(_t,At,function(Tt){return this._invoke(At,Tt)})})}function Pt(_t,At){function Tt(It,rr,ir,nr){var Gt=Et(_t[It],_t,rr);if(Gt.type!=="throw"){var qt=Gt.arg,Jt=qt.value;return Jt&&a(Jt)=="object"&&rt.call(Jt,"__await")?At.resolve(Jt.__await).then(function(Ft){Tt("next",Ft,ir,nr)},function(Ft){Tt("throw",Ft,ir,nr)}):At.resolve(Jt).then(function(Ft){qt.value=Ft,ir(qt)},function(Ft){return Tt("throw",Ft,ir,nr)})}nr(Gt.arg)}var yt;nt(this,"_invoke",{value:function(rr,ir){function nr(){return new At(function(Gt,qt){Tt(rr,ir,Gt,qt)})}return yt=yt?yt.then(nr,nr):nr()}})}function bt(_t,At,Tt){var yt=St;return function(It,rr){if(yt===kt)throw Error("Generator is already running");if(yt===Ct){if(It==="throw")throw rr;return{value:j,done:!0}}for(Tt.method=It,Tt.arg=rr;;){var ir=Tt.delegate;if(ir){var nr=at(ir,Tt);if(nr){if(nr===Ot)continue;return nr}}if(Tt.method==="next")Tt.sent=Tt._sent=Tt.arg;else if(Tt.method==="throw"){if(yt===St)throw yt=Ct,Tt.arg;Tt.dispatchException(Tt.arg)}else Tt.method==="return"&&Tt.abrupt("return",Tt.arg);yt=kt;var Gt=Et(_t,At,Tt);if(Gt.type==="normal"){if(yt=Tt.done?Ct:Mt,Gt.arg===Ot)continue;return{value:Gt.arg,done:Tt.done}}Gt.type==="throw"&&(yt=Ct,Tt.method="throw",Tt.arg=Gt.arg)}}}function at(_t,At){var Tt=At.method,yt=_t.iterator[Tt];if(yt===j)return At.delegate=null,Tt==="throw"&&_t.iterator.return&&(At.method="return",At.arg=j,at(_t,At),At.method==="throw")||Tt!=="return"&&(At.method="throw",At.arg=new TypeError("The iterator does not provide a '"+Tt+"' method")),Ot;var It=Et(yt,_t.iterator,At.arg);if(It.type==="throw")return At.method="throw",At.arg=It.arg,At.delegate=null,Ot;var rr=It.arg;return rr?rr.done?(At[_t.resultName]=rr.value,At.next=_t.nextLoc,At.method!=="return"&&(At.method="next",At.arg=j),At.delegate=null,Ot):rr:(At.method="throw",At.arg=new TypeError("iterator result is not an object"),At.delegate=null,Ot)}function dt(_t){var At={tryLoc:_t[0]};1 in _t&&(At.catchLoc=_t[1]),2 in _t&&(At.finallyLoc=_t[2],At.afterLoc=_t[3]),this.tryEntries.push(At)}function vt(_t){var At=_t.completion||{};At.type="normal",delete At.arg,_t.completion=At}function xt(_t){this.tryEntries=[{tryLoc:"root"}],_t.forEach(dt,this),this.reset(!0)}function wt(_t){if(_t||_t===""){var At=_t[ot];if(At)return At.call(_t);if(typeof _t.next=="function")return _t;if(!isNaN(_t.length)){var Tt=-1,yt=function It(){for(;++Tt<_t.length;)if(rt.call(_t,Tt))return It.value=_t[Tt],It.done=!1,It;return It.value=j,It.done=!0,It};return yt.next=yt}}throw new TypeError(a(_t)+" is not iterable")}return Ut.prototype=Vt,nt(Nt,"constructor",{value:Vt,configurable:!0}),nt(Vt,"constructor",{value:Ut,configurable:!0}),Ut.displayName=ut(Vt,ct,"GeneratorFunction"),et.isGeneratorFunction=function(_t){var At=typeof _t=="function"&&_t.constructor;return!!At&&(At===Ut||(At.displayName||At.name)==="GeneratorFunction")},et.mark=function(_t){return Object.setPrototypeOf?Object.setPrototypeOf(_t,Vt):(_t.__proto__=Vt,ut(_t,ct,"GeneratorFunction")),_t.prototype=Object.create(Nt),_t},et.awrap=function(_t){return{__await:_t}},Lt(Pt.prototype),ut(Pt.prototype,st,function(){return this}),et.AsyncIterator=Pt,et.async=function(_t,At,Tt,yt,It){It===void 0&&(It=Promise);var rr=new Pt(ht(_t,At,Tt,yt),It);return et.isGeneratorFunction(At)?rr:rr.next().then(function(ir){return ir.done?ir.value:rr.next()})},Lt(Nt),ut(Nt,ct,"Generator"),ut(Nt,ot,function(){return this}),ut(Nt,"toString",function(){return"[object Generator]"}),et.keys=function(_t){var At=Object(_t),Tt=[];for(var yt in At)Tt.push(yt);return Tt.reverse(),function It(){for(;Tt.length;){var rr=Tt.pop();if(rr in At)return It.value=rr,It.done=!1,It}return It.done=!0,It}},et.values=wt,xt.prototype={constructor:xt,reset:function(At){if(this.prev=0,this.next=0,this.sent=this._sent=j,this.done=!1,this.delegate=null,this.method="next",this.arg=j,this.tryEntries.forEach(vt),!At)for(var Tt in this)Tt.charAt(0)==="t"&&rt.call(this,Tt)&&!isNaN(+Tt.slice(1))&&(this[Tt]=j)},stop:function(){this.done=!0;var At=this.tryEntries[0].completion;if(At.type==="throw")throw At.arg;return this.rval},dispatchException:function(At){if(this.done)throw At;var Tt=this;function yt(qt,Jt){return ir.type="throw",ir.arg=At,Tt.next=qt,Jt&&(Tt.method="next",Tt.arg=j),!!Jt}for(var It=this.tryEntries.length-1;It>=0;--It){var rr=this.tryEntries[It],ir=rr.completion;if(rr.tryLoc==="root")return yt("end");if(rr.tryLoc<=this.prev){var nr=rt.call(rr,"catchLoc"),Gt=rt.call(rr,"finallyLoc");if(nr&&Gt){if(this.prev<rr.catchLoc)return yt(rr.catchLoc,!0);if(this.prev<rr.finallyLoc)return yt(rr.finallyLoc)}else if(nr){if(this.prev<rr.catchLoc)return yt(rr.catchLoc,!0)}else{if(!Gt)throw Error("try statement without catch or finally");if(this.prev<rr.finallyLoc)return yt(rr.finallyLoc)}}}},abrupt:function(At,Tt){for(var yt=this.tryEntries.length-1;yt>=0;--yt){var It=this.tryEntries[yt];if(It.tryLoc<=this.prev&&rt.call(It,"finallyLoc")&&this.prev<It.finallyLoc){var rr=It;break}}rr&&(At==="break"||At==="continue")&&rr.tryLoc<=Tt&&Tt<=rr.finallyLoc&&(rr=null);var ir=rr?rr.completion:{};return ir.type=At,ir.arg=Tt,rr?(this.method="next",this.next=rr.finallyLoc,Ot):this.complete(ir)},complete:function(At,Tt){if(At.type==="throw")throw At.arg;return At.type==="break"||At.type==="continue"?this.next=At.arg:At.type==="return"?(this.rval=this.arg=At.arg,this.method="return",this.next="end"):At.type==="normal"&&Tt&&(this.next=Tt),Ot},finish:function(At){for(var Tt=this.tryEntries.length-1;Tt>=0;--Tt){var yt=this.tryEntries[Tt];if(yt.finallyLoc===At)return this.complete(yt.completion,yt.afterLoc),vt(yt),Ot}},catch:function(At){for(var Tt=this.tryEntries.length-1;Tt>=0;--Tt){var yt=this.tryEntries[Tt];if(yt.tryLoc===At){var It=yt.completion;if(It.type==="throw"){var rr=It.arg;vt(yt)}return rr}}throw Error("illegal catch attempt")},delegateYield:function(At,Tt,yt){return this.delegate={iterator:wt(At),resultName:Tt,nextLoc:yt},this.method==="next"&&(this.arg=j),Ot}},et}_.exports=$,_.exports.__esModule=!0,_.exports.default=_.exports})(regeneratorRuntime$1);var regeneratorRuntimeExports=regeneratorRuntime$1.exports,runtime=regeneratorRuntimeExports(),regenerator=runtime;try{regeneratorRuntime=runtime}catch(_){typeof globalThis=="object"?globalThis.regeneratorRuntime=runtime:Function("r","regeneratorRuntime = r")(runtime)}const _regeneratorRuntime=getDefaultExportFromCjs$1(regenerator),PACKET_TYPES=Object.create(null);PACKET_TYPES.open="0";PACKET_TYPES.close="1";PACKET_TYPES.ping="2";PACKET_TYPES.pong="3";PACKET_TYPES.message="4";PACKET_TYPES.upgrade="5";PACKET_TYPES.noop="6";const PACKET_TYPES_REVERSE=Object.create(null);Object.keys(PACKET_TYPES).forEach(_=>{PACKET_TYPES_REVERSE[PACKET_TYPES[_]]=_});const ERROR_PACKET={type:"error",data:"parser error"},withNativeBlob$1=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",withNativeArrayBuffer$2=typeof ArrayBuffer=="function",isView$1=_=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(_):_&&_.buffer instanceof ArrayBuffer,encodePacket=({type:_,data:a},$,j)=>withNativeBlob$1&&a instanceof Blob?$?j(a):encodeBlobAsBase64(a,j):withNativeArrayBuffer$2&&(a instanceof ArrayBuffer||isView$1(a))?$?j(a):encodeBlobAsBase64(new Blob([a]),j):j(PACKET_TYPES[_]+(a||"")),encodeBlobAsBase64=(_,a)=>{const $=new FileReader;return $.onload=function(){const j=$.result.split(",")[1];a("b"+(j||""))},$.readAsDataURL(_)};function toArray(_){return _ instanceof Uint8Array?_:_ instanceof ArrayBuffer?new Uint8Array(_):new Uint8Array(_.buffer,_.byteOffset,_.byteLength)}let TEXT_ENCODER;function encodePacketToBinary(_,a){if(withNativeBlob$1&&_.data instanceof Blob)return _.data.arrayBuffer().then(toArray).then(a);if(withNativeArrayBuffer$2&&(_.data instanceof ArrayBuffer||isView$1(_.data)))return a(toArray(_.data));encodePacket(_,!1,$=>{TEXT_ENCODER||(TEXT_ENCODER=new TextEncoder),a(TEXT_ENCODER.encode($))})}const chars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",lookup$1=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let _=0;_<chars.length;_++)lookup$1[chars.charCodeAt(_)]=_;const decode$3=_=>{let a=_.length*.75,$=_.length,j,et=0,tt,rt,nt,it;_[_.length-1]==="="&&(a--,_[_.length-2]==="="&&a--);const ot=new ArrayBuffer(a),st=new Uint8Array(ot);for(j=0;j<$;j+=4)tt=lookup$1[_.charCodeAt(j)],rt=lookup$1[_.charCodeAt(j+1)],nt=lookup$1[_.charCodeAt(j+2)],it=lookup$1[_.charCodeAt(j+3)],st[et++]=tt<<2|rt>>4,st[et++]=(rt&15)<<4|nt>>2,st[et++]=(nt&3)<<6|it&63;return ot},withNativeArrayBuffer$1=typeof ArrayBuffer=="function",decodePacket=(_,a)=>{if(typeof _!="string")return{type:"message",data:mapBinary(_,a)};const $=_.charAt(0);return $==="b"?{type:"message",data:decodeBase64Packet(_.substring(1),a)}:PACKET_TYPES_REVERSE[$]?_.length>1?{type:PACKET_TYPES_REVERSE[$],data:_.substring(1)}:{type:PACKET_TYPES_REVERSE[$]}:ERROR_PACKET},decodeBase64Packet=(_,a)=>{if(withNativeArrayBuffer$1){const $=decode$3(_);return mapBinary($,a)}else return{base64:!0,data:_}},mapBinary=(_,a)=>{switch(a){case"blob":return _ instanceof Blob?_:new Blob([_]);case"arraybuffer":default:return _ instanceof ArrayBuffer?_:_.buffer}},SEPARATOR="",encodePayload=(_,a)=>{const $=_.length,j=new Array($);let et=0;_.forEach((tt,rt)=>{encodePacket(tt,!1,nt=>{j[rt]=nt,++et===$&&a(j.join(SEPARATOR))})})},decodePayload=(_,a)=>{const $=_.split(SEPARATOR),j=[];for(let et=0;et<$.length;et++){const tt=decodePacket($[et],a);if(j.push(tt),tt.type==="error")break}return j};function createPacketEncoderStream(){return new TransformStream({transform(_,a){encodePacketToBinary(_,$=>{const j=$.length;let et;if(j<126)et=new Uint8Array(1),new DataView(et.buffer).setUint8(0,j);else if(j<65536){et=new Uint8Array(3);const tt=new DataView(et.buffer);tt.setUint8(0,126),tt.setUint16(1,j)}else{et=new Uint8Array(9);const tt=new DataView(et.buffer);tt.setUint8(0,127),tt.setBigUint64(1,BigInt(j))}_.data&&typeof _.data!="string"&&(et[0]|=128),a.enqueue(et),a.enqueue($)})}})}let TEXT_DECODER;function totalLength(_){return _.reduce((a,$)=>a+$.length,0)}function concatChunks(_,a){if(_[0].length===a)return _.shift();const $=new Uint8Array(a);let j=0;for(let et=0;et<a;et++)$[et]=_[0][j++],j===_[0].length&&(_.shift(),j=0);return _.length&&j<_[0].length&&(_[0]=_[0].slice(j)),$}function createPacketDecoderStream(_,a){TEXT_DECODER||(TEXT_DECODER=new TextDecoder);const $=[];let j=0,et=-1,tt=!1;return new TransformStream({transform(rt,nt){for($.push(rt);;){if(j===0){if(totalLength($)<1)break;const it=concatChunks($,1);tt=(it[0]&128)===128,et=it[0]&127,et<126?j=3:et===126?j=1:j=2}else if(j===1){if(totalLength($)<2)break;const it=concatChunks($,2);et=new DataView(it.buffer,it.byteOffset,it.length).getUint16(0),j=3}else if(j===2){if(totalLength($)<8)break;const it=concatChunks($,8),ot=new DataView(it.buffer,it.byteOffset,it.length),st=ot.getUint32(0);if(st>Math.pow(2,21)-1){nt.enqueue(ERROR_PACKET);break}et=st*Math.pow(2,32)+ot.getUint32(4),j=3}else{if(totalLength($)<et)break;const it=concatChunks($,et);nt.enqueue(decodePacket(tt?it:TEXT_DECODER.decode(it),a)),j=0}if(et===0||et>_){nt.enqueue(ERROR_PACKET);break}}}})}const protocol$1=4;function Emitter(_){if(_)return mixin(_)}function mixin(_){for(var a in Emitter.prototype)_[a]=Emitter.prototype[a];return _}Emitter.prototype.on=Emitter.prototype.addEventListener=function(_,a){return this._callbacks=this._callbacks||{},(this._callbacks["$"+_]=this._callbacks["$"+_]||[]).push(a),this};Emitter.prototype.once=function(_,a){function $(){this.off(_,$),a.apply(this,arguments)}return $.fn=a,this.on(_,$),this};Emitter.prototype.off=Emitter.prototype.removeListener=Emitter.prototype.removeAllListeners=Emitter.prototype.removeEventListener=function(_,a){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var $=this._callbacks["$"+_];if(!$)return this;if(arguments.length==1)return delete this._callbacks["$"+_],this;for(var j,et=0;et<$.length;et++)if(j=$[et],j===a||j.fn===a){$.splice(et,1);break}return $.length===0&&delete this._callbacks["$"+_],this};Emitter.prototype.emit=function(_){this._callbacks=this._callbacks||{};for(var a=new Array(arguments.length-1),$=this._callbacks["$"+_],j=1;j<arguments.length;j++)a[j-1]=arguments[j];if($){$=$.slice(0);for(var j=0,et=$.length;j<et;++j)$[j].apply(this,a)}return this};Emitter.prototype.emitReserved=Emitter.prototype.emit;Emitter.prototype.listeners=function(_){return this._callbacks=this._callbacks||{},this._callbacks["$"+_]||[]};Emitter.prototype.hasListeners=function(_){return!!this.listeners(_).length};const globalThisShim=typeof self<"u"?self:typeof window<"u"?window:Function("return this")();function pick(_,...a){return a.reduce(($,j)=>(_.hasOwnProperty(j)&&($[j]=_[j]),$),{})}const NATIVE_SET_TIMEOUT=globalThisShim.setTimeout,NATIVE_CLEAR_TIMEOUT=globalThisShim.clearTimeout;function installTimerFunctions(_,a){a.useNativeTimers?(_.setTimeoutFn=NATIVE_SET_TIMEOUT.bind(globalThisShim),_.clearTimeoutFn=NATIVE_CLEAR_TIMEOUT.bind(globalThisShim)):(_.setTimeoutFn=globalThisShim.setTimeout.bind(globalThisShim),_.clearTimeoutFn=globalThisShim.clearTimeout.bind(globalThisShim))}const BASE64_OVERHEAD=1.33;function byteLength(_){return typeof _=="string"?utf8Length(_):Math.ceil((_.byteLength||_.size)*BASE64_OVERHEAD)}function utf8Length(_){let a=0,$=0;for(let j=0,et=_.length;j<et;j++)a=_.charCodeAt(j),a<128?$+=1:a<2048?$+=2:a<55296||a>=57344?$+=3:(j++,$+=4);return $}function encode$2(_){let a="";for(let $ in _)_.hasOwnProperty($)&&(a.length&&(a+="&"),a+=encodeURIComponent($)+"="+encodeURIComponent(_[$]));return a}function decode$2(_){let a={},$=_.split("&");for(let j=0,et=$.length;j<et;j++){let tt=$[j].split("=");a[decodeURIComponent(tt[0])]=decodeURIComponent(tt[1])}return a}class TransportError extends Error{constructor(a,$,j){super(a),this.description=$,this.context=j,this.type="TransportError"}}class Transport extends Emitter{constructor(a){super(),this.writable=!1,installTimerFunctions(this,a),this.opts=a,this.query=a.query,this.socket=a.socket}onError(a,$,j){return super.emitReserved("error",new TransportError(a,$,j)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(a){this.readyState==="open"&&this.write(a)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(a){const $=decodePacket(a,this.socket.binaryType);this.onPacket($)}onPacket(a){super.emitReserved("packet",a)}onClose(a){this.readyState="closed",super.emitReserved("close",a)}pause(a){}createUri(a,$={}){return a+"://"+this._hostname()+this._port()+this.opts.path+this._query($)}_hostname(){const a=this.opts.hostname;return a.indexOf(":")===-1?a:"["+a+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(a){const $=encode$2(a);return $.length?"?"+$:""}}const alphabet="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),length=64,map={};let seed=0,i=0,prev;function encode$1(_){let a="";do a=alphabet[_%length]+a,_=Math.floor(_/length);while(_>0);return a}function yeast(){const _=encode$1(+new Date);return _!==prev?(seed=0,prev=_):_+"."+encode$1(seed++)}for(;i<length;i++)map[alphabet[i]]=i;let value=!1;try{value=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch(_){}const hasCORS=value;function XHR(_){const a=_.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!a||hasCORS))return new XMLHttpRequest}catch{}if(!a)try{return new globalThisShim[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}function createCookieJar(){}function empty(){}const hasXHR2=function(){return new XHR({xdomain:!1}).responseType!=null}();class Polling extends Transport{constructor(a){if(super(a),this.polling=!1,typeof location<"u"){const j=location.protocol==="https:";let et=location.port;et||(et=j?"443":"80"),this.xd=typeof location<"u"&&a.hostname!==location.hostname||et!==a.port}const $=a&&a.forceBase64;this.supportsBinary=hasXHR2&&!$,this.opts.withCredentials&&(this.cookieJar=void 0)}get name(){return"polling"}doOpen(){this.poll()}pause(a){this.readyState="pausing";const $=()=>{this.readyState="paused",a()};if(this.polling||!this.writable){let j=0;this.polling&&(j++,this.once("pollComplete",function(){--j||$()})),this.writable||(j++,this.once("drain",function(){--j||$()}))}else $()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(a){const $=j=>{if(this.readyState==="opening"&&j.type==="open"&&this.onOpen(),j.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(j)};decodePayload(a,this.socket.binaryType).forEach($),this.readyState!=="closed"&&(this.polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this.poll())}doClose(){const a=()=>{this.write([{type:"close"}])};this.readyState==="open"?a():this.once("open",a)}write(a){this.writable=!1,encodePayload(a,$=>{this.doWrite($,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const a=this.opts.secure?"https":"http",$=this.query||{};return this.opts.timestampRequests!==!1&&($[this.opts.timestampParam]=yeast()),!this.supportsBinary&&!$.sid&&($.b64=1),this.createUri(a,$)}request(a={}){return Object.assign(a,{xd:this.xd,cookieJar:this.cookieJar},this.opts),new Request$1(this.uri(),a)}doWrite(a,$){const j=this.request({method:"POST",data:a});j.on("success",$),j.on("error",(et,tt)=>{this.onError("xhr post error",et,tt)})}doPoll(){const a=this.request();a.on("data",this.onData.bind(this)),a.on("error",($,j)=>{this.onError("xhr poll error",$,j)}),this.pollXhr=a}}let Request$1=class nm extends Emitter{constructor(a,$){super(),installTimerFunctions(this,$),this.opts=$,this.method=$.method||"GET",this.uri=a,this.data=$.data!==void 0?$.data:null,this.create()}create(){var a;const $=pick(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");$.xdomain=!!this.opts.xd;const j=this.xhr=new XHR($);try{j.open(this.method,this.uri,!0);try{if(this.opts.extraHeaders){j.setDisableHeaderCheck&&j.setDisableHeaderCheck(!0);for(let et in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(et)&&j.setRequestHeader(et,this.opts.extraHeaders[et])}}catch{}if(this.method==="POST")try{j.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{j.setRequestHeader("Accept","*/*")}catch{}(a=this.opts.cookieJar)===null||a===void 0||a.addCookies(j),"withCredentials"in j&&(j.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(j.timeout=this.opts.requestTimeout),j.onreadystatechange=()=>{var et;j.readyState===3&&((et=this.opts.cookieJar)===null||et===void 0||et.parseCookies(j)),j.readyState===4&&(j.status===200||j.status===1223?this.onLoad():this.setTimeoutFn(()=>{this.onError(typeof j.status=="number"?j.status:0)},0))},j.send(this.data)}catch(et){this.setTimeoutFn(()=>{this.onError(et)},0);return}typeof document<"u"&&(this.index=nm.requestsCount++,nm.requests[this.index]=this)}onError(a){this.emitReserved("error",a,this.xhr),this.cleanup(!0)}cleanup(a){if(!(typeof this.xhr>"u"||this.xhr===null)){if(this.xhr.onreadystatechange=empty,a)try{this.xhr.abort()}catch{}typeof document<"u"&&delete nm.requests[this.index],this.xhr=null}}onLoad(){const a=this.xhr.responseText;a!==null&&(this.emitReserved("data",a),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}};Request$1.requestsCount=0;Request$1.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",unloadHandler);else if(typeof addEventListener=="function"){const _="onpagehide"in globalThisShim?"pagehide":"unload";addEventListener(_,unloadHandler,!1)}}function unloadHandler(){for(let _ in Request$1.requests)Request$1.requests.hasOwnProperty(_)&&Request$1.requests[_].abort()}const nextTick=typeof Promise=="function"&&typeof Promise.resolve=="function"?a=>Promise.resolve().then(a):(a,$)=>$(a,0),WebSocket=globalThisShim.WebSocket||globalThisShim.MozWebSocket,usingBrowserWebSocket=!0,defaultBinaryType="arraybuffer",isReactNative=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class WS extends Transport{constructor(a){super(a),this.supportsBinary=!a.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const a=this.uri(),$=this.opts.protocols,j=isReactNative?{}:pick(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(j.headers=this.opts.extraHeaders);try{this.ws=usingBrowserWebSocket&&!isReactNative?$?new WebSocket(a,$):new WebSocket(a):new WebSocket(a,$,j)}catch(et){return this.emitReserved("error",et)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=a=>this.onClose({description:"websocket connection closed",context:a}),this.ws.onmessage=a=>this.onData(a.data),this.ws.onerror=a=>this.onError("websocket error",a)}write(a){this.writable=!1;for(let $=0;$<a.length;$++){const j=a[$],et=$===a.length-1;encodePacket(j,this.supportsBinary,tt=>{const rt={};try{usingBrowserWebSocket&&this.ws.send(tt)}catch{}et&&nextTick(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.close(),this.ws=null)}uri(){const a=this.opts.secure?"wss":"ws",$=this.query||{};return this.opts.timestampRequests&&($[this.opts.timestampParam]=yeast()),this.supportsBinary||($.b64=1),this.createUri(a,$)}check(){return!!WebSocket}}class WT extends Transport{get name(){return"webtransport"}doOpen(){typeof WebTransport=="function"&&(this.transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name]),this.transport.closed.then(()=>{this.onClose()}).catch(a=>{this.onError("webtransport error",a)}),this.transport.ready.then(()=>{this.transport.createBidirectionalStream().then(a=>{const $=createPacketDecoderStream(Number.MAX_SAFE_INTEGER,this.socket.binaryType),j=a.readable.pipeThrough($).getReader(),et=createPacketEncoderStream();et.readable.pipeTo(a.writable),this.writer=et.writable.getWriter();const tt=()=>{j.read().then(({done:nt,value:it})=>{nt||(this.onPacket(it),tt())}).catch(nt=>{})};tt();const rt={type:"open"};this.query.sid&&(rt.data=`{"sid":"${this.query.sid}"}`),this.writer.write(rt).then(()=>this.onOpen())})}))}write(a){this.writable=!1;for(let $=0;$<a.length;$++){const j=a[$],et=$===a.length-1;this.writer.write(j).then(()=>{et&&nextTick(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var a;(a=this.transport)===null||a===void 0||a.close()}}const transports={websocket:WS,webtransport:WT,polling:Polling},re=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,parts=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function parse$2(_){if(_.length>2e3)throw"URI too long";const a=_,$=_.indexOf("["),j=_.indexOf("]");$!=-1&&j!=-1&&(_=_.substring(0,$)+_.substring($,j).replace(/:/g,";")+_.substring(j,_.length));let et=re.exec(_||""),tt={},rt=14;for(;rt--;)tt[parts[rt]]=et[rt]||"";return $!=-1&&j!=-1&&(tt.source=a,tt.host=tt.host.substring(1,tt.host.length-1).replace(/;/g,":"),tt.authority=tt.authority.replace("[","").replace("]","").replace(/;/g,":"),tt.ipv6uri=!0),tt.pathNames=pathNames(tt,tt.path),tt.queryKey=queryKey(tt,tt.query),tt}function pathNames(_,a){const $=/\/{2,9}/g,j=a.replace($,"/").split("/");return(a.slice(0,1)=="/"||a.length===0)&&j.splice(0,1),a.slice(-1)=="/"&&j.splice(j.length-1,1),j}function queryKey(_,a){const $={};return a.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(j,et,tt){et&&($[et]=tt)}),$}let Socket$1=class Pu extends Emitter{constructor(a,$={}){super(),this.binaryType=defaultBinaryType,this.writeBuffer=[],a&&typeof a=="object"&&($=a,a=null),a?(a=parse$2(a),$.hostname=a.host,$.secure=a.protocol==="https"||a.protocol==="wss",$.port=a.port,a.query&&($.query=a.query)):$.host&&($.hostname=parse$2($.host).host),installTimerFunctions(this,$),this.secure=$.secure!=null?$.secure:typeof location<"u"&&location.protocol==="https:",$.hostname&&!$.port&&($.port=this.secure?"443":"80"),this.hostname=$.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=$.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=$.transports||["polling","websocket","webtransport"],this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},$),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=decode$2(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,typeof addEventListener=="function"&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(a){const $=Object.assign({},this.opts.query);$.EIO=protocol$1,$.transport=a,this.id&&($.sid=this.id);const j=Object.assign({},this.opts,{query:$,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[a]);return new transports[a](j)}open(){let a;if(this.opts.rememberUpgrade&&Pu.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)a="websocket";else if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}else a=this.transports[0];this.readyState="opening";try{a=this.createTransport(a)}catch{this.transports.shift(),this.open();return}a.open(),this.setTransport(a)}setTransport(a){this.transport&&this.transport.removeAllListeners(),this.transport=a,a.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",$=>this.onClose("transport close",$))}probe(a){let $=this.createTransport(a),j=!1;Pu.priorWebsocketSuccess=!1;const et=()=>{j||($.send([{type:"ping",data:"probe"}]),$.once("packet",ct=>{if(!j)if(ct.type==="pong"&&ct.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",$),!$)return;Pu.priorWebsocketSuccess=$.name==="websocket",this.transport.pause(()=>{j||this.readyState!=="closed"&&(st(),this.setTransport($),$.send([{type:"upgrade"}]),this.emitReserved("upgrade",$),$=null,this.upgrading=!1,this.flush())})}else{const ut=new Error("probe error");ut.transport=$.name,this.emitReserved("upgradeError",ut)}}))};function tt(){j||(j=!0,st(),$.close(),$=null)}const rt=ct=>{const ut=new Error("probe error: "+ct);ut.transport=$.name,tt(),this.emitReserved("upgradeError",ut)};function nt(){rt("transport closed")}function it(){rt("socket closed")}function ot(ct){$&&ct.name!==$.name&&tt()}const st=()=>{$.removeListener("open",et),$.removeListener("error",rt),$.removeListener("close",nt),this.off("close",it),this.off("upgrading",ot)};$.once("open",et),$.once("error",rt),$.once("close",nt),this.once("close",it),this.once("upgrading",ot),this.upgrades.indexOf("webtransport")!==-1&&a!=="webtransport"?this.setTimeoutFn(()=>{j||$.open()},200):$.open()}onOpen(){if(this.readyState="open",Pu.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush(),this.readyState==="open"&&this.opts.upgrade){let a=0;const $=this.upgrades.length;for(;a<$;a++)this.probe(this.upgrades[a])}}onPacket(a){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",a),this.emitReserved("heartbeat"),this.resetPingTimeout(),a.type){case"open":this.onHandshake(JSON.parse(a.data));break;case"ping":this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const $=new Error("server error");$.code=a.data,this.onError($);break;case"message":this.emitReserved("data",a.data),this.emitReserved("message",a.data);break}}onHandshake(a){this.emitReserved("handshake",a),this.id=a.sid,this.transport.query.sid=a.sid,this.upgrades=this.filterUpgrades(a.upgrades),this.pingInterval=a.pingInterval,this.pingTimeout=a.pingTimeout,this.maxPayload=a.maxPayload,this.onOpen(),this.readyState!=="closed"&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const a=this.getWritablePackets();this.transport.send(a),this.prevBufferLen=a.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let $=1;for(let j=0;j<this.writeBuffer.length;j++){const et=this.writeBuffer[j].data;if(et&&($+=byteLength(et)),j>0&&$>this.maxPayload)return this.writeBuffer.slice(0,j);$+=2}return this.writeBuffer}write(a,$,j){return this.sendPacket("message",a,$,j),this}send(a,$,j){return this.sendPacket("message",a,$,j),this}sendPacket(a,$,j,et){if(typeof $=="function"&&(et=$,$=void 0),typeof j=="function"&&(et=j,j=null),this.readyState==="closing"||this.readyState==="closed")return;j=j||{},j.compress=j.compress!==!1;const tt={type:a,data:$,options:j};this.emitReserved("packetCreate",tt),this.writeBuffer.push(tt),et&&this.once("flush",et),this.flush()}close(){const a=()=>{this.onClose("forced close"),this.transport.close()},$=()=>{this.off("upgrade",$),this.off("upgradeError",$),a()},j=()=>{this.once("upgrade",$),this.once("upgradeError",$)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?j():a()}):this.upgrading?j():a()),this}onError(a){Pu.priorWebsocketSuccess=!1,this.emitReserved("error",a),this.onClose("transport error",a)}onClose(a,$){(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")&&(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),typeof removeEventListener=="function"&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",a,$),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(a){const $=[];let j=0;const et=a.length;for(;j<et;j++)~this.transports.indexOf(a[j])&&$.push(a[j]);return $}};Socket$1.protocol=protocol$1;function url(_,a="",$){let j=_;$=$||typeof location<"u"&&location,_==null&&(_=$.protocol+"//"+$.host),typeof _=="string"&&(_.charAt(0)==="/"&&(_.charAt(1)==="/"?_=$.protocol+_:_=$.host+_),/^(https?|wss?):\/\//.test(_)||(typeof $<"u"?_=$.protocol+"//"+_:_="https://"+_),j=parse$2(_)),j.port||(/^(http|ws)$/.test(j.protocol)?j.port="80":/^(http|ws)s$/.test(j.protocol)&&(j.port="443")),j.path=j.path||"/";const tt=j.host.indexOf(":")!==-1?"["+j.host+"]":j.host;return j.id=j.protocol+"://"+tt+":"+j.port+a,j.href=j.protocol+"://"+tt+($&&$.port===j.port?"":":"+j.port),j}const withNativeArrayBuffer=typeof ArrayBuffer=="function",isView=_=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(_):_.buffer instanceof ArrayBuffer,toString$1=Object.prototype.toString,withNativeBlob=typeof Blob=="function"||typeof Blob<"u"&&toString$1.call(Blob)==="[object BlobConstructor]",withNativeFile=typeof File=="function"||typeof File<"u"&&toString$1.call(File)==="[object FileConstructor]";function isBinary(_){return withNativeArrayBuffer&&(_ instanceof ArrayBuffer||isView(_))||withNativeBlob&&_ instanceof Blob||withNativeFile&&_ instanceof File}function hasBinary(_,a){if(!_||typeof _!="object")return!1;if(Array.isArray(_)){for(let $=0,j=_.length;$<j;$++)if(hasBinary(_[$]))return!0;return!1}if(isBinary(_))return!0;if(_.toJSON&&typeof _.toJSON=="function"&&arguments.length===1)return hasBinary(_.toJSON(),!0);for(const $ in _)if(Object.prototype.hasOwnProperty.call(_,$)&&hasBinary(_[$]))return!0;return!1}function deconstructPacket(_){const a=[],$=_.data,j=_;return j.data=_deconstructPacket($,a),j.attachments=a.length,{packet:j,buffers:a}}function _deconstructPacket(_,a){if(!_)return _;if(isBinary(_)){const $={_placeholder:!0,num:a.length};return a.push(_),$}else if(Array.isArray(_)){const $=new Array(_.length);for(let j=0;j<_.length;j++)$[j]=_deconstructPacket(_[j],a);return $}else if(typeof _=="object"&&!(_ instanceof Date)){const $={};for(const j in _)Object.prototype.hasOwnProperty.call(_,j)&&($[j]=_deconstructPacket(_[j],a));return $}return _}function reconstructPacket(_,a){return _.data=_reconstructPacket(_.data,a),delete _.attachments,_}function _reconstructPacket(_,a){if(!_)return _;if(_&&_._placeholder===!0){if(typeof _.num=="number"&&_.num>=0&&_.num<a.length)return a[_.num];throw new Error("illegal attachments")}else if(Array.isArray(_))for(let $=0;$<_.length;$++)_[$]=_reconstructPacket(_[$],a);else if(typeof _=="object")for(const $ in _)Object.prototype.hasOwnProperty.call(_,$)&&(_[$]=_reconstructPacket(_[$],a));return _}const RESERVED_EVENTS$1=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],protocol=5;var PacketType;(function(_){_[_.CONNECT=0]="CONNECT",_[_.DISCONNECT=1]="DISCONNECT",_[_.EVENT=2]="EVENT",_[_.ACK=3]="ACK",_[_.CONNECT_ERROR=4]="CONNECT_ERROR",_[_.BINARY_EVENT=5]="BINARY_EVENT",_[_.BINARY_ACK=6]="BINARY_ACK"})(PacketType||(PacketType={}));class Encoder{constructor(a){this.replacer=a}encode(a){return(a.type===PacketType.EVENT||a.type===PacketType.ACK)&&hasBinary(a)?this.encodeAsBinary({type:a.type===PacketType.EVENT?PacketType.BINARY_EVENT:PacketType.BINARY_ACK,nsp:a.nsp,data:a.data,id:a.id}):[this.encodeAsString(a)]}encodeAsString(a){let $=""+a.type;return(a.type===PacketType.BINARY_EVENT||a.type===PacketType.BINARY_ACK)&&($+=a.attachments+"-"),a.nsp&&a.nsp!=="/"&&($+=a.nsp+","),a.id!=null&&($+=a.id),a.data!=null&&($+=JSON.stringify(a.data,this.replacer)),$}encodeAsBinary(a){const $=deconstructPacket(a),j=this.encodeAsString($.packet),et=$.buffers;return et.unshift(j),et}}function isObject(_){return Object.prototype.toString.call(_)==="[object Object]"}class Decoder extends Emitter{constructor(a){super(),this.reviver=a}add(a){let $;if(typeof a=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");$=this.decodeString(a);const j=$.type===PacketType.BINARY_EVENT;j||$.type===PacketType.BINARY_ACK?($.type=j?PacketType.EVENT:PacketType.ACK,this.reconstructor=new BinaryReconstructor($),$.attachments===0&&super.emitReserved("decoded",$)):super.emitReserved("decoded",$)}else if(isBinary(a)||a.base64)if(this.reconstructor)$=this.reconstructor.takeBinaryData(a),$&&(this.reconstructor=null,super.emitReserved("decoded",$));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+a)}decodeString(a){let $=0;const j={type:Number(a.charAt(0))};if(PacketType[j.type]===void 0)throw new Error("unknown packet type "+j.type);if(j.type===PacketType.BINARY_EVENT||j.type===PacketType.BINARY_ACK){const tt=$+1;for(;a.charAt(++$)!=="-"&&$!=a.length;);const rt=a.substring(tt,$);if(rt!=Number(rt)||a.charAt($)!=="-")throw new Error("Illegal attachments");j.attachments=Number(rt)}if(a.charAt($+1)==="/"){const tt=$+1;for(;++$&&!(a.charAt($)===","||$===a.length););j.nsp=a.substring(tt,$)}else j.nsp="/";const et=a.charAt($+1);if(et!==""&&Number(et)==et){const tt=$+1;for(;++$;){const rt=a.charAt($);if(rt==null||Number(rt)!=rt){--$;break}if($===a.length)break}j.id=Number(a.substring(tt,$+1))}if(a.charAt(++$)){const tt=this.tryParse(a.substr($));if(Decoder.isPayloadValid(j.type,tt))j.data=tt;else throw new Error("invalid payload")}return j}tryParse(a){try{return JSON.parse(a,this.reviver)}catch{return!1}}static isPayloadValid(a,$){switch(a){case PacketType.CONNECT:return isObject($);case PacketType.DISCONNECT:return $===void 0;case PacketType.CONNECT_ERROR:return typeof $=="string"||isObject($);case PacketType.EVENT:case PacketType.BINARY_EVENT:return Array.isArray($)&&(typeof $[0]=="number"||typeof $[0]=="string"&&RESERVED_EVENTS$1.indexOf($[0])===-1);case PacketType.ACK:case PacketType.BINARY_ACK:return Array.isArray($)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class BinaryReconstructor{constructor(a){this.packet=a,this.buffers=[],this.reconPack=a}takeBinaryData(a){if(this.buffers.push(a),this.buffers.length===this.reconPack.attachments){const $=reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),$}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const parser=Object.freeze(Object.defineProperty({__proto__:null,Decoder,Encoder,get PacketType(){return PacketType},protocol},Symbol.toStringTag,{value:"Module"}));function on(_,a,$){return _.on(a,$),function(){_.off(a,$)}}const RESERVED_EVENTS=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class Socket extends Emitter{constructor(a,$,j){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=a,this.nsp=$,j&&j.auth&&(this.auth=j.auth),this._opts=Object.assign({},j),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const a=this.io;this.subs=[on(a,"open",this.onopen.bind(this)),on(a,"packet",this.onpacket.bind(this)),on(a,"error",this.onerror.bind(this)),on(a,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...a){return a.unshift("message"),this.emit.apply(this,a),this}emit(a,...$){if(RESERVED_EVENTS.hasOwnProperty(a))throw new Error('"'+a.toString()+'" is a reserved event name');if($.unshift(a),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue($),this;const j={type:PacketType.EVENT,data:$};if(j.options={},j.options.compress=this.flags.compress!==!1,typeof $[$.length-1]=="function"){const rt=this.ids++,nt=$.pop();this._registerAckCallback(rt,nt),j.id=rt}const et=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!et||!this.connected)||(this.connected?(this.notifyOutgoingListeners(j),this.packet(j)):this.sendBuffer.push(j)),this.flags={},this}_registerAckCallback(a,$){var j;const et=(j=this.flags.timeout)!==null&&j!==void 0?j:this._opts.ackTimeout;if(et===void 0){this.acks[a]=$;return}const tt=this.io.setTimeoutFn(()=>{delete this.acks[a];for(let nt=0;nt<this.sendBuffer.length;nt++)this.sendBuffer[nt].id===a&&this.sendBuffer.splice(nt,1);$.call(this,new Error("operation has timed out"))},et),rt=(...nt)=>{this.io.clearTimeoutFn(tt),$.apply(this,nt)};rt.withError=!0,this.acks[a]=rt}emitWithAck(a,...$){return new Promise((j,et)=>{const tt=(rt,nt)=>rt?et(rt):j(nt);tt.withError=!0,$.push(tt),this.emit(a,...$)})}_addToQueue(a){let $;typeof a[a.length-1]=="function"&&($=a.pop());const j={id:this._queueSeq++,tryCount:0,pending:!1,args:a,flags:Object.assign({fromQueue:!0},this.flags)};a.push((et,...tt)=>j!==this._queue[0]?void 0:(et!==null?j.tryCount>this._opts.retries&&(this._queue.shift(),$&&$(et)):(this._queue.shift(),$&&$(null,...tt)),j.pending=!1,this._drainQueue())),this._queue.push(j),this._drainQueue()}_drainQueue(a=!1){if(!this.connected||this._queue.length===0)return;const $=this._queue[0];$.pending&&!a||($.pending=!0,$.tryCount++,this.flags=$.flags,this.emit.apply(this,$.args))}packet(a){a.nsp=this.nsp,this.io._packet(a)}onopen(){typeof this.auth=="function"?this.auth(a=>{this._sendConnectPacket(a)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(a){this.packet({type:PacketType.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},a):a})}onerror(a){this.connected||this.emitReserved("connect_error",a)}onclose(a,$){this.connected=!1,delete this.id,this.emitReserved("disconnect",a,$),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(a=>{if(!this.sendBuffer.some(j=>String(j.id)===a)){const j=this.acks[a];delete this.acks[a],j.withError&&j.call(this,new Error("socket has been disconnected"))}})}onpacket(a){if(a.nsp===this.nsp)switch(a.type){case PacketType.CONNECT:a.data&&a.data.sid?this.onconnect(a.data.sid,a.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case PacketType.EVENT:case PacketType.BINARY_EVENT:this.onevent(a);break;case PacketType.ACK:case PacketType.BINARY_ACK:this.onack(a);break;case PacketType.DISCONNECT:this.ondisconnect();break;case PacketType.CONNECT_ERROR:this.destroy();const j=new Error(a.data.message);j.data=a.data.data,this.emitReserved("connect_error",j);break}}onevent(a){const $=a.data||[];a.id!=null&&$.push(this.ack(a.id)),this.connected?this.emitEvent($):this.receiveBuffer.push(Object.freeze($))}emitEvent(a){if(this._anyListeners&&this._anyListeners.length){const $=this._anyListeners.slice();for(const j of $)j.apply(this,a)}super.emit.apply(this,a),this._pid&&a.length&&typeof a[a.length-1]=="string"&&(this._lastOffset=a[a.length-1])}ack(a){const $=this;let j=!1;return function(...et){j||(j=!0,$.packet({type:PacketType.ACK,id:a,data:et}))}}onack(a){const $=this.acks[a.id];typeof $=="function"&&(delete this.acks[a.id],$.withError&&a.data.unshift(null),$.apply(this,a.data))}onconnect(a,$){this.id=a,this.recovered=$&&this._pid===$,this._pid=$,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(a=>this.emitEvent(a)),this.receiveBuffer=[],this.sendBuffer.forEach(a=>{this.notifyOutgoingListeners(a),this.packet(a)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(a=>a()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:PacketType.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(a){return this.flags.compress=a,this}get volatile(){return this.flags.volatile=!0,this}timeout(a){return this.flags.timeout=a,this}onAny(a){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(a),this}prependAny(a){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(a),this}offAny(a){if(!this._anyListeners)return this;if(a){const $=this._anyListeners;for(let j=0;j<$.length;j++)if(a===$[j])return $.splice(j,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(a){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(a),this}prependAnyOutgoing(a){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(a),this}offAnyOutgoing(a){if(!this._anyOutgoingListeners)return this;if(a){const $=this._anyOutgoingListeners;for(let j=0;j<$.length;j++)if(a===$[j])return $.splice(j,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(a){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const $=this._anyOutgoingListeners.slice();for(const j of $)j.apply(this,a.data)}}}function Backoff(_){_=_||{},this.ms=_.min||100,this.max=_.max||1e4,this.factor=_.factor||2,this.jitter=_.jitter>0&&_.jitter<=1?_.jitter:0,this.attempts=0}Backoff.prototype.duration=function(){var _=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var a=Math.random(),$=Math.floor(a*this.jitter*_);_=Math.floor(a*10)&1?_+$:_-$}return Math.min(_,this.max)|0};Backoff.prototype.reset=function(){this.attempts=0};Backoff.prototype.setMin=function(_){this.ms=_};Backoff.prototype.setMax=function(_){this.max=_};Backoff.prototype.setJitter=function(_){this.jitter=_};class Manager extends Emitter{constructor(a,$){var j;super(),this.nsps={},this.subs=[],a&&typeof a=="object"&&($=a,a=void 0),$=$||{},$.path=$.path||"/socket.io",this.opts=$,installTimerFunctions(this,$),this.reconnection($.reconnection!==!1),this.reconnectionAttempts($.reconnectionAttempts||1/0),this.reconnectionDelay($.reconnectionDelay||1e3),this.reconnectionDelayMax($.reconnectionDelayMax||5e3),this.randomizationFactor((j=$.randomizationFactor)!==null&&j!==void 0?j:.5),this.backoff=new Backoff({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout($.timeout==null?2e4:$.timeout),this._readyState="closed",this.uri=a;const et=$.parser||parser;this.encoder=new et.Encoder,this.decoder=new et.Decoder,this._autoConnect=$.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(a){return arguments.length?(this._reconnection=!!a,this):this._reconnection}reconnectionAttempts(a){return a===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=a,this)}reconnectionDelay(a){var $;return a===void 0?this._reconnectionDelay:(this._reconnectionDelay=a,($=this.backoff)===null||$===void 0||$.setMin(a),this)}randomizationFactor(a){var $;return a===void 0?this._randomizationFactor:(this._randomizationFactor=a,($=this.backoff)===null||$===void 0||$.setJitter(a),this)}reconnectionDelayMax(a){var $;return a===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=a,($=this.backoff)===null||$===void 0||$.setMax(a),this)}timeout(a){return arguments.length?(this._timeout=a,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(a){if(~this._readyState.indexOf("open"))return this;this.engine=new Socket$1(this.uri,this.opts);const $=this.engine,j=this;this._readyState="opening",this.skipReconnect=!1;const et=on($,"open",function(){j.onopen(),a&&a()}),tt=nt=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",nt),a?a(nt):this.maybeReconnectOnOpen()},rt=on($,"error",tt);if(this._timeout!==!1){const nt=this._timeout,it=this.setTimeoutFn(()=>{et(),tt(new Error("timeout")),$.close()},nt);this.opts.autoUnref&&it.unref(),this.subs.push(()=>{this.clearTimeoutFn(it)})}return this.subs.push(et),this.subs.push(rt),this}connect(a){return this.open(a)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const a=this.engine;this.subs.push(on(a,"ping",this.onping.bind(this)),on(a,"data",this.ondata.bind(this)),on(a,"error",this.onerror.bind(this)),on(a,"close",this.onclose.bind(this)),on(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(a){try{this.decoder.add(a)}catch($){this.onclose("parse error",$)}}ondecoded(a){nextTick(()=>{this.emitReserved("packet",a)},this.setTimeoutFn)}onerror(a){this.emitReserved("error",a)}socket(a,$){let j=this.nsps[a];return j?this._autoConnect&&!j.active&&j.connect():(j=new Socket(this,a,$),this.nsps[a]=j),j}_destroy(a){const $=Object.keys(this.nsps);for(const j of $)if(this.nsps[j].active)return;this._close()}_packet(a){const $=this.encoder.encode(a);for(let j=0;j<$.length;j++)this.engine.write($[j],a.options)}cleanup(){this.subs.forEach(a=>a()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(a,$){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",a,$),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const a=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const $=this.backoff.duration();this._reconnecting=!0;const j=this.setTimeoutFn(()=>{a.skipReconnect||(this.emitReserved("reconnect_attempt",a.backoff.attempts),!a.skipReconnect&&a.open(et=>{et?(a._reconnecting=!1,a.reconnect(),this.emitReserved("reconnect_error",et)):a.onreconnect()}))},$);this.opts.autoUnref&&j.unref(),this.subs.push(()=>{this.clearTimeoutFn(j)})}}onreconnect(){const a=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",a)}}const cache={};function lookup(_,a){typeof _=="object"&&(a=_,_=void 0),a=a||{};const $=url(_,a.path||"/socket.io"),j=$.source,et=$.id,tt=$.path,rt=cache[et]&&tt in cache[et].nsps,nt=a.forceNew||a["force new connection"]||a.multiplex===!1||rt;let it;return nt?it=new Manager(j,a):(cache[et]||(cache[et]=new Manager(j,a)),it=cache[et]),$.query&&!a.query&&(a.query=$.queryKey),it.socket($.path,a)}Object.assign(lookup,{Manager,Socket,io:lookup,connect:lookup});var cryptoBrowserifyExports=requireCryptoBrowserify();const nodeCrypto=getDefaultExportFromCjs$1(cryptoBrowserifyExports),ec$2=new ellipticExports.ec("secp256k1"),browserCrypto=global$1.crypto||global$1.msCrypto||{},subtle=browserCrypto.subtle||browserCrypto.webkitSubtle,EC_GROUP_ORDER=Buffer$g.from("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141","hex"),ZERO32=Buffer$g.alloc(32,0);function assert$1(_,a){if(!_)throw new Error(a||"Assertion failed")}function isScalar(_){return Buffer$g.isBuffer(_)&&_.length===32}function isValidPrivateKey(_){return isScalar(_)?_.compare(ZERO32)>0&&_.compare(EC_GROUP_ORDER)<0:!1}function equalConstTime(_,a){if(_.length!==a.length)return!1;let $=0;for(let j=0;j<_.length;j++)$|=_[j]^a[j];return $===0}function randomBytes(_){const a=new Uint8Array(_);return typeof browserCrypto.getRandomValues>"u"?Buffer$g.from(nodeCrypto.randomBytes(_)):(browserCrypto.getRandomValues(a),Buffer$g.from(a))}async function sha512(_){if(subtle){const j=await subtle.digest("SHA-512",_);return new Uint8Array(j)}const $=nodeCrypto.createHash("sha512").update(_).digest();return new Uint8Array($)}function getAes(_){return async function(a,$,j){if(subtle){const et={name:"AES-CBC"},tt=await subtle.importKey("raw",$,et,!1,[_]),rt={name:"AES-CBC",iv:a},nt=await subtle[_](rt,tt,j);return Buffer$g.from(new Uint8Array(nt))}else if(_==="encrypt"){const et=nodeCrypto.createCipheriv("aes-256-cbc",$,a),tt=et.update(j),rt=et.final();return Buffer$g.concat([tt,rt])}else if(_==="decrypt"){const et=nodeCrypto.createDecipheriv("aes-256-cbc",$,a),tt=et.update(j),rt=et.final();return Buffer$g.concat([tt,rt])}throw new Error(`Unsupported operation: ${_}`)}}const aesCbcEncrypt=getAes("encrypt"),aesCbcDecrypt=getAes("decrypt");async function hmacSha256Sign(_,a){if(subtle){const et={name:"HMAC",hash:{name:"SHA-256"}},tt=await subtle.importKey("raw",new Uint8Array(_),et,!1,["sign","verify"]),rt=await subtle.sign("HMAC",tt,a);return Buffer$g.from(new Uint8Array(rt))}const $=nodeCrypto.createHmac("sha256",Buffer$g.from(_));return $.update(a),$.digest()}async function hmacSha256Verify(_,a,$){const j=await hmacSha256Sign(_,a);return equalConstTime(j,$)}const generatePrivate=function(){let _=randomBytes(32);for(;!isValidPrivateKey(_);)_=randomBytes(32);return _},getPublic=function(_){return assert$1(_.length===32,"Bad private key"),assert$1(isValidPrivateKey(_),"Bad private key"),Buffer$g.from(ec$2.keyFromPrivate(_).getPublic("array"))},sign=async function(_,a){return assert$1(_.length===32,"Bad private key"),assert$1(isValidPrivateKey(_),"Bad private key"),assert$1(a.length>0,"Message should not be empty"),assert$1(a.length<=32,"Message is too long"),Buffer$g.from(ec$2.sign(a,_,{canonical:!0}).toDER())},derive=async function(_,a){assert$1(Buffer$g.isBuffer(_),"Bad private key"),assert$1(Buffer$g.isBuffer(a),"Bad public key"),assert$1(_.length===32,"Bad private key"),assert$1(isValidPrivateKey(_),"Bad private key"),assert$1(a.length===65||a.length===33,"Bad public key"),a.length===65&&assert$1(a[0]===4,"Bad public key"),a.length===33&&assert$1(a[0]===2||a[0]===3,"Bad public key");const $=ec$2.keyFromPrivate(_),j=ec$2.keyFromPublic(a),et=$.derive(j.getPublic());return Buffer$g.from(et.toArray())},deriveUnpadded=derive,derivePadded=async function(_,a){assert$1(Buffer$g.isBuffer(_),"Bad private key"),assert$1(Buffer$g.isBuffer(a),"Bad public key"),assert$1(_.length===32,"Bad private key"),assert$1(isValidPrivateKey(_),"Bad private key"),assert$1(a.length===65||a.length===33,"Bad public key"),a.length===65&&assert$1(a[0]===4,"Bad public key"),a.length===33&&assert$1(a[0]===2||a[0]===3,"Bad public key");const $=ec$2.keyFromPrivate(_),j=ec$2.keyFromPublic(a),et=$.derive(j.getPublic());return Buffer$g.from(et.toString(16,64),"hex")},encrypt=async function(_,a,$){$=$||{};let j=$.ephemPrivateKey||randomBytes(32);for(;!isValidPrivateKey(j);)j=$.ephemPrivateKey||randomBytes(32);const et=getPublic(j),tt=await deriveUnpadded(j,_),rt=await sha512(tt),nt=$.iv||randomBytes(16),it=rt.slice(0,32),ot=rt.slice(32),ct=await aesCbcEncrypt(nt,Buffer$g.from(it),a),ut=Buffer$g.concat([nt,et,ct]),ht=await hmacSha256Sign(Buffer$g.from(ot),ut);return{iv:nt,ephemPublicKey:et,ciphertext:ct,mac:ht}},decrypt=async function(_,a,$){const j=$??!1,tt=await(j?derivePadded:deriveUnpadded)(_,a.ephemPublicKey),rt=await sha512(tt),nt=rt.slice(0,32),it=rt.slice(32),ot=Buffer$g.concat([a.iv,a.ephemPublicKey,a.ciphertext]),st=await hmacSha256Verify(Buffer$g.from(it),ot,a.mac);if(!st&&j===!1)return decrypt(_,a,!0);if(!st&&j===!0)throw new Error("bad MAC after trying padded");const ct=await aesCbcDecrypt(a.iv,Buffer$g.from(nt),a.ciphertext);return Buffer$g.from(new Uint8Array(ct))},log$5=log$1$1.getLogger("http-helpers");log$5.setLevel(loglevelExports.levels.INFO);var jsonify={},parse$1,hasRequiredParse;function requireParse(){if(hasRequiredParse)return parse$1;hasRequiredParse=1;var _,a,$={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"},j;function et(ht){throw{name:"SyntaxError",message:ht,at:_,text:j}}function tt(ht){return ht&&ht!==a&&et("Expected '"+ht+"' instead of '"+a+"'"),a=j.charAt(_),_+=1,a}function rt(){var ht,Et="";for(a==="-"&&(Et="-",tt("-"));a>="0"&&a<="9";)Et+=a,tt();if(a===".")for(Et+=".";tt()&&a>="0"&&a<="9";)Et+=a;if(a==="e"||a==="E")for(Et+=a,tt(),(a==="-"||a==="+")&&(Et+=a,tt());a>="0"&&a<="9";)Et+=a,tt();return ht=Number(Et),isFinite(ht)||et("Bad number"),ht}function nt(){var ht,Et,St="",Mt;if(a==='"')for(;tt();){if(a==='"')return tt(),St;if(a==="\\")if(tt(),a==="u"){for(Mt=0,Et=0;Et<4&&(ht=parseInt(tt(),16),!!isFinite(ht));Et+=1)Mt=Mt*16+ht;St+=String.fromCharCode(Mt)}else if(typeof $[a]=="string")St+=$[a];else break;else St+=a}et("Bad string")}function it(){for(;a&&a<=" ";)tt()}function ot(){switch(a){case"t":return tt("t"),tt("r"),tt("u"),tt("e"),!0;case"f":return tt("f"),tt("a"),tt("l"),tt("s"),tt("e"),!1;case"n":return tt("n"),tt("u"),tt("l"),tt("l"),null;default:et("Unexpected '"+a+"'")}}function st(){var ht=[];if(a==="["){if(tt("["),it(),a==="]")return tt("]"),ht;for(;a;){if(ht.push(ut()),it(),a==="]")return tt("]"),ht;tt(","),it()}}et("Bad array")}function ct(){var ht,Et={};if(a==="{"){if(tt("{"),it(),a==="}")return tt("}"),Et;for(;a;){if(ht=nt(),it(),tt(":"),Object.prototype.hasOwnProperty.call(Et,ht)&&et('Duplicate key "'+ht+'"'),Et[ht]=ut(),it(),a==="}")return tt("}"),Et;tt(","),it()}}et("Bad object")}function ut(){switch(it(),a){case"{":return ct();case"[":return st();case'"':return nt();case"-":return rt();default:return a>="0"&&a<="9"?rt():ot()}}return parse$1=function(ht,Et){var St;return j=ht,_=0,a=" ",St=ut(),it(),a&&et("Syntax error"),typeof Et=="function"?function Mt(kt,Ct){var Ot,zt,Ut=kt[Ct];if(Ut&&typeof Ut=="object")for(Ot in ut)Object.prototype.hasOwnProperty.call(Ut,Ot)&&(zt=Mt(Ut,Ot),typeof zt>"u"?delete Ut[Ot]:Ut[Ot]=zt);return Et.call(kt,Ct,Ut)}({"":St},""):St},parse$1}var stringify$1,hasRequiredStringify;function requireStringify(){if(hasRequiredStringify)return stringify$1;hasRequiredStringify=1;var _=/[\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,a,$,j={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},et;function tt(nt){return _.lastIndex=0,_.test(nt)?'"'+nt.replace(_,function(it){var ot=j[it];return typeof ot=="string"?ot:"\\u"+("0000"+it.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+nt+'"'}function rt(nt,it){var ot,st,ct,ut,ht=a,Et,St=it[nt];switch(St&&typeof St=="object"&&typeof St.toJSON=="function"&&(St=St.toJSON(nt)),typeof et=="function"&&(St=et.call(it,nt,St)),typeof St){case"string":return tt(St);case"number":return isFinite(St)?String(St):"null";case"boolean":case"null":return String(St);case"object":if(!St)return"null";if(a+=$,Et=[],Object.prototype.toString.apply(St)==="[object Array]"){for(ut=St.length,ot=0;ot<ut;ot+=1)Et[ot]=rt(ot,St)||"null";return ct=Et.length===0?"[]":a?`[
`+a+Et.join(`,
`+a)+`
`+ht+"]":"["+Et.join(",")+"]",a=ht,ct}if(et&&typeof et=="object")for(ut=et.length,ot=0;ot<ut;ot+=1)st=et[ot],typeof st=="string"&&(ct=rt(st,St),ct&&Et.push(tt(st)+(a?": ":":")+ct));else for(st in St)Object.prototype.hasOwnProperty.call(St,st)&&(ct=rt(st,St),ct&&Et.push(tt(st)+(a?": ":":")+ct));return ct=Et.length===0?"{}":a?`{
`+a+Et.join(`,
`+a)+`
`+ht+"}":"{"+Et.join(",")+"}",a=ht,ct}}return stringify$1=function(nt,it,ot){var st;if(a="",$="",typeof ot=="number")for(st=0;st<ot;st+=1)$+=" ";else typeof ot=="string"&&($=ot);if(et=it,it&&typeof it!="function"&&(typeof it!="object"||typeof it.length!="number"))throw new Error("JSON.stringify");return rt("",{"":nt})},stringify$1}var hasRequiredJsonify;function requireJsonify(){return hasRequiredJsonify||(hasRequiredJsonify=1,jsonify.parse=requireParse(),jsonify.stringify=requireStringify()),jsonify}var toString={}.toString,isarray=Array.isArray||function(_){return toString.call(_)=="[object Array]"},toStr=Object.prototype.toString,isArguments=function _(a){var $=toStr.call(a),j=$==="[object Arguments]";return j||(j=$!=="[object Array]"&&a!==null&&typeof a=="object"&&typeof a.length=="number"&&a.length>=0&&toStr.call(a.callee)==="[object Function]"),j},implementation,hasRequiredImplementation;function requireImplementation(){if(hasRequiredImplementation)return implementation;hasRequiredImplementation=1;var _;if(!Object.keys){var a=Object.prototype.hasOwnProperty,$=Object.prototype.toString,j=isArguments,et=Object.prototype.propertyIsEnumerable,tt=!et.call({toString:null},"toString"),rt=et.call(function(){},"prototype"),nt=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],it=function(ut){var ht=ut.constructor;return ht&&ht.prototype===ut},ot={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},st=function(){if(typeof window>"u")return!1;for(var ut in window)try{if(!ot["$"+ut]&&a.call(window,ut)&&window[ut]!==null&&typeof window[ut]=="object")try{it(window[ut])}catch{return!0}}catch{return!0}return!1}(),ct=function(ut){if(typeof window>"u"||!st)return it(ut);try{return it(ut)}catch{return!1}};_=function(ht){var Et=ht!==null&&typeof ht=="object",St=$.call(ht)==="[object Function]",Mt=j(ht),kt=Et&&$.call(ht)==="[object String]",Ct=[];if(!Et&&!St&&!Mt)throw new TypeError("Object.keys called on a non-object");var Ot=rt&&St;if(kt&&ht.length>0&&!a.call(ht,0))for(var zt=0;zt<ht.length;++zt)Ct.push(String(zt));if(Mt&&ht.length>0)for(var Ut=0;Ut<ht.length;++Ut)Ct.push(String(Ut));else for(var Vt in ht)!(Ot&&Vt==="prototype")&&a.call(ht,Vt)&&Ct.push(String(Vt));if(tt)for(var jt=ct(ht),$t=0;$t<nt.length;++$t)!(jt&&nt[$t]==="constructor")&&a.call(ht,nt[$t])&&Ct.push(nt[$t]);return Ct}}return implementation=_,implementation}var slice=Array.prototype.slice,isArgs=isArguments,origKeys=Object.keys,keysShim=origKeys?function _(a){return origKeys(a)}:requireImplementation(),originalKeys=Object.keys;keysShim.shim=function _(){if(Object.keys){var a=function(){var $=Object.keys(arguments);return $&&$.length===arguments.length}(1,2);a||(Object.keys=function(j){return isArgs(j)?originalKeys(slice.call(j)):originalKeys(j)})}else Object.keys=keysShim;return Object.keys||keysShim};var objectKeys$1=keysShim,jsonStringify=(typeof JSON<"u"?JSON:requireJsonify()).stringify,isArray=isarray,objectKeys=objectKeys$1,callBind=callBindExports,callBound=callBound$3,$join=callBound("Array.prototype.join"),$push=callBound("Array.prototype.push"),strRepeat=function _(a,$){for(var j="",et=0;et<a;et+=1)j+=$;return j},defaultReplacer=function(_,a,$){return $},jsonStableStringify=function _(a){var $=arguments.length>1?arguments[1]:void 0,j=$&&$.space||"";typeof j=="number"&&(j=strRepeat(j," "));var et=!!$&&typeof $.cycles=="boolean"&&$.cycles,tt=$&&$.replacer?callBind($.replacer):defaultReplacer,rt=typeof $=="function"?$:$&&$.cmp,nt=rt&&function(ot){var st=rt.length>2&&function(ut){return ot[ut]};return function(ct,ut){return rt({key:ct,value:ot[ct]},{key:ut,value:ot[ut]},st?{__proto__:null,get:st}:void 0)}},it=[];return function ot(st,ct,ut,ht){var Et=j?`
`+strRepeat(ht,j):"",St=j?": ":":";if(ut&&ut.toJSON&&typeof ut.toJSON=="function"&&(ut=ut.toJSON()),ut=tt(st,ct,ut),ut!==void 0){if(typeof ut!="object"||ut===null)return jsonStringify(ut);if(isArray(ut)){for(var Ot=[],Mt=0;Mt<ut.length;Mt++){var kt=ot(ut,Mt,ut[Mt],ht+1)||jsonStringify(null);$push(Ot,Et+j+kt)}return"["+$join(Ot,",")+Et+"]"}if(it.indexOf(ut)!==-1){if(et)return jsonStringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}else $push(it,ut);for(var Ct=objectKeys(ut).sort(nt&&nt(ut)),Ot=[],Mt=0;Mt<Ct.length;Mt++){var ct=Ct[Mt],zt=ot(ut,ct,ut[ct],ht+1);if(zt){var Ut=jsonStringify(ct)+St+zt;$push(Ot,Et+j+Ut)}}return it.splice(it.indexOf(ut),1),"{"+$join(Ot,",")+Et+"}"}}({"":a},"",a,0)};const stringify=getDefaultExportFromCjs$1(jsonStableStringify);function number$1(_){if(!Number.isSafeInteger(_)||_<0)throw new Error(`Wrong positive integer: ${_}`)}function bool$1(_){if(typeof _!="boolean")throw new Error(`Expected boolean, not ${_}`)}function isBytes$1(_){return _ instanceof Uint8Array||_!=null&&typeof _=="object"&&_.constructor.name==="Uint8Array"}function bytes(_,...a){if(!isBytes$1(_))throw new Error("Expected Uint8Array");if(a.length>0&&!a.includes(_.length))throw new Error(`Expected Uint8Array of length ${a}, not of length=${_.length}`)}function hash(_){if(typeof _!="function"||typeof _.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");number$1(_.outputLen),number$1(_.blockLen)}function exists(_,a=!0){if(_.destroyed)throw new Error("Hash instance has been destroyed");if(a&&_.finished)throw new Error("Hash#digest() has already been called")}function output(_,a){bytes(_);const $=a.outputLen;if(_.length<$)throw new Error(`digestInto() expects output buffer of length at least ${$}`)}const assert={number:number$1,bool:bool$1,bytes,hash,exists,output},U32_MASK64=BigInt(2**32-1),_32n=BigInt(32);function fromBig(_,a=!1){return a?{h:Number(_&U32_MASK64),l:Number(_>>_32n&U32_MASK64)}:{h:Number(_>>_32n&U32_MASK64)|0,l:Number(_&U32_MASK64)|0}}function split(_,a=!1){let $=new Uint32Array(_.length),j=new Uint32Array(_.length);for(let et=0;et<_.length;et++){const{h:tt,l:rt}=fromBig(_[et],a);[$[et],j[et]]=[tt,rt]}return[$,j]}const rotlSH=(_,a,$)=>_<<$|a>>>32-$,rotlSL=(_,a,$)=>a<<$|_>>>32-$,rotlBH=(_,a,$)=>a<<$-32|_>>>64-$,rotlBL=(_,a,$)=>_<<$-32|a>>>64-$;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const u32=_=>new Uint32Array(_.buffer,_.byteOffset,Math.floor(_.byteLength/4));function isBytes(_){return _ instanceof Uint8Array||_!=null&&typeof _=="object"&&_.constructor.name==="Uint8Array"}const isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!isLE)throw new Error("Non little-endian hardware is not supported");function utf8ToBytes(_){if(typeof _!="string")throw new Error(`utf8ToBytes expected string, got ${typeof _}`);return new Uint8Array(new TextEncoder().encode(_))}function toBytes(_){if(typeof _=="string"&&(_=utf8ToBytes(_)),!isBytes(_))throw new Error(`expected Uint8Array, got ${typeof _}`);return _}class Hash{clone(){return this._cloneInto()}}function wrapConstructor(_){const a=j=>_().update(toBytes(j)).digest(),$=_();return a.outputLen=$.outputLen,a.blockLen=$.blockLen,a.create=()=>_(),a}const[SHA3_PI,SHA3_ROTL,_SHA3_IOTA]=[[],[],[]],_0n=BigInt(0),_1n=BigInt(1),_2n=BigInt(2),_7n=BigInt(7),_256n=BigInt(256),_0x71n=BigInt(113);for(let _=0,a=_1n,$=1,j=0;_<24;_++){[$,j]=[j,(2*$+3*j)%5],SHA3_PI.push(2*(5*j+$)),SHA3_ROTL.push((_+1)*(_+2)/2%64);let et=_0n;for(let tt=0;tt<7;tt++)a=(a<<_1n^(a>>_7n)*_0x71n)%_256n,a&_2n&&(et^=_1n<<(_1n<<BigInt(tt))-_1n);_SHA3_IOTA.push(et)}const[SHA3_IOTA_H,SHA3_IOTA_L]=split(_SHA3_IOTA,!0),rotlH=(_,a,$)=>$>32?rotlBH(_,a,$):rotlSH(_,a,$),rotlL=(_,a,$)=>$>32?rotlBL(_,a,$):rotlSL(_,a,$);function keccakP(_,a=24){const $=new Uint32Array(10);for(let j=24-a;j<24;j++){for(let rt=0;rt<10;rt++)$[rt]=_[rt]^_[rt+10]^_[rt+20]^_[rt+30]^_[rt+40];for(let rt=0;rt<10;rt+=2){const nt=(rt+8)%10,it=(rt+2)%10,ot=$[it],st=$[it+1],ct=rotlH(ot,st,1)^$[nt],ut=rotlL(ot,st,1)^$[nt+1];for(let ht=0;ht<50;ht+=10)_[rt+ht]^=ct,_[rt+ht+1]^=ut}let et=_[2],tt=_[3];for(let rt=0;rt<24;rt++){const nt=SHA3_ROTL[rt],it=rotlH(et,tt,nt),ot=rotlL(et,tt,nt),st=SHA3_PI[rt];et=_[st],tt=_[st+1],_[st]=it,_[st+1]=ot}for(let rt=0;rt<50;rt+=10){for(let nt=0;nt<10;nt++)$[nt]=_[rt+nt];for(let nt=0;nt<10;nt++)_[rt+nt]^=~$[(nt+2)%10]&$[(nt+4)%10]}_[0]^=SHA3_IOTA_H[j],_[1]^=SHA3_IOTA_L[j]}$.fill(0)}class Keccak extends Hash{constructor(a,$,j,et=!1,tt=24){if(super(),this.blockLen=a,this.suffix=$,this.outputLen=j,this.enableXOF=et,this.rounds=tt,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,number$1(j),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=u32(this.state)}keccak(){keccakP(this.state32,this.rounds),this.posOut=0,this.pos=0}update(a){exists(this);const{blockLen:$,state:j}=this;a=toBytes(a);const et=a.length;for(let tt=0;tt<et;){const rt=Math.min($-this.pos,et-tt);for(let nt=0;nt<rt;nt++)j[this.pos++]^=a[tt++];this.pos===$&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:a,suffix:$,pos:j,blockLen:et}=this;a[j]^=$,$&128&&j===et-1&&this.keccak(),a[et-1]^=128,this.keccak()}writeInto(a){exists(this,!1),bytes(a),this.finish();const $=this.state,{blockLen:j}=this;for(let et=0,tt=a.length;et<tt;){this.posOut>=j&&this.keccak();const rt=Math.min(j-this.posOut,tt-et);a.set($.subarray(this.posOut,this.posOut+rt),et),this.posOut+=rt,et+=rt}return a}xofInto(a){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(a)}xof(a){return number$1(a),this.xofInto(new Uint8Array(a))}digestInto(a){if(output(a,this),this.finished)throw new Error("digest() was already called");return this.writeInto(a),this.destroy(),a}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(a){const{blockLen:$,suffix:j,outputLen:et,rounds:tt,enableXOF:rt}=this;return a||(a=new Keccak($,j,et,rt,tt)),a.state32.set(this.state32),a.pos=this.pos,a.posOut=this.posOut,a.finished=this.finished,a.rounds=tt,a.suffix=j,a.outputLen=et,a.enableXOF=rt,a.destroyed=this.destroyed,a}}const gen=(_,a,$)=>wrapConstructor(()=>new Keccak(a,_,$)),keccak_256=gen(1,136,256/8);function wrapHash(_){return a=>(assert.bytes(a),_(a))}(()=>{const _=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0,a=typeof module<"u"&&typeof module.require=="function"&&module.require.bind(module);return{node:a&&!_?a("crypto"):void 0,web:_}})();const keccak256$3=(()=>{const _=wrapHash(keccak_256);return _.create=keccak_256.create,_})();function keccak256$2(_){return Buffer$g.from(keccak256$3(_))}const ec$1=new ellipticExports.ec("secp256k1");function encParamsHexToBuf$2(_){return{iv:Buffer$g.from(_.iv,"hex"),ephemPublicKey:Buffer$g.from(_.ephemPublicKey,"hex"),ciphertext:Buffer$g.from(_.ciphertext,"hex"),mac:Buffer$g.from(_.mac,"hex")}}function encParamsBufToHex$2(_){return{iv:Buffer$g.from(_.iv).toString("hex"),ephemPublicKey:Buffer$g.from(_.ephemPublicKey).toString("hex"),ciphertext:Buffer$g.from(_.ciphertext).toString("hex"),mac:Buffer$g.from(_.mac).toString("hex")}}async function encryptData$1(_,a){const $=JSON.stringify(a),j=Buffer$g.from($,"utf-8"),et=await encrypt(getPublic(Buffer$g.from(_,"hex")),j),tt=encParamsBufToHex$2(et);return JSON.stringify(tt)}async function decryptData$1(_,a){const $=JSON.parse(a),j=encParamsHexToBuf$2($),et=ec$1.keyFromPrivate(_),rt=(await decrypt(Buffer$g.from(et.getPrivate().toString("hex",64),"hex"),j)).toString("utf-8");return JSON.parse(rt)}var microSeconds$1=microSeconds$5,KEY_PREFIX="pubkey.broadcastChannel-",type$1="server",SOCKET_CONN_INSTANCE=null,runningChannels=new Set;function storageKey(_){return KEY_PREFIX+_}function postMessage$1(_,a){return new Promise(function($,j){sleep().then(_asyncToGenerator(_regeneratorRuntime.mark(function et(){var tt,rt,nt,it;return _regeneratorRuntime.wrap(function(st){for(;;)switch(st.prev=st.next){case 0:return tt=storageKey(_.channelName),rt=keccak256$2(Buffer$g.from(tt,"utf8")),st.next=4,encryptData$1(rt.toString("hex"),{token:randomToken(),time:new Date().getTime(),data:a,uuid:_.uuid});case 4:return nt=st.sent,st.t0=getPublic(rt).toString("hex"),st.t1=nt,st.next=9,sign(rt,keccak256$2(Buffer$g.from(nt,"utf8")));case 9:return st.t2=st.sent.toString("hex"),it={key:st.t0,data:st.t1,signature:st.t2},_.timeout&&(it.timeout=_.timeout),st.abrupt("return",fetch(_.serverUrl+"/channel/set",{method:"POST",body:JSON.stringify(it),headers:{"Content-Type":"application/json; charset=utf-8"}}).then($).catch(j));case 13:case"end":return st.stop()}},et)})))})}function getSocketInstance(_){if(SOCKET_CONN_INSTANCE)return SOCKET_CONN_INSTANCE;var a=lookup(_,{transports:["websocket","polling"],withCredentials:!0,reconnectionDelayMax:1e4,reconnectionAttempts:10});return a.on("connect_error",function($){a.io.opts.transports=["polling","websocket"],log$6.error("connect error",$)}),a.on("connect",_asyncToGenerator(_regeneratorRuntime.mark(function $(){var j;return _regeneratorRuntime.wrap(function(tt){for(;;)switch(tt.prev=tt.next){case 0:j=a.io.engine,log$6.debug("initially connected to",j.transport.name),j.once("upgrade",function(){log$6.debug("upgraded",j.transport.name)}),j.once("close",function(rt){log$6.debug("connection closed",rt)});case 4:case"end":return tt.stop()}},$)}))),a.on("error",function($){log$6.error("socket errored",$),a.disconnect()}),SOCKET_CONN_INSTANCE=a,a}function setupSocketConnection(_,a,$){var j=getSocketInstance(_),et=storageKey(a),tt=keccak256$2(Buffer$g.from(et,"utf8")),rt=getPublic(tt).toString("hex");j.connected?j.emit("check_auth_status",rt):j.once("connect",function(){log$6.debug("connected with socket"),j.emit("check_auth_status",rt)});var nt=function(){j.once("connect",_asyncToGenerator(_regeneratorRuntime.mark(function ct(){return _regeneratorRuntime.wrap(function(ht){for(;;)switch(ht.prev=ht.next){case 0:j.emit("check_auth_status",rt);case 1:case"end":return ht.stop()}},ct)})))},it=function st(){if(!j){document.removeEventListener("visibilitychange",st);return}!j.connected&&document.visibilityState==="visible"&&nt()},ot=function(){var st=_asyncToGenerator(_regeneratorRuntime.mark(function ct(ut){var ht;return _regeneratorRuntime.wrap(function(St){for(;;)switch(St.prev=St.next){case 0:return St.prev=0,St.next=3,decryptData$1(tt.toString("hex"),ut);case 3:ht=St.sent,log$6.info(ht),$(ht),St.next=11;break;case 8:St.prev=8,St.t0=St.catch(0),log$6.error(St.t0);case 11:case"end":return St.stop()}},ct,null,[[0,8]])}));return function(ut){return st.apply(this,arguments)}}();return j.on("disconnect",function(){log$6.debug("socket disconnected"),runningChannels.has(a)&&(log$6.error("socket disconnected unexpectedly, reconnecting socket"),nt())}),j.on(rt+"_success",ot),typeof document<"u"&&document.addEventListener("visibilitychange",it),j}function create$1(_,a){a=fillOptionsWithDefaults(a);var $=randomToken(),j=new ObliviousSet(a.server.removeTimeout),et={channelName:_,uuid:$,eMIs:j,serverUrl:a.server.url};return a.server.timeout&&(et.timeout=a.server.timeout),setupSocketConnection(a.server.url,_,function(tt){et.messagesCallback&&tt.uuid!==et.uuid&&(!tt.token||et.eMIs.has(tt.token)||(et.eMIs.add(tt.token),et.messagesCallback(tt.data)))}),runningChannels.add(_),et}function close$1(_){runningChannels.delete(_.channelName)}function onMessage$1(_,a,$){_.messagesCallbackTime=$,_.messagesCallback=a}function canBeUsed$1(){return!0}function averageResponseTime$1(){var _=500;return _}const ServerMethod={create:create$1,close:close$1,onMessage:onMessage$1,postMessage:postMessage$1,canBeUsed:canBeUsed$1,type:type$1,averageResponseTime:averageResponseTime$1,microSeconds:microSeconds$1};var microSeconds=microSeconds$5,type="simulate",SIMULATE_CHANNELS=new Set;function create(_){var a={name:_,messagesCallback:null};return SIMULATE_CHANNELS.add(a),a}function close(_){SIMULATE_CHANNELS.delete(_)}function postMessage(_,a){return new Promise(function($){return setTimeout(function(){var j=Array.from(SIMULATE_CHANNELS);j.filter(function(et){return et.name===_.name}).filter(function(et){return et!==_}).filter(function(et){return!!et.messagesCallback}).forEach(function(et){return et.messagesCallback(a)}),$()},5)})}function onMessage(_,a){_.messagesCallback=a}function canBeUsed(){return!0}function averageResponseTime(){return 5}const SimulateMethod={create,close,onMessage,postMessage,canBeUsed,type,averageResponseTime,microSeconds};var METHODS=[NativeMethod,IndexeDbMethod,LocalstorageMethod,ServerMethod];function chooseMethod(_){var a=[].concat(_.methods,METHODS).filter(Boolean);if(_.type){if(_.type==="simulate")return SimulateMethod;var $=a.find(function(et){return et.type===_.type});if($)return $;throw new Error("method-type "+_.type+" not found")}_.webWorkerSupport||(a=a.filter(function(et){return et.type!=="idb"}));var j=a.find(function(et){return et.canBeUsed(_)});if(j)return j;throw new Error("No useable method found in "+JSON.stringify(METHODS.map(function(et){return et.type})))}var OPEN_BROADCAST_CHANNELS=new Set,lastId=0,BroadcastChannel$1=function _(a,$){this.id=lastId++,OPEN_BROADCAST_CHANNELS.add(this),this.name=a,ENFORCED_OPTIONS&&($=ENFORCED_OPTIONS),this.options=fillOptionsWithDefaults($),this.method=chooseMethod(this.options),this._iL=!1,this._onML=null,this._addEL={message:[],internal:[]},this._uMP=new Set,this._befC=[],this._prepP=null,_prepareChannel(this)};BroadcastChannel$1._pubkey=!0;var ENFORCED_OPTIONS;BroadcastChannel$1.prototype={postMessage:function _(a){if(this.closed)throw new Error("BroadcastChannel.postMessage(): Cannot post message after channel has closed "+JSON.stringify(a));return _post(this,"message",a)},postInternal:function _(a){return _post(this,"internal",a)},set onmessage(_){var a=this.method.microSeconds(),$={time:a,fn:_};_removeListenerObject(this,"message",this._onML),_&&typeof _=="function"?(this._onML=$,_addListenerObject(this,"message",$)):this._onML=null},addEventListener:function _(a,$){var j=this.method.microSeconds(),et={time:j,fn:$};_addListenerObject(this,a,et)},removeEventListener:function _(a,$){var j=this._addEL[a].find(function(et){return et.fn===$});_removeListenerObject(this,a,j)},close:function _(){var a=this;if(!this.closed){OPEN_BROADCAST_CHANNELS.delete(this),this.closed=!0;var $=this._prepP?this._prepP:PROMISE_RESOLVED_VOID;return this._onML=null,this._addEL.message=[],$.then(function(){return Promise.all(Array.from(a._uMP))}).then(function(){return Promise.all(a._befC.map(function(j){return j()}))}).then(function(){return a.method.close(a._state)})}},get type(){return this.method.type},get isClosed(){return this.closed}};function _post(_,a,$){var j=_.method.microSeconds(),et={time:j,type:a,data:$},tt=_._prepP?_._prepP:PROMISE_RESOLVED_VOID;return tt.then(function(){var rt=_.method.postMessage(_._state,et);return _._uMP.add(rt),rt.catch().then(function(){return _._uMP.delete(rt)}),rt})}function _prepareChannel(_){var a=_.method.create(_.name,_.options);isPromise(a)?(_._prepP=a,a.then(function($){_._state=$})):_._state=a}function _hasMessageListeners(_){return _._addEL.message.length>0||_._addEL.internal.length>0}function _addListenerObject(_,a,$){_._addEL[a].push($),_startListening(_)}function _removeListenerObject(_,a,$){_._addEL[a]=_._addEL[a].filter(function(j){return j!==$}),_stopListening(_)}function _startListening(_){if(!_._iL&&_hasMessageListeners(_)){var a=function(et){_._addEL[et.type].forEach(function(tt){var rt=1e5,nt=tt.time-rt;(et.time>=nt||_.method.type==="server")&&tt.fn(et.data)})},$=_.method.microSeconds();_._prepP?_._prepP.then(function(){_._iL=!0,_.method.onMessage(_._state,a,$)}):(_._iL=!0,_.method.onMessage(_._state,a,$))}}function _stopListening(_){if(_._iL&&!_hasMessageListeners(_)){_._iL=!1;var a=_.method.microSeconds();_.method.onMessage(_._state,null,a)}}var base64url$3={exports:{}},base64url$2={},padString$1={};Object.defineProperty(padString$1,"__esModule",{value:!0});function padString(_){var a=4,$=_.length,j=$%a;if(!j)return _;var et=$,tt=a-j,rt=$+tt,nt=Buffer$g.alloc(rt);for(nt.write(_);tt--;)nt.write("=",et++);return nt.toString()}padString$1.default=padString;Object.defineProperty(base64url$2,"__esModule",{value:!0});var pad_string_1=padString$1;function encode(_,a){return a===void 0&&(a="utf8"),Buffer$g.isBuffer(_)?fromBase64(_.toString("base64")):fromBase64(Buffer$g.from(_,a).toString("base64"))}function decode$1(_,a){return a===void 0&&(a="utf8"),Buffer$g.from(toBase64(_),"base64").toString(a)}function toBase64(_){return _=_.toString(),pad_string_1.default(_).replace(/\-/g,"+").replace(/_/g,"/")}function fromBase64(_){return _.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function toBuffer(_){return Buffer$g.from(toBase64(_),"base64")}var base64url$1=encode;base64url$1.encode=encode;base64url$1.decode=decode$1;base64url$1.toBase64=toBase64;base64url$1.fromBase64=fromBase64;base64url$1.toBuffer=toBuffer;base64url$2.default=base64url$1;(function(_){_.exports=base64url$2.default,_.exports.default=_.exports})(base64url$3);var base64urlExports=base64url$3.exports;const base64url=getDefaultExportFromCjs$1(base64urlExports);function e(_){this.message=_}e.prototype=new Error,e.prototype.name="InvalidCharacterError";var r=typeof window<"u"&&window.atob&&window.atob.bind(window)||function(_){var a=String(_).replace(/=+$/,"");if(a.length%4==1)throw new e("'atob' failed: The string to be decoded is not correctly encoded.");for(var $,j,et=0,tt=0,rt="";j=a.charAt(tt++);~j&&($=et%4?64*$+j:j,et++%4)?rt+=String.fromCharCode(255&$>>(-2*et&6)):0)j="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(j);return rt};function t(_){var a=_.replace(/-/g,"+").replace(/_/g,"/");switch(a.length%4){case 0:break;case 2:a+="==";break;case 3:a+="=";break;default:throw"Illegal base64url string!"}try{return function($){return decodeURIComponent(r($).replace(/(.)/g,function(j,et){var tt=et.charCodeAt(0).toString(16).toUpperCase();return tt.length<2&&(tt="0"+tt),"%"+tt}))}(a)}catch{return r(a)}}function n(_){this.message=_}function o(_,a){if(typeof _!="string")throw new n("Invalid token specified");var $=(a=a||{}).header===!0?0:1;try{return JSON.parse(t(_.split(".")[$]))}catch(j){throw new n("Invalid token specified: "+j.message)}}n.prototype=new Error,n.prototype.name="InvalidTokenError";const TORUS_LEGACY_NETWORK={MAINNET:"mainnet",TESTNET:"testnet",CYAN:"cyan",AQUA:"aqua",CELESTE:"celeste"},TORUS_SAPPHIRE_NETWORK={SAPPHIRE_DEVNET:"sapphire_devnet",SAPPHIRE_MAINNET:"sapphire_mainnet"},MULTI_CLUSTER_NETWORKS=[],LEGACY_NETWORKS_ROUTE_MAP={[TORUS_LEGACY_NETWORK.AQUA]:{migrationCompleted:!0,networkIdentifier:"aqua",networkMigratedTo:TORUS_SAPPHIRE_NETWORK.SAPPHIRE_MAINNET},[TORUS_LEGACY_NETWORK.CELESTE]:{migrationCompleted:!0,networkIdentifier:"celeste",networkMigratedTo:TORUS_SAPPHIRE_NETWORK.SAPPHIRE_MAINNET},[TORUS_LEGACY_NETWORK.CYAN]:{migrationCompleted:!0,networkIdentifier:"cyan",networkMigratedTo:TORUS_SAPPHIRE_NETWORK.SAPPHIRE_MAINNET},[TORUS_LEGACY_NETWORK.MAINNET]:{migrationCompleted:!0,networkIdentifier:"mainnet",networkMigratedTo:TORUS_SAPPHIRE_NETWORK.SAPPHIRE_MAINNET},[TORUS_LEGACY_NETWORK.TESTNET]:{migrationCompleted:!0,networkIdentifier:"teal",networkMigratedTo:TORUS_SAPPHIRE_NETWORK.SAPPHIRE_DEVNET}},SIGNER_MAP={[TORUS_SAPPHIRE_NETWORK.SAPPHIRE_MAINNET]:"https://signer.web3auth.io",[TORUS_SAPPHIRE_NETWORK.SAPPHIRE_DEVNET]:"https://signer.web3auth.io",[TORUS_LEGACY_NETWORK.MAINNET]:"https://signer.web3auth.io",[TORUS_LEGACY_NETWORK.TESTNET]:"https://signer.web3auth.io",[TORUS_LEGACY_NETWORK.CYAN]:"https://signer-polygon.web3auth.io",[TORUS_LEGACY_NETWORK.AQUA]:"https://signer-polygon.web3auth.io",[TORUS_LEGACY_NETWORK.CELESTE]:"https://signer-polygon.web3auth.io"},METADATA_MAP={[TORUS_LEGACY_NETWORK.MAINNET]:"https://metadata.web3auth.io",[TORUS_LEGACY_NETWORK.TESTNET]:"https://metadata.web3auth.io",[TORUS_LEGACY_NETWORK.CYAN]:"https://metadata.web3auth.io",[TORUS_LEGACY_NETWORK.AQUA]:"https://metadata.web3auth.io",[TORUS_LEGACY_NETWORK.CELESTE]:"https://metadata.web3auth.io"},FND_SERVER="https://fnd.web3auth.io",KEY_TYPE={SECP256K1:"secp256k1",ED25519:"ed25519"},SAPPHIRE_NETWORK_URLS={[TORUS_SAPPHIRE_NETWORK.SAPPHIRE_DEVNET]:["https://node-1.dev-node.web3auth.io","https://node-2.dev-node.web3auth.io","https://node-3.dev-node.web3auth.io","https://node-4.dev-node.web3auth.io","https://node-5.dev-node.web3auth.io"],[TORUS_SAPPHIRE_NETWORK.SAPPHIRE_MAINNET]:["https://node-1.node.web3auth.io","https://node-2.node.web3auth.io","https://node-3.node.web3auth.io","https://node-4.node.web3auth.io","https://node-5.node.web3auth.io"]},getSSSEndpoints=(_,a)=>{const $=SAPPHIRE_NETWORK_URLS[_];if(!$||$.length===0)throw new Error(`Unsupported network: ${_}`);const j=LEGACY_NETWORKS_ROUTE_MAP[a];return $.map(et=>j&&j.networkIdentifier?`${et}/sss/${j.networkIdentifier}/jrpc`:`${et}/sss/jrpc`)},getRSSEndpoints=(_,a)=>{const $=SAPPHIRE_NETWORK_URLS[_];if(!$||$.length===0)throw new Error(`Unsupported network: ${_}`);const j=LEGACY_NETWORKS_ROUTE_MAP[a];return $.map(et=>j&&j.networkIdentifier?`${et}/rss/${j.networkIdentifier}`:`${et}/rss`)},getTSSEndpoints=function(_,a){let $=arguments.length>2&&arguments[2]!==void 0?arguments[2]:KEY_TYPE.SECP256K1;const j=SAPPHIRE_NETWORK_URLS[_];if(!j||j.length===0)throw new Error(`Unsupported network: ${_}`);const et=$===KEY_TYPE.ED25519?"tss-frost":"tss",tt=LEGACY_NETWORKS_ROUTE_MAP[a];return j.map(rt=>tt&&tt.networkIdentifier?`${rt}/${et}/${tt.networkIdentifier}`:`${rt}/${et}`)},SAPPHIRE_NODE_PUB_KEYS={[TORUS_SAPPHIRE_NETWORK.SAPPHIRE_MAINNET]:[{X:"e0925898fee0e9e941fdca7ee88deec99939ae9407e923535c4d4a3a3ff8b052",Y:"54b9fea924e3f3e40791f9987f4234ae4222412d65b74068032fa5d8b63375c1"},{X:"9124cf1e280aab32ba50dffd2de81cecabc13d82d2c1fe9de82f3b3523f9b637",Y:"fca939a1ceb42ce745c55b21ef094f543b457630cb63a94ef4f1afeee2b1f107"},{X:"555f681a63d469cc6c3a58a97e29ebd277425f0e6159708e7c7bf05f18f89476",Y:"606f2bcc0884fa5b64366fc3e8362e4939841b56acd60d5f4553cf36b891ac4e"},{X:"2b5f58d8e340f1ab922e89b3a69a68930edfe51364644a456335e179bc130128",Y:"4b4daa05939426e3cbe7d08f0e773d2bf36f64c00d04620ee6df2a7af4d2247"},{X:"3ecbb6a68afe72cf34ec6c0a12b5cb78a0d2e83ba402983b6adbc5f36219861a",Y:"dc1031c5cc8f0472bd521a62a64ebca9e163902c247bf05937daf4ae835091e4"}],[TORUS_SAPPHIRE_NETWORK.SAPPHIRE_DEVNET]:[{X:"f74389b0a4c8d10d2a687ae575f69b20f412d41ab7f1fe6b358aa14871327247",Y:"54e3a73098ed9bced3ef8821736e9794f9264a1420c0c7ad15d2fa617ba35ef7"},{X:"bc38813a6873e526087918507c78fc3a61624670ee851ecfb4f3bef55d027b5a",Y:"ac4b21229f662a0aefdfdac21cf17c3261a392c74a8790db218b34e3e4c1d56a"},{X:"b56541684ea5fa40c8337b7688d502f0e9e092098962ad344c34e94f06d293fb",Y:"759a998cef79d389082f9a75061a29190eec0cac99b8c25ddcf6b58569dad55c"},{X:"7bcb058d4c6ffc6ba4bfdfd93d141af35a66338a62c7c27cdad2ae3f8289b767",Y:"336ab1935e41ed4719e162587f0ab55518db4207a1eb36cc72303f1b86689d2b"},{X:"bf12a136ef94399ea098f926f04e26a4ec4ac70f69cce274e8893704c4951773",Y:"bdd44828020f52ce510e026338216ada184a6867eb4e19fb4c2d495d4a7e15e4"}]},getSapphireNodeDetails=(_,a,$)=>({currentEpoch:"1",torusNodeEndpoints:getSSSEndpoints(_,a),torusNodeSSSEndpoints:getSSSEndpoints(_,a),torusNodeRSSEndpoints:getRSSEndpoints(_,a),torusNodeTSSEndpoints:getTSSEndpoints(_,a,$),torusIndexes:[1,2,3,4,5],torusNodePub:SAPPHIRE_NODE_PUB_KEYS[_]});function fetchLocalConfig(_,a){if(Object.values(TORUS_SAPPHIRE_NETWORK).includes(_))return getSapphireNodeDetails(_,void 0,a);if(Object.values(TORUS_LEGACY_NETWORK).includes(_)){const $=LEGACY_NETWORKS_ROUTE_MAP[_];if($.migrationCompleted)return getSapphireNodeDetails($.networkMigratedTo,_,a)}}const log$4=log$1$1.getLogger("http-helpers");log$4.setLevel(loglevelExports.levels.INFO);let apiKey$1="torus-default";const gatewayAuthHeader$1="x-api-key";async function fetchAndTrace$1(_,a){let $=null;try{$=new URL(_)}catch{}return fetch(_,a)}function getApiKeyHeaders$1(){const _={};return _[gatewayAuthHeader$1]=apiKey$1,_}function debugLogResponse$1(_){log$4.info(`Response: ${_.status} ${_.statusText}`),log$4.info(`Url: ${_.url}`)}const get$1=async function(_){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},$=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const j={mode:"cors",headers:{}};$.useAPIKey&&(j.headers=_objectSpread2(_objectSpread2({},j.headers),getApiKeyHeaders$1()));const et=deepmerge$1(j,a,{method:"GET"}),tt=await fetchAndTrace$1(_,et);if(tt.ok){const rt=tt.headers.get("content-type");return rt!=null&&rt.includes("application/json")?tt.json():tt.text()}throw debugLogResponse$1(tt),tt},log$3=log$1$1.getLogger("fnd");class NodeDetailManager{constructor(){let{network:a=TORUS_SAPPHIRE_NETWORK.SAPPHIRE_MAINNET,keyType:$=KEY_TYPE.SECP256K1,fndServerEndpoint:j,enableLogging:et=!1}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};_defineProperty$4(this,"fndServerEndpoint",`${FND_SERVER}/node-details`),_defineProperty$4(this,"_currentEpoch","1"),_defineProperty$4(this,"_keyType",void 0),_defineProperty$4(this,"_torusNodeEndpoints",[]),_defineProperty$4(this,"_torusNodeRSSEndpoints",[]),_defineProperty$4(this,"_torusNodeSSSEndpoints",[]),_defineProperty$4(this,"_torusNodeTSSEndpoints",[]),_defineProperty$4(this,"_torusNodePub",[]),_defineProperty$4(this,"_torusIndexes",[]),_defineProperty$4(this,"updated",void 0),_defineProperty$4(this,"network",void 0),this.network=a,this._keyType=$,this.updated=!1,j&&(this.fndServerEndpoint=j),et?log$3.enableAll():log$3.disableAll()}get _nodeDetails(){return{currentEpoch:this._currentEpoch,torusNodeEndpoints:this._torusNodeEndpoints,torusNodeSSSEndpoints:this._torusNodeSSSEndpoints,torusNodeRSSEndpoints:this._torusNodeRSSEndpoints,torusNodeTSSEndpoints:this._torusNodeTSSEndpoints,torusNodePub:this._torusNodePub,torusIndexes:this._torusIndexes,updated:this.updated}}async getNodeDetails(a){let{verifier:$,verifierId:j}=a;try{if(this.updated&&!MULTI_CLUSTER_NETWORKS.includes(this.network))return this._nodeDetails;try{const{nodeDetails:tt}=await get$1(`${this.fndServerEndpoint}?network=${this.network}&verifier=${$}&verifierId=${j}&keyType=${this._keyType}`);return this.setNodeDetails(tt),this._nodeDetails}catch(tt){log$3.error("Failed to fetch node details from server, using local.",tt)}const et=fetchLocalConfig(this.network,this._keyType);if(!et)throw new Error("Failed to fetch node details");return this.setNodeDetails(et),this._nodeDetails}catch(et){throw log$3.error("Failed to fetch node details",et),et}}async getMetadataUrl(){return Object.values(TORUS_LEGACY_NETWORK).includes(this.network)?METADATA_MAP[this.network]:(await this.getNodeDetails({verifier:"test-verifier",verifierId:"test-verifier-id"})).torusNodeEndpoints[0].replace("/sss/jrpc","/metadata")}setNodeDetails(a){const{currentEpoch:$,torusNodeEndpoints:j,torusNodeSSSEndpoints:et,torusNodeRSSEndpoints:tt,torusNodeTSSEndpoints:rt,torusNodePub:nt,torusIndexes:it}=a;this._torusNodeEndpoints=j,this._torusNodeSSSEndpoints=et||[],this._torusNodeRSSEndpoints=tt||[],this._torusNodeTSSEndpoints=rt||[],this._torusNodePub=nt,this._torusIndexes=it,this._currentEpoch=$,this.updated=!0}}var bn={exports:{}};bn.exports;(function(_){(function(a,$){function j(bt,at){if(!bt)throw new Error(at||"Assertion failed")}function et(bt,at){bt.super_=at;var dt=function(){};dt.prototype=at.prototype,bt.prototype=new dt,bt.prototype.constructor=bt}function tt(bt,at,dt){if(tt.isBN(bt))return bt;this.negative=0,this.words=null,this.length=0,this.red=null,bt!==null&&((at==="le"||at==="be")&&(dt=at,at=10),this._init(bt||0,at||10,dt||"be"))}typeof a=="object"?a.exports=tt:$.BN=tt,tt.BN=tt,tt.wordSize=26;var rt;try{typeof window<"u"&&typeof window.Buffer<"u"?rt=window.Buffer:rt=require$$0$2.Buffer}catch{}tt.isBN=function(at){return at instanceof tt?!0:at!==null&&typeof at=="object"&&at.constructor.wordSize===tt.wordSize&&Array.isArray(at.words)},tt.max=function(at,dt){return at.cmp(dt)>0?at:dt},tt.min=function(at,dt){return at.cmp(dt)<0?at:dt},tt.prototype._init=function(at,dt,vt){if(typeof at=="number")return this._initNumber(at,dt,vt);if(typeof at=="object")return this._initArray(at,dt,vt);dt==="hex"&&(dt=16),j(dt===(dt|0)&&dt>=2&&dt<=36),at=at.toString().replace(/\s+/g,"");var xt=0;at[0]==="-"&&(xt++,this.negative=1),xt<at.length&&(dt===16?this._parseHex(at,xt,vt):(this._parseBase(at,dt,xt),vt==="le"&&this._initArray(this.toArray(),dt,vt)))},tt.prototype._initNumber=function(at,dt,vt){at<0&&(this.negative=1,at=-at),at<67108864?(this.words=[at&67108863],this.length=1):at<4503599627370496?(this.words=[at&67108863,at/67108864&67108863],this.length=2):(j(at<9007199254740992),this.words=[at&67108863,at/67108864&67108863,1],this.length=3),vt==="le"&&this._initArray(this.toArray(),dt,vt)},tt.prototype._initArray=function(at,dt,vt){if(j(typeof at.length=="number"),at.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(at.length/3),this.words=new Array(this.length);for(var xt=0;xt<this.length;xt++)this.words[xt]=0;var wt,_t,At=0;if(vt==="be")for(xt=at.length-1,wt=0;xt>=0;xt-=3)_t=at[xt]|at[xt-1]<<8|at[xt-2]<<16,this.words[wt]|=_t<<At&67108863,this.words[wt+1]=_t>>>26-At&67108863,At+=24,At>=26&&(At-=26,wt++);else if(vt==="le")for(xt=0,wt=0;xt<at.length;xt+=3)_t=at[xt]|at[xt+1]<<8|at[xt+2]<<16,this.words[wt]|=_t<<At&67108863,this.words[wt+1]=_t>>>26-At&67108863,At+=24,At>=26&&(At-=26,wt++);return this._strip()};function nt(bt,at){var dt=bt.charCodeAt(at);if(dt>=48&&dt<=57)return dt-48;if(dt>=65&&dt<=70)return dt-55;if(dt>=97&&dt<=102)return dt-87;j(!1,"Invalid character in "+bt)}function it(bt,at,dt){var vt=nt(bt,dt);return dt-1>=at&&(vt|=nt(bt,dt-1)<<4),vt}tt.prototype._parseHex=function(at,dt,vt){this.length=Math.ceil((at.length-dt)/6),this.words=new Array(this.length);for(var xt=0;xt<this.length;xt++)this.words[xt]=0;var wt=0,_t=0,At;if(vt==="be")for(xt=at.length-1;xt>=dt;xt-=2)At=it(at,dt,xt)<<wt,this.words[_t]|=At&67108863,wt>=18?(wt-=18,_t+=1,this.words[_t]|=At>>>26):wt+=8;else{var Tt=at.length-dt;for(xt=Tt%2===0?dt+1:dt;xt<at.length;xt+=2)At=it(at,dt,xt)<<wt,this.words[_t]|=At&67108863,wt>=18?(wt-=18,_t+=1,this.words[_t]|=At>>>26):wt+=8}this._strip()};function ot(bt,at,dt,vt){for(var xt=0,wt=0,_t=Math.min(bt.length,dt),At=at;At<_t;At++){var Tt=bt.charCodeAt(At)-48;xt*=vt,Tt>=49?wt=Tt-49+10:Tt>=17?wt=Tt-17+10:wt=Tt,j(Tt>=0&&wt<vt,"Invalid character"),xt+=wt}return xt}tt.prototype._parseBase=function(at,dt,vt){this.words=[0],this.length=1;for(var xt=0,wt=1;wt<=67108863;wt*=dt)xt++;xt--,wt=wt/dt|0;for(var _t=at.length-vt,At=_t%xt,Tt=Math.min(_t,_t-At)+vt,yt=0,It=vt;It<Tt;It+=xt)yt=ot(at,It,It+xt,dt),this.imuln(wt),this.words[0]+yt<67108864?this.words[0]+=yt:this._iaddn(yt);if(At!==0){var rr=1;for(yt=ot(at,It,at.length,dt),It=0;It<At;It++)rr*=dt;this.imuln(rr),this.words[0]+yt<67108864?this.words[0]+=yt:this._iaddn(yt)}this._strip()},tt.prototype.copy=function(at){at.words=new Array(this.length);for(var dt=0;dt<this.length;dt++)at.words[dt]=this.words[dt];at.length=this.length,at.negative=this.negative,at.red=this.red};function st(bt,at){bt.words=at.words,bt.length=at.length,bt.negative=at.negative,bt.red=at.red}if(tt.prototype._move=function(at){st(at,this)},tt.prototype.clone=function(){var at=new tt(null);return this.copy(at),at},tt.prototype._expand=function(at){for(;this.length<at;)this.words[this.length++]=0;return this},tt.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},tt.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{tt.prototype[Symbol.for("nodejs.util.inspect.custom")]=ct}catch{tt.prototype.inspect=ct}else tt.prototype.inspect=ct;function ct(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var ut=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],ht=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],Et=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];tt.prototype.toString=function(at,dt){at=at||10,dt=dt|0||1;var vt;if(at===16||at==="hex"){vt="";for(var xt=0,wt=0,_t=0;_t<this.length;_t++){var At=this.words[_t],Tt=((At<<xt|wt)&16777215).toString(16);wt=At>>>24-xt&16777215,xt+=2,xt>=26&&(xt-=26,_t--),wt!==0||_t!==this.length-1?vt=ut[6-Tt.length]+Tt+vt:vt=Tt+vt}for(wt!==0&&(vt=wt.toString(16)+vt);vt.length%dt!==0;)vt="0"+vt;return this.negative!==0&&(vt="-"+vt),vt}if(at===(at|0)&&at>=2&&at<=36){var yt=ht[at],It=Et[at];vt="";var rr=this.clone();for(rr.negative=0;!rr.isZero();){var ir=rr.modrn(It).toString(at);rr=rr.idivn(It),rr.isZero()?vt=ir+vt:vt=ut[yt-ir.length]+ir+vt}for(this.isZero()&&(vt="0"+vt);vt.length%dt!==0;)vt="0"+vt;return this.negative!==0&&(vt="-"+vt),vt}j(!1,"Base should be between 2 and 36")},tt.prototype.toNumber=function(){var at=this.words[0];return this.length===2?at+=this.words[1]*67108864:this.length===3&&this.words[2]===1?at+=4503599627370496+this.words[1]*67108864:this.length>2&&j(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-at:at},tt.prototype.toJSON=function(){return this.toString(16,2)},rt&&(tt.prototype.toBuffer=function(at,dt){return this.toArrayLike(rt,at,dt)}),tt.prototype.toArray=function(at,dt){return this.toArrayLike(Array,at,dt)};var St=function(at,dt){return at.allocUnsafe?at.allocUnsafe(dt):new at(dt)};tt.prototype.toArrayLike=function(at,dt,vt){this._strip();var xt=this.byteLength(),wt=vt||Math.max(1,xt);j(xt<=wt,"byte array longer than desired length"),j(wt>0,"Requested array length <= 0");var _t=St(at,wt),At=dt==="le"?"LE":"BE";return this["_toArrayLike"+At](_t,xt),_t},tt.prototype._toArrayLikeLE=function(at,dt){for(var vt=0,xt=0,wt=0,_t=0;wt<this.length;wt++){var At=this.words[wt]<<_t|xt;at[vt++]=At&255,vt<at.length&&(at[vt++]=At>>8&255),vt<at.length&&(at[vt++]=At>>16&255),_t===6?(vt<at.length&&(at[vt++]=At>>24&255),xt=0,_t=0):(xt=At>>>24,_t+=2)}if(vt<at.length)for(at[vt++]=xt;vt<at.length;)at[vt++]=0},tt.prototype._toArrayLikeBE=function(at,dt){for(var vt=at.length-1,xt=0,wt=0,_t=0;wt<this.length;wt++){var At=this.words[wt]<<_t|xt;at[vt--]=At&255,vt>=0&&(at[vt--]=At>>8&255),vt>=0&&(at[vt--]=At>>16&255),_t===6?(vt>=0&&(at[vt--]=At>>24&255),xt=0,_t=0):(xt=At>>>24,_t+=2)}if(vt>=0)for(at[vt--]=xt;vt>=0;)at[vt--]=0},Math.clz32?tt.prototype._countBits=function(at){return 32-Math.clz32(at)}:tt.prototype._countBits=function(at){var dt=at,vt=0;return dt>=4096&&(vt+=13,dt>>>=13),dt>=64&&(vt+=7,dt>>>=7),dt>=8&&(vt+=4,dt>>>=4),dt>=2&&(vt+=2,dt>>>=2),vt+dt},tt.prototype._zeroBits=function(at){if(at===0)return 26;var dt=at,vt=0;return dt&8191||(vt+=13,dt>>>=13),dt&127||(vt+=7,dt>>>=7),dt&15||(vt+=4,dt>>>=4),dt&3||(vt+=2,dt>>>=2),dt&1||vt++,vt},tt.prototype.bitLength=function(){var at=this.words[this.length-1],dt=this._countBits(at);return(this.length-1)*26+dt};function Mt(bt){for(var at=new Array(bt.bitLength()),dt=0;dt<at.length;dt++){var vt=dt/26|0,xt=dt%26;at[dt]=bt.words[vt]>>>xt&1}return at}tt.prototype.zeroBits=function(){if(this.isZero())return 0;for(var at=0,dt=0;dt<this.length;dt++){var vt=this._zeroBits(this.words[dt]);if(at+=vt,vt!==26)break}return at},tt.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},tt.prototype.toTwos=function(at){return this.negative!==0?this.abs().inotn(at).iaddn(1):this.clone()},tt.prototype.fromTwos=function(at){return this.testn(at-1)?this.notn(at).iaddn(1).ineg():this.clone()},tt.prototype.isNeg=function(){return this.negative!==0},tt.prototype.neg=function(){return this.clone().ineg()},tt.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},tt.prototype.iuor=function(at){for(;this.length<at.length;)this.words[this.length++]=0;for(var dt=0;dt<at.length;dt++)this.words[dt]=this.words[dt]|at.words[dt];return this._strip()},tt.prototype.ior=function(at){return j((this.negative|at.negative)===0),this.iuor(at)},tt.prototype.or=function(at){return this.length>at.length?this.clone().ior(at):at.clone().ior(this)},tt.prototype.uor=function(at){return this.length>at.length?this.clone().iuor(at):at.clone().iuor(this)},tt.prototype.iuand=function(at){var dt;this.length>at.length?dt=at:dt=this;for(var vt=0;vt<dt.length;vt++)this.words[vt]=this.words[vt]&at.words[vt];return this.length=dt.length,this._strip()},tt.prototype.iand=function(at){return j((this.negative|at.negative)===0),this.iuand(at)},tt.prototype.and=function(at){return this.length>at.length?this.clone().iand(at):at.clone().iand(this)},tt.prototype.uand=function(at){return this.length>at.length?this.clone().iuand(at):at.clone().iuand(this)},tt.prototype.iuxor=function(at){var dt,vt;this.length>at.length?(dt=this,vt=at):(dt=at,vt=this);for(var xt=0;xt<vt.length;xt++)this.words[xt]=dt.words[xt]^vt.words[xt];if(this!==dt)for(;xt<dt.length;xt++)this.words[xt]=dt.words[xt];return this.length=dt.length,this._strip()},tt.prototype.ixor=function(at){return j((this.negative|at.negative)===0),this.iuxor(at)},tt.prototype.xor=function(at){return this.length>at.length?this.clone().ixor(at):at.clone().ixor(this)},tt.prototype.uxor=function(at){return this.length>at.length?this.clone().iuxor(at):at.clone().iuxor(this)},tt.prototype.inotn=function(at){j(typeof at=="number"&&at>=0);var dt=Math.ceil(at/26)|0,vt=at%26;this._expand(dt),vt>0&&dt--;for(var xt=0;xt<dt;xt++)this.words[xt]=~this.words[xt]&67108863;return vt>0&&(this.words[xt]=~this.words[xt]&67108863>>26-vt),this._strip()},tt.prototype.notn=function(at){return this.clone().inotn(at)},tt.prototype.setn=function(at,dt){j(typeof at=="number"&&at>=0);var vt=at/26|0,xt=at%26;return this._expand(vt+1),dt?this.words[vt]=this.words[vt]|1<<xt:this.words[vt]=this.words[vt]&~(1<<xt),this._strip()},tt.prototype.iadd=function(at){var dt;if(this.negative!==0&&at.negative===0)return this.negative=0,dt=this.isub(at),this.negative^=1,this._normSign();if(this.negative===0&&at.negative!==0)return at.negative=0,dt=this.isub(at),at.negative=1,dt._normSign();var vt,xt;this.length>at.length?(vt=this,xt=at):(vt=at,xt=this);for(var wt=0,_t=0;_t<xt.length;_t++)dt=(vt.words[_t]|0)+(xt.words[_t]|0)+wt,this.words[_t]=dt&67108863,wt=dt>>>26;for(;wt!==0&&_t<vt.length;_t++)dt=(vt.words[_t]|0)+wt,this.words[_t]=dt&67108863,wt=dt>>>26;if(this.length=vt.length,wt!==0)this.words[this.length]=wt,this.length++;else if(vt!==this)for(;_t<vt.length;_t++)this.words[_t]=vt.words[_t];return this},tt.prototype.add=function(at){var dt;return at.negative!==0&&this.negative===0?(at.negative=0,dt=this.sub(at),at.negative^=1,dt):at.negative===0&&this.negative!==0?(this.negative=0,dt=at.sub(this),this.negative=1,dt):this.length>at.length?this.clone().iadd(at):at.clone().iadd(this)},tt.prototype.isub=function(at){if(at.negative!==0){at.negative=0;var dt=this.iadd(at);return at.negative=1,dt._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(at),this.negative=1,this._normSign();var vt=this.cmp(at);if(vt===0)return this.negative=0,this.length=1,this.words[0]=0,this;var xt,wt;vt>0?(xt=this,wt=at):(xt=at,wt=this);for(var _t=0,At=0;At<wt.length;At++)dt=(xt.words[At]|0)-(wt.words[At]|0)+_t,_t=dt>>26,this.words[At]=dt&67108863;for(;_t!==0&&At<xt.length;At++)dt=(xt.words[At]|0)+_t,_t=dt>>26,this.words[At]=dt&67108863;if(_t===0&&At<xt.length&&xt!==this)for(;At<xt.length;At++)this.words[At]=xt.words[At];return this.length=Math.max(this.length,At),xt!==this&&(this.negative=1),this._strip()},tt.prototype.sub=function(at){return this.clone().isub(at)};function kt(bt,at,dt){dt.negative=at.negative^bt.negative;var vt=bt.length+at.length|0;dt.length=vt,vt=vt-1|0;var xt=bt.words[0]|0,wt=at.words[0]|0,_t=xt*wt,At=_t&67108863,Tt=_t/67108864|0;dt.words[0]=At;for(var yt=1;yt<vt;yt++){for(var It=Tt>>>26,rr=Tt&67108863,ir=Math.min(yt,at.length-1),nr=Math.max(0,yt-bt.length+1);nr<=ir;nr++){var Gt=yt-nr|0;xt=bt.words[Gt]|0,wt=at.words[nr]|0,_t=xt*wt+rr,It+=_t/67108864|0,rr=_t&67108863}dt.words[yt]=rr|0,Tt=It|0}return Tt!==0?dt.words[yt]=Tt|0:dt.length--,dt._strip()}var Ct=function(at,dt,vt){var xt=at.words,wt=dt.words,_t=vt.words,At=0,Tt,yt,It,rr=xt[0]|0,ir=rr&8191,nr=rr>>>13,Gt=xt[1]|0,qt=Gt&8191,Jt=Gt>>>13,Ft=xt[2]|0,Kt=Ft&8191,Qt=Ft>>>13,dr=xt[3]|0,xr=dr&8191,pr=dr>>>13,Ir=xt[4]|0,Cr=Ir&8191,lr=Ir>>>13,fr=xt[5]|0,Er=fr&8191,Ar=fr>>>13,kr=xt[6]|0,Sr=kr&8191,$r=kr>>>13,jr=xt[7]|0,Nr=jr&8191,or=jr>>>13,Xt=xt[8]|0,er=Xt&8191,Zt=Xt>>>13,Ht=xt[9]|0,Wt=Ht&8191,ar=Ht>>>13,br=wt[0]|0,wr=br&8191,Rr=br>>>13,Qr=wt[1]|0,Ur=Qr&8191,Hr=Qr>>>13,_n=wt[2]|0,Wr=_n&8191,an=_n>>>13,Sn=wt[3]|0,cn=Sn&8191,Xr=Sn>>>13,Cn=wt[4]|0,ln=Cn&8191,Yr=Cn>>>13,En=wt[5]|0,fn=En&8191,Jr=En>>>13,$n=wt[6]|0,un=$n&8191,en=$n>>>13,An=wt[7]|0,sn=An&8191,tn=An>>>13,kn=wt[8]|0,xn=kn&8191,dn=kn>>>13,Ln=wt[9]|0,hn=Ln&8191,yn=Ln>>>13;vt.negative=at.negative^dt.negative,vt.length=19,Tt=Math.imul(ir,wr),yt=Math.imul(ir,Rr),yt=yt+Math.imul(nr,wr)|0,It=Math.imul(nr,Rr);var ps=(At+Tt|0)+((yt&8191)<<13)|0;At=(It+(yt>>>13)|0)+(ps>>>26)|0,ps&=67108863,Tt=Math.imul(qt,wr),yt=Math.imul(qt,Rr),yt=yt+Math.imul(Jt,wr)|0,It=Math.imul(Jt,Rr),Tt=Tt+Math.imul(ir,Ur)|0,yt=yt+Math.imul(ir,Hr)|0,yt=yt+Math.imul(nr,Ur)|0,It=It+Math.imul(nr,Hr)|0;var ms=(At+Tt|0)+((yt&8191)<<13)|0;At=(It+(yt>>>13)|0)+(ms>>>26)|0,ms&=67108863,Tt=Math.imul(Kt,wr),yt=Math.imul(Kt,Rr),yt=yt+Math.imul(Qt,wr)|0,It=Math.imul(Qt,Rr),Tt=Tt+Math.imul(qt,Ur)|0,yt=yt+Math.imul(qt,Hr)|0,yt=yt+Math.imul(Jt,Ur)|0,It=It+Math.imul(Jt,Hr)|0,Tt=Tt+Math.imul(ir,Wr)|0,yt=yt+Math.imul(ir,an)|0,yt=yt+Math.imul(nr,Wr)|0,It=It+Math.imul(nr,an)|0;var gs=(At+Tt|0)+((yt&8191)<<13)|0;At=(It+(yt>>>13)|0)+(gs>>>26)|0,gs&=67108863,Tt=Math.imul(xr,wr),yt=Math.imul(xr,Rr),yt=yt+Math.imul(pr,wr)|0,It=Math.imul(pr,Rr),Tt=Tt+Math.imul(Kt,Ur)|0,yt=yt+Math.imul(Kt,Hr)|0,yt=yt+Math.imul(Qt,Ur)|0,It=It+Math.imul(Qt,Hr)|0,Tt=Tt+Math.imul(qt,Wr)|0,yt=yt+Math.imul(qt,an)|0,yt=yt+Math.imul(Jt,Wr)|0,It=It+Math.imul(Jt,an)|0,Tt=Tt+Math.imul(ir,cn)|0,yt=yt+Math.imul(ir,Xr)|0,yt=yt+Math.imul(nr,cn)|0,It=It+Math.imul(nr,Xr)|0;var vs=(At+Tt|0)+((yt&8191)<<13)|0;At=(It+(yt>>>13)|0)+(vs>>>26)|0,vs&=67108863,Tt=Math.imul(Cr,wr),yt=Math.imul(Cr,Rr),yt=yt+Math.imul(lr,wr)|0,It=Math.imul(lr,Rr),Tt=Tt+Math.imul(xr,Ur)|0,yt=yt+Math.imul(xr,Hr)|0,yt=yt+Math.imul(pr,Ur)|0,It=It+Math.imul(pr,Hr)|0,Tt=Tt+Math.imul(Kt,Wr)|0,yt=yt+Math.imul(Kt,an)|0,yt=yt+Math.imul(Qt,Wr)|0,It=It+Math.imul(Qt,an)|0,Tt=Tt+Math.imul(qt,cn)|0,yt=yt+Math.imul(qt,Xr)|0,yt=yt+Math.imul(Jt,cn)|0,It=It+Math.imul(Jt,Xr)|0,Tt=Tt+Math.imul(ir,ln)|0,yt=yt+Math.imul(ir,Yr)|0,yt=yt+Math.imul(nr,ln)|0,It=It+Math.imul(nr,Yr)|0;var Zn=(At+Tt|0)+((yt&8191)<<13)|0;At=(It+(yt>>>13)|0)+(Zn>>>26)|0,Zn&=67108863,Tt=Math.imul(Er,wr),yt=Math.imul(Er,Rr),yt=yt+Math.imul(Ar,wr)|0,It=Math.imul(Ar,Rr),Tt=Tt+Math.imul(Cr,Ur)|0,yt=yt+Math.imul(Cr,Hr)|0,yt=yt+Math.imul(lr,Ur)|0,It=It+Math.imul(lr,Hr)|0,Tt=Tt+Math.imul(xr,Wr)|0,yt=yt+Math.imul(xr,an)|0,yt=yt+Math.imul(pr,Wr)|0,It=It+Math.imul(pr,an)|0,Tt=Tt+Math.imul(Kt,cn)|0,yt=yt+Math.imul(Kt,Xr)|0,yt=yt+Math.imul(Qt,cn)|0,It=It+Math.imul(Qt,Xr)|0,Tt=Tt+Math.imul(qt,ln)|0,yt=yt+Math.imul(qt,Yr)|0,yt=yt+Math.imul(Jt,ln)|0,It=It+Math.imul(Jt,Yr)|0,Tt=Tt+Math.imul(ir,fn)|0,yt=yt+Math.imul(ir,Jr)|0,yt=yt+Math.imul(nr,fn)|0,It=It+Math.imul(nr,Jr)|0;var ls=(At+Tt|0)+((yt&8191)<<13)|0;At=(It+(yt>>>13)|0)+(ls>>>26)|0,ls&=67108863,Tt=Math.imul(Sr,wr),yt=Math.imul(Sr,Rr),yt=yt+Math.imul($r,wr)|0,It=Math.imul($r,Rr),Tt=Tt+Math.imul(Er,Ur)|0,yt=yt+Math.imul(Er,Hr)|0,yt=yt+Math.imul(Ar,Ur)|0,It=It+Math.imul(Ar,Hr)|0,Tt=Tt+Math.imul(Cr,Wr)|0,yt=yt+Math.imul(Cr,an)|0,yt=yt+Math.imul(lr,Wr)|0,It=It+Math.imul(lr,an)|0,Tt=Tt+Math.imul(xr,cn)|0,yt=yt+Math.imul(xr,Xr)|0,yt=yt+Math.imul(pr,cn)|0,It=It+Math.imul(pr,Xr)|0,Tt=Tt+Math.imul(Kt,ln)|0,yt=yt+Math.imul(Kt,Yr)|0,yt=yt+Math.imul(Qt,ln)|0,It=It+Math.imul(Qt,Yr)|0,Tt=Tt+Math.imul(qt,fn)|0,yt=yt+Math.imul(qt,Jr)|0,yt=yt+Math.imul(Jt,fn)|0,It=It+Math.imul(Jt,Jr)|0,Tt=Tt+Math.imul(ir,un)|0,yt=yt+Math.imul(ir,en)|0,yt=yt+Math.imul(nr,un)|0,It=It+Math.imul(nr,en)|0;var rs=(At+Tt|0)+((yt&8191)<<13)|0;At=(It+(yt>>>13)|0)+(rs>>>26)|0,rs&=67108863,Tt=Math.imul(Nr,wr),yt=Math.imul(Nr,Rr),yt=yt+Math.imul(or,wr)|0,It=Math.imul(or,Rr),Tt=Tt+Math.imul(Sr,Ur)|0,yt=yt+Math.imul(Sr,Hr)|0,yt=yt+Math.imul($r,Ur)|0,It=It+Math.imul($r,Hr)|0,Tt=Tt+Math.imul(Er,Wr)|0,yt=yt+Math.imul(Er,an)|0,yt=yt+Math.imul(Ar,Wr)|0,It=It+Math.imul(Ar,an)|0,Tt=Tt+Math.imul(Cr,cn)|0,yt=yt+Math.imul(Cr,Xr)|0,yt=yt+Math.imul(lr,cn)|0,It=It+Math.imul(lr,Xr)|0,Tt=Tt+Math.imul(xr,ln)|0,yt=yt+Math.imul(xr,Yr)|0,yt=yt+Math.imul(pr,ln)|0,It=It+Math.imul(pr,Yr)|0,Tt=Tt+Math.imul(Kt,fn)|0,yt=yt+Math.imul(Kt,Jr)|0,yt=yt+Math.imul(Qt,fn)|0,It=It+Math.imul(Qt,Jr)|0,Tt=Tt+Math.imul(qt,un)|0,yt=yt+Math.imul(qt,en)|0,yt=yt+Math.imul(Jt,un)|0,It=It+Math.imul(Jt,en)|0,Tt=Tt+Math.imul(ir,sn)|0,yt=yt+Math.imul(ir,tn)|0,yt=yt+Math.imul(nr,sn)|0,It=It+Math.imul(nr,tn)|0;var es=(At+Tt|0)+((yt&8191)<<13)|0;At=(It+(yt>>>13)|0)+(es>>>26)|0,es&=67108863,Tt=Math.imul(er,wr),yt=Math.imul(er,Rr),yt=yt+Math.imul(Zt,wr)|0,It=Math.imul(Zt,Rr),Tt=Tt+Math.imul(Nr,Ur)|0,yt=yt+Math.imul(Nr,Hr)|0,yt=yt+Math.imul(or,Ur)|0,It=It+Math.imul(or,Hr)|0,Tt=Tt+Math.imul(Sr,Wr)|0,yt=yt+Math.imul(Sr,an)|0,yt=yt+Math.imul($r,Wr)|0,It=It+Math.imul($r,an)|0,Tt=Tt+Math.imul(Er,cn)|0,yt=yt+Math.imul(Er,Xr)|0,yt=yt+Math.imul(Ar,cn)|0,It=It+Math.imul(Ar,Xr)|0,Tt=Tt+Math.imul(Cr,ln)|0,yt=yt+Math.imul(Cr,Yr)|0,yt=yt+Math.imul(lr,ln)|0,It=It+Math.imul(lr,Yr)|0,Tt=Tt+Math.imul(xr,fn)|0,yt=yt+Math.imul(xr,Jr)|0,yt=yt+Math.imul(pr,fn)|0,It=It+Math.imul(pr,Jr)|0,Tt=Tt+Math.imul(Kt,un)|0,yt=yt+Math.imul(Kt,en)|0,yt=yt+Math.imul(Qt,un)|0,It=It+Math.imul(Qt,en)|0,Tt=Tt+Math.imul(qt,sn)|0,yt=yt+Math.imul(qt,tn)|0,yt=yt+Math.imul(Jt,sn)|0,It=It+Math.imul(Jt,tn)|0,Tt=Tt+Math.imul(ir,xn)|0,yt=yt+Math.imul(ir,dn)|0,yt=yt+Math.imul(nr,xn)|0,It=It+Math.imul(nr,dn)|0;var ys=(At+Tt|0)+((yt&8191)<<13)|0;At=(It+(yt>>>13)|0)+(ys>>>26)|0,ys&=67108863,Tt=Math.imul(Wt,wr),yt=Math.imul(Wt,Rr),yt=yt+Math.imul(ar,wr)|0,It=Math.imul(ar,Rr),Tt=Tt+Math.imul(er,Ur)|0,yt=yt+Math.imul(er,Hr)|0,yt=yt+Math.imul(Zt,Ur)|0,It=It+Math.imul(Zt,Hr)|0,Tt=Tt+Math.imul(Nr,Wr)|0,yt=yt+Math.imul(Nr,an)|0,yt=yt+Math.imul(or,Wr)|0,It=It+Math.imul(or,an)|0,Tt=Tt+Math.imul(Sr,cn)|0,yt=yt+Math.imul(Sr,Xr)|0,yt=yt+Math.imul($r,cn)|0,It=It+Math.imul($r,Xr)|0,Tt=Tt+Math.imul(Er,ln)|0,yt=yt+Math.imul(Er,Yr)|0,yt=yt+Math.imul(Ar,ln)|0,It=It+Math.imul(Ar,Yr)|0,Tt=Tt+Math.imul(Cr,fn)|0,yt=yt+Math.imul(Cr,Jr)|0,yt=yt+Math.imul(lr,fn)|0,It=It+Math.imul(lr,Jr)|0,Tt=Tt+Math.imul(xr,un)|0,yt=yt+Math.imul(xr,en)|0,yt=yt+Math.imul(pr,un)|0,It=It+Math.imul(pr,en)|0,Tt=Tt+Math.imul(Kt,sn)|0,yt=yt+Math.imul(Kt,tn)|0,yt=yt+Math.imul(Qt,sn)|0,It=It+Math.imul(Qt,tn)|0,Tt=Tt+Math.imul(qt,xn)|0,yt=yt+Math.imul(qt,dn)|0,yt=yt+Math.imul(Jt,xn)|0,It=It+Math.imul(Jt,dn)|0,Tt=Tt+Math.imul(ir,hn)|0,yt=yt+Math.imul(ir,yn)|0,yt=yt+Math.imul(nr,hn)|0,It=It+Math.imul(nr,yn)|0;var ns=(At+Tt|0)+((yt&8191)<<13)|0;At=(It+(yt>>>13)|0)+(ns>>>26)|0,ns&=67108863,Tt=Math.imul(Wt,Ur),yt=Math.imul(Wt,Hr),yt=yt+Math.imul(ar,Ur)|0,It=Math.imul(ar,Hr),Tt=Tt+Math.imul(er,Wr)|0,yt=yt+Math.imul(er,an)|0,yt=yt+Math.imul(Zt,Wr)|0,It=It+Math.imul(Zt,an)|0,Tt=Tt+Math.imul(Nr,cn)|0,yt=yt+Math.imul(Nr,Xr)|0,yt=yt+Math.imul(or,cn)|0,It=It+Math.imul(or,Xr)|0,Tt=Tt+Math.imul(Sr,ln)|0,yt=yt+Math.imul(Sr,Yr)|0,yt=yt+Math.imul($r,ln)|0,It=It+Math.imul($r,Yr)|0,Tt=Tt+Math.imul(Er,fn)|0,yt=yt+Math.imul(Er,Jr)|0,yt=yt+Math.imul(Ar,fn)|0,It=It+Math.imul(Ar,Jr)|0,Tt=Tt+Math.imul(Cr,un)|0,yt=yt+Math.imul(Cr,en)|0,yt=yt+Math.imul(lr,un)|0,It=It+Math.imul(lr,en)|0,Tt=Tt+Math.imul(xr,sn)|0,yt=yt+Math.imul(xr,tn)|0,yt=yt+Math.imul(pr,sn)|0,It=It+Math.imul(pr,tn)|0,Tt=Tt+Math.imul(Kt,xn)|0,yt=yt+Math.imul(Kt,dn)|0,yt=yt+Math.imul(Qt,xn)|0,It=It+Math.imul(Qt,dn)|0,Tt=Tt+Math.imul(qt,hn)|0,yt=yt+Math.imul(qt,yn)|0,yt=yt+Math.imul(Jt,hn)|0,It=It+Math.imul(Jt,yn)|0;var as=(At+Tt|0)+((yt&8191)<<13)|0;At=(It+(yt>>>13)|0)+(as>>>26)|0,as&=67108863,Tt=Math.imul(Wt,Wr),yt=Math.imul(Wt,an),yt=yt+Math.imul(ar,Wr)|0,It=Math.imul(ar,an),Tt=Tt+Math.imul(er,cn)|0,yt=yt+Math.imul(er,Xr)|0,yt=yt+Math.imul(Zt,cn)|0,It=It+Math.imul(Zt,Xr)|0,Tt=Tt+Math.imul(Nr,ln)|0,yt=yt+Math.imul(Nr,Yr)|0,yt=yt+Math.imul(or,ln)|0,It=It+Math.imul(or,Yr)|0,Tt=Tt+Math.imul(Sr,fn)|0,yt=yt+Math.imul(Sr,Jr)|0,yt=yt+Math.imul($r,fn)|0,It=It+Math.imul($r,Jr)|0,Tt=Tt+Math.imul(Er,un)|0,yt=yt+Math.imul(Er,en)|0,yt=yt+Math.imul(Ar,un)|0,It=It+Math.imul(Ar,en)|0,Tt=Tt+Math.imul(Cr,sn)|0,yt=yt+Math.imul(Cr,tn)|0,yt=yt+Math.imul(lr,sn)|0,It=It+Math.imul(lr,tn)|0,Tt=Tt+Math.imul(xr,xn)|0,yt=yt+Math.imul(xr,dn)|0,yt=yt+Math.imul(pr,xn)|0,It=It+Math.imul(pr,dn)|0,Tt=Tt+Math.imul(Kt,hn)|0,yt=yt+Math.imul(Kt,yn)|0,yt=yt+Math.imul(Qt,hn)|0,It=It+Math.imul(Qt,yn)|0;var ds=(At+Tt|0)+((yt&8191)<<13)|0;At=(It+(yt>>>13)|0)+(ds>>>26)|0,ds&=67108863,Tt=Math.imul(Wt,cn),yt=Math.imul(Wt,Xr),yt=yt+Math.imul(ar,cn)|0,It=Math.imul(ar,Xr),Tt=Tt+Math.imul(er,ln)|0,yt=yt+Math.imul(er,Yr)|0,yt=yt+Math.imul(Zt,ln)|0,It=It+Math.imul(Zt,Yr)|0,Tt=Tt+Math.imul(Nr,fn)|0,yt=yt+Math.imul(Nr,Jr)|0,yt=yt+Math.imul(or,fn)|0,It=It+Math.imul(or,Jr)|0,Tt=Tt+Math.imul(Sr,un)|0,yt=yt+Math.imul(Sr,en)|0,yt=yt+Math.imul($r,un)|0,It=It+Math.imul($r,en)|0,Tt=Tt+Math.imul(Er,sn)|0,yt=yt+Math.imul(Er,tn)|0,yt=yt+Math.imul(Ar,sn)|0,It=It+Math.imul(Ar,tn)|0,Tt=Tt+Math.imul(Cr,xn)|0,yt=yt+Math.imul(Cr,dn)|0,yt=yt+Math.imul(lr,xn)|0,It=It+Math.imul(lr,dn)|0,Tt=Tt+Math.imul(xr,hn)|0,yt=yt+Math.imul(xr,yn)|0,yt=yt+Math.imul(pr,hn)|0,It=It+Math.imul(pr,yn)|0;var fs=(At+Tt|0)+((yt&8191)<<13)|0;At=(It+(yt>>>13)|0)+(fs>>>26)|0,fs&=67108863,Tt=Math.imul(Wt,ln),yt=Math.imul(Wt,Yr),yt=yt+Math.imul(ar,ln)|0,It=Math.imul(ar,Yr),Tt=Tt+Math.imul(er,fn)|0,yt=yt+Math.imul(er,Jr)|0,yt=yt+Math.imul(Zt,fn)|0,It=It+Math.imul(Zt,Jr)|0,Tt=Tt+Math.imul(Nr,un)|0,yt=yt+Math.imul(Nr,en)|0,yt=yt+Math.imul(or,un)|0,It=It+Math.imul(or,en)|0,Tt=Tt+Math.imul(Sr,sn)|0,yt=yt+Math.imul(Sr,tn)|0,yt=yt+Math.imul($r,sn)|0,It=It+Math.imul($r,tn)|0,Tt=Tt+Math.imul(Er,xn)|0,yt=yt+Math.imul(Er,dn)|0,yt=yt+Math.imul(Ar,xn)|0,It=It+Math.imul(Ar,dn)|0,Tt=Tt+Math.imul(Cr,hn)|0,yt=yt+Math.imul(Cr,yn)|0,yt=yt+Math.imul(lr,hn)|0,It=It+Math.imul(lr,yn)|0;var Jn=(At+Tt|0)+((yt&8191)<<13)|0;At=(It+(yt>>>13)|0)+(Jn>>>26)|0,Jn&=67108863,Tt=Math.imul(Wt,fn),yt=Math.imul(Wt,Jr),yt=yt+Math.imul(ar,fn)|0,It=Math.imul(ar,Jr),Tt=Tt+Math.imul(er,un)|0,yt=yt+Math.imul(er,en)|0,yt=yt+Math.imul(Zt,un)|0,It=It+Math.imul(Zt,en)|0,Tt=Tt+Math.imul(Nr,sn)|0,yt=yt+Math.imul(Nr,tn)|0,yt=yt+Math.imul(or,sn)|0,It=It+Math.imul(or,tn)|0,Tt=Tt+Math.imul(Sr,xn)|0,yt=yt+Math.imul(Sr,dn)|0,yt=yt+Math.imul($r,xn)|0,It=It+Math.imul($r,dn)|0,Tt=Tt+Math.imul(Er,hn)|0,yt=yt+Math.imul(Er,yn)|0,yt=yt+Math.imul(Ar,hn)|0,It=It+Math.imul(Ar,yn)|0;var us=(At+Tt|0)+((yt&8191)<<13)|0;At=(It+(yt>>>13)|0)+(us>>>26)|0,us&=67108863,Tt=Math.imul(Wt,un),yt=Math.imul(Wt,en),yt=yt+Math.imul(ar,un)|0,It=Math.imul(ar,en),Tt=Tt+Math.imul(er,sn)|0,yt=yt+Math.imul(er,tn)|0,yt=yt+Math.imul(Zt,sn)|0,It=It+Math.imul(Zt,tn)|0,Tt=Tt+Math.imul(Nr,xn)|0,yt=yt+Math.imul(Nr,dn)|0,yt=yt+Math.imul(or,xn)|0,It=It+Math.imul(or,dn)|0,Tt=Tt+Math.imul(Sr,hn)|0,yt=yt+Math.imul(Sr,yn)|0,yt=yt+Math.imul($r,hn)|0,It=It+Math.imul($r,yn)|0;var xs=(At+Tt|0)+((yt&8191)<<13)|0;At=(It+(yt>>>13)|0)+(xs>>>26)|0,xs&=67108863,Tt=Math.imul(Wt,sn),yt=Math.imul(Wt,tn),yt=yt+Math.imul(ar,sn)|0,It=Math.imul(ar,tn),Tt=Tt+Math.imul(er,xn)|0,yt=yt+Math.imul(er,dn)|0,yt=yt+Math.imul(Zt,xn)|0,It=It+Math.imul(Zt,dn)|0,Tt=Tt+Math.imul(Nr,hn)|0,yt=yt+Math.imul(Nr,yn)|0,yt=yt+Math.imul(or,hn)|0,It=It+Math.imul(or,yn)|0;var bs=(At+Tt|0)+((yt&8191)<<13)|0;At=(It+(yt>>>13)|0)+(bs>>>26)|0,bs&=67108863,Tt=Math.imul(Wt,xn),yt=Math.imul(Wt,dn),yt=yt+Math.imul(ar,xn)|0,It=Math.imul(ar,dn),Tt=Tt+Math.imul(er,hn)|0,yt=yt+Math.imul(er,yn)|0,yt=yt+Math.imul(Zt,hn)|0,It=It+Math.imul(Zt,yn)|0;var Ps=(At+Tt|0)+((yt&8191)<<13)|0;At=(It+(yt>>>13)|0)+(Ps>>>26)|0,Ps&=67108863,Tt=Math.imul(Wt,hn),yt=Math.imul(Wt,yn),yt=yt+Math.imul(ar,hn)|0,It=Math.imul(ar,yn);var Ts=(At+Tt|0)+((yt&8191)<<13)|0;return At=(It+(yt>>>13)|0)+(Ts>>>26)|0,Ts&=67108863,_t[0]=ps,_t[1]=ms,_t[2]=gs,_t[3]=vs,_t[4]=Zn,_t[5]=ls,_t[6]=rs,_t[7]=es,_t[8]=ys,_t[9]=ns,_t[10]=as,_t[11]=ds,_t[12]=fs,_t[13]=Jn,_t[14]=us,_t[15]=xs,_t[16]=bs,_t[17]=Ps,_t[18]=Ts,At!==0&&(_t[19]=At,vt.length++),vt};Math.imul||(Ct=kt);function Ot(bt,at,dt){dt.negative=at.negative^bt.negative,dt.length=bt.length+at.length;for(var vt=0,xt=0,wt=0;wt<dt.length-1;wt++){var _t=xt;xt=0;for(var At=vt&67108863,Tt=Math.min(wt,at.length-1),yt=Math.max(0,wt-bt.length+1);yt<=Tt;yt++){var It=wt-yt,rr=bt.words[It]|0,ir=at.words[yt]|0,nr=rr*ir,Gt=nr&67108863;_t=_t+(nr/67108864|0)|0,Gt=Gt+At|0,At=Gt&67108863,_t=_t+(Gt>>>26)|0,xt+=_t>>>26,_t&=67108863}dt.words[wt]=At,vt=_t,_t=xt}return vt!==0?dt.words[wt]=vt:dt.length--,dt._strip()}function zt(bt,at,dt){return Ot(bt,at,dt)}tt.prototype.mulTo=function(at,dt){var vt,xt=this.length+at.length;return this.length===10&&at.length===10?vt=Ct(this,at,dt):xt<63?vt=kt(this,at,dt):xt<1024?vt=Ot(this,at,dt):vt=zt(this,at,dt),vt},tt.prototype.mul=function(at){var dt=new tt(null);return dt.words=new Array(this.length+at.length),this.mulTo(at,dt)},tt.prototype.mulf=function(at){var dt=new tt(null);return dt.words=new Array(this.length+at.length),zt(this,at,dt)},tt.prototype.imul=function(at){return this.clone().mulTo(at,this)},tt.prototype.imuln=function(at){var dt=at<0;dt&&(at=-at),j(typeof at=="number"),j(at<67108864);for(var vt=0,xt=0;xt<this.length;xt++){var wt=(this.words[xt]|0)*at,_t=(wt&67108863)+(vt&67108863);vt>>=26,vt+=wt/67108864|0,vt+=_t>>>26,this.words[xt]=_t&67108863}return vt!==0&&(this.words[xt]=vt,this.length++),dt?this.ineg():this},tt.prototype.muln=function(at){return this.clone().imuln(at)},tt.prototype.sqr=function(){return this.mul(this)},tt.prototype.isqr=function(){return this.imul(this.clone())},tt.prototype.pow=function(at){var dt=Mt(at);if(dt.length===0)return new tt(1);for(var vt=this,xt=0;xt<dt.length&&dt[xt]===0;xt++,vt=vt.sqr());if(++xt<dt.length)for(var wt=vt.sqr();xt<dt.length;xt++,wt=wt.sqr())dt[xt]!==0&&(vt=vt.mul(wt));return vt},tt.prototype.iushln=function(at){j(typeof at=="number"&&at>=0);var dt=at%26,vt=(at-dt)/26,xt=67108863>>>26-dt<<26-dt,wt;if(dt!==0){var _t=0;for(wt=0;wt<this.length;wt++){var At=this.words[wt]&xt,Tt=(this.words[wt]|0)-At<<dt;this.words[wt]=Tt|_t,_t=At>>>26-dt}_t&&(this.words[wt]=_t,this.length++)}if(vt!==0){for(wt=this.length-1;wt>=0;wt--)this.words[wt+vt]=this.words[wt];for(wt=0;wt<vt;wt++)this.words[wt]=0;this.length+=vt}return this._strip()},tt.prototype.ishln=function(at){return j(this.negative===0),this.iushln(at)},tt.prototype.iushrn=function(at,dt,vt){j(typeof at=="number"&&at>=0);var xt;dt?xt=(dt-dt%26)/26:xt=0;var wt=at%26,_t=Math.min((at-wt)/26,this.length),At=67108863^67108863>>>wt<<wt,Tt=vt;if(xt-=_t,xt=Math.max(0,xt),Tt){for(var yt=0;yt<_t;yt++)Tt.words[yt]=this.words[yt];Tt.length=_t}if(_t!==0)if(this.length>_t)for(this.length-=_t,yt=0;yt<this.length;yt++)this.words[yt]=this.words[yt+_t];else this.words[0]=0,this.length=1;var It=0;for(yt=this.length-1;yt>=0&&(It!==0||yt>=xt);yt--){var rr=this.words[yt]|0;this.words[yt]=It<<26-wt|rr>>>wt,It=rr&At}return Tt&&It!==0&&(Tt.words[Tt.length++]=It),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},tt.prototype.ishrn=function(at,dt,vt){return j(this.negative===0),this.iushrn(at,dt,vt)},tt.prototype.shln=function(at){return this.clone().ishln(at)},tt.prototype.ushln=function(at){return this.clone().iushln(at)},tt.prototype.shrn=function(at){return this.clone().ishrn(at)},tt.prototype.ushrn=function(at){return this.clone().iushrn(at)},tt.prototype.testn=function(at){j(typeof at=="number"&&at>=0);var dt=at%26,vt=(at-dt)/26,xt=1<<dt;if(this.length<=vt)return!1;var wt=this.words[vt];return!!(wt&xt)},tt.prototype.imaskn=function(at){j(typeof at=="number"&&at>=0);var dt=at%26,vt=(at-dt)/26;if(j(this.negative===0,"imaskn works only with positive numbers"),this.length<=vt)return this;if(dt!==0&&vt++,this.length=Math.min(vt,this.length),dt!==0){var xt=67108863^67108863>>>dt<<dt;this.words[this.length-1]&=xt}return this._strip()},tt.prototype.maskn=function(at){return this.clone().imaskn(at)},tt.prototype.iaddn=function(at){return j(typeof at=="number"),j(at<67108864),at<0?this.isubn(-at):this.negative!==0?this.length===1&&(this.words[0]|0)<=at?(this.words[0]=at-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(at),this.negative=1,this):this._iaddn(at)},tt.prototype._iaddn=function(at){this.words[0]+=at;for(var dt=0;dt<this.length&&this.words[dt]>=67108864;dt++)this.words[dt]-=67108864,dt===this.length-1?this.words[dt+1]=1:this.words[dt+1]++;return this.length=Math.max(this.length,dt+1),this},tt.prototype.isubn=function(at){if(j(typeof at=="number"),j(at<67108864),at<0)return this.iaddn(-at);if(this.negative!==0)return this.negative=0,this.iaddn(at),this.negative=1,this;if(this.words[0]-=at,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var dt=0;dt<this.length&&this.words[dt]<0;dt++)this.words[dt]+=67108864,this.words[dt+1]-=1;return this._strip()},tt.prototype.addn=function(at){return this.clone().iaddn(at)},tt.prototype.subn=function(at){return this.clone().isubn(at)},tt.prototype.iabs=function(){return this.negative=0,this},tt.prototype.abs=function(){return this.clone().iabs()},tt.prototype._ishlnsubmul=function(at,dt,vt){var xt=at.length+vt,wt;this._expand(xt);var _t,At=0;for(wt=0;wt<at.length;wt++){_t=(this.words[wt+vt]|0)+At;var Tt=(at.words[wt]|0)*dt;_t-=Tt&67108863,At=(_t>>26)-(Tt/67108864|0),this.words[wt+vt]=_t&67108863}for(;wt<this.length-vt;wt++)_t=(this.words[wt+vt]|0)+At,At=_t>>26,this.words[wt+vt]=_t&67108863;if(At===0)return this._strip();for(j(At===-1),At=0,wt=0;wt<this.length;wt++)_t=-(this.words[wt]|0)+At,At=_t>>26,this.words[wt]=_t&67108863;return this.negative=1,this._strip()},tt.prototype._wordDiv=function(at,dt){var vt=this.length-at.length,xt=this.clone(),wt=at,_t=wt.words[wt.length-1]|0,At=this._countBits(_t);vt=26-At,vt!==0&&(wt=wt.ushln(vt),xt.iushln(vt),_t=wt.words[wt.length-1]|0);var Tt=xt.length-wt.length,yt;if(dt!=="mod"){yt=new tt(null),yt.length=Tt+1,yt.words=new Array(yt.length);for(var It=0;It<yt.length;It++)yt.words[It]=0}var rr=xt.clone()._ishlnsubmul(wt,1,Tt);rr.negative===0&&(xt=rr,yt&&(yt.words[Tt]=1));for(var ir=Tt-1;ir>=0;ir--){var nr=(xt.words[wt.length+ir]|0)*67108864+(xt.words[wt.length+ir-1]|0);for(nr=Math.min(nr/_t|0,67108863),xt._ishlnsubmul(wt,nr,ir);xt.negative!==0;)nr--,xt.negative=0,xt._ishlnsubmul(wt,1,ir),xt.isZero()||(xt.negative^=1);yt&&(yt.words[ir]=nr)}return yt&&yt._strip(),xt._strip(),dt!=="div"&&vt!==0&&xt.iushrn(vt),{div:yt||null,mod:xt}},tt.prototype.divmod=function(at,dt,vt){if(j(!at.isZero()),this.isZero())return{div:new tt(0),mod:new tt(0)};var xt,wt,_t;return this.negative!==0&&at.negative===0?(_t=this.neg().divmod(at,dt),dt!=="mod"&&(xt=_t.div.neg()),dt!=="div"&&(wt=_t.mod.neg(),vt&&wt.negative!==0&&wt.iadd(at)),{div:xt,mod:wt}):this.negative===0&&at.negative!==0?(_t=this.divmod(at.neg(),dt),dt!=="mod"&&(xt=_t.div.neg()),{div:xt,mod:_t.mod}):this.negative&at.negative?(_t=this.neg().divmod(at.neg(),dt),dt!=="div"&&(wt=_t.mod.neg(),vt&&wt.negative!==0&&wt.isub(at)),{div:_t.div,mod:wt}):at.length>this.length||this.cmp(at)<0?{div:new tt(0),mod:this}:at.length===1?dt==="div"?{div:this.divn(at.words[0]),mod:null}:dt==="mod"?{div:null,mod:new tt(this.modrn(at.words[0]))}:{div:this.divn(at.words[0]),mod:new tt(this.modrn(at.words[0]))}:this._wordDiv(at,dt)},tt.prototype.div=function(at){return this.divmod(at,"div",!1).div},tt.prototype.mod=function(at){return this.divmod(at,"mod",!1).mod},tt.prototype.umod=function(at){return this.divmod(at,"mod",!0).mod},tt.prototype.divRound=function(at){var dt=this.divmod(at);if(dt.mod.isZero())return dt.div;var vt=dt.div.negative!==0?dt.mod.isub(at):dt.mod,xt=at.ushrn(1),wt=at.andln(1),_t=vt.cmp(xt);return _t<0||wt===1&&_t===0?dt.div:dt.div.negative!==0?dt.div.isubn(1):dt.div.iaddn(1)},tt.prototype.modrn=function(at){var dt=at<0;dt&&(at=-at),j(at<=67108863);for(var vt=(1<<26)%at,xt=0,wt=this.length-1;wt>=0;wt--)xt=(vt*xt+(this.words[wt]|0))%at;return dt?-xt:xt},tt.prototype.modn=function(at){return this.modrn(at)},tt.prototype.idivn=function(at){var dt=at<0;dt&&(at=-at),j(at<=67108863);for(var vt=0,xt=this.length-1;xt>=0;xt--){var wt=(this.words[xt]|0)+vt*67108864;this.words[xt]=wt/at|0,vt=wt%at}return this._strip(),dt?this.ineg():this},tt.prototype.divn=function(at){return this.clone().idivn(at)},tt.prototype.egcd=function(at){j(at.negative===0),j(!at.isZero());var dt=this,vt=at.clone();dt.negative!==0?dt=dt.umod(at):dt=dt.clone();for(var xt=new tt(1),wt=new tt(0),_t=new tt(0),At=new tt(1),Tt=0;dt.isEven()&&vt.isEven();)dt.iushrn(1),vt.iushrn(1),++Tt;for(var yt=vt.clone(),It=dt.clone();!dt.isZero();){for(var rr=0,ir=1;!(dt.words[0]&ir)&&rr<26;++rr,ir<<=1);if(rr>0)for(dt.iushrn(rr);rr-- >0;)(xt.isOdd()||wt.isOdd())&&(xt.iadd(yt),wt.isub(It)),xt.iushrn(1),wt.iushrn(1);for(var nr=0,Gt=1;!(vt.words[0]&Gt)&&nr<26;++nr,Gt<<=1);if(nr>0)for(vt.iushrn(nr);nr-- >0;)(_t.isOdd()||At.isOdd())&&(_t.iadd(yt),At.isub(It)),_t.iushrn(1),At.iushrn(1);dt.cmp(vt)>=0?(dt.isub(vt),xt.isub(_t),wt.isub(At)):(vt.isub(dt),_t.isub(xt),At.isub(wt))}return{a:_t,b:At,gcd:vt.iushln(Tt)}},tt.prototype._invmp=function(at){j(at.negative===0),j(!at.isZero());var dt=this,vt=at.clone();dt.negative!==0?dt=dt.umod(at):dt=dt.clone();for(var xt=new tt(1),wt=new tt(0),_t=vt.clone();dt.cmpn(1)>0&&vt.cmpn(1)>0;){for(var At=0,Tt=1;!(dt.words[0]&Tt)&&At<26;++At,Tt<<=1);if(At>0)for(dt.iushrn(At);At-- >0;)xt.isOdd()&&xt.iadd(_t),xt.iushrn(1);for(var yt=0,It=1;!(vt.words[0]&It)&&yt<26;++yt,It<<=1);if(yt>0)for(vt.iushrn(yt);yt-- >0;)wt.isOdd()&&wt.iadd(_t),wt.iushrn(1);dt.cmp(vt)>=0?(dt.isub(vt),xt.isub(wt)):(vt.isub(dt),wt.isub(xt))}var rr;return dt.cmpn(1)===0?rr=xt:rr=wt,rr.cmpn(0)<0&&rr.iadd(at),rr},tt.prototype.gcd=function(at){if(this.isZero())return at.abs();if(at.isZero())return this.abs();var dt=this.clone(),vt=at.clone();dt.negative=0,vt.negative=0;for(var xt=0;dt.isEven()&&vt.isEven();xt++)dt.iushrn(1),vt.iushrn(1);do{for(;dt.isEven();)dt.iushrn(1);for(;vt.isEven();)vt.iushrn(1);var wt=dt.cmp(vt);if(wt<0){var _t=dt;dt=vt,vt=_t}else if(wt===0||vt.cmpn(1)===0)break;dt.isub(vt)}while(!0);return vt.iushln(xt)},tt.prototype.invm=function(at){return this.egcd(at).a.umod(at)},tt.prototype.isEven=function(){return(this.words[0]&1)===0},tt.prototype.isOdd=function(){return(this.words[0]&1)===1},tt.prototype.andln=function(at){return this.words[0]&at},tt.prototype.bincn=function(at){j(typeof at=="number");var dt=at%26,vt=(at-dt)/26,xt=1<<dt;if(this.length<=vt)return this._expand(vt+1),this.words[vt]|=xt,this;for(var wt=xt,_t=vt;wt!==0&&_t<this.length;_t++){var At=this.words[_t]|0;At+=wt,wt=At>>>26,At&=67108863,this.words[_t]=At}return wt!==0&&(this.words[_t]=wt,this.length++),this},tt.prototype.isZero=function(){return this.length===1&&this.words[0]===0},tt.prototype.cmpn=function(at){var dt=at<0;if(this.negative!==0&&!dt)return-1;if(this.negative===0&&dt)return 1;this._strip();var vt;if(this.length>1)vt=1;else{dt&&(at=-at),j(at<=67108863,"Number is too big");var xt=this.words[0]|0;vt=xt===at?0:xt<at?-1:1}return this.negative!==0?-vt|0:vt},tt.prototype.cmp=function(at){if(this.negative!==0&&at.negative===0)return-1;if(this.negative===0&&at.negative!==0)return 1;var dt=this.ucmp(at);return this.negative!==0?-dt|0:dt},tt.prototype.ucmp=function(at){if(this.length>at.length)return 1;if(this.length<at.length)return-1;for(var dt=0,vt=this.length-1;vt>=0;vt--){var xt=this.words[vt]|0,wt=at.words[vt]|0;if(xt!==wt){xt<wt?dt=-1:xt>wt&&(dt=1);break}}return dt},tt.prototype.gtn=function(at){return this.cmpn(at)===1},tt.prototype.gt=function(at){return this.cmp(at)===1},tt.prototype.gten=function(at){return this.cmpn(at)>=0},tt.prototype.gte=function(at){return this.cmp(at)>=0},tt.prototype.ltn=function(at){return this.cmpn(at)===-1},tt.prototype.lt=function(at){return this.cmp(at)===-1},tt.prototype.lten=function(at){return this.cmpn(at)<=0},tt.prototype.lte=function(at){return this.cmp(at)<=0},tt.prototype.eqn=function(at){return this.cmpn(at)===0},tt.prototype.eq=function(at){return this.cmp(at)===0},tt.red=function(at){return new Lt(at)},tt.prototype.toRed=function(at){return j(!this.red,"Already a number in reduction context"),j(this.negative===0,"red works only with positives"),at.convertTo(this)._forceRed(at)},tt.prototype.fromRed=function(){return j(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},tt.prototype._forceRed=function(at){return this.red=at,this},tt.prototype.forceRed=function(at){return j(!this.red,"Already a number in reduction context"),this._forceRed(at)},tt.prototype.redAdd=function(at){return j(this.red,"redAdd works only with red numbers"),this.red.add(this,at)},tt.prototype.redIAdd=function(at){return j(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,at)},tt.prototype.redSub=function(at){return j(this.red,"redSub works only with red numbers"),this.red.sub(this,at)},tt.prototype.redISub=function(at){return j(this.red,"redISub works only with red numbers"),this.red.isub(this,at)},tt.prototype.redShl=function(at){return j(this.red,"redShl works only with red numbers"),this.red.shl(this,at)},tt.prototype.redMul=function(at){return j(this.red,"redMul works only with red numbers"),this.red._verify2(this,at),this.red.mul(this,at)},tt.prototype.redIMul=function(at){return j(this.red,"redMul works only with red numbers"),this.red._verify2(this,at),this.red.imul(this,at)},tt.prototype.redSqr=function(){return j(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},tt.prototype.redISqr=function(){return j(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},tt.prototype.redSqrt=function(){return j(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},tt.prototype.redInvm=function(){return j(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},tt.prototype.redNeg=function(){return j(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},tt.prototype.redPow=function(at){return j(this.red&&!at.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,at)};var Ut={k256:null,p224:null,p192:null,p25519:null};function Vt(bt,at){this.name=bt,this.p=new tt(at,16),this.n=this.p.bitLength(),this.k=new tt(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}Vt.prototype._tmp=function(){var at=new tt(null);return at.words=new Array(Math.ceil(this.n/13)),at},Vt.prototype.ireduce=function(at){var dt=at,vt;do this.split(dt,this.tmp),dt=this.imulK(dt),dt=dt.iadd(this.tmp),vt=dt.bitLength();while(vt>this.n);var xt=vt<this.n?-1:dt.ucmp(this.p);return xt===0?(dt.words[0]=0,dt.length=1):xt>0?dt.isub(this.p):dt.strip!==void 0?dt.strip():dt._strip(),dt},Vt.prototype.split=function(at,dt){at.iushrn(this.n,0,dt)},Vt.prototype.imulK=function(at){return at.imul(this.k)};function jt(){Vt.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}et(jt,Vt),jt.prototype.split=function(at,dt){for(var vt=4194303,xt=Math.min(at.length,9),wt=0;wt<xt;wt++)dt.words[wt]=at.words[wt];if(dt.length=xt,at.length<=9){at.words[0]=0,at.length=1;return}var _t=at.words[9];for(dt.words[dt.length++]=_t&vt,wt=10;wt<at.length;wt++){var At=at.words[wt]|0;at.words[wt-10]=(At&vt)<<4|_t>>>22,_t=At}_t>>>=22,at.words[wt-10]=_t,_t===0&&at.length>10?at.length-=10:at.length-=9},jt.prototype.imulK=function(at){at.words[at.length]=0,at.words[at.length+1]=0,at.length+=2;for(var dt=0,vt=0;vt<at.length;vt++){var xt=at.words[vt]|0;dt+=xt*977,at.words[vt]=dt&67108863,dt=xt*64+(dt/67108864|0)}return at.words[at.length-1]===0&&(at.length--,at.words[at.length-1]===0&&at.length--),at};function $t(){Vt.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}et($t,Vt);function Bt(){Vt.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}et(Bt,Vt);function Nt(){Vt.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}et(Nt,Vt),Nt.prototype.imulK=function(at){for(var dt=0,vt=0;vt<at.length;vt++){var xt=(at.words[vt]|0)*19+dt,wt=xt&67108863;xt>>>=26,at.words[vt]=wt,dt=xt}return dt!==0&&(at.words[at.length++]=dt),at},tt._prime=function(at){if(Ut[at])return Ut[at];var dt;if(at==="k256")dt=new jt;else if(at==="p224")dt=new $t;else if(at==="p192")dt=new Bt;else if(at==="p25519")dt=new Nt;else throw new Error("Unknown prime "+at);return Ut[at]=dt,dt};function Lt(bt){if(typeof bt=="string"){var at=tt._prime(bt);this.m=at.p,this.prime=at}else j(bt.gtn(1),"modulus must be greater than 1"),this.m=bt,this.prime=null}Lt.prototype._verify1=function(at){j(at.negative===0,"red works only with positives"),j(at.red,"red works only with red numbers")},Lt.prototype._verify2=function(at,dt){j((at.negative|dt.negative)===0,"red works only with positives"),j(at.red&&at.red===dt.red,"red works only with red numbers")},Lt.prototype.imod=function(at){return this.prime?this.prime.ireduce(at)._forceRed(this):(st(at,at.umod(this.m)._forceRed(this)),at)},Lt.prototype.neg=function(at){return at.isZero()?at.clone():this.m.sub(at)._forceRed(this)},Lt.prototype.add=function(at,dt){this._verify2(at,dt);var vt=at.add(dt);return vt.cmp(this.m)>=0&&vt.isub(this.m),vt._forceRed(this)},Lt.prototype.iadd=function(at,dt){this._verify2(at,dt);var vt=at.iadd(dt);return vt.cmp(this.m)>=0&&vt.isub(this.m),vt},Lt.prototype.sub=function(at,dt){this._verify2(at,dt);var vt=at.sub(dt);return vt.cmpn(0)<0&&vt.iadd(this.m),vt._forceRed(this)},Lt.prototype.isub=function(at,dt){this._verify2(at,dt);var vt=at.isub(dt);return vt.cmpn(0)<0&&vt.iadd(this.m),vt},Lt.prototype.shl=function(at,dt){return this._verify1(at),this.imod(at.ushln(dt))},Lt.prototype.imul=function(at,dt){return this._verify2(at,dt),this.imod(at.imul(dt))},Lt.prototype.mul=function(at,dt){return this._verify2(at,dt),this.imod(at.mul(dt))},Lt.prototype.isqr=function(at){return this.imul(at,at.clone())},Lt.prototype.sqr=function(at){return this.mul(at,at)},Lt.prototype.sqrt=function(at){if(at.isZero())return at.clone();var dt=this.m.andln(3);if(j(dt%2===1),dt===3){var vt=this.m.add(new tt(1)).iushrn(2);return this.pow(at,vt)}for(var xt=this.m.subn(1),wt=0;!xt.isZero()&&xt.andln(1)===0;)wt++,xt.iushrn(1);j(!xt.isZero());var _t=new tt(1).toRed(this),At=_t.redNeg(),Tt=this.m.subn(1).iushrn(1),yt=this.m.bitLength();for(yt=new tt(2*yt*yt).toRed(this);this.pow(yt,Tt).cmp(At)!==0;)yt.redIAdd(At);for(var It=this.pow(yt,xt),rr=this.pow(at,xt.addn(1).iushrn(1)),ir=this.pow(at,xt),nr=wt;ir.cmp(_t)!==0;){for(var Gt=ir,qt=0;Gt.cmp(_t)!==0;qt++)Gt=Gt.redSqr();j(qt<nr);var Jt=this.pow(It,new tt(1).iushln(nr-qt-1));rr=rr.redMul(Jt),It=Jt.redSqr(),ir=ir.redMul(It),nr=qt}return rr},Lt.prototype.invm=function(at){var dt=at._invmp(this.m);return dt.negative!==0?(dt.negative=0,this.imod(dt).redNeg()):this.imod(dt)},Lt.prototype.pow=function(at,dt){if(dt.isZero())return new tt(1).toRed(this);if(dt.cmpn(1)===0)return at.clone();var vt=4,xt=new Array(1<<vt);xt[0]=new tt(1).toRed(this),xt[1]=at;for(var wt=2;wt<xt.length;wt++)xt[wt]=this.mul(xt[wt-1],at);var _t=xt[0],At=0,Tt=0,yt=dt.bitLength()%26;for(yt===0&&(yt=26),wt=dt.length-1;wt>=0;wt--){for(var It=dt.words[wt],rr=yt-1;rr>=0;rr--){var ir=It>>rr&1;if(_t!==xt[0]&&(_t=this.sqr(_t)),ir===0&&At===0){Tt=0;continue}At<<=1,At|=ir,Tt++,!(Tt!==vt&&(wt!==0||rr!==0))&&(_t=this.mul(_t,xt[At]),Tt=0,At=0)}yt=26}return _t},Lt.prototype.convertTo=function(at){var dt=at.umod(this.m);return dt===at?dt.clone():dt},Lt.prototype.convertFrom=function(at){var dt=at.clone();return dt.red=null,dt},tt.mont=function(at){return new Pt(at)};function Pt(bt){Lt.call(this,bt),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new tt(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}et(Pt,Lt),Pt.prototype.convertTo=function(at){return this.imod(at.ushln(this.shift))},Pt.prototype.convertFrom=function(at){var dt=this.imod(at.mul(this.rinv));return dt.red=null,dt},Pt.prototype.imul=function(at,dt){if(at.isZero()||dt.isZero())return at.words[0]=0,at.length=1,at;var vt=at.imul(dt),xt=vt.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),wt=vt.isub(xt).iushrn(this.shift),_t=wt;return wt.cmp(this.m)>=0?_t=wt.isub(this.m):wt.cmpn(0)<0&&(_t=wt.iadd(this.m)),_t._forceRed(this)},Pt.prototype.mul=function(at,dt){if(at.isZero()||dt.isZero())return new tt(0)._forceRed(this);var vt=at.mul(dt),xt=vt.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),wt=vt.isub(xt).iushrn(this.shift),_t=wt;return wt.cmp(this.m)>=0?_t=wt.isub(this.m):wt.cmpn(0)<0&&(_t=wt.iadd(this.m)),_t._forceRed(this)},Pt.prototype.invm=function(at){var dt=this.imod(at._invmp(this.m).mul(this.r2));return dt._forceRed(this)}})(_,commonjsGlobal)})(bn);var bnExports=bn.exports;const BN=getDefaultExportFromCjs$1(bnExports),log$2=log$1$1.getLogger("http-helpers");log$2.setLevel(loglevelExports.levels.INFO);let apiKey="torus-default",embedHost="";const gatewayAuthHeader="x-api-key",gatewayEmbedHostHeader="x-embed-host";function setEmbedHost(_){embedHost=_}function setAPIKey(_){apiKey=_}async function fetchAndTrace(_,a){let $=null;try{$=new URL(_)}catch{}return fetch(_,a)}function getApiKeyHeaders(){const _={};return apiKey&&(_[gatewayAuthHeader]=apiKey),embedHost&&(_[gatewayEmbedHostHeader]=embedHost),_}function debugLogResponse(_){log$2.info(`Response: ${_.status} ${_.statusText}`),log$2.info(`Url: ${_.url}`)}function logTracingHeader(_){log$2.info(`Request tracing with traceID=${_.headers.get("x-web3-correlation-id")}`)}const promiseTimeout=(_,a)=>{const $=new Promise((j,et)=>{const tt=setTimeout(()=>{clearTimeout(tt),et(new Error(`Timed out in ${_}ms`))},_)});return Promise.race([a,$])},get=async function(_){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},$=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const j={mode:"cors",headers:{}};$.useAPIKey&&(j.headers=_objectSpread2(_objectSpread2({},j.headers),getApiKeyHeaders()));const et=deepmerge$1(j,a,{method:"GET"}),tt=await fetchAndTrace(_,et);if(tt.ok){const rt=tt.headers.get("content-type");return rt!=null&&rt.includes("application/json")?tt.json():tt.text()}throw debugLogResponse(tt),tt},post=function(_){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},$=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},j=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const et={mode:"cors",headers:{"Content-Type":"application/json; charset=utf-8"}};j.useAPIKey&&(et.headers=_objectSpread2(_objectSpread2({},et.headers),getApiKeyHeaders()));const tt=deepmerge$1(et,$,{method:"POST"});return j.isUrlEncodedData?(tt.body=a,tt.headers["Content-Type"]==="application/json; charset=utf-8"&&delete tt.headers["Content-Type"]):tt.body=JSON.stringify(a),promiseTimeout(j.timeout||6e4,fetchAndTrace(_,tt).then(rt=>{if(j.logTracingHeader&&logTracingHeader(rt),rt.ok){const nt=rt.headers.get("content-type");return nt!=null&&nt.includes("application/json")?rt.json():rt.text()}throw debugLogResponse(rt),rt}))},generateJsonRPCObject=(_,a)=>({jsonrpc:"2.0",method:_,id:10,params:a}),JRPC_METHODS={GET_OR_SET_KEY:"GetPubKeyOrKeyAssign",COMMITMENT_REQUEST:"CommitmentRequest",IMPORT_SHARE:"ImportShare",GET_SHARE_OR_KEY_ASSIGN:"GetShareOrKeyAssign"},LEGACY_METADATA_HOST="https://metadata.tor.us",normalizeKeysResult=_=>{const a={keys:[],is_new_key:_.is_new_key};return _&&_.keys&&_.keys.length>0&&(a.keys=_.keys.map($=>({pub_key_X:$.pub_key_X,pub_key_Y:$.pub_key_Y,address:$.address}))),a},kCombinations=(_,a)=>{let $=_;if(typeof $=="number"&&($=Array.from({length:$},(tt,rt)=>rt)),a>$.length||a<=0)return[];if(a===$.length)return[$];if(a===1)return $.reduce((tt,rt)=>[...tt,[rt]],[]);const j=[];let et=[];for(let tt=0;tt<=$.length-a+1;tt+=1){et=kCombinations($.slice(tt+1),a-1);for(let rt=0;rt<et.length;rt+=1)j.push([$[tt],...et[rt]])}return j},thresholdSame=(_,a)=>{const $={};for(let j=0;j<_.length;j+=1){const et=stringify(_[j]);if($[et]=$[et]?$[et]+1:1,$[et]===a)return _[j]}};function encParamsBufToHex$1(_){return{iv:Buffer$g.from(_.iv).toString("hex"),ephemPublicKey:Buffer$g.from(_.ephemPublicKey).toString("hex"),ciphertext:Buffer$g.from(_.ciphertext).toString("hex"),mac:Buffer$g.from(_.mac).toString("hex"),mode:"AES256"}}function encParamsHexToBuf$1(_){return{ephemPublicKey:Buffer$g.from(_.ephemPublicKey,"hex"),iv:Buffer$g.from(_.iv,"hex"),mac:Buffer$g.from(_.mac,"hex")}}class GetOrSetNonceError extends Error{}const log$1=log$1$1.getLogger("torus.js");log$1.disableAll();function keccak256$1(_){return`0x${Buffer$g.from(keccak256$3(_)).toString("hex")}`}function stripHexPrefix(_){return _.startsWith("0x")?_.slice(2):_}function toChecksumAddress(_){const a=stripHexPrefix(_).toLowerCase(),$=Buffer$g.from(a,"utf8"),j=Buffer$g.from(keccak256$3($)).toString("hex");let et="0x";for(let tt=0;tt<a.length;tt++)parseInt(j[tt],16)>=8?et+=a[tt].toUpperCase():et+=a[tt];return et}function generateAddressFromPrivKey(_,a){const j=_.keyFromPrivate(a.toString("hex",64),"hex").getPublic().encode("hex",!1).slice(2);log$1.info(j,"public key");const et=`0x${keccak256$1(Buffer$g.from(j,"hex")).slice(26)}`;return toChecksumAddress(et)}function generateAddressFromPubKey(_,a,$){const j=_.keyFromPublic({x:a.toString("hex",64),y:$.toString("hex",64)}),et=j.getPublic().encode("hex",!1).slice(2);log$1.info(j.getPublic().encode("hex",!1),"public key");const tt=`0x${keccak256$1(Buffer$g.from(et,"hex")).slice(26)}`;return toChecksumAddress(tt)}class Share{constructor(a,$){_defineProperty$4(this,"share",void 0),_defineProperty$4(this,"shareIndex",void 0),this.share=new BN($,"hex"),this.shareIndex=new BN(a,"hex")}static fromJSON(a){const{share:$,shareIndex:j}=a;return new Share(j,$)}toJSON(){return{share:this.share.toString("hex"),shareIndex:this.shareIndex.toString("hex")}}}class Polynomial{constructor(a,$){_defineProperty$4(this,"polynomial",void 0),_defineProperty$4(this,"ecCurve",void 0),this.polynomial=a,this.ecCurve=$}getThreshold(){return this.polynomial.length}polyEval(a){const $=new BN(a,"hex");let j=new BN($),et=new BN(0);et=et.add(this.polynomial[0]);for(let tt=1;tt<this.polynomial.length;tt+=1){const rt=j.mul(this.polynomial[tt]);et=et.add(rt),et=et.umod(this.ecCurve.curve.n),j=j.mul(new BN($)),j=j.umod(this.ecCurve.curve.n)}return et}generateShares(a){const $=a.map(et=>typeof et=="number"?new BN(et):et instanceof BN?et:typeof et=="string"?new BN(et,"hex"):et),j={};for(let et=0;et<$.length;et+=1)j[$[et].toString("hex",64)]=new Share($[et],this.polyEval($[et]));return j}}function generatePrivateExcludingIndexes(_){const a=new BN(generatePrivate());return _.find($=>$.eq(a))?generatePrivateExcludingIndexes(_):a}function lagrangeInterpolation(_,a,$){if(a.length!==$.length)throw new Error("shares not equal to nodeIndex length in lagrangeInterpolation");let j=new BN(0);for(let et=0;et<a.length;et+=1){let tt=new BN(1),rt=new BN(1);for(let it=0;it<a.length;it+=1)if(et!==it){tt=tt.mul($[it].neg()),tt=tt.umod(_.curve.n);let ot=$[et].sub($[it]);ot=ot.umod(_.curve.n),rt=rt.mul(ot).umod(_.curve.n)}let nt=tt.mul(rt.invm(_.curve.n)).umod(_.curve.n);nt=nt.mul(a[et]).umod(_.curve.n),j=j.add(nt)}return j.umod(_.curve.n)}function generateRandomPolynomial(_,a,$,j){let et=$;$||(et=generatePrivateExcludingIndexes([new BN(0)]));{const tt=[et];for(let rt=0;rt<a;rt+=1){const nt=generatePrivateExcludingIndexes(tt);tt.push(nt)}return new Polynomial(tt,_)}}async function decryptNodeData(_,a,$){const j=encParamsHexToBuf$1(_);return await decrypt($,_objectSpread2(_objectSpread2({},j),{},{ciphertext:Buffer$g.from(a,"hex")}))}function generateMetadataParams(_,a,$,j){const et=_.keyFromPrivate(j.toString("hex",64)),tt={data:$,timestamp:new BN(~~(a+Date.now()/1e3)).toString(16)},rt=et.sign(keccak256$1(Buffer$g.from(stringify(tt),"utf8")).slice(2));return{pub_key_X:et.getPublic().getX().toString("hex"),pub_key_Y:et.getPublic().getY().toString("hex"),set_data:tt,signature:Buffer$g.from(rt.r.toString(16,64)+rt.s.toString(16,64)+new BN("").toString(16,2),"hex").toString("base64")}}async function getMetadata(_,a){let $=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};try{const j=await post(`${_}/get`,a,$,{useAPIKey:!0});return!j||!j.message?new BN(0):new BN(j.message,16)}catch(j){return log$1$1.error("get metadata error",j),new BN(0)}}async function getOrSetNonce(_,a,$,j,et,tt){let rt=arguments.length>6&&arguments[6]!==void 0?arguments[6]:!1,nt;const it=rt?"getNonce":"getOrSetNonce";return tt?nt=generateMetadataParams(a,$,it,tt):nt={pub_key_X:j,pub_key_Y:et,set_data:{data:it}},post(`${_}/get_or_set_nonce`,nt,void 0,{useAPIKey:!0})}async function getNonce(_,a,$,j,et,tt){return getOrSetNonce(_,a,$,j,et,tt,!0)}const config={logRequestTracing:!1};function capitalizeFirstLetter(_){return _.charAt(0).toUpperCase()+_.slice(1)}class SomeError extends Error{constructor(a){let{errors:$,responses:j,predicate:et}=a;super("Unable to resolve enough promises."),_defineProperty$4(this,"errors",void 0),_defineProperty$4(this,"responses",void 0),_defineProperty$4(this,"predicate",void 0),this.errors=$,this.responses=j,this.predicate=et}get message(){return`${super.message}. ${this.errors.length} errors: ${this.errors.map(a=>a.message||a).join(", ")} and ${this.responses.length} responses: ${JSON.stringify(this.responses)}`}toString(){return this.message}}const Some=(_,a)=>new Promise(($,j)=>{let et=0;const tt={resolved:!1},rt=new Array(_.length).fill(void 0),nt=new Array(_.length).fill(void 0);let it;return _.forEach((ot,st)=>ot.then(ct=>{nt[st]=ct}).catch(ct=>{rt[st]=ct}).finally(()=>{if(!tt.resolved)return a(nt.slice(0),tt).then(ct=>{tt.resolved=!0,$(ct)}).catch(ct=>{it=ct}).finally(()=>{if(et+=1,et===_.length){const ut=Object.values(nt.reduce((ht,Et)=>{if(Et){var St;const{id:Mt,error:kt}=Et;(kt==null||(St=kt.data)===null||St===void 0?void 0:St.length)>0&&(kt.data.startsWith("Error occurred while verifying params")?ht[Mt]=capitalizeFirstLetter(kt.data):ht[Mt]=kt.data)}return ht},{}));if(ut.length>0){const ht=ut.length>1?`
${ut.map(Et=>`• ${Et}`).join(`
`)}`:ut[0];j(new Error(ht))}else{var ct;j(new SomeError({errors:rt,responses:nt,predicate:((ct=it)===null||ct===void 0?void 0:ct.message)||it}))}}})}))}),GetPubKeyOrKeyAssign=async _=>{const{endpoints:a,network:$,verifier:j,verifierId:et,extendedVerifierId:tt}=_,rt=a.map(st=>post(st,generateJsonRPCObject(JRPC_METHODS.GET_OR_SET_KEY,{verifier:j,verifier_id:et.toString(),extended_verifier_id:tt,one_key_flow:!0,fetch_node_index:!0}),null,{logTracingHeader:config.logRequestTracing}).catch(ct=>log$1.error(`${JRPC_METHODS.GET_OR_SET_KEY} request failed`,ct)));let nt;const it=[];return await Some(rt,st=>{const ct=st.filter(Et=>{if(Et&&!Et.error){if(!nt){var St;((St=Et.result)===null||St===void 0||(St=St.keys[0].nonce_data)===null||St===void 0||(St=St.pubNonce)===null||St===void 0?void 0:St.x)&&(nt=Et.result.keys[0].nonce_data)}return Et}return!1}),ut=thresholdSame(ct.map(Et=>Et&&Et.error),~~(a.length/2)+1),ht=thresholdSame(ct.map(Et=>Et&&normalizeKeysResult(Et.result)),~~(a.length/2)+1);return ht&&(nt||tt||LEGACY_NETWORKS_ROUTE_MAP[$])||ut?(ht&&st.forEach(Et=>{if(Et&&Et.result){const St=Et.result.keys[0].pub_key_X.toLowerCase(),Mt=ht.keys[0].pub_key_X.toLowerCase();if(St===Mt){const kt=parseInt(Et.result.node_index);kt&&it.push(kt)}}}),Promise.resolve({keyResult:ht,nodeIndexes:it,errorResult:ut,nonceResult:nt})):Promise.reject(new Error(`invalid public key result: ${JSON.stringify(st)} and nonce result:${JSON.stringify(nt||{})} for verifier: ${j}, verifierId: ${et} and extendedVerifierId: ${tt} `))})};async function retrieveOrImportShare(_){const{legacyMetadataHost:a,serverTimeOffset:$,enableOneKey:j,ecCurve:et,allowHost:tt,network:rt,clientId:nt,endpoints:it,verifier:ot,verifierParams:st,idToken:ct,importedShares:ut,extraParams:ht}=_;await get(tt,{headers:{verifier:ot,verifierId:st.verifier_id,network:rt,clientId:nt}},{useAPIKey:!0});const Et=[],St=generatePrivate(),Mt=getPublic(St).toString("hex"),kt=Mt.slice(2,66),Ct=Mt.slice(66),Ot=keccak256$1(Buffer$g.from(ct,"utf8"));let zt=!1;if(ut&&ut.length>0){if(ut.length!==it.length)throw new Error("Invalid imported shares length");zt=!0}for(let Ut=0;Ut<it.length;Ut+=1){const Vt=post(it[Ut],generateJsonRPCObject(JRPC_METHODS.COMMITMENT_REQUEST,{messageprefix:"mug00",tokencommitment:Ot.slice(2),temppubx:kt,temppuby:Ct,verifieridentifier:ot}),null,{logTracingHeader:config.logRequestTracing}).catch(jt=>{log$1.error("commitment error",jt)});Et.push(Vt)}return Some(Et,Ut=>{const Vt=Ut.filter(jt=>!(!jt||typeof jt!="object"||jt.error));return ut.length>0&&Vt.length===it.length||ut.length===0&&Vt.length>=~~(it.length*3/4)+1&&Vt.find($t=>{var Bt;return!!($t&&((Bt=$t.result)===null||Bt===void 0?void 0:Bt.nodeindex)==="1")})?Promise.resolve(Ut):Promise.reject(new Error(`invalid ${JSON.stringify(Ut)}`))}).then(Ut=>{const Vt=[],jt=[];for(let Bt=0;Bt<Ut.length;Bt+=1){const Nt=Ut[Bt];!Nt||typeof Nt!="object"||Nt.error||Nt&&jt.push(Nt.result)}for(let Bt=0;Bt<it.length;Bt+=1){const Nt=Ut[Bt];if(!(!Nt||typeof Nt!="object")&&!Nt.error)if(zt){const Lt=ut[Bt],Pt=post(it[Bt],generateJsonRPCObject(JRPC_METHODS.IMPORT_SHARE,{encrypted:"yes",use_temp:!0,item:[_objectSpread2(_objectSpread2({},st),{},{idtoken:ct,nodesignatures:jt,verifieridentifier:ot,pub_key_x:Lt.pub_key_x,pub_key_y:Lt.pub_key_y,encrypted_share:Lt.encrypted_share,encrypted_share_metadata:Lt.encrypted_share_metadata,node_index:Lt.node_index,key_type:Lt.key_type,nonce_data:Lt.nonce_data,nonce_signature:Lt.nonce_signature},ht)],one_key_flow:!0}),null,{logTracingHeader:config.logRequestTracing}).catch(bt=>log$1.error("share req",bt));Vt.push(Pt)}else{const Lt=post(it[Bt],generateJsonRPCObject(JRPC_METHODS.GET_SHARE_OR_KEY_ASSIGN,{encrypted:"yes",use_temp:!0,item:[_objectSpread2(_objectSpread2({},st),{},{idtoken:ct,nodesignatures:jt,verifieridentifier:ot},ht)],one_key_flow:!0}),null,{logTracingHeader:config.logRequestTracing}).catch(Pt=>log$1.error("share req",Pt));Vt.push(Lt)}}let $t;return Some(Vt,async(Bt,Nt)=>{const Lt=Bt.filter(xt=>!(!xt||typeof xt!="object"||xt.error)),Pt=Bt.map(xt=>{if(xt&&xt.result&&xt.result.keys[0].public_key){if(!$t&&!st.extended_verifier_id){var wt;((wt=xt.result.keys[0].nonce_data)===null||wt===void 0||(wt=wt.pubNonce)===null||wt===void 0?void 0:wt.x)&&($t=xt.result.keys[0].nonce_data)}return xt.result.keys[0].public_key}}),bt=thresholdSame(Pt,~~(it.length/2)+1);if(!bt)throw new Error("invalid result from nodes, threshold number of public key results are not matching");if(!$t&&!st.extended_verifier_id&&!LEGACY_NETWORKS_ROUTE_MAP[rt])throw new Error(`invalid metadata result from nodes, nonce metadata is empty for verifier: ${ot} and verifierId: ${st.verifier_id}`);const at=ut.length>0?it.length:~~(it.length/2)+1;if(Lt.length>=at&&bt&&($t||st.extended_verifier_id||LEGACY_NETWORKS_ROUTE_MAP[rt])){const xt=[],wt=[],_t=[],At=[],Tt=[],yt=[];for(let xr=0;xr<Lt.length;xr+=1){const pr=Lt[xr],{session_tokens:Ir,session_token_metadata:Cr,session_token_sigs:lr,session_token_sig_metadata:fr,keys:Er,is_new_key:Ar}=pr.result;if(yt.push(Ar),(lr==null?void 0:lr.length)>0){var dt;fr&&(dt=fr[0])!==null&&dt!==void 0&&dt.ephemPublicKey?wt.push(decryptNodeData(fr[0],lr[0],St).catch(kr=>log$1.debug("session sig decryption",kr))):wt.push(Promise.resolve(Buffer$g.from(lr[0],"hex")))}else wt.push(Promise.resolve(void 0));if((Ir==null?void 0:Ir.length)>0){var vt;Cr&&(vt=Cr[0])!==null&&vt!==void 0&&vt.ephemPublicKey?_t.push(decryptNodeData(Cr[0],Ir[0],St).catch(kr=>log$1.debug("session token sig decryption",kr))):_t.push(Promise.resolve(Buffer$g.from(Ir[0],"base64")))}else _t.push(Promise.resolve(void 0));if((Er==null?void 0:Er.length)>0){const kr=pr.result.keys[0];At.push(new BN(kr.node_index)),kr.share_metadata&&xt.push(decryptNodeData(kr.share_metadata,Buffer$g.from(kr.share,"base64").toString("binary").padStart(64,"0"),St).catch(Sr=>log$1.debug("share decryption",Sr)))}else At.push(void 0),xt.push(Promise.resolve(void 0))}const It=await Promise.all(xt.concat(wt).concat(_t)),rr=It.slice(0,xt.length),ir=It.slice(xt.length,xt.length+wt.length),nr=It.slice(xt.length+wt.length,It.length),Gt=ir.filter(xr=>!!xr),qt=~~(it.length/2)+1;if(!st.extended_verifier_id&&Gt.length<qt)throw new Error(`Insufficient number of signatures from nodes, required: ${qt}, found: ${Gt.length}`);const Jt=nr.filter(xr=>!!xr);if(!st.extended_verifier_id&&Jt.length<qt)throw new Error(`Insufficient number of session tokens from nodes, required: ${qt}, found: ${Jt.length}`);if(nr.forEach((xr,pr)=>{xr?Tt.push({token:xr.toString("base64"),signature:ir[pr].toString("hex"),node_pubx:Lt[pr].result.node_pubx,node_puby:Lt[pr].result.node_puby}):Tt.push(void 0)}),Nt.resolved)return;const Ft=rr.reduce((xr,pr,Ir)=>(pr&&xr.push({index:At[Ir],value:new BN(pr)}),xr),[]),Kt=kCombinations(Ft.length,~~(it.length/2)+1);let Qt=null;for(let xr=0;xr<Kt.length;xr+=1){const pr=Kt[xr],Ir=Ft.filter((Sr,$r)=>pr.includes($r)),Cr=Ir.map(Sr=>Sr.value),lr=Ir.map(Sr=>Sr.index),fr=lagrangeInterpolation(et,Cr,lr);if(!fr)continue;const Er=getPublic(Buffer$g.from(fr.toString(16,64),"hex")).toString("hex"),Ar=Er.slice(2,66),kr=Er.slice(66);if(new BN(Ar,16).cmp(new BN(bt.X,16))===0&&new BN(kr,16).cmp(new BN(bt.Y,16))===0){Qt=fr;break}}if(Qt==null)throw new Error("could not derive private key");const dr=thresholdSame(yt,~~(it.length/2)+1);return{privateKey:Qt,sessionTokenData:Tt,thresholdNonceData:$t,nodeIndexes:At,isNewKey:dr==="true"}}throw new Error("Invalid")})}).then(async Ut=>{var Vt;const{privateKey:jt,sessionTokenData:$t,thresholdNonceData:Bt,nodeIndexes:Nt,isNewKey:Lt}=Ut;let Pt=Bt;if(!jt)throw new Error("Invalid private key returned");const bt=jt,at=getPublic(Buffer$g.from(bt.toString(16,64),"hex")).toString("hex"),dt=at.slice(2,66),vt=at.slice(66);let xt=new BN((Vt=Pt)!==null&&Vt!==void 0&&Vt.nonce?Pt.nonce.padStart(64,"0"):"0","hex"),wt,_t,At="v1";if(st.extended_verifier_id)At="v2",wt=et.keyFromPublic({x:dt,y:vt}).getPublic();else if(LEGACY_NETWORKS_ROUTE_MAP[rt])if(j)if(Pt=await getOrSetNonce(a,et,$,dt,vt,bt,!Lt),xt=new BN(Pt.nonce||"0",16),At=Pt.typeOfUser,At==="v2")_t={X:Pt.pubNonce.x,Y:Pt.pubNonce.y},wt=et.keyFromPublic({x:dt,y:vt}).getPublic().add(et.keyFromPublic({x:Pt.pubNonce.x,y:Pt.pubNonce.y}).getPublic());else{At="v1",xt=await getMetadata(a,{pub_key_X:dt,pub_key_Y:vt});const ir=bt.add(xt).umod(et.curve.n);wt=et.keyFromPrivate(ir.toString(16,64),"hex").getPublic()}else{At="v1",xt=await getMetadata(a,{pub_key_X:dt,pub_key_Y:vt});const ir=bt.add(xt).umod(et.curve.n);wt=et.keyFromPrivate(ir.toString(16,64),"hex").getPublic()}else At="v2",wt=et.keyFromPublic({x:dt,y:vt}).getPublic().add(et.keyFromPublic({x:Pt.pubNonce.x,y:Pt.pubNonce.y}).getPublic()),_t={X:Pt.pubNonce.x,Y:Pt.pubNonce.y};if(!wt)throw new Error("Invalid public key, this might be a bug, please report this to web3auth team");const Tt=generateAddressFromPrivKey(et,bt),yt=generateAddressFromPubKey(et,wt.getX(),wt.getY());log$1.debug("> torus.js/retrieveShares",{finalEvmAddress:yt});let It="";(At==="v1"||At==="v2"&&xt.gt(new BN(0)))&&(It=bt.add(xt).umod(et.curve.n).toString("hex",64));let rr=!1;return At==="v1"?rr=null:At==="v2"&&(rr=xt.eq(new BN("0"))),{finalKeyData:{evmAddress:yt,X:wt.getX().toString(16,64),Y:wt.getY().toString(16,64),privKey:It},oAuthKeyData:{evmAddress:Tt,X:dt,Y:vt,privKey:bt.toString("hex",64).padStart(64,"0")},sessionData:{sessionTokenData:$t,sessionAuthKey:St.toString("hex").padStart(64,"0")},metadata:{pubNonce:_t,nonce:xt,typeOfUser:At,upgraded:rr},nodesData:{nodeIndexes:Nt.map(ir=>ir.toNumber())}}})}const legacyKeyLookup=async(_,a,$)=>{const j=_.map(et=>post(et,generateJsonRPCObject("VerifierLookupRequest",{verifier:a,verifier_id:$.toString()})).catch(tt=>log$1.error("lookup request failed",tt)));return Some(j,et=>{const tt=et.filter(it=>it),rt=thresholdSame(tt.map(it=>it&&it.error),~~(_.length/2)+1),nt=thresholdSame(tt.map(it=>it&&it.result),~~(_.length/2)+1);return nt||rt?Promise.resolve({keyResult:nt,errorResult:rt}):Promise.reject(new Error(`invalid results ${JSON.stringify(et)}`))})},legacyKeyAssign=async _=>{let{endpoints:a,torusNodePubs:$,lastPoint:j,firstPoint:et,verifier:tt,verifierId:rt,signerHost:nt,network:it,clientId:ot}=_,st,ct;if(j===void 0?(st=Math.floor(Math.random()*a.length),log$1.info("keyassign",st,a[st]),ct=st):st=j%a.length,st===et)throw new Error("Looped through all");et!==void 0&&(ct=et);const ut=generateJsonRPCObject("KeyAssign",{verifier:tt,verifier_id:rt.toString()});try{const ht=await post(nt,ut,{headers:{pubKeyX:$[st].X,pubKeyY:$[st].Y,network:it,clientId:ot}},{useAPIKey:!0});return await post(a[st],_objectSpread2(_objectSpread2({},ut),ht),{headers:{"Content-Type":"application/json; charset=utf-8"}})}catch(ht){const Et=ht;log$1.error(Et.status,Et.message,Et,"key assign error");const St=["Timed out","Failed to fetch","cancelled","NetworkError when attempting to fetch resource.","TypeError: Failed to fetch","TypeError: cancelled","TypeError: NetworkError when attempting to fetch resource."];if((Et==null?void 0:Et.status)===502||(Et==null?void 0:Et.status)===504||(Et==null?void 0:Et.status)===401||St.includes(Et.message)||St.some(Mt=>{var kt;return(kt=Et.message)===null||kt===void 0?void 0:kt.includes(Mt)})||Et.message&&Et.message.includes("reason: getaddrinfo EAI_AGAIN"))return legacyKeyAssign({endpoints:a,torusNodePubs:$,lastPoint:st+1,firstPoint:ct,verifier:tt,verifierId:rt,signerHost:nt,network:it,clientId:ot});throw new Error(`Sorry, the Torus Network that powers Web3Auth is currently very busy.
    We will generate your key in time. Pls try again later. 

    ${Et.message||""}`)}},legacyWaitKeyLookup=(_,a,$,j)=>new Promise((et,tt)=>{setTimeout(()=>{legacyKeyLookup(_,a,$).then(et).catch(tt)},j)});class Torus{constructor(a){let{enableOneKey:$=!1,clientId:j,network:et,serverTimeOffset:tt=0,allowHost:rt="https://signer.tor.us/api/allow",legacyMetadataHost:nt=LEGACY_METADATA_HOST}=a;if(_defineProperty$4(this,"allowHost",void 0),_defineProperty$4(this,"serverTimeOffset",void 0),_defineProperty$4(this,"network",void 0),_defineProperty$4(this,"clientId",void 0),_defineProperty$4(this,"ec",void 0),_defineProperty$4(this,"enableOneKey",void 0),_defineProperty$4(this,"signerHost",void 0),_defineProperty$4(this,"legacyMetadataHost",void 0),!j)throw Error("Please provide a valid clientId in constructor");if(!et)throw Error("Please provide a valid network in constructor");this.ec=new ellipticExports.ec("secp256k1"),this.serverTimeOffset=tt||0,this.network=et,this.clientId=j,this.allowHost=rt,this.enableOneKey=$,this.legacyMetadataHost=nt,this.signerHost=`${SIGNER_MAP[et]}/api/sign`}get isLegacyNetwork(){const a=LEGACY_NETWORKS_ROUTE_MAP[this.network];return!!(a&&!a.migrationCompleted)}static enableLogging(){(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0)?(log$1.enableAll(),config.logRequestTracing=!0):log$1.disableAll()}static setAPIKey(a){setAPIKey(a)}static setEmbedHost(a){setEmbedHost(a)}static isGetOrSetNonceError(a){return a instanceof GetOrSetNonceError}static getPostboxKey(a){return a.metadata.typeOfUser==="v1"&&a.finalKeyData.privKey||a.oAuthKeyData.privKey}async retrieveShares(a,$,j,et,tt){let rt=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{};return this.isLegacyNetwork?this.legacyRetrieveShares(a,$,j,et,tt,rt):retrieveOrImportShare({legacyMetadataHost:this.legacyMetadataHost,serverTimeOffset:this.serverTimeOffset,enableOneKey:this.enableOneKey,ecCurve:this.ec,allowHost:this.allowHost,network:this.network,clientId:this.clientId,endpoints:a,verifier:j,verifierParams:et,idToken:tt,importedShares:[],extraParams:rt})}async getPublicAddress(a,$,j){let{verifier:et,verifierId:tt,extendedVerifierId:rt}=j;return this.isLegacyNetwork?this.getLegacyPublicAddress(a,$,{verifier:et,verifierId:tt},this.enableOneKey):this.getNewPublicAddress(a,{verifier:et,verifierId:tt,extendedVerifierId:rt},this.enableOneKey)}async importPrivateKey(a,$,j,et,tt,rt,nt){let it=arguments.length>7&&arguments[7]!==void 0?arguments[7]:{};if(this.isLegacyNetwork)throw new Error("This function is not supported on legacy networks");if(a.length!==$.length)throw new Error("length of endpoints array must be same as length of nodeIndexes array");const st=~~(a.length/2)+1-1,ct=[],ut=this.ec.keyFromPrivate(nt.padStart(64,"0"),"hex");for(const $t of $)ct.push(new BN($t));const ht=ut.getPrivate(),Et=new BN(generatePrivate()),St=ht.sub(Et).umod(this.ec.curve.n),Mt=this.ec.keyFromPrivate(St.toString("hex").padStart(64,"0")).getPublic(),Ct=generateRandomPolynomial(this.ec,st,St).generateShares(ct),Ot=this.generateNonceMetadataParams("getOrSetNonce",St,Et),zt=Buffer$g.from(stringify(Ot.set_data),"utf8").toString("base64"),Ut=[],Vt=[];for(let $t=0;$t<ct.length;$t++){const Bt=Ct[ct[$t].toString("hex",64)].toJSON();if(!j[$t])throw new Error(`Missing node pub key for node index: ${ct[$t].toString("hex",64)}`);const Nt=this.ec.keyFromPublic({x:j[$t].X,y:j[$t].Y});Vt.push(encrypt(Buffer$g.from(Nt.getPublic().encodeCompressed("hex"),"hex"),Buffer$g.from(Bt.share,"hex")))}const jt=await Promise.all(Vt);for(let $t=0;$t<ct.length;$t++){const Bt=Ct[ct[$t].toString("hex",64)].toJSON(),Nt=jt[$t],Lt=encParamsBufToHex$1(Nt),Pt={pub_key_x:Mt.getX().toString("hex",64),pub_key_y:Mt.getY().toString("hex",64),encrypted_share:Lt.ciphertext,encrypted_share_metadata:Lt,node_index:Number.parseInt(Bt.shareIndex,16),key_type:"secp256k1",nonce_data:zt,nonce_signature:Ot.signature};Ut.push(Pt)}return retrieveOrImportShare({legacyMetadataHost:this.legacyMetadataHost,serverTimeOffset:this.serverTimeOffset,enableOneKey:this.enableOneKey,ecCurve:this.ec,allowHost:this.allowHost,network:this.network,clientId:this.clientId,endpoints:a,verifier:et,verifierParams:tt,idToken:rt,importedShares:Ut,extraParams:it})}async getUserTypeAndAddress(a,$,j){let{verifier:et,verifierId:tt,extendedVerifierId:rt}=j;return this.isLegacyNetwork?this.getLegacyPublicAddress(a,$,{verifier:et,verifierId:tt},!0):this.getNewPublicAddress(a,{verifier:et,verifierId:tt,extendedVerifierId:rt},!0)}async legacyRetrieveShares(a,$,j,et,tt){let rt=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{};const nt=[];await get(this.allowHost,{headers:{verifier:j,verifierId:et.verifier_id,network:this.network,clientId:this.clientId}},{useAPIKey:!0});const it=generatePrivate(),ot=getPublic(it).toString("hex"),st=ot.slice(2,66),ct=ot.slice(66),ut=keccak256$1(Buffer$g.from(tt,"utf8"));for(let ht=0;ht<a.length;ht+=1){const Et=post(a[ht],generateJsonRPCObject("CommitmentRequest",{messageprefix:"mug00",tokencommitment:ut.slice(2),temppubx:st,temppuby:ct,verifieridentifier:j})).catch(St=>{log$1.error("commitment",St)});nt.push(Et)}return Some(nt,ht=>ht.filter(St=>!(!St||typeof St!="object"||St.error)).length>=~~(a.length/4)*3+1?Promise.resolve(ht):Promise.reject(new Error(`invalid ${JSON.stringify(ht)}`))).then(ht=>{const Et=[],St=[];for(let Mt=0;Mt<ht.length;Mt+=1)ht[Mt]&&St.push(ht[Mt].result);for(let Mt=0;Mt<a.length;Mt+=1){const kt=post(a[Mt],generateJsonRPCObject("ShareRequest",{encrypted:"yes",item:[_objectSpread2(_objectSpread2({},et),{},{idtoken:tt,nodesignatures:St,verifieridentifier:j},rt)]})).catch(Ct=>log$1.error("share req",Ct));Et.push(kt)}return Some(Et,async(Mt,kt)=>{const Ct=Mt.filter(Ut=>Ut),Ot=thresholdSame(Mt.map(Ut=>Ut&&Ut.result&&Ut.result.keys[0].PublicKey),~~(a.length/2)+1);if(Ct.length>=~~(a.length/2)+1&&Ot){const Ut=[],Vt=[];for(let Lt=0;Lt<Mt.length;Lt+=1){var zt;const Pt=Mt[Lt];if((Pt==null||(zt=Pt.result)===null||zt===void 0||(zt=zt.keys)===null||zt===void 0?void 0:zt.length)>0){Pt.result.keys.sort((at,dt)=>new BN(at.Index,16).cmp(new BN(dt.Index,16)));const bt=Pt.result.keys[0];if(bt.Metadata){const at={ephemPublicKey:Buffer$g.from(bt.Metadata.ephemPublicKey,"hex"),iv:Buffer$g.from(bt.Metadata.iv,"hex"),mac:Buffer$g.from(bt.Metadata.mac,"hex")};Ut.push(decrypt(it,_objectSpread2(_objectSpread2({},at),{},{ciphertext:Buffer$g.from(Buffer$g.from(bt.Share,"base64").toString("binary").padStart(64,"0"),"hex")})).catch(dt=>log$1.debug("share decryption",dt)))}else Ut.push(Promise.resolve(Buffer$g.from(bt.Share.padStart(64,"0"),"hex")))}else Ut.push(Promise.resolve(void 0));Vt.push(new BN($[Lt],16))}const jt=await Promise.all(Ut);if(kt.resolved)return;const $t=jt.reduce((Lt,Pt,bt)=>(Pt&&Lt.push({index:Vt[bt],value:new BN(Pt)}),Lt),[]),Bt=kCombinations($t.length,~~(a.length/2)+1);let Nt=null;for(let Lt=0;Lt<Bt.length;Lt+=1){const Pt=Bt[Lt],bt=$t.filter((At,Tt)=>Pt.includes(Tt)),at=bt.map(At=>At.value),dt=bt.map(At=>At.index),vt=lagrangeInterpolation(this.ec,at,dt);if(!vt)continue;const xt=getPublic(Buffer$g.from(vt.toString(16,64),"hex")).toString("hex"),wt=xt.slice(2,66),_t=xt.slice(66);if(new BN(wt,16).cmp(new BN(Ot.X,16))===0&&new BN(_t,16).cmp(new BN(Ot.Y,16))===0){Nt=vt;break}}if(Nt==null)throw new Error("could not derive private key");return Nt}throw new Error("invalid")})}).then(async ht=>{const Et=ht;if(!Et)throw new Error("Invalid private key returned");const St=getPublic(Buffer$g.from(Et.toString(16,64),"hex")).toString("hex"),Mt=St.slice(2,66),kt=St.slice(66);let Ct,Ot,zt="v1",Ut;if(this.enableOneKey){const Nt=await getNonce(this.legacyMetadataHost,this.ec,this.serverTimeOffset,Mt,kt,Et);if(Ct=new BN(Nt.nonce||"0",16),zt=Nt.typeOfUser,zt==="v2")Ot=this.ec.keyFromPublic({x:Mt,y:kt}).getPublic().add(this.ec.keyFromPublic({x:Nt.pubNonce.x,y:Nt.pubNonce.y}).getPublic()),Ut={X:Nt.pubNonce.x,Y:Nt.pubNonce.y};else{Ct=await getMetadata(this.legacyMetadataHost,{pub_key_X:Mt,pub_key_Y:kt});const Lt=Et.add(Ct).umod(this.ec.curve.n);Ot=this.ec.keyFromPrivate(Lt.toString("hex"),"hex").getPublic()}}else{Ct=await getMetadata(this.legacyMetadataHost,{pub_key_X:Mt,pub_key_Y:kt});const Nt=Et.add(Ct).umod(this.ec.curve.n);Ot=this.ec.keyFromPrivate(Nt.toString("hex"),"hex").getPublic()}const Vt=generateAddressFromPrivKey(this.ec,Et);let jt="";(zt==="v1"||zt==="v2"&&Ct.gt(new BN(0)))&&(jt=Et.add(Ct).umod(this.ec.curve.n).toString("hex",64).padStart(64,"0"));let $t=!1;zt==="v1"?$t=null:zt==="v2"&&($t=Ct.eq(new BN("0")));let Bt="";if(Ot)Bt=generateAddressFromPubKey(this.ec,Ot.getX(),Ot.getY()),log$1.debug("> torus.js/retrieveShares",{finalEvmAddress:Bt});else throw new Error("Invalid public key, this might be a bug, please report this to web3auth team");return{finalKeyData:{evmAddress:Bt,X:Ot?Ot.getX().toString(16,64):"",Y:Ot?Ot.getY().toString(16,64):"",privKey:jt},oAuthKeyData:{evmAddress:Vt,X:Mt,Y:kt,privKey:Et.toString("hex",64).padStart(64,"0")},sessionData:{sessionTokenData:[],sessionAuthKey:""},metadata:{pubNonce:Ut,nonce:Ct,typeOfUser:zt,upgraded:$t},nodesData:{nodeIndexes:[]}}})}async getLegacyPublicAddress(a,$,j,et){let{verifier:tt,verifierId:rt}=j;log$1.debug("> torus.js/getPublicAddress",{endpoints:a,torusNodePubs:$,verifier:tt,verifierId:rt});let nt,it=!1;const{keyResult:ot,errorResult:st}=await legacyKeyLookup(a,tt,rt)||{};if(st&&JSON.stringify(st).includes("Verifier not supported"))throw new Error(`Verifier not supported. Check if you: 

      1. Are on the right network (Torus testnet/mainnet) 

      2. Have setup a verifier on dashboard.web3auth.io?`);if(st&&JSON.stringify(st).includes("Verifier + VerifierID has not yet been assigned")){await legacyKeyAssign({endpoints:a,torusNodePubs:$,lastPoint:void 0,firstPoint:void 0,verifier:tt,verifierId:rt,signerHost:this.signerHost,network:this.network,clientId:this.clientId});const ct=await legacyWaitKeyLookup(a,tt,rt,1e3);nt=ct==null?void 0:ct.keyResult,it=!0}else if(ot)nt=ot;else throw new Error(`node results do not match at first lookup ${JSON.stringify(ot||{})}, ${JSON.stringify(st||{})}`);if(log$1.debug("> torus.js/getPublicAddress",{finalKeyResult:nt,isNewKey:it}),nt)return this.formatLegacyPublicKeyData({finalKeyResult:nt,isNewKey:it,enableOneKey:et});throw new Error(`node results do not match at final lookup ${JSON.stringify(ot||{})}, ${JSON.stringify(st||{})}`)}generateNonceMetadataParams(a,$,j){const et=this.ec.keyFromPrivate($.toString("hex",64)),tt={operation:a,timestamp:new BN(~~(this.serverTimeOffset+Date.now()/1e3)).toString(16)};j&&(tt.data=j.toString("hex",64));const rt=et.sign(keccak256$1(Buffer$g.from(stringify(tt),"utf8")).slice(2));return{pub_key_X:et.getPublic().getX().toString("hex",64),pub_key_Y:et.getPublic().getY().toString("hex",64),set_data:tt,signature:Buffer$g.from(rt.r.toString(16,64)+rt.s.toString(16,64)+new BN("").toString(16,2),"hex").toString("base64")}}async getNewPublicAddress(a,$,j){let{verifier:et,verifierId:tt,extendedVerifierId:rt}=$;log$1.debug("> torus.js/getPublicAddress",{endpoints:a,verifier:et,verifierId:tt});const nt=await GetPubKeyOrKeyAssign({endpoints:a,network:this.network,verifier:et,verifierId:tt,extendedVerifierId:rt}),{errorResult:it,keyResult:ot,nodeIndexes:st=[]}=nt,{nonceResult:ct}=nt;if(it&&JSON.stringify(it).toLowerCase().includes("verifier not supported"))throw new Error(`Verifier not supported. Check if you: 

      1. Are on the right network (Torus testnet/mainnet) 

      2. Have setup a verifier on dashboard.web3auth.io?`);if(it)throw new Error(`node results do not match at first lookup ${JSON.stringify(ot||{})}, ${JSON.stringify(it||{})}`);if(log$1.debug("> torus.js/getPublicAddress",{keyResult:ot}),!(ot!=null&&ot.keys))throw new Error(`node results do not match at final lookup ${JSON.stringify(ot||{})}, ${JSON.stringify(it||{})}`);if(!ct&&!rt&&!LEGACY_NETWORKS_ROUTE_MAP[this.network])throw new GetOrSetNonceError("metadata nonce is missing in share response");const{pub_key_X:ut,pub_key_Y:ht}=ot.keys[0];let Et;const St=new BN((ct==null?void 0:ct.nonce)||"0",16);let Mt,kt;if(rt)kt=this.ec.keyFromPublic({x:ut,y:ht}).getPublic(),Mt=kt;else{if(LEGACY_NETWORKS_ROUTE_MAP[this.network])return this.formatLegacyPublicKeyData({isNewKey:ot.is_new_key,enableOneKey:j,finalKeyResult:{keys:ot.keys}});{const $t=ct;Mt=this.ec.keyFromPublic({x:ut,y:ht}).getPublic(),kt=this.ec.keyFromPublic({x:ut,y:ht}).getPublic().add(this.ec.keyFromPublic({x:$t.pubNonce.x,y:$t.pubNonce.y}).getPublic()),Et={X:$t.pubNonce.x,Y:$t.pubNonce.y}}}if(!Mt)throw new Error("Unable to derive oAuthPubKey");const Ct=Mt.getX().toString(16,64),Ot=Mt.getY().toString(16,64),zt=generateAddressFromPubKey(this.ec,Mt.getX(),Mt.getY());if(log$1.debug("> torus.js/getPublicAddress, oAuthKeyData",{X:Ct,Y:Ot,oAuthAddress:zt,nonce:St==null?void 0:St.toString(16),pubNonce:Et}),!kt)throw new Error("Unable to derive finalPubKey");const Ut=kt?kt.getX().toString(16,64):"",Vt=kt?kt.getY().toString(16,64):"",jt=kt?generateAddressFromPubKey(this.ec,kt.getX(),kt.getY()):"";return{oAuthKeyData:{evmAddress:zt,X:Ct,Y:Ot},finalKeyData:{evmAddress:jt,X:Ut,Y:Vt},metadata:{pubNonce:Et,nonce:St,upgraded:(ct==null?void 0:ct.upgraded)||!1,typeOfUser:"v2"},nodesData:{nodeIndexes:st}}}async formatLegacyPublicKeyData(a){var $,j;const{finalKeyResult:et,enableOneKey:tt,isNewKey:rt}=a,{pub_key_X:nt,pub_key_Y:it}=et.keys[0];let ot,st,ct,ut,ht;const Et=this.ec.keyFromPublic({x:nt,y:it}).getPublic();if(tt){try{ot=await getOrSetNonce(this.legacyMetadataHost,this.ec,this.serverTimeOffset,nt,it,void 0,!rt),st=new BN(ot.nonce||"0",16),ut=ot.typeOfUser}catch{throw new GetOrSetNonceError}if(ot.typeOfUser==="v1")st=await getMetadata(this.legacyMetadataHost,{pub_key_X:nt,pub_key_Y:it}),ct=this.ec.keyFromPublic({x:nt,y:it}).getPublic().add(this.ec.keyFromPrivate(st.toString(16,64),"hex").getPublic());else if(ot.typeOfUser==="v2")ct=this.ec.keyFromPublic({x:nt,y:it}).getPublic().add(this.ec.keyFromPublic({x:ot.pubNonce.x,y:ot.pubNonce.y}).getPublic()),ht={X:ot.pubNonce.x,Y:ot.pubNonce.y};else throw new Error("getOrSetNonce should always return typeOfUser.")}else ut="v1",st=await getMetadata(this.legacyMetadataHost,{pub_key_X:nt,pub_key_Y:it}),ct=this.ec.keyFromPublic({x:nt,y:it}).getPublic().add(this.ec.keyFromPrivate(st.toString(16,64),"hex").getPublic());if(!Et)throw new Error("Unable to derive oAuthPubKey");const St=Et.getX().toString(16,64),Mt=Et.getY().toString(16,64),kt=generateAddressFromPubKey(this.ec,Et.getX(),Et.getY());if(log$1.debug("> torus.js/getPublicAddress, oAuthKeyData",{X:St,Y:Mt,oAuthAddress:kt,nonce:($=st)===null||$===void 0?void 0:$.toString(16),pubNonce:ht}),ut==="v2"&&!ct)throw new Error("Unable to derive finalPubKey");const Ct=ct?ct.getX().toString(16,64):"",Ot=ct?ct.getY().toString(16,64):"",zt=ct?generateAddressFromPubKey(this.ec,ct.getX(),ct.getY()):"";return{oAuthKeyData:{evmAddress:kt,X:St,Y:Mt},finalKeyData:{evmAddress:zt,X:Ct,Y:Ot},metadata:{pubNonce:ht,nonce:st,upgraded:((j=ot)===null||j===void 0?void 0:j.upgraded)||!1,typeOfUser:ut},nodesData:{nodeIndexes:[]}}}}var isLocalhost=function(){return!!(window.location.hostname==="localhost"||window.location.hostname==="[::1]"||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/))},waitWindowLoad;typeof window<"u"&&(typeof document<"u"&&(document.readyState==="interactive"||document.readyState==="complete")?waitWindowLoad=Promise.resolve():typeof Promise<"u"?waitWindowLoad=new Promise(function(_){return window.addEventListener("load",_)}):waitWindowLoad={then:function(_){return window.addEventListener("load",_)}});var register=function _(a,$){$===void 0&&($={});var j=$.registrationOptions;j===void 0&&(j={}),delete $.registrationOptions;var et=function(tt){for(var rt=[],nt=arguments.length-1;nt-- >0;)rt[nt]=arguments[nt+1];$&&$[tt]&&$[tt].apply($,rt)};"serviceWorker"in navigator&&waitWindowLoad.then(function(){isLocalhost()?(checkValidServiceWorker(a,et,j),navigator.serviceWorker.ready.then(function(tt){et("ready",tt)}).catch(function(tt){return handleError(et,tt)})):(registerValidSW(a,et,j),navigator.serviceWorker.ready.then(function(tt){et("ready",tt)}).catch(function(tt){return handleError(et,tt)}))})};function handleError(_,a){navigator.onLine||_("offline"),_("error",a)}function registerValidSW(_,a,$){navigator.serviceWorker.register(_,$).then(function(j){if(a("registered",j),j.waiting){a("updated",j);return}j.onupdatefound=function(){a("updatefound",j);var et=j.installing;et.onstatechange=function(){et.state==="installed"&&(navigator.serviceWorker.controller?a("updated",j):a("cached",j))}}}).catch(function(j){return handleError(a,j)})}function checkValidServiceWorker(_,a,$){fetch(_).then(function(j){j.status===404?(a("error",new Error("Service worker not found at "+_)),unregister()):j.headers.get("content-type").indexOf("javascript")===-1?(a("error",new Error("Expected "+_+" to have javascript content-type, but received "+j.headers.get("content-type"))),unregister()):registerValidSW(_,a,$)}).catch(function(j){return handleError(a,j)})}function keccak256(_){return Buffer$g.from(keccak256$3(_))}const ec=new ellipticExports.ec("secp256k1");function encParamsHexToBuf(_){return{iv:Buffer$g.from(_.iv,"hex"),ephemPublicKey:Buffer$g.from(_.ephemPublicKey,"hex"),ciphertext:Buffer$g.from(_.ciphertext,"hex"),mac:Buffer$g.from(_.mac,"hex")}}function encParamsBufToHex(_){return{iv:Buffer$g.from(_.iv).toString("hex"),ephemPublicKey:Buffer$g.from(_.ephemPublicKey).toString("hex"),ciphertext:Buffer$g.from(_.ciphertext).toString("hex"),mac:Buffer$g.from(_.mac).toString("hex")}}async function encryptData(_,a){const $=JSON.stringify(a),j=Buffer$g.from($,"utf-8"),et=await encrypt(getPublic(Buffer$g.from(_,"hex")),j),tt=encParamsBufToHex(et);return JSON.stringify(tt)}async function decryptData(_,a){const $=JSON.parse(a),j=encParamsHexToBuf($),et=ec.keyFromPrivate(_),rt=(await decrypt(Buffer$g.from(et.getPrivate().toString("hex",64),"hex"),j)).toString("utf-8");return JSON.parse(rt)}const LOGIN={GOOGLE:"google",FACEBOOK:"facebook",REDDIT:"reddit",DISCORD:"discord",TWITCH:"twitch",APPLE:"apple",GITHUB:"github",LINKEDIN:"linkedin",TWITTER:"twitter",WEIBO:"weibo",LINE:"line",EMAIL_PASSWORD:"email_password",PASSWORDLESS:"passwordless",JWT:"jwt",WEBAUTHN:"webauthn"},AGGREGATE_VERIFIER={SINGLE_VERIFIER_ID:"single_id_verifier"},UX_MODE={POPUP:"popup",REDIRECT:"redirect"},REDIRECT_PARAMS_STORAGE_METHOD={LOCAL_STORAGE:"localStorage",SESSION_STORAGE:"sessionStorage",SERVER:"server"},TORUS_METHOD={TRIGGER_LOGIN:"triggerLogin",TRIGGER_AGGREGATE_LOGIN:"triggerAggregateLogin",TRIGGER_AGGREGATE_HYBRID_LOGIN:"triggerHybridAggregateLogin"},SENTRY_TXNS={FETCH_NODE_DETAILS:"fetchNodeDetails",PUB_ADDRESS_LOOKUP:"pubAddressLookup",FETCH_SHARES:"fetchShares"};var log=log$1$1.getLogger("customauth");const loginToConnectionMap={[LOGIN.APPLE]:"apple",[LOGIN.GITHUB]:"github",[LOGIN.LINKEDIN]:"linkedin",[LOGIN.TWITTER]:"twitter",[LOGIN.WEIBO]:"weibo",[LOGIN.LINE]:"line",[LOGIN.EMAIL_PASSWORD]:"Username-Password-Authentication",[LOGIN.PASSWORDLESS]:"email"},padUrlString=_=>_.href.endsWith("/")?_.href:`${_.href}/`,randomId=()=>Math.random().toString(36).slice(2),broadcastChannelOptions={webWorkerSupport:!1};function caseSensitiveField(_,a){return a?_:_.toLowerCase()}const getVerifierId=function(_,a,$){let j=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;const{name:et,sub:tt}=_;if($)return caseSensitiveField(_[$],j);switch(a){case LOGIN.PASSWORDLESS:case LOGIN.EMAIL_PASSWORD:return caseSensitiveField(et,j);case LOGIN.WEIBO:case LOGIN.GITHUB:case LOGIN.TWITTER:case LOGIN.APPLE:case LOGIN.LINKEDIN:case LOGIN.LINE:case LOGIN.JWT:return caseSensitiveField(tt,j);default:throw new Error("Invalid login type")}},handleRedirectParameters=(_,a)=>{const $=_.split("&").reduce((tt,rt)=>{const[nt,it]=rt.split("=");return tt[nt]=it,tt},{});log.info($,a);let j={},et="";return Object.keys($).length>0&&$.state?(j=JSON.parse(base64url.decode(decodeURIComponent(decodeURIComponent($.state))))||{},et=$.error_description||$.error||et):Object.keys(a).length>0&&a.state&&(j=JSON.parse(base64url.decode(decodeURIComponent(decodeURIComponent(a.state))))||{},a.error&&(et=a.error)),{error:et,instanceParameters:j,hashParameters:$}};function storageAvailable(_){let a;try{a=window[_];const $="__storage_test__";return a.setItem($,$),a.removeItem($),!0}catch($){const j=$;return j&&(j.code===22||j.code===1014||j.name==="QuotaExceededError"||j.name==="NS_ERROR_DOM_QUOTA_REACHED")&&a&&a.length!==0}}function getPopupFeatures(){const _=window.screenLeft!==void 0?window.screenLeft:window.screenX,a=window.screenTop!==void 0?window.screenTop:window.screenY,$=1200,j=700,et=window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:window.screen.width,tt=window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:window.screen.height,rt=1,nt=Math.abs((et-$)/2/rt+_),it=Math.abs((tt-j)/2/rt+a);return`titlebar=0,toolbar=0,status=0,location=0,menubar=0,height=${j/rt},width=${$/rt},top=${it},left=${nt}`}const isFirefox=()=>{var _;return((_=window)===null||_===void 0||(_=_.navigator)===null||_===void 0?void 0:_.userAgent.toLowerCase().indexOf("firefox"))>-1||!1};function constructURL(_){const{baseURL:a,query:$,hash:j}=_,et=new URL(a);if($&&Object.keys($).forEach(tt=>{et.searchParams.append(tt,$[tt])}),j){const tt=new URL(constructURL({baseURL:a,query:j})).searchParams.toString();et.hash=tt}return et.toString()}function are3PCSupported(){var _;const a=Bowser.parse(navigator.userAgent);log.info(JSON.stringify(a),"current browser info");let $=!0;return(_=navigator)!==null&&_!==void 0&&_.brave&&($=!1),(a.engine.name===Bowser.ENGINE_MAP.WebKit||a.engine.name===Bowser.ENGINE_MAP.Gecko)&&($=!1),$}const validateAndConstructUrl=_=>{try{return new URL(decodeURIComponent(_))}catch(a){throw new Error(`${(a==null?void 0:a.message)||""}, Note: Your jwt domain: (i.e ${_}) must have http:// or https:// prefix`)}};function isMobileOrTablet(){const a=Bowser.getParser(navigator.userAgent).getPlatform();return a.type===Bowser.PLATFORMS_MAP.tablet||a.type===Bowser.PLATFORMS_MAP.mobile}function getTimeout(_){return(_===LOGIN.FACEBOOK||_===LOGIN.LINE)&&isMobileOrTablet()?1e3*60:1e3*10}class PopupHandler extends eventsExports.EventEmitter{constructor(a){let{url:$,target:j,features:et,timeout:tt=3e4}=a;super(),_defineProperty$4(this,"url",void 0),_defineProperty$4(this,"target",void 0),_defineProperty$4(this,"features",void 0),_defineProperty$4(this,"window",void 0),_defineProperty$4(this,"windowTimer",void 0),_defineProperty$4(this,"iClosedWindow",void 0),_defineProperty$4(this,"timeout",void 0),this.url=$,this.target=j||"_blank",this.features=et||getPopupFeatures(),this.window=void 0,this.windowTimer=void 0,this.iClosedWindow=!1,this.timeout=tt,this._setupTimer()}_setupTimer(){this.windowTimer=Number(setInterval(()=>{this.window&&this.window.closed&&(clearInterval(this.windowTimer),setTimeout(()=>{this.iClosedWindow||this.emit("close"),this.iClosedWindow=!1,this.window=void 0},this.timeout)),this.window===void 0&&clearInterval(this.windowTimer)},500))}open(){var a;return this.window=window.open(this.url.href,this.target,this.features),(a=this.window)!==null&&a!==void 0&&a.focus&&this.window.focus(),Promise.resolve()}close(){this.iClosedWindow=!0,this.window&&this.window.close()}redirect(a){a?window.location.replace(this.url.href):window.location.href=this.url.href}}const _excluded$2=["access_token","id_token"];class AbstractLoginHandler{constructor(a,$,j,et,tt,rt,nt,it){this.clientId=a,this.verifier=$,this.redirect_uri=j,this.typeOfLogin=et,this.uxMode=tt,this.redirectToOpener=rt,this.jwtParams=nt,this.customState=it,_defineProperty$4(this,"nonce",randomId()),_defineProperty$4(this,"finalURL",void 0)}get state(){return encodeURIComponent(base64url.encode(JSON.stringify(_objectSpread2(_objectSpread2({},this.customState||{}),{},{instanceId:this.nonce,verifier:this.verifier,typeOfLogin:this.typeOfLogin,redirectToOpener:this.redirectToOpener||!1}))))}handleLoginWindow(a){const $=new PopupHandler({url:this.finalURL,features:a.popupFeatures,timeout:getTimeout(this.typeOfLogin)});if(this.uxMode===UX_MODE.REDIRECT)$.redirect(a.locationReplaceOnRedirect);else return new Promise((j,et)=>{let tt;const rt=async nt=>{try{const{error:it,data:ot}=nt,st=ot||{},{instanceParams:ct,hashParams:{access_token:ut,id_token:ht}}=st,Et=_objectWithoutProperties(st.hashParams,_excluded$2);if(it){log.error(nt),et(new Error(`Error: ${it}. Info: ${JSON.stringify(nt.data||{})}`));return}nt.data&&ct.verifier===this.verifier&&(log.info(nt.data),!this.redirectToOpener&&tt&&await tt.postMessage({success:!0}),j(_objectSpread2(_objectSpread2({accessToken:ut,idToken:ht||""},Et),{},{state:ct})))}catch(it){log.error(it),et(it)}};if(!this.redirectToOpener)tt=new BroadcastChannel$1(`redirect_channel_${this.nonce}`,broadcastChannelOptions),tt.addEventListener("message",async nt=>{await rt(nt),tt.close(),$.close()});else{const nt=async it=>{if(!it.data)return;const ot=it.data;ot.channel===`redirect_channel_${this.nonce}`&&(window.removeEventListener("message",nt),rt(ot),$.close())};window.addEventListener("message",nt)}$.open(),$.once("close",()=>{tt&&tt.close(),et(new Error("user closed popup"))})});return null}}class DiscordHandler extends AbstractLoginHandler{constructor(a,$,j,et,tt,rt,nt,it){super(a,$,j,et,tt,rt,nt,it),this.clientId=a,this.verifier=$,this.redirect_uri=j,this.typeOfLogin=et,this.uxMode=tt,this.redirectToOpener=rt,this.jwtParams=nt,this.customState=it,_defineProperty$4(this,"RESPONSE_TYPE","token"),_defineProperty$4(this,"SCOPE","identify email"),this.setFinalUrl()}setFinalUrl(){const a=new URL("https://discord.com/api/oauth2/authorize"),$=JSON.parse(JSON.stringify(this.jwtParams||{})),j=deepmerge$1({state:this.state,response_type:this.RESPONSE_TYPE,client_id:this.clientId,redirect_uri:this.redirect_uri,scope:this.SCOPE},$);Object.keys(j).forEach(et=>{j[et]&&a.searchParams.append(et,j[et])}),this.finalURL=a}async getUserInfo(a){const{accessToken:$}=a,j=await get$2("https://discord.com/api/users/@me",{headers:{Authorization:`Bearer ${$}`}}),{id:et,avatar:tt,email:rt="",username:nt="",discriminator:it=""}=j;return{profileImage:tt===null?`https://cdn.discordapp.com/embed/avatars/${Number(it)%5}.png`:`https://cdn.discordapp.com/avatars/${et}/${tt}.png?size=2048`,name:`${nt}#${it}`,email:rt,verifierId:et,verifier:this.verifier,typeOfLogin:this.typeOfLogin}}}class FacebookHandler extends AbstractLoginHandler{constructor(a,$,j,et,tt,rt,nt,it){super(a,$,j,et,tt,rt,nt,it),this.clientId=a,this.verifier=$,this.redirect_uri=j,this.typeOfLogin=et,this.uxMode=tt,this.redirectToOpener=rt,this.jwtParams=nt,this.customState=it,_defineProperty$4(this,"RESPONSE_TYPE","token"),_defineProperty$4(this,"SCOPE","public_profile email"),this.setFinalUrl()}setFinalUrl(){const a=new URL("https://www.facebook.com/v15.0/dialog/oauth"),$=JSON.parse(JSON.stringify(this.jwtParams||{})),j=deepmerge$1({state:this.state,response_type:this.RESPONSE_TYPE,client_id:this.clientId,redirect_uri:this.redirect_uri,scope:this.SCOPE},$);Object.keys(j).forEach(et=>{j[et]&&a.searchParams.append(et,j[et])}),this.finalURL=a}async getUserInfo(a){const{accessToken:$}=a,j=await get$2("https://graph.facebook.com/me?fields=name,email,picture.type(large)",{headers:{Authorization:`Bearer ${$}`}}),{name:et="",id:tt,picture:rt,email:nt=""}=j;return{email:nt,name:et,profileImage:rt.data.url||"",verifier:this.verifier,verifierId:tt,typeOfLogin:this.typeOfLogin}}}class GoogleHandler extends AbstractLoginHandler{constructor(a,$,j,et,tt,rt,nt,it){super(a,$,j,et,tt,rt,nt,it),this.clientId=a,this.verifier=$,this.redirect_uri=j,this.typeOfLogin=et,this.uxMode=tt,this.redirectToOpener=rt,this.jwtParams=nt,this.customState=it,_defineProperty$4(this,"RESPONSE_TYPE","token id_token"),_defineProperty$4(this,"SCOPE","profile email openid"),_defineProperty$4(this,"PROMPT","consent select_account"),this.setFinalUrl()}setFinalUrl(){const a=new URL("https://accounts.google.com/o/oauth2/v2/auth"),$=JSON.parse(JSON.stringify(this.jwtParams||{})),j=deepmerge$1({state:this.state,response_type:this.RESPONSE_TYPE,client_id:this.clientId,prompt:this.PROMPT,redirect_uri:this.redirect_uri,scope:this.SCOPE,nonce:this.nonce},$);Object.keys(j).forEach(et=>{j[et]&&a.searchParams.append(et,j[et])}),this.finalURL=a}async getUserInfo(a){const{accessToken:$}=a,j=await get$2("https://www.googleapis.com/userinfo/v2/me",{headers:{Authorization:`Bearer ${$}`}}),{picture:et="",email:tt="",name:rt=""}=j;return{email:tt,name:rt,profileImage:et,verifier:this.verifier,verifierId:tt.toLowerCase(),typeOfLogin:this.typeOfLogin}}}let JwtHandler$1=class extends AbstractLoginHandler{constructor(a,$,j,et,tt,rt,nt,it){super(a,$,j,et,tt,rt,nt,it),this.clientId=a,this.verifier=$,this.redirect_uri=j,this.typeOfLogin=et,this.uxMode=tt,this.redirectToOpener=rt,this.jwtParams=nt,this.customState=it,_defineProperty$4(this,"SCOPE","openid profile email"),_defineProperty$4(this,"RESPONSE_TYPE","token id_token"),_defineProperty$4(this,"PROMPT","login"),this.setFinalUrl()}setFinalUrl(){const{domain:a}=this.jwtParams,$=validateAndConstructUrl(a);$.pathname+=$.pathname.endsWith("/")?"authorize":"/authorize";const j=JSON.parse(JSON.stringify(this.jwtParams));delete j.domain;const et=deepmerge$1({state:this.state,response_type:this.RESPONSE_TYPE,client_id:this.clientId,prompt:this.PROMPT,redirect_uri:this.redirect_uri,scope:this.SCOPE,connection:loginToConnectionMap[this.typeOfLogin],nonce:this.nonce},j);Object.keys(et).forEach(tt=>{et[tt]&&$.searchParams.append(tt,et[tt])}),this.finalURL=$}async getUserInfo(a){const{idToken:$,accessToken:j}=a,{domain:et,verifierIdField:tt,isVerifierIdCaseSensitive:rt,user_info_route:nt="userinfo"}=this.jwtParams;if(j)try{const it=new URL(et),ot=await get$2(`${padUrlString(it)}${nt}`,{headers:{Authorization:`Bearer ${j}`}}),{picture:st,name:ct,email:ut}=ot;return{email:ut,name:ct,profileImage:st,verifierId:getVerifierId(ot,this.typeOfLogin,tt,rt),verifier:this.verifier,typeOfLogin:this.typeOfLogin}}catch(it){log$1$1.warn(it,"Unable to get userinfo from endpoint")}if($){const it=o($),{name:ot,email:st,picture:ct}=it;return{profileImage:ct,name:ot,email:st,verifierId:getVerifierId(it,this.typeOfLogin,tt,rt),verifier:this.verifier,typeOfLogin:this.typeOfLogin}}throw new Error("Access/id token not available")}};class MockLoginHandler extends AbstractLoginHandler{constructor(a,$,j,et,tt,rt,nt,it){super(a,$,j,et,tt,rt,nt,it),this.clientId=a,this.verifier=$,this.redirect_uri=j,this.typeOfLogin=et,this.uxMode=tt,this.redirectToOpener=rt,this.jwtParams=nt,this.customState=it,this.setFinalUrl()}setFinalUrl(){const a=JSON.parse(JSON.stringify(this.jwtParams));delete a.domain;const $=deepmerge$1({state:this.state,client_id:this.clientId,nonce:this.nonce},a);this.finalURL=new URL(constructURL({baseURL:this.redirect_uri,query:null,hash:$}))}async getUserInfo(a){const{idToken:$,accessToken:j}=a,{domain:et,verifierIdField:tt,isVerifierIdCaseSensitive:rt,user_info_route:nt="userinfo"}=this.jwtParams;if(j)try{const it=new URL(et),ot=await get$2(`${padUrlString(it)}${nt}`,{headers:{Authorization:`Bearer ${j}`}}),{picture:st,name:ct,email:ut}=ot;return{email:ut,name:ct,profileImage:st,verifierId:getVerifierId(ot,this.typeOfLogin,tt,rt),verifier:this.verifier,typeOfLogin:this.typeOfLogin}}catch(it){log$1$1.warn(it,"Unable to get userinfo from endpoint")}if($){const it=o($),{name:ot,email:st,picture:ct}=it;return{profileImage:ct,name:ot,email:st,verifierId:getVerifierId(it,this.typeOfLogin,tt,rt),verifier:this.verifier,typeOfLogin:this.typeOfLogin}}throw new Error("Access/id token not available")}handleLoginWindow(a){const{id_token:$,access_token:j}=this.jwtParams,et=new PopupHandler({url:this.finalURL,features:a.popupFeatures});if(this.uxMode===UX_MODE.REDIRECT)et.redirect(a.locationReplaceOnRedirect);else return Promise.resolve({state:{},idToken:$,accessToken:j});return null}}const _excluded$1=["access_token","id_token"];class JwtHandler extends AbstractLoginHandler{constructor(a,$,j,et,tt,rt,nt,it){super(a,$,j,et,tt,rt,nt,it),this.clientId=a,this.verifier=$,this.redirect_uri=j,this.typeOfLogin=et,this.uxMode=tt,this.redirectToOpener=rt,this.jwtParams=nt,this.customState=it,_defineProperty$4(this,"SCOPE","openid profile email"),_defineProperty$4(this,"RESPONSE_TYPE","token id_token"),_defineProperty$4(this,"PROMPT","login"),this.setFinalUrl()}setFinalUrl(){const{domain:a}=this.jwtParams,$=validateAndConstructUrl(a);$.pathname="/passwordless/start",this.finalURL=$}async getUserInfo(a){const{idToken:$,accessToken:j}=a,{domain:et,verifierIdField:tt,isVerifierIdCaseSensitive:rt}=this.jwtParams;try{const nt=new URL(et),it=await get$2(`${padUrlString(nt)}userinfo`,{headers:{Authorization:`Bearer ${j}`}}),{picture:ot,name:st,email:ct}=it;return{email:ct,name:st,profileImage:ot,verifierId:getVerifierId(it,this.typeOfLogin,tt,rt),verifier:this.verifier,typeOfLogin:this.typeOfLogin}}catch(nt){log.error(nt);const it=o($),{name:ot,email:st,picture:ct}=it;return{profileImage:ct,name:ot,email:st,verifierId:getVerifierId(it,this.typeOfLogin,tt,rt),verifier:this.verifier,typeOfLogin:this.typeOfLogin}}}handleLoginWindow(){return new Promise((a,$)=>{if(this.redirectToOpener){$(new Error("Cannot use redirect to opener for passwordless"));return}const j=tt=>{try{const{error:rt,data:nt}=tt,it=nt||{},{instanceParams:ot,hashParams:{access_token:st,id_token:ct}}=it,ut=_objectWithoutProperties(it.hashParams,_excluded$1);if(rt){log.error(tt.error),$(new Error(rt));return}tt.data&&ot.verifier===this.verifier&&(log.info(tt.data),a(_objectSpread2(_objectSpread2({accessToken:st,idToken:ct||""},ut),{},{state:ot})))}catch(rt){log.error(rt),$(rt)}},et=new BroadcastChannel$1(`redirect_channel_${this.nonce}`,broadcastChannelOptions);et.addEventListener("message",async tt=>{j(tt),et.close()});try{const{connection:tt="email",login_hint:rt}=this.jwtParams,nt=deepmerge$1({client_id:this.clientId,connection:tt,email:tt==="email"?rt:void 0,phone_number:tt==="sms"?rt:void 0,send:"link",authParams:{scope:this.SCOPE,state:this.state,response_type:this.RESPONSE_TYPE,redirect_uri:this.redirect_uri,nonce:this.nonce,prompt:this.PROMPT}},{authParams:this.jwtParams});post$1(this.finalURL.href,JSON.parse(JSON.stringify(nt))).then(it=>{log.info("posted",it)}).catch(it=>{log.error(it),$(it)})}catch(tt){log.error(tt),$(tt)}})}}class RedditHandler extends AbstractLoginHandler{constructor(a,$,j,et,tt,rt,nt,it){super(a,$,j,et,tt,rt,nt,it),this.clientId=a,this.verifier=$,this.redirect_uri=j,this.typeOfLogin=et,this.uxMode=tt,this.redirectToOpener=rt,this.jwtParams=nt,this.customState=it,_defineProperty$4(this,"RESPONSE_TYPE","token"),_defineProperty$4(this,"SCOPE","identity"),this.setFinalUrl()}setFinalUrl(){const a=new URL(`https://www.reddit.com/api/v1/authorize${window.innerWidth<600?".compact":""}`),$=JSON.parse(JSON.stringify(this.jwtParams||{})),j=deepmerge$1({state:this.state,response_type:this.RESPONSE_TYPE,client_id:this.clientId,redirect_uri:this.redirect_uri,scope:this.SCOPE},$);Object.keys(j).forEach(et=>{j[et]&&a.searchParams.append(et,j[et])}),this.finalURL=a}async getUserInfo(a){const{accessToken:$}=a,j=await get$2("https://oauth.reddit.com/api/v1/me",{headers:{Authorization:`Bearer ${$}`}}),{icon_img:et="",name:tt=""}=j;return{email:"",name:tt,profileImage:et.split("?").length>0?et.split("?")[0]:et,verifier:this.verifier,verifierId:tt.toLowerCase(),typeOfLogin:this.typeOfLogin}}}class TwitchHandler extends AbstractLoginHandler{constructor(a,$,j,et,tt,rt,nt,it){super(a,$,j,et,tt,rt,nt,it),this.clientId=a,this.verifier=$,this.redirect_uri=j,this.typeOfLogin=et,this.uxMode=tt,this.redirectToOpener=rt,this.jwtParams=nt,this.customState=it,_defineProperty$4(this,"RESPONSE_TYPE","token"),_defineProperty$4(this,"SCOPE","user:read:email"),this.setFinalUrl()}setFinalUrl(){const a=new URL("https://id.twitch.tv/oauth2/authorize"),$=JSON.parse(JSON.stringify(this.jwtParams||{})),j=deepmerge$1({state:this.state,response_type:this.RESPONSE_TYPE,client_id:this.clientId,redirect_uri:this.redirect_uri,scope:this.SCOPE,force_verify:!0},$);Object.keys(j).forEach(et=>{j[et]&&a.searchParams.append(et,j[et])}),this.finalURL=a}async getUserInfo(a){const{accessToken:$}=a,j=await get$2("https://api.twitch.tv/helix/users",{headers:{Authorization:`Bearer ${$}`,"Client-ID":this.clientId}}),[{profile_image_url:et="",display_name:tt="",email:rt="",id:nt}]=j.data||[];return{profileImage:et,name:tt,email:rt,verifierId:nt,verifier:this.verifier,typeOfLogin:this.typeOfLogin}}}const WEBAUTHN_LOOKUP_SERVER="https://api.webauthn.openlogin.com";class WebAuthnHandler extends AbstractLoginHandler{constructor(a,$,j,et,tt,rt,nt,it,ot){super(a,$,j,et,tt,rt,nt,it),this.clientId=a,this.verifier=$,this.redirect_uri=j,this.typeOfLogin=et,this.uxMode=tt,this.redirectToOpener=rt,this.jwtParams=nt,this.customState=it,this.registerOnly=ot,this.setFinalUrl()}setFinalUrl(){const{webauthnURL:a}=this.customState||{},$=a?new URL(a):new URL("https://webauthn.openlogin.com"),j=JSON.parse(JSON.stringify(this.jwtParams||{})),et=deepmerge$1({register_only:!!this.registerOnly,state:this.state,client_id:this.clientId,redirect_uri:this.redirect_uri},j);Object.keys(et).forEach(tt=>{et[tt]&&$.searchParams.append(tt,et[tt])}),this.finalURL=$}async getUserInfo(a){const{idToken:$,ref:j,extraParamsPassed:et,extraParams:tt}=a;let rt,nt,it,ot,st,ct,ut,ht,Et;if(et==="true"){log.debug("extraParamsPassed is true, using extraParams passed through hashParams");try{({verifier_id:rt,signature:nt,clientDataJSON:it,authenticatorData:ot,publicKey:st,challenge:ct,rpOrigin:ut,credId:ht,transports:Et}=JSON.parse(base64url.decode(tt)))}catch(St){log.warn("unable to parse extraParams",St),{verifier_id:rt,signature:nt,clientDataJSON:it,authenticatorData:ot,publicKey:st,challenge:ct,rpOrigin:ut,credId:ht,transports:Et}=await get$2(`${WEBAUTHN_LOOKUP_SERVER}/signature/fetch/${$}`)}}else log.debug("extraParamsPassed is false, using extraParams passed through bridge server"),{verifier_id:rt,signature:nt,clientDataJSON:it,authenticatorData:ot,publicKey:st,challenge:ct,rpOrigin:ut,credId:ht,transports:Et}=await get$2(`${WEBAUTHN_LOOKUP_SERVER}/signature/fetch/${$}`);if(nt!==$)throw new Error("idtoken should be equal to signature");return{email:"",name:"WebAuthn Login",profileImage:"",verifier:this.verifier,verifierId:rt,typeOfLogin:this.typeOfLogin,ref:j,registerOnly:this.registerOnly,extraVerifierParams:{signature:nt,clientDataJSON:it,authenticatorData:ot,publicKey:st,challenge:ct,rpOrigin:ut,credId:ht,transports:Et}}}}const createHandler=_=>{let{clientId:a,redirect_uri:$,typeOfLogin:j,verifier:et,jwtParams:tt,redirectToOpener:rt,uxMode:nt,customState:it,registerOnly:ot}=_;if(!et||!j||!a)throw new Error("Invalid params");const{domain:st,login_hint:ct,id_token:ut,access_token:ht}=tt||{};switch(j){case LOGIN.GOOGLE:return new GoogleHandler(a,et,$,j,nt,rt,tt,it);case LOGIN.FACEBOOK:return new FacebookHandler(a,et,$,j,nt,rt,tt,it);case LOGIN.TWITCH:return new TwitchHandler(a,et,$,j,nt,rt,tt,it);case LOGIN.REDDIT:return new RedditHandler(a,et,$,j,nt,rt,tt,it);case LOGIN.DISCORD:return new DiscordHandler(a,et,$,j,nt,rt,tt,it);case LOGIN.PASSWORDLESS:if(!st||!ct)throw new Error("Invalid params");return new JwtHandler(a,et,$,j,nt,rt,tt,it);case LOGIN.APPLE:case LOGIN.GITHUB:case LOGIN.LINKEDIN:case LOGIN.TWITTER:case LOGIN.WEIBO:case LOGIN.LINE:case LOGIN.EMAIL_PASSWORD:case LOGIN.JWT:if(ut||ht)return new MockLoginHandler(a,et,$,j,nt,rt,tt,it);if(!st)throw new Error("Invalid params");return new JwtHandler$1(a,et,$,j,nt,rt,tt,it);case LOGIN.WEBAUTHN:return new WebAuthnHandler(a,et,$,j,nt,rt,tt,it,ot);default:throw new Error("Invalid login type")}},registerServiceWorker=_=>new Promise((a,$)=>{const j=`${_}sw.js`;"serviceWorker"in window.navigator?register(j,{ready(){log.info(`App is being served from cache by a service worker.
 For more details, visit https://goo.gl/AFskqB`),a(void 0)},registered(){log.info("Service worker has been registered."),a(void 0)},cached(){log.info("Content has been cached for offline use."),a(void 0)},updatefound(){log.info("New content is downloading.")},updated(){log.info("New content is available; please refresh.")},offline(){log.info("No internet connection found. App is running in offline mode."),$(new Error("App is offline"))},error(et){log.error("Error during service worker registration:",et),$(et)}}):$(new Error("Service workers are not supported"))});class SentryHandler{constructor(a){_defineProperty$4(this,"sentry",null),this.sentry=a}startTransaction(a){if(this.sentry)return this.sentry.startTransaction(a)}finishTransaction(a){a&&a.finish()}}class StorageHelper{constructor(a){_defineProperty$4(this,"currentStorageMethod",REDIRECT_PARAMS_STORAGE_METHOD.LOCAL_STORAGE),_defineProperty$4(this,"isInitialized",!1),_defineProperty$4(this,"storageServerUrl","https://broadcast-server.tor.us"),this.storageServerUrl=a}init(){const a=are3PCSupported(),$=storageAvailable(REDIRECT_PARAMS_STORAGE_METHOD.LOCAL_STORAGE);a&&$?this.currentStorageMethod=REDIRECT_PARAMS_STORAGE_METHOD.LOCAL_STORAGE:this.currentStorageMethod=REDIRECT_PARAMS_STORAGE_METHOD.SERVER,this.isInitialized=!0}async storeLoginDetails(a,$){if(!this.isInitialized)throw new Error("StorageHelper is not initialized");if(this.currentStorageMethod===REDIRECT_PARAMS_STORAGE_METHOD.SERVER){const j=keccak256(Buffer$g.from($,"utf8")),et=j.toString("hex"),tt=getPublic(j).toString("hex"),rt=await encryptData(et,a),nt=(await sign(j,keccak256(Buffer$g.from(rt,"utf8")))).toString("hex");await post$1(`${this.storageServerUrl}/store/set`,{key:tt,data:rt,signature:nt})}else window.localStorage.setItem(`torus_login_${$}`,JSON.stringify(a))}async retrieveLoginDetails(a){if(!this.isInitialized)throw new Error("StorageHelper is not initialized");if(this.currentStorageMethod===REDIRECT_PARAMS_STORAGE_METHOD.SERVER){const j=keccak256(Buffer$g.from(a,"utf8")),et=j.toString("hex"),tt=getPublic(j).toString("hex");try{const rt=await get$2(`${this.storageServerUrl}/store/get?key=${tt}`);if(rt.message)return await decryptData(et,rt.message)}catch(rt){if(rt.status===404)log.warn(rt,"Session likely expired");else throw rt}}const $=window.localStorage.getItem(`torus_login_${a}`);return JSON.parse($||"{}")}clearLoginDetailsStorage(a){if(!this.isInitialized)throw new Error("StorageHelper is not initialized");this.currentStorageMethod===REDIRECT_PARAMS_STORAGE_METHOD.LOCAL_STORAGE&&window.localStorage.removeItem(`torus_login_${a}`)}clearOrphanedLoginDetails(){if(!this.isInitialized)throw new Error("StorageHelper is not initialized");this.currentStorageMethod===REDIRECT_PARAMS_STORAGE_METHOD.LOCAL_STORAGE&&Object.keys(window.localStorage).forEach($=>{$.startsWith("torus_login_")&&window.localStorage.removeItem($)})}}const _excluded=["access_token","id_token"],_excluded2=["access_token","id_token"],_excluded3=["access_token","id_token"],_excluded4=["args","method"];class CustomAuth{constructor(a){let{baseUrl:$,network:j,enableLogging:et=!1,redirectToOpener:tt=!1,redirectPathName:rt="redirect",apiKey:nt="torus-default",uxMode:it=UX_MODE.POPUP,locationReplaceOnRedirect:ot=!1,popupFeatures:st,storageServerUrl:ct="https://broadcast-server.tor.us",sentry:ut,enableOneKey:ht=!1,web3AuthClientId:Et,metadataUrl:St="https://metadata.tor.us"}=a;if(_defineProperty$4(this,"isInitialized",void 0),_defineProperty$4(this,"config",void 0),_defineProperty$4(this,"torus",void 0),_defineProperty$4(this,"nodeDetailManager",void 0),_defineProperty$4(this,"storageHelper",void 0),_defineProperty$4(this,"sentryHandler",void 0),!Et)throw new Error("Please provide a valid web3AuthClientId in constructor");if(!j)throw new Error("Please provide a valid network in constructor");this.isInitialized=!1;const Mt=new URL($);this.config={baseUrl:padUrlString(Mt),get redirect_uri(){return`${this.baseUrl}${rt}`},redirectToOpener:tt,uxMode:it,locationReplaceOnRedirect:ot,popupFeatures:st};const kt=new Torus({network:j,clientId:Et,enableOneKey:ht,legacyMetadataHost:St});Torus.setAPIKey(nt),this.torus=kt,this.nodeDetailManager=new NodeDetailManager({network:j}),et?log.enableAll():log.disableAll(),this.storageHelper=new StorageHelper(ct),this.sentryHandler=new SentryHandler(ut)}async init(){let{skipSw:a=!1,skipInit:$=!1,skipPrefetch:j=!1}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(this.storageHelper.init(),$){this.isInitialized=!0;return}if(!a)if((await fetch(`${this.config.baseUrl}sw.js`,{cache:"reload"})).ok)try{await registerServiceWorker(this.config.baseUrl),this.isInitialized=!0;return}catch(tt){log.warn(tt)}else throw new Error("Service worker is not being served. Please serve it");if(!j){if(isFirefox()){this.isInitialized=!0;return}await this.handlePrefetchRedirectUri();return}this.isInitialized=!0}async triggerLogin(a){const{verifier:$,typeOfLogin:j,clientId:et,jwtParams:tt,hash:rt,queryParameters:nt,customState:it,registerOnly:ot}=a;if(log.info("Verifier: ",$),!this.isInitialized)throw new Error("Not initialized yet");if(ot&&j!==LOGIN.WEBAUTHN)throw new Error("registerOnly flag can only be passed for webauthn");const st=createHandler({typeOfLogin:j,clientId:et,verifier:$,redirect_uri:this.config.redirect_uri,redirectToOpener:this.config.redirectToOpener,jwtParams:tt,uxMode:this.config.uxMode,customState:it,registerOnly:ot});let ct;if(rt&&nt){const{error:Et,hashParameters:St,instanceParameters:Mt}=handleRedirectParameters(rt,nt);if(Et)throw new Error(Et);const{access_token:kt,id_token:Ct}=St,Ot=_objectWithoutProperties(St,_excluded);ct=_objectSpread2(_objectSpread2({accessToken:kt,idToken:Ct},Ot),{},{state:Mt})}else if(this.storageHelper.clearOrphanedLoginDetails(),this.config.uxMode===UX_MODE.REDIRECT&&await this.storageHelper.storeLoginDetails({method:TORUS_METHOD.TRIGGER_LOGIN,args:a},st.nonce),ct=await st.handleLoginWindow({locationReplaceOnRedirect:this.config.locationReplaceOnRedirect,popupFeatures:this.config.popupFeatures}),this.config.uxMode===UX_MODE.REDIRECT)return null;const ut=await st.getUserInfo(ct);if(ot){const Et=this.sentryHandler.startTransaction({name:SENTRY_TXNS.FETCH_NODE_DETAILS}),St=await this.nodeDetailManager.getNodeDetails({verifier:$,verifierId:ut.verifierId});this.sentryHandler.finishTransaction(Et);const Mt=this.sentryHandler.startTransaction({name:SENTRY_TXNS.PUB_ADDRESS_LOOKUP}),kt=await this.torus.getPublicAddress(St.torusNodeEndpoints,St.torusNodePub,{verifier:$,verifierId:ut.verifierId});this.sentryHandler.finishTransaction(Mt);const Ct={userInfo:_objectSpread2(_objectSpread2({},ut),ct)};return _objectSpread2(_objectSpread2(_objectSpread2({},Ct),kt),{},{finalKeyData:_objectSpread2(_objectSpread2({},kt.finalKeyData),{},{privKey:void 0}),oAuthKeyData:_objectSpread2(_objectSpread2({},kt.finalKeyData),{},{privKey:void 0}),metadata:_objectSpread2(_objectSpread2({},kt.metadata),{},{nonce:void 0}),sessionData:void 0})}const ht=await this.getTorusKey($,ut.verifierId,{verifier_id:ut.verifierId},ct.idToken||ct.accessToken,ut.extraVerifierParams);return _objectSpread2(_objectSpread2({},ht),{},{userInfo:_objectSpread2(_objectSpread2({},ut),ct)})}async triggerAggregateLogin(a){const{aggregateVerifierType:$,verifierIdentifier:j,subVerifierDetailsArray:et}=a;if(!this.isInitialized)throw new Error("Not initialized yet");if(!$||!j||!Array.isArray(et))throw new Error("Invalid params");if($===AGGREGATE_VERIFIER.SINGLE_VERIFIER_ID&&et.length!==1)throw new Error("Single id verifier can only have one sub verifier");const tt=[],rt=[];for(const St of et){const{clientId:Mt,typeOfLogin:kt,verifier:Ct,jwtParams:Ot,hash:zt,queryParameters:Ut,customState:Vt}=St,jt=createHandler({typeOfLogin:kt,clientId:Mt,verifier:Ct,redirect_uri:this.config.redirect_uri,redirectToOpener:this.config.redirectToOpener,jwtParams:Ot,uxMode:this.config.uxMode,customState:Vt});let $t;if(zt&&Ut){const{error:Bt,hashParameters:Nt,instanceParameters:Lt}=handleRedirectParameters(zt,Ut);if(Bt)throw new Error(Bt);const{access_token:Pt,id_token:bt}=Nt,at=_objectWithoutProperties(Nt,_excluded2);$t=_objectSpread2(_objectSpread2({accessToken:Pt,idToken:bt},at),{},{state:Lt})}else if(this.storageHelper.clearOrphanedLoginDetails(),this.config.uxMode===UX_MODE.REDIRECT&&await this.storageHelper.storeLoginDetails({method:TORUS_METHOD.TRIGGER_AGGREGATE_LOGIN,args:a},jt.nonce),$t=await jt.handleLoginWindow({locationReplaceOnRedirect:this.config.locationReplaceOnRedirect,popupFeatures:this.config.popupFeatures}),this.config.uxMode===UX_MODE.REDIRECT)return null;tt.push(jt.getUserInfo($t)),rt.push($t)}const it=(await Promise.all(tt)).map(St=>_objectSpread2(_objectSpread2({},St),{},{aggregateVerifier:j})),ot={verify_params:[],sub_verifier_ids:[],verifier_id:""},st=[];let ct="",ut={};for(let St=0;St<et.length;St+=1){const Mt=rt[St],{idToken:kt,accessToken:Ct}=Mt,Ot=it[St];ot.verify_params.push({verifier_id:Ot.verifierId,idtoken:kt||Ct}),ot.sub_verifier_ids.push(Ot.verifier),st.push(kt||Ct),ct=Ot.verifierId,ut=Ot.extraVerifierParams}st.sort();const ht=keccak256$1(Buffer$g.from(st.join(""),"utf8")).slice(2);ot.verifier_id=ct;const Et=await this.getTorusKey(j,ct,ot,ht,ut);return _objectSpread2(_objectSpread2({},Et),{},{userInfo:it.map((St,Mt)=>_objectSpread2(_objectSpread2({},St),rt[Mt]))})}async triggerHybridAggregateLogin(a){const{singleLogin:$,aggregateLoginParams:j}=a;if(!this.isInitialized)throw new Error("Not initialized yet");if(!j.aggregateVerifierType||!j.verifierIdentifier||!Array.isArray(j.subVerifierDetailsArray))throw new Error("Invalid params");if(j.aggregateVerifierType===AGGREGATE_VERIFIER.SINGLE_VERIFIER_ID&&j.subVerifierDetailsArray.length!==1)throw new Error("Single id verifier can only have one sub verifier");const{typeOfLogin:et,clientId:tt,verifier:rt,jwtParams:nt,hash:it,queryParameters:ot,customState:st}=$,ct=createHandler({typeOfLogin:et,clientId:tt,verifier:rt,redirect_uri:this.config.redirect_uri,redirectToOpener:this.config.redirectToOpener,jwtParams:nt,uxMode:this.config.uxMode,customState:st});let ut;if(it&&ot){const{error:$t,hashParameters:Bt,instanceParameters:Nt}=handleRedirectParameters(it,ot);if($t)throw new Error($t);const{access_token:Lt,id_token:Pt}=Bt,bt=_objectWithoutProperties(Bt,_excluded3);ut=_objectSpread2(_objectSpread2({accessToken:Lt,idToken:Pt},bt),{},{state:Nt})}else if(this.storageHelper.clearOrphanedLoginDetails(),this.config.uxMode===UX_MODE.REDIRECT&&await this.storageHelper.storeLoginDetails({method:TORUS_METHOD.TRIGGER_AGGREGATE_HYBRID_LOGIN,args:a},ct.nonce),ut=await ct.handleLoginWindow({locationReplaceOnRedirect:this.config.locationReplaceOnRedirect,popupFeatures:this.config.popupFeatures}),this.config.uxMode===UX_MODE.REDIRECT)return null;const ht=await ct.getUserInfo(ut),Et=this.getTorusKey(rt,ht.verifierId,{verifier_id:ht.verifierId},ut.idToken||ut.accessToken,ht.extraVerifierParams),{verifierIdentifier:St,subVerifierDetailsArray:Mt}=j,kt={verify_params:[],sub_verifier_ids:[],verifier_id:""},Ct=[];let Ot="";for(let $t=0;$t<Mt.length;$t+=1){const Bt=Mt[$t],{idToken:Nt,accessToken:Lt}=ut;kt.verify_params.push({verifier_id:ht.verifierId,idtoken:Nt||Lt}),kt.sub_verifier_ids.push(Bt.verifier),Ct.push(Nt||Lt),Ot=ht.verifierId}Ct.sort();const zt=keccak256$1(Buffer$g.from(Ct.join(""),"utf8")).slice(2);kt.verifier_id=Ot;const Ut=this.getTorusKey(St,Ot,kt,zt,ht.extraVerifierParams),[Vt,jt]=await Promise.all([Et,Ut]);return{singleLogin:_objectSpread2({userInfo:_objectSpread2(_objectSpread2({},ht),ut)},Vt),aggregateLogins:[jt]}}async getTorusKey(a,$,j,et,tt){const rt=this.sentryHandler.startTransaction({name:SENTRY_TXNS.FETCH_NODE_DETAILS}),nt=await this.nodeDetailManager.getNodeDetails({verifier:a,verifierId:$});if(this.sentryHandler.finishTransaction(rt),this.torus.isLegacyNetwork){const st=this.sentryHandler.startTransaction({name:SENTRY_TXNS.PUB_ADDRESS_LOOKUP}),ct=await this.torus.getPublicAddress(nt.torusNodeEndpoints,nt.torusNodePub,{verifier:a,verifierId:$});this.sentryHandler.finishTransaction(st),log.debug("torus-direct/getTorusKey",{getPublicAddress:ct})}log.debug("torus-direct/getTorusKey",{torusNodeEndpoints:nt.torusNodeEndpoints});const it=this.sentryHandler.startTransaction({name:SENTRY_TXNS.FETCH_SHARES}),ot=await this.torus.retrieveShares(nt.torusNodeEndpoints,nt.torusIndexes,a,j,et,_objectSpread2({},tt));return this.sentryHandler.finishTransaction(it),log.debug("torus-direct/getTorusKey",{retrieveShares:ot}),ot}async getAggregateTorusKey(a,$,j){const et={verify_params:[],sub_verifier_ids:[],verifier_id:""},tt=[];let rt={};for(let it=0;it<j.length;it+=1){const ot=j[it];et.verify_params.push({verifier_id:$,idtoken:ot.idToken}),et.sub_verifier_ids.push(ot.verifier),tt.push(ot.idToken),rt=ot.extraVerifierParams}tt.sort();const nt=keccak256$1(Buffer$g.from(tt.join(""),"utf8")).slice(2);return et.verifier_id=$,this.getTorusKey(a,$,et,nt,rt)}async getRedirectResult(){let{replaceUrl:a=!0,clearLoginDetails:$=!0}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};await this.init({skipInit:!0});const j=new URL(window.location.href),et=j.hash.substring(1),tt={};if(j.searchParams.forEach((St,Mt)=>{tt[Mt]=St}),a){const St=window.location.origin+window.location.pathname;window.history.replaceState(_objectSpread2(_objectSpread2({},window.history.state),{},{as:St,url:St}),"",St)}if(!et&&Object.keys(tt).length===0)throw new Error("Unable to fetch result from OAuth login");const{error:rt,instanceParameters:nt,hashParameters:it}=handleRedirectParameters(et,tt),{instanceId:ot}=nt;log.info(ot,"instanceId");const st=await this.storageHelper.retrieveLoginDetails(ot),{args:ct,method:ut}=st,ht=_objectWithoutProperties(st,_excluded4);if(log.info(ct,ut),$&&this.storageHelper.clearLoginDetailsStorage(ot),rt)return{error:rt,state:nt||{},method:ut,result:{},hashParameters:it,args:ct};let Et;try{if(ut===TORUS_METHOD.TRIGGER_LOGIN){const St=ct;St.hash=et,St.queryParameters=tt,Et=await this.triggerLogin(St)}else if(ut===TORUS_METHOD.TRIGGER_AGGREGATE_LOGIN){const St=ct;St.subVerifierDetailsArray.forEach(Mt=>{Mt.hash=et,Mt.queryParameters=tt}),Et=await this.triggerAggregateLogin(St)}else if(ut===TORUS_METHOD.TRIGGER_AGGREGATE_HYBRID_LOGIN){const St=ct;St.singleLogin.hash=et,St.singleLogin.queryParameters=tt,Et=await this.triggerHybridAggregateLogin(St)}}catch(St){return log.error(St),_objectSpread2({error:`Could not get result from torus nodes 
 ${(St==null?void 0:St.message)||""}`,state:nt||{},method:ut,result:{},hashParameters:it,args:ct},ht)}return _objectSpread2(Et?{method:ut,result:Et,state:nt||{},hashParameters:it,args:ct}:{error:"Unsupported method type",state:nt||{},method:ut,result:{},hashParameters:it,args:ct},ht)}async handlePrefetchRedirectUri(){return document?new Promise((a,$)=>{const j=document.createElement("link");j.href=this.config.redirect_uri,window.location.origin!==new URL(this.config.redirect_uri).origin&&(j.crossOrigin="anonymous"),j.type="text/html",j.rel="prefetch";const et=()=>{this.isInitialized=!0,a()};try{j.relList&&j.relList.supports&&j.relList.supports("prefetch")?(j.onload=et,j.onerror=()=>{$(new Error(`Please serve redirect.html present in serviceworker folder of this package on ${this.config.redirect_uri}`))},document.head.appendChild(j)):et()}catch{et()}}):Promise.resolve()}}const WEB3_AUTH_CLIENT_ID="BBQoFIabI50S1-0QsGHGTM4qID_FDjja0ZxIxKPyFqc0El--M-EG0c2giaBYVTVVE6RC9WCUzCJyW24aJrR_Lzc";class Auth{async getTorusClient(){const a=new CustomAuth({web3AuthClientId:WEB3_AUTH_CLIENT_ID,baseUrl:"https://umamiwallet.com/auth/v2.2.0/",redirectPathName:"redirect.html",redirectToOpener:!0,uxMode:"popup",network:"mainnet"});return await a.init({skipSw:!0}),a}async getCredentials(){const a=await this.login(),$=a.finalKeyData.privKey||a.oAuthKeyData.privKey,j=b58cencode($,prefix.spsk),et=Array.isArray(a.userInfo)?a.userInfo[0]:a.userInfo,tt=et.email||et.name||this.idpName;return{secretKey:j,name:tt}}}const parseTorusRedirectParams=_=>{const a=new URLSearchParams(_.replace("umami://auth/","")),$={instanceId:a.get("instanceId"),verifier:a.get("verifier"),typeOfLogin:a.get("typeOfLogin"),redirectToOpener:a.get("redirectToOpener")},j={state:a.get("state"),access_token:a.get("access_token"),token_type:a.get("token_type"),expires_in:a.get("expires_in"),scope:a.get("scope"),id_token:a.get("id_token"),authuser:a.get("authuser"),hd:a.get("hd"),prompt:a.get("prompt")},et={instanceParams:$,hashParams:j};return{channel:a.get("channel"),data:et,error:a.get("error")}},JWT_AUTH_DOMAIN="https://kukai.eu.auth0.com";class EmailAuth extends Auth{constructor(){super(...arguments),this.clientId="LTg6fVsacafGmhv14TZlrWF1EavwQoDZ",this.idpName="email"}async login(){return(await this.getTorusClient()).triggerAggregateLogin({verifierIdentifier:"tezos-google",aggregateVerifierType:"single_id_verifier",subVerifierDetailsArray:[{verifier:"web-kukai-email",typeOfLogin:"jwt",clientId:this.clientId,jwtParams:{connection:"",verifierIdField:"name",domain:JWT_AUTH_DOMAIN}}]})}}class FacebookAuth extends Auth{constructor(){super(...arguments),this.idpName="facebook",this.clientId="523634882377310"}async login(){return(await this.getTorusClient()).triggerLogin({verifier:"tezos-facebook",clientId:this.clientId,typeOfLogin:"facebook",jwtParams:{scope:"public_profile email"}})}}class GoogleAuth extends Auth{constructor(){super(...arguments),this.idpName="google",this.clientId="1070572364808-d31nlkneam5ee6dr0tu28fjjbsdkfta5.apps.googleusercontent.com"}async login(){return(await this.getTorusClient()).triggerAggregateLogin({verifierIdentifier:"tezos-google",aggregateVerifierType:"single_id_verifier",subVerifierDetailsArray:[{clientId:this.clientId,typeOfLogin:"google",verifier:"umami"}]})}}class RedditAuth extends Auth{constructor(){super(...arguments),this.idpName="reddit",this.clientId="zyQ9tnKfdg3VNyj6MGhZq4dHbBzbmEvl"}async login(){return(await this.getTorusClient()).triggerAggregateLogin({verifierIdentifier:"tezos-reddit",aggregateVerifierType:"single_id_verifier",subVerifierDetailsArray:[{verifier:"web-kukai",typeOfLogin:"jwt",clientId:this.clientId,jwtParams:{connection:"Reddit",verifierIdField:"name",domain:JWT_AUTH_DOMAIN}}]})}}class TwitterAuth extends Auth{constructor(){super(...arguments),this.idpName="twitter",this.clientId="3aCoxh3pw8g8JeFsdlJNUGwdgtLwdwgE"}async login(){return(await this.getTorusClient()).triggerLogin({verifier:"tezos-twitter",clientId:this.clientId,typeOfLogin:"twitter",jwtParams:{domain:JWT_AUTH_DOMAIN}})}}const forIDP=_=>{switch(_){case"google":return new GoogleAuth;case"email":return new EmailAuth;case"reddit":return new RedditAuth;case"facebook":return new FacebookAuth;case"twitter":return new TwitterAuth}},MIN_LENGTH=8,PasswordInput=({inputName:_,label:a="Password",placeholder:$="Enter your password",required:j="Password is required",minLength:et=MIN_LENGTH,validate:tt,...rt})=>{const{register:nt}=useFormContext(),[it,ot]=reactExports.useState(!1);return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(FormLabel,{children:a}),jsxRuntimeExports.jsxs(InputGroup,{marginTop:"12px",children:[jsxRuntimeExports.jsx(Input,{"aria-label":a,autoComplete:"off",placeholder:$,type:it?"text":"password",...nt(_,{required:j,minLength:et&&j?{value:et,message:`Your password must be at least ${et} characters long`}:void 0,validate:tt}),...rt}),jsxRuntimeExports.jsx(InputRightElement,{children:jsxRuntimeExports.jsx(Button,{onClick:()=>ot(st=>!st),tabIndex:-1,variant:"unstyled",children:it?jsxRuntimeExports.jsx(EyeSlashIcon,{"data-testid":"eye-slash-icon"}):jsxRuntimeExports.jsx(EyeIcon,{width:"16.5px","data-testid":"eye-icon"})})})]})]})},SignButton=({signer:_,onSubmit:a,isLoading:$,isDisabled:j,text:et,network:tt})=>{const rt=useForm({mode:"onBlur",defaultValues:{password:""}}),{handleSubmit:nt,formState:{errors:it,isValid:ot}}=rt;let st=useSelectedNetwork();tt&&(st=tt);const{formState:{isValid:ct}}=useFormContext(),ut=j||!ot||!ct,ht=useGetSecretKey(),Et=useToast(),{isLoading:St,handleAsyncAction:Mt}=useAsyncActionHandler(),kt=St||$,Ct=async({password:Vt})=>Mt(async()=>{const jt=await ht(_,Vt);return a(await makeToolkit({type:"mnemonic",secretKey:jt,network:st}))}),Ot=async({password:Vt})=>Mt(async()=>{const jt=await ht(_,Vt);return a(await makeToolkit({type:"secret_key",secretKey:jt,network:st}))}),zt=async()=>Mt(async()=>{const{secretKey:Vt}=await forIDP(_.idp).getCredentials();return a(await makeToolkit({type:"social",secretKey:Vt,network:st}))}),Ut=async()=>Mt(async()=>(Et({id:"ledger-sign-toast",description:"Please approve the operation on your Ledger",status:"info",duration:6e4,isClosable:!0}),a(await makeToolkit({type:"ledger",account:_,network:st}))),Vt=>({description:`${Vt.message} Please connect your ledger, open Tezos app and try submitting transaction again`,status:"error"})).finally(()=>Et.close("ledger-sign-toast"));switch(_.type){case"secret_key":case"mnemonic":return jsxRuntimeExports.jsx(Box,{width:"100%",children:jsxRuntimeExports.jsxs(FormProvider,{...rt,children:[jsxRuntimeExports.jsxs(FormControl,{isInvalid:!!it.password,marginY:"16px",children:[jsxRuntimeExports.jsx(PasswordInput,{"data-testid":"password",inputName:"password"}),it.password&&jsxRuntimeExports.jsx(FormErrorMessage,{children:it.password.message})]}),jsxRuntimeExports.jsx(Button,{width:"100%",marginTop:"8px",isDisabled:ut,isLoading:kt,onClick:nt(_.type==="mnemonic"?Ct:Ot),size:"lg",type:"submit",children:et||"Submit Transaction"})]})});case"social":return jsxRuntimeExports.jsx(Button,{width:"100%",isDisabled:j,isLoading:kt,onClick:zt,size:"lg",children:et||"Sign with social"});case"ledger":return jsxRuntimeExports.jsx(Button,{width:"100%",isDisabled:j,isLoading:kt,onClick:Ut,size:"lg",children:et||"Sign with Ledger"})}},SignPayloadRequestModal=({request:_})=>{const{onClose:a}=reactExports.useContext(DynamicModalContext),j=useGetImplicitAccount()(_.sourceAddress),et=useToast(),tt=useRemovePeerBySenderId(),rt=useForm(),nt=()=>{tt(_.senderId),WalletClient.respond({id:_.id,type:BeaconMessageType.Error,errorType:BeaconErrorType.ABORTED_ERROR})},it=async ot=>{const st=await ot.signer.sign(_.payload),ct={type:BeaconMessageType.SignPayloadResponse,id:_.id,signingType:_.signingType,signature:st.prefixSig};await WalletClient.respond(ct),et({description:"Successfully submitted Beacon operation",status:"success"}),a()};return jsxRuntimeExports.jsx(FormProvider,{...rt,children:jsxRuntimeExports.jsxs(ModalContent,{children:[jsxRuntimeExports.jsx(ModalHeader,{marginBottom:"32px",textAlign:"center",children:"Connect with pairing request"}),jsxRuntimeExports.jsx(ModalCloseButton,{onClick:nt}),jsxRuntimeExports.jsxs(ModalBody,{children:[jsxRuntimeExports.jsx(Heading,{marginBottom:"12px",size:"l",children:`${_.appMetadata.name}/dApp Pairing Request`}),jsxRuntimeExports.jsx(Box,{overflowY:"auto",maxHeight:"300px",padding:"15px",border:"1px solid",borderColor:colors.gray[500],borderRadius:"4px",backgroundColor:colors.gray[800],children:jsxRuntimeExports.jsx(Text,{color:colors.gray[450],size:"md",children:decodePayload$1(_.payload)})})]}),jsxRuntimeExports.jsx(ModalFooter,{justifyContent:"center",display:"flex",padding:"16px 0 0 0",children:jsxRuntimeExports.jsx(SignButton,{onSubmit:it,signer:j,text:"Sign"})})]})})},HeaderWrapper=chakra(ModalHeader,{baseStyle:{padding:0,paddingBottom:"32px",textAlign:"center"}}),FormPageHeader=({title:_="Send",subTitle:a="Send one or insert into batch"})=>jsxRuntimeExports.jsxs(HeaderWrapper,{children:[jsxRuntimeExports.jsx(Heading,{size:"2xl",children:_}),jsxRuntimeExports.jsx(Text,{marginTop:"10px",color:colors.gray[400],textAlign:"center",size:"sm",children:a}),jsxRuntimeExports.jsx(ModalCloseButton,{})]});var ChevronDownIcon=createIcon({displayName:"ChevronDownIcon",d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"}),ArrowBackIcon=createIcon({d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z",displayName:"ArrowBackIcon"});const ModalBackButton=({onClick:_})=>jsxRuntimeExports.jsx(IconButton,{...backButtonStyle,"aria-label":"Back","data-testid":"back-button",icon:jsxRuntimeExports.jsx(ArrowBackIcon,{width:"24px",height:"20px"}),onClick:_,size:"sm",variant:"ghost"}),headerText=(_,a)=>{let $;switch(_){case"implicit":$=a==="batch"?"Submit":"Confirm";break;case"proposal":$="Propose"}switch(a){case"single":return`${$} Transaction`;case"batch":return`${$} Batch`}},subTitle=_=>{switch(_.type){case"ledger":case"social":return;case"mnemonic":case"secret_key":return"Enter your password to confirm this transaction."}},SignPageHeader=({goBack:_,mode:a,operationsType:$,signer:j,title:et,description:tt,children:rt})=>jsxRuntimeExports.jsxs(HeaderWrapper,{children:[_&&jsxRuntimeExports.jsx(ModalBackButton,{onClick:_}),jsxRuntimeExports.jsx(Heading,{"data-testid":"sign-page-header",size:"2xl",children:et||headerText($,a)}),jsxRuntimeExports.jsx(Text,{marginTop:"10px",color:colors.gray[400],textAlign:"center",size:"sm",children:tt||subTitle(j)}),jsxRuntimeExports.jsx(ModalCloseButton,{}),rt]}),Header$1=({operation:_,message:a,mode:$})=>jsxRuntimeExports.jsxs(SignPageHeader,{mode:$,operationsType:_.type,signer:_.signer,children:[jsxRuntimeExports.jsxs(Flex,{alignItems:"center",justifyContent:"center",marginTop:"10px",children:[jsxRuntimeExports.jsx(Heading,{marginRight:"4px",color:colors.gray[450],size:"sm",children:"Network:"}),jsxRuntimeExports.jsx(Text,{color:colors.gray[400],size:"sm",children:lodashExports.capitalize(a.network.type)})]}),jsxRuntimeExports.jsxs(Flex,{alignItems:"center",marginTop:"16px",padding:"15px",borderRadius:"4px",backgroundColor:colors.gray[800],children:[jsxRuntimeExports.jsx(AspectRatio,{width:"30px",marginRight:"12px",ratio:1,children:jsxRuntimeExports.jsx(Image$1,{borderRadius:"4px",src:a.appMetadata.icon})}),jsxRuntimeExports.jsx(Heading,{size:"sm",children:a.appMetadata.name})]})]}),totalFee=_=>_.map(a=>a.fee).reduce((a,$)=>a.plus($),BigNumber(0)).toNumber(),makeAccountOperations=(_,a,$)=>{switch(_.type){case"ledger":case"mnemonic":case"social":case"secret_key":if(_.address.pkh!==a.address.pkh)throw new Error("Sender and Signer must be the same");return{type:"implicit",operations:$,signer:_,sender:_};case"multisig":return{type:"proposal",operations:$,sender:_,signer:a}}},WindowLinkIcon=_=>jsxRuntimeExports.jsx(Icon,{width:"14px",height:"14px",fill:"none",stroke:colors.gray[450],viewBox:"0 0 14 14",xmlns:"http://www.w3.org/2000/svg",..._,children:jsxRuntimeExports.jsx("path",{d:"M13 1L7 7M13 1V4.375M13 1H9.625M12.25 7.375V10.6C12.25 11.4401 12.25 11.8601 12.0865 12.181C11.9427 12.4632 11.7132 12.6927 11.431 12.8365C11.1101 13 10.6901 13 9.85 13H3.4C2.55992 13 2.13988 13 1.81901 12.8365C1.53677 12.6927 1.3073 12.4632 1.16349 12.181C1 11.8601 1 11.4401 1 10.6V4.15C1 3.30992 1 2.88988 1.16349 2.56901C1.3073 2.28677 1.53677 2.0573 1.81901 1.91349C2.13988 1.75 2.55992 1.75 3.4 1.75H6.625",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.2"})}),SuccessStep=({hash:_})=>{const $=`${useSelectedNetwork().tzktExplorerUrl}/${_}`,{onClose:j}=reactExports.useContext(DynamicModalContext),et=useNavigate();return jsxRuntimeExports.jsxs(ModalContent,{paddingY:"20px",children:[jsxRuntimeExports.jsx(ModalCloseButton,{}),jsxRuntimeExports.jsx(ModalHeader,{textAlign:"center",children:jsxRuntimeExports.jsx(Heading,{children:"Operation Submitted"})}),jsxRuntimeExports.jsx(ModalBody,{children:jsxRuntimeExports.jsx(Flex,{justifyContent:"center",marginTop:"10px",children:jsxRuntimeExports.jsx(Text,{color:"text.dark",textAlign:"center",size:"sm",children:"You can follow this operation's progress in the Operations section. It may take up to 30 seconds to appear."})})}),jsxRuntimeExports.jsxs(ModalFooter,{justifyContent:"center",flexDirection:"column",width:"100%",children:[jsxRuntimeExports.jsx(Button,{width:"100%",onClick:()=>{j(),et("/operations")},size:"lg",children:"See all Operations"}),jsxRuntimeExports.jsx(Link,{rel:"noopener noreferrer",target:"_blank",to:$,children:jsxRuntimeExports.jsx(Flex,{alignItems:"center",marginTop:"24px",children:jsxRuntimeExports.jsxs(Button,{variant:"CTAWithIcon",children:[jsxRuntimeExports.jsx(Text,{marginRight:"4px",children:"View in Tzkt"}),jsxRuntimeExports.jsx(WindowLinkIcon,{stroke:"currentcolor"})]})})})]})]})},useSignWithBeacon=(_,a)=>{const{isLoading:$,handleAsyncAction:j}=useAsyncActionHandler(),{openWith:et}=reactExports.useContext(DynamicModalContext),tt=useFindNetwork(),rt=useForm({defaultValues:{executeParams:_.estimates}}),nt=async it=>j(async()=>{const{opHash:ot}=await executeOperations({..._,estimates:rt.watch("executeParams")},it),st={type:BeaconMessageType.OperationResponse,id:a.id,transactionHash:ot};return await WalletClient.respond(st),et(jsxRuntimeExports.jsx(SuccessStep,{hash:ot}))},ot=>({description:`Failed to confirm Beacon operation: ${ot.message}`}));return{fee:totalFee(rt.watch("executeParams")),isSigning:$,onSign:nt,network:tt(a.network.type),form:rt}},SignPageFee=({fee:_})=>jsxRuntimeExports.jsxs(Flex,{alignItems:"center",children:[jsxRuntimeExports.jsx(Heading,{marginRight:"4px",color:colors.gray[450],size:"sm",children:"Fee:"}),jsxRuntimeExports.jsx(Text,{color:colors.gray[400],"data-testid":"fee",size:"sm",children:prettyTezAmount(_)})]}),BatchSignPage=({operation:_,message:a})=>{const{isSigning:$,onSign:j,network:et,fee:tt,form:rt}=useSignWithBeacon(_,a),{signer:nt}=_,it=_.operations.length;return jsxRuntimeExports.jsx(FormProvider,{...rt,children:jsxRuntimeExports.jsx(ModalContent,{children:jsxRuntimeExports.jsxs("form",{children:[jsxRuntimeExports.jsx(Header$1,{message:a,mode:"batch",operation:_}),jsxRuntimeExports.jsxs(ModalBody,{children:[jsxRuntimeExports.jsx(Accordion,{allowToggle:!0,children:jsxRuntimeExports.jsxs(AccordionItem,{background:colors.gray[800],border:"none",borderRadius:"8px",children:[jsxRuntimeExports.jsxs(AccordionButton,{children:[jsxRuntimeExports.jsx(Heading,{flex:"1",textAlign:"left",paddingY:"6px",size:"sm",children:"Operations"}),jsxRuntimeExports.jsx(AccordionIcon,{})]}),jsxRuntimeExports.jsx(AccordionPanel,{children:jsxRuntimeExports.jsx(JsValueWrap,{overflowY:"auto",maxHeight:"200px",value:a.operationDetails})})]})}),jsxRuntimeExports.jsx(FormLabel,{marginTop:"16px",children:"From"}),jsxRuntimeExports.jsx(AddressTile,{address:nt.address}),jsxRuntimeExports.jsxs(Flex,{alignItems:"center",justifyContent:"space-between",marginY:"12px",paddingX:"4px",children:[jsxRuntimeExports.jsxs(Flex,{children:[jsxRuntimeExports.jsx(Text,{marginRight:"4px",color:colors.gray[450],size:"sm",children:"Transactions:"}),jsxRuntimeExports.jsx(Text,{color:colors.gray[400],"data-testid":"transaction-length",size:"sm",children:it})]}),jsxRuntimeExports.jsx(SignPageFee,{fee:tt})]})]}),jsxRuntimeExports.jsx(ModalFooter,{children:jsxRuntimeExports.jsx(SignButton,{isLoading:$,network:et,onSubmit:j,signer:nt,text:headerText(_.type,"batch")})})]})})})},useBatches=()=>{const _=useSelectedNetwork();return useAppSelector($=>$.batches[_.name])||[]},useClearBatch=()=>{const _=useAppDispatch(),a=useSelectedNetwork();return $=>_(batchesActions.clear({pkh:$.address.pkh,network:a}))},useRemoveBatchItem=()=>{const _=useAppDispatch(),a=useSelectedNetwork();return($,j)=>_(batchesActions.removeItem({pkh:$.address.pkh,index:j,network:a}))},FormSubmitButtons=({isLoading:_,isValid:a,onSingleSubmit:$,onAddToBatch:j,showPreview:et=!0})=>jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsxs(Box,{width:"100%",children:[et&&jsxRuntimeExports.jsx(Button,{width:"100%",marginBottom:"16px",isDisabled:!a,isLoading:_,onClick:$,size:"lg",type:"submit",children:"Preview"}),jsxRuntimeExports.jsx(Button,{width:"100%",isDisabled:!a,isLoading:_,onClick:j,size:"lg",type:"submit",variant:"tertiary",children:"Insert Into Batch"})]})}),formDefaultValues=({sender:_,form:a})=>a||(_?{sender:_.address.pkh}:{}),useSignPageHelpers=(_,a)=>{const[$,j]=reactExports.useState(!1),et=useGetImplicitAccount(),[tt,rt]=reactExports.useState(_),nt=useSelectedNetwork(),it=useClearBatch(),{isLoading:ot,handleAsyncAction:st,handleAsyncActionUnsafe:ct}=useAsyncActionHandler(),{openWith:ut}=reactExports.useContext(DynamicModalContext),ht=useForm({mode:"onBlur",defaultValues:{signer:tt.signer.address.pkh,sender:tt.sender.address.pkh,executeParams:tt.estimates}}),Et=ht.watch("signer"),St=async kt=>ct(async()=>{const Ct=await estimate({...tt,signer:et(kt)},nt);ht.setValue("executeParams",Ct.estimates),rt(Ct),j(!1)},{isClosable:!0,duration:null}).catch(()=>j(!0)),Mt=async kt=>st(async()=>{const Ct=await executeOperations({...tt,estimates:ht.watch("executeParams")},kt);return a==="batch"&&it(tt.sender),await ut(jsxRuntimeExports.jsx(SuccessStep,{hash:Ct.opHash})),Ct});return{fee:totalFee(ht.watch("executeParams")),estimationFailed:$,operations:tt,isLoading:ot,form:ht,signer:et(Et),reEstimate:St,onSign:Mt}},useMakeFormOperations=_=>{const a=useGetOwnedAccount(),$=useGetBestSignerForAccount();return j=>{const et=a(j.sender);return makeAccountOperations(et,$(et),[_(j)])}},getSmallestUnit=_=>(_<0&&(console.warn("Decimals cannot be negative"),_=0),`${_===0?"":"0."+lodashExports.repeat("0",_-1)}1`),makeValidateDecimals=_=>a=>a.includes(".")&&a.split(".")[1].length>_?`Please enter a value with up to ${_} decimal places`:!0,AdvancedSettingsAccordion=({index:_=0})=>{var it,ot,st,ct;const{register:a,getValues:$,setValue:j,formState:{errors:et}}=useFormContext(),[tt,rt]=reactExports.useState(mutezToTez($().executeParams[_].fee).toFixed()),nt=ut=>{const ht=ut.target.value;makeValidateDecimals(TEZ_DECIMALS)(ht)===!0&&(rt(ht),ht&&j(`executeParams.${_}.fee`,tezToMutez(ht).toNumber()))};return jsxRuntimeExports.jsx(Accordion,{marginTop:"16px",allowToggle:!0,children:jsxRuntimeExports.jsxs(AccordionItem,{background:colors.gray[800],border:"none",borderRadius:"8px",children:[jsxRuntimeExports.jsxs(AccordionButton,{children:[jsxRuntimeExports.jsx(Heading,{flex:"1",textAlign:"left",marginY:"10px",size:"md",children:"Advanced"}),jsxRuntimeExports.jsx(AccordionIcon,{})]}),jsxRuntimeExports.jsxs(AccordionPanel,{gap:"16px",display:"flex",children:[jsxRuntimeExports.jsxs(FormControl,{children:[jsxRuntimeExports.jsx(FormLabel,{fontSize:"14px",children:"Fee"}),jsxRuntimeExports.jsxs(InputGroup,{children:[jsxRuntimeExports.jsx(Input,{paddingRight:"28px",fontSize:"14px",onBlur:()=>rt(mutezToTez($().executeParams[_].fee).toFixed()),onChange:nt,placeholder:"0.000000",step:getSmallestUnit(TEZ_DECIMALS),type:"number",value:tt}),jsxRuntimeExports.jsx(InputRightElement,{width:"44px",maxWidth:"fit-content",height:"46px",paddingRight:"12px",children:"ꜩ"})]})]}),jsxRuntimeExports.jsxs(FormControl,{isInvalid:!!((ot=(it=et.executeParams)==null?void 0:it[_])!=null&&ot.gasLimit),children:[jsxRuntimeExports.jsx(FormLabel,{fontSize:"14px",children:"Gas Limit"}),jsxRuntimeExports.jsx(Input,{...a(`executeParams.${_}.gasLimit`,{valueAsNumber:!0,required:!0}),placeholder:"0",type:"number"})]}),jsxRuntimeExports.jsxs(FormControl,{isInvalid:!!((ct=(st=et.executeParams)==null?void 0:st[_])!=null&&ct.storageLimit),children:[jsxRuntimeExports.jsx(FormLabel,{fontSize:"14px",children:"Storage Limit"}),jsxRuntimeExports.jsx(Input,{...a(`executeParams.${_}.storageLimit`,{valueAsNumber:!0,required:!0}),placeholder:"0",type:"number"})]})]})]})})},TezTile=({mutezAmount:_})=>jsxRuntimeExports.jsxs(Flex,{alignItems:"center",height:"60px",padding:"15px",background:colors.gray[800],borderRadius:"4px",children:[jsxRuntimeExports.jsx(TezIcon,{marginRight:"12px"}),jsxRuntimeExports.jsx(Flex,{alignItems:"end",children:jsxRuntimeExports.jsx(PrettyNumber,{number:prettyTezAmount(_)})})]}),ContractCallSignPage=({operation:_,message:a})=>{const{amount:$,contract:j,entrypoint:et,args:tt}=_.operations[0],{isSigning:rt,onSign:nt,network:it,fee:ot,form:st}=useSignWithBeacon(_,a);return jsxRuntimeExports.jsx(FormProvider,{...st,children:jsxRuntimeExports.jsx(ModalContent,{children:jsxRuntimeExports.jsxs("form",{children:[jsxRuntimeExports.jsx(Header$1,{message:a,mode:"single",operation:_}),jsxRuntimeExports.jsxs(ModalBody,{children:[jsxRuntimeExports.jsx(TezTile,{mutezAmount:$}),jsxRuntimeExports.jsx(Flex,{alignItems:"center",justifyContent:"end",marginTop:"12px",children:jsxRuntimeExports.jsx(SignPageFee,{fee:ot})}),jsxRuntimeExports.jsx(FormLabel,{marginTop:"24px",children:"From "}),jsxRuntimeExports.jsx(AddressTile,{address:_.sender.address}),jsxRuntimeExports.jsx(FormLabel,{marginTop:"24px",children:"To "}),jsxRuntimeExports.jsx(AddressTile,{address:j}),jsxRuntimeExports.jsx(FormLabel,{marginTop:"24px",children:"Contract Call Parameter"}),jsxRuntimeExports.jsx(Accordion,{allowToggle:!0,children:jsxRuntimeExports.jsxs(AccordionItem,{background:colors.gray[800],border:"none",borderRadius:"8px",children:[jsxRuntimeExports.jsxs(AccordionButton,{children:[jsxRuntimeExports.jsx(Box,{flex:"1",textAlign:"left",children:"JSON"}),jsxRuntimeExports.jsx(AccordionIcon,{})]}),jsxRuntimeExports.jsx(AccordionPanel,{children:jsxRuntimeExports.jsx(JsValueWrap,{value:{entrypoint:et,values:tt}})})]})}),jsxRuntimeExports.jsx(AdvancedSettingsAccordion,{})]}),jsxRuntimeExports.jsx(ModalFooter,{padding:"16px 0 0 0",children:jsxRuntimeExports.jsx(SignButton,{isLoading:rt,network:it,onSubmit:nt,signer:_.signer,text:headerText(_.type,"single")})})]})})})},DelegationSignPage=({operation:_,message:a})=>{const{recipient:$}=_.operations[0],{isSigning:j,onSign:et,network:tt,fee:rt,form:nt}=useSignWithBeacon(_,a);return jsxRuntimeExports.jsx(FormProvider,{...nt,children:jsxRuntimeExports.jsx(ModalContent,{children:jsxRuntimeExports.jsxs("form",{children:[jsxRuntimeExports.jsx(Header$1,{message:a,mode:"single",operation:_}),jsxRuntimeExports.jsxs(ModalBody,{children:[jsxRuntimeExports.jsx(FormLabel,{children:"From"}),jsxRuntimeExports.jsx(AddressTile,{address:_.signer.address}),jsxRuntimeExports.jsx(Flex,{alignItems:"center",justifyContent:"end",marginTop:"12px",marginBottom:"24px",paddingX:"4px",children:jsxRuntimeExports.jsx(Flex,{alignItems:"center",children:jsxRuntimeExports.jsx(SignPageFee,{fee:rt})})}),jsxRuntimeExports.jsx(FormLabel,{children:"To"}),jsxRuntimeExports.jsx(AddressTile,{address:$}),jsxRuntimeExports.jsx(AdvancedSettingsAccordion,{})]}),jsxRuntimeExports.jsx(ModalFooter,{children:jsxRuntimeExports.jsx(SignButton,{isLoading:j,network:tt,onSubmit:et,signer:_.signer,text:headerText(_.type,"single")})})]})})})},OriginationOperationSignPage=({operation:_,message:a})=>{const{isSigning:$,onSign:j,network:et,form:tt,fee:rt}=useSignWithBeacon(_,a),{code:nt,storage:it}=_.operations[0];return jsxRuntimeExports.jsx(FormProvider,{...tt,children:jsxRuntimeExports.jsx(ModalContent,{children:jsxRuntimeExports.jsxs("form",{children:[jsxRuntimeExports.jsxs(ModalHeader,{marginBottom:"24px",children:[jsxRuntimeExports.jsx(Flex,{alignItems:"center",justifyContent:"center",children:"Operation Request"}),jsxRuntimeExports.jsxs(Flex,{alignItems:"center",justifyContent:"center",marginTop:"10px",children:[jsxRuntimeExports.jsx(Heading,{marginRight:"4px",color:colors.gray[450],size:"sm",children:"Network:"}),jsxRuntimeExports.jsx(Text,{color:colors.gray[400],size:"sm",children:lodashExports.capitalize(a.network.type)})]})]}),jsxRuntimeExports.jsx(ModalCloseButton,{}),jsxRuntimeExports.jsxs(ModalBody,{"data-testid":"beacon-request-body",children:[jsxRuntimeExports.jsxs(Flex,{alignItems:"center",marginTop:"16px",padding:"15px",borderRadius:"4px",backgroundColor:colors.gray[800],children:[jsxRuntimeExports.jsx(AspectRatio,{width:"60px",marginRight:"12px",ratio:1,children:jsxRuntimeExports.jsx(Image$1,{borderRadius:"4px",src:a.appMetadata.icon})}),jsxRuntimeExports.jsx(Heading,{size:"sm",children:a.appMetadata.name})]}),jsxRuntimeExports.jsx(Flex,{alignItems:"center",justifyContent:"end",marginTop:"12px",children:jsxRuntimeExports.jsx(SignPageFee,{fee:rt})}),jsxRuntimeExports.jsx(Accordion,{marginTop:"16px",allowToggle:!0,children:jsxRuntimeExports.jsxs(AccordionItem,{background:colors.gray[800],border:"none",borderRadius:"8px",children:[jsxRuntimeExports.jsxs(AccordionButton,{children:[jsxRuntimeExports.jsx(Heading,{flex:"1",textAlign:"left",marginY:"10px",size:"md",children:"Code"}),jsxRuntimeExports.jsx(AccordionIcon,{})]}),jsxRuntimeExports.jsx(AccordionPanel,{overflowY:"auto",maxHeight:"300px",children:jsxRuntimeExports.jsx(JsValueWrap,{value:nt})})]})}),jsxRuntimeExports.jsx(Accordion,{marginTop:"16px",allowToggle:!0,children:jsxRuntimeExports.jsxs(AccordionItem,{background:colors.gray[800],border:"none",borderRadius:"8px",children:[jsxRuntimeExports.jsxs(AccordionButton,{children:[jsxRuntimeExports.jsx(Heading,{flex:"1",textAlign:"left",marginY:"10px",size:"md",children:"Storage"}),jsxRuntimeExports.jsx(AccordionIcon,{})]}),jsxRuntimeExports.jsx(AccordionPanel,{overflowY:"auto",maxHeight:"300px",children:jsxRuntimeExports.jsx(JsValueWrap,{value:it})})]})}),jsxRuntimeExports.jsx(AdvancedSettingsAccordion,{})]}),jsxRuntimeExports.jsx(ModalFooter,{padding:"16px 0 0 0",children:jsxRuntimeExports.jsx(SignButton,{isLoading:$,network:et,onSubmit:j,signer:_.signer,text:headerText(_.type,"single")})})]})})})},TezSignPage=({operation:_,message:a})=>{const{amount:$,recipient:j}=_.operations[0],{isSigning:et,onSign:tt,network:rt,fee:nt,form:it}=useSignWithBeacon(_,a);return jsxRuntimeExports.jsx(FormProvider,{...it,children:jsxRuntimeExports.jsx(ModalContent,{children:jsxRuntimeExports.jsxs("form",{children:[jsxRuntimeExports.jsx(Header$1,{message:a,mode:"single",operation:_}),jsxRuntimeExports.jsxs(ModalBody,{children:[jsxRuntimeExports.jsx(TezTile,{mutezAmount:$}),jsxRuntimeExports.jsx(Flex,{alignItems:"center",justifyContent:"end",marginTop:"12px",children:jsxRuntimeExports.jsx(SignPageFee,{fee:nt})}),jsxRuntimeExports.jsx(FormLabel,{marginTop:"24px",children:"From "}),jsxRuntimeExports.jsx(AddressTile,{address:_.sender.address}),jsxRuntimeExports.jsx(FormLabel,{marginTop:"24px",children:"To "}),jsxRuntimeExports.jsx(AddressTile,{address:j}),jsxRuntimeExports.jsx(AdvancedSettingsAccordion,{})]}),jsxRuntimeExports.jsx(ModalFooter,{children:jsxRuntimeExports.jsx(SignButton,{isLoading:et,network:rt,onSubmit:tt,signer:_.signer,text:headerText(_.type,"single")})})]})})})},UndelegationSignPage=({operation:_,message:a})=>{const{isSigning:$,onSign:j,network:et,form:tt,fee:rt}=useSignWithBeacon(_,a);return jsxRuntimeExports.jsx(FormProvider,{...tt,children:jsxRuntimeExports.jsx(ModalContent,{children:jsxRuntimeExports.jsxs("form",{children:[jsxRuntimeExports.jsx(Header$1,{message:a,mode:"single",operation:_}),jsxRuntimeExports.jsxs(ModalBody,{children:[jsxRuntimeExports.jsx(FormLabel,{children:"From"}),jsxRuntimeExports.jsx(AddressTile,{address:_.signer.address}),jsxRuntimeExports.jsx(Flex,{alignItems:"center",justifyContent:"end",marginTop:"12px",paddingX:"4px",children:jsxRuntimeExports.jsx(SignPageFee,{fee:rt})}),jsxRuntimeExports.jsx(AdvancedSettingsAccordion,{})]}),jsxRuntimeExports.jsx(ModalFooter,{children:jsxRuntimeExports.jsx(SignButton,{isLoading:$,network:et,onSubmit:j,signer:_.signer,text:headerText(_.type,"single")})})]})})})},BeaconSignPage=({operation:_,message:a})=>{switch(_.operations[0].type){case"tez":return jsxRuntimeExports.jsx(TezSignPage,{message:a,operation:_});case"contract_call":return jsxRuntimeExports.jsx(ContractCallSignPage,{message:a,operation:_});case"delegation":return jsxRuntimeExports.jsx(DelegationSignPage,{message:a,operation:_});case"undelegation":return jsxRuntimeExports.jsx(UndelegationSignPage,{message:a,operation:_});case"contract_origination":return jsxRuntimeExports.jsx(OriginationOperationSignPage,{message:a,operation:_});case"fa1.2":case"fa2":throw new Error("Unsupported operation type")}},useHandleBeaconMessage=()=>{const{openWith:_}=reactExports.useContext(DynamicModalContext),{handleAsyncAction:a}=useAsyncActionHandler(),$=useGetOwnedAccountSafe(),j=useFindNetwork(),et=({id:tt,network:rt})=>{const nt=j(rt.type);if(!nt)throw WalletClient.respond({id:tt,type:BeaconMessageType.Error,errorType:BeaconErrorType.NETWORK_NOT_SUPPORTED}),new Error(`Got Beacon request from an unknown network: ${JSON.stringify(rt)}. Please add it to the networks list and retry.`);return nt};return tt=>{a(async()=>{let rt;switch(tt.type){case BeaconMessageType.PermissionRequest:{et(tt),rt=jsxRuntimeExports.jsx(PermissionRequestModal,{request:tt});break}case BeaconMessageType.SignPayloadRequest:{rt=jsxRuntimeExports.jsx(SignPayloadRequestModal,{request:tt});break}case BeaconMessageType.OperationRequest:{const nt=et(tt),it=$(tt.sourceAddress);if(!it)throw WalletClient.respond({id:tt.id,type:BeaconMessageType.Error,errorType:BeaconErrorType.NO_PRIVATE_KEY_FOUND_ERROR}),new Error(`Unknown account: ${tt.sourceAddress}`);const ot=toAccountOperations(tt.operationDetails,it),st=await estimate(ot,nt);ot.operations.length===1?rt=jsxRuntimeExports.jsx(BeaconSignPage,{message:tt,operation:st}):rt=jsxRuntimeExports.jsx(BatchSignPage,{message:tt,operation:st});break}default:throw WalletClient.respond({id:tt.id,type:BeaconMessageType.Error,errorType:BeaconErrorType.UNKNOWN_ERROR}),new Error(`Unknown Beacon message type: ${tt.type}`)}return _(rt)},rt=>({description:`Error while processing Beacon request: ${rt.message}`}))}},toAccountOperations=(_,a)=>{if(_.length===0)throw new Error("Empty operation details!");const $=_.map(j=>partialOperationToOperation(j,a));return{type:"implicit",sender:a,operations:$,signer:a}},partialOperationToOperation=(_,a)=>{switch(_.kind){case TezosOperationType.TRANSACTION:{const{destination:$,amount:j,parameters:et}=_;return et?{type:"contract_call",amount:j,contract:parsePkh($),entrypoint:et.entrypoint,args:et.value}:{type:"tez",amount:j,recipient:parseImplicitPkh(_.destination)}}case TezosOperationType.DELEGATION:{const{delegate:$}=_;return $?{type:"delegation",sender:a.address,recipient:parseImplicitPkh($)}:{type:"undelegation",sender:a.address}}case TezosOperationType.ORIGINATION:{const{script:$}=_,{code:j,storage:et}=$;return{type:"contract_origination",sender:a.address,code:j,storage:et}}default:throw new Error(`Unsupported operation kind: ${_.kind}`)}},BeaconProvider=({children:_})=>{const a=useToast(),$=useHandleBeaconMessage();return reactExports.useEffect(()=>{WalletClient.init().then(()=>WalletClient.connect($)).catch(j=>{a({status:j,description:`Failed to connect to Beacon: ${j.message}`})})}),_};function toDate(_){const a=Object.prototype.toString.call(_);return _ instanceof Date||typeof _=="object"&&a==="[object Date]"?new _.constructor(+_):typeof _=="number"||a==="[object Number]"||typeof _=="string"||a==="[object String]"?new Date(_):new Date(NaN)}function constructFrom(_,a){return _ instanceof Date?new _.constructor(a):new Date(a)}const millisecondsInWeek=6048e5,millisecondsInDay=864e5,millisecondsInMinute=6e4,millisecondsInHour=36e5,millisecondsInSecond=1e3,minutesInMonth=43200,minutesInDay=1440;let defaultOptions={};function getDefaultOptions(){return defaultOptions}function startOfWeek(_,a){var nt,it,ot,st;const $=getDefaultOptions(),j=(a==null?void 0:a.weekStartsOn)??((it=(nt=a==null?void 0:a.locale)==null?void 0:nt.options)==null?void 0:it.weekStartsOn)??$.weekStartsOn??((st=(ot=$.locale)==null?void 0:ot.options)==null?void 0:st.weekStartsOn)??0,et=toDate(_),tt=et.getDay(),rt=(tt<j?7:0)+tt-j;return et.setDate(et.getDate()-rt),et.setHours(0,0,0,0),et}function startOfISOWeek(_){return startOfWeek(_,{weekStartsOn:1})}function getISOWeekYear(_){const a=toDate(_),$=a.getFullYear(),j=constructFrom(_,0);j.setFullYear($+1,0,4),j.setHours(0,0,0,0);const et=startOfISOWeek(j),tt=constructFrom(_,0);tt.setFullYear($,0,4),tt.setHours(0,0,0,0);const rt=startOfISOWeek(tt);return a.getTime()>=et.getTime()?$+1:a.getTime()>=rt.getTime()?$:$-1}function startOfDay(_){const a=toDate(_);return a.setHours(0,0,0,0),a}function getTimezoneOffsetInMilliseconds(_){const a=toDate(_),$=new Date(Date.UTC(a.getFullYear(),a.getMonth(),a.getDate(),a.getHours(),a.getMinutes(),a.getSeconds(),a.getMilliseconds()));return $.setUTCFullYear(a.getFullYear()),+_-+$}function differenceInCalendarDays(_,a){const $=startOfDay(_),j=startOfDay(a),et=+$-getTimezoneOffsetInMilliseconds($),tt=+j-getTimezoneOffsetInMilliseconds(j);return Math.round((et-tt)/millisecondsInDay)}function startOfISOWeekYear(_){const a=getISOWeekYear(_),$=constructFrom(_,0);return $.setFullYear(a,0,4),$.setHours(0,0,0,0),startOfISOWeek($)}function compareAsc(_,a){const $=toDate(_),j=toDate(a),et=$.getTime()-j.getTime();return et<0?-1:et>0?1:et}function isDate(_){return _ instanceof Date||typeof _=="object"&&Object.prototype.toString.call(_)==="[object Date]"}function isValid(_){if(!isDate(_)&&typeof _!="number")return!1;const a=toDate(_);return!isNaN(Number(a))}function differenceInCalendarMonths(_,a){const $=toDate(_),j=toDate(a),et=$.getFullYear()-j.getFullYear(),tt=$.getMonth()-j.getMonth();return et*12+tt}function differenceInDays(_,a){const $=toDate(_),j=toDate(a),et=compareLocalAsc($,j),tt=Math.abs(differenceInCalendarDays($,j));$.setDate($.getDate()-et*tt);const rt=+(compareLocalAsc($,j)===-et),nt=et*(tt-rt);return nt===0?0:nt}function compareLocalAsc(_,a){const $=_.getFullYear()-a.getFullYear()||_.getMonth()-a.getMonth()||_.getDate()-a.getDate()||_.getHours()-a.getHours()||_.getMinutes()-a.getMinutes()||_.getSeconds()-a.getSeconds()||_.getMilliseconds()-a.getMilliseconds();return $<0?-1:$>0?1:$}function getRoundingMethod(_){return a=>{const j=(_?Math[_]:Math.trunc)(a);return j===0?0:j}}function differenceInMilliseconds(_,a){return+toDate(_)-+toDate(a)}function differenceInMinutes(_,a,$){const j=differenceInMilliseconds(_,a)/millisecondsInMinute;return getRoundingMethod($==null?void 0:$.roundingMethod)(j)}function endOfDay(_){const a=toDate(_);return a.setHours(23,59,59,999),a}function endOfMonth(_){const a=toDate(_),$=a.getMonth();return a.setFullYear(a.getFullYear(),$+1,0),a.setHours(23,59,59,999),a}function isLastDayOfMonth(_){const a=toDate(_);return+endOfDay(a)==+endOfMonth(a)}function differenceInMonths(_,a){const $=toDate(_),j=toDate(a),et=compareAsc($,j),tt=Math.abs(differenceInCalendarMonths($,j));let rt;if(tt<1)rt=0;else{$.getMonth()===1&&$.getDate()>27&&$.setDate(30),$.setMonth($.getMonth()-et*tt);let nt=compareAsc($,j)===-et;isLastDayOfMonth(toDate(_))&&tt===1&&compareAsc(_,j)===1&&(nt=!1),rt=et*(tt-Number(nt))}return rt===0?0:rt}function differenceInSeconds(_,a,$){const j=differenceInMilliseconds(_,a)/1e3;return getRoundingMethod($==null?void 0:$.roundingMethod)(j)}function startOfYear(_){const a=toDate(_),$=constructFrom(_,0);return $.setFullYear(a.getFullYear(),0,1),$.setHours(0,0,0,0),$}const formatDistanceLocale={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},formatDistance$1=(_,a,$)=>{let j;const et=formatDistanceLocale[_];return typeof et=="string"?j=et:a===1?j=et.one:j=et.other.replace("{{count}}",a.toString()),$!=null&&$.addSuffix?$.comparison&&$.comparison>0?"in "+j:j+" ago":j};function buildFormatLongFn(_){return(a={})=>{const $=a.width?String(a.width):_.defaultWidth;return _.formats[$]||_.formats[_.defaultWidth]}}const dateFormats={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},timeFormats={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},dateTimeFormats={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},formatLong={date:buildFormatLongFn({formats:dateFormats,defaultWidth:"full"}),time:buildFormatLongFn({formats:timeFormats,defaultWidth:"full"}),dateTime:buildFormatLongFn({formats:dateTimeFormats,defaultWidth:"full"})},formatRelativeLocale={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},formatRelative$1=(_,a,$,j)=>formatRelativeLocale[_];function buildLocalizeFn(_){return(a,$)=>{const j=$!=null&&$.context?String($.context):"standalone";let et;if(j==="formatting"&&_.formattingValues){const rt=_.defaultFormattingWidth||_.defaultWidth,nt=$!=null&&$.width?String($.width):rt;et=_.formattingValues[nt]||_.formattingValues[rt]}else{const rt=_.defaultWidth,nt=$!=null&&$.width?String($.width):_.defaultWidth;et=_.values[nt]||_.values[rt]}const tt=_.argumentCallback?_.argumentCallback(a):a;return et[tt]}}const eraValues={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},quarterValues={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},monthValues={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},dayValues={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},dayPeriodValues={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},formattingDayPeriodValues={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},ordinalNumber=(_,a)=>{const $=Number(_),j=$%100;if(j>20||j<10)switch(j%10){case 1:return $+"st";case 2:return $+"nd";case 3:return $+"rd"}return $+"th"},localize={ordinalNumber,era:buildLocalizeFn({values:eraValues,defaultWidth:"wide"}),quarter:buildLocalizeFn({values:quarterValues,defaultWidth:"wide",argumentCallback:_=>_-1}),month:buildLocalizeFn({values:monthValues,defaultWidth:"wide"}),day:buildLocalizeFn({values:dayValues,defaultWidth:"wide"}),dayPeriod:buildLocalizeFn({values:dayPeriodValues,defaultWidth:"wide",formattingValues:formattingDayPeriodValues,defaultFormattingWidth:"wide"})};function buildMatchFn(_){return(a,$={})=>{const j=$.width,et=j&&_.matchPatterns[j]||_.matchPatterns[_.defaultMatchWidth],tt=a.match(et);if(!tt)return null;const rt=tt[0],nt=j&&_.parsePatterns[j]||_.parsePatterns[_.defaultParseWidth],it=Array.isArray(nt)?findIndex(nt,ct=>ct.test(rt)):findKey(nt,ct=>ct.test(rt));let ot;ot=_.valueCallback?_.valueCallback(it):it,ot=$.valueCallback?$.valueCallback(ot):ot;const st=a.slice(rt.length);return{value:ot,rest:st}}}function findKey(_,a){for(const $ in _)if(Object.prototype.hasOwnProperty.call(_,$)&&a(_[$]))return $}function findIndex(_,a){for(let $=0;$<_.length;$++)if(a(_[$]))return $}function buildMatchPatternFn(_){return(a,$={})=>{const j=a.match(_.matchPattern);if(!j)return null;const et=j[0],tt=a.match(_.parsePattern);if(!tt)return null;let rt=_.valueCallback?_.valueCallback(tt[0]):tt[0];rt=$.valueCallback?$.valueCallback(rt):rt;const nt=a.slice(et.length);return{value:rt,rest:nt}}}const matchOrdinalNumberPattern=/^(\d+)(th|st|nd|rd)?/i,parseOrdinalNumberPattern=/\d+/i,matchEraPatterns={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},parseEraPatterns={any:[/^b/i,/^(a|c)/i]},matchQuarterPatterns={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},parseQuarterPatterns={any:[/1/i,/2/i,/3/i,/4/i]},matchMonthPatterns={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},parseMonthPatterns={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},matchDayPatterns={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},parseDayPatterns={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},matchDayPeriodPatterns={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},parseDayPeriodPatterns={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},match={ordinalNumber:buildMatchPatternFn({matchPattern:matchOrdinalNumberPattern,parsePattern:parseOrdinalNumberPattern,valueCallback:_=>parseInt(_,10)}),era:buildMatchFn({matchPatterns:matchEraPatterns,defaultMatchWidth:"wide",parsePatterns:parseEraPatterns,defaultParseWidth:"any"}),quarter:buildMatchFn({matchPatterns:matchQuarterPatterns,defaultMatchWidth:"wide",parsePatterns:parseQuarterPatterns,defaultParseWidth:"any",valueCallback:_=>_+1}),month:buildMatchFn({matchPatterns:matchMonthPatterns,defaultMatchWidth:"wide",parsePatterns:parseMonthPatterns,defaultParseWidth:"any"}),day:buildMatchFn({matchPatterns:matchDayPatterns,defaultMatchWidth:"wide",parsePatterns:parseDayPatterns,defaultParseWidth:"any"}),dayPeriod:buildMatchFn({matchPatterns:matchDayPeriodPatterns,defaultMatchWidth:"any",parsePatterns:parseDayPeriodPatterns,defaultParseWidth:"any"})},enUS={code:"en-US",formatDistance:formatDistance$1,formatLong,formatRelative:formatRelative$1,localize,match,options:{weekStartsOn:0,firstWeekContainsDate:1}};function getDayOfYear(_){const a=toDate(_);return differenceInCalendarDays(a,startOfYear(a))+1}function getISOWeek(_){const a=toDate(_),$=+startOfISOWeek(a)-+startOfISOWeekYear(a);return Math.round($/millisecondsInWeek)+1}function getWeekYear(_,a){var st,ct,ut,ht;const $=toDate(_),j=$.getFullYear(),et=getDefaultOptions(),tt=(a==null?void 0:a.firstWeekContainsDate)??((ct=(st=a==null?void 0:a.locale)==null?void 0:st.options)==null?void 0:ct.firstWeekContainsDate)??et.firstWeekContainsDate??((ht=(ut=et.locale)==null?void 0:ut.options)==null?void 0:ht.firstWeekContainsDate)??1,rt=constructFrom(_,0);rt.setFullYear(j+1,0,tt),rt.setHours(0,0,0,0);const nt=startOfWeek(rt,a),it=constructFrom(_,0);it.setFullYear(j,0,tt),it.setHours(0,0,0,0);const ot=startOfWeek(it,a);return $.getTime()>=nt.getTime()?j+1:$.getTime()>=ot.getTime()?j:j-1}function startOfWeekYear(_,a){var nt,it,ot,st;const $=getDefaultOptions(),j=(a==null?void 0:a.firstWeekContainsDate)??((it=(nt=a==null?void 0:a.locale)==null?void 0:nt.options)==null?void 0:it.firstWeekContainsDate)??$.firstWeekContainsDate??((st=(ot=$.locale)==null?void 0:ot.options)==null?void 0:st.firstWeekContainsDate)??1,et=getWeekYear(_,a),tt=constructFrom(_,0);return tt.setFullYear(et,0,j),tt.setHours(0,0,0,0),startOfWeek(tt,a)}function getWeek(_,a){const $=toDate(_),j=+startOfWeek($,a)-+startOfWeekYear($,a);return Math.round(j/millisecondsInWeek)+1}function addLeadingZeros(_,a){const $=_<0?"-":"",j=Math.abs(_).toString().padStart(a,"0");return $+j}const lightFormatters={y(_,a){const $=_.getFullYear(),j=$>0?$:1-$;return addLeadingZeros(a==="yy"?j%100:j,a.length)},M(_,a){const $=_.getMonth();return a==="M"?String($+1):addLeadingZeros($+1,2)},d(_,a){return addLeadingZeros(_.getDate(),a.length)},a(_,a){const $=_.getHours()/12>=1?"pm":"am";switch(a){case"a":case"aa":return $.toUpperCase();case"aaa":return $;case"aaaaa":return $[0];case"aaaa":default:return $==="am"?"a.m.":"p.m."}},h(_,a){return addLeadingZeros(_.getHours()%12||12,a.length)},H(_,a){return addLeadingZeros(_.getHours(),a.length)},m(_,a){return addLeadingZeros(_.getMinutes(),a.length)},s(_,a){return addLeadingZeros(_.getSeconds(),a.length)},S(_,a){const $=a.length,j=_.getMilliseconds(),et=Math.trunc(j*Math.pow(10,$-3));return addLeadingZeros(et,a.length)}},dayPeriodEnum={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},formatters={G:function(_,a,$){const j=_.getFullYear()>0?1:0;switch(a){case"G":case"GG":case"GGG":return $.era(j,{width:"abbreviated"});case"GGGGG":return $.era(j,{width:"narrow"});case"GGGG":default:return $.era(j,{width:"wide"})}},y:function(_,a,$){if(a==="yo"){const j=_.getFullYear(),et=j>0?j:1-j;return $.ordinalNumber(et,{unit:"year"})}return lightFormatters.y(_,a)},Y:function(_,a,$,j){const et=getWeekYear(_,j),tt=et>0?et:1-et;if(a==="YY"){const rt=tt%100;return addLeadingZeros(rt,2)}return a==="Yo"?$.ordinalNumber(tt,{unit:"year"}):addLeadingZeros(tt,a.length)},R:function(_,a){const $=getISOWeekYear(_);return addLeadingZeros($,a.length)},u:function(_,a){const $=_.getFullYear();return addLeadingZeros($,a.length)},Q:function(_,a,$){const j=Math.ceil((_.getMonth()+1)/3);switch(a){case"Q":return String(j);case"QQ":return addLeadingZeros(j,2);case"Qo":return $.ordinalNumber(j,{unit:"quarter"});case"QQQ":return $.quarter(j,{width:"abbreviated",context:"formatting"});case"QQQQQ":return $.quarter(j,{width:"narrow",context:"formatting"});case"QQQQ":default:return $.quarter(j,{width:"wide",context:"formatting"})}},q:function(_,a,$){const j=Math.ceil((_.getMonth()+1)/3);switch(a){case"q":return String(j);case"qq":return addLeadingZeros(j,2);case"qo":return $.ordinalNumber(j,{unit:"quarter"});case"qqq":return $.quarter(j,{width:"abbreviated",context:"standalone"});case"qqqqq":return $.quarter(j,{width:"narrow",context:"standalone"});case"qqqq":default:return $.quarter(j,{width:"wide",context:"standalone"})}},M:function(_,a,$){const j=_.getMonth();switch(a){case"M":case"MM":return lightFormatters.M(_,a);case"Mo":return $.ordinalNumber(j+1,{unit:"month"});case"MMM":return $.month(j,{width:"abbreviated",context:"formatting"});case"MMMMM":return $.month(j,{width:"narrow",context:"formatting"});case"MMMM":default:return $.month(j,{width:"wide",context:"formatting"})}},L:function(_,a,$){const j=_.getMonth();switch(a){case"L":return String(j+1);case"LL":return addLeadingZeros(j+1,2);case"Lo":return $.ordinalNumber(j+1,{unit:"month"});case"LLL":return $.month(j,{width:"abbreviated",context:"standalone"});case"LLLLL":return $.month(j,{width:"narrow",context:"standalone"});case"LLLL":default:return $.month(j,{width:"wide",context:"standalone"})}},w:function(_,a,$,j){const et=getWeek(_,j);return a==="wo"?$.ordinalNumber(et,{unit:"week"}):addLeadingZeros(et,a.length)},I:function(_,a,$){const j=getISOWeek(_);return a==="Io"?$.ordinalNumber(j,{unit:"week"}):addLeadingZeros(j,a.length)},d:function(_,a,$){return a==="do"?$.ordinalNumber(_.getDate(),{unit:"date"}):lightFormatters.d(_,a)},D:function(_,a,$){const j=getDayOfYear(_);return a==="Do"?$.ordinalNumber(j,{unit:"dayOfYear"}):addLeadingZeros(j,a.length)},E:function(_,a,$){const j=_.getDay();switch(a){case"E":case"EE":case"EEE":return $.day(j,{width:"abbreviated",context:"formatting"});case"EEEEE":return $.day(j,{width:"narrow",context:"formatting"});case"EEEEEE":return $.day(j,{width:"short",context:"formatting"});case"EEEE":default:return $.day(j,{width:"wide",context:"formatting"})}},e:function(_,a,$,j){const et=_.getDay(),tt=(et-j.weekStartsOn+8)%7||7;switch(a){case"e":return String(tt);case"ee":return addLeadingZeros(tt,2);case"eo":return $.ordinalNumber(tt,{unit:"day"});case"eee":return $.day(et,{width:"abbreviated",context:"formatting"});case"eeeee":return $.day(et,{width:"narrow",context:"formatting"});case"eeeeee":return $.day(et,{width:"short",context:"formatting"});case"eeee":default:return $.day(et,{width:"wide",context:"formatting"})}},c:function(_,a,$,j){const et=_.getDay(),tt=(et-j.weekStartsOn+8)%7||7;switch(a){case"c":return String(tt);case"cc":return addLeadingZeros(tt,a.length);case"co":return $.ordinalNumber(tt,{unit:"day"});case"ccc":return $.day(et,{width:"abbreviated",context:"standalone"});case"ccccc":return $.day(et,{width:"narrow",context:"standalone"});case"cccccc":return $.day(et,{width:"short",context:"standalone"});case"cccc":default:return $.day(et,{width:"wide",context:"standalone"})}},i:function(_,a,$){const j=_.getDay(),et=j===0?7:j;switch(a){case"i":return String(et);case"ii":return addLeadingZeros(et,a.length);case"io":return $.ordinalNumber(et,{unit:"day"});case"iii":return $.day(j,{width:"abbreviated",context:"formatting"});case"iiiii":return $.day(j,{width:"narrow",context:"formatting"});case"iiiiii":return $.day(j,{width:"short",context:"formatting"});case"iiii":default:return $.day(j,{width:"wide",context:"formatting"})}},a:function(_,a,$){const et=_.getHours()/12>=1?"pm":"am";switch(a){case"a":case"aa":return $.dayPeriod(et,{width:"abbreviated",context:"formatting"});case"aaa":return $.dayPeriod(et,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return $.dayPeriod(et,{width:"narrow",context:"formatting"});case"aaaa":default:return $.dayPeriod(et,{width:"wide",context:"formatting"})}},b:function(_,a,$){const j=_.getHours();let et;switch(j===12?et=dayPeriodEnum.noon:j===0?et=dayPeriodEnum.midnight:et=j/12>=1?"pm":"am",a){case"b":case"bb":return $.dayPeriod(et,{width:"abbreviated",context:"formatting"});case"bbb":return $.dayPeriod(et,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return $.dayPeriod(et,{width:"narrow",context:"formatting"});case"bbbb":default:return $.dayPeriod(et,{width:"wide",context:"formatting"})}},B:function(_,a,$){const j=_.getHours();let et;switch(j>=17?et=dayPeriodEnum.evening:j>=12?et=dayPeriodEnum.afternoon:j>=4?et=dayPeriodEnum.morning:et=dayPeriodEnum.night,a){case"B":case"BB":case"BBB":return $.dayPeriod(et,{width:"abbreviated",context:"formatting"});case"BBBBB":return $.dayPeriod(et,{width:"narrow",context:"formatting"});case"BBBB":default:return $.dayPeriod(et,{width:"wide",context:"formatting"})}},h:function(_,a,$){if(a==="ho"){let j=_.getHours()%12;return j===0&&(j=12),$.ordinalNumber(j,{unit:"hour"})}return lightFormatters.h(_,a)},H:function(_,a,$){return a==="Ho"?$.ordinalNumber(_.getHours(),{unit:"hour"}):lightFormatters.H(_,a)},K:function(_,a,$){const j=_.getHours()%12;return a==="Ko"?$.ordinalNumber(j,{unit:"hour"}):addLeadingZeros(j,a.length)},k:function(_,a,$){let j=_.getHours();return j===0&&(j=24),a==="ko"?$.ordinalNumber(j,{unit:"hour"}):addLeadingZeros(j,a.length)},m:function(_,a,$){return a==="mo"?$.ordinalNumber(_.getMinutes(),{unit:"minute"}):lightFormatters.m(_,a)},s:function(_,a,$){return a==="so"?$.ordinalNumber(_.getSeconds(),{unit:"second"}):lightFormatters.s(_,a)},S:function(_,a){return lightFormatters.S(_,a)},X:function(_,a,$){const j=_.getTimezoneOffset();if(j===0)return"Z";switch(a){case"X":return formatTimezoneWithOptionalMinutes(j);case"XXXX":case"XX":return formatTimezone(j);case"XXXXX":case"XXX":default:return formatTimezone(j,":")}},x:function(_,a,$){const j=_.getTimezoneOffset();switch(a){case"x":return formatTimezoneWithOptionalMinutes(j);case"xxxx":case"xx":return formatTimezone(j);case"xxxxx":case"xxx":default:return formatTimezone(j,":")}},O:function(_,a,$){const j=_.getTimezoneOffset();switch(a){case"O":case"OO":case"OOO":return"GMT"+formatTimezoneShort(j,":");case"OOOO":default:return"GMT"+formatTimezone(j,":")}},z:function(_,a,$){const j=_.getTimezoneOffset();switch(a){case"z":case"zz":case"zzz":return"GMT"+formatTimezoneShort(j,":");case"zzzz":default:return"GMT"+formatTimezone(j,":")}},t:function(_,a,$){const j=Math.trunc(_.getTime()/1e3);return addLeadingZeros(j,a.length)},T:function(_,a,$){const j=_.getTime();return addLeadingZeros(j,a.length)}};function formatTimezoneShort(_,a=""){const $=_>0?"-":"+",j=Math.abs(_),et=Math.trunc(j/60),tt=j%60;return tt===0?$+String(et):$+String(et)+a+addLeadingZeros(tt,2)}function formatTimezoneWithOptionalMinutes(_,a){return _%60===0?(_>0?"-":"+")+addLeadingZeros(Math.abs(_)/60,2):formatTimezone(_,a)}function formatTimezone(_,a=""){const $=_>0?"-":"+",j=Math.abs(_),et=addLeadingZeros(Math.trunc(j/60),2),tt=addLeadingZeros(j%60,2);return $+et+a+tt}const dateLongFormatter=(_,a)=>{switch(_){case"P":return a.date({width:"short"});case"PP":return a.date({width:"medium"});case"PPP":return a.date({width:"long"});case"PPPP":default:return a.date({width:"full"})}},timeLongFormatter=(_,a)=>{switch(_){case"p":return a.time({width:"short"});case"pp":return a.time({width:"medium"});case"ppp":return a.time({width:"long"});case"pppp":default:return a.time({width:"full"})}},dateTimeLongFormatter=(_,a)=>{const $=_.match(/(P+)(p+)?/)||[],j=$[1],et=$[2];if(!et)return dateLongFormatter(_,a);let tt;switch(j){case"P":tt=a.dateTime({width:"short"});break;case"PP":tt=a.dateTime({width:"medium"});break;case"PPP":tt=a.dateTime({width:"long"});break;case"PPPP":default:tt=a.dateTime({width:"full"});break}return tt.replace("{{date}}",dateLongFormatter(j,a)).replace("{{time}}",timeLongFormatter(et,a))},longFormatters={p:timeLongFormatter,P:dateTimeLongFormatter},dayOfYearTokenRE=/^D+$/,weekYearTokenRE=/^Y+$/,throwTokens=["D","DD","YY","YYYY"];function isProtectedDayOfYearToken(_){return dayOfYearTokenRE.test(_)}function isProtectedWeekYearToken(_){return weekYearTokenRE.test(_)}function warnOrThrowProtectedError(_,a,$){const j=message(_,a,$);if(console.warn(j),throwTokens.includes(_))throw new RangeError(j)}function message(_,a,$){const j=_[0]==="Y"?"years":"days of the month";return`Use \`${_.toLowerCase()}\` instead of \`${_}\` (in \`${a}\`) for formatting ${j} to the input \`${$}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const formattingTokensRegExp=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,longFormattingTokensRegExp=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,escapedStringRegExp=/^'([^]*?)'?$/,doubleQuoteRegExp=/''/g,unescapedLatinCharacterRegExp=/[a-zA-Z]/;function format(_,a,$){var st,ct,ut,ht,Et,St,Mt,kt;const j=getDefaultOptions(),et=($==null?void 0:$.locale)??j.locale??enUS,tt=($==null?void 0:$.firstWeekContainsDate)??((ct=(st=$==null?void 0:$.locale)==null?void 0:st.options)==null?void 0:ct.firstWeekContainsDate)??j.firstWeekContainsDate??((ht=(ut=j.locale)==null?void 0:ut.options)==null?void 0:ht.firstWeekContainsDate)??1,rt=($==null?void 0:$.weekStartsOn)??((St=(Et=$==null?void 0:$.locale)==null?void 0:Et.options)==null?void 0:St.weekStartsOn)??j.weekStartsOn??((kt=(Mt=j.locale)==null?void 0:Mt.options)==null?void 0:kt.weekStartsOn)??0,nt=toDate(_);if(!isValid(nt))throw new RangeError("Invalid time value");let it=a.match(longFormattingTokensRegExp).map(Ct=>{const Ot=Ct[0];if(Ot==="p"||Ot==="P"){const zt=longFormatters[Ot];return zt(Ct,et.formatLong)}return Ct}).join("").match(formattingTokensRegExp).map(Ct=>{if(Ct==="''")return{isToken:!1,value:"'"};const Ot=Ct[0];if(Ot==="'")return{isToken:!1,value:cleanEscapedString(Ct)};if(formatters[Ot])return{isToken:!0,value:Ct};if(Ot.match(unescapedLatinCharacterRegExp))throw new RangeError("Format string contains an unescaped latin alphabet character `"+Ot+"`");return{isToken:!1,value:Ct}});et.localize.preprocessor&&(it=et.localize.preprocessor(nt,it));const ot={firstWeekContainsDate:tt,weekStartsOn:rt,locale:et};return it.map(Ct=>{if(!Ct.isToken)return Ct.value;const Ot=Ct.value;(!($!=null&&$.useAdditionalWeekYearTokens)&&isProtectedWeekYearToken(Ot)||!($!=null&&$.useAdditionalDayOfYearTokens)&&isProtectedDayOfYearToken(Ot))&&warnOrThrowProtectedError(Ot,a,String(_));const zt=formatters[Ot[0]];return zt(nt,Ot,et.localize,ot)}).join("")}function cleanEscapedString(_){const a=_.match(escapedStringRegExp);return a?a[1].replace(doubleQuoteRegExp,"'"):_}function formatDistance(_,a,$){const j=getDefaultOptions(),et=($==null?void 0:$.locale)??j.locale??enUS,tt=2520,rt=compareAsc(_,a);if(isNaN(rt))throw new RangeError("Invalid time value");const nt=Object.assign({},$,{addSuffix:$==null?void 0:$.addSuffix,comparison:rt});let it,ot;rt>0?(it=toDate(a),ot=toDate(_)):(it=toDate(_),ot=toDate(a));const st=differenceInSeconds(ot,it),ct=(getTimezoneOffsetInMilliseconds(ot)-getTimezoneOffsetInMilliseconds(it))/1e3,ut=Math.round((st-ct)/60);let ht;if(ut<2)return $!=null&&$.includeSeconds?st<5?et.formatDistance("lessThanXSeconds",5,nt):st<10?et.formatDistance("lessThanXSeconds",10,nt):st<20?et.formatDistance("lessThanXSeconds",20,nt):st<40?et.formatDistance("halfAMinute",0,nt):st<60?et.formatDistance("lessThanXMinutes",1,nt):et.formatDistance("xMinutes",1,nt):ut===0?et.formatDistance("lessThanXMinutes",1,nt):et.formatDistance("xMinutes",ut,nt);if(ut<45)return et.formatDistance("xMinutes",ut,nt);if(ut<90)return et.formatDistance("aboutXHours",1,nt);if(ut<minutesInDay){const Et=Math.round(ut/60);return et.formatDistance("aboutXHours",Et,nt)}else{if(ut<tt)return et.formatDistance("xDays",1,nt);if(ut<minutesInMonth){const Et=Math.round(ut/minutesInDay);return et.formatDistance("xDays",Et,nt)}else if(ut<minutesInMonth*2)return ht=Math.round(ut/minutesInMonth),et.formatDistance("aboutXMonths",ht,nt)}if(ht=differenceInMonths(ot,it),ht<12){const Et=Math.round(ut/minutesInMonth);return et.formatDistance("xMonths",Et,nt)}else{const Et=ht%12,St=Math.trunc(ht/12);return Et<3?et.formatDistance("aboutXYears",St,nt):Et<9?et.formatDistance("overXYears",St,nt):et.formatDistance("almostXYears",St+1,nt)}}function formatRelative(_,a,$){var ct,ut;const j=toDate(_),et=toDate(a),tt=getDefaultOptions(),rt=tt.locale??enUS,nt=tt.weekStartsOn??((ut=(ct=tt.locale)==null?void 0:ct.options)==null?void 0:ut.weekStartsOn)??0,it=differenceInCalendarDays(j,et);if(isNaN(it))throw new RangeError("Invalid time value");let ot;it<-6?ot="other":it<-1?ot="lastWeek":it<0?ot="yesterday":it<1?ot="today":it<2?ot="tomorrow":it<7?ot="nextWeek":ot="other";const st=rt.formatRelative(ot,j,et,{locale:rt,weekStartsOn:nt});return format(j,st,{locale:rt,weekStartsOn:nt})}function fromUnixTime(_){return toDate(_*1e3)}function hoursToMilliseconds(_){return Math.trunc(_*millisecondsInHour)}function minutesToMilliseconds(_){return Math.trunc(_*millisecondsInMinute)}function secondsToMilliseconds(_){return _*millisecondsInSecond}const useReactQueryErrorHandler=()=>{const _=useAppDispatch(),a=useToast();return reactExports.useCallback(j=>{j&&(_(errorsSlice.actions.add(getErrorContext(j))),a({description:`Data fetching error: ${j.message}`,status:"error",isClosable:!0}))},[_,a])},BAKERS_REFRESH_RATE=hoursToMilliseconds(2),usePollBakers=()=>{const _=useAppDispatch(),a=useReactQueryErrorHandler(),$=useSelectedNetwork(),j=useQuery({queryKey:["bakers",_,$],queryFn:()=>getBakers($),retry:!1,refetchInterval:BAKERS_REFRESH_RATE,refetchIntervalInBackground:!0,refetchOnWindowFocus:!1}),et=j.data;return reactExports.useEffect(()=>{et&&_(assetsActions.updateBakers(et))},[_,et]),a(j.error),j},BLOCK_TIME=secondsToMilliseconds(15),usePollBlockLevel=()=>{const _=useAppDispatch(),a=useReactQueryErrorHandler(),$=useSelectedNetwork(),j=useQuery({queryKey:["blockLevel",_,$],queryFn:()=>getLatestBlockLevel($),retry:!1,refetchInterval:BLOCK_TIME,refetchIntervalInBackground:!0,refetchOnWindowFocus:!1}),et=j.data;return reactExports.useEffect(()=>{et&&_(assetsActions.updateBlockLevel(et))},[_,et]),a(j.error),j},CONVERSION_RATE_REFRESH_RATE=minutesToMilliseconds(5),usePollConversionRate=()=>{const _=useAppDispatch(),a=useReactQueryErrorHandler(),$=useQuery({queryKey:["conversionRate",_],queryFn:getTezosPriceInUSD,refetchInterval:CONVERSION_RATE_REFRESH_RATE,refetchIntervalInBackground:!0,refetchOnWindowFocus:!1}),j=$.data;return reactExports.useEffect(()=>{_(assetsActions.updateConversionRate(j))},[_,j]),a($.error),$},usePollMultisigs=()=>{const _=useAppDispatch(),a=useReactQueryErrorHandler(),$=useRefetchTrigger(),j=useSelectedNetwork(),et=useImplicitAccounts().map(nt=>nt.address.pkh),tt=useQuery({queryKey:["multisigs",j,et,$],queryFn:()=>getRelevantMultisigContracts(new Set(et),j),retry:!1,refetchInterval:BLOCK_TIME,refetchIntervalInBackground:!0,refetchOnWindowFocus:!1}),rt=tt.data;return reactExports.useEffect(()=>{rt&&_(multisigActions.setMultisigs(rt))},[rt,_]),a(tt.error),tt},usePollPendingOperations=()=>{const _=useAppDispatch(),a=useReactQueryErrorHandler(),$=useSelectedNetwork(),j=useRefetchTrigger(),et=useMultisigAccounts(),tt=useQuery({queryKey:["pendingOperations",$,et,j],queryFn:()=>getPendingOperationsForMultisigs(et,$),retry:!1,refetchInterval:BLOCK_TIME,select:nt=>nt.flat(),refetchIntervalInBackground:!0,refetchOnWindowFocus:!1}),rt=tt.data;return reactExports.useEffect(()=>{rt&&_(multisigActions.setPendingOperations(rt))},[_,rt]),a(tt.error),tt},usePollTezBalances=()=>{const _=useAppDispatch(),a=useReactQueryErrorHandler(),$=useSelectedNetwork(),j=useRefetchTrigger(),et=useAllAccounts().map(nt=>nt.address.pkh),tt=useQuery({queryKey:["accountInformation",$,et,j],queryFn:()=>getAccounts(et,$),retry:!1,refetchInterval:BLOCK_TIME,select:nt=>nt.flat(),refetchIntervalInBackground:!0,refetchOnWindowFocus:!1}),rt=tt.data;return reactExports.useEffect(()=>{rt&&_(assetsActions.updateTezBalance(rt))},[_,rt]),a(tt.error),tt},usePollTokenBalances=()=>{const _=useAppDispatch(),a=useReactQueryErrorHandler(),$=useSelectedNetwork(),j=useRefetchTrigger(),et=useAllAccounts().map(nt=>nt.address.pkh),tt=useQuery({queryKey:["tokenBalances",$,et,j],queryFn:()=>getTokenBalances(et,$),retry:!1,refetchInterval:BLOCK_TIME,select:nt=>nt.flat(),refetchIntervalInBackground:!0,refetchOnWindowFocus:!1}),rt=tt.data;return reactExports.useEffect(()=>{if(!rt)return;const nt=rt.map(({token:it,lastLevel:ot})=>({...it,lastLevel:ot}));_(tokensActions.addTokens({network:$,tokens:nt})),_(assetsActions.updateTokenBalance(rt))},[_,rt,$]),a(tt.error),tt},useDataPolling=()=>{const _=useAppDispatch(),{dataUpdatedAt:a,isFetching:$}=usePollMultisigs(),{dataUpdatedAt:j,isFetching:et}=usePollPendingOperations(),{dataUpdatedAt:tt,isFetching:rt}=usePollTezBalances(),{dataUpdatedAt:nt,isFetching:it}=usePollTokenBalances();usePollConversionRate(),usePollBlockLevel(),usePollBakers();const ot=$||et||rt||it,st=Math.max(a,j,tt,nt);reactExports.useEffect(()=>{_(assetsActions.setIsLoading(ot)),!ot&&st&&_(assetsActions.setLastTimeUpdated(fromUnixTime(Math.round(st/1e3)).toUTCString()))},[_,ot,st])},useDeeplinkHandler=()=>{const _=useToast(),a=useAddPeer(),$=reactExports.useRef(a),j=reactExports.useRef(_),et=(tt,rt)=>{const nt=rt.replace(":///","://");if(nt.startsWith("umami://auth/")){const it=parseTorusRedirectParams(nt);window.postMessage(it)}else if(nt.startsWith("umami://?type=tzip10&data=")){const ot=new URL(nt).searchParams.get("data");ot?$.current(ot):j.current({title:"Linkhandler",description:"Data Payload missing"})}else j.current({title:"Linkhandler",description:"Unsupported link type"})};reactExports.useEffect(()=>{const tt=window;return tt&&tt.electronAPI&&tt.electronAPI.onDeeplink(et),()=>{}},[])},TOAST_ID="TOAST_ID",CopyableAddress=({pkh:_,formatAddress:a=!0,copyable:$=!0,iconColor:j=colors.gray[600],...et})=>jsxRuntimeExports.jsx(CopyableText,{copyValue:$?_:void 0,displayText:a?formatPkh(_):_,iconColor:j,toastMessage:"Address copied to clipboard",...et}),CopyableText=({displayText:_,copyValue:a,toastMessage:$,iconColor:j,...et})=>{const tt=useToast(),rt=async()=>{a&&(await navigator.clipboard.writeText(a),!(!$||tt.isActive(TOAST_ID))&&tt({status:"success",description:$,id:TOAST_ID,isClosable:!0}))};return jsxRuntimeExports.jsxs(Flex,{alignItems:"center",...et,children:[jsxRuntimeExports.jsx(Text,{marginRight:"6px",color:colors.gray[400],size:"sm",children:_}),a&&jsxRuntimeExports.jsx(FileCopyIcon,{stroke:colors.gray[450],_hover:{stroke:colors.green},cursor:"pointer",onClick:()=>rt()})]})},UpsertContactModal=({contact:_})=>{const{handleAsyncAction:a}=useAsyncActionHandler(),$=useAppDispatch(),{isOpen:j,onClose:et}=reactExports.useContext(DynamicModalContext),tt=useAvailableNetworks(),rt=!!(_!=null&&_.pkh&&_.name),nt=async kt=>{isValidContractPkh(kt.pkh)?await a(async()=>{const Ct=await getNetworksForContracts(tt,[kt.pkh]);if(!Ct.has(kt.pkh))throw new Error(`Network not found for contract ${kt.pkh}`);$(contactsActions.upsert({...kt,network:Ct.get(kt.pkh)}))}):$(contactsActions.upsert({...kt,network:void 0})),et(),ut()},{handleSubmit:it,formState:{isValid:ot,errors:st},register:ct,reset:ut}=useForm({mode:"onBlur",defaultValues:_}),ht=({name:kt,pkh:Ct})=>{nt({name:kt.trim(),pkh:Ct})},Et=reactExports.useRef(ut);reactExports.useEffect(()=>{j&&Et.current(_)},[j,_]);const St=useValidateNewContactPkh(),Mt=useValidateName(_==null?void 0:_.name);return jsxRuntimeExports.jsx(ModalContent,{children:jsxRuntimeExports.jsxs("form",{onSubmit:it(ht),children:[jsxRuntimeExports.jsx(ModalHeader,{textAlign:"center",children:rt?"Edit Contact":"Add Contact"}),jsxRuntimeExports.jsx(ModalCloseButton,{}),jsxRuntimeExports.jsxs(ModalBody,{children:[jsxRuntimeExports.jsxs(FormControl,{isInvalid:!!st.name,marginY:5,children:[jsxRuntimeExports.jsx(FormLabel,{children:"Name"}),jsxRuntimeExports.jsx(Input,{type:"text",...ct("name",{required:"Name is required",validate:Mt}),placeholder:"Enter contact's name"}),st.name&&jsxRuntimeExports.jsx(FormErrorMessage,{"data-testid":"name-error",children:st.name.message})]}),jsxRuntimeExports.jsxs(FormControl,{isInvalid:!!st.pkh,marginY:5,children:[jsxRuntimeExports.jsx(FormLabel,{children:"Address"}),jsxRuntimeExports.jsx(Input,{type:"text",...ct("pkh",{required:"Address is required",validate:rt?()=>!0:St}),disabled:rt,placeholder:"Enter contact's tz address",variant:rt?"filled":void 0}),st.pkh&&jsxRuntimeExports.jsx(FormErrorMessage,{"data-testid":"address-error",children:st.pkh.message})]})]}),jsxRuntimeExports.jsx(ModalFooter,{padding:"16px 0 0 0",children:jsxRuntimeExports.jsx(Box,{width:"100%",children:jsxRuntimeExports.jsx(Button,{width:"100%",marginBottom:2,"data-testid":"confirmation-button",isDisabled:!ot,size:"lg",type:"submit",children:rt?"Update":"Add to Address Book"})})})]})})},DeleteContactModal=({contact:_})=>{const a=useAppDispatch(),{onClose:$}=reactExports.useContext(DynamicModalContext),j=()=>{a(contactsActions.remove(_.pkh)),$()};return jsxRuntimeExports.jsxs(ModalContent,{children:[jsxRuntimeExports.jsx(ModalHeader,{marginBottom:"10px",textAlign:"center",children:"Delete Contact"}),jsxRuntimeExports.jsx(ModalCloseButton,{}),jsxRuntimeExports.jsx(ModalBody,{children:jsxRuntimeExports.jsxs(Flex,{alignItems:"center",justifyContent:"space-between",flexDirection:"column",children:[jsxRuntimeExports.jsx(Text,{color:colors.gray[400],size:"sm",children:"Are you sure you want to delete this contact?"}),jsxRuntimeExports.jsxs(Box,{marginTop:5,children:[jsxRuntimeExports.jsx(Heading,{marginBottom:3,textAlign:"center",size:"md",children:_.name}),jsxRuntimeExports.jsx(CopyableAddress,{pkh:_.pkh})]})]})}),jsxRuntimeExports.jsx(ModalFooter,{children:jsxRuntimeExports.jsx(Box,{width:"100%",children:jsxRuntimeExports.jsx(Button,{width:"100%",marginBottom:2,onClick:j,variant:"warning",children:"Delete Contact"})})})]})},PopoverMenu=_=>{const{onOpen:a,onClose:$,isOpen:j}=useDisclosure$1();return jsxRuntimeExports.jsxs(Popover,{isOpen:j,onClose:$,onOpen:a,placement:"bottom-start",children:[jsxRuntimeExports.jsx(PopoverTrigger,{children:jsxRuntimeExports.jsx(Button,{minWidth:"24px",height:"24px",padding:"0",background:j?colors.green:colors.gray[500],border:"none",borderRadius:"full",_hover:{bg:j?colors.green:colors.gray[450]},"data-testid":"popover-cta",variant:"unstyled",children:jsxRuntimeExports.jsx(Center,{children:jsxRuntimeExports.jsx(ThreeDotsIcon,{})})})}),jsxRuntimeExports.jsx(PopoverContent,{width:"100px",background:colors.gray[700],children:jsxRuntimeExports.jsx(PopoverBody,{borderRadius:"lg",children:_.children})})]})},RenameRemoveMenu=({onRename:_,onRemove:a})=>jsxRuntimeExports.jsx(Flex,{alignItems:"center",children:jsxRuntimeExports.jsx(PopoverMenu,{children:jsxRuntimeExports.jsxs(Box,{paddingY:"0",children:[jsxRuntimeExports.jsx(Button,{height:a?"24px":"28px",onClick:_,variant:"popover",children:jsxRuntimeExports.jsxs(Flex,{alignItems:"center",children:[jsxRuntimeExports.jsx(Text,{marginRight:"4px",children:"Rename"}),jsxRuntimeExports.jsx(PenIcon,{stroke:"inherit"})]})}),a&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Divider,{marginY:"4px"}),jsxRuntimeExports.jsx(Button,{"data-testid":"popover-remove",onClick:a,variant:"popover",children:jsxRuntimeExports.jsxs(Flex,{alignItems:"center",children:[jsxRuntimeExports.jsx(Text,{marginRight:"4px",children:"Remove"}),jsxRuntimeExports.jsx(TrashIcon,{stroke:"inherit"})]})})]})]})})}),SendButton=({onClick:_,...a})=>jsxRuntimeExports.jsxs(Button,{width:"60px",onClick:_,variant:"specialCTA",...a,children:[jsxRuntimeExports.jsx(OutgoingArrow,{stroke:"currentcolor"}),jsxRuntimeExports.jsx(Text,{marginLeft:"4px",children:"Send"})]}),OperationSignerSelector=({sender:_,operationType:a,isLoading:$,reEstimate:j})=>{switch(a){case"proposal":return jsxRuntimeExports.jsx(FormControl,{marginTop:"24px","data-testid":"signer-selector",children:jsxRuntimeExports.jsx(AvailableSignersAutocomplete,{account:_,inputName:"signer",isLoading:$,keepValid:!0,label:"Select Proposer",onUpdate:j})});case"implicit":return null}},SignPage$6=_=>{const{mode:a,operations:$}=_,{fee:j,operations:et,estimationFailed:tt,isLoading:rt,form:nt,signer:it,reEstimate:ot,onSign:st}=useSignPageHelpers($,a),{amount:ct,recipient:ut}=et.operations[0];return jsxRuntimeExports.jsx(FormProvider,{...nt,children:jsxRuntimeExports.jsx(ModalContent,{children:jsxRuntimeExports.jsxs("form",{children:[jsxRuntimeExports.jsx(SignPageHeader,{..._,operationsType:et.type,signer:et.signer}),jsxRuntimeExports.jsxs(ModalBody,{children:[jsxRuntimeExports.jsx(TezTile,{mutezAmount:ct}),jsxRuntimeExports.jsx(Flex,{alignItems:"center",justifyContent:"end",marginTop:"12px",children:jsxRuntimeExports.jsx(SignPageFee,{fee:j})}),jsxRuntimeExports.jsx(FormLabel,{marginTop:"24px",children:"From "}),jsxRuntimeExports.jsx(AddressTile,{address:et.sender.address}),jsxRuntimeExports.jsx(FormLabel,{marginTop:"24px",children:"To "}),jsxRuntimeExports.jsx(AddressTile,{address:ut}),jsxRuntimeExports.jsx(OperationSignerSelector,{isLoading:rt,operationType:et.type,reEstimate:ot,sender:et.sender}),jsxRuntimeExports.jsx(AdvancedSettingsAccordion,{})]}),jsxRuntimeExports.jsx(ModalFooter,{children:jsxRuntimeExports.jsx(SignButton,{isDisabled:tt,isLoading:rt,onSubmit:st,signer:it,text:headerText(et.type,a)})})]})})})},estimateAndUpdateBatch=(_,a)=>async $=>{await estimate(_,a),$(batchesActions.add({operations:_,network:a}))},useOpenSignPageFormAction=({SignPage:_,signPageExtraData:a,FormPage:$,defaultFormPageProps:j,toOperation:et})=>{const{openWith:tt}=reactExports.useContext(DynamicModalContext),rt=useMakeFormOperations(et),nt=useSelectedNetwork();return async it=>{const ot=rt(it),st=await estimate(ot,nt);return tt(jsxRuntimeExports.jsx(_,{data:a,goBack:()=>tt(jsxRuntimeExports.jsx($,{...j,form:it})),mode:"single",operations:st}))}},useAddToBatchFormAction=_=>{const{onClose:a}=reactExports.useContext(DynamicModalContext),$=useSelectedNetwork(),j=useMakeFormOperations(_),et=useAppDispatch(),tt=useToast();return async nt=>{const it=j(nt);await et(estimateAndUpdateBatch(it,$)),tt({description:"Transaction added to batch!",status:"success"}),a()}},useHandleOnSubmitFormActions=_=>{const{handleAsyncAction:a,isLoading:$}=useAsyncActionHandler();return{onFormSubmitActionHandlers:_.map(et=>async tt=>a(()=>et(tt))),isLoading:$}},FormPage$4=({showPreview:_=!0,...a})=>{const $=useOpenSignPageFormAction({SignPage:SignPage$6,signPageExtraData:void 0,FormPage:FormPage$4,defaultFormPageProps:a,toOperation:toOperation$5}),j=useAddToBatchFormAction(toOperation$5),{onFormSubmitActionHandlers:[et,tt],isLoading:rt}=useHandleOnSubmitFormActions([$,j]),nt=useForm({mode:"onBlur",defaultValues:formDefaultValues(a)}),{formState:{isValid:it,errors:ot},register:st,handleSubmit:ct}=nt;return jsxRuntimeExports.jsx(FormProvider,{...nt,children:jsxRuntimeExports.jsx(ModalContent,{children:jsxRuntimeExports.jsxs("form",{children:[jsxRuntimeExports.jsx(FormPageHeader,{}),jsxRuntimeExports.jsxs(ModalBody,{children:[jsxRuntimeExports.jsxs(FormControl,{isInvalid:!!ot.prettyAmount,children:[jsxRuntimeExports.jsx(FormLabel,{children:"Amount"}),jsxRuntimeExports.jsxs(InputGroup,{children:[jsxRuntimeExports.jsx(Input,{isDisabled:rt,step:getSmallestUnit(TEZ_DECIMALS),type:"number",...st("prettyAmount",{required:"Amount is required",validate:makeValidateDecimals(TEZ_DECIMALS)}),placeholder:"0.000000"}),jsxRuntimeExports.jsx(InputRightElement,{children:TEZ})]}),ot.prettyAmount&&jsxRuntimeExports.jsx(FormErrorMessage,{"data-testid":"amount-error",children:ot.prettyAmount.message})]}),jsxRuntimeExports.jsxs(FormControl,{marginTop:"24px",isInvalid:!!ot.sender,children:[jsxRuntimeExports.jsx(OwnedAccountsAutocomplete,{allowUnknown:!1,inputName:"sender",isDisabled:!!a.sender,label:"From"}),ot.sender&&jsxRuntimeExports.jsx(FormErrorMessage,{"data-testid":"from-error",children:ot.sender.message})]}),jsxRuntimeExports.jsxs(FormControl,{marginTop:"24px",isInvalid:!!ot.recipient,children:[jsxRuntimeExports.jsx(KnownAccountsAutocomplete,{allowUnknown:!0,inputName:"recipient",label:"To"}),ot.recipient&&jsxRuntimeExports.jsx(FormErrorMessage,{"data-testid":"recipient-error",children:ot.recipient.message})]})]}),jsxRuntimeExports.jsx(ModalFooter,{children:jsxRuntimeExports.jsx(FormSubmitButtons,{isLoading:rt,isValid:it,onAddToBatch:ct(tt),onSingleSubmit:ct(et),showPreview:_})})]})})})},toOperation$5=_=>({type:"tez",amount:tezToMutez(_.prettyAmount).toFixed(),recipient:parsePkh(_.recipient)}),ContactTable=({contacts:_})=>{const{openWith:a}=reactExports.useContext(DynamicModalContext);return jsxRuntimeExports.jsx(Box,{overflow:"auto",background:colors.gray[900],borderRadius:"8px",paddingX:"30px",children:jsxRuntimeExports.jsx(TableContainer,{overflowX:"unset",overflowY:"unset",children:jsxRuntimeExports.jsx(Table,{children:jsxRuntimeExports.jsx(Tbody,{children:_.map(($,j)=>{const et=j===_.length-1?"transparent":colors.gray[700];return jsxRuntimeExports.jsxs(Tr,{"data-testid":"contact-row",children:[jsxRuntimeExports.jsx(Td,{borderColor:et,"data-testid":"contact-row-name",paddingX:"0",children:jsxRuntimeExports.jsxs(Flex,{alignItems:"center",children:[jsxRuntimeExports.jsx(Box,{width:"150px",marginRight:"40px",children:jsxRuntimeExports.jsx(Text,{overflow:"hidden",fontWeight:600,whiteSpace:"nowrap",textOverflow:"ellipsis",children:$.name})}),jsxRuntimeExports.jsx(CopyableAddress,{justifyContent:"space-between","data-testid":"contact-row-pkh",formatAddress:!1,iconColor:colors.gray[400],pkh:$.pkh})]})}),jsxRuntimeExports.jsx(Td,{borderColor:et,paddingX:"0",children:jsxRuntimeExports.jsxs(Flex,{justifyContent:"end",children:[jsxRuntimeExports.jsx(SendButton,{marginRight:"20px",onClick:()=>a(jsxRuntimeExports.jsx(FormPage$4,{form:{sender:"",recipient:$.pkh,prettyAmount:""}}))}),jsxRuntimeExports.jsx(RenameRemoveMenu,{onRemove:()=>a(jsxRuntimeExports.jsx(DeleteContactModal,{contact:$})),onRename:()=>a(jsxRuntimeExports.jsx(UpsertContactModal,{contact:$}))})]})})]},$.pkh)})})})})})},ExternalLink=({href:_,children:a,...$})=>jsxRuntimeExports.jsx(Link$1,{alignItems:"center",display:"flex",_hover:{textDecoration:"none"},href:_,rel:"noopener noreferrer",role:"link",target:"_blank",...$,children:a}),SIZES={md:{heading:"xl",description:"md",button:"md"},lg:{heading:"3xl",description:"xl",button:"lg"}},NoItems=({title:_,description:a,children:$,size:j})=>jsxRuntimeExports.jsx(Flex,{alignItems:"center",justifyContent:"center",width:"100%",height:"100%",children:jsxRuntimeExports.jsxs(Box,{padding:"30px","data-testid":"empty-state-message",children:[jsxRuntimeExports.jsx(Heading,{marginBottom:"10px",textAlign:"center",size:SIZES[j].heading,children:_}),jsxRuntimeExports.jsx(Text,{marginBottom:"30px",color:colors.gray[400],textAlign:"center",size:SIZES[j].description,children:a}),jsxRuntimeExports.jsx(Center,{children:$})]})}),NoOperations=({size:_})=>jsxRuntimeExports.jsx(NoItems,{description:"Your operations history will appear here...",size:_,title:"No operations to show"}),NoNFTs=({size:_})=>jsxRuntimeExports.jsx(NoItems,{description:"Your NFT collection will appear here...",size:_,title:"No NFTs to show",children:jsxRuntimeExports.jsx(ExternalLink,{"data-testid":"buy-nft-button",href:"https://objkt.com",children:jsxRuntimeExports.jsx(Button,{size:SIZES[_].button,children:"Buy your first NFT"})})}),NoTokens=({size:_})=>jsxRuntimeExports.jsx(NoItems,{description:"All of your tokens will appear here...",size:_,title:"No tokens to show"}),NoDelegations=({size:_="lg",onDelegate:a})=>jsxRuntimeExports.jsx(NoItems,{description:"Your delegation history will appear here...",size:_,title:"No delegations to show",children:jsxRuntimeExports.jsx(Button,{"data-testid":"delegation-empty-state-button",onClick:a,size:SIZES[_].button,children:"Delegate"})}),BuyTezForm=({recipient:_=""})=>{const a=useSelectedNetwork(),$=a.name==="mainnet",j=$?"Buy Tez":"Request Tez from faucet",et=useForm({mode:"onBlur",defaultValues:{address:_}}),{formState:{isValid:tt,errors:rt}}=et;let nt=a.buyTezUrl;return a.buyTezUrl&&$&&(nt+="/default/widget/"),jsxRuntimeExports.jsx(FormProvider,{...et,children:jsxRuntimeExports.jsx(ModalContent,{children:jsxRuntimeExports.jsxs("form",{action:nt,rel:"noreferrer noopener",target:"_blank",children:[jsxRuntimeExports.jsx(ModalCloseButton,{}),jsxRuntimeExports.jsx(ModalHeader,{marginBottom:"10px",textAlign:"center",children:"Buy Tez"}),$&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("input",{name:"commodity",type:"hidden",value:"XTZ:Tezos"}),jsxRuntimeExports.jsx(Text,{color:colors.gray[400],textAlign:"center",size:"sm",children:"Please select the recipient account."}),jsxRuntimeExports.jsx(ModalBody,{children:jsxRuntimeExports.jsxs(FormControl,{"data-testid":"buy-tez-selector",isInvalid:!!rt.address,paddingY:5,children:[jsxRuntimeExports.jsx(OwnedImplicitAccountsAutocomplete,{allowUnknown:!1,inputName:"address",isDisabled:!!_,label:"Recipient Account"}),rt.address&&jsxRuntimeExports.jsx(FormErrorMessage,{children:rt.address.message})]})})]}),jsxRuntimeExports.jsx(ModalFooter,{children:jsxRuntimeExports.jsx(Box,{width:"100%","data-testid":"buy-tez-button",children:jsxRuntimeExports.jsx(Button,{width:"100%",marginBottom:2,isDisabled:!tt,size:"lg",type:"submit",children:j})})})]})})})},CheckIcon=_=>jsxRuntimeExports.jsx(Icon,{width:"15px",height:"11px",fill:"none",stroke:"white",viewBox:"0 0 15 11",xmlns:"http://www.w3.org/2000/svg",..._,children:jsxRuntimeExports.jsx("path",{d:"M1.16602 5.98371L5.06345 9.85408L13.8327 1.14575",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.2"})}),UpdateButton=()=>{const _=useAppDispatch(),a=useIsLoading(),$=useLastTimeUpdated(),[j,et]=reactExports.useState(!1),[tt,rt]=reactExports.useState(!1),[nt]=useMediaQuery("(max-width: 1200px)");if(reactExports.useEffect(()=>{if(!$||differenceInSeconds(new Date,new Date($))>1)return;et(!0),rt(!0);const ct=setTimeout(()=>et(!1),2e3),ut=setTimeout(()=>rt(!1),3500);return()=>{clearTimeout(ct),clearTimeout(ut)}},[$]),nt||$===null)return null;const it=()=>{_(assetsActions.refetch())},ot=differenceInMinutes(new Date,new Date($))>=2,st={opacity:j?1:0,transition:"opacity 2s ease-in-out"};return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs(Text,{display:"inline",color:colors.gray[400],size:"sm",style:tt?st:void 0,children:[tt&&"Updated just now",ot&&`Updated ${formatDistance(new Date($),new Date)} ago`]}),jsxRuntimeExports.jsx(IconButton,{marginRight:"36px",marginLeft:"8px",_active:{color:"white",bg:colors.green},"aria-label":"refetch",backgroundColor:tt?colors.green:colors.gray[500],"data-testid":"refetch-button",icon:tt?jsxRuntimeExports.jsx(CheckIcon,{style:st}):jsxRuntimeExports.jsx(FetchingIcon,{color:"white"}),isLoading:a,onClick:it,variant:"circle_without_hover_color"})]})},TopBar=({title:_,subtitle:a})=>{const{openWith:$}=reactExports.useContext(DynamicModalContext);return jsxRuntimeExports.jsxs(Box,{children:[jsxRuntimeExports.jsxs(Flex,{alignItems:"center",justifyContent:"space-between",height:"88px",children:[jsxRuntimeExports.jsxs(Flex,{alignItems:"end",children:[jsxRuntimeExports.jsx(Heading,{marginRight:"6px",size:"xl",children:_}),jsxRuntimeExports.jsx(Text,{color:colors.gray[450],"data-testid":"nft-total-amount",size:"xs",children:a})]}),jsxRuntimeExports.jsxs(Box,{children:[jsxRuntimeExports.jsx(UpdateButton,{}),jsxRuntimeExports.jsx(Button,{onClick:()=>$(jsxRuntimeExports.jsx(BuyTezForm,{})),variant:"tertiary",children:"Buy Tez"}),jsxRuntimeExports.jsx(Button,{marginLeft:4,onClick:()=>$(jsxRuntimeExports.jsx(FormPage$4,{})),children:"Send"})]})]}),jsxRuntimeExports.jsx(Divider,{})]})},AddContact=()=>{const{openWith:_}=reactExports.useContext(DynamicModalContext);return jsxRuntimeExports.jsxs(Button,{alignItems:"center",justifyContent:"end",marginTop:"16px",marginBottom:"16px",cursor:"pointer",onClick:()=>_(jsxRuntimeExports.jsx(UpsertContactModal,{})),variant:"CTAWithIcon",children:[jsxRuntimeExports.jsx(AddContactIcon,{stroke:"currentcolor"}),jsxRuntimeExports.jsx(Text,{marginLeft:"4px",size:"sm",children:"Add contact"})]})},AddressBookView=()=>{const _=useSortedContacts();return jsxRuntimeExports.jsxs(Flex,{flexDirection:"column",height:"100%",children:[jsxRuntimeExports.jsx(TopBar,{title:"Address Book"}),jsxRuntimeExports.jsx(Flex,{flexDirection:"row-reverse",children:jsxRuntimeExports.jsx(AddContact,{})}),_.length>0?jsxRuntimeExports.jsx(ContactTable,{contacts:_}):jsxRuntimeExports.jsx(NoItems,{description:"Your contacts will appear here...",size:"lg",title:"Your address book is empty"})]})};var pluralize$1={exports:{}};(function(_,a){(function($,j){typeof commonjsRequire=="function"?_.exports=j():$.pluralize=j()})(commonjsGlobal,function(){var $=[],j=[],et={},tt={},rt={};function nt(St){return typeof St=="string"?new RegExp("^"+St+"$","i"):St}function it(St,Mt){return St===Mt?Mt:St===St.toLowerCase()?Mt.toLowerCase():St===St.toUpperCase()?Mt.toUpperCase():St[0]===St[0].toUpperCase()?Mt.charAt(0).toUpperCase()+Mt.substr(1).toLowerCase():Mt.toLowerCase()}function ot(St,Mt){return St.replace(/\$(\d{1,2})/g,function(kt,Ct){return Mt[Ct]||""})}function st(St,Mt){return St.replace(Mt[0],function(kt,Ct){var Ot=ot(Mt[1],arguments);return it(kt===""?St[Ct-1]:kt,Ot)})}function ct(St,Mt,kt){if(!St.length||et.hasOwnProperty(St))return Mt;for(var Ct=kt.length;Ct--;){var Ot=kt[Ct];if(Ot[0].test(Mt))return st(Mt,Ot)}return Mt}function ut(St,Mt,kt){return function(Ct){var Ot=Ct.toLowerCase();return Mt.hasOwnProperty(Ot)?it(Ct,Ot):St.hasOwnProperty(Ot)?it(Ct,St[Ot]):ct(Ot,Ct,kt)}}function ht(St,Mt,kt,Ct){return function(Ot){var zt=Ot.toLowerCase();return Mt.hasOwnProperty(zt)?!0:St.hasOwnProperty(zt)?!1:ct(zt,zt,kt)===zt}}function Et(St,Mt,kt){var Ct=Mt===1?Et.singular(St):Et.plural(St);return(kt?Mt+" ":"")+Ct}return Et.plural=ut(rt,tt,$),Et.isPlural=ht(rt,tt,$),Et.singular=ut(tt,rt,j),Et.isSingular=ht(tt,rt,j),Et.addPluralRule=function(St,Mt){$.push([nt(St),Mt])},Et.addSingularRule=function(St,Mt){j.push([nt(St),Mt])},Et.addUncountableRule=function(St){if(typeof St=="string"){et[St.toLowerCase()]=!0;return}Et.addPluralRule(St,"$0"),Et.addSingularRule(St,"$0")},Et.addIrregularRule=function(St,Mt){Mt=Mt.toLowerCase(),St=St.toLowerCase(),rt[St]=Mt,tt[Mt]=St},[["I","we"],["me","us"],["he","they"],["she","they"],["them","them"],["myself","ourselves"],["yourself","yourselves"],["itself","themselves"],["herself","themselves"],["himself","themselves"],["themself","themselves"],["is","are"],["was","were"],["has","have"],["this","these"],["that","those"],["echo","echoes"],["dingo","dingoes"],["volcano","volcanoes"],["tornado","tornadoes"],["torpedo","torpedoes"],["genus","genera"],["viscus","viscera"],["stigma","stigmata"],["stoma","stomata"],["dogma","dogmata"],["lemma","lemmata"],["schema","schemata"],["anathema","anathemata"],["ox","oxen"],["axe","axes"],["die","dice"],["yes","yeses"],["foot","feet"],["eave","eaves"],["goose","geese"],["tooth","teeth"],["quiz","quizzes"],["human","humans"],["proof","proofs"],["carve","carves"],["valve","valves"],["looey","looies"],["thief","thieves"],["groove","grooves"],["pickaxe","pickaxes"],["passerby","passersby"]].forEach(function(St){return Et.addIrregularRule(St[0],St[1])}),[[/s?$/i,"s"],[/[^\u0000-\u007F]$/i,"$0"],[/([^aeiou]ese)$/i,"$1"],[/(ax|test)is$/i,"$1es"],[/(alias|[^aou]us|t[lm]as|gas|ris)$/i,"$1es"],[/(e[mn]u)s?$/i,"$1s"],[/([^l]ias|[aeiou]las|[ejzr]as|[iu]am)$/i,"$1"],[/(alumn|syllab|vir|radi|nucle|fung|cact|stimul|termin|bacill|foc|uter|loc|strat)(?:us|i)$/i,"$1i"],[/(alumn|alg|vertebr)(?:a|ae)$/i,"$1ae"],[/(seraph|cherub)(?:im)?$/i,"$1im"],[/(her|at|gr)o$/i,"$1oes"],[/(agend|addend|millenni|dat|extrem|bacteri|desiderat|strat|candelabr|errat|ov|symposi|curricul|automat|quor)(?:a|um)$/i,"$1a"],[/(apheli|hyperbat|periheli|asyndet|noumen|phenomen|criteri|organ|prolegomen|hedr|automat)(?:a|on)$/i,"$1a"],[/sis$/i,"ses"],[/(?:(kni|wi|li)fe|(ar|l|ea|eo|oa|hoo)f)$/i,"$1$2ves"],[/([^aeiouy]|qu)y$/i,"$1ies"],[/([^ch][ieo][ln])ey$/i,"$1ies"],[/(x|ch|ss|sh|zz)$/i,"$1es"],[/(matr|cod|mur|sil|vert|ind|append)(?:ix|ex)$/i,"$1ices"],[/\b((?:tit)?m|l)(?:ice|ouse)$/i,"$1ice"],[/(pe)(?:rson|ople)$/i,"$1ople"],[/(child)(?:ren)?$/i,"$1ren"],[/eaux$/i,"$0"],[/m[ae]n$/i,"men"],["thou","you"]].forEach(function(St){return Et.addPluralRule(St[0],St[1])}),[[/s$/i,""],[/(ss)$/i,"$1"],[/(wi|kni|(?:after|half|high|low|mid|non|night|[^\w]|^)li)ves$/i,"$1fe"],[/(ar|(?:wo|[ae])l|[eo][ao])ves$/i,"$1f"],[/ies$/i,"y"],[/\b([pl]|zomb|(?:neck|cross)?t|coll|faer|food|gen|goon|group|lass|talk|goal|cut)ies$/i,"$1ie"],[/\b(mon|smil)ies$/i,"$1ey"],[/\b((?:tit)?m|l)ice$/i,"$1ouse"],[/(seraph|cherub)im$/i,"$1"],[/(x|ch|ss|sh|zz|tto|go|cho|alias|[^aou]us|t[lm]as|gas|(?:her|at|gr)o|[aeiou]ris)(?:es)?$/i,"$1"],[/(analy|diagno|parenthe|progno|synop|the|empha|cri|ne)(?:sis|ses)$/i,"$1sis"],[/(movie|twelve|abuse|e[mn]u)s$/i,"$1"],[/(test)(?:is|es)$/i,"$1is"],[/(alumn|syllab|vir|radi|nucle|fung|cact|stimul|termin|bacill|foc|uter|loc|strat)(?:us|i)$/i,"$1us"],[/(agend|addend|millenni|dat|extrem|bacteri|desiderat|strat|candelabr|errat|ov|symposi|curricul|quor)a$/i,"$1um"],[/(apheli|hyperbat|periheli|asyndet|noumen|phenomen|criteri|organ|prolegomen|hedr|automat)a$/i,"$1on"],[/(alumn|alg|vertebr)ae$/i,"$1a"],[/(cod|mur|sil|vert|ind)ices$/i,"$1ex"],[/(matr|append)ices$/i,"$1ix"],[/(pe)(rson|ople)$/i,"$1rson"],[/(child)ren$/i,"$1"],[/(eau)x?$/i,"$1"],[/men$/i,"man"]].forEach(function(St){return Et.addSingularRule(St[0],St[1])}),["adulthood","advice","agenda","aid","aircraft","alcohol","ammo","analytics","anime","athletics","audio","bison","blood","bream","buffalo","butter","carp","cash","chassis","chess","clothing","cod","commerce","cooperation","corps","debris","diabetes","digestion","elk","energy","equipment","excretion","expertise","firmware","flounder","fun","gallows","garbage","graffiti","hardware","headquarters","health","herpes","highjinks","homework","housework","information","jeans","justice","kudos","labour","literature","machinery","mackerel","mail","media","mews","moose","music","mud","manga","news","only","personnel","pike","plankton","pliers","police","pollution","premises","rain","research","rice","salmon","scissors","series","sewage","shambles","shrimp","software","species","staff","swine","tennis","traffic","transportation","trout","tuna","wealth","welfare","whiting","wildebeest","wildlife","you",/pok[eé]mon$/i,/[^aeiou]ese$/i,/deer$/i,/fish$/i,/measles$/i,/o[iu]s$/i,/pox$/i,/sheep$/i].forEach(Et.addUncountableRule),Et})})(pluralize$1);var pluralizeExports=pluralize$1.exports;const pluralize=getDefaultExportFromCjs$1(pluralizeExports),AccountSmallTile=({account:_,...a})=>{const $=useGetAccountBalance()(_.address.pkh);return jsxRuntimeExports.jsxs(Flex,{alignItems:"space-between",cursor:"pointer","data-testid":"account-small-tile",...a,children:[jsxRuntimeExports.jsx(AccountTileIcon,{account:_,size:"sm"}),jsxRuntimeExports.jsxs(Flex,{alignSelf:"center",height:"20px",marginLeft:"12px",children:[jsxRuntimeExports.jsx(Heading,{marginRight:"10px","data-testid":"account-small-tile-label",size:"sm",children:_.label}),jsxRuntimeExports.jsx(Text,{marginRight:"35px",color:colors.gray[300],"data-testid":"account-small-tile-pkh",size:"xs",children:formatPkh(_.address.pkh)}),$&&jsxRuntimeExports.jsx(Heading,{"data-testid":"account-small-tile-balance",size:"sm",children:prettyTezAmount($)})]})]})},OperationEstimationStatus=({estimationResult:_})=>{if(!_)return null;const a=lodashExports.get(_,"metadata.operation_result.status");if(!a)return null;let $,j,et;switch(a){case"applied":case"backtracked":j=colors.green,et="Estimated",$=jsxRuntimeExports.jsx(CheckmarkIcon,{height:"14.5px"});break;case"failed":j=colors.orange,et="Failed",$=jsxRuntimeExports.jsx(WarningIcon,{width:"12px",height:"13px",stroke:"currentcolor",marginX:"3px"});break;case"skipped":j=colors.orangeL,et="Not Estimated",$=jsxRuntimeExports.jsx(ExclamationIcon,{stroke:"currentcolor",marginX:"3px"})}return jsxRuntimeExports.jsx(Flex,{marginTop:"8px",color:j,"data-testid":"estimation-status",children:jsxRuntimeExports.jsxs(Center,{children:[$,jsxRuntimeExports.jsx(Text,{marginLeft:"4px",size:"xs",children:et})]})})},LeftIcon=({addressKind:{type:_},...a})=>{switch(_){case"multisig":return jsxRuntimeExports.jsx(KeyIcon,{"data-testid":`${_}-icon`,...a});case"fa1.2":return jsxRuntimeExports.jsx(FA12Icon,{"data-testid":`${_}-icon`,...a,fill:a.stroke,stroke:"none"});case"fa2":return jsxRuntimeExports.jsx(FA2Icon,{"data-testid":`${_}-icon`,...a,fill:a.stroke,stroke:"none"});case"baker":return jsxRuntimeExports.jsx(BakerIcon,{"data-testid":`${_}-icon`,...a});case"contact":return jsxRuntimeExports.jsx(ContactIcon,{"data-testid":`${_}-icon`,...a});case"unknown":case"implicit":return null}},RightIcon=({addressKind:{type:_,pkh:a},addressPillMode:$,...j})=>{const et=useAddressExistsInContacts(),{openWith:tt}=reactExports.useContext(DynamicModalContext);return $.type==="removable"?jsxRuntimeExports.jsx(XMark,{cursor:"pointer",onClick:$.onRemove,...j}):["implicit","multisig","baker"].includes(_)||et(a)?null:jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsx(AddContactIcon,{"data-testid":"add-contact-icon",onClick:()=>tt(jsxRuntimeExports.jsx(UpsertContactModal,{contact:{name:"",pkh:a}})),...j})})},AddressPillText=({addressKind:{pkh:_,label:a},showPkh:$,alias:j,...et})=>{const tt=useGetContactName(),rt=formatPkh(_),nt=tt(_)||a||j;return $?jsxRuntimeExports.jsx(Text,{...et,children:rt}):jsxRuntimeExports.jsx(Text,{...et,children:nt?truncate(nt,21):rt})},useAddressKind=_=>{const a=useOwnedAccountAddressKind(_),$=useTokenAddressKind(_),j=useBakerAddressKind(_),et=useContactAddressKind(_);return a||$||j||et||{pkh:_.pkh,type:"unknown",label:null}},useOwnedAccountAddressKind=_=>{const a=useOwnedAccountAddressKind$1(_);if(!a)return null;const{pkh:$,label:j}=a;return{type:a.type==="multisig"?"multisig":"implicit",pkh:$,label:j}},useTokenAddressKind=({pkh:_})=>{const a=useSelectedNetwork(),j=useGetTokenType(a)(_);if(!j)return null;switch(j){case"fa1.2":return{pkh:_,type:"fa1.2",label:null};case"fa2":case"nft":return{pkh:_,type:"fa2",label:null}}},AddressPill=({address:_,mode:a={type:"default"},...$})=>{const j=!("pkh"in _&&"type"in _),et=j?parsePkh(_.address):_,tt=useAddressKind(et),rt=a.type!=="no_icons",{onOpen:nt,onClose:it,isOpen:ot}=useDisclosure$1(),[st,ct]=reactExports.useState(!1),ut=async()=>{await navigator.clipboard.writeText(et.pkh),nt(),setTimeout(it,1e3)},ht=reactExports.useRef(null);useOutsideClick$1({ref:ht,handler:()=>{ct(!1)}});let Et,St,Mt;return ot?(Et=colors.green,St=colors.gray[300],Mt="white"):st?(Et=colors.gray[450],St=colors.gray[400],Mt=colors.gray[200]):(Et=colors.gray[500],St=colors.gray[450],Mt=colors.gray[300]),jsxRuntimeExports.jsx(Box,{maxWidth:"max-content","data-testid":"address-pill",...$,children:jsxRuntimeExports.jsxs(Flex,{ref:ht,alignItems:"center",background:Et,borderRadius:"full",onMouseEnter:()=>{ct(!0)},onMouseLeave:()=>{ct(!1)},paddingX:"4px",children:[rt&&jsxRuntimeExports.jsx(LeftIcon,{marginLeft:"4px",stroke:St,addressKind:tt,"data-testid":"address-pill-left-icon"}),jsxRuntimeExports.jsxs(Popover,{autoFocus:!1,isOpen:ot,onOpen:ut,children:[jsxRuntimeExports.jsx(PopoverTrigger,{children:jsxRuntimeExports.jsx(Button,{height:"24px",_focus:{boxShadow:"none"},onClick:kt=>kt.stopPropagation(),variant:"unstyled",children:jsxRuntimeExports.jsx(AddressPillText,{color:Mt,cursor:"pointer",addressKind:tt,alias:j&&_.alias?_.alias:void 0,"data-testid":"address-pill-text",marginX:"4px",showPkh:!rt,size:"sm"})})}),jsxRuntimeExports.jsxs(PopoverContent,{maxWidth:"max-content",background:"white",children:[jsxRuntimeExports.jsx(PopoverArrow,{background:"white !important"}),jsxRuntimeExports.jsx(PopoverBody,{children:jsxRuntimeExports.jsx(Text,{color:"black",size:"sm",children:"Copied!"})})]})]}),rt&&jsxRuntimeExports.jsx(RightIcon,{marginRight:"4px",stroke:colors.gray[300],cursor:"pointer",addressKind:tt,addressPillMode:a,"data-testid":"address-pill-right-icon"})]})})},OperationRecipient=({operation:_})=>{let a;switch(_.type){case"undelegation":case"contract_origination":a=void 0;break;case"tez":case"fa1.2":case"fa2":case"delegation":a=_.recipient;break;case"contract_call":a=_.contract;break}return a?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Text,{marginRight:"6px",color:colors.gray[450],children:"To:"}),jsxRuntimeExports.jsx(AddressPill,{address:a,"data-testid":"recipient"})]}):jsxRuntimeExports.jsx(Text,{color:colors.gray[500],"data-testid":"recipient",children:"N/A"})},tokenTitle=(_,a)=>{if(!_)return`${a} Unknown Token`;const $=tokenName(_),j=tokenPrettyAmount(a,_,{showSymbol:!1}),et=$?void 0:tokenSymbol(_);return lodashExports.compact([j,et,$]).join(" ")},getIPFSurl=_=>_==null?void 0:_.replace("ipfs://","https://ipfs.io/ipfs/"),sortedByLastUpdate=_=>lodashExports.orderBy(_,["lastLevel","id","owner"],["desc"]),OperationView=({operation:_})=>{const a=useGetToken(),$=useSelectedNetwork();switch(_.type){case"tez":return jsxRuntimeExports.jsxs(Flex,{children:[jsxRuntimeExports.jsx(OutgoingArrow,{marginRight:"8px"}),jsxRuntimeExports.jsx(Heading,{size:"sm",children:prettyTezAmount(_.amount)})]});case"fa1.2":case"fa2":{const j=a(_.contract.pkh,_.tokenId);return(j==null?void 0:j.type)==="nft"?jsxRuntimeExports.jsxs(Flex,{children:[jsxRuntimeExports.jsx(OutgoingArrow,{marginRight:"8px"}),Number(_.amount)>1&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs(Heading,{color:colors.gray[450],size:"sm",children:["x",_.amount]})," "]}),jsxRuntimeExports.jsx(Heading,{size:"sm",children:jsxRuntimeExports.jsx(Tooltip,{padding:"8px",background:colors.gray[700],border:"1px solid",borderColor:colors.gray[500],borderRadius:"8px",label:jsxRuntimeExports.jsx(AspectRatio,{width:"170px",height:"170px",ratio:1,children:jsxRuntimeExports.jsx(Image$1,{src:getIPFSurl(thumbnailUri(j))})}),openDelay:300,children:jsxRuntimeExports.jsx(Link$1,{"data-testid":"link",href:tokenUri(j,$),children:tokenNameSafe(j)})})})]}):jsxRuntimeExports.jsxs(Flex,{children:[jsxRuntimeExports.jsx(OutgoingArrow,{marginRight:"8px"}),jsxRuntimeExports.jsx(Heading,{size:"sm",children:jsxRuntimeExports.jsx(Link$1,{"data-testid":"link",href:j?tokenUri(j,$):void 0,children:tokenTitle(j,_.amount)})})]})}case"delegation":return jsxRuntimeExports.jsxs(Flex,{children:[jsxRuntimeExports.jsx(BakerIcon,{marginRight:"8px"}),jsxRuntimeExports.jsx(Heading,{size:"sm",children:"Delegate"})]});case"undelegation":return jsxRuntimeExports.jsxs(Flex,{children:[jsxRuntimeExports.jsx(BakerIcon,{marginRight:"8px"}),jsxRuntimeExports.jsx(Heading,{size:"sm",children:"End Delegation"})]});case"contract_origination":case"contract_call":throw new Error(`${_.type} is not supported yet`)}},SelectedAccountContext=reactExports.createContext({selectedAccount:null,selectAccount:()=>{}}),AccountTileBase=({icon:_,leftElement:a,rightElement:$,...j})=>jsxRuntimeExports.jsxs(Flex,{alignItems:"center",height:"90px",marginBottom:"16px",padding:"16px",border:`1px solid ${colors.gray[800]}`,borderRadius:"16px","data-testid":"account-tile-base",...j,children:[_,jsxRuntimeExports.jsxs(Flex,{alignItems:"center",justifyContent:"space-between",flex:1,children:[a,$]})]}),LabelAndAddress=({label:_,pkh:a})=>jsxRuntimeExports.jsxs(Box,{margin:4,"data-testid":"account-identifier",children:[_&&jsxRuntimeExports.jsx(Heading,{size:"md",children:_}),jsxRuntimeExports.jsx(Flex,{alignItems:"center",children:jsxRuntimeExports.jsx(Text,{color:"text.dark","data-testid":"short-address",size:"sm",children:formatPkh(a)})})]}),MAX_NFT_COUNT=7,accountIconGradientColor=_=>{switch(_.type){case"mnemonic":case"secret_key":return color(_.address.pkh);case"ledger":case"multisig":return colors.gray[450];case"social":switch(_.idp){case"facebook":return"#1977F2";case"google":case"reddit":return"#EA4335";case"email":case"twitter":return colors.gray[450]}}},accountIconGradient=({account:_,radius:a,left:$="0px",top:j="0px",mainBackgroundColor:et=colors.gray[900],opacity:tt="60"})=>{let rt=accountIconGradientColor(_);return rt+=tt,`radial-gradient(circle farthest-side at ${$} ${j}, ${rt} 0%, ${rt} ${parseInt(a)/4}px, transparent ${a}), ${et}`},AccountTile=({account:_,balance:a})=>{const{selectedAccount:$,selectAccount:j}=reactExports.useContext(SelectedAccountContext),et=($==null?void 0:$.address.pkh)===_.address.pkh,tt=useAddressKind$1(_.address),{address:{pkh:rt}}=_,nt=!!useAppSelector(st=>st.assets.delegationLevels)[rt],it=useGetAccountNFTs(),ot=sortedByLastUpdate(it(rt));return jsxRuntimeExports.jsxs(Box,{zIndex:2,background:accountIconGradient({left:"-10px",top:"-10px",account:_,radius:ot.length>0?"120px":"100px"}),borderWidth:"1px",borderStyle:"solid",borderColor:et?colors.orangeL:colors.gray[900],borderRadius:"8px",_hover:{borderColor:et?colors.orangeL:colors.gray[700]},cursor:"pointer","data-testid":"account-tile-container",onClick:()=>j(_),paddingX:"21px",children:[jsxRuntimeExports.jsx(AccountTileBase,{align:"bottom",marginBottom:0,padding:0,border:"none","data-testid":`account-tile-${rt}`+(et?"-selected":""),icon:jsxRuntimeExports.jsx(AccountTileIcon,{account:_,size:"lg"}),leftElement:jsxRuntimeExports.jsx(LabelAndAddress,{label:tt.label,pkh:rt}),rightElement:jsxRuntimeExports.jsxs(Flex,{flexDirection:"column",children:[a&&jsxRuntimeExports.jsx(Heading,{alignSelf:"flex-end","data-testid":"balance",size:"md",children:prettyTezAmount(a)}),jsxRuntimeExports.jsx(Text,{align:"right",color:colors.gray[450],fontWeight:700,"data-testid":"is-delegated",size:"sm",children:nt?"Delegated":jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:" "})})]})}),ot.length>0&&jsxRuntimeExports.jsxs(Flex,{flexDirection:"column","data-testid":"nfts-list",children:[jsxRuntimeExports.jsx(Divider,{}),jsxRuntimeExports.jsx(Flex,{marginY:"21px",children:ot.slice(0,MAX_NFT_COUNT).map((st,ct)=>{const ut=getIPFSurl(thumbnailUri(st));return ct===MAX_NFT_COUNT-1?jsxRuntimeExports.jsx(Link,{"data-testid":"show-more-nfts-link",to:`/nfts?accounts=${rt}`,children:jsxRuntimeExports.jsx(Box,{height:"32px",marginLeft:"4px",background:colors.gray[600],borderRadius:"4px",children:jsxRuntimeExports.jsx(Text,{align:"center",width:"32px",color:colors.gray[450],fontWeight:700,children:"..."})})},"last"):jsxRuntimeExports.jsx(Link,{"data-testid":"nft-link",to:`/home/${rt}/${fullId(st)}`,children:jsxRuntimeExports.jsx(AspectRatio,{width:"32px",height:"32px",marginLeft:ct>0?"4px":0,ratio:1,children:jsxRuntimeExports.jsx(Image$1,{borderRadius:"4px",src:ut})})},fullId(st))})})]})]})},ConfirmationModal=({title:_,description:a,buttonLabel:$,onSubmit:j})=>{const{onClose:et}=reactExports.useContext(DynamicModalContext),tt=()=>{j(),et()};return jsxRuntimeExports.jsxs(ModalContent,{children:[jsxRuntimeExports.jsxs(ModalHeader,{marginBottom:"10px",textAlign:"center",children:[jsxRuntimeExports.jsx(Box,{children:jsxRuntimeExports.jsx(WarningIcon,{width:"40px",height:"40px",marginBottom:"16px"})}),jsxRuntimeExports.jsx(Heading,{children:_}),jsxRuntimeExports.jsx(ModalCloseButton,{})]}),a&&jsxRuntimeExports.jsx(ModalBody,{children:jsxRuntimeExports.jsx(Text,{align:"center",color:colors.gray[400],"data-testid":"description",children:a})}),jsxRuntimeExports.jsx(ModalFooter,{children:jsxRuntimeExports.jsx(Button,{width:"100%",onClick:tt,size:"lg",variant:"warning",children:$})})]})},BatchModalBody=({title:_,operation:a,transactionCount:$})=>jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(FormPageHeader,{subTitle:subTitle(a.signer),title:_}),jsxRuntimeExports.jsxs(ModalBody,{children:[jsxRuntimeExports.jsx(FormLabel,{children:"From"}),jsxRuntimeExports.jsx(AddressTile,{address:a.signer.address}),jsxRuntimeExports.jsxs(Flex,{alignItems:"center",justifyContent:"space-between",marginY:"12px",paddingX:"4px",children:[jsxRuntimeExports.jsxs(Flex,{children:[jsxRuntimeExports.jsx(Text,{marginRight:"4px",color:colors.gray[450],size:"sm",children:"Transactions:"}),jsxRuntimeExports.jsx(Text,{color:colors.gray[400],"data-testid":"transaction-length",size:"sm",children:$})]}),jsxRuntimeExports.jsx(SignPageFee,{fee:totalFee(a.estimates)})]})]})]}),SignPage$5=({initialOperations:_})=>{const{operations:a,estimationFailed:$,isLoading:j,signer:et,form:tt,reEstimate:rt,onSign:nt}=useSignPageHelpers(_,"batch"),it=headerText(a.type,"batch");return jsxRuntimeExports.jsx(FormProvider,{...tt,children:jsxRuntimeExports.jsx(ModalContent,{children:jsxRuntimeExports.jsxs("form",{children:[jsxRuntimeExports.jsx(BatchModalBody,{operation:a,title:it,transactionCount:a.operations.length}),jsxRuntimeExports.jsx(OperationSignerSelector,{isLoading:j,operationType:a.type,reEstimate:rt,sender:a.sender}),jsxRuntimeExports.jsx(ModalFooter,{children:jsxRuntimeExports.jsx(SignButton,{isDisabled:$,isLoading:j,onSubmit:nt,signer:et,text:it})})]})})})},RightHeader=({operations:_,onSubmit:a,isLoading:$})=>{const{type:j,sender:et,operations:tt}=_,{openWith:rt}=reactExports.useContext(DynamicModalContext);return jsxRuntimeExports.jsxs(Box,{alignItems:"center",justifyContent:"space-between","data-testid":"right-header",children:[jsxRuntimeExports.jsx(Text,{display:"inline-block",color:colors.gray[400],size:"sm",children:pluralize("transaction",tt.length,!0)}),jsxRuntimeExports.jsx(Button,{marginLeft:"30px",isLoading:$,onClick:a,variant:"primary",children:headerText(j,"batch")}),jsxRuntimeExports.jsx(IconButton,{marginLeft:"16px",borderRadius:"4px","aria-label":"remove-batch","data-testid":"remove-batch",icon:jsxRuntimeExports.jsx(TrashIcon,{stroke:colors.gray[300]}),onClick:()=>rt(jsxRuntimeExports.jsx(ClearBatchConfirmationModal,{sender:et}),"sm"),variant:"circle"})]})},prettyOperationType=_=>{switch(_.type){case"fa1.2":case"fa2":return"Token Transfer";case"undelegation":case"delegation":return"Delegation";case"tez":return`${TEZ} Transfer`;case"contract_origination":case"contract_call":throw new Error(`${_.type} is not supported yet`)}},ClearBatchConfirmationModal=({sender:_})=>{const a=useClearBatch();return jsxRuntimeExports.jsx(ConfirmationModal,{buttonLabel:"Delete Batch",description:"Are you sure you want to remove all transactions from the batch?",onSubmit:()=>a(_),title:"Delete Batch"})},SUCCESSFUL_ESTIMATION_RESULT={metadata:{operation_result:{status:"applied"}}},BatchView=({operations:_})=>{const{operations:a,sender:$}=_,j=a.length>9,et=useRemoveBatchItem(),{openWith:tt}=reactExports.useContext(DynamicModalContext),rt=useSelectedNetwork(),[nt,it]=React$2.useState([]);reactExports.useEffect(()=>{it([])},[a.length]);const{isLoading:ot,handleAsyncAction:st}=useAsyncActionHandler(),ct=()=>st(async()=>{it([]);try{const ht=await estimate(_,rt);return it(a.map(Et=>SUCCESSFUL_ESTIMATION_RESULT)),tt(jsxRuntimeExports.jsx(SignPage$5,{initialOperations:ht}))}catch(ht){if(ht instanceof TezosOperationError){const Et=ht.operationsWithResults;Et.length>a.length&&Et.shift(),it(Et)}throw ht}}),ut=jsxRuntimeExports.jsx(RightHeader,{isLoading:ot,onSubmit:ct,operations:_});return jsxRuntimeExports.jsxs(Box,{width:"100%",marginBottom:"16px","data-testid":`batch-table-${$.address.pkh}`,children:[jsxRuntimeExports.jsxs(Flex,{justifyContent:"space-between",padding:"20px 23px 20px 30px",background:accountIconGradient({top:"-10px",left:"-10px",account:$,radius:"100px",opacity:"40",mainBackgroundColor:colors.gray[800]}),borderTopRadius:"8px","data-testid":"header",children:[jsxRuntimeExports.jsx(Flex,{alignItems:"center",children:jsxRuntimeExports.jsx(AccountSmallTile,{paddingLeft:0,account:$})}),ut]}),jsxRuntimeExports.jsx(Flex,{flexDirection:"column",background:colors.gray[900],borderBottomRadius:j?0:"8px",paddingX:"30px",paddingY:"20px",children:a.map((ht,Et)=>{const St=nt.at(Et);return jsxRuntimeExports.jsxs(Box,{"data-testid":"operation",children:[jsxRuntimeExports.jsxs(Flex,{flexDirection:"column",height:St?"80px":"50px",children:[jsxRuntimeExports.jsx(Flex,{children:jsxRuntimeExports.jsx(OperationView,{operation:ht})}),jsxRuntimeExports.jsxs(Flex,{alignItems:"center",justifyContent:"space-between",width:"100%",marginTop:"8px",children:[jsxRuntimeExports.jsxs(Flex,{flexDirection:"column",children:[jsxRuntimeExports.jsx(Flex,{children:jsxRuntimeExports.jsx(OperationRecipient,{operation:ht})}),jsxRuntimeExports.jsx(OperationEstimationStatus,{estimationResult:St})]}),jsxRuntimeExports.jsxs(Flex,{alignSelf:"flex-end",children:[jsxRuntimeExports.jsx(Text,{alignSelf:"flex-end",color:colors.gray[450],size:"sm",children:prettyOperationType(ht)}),jsxRuntimeExports.jsx(IconButton,{width:"24px",marginLeft:"12px",borderRadius:"full","aria-label":"Remove",icon:jsxRuntimeExports.jsx(TrashIcon,{stroke:colors.gray[300]}),onClick:()=>et($,Et),size:"xs",variant:"circle"})]})]})]}),Et<a.length-1&&jsxRuntimeExports.jsx(Divider,{marginTop:St?"10px":"20px",marginBottom:"20px"})]},nanoid())})}),j&&jsxRuntimeExports.jsx(Flex,{justifyContent:"end",verticalAlign:"middle",padding:"20px 23px 20px 30px",background:colors.gray[800],borderRadius:"0 0 8px 8px","data-testid":"footer",children:ut})]})};var papaparse_min={exports:{}};/* @license
Papa Parse
v5.4.1
https://github.com/mholt/PapaParse
License: MIT
*/(function(_,a){(function($,j){_.exports=j()})(commonjsGlobal,function $(){var j=typeof self<"u"?self:typeof window<"u"?window:j!==void 0?j:{},et=!j.document&&!!j.postMessage,tt=j.IS_PAPA_WORKER||!1,rt={},nt=0,it={parse:function($t,Bt){var Nt=(Bt=Bt||{}).dynamicTyping||!1;if(jt(Nt)&&(Bt.dynamicTypingFunction=Nt,Nt={}),Bt.dynamicTyping=Nt,Bt.transform=!!jt(Bt.transform)&&Bt.transform,Bt.worker&&it.WORKERS_SUPPORTED){var Lt=function(){if(!it.WORKERS_SUPPORTED)return!1;var bt=(dt=j.URL||j.webkitURL||null,vt=$.toString(),it.BLOB_URL||(it.BLOB_URL=dt.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",vt,")();"],{type:"text/javascript"})))),at=new j.Worker(bt),dt,vt;return at.onmessage=Ct,at.id=nt++,rt[at.id]=at}();return Lt.userStep=Bt.step,Lt.userChunk=Bt.chunk,Lt.userComplete=Bt.complete,Lt.userError=Bt.error,Bt.step=jt(Bt.step),Bt.chunk=jt(Bt.chunk),Bt.complete=jt(Bt.complete),Bt.error=jt(Bt.error),delete Bt.worker,void Lt.postMessage({input:$t,config:Bt,workerId:Lt.id})}var Pt=null;return it.NODE_STREAM_INPUT,typeof $t=="string"?($t=function(bt){return bt.charCodeAt(0)===65279?bt.slice(1):bt}($t),Pt=Bt.download?new ct(Bt):new ht(Bt)):$t.readable===!0&&jt($t.read)&&jt($t.on)?Pt=new Et(Bt):(j.File&&$t instanceof File||$t instanceof Object)&&(Pt=new ut(Bt)),Pt.stream($t)},unparse:function($t,Bt){var Nt=!1,Lt=!0,Pt=",",bt=`\r
`,at='"',dt=at+at,vt=!1,xt=null,wt=!1;(function(){if(typeof Bt=="object"){if(typeof Bt.delimiter!="string"||it.BAD_DELIMITERS.filter(function(yt){return Bt.delimiter.indexOf(yt)!==-1}).length||(Pt=Bt.delimiter),(typeof Bt.quotes=="boolean"||typeof Bt.quotes=="function"||Array.isArray(Bt.quotes))&&(Nt=Bt.quotes),typeof Bt.skipEmptyLines!="boolean"&&typeof Bt.skipEmptyLines!="string"||(vt=Bt.skipEmptyLines),typeof Bt.newline=="string"&&(bt=Bt.newline),typeof Bt.quoteChar=="string"&&(at=Bt.quoteChar),typeof Bt.header=="boolean"&&(Lt=Bt.header),Array.isArray(Bt.columns)){if(Bt.columns.length===0)throw new Error("Option columns is empty");xt=Bt.columns}Bt.escapeChar!==void 0&&(dt=Bt.escapeChar+at),(typeof Bt.escapeFormulae=="boolean"||Bt.escapeFormulae instanceof RegExp)&&(wt=Bt.escapeFormulae instanceof RegExp?Bt.escapeFormulae:/^[=+\-@\t\r].*$/)}})();var _t=new RegExp(Mt(at),"g");if(typeof $t=="string"&&($t=JSON.parse($t)),Array.isArray($t)){if(!$t.length||Array.isArray($t[0]))return At(null,$t,vt);if(typeof $t[0]=="object")return At(xt||Object.keys($t[0]),$t,vt)}else if(typeof $t=="object")return typeof $t.data=="string"&&($t.data=JSON.parse($t.data)),Array.isArray($t.data)&&($t.fields||($t.fields=$t.meta&&$t.meta.fields||xt),$t.fields||($t.fields=Array.isArray($t.data[0])?$t.fields:typeof $t.data[0]=="object"?Object.keys($t.data[0]):[]),Array.isArray($t.data[0])||typeof $t.data[0]=="object"||($t.data=[$t.data])),At($t.fields||[],$t.data||[],vt);throw new Error("Unable to serialize unrecognized input");function At(yt,It,rr){var ir="";typeof yt=="string"&&(yt=JSON.parse(yt)),typeof It=="string"&&(It=JSON.parse(It));var nr=Array.isArray(yt)&&0<yt.length,Gt=!Array.isArray(It[0]);if(nr&&Lt){for(var qt=0;qt<yt.length;qt++)0<qt&&(ir+=Pt),ir+=Tt(yt[qt],qt);0<It.length&&(ir+=bt)}for(var Jt=0;Jt<It.length;Jt++){var Ft=nr?yt.length:It[Jt].length,Kt=!1,Qt=nr?Object.keys(It[Jt]).length===0:It[Jt].length===0;if(rr&&!nr&&(Kt=rr==="greedy"?It[Jt].join("").trim()==="":It[Jt].length===1&&It[Jt][0].length===0),rr==="greedy"&&nr){for(var dr=[],xr=0;xr<Ft;xr++){var pr=Gt?yt[xr]:xr;dr.push(It[Jt][pr])}Kt=dr.join("").trim()===""}if(!Kt){for(var Ir=0;Ir<Ft;Ir++){0<Ir&&!Qt&&(ir+=Pt);var Cr=nr&&Gt?yt[Ir]:Ir;ir+=Tt(It[Jt][Cr],Ir)}Jt<It.length-1&&(!rr||0<Ft&&!Qt)&&(ir+=bt)}}return ir}function Tt(yt,It){if(yt==null)return"";if(yt.constructor===Date)return JSON.stringify(yt).slice(1,25);var rr=!1;wt&&typeof yt=="string"&&wt.test(yt)&&(yt="'"+yt,rr=!0);var ir=yt.toString().replace(_t,dt);return(rr=rr||Nt===!0||typeof Nt=="function"&&Nt(yt,It)||Array.isArray(Nt)&&Nt[It]||function(nr,Gt){for(var qt=0;qt<Gt.length;qt++)if(-1<nr.indexOf(Gt[qt]))return!0;return!1}(ir,it.BAD_DELIMITERS)||-1<ir.indexOf(Pt)||ir.charAt(0)===" "||ir.charAt(ir.length-1)===" ")?at+ir+at:ir}}};if(it.RECORD_SEP="",it.UNIT_SEP="",it.BYTE_ORDER_MARK="\uFEFF",it.BAD_DELIMITERS=["\r",`
`,'"',it.BYTE_ORDER_MARK],it.WORKERS_SUPPORTED=!et&&!!j.Worker,it.NODE_STREAM_INPUT=1,it.LocalChunkSize=10485760,it.RemoteChunkSize=5242880,it.DefaultDelimiter=",",it.Parser=kt,it.ParserHandle=St,it.NetworkStreamer=ct,it.FileStreamer=ut,it.StringStreamer=ht,it.ReadableStreamStreamer=Et,j.jQuery){var ot=j.jQuery;ot.fn.parse=function($t){var Bt=$t.config||{},Nt=[];return this.each(function(bt){if(!(ot(this).prop("tagName").toUpperCase()==="INPUT"&&ot(this).attr("type").toLowerCase()==="file"&&j.FileReader)||!this.files||this.files.length===0)return!0;for(var at=0;at<this.files.length;at++)Nt.push({file:this.files[at],inputElem:this,instanceConfig:ot.extend({},Bt)})}),Lt(),this;function Lt(){if(Nt.length!==0){var bt,at,dt,vt,xt=Nt[0];if(jt($t.before)){var wt=$t.before(xt.file,xt.inputElem);if(typeof wt=="object"){if(wt.action==="abort")return bt="AbortError",at=xt.file,dt=xt.inputElem,vt=wt.reason,void(jt($t.error)&&$t.error({name:bt},at,dt,vt));if(wt.action==="skip")return void Pt();typeof wt.config=="object"&&(xt.instanceConfig=ot.extend(xt.instanceConfig,wt.config))}else if(wt==="skip")return void Pt()}var _t=xt.instanceConfig.complete;xt.instanceConfig.complete=function(At){jt(_t)&&_t(At,xt.file,xt.inputElem),Pt()},it.parse(xt.file,xt.instanceConfig)}else jt($t.complete)&&$t.complete()}function Pt(){Nt.splice(0,1),Lt()}}}function st($t){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(Bt){var Nt=Ut(Bt);Nt.chunkSize=parseInt(Nt.chunkSize),Bt.step||Bt.chunk||(Nt.chunkSize=null),this._handle=new St(Nt),(this._handle.streamer=this)._config=Nt}).call(this,$t),this.parseChunk=function(Bt,Nt){if(this.isFirstChunk&&jt(this._config.beforeFirstChunk)){var Lt=this._config.beforeFirstChunk(Bt);Lt!==void 0&&(Bt=Lt)}this.isFirstChunk=!1,this._halted=!1;var Pt=this._partialLine+Bt;this._partialLine="";var bt=this._handle.parse(Pt,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var at=bt.meta.cursor;this._finished||(this._partialLine=Pt.substring(at-this._baseIndex),this._baseIndex=at),bt&&bt.data&&(this._rowCount+=bt.data.length);var dt=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(tt)j.postMessage({results:bt,workerId:it.WORKER_ID,finished:dt});else if(jt(this._config.chunk)&&!Nt){if(this._config.chunk(bt,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);bt=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(bt.data),this._completeResults.errors=this._completeResults.errors.concat(bt.errors),this._completeResults.meta=bt.meta),this._completed||!dt||!jt(this._config.complete)||bt&&bt.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),dt||bt&&bt.meta.paused||this._nextChunk(),bt}this._halted=!0},this._sendError=function(Bt){jt(this._config.error)?this._config.error(Bt):tt&&this._config.error&&j.postMessage({workerId:it.WORKER_ID,error:Bt,finished:!1})}}function ct($t){var Bt;($t=$t||{}).chunkSize||($t.chunkSize=it.RemoteChunkSize),st.call(this,$t),this._nextChunk=et?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(Nt){this._input=Nt,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(Bt=new XMLHttpRequest,this._config.withCredentials&&(Bt.withCredentials=this._config.withCredentials),et||(Bt.onload=Vt(this._chunkLoaded,this),Bt.onerror=Vt(this._chunkError,this)),Bt.open(this._config.downloadRequestBody?"POST":"GET",this._input,!et),this._config.downloadRequestHeaders){var Nt=this._config.downloadRequestHeaders;for(var Lt in Nt)Bt.setRequestHeader(Lt,Nt[Lt])}if(this._config.chunkSize){var Pt=this._start+this._config.chunkSize-1;Bt.setRequestHeader("Range","bytes="+this._start+"-"+Pt)}try{Bt.send(this._config.downloadRequestBody)}catch(bt){this._chunkError(bt.message)}et&&Bt.status===0&&this._chunkError()}},this._chunkLoaded=function(){Bt.readyState===4&&(Bt.status<200||400<=Bt.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:Bt.responseText.length,this._finished=!this._config.chunkSize||this._start>=function(Nt){var Lt=Nt.getResponseHeader("Content-Range");return Lt===null?-1:parseInt(Lt.substring(Lt.lastIndexOf("/")+1))}(Bt),this.parseChunk(Bt.responseText)))},this._chunkError=function(Nt){var Lt=Bt.statusText||Nt;this._sendError(new Error(Lt))}}function ut($t){var Bt,Nt;($t=$t||{}).chunkSize||($t.chunkSize=it.LocalChunkSize),st.call(this,$t);var Lt=typeof FileReader<"u";this.stream=function(Pt){this._input=Pt,Nt=Pt.slice||Pt.webkitSlice||Pt.mozSlice,Lt?((Bt=new FileReader).onload=Vt(this._chunkLoaded,this),Bt.onerror=Vt(this._chunkError,this)):Bt=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var Pt=this._input;if(this._config.chunkSize){var bt=Math.min(this._start+this._config.chunkSize,this._input.size);Pt=Nt.call(Pt,this._start,bt)}var at=Bt.readAsText(Pt,this._config.encoding);Lt||this._chunkLoaded({target:{result:at}})},this._chunkLoaded=function(Pt){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(Pt.target.result)},this._chunkError=function(){this._sendError(Bt.error)}}function ht($t){var Bt;st.call(this,$t=$t||{}),this.stream=function(Nt){return Bt=Nt,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var Nt,Lt=this._config.chunkSize;return Lt?(Nt=Bt.substring(0,Lt),Bt=Bt.substring(Lt)):(Nt=Bt,Bt=""),this._finished=!Bt,this.parseChunk(Nt)}}}function Et($t){st.call(this,$t=$t||{});var Bt=[],Nt=!0,Lt=!1;this.pause=function(){st.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){st.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(Pt){this._input=Pt,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){Lt&&Bt.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),Bt.length?this.parseChunk(Bt.shift()):Nt=!0},this._streamData=Vt(function(Pt){try{Bt.push(typeof Pt=="string"?Pt:Pt.toString(this._config.encoding)),Nt&&(Nt=!1,this._checkIsFinished(),this.parseChunk(Bt.shift()))}catch(bt){this._streamError(bt)}},this),this._streamError=Vt(function(Pt){this._streamCleanUp(),this._sendError(Pt)},this),this._streamEnd=Vt(function(){this._streamCleanUp(),Lt=!0,this._streamData("")},this),this._streamCleanUp=Vt(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function St($t){var Bt,Nt,Lt,Pt=Math.pow(2,53),bt=-Pt,at=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,dt=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,vt=this,xt=0,wt=0,_t=!1,At=!1,Tt=[],yt={data:[],errors:[],meta:{}};if(jt($t.step)){var It=$t.step;$t.step=function(Jt){if(yt=Jt,nr())ir();else{if(ir(),yt.data.length===0)return;xt+=Jt.data.length,$t.preview&&xt>$t.preview?Nt.abort():(yt.data=yt.data[0],It(yt,vt))}}}function rr(Jt){return $t.skipEmptyLines==="greedy"?Jt.join("").trim()==="":Jt.length===1&&Jt[0].length===0}function ir(){return yt&&Lt&&(qt("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+it.DefaultDelimiter+"'"),Lt=!1),$t.skipEmptyLines&&(yt.data=yt.data.filter(function(Jt){return!rr(Jt)})),nr()&&function(){if(!yt)return;function Jt(Kt,Qt){jt($t.transformHeader)&&(Kt=$t.transformHeader(Kt,Qt)),Tt.push(Kt)}if(Array.isArray(yt.data[0])){for(var Ft=0;nr()&&Ft<yt.data.length;Ft++)yt.data[Ft].forEach(Jt);yt.data.splice(0,1)}else yt.data.forEach(Jt)}(),function(){if(!yt||!$t.header&&!$t.dynamicTyping&&!$t.transform)return yt;function Jt(Kt,Qt){var dr,xr=$t.header?{}:[];for(dr=0;dr<Kt.length;dr++){var pr=dr,Ir=Kt[dr];$t.header&&(pr=dr>=Tt.length?"__parsed_extra":Tt[dr]),$t.transform&&(Ir=$t.transform(Ir,pr)),Ir=Gt(pr,Ir),pr==="__parsed_extra"?(xr[pr]=xr[pr]||[],xr[pr].push(Ir)):xr[pr]=Ir}return $t.header&&(dr>Tt.length?qt("FieldMismatch","TooManyFields","Too many fields: expected "+Tt.length+" fields but parsed "+dr,wt+Qt):dr<Tt.length&&qt("FieldMismatch","TooFewFields","Too few fields: expected "+Tt.length+" fields but parsed "+dr,wt+Qt)),xr}var Ft=1;return!yt.data.length||Array.isArray(yt.data[0])?(yt.data=yt.data.map(Jt),Ft=yt.data.length):yt.data=Jt(yt.data,0),$t.header&&yt.meta&&(yt.meta.fields=Tt),wt+=Ft,yt}()}function nr(){return $t.header&&Tt.length===0}function Gt(Jt,Ft){return Kt=Jt,$t.dynamicTypingFunction&&$t.dynamicTyping[Kt]===void 0&&($t.dynamicTyping[Kt]=$t.dynamicTypingFunction(Kt)),($t.dynamicTyping[Kt]||$t.dynamicTyping)===!0?Ft==="true"||Ft==="TRUE"||Ft!=="false"&&Ft!=="FALSE"&&(function(Qt){if(at.test(Qt)){var dr=parseFloat(Qt);if(bt<dr&&dr<Pt)return!0}return!1}(Ft)?parseFloat(Ft):dt.test(Ft)?new Date(Ft):Ft===""?null:Ft):Ft;var Kt}function qt(Jt,Ft,Kt,Qt){var dr={type:Jt,code:Ft,message:Kt};Qt!==void 0&&(dr.row=Qt),yt.errors.push(dr)}this.parse=function(Jt,Ft,Kt){var Qt=$t.quoteChar||'"';if($t.newline||($t.newline=function(pr,Ir){pr=pr.substring(0,1048576);var Cr=new RegExp(Mt(Ir)+"([^]*?)"+Mt(Ir),"gm"),lr=(pr=pr.replace(Cr,"")).split("\r"),fr=pr.split(`
`),Er=1<fr.length&&fr[0].length<lr[0].length;if(lr.length===1||Er)return`
`;for(var Ar=0,kr=0;kr<lr.length;kr++)lr[kr][0]===`
`&&Ar++;return Ar>=lr.length/2?`\r
`:"\r"}(Jt,Qt)),Lt=!1,$t.delimiter)jt($t.delimiter)&&($t.delimiter=$t.delimiter(Jt),yt.meta.delimiter=$t.delimiter);else{var dr=function(pr,Ir,Cr,lr,fr){var Er,Ar,kr,Sr;fr=fr||[",","	","|",";",it.RECORD_SEP,it.UNIT_SEP];for(var $r=0;$r<fr.length;$r++){var jr=fr[$r],Nr=0,or=0,Xt=0;kr=void 0;for(var er=new kt({comments:lr,delimiter:jr,newline:Ir,preview:10}).parse(pr),Zt=0;Zt<er.data.length;Zt++)if(Cr&&rr(er.data[Zt]))Xt++;else{var Ht=er.data[Zt].length;or+=Ht,kr!==void 0?0<Ht&&(Nr+=Math.abs(Ht-kr),kr=Ht):kr=Ht}0<er.data.length&&(or/=er.data.length-Xt),(Ar===void 0||Nr<=Ar)&&(Sr===void 0||Sr<or)&&1.99<or&&(Ar=Nr,Er=jr,Sr=or)}return{successful:!!($t.delimiter=Er),bestDelimiter:Er}}(Jt,$t.newline,$t.skipEmptyLines,$t.comments,$t.delimitersToGuess);dr.successful?$t.delimiter=dr.bestDelimiter:(Lt=!0,$t.delimiter=it.DefaultDelimiter),yt.meta.delimiter=$t.delimiter}var xr=Ut($t);return $t.preview&&$t.header&&xr.preview++,Bt=Jt,Nt=new kt(xr),yt=Nt.parse(Bt,Ft,Kt),ir(),_t?{meta:{paused:!0}}:yt||{meta:{paused:!1}}},this.paused=function(){return _t},this.pause=function(){_t=!0,Nt.abort(),Bt=jt($t.chunk)?"":Bt.substring(Nt.getCharIndex())},this.resume=function(){vt.streamer._halted?(_t=!1,vt.streamer.parseChunk(Bt,!0)):setTimeout(vt.resume,3)},this.aborted=function(){return At},this.abort=function(){At=!0,Nt.abort(),yt.meta.aborted=!0,jt($t.complete)&&$t.complete(yt),Bt=""}}function Mt($t){return $t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function kt($t){var Bt,Nt=($t=$t||{}).delimiter,Lt=$t.newline,Pt=$t.comments,bt=$t.step,at=$t.preview,dt=$t.fastMode,vt=Bt=$t.quoteChar===void 0||$t.quoteChar===null?'"':$t.quoteChar;if($t.escapeChar!==void 0&&(vt=$t.escapeChar),(typeof Nt!="string"||-1<it.BAD_DELIMITERS.indexOf(Nt))&&(Nt=","),Pt===Nt)throw new Error("Comment character same as delimiter");Pt===!0?Pt="#":(typeof Pt!="string"||-1<it.BAD_DELIMITERS.indexOf(Pt))&&(Pt=!1),Lt!==`
`&&Lt!=="\r"&&Lt!==`\r
`&&(Lt=`
`);var xt=0,wt=!1;this.parse=function(_t,At,Tt){if(typeof _t!="string")throw new Error("Input must be a string");var yt=_t.length,It=Nt.length,rr=Lt.length,ir=Pt.length,nr=jt(bt),Gt=[],qt=[],Jt=[],Ft=xt=0;if(!_t)return Wt();if($t.header&&!At){var Kt=_t.split(Lt)[0].split(Nt),Qt=[],dr={},xr=!1;for(var pr in Kt){var Ir=Kt[pr];jt($t.transformHeader)&&(Ir=$t.transformHeader(Ir,pr));var Cr=Ir,lr=dr[Ir]||0;for(0<lr&&(xr=!0,Cr=Ir+"_"+lr),dr[Ir]=lr+1;Qt.includes(Cr);)Cr=Cr+"_"+lr;Qt.push(Cr)}if(xr){var fr=_t.split(Lt);fr[0]=Qt.join(Nt),_t=fr.join(Lt)}}if(dt||dt!==!1&&_t.indexOf(Bt)===-1){for(var Er=_t.split(Lt),Ar=0;Ar<Er.length;Ar++){if(Jt=Er[Ar],xt+=Jt.length,Ar!==Er.length-1)xt+=Lt.length;else if(Tt)return Wt();if(!Pt||Jt.substring(0,ir)!==Pt){if(nr){if(Gt=[],Xt(Jt.split(Nt)),ar(),wt)return Wt()}else Xt(Jt.split(Nt));if(at&&at<=Ar)return Gt=Gt.slice(0,at),Wt(!0)}}return Wt()}for(var kr=_t.indexOf(Nt,xt),Sr=_t.indexOf(Lt,xt),$r=new RegExp(Mt(vt)+Mt(Bt),"g"),jr=_t.indexOf(Bt,xt);;)if(_t[xt]!==Bt)if(Pt&&Jt.length===0&&_t.substring(xt,xt+ir)===Pt){if(Sr===-1)return Wt();xt=Sr+rr,Sr=_t.indexOf(Lt,xt),kr=_t.indexOf(Nt,xt)}else if(kr!==-1&&(kr<Sr||Sr===-1))Jt.push(_t.substring(xt,kr)),xt=kr+It,kr=_t.indexOf(Nt,xt);else{if(Sr===-1)break;if(Jt.push(_t.substring(xt,Sr)),Ht(Sr+rr),nr&&(ar(),wt))return Wt();if(at&&Gt.length>=at)return Wt(!0)}else for(jr=xt,xt++;;){if((jr=_t.indexOf(Bt,jr+1))===-1)return Tt||qt.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:Gt.length,index:xt}),Zt();if(jr===yt-1)return Zt(_t.substring(xt,jr).replace($r,Bt));if(Bt!==vt||_t[jr+1]!==vt){if(Bt===vt||jr===0||_t[jr-1]!==vt){kr!==-1&&kr<jr+1&&(kr=_t.indexOf(Nt,jr+1)),Sr!==-1&&Sr<jr+1&&(Sr=_t.indexOf(Lt,jr+1));var Nr=er(Sr===-1?kr:Math.min(kr,Sr));if(_t.substr(jr+1+Nr,It)===Nt){Jt.push(_t.substring(xt,jr).replace($r,Bt)),_t[xt=jr+1+Nr+It]!==Bt&&(jr=_t.indexOf(Bt,xt)),kr=_t.indexOf(Nt,xt),Sr=_t.indexOf(Lt,xt);break}var or=er(Sr);if(_t.substring(jr+1+or,jr+1+or+rr)===Lt){if(Jt.push(_t.substring(xt,jr).replace($r,Bt)),Ht(jr+1+or+rr),kr=_t.indexOf(Nt,xt),jr=_t.indexOf(Bt,xt),nr&&(ar(),wt))return Wt();if(at&&Gt.length>=at)return Wt(!0);break}qt.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:Gt.length,index:xt}),jr++}}else jr++}return Zt();function Xt(br){Gt.push(br),Ft=xt}function er(br){var wr=0;if(br!==-1){var Rr=_t.substring(jr+1,br);Rr&&Rr.trim()===""&&(wr=Rr.length)}return wr}function Zt(br){return Tt||(br===void 0&&(br=_t.substring(xt)),Jt.push(br),xt=yt,Xt(Jt),nr&&ar()),Wt()}function Ht(br){xt=br,Xt(Jt),Jt=[],Sr=_t.indexOf(Lt,xt)}function Wt(br){return{data:Gt,errors:qt,meta:{delimiter:Nt,linebreak:Lt,aborted:wt,truncated:!!br,cursor:Ft+(At||0)}}}function ar(){bt(Wt()),Gt=[],qt=[]}},this.abort=function(){wt=!0},this.getCharIndex=function(){return xt}}function Ct($t){var Bt=$t.data,Nt=rt[Bt.workerId],Lt=!1;if(Bt.error)Nt.userError(Bt.error,Bt.file);else if(Bt.results&&Bt.results.data){var Pt={abort:function(){Lt=!0,Ot(Bt.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:zt,resume:zt};if(jt(Nt.userStep)){for(var bt=0;bt<Bt.results.data.length&&(Nt.userStep({data:Bt.results.data[bt],errors:Bt.results.errors,meta:Bt.results.meta},Pt),!Lt);bt++);delete Bt.results}else jt(Nt.userChunk)&&(Nt.userChunk(Bt.results,Pt,Bt.file),delete Bt.results)}Bt.finished&&!Lt&&Ot(Bt.workerId,Bt.results)}function Ot($t,Bt){var Nt=rt[$t];jt(Nt.userComplete)&&Nt.userComplete(Bt),Nt.terminate(),delete rt[$t]}function zt(){throw new Error("Not implemented.")}function Ut($t){if(typeof $t!="object"||$t===null)return $t;var Bt=Array.isArray($t)?[]:{};for(var Nt in $t)Bt[Nt]=Ut($t[Nt]);return Bt}function Vt($t,Bt){return function(){$t.apply(Bt,arguments)}}function jt($t){return typeof $t=="function"}return tt&&(j.onmessage=function($t){var Bt=$t.data;if(it.WORKER_ID===void 0&&Bt&&(it.WORKER_ID=Bt.workerId),typeof Bt.input=="string")j.postMessage({workerId:it.WORKER_ID,results:it.parse(Bt.input,Bt.config),finished:!0});else if(j.File&&Bt.input instanceof File||Bt.input instanceof Object){var Nt=it.parse(Bt.input,Bt.config);Nt&&j.postMessage({workerId:it.WORKER_ID,results:Nt,finished:!0})}}),(ct.prototype=Object.create(st.prototype)).constructor=ct,(ut.prototype=Object.create(st.prototype)).constructor=ut,(ht.prototype=Object.create(ht.prototype)).constructor=ht,(Et.prototype=Object.create(st.prototype)).constructor=Et,it})})(papaparse_min);var papaparse_minExports=papaparse_min.exports;const Papa=getDefaultExportFromCjs$1(papaparse_minExports);function validateNonNegativeNumber(_){const a=new BigNumber(_);return a.isLessThan(0)?null:a.toFixed()}const parseOperation=(_,a,$)=>{const j=a.filter(ht=>ht.length>0),et=j.length;if(et<2||4<et)throw new Error("Invalid csv format");const[tt,rt,nt]=j;if(!isAddressValid(tt))throw new Error("Invalid csv value: recipient");const it=parsePkh(tt);if(validateNonNegativeNumber(rt)===null)throw new Error("Invalid csv value: amount");if(et===2)return{type:"tez",recipient:it,amount:tezToMutez(rt).toFixed()};if(!isValidContractPkh(nt))throw new Error("Invalid csv value: contract address");const ot=parseContractPkh(nt),st=j[3]||"0";if(validateNonNegativeNumber(st)===null)throw new Error("Invalid csv value: tokenId");const ct=$(nt,st);if(!ct)throw new Error(`Unknown token ${nt} ${st}`);const ut=getRealAmount(ct,rt);return ct.type==="fa1.2"?{type:"fa1.2",sender:_,amount:ut,recipient:it,contract:ot,tokenId:"0"}:{type:"fa2",sender:_,recipient:it,contract:ot,tokenId:st,amount:ut}},CSVFileUploadForm=()=>{const _=useSelectedNetwork(),a=useToast(),$=useGetToken(),j=useAppDispatch(),et=useGetOwnedAccount(),tt=useGetBestSignerForAccount(),{onClose:rt}=reactExports.useContext(DynamicModalContext),{isLoading:nt,handleAsyncAction:it}=useAsyncActionHandler(),ot=useForm({mode:"onBlur"}),{handleSubmit:st,formState:{isValid:ct,errors:ut}}=ot,ht=async({file:Et,sender:St})=>it(async()=>{const Mt=et(St),kt=await new Promise(Ot=>{Papa.parse(Et[0],{skipEmptyLines:!0,complete:Ot})});if(kt.errors.length>0)throw new Error("Error loading csv file: "+kt.errors.map(Ot=>Ot.message).join(", "));const Ct=[];for(let Ot=0;Ot<kt.data.length;Ot++){const zt=kt.data[Ot];try{Ct.push(parseOperation(Mt.address,zt,$))}catch(Ut){throw new Error(`Error at row #${Ot+1}: ${Ut==null?void 0:Ut.message}`)}}await j(estimateAndUpdateBatch(makeAccountOperations(Mt,tt(Mt),Ct),_)),a({description:"CSV added to batch!",status:"success"}),rt()});return jsxRuntimeExports.jsx(FormProvider,{...ot,children:jsxRuntimeExports.jsx(ModalContent,{children:jsxRuntimeExports.jsxs("form",{onSubmit:st(ht),children:[jsxRuntimeExports.jsx(ModalCloseButton,{}),jsxRuntimeExports.jsx(ModalHeader,{marginBottom:"10px",textAlign:"center",children:"Load CSV file"}),jsxRuntimeExports.jsx(Text,{color:colors.gray[400],textAlign:"center",size:"sm",children:"Select an account and then upload the CSV file."}),jsxRuntimeExports.jsxs(ModalBody,{children:[jsxRuntimeExports.jsxs(FormControl,{isInvalid:!!ut.sender,paddingY:5,children:[jsxRuntimeExports.jsx(OwnedAccountsAutocomplete,{allowUnknown:!1,inputName:"sender",label:"From"}),ut.sender&&jsxRuntimeExports.jsx(FormErrorMessage,{children:ut.sender.message})]}),jsxRuntimeExports.jsxs(FormControl,{paddingTop:5,isInvalid:!!ut.file,children:[jsxRuntimeExports.jsx(FormLabel,{children:"Select CSV"}),jsxRuntimeExports.jsx(Flex,{children:jsxRuntimeExports.jsx(Input,{padding:2,...ot.register("file",{required:"File is required"}),accept:".csv",type:"file",variant:"unstyled"})}),ut.file&&jsxRuntimeExports.jsx(FormErrorMessage,{marginTop:0,children:ut.file.message})]})]}),jsxRuntimeExports.jsx(ModalFooter,{children:jsxRuntimeExports.jsx(Box,{width:"100%",children:jsxRuntimeExports.jsx(Button,{width:"100%",marginBottom:2,isDisabled:!ct,isLoading:nt,size:"lg",type:"submit",children:"Upload"})})})]})})})},CSVFileUploader=()=>{const{openWith:_}=reactExports.useContext(DynamicModalContext);return jsxRuntimeExports.jsxs(Button,{onClick:()=>_(jsxRuntimeExports.jsx(CSVFileUploadForm,{})),variant:"CTAWithIcon",children:[jsxRuntimeExports.jsx(Text,{marginRight:"4px",size:"sm",children:"Load CSV file"}),jsxRuntimeExports.jsx(FileArrowDownIcon,{stroke:"currentcolor"})]})},FilterController=({batchPending:_})=>jsxRuntimeExports.jsxs(Flex,{alignItems:"center",marginTop:"24px",marginBottom:"24px",children:[jsxRuntimeExports.jsxs(Heading,{flex:1,color:colors.orangeL,size:"sm",children:[_," Pending"]}),jsxRuntimeExports.jsx(CSVFileUploader,{}),jsxRuntimeExports.jsx(ExternalLink,{marginLeft:"8px",href:"https://github.com/trilitech/umami-v2/wiki/Batch-file-specification",children:jsxRuntimeExports.jsxs(Button,{paddingRight:"0",variant:"CTAWithIcon",children:[jsxRuntimeExports.jsx(Text,{marginRight:"4px",size:"sm",children:"See file specs"}),jsxRuntimeExports.jsx(ExternalLinkIcon,{stroke:"currentcolor"})]})})]}),BatchPage=()=>{const _=useBatches();return jsxRuntimeExports.jsxs(Flex,{flexDirection:"column",height:"100%",children:[jsxRuntimeExports.jsx(TopBar,{title:"Batch"}),jsxRuntimeExports.jsx(FilterController,{batchPending:_.length}),jsxRuntimeExports.jsx(Box,{overflowY:"auto",minHeight:"80%",children:_.length>0?_.map(a=>jsxRuntimeExports.jsx(BatchView,{operations:a},a.sender.address.pkh)):jsxRuntimeExports.jsx(NoItems,{description:"There are no batch transactions to show...",size:"lg",title:"No batches to show"})})]})},ClickableCard=({onClick:_,children:a,isSelected:$,...j})=>jsxRuntimeExports.jsx(Card,{justifyContent:"center",height:"66px",marginBottom:"10px",padding:"24px",border:"1px solid",borderColor:$?` ${colors.orangeL}`:"transparent",borderRadius:"lg",_hover:{border:`1px solid ${colors.gray[500]}`,bg:colors.gray[800]},cursor:_?"pointer":void 0,backgroundColor:colors.gray[900],onClick:_,...j,children:jsxRuntimeExports.jsx(CardBody,{padding:0,children:a})}),SettingsCardWithDrawerIcon=({left:_,isSelected:a,onClick:$})=>jsxRuntimeExports.jsx(ClickableCard,{isSelected:a,onClick:$,children:jsxRuntimeExports.jsx(Flex,{alignItems:"center",height:"100%",children:jsxRuntimeExports.jsxs(Flex,{alignItems:"center",justifyContent:"space-between",width:"100%",children:[jsxRuntimeExports.jsx(Heading,{size:"sm",children:_}),jsxRuntimeExports.jsx(ChevronRightIcon,{})]})})}),HelpView=()=>jsxRuntimeExports.jsxs(Grid,{gridGap:"1",gridTemplateRows:"0fr 1fr 1fr",gridTemplateColumns:"1fr 1fr",gridTemplateAreas:`
                  "header header"
                  "main main"
                  "main main"
                  `,height:"100%",children:[jsxRuntimeExports.jsx(GridItem,{gridArea:"header",children:jsxRuntimeExports.jsx(TopBar,{title:"Help"})}),jsxRuntimeExports.jsxs(GridItem,{gridArea:"main",marginTop:1,children:[jsxRuntimeExports.jsx(HelpCard,{title:"Learn More",children:jsxRuntimeExports.jsx(HelpLinkRow,{about:"Browse Articles",externalLink:"https://medium.com/umamiwallet"})}),jsxRuntimeExports.jsxs(HelpCard,{title:"Need Help?",children:[jsxRuntimeExports.jsx(HelpLinkRow,{about:"Contact our Support Team",externalLink:"mailto:umami-support@trili.tech",linkDescription:"umami-support@trili.tech"}),jsxRuntimeExports.jsx(HelpLinkRow,{about:"Get in touch with the Community",externalLink:"https://join.slack.com/t/tezos-dev/shared_invite/zt-1ur1ymxrp-G_X_bFHrvWXwoeiy53J8lg",linkDescription:"Slack #Umami"})]}),jsxRuntimeExports.jsxs(HelpCard,{title:"Terms",children:[jsxRuntimeExports.jsx(HelpLinkRow,{about:"Read Terms of Service",externalLink:"https://umamiwallet.com/tos.html"}),jsxRuntimeExports.jsx(HelpLinkRow,{about:"Read Privacy Policy",externalLink:"https://umamiwallet.com/privacypolicy.html"})]})]})]}),HelpLinkRow=({about:_,externalLink:a,linkDescription:$})=>jsxRuntimeExports.jsx(Link,{rel:"noopener noreferrer",target:"_blank",to:a,children:jsxRuntimeExports.jsx(ClickableCard,{cursor:"pointer",isSelected:!1,children:jsxRuntimeExports.jsxs(Flex,{alignItems:"center",justifyContent:"space-between",children:[jsxRuntimeExports.jsx(Heading,{size:"sm",children:_}),jsxRuntimeExports.jsxs(Flex,{alignItems:"center",children:[$&&jsxRuntimeExports.jsx(Text,{marginRight:"4px",color:colors.gray[400],size:"sm",children:$}),jsxRuntimeExports.jsx(ExternalLinkIcon,{})]})]})})}),HelpCard=({title:_,children:a})=>jsxRuntimeExports.jsx(Box,{"data-testid":"help-card",marginY:"10px",children:jsxRuntimeExports.jsx(Flex,{children:jsxRuntimeExports.jsxs(Box,{width:"550px",children:[jsxRuntimeExports.jsx(Heading,{marginBottom:"16px",size:"lg",children:_}),a]})})}),ConnectOptions=({goToStep:_})=>{const a=useImplicitAccounts().length>0;return jsxRuntimeExports.jsx(ModalContentWrapper,{icon:jsxRuntimeExports.jsx(LinkIcon,{}),title:"Connect or Import Account",children:jsxRuntimeExports.jsxs(VStack,{width:"100%",spacing:"16px",children:[jsxRuntimeExports.jsx(Button,{width:"100%",onClick:$=>_({type:"restoreMnemonic"}),size:"lg",children:"Import with Seed Phrase"}),jsxRuntimeExports.jsx(Button,{width:"100%",onClick:$=>_({type:"restoreSecretKey"}),size:"lg",variant:"tertiary",children:"Import with Secret Key"}),!a&&jsxRuntimeExports.jsx(Button,{width:"100%",onClick:$=>_({type:"restoreBackup"}),size:"lg",variant:"tertiary",children:"Restore from Backup"}),jsxRuntimeExports.jsx(Button,{width:"100%",onClick:$=>_({type:"nameAccount",account:{type:"ledger"}}),size:"lg",variant:"tertiary",children:"Connect ledger"})]})})},withTimeout=(_,a,$)=>Promise.race([_(),new Promise((j,et)=>setTimeout(()=>{et(new Error("The operation has timed out"))},a))]),LOGIN_TIMEOUT=minutesToMilliseconds(1),useOnboardWithSocial=(_,a)=>{const $=useToast(),{isLoading:j,handleAsyncAction:et}=useAsyncActionHandler(),tt=useRestoreSocial(),rt=reactExports.useCallback(()=>et(async()=>{const{secretKey:nt,name:it}=await withTimeout(()=>forIDP(_).getCredentials(),LOGIN_TIMEOUT),{pk:ot,pkh:st}=await getPublicKeyPairFromSk(nt);tt(ot,st,it,_),$({description:`Successfully added ${it} account`,status:"success"}),a()},{title:"Social login failed"}),[_,$,et,tt,a]);return{isLoading:j,onboard:rt}},OnboardWithFacebookButton=({onAuth:_})=>{const{isLoading:a,onboard:$}=useOnboardWithSocial("facebook",_);return jsxRuntimeExports.jsx(IconButton,{"aria-label":"Facebook SSO","data-testid":"login-button-facebook",icon:jsxRuntimeExports.jsx(FacebookIcon,{}),isLoading:a,onClick:$,variant:"socialLogin"})},OnboardWithGoogleButton=({onAuth:_})=>{const{isLoading:a,onboard:$}=useOnboardWithSocial("google",_);return jsxRuntimeExports.jsx(IconButton,{"aria-label":"Google SSO","data-testid":"login-button-google",icon:jsxRuntimeExports.jsx(GoogleIcon,{}),isLoading:a,onClick:$,variant:"socialLogin"})},OnboardWithRedditButton=({onAuth:_})=>{const{isLoading:a,onboard:$}=useOnboardWithSocial("reddit",_);return jsxRuntimeExports.jsx(IconButton,{"aria-label":"Reddit SSO","data-testid":"login-button-reddit",icon:jsxRuntimeExports.jsx(RedditIcon,{}),isLoading:a,onClick:$,variant:"socialLogin"})},OnboardWithTwitterButton=({onAuth:_})=>{const{isLoading:a,onboard:$}=useOnboardWithSocial("twitter",_);return jsxRuntimeExports.jsx(IconButton,{color:"black","aria-label":"Twitter SSO","data-testid":"login-button-twitter",icon:jsxRuntimeExports.jsx(TwitterIcon,{fill:"currentColor"}),isLoading:a,onClick:$,variant:"socialLogin"})},IS_DEV=!1,ConnectOrCreate=({goToStep:_,closeModal:a})=>jsxRuntimeExports.jsx(ModalContentWrapper,{icon:jsxRuntimeExports.jsx(WalletPlusIcon,{}),title:"Connect or Create Account",children:jsxRuntimeExports.jsxs(VStack,{width:"100%",spacing:"16px",children:[jsxRuntimeExports.jsx(Button,{width:"100%",onClick:$=>_({type:"notice"}),size:"lg",children:"Create a new Account"}),jsxRuntimeExports.jsx(Button,{width:"100%",onClick:$=>_({type:"connectOptions"}),size:"lg",variant:"tertiary",children:"I already have a wallet"}),IS_DEV,jsxRuntimeExports.jsxs(Flex,{width:"100%",paddingTop:"14px",paddingBottom:"6px",children:[jsxRuntimeExports.jsx(Divider,{marginTop:"11px"}),jsxRuntimeExports.jsx(Text,{minWidth:"160px",color:colors.gray[400],textAlign:"center",noOfLines:1,size:"sm",children:"Continue with social"}),jsxRuntimeExports.jsx(Divider,{marginTop:"11px"})]}),jsxRuntimeExports.jsxs(Flex,{gap:"12px",children:[jsxRuntimeExports.jsx(OnboardWithGoogleButton,{onAuth:a}),jsxRuntimeExports.jsx(OnboardWithFacebookButton,{onAuth:a}),jsxRuntimeExports.jsx(OnboardWithTwitterButton,{onAuth:a}),jsxRuntimeExports.jsx(OnboardWithRedditButton,{onAuth:a})]})]})}),Select=({selected:_,options:a,onChange:$})=>{const[j,et]=reactExports.useState(_),[tt,rt]=reactExports.useState(!1);return jsxRuntimeExports.jsxs(Box,{children:[jsxRuntimeExports.jsxs(Flex,{justifyContent:"space-between",height:"48px",padding:"12px 15px 15px 15px",color:colors.gray[300],background:colors.gray[800],border:"1px solid",borderColor:colors.gray[500],borderRadius:"4px",_hover:{borderColor:colors.gray[450]},cursor:"pointer","data-testid":"select-input",onClick:()=>rt(nt=>!nt),children:[jsxRuntimeExports.jsx(Text,{size:"sm",children:j.label}),jsxRuntimeExports.jsx(ChevronDownIcon$1,{marginTop:"2px"})]}),tt&&jsxRuntimeExports.jsx(UnorderedList,{position:"absolute",zIndex:2,width:"100%",margin:0,marginTop:"8px",padding:"15px",background:colors.gray[700],border:"1px solid",borderColor:colors.gray[500],borderRadius:"8px","data-testid":"select-options",listStyleType:"none",children:a.map(nt=>jsxRuntimeExports.jsx(ListItem,{marginBottom:"5px",padding:"11px",color:colors.gray[300],background:"transparent",borderRadius:"4px",_hover:{background:colors.gray[500]},cursor:"pointer",onClick:()=>{rt(!1),et(nt),$(nt.value)},children:jsxRuntimeExports.jsx(Text,{size:"sm",children:nt.label})},nt.value))})]})},DerivationPath=({goToStep:_,account:a})=>{const[$,j]=reactExports.useState(!1),{handleSubmit:et,register:tt,setValue:rt,formState:{isValid:nt,errors:it}}=useForm({mode:"onBlur",defaultValues:{derivationPathTemplate:defaultDerivationPathTemplate,derivationPath:getDefaultDerivationPath(0)}}),ot=async({derivationPathTemplate:st,derivationPath:ct})=>{switch(a.type){case"ledger":return _($?{type:"restoreLedger",account:{...a,derivationPath:normalizeDerivationPath(ct)}}:{type:"restoreLedger",account:{...a,derivationPathTemplate:normalizeDerivationPath(st)}});case"mnemonic":{if($){const ut=await deriveSecretKey(a.mnemonic,ct,"ed25519");return _({type:"masterPassword",account:{type:"secret_key",secretKey:ut,label:a.label}})}return _({type:"masterPassword",account:{...a,derivationPathTemplate:st}})}}};return jsxRuntimeExports.jsx(ModalContentWrapper,{icon:jsxRuntimeExports.jsx(SlashIcon,{}),subtitle:"Choose a custom derivation path or select the default derivation path and use the default key.",title:"Derivation Path",children:jsxRuntimeExports.jsxs("form",{onSubmit:et(ot),style:{width:"100%"},children:[jsxRuntimeExports.jsxs(Center,{width:"100%",marginBottom:"12px",children:[jsxRuntimeExports.jsx(Text,{fontWeight:$?400:600,size:"sm",children:"Default Path"}),jsxRuntimeExports.jsx(Switch,{"data-testid":"custom-path-switch",marginX:"10px",onChange:()=>j(st=>!st),variant:"danger"}),jsxRuntimeExports.jsx(Text,{fontWeight:$?600:400,size:"sm",children:"Custom Path"})]}),$&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Center,{marginTop:"16px",marginBottom:"32px",children:jsxRuntimeExports.jsx(Text,{width:"340px",color:colors.orange,textAlign:"center",size:"xs",children:"Please write down to your derivation path. You may not be able to restore your data if you lose it."})}),jsxRuntimeExports.jsxs(FormControl,{marginBottom:"20px",isInvalid:!!it.derivationPath,children:[jsxRuntimeExports.jsx(Input,{fontSize:"sm",textAlign:"center","data-testid":"custom-path-input",...tt("derivationPath",{validate:validateDerivationPath})}),it.derivationPath&&jsxRuntimeExports.jsx(FormErrorMessage,{"data-testid":"error-message",children:it.derivationPath.message})]})]}),!$&&jsxRuntimeExports.jsx(FormControl,{marginTop:"32px",marginBottom:"20px",children:jsxRuntimeExports.jsx(Select,{onChange:st=>rt("derivationPathTemplate",st),options:AVAILABLE_DERIVATION_PATH_TEMPLATES,selected:DEFAULT_DERIVATION_PATH_TEMPLATE})}),jsxRuntimeExports.jsx(Button,{width:"100%",marginTop:"12px",isDisabled:!nt,size:"lg",type:"submit",children:"Continue"}),jsxRuntimeExports.jsx(ExternalLink,{display:"block",width:"100%",marginTop:"32px",textAlign:"center",href:"https://github.com/bitcoin/bips/blob/master/bip-0044.mediawiki",children:jsxRuntimeExports.jsx(Tooltip,{backgroundColor:"white",defaultIsOpen:!1,hasArrow:!0,label:"Derivation path is a set of directions that helps create different secret keys; it starts from a master key or seed.",children:jsxRuntimeExports.jsx(Text,{color:colors.blue,fontWeight:600,textDecoration:"underline",_hover:{textDecoration:"underline"},size:"sm",children:"What's a Derivation Path?"})})})]})})},normalizeDerivationPath=_=>_.trim().toLowerCase().replace("m/",""),validateDerivationPath=_=>{const a=normalizeDerivationPath(_);return a.length===0?"Derivation path is required":a.startsWith("44'/1729'/")?a.match(new RegExp("^44'/1729'/([0-9]+'/)*([0-9]+')$"))?!0:"Invalid derivation path":"Derivation path must start with `44'/1729'/`"},Eula=({goToStep:_})=>{const[a,$]=React$2.useState(!1);return jsxRuntimeExports.jsx(ModalContentWrapper,{icon:jsxRuntimeExports.jsx(DocumentIcon,{}),title:"Accept to Continue",children:jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs(Checkbox,{paddingBottom:"24px",fontWeight:"600",onChange:j=>$(j.target.checked),children:["I confirm that I have read and agreed with the"," ",jsxRuntimeExports.jsx(Link$1,{textDecoration:"underline",_hover:{color:colors.green},href:"https://umamiwallet.com/tos.html",rel:"noopener noreferrer",target:"_blank",children:"Terms of Service"})," ","and the"," ",jsxRuntimeExports.jsx(Link$1,{textDecoration:"underline",_hover:{color:colors.green},href:"https://umamiwallet.com/privacypolicy.html",rel:"noopener noreferrer",target:"_blank",children:"Privacy Policy"})]}),jsxRuntimeExports.jsx(Button,{width:"100%",isDisabled:!a,onClick:()=>{_({type:"connectOrCreate"})},size:"lg",children:"Continue"})]})})},FakeAccount=({onClose:_})=>{const{register:a,handleSubmit:$,formState:{errors:j}}=useForm({mode:"onBlur"}),et=useRestoreLedger(),tt=useRestoreSocial(),rt=async({pkh:nt,name:it,idp:ot})=>{if(ot&&ot.length>0&&!["google","facebook","twitter","reddit","email"].includes(ot))throw new Error("Invalid IDP");const ct=await new RpcClient(GHOSTNET.rpcUrl).getManagerKey(nt),ut=typeof ct=="string"?ct:ct.key;ot?tt(ut,nt,it,ot):et(defaultDerivationPathTemplate,makeDerivationPath(defaultDerivationPathTemplate,0),ut,nt,it),_()};return jsxRuntimeExports.jsx(ModalContentWrapper,{icon:jsxRuntimeExports.jsx(WalletPlusIcon,{}),title:"Add a Fake Account",children:jsxRuntimeExports.jsxs("form",{onSubmit:$(rt),style:{width:"100%"},children:[jsxRuntimeExports.jsxs(FormControl,{isInvalid:!!j.pkh,children:[jsxRuntimeExports.jsx(FormLabel,{children:"Address"}),jsxRuntimeExports.jsx(Input,{...a("pkh",{required:!0}),autoComplete:"off",placeholder:"Please enter the account address"})]}),jsxRuntimeExports.jsxs(FormControl,{marginTop:"12px",isInvalid:!!j.name,children:[jsxRuntimeExports.jsx(FormLabel,{children:"Name"}),jsxRuntimeExports.jsx(Input,{...a("name",{required:!0}),autoComplete:"off",placeholder:"Please enter the account name"})]}),jsxRuntimeExports.jsxs(FormControl,{marginTop:"12px",isInvalid:!!j.idp,children:[jsxRuntimeExports.jsx(FormLabel,{children:"IDP (For a social account)"}),jsxRuntimeExports.jsx(Input,{...a("idp"),autoComplete:"off",placeholder:"Please enter the IDP"})]}),jsxRuntimeExports.jsx(Button,{width:"100%",marginTop:"12px",size:"lg",type:"submit",children:"Add account"})]})})},EnterAndConfirmPassword=({onSubmit:_,isLoading:a})=>{const $=useForm({mode:"onBlur"}),{handleSubmit:j,formState:{errors:et,isValid:tt},getValues:rt}=$,nt=({confirm:it})=>_(it);return jsxRuntimeExports.jsx(ModalContentWrapper,{icon:jsxRuntimeExports.jsx(LockIcon,{}),subtitle:"Please choose a master password for Umami. You will need to use this password in order to perform any operations within Umami.",title:"Umami Master Password",children:jsxRuntimeExports.jsx(FormProvider,{...$,children:jsxRuntimeExports.jsxs("form",{onSubmit:j(nt),style:{width:"100%"},children:[jsxRuntimeExports.jsxs(FormControl,{isInvalid:!!et.password,children:[jsxRuntimeExports.jsx(PasswordInput,{"data-testid":"password",inputName:"password",placeholder:"Enter master password"}),et.password&&jsxRuntimeExports.jsx(FormErrorMessage,{children:et.password.message})]}),jsxRuntimeExports.jsxs(FormControl,{marginTop:"24px",isInvalid:!!et.confirm,children:[jsxRuntimeExports.jsx(PasswordInput,{"data-testid":"confirmation",inputName:"confirm",label:"Confirm Password",placeholder:"Confirm your password",required:"Confirmation is required",validate:it=>rt("password")===it||"Your passwords do no match"}),et.confirm&&jsxRuntimeExports.jsx(FormErrorMessage,{children:et.confirm.message})]}),jsxRuntimeExports.jsx(Button,{width:"100%",marginTop:"32px",isDisabled:!tt||a,isLoading:a,size:"lg",type:"submit",children:"Submit"})]})})})},EnterPassword=({onSubmit:_,isLoading:a})=>{const $=useForm({mode:"onBlur"}),{handleSubmit:j,formState:{errors:et,isValid:tt}}=$,rt=nt=>{_(nt.password)};return jsxRuntimeExports.jsx(ModalContentWrapper,{icon:jsxRuntimeExports.jsx(LockIcon,{}),subtitle:"Enter your master password for Umami.",title:"Umami Master Password",children:jsxRuntimeExports.jsx(FormProvider,{...$,children:jsxRuntimeExports.jsxs("form",{onSubmit:j(rt),style:{width:"100%"},children:[jsxRuntimeExports.jsxs(FormControl,{isInvalid:!!et.password,children:[jsxRuntimeExports.jsx(PasswordInput,{"data-testid":"password",inputName:"password"}),et.password&&jsxRuntimeExports.jsx(FormErrorMessage,{children:et.password.message})]}),jsxRuntimeExports.jsx(Button,{width:"100%",marginTop:"32px",isDisabled:!tt,isLoading:a,size:"lg",type:"submit",children:"Submit"})]})})})},MasterPassword=({account:_,onClose:a})=>{const $=useRestoreFromMnemonic(),j=useRestoreFromSecretKey(),et=useValidateMasterPassword(),tt=et!==null,{isLoading:rt,handleAsyncAction:nt}=useAsyncActionHandler(),it=useToast(),ot=st=>nt(async()=>{switch(tt&&await et(st),_.type){case"secret_key":await j(_.secretKey,st,_.label);break;case"mnemonic":await $({..._,password:st})}it({description:"Account successfully created!",status:"success"}),a()});return tt?jsxRuntimeExports.jsx(EnterPassword,{isLoading:rt,onSubmit:ot}):jsxRuntimeExports.jsx(EnterAndConfirmPassword,{isLoading:rt,onSubmit:ot})},Notice=({goToStep:_})=>{const a=[{content:"Write down your seed phrase and store it in a safe place."},{content:"Make sure there is no one around you or looking over your shoulder."},{content:"Do not copy and paste the Seed Phrase or store it on your device."},{content:"Do not take a screenshot of your Seed Phrase."}];return jsxRuntimeExports.jsx(ModalContentWrapper,{icon:jsxRuntimeExports.jsx(NoticeIcon,{}),subtitle:"Please read the following before you continue to see your secret Seed Phrase.",title:"Important Notice",children:jsxRuntimeExports.jsxs(Box,{children:[jsxRuntimeExports.jsx(OrderedList,{spacing:"16px",variant:"onboardingNotice",children:a.map(($,j)=>jsxRuntimeExports.jsx(ListItem,{fontSize:"16px",fontWeight:600,children:$.content},j))}),jsxRuntimeExports.jsx(Button,{width:"100%",marginTop:"28px",onClick:()=>_({type:"showSeedphrase",account:{type:"mnemonic",mnemonic:generate24WordMnemonic()}}),size:"lg",children:"I understand"}),jsxRuntimeExports.jsx(Button,{width:"100%",marginTop:"16px",onClick:()=>_({type:"restoreMnemonic"}),size:"lg",variant:"tertiary",children:"I already have a Seed Phrase"})]})})},RestoreBackupFile=()=>{const _=useForm({mode:"onBlur"}),{handleSubmit:a,register:$,formState:{errors:j,isValid:et}}=_,{handleAsyncAction:tt}=useAsyncActionHandler(),rt=useRestoreV1BackupFile(),nt=({password:it,file:ot})=>tt(async()=>{const st=await ot[0].text(),ct=JSON.parse(st);if(ct.recoveryPhrases&&ct.derivationPaths)await rt(ct,it);else if(ct["persist:accounts"])await restoreV2BackupFile(ct,it),reload();else throw new Error("Invalid backup file.")});return jsxRuntimeExports.jsx(ModalContentWrapper,{icon:jsxRuntimeExports.jsx(RotateIcon,{}),subtitle:"Select a JSON backup file and enter the password you used to encrypt it.",title:"Restore from Backup",children:jsxRuntimeExports.jsx(FormProvider,{..._,children:jsxRuntimeExports.jsx("form",{onSubmit:a(nt),style:{width:"100%"},children:jsxRuntimeExports.jsxs(ModalBody,{children:[jsxRuntimeExports.jsxs(FormControl,{isInvalid:!!j.file,children:[jsxRuntimeExports.jsx(FormLabel,{children:"Upload File"}),jsxRuntimeExports.jsx(Flex,{children:jsxRuntimeExports.jsx(Input,{padding:"2px","data-testid":"file-input",...$("file",{required:"File is required"}),accept:".json",type:"file",variant:"unstyled"})}),j.file&&jsxRuntimeExports.jsx(FormErrorMessage$1,{"data-testid":"file-errors",children:j.file.message})]}),jsxRuntimeExports.jsx(FormControl,{marginTop:"24px",children:jsxRuntimeExports.jsx(PasswordInput,{"data-testid":"password-input",inputName:"password",label:"Your password (if you have one)",required:!1})}),jsxRuntimeExports.jsx(Button,{width:"100%",marginTop:"32px",isDisabled:!et,size:"lg",type:"submit",children:"Import Wallet"})]})})})})},getPk=async _=>{const a=await TransportWebUSB.create(),$=new LedgerSigner(a,_,!0),j=await $.publicKey(),et=await $.publicKeyHash();return await a.close(),{pk:j,pkh:et}},LEDGER_TIMEOUT=60*1e3,RestoreLedger=({closeModal:_,account:a})=>{const $=useRestoreLedger(),j=useToast(),{isLoading:et,handleAsyncAction:tt}=useAsyncActionHandler(),rt=[{content:"Plug your Ledger into your computer using a USB cable."},{content:"Unlock your Ledger."},{content:"Make sure your Ledger has the latest firmware version."},{content:"Install and open the Tezos Wallet app on your Ledger."},{content:"Click the button below and confirm the action on your Ledger."}],nt=()=>tt(()=>withTimeout(async()=>{const it=j({description:"Please open the Tezos app on your Ledger and approve the operation",status:"info"}),ot=a.derivationPathTemplate?makeDerivationPath(a.derivationPathTemplate,0):a.derivationPath,{pk:st,pkh:ct}=await getPk(ot);$(a.derivationPathTemplate,ot,st,ct,a.label),j.close(it),j({description:"Account successfully created!",status:"success"}),_()},LEDGER_TIMEOUT),it=>it.name==="PublicKeyRetrievalError"?{description:"Request rejected. Please unlock your Ledger and open the Tezos app"}:it.name==="InvalidStateError"?{description:"Request pending. Check your ledger..."}:{description:`Ledger error. ${it.message||it.name}`});return jsxRuntimeExports.jsx(ModalContentWrapper,{icon:jsxRuntimeExports.jsx(USBIcon,{}),subtitle:"Complete the steps to connect.",title:"Connect Ledger",children:jsxRuntimeExports.jsxs(VStack,{overflowY:"auto",spacing:"24px",children:[jsxRuntimeExports.jsx(OrderedList,{spacing:4,children:rt.map((it,ot)=>jsxRuntimeExports.jsx(ListItem,{children:it.content},ot))}),jsxRuntimeExports.jsx(Button,{width:"100%",isLoading:et,onClick:nt,size:"lg",children:"Export Public Key"})]})})},MnemonicAutocomplete=({inputName:_,validate:a,inputProps:$,listProps:j})=>{const[et,tt]=reactExports.useState(!0),{register:rt,setValue:nt,watch:it}=useFormContext(),ot=it(_),st=wordlists.EN.filter(ut=>ot&&ut.startsWith(ot)).sort(),ct=!et&&st.length>0&&(st.length>1||st[0]!==ot);return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Input,{zIndex:0,autoComplete:"off","data-testid":"mnemonic-input",onFocus:()=>tt(!1),placeholder:"Type here...",...rt(_,{required:"Required",validate:a,onChange:()=>tt(!1),onBlur:()=>tt(!0)}),...$}),ct&&jsxRuntimeExports.jsx(UnorderedList,{"data-testid":"suggestions",variant:"suggestions",...j,children:st.map(ut=>jsxRuntimeExports.jsx(ListItem,{paddingTop:"2px",fontSize:"14px",fontWeight:600,"data-testid":"suggestion",onMouseDown:()=>nt(_,ut),paddingX:"7px",children:ut},ut))})]})},mnemonicSizes=[12,15,18,24],RestoreMnemonic=({goToStep:_})=>{const a=useForm({mode:"onBlur"}),{handleSubmit:$,setValue:j,trigger:et,formState:{isValid:tt}}=a,{handleAsyncAction:rt}=useAsyncActionHandler(),[nt,it]=reactExports.useState(24),ot=ut=>{const ht=Number(ut);if(mnemonicSizes.includes(ht))return it(Et=>(Et>ht&&lodashExports.range(ht,Math.max(...mnemonicSizes)).forEach(St=>{j(`word${St}`,void 0)}),ht)),et()},st=ut=>rt(async()=>{const ht=ut.split(" ");if(!mnemonicSizes.includes(ht.length))throw new Error(`the mnemonic must be ${mnemonicSizes.join(", ")} words long`);return ht.slice(0,nt).forEach((Et,St)=>{j(`word${St}`,Et)}),et()}),ct=ut=>rt(async()=>{const ht=Object.values(ut).join(" ").trim();if(!validateMnemonic_1(ht))throw new Error(`Invalid Mnemonic: "${ht}"`);return _({type:"nameAccount",account:{type:"mnemonic",mnemonic:ht}}),Promise.resolve()});return jsxRuntimeExports.jsx(ModalContentWrapper,{icon:jsxRuntimeExports.jsx(KeyIcon,{width:"24px",height:"24px"}),subtitle:"Please fill in the Seed Phrase in sequence.",title:"Import Seed Phrase",children:jsxRuntimeExports.jsx(Box,{overflowX:"hidden",children:jsxRuntimeExports.jsx(FormProvider,{...a,children:jsxRuntimeExports.jsx("form",{onSubmit:$(ct),style:{width:"100%"},children:jsxRuntimeExports.jsxs(VStack,{width:"100%",spacing:4,children:[jsxRuntimeExports.jsx(Select$1,{height:"48px",color:colors.gray[450],"data-testid":"select",icon:jsxRuntimeExports.jsx(ChevronDownIcon,{}),onChange:ut=>ot(ut.target.value),value:nt,children:mnemonicSizes.reverse().map(ut=>jsxRuntimeExports.jsxs("option",{value:ut,children:[ut," Words"]},ut))}),jsxRuntimeExports.jsx(Grid,{gridGap:3,gridTemplateColumns:"repeat(3, 1fr)",paddingBottom:"20px",children:lodashExports.range(nt).map(ut=>{const ht=`word${ut}`;return jsxRuntimeExports.jsxs(GridItem,{display:"flex",height:"38px",padding:"4px",fontSize:"sm",background:colors.gray[800],border:"1px solid",borderColor:colors.gray[500],borderRadius:"4px",children:[jsxRuntimeExports.jsx(Heading,{width:"19px",marginRight:"6px",paddingTop:"6px",color:colors.gray[400],textAlign:"right",size:"sm",children:ut+1}),jsxRuntimeExports.jsx(MnemonicAutocomplete,{inputName:ht,inputProps:{onPaste:async Et=>{Et.preventDefault();const St=await navigator.clipboard.readText();return st(St)},border:"none",size:"xsmall"},listProps:{width:"126px",marginTop:"38px",marginLeft:"-5px"}})]},ut)})}),jsxRuntimeExports.jsx(Button,{width:"100%",isDisabled:!tt,size:"lg",type:"submit",children:"Continue"}),IS_DEV]})})})})})},RestoreSecretKey=({goToStep:_})=>{const[a,$]=reactExports.useState(!1),{handleAsyncAction:j}=useAsyncActionHandler(),et=useForm({mode:"onBlur",defaultValues:{password:""}}),{register:tt,handleSubmit:rt,formState:{errors:nt,isValid:it}}=et,ot=async({secretKey:st,password:ct})=>j(async()=>{try{const ht=await(await InMemorySigner.fromSecretKey(st.trim(),ct)).secretKey();_({type:"nameAccount",account:{type:"secret_key",secretKey:ht}})}catch(ut){const ht=ut.message||"";throw ht.includes("Cannot read properties of null")?new Error("Key-password pair is invalid"):ht.includes("Invalid checksum")?new Error("Invalid secret key: checksum doesn't match"):ut}});return jsxRuntimeExports.jsx(ModalContentWrapper,{icon:jsxRuntimeExports.jsx(KeyIcon,{width:"24px",height:"24px"}),title:"Insert Secret Key",children:jsxRuntimeExports.jsx(FormProvider,{...et,children:jsxRuntimeExports.jsxs("form",{onSubmit:rt(ot),style:{width:"100%"},children:[jsxRuntimeExports.jsxs(FormControl,{isInvalid:!!nt.secretKey,children:[jsxRuntimeExports.jsx(FormLabel,{children:"Secret Key"}),jsxRuntimeExports.jsx(Textarea,{minHeight:"130px","data-testid":"secret-key",...tt("secretKey",{required:"Secret key is required",onChange:st=>$(isEncryptedSecretKeyPrefix(st.target.value.trim()))}),placeholder:"Your secret key"}),nt.secretKey&&jsxRuntimeExports.jsx(FormErrorMessage$1,{children:nt.secretKey.message})]}),a&&jsxRuntimeExports.jsxs(FormControl,{marginTop:"20px",isInvalid:!!nt.password,children:[jsxRuntimeExports.jsx(PasswordInput,{"data-testid":"password",inputName:"password",minLength:0}),nt.password&&jsxRuntimeExports.jsx(FormErrorMessage$1,{children:nt.password.message})]}),jsxRuntimeExports.jsx(Button,{width:"100%",marginTop:"32px","data-testid":"restore-continue-button",isDisabled:!it,size:"lg",type:"submit",children:"Continue"})]})})})},ShowSeedphrase=({goToStep:_,account:a})=>jsxRuntimeExports.jsx(ModalContentWrapper,{icon:jsxRuntimeExports.jsx(KeyIcon,{width:"24px",height:"24px"}),subtitle:"Please record the following 24 words in sequence in order to restore it in the future.",title:"Record Seed Phrase",children:jsxRuntimeExports.jsxs(VStack,{children:[jsxRuntimeExports.jsx(SimpleGrid,{columns:3,spacing:2,children:a.mnemonic.split(" ").map(($,j)=>jsxRuntimeExports.jsxs(Flex,{width:"126px",padding:"6px",border:"1px dashed",borderColor:colors.gray[500],borderRadius:"4px",children:[jsxRuntimeExports.jsx(Heading,{width:"18px",marginRight:"10px",paddingTop:"2px",color:colors.gray[450],textAlign:"right",size:"sm",children:j+1}),jsxRuntimeExports.jsx(Text,{"data-testid":`mnemonic-word-${j}`,size:"sm",children:$})]},j))}),jsxRuntimeExports.jsx(Button,{width:"100%",marginTop:"20px",onClick:$=>{_({type:"verifySeedphrase",account:a})},size:"lg",children:"OK, I've recorded it"})]})}),VerifySeedphrase=({goToStep:_,account:a})=>{const $=a.mnemonic.split(" "),j=useForm({mode:"onBlur"}),{handleSubmit:et,formState:{errors:tt,isValid:rt}}=j,[nt]=reactExports.useState(selectRandomElements($,5)),it=()=>_({type:"nameAccount",account:a});return jsxRuntimeExports.jsx(ModalContentWrapper,{icon:jsxRuntimeExports.jsx(DoubleCheckmarkIcon,{}),subtitle:"To verify, please type in the word that corresponds to each sequence number.",title:"Verify Seed Phrase",children:jsxRuntimeExports.jsx(Box,{overflowX:"hidden",overflowY:"auto",width:"100%",children:jsxRuntimeExports.jsx(FormProvider,{...j,children:jsxRuntimeExports.jsxs("form",{onSubmit:et(it),children:[nt.map((ot,st)=>{const ct=`${ot.index}`,ut=tt[ct];return jsxRuntimeExports.jsxs(FormControl,{marginBottom:"12px",isInvalid:!!ut,children:[jsxRuntimeExports.jsx(Text,{position:"absolute",zIndex:1,width:"26px",marginTop:"12px",marginLeft:"4px",textAlign:"right","data-testid":"mnemonic-index",children:ot.index+1}),jsxRuntimeExports.jsx(Box,{width:"100%",children:jsxRuntimeExports.jsx(MnemonicAutocomplete,{inputName:ct,inputProps:{paddingLeft:"36px",size:"md"},listProps:{marginTop:"6px"},validate:ht=>{if(ht!==ot.value)return"Word doesn't match"}})}),(ut==null?void 0:ut.message)&&jsxRuntimeExports.jsx(FormErrorMessage,{children:ut.message})]},st)}),jsxRuntimeExports.jsx(Button,{width:"100%",marginTop:"20px",isDisabled:!rt,size:"lg",type:"submit",children:"Continue"}),IS_DEV]})})})})},useStepHistory=_=>{const[a,$]=reactExports.useState(_),[j,et]=reactExports.useState([a]),tt=j.length===1;return{reset:()=>{$(_),et([_])},goToStep:rt=>{$(rt),et([...j,rt])},currentStep:a,goBack:()=>{if(tt)return;j.pop();const rt=j[j.length-1];et(j),$(rt)},atInitialStep:tt,fullHistory:j}},useOnboardingModal=_=>{const{isOpen:a,onOpen:$,onClose:j}=useDisclosure$1(),et=useImplicitAccounts().length!==0,tt=useStepHistory({type:et?"connectOrCreate":"eula"}),{currentStep:rt,goToStep:nt}=tt,it=()=>{tt.reset(),_&&_(),j()},ot=()=>{switch(rt.type){case"eula":return jsxRuntimeExports.jsx(Eula,{goToStep:nt});case"connectOrCreate":return jsxRuntimeExports.jsx(ConnectOrCreate,{closeModal:it,goToStep:nt});case"connectOptions":return jsxRuntimeExports.jsx(ConnectOptions,{goToStep:nt});case"notice":return jsxRuntimeExports.jsx(Notice,{goToStep:nt});case"restoreMnemonic":return jsxRuntimeExports.jsx(RestoreMnemonic,{goToStep:nt});case"restoreBackup":return jsxRuntimeExports.jsx(RestoreBackupFile,{});case"showSeedphrase":return jsxRuntimeExports.jsx(ShowSeedphrase,{goToStep:nt,...rt});case"verifySeedphrase":return jsxRuntimeExports.jsx(VerifySeedphrase,{goToStep:nt,...rt});case"nameAccount":return jsxRuntimeExports.jsx(NameAccount,{goToStep:nt,...rt});case"derivationPath":return jsxRuntimeExports.jsx(DerivationPath,{goToStep:nt,...rt});case"restoreLedger":return jsxRuntimeExports.jsx(RestoreLedger,{closeModal:it,...rt});case"masterPassword":return jsxRuntimeExports.jsx(MasterPassword,{onClose:it,...rt});case"fakeAccount":return jsxRuntimeExports.jsx(FakeAccount,{onClose:j});case"restoreSecretKey":return jsxRuntimeExports.jsx(RestoreSecretKey,{goToStep:nt})}};return{modalElement:jsxRuntimeExports.jsxs(Modal,{autoFocus:!1,closeOnOverlayClick:!1,isCentered:!0,isOpen:a,onClose:it,children:[et&&jsxRuntimeExports.jsx(ModalOverlay,{}),jsxRuntimeExports.jsxs(ModalContent,{children:[!tt.atInitialStep&&jsxRuntimeExports.jsx(ModalBackButton,{onClick:tt.goBack}),jsxRuntimeExports.jsx(ModalCloseButton,{onClick:it}),ot()]})]}),onOpen:$}},AccountListHeader=()=>{const{onOpen:_,modalElement:a}=useOnboardingModal();return jsxRuntimeExports.jsxs(Flex,{flexDirection:"row-reverse",marginTop:"12px",marginBottom:"16px",children:[jsxRuntimeExports.jsxs(Button,{paddingRight:"0",onClick:_,variant:"CTAWithIcon",children:[jsxRuntimeExports.jsx(AddAccountIcon,{stroke:"currentcolor"}),jsxRuntimeExports.jsx(Text,{marginLeft:"4px",size:"sm",children:"Add Account"})]}),a]})},AccountGroupPopover=({onRemove:_,onCreate:a})=>jsxRuntimeExports.jsx(PopoverMenu,{children:jsxRuntimeExports.jsxs(Box,{paddingY:"0",children:[jsxRuntimeExports.jsx(Button,{height:a?"24px":"28px","data-testid":"popover-remove",onClick:_,variant:"popover",children:jsxRuntimeExports.jsxs(Flex,{alignItems:"center",justifyContent:"space-between",flex:1,children:[jsxRuntimeExports.jsx(Text,{marginRight:"4px",children:"Remove"}),jsxRuntimeExports.jsx(TrashIcon,{stroke:"inherit"})]})}),a&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Divider,{marginY:"4px"}),jsxRuntimeExports.jsx(Button,{onClick:a,variant:"popover",children:jsxRuntimeExports.jsxs(Flex,{alignItems:"center",justifyContent:"space-between",flex:1,children:[jsxRuntimeExports.jsx(Text,{marginRight:"4px",children:"Create"}),jsxRuntimeExports.jsx(PlusIcon,{width:"18px",height:"18px",stroke:"inherit"})]})})]})]})}),DeriveMnemonicAccountModal=({onDone:_,fingerPrint:a})=>{const[$,j]=reactExports.useState(),{isLoading:et,handleAsyncAction:tt}=useAsyncActionHandler(),rt=useToast(),nt=useDeriveMnemonicAccount(),it=({name:ot,password:st})=>tt(async()=>{await nt({fingerPrint:a,password:st,label:ot.trim()||DEFAULT_ACCOUNT_LABEL}),_(),rt({description:`New account created! Successfully derived account from ${a}`})},{title:"Failed to derive new account"});return jsxRuntimeExports.jsxs(ModalContent,{children:[jsxRuntimeExports.jsx(ModalCloseButton,{}),$?jsxRuntimeExports.jsx(EnterPassword,{isLoading:et,onSubmit:ot=>it({name:$,password:ot})}):jsxRuntimeExports.jsx(NameAccountDisplay,{onSubmit:ot=>j(ot.accountName),subtitle:`Name the new account derived from ${a}`})]})},getAccountGroupLabel=_=>{switch(_.type){case"mnemonic":return`Seedphrase ${_.seedFingerPrint}`;case"social":return"Social Accounts";case"ledger":return"Ledger Accounts";case"secret_key":return"Secret Key Accounts";case"multisig":return"Multisig Accounts"}},AccountGroup=({groupLabel:_,accounts:a,balances:$})=>{const j=a[0],et=j.type==="multisig",tt=j.type==="mnemonic",{openWith:rt,onClose:nt}=reactExports.useContext(DynamicModalContext),it=useRemoveMnemonic(),ot=useRemoveNonMnemonic(),st=useImplicitAccounts().length===a.length,ct="Remove All Accounts";let ut,ht="Remove All";const Et=getAccountGroupLabel(j);st?(ut="Removing all your accounts will off-board you from Umami. This will remove or reset all customized settings to their defaults. Personal data (including saved contacts, password and accounts) won't be affected.",ht="Remove & Off-board"):tt?ut=`Are you sure you want to remove all accounts derived from ${Et}?`:ut=`Are you sure you want to remove all of your ${Et}?`;const St=()=>rt(jsxRuntimeExports.jsx(ConfirmationModal,{buttonLabel:ht,description:ut,onSubmit:()=>{tt?it(j.seedFingerPrint):et||ot(j.type),nt()},title:ct})),Mt=()=>{if(!tt)throw new Error("Can't derive a non mnemonic account!");return rt(jsxRuntimeExports.jsx(DeriveMnemonicAccountModal,{fingerPrint:j.seedFingerPrint,onDone:nt}))};return jsxRuntimeExports.jsxs(Box,{"data-testid":`account-group-${_}`,children:[jsxRuntimeExports.jsxs(Center,{justifyContent:"space-between",marginTop:"24px",marginBottom:"16px",children:[jsxRuntimeExports.jsx(Heading,{"data-testid":"account-group-title",size:"md",children:_}),!et&&jsxRuntimeExports.jsx(AccountGroupPopover,{onCreate:tt?Mt:void 0,onRemove:St})]}),a.map(kt=>jsxRuntimeExports.jsx(Box,{marginBottom:"16px",children:jsxRuntimeExports.jsx(AccountTile,{account:kt,balance:$[kt.address.pkh]})},kt.address.pkh))]})},NestedScroll=_=>jsxRuntimeExports.jsx(Box,{overflowY:"auto",height:"100%",children:_.children});var indicator$1=function _(a){a=Math.abs(a);var $=a%100;if($>=10&&$<=20)return"th";var j=a%10;return j===1?"st":j===2?"nd":j===3?"rd":"th"},indicator=indicator$1;function ordinal(_){if(typeof _!="number")throw new TypeError("Expected Number, got "+typeof _+" "+_);return Number.isFinite(_)?_+indicator(_):_}ordinal.indicator=indicator;var ordinal_1=ordinal;const ordinal$1=getDefaultExportFromCjs$1(ordinal_1),SignTransactionFormPage=_=>{const a=useAppDispatch(),{isLoading:$,handleAsyncAction:j}=useAsyncActionHandler(),{mode:et,operations:tt,data:{threshold:rt,signers:nt,name:it}}=_,{fee:ot,operations:st,estimationFailed:ct,isLoading:ut,form:ht,reEstimate:Et,signer:St,onSign:Mt}=useSignPageHelpers(tt,et),kt=$||ut,Ct=Ot=>j(async()=>{const zt=await Mt(Ot);if(!zt)throw new Error("An error occurred during contract origination");const Ut=(await zt.getOriginatedContractAddresses())[0];a(multisigActions.addMultisigLabel({pkh:Ut,label:it}))});return jsxRuntimeExports.jsx(FormProvider,{...ht,children:jsxRuntimeExports.jsx(ModalContent,{children:jsxRuntimeExports.jsxs("form",{children:[jsxRuntimeExports.jsx(SignPageHeader,{..._,description:"Please review the details and then continue to submit contract.",operationsType:st.type,signer:St,title:"Review & Submit"}),jsxRuntimeExports.jsxs(ModalBody,{children:[jsxRuntimeExports.jsx(Text,{marginBottom:"24px",padding:"14px",color:colors.gray[50],background:colors.gray[800],borderRadius:"6px","data-testid":"contract-name",children:it}),jsxRuntimeExports.jsx(AdvancedSettingsAccordion,{}),jsxRuntimeExports.jsx(FormLabel,{children:"Approvers"}),jsxRuntimeExports.jsx(Flex,{flexDirection:"column",gap:"12px",marginBottom:"12px","data-testid":"approvers",children:nt.map(Ot=>jsxRuntimeExports.jsx(AddressTile,{address:parsePkh(Ot.val),"data-testid":`approver-${Ot.val}`},Ot.val))}),jsxRuntimeExports.jsx(Flex,{justifyContent:"flex-end",children:jsxRuntimeExports.jsx(Threshold,{signersAmount:nt.length,threshold:rt})}),jsxRuntimeExports.jsxs(Box,{children:[jsxRuntimeExports.jsx(FormControl,{marginTop:"24px",marginBottom:"12px",children:jsxRuntimeExports.jsx(OwnedImplicitAccountsAutocomplete,{allowUnknown:!1,inputName:"signer",isLoading:kt,keepValid:!0,label:"Creation Fee Payer",onUpdate:Et})}),jsxRuntimeExports.jsx(Flex,{justifyContent:"flex-end",children:jsxRuntimeExports.jsx(SignPageFee,{fee:ot})})]})]}),jsxRuntimeExports.jsx(ModalFooter,{children:jsxRuntimeExports.jsx(SignButton,{isDisabled:ct,isLoading:kt,onSubmit:Ct,signer:St,text:"Submit Contract"})})]})})})},Threshold=({threshold:_,signersAmount:a})=>jsxRuntimeExports.jsxs(Flex,{alignItems:"center","data-testid":"threshold",children:[jsxRuntimeExports.jsx(Heading,{marginRight:"4px",color:colors.gray[450],size:"sm",children:"No. of approvals:"}),jsxRuntimeExports.jsx(Text,{color:colors.gray[400],size:"sm",children:`${_} out of ${a}`})]}),contract=[{prim:"storage",args:[{prim:"pair",args:[{prim:"address",annots:["%owner"]},{prim:"pair",args:[{prim:"set",args:[{prim:"address"}],annots:["%signers"]},{prim:"pair",args:[{prim:"nat",annots:["%threshold"]},{prim:"pair",args:[{prim:"nat",annots:["%last_op_id"]},{prim:"pair",args:[{prim:"big_map",args:[{prim:"nat"},{prim:"pair",args:[{prim:"lambda",args:[{prim:"unit"},{prim:"list",args:[{prim:"operation"}]}],annots:["%actions"]},{prim:"set",args:[{prim:"address"}],annots:["%approvals"]}]}],annots:["%pending_ops"]},{prim:"big_map",args:[{prim:"string"},{prim:"bytes"}],annots:["%metadata"]}]}]}]}]}]}]},{prim:"parameter",args:[{prim:"or",args:[{prim:"or",args:[{prim:"or",args:[{prim:"bytes",annots:["%set_metadata_uri"]},{prim:"unit",annots:["%default"]}]},{prim:"or",args:[{prim:"lambda",args:[{prim:"unit"},{prim:"list",args:[{prim:"operation"}]}],annots:["%propose"]},{prim:"nat",annots:["%approve"]}]}]},{prim:"nat",annots:["%execute"]}]}]},{prim:"code",args:[[{prim:"NIL",args:[{prim:"operation"}]},{prim:"DIG",args:[{int:"1"}]},{prim:"UNPAIR"},{prim:"DIP",args:[{int:"1"},[{prim:"UNPAIR",args:[{int:"6"}]}]]},{prim:"IF_LEFT",args:[[{prim:"IF_LEFT",args:[[{prim:"IF_LEFT",args:[[{prim:"DUP",args:[{int:"2"}]},{prim:"SENDER"},{prim:"COMPARE"},{prim:"EQ"},{prim:"NOT"},{prim:"IF",args:[[{prim:"PUSH",args:[{prim:"string"},{string:"INVALID_CALLER"}]},{prim:"FAILWITH"}],[]]},{prim:"DUP",args:[{int:"7"}]},{prim:"DUP",args:[{int:"2"}]},{prim:"SOME"},{prim:"PUSH",args:[{prim:"string"},{string:""}]},{prim:"UPDATE"},{prim:"DIP",args:[{int:"1"},[{prim:"DIG",args:[{int:"6"}]},{prim:"DROP",args:[{int:"1"}]}]]},{prim:"DUG",args:[{int:"6"}]},{prim:"DROP",args:[{int:"1"}]},{prim:"PAIR",args:[{int:"6"}]},{prim:"DIG",args:[{int:"1"}]},{prim:"PAIR"}],[{prim:"DROP",args:[{int:"1"}]},{prim:"DUP",args:[{int:"3"}]},{prim:"DUP",args:[{int:"3"}]},{prim:"SIZE"},{prim:"COMPARE"},{prim:"GE"},{prim:"NOT"},{prim:"IF",args:[[{prim:"PUSH",args:[{prim:"string"},{string:"FUNDING BLOCKED SINCE PARAMS ARE INVALID"}]},{prim:"FAILWITH"}],[]]},{prim:"PAIR",args:[{int:"6"}]},{prim:"DIG",args:[{int:"1"}]},{prim:"PAIR"}]]}],[{prim:"IF_LEFT",args:[[{prim:"PUSH",args:[{prim:"mutez"},{int:"0"}]},{prim:"AMOUNT"},{prim:"COMPARE"},{prim:"EQ"},{prim:"NOT"},{prim:"IF",args:[[{prim:"PUSH",args:[{prim:"string"},{string:"TO FUND CONTRACT, PLEASE USE THE DEFAULT ENTRYPOINT"}]},{prim:"FAILWITH"}],[]]},{prim:"DUP",args:[{int:"3"}]},{prim:"SENDER"},{prim:"MEM"},{prim:"NOT"},{prim:"IF",args:[[{prim:"PUSH",args:[{prim:"string"},{string:"ONLY FOR SIGNERS"}]},{prim:"FAILWITH"}],[]]},{prim:"PUSH",args:[{prim:"nat"},{int:"1"}]},{prim:"DUP",args:[{int:"6"}]},{prim:"ADD"},{prim:"DIP",args:[{int:"1"},[{prim:"DIG",args:[{int:"4"}]},{prim:"DROP",args:[{int:"1"}]}]]},{prim:"DUG",args:[{int:"4"}]},{prim:"DUP",args:[{int:"6"}]},{prim:"DUP",args:[{int:"6"}]},{prim:"MEM"},{prim:"IF",args:[[{prim:"PUSH",args:[{prim:"string"},{string:"pending_ops"}]},{prim:"PUSH",args:[{prim:"string"},{string:"KEY_EXISTS"}]},{prim:"PAIR"},{prim:"FAILWITH"}],[{prim:"DUP",args:[{int:"6"}]},{prim:"EMPTY_SET",args:[{prim:"address"}]},{prim:"PUSH",args:[{prim:"bool"},{prim:"True"}]},{prim:"SENDER"},{prim:"UPDATE"},{prim:"DUP",args:[{int:"3"}]},{prim:"PAIR"},{prim:"SOME"},{prim:"DUP",args:[{int:"7"}]},{prim:"UPDATE"},{prim:"DIP",args:[{int:"1"},[{prim:"DIG",args:[{int:"5"}]},{prim:"DROP",args:[{int:"1"}]}]]},{prim:"DUG",args:[{int:"5"}]}]]},{prim:"DROP",args:[{int:"1"}]},{prim:"PAIR",args:[{int:"6"}]},{prim:"DIG",args:[{int:"1"}]},{prim:"PAIR"}],[{prim:"DUP",args:[{int:"6"}]},{prim:"DUP",args:[{int:"2"}]},{prim:"GET"},{prim:"IF_NONE",args:[[{prim:"PUSH",args:[{prim:"string"},{string:"INVALID OP ID"}]},{prim:"FAILWITH"}],[]]},{prim:"PUSH",args:[{prim:"mutez"},{int:"0"}]},{prim:"AMOUNT"},{prim:"COMPARE"},{prim:"EQ"},{prim:"NOT"},{prim:"IF",args:[[{prim:"PUSH",args:[{prim:"string"},{string:"TO FUND CONTRACT, PLEASE USE THE DEFAULT ENTRYPOINT"}]},{prim:"FAILWITH"}],[]]},{prim:"DUP",args:[{int:"4"}]},{prim:"SENDER"},{prim:"MEM"},{prim:"NOT"},{prim:"IF",args:[[{prim:"PUSH",args:[{prim:"string"},{string:"ONLY FOR SIGNERS"}]},{prim:"FAILWITH"}],[]]},{prim:"DUP"},{prim:"CDR"},{prim:"SENDER"},{prim:"MEM"},{prim:"IF",args:[[{prim:"PUSH",args:[{prim:"string"},{string:"ALREADY APPROVED"}]},{prim:"FAILWITH"}],[]]},{prim:"DUP",args:[{int:"7"}]},{prim:"DUP",args:[{int:"8"}]},{prim:"DUP",args:[{int:"4"}]},{prim:"GET"},{prim:"IF_NONE",args:[[{prim:"PUSH",args:[{prim:"string"},{string:"pending_ops"}]},{prim:"PUSH",args:[{prim:"string"},{string:"ASSET_NOT_FOUND"}]},{prim:"PAIR"},{prim:"FAILWITH"}],[]]},{prim:"UNPAIR"},{prim:"SWAP"},{prim:"DROP",args:[{int:"1"}]},{prim:"DUP",args:[{int:"9"}]},{prim:"DUP",args:[{int:"5"}]},{prim:"GET"},{prim:"IF_NONE",args:[[{prim:"PUSH",args:[{prim:"string"},{string:"pending_ops"}]},{prim:"PUSH",args:[{prim:"string"},{string:"ASSET_NOT_FOUND"}]},{prim:"PAIR"},{prim:"FAILWITH"}],[]]},{prim:"CDR"},{prim:"PUSH",args:[{prim:"bool"},{prim:"True"}]},{prim:"SENDER"},{prim:"UPDATE"},{prim:"SWAP"},{prim:"PAIR"},{prim:"SOME"},{prim:"DUP",args:[{int:"4"}]},{prim:"UPDATE"},{prim:"DIP",args:[{int:"1"},[{prim:"DIG",args:[{int:"6"}]},{prim:"DROP",args:[{int:"1"}]}]]},{prim:"DUG",args:[{int:"6"}]},{prim:"DROP",args:[{int:"2"}]},{prim:"PAIR",args:[{int:"6"}]},{prim:"DIG",args:[{int:"1"}]},{prim:"PAIR"}]]}]]}],[{prim:"DUP",args:[{int:"6"}]},{prim:"DUP",args:[{int:"2"}]},{prim:"GET"},{prim:"IF_NONE",args:[[{prim:"PUSH",args:[{prim:"string"},{string:"INVALID OP ID"}]},{prim:"FAILWITH"}],[]]},{prim:"PUSH",args:[{prim:"mutez"},{int:"0"}]},{prim:"AMOUNT"},{prim:"COMPARE"},{prim:"EQ"},{prim:"NOT"},{prim:"IF",args:[[{prim:"PUSH",args:[{prim:"string"},{string:"TO FUND CONTRACT, PLEASE USE THE DEFAULT ENTRYPOINT"}]},{prim:"FAILWITH"}],[]]},{prim:"DUP",args:[{int:"4"}]},{prim:"SENDER"},{prim:"MEM"},{prim:"NOT"},{prim:"IF",args:[[{prim:"PUSH",args:[{prim:"string"},{string:"ONLY FOR SIGNERS"}]},{prim:"FAILWITH"}],[]]},{prim:"DUP",args:[{int:"5"}]},{prim:"DUP",args:[{int:"2"}]},{prim:"CDR"},{prim:"SIZE"},{prim:"COMPARE"},{prim:"GE"},{prim:"NOT"},{prim:"IF",args:[[{prim:"PUSH",args:[{prim:"string"},{string:"NOT YET APPROVED"}]},{prim:"FAILWITH"}],[]]},{prim:"DUP",args:[{int:"7"}]},{prim:"DUP",args:[{int:"3"}]},{prim:"GET"},{prim:"IF_NONE",args:[[{prim:"PUSH",args:[{prim:"string"},{string:"pending_ops"}]},{prim:"PUSH",args:[{prim:"string"},{string:"ASSET_NOT_FOUND"}]},{prim:"PAIR"},{prim:"FAILWITH"}],[]]},{prim:"CAR"},{prim:"PUSH",args:[{prim:"unit"},{prim:"Unit"}]},{prim:"EXEC"},{prim:"DIP",args:[{int:"1"},[{prim:"DIG",args:[{int:"8"}]},{prim:"DROP",args:[{int:"1"}]}]]},{prim:"DUG",args:[{int:"8"}]},{prim:"DUP",args:[{int:"7"}]},{prim:"NONE",args:[{prim:"pair",args:[{prim:"lambda",args:[{prim:"unit"},{prim:"list",args:[{prim:"operation"}]}]},{prim:"set",args:[{prim:"address"}]}]}]},{prim:"DUP",args:[{int:"4"}]},{prim:"UPDATE"},{prim:"DIP",args:[{int:"1"},[{prim:"DIG",args:[{int:"6"}]},{prim:"DROP",args:[{int:"1"}]}]]},{prim:"DUG",args:[{int:"6"}]},{prim:"DROP",args:[{int:"2"}]},{prim:"PAIR",args:[{int:"6"}]},{prim:"DIG",args:[{int:"1"}]},{prim:"PAIR"}]]}]]}],makeStorageJSON=(_,a,$)=>({owner:_,signers:a,threshold:$,last_op_id:"0",pending_ops:[],metadata:[]}),toOperation$4=_=>({type:"contract_origination",sender:parsePkh(_.sender),code:contract,storage:makeStorageJSON(_.sender,_.signers.map(a=>a.val),String(_.threshold))}),SelectApproversFormPage=_=>{const{goBack:a,sender:$,...j}=_,et=useForm({mode:"onBlur",defaultValues:{sender:$.address.pkh,signers:[{val:""}],threshold:1,...formDefaultValues(j)}}),{formState:{errors:tt,isValid:rt},control:nt,register:it,handleSubmit:ot,getValues:st,watch:ct}=et,ut=useFieldArray({control:nt,name:"signers",rules:{minLength:1}}),ht=ct("signers").length,Et=useOpenSignPageFormAction({SignPage:SignTransactionFormPage,signPageExtraData:ct(),FormPage:SelectApproversFormPage,defaultFormPageProps:_,toOperation:toOperation$4}),{onFormSubmitActionHandlers:[St],isLoading:Mt}=useHandleOnSubmitFormActions([Et]);return jsxRuntimeExports.jsx(FormProvider,{...et,children:jsxRuntimeExports.jsxs(ModalContent,{children:[jsxRuntimeExports.jsx(ModalBackButton,{onClick:a}),jsxRuntimeExports.jsxs("form",{onSubmit:ot(St),children:[jsxRuntimeExports.jsx(FormPageHeader,{subTitle:"Select the participants of the contract and choose the minimum number of approvals.",title:"Select Approvers"}),jsxRuntimeExports.jsxs(ModalBody,{children:[ut.fields.map((kt,Ct)=>{var jt;const Ot=tt.signers&&tt.signers[Ct],zt=`${Ct===0?"Select ":""}${ordinal$1(Ct+1)} approver`,Ut=ht>1?"short":"default",Vt=Ut==="short"?"368px":"100%";return jsxRuntimeExports.jsxs(FormControl,{display:"inline-block",width:Vt,marginBottom:"8px","data-testid":`signer-input-${Ct}`,isInvalid:!!Ot,children:[jsxRuntimeExports.jsx(OwnedImplicitAccountsAutocomplete,{allowUnknown:!0,inputName:`signers.${Ct}.val`,label:zt,size:Ut,style:{width:Vt},validate:$t=>{if(!isValidImplicitPkh($t))return"Signer must be valid TZ address";const Bt=st("signers").map(Nt=>Nt.val);if(Bt.length>new Set(Bt).size)return"Duplicate approver"}}),ht>1&&jsxRuntimeExports.jsx(IconButton,{position:"absolute",height:"24px",marginTop:"-36px",marginLeft:"374px",background:colors.gray[500],"aria-label":"Remove","data-testid":`remove-signer-${Ct}`,icon:jsxRuntimeExports.jsx(TrashIcon,{width:"12px",height:"14px",stroke:colors.gray[300]}),isRound:!0,onClick:()=>ut.remove(Ct),size:"xs",variant:"tertiary"}),Ot&&jsxRuntimeExports.jsx(FormErrorMessage,{"data-testid":`signer-${Ct}-error`,children:(jt=Ot.val)==null?void 0:jt.message})]},kt.id)}),jsxRuntimeExports.jsx(Button,{paddingLeft:0,onClick:()=>ut.append({val:""}),variant:"specialCTA",children:"+ Add Approver"}),jsxRuntimeExports.jsxs(FormControl,{marginTop:"24px",isInvalid:!!tt.threshold,children:[jsxRuntimeExports.jsxs(FormLabel,{display:"inline",children:["Min No. of approvals:",jsxRuntimeExports.jsx(InputGroup,{display:"inline",marginLeft:"10px",children:jsxRuntimeExports.jsx(Input,{width:"60px",color:"white","data-testid":"threshold-input",step:1,type:"number",...it("threshold",{valueAsNumber:!0,required:"No. of approvals is required",max:{value:ht,message:`Max no. of approvals is ${ht}`},min:{value:1,message:"Min no. of approvals is 1"}})})})]}),jsxRuntimeExports.jsxs(Text,{display:"inline","data-testid":"max-signers",children:["out of ",ht]}),tt.threshold&&jsxRuntimeExports.jsx(FormErrorMessage,{"data-testid":"threshold-error",children:tt.threshold.message})]})]}),jsxRuntimeExports.jsx(ModalFooter,{children:jsxRuntimeExports.jsx(Button,{width:"100%",isDisabled:!rt,isLoading:Mt,size:"lg",type:"submit",children:"Review"})})]})]})})},NameMultisigFormPage=({name:_})=>{const a=useForm({mode:"onBlur",defaultValues:{name:_||""}}),{formState:{errors:$,isValid:j},register:et,handleSubmit:tt}=a,rt=useImplicitAccounts(),nt=useGetMostFundedImplicitAccount(),{openWith:it}=reactExports.useContext(DynamicModalContext),ot=({name:ct})=>it(jsxRuntimeExports.jsx(SelectApproversFormPage,{form:{name:ct.trim()},goBack:()=>it(jsxRuntimeExports.jsx(NameMultisigFormPage,{name:ct})),sender:nt(rt)})),st=useValidateName();return jsxRuntimeExports.jsx(FormProvider,{...a,children:jsxRuntimeExports.jsx(ModalContent,{children:jsxRuntimeExports.jsxs("form",{onSubmit:tt(ot),children:[jsxRuntimeExports.jsx(FormPageHeader,{subTitle:"Name your account. The account name will only appear in your local Umami app.",title:"Account Name"}),jsxRuntimeExports.jsx(ModalBody,{children:jsxRuntimeExports.jsxs(FormControl,{isInvalid:!!$.name,children:[jsxRuntimeExports.jsx(FormLabel,{children:"Account Name"}),jsxRuntimeExports.jsx(InputGroup,{children:jsxRuntimeExports.jsx(Input,{"data-testid":"multisig-account-name",type:"text",...et("name",{validate:st}),placeholder:"Account Name"})}),$.name&&jsxRuntimeExports.jsx(FormErrorMessage,{"data-testid":"name-error",children:$.name.message})]})}),jsxRuntimeExports.jsx(ModalFooter,{children:jsxRuntimeExports.jsx(Button,{width:"100%",isDisabled:!j,size:"lg",type:"submit",children:"Continue"})})]})})})},AccountsList=()=>{const _=useAllAccounts(),a=useAppSelector(tt=>tt.assets.balances.mutez),$=lodashExports.groupBy(_,getAccountGroupLabel),{openWith:j}=reactExports.useContext(DynamicModalContext),et=Object.entries($).map(([tt,rt])=>jsxRuntimeExports.jsx(AccountGroup,{accounts:rt,balances:a,groupLabel:tt},tt));return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsx(Box,{height:"100%",marginRight:0,children:jsxRuntimeExports.jsxs(NestedScroll,{children:[lodashExports.compact(et),jsxRuntimeExports.jsx(Button,{width:"100%",height:"90px",background:colors.black,border:"1px dashed",borderColor:colors.gray[500],onClick:()=>j(jsxRuntimeExports.jsx(NameMultisigFormPage,{})),variant:"outline",children:jsxRuntimeExports.jsxs(Text,{display:"block",width:"100%",margin:"20px",color:colors.gray[400],textAlign:"center",children:[jsxRuntimeExports.jsx(KeyIcon,{marginRight:"4px"}),"Create New Multisig"]})})]})})})},useGetDelegationPrettyDisplayValues=()=>{const _=useGetAccountBalance();return a=>{const $=_(a.sender),j=new Date,et=prettyTezAmount(a.amount),tt=$&&prettyTezAmount($),rt=`Since ${formatRelative(new Date(a.timestamp),j)}`;return{initialBalance:et,currentBalance:tt,duration:rt}}},SignPage$4=_=>{const{mode:a,operations:$}=_,{fee:j,operations:et,estimationFailed:tt,isLoading:rt,form:nt,signer:it,reEstimate:ot,onSign:st}=useSignPageHelpers($,a),ct=et.operations[0].recipient;return jsxRuntimeExports.jsx(FormProvider,{...nt,children:jsxRuntimeExports.jsx(ModalContent,{children:jsxRuntimeExports.jsxs("form",{children:[jsxRuntimeExports.jsx(SignPageHeader,{..._,operationsType:et.type,signer:et.signer}),jsxRuntimeExports.jsxs(ModalBody,{children:[jsxRuntimeExports.jsx(FormLabel,{children:"From"}),jsxRuntimeExports.jsx(AddressTile,{address:it.address}),jsxRuntimeExports.jsx(Flex,{alignItems:"center",justifyContent:"end",marginTop:"12px",marginBottom:"24px",paddingX:"4px",children:jsxRuntimeExports.jsx(Flex,{alignItems:"center",children:jsxRuntimeExports.jsx(SignPageFee,{fee:j})})}),jsxRuntimeExports.jsx(FormLabel,{children:"To"}),jsxRuntimeExports.jsx(AddressTile,{address:ct}),jsxRuntimeExports.jsx(OperationSignerSelector,{isLoading:rt,operationType:et.type,reEstimate:ot,sender:et.sender}),jsxRuntimeExports.jsx(AdvancedSettingsAccordion,{})]}),jsxRuntimeExports.jsx(ModalFooter,{children:jsxRuntimeExports.jsx(SignButton,{isDisabled:tt,isLoading:rt,onSubmit:st,signer:it,text:headerText(et.type,a)})})]})})})},FormPage$3=_=>{var ct;const a=(ct=_.form)==null?void 0:ct.baker,$=useOpenSignPageFormAction({SignPage:SignPage$4,signPageExtraData:void 0,FormPage:FormPage$3,defaultFormPageProps:_,toOperation:toOperation$3}),j=useAddToBatchFormAction(toOperation$3),{onFormSubmitActionHandlers:[et,tt],isLoading:rt}=useHandleOnSubmitFormActions([$,j]),nt=useForm({mode:"onBlur",defaultValues:formDefaultValues(_)}),{formState:{isValid:it,errors:ot},handleSubmit:st}=nt;return jsxRuntimeExports.jsx(FormProvider,{...nt,children:jsxRuntimeExports.jsx(ModalContent,{children:jsxRuntimeExports.jsxs("form",{"data-testid":"delegate-form",children:[jsxRuntimeExports.jsxs(HeaderWrapper,{children:[jsxRuntimeExports.jsx(Text,{fontWeight:"600",size:"2xl",children:a?"Change Baker":"Delegate"}),jsxRuntimeExports.jsx(ModalCloseButton,{})]}),jsxRuntimeExports.jsxs(ModalBody,{children:[jsxRuntimeExports.jsxs(FormControl,{isInvalid:!!ot.sender,children:[jsxRuntimeExports.jsx(OwnedAccountsAutocomplete,{allowUnknown:!1,inputName:"sender",isDisabled:!!_.sender,label:"From"}),ot.sender&&jsxRuntimeExports.jsx(FormErrorMessage,{"data-testid":"from-error",children:ot.sender.message})]}),jsxRuntimeExports.jsxs(FormControl,{marginTop:"24px","data-testid":"baker",isInvalid:!!ot.baker,children:[jsxRuntimeExports.jsx(BakersAutocomplete,{allowUnknown:!0,inputName:"baker",label:"Baker"}),ot.baker&&jsxRuntimeExports.jsx(FormErrorMessage,{children:ot.baker.message})]})]}),jsxRuntimeExports.jsx(ModalFooter,{children:jsxRuntimeExports.jsx(FormSubmitButtons,{isLoading:rt,isValid:it,onAddToBatch:st(tt),onSingleSubmit:st(et)})})]})})})},toOperation$3=_=>({type:"delegation",sender:parsePkh(_.sender),recipient:parseImplicitPkh(_.baker)}),SignPage$3=_=>{const{mode:a,operations:$}=_,{fee:j,operations:et,estimationFailed:tt,isLoading:rt,form:nt,signer:it,reEstimate:ot,onSign:st}=useSignPageHelpers($,a);return jsxRuntimeExports.jsx(FormProvider,{...nt,children:jsxRuntimeExports.jsx(ModalContent,{children:jsxRuntimeExports.jsxs("form",{children:[jsxRuntimeExports.jsx(SignPageHeader,{..._,operationsType:et.type,signer:et.signer}),jsxRuntimeExports.jsxs(ModalBody,{children:[jsxRuntimeExports.jsx(FormLabel,{children:"From"}),jsxRuntimeExports.jsx(AddressTile,{address:it.address}),jsxRuntimeExports.jsx(Flex,{alignItems:"center",justifyContent:"end",marginTop:"12px",paddingX:"4px",children:jsxRuntimeExports.jsx(SignPageFee,{fee:j})}),jsxRuntimeExports.jsx(OperationSignerSelector,{isLoading:rt,operationType:et.type,reEstimate:ot,sender:et.sender}),jsxRuntimeExports.jsx(AdvancedSettingsAccordion,{})]}),jsxRuntimeExports.jsx(ModalFooter,{children:jsxRuntimeExports.jsx(SignButton,{isDisabled:tt,isLoading:rt,onSubmit:st,signer:it,text:headerText(et.type,a)})})]})})})},FormPage$2=_=>{var st;const{sender:a}=_,$=(st=_.form)==null?void 0:st.baker,j=useOpenSignPageFormAction({SignPage:SignPage$3,signPageExtraData:void 0,FormPage:FormPage$2,defaultFormPageProps:{sender:a},toOperation:toOperation$2}),et=useAddToBatchFormAction(toOperation$2),{onFormSubmitActionHandlers:[tt,rt],isLoading:nt}=useHandleOnSubmitFormActions([j,et]),it=useForm({mode:"onBlur",defaultValues:formDefaultValues({sender:a})}),{handleSubmit:ot}=it;return jsxRuntimeExports.jsx(FormProvider,{...it,children:jsxRuntimeExports.jsx(ModalContent,{children:jsxRuntimeExports.jsxs("form",{"data-testid":"undelegate-form",children:[jsxRuntimeExports.jsx(FormPageHeader,{subTitle:"Select preview to end delegation or insert this transaction into a Batch.",title:"End Delegation"}),jsxRuntimeExports.jsxs(ModalBody,{children:[jsxRuntimeExports.jsx(FormControl,{children:jsxRuntimeExports.jsx(OwnedAccountsAutocomplete,{allowUnknown:!1,inputName:"sender",isDisabled:!0,label:"From"})}),jsxRuntimeExports.jsx(FormLabel,{marginTop:"24px",children:"Baker"}),$&&jsxRuntimeExports.jsx(AddressTile,{address:parsePkh($)})]}),jsxRuntimeExports.jsx(ModalFooter,{children:jsxRuntimeExports.jsx(FormSubmitButtons,{isLoading:nt,isValid:!0,onAddToBatch:ot(rt),onSingleSubmit:ot(tt)})})]})})})},toOperation$2=_=>({type:"undelegation",sender:parsePkh(_.sender)}),Row=({label:_,value:a,...$})=>jsxRuntimeExports.jsxs(Flex,{alignItems:"center",height:"50px",padding:"16px","data-testid":_,...$,children:[jsxRuntimeExports.jsx(Box,{flex:1,children:jsxRuntimeExports.jsx(Heading,{color:colors.gray[400],size:"sm",children:_})}),jsxRuntimeExports.jsx(Box,{flex:1,children:typeof a=="string"?jsxRuntimeExports.jsx(Text,{size:"sm",children:a}):a})]}),DelegationDisplay=({delegation:_,account:a})=>{const{openWith:$}=reactExports.useContext(DynamicModalContext),j=useGetOwnedAccount(),et=useGetDelegationPrettyDisplayValues();if(!_)return jsxRuntimeExports.jsx(NoDelegations,{onDelegate:()=>$(jsxRuntimeExports.jsx(FormPage$3,{sender:a})),size:"md"});const{currentBalance:tt,duration:rt,initialBalance:nt}=et(_),{sender:it,delegate:{address:ot}}=_,st=j(it);return jsxRuntimeExports.jsxs(Box,{children:[jsxRuntimeExports.jsx(Row,{borderBottom:`1px solid ${colors.gray[700]}`,borderTopRadius:"8px",_odd:{bg:colors.gray[800]},label:"Initial Balance:",value:nt}),tt&&jsxRuntimeExports.jsx(Row,{_odd:{bg:colors.gray[800]},label:"Current Balance:",value:tt}),jsxRuntimeExports.jsx(Row,{borderBottom:`1px solid ${colors.gray[700]}`,_odd:{bg:colors.gray[800]},label:"Duration:",value:rt}),jsxRuntimeExports.jsx(Row,{borderBottomRadius:"8px",_odd:{bg:colors.gray[800]},label:"Baker:",value:jsxRuntimeExports.jsx(AddressPill,{address:parsePkh(_.delegate.address)})}),jsxRuntimeExports.jsxs(Flex,{marginTop:"24px",children:[jsxRuntimeExports.jsx(Button,{flex:1,marginRight:"16px",onClick:()=>$(jsxRuntimeExports.jsx(FormPage$2,{form:{sender:it,baker:ot},sender:st})),variant:"warning",children:"End Delegation"}),jsxRuntimeExports.jsx(Button,{flex:1,onClick:()=>$(jsxRuntimeExports.jsx(FormPage$3,{form:{sender:it,baker:ot},sender:st})),variant:"tertiary",children:"Change Baker"})]})]})},MultisigDecodedOperation=({operation:_})=>{switch(_.type){case"delegation":return jsxRuntimeExports.jsxs(Box,{"data-testid":"decoded-item-delegate",marginY:6,children:[jsxRuntimeExports.jsx(Text,{marginRight:"3px",color:colors.gray[450],fontSize:"14px",children:"Delegate to:"}),jsxRuntimeExports.jsx(AddressPill,{address:_.recipient})]});case"undelegation":return jsxRuntimeExports.jsx(Box,{"data-testid":"decoded-item-undelegate",marginY:6,children:jsxRuntimeExports.jsx(Text,{color:colors.gray[450],fontSize:"14px",children:"End Delegation"})});case"tez":case"fa1.2":case"fa2":return jsxRuntimeExports.jsxs(Box,{children:[jsxRuntimeExports.jsx(MultisigOperationAmount,{operation:_}),jsxRuntimeExports.jsxs(Flex,{alignItems:"center",marginTop:"8px",children:[jsxRuntimeExports.jsx(Text,{marginRight:"3px",color:colors.gray[450],fontSize:"14px",children:"Send to:"}),jsxRuntimeExports.jsx(AddressPill,{address:_.recipient})]})]});case"contract_origination":case"contract_call":throw new Error(`${_.type} is not supported yet`)}},MultisigOperationAmount=({operation:_})=>{const a=useGetToken();switch(_.type){case"tez":return jsxRuntimeExports.jsxs(Flex,{alignItems:"center","data-testid":"decoded-tez-amount",children:[jsxRuntimeExports.jsx(OutgoingArrow,{}),jsxRuntimeExports.jsxs(Text,{marginLeft:"8px",color:colors.orange,fontSize:"14px",fontWeight:600,textAlign:"center",children:["-",prettyTezAmount(_.amount)]})]});case"fa1.2":case"fa2":{const $=a(_.contract.pkh,_.tokenId);if(!$)return null;const j=tokenNameSafe($),et=$.type==="nft";return jsxRuntimeExports.jsxs(Flex,{alignItems:"center","data-testid":"decoded-fa-amount",children:[jsxRuntimeExports.jsx(OutgoingArrow,{}),jsxRuntimeExports.jsx(Box,{marginLeft:"8px",color:colors.orange,textAlign:"center",children:et?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Text,{display:"inline",marginRight:"3px",fontSize:"14px",fontWeight:600,children:_.amount}),jsxRuntimeExports.jsx(Text,{display:"inline",color:"white",fontSize:"14px",fontWeight:600,children:j})]}):jsxRuntimeExports.jsxs(Text,{fontSize:"14px",fontWeight:600,children:["-",tokenPrettyAmount(_.amount,$,{showSymbol:!0})]})})]})}case"delegation":case"undelegation":case"contract_origination":case"contract_call":return null}},caseInsensitiveLiteral=_=>z.string().regex(new RegExp(`^${_}$`,"i")),prim=_=>z.object({prim:caseInsensitiveLiteral(_)}),pushKeyHashSchema=z.object({prim:z.literal("PUSH"),args:z.tuple([z.object({prim:z.literal("key_hash")}),z.object({bytes:z.string()})])}),pushAddressSchema=z.object({prim:z.literal("PUSH"),args:z.tuple([z.object({prim:z.literal("address")}),z.object({bytes:z.string()})])}),pair=(_,a)=>z.object({prim:z.literal("Pair"),args:z.tuple([_,a])}),contractZeroTezSchema=z.object({prim:z.literal("PUSH"),args:z.tuple([z.object({prim:z.literal("mutez")}),z.object({int:z.literal("0")})])}),lambdaEndSchema=[prim("TRANSFER_TOKENS"),prim("CONS")],contractHeadSchema=z.object({prim:z.literal("CONTRACT")}),batchHeadSchema=z.tuple([z.object({prim:z.literal("DROP")}),z.object({prim:z.literal("NIL"),args:z.array(z.object({prim:z.literal("operation")}))})]),pushMutezSchema=z.object({prim:z.literal("PUSH"),args:z.tuple([z.object({prim:z.literal("mutez")}),z.object({int:z.string()})])}),tezSchema=z.tuple([pushKeyHashSchema,prim("IMPLICIT_ACCOUNT"),pushMutezSchema,prim("UNIT"),...lambdaEndSchema]),contractTezSchema=z.tuple([pushAddressSchema,contractHeadSchema,prim("IF_NONE"),pushMutezSchema,prim("UNIT"),...lambdaEndSchema]),setDelegateSchema=z.tuple([pushKeyHashSchema,prim("SOME"),prim("SET_DELEGATE"),prim("CONS")]),removeDelegateSchema=z.tuple([z.object({prim:z.literal("NONE"),args:z.tuple([z.object({prim:z.literal("key_hash")})])}),prim("SET_DELEGATE"),prim("CONS")]),fa2Schema=z.tuple([pushAddressSchema,contractHeadSchema,z.tuple([prim("IF_NONE")]),contractZeroTezSchema,z.object({prim:z.literal("PUSH"),args:z.tuple([prim("list"),z.array(pair(z.object({bytes:z.string({description:"from"})}),z.array(pair(z.object({bytes:z.string({description:"to"})}),pair(z.object({int:z.string({description:"token_id"})}),z.object({int:z.string({description:"amount"})}))))))])}),...lambdaEndSchema]),fa1Schema=z.tuple([pushAddressSchema,contractHeadSchema,z.tuple([prim("IF_NONE")]),contractZeroTezSchema,z.object({prim:z.literal("PUSH"),args:z.tuple([prim("Pair"),pair(z.object({bytes:z.string({description:"from"})}),pair(z.object({bytes:z.string({description:"to"})}),z.object({int:z.string({description:"amount"})})))])}),...lambdaEndSchema]);class UnrecognizedMichelsonError extends Error{}const convertToPkh=_=>(_.length===42&&(_="00"+_),encodeAddress(_)),parseTez=_=>{const a=tezSchema.parse(_),$=a[0].args[1].bytes,j=a[2].args[1].int;return{type:"tez",recipient:parseImplicitPkh(convertToPkh($)),amount:j}},parseTezContract=_=>{const a=contractTezSchema.parse(_),$=a[0].args[1].bytes,j=a[3].args[1].int;return{type:"tez",recipient:parseContractPkh(convertToPkh($)),amount:j}},parseFa2=_=>{const a=fa2Schema.parse(_),$=parseContractPkh(convertToPkh(a[0].args[1].bytes));return a[4].args[1].flatMap(et=>{const tt=et.args[0].bytes;return et.args[1].map(rt=>{const nt=rt.args[0].bytes,it=rt.args[1].args[0].int,ot=rt.args[1].args[1].int;return{type:"fa2",contract:$,sender:parsePkh(convertToPkh(tt)),recipient:parsePkh(convertToPkh(nt)),tokenId:it,amount:ot}})})},parseFa1=_=>{const a=fa1Schema.parse(_),$=a[0],j=a[4].args[1],et=j.args[0].bytes,tt=j.args[1].args[0].bytes;return{type:"fa1.2",amount:j.args[1].args[1].int,contract:parseContractPkh(convertToPkh($.args[1].bytes)),recipient:parsePkh(convertToPkh(tt)),sender:parsePkh(convertToPkh(et)),tokenId:"0"}},parseSetDelegate=(_,a)=>{const $=setDelegateSchema.parse(_);return{type:"delegation",sender:a.address,recipient:parseImplicitPkh(convertToPkh($[0].args[1].bytes))}},parseRemoveDelegate=(_,a)=>({type:"undelegation",sender:a.address}),parsings=[{schema:tezSchema,parsingFn:parseTez},{schema:contractTezSchema,parsingFn:parseTezContract},{schema:fa2Schema,parsingFn:parseFa2},{schema:fa1Schema,parsingFn:parseFa1},{schema:setDelegateSchema,parsingFn:parseSetDelegate},{schema:removeDelegateSchema,parsingFn:parseRemoveDelegate}],parse=(_,a,$=[])=>{if(_.length===0)return $;for(let j=0;j<parsings.length;j++){const{schema:et,parsingFn:tt}=parsings[j],rt=et.safeParse(_.slice(0,et.items.length));if(!rt.success)continue;const nt=tt(rt.data,a);return parse(_.slice(et.items.length),a,[...$,...[nt].flat()])}throw new UnrecognizedMichelsonError(`${JSON.stringify(_[0])}`)},assertHead=_=>{batchHeadSchema.parse(_.slice(0,2))},decode=(_,a)=>(assertHead(_),parse(_.slice(2),a)),parseRawMichelson=(_,a)=>{const $=JSON.parse(_);return decode($,a)},MultisigDecodedOperations=({rawMichelson:_,sender:a})=>{try{const $=parseRawMichelson(_,a);return jsxRuntimeExports.jsx(Box,{borderRadius:"8px",backgroundColor:colors.gray[900],children:$.map((j,et)=>jsxRuntimeExports.jsxs(Box,{width:"100%",paddingTop:"10px",paddingBottom:et<$.length-1?0:"15px",paddingX:"15px",children:[jsxRuntimeExports.jsx(MultisigDecodedOperation,{operation:j}),et<$.length-1&&jsxRuntimeExports.jsx(Divider,{marginTop:"15px"})]},et))})}catch($){return $ instanceof UnrecognizedMichelsonError?jsxRuntimeExports.jsx(UnrecognizedOperation,{rawMichelson:_}):jsxRuntimeExports.jsxs(Box,{height:"50px",padding:"10px",background:colors.gray[900],borderRadius:"8px",children:["Invalid michelson code: ",$.message]})}},UnrecognizedOperation=({rawMichelson:_})=>jsxRuntimeExports.jsx(Accordion,{width:"100%",marginBottom:"8px",background:colors.gray[900],borderColor:colors.gray[900],borderRadius:"8px",allowToggle:!0,children:jsxRuntimeExports.jsxs(AccordionItem,{children:[jsxRuntimeExports.jsxs(AccordionButton,{children:[jsxRuntimeExports.jsx(Heading,{flex:"1",height:"30px",marginTop:"6px",textAlign:"left",size:"md",children:"Unrecognized operation"}),jsxRuntimeExports.jsx(AccordionIcon,{})]}),jsxRuntimeExports.jsx(AccordionPanel,{overflowY:"scroll",height:"400px",paddingBottom:"12px",children:jsxRuntimeExports.jsx(JsValueWrap,{space:1,value:JSON.parse(_)})})]})}),MultisigActionButton=({approveOrExecute:_,isLoading:a,signerState:$})=>{switch($){case"awaitingApprovalByExternalSigner":return jsxRuntimeExports.jsxs(Flex,{alignItems:"center",alignSelf:"flex-end","data-testid":"multisig-signer-awaiting-approval",children:[jsxRuntimeExports.jsx(Text,{marginRight:"4px",color:colors.gray[300],children:"Awaiting Approval"}),jsxRuntimeExports.jsx(HourglassIcon,{marginTop:"2px"})]});case"approved":return jsxRuntimeExports.jsxs(Flex,{alignItems:"center",alignSelf:"flex-end",marginBottom:"8px","data-testid":"multisig-signer-approved",children:[jsxRuntimeExports.jsx(Text,{marginRight:"4px",color:colors.gray[300],children:"Approved"}),jsxRuntimeExports.jsx(CheckmarkIcon,{marginTop:"2px"})]});case"executable":return jsxRuntimeExports.jsx(Button,{"data-testid":"multisig-signer-button",isLoading:a,onClick:_,children:"Execute"});case"approvable":return jsxRuntimeExports.jsx(Button,{"data-testid":"multisig-signer-button",isLoading:a,onClick:_,children:"Approve"})}},SignPage$2=({signer:_,operation:a,actionType:$,transactionCount:j})=>{const{handleAsyncAction:et}=useAsyncActionHandler(),{openWith:tt}=reactExports.useContext(DynamicModalContext),rt=useForm({defaultValues:{executeParams:a.estimates}}),nt=ot=>et(async()=>{const{opHash:st}=await executeOperations({...a,estimates:rt.watch("executeParams")},ot);return tt(jsxRuntimeExports.jsx(SuccessStep,{hash:st}))},{title:`Failed ${$}`}),it=`${lodashExports.capitalize($)} transaction`;return jsxRuntimeExports.jsx(FormProvider,{...rt,children:jsxRuntimeExports.jsx(ModalContent,{children:jsxRuntimeExports.jsxs("form",{children:[jsxRuntimeExports.jsx(BatchModalBody,{operation:a,title:it,transactionCount:j}),jsxRuntimeExports.jsx(ModalFooter,{children:jsxRuntimeExports.jsx(SignButton,{onSubmit:nt,signer:_,text:it})})]})})})},MultisigSignerTile=({pendingApprovals:_,sender:a,operation:$,signerAddress:j})=>{const et=useAddressKind$1(j),tt=useGetImplicitAccountSafe(),{isLoading:rt,handleAsyncAction:nt}=useAsyncActionHandler(),{openWith:it}=reactExports.useContext(DynamicModalContext),ot=useSelectedNetwork(),st=tt(j.pkh),ct=_===0,ut=()=>nt(async()=>{if(!st)throw new Error("Can't approve or execute with an account you don't own");const Et=ct?"execute":"approve",St=makeAccountOperations(st,st,[makeMultisigApproveOrExecuteOperation(a.address,Et,$.id)]),Mt=await estimate(St,ot);let kt;try{kt=parseRawMichelson($.rawActions,a).length}catch{kt=1}return it(jsxRuntimeExports.jsx(SignPage$2,{actionType:Et,operation:Mt,signer:st,transactionCount:kt}))}),ht=getMultisigSignerState({approvals:$.approvals,signerAddress:j,operationIsExecutable:ct,signerAccount:st});return jsxRuntimeExports.jsx(AccountTileBase,{height:"80px",marginTop:"10px",marginBottom:"0",padding:"15px",borderRadius:"8px",backgroundColor:colors.gray[700],icon:jsxRuntimeExports.jsx(AddressTileIcon,{addressKind:et,size:"lg"}),leftElement:jsxRuntimeExports.jsx(LabelAndAddress,{label:et.label,pkh:et.pkh}),rightElement:jsxRuntimeExports.jsx(MultisigActionButton,{approveOrExecute:ut,"data-testid":"multisig-signer-button",isLoading:rt,signerState:ht})})},getMultisigSignerState=({signerAccount:_,operationIsExecutable:a,approvals:$,signerAddress:j})=>{const et=!!$.find(tt=>tt.pkh===j.pkh);return _?et&&!a?"approved":a?"executable":"approvable":et?"approved":"awaitingApprovalByExternalSigner"},MultisigPendingOperation=({operation:_,sender:a})=>{const{signers:$,threshold:j}=a,et=Math.max(j-_.approvals.length,0);return jsxRuntimeExports.jsxs(Box,{marginBottom:"24px",background:colors.gray[800],border:"none",borderRadius:"8px","data-testid":"multisig-pending-operation-"+_.id,paddingX:"16px",paddingY:"15px",children:[jsxRuntimeExports.jsxs(Flex,{justifyContent:"space-between",marginBottom:"6px",padding:0,textAlign:"left",children:[jsxRuntimeExports.jsxs(Heading,{size:"md",children:["Pending #",_.id]}),jsxRuntimeExports.jsxs(Flex,{alignItems:"center",marginBottom:"6px",children:[jsxRuntimeExports.jsx(Heading,{marginRight:"4px",color:colors.gray[450],size:"sm",children:"Pending Approvals:"}),jsxRuntimeExports.jsx(Text,{color:colors.gray[400],"data-testid":"pending-approvals-count",children:et})]})]}),jsxRuntimeExports.jsxs(Box,{padding:"0",children:[jsxRuntimeExports.jsx(MultisigDecodedOperations,{rawMichelson:_.rawActions,sender:a}),$.map(tt=>jsxRuntimeExports.jsx(MultisigSignerTile,{operation:_,pendingApprovals:et,sender:a,signerAddress:tt},tt.pkh))]})]})},MultisigPendingOperations=({account:_})=>{const $=useGetPendingMultisigOperations()(_);return jsxRuntimeExports.jsx(Box,{margin:"0",padding:"0",children:$.map(j=>jsxRuntimeExports.jsx(MultisigPendingOperation,{operation:j,sender:_},j.id))})},ViewAllLink=({to:_,owner:a,...$})=>jsxRuntimeExports.jsx(Center,{...$,children:jsxRuntimeExports.jsxs(Link$1,{as:Link,color:colors.gray[300],stroke:colors.gray[450],_hover:{color:colors.green,stroke:colors.green},to:`${_}?accounts=${a}`,children:[jsxRuntimeExports.jsx(RefreshClockIcon,{display:"inline",stroke:"inherit"}),jsxRuntimeExports.jsx(Text,{display:"inline",size:"sm",children:" View All"})]})}),MAX_NFTS_SIZE=18,NFTsGrid=({owner:_,nfts:a,...$})=>{if(a.length===0)return jsxRuntimeExports.jsx(NoNFTs,{size:"md"});const j=sortedByLastUpdate(a).slice(0,MAX_NFTS_SIZE);return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(SimpleGrid,{marginBottom:"35px",spacing:"12px",...$,children:j.map(et=>{const tt=getIPFSurl(thumbnailUri(et)),nt={width:"100%",height:40,fallbackSrc:getIPFSurl(et.displayUri),src:tt};return jsxRuntimeExports.jsx(Link,{"data-testid":"nft-link",to:`/home/${_}/${fullId(et)}`,children:jsxRuntimeExports.jsx(Card,{background:colors.gray[800],border:"1px solid transparent",_hover:{background:colors.gray[700],borderColor:colors.gray[500]},children:jsxRuntimeExports.jsxs(CardBody,{overflow:"hidden",padding:"8px",borderRadius:"6px",children:[jsxRuntimeExports.jsx(Center,{children:jsxRuntimeExports.jsxs(Box,{position:"relative",width:"100%",height:"100%",children:[jsxRuntimeExports.jsx(AspectRatio,{zIndex:2,width:"100%",opacity:"0",ratio:1,children:jsxRuntimeExports.jsx(Image$1,{...nt,width:"100%",height:40})}),jsxRuntimeExports.jsx(AspectRatio,{position:"absolute",zIndex:0,top:"0",width:"100%",filter:"blur(20px)",ratio:1,children:jsxRuntimeExports.jsx(Image$1,{...nt,width:"100%",height:40})}),jsxRuntimeExports.jsx(AspectRatio,{position:"absolute",zIndex:1,top:"0",width:"100%",ratio:1,children:jsxRuntimeExports.jsx(Image$1,{...nt,width:"100%",height:40})})]})}),Number(et.balance)>1&&jsxRuntimeExports.jsx(Text,{position:"absolute",zIndex:3,display:"inline",height:"20px",marginTop:"-24px",marginLeft:"4px",padding:"0 8px",borderRadius:"100px",backgroundColor:"rgba(33, 33, 33, 0.75)","data-testid":"nft-owned-count",size:"xs",children:"x"+et.balance})]})})},`${_}:${fullId(et)}`)})}),a.length>MAX_NFTS_SIZE&&jsxRuntimeExports.jsx(ViewAllLink,{marginBottom:"40px",owner:_,to:"/nfts"})]})},OperationTileContext=React$2.createContext({mode:"page"}),FEE_FIELDS=["bakerFee","storageFee","allocationFee"],Fee=({operation:_})=>{const a=reactExports.useContext(OperationTileContext),j=useIsOwnedAddress()(_.sender.address);if(a.mode==="drawer"||!j)return null;const et=FEE_FIELDS.reduce((tt,rt)=>rt in _?tt.plus(lodashExports.get(_,rt)||0):tt,BigNumber(0));return et.eq(0)?null:jsxRuntimeExports.jsxs(Center,{children:[jsxRuntimeExports.jsx(Heading,{marginRight:"4px",color:colors.gray[450],size:"md",children:"Fee:"}),jsxRuntimeExports.jsx(Text,{color:colors.gray[400],"data-testid":"fee",children:prettyTezAmount(et)})]})},useGetOperationDestination=(_,a)=>{const $=useIsOwnedAddress(),j=$(_),et=$(a);return!j&&!et?"unrelated":j?"outgoing":"incoming"},operationSign=_=>{switch(_){case"incoming":return"+";case"outgoing":return"-";case"unrelated":return""}},operationColor=_=>{switch(_){case"incoming":return colors.green;case"outgoing":return colors.orange;case"unrelated":return"white"}},InternalPrefix=({operation:_})=>{var et,tt,rt;let a,$;switch(_.type){case"transaction":a=(et=_.target)==null?void 0:et.address,$=_.sender.address;break;case"origination":case"delegation":a=null,$=_.sender.address;break;case"token_transfer":a=(tt=_.to)==null?void 0:tt.address,$=(rt=_.from)==null?void 0:rt.address;break}return useGetOperationDestination($,a)!=="unrelated"?null:jsxRuntimeExports.jsx(Heading,{marginRight:"4px",color:colors.gray[450],"data-testid":"internal-prefix",size:"md",children:"Internal:"})},OperationStatus=({level:_,status:a})=>{const $=useIsBlockFinalised(_);return a===void 0||a==="applied"?$?jsxRuntimeExports.jsx(CheckmarkIcon,{"data-testid":"checkmark"}):jsxRuntimeExports.jsx(HourglassIcon,{"data-testid":"hourglass"}):jsxRuntimeExports.jsx(CrossedCircleIcon,{"data-testid":"crossed-circle"})},OperationTypeWrapper=({children:_})=>reactExports.useContext(OperationTileContext).mode==="drawer"?null:jsxRuntimeExports.jsx(Text,{marginRight:"4px",color:colors.gray[300],"data-testid":"operation-type",size:"sm",children:_}),Timestamp=({timestamp:_})=>_?jsxRuntimeExports.jsx(Text,{color:colors.gray[400],"data-testid":"timestamp",size:"sm",children:getDisplayTimestamp(_)}):null,getDisplayTimestamp=_=>{const a=new Date,$=new Date(_);return differenceInDays(a,$)<2?formatDistance($,a,{addSuffix:!0}):format($,"dd MMM yyyy")},TzktLink$1=({hash:_,counter:a,transactionId:$,originationId:j,migrationId:et,children:tt,...rt})=>{const{tzktExplorerUrl:nt}=useSelectedNetwork();let it=nt;return _?it=lodashExports.compact([nt,_,a]).join("/"):et?it=`${it}/migrations/${et}`:j?it=`${it}/originations/${j}`:$?it=`${it}/transactions/${$}`:console.warn("No id provided to TzktLink"),jsxRuntimeExports.jsx(Link$1,{"data-testid":"tzkt-link",href:it,isExternal:!0,...rt,children:tt})},ContractCallTile=({operation:_})=>{var a;return jsxRuntimeExports.jsxs(Flex,{flexDirection:"column",width:"100%","data-testid":"operation-tile-contract-call",children:[jsxRuntimeExports.jsxs(Flex,{justifyContent:"space-between",marginBottom:"10px",children:[jsxRuntimeExports.jsxs(Center,{children:[jsxRuntimeExports.jsx(ContractIcon,{marginRight:"8px"}),jsxRuntimeExports.jsx(InternalPrefix,{operation:_}),jsxRuntimeExports.jsx(TzktLink$1,{marginRight:"8px",counter:_.counter,"data-testid":"title",hash:_.hash,children:jsxRuntimeExports.jsxs(Heading,{size:"md",children:["Contract Call: ",(a=_.parameter)==null?void 0:a.entrypoint]})}),jsxRuntimeExports.jsx(Fee,{operation:_})]}),jsxRuntimeExports.jsx(Flex,{alignSelf:"flex-end",children:jsxRuntimeExports.jsx(Timestamp,{timestamp:_.timestamp})})]}),jsxRuntimeExports.jsx(Box,{children:jsxRuntimeExports.jsxs(Flex,{justifyContent:"space-between",children:[jsxRuntimeExports.jsxs(Flex,{children:[_.target&&jsxRuntimeExports.jsxs(Flex,{marginRight:"15px","data-testid":"to",children:[jsxRuntimeExports.jsx(Text,{marginRight:"6px",color:colors.gray[450],children:"To:"}),jsxRuntimeExports.jsx(AddressPill,{address:_.target})]}),jsxRuntimeExports.jsxs(Flex,{"data-testid":"from",children:[jsxRuntimeExports.jsx(Text,{marginRight:"6px",color:colors.gray[450],children:"From:"}),jsxRuntimeExports.jsx(AddressPill,{address:_.sender})]})]}),jsxRuntimeExports.jsxs(Center,{children:[jsxRuntimeExports.jsx(OperationTypeWrapper,{children:"Contract Call"}),jsxRuntimeExports.jsx(OperationStatus,{..._})]})]})})]})},DelegationTile=({operation:_})=>{const a=_.newDelegate?"Delegate":"Delegation Ended";return jsxRuntimeExports.jsxs(Flex,{flexDirection:"column",width:"100%","data-testid":"operation-tile-delegation",children:[jsxRuntimeExports.jsxs(Flex,{justifyContent:"space-between",marginBottom:"10px",children:[jsxRuntimeExports.jsxs(Center,{children:[jsxRuntimeExports.jsx(BakerIcon,{marginRight:"8px"}),jsxRuntimeExports.jsx(InternalPrefix,{operation:_}),jsxRuntimeExports.jsx(TzktLink$1,{marginRight:"8px",counter:_.counter,"data-testid":"title",hash:_.hash,children:jsxRuntimeExports.jsx(Heading,{size:"md",children:a})}),jsxRuntimeExports.jsx(Fee,{operation:_})]}),jsxRuntimeExports.jsx(Flex,{alignSelf:"flex-end",children:jsxRuntimeExports.jsx(Timestamp,{timestamp:_.timestamp})})]}),jsxRuntimeExports.jsx(Box,{children:jsxRuntimeExports.jsxs(Flex,{justifyContent:"space-between",children:[jsxRuntimeExports.jsxs(Flex,{children:[_.newDelegate&&jsxRuntimeExports.jsxs(Flex,{marginRight:"15px","data-testid":"to",children:[jsxRuntimeExports.jsx(Text,{marginRight:"6px",color:colors.gray[450],children:"To:"}),jsxRuntimeExports.jsx(AddressPill,{address:_.newDelegate})]}),jsxRuntimeExports.jsxs(Flex,{"data-testid":"from",children:[jsxRuntimeExports.jsx(Text,{marginRight:"6px",color:colors.gray[450],children:"From:"}),jsxRuntimeExports.jsx(AddressPill,{address:_.sender})]})]}),jsxRuntimeExports.jsxs(Center,{children:[jsxRuntimeExports.jsx(OperationTypeWrapper,{children:a}),jsxRuntimeExports.jsx(OperationStatus,{..._})]})]})})]})},OriginationTile=({operation:_})=>{var j;const $=((j=_.originatedContract)==null?void 0:j.codeHash)===CODE_HASH&&_.originatedContract.typeHash===TYPE_HASH?"Multisig Account Created":"Contract Origination";return jsxRuntimeExports.jsxs(Flex,{flexDirection:"column",width:"100%","data-testid":"operation-tile-origination",children:[jsxRuntimeExports.jsxs(Flex,{justifyContent:"space-between",marginBottom:"10px",children:[jsxRuntimeExports.jsxs(Center,{children:[jsxRuntimeExports.jsx(ContractIcon,{marginRight:"8px"}),jsxRuntimeExports.jsx(InternalPrefix,{operation:_}),jsxRuntimeExports.jsx(TzktLink$1,{marginRight:"8px",counter:_.counter,"data-testid":"title",hash:_.hash,children:jsxRuntimeExports.jsx(Heading,{size:"md",children:$})}),jsxRuntimeExports.jsx(Fee,{operation:_})]}),jsxRuntimeExports.jsx(Flex,{alignSelf:"flex-end",children:jsxRuntimeExports.jsx(Timestamp,{timestamp:_.timestamp})})]}),jsxRuntimeExports.jsx(Box,{children:jsxRuntimeExports.jsxs(Flex,{justifyContent:"space-between",children:[jsxRuntimeExports.jsxs(Flex,{"data-testid":"from",children:[jsxRuntimeExports.jsx(Text,{marginRight:"6px",color:colors.gray[450],children:"From:"}),jsxRuntimeExports.jsx(AddressPill,{address:_.sender})]}),jsxRuntimeExports.jsxs(Center,{children:[jsxRuntimeExports.jsx(OperationTypeWrapper,{children:"Contract Origination"}),jsxRuntimeExports.jsx(OperationStatus,{..._})]})]})})]})},TransactionDirectionIcon=({destination:_,...a})=>_==="outgoing"?jsxRuntimeExports.jsx(OutgoingArrow,{"data-testid":"outgoing-arrow",...a}):_==="incoming"?jsxRuntimeExports.jsx(IncomingArrow,{"data-testid":"incoming-arrow",...a}):jsxRuntimeExports.jsx(ContractIcon,{"data-testid":"unrelated-operation-icon",...a}),TokenTransferTile=({operation:_,tokenTransfer:a,token:$})=>{var ct,ut;const j=a.amount,et=useGetOperationDestination((ct=a.from)==null?void 0:ct.address,(ut=a.to)==null?void 0:ut.address),tt=$.type==="nft",rt=tokenPrettyAmount(j,$,{showSymbol:!0}),nt=operationColor(et),it=tt?"white":nt,ot=operationSign(et),st=tt?jsxRuntimeExports.jsx(Tooltip,{padding:"8px",background:colors.gray[700],border:"1px solid",borderColor:colors.gray[500],borderRadius:"8px","data-testid":"nft-tooltip",label:jsxRuntimeExports.jsx(AspectRatio,{width:"170px",height:"170px",ratio:1,children:jsxRuntimeExports.jsx(Image$1,{src:getIPFSurl(thumbnailUri($))})}),openDelay:300,children:jsxRuntimeExports.jsxs(Center,{children:[jsxRuntimeExports.jsx(InternalPrefix,{operation:_||a}),jsxRuntimeExports.jsxs(TzktLink$1,{marginRight:"8px",color:it,"data-testid":"title",migrationId:a.migrationId,originationId:a.originationId,transactionId:a.transactionId,children:[jsxRuntimeExports.jsxs(Text,{display:"inline",color:nt,fontWeight:"600",children:[ot,rt]}),jsxRuntimeExports.jsxs(Text,{display:"inline",fontWeight:"600",children:[" ",tokenNameSafe($)]})]})]})}):jsxRuntimeExports.jsxs(Center,{children:[jsxRuntimeExports.jsx(InternalPrefix,{operation:_||a}),jsxRuntimeExports.jsx(TzktLink$1,{marginRight:"8px",color:it,"data-testid":"title",migrationId:a.migrationId,originationId:a.originationId,transactionId:a.transactionId,children:jsxRuntimeExports.jsxs(Text,{display:"inline",color:nt,fontWeight:"600",children:[ot,rt]})})]});return jsxRuntimeExports.jsxs(Flex,{flexDirection:"column",width:"100%","data-testid":"operation-tile-token-transfer",children:[jsxRuntimeExports.jsxs(Flex,{justifyContent:"space-between",marginBottom:"10px",children:[jsxRuntimeExports.jsxs(Center,{children:[jsxRuntimeExports.jsx(TransactionDirectionIcon,{marginRight:"8px",destination:et}),st,_&&jsxRuntimeExports.jsx(Fee,{operation:_})]}),jsxRuntimeExports.jsx(Flex,{alignSelf:"flex-end",children:jsxRuntimeExports.jsx(Timestamp,{timestamp:a.timestamp})})]}),jsxRuntimeExports.jsx(Box,{children:jsxRuntimeExports.jsxs(Flex,{justifyContent:"space-between",children:[jsxRuntimeExports.jsxs(Flex,{children:[a.to&&jsxRuntimeExports.jsxs(Flex,{marginRight:"15px","data-testid":"to",children:[jsxRuntimeExports.jsx(Text,{marginRight:"6px",color:colors.gray[450],children:"To:"}),jsxRuntimeExports.jsx(AddressPill,{address:a.to})]}),a.from&&jsxRuntimeExports.jsxs(Flex,{"data-testid":"from",children:[jsxRuntimeExports.jsx(Text,{marginRight:"6px",color:colors.gray[450],children:"From:"}),jsxRuntimeExports.jsx(AddressPill,{address:a.from})]})]}),jsxRuntimeExports.jsxs(Center,{children:[jsxRuntimeExports.jsx(OperationTypeWrapper,{children:"Token Transfer"}),jsxRuntimeExports.jsx(OperationStatus,{level:a.level})]})]})})]})},TransactionTile=({operation:_})=>{var tt;const a=useGetOperationDestination(_.sender.address,(tt=_.target)==null?void 0:tt.address),$=prettyTezAmount(String(_.amount)),j=operationColor(a),et=operationSign(a);return jsxRuntimeExports.jsxs(Flex,{flexDirection:"column",width:"100%","data-testid":"operation-tile-transaction",children:[jsxRuntimeExports.jsxs(Flex,{justifyContent:"space-between",marginBottom:"10px",children:[jsxRuntimeExports.jsxs(Center,{children:[jsxRuntimeExports.jsx(TransactionDirectionIcon,{marginRight:"8px",destination:a}),jsxRuntimeExports.jsx(InternalPrefix,{operation:_}),jsxRuntimeExports.jsx(TzktLink$1,{marginRight:"8px",color:j,counter:_.counter,"data-testid":"title",hash:_.hash,children:jsxRuntimeExports.jsxs(Text,{color:j,fontWeight:"600",children:[et," ",$]})}),jsxRuntimeExports.jsx(Fee,{operation:_})]}),jsxRuntimeExports.jsx(Flex,{alignSelf:"flex-end",children:jsxRuntimeExports.jsx(Timestamp,{timestamp:_.timestamp})})]}),jsxRuntimeExports.jsx(Box,{children:jsxRuntimeExports.jsxs(Flex,{justifyContent:"space-between",children:[jsxRuntimeExports.jsxs(Flex,{children:[_.target&&jsxRuntimeExports.jsxs(Flex,{marginRight:"15px","data-testid":"to",children:[jsxRuntimeExports.jsx(Text,{marginRight:"6px",color:colors.gray[450],children:"To:"}),jsxRuntimeExports.jsx(AddressPill,{address:parsePkh(_.target.address)})]}),jsxRuntimeExports.jsxs(Flex,{"data-testid":"from",children:[jsxRuntimeExports.jsx(Text,{marginRight:"6px",color:colors.gray[450],children:"From:"}),jsxRuntimeExports.jsx(AddressPill,{address:parsePkh(_.sender.address)})]})]}),jsxRuntimeExports.jsxs(Center,{children:[jsxRuntimeExports.jsx(OperationTypeWrapper,{children:"Transaction"}),jsxRuntimeExports.jsx(OperationStatus,{..._})]})]})})]})},OperationTile=({operation:_})=>{const a=useGetTokenTransfer();switch(_.type){case"token_transfer":{const $=fromRaw$1(_.token);return $?jsxRuntimeExports.jsx(TokenTransferTile,{token:$,tokenTransfer:_}):(console.warn(`Could not parse token transfer ${_.id}`),null)}case"transaction":{const $=!!_.parameter,j=a(_.id);if(j){const et=fromRaw$1(j.token);return et?jsxRuntimeExports.jsx(TokenTransferTile,{operation:_,token:et,tokenTransfer:j}):jsxRuntimeExports.jsx(TransactionTile,{operation:_})}else return $?jsxRuntimeExports.jsx(ContractCallTile,{operation:_}):jsxRuntimeExports.jsx(TransactionTile,{operation:_})}case"delegation":return jsxRuntimeExports.jsx(DelegationTile,{operation:_});case"origination":return jsxRuntimeExports.jsx(OriginationTile,{operation:_})}},MAX_OPERATIONS_SIZE=20,OperationListDisplay=({owner:_,operations:a})=>{if(a.length===0)return jsxRuntimeExports.jsx(NoOperations,{size:"md"});const $=a.slice(0,MAX_OPERATIONS_SIZE);return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[$.map((j,et)=>jsxRuntimeExports.jsxs(Box,{height:"90px",children:[jsxRuntimeExports.jsx(OperationTile,{operation:j}),et<$.length-1&&jsxRuntimeExports.jsx(Divider,{marginY:"20px"})]},j.id)),a.length>MAX_OPERATIONS_SIZE&&jsxRuntimeExports.jsx(ViewAllLink,{owner:_,to:"/operations"})]})},verifiedTokens=["KT1XnTn74bUtxHfDtBmm2bGZAQfhPbvKWR8o","KT1PWx2mnDueood7fEmfbBDKx1D9BAnnXitn","KT1XRPEPXbZK25r3Htzp2o1x7xdMMmfocKNW","KT1XRPEPXbZK25r3Htzp2o1x7xdMMmfocKNW","KT1XRPEPXbZK25r3Htzp2o1x7xdMMmfocKNW","KT1K9gCRgaLRFKTErYt1wVxA3Frb9FjasjTV","KT1Ha4yFVeyzw6KRAdkzq6TxDHB97KG4pZe8","KT1JBNFcB5tiycHNdYGYCtR3kk6JaJysUCi8","KT1Xobej4mc6XgEjDoJoHtTKgbD1ELMvcQuL","KT1JVjgXPMMSaa6FkzeJcgb8q9cUaLmwaJUX","KT193D4vozYnhGJQVtw7CoxxqphqUEEwK6Vb","KT1LN4LPSqTMS7Sd2CJw4bbDGRkMv2t68Fy9","KT1914CUZ7EegAFPbfgQMRkw8Uz5mYkEz2ui","KT1UsSfaXyqcjSVPeiD7U1bWgKy3taYN7NWY","KT19ovJhcsUn4YU8Q5L3BGovKSixfbWcecEA","KT1TgmD7kXQzofpuc9VbTRMdZCS2e6JDuTtc","KT1F1mn2jbqQCJcsNgYKVAQjvenecNMY2oPK","KT1ErKVqEhG9jxXgUG2KGLW3bNM7zXHX8SDF","KT1A5P4ejnLix13jtadsfV9GCnXLMNnab8UT","KT1AM3PV1cwmGRw28DVTgsjjsjHvmL6z4rGh","KT1UsSfaXyqcjSVPeiD7U1bWgKy3taYN7NWY","KT1SjXiUX63QvdNMcM2m492f7kuf8JxXRLp4","KT1MZg99PxMDEENwB4Fi64xkqAVh5d1rv8Z9","KT1UsSfaXyqcjSVPeiD7U1bWgKy3taYN7NWY","KT1XTxpQvo7oRCqp85LikEZgAZ22uDxhbWJv","KT1VaEsVNiBoA56eToEK6n6BcPgh1tdx9eXi"],TokenNameWithIcon=({token:_,...a})=>{const $=verifiedTokens.includes(_.contract);return jsxRuntimeExports.jsxs(Flex,{alignItems:"center",children:[jsxRuntimeExports.jsx(Text,{...a,marginRight:"4px",children:tokenNameSafe(_)}),$&&jsxRuntimeExports.jsx(VerifiedIcon,{})]})},MAX_TOKENS_SIZE=20,TokenList=({owner:_,tokens:a})=>{if(a.length===0)return jsxRuntimeExports.jsx(NoTokens,{size:"md"});const $=a.slice(0,MAX_TOKENS_SIZE);return jsxRuntimeExports.jsxs(Box,{children:[$.map(j=>jsxRuntimeExports.jsx(TokenTile$1,{token:j},fullId(j))),a.length>MAX_TOKENS_SIZE&&jsxRuntimeExports.jsx(ViewAllLink,{owner:_,to:"/tokens"})]})},TokenTile$1=({token:_})=>{const a=tokenPrettyAmount(_.balance,_,{showSymbol:!1});return jsxRuntimeExports.jsxs(Flex,{alignItems:"center",justifyContent:"space-around",height:20,borderBottom:`1px solid ${colors.gray[800]}`,"data-testid":"token-tile",children:[jsxRuntimeExports.jsxs(Flex,{alignItems:"center",flex:1,children:[jsxRuntimeExports.jsx(TokenIcon,{width:"38px",background:colors.gray[500],borderRadius:"4px",contract:_.contract}),jsxRuntimeExports.jsx(Box,{marginLeft:"16px",children:jsxRuntimeExports.jsx(TokenNameWithIcon,{fontWeight:600,"data-testid":"token-name",token:_})})]}),jsxRuntimeExports.jsx(Heading,{"data-testid":"token-balance",size:"lg",children:a})]})},buildTzktAddressUrl=(_,a)=>`${_.tzktExplorerUrl}/${a}`,useGetOperations=_=>{const a=useSelectedNetwork(),$=useAppDispatch(),j=useRefetchTrigger(),et=useReactQueryErrorHandler(),{isFetching:tt,data:rt,hasNextPage:nt,isLoading:it,fetchNextPage:ot,fetchPreviousPage:st,error:ct}=useInfiniteQuery({queryFn:({pageParam:ut})=>fetchOperationsAndUpdateTokensInfo($,a,_,ut),queryKey:["operations",_,$,a],initialPageParam:{},retry:3,retryDelay:ut=>ut*2e3,gcTime:0,refetchOnWindowFocus:!1,getNextPageParam:ut=>ut.length===0?null:{lastId:ut[ut.length-1].id},getPreviousPageParam:(ut,ht)=>{var St;const Et=(St=lodashExports.maxBy(ht.flat(),"id"))==null?void 0:St.id;return Et?{lastId:Et,sort:"asc"}:{}},select:({pages:ut})=>filterDuplicatedTokenTransfers([[...ut[0]].sort((ht,Et)=>ht.id<Et.id?1:-1),...ut.slice(1)].flat())});return et(ct),reactExports.useEffect(()=>{const ut=setInterval(()=>void st(),BLOCK_TIME);return()=>clearInterval(ut)},[st]),reactExports.useEffect(()=>{st()},[j,st]),{operations:rt||[],isFirstLoad:it,isLoading:tt,hasMore:nt,loadMore:ot}},fetchOperationsAndUpdateTokensInfo=async(_,a,$,j)=>{const et=await getCombinedOperations($.map(ot=>ot.address.pkh),a,j),tt=et.filter(ot=>ot.type==="transaction").map(ot=>ot.id),rt=await getRelatedTokenTransfers(tt,a),nt=et.filter(ot=>ot.type==="token_transfer"),it=[...rt,...nt];return _(assetsActions.updateTokenTransfers(it)),_(tokensActions.addTokens({network:a,tokens:it.map(ot=>ot.token)})),et},filterDuplicatedTokenTransfers=_=>{const a=new Set(_.filter($=>$.type!=="token_transfer").map($=>$.id));return _.filter($=>$.type!=="token_transfer"||!a.has($.transactionId))},SmallTab=({children:_,...a})=>jsxRuntimeExports.jsx(Tab,{...a,fontSize:"sm",paddingX:3,children:_}),AssetsPanel=({tokens:_,nfts:a,account:$,delegation:j})=>{const et=useGetPendingMultisigOperations(),tt=$.type==="multisig"&&et($).length>0,rt=useSelectedNetwork(),{operations:nt,isFirstLoad:it}=useGetOperations([$]);return jsxRuntimeExports.jsxs(Tabs,{flexDirection:"column",display:"flex",width:"100%",marginTop:"60px","data-testid":"asset-panel",children:[jsxRuntimeExports.jsxs(TabList,{justifyContent:"space-between","data-testid":"asset-panel-tablist",children:[jsxRuntimeExports.jsxs(Flex,{children:[tt&&jsxRuntimeExports.jsxs(SmallTab,{"data-testid":"account-card-pending-tab",children:[jsxRuntimeExports.jsx(Text,{children:"Pending"}),jsxRuntimeExports.jsx(Box,{width:"6px",height:"6px",marginTop:"-7px",marginRight:"-3px",marginLeft:"3px",borderRadius:"100%",backgroundColor:colors.orangeL})]}),jsxRuntimeExports.jsx(SmallTab,{"data-testid":"account-card-operations-tab",children:"Operations"}),jsxRuntimeExports.jsx(SmallTab,{"data-testid":"account-card-delegation-tab",children:"Delegation"}),jsxRuntimeExports.jsx(SmallTab,{"data-testid":"account-card-nfts-tab",children:"NFTs"}),jsxRuntimeExports.jsx(SmallTab,{"data-testid":"account-card-tokens-tab",children:"Tokens"})]}),jsxRuntimeExports.jsx(ExternalLink,{href:buildTzktAddressUrl(rt,$.address.pkh),children:jsxRuntimeExports.jsxs(Button,{paddingRight:0,variant:"CTAWithIcon",children:[jsxRuntimeExports.jsx(Text,{marginRight:"7px",size:"sm",children:"View on Tzkt"}),jsxRuntimeExports.jsx(ExternalLinkIcon,{stroke:"currentcolor"})]})})]}),jsxRuntimeExports.jsxs(TabPanels,{height:"100%",children:[tt&&jsxRuntimeExports.jsx(TabPanel,{overflowX:"hidden",height:"100%",paddingTop:"24px",paddingBottom:"60px","data-testid":"account-card-pending-tab-panel",paddingX:"0",children:jsxRuntimeExports.jsx(MultisigPendingOperations,{account:$})}),jsxRuntimeExports.jsx(TabPanel,{overflowX:"hidden",height:"100%",paddingTop:"24px",paddingBottom:"60px","data-testid":"account-card-operations-tab-panel",paddingX:"0",children:jsxRuntimeExports.jsxs(OperationTileContext.Provider,{value:{mode:"drawer",selectedAddress:$.address},children:[jsxRuntimeExports.jsx(Center,{display:it?"flex":"none",height:"50px",children:jsxRuntimeExports.jsx(Image$1,{width:"150px",height:"75px",src:"./static/media/loading-wheel.gif"})}),!it&&jsxRuntimeExports.jsx(OperationListDisplay,{operations:nt,owner:$.address.pkh})]})}),jsxRuntimeExports.jsx(TabPanel,{overflowX:"hidden",paddingTop:"24px","data-testid":"account-card-delegation-tab-panel",paddingX:"0",children:jsxRuntimeExports.jsx(DelegationDisplay,{account:$,delegation:j})}),jsxRuntimeExports.jsx(TabPanel,{overflowX:"hidden",height:"100%",paddingTop:"24px",paddingBottom:0,"data-testid":"account-card-nfts-tab-panel",paddingX:"0",children:jsxRuntimeExports.jsx(NFTsGrid,{columns:3,nfts:a,owner:$.address.pkh})}),jsxRuntimeExports.jsx(TabPanel,{overflowX:"hidden",height:"100%",paddingTop:"24px","data-testid":"account-card-tokens-tab-panel",paddingX:"0",children:jsxRuntimeExports.jsx(TokenList,{owner:$.address.pkh,tokens:_})})]})]})},MultisigApprovers=({signers:_})=>jsxRuntimeExports.jsx(Box,{width:"100%",marginTop:"40px",marginBottom:"-20px",background:colors.gray[800],borderRadius:"8px",children:jsxRuntimeExports.jsx(Accordion,{padding:"15px",allowToggle:!0,children:jsxRuntimeExports.jsxs(AccordionItem,{background:colors.gray[800],border:"none",borderRadius:"8px",children:[jsxRuntimeExports.jsxs(AccordionButton,{as:"span",flex:"1",padding:"0",textAlign:"left",cursor:"pointer",children:[jsxRuntimeExports.jsx(Heading,{width:"100%",size:"md",children:"Approvers"}),jsxRuntimeExports.jsx(AccordionIcon,{cursor:"pointer"})]}),jsxRuntimeExports.jsx(AccordionPanel,{padding:"0",children:jsxRuntimeExports.jsx(Wrap,{marginTop:"20px","data-testid":"multisig-tag-section",spacingX:"0",spacingY:"12px",children:_.map(a=>jsxRuntimeExports.jsx(AddressPill,{marginRight:"12px",address:a},a.pkh))})})]})})}),renameAccount=(_,a)=>($,j)=>{const{accounts:et,multisigs:tt,contacts:rt}=j(),nt=_.type==="multisig",it=et.items.map(ct=>ct.label),ot=tt.items.map(ct=>ct.label),st=Object.values(rt).map(ct=>ct.name);[it,ot,st].flat().includes(a)||$(nt?multisigsSlice.actions.setName({newName:a,account:_}):accountsSlice.actions.renameAccount({newName:a,account:_}))},RenameAccountModal=({account:_})=>{const a=useAppDispatch(),{onClose:$}=reactExports.useContext(DynamicModalContext),j=({name:ct})=>{a(renameAccount(_,ct)),$()},{handleSubmit:et,formState:{isValid:tt,errors:rt},register:nt,reset:it}=useForm({mode:"onBlur",defaultValues:{name:_.label}}),ot=({name:ct})=>{j({name:ct.trim()}),it()},st=useValidateName(_.label);return jsxRuntimeExports.jsx(ModalContent,{children:jsxRuntimeExports.jsxs("form",{onSubmit:et(ot),children:[jsxRuntimeExports.jsx(FormPageHeader,{subTitle:"Edit your account name here.",title:"Edit Name"}),jsxRuntimeExports.jsx(ModalCloseButton,{}),jsxRuntimeExports.jsx(ModalBody,{children:jsxRuntimeExports.jsxs(FormControl,{isInvalid:!!rt.name,marginY:"20px",children:[jsxRuntimeExports.jsx(FormLabel,{children:"Account name"}),jsxRuntimeExports.jsx(Input,{type:"text",...nt("name",{required:"Name is required",validate:st}),placeholder:"Enter contact's name"}),rt.name&&jsxRuntimeExports.jsx(FormErrorMessage$1,{"data-testid":"name-error",children:rt.name.message})]})}),jsxRuntimeExports.jsx(ModalFooter,{children:jsxRuntimeExports.jsx(Button,{width:"100%",marginBottom:"8px",isDisabled:!tt,size:"lg",type:"submit",children:"Save"})})]})})},RenameRemoveMenuSwitch=({account:_})=>{const{openWith:a,onClose:$}=reactExports.useContext(DynamicModalContext),j=useNavigate(),et=useImplicitAccounts().length===1,tt=useRemoveAccount();let rt;switch(_.type){case"secret_key":case"ledger":case"social":rt=()=>a(jsxRuntimeExports.jsx(ConfirmationModal,{buttonLabel:ot,description:it,onSubmit:()=>{tt(_),$(),j("/")},title:nt}));break}const nt="Remove Account";let it="Are you sure you want to remove this account?",ot="Remove Account";return et&&(it="Removing your last account will off-board you from Umami. This will remove or reset all customized settings to their defaults. Personal data (including saved contacts, password and accounts) won't be affected.",ot="Remove & Off-board"),jsxRuntimeExports.jsx(RenameRemoveMenu,{onRemove:rt,onRename:()=>a(jsxRuntimeExports.jsx(RenameAccountModal,{account:_}))})},makeDelegation=_=>_.newDelegate?{sender:_.sender.address,timestamp:_.timestamp,id:_.id,amount:new BigNumber(_.amount),delegate:{address:_.newDelegate.address,alias:_.newDelegate.alias??void 0}}:null,TezRecapDisplay=_=>jsxRuntimeExports.jsxs(Box,{textAlign:_.center?"center":"initial",children:[jsxRuntimeExports.jsx(Heading,{size:"md",children:prettyTezAmount(_.balance)}),_.dollarBalance!==void 0&&jsxRuntimeExports.jsxs(Text,{marginTop:"6px",color:colors.gray[400],size:"sm",children:["$",_.dollarBalance.toFixed(2)]})]}),RoundButton=({icon:_,label:a,onClick:$=()=>{}})=>jsxRuntimeExports.jsxs(Box,{className:"account-drawer-cta-button",color:colors.gray[300],textAlign:"center",_hover:{color:colors.green},cursor:"pointer",marginX:"24px",onClick:$,children:[jsxRuntimeExports.jsx(IconButton,{className:"account-drawer-cta-button-icon",marginBottom:"8px","aria-label":"button",icon:_,size:"lg",variant:"circle_without_color"}),jsxRuntimeExports.jsx(Text,{cursor:"pointer",size:"sm",children:a})]}),AccountDrawerDisplay=({onSend:_,onReceive:a=()=>{},balance:$,dollarBalance:j,tokens:et,nfts:tt,account:rt})=>{const nt=rt.type==="multisig",{openWith:it}=reactExports.useContext(DynamicModalContext),ot=useSelectedNetwork(),[st,ct]=reactExports.useState(null),{handleAsyncAction:ut}=useAsyncActionHandler();return reactExports.useEffect(()=>{ut(async()=>{const ht=await getLastDelegation(rt.address.pkh,ot);ht&&ct(makeDelegation(ht))}).catch(lodashExports.noop)},[rt.address.pkh,ut,ot]),jsxRuntimeExports.jsxs(Flex,{zIndex:2,alignItems:"center",flexDirection:"column",height:"100%",marginTop:"-86px",paddingTop:"86px",paddingRight:"30px",background:accountIconGradient({account:rt,radius:"350px",opacity:"35",mainBackgroundColor:"transparent",left:"300px",top:"-125px"}),"data-testid":`account-card-${rt.address.pkh}`,children:[jsxRuntimeExports.jsx(AccountTileIcon,{account:rt,size:"lg"}),jsxRuntimeExports.jsx(Heading,{marginTop:"24px",size:"md",children:rt.label}),jsxRuntimeExports.jsxs(Flex,{alignItems:"center",marginTop:"8px",marginBottom:"30px",children:[jsxRuntimeExports.jsx(AddressPill,{marginRight:"4px",address:rt.address,mode:{type:"no_icons"}}),jsxRuntimeExports.jsx(RenameRemoveMenuSwitch,{account:rt})]}),$&&jsxRuntimeExports.jsx(TezRecapDisplay,{balance:$,center:!0,dollarBalance:j}),jsxRuntimeExports.jsxs(Center,{marginTop:"34px",children:[jsxRuntimeExports.jsx(RoundButton,{icon:jsxRuntimeExports.jsx(OutgoingArrow,{width:"24px",height:"24px",stroke:"currentcolor"}),label:"Send",onClick:_}),jsxRuntimeExports.jsx(RoundButton,{icon:jsxRuntimeExports.jsx(IncomingArrow,{width:"24px",height:"24px",stroke:"currentcolor"}),label:"Receive",onClick:a}),!nt&&jsxRuntimeExports.jsx(RoundButton,{icon:jsxRuntimeExports.jsx(PlusIcon,{stroke:"currentcolor"}),label:"Buy Tez",onClick:()=>it(jsxRuntimeExports.jsx(BuyTezForm,{recipient:rt.address.pkh}))}),jsxRuntimeExports.jsx(RoundButton,{icon:jsxRuntimeExports.jsx(BakerIcon,{width:"24px",height:"24px",stroke:"currentcolor"}),label:"Delegate",onClick:()=>it(jsxRuntimeExports.jsx(FormPage$3,{form:st?{baker:st.delegate.address,sender:rt.address.pkh}:void 0,sender:rt}))})]}),nt&&jsxRuntimeExports.jsx(MultisigApprovers,{signers:rt.signers}),jsxRuntimeExports.jsx(AssetsPanel,{account:rt,delegation:st,nfts:tt,tokens:et})]})};var dist={},lodash_isequal={exports:{}};lodash_isequal.exports;(function(_,a){var $=200,j="__lodash_hash_undefined__",et=1,tt=2,rt=9007199254740991,nt="[object Arguments]",it="[object Array]",ot="[object AsyncFunction]",st="[object Boolean]",ct="[object Date]",ut="[object Error]",ht="[object Function]",Et="[object GeneratorFunction]",St="[object Map]",Mt="[object Number]",kt="[object Null]",Ct="[object Object]",Ot="[object Promise]",zt="[object Proxy]",Ut="[object RegExp]",Vt="[object Set]",jt="[object String]",$t="[object Symbol]",Bt="[object Undefined]",Nt="[object WeakMap]",Lt="[object ArrayBuffer]",Pt="[object DataView]",bt="[object Float32Array]",at="[object Float64Array]",dt="[object Int8Array]",vt="[object Int16Array]",xt="[object Int32Array]",wt="[object Uint8Array]",_t="[object Uint8ClampedArray]",At="[object Uint16Array]",Tt="[object Uint32Array]",yt=/[\\^$.*+?()[\]{}|]/g,It=/^\[object .+?Constructor\]$/,rr=/^(?:0|[1-9]\d*)$/,ir={};ir[bt]=ir[at]=ir[dt]=ir[vt]=ir[xt]=ir[wt]=ir[_t]=ir[At]=ir[Tt]=!0,ir[nt]=ir[it]=ir[Lt]=ir[st]=ir[Pt]=ir[ct]=ir[ut]=ir[ht]=ir[St]=ir[Mt]=ir[Ct]=ir[Ut]=ir[Vt]=ir[jt]=ir[Nt]=!1;var nr=typeof commonjsGlobal=="object"&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal,Gt=typeof self=="object"&&self&&self.Object===Object&&self,qt=nr||Gt||Function("return this")(),Jt=a&&!a.nodeType&&a,Ft=Jt&&!0&&_&&!_.nodeType&&_,Kt=Ft&&Ft.exports===Jt,Qt=Kt&&nr.process,dr=function(){try{return Qt&&Qt.binding&&Qt.binding("util")}catch{}}(),xr=dr&&dr.isTypedArray;function pr(_r,Yt){for(var cr=-1,gr=_r==null?0:_r.length,Dr=0,Zr=[];++cr<gr;){var pn=_r[cr];Yt(pn,cr,_r)&&(Zr[Dr++]=pn)}return Zr}function Ir(_r,Yt){for(var cr=-1,gr=Yt.length,Dr=_r.length;++cr<gr;)_r[Dr+cr]=Yt[cr];return _r}function Cr(_r,Yt){for(var cr=-1,gr=_r==null?0:_r.length;++cr<gr;)if(Yt(_r[cr],cr,_r))return!0;return!1}function lr(_r,Yt){for(var cr=-1,gr=Array(_r);++cr<_r;)gr[cr]=Yt(cr);return gr}function fr(_r){return function(Yt){return _r(Yt)}}function Er(_r,Yt){return _r.has(Yt)}function Ar(_r,Yt){return _r==null?void 0:_r[Yt]}function kr(_r){var Yt=-1,cr=Array(_r.size);return _r.forEach(function(gr,Dr){cr[++Yt]=[Dr,gr]}),cr}function Sr(_r,Yt){return function(cr){return _r(Yt(cr))}}function $r(_r){var Yt=-1,cr=Array(_r.size);return _r.forEach(function(gr){cr[++Yt]=gr}),cr}var jr=Array.prototype,Nr=Function.prototype,or=Object.prototype,Xt=qt["__core-js_shared__"],er=Nr.toString,Zt=or.hasOwnProperty,Ht=function(){var _r=/[^.]+$/.exec(Xt&&Xt.keys&&Xt.keys.IE_PROTO||"");return _r?"Symbol(src)_1."+_r:""}(),Wt=or.toString,ar=RegExp("^"+er.call(Zt).replace(yt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),br=Kt?qt.Buffer:void 0,wr=qt.Symbol,Rr=qt.Uint8Array,Qr=or.propertyIsEnumerable,Ur=jr.splice,Hr=wr?wr.toStringTag:void 0,_n=Object.getOwnPropertySymbols,Wr=br?br.isBuffer:void 0,an=Sr(Object.keys,Object),Sn=Bs(qt,"DataView"),cn=Bs(qt,"Map"),Xr=Bs(qt,"Promise"),Cn=Bs(qt,"Set"),ln=Bs(qt,"WeakMap"),Yr=Bs(Object,"create"),En=Ns(Sn),fn=Ns(cn),Jr=Ns(Xr),$n=Ns(Cn),un=Ns(ln),en=wr?wr.prototype:void 0,An=en?en.valueOf:void 0;function sn(_r){var Yt=-1,cr=_r==null?0:_r.length;for(this.clear();++Yt<cr;){var gr=_r[Yt];this.set(gr[0],gr[1])}}function tn(){this.__data__=Yr?Yr(null):{},this.size=0}function kn(_r){var Yt=this.has(_r)&&delete this.__data__[_r];return this.size-=Yt?1:0,Yt}function xn(_r){var Yt=this.__data__;if(Yr){var cr=Yt[_r];return cr===j?void 0:cr}return Zt.call(Yt,_r)?Yt[_r]:void 0}function dn(_r){var Yt=this.__data__;return Yr?Yt[_r]!==void 0:Zt.call(Yt,_r)}function Ln(_r,Yt){var cr=this.__data__;return this.size+=this.has(_r)?0:1,cr[_r]=Yr&&Yt===void 0?j:Yt,this}sn.prototype.clear=tn,sn.prototype.delete=kn,sn.prototype.get=xn,sn.prototype.has=dn,sn.prototype.set=Ln;function hn(_r){var Yt=-1,cr=_r==null?0:_r.length;for(this.clear();++Yt<cr;){var gr=_r[Yt];this.set(gr[0],gr[1])}}function yn(){this.__data__=[],this.size=0}function ps(_r){var Yt=this.__data__,cr=wo(Yt,_r);if(cr<0)return!1;var gr=Yt.length-1;return cr==gr?Yt.pop():Ur.call(Yt,cr,1),--this.size,!0}function ms(_r){var Yt=this.__data__,cr=wo(Yt,_r);return cr<0?void 0:Yt[cr][1]}function gs(_r){return wo(this.__data__,_r)>-1}function vs(_r,Yt){var cr=this.__data__,gr=wo(cr,_r);return gr<0?(++this.size,cr.push([_r,Yt])):cr[gr][1]=Yt,this}hn.prototype.clear=yn,hn.prototype.delete=ps,hn.prototype.get=ms,hn.prototype.has=gs,hn.prototype.set=vs;function Zn(_r){var Yt=-1,cr=_r==null?0:_r.length;for(this.clear();++Yt<cr;){var gr=_r[Yt];this.set(gr[0],gr[1])}}function ls(){this.size=0,this.__data__={hash:new sn,map:new(cn||hn),string:new sn}}function rs(_r){var Yt=Ys(this,_r).delete(_r);return this.size-=Yt?1:0,Yt}function es(_r){return Ys(this,_r).get(_r)}function ys(_r){return Ys(this,_r).has(_r)}function ns(_r,Yt){var cr=Ys(this,_r),gr=cr.size;return cr.set(_r,Yt),this.size+=cr.size==gr?0:1,this}Zn.prototype.clear=ls,Zn.prototype.delete=rs,Zn.prototype.get=es,Zn.prototype.has=ys,Zn.prototype.set=ns;function as(_r){var Yt=-1,cr=_r==null?0:_r.length;for(this.__data__=new Zn;++Yt<cr;)this.add(_r[Yt])}function ds(_r){return this.__data__.set(_r,j),this}function fs(_r){return this.__data__.has(_r)}as.prototype.add=as.prototype.push=ds,as.prototype.has=fs;function Jn(_r){var Yt=this.__data__=new hn(_r);this.size=Yt.size}function us(){this.__data__=new hn,this.size=0}function xs(_r){var Yt=this.__data__,cr=Yt.delete(_r);return this.size=Yt.size,cr}function bs(_r){return this.__data__.get(_r)}function Ps(_r){return this.__data__.has(_r)}function Ts(_r,Yt){var cr=this.__data__;if(cr instanceof hn){var gr=cr.__data__;if(!cn||gr.length<$-1)return gr.push([_r,Yt]),this.size=++cr.size,this;cr=this.__data__=new Zn(gr)}return cr.set(_r,Yt),this.size=cr.size,this}Jn.prototype.clear=us,Jn.prototype.delete=xs,Jn.prototype.get=bs,Jn.prototype.has=Ps,Jn.prototype.set=Ts;function yl(_r,Yt){var cr=fo(_r),gr=!cr&&Pl(_r),Dr=!cr&&!gr&&Po(_r),Zr=!cr&&!gr&&!Dr&&Bo(_r),pn=cr||gr||Dr||Zr,wn=pn?lr(_r.length,String):[],nn=wn.length;for(var mn in _r)Zt.call(_r,mn)&&!(pn&&(mn=="length"||Dr&&(mn=="offset"||mn=="parent")||Zr&&(mn=="buffer"||mn=="byteLength"||mn=="byteOffset")||Rl(mn,nn)))&&wn.push(mn);return wn}function wo(_r,Yt){for(var cr=_r.length;cr--;)if(uo(_r[cr][0],Yt))return cr;return-1}function Wo(_r,Yt,cr){var gr=Yt(_r);return fo(_r)?gr:Ir(gr,cr(_r))}function _o(_r){return _r==null?_r===void 0?Bt:kt:Hr&&Hr in Object(_r)?_l(_r):Ao(_r)}function Go(_r){return Co(_r)&&_o(_r)==nt}function So(_r,Yt,cr,gr,Dr){return _r===Yt?!0:_r==null||Yt==null||!Co(_r)&&!Co(Yt)?_r!==_r&&Yt!==Yt:Zs(_r,Yt,cr,gr,So,Dr)}function Zs(_r,Yt,cr,gr,Dr,Zr){var pn=fo(_r),wn=fo(Yt),nn=pn?it:Is(_r),mn=wn?it:Is(Yt);nn=nn==nt?Ct:nn,mn=mn==nt?Ct:mn;var Bn=nn==Ct,Fn=mn==Ct,Xn=nn==mn;if(Xn&&Po(_r)){if(!Po(Yt))return!1;pn=!0,Bn=!1}if(Xn&&!Bn)return Zr||(Zr=new Jn),pn||Bo(_r)?lo(_r,Yt,cr,gr,Dr,Zr):Yl(_r,Yt,nn,cr,gr,Dr,Zr);if(!(cr&et)){var Yn=Bn&&Zt.call(_r,"__wrapped__"),Es=Fn&&Zt.call(Yt,"__wrapped__");if(Yn||Es){var Ds=Yn?_r.value():_r,ho=Es?Yt.value():Yt;return Zr||(Zr=new Jn),Dr(Ds,ho,cr,gr,Zr)}}return Xn?(Zr||(Zr=new Jn),wl(_r,Yt,cr,gr,Dr,Zr)):!1}function Ro(_r){if(!Lo(_r)||Tl(_r))return!1;var Yt=Ms(_r)?ar:It;return Yt.test(Ns(_r))}function xl(_r){return Co(_r)&&Cl(_r.length)&&!!ir[_o(_r)]}function El(_r){if(!Xs(_r))return an(_r);var Yt=[];for(var cr in Object(_r))Zt.call(_r,cr)&&cr!="constructor"&&Yt.push(cr);return Yt}function lo(_r,Yt,cr,gr,Dr,Zr){var pn=cr&et,wn=_r.length,nn=Yt.length;if(wn!=nn&&!(pn&&nn>wn))return!1;var mn=Zr.get(_r);if(mn&&Zr.get(Yt))return mn==Yt;var Bn=-1,Fn=!0,Xn=cr&tt?new as:void 0;for(Zr.set(_r,Yt),Zr.set(Yt,_r);++Bn<wn;){var Yn=_r[Bn],Es=Yt[Bn];if(gr)var Ds=pn?gr(Es,Yn,Bn,Yt,_r,Zr):gr(Yn,Es,Bn,_r,Yt,Zr);if(Ds!==void 0){if(Ds)continue;Fn=!1;break}if(Xn){if(!Cr(Yt,function(ho,No){if(!Er(Xn,No)&&(Yn===ho||Dr(Yn,ho,cr,gr,Zr)))return Xn.push(No)})){Fn=!1;break}}else if(!(Yn===Es||Dr(Yn,Es,cr,gr,Zr))){Fn=!1;break}}return Zr.delete(_r),Zr.delete(Yt),Fn}function Yl(_r,Yt,cr,gr,Dr,Zr,pn){switch(cr){case Pt:if(_r.byteLength!=Yt.byteLength||_r.byteOffset!=Yt.byteOffset)return!1;_r=_r.buffer,Yt=Yt.buffer;case Lt:return!(_r.byteLength!=Yt.byteLength||!Zr(new Rr(_r),new Rr(Yt)));case st:case ct:case Mt:return uo(+_r,+Yt);case ut:return _r.name==Yt.name&&_r.message==Yt.message;case Ut:case jt:return _r==Yt+"";case St:var wn=kr;case Vt:var nn=gr&et;if(wn||(wn=$r),_r.size!=Yt.size&&!nn)return!1;var mn=pn.get(_r);if(mn)return mn==Yt;gr|=tt,pn.set(_r,Yt);var Bn=lo(wn(_r),wn(Yt),gr,Dr,Zr,pn);return pn.delete(_r),Bn;case $t:if(An)return An.call(_r)==An.call(Yt)}return!1}function wl(_r,Yt,cr,gr,Dr,Zr){var pn=cr&et,wn=jo(_r),nn=wn.length,mn=jo(Yt),Bn=mn.length;if(nn!=Bn&&!pn)return!1;for(var Fn=nn;Fn--;){var Xn=wn[Fn];if(!(pn?Xn in Yt:Zt.call(Yt,Xn)))return!1}var Yn=Zr.get(_r);if(Yn&&Zr.get(Yt))return Yn==Yt;var Es=!0;Zr.set(_r,Yt),Zr.set(Yt,_r);for(var Ds=pn;++Fn<nn;){Xn=wn[Fn];var ho=_r[Xn],No=Yt[Xn];if(gr)var zu=pn?gr(No,ho,Xn,Yt,_r,Zr):gr(ho,No,Xn,_r,Yt,Zr);if(!(zu===void 0?ho===No||Dr(ho,No,cr,gr,Zr):zu)){Es=!1;break}Ds||(Ds=Xn=="constructor")}if(Es&&!Ds){var Jl=_r.constructor,Os=Yt.constructor;Jl!=Os&&"constructor"in _r&&"constructor"in Yt&&!(typeof Jl=="function"&&Jl instanceof Jl&&typeof Os=="function"&&Os instanceof Os)&&(Es=!1)}return Zr.delete(_r),Zr.delete(Yt),Es}function jo(_r){return Wo(_r,Xl,Sl)}function Ys(_r,Yt){var cr=_r.__data__;return Al(Yt)?cr[typeof Yt=="string"?"string":"hash"]:cr.map}function Bs(_r,Yt){var cr=Ar(_r,Yt);return Ro(cr)?cr:void 0}function _l(_r){var Yt=Zt.call(_r,Hr),cr=_r[Hr];try{_r[Hr]=void 0;var gr=!0}catch{}var Dr=Wt.call(_r);return gr&&(Yt?_r[Hr]=cr:delete _r[Hr]),Dr}var Sl=_n?function(_r){return _r==null?[]:(_r=Object(_r),pr(_n(_r),function(Yt){return Qr.call(_r,Yt)}))}:Qn,Is=_o;(Sn&&Is(new Sn(new ArrayBuffer(1)))!=Pt||cn&&Is(new cn)!=St||Xr&&Is(Xr.resolve())!=Ot||Cn&&Is(new Cn)!=Vt||ln&&Is(new ln)!=Nt)&&(Is=function(_r){var Yt=_o(_r),cr=Yt==Ct?_r.constructor:void 0,gr=cr?Ns(cr):"";if(gr)switch(gr){case En:return Pt;case fn:return St;case Jr:return Ot;case $n:return Vt;case un:return Nt}return Yt});function Rl(_r,Yt){return Yt=Yt??rt,!!Yt&&(typeof _r=="number"||rr.test(_r))&&_r>-1&&_r%1==0&&_r<Yt}function Al(_r){var Yt=typeof _r;return Yt=="string"||Yt=="number"||Yt=="symbol"||Yt=="boolean"?_r!=="__proto__":_r===null}function Tl(_r){return!!Ht&&Ht in _r}function Xs(_r){var Yt=_r&&_r.constructor,cr=typeof Yt=="function"&&Yt.prototype||or;return _r===cr}function Ao(_r){return Wt.call(_r)}function Ns(_r){if(_r!=null){try{return er.call(_r)}catch{}try{return _r+""}catch{}}return""}function uo(_r,Yt){return _r===Yt||_r!==_r&&Yt!==Yt}var Pl=Go(function(){return arguments}())?Go:function(_r){return Co(_r)&&Zt.call(_r,"callee")&&!Qr.call(_r,"callee")},fo=Array.isArray;function To(_r){return _r!=null&&Cl(_r.length)&&!Ms(_r)}var Po=Wr||Gn;function Cs(_r,Yt){return So(_r,Yt)}function Ms(_r){if(!Lo(_r))return!1;var Yt=_o(_r);return Yt==ht||Yt==Et||Yt==ot||Yt==zt}function Cl(_r){return typeof _r=="number"&&_r>-1&&_r%1==0&&_r<=rt}function Lo(_r){var Yt=typeof _r;return _r!=null&&(Yt=="object"||Yt=="function")}function Co(_r){return _r!=null&&typeof _r=="object"}var Bo=xr?fr(xr):xl;function Xl(_r){return To(_r)?yl(_r):El(_r)}function Qn(){return[]}function Gn(){return!1}_.exports=Cs})(lodash_isequal,lodash_isequal.exports);var lodash_isequalExports=lodash_isequal.exports,qrcode={exports:{}};(function(_,a){var $=function(){var j=function(Ut,Vt){var jt=236,$t=17,Bt=Ut,Nt=tt[Vt],Lt=null,Pt=0,bt=null,at=[],dt={},vt=function(qt,Jt){Pt=Bt*4+17,Lt=function(Ft){for(var Kt=new Array(Ft),Qt=0;Qt<Ft;Qt+=1){Kt[Qt]=new Array(Ft);for(var dr=0;dr<Ft;dr+=1)Kt[Qt][dr]=null}return Kt}(Pt),xt(0,0),xt(Pt-7,0),xt(0,Pt-7),At(),_t(),yt(qt,Jt),Bt>=7&&Tt(qt),bt==null&&(bt=ir(Bt,Nt,at)),It(bt,Jt)},xt=function(qt,Jt){for(var Ft=-1;Ft<=7;Ft+=1)if(!(qt+Ft<=-1||Pt<=qt+Ft))for(var Kt=-1;Kt<=7;Kt+=1)Jt+Kt<=-1||Pt<=Jt+Kt||(0<=Ft&&Ft<=6&&(Kt==0||Kt==6)||0<=Kt&&Kt<=6&&(Ft==0||Ft==6)||2<=Ft&&Ft<=4&&2<=Kt&&Kt<=4?Lt[qt+Ft][Jt+Kt]=!0:Lt[qt+Ft][Jt+Kt]=!1)},wt=function(){for(var qt=0,Jt=0,Ft=0;Ft<8;Ft+=1){vt(!0,Ft);var Kt=nt.getLostPoint(dt);(Ft==0||qt>Kt)&&(qt=Kt,Jt=Ft)}return Jt},_t=function(){for(var qt=8;qt<Pt-8;qt+=1)Lt[qt][6]==null&&(Lt[qt][6]=qt%2==0);for(var Jt=8;Jt<Pt-8;Jt+=1)Lt[6][Jt]==null&&(Lt[6][Jt]=Jt%2==0)},At=function(){for(var qt=nt.getPatternPosition(Bt),Jt=0;Jt<qt.length;Jt+=1)for(var Ft=0;Ft<qt.length;Ft+=1){var Kt=qt[Jt],Qt=qt[Ft];if(Lt[Kt][Qt]==null)for(var dr=-2;dr<=2;dr+=1)for(var xr=-2;xr<=2;xr+=1)dr==-2||dr==2||xr==-2||xr==2||dr==0&&xr==0?Lt[Kt+dr][Qt+xr]=!0:Lt[Kt+dr][Qt+xr]=!1}},Tt=function(qt){for(var Jt=nt.getBCHTypeNumber(Bt),Ft=0;Ft<18;Ft+=1){var Kt=!qt&&(Jt>>Ft&1)==1;Lt[Math.floor(Ft/3)][Ft%3+Pt-8-3]=Kt}for(var Ft=0;Ft<18;Ft+=1){var Kt=!qt&&(Jt>>Ft&1)==1;Lt[Ft%3+Pt-8-3][Math.floor(Ft/3)]=Kt}},yt=function(qt,Jt){for(var Ft=Nt<<3|Jt,Kt=nt.getBCHTypeInfo(Ft),Qt=0;Qt<15;Qt+=1){var dr=!qt&&(Kt>>Qt&1)==1;Qt<6?Lt[Qt][8]=dr:Qt<8?Lt[Qt+1][8]=dr:Lt[Pt-15+Qt][8]=dr}for(var Qt=0;Qt<15;Qt+=1){var dr=!qt&&(Kt>>Qt&1)==1;Qt<8?Lt[8][Pt-Qt-1]=dr:Qt<9?Lt[8][15-Qt-1+1]=dr:Lt[8][15-Qt-1]=dr}Lt[Pt-8][8]=!qt},It=function(qt,Jt){for(var Ft=-1,Kt=Pt-1,Qt=7,dr=0,xr=nt.getMaskFunction(Jt),pr=Pt-1;pr>0;pr-=2)for(pr==6&&(pr-=1);;){for(var Ir=0;Ir<2;Ir+=1)if(Lt[Kt][pr-Ir]==null){var Cr=!1;dr<qt.length&&(Cr=(qt[dr]>>>Qt&1)==1);var lr=xr(Kt,pr-Ir);lr&&(Cr=!Cr),Lt[Kt][pr-Ir]=Cr,Qt-=1,Qt==-1&&(dr+=1,Qt=7)}if(Kt+=Ft,Kt<0||Pt<=Kt){Kt-=Ft,Ft=-Ft;break}}},rr=function(qt,Jt){for(var Ft=0,Kt=0,Qt=0,dr=new Array(Jt.length),xr=new Array(Jt.length),pr=0;pr<Jt.length;pr+=1){var Ir=Jt[pr].dataCount,Cr=Jt[pr].totalCount-Ir;Kt=Math.max(Kt,Ir),Qt=Math.max(Qt,Cr),dr[pr]=new Array(Ir);for(var lr=0;lr<dr[pr].length;lr+=1)dr[pr][lr]=255&qt.getBuffer()[lr+Ft];Ft+=Ir;var fr=nt.getErrorCorrectPolynomial(Cr),Er=ot(dr[pr],fr.getLength()-1),Ar=Er.mod(fr);xr[pr]=new Array(fr.getLength()-1);for(var lr=0;lr<xr[pr].length;lr+=1){var kr=lr+Ar.getLength()-xr[pr].length;xr[pr][lr]=kr>=0?Ar.getAt(kr):0}}for(var Sr=0,lr=0;lr<Jt.length;lr+=1)Sr+=Jt[lr].totalCount;for(var $r=new Array(Sr),jr=0,lr=0;lr<Kt;lr+=1)for(var pr=0;pr<Jt.length;pr+=1)lr<dr[pr].length&&($r[jr]=dr[pr][lr],jr+=1);for(var lr=0;lr<Qt;lr+=1)for(var pr=0;pr<Jt.length;pr+=1)lr<xr[pr].length&&($r[jr]=xr[pr][lr],jr+=1);return $r},ir=function(qt,Jt,Ft){for(var Kt=st.getRSBlocks(qt,Jt),Qt=ct(),dr=0;dr<Ft.length;dr+=1){var xr=Ft[dr];Qt.put(xr.getMode(),4),Qt.put(xr.getLength(),nt.getLengthInBits(xr.getMode(),qt)),xr.write(Qt)}for(var pr=0,dr=0;dr<Kt.length;dr+=1)pr+=Kt[dr].dataCount;if(Qt.getLengthInBits()>pr*8)throw"code length overflow. ("+Qt.getLengthInBits()+">"+pr*8+")";for(Qt.getLengthInBits()+4<=pr*8&&Qt.put(0,4);Qt.getLengthInBits()%8!=0;)Qt.putBit(!1);for(;!(Qt.getLengthInBits()>=pr*8||(Qt.put(jt,8),Qt.getLengthInBits()>=pr*8));)Qt.put($t,8);return rr(Qt,Kt)};dt.addData=function(qt,Jt){Jt=Jt||"Byte";var Ft=null;switch(Jt){case"Numeric":Ft=ut(qt);break;case"Alphanumeric":Ft=ht(qt);break;case"Byte":Ft=Et(qt);break;case"Kanji":Ft=St(qt);break;default:throw"mode:"+Jt}at.push(Ft),bt=null},dt.isDark=function(qt,Jt){if(qt<0||Pt<=qt||Jt<0||Pt<=Jt)throw qt+","+Jt;return Lt[qt][Jt]},dt.getModuleCount=function(){return Pt},dt.make=function(){if(Bt<1){for(var qt=1;qt<40;qt++){for(var Jt=st.getRSBlocks(qt,Nt),Ft=ct(),Kt=0;Kt<at.length;Kt++){var Qt=at[Kt];Ft.put(Qt.getMode(),4),Ft.put(Qt.getLength(),nt.getLengthInBits(Qt.getMode(),qt)),Qt.write(Ft)}for(var dr=0,Kt=0;Kt<Jt.length;Kt++)dr+=Jt[Kt].dataCount;if(Ft.getLengthInBits()<=dr*8)break}Bt=qt}vt(!1,wt())},dt.createTableTag=function(qt,Jt){qt=qt||2,Jt=typeof Jt>"u"?qt*4:Jt;var Ft="";Ft+='<table style="',Ft+=" border-width: 0px; border-style: none;",Ft+=" border-collapse: collapse;",Ft+=" padding: 0px; margin: "+Jt+"px;",Ft+='">',Ft+="<tbody>";for(var Kt=0;Kt<dt.getModuleCount();Kt+=1){Ft+="<tr>";for(var Qt=0;Qt<dt.getModuleCount();Qt+=1)Ft+='<td style="',Ft+=" border-width: 0px; border-style: none;",Ft+=" border-collapse: collapse;",Ft+=" padding: 0px; margin: 0px;",Ft+=" width: "+qt+"px;",Ft+=" height: "+qt+"px;",Ft+=" background-color: ",Ft+=dt.isDark(Kt,Qt)?"#000000":"#ffffff",Ft+=";",Ft+='"/>';Ft+="</tr>"}return Ft+="</tbody>",Ft+="</table>",Ft},dt.createSvgTag=function(qt,Jt,Ft,Kt){var Qt={};typeof arguments[0]=="object"&&(Qt=arguments[0],qt=Qt.cellSize,Jt=Qt.margin,Ft=Qt.alt,Kt=Qt.title),qt=qt||2,Jt=typeof Jt>"u"?qt*4:Jt,Ft=typeof Ft=="string"?{text:Ft}:Ft||{},Ft.text=Ft.text||null,Ft.id=Ft.text?Ft.id||"qrcode-description":null,Kt=typeof Kt=="string"?{text:Kt}:Kt||{},Kt.text=Kt.text||null,Kt.id=Kt.text?Kt.id||"qrcode-title":null;var dr=dt.getModuleCount()*qt+Jt*2,xr,pr,Ir,Cr,lr="",fr;for(fr="l"+qt+",0 0,"+qt+" -"+qt+",0 0,-"+qt+"z ",lr+='<svg version="1.1" xmlns="http://www.w3.org/2000/svg"',lr+=Qt.scalable?"":' width="'+dr+'px" height="'+dr+'px"',lr+=' viewBox="0 0 '+dr+" "+dr+'" ',lr+=' preserveAspectRatio="xMinYMin meet"',lr+=Kt.text||Ft.text?' role="img" aria-labelledby="'+nr([Kt.id,Ft.id].join(" ").trim())+'"':"",lr+=">",lr+=Kt.text?'<title id="'+nr(Kt.id)+'">'+nr(Kt.text)+"</title>":"",lr+=Ft.text?'<description id="'+nr(Ft.id)+'">'+nr(Ft.text)+"</description>":"",lr+='<rect width="100%" height="100%" fill="white" cx="0" cy="0"/>',lr+='<path d="',Ir=0;Ir<dt.getModuleCount();Ir+=1)for(Cr=Ir*qt+Jt,xr=0;xr<dt.getModuleCount();xr+=1)dt.isDark(Ir,xr)&&(pr=xr*qt+Jt,lr+="M"+pr+","+Cr+fr);return lr+='" stroke="transparent" fill="black"/>',lr+="</svg>",lr},dt.createDataURL=function(qt,Jt){qt=qt||2,Jt=typeof Jt>"u"?qt*4:Jt;var Ft=dt.getModuleCount()*qt+Jt*2,Kt=Jt,Qt=Ft-Jt;return zt(Ft,Ft,function(dr,xr){if(Kt<=dr&&dr<Qt&&Kt<=xr&&xr<Qt){var pr=Math.floor((dr-Kt)/qt),Ir=Math.floor((xr-Kt)/qt);return dt.isDark(Ir,pr)?0:1}else return 1})},dt.createImgTag=function(qt,Jt,Ft){qt=qt||2,Jt=typeof Jt>"u"?qt*4:Jt;var Kt=dt.getModuleCount()*qt+Jt*2,Qt="";return Qt+="<img",Qt+=' src="',Qt+=dt.createDataURL(qt,Jt),Qt+='"',Qt+=' width="',Qt+=Kt,Qt+='"',Qt+=' height="',Qt+=Kt,Qt+='"',Ft&&(Qt+=' alt="',Qt+=nr(Ft),Qt+='"'),Qt+="/>",Qt};var nr=function(qt){for(var Jt="",Ft=0;Ft<qt.length;Ft+=1){var Kt=qt.charAt(Ft);switch(Kt){case"<":Jt+="&lt;";break;case">":Jt+="&gt;";break;case"&":Jt+="&amp;";break;case'"':Jt+="&quot;";break;default:Jt+=Kt;break}}return Jt},Gt=function(qt){var Jt=1;qt=typeof qt>"u"?Jt*2:qt;var Ft=dt.getModuleCount()*Jt+qt*2,Kt=qt,Qt=Ft-qt,dr,xr,pr,Ir,Cr,lr={"██":"█","█ ":"▀"," █":"▄","  ":" "},fr={"██":"▀","█ ":"▀"," █":" ","  ":" "},Er="";for(dr=0;dr<Ft;dr+=2){for(pr=Math.floor((dr-Kt)/Jt),Ir=Math.floor((dr+1-Kt)/Jt),xr=0;xr<Ft;xr+=1)Cr="█",Kt<=xr&&xr<Qt&&Kt<=dr&&dr<Qt&&dt.isDark(pr,Math.floor((xr-Kt)/Jt))&&(Cr=" "),Kt<=xr&&xr<Qt&&Kt<=dr+1&&dr+1<Qt&&dt.isDark(Ir,Math.floor((xr-Kt)/Jt))?Cr+=" ":Cr+="█",Er+=qt<1&&dr+1>=Qt?fr[Cr]:lr[Cr];Er+=`
`}return Ft%2&&qt>0?Er.substring(0,Er.length-Ft-1)+Array(Ft+1).join("▀"):Er.substring(0,Er.length-1)};return dt.createASCII=function(qt,Jt){if(qt=qt||1,qt<2)return Gt(Jt);qt-=1,Jt=typeof Jt>"u"?qt*2:Jt;var Ft=dt.getModuleCount()*qt+Jt*2,Kt=Jt,Qt=Ft-Jt,dr,xr,pr,Ir,Cr=Array(qt+1).join("██"),lr=Array(qt+1).join("  "),fr="",Er="";for(dr=0;dr<Ft;dr+=1){for(pr=Math.floor((dr-Kt)/qt),Er="",xr=0;xr<Ft;xr+=1)Ir=1,Kt<=xr&&xr<Qt&&Kt<=dr&&dr<Qt&&dt.isDark(pr,Math.floor((xr-Kt)/qt))&&(Ir=0),Er+=Ir?Cr:lr;for(pr=0;pr<qt;pr+=1)fr+=Er+`
`}return fr.substring(0,fr.length-1)},dt.renderTo2dContext=function(qt,Jt){Jt=Jt||2;for(var Ft=dt.getModuleCount(),Kt=0;Kt<Ft;Kt++)for(var Qt=0;Qt<Ft;Qt++)qt.fillStyle=dt.isDark(Kt,Qt)?"black":"white",qt.fillRect(Kt*Jt,Qt*Jt,Jt,Jt)},dt};j.stringToBytesFuncs={default:function(Ut){for(var Vt=[],jt=0;jt<Ut.length;jt+=1){var $t=Ut.charCodeAt(jt);Vt.push($t&255)}return Vt}},j.stringToBytes=j.stringToBytesFuncs.default,j.createStringToBytes=function(Ut,Vt){var jt=function(){for(var Bt=Ct(Ut),Nt=function(){var _t=Bt.read();if(_t==-1)throw"eof";return _t},Lt=0,Pt={};;){var bt=Bt.read();if(bt==-1)break;var at=Nt(),dt=Nt(),vt=Nt(),xt=String.fromCharCode(bt<<8|at),wt=dt<<8|vt;Pt[xt]=wt,Lt+=1}if(Lt!=Vt)throw Lt+" != "+Vt;return Pt}(),$t=63;return function(Bt){for(var Nt=[],Lt=0;Lt<Bt.length;Lt+=1){var Pt=Bt.charCodeAt(Lt);if(Pt<128)Nt.push(Pt);else{var bt=jt[Bt.charAt(Lt)];typeof bt=="number"?(bt&255)==bt?Nt.push(bt):(Nt.push(bt>>>8),Nt.push(bt&255)):Nt.push($t)}}return Nt}};var et={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},tt={L:1,M:0,Q:3,H:2},rt={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},nt=function(){var Ut=[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],Vt=1335,jt=7973,$t=21522,Bt={},Nt=function(Lt){for(var Pt=0;Lt!=0;)Pt+=1,Lt>>>=1;return Pt};return Bt.getBCHTypeInfo=function(Lt){for(var Pt=Lt<<10;Nt(Pt)-Nt(Vt)>=0;)Pt^=Vt<<Nt(Pt)-Nt(Vt);return(Lt<<10|Pt)^$t},Bt.getBCHTypeNumber=function(Lt){for(var Pt=Lt<<12;Nt(Pt)-Nt(jt)>=0;)Pt^=jt<<Nt(Pt)-Nt(jt);return Lt<<12|Pt},Bt.getPatternPosition=function(Lt){return Ut[Lt-1]},Bt.getMaskFunction=function(Lt){switch(Lt){case rt.PATTERN000:return function(Pt,bt){return(Pt+bt)%2==0};case rt.PATTERN001:return function(Pt,bt){return Pt%2==0};case rt.PATTERN010:return function(Pt,bt){return bt%3==0};case rt.PATTERN011:return function(Pt,bt){return(Pt+bt)%3==0};case rt.PATTERN100:return function(Pt,bt){return(Math.floor(Pt/2)+Math.floor(bt/3))%2==0};case rt.PATTERN101:return function(Pt,bt){return Pt*bt%2+Pt*bt%3==0};case rt.PATTERN110:return function(Pt,bt){return(Pt*bt%2+Pt*bt%3)%2==0};case rt.PATTERN111:return function(Pt,bt){return(Pt*bt%3+(Pt+bt)%2)%2==0};default:throw"bad maskPattern:"+Lt}},Bt.getErrorCorrectPolynomial=function(Lt){for(var Pt=ot([1],0),bt=0;bt<Lt;bt+=1)Pt=Pt.multiply(ot([1,it.gexp(bt)],0));return Pt},Bt.getLengthInBits=function(Lt,Pt){if(1<=Pt&&Pt<10)switch(Lt){case et.MODE_NUMBER:return 10;case et.MODE_ALPHA_NUM:return 9;case et.MODE_8BIT_BYTE:return 8;case et.MODE_KANJI:return 8;default:throw"mode:"+Lt}else if(Pt<27)switch(Lt){case et.MODE_NUMBER:return 12;case et.MODE_ALPHA_NUM:return 11;case et.MODE_8BIT_BYTE:return 16;case et.MODE_KANJI:return 10;default:throw"mode:"+Lt}else if(Pt<41)switch(Lt){case et.MODE_NUMBER:return 14;case et.MODE_ALPHA_NUM:return 13;case et.MODE_8BIT_BYTE:return 16;case et.MODE_KANJI:return 12;default:throw"mode:"+Lt}else throw"type:"+Pt},Bt.getLostPoint=function(Lt){for(var Pt=Lt.getModuleCount(),bt=0,at=0;at<Pt;at+=1)for(var dt=0;dt<Pt;dt+=1){for(var vt=0,xt=Lt.isDark(at,dt),wt=-1;wt<=1;wt+=1)if(!(at+wt<0||Pt<=at+wt))for(var _t=-1;_t<=1;_t+=1)dt+_t<0||Pt<=dt+_t||wt==0&&_t==0||xt==Lt.isDark(at+wt,dt+_t)&&(vt+=1);vt>5&&(bt+=3+vt-5)}for(var at=0;at<Pt-1;at+=1)for(var dt=0;dt<Pt-1;dt+=1){var At=0;Lt.isDark(at,dt)&&(At+=1),Lt.isDark(at+1,dt)&&(At+=1),Lt.isDark(at,dt+1)&&(At+=1),Lt.isDark(at+1,dt+1)&&(At+=1),(At==0||At==4)&&(bt+=3)}for(var at=0;at<Pt;at+=1)for(var dt=0;dt<Pt-6;dt+=1)Lt.isDark(at,dt)&&!Lt.isDark(at,dt+1)&&Lt.isDark(at,dt+2)&&Lt.isDark(at,dt+3)&&Lt.isDark(at,dt+4)&&!Lt.isDark(at,dt+5)&&Lt.isDark(at,dt+6)&&(bt+=40);for(var dt=0;dt<Pt;dt+=1)for(var at=0;at<Pt-6;at+=1)Lt.isDark(at,dt)&&!Lt.isDark(at+1,dt)&&Lt.isDark(at+2,dt)&&Lt.isDark(at+3,dt)&&Lt.isDark(at+4,dt)&&!Lt.isDark(at+5,dt)&&Lt.isDark(at+6,dt)&&(bt+=40);for(var Tt=0,dt=0;dt<Pt;dt+=1)for(var at=0;at<Pt;at+=1)Lt.isDark(at,dt)&&(Tt+=1);var yt=Math.abs(100*Tt/Pt/Pt-50)/5;return bt+=yt*10,bt},Bt}(),it=function(){for(var Ut=new Array(256),Vt=new Array(256),jt=0;jt<8;jt+=1)Ut[jt]=1<<jt;for(var jt=8;jt<256;jt+=1)Ut[jt]=Ut[jt-4]^Ut[jt-5]^Ut[jt-6]^Ut[jt-8];for(var jt=0;jt<255;jt+=1)Vt[Ut[jt]]=jt;var $t={};return $t.glog=function(Bt){if(Bt<1)throw"glog("+Bt+")";return Vt[Bt]},$t.gexp=function(Bt){for(;Bt<0;)Bt+=255;for(;Bt>=256;)Bt-=255;return Ut[Bt]},$t}();function ot(Ut,Vt){if(typeof Ut.length>"u")throw Ut.length+"/"+Vt;var jt=function(){for(var Bt=0;Bt<Ut.length&&Ut[Bt]==0;)Bt+=1;for(var Nt=new Array(Ut.length-Bt+Vt),Lt=0;Lt<Ut.length-Bt;Lt+=1)Nt[Lt]=Ut[Lt+Bt];return Nt}(),$t={};return $t.getAt=function(Bt){return jt[Bt]},$t.getLength=function(){return jt.length},$t.multiply=function(Bt){for(var Nt=new Array($t.getLength()+Bt.getLength()-1),Lt=0;Lt<$t.getLength();Lt+=1)for(var Pt=0;Pt<Bt.getLength();Pt+=1)Nt[Lt+Pt]^=it.gexp(it.glog($t.getAt(Lt))+it.glog(Bt.getAt(Pt)));return ot(Nt,0)},$t.mod=function(Bt){if($t.getLength()-Bt.getLength()<0)return $t;for(var Nt=it.glog($t.getAt(0))-it.glog(Bt.getAt(0)),Lt=new Array($t.getLength()),Pt=0;Pt<$t.getLength();Pt+=1)Lt[Pt]=$t.getAt(Pt);for(var Pt=0;Pt<Bt.getLength();Pt+=1)Lt[Pt]^=it.gexp(it.glog(Bt.getAt(Pt))+Nt);return ot(Lt,0).mod(Bt)},$t}var st=function(){var Ut=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12,7,37,13],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],Vt=function(Bt,Nt){var Lt={};return Lt.totalCount=Bt,Lt.dataCount=Nt,Lt},jt={},$t=function(Bt,Nt){switch(Nt){case tt.L:return Ut[(Bt-1)*4+0];case tt.M:return Ut[(Bt-1)*4+1];case tt.Q:return Ut[(Bt-1)*4+2];case tt.H:return Ut[(Bt-1)*4+3];default:return}};return jt.getRSBlocks=function(Bt,Nt){var Lt=$t(Bt,Nt);if(typeof Lt>"u")throw"bad rs block @ typeNumber:"+Bt+"/errorCorrectionLevel:"+Nt;for(var Pt=Lt.length/3,bt=[],at=0;at<Pt;at+=1)for(var dt=Lt[at*3+0],vt=Lt[at*3+1],xt=Lt[at*3+2],wt=0;wt<dt;wt+=1)bt.push(Vt(vt,xt));return bt},jt}(),ct=function(){var Ut=[],Vt=0,jt={};return jt.getBuffer=function(){return Ut},jt.getAt=function($t){var Bt=Math.floor($t/8);return(Ut[Bt]>>>7-$t%8&1)==1},jt.put=function($t,Bt){for(var Nt=0;Nt<Bt;Nt+=1)jt.putBit(($t>>>Bt-Nt-1&1)==1)},jt.getLengthInBits=function(){return Vt},jt.putBit=function($t){var Bt=Math.floor(Vt/8);Ut.length<=Bt&&Ut.push(0),$t&&(Ut[Bt]|=128>>>Vt%8),Vt+=1},jt},ut=function(Ut){var Vt=et.MODE_NUMBER,jt=Ut,$t={};$t.getMode=function(){return Vt},$t.getLength=function(Lt){return jt.length},$t.write=function(Lt){for(var Pt=jt,bt=0;bt+2<Pt.length;)Lt.put(Bt(Pt.substring(bt,bt+3)),10),bt+=3;bt<Pt.length&&(Pt.length-bt==1?Lt.put(Bt(Pt.substring(bt,bt+1)),4):Pt.length-bt==2&&Lt.put(Bt(Pt.substring(bt,bt+2)),7))};var Bt=function(Lt){for(var Pt=0,bt=0;bt<Lt.length;bt+=1)Pt=Pt*10+Nt(Lt.charAt(bt));return Pt},Nt=function(Lt){if("0"<=Lt&&Lt<="9")return Lt.charCodeAt(0)-48;throw"illegal char :"+Lt};return $t},ht=function(Ut){var Vt=et.MODE_ALPHA_NUM,jt=Ut,$t={};$t.getMode=function(){return Vt},$t.getLength=function(Nt){return jt.length},$t.write=function(Nt){for(var Lt=jt,Pt=0;Pt+1<Lt.length;)Nt.put(Bt(Lt.charAt(Pt))*45+Bt(Lt.charAt(Pt+1)),11),Pt+=2;Pt<Lt.length&&Nt.put(Bt(Lt.charAt(Pt)),6)};var Bt=function(Nt){if("0"<=Nt&&Nt<="9")return Nt.charCodeAt(0)-48;if("A"<=Nt&&Nt<="Z")return Nt.charCodeAt(0)-65+10;switch(Nt){case" ":return 36;case"$":return 37;case"%":return 38;case"*":return 39;case"+":return 40;case"-":return 41;case".":return 42;case"/":return 43;case":":return 44;default:throw"illegal char :"+Nt}};return $t},Et=function(Ut){var Vt=et.MODE_8BIT_BYTE,jt=j.stringToBytes(Ut),$t={};return $t.getMode=function(){return Vt},$t.getLength=function(Bt){return jt.length},$t.write=function(Bt){for(var Nt=0;Nt<jt.length;Nt+=1)Bt.put(jt[Nt],8)},$t},St=function(Ut){var Vt=et.MODE_KANJI,jt=j.stringToBytesFuncs.SJIS;if(!jt)throw"sjis not supported.";(function(Nt,Lt){var Pt=jt(Nt);if(Pt.length!=2||(Pt[0]<<8|Pt[1])!=Lt)throw"sjis not supported."})("友",38726);var $t=jt(Ut),Bt={};return Bt.getMode=function(){return Vt},Bt.getLength=function(Nt){return~~($t.length/2)},Bt.write=function(Nt){for(var Lt=$t,Pt=0;Pt+1<Lt.length;){var bt=(255&Lt[Pt])<<8|255&Lt[Pt+1];if(33088<=bt&&bt<=40956)bt-=33088;else if(57408<=bt&&bt<=60351)bt-=49472;else throw"illegal char at "+(Pt+1)+"/"+bt;bt=(bt>>>8&255)*192+(bt&255),Nt.put(bt,13),Pt+=2}if(Pt<Lt.length)throw"illegal char at "+(Pt+1)},Bt},Mt=function(){var Ut=[],Vt={};return Vt.writeByte=function(jt){Ut.push(jt&255)},Vt.writeShort=function(jt){Vt.writeByte(jt),Vt.writeByte(jt>>>8)},Vt.writeBytes=function(jt,$t,Bt){$t=$t||0,Bt=Bt||jt.length;for(var Nt=0;Nt<Bt;Nt+=1)Vt.writeByte(jt[Nt+$t])},Vt.writeString=function(jt){for(var $t=0;$t<jt.length;$t+=1)Vt.writeByte(jt.charCodeAt($t))},Vt.toByteArray=function(){return Ut},Vt.toString=function(){var jt="";jt+="[";for(var $t=0;$t<Ut.length;$t+=1)$t>0&&(jt+=","),jt+=Ut[$t];return jt+="]",jt},Vt},kt=function(){var Ut=0,Vt=0,jt=0,$t="",Bt={},Nt=function(Pt){$t+=String.fromCharCode(Lt(Pt&63))},Lt=function(Pt){if(!(Pt<0)){if(Pt<26)return 65+Pt;if(Pt<52)return 97+(Pt-26);if(Pt<62)return 48+(Pt-52);if(Pt==62)return 43;if(Pt==63)return 47}throw"n:"+Pt};return Bt.writeByte=function(Pt){for(Ut=Ut<<8|Pt&255,Vt+=8,jt+=1;Vt>=6;)Nt(Ut>>>Vt-6),Vt-=6},Bt.flush=function(){if(Vt>0&&(Nt(Ut<<6-Vt),Ut=0,Vt=0),jt%3!=0)for(var Pt=3-jt%3,bt=0;bt<Pt;bt+=1)$t+="="},Bt.toString=function(){return $t},Bt},Ct=function(Ut){var Vt=Ut,jt=0,$t=0,Bt=0,Nt={};Nt.read=function(){for(;Bt<8;){if(jt>=Vt.length){if(Bt==0)return-1;throw"unexpected end of file./"+Bt}var Pt=Vt.charAt(jt);if(jt+=1,Pt=="=")return Bt=0,-1;if(Pt.match(/^\s$/))continue;$t=$t<<6|Lt(Pt.charCodeAt(0)),Bt+=6}var bt=$t>>>Bt-8&255;return Bt-=8,bt};var Lt=function(Pt){if(65<=Pt&&Pt<=90)return Pt-65;if(97<=Pt&&Pt<=122)return Pt-97+26;if(48<=Pt&&Pt<=57)return Pt-48+52;if(Pt==43)return 62;if(Pt==47)return 63;throw"c:"+Pt};return Nt},Ot=function(Ut,Vt){var jt=Ut,$t=Vt,Bt=new Array(Ut*Vt),Nt={};Nt.setPixel=function(at,dt,vt){Bt[dt*jt+at]=vt},Nt.write=function(at){at.writeString("GIF87a"),at.writeShort(jt),at.writeShort($t),at.writeByte(128),at.writeByte(0),at.writeByte(0),at.writeByte(0),at.writeByte(0),at.writeByte(0),at.writeByte(255),at.writeByte(255),at.writeByte(255),at.writeString(","),at.writeShort(0),at.writeShort(0),at.writeShort(jt),at.writeShort($t),at.writeByte(0);var dt=2,vt=Pt(dt);at.writeByte(dt);for(var xt=0;vt.length-xt>255;)at.writeByte(255),at.writeBytes(vt,xt,255),xt+=255;at.writeByte(vt.length-xt),at.writeBytes(vt,xt,vt.length-xt),at.writeByte(0),at.writeString(";")};var Lt=function(at){var dt=at,vt=0,xt=0,wt={};return wt.write=function(_t,At){if(_t>>>At)throw"length over";for(;vt+At>=8;)dt.writeByte(255&(_t<<vt|xt)),At-=8-vt,_t>>>=8-vt,xt=0,vt=0;xt=_t<<vt|xt,vt=vt+At},wt.flush=function(){vt>0&&dt.writeByte(xt)},wt},Pt=function(at){for(var dt=1<<at,vt=(1<<at)+1,xt=at+1,wt=bt(),_t=0;_t<dt;_t+=1)wt.add(String.fromCharCode(_t));wt.add(String.fromCharCode(dt)),wt.add(String.fromCharCode(vt));var At=Mt(),Tt=Lt(At);Tt.write(dt,xt);var yt=0,It=String.fromCharCode(Bt[yt]);for(yt+=1;yt<Bt.length;){var rr=String.fromCharCode(Bt[yt]);yt+=1,wt.contains(It+rr)?It=It+rr:(Tt.write(wt.indexOf(It),xt),wt.size()<4095&&(wt.size()==1<<xt&&(xt+=1),wt.add(It+rr)),It=rr)}return Tt.write(wt.indexOf(It),xt),Tt.write(vt,xt),Tt.flush(),At.toByteArray()},bt=function(){var at={},dt=0,vt={};return vt.add=function(xt){if(vt.contains(xt))throw"dup key:"+xt;at[xt]=dt,dt+=1},vt.size=function(){return dt},vt.indexOf=function(xt){return at[xt]},vt.contains=function(xt){return typeof at[xt]<"u"},vt};return Nt},zt=function(Ut,Vt,jt){for(var $t=Ot(Ut,Vt),Bt=0;Bt<Vt;Bt+=1)for(var Nt=0;Nt<Ut;Nt+=1)$t.setPixel(Nt,Bt,jt(Nt,Bt));var Lt=Mt();$t.write(Lt);for(var Pt=kt(),bt=Lt.toByteArray(),at=0;at<bt.length;at+=1)Pt.writeByte(bt[at]);return Pt.flush(),"data:image/gif;base64,"+Pt};return j}();(function(){$.stringToBytesFuncs["UTF-8"]=function(j){function et(tt){for(var rt=[],nt=0;nt<tt.length;nt++){var it=tt.charCodeAt(nt);it<128?rt.push(it):it<2048?rt.push(192|it>>6,128|it&63):it<55296||it>=57344?rt.push(224|it>>12,128|it>>6&63,128|it&63):(nt++,it=65536+((it&1023)<<10|tt.charCodeAt(nt)&1023),rt.push(240|it>>18,128|it>>12&63,128|it>>6&63,128|it&63))}return rt}return et(j)}})(),function(j){_.exports=j()}(function(){return $})})(qrcode);var qrcodeExports=qrcode.exports,__extends=commonjsGlobal&&commonjsGlobal.__extends||function(){var _=function(a,$){return _=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(j,et){j.__proto__=et}||function(j,et){for(var tt in et)Object.prototype.hasOwnProperty.call(et,tt)&&(j[tt]=et[tt])},_(a,$)};return function(a,$){if(typeof $!="function"&&$!==null)throw new TypeError("Class extends value "+String($)+" is not a constructor or null");_(a,$);function j(){this.constructor=a}a.prototype=$===null?Object.create($):(j.prototype=$.prototype,new j)}}(),__assign=commonjsGlobal&&commonjsGlobal.__assign||function(){return __assign=Object.assign||function(_){for(var a,$=1,j=arguments.length;$<j;$++){a=arguments[$];for(var et in a)Object.prototype.hasOwnProperty.call(a,et)&&(_[et]=a[et])}return _},__assign.apply(this,arguments)};Object.defineProperty(dist,"__esModule",{value:!0});var QRCode_1=dist.QRCode=void 0,isEqual$1=lodash_isequalExports,qrGenerator=qrcodeExports,React=reactExports,QRCode=function(_){__extends(a,_);function a($){var j=_.call(this,$)||this;return j.canvasRef=React.createRef(),j}return a.prototype.download=function($,j){if(this.canvasRef.current){var et=void 0;switch($){case"jpg":et="image/jpeg";break;case"webp":et="image/webp";break;case"png":default:et="image/png";break}var tt=this.canvasRef.current.toDataURL(et,1),rt=document.createElement("a");rt.download=j??"react-qrcode-logo",rt.href=tt,rt.click()}},a.prototype.utf16to8=function($){var j="",et,tt,rt=$.length;for(et=0;et<rt;et++)tt=$.charCodeAt(et),tt>=1&&tt<=127?j+=$.charAt(et):tt>2047?(j+=String.fromCharCode(224|tt>>12&15),j+=String.fromCharCode(128|tt>>6&63),j+=String.fromCharCode(128|tt>>0&63)):(j+=String.fromCharCode(192|tt>>6&31),j+=String.fromCharCode(128|tt>>0&63));return j},a.prototype.drawRoundedSquare=function($,j,et,tt,rt,nt,it,ot){ot.lineWidth=$,ot.fillStyle=rt,ot.strokeStyle=rt,et+=$/2,j+=$/2,tt-=$,Array.isArray(nt)||(nt=[nt,nt,nt,nt]),nt=nt.map(function(Et){return Et=Math.min(Et,tt/2),Et<0?0:Et});var st=nt[0]||0,ct=nt[1]||0,ut=nt[2]||0,ht=nt[3]||0;ot.beginPath(),ot.moveTo(j+st,et),ot.lineTo(j+tt-ct,et),ct&&ot.quadraticCurveTo(j+tt,et,j+tt,et+ct),ot.lineTo(j+tt,et+tt-ut),ut&&ot.quadraticCurveTo(j+tt,et+tt,j+tt-ut,et+tt),ot.lineTo(j+ht,et+tt),ht&&ot.quadraticCurveTo(j,et+tt,j,et+tt-ht),ot.lineTo(j,et+st),st&&ot.quadraticCurveTo(j,et,j+st,et),ot.closePath(),ot.stroke(),it&&ot.fill()},a.prototype.drawPositioningPattern=function($,j,et,tt,rt,nt,it){it===void 0&&(it=[0,0,0,0]);var ot=Math.ceil(j),st,ct;typeof it!="number"&&!Array.isArray(it)?(st=it.outer||0,ct=it.inner||0):(st=it,ct=st);var ut,ht;typeof nt!="string"?(ut=nt.outer,ht=nt.inner):(ut=nt,ht=nt);var Et=tt*j+et,St=rt*j+et,Mt=j*7;this.drawRoundedSquare(ot,St,Et,Mt,ut,st,!1,$),Mt=j*3,Et+=j*2,St+=j*2,this.drawRoundedSquare(ot,St,Et,Mt,ht,ct,!0,$)},a.prototype.isInPositioninZone=function($,j,et){return et.some(function(tt){return j>=tt.row&&j<=tt.row+7&&$>=tt.col&&$<=tt.col+7})},a.prototype.transformPixelLengthIntoNumberOfCells=function($,j){return $/j},a.prototype.isCoordinateInImage=function($,j,et,tt,rt,nt,it,ot){if(ot){var st=2,ct=this.transformPixelLengthIntoNumberOfCells(rt,it),ut=this.transformPixelLengthIntoNumberOfCells(nt,it),ht=this.transformPixelLengthIntoNumberOfCells(et,it)-1,Et=this.transformPixelLengthIntoNumberOfCells(tt,it)-1;return j>=ct-st&&j<=ct+ht+st&&$>=ut-st&&$<=ut+Et+st}else return!1},a.prototype.shouldComponentUpdate=function($){return!isEqual$1(this.props,$)},a.prototype.componentDidMount=function(){this.update()},a.prototype.componentDidUpdate=function(){this.update()},a.prototype.update=function(){var $,j=this.props,et=j.value,tt=j.ecLevel,rt=j.enableCORS,nt=j.bgColor,it=j.fgColor,ot=j.logoImage,st=j.logoOpacity,ct=j.logoOnLoad,ut=j.removeQrCodeBehindLogo,ht=j.qrStyle,Et=j.eyeRadius,St=j.eyeColor,Mt=j.logoPaddingStyle,kt=+this.props.size,Ct=+this.props.quietZone,Ot=this.props.logoWidth?+this.props.logoWidth:0,zt=this.props.logoHeight?+this.props.logoHeight:0,Ut=this.props.logoPadding?+this.props.logoPadding:0,Vt=qrGenerator(0,tt);Vt.addData(this.utf16to8(et)),Vt.make();var jt=($=this.canvasRef)===null||$===void 0?void 0:$.current,$t=jt.getContext("2d"),Bt=kt+2*Ct,Nt=Vt.getModuleCount(),Lt=kt/Nt,Pt=window.devicePixelRatio||1;jt.height=jt.width=Bt*Pt,$t.scale(Pt,Pt),$t.fillStyle=nt,$t.fillRect(0,0,Bt,Bt);var bt=Ct,at=[{row:0,col:0},{row:0,col:Nt-7},{row:Nt-7,col:0}];if($t.strokeStyle=it,ht==="dots"){$t.fillStyle=it;for(var dt=Lt/2,vt=0;vt<Nt;vt++)for(var xt=0;xt<Nt;xt++)Vt.isDark(vt,xt)&&!this.isInPositioninZone(vt,xt,at)&&($t.beginPath(),$t.arc(Math.round(xt*Lt)+dt+bt,Math.round(vt*Lt)+dt+bt,dt/100*75,0,2*Math.PI,!1),$t.closePath(),$t.fill())}else if(ht==="fluid"){for(var dt=Math.ceil(Lt/2),vt=0;vt<Nt;vt++)for(var xt=0;xt<Nt;xt++)if(Vt.isDark(vt,xt)&&!this.isInPositioninZone(vt,xt,at)){var wt=[!1,!1,!1,!1];vt>0&&!Vt.isDark(vt-1,xt)&&xt>0&&!Vt.isDark(vt,xt-1)&&(wt[0]=!0),vt>0&&!Vt.isDark(vt-1,xt)&&xt<Nt-1&&!Vt.isDark(vt,xt+1)&&(wt[1]=!0),vt<Nt-1&&!Vt.isDark(vt+1,xt)&&xt<Nt-1&&!Vt.isDark(vt,xt+1)&&(wt[2]=!0),vt<Nt-1&&!Vt.isDark(vt+1,xt)&&xt>0&&!Vt.isDark(vt,xt-1)&&(wt[3]=!0);var _t=Math.ceil((xt+1)*Lt)-Math.floor(xt*Lt),At=Math.ceil((vt+1)*Lt)-Math.floor(vt*Lt);$t.fillStyle=it,$t.beginPath(),$t.arc(Math.round(xt*Lt)+dt+bt,Math.round(vt*Lt)+dt+bt,dt,0,2*Math.PI,!1),$t.closePath(),$t.fill(),wt[0]||$t.fillRect(Math.round(xt*Lt)+bt,Math.round(vt*Lt)+bt,_t/2,At/2),wt[1]||$t.fillRect(Math.round(xt*Lt)+bt+Math.floor(_t/2),Math.round(vt*Lt)+bt,_t/2,At/2),wt[2]||$t.fillRect(Math.round(xt*Lt)+bt+Math.floor(_t/2),Math.round(vt*Lt)+bt+Math.floor(At/2),_t/2,At/2),wt[3]||$t.fillRect(Math.round(xt*Lt)+bt,Math.round(vt*Lt)+bt+Math.floor(At/2),_t/2,At/2)}}else for(var vt=0;vt<Nt;vt++)for(var xt=0;xt<Nt;xt++)if(Vt.isDark(vt,xt)&&!this.isInPositioninZone(vt,xt,at)){$t.fillStyle=it;var _t=Math.ceil((xt+1)*Lt)-Math.floor(xt*Lt),At=Math.ceil((vt+1)*Lt)-Math.floor(vt*Lt);$t.fillRect(Math.round(xt*Lt)+bt,Math.round(vt*Lt)+bt,_t,At)}for(var Tt=0;Tt<3;Tt++){var yt=at[Tt],vt=yt.row,xt=yt.col,It=Et,rr=void 0;Array.isArray(It)&&(It=It[Tt]),typeof It=="number"&&(It=[It,It,It,It]),St?Array.isArray(St)?rr=St[Tt]:rr=St:rr=it,this.drawPositioningPattern($t,Lt,bt,vt,xt,rr,It)}if(ot){var ir=new Image;rt&&(ir.crossOrigin="Anonymous"),ir.onload=function(nr){$t.save();var Gt=Ot||kt*.2,qt=zt||Gt,Jt=(kt-Gt)/2,Ft=(kt-qt)/2;if(ut||Ut){$t.beginPath(),$t.strokeStyle=nt,$t.fillStyle=nt;var Kt=Gt+2*Ut,Qt=qt+2*Ut,dr=Jt+bt-Ut,xr=Ft+bt-Ut;if(Mt==="circle"){var pr=dr+Kt/2,Ir=xr+Qt/2;$t.ellipse(pr,Ir,Kt/2,Qt/2,0,0,2*Math.PI),$t.stroke(),$t.fill()}else $t.fillRect(dr,xr,Kt,Qt)}$t.globalAlpha=st,$t.drawImage(ir,Jt+bt,Ft+bt,Gt,qt),$t.restore(),ct&&ct(nr)},ir.src=ot}},a.prototype.render=function(){var $,j=+this.props.size+2*+this.props.quietZone;return React.createElement("canvas",{id:($=this.props.id)!==null&&$!==void 0?$:"react-qrcode-logo",height:j,width:j,style:__assign({height:j+"px",width:j+"px"},this.props.style),ref:this.canvasRef})},a.defaultProps={value:"https://reactjs.org/",ecLevel:"M",enableCORS:!1,size:150,quietZone:10,bgColor:"#FFFFFF",fgColor:"#000000",logoOpacity:1,qrStyle:"squares",eyeRadius:[0,0,0],logoPaddingStyle:"square"},a}(React.Component);QRCode_1=dist.QRCode=QRCode;const ReceiveModal=({pkh:_})=>{const $=useGetOwnedAccountSafe()(_);return jsxRuntimeExports.jsxs(ModalContent,{children:[jsxRuntimeExports.jsx(FormPageHeader,{subTitle:"You can receive tez or other digital assets by scanning or sharing this QR code",title:"Receive"}),jsxRuntimeExports.jsx(ModalBody,{children:jsxRuntimeExports.jsx(Flex,{alignItems:"center",justifyContent:"space-between",flexDirection:"column",children:jsxRuntimeExports.jsx(Box,{padding:"8px",background:"white",borderRadius:"8px",children:jsxRuntimeExports.jsx(QRCode_1,{size:232,value:_})})})}),jsxRuntimeExports.jsx(ModalFooter,{children:jsxRuntimeExports.jsxs(Box,{width:"100%",children:[$&&jsxRuntimeExports.jsx(Heading,{textAlign:"center",marginY:2,children:$.label}),jsxRuntimeExports.jsx(Flex,{justifyContent:"center",width:"100%",children:jsxRuntimeExports.jsx(AddressPill,{address:parsePkh(_),mode:{type:"no_icons"}})})]})})]})},AccountCard=({accountPkh:_})=>{const a=useGetOwnedAccount(),$=useGetAccountBalance(),j=useGetDollarBalance(),et=useGetAccountAllTokens(),tt=useGetAccountNFTs(),{openWith:rt}=reactExports.useContext(DynamicModalContext),nt=a(_),it=$(_),ot=j(_),st=et(_),ct=sortedByLastUpdate(tt(_));return jsxRuntimeExports.jsx(AccountDrawerDisplay,{account:nt,balance:it,dollarBalance:ot,nfts:ct,onReceive:()=>rt(jsxRuntimeExports.jsx(ReceiveModal,{pkh:_})),onSend:()=>rt(jsxRuntimeExports.jsx(FormPage$4,{sender:nt})),tokens:st})},InfoModal=({account:_})=>{const a=[{title:"Template",content:_.derivationPathTemplate},{title:"Path",content:_.derivationPath},{title:"Type (Curve)",content:_.curve}];return jsxRuntimeExports.jsxs(ModalContent,{children:[jsxRuntimeExports.jsxs(ModalHeader,{children:[jsxRuntimeExports.jsx(CircleIcon,{icon:jsxRuntimeExports.jsx(SlashIcon,{}),size:"48px"}),jsxRuntimeExports.jsx(Center,{marginBottom:"8px",children:jsxRuntimeExports.jsx(Heading,{marginTop:"16px",children:"Derivation Info"})}),jsxRuntimeExports.jsx(ModalCloseButton,{})]}),jsxRuntimeExports.jsx(ModalBody,{children:a.map(({title:$,content:j})=>j?jsxRuntimeExports.jsxs(Box,{marginTop:"24px",children:[jsxRuntimeExports.jsx(Heading,{size:"md",children:$}),jsxRuntimeExports.jsx(Center,{justifyContent:"flex-start",marginTop:"12px",padding:"15px",borderRadius:"4px",backgroundColor:colors.gray[800],children:jsxRuntimeExports.jsx(Text,{size:"sm",children:j})})]},j):null)})]})},DerivationInfoButton=({account:_,...a})=>{const{openWith:$}=reactExports.useContext(DynamicModalContext);switch(_.type){case"multisig":case"secret_key":case"social":return null;case"ledger":case"mnemonic":return jsxRuntimeExports.jsx(Button,{"data-testid":"derivation-info-button",onClick:()=>$(jsxRuntimeExports.jsx(InfoModal,{account:_})),variant:"CTAWithIcon",...a,children:jsxRuntimeExports.jsx(FolderInfoIcon,{stroke:"currentcolor"})})}},CloseDrawerButton=({onClose:_})=>jsxRuntimeExports.jsx(Button,{minWidth:"24px",padding:"0",onClick:_,variant:"CTAWithIcon",children:jsxRuntimeExports.jsx(ExitArrowIcon,{stroke:"currentcolor"})}),scriptRel="modulepreload",assetsURL=function(_,a){return new URL(_,a).href},seen={},__vitePreload=function _(a,$,j){let et=Promise.resolve();if($&&$.length>0){const tt=document.getElementsByTagName("link"),rt=document.querySelector("meta[property=csp-nonce]"),nt=(rt==null?void 0:rt.nonce)||(rt==null?void 0:rt.getAttribute("nonce"));et=Promise.all($.map(it=>{if(it=assetsURL(it,j),it in seen)return;seen[it]=!0;const ot=it.endsWith(".css"),st=ot?'[rel="stylesheet"]':"";if(!!j)for(let ht=tt.length-1;ht>=0;ht--){const Et=tt[ht];if(Et.href===it&&(!ot||Et.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${it}"]${st}`))return;const ut=document.createElement("link");if(ut.rel=ot?"stylesheet":scriptRel,ot||(ut.as="script",ut.crossOrigin=""),ut.href=it,nt&&ut.setAttribute("nonce",nt),document.head.appendChild(ut),ot)return new Promise((ht,Et)=>{ut.addEventListener("load",ht),ut.addEventListener("error",()=>Et(new Error(`Unable to preload CSS for ${it}`)))})}))}return et.then(()=>a()).catch(tt=>{const rt=new Event("vite:preloadError",{cancelable:!0});if(rt.payload=tt,window.dispatchEvent(rt),!rt.defaultPrevented)throw tt})};var loadScript=function _(a,$,j){var et=document.head||document.getElementsByTagName("head")[0],tt=document.createElement("script");typeof $=="function"&&(j=$,$={}),$=$||{},j=j||function(){},tt.type=$.type||"text/javascript",tt.charset=$.charset||"utf8",tt.async="async"in $?!!$.async:!0,tt.src=a,$.attrs&&setAttributes(tt,$.attrs),$.text&&(tt.text=""+$.text);var rt="onload"in tt?stdOnEnd:ieOnEnd;rt(tt,j),tt.onload||stdOnEnd(tt,j),et.appendChild(tt)};function setAttributes(_,a){for(var $ in a)_.setAttribute($,a[$])}function stdOnEnd(_,a){_.onload=function(){this.onerror=this.onload=null,a(null,_)},_.onerror=function(){this.onerror=this.onload=null,a(new Error("Failed to load "+this.src),_)}}function ieOnEnd(_,a){_.onreadystatechange=function(){this.readyState!="complete"&&this.readyState!="loaded"||(this.onreadystatechange=null,a(null,_))}}var isMergeableObject=function _(a){return isNonNullObject(a)&&!isSpecial(a)};function isNonNullObject(_){return!!_&&typeof _=="object"}function isSpecial(_){var a=Object.prototype.toString.call(_);return a==="[object RegExp]"||a==="[object Date]"||isReactElement(_)}var canUseSymbol=typeof Symbol=="function"&&Symbol.for,REACT_ELEMENT_TYPE=canUseSymbol?Symbol.for("react.element"):60103;function isReactElement(_){return _.$$typeof===REACT_ELEMENT_TYPE}function emptyTarget(_){return Array.isArray(_)?[]:{}}function cloneUnlessOtherwiseSpecified(_,a){return a.clone!==!1&&a.isMergeableObject(_)?deepmerge(emptyTarget(_),_,a):_}function defaultArrayMerge(_,a,$){return _.concat(a).map(function(j){return cloneUnlessOtherwiseSpecified(j,$)})}function getMergeFunction(_,a){if(!a.customMerge)return deepmerge;var $=a.customMerge(_);return typeof $=="function"?$:deepmerge}function getEnumerableOwnPropertySymbols(_){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(_).filter(function(a){return Object.propertyIsEnumerable.call(_,a)}):[]}function getKeys(_){return Object.keys(_).concat(getEnumerableOwnPropertySymbols(_))}function propertyIsOnObject(_,a){try{return a in _}catch{return!1}}function propertyIsUnsafe(_,a){return propertyIsOnObject(_,a)&&!(Object.hasOwnProperty.call(_,a)&&Object.propertyIsEnumerable.call(_,a))}function mergeObject(_,a,$){var j={};return $.isMergeableObject(_)&&getKeys(_).forEach(function(et){j[et]=cloneUnlessOtherwiseSpecified(_[et],$)}),getKeys(a).forEach(function(et){propertyIsUnsafe(_,et)||(propertyIsOnObject(_,et)&&$.isMergeableObject(a[et])?j[et]=getMergeFunction(et,$)(_[et],a[et],$):j[et]=cloneUnlessOtherwiseSpecified(a[et],$))}),j}function deepmerge(_,a,$){$=$||{},$.arrayMerge=$.arrayMerge||defaultArrayMerge,$.isMergeableObject=$.isMergeableObject||isMergeableObject,$.cloneUnlessOtherwiseSpecified=cloneUnlessOtherwiseSpecified;var j=Array.isArray(a),et=Array.isArray(_),tt=j===et;return tt?j?$.arrayMerge(_,a,$):mergeObject(_,a,$):cloneUnlessOtherwiseSpecified(a,$)}deepmerge.all=function _(a,$){if(!Array.isArray(a))throw new Error("first argument should be an array");return a.reduce(function(j,et){return deepmerge(j,et,$)},{})};var deepmerge_1=deepmerge,cjs=deepmerge_1,__create$4=Object.create,__defProp$6=Object.defineProperty,__getOwnPropDesc$6=Object.getOwnPropertyDescriptor,__getOwnPropNames$6=Object.getOwnPropertyNames,__getProtoOf$4=Object.getPrototypeOf,__hasOwnProp$6=Object.prototype.hasOwnProperty,__export$6=(_,a)=>{for(var $ in a)__defProp$6(_,$,{get:a[$],enumerable:!0})},__copyProps$6=(_,a,$,j)=>{if(a&&typeof a=="object"||typeof a=="function")for(let et of __getOwnPropNames$6(a))!__hasOwnProp$6.call(_,et)&&et!==$&&__defProp$6(_,et,{get:()=>a[et],enumerable:!(j=__getOwnPropDesc$6(a,et))||j.enumerable});return _},__toESM$4=(_,a,$)=>($=_!=null?__create$4(__getProtoOf$4(_)):{},__copyProps$6(!_||!_.__esModule?__defProp$6($,"default",{value:_,enumerable:!0}):$,_)),__toCommonJS$6=_=>__copyProps$6(__defProp$6({},"__esModule",{value:!0}),_),utils_exports={};__export$6(utils_exports,{callPlayer:()=>callPlayer,getConfig:()=>getConfig,getSDK:()=>getSDK,isBlobUrl:()=>isBlobUrl,isMediaStream:()=>isMediaStream,lazy:()=>lazy,omit:()=>omit,parseEndTime:()=>parseEndTime,parseStartTime:()=>parseStartTime,queryString:()=>queryString,randomString:()=>randomString,supportsWebKitPresentationMode:()=>supportsWebKitPresentationMode});var utils$1=__toCommonJS$6(utils_exports),import_react$2=__toESM$4(reactExports),import_load_script=__toESM$4(loadScript),import_deepmerge$1=__toESM$4(cjs);const lazy=_=>import_react$2.default.lazy(async()=>{const a=await _();return typeof a.default=="function"?a:a.default}),MATCH_START_QUERY=/[?&#](?:start|t)=([0-9hms]+)/,MATCH_END_QUERY=/[?&#]end=([0-9hms]+)/,MATCH_START_STAMP=/(\d+)(h|m|s)/g,MATCH_NUMERIC=/^\d+$/;function parseTimeParam(_,a){if(_ instanceof Array)return;const $=_.match(a);if($){const j=$[1];if(j.match(MATCH_START_STAMP))return parseTimeString(j);if(MATCH_NUMERIC.test(j))return parseInt(j)}}function parseTimeString(_){let a=0,$=MATCH_START_STAMP.exec(_);for(;$!==null;){const[,j,et]=$;et==="h"&&(a+=parseInt(j,10)*60*60),et==="m"&&(a+=parseInt(j,10)*60),et==="s"&&(a+=parseInt(j,10)),$=MATCH_START_STAMP.exec(_)}return a}function parseStartTime(_){return parseTimeParam(_,MATCH_START_QUERY)}function parseEndTime(_){return parseTimeParam(_,MATCH_END_QUERY)}function randomString(){return Math.random().toString(36).substr(2,5)}function queryString(_){return Object.keys(_).map(a=>`${a}=${_[a]}`).join("&")}function getGlobal(_){return window[_]?window[_]:window.exports&&window.exports[_]?window.exports[_]:window.module&&window.module.exports&&window.module.exports[_]?window.module.exports[_]:null}const requests={},getSDK=function _(a,$,j=null,et=()=>!0,tt=import_load_script.default){const rt=getGlobal($);return rt&&et(rt)?Promise.resolve(rt):new Promise((nt,it)=>{if(requests[a]){requests[a].push({resolve:nt,reject:it});return}requests[a]=[{resolve:nt,reject:it}];const ot=st=>{requests[a].forEach(ct=>ct.resolve(st))};if(j){const st=window[j];window[j]=function(){st&&st(),ot(getGlobal($))}}tt(a,st=>{st?(requests[a].forEach(ct=>ct.reject(st)),requests[a]=null):j||ot(getGlobal($))})})};function getConfig(_,a){return(0,import_deepmerge$1.default)(a.config,_.config)}function omit(_,...a){const $=[].concat(...a),j={},et=Object.keys(_);for(const tt of et)$.indexOf(tt)===-1&&(j[tt]=_[tt]);return j}function callPlayer(_,...a){if(!this.player||!this.player[_]){let $=`ReactPlayer: ${this.constructor.displayName} player could not call %c${_}%c – `;return this.player?this.player[_]||($+="The method was not available"):$+="The player was not available",console.warn($,"font-weight: bold",""),null}return this.player[_](...a)}function isMediaStream(_){return typeof window<"u"&&typeof window.MediaStream<"u"&&_ instanceof window.MediaStream}function isBlobUrl(_){return/^blob:/.test(_)}function supportsWebKitPresentationMode(_=document.createElement("video")){const a=/iPhone|iPod/.test(navigator.userAgent)===!1;return _.webkitSupportsPresentationMode&&typeof _.webkitSetPresentationMode=="function"&&a}function enableStubOn(_){return _}var __defProp$5=Object.defineProperty,__getOwnPropDesc$5=Object.getOwnPropertyDescriptor,__getOwnPropNames$5=Object.getOwnPropertyNames,__hasOwnProp$5=Object.prototype.hasOwnProperty,__export$5=(_,a)=>{for(var $ in a)__defProp$5(_,$,{get:a[$],enumerable:!0})},__copyProps$5=(_,a,$,j)=>{if(a&&typeof a=="object"||typeof a=="function")for(let et of __getOwnPropNames$5(a))!__hasOwnProp$5.call(_,et)&&et!==$&&__defProp$5(_,et,{get:()=>a[et],enumerable:!(j=__getOwnPropDesc$5(a,et))||j.enumerable});return _},__toCommonJS$5=_=>__copyProps$5(__defProp$5({},"__esModule",{value:!0}),_),patterns_exports={};__export$5(patterns_exports,{AUDIO_EXTENSIONS:()=>AUDIO_EXTENSIONS,DASH_EXTENSIONS:()=>DASH_EXTENSIONS,FLV_EXTENSIONS:()=>FLV_EXTENSIONS,HLS_EXTENSIONS:()=>HLS_EXTENSIONS,MATCH_URL_DAILYMOTION:()=>MATCH_URL_DAILYMOTION,MATCH_URL_FACEBOOK:()=>MATCH_URL_FACEBOOK,MATCH_URL_FACEBOOK_WATCH:()=>MATCH_URL_FACEBOOK_WATCH,MATCH_URL_KALTURA:()=>MATCH_URL_KALTURA,MATCH_URL_MIXCLOUD:()=>MATCH_URL_MIXCLOUD,MATCH_URL_MUX:()=>MATCH_URL_MUX,MATCH_URL_SOUNDCLOUD:()=>MATCH_URL_SOUNDCLOUD,MATCH_URL_STREAMABLE:()=>MATCH_URL_STREAMABLE,MATCH_URL_TWITCH_CHANNEL:()=>MATCH_URL_TWITCH_CHANNEL,MATCH_URL_TWITCH_VIDEO:()=>MATCH_URL_TWITCH_VIDEO,MATCH_URL_VIDYARD:()=>MATCH_URL_VIDYARD,MATCH_URL_VIMEO:()=>MATCH_URL_VIMEO,MATCH_URL_WISTIA:()=>MATCH_URL_WISTIA,MATCH_URL_YOUTUBE:()=>MATCH_URL_YOUTUBE,VIDEO_EXTENSIONS:()=>VIDEO_EXTENSIONS,canPlay:()=>canPlay});var patterns=__toCommonJS$5(patterns_exports),import_utils$3=utils$1;const MATCH_URL_YOUTUBE=/(?:youtu\.be\/|youtube(?:-nocookie|education)?\.com\/(?:embed\/|v\/|watch\/|watch\?v=|watch\?.+&v=|shorts\/|live\/))((\w|-){11})|youtube\.com\/playlist\?list=|youtube\.com\/user\//,MATCH_URL_SOUNDCLOUD=/(?:soundcloud\.com|snd\.sc)\/[^.]+$/,MATCH_URL_VIMEO=/vimeo\.com\/(?!progressive_redirect).+/,MATCH_URL_MUX=/stream\.mux\.com\/(?!\w+\.m3u8)(\w+)/,MATCH_URL_FACEBOOK=/^https?:\/\/(www\.)?facebook\.com.*\/(video(s)?|watch|story)(\.php?|\/).+$/,MATCH_URL_FACEBOOK_WATCH=/^https?:\/\/fb\.watch\/.+$/,MATCH_URL_STREAMABLE=/streamable\.com\/([a-z0-9]+)$/,MATCH_URL_WISTIA=/(?:wistia\.(?:com|net)|wi\.st)\/(?:medias|embed)\/(?:iframe\/)?([^?]+)/,MATCH_URL_TWITCH_VIDEO=/(?:www\.|go\.)?twitch\.tv\/videos\/(\d+)($|\?)/,MATCH_URL_TWITCH_CHANNEL=/(?:www\.|go\.)?twitch\.tv\/([a-zA-Z0-9_]+)($|\?)/,MATCH_URL_DAILYMOTION=/^(?:(?:https?):)?(?:\/\/)?(?:www\.)?(?:(?:dailymotion\.com(?:\/embed)?\/video)|dai\.ly)\/([a-zA-Z0-9]+)(?:_[\w_-]+)?(?:[\w.#_-]+)?/,MATCH_URL_MIXCLOUD=/mixcloud\.com\/([^/]+\/[^/]+)/,MATCH_URL_VIDYARD=/vidyard.com\/(?:watch\/)?([a-zA-Z0-9-_]+)/,MATCH_URL_KALTURA=/^https?:\/\/[a-zA-Z]+\.kaltura.(com|org)\/p\/([0-9]+)\/sp\/([0-9]+)00\/embedIframeJs\/uiconf_id\/([0-9]+)\/partner_id\/([0-9]+)(.*)entry_id.([a-zA-Z0-9-_].*)$/,AUDIO_EXTENSIONS=/\.(m4a|m4b|mp4a|mpga|mp2|mp2a|mp3|m2a|m3a|wav|weba|aac|oga|spx)($|\?)/i,VIDEO_EXTENSIONS=/\.(mp4|og[gv]|webm|mov|m4v)(#t=[,\d+]+)?($|\?)/i,HLS_EXTENSIONS=/\.(m3u8)($|\?)/i,DASH_EXTENSIONS=/\.(mpd)($|\?)/i,FLV_EXTENSIONS=/\.(flv)($|\?)/i,canPlayFile=_=>{if(_ instanceof Array){for(const a of _)if(typeof a=="string"&&canPlayFile(a)||canPlayFile(a.src))return!0;return!1}return(0,import_utils$3.isMediaStream)(_)||(0,import_utils$3.isBlobUrl)(_)?!0:AUDIO_EXTENSIONS.test(_)||VIDEO_EXTENSIONS.test(_)||HLS_EXTENSIONS.test(_)||DASH_EXTENSIONS.test(_)||FLV_EXTENSIONS.test(_)},canPlay={youtube:_=>_ instanceof Array?_.every(a=>MATCH_URL_YOUTUBE.test(a)):MATCH_URL_YOUTUBE.test(_),soundcloud:_=>MATCH_URL_SOUNDCLOUD.test(_)&&!AUDIO_EXTENSIONS.test(_),vimeo:_=>MATCH_URL_VIMEO.test(_)&&!VIDEO_EXTENSIONS.test(_)&&!HLS_EXTENSIONS.test(_),mux:_=>MATCH_URL_MUX.test(_),facebook:_=>MATCH_URL_FACEBOOK.test(_)||MATCH_URL_FACEBOOK_WATCH.test(_),streamable:_=>MATCH_URL_STREAMABLE.test(_),wistia:_=>MATCH_URL_WISTIA.test(_),twitch:_=>MATCH_URL_TWITCH_VIDEO.test(_)||MATCH_URL_TWITCH_CHANNEL.test(_),dailymotion:_=>MATCH_URL_DAILYMOTION.test(_),mixcloud:_=>MATCH_URL_MIXCLOUD.test(_),vidyard:_=>MATCH_URL_VIDYARD.test(_),kaltura:_=>MATCH_URL_KALTURA.test(_),file:canPlayFile};var __defProp$4=Object.defineProperty,__getOwnPropDesc$4=Object.getOwnPropertyDescriptor,__getOwnPropNames$4=Object.getOwnPropertyNames,__hasOwnProp$4=Object.prototype.hasOwnProperty,__export$4=(_,a)=>{for(var $ in a)__defProp$4(_,$,{get:a[$],enumerable:!0})},__copyProps$4=(_,a,$,j)=>{if(a&&typeof a=="object"||typeof a=="function")for(let et of __getOwnPropNames$4(a))!__hasOwnProp$4.call(_,et)&&et!==$&&__defProp$4(_,et,{get:()=>a[et],enumerable:!(j=__getOwnPropDesc$4(a,et))||j.enumerable});return _},__toCommonJS$4=_=>__copyProps$4(__defProp$4({},"__esModule",{value:!0}),_),players_exports={};__export$4(players_exports,{default:()=>players_default});var players=__toCommonJS$4(players_exports),import_utils$2=utils$1,import_patterns=patterns,players_default=[{key:"youtube",name:"YouTube",canPlay:import_patterns.canPlay.youtube,lazyPlayer:(0,import_utils$2.lazy)(()=>__vitePreload(()=>import("./YouTube-B23XLkDQ.js").then(_=>_.Y),[],import.meta.url))},{key:"soundcloud",name:"SoundCloud",canPlay:import_patterns.canPlay.soundcloud,lazyPlayer:(0,import_utils$2.lazy)(()=>__vitePreload(()=>import("./SoundCloud-CNNmpGDZ.js").then(_=>_.S),[],import.meta.url))},{key:"vimeo",name:"Vimeo",canPlay:import_patterns.canPlay.vimeo,lazyPlayer:(0,import_utils$2.lazy)(()=>__vitePreload(()=>import("./Vimeo-55cJVSW9.js").then(_=>_.V),[],import.meta.url))},{key:"mux",name:"Mux",canPlay:import_patterns.canPlay.mux,lazyPlayer:(0,import_utils$2.lazy)(()=>__vitePreload(()=>import("./Mux-CUM83m3V.js").then(_=>_.M),[],import.meta.url))},{key:"facebook",name:"Facebook",canPlay:import_patterns.canPlay.facebook,lazyPlayer:(0,import_utils$2.lazy)(()=>__vitePreload(()=>import("./Facebook-DoTyVeM5.js").then(_=>_.F),[],import.meta.url))},{key:"streamable",name:"Streamable",canPlay:import_patterns.canPlay.streamable,lazyPlayer:(0,import_utils$2.lazy)(()=>__vitePreload(()=>import("./Streamable-7a324G8O.js").then(_=>_.S),[],import.meta.url))},{key:"wistia",name:"Wistia",canPlay:import_patterns.canPlay.wistia,lazyPlayer:(0,import_utils$2.lazy)(()=>__vitePreload(()=>import("./Wistia-CLYv3NQT.js").then(_=>_.W),[],import.meta.url))},{key:"twitch",name:"Twitch",canPlay:import_patterns.canPlay.twitch,lazyPlayer:(0,import_utils$2.lazy)(()=>__vitePreload(()=>import("./Twitch-Dula1O-A.js").then(_=>_.T),[],import.meta.url))},{key:"dailymotion",name:"DailyMotion",canPlay:import_patterns.canPlay.dailymotion,lazyPlayer:(0,import_utils$2.lazy)(()=>__vitePreload(()=>import("./DailyMotion-shXaw3Lb.js").then(_=>_.D),[],import.meta.url))},{key:"mixcloud",name:"Mixcloud",canPlay:import_patterns.canPlay.mixcloud,lazyPlayer:(0,import_utils$2.lazy)(()=>__vitePreload(()=>import("./Mixcloud-DkvBfo-N.js").then(_=>_.M),[],import.meta.url))},{key:"vidyard",name:"Vidyard",canPlay:import_patterns.canPlay.vidyard,lazyPlayer:(0,import_utils$2.lazy)(()=>__vitePreload(()=>import("./Vidyard-DNZ95iYI.js").then(_=>_.V),[],import.meta.url))},{key:"kaltura",name:"Kaltura",canPlay:import_patterns.canPlay.kaltura,lazyPlayer:(0,import_utils$2.lazy)(()=>__vitePreload(()=>import("./Kaltura-DycNhJFK.js").then(_=>_.K),[],import.meta.url))},{key:"file",name:"FilePlayer",canPlay:import_patterns.canPlay.file,canEnablePIP:_=>import_patterns.canPlay.file(_)&&(document.pictureInPictureEnabled||(0,import_utils$2.supportsWebKitPresentationMode)())&&!import_patterns.AUDIO_EXTENSIONS.test(_),lazyPlayer:(0,import_utils$2.lazy)(()=>__vitePreload(()=>import("./FilePlayer-fnM_QIAf.js").then(_=>_.F),[],import.meta.url))}],safeIsNaN=Number.isNaN||function _(a){return typeof a=="number"&&a!==a};function isEqual(_,a){return!!(_===a||safeIsNaN(_)&&safeIsNaN(a))}function areInputsEqual(_,a){if(_.length!==a.length)return!1;for(var $=0;$<_.length;$++)if(!isEqual(_[$],a[$]))return!1;return!0}function memoizeOne(_,a){a===void 0&&(a=areInputsEqual);var $,j=[],et,tt=!1;function rt(){for(var nt=[],it=0;it<arguments.length;it++)nt[it]=arguments[it];return tt&&$===this&&a(nt,j)||(et=_.apply(this,nt),tt=!0,$=this,j=nt),et}return rt}const memoizeOne_esm=Object.freeze(Object.defineProperty({__proto__:null,default:memoizeOne},Symbol.toStringTag,{value:"Module"})),require$$2=getAugmentedNamespace(memoizeOne_esm);var __create$3=Object.create,__defProp$3=Object.defineProperty,__getOwnPropDesc$3=Object.getOwnPropertyDescriptor,__getOwnPropNames$3=Object.getOwnPropertyNames,__getProtoOf$3=Object.getPrototypeOf,__hasOwnProp$3=Object.prototype.hasOwnProperty,__export$3=(_,a)=>{for(var $ in a)__defProp$3(_,$,{get:a[$],enumerable:!0})},__copyProps$3=(_,a,$,j)=>{if(a&&typeof a=="object"||typeof a=="function")for(let et of __getOwnPropNames$3(a))!__hasOwnProp$3.call(_,et)&&et!==$&&__defProp$3(_,et,{get:()=>a[et],enumerable:!(j=__getOwnPropDesc$3(a,et))||j.enumerable});return _},__toESM$3=(_,a,$)=>($=_!=null?__create$3(__getProtoOf$3(_)):{},__copyProps$3(!_||!_.__esModule?__defProp$3($,"default",{value:_,enumerable:!0}):$,_)),__toCommonJS$3=_=>__copyProps$3(__defProp$3({},"__esModule",{value:!0}),_),props_exports={};__export$3(props_exports,{defaultProps:()=>defaultProps,propTypes:()=>propTypes});var props=__toCommonJS$3(props_exports),import_prop_types=__toESM$3(propTypesExports);const{string,bool,number,array,oneOfType,shape,object,func,node}=import_prop_types.default,propTypes={url:oneOfType([string,array,object]),playing:bool,loop:bool,controls:bool,volume:number,muted:bool,playbackRate:number,width:oneOfType([string,number]),height:oneOfType([string,number]),style:object,progressInterval:number,playsinline:bool,pip:bool,stopOnUnmount:bool,light:oneOfType([bool,string,object]),playIcon:node,previewTabIndex:number,previewAriaLabel:string,fallback:node,oEmbedUrl:string,wrapper:oneOfType([string,func,shape({render:func.isRequired})]),config:shape({soundcloud:shape({options:object}),youtube:shape({playerVars:object,embedOptions:object,onUnstarted:func}),facebook:shape({appId:string,version:string,playerId:string,attributes:object}),dailymotion:shape({params:object}),vimeo:shape({playerOptions:object,title:string}),mux:shape({attributes:object,version:string}),file:shape({attributes:object,tracks:array,forceVideo:bool,forceAudio:bool,forceHLS:bool,forceSafariHLS:bool,forceDisableHls:bool,forceDASH:bool,forceFLV:bool,hlsOptions:object,hlsVersion:string,dashVersion:string,flvVersion:string}),wistia:shape({options:object,playerId:string,customControls:array}),mixcloud:shape({options:object}),twitch:shape({options:object,playerId:string}),vidyard:shape({options:object})}),onReady:func,onStart:func,onPlay:func,onPause:func,onBuffer:func,onBufferEnd:func,onEnded:func,onError:func,onDuration:func,onSeek:func,onPlaybackRateChange:func,onPlaybackQualityChange:func,onProgress:func,onClickPreview:func,onEnablePIP:func,onDisablePIP:func},noop$1=()=>{},defaultProps={playing:!1,loop:!1,controls:!1,volume:null,muted:!1,playbackRate:1,width:"640px",height:"360px",style:{},progressInterval:1e3,playsinline:!1,pip:!1,stopOnUnmount:!0,light:!1,fallback:null,wrapper:"div",previewTabIndex:0,previewAriaLabel:"",oEmbedUrl:"https://noembed.com/embed?url={url}",config:{soundcloud:{options:{visual:!0,buying:!1,liking:!1,download:!1,sharing:!1,show_comments:!1,show_playcount:!1}},youtube:{playerVars:{playsinline:1,showinfo:0,rel:0,iv_load_policy:3,modestbranding:1},embedOptions:{},onUnstarted:noop$1},facebook:{appId:"1309697205772819",version:"v3.3",playerId:null,attributes:{}},dailymotion:{params:{api:1,"endscreen-enable":!1}},vimeo:{playerOptions:{autopause:!1,byline:!1,portrait:!1,title:!1},title:null},mux:{attributes:{},version:"2"},file:{attributes:{},tracks:[],forceVideo:!1,forceAudio:!1,forceHLS:!1,forceDASH:!1,forceFLV:!1,hlsOptions:{},hlsVersion:"1.1.4",dashVersion:"3.1.3",flvVersion:"1.5.0",forceDisableHls:!1},wistia:{options:{},playerId:null,customControls:null},mixcloud:{options:{hide_cover:1}},twitch:{options:{},playerId:null},vidyard:{options:{}}},onReady:noop$1,onStart:noop$1,onPlay:noop$1,onPause:noop$1,onBuffer:noop$1,onBufferEnd:noop$1,onEnded:noop$1,onError:noop$1,onDuration:noop$1,onSeek:noop$1,onPlaybackRateChange:noop$1,onPlaybackQualityChange:noop$1,onProgress:noop$1,onClickPreview:noop$1,onEnablePIP:noop$1,onDisablePIP:noop$1};var __create$2=Object.create,__defProp$2=Object.defineProperty,__getOwnPropDesc$2=Object.getOwnPropertyDescriptor,__getOwnPropNames$2=Object.getOwnPropertyNames,__getProtoOf$2=Object.getPrototypeOf,__hasOwnProp$2=Object.prototype.hasOwnProperty,__defNormalProp$1=(_,a,$)=>a in _?__defProp$2(_,a,{enumerable:!0,configurable:!0,writable:!0,value:$}):_[a]=$,__export$2=(_,a)=>{for(var $ in a)__defProp$2(_,$,{get:a[$],enumerable:!0})},__copyProps$2=(_,a,$,j)=>{if(a&&typeof a=="object"||typeof a=="function")for(let et of __getOwnPropNames$2(a))!__hasOwnProp$2.call(_,et)&&et!==$&&__defProp$2(_,et,{get:()=>a[et],enumerable:!(j=__getOwnPropDesc$2(a,et))||j.enumerable});return _},__toESM$2=(_,a,$)=>($=_!=null?__create$2(__getProtoOf$2(_)):{},__copyProps$2(!_||!_.__esModule?__defProp$2($,"default",{value:_,enumerable:!0}):$,_)),__toCommonJS$2=_=>__copyProps$2(__defProp$2({},"__esModule",{value:!0}),_),__publicField$1=(_,a,$)=>(__defNormalProp$1(_,typeof a!="symbol"?a+"":a,$),$),Player_exports={};__export$2(Player_exports,{default:()=>Player});var Player_1=__toCommonJS$2(Player_exports),import_react$1=__toESM$2(reactExports),import_react_fast_compare$1=__toESM$2(reactFastCompare),import_props$1=props,import_utils$1=utils$1;const SEEK_ON_PLAY_EXPIRY=5e3;class Player extends import_react$1.Component{constructor(){super(...arguments),__publicField$1(this,"mounted",!1),__publicField$1(this,"isReady",!1),__publicField$1(this,"isPlaying",!1),__publicField$1(this,"isLoading",!0),__publicField$1(this,"loadOnReady",null),__publicField$1(this,"startOnPlay",!0),__publicField$1(this,"seekOnPlay",null),__publicField$1(this,"onDurationCalled",!1),__publicField$1(this,"handlePlayerMount",a=>{if(this.player){this.progress();return}this.player=a,this.player.load(this.props.url),this.progress()}),__publicField$1(this,"getInternalPlayer",a=>this.player?this.player[a]:null),__publicField$1(this,"progress",()=>{if(this.props.url&&this.player&&this.isReady){const a=this.getCurrentTime()||0,$=this.getSecondsLoaded(),j=this.getDuration();if(j){const et={playedSeconds:a,played:a/j};$!==null&&(et.loadedSeconds=$,et.loaded=$/j),(et.playedSeconds!==this.prevPlayed||et.loadedSeconds!==this.prevLoaded)&&this.props.onProgress(et),this.prevPlayed=et.playedSeconds,this.prevLoaded=et.loadedSeconds}}this.progressTimeout=setTimeout(this.progress,this.props.progressFrequency||this.props.progressInterval)}),__publicField$1(this,"handleReady",()=>{if(!this.mounted)return;this.isReady=!0,this.isLoading=!1;const{onReady:a,playing:$,volume:j,muted:et}=this.props;a(),!et&&j!==null&&this.player.setVolume(j),this.loadOnReady?(this.player.load(this.loadOnReady,!0),this.loadOnReady=null):$&&this.player.play(),this.handleDurationCheck()}),__publicField$1(this,"handlePlay",()=>{this.isPlaying=!0,this.isLoading=!1;const{onStart:a,onPlay:$,playbackRate:j}=this.props;this.startOnPlay&&(this.player.setPlaybackRate&&j!==1&&this.player.setPlaybackRate(j),a(),this.startOnPlay=!1),$(),this.seekOnPlay&&(this.seekTo(this.seekOnPlay),this.seekOnPlay=null),this.handleDurationCheck()}),__publicField$1(this,"handlePause",a=>{this.isPlaying=!1,this.isLoading||this.props.onPause(a)}),__publicField$1(this,"handleEnded",()=>{const{activePlayer:a,loop:$,onEnded:j}=this.props;a.loopOnEnded&&$&&this.seekTo(0),$||(this.isPlaying=!1,j())}),__publicField$1(this,"handleError",(...a)=>{this.isLoading=!1,this.props.onError(...a)}),__publicField$1(this,"handleDurationCheck",()=>{clearTimeout(this.durationCheckTimeout);const a=this.getDuration();a?this.onDurationCalled||(this.props.onDuration(a),this.onDurationCalled=!0):this.durationCheckTimeout=setTimeout(this.handleDurationCheck,100)}),__publicField$1(this,"handleLoaded",()=>{this.isLoading=!1})}componentDidMount(){this.mounted=!0}componentWillUnmount(){clearTimeout(this.progressTimeout),clearTimeout(this.durationCheckTimeout),this.isReady&&this.props.stopOnUnmount&&(this.player.stop(),this.player.disablePIP&&this.player.disablePIP()),this.mounted=!1}componentDidUpdate(a){if(!this.player)return;const{url:$,playing:j,volume:et,muted:tt,playbackRate:rt,pip:nt,loop:it,activePlayer:ot,disableDeferredLoading:st}=this.props;if(!(0,import_react_fast_compare$1.default)(a.url,$)){if(this.isLoading&&!ot.forceLoad&&!st&&!(0,import_utils$1.isMediaStream)($)){console.warn(`ReactPlayer: the attempt to load ${$} is being deferred until the player has loaded`),this.loadOnReady=$;return}this.isLoading=!0,this.startOnPlay=!0,this.onDurationCalled=!1,this.player.load($,this.isReady)}!a.playing&&j&&!this.isPlaying&&this.player.play(),a.playing&&!j&&this.isPlaying&&this.player.pause(),!a.pip&&nt&&this.player.enablePIP&&this.player.enablePIP(),a.pip&&!nt&&this.player.disablePIP&&this.player.disablePIP(),a.volume!==et&&et!==null&&this.player.setVolume(et),a.muted!==tt&&(tt?this.player.mute():(this.player.unmute(),et!==null&&setTimeout(()=>this.player.setVolume(et)))),a.playbackRate!==rt&&this.player.setPlaybackRate&&this.player.setPlaybackRate(rt),a.loop!==it&&this.player.setLoop&&this.player.setLoop(it)}getDuration(){return this.isReady?this.player.getDuration():null}getCurrentTime(){return this.isReady?this.player.getCurrentTime():null}getSecondsLoaded(){return this.isReady?this.player.getSecondsLoaded():null}seekTo(a,$,j){if(!this.isReady){a!==0&&(this.seekOnPlay=a,setTimeout(()=>{this.seekOnPlay=null},SEEK_ON_PLAY_EXPIRY));return}if($?$==="fraction":a>0&&a<1){const tt=this.player.getDuration();if(!tt){console.warn("ReactPlayer: could not seek using fraction – duration not yet available");return}this.player.seekTo(tt*a,j);return}this.player.seekTo(a,j)}render(){const a=this.props.activePlayer;return a?import_react$1.default.createElement(a,{...this.props,onMount:this.handlePlayerMount,onReady:this.handleReady,onPlay:this.handlePlay,onPause:this.handlePause,onEnded:this.handleEnded,onLoaded:this.handleLoaded,onError:this.handleError}):null}}__publicField$1(Player,"displayName","Player");__publicField$1(Player,"propTypes",import_props$1.propTypes);__publicField$1(Player,"defaultProps",import_props$1.defaultProps);var __create$1=Object.create,__defProp$1=Object.defineProperty,__getOwnPropDesc$1=Object.getOwnPropertyDescriptor,__getOwnPropNames$1=Object.getOwnPropertyNames,__getProtoOf$1=Object.getPrototypeOf,__hasOwnProp$1=Object.prototype.hasOwnProperty,__defNormalProp=(_,a,$)=>a in _?__defProp$1(_,a,{enumerable:!0,configurable:!0,writable:!0,value:$}):_[a]=$,__export$1=(_,a)=>{for(var $ in a)__defProp$1(_,$,{get:a[$],enumerable:!0})},__copyProps$1=(_,a,$,j)=>{if(a&&typeof a=="object"||typeof a=="function")for(let et of __getOwnPropNames$1(a))!__hasOwnProp$1.call(_,et)&&et!==$&&__defProp$1(_,et,{get:()=>a[et],enumerable:!(j=__getOwnPropDesc$1(a,et))||j.enumerable});return _},__toESM$1=(_,a,$)=>($=_!=null?__create$1(__getProtoOf$1(_)):{},__copyProps$1(!_||!_.__esModule?__defProp$1($,"default",{value:_,enumerable:!0}):$,_)),__toCommonJS$1=_=>__copyProps$1(__defProp$1({},"__esModule",{value:!0}),_),__publicField=(_,a,$)=>(__defNormalProp(_,typeof a!="symbol"?a+"":a,$),$),ReactPlayer_exports={};__export$1(ReactPlayer_exports,{createReactPlayer:()=>createReactPlayer});var ReactPlayer$1=__toCommonJS$1(ReactPlayer_exports),import_react=__toESM$1(reactExports),import_deepmerge=__toESM$1(cjs),import_memoize_one=__toESM$1(require$$2),import_react_fast_compare=__toESM$1(reactFastCompare),import_props=props,import_utils=utils$1,import_Player=__toESM$1(Player_1);const Preview=(0,import_utils.lazy)(()=>__vitePreload(()=>import("./Preview-CjfKKjm6.js").then(_=>_.P),[],import.meta.url)),IS_BROWSER=typeof window<"u"&&window.document&&typeof document<"u",IS_GLOBAL=typeof commonjsGlobal<"u"&&commonjsGlobal.window&&commonjsGlobal.window.document,SUPPORTED_PROPS=Object.keys(import_props.propTypes),UniversalSuspense=IS_BROWSER||IS_GLOBAL?import_react.Suspense:()=>null,customPlayers=[],createReactPlayer=(_,a)=>{var $;return $=class extends import_react.Component{constructor(){super(...arguments),__publicField(this,"state",{showPreview:!!this.props.light}),__publicField(this,"references",{wrapper:j=>{this.wrapper=j},player:j=>{this.player=j}}),__publicField(this,"handleClickPreview",j=>{this.setState({showPreview:!1}),this.props.onClickPreview(j)}),__publicField(this,"showPreview",()=>{this.setState({showPreview:!0})}),__publicField(this,"getDuration",()=>this.player?this.player.getDuration():null),__publicField(this,"getCurrentTime",()=>this.player?this.player.getCurrentTime():null),__publicField(this,"getSecondsLoaded",()=>this.player?this.player.getSecondsLoaded():null),__publicField(this,"getInternalPlayer",(j="player")=>this.player?this.player.getInternalPlayer(j):null),__publicField(this,"seekTo",(j,et,tt)=>{if(!this.player)return null;this.player.seekTo(j,et,tt)}),__publicField(this,"handleReady",()=>{this.props.onReady(this)}),__publicField(this,"getActivePlayer",(0,import_memoize_one.default)(j=>{for(const et of[...customPlayers,..._])if(et.canPlay(j))return et;return a||null})),__publicField(this,"getConfig",(0,import_memoize_one.default)((j,et)=>{const{config:tt}=this.props;return import_deepmerge.default.all([import_props.defaultProps.config,import_props.defaultProps.config[et]||{},tt,tt[et]||{}])})),__publicField(this,"getAttributes",(0,import_memoize_one.default)(j=>(0,import_utils.omit)(this.props,SUPPORTED_PROPS))),__publicField(this,"renderActivePlayer",j=>{if(!j)return null;const et=this.getActivePlayer(j);if(!et)return null;const tt=this.getConfig(j,et.key);return import_react.default.createElement(import_Player.default,{...this.props,key:et.key,ref:this.references.player,config:tt,activePlayer:et.lazyPlayer||et,onReady:this.handleReady})})}shouldComponentUpdate(j,et){return!(0,import_react_fast_compare.default)(this.props,j)||!(0,import_react_fast_compare.default)(this.state,et)}componentDidUpdate(j){const{light:et}=this.props;!j.light&&et&&this.setState({showPreview:!0}),j.light&&!et&&this.setState({showPreview:!1})}renderPreview(j){if(!j)return null;const{light:et,playIcon:tt,previewTabIndex:rt,oEmbedUrl:nt,previewAriaLabel:it}=this.props;return import_react.default.createElement(Preview,{url:j,light:et,playIcon:tt,previewTabIndex:rt,previewAriaLabel:it,oEmbedUrl:nt,onClick:this.handleClickPreview})}render(){const{url:j,style:et,width:tt,height:rt,fallback:nt,wrapper:it}=this.props,{showPreview:ot}=this.state,st=this.getAttributes(j),ct=typeof it=="string"?this.references.wrapper:void 0;return import_react.default.createElement(it,{ref:ct,style:{...et,width:tt,height:rt},...st},import_react.default.createElement(UniversalSuspense,{fallback:nt},ot?this.renderPreview(j):this.renderActivePlayer(j)))}},__publicField($,"displayName","ReactPlayer"),__publicField($,"propTypes",import_props.propTypes),__publicField($,"defaultProps",import_props.defaultProps),__publicField($,"addCustomPlayer",j=>{customPlayers.push(j)}),__publicField($,"removeCustomPlayers",()=>{customPlayers.length=0}),__publicField($,"canPlay",j=>{for(const et of[...customPlayers,..._])if(et.canPlay(j))return!0;return!1}),__publicField($,"canEnablePIP",j=>{for(const et of[...customPlayers,..._])if(et.canEnablePIP&&et.canEnablePIP(j))return!0;return!1}),$};var __create=Object.create,__defProp=Object.defineProperty,__getOwnPropDesc=Object.getOwnPropertyDescriptor,__getOwnPropNames=Object.getOwnPropertyNames,__getProtoOf=Object.getPrototypeOf,__hasOwnProp=Object.prototype.hasOwnProperty,__export=(_,a)=>{for(var $ in a)__defProp(_,$,{get:a[$],enumerable:!0})},__copyProps=(_,a,$,j)=>{if(a&&typeof a=="object"||typeof a=="function")for(let et of __getOwnPropNames(a))!__hasOwnProp.call(_,et)&&et!==$&&__defProp(_,et,{get:()=>a[et],enumerable:!(j=__getOwnPropDesc(a,et))||j.enumerable});return _},__toESM=(_,a,$)=>($=_!=null?__create(__getProtoOf(_)):{},__copyProps(!_||!_.__esModule?__defProp($,"default",{value:_,enumerable:!0}):$,_)),__toCommonJS=_=>__copyProps(__defProp({},"__esModule",{value:!0}),_),src_exports={};__export(src_exports,{default:()=>src_default});var lib$1=__toCommonJS(src_exports),import_players=__toESM(players),import_ReactPlayer=ReactPlayer$1;const fallback=import_players.default[import_players.default.length-1];var src_default=(0,import_ReactPlayer.createReactPlayer)(import_players.default,fallback);const ReactPlayer=getDefaultExportFromCjs$1(lib$1),AttributesAccordionItem=({nft:_,style:a})=>{const $=_.metadata.attributes;return!$||$.length===0?null:jsxRuntimeExports.jsxs(AccordionItem,{background:colors.gray[800],"data-testid":"attributes-section",style:a,children:[jsxRuntimeExports.jsxs(AccordionButton,{paddingY:"16px",children:[jsxRuntimeExports.jsx(Heading,{flex:"1",textAlign:"left",size:"md",children:"Attributes"}),jsxRuntimeExports.jsx(AccordionIcon,{})]}),jsxRuntimeExports.jsx(AccordionPanel,{children:jsxRuntimeExports.jsx(Wrap,{marginLeft:"0",spacing:"10px",children:$.map(j=>jsxRuntimeExports.jsx(WrapItem,{flex:"1","data-testid":"nft-attribute",children:jsxRuntimeExports.jsx(Card,{width:"160px",height:"128px",marginBottom:"2px",background:colors.gray[700],children:jsxRuntimeExports.jsxs(CardBody,{padding:"16px",children:[jsxRuntimeExports.jsx(Text,{color:colors.gray[400],size:"sm",children:j.name}),jsxRuntimeExports.jsx(Heading,{size:"md",children:j.value})]})})},j.name))})})]})},TruncatedTextWithTooltip=({text:_,maxLength:a})=>_.length<=a?jsxRuntimeExports.jsx(Text,{"data-testid":"truncated-text",children:_}):jsxRuntimeExports.jsx(Tooltip,{label:_,children:jsxRuntimeExports.jsx(Text,{"data-testid":"truncated-text",children:truncate(_,a)})}),TzktLink=({url:_,...a})=>jsxRuntimeExports.jsx("a",{"data-testid":"tzkt-link",href:_,rel:"noopener noreferrer",target:"_blank",children:jsxRuntimeExports.jsx(WindowLinkIcon,{...a})}),CreatorElement=({nft:_})=>{if(!_.metadata.creators||_.metadata.creators.length===0)return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:"-"});const a=_.metadata.creators[0];return a.startsWith("tz")?jsxRuntimeExports.jsx(AddressPill,{marginRight:1,address:parsePkh(a)}):jsxRuntimeExports.jsx(TruncatedTextWithTooltip,{maxLength:15,text:a})},PropertiesAccordionItem=({nft:_,style:a})=>{const $=royalties(_),j=$.reduce((tt,rt)=>tt+rt.share,0).toFixed(2),et=useSelectedNetwork();return jsxRuntimeExports.jsxs(AccordionItem,{background:colors.gray[800],style:a,children:[jsxRuntimeExports.jsxs(AccordionButton,{paddingY:"16px",children:[jsxRuntimeExports.jsx(Heading,{flex:"1",textAlign:"left",size:"md",children:"Properties"}),jsxRuntimeExports.jsx(AccordionIcon,{})]}),jsxRuntimeExports.jsx(AccordionPanel,{children:jsxRuntimeExports.jsx(TableContainer,{children:jsxRuntimeExports.jsx(Table,{variant:"stripped",children:jsxRuntimeExports.jsxs(Tbody,{fontSize:"14px",children:[jsxRuntimeExports.jsxs(Tr,{background:colors.gray[900],borderColor:colors.gray[700],borderBottomWidth:"1px",borderRadius:"8px",children:[jsxRuntimeExports.jsx(Td,{width:"20%",padding:"16px 0 16px 15px",paddingRight:"0",color:colors.gray[400],borderTopLeftRadius:"8px","data-testid":"nft-editions",children:"Editions:"}),jsxRuntimeExports.jsx(Td,{width:"30%",padding:"16px 0 16px 5px",borderColor:colors.gray[700],borderRightWidth:"1px","data-testid":"nft-editions-value",children:_.totalSupply||"?"}),jsxRuntimeExports.jsx(Td,{width:"20%",padding:"16px 0 16px 15px",color:colors.gray[400],children:"Token ID:"}),jsxRuntimeExports.jsx(Td,{width:"30%",padding:"16px 0 16px 5px",borderTopRightRadius:"8px",children:_.tokenId})]}),jsxRuntimeExports.jsxs(Tr,{background:colors.gray[800],borderColor:colors.gray[700],borderBottomWidth:"1px",children:[jsxRuntimeExports.jsxs(Td,{padding:"16px 0 16px 15px",color:colors.gray[400],"data-testid":"nft-royalty",children:["Royalties",$.length>1?" ("+$.length+")":"",":"]}),jsxRuntimeExports.jsx(Td,{padding:"16px 0 16px 5px",borderColor:colors.gray[700],borderRightWidth:"1px","data-testid":"nft-royalty-value",children:$.length>0?j+"%":"-"}),jsxRuntimeExports.jsx(Td,{padding:"16px 0 16px 15px",color:colors.gray[400],"data-testid":"nft-mime",children:"MIME type:"}),jsxRuntimeExports.jsx(Td,{width:"30%",padding:"16px 0 16px 5px","data-testid":"nft-mime-value",children:mimeType(_)||"-"})]}),jsxRuntimeExports.jsxs(Tr,{background:colors.gray[900],borderColor:colors.gray[700],borderBottomWidth:"1px",children:[jsxRuntimeExports.jsx(Td,{padding:"16px 0 16px 15px",color:colors.gray[400],children:"Contract:"}),jsxRuntimeExports.jsx(Td,{padding:"16px 0 16px 5px",borderColor:colors.gray[700],borderRightWidth:"1px",children:jsxRuntimeExports.jsx(AddressPill,{marginRight:1,address:parsePkh(_.contract)})}),jsxRuntimeExports.jsx(Td,{padding:"16px 0 16px 15px",color:colors.gray[400],children:"Metadata:"}),jsxRuntimeExports.jsxs(Td,{width:"30%",padding:"16px 0 16px 5px",children:["TzKT ",jsxRuntimeExports.jsx(TzktLink,{url:metadataUri(_,et)})]})]}),jsxRuntimeExports.jsxs(Tr,{background:colors.gray[800],borderColor:colors.gray[700],borderBottomWidth:"1px",children:[jsxRuntimeExports.jsx(Td,{padding:"16px 0 16px 15px",color:colors.gray[400],"data-testid":"nft-creator",children:"Creator:"}),jsxRuntimeExports.jsx(Td,{padding:"16px 0 16px 5px",borderColor:colors.gray[700],borderRightWidth:"1px","data-testid":"nft-creator-value",children:jsxRuntimeExports.jsx(CreatorElement,{nft:_})}),jsxRuntimeExports.jsx(Td,{padding:"16px 0 16px 15px",color:colors.gray[400],children:"License:"}),jsxRuntimeExports.jsx(Td,{width:"30%",padding:"16px 0 16px 5px",children:jsxRuntimeExports.jsx(TruncatedTextWithTooltip,{maxLength:15,text:_.metadata.rights||"-"})})]})]})})})})]})},TagsSection=({nft:_})=>{const a=_.metadata.tags;return!a||a.length===0?null:jsxRuntimeExports.jsx(Wrap,{marginTop:"20px","data-testid":"tags-section",children:a.map($=>jsxRuntimeExports.jsx(WrapItem,{padding:"3px 8px",background:colors.gray[600],borderRadius:"100px",children:jsxRuntimeExports.jsx(Text,{color:colors.gray[400],"data-testid":"nft-tag",children:$})},$))})},SendNFTRecapTile=({nft:_})=>{const a=getIPFSurl(thumbnailUri(_)),$=getIPFSurl(_.displayUri);return jsxRuntimeExports.jsx(Box,{width:"100%","aria-label":"nft",children:jsxRuntimeExports.jsxs(Flex,{alignItems:"center",height:"60px",padding:3,background:colors.gray[800],borderRadius:"4px","data-testid":"nft-name",children:[jsxRuntimeExports.jsx(AspectRatio,{width:"30px",height:"30px",ratio:1,children:jsxRuntimeExports.jsx(Image$1,{fallbackSrc:$,src:a})}),_.metadata.name&&jsxRuntimeExports.jsx(Heading,{marginLeft:4,size:"sm",children:truncate(_.metadata.name,45)})]})})},SignPage$1=_=>{const{mode:a,operations:$,data:{nft:j}}=_,{fee:et,operations:tt,estimationFailed:rt,isLoading:nt,form:it,signer:ot,reEstimate:st,onSign:ct}=useSignPageHelpers($,a),{recipient:ut}=tt.operations[0];return jsxRuntimeExports.jsx(FormProvider,{...it,children:jsxRuntimeExports.jsx(ModalContent,{children:jsxRuntimeExports.jsxs("form",{children:[jsxRuntimeExports.jsx(SignPageHeader,{..._,operationsType:tt.type,signer:tt.signer}),jsxRuntimeExports.jsxs(ModalBody,{children:[jsxRuntimeExports.jsx(Flex,{marginBottom:"12px",children:jsxRuntimeExports.jsx(SendNFTRecapTile,{nft:j})}),jsxRuntimeExports.jsxs(Flex,{alignItems:"center",justifyContent:"space-between",marginY:"12px",paddingX:"4px",children:[jsxRuntimeExports.jsxs(Flex,{alignItems:"center",children:[jsxRuntimeExports.jsx(Heading,{marginRight:"4px",color:colors.gray[450],size:"sm",children:"Owned:"}),jsxRuntimeExports.jsx(Text,{color:colors.gray[400],"data-testid":"nft-owned",size:"sm",children:j.balance})]}),jsxRuntimeExports.jsx(SignPageFee,{fee:et})]}),jsxRuntimeExports.jsxs(Flex,{alignItems:"center",marginTop:"12px",marginBottom:"24px",children:[jsxRuntimeExports.jsx(Heading,{marginRight:"12px",size:"md",children:"Quantity:"}),jsxRuntimeExports.jsx(Center,{width:"100px",height:"48px",background:colors.gray[800],borderRadius:"4px",children:jsxRuntimeExports.jsxs(Text,{textAlign:"center",children:[tt.operations[0].amount," out of ",j.balance]})})]}),jsxRuntimeExports.jsx(FormLabel,{children:"From"}),jsxRuntimeExports.jsx(AddressTile,{marginBottom:"24px",address:tt.sender.address}),jsxRuntimeExports.jsx(FormLabel,{children:"To"}),jsxRuntimeExports.jsx(AddressTile,{address:ut}),jsxRuntimeExports.jsx(OperationSignerSelector,{isLoading:nt,operationType:tt.type,reEstimate:st,sender:tt.sender}),jsxRuntimeExports.jsx(AdvancedSettingsAccordion,{})]}),jsxRuntimeExports.jsx(ModalFooter,{children:jsxRuntimeExports.jsx(SignButton,{isDisabled:rt,isLoading:nt,onSubmit:ct,signer:ot,text:headerText(tt.type,a)})})]})})})},FormPage$1=_=>{const{nft:a}=_,$=useOpenSignPageFormAction({SignPage:SignPage$1,signPageExtraData:{nft:a},FormPage:FormPage$1,defaultFormPageProps:_,toOperation:toOperation$1(a)}),j=useAddToBatchFormAction(toOperation$1(a)),{onFormSubmitActionHandlers:[et,tt],isLoading:rt}=useHandleOnSubmitFormActions([$,j]),nt=useForm({mode:"onBlur",defaultValues:{quantity:1,...formDefaultValues(_)}}),{formState:{isValid:it,errors:ot},register:st,handleSubmit:ct}=nt;return jsxRuntimeExports.jsx(FormProvider,{...nt,children:jsxRuntimeExports.jsx(ModalContent,{children:jsxRuntimeExports.jsxs("form",{children:[jsxRuntimeExports.jsx(FormPageHeader,{}),jsxRuntimeExports.jsxs(ModalBody,{children:[jsxRuntimeExports.jsx(Flex,{marginBottom:"12px",children:jsxRuntimeExports.jsx(SendNFTRecapTile,{nft:_.nft})}),jsxRuntimeExports.jsxs(Flex,{alignItems:"center",children:[jsxRuntimeExports.jsx(Heading,{marginRight:"4px",color:colors.gray[450],size:"sm",children:"Owned:"}),jsxRuntimeExports.jsx(Text,{color:colors.gray[400],"data-testid":"nft-owned",size:"sm",children:a.balance})]}),jsxRuntimeExports.jsxs(FormControl,{marginTop:"24px",isInvalid:!!ot.quantity,children:[jsxRuntimeExports.jsx(FormLabel,{children:jsxRuntimeExports.jsxs(Flex,{alignItems:"center",children:[jsxRuntimeExports.jsx(Heading,{marginRight:"8px",size:"md",children:"Quantity:"}),jsxRuntimeExports.jsxs(Flex,{alignItems:"center",children:[jsxRuntimeExports.jsx(InputGroup,{width:"75px",children:jsxRuntimeExports.jsx(Input,{width:"60px",color:"white","data-testid":"quantity-input",step:1,type:"number",...st("quantity",{required:"Quantity is required",max:{value:a.balance,message:`Max quantity is ${a.balance}`},min:{value:1,message:"Min quantity is 1"}})})}),jsxRuntimeExports.jsxs(Text,{"data-testid":"out-of-nft",children:["out of ",a.balance]})]})]})}),ot.quantity&&jsxRuntimeExports.jsx(FormErrorMessage,{"data-testid":"quantity-error",children:ot.quantity.message})]}),jsxRuntimeExports.jsxs(FormControl,{marginTop:"24px",isInvalid:!!ot.sender,children:[jsxRuntimeExports.jsx(OwnedAccountsAutocomplete,{allowUnknown:!1,inputName:"sender",isDisabled:!0,label:"From"}),ot.sender&&jsxRuntimeExports.jsx(FormErrorMessage,{"data-testid":"from-error",children:ot.sender.message})]}),jsxRuntimeExports.jsxs(FormControl,{marginTop:"24px",isInvalid:!!ot.recipient,children:[jsxRuntimeExports.jsx(KnownAccountsAutocomplete,{allowUnknown:!0,inputName:"recipient",label:"To"}),ot.recipient&&jsxRuntimeExports.jsx(FormErrorMessage,{"data-testid":"recipient-error",children:ot.recipient.message})]})]}),jsxRuntimeExports.jsx(ModalFooter,{children:jsxRuntimeExports.jsx(FormSubmitButtons,{isLoading:rt,isValid:it,onAddToBatch:ct(tt),onSingleSubmit:ct(et)})})]})})})},toOperation$1=_=>a=>({type:"fa2",sender:parsePkh(a.sender),recipient:parsePkh(a.recipient),contract:parseContractPkh(_.contract),tokenId:_.tokenId,amount:a.quantity.toString()}),NFTDrawerCard=({nft:_})=>{var it;const a=getIPFSurl(artifactUri(_)),$=getIPFSurl(_.displayUri),j=useGetOwnedAccount(),{openWith:et}=reactExports.useContext(DynamicModalContext),tt=(it=mimeType(_))==null?void 0:it.startsWith("video/"),rt=tokenName(_),nt={border:"none",borderRadius:"8px",marginBottom:"20px"};return jsxRuntimeExports.jsxs(Box,{children:[jsxRuntimeExports.jsx(Card,{width:"534px",height:"534px",background:colors.gray[800],children:jsxRuntimeExports.jsxs(CardBody,{padding:"24px",children:[jsxRuntimeExports.jsx(Box,{position:"relative",width:"486px",height:"486px",children:tt?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Box,{position:"absolute",zIndex:1,width:"486px",height:"486px",children:jsxRuntimeExports.jsx(ReactPlayer,{width:"100%",height:"100%",loop:!0,playing:!0,url:a})}),jsxRuntimeExports.jsx(Image$1,{position:"absolute",zIndex:0,top:"0",width:"486px",height:"486px",objectFit:"contain",alt:rt,filter:"blur(20px)",src:$})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Image$1,{position:"absolute",zIndex:1,width:"486px",height:"486px",objectFit:"contain",alt:rt,fallbackSrc:$,src:a}),jsxRuntimeExports.jsx(Image$1,{position:"absolute",zIndex:0,top:"0",width:"486px",height:"486px",objectFit:"contain",alt:rt,"data-testid":"nft-image",fallbackSrc:$,filter:"blur(20px)",src:a})]})}),Number(_.balance)>1&&jsxRuntimeExports.jsx(Text,{position:"absolute",zIndex:3,display:"inline",height:"24px",marginTop:"-38px",marginLeft:"16px",borderRadius:"100px",backgroundColor:"rgba(33, 33, 33, 0.75)","data-testid":"nft-owned-count",paddingX:"8px",children:"x"+_.balance})]})}),jsxRuntimeExports.jsx(TagsSection,{nft:_}),rt&&jsxRuntimeExports.jsx(Heading,{marginTop:"16px",marginBottom:"14px","data-testid":"nft-name",size:"lg",children:rt}),_.metadata.description&&jsxRuntimeExports.jsx(Text,{color:colors.gray[400],"data-testid":"nft-description",size:"sm",children:_.metadata.description}),jsxRuntimeExports.jsx(Button,{marginTop:"20px",onClick:()=>et(jsxRuntimeExports.jsx(FormPage$1,{nft:_,sender:j(_.owner)})),children:"Send"}),jsxRuntimeExports.jsxs(Accordion,{marginTop:"32px",allowMultiple:!0,children:[jsxRuntimeExports.jsx(AttributesAccordionItem,{nft:_,style:nt}),jsxRuntimeExports.jsx(PropertiesAccordionItem,{nft:_,style:nt}),jsxRuntimeExports.jsxs(AccordionItem,{background:colors.gray[800],style:nt,children:[jsxRuntimeExports.jsxs(AccordionButton,{paddingY:"16px",children:[jsxRuntimeExports.jsx(Heading,{flex:"1",textAlign:"left",size:"md",children:"JSON"}),jsxRuntimeExports.jsx(AccordionIcon,{})]}),jsxRuntimeExports.jsx(AccordionPanel,{children:jsxRuntimeExports.jsx(JsValueWrap,{value:_})})]})]})]})},NFTDrawerBody=({nft:_,onCloseDrawer:a})=>jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs(Flex,{alignItems:"center",justifyContent:"space-between",paddingBottom:"22px",color:colors.gray[400],"data-testid":"nft-drawer-body",children:[jsxRuntimeExports.jsx(AddressPill,{address:parsePkh(_.owner)}),jsxRuntimeExports.jsx(CloseDrawerButton,{onClose:a})]}),jsxRuntimeExports.jsx(NFTDrawerCard,{nft:_})]}),AccountListWithDrawer=()=>{const[_,a]=reactExports.useState(null),{ownerPkh:$,nftId:j}=useParams(),et=useAllNfts(),tt=$&&lodashExports.get(et,[$],[]).find(ht=>fullId(ht)===j),rt=!!tt,{isOpen:nt,onOpen:it,onClose:ot}=useDisclosure$1({defaultIsOpen:rt}),st=useNavigate(),ct=reactExports.useCallback(()=>{a(null),ot(),st("/home")},[ot,st]);reactExports.useEffect(()=>{const ht=Et=>{Et.key==="Escape"&&ct()};return document.addEventListener("keydown",ht),()=>document.removeEventListener("keydown",ht)},[ct]);const ut=reactExports.useMemo(()=>({selectedAccount:_,selectAccount:ht=>{a(ht),it()}}),[_,it]);return jsxRuntimeExports.jsxs(SelectedAccountContext.Provider,{value:ut,children:[jsxRuntimeExports.jsx(AccountsList,{}),jsxRuntimeExports.jsxs(Drawer,{autoFocus:!1,blockScrollOnMount:!1,isOpen:nt,onClose:ct,placement:"right",children:[jsxRuntimeExports.jsx(ModalOverlay,{}),jsxRuntimeExports.jsxs(DrawerContent,{children:[rt&&jsxRuntimeExports.jsx(ModalBody,{children:jsxRuntimeExports.jsx(NFTDrawerBody,{nft:{...tt,owner:$},onCloseDrawer:ct})}),!rt&&_&&jsxRuntimeExports.jsxs(ModalBody,{overflow:"hidden",overflowY:"scroll",paddingRight:"0",children:[jsxRuntimeExports.jsxs(Flex,{justifyContent:"flex-end",width:"100%",paddingRight:"24px",children:[jsxRuntimeExports.jsx(DerivationInfoButton,{marginRight:"5px",account:_}),jsxRuntimeExports.jsx(CloseDrawerButton,{onClose:ct})]}),jsxRuntimeExports.jsx(AccountCard,{accountPkh:_.address.pkh})]})]})]})]})},HomeView=()=>jsxRuntimeExports.jsxs(Flex,{flexDirection:"column",height:"100%",children:[jsxRuntimeExports.jsx(TopBar,{title:"Accounts"}),jsxRuntimeExports.jsx(Flex,{flex:1,minHeight:1,children:jsxRuntimeExports.jsxs(Flex,{flexDirection:"column",flex:1,marginRight:"12px",paddingBottom:"12px",children:[jsxRuntimeExports.jsx(AccountListHeader,{}),jsxRuntimeExports.jsx(Box,{flex:1,overflow:"hidden",borderRadius:"8px",children:jsxRuntimeExports.jsx(AccountListWithDrawer,{})})]})})]}),SelectedNFTContext=reactExports.createContext({selectedNFT:void 0,setSelectedNFT:_=>{}}),NFTCard=({nft:_})=>{const{selectedNFT:a,setSelectedNFT:$}=reactExports.useContext(SelectedNFTContext),j=getIPFSurl(thumbnailUri(_)),et=getIPFSurl(_.displayUri),tt=_.metadata.name,rt={width:"100%",minWidth:"242px",minHeight:"242px",objectFit:"contain",aspectRatio:"1",fallbackSrc:et,src:j},nt=a&&fullId(a)===fullId(_)&&a.owner===_.owner;return jsxRuntimeExports.jsx(Card,{minWidth:"274px",borderRadius:"8px",cursor:"pointer","data-testid":`nft-card${nt?"-selected":""}`,onClick:()=>$(_),children:jsxRuntimeExports.jsxs(CardBody,{padding:"16px",background:colors.gray[900],border:"1px solid",borderColor:nt?colors.orangeL:"transparent",borderRadius:"8px",_hover:{background:colors.gray[700],borderColor:colors.gray[500]},children:[jsxRuntimeExports.jsx(Center,{children:jsxRuntimeExports.jsxs(Box,{position:"relative",width:"100%",children:[jsxRuntimeExports.jsx(Image$1,{...rt,zIndex:2,opacity:"0"}),jsxRuntimeExports.jsx(Image$1,{...rt,position:"absolute",zIndex:0,top:"0",filter:"blur(20px)"}),jsxRuntimeExports.jsx(Image$1,{...rt,position:"absolute",zIndex:1,top:"0","data-testid":"nft-image"})]})}),Number(_.balance)>1&&jsxRuntimeExports.jsx(Text,{position:"absolute",zIndex:3,display:"inline",height:"24px",marginTop:"-36px",marginLeft:"10px",paddingTop:"1px",fontSize:"14px",borderRadius:"full",backgroundColor:"rgba(33, 33, 33, 0.75)","data-testid":"nft-owned-count",paddingX:"8px",children:"x"+_.balance}),jsxRuntimeExports.jsx(Box,{overflow:"hidden","data-testid":"nft-card-name",children:jsxRuntimeExports.jsx(Heading,{overflow:"hidden",marginTop:"15px",marginBottom:"8px",fontSize:"sm",whiteSpace:"nowrap",textOverflow:"ellipsis",children:tt})}),jsxRuntimeExports.jsx(AddressPill,{address:parsePkh(_.owner)})]})})},NFTGallery=({nftsByOwner:_})=>{const a=Object.entries(_).flatMap(([j,et])=>(et||[]).map(tt=>({owner:j,...tt})));let $="repeat(auto-fit, minmax(min(100%/2, max(274px, 100%/7)), 1fr))";return a.length<3&&($=`repeat(auto-fit, min(100% / ${a.length} - 16px, 450px))`),jsxRuntimeExports.jsx(SimpleGrid,{gridTemplateColumns:$,marginBottom:"16px",minChildWidth:"340px",spacing:"16px",children:sortedByLastUpdate(a).map(j=>jsxRuntimeExports.jsx(NFTCard,{nft:j},`${j.owner}:${fullId(j)}`))})},AccountListDisplay=({accounts:_,onSelect:a})=>jsxRuntimeExports.jsx(MenuList,{zIndex:"docked",overflowY:"scroll",maxHeight:"300px",padding:0,background:colors.gray[900],children:_.map($=>jsxRuntimeExports.jsx(MenuItem$1,{width:"100%",minHeight:"48px",padding:"5px",background:colors.gray[700],"aria-label":$.label,onClick:()=>{a($)},value:$.address.pkh,children:jsxRuntimeExports.jsx(AddressTile,{width:"370px",height:"40px",padding:"5px",background:colors.gray[700],borderRadius:"4px",_hover:{background:colors.gray[500]},cursor:"pointer",address:$.address})},$.address.pkh))}),useAccountsFilter=()=>{const _=useAllAccounts(),[a]=reactExports.useState(_),[$,j]=useSearchParams(),et=$.getAll("accounts"),[tt,rt]=reactExports.useState(et.length===0),[nt,it]=reactExports.useState(_.filter(ct=>et.includes(ct.address.pkh))),ot=lodashExports.differenceBy(_,nt,ct=>ct.address.pkh),st=nt.length===_.length;return reactExports.useEffect(()=>{j(ct=>({...ct,accounts:nt.map(ut=>ut.address.pkh)}))},[nt,j]),{selectedAccounts:tt?a:nt,accountsFilter:jsxRuntimeExports.jsxs(Center,{children:[jsxRuntimeExports.jsx(Box,{alignSelf:"flex-start",children:jsxRuntimeExports.jsxs(Menu,{children:[jsxRuntimeExports.jsx(MenuButton,{as:Button,maxHeight:"26px",paddingLeft:0,fontWeight:"normal",_hover:{bg:"none"},_active:{bg:"none"},"data-testid":"account-filter",isDisabled:st,marginY:"16px",rightIcon:jsxRuntimeExports.jsx(ChevronDownIcon,{}),variant:"ghost",children:"Filter by Account"}),jsxRuntimeExports.jsx(AccountListDisplay,{accounts:ot,onSelect:ct=>{rt(!1),it(ut=>[...ut,ct])}})]})}),jsxRuntimeExports.jsx(Wrap,{width:"100%",children:nt.map(ct=>jsxRuntimeExports.jsx(AddressPill,{address:ct.address,"data-testid":"account-pill",mode:{type:"removable",onRemove:()=>{rt(nt.length===1),it(ut=>ut.filter(ht=>ht.address.pkh!==ct.address.pkh))}}},ct.address.pkh))})]})}},NFTsView=()=>{const _=useAllNfts(),{accountsFilter:a,selectedAccounts:$}=useAccountsFilter(),[j,et]=reactExports.useState(void 0);reactExports.useEffect(()=>{const it=ot=>{ot.key==="Escape"&&et(void 0)};return document.addEventListener("keydown",it),()=>document.removeEventListener("keydown",it)},[]);const tt=lodashExports.pick(_,$.map(it=>it.address.pkh)),rt=lodashExports.sumBy(Object.values(tt).flat(),it=>Number((it==null?void 0:it.balance)||0)),nt=lodashExports.every(tt,it=>!it||it.length===0);return jsxRuntimeExports.jsxs(Flex,{flexDirection:"column",height:"100%",children:[jsxRuntimeExports.jsx(TopBar,{subtitle:`(${rt})`,title:"NFTs"}),a,nt?jsxRuntimeExports.jsx(NoNFTs,{size:"lg"}):jsxRuntimeExports.jsxs(SelectedNFTContext.Provider,{value:{setSelectedNFT:et,selectedNFT:j},children:[jsxRuntimeExports.jsx(Box,{overflowY:"scroll",children:jsxRuntimeExports.jsx(NFTGallery,{nftsByOwner:tt})}),jsxRuntimeExports.jsxs(Drawer,{autoFocus:!1,blockScrollOnMount:!1,isOpen:!!j,onClose:()=>et(void 0),placement:"right",children:[jsxRuntimeExports.jsx(ModalOverlay,{}),jsxRuntimeExports.jsx(DrawerContent,{children:jsxRuntimeExports.jsx(ModalBody,{children:j&&jsxRuntimeExports.jsx(NFTDrawerBody,{nft:j,onCloseDrawer:()=>et(void 0)})})})]})]})]})},OperationsView=()=>{const{accountsFilter:_,selectedAccounts:a}=useAccountsFilter(),{operations:$,loadMore:j,hasMore:et,isLoading:tt,isFirstLoad:rt}=useGetOperations(a),nt=reactExports.useRef(!1),it=ot=>{if(nt.current||!et||tt)return;const st=ot.target;if(st.scrollHeight-st.scrollTop-st.clientHeight<100)return nt.current=!0,j().finally(()=>{nt.current=!1})};return jsxRuntimeExports.jsxs(Flex,{flexDirection:"column",height:"100%",children:[jsxRuntimeExports.jsx(TopBar,{title:"Operations"}),_,jsxRuntimeExports.jsx(Center,{display:tt&&rt?"flex":"none",height:"100%",children:jsxRuntimeExports.jsx(Image$1,{width:"150px",height:"75px",marginBottom:"136px",src:"./static/media/loading-wheel.gif"})}),$.length===0&&!tt&&jsxRuntimeExports.jsx(NoOperations,{size:"lg"}),$.length>0&&jsxRuntimeExports.jsxs(Box,{overflowY:"scroll",marginBottom:"20px",background:colors.gray[900],borderRadius:"8px",onScroll:it,paddingX:"20px",children:[jsxRuntimeExports.jsx(OperationTileContext.Provider,{value:{mode:"page"},children:$.map((ot,st)=>{const ct=st===$.length-1;return jsxRuntimeExports.jsxs(Box,{height:"90px",marginBottom:ct?"10px":0,paddingY:"20px",children:[jsxRuntimeExports.jsx(OperationTile,{operation:ot}),!ct&&jsxRuntimeExports.jsx(Box,{children:jsxRuntimeExports.jsx(Divider,{marginTop:"20px"})})]},ot.id)})}),jsxRuntimeExports.jsxs(Center,{flexDirection:"column",display:tt&&!rt?"flex":"none",children:[jsxRuntimeExports.jsx(Divider,{}),jsxRuntimeExports.jsx(Image$1,{width:"100px",height:"50px",src:"./static/media/loading-dots.gif"})]})]})]})},DrawerTopButtons=({onClose:_,...a})=>jsxRuntimeExports.jsx(Flex,{justifyContent:"flex-end",paddingBottom:"30px",cursor:"pointer",...a,children:jsxRuntimeExports.jsx(CloseDrawerButton,{onClose:_})}),BeaconPeers=()=>{const _=usePeers(),[a,$]=reactExports.useState([]);return reactExports.useEffect(()=>{const j=_.map(async et=>({...et,senderId:et.senderId||await getSenderId(et.publicKey)}));Promise.all(j).then($).catch(lodashExports.noop)},[_]),a.length===0?jsxRuntimeExports.jsxs(Box,{"data-testid":"beacon-peers-empty",children:[jsxRuntimeExports.jsx(Divider,{}),jsxRuntimeExports.jsx(Text,{marginTop:"31px",color:colors.gray[400],size:"lg",children:"Your dApps will appear here"})]}):jsxRuntimeExports.jsx(PeersDisplay,{"data-testid":"beacon-peers",peerInfos:a})},PeersDisplay=({peerInfos:_})=>jsxRuntimeExports.jsx(Box,{children:_.map(a=>jsxRuntimeExports.jsxs(reactExports.Fragment,{children:[jsxRuntimeExports.jsx(Divider,{}),jsxRuntimeExports.jsx(PeerRow,{peerInfo:a})]},a.senderId))}),PeerRow=({peerInfo:_})=>{const a=useRemovePeer();return jsxRuntimeExports.jsxs(Flex,{justifyContent:"space-between",height:"106px","data-testid":"peer-row",paddingY:"30px",children:[jsxRuntimeExports.jsxs(Flex,{children:[jsxRuntimeExports.jsx(AspectRatio,{width:"48px",marginRight:"16px",ratio:1,children:jsxRuntimeExports.jsx(Image$1,{width:"100%",src:_.icon})}),jsxRuntimeExports.jsxs(Center,{alignItems:"flex-start",flexDirection:"column",children:[jsxRuntimeExports.jsx(Heading,{marginBottom:"6px",size:"md",children:_.name}),jsxRuntimeExports.jsx(StoredPeerInfo,{peerInfo:_})]})]}),jsxRuntimeExports.jsx(Center,{children:jsxRuntimeExports.jsx(IconButton,{"aria-label":"Remove Peer",icon:jsxRuntimeExports.jsx(TrashIcon,{}),onClick:()=>a(_),size:"xs",variant:"circle"})})]})},StoredPeerInfo=({peerInfo:_})=>{const a=useGetConnectionInfo(_.senderId);return a?jsxRuntimeExports.jsxs(Flex,{children:[jsxRuntimeExports.jsx(AddressPill,{marginRight:"10px",address:parsePkh(a.accountPkh)}),jsxRuntimeExports.jsx(Divider,{marginRight:"10px",orientation:"vertical"}),jsxRuntimeExports.jsx(Text,{marginTop:"2px",marginRight:"4px",color:colors.gray[450],fontWeight:650,size:"sm",children:"Network:"}),jsxRuntimeExports.jsx(Text,{marginTop:"2px",color:colors.white,"data-testid":"dapp-connection-network",size:"sm",children:lodashExports.capitalize(a.networkType)})]}):null},DAppsDrawerCard=()=>{const{isOpen:_,onClose:a,onOpen:$}=useDisclosure$1(),j=useAddPeer();return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(SettingsCardWithDrawerIcon,{left:"dApps",isSelected:_,onClick:$}),jsxRuntimeExports.jsxs(Drawer,{autoFocus:!1,blockScrollOnMount:!1,isOpen:_,onClose:a,placement:"right",children:[jsxRuntimeExports.jsx(ModalOverlay,{}),jsxRuntimeExports.jsx(DrawerContent,{children:jsxRuntimeExports.jsxs(ModalBody,{"data-testid":"drawer-body",children:[jsxRuntimeExports.jsx(DrawerTopButtons,{onClose:a}),jsxRuntimeExports.jsxs(Box,{children:[jsxRuntimeExports.jsx(Flex,{alignItems:"center",justifyContent:"space-between",height:"96px",children:jsxRuntimeExports.jsx(Heading,{children:"dApps"})}),jsxRuntimeExports.jsx(Button,{onClick:()=>navigator.clipboard.readText().then(et=>j(et)),children:"Connect with Pairing Request"}),jsxRuntimeExports.jsx(Text,{marginTop:"16px",marginBottom:"32px",color:colors.gray[400],children:"or open a deeplink from inside the dApp..."}),jsxRuntimeExports.jsx(BeaconPeers,{})]})]})})]})]})},ErrorLogsDrawerCard=()=>{const{isOpen:_,onClose:a,onOpen:$}=useDisclosure$1();return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(SettingsCardWithDrawerIcon,{left:"Error Logs",isSelected:_,onClick:$}),jsxRuntimeExports.jsxs(Drawer,{blockScrollOnMount:!1,isOpen:_,onClose:a,placement:"right",children:[jsxRuntimeExports.jsx(ModalOverlay,{}),jsxRuntimeExports.jsx(DrawerContent,{children:jsxRuntimeExports.jsxs(ModalBody,{children:[jsxRuntimeExports.jsx(DrawerTopButtons,{onClose:a}),jsxRuntimeExports.jsx(ErrorLogsDrawerBody,{})]})})]})]})},ErrorLogsDrawerBody=()=>{const _=[...useAppSelector(j=>j.errors)].reverse(),a=useDispatch(),$=()=>{a(errorsSlice.actions.reset())};return jsxRuntimeExports.jsxs(Flex,{flexDirection:"column",height:"100%",children:[jsxRuntimeExports.jsxs(Flex,{alignItems:"center",justifyContent:"space-between",height:"50px",marginBottom:"20px",children:[jsxRuntimeExports.jsx(Heading,{size:"xl",children:"Error Logs"}),jsxRuntimeExports.jsxs(Box,{children:[jsxRuntimeExports.jsx("a",{download:"UmamiErrorLogs.json",href:`data:application/json;charset=utf-8,${encodeURIComponent(JSON.stringify(_))}`,children:jsxRuntimeExports.jsx(Button,{variant:"tertiary",children:"Download error logs"})}),jsxRuntimeExports.jsx(Button,{marginLeft:"8px",onClick:$,variant:"warning",children:"Clear All"})]})]}),_.map(j=>jsxRuntimeExports.jsx(ErrorLogRow,{errorLog:j},nanoid()))]})},ErrorLogRow=({errorLog:_})=>jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Divider,{marginY:1}),jsxRuntimeExports.jsx(Flex,{justifyContent:"space-between",paddingY:"12px",children:jsxRuntimeExports.jsxs(Flex,{children:[jsxRuntimeExports.jsx(OutlineExclamationCircleIcon,{marginTop:"1px",marginRight:"8px"}),jsxRuntimeExports.jsxs(Flex,{flexDirection:"column",children:[jsxRuntimeExports.jsx(Heading,{wordBreak:"break-all",size:"sm",children:_.description}),jsxRuntimeExports.jsx(Text,{color:colors.gray[400],size:"sm",children:_.timestamp})]})]})})]}),removeTrailingSlashes=_=>_.replace(/\/+$/g,""),UpsertNetworkModal=({network:_})=>{const a=_?"edit":"create",{onClose:$}=reactExports.useContext(DynamicModalContext),j=useDispatch(),et=useAvailableNetworks(),{formState:{errors:tt,isValid:rt},register:nt,handleSubmit:it}=useForm({mode:"onBlur",defaultValues:_}),ot=st=>{j(networksActions.upsertNetwork(st)),$()};return jsxRuntimeExports.jsx(ModalContent,{children:jsxRuntimeExports.jsxs("form",{onSubmit:it(ot),children:[jsxRuntimeExports.jsxs(ModalHeader,{textAlign:"center",children:[a==="edit"?"Edit":"Add"," Network",jsxRuntimeExports.jsx(ModalCloseButton,{})]}),jsxRuntimeExports.jsxs(ModalBody,{children:[a==="create"&&jsxRuntimeExports.jsxs(FormControl,{marginTop:"32px",marginBottom:"24px",isInvalid:!!tt.name,children:[jsxRuntimeExports.jsx(FormLabel,{children:"Name"}),jsxRuntimeExports.jsx(Input,{placeholder:"mainnet",...nt("name",{required:"Name is required",validate:st=>{if(et.find(ct=>ct.name===st))return"Network with this name already exists"}})}),tt.name&&jsxRuntimeExports.jsx(FormErrorMessage,{children:tt.name.message})]}),jsxRuntimeExports.jsxs(FormControl,{marginBottom:"24px",isInvalid:!!tt.rpcUrl,children:[jsxRuntimeExports.jsx(FormLabel,{children:"RPC URL"}),jsxRuntimeExports.jsx(Input,{placeholder:"https://prod.tcinfra.net/rpc/mainnet",...nt("rpcUrl",{required:"RPC URL is required",setValueAs:removeTrailingSlashes})}),tt.rpcUrl&&jsxRuntimeExports.jsx(FormErrorMessage,{children:tt.rpcUrl.message})]}),jsxRuntimeExports.jsxs(FormControl,{marginBottom:"24px",isInvalid:!!tt.tzktApiUrl,children:[jsxRuntimeExports.jsx(FormLabel,{children:"Tzkt API URL"}),jsxRuntimeExports.jsx(Input,{placeholder:"https://api.ghostnet.tzkt.io",...nt("tzktApiUrl",{required:"Tzkt API URL is required",setValueAs:removeTrailingSlashes})}),tt.tzktApiUrl&&jsxRuntimeExports.jsx(FormErrorMessage,{children:tt.tzktApiUrl.message})]}),jsxRuntimeExports.jsxs(FormControl,{marginBottom:"24px",isInvalid:!!tt.tzktExplorerUrl,children:[jsxRuntimeExports.jsx(FormLabel,{children:"Tzkt Explorer URL"}),jsxRuntimeExports.jsx(Input,{placeholder:"https://ghostnet.tzkt.io",...nt("tzktExplorerUrl",{required:"Tzkt Explorer URL is required",setValueAs:removeTrailingSlashes})}),tt.tzktExplorerUrl&&jsxRuntimeExports.jsx(FormErrorMessage,{children:tt.tzktExplorerUrl.message})]}),jsxRuntimeExports.jsxs(FormControl,{children:[jsxRuntimeExports.jsx(FormLabel,{children:"Buy Tez URL"}),jsxRuntimeExports.jsx(Input,{placeholder:"https://faucet.ghostnet.teztnets.com",...nt("buyTezUrl")})]}),jsxRuntimeExports.jsx(ModalFooter,{children:jsxRuntimeExports.jsx(Button,{width:"100%",isDisabled:!rt,onClick:()=>{},type:"submit",children:a==="edit"?"Save changes":"Add network"})})]})]})})},NetworkSettingsDrawerBody=()=>{const{openWith:_}=reactExports.useContext(DynamicModalContext),a=useSelectedNetwork(),$=useSelectNetwork(),j=useAvailableNetworks(),et=useAppDispatch(),tt=rt=>{et(networksActions.removeNetwork(rt))};return jsxRuntimeExports.jsxs(Flex,{flexDirection:"column",children:[jsxRuntimeExports.jsxs(Center,{justifyContent:"space-between",children:[jsxRuntimeExports.jsx(Heading,{children:"Network Settings"}),jsxRuntimeExports.jsxs(Button,{paddingRight:"0",onClick:()=>_(jsxRuntimeExports.jsx(UpsertNetworkModal,{})),variant:"CTAWithIcon",children:[jsxRuntimeExports.jsx(Text,{size:"sm",children:"Add Network"}),jsxRuntimeExports.jsx(PlusIcon,{width:"18px",height:"18px",marginLeft:"4px",stroke:"currentcolor"})]})]}),jsxRuntimeExports.jsx(RadioGroup,{marginTop:"60px",onChange:$,value:a.name,children:jsxRuntimeExports.jsx(Stack,{children:j.map(rt=>jsxRuntimeExports.jsxs(reactExports.Fragment,{children:[jsxRuntimeExports.jsx(Divider,{borderColor:colors.gray[700]}),jsxRuntimeExports.jsxs(Flex,{justifyContent:"space-between","data-testid":`network-${rt.name}`,children:[jsxRuntimeExports.jsx(Radio,{height:"100px",value:rt.name,variant:"primary",children:jsxRuntimeExports.jsxs(Flex,{flexDirection:"column",marginLeft:"16px",children:[jsxRuntimeExports.jsx(Heading,{marginBottom:"4px",size:"sm",children:rt.name}),jsxRuntimeExports.jsx(Text,{color:colors.gray[400],children:rt.rpcUrl})]})}),!isDefault(rt)&&jsxRuntimeExports.jsx(Center,{"data-testid":"popover-menu",children:jsxRuntimeExports.jsxs(PopoverMenu,{children:[jsxRuntimeExports.jsxs(Button,{onClick:()=>_(jsxRuntimeExports.jsx(UpsertNetworkModal,{network:rt})),variant:"popover",children:[jsxRuntimeExports.jsx(Text,{marginRight:"4px",children:"Edit"}),jsxRuntimeExports.jsx(PenIcon,{stroke:"inherit"})]}),jsxRuntimeExports.jsx(Divider,{marginTop:"4px"}),jsxRuntimeExports.jsxs(Button,{onClick:()=>tt(rt),variant:"popover",children:[jsxRuntimeExports.jsx(Text,{marginRight:"4px",children:"Remove"}),jsxRuntimeExports.jsx(TrashIcon,{stroke:"inherit"})]})]})})]})]},rt.name))})})]})},NetworkSettingsDrawerCard=()=>{const{isOpen:_,onClose:a,onOpen:$}=useDisclosure$1();return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(SettingsCardWithDrawerIcon,{left:"Network Settings",isSelected:_,onClick:$}),jsxRuntimeExports.jsxs(Drawer,{blockScrollOnMount:!1,isOpen:_,onClose:a,placement:"right",children:[jsxRuntimeExports.jsx(ModalOverlay,{}),jsxRuntimeExports.jsx(DrawerContent,{children:jsxRuntimeExports.jsxs(ModalBody,{children:[jsxRuntimeExports.jsx(DrawerTopButtons,{onClose:a}),jsxRuntimeExports.jsx(NetworkSettingsDrawerBody,{})]})})]})]})},ChangePasswordForm=()=>{const{onClose:_}=reactExports.useContext(DynamicModalContext),a=useForm({mode:"onBlur"}),$=useToast(),j=useAppDispatch(),{handleAsyncAction:et,isLoading:tt}=useAsyncActionHandler(),{handleSubmit:rt,formState:{isValid:nt,errors:it},getValues:ot}=a,st=async({currentPassword:ct,newPassword:ut,newPasswordConfirmation:ht})=>{if(!(ct===ut||ut!==ht))return et(async()=>{await j(changeMnemonicPassword({currentPassword:ct,newPassword:ut})).unwrap(),$({description:"Password updated",status:"success"}),_()})};return jsxRuntimeExports.jsx(FormProvider,{...a,children:jsxRuntimeExports.jsx(ModalContent,{background:colors.gray[700],"data-testid":"change-password-modal",children:jsxRuntimeExports.jsxs("form",{onSubmit:rt(st),children:[jsxRuntimeExports.jsx(ModalCloseButton,{}),jsxRuntimeExports.jsx(ModalHeader,{textAlign:"center",children:jsxRuntimeExports.jsx(Heading,{children:"Change Password"})}),jsxRuntimeExports.jsxs(ModalBody,{children:[jsxRuntimeExports.jsxs(FormControl,{marginTop:"32px",isInvalid:!!it.currentPassword,children:[jsxRuntimeExports.jsx(PasswordInput,{"data-testid":"current-password",inputName:"currentPassword",label:"Current Password",placeholder:"Enter your current password",required:"Current password is required"}),it.currentPassword&&jsxRuntimeExports.jsx(FormErrorMessage,{"data-testid":"current-password-error",children:it.currentPassword.message})]}),jsxRuntimeExports.jsxs(FormControl,{isInvalid:!!it.newPassword,marginY:6,children:[jsxRuntimeExports.jsx(PasswordInput,{"data-testid":"new-password",inputName:"newPassword",label:"New Password",placeholder:"Enter new password",required:"New password is required",validate:ct=>ot("currentPassword")!==ct||"Cannot be the same as old password"}),it.newPassword&&jsxRuntimeExports.jsx(FormErrorMessage,{"data-testid":"new-password-error",children:it.newPassword.message})]}),jsxRuntimeExports.jsxs(FormControl,{marginTop:3,isInvalid:!!it.newPasswordConfirmation,children:[jsxRuntimeExports.jsx(PasswordInput,{"data-testid":"new-password-confirmation",inputName:"newPasswordConfirmation",label:"Confirm New Password",placeholder:"Confirm new password",required:"Confirmation is required",validate:ct=>ot("newPassword")===ct||"Your new passwords do no match"}),it.newPasswordConfirmation&&jsxRuntimeExports.jsx(FormErrorMessage,{"data-testid":"new-password-confirmation-error",children:it.newPasswordConfirmation.message})]})]}),jsxRuntimeExports.jsx(ModalFooter,{children:jsxRuntimeExports.jsx(Button,{width:"100%",isDisabled:!nt,isLoading:tt,size:"lg",type:"submit",children:"Update Password"})})]})})})},SettingsView=()=>jsxRuntimeExports.jsxs(Flex,{flexDirection:"column",height:"100%",children:[jsxRuntimeExports.jsx(TopBar,{title:"Settings"}),jsxRuntimeExports.jsxs(Box,{overflowY:"scroll",children:[jsxRuntimeExports.jsx(Box,{marginTop:"16px",children:jsxRuntimeExports.jsx(GeneralSection,{})}),jsxRuntimeExports.jsx(BackupSection,{}),jsxRuntimeExports.jsx(AdvancedSection,{})]})]}),GeneralSection=()=>jsxRuntimeExports.jsxs(SectionContainer,{title:"General",children:[jsxRuntimeExports.jsx(NetworkSettingsDrawerCard,{}),jsxRuntimeExports.jsx(ErrorLogsDrawerCard,{})]}),BackupSection=()=>jsxRuntimeExports.jsx(SectionContainer,{title:"Backup",children:jsxRuntimeExports.jsx(ClickableCard,{isSelected:!1,onClick:downloadBackupFile,children:jsxRuntimeExports.jsxs(Flex,{alignItems:"center",justifyContent:"space-between",children:[jsxRuntimeExports.jsx(Heading,{size:"sm",children:"Download backup file"}),jsxRuntimeExports.jsx(Button,{onClick:downloadBackupFile,variant:"unstyled",children:jsxRuntimeExports.jsx(DownloadIcon,{cursor:"pointer"})})]})})}),AdvancedSection=()=>{const{modalElement:_,onOpen:a}=useOffboardingModal(),{openWith:$}=reactExports.useContext(DynamicModalContext);return jsxRuntimeExports.jsxs(SectionContainer,{title:"Advanced Settings",children:[jsxRuntimeExports.jsx(DAppsDrawerCard,{}),jsxRuntimeExports.jsx(SettingsCardWithDrawerIcon,{left:"Off-board Wallet",isSelected:!1,onClick:a}),jsxRuntimeExports.jsx(SettingsCardWithDrawerIcon,{left:"Change Password",isSelected:!1,onClick:()=>$(jsxRuntimeExports.jsx(ChangePasswordForm,{}))}),_]})},SectionContainer=({title:_,children:a})=>jsxRuntimeExports.jsx(Box,{marginTop:"8px",children:jsxRuntimeExports.jsx(Flex,{children:jsxRuntimeExports.jsxs(Box,{width:"550px",children:[jsxRuntimeExports.jsx(Heading,{marginBottom:"16px",size:"lg",children:_}),a]})})}),TokenTile=({token:_,amount:a,...$})=>{const{contract:j}=_,et=tokenPrettyAmount(a,_),tt=tokenSymbolSafe(_);return jsxRuntimeExports.jsxs(Flex,{alignItems:"center",justifyContent:"start",width:"400px",padding:"15px",background:colors.gray[800],borderRadius:"4px","data-testid":"token-tile",...$,children:[jsxRuntimeExports.jsx(Flex,{alignItems:"center",children:jsxRuntimeExports.jsx(AspectRatio,{width:"30px",height:"30px",marginRight:"12px",ratio:1,children:jsxRuntimeExports.jsx(TokenIcon,{padding:"6.25px",background:colors.gray[500],borderRadius:"4px",contract:j})})}),jsxRuntimeExports.jsx(PrettyNumber,{number:et}),jsxRuntimeExports.jsx(Text,{marginLeft:"4px",size:"sm",children:tt})]})},SignPage=_=>{const{mode:a,operations:$,data:{token:j}}=_,{fee:et,operations:tt,estimationFailed:rt,isLoading:nt,form:it,signer:ot,reEstimate:st,onSign:ct}=useSignPageHelpers($,a),{amount:ut,recipient:ht}=tt.operations[0];return jsxRuntimeExports.jsx(FormProvider,{...it,children:jsxRuntimeExports.jsx(ModalContent,{children:jsxRuntimeExports.jsxs("form",{children:[jsxRuntimeExports.jsx(SignPageHeader,{..._,operationsType:tt.type,signer:tt.signer}),jsxRuntimeExports.jsxs(ModalBody,{children:[jsxRuntimeExports.jsx(TokenTile,{amount:ut,token:j}),jsxRuntimeExports.jsx(Flex,{alignItems:"center",justifyContent:"end",marginTop:"12px",marginBottom:"24px",paddingX:"4px",children:jsxRuntimeExports.jsx(Flex,{children:jsxRuntimeExports.jsx(SignPageFee,{fee:et})})}),jsxRuntimeExports.jsx(FormLabel,{children:"From"}),jsxRuntimeExports.jsx(AddressTile,{marginBottom:"24px",address:tt.sender.address}),jsxRuntimeExports.jsx(FormLabel,{children:"To"}),jsxRuntimeExports.jsx(AddressTile,{address:ht}),jsxRuntimeExports.jsx(OperationSignerSelector,{isLoading:nt,operationType:tt.type,reEstimate:st,sender:tt.sender}),jsxRuntimeExports.jsx(AdvancedSettingsAccordion,{})]}),jsxRuntimeExports.jsx(ModalFooter,{children:jsxRuntimeExports.jsx(SignButton,{isDisabled:rt,isLoading:nt,onSubmit:ct,signer:ot,text:headerText(tt.type,a)})})]})})})},FormPage=_=>{const{token:a}=_,$=useOpenSignPageFormAction({SignPage,signPageExtraData:{token:a},FormPage,defaultFormPageProps:_,toOperation:toOperation(a)}),j=useAddToBatchFormAction(toOperation(a)),{onFormSubmitActionHandlers:[et,tt],isLoading:rt}=useHandleOnSubmitFormActions([$,j]),nt=useForm({mode:"onBlur",defaultValues:formDefaultValues(_)}),{formState:{isValid:it,errors:ot},register:st,handleSubmit:ct}=nt,ut=tokenDecimals(a),ht=formatTokenAmount(a.balance,ut),Et=getSmallestUnit(Number(ut));return jsxRuntimeExports.jsx(FormProvider,{...nt,children:jsxRuntimeExports.jsx(ModalContent,{children:jsxRuntimeExports.jsxs("form",{children:[jsxRuntimeExports.jsx(FormPageHeader,{}),jsxRuntimeExports.jsxs(ModalBody,{children:[jsxRuntimeExports.jsxs(FormControl,{isInvalid:!!ot.prettyAmount,children:[jsxRuntimeExports.jsx(FormLabel,{children:"Amount"}),jsxRuntimeExports.jsxs(InputGroup,{children:[jsxRuntimeExports.jsx(Input,{isDisabled:rt,step:Et,type:"number",...st("prettyAmount",{required:"Amount is required",max:{value:ht.toString(),message:`Max amount is ${ht}`},validate:makeValidateDecimals(Number(ut))}),placeholder:Et}),jsxRuntimeExports.jsx(InputRightElement,{paddingRight:"12px","data-testid":"token-symbol",children:tokenSymbolSafe(a)})]}),ot.prettyAmount&&jsxRuntimeExports.jsx(FormErrorMessage,{"data-testid":"amount-error",children:ot.prettyAmount.message})]}),jsxRuntimeExports.jsxs(FormControl,{marginTop:"24px",isInvalid:!!ot.sender,children:[jsxRuntimeExports.jsx(OwnedAccountsAutocomplete,{allowUnknown:!1,inputName:"sender",isDisabled:!0,label:"From"}),ot.sender&&jsxRuntimeExports.jsx(FormErrorMessage,{"data-testid":"from-error",children:ot.sender.message})]}),jsxRuntimeExports.jsxs(FormControl,{marginTop:"24px",isInvalid:!!ot.recipient,children:[jsxRuntimeExports.jsx(KnownAccountsAutocomplete,{allowUnknown:!0,inputName:"recipient",label:"To"}),ot.recipient&&jsxRuntimeExports.jsx(FormErrorMessage,{"data-testid":"recipient-error",children:ot.recipient.message})]})]}),jsxRuntimeExports.jsx(ModalFooter,{children:jsxRuntimeExports.jsx(FormSubmitButtons,{isLoading:rt,isValid:it,onAddToBatch:ct(tt),onSingleSubmit:ct(et)})})]})})})},toOperation=_=>a=>{const $={type:"fa2",sender:parsePkh(a.sender),recipient:parsePkh(a.recipient),contract:parseContractPkh(_.contract),tokenId:_.tokenId,amount:getRealAmount(_,a.prettyAmount)};return _.type==="fa2"?$:{...$,type:"fa1.2",tokenId:"0"}},Header=({account:_})=>{const{address:a,label:$}=_;return jsxRuntimeExports.jsxs(Flex,{alignItems:"center",height:"78px",background:accountIconGradient({left:"-10px",top:"-10px",account:_,radius:"100px",mainBackgroundColor:colors.gray[800]}),borderTopRadius:"8px","data-testid":"header",paddingX:"30px",children:[jsxRuntimeExports.jsx(AccountTileIcon,{account:_,size:"lg"}),jsxRuntimeExports.jsxs(Flex,{justifyContent:"space-between",flex:1,children:[jsxRuntimeExports.jsxs(Box,{marginLeft:"16px","data-testid":"account-identifier",children:[jsxRuntimeExports.jsx(Heading,{marginBottom:"4px",size:"md",children:$}),jsxRuntimeExports.jsx(Text,{color:colors.gray[300],size:"sm",children:formatPkh(a.pkh)})]}),jsxRuntimeExports.jsx(Flex,{flexDirection:"column-reverse",children:jsxRuntimeExports.jsx(AccountBalance,{verticalAlign:"bottom",address:_.address.pkh})})]})]})},AccountTokens=({account:_,tokens:a})=>{const{openWith:$}=reactExports.useContext(DynamicModalContext);return jsxRuntimeExports.jsxs(Card,{overflowX:"auto",marginBottom:"16px",borderBottomRadius:"8px",backgroundColor:colors.gray[900],children:[jsxRuntimeExports.jsx(Header,{account:_}),jsxRuntimeExports.jsx(TableContainer,{paddingX:"30px",children:jsxRuntimeExports.jsx(Table,{children:jsxRuntimeExports.jsx(Tbody,{children:a.map((j,et)=>{const tt=et===a.length-1?"transparent":colors.gray[700];return jsxRuntimeExports.jsxs(Tr,{"data-testid":"token-tile",children:[jsxRuntimeExports.jsx(Td,{width:"20%",minWidth:"240px",borderColor:tt,paddingX:"0",children:jsxRuntimeExports.jsxs(Flex,{alignItems:"center",children:[jsxRuntimeExports.jsx(TokenIcon,{display:"inline-block",width:"38px",contract:j.contract}),jsxRuntimeExports.jsx(Heading,{display:"inline-block",marginLeft:"16px",size:"sm",children:jsxRuntimeExports.jsx(TokenNameWithIcon,{token:j})})]})}),jsxRuntimeExports.jsx(Td,{width:"20%",minWidth:"200px",borderColor:tt,paddingX:"0",children:jsxRuntimeExports.jsx(AddressPill,{address:parseContractPkh(j.contract)})}),jsxRuntimeExports.jsx(Td,{width:"15%",minWidth:"160px",borderColor:tt,paddingX:"0",children:jsxRuntimeExports.jsx(Heading,{size:"sm",children:tokenPrettyAmount(j.balance,j,{showSymbol:!1})})}),jsxRuntimeExports.jsx(Td,{textAlign:"right",borderColor:tt,paddingX:"0",children:jsxRuntimeExports.jsx(SendButton,{onClick:()=>$(jsxRuntimeExports.jsx(FormPage,{sender:_,token:j}))})})]},fullId(j))})})})})]})},TokensPage=()=>{const{accountsFilter:_,selectedAccounts:a}=useAccountsFilter(),$=useGetAccountAllTokens(),j=a.map(et=>[et,$(et.address.pkh)]).filter(([,et])=>et.length>0);return jsxRuntimeExports.jsxs(Flex,{flexDirection:"column",height:"100%",children:[jsxRuntimeExports.jsx(TopBar,{title:"Tokens"}),_,j.length===0?jsxRuntimeExports.jsx(NoTokens,{size:"lg"}):jsxRuntimeExports.jsx(Box,{overflowY:"auto",children:j.map(([et,tt])=>jsxRuntimeExports.jsx(AccountTokens,{account:et,tokens:tt},et.address.pkh))})]})},AppVersion=({isCollapsed:_,...a})=>{const $=_?packageInfo.version:`Umami v${packageInfo.version}`;return jsxRuntimeExports.jsx(Text,{color:colors.gray[450],...a,children:$})},CollapseMenuButton=({toggle:_,...a})=>jsxRuntimeExports.jsx(Center,{width:"44px",height:"44px",marginRight:"-14px",borderRadius:"4px",_hover:{background:colors.gray[800]},cursor:"pointer","data-testid":"collapse-menu-button",onClick:_,...a,children:jsxRuntimeExports.jsx(BurgerMenuIcon,{})}),useCollapseMenu=()=>{const[_,a]=reactExports.useState(!1),$=reactExports.useCallback(()=>{a(j=>!j)},[]);return{isCollapsed:_,toggle:$}},ORANGE="#F74F18",MakiLogo=_=>{const a=useSelectedNetwork();return jsxRuntimeExports.jsx(MakiIcon,{background:"white",borderRadius:"8px","data-testid":"maki-logo",fishColor:a.name==="mainnet"?ORANGE:"black",..._})},NetworkSelector=()=>{const _=useSelectedNetwork(),a=useAvailableNetworks(),$=useSelectNetwork(),{onOpen:j,onClose:et,isOpen:tt}=useDisclosure$1();return jsxRuntimeExports.jsxs(Popover,{isOpen:tt,onClose:et,onOpen:j,placement:"bottom-end",children:[jsxRuntimeExports.jsx(PopoverTrigger,{children:jsxRuntimeExports.jsxs(Button,{marginTop:"4px",color:colors.green,"data-testid":"network-selector",variant:"unstyled",children:[lodashExports.capitalize(_.name),tt?jsxRuntimeExports.jsx(ChevronUpIcon,{marginTop:"-2px",stroke:"currentcolor"}):jsxRuntimeExports.jsx(ChevronDownIcon$1,{marginTop:"-2px",stroke:"currentcolor"})]})}),jsxRuntimeExports.jsx(PopoverContent,{width:"100px",marginTop:"-10px",background:colors.gray[700],border:"1px solid",borderColor:colors.gray[500],children:jsxRuntimeExports.jsx(PopoverBody,{padding:"4px 12px",children:jsxRuntimeExports.jsx(Flex,{flexDirection:"column",children:a.map((rt,nt)=>jsxRuntimeExports.jsxs(reactExports.Fragment,{children:[jsxRuntimeExports.jsx(Button,{height:"34px",color:rt.name===_.name?colors.green:colors.gray[300],fontSize:"14px",fontWeight:400,textAlign:"right",_hover:{color:colors.greenL},onClick:()=>{$(rt.name),et()},variant:"unstyled",children:lodashExports.capitalize(rt.name)}),nt<a.length-1&&jsxRuntimeExports.jsx(Divider,{})]},rt.name))})})})]})},UpdateAppButton=()=>{const[_,a]=reactExports.useState(!1),$=window;reactExports.useEffect(()=>{$&&$.electronAPI&&$.electronAPI.onAppUpdateDownloaded(et=>a(!0))},[$]);const j=()=>{$&&$.electronAPI&&$.electronAPI.installAppUpdateAndQuit()};return _?jsxRuntimeExports.jsx(Box,{marginTop:"24px",marginBottom:"6px",children:jsxRuntimeExports.jsxs(Button,{justifyContent:"flex-start",width:"100%",height:"32px",paddingTop:"7px",paddingRight:"8px",paddingBottom:"7px",paddingLeft:"8px",color:colors.black,background:colors.green,_hover:{color:colors.black,background:colors.greenL},onClick:j,children:[jsxRuntimeExports.jsx(FlipForwardEnergy,{}),jsxRuntimeExports.jsx(Text,{marginLeft:"4px",size:"sm",children:"Update Umami"})]})}):null},SideNavbar=()=>{const{isCollapsed:_,toggle:a}=useCollapseMenu(),$=jsxRuntimeExports.jsx(CollapseMenuButton,{marginTop:_?0:"2px",marginRight:_?0:"-14px",toggle:a});return jsxRuntimeExports.jsxs(Flex,{alignItems:_?"center":"normal",flexDirection:"column",width:_?"80px":"236px",padding:_?"30px 20px":"30px",background:colors.gray[900],"data-testid":`side-navbar${_?"-collapsed":""}`,children:[jsxRuntimeExports.jsxs(Box,{children:[jsxRuntimeExports.jsx(Flex,{alignItems:"center",justifyContent:"space-between",height:"30px",children:_?$:jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(MakiLogo,{width:"38px",height:"38px"}),jsxRuntimeExports.jsxs(Flex,{children:[jsxRuntimeExports.jsx(NetworkSelector,{}),$]})]})}),jsxRuntimeExports.jsx(Divider,{marginTop:"28px"})]}),jsxRuntimeExports.jsxs(Flex,{justifyContent:"space-between",flexDirection:"column",flex:1,children:[jsxRuntimeExports.jsxs(Box,{alignItems:_?"center":"normal",justifyContent:_?"space-around":"normal",display:_?"flex":"block",height:"100%",children:[!_&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(UpdateAppButton,{}),jsxRuntimeExports.jsx(TotalBalance,{})]}),jsxRuntimeExports.jsxs(Box,{children:[jsxRuntimeExports.jsx(MenuItem,{icon:jsxRuntimeExports.jsx(AccountsIcon,{}),isCollapsed:_,label:"Accounts",to:"/home"}),jsxRuntimeExports.jsx(MenuItem,{icon:jsxRuntimeExports.jsx(DiamondIcon,{}),isCollapsed:_,label:"NFTs",to:"/nfts"}),jsxRuntimeExports.jsx(MenuItem,{icon:jsxRuntimeExports.jsx(RefreshClockIcon,{width:"24px",height:"24px"}),isCollapsed:_,label:"Operations",to:"/operations"}),jsxRuntimeExports.jsx(MenuItem,{icon:jsxRuntimeExports.jsx(CoinIcon,{}),isCollapsed:_,label:"Tokens",to:"/tokens"}),jsxRuntimeExports.jsx(MenuItem,{icon:jsxRuntimeExports.jsx(BatchIcon,{}),isCollapsed:_,label:"Batch",to:"/batch"})]})]}),jsxRuntimeExports.jsxs(Box,{children:[jsxRuntimeExports.jsx(Divider,{}),jsxRuntimeExports.jsx(MenuItem,{marginTop:"22px",icon:jsxRuntimeExports.jsx(AddressBookIcon,{}),isCollapsed:_,label:"Address Book",to:"/address-book"}),jsxRuntimeExports.jsx(MenuItem,{icon:jsxRuntimeExports.jsx(GearIcon,{}),isCollapsed:_,label:"Settings",to:"/settings"}),jsxRuntimeExports.jsx(MenuItem,{icon:jsxRuntimeExports.jsx(HelpIcon,{}),isCollapsed:_,label:"Help",to:"/help"}),jsxRuntimeExports.jsx(AppVersion,{marginTop:"24px",fontSize:"14px",textAlign:_?"center":"left",isCollapsed:_})]})]})]})},MenuItem=({icon:_,label:a,to:$,isCollapsed:j,...et})=>{const rt=useLocation().pathname.startsWith($);return jsxRuntimeExports.jsx(Link,{to:$,children:jsxRuntimeExports.jsxs(Flex,{alignItems:"center",justifyContent:"flex-start",width:j?"44px":"176px",marginBottom:"8px",padding:"10px",background:rt?colors.gray[600]:"transparent",borderRadius:"4px",_hover:{background:rt?colors.gray[600]:colors.gray[800]},cursor:"pointer",...et,children:[_,!j&&jsxRuntimeExports.jsx(Text,{marginLeft:"10px",size:"sm",children:a})]})})},TotalBalance=()=>{const _=useTotalBalance(),[a]=useMediaQuery("(max-height: 900px)");return jsxRuntimeExports.jsxs(Box,{marginTop:"24px",marginBottom:a?"30px":"100px","data-testid":"total-balance",children:[jsxRuntimeExports.jsx(Text,{marginBottom:"4px",size:"sm",children:"Balance"}),_&&jsxRuntimeExports.jsx(TezRecapDisplay,{balance:_.mutez,dollarBalance:_.usd})]})},withSideMenu=_=>jsxRuntimeExports.jsxs(Flex,{height:"100vh",children:[jsxRuntimeExports.jsx(SideNavbar,{}),jsxRuntimeExports.jsx(Box,{flex:1,overflowX:"hidden",height:"100%",background:"linear-gradient(180deg, rgba(0, 231, 182, 0.35) -41.53%, rgba(0, 231, 182, 0.00) 34.71%)",paddingX:"24px",children:_})]}),AccountsImage=""+new URL("accounts-DTYOez9Q.png",import.meta.url).href,BatchImage=""+new URL("batch-CoYFN9ox.png",import.meta.url).href,MultisigImage=""+new URL("multisig-GRRIvmJS.png",import.meta.url).href;var js={},Carousel$1={},lib={},reactSwipe={},hasRequiredReactSwipe;function requireReactSwipe(){return hasRequiredReactSwipe||(hasRequiredReactSwipe=1,function(_){(function(a,$){$(_,reactExports,propTypesExports)})(commonjsGlobal,function(a,$,j){Object.defineProperty(a,"__esModule",{value:!0}),a.setHasSupportToCaptureOption=Et;var et=rt($),tt=rt(j);function rt(Ct){return Ct&&Ct.__esModule?Ct:{default:Ct}}var nt=Object.assign||function(Ct){for(var Ot=1;Ot<arguments.length;Ot++){var zt=arguments[Ot];for(var Ut in zt)Object.prototype.hasOwnProperty.call(zt,Ut)&&(Ct[Ut]=zt[Ut])}return Ct};function it(Ct,Ot){var zt={};for(var Ut in Ct)Ot.indexOf(Ut)>=0||Object.prototype.hasOwnProperty.call(Ct,Ut)&&(zt[Ut]=Ct[Ut]);return zt}function ot(Ct,Ot){if(!(Ct instanceof Ot))throw new TypeError("Cannot call a class as a function")}var st=function(){function Ct(Ot,zt){for(var Ut=0;Ut<zt.length;Ut++){var Vt=zt[Ut];Vt.enumerable=Vt.enumerable||!1,Vt.configurable=!0,"value"in Vt&&(Vt.writable=!0),Object.defineProperty(Ot,Vt.key,Vt)}}return function(Ot,zt,Ut){return zt&&Ct(Ot.prototype,zt),Ut&&Ct(Ot,Ut),Ot}}();function ct(Ct,Ot){if(!Ct)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Ot&&(typeof Ot=="object"||typeof Ot=="function")?Ot:Ct}function ut(Ct,Ot){if(typeof Ot!="function"&&Ot!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof Ot);Ct.prototype=Object.create(Ot&&Ot.prototype,{constructor:{value:Ct,enumerable:!1,writable:!0,configurable:!0}}),Ot&&(Object.setPrototypeOf?Object.setPrototypeOf(Ct,Ot):Ct.__proto__=Ot)}var ht=!1;function Et(Ct){ht=Ct}try{addEventListener("test",null,Object.defineProperty({},"capture",{get:function(){Et(!0)}}))}catch{}function St(){var Ct=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{capture:!0};return ht?Ct:Ct.capture}function Mt(Ct){if("touches"in Ct){var Ot=Ct.touches[0],zt=Ot.pageX,Ut=Ot.pageY;return{x:zt,y:Ut}}var Vt=Ct.screenX,jt=Ct.screenY;return{x:Vt,y:jt}}var kt=function(Ct){ut(Ot,Ct);function Ot(){var zt;ot(this,Ot);for(var Ut=arguments.length,Vt=Array(Ut),jt=0;jt<Ut;jt++)Vt[jt]=arguments[jt];var $t=ct(this,(zt=Ot.__proto__||Object.getPrototypeOf(Ot)).call.apply(zt,[this].concat(Vt)));return $t._handleSwipeStart=$t._handleSwipeStart.bind($t),$t._handleSwipeMove=$t._handleSwipeMove.bind($t),$t._handleSwipeEnd=$t._handleSwipeEnd.bind($t),$t._onMouseDown=$t._onMouseDown.bind($t),$t._onMouseMove=$t._onMouseMove.bind($t),$t._onMouseUp=$t._onMouseUp.bind($t),$t._setSwiperRef=$t._setSwiperRef.bind($t),$t}return st(Ot,[{key:"componentDidMount",value:function(){this.swiper&&this.swiper.addEventListener("touchmove",this._handleSwipeMove,St({capture:!0,passive:!1}))}},{key:"componentWillUnmount",value:function(){this.swiper&&this.swiper.removeEventListener("touchmove",this._handleSwipeMove,St({capture:!0,passive:!1}))}},{key:"_onMouseDown",value:function(Ut){this.props.allowMouseEvents&&(this.mouseDown=!0,document.addEventListener("mouseup",this._onMouseUp),document.addEventListener("mousemove",this._onMouseMove),this._handleSwipeStart(Ut))}},{key:"_onMouseMove",value:function(Ut){this.mouseDown&&this._handleSwipeMove(Ut)}},{key:"_onMouseUp",value:function(Ut){this.mouseDown=!1,document.removeEventListener("mouseup",this._onMouseUp),document.removeEventListener("mousemove",this._onMouseMove),this._handleSwipeEnd(Ut)}},{key:"_handleSwipeStart",value:function(Ut){var Vt=Mt(Ut),jt=Vt.x,$t=Vt.y;this.moveStart={x:jt,y:$t},this.props.onSwipeStart(Ut)}},{key:"_handleSwipeMove",value:function(Ut){if(this.moveStart){var Vt=Mt(Ut),jt=Vt.x,$t=Vt.y,Bt=jt-this.moveStart.x,Nt=$t-this.moveStart.y;this.moving=!0;var Lt=this.props.onSwipeMove({x:Bt,y:Nt},Ut);Lt&&Ut.cancelable&&Ut.preventDefault(),this.movePosition={deltaX:Bt,deltaY:Nt}}}},{key:"_handleSwipeEnd",value:function(Ut){this.props.onSwipeEnd(Ut);var Vt=this.props.tolerance;this.moving&&this.movePosition&&(this.movePosition.deltaX<-Vt?this.props.onSwipeLeft(1,Ut):this.movePosition.deltaX>Vt&&this.props.onSwipeRight(1,Ut),this.movePosition.deltaY<-Vt?this.props.onSwipeUp(1,Ut):this.movePosition.deltaY>Vt&&this.props.onSwipeDown(1,Ut)),this.moveStart=null,this.moving=!1,this.movePosition=null}},{key:"_setSwiperRef",value:function(Ut){this.swiper=Ut,this.props.innerRef(Ut)}},{key:"render",value:function(){var Ut=this.props;Ut.tagName;var Vt=Ut.className,jt=Ut.style,$t=Ut.children;Ut.allowMouseEvents,Ut.onSwipeUp,Ut.onSwipeDown,Ut.onSwipeLeft,Ut.onSwipeRight,Ut.onSwipeStart,Ut.onSwipeMove,Ut.onSwipeEnd,Ut.innerRef,Ut.tolerance;var Bt=it(Ut,["tagName","className","style","children","allowMouseEvents","onSwipeUp","onSwipeDown","onSwipeLeft","onSwipeRight","onSwipeStart","onSwipeMove","onSwipeEnd","innerRef","tolerance"]);return et.default.createElement(this.props.tagName,nt({ref:this._setSwiperRef,onMouseDown:this._onMouseDown,onTouchStart:this._handleSwipeStart,onTouchEnd:this._handleSwipeEnd,className:Vt,style:jt},Bt),$t)}}]),Ot}($.Component);kt.displayName="ReactSwipe",kt.propTypes={tagName:tt.default.string,className:tt.default.string,style:tt.default.object,children:tt.default.node,allowMouseEvents:tt.default.bool,onSwipeUp:tt.default.func,onSwipeDown:tt.default.func,onSwipeLeft:tt.default.func,onSwipeRight:tt.default.func,onSwipeStart:tt.default.func,onSwipeMove:tt.default.func,onSwipeEnd:tt.default.func,innerRef:tt.default.func,tolerance:tt.default.number.isRequired},kt.defaultProps={tagName:"div",allowMouseEvents:!1,onSwipeUp:function(){},onSwipeDown:function(){},onSwipeLeft:function(){},onSwipeRight:function(){},onSwipeStart:function(){},onSwipeMove:function(){},onSwipeEnd:function(){},innerRef:function(){},tolerance:0},a.default=kt})}(reactSwipe)),reactSwipe}(function(_){(function(a,$){$(_,requireReactSwipe())})(commonjsGlobal,function(a,$){Object.defineProperty(a,"__esModule",{value:!0});var j=et($);function et(tt){return tt&&tt.__esModule?tt:{default:tt}}a.default=j.default})})(lib);var cssClasses={},classnames={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(_){(function(){var a={}.hasOwnProperty;function $(){for(var j=[],et=0;et<arguments.length;et++){var tt=arguments[et];if(tt){var rt=typeof tt;if(rt==="string"||rt==="number")j.push(tt);else if(Array.isArray(tt)){if(tt.length){var nt=$.apply(null,tt);nt&&j.push(nt)}}else if(rt==="object"){if(tt.toString!==Object.prototype.toString&&!tt.toString.toString().includes("[native code]")){j.push(tt.toString());continue}for(var it in tt)a.call(tt,it)&&tt[it]&&j.push(it)}}}return j.join(" ")}_.exports?($.default=$,_.exports=$):window.classNames=$})()})(classnames);var classnamesExports=classnames.exports;Object.defineProperty(cssClasses,"__esModule",{value:!0});cssClasses.default=void 0;var _classnames=_interopRequireDefault$4(classnamesExports);function _interopRequireDefault$4(_){return _&&_.__esModule?_:{default:_}}function _defineProperty$3(_,a,$){return a in _?Object.defineProperty(_,a,{value:$,enumerable:!0,configurable:!0,writable:!0}):_[a]=$,_}var _default$3={ROOT:function _(a){return(0,_classnames.default)(_defineProperty$3({"carousel-root":!0},a||"",!!a))},CAROUSEL:function _(a){return(0,_classnames.default)({carousel:!0,"carousel-slider":a})},WRAPPER:function _(a,$){return(0,_classnames.default)({"thumbs-wrapper":!a,"slider-wrapper":a,"axis-horizontal":$==="horizontal","axis-vertical":$!=="horizontal"})},SLIDER:function _(a,$){return(0,_classnames.default)({thumbs:!a,slider:a,animated:!$})},ITEM:function _(a,$,j){return(0,_classnames.default)({thumb:!a,slide:a,selected:$,previous:j})},ARROW_PREV:function _(a){return(0,_classnames.default)({"control-arrow control-prev":!0,"control-disabled":a})},ARROW_NEXT:function _(a){return(0,_classnames.default)({"control-arrow control-next":!0,"control-disabled":a})},DOT:function _(a){return(0,_classnames.default)({dot:!0,selected:a})}};cssClasses.default=_default$3;var Thumbs$1={},dimensions={};Object.defineProperty(dimensions,"__esModule",{value:!0});dimensions.outerWidth=void 0;var outerWidth=function _(a){var $=a.offsetWidth,j=getComputedStyle(a);return $+=parseInt(j.marginLeft)+parseInt(j.marginRight),$};dimensions.outerWidth=outerWidth;var CSSTranslate={};Object.defineProperty(CSSTranslate,"__esModule",{value:!0});CSSTranslate.default=void 0;var _default$2=function _(a,$,j){var et=a===0?a:a+$,tt=j==="horizontal"?[et,0,0]:[0,et,0],rt="translate3d",nt="("+tt.join(",")+")";return rt+nt};CSSTranslate.default=_default$2;var window$1={};Object.defineProperty(window$1,"__esModule",{value:!0});window$1.default=void 0;var _default$1=function _(){return window};window$1.default=_default$1;Object.defineProperty(Thumbs$1,"__esModule",{value:!0});Thumbs$1.default=void 0;var _react$3=_interopRequireWildcard$1(reactExports),_cssClasses$1=_interopRequireDefault$3(cssClasses),_dimensions=dimensions,_CSSTranslate$2=_interopRequireDefault$3(CSSTranslate),_reactEasySwipe$1=_interopRequireDefault$3(lib),_window$1=_interopRequireDefault$3(window$1);function _interopRequireDefault$3(_){return _&&_.__esModule?_:{default:_}}function _getRequireWildcardCache$1(){if(typeof WeakMap!="function")return null;var _=new WeakMap;return _getRequireWildcardCache$1=function(){return _},_}function _interopRequireWildcard$1(_){if(_&&_.__esModule)return _;if(_===null||_typeof$1(_)!=="object"&&typeof _!="function")return{default:_};var a=_getRequireWildcardCache$1();if(a&&a.has(_))return a.get(_);var $={},j=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var et in _)if(Object.prototype.hasOwnProperty.call(_,et)){var tt=j?Object.getOwnPropertyDescriptor(_,et):null;tt&&(tt.get||tt.set)?Object.defineProperty($,et,tt):$[et]=_[et]}return $.default=_,a&&a.set(_,$),$}function _typeof$1(_){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$1=function($){return typeof $}:_typeof$1=function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $},_typeof$1(_)}function _extends$1(){return _extends$1=Object.assign||function(_){for(var a=1;a<arguments.length;a++){var $=arguments[a];for(var j in $)Object.prototype.hasOwnProperty.call($,j)&&(_[j]=$[j])}return _},_extends$1.apply(this,arguments)}function _classCallCheck$1(_,a){if(!(_ instanceof a))throw new TypeError("Cannot call a class as a function")}function _defineProperties$1(_,a){for(var $=0;$<a.length;$++){var j=a[$];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(_,j.key,j)}}function _createClass$1(_,a,$){return a&&_defineProperties$1(_.prototype,a),_}function _inherits$1(_,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");_.prototype=Object.create(a&&a.prototype,{constructor:{value:_,writable:!0,configurable:!0}}),a&&_setPrototypeOf$1(_,a)}function _setPrototypeOf$1(_,a){return _setPrototypeOf$1=Object.setPrototypeOf||function(j,et){return j.__proto__=et,j},_setPrototypeOf$1(_,a)}function _createSuper$1(_){var a=_isNativeReflectConstruct$1();return function(){var j=_getPrototypeOf$1(_),et;if(a){var tt=_getPrototypeOf$1(this).constructor;et=Reflect.construct(j,arguments,tt)}else et=j.apply(this,arguments);return _possibleConstructorReturn$1(this,et)}}function _possibleConstructorReturn$1(_,a){return a&&(_typeof$1(a)==="object"||typeof a=="function")?a:_assertThisInitialized$1(_)}function _assertThisInitialized$1(_){if(_===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _}function _isNativeReflectConstruct$1(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function _getPrototypeOf$1(_){return _getPrototypeOf$1=Object.setPrototypeOf?Object.getPrototypeOf:function($){return $.__proto__||Object.getPrototypeOf($)},_getPrototypeOf$1(_)}function _defineProperty$2(_,a,$){return a in _?Object.defineProperty(_,a,{value:$,enumerable:!0,configurable:!0,writable:!0}):_[a]=$,_}var isKeyboardEvent$1=function _(a){return a.hasOwnProperty("key")},Thumbs=function(_){_inherits$1($,_);var a=_createSuper$1($);function $(j){var et;return _classCallCheck$1(this,$),et=a.call(this,j),_defineProperty$2(_assertThisInitialized$1(et),"itemsWrapperRef",void 0),_defineProperty$2(_assertThisInitialized$1(et),"itemsListRef",void 0),_defineProperty$2(_assertThisInitialized$1(et),"thumbsRef",void 0),_defineProperty$2(_assertThisInitialized$1(et),"setItemsWrapperRef",function(tt){et.itemsWrapperRef=tt}),_defineProperty$2(_assertThisInitialized$1(et),"setItemsListRef",function(tt){et.itemsListRef=tt}),_defineProperty$2(_assertThisInitialized$1(et),"setThumbsRef",function(tt,rt){et.thumbsRef||(et.thumbsRef=[]),et.thumbsRef[rt]=tt}),_defineProperty$2(_assertThisInitialized$1(et),"updateSizes",function(){if(!(!et.props.children||!et.itemsWrapperRef||!et.thumbsRef)){var tt=_react$3.Children.count(et.props.children),rt=et.itemsWrapperRef.clientWidth,nt=et.props.thumbWidth?et.props.thumbWidth:(0,_dimensions.outerWidth)(et.thumbsRef[0]),it=Math.floor(rt/nt),ot=it<tt,st=ot?tt-it:0;et.setState(function(ct,ut){return{itemSize:nt,visibleItems:it,firstItem:ot?et.getFirstItem(ut.selectedItem):0,lastPosition:st,showArrows:ot}})}}),_defineProperty$2(_assertThisInitialized$1(et),"handleClickItem",function(tt,rt,nt){if(!isKeyboardEvent$1(nt)||nt.key==="Enter"){var it=et.props.onSelectItem;typeof it=="function"&&it(tt,rt)}}),_defineProperty$2(_assertThisInitialized$1(et),"onSwipeStart",function(){et.setState({swiping:!0})}),_defineProperty$2(_assertThisInitialized$1(et),"onSwipeEnd",function(){et.setState({swiping:!1})}),_defineProperty$2(_assertThisInitialized$1(et),"onSwipeMove",function(tt){var rt=tt.x;if(!et.state.itemSize||!et.itemsWrapperRef||!et.state.visibleItems)return!1;var nt=0,it=_react$3.Children.count(et.props.children),ot=-(et.state.firstItem*100)/et.state.visibleItems,st=Math.max(it-et.state.visibleItems,0),ct=-st*100/et.state.visibleItems;ot===nt&&rt>0&&(rt=0),ot===ct&&rt<0&&(rt=0);var ut=et.itemsWrapperRef.clientWidth,ht=ot+100/(ut/rt);return et.itemsListRef&&["WebkitTransform","MozTransform","MsTransform","OTransform","transform","msTransform"].forEach(function(Et){et.itemsListRef.style[Et]=(0,_CSSTranslate$2.default)(ht,"%",et.props.axis)}),!0}),_defineProperty$2(_assertThisInitialized$1(et),"slideRight",function(tt){et.moveTo(et.state.firstItem-(typeof tt=="number"?tt:1))}),_defineProperty$2(_assertThisInitialized$1(et),"slideLeft",function(tt){et.moveTo(et.state.firstItem+(typeof tt=="number"?tt:1))}),_defineProperty$2(_assertThisInitialized$1(et),"moveTo",function(tt){tt=tt<0?0:tt,tt=tt>=et.state.lastPosition?et.state.lastPosition:tt,et.setState({firstItem:tt})}),et.state={selectedItem:j.selectedItem,swiping:!1,showArrows:!1,firstItem:0,visibleItems:0,lastPosition:0},et}return _createClass$1($,[{key:"componentDidMount",value:function(){this.setupThumbs()}},{key:"componentDidUpdate",value:function(et){this.props.selectedItem!==this.state.selectedItem&&this.setState({selectedItem:this.props.selectedItem,firstItem:this.getFirstItem(this.props.selectedItem)}),this.props.children!==et.children&&this.updateSizes()}},{key:"componentWillUnmount",value:function(){this.destroyThumbs()}},{key:"setupThumbs",value:function(){(0,_window$1.default)().addEventListener("resize",this.updateSizes),(0,_window$1.default)().addEventListener("DOMContentLoaded",this.updateSizes),this.updateSizes()}},{key:"destroyThumbs",value:function(){(0,_window$1.default)().removeEventListener("resize",this.updateSizes),(0,_window$1.default)().removeEventListener("DOMContentLoaded",this.updateSizes)}},{key:"getFirstItem",value:function(et){var tt=et;return et>=this.state.lastPosition&&(tt=this.state.lastPosition),et<this.state.firstItem+this.state.visibleItems&&(tt=this.state.firstItem),et<this.state.firstItem&&(tt=et),tt}},{key:"renderItems",value:function(){var et=this;return this.props.children.map(function(tt,rt){var nt=_cssClasses$1.default.ITEM(!1,rt===et.state.selectedItem),it={key:rt,ref:function(st){return et.setThumbsRef(st,rt)},className:nt,onClick:et.handleClickItem.bind(et,rt,et.props.children[rt]),onKeyDown:et.handleClickItem.bind(et,rt,et.props.children[rt]),"aria-label":"".concat(et.props.labels.item," ").concat(rt+1),style:{width:et.props.thumbWidth}};return _react$3.default.createElement("li",_extends$1({},it,{role:"button",tabIndex:0}),tt)})}},{key:"render",value:function(){var et=this;if(!this.props.children)return null;var tt=_react$3.Children.count(this.props.children)>1,rt=this.state.showArrows&&this.state.firstItem>0,nt=this.state.showArrows&&this.state.firstItem<this.state.lastPosition,it={},ot=-this.state.firstItem*(this.state.itemSize||0),st=(0,_CSSTranslate$2.default)(ot,"px",this.props.axis),ct=this.props.transitionTime+"ms";return it={WebkitTransform:st,MozTransform:st,MsTransform:st,OTransform:st,transform:st,msTransform:st,WebkitTransitionDuration:ct,MozTransitionDuration:ct,MsTransitionDuration:ct,OTransitionDuration:ct,transitionDuration:ct,msTransitionDuration:ct},_react$3.default.createElement("div",{className:_cssClasses$1.default.CAROUSEL(!1)},_react$3.default.createElement("div",{className:_cssClasses$1.default.WRAPPER(!1),ref:this.setItemsWrapperRef},_react$3.default.createElement("button",{type:"button",className:_cssClasses$1.default.ARROW_PREV(!rt),onClick:function(){return et.slideRight()},"aria-label":this.props.labels.leftArrow}),tt?_react$3.default.createElement(_reactEasySwipe$1.default,{tagName:"ul",className:_cssClasses$1.default.SLIDER(!1,this.state.swiping),onSwipeLeft:this.slideLeft,onSwipeRight:this.slideRight,onSwipeMove:this.onSwipeMove,onSwipeStart:this.onSwipeStart,onSwipeEnd:this.onSwipeEnd,style:it,innerRef:this.setItemsListRef,allowMouseEvents:this.props.emulateTouch},this.renderItems()):_react$3.default.createElement("ul",{className:_cssClasses$1.default.SLIDER(!1,this.state.swiping),ref:function(ht){return et.setItemsListRef(ht)},style:it},this.renderItems()),_react$3.default.createElement("button",{type:"button",className:_cssClasses$1.default.ARROW_NEXT(!nt),onClick:function(){return et.slideLeft()},"aria-label":this.props.labels.rightArrow})))}}]),$}(_react$3.Component);Thumbs$1.default=Thumbs;_defineProperty$2(Thumbs,"displayName","Thumbs");_defineProperty$2(Thumbs,"defaultProps",{axis:"horizontal",labels:{leftArrow:"previous slide / item",rightArrow:"next slide / item",item:"slide item"},selectedItem:0,thumbWidth:80,transitionTime:350});var document$1={};Object.defineProperty(document$1,"__esModule",{value:!0});document$1.default=void 0;var _default=function _(){return document};document$1.default=_default;var utils={};Object.defineProperty(utils,"__esModule",{value:!0});utils.setPosition=utils.getPosition=utils.isKeyboardEvent=utils.defaultStatusFormatter=utils.noop=void 0;var _react$2=reactExports,_CSSTranslate$1=_interopRequireDefault$2(CSSTranslate);function _interopRequireDefault$2(_){return _&&_.__esModule?_:{default:_}}var noop=function _(){};utils.noop=noop;var defaultStatusFormatter=function _(a,$){return"".concat(a," of ").concat($)};utils.defaultStatusFormatter=defaultStatusFormatter;var isKeyboardEvent=function _(a){return a?a.hasOwnProperty("key"):!1};utils.isKeyboardEvent=isKeyboardEvent;var getPosition=function _(a,$){if($.infiniteLoop&&++a,a===0)return 0;var j=_react$2.Children.count($.children);if($.centerMode&&$.axis==="horizontal"){var et=-a*$.centerSlidePercentage,tt=j-1;return a&&(a!==tt||$.infiniteLoop)?et+=(100-$.centerSlidePercentage)/2:a===tt&&(et+=100-$.centerSlidePercentage),et}return-a*100};utils.getPosition=getPosition;var setPosition=function _(a,$){var j={};return["WebkitTransform","MozTransform","MsTransform","OTransform","transform","msTransform"].forEach(function(et){j[et]=(0,_CSSTranslate$1.default)(a,"%",$)}),j};utils.setPosition=setPosition;var animations={};Object.defineProperty(animations,"__esModule",{value:!0});animations.fadeAnimationHandler=animations.slideStopSwipingHandler=animations.slideSwipeAnimationHandler=animations.slideAnimationHandler=void 0;var _react$1=reactExports,_CSSTranslate=_interopRequireDefault$1(CSSTranslate),_utils$1=utils;function _interopRequireDefault$1(_){return _&&_.__esModule?_:{default:_}}function ownKeys$1(_,a){var $=Object.keys(_);if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(_);a&&(j=j.filter(function(et){return Object.getOwnPropertyDescriptor(_,et).enumerable})),$.push.apply($,j)}return $}function _objectSpread$1(_){for(var a=1;a<arguments.length;a++){var $=arguments[a]!=null?arguments[a]:{};a%2?ownKeys$1(Object($),!0).forEach(function(j){_defineProperty$1(_,j,$[j])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_,Object.getOwnPropertyDescriptors($)):ownKeys$1(Object($)).forEach(function(j){Object.defineProperty(_,j,Object.getOwnPropertyDescriptor($,j))})}return _}function _defineProperty$1(_,a,$){return a in _?Object.defineProperty(_,a,{value:$,enumerable:!0,configurable:!0,writable:!0}):_[a]=$,_}var slideAnimationHandler=function _(a,$){var j={},et=$.selectedItem,tt=et,rt=_react$1.Children.count(a.children)-1,nt=a.infiniteLoop&&(et<0||et>rt);if(nt)return tt<0?a.centerMode&&a.centerSlidePercentage&&a.axis==="horizontal"?j.itemListStyle=(0,_utils$1.setPosition)(-(rt+2)*a.centerSlidePercentage-(100-a.centerSlidePercentage)/2,a.axis):j.itemListStyle=(0,_utils$1.setPosition)(-(rt+2)*100,a.axis):tt>rt&&(j.itemListStyle=(0,_utils$1.setPosition)(0,a.axis)),j;var it=(0,_utils$1.getPosition)(et,a),ot=(0,_CSSTranslate.default)(it,"%",a.axis),st=a.transitionTime+"ms";return j.itemListStyle={WebkitTransform:ot,msTransform:ot,OTransform:ot,transform:ot},$.swiping||(j.itemListStyle=_objectSpread$1(_objectSpread$1({},j.itemListStyle),{},{WebkitTransitionDuration:st,MozTransitionDuration:st,OTransitionDuration:st,transitionDuration:st,msTransitionDuration:st})),j};animations.slideAnimationHandler=slideAnimationHandler;var slideSwipeAnimationHandler=function _(a,$,j,et){var tt={},rt=$.axis==="horizontal",nt=_react$1.Children.count($.children),it=0,ot=(0,_utils$1.getPosition)(j.selectedItem,$),st=$.infiniteLoop?(0,_utils$1.getPosition)(nt-1,$)-100:(0,_utils$1.getPosition)(nt-1,$),ct=rt?a.x:a.y,ut=ct;ot===it&&ct>0&&(ut=0),ot===st&&ct<0&&(ut=0);var ht=ot+100/(j.itemSize/ut),Et=Math.abs(ct)>$.swipeScrollTolerance;return $.infiniteLoop&&Et&&(j.selectedItem===0&&ht>-100?ht-=nt*100:j.selectedItem===nt-1&&ht<-nt*100&&(ht+=nt*100)),(!$.preventMovementUntilSwipeScrollTolerance||Et||j.swipeMovementStarted)&&(j.swipeMovementStarted||et({swipeMovementStarted:!0}),tt.itemListStyle=(0,_utils$1.setPosition)(ht,$.axis)),Et&&!j.cancelClick&&et({cancelClick:!0}),tt};animations.slideSwipeAnimationHandler=slideSwipeAnimationHandler;var slideStopSwipingHandler=function _(a,$){var j=(0,_utils$1.getPosition)($.selectedItem,a),et=(0,_utils$1.setPosition)(j,a.axis);return{itemListStyle:et}};animations.slideStopSwipingHandler=slideStopSwipingHandler;var fadeAnimationHandler=function _(a,$){var j=a.transitionTime+"ms",et="ease-in-out",tt={position:"absolute",display:"block",zIndex:-2,minHeight:"100%",opacity:0,top:0,right:0,left:0,bottom:0,transitionTimingFunction:et,msTransitionTimingFunction:et,MozTransitionTimingFunction:et,WebkitTransitionTimingFunction:et,OTransitionTimingFunction:et};return $.swiping||(tt=_objectSpread$1(_objectSpread$1({},tt),{},{WebkitTransitionDuration:j,MozTransitionDuration:j,OTransitionDuration:j,transitionDuration:j,msTransitionDuration:j})),{slideStyle:tt,selectedStyle:_objectSpread$1(_objectSpread$1({},tt),{},{opacity:1,position:"relative"}),prevStyle:_objectSpread$1({},tt)}};animations.fadeAnimationHandler=fadeAnimationHandler;Object.defineProperty(Carousel$1,"__esModule",{value:!0});Carousel$1.default=void 0;var _react=_interopRequireWildcard(reactExports),_reactEasySwipe=_interopRequireDefault(lib),_cssClasses=_interopRequireDefault(cssClasses),_Thumbs=_interopRequireDefault(Thumbs$1),_document=_interopRequireDefault(document$1),_window=_interopRequireDefault(window$1),_utils=utils,_animations=animations;function _interopRequireDefault(_){return _&&_.__esModule?_:{default:_}}function _getRequireWildcardCache(){if(typeof WeakMap!="function")return null;var _=new WeakMap;return _getRequireWildcardCache=function(){return _},_}function _interopRequireWildcard(_){if(_&&_.__esModule)return _;if(_===null||_typeof(_)!=="object"&&typeof _!="function")return{default:_};var a=_getRequireWildcardCache();if(a&&a.has(_))return a.get(_);var $={},j=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var et in _)if(Object.prototype.hasOwnProperty.call(_,et)){var tt=j?Object.getOwnPropertyDescriptor(_,et):null;tt&&(tt.get||tt.set)?Object.defineProperty($,et,tt):$[et]=_[et]}return $.default=_,a&&a.set(_,$),$}function _typeof(_){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof=function($){return typeof $}:_typeof=function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $},_typeof(_)}function _extends(){return _extends=Object.assign||function(_){for(var a=1;a<arguments.length;a++){var $=arguments[a];for(var j in $)Object.prototype.hasOwnProperty.call($,j)&&(_[j]=$[j])}return _},_extends.apply(this,arguments)}function ownKeys(_,a){var $=Object.keys(_);if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(_);a&&(j=j.filter(function(et){return Object.getOwnPropertyDescriptor(_,et).enumerable})),$.push.apply($,j)}return $}function _objectSpread(_){for(var a=1;a<arguments.length;a++){var $=arguments[a]!=null?arguments[a]:{};a%2?ownKeys(Object($),!0).forEach(function(j){_defineProperty(_,j,$[j])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_,Object.getOwnPropertyDescriptors($)):ownKeys(Object($)).forEach(function(j){Object.defineProperty(_,j,Object.getOwnPropertyDescriptor($,j))})}return _}function _classCallCheck(_,a){if(!(_ instanceof a))throw new TypeError("Cannot call a class as a function")}function _defineProperties(_,a){for(var $=0;$<a.length;$++){var j=a[$];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(_,j.key,j)}}function _createClass(_,a,$){return a&&_defineProperties(_.prototype,a),_}function _inherits(_,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");_.prototype=Object.create(a&&a.prototype,{constructor:{value:_,writable:!0,configurable:!0}}),a&&_setPrototypeOf(_,a)}function _setPrototypeOf(_,a){return _setPrototypeOf=Object.setPrototypeOf||function(j,et){return j.__proto__=et,j},_setPrototypeOf(_,a)}function _createSuper(_){var a=_isNativeReflectConstruct();return function(){var j=_getPrototypeOf(_),et;if(a){var tt=_getPrototypeOf(this).constructor;et=Reflect.construct(j,arguments,tt)}else et=j.apply(this,arguments);return _possibleConstructorReturn(this,et)}}function _possibleConstructorReturn(_,a){return a&&(_typeof(a)==="object"||typeof a=="function")?a:_assertThisInitialized(_)}function _assertThisInitialized(_){if(_===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _}function _isNativeReflectConstruct(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function _getPrototypeOf(_){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function($){return $.__proto__||Object.getPrototypeOf($)},_getPrototypeOf(_)}function _defineProperty(_,a,$){return a in _?Object.defineProperty(_,a,{value:$,enumerable:!0,configurable:!0,writable:!0}):_[a]=$,_}var Carousel=function(_){_inherits($,_);var a=_createSuper($);function $(j){var et;_classCallCheck(this,$),et=a.call(this,j),_defineProperty(_assertThisInitialized(et),"thumbsRef",void 0),_defineProperty(_assertThisInitialized(et),"carouselWrapperRef",void 0),_defineProperty(_assertThisInitialized(et),"listRef",void 0),_defineProperty(_assertThisInitialized(et),"itemsRef",void 0),_defineProperty(_assertThisInitialized(et),"timer",void 0),_defineProperty(_assertThisInitialized(et),"animationHandler",void 0),_defineProperty(_assertThisInitialized(et),"setThumbsRef",function(rt){et.thumbsRef=rt}),_defineProperty(_assertThisInitialized(et),"setCarouselWrapperRef",function(rt){et.carouselWrapperRef=rt}),_defineProperty(_assertThisInitialized(et),"setListRef",function(rt){et.listRef=rt}),_defineProperty(_assertThisInitialized(et),"setItemsRef",function(rt,nt){et.itemsRef||(et.itemsRef=[]),et.itemsRef[nt]=rt}),_defineProperty(_assertThisInitialized(et),"autoPlay",function(){_react.Children.count(et.props.children)<=1||(et.clearAutoPlay(),et.props.autoPlay&&(et.timer=setTimeout(function(){et.increment()},et.props.interval)))}),_defineProperty(_assertThisInitialized(et),"clearAutoPlay",function(){et.timer&&clearTimeout(et.timer)}),_defineProperty(_assertThisInitialized(et),"resetAutoPlay",function(){et.clearAutoPlay(),et.autoPlay()}),_defineProperty(_assertThisInitialized(et),"stopOnHover",function(){et.setState({isMouseEntered:!0},et.clearAutoPlay)}),_defineProperty(_assertThisInitialized(et),"startOnLeave",function(){et.setState({isMouseEntered:!1},et.autoPlay)}),_defineProperty(_assertThisInitialized(et),"isFocusWithinTheCarousel",function(){return et.carouselWrapperRef?!!((0,_document.default)().activeElement===et.carouselWrapperRef||et.carouselWrapperRef.contains((0,_document.default)().activeElement)):!1}),_defineProperty(_assertThisInitialized(et),"navigateWithKeyboard",function(rt){if(et.isFocusWithinTheCarousel()){var nt=et.props.axis,it=nt==="horizontal",ot={ArrowUp:38,ArrowRight:39,ArrowDown:40,ArrowLeft:37},st=it?ot.ArrowRight:ot.ArrowDown,ct=it?ot.ArrowLeft:ot.ArrowUp;st===rt.keyCode?et.increment():ct===rt.keyCode&&et.decrement()}}),_defineProperty(_assertThisInitialized(et),"updateSizes",function(){if(!(!et.state.initialized||!et.itemsRef||et.itemsRef.length===0)){var rt=et.props.axis==="horizontal",nt=et.itemsRef[0];if(nt){var it=rt?nt.clientWidth:nt.clientHeight;et.setState({itemSize:it}),et.thumbsRef&&et.thumbsRef.updateSizes()}}}),_defineProperty(_assertThisInitialized(et),"setMountState",function(){et.setState({hasMount:!0}),et.updateSizes()}),_defineProperty(_assertThisInitialized(et),"handleClickItem",function(rt,nt){if(_react.Children.count(et.props.children)!==0){if(et.state.cancelClick){et.setState({cancelClick:!1});return}et.props.onClickItem(rt,nt),rt!==et.state.selectedItem&&et.setState({selectedItem:rt})}}),_defineProperty(_assertThisInitialized(et),"handleOnChange",function(rt,nt){_react.Children.count(et.props.children)<=1||et.props.onChange(rt,nt)}),_defineProperty(_assertThisInitialized(et),"handleClickThumb",function(rt,nt){et.props.onClickThumb(rt,nt),et.moveTo(rt)}),_defineProperty(_assertThisInitialized(et),"onSwipeStart",function(rt){et.setState({swiping:!0}),et.props.onSwipeStart(rt)}),_defineProperty(_assertThisInitialized(et),"onSwipeEnd",function(rt){et.setState({swiping:!1,cancelClick:!1,swipeMovementStarted:!1}),et.props.onSwipeEnd(rt),et.clearAutoPlay(),et.state.autoPlay&&et.autoPlay()}),_defineProperty(_assertThisInitialized(et),"onSwipeMove",function(rt,nt){et.props.onSwipeMove(nt);var it=et.props.swipeAnimationHandler(rt,et.props,et.state,et.setState.bind(_assertThisInitialized(et)));return et.setState(_objectSpread({},it)),!!Object.keys(it).length}),_defineProperty(_assertThisInitialized(et),"decrement",function(){var rt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;et.moveTo(et.state.selectedItem-(typeof rt=="number"?rt:1))}),_defineProperty(_assertThisInitialized(et),"increment",function(){var rt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;et.moveTo(et.state.selectedItem+(typeof rt=="number"?rt:1))}),_defineProperty(_assertThisInitialized(et),"moveTo",function(rt){if(typeof rt=="number"){var nt=_react.Children.count(et.props.children)-1;rt<0&&(rt=et.props.infiniteLoop?nt:0),rt>nt&&(rt=et.props.infiniteLoop?0:nt),et.selectItem({selectedItem:rt}),et.state.autoPlay&&et.state.isMouseEntered===!1&&et.resetAutoPlay()}}),_defineProperty(_assertThisInitialized(et),"onClickNext",function(){et.increment(1)}),_defineProperty(_assertThisInitialized(et),"onClickPrev",function(){et.decrement(1)}),_defineProperty(_assertThisInitialized(et),"onSwipeForward",function(){et.increment(1),et.props.emulateTouch&&et.setState({cancelClick:!0})}),_defineProperty(_assertThisInitialized(et),"onSwipeBackwards",function(){et.decrement(1),et.props.emulateTouch&&et.setState({cancelClick:!0})}),_defineProperty(_assertThisInitialized(et),"changeItem",function(rt){return function(nt){(!(0,_utils.isKeyboardEvent)(nt)||nt.key==="Enter")&&et.moveTo(rt)}}),_defineProperty(_assertThisInitialized(et),"selectItem",function(rt){et.setState(_objectSpread({previousItem:et.state.selectedItem},rt),function(){et.setState(et.animationHandler(et.props,et.state))}),et.handleOnChange(rt.selectedItem,_react.Children.toArray(et.props.children)[rt.selectedItem])}),_defineProperty(_assertThisInitialized(et),"getInitialImage",function(){var rt=et.props.selectedItem,nt=et.itemsRef&&et.itemsRef[rt],it=nt&&nt.getElementsByTagName("img")||[];return it[0]}),_defineProperty(_assertThisInitialized(et),"getVariableItemHeight",function(rt){var nt=et.itemsRef&&et.itemsRef[rt];if(et.state.hasMount&&nt&&nt.children.length){var it=nt.children[0].getElementsByTagName("img")||[];if(it.length>0){var ot=it[0];if(!ot.complete){var st=function ht(){et.forceUpdate(),ot.removeEventListener("load",ht)};ot.addEventListener("load",st)}}var ct=it[0]||nt.children[0],ut=ct.clientHeight;return ut>0?ut:null}return null});var tt={initialized:!1,previousItem:j.selectedItem,selectedItem:j.selectedItem,hasMount:!1,isMouseEntered:!1,autoPlay:j.autoPlay,swiping:!1,swipeMovementStarted:!1,cancelClick:!1,itemSize:1,itemListStyle:{},slideStyle:{},selectedStyle:{},prevStyle:{}};return et.animationHandler=typeof j.animationHandler=="function"&&j.animationHandler||j.animationHandler==="fade"&&_animations.fadeAnimationHandler||_animations.slideAnimationHandler,et.state=_objectSpread(_objectSpread({},tt),et.animationHandler(j,tt)),et}return _createClass($,[{key:"componentDidMount",value:function(){this.props.children&&this.setupCarousel()}},{key:"componentDidUpdate",value:function(et,tt){!et.children&&this.props.children&&!this.state.initialized&&this.setupCarousel(),!et.autoFocus&&this.props.autoFocus&&this.forceFocus(),tt.swiping&&!this.state.swiping&&this.setState(_objectSpread({},this.props.stopSwipingHandler(this.props,this.state))),(et.selectedItem!==this.props.selectedItem||et.centerMode!==this.props.centerMode)&&(this.updateSizes(),this.moveTo(this.props.selectedItem)),et.autoPlay!==this.props.autoPlay&&(this.props.autoPlay?this.setupAutoPlay():this.destroyAutoPlay(),this.setState({autoPlay:this.props.autoPlay}))}},{key:"componentWillUnmount",value:function(){this.destroyCarousel()}},{key:"setupCarousel",value:function(){var et=this;this.bindEvents(),this.state.autoPlay&&_react.Children.count(this.props.children)>1&&this.setupAutoPlay(),this.props.autoFocus&&this.forceFocus(),this.setState({initialized:!0},function(){var tt=et.getInitialImage();tt&&!tt.complete?tt.addEventListener("load",et.setMountState):et.setMountState()})}},{key:"destroyCarousel",value:function(){this.state.initialized&&(this.unbindEvents(),this.destroyAutoPlay())}},{key:"setupAutoPlay",value:function(){this.autoPlay();var et=this.carouselWrapperRef;this.props.stopOnHover&&et&&(et.addEventListener("mouseenter",this.stopOnHover),et.addEventListener("mouseleave",this.startOnLeave))}},{key:"destroyAutoPlay",value:function(){this.clearAutoPlay();var et=this.carouselWrapperRef;this.props.stopOnHover&&et&&(et.removeEventListener("mouseenter",this.stopOnHover),et.removeEventListener("mouseleave",this.startOnLeave))}},{key:"bindEvents",value:function(){(0,_window.default)().addEventListener("resize",this.updateSizes),(0,_window.default)().addEventListener("DOMContentLoaded",this.updateSizes),this.props.useKeyboardArrows&&(0,_document.default)().addEventListener("keydown",this.navigateWithKeyboard)}},{key:"unbindEvents",value:function(){(0,_window.default)().removeEventListener("resize",this.updateSizes),(0,_window.default)().removeEventListener("DOMContentLoaded",this.updateSizes);var et=this.getInitialImage();et&&et.removeEventListener("load",this.setMountState),this.props.useKeyboardArrows&&(0,_document.default)().removeEventListener("keydown",this.navigateWithKeyboard)}},{key:"forceFocus",value:function(){var et;(et=this.carouselWrapperRef)===null||et===void 0||et.focus()}},{key:"renderItems",value:function(et){var tt=this;return this.props.children?_react.Children.map(this.props.children,function(rt,nt){var it=nt===tt.state.selectedItem,ot=nt===tt.state.previousItem,st=it&&tt.state.selectedStyle||ot&&tt.state.prevStyle||tt.state.slideStyle||{};tt.props.centerMode&&tt.props.axis==="horizontal"&&(st=_objectSpread(_objectSpread({},st),{},{minWidth:tt.props.centerSlidePercentage+"%"})),tt.state.swiping&&tt.state.swipeMovementStarted&&(st=_objectSpread(_objectSpread({},st),{},{pointerEvents:"none"}));var ct={ref:function(ht){return tt.setItemsRef(ht,nt)},key:"itemKey"+nt+(et?"clone":""),className:_cssClasses.default.ITEM(!0,nt===tt.state.selectedItem,nt===tt.state.previousItem),onClick:tt.handleClickItem.bind(tt,nt,rt),style:st};return _react.default.createElement("li",ct,tt.props.renderItem(rt,{isSelected:nt===tt.state.selectedItem,isPrevious:nt===tt.state.previousItem}))}):[]}},{key:"renderControls",value:function(){var et=this,tt=this.props,rt=tt.showIndicators,nt=tt.labels,it=tt.renderIndicator,ot=tt.children;return rt?_react.default.createElement("ul",{className:"control-dots"},_react.Children.map(ot,function(st,ct){return it&&it(et.changeItem(ct),ct===et.state.selectedItem,ct,nt.item)})):null}},{key:"renderStatus",value:function(){return this.props.showStatus?_react.default.createElement("p",{className:"carousel-status"},this.props.statusFormatter(this.state.selectedItem+1,_react.Children.count(this.props.children))):null}},{key:"renderThumbs",value:function(){return!this.props.showThumbs||!this.props.children||_react.Children.count(this.props.children)===0?null:_react.default.createElement(_Thumbs.default,{ref:this.setThumbsRef,onSelectItem:this.handleClickThumb,selectedItem:this.state.selectedItem,transitionTime:this.props.transitionTime,thumbWidth:this.props.thumbWidth,labels:this.props.labels,emulateTouch:this.props.emulateTouch},this.props.renderThumbs(this.props.children))}},{key:"render",value:function(){var et=this;if(!this.props.children||_react.Children.count(this.props.children)===0)return null;var tt=this.props.swipeable&&_react.Children.count(this.props.children)>1,rt=this.props.axis==="horizontal",nt=this.props.showArrows&&_react.Children.count(this.props.children)>1,it=nt&&(this.state.selectedItem>0||this.props.infiniteLoop)||!1,ot=nt&&(this.state.selectedItem<_react.Children.count(this.props.children)-1||this.props.infiniteLoop)||!1,st=this.renderItems(!0),ct=st.shift(),ut=st.pop(),ht={className:_cssClasses.default.SLIDER(!0,this.state.swiping),onSwipeMove:this.onSwipeMove,onSwipeStart:this.onSwipeStart,onSwipeEnd:this.onSwipeEnd,style:this.state.itemListStyle,tolerance:this.props.swipeScrollTolerance},Et={};if(rt){if(ht.onSwipeLeft=this.onSwipeForward,ht.onSwipeRight=this.onSwipeBackwards,this.props.dynamicHeight){var St=this.getVariableItemHeight(this.state.selectedItem);Et.height=St||"auto"}}else ht.onSwipeUp=this.props.verticalSwipe==="natural"?this.onSwipeBackwards:this.onSwipeForward,ht.onSwipeDown=this.props.verticalSwipe==="natural"?this.onSwipeForward:this.onSwipeBackwards,ht.style=_objectSpread(_objectSpread({},ht.style),{},{height:this.state.itemSize}),Et.height=this.state.itemSize;return _react.default.createElement("div",{"aria-label":this.props.ariaLabel,className:_cssClasses.default.ROOT(this.props.className),ref:this.setCarouselWrapperRef,tabIndex:this.props.useKeyboardArrows?0:void 0},_react.default.createElement("div",{className:_cssClasses.default.CAROUSEL(!0),style:{width:this.props.width}},this.renderControls(),this.props.renderArrowPrev(this.onClickPrev,it,this.props.labels.leftArrow),_react.default.createElement("div",{className:_cssClasses.default.WRAPPER(!0,this.props.axis),style:Et},tt?_react.default.createElement(_reactEasySwipe.default,_extends({tagName:"ul",innerRef:this.setListRef},ht,{allowMouseEvents:this.props.emulateTouch}),this.props.infiniteLoop&&ut,this.renderItems(),this.props.infiniteLoop&&ct):_react.default.createElement("ul",{className:_cssClasses.default.SLIDER(!0,this.state.swiping),ref:function(kt){return et.setListRef(kt)},style:this.state.itemListStyle||{}},this.props.infiniteLoop&&ut,this.renderItems(),this.props.infiniteLoop&&ct)),this.props.renderArrowNext(this.onClickNext,ot,this.props.labels.rightArrow),this.renderStatus()),this.renderThumbs())}}]),$}(_react.default.Component);Carousel$1.default=Carousel;_defineProperty(Carousel,"displayName","Carousel");_defineProperty(Carousel,"defaultProps",{ariaLabel:void 0,axis:"horizontal",centerSlidePercentage:80,interval:3e3,labels:{leftArrow:"previous slide / item",rightArrow:"next slide / item",item:"slide item"},onClickItem:_utils.noop,onClickThumb:_utils.noop,onChange:_utils.noop,onSwipeStart:function _(){},onSwipeEnd:function _(){},onSwipeMove:function _(){return!1},preventMovementUntilSwipeScrollTolerance:!1,renderArrowPrev:function _(a,$,j){return _react.default.createElement("button",{type:"button","aria-label":j,className:_cssClasses.default.ARROW_PREV(!$),onClick:a})},renderArrowNext:function _(a,$,j){return _react.default.createElement("button",{type:"button","aria-label":j,className:_cssClasses.default.ARROW_NEXT(!$),onClick:a})},renderIndicator:function _(a,$,j,et){return _react.default.createElement("li",{className:_cssClasses.default.DOT($),onClick:a,onKeyDown:a,value:j,key:j,role:"button",tabIndex:0,"aria-label":"".concat(et," ").concat(j+1)})},renderItem:function _(a){return a},renderThumbs:function _(a){var $=_react.Children.map(a,function(j){var et=j;if(j.type!=="img"&&(et=_react.Children.toArray(j.props.children).find(function(tt){return tt.type==="img"})),!!et)return et});return $.filter(function(j){return j}).length===0?(console.warn("No images found! Can't build the thumb list without images. If you don't need thumbs, set showThumbs={false} in the Carousel. Note that it's not possible to get images rendered inside custom components. More info at https://github.com/leandrowd/react-responsive-carousel/blob/master/TROUBLESHOOTING.md"),[]):$},statusFormatter:_utils.defaultStatusFormatter,selectedItem:0,showArrows:!0,showIndicators:!0,showStatus:!0,showThumbs:!0,stopOnHover:!0,swipeScrollTolerance:5,swipeable:!0,transitionTime:350,verticalSwipe:"standard",width:"100%",animationHandler:"slide",swipeAnimationHandler:_animations.slideSwipeAnimationHandler,stopSwipingHandler:_animations.slideStopSwipingHandler});var types={};(function(_){Object.defineProperty(_,"__esModule",{value:!0}),Object.defineProperty(_,"Carousel",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(_,"CarouselProps",{enumerable:!0,get:function(){return $.CarouselProps}}),Object.defineProperty(_,"Thumbs",{enumerable:!0,get:function(){return j.default}});var a=et(Carousel$1),$=types,j=et(Thumbs$1);function et(tt){return tt&&tt.__esModule?tt:{default:tt}}})(js);const Slider=({children:_})=>{const a={background:colors.gray[400],width:"10px",height:"10px",display:"inline-block",margin:"0 4px 60px 4px",borderRadius:"5px"};return jsxRuntimeExports.jsx(Box,{backgroundImage:"linear-gradient(180deg, rgba(18, 18, 18, 0.00) 36.43%, rgba(18, 18, 18, 0.50) 53.65%, #121212 76.24%)",borderRightRadius:"30px",backgroundColor:"#323131",children:jsxRuntimeExports.jsx(js.Carousel,{autoPlay:!0,dynamicHeight:!1,infiniteLoop:!0,interval:5e3,renderIndicator:($,j,et)=>j?jsxRuntimeExports.jsx("li",{style:{...a,background:"#00C39A",width:"24px"}}):jsxRuntimeExports.jsx("li",{onClick:$,onKeyDown:$,role:"button",style:a,tabIndex:0,value:et},et),showArrows:!1,showStatus:!1,showThumbs:!1,transitionTime:1e3,children:_})})},SlideItem=({item:_})=>jsxRuntimeExports.jsx(Box,{height:"730px",paddingTop:"500px",paddingBottom:"35px",backgroundImage:_.image,backgroundSize:"cover",backgroundRepeat:"no-repeat","data-testid":`slide-${_.id}`,children:jsxRuntimeExports.jsxs(Center,{flexDirection:"column",paddingBottom:"50px",children:[jsxRuntimeExports.jsx(CircleIcon,{icon:_.icon,size:"58px"}),jsxRuntimeExports.jsx(Text,{width:"400px",margin:"16px 50px 0 50px",children:_.text})]})}),SliderItems=[{id:1,text:jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Text,{as:"span",fontWeight:600,size:"md",children:"Streamline asset management: "}),jsxRuntimeExports.jsx(Text,{as:"span",size:"md",children:"one mnemonic, multiple accounts, full control."})]}),icon:jsxRuntimeExports.jsx(SlidersIcon,{}),image:AccountsImage},{id:2,text:jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Text,{as:"span",size:"md",children:"Enhance security with "}),jsxRuntimeExports.jsx(Text,{as:"span",fontWeight:600,size:"md",children:"Multi-sig"}),jsxRuntimeExports.jsx(Text,{as:"span",size:"md",children:", requiring multiple signatures for transaction executions."})]}),icon:jsxRuntimeExports.jsx(KeyIcon,{width:"32px",height:"32px",strokeWidth:"0.9"}),image:MultisigImage},{id:3,text:jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Text,{as:"span",size:"md",children:"Utilize the "}),jsxRuntimeExports.jsx(Text,{as:"span",fontWeight:600,size:"md",children:"Batch "}),jsxRuntimeExports.jsx(Text,{as:"span",size:"md",children:"feature to bundle transactions, improving efficiency and reducing costs."})]}),icon:jsxRuntimeExports.jsx(BatchIcon,{width:"32px",height:"32px",strokeWidth:"0.9"}),image:BatchImage}],WelcomeScreen=()=>{const[_,a]=reactExports.useState(!0),{onOpen:$,modalElement:j}=useOnboardingModal(()=>a(!0)),et=()=>{a(!1),$()};return jsxRuntimeExports.jsxs(Center,{height:"100vh",padding:"60px",backgroundImage:BackgroundImage,backgroundSize:"cover",children:[_&&jsxRuntimeExports.jsxs(SimpleGrid,{borderRadius:"30px",boxShadow:"0px 0px 30px rgba(0, 0, 0, 0.30)",columns:[1,1,2],children:[jsxRuntimeExports.jsx(Center,{width:"100%",maxWidth:"660px",background:colors.gray[800],borderLeftRadius:"30px",children:jsxRuntimeExports.jsxs(VStack,{maxWidth:"400px",padding:"32px",spacing:"0",children:[jsxRuntimeExports.jsx(MakiLogo,{width:"48px",height:"48px",marginBottom:"24px"}),jsxRuntimeExports.jsx(Heading,{marginBottom:"16px",size:"3xl",children:"Welcome to Umami"}),jsxRuntimeExports.jsx(Divider,{maxWidth:"400px",marginBottom:"16px"}),jsxRuntimeExports.jsx(Text,{marginBottom:"32px",color:colors.gray[450],children:"A powerful Tezos wallet"}),jsxRuntimeExports.jsx(Button,{width:"100%",marginBottom:"24px",onClick:et,size:"lg",children:"Get started"}),jsxRuntimeExports.jsx(AppVersion,{fontSize:"13px"})]})}),jsxRuntimeExports.jsx(Box,{maxWidth:"660px",children:jsxRuntimeExports.jsx(Slider,{children:SliderItems.map(tt=>jsxRuntimeExports.jsx(SlideItem,{item:tt},tt.id))})})]}),j]})},Router=()=>(useDeeplinkHandler(),useImplicitAccounts().length>0?jsxRuntimeExports.jsx(LoggedInRouterWithPolling,{}):jsxRuntimeExports.jsx(LoggedOutRouter,{})),LoggedInRouterWithPolling=()=>{useDataPolling();const _=useDynamicModal();return jsxRuntimeExports.jsx(HashRouter,{children:jsxRuntimeExports.jsx(DynamicModalContext.Provider,{value:_,children:jsxRuntimeExports.jsxs(BeaconProvider,{children:[jsxRuntimeExports.jsx(AnnouncementBanner,{}),jsxRuntimeExports.jsxs(Routes,{children:[jsxRuntimeExports.jsx(Route,{element:withSideMenu(jsxRuntimeExports.jsx(HomeView,{})),path:"/home"}),jsxRuntimeExports.jsx(Route,{element:withSideMenu(jsxRuntimeExports.jsx(HomeView,{})),path:"/home/:ownerPkh/:nftId"}),jsxRuntimeExports.jsx(Route,{element:withSideMenu(jsxRuntimeExports.jsx(NFTsView,{})),path:"/nfts"}),jsxRuntimeExports.jsx(Route,{element:withSideMenu(jsxRuntimeExports.jsx(OperationsView,{})),path:"/operations"}),jsxRuntimeExports.jsx(Route,{element:withSideMenu(jsxRuntimeExports.jsx(TokensPage,{})),path:"/tokens"}),jsxRuntimeExports.jsx(Route,{element:withSideMenu(jsxRuntimeExports.jsx(AddressBookView,{})),path:"/address-book"}),jsxRuntimeExports.jsx(Route,{element:withSideMenu(jsxRuntimeExports.jsx(SettingsView,{})),path:"/settings"}),jsxRuntimeExports.jsx(Route,{element:withSideMenu(jsxRuntimeExports.jsx(HelpView,{})),path:"/help"}),jsxRuntimeExports.jsx(Route,{element:withSideMenu(jsxRuntimeExports.jsx(BatchPage,{})),path:"/batch"}),jsxRuntimeExports.jsx(Route,{element:jsxRuntimeExports.jsx(Navigate,{to:"/home"}),path:"/*"})]}),_.content]})})})},LoggedOutRouter=()=>{const _=useResetConnections();return reactExports.useEffect(()=>{WalletClient.destroy().then(_).catch(lodashExports.noop)},[_]),jsxRuntimeExports.jsx(HashRouter,{children:jsxRuntimeExports.jsxs(Routes,{children:[jsxRuntimeExports.jsx(Route,{element:jsxRuntimeExports.jsx(Navigate,{to:"/welcome"}),path:"/*"}),jsxRuntimeExports.jsx(Route,{element:jsxRuntimeExports.jsx(WelcomeScreen,{}),path:"/welcome"})]})})},logError=(_,a)=>{const $={...getErrorContext(_),stacktrace:String(a.componentStack)};store.dispatch(errorsSlice.actions.add($))};Object.defineProperty(window,"reduxStore",{value:store});const root=client.createRoot(document.getElementById("root"));root.render(jsxRuntimeExports.jsx(React$2.StrictMode,{children:jsxRuntimeExports.jsx(UmamiTheme,{children:jsxRuntimeExports.jsx(ReduxStore,{children:jsxRuntimeExports.jsx(PersistGate,{loading:null,persistor,children:jsxRuntimeExports.jsx(ErrorBoundary,{fallback:jsxRuntimeExports.jsx(ErrorPage,{}),onError:logError,children:jsxRuntimeExports.jsx(ReactQueryProvider,{children:jsxRuntimeExports.jsx(Router,{})})})})})})}));export{__vitePreload as _,getDefaultExportFromCjs$1 as g,patterns as p,reactExports as r,utils$1 as u};
