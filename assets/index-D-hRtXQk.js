var cS=Object.defineProperty;var lS=(a,_,$)=>_ in a?cS(a,_,{enumerable:!0,configurable:!0,writable:!0,value:$}):a[_]=$;var Xr=(a,_,$)=>(lS(a,typeof _!="symbol"?_+"":_,$),$),am=(a,_,$)=>{if(!_.has(a))throw TypeError("Cannot "+$)};var Br=(a,_,$)=>(am(a,_,"read from private field"),$?$.call(a):_.get(a)),In=(a,_,$)=>{if(_.has(a))throw TypeError("Cannot add the same private member more than once");_ instanceof WeakSet?_.add(a):_.set(a,$)},kn=(a,_,$,j)=>(am(a,_,"write to private field"),j?j.call(a,$):_.set(a,$),$);var r0=(a,_,$,j)=>({set _(et){kn(a,_,et,$)},get _(){return Br(a,_,j)}}),Zn=(a,_,$)=>(am(a,_,"access private method"),$);function _mergeNamespaces(a,_){for(var $=0;$<_.length;$++){const j=_[$];if(typeof j!="string"&&!Array.isArray(j)){for(const et in j)if(et!=="default"&&!(et in a)){const tt=Object.getOwnPropertyDescriptor(j,et);tt&&Object.defineProperty(a,et,tt.get?tt:{enumerable:!0,get:()=>j[et]})}}}return Object.freeze(Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}))}(function(){const _=document.createElement("link").relList;if(_&&_.supports&&_.supports("modulepreload"))return;for(const et of document.querySelectorAll('link[rel="modulepreload"]'))j(et);new MutationObserver(et=>{for(const tt of et)if(tt.type==="childList")for(const rt of tt.addedNodes)rt.tagName==="LINK"&&rt.rel==="modulepreload"&&j(rt)}).observe(document,{childList:!0,subtree:!0});function $(et){const tt={};return et.integrity&&(tt.integrity=et.integrity),et.referrerPolicy&&(tt.referrerPolicy=et.referrerPolicy),et.crossOrigin==="use-credentials"?tt.credentials="include":et.crossOrigin==="anonymous"?tt.credentials="omit":tt.credentials="same-origin",tt}function j(et){if(et.ep)return;et.ep=!0;const tt=$(et);fetch(et.href,tt)}})();var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs$1(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}function getAugmentedNamespace(a){if(a.__esModule)return a;var _=a.default;if(typeof _=="function"){var $=function j(){return this instanceof j?Reflect.construct(_,arguments,this.constructor):_.apply(this,arguments)};$.prototype=_.prototype}else $={};return Object.defineProperty($,"__esModule",{value:!0}),Object.keys(a).forEach(function(j){var et=Object.getOwnPropertyDescriptor(a,j);Object.defineProperty($,j,et.get?et:{enumerable:!0,get:function(){return a[j]}})}),$}var jsxRuntime={exports:{}},reactJsxRuntime_production_min={},react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$2=Symbol.for("react.element"),n$4=Symbol.for("react.portal"),p$4=Symbol.for("react.fragment"),q$3=Symbol.for("react.strict_mode"),r$5=Symbol.for("react.profiler"),t$7=Symbol.for("react.provider"),u$1=Symbol.for("react.context"),v$5=Symbol.for("react.forward_ref"),w$1=Symbol.for("react.suspense"),x$1=Symbol.for("react.memo"),y$1=Symbol.for("react.lazy"),z$3=Symbol.iterator;function A$2(a){return a===null||typeof a!="object"?null:(a=z$3&&a[z$3]||a["@@iterator"],typeof a=="function"?a:null)}var B$1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C$1=Object.assign,D$1={};function E$1(a,_,$){this.props=a,this.context=_,this.refs=D$1,this.updater=$||B$1}E$1.prototype.isReactComponent={};E$1.prototype.setState=function(a,_){if(typeof a!="object"&&typeof a!="function"&&a!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,a,_,"setState")};E$1.prototype.forceUpdate=function(a){this.updater.enqueueForceUpdate(this,a,"forceUpdate")};function F(){}F.prototype=E$1.prototype;function G$1(a,_,$){this.props=a,this.context=_,this.refs=D$1,this.updater=$||B$1}var H$2=G$1.prototype=new F;H$2.constructor=G$1;C$1(H$2,E$1.prototype);H$2.isPureReactComponent=!0;var I$1=Array.isArray,J=Object.prototype.hasOwnProperty,K$7={current:null},L$1={key:!0,ref:!0,__self:!0,__source:!0};function M$1(a,_,$){var j,et={},tt=null,rt=null;if(_!=null)for(j in _.ref!==void 0&&(rt=_.ref),_.key!==void 0&&(tt=""+_.key),_)J.call(_,j)&&!L$1.hasOwnProperty(j)&&(et[j]=_[j]);var nt=arguments.length-2;if(nt===1)et.children=$;else if(1<nt){for(var it=Array(nt),st=0;st<nt;st++)it[st]=arguments[st+2];et.children=it}if(a&&a.defaultProps)for(j in nt=a.defaultProps,nt)et[j]===void 0&&(et[j]=nt[j]);return{$$typeof:l$2,type:a,key:tt,ref:rt,props:et,_owner:K$7.current}}function N$1(a,_){return{$$typeof:l$2,type:a.type,key:_,ref:a.ref,props:a.props,_owner:a._owner}}function O$1(a){return typeof a=="object"&&a!==null&&a.$$typeof===l$2}function escape$3(a){var _={"=":"=0",":":"=2"};return"$"+a.replace(/[=:]/g,function($){return _[$]})}var P$1=/\/+/g;function Q$1(a,_){return typeof a=="object"&&a!==null&&a.key!=null?escape$3(""+a.key):_.toString(36)}function R$2(a,_,$,j,et){var tt=typeof a;(tt==="undefined"||tt==="boolean")&&(a=null);var rt=!1;if(a===null)rt=!0;else switch(tt){case"string":case"number":rt=!0;break;case"object":switch(a.$$typeof){case l$2:case n$4:rt=!0}}if(rt)return rt=a,et=et(rt),a=j===""?"."+Q$1(rt,0):j,I$1(et)?($="",a!=null&&($=a.replace(P$1,"$&/")+"/"),R$2(et,_,$,"",function(st){return st})):et!=null&&(O$1(et)&&(et=N$1(et,$+(!et.key||rt&&rt.key===et.key?"":(""+et.key).replace(P$1,"$&/")+"/")+a)),_.push(et)),1;if(rt=0,j=j===""?".":j+":",I$1(a))for(var nt=0;nt<a.length;nt++){tt=a[nt];var it=j+Q$1(tt,nt);rt+=R$2(tt,_,$,it,et)}else if(it=A$2(a),typeof it=="function")for(a=it.call(a),nt=0;!(tt=a.next()).done;)tt=tt.value,it=j+Q$1(tt,nt++),rt+=R$2(tt,_,$,it,et);else if(tt==="object")throw _=String(a),Error("Objects are not valid as a React child (found: "+(_==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":_)+"). If you meant to render a collection of children, use an array instead.");return rt}function S$1(a,_,$){if(a==null)return a;var j=[],et=0;return R$2(a,j,"","",function(tt){return _.call($,tt,et++)}),j}function T$1(a){if(a._status===-1){var _=a._result;_=_(),_.then(function($){(a._status===0||a._status===-1)&&(a._status=1,a._result=$)},function($){(a._status===0||a._status===-1)&&(a._status=2,a._result=$)}),a._status===-1&&(a._status=0,a._result=_)}if(a._status===1)return a._result.default;throw a._result}var U$1={current:null},V$1={transition:null},W$7={ReactCurrentDispatcher:U$1,ReactCurrentBatchConfig:V$1,ReactCurrentOwner:K$7};function X$1(){throw Error("act(...) is not supported in production builds of React.")}react_production_min.Children={map:S$1,forEach:function(a,_,$){S$1(a,function(){_.apply(this,arguments)},$)},count:function(a){var _=0;return S$1(a,function(){_++}),_},toArray:function(a){return S$1(a,function(_){return _})||[]},only:function(a){if(!O$1(a))throw Error("React.Children.only expected to receive a single React element child.");return a}};react_production_min.Component=E$1;react_production_min.Fragment=p$4;react_production_min.Profiler=r$5;react_production_min.PureComponent=G$1;react_production_min.StrictMode=q$3;react_production_min.Suspense=w$1;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$7;react_production_min.act=X$1;react_production_min.cloneElement=function(a,_,$){if(a==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+a+".");var j=C$1({},a.props),et=a.key,tt=a.ref,rt=a._owner;if(_!=null){if(_.ref!==void 0&&(tt=_.ref,rt=K$7.current),_.key!==void 0&&(et=""+_.key),a.type&&a.type.defaultProps)var nt=a.type.defaultProps;for(it in _)J.call(_,it)&&!L$1.hasOwnProperty(it)&&(j[it]=_[it]===void 0&&nt!==void 0?nt[it]:_[it])}var it=arguments.length-2;if(it===1)j.children=$;else if(1<it){nt=Array(it);for(var st=0;st<it;st++)nt[st]=arguments[st+2];j.children=nt}return{$$typeof:l$2,type:a.type,key:et,ref:tt,props:j,_owner:rt}};react_production_min.createContext=function(a){return a={$$typeof:u$1,_currentValue:a,_currentValue2:a,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},a.Provider={$$typeof:t$7,_context:a},a.Consumer=a};react_production_min.createElement=M$1;react_production_min.createFactory=function(a){var _=M$1.bind(null,a);return _.type=a,_};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function(a){return{$$typeof:v$5,render:a}};react_production_min.isValidElement=O$1;react_production_min.lazy=function(a){return{$$typeof:y$1,_payload:{_status:-1,_result:a},_init:T$1}};react_production_min.memo=function(a,_){return{$$typeof:x$1,type:a,compare:_===void 0?null:_}};react_production_min.startTransition=function(a){var _=V$1.transition;V$1.transition={};try{a()}finally{V$1.transition=_}};react_production_min.unstable_act=X$1;react_production_min.useCallback=function(a,_){return U$1.current.useCallback(a,_)};react_production_min.useContext=function(a){return U$1.current.useContext(a)};react_production_min.useDebugValue=function(){};react_production_min.useDeferredValue=function(a){return U$1.current.useDeferredValue(a)};react_production_min.useEffect=function(a,_){return U$1.current.useEffect(a,_)};react_production_min.useId=function(){return U$1.current.useId()};react_production_min.useImperativeHandle=function(a,_,$){return U$1.current.useImperativeHandle(a,_,$)};react_production_min.useInsertionEffect=function(a,_){return U$1.current.useInsertionEffect(a,_)};react_production_min.useLayoutEffect=function(a,_){return U$1.current.useLayoutEffect(a,_)};react_production_min.useMemo=function(a,_){return U$1.current.useMemo(a,_)};react_production_min.useReducer=function(a,_,$){return U$1.current.useReducer(a,_,$)};react_production_min.useRef=function(a){return U$1.current.useRef(a)};react_production_min.useState=function(a){return U$1.current.useState(a)};react_production_min.useSyncExternalStore=function(a,_,$){return U$1.current.useSyncExternalStore(a,_,$)};react_production_min.useTransition=function(){return U$1.current.useTransition()};react_production_min.version="18.3.1";react.exports=react_production_min;var reactExports=react.exports;const React$2=getDefaultExportFromCjs$1(reactExports),React$3=_mergeNamespaces({__proto__:null,default:React$2},[reactExports]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f$2=reactExports,k$1=Symbol.for("react.element"),l$1=Symbol.for("react.fragment"),m$4=Object.prototype.hasOwnProperty,n$3=f$2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p$3={key:!0,ref:!0,__self:!0,__source:!0};function q$2(a,_,$){var j,et={},tt=null,rt=null;$!==void 0&&(tt=""+$),_.key!==void 0&&(tt=""+_.key),_.ref!==void 0&&(rt=_.ref);for(j in _)m$4.call(_,j)&&!p$3.hasOwnProperty(j)&&(et[j]=_[j]);if(a&&a.defaultProps)for(j in _=a.defaultProps,_)et[j]===void 0&&(et[j]=_[j]);return{$$typeof:k$1,type:a,key:tt,ref:rt,props:et,_owner:n$3.current}}reactJsxRuntime_production_min.Fragment=l$1;reactJsxRuntime_production_min.jsx=q$2;reactJsxRuntime_production_min.jsxs=q$2;jsxRuntime.exports=reactJsxRuntime_production_min;var jsxRuntimeExports=jsxRuntime.exports,client={},reactDom={exports:{}},reactDom_production_min={},scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(a){function _(At,Rt){var St=At.length;At.push(Rt);e:for(;0<St;){var $t=St-1>>>1,Et=At[$t];if(0<et(Et,Rt))At[$t]=Rt,At[St]=Et,St=$t;else break e}}function $(At){return At.length===0?null:At[0]}function j(At){if(At.length===0)return null;var Rt=At[0],St=At.pop();if(St!==Rt){At[0]=St;e:for(var $t=0,Et=At.length,Nt=Et>>>1;$t<Nt;){var tr=2*($t+1)-1,ir=At[tr],nr=tr+1,Zt=At[nr];if(0>et(ir,St))nr<Et&&0>et(Zt,ir)?(At[$t]=Zt,At[nr]=St,$t=nr):(At[$t]=ir,At[tr]=St,$t=tr);else if(nr<Et&&0>et(Zt,St))At[$t]=Zt,At[nr]=St,$t=nr;else break e}}return Rt}function et(At,Rt){var St=At.sortIndex-Rt.sortIndex;return St!==0?St:At.id-Rt.id}if(typeof performance=="object"&&typeof performance.now=="function"){var tt=performance;a.unstable_now=function(){return tt.now()}}else{var rt=Date,nt=rt.now();a.unstable_now=function(){return rt.now()-nt}}var it=[],st=[],ot=1,at=null,ut=3,ht=!1,yt=!1,wt=!1,Ct=typeof setTimeout=="function"?setTimeout:null,Pt=typeof clearTimeout=="function"?clearTimeout:null,Tt=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function Mt(At){for(var Rt=$(st);Rt!==null;){if(Rt.callback===null)j(st);else if(Rt.startTime<=At)j(st),Rt.sortIndex=Rt.expirationTime,_(it,Rt);else break;Rt=$(st)}}function Lt(At){if(wt=!1,Mt(At),!yt)if($(it)!==null)yt=!0,mt(Dt);else{var Rt=$(st);Rt!==null&&xt(Lt,Rt.startTime-At)}}function Dt(At,Rt){yt=!1,wt&&(wt=!1,Pt(It),It=-1),ht=!0;var St=ut;try{for(Mt(Rt),at=$(it);at!==null&&(!(at.expirationTime>Rt)||At&&!jt());){var $t=at.callback;if(typeof $t=="function"){at.callback=null,ut=at.priorityLevel;var Et=$t(at.expirationTime<=Rt);Rt=a.unstable_now(),typeof Et=="function"?at.callback=Et:at===$(it)&&j(it),Mt(Rt)}else j(it);at=$(it)}if(at!==null)var Nt=!0;else{var tr=$(st);tr!==null&&xt(Lt,tr.startTime-Rt),Nt=!1}return Nt}finally{at=null,ut=St,ht=!1}}var Ut=!1,Ot=null,It=-1,Bt=5,Ft=-1;function jt(){return!(a.unstable_now()-Ft<Bt)}function bt(){if(Ot!==null){var At=a.unstable_now();Ft=At;var Rt=!0;try{Rt=Ot(!0,At)}finally{Rt?vt():(Ut=!1,Ot=null)}}else Ut=!1}var vt;if(typeof Tt=="function")vt=function(){Tt(bt)};else if(typeof MessageChannel<"u"){var ct=new MessageChannel,dt=ct.port2;ct.port1.onmessage=bt,vt=function(){dt.postMessage(null)}}else vt=function(){Ct(bt,0)};function mt(At){Ot=At,Ut||(Ut=!0,vt())}function xt(At,Rt){It=Ct(function(){At(a.unstable_now())},Rt)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(At){At.callback=null},a.unstable_continueExecution=function(){yt||ht||(yt=!0,mt(Dt))},a.unstable_forceFrameRate=function(At){0>At||125<At?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Bt=0<At?Math.floor(1e3/At):5},a.unstable_getCurrentPriorityLevel=function(){return ut},a.unstable_getFirstCallbackNode=function(){return $(it)},a.unstable_next=function(At){switch(ut){case 1:case 2:case 3:var Rt=3;break;default:Rt=ut}var St=ut;ut=Rt;try{return At()}finally{ut=St}},a.unstable_pauseExecution=function(){},a.unstable_requestPaint=function(){},a.unstable_runWithPriority=function(At,Rt){switch(At){case 1:case 2:case 3:case 4:case 5:break;default:At=3}var St=ut;ut=At;try{return Rt()}finally{ut=St}},a.unstable_scheduleCallback=function(At,Rt,St){var $t=a.unstable_now();switch(typeof St=="object"&&St!==null?(St=St.delay,St=typeof St=="number"&&0<St?$t+St:$t):St=$t,At){case 1:var Et=-1;break;case 2:Et=250;break;case 5:Et=1073741823;break;case 4:Et=1e4;break;default:Et=5e3}return Et=St+Et,At={id:ot++,callback:Rt,priorityLevel:At,startTime:St,expirationTime:Et,sortIndex:-1},St>$t?(At.sortIndex=St,_(st,At),$(it)===null&&At===$(st)&&(wt?(Pt(It),It=-1):wt=!0,xt(Lt,St-$t))):(At.sortIndex=Et,_(it,At),yt||ht||(yt=!0,mt(Dt))),At},a.unstable_shouldYield=jt,a.unstable_wrapCallback=function(At){var Rt=ut;return function(){var St=ut;ut=Rt;try{return At.apply(this,arguments)}finally{ut=St}}}})(scheduler_production_min);scheduler.exports=scheduler_production_min;var schedulerExports=scheduler.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa=reactExports,ca=schedulerExports;function p$2(a){for(var _="https://reactjs.org/docs/error-decoder.html?invariant="+a,$=1;$<arguments.length;$++)_+="&args[]="+encodeURIComponent(arguments[$]);return"Minified React error #"+a+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var da=new Set,ea={};function fa(a,_){ha(a,_),ha(a+"Capture",_)}function ha(a,_){for(ea[a]=_,a=0;a<_.length;a++)da.add(_[a])}var ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ja=Object.prototype.hasOwnProperty,ka=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,la={},ma={};function oa(a){return ja.call(ma,a)?!0:ja.call(la,a)?!1:ka.test(a)?ma[a]=!0:(la[a]=!0,!1)}function pa(a,_,$,j){if($!==null&&$.type===0)return!1;switch(typeof _){case"function":case"symbol":return!0;case"boolean":return j?!1:$!==null?!$.acceptsBooleans:(a=a.toLowerCase().slice(0,5),a!=="data-"&&a!=="aria-");default:return!1}}function qa(a,_,$,j){if(_===null||typeof _>"u"||pa(a,_,$,j))return!0;if(j)return!1;if($!==null)switch($.type){case 3:return!_;case 4:return _===!1;case 5:return isNaN(_);case 6:return isNaN(_)||1>_}return!1}function v$4(a,_,$,j,et,tt,rt){this.acceptsBooleans=_===2||_===3||_===4,this.attributeName=j,this.attributeNamespace=et,this.mustUseProperty=$,this.propertyName=a,this.type=_,this.sanitizeURL=tt,this.removeEmptyString=rt}var z$2={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(a){z$2[a]=new v$4(a,0,!1,a,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(a){var _=a[0];z$2[_]=new v$4(_,1,!1,a[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(a){z$2[a]=new v$4(a,2,!1,a.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(a){z$2[a]=new v$4(a,2,!1,a,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(a){z$2[a]=new v$4(a,3,!1,a.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(a){z$2[a]=new v$4(a,3,!0,a,null,!1,!1)});["capture","download"].forEach(function(a){z$2[a]=new v$4(a,4,!1,a,null,!1,!1)});["cols","rows","size","span"].forEach(function(a){z$2[a]=new v$4(a,6,!1,a,null,!1,!1)});["rowSpan","start"].forEach(function(a){z$2[a]=new v$4(a,5,!1,a.toLowerCase(),null,!1,!1)});var ra=/[\-:]([a-z])/g;function sa(a){return a[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(a){var _=a.replace(ra,sa);z$2[_]=new v$4(_,1,!1,a,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(a){var _=a.replace(ra,sa);z$2[_]=new v$4(_,1,!1,a,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(a){var _=a.replace(ra,sa);z$2[_]=new v$4(_,1,!1,a,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(a){z$2[a]=new v$4(a,1,!1,a.toLowerCase(),null,!1,!1)});z$2.xlinkHref=new v$4("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(a){z$2[a]=new v$4(a,1,!1,a.toLowerCase(),null,!0,!0)});function ta(a,_,$,j){var et=z$2.hasOwnProperty(_)?z$2[_]:null;(et!==null?et.type!==0:j||!(2<_.length)||_[0]!=="o"&&_[0]!=="O"||_[1]!=="n"&&_[1]!=="N")&&(qa(_,$,et,j)&&($=null),j||et===null?oa(_)&&($===null?a.removeAttribute(_):a.setAttribute(_,""+$)):et.mustUseProperty?a[et.propertyName]=$===null?et.type===3?!1:"":$:(_=et.attributeName,j=et.attributeNamespace,$===null?a.removeAttribute(_):(et=et.type,$=et===3||et===4&&$===!0?"":""+$,j?a.setAttributeNS(j,_,$):a.setAttribute(_,$))))}var ua=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va=Symbol.for("react.element"),wa=Symbol.for("react.portal"),ya=Symbol.for("react.fragment"),za=Symbol.for("react.strict_mode"),Aa=Symbol.for("react.profiler"),Ba=Symbol.for("react.provider"),Ca=Symbol.for("react.context"),Da=Symbol.for("react.forward_ref"),Ea=Symbol.for("react.suspense"),Fa=Symbol.for("react.suspense_list"),Ga=Symbol.for("react.memo"),Ha=Symbol.for("react.lazy"),Ia=Symbol.for("react.offscreen"),Ja=Symbol.iterator;function Ka(a){return a===null||typeof a!="object"?null:(a=Ja&&a[Ja]||a["@@iterator"],typeof a=="function"?a:null)}var A$1=Object.assign,La;function Ma(a){if(La===void 0)try{throw Error()}catch($){var _=$.stack.trim().match(/\n( *(at )?)/);La=_&&_[1]||""}return`
`+La+a}var Na=!1;function Oa(a,_){if(!a||Na)return"";Na=!0;var $=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(_)if(_=function(){throw Error()},Object.defineProperty(_.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(_,[])}catch(st){var j=st}Reflect.construct(a,[],_)}else{try{_.call()}catch(st){j=st}a.call(_.prototype)}else{try{throw Error()}catch(st){j=st}a()}}catch(st){if(st&&j&&typeof st.stack=="string"){for(var et=st.stack.split(`
`),tt=j.stack.split(`
`),rt=et.length-1,nt=tt.length-1;1<=rt&&0<=nt&&et[rt]!==tt[nt];)nt--;for(;1<=rt&&0<=nt;rt--,nt--)if(et[rt]!==tt[nt]){if(rt!==1||nt!==1)do if(rt--,nt--,0>nt||et[rt]!==tt[nt]){var it=`
`+et[rt].replace(" at new "," at ");return a.displayName&&it.includes("<anonymous>")&&(it=it.replace("<anonymous>",a.displayName)),it}while(1<=rt&&0<=nt);break}}}finally{Na=!1,Error.prepareStackTrace=$}return(a=a?a.displayName||a.name:"")?Ma(a):""}function Pa(a){switch(a.tag){case 5:return Ma(a.type);case 16:return Ma("Lazy");case 13:return Ma("Suspense");case 19:return Ma("SuspenseList");case 0:case 2:case 15:return a=Oa(a.type,!1),a;case 11:return a=Oa(a.type.render,!1),a;case 1:return a=Oa(a.type,!0),a;default:return""}}function Qa(a){if(a==null)return null;if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case ya:return"Fragment";case wa:return"Portal";case Aa:return"Profiler";case za:return"StrictMode";case Ea:return"Suspense";case Fa:return"SuspenseList"}if(typeof a=="object")switch(a.$$typeof){case Ca:return(a.displayName||"Context")+".Consumer";case Ba:return(a._context.displayName||"Context")+".Provider";case Da:var _=a.render;return a=a.displayName,a||(a=_.displayName||_.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case Ga:return _=a.displayName||null,_!==null?_:Qa(a.type)||"Memo";case Ha:_=a._payload,a=a._init;try{return Qa(a(_))}catch{}}return null}function Ra(a){var _=a.type;switch(a.tag){case 24:return"Cache";case 9:return(_.displayName||"Context")+".Consumer";case 10:return(_._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return a=_.render,a=a.displayName||a.name||"",_.displayName||(a!==""?"ForwardRef("+a+")":"ForwardRef");case 7:return"Fragment";case 5:return _;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa(_);case 8:return _===za?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof _=="function")return _.displayName||_.name||null;if(typeof _=="string")return _}return null}function Sa(a){switch(typeof a){case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function Ta(a){var _=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(_==="checkbox"||_==="radio")}function Ua(a){var _=Ta(a)?"checked":"value",$=Object.getOwnPropertyDescriptor(a.constructor.prototype,_),j=""+a[_];if(!a.hasOwnProperty(_)&&typeof $<"u"&&typeof $.get=="function"&&typeof $.set=="function"){var et=$.get,tt=$.set;return Object.defineProperty(a,_,{configurable:!0,get:function(){return et.call(this)},set:function(rt){j=""+rt,tt.call(this,rt)}}),Object.defineProperty(a,_,{enumerable:$.enumerable}),{getValue:function(){return j},setValue:function(rt){j=""+rt},stopTracking:function(){a._valueTracker=null,delete a[_]}}}}function Va(a){a._valueTracker||(a._valueTracker=Ua(a))}function Wa(a){if(!a)return!1;var _=a._valueTracker;if(!_)return!0;var $=_.getValue(),j="";return a&&(j=Ta(a)?a.checked?"true":"false":a.value),a=j,a!==$?(_.setValue(a),!0):!1}function Xa(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}function Ya(a,_){var $=_.checked;return A$1({},_,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:$??a._wrapperState.initialChecked})}function Za(a,_){var $=_.defaultValue==null?"":_.defaultValue,j=_.checked!=null?_.checked:_.defaultChecked;$=Sa(_.value!=null?_.value:$),a._wrapperState={initialChecked:j,initialValue:$,controlled:_.type==="checkbox"||_.type==="radio"?_.checked!=null:_.value!=null}}function ab(a,_){_=_.checked,_!=null&&ta(a,"checked",_,!1)}function bb(a,_){ab(a,_);var $=Sa(_.value),j=_.type;if($!=null)j==="number"?($===0&&a.value===""||a.value!=$)&&(a.value=""+$):a.value!==""+$&&(a.value=""+$);else if(j==="submit"||j==="reset"){a.removeAttribute("value");return}_.hasOwnProperty("value")?cb(a,_.type,$):_.hasOwnProperty("defaultValue")&&cb(a,_.type,Sa(_.defaultValue)),_.checked==null&&_.defaultChecked!=null&&(a.defaultChecked=!!_.defaultChecked)}function db(a,_,$){if(_.hasOwnProperty("value")||_.hasOwnProperty("defaultValue")){var j=_.type;if(!(j!=="submit"&&j!=="reset"||_.value!==void 0&&_.value!==null))return;_=""+a._wrapperState.initialValue,$||_===a.value||(a.value=_),a.defaultValue=_}$=a.name,$!==""&&(a.name=""),a.defaultChecked=!!a._wrapperState.initialChecked,$!==""&&(a.name=$)}function cb(a,_,$){(_!=="number"||Xa(a.ownerDocument)!==a)&&($==null?a.defaultValue=""+a._wrapperState.initialValue:a.defaultValue!==""+$&&(a.defaultValue=""+$))}var eb=Array.isArray;function fb(a,_,$,j){if(a=a.options,_){_={};for(var et=0;et<$.length;et++)_["$"+$[et]]=!0;for($=0;$<a.length;$++)et=_.hasOwnProperty("$"+a[$].value),a[$].selected!==et&&(a[$].selected=et),et&&j&&(a[$].defaultSelected=!0)}else{for($=""+Sa($),_=null,et=0;et<a.length;et++){if(a[et].value===$){a[et].selected=!0,j&&(a[et].defaultSelected=!0);return}_!==null||a[et].disabled||(_=a[et])}_!==null&&(_.selected=!0)}}function gb(a,_){if(_.dangerouslySetInnerHTML!=null)throw Error(p$2(91));return A$1({},_,{value:void 0,defaultValue:void 0,children:""+a._wrapperState.initialValue})}function hb(a,_){var $=_.value;if($==null){if($=_.children,_=_.defaultValue,$!=null){if(_!=null)throw Error(p$2(92));if(eb($)){if(1<$.length)throw Error(p$2(93));$=$[0]}_=$}_==null&&(_=""),$=_}a._wrapperState={initialValue:Sa($)}}function ib(a,_){var $=Sa(_.value),j=Sa(_.defaultValue);$!=null&&($=""+$,$!==a.value&&(a.value=$),_.defaultValue==null&&a.defaultValue!==$&&(a.defaultValue=$)),j!=null&&(a.defaultValue=""+j)}function jb(a){var _=a.textContent;_===a._wrapperState.initialValue&&_!==""&&_!==null&&(a.value=_)}function kb(a){switch(a){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lb(a,_){return a==null||a==="http://www.w3.org/1999/xhtml"?kb(_):a==="http://www.w3.org/2000/svg"&&_==="foreignObject"?"http://www.w3.org/1999/xhtml":a}var mb,nb=function(a){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(_,$,j,et){MSApp.execUnsafeLocalFunction(function(){return a(_,$,j,et)})}:a}(function(a,_){if(a.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in a)a.innerHTML=_;else{for(mb=mb||document.createElement("div"),mb.innerHTML="<svg>"+_.valueOf().toString()+"</svg>",_=mb.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;_.firstChild;)a.appendChild(_.firstChild)}});function ob(a,_){if(_){var $=a.firstChild;if($&&$===a.lastChild&&$.nodeType===3){$.nodeValue=_;return}}a.textContent=_}var pb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb=["Webkit","ms","Moz","O"];Object.keys(pb).forEach(function(a){qb.forEach(function(_){_=_+a.charAt(0).toUpperCase()+a.substring(1),pb[_]=pb[a]})});function rb(a,_,$){return _==null||typeof _=="boolean"||_===""?"":$||typeof _!="number"||_===0||pb.hasOwnProperty(a)&&pb[a]?(""+_).trim():_+"px"}function sb(a,_){a=a.style;for(var $ in _)if(_.hasOwnProperty($)){var j=$.indexOf("--")===0,et=rb($,_[$],j);$==="float"&&($="cssFloat"),j?a.setProperty($,et):a[$]=et}}var tb=A$1({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ub(a,_){if(_){if(tb[a]&&(_.children!=null||_.dangerouslySetInnerHTML!=null))throw Error(p$2(137,a));if(_.dangerouslySetInnerHTML!=null){if(_.children!=null)throw Error(p$2(60));if(typeof _.dangerouslySetInnerHTML!="object"||!("__html"in _.dangerouslySetInnerHTML))throw Error(p$2(61))}if(_.style!=null&&typeof _.style!="object")throw Error(p$2(62))}}function vb(a,_){if(a.indexOf("-")===-1)return typeof _.is=="string";switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wb=null;function xb(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var yb=null,zb=null,Ab=null;function Bb(a){if(a=Cb(a)){if(typeof yb!="function")throw Error(p$2(280));var _=a.stateNode;_&&(_=Db(_),yb(a.stateNode,a.type,_))}}function Eb(a){zb?Ab?Ab.push(a):Ab=[a]:zb=a}function Fb(){if(zb){var a=zb,_=Ab;if(Ab=zb=null,Bb(a),_)for(a=0;a<_.length;a++)Bb(_[a])}}function Gb(a,_){return a(_)}function Hb(){}var Ib=!1;function Jb(a,_,$){if(Ib)return a(_,$);Ib=!0;try{return Gb(a,_,$)}finally{Ib=!1,(zb!==null||Ab!==null)&&(Hb(),Fb())}}function Kb(a,_){var $=a.stateNode;if($===null)return null;var j=Db($);if(j===null)return null;$=j[_];e:switch(_){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(j=!j.disabled)||(a=a.type,j=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!j;break e;default:a=!1}if(a)return null;if($&&typeof $!="function")throw Error(p$2(231,_,typeof $));return $}var Lb=!1;if(ia)try{var Mb={};Object.defineProperty(Mb,"passive",{get:function(){Lb=!0}}),window.addEventListener("test",Mb,Mb),window.removeEventListener("test",Mb,Mb)}catch{Lb=!1}function Nb(a,_,$,j,et,tt,rt,nt,it){var st=Array.prototype.slice.call(arguments,3);try{_.apply($,st)}catch(ot){this.onError(ot)}}var Ob=!1,Pb=null,Qb=!1,Rb=null,Sb={onError:function(a){Ob=!0,Pb=a}};function Tb(a,_,$,j,et,tt,rt,nt,it){Ob=!1,Pb=null,Nb.apply(Sb,arguments)}function Ub(a,_,$,j,et,tt,rt,nt,it){if(Tb.apply(this,arguments),Ob){if(Ob){var st=Pb;Ob=!1,Pb=null}else throw Error(p$2(198));Qb||(Qb=!0,Rb=st)}}function Vb(a){var _=a,$=a;if(a.alternate)for(;_.return;)_=_.return;else{a=_;do _=a,_.flags&4098&&($=_.return),a=_.return;while(a)}return _.tag===3?$:null}function Wb(a){if(a.tag===13){var _=a.memoizedState;if(_===null&&(a=a.alternate,a!==null&&(_=a.memoizedState)),_!==null)return _.dehydrated}return null}function Xb(a){if(Vb(a)!==a)throw Error(p$2(188))}function Yb(a){var _=a.alternate;if(!_){if(_=Vb(a),_===null)throw Error(p$2(188));return _!==a?null:a}for(var $=a,j=_;;){var et=$.return;if(et===null)break;var tt=et.alternate;if(tt===null){if(j=et.return,j!==null){$=j;continue}break}if(et.child===tt.child){for(tt=et.child;tt;){if(tt===$)return Xb(et),a;if(tt===j)return Xb(et),_;tt=tt.sibling}throw Error(p$2(188))}if($.return!==j.return)$=et,j=tt;else{for(var rt=!1,nt=et.child;nt;){if(nt===$){rt=!0,$=et,j=tt;break}if(nt===j){rt=!0,j=et,$=tt;break}nt=nt.sibling}if(!rt){for(nt=tt.child;nt;){if(nt===$){rt=!0,$=tt,j=et;break}if(nt===j){rt=!0,j=tt,$=et;break}nt=nt.sibling}if(!rt)throw Error(p$2(189))}}if($.alternate!==j)throw Error(p$2(190))}if($.tag!==3)throw Error(p$2(188));return $.stateNode.current===$?a:_}function Zb(a){return a=Yb(a),a!==null?$b(a):null}function $b(a){if(a.tag===5||a.tag===6)return a;for(a=a.child;a!==null;){var _=$b(a);if(_!==null)return _;a=a.sibling}return null}var ac=ca.unstable_scheduleCallback,bc=ca.unstable_cancelCallback,cc=ca.unstable_shouldYield,dc=ca.unstable_requestPaint,B=ca.unstable_now,ec$6=ca.unstable_getCurrentPriorityLevel,fc=ca.unstable_ImmediatePriority,gc=ca.unstable_UserBlockingPriority,hc=ca.unstable_NormalPriority,ic=ca.unstable_LowPriority,jc=ca.unstable_IdlePriority,kc=null,lc=null;function mc(a){if(lc&&typeof lc.onCommitFiberRoot=="function")try{lc.onCommitFiberRoot(kc,a,void 0,(a.current.flags&128)===128)}catch{}}var oc=Math.clz32?Math.clz32:nc,pc=Math.log,qc=Math.LN2;function nc(a){return a>>>=0,a===0?32:31-(pc(a)/qc|0)|0}var rc=64,sc=4194304;function tc(a){switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return a&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return a}}function uc(a,_){var $=a.pendingLanes;if($===0)return 0;var j=0,et=a.suspendedLanes,tt=a.pingedLanes,rt=$&268435455;if(rt!==0){var nt=rt&~et;nt!==0?j=tc(nt):(tt&=rt,tt!==0&&(j=tc(tt)))}else rt=$&~et,rt!==0?j=tc(rt):tt!==0&&(j=tc(tt));if(j===0)return 0;if(_!==0&&_!==j&&!(_&et)&&(et=j&-j,tt=_&-_,et>=tt||et===16&&(tt&4194240)!==0))return _;if(j&4&&(j|=$&16),_=a.entangledLanes,_!==0)for(a=a.entanglements,_&=j;0<_;)$=31-oc(_),et=1<<$,j|=a[$],_&=~et;return j}function vc(a,_){switch(a){case 1:case 2:case 4:return _+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return _+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc(a,_){for(var $=a.suspendedLanes,j=a.pingedLanes,et=a.expirationTimes,tt=a.pendingLanes;0<tt;){var rt=31-oc(tt),nt=1<<rt,it=et[rt];it===-1?(!(nt&$)||nt&j)&&(et[rt]=vc(nt,_)):it<=_&&(a.expiredLanes|=nt),tt&=~nt}}function xc(a){return a=a.pendingLanes&-1073741825,a!==0?a:a&1073741824?1073741824:0}function yc(){var a=rc;return rc<<=1,!(rc&4194240)&&(rc=64),a}function zc(a){for(var _=[],$=0;31>$;$++)_.push(a);return _}function Ac(a,_,$){a.pendingLanes|=_,_!==536870912&&(a.suspendedLanes=0,a.pingedLanes=0),a=a.eventTimes,_=31-oc(_),a[_]=$}function Bc(a,_){var $=a.pendingLanes&~_;a.pendingLanes=_,a.suspendedLanes=0,a.pingedLanes=0,a.expiredLanes&=_,a.mutableReadLanes&=_,a.entangledLanes&=_,_=a.entanglements;var j=a.eventTimes;for(a=a.expirationTimes;0<$;){var et=31-oc($),tt=1<<et;_[et]=0,j[et]=-1,a[et]=-1,$&=~tt}}function Cc(a,_){var $=a.entangledLanes|=_;for(a=a.entanglements;$;){var j=31-oc($),et=1<<j;et&_|a[j]&_&&(a[j]|=_),$&=~et}}var C=0;function Dc(a){return a&=-a,1<a?4<a?a&268435455?16:536870912:4:1}var Ec,Fc,Gc,Hc,Ic,Jc=!1,Kc=[],Lc=null,Mc=null,Nc=null,Oc=new Map,Pc=new Map,Qc=[],Rc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sc(a,_){switch(a){case"focusin":case"focusout":Lc=null;break;case"dragenter":case"dragleave":Mc=null;break;case"mouseover":case"mouseout":Nc=null;break;case"pointerover":case"pointerout":Oc.delete(_.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc.delete(_.pointerId)}}function Tc(a,_,$,j,et,tt){return a===null||a.nativeEvent!==tt?(a={blockedOn:_,domEventName:$,eventSystemFlags:j,nativeEvent:tt,targetContainers:[et]},_!==null&&(_=Cb(_),_!==null&&Fc(_)),a):(a.eventSystemFlags|=j,_=a.targetContainers,et!==null&&_.indexOf(et)===-1&&_.push(et),a)}function Uc(a,_,$,j,et){switch(_){case"focusin":return Lc=Tc(Lc,a,_,$,j,et),!0;case"dragenter":return Mc=Tc(Mc,a,_,$,j,et),!0;case"mouseover":return Nc=Tc(Nc,a,_,$,j,et),!0;case"pointerover":var tt=et.pointerId;return Oc.set(tt,Tc(Oc.get(tt)||null,a,_,$,j,et)),!0;case"gotpointercapture":return tt=et.pointerId,Pc.set(tt,Tc(Pc.get(tt)||null,a,_,$,j,et)),!0}return!1}function Vc(a){var _=Wc(a.target);if(_!==null){var $=Vb(_);if($!==null){if(_=$.tag,_===13){if(_=Wb($),_!==null){a.blockedOn=_,Ic(a.priority,function(){Gc($)});return}}else if(_===3&&$.stateNode.current.memoizedState.isDehydrated){a.blockedOn=$.tag===3?$.stateNode.containerInfo:null;return}}}a.blockedOn=null}function Xc(a){if(a.blockedOn!==null)return!1;for(var _=a.targetContainers;0<_.length;){var $=Yc(a.domEventName,a.eventSystemFlags,_[0],a.nativeEvent);if($===null){$=a.nativeEvent;var j=new $.constructor($.type,$);wb=j,$.target.dispatchEvent(j),wb=null}else return _=Cb($),_!==null&&Fc(_),a.blockedOn=$,!1;_.shift()}return!0}function Zc(a,_,$){Xc(a)&&$.delete(_)}function $c(){Jc=!1,Lc!==null&&Xc(Lc)&&(Lc=null),Mc!==null&&Xc(Mc)&&(Mc=null),Nc!==null&&Xc(Nc)&&(Nc=null),Oc.forEach(Zc),Pc.forEach(Zc)}function ad(a,_){a.blockedOn===_&&(a.blockedOn=null,Jc||(Jc=!0,ca.unstable_scheduleCallback(ca.unstable_NormalPriority,$c)))}function bd(a){function _(et){return ad(et,a)}if(0<Kc.length){ad(Kc[0],a);for(var $=1;$<Kc.length;$++){var j=Kc[$];j.blockedOn===a&&(j.blockedOn=null)}}for(Lc!==null&&ad(Lc,a),Mc!==null&&ad(Mc,a),Nc!==null&&ad(Nc,a),Oc.forEach(_),Pc.forEach(_),$=0;$<Qc.length;$++)j=Qc[$],j.blockedOn===a&&(j.blockedOn=null);for(;0<Qc.length&&($=Qc[0],$.blockedOn===null);)Vc($),$.blockedOn===null&&Qc.shift()}var cd=ua.ReactCurrentBatchConfig,dd=!0;function ed(a,_,$,j){var et=C,tt=cd.transition;cd.transition=null;try{C=1,fd(a,_,$,j)}finally{C=et,cd.transition=tt}}function gd(a,_,$,j){var et=C,tt=cd.transition;cd.transition=null;try{C=4,fd(a,_,$,j)}finally{C=et,cd.transition=tt}}function fd(a,_,$,j){if(dd){var et=Yc(a,_,$,j);if(et===null)hd(a,_,j,id$3,$),Sc(a,j);else if(Uc(et,a,_,$,j))j.stopPropagation();else if(Sc(a,j),_&4&&-1<Rc.indexOf(a)){for(;et!==null;){var tt=Cb(et);if(tt!==null&&Ec(tt),tt=Yc(a,_,$,j),tt===null&&hd(a,_,j,id$3,$),tt===et)break;et=tt}et!==null&&j.stopPropagation()}else hd(a,_,j,null,$)}}var id$3=null;function Yc(a,_,$,j){if(id$3=null,a=xb(j),a=Wc(a),a!==null)if(_=Vb(a),_===null)a=null;else if($=_.tag,$===13){if(a=Wb(_),a!==null)return a;a=null}else if($===3){if(_.stateNode.current.memoizedState.isDehydrated)return _.tag===3?_.stateNode.containerInfo:null;a=null}else _!==a&&(a=null);return id$3=a,null}function jd(a){switch(a){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ec$6()){case fc:return 1;case gc:return 4;case hc:case ic:return 16;case jc:return 536870912;default:return 16}default:return 16}}var kd=null,ld=null,md=null;function nd(){if(md)return md;var a,_=ld,$=_.length,j,et="value"in kd?kd.value:kd.textContent,tt=et.length;for(a=0;a<$&&_[a]===et[a];a++);var rt=$-a;for(j=1;j<=rt&&_[$-j]===et[tt-j];j++);return md=et.slice(a,1<j?1-j:void 0)}function od(a){var _=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&_===13&&(a=13)):a=_,a===10&&(a=13),32<=a||a===13?a:0}function pd(){return!0}function qd(){return!1}function rd(a){function _($,j,et,tt,rt){this._reactName=$,this._targetInst=et,this.type=j,this.nativeEvent=tt,this.target=rt,this.currentTarget=null;for(var nt in a)a.hasOwnProperty(nt)&&($=a[nt],this[nt]=$?$(tt):tt[nt]);return this.isDefaultPrevented=(tt.defaultPrevented!=null?tt.defaultPrevented:tt.returnValue===!1)?pd:qd,this.isPropagationStopped=qd,this}return A$1(_.prototype,{preventDefault:function(){this.defaultPrevented=!0;var $=this.nativeEvent;$&&($.preventDefault?$.preventDefault():typeof $.returnValue!="unknown"&&($.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var $=this.nativeEvent;$&&($.stopPropagation?$.stopPropagation():typeof $.cancelBubble!="unknown"&&($.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd}),_}var sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=A$1({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=A$1({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==yd&&(yd&&a.type==="mousemove"?(wd=a.screenX-yd.screenX,xd=a.screenY-yd.screenY):xd=wd=0,yd=a),wd)},movementY:function(a){return"movementY"in a?a.movementY:xd}}),Bd=rd(Ad),Cd=A$1({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=A$1({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=A$1({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=A$1({},sd,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=A$1({},sd,{data:0}),Ld=rd(Kd),Md={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd(a){var _=this.nativeEvent;return _.getModifierState?_.getModifierState(a):(a=Od[a])?!!_[a]:!1}function zd(){return Pd}var Qd=A$1({},ud,{key:function(a){if(a.key){var _=Md[a.key]||a.key;if(_!=="Unidentified")return _}return a.type==="keypress"?(a=od(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?Nd[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(a){return a.type==="keypress"?od(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?od(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),Rd=rd(Qd),Sd=A$1({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td$1=rd(Sd),Ud=A$1({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=A$1({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=A$1({},Ad,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae=ia&&"CompositionEvent"in window,be=null;ia&&"documentMode"in document&&(be=document.documentMode);var ce=ia&&"TextEvent"in window&&!be,de=ia&&(!ae||be&&8<be&&11>=be),ee=" ",fe=!1;function ge(a,_){switch(a){case"keyup":return $d.indexOf(_.keyCode)!==-1;case"keydown":return _.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var ie=!1;function je(a,_){switch(a){case"compositionend":return he(_);case"keypress":return _.which!==32?null:(fe=!0,ee);case"textInput":return a=_.data,a===ee&&fe?null:a;default:return null}}function ke(a,_){if(ie)return a==="compositionend"||!ae&&ge(a,_)?(a=nd(),md=ld=kd=null,ie=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(_.ctrlKey||_.altKey||_.metaKey)||_.ctrlKey&&_.altKey){if(_.char&&1<_.char.length)return _.char;if(_.which)return String.fromCharCode(_.which)}return null;case"compositionend":return de&&_.locale!=="ko"?null:_.data;default:return null}}var le={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me(a){var _=a&&a.nodeName&&a.nodeName.toLowerCase();return _==="input"?!!le[a.type]:_==="textarea"}function ne(a,_,$,j){Eb(j),_=oe(_,"onChange"),0<_.length&&($=new td("onChange","change",null,$,j),a.push({event:$,listeners:_}))}var pe=null,qe=null;function re$4(a){se(a,0)}function te(a){var _=ue(a);if(Wa(_))return a}function ve(a,_){if(a==="change")return _}var we=!1;if(ia){var xe;if(ia){var ye="oninput"in document;if(!ye){var ze=document.createElement("div");ze.setAttribute("oninput","return;"),ye=typeof ze.oninput=="function"}xe=ye}else xe=!1;we=xe&&(!document.documentMode||9<document.documentMode)}function Ae(){pe&&(pe.detachEvent("onpropertychange",Be),qe=pe=null)}function Be(a){if(a.propertyName==="value"&&te(qe)){var _=[];ne(_,qe,a,xb(a)),Jb(re$4,_)}}function Ce(a,_,$){a==="focusin"?(Ae(),pe=_,qe=$,pe.attachEvent("onpropertychange",Be)):a==="focusout"&&Ae()}function De(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return te(qe)}function Ee(a,_){if(a==="click")return te(_)}function Fe(a,_){if(a==="input"||a==="change")return te(_)}function Ge(a,_){return a===_&&(a!==0||1/a===1/_)||a!==a&&_!==_}var He=typeof Object.is=="function"?Object.is:Ge;function Ie(a,_){if(He(a,_))return!0;if(typeof a!="object"||a===null||typeof _!="object"||_===null)return!1;var $=Object.keys(a),j=Object.keys(_);if($.length!==j.length)return!1;for(j=0;j<$.length;j++){var et=$[j];if(!ja.call(_,et)||!He(a[et],_[et]))return!1}return!0}function Je(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function Ke(a,_){var $=Je(a);a=0;for(var j;$;){if($.nodeType===3){if(j=a+$.textContent.length,a<=_&&j>=_)return{node:$,offset:_-a};a=j}e:{for(;$;){if($.nextSibling){$=$.nextSibling;break e}$=$.parentNode}$=void 0}$=Je($)}}function Le(a,_){return a&&_?a===_?!0:a&&a.nodeType===3?!1:_&&_.nodeType===3?Le(a,_.parentNode):"contains"in a?a.contains(_):a.compareDocumentPosition?!!(a.compareDocumentPosition(_)&16):!1:!1}function Me(){for(var a=window,_=Xa();_ instanceof a.HTMLIFrameElement;){try{var $=typeof _.contentWindow.location.href=="string"}catch{$=!1}if($)a=_.contentWindow;else break;_=Xa(a.document)}return _}function Ne(a){var _=a&&a.nodeName&&a.nodeName.toLowerCase();return _&&(_==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||_==="textarea"||a.contentEditable==="true")}function Oe(a){var _=Me(),$=a.focusedElem,j=a.selectionRange;if(_!==$&&$&&$.ownerDocument&&Le($.ownerDocument.documentElement,$)){if(j!==null&&Ne($)){if(_=j.start,a=j.end,a===void 0&&(a=_),"selectionStart"in $)$.selectionStart=_,$.selectionEnd=Math.min(a,$.value.length);else if(a=(_=$.ownerDocument||document)&&_.defaultView||window,a.getSelection){a=a.getSelection();var et=$.textContent.length,tt=Math.min(j.start,et);j=j.end===void 0?tt:Math.min(j.end,et),!a.extend&&tt>j&&(et=j,j=tt,tt=et),et=Ke($,tt);var rt=Ke($,j);et&&rt&&(a.rangeCount!==1||a.anchorNode!==et.node||a.anchorOffset!==et.offset||a.focusNode!==rt.node||a.focusOffset!==rt.offset)&&(_=_.createRange(),_.setStart(et.node,et.offset),a.removeAllRanges(),tt>j?(a.addRange(_),a.extend(rt.node,rt.offset)):(_.setEnd(rt.node,rt.offset),a.addRange(_)))}}for(_=[],a=$;a=a.parentNode;)a.nodeType===1&&_.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof $.focus=="function"&&$.focus(),$=0;$<_.length;$++)a=_[$],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var Pe=ia&&"documentMode"in document&&11>=document.documentMode,Qe=null,Re=null,Se=null,Te=!1;function Ue(a,_,$){var j=$.window===$?$.document:$.nodeType===9?$:$.ownerDocument;Te||Qe==null||Qe!==Xa(j)||(j=Qe,"selectionStart"in j&&Ne(j)?j={start:j.selectionStart,end:j.selectionEnd}:(j=(j.ownerDocument&&j.ownerDocument.defaultView||window).getSelection(),j={anchorNode:j.anchorNode,anchorOffset:j.anchorOffset,focusNode:j.focusNode,focusOffset:j.focusOffset}),Se&&Ie(Se,j)||(Se=j,j=oe(Re,"onSelect"),0<j.length&&(_=new td("onSelect","select",null,_,$),a.push({event:_,listeners:j}),_.target=Qe)))}function Ve(a,_){var $={};return $[a.toLowerCase()]=_.toLowerCase(),$["Webkit"+a]="webkit"+_,$["Moz"+a]="moz"+_,$}var We={animationend:Ve("Animation","AnimationEnd"),animationiteration:Ve("Animation","AnimationIteration"),animationstart:Ve("Animation","AnimationStart"),transitionend:Ve("Transition","TransitionEnd")},Xe={},Ye={};ia&&(Ye=document.createElement("div").style,"AnimationEvent"in window||(delete We.animationend.animation,delete We.animationiteration.animation,delete We.animationstart.animation),"TransitionEvent"in window||delete We.transitionend.transition);function Ze(a){if(Xe[a])return Xe[a];if(!We[a])return a;var _=We[a],$;for($ in _)if(_.hasOwnProperty($)&&$ in Ye)return Xe[a]=_[$];return a}var $e=Ze("animationend"),af=Ze("animationiteration"),bf=Ze("animationstart"),cf=Ze("transitionend"),df=new Map,ef="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ff(a,_){df.set(a,_),fa(_,[a])}for(var gf=0;gf<ef.length;gf++){var hf=ef[gf],jf=hf.toLowerCase(),kf=hf[0].toUpperCase()+hf.slice(1);ff(jf,"on"+kf)}ff($e,"onAnimationEnd");ff(af,"onAnimationIteration");ff(bf,"onAnimationStart");ff("dblclick","onDoubleClick");ff("focusin","onFocus");ff("focusout","onBlur");ff(cf,"onTransitionEnd");ha("onMouseEnter",["mouseout","mouseover"]);ha("onMouseLeave",["mouseout","mouseover"]);ha("onPointerEnter",["pointerout","pointerover"]);ha("onPointerLeave",["pointerout","pointerover"]);fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fa("onBeforeInput",["compositionend","keypress","textInput","paste"]);fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mf=new Set("cancel close invalid load scroll toggle".split(" ").concat(lf));function nf(a,_,$){var j=a.type||"unknown-event";a.currentTarget=$,Ub(j,_,void 0,a),a.currentTarget=null}function se(a,_){_=(_&4)!==0;for(var $=0;$<a.length;$++){var j=a[$],et=j.event;j=j.listeners;e:{var tt=void 0;if(_)for(var rt=j.length-1;0<=rt;rt--){var nt=j[rt],it=nt.instance,st=nt.currentTarget;if(nt=nt.listener,it!==tt&&et.isPropagationStopped())break e;nf(et,nt,st),tt=it}else for(rt=0;rt<j.length;rt++){if(nt=j[rt],it=nt.instance,st=nt.currentTarget,nt=nt.listener,it!==tt&&et.isPropagationStopped())break e;nf(et,nt,st),tt=it}}}if(Qb)throw a=Rb,Qb=!1,Rb=null,a}function D(a,_){var $=_[of$1];$===void 0&&($=_[of$1]=new Set);var j=a+"__bubble";$.has(j)||(pf(_,a,2,!1),$.add(j))}function qf(a,_,$){var j=0;_&&(j|=4),pf($,a,j,_)}var rf="_reactListening"+Math.random().toString(36).slice(2);function sf(a){if(!a[rf]){a[rf]=!0,da.forEach(function($){$!=="selectionchange"&&(mf.has($)||qf($,!1,a),qf($,!0,a))});var _=a.nodeType===9?a:a.ownerDocument;_===null||_[rf]||(_[rf]=!0,qf("selectionchange",!1,_))}}function pf(a,_,$,j){switch(jd(_)){case 1:var et=ed;break;case 4:et=gd;break;default:et=fd}$=et.bind(null,_,$,a),et=void 0,!Lb||_!=="touchstart"&&_!=="touchmove"&&_!=="wheel"||(et=!0),j?et!==void 0?a.addEventListener(_,$,{capture:!0,passive:et}):a.addEventListener(_,$,!0):et!==void 0?a.addEventListener(_,$,{passive:et}):a.addEventListener(_,$,!1)}function hd(a,_,$,j,et){var tt=j;if(!(_&1)&&!(_&2)&&j!==null)e:for(;;){if(j===null)return;var rt=j.tag;if(rt===3||rt===4){var nt=j.stateNode.containerInfo;if(nt===et||nt.nodeType===8&&nt.parentNode===et)break;if(rt===4)for(rt=j.return;rt!==null;){var it=rt.tag;if((it===3||it===4)&&(it=rt.stateNode.containerInfo,it===et||it.nodeType===8&&it.parentNode===et))return;rt=rt.return}for(;nt!==null;){if(rt=Wc(nt),rt===null)return;if(it=rt.tag,it===5||it===6){j=tt=rt;continue e}nt=nt.parentNode}}j=j.return}Jb(function(){var st=tt,ot=xb($),at=[];e:{var ut=df.get(a);if(ut!==void 0){var ht=td,yt=a;switch(a){case"keypress":if(od($)===0)break e;case"keydown":case"keyup":ht=Rd;break;case"focusin":yt="focus",ht=Fd;break;case"focusout":yt="blur",ht=Fd;break;case"beforeblur":case"afterblur":ht=Fd;break;case"click":if($.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ht=Bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ht=Dd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ht=Vd;break;case $e:case af:case bf:ht=Hd;break;case cf:ht=Xd;break;case"scroll":ht=vd;break;case"wheel":ht=Zd;break;case"copy":case"cut":case"paste":ht=Jd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ht=Td$1}var wt=(_&4)!==0,Ct=!wt&&a==="scroll",Pt=wt?ut!==null?ut+"Capture":null:ut;wt=[];for(var Tt=st,Mt;Tt!==null;){Mt=Tt;var Lt=Mt.stateNode;if(Mt.tag===5&&Lt!==null&&(Mt=Lt,Pt!==null&&(Lt=Kb(Tt,Pt),Lt!=null&&wt.push(tf(Tt,Lt,Mt)))),Ct)break;Tt=Tt.return}0<wt.length&&(ut=new ht(ut,yt,null,$,ot),at.push({event:ut,listeners:wt}))}}if(!(_&7)){e:{if(ut=a==="mouseover"||a==="pointerover",ht=a==="mouseout"||a==="pointerout",ut&&$!==wb&&(yt=$.relatedTarget||$.fromElement)&&(Wc(yt)||yt[uf]))break e;if((ht||ut)&&(ut=ot.window===ot?ot:(ut=ot.ownerDocument)?ut.defaultView||ut.parentWindow:window,ht?(yt=$.relatedTarget||$.toElement,ht=st,yt=yt?Wc(yt):null,yt!==null&&(Ct=Vb(yt),yt!==Ct||yt.tag!==5&&yt.tag!==6)&&(yt=null)):(ht=null,yt=st),ht!==yt)){if(wt=Bd,Lt="onMouseLeave",Pt="onMouseEnter",Tt="mouse",(a==="pointerout"||a==="pointerover")&&(wt=Td$1,Lt="onPointerLeave",Pt="onPointerEnter",Tt="pointer"),Ct=ht==null?ut:ue(ht),Mt=yt==null?ut:ue(yt),ut=new wt(Lt,Tt+"leave",ht,$,ot),ut.target=Ct,ut.relatedTarget=Mt,Lt=null,Wc(ot)===st&&(wt=new wt(Pt,Tt+"enter",yt,$,ot),wt.target=Mt,wt.relatedTarget=Ct,Lt=wt),Ct=Lt,ht&&yt)t:{for(wt=ht,Pt=yt,Tt=0,Mt=wt;Mt;Mt=vf(Mt))Tt++;for(Mt=0,Lt=Pt;Lt;Lt=vf(Lt))Mt++;for(;0<Tt-Mt;)wt=vf(wt),Tt--;for(;0<Mt-Tt;)Pt=vf(Pt),Mt--;for(;Tt--;){if(wt===Pt||Pt!==null&&wt===Pt.alternate)break t;wt=vf(wt),Pt=vf(Pt)}wt=null}else wt=null;ht!==null&&wf(at,ut,ht,wt,!1),yt!==null&&Ct!==null&&wf(at,Ct,yt,wt,!0)}}e:{if(ut=st?ue(st):window,ht=ut.nodeName&&ut.nodeName.toLowerCase(),ht==="select"||ht==="input"&&ut.type==="file")var Dt=ve;else if(me(ut))if(we)Dt=Fe;else{Dt=De;var Ut=Ce}else(ht=ut.nodeName)&&ht.toLowerCase()==="input"&&(ut.type==="checkbox"||ut.type==="radio")&&(Dt=Ee);if(Dt&&(Dt=Dt(a,st))){ne(at,Dt,$,ot);break e}Ut&&Ut(a,ut,st),a==="focusout"&&(Ut=ut._wrapperState)&&Ut.controlled&&ut.type==="number"&&cb(ut,"number",ut.value)}switch(Ut=st?ue(st):window,a){case"focusin":(me(Ut)||Ut.contentEditable==="true")&&(Qe=Ut,Re=st,Se=null);break;case"focusout":Se=Re=Qe=null;break;case"mousedown":Te=!0;break;case"contextmenu":case"mouseup":case"dragend":Te=!1,Ue(at,$,ot);break;case"selectionchange":if(Pe)break;case"keydown":case"keyup":Ue(at,$,ot)}var Ot;if(ae)e:{switch(a){case"compositionstart":var It="onCompositionStart";break e;case"compositionend":It="onCompositionEnd";break e;case"compositionupdate":It="onCompositionUpdate";break e}It=void 0}else ie?ge(a,$)&&(It="onCompositionEnd"):a==="keydown"&&$.keyCode===229&&(It="onCompositionStart");It&&(de&&$.locale!=="ko"&&(ie||It!=="onCompositionStart"?It==="onCompositionEnd"&&ie&&(Ot=nd()):(kd=ot,ld="value"in kd?kd.value:kd.textContent,ie=!0)),Ut=oe(st,It),0<Ut.length&&(It=new Ld(It,a,null,$,ot),at.push({event:It,listeners:Ut}),Ot?It.data=Ot:(Ot=he($),Ot!==null&&(It.data=Ot)))),(Ot=ce?je(a,$):ke(a,$))&&(st=oe(st,"onBeforeInput"),0<st.length&&(ot=new Ld("onBeforeInput","beforeinput",null,$,ot),at.push({event:ot,listeners:st}),ot.data=Ot))}se(at,_)})}function tf(a,_,$){return{instance:a,listener:_,currentTarget:$}}function oe(a,_){for(var $=_+"Capture",j=[];a!==null;){var et=a,tt=et.stateNode;et.tag===5&&tt!==null&&(et=tt,tt=Kb(a,$),tt!=null&&j.unshift(tf(a,tt,et)),tt=Kb(a,_),tt!=null&&j.push(tf(a,tt,et))),a=a.return}return j}function vf(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5);return a||null}function wf(a,_,$,j,et){for(var tt=_._reactName,rt=[];$!==null&&$!==j;){var nt=$,it=nt.alternate,st=nt.stateNode;if(it!==null&&it===j)break;nt.tag===5&&st!==null&&(nt=st,et?(it=Kb($,tt),it!=null&&rt.unshift(tf($,it,nt))):et||(it=Kb($,tt),it!=null&&rt.push(tf($,it,nt)))),$=$.return}rt.length!==0&&a.push({event:_,listeners:rt})}var xf=/\r\n?/g,yf=/\u0000|\uFFFD/g;function zf(a){return(typeof a=="string"?a:""+a).replace(xf,`
`).replace(yf,"")}function Af(a,_,$){if(_=zf(_),zf(a)!==_&&$)throw Error(p$2(425))}function Bf(){}var Cf=null,Df=null;function Ef(a,_){return a==="textarea"||a==="noscript"||typeof _.children=="string"||typeof _.children=="number"||typeof _.dangerouslySetInnerHTML=="object"&&_.dangerouslySetInnerHTML!==null&&_.dangerouslySetInnerHTML.__html!=null}var Ff=typeof setTimeout=="function"?setTimeout:void 0,Gf=typeof clearTimeout=="function"?clearTimeout:void 0,Hf=typeof Promise=="function"?Promise:void 0,Jf=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf<"u"?function(a){return Hf.resolve(null).then(a).catch(If)}:Ff;function If(a){setTimeout(function(){throw a})}function Kf(a,_){var $=_,j=0;do{var et=$.nextSibling;if(a.removeChild($),et&&et.nodeType===8)if($=et.data,$==="/$"){if(j===0){a.removeChild(et),bd(_);return}j--}else $!=="$"&&$!=="$?"&&$!=="$!"||j++;$=et}while($);bd(_)}function Lf(a){for(;a!=null;a=a.nextSibling){var _=a.nodeType;if(_===1||_===3)break;if(_===8){if(_=a.data,_==="$"||_==="$!"||_==="$?")break;if(_==="/$")return null}}return a}function Mf(a){a=a.previousSibling;for(var _=0;a;){if(a.nodeType===8){var $=a.data;if($==="$"||$==="$!"||$==="$?"){if(_===0)return a;_--}else $==="/$"&&_++}a=a.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),Of="__reactFiber$"+Nf,Pf="__reactProps$"+Nf,uf="__reactContainer$"+Nf,of$1="__reactEvents$"+Nf,Qf="__reactListeners$"+Nf,Rf="__reactHandles$"+Nf;function Wc(a){var _=a[Of];if(_)return _;for(var $=a.parentNode;$;){if(_=$[uf]||$[Of]){if($=_.alternate,_.child!==null||$!==null&&$.child!==null)for(a=Mf(a);a!==null;){if($=a[Of])return $;a=Mf(a)}return _}a=$,$=a.parentNode}return null}function Cb(a){return a=a[Of]||a[uf],!a||a.tag!==5&&a.tag!==6&&a.tag!==13&&a.tag!==3?null:a}function ue(a){if(a.tag===5||a.tag===6)return a.stateNode;throw Error(p$2(33))}function Db(a){return a[Pf]||null}var Sf=[],Tf=-1;function Uf(a){return{current:a}}function E(a){0>Tf||(a.current=Sf[Tf],Sf[Tf]=null,Tf--)}function G(a,_){Tf++,Sf[Tf]=a.current,a.current=_}var Vf={},H$1=Uf(Vf),Wf=Uf(!1),Xf=Vf;function Yf(a,_){var $=a.type.contextTypes;if(!$)return Vf;var j=a.stateNode;if(j&&j.__reactInternalMemoizedUnmaskedChildContext===_)return j.__reactInternalMemoizedMaskedChildContext;var et={},tt;for(tt in $)et[tt]=_[tt];return j&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=_,a.__reactInternalMemoizedMaskedChildContext=et),et}function Zf(a){return a=a.childContextTypes,a!=null}function $f(){E(Wf),E(H$1)}function ag(a,_,$){if(H$1.current!==Vf)throw Error(p$2(168));G(H$1,_),G(Wf,$)}function bg(a,_,$){var j=a.stateNode;if(_=_.childContextTypes,typeof j.getChildContext!="function")return $;j=j.getChildContext();for(var et in j)if(!(et in _))throw Error(p$2(108,Ra(a)||"Unknown",et));return A$1({},$,j)}function cg(a){return a=(a=a.stateNode)&&a.__reactInternalMemoizedMergedChildContext||Vf,Xf=H$1.current,G(H$1,a),G(Wf,Wf.current),!0}function dg(a,_,$){var j=a.stateNode;if(!j)throw Error(p$2(169));$?(a=bg(a,_,Xf),j.__reactInternalMemoizedMergedChildContext=a,E(Wf),E(H$1),G(H$1,a)):E(Wf),G(Wf,$)}var eg=null,fg=!1,gg=!1;function hg(a){eg===null?eg=[a]:eg.push(a)}function ig(a){fg=!0,hg(a)}function jg(){if(!gg&&eg!==null){gg=!0;var a=0,_=C;try{var $=eg;for(C=1;a<$.length;a++){var j=$[a];do j=j(!0);while(j!==null)}eg=null,fg=!1}catch(et){throw eg!==null&&(eg=eg.slice(a+1)),ac(fc,jg),et}finally{C=_,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg="";function tg(a,_){kg[lg++]=ng,kg[lg++]=mg,mg=a,ng=_}function ug(a,_,$){og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,qg=a;var j=rg;a=sg;var et=32-oc(j)-1;j&=~(1<<et),$+=1;var tt=32-oc(_)+et;if(30<tt){var rt=et-et%5;tt=(j&(1<<rt)-1).toString(32),j>>=rt,et-=rt,rg=1<<32-oc(_)+et|$<<et|j,sg=tt+a}else rg=1<<tt|$<<et|j,sg=a}function vg(a){a.return!==null&&(tg(a,1),ug(a,1,0))}function wg(a){for(;a===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;a===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I=!1,zg=null;function Ag(a,_){var $=Bg(5,null,null,0);$.elementType="DELETED",$.stateNode=_,$.return=a,_=a.deletions,_===null?(a.deletions=[$],a.flags|=16):_.push($)}function Cg(a,_){switch(a.tag){case 5:var $=a.type;return _=_.nodeType!==1||$.toLowerCase()!==_.nodeName.toLowerCase()?null:_,_!==null?(a.stateNode=_,xg=a,yg=Lf(_.firstChild),!0):!1;case 6:return _=a.pendingProps===""||_.nodeType!==3?null:_,_!==null?(a.stateNode=_,xg=a,yg=null,!0):!1;case 13:return _=_.nodeType!==8?null:_,_!==null?($=qg!==null?{id:rg,overflow:sg}:null,a.memoizedState={dehydrated:_,treeContext:$,retryLane:1073741824},$=Bg(18,null,null,0),$.stateNode=_,$.return=a,a.child=$,xg=a,yg=null,!0):!1;default:return!1}}function Dg(a){return(a.mode&1)!==0&&(a.flags&128)===0}function Eg(a){if(I){var _=yg;if(_){var $=_;if(!Cg(a,_)){if(Dg(a))throw Error(p$2(418));_=Lf($.nextSibling);var j=xg;_&&Cg(a,_)?Ag(j,$):(a.flags=a.flags&-4097|2,I=!1,xg=a)}}else{if(Dg(a))throw Error(p$2(418));a.flags=a.flags&-4097|2,I=!1,xg=a}}}function Fg(a){for(a=a.return;a!==null&&a.tag!==5&&a.tag!==3&&a.tag!==13;)a=a.return;xg=a}function Gg(a){if(a!==xg)return!1;if(!I)return Fg(a),I=!0,!1;var _;if((_=a.tag!==3)&&!(_=a.tag!==5)&&(_=a.type,_=_!=="head"&&_!=="body"&&!Ef(a.type,a.memoizedProps)),_&&(_=yg)){if(Dg(a))throw Hg(),Error(p$2(418));for(;_;)Ag(a,_),_=Lf(_.nextSibling)}if(Fg(a),a.tag===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(p$2(317));e:{for(a=a.nextSibling,_=0;a;){if(a.nodeType===8){var $=a.data;if($==="/$"){if(_===0){yg=Lf(a.nextSibling);break e}_--}else $!=="$"&&$!=="$!"&&$!=="$?"||_++}a=a.nextSibling}yg=null}}else yg=xg?Lf(a.stateNode.nextSibling):null;return!0}function Hg(){for(var a=yg;a;)a=Lf(a.nextSibling)}function Ig(){yg=xg=null,I=!1}function Jg(a){zg===null?zg=[a]:zg.push(a)}var Kg=ua.ReactCurrentBatchConfig;function Lg(a,_,$){if(a=$.ref,a!==null&&typeof a!="function"&&typeof a!="object"){if($._owner){if($=$._owner,$){if($.tag!==1)throw Error(p$2(309));var j=$.stateNode}if(!j)throw Error(p$2(147,a));var et=j,tt=""+a;return _!==null&&_.ref!==null&&typeof _.ref=="function"&&_.ref._stringRef===tt?_.ref:(_=function(rt){var nt=et.refs;rt===null?delete nt[tt]:nt[tt]=rt},_._stringRef=tt,_)}if(typeof a!="string")throw Error(p$2(284));if(!$._owner)throw Error(p$2(290,a))}return a}function Mg(a,_){throw a=Object.prototype.toString.call(_),Error(p$2(31,a==="[object Object]"?"object with keys {"+Object.keys(_).join(", ")+"}":a))}function Ng(a){var _=a._init;return _(a._payload)}function Og(a){function _(Pt,Tt){if(a){var Mt=Pt.deletions;Mt===null?(Pt.deletions=[Tt],Pt.flags|=16):Mt.push(Tt)}}function $(Pt,Tt){if(!a)return null;for(;Tt!==null;)_(Pt,Tt),Tt=Tt.sibling;return null}function j(Pt,Tt){for(Pt=new Map;Tt!==null;)Tt.key!==null?Pt.set(Tt.key,Tt):Pt.set(Tt.index,Tt),Tt=Tt.sibling;return Pt}function et(Pt,Tt){return Pt=Pg(Pt,Tt),Pt.index=0,Pt.sibling=null,Pt}function tt(Pt,Tt,Mt){return Pt.index=Mt,a?(Mt=Pt.alternate,Mt!==null?(Mt=Mt.index,Mt<Tt?(Pt.flags|=2,Tt):Mt):(Pt.flags|=2,Tt)):(Pt.flags|=1048576,Tt)}function rt(Pt){return a&&Pt.alternate===null&&(Pt.flags|=2),Pt}function nt(Pt,Tt,Mt,Lt){return Tt===null||Tt.tag!==6?(Tt=Qg(Mt,Pt.mode,Lt),Tt.return=Pt,Tt):(Tt=et(Tt,Mt),Tt.return=Pt,Tt)}function it(Pt,Tt,Mt,Lt){var Dt=Mt.type;return Dt===ya?ot(Pt,Tt,Mt.props.children,Lt,Mt.key):Tt!==null&&(Tt.elementType===Dt||typeof Dt=="object"&&Dt!==null&&Dt.$$typeof===Ha&&Ng(Dt)===Tt.type)?(Lt=et(Tt,Mt.props),Lt.ref=Lg(Pt,Tt,Mt),Lt.return=Pt,Lt):(Lt=Rg(Mt.type,Mt.key,Mt.props,null,Pt.mode,Lt),Lt.ref=Lg(Pt,Tt,Mt),Lt.return=Pt,Lt)}function st(Pt,Tt,Mt,Lt){return Tt===null||Tt.tag!==4||Tt.stateNode.containerInfo!==Mt.containerInfo||Tt.stateNode.implementation!==Mt.implementation?(Tt=Sg(Mt,Pt.mode,Lt),Tt.return=Pt,Tt):(Tt=et(Tt,Mt.children||[]),Tt.return=Pt,Tt)}function ot(Pt,Tt,Mt,Lt,Dt){return Tt===null||Tt.tag!==7?(Tt=Tg(Mt,Pt.mode,Lt,Dt),Tt.return=Pt,Tt):(Tt=et(Tt,Mt),Tt.return=Pt,Tt)}function at(Pt,Tt,Mt){if(typeof Tt=="string"&&Tt!==""||typeof Tt=="number")return Tt=Qg(""+Tt,Pt.mode,Mt),Tt.return=Pt,Tt;if(typeof Tt=="object"&&Tt!==null){switch(Tt.$$typeof){case va:return Mt=Rg(Tt.type,Tt.key,Tt.props,null,Pt.mode,Mt),Mt.ref=Lg(Pt,null,Tt),Mt.return=Pt,Mt;case wa:return Tt=Sg(Tt,Pt.mode,Mt),Tt.return=Pt,Tt;case Ha:var Lt=Tt._init;return at(Pt,Lt(Tt._payload),Mt)}if(eb(Tt)||Ka(Tt))return Tt=Tg(Tt,Pt.mode,Mt,null),Tt.return=Pt,Tt;Mg(Pt,Tt)}return null}function ut(Pt,Tt,Mt,Lt){var Dt=Tt!==null?Tt.key:null;if(typeof Mt=="string"&&Mt!==""||typeof Mt=="number")return Dt!==null?null:nt(Pt,Tt,""+Mt,Lt);if(typeof Mt=="object"&&Mt!==null){switch(Mt.$$typeof){case va:return Mt.key===Dt?it(Pt,Tt,Mt,Lt):null;case wa:return Mt.key===Dt?st(Pt,Tt,Mt,Lt):null;case Ha:return Dt=Mt._init,ut(Pt,Tt,Dt(Mt._payload),Lt)}if(eb(Mt)||Ka(Mt))return Dt!==null?null:ot(Pt,Tt,Mt,Lt,null);Mg(Pt,Mt)}return null}function ht(Pt,Tt,Mt,Lt,Dt){if(typeof Lt=="string"&&Lt!==""||typeof Lt=="number")return Pt=Pt.get(Mt)||null,nt(Tt,Pt,""+Lt,Dt);if(typeof Lt=="object"&&Lt!==null){switch(Lt.$$typeof){case va:return Pt=Pt.get(Lt.key===null?Mt:Lt.key)||null,it(Tt,Pt,Lt,Dt);case wa:return Pt=Pt.get(Lt.key===null?Mt:Lt.key)||null,st(Tt,Pt,Lt,Dt);case Ha:var Ut=Lt._init;return ht(Pt,Tt,Mt,Ut(Lt._payload),Dt)}if(eb(Lt)||Ka(Lt))return Pt=Pt.get(Mt)||null,ot(Tt,Pt,Lt,Dt,null);Mg(Tt,Lt)}return null}function yt(Pt,Tt,Mt,Lt){for(var Dt=null,Ut=null,Ot=Tt,It=Tt=0,Bt=null;Ot!==null&&It<Mt.length;It++){Ot.index>It?(Bt=Ot,Ot=null):Bt=Ot.sibling;var Ft=ut(Pt,Ot,Mt[It],Lt);if(Ft===null){Ot===null&&(Ot=Bt);break}a&&Ot&&Ft.alternate===null&&_(Pt,Ot),Tt=tt(Ft,Tt,It),Ut===null?Dt=Ft:Ut.sibling=Ft,Ut=Ft,Ot=Bt}if(It===Mt.length)return $(Pt,Ot),I&&tg(Pt,It),Dt;if(Ot===null){for(;It<Mt.length;It++)Ot=at(Pt,Mt[It],Lt),Ot!==null&&(Tt=tt(Ot,Tt,It),Ut===null?Dt=Ot:Ut.sibling=Ot,Ut=Ot);return I&&tg(Pt,It),Dt}for(Ot=j(Pt,Ot);It<Mt.length;It++)Bt=ht(Ot,Pt,It,Mt[It],Lt),Bt!==null&&(a&&Bt.alternate!==null&&Ot.delete(Bt.key===null?It:Bt.key),Tt=tt(Bt,Tt,It),Ut===null?Dt=Bt:Ut.sibling=Bt,Ut=Bt);return a&&Ot.forEach(function(jt){return _(Pt,jt)}),I&&tg(Pt,It),Dt}function wt(Pt,Tt,Mt,Lt){var Dt=Ka(Mt);if(typeof Dt!="function")throw Error(p$2(150));if(Mt=Dt.call(Mt),Mt==null)throw Error(p$2(151));for(var Ut=Dt=null,Ot=Tt,It=Tt=0,Bt=null,Ft=Mt.next();Ot!==null&&!Ft.done;It++,Ft=Mt.next()){Ot.index>It?(Bt=Ot,Ot=null):Bt=Ot.sibling;var jt=ut(Pt,Ot,Ft.value,Lt);if(jt===null){Ot===null&&(Ot=Bt);break}a&&Ot&&jt.alternate===null&&_(Pt,Ot),Tt=tt(jt,Tt,It),Ut===null?Dt=jt:Ut.sibling=jt,Ut=jt,Ot=Bt}if(Ft.done)return $(Pt,Ot),I&&tg(Pt,It),Dt;if(Ot===null){for(;!Ft.done;It++,Ft=Mt.next())Ft=at(Pt,Ft.value,Lt),Ft!==null&&(Tt=tt(Ft,Tt,It),Ut===null?Dt=Ft:Ut.sibling=Ft,Ut=Ft);return I&&tg(Pt,It),Dt}for(Ot=j(Pt,Ot);!Ft.done;It++,Ft=Mt.next())Ft=ht(Ot,Pt,It,Ft.value,Lt),Ft!==null&&(a&&Ft.alternate!==null&&Ot.delete(Ft.key===null?It:Ft.key),Tt=tt(Ft,Tt,It),Ut===null?Dt=Ft:Ut.sibling=Ft,Ut=Ft);return a&&Ot.forEach(function(bt){return _(Pt,bt)}),I&&tg(Pt,It),Dt}function Ct(Pt,Tt,Mt,Lt){if(typeof Mt=="object"&&Mt!==null&&Mt.type===ya&&Mt.key===null&&(Mt=Mt.props.children),typeof Mt=="object"&&Mt!==null){switch(Mt.$$typeof){case va:e:{for(var Dt=Mt.key,Ut=Tt;Ut!==null;){if(Ut.key===Dt){if(Dt=Mt.type,Dt===ya){if(Ut.tag===7){$(Pt,Ut.sibling),Tt=et(Ut,Mt.props.children),Tt.return=Pt,Pt=Tt;break e}}else if(Ut.elementType===Dt||typeof Dt=="object"&&Dt!==null&&Dt.$$typeof===Ha&&Ng(Dt)===Ut.type){$(Pt,Ut.sibling),Tt=et(Ut,Mt.props),Tt.ref=Lg(Pt,Ut,Mt),Tt.return=Pt,Pt=Tt;break e}$(Pt,Ut);break}else _(Pt,Ut);Ut=Ut.sibling}Mt.type===ya?(Tt=Tg(Mt.props.children,Pt.mode,Lt,Mt.key),Tt.return=Pt,Pt=Tt):(Lt=Rg(Mt.type,Mt.key,Mt.props,null,Pt.mode,Lt),Lt.ref=Lg(Pt,Tt,Mt),Lt.return=Pt,Pt=Lt)}return rt(Pt);case wa:e:{for(Ut=Mt.key;Tt!==null;){if(Tt.key===Ut)if(Tt.tag===4&&Tt.stateNode.containerInfo===Mt.containerInfo&&Tt.stateNode.implementation===Mt.implementation){$(Pt,Tt.sibling),Tt=et(Tt,Mt.children||[]),Tt.return=Pt,Pt=Tt;break e}else{$(Pt,Tt);break}else _(Pt,Tt);Tt=Tt.sibling}Tt=Sg(Mt,Pt.mode,Lt),Tt.return=Pt,Pt=Tt}return rt(Pt);case Ha:return Ut=Mt._init,Ct(Pt,Tt,Ut(Mt._payload),Lt)}if(eb(Mt))return yt(Pt,Tt,Mt,Lt);if(Ka(Mt))return wt(Pt,Tt,Mt,Lt);Mg(Pt,Mt)}return typeof Mt=="string"&&Mt!==""||typeof Mt=="number"?(Mt=""+Mt,Tt!==null&&Tt.tag===6?($(Pt,Tt.sibling),Tt=et(Tt,Mt),Tt.return=Pt,Pt=Tt):($(Pt,Tt),Tt=Qg(Mt,Pt.mode,Lt),Tt.return=Pt,Pt=Tt),rt(Pt)):$(Pt,Tt)}return Ct}var Ug=Og(!0),Vg=Og(!1),Wg=Uf(null),Xg=null,Yg=null,Zg=null;function $g(){Zg=Yg=Xg=null}function ah(a){var _=Wg.current;E(Wg),a._currentValue=_}function bh(a,_,$){for(;a!==null;){var j=a.alternate;if((a.childLanes&_)!==_?(a.childLanes|=_,j!==null&&(j.childLanes|=_)):j!==null&&(j.childLanes&_)!==_&&(j.childLanes|=_),a===$)break;a=a.return}}function ch$1(a,_){Xg=a,Zg=Yg=null,a=a.dependencies,a!==null&&a.firstContext!==null&&(a.lanes&_&&(dh$1=!0),a.firstContext=null)}function eh(a){var _=a._currentValue;if(Zg!==a)if(a={context:a,memoizedValue:_,next:null},Yg===null){if(Xg===null)throw Error(p$2(308));Yg=a,Xg.dependencies={lanes:0,firstContext:a}}else Yg=Yg.next=a;return _}var fh=null;function gh(a){fh===null?fh=[a]:fh.push(a)}function hh(a,_,$,j){var et=_.interleaved;return et===null?($.next=$,gh(_)):($.next=et.next,et.next=$),_.interleaved=$,ih(a,j)}function ih(a,_){a.lanes|=_;var $=a.alternate;for($!==null&&($.lanes|=_),$=a,a=a.return;a!==null;)a.childLanes|=_,$=a.alternate,$!==null&&($.childLanes|=_),$=a,a=a.return;return $.tag===3?$.stateNode:null}var jh=!1;function kh(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function lh(a,_){a=a.updateQueue,_.updateQueue===a&&(_.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,effects:a.effects})}function mh(a,_){return{eventTime:a,lane:_,tag:0,payload:null,callback:null,next:null}}function nh(a,_,$){var j=a.updateQueue;if(j===null)return null;if(j=j.shared,K$6&2){var et=j.pending;return et===null?_.next=_:(_.next=et.next,et.next=_),j.pending=_,ih(a,$)}return et=j.interleaved,et===null?(_.next=_,gh(j)):(_.next=et.next,et.next=_),j.interleaved=_,ih(a,$)}function oh(a,_,$){if(_=_.updateQueue,_!==null&&(_=_.shared,($&4194240)!==0)){var j=_.lanes;j&=a.pendingLanes,$|=j,_.lanes=$,Cc(a,$)}}function ph(a,_){var $=a.updateQueue,j=a.alternate;if(j!==null&&(j=j.updateQueue,$===j)){var et=null,tt=null;if($=$.firstBaseUpdate,$!==null){do{var rt={eventTime:$.eventTime,lane:$.lane,tag:$.tag,payload:$.payload,callback:$.callback,next:null};tt===null?et=tt=rt:tt=tt.next=rt,$=$.next}while($!==null);tt===null?et=tt=_:tt=tt.next=_}else et=tt=_;$={baseState:j.baseState,firstBaseUpdate:et,lastBaseUpdate:tt,shared:j.shared,effects:j.effects},a.updateQueue=$;return}a=$.lastBaseUpdate,a===null?$.firstBaseUpdate=_:a.next=_,$.lastBaseUpdate=_}function qh(a,_,$,j){var et=a.updateQueue;jh=!1;var tt=et.firstBaseUpdate,rt=et.lastBaseUpdate,nt=et.shared.pending;if(nt!==null){et.shared.pending=null;var it=nt,st=it.next;it.next=null,rt===null?tt=st:rt.next=st,rt=it;var ot=a.alternate;ot!==null&&(ot=ot.updateQueue,nt=ot.lastBaseUpdate,nt!==rt&&(nt===null?ot.firstBaseUpdate=st:nt.next=st,ot.lastBaseUpdate=it))}if(tt!==null){var at=et.baseState;rt=0,ot=st=it=null,nt=tt;do{var ut=nt.lane,ht=nt.eventTime;if((j&ut)===ut){ot!==null&&(ot=ot.next={eventTime:ht,lane:0,tag:nt.tag,payload:nt.payload,callback:nt.callback,next:null});e:{var yt=a,wt=nt;switch(ut=_,ht=$,wt.tag){case 1:if(yt=wt.payload,typeof yt=="function"){at=yt.call(ht,at,ut);break e}at=yt;break e;case 3:yt.flags=yt.flags&-65537|128;case 0:if(yt=wt.payload,ut=typeof yt=="function"?yt.call(ht,at,ut):yt,ut==null)break e;at=A$1({},at,ut);break e;case 2:jh=!0}}nt.callback!==null&&nt.lane!==0&&(a.flags|=64,ut=et.effects,ut===null?et.effects=[nt]:ut.push(nt))}else ht={eventTime:ht,lane:ut,tag:nt.tag,payload:nt.payload,callback:nt.callback,next:null},ot===null?(st=ot=ht,it=at):ot=ot.next=ht,rt|=ut;if(nt=nt.next,nt===null){if(nt=et.shared.pending,nt===null)break;ut=nt,nt=ut.next,ut.next=null,et.lastBaseUpdate=ut,et.shared.pending=null}}while(!0);if(ot===null&&(it=at),et.baseState=it,et.firstBaseUpdate=st,et.lastBaseUpdate=ot,_=et.shared.interleaved,_!==null){et=_;do rt|=et.lane,et=et.next;while(et!==_)}else tt===null&&(et.shared.lanes=0);rh$1|=rt,a.lanes=rt,a.memoizedState=at}}function sh$1(a,_,$){if(a=_.effects,_.effects=null,a!==null)for(_=0;_<a.length;_++){var j=a[_],et=j.callback;if(et!==null){if(j.callback=null,j=$,typeof et!="function")throw Error(p$2(191,et));et.call(j)}}}var th={},uh=Uf(th),vh$1=Uf(th),wh=Uf(th);function xh(a){if(a===th)throw Error(p$2(174));return a}function yh(a,_){switch(G(wh,_),G(vh$1,a),G(uh,th),a=_.nodeType,a){case 9:case 11:_=(_=_.documentElement)?_.namespaceURI:lb(null,"");break;default:a=a===8?_.parentNode:_,_=a.namespaceURI||null,a=a.tagName,_=lb(_,a)}E(uh),G(uh,_)}function zh(){E(uh),E(vh$1),E(wh)}function Ah(a){xh(wh.current);var _=xh(uh.current),$=lb(_,a.type);_!==$&&(G(vh$1,a),G(uh,$))}function Bh(a){vh$1.current===a&&(E(uh),E(vh$1))}var L=Uf(0);function Ch$1(a){for(var _=a;_!==null;){if(_.tag===13){var $=_.memoizedState;if($!==null&&($=$.dehydrated,$===null||$.data==="$?"||$.data==="$!"))return _}else if(_.tag===19&&_.memoizedProps.revealOrder!==void 0){if(_.flags&128)return _}else if(_.child!==null){_.child.return=_,_=_.child;continue}if(_===a)break;for(;_.sibling===null;){if(_.return===null||_.return===a)return null;_=_.return}_.sibling.return=_.return,_=_.sibling}return null}var Dh=[];function Eh(){for(var a=0;a<Dh.length;a++)Dh[a]._workInProgressVersionPrimary=null;Dh.length=0}var Fh=ua.ReactCurrentDispatcher,Gh=ua.ReactCurrentBatchConfig,Hh=0,M=null,N=null,O=null,Ih=!1,Jh=!1,Kh$1=0,Lh=0;function P(){throw Error(p$2(321))}function Mh(a,_){if(_===null)return!1;for(var $=0;$<_.length&&$<a.length;$++)if(!He(a[$],_[$]))return!1;return!0}function Nh(a,_,$,j,et,tt){if(Hh=tt,M=_,_.memoizedState=null,_.updateQueue=null,_.lanes=0,Fh.current=a===null||a.memoizedState===null?Oh:Ph,a=$(j,et),Jh){tt=0;do{if(Jh=!1,Kh$1=0,25<=tt)throw Error(p$2(301));tt+=1,O=N=null,_.updateQueue=null,Fh.current=Qh,a=$(j,et)}while(Jh)}if(Fh.current=Rh,_=N!==null&&N.next!==null,Hh=0,O=N=M=null,Ih=!1,_)throw Error(p$2(300));return a}function Sh(){var a=Kh$1!==0;return Kh$1=0,a}function Th(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return O===null?M.memoizedState=O=a:O=O.next=a,O}function Uh(){if(N===null){var a=M.alternate;a=a!==null?a.memoizedState:null}else a=N.next;var _=O===null?M.memoizedState:O.next;if(_!==null)O=_,N=a;else{if(a===null)throw Error(p$2(310));N=a,a={memoizedState:N.memoizedState,baseState:N.baseState,baseQueue:N.baseQueue,queue:N.queue,next:null},O===null?M.memoizedState=O=a:O=O.next=a}return O}function Vh(a,_){return typeof _=="function"?_(a):_}function Wh(a){var _=Uh(),$=_.queue;if($===null)throw Error(p$2(311));$.lastRenderedReducer=a;var j=N,et=j.baseQueue,tt=$.pending;if(tt!==null){if(et!==null){var rt=et.next;et.next=tt.next,tt.next=rt}j.baseQueue=et=tt,$.pending=null}if(et!==null){tt=et.next,j=j.baseState;var nt=rt=null,it=null,st=tt;do{var ot=st.lane;if((Hh&ot)===ot)it!==null&&(it=it.next={lane:0,action:st.action,hasEagerState:st.hasEagerState,eagerState:st.eagerState,next:null}),j=st.hasEagerState?st.eagerState:a(j,st.action);else{var at={lane:ot,action:st.action,hasEagerState:st.hasEagerState,eagerState:st.eagerState,next:null};it===null?(nt=it=at,rt=j):it=it.next=at,M.lanes|=ot,rh$1|=ot}st=st.next}while(st!==null&&st!==tt);it===null?rt=j:it.next=nt,He(j,_.memoizedState)||(dh$1=!0),_.memoizedState=j,_.baseState=rt,_.baseQueue=it,$.lastRenderedState=j}if(a=$.interleaved,a!==null){et=a;do tt=et.lane,M.lanes|=tt,rh$1|=tt,et=et.next;while(et!==a)}else et===null&&($.lanes=0);return[_.memoizedState,$.dispatch]}function Xh(a){var _=Uh(),$=_.queue;if($===null)throw Error(p$2(311));$.lastRenderedReducer=a;var j=$.dispatch,et=$.pending,tt=_.memoizedState;if(et!==null){$.pending=null;var rt=et=et.next;do tt=a(tt,rt.action),rt=rt.next;while(rt!==et);He(tt,_.memoizedState)||(dh$1=!0),_.memoizedState=tt,_.baseQueue===null&&(_.baseState=tt),$.lastRenderedState=tt}return[tt,j]}function Yh(){}function Zh(a,_){var $=M,j=Uh(),et=_(),tt=!He(j.memoizedState,et);if(tt&&(j.memoizedState=et,dh$1=!0),j=j.queue,$h(ai.bind(null,$,j,a),[a]),j.getSnapshot!==_||tt||O!==null&&O.memoizedState.tag&1){if($.flags|=2048,bi(9,ci.bind(null,$,j,et,_),void 0,null),Q===null)throw Error(p$2(349));Hh&30||di($,_,et)}return et}function di(a,_,$){a.flags|=16384,a={getSnapshot:_,value:$},_=M.updateQueue,_===null?(_={lastEffect:null,stores:null},M.updateQueue=_,_.stores=[a]):($=_.stores,$===null?_.stores=[a]:$.push(a))}function ci(a,_,$,j){_.value=$,_.getSnapshot=j,ei(_)&&fi(a)}function ai(a,_,$){return $(function(){ei(_)&&fi(a)})}function ei(a){var _=a.getSnapshot;a=a.value;try{var $=_();return!He(a,$)}catch{return!0}}function fi(a){var _=ih(a,1);_!==null&&gi(_,a,1,-1)}function hi(a){var _=Th();return typeof a=="function"&&(a=a()),_.memoizedState=_.baseState=a,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vh,lastRenderedState:a},_.queue=a,a=a.dispatch=ii.bind(null,M,a),[_.memoizedState,a]}function bi(a,_,$,j){return a={tag:a,create:_,destroy:$,deps:j,next:null},_=M.updateQueue,_===null?(_={lastEffect:null,stores:null},M.updateQueue=_,_.lastEffect=a.next=a):($=_.lastEffect,$===null?_.lastEffect=a.next=a:(j=$.next,$.next=a,a.next=j,_.lastEffect=a)),a}function ji(){return Uh().memoizedState}function ki(a,_,$,j){var et=Th();M.flags|=a,et.memoizedState=bi(1|_,$,void 0,j===void 0?null:j)}function li(a,_,$,j){var et=Uh();j=j===void 0?null:j;var tt=void 0;if(N!==null){var rt=N.memoizedState;if(tt=rt.destroy,j!==null&&Mh(j,rt.deps)){et.memoizedState=bi(_,$,tt,j);return}}M.flags|=a,et.memoizedState=bi(1|_,$,tt,j)}function mi(a,_){return ki(8390656,8,a,_)}function $h(a,_){return li(2048,8,a,_)}function ni(a,_){return li(4,2,a,_)}function oi(a,_){return li(4,4,a,_)}function pi(a,_){if(typeof _=="function")return a=a(),_(a),function(){_(null)};if(_!=null)return a=a(),_.current=a,function(){_.current=null}}function qi(a,_,$){return $=$!=null?$.concat([a]):null,li(4,4,pi.bind(null,_,a),$)}function ri(){}function si(a,_){var $=Uh();_=_===void 0?null:_;var j=$.memoizedState;return j!==null&&_!==null&&Mh(_,j[1])?j[0]:($.memoizedState=[a,_],a)}function ti(a,_){var $=Uh();_=_===void 0?null:_;var j=$.memoizedState;return j!==null&&_!==null&&Mh(_,j[1])?j[0]:(a=a(),$.memoizedState=[a,_],a)}function ui(a,_,$){return Hh&21?(He($,_)||($=yc(),M.lanes|=$,rh$1|=$,a.baseState=!0),_):(a.baseState&&(a.baseState=!1,dh$1=!0),a.memoizedState=$)}function vi(a,_){var $=C;C=$!==0&&4>$?$:4,a(!0);var j=Gh.transition;Gh.transition={};try{a(!1),_()}finally{C=$,Gh.transition=j}}function wi(){return Uh().memoizedState}function xi(a,_,$){var j=yi(a);if($={lane:j,action:$,hasEagerState:!1,eagerState:null,next:null},zi(a))Ai(_,$);else if($=hh(a,_,$,j),$!==null){var et=R$1();gi($,a,j,et),Bi($,_,j)}}function ii(a,_,$){var j=yi(a),et={lane:j,action:$,hasEagerState:!1,eagerState:null,next:null};if(zi(a))Ai(_,et);else{var tt=a.alternate;if(a.lanes===0&&(tt===null||tt.lanes===0)&&(tt=_.lastRenderedReducer,tt!==null))try{var rt=_.lastRenderedState,nt=tt(rt,$);if(et.hasEagerState=!0,et.eagerState=nt,He(nt,rt)){var it=_.interleaved;it===null?(et.next=et,gh(_)):(et.next=it.next,it.next=et),_.interleaved=et;return}}catch{}finally{}$=hh(a,_,et,j),$!==null&&(et=R$1(),gi($,a,j,et),Bi($,_,j))}}function zi(a){var _=a.alternate;return a===M||_!==null&&_===M}function Ai(a,_){Jh=Ih=!0;var $=a.pending;$===null?_.next=_:(_.next=$.next,$.next=_),a.pending=_}function Bi(a,_,$){if($&4194240){var j=_.lanes;j&=a.pendingLanes,$|=j,_.lanes=$,Cc(a,$)}}var Rh={readContext:eh,useCallback:P,useContext:P,useEffect:P,useImperativeHandle:P,useInsertionEffect:P,useLayoutEffect:P,useMemo:P,useReducer:P,useRef:P,useState:P,useDebugValue:P,useDeferredValue:P,useTransition:P,useMutableSource:P,useSyncExternalStore:P,useId:P,unstable_isNewReconciler:!1},Oh={readContext:eh,useCallback:function(a,_){return Th().memoizedState=[a,_===void 0?null:_],a},useContext:eh,useEffect:mi,useImperativeHandle:function(a,_,$){return $=$!=null?$.concat([a]):null,ki(4194308,4,pi.bind(null,_,a),$)},useLayoutEffect:function(a,_){return ki(4194308,4,a,_)},useInsertionEffect:function(a,_){return ki(4,2,a,_)},useMemo:function(a,_){var $=Th();return _=_===void 0?null:_,a=a(),$.memoizedState=[a,_],a},useReducer:function(a,_,$){var j=Th();return _=$!==void 0?$(_):_,j.memoizedState=j.baseState=_,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:_},j.queue=a,a=a.dispatch=xi.bind(null,M,a),[j.memoizedState,a]},useRef:function(a){var _=Th();return a={current:a},_.memoizedState=a},useState:hi,useDebugValue:ri,useDeferredValue:function(a){return Th().memoizedState=a},useTransition:function(){var a=hi(!1),_=a[0];return a=vi.bind(null,a[1]),Th().memoizedState=a,[_,a]},useMutableSource:function(){},useSyncExternalStore:function(a,_,$){var j=M,et=Th();if(I){if($===void 0)throw Error(p$2(407));$=$()}else{if($=_(),Q===null)throw Error(p$2(349));Hh&30||di(j,_,$)}et.memoizedState=$;var tt={value:$,getSnapshot:_};return et.queue=tt,mi(ai.bind(null,j,tt,a),[a]),j.flags|=2048,bi(9,ci.bind(null,j,tt,$,_),void 0,null),$},useId:function(){var a=Th(),_=Q.identifierPrefix;if(I){var $=sg,j=rg;$=(j&~(1<<32-oc(j)-1)).toString(32)+$,_=":"+_+"R"+$,$=Kh$1++,0<$&&(_+="H"+$.toString(32)),_+=":"}else $=Lh++,_=":"+_+"r"+$.toString(32)+":";return a.memoizedState=_},unstable_isNewReconciler:!1},Ph={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Wh,useRef:ji,useState:function(){return Wh(Vh)},useDebugValue:ri,useDeferredValue:function(a){var _=Uh();return ui(_,N.memoizedState,a)},useTransition:function(){var a=Wh(Vh)[0],_=Uh().memoizedState;return[a,_]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1},Qh={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Xh,useRef:ji,useState:function(){return Xh(Vh)},useDebugValue:ri,useDeferredValue:function(a){var _=Uh();return N===null?_.memoizedState=a:ui(_,N.memoizedState,a)},useTransition:function(){var a=Xh(Vh)[0],_=Uh().memoizedState;return[a,_]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1};function Ci(a,_){if(a&&a.defaultProps){_=A$1({},_),a=a.defaultProps;for(var $ in a)_[$]===void 0&&(_[$]=a[$]);return _}return _}function Di(a,_,$,j){_=a.memoizedState,$=$(j,_),$=$==null?_:A$1({},_,$),a.memoizedState=$,a.lanes===0&&(a.updateQueue.baseState=$)}var Ei={isMounted:function(a){return(a=a._reactInternals)?Vb(a)===a:!1},enqueueSetState:function(a,_,$){a=a._reactInternals;var j=R$1(),et=yi(a),tt=mh(j,et);tt.payload=_,$!=null&&(tt.callback=$),_=nh(a,tt,et),_!==null&&(gi(_,a,et,j),oh(_,a,et))},enqueueReplaceState:function(a,_,$){a=a._reactInternals;var j=R$1(),et=yi(a),tt=mh(j,et);tt.tag=1,tt.payload=_,$!=null&&(tt.callback=$),_=nh(a,tt,et),_!==null&&(gi(_,a,et,j),oh(_,a,et))},enqueueForceUpdate:function(a,_){a=a._reactInternals;var $=R$1(),j=yi(a),et=mh($,j);et.tag=2,_!=null&&(et.callback=_),_=nh(a,et,j),_!==null&&(gi(_,a,j,$),oh(_,a,j))}};function Fi(a,_,$,j,et,tt,rt){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(j,tt,rt):_.prototype&&_.prototype.isPureReactComponent?!Ie($,j)||!Ie(et,tt):!0}function Gi(a,_,$){var j=!1,et=Vf,tt=_.contextType;return typeof tt=="object"&&tt!==null?tt=eh(tt):(et=Zf(_)?Xf:H$1.current,j=_.contextTypes,tt=(j=j!=null)?Yf(a,et):Vf),_=new _($,tt),a.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,_.updater=Ei,a.stateNode=_,_._reactInternals=a,j&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=et,a.__reactInternalMemoizedMaskedChildContext=tt),_}function Hi(a,_,$,j){a=_.state,typeof _.componentWillReceiveProps=="function"&&_.componentWillReceiveProps($,j),typeof _.UNSAFE_componentWillReceiveProps=="function"&&_.UNSAFE_componentWillReceiveProps($,j),_.state!==a&&Ei.enqueueReplaceState(_,_.state,null)}function Ii(a,_,$,j){var et=a.stateNode;et.props=$,et.state=a.memoizedState,et.refs={},kh(a);var tt=_.contextType;typeof tt=="object"&&tt!==null?et.context=eh(tt):(tt=Zf(_)?Xf:H$1.current,et.context=Yf(a,tt)),et.state=a.memoizedState,tt=_.getDerivedStateFromProps,typeof tt=="function"&&(Di(a,_,tt,$),et.state=a.memoizedState),typeof _.getDerivedStateFromProps=="function"||typeof et.getSnapshotBeforeUpdate=="function"||typeof et.UNSAFE_componentWillMount!="function"&&typeof et.componentWillMount!="function"||(_=et.state,typeof et.componentWillMount=="function"&&et.componentWillMount(),typeof et.UNSAFE_componentWillMount=="function"&&et.UNSAFE_componentWillMount(),_!==et.state&&Ei.enqueueReplaceState(et,et.state,null),qh(a,$,et,j),et.state=a.memoizedState),typeof et.componentDidMount=="function"&&(a.flags|=4194308)}function Ji(a,_){try{var $="",j=_;do $+=Pa(j),j=j.return;while(j);var et=$}catch(tt){et=`
Error generating stack: `+tt.message+`
`+tt.stack}return{value:a,source:_,stack:et,digest:null}}function Ki(a,_,$){return{value:a,source:null,stack:$??null,digest:_??null}}function Li(a,_){try{console.error(_.value)}catch($){setTimeout(function(){throw $})}}var Mi=typeof WeakMap=="function"?WeakMap:Map;function Ni(a,_,$){$=mh(-1,$),$.tag=3,$.payload={element:null};var j=_.value;return $.callback=function(){Oi||(Oi=!0,Pi=j),Li(a,_)},$}function Qi(a,_,$){$=mh(-1,$),$.tag=3;var j=a.type.getDerivedStateFromError;if(typeof j=="function"){var et=_.value;$.payload=function(){return j(et)},$.callback=function(){Li(a,_)}}var tt=a.stateNode;return tt!==null&&typeof tt.componentDidCatch=="function"&&($.callback=function(){Li(a,_),typeof j!="function"&&(Ri===null?Ri=new Set([this]):Ri.add(this));var rt=_.stack;this.componentDidCatch(_.value,{componentStack:rt!==null?rt:""})}),$}function Si(a,_,$){var j=a.pingCache;if(j===null){j=a.pingCache=new Mi;var et=new Set;j.set(_,et)}else et=j.get(_),et===void 0&&(et=new Set,j.set(_,et));et.has($)||(et.add($),a=Ti.bind(null,a,_,$),_.then(a,a))}function Ui(a){do{var _;if((_=a.tag===13)&&(_=a.memoizedState,_=_!==null?_.dehydrated!==null:!0),_)return a;a=a.return}while(a!==null);return null}function Vi(a,_,$,j,et){return a.mode&1?(a.flags|=65536,a.lanes=et,a):(a===_?a.flags|=65536:(a.flags|=128,$.flags|=131072,$.flags&=-52805,$.tag===1&&($.alternate===null?$.tag=17:(_=mh(-1,1),_.tag=2,nh($,_,1))),$.lanes|=1),a)}var Wi=ua.ReactCurrentOwner,dh$1=!1;function Xi(a,_,$,j){_.child=a===null?Vg(_,null,$,j):Ug(_,a.child,$,j)}function Yi(a,_,$,j,et){$=$.render;var tt=_.ref;return ch$1(_,et),j=Nh(a,_,$,j,tt,et),$=Sh(),a!==null&&!dh$1?(_.updateQueue=a.updateQueue,_.flags&=-2053,a.lanes&=~et,Zi(a,_,et)):(I&&$&&vg(_),_.flags|=1,Xi(a,_,j,et),_.child)}function $i(a,_,$,j,et){if(a===null){var tt=$.type;return typeof tt=="function"&&!aj(tt)&&tt.defaultProps===void 0&&$.compare===null&&$.defaultProps===void 0?(_.tag=15,_.type=tt,bj(a,_,tt,j,et)):(a=Rg($.type,null,j,_,_.mode,et),a.ref=_.ref,a.return=_,_.child=a)}if(tt=a.child,!(a.lanes&et)){var rt=tt.memoizedProps;if($=$.compare,$=$!==null?$:Ie,$(rt,j)&&a.ref===_.ref)return Zi(a,_,et)}return _.flags|=1,a=Pg(tt,j),a.ref=_.ref,a.return=_,_.child=a}function bj(a,_,$,j,et){if(a!==null){var tt=a.memoizedProps;if(Ie(tt,j)&&a.ref===_.ref)if(dh$1=!1,_.pendingProps=j=tt,(a.lanes&et)!==0)a.flags&131072&&(dh$1=!0);else return _.lanes=a.lanes,Zi(a,_,et)}return cj(a,_,$,j,et)}function dj(a,_,$){var j=_.pendingProps,et=j.children,tt=a!==null?a.memoizedState:null;if(j.mode==="hidden")if(!(_.mode&1))_.memoizedState={baseLanes:0,cachePool:null,transitions:null},G(ej,fj),fj|=$;else{if(!($&1073741824))return a=tt!==null?tt.baseLanes|$:$,_.lanes=_.childLanes=1073741824,_.memoizedState={baseLanes:a,cachePool:null,transitions:null},_.updateQueue=null,G(ej,fj),fj|=a,null;_.memoizedState={baseLanes:0,cachePool:null,transitions:null},j=tt!==null?tt.baseLanes:$,G(ej,fj),fj|=j}else tt!==null?(j=tt.baseLanes|$,_.memoizedState=null):j=$,G(ej,fj),fj|=j;return Xi(a,_,et,$),_.child}function gj(a,_){var $=_.ref;(a===null&&$!==null||a!==null&&a.ref!==$)&&(_.flags|=512,_.flags|=2097152)}function cj(a,_,$,j,et){var tt=Zf($)?Xf:H$1.current;return tt=Yf(_,tt),ch$1(_,et),$=Nh(a,_,$,j,tt,et),j=Sh(),a!==null&&!dh$1?(_.updateQueue=a.updateQueue,_.flags&=-2053,a.lanes&=~et,Zi(a,_,et)):(I&&j&&vg(_),_.flags|=1,Xi(a,_,$,et),_.child)}function hj(a,_,$,j,et){if(Zf($)){var tt=!0;cg(_)}else tt=!1;if(ch$1(_,et),_.stateNode===null)ij(a,_),Gi(_,$,j),Ii(_,$,j,et),j=!0;else if(a===null){var rt=_.stateNode,nt=_.memoizedProps;rt.props=nt;var it=rt.context,st=$.contextType;typeof st=="object"&&st!==null?st=eh(st):(st=Zf($)?Xf:H$1.current,st=Yf(_,st));var ot=$.getDerivedStateFromProps,at=typeof ot=="function"||typeof rt.getSnapshotBeforeUpdate=="function";at||typeof rt.UNSAFE_componentWillReceiveProps!="function"&&typeof rt.componentWillReceiveProps!="function"||(nt!==j||it!==st)&&Hi(_,rt,j,st),jh=!1;var ut=_.memoizedState;rt.state=ut,qh(_,j,rt,et),it=_.memoizedState,nt!==j||ut!==it||Wf.current||jh?(typeof ot=="function"&&(Di(_,$,ot,j),it=_.memoizedState),(nt=jh||Fi(_,$,nt,j,ut,it,st))?(at||typeof rt.UNSAFE_componentWillMount!="function"&&typeof rt.componentWillMount!="function"||(typeof rt.componentWillMount=="function"&&rt.componentWillMount(),typeof rt.UNSAFE_componentWillMount=="function"&&rt.UNSAFE_componentWillMount()),typeof rt.componentDidMount=="function"&&(_.flags|=4194308)):(typeof rt.componentDidMount=="function"&&(_.flags|=4194308),_.memoizedProps=j,_.memoizedState=it),rt.props=j,rt.state=it,rt.context=st,j=nt):(typeof rt.componentDidMount=="function"&&(_.flags|=4194308),j=!1)}else{rt=_.stateNode,lh(a,_),nt=_.memoizedProps,st=_.type===_.elementType?nt:Ci(_.type,nt),rt.props=st,at=_.pendingProps,ut=rt.context,it=$.contextType,typeof it=="object"&&it!==null?it=eh(it):(it=Zf($)?Xf:H$1.current,it=Yf(_,it));var ht=$.getDerivedStateFromProps;(ot=typeof ht=="function"||typeof rt.getSnapshotBeforeUpdate=="function")||typeof rt.UNSAFE_componentWillReceiveProps!="function"&&typeof rt.componentWillReceiveProps!="function"||(nt!==at||ut!==it)&&Hi(_,rt,j,it),jh=!1,ut=_.memoizedState,rt.state=ut,qh(_,j,rt,et);var yt=_.memoizedState;nt!==at||ut!==yt||Wf.current||jh?(typeof ht=="function"&&(Di(_,$,ht,j),yt=_.memoizedState),(st=jh||Fi(_,$,st,j,ut,yt,it)||!1)?(ot||typeof rt.UNSAFE_componentWillUpdate!="function"&&typeof rt.componentWillUpdate!="function"||(typeof rt.componentWillUpdate=="function"&&rt.componentWillUpdate(j,yt,it),typeof rt.UNSAFE_componentWillUpdate=="function"&&rt.UNSAFE_componentWillUpdate(j,yt,it)),typeof rt.componentDidUpdate=="function"&&(_.flags|=4),typeof rt.getSnapshotBeforeUpdate=="function"&&(_.flags|=1024)):(typeof rt.componentDidUpdate!="function"||nt===a.memoizedProps&&ut===a.memoizedState||(_.flags|=4),typeof rt.getSnapshotBeforeUpdate!="function"||nt===a.memoizedProps&&ut===a.memoizedState||(_.flags|=1024),_.memoizedProps=j,_.memoizedState=yt),rt.props=j,rt.state=yt,rt.context=it,j=st):(typeof rt.componentDidUpdate!="function"||nt===a.memoizedProps&&ut===a.memoizedState||(_.flags|=4),typeof rt.getSnapshotBeforeUpdate!="function"||nt===a.memoizedProps&&ut===a.memoizedState||(_.flags|=1024),j=!1)}return jj(a,_,$,j,tt,et)}function jj(a,_,$,j,et,tt){gj(a,_);var rt=(_.flags&128)!==0;if(!j&&!rt)return et&&dg(_,$,!1),Zi(a,_,tt);j=_.stateNode,Wi.current=_;var nt=rt&&typeof $.getDerivedStateFromError!="function"?null:j.render();return _.flags|=1,a!==null&&rt?(_.child=Ug(_,a.child,null,tt),_.child=Ug(_,null,nt,tt)):Xi(a,_,nt,tt),_.memoizedState=j.state,et&&dg(_,$,!0),_.child}function kj(a){var _=a.stateNode;_.pendingContext?ag(a,_.pendingContext,_.pendingContext!==_.context):_.context&&ag(a,_.context,!1),yh(a,_.containerInfo)}function lj(a,_,$,j,et){return Ig(),Jg(et),_.flags|=256,Xi(a,_,$,j),_.child}var mj={dehydrated:null,treeContext:null,retryLane:0};function nj(a){return{baseLanes:a,cachePool:null,transitions:null}}function oj(a,_,$){var j=_.pendingProps,et=L.current,tt=!1,rt=(_.flags&128)!==0,nt;if((nt=rt)||(nt=a!==null&&a.memoizedState===null?!1:(et&2)!==0),nt?(tt=!0,_.flags&=-129):(a===null||a.memoizedState!==null)&&(et|=1),G(L,et&1),a===null)return Eg(_),a=_.memoizedState,a!==null&&(a=a.dehydrated,a!==null)?(_.mode&1?a.data==="$!"?_.lanes=8:_.lanes=1073741824:_.lanes=1,null):(rt=j.children,a=j.fallback,tt?(j=_.mode,tt=_.child,rt={mode:"hidden",children:rt},!(j&1)&&tt!==null?(tt.childLanes=0,tt.pendingProps=rt):tt=pj(rt,j,0,null),a=Tg(a,j,$,null),tt.return=_,a.return=_,tt.sibling=a,_.child=tt,_.child.memoizedState=nj($),_.memoizedState=mj,a):qj(_,rt));if(et=a.memoizedState,et!==null&&(nt=et.dehydrated,nt!==null))return rj(a,_,rt,j,nt,et,$);if(tt){tt=j.fallback,rt=_.mode,et=a.child,nt=et.sibling;var it={mode:"hidden",children:j.children};return!(rt&1)&&_.child!==et?(j=_.child,j.childLanes=0,j.pendingProps=it,_.deletions=null):(j=Pg(et,it),j.subtreeFlags=et.subtreeFlags&14680064),nt!==null?tt=Pg(nt,tt):(tt=Tg(tt,rt,$,null),tt.flags|=2),tt.return=_,j.return=_,j.sibling=tt,_.child=j,j=tt,tt=_.child,rt=a.child.memoizedState,rt=rt===null?nj($):{baseLanes:rt.baseLanes|$,cachePool:null,transitions:rt.transitions},tt.memoizedState=rt,tt.childLanes=a.childLanes&~$,_.memoizedState=mj,j}return tt=a.child,a=tt.sibling,j=Pg(tt,{mode:"visible",children:j.children}),!(_.mode&1)&&(j.lanes=$),j.return=_,j.sibling=null,a!==null&&($=_.deletions,$===null?(_.deletions=[a],_.flags|=16):$.push(a)),_.child=j,_.memoizedState=null,j}function qj(a,_){return _=pj({mode:"visible",children:_},a.mode,0,null),_.return=a,a.child=_}function sj(a,_,$,j){return j!==null&&Jg(j),Ug(_,a.child,null,$),a=qj(_,_.pendingProps.children),a.flags|=2,_.memoizedState=null,a}function rj(a,_,$,j,et,tt,rt){if($)return _.flags&256?(_.flags&=-257,j=Ki(Error(p$2(422))),sj(a,_,rt,j)):_.memoizedState!==null?(_.child=a.child,_.flags|=128,null):(tt=j.fallback,et=_.mode,j=pj({mode:"visible",children:j.children},et,0,null),tt=Tg(tt,et,rt,null),tt.flags|=2,j.return=_,tt.return=_,j.sibling=tt,_.child=j,_.mode&1&&Ug(_,a.child,null,rt),_.child.memoizedState=nj(rt),_.memoizedState=mj,tt);if(!(_.mode&1))return sj(a,_,rt,null);if(et.data==="$!"){if(j=et.nextSibling&&et.nextSibling.dataset,j)var nt=j.dgst;return j=nt,tt=Error(p$2(419)),j=Ki(tt,j,void 0),sj(a,_,rt,j)}if(nt=(rt&a.childLanes)!==0,dh$1||nt){if(j=Q,j!==null){switch(rt&-rt){case 4:et=2;break;case 16:et=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:et=32;break;case 536870912:et=268435456;break;default:et=0}et=et&(j.suspendedLanes|rt)?0:et,et!==0&&et!==tt.retryLane&&(tt.retryLane=et,ih(a,et),gi(j,a,et,-1))}return tj(),j=Ki(Error(p$2(421))),sj(a,_,rt,j)}return et.data==="$?"?(_.flags|=128,_.child=a.child,_=uj.bind(null,a),et._reactRetry=_,null):(a=tt.treeContext,yg=Lf(et.nextSibling),xg=_,I=!0,zg=null,a!==null&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=a.id,sg=a.overflow,qg=_),_=qj(_,j.children),_.flags|=4096,_)}function vj(a,_,$){a.lanes|=_;var j=a.alternate;j!==null&&(j.lanes|=_),bh(a.return,_,$)}function wj(a,_,$,j,et){var tt=a.memoizedState;tt===null?a.memoizedState={isBackwards:_,rendering:null,renderingStartTime:0,last:j,tail:$,tailMode:et}:(tt.isBackwards=_,tt.rendering=null,tt.renderingStartTime=0,tt.last=j,tt.tail=$,tt.tailMode=et)}function xj(a,_,$){var j=_.pendingProps,et=j.revealOrder,tt=j.tail;if(Xi(a,_,j.children,$),j=L.current,j&2)j=j&1|2,_.flags|=128;else{if(a!==null&&a.flags&128)e:for(a=_.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&vj(a,$,_);else if(a.tag===19)vj(a,$,_);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===_)break e;for(;a.sibling===null;){if(a.return===null||a.return===_)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}j&=1}if(G(L,j),!(_.mode&1))_.memoizedState=null;else switch(et){case"forwards":for($=_.child,et=null;$!==null;)a=$.alternate,a!==null&&Ch$1(a)===null&&(et=$),$=$.sibling;$=et,$===null?(et=_.child,_.child=null):(et=$.sibling,$.sibling=null),wj(_,!1,et,$,tt);break;case"backwards":for($=null,et=_.child,_.child=null;et!==null;){if(a=et.alternate,a!==null&&Ch$1(a)===null){_.child=et;break}a=et.sibling,et.sibling=$,$=et,et=a}wj(_,!0,$,null,tt);break;case"together":wj(_,!1,null,null,void 0);break;default:_.memoizedState=null}return _.child}function ij(a,_){!(_.mode&1)&&a!==null&&(a.alternate=null,_.alternate=null,_.flags|=2)}function Zi(a,_,$){if(a!==null&&(_.dependencies=a.dependencies),rh$1|=_.lanes,!($&_.childLanes))return null;if(a!==null&&_.child!==a.child)throw Error(p$2(153));if(_.child!==null){for(a=_.child,$=Pg(a,a.pendingProps),_.child=$,$.return=_;a.sibling!==null;)a=a.sibling,$=$.sibling=Pg(a,a.pendingProps),$.return=_;$.sibling=null}return _.child}function yj(a,_,$){switch(_.tag){case 3:kj(_),Ig();break;case 5:Ah(_);break;case 1:Zf(_.type)&&cg(_);break;case 4:yh(_,_.stateNode.containerInfo);break;case 10:var j=_.type._context,et=_.memoizedProps.value;G(Wg,j._currentValue),j._currentValue=et;break;case 13:if(j=_.memoizedState,j!==null)return j.dehydrated!==null?(G(L,L.current&1),_.flags|=128,null):$&_.child.childLanes?oj(a,_,$):(G(L,L.current&1),a=Zi(a,_,$),a!==null?a.sibling:null);G(L,L.current&1);break;case 19:if(j=($&_.childLanes)!==0,a.flags&128){if(j)return xj(a,_,$);_.flags|=128}if(et=_.memoizedState,et!==null&&(et.rendering=null,et.tail=null,et.lastEffect=null),G(L,L.current),j)break;return null;case 22:case 23:return _.lanes=0,dj(a,_,$)}return Zi(a,_,$)}var zj,Aj,Bj,Cj;zj=function(a,_){for(var $=_.child;$!==null;){if($.tag===5||$.tag===6)a.appendChild($.stateNode);else if($.tag!==4&&$.child!==null){$.child.return=$,$=$.child;continue}if($===_)break;for(;$.sibling===null;){if($.return===null||$.return===_)return;$=$.return}$.sibling.return=$.return,$=$.sibling}};Aj=function(){};Bj=function(a,_,$,j){var et=a.memoizedProps;if(et!==j){a=_.stateNode,xh(uh.current);var tt=null;switch($){case"input":et=Ya(a,et),j=Ya(a,j),tt=[];break;case"select":et=A$1({},et,{value:void 0}),j=A$1({},j,{value:void 0}),tt=[];break;case"textarea":et=gb(a,et),j=gb(a,j),tt=[];break;default:typeof et.onClick!="function"&&typeof j.onClick=="function"&&(a.onclick=Bf)}ub($,j);var rt;$=null;for(st in et)if(!j.hasOwnProperty(st)&&et.hasOwnProperty(st)&&et[st]!=null)if(st==="style"){var nt=et[st];for(rt in nt)nt.hasOwnProperty(rt)&&($||($={}),$[rt]="")}else st!=="dangerouslySetInnerHTML"&&st!=="children"&&st!=="suppressContentEditableWarning"&&st!=="suppressHydrationWarning"&&st!=="autoFocus"&&(ea.hasOwnProperty(st)?tt||(tt=[]):(tt=tt||[]).push(st,null));for(st in j){var it=j[st];if(nt=et!=null?et[st]:void 0,j.hasOwnProperty(st)&&it!==nt&&(it!=null||nt!=null))if(st==="style")if(nt){for(rt in nt)!nt.hasOwnProperty(rt)||it&&it.hasOwnProperty(rt)||($||($={}),$[rt]="");for(rt in it)it.hasOwnProperty(rt)&&nt[rt]!==it[rt]&&($||($={}),$[rt]=it[rt])}else $||(tt||(tt=[]),tt.push(st,$)),$=it;else st==="dangerouslySetInnerHTML"?(it=it?it.__html:void 0,nt=nt?nt.__html:void 0,it!=null&&nt!==it&&(tt=tt||[]).push(st,it)):st==="children"?typeof it!="string"&&typeof it!="number"||(tt=tt||[]).push(st,""+it):st!=="suppressContentEditableWarning"&&st!=="suppressHydrationWarning"&&(ea.hasOwnProperty(st)?(it!=null&&st==="onScroll"&&D("scroll",a),tt||nt===it||(tt=[])):(tt=tt||[]).push(st,it))}$&&(tt=tt||[]).push("style",$);var st=tt;(_.updateQueue=st)&&(_.flags|=4)}};Cj=function(a,_,$,j){$!==j&&(_.flags|=4)};function Dj(a,_){if(!I)switch(a.tailMode){case"hidden":_=a.tail;for(var $=null;_!==null;)_.alternate!==null&&($=_),_=_.sibling;$===null?a.tail=null:$.sibling=null;break;case"collapsed":$=a.tail;for(var j=null;$!==null;)$.alternate!==null&&(j=$),$=$.sibling;j===null?_||a.tail===null?a.tail=null:a.tail.sibling=null:j.sibling=null}}function S(a){var _=a.alternate!==null&&a.alternate.child===a.child,$=0,j=0;if(_)for(var et=a.child;et!==null;)$|=et.lanes|et.childLanes,j|=et.subtreeFlags&14680064,j|=et.flags&14680064,et.return=a,et=et.sibling;else for(et=a.child;et!==null;)$|=et.lanes|et.childLanes,j|=et.subtreeFlags,j|=et.flags,et.return=a,et=et.sibling;return a.subtreeFlags|=j,a.childLanes=$,_}function Ej(a,_,$){var j=_.pendingProps;switch(wg(_),_.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S(_),null;case 1:return Zf(_.type)&&$f(),S(_),null;case 3:return j=_.stateNode,zh(),E(Wf),E(H$1),Eh(),j.pendingContext&&(j.context=j.pendingContext,j.pendingContext=null),(a===null||a.child===null)&&(Gg(_)?_.flags|=4:a===null||a.memoizedState.isDehydrated&&!(_.flags&256)||(_.flags|=1024,zg!==null&&(Fj(zg),zg=null))),Aj(a,_),S(_),null;case 5:Bh(_);var et=xh(wh.current);if($=_.type,a!==null&&_.stateNode!=null)Bj(a,_,$,j,et),a.ref!==_.ref&&(_.flags|=512,_.flags|=2097152);else{if(!j){if(_.stateNode===null)throw Error(p$2(166));return S(_),null}if(a=xh(uh.current),Gg(_)){j=_.stateNode,$=_.type;var tt=_.memoizedProps;switch(j[Of]=_,j[Pf]=tt,a=(_.mode&1)!==0,$){case"dialog":D("cancel",j),D("close",j);break;case"iframe":case"object":case"embed":D("load",j);break;case"video":case"audio":for(et=0;et<lf.length;et++)D(lf[et],j);break;case"source":D("error",j);break;case"img":case"image":case"link":D("error",j),D("load",j);break;case"details":D("toggle",j);break;case"input":Za(j,tt),D("invalid",j);break;case"select":j._wrapperState={wasMultiple:!!tt.multiple},D("invalid",j);break;case"textarea":hb(j,tt),D("invalid",j)}ub($,tt),et=null;for(var rt in tt)if(tt.hasOwnProperty(rt)){var nt=tt[rt];rt==="children"?typeof nt=="string"?j.textContent!==nt&&(tt.suppressHydrationWarning!==!0&&Af(j.textContent,nt,a),et=["children",nt]):typeof nt=="number"&&j.textContent!==""+nt&&(tt.suppressHydrationWarning!==!0&&Af(j.textContent,nt,a),et=["children",""+nt]):ea.hasOwnProperty(rt)&&nt!=null&&rt==="onScroll"&&D("scroll",j)}switch($){case"input":Va(j),db(j,tt,!0);break;case"textarea":Va(j),jb(j);break;case"select":case"option":break;default:typeof tt.onClick=="function"&&(j.onclick=Bf)}j=et,_.updateQueue=j,j!==null&&(_.flags|=4)}else{rt=et.nodeType===9?et:et.ownerDocument,a==="http://www.w3.org/1999/xhtml"&&(a=kb($)),a==="http://www.w3.org/1999/xhtml"?$==="script"?(a=rt.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild)):typeof j.is=="string"?a=rt.createElement($,{is:j.is}):(a=rt.createElement($),$==="select"&&(rt=a,j.multiple?rt.multiple=!0:j.size&&(rt.size=j.size))):a=rt.createElementNS(a,$),a[Of]=_,a[Pf]=j,zj(a,_,!1,!1),_.stateNode=a;e:{switch(rt=vb($,j),$){case"dialog":D("cancel",a),D("close",a),et=j;break;case"iframe":case"object":case"embed":D("load",a),et=j;break;case"video":case"audio":for(et=0;et<lf.length;et++)D(lf[et],a);et=j;break;case"source":D("error",a),et=j;break;case"img":case"image":case"link":D("error",a),D("load",a),et=j;break;case"details":D("toggle",a),et=j;break;case"input":Za(a,j),et=Ya(a,j),D("invalid",a);break;case"option":et=j;break;case"select":a._wrapperState={wasMultiple:!!j.multiple},et=A$1({},j,{value:void 0}),D("invalid",a);break;case"textarea":hb(a,j),et=gb(a,j),D("invalid",a);break;default:et=j}ub($,et),nt=et;for(tt in nt)if(nt.hasOwnProperty(tt)){var it=nt[tt];tt==="style"?sb(a,it):tt==="dangerouslySetInnerHTML"?(it=it?it.__html:void 0,it!=null&&nb(a,it)):tt==="children"?typeof it=="string"?($!=="textarea"||it!=="")&&ob(a,it):typeof it=="number"&&ob(a,""+it):tt!=="suppressContentEditableWarning"&&tt!=="suppressHydrationWarning"&&tt!=="autoFocus"&&(ea.hasOwnProperty(tt)?it!=null&&tt==="onScroll"&&D("scroll",a):it!=null&&ta(a,tt,it,rt))}switch($){case"input":Va(a),db(a,j,!1);break;case"textarea":Va(a),jb(a);break;case"option":j.value!=null&&a.setAttribute("value",""+Sa(j.value));break;case"select":a.multiple=!!j.multiple,tt=j.value,tt!=null?fb(a,!!j.multiple,tt,!1):j.defaultValue!=null&&fb(a,!!j.multiple,j.defaultValue,!0);break;default:typeof et.onClick=="function"&&(a.onclick=Bf)}switch($){case"button":case"input":case"select":case"textarea":j=!!j.autoFocus;break e;case"img":j=!0;break e;default:j=!1}}j&&(_.flags|=4)}_.ref!==null&&(_.flags|=512,_.flags|=2097152)}return S(_),null;case 6:if(a&&_.stateNode!=null)Cj(a,_,a.memoizedProps,j);else{if(typeof j!="string"&&_.stateNode===null)throw Error(p$2(166));if($=xh(wh.current),xh(uh.current),Gg(_)){if(j=_.stateNode,$=_.memoizedProps,j[Of]=_,(tt=j.nodeValue!==$)&&(a=xg,a!==null))switch(a.tag){case 3:Af(j.nodeValue,$,(a.mode&1)!==0);break;case 5:a.memoizedProps.suppressHydrationWarning!==!0&&Af(j.nodeValue,$,(a.mode&1)!==0)}tt&&(_.flags|=4)}else j=($.nodeType===9?$:$.ownerDocument).createTextNode(j),j[Of]=_,_.stateNode=j}return S(_),null;case 13:if(E(L),j=_.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(I&&yg!==null&&_.mode&1&&!(_.flags&128))Hg(),Ig(),_.flags|=98560,tt=!1;else if(tt=Gg(_),j!==null&&j.dehydrated!==null){if(a===null){if(!tt)throw Error(p$2(318));if(tt=_.memoizedState,tt=tt!==null?tt.dehydrated:null,!tt)throw Error(p$2(317));tt[Of]=_}else Ig(),!(_.flags&128)&&(_.memoizedState=null),_.flags|=4;S(_),tt=!1}else zg!==null&&(Fj(zg),zg=null),tt=!0;if(!tt)return _.flags&65536?_:null}return _.flags&128?(_.lanes=$,_):(j=j!==null,j!==(a!==null&&a.memoizedState!==null)&&j&&(_.child.flags|=8192,_.mode&1&&(a===null||L.current&1?T===0&&(T=3):tj())),_.updateQueue!==null&&(_.flags|=4),S(_),null);case 4:return zh(),Aj(a,_),a===null&&sf(_.stateNode.containerInfo),S(_),null;case 10:return ah(_.type._context),S(_),null;case 17:return Zf(_.type)&&$f(),S(_),null;case 19:if(E(L),tt=_.memoizedState,tt===null)return S(_),null;if(j=(_.flags&128)!==0,rt=tt.rendering,rt===null)if(j)Dj(tt,!1);else{if(T!==0||a!==null&&a.flags&128)for(a=_.child;a!==null;){if(rt=Ch$1(a),rt!==null){for(_.flags|=128,Dj(tt,!1),j=rt.updateQueue,j!==null&&(_.updateQueue=j,_.flags|=4),_.subtreeFlags=0,j=$,$=_.child;$!==null;)tt=$,a=j,tt.flags&=14680066,rt=tt.alternate,rt===null?(tt.childLanes=0,tt.lanes=a,tt.child=null,tt.subtreeFlags=0,tt.memoizedProps=null,tt.memoizedState=null,tt.updateQueue=null,tt.dependencies=null,tt.stateNode=null):(tt.childLanes=rt.childLanes,tt.lanes=rt.lanes,tt.child=rt.child,tt.subtreeFlags=0,tt.deletions=null,tt.memoizedProps=rt.memoizedProps,tt.memoizedState=rt.memoizedState,tt.updateQueue=rt.updateQueue,tt.type=rt.type,a=rt.dependencies,tt.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),$=$.sibling;return G(L,L.current&1|2),_.child}a=a.sibling}tt.tail!==null&&B()>Gj&&(_.flags|=128,j=!0,Dj(tt,!1),_.lanes=4194304)}else{if(!j)if(a=Ch$1(rt),a!==null){if(_.flags|=128,j=!0,$=a.updateQueue,$!==null&&(_.updateQueue=$,_.flags|=4),Dj(tt,!0),tt.tail===null&&tt.tailMode==="hidden"&&!rt.alternate&&!I)return S(_),null}else 2*B()-tt.renderingStartTime>Gj&&$!==1073741824&&(_.flags|=128,j=!0,Dj(tt,!1),_.lanes=4194304);tt.isBackwards?(rt.sibling=_.child,_.child=rt):($=tt.last,$!==null?$.sibling=rt:_.child=rt,tt.last=rt)}return tt.tail!==null?(_=tt.tail,tt.rendering=_,tt.tail=_.sibling,tt.renderingStartTime=B(),_.sibling=null,$=L.current,G(L,j?$&1|2:$&1),_):(S(_),null);case 22:case 23:return Hj(),j=_.memoizedState!==null,a!==null&&a.memoizedState!==null!==j&&(_.flags|=8192),j&&_.mode&1?fj&1073741824&&(S(_),_.subtreeFlags&6&&(_.flags|=8192)):S(_),null;case 24:return null;case 25:return null}throw Error(p$2(156,_.tag))}function Ij(a,_){switch(wg(_),_.tag){case 1:return Zf(_.type)&&$f(),a=_.flags,a&65536?(_.flags=a&-65537|128,_):null;case 3:return zh(),E(Wf),E(H$1),Eh(),a=_.flags,a&65536&&!(a&128)?(_.flags=a&-65537|128,_):null;case 5:return Bh(_),null;case 13:if(E(L),a=_.memoizedState,a!==null&&a.dehydrated!==null){if(_.alternate===null)throw Error(p$2(340));Ig()}return a=_.flags,a&65536?(_.flags=a&-65537|128,_):null;case 19:return E(L),null;case 4:return zh(),null;case 10:return ah(_.type._context),null;case 22:case 23:return Hj(),null;case 24:return null;default:return null}}var Jj=!1,U=!1,Kj=typeof WeakSet=="function"?WeakSet:Set,V=null;function Lj(a,_){var $=a.ref;if($!==null)if(typeof $=="function")try{$(null)}catch(j){W$6(a,_,j)}else $.current=null}function Mj(a,_,$){try{$()}catch(j){W$6(a,_,j)}}var Nj=!1;function Oj(a,_){if(Cf=dd,a=Me(),Ne(a)){if("selectionStart"in a)var $={start:a.selectionStart,end:a.selectionEnd};else e:{$=($=a.ownerDocument)&&$.defaultView||window;var j=$.getSelection&&$.getSelection();if(j&&j.rangeCount!==0){$=j.anchorNode;var et=j.anchorOffset,tt=j.focusNode;j=j.focusOffset;try{$.nodeType,tt.nodeType}catch{$=null;break e}var rt=0,nt=-1,it=-1,st=0,ot=0,at=a,ut=null;t:for(;;){for(var ht;at!==$||et!==0&&at.nodeType!==3||(nt=rt+et),at!==tt||j!==0&&at.nodeType!==3||(it=rt+j),at.nodeType===3&&(rt+=at.nodeValue.length),(ht=at.firstChild)!==null;)ut=at,at=ht;for(;;){if(at===a)break t;if(ut===$&&++st===et&&(nt=rt),ut===tt&&++ot===j&&(it=rt),(ht=at.nextSibling)!==null)break;at=ut,ut=at.parentNode}at=ht}$=nt===-1||it===-1?null:{start:nt,end:it}}else $=null}$=$||{start:0,end:0}}else $=null;for(Df={focusedElem:a,selectionRange:$},dd=!1,V=_;V!==null;)if(_=V,a=_.child,(_.subtreeFlags&1028)!==0&&a!==null)a.return=_,V=a;else for(;V!==null;){_=V;try{var yt=_.alternate;if(_.flags&1024)switch(_.tag){case 0:case 11:case 15:break;case 1:if(yt!==null){var wt=yt.memoizedProps,Ct=yt.memoizedState,Pt=_.stateNode,Tt=Pt.getSnapshotBeforeUpdate(_.elementType===_.type?wt:Ci(_.type,wt),Ct);Pt.__reactInternalSnapshotBeforeUpdate=Tt}break;case 3:var Mt=_.stateNode.containerInfo;Mt.nodeType===1?Mt.textContent="":Mt.nodeType===9&&Mt.documentElement&&Mt.removeChild(Mt.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p$2(163))}}catch(Lt){W$6(_,_.return,Lt)}if(a=_.sibling,a!==null){a.return=_.return,V=a;break}V=_.return}return yt=Nj,Nj=!1,yt}function Pj(a,_,$){var j=_.updateQueue;if(j=j!==null?j.lastEffect:null,j!==null){var et=j=j.next;do{if((et.tag&a)===a){var tt=et.destroy;et.destroy=void 0,tt!==void 0&&Mj(_,$,tt)}et=et.next}while(et!==j)}}function Qj(a,_){if(_=_.updateQueue,_=_!==null?_.lastEffect:null,_!==null){var $=_=_.next;do{if(($.tag&a)===a){var j=$.create;$.destroy=j()}$=$.next}while($!==_)}}function Rj(a){var _=a.ref;if(_!==null){var $=a.stateNode;switch(a.tag){case 5:a=$;break;default:a=$}typeof _=="function"?_(a):_.current=a}}function Sj(a){var _=a.alternate;_!==null&&(a.alternate=null,Sj(_)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(_=a.stateNode,_!==null&&(delete _[Of],delete _[Pf],delete _[of$1],delete _[Qf],delete _[Rf])),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}function Tj(a){return a.tag===5||a.tag===3||a.tag===4}function Uj(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||Tj(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function Vj(a,_,$){var j=a.tag;if(j===5||j===6)a=a.stateNode,_?$.nodeType===8?$.parentNode.insertBefore(a,_):$.insertBefore(a,_):($.nodeType===8?(_=$.parentNode,_.insertBefore(a,$)):(_=$,_.appendChild(a)),$=$._reactRootContainer,$!=null||_.onclick!==null||(_.onclick=Bf));else if(j!==4&&(a=a.child,a!==null))for(Vj(a,_,$),a=a.sibling;a!==null;)Vj(a,_,$),a=a.sibling}function Wj(a,_,$){var j=a.tag;if(j===5||j===6)a=a.stateNode,_?$.insertBefore(a,_):$.appendChild(a);else if(j!==4&&(a=a.child,a!==null))for(Wj(a,_,$),a=a.sibling;a!==null;)Wj(a,_,$),a=a.sibling}var X=null,Xj=!1;function Yj(a,_,$){for($=$.child;$!==null;)Zj(a,_,$),$=$.sibling}function Zj(a,_,$){if(lc&&typeof lc.onCommitFiberUnmount=="function")try{lc.onCommitFiberUnmount(kc,$)}catch{}switch($.tag){case 5:U||Lj($,_);case 6:var j=X,et=Xj;X=null,Yj(a,_,$),X=j,Xj=et,X!==null&&(Xj?(a=X,$=$.stateNode,a.nodeType===8?a.parentNode.removeChild($):a.removeChild($)):X.removeChild($.stateNode));break;case 18:X!==null&&(Xj?(a=X,$=$.stateNode,a.nodeType===8?Kf(a.parentNode,$):a.nodeType===1&&Kf(a,$),bd(a)):Kf(X,$.stateNode));break;case 4:j=X,et=Xj,X=$.stateNode.containerInfo,Xj=!0,Yj(a,_,$),X=j,Xj=et;break;case 0:case 11:case 14:case 15:if(!U&&(j=$.updateQueue,j!==null&&(j=j.lastEffect,j!==null))){et=j=j.next;do{var tt=et,rt=tt.destroy;tt=tt.tag,rt!==void 0&&(tt&2||tt&4)&&Mj($,_,rt),et=et.next}while(et!==j)}Yj(a,_,$);break;case 1:if(!U&&(Lj($,_),j=$.stateNode,typeof j.componentWillUnmount=="function"))try{j.props=$.memoizedProps,j.state=$.memoizedState,j.componentWillUnmount()}catch(nt){W$6($,_,nt)}Yj(a,_,$);break;case 21:Yj(a,_,$);break;case 22:$.mode&1?(U=(j=U)||$.memoizedState!==null,Yj(a,_,$),U=j):Yj(a,_,$);break;default:Yj(a,_,$)}}function ak(a){var _=a.updateQueue;if(_!==null){a.updateQueue=null;var $=a.stateNode;$===null&&($=a.stateNode=new Kj),_.forEach(function(j){var et=bk.bind(null,a,j);$.has(j)||($.add(j),j.then(et,et))})}}function ck(a,_){var $=_.deletions;if($!==null)for(var j=0;j<$.length;j++){var et=$[j];try{var tt=a,rt=_,nt=rt;e:for(;nt!==null;){switch(nt.tag){case 5:X=nt.stateNode,Xj=!1;break e;case 3:X=nt.stateNode.containerInfo,Xj=!0;break e;case 4:X=nt.stateNode.containerInfo,Xj=!0;break e}nt=nt.return}if(X===null)throw Error(p$2(160));Zj(tt,rt,et),X=null,Xj=!1;var it=et.alternate;it!==null&&(it.return=null),et.return=null}catch(st){W$6(et,_,st)}}if(_.subtreeFlags&12854)for(_=_.child;_!==null;)dk(_,a),_=_.sibling}function dk(a,_){var $=a.alternate,j=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:if(ck(_,a),ek(a),j&4){try{Pj(3,a,a.return),Qj(3,a)}catch(wt){W$6(a,a.return,wt)}try{Pj(5,a,a.return)}catch(wt){W$6(a,a.return,wt)}}break;case 1:ck(_,a),ek(a),j&512&&$!==null&&Lj($,$.return);break;case 5:if(ck(_,a),ek(a),j&512&&$!==null&&Lj($,$.return),a.flags&32){var et=a.stateNode;try{ob(et,"")}catch(wt){W$6(a,a.return,wt)}}if(j&4&&(et=a.stateNode,et!=null)){var tt=a.memoizedProps,rt=$!==null?$.memoizedProps:tt,nt=a.type,it=a.updateQueue;if(a.updateQueue=null,it!==null)try{nt==="input"&&tt.type==="radio"&&tt.name!=null&&ab(et,tt),vb(nt,rt);var st=vb(nt,tt);for(rt=0;rt<it.length;rt+=2){var ot=it[rt],at=it[rt+1];ot==="style"?sb(et,at):ot==="dangerouslySetInnerHTML"?nb(et,at):ot==="children"?ob(et,at):ta(et,ot,at,st)}switch(nt){case"input":bb(et,tt);break;case"textarea":ib(et,tt);break;case"select":var ut=et._wrapperState.wasMultiple;et._wrapperState.wasMultiple=!!tt.multiple;var ht=tt.value;ht!=null?fb(et,!!tt.multiple,ht,!1):ut!==!!tt.multiple&&(tt.defaultValue!=null?fb(et,!!tt.multiple,tt.defaultValue,!0):fb(et,!!tt.multiple,tt.multiple?[]:"",!1))}et[Pf]=tt}catch(wt){W$6(a,a.return,wt)}}break;case 6:if(ck(_,a),ek(a),j&4){if(a.stateNode===null)throw Error(p$2(162));et=a.stateNode,tt=a.memoizedProps;try{et.nodeValue=tt}catch(wt){W$6(a,a.return,wt)}}break;case 3:if(ck(_,a),ek(a),j&4&&$!==null&&$.memoizedState.isDehydrated)try{bd(_.containerInfo)}catch(wt){W$6(a,a.return,wt)}break;case 4:ck(_,a),ek(a);break;case 13:ck(_,a),ek(a),et=a.child,et.flags&8192&&(tt=et.memoizedState!==null,et.stateNode.isHidden=tt,!tt||et.alternate!==null&&et.alternate.memoizedState!==null||(fk=B())),j&4&&ak(a);break;case 22:if(ot=$!==null&&$.memoizedState!==null,a.mode&1?(U=(st=U)||ot,ck(_,a),U=st):ck(_,a),ek(a),j&8192){if(st=a.memoizedState!==null,(a.stateNode.isHidden=st)&&!ot&&a.mode&1)for(V=a,ot=a.child;ot!==null;){for(at=V=ot;V!==null;){switch(ut=V,ht=ut.child,ut.tag){case 0:case 11:case 14:case 15:Pj(4,ut,ut.return);break;case 1:Lj(ut,ut.return);var yt=ut.stateNode;if(typeof yt.componentWillUnmount=="function"){j=ut,$=ut.return;try{_=j,yt.props=_.memoizedProps,yt.state=_.memoizedState,yt.componentWillUnmount()}catch(wt){W$6(j,$,wt)}}break;case 5:Lj(ut,ut.return);break;case 22:if(ut.memoizedState!==null){gk(at);continue}}ht!==null?(ht.return=ut,V=ht):gk(at)}ot=ot.sibling}e:for(ot=null,at=a;;){if(at.tag===5){if(ot===null){ot=at;try{et=at.stateNode,st?(tt=et.style,typeof tt.setProperty=="function"?tt.setProperty("display","none","important"):tt.display="none"):(nt=at.stateNode,it=at.memoizedProps.style,rt=it!=null&&it.hasOwnProperty("display")?it.display:null,nt.style.display=rb("display",rt))}catch(wt){W$6(a,a.return,wt)}}}else if(at.tag===6){if(ot===null)try{at.stateNode.nodeValue=st?"":at.memoizedProps}catch(wt){W$6(a,a.return,wt)}}else if((at.tag!==22&&at.tag!==23||at.memoizedState===null||at===a)&&at.child!==null){at.child.return=at,at=at.child;continue}if(at===a)break e;for(;at.sibling===null;){if(at.return===null||at.return===a)break e;ot===at&&(ot=null),at=at.return}ot===at&&(ot=null),at.sibling.return=at.return,at=at.sibling}}break;case 19:ck(_,a),ek(a),j&4&&ak(a);break;case 21:break;default:ck(_,a),ek(a)}}function ek(a){var _=a.flags;if(_&2){try{e:{for(var $=a.return;$!==null;){if(Tj($)){var j=$;break e}$=$.return}throw Error(p$2(160))}switch(j.tag){case 5:var et=j.stateNode;j.flags&32&&(ob(et,""),j.flags&=-33);var tt=Uj(a);Wj(a,tt,et);break;case 3:case 4:var rt=j.stateNode.containerInfo,nt=Uj(a);Vj(a,nt,rt);break;default:throw Error(p$2(161))}}catch(it){W$6(a,a.return,it)}a.flags&=-3}_&4096&&(a.flags&=-4097)}function hk(a,_,$){V=a,ik(a)}function ik(a,_,$){for(var j=(a.mode&1)!==0;V!==null;){var et=V,tt=et.child;if(et.tag===22&&j){var rt=et.memoizedState!==null||Jj;if(!rt){var nt=et.alternate,it=nt!==null&&nt.memoizedState!==null||U;nt=Jj;var st=U;if(Jj=rt,(U=it)&&!st)for(V=et;V!==null;)rt=V,it=rt.child,rt.tag===22&&rt.memoizedState!==null?jk(et):it!==null?(it.return=rt,V=it):jk(et);for(;tt!==null;)V=tt,ik(tt),tt=tt.sibling;V=et,Jj=nt,U=st}kk(a)}else et.subtreeFlags&8772&&tt!==null?(tt.return=et,V=tt):kk(a)}}function kk(a){for(;V!==null;){var _=V;if(_.flags&8772){var $=_.alternate;try{if(_.flags&8772)switch(_.tag){case 0:case 11:case 15:U||Qj(5,_);break;case 1:var j=_.stateNode;if(_.flags&4&&!U)if($===null)j.componentDidMount();else{var et=_.elementType===_.type?$.memoizedProps:Ci(_.type,$.memoizedProps);j.componentDidUpdate(et,$.memoizedState,j.__reactInternalSnapshotBeforeUpdate)}var tt=_.updateQueue;tt!==null&&sh$1(_,tt,j);break;case 3:var rt=_.updateQueue;if(rt!==null){if($=null,_.child!==null)switch(_.child.tag){case 5:$=_.child.stateNode;break;case 1:$=_.child.stateNode}sh$1(_,rt,$)}break;case 5:var nt=_.stateNode;if($===null&&_.flags&4){$=nt;var it=_.memoizedProps;switch(_.type){case"button":case"input":case"select":case"textarea":it.autoFocus&&$.focus();break;case"img":it.src&&($.src=it.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(_.memoizedState===null){var st=_.alternate;if(st!==null){var ot=st.memoizedState;if(ot!==null){var at=ot.dehydrated;at!==null&&bd(at)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(p$2(163))}U||_.flags&512&&Rj(_)}catch(ut){W$6(_,_.return,ut)}}if(_===a){V=null;break}if($=_.sibling,$!==null){$.return=_.return,V=$;break}V=_.return}}function gk(a){for(;V!==null;){var _=V;if(_===a){V=null;break}var $=_.sibling;if($!==null){$.return=_.return,V=$;break}V=_.return}}function jk(a){for(;V!==null;){var _=V;try{switch(_.tag){case 0:case 11:case 15:var $=_.return;try{Qj(4,_)}catch(it){W$6(_,$,it)}break;case 1:var j=_.stateNode;if(typeof j.componentDidMount=="function"){var et=_.return;try{j.componentDidMount()}catch(it){W$6(_,et,it)}}var tt=_.return;try{Rj(_)}catch(it){W$6(_,tt,it)}break;case 5:var rt=_.return;try{Rj(_)}catch(it){W$6(_,rt,it)}}}catch(it){W$6(_,_.return,it)}if(_===a){V=null;break}var nt=_.sibling;if(nt!==null){nt.return=_.return,V=nt;break}V=_.return}}var lk=Math.ceil,mk=ua.ReactCurrentDispatcher,nk=ua.ReactCurrentOwner,ok$1=ua.ReactCurrentBatchConfig,K$6=0,Q=null,Y=null,Z=0,fj=0,ej=Uf(0),T=0,pk=null,rh$1=0,qk=0,rk=0,sk=null,tk=null,fk=0,Gj=1/0,uk=null,Oi=!1,Pi=null,Ri=null,vk=!1,wk=null,xk=0,yk=0,zk=null,Ak=-1,Bk=0;function R$1(){return K$6&6?B():Ak!==-1?Ak:Ak=B()}function yi(a){return a.mode&1?K$6&2&&Z!==0?Z&-Z:Kg.transition!==null?(Bk===0&&(Bk=yc()),Bk):(a=C,a!==0||(a=window.event,a=a===void 0?16:jd(a.type)),a):1}function gi(a,_,$,j){if(50<yk)throw yk=0,zk=null,Error(p$2(185));Ac(a,$,j),(!(K$6&2)||a!==Q)&&(a===Q&&(!(K$6&2)&&(qk|=$),T===4&&Ck(a,Z)),Dk(a,j),$===1&&K$6===0&&!(_.mode&1)&&(Gj=B()+500,fg&&jg()))}function Dk(a,_){var $=a.callbackNode;wc(a,_);var j=uc(a,a===Q?Z:0);if(j===0)$!==null&&bc($),a.callbackNode=null,a.callbackPriority=0;else if(_=j&-j,a.callbackPriority!==_){if($!=null&&bc($),_===1)a.tag===0?ig(Ek.bind(null,a)):hg(Ek.bind(null,a)),Jf(function(){!(K$6&6)&&jg()}),$=null;else{switch(Dc(j)){case 1:$=fc;break;case 4:$=gc;break;case 16:$=hc;break;case 536870912:$=jc;break;default:$=hc}$=Fk($,Gk.bind(null,a))}a.callbackPriority=_,a.callbackNode=$}}function Gk(a,_){if(Ak=-1,Bk=0,K$6&6)throw Error(p$2(327));var $=a.callbackNode;if(Hk()&&a.callbackNode!==$)return null;var j=uc(a,a===Q?Z:0);if(j===0)return null;if(j&30||j&a.expiredLanes||_)_=Ik(a,j);else{_=j;var et=K$6;K$6|=2;var tt=Jk();(Q!==a||Z!==_)&&(uk=null,Gj=B()+500,Kk(a,_));do try{Lk();break}catch(nt){Mk(a,nt)}while(!0);$g(),mk.current=tt,K$6=et,Y!==null?_=0:(Q=null,Z=0,_=T)}if(_!==0){if(_===2&&(et=xc(a),et!==0&&(j=et,_=Nk(a,et))),_===1)throw $=pk,Kk(a,0),Ck(a,j),Dk(a,B()),$;if(_===6)Ck(a,j);else{if(et=a.current.alternate,!(j&30)&&!Ok(et)&&(_=Ik(a,j),_===2&&(tt=xc(a),tt!==0&&(j=tt,_=Nk(a,tt))),_===1))throw $=pk,Kk(a,0),Ck(a,j),Dk(a,B()),$;switch(a.finishedWork=et,a.finishedLanes=j,_){case 0:case 1:throw Error(p$2(345));case 2:Pk(a,tk,uk);break;case 3:if(Ck(a,j),(j&130023424)===j&&(_=fk+500-B(),10<_)){if(uc(a,0)!==0)break;if(et=a.suspendedLanes,(et&j)!==j){R$1(),a.pingedLanes|=a.suspendedLanes&et;break}a.timeoutHandle=Ff(Pk.bind(null,a,tk,uk),_);break}Pk(a,tk,uk);break;case 4:if(Ck(a,j),(j&4194240)===j)break;for(_=a.eventTimes,et=-1;0<j;){var rt=31-oc(j);tt=1<<rt,rt=_[rt],rt>et&&(et=rt),j&=~tt}if(j=et,j=B()-j,j=(120>j?120:480>j?480:1080>j?1080:1920>j?1920:3e3>j?3e3:4320>j?4320:1960*lk(j/1960))-j,10<j){a.timeoutHandle=Ff(Pk.bind(null,a,tk,uk),j);break}Pk(a,tk,uk);break;case 5:Pk(a,tk,uk);break;default:throw Error(p$2(329))}}}return Dk(a,B()),a.callbackNode===$?Gk.bind(null,a):null}function Nk(a,_){var $=sk;return a.current.memoizedState.isDehydrated&&(Kk(a,_).flags|=256),a=Ik(a,_),a!==2&&(_=tk,tk=$,_!==null&&Fj(_)),a}function Fj(a){tk===null?tk=a:tk.push.apply(tk,a)}function Ok(a){for(var _=a;;){if(_.flags&16384){var $=_.updateQueue;if($!==null&&($=$.stores,$!==null))for(var j=0;j<$.length;j++){var et=$[j],tt=et.getSnapshot;et=et.value;try{if(!He(tt(),et))return!1}catch{return!1}}}if($=_.child,_.subtreeFlags&16384&&$!==null)$.return=_,_=$;else{if(_===a)break;for(;_.sibling===null;){if(_.return===null||_.return===a)return!0;_=_.return}_.sibling.return=_.return,_=_.sibling}}return!0}function Ck(a,_){for(_&=~rk,_&=~qk,a.suspendedLanes|=_,a.pingedLanes&=~_,a=a.expirationTimes;0<_;){var $=31-oc(_),j=1<<$;a[$]=-1,_&=~j}}function Ek(a){if(K$6&6)throw Error(p$2(327));Hk();var _=uc(a,0);if(!(_&1))return Dk(a,B()),null;var $=Ik(a,_);if(a.tag!==0&&$===2){var j=xc(a);j!==0&&(_=j,$=Nk(a,j))}if($===1)throw $=pk,Kk(a,0),Ck(a,_),Dk(a,B()),$;if($===6)throw Error(p$2(345));return a.finishedWork=a.current.alternate,a.finishedLanes=_,Pk(a,tk,uk),Dk(a,B()),null}function Qk(a,_){var $=K$6;K$6|=1;try{return a(_)}finally{K$6=$,K$6===0&&(Gj=B()+500,fg&&jg())}}function Rk(a){wk!==null&&wk.tag===0&&!(K$6&6)&&Hk();var _=K$6;K$6|=1;var $=ok$1.transition,j=C;try{if(ok$1.transition=null,C=1,a)return a()}finally{C=j,ok$1.transition=$,K$6=_,!(K$6&6)&&jg()}}function Hj(){fj=ej.current,E(ej)}function Kk(a,_){a.finishedWork=null,a.finishedLanes=0;var $=a.timeoutHandle;if($!==-1&&(a.timeoutHandle=-1,Gf($)),Y!==null)for($=Y.return;$!==null;){var j=$;switch(wg(j),j.tag){case 1:j=j.type.childContextTypes,j!=null&&$f();break;case 3:zh(),E(Wf),E(H$1),Eh();break;case 5:Bh(j);break;case 4:zh();break;case 13:E(L);break;case 19:E(L);break;case 10:ah(j.type._context);break;case 22:case 23:Hj()}$=$.return}if(Q=a,Y=a=Pg(a.current,null),Z=fj=_,T=0,pk=null,rk=qk=rh$1=0,tk=sk=null,fh!==null){for(_=0;_<fh.length;_++)if($=fh[_],j=$.interleaved,j!==null){$.interleaved=null;var et=j.next,tt=$.pending;if(tt!==null){var rt=tt.next;tt.next=et,j.next=rt}$.pending=j}fh=null}return a}function Mk(a,_){do{var $=Y;try{if($g(),Fh.current=Rh,Ih){for(var j=M.memoizedState;j!==null;){var et=j.queue;et!==null&&(et.pending=null),j=j.next}Ih=!1}if(Hh=0,O=N=M=null,Jh=!1,Kh$1=0,nk.current=null,$===null||$.return===null){T=1,pk=_,Y=null;break}e:{var tt=a,rt=$.return,nt=$,it=_;if(_=Z,nt.flags|=32768,it!==null&&typeof it=="object"&&typeof it.then=="function"){var st=it,ot=nt,at=ot.tag;if(!(ot.mode&1)&&(at===0||at===11||at===15)){var ut=ot.alternate;ut?(ot.updateQueue=ut.updateQueue,ot.memoizedState=ut.memoizedState,ot.lanes=ut.lanes):(ot.updateQueue=null,ot.memoizedState=null)}var ht=Ui(rt);if(ht!==null){ht.flags&=-257,Vi(ht,rt,nt,tt,_),ht.mode&1&&Si(tt,st,_),_=ht,it=st;var yt=_.updateQueue;if(yt===null){var wt=new Set;wt.add(it),_.updateQueue=wt}else yt.add(it);break e}else{if(!(_&1)){Si(tt,st,_),tj();break e}it=Error(p$2(426))}}else if(I&&nt.mode&1){var Ct=Ui(rt);if(Ct!==null){!(Ct.flags&65536)&&(Ct.flags|=256),Vi(Ct,rt,nt,tt,_),Jg(Ji(it,nt));break e}}tt=it=Ji(it,nt),T!==4&&(T=2),sk===null?sk=[tt]:sk.push(tt),tt=rt;do{switch(tt.tag){case 3:tt.flags|=65536,_&=-_,tt.lanes|=_;var Pt=Ni(tt,it,_);ph(tt,Pt);break e;case 1:nt=it;var Tt=tt.type,Mt=tt.stateNode;if(!(tt.flags&128)&&(typeof Tt.getDerivedStateFromError=="function"||Mt!==null&&typeof Mt.componentDidCatch=="function"&&(Ri===null||!Ri.has(Mt)))){tt.flags|=65536,_&=-_,tt.lanes|=_;var Lt=Qi(tt,nt,_);ph(tt,Lt);break e}}tt=tt.return}while(tt!==null)}Sk($)}catch(Dt){_=Dt,Y===$&&$!==null&&(Y=$=$.return);continue}break}while(!0)}function Jk(){var a=mk.current;return mk.current=Rh,a===null?Rh:a}function tj(){(T===0||T===3||T===2)&&(T=4),Q===null||!(rh$1&268435455)&&!(qk&268435455)||Ck(Q,Z)}function Ik(a,_){var $=K$6;K$6|=2;var j=Jk();(Q!==a||Z!==_)&&(uk=null,Kk(a,_));do try{Tk();break}catch(et){Mk(a,et)}while(!0);if($g(),K$6=$,mk.current=j,Y!==null)throw Error(p$2(261));return Q=null,Z=0,T}function Tk(){for(;Y!==null;)Uk(Y)}function Lk(){for(;Y!==null&&!cc();)Uk(Y)}function Uk(a){var _=Vk(a.alternate,a,fj);a.memoizedProps=a.pendingProps,_===null?Sk(a):Y=_,nk.current=null}function Sk(a){var _=a;do{var $=_.alternate;if(a=_.return,_.flags&32768){if($=Ij($,_),$!==null){$.flags&=32767,Y=$;return}if(a!==null)a.flags|=32768,a.subtreeFlags=0,a.deletions=null;else{T=6,Y=null;return}}else if($=Ej($,_,fj),$!==null){Y=$;return}if(_=_.sibling,_!==null){Y=_;return}Y=_=a}while(_!==null);T===0&&(T=5)}function Pk(a,_,$){var j=C,et=ok$1.transition;try{ok$1.transition=null,C=1,Wk(a,_,$,j)}finally{ok$1.transition=et,C=j}return null}function Wk(a,_,$,j){do Hk();while(wk!==null);if(K$6&6)throw Error(p$2(327));$=a.finishedWork;var et=a.finishedLanes;if($===null)return null;if(a.finishedWork=null,a.finishedLanes=0,$===a.current)throw Error(p$2(177));a.callbackNode=null,a.callbackPriority=0;var tt=$.lanes|$.childLanes;if(Bc(a,tt),a===Q&&(Y=Q=null,Z=0),!($.subtreeFlags&2064)&&!($.flags&2064)||vk||(vk=!0,Fk(hc,function(){return Hk(),null})),tt=($.flags&15990)!==0,$.subtreeFlags&15990||tt){tt=ok$1.transition,ok$1.transition=null;var rt=C;C=1;var nt=K$6;K$6|=4,nk.current=null,Oj(a,$),dk($,a),Oe(Df),dd=!!Cf,Df=Cf=null,a.current=$,hk($),dc(),K$6=nt,C=rt,ok$1.transition=tt}else a.current=$;if(vk&&(vk=!1,wk=a,xk=et),tt=a.pendingLanes,tt===0&&(Ri=null),mc($.stateNode),Dk(a,B()),_!==null)for(j=a.onRecoverableError,$=0;$<_.length;$++)et=_[$],j(et.value,{componentStack:et.stack,digest:et.digest});if(Oi)throw Oi=!1,a=Pi,Pi=null,a;return xk&1&&a.tag!==0&&Hk(),tt=a.pendingLanes,tt&1?a===zk?yk++:(yk=0,zk=a):yk=0,jg(),null}function Hk(){if(wk!==null){var a=Dc(xk),_=ok$1.transition,$=C;try{if(ok$1.transition=null,C=16>a?16:a,wk===null)var j=!1;else{if(a=wk,wk=null,xk=0,K$6&6)throw Error(p$2(331));var et=K$6;for(K$6|=4,V=a.current;V!==null;){var tt=V,rt=tt.child;if(V.flags&16){var nt=tt.deletions;if(nt!==null){for(var it=0;it<nt.length;it++){var st=nt[it];for(V=st;V!==null;){var ot=V;switch(ot.tag){case 0:case 11:case 15:Pj(8,ot,tt)}var at=ot.child;if(at!==null)at.return=ot,V=at;else for(;V!==null;){ot=V;var ut=ot.sibling,ht=ot.return;if(Sj(ot),ot===st){V=null;break}if(ut!==null){ut.return=ht,V=ut;break}V=ht}}}var yt=tt.alternate;if(yt!==null){var wt=yt.child;if(wt!==null){yt.child=null;do{var Ct=wt.sibling;wt.sibling=null,wt=Ct}while(wt!==null)}}V=tt}}if(tt.subtreeFlags&2064&&rt!==null)rt.return=tt,V=rt;else e:for(;V!==null;){if(tt=V,tt.flags&2048)switch(tt.tag){case 0:case 11:case 15:Pj(9,tt,tt.return)}var Pt=tt.sibling;if(Pt!==null){Pt.return=tt.return,V=Pt;break e}V=tt.return}}var Tt=a.current;for(V=Tt;V!==null;){rt=V;var Mt=rt.child;if(rt.subtreeFlags&2064&&Mt!==null)Mt.return=rt,V=Mt;else e:for(rt=Tt;V!==null;){if(nt=V,nt.flags&2048)try{switch(nt.tag){case 0:case 11:case 15:Qj(9,nt)}}catch(Dt){W$6(nt,nt.return,Dt)}if(nt===rt){V=null;break e}var Lt=nt.sibling;if(Lt!==null){Lt.return=nt.return,V=Lt;break e}V=nt.return}}if(K$6=et,jg(),lc&&typeof lc.onPostCommitFiberRoot=="function")try{lc.onPostCommitFiberRoot(kc,a)}catch{}j=!0}return j}finally{C=$,ok$1.transition=_}}return!1}function Xk(a,_,$){_=Ji($,_),_=Ni(a,_,1),a=nh(a,_,1),_=R$1(),a!==null&&(Ac(a,1,_),Dk(a,_))}function W$6(a,_,$){if(a.tag===3)Xk(a,a,$);else for(;_!==null;){if(_.tag===3){Xk(_,a,$);break}else if(_.tag===1){var j=_.stateNode;if(typeof _.type.getDerivedStateFromError=="function"||typeof j.componentDidCatch=="function"&&(Ri===null||!Ri.has(j))){a=Ji($,a),a=Qi(_,a,1),_=nh(_,a,1),a=R$1(),_!==null&&(Ac(_,1,a),Dk(_,a));break}}_=_.return}}function Ti(a,_,$){var j=a.pingCache;j!==null&&j.delete(_),_=R$1(),a.pingedLanes|=a.suspendedLanes&$,Q===a&&(Z&$)===$&&(T===4||T===3&&(Z&130023424)===Z&&500>B()-fk?Kk(a,0):rk|=$),Dk(a,_)}function Yk(a,_){_===0&&(a.mode&1?(_=sc,sc<<=1,!(sc&130023424)&&(sc=4194304)):_=1);var $=R$1();a=ih(a,_),a!==null&&(Ac(a,_,$),Dk(a,$))}function uj(a){var _=a.memoizedState,$=0;_!==null&&($=_.retryLane),Yk(a,$)}function bk(a,_){var $=0;switch(a.tag){case 13:var j=a.stateNode,et=a.memoizedState;et!==null&&($=et.retryLane);break;case 19:j=a.stateNode;break;default:throw Error(p$2(314))}j!==null&&j.delete(_),Yk(a,$)}var Vk;Vk=function(a,_,$){if(a!==null)if(a.memoizedProps!==_.pendingProps||Wf.current)dh$1=!0;else{if(!(a.lanes&$)&&!(_.flags&128))return dh$1=!1,yj(a,_,$);dh$1=!!(a.flags&131072)}else dh$1=!1,I&&_.flags&1048576&&ug(_,ng,_.index);switch(_.lanes=0,_.tag){case 2:var j=_.type;ij(a,_),a=_.pendingProps;var et=Yf(_,H$1.current);ch$1(_,$),et=Nh(null,_,j,a,et,$);var tt=Sh();return _.flags|=1,typeof et=="object"&&et!==null&&typeof et.render=="function"&&et.$$typeof===void 0?(_.tag=1,_.memoizedState=null,_.updateQueue=null,Zf(j)?(tt=!0,cg(_)):tt=!1,_.memoizedState=et.state!==null&&et.state!==void 0?et.state:null,kh(_),et.updater=Ei,_.stateNode=et,et._reactInternals=_,Ii(_,j,a,$),_=jj(null,_,j,!0,tt,$)):(_.tag=0,I&&tt&&vg(_),Xi(null,_,et,$),_=_.child),_;case 16:j=_.elementType;e:{switch(ij(a,_),a=_.pendingProps,et=j._init,j=et(j._payload),_.type=j,et=_.tag=Zk(j),a=Ci(j,a),et){case 0:_=cj(null,_,j,a,$);break e;case 1:_=hj(null,_,j,a,$);break e;case 11:_=Yi(null,_,j,a,$);break e;case 14:_=$i(null,_,j,Ci(j.type,a),$);break e}throw Error(p$2(306,j,""))}return _;case 0:return j=_.type,et=_.pendingProps,et=_.elementType===j?et:Ci(j,et),cj(a,_,j,et,$);case 1:return j=_.type,et=_.pendingProps,et=_.elementType===j?et:Ci(j,et),hj(a,_,j,et,$);case 3:e:{if(kj(_),a===null)throw Error(p$2(387));j=_.pendingProps,tt=_.memoizedState,et=tt.element,lh(a,_),qh(_,j,null,$);var rt=_.memoizedState;if(j=rt.element,tt.isDehydrated)if(tt={element:j,isDehydrated:!1,cache:rt.cache,pendingSuspenseBoundaries:rt.pendingSuspenseBoundaries,transitions:rt.transitions},_.updateQueue.baseState=tt,_.memoizedState=tt,_.flags&256){et=Ji(Error(p$2(423)),_),_=lj(a,_,j,$,et);break e}else if(j!==et){et=Ji(Error(p$2(424)),_),_=lj(a,_,j,$,et);break e}else for(yg=Lf(_.stateNode.containerInfo.firstChild),xg=_,I=!0,zg=null,$=Vg(_,null,j,$),_.child=$;$;)$.flags=$.flags&-3|4096,$=$.sibling;else{if(Ig(),j===et){_=Zi(a,_,$);break e}Xi(a,_,j,$)}_=_.child}return _;case 5:return Ah(_),a===null&&Eg(_),j=_.type,et=_.pendingProps,tt=a!==null?a.memoizedProps:null,rt=et.children,Ef(j,et)?rt=null:tt!==null&&Ef(j,tt)&&(_.flags|=32),gj(a,_),Xi(a,_,rt,$),_.child;case 6:return a===null&&Eg(_),null;case 13:return oj(a,_,$);case 4:return yh(_,_.stateNode.containerInfo),j=_.pendingProps,a===null?_.child=Ug(_,null,j,$):Xi(a,_,j,$),_.child;case 11:return j=_.type,et=_.pendingProps,et=_.elementType===j?et:Ci(j,et),Yi(a,_,j,et,$);case 7:return Xi(a,_,_.pendingProps,$),_.child;case 8:return Xi(a,_,_.pendingProps.children,$),_.child;case 12:return Xi(a,_,_.pendingProps.children,$),_.child;case 10:e:{if(j=_.type._context,et=_.pendingProps,tt=_.memoizedProps,rt=et.value,G(Wg,j._currentValue),j._currentValue=rt,tt!==null)if(He(tt.value,rt)){if(tt.children===et.children&&!Wf.current){_=Zi(a,_,$);break e}}else for(tt=_.child,tt!==null&&(tt.return=_);tt!==null;){var nt=tt.dependencies;if(nt!==null){rt=tt.child;for(var it=nt.firstContext;it!==null;){if(it.context===j){if(tt.tag===1){it=mh(-1,$&-$),it.tag=2;var st=tt.updateQueue;if(st!==null){st=st.shared;var ot=st.pending;ot===null?it.next=it:(it.next=ot.next,ot.next=it),st.pending=it}}tt.lanes|=$,it=tt.alternate,it!==null&&(it.lanes|=$),bh(tt.return,$,_),nt.lanes|=$;break}it=it.next}}else if(tt.tag===10)rt=tt.type===_.type?null:tt.child;else if(tt.tag===18){if(rt=tt.return,rt===null)throw Error(p$2(341));rt.lanes|=$,nt=rt.alternate,nt!==null&&(nt.lanes|=$),bh(rt,$,_),rt=tt.sibling}else rt=tt.child;if(rt!==null)rt.return=tt;else for(rt=tt;rt!==null;){if(rt===_){rt=null;break}if(tt=rt.sibling,tt!==null){tt.return=rt.return,rt=tt;break}rt=rt.return}tt=rt}Xi(a,_,et.children,$),_=_.child}return _;case 9:return et=_.type,j=_.pendingProps.children,ch$1(_,$),et=eh(et),j=j(et),_.flags|=1,Xi(a,_,j,$),_.child;case 14:return j=_.type,et=Ci(j,_.pendingProps),et=Ci(j.type,et),$i(a,_,j,et,$);case 15:return bj(a,_,_.type,_.pendingProps,$);case 17:return j=_.type,et=_.pendingProps,et=_.elementType===j?et:Ci(j,et),ij(a,_),_.tag=1,Zf(j)?(a=!0,cg(_)):a=!1,ch$1(_,$),Gi(_,j,et),Ii(_,j,et,$),jj(null,_,j,!0,a,$);case 19:return xj(a,_,$);case 22:return dj(a,_,$)}throw Error(p$2(156,_.tag))};function Fk(a,_){return ac(a,_)}function $k(a,_,$,j){this.tag=a,this.key=$,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=_,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=j,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bg(a,_,$,j){return new $k(a,_,$,j)}function aj(a){return a=a.prototype,!(!a||!a.isReactComponent)}function Zk(a){if(typeof a=="function")return aj(a)?1:0;if(a!=null){if(a=a.$$typeof,a===Da)return 11;if(a===Ga)return 14}return 2}function Pg(a,_){var $=a.alternate;return $===null?($=Bg(a.tag,_,a.key,a.mode),$.elementType=a.elementType,$.type=a.type,$.stateNode=a.stateNode,$.alternate=a,a.alternate=$):($.pendingProps=_,$.type=a.type,$.flags=0,$.subtreeFlags=0,$.deletions=null),$.flags=a.flags&14680064,$.childLanes=a.childLanes,$.lanes=a.lanes,$.child=a.child,$.memoizedProps=a.memoizedProps,$.memoizedState=a.memoizedState,$.updateQueue=a.updateQueue,_=a.dependencies,$.dependencies=_===null?null:{lanes:_.lanes,firstContext:_.firstContext},$.sibling=a.sibling,$.index=a.index,$.ref=a.ref,$}function Rg(a,_,$,j,et,tt){var rt=2;if(j=a,typeof a=="function")aj(a)&&(rt=1);else if(typeof a=="string")rt=5;else e:switch(a){case ya:return Tg($.children,et,tt,_);case za:rt=8,et|=8;break;case Aa:return a=Bg(12,$,_,et|2),a.elementType=Aa,a.lanes=tt,a;case Ea:return a=Bg(13,$,_,et),a.elementType=Ea,a.lanes=tt,a;case Fa:return a=Bg(19,$,_,et),a.elementType=Fa,a.lanes=tt,a;case Ia:return pj($,et,tt,_);default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case Ba:rt=10;break e;case Ca:rt=9;break e;case Da:rt=11;break e;case Ga:rt=14;break e;case Ha:rt=16,j=null;break e}throw Error(p$2(130,a==null?a:typeof a,""))}return _=Bg(rt,$,_,et),_.elementType=a,_.type=j,_.lanes=tt,_}function Tg(a,_,$,j){return a=Bg(7,a,j,_),a.lanes=$,a}function pj(a,_,$,j){return a=Bg(22,a,j,_),a.elementType=Ia,a.lanes=$,a.stateNode={isHidden:!1},a}function Qg(a,_,$){return a=Bg(6,a,null,_),a.lanes=$,a}function Sg(a,_,$){return _=Bg(4,a.children!==null?a.children:[],a.key,_),_.lanes=$,_.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},_}function al(a,_,$,j,et){this.tag=_,this.containerInfo=a,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc(0),this.expirationTimes=zc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc(0),this.identifierPrefix=j,this.onRecoverableError=et,this.mutableSourceEagerHydrationData=null}function bl(a,_,$,j,et,tt,rt,nt,it){return a=new al(a,_,$,nt,it),_===1?(_=1,tt===!0&&(_|=8)):_=0,tt=Bg(3,null,null,_),a.current=tt,tt.stateNode=a,tt.memoizedState={element:j,isDehydrated:$,cache:null,transitions:null,pendingSuspenseBoundaries:null},kh(tt),a}function cl(a,_,$){var j=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wa,key:j==null?null:""+j,children:a,containerInfo:_,implementation:$}}function dl(a){if(!a)return Vf;a=a._reactInternals;e:{if(Vb(a)!==a||a.tag!==1)throw Error(p$2(170));var _=a;do{switch(_.tag){case 3:_=_.stateNode.context;break e;case 1:if(Zf(_.type)){_=_.stateNode.__reactInternalMemoizedMergedChildContext;break e}}_=_.return}while(_!==null);throw Error(p$2(171))}if(a.tag===1){var $=a.type;if(Zf($))return bg(a,$,_)}return _}function el(a,_,$,j,et,tt,rt,nt,it){return a=bl($,j,!0,a,et,tt,rt,nt,it),a.context=dl(null),$=a.current,j=R$1(),et=yi($),tt=mh(j,et),tt.callback=_??null,nh($,tt,et),a.current.lanes=et,Ac(a,et,j),Dk(a,j),a}function fl(a,_,$,j){var et=_.current,tt=R$1(),rt=yi(et);return $=dl($),_.context===null?_.context=$:_.pendingContext=$,_=mh(tt,rt),_.payload={element:a},j=j===void 0?null:j,j!==null&&(_.callback=j),a=nh(et,_,rt),a!==null&&(gi(a,et,rt,tt),oh(a,et,rt)),rt}function gl(a){if(a=a.current,!a.child)return null;switch(a.child.tag){case 5:return a.child.stateNode;default:return a.child.stateNode}}function hl$1(a,_){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var $=a.retryLane;a.retryLane=$!==0&&$<_?$:_}}function il(a,_){hl$1(a,_),(a=a.alternate)&&hl$1(a,_)}function jl(){return null}var kl=typeof reportError=="function"?reportError:function(a){console.error(a)};function ll(a){this._internalRoot=a}ml.prototype.render=ll.prototype.render=function(a){var _=this._internalRoot;if(_===null)throw Error(p$2(409));fl(a,_,null,null)};ml.prototype.unmount=ll.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var _=a.containerInfo;Rk(function(){fl(null,a,null,null)}),_[uf]=null}};function ml(a){this._internalRoot=a}ml.prototype.unstable_scheduleHydration=function(a){if(a){var _=Hc();a={blockedOn:null,target:a,priority:_};for(var $=0;$<Qc.length&&_!==0&&_<Qc[$].priority;$++);Qc.splice($,0,a),$===0&&Vc(a)}};function nl(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function ol(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11&&(a.nodeType!==8||a.nodeValue!==" react-mount-point-unstable "))}function pl(){}function ql(a,_,$,j,et){if(et){if(typeof j=="function"){var tt=j;j=function(){var st=gl(rt);tt.call(st)}}var rt=el(_,j,a,0,null,!1,!1,"",pl);return a._reactRootContainer=rt,a[uf]=rt.current,sf(a.nodeType===8?a.parentNode:a),Rk(),rt}for(;et=a.lastChild;)a.removeChild(et);if(typeof j=="function"){var nt=j;j=function(){var st=gl(it);nt.call(st)}}var it=bl(a,0,!1,null,null,!1,!1,"",pl);return a._reactRootContainer=it,a[uf]=it.current,sf(a.nodeType===8?a.parentNode:a),Rk(function(){fl(_,it,$,j)}),it}function rl(a,_,$,j,et){var tt=$._reactRootContainer;if(tt){var rt=tt;if(typeof et=="function"){var nt=et;et=function(){var it=gl(rt);nt.call(it)}}fl(_,rt,a,et)}else rt=ql($,_,a,et,j);return gl(rt)}Ec=function(a){switch(a.tag){case 3:var _=a.stateNode;if(_.current.memoizedState.isDehydrated){var $=tc(_.pendingLanes);$!==0&&(Cc(_,$|1),Dk(_,B()),!(K$6&6)&&(Gj=B()+500,jg()))}break;case 13:Rk(function(){var j=ih(a,1);if(j!==null){var et=R$1();gi(j,a,1,et)}}),il(a,1)}};Fc=function(a){if(a.tag===13){var _=ih(a,134217728);if(_!==null){var $=R$1();gi(_,a,134217728,$)}il(a,134217728)}};Gc=function(a){if(a.tag===13){var _=yi(a),$=ih(a,_);if($!==null){var j=R$1();gi($,a,_,j)}il(a,_)}};Hc=function(){return C};Ic=function(a,_){var $=C;try{return C=a,_()}finally{C=$}};yb=function(a,_,$){switch(_){case"input":if(bb(a,$),_=$.name,$.type==="radio"&&_!=null){for($=a;$.parentNode;)$=$.parentNode;for($=$.querySelectorAll("input[name="+JSON.stringify(""+_)+'][type="radio"]'),_=0;_<$.length;_++){var j=$[_];if(j!==a&&j.form===a.form){var et=Db(j);if(!et)throw Error(p$2(90));Wa(j),bb(j,et)}}}break;case"textarea":ib(a,$);break;case"select":_=$.value,_!=null&&fb(a,!!$.multiple,_,!1)}};Gb=Qk;Hb=Rk;var sl$1={usingClientEntryPoint:!1,Events:[Cb,ue,Db,Eb,Fb,Qk]},tl={findFiberByHostInstance:Wc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ul={bundleType:tl.bundleType,version:tl.version,rendererPackageName:tl.rendererPackageName,rendererConfig:tl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua.ReactCurrentDispatcher,findHostInstanceByFiber:function(a){return a=Zb(a),a===null?null:a.stateNode},findFiberByHostInstance:tl.findFiberByHostInstance||jl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vl.isDisabled&&vl.supportsFiber)try{kc=vl.inject(ul),lc=vl}catch{}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sl$1;reactDom_production_min.createPortal=function(a,_){var $=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!nl(_))throw Error(p$2(200));return cl(a,_,null,$)};reactDom_production_min.createRoot=function(a,_){if(!nl(a))throw Error(p$2(299));var $=!1,j="",et=kl;return _!=null&&(_.unstable_strictMode===!0&&($=!0),_.identifierPrefix!==void 0&&(j=_.identifierPrefix),_.onRecoverableError!==void 0&&(et=_.onRecoverableError)),_=bl(a,1,!1,null,null,$,!1,j,et),a[uf]=_.current,sf(a.nodeType===8?a.parentNode:a),new ll(_)};reactDom_production_min.findDOMNode=function(a){if(a==null)return null;if(a.nodeType===1)return a;var _=a._reactInternals;if(_===void 0)throw typeof a.render=="function"?Error(p$2(188)):(a=Object.keys(a).join(","),Error(p$2(268,a)));return a=Zb(_),a=a===null?null:a.stateNode,a};reactDom_production_min.flushSync=function(a){return Rk(a)};reactDom_production_min.hydrate=function(a,_,$){if(!ol(_))throw Error(p$2(200));return rl(null,a,_,!0,$)};reactDom_production_min.hydrateRoot=function(a,_,$){if(!nl(a))throw Error(p$2(405));var j=$!=null&&$.hydratedSources||null,et=!1,tt="",rt=kl;if($!=null&&($.unstable_strictMode===!0&&(et=!0),$.identifierPrefix!==void 0&&(tt=$.identifierPrefix),$.onRecoverableError!==void 0&&(rt=$.onRecoverableError)),_=el(_,null,a,1,$??null,et,!1,tt,rt),a[uf]=_.current,sf(a),j)for(a=0;a<j.length;a++)$=j[a],et=$._getVersion,et=et($._source),_.mutableSourceEagerHydrationData==null?_.mutableSourceEagerHydrationData=[$,et]:_.mutableSourceEagerHydrationData.push($,et);return new ml(_)};reactDom_production_min.render=function(a,_,$){if(!ol(_))throw Error(p$2(200));return rl(null,a,_,!1,$)};reactDom_production_min.unmountComponentAtNode=function(a){if(!ol(a))throw Error(p$2(40));return a._reactRootContainer?(Rk(function(){rl(null,null,a,!1,function(){a._reactRootContainer=null,a[uf]=null})}),!0):!1};reactDom_production_min.unstable_batchedUpdates=Qk;reactDom_production_min.unstable_renderSubtreeIntoContainer=function(a,_,$,j){if(!ol($))throw Error(p$2(200));if(a==null||a._reactInternals===void 0)throw Error(p$2(38));return rl(a,_,$,!1,j)};reactDom_production_min.version="18.3.1-next-f1338f8080-20240426";function checkDCE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE)}catch(a){console.error(a)}}checkDCE(),reactDom.exports=reactDom_production_min;var reactDomExports=reactDom.exports,m$3=reactDomExports;client.createRoot=m$3.createRoot,client.hydrateRoot=m$3.hydrateRoot;const ErrorBoundaryContext=reactExports.createContext(null),initialState$c={didCatch:!1,error:null};class ErrorBoundary extends reactExports.Component{constructor(_){super(_),this.resetErrorBoundary=this.resetErrorBoundary.bind(this),this.state=initialState$c}static getDerivedStateFromError(_){return{didCatch:!0,error:_}}resetErrorBoundary(){const{error:_}=this.state;if(_!==null){for(var $,j,et=arguments.length,tt=new Array(et),rt=0;rt<et;rt++)tt[rt]=arguments[rt];($=(j=this.props).onReset)===null||$===void 0||$.call(j,{args:tt,reason:"imperative-api"}),this.setState(initialState$c)}}componentDidCatch(_,$){var j,et;(j=(et=this.props).onError)===null||j===void 0||j.call(et,_,$)}componentDidUpdate(_,$){const{didCatch:j}=this.state,{resetKeys:et}=this.props;if(j&&$.error!==null&&hasArrayChanged(_.resetKeys,et)){var tt,rt;(tt=(rt=this.props).onReset)===null||tt===void 0||tt.call(rt,{next:et,prev:_.resetKeys,reason:"keys"}),this.setState(initialState$c)}}render(){const{children:_,fallbackRender:$,FallbackComponent:j,fallback:et}=this.props,{didCatch:tt,error:rt}=this.state;let nt=_;if(tt){const it={error:rt,resetErrorBoundary:this.resetErrorBoundary};if(typeof $=="function")nt=$(it);else if(j)nt=reactExports.createElement(j,it);else if(et===null||reactExports.isValidElement(et))nt=et;else throw rt}return reactExports.createElement(ErrorBoundaryContext.Provider,{value:{didCatch:tt,error:rt,resetErrorBoundary:this.resetErrorBoundary}},nt)}}function hasArrayChanged(){let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],_=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return a.length!==_.length||a.some(($,j)=>!Object.is($,_[j]))}function _typeof$7(a){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$7=function($){return typeof $}:_typeof$7=function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $},_typeof$7(a)}function _classCallCheck$2(a,_){if(!(a instanceof _))throw new TypeError("Cannot call a class as a function")}function _defineProperties$2(a,_){for(var $=0;$<_.length;$++){var j=_[$];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(a,j.key,j)}}function _createClass$2(a,_,$){return _&&_defineProperties$2(a.prototype,_),a}function _possibleConstructorReturn$2(a,_){return _&&(_typeof$7(_)==="object"||typeof _=="function")?_:_assertThisInitialized$2(a)}function _getPrototypeOf$2(a){return _getPrototypeOf$2=Object.setPrototypeOf?Object.getPrototypeOf:function($){return $.__proto__||Object.getPrototypeOf($)},_getPrototypeOf$2(a)}function _assertThisInitialized$2(a){if(a===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function _inherits$2(a,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(_&&_.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),_&&_setPrototypeOf$3(a,_)}function _setPrototypeOf$3(a,_){return _setPrototypeOf$3=Object.setPrototypeOf||function(j,et){return j.__proto__=et,j},_setPrototypeOf$3(a,_)}function _defineProperty$9(a,_,$){return _ in a?Object.defineProperty(a,_,{value:$,enumerable:!0,configurable:!0,writable:!0}):a[_]=$,a}var PersistGate=function(a){_inherits$2(_,a);function _(){var $,j;_classCallCheck$2(this,_);for(var et=arguments.length,tt=new Array(et),rt=0;rt<et;rt++)tt[rt]=arguments[rt];return j=_possibleConstructorReturn$2(this,($=_getPrototypeOf$2(_)).call.apply($,[this].concat(tt))),_defineProperty$9(_assertThisInitialized$2(j),"state",{bootstrapped:!1}),_defineProperty$9(_assertThisInitialized$2(j),"_unsubscribe",void 0),_defineProperty$9(_assertThisInitialized$2(j),"handlePersistorState",function(){var nt=j.props.persistor,it=nt.getState(),st=it.bootstrapped;st&&(j.props.onBeforeLift?Promise.resolve(j.props.onBeforeLift()).finally(function(){return j.setState({bootstrapped:!0})}):j.setState({bootstrapped:!0}),j._unsubscribe&&j._unsubscribe())}),j}return _createClass$2(_,[{key:"componentDidMount",value:function(){this._unsubscribe=this.props.persistor.subscribe(this.handlePersistorState),this.handlePersistorState()}},{key:"componentWillUnmount",value:function(){this._unsubscribe&&this._unsubscribe()}},{key:"render",value:function(){return typeof this.props.children=="function"?this.props.children(this.state.bootstrapped):this.state.bootstrapped?this.props.children:this.props.loading}}]),_}(reactExports.PureComponent);_defineProperty$9(PersistGate,"defaultProps",{children:null,loading:null});const global$1=globalThis||void 0||self;function sheetForTag(a){if(a.sheet)return a.sheet;for(var _=0;_<document.styleSheets.length;_++)if(document.styleSheets[_].ownerNode===a)return document.styleSheets[_]}function createStyleElement(a){var _=document.createElement("style");return _.setAttribute("data-emotion",a.key),a.nonce!==void 0&&_.setAttribute("nonce",a.nonce),_.appendChild(document.createTextNode("")),_.setAttribute("data-s",""),_}var StyleSheet=function(){function a($){var j=this;this._insertTag=function(et){var tt;j.tags.length===0?j.insertionPoint?tt=j.insertionPoint.nextSibling:j.prepend?tt=j.container.firstChild:tt=j.before:tt=j.tags[j.tags.length-1].nextSibling,j.container.insertBefore(et,tt),j.tags.push(et)},this.isSpeedy=$.speedy===void 0?!0:$.speedy,this.tags=[],this.ctr=0,this.nonce=$.nonce,this.key=$.key,this.container=$.container,this.prepend=$.prepend,this.insertionPoint=$.insertionPoint,this.before=null}var _=a.prototype;return _.hydrate=function(j){j.forEach(this._insertTag)},_.insert=function(j){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(createStyleElement(this));var et=this.tags[this.tags.length-1];if(this.isSpeedy){var tt=sheetForTag(et);try{tt.insertRule(j,tt.cssRules.length)}catch{}}else et.appendChild(document.createTextNode(j));this.ctr++},_.flush=function(){this.tags.forEach(function(j){return j.parentNode&&j.parentNode.removeChild(j)}),this.tags=[],this.ctr=0},a}(),MS="-ms-",MOZ="-moz-",WEBKIT="-webkit-",COMMENT$1="comm",RULESET="rule",DECLARATION="decl",IMPORT="@import",KEYFRAMES="@keyframes",LAYER="@layer",abs=Math.abs,from$1=String.fromCharCode,assign$2=Object.assign;function hash$9(a,_){return charat(a,0)^45?(((_<<2^charat(a,0))<<2^charat(a,1))<<2^charat(a,2))<<2^charat(a,3):0}function trim$3(a){return a.trim()}function match$1(a,_){return(a=_.exec(a))?a[0]:a}function replace(a,_,$){return a.replace(_,$)}function indexof(a,_){return a.indexOf(_)}function charat(a,_){return a.charCodeAt(_)|0}function substr(a,_,$){return a.slice(_,$)}function strlen(a){return a.length}function sizeof(a){return a.length}function append(a,_){return _.push(a),a}function combine(a,_){return a.map(_).join("")}var line=1,column=1,length$1=0,position$1=0,character=0,characters="";function node$3(a,_,$,j,et,tt,rt){return{value:a,root:_,parent:$,type:j,props:et,children:tt,line,column,length:rt,return:""}}function copy(a,_){return assign$2(node$3("",null,null,"",null,null,0),a,{length:-a.length},_)}function char(){return character}function prev$1(){return character=position$1>0?charat(characters,--position$1):0,column--,character===10&&(column=1,line--),character}function next(){return character=position$1<length$1?charat(characters,position$1++):0,column++,character===10&&(column=1,line++),character}function peek$1(){return charat(characters,position$1)}function caret(){return position$1}function slice$3(a,_){return substr(characters,a,_)}function token(a){switch(a){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function alloc(a){return line=column=1,length$1=strlen(characters=a),position$1=0,[]}function dealloc(a){return characters="",a}function delimit(a){return trim$3(slice$3(position$1-1,delimiter(a===91?a+2:a===40?a+1:a)))}function whitespace(a){for(;(character=peek$1())&&character<33;)next();return token(a)>2||token(character)>3?"":" "}function escaping(a,_){for(;--_&&next()&&!(character<48||character>102||character>57&&character<65||character>70&&character<97););return slice$3(a,caret()+(_<6&&peek$1()==32&&next()==32))}function delimiter(a){for(;next();)switch(character){case a:return position$1;case 34:case 39:a!==34&&a!==39&&delimiter(character);break;case 40:a===41&&delimiter(a);break;case 92:next();break}return position$1}function commenter(a,_){for(;next()&&a+character!==57;)if(a+character===84&&peek$1()===47)break;return"/*"+slice$3(_,position$1-1)+"*"+from$1(a===47?a:next())}function identifier(a){for(;!token(peek$1());)next();return slice$3(a,position$1)}function compile(a){return dealloc(parse$c("",null,null,null,[""],a=alloc(a),0,[0],a))}function parse$c(a,_,$,j,et,tt,rt,nt,it){for(var st=0,ot=0,at=rt,ut=0,ht=0,yt=0,wt=1,Ct=1,Pt=1,Tt=0,Mt="",Lt=et,Dt=tt,Ut=j,Ot=Mt;Ct;)switch(yt=Tt,Tt=next()){case 40:if(yt!=108&&charat(Ot,at-1)==58){indexof(Ot+=replace(delimit(Tt),"&","&\f"),"&\f")!=-1&&(Pt=-1);break}case 34:case 39:case 91:Ot+=delimit(Tt);break;case 9:case 10:case 13:case 32:Ot+=whitespace(yt);break;case 92:Ot+=escaping(caret()-1,7);continue;case 47:switch(peek$1()){case 42:case 47:append(comment(commenter(next(),caret()),_,$),it);break;default:Ot+="/"}break;case 123*wt:nt[st++]=strlen(Ot)*Pt;case 125*wt:case 59:case 0:switch(Tt){case 0:case 125:Ct=0;case 59+ot:Pt==-1&&(Ot=replace(Ot,/\f/g,"")),ht>0&&strlen(Ot)-at&&append(ht>32?declaration(Ot+";",j,$,at-1):declaration(replace(Ot," ","")+";",j,$,at-2),it);break;case 59:Ot+=";";default:if(append(Ut=ruleset(Ot,_,$,st,ot,et,nt,Mt,Lt=[],Dt=[],at),tt),Tt===123)if(ot===0)parse$c(Ot,_,Ut,Ut,Lt,tt,at,nt,Dt);else switch(ut===99&&charat(Ot,3)===110?100:ut){case 100:case 108:case 109:case 115:parse$c(a,Ut,Ut,j&&append(ruleset(a,Ut,Ut,0,0,et,nt,Mt,et,Lt=[],at),Dt),et,Dt,at,nt,j?Lt:Dt);break;default:parse$c(Ot,Ut,Ut,Ut,[""],Dt,0,nt,Dt)}}st=ot=ht=0,wt=Pt=1,Mt=Ot="",at=rt;break;case 58:at=1+strlen(Ot),ht=yt;default:if(wt<1){if(Tt==123)--wt;else if(Tt==125&&wt++==0&&prev$1()==125)continue}switch(Ot+=from$1(Tt),Tt*wt){case 38:Pt=ot>0?1:(Ot+="\f",-1);break;case 44:nt[st++]=(strlen(Ot)-1)*Pt,Pt=1;break;case 64:peek$1()===45&&(Ot+=delimit(next())),ut=peek$1(),ot=at=strlen(Mt=Ot+=identifier(caret())),Tt++;break;case 45:yt===45&&strlen(Ot)==2&&(wt=0)}}return tt}function ruleset(a,_,$,j,et,tt,rt,nt,it,st,ot){for(var at=et-1,ut=et===0?tt:[""],ht=sizeof(ut),yt=0,wt=0,Ct=0;yt<j;++yt)for(var Pt=0,Tt=substr(a,at+1,at=abs(wt=rt[yt])),Mt=a;Pt<ht;++Pt)(Mt=trim$3(wt>0?ut[Pt]+" "+Tt:replace(Tt,/&\f/g,ut[Pt])))&&(it[Ct++]=Mt);return node$3(a,_,$,et===0?RULESET:nt,it,st,ot)}function comment(a,_,$){return node$3(a,_,$,COMMENT$1,from$1(char()),substr(a,2,-2),0)}function declaration(a,_,$,j){return node$3(a,_,$,DECLARATION,substr(a,0,j),substr(a,j+1,-1),j)}function serialize(a,_){for(var $="",j=sizeof(a),et=0;et<j;et++)$+=_(a[et],et,a,_)||"";return $}function stringify$3(a,_,$,j){switch(a.type){case LAYER:if(a.children.length)break;case IMPORT:case DECLARATION:return a.return=a.return||a.value;case COMMENT$1:return"";case KEYFRAMES:return a.return=a.value+"{"+serialize(a.children,j)+"}";case RULESET:a.value=a.props.join(",")}return strlen($=serialize(a.children,j))?a.return=a.value+"{"+$+"}":""}function middleware(a){var _=sizeof(a);return function($,j,et,tt){for(var rt="",nt=0;nt<_;nt++)rt+=a[nt]($,j,et,tt)||"";return rt}}function rulesheet(a){return function(_){_.root||(_=_.return)&&a(_)}}var weakMemoize=function(_){var $=new WeakMap;return function(j){if($.has(j))return $.get(j);var et=_(j);return $.set(j,et),et}};function memoize$2(a){var _=Object.create(null);return function($){return _[$]===void 0&&(_[$]=a($)),_[$]}}var identifierWithPointTracking=function(_,$,j){for(var et=0,tt=0;et=tt,tt=peek$1(),et===38&&tt===12&&($[j]=1),!token(tt);)next();return slice$3(_,position$1)},toRules=function(_,$){var j=-1,et=44;do switch(token(et)){case 0:et===38&&peek$1()===12&&($[j]=1),_[j]+=identifierWithPointTracking(position$1-1,$,j);break;case 2:_[j]+=delimit(et);break;case 4:if(et===44){_[++j]=peek$1()===58?"&\f":"",$[j]=_[j].length;break}default:_[j]+=from$1(et)}while(et=next());return _},getRules=function(_,$){return dealloc(toRules(alloc(_),$))},fixedElements=new WeakMap,compat=function(_){if(!(_.type!=="rule"||!_.parent||_.length<1)){for(var $=_.value,j=_.parent,et=_.column===j.column&&_.line===j.line;j.type!=="rule";)if(j=j.parent,!j)return;if(!(_.props.length===1&&$.charCodeAt(0)!==58&&!fixedElements.get(j))&&!et){fixedElements.set(_,!0);for(var tt=[],rt=getRules($,tt),nt=j.props,it=0,st=0;it<rt.length;it++)for(var ot=0;ot<nt.length;ot++,st++)_.props[st]=tt[it]?rt[it].replace(/&\f/g,nt[ot]):nt[ot]+" "+rt[it]}}},removeLabel=function(_){if(_.type==="decl"){var $=_.value;$.charCodeAt(0)===108&&$.charCodeAt(2)===98&&(_.return="",_.value="")}};function prefix$1(a,_){switch(hash$9(a,_)){case 5103:return WEBKIT+"print-"+a+a;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return WEBKIT+a+a;case 5349:case 4246:case 4810:case 6968:case 2756:return WEBKIT+a+MOZ+a+MS+a+a;case 6828:case 4268:return WEBKIT+a+MS+a+a;case 6165:return WEBKIT+a+MS+"flex-"+a+a;case 5187:return WEBKIT+a+replace(a,/(\w+).+(:[^]+)/,WEBKIT+"box-$1$2"+MS+"flex-$1$2")+a;case 5443:return WEBKIT+a+MS+"flex-item-"+replace(a,/flex-|-self/,"")+a;case 4675:return WEBKIT+a+MS+"flex-line-pack"+replace(a,/align-content|flex-|-self/,"")+a;case 5548:return WEBKIT+a+MS+replace(a,"shrink","negative")+a;case 5292:return WEBKIT+a+MS+replace(a,"basis","preferred-size")+a;case 6060:return WEBKIT+"box-"+replace(a,"-grow","")+WEBKIT+a+MS+replace(a,"grow","positive")+a;case 4554:return WEBKIT+replace(a,/([^-])(transform)/g,"$1"+WEBKIT+"$2")+a;case 6187:return replace(replace(replace(a,/(zoom-|grab)/,WEBKIT+"$1"),/(image-set)/,WEBKIT+"$1"),a,"")+a;case 5495:case 3959:return replace(a,/(image-set\([^]*)/,WEBKIT+"$1$`$1");case 4968:return replace(replace(a,/(.+:)(flex-)?(.*)/,WEBKIT+"box-pack:$3"+MS+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+WEBKIT+a+a;case 4095:case 3583:case 4068:case 2532:return replace(a,/(.+)-inline(.+)/,WEBKIT+"$1$2")+a;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(strlen(a)-1-_>6)switch(charat(a,_+1)){case 109:if(charat(a,_+4)!==45)break;case 102:return replace(a,/(.+:)(.+)-([^]+)/,"$1"+WEBKIT+"$2-$3$1"+MOZ+(charat(a,_+3)==108?"$3":"$2-$3"))+a;case 115:return~indexof(a,"stretch")?prefix$1(replace(a,"stretch","fill-available"),_)+a:a}break;case 4949:if(charat(a,_+1)!==115)break;case 6444:switch(charat(a,strlen(a)-3-(~indexof(a,"!important")&&10))){case 107:return replace(a,":",":"+WEBKIT)+a;case 101:return replace(a,/(.+:)([^;!]+)(;|!.+)?/,"$1"+WEBKIT+(charat(a,14)===45?"inline-":"")+"box$3$1"+WEBKIT+"$2$3$1"+MS+"$2box$3")+a}break;case 5936:switch(charat(a,_+11)){case 114:return WEBKIT+a+MS+replace(a,/[svh]\w+-[tblr]{2}/,"tb")+a;case 108:return WEBKIT+a+MS+replace(a,/[svh]\w+-[tblr]{2}/,"tb-rl")+a;case 45:return WEBKIT+a+MS+replace(a,/[svh]\w+-[tblr]{2}/,"lr")+a}return WEBKIT+a+MS+a+a}return a}var prefixer=function(_,$,j,et){if(_.length>-1&&!_.return)switch(_.type){case DECLARATION:_.return=prefix$1(_.value,_.length);break;case KEYFRAMES:return serialize([copy(_,{value:replace(_.value,"@","@"+WEBKIT)})],et);case RULESET:if(_.length)return combine(_.props,function(tt){switch(match$1(tt,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return serialize([copy(_,{props:[replace(tt,/:(read-\w+)/,":"+MOZ+"$1")]})],et);case"::placeholder":return serialize([copy(_,{props:[replace(tt,/:(plac\w+)/,":"+WEBKIT+"input-$1")]}),copy(_,{props:[replace(tt,/:(plac\w+)/,":"+MOZ+"$1")]}),copy(_,{props:[replace(tt,/:(plac\w+)/,MS+"input-$1")]})],et)}return""})}},defaultStylisPlugins=[prefixer],createCache=function(_){var $=_.key;if($==="css"){var j=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(j,function(wt){var Ct=wt.getAttribute("data-emotion");Ct.indexOf(" ")!==-1&&(document.head.appendChild(wt),wt.setAttribute("data-s",""))})}var et=_.stylisPlugins||defaultStylisPlugins,tt={},rt,nt=[];rt=_.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+$+' "]'),function(wt){for(var Ct=wt.getAttribute("data-emotion").split(" "),Pt=1;Pt<Ct.length;Pt++)tt[Ct[Pt]]=!0;nt.push(wt)});var it,st=[compat,removeLabel];{var ot,at=[stringify$3,rulesheet(function(wt){ot.insert(wt)})],ut=middleware(st.concat(et,at)),ht=function(Ct){return serialize(compile(Ct),ut)};it=function(Ct,Pt,Tt,Mt){ot=Tt,ht(Ct?Ct+"{"+Pt.styles+"}":Pt.styles),Mt&&(yt.inserted[Pt.name]=!0)}}var yt={key:$,sheet:new StyleSheet({key:$,container:rt,nonce:_.nonce,speedy:_.speedy,prepend:_.prepend,insertionPoint:_.insertionPoint}),nonce:_.nonce,inserted:tt,registered:{},insert:it};return yt.sheet.hydrate(nt),yt};function _extends$7(){return _extends$7=Object.assign?Object.assign.bind():function(a){for(var _=1;_<arguments.length;_++){var $=arguments[_];for(var j in $)Object.prototype.hasOwnProperty.call($,j)&&(a[j]=$[j])}return a},_extends$7.apply(this,arguments)}var reactIs$1={exports:{}},reactIs_production_min={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b=typeof Symbol=="function"&&Symbol.for,c=b?Symbol.for("react.element"):60103,d=b?Symbol.for("react.portal"):60106,e$2=b?Symbol.for("react.fragment"):60107,f$1=b?Symbol.for("react.strict_mode"):60108,g$4=b?Symbol.for("react.profiler"):60114,h=b?Symbol.for("react.provider"):60109,k=b?Symbol.for("react.context"):60110,l=b?Symbol.for("react.async_mode"):60111,m$2=b?Symbol.for("react.concurrent_mode"):60111,n$2=b?Symbol.for("react.forward_ref"):60112,p$1=b?Symbol.for("react.suspense"):60113,q$1=b?Symbol.for("react.suspense_list"):60120,r$4=b?Symbol.for("react.memo"):60115,t$6=b?Symbol.for("react.lazy"):60116,v$3=b?Symbol.for("react.block"):60121,w=b?Symbol.for("react.fundamental"):60117,x=b?Symbol.for("react.responder"):60118,y=b?Symbol.for("react.scope"):60119;function z$1(a){if(typeof a=="object"&&a!==null){var _=a.$$typeof;switch(_){case c:switch(a=a.type,a){case l:case m$2:case e$2:case g$4:case f$1:case p$1:return a;default:switch(a=a&&a.$$typeof,a){case k:case n$2:case t$6:case r$4:case h:return a;default:return _}}case d:return _}}}function A(a){return z$1(a)===m$2}reactIs_production_min.AsyncMode=l;reactIs_production_min.ConcurrentMode=m$2;reactIs_production_min.ContextConsumer=k;reactIs_production_min.ContextProvider=h;reactIs_production_min.Element=c;reactIs_production_min.ForwardRef=n$2;reactIs_production_min.Fragment=e$2;reactIs_production_min.Lazy=t$6;reactIs_production_min.Memo=r$4;reactIs_production_min.Portal=d;reactIs_production_min.Profiler=g$4;reactIs_production_min.StrictMode=f$1;reactIs_production_min.Suspense=p$1;reactIs_production_min.isAsyncMode=function(a){return A(a)||z$1(a)===l};reactIs_production_min.isConcurrentMode=A;reactIs_production_min.isContextConsumer=function(a){return z$1(a)===k};reactIs_production_min.isContextProvider=function(a){return z$1(a)===h};reactIs_production_min.isElement=function(a){return typeof a=="object"&&a!==null&&a.$$typeof===c};reactIs_production_min.isForwardRef=function(a){return z$1(a)===n$2};reactIs_production_min.isFragment=function(a){return z$1(a)===e$2};reactIs_production_min.isLazy=function(a){return z$1(a)===t$6};reactIs_production_min.isMemo=function(a){return z$1(a)===r$4};reactIs_production_min.isPortal=function(a){return z$1(a)===d};reactIs_production_min.isProfiler=function(a){return z$1(a)===g$4};reactIs_production_min.isStrictMode=function(a){return z$1(a)===f$1};reactIs_production_min.isSuspense=function(a){return z$1(a)===p$1};reactIs_production_min.isValidElementType=function(a){return typeof a=="string"||typeof a=="function"||a===e$2||a===m$2||a===g$4||a===f$1||a===p$1||a===q$1||typeof a=="object"&&a!==null&&(a.$$typeof===t$6||a.$$typeof===r$4||a.$$typeof===h||a.$$typeof===k||a.$$typeof===n$2||a.$$typeof===w||a.$$typeof===x||a.$$typeof===y||a.$$typeof===v$3)};reactIs_production_min.typeOf=z$1;reactIs$1.exports=reactIs_production_min;var reactIsExports=reactIs$1.exports,reactIs=reactIsExports,FORWARD_REF_STATICS={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},MEMO_STATICS={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},TYPE_STATICS={};TYPE_STATICS[reactIs.ForwardRef]=FORWARD_REF_STATICS;TYPE_STATICS[reactIs.Memo]=MEMO_STATICS;var isBrowser$3=!0;function getRegisteredStyles(a,_,$){var j="";return $.split(" ").forEach(function(et){a[et]!==void 0?_.push(a[et]+";"):j+=et+" "}),j}var registerStyles=function(_,$,j){var et=_.key+"-"+$.name;(j===!1||isBrowser$3===!1)&&_.registered[et]===void 0&&(_.registered[et]=$.styles)},insertStyles=function(_,$,j){registerStyles(_,$,j);var et=_.key+"-"+$.name;if(_.inserted[$.name]===void 0){var tt=$;do _.insert($===tt?"."+et:"",tt,_.sheet,!0),tt=tt.next;while(tt!==void 0)}};function murmur2(a){for(var _=0,$,j=0,et=a.length;et>=4;++j,et-=4)$=a.charCodeAt(j)&255|(a.charCodeAt(++j)&255)<<8|(a.charCodeAt(++j)&255)<<16|(a.charCodeAt(++j)&255)<<24,$=($&65535)*1540483477+(($>>>16)*59797<<16),$^=$>>>24,_=($&65535)*1540483477+(($>>>16)*59797<<16)^(_&65535)*1540483477+((_>>>16)*59797<<16);switch(et){case 3:_^=(a.charCodeAt(j+2)&255)<<16;case 2:_^=(a.charCodeAt(j+1)&255)<<8;case 1:_^=a.charCodeAt(j)&255,_=(_&65535)*1540483477+((_>>>16)*59797<<16)}return _^=_>>>13,_=(_&65535)*1540483477+((_>>>16)*59797<<16),((_^_>>>15)>>>0).toString(36)}var unitlessKeys={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},hyphenateRegex$1=/[A-Z]|^ms/g,animationRegex$1=/_EMO_([^_]+?)_([^]*?)_EMO_/g,isCustomProperty$1=function(_){return _.charCodeAt(1)===45},isProcessableValue$1=function(_){return _!=null&&typeof _!="boolean"},processStyleName$1=memoize$2(function(a){return isCustomProperty$1(a)?a:a.replace(hyphenateRegex$1,"-$&").toLowerCase()}),processStyleValue$1=function(_,$){switch(_){case"animation":case"animationName":if(typeof $=="string")return $.replace(animationRegex$1,function(j,et,tt){return cursor$1={name:et,styles:tt,next:cursor$1},et})}return unitlessKeys[_]!==1&&!isCustomProperty$1(_)&&typeof $=="number"&&$!==0?$+"px":$},noComponentSelectorMessage$1="Component selectors can only be used in conjunction with @emotion/babel-plugin, the swc Emotion plugin, or another Emotion-aware compiler transform.";function handleInterpolation$1(a,_,$){if($==null)return"";if($.__emotion_styles!==void 0)return $;switch(typeof $){case"boolean":return"";case"object":{if($.anim===1)return cursor$1={name:$.name,styles:$.styles,next:cursor$1},$.name;if($.styles!==void 0){var j=$.next;if(j!==void 0)for(;j!==void 0;)cursor$1={name:j.name,styles:j.styles,next:cursor$1},j=j.next;var et=$.styles+";";return et}return createStringFromObject$1(a,_,$)}case"function":{if(a!==void 0){var tt=cursor$1,rt=$(a);return cursor$1=tt,handleInterpolation$1(a,_,rt)}break}}return $}function createStringFromObject$1(a,_,$){var j="";if(Array.isArray($))for(var et=0;et<$.length;et++)j+=handleInterpolation$1(a,_,$[et])+";";else for(var tt in $){var rt=$[tt];if(typeof rt!="object")isProcessableValue$1(rt)&&(j+=processStyleName$1(tt)+":"+processStyleValue$1(tt,rt)+";");else if(Array.isArray(rt)&&typeof rt[0]=="string"&&_==null)for(var nt=0;nt<rt.length;nt++)isProcessableValue$1(rt[nt])&&(j+=processStyleName$1(tt)+":"+processStyleValue$1(tt,rt[nt])+";");else{var it=handleInterpolation$1(a,_,rt);switch(tt){case"animation":case"animationName":{j+=processStyleName$1(tt)+":"+it+";";break}default:j+=tt+"{"+it+"}"}}}return j}var labelPattern$1=/label:\s*([^\s;\n{]+)\s*(;|$)/g,cursor$1,serializeStyles$1=function(_,$,j){if(_.length===1&&typeof _[0]=="object"&&_[0]!==null&&_[0].styles!==void 0)return _[0];var et=!0,tt="";cursor$1=void 0;var rt=_[0];rt==null||rt.raw===void 0?(et=!1,tt+=handleInterpolation$1(j,$,rt)):tt+=rt[0];for(var nt=1;nt<_.length;nt++)tt+=handleInterpolation$1(j,$,_[nt]),et&&(tt+=rt[nt]);labelPattern$1.lastIndex=0;for(var it="",st;(st=labelPattern$1.exec(tt))!==null;)it+="-"+st[1];var ot=murmur2(tt)+it;return{name:ot,styles:tt,next:cursor$1}},syncFallback=function(_){return _()},useInsertionEffect=React$3.useInsertionEffect?React$3.useInsertionEffect:!1,useInsertionEffectAlwaysWithSyncFallback=useInsertionEffect||syncFallback,useInsertionEffectWithLayoutFallback=useInsertionEffect||reactExports.useLayoutEffect,EmotionCacheContext=reactExports.createContext(typeof HTMLElement<"u"?createCache({key:"css"}):null);EmotionCacheContext.Provider;var withEmotionCache=function(_){return reactExports.forwardRef(function($,j){var et=reactExports.useContext(EmotionCacheContext);return _($,et,j)})},ThemeContext=reactExports.createContext({}),getTheme$1=function(_,$){if(typeof $=="function"){var j=$(_);return j}return _extends$7({},_,$)},createCacheWithTheme=weakMemoize(function(a){return weakMemoize(function(_){return getTheme$1(a,_)})}),ThemeProvider$1=function(_){var $=reactExports.useContext(ThemeContext);return _.theme!==$&&($=createCacheWithTheme($)(_.theme)),reactExports.createElement(ThemeContext.Provider,{value:$},_.children)},Global=withEmotionCache(function(a,_){var $=a.styles,j=serializeStyles$1([$],void 0,reactExports.useContext(ThemeContext)),et=reactExports.useRef();return useInsertionEffectWithLayoutFallback(function(){var tt=_.key+"-global",rt=new _.sheet.constructor({key:tt,nonce:_.sheet.nonce,container:_.sheet.container,speedy:_.sheet.isSpeedy}),nt=!1,it=document.querySelector('style[data-emotion="'+tt+" "+j.name+'"]');return _.sheet.tags.length&&(rt.before=_.sheet.tags[0]),it!==null&&(nt=!0,it.setAttribute("data-emotion",tt),rt.hydrate([it])),et.current=[rt,nt],function(){rt.flush()}},[_]),useInsertionEffectWithLayoutFallback(function(){var tt=et.current,rt=tt[0],nt=tt[1];if(nt){tt[1]=!1;return}if(j.next!==void 0&&insertStyles(_,j.next,!0),rt.tags.length){var it=rt.tags[rt.tags.length-1].nextElementSibling;rt.before=it,rt.flush()}_.insert("",j,rt,!1)},[_,j.name]),null});function css$2(){for(var a=arguments.length,_=new Array(a),$=0;$<a;$++)_[$]=arguments[$];return serializeStyles$1(_)}var keyframes$1=function(){var _=css$2.apply(void 0,arguments),$="animation-"+_.name;return{name:$,styles:"@keyframes "+$+"{"+_.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},css$1=String.raw,vhPolyfill=css$1`
  :root,
  :host {
    --chakra-vh: 100vh;
  }

  @supports (height: -webkit-fill-available) {
    :root,
    :host {
      --chakra-vh: -webkit-fill-available;
    }
  }

  @supports (height: -moz-fill-available) {
    :root,
    :host {
      --chakra-vh: -moz-fill-available;
    }
  }

  @supports (height: 100dvh) {
    :root,
    :host {
      --chakra-vh: 100dvh;
    }
  }
`,CSSPolyfill=()=>jsxRuntimeExports.jsx(Global,{styles:vhPolyfill}),CSSReset=({scope:a=""})=>jsxRuntimeExports.jsx(Global,{styles:css$1`
      html {
        line-height: 1.5;
        -webkit-text-size-adjust: 100%;
        font-family: system-ui, sans-serif;
        -webkit-font-smoothing: antialiased;
        text-rendering: optimizeLegibility;
        -moz-osx-font-smoothing: grayscale;
        touch-action: manipulation;
      }

      body {
        position: relative;
        min-height: 100%;
        margin: 0;
        font-feature-settings: "kern";
      }

      ${a} :where(*, *::before, *::after) {
        border-width: 0;
        border-style: solid;
        box-sizing: border-box;
        word-wrap: break-word;
      }

      main {
        display: block;
      }

      ${a} hr {
        border-top-width: 1px;
        box-sizing: content-box;
        height: 0;
        overflow: visible;
      }

      ${a} :where(pre, code, kbd,samp) {
        font-family: SFMono-Regular, Menlo, Monaco, Consolas, monospace;
        font-size: 1em;
      }

      ${a} a {
        background-color: transparent;
        color: inherit;
        text-decoration: inherit;
      }

      ${a} abbr[title] {
        border-bottom: none;
        text-decoration: underline;
        -webkit-text-decoration: underline dotted;
        text-decoration: underline dotted;
      }

      ${a} :where(b, strong) {
        font-weight: bold;
      }

      ${a} small {
        font-size: 80%;
      }

      ${a} :where(sub,sup) {
        font-size: 75%;
        line-height: 0;
        position: relative;
        vertical-align: baseline;
      }

      ${a} sub {
        bottom: -0.25em;
      }

      ${a} sup {
        top: -0.5em;
      }

      ${a} img {
        border-style: none;
      }

      ${a} :where(button, input, optgroup, select, textarea) {
        font-family: inherit;
        font-size: 100%;
        line-height: 1.15;
        margin: 0;
      }

      ${a} :where(button, input) {
        overflow: visible;
      }

      ${a} :where(button, select) {
        text-transform: none;
      }

      ${a} :where(
          button::-moz-focus-inner,
          [type="button"]::-moz-focus-inner,
          [type="reset"]::-moz-focus-inner,
          [type="submit"]::-moz-focus-inner
        ) {
        border-style: none;
        padding: 0;
      }

      ${a} fieldset {
        padding: 0.35em 0.75em 0.625em;
      }

      ${a} legend {
        box-sizing: border-box;
        color: inherit;
        display: table;
        max-width: 100%;
        padding: 0;
        white-space: normal;
      }

      ${a} progress {
        vertical-align: baseline;
      }

      ${a} textarea {
        overflow: auto;
      }

      ${a} :where([type="checkbox"], [type="radio"]) {
        box-sizing: border-box;
        padding: 0;
      }

      ${a} input[type="number"]::-webkit-inner-spin-button,
      ${a} input[type="number"]::-webkit-outer-spin-button {
        -webkit-appearance: none !important;
      }

      ${a} input[type="number"] {
        -moz-appearance: textfield;
      }

      ${a} input[type="search"] {
        -webkit-appearance: textfield;
        outline-offset: -2px;
      }

      ${a} input[type="search"]::-webkit-search-decoration {
        -webkit-appearance: none !important;
      }

      ${a} ::-webkit-file-upload-button {
        -webkit-appearance: button;
        font: inherit;
      }

      ${a} details {
        display: block;
      }

      ${a} summary {
        display: list-item;
      }

      template {
        display: none;
      }

      [hidden] {
        display: none !important;
      }

      ${a} :where(
          blockquote,
          dl,
          dd,
          h1,
          h2,
          h3,
          h4,
          h5,
          h6,
          hr,
          figure,
          p,
          pre
        ) {
        margin: 0;
      }

      ${a} button {
        background: transparent;
        padding: 0;
      }

      ${a} fieldset {
        margin: 0;
        padding: 0;
      }

      ${a} :where(ol, ul) {
        margin: 0;
        padding: 0;
      }

      ${a} textarea {
        resize: vertical;
      }

      ${a} :where(button, [role="button"]) {
        cursor: pointer;
      }

      ${a} button::-moz-focus-inner {
        border: 0 !important;
      }

      ${a} table {
        border-collapse: collapse;
      }

      ${a} :where(h1, h2, h3, h4, h5, h6) {
        font-size: inherit;
        font-weight: inherit;
      }

      ${a} :where(button, input, optgroup, select, textarea) {
        padding: 0;
        line-height: inherit;
        color: inherit;
      }

      ${a} :where(img, svg, video, canvas, audio, iframe, embed, object) {
        display: block;
      }

      ${a} :where(img, video) {
        max-width: 100%;
        height: auto;
      }

      [data-js-focus-visible]
        :focus:not([data-focus-visible-added]):not(
          [data-focus-visible-disabled]
        ) {
        outline: none;
        box-shadow: none;
      }

      ${a} select::-ms-expand {
        display: none;
      }

      ${vhPolyfill}
    `});function getErrorMessage(a,_){return`${a} returned \`undefined\`. Seems you forgot to wrap component within ${_}`}function createContext$1(a={}){const{name:_,strict:$=!0,hookName:j="useContext",providerName:et="Provider",errorMessage:tt,defaultValue:rt}=a,nt=reactExports.createContext(rt);nt.displayName=_;function it(){var st;const ot=reactExports.useContext(nt);if(!ot&&$){const at=new Error(tt??getErrorMessage(j,et));throw at.name="ContextError",(st=Error.captureStackTrace)==null||st.call(Error,at,it),at}return ot}return[nt.Provider,it,nt]}var[PortalManagerContextProvider,usePortalManager]=createContext$1({strict:!1,name:"PortalManagerContext"});function PortalManager(a){const{children:_,zIndex:$}=a;return jsxRuntimeExports.jsx(PortalManagerContextProvider,{value:{zIndex:$},children:_})}PortalManager.displayName="PortalManager";var useSafeLayoutEffect$2=globalThis!=null&&globalThis.document?reactExports.useLayoutEffect:reactExports.useEffect,[PortalContextProvider,usePortalContext]=createContext$1({strict:!1,name:"PortalContext"}),PORTAL_CLASSNAME="chakra-portal",PORTAL_SELECTOR=".chakra-portal",Container=a=>jsxRuntimeExports.jsx("div",{className:"chakra-portal-zIndex",style:{position:"absolute",zIndex:a.zIndex,top:0,left:0,right:0},children:a.children}),DefaultPortal=a=>{const{appendToParentPortal:_,children:$}=a,[j,et]=reactExports.useState(null),tt=reactExports.useRef(null),[,rt]=reactExports.useState({});reactExports.useEffect(()=>rt({}),[]);const nt=usePortalContext(),it=usePortalManager();useSafeLayoutEffect$2(()=>{if(!j)return;const ot=j.ownerDocument,at=_?nt??ot.body:ot.body;if(!at)return;tt.current=ot.createElement("div"),tt.current.className=PORTAL_CLASSNAME,at.appendChild(tt.current),rt({});const ut=tt.current;return()=>{at.contains(ut)&&at.removeChild(ut)}},[j]);const st=it!=null&&it.zIndex?jsxRuntimeExports.jsx(Container,{zIndex:it==null?void 0:it.zIndex,children:$}):$;return tt.current?reactDomExports.createPortal(jsxRuntimeExports.jsx(PortalContextProvider,{value:tt.current,children:st}),tt.current):jsxRuntimeExports.jsx("span",{ref:ot=>{ot&&et(ot)}})},ContainerPortal=a=>{const{children:_,containerRef:$,appendToParentPortal:j}=a,et=$.current,tt=et??(typeof window<"u"?document.body:void 0),rt=reactExports.useMemo(()=>{const it=et==null?void 0:et.ownerDocument.createElement("div");return it&&(it.className=PORTAL_CLASSNAME),it},[et]),[,nt]=reactExports.useState({});return useSafeLayoutEffect$2(()=>nt({}),[]),useSafeLayoutEffect$2(()=>{if(!(!rt||!tt))return tt.appendChild(rt),()=>{tt.removeChild(rt)}},[rt,tt]),tt&&rt?reactDomExports.createPortal(jsxRuntimeExports.jsx(PortalContextProvider,{value:j?rt:null,children:_}),rt):null};function Portal(a){const _={appendToParentPortal:!0,...a},{containerRef:$,...j}=_;return $?jsxRuntimeExports.jsx(ContainerPortal,{containerRef:$,...j}):jsxRuntimeExports.jsx(DefaultPortal,{...j})}Portal.className=PORTAL_CLASSNAME;Portal.selector=PORTAL_SELECTOR;Portal.displayName="Portal";function useTheme(){const a=reactExports.useContext(ThemeContext);if(!a)throw Error("useTheme: `theme` is undefined. Seems you forgot to wrap your app in `<ChakraProvider />` or `<ThemeProvider />`");return a}var ColorModeContext=reactExports.createContext({});ColorModeContext.displayName="ColorModeContext";function useColorMode(){const a=reactExports.useContext(ColorModeContext);if(a===void 0)throw new Error("useColorMode must be used within a ColorModeProvider");return a}var classNames={light:"chakra-ui-light",dark:"chakra-ui-dark"};function getColorModeUtils(a={}){const{preventTransition:_=!0}=a,$={setDataset:j=>{const et=_?$.preventTransition():void 0;document.documentElement.dataset.theme=j,document.documentElement.style.colorScheme=j,et==null||et()},setClassName(j){document.body.classList.add(j?classNames.dark:classNames.light),document.body.classList.remove(j?classNames.light:classNames.dark)},query(){return window.matchMedia("(prefers-color-scheme: dark)")},getSystemTheme(j){var et;return((et=$.query().matches)!=null?et:j==="dark")?"dark":"light"},addListener(j){const et=$.query(),tt=rt=>{j(rt.matches?"dark":"light")};return typeof et.addListener=="function"?et.addListener(tt):et.addEventListener("change",tt),()=>{typeof et.removeListener=="function"?et.removeListener(tt):et.removeEventListener("change",tt)}},preventTransition(){const j=document.createElement("style");return j.appendChild(document.createTextNode("*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(j),()=>{window.getComputedStyle(document.body),requestAnimationFrame(()=>{requestAnimationFrame(()=>{document.head.removeChild(j)})})}}};return $}var STORAGE_KEY="chakra-ui-color-mode";function createLocalStorageManager(a){return{ssr:!1,type:"localStorage",get(_){if(!(globalThis!=null&&globalThis.document))return _;let $;try{$=localStorage.getItem(a)||_}catch{}return $||_},set(_){try{localStorage.setItem(a,_)}catch{}}}}var localStorageManager=createLocalStorageManager(STORAGE_KEY),noop$c=()=>{};function getTheme(a,_){return a.type==="cookie"&&a.ssr?a.get(_):_}function ColorModeProvider(a){const{value:_,children:$,options:{useSystemColorMode:j,initialColorMode:et,disableTransitionOnChange:tt}={},colorModeManager:rt=localStorageManager}=a,nt=et==="dark"?"dark":"light",[it,st]=reactExports.useState(()=>getTheme(rt,nt)),[ot,at]=reactExports.useState(()=>getTheme(rt)),{getSystemTheme:ut,setClassName:ht,setDataset:yt,addListener:wt}=reactExports.useMemo(()=>getColorModeUtils({preventTransition:tt}),[tt]),Ct=et==="system"&&!it?ot:it,Pt=reactExports.useCallback(Lt=>{const Dt=Lt==="system"?ut():Lt;st(Dt),ht(Dt==="dark"),yt(Dt),rt.set(Dt)},[rt,ut,ht,yt]);useSafeLayoutEffect$2(()=>{et==="system"&&at(ut())},[]),reactExports.useEffect(()=>{const Lt=rt.get();if(Lt){Pt(Lt);return}if(et==="system"){Pt("system");return}Pt(nt)},[rt,nt,et,Pt]);const Tt=reactExports.useCallback(()=>{Pt(Ct==="dark"?"light":"dark")},[Ct,Pt]);reactExports.useEffect(()=>{if(j)return wt(Pt)},[j,wt,Pt]);const Mt=reactExports.useMemo(()=>({colorMode:_??Ct,toggleColorMode:_?noop$c:Tt,setColorMode:_?noop$c:Pt,forced:_!==void 0}),[Ct,Tt,Pt,_]);return jsxRuntimeExports.jsx(ColorModeContext.Provider,{value:Mt,children:$})}ColorModeProvider.displayName="ColorModeProvider";var VALID_VALUES=new Set(["dark","light","system"]);function normalize$2(a){let _=a;return VALID_VALUES.has(_)||(_="light"),_}function getScriptSrc(a={}){const{initialColorMode:_="light",type:$="localStorage",storageKey:j="chakra-ui-color-mode"}=a,et=normalize$2(_),tt=$==="cookie",rt=`(function(){try{var a=function(o){var l="(prefers-color-scheme: dark)",v=window.matchMedia(l).matches?"dark":"light",e=o==="system"?v:o,d=document.documentElement,m=document.body,i="chakra-ui-light",n="chakra-ui-dark",s=e==="dark";return m.classList.add(s?n:i),m.classList.remove(s?i:n),d.style.colorScheme=e,d.dataset.theme=e,e},u=a,h="${et}",r="${j}",t=document.cookie.match(new RegExp("(^| )".concat(r,"=([^;]+)"))),c=t?t[2]:null;c?a(c):document.cookie="".concat(r,"=").concat(a(h),"; max-age=31536000; path=/")}catch(a){}})();
  `,nt=`(function(){try{var a=function(c){var v="(prefers-color-scheme: dark)",h=window.matchMedia(v).matches?"dark":"light",r=c==="system"?h:c,o=document.documentElement,s=document.body,l="chakra-ui-light",d="chakra-ui-dark",i=r==="dark";return s.classList.add(i?d:l),s.classList.remove(i?l:d),o.style.colorScheme=r,o.dataset.theme=r,r},n=a,m="${et}",e="${j}",t=localStorage.getItem(e);t?a(t):localStorage.setItem(e,a(m))}catch(a){}})();
  `;return`!${tt?rt:nt}`.trim()}function ColorModeScript(a={}){const{nonce:_}=a;return jsxRuntimeExports.jsx("script",{id:"chakra-script",nonce:_,dangerouslySetInnerHTML:{__html:getScriptSrc(a)}})}function useChakra(){const a=useColorMode(),_=useTheme();return{...a,theme:_}}function getTokenValue(a,_,$){var j,et;if(_==null)return _;const tt=rt=>{var nt,it;return(it=(nt=a.__cssMap)==null?void 0:nt[rt])==null?void 0:it.value};return(et=(j=tt(_))!=null?j:tt($))!=null?et:$}function getToken(a,_,$){const j=Array.isArray(_)?_:[_],et=Array.isArray($)?$:[$];return tt=>{const rt=et.filter(Boolean),nt=j.map((it,st)=>{var ot;const at=`${a}.${it}`;return getTokenValue(tt,at,(ot=rt[st])!=null?ot:it)});return Array.isArray(_)?nt:nt[0]}}var cx=(...a)=>a.filter(Boolean).join(" ");function isDev(){return!1}function isObject$5(a){const _=typeof a;return a!=null&&(_==="object"||_==="function")&&!Array.isArray(a)}var warn=a=>{const{condition:_,message:$}=a;_&&isDev()&&console.warn($)};function runIfFn$2(a,..._){return isFunction$8(a)?a(..._):a}var isFunction$8=a=>typeof a=="function",dataAttr=a=>a?"":void 0,ariaAttr=a=>a?!0:void 0;function callAllHandlers$1(...a){return function($){a.some(j=>(j==null||j($),$==null?void 0:$.defaultPrevented))}}function callAll(...a){return function($){a.forEach(j=>{j==null||j($)})}}var lodash_mergewith={exports:{}};lodash_mergewith.exports;(function(a,_){var $=200,j="__lodash_hash_undefined__",et=800,tt=16,rt=9007199254740991,nt="[object Arguments]",it="[object Array]",st="[object AsyncFunction]",ot="[object Boolean]",at="[object Date]",ut="[object Error]",ht="[object Function]",yt="[object GeneratorFunction]",wt="[object Map]",Ct="[object Number]",Pt="[object Null]",Tt="[object Object]",Mt="[object Proxy]",Lt="[object RegExp]",Dt="[object Set]",Ut="[object String]",Ot="[object Undefined]",It="[object WeakMap]",Bt="[object ArrayBuffer]",Ft="[object DataView]",jt="[object Float32Array]",bt="[object Float64Array]",vt="[object Int8Array]",ct="[object Int16Array]",dt="[object Int32Array]",mt="[object Uint8Array]",xt="[object Uint8ClampedArray]",At="[object Uint16Array]",Rt="[object Uint32Array]",St=/[\\^$.*+?()[\]{}|]/g,$t=/^\[object .+?Constructor\]$/,Et=/^(?:0|[1-9]\d*)$/,Nt={};Nt[jt]=Nt[bt]=Nt[vt]=Nt[ct]=Nt[dt]=Nt[mt]=Nt[xt]=Nt[At]=Nt[Rt]=!0,Nt[nt]=Nt[it]=Nt[Bt]=Nt[ot]=Nt[Ft]=Nt[at]=Nt[ut]=Nt[ht]=Nt[wt]=Nt[Ct]=Nt[Tt]=Nt[Lt]=Nt[Dt]=Nt[Ut]=Nt[It]=!1;var tr=typeof commonjsGlobal=="object"&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal,ir=typeof self=="object"&&self&&self.Object===Object&&self,nr=tr||ir||Function("return this")(),Zt=_&&!_.nodeType&&_,Kt=Zt&&!0&&a&&!a.nodeType&&a,Qt=Kt&&Kt.exports===Zt,Ht=Qt&&tr.process,qt=function(){try{var Xt=Kt&&Kt.require&&Kt.require("util").types;return Xt||Ht&&Ht.binding&&Ht.binding("util")}catch{}}(),Jt=qt&&qt.isTypedArray;function ur(Xt,cr,gr){switch(gr.length){case 0:return Xt.call(cr);case 1:return Xt.call(cr,gr[0]);case 2:return Xt.call(cr,gr[0],gr[1]);case 3:return Xt.call(cr,gr[0],gr[1],gr[2])}return Xt.apply(cr,gr)}function xr(Xt,cr){for(var gr=-1,Dr=Array(Xt);++gr<Xt;)Dr[gr]=cr(gr);return Dr}function pr(Xt){return function(cr){return Xt(cr)}}function Cr(Xt,cr){return Xt==null?void 0:Xt[cr]}function Mr(Xt,cr){return function(gr){return Xt(cr(gr))}}var lr=Array.prototype,fr=Function.prototype,_r=Object.prototype,Rr=nr["__core-js_shared__"],kr=fr.toString,Ar=_r.hasOwnProperty,Pr=function(){var Xt=/[^.]+$/.exec(Rr&&Rr.keys&&Rr.keys.IE_PROTO||"");return Xt?"Symbol(src)_1."+Xt:""}(),Or=_r.toString,Lr=kr.call(Object),or=RegExp("^"+kr.call(Ar).replace(St,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Yt=Qt?nr.Buffer:void 0,er=nr.Symbol,Gt=nr.Uint8Array;Yt&&Yt.allocUnsafe;var Vt=Mr(Object.getPrototypeOf,Object),Wt=Object.create,ar=_r.propertyIsEnumerable,yr=lr.splice,Er=er?er.toStringTag:void 0,Sr=function(){try{var Xt=Ro(Object,"defineProperty");return Xt({},"",{}),Xt}catch{}}(),Wr=Yt?Yt.isBuffer:void 0,Hr=Math.max,Fr=Date.now,pn=Ro(nr,"Map"),Jr=Ro(Object,"create"),Qr=function(){function Xt(){}return function(cr){if(!Ps(cr))return{};if(Wt)return Wt(cr);Xt.prototype=cr;var gr=new Xt;return Xt.prototype=void 0,gr}}();function mn(Xt){var cr=-1,gr=Xt==null?0:Xt.length;for(this.clear();++cr<gr;){var Dr=Xt[cr];this.set(Dr[0],Dr[1])}}function ln(){this.__data__=Jr?Jr(null):{},this.size=0}function qr(Xt){var cr=this.has(Xt)&&delete this.__data__[Xt];return this.size-=cr?1:0,cr}function En(Xt){var cr=this.__data__;if(Jr){var gr=cr[Xt];return gr===j?void 0:gr}return Ar.call(cr,Xt)?cr[Xt]:void 0}function un(Xt){var cr=this.__data__;return Jr?cr[Xt]!==void 0:Ar.call(cr,Xt)}function Vr(Xt,cr){var gr=this.__data__;return this.size+=this.has(Xt)?0:1,gr[Xt]=Jr&&cr===void 0?j:cr,this}mn.prototype.clear=ln,mn.prototype.delete=qr,mn.prototype.get=En,mn.prototype.has=un,mn.prototype.set=Vr;function hn(Xt){var cr=-1,gr=Xt==null?0:Xt.length;for(this.clear();++cr<gr;){var Dr=Xt[cr];this.set(Dr[0],Dr[1])}}function fn(){this.__data__=[],this.size=0}function Kr(Xt){var cr=this.__data__,gr=Jn(cr,Xt);if(gr<0)return!1;var Dr=cr.length-1;return gr==Dr?cr.pop():yr.call(cr,gr,1),--this.size,!0}function Rn(Xt){var cr=this.__data__,gr=Jn(cr,Xt);return gr<0?void 0:cr[gr][1]}function dn(Xt){return Jn(this.__data__,Xt)>-1}function Gr(Xt,cr){var gr=this.__data__,Dr=Jn(gr,Xt);return Dr<0?(++this.size,gr.push([Xt,cr])):gr[Dr][1]=cr,this}hn.prototype.clear=fn,hn.prototype.delete=Kr,hn.prototype.get=Rn,hn.prototype.has=dn,hn.prototype.set=Gr;function gn(Xt){var cr=-1,gr=Xt==null?0:Xt.length;for(this.clear();++cr<gr;){var Dr=Xt[cr];this.set(Dr[0],Dr[1])}}function an(){this.size=0,this.__data__={hash:new mn,map:new(pn||hn),string:new mn}}function Zr(Xt){var cr=Zs(this,Xt).delete(Xt);return this.size-=cr?1:0,cr}function An(Xt){return Zs(this,Xt).get(Xt)}function Sn(Xt){return Zs(this,Xt).has(Xt)}function nn(Xt,cr){var gr=Zs(this,Xt),Dr=gr.size;return gr.set(Xt,cr),this.size+=gr.size==Dr?0:1,this}gn.prototype.clear=an,gn.prototype.delete=Zr,gn.prototype.get=An,gn.prototype.has=Sn,gn.prototype.set=nn;function Pn(Xt){var cr=this.__data__=new hn(Xt);this.size=cr.size}function yn(){this.__data__=new hn,this.size=0}function _n(Xt){var cr=this.__data__,gr=cr.delete(Xt);return this.size=cr.size,gr}function ds(Xt){return this.__data__.get(Xt)}function fs(Xt){return this.__data__.has(Xt)}function hs(Xt,cr){var gr=this.__data__;if(gr instanceof hn){var Dr=gr.__data__;if(!pn||Dr.length<$-1)return Dr.push([Xt,cr]),this.size=++gr.size,this;gr=this.__data__=new gn(Dr)}return gr.set(Xt,cr),this.size=gr.size,this}Pn.prototype.clear=yn,Pn.prototype.delete=_n,Pn.prototype.get=ds,Pn.prototype.has=fs,Pn.prototype.set=hs;function ps(Xt,cr){var gr=Ls(Xt),Dr=!gr&&Ao(Xt),rn=!gr&&!Dr&&fo(Xt),xn=!gr&&!Dr&&!rn&&No(Xt),$n=gr||Dr||rn||xn,cn=$n?xr(Xt.length,String):[],wn=cn.length;for(var Bn in Xt)$n&&(Bn=="length"||rn&&(Bn=="offset"||Bn=="parent")||xn&&(Bn=="buffer"||Bn=="byteLength"||Bn=="byteOffset")||lo(Bn,wn))||cn.push(Bn);return cn}function Vn(Xt,cr,gr){(gr!==void 0&&!Xs(Xt[cr],gr)||gr===void 0&&!(cr in Xt))&&Yn(Xt,cr,gr)}function ss(Xt,cr,gr){var Dr=Xt[cr];(!(Ar.call(Xt,cr)&&Xs(Dr,gr))||gr===void 0&&!(cr in Xt))&&Yn(Xt,cr,gr)}function Jn(Xt,cr){for(var gr=Xt.length;gr--;)if(Xs(Xt[gr][0],cr))return gr;return-1}function Yn(Xt,cr,gr){cr=="__proto__"&&Sr?Sr(Xt,cr,{configurable:!0,enumerable:!0,value:gr,writable:!0}):Xt[cr]=gr}var ms=So();function Qn(Xt){return Xt==null?Xt===void 0?Ot:Pt:Er&&Er in Object(Xt)?xl(Xt):wl(Xt)}function es(Xt){return Is(Xt)&&Qn(Xt)==nt}function ls(Xt){if(!Ps(Xt)||jo(Xt))return!1;var cr=To(Xt)?or:$t;return cr.test(Tl(Xt))}function us(Xt){return Is(Xt)&&$o(Xt.length)&&!!Nt[Qn(Xt)]}function Wn(Xt){if(!Ps(Xt))return Bs(Xt);var cr=Ys(Xt),gr=[];for(var Dr in Xt)Dr=="constructor"&&(cr||!Ar.call(Xt,Dr))||gr.push(Dr);return gr}function as(Xt,cr,gr,Dr,rn){Xt!==cr&&ms(cr,function(xn,$n){if(rn||(rn=new Pn),Ps(xn))gs(Xt,cr,$n,gr,as,Dr,rn);else{var cn=Dr?Dr(Ms(Xt,$n),xn,$n+"",Xt,cr,rn):void 0;cn===void 0&&(cn=xn),Vn(Xt,$n,cn)}},Bo)}function gs(Xt,cr,gr,Dr,rn,xn,$n){var cn=Ms(Xt,gr),wn=Ms(cr,gr),Bn=$n.get(wn);if(Bn){Vn(Xt,gr,Bn);return}var Fn=xn?xn(cn,wn,gr+"",Xt,cr,$n):void 0,ts=Fn===void 0;if(ts){var _i=Ls(wn),_s=!_i&&fo(wn),Ds=!_i&&!_s&&No(wn);Fn=wn,_i||_s||Ds?Ls(cn)?Fn=cn:$l(cn)?Fn=Wo(cn):_s?(ts=!1,Fn=Ts(wn)):Ds?(ts=!1,Fn=Eo(wn)):Fn=[]:Pl(wn)||Ao(wn)?(Fn=cn,Ao(cn)?Fn=Po(cn):(!Ps(cn)||To(cn))&&(Fn=_l(wn))):ts=!1}ts&&($n.set(wn,Fn),rn(Fn,wn,Dr,xn,$n),$n.delete(wn)),Vn(Xt,gr,Fn)}function vs(Xt,cr){return Rl(Sl(Xt,cr,Xn),Xt+"")}var $s=Sr?function(Xt,cr){return Sr(Xt,"toString",{configurable:!0,enumerable:!1,value:rs(cr),writable:!0})}:Xn;function Ts(Xt,cr){return Xt.slice()}function yl(Xt){var cr=new Xt.constructor(Xt.byteLength);return new Gt(cr).set(new Gt(Xt)),cr}function Eo(Xt,cr){var gr=yl(Xt.buffer);return new Xt.constructor(gr,Xt.byteOffset,Xt.length)}function Wo(Xt,cr){var gr=-1,Dr=Xt.length;for(cr||(cr=Array(Dr));++gr<Dr;)cr[gr]=Xt[gr];return cr}function wo(Xt,cr,gr,Dr){var rn=!gr;gr||(gr={});for(var xn=-1,$n=cr.length;++xn<$n;){var cn=cr[xn],wn=void 0;wn===void 0&&(wn=Xt[cn]),rn?Yn(gr,cn,wn):ss(gr,cn,wn)}return gr}function Go(Xt){return vs(function(cr,gr){var Dr=-1,rn=gr.length,xn=rn>1?gr[rn-1]:void 0,$n=rn>2?gr[2]:void 0;for(xn=Xt.length>3&&typeof xn=="function"?(rn--,xn):void 0,$n&&Yl(gr[0],gr[1],$n)&&(xn=rn<3?void 0:xn,rn=1),cr=Object(cr);++Dr<rn;){var cn=gr[Dr];cn&&Xt(cr,cn,Dr,xn)}return cr})}function So(Xt){return function(cr,gr,Dr){for(var rn=-1,xn=Object(cr),$n=Dr(cr),cn=$n.length;cn--;){var wn=$n[++rn];if(gr(xn[wn],wn,xn)===!1)break}return cr}}function Zs(Xt,cr){var gr=Xt.__data__;return El(cr)?gr[typeof cr=="string"?"string":"hash"]:gr.map}function Ro(Xt,cr){var gr=Cr(Xt,cr);return ls(gr)?gr:void 0}function xl(Xt){var cr=Ar.call(Xt,Er),gr=Xt[Er];try{Xt[Er]=void 0;var Dr=!0}catch{}var rn=Or.call(Xt);return Dr&&(cr?Xt[Er]=gr:delete Xt[Er]),rn}function _l(Xt){return typeof Xt.constructor=="function"&&!Ys(Xt)?Qr(Vt(Xt)):{}}function lo(Xt,cr){var gr=typeof Xt;return cr=cr??rt,!!cr&&(gr=="number"||gr!="symbol"&&Et.test(Xt))&&Xt>-1&&Xt%1==0&&Xt<cr}function Yl(Xt,cr,gr){if(!Ps(gr))return!1;var Dr=typeof cr;return(Dr=="number"?uo(gr)&&lo(cr,gr.length):Dr=="string"&&cr in gr)?Xs(gr[cr],Xt):!1}function El(Xt){var cr=typeof Xt;return cr=="string"||cr=="number"||cr=="symbol"||cr=="boolean"?Xt!=="__proto__":Xt===null}function jo(Xt){return!!Pr&&Pr in Xt}function Ys(Xt){var cr=Xt&&Xt.constructor,gr=typeof cr=="function"&&cr.prototype||_r;return Xt===gr}function Bs(Xt){var cr=[];if(Xt!=null)for(var gr in Object(Xt))cr.push(gr);return cr}function wl(Xt){return Or.call(Xt)}function Sl(Xt,cr,gr){return cr=Hr(cr===void 0?Xt.length-1:cr,0),function(){for(var Dr=arguments,rn=-1,xn=Hr(Dr.length-cr,0),$n=Array(xn);++rn<xn;)$n[rn]=Dr[cr+rn];rn=-1;for(var cn=Array(cr+1);++rn<cr;)cn[rn]=Dr[rn];return cn[cr]=gr($n),ur(Xt,this,cn)}}function Ms(Xt,cr){if(!(cr==="constructor"&&typeof Xt[cr]=="function")&&cr!="__proto__")return Xt[cr]}var Rl=Al($s);function Al(Xt){var cr=0,gr=0;return function(){var Dr=Fr(),rn=tt-(Dr-gr);if(gr=Dr,rn>0){if(++cr>=et)return arguments[0]}else cr=0;return Xt.apply(void 0,arguments)}}function Tl(Xt){if(Xt!=null){try{return kr.call(Xt)}catch{}try{return Xt+""}catch{}}return""}function Xs(Xt,cr){return Xt===cr||Xt!==Xt&&cr!==cr}var Ao=es(function(){return arguments}())?es:function(Xt){return Is(Xt)&&Ar.call(Xt,"callee")&&!ar.call(Xt,"callee")},Ls=Array.isArray;function uo(Xt){return Xt!=null&&$o(Xt.length)&&!To(Xt)}function $l(Xt){return Is(Xt)&&uo(Xt)}var fo=Wr||wr;function To(Xt){if(!Ps(Xt))return!1;var cr=Qn(Xt);return cr==ht||cr==yt||cr==st||cr==Mt}function $o(Xt){return typeof Xt=="number"&&Xt>-1&&Xt%1==0&&Xt<=rt}function Ps(Xt){var cr=typeof Xt;return Xt!=null&&(cr=="object"||cr=="function")}function Is(Xt){return Xt!=null&&typeof Xt=="object"}function Pl(Xt){if(!Is(Xt)||Qn(Xt)!=Tt)return!1;var cr=Vt(Xt);if(cr===null)return!0;var gr=Ar.call(cr,"constructor")&&cr.constructor;return typeof gr=="function"&&gr instanceof gr&&kr.call(gr)==Lr}var No=Jt?pr(Jt):us;function Po(Xt){return wo(Xt,Bo(Xt))}function Bo(Xt){return uo(Xt)?ps(Xt):Wn(Xt)}var Xl=Go(function(Xt,cr,gr,Dr){as(Xt,cr,gr,Dr)});function rs(Xt){return function(){return Xt}}function Xn(Xt){return Xt}function wr(){return!1}a.exports=Xl})(lodash_mergewith,lodash_mergewith.exports);var lodash_mergewithExports=lodash_mergewith.exports;const mergeWith=getDefaultExportFromCjs$1(lodash_mergewithExports);var isImportant=a=>/!(important)?$/.test(a),withoutImportant=a=>typeof a=="string"?a.replace(/!(important)?$/,"").trim():a,tokenToCSSVar=(a,_)=>$=>{const j=String(_),et=isImportant(j),tt=withoutImportant(j),rt=a?`${a}.${tt}`:tt;let nt=isObject$5($.__cssMap)&&rt in $.__cssMap?$.__cssMap[rt].varRef:_;return nt=withoutImportant(nt),et?`${nt} !important`:nt};function createTransform(a){const{scale:_,transform:$,compose:j}=a;return(tt,rt)=>{var nt;const it=tokenToCSSVar(_,tt)(rt);let st=(nt=$==null?void 0:$(it,rt))!=null?nt:it;return j&&(st=j(st,rt)),st}}var pipe$3=(...a)=>_=>a.reduce(($,j)=>j($),_);function toConfig(a,_){return $=>{const j={property:$,scale:a};return j.transform=createTransform({scale:a,transform:_}),j}}var getRtl=({rtl:a,ltr:_})=>$=>$.direction==="rtl"?a:_;function logical(a){const{property:_,scale:$,transform:j}=a;return{scale:$,property:getRtl(_),transform:$?createTransform({scale:$,compose:j}):j}}var transformTemplate=["rotate(var(--chakra-rotate, 0))","scaleX(var(--chakra-scale-x, 1))","scaleY(var(--chakra-scale-y, 1))","skewX(var(--chakra-skew-x, 0))","skewY(var(--chakra-skew-y, 0))"];function getTransformTemplate(){return["translateX(var(--chakra-translate-x, 0))","translateY(var(--chakra-translate-y, 0))",...transformTemplate].join(" ")}function getTransformGpuTemplate(){return["translate3d(var(--chakra-translate-x, 0), var(--chakra-translate-y, 0), 0)",...transformTemplate].join(" ")}var filterTemplate={"--chakra-blur":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-brightness":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-contrast":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-grayscale":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-hue-rotate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-invert":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-saturate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-sepia":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-drop-shadow":"var(--chakra-empty,/*!*/ /*!*/)",filter:["var(--chakra-blur)","var(--chakra-brightness)","var(--chakra-contrast)","var(--chakra-grayscale)","var(--chakra-hue-rotate)","var(--chakra-invert)","var(--chakra-saturate)","var(--chakra-sepia)","var(--chakra-drop-shadow)"].join(" ")},backdropFilterTemplate={backdropFilter:["var(--chakra-backdrop-blur)","var(--chakra-backdrop-brightness)","var(--chakra-backdrop-contrast)","var(--chakra-backdrop-grayscale)","var(--chakra-backdrop-hue-rotate)","var(--chakra-backdrop-invert)","var(--chakra-backdrop-opacity)","var(--chakra-backdrop-saturate)","var(--chakra-backdrop-sepia)"].join(" "),"--chakra-backdrop-blur":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-brightness":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-contrast":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-grayscale":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-hue-rotate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-invert":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-opacity":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-saturate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-sepia":"var(--chakra-empty,/*!*/ /*!*/)"};function getRingTemplate(a){return{"--chakra-ring-offset-shadow":"var(--chakra-ring-inset) 0 0 0 var(--chakra-ring-offset-width) var(--chakra-ring-offset-color)","--chakra-ring-shadow":"var(--chakra-ring-inset) 0 0 0 calc(var(--chakra-ring-width) + var(--chakra-ring-offset-width)) var(--chakra-ring-color)","--chakra-ring-width":a,boxShadow:["var(--chakra-ring-offset-shadow)","var(--chakra-ring-shadow)","var(--chakra-shadow, 0 0 #0000)"].join(", ")}}var flexDirectionTemplate={"row-reverse":{space:"--chakra-space-x-reverse",divide:"--chakra-divide-x-reverse"},"column-reverse":{space:"--chakra-space-y-reverse",divide:"--chakra-divide-y-reverse"}},directionMap={"to-t":"to top","to-tr":"to top right","to-r":"to right","to-br":"to bottom right","to-b":"to bottom","to-bl":"to bottom left","to-l":"to left","to-tl":"to top left"},valueSet=new Set(Object.values(directionMap)),globalSet=new Set(["none","-moz-initial","inherit","initial","revert","unset"]),trimSpace=a=>a.trim();function parseGradient(a,_){if(a==null||globalSet.has(a))return a;if(!(isCSSFunction(a)||globalSet.has(a)))return`url('${a}')`;const et=/(^[a-z-A-Z]+)\((.*)\)/g.exec(a),tt=et==null?void 0:et[1],rt=et==null?void 0:et[2];if(!tt||!rt)return a;const nt=tt.includes("-gradient")?tt:`${tt}-gradient`,[it,...st]=rt.split(",").map(trimSpace).filter(Boolean);if((st==null?void 0:st.length)===0)return a;const ot=it in directionMap?directionMap[it]:it;st.unshift(ot);const at=st.map(ut=>{if(valueSet.has(ut))return ut;const ht=ut.indexOf(" "),[yt,wt]=ht!==-1?[ut.substr(0,ht),ut.substr(ht+1)]:[ut],Ct=isCSSFunction(wt)?wt:wt&&wt.split(" "),Pt=`colors.${yt}`,Tt=Pt in _.__cssMap?_.__cssMap[Pt].varRef:yt;return Ct?[Tt,...Array.isArray(Ct)?Ct:[Ct]].join(" "):Tt});return`${nt}(${at.join(", ")})`}var isCSSFunction=a=>typeof a=="string"&&a.includes("(")&&a.includes(")"),gradientTransform=(a,_)=>parseGradient(a,_??{});function isCssVar(a){return/^var\(--.+\)$/.test(a)}var analyzeCSSValue=a=>{const _=parseFloat(a.toString()),$=a.toString().replace(String(_),"");return{unitless:!$,value:_,unit:$}},wrap=a=>_=>`${a}(${_})`,transformFunctions={filter(a){return a!=="auto"?a:filterTemplate},backdropFilter(a){return a!=="auto"?a:backdropFilterTemplate},ring(a){return getRingTemplate(transformFunctions.px(a))},bgClip(a){return a==="text"?{color:"transparent",backgroundClip:"text"}:{backgroundClip:a}},transform(a){return a==="auto"?getTransformTemplate():a==="auto-gpu"?getTransformGpuTemplate():a},vh(a){return a==="$100vh"?"var(--chakra-vh)":a},px(a){if(a==null)return a;const{unitless:_}=analyzeCSSValue(a);return _||typeof a=="number"?`${a}px`:a},fraction(a){return typeof a!="number"||a>1?a:`${a*100}%`},float(a,_){const $={left:"right",right:"left"};return _.direction==="rtl"?$[a]:a},degree(a){if(isCssVar(a)||a==null)return a;const _=typeof a=="string"&&!a.endsWith("deg");return typeof a=="number"||_?`${a}deg`:a},gradient:gradientTransform,blur:wrap("blur"),opacity:wrap("opacity"),brightness:wrap("brightness"),contrast:wrap("contrast"),dropShadow:wrap("drop-shadow"),grayscale:wrap("grayscale"),hueRotate:a=>wrap("hue-rotate")(transformFunctions.degree(a)),invert:wrap("invert"),saturate:wrap("saturate"),sepia:wrap("sepia"),bgImage(a){return a==null||isCSSFunction(a)||globalSet.has(a)?a:`url(${a})`},outline(a){const _=String(a)==="0"||String(a)==="none";return a!==null&&_?{outline:"2px solid transparent",outlineOffset:"2px"}:{outline:a}},flexDirection(a){var _;const{space:$,divide:j}=(_=flexDirectionTemplate[a])!=null?_:{},et={flexDirection:a};return $&&(et[$]=1),j&&(et[j]=1),et}},t$5={borderWidths:toConfig("borderWidths"),borderStyles:toConfig("borderStyles"),colors:toConfig("colors"),borders:toConfig("borders"),gradients:toConfig("gradients",transformFunctions.gradient),radii:toConfig("radii",transformFunctions.px),space:toConfig("space",pipe$3(transformFunctions.vh,transformFunctions.px)),spaceT:toConfig("space",pipe$3(transformFunctions.vh,transformFunctions.px)),degreeT(a){return{property:a,transform:transformFunctions.degree}},prop(a,_,$){return{property:a,scale:_,..._&&{transform:createTransform({scale:_,transform:$})}}},propT(a,_){return{property:a,transform:_}},sizes:toConfig("sizes",pipe$3(transformFunctions.vh,transformFunctions.px)),sizesT:toConfig("sizes",pipe$3(transformFunctions.vh,transformFunctions.fraction)),shadows:toConfig("shadows"),logical,blur:toConfig("blur",transformFunctions.blur)},background={background:t$5.colors("background"),backgroundColor:t$5.colors("backgroundColor"),backgroundImage:t$5.gradients("backgroundImage"),backgroundSize:!0,backgroundPosition:!0,backgroundRepeat:!0,backgroundAttachment:!0,backgroundClip:{transform:transformFunctions.bgClip},bgSize:t$5.prop("backgroundSize"),bgPosition:t$5.prop("backgroundPosition"),bg:t$5.colors("background"),bgColor:t$5.colors("backgroundColor"),bgPos:t$5.prop("backgroundPosition"),bgRepeat:t$5.prop("backgroundRepeat"),bgAttachment:t$5.prop("backgroundAttachment"),bgGradient:t$5.gradients("backgroundImage"),bgClip:{transform:transformFunctions.bgClip}};Object.assign(background,{bgImage:background.backgroundImage,bgImg:background.backgroundImage});var border={border:t$5.borders("border"),borderWidth:t$5.borderWidths("borderWidth"),borderStyle:t$5.borderStyles("borderStyle"),borderColor:t$5.colors("borderColor"),borderRadius:t$5.radii("borderRadius"),borderTop:t$5.borders("borderTop"),borderBlockStart:t$5.borders("borderBlockStart"),borderTopLeftRadius:t$5.radii("borderTopLeftRadius"),borderStartStartRadius:t$5.logical({scale:"radii",property:{ltr:"borderTopLeftRadius",rtl:"borderTopRightRadius"}}),borderEndStartRadius:t$5.logical({scale:"radii",property:{ltr:"borderBottomLeftRadius",rtl:"borderBottomRightRadius"}}),borderTopRightRadius:t$5.radii("borderTopRightRadius"),borderStartEndRadius:t$5.logical({scale:"radii",property:{ltr:"borderTopRightRadius",rtl:"borderTopLeftRadius"}}),borderEndEndRadius:t$5.logical({scale:"radii",property:{ltr:"borderBottomRightRadius",rtl:"borderBottomLeftRadius"}}),borderRight:t$5.borders("borderRight"),borderInlineEnd:t$5.borders("borderInlineEnd"),borderBottom:t$5.borders("borderBottom"),borderBlockEnd:t$5.borders("borderBlockEnd"),borderBottomLeftRadius:t$5.radii("borderBottomLeftRadius"),borderBottomRightRadius:t$5.radii("borderBottomRightRadius"),borderLeft:t$5.borders("borderLeft"),borderInlineStart:{property:"borderInlineStart",scale:"borders"},borderInlineStartRadius:t$5.logical({scale:"radii",property:{ltr:["borderTopLeftRadius","borderBottomLeftRadius"],rtl:["borderTopRightRadius","borderBottomRightRadius"]}}),borderInlineEndRadius:t$5.logical({scale:"radii",property:{ltr:["borderTopRightRadius","borderBottomRightRadius"],rtl:["borderTopLeftRadius","borderBottomLeftRadius"]}}),borderX:t$5.borders(["borderLeft","borderRight"]),borderInline:t$5.borders("borderInline"),borderY:t$5.borders(["borderTop","borderBottom"]),borderBlock:t$5.borders("borderBlock"),borderTopWidth:t$5.borderWidths("borderTopWidth"),borderBlockStartWidth:t$5.borderWidths("borderBlockStartWidth"),borderTopColor:t$5.colors("borderTopColor"),borderBlockStartColor:t$5.colors("borderBlockStartColor"),borderTopStyle:t$5.borderStyles("borderTopStyle"),borderBlockStartStyle:t$5.borderStyles("borderBlockStartStyle"),borderBottomWidth:t$5.borderWidths("borderBottomWidth"),borderBlockEndWidth:t$5.borderWidths("borderBlockEndWidth"),borderBottomColor:t$5.colors("borderBottomColor"),borderBlockEndColor:t$5.colors("borderBlockEndColor"),borderBottomStyle:t$5.borderStyles("borderBottomStyle"),borderBlockEndStyle:t$5.borderStyles("borderBlockEndStyle"),borderLeftWidth:t$5.borderWidths("borderLeftWidth"),borderInlineStartWidth:t$5.borderWidths("borderInlineStartWidth"),borderLeftColor:t$5.colors("borderLeftColor"),borderInlineStartColor:t$5.colors("borderInlineStartColor"),borderLeftStyle:t$5.borderStyles("borderLeftStyle"),borderInlineStartStyle:t$5.borderStyles("borderInlineStartStyle"),borderRightWidth:t$5.borderWidths("borderRightWidth"),borderInlineEndWidth:t$5.borderWidths("borderInlineEndWidth"),borderRightColor:t$5.colors("borderRightColor"),borderInlineEndColor:t$5.colors("borderInlineEndColor"),borderRightStyle:t$5.borderStyles("borderRightStyle"),borderInlineEndStyle:t$5.borderStyles("borderInlineEndStyle"),borderTopRadius:t$5.radii(["borderTopLeftRadius","borderTopRightRadius"]),borderBottomRadius:t$5.radii(["borderBottomLeftRadius","borderBottomRightRadius"]),borderLeftRadius:t$5.radii(["borderTopLeftRadius","borderBottomLeftRadius"]),borderRightRadius:t$5.radii(["borderTopRightRadius","borderBottomRightRadius"])};Object.assign(border,{rounded:border.borderRadius,roundedTop:border.borderTopRadius,roundedTopLeft:border.borderTopLeftRadius,roundedTopRight:border.borderTopRightRadius,roundedTopStart:border.borderStartStartRadius,roundedTopEnd:border.borderStartEndRadius,roundedBottom:border.borderBottomRadius,roundedBottomLeft:border.borderBottomLeftRadius,roundedBottomRight:border.borderBottomRightRadius,roundedBottomStart:border.borderEndStartRadius,roundedBottomEnd:border.borderEndEndRadius,roundedLeft:border.borderLeftRadius,roundedRight:border.borderRightRadius,roundedStart:border.borderInlineStartRadius,roundedEnd:border.borderInlineEndRadius,borderStart:border.borderInlineStart,borderEnd:border.borderInlineEnd,borderTopStartRadius:border.borderStartStartRadius,borderTopEndRadius:border.borderStartEndRadius,borderBottomStartRadius:border.borderEndStartRadius,borderBottomEndRadius:border.borderEndEndRadius,borderStartRadius:border.borderInlineStartRadius,borderEndRadius:border.borderInlineEndRadius,borderStartWidth:border.borderInlineStartWidth,borderEndWidth:border.borderInlineEndWidth,borderStartColor:border.borderInlineStartColor,borderEndColor:border.borderInlineEndColor,borderStartStyle:border.borderInlineStartStyle,borderEndStyle:border.borderInlineEndStyle});var color$2={color:t$5.colors("color"),textColor:t$5.colors("color"),fill:t$5.colors("fill"),stroke:t$5.colors("stroke")},effect$3={boxShadow:t$5.shadows("boxShadow"),mixBlendMode:!0,blendMode:t$5.prop("mixBlendMode"),backgroundBlendMode:!0,bgBlendMode:t$5.prop("backgroundBlendMode"),opacity:!0};Object.assign(effect$3,{shadow:effect$3.boxShadow});var filter$2={filter:{transform:transformFunctions.filter},blur:t$5.blur("--chakra-blur"),brightness:t$5.propT("--chakra-brightness",transformFunctions.brightness),contrast:t$5.propT("--chakra-contrast",transformFunctions.contrast),hueRotate:t$5.propT("--chakra-hue-rotate",transformFunctions.hueRotate),invert:t$5.propT("--chakra-invert",transformFunctions.invert),saturate:t$5.propT("--chakra-saturate",transformFunctions.saturate),dropShadow:t$5.propT("--chakra-drop-shadow",transformFunctions.dropShadow),backdropFilter:{transform:transformFunctions.backdropFilter},backdropBlur:t$5.blur("--chakra-backdrop-blur"),backdropBrightness:t$5.propT("--chakra-backdrop-brightness",transformFunctions.brightness),backdropContrast:t$5.propT("--chakra-backdrop-contrast",transformFunctions.contrast),backdropHueRotate:t$5.propT("--chakra-backdrop-hue-rotate",transformFunctions.hueRotate),backdropInvert:t$5.propT("--chakra-backdrop-invert",transformFunctions.invert),backdropSaturate:t$5.propT("--chakra-backdrop-saturate",transformFunctions.saturate)},flexbox={alignItems:!0,alignContent:!0,justifyItems:!0,justifyContent:!0,flexWrap:!0,flexDirection:{transform:transformFunctions.flexDirection},flex:!0,flexFlow:!0,flexGrow:!0,flexShrink:!0,flexBasis:t$5.sizes("flexBasis"),justifySelf:!0,alignSelf:!0,order:!0,placeItems:!0,placeContent:!0,placeSelf:!0,gap:t$5.space("gap"),rowGap:t$5.space("rowGap"),columnGap:t$5.space("columnGap")};Object.assign(flexbox,{flexDir:flexbox.flexDirection});var grid={gridGap:t$5.space("gridGap"),gridColumnGap:t$5.space("gridColumnGap"),gridRowGap:t$5.space("gridRowGap"),gridColumn:!0,gridRow:!0,gridAutoFlow:!0,gridAutoColumns:!0,gridColumnStart:!0,gridColumnEnd:!0,gridRowStart:!0,gridRowEnd:!0,gridAutoRows:!0,gridTemplate:!0,gridTemplateColumns:!0,gridTemplateRows:!0,gridTemplateAreas:!0,gridArea:!0},interactivity={appearance:!0,cursor:!0,resize:!0,userSelect:!0,pointerEvents:!0,outline:{transform:transformFunctions.outline},outlineOffset:!0,outlineColor:t$5.colors("outlineColor")},layout$1={width:t$5.sizesT("width"),inlineSize:t$5.sizesT("inlineSize"),height:t$5.sizes("height"),blockSize:t$5.sizes("blockSize"),boxSize:t$5.sizes(["width","height"]),minWidth:t$5.sizes("minWidth"),minInlineSize:t$5.sizes("minInlineSize"),minHeight:t$5.sizes("minHeight"),minBlockSize:t$5.sizes("minBlockSize"),maxWidth:t$5.sizes("maxWidth"),maxInlineSize:t$5.sizes("maxInlineSize"),maxHeight:t$5.sizes("maxHeight"),maxBlockSize:t$5.sizes("maxBlockSize"),overflow:!0,overflowX:!0,overflowY:!0,overscrollBehavior:!0,overscrollBehaviorX:!0,overscrollBehaviorY:!0,display:!0,aspectRatio:!0,hideFrom:{scale:"breakpoints",transform:(a,_)=>{var $,j,et;return{[`@media screen and (min-width: ${(et=(j=($=_.__breakpoints)==null?void 0:$.get(a))==null?void 0:j.minW)!=null?et:a})`]:{display:"none"}}}},hideBelow:{scale:"breakpoints",transform:(a,_)=>{var $,j,et;return{[`@media screen and (max-width: ${(et=(j=($=_.__breakpoints)==null?void 0:$.get(a))==null?void 0:j._minW)!=null?et:a})`]:{display:"none"}}}},verticalAlign:!0,boxSizing:!0,boxDecorationBreak:!0,float:t$5.propT("float",transformFunctions.float),objectFit:!0,objectPosition:!0,visibility:!0,isolation:!0};Object.assign(layout$1,{w:layout$1.width,h:layout$1.height,minW:layout$1.minWidth,maxW:layout$1.maxWidth,minH:layout$1.minHeight,maxH:layout$1.maxHeight,overscroll:layout$1.overscrollBehavior,overscrollX:layout$1.overscrollBehaviorX,overscrollY:layout$1.overscrollBehaviorY});var list={listStyleType:!0,listStylePosition:!0,listStylePos:t$5.prop("listStylePosition"),listStyleImage:!0,listStyleImg:t$5.prop("listStyleImage")};function get$4(a,_,$,j){const et=typeof _=="string"?_.split("."):[_];for(j=0;j<et.length&&a;j+=1)a=a[et[j]];return a===void 0?$:a}var memoize$1=a=>{const _=new WeakMap;return(j,et,tt,rt)=>{if(typeof j>"u")return a(j,et,tt);_.has(j)||_.set(j,new Map);const nt=_.get(j);if(nt.has(et))return nt.get(et);const it=a(j,et,tt,rt);return nt.set(et,it),it}},memoizedGet$1=memoize$1(get$4),srOnly={border:"0px",clip:"rect(0, 0, 0, 0)",width:"1px",height:"1px",margin:"-1px",padding:"0px",overflow:"hidden",whiteSpace:"nowrap",position:"absolute"},srFocusable={position:"static",width:"auto",height:"auto",clip:"auto",padding:"0",margin:"0",overflow:"visible",whiteSpace:"normal"},getWithPriority=(a,_,$)=>{const j={},et=memoizedGet$1(a,_,{});for(const tt in et)tt in $&&$[tt]!=null||(j[tt]=et[tt]);return j},others={srOnly:{transform(a){return a===!0?srOnly:a==="focusable"?srFocusable:{}}},layerStyle:{processResult:!0,transform:(a,_,$)=>getWithPriority(_,`layerStyles.${a}`,$)},textStyle:{processResult:!0,transform:(a,_,$)=>getWithPriority(_,`textStyles.${a}`,$)},apply:{processResult:!0,transform:(a,_,$)=>getWithPriority(_,a,$)}},position={position:!0,pos:t$5.prop("position"),zIndex:t$5.prop("zIndex","zIndices"),inset:t$5.spaceT("inset"),insetX:t$5.spaceT(["left","right"]),insetInline:t$5.spaceT("insetInline"),insetY:t$5.spaceT(["top","bottom"]),insetBlock:t$5.spaceT("insetBlock"),top:t$5.spaceT("top"),insetBlockStart:t$5.spaceT("insetBlockStart"),bottom:t$5.spaceT("bottom"),insetBlockEnd:t$5.spaceT("insetBlockEnd"),left:t$5.spaceT("left"),insetInlineStart:t$5.logical({scale:"space",property:{ltr:"left",rtl:"right"}}),right:t$5.spaceT("right"),insetInlineEnd:t$5.logical({scale:"space",property:{ltr:"right",rtl:"left"}})};Object.assign(position,{insetStart:position.insetInlineStart,insetEnd:position.insetInlineEnd});var ring={ring:{transform:transformFunctions.ring},ringColor:t$5.colors("--chakra-ring-color"),ringOffset:t$5.prop("--chakra-ring-offset-width"),ringOffsetColor:t$5.colors("--chakra-ring-offset-color"),ringInset:t$5.prop("--chakra-ring-inset")},space={margin:t$5.spaceT("margin"),marginTop:t$5.spaceT("marginTop"),marginBlockStart:t$5.spaceT("marginBlockStart"),marginRight:t$5.spaceT("marginRight"),marginInlineEnd:t$5.spaceT("marginInlineEnd"),marginBottom:t$5.spaceT("marginBottom"),marginBlockEnd:t$5.spaceT("marginBlockEnd"),marginLeft:t$5.spaceT("marginLeft"),marginInlineStart:t$5.spaceT("marginInlineStart"),marginX:t$5.spaceT(["marginInlineStart","marginInlineEnd"]),marginInline:t$5.spaceT("marginInline"),marginY:t$5.spaceT(["marginTop","marginBottom"]),marginBlock:t$5.spaceT("marginBlock"),padding:t$5.space("padding"),paddingTop:t$5.space("paddingTop"),paddingBlockStart:t$5.space("paddingBlockStart"),paddingRight:t$5.space("paddingRight"),paddingBottom:t$5.space("paddingBottom"),paddingBlockEnd:t$5.space("paddingBlockEnd"),paddingLeft:t$5.space("paddingLeft"),paddingInlineStart:t$5.space("paddingInlineStart"),paddingInlineEnd:t$5.space("paddingInlineEnd"),paddingX:t$5.space(["paddingInlineStart","paddingInlineEnd"]),paddingInline:t$5.space("paddingInline"),paddingY:t$5.space(["paddingTop","paddingBottom"]),paddingBlock:t$5.space("paddingBlock")};Object.assign(space,{m:space.margin,mt:space.marginTop,mr:space.marginRight,me:space.marginInlineEnd,marginEnd:space.marginInlineEnd,mb:space.marginBottom,ml:space.marginLeft,ms:space.marginInlineStart,marginStart:space.marginInlineStart,mx:space.marginX,my:space.marginY,p:space.padding,pt:space.paddingTop,py:space.paddingY,px:space.paddingX,pb:space.paddingBottom,pl:space.paddingLeft,ps:space.paddingInlineStart,paddingStart:space.paddingInlineStart,pr:space.paddingRight,pe:space.paddingInlineEnd,paddingEnd:space.paddingInlineEnd});var textDecoration={textDecorationColor:t$5.colors("textDecorationColor"),textDecoration:!0,textDecor:{property:"textDecoration"},textDecorationLine:!0,textDecorationStyle:!0,textDecorationThickness:!0,textUnderlineOffset:!0,textShadow:t$5.shadows("textShadow")},transform={clipPath:!0,transform:t$5.propT("transform",transformFunctions.transform),transformOrigin:!0,translateX:t$5.spaceT("--chakra-translate-x"),translateY:t$5.spaceT("--chakra-translate-y"),skewX:t$5.degreeT("--chakra-skew-x"),skewY:t$5.degreeT("--chakra-skew-y"),scaleX:t$5.prop("--chakra-scale-x"),scaleY:t$5.prop("--chakra-scale-y"),scale:t$5.prop(["--chakra-scale-x","--chakra-scale-y"]),rotate:t$5.degreeT("--chakra-rotate")},transition$1={transition:!0,transitionDelay:!0,animation:!0,willChange:!0,transitionDuration:t$5.prop("transitionDuration","transition.duration"),transitionProperty:t$5.prop("transitionProperty","transition.property"),transitionTimingFunction:t$5.prop("transitionTimingFunction","transition.easing")},typography$1={fontFamily:t$5.prop("fontFamily","fonts"),fontSize:t$5.prop("fontSize","fontSizes",transformFunctions.px),fontWeight:t$5.prop("fontWeight","fontWeights"),lineHeight:t$5.prop("lineHeight","lineHeights"),letterSpacing:t$5.prop("letterSpacing","letterSpacings"),textAlign:!0,fontStyle:!0,textIndent:!0,wordBreak:!0,overflowWrap:!0,textOverflow:!0,textTransform:!0,whiteSpace:!0,isTruncated:{transform(a){if(a===!0)return{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}}},noOfLines:{static:{overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitBoxOrient:"vertical",WebkitLineClamp:"var(--chakra-line-clamp)"},property:"--chakra-line-clamp"}},scroll={scrollBehavior:!0,scrollSnapAlign:!0,scrollSnapStop:!0,scrollSnapType:!0,scrollMargin:t$5.spaceT("scrollMargin"),scrollMarginTop:t$5.spaceT("scrollMarginTop"),scrollMarginBottom:t$5.spaceT("scrollMarginBottom"),scrollMarginLeft:t$5.spaceT("scrollMarginLeft"),scrollMarginRight:t$5.spaceT("scrollMarginRight"),scrollMarginX:t$5.spaceT(["scrollMarginLeft","scrollMarginRight"]),scrollMarginY:t$5.spaceT(["scrollMarginTop","scrollMarginBottom"]),scrollPadding:t$5.spaceT("scrollPadding"),scrollPaddingTop:t$5.spaceT("scrollPaddingTop"),scrollPaddingBottom:t$5.spaceT("scrollPaddingBottom"),scrollPaddingLeft:t$5.spaceT("scrollPaddingLeft"),scrollPaddingRight:t$5.spaceT("scrollPaddingRight"),scrollPaddingX:t$5.spaceT(["scrollPaddingLeft","scrollPaddingRight"]),scrollPaddingY:t$5.spaceT(["scrollPaddingTop","scrollPaddingBottom"])};function resolveReference(a){return isObject$5(a)&&a.reference?a.reference:String(a)}var toExpression=(a,..._)=>_.map(resolveReference).join(` ${a} `).replace(/calc/g,""),add$1=(...a)=>`calc(${toExpression("+",...a)})`,subtract$1=(...a)=>`calc(${toExpression("-",...a)})`,multiply$1=(...a)=>`calc(${toExpression("*",...a)})`,divide$1=(...a)=>`calc(${toExpression("/",...a)})`,negate$1=a=>{const _=resolveReference(a);return _!=null&&!Number.isNaN(parseFloat(_))?String(_).startsWith("-")?String(_).slice(1):`-${_}`:multiply$1(_,-1)},calc$1=Object.assign(a=>({add:(..._)=>calc$1(add$1(a,..._)),subtract:(..._)=>calc$1(subtract$1(a,..._)),multiply:(..._)=>calc$1(multiply$1(a,..._)),divide:(..._)=>calc$1(divide$1(a,..._)),negate:()=>calc$1(negate$1(a)),toString:()=>a.toString()}),{add:add$1,subtract:subtract$1,multiply:multiply$1,divide:divide$1,negate:negate$1});function replaceWhiteSpace$1(a,_="-"){return a.replace(/\s+/g,_)}function escape$2(a){const _=replaceWhiteSpace$1(a.toString());return escapeSymbol(escapeDot(_))}function escapeDot(a){return a.includes("\\.")?a:!Number.isInteger(parseFloat(a.toString()))?a.replace(".","\\."):a}function escapeSymbol(a){return a.replace(/[!-,/:-@[-^`{-~]/g,"\\$&")}function addPrefix$1(a,_=""){return[_,a].filter(Boolean).join("-")}function toVarReference(a,_){return`var(${a}${_?`, ${_}`:""})`}function toVarDefinition(a,_=""){return escape$2(`--${addPrefix$1(a,_)}`)}function cssVar$1(a,_,$){const j=toVarDefinition(a,$);return{variable:j,reference:toVarReference(j,_)}}function defineCssVars(a,_){const $={};for(const j of _){if(Array.isArray(j)){const[et,tt]=j;$[et]=cssVar$1(`${a}-${et}`,tt);continue}$[j]=cssVar$1(`${a}-${j}`)}return $}function getLastItem(a){const _=a==null?0:a.length;return _?a[_-1]:void 0}function analyzeCSSValue2(a){const _=parseFloat(a.toString()),$=a.toString().replace(String(_),"");return{unitless:!$,value:_,unit:$}}function px$1(a){if(a==null)return a;const{unitless:_}=analyzeCSSValue2(a);return _||typeof a=="number"?`${a}px`:a}var sortByBreakpointValue=(a,_)=>parseInt(a[1],10)>parseInt(_[1],10)?1:-1,sortBps=a=>Object.fromEntries(Object.entries(a).sort(sortByBreakpointValue));function normalize$1(a){const _=sortBps(a);return Object.assign(Object.values(_),_)}function keys$1(a){const _=Object.keys(sortBps(a));return new Set(_)}function subtract2(a){var _;if(!a)return a;a=(_=px$1(a))!=null?_:a;const $=-.02;return typeof a=="number"?`${a+$}`:a.replace(/(\d+\.?\d*)/u,j=>`${parseFloat(j)+$}`)}function toMediaQueryString(a,_){const $=["@media screen"];return a&&$.push("and",`(min-width: ${px$1(a)})`),_&&$.push("and",`(max-width: ${px$1(_)})`),$.join(" ")}function analyzeBreakpoints(a){var _;if(!a)return null;a.base=(_=a.base)!=null?_:"0px";const $=normalize$1(a),j=Object.entries(a).sort(sortByBreakpointValue).map(([rt,nt],it,st)=>{var ot;let[,at]=(ot=st[it+1])!=null?ot:[];return at=parseFloat(at)>0?subtract2(at):void 0,{_minW:subtract2(nt),breakpoint:rt,minW:nt,maxW:at,maxWQuery:toMediaQueryString(null,at),minWQuery:toMediaQueryString(nt),minMaxQuery:toMediaQueryString(nt,at)}}),et=keys$1(a),tt=Array.from(et.values());return{keys:et,normalized:$,isResponsive(rt){const nt=Object.keys(rt);return nt.length>0&&nt.every(it=>et.has(it))},asObject:sortBps(a),asArray:normalize$1(a),details:j,get(rt){return j.find(nt=>nt.breakpoint===rt)},media:[null,...$.map(rt=>toMediaQueryString(rt)).slice(1)],toArrayValue(rt){if(!isObject$5(rt))throw new Error("toArrayValue: value must be an object");const nt=tt.map(it=>{var st;return(st=rt[it])!=null?st:null});for(;getLastItem(nt)===null;)nt.pop();return nt},toObjectValue(rt){if(!Array.isArray(rt))throw new Error("toObjectValue: value must be an array");return rt.reduce((nt,it,st)=>{const ot=tt[st];return ot!=null&&it!=null&&(nt[ot]=it),nt},{})}}}var state$1={hover:(a,_)=>`${a}:hover ${_}, ${a}[data-hover] ${_}`,focus:(a,_)=>`${a}:focus ${_}, ${a}[data-focus] ${_}`,focusVisible:(a,_)=>`${a}:focus-visible ${_}`,focusWithin:(a,_)=>`${a}:focus-within ${_}`,active:(a,_)=>`${a}:active ${_}, ${a}[data-active] ${_}`,disabled:(a,_)=>`${a}:disabled ${_}, ${a}[data-disabled] ${_}`,invalid:(a,_)=>`${a}:invalid ${_}, ${a}[data-invalid] ${_}`,checked:(a,_)=>`${a}:checked ${_}, ${a}[data-checked] ${_}`,indeterminate:(a,_)=>`${a}:indeterminate ${_}, ${a}[aria-checked=mixed] ${_}, ${a}[data-indeterminate] ${_}`,readOnly:(a,_)=>`${a}:read-only ${_}, ${a}[readonly] ${_}, ${a}[data-read-only] ${_}`,expanded:(a,_)=>`${a}:read-only ${_}, ${a}[aria-expanded=true] ${_}, ${a}[data-expanded] ${_}`,placeholderShown:(a,_)=>`${a}:placeholder-shown ${_}`},toGroup=a=>merge$2(_=>a(_,"&"),"[role=group]","[data-group]",".group"),toPeer=a=>merge$2(_=>a(_,"~ &"),"[data-peer]",".peer"),merge$2=(a,..._)=>_.map(a).join(", "),pseudoSelectors={_hover:"&:hover, &[data-hover]",_active:"&:active, &[data-active]",_focus:"&:focus, &[data-focus]",_highlighted:"&[data-highlighted]",_focusWithin:"&:focus-within",_focusVisible:"&:focus-visible, &[data-focus-visible]",_disabled:"&:disabled, &[disabled], &[aria-disabled=true], &[data-disabled]",_readOnly:"&[aria-readonly=true], &[readonly], &[data-readonly]",_before:"&::before",_after:"&::after",_empty:"&:empty",_expanded:"&[aria-expanded=true], &[data-expanded]",_checked:"&[aria-checked=true], &[data-checked]",_grabbed:"&[aria-grabbed=true], &[data-grabbed]",_pressed:"&[aria-pressed=true], &[data-pressed]",_invalid:"&[aria-invalid=true], &[data-invalid]",_valid:"&[data-valid], &[data-state=valid]",_loading:"&[data-loading], &[aria-busy=true]",_selected:"&[aria-selected=true], &[data-selected]",_hidden:"&[hidden], &[data-hidden]",_autofill:"&:-webkit-autofill",_even:"&:nth-of-type(even)",_odd:"&:nth-of-type(odd)",_first:"&:first-of-type",_firstLetter:"&::first-letter",_last:"&:last-of-type",_notFirst:"&:not(:first-of-type)",_notLast:"&:not(:last-of-type)",_visited:"&:visited",_activeLink:"&[aria-current=page]",_activeStep:"&[aria-current=step]",_indeterminate:"&:indeterminate, &[aria-checked=mixed], &[data-indeterminate]",_groupHover:toGroup(state$1.hover),_peerHover:toPeer(state$1.hover),_groupFocus:toGroup(state$1.focus),_peerFocus:toPeer(state$1.focus),_groupFocusVisible:toGroup(state$1.focusVisible),_peerFocusVisible:toPeer(state$1.focusVisible),_groupActive:toGroup(state$1.active),_peerActive:toPeer(state$1.active),_groupDisabled:toGroup(state$1.disabled),_peerDisabled:toPeer(state$1.disabled),_groupInvalid:toGroup(state$1.invalid),_peerInvalid:toPeer(state$1.invalid),_groupChecked:toGroup(state$1.checked),_peerChecked:toPeer(state$1.checked),_groupFocusWithin:toGroup(state$1.focusWithin),_peerFocusWithin:toPeer(state$1.focusWithin),_peerPlaceholderShown:toPeer(state$1.placeholderShown),_placeholder:"&::placeholder",_placeholderShown:"&:placeholder-shown",_fullScreen:"&:fullscreen",_selection:"&::selection",_rtl:"[dir=rtl] &, &[dir=rtl]",_ltr:"[dir=ltr] &, &[dir=ltr]",_mediaDark:"@media (prefers-color-scheme: dark)",_mediaReduceMotion:"@media (prefers-reduced-motion: reduce)",_dark:".chakra-ui-dark &:not([data-theme]),[data-theme=dark] &:not([data-theme]),&[data-theme=dark]",_light:".chakra-ui-light &:not([data-theme]),[data-theme=light] &:not([data-theme]),&[data-theme=light]",_horizontal:"&[data-orientation=horizontal]",_vertical:"&[data-orientation=vertical]"},pseudoPropNames=Object.keys(pseudoSelectors);function tokenToCssVar(a,_){return cssVar$1(String(a).replace(/\./g,"-"),void 0,_)}function createThemeVars(a,_){let $={};const j={};for(const[et,tt]of Object.entries(a)){const{isSemantic:rt,value:nt}=tt,{variable:it,reference:st}=tokenToCssVar(et,_==null?void 0:_.cssVarPrefix);if(!rt){if(et.startsWith("space")){const ut=et.split("."),[ht,...yt]=ut,wt=`${ht}.-${yt.join(".")}`,Ct=calc$1.negate(nt),Pt=calc$1.negate(st);j[wt]={value:Ct,var:it,varRef:Pt}}$[it]=nt,j[et]={value:nt,var:it,varRef:st};continue}const ot=ut=>{const yt=[String(et).split(".")[0],ut].join(".");if(!a[yt])return ut;const{reference:Ct}=tokenToCssVar(yt,_==null?void 0:_.cssVarPrefix);return Ct},at=isObject$5(nt)?nt:{default:nt};$=mergeWith($,Object.entries(at).reduce((ut,[ht,yt])=>{var wt,Ct;if(!yt)return ut;const Pt=ot(`${yt}`);if(ht==="default")return ut[it]=Pt,ut;const Tt=(Ct=(wt=pseudoSelectors)==null?void 0:wt[ht])!=null?Ct:ht;return ut[Tt]={[it]:Pt},ut},{})),j[et]={value:st,var:it,varRef:st}}return{cssVars:$,cssMap:j}}function omit$6(a,_=[]){const $=Object.assign({},a);for(const j of _)j in $&&delete $[j];return $}function pick$2(a,_){const $={};for(const j of _)j in a&&($[j]=a[j]);return $}function isObject5(a){return typeof a=="object"&&a!=null&&!Array.isArray(a)}function walkObject(a,_,$={}){const{stop:j,getKey:et}=$;function tt(rt,nt=[]){var it;if(isObject5(rt)||Array.isArray(rt)){const st={};for(const[ot,at]of Object.entries(rt)){const ut=(it=et==null?void 0:et(ot))!=null?it:ot,ht=[...nt,ut];if(j!=null&&j(rt,ht))return _(rt,nt);st[ut]=tt(at,ht)}return st}return _(rt,nt)}return tt(a)}var tokens$1=["colors","borders","borderWidths","borderStyles","fonts","fontSizes","fontWeights","gradients","letterSpacings","lineHeights","radii","space","shadows","sizes","zIndices","transition","blur","breakpoints"];function extractTokens(a){return pick$2(a,tokens$1)}function extractSemanticTokens(a){return a.semanticTokens}function omitVars(a){const{__cssMap:_,__cssVars:$,__breakpoints:j,...et}=a;return et}var isSemanticCondition=a=>pseudoPropNames.includes(a)||a==="default";function flattenTokens({tokens:a,semanticTokens:_}){const $={};return walkObject(a,(j,et)=>{j!=null&&($[et.join(".")]={isSemantic:!1,value:j})}),walkObject(_,(j,et)=>{j!=null&&($[et.join(".")]={isSemantic:!0,value:j})},{stop:j=>Object.keys(j).every(isSemanticCondition)}),$}function toCSSVar(a){var _;const $=omitVars(a),j=extractTokens($),et=extractSemanticTokens($),tt=flattenTokens({tokens:j,semanticTokens:et}),rt=(_=$.config)==null?void 0:_.cssVarPrefix,{cssMap:nt,cssVars:it}=createThemeVars(tt,{cssVarPrefix:rt});return Object.assign($,{__cssVars:{...{"--chakra-ring-inset":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-ring-offset-width":"0px","--chakra-ring-offset-color":"#fff","--chakra-ring-color":"rgba(66, 153, 225, 0.6)","--chakra-ring-offset-shadow":"0 0 #0000","--chakra-ring-shadow":"0 0 #0000","--chakra-space-x-reverse":"0","--chakra-space-y-reverse":"0"},...it},__cssMap:nt,__breakpoints:analyzeBreakpoints($.breakpoints)}),$}var systemProps=mergeWith({},background,border,color$2,flexbox,layout$1,filter$2,ring,interactivity,grid,others,position,effect$3,space,scroll,typography$1,textDecoration,transform,list,transition$1),layoutSystem=Object.assign({},space,layout$1,flexbox,grid,position),layoutPropNames=Object.keys(layoutSystem),propNames=[...Object.keys(systemProps),...pseudoPropNames],styleProps={...systemProps,...pseudoSelectors},isStyleProp=a=>a in styleProps,expandResponsive=a=>_=>{if(!_.__breakpoints)return a;const{isResponsive:$,toArrayValue:j,media:et}=_.__breakpoints,tt={};for(const rt in a){let nt=runIfFn$2(a[rt],_);if(nt==null)continue;if(nt=isObject$5(nt)&&$(nt)?j(nt):nt,!Array.isArray(nt)){tt[rt]=nt;continue}const it=nt.slice(0,et.length).length;for(let st=0;st<it;st+=1){const ot=et==null?void 0:et[st];if(!ot){tt[rt]=nt[st];continue}tt[ot]=tt[ot]||{},nt[st]!=null&&(tt[ot][rt]=nt[st])}}return tt};function splitByComma(a){const _=[];let $="",j=!1;for(let et=0;et<a.length;et++){const tt=a[et];tt==="("?(j=!0,$+=tt):tt===")"?(j=!1,$+=tt):tt===","&&!j?(_.push($),$=""):$+=tt}return $=$.trim(),$&&_.push($),_}function isCssVar2(a){return/^var\(--.+\)$/.test(a)}var isCSSVariableTokenValue=(a,_)=>a.startsWith("--")&&typeof _=="string"&&!isCssVar2(_),resolveTokenValue=(a,_)=>{var $,j;if(_==null)return _;const et=it=>{var st,ot;return(ot=(st=a.__cssMap)==null?void 0:st[it])==null?void 0:ot.varRef},tt=it=>{var st;return(st=et(it))!=null?st:it},[rt,nt]=splitByComma(_);return _=(j=($=et(rt))!=null?$:tt(nt))!=null?j:tt(_),_};function getCss(a){const{configs:_={},pseudos:$={},theme:j}=a,et=(tt,rt=!1)=>{var nt,it,st;const ot=runIfFn$2(tt,j),at=expandResponsive(ot)(j);let ut={};for(let ht in at){const yt=at[ht];let wt=runIfFn$2(yt,j);ht in $&&(ht=$[ht]),isCSSVariableTokenValue(ht,wt)&&(wt=resolveTokenValue(j,wt));let Ct=_[ht];if(Ct===!0&&(Ct={property:ht}),isObject$5(wt)){ut[ht]=(nt=ut[ht])!=null?nt:{},ut[ht]=mergeWith({},ut[ht],et(wt,!0));continue}let Pt=(st=(it=Ct==null?void 0:Ct.transform)==null?void 0:it.call(Ct,wt,j,ot))!=null?st:wt;Pt=Ct!=null&&Ct.processResult?et(Pt,!0):Pt;const Tt=runIfFn$2(Ct==null?void 0:Ct.property,j);if(!rt&&(Ct!=null&&Ct.static)){const Mt=runIfFn$2(Ct.static,j);ut=mergeWith({},ut,Mt)}if(Tt&&Array.isArray(Tt)){for(const Mt of Tt)ut[Mt]=Pt;continue}if(Tt){Tt==="&"&&isObject$5(Pt)?ut=mergeWith({},ut,Pt):ut[Tt]=Pt;continue}if(isObject$5(Pt)){ut=mergeWith({},ut,Pt);continue}ut[ht]=Pt}return ut};return et}var css=a=>_=>getCss({theme:_,pseudos:pseudoSelectors,configs:systemProps})(a);function defineStyle(a){return a}function defineStyleConfig(a){return a}function createMultiStyleConfigHelpers(a){return{definePartsStyle(_){return _},defineMultiStyleConfig(_){return{parts:a,..._}}}}function normalize2(a,_){if(Array.isArray(a))return a;if(isObject$5(a))return _(a);if(a!=null)return[a]}function getNextIndex$1(a,_){for(let $=_+1;$<a.length;$++)if(a[$]!=null)return $;return-1}function createResolver(a){const _=a.__breakpoints;return function(j,et,tt,rt){var nt,it;if(!_)return;const st={},ot=normalize2(tt,_.toArrayValue);if(!ot)return st;const at=ot.length,ut=at===1,ht=!!j.parts;for(let yt=0;yt<at;yt++){const wt=_.details[yt],Ct=_.details[getNextIndex$1(ot,yt)],Pt=toMediaQueryString(wt.minW,Ct==null?void 0:Ct._minW),Tt=runIfFn$2((nt=j[et])==null?void 0:nt[ot[yt]],rt);if(Tt){if(ht){(it=j.parts)==null||it.forEach(Mt=>{mergeWith(st,{[Mt]:ut?Tt[Mt]:{[Pt]:Tt[Mt]}})});continue}if(!ht){ut?mergeWith(st,Tt):st[Pt]=Tt;continue}st[Pt]=Tt}}return st}}function resolveStyleConfig(a){return _=>{var $;const{variant:j,size:et,theme:tt}=_,rt=createResolver(tt);return mergeWith({},runIfFn$2(($=a.baseStyle)!=null?$:{},_),rt(a,"sizes",et,_),rt(a,"variants",j,_))}}function getCSSVar(a,_,$){var j,et,tt;return(tt=(et=(j=a.__cssMap)==null?void 0:j[`${_}.${$}`])==null?void 0:et.varRef)!=null?tt:$}function omitThemingProps(a){return omit$6(a,["styleConfig","size","variant","colorScheme"])}var requiredChakraThemeKeys=["borders","breakpoints","colors","components","config","direction","fonts","fontSizes","fontWeights","letterSpacings","lineHeights","radii","shadows","sizes","space","styles","transition","zIndices"];function isChakraTheme(a){return isObject$5(a)?requiredChakraThemeKeys.every(_=>Object.prototype.hasOwnProperty.call(a,_)):!1}var transitionProperty={common:"background-color, border-color, color, fill, stroke, opacity, box-shadow, transform",colors:"background-color, border-color, color, fill, stroke",dimensions:"width, height",position:"left, right, top, bottom",background:"background-color, background-image, background-position"},transitionTimingFunction={"ease-in":"cubic-bezier(0.4, 0, 1, 1)","ease-out":"cubic-bezier(0, 0, 0.2, 1)","ease-in-out":"cubic-bezier(0.4, 0, 0.2, 1)"},transitionDuration={"ultra-fast":"50ms",faster:"100ms",fast:"150ms",normal:"200ms",slow:"300ms",slower:"400ms","ultra-slow":"500ms"},transition={property:transitionProperty,easing:transitionTimingFunction,duration:transitionDuration},transition_default=transition,zIndices={hide:-1,auto:"auto",base:0,docked:10,dropdown:1e3,sticky:1100,banner:1200,overlay:1300,modal:1400,popover:1500,skipLink:1600,toast:1700,tooltip:1800},z_index_default=zIndices,borders$1={none:0,"1px":"1px solid","2px":"2px solid","4px":"4px solid","8px":"8px solid"},borders_default=borders$1,breakpoints={base:"0em",sm:"30em",md:"48em",lg:"62em",xl:"80em","2xl":"96em"},breakpoints_default=breakpoints,colors$1={transparent:"transparent",current:"currentColor",black:"#000000",white:"#FFFFFF",whiteAlpha:{50:"rgba(255, 255, 255, 0.04)",100:"rgba(255, 255, 255, 0.06)",200:"rgba(255, 255, 255, 0.08)",300:"rgba(255, 255, 255, 0.16)",400:"rgba(255, 255, 255, 0.24)",500:"rgba(255, 255, 255, 0.36)",600:"rgba(255, 255, 255, 0.48)",700:"rgba(255, 255, 255, 0.64)",800:"rgba(255, 255, 255, 0.80)",900:"rgba(255, 255, 255, 0.92)"},blackAlpha:{50:"rgba(0, 0, 0, 0.04)",100:"rgba(0, 0, 0, 0.06)",200:"rgba(0, 0, 0, 0.08)",300:"rgba(0, 0, 0, 0.16)",400:"rgba(0, 0, 0, 0.24)",500:"rgba(0, 0, 0, 0.36)",600:"rgba(0, 0, 0, 0.48)",700:"rgba(0, 0, 0, 0.64)",800:"rgba(0, 0, 0, 0.80)",900:"rgba(0, 0, 0, 0.92)"},gray:{50:"#F7FAFC",100:"#EDF2F7",200:"#E2E8F0",300:"#CBD5E0",400:"#A0AEC0",500:"#718096",600:"#4A5568",700:"#2D3748",800:"#1A202C",900:"#171923"},red:{50:"#FFF5F5",100:"#FED7D7",200:"#FEB2B2",300:"#FC8181",400:"#F56565",500:"#E53E3E",600:"#C53030",700:"#9B2C2C",800:"#822727",900:"#63171B"},orange:{50:"#FFFAF0",100:"#FEEBC8",200:"#FBD38D",300:"#F6AD55",400:"#ED8936",500:"#DD6B20",600:"#C05621",700:"#9C4221",800:"#7B341E",900:"#652B19"},yellow:{50:"#FFFFF0",100:"#FEFCBF",200:"#FAF089",300:"#F6E05E",400:"#ECC94B",500:"#D69E2E",600:"#B7791F",700:"#975A16",800:"#744210",900:"#5F370E"},green:{50:"#F0FFF4",100:"#C6F6D5",200:"#9AE6B4",300:"#68D391",400:"#48BB78",500:"#38A169",600:"#2F855A",700:"#276749",800:"#22543D",900:"#1C4532"},teal:{50:"#E6FFFA",100:"#B2F5EA",200:"#81E6D9",300:"#4FD1C5",400:"#38B2AC",500:"#319795",600:"#2C7A7B",700:"#285E61",800:"#234E52",900:"#1D4044"},blue:{50:"#ebf8ff",100:"#bee3f8",200:"#90cdf4",300:"#63b3ed",400:"#4299e1",500:"#3182ce",600:"#2b6cb0",700:"#2c5282",800:"#2a4365",900:"#1A365D"},cyan:{50:"#EDFDFD",100:"#C4F1F9",200:"#9DECF9",300:"#76E4F7",400:"#0BC5EA",500:"#00B5D8",600:"#00A3C4",700:"#0987A0",800:"#086F83",900:"#065666"},purple:{50:"#FAF5FF",100:"#E9D8FD",200:"#D6BCFA",300:"#B794F4",400:"#9F7AEA",500:"#805AD5",600:"#6B46C1",700:"#553C9A",800:"#44337A",900:"#322659"},pink:{50:"#FFF5F7",100:"#FED7E2",200:"#FBB6CE",300:"#F687B3",400:"#ED64A6",500:"#D53F8C",600:"#B83280",700:"#97266D",800:"#702459",900:"#521B41"},linkedin:{50:"#E8F4F9",100:"#CFEDFB",200:"#9BDAF3",300:"#68C7EC",400:"#34B3E4",500:"#00A0DC",600:"#008CC9",700:"#0077B5",800:"#005E93",900:"#004471"},facebook:{50:"#E8F4F9",100:"#D9DEE9",200:"#B7C2DA",300:"#6482C0",400:"#4267B2",500:"#385898",600:"#314E89",700:"#29487D",800:"#223B67",900:"#1E355B"},messenger:{50:"#D0E6FF",100:"#B9DAFF",200:"#A2CDFF",300:"#7AB8FF",400:"#2E90FF",500:"#0078FF",600:"#0063D1",700:"#0052AC",800:"#003C7E",900:"#002C5C"},whatsapp:{50:"#dffeec",100:"#b9f5d0",200:"#90edb3",300:"#65e495",400:"#3cdd78",500:"#22c35e",600:"#179848",700:"#0c6c33",800:"#01421c",900:"#001803"},twitter:{50:"#E5F4FD",100:"#C8E9FB",200:"#A8DCFA",300:"#83CDF7",400:"#57BBF5",500:"#1DA1F2",600:"#1A94DA",700:"#1681BF",800:"#136B9E",900:"#0D4D71"},telegram:{50:"#E3F2F9",100:"#C5E4F3",200:"#A2D4EC",300:"#7AC1E4",400:"#47A9DA",500:"#0088CC",600:"#007AB8",700:"#006BA1",800:"#005885",900:"#003F5E"}},colors_default=colors$1,radii={none:"0",sm:"0.125rem",base:"0.25rem",md:"0.375rem",lg:"0.5rem",xl:"0.75rem","2xl":"1rem","3xl":"1.5rem",full:"9999px"},radius_default=radii,shadows={xs:"0 0 0 1px rgba(0, 0, 0, 0.05)",sm:"0 1px 2px 0 rgba(0, 0, 0, 0.05)",base:"0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06)",md:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)",lg:"0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)",xl:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)","2xl":"0 25px 50px -12px rgba(0, 0, 0, 0.25)",outline:"0 0 0 3px rgba(66, 153, 225, 0.6)",inner:"inset 0 2px 4px 0 rgba(0,0,0,0.06)",none:"none","dark-lg":"rgba(0, 0, 0, 0.1) 0px 0px 0px 1px, rgba(0, 0, 0, 0.2) 0px 5px 10px, rgba(0, 0, 0, 0.4) 0px 15px 40px"},shadows_default=shadows,blur={none:0,sm:"4px",base:"8px",md:"12px",lg:"16px",xl:"24px","2xl":"40px","3xl":"64px"},blur_default=blur,typography={letterSpacings:{tighter:"-0.05em",tight:"-0.025em",normal:"0",wide:"0.025em",wider:"0.05em",widest:"0.1em"},lineHeights:{normal:"normal",none:1,shorter:1.25,short:1.375,base:1.5,tall:1.625,taller:"2",3:".75rem",4:"1rem",5:"1.25rem",6:"1.5rem",7:"1.75rem",8:"2rem",9:"2.25rem",10:"2.5rem"},fontWeights:{hairline:100,thin:200,light:300,normal:400,medium:500,semibold:600,bold:700,extrabold:800,black:900},fonts:{heading:'-apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',body:'-apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',mono:'SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace'},fontSizes:{"3xs":"0.45rem","2xs":"0.625rem",xs:"0.75rem",sm:"0.875rem",md:"1rem",lg:"1.125rem",xl:"1.25rem","2xl":"1.5rem","3xl":"1.875rem","4xl":"2.25rem","5xl":"3rem","6xl":"3.75rem","7xl":"4.5rem","8xl":"6rem","9xl":"8rem"}},typography_default=typography,spacing={px:"1px",.5:"0.125rem",1:"0.25rem",1.5:"0.375rem",2:"0.5rem",2.5:"0.625rem",3:"0.75rem",3.5:"0.875rem",4:"1rem",5:"1.25rem",6:"1.5rem",7:"1.75rem",8:"2rem",9:"2.25rem",10:"2.5rem",12:"3rem",14:"3.5rem",16:"4rem",20:"5rem",24:"6rem",28:"7rem",32:"8rem",36:"9rem",40:"10rem",44:"11rem",48:"12rem",52:"13rem",56:"14rem",60:"15rem",64:"16rem",72:"18rem",80:"20rem",96:"24rem"},largeSizes={max:"max-content",min:"min-content",full:"100%","3xs":"14rem","2xs":"16rem",xs:"20rem",sm:"24rem",md:"28rem",lg:"32rem",xl:"36rem","2xl":"42rem","3xl":"48rem","4xl":"56rem","5xl":"64rem","6xl":"72rem","7xl":"80rem","8xl":"90rem",prose:"60ch"},container={sm:"640px",md:"768px",lg:"1024px",xl:"1280px"},sizes$o={...spacing,...largeSizes,container},sizes_default=sizes$o,foundations={breakpoints:breakpoints_default,zIndices:z_index_default,radii:radius_default,blur:blur_default,colors:colors_default,...typography_default,sizes:sizes_default,shadows:shadows_default,space:spacing,borders:borders_default,transition:transition_default},{defineMultiStyleConfig:defineMultiStyleConfig$w,definePartsStyle:definePartsStyle$w}=createMultiStyleConfigHelpers(["stepper","step","title","description","indicator","separator","icon","number"]),$size$4=cssVar$1("stepper-indicator-size"),$iconSize=cssVar$1("stepper-icon-size"),$titleFontSize=cssVar$1("stepper-title-font-size"),$descFontSize=cssVar$1("stepper-description-font-size"),$accentColor=cssVar$1("stepper-accent-color"),baseStyle$J=definePartsStyle$w(({colorScheme:a})=>({stepper:{display:"flex",justifyContent:"space-between",gap:"4","&[data-orientation=vertical]":{flexDirection:"column",alignItems:"flex-start"},"&[data-orientation=horizontal]":{flexDirection:"row",alignItems:"center"},[$accentColor.variable]:`colors.${a}.500`,_dark:{[$accentColor.variable]:`colors.${a}.200`}},title:{fontSize:$titleFontSize.reference,fontWeight:"medium"},description:{fontSize:$descFontSize.reference,color:"chakra-subtle-text"},number:{fontSize:$titleFontSize.reference},step:{flexShrink:0,position:"relative",display:"flex",gap:"2","&[data-orientation=horizontal]":{alignItems:"center"},flex:"1","&:last-of-type:not([data-stretch])":{flex:"initial"}},icon:{flexShrink:0,width:$iconSize.reference,height:$iconSize.reference},indicator:{flexShrink:0,borderRadius:"full",width:$size$4.reference,height:$size$4.reference,display:"flex",justifyContent:"center",alignItems:"center","&[data-status=active]":{borderWidth:"2px",borderColor:$accentColor.reference},"&[data-status=complete]":{bg:$accentColor.reference,color:"chakra-inverse-text"},"&[data-status=incomplete]":{borderWidth:"2px"}},separator:{bg:"chakra-border-color",flex:"1","&[data-status=complete]":{bg:$accentColor.reference},"&[data-orientation=horizontal]":{width:"100%",height:"2px",marginStart:"2"},"&[data-orientation=vertical]":{width:"2px",position:"absolute",height:"100%",maxHeight:`calc(100% - ${$size$4.reference} - 8px)`,top:`calc(${$size$4.reference} + 4px)`,insetStart:`calc(${$size$4.reference} / 2 - 1px)`}}})),stepperTheme=defineMultiStyleConfig$w({baseStyle:baseStyle$J,sizes:{xs:definePartsStyle$w({stepper:{[$size$4.variable]:"sizes.4",[$iconSize.variable]:"sizes.3",[$titleFontSize.variable]:"fontSizes.xs",[$descFontSize.variable]:"fontSizes.xs"}}),sm:definePartsStyle$w({stepper:{[$size$4.variable]:"sizes.6",[$iconSize.variable]:"sizes.4",[$titleFontSize.variable]:"fontSizes.sm",[$descFontSize.variable]:"fontSizes.xs"}}),md:definePartsStyle$w({stepper:{[$size$4.variable]:"sizes.8",[$iconSize.variable]:"sizes.5",[$titleFontSize.variable]:"fontSizes.md",[$descFontSize.variable]:"fontSizes.sm"}}),lg:definePartsStyle$w({stepper:{[$size$4.variable]:"sizes.10",[$iconSize.variable]:"sizes.6",[$titleFontSize.variable]:"fontSizes.lg",[$descFontSize.variable]:"fontSizes.md"}})},defaultProps:{size:"md",colorScheme:"blue"}});function anatomy(a,_={}){let $=!1;function j(){if(!$){$=!0;return}throw new Error("[anatomy] .part(...) should only be called once. Did you mean to use .extend(...) ?")}function et(...ot){j();for(const at of ot)_[at]=it(at);return anatomy(a,_)}function tt(...ot){for(const at of ot)at in _||(_[at]=it(at));return anatomy(a,_)}function rt(){return Object.fromEntries(Object.entries(_).map(([at,ut])=>[at,ut.selector]))}function nt(){return Object.fromEntries(Object.entries(_).map(([at,ut])=>[at,ut.className]))}function it(ot){const ht=`chakra-${(["container","root"].includes(ot??"")?[a]:[a,ot]).filter(Boolean).join("__")}`;return{className:ht,selector:`.${ht}`,toString:()=>ot}}return{parts:et,toPart:it,extend:tt,selectors:rt,classnames:nt,get keys(){return Object.keys(_)},__type:{}}}var accordionAnatomy=anatomy("accordion").parts("root","container","button","panel").extend("icon"),alertAnatomy=anatomy("alert").parts("title","description","container").extend("icon","spinner"),avatarAnatomy=anatomy("avatar").parts("label","badge","container").extend("excessLabel","group"),breadcrumbAnatomy=anatomy("breadcrumb").parts("link","item","container").extend("separator");anatomy("button").parts();var checkboxAnatomy=anatomy("checkbox").parts("control","icon","container").extend("label");anatomy("progress").parts("track","filledTrack").extend("label");var drawerAnatomy=anatomy("drawer").parts("overlay","dialogContainer","dialog").extend("header","closeButton","body","footer"),editableAnatomy=anatomy("editable").parts("preview","input","textarea"),formAnatomy=anatomy("form").parts("container","requiredIndicator","helperText"),formErrorAnatomy=anatomy("formError").parts("text","icon"),inputAnatomy=anatomy("input").parts("addon","field","element","group"),listAnatomy=anatomy("list").parts("container","item","icon"),menuAnatomy=anatomy("menu").parts("button","list","item").extend("groupTitle","icon","command","divider"),modalAnatomy=anatomy("modal").parts("overlay","dialogContainer","dialog").extend("header","closeButton","body","footer"),numberInputAnatomy=anatomy("numberinput").parts("root","field","stepperGroup","stepper");anatomy("pininput").parts("field");var popoverAnatomy=anatomy("popover").parts("content","header","body","footer").extend("popper","arrow","closeButton"),progressAnatomy=anatomy("progress").parts("label","filledTrack","track"),radioAnatomy=anatomy("radio").parts("container","control","label"),selectAnatomy=anatomy("select").parts("field","icon"),sliderAnatomy=anatomy("slider").parts("container","track","thumb","filledTrack","mark"),statAnatomy=anatomy("stat").parts("container","label","helpText","number","icon"),switchAnatomy=anatomy("switch").parts("container","track","thumb","label"),tableAnatomy=anatomy("table").parts("table","thead","tbody","tr","th","td","tfoot","caption"),tabsAnatomy=anatomy("tabs").parts("root","tab","tablist","tabpanel","tabpanels","indicator"),tagAnatomy=anatomy("tag").parts("container","label","closeButton"),cardAnatomy=anatomy("card").parts("container","header","body","footer");anatomy("stepper").parts("stepper","step","title","description","indicator","separator","icon","number");function guard(a,_,$){return Math.min(Math.max(a,$),_)}class ColorError extends Error{constructor(_){super(`Failed to parse color: "${_}"`)}}var ColorError$1=ColorError;function parseToRgba(a){if(typeof a!="string")throw new ColorError$1(a);if(a.trim().toLowerCase()==="transparent")return[0,0,0,0];let _=a.trim();_=namedColorRegex.test(a)?nameToHex(a):a;const $=reducedHexRegex.exec(_);if($){const rt=Array.from($).slice(1);return[...rt.slice(0,3).map(nt=>parseInt(r$3(nt,2),16)),parseInt(r$3(rt[3]||"f",2),16)/255]}const j=hexRegex.exec(_);if(j){const rt=Array.from(j).slice(1);return[...rt.slice(0,3).map(nt=>parseInt(nt,16)),parseInt(rt[3]||"ff",16)/255]}const et=rgbaRegex.exec(_);if(et){const rt=Array.from(et).slice(1);return[...rt.slice(0,3).map(nt=>parseInt(nt,10)),parseFloat(rt[3]||"1")]}const tt=hslaRegex.exec(_);if(tt){const[rt,nt,it,st]=Array.from(tt).slice(1).map(parseFloat);if(guard(0,100,nt)!==nt)throw new ColorError$1(a);if(guard(0,100,it)!==it)throw new ColorError$1(a);return[...hslToRgb(rt,nt,it),Number.isNaN(st)?1:st]}throw new ColorError$1(a)}function hash$8(a){let _=5381,$=a.length;for(;$;)_=_*33^a.charCodeAt(--$);return(_>>>0)%2341}const colorToInt=a=>parseInt(a.replace(/_/g,""),36),compressedColorMap="1q29ehhb 1n09sgk7 1kl1ekf_ _yl4zsno 16z9eiv3 1p29lhp8 _bd9zg04 17u0____ _iw9zhe5 _to73___ _r45e31e _7l6g016 _jh8ouiv _zn3qba8 1jy4zshs 11u87k0u 1ro9yvyo 1aj3xael 1gz9zjz0 _3w8l4xo 1bf1ekf_ _ke3v___ _4rrkb__ 13j776yz _646mbhl _nrjr4__ _le6mbhl 1n37ehkb _m75f91n _qj3bzfz 1939yygw 11i5z6x8 _1k5f8xs 1509441m 15t5lwgf _ae2th1n _tg1ugcv 1lp1ugcv 16e14up_ _h55rw7n _ny9yavn _7a11xb_ 1ih442g9 _pv442g9 1mv16xof 14e6y7tu 1oo9zkds 17d1cisi _4v9y70f _y98m8kc 1019pq0v 12o9zda8 _348j4f4 1et50i2o _8epa8__ _ts6senj 1o350i2o 1mi9eiuo 1259yrp0 1ln80gnw _632xcoy 1cn9zldc _f29edu4 1n490c8q _9f9ziet 1b94vk74 _m49zkct 1kz6s73a 1eu9dtog _q58s1rz 1dy9sjiq __u89jo3 _aj5nkwg _ld89jo3 13h9z6wx _qa9z2ii _l119xgq _bs5arju 1hj4nwk9 1qt4nwk9 1ge6wau6 14j9zlcw 11p1edc_ _ms1zcxe _439shk6 _jt9y70f _754zsow 1la40eju _oq5p___ _x279qkz 1fa5r3rv _yd2d9ip _424tcku _8y1di2_ _zi2uabw _yy7rn9h 12yz980_ __39ljp6 1b59zg0x _n39zfzp 1fy9zest _b33k___ _hp9wq92 1il50hz4 _io472ub _lj9z3eo 19z9ykg0 _8t8iu3a 12b9bl4a 1ak5yw0o _896v4ku _tb8k8lv _s59zi6t _c09ze0p 1lg80oqn 1id9z8wb _238nba5 1kq6wgdi _154zssg _tn3zk49 _da9y6tc 1sg7cv4f _r12jvtt 1gq5fmkz 1cs9rvci _lp9jn1c _xw1tdnb 13f9zje6 16f6973h _vo7ir40 _bt5arjf _rc45e4t _hr4e100 10v4e100 _hc9zke2 _w91egv_ _sj2r1kk 13c87yx8 _vqpds__ _ni8ggk8 _tj9yqfb 1ia2j4r4 _7x9b10u 1fc9ld4j 1eq9zldr _5j9lhpx _ez9zl6o _md61fzm".split(" ").reduce((a,_)=>{const $=colorToInt(_.substring(0,3)),j=colorToInt(_.substring(3)).toString(16);let et="";for(let tt=0;tt<6-j.length;tt++)et+="0";return a[$]=`${et}${j}`,a},{});function nameToHex(a){const _=a.toLowerCase().trim(),$=compressedColorMap[hash$8(_)];if(!$)throw new ColorError$1(a);return`#${$}`}const r$3=(a,_)=>Array.from(Array(_)).map(()=>a).join(""),reducedHexRegex=new RegExp(`^#${r$3("([a-f0-9])",3)}([a-f0-9])?$`,"i"),hexRegex=new RegExp(`^#${r$3("([a-f0-9]{2})",3)}([a-f0-9]{2})?$`,"i"),rgbaRegex=new RegExp(`^rgba?\\(\\s*(\\d+)\\s*${r$3(",\\s*(\\d+)\\s*",2)}(?:,\\s*([\\d.]+))?\\s*\\)$`,"i"),hslaRegex=/^hsla?\(\s*([\d.]+)\s*,\s*([\d.]+)%\s*,\s*([\d.]+)%(?:\s*,\s*([\d.]+))?\s*\)$/i,namedColorRegex=/^[a-z]+$/i,roundColor=a=>Math.round(a*255),hslToRgb=(a,_,$)=>{let j=$/100;if(_===0)return[j,j,j].map(roundColor);const et=(a%360+360)%360/60,tt=(1-Math.abs(2*j-1))*(_/100),rt=tt*(1-Math.abs(et%2-1));let nt=0,it=0,st=0;et>=0&&et<1?(nt=tt,it=rt):et>=1&&et<2?(nt=rt,it=tt):et>=2&&et<3?(it=tt,st=rt):et>=3&&et<4?(it=rt,st=tt):et>=4&&et<5?(nt=rt,st=tt):et>=5&&et<6&&(nt=tt,st=rt);const ot=j-tt/2,at=nt+ot,ut=it+ot,ht=st+ot;return[at,ut,ht].map(roundColor)};function rgba$1(a,_,$,j){return`rgba(${guard(0,255,a).toFixed()}, ${guard(0,255,_).toFixed()}, ${guard(0,255,$).toFixed()}, ${parseFloat(guard(0,1,j).toFixed(3))})`}function transparentize$1(a,_){const[$,j,et,tt]=parseToRgba(a);return rgba$1($,j,et,tt-_)}function toHex$3(a){const[_,$,j,et]=parseToRgba(a);let tt=rt=>{const nt=guard(0,255,rt).toString(16);return nt.length===1?`0${nt}`:nt};return`#${tt(_)}${tt($)}${tt(j)}${et<1?tt(Math.round(et*255)):""}`}function dlv_es_default(a,_,$,j,et){for(_=_.split?_.split("."):_,j=0;j<_.length;j++)a=a?a[_[j]]:et;return a===et?$:a}var isEmptyObject$1=a=>Object.keys(a).length===0,getColor=(a,_,$)=>{const j=dlv_es_default(a,`colors.${_}`,_);try{return toHex$3(j),j}catch{return $??"#000000"}},getBrightness=a=>{const[_,$,j]=parseToRgba(a);return(_*299+$*587+j*114)/1e3},tone=a=>_=>{const $=getColor(_,a);return getBrightness($)<128?"dark":"light"},isDark=a=>_=>tone(a)(_)==="dark",transparentize=(a,_)=>$=>{const j=getColor($,a);return transparentize$1(j,1-_)};function generateStripe(a="1rem",_="rgba(255, 255, 255, 0.15)"){return{backgroundImage:`linear-gradient(
    45deg,
    ${_} 25%,
    transparent 25%,
    transparent 50%,
    ${_} 50%,
    ${_} 75%,
    transparent 75%,
    transparent
  )`,backgroundSize:`${a} ${a}`}}var randomHex=()=>`#${Math.floor(Math.random()*16777215).toString(16).padEnd(6,"0")}`;function randomColor(a){const _=randomHex();return!a||isEmptyObject$1(a)?_:a.string&&a.colors?randomColorFromList(a.string,a.colors):a.string&&!a.colors?randomColorFromString(a.string):a.colors&&!a.string?randomFromList(a.colors):_}function randomColorFromString(a){let _=0;if(a.length===0)return _.toString();for(let j=0;j<a.length;j+=1)_=a.charCodeAt(j)+((_<<5)-_),_=_&_;let $="#";for(let j=0;j<3;j+=1){const et=_>>j*8&255;$+=`00${et.toString(16)}`.substr(-2)}return $}function randomColorFromList(a,_){let $=0;if(a.length===0)return _[0];for(let j=0;j<a.length;j+=1)$=a.charCodeAt(j)+(($<<5)-$),$=$&$;return $=($%_.length+_.length)%_.length,_[$]}function randomFromList(a){return a[Math.floor(Math.random()*a.length)]}function mode(a,_){return $=>$.colorMode==="dark"?_:a}function orient(a){const{orientation:_,vertical:$,horizontal:j}=a;return _?_==="vertical"?$:j:{}}function toRef(a){return isObject$5(a)&&a.reference?a.reference:String(a)}var toExpr=(a,..._)=>_.map(toRef).join(` ${a} `).replace(/calc/g,""),add=(...a)=>`calc(${toExpr("+",...a)})`,subtract=(...a)=>`calc(${toExpr("-",...a)})`,multiply=(...a)=>`calc(${toExpr("*",...a)})`,divide=(...a)=>`calc(${toExpr("/",...a)})`,negate=a=>{const _=toRef(a);return _!=null&&!Number.isNaN(parseFloat(_))?String(_).startsWith("-")?String(_).slice(1):`-${_}`:multiply(_,-1)},calc=Object.assign(a=>({add:(..._)=>calc(add(a,..._)),subtract:(..._)=>calc(subtract(a,..._)),multiply:(..._)=>calc(multiply(a,..._)),divide:(..._)=>calc(divide(a,..._)),negate:()=>calc(negate(a)),toString:()=>a.toString()}),{add,subtract,multiply,divide,negate});function isDecimal$1(a){return!Number.isInteger(parseFloat(a.toString()))}function replaceWhiteSpace(a,_="-"){return a.replace(/\s+/g,_)}function escape$1(a){const _=replaceWhiteSpace(a.toString());return _.includes("\\.")?a:isDecimal$1(a)?_.replace(".","\\."):a}function addPrefix(a,_=""){return[_,escape$1(a)].filter(Boolean).join("-")}function toVarRef(a,_){return`var(${escape$1(a)}${_?`, ${_}`:""})`}function toVar$1(a,_=""){return`--${addPrefix(a,_)}`}function cssVar(a,_){const $=toVar$1(a,void 0);return{variable:$,reference:toVarRef($,getFallback(void 0))}}function getFallback(a){return typeof a=="string"?a:a==null?void 0:a.reference}var{defineMultiStyleConfig:defineMultiStyleConfig$v,definePartsStyle:definePartsStyle$v}=createMultiStyleConfigHelpers(switchAnatomy.keys),$width=cssVar("switch-track-width"),$height$1=cssVar("switch-track-height"),$diff=cssVar("switch-track-diff"),diffValue=calc.subtract($width,$height$1),$translateX=cssVar("switch-thumb-x"),$bg$f=cssVar("switch-bg"),baseStyleTrack$2=a=>{const{colorScheme:_}=a;return{borderRadius:"full",p:"0.5",width:[$width.reference],height:[$height$1.reference],transitionProperty:"common",transitionDuration:"fast",[$bg$f.variable]:"colors.gray.300",_dark:{[$bg$f.variable]:"colors.whiteAlpha.400"},_focusVisible:{boxShadow:"outline"},_disabled:{opacity:.4,cursor:"not-allowed"},_checked:{[$bg$f.variable]:`colors.${_}.500`,_dark:{[$bg$f.variable]:`colors.${_}.200`}},bg:$bg$f.reference}},baseStyleThumb$1={bg:"white",transitionProperty:"transform",transitionDuration:"normal",borderRadius:"inherit",width:[$height$1.reference],height:[$height$1.reference],_checked:{transform:`translateX(${$translateX.reference})`}},baseStyle$I=definePartsStyle$v(a=>({container:{[$diff.variable]:diffValue,[$translateX.variable]:$diff.reference,_rtl:{[$translateX.variable]:calc($diff).negate().toString()}},track:baseStyleTrack$2(a),thumb:baseStyleThumb$1})),sizes$n={sm:definePartsStyle$v({container:{[$width.variable]:"1.375rem",[$height$1.variable]:"sizes.3"}}),md:definePartsStyle$v({container:{[$width.variable]:"1.875rem",[$height$1.variable]:"sizes.4"}}),lg:definePartsStyle$v({container:{[$width.variable]:"2.875rem",[$height$1.variable]:"sizes.6"}})},switchTheme$1=defineMultiStyleConfig$v({baseStyle:baseStyle$I,sizes:sizes$n,defaultProps:{size:"md",colorScheme:"blue"}}),{defineMultiStyleConfig:defineMultiStyleConfig$u,definePartsStyle:definePartsStyle$u}=createMultiStyleConfigHelpers(tableAnatomy.keys),baseStyle$H=definePartsStyle$u({table:{fontVariantNumeric:"lining-nums tabular-nums",borderCollapse:"collapse",width:"full"},th:{fontFamily:"heading",fontWeight:"bold",textTransform:"uppercase",letterSpacing:"wider",textAlign:"start"},td:{textAlign:"start"},caption:{mt:4,fontFamily:"heading",textAlign:"center",fontWeight:"medium"}}),numericStyles={"&[data-is-numeric=true]":{textAlign:"end"}},variantSimple=definePartsStyle$u(a=>{const{colorScheme:_}=a;return{th:{color:mode("gray.600","gray.400")(a),borderBottom:"1px",borderColor:mode(`${_}.100`,`${_}.700`)(a),...numericStyles},td:{borderBottom:"1px",borderColor:mode(`${_}.100`,`${_}.700`)(a),...numericStyles},caption:{color:mode("gray.600","gray.100")(a)},tfoot:{tr:{"&:last-of-type":{th:{borderBottomWidth:0}}}}}}),variantStripe=definePartsStyle$u(a=>{const{colorScheme:_}=a;return{th:{color:mode("gray.600","gray.400")(a),borderBottom:"1px",borderColor:mode(`${_}.100`,`${_}.700`)(a),...numericStyles},td:{borderBottom:"1px",borderColor:mode(`${_}.100`,`${_}.700`)(a),...numericStyles},caption:{color:mode("gray.600","gray.100")(a)},tbody:{tr:{"&:nth-of-type(odd)":{"th, td":{borderBottomWidth:"1px",borderColor:mode(`${_}.100`,`${_}.700`)(a)},td:{background:mode(`${_}.100`,`${_}.700`)(a)}}}},tfoot:{tr:{"&:last-of-type":{th:{borderBottomWidth:0}}}}}}),variants$g={simple:variantSimple,striped:variantStripe,unstyled:{}},sizes$m={sm:definePartsStyle$u({th:{px:"4",py:"1",lineHeight:"4",fontSize:"xs"},td:{px:"4",py:"2",fontSize:"sm",lineHeight:"4"},caption:{px:"4",py:"2",fontSize:"xs"}}),md:definePartsStyle$u({th:{px:"6",py:"3",lineHeight:"4",fontSize:"xs"},td:{px:"6",py:"4",lineHeight:"5"},caption:{px:"6",py:"2",fontSize:"sm"}}),lg:definePartsStyle$u({th:{px:"8",py:"4",lineHeight:"5",fontSize:"sm"},td:{px:"8",py:"5",lineHeight:"6"},caption:{px:"6",py:"2",fontSize:"md"}})},tableTheme=defineMultiStyleConfig$u({baseStyle:baseStyle$H,variants:variants$g,sizes:sizes$m,defaultProps:{variant:"simple",size:"md",colorScheme:"gray"}}),$fg$5=cssVar$1("tabs-color"),$bg$e=cssVar$1("tabs-bg"),$border$3=cssVar$1("tabs-border-color"),{defineMultiStyleConfig:defineMultiStyleConfig$t,definePartsStyle:definePartsStyle$t}=createMultiStyleConfigHelpers(tabsAnatomy.keys),baseStyleRoot$1=a=>{const{orientation:_}=a;return{display:_==="vertical"?"flex":"block"}},baseStyleTab=a=>{const{isFitted:_}=a;return{flex:_?1:void 0,transitionProperty:"common",transitionDuration:"normal",_focusVisible:{zIndex:1,boxShadow:"outline"},_disabled:{cursor:"not-allowed",opacity:.4}}},baseStyleTablist=a=>{const{align:_="start",orientation:$}=a;return{justifyContent:{end:"flex-end",center:"center",start:"flex-start"}[_],flexDirection:$==="vertical"?"column":"row"}},baseStyleTabpanel={p:4},baseStyle$G=definePartsStyle$t(a=>({root:baseStyleRoot$1(a),tab:baseStyleTab(a),tablist:baseStyleTablist(a),tabpanel:baseStyleTabpanel})),sizes$l={sm:definePartsStyle$t({tab:{py:1,px:4,fontSize:"sm"}}),md:definePartsStyle$t({tab:{fontSize:"md",py:2,px:4}}),lg:definePartsStyle$t({tab:{fontSize:"lg",py:3,px:4}})},variantLine=definePartsStyle$t(a=>{const{colorScheme:_,orientation:$}=a,j=$==="vertical",et=j?"borderStart":"borderBottom",tt=j?"marginStart":"marginBottom";return{tablist:{[et]:"2px solid",borderColor:"inherit"},tab:{[et]:"2px solid",borderColor:"transparent",[tt]:"-2px",_selected:{[$fg$5.variable]:`colors.${_}.600`,_dark:{[$fg$5.variable]:`colors.${_}.300`},borderColor:"currentColor"},_active:{[$bg$e.variable]:"colors.gray.200",_dark:{[$bg$e.variable]:"colors.whiteAlpha.300"}},_disabled:{_active:{bg:"none"}},color:$fg$5.reference,bg:$bg$e.reference}}}),variantEnclosed=definePartsStyle$t(a=>{const{colorScheme:_}=a;return{tab:{borderTopRadius:"md",border:"1px solid",borderColor:"transparent",mb:"-1px",[$border$3.variable]:"transparent",_selected:{[$fg$5.variable]:`colors.${_}.600`,[$border$3.variable]:"colors.white",_dark:{[$fg$5.variable]:`colors.${_}.300`,[$border$3.variable]:"colors.gray.800"},borderColor:"inherit",borderBottomColor:$border$3.reference},color:$fg$5.reference},tablist:{mb:"-1px",borderBottom:"1px solid",borderColor:"inherit"}}}),variantEnclosedColored=definePartsStyle$t(a=>{const{colorScheme:_}=a;return{tab:{border:"1px solid",borderColor:"inherit",[$bg$e.variable]:"colors.gray.50",_dark:{[$bg$e.variable]:"colors.whiteAlpha.50"},mb:"-1px",_notLast:{marginEnd:"-1px"},_selected:{[$bg$e.variable]:"colors.white",[$fg$5.variable]:`colors.${_}.600`,_dark:{[$bg$e.variable]:"colors.gray.800",[$fg$5.variable]:`colors.${_}.300`},borderColor:"inherit",borderTopColor:"currentColor",borderBottomColor:"transparent"},color:$fg$5.reference,bg:$bg$e.reference},tablist:{mb:"-1px",borderBottom:"1px solid",borderColor:"inherit"}}}),variantSoftRounded=definePartsStyle$t(a=>{const{colorScheme:_,theme:$}=a;return{tab:{borderRadius:"full",fontWeight:"semibold",color:"gray.600",_selected:{color:getColor($,`${_}.700`),bg:getColor($,`${_}.100`)}}}}),variantSolidRounded=definePartsStyle$t(a=>{const{colorScheme:_}=a;return{tab:{borderRadius:"full",fontWeight:"semibold",[$fg$5.variable]:"colors.gray.600",_dark:{[$fg$5.variable]:"inherit"},_selected:{[$fg$5.variable]:"colors.white",[$bg$e.variable]:`colors.${_}.600`,_dark:{[$fg$5.variable]:"colors.gray.800",[$bg$e.variable]:`colors.${_}.300`}},color:$fg$5.reference,bg:$bg$e.reference}}}),variantUnstyled$2=definePartsStyle$t({}),variants$f={line:variantLine,enclosed:variantEnclosed,"enclosed-colored":variantEnclosedColored,"soft-rounded":variantSoftRounded,"solid-rounded":variantSolidRounded,unstyled:variantUnstyled$2},tabsTheme$1=defineMultiStyleConfig$t({baseStyle:baseStyle$G,sizes:sizes$l,variants:variants$f,defaultProps:{size:"md",variant:"line",colorScheme:"blue"}}),vars=defineCssVars("badge",["bg","color","shadow"]),baseStyle$F={px:1,textTransform:"uppercase",fontSize:"xs",borderRadius:"sm",fontWeight:"bold",bg:vars.bg.reference,color:vars.color.reference,boxShadow:vars.shadow.reference},variantSolid$3=a=>{const{colorScheme:_,theme:$}=a,j=transparentize(`${_}.500`,.6)($);return{[vars.bg.variable]:`colors.${_}.500`,[vars.color.variable]:"colors.white",_dark:{[vars.bg.variable]:j,[vars.color.variable]:"colors.whiteAlpha.800"}}},variantSubtle$1=a=>{const{colorScheme:_,theme:$}=a,j=transparentize(`${_}.200`,.16)($);return{[vars.bg.variable]:`colors.${_}.100`,[vars.color.variable]:`colors.${_}.800`,_dark:{[vars.bg.variable]:j,[vars.color.variable]:`colors.${_}.200`}}},variantOutline$2=a=>{const{colorScheme:_,theme:$}=a,j=transparentize(`${_}.200`,.8)($);return{[vars.color.variable]:`colors.${_}.500`,_dark:{[vars.color.variable]:j},[vars.shadow.variable]:`inset 0 0 0px 1px ${vars.color.reference}`}},variants$e={solid:variantSolid$3,subtle:variantSubtle$1,outline:variantOutline$2},badgeTheme={baseStyle:baseStyle$F,variants:variants$e,defaultProps:{variant:"subtle",colorScheme:"gray"}},{defineMultiStyleConfig:defineMultiStyleConfig$s,definePartsStyle:definePartsStyle$s}=createMultiStyleConfigHelpers(tagAnatomy.keys),$bg$d=cssVar$1("tag-bg"),$color=cssVar$1("tag-color"),$shadow$3=cssVar$1("tag-shadow"),$minH=cssVar$1("tag-min-height"),$minW=cssVar$1("tag-min-width"),$fontSize$1=cssVar$1("tag-font-size"),$paddingX=cssVar$1("tag-padding-inline"),baseStyleContainer$4={fontWeight:"medium",lineHeight:1.2,outline:0,[$color.variable]:vars.color.reference,[$bg$d.variable]:vars.bg.reference,[$shadow$3.variable]:vars.shadow.reference,color:$color.reference,bg:$bg$d.reference,boxShadow:$shadow$3.reference,borderRadius:"md",minH:$minH.reference,minW:$minW.reference,fontSize:$fontSize$1.reference,px:$paddingX.reference,_focusVisible:{[$shadow$3.variable]:"shadows.outline"}},baseStyleLabel$4={lineHeight:1.2,overflow:"visible"},baseStyleCloseButton$3={fontSize:"lg",w:"5",h:"5",transitionProperty:"common",transitionDuration:"normal",borderRadius:"full",marginStart:"1.5",marginEnd:"-1",opacity:.5,_disabled:{opacity:.4},_focusVisible:{boxShadow:"outline",bg:"rgba(0, 0, 0, 0.14)"},_hover:{opacity:.8},_active:{opacity:1}},baseStyle$E=definePartsStyle$s({container:baseStyleContainer$4,label:baseStyleLabel$4,closeButton:baseStyleCloseButton$3}),sizes$k={sm:definePartsStyle$s({container:{[$minH.variable]:"sizes.5",[$minW.variable]:"sizes.5",[$fontSize$1.variable]:"fontSizes.xs",[$paddingX.variable]:"space.2"},closeButton:{marginEnd:"-2px",marginStart:"0.35rem"}}),md:definePartsStyle$s({container:{[$minH.variable]:"sizes.6",[$minW.variable]:"sizes.6",[$fontSize$1.variable]:"fontSizes.sm",[$paddingX.variable]:"space.2"}}),lg:definePartsStyle$s({container:{[$minH.variable]:"sizes.8",[$minW.variable]:"sizes.8",[$fontSize$1.variable]:"fontSizes.md",[$paddingX.variable]:"space.3"}})},variants$d={subtle:definePartsStyle$s(a=>{var _;return{container:(_=badgeTheme.variants)==null?void 0:_.subtle(a)}}),solid:definePartsStyle$s(a=>{var _;return{container:(_=badgeTheme.variants)==null?void 0:_.solid(a)}}),outline:definePartsStyle$s(a=>{var _;return{container:(_=badgeTheme.variants)==null?void 0:_.outline(a)}})},tagTheme=defineMultiStyleConfig$s({variants:variants$d,baseStyle:baseStyle$E,sizes:sizes$k,defaultProps:{size:"md",variant:"subtle",colorScheme:"gray"}}),{definePartsStyle:definePartsStyle$r,defineMultiStyleConfig:defineMultiStyleConfig$r}=createMultiStyleConfigHelpers(inputAnatomy.keys),$height=cssVar$1("input-height"),$fontSize=cssVar$1("input-font-size"),$padding$1=cssVar$1("input-padding"),$borderRadius=cssVar$1("input-border-radius"),baseStyle$D=definePartsStyle$r({addon:{height:$height.reference,fontSize:$fontSize.reference,px:$padding$1.reference,borderRadius:$borderRadius.reference},field:{width:"100%",height:$height.reference,fontSize:$fontSize.reference,px:$padding$1.reference,borderRadius:$borderRadius.reference,minWidth:0,outline:0,position:"relative",appearance:"none",transitionProperty:"common",transitionDuration:"normal",_disabled:{opacity:.4,cursor:"not-allowed"}}}),size={lg:{[$fontSize.variable]:"fontSizes.lg",[$padding$1.variable]:"space.4",[$borderRadius.variable]:"radii.md",[$height.variable]:"sizes.12"},md:{[$fontSize.variable]:"fontSizes.md",[$padding$1.variable]:"space.4",[$borderRadius.variable]:"radii.md",[$height.variable]:"sizes.10"},sm:{[$fontSize.variable]:"fontSizes.sm",[$padding$1.variable]:"space.3",[$borderRadius.variable]:"radii.sm",[$height.variable]:"sizes.8"},xs:{[$fontSize.variable]:"fontSizes.xs",[$padding$1.variable]:"space.2",[$borderRadius.variable]:"radii.sm",[$height.variable]:"sizes.6"}},sizes$j={lg:definePartsStyle$r({field:size.lg,group:size.lg}),md:definePartsStyle$r({field:size.md,group:size.md}),sm:definePartsStyle$r({field:size.sm,group:size.sm}),xs:definePartsStyle$r({field:size.xs,group:size.xs})};function getDefaults(a){const{focusBorderColor:_,errorBorderColor:$}=a;return{focusBorderColor:_||mode("blue.500","blue.300")(a),errorBorderColor:$||mode("red.500","red.300")(a)}}var variantOutline$1=definePartsStyle$r(a=>{const{theme:_}=a,{focusBorderColor:$,errorBorderColor:j}=getDefaults(a);return{field:{border:"1px solid",borderColor:"inherit",bg:"inherit",_hover:{borderColor:mode("gray.300","whiteAlpha.400")(a)},_readOnly:{boxShadow:"none !important",userSelect:"all"},_invalid:{borderColor:getColor(_,j),boxShadow:`0 0 0 1px ${getColor(_,j)}`},_focusVisible:{zIndex:1,borderColor:getColor(_,$),boxShadow:`0 0 0 1px ${getColor(_,$)}`}},addon:{border:"1px solid",borderColor:mode("inherit","whiteAlpha.50")(a),bg:mode("gray.100","whiteAlpha.300")(a)}}}),variantFilled=definePartsStyle$r(a=>{const{theme:_}=a,{focusBorderColor:$,errorBorderColor:j}=getDefaults(a);return{field:{border:"2px solid",borderColor:"transparent",bg:mode("gray.100","whiteAlpha.50")(a),_hover:{bg:mode("gray.200","whiteAlpha.100")(a)},_readOnly:{boxShadow:"none !important",userSelect:"all"},_invalid:{borderColor:getColor(_,j)},_focusVisible:{bg:"transparent",borderColor:getColor(_,$)}},addon:{border:"2px solid",borderColor:"transparent",bg:mode("gray.100","whiteAlpha.50")(a)}}}),variantFlushed=definePartsStyle$r(a=>{const{theme:_}=a,{focusBorderColor:$,errorBorderColor:j}=getDefaults(a);return{field:{borderBottom:"1px solid",borderColor:"inherit",borderRadius:"0",px:"0",bg:"transparent",_readOnly:{boxShadow:"none !important",userSelect:"all"},_invalid:{borderColor:getColor(_,j),boxShadow:`0px 1px 0px 0px ${getColor(_,j)}`},_focusVisible:{borderColor:getColor(_,$),boxShadow:`0px 1px 0px 0px ${getColor(_,$)}`}},addon:{borderBottom:"2px solid",borderColor:"inherit",borderRadius:"0",px:"0",bg:"transparent"}}}),variantUnstyled$1=definePartsStyle$r({field:{bg:"transparent",px:"0",height:"auto"},addon:{bg:"transparent",px:"0",height:"auto"}}),variants$c={outline:variantOutline$1,filled:variantFilled,flushed:variantFlushed,unstyled:variantUnstyled$1},inputTheme=defineMultiStyleConfig$r({baseStyle:baseStyle$D,sizes:sizes$j,variants:variants$c,defaultProps:{size:"md",variant:"outline"}}),_a$7,baseStyle$C={...(_a$7=inputTheme.baseStyle)==null?void 0:_a$7.field,paddingY:"2",minHeight:"20",lineHeight:"short",verticalAlign:"top"},_a2$2,_b$2,variants$b={outline:a=>{var _,$;return($=(_=inputTheme.variants)==null?void 0:_.outline(a).field)!=null?$:{}},flushed:a=>{var _,$;return($=(_=inputTheme.variants)==null?void 0:_.flushed(a).field)!=null?$:{}},filled:a=>{var _,$;return($=(_=inputTheme.variants)==null?void 0:_.filled(a).field)!=null?$:{}},unstyled:(_b$2=(_a2$2=inputTheme.variants)==null?void 0:_a2$2.unstyled.field)!=null?_b$2:{}},_a3,_b2,_c$1,_d$1,_e$1,_f$1,_g$1,_h$1,sizes$i={xs:(_b2=(_a3=inputTheme.sizes)==null?void 0:_a3.xs.field)!=null?_b2:{},sm:(_d$1=(_c$1=inputTheme.sizes)==null?void 0:_c$1.sm.field)!=null?_d$1:{},md:(_f$1=(_e$1=inputTheme.sizes)==null?void 0:_e$1.md.field)!=null?_f$1:{},lg:(_h$1=(_g$1=inputTheme.sizes)==null?void 0:_g$1.lg.field)!=null?_h$1:{}},textareaTheme={baseStyle:baseStyle$C,sizes:sizes$i,variants:variants$b,defaultProps:{size:"md",variant:"outline"}},$bg$c=cssVar("tooltip-bg"),$fg$4=cssVar("tooltip-fg"),$arrowBg$1=cssVar("popper-arrow-bg"),baseStyle$B={bg:$bg$c.reference,color:$fg$4.reference,[$bg$c.variable]:"colors.gray.700",[$fg$4.variable]:"colors.whiteAlpha.900",_dark:{[$bg$c.variable]:"colors.gray.300",[$fg$4.variable]:"colors.gray.900"},[$arrowBg$1.variable]:$bg$c.reference,px:"2",py:"0.5",borderRadius:"sm",fontWeight:"medium",fontSize:"sm",boxShadow:"md",maxW:"xs",zIndex:"tooltip"},tooltipTheme={baseStyle:baseStyle$B},{defineMultiStyleConfig:defineMultiStyleConfig$q,definePartsStyle:definePartsStyle$q}=createMultiStyleConfigHelpers(progressAnatomy.keys),filledStyle=a=>{const{colorScheme:_,theme:$,isIndeterminate:j,hasStripe:et}=a,tt=mode(generateStripe(),generateStripe("1rem","rgba(0,0,0,0.1)"))(a),rt=mode(`${_}.500`,`${_}.200`)(a),nt=`linear-gradient(
    to right,
    transparent 0%,
    ${getColor($,rt)} 50%,
    transparent 100%
  )`;return{...!j&&et&&tt,...j?{bgImage:nt}:{bgColor:rt}}},baseStyleLabel$3={lineHeight:"1",fontSize:"0.25em",fontWeight:"bold",color:"white"},baseStyleTrack$1=a=>({bg:mode("gray.100","whiteAlpha.300")(a)}),baseStyleFilledTrack$1=a=>({transitionProperty:"common",transitionDuration:"slow",...filledStyle(a)}),baseStyle$A=definePartsStyle$q(a=>({label:baseStyleLabel$3,filledTrack:baseStyleFilledTrack$1(a),track:baseStyleTrack$1(a)})),sizes$h={xs:definePartsStyle$q({track:{h:"1"}}),sm:definePartsStyle$q({track:{h:"2"}}),md:definePartsStyle$q({track:{h:"3"}}),lg:definePartsStyle$q({track:{h:"4"}})},progressTheme=defineMultiStyleConfig$q({sizes:sizes$h,baseStyle:baseStyle$A,defaultProps:{size:"md",colorScheme:"blue"}}),isFunction$7=a=>typeof a=="function";function runIfFn$1(a,..._){return isFunction$7(a)?a(..._):a}var{definePartsStyle:definePartsStyle$p,defineMultiStyleConfig:defineMultiStyleConfig$p}=createMultiStyleConfigHelpers(checkboxAnatomy.keys),$size$3=cssVar$1("checkbox-size"),baseStyleControl$1=a=>{const{colorScheme:_}=a;return{w:$size$3.reference,h:$size$3.reference,transitionProperty:"box-shadow",transitionDuration:"normal",border:"2px solid",borderRadius:"sm",borderColor:"inherit",color:"white",_checked:{bg:mode(`${_}.500`,`${_}.200`)(a),borderColor:mode(`${_}.500`,`${_}.200`)(a),color:mode("white","gray.900")(a),_hover:{bg:mode(`${_}.600`,`${_}.300`)(a),borderColor:mode(`${_}.600`,`${_}.300`)(a)},_disabled:{borderColor:mode("gray.200","transparent")(a),bg:mode("gray.200","whiteAlpha.300")(a),color:mode("gray.500","whiteAlpha.500")(a)}},_indeterminate:{bg:mode(`${_}.500`,`${_}.200`)(a),borderColor:mode(`${_}.500`,`${_}.200`)(a),color:mode("white","gray.900")(a)},_disabled:{bg:mode("gray.100","whiteAlpha.100")(a),borderColor:mode("gray.100","transparent")(a)},_focusVisible:{boxShadow:"outline"},_invalid:{borderColor:mode("red.500","red.300")(a)}}},baseStyleContainer$3={_disabled:{cursor:"not-allowed"}},baseStyleLabel$2={userSelect:"none",_disabled:{opacity:.4}},baseStyleIcon$6={transitionProperty:"transform",transitionDuration:"normal"},baseStyle$z=definePartsStyle$p(a=>({icon:baseStyleIcon$6,container:baseStyleContainer$3,control:runIfFn$1(baseStyleControl$1,a),label:baseStyleLabel$2})),sizes$g={sm:definePartsStyle$p({control:{[$size$3.variable]:"sizes.3"},label:{fontSize:"sm"},icon:{fontSize:"3xs"}}),md:definePartsStyle$p({control:{[$size$3.variable]:"sizes.4"},label:{fontSize:"md"},icon:{fontSize:"2xs"}}),lg:definePartsStyle$p({control:{[$size$3.variable]:"sizes.5"},label:{fontSize:"lg"},icon:{fontSize:"2xs"}})},checkboxTheme$1=defineMultiStyleConfig$p({baseStyle:baseStyle$z,sizes:sizes$g,defaultProps:{size:"md",colorScheme:"blue"}}),{defineMultiStyleConfig:defineMultiStyleConfig$o,definePartsStyle:definePartsStyle$o}=createMultiStyleConfigHelpers(radioAnatomy.keys),baseStyleControl=a=>{var _;const $=(_=runIfFn$1(checkboxTheme$1.baseStyle,a))==null?void 0:_.control;return{...$,borderRadius:"full",_checked:{...$==null?void 0:$._checked,_before:{content:'""',display:"inline-block",pos:"relative",w:"50%",h:"50%",borderRadius:"50%",bg:"currentColor"}}}},baseStyle$y=definePartsStyle$o(a=>{var _,$,j,et;return{label:($=(_=checkboxTheme$1).baseStyle)==null?void 0:$.call(_,a).label,container:(et=(j=checkboxTheme$1).baseStyle)==null?void 0:et.call(j,a).container,control:baseStyleControl(a)}}),sizes$f={md:definePartsStyle$o({control:{w:"4",h:"4"},label:{fontSize:"md"}}),lg:definePartsStyle$o({control:{w:"5",h:"5"},label:{fontSize:"lg"}}),sm:definePartsStyle$o({control:{width:"3",height:"3"},label:{fontSize:"sm"}})},radioTheme$1=defineMultiStyleConfig$o({baseStyle:baseStyle$y,sizes:sizes$f,defaultProps:{size:"md",colorScheme:"blue"}}),{defineMultiStyleConfig:defineMultiStyleConfig$n,definePartsStyle:definePartsStyle$n}=createMultiStyleConfigHelpers(selectAnatomy.keys),$bg$b=cssVar$1("select-bg"),_a$6,baseStyleField$1={...(_a$6=inputTheme.baseStyle)==null?void 0:_a$6.field,appearance:"none",paddingBottom:"1px",lineHeight:"normal",bg:$bg$b.reference,[$bg$b.variable]:"colors.white",_dark:{[$bg$b.variable]:"colors.gray.700"},"> option, > optgroup":{bg:$bg$b.reference}},baseStyleIcon$5={width:"6",height:"100%",insetEnd:"2",position:"relative",color:"currentColor",fontSize:"xl",_disabled:{opacity:.5}},baseStyle$x=definePartsStyle$n({field:baseStyleField$1,icon:baseStyleIcon$5}),iconSpacing={paddingInlineEnd:"8"},_a2$1,_b$1,_c,_d,_e,_f,_g,_h,sizes$e={lg:{...(_a2$1=inputTheme.sizes)==null?void 0:_a2$1.lg,field:{...(_b$1=inputTheme.sizes)==null?void 0:_b$1.lg.field,...iconSpacing}},md:{...(_c=inputTheme.sizes)==null?void 0:_c.md,field:{...(_d=inputTheme.sizes)==null?void 0:_d.md.field,...iconSpacing}},sm:{...(_e=inputTheme.sizes)==null?void 0:_e.sm,field:{...(_f=inputTheme.sizes)==null?void 0:_f.sm.field,...iconSpacing}},xs:{...(_g=inputTheme.sizes)==null?void 0:_g.xs,field:{...(_h=inputTheme.sizes)==null?void 0:_h.xs.field,...iconSpacing},icon:{insetEnd:"1"}}},selectTheme=defineMultiStyleConfig$n({baseStyle:baseStyle$x,sizes:sizes$e,variants:inputTheme.variants,defaultProps:inputTheme.defaultProps}),$startColor=cssVar$1("skeleton-start-color"),$endColor=cssVar$1("skeleton-end-color"),baseStyle$w={[$startColor.variable]:"colors.gray.100",[$endColor.variable]:"colors.gray.400",_dark:{[$startColor.variable]:"colors.gray.800",[$endColor.variable]:"colors.gray.600"},background:$startColor.reference,borderColor:$endColor.reference,opacity:.7,borderRadius:"sm"},skeletonTheme={baseStyle:baseStyle$w},$bg$a=cssVar$1("skip-link-bg"),baseStyle$v={borderRadius:"md",fontWeight:"semibold",_focusVisible:{boxShadow:"outline",padding:"4",position:"fixed",top:"6",insetStart:"6",[$bg$a.variable]:"colors.white",_dark:{[$bg$a.variable]:"colors.gray.700"},bg:$bg$a.reference}},skipLinkTheme={baseStyle:baseStyle$v},{defineMultiStyleConfig:defineMultiStyleConfig$m,definePartsStyle:definePartsStyle$m}=createMultiStyleConfigHelpers(sliderAnatomy.keys),$thumbSize=cssVar$1("slider-thumb-size"),$trackSize=cssVar$1("slider-track-size"),$bg$9=cssVar$1("slider-bg"),baseStyleContainer$2=a=>{const{orientation:_}=a;return{display:"inline-block",position:"relative",cursor:"pointer",_disabled:{opacity:.6,cursor:"default",pointerEvents:"none"},...orient({orientation:_,vertical:{h:"100%"},horizontal:{w:"100%"}})}},baseStyleTrack=a=>({...orient({orientation:a.orientation,horizontal:{h:$trackSize.reference},vertical:{w:$trackSize.reference}}),overflow:"hidden",borderRadius:"sm",[$bg$9.variable]:"colors.gray.200",_dark:{[$bg$9.variable]:"colors.whiteAlpha.200"},_disabled:{[$bg$9.variable]:"colors.gray.300",_dark:{[$bg$9.variable]:"colors.whiteAlpha.300"}},bg:$bg$9.reference}),baseStyleThumb=a=>{const{orientation:_}=a;return{...orient({orientation:_,vertical:{left:"50%",transform:"translateX(-50%)",_active:{transform:"translateX(-50%) scale(1.15)"}},horizontal:{top:"50%",transform:"translateY(-50%)",_active:{transform:"translateY(-50%) scale(1.15)"}}}),w:$thumbSize.reference,h:$thumbSize.reference,display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",outline:0,zIndex:1,borderRadius:"full",bg:"white",boxShadow:"base",border:"1px solid",borderColor:"transparent",transitionProperty:"transform",transitionDuration:"normal",_focusVisible:{boxShadow:"outline"},_disabled:{bg:"gray.300"}}},baseStyleFilledTrack=a=>{const{colorScheme:_}=a;return{width:"inherit",height:"inherit",[$bg$9.variable]:`colors.${_}.500`,_dark:{[$bg$9.variable]:`colors.${_}.200`},bg:$bg$9.reference}},baseStyle$u=definePartsStyle$m(a=>({container:baseStyleContainer$2(a),track:baseStyleTrack(a),thumb:baseStyleThumb(a),filledTrack:baseStyleFilledTrack(a)})),sizeLg=definePartsStyle$m({container:{[$thumbSize.variable]:"sizes.4",[$trackSize.variable]:"sizes.1"}}),sizeMd=definePartsStyle$m({container:{[$thumbSize.variable]:"sizes.3.5",[$trackSize.variable]:"sizes.1"}}),sizeSm=definePartsStyle$m({container:{[$thumbSize.variable]:"sizes.2.5",[$trackSize.variable]:"sizes.0.5"}}),sizes$d={lg:sizeLg,md:sizeMd,sm:sizeSm},sliderTheme=defineMultiStyleConfig$m({baseStyle:baseStyle$u,sizes:sizes$d,defaultProps:{size:"md",colorScheme:"blue"}}),$size$2=cssVar("spinner-size"),baseStyle$t={width:[$size$2.reference],height:[$size$2.reference]},sizes$c={xs:{[$size$2.variable]:"sizes.3"},sm:{[$size$2.variable]:"sizes.4"},md:{[$size$2.variable]:"sizes.6"},lg:{[$size$2.variable]:"sizes.8"},xl:{[$size$2.variable]:"sizes.12"}},spinnerTheme={baseStyle:baseStyle$t,sizes:sizes$c,defaultProps:{size:"md"}},{defineMultiStyleConfig:defineMultiStyleConfig$l,definePartsStyle:definePartsStyle$l}=createMultiStyleConfigHelpers(statAnatomy.keys),baseStyleLabel$1={fontWeight:"medium"},baseStyleHelpText={opacity:.8,marginBottom:"2"},baseStyleNumber={verticalAlign:"baseline",fontWeight:"semibold"},baseStyleIcon$4={marginEnd:1,w:"3.5",h:"3.5",verticalAlign:"middle"},baseStyle$s=definePartsStyle$l({container:{},label:baseStyleLabel$1,helpText:baseStyleHelpText,number:baseStyleNumber,icon:baseStyleIcon$4}),sizes$b={md:definePartsStyle$l({label:{fontSize:"sm"},helpText:{fontSize:"sm"},number:{fontSize:"2xl"}})},statTheme=defineMultiStyleConfig$l({baseStyle:baseStyle$s,sizes:sizes$b,defaultProps:{size:"md"}}),$bg$8=cssVar$1("kbd-bg"),baseStyle$r={[$bg$8.variable]:"colors.gray.100",_dark:{[$bg$8.variable]:"colors.whiteAlpha.100"},bg:$bg$8.reference,borderRadius:"md",borderWidth:"1px",borderBottomWidth:"3px",fontSize:"0.8em",fontWeight:"bold",lineHeight:"normal",px:"0.4em",whiteSpace:"nowrap"},kbdTheme={baseStyle:baseStyle$r},baseStyle$q={transitionProperty:"common",transitionDuration:"fast",transitionTimingFunction:"ease-out",cursor:"pointer",textDecoration:"none",outline:"none",color:"inherit",_hover:{textDecoration:"underline"},_focusVisible:{boxShadow:"outline"}},linkTheme={baseStyle:baseStyle$q},{defineMultiStyleConfig:defineMultiStyleConfig$k,definePartsStyle:definePartsStyle$k}=createMultiStyleConfigHelpers(listAnatomy.keys),baseStyleIcon$3={marginEnd:"2",display:"inline",verticalAlign:"text-bottom"},baseStyle$p=definePartsStyle$k({icon:baseStyleIcon$3}),listTheme$1=defineMultiStyleConfig$k({baseStyle:baseStyle$p}),{defineMultiStyleConfig:defineMultiStyleConfig$j,definePartsStyle:definePartsStyle$j}=createMultiStyleConfigHelpers(menuAnatomy.keys),$bg$7=cssVar$1("menu-bg"),$shadow$2=cssVar$1("menu-shadow"),baseStyleList={[$bg$7.variable]:"#fff",[$shadow$2.variable]:"shadows.sm",_dark:{[$bg$7.variable]:"colors.gray.700",[$shadow$2.variable]:"shadows.dark-lg"},color:"inherit",minW:"3xs",py:"2",zIndex:1,borderRadius:"md",borderWidth:"1px",bg:$bg$7.reference,boxShadow:$shadow$2.reference},baseStyleItem={py:"1.5",px:"3",transitionProperty:"background",transitionDuration:"ultra-fast",transitionTimingFunction:"ease-in",_focus:{[$bg$7.variable]:"colors.gray.100",_dark:{[$bg$7.variable]:"colors.whiteAlpha.100"}},_active:{[$bg$7.variable]:"colors.gray.200",_dark:{[$bg$7.variable]:"colors.whiteAlpha.200"}},_expanded:{[$bg$7.variable]:"colors.gray.100",_dark:{[$bg$7.variable]:"colors.whiteAlpha.100"}},_disabled:{opacity:.4,cursor:"not-allowed"},bg:$bg$7.reference},baseStyleGroupTitle={mx:4,my:2,fontWeight:"semibold",fontSize:"sm"},baseStyleIcon$2={display:"inline-flex",alignItems:"center",justifyContent:"center",flexShrink:0},baseStyleCommand={opacity:.6},baseStyleDivider={border:0,borderBottom:"1px solid",borderColor:"inherit",my:"2",opacity:.6},baseStyleButton$1={transitionProperty:"common",transitionDuration:"normal"},baseStyle$o=definePartsStyle$j({button:baseStyleButton$1,list:baseStyleList,item:baseStyleItem,groupTitle:baseStyleGroupTitle,icon:baseStyleIcon$2,command:baseStyleCommand,divider:baseStyleDivider}),menuTheme=defineMultiStyleConfig$j({baseStyle:baseStyle$o}),{defineMultiStyleConfig:defineMultiStyleConfig$i,definePartsStyle:definePartsStyle$i}=createMultiStyleConfigHelpers(modalAnatomy.keys),$bg$6=cssVar$1("modal-bg"),$shadow$1=cssVar$1("modal-shadow"),baseStyleOverlay$1={bg:"blackAlpha.600",zIndex:"modal"},baseStyleDialogContainer$1=a=>{const{isCentered:_,scrollBehavior:$}=a;return{display:"flex",zIndex:"modal",justifyContent:"center",alignItems:_?"center":"flex-start",overflow:$==="inside"?"hidden":"auto",overscrollBehaviorY:"none"}},baseStyleDialog$1=a=>{const{isCentered:_,scrollBehavior:$}=a;return{borderRadius:"md",color:"inherit",my:_?"auto":"16",mx:_?"auto":void 0,zIndex:"modal",maxH:$==="inside"?"calc(100% - 7.5rem)":void 0,[$bg$6.variable]:"colors.white",[$shadow$1.variable]:"shadows.lg",_dark:{[$bg$6.variable]:"colors.gray.700",[$shadow$1.variable]:"shadows.dark-lg"},bg:$bg$6.reference,boxShadow:$shadow$1.reference}},baseStyleHeader$2={px:"6",py:"4",fontSize:"xl",fontWeight:"semibold"},baseStyleCloseButton$2={position:"absolute",top:"2",insetEnd:"3"},baseStyleBody$2=a=>{const{scrollBehavior:_}=a;return{px:"6",py:"2",flex:"1",overflow:_==="inside"?"auto":void 0}},baseStyleFooter$2={px:"6",py:"4"},baseStyle$n=definePartsStyle$i(a=>({overlay:baseStyleOverlay$1,dialogContainer:runIfFn$1(baseStyleDialogContainer$1,a),dialog:runIfFn$1(baseStyleDialog$1,a),header:baseStyleHeader$2,closeButton:baseStyleCloseButton$2,body:runIfFn$1(baseStyleBody$2,a),footer:baseStyleFooter$2}));function getSize$3(a){return definePartsStyle$i(a==="full"?{dialog:{maxW:"100vw",minH:"$100vh",my:"0",borderRadius:"0"}}:{dialog:{maxW:a}})}var sizes$a={xs:getSize$3("xs"),sm:getSize$3("sm"),md:getSize$3("md"),lg:getSize$3("lg"),xl:getSize$3("xl"),"2xl":getSize$3("2xl"),"3xl":getSize$3("3xl"),"4xl":getSize$3("4xl"),"5xl":getSize$3("5xl"),"6xl":getSize$3("6xl"),full:getSize$3("full")},modalTheme$1=defineMultiStyleConfig$i({baseStyle:baseStyle$n,sizes:sizes$a,defaultProps:{size:"md"}}),{defineMultiStyleConfig:defineMultiStyleConfig$h,definePartsStyle:definePartsStyle$h}=createMultiStyleConfigHelpers(numberInputAnatomy.keys),$stepperWidth=cssVar("number-input-stepper-width"),$inputPadding=cssVar("number-input-input-padding"),inputPaddingValue=calc($stepperWidth).add("0.5rem").toString(),$bg$5=cssVar("number-input-bg"),$fg$3=cssVar("number-input-color"),$border$2=cssVar("number-input-border-color"),baseStyleRoot={[$stepperWidth.variable]:"sizes.6",[$inputPadding.variable]:inputPaddingValue},baseStyleField=a=>{var _,$;return($=(_=runIfFn$1(inputTheme.baseStyle,a))==null?void 0:_.field)!=null?$:{}},baseStyleStepperGroup={width:$stepperWidth.reference},baseStyleStepper={borderStart:"1px solid",borderStartColor:$border$2.reference,color:$fg$3.reference,bg:$bg$5.reference,[$fg$3.variable]:"colors.chakra-body-text",[$border$2.variable]:"colors.chakra-border-color",_dark:{[$fg$3.variable]:"colors.whiteAlpha.800",[$border$2.variable]:"colors.whiteAlpha.300"},_active:{[$bg$5.variable]:"colors.gray.200",_dark:{[$bg$5.variable]:"colors.whiteAlpha.300"}},_disabled:{opacity:.4,cursor:"not-allowed"}},baseStyle$m=definePartsStyle$h(a=>{var _;return{root:baseStyleRoot,field:(_=runIfFn$1(baseStyleField,a))!=null?_:{},stepperGroup:baseStyleStepperGroup,stepper:baseStyleStepper}});function getSize$2(a){var _,$,j;const et=(_=inputTheme.sizes)==null?void 0:_[a],tt={lg:"md",md:"md",sm:"sm",xs:"sm"},rt=(j=($=et.field)==null?void 0:$.fontSize)!=null?j:"md",nt=typography_default.fontSizes[rt];return definePartsStyle$h({field:{...et.field,paddingInlineEnd:$inputPadding.reference,verticalAlign:"top"},stepper:{fontSize:calc(nt).multiply(.75).toString(),_first:{borderTopEndRadius:tt[a]},_last:{borderBottomEndRadius:tt[a],mt:"-1px",borderTopWidth:1}}})}var sizes$9={xs:getSize$2("xs"),sm:getSize$2("sm"),md:getSize$2("md"),lg:getSize$2("lg")},numberInputTheme=defineMultiStyleConfig$h({baseStyle:baseStyle$m,sizes:sizes$9,variants:inputTheme.variants,defaultProps:inputTheme.defaultProps}),_a$5,baseStyle$l={...(_a$5=inputTheme.baseStyle)==null?void 0:_a$5.field,textAlign:"center"},sizes$8={lg:{fontSize:"lg",w:12,h:12,borderRadius:"md"},md:{fontSize:"md",w:10,h:10,borderRadius:"md"},sm:{fontSize:"sm",w:8,h:8,borderRadius:"sm"},xs:{fontSize:"xs",w:6,h:6,borderRadius:"sm"}},_a2,_b,variants$a={outline:a=>{var _,$,j;return(j=($=runIfFn$1((_=inputTheme.variants)==null?void 0:_.outline,a))==null?void 0:$.field)!=null?j:{}},flushed:a=>{var _,$,j;return(j=($=runIfFn$1((_=inputTheme.variants)==null?void 0:_.flushed,a))==null?void 0:$.field)!=null?j:{}},filled:a=>{var _,$,j;return(j=($=runIfFn$1((_=inputTheme.variants)==null?void 0:_.filled,a))==null?void 0:$.field)!=null?j:{}},unstyled:(_b=(_a2=inputTheme.variants)==null?void 0:_a2.unstyled.field)!=null?_b:{}},pinInputTheme={baseStyle:baseStyle$l,sizes:sizes$8,variants:variants$a,defaultProps:inputTheme.defaultProps},{defineMultiStyleConfig:defineMultiStyleConfig$g,definePartsStyle:definePartsStyle$g}=createMultiStyleConfigHelpers(popoverAnatomy.keys),$popperBg=cssVar("popper-bg"),$arrowBg=cssVar("popper-arrow-bg"),$arrowShadowColor=cssVar("popper-arrow-shadow-color"),baseStylePopper={zIndex:10},baseStyleContent={[$popperBg.variable]:"colors.white",bg:$popperBg.reference,[$arrowBg.variable]:$popperBg.reference,[$arrowShadowColor.variable]:"colors.gray.200",_dark:{[$popperBg.variable]:"colors.gray.700",[$arrowShadowColor.variable]:"colors.whiteAlpha.300"},width:"xs",border:"1px solid",borderColor:"inherit",borderRadius:"md",boxShadow:"sm",zIndex:"inherit",_focusVisible:{outline:0,boxShadow:"outline"}},baseStyleHeader$1={px:3,py:2,borderBottomWidth:"1px"},baseStyleBody$1={px:3,py:2},baseStyleFooter$1={px:3,py:2,borderTopWidth:"1px"},baseStyleCloseButton$1={position:"absolute",borderRadius:"md",top:1,insetEnd:2,padding:2},baseStyle$k=definePartsStyle$g({popper:baseStylePopper,content:baseStyleContent,header:baseStyleHeader$1,body:baseStyleBody$1,footer:baseStyleFooter$1,closeButton:baseStyleCloseButton$1}),popoverTheme=defineMultiStyleConfig$g({baseStyle:baseStyle$k}),{definePartsStyle:definePartsStyle$f,defineMultiStyleConfig:defineMultiStyleConfig$f}=createMultiStyleConfigHelpers(drawerAnatomy.keys),$bg$4=cssVar$1("drawer-bg"),$bs=cssVar$1("drawer-box-shadow");function getSize$1(a){return definePartsStyle$f(a==="full"?{dialog:{maxW:"100vw",h:"100vh"}}:{dialog:{maxW:a}})}var baseStyleOverlay={bg:"blackAlpha.600",zIndex:"modal"},baseStyleDialogContainer={display:"flex",zIndex:"modal",justifyContent:"center"},baseStyleDialog=a=>{const{isFullHeight:_}=a;return{..._&&{height:"100vh"},zIndex:"modal",maxH:"100vh",color:"inherit",[$bg$4.variable]:"colors.white",[$bs.variable]:"shadows.lg",_dark:{[$bg$4.variable]:"colors.gray.700",[$bs.variable]:"shadows.dark-lg"},bg:$bg$4.reference,boxShadow:$bs.reference}},baseStyleHeader={px:"6",py:"4",fontSize:"xl",fontWeight:"semibold"},baseStyleCloseButton={position:"absolute",top:"2",insetEnd:"3"},baseStyleBody={px:"6",py:"2",flex:"1",overflow:"auto"},baseStyleFooter={px:"6",py:"4"},baseStyle$j=definePartsStyle$f(a=>({overlay:baseStyleOverlay,dialogContainer:baseStyleDialogContainer,dialog:runIfFn$1(baseStyleDialog,a),header:baseStyleHeader,closeButton:baseStyleCloseButton,body:baseStyleBody,footer:baseStyleFooter})),sizes$7={xs:getSize$1("xs"),sm:getSize$1("md"),md:getSize$1("lg"),lg:getSize$1("2xl"),xl:getSize$1("4xl"),full:getSize$1("full")},drawerTheme$1=defineMultiStyleConfig$f({baseStyle:baseStyle$j,sizes:sizes$7,defaultProps:{size:"xs"}}),{definePartsStyle:definePartsStyle$e,defineMultiStyleConfig:defineMultiStyleConfig$e}=createMultiStyleConfigHelpers(editableAnatomy.keys),baseStylePreview={borderRadius:"md",py:"1",transitionProperty:"common",transitionDuration:"normal"},baseStyleInput={borderRadius:"md",py:"1",transitionProperty:"common",transitionDuration:"normal",width:"full",_focusVisible:{boxShadow:"outline"},_placeholder:{opacity:.6}},baseStyleTextarea={borderRadius:"md",py:"1",transitionProperty:"common",transitionDuration:"normal",width:"full",_focusVisible:{boxShadow:"outline"},_placeholder:{opacity:.6}},baseStyle$i=definePartsStyle$e({preview:baseStylePreview,input:baseStyleInput,textarea:baseStyleTextarea}),editableTheme=defineMultiStyleConfig$e({baseStyle:baseStyle$i}),{definePartsStyle:definePartsStyle$d,defineMultiStyleConfig:defineMultiStyleConfig$d}=createMultiStyleConfigHelpers(formAnatomy.keys),$fg$2=cssVar$1("form-control-color"),baseStyleRequiredIndicator={marginStart:"1",[$fg$2.variable]:"colors.red.500",_dark:{[$fg$2.variable]:"colors.red.300"},color:$fg$2.reference},baseStyleHelperText={mt:"2",[$fg$2.variable]:"colors.gray.600",_dark:{[$fg$2.variable]:"colors.whiteAlpha.600"},color:$fg$2.reference,lineHeight:"normal",fontSize:"sm"},baseStyle$h=definePartsStyle$d({container:{width:"100%",position:"relative"},requiredIndicator:baseStyleRequiredIndicator,helperText:baseStyleHelperText}),formTheme=defineMultiStyleConfig$d({baseStyle:baseStyle$h}),{definePartsStyle:definePartsStyle$c,defineMultiStyleConfig:defineMultiStyleConfig$c}=createMultiStyleConfigHelpers(formErrorAnatomy.keys),$fg$1=cssVar$1("form-error-color"),baseStyleText={[$fg$1.variable]:"colors.red.500",_dark:{[$fg$1.variable]:"colors.red.300"},color:$fg$1.reference,mt:"2",fontSize:"sm",lineHeight:"normal"},baseStyleIcon$1={marginEnd:"0.5em",[$fg$1.variable]:"colors.red.500",_dark:{[$fg$1.variable]:"colors.red.300"},color:$fg$1.reference},baseStyle$g=definePartsStyle$c({text:baseStyleText,icon:baseStyleIcon$1}),formErrorTheme=defineMultiStyleConfig$c({baseStyle:baseStyle$g}),baseStyle$f={fontSize:"md",marginEnd:"3",mb:"2",fontWeight:"medium",transitionProperty:"common",transitionDuration:"normal",opacity:1,_disabled:{opacity:.4}},formLabelTheme={baseStyle:baseStyle$f},baseStyle$e={fontFamily:"heading",fontWeight:"bold"},sizes$6={"4xl":{fontSize:["6xl",null,"7xl"],lineHeight:1},"3xl":{fontSize:["5xl",null,"6xl"],lineHeight:1},"2xl":{fontSize:["4xl",null,"5xl"],lineHeight:[1.2,null,1]},xl:{fontSize:["3xl",null,"4xl"],lineHeight:[1.33,null,1.2]},lg:{fontSize:["2xl",null,"3xl"],lineHeight:[1.33,null,1.2]},md:{fontSize:"xl",lineHeight:1.2},sm:{fontSize:"md",lineHeight:1.2},xs:{fontSize:"sm",lineHeight:1.2}},headingTheme={baseStyle:baseStyle$e,sizes:sizes$6,defaultProps:{size:"xl"}},{defineMultiStyleConfig:defineMultiStyleConfig$b,definePartsStyle:definePartsStyle$b}=createMultiStyleConfigHelpers(breadcrumbAnatomy.keys),$decor=cssVar$1("breadcrumb-link-decor"),baseStyleLink={transitionProperty:"common",transitionDuration:"fast",transitionTimingFunction:"ease-out",outline:"none",color:"inherit",textDecoration:$decor.reference,[$decor.variable]:"none","&:not([aria-current=page])":{cursor:"pointer",_hover:{[$decor.variable]:"underline"},_focusVisible:{boxShadow:"outline"}}},baseStyle$d=definePartsStyle$b({link:baseStyleLink}),breadcrumbTheme=defineMultiStyleConfig$b({baseStyle:baseStyle$d}),baseStyle$c={lineHeight:"1.2",borderRadius:"md",fontWeight:"semibold",transitionProperty:"common",transitionDuration:"normal",_focusVisible:{boxShadow:"outline"},_disabled:{opacity:.4,cursor:"not-allowed",boxShadow:"none"},_hover:{_disabled:{bg:"initial"}}},variantGhost=a=>{const{colorScheme:_,theme:$}=a;if(_==="gray")return{color:mode("gray.800","whiteAlpha.900")(a),_hover:{bg:mode("gray.100","whiteAlpha.200")(a)},_active:{bg:mode("gray.200","whiteAlpha.300")(a)}};const j=transparentize(`${_}.200`,.12)($),et=transparentize(`${_}.200`,.24)($);return{color:mode(`${_}.600`,`${_}.200`)(a),bg:"transparent",_hover:{bg:mode(`${_}.50`,j)(a)},_active:{bg:mode(`${_}.100`,et)(a)}}},variantOutline=a=>{const{colorScheme:_}=a,$=mode("gray.200","whiteAlpha.300")(a);return{border:"1px solid",borderColor:_==="gray"?$:"currentColor",".chakra-button__group[data-attached][data-orientation=horizontal] > &:not(:last-of-type)":{marginEnd:"-1px"},".chakra-button__group[data-attached][data-orientation=vertical] > &:not(:last-of-type)":{marginBottom:"-1px"},...runIfFn$1(variantGhost,a)}},accessibleColorMap={yellow:{bg:"yellow.400",color:"black",hoverBg:"yellow.500",activeBg:"yellow.600"},cyan:{bg:"cyan.400",color:"black",hoverBg:"cyan.500",activeBg:"cyan.600"}},variantSolid$2=a=>{var _;const{colorScheme:$}=a;if($==="gray"){const it=mode("gray.100","whiteAlpha.200")(a);return{bg:it,color:mode("gray.800","whiteAlpha.900")(a),_hover:{bg:mode("gray.200","whiteAlpha.300")(a),_disabled:{bg:it}},_active:{bg:mode("gray.300","whiteAlpha.400")(a)}}}const{bg:j=`${$}.500`,color:et="white",hoverBg:tt=`${$}.600`,activeBg:rt=`${$}.700`}=(_=accessibleColorMap[$])!=null?_:{},nt=mode(j,`${$}.200`)(a);return{bg:nt,color:mode(et,"gray.800")(a),_hover:{bg:mode(tt,`${$}.300`)(a),_disabled:{bg:nt}},_active:{bg:mode(rt,`${$}.400`)(a)}}},variantLink=a=>{const{colorScheme:_}=a;return{padding:0,height:"auto",lineHeight:"normal",verticalAlign:"baseline",color:mode(`${_}.500`,`${_}.200`)(a),_hover:{textDecoration:"underline",_disabled:{textDecoration:"none"}},_active:{color:mode(`${_}.700`,`${_}.500`)(a)}}},variantUnstyled={bg:"none",color:"inherit",display:"inline",lineHeight:"inherit",m:"0",p:"0"},variants$9={ghost:variantGhost,outline:variantOutline,solid:variantSolid$2,link:variantLink,unstyled:variantUnstyled},sizes$5={lg:{h:"12",minW:"12",fontSize:"lg",px:"6"},md:{h:"10",minW:"10",fontSize:"md",px:"4"},sm:{h:"8",minW:"8",fontSize:"sm",px:"3"},xs:{h:"6",minW:"6",fontSize:"xs",px:"2"}},buttonTheme$1={baseStyle:baseStyle$c,variants:variants$9,sizes:sizes$5,defaultProps:{variant:"solid",size:"md",colorScheme:"gray"}},{definePartsStyle:definePartsStyle$a,defineMultiStyleConfig:defineMultiStyleConfig$a}=createMultiStyleConfigHelpers(cardAnatomy.keys),$bg$3=cssVar$1("card-bg"),$padding=cssVar$1("card-padding"),$shadow=cssVar$1("card-shadow"),$radius=cssVar$1("card-radius"),$border$1=cssVar$1("card-border-width","0"),$borderColor=cssVar$1("card-border-color"),baseStyle$b=definePartsStyle$a({container:{[$bg$3.variable]:"colors.chakra-body-bg",backgroundColor:$bg$3.reference,boxShadow:$shadow.reference,borderRadius:$radius.reference,color:"chakra-body-text",borderWidth:$border$1.reference,borderColor:$borderColor.reference},body:{padding:$padding.reference,flex:"1 1 0%"},header:{padding:$padding.reference},footer:{padding:$padding.reference}}),sizes$4={sm:definePartsStyle$a({container:{[$radius.variable]:"radii.base",[$padding.variable]:"space.3"}}),md:definePartsStyle$a({container:{[$radius.variable]:"radii.md",[$padding.variable]:"space.5"}}),lg:definePartsStyle$a({container:{[$radius.variable]:"radii.xl",[$padding.variable]:"space.7"}})},variants$8={elevated:definePartsStyle$a({container:{[$shadow.variable]:"shadows.base",_dark:{[$bg$3.variable]:"colors.gray.700"}}}),outline:definePartsStyle$a({container:{[$border$1.variable]:"1px",[$borderColor.variable]:"colors.chakra-border-color"}}),filled:definePartsStyle$a({container:{[$bg$3.variable]:"colors.chakra-subtle-bg"}}),unstyled:{body:{[$padding.variable]:0},header:{[$padding.variable]:0},footer:{[$padding.variable]:0}}},cardTheme=defineMultiStyleConfig$a({baseStyle:baseStyle$b,variants:variants$8,sizes:sizes$4,defaultProps:{variant:"elevated",size:"md"}}),$size$1=cssVar("close-button-size"),$bg$2=cssVar("close-button-bg"),baseStyle$a={w:[$size$1.reference],h:[$size$1.reference],borderRadius:"md",transitionProperty:"common",transitionDuration:"normal",_disabled:{opacity:.4,cursor:"not-allowed",boxShadow:"none"},_hover:{[$bg$2.variable]:"colors.blackAlpha.100",_dark:{[$bg$2.variable]:"colors.whiteAlpha.100"}},_active:{[$bg$2.variable]:"colors.blackAlpha.200",_dark:{[$bg$2.variable]:"colors.whiteAlpha.200"}},_focusVisible:{boxShadow:"outline"},bg:$bg$2.reference},sizes$3={lg:{[$size$1.variable]:"sizes.10",fontSize:"md"},md:{[$size$1.variable]:"sizes.8",fontSize:"xs"},sm:{[$size$1.variable]:"sizes.6",fontSize:"2xs"}},closeButtonTheme={baseStyle:baseStyle$a,sizes:sizes$3,defaultProps:{size:"md"}},{variants:variants$7,defaultProps:defaultProps$1}=badgeTheme,baseStyle$9={fontFamily:"mono",fontSize:"sm",px:"0.2em",borderRadius:"sm",bg:vars.bg.reference,color:vars.color.reference,boxShadow:vars.shadow.reference},codeTheme={baseStyle:baseStyle$9,variants:variants$7,defaultProps:defaultProps$1},baseStyle$8={w:"100%",mx:"auto",maxW:"prose",px:"4"},containerTheme={baseStyle:baseStyle$8},baseStyle$7={opacity:.6,borderColor:"inherit"},variantSolid$1={borderStyle:"solid"},variantDashed={borderStyle:"dashed"},variants$6={solid:variantSolid$1,dashed:variantDashed},dividerTheme={baseStyle:baseStyle$7,variants:variants$6,defaultProps:{variant:"solid"}},{definePartsStyle:definePartsStyle$9,defineMultiStyleConfig:defineMultiStyleConfig$9}=createMultiStyleConfigHelpers(accordionAnatomy.keys),baseStyleContainer$1={borderTopWidth:"1px",borderColor:"inherit",_last:{borderBottomWidth:"1px"}},baseStyleButton={transitionProperty:"common",transitionDuration:"normal",fontSize:"md",_focusVisible:{boxShadow:"outline"},_hover:{bg:"blackAlpha.50"},_disabled:{opacity:.4,cursor:"not-allowed"},px:"4",py:"2"},baseStylePanel={pt:"2",px:"4",pb:"5"},baseStyleIcon={fontSize:"1.25em"},baseStyle$6=definePartsStyle$9({container:baseStyleContainer$1,button:baseStyleButton,panel:baseStylePanel,icon:baseStyleIcon}),accordionTheme=defineMultiStyleConfig$9({baseStyle:baseStyle$6}),{definePartsStyle:definePartsStyle$8,defineMultiStyleConfig:defineMultiStyleConfig$8}=createMultiStyleConfigHelpers(alertAnatomy.keys),$fg=cssVar$1("alert-fg"),$bg$1=cssVar$1("alert-bg"),baseStyle$5=definePartsStyle$8({container:{bg:$bg$1.reference,px:"4",py:"3"},title:{fontWeight:"bold",lineHeight:"6",marginEnd:"2"},description:{lineHeight:"6"},icon:{color:$fg.reference,flexShrink:0,marginEnd:"3",w:"5",h:"6"},spinner:{color:$fg.reference,flexShrink:0,marginEnd:"3",w:"5",h:"5"}});function getBg(a){const{theme:_,colorScheme:$}=a,j=transparentize(`${$}.200`,.16)(_);return{light:`colors.${$}.100`,dark:j}}var variantSubtle=definePartsStyle$8(a=>{const{colorScheme:_}=a,$=getBg(a);return{container:{[$fg.variable]:`colors.${_}.600`,[$bg$1.variable]:$.light,_dark:{[$fg.variable]:`colors.${_}.200`,[$bg$1.variable]:$.dark}}}}),variantLeftAccent=definePartsStyle$8(a=>{const{colorScheme:_}=a,$=getBg(a);return{container:{[$fg.variable]:`colors.${_}.600`,[$bg$1.variable]:$.light,_dark:{[$fg.variable]:`colors.${_}.200`,[$bg$1.variable]:$.dark},paddingStart:"3",borderStartWidth:"4px",borderStartColor:$fg.reference}}}),variantTopAccent=definePartsStyle$8(a=>{const{colorScheme:_}=a,$=getBg(a);return{container:{[$fg.variable]:`colors.${_}.600`,[$bg$1.variable]:$.light,_dark:{[$fg.variable]:`colors.${_}.200`,[$bg$1.variable]:$.dark},pt:"2",borderTopWidth:"4px",borderTopColor:$fg.reference}}}),variantSolid=definePartsStyle$8(a=>{const{colorScheme:_}=a;return{container:{[$fg.variable]:"colors.white",[$bg$1.variable]:`colors.${_}.600`,_dark:{[$fg.variable]:"colors.gray.900",[$bg$1.variable]:`colors.${_}.200`},color:$fg.reference}}}),variants$5={subtle:variantSubtle,"left-accent":variantLeftAccent,"top-accent":variantTopAccent,solid:variantSolid},alertTheme=defineMultiStyleConfig$8({baseStyle:baseStyle$5,variants:variants$5,defaultProps:{variant:"subtle",colorScheme:"blue"}}),{definePartsStyle:definePartsStyle$7,defineMultiStyleConfig:defineMultiStyleConfig$7}=createMultiStyleConfigHelpers(avatarAnatomy.keys),$border=cssVar$1("avatar-border-color"),$bg=cssVar$1("avatar-bg"),$fs=cssVar$1("avatar-font-size"),$size=cssVar$1("avatar-size"),baseStyleBadge={borderRadius:"full",border:"0.2em solid",borderColor:$border.reference,[$border.variable]:"white",_dark:{[$border.variable]:"colors.gray.800"}},baseStyleExcessLabel={bg:$bg.reference,fontSize:$fs.reference,width:$size.reference,height:$size.reference,lineHeight:"1",[$bg.variable]:"colors.gray.200",_dark:{[$bg.variable]:"colors.whiteAlpha.400"}},baseStyleContainer=a=>{const{name:_,theme:$}=a,j=_?randomColor({string:_}):"colors.gray.400",et=isDark(j)($);let tt="white";return et||(tt="gray.800"),{bg:$bg.reference,fontSize:$fs.reference,color:tt,borderColor:$border.reference,verticalAlign:"top",width:$size.reference,height:$size.reference,"&:not([data-loaded])":{[$bg.variable]:j},[$border.variable]:"colors.white",_dark:{[$border.variable]:"colors.gray.800"}}},baseStyleLabel={fontSize:$fs.reference,lineHeight:"1"},baseStyle$4=definePartsStyle$7(a=>({badge:runIfFn$1(baseStyleBadge,a),excessLabel:runIfFn$1(baseStyleExcessLabel,a),container:runIfFn$1(baseStyleContainer,a),label:baseStyleLabel}));function getSize(a){const _=a!=="100%"?sizes_default[a]:void 0;return definePartsStyle$7({container:{[$size.variable]:_??a,[$fs.variable]:`calc(${_??a} / 2.5)`},excessLabel:{[$size.variable]:_??a,[$fs.variable]:`calc(${_??a} / 2.5)`}})}var sizes$2={"2xs":getSize(4),xs:getSize(6),sm:getSize(8),md:getSize(12),lg:getSize(16),xl:getSize(24),"2xl":getSize(32),full:getSize("100%")},avatarTheme=defineMultiStyleConfig$7({baseStyle:baseStyle$4,sizes:sizes$2,defaultProps:{size:"md"}}),components={Accordion:accordionTheme,Alert:alertTheme,Avatar:avatarTheme,Badge:badgeTheme,Breadcrumb:breadcrumbTheme,Button:buttonTheme$1,Checkbox:checkboxTheme$1,CloseButton:closeButtonTheme,Code:codeTheme,Container:containerTheme,Divider:dividerTheme,Drawer:drawerTheme$1,Editable:editableTheme,Form:formTheme,FormError:formErrorTheme,FormLabel:formLabelTheme,Heading:headingTheme,Input:inputTheme,Kbd:kbdTheme,Link:linkTheme,List:listTheme$1,Menu:menuTheme,Modal:modalTheme$1,NumberInput:numberInputTheme,PinInput:pinInputTheme,Popover:popoverTheme,Progress:progressTheme,Radio:radioTheme$1,Select:selectTheme,Skeleton:skeletonTheme,SkipLink:skipLinkTheme,Slider:sliderTheme,Spinner:spinnerTheme,Stat:statTheme,Switch:switchTheme$1,Table:tableTheme,Tabs:tabsTheme$1,Tag:tagTheme,Textarea:textareaTheme,Tooltip:tooltipTheme,Card:cardTheme,Stepper:stepperTheme},semanticTokens={colors:{"chakra-body-text":{_light:"gray.800",_dark:"whiteAlpha.900"},"chakra-body-bg":{_light:"white",_dark:"gray.800"},"chakra-border-color":{_light:"gray.200",_dark:"whiteAlpha.300"},"chakra-inverse-text":{_light:"white",_dark:"gray.800"},"chakra-subtle-bg":{_light:"gray.100",_dark:"gray.700"},"chakra-subtle-text":{_light:"gray.600",_dark:"gray.400"},"chakra-placeholder-color":{_light:"gray.500",_dark:"whiteAlpha.400"}}},styles={global:{body:{fontFamily:"body",color:"chakra-body-text",bg:"chakra-body-bg",transitionProperty:"background-color",transitionDuration:"normal",lineHeight:"base"},"*::placeholder":{color:"chakra-placeholder-color"},"*, *::before, &::after":{borderColor:"chakra-border-color"}}},direction="ltr",config$4={useSystemColorMode:!1,initialColorMode:"light",cssVarPrefix:"chakra"},theme$1={semanticTokens,direction,...foundations,components,styles,config:config$4};function isFunction$6(a){return typeof a=="function"}function pipe$2(...a){return _=>a.reduce(($,j)=>j($),_)}var createExtendTheme=a=>function(...$){let j=[...$],et=$[$.length-1];return isChakraTheme(et)&&j.length>1?j=j.slice(0,j.length-1):et=a,pipe$2(...j.map(tt=>rt=>isFunction$6(tt)?tt(rt):mergeThemeOverride(rt,tt)))(et)},extendTheme=createExtendTheme(theme$1);function mergeThemeOverride(...a){return mergeWith({},...a,mergeThemeCustomizer)}function mergeThemeCustomizer(a,_,$,j){if((isFunction$6(a)||isFunction$6(_))&&Object.prototype.hasOwnProperty.call(j,$))return(...et)=>{const tt=isFunction$6(a)?a(...et):a,rt=isFunction$6(_)?_(...et):_;return mergeWith({},tt,rt,mergeThemeCustomizer)}}function isElement$4(a){return a!=null&&typeof a=="object"&&"nodeType"in a&&a.nodeType===Node.ELEMENT_NODE}function getOwnerDocument$3(a){var _;return isElement$4(a)&&(_=a.ownerDocument)!=null?_:document}function canUseDOM$1(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var isBrowser$2=canUseDOM$1();function omit$5(a,_){const $={};return Object.keys(a).forEach(j=>{_.includes(j)||($[j]=a[j])}),$}function get$3(a,_,$,j){const et=typeof _=="string"?_.split("."):[_];for(j=0;j<et.length&&a;j+=1)a=a[et[j]];return a===void 0?$:a}var memoize=a=>{const _=new WeakMap;return(j,et,tt,rt)=>{if(typeof j>"u")return a(j,et,tt);_.has(j)||_.set(j,new Map);const nt=_.get(j);if(nt.has(et))return nt.get(et);const it=a(j,et,tt,rt);return nt.set(et,it),it}},memoizedGet=memoize(get$3);function objectFilter(a,_){const $={};return Object.keys(a).forEach(j=>{const et=a[j];_(et,j,a)&&($[j]=et)}),$}var filterUndefined=a=>objectFilter(a,_=>_!=null);function isFunction$5(a){return typeof a=="function"}function runIfFn(a,..._){return isFunction$5(a)?a(..._):a}function callAllHandlers(...a){return function($){a.some(j=>(j==null||j($),$==null?void 0:$.defaultPrevented))}}var hasElementType=typeof Element<"u",hasMap=typeof Map=="function",hasSet=typeof Set=="function",hasArrayBuffer=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function equal$1(a,_){if(a===_)return!0;if(a&&_&&typeof a=="object"&&typeof _=="object"){if(a.constructor!==_.constructor)return!1;var $,j,et;if(Array.isArray(a)){if($=a.length,$!=_.length)return!1;for(j=$;j--!==0;)if(!equal$1(a[j],_[j]))return!1;return!0}var tt;if(hasMap&&a instanceof Map&&_ instanceof Map){if(a.size!==_.size)return!1;for(tt=a.entries();!(j=tt.next()).done;)if(!_.has(j.value[0]))return!1;for(tt=a.entries();!(j=tt.next()).done;)if(!equal$1(j.value[1],_.get(j.value[0])))return!1;return!0}if(hasSet&&a instanceof Set&&_ instanceof Set){if(a.size!==_.size)return!1;for(tt=a.entries();!(j=tt.next()).done;)if(!_.has(j.value[0]))return!1;return!0}if(hasArrayBuffer&&ArrayBuffer.isView(a)&&ArrayBuffer.isView(_)){if($=a.length,$!=_.length)return!1;for(j=$;j--!==0;)if(a[j]!==_[j])return!1;return!0}if(a.constructor===RegExp)return a.source===_.source&&a.flags===_.flags;if(a.valueOf!==Object.prototype.valueOf&&typeof a.valueOf=="function"&&typeof _.valueOf=="function")return a.valueOf()===_.valueOf();if(a.toString!==Object.prototype.toString&&typeof a.toString=="function"&&typeof _.toString=="function")return a.toString()===_.toString();if(et=Object.keys(a),$=et.length,$!==Object.keys(_).length)return!1;for(j=$;j--!==0;)if(!Object.prototype.hasOwnProperty.call(_,et[j]))return!1;if(hasElementType&&a instanceof Element)return!1;for(j=$;j--!==0;)if(!((et[j]==="_owner"||et[j]==="__v"||et[j]==="__o")&&a.$$typeof)&&!equal$1(a[et[j]],_[et[j]]))return!1;return!0}return a!==a&&_!==_}var reactFastCompare=function(_,$){try{return equal$1(_,$)}catch(j){if((j.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw j}};const isEqual$2=getDefaultExportFromCjs$1(reactFastCompare);function useStyleConfigImpl(a,_={}){var $;const{styleConfig:j,...et}=_,{theme:tt,colorMode:rt}=useChakra(),nt=a?memoizedGet(tt,`components.${a}`):void 0,it=j||nt,st=mergeWith({theme:tt,colorMode:rt},($=it==null?void 0:it.defaultProps)!=null?$:{},filterUndefined(omit$5(et,["children"]))),ot=reactExports.useRef({});if(it){const ut=resolveStyleConfig(it)(st);isEqual$2(ot.current,ut)||(ot.current=ut)}return ot.current}function useStyleConfig(a,_={}){return useStyleConfigImpl(a,_)}function useMultiStyleConfig(a,_={}){return useStyleConfigImpl(a,_)}var allPropNames=new Set([...propNames,"textStyle","layerStyle","apply","noOfLines","focusBorderColor","errorBorderColor","as","__css","css","sx"]),validHTMLProps=new Set(["htmlWidth","htmlHeight","htmlSize","htmlTranslate"]);function shouldForwardProp(a){return validHTMLProps.has(a)||!allPropNames.has(a)}function assignAfter(a,..._){if(a==null)throw new TypeError("Cannot convert undefined or null to object");const $={...a};for(const j of _)if(j!=null)for(const et in j)Object.prototype.hasOwnProperty.call(j,et)&&(et in $&&delete $[et],$[et]=j[et]);return $}function compact$1(a){const _=Object.assign({},a);for(let $ in _)_[$]===void 0&&delete _[$];return _}function _extends$6(){return _extends$6=Object.assign?Object.assign.bind():function(a){for(var _=1;_<arguments.length;_++){var $=arguments[_];for(var j in $)Object.prototype.hasOwnProperty.call($,j)&&(a[j]=$[j])}return a},_extends$6.apply(this,arguments)}var reactPropsRegex=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,isPropValid=memoize$2(function(a){return reactPropsRegex.test(a)||a.charCodeAt(0)===111&&a.charCodeAt(1)===110&&a.charCodeAt(2)<91}),hyphenateRegex=/[A-Z]|^ms/g,animationRegex=/_EMO_([^_]+?)_([^]*?)_EMO_/g,isCustomProperty=function(_){return _.charCodeAt(1)===45},isProcessableValue=function(_){return _!=null&&typeof _!="boolean"},processStyleName=memoize$2(function(a){return isCustomProperty(a)?a:a.replace(hyphenateRegex,"-$&").toLowerCase()}),processStyleValue=function(_,$){switch(_){case"animation":case"animationName":if(typeof $=="string")return $.replace(animationRegex,function(j,et,tt){return cursor={name:et,styles:tt,next:cursor},et})}return unitlessKeys[_]!==1&&!isCustomProperty(_)&&typeof $=="number"&&$!==0?$+"px":$},noComponentSelectorMessage="Component selectors can only be used in conjunction with @emotion/babel-plugin, the swc Emotion plugin, or another Emotion-aware compiler transform.";function handleInterpolation(a,_,$){if($==null)return"";if($.__emotion_styles!==void 0)return $;switch(typeof $){case"boolean":return"";case"object":{if($.anim===1)return cursor={name:$.name,styles:$.styles,next:cursor},$.name;if($.styles!==void 0){var j=$.next;if(j!==void 0)for(;j!==void 0;)cursor={name:j.name,styles:j.styles,next:cursor},j=j.next;var et=$.styles+";";return et}return createStringFromObject(a,_,$)}case"function":{if(a!==void 0){var tt=cursor,rt=$(a);return cursor=tt,handleInterpolation(a,_,rt)}break}}if(_==null)return $;var nt=_[$];return nt!==void 0?nt:$}function createStringFromObject(a,_,$){var j="";if(Array.isArray($))for(var et=0;et<$.length;et++)j+=handleInterpolation(a,_,$[et])+";";else for(var tt in $){var rt=$[tt];if(typeof rt!="object")_!=null&&_[rt]!==void 0?j+=tt+"{"+_[rt]+"}":isProcessableValue(rt)&&(j+=processStyleName(tt)+":"+processStyleValue(tt,rt)+";");else if(Array.isArray(rt)&&typeof rt[0]=="string"&&(_==null||_[rt[0]]===void 0))for(var nt=0;nt<rt.length;nt++)isProcessableValue(rt[nt])&&(j+=processStyleName(tt)+":"+processStyleValue(tt,rt[nt])+";");else{var it=handleInterpolation(a,_,rt);switch(tt){case"animation":case"animationName":{j+=processStyleName(tt)+":"+it+";";break}default:j+=tt+"{"+it+"}"}}}return j}var labelPattern=/label:\s*([^\s;\n{]+)\s*(;|$)/g,cursor,serializeStyles=function(_,$,j){if(_.length===1&&typeof _[0]=="object"&&_[0]!==null&&_[0].styles!==void 0)return _[0];var et=!0,tt="";cursor=void 0;var rt=_[0];rt==null||rt.raw===void 0?(et=!1,tt+=handleInterpolation(j,$,rt)):tt+=rt[0];for(var nt=1;nt<_.length;nt++)tt+=handleInterpolation(j,$,_[nt]),et&&(tt+=rt[nt]);labelPattern.lastIndex=0;for(var it="",st;(st=labelPattern.exec(tt))!==null;)it+="-"+st[1];var ot=murmur2(tt)+it;return{name:ot,styles:tt,next:cursor}},testOmitPropsOnStringTag=isPropValid,testOmitPropsOnComponent=function(_){return _!=="theme"},getDefaultShouldForwardProp=function(_){return typeof _=="string"&&_.charCodeAt(0)>96?testOmitPropsOnStringTag:testOmitPropsOnComponent},composeShouldForwardProps=function(_,$,j){var et;if($){var tt=$.shouldForwardProp;et=_.__emotion_forwardProp&&tt?function(rt){return _.__emotion_forwardProp(rt)&&tt(rt)}:tt}return typeof et!="function"&&j&&(et=_.__emotion_forwardProp),et},Insertion=function(_){var $=_.cache,j=_.serialized,et=_.isStringTag;return registerStyles($,j,et),useInsertionEffectAlwaysWithSyncFallback(function(){return insertStyles($,j,et)}),null},createStyled=function a(_,$){var j=_.__emotion_real===_,et=j&&_.__emotion_base||_,tt,rt;$!==void 0&&(tt=$.label,rt=$.target);var nt=composeShouldForwardProps(_,$,j),it=nt||getDefaultShouldForwardProp(et),st=!it("as");return function(){var ot=arguments,at=j&&_.__emotion_styles!==void 0?_.__emotion_styles.slice(0):[];if(tt!==void 0&&at.push("label:"+tt+";"),ot[0]==null||ot[0].raw===void 0)at.push.apply(at,ot);else{at.push(ot[0][0]);for(var ut=ot.length,ht=1;ht<ut;ht++)at.push(ot[ht],ot[0][ht])}var yt=withEmotionCache(function(wt,Ct,Pt){var Tt=st&&wt.as||et,Mt="",Lt=[],Dt=wt;if(wt.theme==null){Dt={};for(var Ut in wt)Dt[Ut]=wt[Ut];Dt.theme=reactExports.useContext(ThemeContext)}typeof wt.className=="string"?Mt=getRegisteredStyles(Ct.registered,Lt,wt.className):wt.className!=null&&(Mt=wt.className+" ");var Ot=serializeStyles(at.concat(Lt),Ct.registered,Dt);Mt+=Ct.key+"-"+Ot.name,rt!==void 0&&(Mt+=" "+rt);var It=st&&nt===void 0?getDefaultShouldForwardProp(Tt):it,Bt={};for(var Ft in wt)st&&Ft==="as"||It(Ft)&&(Bt[Ft]=wt[Ft]);return Bt.className=Mt,Bt.ref=Pt,reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(Insertion,{cache:Ct,serialized:Ot,isStringTag:typeof Tt=="string"}),reactExports.createElement(Tt,Bt))});return yt.displayName=tt!==void 0?tt:"Styled("+(typeof et=="string"?et:et.displayName||et.name||"Component")+")",yt.defaultProps=_.defaultProps,yt.__emotion_real=yt,yt.__emotion_base=et,yt.__emotion_styles=at,yt.__emotion_forwardProp=nt,Object.defineProperty(yt,"toString",{value:function(){return"."+rt}}),yt.withComponent=function(wt,Ct){return a(wt,_extends$6({},$,Ct,{shouldForwardProp:composeShouldForwardProps(yt,Ct,!0)})).apply(void 0,at)},yt}},tags=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],newStyled=createStyled.bind();tags.forEach(function(a){newStyled[a]=newStyled(a)});var _a$4,emotion_styled=(_a$4=newStyled.default)!=null?_a$4:newStyled,toCSSObject=({baseStyle:a})=>_=>{const{theme:$,css:j,__css:et,sx:tt,...rt}=_,nt=objectFilter(rt,(at,ut)=>isStyleProp(ut)),it=runIfFn(a,_),st=assignAfter({},et,it,filterUndefined(nt),tt),ot=css(st)(_.theme);return j?[ot,j]:ot};function styled(a,_){const{baseStyle:$,...j}=_??{};j.shouldForwardProp||(j.shouldForwardProp=shouldForwardProp);const et=toCSSObject({baseStyle:$}),tt=emotion_styled(a,j)(et);return React$2.forwardRef(function(it,st){const{colorMode:ot,forced:at}=useColorMode();return React$2.createElement(tt,{ref:st,"data-theme":at?ot:void 0,...it})})}function factory(){const a=new Map;return new Proxy(styled,{apply(_,$,j){return styled(...j)},get(_,$){return a.has($)||a.set($,styled($)),a.get($)}})}var chakra=factory();function forwardRef(a){return reactExports.forwardRef(a)}function createContext(a={}){const{strict:_=!0,errorMessage:$="useContext: `context` is undefined. Seems you forgot to wrap component within the Provider",name:j}=a,et=reactExports.createContext(void 0);et.displayName=j;function tt(){var rt;const nt=reactExports.useContext(et);if(!nt&&_){const it=new Error($);throw it.name="ContextError",(rt=Error.captureStackTrace)==null||rt.call(Error,it,tt),it}return nt}return[et.Provider,tt,et]}function ThemeProvider(a){const{cssVarsRoot:_,theme:$,children:j}=a,et=reactExports.useMemo(()=>toCSSVar($),[$]);return jsxRuntimeExports.jsxs(ThemeProvider$1,{theme:et,children:[jsxRuntimeExports.jsx(CSSVars,{root:_}),j]})}function CSSVars({root:a=":host, :root"}){const _=[a,"[data-theme]"].join(",");return jsxRuntimeExports.jsx(Global,{styles:$=>({[_]:$.__cssVars})})}createContext({name:"StylesContext",errorMessage:"useStyles: `styles` is undefined. Seems you forgot to wrap the components in `<StylesProvider />` "});function createStylesContext(a){return createContext({name:`${a}StylesContext`,errorMessage:`useStyles: "styles" is undefined. Seems you forgot to wrap the components in "<${a} />" `})}function GlobalStyle(){const{colorMode:a}=useColorMode();return jsxRuntimeExports.jsx(Global,{styles:_=>{const $=memoizedGet(_,"styles.global"),j=runIfFn($,{theme:_,colorMode:a});return j?css(j)(_):void 0}})}var EnvironmentContext=reactExports.createContext({getDocument(){return document},getWindow(){return window}});EnvironmentContext.displayName="EnvironmentContext";function useEnvironment({defer:a}={}){const[,_]=reactExports.useReducer($=>$+1,0);return useSafeLayoutEffect$2(()=>{a&&_()},[a]),reactExports.useContext(EnvironmentContext)}function EnvironmentProvider(a){const{children:_,environment:$,disabled:j}=a,et=reactExports.useRef(null),tt=reactExports.useMemo(()=>$||{getDocument:()=>{var nt,it;return(it=(nt=et.current)==null?void 0:nt.ownerDocument)!=null?it:document},getWindow:()=>{var nt,it;return(it=(nt=et.current)==null?void 0:nt.ownerDocument.defaultView)!=null?it:window}},[$]),rt=!j||!$;return jsxRuntimeExports.jsxs(EnvironmentContext.Provider,{value:tt,children:[_,rt&&jsxRuntimeExports.jsx("span",{id:"__chakra_env",hidden:!0,ref:et})]})}EnvironmentProvider.displayName="EnvironmentProvider";var ChakraProvider$1=a=>{const{children:_,colorModeManager:$,portalZIndex:j,resetScope:et,resetCSS:tt=!0,theme:rt={},environment:nt,cssVarsRoot:it,disableEnvironment:st,disableGlobalStyle:ot}=a,at=jsxRuntimeExports.jsx(EnvironmentProvider,{environment:nt,disabled:st,children:_});return jsxRuntimeExports.jsx(ThemeProvider,{theme:rt,cssVarsRoot:it,children:jsxRuntimeExports.jsxs(ColorModeProvider,{colorModeManager:$,options:rt.config,children:[tt?jsxRuntimeExports.jsx(CSSReset,{scope:et}):jsxRuntimeExports.jsx(CSSPolyfill,{}),!ot&&jsxRuntimeExports.jsx(GlobalStyle,{}),j?jsxRuntimeExports.jsx(PortalManager,{zIndex:j,children:at}):at]})})},findById=(a,_)=>a.find($=>$.id===_);function findToast(a,_){const $=getToastPosition(a,_),j=$?a[$].findIndex(et=>et.id===_):-1;return{position:$,index:j}}function getToastPosition(a,_){for(const[$,j]of Object.entries(a))if(findById(j,_))return $}function getToastStyle(a){const _=a.includes("right"),$=a.includes("left");let j="center";return _&&(j="flex-end"),$&&(j="flex-start"),{display:"flex",flexDirection:"column",alignItems:j}}function getToastListStyle(a){const $=a==="top"||a==="bottom"?"0 auto":void 0,j=a.includes("top")?"env(safe-area-inset-top, 0px)":void 0,et=a.includes("bottom")?"env(safe-area-inset-bottom, 0px)":void 0,tt=a.includes("left")?void 0:"env(safe-area-inset-right, 0px)",rt=a.includes("right")?void 0:"env(safe-area-inset-left, 0px)";return{position:"fixed",zIndex:"var(--toast-z-index, 5500)",pointerEvents:"none",display:"flex",flexDirection:"column",margin:$,top:j,bottom:et,right:tt,left:rt}}function useCallbackRef$2(a,_=[]){const $=reactExports.useRef(a);return reactExports.useEffect(()=>{$.current=a}),reactExports.useCallback((...j)=>{var et;return(et=$.current)==null?void 0:et.call($,...j)},_)}function useTimeout(a,_){const $=useCallbackRef$2(a);reactExports.useEffect(()=>{if(_==null)return;let j=null;return j=window.setTimeout(()=>{$()},_),()=>{j&&window.clearTimeout(j)}},[_,$])}function useUpdateEffect(a,_){const $=reactExports.useRef(!1),j=reactExports.useRef(!1);reactExports.useEffect(()=>{if($.current&&j.current)return a();j.current=!0},_),reactExports.useEffect(()=>($.current=!0,()=>{$.current=!1}),[])}const MotionConfigContext=reactExports.createContext({transformPagePoint:a=>a,isStatic:!1,reducedMotion:"never"}),MotionContext=reactExports.createContext({}),PresenceContext=reactExports.createContext(null),isBrowser$1=typeof document<"u",useIsomorphicLayoutEffect$2=isBrowser$1?reactExports.useLayoutEffect:reactExports.useEffect,LazyContext=reactExports.createContext({strict:!1}),camelToDash=a=>a.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),optimizedAppearDataId="framerAppearId",optimizedAppearDataAttribute="data-"+camelToDash(optimizedAppearDataId),MotionGlobalConfig={skipAnimations:!1,useManualTiming:!1};class Queue{constructor(){this.order=[],this.scheduled=new Set}add(_){if(!this.scheduled.has(_))return this.scheduled.add(_),this.order.push(_),!0}remove(_){const $=this.order.indexOf(_);$!==-1&&(this.order.splice($,1),this.scheduled.delete(_))}clear(){this.order.length=0,this.scheduled.clear()}}function createRenderStep(a){let _=new Queue,$=new Queue,j=0,et=!1,tt=!1;const rt=new WeakSet,nt={schedule:(it,st=!1,ot=!1)=>{const at=ot&&et,ut=at?_:$;return st&&rt.add(it),ut.add(it)&&at&&et&&(j=_.order.length),it},cancel:it=>{$.remove(it),rt.delete(it)},process:it=>{if(et){tt=!0;return}if(et=!0,[_,$]=[$,_],$.clear(),j=_.order.length,j)for(let st=0;st<j;st++){const ot=_.order[st];rt.has(ot)&&(nt.schedule(ot),a()),ot(it)}et=!1,tt&&(tt=!1,nt.process(it))}};return nt}const stepsOrder=["read","resolveKeyframes","update","preRender","render","postRender"],maxElapsed=40;function createRenderBatcher(a,_){let $=!1,j=!0;const et={delta:0,timestamp:0,isProcessing:!1},tt=stepsOrder.reduce((at,ut)=>(at[ut]=createRenderStep(()=>$=!0),at),{}),rt=at=>{tt[at].process(et)},nt=()=>{const at=performance.now();$=!1,et.delta=j?1e3/60:Math.max(Math.min(at-et.timestamp,maxElapsed),1),et.timestamp=at,et.isProcessing=!0,stepsOrder.forEach(rt),et.isProcessing=!1,$&&_&&(j=!1,a(nt))},it=()=>{$=!0,j=!0,et.isProcessing||a(nt)};return{schedule:stepsOrder.reduce((at,ut)=>{const ht=tt[ut];return at[ut]=(yt,wt=!1,Ct=!1)=>($||it(),ht.schedule(yt,wt,Ct)),at},{}),cancel:at=>stepsOrder.forEach(ut=>tt[ut].cancel(at)),state:et,steps:tt}}const{schedule:microtask,cancel:cancelMicrotask}=createRenderBatcher(queueMicrotask,!1);function useVisualElement(a,_,$,j){const{visualElement:et}=reactExports.useContext(MotionContext),tt=reactExports.useContext(LazyContext),rt=reactExports.useContext(PresenceContext),nt=reactExports.useContext(MotionConfigContext).reducedMotion,it=reactExports.useRef();j=j||tt.renderer,!it.current&&j&&(it.current=j(a,{visualState:_,parent:et,props:$,presenceContext:rt,blockInitialAnimation:rt?rt.initial===!1:!1,reducedMotionConfig:nt}));const st=it.current;reactExports.useInsertionEffect(()=>{st&&st.update($,rt)});const ot=reactExports.useRef(!!($[optimizedAppearDataAttribute]&&!window.HandoffComplete));return useIsomorphicLayoutEffect$2(()=>{st&&(microtask.postRender(st.render),ot.current&&st.animationState&&st.animationState.animateChanges())}),reactExports.useEffect(()=>{st&&(st.updateFeatures(),!ot.current&&st.animationState&&st.animationState.animateChanges(),ot.current&&(ot.current=!1,window.HandoffComplete=!0))}),st}function isRefObject$2(a){return a&&typeof a=="object"&&Object.prototype.hasOwnProperty.call(a,"current")}function useMotionRef(a,_,$){return reactExports.useCallback(j=>{j&&a.mount&&a.mount(j),_&&(j?_.mount(j):_.unmount()),$&&(typeof $=="function"?$(j):isRefObject$2($)&&($.current=j))},[_])}function isVariantLabel(a){return typeof a=="string"||Array.isArray(a)}function isAnimationControls(a){return a!==null&&typeof a=="object"&&typeof a.start=="function"}const variantPriorityOrder=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],variantProps=["initial",...variantPriorityOrder];function isControllingVariants(a){return isAnimationControls(a.animate)||variantProps.some(_=>isVariantLabel(a[_]))}function isVariantNode(a){return!!(isControllingVariants(a)||a.variants)}function getCurrentTreeVariants(a,_){if(isControllingVariants(a)){const{initial:$,animate:j}=a;return{initial:$===!1||isVariantLabel($)?$:void 0,animate:isVariantLabel(j)?j:void 0}}return a.inherit!==!1?_:{}}function useCreateMotionContext(a){const{initial:_,animate:$}=getCurrentTreeVariants(a,reactExports.useContext(MotionContext));return reactExports.useMemo(()=>({initial:_,animate:$}),[variantLabelsAsDependency(_),variantLabelsAsDependency($)])}function variantLabelsAsDependency(a){return Array.isArray(a)?a.join(" "):a}const featureProps={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},featureDefinitions={};for(const a in featureProps)featureDefinitions[a]={isEnabled:_=>featureProps[a].some($=>!!_[$])};function loadFeatures(a){for(const _ in a)featureDefinitions[_]={...featureDefinitions[_],...a[_]}}const LayoutGroupContext=reactExports.createContext({}),SwitchLayoutGroupContext=reactExports.createContext({}),motionComponentSymbol=Symbol.for("motionComponentSymbol");function createMotionComponent({preloadedFeatures:a,createVisualElement:_,useRender:$,useVisualState:j,Component:et}){a&&loadFeatures(a);function tt(nt,it){let st;const ot={...reactExports.useContext(MotionConfigContext),...nt,layoutId:useLayoutId(nt)},{isStatic:at}=ot,ut=useCreateMotionContext(nt),ht=j(nt,at);if(!at&&isBrowser$1){ut.visualElement=useVisualElement(et,ht,ot,_);const yt=reactExports.useContext(SwitchLayoutGroupContext),wt=reactExports.useContext(LazyContext).strict;ut.visualElement&&(st=ut.visualElement.loadFeatures(ot,wt,a,yt))}return jsxRuntimeExports.jsxs(MotionContext.Provider,{value:ut,children:[st&&ut.visualElement?jsxRuntimeExports.jsx(st,{visualElement:ut.visualElement,...ot}):null,$(et,nt,useMotionRef(ht,ut.visualElement,it),ht,at,ut.visualElement)]})}const rt=reactExports.forwardRef(tt);return rt[motionComponentSymbol]=et,rt}function useLayoutId({layoutId:a}){const _=reactExports.useContext(LayoutGroupContext).id;return _&&a!==void 0?_+"-"+a:a}function createMotionProxy(a){function _(j,et={}){return createMotionComponent(a(j,et))}if(typeof Proxy>"u")return _;const $=new Map;return new Proxy(_,{get:(j,et)=>($.has(et)||$.set(et,_(et)),$.get(et))})}const lowercaseSVGElements=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function isSVGComponent(a){return typeof a!="string"||a.includes("-")?!1:!!(lowercaseSVGElements.indexOf(a)>-1||/[A-Z]/u.test(a))}const scaleCorrectors={};function addScaleCorrector(a){Object.assign(scaleCorrectors,a)}const transformPropOrder=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],transformProps=new Set(transformPropOrder);function isForcedMotionValue(a,{layout:_,layoutId:$}){return transformProps.has(a)||a.startsWith("origin")||(_||$!==void 0)&&(!!scaleCorrectors[a]||a==="opacity")}const isMotionValue=a=>!!(a&&a.getVelocity),translateAlias={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},numTransforms=transformPropOrder.length;function buildTransform(a,{enableHardwareAcceleration:_=!0,allowTransformNone:$=!0},j,et){let tt="";for(let rt=0;rt<numTransforms;rt++){const nt=transformPropOrder[rt];if(a[nt]!==void 0){const it=translateAlias[nt]||nt;tt+=`${it}(${a[nt]}) `}}return _&&!a.z&&(tt+="translateZ(0)"),tt=tt.trim(),et?tt=et(a,j?"":tt):$&&j&&(tt="none"),tt}const checkStringStartsWith=a=>_=>typeof _=="string"&&_.startsWith(a),isCSSVariableName=checkStringStartsWith("--"),startsAsVariableToken=checkStringStartsWith("var(--"),isCSSVariableToken=a=>startsAsVariableToken(a)?singleCssVariableRegex.test(a.split("/*")[0].trim()):!1,singleCssVariableRegex=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,getValueAsType=(a,_)=>_&&typeof a=="number"?_.transform(a):a,clamp=(a,_,$)=>$>_?_:$<a?a:$,number$2={test:a=>typeof a=="number",parse:parseFloat,transform:a=>a},alpha={...number$2,transform:a=>clamp(0,1,a)},scale$1={...number$2,default:1},sanitize=a=>Math.round(a*1e5)/1e5,floatRegex=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu,colorRegex=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu,singleColorRegex=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu;function isString$4(a){return typeof a=="string"}const createUnitType=a=>({test:_=>isString$4(_)&&_.endsWith(a)&&_.split(" ").length===1,parse:parseFloat,transform:_=>`${_}${a}`}),degrees=createUnitType("deg"),percent=createUnitType("%"),px=createUnitType("px"),vh=createUnitType("vh"),vw=createUnitType("vw"),progressPercentage={...percent,parse:a=>percent.parse(a)/100,transform:a=>percent.transform(a*100)},int$1={...number$2,transform:Math.round},numberValueTypes={borderWidth:px,borderTopWidth:px,borderRightWidth:px,borderBottomWidth:px,borderLeftWidth:px,borderRadius:px,radius:px,borderTopLeftRadius:px,borderTopRightRadius:px,borderBottomRightRadius:px,borderBottomLeftRadius:px,width:px,maxWidth:px,height:px,maxHeight:px,size:px,top:px,right:px,bottom:px,left:px,padding:px,paddingTop:px,paddingRight:px,paddingBottom:px,paddingLeft:px,margin:px,marginTop:px,marginRight:px,marginBottom:px,marginLeft:px,rotate:degrees,rotateX:degrees,rotateY:degrees,rotateZ:degrees,scale:scale$1,scaleX:scale$1,scaleY:scale$1,scaleZ:scale$1,skew:degrees,skewX:degrees,skewY:degrees,distance:px,translateX:px,translateY:px,translateZ:px,x:px,y:px,z:px,perspective:px,transformPerspective:px,opacity:alpha,originX:progressPercentage,originY:progressPercentage,originZ:px,zIndex:int$1,backgroundPositionX:px,backgroundPositionY:px,fillOpacity:alpha,strokeOpacity:alpha,numOctaves:int$1};function buildHTMLStyles(a,_,$,j){const{style:et,vars:tt,transform:rt,transformOrigin:nt}=a;let it=!1,st=!1,ot=!0;for(const at in _){const ut=_[at];if(isCSSVariableName(at)){tt[at]=ut;continue}const ht=numberValueTypes[at],yt=getValueAsType(ut,ht);if(transformProps.has(at)){if(it=!0,rt[at]=yt,!ot)continue;ut!==(ht.default||0)&&(ot=!1)}else at.startsWith("origin")?(st=!0,nt[at]=yt):et[at]=yt}if(_.transform||(it||j?et.transform=buildTransform(a.transform,$,ot,j):et.transform&&(et.transform="none")),st){const{originX:at="50%",originY:ut="50%",originZ:ht=0}=nt;et.transformOrigin=`${at} ${ut} ${ht}`}}const createHtmlRenderState=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function copyRawValuesOnly(a,_,$){for(const j in _)!isMotionValue(_[j])&&!isForcedMotionValue(j,$)&&(a[j]=_[j])}function useInitialMotionValues({transformTemplate:a},_,$){return reactExports.useMemo(()=>{const j=createHtmlRenderState();return buildHTMLStyles(j,_,{enableHardwareAcceleration:!$},a),Object.assign({},j.vars,j.style)},[_])}function useStyle(a,_,$){const j=a.style||{},et={};return copyRawValuesOnly(et,j,a),Object.assign(et,useInitialMotionValues(a,_,$)),et}function useHTMLProps(a,_,$){const j={},et=useStyle(a,_,$);return a.drag&&a.dragListener!==!1&&(j.draggable=!1,et.userSelect=et.WebkitUserSelect=et.WebkitTouchCallout="none",et.touchAction=a.drag===!0?"none":`pan-${a.drag==="x"?"y":"x"}`),a.tabIndex===void 0&&(a.onTap||a.onTapStart||a.whileTap)&&(j.tabIndex=0),j.style=et,j}const validMotionProps=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function isValidMotionProp(a){return a.startsWith("while")||a.startsWith("drag")&&a!=="draggable"||a.startsWith("layout")||a.startsWith("onTap")||a.startsWith("onPan")||a.startsWith("onLayout")||validMotionProps.has(a)}let shouldForward=a=>!isValidMotionProp(a);function loadExternalIsValidProp(a){a&&(shouldForward=_=>_.startsWith("on")?!isValidMotionProp(_):a(_))}try{loadExternalIsValidProp(require("@emotion/is-prop-valid").default)}catch{}function filterProps(a,_,$){const j={};for(const et in a)et==="values"&&typeof a.values=="object"||(shouldForward(et)||$===!0&&isValidMotionProp(et)||!_&&!isValidMotionProp(et)||a.draggable&&et.startsWith("onDrag"))&&(j[et]=a[et]);return j}function calcOrigin$1(a,_,$){return typeof a=="string"?a:px.transform(_+$*a)}function calcSVGTransformOrigin(a,_,$){const j=calcOrigin$1(_,a.x,a.width),et=calcOrigin$1($,a.y,a.height);return`${j} ${et}`}const dashKeys={offset:"stroke-dashoffset",array:"stroke-dasharray"},camelKeys={offset:"strokeDashoffset",array:"strokeDasharray"};function buildSVGPath(a,_,$=1,j=0,et=!0){a.pathLength=1;const tt=et?dashKeys:camelKeys;a[tt.offset]=px.transform(-j);const rt=px.transform(_),nt=px.transform($);a[tt.array]=`${rt} ${nt}`}function buildSVGAttrs(a,{attrX:_,attrY:$,attrScale:j,originX:et,originY:tt,pathLength:rt,pathSpacing:nt=1,pathOffset:it=0,...st},ot,at,ut){if(buildHTMLStyles(a,st,ot,ut),at){a.style.viewBox&&(a.attrs.viewBox=a.style.viewBox);return}a.attrs=a.style,a.style={};const{attrs:ht,style:yt,dimensions:wt}=a;ht.transform&&(wt&&(yt.transform=ht.transform),delete ht.transform),wt&&(et!==void 0||tt!==void 0||yt.transform)&&(yt.transformOrigin=calcSVGTransformOrigin(wt,et!==void 0?et:.5,tt!==void 0?tt:.5)),_!==void 0&&(ht.x=_),$!==void 0&&(ht.y=$),j!==void 0&&(ht.scale=j),rt!==void 0&&buildSVGPath(ht,rt,nt,it,!1)}const createSvgRenderState=()=>({...createHtmlRenderState(),attrs:{}}),isSVGTag=a=>typeof a=="string"&&a.toLowerCase()==="svg";function useSVGProps(a,_,$,j){const et=reactExports.useMemo(()=>{const tt=createSvgRenderState();return buildSVGAttrs(tt,_,{enableHardwareAcceleration:!1},isSVGTag(j),a.transformTemplate),{...tt.attrs,style:{...tt.style}}},[_]);if(a.style){const tt={};copyRawValuesOnly(tt,a.style,a),et.style={...tt,...et.style}}return et}function createUseRender(a=!1){return($,j,et,{latestValues:tt},rt)=>{const it=(isSVGComponent($)?useSVGProps:useHTMLProps)(j,tt,rt,$),st=filterProps(j,typeof $=="string",a),ot=$!==reactExports.Fragment?{...st,...it,ref:et}:{},{children:at}=j,ut=reactExports.useMemo(()=>isMotionValue(at)?at.get():at,[at]);return reactExports.createElement($,{...ot,children:ut})}}function renderHTML(a,{style:_,vars:$},j,et){Object.assign(a.style,_,et&&et.getProjectionStyles(j));for(const tt in $)a.style.setProperty(tt,$[tt])}const camelCaseAttributes=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function renderSVG(a,_,$,j){renderHTML(a,_,void 0,j);for(const et in _.attrs)a.setAttribute(camelCaseAttributes.has(et)?et:camelToDash(et),_.attrs[et])}function scrapeMotionValuesFromProps$1(a,_,$){var j;const{style:et}=a,tt={};for(const rt in et)(isMotionValue(et[rt])||_.style&&isMotionValue(_.style[rt])||isForcedMotionValue(rt,a)||((j=$==null?void 0:$.getValue(rt))===null||j===void 0?void 0:j.liveStyle)!==void 0)&&(tt[rt]=et[rt]);return tt}function scrapeMotionValuesFromProps(a,_,$){const j=scrapeMotionValuesFromProps$1(a,_,$);for(const et in a)if(isMotionValue(a[et])||isMotionValue(_[et])){const tt=transformPropOrder.indexOf(et)!==-1?"attr"+et.charAt(0).toUpperCase()+et.substring(1):et;j[tt]=a[et]}return j}function resolveVariantFromProps(a,_,$,j={},et={}){return typeof _=="function"&&(_=_($!==void 0?$:a.custom,j,et)),typeof _=="string"&&(_=a.variants&&a.variants[_]),typeof _=="function"&&(_=_($!==void 0?$:a.custom,j,et)),_}function useConstant(a){const _=reactExports.useRef(null);return _.current===null&&(_.current=a()),_.current}const isKeyframesTarget=a=>Array.isArray(a),isCustomValue=a=>!!(a&&typeof a=="object"&&a.mix&&a.toValue),resolveFinalValueInKeyframes=a=>isKeyframesTarget(a)?a[a.length-1]||0:a;function resolveMotionValue(a){const _=isMotionValue(a)?a.get():a;return isCustomValue(_)?_.toValue():_}function makeState({scrapeMotionValuesFromProps:a,createRenderState:_,onMount:$},j,et,tt){const rt={latestValues:makeLatestValues(j,et,tt,a),renderState:_()};return $&&(rt.mount=nt=>$(j,nt,rt)),rt}const makeUseVisualState=a=>(_,$)=>{const j=reactExports.useContext(MotionContext),et=reactExports.useContext(PresenceContext),tt=()=>makeState(a,_,j,et);return $?tt():useConstant(tt)};function makeLatestValues(a,_,$,j){const et={},tt=j(a,{});for(const ut in tt)et[ut]=resolveMotionValue(tt[ut]);let{initial:rt,animate:nt}=a;const it=isControllingVariants(a),st=isVariantNode(a);_&&st&&!it&&a.inherit!==!1&&(rt===void 0&&(rt=_.initial),nt===void 0&&(nt=_.animate));let ot=$?$.initial===!1:!1;ot=ot||rt===!1;const at=ot?nt:rt;return at&&typeof at!="boolean"&&!isAnimationControls(at)&&(Array.isArray(at)?at:[at]).forEach(ht=>{const yt=resolveVariantFromProps(a,ht);if(!yt)return;const{transitionEnd:wt,transition:Ct,...Pt}=yt;for(const Tt in Pt){let Mt=Pt[Tt];if(Array.isArray(Mt)){const Lt=ot?Mt.length-1:0;Mt=Mt[Lt]}Mt!==null&&(et[Tt]=Mt)}for(const Tt in wt)et[Tt]=wt[Tt]}),et}const noop$b=a=>a,{schedule:frame,cancel:cancelFrame,state:frameData,steps}=createRenderBatcher(typeof requestAnimationFrame<"u"?requestAnimationFrame:noop$b,!0),svgMotionConfig={useVisualState:makeUseVisualState({scrapeMotionValuesFromProps,createRenderState:createSvgRenderState,onMount:(a,_,{renderState:$,latestValues:j})=>{frame.read(()=>{try{$.dimensions=typeof _.getBBox=="function"?_.getBBox():_.getBoundingClientRect()}catch{$.dimensions={x:0,y:0,width:0,height:0}}}),frame.render(()=>{buildSVGAttrs($,j,{enableHardwareAcceleration:!1},isSVGTag(_.tagName),a.transformTemplate),renderSVG(_,$)})}})},htmlMotionConfig={useVisualState:makeUseVisualState({scrapeMotionValuesFromProps:scrapeMotionValuesFromProps$1,createRenderState:createHtmlRenderState})};function createDomMotionConfig(a,{forwardMotionProps:_=!1},$,j){return{...isSVGComponent(a)?svgMotionConfig:htmlMotionConfig,preloadedFeatures:$,useRender:createUseRender(_),createVisualElement:j,Component:a}}function addDomEvent(a,_,$,j={passive:!0}){return a.addEventListener(_,$,j),()=>a.removeEventListener(_,$)}const isPrimaryPointer=a=>a.pointerType==="mouse"?typeof a.button!="number"||a.button<=0:a.isPrimary!==!1;function extractEventInfo(a,_="page"){return{point:{x:a[`${_}X`],y:a[`${_}Y`]}}}const addPointerInfo=a=>_=>isPrimaryPointer(_)&&a(_,extractEventInfo(_));function addPointerEvent(a,_,$,j){return addDomEvent(a,_,addPointerInfo($),j)}const combineFunctions=(a,_)=>$=>_(a($)),pipe$1=(...a)=>a.reduce(combineFunctions);function createLock(a){let _=null;return()=>{const $=()=>{_=null};return _===null?(_=a,$):!1}}const globalHorizontalLock=createLock("dragHorizontal"),globalVerticalLock=createLock("dragVertical");function getGlobalLock(a){let _=!1;if(a==="y")_=globalVerticalLock();else if(a==="x")_=globalHorizontalLock();else{const $=globalHorizontalLock(),j=globalVerticalLock();$&&j?_=()=>{$(),j()}:($&&$(),j&&j())}return _}function isDragActive(){const a=getGlobalLock(!0);return a?(a(),!1):!0}class Feature{constructor(_){this.isMounted=!1,this.node=_}update(){}}function addHoverEvent(a,_){const $=_?"pointerenter":"pointerleave",j=_?"onHoverStart":"onHoverEnd",et=(tt,rt)=>{if(tt.pointerType==="touch"||isDragActive())return;const nt=a.getProps();a.animationState&&nt.whileHover&&a.animationState.setActive("whileHover",_);const it=nt[j];it&&frame.postRender(()=>it(tt,rt))};return addPointerEvent(a.current,$,et,{passive:!a.getProps()[j]})}class HoverGesture extends Feature{mount(){this.unmount=pipe$1(addHoverEvent(this.node,!0),addHoverEvent(this.node,!1))}unmount(){}}class FocusGesture extends Feature{constructor(){super(...arguments),this.isActive=!1}onFocus(){let _=!1;try{_=this.node.current.matches(":focus-visible")}catch{_=!0}!_||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=pipe$1(addDomEvent(this.node.current,"focus",()=>this.onFocus()),addDomEvent(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const isNodeOrChild=(a,_)=>_?a===_?!0:isNodeOrChild(a,_.parentElement):!1;function fireSyntheticPointerEvent(a,_){if(!_)return;const $=new PointerEvent("pointer"+a);_($,extractEventInfo($))}class PressGesture extends Feature{constructor(){super(...arguments),this.removeStartListeners=noop$b,this.removeEndListeners=noop$b,this.removeAccessibleListeners=noop$b,this.startPointerPress=(_,$)=>{if(this.isPressing)return;this.removeEndListeners();const j=this.node.getProps(),tt=addPointerEvent(window,"pointerup",(nt,it)=>{if(!this.checkPressEnd())return;const{onTap:st,onTapCancel:ot,globalTapTarget:at}=this.node.getProps(),ut=!at&&!isNodeOrChild(this.node.current,nt.target)?ot:st;ut&&frame.update(()=>ut(nt,it))},{passive:!(j.onTap||j.onPointerUp)}),rt=addPointerEvent(window,"pointercancel",(nt,it)=>this.cancelPress(nt,it),{passive:!(j.onTapCancel||j.onPointerCancel)});this.removeEndListeners=pipe$1(tt,rt),this.startPress(_,$)},this.startAccessiblePress=()=>{const _=tt=>{if(tt.key!=="Enter"||this.isPressing)return;const rt=nt=>{nt.key!=="Enter"||!this.checkPressEnd()||fireSyntheticPointerEvent("up",(it,st)=>{const{onTap:ot}=this.node.getProps();ot&&frame.postRender(()=>ot(it,st))})};this.removeEndListeners(),this.removeEndListeners=addDomEvent(this.node.current,"keyup",rt),fireSyntheticPointerEvent("down",(nt,it)=>{this.startPress(nt,it)})},$=addDomEvent(this.node.current,"keydown",_),j=()=>{this.isPressing&&fireSyntheticPointerEvent("cancel",(tt,rt)=>this.cancelPress(tt,rt))},et=addDomEvent(this.node.current,"blur",j);this.removeAccessibleListeners=pipe$1($,et)}}startPress(_,$){this.isPressing=!0;const{onTapStart:j,whileTap:et}=this.node.getProps();et&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),j&&frame.postRender(()=>j(_,$))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!isDragActive()}cancelPress(_,$){if(!this.checkPressEnd())return;const{onTapCancel:j}=this.node.getProps();j&&frame.postRender(()=>j(_,$))}mount(){const _=this.node.getProps(),$=addPointerEvent(_.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(_.onTapStart||_.onPointerStart)}),j=addDomEvent(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=pipe$1($,j)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const observerCallbacks=new WeakMap,observers=new WeakMap,fireObserverCallback=a=>{const _=observerCallbacks.get(a.target);_&&_(a)},fireAllObserverCallbacks=a=>{a.forEach(fireObserverCallback)};function initIntersectionObserver({root:a,..._}){const $=a||document;observers.has($)||observers.set($,{});const j=observers.get($),et=JSON.stringify(_);return j[et]||(j[et]=new IntersectionObserver(fireAllObserverCallbacks,{root:a,..._})),j[et]}function observeIntersection(a,_,$){const j=initIntersectionObserver(_);return observerCallbacks.set(a,$),j.observe(a),()=>{observerCallbacks.delete(a),j.unobserve(a)}}const thresholdNames={some:0,all:1};class InViewFeature extends Feature{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:_={}}=this.node.getProps(),{root:$,margin:j,amount:et="some",once:tt}=_,rt={root:$?$.current:void 0,rootMargin:j,threshold:typeof et=="number"?et:thresholdNames[et]},nt=it=>{const{isIntersecting:st}=it;if(this.isInView===st||(this.isInView=st,tt&&!st&&this.hasEnteredView))return;st&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",st);const{onViewportEnter:ot,onViewportLeave:at}=this.node.getProps(),ut=st?ot:at;ut&&ut(it)};return observeIntersection(this.node.current,rt,nt)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:_,prevProps:$}=this.node;["amount","margin","root"].some(hasViewportOptionChanged(_,$))&&this.startObserver()}unmount(){}}function hasViewportOptionChanged({viewport:a={}},{viewport:_={}}={}){return $=>a[$]!==_[$]}const gestureAnimations={inView:{Feature:InViewFeature},tap:{Feature:PressGesture},focus:{Feature:FocusGesture},hover:{Feature:HoverGesture}};function shallowCompare(a,_){if(!Array.isArray(_))return!1;const $=_.length;if($!==a.length)return!1;for(let j=0;j<$;j++)if(_[j]!==a[j])return!1;return!0}function getCurrent(a){const _={};return a.values.forEach(($,j)=>_[j]=$.get()),_}function getVelocity$1(a){const _={};return a.values.forEach(($,j)=>_[j]=$.getVelocity()),_}function resolveVariant(a,_,$){const j=a.getProps();return resolveVariantFromProps(j,_,$!==void 0?$:j.custom,getCurrent(a),getVelocity$1(a))}const secondsToMilliseconds$1=a=>a*1e3,millisecondsToSeconds=a=>a/1e3,underDampedSpring={type:"spring",stiffness:500,damping:25,restSpeed:10},criticallyDampedSpring=a=>({type:"spring",stiffness:550,damping:a===0?2*Math.sqrt(550):30,restSpeed:10}),keyframesTransition={type:"keyframes",duration:.8},ease={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},getDefaultTransition=(a,{keyframes:_})=>_.length>2?keyframesTransition:transformProps.has(a)?a.startsWith("scale")?criticallyDampedSpring(_[1]):underDampedSpring:ease;function isTransitionDefined({when:a,delay:_,delayChildren:$,staggerChildren:j,staggerDirection:et,repeat:tt,repeatType:rt,repeatDelay:nt,from:it,elapsed:st,...ot}){return!!Object.keys(ot).length}function getValueTransition(a,_){return a[_]||a.default||a}const isNotNull=a=>a!==null;function getFinalKeyframe(a,{repeat:_,repeatType:$="loop"},j){const et=a.filter(isNotNull),tt=_&&$!=="loop"&&_%2===1?0:et.length-1;return!tt||j===void 0?et[tt]:j}let now$1;function clearTime(){now$1=void 0}const time={now:()=>(now$1===void 0&&time.set(frameData.isProcessing||MotionGlobalConfig.useManualTiming?frameData.timestamp:performance.now()),now$1),set:a=>{now$1=a,queueMicrotask(clearTime)}},isZeroValueString=a=>/^0[^.\s]+$/u.test(a);function isNone(a){return typeof a=="number"?a===0:a!==null?a==="none"||a==="0"||isZeroValueString(a):!0}let invariant$1=noop$b;const isNumericalString=a=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(a),splitCSSVariableRegex=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function parseCSSVariable(a){const _=splitCSSVariableRegex.exec(a);if(!_)return[,];const[,$,j,et]=_;return[`--${$??j}`,et]}function getVariableValue(a,_,$=1){const[j,et]=parseCSSVariable(a);if(!j)return;const tt=window.getComputedStyle(_).getPropertyValue(j);if(tt){const rt=tt.trim();return isNumericalString(rt)?parseFloat(rt):rt}return isCSSVariableToken(et)?getVariableValue(et,_,$+1):et}const positionalKeys=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),isNumOrPxType=a=>a===number$2||a===px,getPosFromMatrix=(a,_)=>parseFloat(a.split(", ")[_]),getTranslateFromMatrix=(a,_)=>($,{transform:j})=>{if(j==="none"||!j)return 0;const et=j.match(/^matrix3d\((.+)\)$/u);if(et)return getPosFromMatrix(et[1],_);{const tt=j.match(/^matrix\((.+)\)$/u);return tt?getPosFromMatrix(tt[1],a):0}},transformKeys=new Set(["x","y","z"]),nonTranslationalTransformKeys=transformPropOrder.filter(a=>!transformKeys.has(a));function removeNonTranslationalTransform(a){const _=[];return nonTranslationalTransformKeys.forEach($=>{const j=a.getValue($);j!==void 0&&(_.push([$,j.get()]),j.set($.startsWith("scale")?1:0))}),_}const positionalValues={width:({x:a},{paddingLeft:_="0",paddingRight:$="0"})=>a.max-a.min-parseFloat(_)-parseFloat($),height:({y:a},{paddingTop:_="0",paddingBottom:$="0"})=>a.max-a.min-parseFloat(_)-parseFloat($),top:(a,{top:_})=>parseFloat(_),left:(a,{left:_})=>parseFloat(_),bottom:({y:a},{top:_})=>parseFloat(_)+(a.max-a.min),right:({x:a},{left:_})=>parseFloat(_)+(a.max-a.min),x:getTranslateFromMatrix(4,13),y:getTranslateFromMatrix(5,14)};positionalValues.translateX=positionalValues.x;positionalValues.translateY=positionalValues.y;const testValueType=a=>_=>_.test(a),auto$1={test:a=>a==="auto",parse:a=>a},dimensionValueTypes=[number$2,px,percent,degrees,vw,vh,auto$1],findDimensionValueType=a=>dimensionValueTypes.find(testValueType(a)),toResolve=new Set;let isScheduled=!1,anyNeedsMeasurement=!1;function measureAllKeyframes(){if(anyNeedsMeasurement){const a=Array.from(toResolve).filter(j=>j.needsMeasurement),_=new Set(a.map(j=>j.element)),$=new Map;_.forEach(j=>{const et=removeNonTranslationalTransform(j);et.length&&($.set(j,et),j.render())}),a.forEach(j=>j.measureInitialState()),_.forEach(j=>{j.render();const et=$.get(j);et&&et.forEach(([tt,rt])=>{var nt;(nt=j.getValue(tt))===null||nt===void 0||nt.set(rt)})}),a.forEach(j=>j.measureEndState()),a.forEach(j=>{j.suspendedScrollY!==void 0&&window.scrollTo(0,j.suspendedScrollY)})}anyNeedsMeasurement=!1,isScheduled=!1,toResolve.forEach(a=>a.complete()),toResolve.clear()}function readAllKeyframes(){toResolve.forEach(a=>{a.readKeyframes(),a.needsMeasurement&&(anyNeedsMeasurement=!0)})}function flushKeyframeResolvers(){readAllKeyframes(),measureAllKeyframes()}class KeyframeResolver{constructor(_,$,j,et,tt,rt=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[..._],this.onComplete=$,this.name=j,this.motionValue=et,this.element=tt,this.isAsync=rt}scheduleResolve(){this.isScheduled=!0,this.isAsync?(toResolve.add(this),isScheduled||(isScheduled=!0,frame.read(readAllKeyframes),frame.resolveKeyframes(measureAllKeyframes))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:_,name:$,element:j,motionValue:et}=this;for(let tt=0;tt<_.length;tt++)if(_[tt]===null)if(tt===0){const rt=et==null?void 0:et.get(),nt=_[_.length-1];if(rt!==void 0)_[0]=rt;else if(j&&$){const it=j.readValue($,nt);it!=null&&(_[0]=it)}_[0]===void 0&&(_[0]=nt),et&&rt===void 0&&et.set(_[0])}else _[tt]=_[tt-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),toResolve.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,toResolve.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const isColorString=(a,_)=>$=>!!(isString$4($)&&singleColorRegex.test($)&&$.startsWith(a)||_&&Object.prototype.hasOwnProperty.call($,_)),splitColor=(a,_,$)=>j=>{if(!isString$4(j))return j;const[et,tt,rt,nt]=j.match(floatRegex);return{[a]:parseFloat(et),[_]:parseFloat(tt),[$]:parseFloat(rt),alpha:nt!==void 0?parseFloat(nt):1}},clampRgbUnit=a=>clamp(0,255,a),rgbUnit={...number$2,transform:a=>Math.round(clampRgbUnit(a))},rgba={test:isColorString("rgb","red"),parse:splitColor("red","green","blue"),transform:({red:a,green:_,blue:$,alpha:j=1})=>"rgba("+rgbUnit.transform(a)+", "+rgbUnit.transform(_)+", "+rgbUnit.transform($)+", "+sanitize(alpha.transform(j))+")"};function parseHex$1(a){let _="",$="",j="",et="";return a.length>5?(_=a.substring(1,3),$=a.substring(3,5),j=a.substring(5,7),et=a.substring(7,9)):(_=a.substring(1,2),$=a.substring(2,3),j=a.substring(3,4),et=a.substring(4,5),_+=_,$+=$,j+=j,et+=et),{red:parseInt(_,16),green:parseInt($,16),blue:parseInt(j,16),alpha:et?parseInt(et,16)/255:1}}const hex={test:isColorString("#"),parse:parseHex$1,transform:rgba.transform},hsla={test:isColorString("hsl","hue"),parse:splitColor("hue","saturation","lightness"),transform:({hue:a,saturation:_,lightness:$,alpha:j=1})=>"hsla("+Math.round(a)+", "+percent.transform(sanitize(_))+", "+percent.transform(sanitize($))+", "+sanitize(alpha.transform(j))+")"},color$1={test:a=>rgba.test(a)||hex.test(a)||hsla.test(a),parse:a=>rgba.test(a)?rgba.parse(a):hsla.test(a)?hsla.parse(a):hex.parse(a),transform:a=>isString$4(a)?a:a.hasOwnProperty("red")?rgba.transform(a):hsla.transform(a)};function test$1(a){var _,$;return isNaN(a)&&isString$4(a)&&(((_=a.match(floatRegex))===null||_===void 0?void 0:_.length)||0)+((($=a.match(colorRegex))===null||$===void 0?void 0:$.length)||0)>0}const NUMBER_TOKEN="number",COLOR_TOKEN="color",VAR_TOKEN="var",VAR_FUNCTION_TOKEN="var(",SPLIT_TOKEN="${}",complexRegex=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function analyseComplexValue(a){const _=a.toString(),$=[],j={color:[],number:[],var:[]},et=[];let tt=0;const nt=_.replace(complexRegex,it=>(color$1.test(it)?(j.color.push(tt),et.push(COLOR_TOKEN),$.push(color$1.parse(it))):it.startsWith(VAR_FUNCTION_TOKEN)?(j.var.push(tt),et.push(VAR_TOKEN),$.push(it)):(j.number.push(tt),et.push(NUMBER_TOKEN),$.push(parseFloat(it))),++tt,SPLIT_TOKEN)).split(SPLIT_TOKEN);return{values:$,split:nt,indexes:j,types:et}}function parseComplexValue(a){return analyseComplexValue(a).values}function createTransformer(a){const{split:_,types:$}=analyseComplexValue(a),j=_.length;return et=>{let tt="";for(let rt=0;rt<j;rt++)if(tt+=_[rt],et[rt]!==void 0){const nt=$[rt];nt===NUMBER_TOKEN?tt+=sanitize(et[rt]):nt===COLOR_TOKEN?tt+=color$1.transform(et[rt]):tt+=et[rt]}return tt}}const convertNumbersToZero=a=>typeof a=="number"?0:a;function getAnimatableNone$1(a){const _=parseComplexValue(a);return createTransformer(a)(_.map(convertNumbersToZero))}const complex={test:test$1,parse:parseComplexValue,createTransformer,getAnimatableNone:getAnimatableNone$1},maxDefaults=new Set(["brightness","contrast","saturate","opacity"]);function applyDefaultFilter(a){const[_,$]=a.slice(0,-1).split("(");if(_==="drop-shadow")return a;const[j]=$.match(floatRegex)||[];if(!j)return a;const et=$.replace(j,"");let tt=maxDefaults.has(_)?1:0;return j!==$&&(tt*=100),_+"("+tt+et+")"}const functionRegex=/\b([a-z-]*)\(.*?\)/gu,filter$1={...complex,getAnimatableNone:a=>{const _=a.match(functionRegex);return _?_.map(applyDefaultFilter).join(" "):a}},defaultValueTypes={...numberValueTypes,color:color$1,backgroundColor:color$1,outlineColor:color$1,fill:color$1,stroke:color$1,borderColor:color$1,borderTopColor:color$1,borderRightColor:color$1,borderBottomColor:color$1,borderLeftColor:color$1,filter:filter$1,WebkitFilter:filter$1},getDefaultValueType=a=>defaultValueTypes[a];function getAnimatableNone(a,_){let $=getDefaultValueType(a);return $!==filter$1&&($=complex),$.getAnimatableNone?$.getAnimatableNone(_):void 0}const invalidTemplates=new Set(["auto","none","0"]);function makeNoneKeyframesAnimatable(a,_,$){let j=0,et;for(;j<a.length&&!et;){const tt=a[j];typeof tt=="string"&&!invalidTemplates.has(tt)&&(et=a[j]),j++}if(et&&$)for(const tt of _)a[tt]=getAnimatableNone($,et)}class DOMKeyframesResolver extends KeyframeResolver{constructor(_,$,j,et){super(_,$,j,et,et==null?void 0:et.owner,!0)}readKeyframes(){const{unresolvedKeyframes:_,element:$,name:j}=this;if(!$.current)return;super.readKeyframes();for(let it=0;it<_.length;it++){const st=_[it];if(typeof st=="string"&&isCSSVariableToken(st)){const ot=getVariableValue(st,$.current);ot!==void 0&&(_[it]=ot),it===_.length-1&&(this.finalKeyframe=st)}}if(this.resolveNoneKeyframes(),!positionalKeys.has(j)||_.length!==2)return;const[et,tt]=_,rt=findDimensionValueType(et),nt=findDimensionValueType(tt);if(rt!==nt)if(isNumOrPxType(rt)&&isNumOrPxType(nt))for(let it=0;it<_.length;it++){const st=_[it];typeof st=="string"&&(_[it]=parseFloat(st))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:_,name:$}=this,j=[];for(let et=0;et<_.length;et++)isNone(_[et])&&j.push(et);j.length&&makeNoneKeyframesAnimatable(_,j,$)}measureInitialState(){const{element:_,unresolvedKeyframes:$,name:j}=this;if(!_.current)return;j==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=positionalValues[j](_.measureViewportBox(),window.getComputedStyle(_.current)),$[0]=this.measuredOrigin;const et=$[$.length-1];et!==void 0&&_.getValue(j,et).jump(et,!1)}measureEndState(){var _;const{element:$,name:j,unresolvedKeyframes:et}=this;if(!$.current)return;const tt=$.getValue(j);tt&&tt.jump(this.measuredOrigin,!1);const rt=et.length-1,nt=et[rt];et[rt]=positionalValues[j]($.measureViewportBox(),window.getComputedStyle($.current)),nt!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=nt),!((_=this.removedTransforms)===null||_===void 0)&&_.length&&this.removedTransforms.forEach(([it,st])=>{$.getValue(it).set(st)}),this.resolveNoneKeyframes()}}function memo(a){let _;return()=>(_===void 0&&(_=a()),_)}const isAnimatable=(a,_)=>_==="zIndex"?!1:!!(typeof a=="number"||Array.isArray(a)||typeof a=="string"&&(complex.test(a)||a==="0")&&!a.startsWith("url("));function hasKeyframesChanged(a){const _=a[0];if(a.length===1)return!0;for(let $=0;$<a.length;$++)if(a[$]!==_)return!0}function canAnimate(a,_,$,j){const et=a[0];if(et===null)return!1;const tt=a[a.length-1],rt=isAnimatable(et,_),nt=isAnimatable(tt,_);return!rt||!nt?!1:hasKeyframesChanged(a)||$==="spring"&&j}class BaseAnimation{constructor({autoplay:_=!0,delay:$=0,type:j="keyframes",repeat:et=0,repeatDelay:tt=0,repeatType:rt="loop",...nt}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.options={autoplay:_,delay:$,type:j,repeat:et,repeatDelay:tt,repeatType:rt,...nt},this.updateFinishedPromise()}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&flushKeyframeResolvers(),this._resolved}onKeyframesResolved(_,$){this.hasAttemptedResolve=!0;const{name:j,type:et,velocity:tt,delay:rt,onComplete:nt,onUpdate:it,isGenerator:st}=this.options;if(!st&&!canAnimate(_,j,et,tt))if(rt)this.options.duration=0;else{it==null||it(getFinalKeyframe(_,this.options,$)),nt==null||nt(),this.resolveFinishedPromise();return}const ot=this.initPlayback(_,$);ot!==!1&&(this._resolved={keyframes:_,finalKeyframe:$,...ot},this.onPostResolved())}onPostResolved(){}then(_,$){return this.currentFinishedPromise.then(_,$)}updateFinishedPromise(){this.currentFinishedPromise=new Promise(_=>{this.resolveFinishedPromise=_})}}function velocityPerSecond(a,_){return _?a*(1e3/_):0}const velocitySampleDuration=5;function calcGeneratorVelocity(a,_,$){const j=Math.max(_-velocitySampleDuration,0);return velocityPerSecond($-a(j),_-j)}const safeMin=.001,minDuration=.01,maxDuration$1=10,minDamping=.05,maxDamping=1;function findSpring({duration:a=800,bounce:_=.25,velocity:$=0,mass:j=1}){let et,tt,rt=1-_;rt=clamp(minDamping,maxDamping,rt),a=clamp(minDuration,maxDuration$1,millisecondsToSeconds(a)),rt<1?(et=st=>{const ot=st*rt,at=ot*a,ut=ot-$,ht=calcAngularFreq(st,rt),yt=Math.exp(-at);return safeMin-ut/ht*yt},tt=st=>{const at=st*rt*a,ut=at*$+$,ht=Math.pow(rt,2)*Math.pow(st,2)*a,yt=Math.exp(-at),wt=calcAngularFreq(Math.pow(st,2),rt);return(-et(st)+safeMin>0?-1:1)*((ut-ht)*yt)/wt}):(et=st=>{const ot=Math.exp(-st*a),at=(st-$)*a+1;return-safeMin+ot*at},tt=st=>{const ot=Math.exp(-st*a),at=($-st)*(a*a);return ot*at});const nt=5/a,it=approximateRoot(et,tt,nt);if(a=secondsToMilliseconds$1(a),isNaN(it))return{stiffness:100,damping:10,duration:a};{const st=Math.pow(it,2)*j;return{stiffness:st,damping:rt*2*Math.sqrt(j*st),duration:a}}}const rootIterations=12;function approximateRoot(a,_,$){let j=$;for(let et=1;et<rootIterations;et++)j=j-a(j)/_(j);return j}function calcAngularFreq(a,_){return a*Math.sqrt(1-_*_)}const durationKeys=["duration","bounce"],physicsKeys=["stiffness","damping","mass"];function isSpringType(a,_){return _.some($=>a[$]!==void 0)}function getSpringOptions(a){let _={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...a};if(!isSpringType(a,physicsKeys)&&isSpringType(a,durationKeys)){const $=findSpring(a);_={..._,...$,mass:1},_.isResolvedFromDuration=!0}return _}function spring({keyframes:a,restDelta:_,restSpeed:$,...j}){const et=a[0],tt=a[a.length-1],rt={done:!1,value:et},{stiffness:nt,damping:it,mass:st,duration:ot,velocity:at,isResolvedFromDuration:ut}=getSpringOptions({...j,velocity:-millisecondsToSeconds(j.velocity||0)}),ht=at||0,yt=it/(2*Math.sqrt(nt*st)),wt=tt-et,Ct=millisecondsToSeconds(Math.sqrt(nt/st)),Pt=Math.abs(wt)<5;$||($=Pt?.01:2),_||(_=Pt?.005:.5);let Tt;if(yt<1){const Mt=calcAngularFreq(Ct,yt);Tt=Lt=>{const Dt=Math.exp(-yt*Ct*Lt);return tt-Dt*((ht+yt*Ct*wt)/Mt*Math.sin(Mt*Lt)+wt*Math.cos(Mt*Lt))}}else if(yt===1)Tt=Mt=>tt-Math.exp(-Ct*Mt)*(wt+(ht+Ct*wt)*Mt);else{const Mt=Ct*Math.sqrt(yt*yt-1);Tt=Lt=>{const Dt=Math.exp(-yt*Ct*Lt),Ut=Math.min(Mt*Lt,300);return tt-Dt*((ht+yt*Ct*wt)*Math.sinh(Ut)+Mt*wt*Math.cosh(Ut))/Mt}}return{calculatedDuration:ut&&ot||null,next:Mt=>{const Lt=Tt(Mt);if(ut)rt.done=Mt>=ot;else{let Dt=ht;Mt!==0&&(yt<1?Dt=calcGeneratorVelocity(Tt,Mt,Lt):Dt=0);const Ut=Math.abs(Dt)<=$,Ot=Math.abs(tt-Lt)<=_;rt.done=Ut&&Ot}return rt.value=rt.done?tt:Lt,rt}}}function inertia({keyframes:a,velocity:_=0,power:$=.8,timeConstant:j=325,bounceDamping:et=10,bounceStiffness:tt=500,modifyTarget:rt,min:nt,max:it,restDelta:st=.5,restSpeed:ot}){const at=a[0],ut={done:!1,value:at},ht=It=>nt!==void 0&&It<nt||it!==void 0&&It>it,yt=It=>nt===void 0?it:it===void 0||Math.abs(nt-It)<Math.abs(it-It)?nt:it;let wt=$*_;const Ct=at+wt,Pt=rt===void 0?Ct:rt(Ct);Pt!==Ct&&(wt=Pt-at);const Tt=It=>-wt*Math.exp(-It/j),Mt=It=>Pt+Tt(It),Lt=It=>{const Bt=Tt(It),Ft=Mt(It);ut.done=Math.abs(Bt)<=st,ut.value=ut.done?Pt:Ft};let Dt,Ut;const Ot=It=>{ht(ut.value)&&(Dt=It,Ut=spring({keyframes:[ut.value,yt(ut.value)],velocity:calcGeneratorVelocity(Mt,It,ut.value),damping:et,stiffness:tt,restDelta:st,restSpeed:ot}))};return Ot(0),{calculatedDuration:null,next:It=>{let Bt=!1;return!Ut&&Dt===void 0&&(Bt=!0,Lt(It),Ot(It)),Dt!==void 0&&It>=Dt?Ut.next(It-Dt):(!Bt&&Lt(It),ut)}}}const calcBezier=(a,_,$)=>(((1-3*$+3*_)*a+(3*$-6*_))*a+3*_)*a,subdivisionPrecision=1e-7,subdivisionMaxIterations=12;function binarySubdivide(a,_,$,j,et){let tt,rt,nt=0;do rt=_+($-_)/2,tt=calcBezier(rt,j,et)-a,tt>0?$=rt:_=rt;while(Math.abs(tt)>subdivisionPrecision&&++nt<subdivisionMaxIterations);return rt}function cubicBezier(a,_,$,j){if(a===_&&$===j)return noop$b;const et=tt=>binarySubdivide(tt,0,1,a,$);return tt=>tt===0||tt===1?tt:calcBezier(et(tt),_,j)}const easeIn=cubicBezier(.42,0,1,1),easeOut=cubicBezier(0,0,.58,1),easeInOut=cubicBezier(.42,0,.58,1),isEasingArray=a=>Array.isArray(a)&&typeof a[0]!="number",mirrorEasing=a=>_=>_<=.5?a(2*_)/2:(2-a(2*(1-_)))/2,reverseEasing=a=>_=>1-a(1-_),circIn=a=>1-Math.sin(Math.acos(a)),circOut=reverseEasing(circIn),circInOut=mirrorEasing(circIn),backOut=cubicBezier(.33,1.53,.69,.99),backIn=reverseEasing(backOut),backInOut=mirrorEasing(backIn),anticipate=a=>(a*=2)<1?.5*backIn(a):.5*(2-Math.pow(2,-10*(a-1))),easingLookup={linear:noop$b,easeIn,easeInOut,easeOut,circIn,circInOut,circOut,backIn,backInOut,backOut,anticipate},easingDefinitionToFunction=a=>{if(Array.isArray(a)){invariant$1(a.length===4);const[_,$,j,et]=a;return cubicBezier(_,$,j,et)}else if(typeof a=="string")return invariant$1(easingLookup[a]!==void 0),easingLookup[a];return a},progress=(a,_,$)=>{const j=_-a;return j===0?1:($-a)/j},mixNumber$1=(a,_,$)=>a+(_-a)*$;function hueToRgb(a,_,$){return $<0&&($+=1),$>1&&($-=1),$<1/6?a+(_-a)*6*$:$<1/2?_:$<2/3?a+(_-a)*(2/3-$)*6:a}function hslaToRgba({hue:a,saturation:_,lightness:$,alpha:j}){a/=360,_/=100,$/=100;let et=0,tt=0,rt=0;if(!_)et=tt=rt=$;else{const nt=$<.5?$*(1+_):$+_-$*_,it=2*$-nt;et=hueToRgb(it,nt,a+1/3),tt=hueToRgb(it,nt,a),rt=hueToRgb(it,nt,a-1/3)}return{red:Math.round(et*255),green:Math.round(tt*255),blue:Math.round(rt*255),alpha:j}}const mixLinearColor=(a,_,$)=>{const j=a*a,et=$*(_*_-j)+j;return et<0?0:Math.sqrt(et)},colorTypes=[hex,rgba,hsla],getColorType=a=>colorTypes.find(_=>_.test(a));function asRGBA(a){const _=getColorType(a);let $=_.parse(a);return _===hsla&&($=hslaToRgba($)),$}const mixColor=(a,_)=>{const $=asRGBA(a),j=asRGBA(_),et={...$};return tt=>(et.red=mixLinearColor($.red,j.red,tt),et.green=mixLinearColor($.green,j.green,tt),et.blue=mixLinearColor($.blue,j.blue,tt),et.alpha=mixNumber$1($.alpha,j.alpha,tt),rgba.transform(et))};function mixImmediate(a,_){return $=>$>0?_:a}function mixNumber(a,_){return $=>mixNumber$1(a,_,$)}function getMixer(a){return typeof a=="number"?mixNumber:typeof a=="string"?isCSSVariableToken(a)?mixImmediate:color$1.test(a)?mixColor:mixComplex:Array.isArray(a)?mixArray:typeof a=="object"?color$1.test(a)?mixColor:mixObject:mixImmediate}function mixArray(a,_){const $=[...a],j=$.length,et=a.map((tt,rt)=>getMixer(tt)(tt,_[rt]));return tt=>{for(let rt=0;rt<j;rt++)$[rt]=et[rt](tt);return $}}function mixObject(a,_){const $={...a,..._},j={};for(const et in $)a[et]!==void 0&&_[et]!==void 0&&(j[et]=getMixer(a[et])(a[et],_[et]));return et=>{for(const tt in j)$[tt]=j[tt](et);return $}}function matchOrder(a,_){var $;const j=[],et={color:0,var:0,number:0};for(let tt=0;tt<_.values.length;tt++){const rt=_.types[tt],nt=a.indexes[rt][et[rt]],it=($=a.values[nt])!==null&&$!==void 0?$:0;j[tt]=it,et[rt]++}return j}const mixComplex=(a,_)=>{const $=complex.createTransformer(_),j=analyseComplexValue(a),et=analyseComplexValue(_);return j.indexes.var.length===et.indexes.var.length&&j.indexes.color.length===et.indexes.color.length&&j.indexes.number.length>=et.indexes.number.length?pipe$1(mixArray(matchOrder(j,et),et.values),$):mixImmediate(a,_)};function mix(a,_,$){return typeof a=="number"&&typeof _=="number"&&typeof $=="number"?mixNumber$1(a,_,$):getMixer(a)(a,_)}function createMixers(a,_,$){const j=[],et=$||mix,tt=a.length-1;for(let rt=0;rt<tt;rt++){let nt=et(a[rt],a[rt+1]);if(_){const it=Array.isArray(_)?_[rt]||noop$b:_;nt=pipe$1(it,nt)}j.push(nt)}return j}function interpolate(a,_,{clamp:$=!0,ease:j,mixer:et}={}){const tt=a.length;if(invariant$1(tt===_.length),tt===1)return()=>_[0];if(tt===2&&a[0]===a[1])return()=>_[1];a[0]>a[tt-1]&&(a=[...a].reverse(),_=[..._].reverse());const rt=createMixers(_,j,et),nt=rt.length,it=st=>{let ot=0;if(nt>1)for(;ot<a.length-2&&!(st<a[ot+1]);ot++);const at=progress(a[ot],a[ot+1],st);return rt[ot](at)};return $?st=>it(clamp(a[0],a[tt-1],st)):it}function fillOffset(a,_){const $=a[a.length-1];for(let j=1;j<=_;j++){const et=progress(0,_,j);a.push(mixNumber$1($,1,et))}}function defaultOffset(a){const _=[0];return fillOffset(_,a.length-1),_}function convertOffsetToTimes(a,_){return a.map($=>$*_)}function defaultEasing(a,_){return a.map(()=>_||easeInOut).splice(0,a.length-1)}function keyframes({duration:a=300,keyframes:_,times:$,ease:j="easeInOut"}){const et=isEasingArray(j)?j.map(easingDefinitionToFunction):easingDefinitionToFunction(j),tt={done:!1,value:_[0]},rt=convertOffsetToTimes($&&$.length===_.length?$:defaultOffset(_),a),nt=interpolate(rt,_,{ease:Array.isArray(et)?et:defaultEasing(_,et)});return{calculatedDuration:a,next:it=>(tt.value=nt(it),tt.done=it>=a,tt)}}const maxGeneratorDuration=2e4;function calcGeneratorDuration(a){let _=0;const $=50;let j=a.next(_);for(;!j.done&&_<maxGeneratorDuration;)_+=$,j=a.next(_);return _>=maxGeneratorDuration?1/0:_}const frameloopDriver=a=>{const _=({timestamp:$})=>a($);return{start:()=>frame.update(_,!0),stop:()=>cancelFrame(_),now:()=>frameData.isProcessing?frameData.timestamp:time.now()}},generators={decay:inertia,inertia,tween:keyframes,keyframes,spring},percentToProgress=a=>a/100;class MainThreadAnimation extends BaseAnimation{constructor({KeyframeResolver:_=KeyframeResolver,...$}){super($),this.holdTime=null,this.startTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:nt}=this.options;nt&&nt()};const{name:j,motionValue:et,keyframes:tt}=this.options,rt=(nt,it)=>this.onKeyframesResolved(nt,it);j&&et&&et.owner?this.resolver=et.owner.resolveKeyframes(tt,rt,j,et):this.resolver=new _(tt,rt,j,et),this.resolver.scheduleResolve()}initPlayback(_){const{type:$="keyframes",repeat:j=0,repeatDelay:et=0,repeatType:tt,velocity:rt=0}=this.options,nt=generators[$]||keyframes;let it,st;nt!==keyframes&&typeof _[0]!="number"&&(it=pipe$1(percentToProgress,mix(_[0],_[1])),_=[0,100]);const ot=nt({...this.options,keyframes:_});tt==="mirror"&&(st=nt({...this.options,keyframes:[..._].reverse(),velocity:-rt})),ot.calculatedDuration===null&&(ot.calculatedDuration=calcGeneratorDuration(ot));const{calculatedDuration:at}=ot,ut=at+et,ht=ut*(j+1)-et;return{generator:ot,mirroredGenerator:st,mapPercentToKeyframes:it,calculatedDuration:at,resolvedDuration:ut,totalDuration:ht}}onPostResolved(){const{autoplay:_=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!_?this.pause():this.state=this.pendingPlayState}tick(_,$=!1){const{resolved:j}=this;if(!j){const{keyframes:It}=this.options;return{done:!0,value:It[It.length-1]}}const{finalKeyframe:et,generator:tt,mirroredGenerator:rt,mapPercentToKeyframes:nt,keyframes:it,calculatedDuration:st,totalDuration:ot,resolvedDuration:at}=j;if(this.startTime===null)return tt.next(0);const{delay:ut,repeat:ht,repeatType:yt,repeatDelay:wt,onUpdate:Ct}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,_):this.speed<0&&(this.startTime=Math.min(_-ot/this.speed,this.startTime)),$?this.currentTime=_:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(_-this.startTime)*this.speed;const Pt=this.currentTime-ut*(this.speed>=0?1:-1),Tt=this.speed>=0?Pt<0:Pt>ot;this.currentTime=Math.max(Pt,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=ot);let Mt=this.currentTime,Lt=tt;if(ht){const It=Math.min(this.currentTime,ot)/at;let Bt=Math.floor(It),Ft=It%1;!Ft&&It>=1&&(Ft=1),Ft===1&&Bt--,Bt=Math.min(Bt,ht+1),!!(Bt%2)&&(yt==="reverse"?(Ft=1-Ft,wt&&(Ft-=wt/at)):yt==="mirror"&&(Lt=rt)),Mt=clamp(0,1,Ft)*at}const Dt=Tt?{done:!1,value:it[0]}:Lt.next(Mt);nt&&(Dt.value=nt(Dt.value));let{done:Ut}=Dt;!Tt&&st!==null&&(Ut=this.speed>=0?this.currentTime>=ot:this.currentTime<=0);const Ot=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&Ut);return Ot&&et!==void 0&&(Dt.value=getFinalKeyframe(it,this.options,et)),Ct&&Ct(Dt.value),Ot&&this.finish(),Dt}get duration(){const{resolved:_}=this;return _?millisecondsToSeconds(_.calculatedDuration):0}get time(){return millisecondsToSeconds(this.currentTime)}set time(_){_=secondsToMilliseconds$1(_),this.currentTime=_,this.holdTime!==null||this.speed===0?this.holdTime=_:this.driver&&(this.startTime=this.driver.now()-_/this.speed)}get speed(){return this.playbackSpeed}set speed(_){const $=this.playbackSpeed!==_;this.playbackSpeed=_,$&&(this.time=millisecondsToSeconds(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:_=frameloopDriver,onPlay:$}=this.options;this.driver||(this.driver=_(et=>this.tick(et))),$&&$();const j=this.driver.now();this.holdTime!==null?this.startTime=j-this.holdTime:(!this.startTime||this.state==="finished")&&(this.startTime=j),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var _;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(_=this.currentTime)!==null&&_!==void 0?_:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:_}=this.options;_&&_()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(_){return this.startTime=0,this.tick(_,!0)}}const isBezierDefinition=a=>Array.isArray(a)&&typeof a[0]=="number";function isWaapiSupportedEasing(a){return!!(!a||typeof a=="string"&&a in supportedWaapiEasing||isBezierDefinition(a)||Array.isArray(a)&&a.every(isWaapiSupportedEasing))}const cubicBezierAsString=([a,_,$,j])=>`cubic-bezier(${a}, ${_}, ${$}, ${j})`,supportedWaapiEasing={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:cubicBezierAsString([0,.65,.55,1]),circOut:cubicBezierAsString([.55,0,1,.45]),backIn:cubicBezierAsString([.31,.01,.66,-.59]),backOut:cubicBezierAsString([.33,1.53,.69,.99])};function mapEasingToNativeEasingWithDefault(a){return mapEasingToNativeEasing(a)||supportedWaapiEasing.easeOut}function mapEasingToNativeEasing(a){if(a)return isBezierDefinition(a)?cubicBezierAsString(a):Array.isArray(a)?a.map(mapEasingToNativeEasingWithDefault):supportedWaapiEasing[a]}function animateStyle(a,_,$,{delay:j=0,duration:et=300,repeat:tt=0,repeatType:rt="loop",ease:nt,times:it}={}){const st={[_]:$};it&&(st.offset=it);const ot=mapEasingToNativeEasing(nt);return Array.isArray(ot)&&(st.easing=ot),a.animate(st,{delay:j,duration:et,easing:Array.isArray(ot)?"linear":ot,fill:"both",iterations:tt+1,direction:rt==="reverse"?"alternate":"normal"})}const supportsWaapi=memo(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),acceleratedValues=new Set(["opacity","clipPath","filter","transform"]),sampleDelta=10,maxDuration=2e4;function requiresPregeneratedKeyframes(a){return a.type==="spring"||a.name==="backgroundColor"||!isWaapiSupportedEasing(a.ease)}function pregenerateKeyframes(a,_){const $=new MainThreadAnimation({..._,keyframes:a,repeat:0,delay:0,isGenerator:!0});let j={done:!1,value:a[0]};const et=[];let tt=0;for(;!j.done&&tt<maxDuration;)j=$.sample(tt),et.push(j.value),tt+=sampleDelta;return{times:void 0,keyframes:et,duration:tt-sampleDelta,ease:"linear"}}class AcceleratedAnimation extends BaseAnimation{constructor(_){super(_);const{name:$,motionValue:j,keyframes:et}=this.options;this.resolver=new DOMKeyframesResolver(et,(tt,rt)=>this.onKeyframesResolved(tt,rt),$,j),this.resolver.scheduleResolve()}initPlayback(_,$){var j;let{duration:et=300,times:tt,ease:rt,type:nt,motionValue:it,name:st}=this.options;if(!(!((j=it.owner)===null||j===void 0)&&j.current))return!1;if(requiresPregeneratedKeyframes(this.options)){const{onComplete:at,onUpdate:ut,motionValue:ht,...yt}=this.options,wt=pregenerateKeyframes(_,yt);_=wt.keyframes,_.length===1&&(_[1]=_[0]),et=wt.duration,tt=wt.times,rt=wt.ease,nt="keyframes"}const ot=animateStyle(it.owner.current,st,_,{...this.options,duration:et,times:tt,ease:rt});return ot.startTime=time.now(),this.pendingTimeline?(ot.timeline=this.pendingTimeline,this.pendingTimeline=void 0):ot.onfinish=()=>{const{onComplete:at}=this.options;it.set(getFinalKeyframe(_,this.options,$)),at&&at(),this.cancel(),this.resolveFinishedPromise()},{animation:ot,duration:et,times:tt,type:nt,ease:rt,keyframes:_}}get duration(){const{resolved:_}=this;if(!_)return 0;const{duration:$}=_;return millisecondsToSeconds($)}get time(){const{resolved:_}=this;if(!_)return 0;const{animation:$}=_;return millisecondsToSeconds($.currentTime||0)}set time(_){const{resolved:$}=this;if(!$)return;const{animation:j}=$;j.currentTime=secondsToMilliseconds$1(_)}get speed(){const{resolved:_}=this;if(!_)return 1;const{animation:$}=_;return $.playbackRate}set speed(_){const{resolved:$}=this;if(!$)return;const{animation:j}=$;j.playbackRate=_}get state(){const{resolved:_}=this;if(!_)return"idle";const{animation:$}=_;return $.playState}attachTimeline(_){if(!this._resolved)this.pendingTimeline=_;else{const{resolved:$}=this;if(!$)return noop$b;const{animation:j}=$;j.timeline=_,j.onfinish=null}return noop$b}play(){if(this.isStopped)return;const{resolved:_}=this;if(!_)return;const{animation:$}=_;$.playState==="finished"&&this.updateFinishedPromise(),$.play()}pause(){const{resolved:_}=this;if(!_)return;const{animation:$}=_;$.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;const{resolved:_}=this;if(!_)return;const{animation:$,keyframes:j,duration:et,type:tt,ease:rt,times:nt}=_;if(!($.playState==="idle"||$.playState==="finished")){if(this.time){const{motionValue:it,onUpdate:st,onComplete:ot,...at}=this.options,ut=new MainThreadAnimation({...at,keyframes:j,duration:et,type:tt,ease:rt,times:nt,isGenerator:!0}),ht=secondsToMilliseconds$1(this.time);it.setWithVelocity(ut.sample(ht-sampleDelta).value,ut.sample(ht).value,sampleDelta)}this.cancel()}}complete(){const{resolved:_}=this;_&&_.animation.finish()}cancel(){const{resolved:_}=this;_&&_.animation.cancel()}static supports(_){const{motionValue:$,name:j,repeatDelay:et,repeatType:tt,damping:rt,type:nt}=_;return supportsWaapi()&&j&&acceleratedValues.has(j)&&$&&$.owner&&$.owner.current instanceof HTMLElement&&!$.owner.getProps().onUpdate&&!et&&tt!=="mirror"&&rt!==0&&nt!=="inertia"}}const animateMotionValue=(a,_,$,j={},et,tt)=>rt=>{const nt=getValueTransition(j,a)||{},it=nt.delay||j.delay||0;let{elapsed:st=0}=j;st=st-secondsToMilliseconds$1(it);let ot={keyframes:Array.isArray($)?$:[null,$],ease:"easeOut",velocity:_.getVelocity(),...nt,delay:-st,onUpdate:ut=>{_.set(ut),nt.onUpdate&&nt.onUpdate(ut)},onComplete:()=>{rt(),nt.onComplete&&nt.onComplete()},name:a,motionValue:_,element:tt?void 0:et};isTransitionDefined(nt)||(ot={...ot,...getDefaultTransition(a,ot)}),ot.duration&&(ot.duration=secondsToMilliseconds$1(ot.duration)),ot.repeatDelay&&(ot.repeatDelay=secondsToMilliseconds$1(ot.repeatDelay)),ot.from!==void 0&&(ot.keyframes[0]=ot.from);let at=!1;if((ot.type===!1||ot.duration===0&&!ot.repeatDelay)&&(ot.duration=0,ot.delay===0&&(at=!0)),at&&!tt&&_.get()!==void 0){const ut=getFinalKeyframe(ot.keyframes,nt);if(ut!==void 0){frame.update(()=>{ot.onUpdate(ut),ot.onComplete()});return}}return!tt&&AcceleratedAnimation.supports(ot)?new AcceleratedAnimation(ot):new MainThreadAnimation(ot)};function isWillChangeMotionValue(a){return!!(isMotionValue(a)&&a.add)}function addUniqueItem(a,_){a.indexOf(_)===-1&&a.push(_)}function removeItem(a,_){const $=a.indexOf(_);$>-1&&a.splice($,1)}class SubscriptionManager{constructor(){this.subscriptions=[]}add(_){return addUniqueItem(this.subscriptions,_),()=>removeItem(this.subscriptions,_)}notify(_,$,j){const et=this.subscriptions.length;if(et)if(et===1)this.subscriptions[0](_,$,j);else for(let tt=0;tt<et;tt++){const rt=this.subscriptions[tt];rt&&rt(_,$,j)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const MAX_VELOCITY_DELTA=30,isFloat=a=>!isNaN(parseFloat(a));class MotionValue{constructor(_,$={}){this.version="11.1.9",this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(j,et=!0)=>{const tt=time.now();this.updatedAt!==tt&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(j),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),et&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(_),this.canTrackVelocity=isFloat(this.current),this.owner=$.owner}setCurrent(_){this.current=_,this.updatedAt=time.now()}setPrevFrameValue(_=this.current){this.prevFrameValue=_,this.prevUpdatedAt=this.updatedAt}onChange(_){return this.on("change",_)}on(_,$){this.events[_]||(this.events[_]=new SubscriptionManager);const j=this.events[_].add($);return _==="change"?()=>{j(),frame.read(()=>{this.events.change.getSize()||this.stop()})}:j}clearListeners(){for(const _ in this.events)this.events[_].clear()}attach(_,$){this.passiveEffect=_,this.stopPassiveEffect=$}set(_,$=!0){!$||!this.passiveEffect?this.updateAndNotify(_,$):this.passiveEffect(_,this.updateAndNotify)}setWithVelocity(_,$,j){this.set($),this.prev=void 0,this.prevFrameValue=_,this.prevUpdatedAt=this.updatedAt-j}jump(_,$=!0){this.updateAndNotify(_),this.prev=_,this.prevUpdatedAt=this.prevFrameValue=void 0,$&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const _=time.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||_-this.updatedAt>MAX_VELOCITY_DELTA)return 0;const $=Math.min(this.updatedAt-this.prevUpdatedAt,MAX_VELOCITY_DELTA);return velocityPerSecond(parseFloat(this.current)-parseFloat(this.prevFrameValue),$)}start(_){return this.stop(),new Promise($=>{this.hasAnimated=!0,this.animation=_($),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function motionValue(a,_){return new MotionValue(a,_)}function setMotionValue(a,_,$){a.hasValue(_)?a.getValue(_).set($):a.addValue(_,motionValue($))}function setTarget(a,_){const $=resolveVariant(a,_);let{transitionEnd:j={},transition:et={},...tt}=$||{};tt={...tt,...j};for(const rt in tt){const nt=resolveFinalValueInKeyframes(tt[rt]);setMotionValue(a,rt,nt)}}function shouldBlockAnimation({protectedKeys:a,needsAnimating:_},$){const j=a.hasOwnProperty($)&&_[$]!==!0;return _[$]=!1,j}function animateTarget(a,_,{delay:$=0,transitionOverride:j,type:et}={}){var tt;let{transition:rt=a.getDefaultTransition(),transitionEnd:nt,...it}=_;const st=a.getValue("willChange");j&&(rt=j);const ot=[],at=et&&a.animationState&&a.animationState.getState()[et];for(const ut in it){const ht=a.getValue(ut,(tt=a.latestValues[ut])!==null&&tt!==void 0?tt:null),yt=it[ut];if(yt===void 0||at&&shouldBlockAnimation(at,ut))continue;const wt={delay:$,elapsed:0,...getValueTransition(rt||{},ut)};let Ct=!1;if(window.HandoffAppearAnimations){const Mt=a.getProps()[optimizedAppearDataAttribute];if(Mt){const Lt=window.HandoffAppearAnimations(Mt,ut);Lt!==null&&(wt.elapsed=Lt,Ct=!0)}}ht.start(animateMotionValue(ut,ht,yt,a.shouldReduceMotion&&transformProps.has(ut)?{type:!1}:wt,a,Ct));const Pt=ht.animation;Pt&&(isWillChangeMotionValue(st)&&(st.add(ut),Pt.then(()=>st.remove(ut))),ot.push(Pt))}return nt&&Promise.all(ot).then(()=>{frame.update(()=>{nt&&setTarget(a,nt)})}),ot}function animateVariant(a,_,$={}){var j;const et=resolveVariant(a,_,$.type==="exit"?(j=a.presenceContext)===null||j===void 0?void 0:j.custom:void 0);let{transition:tt=a.getDefaultTransition()||{}}=et||{};$.transitionOverride&&(tt=$.transitionOverride);const rt=et?()=>Promise.all(animateTarget(a,et,$)):()=>Promise.resolve(),nt=a.variantChildren&&a.variantChildren.size?(st=0)=>{const{delayChildren:ot=0,staggerChildren:at,staggerDirection:ut}=tt;return animateChildren(a,_,ot+st,at,ut,$)}:()=>Promise.resolve(),{when:it}=tt;if(it){const[st,ot]=it==="beforeChildren"?[rt,nt]:[nt,rt];return st().then(()=>ot())}else return Promise.all([rt(),nt($.delay)])}function animateChildren(a,_,$=0,j=0,et=1,tt){const rt=[],nt=(a.variantChildren.size-1)*j,it=et===1?(st=0)=>st*j:(st=0)=>nt-st*j;return Array.from(a.variantChildren).sort(sortByTreeOrder).forEach((st,ot)=>{st.notify("AnimationStart",_),rt.push(animateVariant(st,_,{...tt,delay:$+it(ot)}).then(()=>st.notify("AnimationComplete",_)))}),Promise.all(rt)}function sortByTreeOrder(a,_){return a.sortNodePosition(_)}function animateVisualElement(a,_,$={}){a.notify("AnimationStart",_);let j;if(Array.isArray(_)){const et=_.map(tt=>animateVariant(a,tt,$));j=Promise.all(et)}else if(typeof _=="string")j=animateVariant(a,_,$);else{const et=typeof _=="function"?resolveVariant(a,_,$.custom):_;j=Promise.all(animateTarget(a,et,$))}return j.then(()=>{frame.postRender(()=>{a.notify("AnimationComplete",_)})})}const reversePriorityOrder=[...variantPriorityOrder].reverse(),numAnimationTypes=variantPriorityOrder.length;function animateList(a){return _=>Promise.all(_.map(({animation:$,options:j})=>animateVisualElement(a,$,j)))}function createAnimationState(a){let _=animateList(a);const $=createState();let j=!0;const et=it=>(st,ot)=>{var at;const ut=resolveVariant(a,ot,it==="exit"?(at=a.presenceContext)===null||at===void 0?void 0:at.custom:void 0);if(ut){const{transition:ht,transitionEnd:yt,...wt}=ut;st={...st,...wt,...yt}}return st};function tt(it){_=it(a)}function rt(it){const st=a.getProps(),ot=a.getVariantContext(!0)||{},at=[],ut=new Set;let ht={},yt=1/0;for(let Ct=0;Ct<numAnimationTypes;Ct++){const Pt=reversePriorityOrder[Ct],Tt=$[Pt],Mt=st[Pt]!==void 0?st[Pt]:ot[Pt],Lt=isVariantLabel(Mt),Dt=Pt===it?Tt.isActive:null;Dt===!1&&(yt=Ct);let Ut=Mt===ot[Pt]&&Mt!==st[Pt]&&Lt;if(Ut&&j&&a.manuallyAnimateOnMount&&(Ut=!1),Tt.protectedKeys={...ht},!Tt.isActive&&Dt===null||!Mt&&!Tt.prevProp||isAnimationControls(Mt)||typeof Mt=="boolean")continue;let It=checkVariantsDidChange(Tt.prevProp,Mt)||Pt===it&&Tt.isActive&&!Ut&&Lt||Ct>yt&&Lt,Bt=!1;const Ft=Array.isArray(Mt)?Mt:[Mt];let jt=Ft.reduce(et(Pt),{});Dt===!1&&(jt={});const{prevResolvedValues:bt={}}=Tt,vt={...bt,...jt},ct=dt=>{It=!0,ut.has(dt)&&(Bt=!0,ut.delete(dt)),Tt.needsAnimating[dt]=!0;const mt=a.getValue(dt);mt&&(mt.liveStyle=!1)};for(const dt in vt){const mt=jt[dt],xt=bt[dt];if(ht.hasOwnProperty(dt))continue;let At=!1;isKeyframesTarget(mt)&&isKeyframesTarget(xt)?At=!shallowCompare(mt,xt):At=mt!==xt,At?mt!=null?ct(dt):ut.add(dt):mt!==void 0&&ut.has(dt)?ct(dt):Tt.protectedKeys[dt]=!0}Tt.prevProp=Mt,Tt.prevResolvedValues=jt,Tt.isActive&&(ht={...ht,...jt}),j&&a.blockInitialAnimation&&(It=!1),It&&(!Ut||Bt)&&at.push(...Ft.map(dt=>({animation:dt,options:{type:Pt}})))}if(ut.size){const Ct={};ut.forEach(Pt=>{const Tt=a.getBaseTarget(Pt),Mt=a.getValue(Pt);Mt&&(Mt.liveStyle=!0),Ct[Pt]=Tt??null}),at.push({animation:Ct})}let wt=!!at.length;return j&&(st.initial===!1||st.initial===st.animate)&&!a.manuallyAnimateOnMount&&(wt=!1),j=!1,wt?_(at):Promise.resolve()}function nt(it,st){var ot;if($[it].isActive===st)return Promise.resolve();(ot=a.variantChildren)===null||ot===void 0||ot.forEach(ut=>{var ht;return(ht=ut.animationState)===null||ht===void 0?void 0:ht.setActive(it,st)}),$[it].isActive=st;const at=rt(it);for(const ut in $)$[ut].protectedKeys={};return at}return{animateChanges:rt,setActive:nt,setAnimateFunction:tt,getState:()=>$}}function checkVariantsDidChange(a,_){return typeof _=="string"?_!==a:Array.isArray(_)?!shallowCompare(_,a):!1}function createTypeState(a=!1){return{isActive:a,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function createState(){return{animate:createTypeState(!0),whileInView:createTypeState(),whileHover:createTypeState(),whileTap:createTypeState(),whileDrag:createTypeState(),whileFocus:createTypeState(),exit:createTypeState()}}class AnimationFeature extends Feature{constructor(_){super(_),_.animationState||(_.animationState=createAnimationState(_))}updateAnimationControlsSubscription(){const{animate:_}=this.node.getProps();this.unmount(),isAnimationControls(_)&&(this.unmount=_.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:_}=this.node.getProps(),{animate:$}=this.node.prevProps||{};_!==$&&this.updateAnimationControlsSubscription()}unmount(){}}let id$2=0;class ExitAnimationFeature extends Feature{constructor(){super(...arguments),this.id=id$2++}update(){if(!this.node.presenceContext)return;const{isPresent:_,onExitComplete:$}=this.node.presenceContext,{isPresent:j}=this.node.prevPresenceContext||{};if(!this.node.animationState||_===j)return;const et=this.node.animationState.setActive("exit",!_);$&&!_&&et.then(()=>$(this.id))}mount(){const{register:_}=this.node.presenceContext||{};_&&(this.unmount=_(this.id))}unmount(){}}const animations$1={animation:{Feature:AnimationFeature},exit:{Feature:ExitAnimationFeature}},distance=(a,_)=>Math.abs(a-_);function distance2D(a,_){const $=distance(a.x,_.x),j=distance(a.y,_.y);return Math.sqrt($**2+j**2)}class PanSession{constructor(_,$,{transformPagePoint:j,contextWindow:et,dragSnapToOrigin:tt=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const at=getPanInfo(this.lastMoveEventInfo,this.history),ut=this.startEvent!==null,ht=distance2D(at.offset,{x:0,y:0})>=3;if(!ut&&!ht)return;const{point:yt}=at,{timestamp:wt}=frameData;this.history.push({...yt,timestamp:wt});const{onStart:Ct,onMove:Pt}=this.handlers;ut||(Ct&&Ct(this.lastMoveEvent,at),this.startEvent=this.lastMoveEvent),Pt&&Pt(this.lastMoveEvent,at)},this.handlePointerMove=(at,ut)=>{this.lastMoveEvent=at,this.lastMoveEventInfo=transformPoint(ut,this.transformPagePoint),frame.update(this.updatePoint,!0)},this.handlePointerUp=(at,ut)=>{this.end();const{onEnd:ht,onSessionEnd:yt,resumeAnimation:wt}=this.handlers;if(this.dragSnapToOrigin&&wt&&wt(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const Ct=getPanInfo(at.type==="pointercancel"?this.lastMoveEventInfo:transformPoint(ut,this.transformPagePoint),this.history);this.startEvent&&ht&&ht(at,Ct),yt&&yt(at,Ct)},!isPrimaryPointer(_))return;this.dragSnapToOrigin=tt,this.handlers=$,this.transformPagePoint=j,this.contextWindow=et||window;const rt=extractEventInfo(_),nt=transformPoint(rt,this.transformPagePoint),{point:it}=nt,{timestamp:st}=frameData;this.history=[{...it,timestamp:st}];const{onSessionStart:ot}=$;ot&&ot(_,getPanInfo(nt,this.history)),this.removeListeners=pipe$1(addPointerEvent(this.contextWindow,"pointermove",this.handlePointerMove),addPointerEvent(this.contextWindow,"pointerup",this.handlePointerUp),addPointerEvent(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(_){this.handlers=_}end(){this.removeListeners&&this.removeListeners(),cancelFrame(this.updatePoint)}}function transformPoint(a,_){return _?{point:_(a.point)}:a}function subtractPoint(a,_){return{x:a.x-_.x,y:a.y-_.y}}function getPanInfo({point:a},_){return{point:a,delta:subtractPoint(a,lastDevicePoint(_)),offset:subtractPoint(a,startDevicePoint(_)),velocity:getVelocity(_,.1)}}function startDevicePoint(a){return a[0]}function lastDevicePoint(a){return a[a.length-1]}function getVelocity(a,_){if(a.length<2)return{x:0,y:0};let $=a.length-1,j=null;const et=lastDevicePoint(a);for(;$>=0&&(j=a[$],!(et.timestamp-j.timestamp>secondsToMilliseconds$1(_)));)$--;if(!j)return{x:0,y:0};const tt=millisecondsToSeconds(et.timestamp-j.timestamp);if(tt===0)return{x:0,y:0};const rt={x:(et.x-j.x)/tt,y:(et.y-j.y)/tt};return rt.x===1/0&&(rt.x=0),rt.y===1/0&&(rt.y=0),rt}function calcLength(a){return a.max-a.min}function isNear(a,_=0,$=.01){return Math.abs(a-_)<=$}function calcAxisDelta(a,_,$,j=.5){a.origin=j,a.originPoint=mixNumber$1(_.min,_.max,a.origin),a.scale=calcLength($)/calcLength(_),(isNear(a.scale,1,1e-4)||isNaN(a.scale))&&(a.scale=1),a.translate=mixNumber$1($.min,$.max,a.origin)-a.originPoint,(isNear(a.translate)||isNaN(a.translate))&&(a.translate=0)}function calcBoxDelta(a,_,$,j){calcAxisDelta(a.x,_.x,$.x,j?j.originX:void 0),calcAxisDelta(a.y,_.y,$.y,j?j.originY:void 0)}function calcRelativeAxis(a,_,$){a.min=$.min+_.min,a.max=a.min+calcLength(_)}function calcRelativeBox(a,_,$){calcRelativeAxis(a.x,_.x,$.x),calcRelativeAxis(a.y,_.y,$.y)}function calcRelativeAxisPosition(a,_,$){a.min=_.min-$.min,a.max=a.min+calcLength(_)}function calcRelativePosition(a,_,$){calcRelativeAxisPosition(a.x,_.x,$.x),calcRelativeAxisPosition(a.y,_.y,$.y)}function applyConstraints(a,{min:_,max:$},j){return _!==void 0&&a<_?a=j?mixNumber$1(_,a,j.min):Math.max(a,_):$!==void 0&&a>$&&(a=j?mixNumber$1($,a,j.max):Math.min(a,$)),a}function calcRelativeAxisConstraints(a,_,$){return{min:_!==void 0?a.min+_:void 0,max:$!==void 0?a.max+$-(a.max-a.min):void 0}}function calcRelativeConstraints(a,{top:_,left:$,bottom:j,right:et}){return{x:calcRelativeAxisConstraints(a.x,$,et),y:calcRelativeAxisConstraints(a.y,_,j)}}function calcViewportAxisConstraints(a,_){let $=_.min-a.min,j=_.max-a.max;return _.max-_.min<a.max-a.min&&([$,j]=[j,$]),{min:$,max:j}}function calcViewportConstraints(a,_){return{x:calcViewportAxisConstraints(a.x,_.x),y:calcViewportAxisConstraints(a.y,_.y)}}function calcOrigin(a,_){let $=.5;const j=calcLength(a),et=calcLength(_);return et>j?$=progress(_.min,_.max-j,a.min):j>et&&($=progress(a.min,a.max-et,_.min)),clamp(0,1,$)}function rebaseAxisConstraints(a,_){const $={};return _.min!==void 0&&($.min=_.min-a.min),_.max!==void 0&&($.max=_.max-a.min),$}const defaultElastic=.35;function resolveDragElastic(a=defaultElastic){return a===!1?a=0:a===!0&&(a=defaultElastic),{x:resolveAxisElastic(a,"left","right"),y:resolveAxisElastic(a,"top","bottom")}}function resolveAxisElastic(a,_,$){return{min:resolvePointElastic(a,_),max:resolvePointElastic(a,$)}}function resolvePointElastic(a,_){return typeof a=="number"?a:a[_]||0}const createAxisDelta=()=>({translate:0,scale:1,origin:0,originPoint:0}),createDelta=()=>({x:createAxisDelta(),y:createAxisDelta()}),createAxis=()=>({min:0,max:0}),createBox=()=>({x:createAxis(),y:createAxis()});function eachAxis(a){return[a("x"),a("y")]}function convertBoundingBoxToBox({top:a,left:_,right:$,bottom:j}){return{x:{min:_,max:$},y:{min:a,max:j}}}function convertBoxToBoundingBox({x:a,y:_}){return{top:_.min,right:a.max,bottom:_.max,left:a.min}}function transformBoxPoints(a,_){if(!_)return a;const $=_({x:a.left,y:a.top}),j=_({x:a.right,y:a.bottom});return{top:$.y,left:$.x,bottom:j.y,right:j.x}}function isIdentityScale(a){return a===void 0||a===1}function hasScale({scale:a,scaleX:_,scaleY:$}){return!isIdentityScale(a)||!isIdentityScale(_)||!isIdentityScale($)}function hasTransform(a){return hasScale(a)||has2DTranslate(a)||a.z||a.rotate||a.rotateX||a.rotateY||a.skewX||a.skewY}function has2DTranslate(a){return is2DTranslate(a.x)||is2DTranslate(a.y)}function is2DTranslate(a){return a&&a!=="0%"}function scalePoint(a,_,$){const j=a-$,et=_*j;return $+et}function applyPointDelta(a,_,$,j,et){return et!==void 0&&(a=scalePoint(a,et,j)),scalePoint(a,$,j)+_}function applyAxisDelta(a,_=0,$=1,j,et){a.min=applyPointDelta(a.min,_,$,j,et),a.max=applyPointDelta(a.max,_,$,j,et)}function applyBoxDelta(a,{x:_,y:$}){applyAxisDelta(a.x,_.translate,_.scale,_.originPoint),applyAxisDelta(a.y,$.translate,$.scale,$.originPoint)}function applyTreeDeltas(a,_,$,j=!1){const et=$.length;if(!et)return;_.x=_.y=1;let tt,rt;for(let nt=0;nt<et;nt++){tt=$[nt],rt=tt.projectionDelta;const it=tt.instance;it&&it.style&&it.style.display==="contents"||(j&&tt.options.layoutScroll&&tt.scroll&&tt!==tt.root&&transformBox(a,{x:-tt.scroll.offset.x,y:-tt.scroll.offset.y}),rt&&(_.x*=rt.x.scale,_.y*=rt.y.scale,applyBoxDelta(a,rt)),j&&hasTransform(tt.latestValues)&&transformBox(a,tt.latestValues))}_.x=snapToDefault(_.x),_.y=snapToDefault(_.y)}function snapToDefault(a){return Number.isInteger(a)||a>1.0000000000001||a<.999999999999?a:1}function translateAxis(a,_){a.min=a.min+_,a.max=a.max+_}function transformAxis(a,_,[$,j,et]){const tt=_[et]!==void 0?_[et]:.5,rt=mixNumber$1(a.min,a.max,tt);applyAxisDelta(a,_[$],_[j],rt,_.scale)}const xKeys$1=["x","scaleX","originX"],yKeys$1=["y","scaleY","originY"];function transformBox(a,_){transformAxis(a.x,_,xKeys$1),transformAxis(a.y,_,yKeys$1)}function measureViewportBox(a,_){return convertBoundingBoxToBox(transformBoxPoints(a.getBoundingClientRect(),_))}function measurePageBox(a,_,$){const j=measureViewportBox(a,$),{scroll:et}=_;return et&&(translateAxis(j.x,et.offset.x),translateAxis(j.y,et.offset.y)),j}const getContextWindow=({current:a})=>a?a.ownerDocument.defaultView:null,elementDragControls=new WeakMap;class VisualElementDragControls{constructor(_){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=createBox(),this.visualElement=_}start(_,{snapToCursor:$=!1}={}){const{presenceContext:j}=this.visualElement;if(j&&j.isPresent===!1)return;const et=ot=>{const{dragSnapToOrigin:at}=this.getProps();at?this.pauseAnimation():this.stopAnimation(),$&&this.snapToCursor(extractEventInfo(ot,"page").point)},tt=(ot,at)=>{const{drag:ut,dragPropagation:ht,onDragStart:yt}=this.getProps();if(ut&&!ht&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=getGlobalLock(ut),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),eachAxis(Ct=>{let Pt=this.getAxisMotionValue(Ct).get()||0;if(percent.test(Pt)){const{projection:Tt}=this.visualElement;if(Tt&&Tt.layout){const Mt=Tt.layout.layoutBox[Ct];Mt&&(Pt=calcLength(Mt)*(parseFloat(Pt)/100))}}this.originPoint[Ct]=Pt}),yt&&frame.postRender(()=>yt(ot,at));const{animationState:wt}=this.visualElement;wt&&wt.setActive("whileDrag",!0)},rt=(ot,at)=>{const{dragPropagation:ut,dragDirectionLock:ht,onDirectionLock:yt,onDrag:wt}=this.getProps();if(!ut&&!this.openGlobalLock)return;const{offset:Ct}=at;if(ht&&this.currentDirection===null){this.currentDirection=getCurrentDirection(Ct),this.currentDirection!==null&&yt&&yt(this.currentDirection);return}this.updateAxis("x",at.point,Ct),this.updateAxis("y",at.point,Ct),this.visualElement.render(),wt&&wt(ot,at)},nt=(ot,at)=>this.stop(ot,at),it=()=>eachAxis(ot=>{var at;return this.getAnimationState(ot)==="paused"&&((at=this.getAxisMotionValue(ot).animation)===null||at===void 0?void 0:at.play())}),{dragSnapToOrigin:st}=this.getProps();this.panSession=new PanSession(_,{onSessionStart:et,onStart:tt,onMove:rt,onSessionEnd:nt,resumeAnimation:it},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:st,contextWindow:getContextWindow(this.visualElement)})}stop(_,$){const j=this.isDragging;if(this.cancel(),!j)return;const{velocity:et}=$;this.startAnimation(et);const{onDragEnd:tt}=this.getProps();tt&&frame.postRender(()=>tt(_,$))}cancel(){this.isDragging=!1;const{projection:_,animationState:$}=this.visualElement;_&&(_.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:j}=this.getProps();!j&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),$&&$.setActive("whileDrag",!1)}updateAxis(_,$,j){const{drag:et}=this.getProps();if(!j||!shouldDrag(_,et,this.currentDirection))return;const tt=this.getAxisMotionValue(_);let rt=this.originPoint[_]+j[_];this.constraints&&this.constraints[_]&&(rt=applyConstraints(rt,this.constraints[_],this.elastic[_])),tt.set(rt)}resolveConstraints(){var _;const{dragConstraints:$,dragElastic:j}=this.getProps(),et=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(_=this.visualElement.projection)===null||_===void 0?void 0:_.layout,tt=this.constraints;$&&isRefObject$2($)?this.constraints||(this.constraints=this.resolveRefConstraints()):$&&et?this.constraints=calcRelativeConstraints(et.layoutBox,$):this.constraints=!1,this.elastic=resolveDragElastic(j),tt!==this.constraints&&et&&this.constraints&&!this.hasMutatedConstraints&&eachAxis(rt=>{this.constraints!==!1&&this.getAxisMotionValue(rt)&&(this.constraints[rt]=rebaseAxisConstraints(et.layoutBox[rt],this.constraints[rt]))})}resolveRefConstraints(){const{dragConstraints:_,onMeasureDragConstraints:$}=this.getProps();if(!_||!isRefObject$2(_))return!1;const j=_.current,{projection:et}=this.visualElement;if(!et||!et.layout)return!1;const tt=measurePageBox(j,et.root,this.visualElement.getTransformPagePoint());let rt=calcViewportConstraints(et.layout.layoutBox,tt);if($){const nt=$(convertBoxToBoundingBox(rt));this.hasMutatedConstraints=!!nt,nt&&(rt=convertBoundingBoxToBox(nt))}return rt}startAnimation(_){const{drag:$,dragMomentum:j,dragElastic:et,dragTransition:tt,dragSnapToOrigin:rt,onDragTransitionEnd:nt}=this.getProps(),it=this.constraints||{},st=eachAxis(ot=>{if(!shouldDrag(ot,$,this.currentDirection))return;let at=it&&it[ot]||{};rt&&(at={min:0,max:0});const ut=et?200:1e6,ht=et?40:1e7,yt={type:"inertia",velocity:j?_[ot]:0,bounceStiffness:ut,bounceDamping:ht,timeConstant:750,restDelta:1,restSpeed:10,...tt,...at};return this.startAxisValueAnimation(ot,yt)});return Promise.all(st).then(nt)}startAxisValueAnimation(_,$){const j=this.getAxisMotionValue(_);return j.start(animateMotionValue(_,j,0,$,this.visualElement))}stopAnimation(){eachAxis(_=>this.getAxisMotionValue(_).stop())}pauseAnimation(){eachAxis(_=>{var $;return($=this.getAxisMotionValue(_).animation)===null||$===void 0?void 0:$.pause()})}getAnimationState(_){var $;return($=this.getAxisMotionValue(_).animation)===null||$===void 0?void 0:$.state}getAxisMotionValue(_){const $=`_drag${_.toUpperCase()}`,j=this.visualElement.getProps(),et=j[$];return et||this.visualElement.getValue(_,(j.initial?j.initial[_]:void 0)||0)}snapToCursor(_){eachAxis($=>{const{drag:j}=this.getProps();if(!shouldDrag($,j,this.currentDirection))return;const{projection:et}=this.visualElement,tt=this.getAxisMotionValue($);if(et&&et.layout){const{min:rt,max:nt}=et.layout.layoutBox[$];tt.set(_[$]-mixNumber$1(rt,nt,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:_,dragConstraints:$}=this.getProps(),{projection:j}=this.visualElement;if(!isRefObject$2($)||!j||!this.constraints)return;this.stopAnimation();const et={x:0,y:0};eachAxis(rt=>{const nt=this.getAxisMotionValue(rt);if(nt&&this.constraints!==!1){const it=nt.get();et[rt]=calcOrigin({min:it,max:it},this.constraints[rt])}});const{transformTemplate:tt}=this.visualElement.getProps();this.visualElement.current.style.transform=tt?tt({},""):"none",j.root&&j.root.updateScroll(),j.updateLayout(),this.resolveConstraints(),eachAxis(rt=>{if(!shouldDrag(rt,_,null))return;const nt=this.getAxisMotionValue(rt),{min:it,max:st}=this.constraints[rt];nt.set(mixNumber$1(it,st,et[rt]))})}addListeners(){if(!this.visualElement.current)return;elementDragControls.set(this.visualElement,this);const _=this.visualElement.current,$=addPointerEvent(_,"pointerdown",it=>{const{drag:st,dragListener:ot=!0}=this.getProps();st&&ot&&this.start(it)}),j=()=>{const{dragConstraints:it}=this.getProps();isRefObject$2(it)&&(this.constraints=this.resolveRefConstraints())},{projection:et}=this.visualElement,tt=et.addEventListener("measure",j);et&&!et.layout&&(et.root&&et.root.updateScroll(),et.updateLayout()),j();const rt=addDomEvent(window,"resize",()=>this.scalePositionWithinConstraints()),nt=et.addEventListener("didUpdate",({delta:it,hasLayoutChanged:st})=>{this.isDragging&&st&&(eachAxis(ot=>{const at=this.getAxisMotionValue(ot);at&&(this.originPoint[ot]+=it[ot].translate,at.set(at.get()+it[ot].translate))}),this.visualElement.render())});return()=>{rt(),$(),tt(),nt&&nt()}}getProps(){const _=this.visualElement.getProps(),{drag:$=!1,dragDirectionLock:j=!1,dragPropagation:et=!1,dragConstraints:tt=!1,dragElastic:rt=defaultElastic,dragMomentum:nt=!0}=_;return{..._,drag:$,dragDirectionLock:j,dragPropagation:et,dragConstraints:tt,dragElastic:rt,dragMomentum:nt}}}function shouldDrag(a,_,$){return(_===!0||_===a)&&($===null||$===a)}function getCurrentDirection(a,_=10){let $=null;return Math.abs(a.y)>_?$="y":Math.abs(a.x)>_&&($="x"),$}class DragGesture extends Feature{constructor(_){super(_),this.removeGroupControls=noop$b,this.removeListeners=noop$b,this.controls=new VisualElementDragControls(_)}mount(){const{dragControls:_}=this.node.getProps();_&&(this.removeGroupControls=_.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||noop$b}unmount(){this.removeGroupControls(),this.removeListeners()}}const asyncHandler=a=>(_,$)=>{a&&frame.postRender(()=>a(_,$))};class PanGesture extends Feature{constructor(){super(...arguments),this.removePointerDownListener=noop$b}onPointerDown(_){this.session=new PanSession(_,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:getContextWindow(this.node)})}createPanHandlers(){const{onPanSessionStart:_,onPanStart:$,onPan:j,onPanEnd:et}=this.node.getProps();return{onSessionStart:asyncHandler(_),onStart:asyncHandler($),onMove:j,onEnd:(tt,rt)=>{delete this.session,et&&frame.postRender(()=>et(tt,rt))}}}mount(){this.removePointerDownListener=addPointerEvent(this.node.current,"pointerdown",_=>this.onPointerDown(_))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function usePresence(){const a=reactExports.useContext(PresenceContext);if(a===null)return[!0,null];const{isPresent:_,onExitComplete:$,register:j}=a,et=reactExports.useId();return reactExports.useEffect(()=>j(et),[]),!_&&$?[!1,()=>$&&$(et)]:[!0]}function useIsPresent(){return isPresent(reactExports.useContext(PresenceContext))}function isPresent(a){return a===null?!0:a.isPresent}const globalProjectionState={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function pixelsToPercent(a,_){return _.max===_.min?0:a/(_.max-_.min)*100}const correctBorderRadius={correct:(a,_)=>{if(!_.target)return a;if(typeof a=="string")if(px.test(a))a=parseFloat(a);else return a;const $=pixelsToPercent(a,_.target.x),j=pixelsToPercent(a,_.target.y);return`${$}% ${j}%`}},correctBoxShadow={correct:(a,{treeScale:_,projectionDelta:$})=>{const j=a,et=complex.parse(a);if(et.length>5)return j;const tt=complex.createTransformer(a),rt=typeof et[0]!="number"?1:0,nt=$.x.scale*_.x,it=$.y.scale*_.y;et[0+rt]/=nt,et[1+rt]/=it;const st=mixNumber$1(nt,it,.5);return typeof et[2+rt]=="number"&&(et[2+rt]/=st),typeof et[3+rt]=="number"&&(et[3+rt]/=st),tt(et)}};class MeasureLayoutWithContext extends reactExports.Component{componentDidMount(){const{visualElement:_,layoutGroup:$,switchLayoutGroup:j,layoutId:et}=this.props,{projection:tt}=_;addScaleCorrector(defaultScaleCorrectors),tt&&($.group&&$.group.add(tt),j&&j.register&&et&&j.register(tt),tt.root.didUpdate(),tt.addEventListener("animationComplete",()=>{this.safeToRemove()}),tt.setOptions({...tt.options,onExitComplete:()=>this.safeToRemove()})),globalProjectionState.hasEverUpdated=!0}getSnapshotBeforeUpdate(_){const{layoutDependency:$,visualElement:j,drag:et,isPresent:tt}=this.props,rt=j.projection;return rt&&(rt.isPresent=tt,et||_.layoutDependency!==$||$===void 0?rt.willUpdate():this.safeToRemove(),_.isPresent!==tt&&(tt?rt.promote():rt.relegate()||frame.postRender(()=>{const nt=rt.getStack();(!nt||!nt.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:_}=this.props.visualElement;_&&(_.root.didUpdate(),microtask.postRender(()=>{!_.currentAnimation&&_.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:_,layoutGroup:$,switchLayoutGroup:j}=this.props,{projection:et}=_;et&&(et.scheduleCheckAfterUnmount(),$&&$.group&&$.group.remove(et),j&&j.deregister&&j.deregister(et))}safeToRemove(){const{safeToRemove:_}=this.props;_&&_()}render(){return null}}function MeasureLayout(a){const[_,$]=usePresence(),j=reactExports.useContext(LayoutGroupContext);return jsxRuntimeExports.jsx(MeasureLayoutWithContext,{...a,layoutGroup:j,switchLayoutGroup:reactExports.useContext(SwitchLayoutGroupContext),isPresent:_,safeToRemove:$})}const defaultScaleCorrectors={borderRadius:{...correctBorderRadius,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:correctBorderRadius,borderTopRightRadius:correctBorderRadius,borderBottomLeftRadius:correctBorderRadius,borderBottomRightRadius:correctBorderRadius,boxShadow:correctBoxShadow},borders=["TopLeft","TopRight","BottomLeft","BottomRight"],numBorders=borders.length,asNumber=a=>typeof a=="string"?parseFloat(a):a,isPx=a=>typeof a=="number"||px.test(a);function mixValues(a,_,$,j,et,tt){et?(a.opacity=mixNumber$1(0,$.opacity!==void 0?$.opacity:1,easeCrossfadeIn(j)),a.opacityExit=mixNumber$1(_.opacity!==void 0?_.opacity:1,0,easeCrossfadeOut(j))):tt&&(a.opacity=mixNumber$1(_.opacity!==void 0?_.opacity:1,$.opacity!==void 0?$.opacity:1,j));for(let rt=0;rt<numBorders;rt++){const nt=`border${borders[rt]}Radius`;let it=getRadius(_,nt),st=getRadius($,nt);if(it===void 0&&st===void 0)continue;it||(it=0),st||(st=0),it===0||st===0||isPx(it)===isPx(st)?(a[nt]=Math.max(mixNumber$1(asNumber(it),asNumber(st),j),0),(percent.test(st)||percent.test(it))&&(a[nt]+="%")):a[nt]=st}(_.rotate||$.rotate)&&(a.rotate=mixNumber$1(_.rotate||0,$.rotate||0,j))}function getRadius(a,_){return a[_]!==void 0?a[_]:a.borderRadius}const easeCrossfadeIn=compress(0,.5,circOut),easeCrossfadeOut=compress(.5,.95,noop$b);function compress(a,_,$){return j=>j<a?0:j>_?1:$(progress(a,_,j))}function copyAxisInto(a,_){a.min=_.min,a.max=_.max}function copyBoxInto(a,_){copyAxisInto(a.x,_.x),copyAxisInto(a.y,_.y)}function removePointDelta(a,_,$,j,et){return a-=_,a=scalePoint(a,1/$,j),et!==void 0&&(a=scalePoint(a,1/et,j)),a}function removeAxisDelta(a,_=0,$=1,j=.5,et,tt=a,rt=a){if(percent.test(_)&&(_=parseFloat(_),_=mixNumber$1(rt.min,rt.max,_/100)-rt.min),typeof _!="number")return;let nt=mixNumber$1(tt.min,tt.max,j);a===tt&&(nt-=_),a.min=removePointDelta(a.min,_,$,nt,et),a.max=removePointDelta(a.max,_,$,nt,et)}function removeAxisTransforms(a,_,[$,j,et],tt,rt){removeAxisDelta(a,_[$],_[j],_[et],_.scale,tt,rt)}const xKeys=["x","scaleX","originX"],yKeys=["y","scaleY","originY"];function removeBoxTransforms(a,_,$,j){removeAxisTransforms(a.x,_,xKeys,$?$.x:void 0,j?j.x:void 0),removeAxisTransforms(a.y,_,yKeys,$?$.y:void 0,j?j.y:void 0)}function isAxisDeltaZero(a){return a.translate===0&&a.scale===1}function isDeltaZero(a){return isAxisDeltaZero(a.x)&&isAxisDeltaZero(a.y)}function boxEquals(a,_){return a.x.min===_.x.min&&a.x.max===_.x.max&&a.y.min===_.y.min&&a.y.max===_.y.max}function boxEqualsRounded(a,_){return Math.round(a.x.min)===Math.round(_.x.min)&&Math.round(a.x.max)===Math.round(_.x.max)&&Math.round(a.y.min)===Math.round(_.y.min)&&Math.round(a.y.max)===Math.round(_.y.max)}function aspectRatio(a){return calcLength(a.x)/calcLength(a.y)}class NodeStack{constructor(){this.members=[]}add(_){addUniqueItem(this.members,_),_.scheduleRender()}remove(_){if(removeItem(this.members,_),_===this.prevLead&&(this.prevLead=void 0),_===this.lead){const $=this.members[this.members.length-1];$&&this.promote($)}}relegate(_){const $=this.members.findIndex(et=>_===et);if($===0)return!1;let j;for(let et=$;et>=0;et--){const tt=this.members[et];if(tt.isPresent!==!1){j=tt;break}}return j?(this.promote(j),!0):!1}promote(_,$){const j=this.lead;if(_!==j&&(this.prevLead=j,this.lead=_,_.show(),j)){j.instance&&j.scheduleRender(),_.scheduleRender(),_.resumeFrom=j,$&&(_.resumeFrom.preserveOpacity=!0),j.snapshot&&(_.snapshot=j.snapshot,_.snapshot.latestValues=j.animationValues||j.latestValues),_.root&&_.root.isUpdating&&(_.isLayoutDirty=!0);const{crossfade:et}=_.options;et===!1&&j.hide()}}exitAnimationComplete(){this.members.forEach(_=>{const{options:$,resumingFrom:j}=_;$.onExitComplete&&$.onExitComplete(),j&&j.options.onExitComplete&&j.options.onExitComplete()})}scheduleRender(){this.members.forEach(_=>{_.instance&&_.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function buildProjectionTransform(a,_,$){let j="";const et=a.x.translate/_.x,tt=a.y.translate/_.y,rt=($==null?void 0:$.z)||0;if((et||tt||rt)&&(j=`translate3d(${et}px, ${tt}px, ${rt}px) `),(_.x!==1||_.y!==1)&&(j+=`scale(${1/_.x}, ${1/_.y}) `),$){const{transformPerspective:st,rotate:ot,rotateX:at,rotateY:ut,skewX:ht,skewY:yt}=$;st&&(j=`perspective(${st}px) ${j}`),ot&&(j+=`rotate(${ot}deg) `),at&&(j+=`rotateX(${at}deg) `),ut&&(j+=`rotateY(${ut}deg) `),ht&&(j+=`skewX(${ht}deg) `),yt&&(j+=`skewY(${yt}deg) `)}const nt=a.x.scale*_.x,it=a.y.scale*_.y;return(nt!==1||it!==1)&&(j+=`scale(${nt}, ${it})`),j||"none"}const compareByDepth=(a,_)=>a.depth-_.depth;class FlatTree{constructor(){this.children=[],this.isDirty=!1}add(_){addUniqueItem(this.children,_),this.isDirty=!0}remove(_){removeItem(this.children,_),this.isDirty=!0}forEach(_){this.isDirty&&this.children.sort(compareByDepth),this.isDirty=!1,this.children.forEach(_)}}function delay(a,_){const $=time.now(),j=({timestamp:et})=>{const tt=et-$;tt>=_&&(cancelFrame(j),a(tt-_))};return frame.read(j,!0),()=>cancelFrame(j)}function record(a){window.MotionDebug&&window.MotionDebug.record(a)}function isSVGElement(a){return a instanceof SVGElement&&a.tagName!=="svg"}function animateSingleValue(a,_,$){const j=isMotionValue(a)?a:motionValue(a);return j.start(animateMotionValue("",j,_,$)),j.animation}const transformAxes=["","X","Y","Z"],hiddenVisibility={visibility:"hidden"},animationTarget=1e3;let id$1=0;const projectionFrameData={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function resetDistortingTransform(a,_,$,j){const{latestValues:et}=_;et[a]&&($[a]=et[a],_.setStaticValue(a,0),j&&(j[a]=0))}function createProjectionNode({attachResizeListener:a,defaultParent:_,measureScroll:$,checkIsScrollRoot:j,resetTransform:et}){return class{constructor(rt={},nt=_==null?void 0:_()){this.id=id$1++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,projectionFrameData.totalNodes=projectionFrameData.resolvedTargetDeltas=projectionFrameData.recalculatedProjection=0,this.nodes.forEach(propagateDirtyNodes),this.nodes.forEach(resolveTargetDelta),this.nodes.forEach(calcProjection),this.nodes.forEach(cleanDirtyNodes),record(projectionFrameData)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=rt,this.root=nt?nt.root||nt:this,this.path=nt?[...nt.path,nt]:[],this.parent=nt,this.depth=nt?nt.depth+1:0;for(let it=0;it<this.path.length;it++)this.path[it].shouldResetTransform=!0;this.root===this&&(this.nodes=new FlatTree)}addEventListener(rt,nt){return this.eventHandlers.has(rt)||this.eventHandlers.set(rt,new SubscriptionManager),this.eventHandlers.get(rt).add(nt)}notifyListeners(rt,...nt){const it=this.eventHandlers.get(rt);it&&it.notify(...nt)}hasListeners(rt){return this.eventHandlers.has(rt)}mount(rt,nt=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=isSVGElement(rt),this.instance=rt;const{layoutId:it,layout:st,visualElement:ot}=this.options;if(ot&&!ot.current&&ot.mount(rt),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),nt&&(st||it)&&(this.isLayoutDirty=!0),a){let at;const ut=()=>this.root.updateBlockedByResize=!1;a(rt,()=>{this.root.updateBlockedByResize=!0,at&&at(),at=delay(ut,250),globalProjectionState.hasAnimatedSinceResize&&(globalProjectionState.hasAnimatedSinceResize=!1,this.nodes.forEach(finishAnimation))})}it&&this.root.registerSharedNode(it,this),this.options.animate!==!1&&ot&&(it||st)&&this.addEventListener("didUpdate",({delta:at,hasLayoutChanged:ut,hasRelativeTargetChanged:ht,layout:yt})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const wt=this.options.transition||ot.getDefaultTransition()||defaultLayoutTransition,{onLayoutAnimationStart:Ct,onLayoutAnimationComplete:Pt}=ot.getProps(),Tt=!this.targetLayout||!boxEqualsRounded(this.targetLayout,yt)||ht,Mt=!ut&&ht;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||Mt||ut&&(Tt||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(at,Mt);const Lt={...getValueTransition(wt,"layout"),onPlay:Ct,onComplete:Pt};(ot.shouldReduceMotion||this.options.layoutRoot)&&(Lt.delay=0,Lt.type=!1),this.startAnimation(Lt)}else ut||finishAnimation(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=yt})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const rt=this.getStack();rt&&rt.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,cancelFrame(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(resetSkewAndRotation),this.animationId++)}getTransformTemplate(){const{visualElement:rt}=this.options;return rt&&rt.getProps().transformTemplate}willUpdate(rt=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let ot=0;ot<this.path.length;ot++){const at=this.path[ot];at.shouldResetTransform=!0,at.updateScroll("snapshot"),at.options.layoutRoot&&at.willUpdate(!1)}const{layoutId:nt,layout:it}=this.options;if(nt===void 0&&!it)return;const st=this.getTransformTemplate();this.prevTransformTemplateValue=st?st(this.latestValues,""):void 0,this.updateSnapshot(),rt&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(clearMeasurements);return}this.isUpdating||this.nodes.forEach(clearIsLayoutDirty),this.isUpdating=!1,window.HandoffCancelAllAnimations&&window.HandoffCancelAllAnimations(),this.nodes.forEach(resetTransformStyle),this.nodes.forEach(updateLayout),this.nodes.forEach(notifyLayoutUpdate),this.clearAllSnapshots();const nt=time.now();frameData.delta=clamp(0,1e3/60,nt-frameData.timestamp),frameData.timestamp=nt,frameData.isProcessing=!0,steps.update.process(frameData),steps.preRender.process(frameData),steps.render.process(frameData),frameData.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,microtask.read(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(clearSnapshot),this.sharedNodes.forEach(removeLeadSnapshots)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,frame.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){frame.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let it=0;it<this.path.length;it++)this.path[it].updateScroll();const rt=this.layout;this.layout=this.measure(!1),this.layoutCorrected=createBox(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:nt}=this.options;nt&&nt.notify("LayoutMeasure",this.layout.layoutBox,rt?rt.layoutBox:void 0)}updateScroll(rt="measure"){let nt=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===rt&&(nt=!1),nt&&(this.scroll={animationId:this.root.animationId,phase:rt,isRoot:j(this.instance),offset:$(this.instance)})}resetTransform(){if(!et)return;const rt=this.isLayoutDirty||this.shouldResetTransform,nt=this.projectionDelta&&!isDeltaZero(this.projectionDelta),it=this.getTransformTemplate(),st=it?it(this.latestValues,""):void 0,ot=st!==this.prevTransformTemplateValue;rt&&(nt||hasTransform(this.latestValues)||ot)&&(et(this.instance,st),this.shouldResetTransform=!1,this.scheduleRender())}measure(rt=!0){const nt=this.measurePageBox();let it=this.removeElementScroll(nt);return rt&&(it=this.removeTransform(it)),roundBox(it),{animationId:this.root.animationId,measuredBox:nt,layoutBox:it,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:rt}=this.options;if(!rt)return createBox();const nt=rt.measureViewportBox(),{scroll:it}=this.root;return it&&(translateAxis(nt.x,it.offset.x),translateAxis(nt.y,it.offset.y)),nt}removeElementScroll(rt){const nt=createBox();copyBoxInto(nt,rt);for(let it=0;it<this.path.length;it++){const st=this.path[it],{scroll:ot,options:at}=st;if(st!==this.root&&ot&&at.layoutScroll){if(ot.isRoot){copyBoxInto(nt,rt);const{scroll:ut}=this.root;ut&&(translateAxis(nt.x,-ut.offset.x),translateAxis(nt.y,-ut.offset.y))}translateAxis(nt.x,ot.offset.x),translateAxis(nt.y,ot.offset.y)}}return nt}applyTransform(rt,nt=!1){const it=createBox();copyBoxInto(it,rt);for(let st=0;st<this.path.length;st++){const ot=this.path[st];!nt&&ot.options.layoutScroll&&ot.scroll&&ot!==ot.root&&transformBox(it,{x:-ot.scroll.offset.x,y:-ot.scroll.offset.y}),hasTransform(ot.latestValues)&&transformBox(it,ot.latestValues)}return hasTransform(this.latestValues)&&transformBox(it,this.latestValues),it}removeTransform(rt){const nt=createBox();copyBoxInto(nt,rt);for(let it=0;it<this.path.length;it++){const st=this.path[it];if(!st.instance||!hasTransform(st.latestValues))continue;hasScale(st.latestValues)&&st.updateSnapshot();const ot=createBox(),at=st.measurePageBox();copyBoxInto(ot,at),removeBoxTransforms(nt,st.latestValues,st.snapshot?st.snapshot.layoutBox:void 0,ot)}return hasTransform(this.latestValues)&&removeBoxTransforms(nt,this.latestValues),nt}setTargetDelta(rt){this.targetDelta=rt,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(rt){this.options={...this.options,...rt,crossfade:rt.crossfade!==void 0?rt.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==frameData.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(rt=!1){var nt;const it=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=it.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=it.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=it.isSharedProjectionDirty);const st=!!this.resumingFrom||this!==it;if(!(rt||st&&this.isSharedProjectionDirty||this.isProjectionDirty||!((nt=this.parent)===null||nt===void 0)&&nt.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:at,layoutId:ut}=this.options;if(!(!this.layout||!(at||ut))){if(this.resolvedRelativeTargetAt=frameData.timestamp,!this.targetDelta&&!this.relativeTarget){const ht=this.getClosestProjectingParent();ht&&ht.layout&&this.animationProgress!==1?(this.relativeParent=ht,this.forceRelativeParentToResolveTarget(),this.relativeTarget=createBox(),this.relativeTargetOrigin=createBox(),calcRelativePosition(this.relativeTargetOrigin,this.layout.layoutBox,ht.layout.layoutBox),copyBoxInto(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=createBox(),this.targetWithTransforms=createBox()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),calcRelativeBox(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):copyBoxInto(this.target,this.layout.layoutBox),applyBoxDelta(this.target,this.targetDelta)):copyBoxInto(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const ht=this.getClosestProjectingParent();ht&&!!ht.resumingFrom==!!this.resumingFrom&&!ht.options.layoutScroll&&ht.target&&this.animationProgress!==1?(this.relativeParent=ht,this.forceRelativeParentToResolveTarget(),this.relativeTarget=createBox(),this.relativeTargetOrigin=createBox(),calcRelativePosition(this.relativeTargetOrigin,this.target,ht.target),copyBoxInto(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}projectionFrameData.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||hasScale(this.parent.latestValues)||has2DTranslate(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var rt;const nt=this.getLead(),it=!!this.resumingFrom||this!==nt;let st=!0;if((this.isProjectionDirty||!((rt=this.parent)===null||rt===void 0)&&rt.isProjectionDirty)&&(st=!1),it&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(st=!1),this.resolvedRelativeTargetAt===frameData.timestamp&&(st=!1),st)return;const{layout:ot,layoutId:at}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(ot||at))return;copyBoxInto(this.layoutCorrected,this.layout.layoutBox);const ut=this.treeScale.x,ht=this.treeScale.y;applyTreeDeltas(this.layoutCorrected,this.treeScale,this.path,it),nt.layout&&!nt.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(nt.target=nt.layout.layoutBox,nt.targetWithTransforms=createBox());const{target:yt}=nt;if(!yt){this.projectionTransform&&(this.projectionDelta=createDelta(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=createDelta(),this.projectionDeltaWithTransform=createDelta());const wt=this.projectionTransform;calcBoxDelta(this.projectionDelta,this.layoutCorrected,yt,this.latestValues),this.projectionTransform=buildProjectionTransform(this.projectionDelta,this.treeScale),(this.projectionTransform!==wt||this.treeScale.x!==ut||this.treeScale.y!==ht)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",yt)),projectionFrameData.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(rt=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),rt){const nt=this.getStack();nt&&nt.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(rt,nt=!1){const it=this.snapshot,st=it?it.latestValues:{},ot={...this.latestValues},at=createDelta();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!nt;const ut=createBox(),ht=it?it.source:void 0,yt=this.layout?this.layout.source:void 0,wt=ht!==yt,Ct=this.getStack(),Pt=!Ct||Ct.members.length<=1,Tt=!!(wt&&!Pt&&this.options.crossfade===!0&&!this.path.some(hasOpacityCrossfade));this.animationProgress=0;let Mt;this.mixTargetDelta=Lt=>{const Dt=Lt/1e3;mixAxisDelta(at.x,rt.x,Dt),mixAxisDelta(at.y,rt.y,Dt),this.setTargetDelta(at),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(calcRelativePosition(ut,this.layout.layoutBox,this.relativeParent.layout.layoutBox),mixBox(this.relativeTarget,this.relativeTargetOrigin,ut,Dt),Mt&&boxEquals(this.relativeTarget,Mt)&&(this.isProjectionDirty=!1),Mt||(Mt=createBox()),copyBoxInto(Mt,this.relativeTarget)),wt&&(this.animationValues=ot,mixValues(ot,st,this.latestValues,Dt,Tt,Pt)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=Dt},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(rt){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(cancelFrame(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=frame.update(()=>{globalProjectionState.hasAnimatedSinceResize=!0,this.currentAnimation=animateSingleValue(0,animationTarget,{...rt,onUpdate:nt=>{this.mixTargetDelta(nt),rt.onUpdate&&rt.onUpdate(nt)},onComplete:()=>{rt.onComplete&&rt.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const rt=this.getStack();rt&&rt.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(animationTarget),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const rt=this.getLead();let{targetWithTransforms:nt,target:it,layout:st,latestValues:ot}=rt;if(!(!nt||!it||!st)){if(this!==rt&&this.layout&&st&&shouldAnimatePositionOnly(this.options.animationType,this.layout.layoutBox,st.layoutBox)){it=this.target||createBox();const at=calcLength(this.layout.layoutBox.x);it.x.min=rt.target.x.min,it.x.max=it.x.min+at;const ut=calcLength(this.layout.layoutBox.y);it.y.min=rt.target.y.min,it.y.max=it.y.min+ut}copyBoxInto(nt,it),transformBox(nt,ot),calcBoxDelta(this.projectionDeltaWithTransform,this.layoutCorrected,nt,ot)}}registerSharedNode(rt,nt){this.sharedNodes.has(rt)||this.sharedNodes.set(rt,new NodeStack),this.sharedNodes.get(rt).add(nt);const st=nt.options.initialPromotionConfig;nt.promote({transition:st?st.transition:void 0,preserveFollowOpacity:st&&st.shouldPreserveFollowOpacity?st.shouldPreserveFollowOpacity(nt):void 0})}isLead(){const rt=this.getStack();return rt?rt.lead===this:!0}getLead(){var rt;const{layoutId:nt}=this.options;return nt?((rt=this.getStack())===null||rt===void 0?void 0:rt.lead)||this:this}getPrevLead(){var rt;const{layoutId:nt}=this.options;return nt?(rt=this.getStack())===null||rt===void 0?void 0:rt.prevLead:void 0}getStack(){const{layoutId:rt}=this.options;if(rt)return this.root.sharedNodes.get(rt)}promote({needsReset:rt,transition:nt,preserveFollowOpacity:it}={}){const st=this.getStack();st&&st.promote(this,it),rt&&(this.projectionDelta=void 0,this.needsReset=!0),nt&&this.setOptions({transition:nt})}relegate(){const rt=this.getStack();return rt?rt.relegate(this):!1}resetSkewAndRotation(){const{visualElement:rt}=this.options;if(!rt)return;let nt=!1;const{latestValues:it}=rt;if((it.z||it.rotate||it.rotateX||it.rotateY||it.rotateZ||it.skewX||it.skewY)&&(nt=!0),!nt)return;const st={};it.z&&resetDistortingTransform("z",rt,st,this.animationValues);for(let ot=0;ot<transformAxes.length;ot++)resetDistortingTransform(`rotate${transformAxes[ot]}`,rt,st,this.animationValues),resetDistortingTransform(`skew${transformAxes[ot]}`,rt,st,this.animationValues);rt.render();for(const ot in st)rt.setStaticValue(ot,st[ot]),this.animationValues&&(this.animationValues[ot]=st[ot]);rt.scheduleRender()}getProjectionStyles(rt){var nt,it;if(!this.instance||this.isSVG)return;if(!this.isVisible)return hiddenVisibility;const st={visibility:""},ot=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,st.opacity="",st.pointerEvents=resolveMotionValue(rt==null?void 0:rt.pointerEvents)||"",st.transform=ot?ot(this.latestValues,""):"none",st;const at=this.getLead();if(!this.projectionDelta||!this.layout||!at.target){const wt={};return this.options.layoutId&&(wt.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,wt.pointerEvents=resolveMotionValue(rt==null?void 0:rt.pointerEvents)||""),this.hasProjected&&!hasTransform(this.latestValues)&&(wt.transform=ot?ot({},""):"none",this.hasProjected=!1),wt}const ut=at.animationValues||at.latestValues;this.applyTransformsToTarget(),st.transform=buildProjectionTransform(this.projectionDeltaWithTransform,this.treeScale,ut),ot&&(st.transform=ot(ut,st.transform));const{x:ht,y:yt}=this.projectionDelta;st.transformOrigin=`${ht.origin*100}% ${yt.origin*100}% 0`,at.animationValues?st.opacity=at===this?(it=(nt=ut.opacity)!==null&&nt!==void 0?nt:this.latestValues.opacity)!==null&&it!==void 0?it:1:this.preserveOpacity?this.latestValues.opacity:ut.opacityExit:st.opacity=at===this?ut.opacity!==void 0?ut.opacity:"":ut.opacityExit!==void 0?ut.opacityExit:0;for(const wt in scaleCorrectors){if(ut[wt]===void 0)continue;const{correct:Ct,applyTo:Pt}=scaleCorrectors[wt],Tt=st.transform==="none"?ut[wt]:Ct(ut[wt],at);if(Pt){const Mt=Pt.length;for(let Lt=0;Lt<Mt;Lt++)st[Pt[Lt]]=Tt}else st[wt]=Tt}return this.options.layoutId&&(st.pointerEvents=at===this?resolveMotionValue(rt==null?void 0:rt.pointerEvents)||"":"none"),st}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(rt=>{var nt;return(nt=rt.currentAnimation)===null||nt===void 0?void 0:nt.stop()}),this.root.nodes.forEach(clearMeasurements),this.root.sharedNodes.clear()}}}function updateLayout(a){a.updateLayout()}function notifyLayoutUpdate(a){var _;const $=((_=a.resumeFrom)===null||_===void 0?void 0:_.snapshot)||a.snapshot;if(a.isLead()&&a.layout&&$&&a.hasListeners("didUpdate")){const{layoutBox:j,measuredBox:et}=a.layout,{animationType:tt}=a.options,rt=$.source!==a.layout.source;tt==="size"?eachAxis(at=>{const ut=rt?$.measuredBox[at]:$.layoutBox[at],ht=calcLength(ut);ut.min=j[at].min,ut.max=ut.min+ht}):shouldAnimatePositionOnly(tt,$.layoutBox,j)&&eachAxis(at=>{const ut=rt?$.measuredBox[at]:$.layoutBox[at],ht=calcLength(j[at]);ut.max=ut.min+ht,a.relativeTarget&&!a.currentAnimation&&(a.isProjectionDirty=!0,a.relativeTarget[at].max=a.relativeTarget[at].min+ht)});const nt=createDelta();calcBoxDelta(nt,j,$.layoutBox);const it=createDelta();rt?calcBoxDelta(it,a.applyTransform(et,!0),$.measuredBox):calcBoxDelta(it,j,$.layoutBox);const st=!isDeltaZero(nt);let ot=!1;if(!a.resumeFrom){const at=a.getClosestProjectingParent();if(at&&!at.resumeFrom){const{snapshot:ut,layout:ht}=at;if(ut&&ht){const yt=createBox();calcRelativePosition(yt,$.layoutBox,ut.layoutBox);const wt=createBox();calcRelativePosition(wt,j,ht.layoutBox),boxEqualsRounded(yt,wt)||(ot=!0),at.options.layoutRoot&&(a.relativeTarget=wt,a.relativeTargetOrigin=yt,a.relativeParent=at)}}}a.notifyListeners("didUpdate",{layout:j,snapshot:$,delta:it,layoutDelta:nt,hasLayoutChanged:st,hasRelativeTargetChanged:ot})}else if(a.isLead()){const{onExitComplete:j}=a.options;j&&j()}a.options.transition=void 0}function propagateDirtyNodes(a){projectionFrameData.totalNodes++,a.parent&&(a.isProjecting()||(a.isProjectionDirty=a.parent.isProjectionDirty),a.isSharedProjectionDirty||(a.isSharedProjectionDirty=!!(a.isProjectionDirty||a.parent.isProjectionDirty||a.parent.isSharedProjectionDirty)),a.isTransformDirty||(a.isTransformDirty=a.parent.isTransformDirty))}function cleanDirtyNodes(a){a.isProjectionDirty=a.isSharedProjectionDirty=a.isTransformDirty=!1}function clearSnapshot(a){a.clearSnapshot()}function clearMeasurements(a){a.clearMeasurements()}function clearIsLayoutDirty(a){a.isLayoutDirty=!1}function resetTransformStyle(a){const{visualElement:_}=a.options;_&&_.getProps().onBeforeLayoutMeasure&&_.notify("BeforeLayoutMeasure"),a.resetTransform()}function finishAnimation(a){a.finishAnimation(),a.targetDelta=a.relativeTarget=a.target=void 0,a.isProjectionDirty=!0}function resolveTargetDelta(a){a.resolveTargetDelta()}function calcProjection(a){a.calcProjection()}function resetSkewAndRotation(a){a.resetSkewAndRotation()}function removeLeadSnapshots(a){a.removeLeadSnapshot()}function mixAxisDelta(a,_,$){a.translate=mixNumber$1(_.translate,0,$),a.scale=mixNumber$1(_.scale,1,$),a.origin=_.origin,a.originPoint=_.originPoint}function mixAxis(a,_,$,j){a.min=mixNumber$1(_.min,$.min,j),a.max=mixNumber$1(_.max,$.max,j)}function mixBox(a,_,$,j){mixAxis(a.x,_.x,$.x,j),mixAxis(a.y,_.y,$.y,j)}function hasOpacityCrossfade(a){return a.animationValues&&a.animationValues.opacityExit!==void 0}const defaultLayoutTransition={duration:.45,ease:[.4,0,.1,1]},userAgentContains=a=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(a),roundPoint=userAgentContains("applewebkit/")&&!userAgentContains("chrome/")?Math.round:noop$b;function roundAxis(a){a.min=roundPoint(a.min),a.max=roundPoint(a.max)}function roundBox(a){roundAxis(a.x),roundAxis(a.y)}function shouldAnimatePositionOnly(a,_,$){return a==="position"||a==="preserve-aspect"&&!isNear(aspectRatio(_),aspectRatio($),.2)}const DocumentProjectionNode=createProjectionNode({attachResizeListener:(a,_)=>addDomEvent(a,"resize",_),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),rootProjectionNode={current:void 0},HTMLProjectionNode=createProjectionNode({measureScroll:a=>({x:a.scrollLeft,y:a.scrollTop}),defaultParent:()=>{if(!rootProjectionNode.current){const a=new DocumentProjectionNode({});a.mount(window),a.setOptions({layoutScroll:!0}),rootProjectionNode.current=a}return rootProjectionNode.current},resetTransform:(a,_)=>{a.style.transform=_!==void 0?_:"none"},checkIsScrollRoot:a=>window.getComputedStyle(a).position==="fixed"}),drag={pan:{Feature:PanGesture},drag:{Feature:DragGesture,ProjectionNode:HTMLProjectionNode,MeasureLayout}},prefersReducedMotion={current:null},hasReducedMotionListener={current:!1};function initPrefersReducedMotion(){if(hasReducedMotionListener.current=!0,!!isBrowser$1)if(window.matchMedia){const a=window.matchMedia("(prefers-reduced-motion)"),_=()=>prefersReducedMotion.current=a.matches;a.addListener(_),_()}else prefersReducedMotion.current=!1}function updateMotionValuesFromProps(a,_,$){const{willChange:j}=_;for(const et in _){const tt=_[et],rt=$[et];if(isMotionValue(tt))a.addValue(et,tt),isWillChangeMotionValue(j)&&j.add(et);else if(isMotionValue(rt))a.addValue(et,motionValue(tt,{owner:a})),isWillChangeMotionValue(j)&&j.remove(et);else if(rt!==tt)if(a.hasValue(et)){const nt=a.getValue(et);nt.liveStyle===!0?nt.jump(tt):nt.hasAnimated||nt.set(tt)}else{const nt=a.getStaticValue(et);a.addValue(et,motionValue(nt!==void 0?nt:tt,{owner:a}))}}for(const et in $)_[et]===void 0&&a.removeValue(et);return _}const visualElementStore=new WeakMap,valueTypes=[...dimensionValueTypes,color$1,complex],findValueType=a=>valueTypes.find(testValueType(a)),featureNames=Object.keys(featureDefinitions),numFeatures=featureNames.length,propEventHandlers=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],numVariantProps=variantProps.length;function getClosestProjectingNode(a){if(a)return a.options.allowProjection!==!1?a.projection:getClosestProjectingNode(a.parent)}class VisualElement{scrapeMotionValuesFromProps(_,$,j){return{}}constructor({parent:_,props:$,presenceContext:j,reducedMotionConfig:et,blockInitialAnimation:tt,visualState:rt},nt={}){this.resolveKeyframes=(ut,ht,yt,wt)=>new this.KeyframeResolver(ut,ht,yt,wt,this),this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=KeyframeResolver,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>frame.render(this.render,!1,!0);const{latestValues:it,renderState:st}=rt;this.latestValues=it,this.baseTarget={...it},this.initialValues=$.initial?{...it}:{},this.renderState=st,this.parent=_,this.props=$,this.presenceContext=j,this.depth=_?_.depth+1:0,this.reducedMotionConfig=et,this.options=nt,this.blockInitialAnimation=!!tt,this.isControllingVariants=isControllingVariants($),this.isVariantNode=isVariantNode($),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(_&&_.current);const{willChange:ot,...at}=this.scrapeMotionValuesFromProps($,{},this);for(const ut in at){const ht=at[ut];it[ut]!==void 0&&isMotionValue(ht)&&(ht.set(it[ut],!1),isWillChangeMotionValue(ot)&&ot.add(ut))}}mount(_){this.current=_,visualElementStore.set(_,this),this.projection&&!this.projection.instance&&this.projection.mount(_),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach(($,j)=>this.bindToMotionValue(j,$)),hasReducedMotionListener.current||initPrefersReducedMotion(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:prefersReducedMotion.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){var _;visualElementStore.delete(this.current),this.projection&&this.projection.unmount(),cancelFrame(this.notifyUpdate),cancelFrame(this.render),this.valueSubscriptions.forEach($=>$()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const $ in this.events)this.events[$].clear();for(const $ in this.features)(_=this.features[$])===null||_===void 0||_.unmount();this.current=null}bindToMotionValue(_,$){const j=transformProps.has(_),et=$.on("change",rt=>{this.latestValues[_]=rt,this.props.onUpdate&&frame.preRender(this.notifyUpdate),j&&this.projection&&(this.projection.isTransformDirty=!0)}),tt=$.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(_,()=>{et(),tt(),$.owner&&$.stop()})}sortNodePosition(_){return!this.current||!this.sortInstanceNodePosition||this.type!==_.type?0:this.sortInstanceNodePosition(this.current,_.current)}loadFeatures({children:_,...$},j,et,tt){let rt,nt;for(let it=0;it<numFeatures;it++){const st=featureNames[it],{isEnabled:ot,Feature:at,ProjectionNode:ut,MeasureLayout:ht}=featureDefinitions[st];ut&&(rt=ut),ot($)&&(!this.features[st]&&at&&(this.features[st]=new at(this)),ht&&(nt=ht))}if((this.type==="html"||this.type==="svg")&&!this.projection&&rt){this.projection=new rt(this.latestValues,getClosestProjectingNode(this.parent));const{layoutId:it,layout:st,drag:ot,dragConstraints:at,layoutScroll:ut,layoutRoot:ht}=$;this.projection.setOptions({layoutId:it,layout:st,alwaysMeasureLayout:!!ot||at&&isRefObject$2(at),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof st=="string"?st:"both",initialPromotionConfig:tt,layoutScroll:ut,layoutRoot:ht})}return nt}updateFeatures(){for(const _ in this.features){const $=this.features[_];$.isMounted?$.update():($.mount(),$.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):createBox()}getStaticValue(_){return this.latestValues[_]}setStaticValue(_,$){this.latestValues[_]=$}update(_,$){(_.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=_,this.prevPresenceContext=this.presenceContext,this.presenceContext=$;for(let j=0;j<propEventHandlers.length;j++){const et=propEventHandlers[j];this.propEventSubscriptions[et]&&(this.propEventSubscriptions[et](),delete this.propEventSubscriptions[et]);const tt="on"+et,rt=_[tt];rt&&(this.propEventSubscriptions[et]=this.on(et,rt))}this.prevMotionValues=updateMotionValuesFromProps(this,this.scrapeMotionValuesFromProps(_,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(_){return this.props.variants?this.props.variants[_]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(_=!1){if(_)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const j=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(j.initial=this.props.initial),j}const $={};for(let j=0;j<numVariantProps;j++){const et=variantProps[j],tt=this.props[et];(isVariantLabel(tt)||tt===!1)&&($[et]=tt)}return $}addVariantChild(_){const $=this.getClosestVariantNode();if($)return $.variantChildren&&$.variantChildren.add(_),()=>$.variantChildren.delete(_)}addValue(_,$){const j=this.values.get(_);$!==j&&(j&&this.removeValue(_),this.bindToMotionValue(_,$),this.values.set(_,$),this.latestValues[_]=$.get())}removeValue(_){this.values.delete(_);const $=this.valueSubscriptions.get(_);$&&($(),this.valueSubscriptions.delete(_)),delete this.latestValues[_],this.removeValueFromRenderState(_,this.renderState)}hasValue(_){return this.values.has(_)}getValue(_,$){if(this.props.values&&this.props.values[_])return this.props.values[_];let j=this.values.get(_);return j===void 0&&$!==void 0&&(j=motionValue($===null?void 0:$,{owner:this}),this.addValue(_,j)),j}readValue(_,$){var j;let et=this.latestValues[_]!==void 0||!this.current?this.latestValues[_]:(j=this.getBaseTargetFromProps(this.props,_))!==null&&j!==void 0?j:this.readValueFromInstance(this.current,_,this.options);return et!=null&&(typeof et=="string"&&(isNumericalString(et)||isZeroValueString(et))?et=parseFloat(et):!findValueType(et)&&complex.test($)&&(et=getAnimatableNone(_,$)),this.setBaseTarget(_,isMotionValue(et)?et.get():et)),isMotionValue(et)?et.get():et}setBaseTarget(_,$){this.baseTarget[_]=$}getBaseTarget(_){var $;const{initial:j}=this.props;let et;if(typeof j=="string"||typeof j=="object"){const rt=resolveVariantFromProps(this.props,j,($=this.presenceContext)===null||$===void 0?void 0:$.custom);rt&&(et=rt[_])}if(j&&et!==void 0)return et;const tt=this.getBaseTargetFromProps(this.props,_);return tt!==void 0&&!isMotionValue(tt)?tt:this.initialValues[_]!==void 0&&et===void 0?void 0:this.baseTarget[_]}on(_,$){return this.events[_]||(this.events[_]=new SubscriptionManager),this.events[_].add($)}notify(_,...$){this.events[_]&&this.events[_].notify(...$)}}class DOMVisualElement extends VisualElement{constructor(){super(...arguments),this.KeyframeResolver=DOMKeyframesResolver}sortInstanceNodePosition(_,$){return _.compareDocumentPosition($)&2?1:-1}getBaseTargetFromProps(_,$){return _.style?_.style[$]:void 0}removeValueFromRenderState(_,{vars:$,style:j}){delete $[_],delete j[_]}}function getComputedStyle$2(a){return window.getComputedStyle(a)}class HTMLVisualElement extends DOMVisualElement{constructor(){super(...arguments),this.type="html"}readValueFromInstance(_,$){if(transformProps.has($)){const j=getDefaultValueType($);return j&&j.default||0}else{const j=getComputedStyle$2(_),et=(isCSSVariableName($)?j.getPropertyValue($):j[$])||0;return typeof et=="string"?et.trim():et}}measureInstanceViewportBox(_,{transformPagePoint:$}){return measureViewportBox(_,$)}build(_,$,j,et){buildHTMLStyles(_,$,j,et.transformTemplate)}scrapeMotionValuesFromProps(_,$,j){return scrapeMotionValuesFromProps$1(_,$,j)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:_}=this.props;isMotionValue(_)&&(this.childSubscription=_.on("change",$=>{this.current&&(this.current.textContent=`${$}`)}))}renderInstance(_,$,j,et){renderHTML(_,$,j,et)}}class SVGVisualElement extends DOMVisualElement{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(_,$){return _[$]}readValueFromInstance(_,$){if(transformProps.has($)){const j=getDefaultValueType($);return j&&j.default||0}return $=camelCaseAttributes.has($)?$:camelToDash($),_.getAttribute($)}measureInstanceViewportBox(){return createBox()}scrapeMotionValuesFromProps(_,$,j){return scrapeMotionValuesFromProps(_,$,j)}build(_,$,j,et){buildSVGAttrs(_,$,j,this.isSVGTag,et.transformTemplate)}renderInstance(_,$,j,et){renderSVG(_,$,j,et)}mount(_){this.isSVGTag=isSVGTag(_.tagName),super.mount(_)}}const createDomVisualElement=(a,_)=>isSVGComponent(a)?new SVGVisualElement(_,{enableHardwareAcceleration:!1}):new HTMLVisualElement(_,{allowProjection:a!==reactExports.Fragment,enableHardwareAcceleration:!0}),layout={layout:{ProjectionNode:HTMLProjectionNode,MeasureLayout}},preloadedFeatures={...animations$1,...gestureAnimations,...drag,...layout},motion=createMotionProxy((a,_)=>createDomMotionConfig(a,_,preloadedFeatures,createDomVisualElement));function useIsMounted(){const a=reactExports.useRef(!1);return useIsomorphicLayoutEffect$2(()=>(a.current=!0,()=>{a.current=!1}),[]),a}function useForceUpdate(){const a=useIsMounted(),[_,$]=reactExports.useState(0),j=reactExports.useCallback(()=>{a.current&&$(_+1)},[_]);return[reactExports.useCallback(()=>frame.postRender(j),[j]),_]}class PopChildMeasure extends reactExports.Component{getSnapshotBeforeUpdate(_){const $=this.props.childRef.current;if($&&_.isPresent&&!this.props.isPresent){const j=this.props.sizeRef.current;j.height=$.offsetHeight||0,j.width=$.offsetWidth||0,j.top=$.offsetTop,j.left=$.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function PopChild({children:a,isPresent:_}){const $=reactExports.useId(),j=reactExports.useRef(null),et=reactExports.useRef({width:0,height:0,top:0,left:0}),{nonce:tt}=reactExports.useContext(MotionConfigContext);return reactExports.useInsertionEffect(()=>{const{width:rt,height:nt,top:it,left:st}=et.current;if(_||!j.current||!rt||!nt)return;j.current.dataset.motionPopId=$;const ot=document.createElement("style");return tt&&(ot.nonce=tt),document.head.appendChild(ot),ot.sheet&&ot.sheet.insertRule(`
          [data-motion-pop-id="${$}"] {
            position: absolute !important;
            width: ${rt}px !important;
            height: ${nt}px !important;
            top: ${it}px !important;
            left: ${st}px !important;
          }
        `),()=>{document.head.removeChild(ot)}},[_]),jsxRuntimeExports.jsx(PopChildMeasure,{isPresent:_,childRef:j,sizeRef:et,children:reactExports.cloneElement(a,{ref:j})})}const PresenceChild=({children:a,initial:_,isPresent:$,onExitComplete:j,custom:et,presenceAffectsLayout:tt,mode:rt})=>{const nt=useConstant(newChildrenMap),it=reactExports.useId(),st=reactExports.useMemo(()=>({id:it,initial:_,isPresent:$,custom:et,onExitComplete:ot=>{nt.set(ot,!0);for(const at of nt.values())if(!at)return;j&&j()},register:ot=>(nt.set(ot,!1),()=>nt.delete(ot))}),tt?[Math.random()]:[$]);return reactExports.useMemo(()=>{nt.forEach((ot,at)=>nt.set(at,!1))},[$]),reactExports.useEffect(()=>{!$&&!nt.size&&j&&j()},[$]),rt==="popLayout"&&(a=jsxRuntimeExports.jsx(PopChild,{isPresent:$,children:a})),jsxRuntimeExports.jsx(PresenceContext.Provider,{value:st,children:a})};function newChildrenMap(){return new Map}function useUnmountEffect(a){return reactExports.useEffect(()=>()=>a(),[])}const getChildKey=a=>a.key||"";function updateChildLookup(a,_){a.forEach($=>{const j=getChildKey($);_.set(j,$)})}function onlyElements(a){const _=[];return reactExports.Children.forEach(a,$=>{reactExports.isValidElement($)&&_.push($)}),_}const AnimatePresence=({children:a,custom:_,initial:$=!0,onExitComplete:j,exitBeforeEnter:et,presenceAffectsLayout:tt=!0,mode:rt="sync"})=>{const nt=reactExports.useContext(LayoutGroupContext).forceRender||useForceUpdate()[0],it=useIsMounted(),st=onlyElements(a);let ot=st;const at=reactExports.useRef(new Map).current,ut=reactExports.useRef(ot),ht=reactExports.useRef(new Map).current,yt=reactExports.useRef(!0);if(useIsomorphicLayoutEffect$2(()=>{yt.current=!1,updateChildLookup(st,ht),ut.current=ot}),useUnmountEffect(()=>{yt.current=!0,ht.clear(),at.clear()}),yt.current)return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:ot.map(Tt=>jsxRuntimeExports.jsx(PresenceChild,{isPresent:!0,initial:$?void 0:!1,presenceAffectsLayout:tt,mode:rt,children:Tt},getChildKey(Tt)))});ot=[...ot];const wt=ut.current.map(getChildKey),Ct=st.map(getChildKey),Pt=wt.length;for(let Tt=0;Tt<Pt;Tt++){const Mt=wt[Tt];Ct.indexOf(Mt)===-1&&!at.has(Mt)&&at.set(Mt,void 0)}return rt==="wait"&&at.size&&(ot=[]),at.forEach((Tt,Mt)=>{if(Ct.indexOf(Mt)!==-1)return;const Lt=ht.get(Mt);if(!Lt)return;const Dt=wt.indexOf(Mt);let Ut=Tt;if(!Ut){const Ot=()=>{at.delete(Mt);const It=Array.from(ht.keys()).filter(Bt=>!Ct.includes(Bt));if(It.forEach(Bt=>ht.delete(Bt)),ut.current=st.filter(Bt=>{const Ft=getChildKey(Bt);return Ft===Mt||It.includes(Ft)}),!at.size){if(it.current===!1)return;nt(),j&&j()}};Ut=jsxRuntimeExports.jsx(PresenceChild,{isPresent:!1,onExitComplete:Ot,custom:_,presenceAffectsLayout:tt,mode:rt,children:Lt},getChildKey(Lt)),at.set(Mt,Ut)}ot.splice(Dt,0,Ut)}),ot=ot.map(Tt=>{const Mt=Tt.key;return at.has(Mt)?Tt:jsxRuntimeExports.jsx(PresenceChild,{isPresent:!0,presenceAffectsLayout:tt,mode:rt,children:Tt},getChildKey(Tt))}),jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:at.size?ot:ot.map(Tt=>reactExports.cloneElement(Tt))})};var toastMotionVariants={initial:a=>{const{position:_}=a,$=["top","bottom"].includes(_)?"y":"x";let j=["top-right","bottom-right"].includes(_)?1:-1;return _==="bottom"&&(j=1),{opacity:0,[$]:j*24}},animate:{opacity:1,y:0,x:0,scale:1,transition:{duration:.4,ease:[.4,0,.2,1]}},exit:{opacity:0,scale:.85,transition:{duration:.2,ease:[.4,0,1,1]}}},ToastComponent=reactExports.memo(a=>{const{id:_,message:$,onCloseComplete:j,onRequestRemove:et,requestClose:tt=!1,position:rt="bottom",duration:nt=5e3,containerStyle:it,motionVariants:st=toastMotionVariants,toastSpacing:ot="0.5rem"}=a,[at,ut]=reactExports.useState(nt),ht=useIsPresent();useUpdateEffect(()=>{ht||j==null||j()},[ht]),useUpdateEffect(()=>{ut(nt)},[nt]);const yt=()=>ut(null),wt=()=>ut(nt),Ct=()=>{ht&&et()};reactExports.useEffect(()=>{ht&&tt&&et()},[ht,tt,et]),useTimeout(Ct,at);const Pt=reactExports.useMemo(()=>({pointerEvents:"auto",maxWidth:560,minWidth:300,margin:ot,...it}),[it,ot]),Tt=reactExports.useMemo(()=>getToastStyle(rt),[rt]);return jsxRuntimeExports.jsx(motion.div,{layout:!0,className:"chakra-toast",variants:st,initial:"initial",animate:"animate",exit:"exit",onHoverStart:yt,onHoverEnd:wt,custom:{position:rt},style:Tt,children:jsxRuntimeExports.jsx(chakra.div,{role:"status","aria-atomic":"true",className:"chakra-toast__inner",__css:Pt,children:runIfFn$2($,{id:_,onClose:Ct})})})});ToastComponent.displayName="ToastComponent";function getToastPlacement(a,_){var $;const j=a??"bottom",tt={"top-start":{ltr:"top-left",rtl:"top-right"},"top-end":{ltr:"top-right",rtl:"top-left"},"bottom-start":{ltr:"bottom-left",rtl:"bottom-right"},"bottom-end":{ltr:"bottom-right",rtl:"bottom-left"}}[j];return($=tt==null?void 0:tt[_])!=null?$:j}var fallbackIcon={path:jsxRuntimeExports.jsxs("g",{stroke:"currentColor",strokeWidth:"1.5",children:[jsxRuntimeExports.jsx("path",{strokeLinecap:"round",fill:"none",d:"M9,9a3,3,0,1,1,4,2.829,1.5,1.5,0,0,0-1,1.415V14.25"}),jsxRuntimeExports.jsx("path",{fill:"currentColor",strokeLinecap:"round",d:"M12,17.25a.375.375,0,1,0,.375.375A.375.375,0,0,0,12,17.25h0"}),jsxRuntimeExports.jsx("circle",{fill:"none",strokeMiterlimit:"10",cx:"12",cy:"12",r:"11.25"})]}),viewBox:"0 0 24 24"},Icon=forwardRef((a,_)=>{const{as:$,viewBox:j,color:et="currentColor",focusable:tt=!1,children:rt,className:nt,__css:it,...st}=a,ot=cx("chakra-icon",nt),at=useStyleConfig("Icon",a),ut={w:"1em",h:"1em",display:"inline-block",lineHeight:"1em",flexShrink:0,color:et,...it,...at},ht={ref:_,focusable:tt,className:ot,__css:ut},yt=j??fallbackIcon.viewBox;if($&&typeof $!="string")return jsxRuntimeExports.jsx(chakra.svg,{as:$,...ht,...st});const wt=rt??fallbackIcon.path;return jsxRuntimeExports.jsx(chakra.svg,{verticalAlign:"middle",viewBox:yt,...ht,...st,children:wt})});Icon.displayName="Icon";function createIcon(a){const{viewBox:_="0 0 24 24",d:$,displayName:j,defaultProps:et={}}=a,tt=reactExports.Children.toArray(a.path),rt=forwardRef((nt,it)=>jsxRuntimeExports.jsx(Icon,{ref:it,viewBox:_,...et,...nt,children:tt.length?tt:jsxRuntimeExports.jsx("path",{fill:"currentColor",d:$})}));return rt.displayName=j,rt}function CheckIcon$3(a){return jsxRuntimeExports.jsx(Icon,{viewBox:"0 0 24 24",...a,children:jsxRuntimeExports.jsx("path",{fill:"currentColor",d:"M12,0A12,12,0,1,0,24,12,12.014,12.014,0,0,0,12,0Zm6.927,8.2-6.845,9.289a1.011,1.011,0,0,1-1.43.188L5.764,13.769a1,1,0,1,1,1.25-1.562l4.076,3.261,6.227-8.451A1,1,0,1,1,18.927,8.2Z"})})}function InfoIcon(a){return jsxRuntimeExports.jsx(Icon,{viewBox:"0 0 24 24",...a,children:jsxRuntimeExports.jsx("path",{fill:"currentColor",d:"M12,0A12,12,0,1,0,24,12,12.013,12.013,0,0,0,12,0Zm.25,5a1.5,1.5,0,1,1-1.5,1.5A1.5,1.5,0,0,1,12.25,5ZM14.5,18.5h-4a1,1,0,0,1,0-2h.75a.25.25,0,0,0,.25-.25v-4.5a.25.25,0,0,0-.25-.25H10.5a1,1,0,0,1,0-2h1a2,2,0,0,1,2,2v4.75a.25.25,0,0,0,.25.25h.75a1,1,0,1,1,0,2Z"})})}function WarningIcon$1(a){return jsxRuntimeExports.jsx(Icon,{viewBox:"0 0 24 24",...a,children:jsxRuntimeExports.jsx("path",{fill:"currentColor",d:"M11.983,0a12.206,12.206,0,0,0-8.51,3.653A11.8,11.8,0,0,0,0,12.207,11.779,11.779,0,0,0,11.8,24h.214A12.111,12.111,0,0,0,24,11.791h0A11.766,11.766,0,0,0,11.983,0ZM10.5,16.542a1.476,1.476,0,0,1,1.449-1.53h.027a1.527,1.527,0,0,1,1.523,1.47,1.475,1.475,0,0,1-1.449,1.53h-.027A1.529,1.529,0,0,1,10.5,16.542ZM11,12.5v-6a1,1,0,0,1,2,0v6a1,1,0,1,1-2,0Z"})})}var spin=keyframes$1({"0%":{transform:"rotate(0deg)"},"100%":{transform:"rotate(360deg)"}}),Spinner=forwardRef((a,_)=>{const $=useStyleConfig("Spinner",a),{label:j="Loading...",thickness:et="2px",speed:tt="0.45s",emptyColor:rt="transparent",className:nt,...it}=omitThemingProps(a),st=cx("chakra-spinner",nt),ot={display:"inline-block",borderColor:"currentColor",borderStyle:"solid",borderRadius:"99999px",borderWidth:et,borderBottomColor:rt,borderLeftColor:rt,animation:`${spin} ${tt} linear infinite`,...$};return jsxRuntimeExports.jsx(chakra.div,{ref:_,__css:ot,className:st,...it,children:j&&jsxRuntimeExports.jsx(chakra.span,{srOnly:!0,children:j})})});Spinner.displayName="Spinner";var[AlertProvider,useAlertContext]=createContext$1({name:"AlertContext",hookName:"useAlertContext",providerName:"<Alert />"}),[AlertStylesProvider,useAlertStyles]=createContext$1({name:"AlertStylesContext",hookName:"useAlertStyles",providerName:"<Alert />"}),STATUSES={info:{icon:InfoIcon,colorScheme:"blue"},warning:{icon:WarningIcon$1,colorScheme:"orange"},success:{icon:CheckIcon$3,colorScheme:"green"},error:{icon:WarningIcon$1,colorScheme:"red"},loading:{icon:Spinner,colorScheme:"blue"}};function getStatusColorScheme(a){return STATUSES[a].colorScheme}function getStatusIcon(a){return STATUSES[a].icon}var AlertDescription=forwardRef(function(_,$){const j=useAlertStyles(),{status:et}=useAlertContext(),tt={display:"inline",...j.description};return jsxRuntimeExports.jsx(chakra.div,{ref:$,"data-status":et,..._,className:cx("chakra-alert__desc",_.className),__css:tt})});AlertDescription.displayName="AlertDescription";function AlertIcon(a){const{status:_}=useAlertContext(),$=getStatusIcon(_),j=useAlertStyles(),et=_==="loading"?j.spinner:j.icon;return jsxRuntimeExports.jsx(chakra.span,{display:"inherit","data-status":_,...a,className:cx("chakra-alert__icon",a.className),__css:et,children:a.children||jsxRuntimeExports.jsx($,{h:"100%",w:"100%"})})}AlertIcon.displayName="AlertIcon";var AlertTitle=forwardRef(function(_,$){const j=useAlertStyles(),{status:et}=useAlertContext();return jsxRuntimeExports.jsx(chakra.div,{ref:$,"data-status":et,..._,className:cx("chakra-alert__title",_.className),__css:j.title})});AlertTitle.displayName="AlertTitle";var Alert=forwardRef(function(_,$){var j;const{status:et="info",addRole:tt=!0,...rt}=omitThemingProps(_),nt=(j=_.colorScheme)!=null?j:getStatusColorScheme(et),it=useMultiStyleConfig("Alert",{..._,colorScheme:nt}),st={width:"100%",display:"flex",alignItems:"center",position:"relative",overflow:"hidden",...it.container};return jsxRuntimeExports.jsx(AlertProvider,{value:{status:et},children:jsxRuntimeExports.jsx(AlertStylesProvider,{value:it,children:jsxRuntimeExports.jsx(chakra.div,{"data-status":et,role:tt?"alert":void 0,ref:$,...rt,className:cx("chakra-alert",_.className),__css:st})})})});Alert.displayName="Alert";function CloseIcon(a){return jsxRuntimeExports.jsx(Icon,{focusable:"false","aria-hidden":!0,...a,children:jsxRuntimeExports.jsx("path",{fill:"currentColor",d:"M.439,21.44a1.5,1.5,0,0,0,2.122,2.121L11.823,14.3a.25.25,0,0,1,.354,0l9.262,9.263a1.5,1.5,0,1,0,2.122-2.121L14.3,12.177a.25.25,0,0,1,0-.354l9.263-9.262A1.5,1.5,0,0,0,21.439.44L12.177,9.7a.25.25,0,0,1-.354,0L2.561.44A1.5,1.5,0,0,0,.439,2.561L9.7,11.823a.25.25,0,0,1,0,.354Z"})})}var CloseButton=forwardRef(function(_,$){const j=useStyleConfig("CloseButton",_),{children:et,isDisabled:tt,__css:rt,...nt}=omitThemingProps(_),it={outline:0,display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0};return jsxRuntimeExports.jsx(chakra.button,{type:"button","aria-label":"Close",ref:$,disabled:tt,__css:{...it,...j,...rt},...nt,children:et||jsxRuntimeExports.jsx(CloseIcon,{width:"1em",height:"1em"})})});CloseButton.displayName="CloseButton";var initialState$b={top:[],"top-left":[],"top-right":[],"bottom-left":[],bottom:[],"bottom-right":[]},toastStore=createStore$1(initialState$b);function createStore$1(a){let _=a;const $=new Set,j=et=>{_=et(_),$.forEach(tt=>tt())};return{getState:()=>_,subscribe:et=>($.add(et),()=>{j(()=>a),$.delete(et)}),removeToast:(et,tt)=>{j(rt=>({...rt,[tt]:rt[tt].filter(nt=>nt.id!=et)}))},notify:(et,tt)=>{const rt=createToast(et,tt),{position:nt,id:it}=rt;return j(st=>{var ot,at;const ht=nt.includes("top")?[rt,...(ot=st[nt])!=null?ot:[]]:[...(at=st[nt])!=null?at:[],rt];return{...st,[nt]:ht}}),it},update:(et,tt)=>{et&&j(rt=>{const nt={...rt},{position:it,index:st}=findToast(nt,et);return it&&st!==-1&&(nt[it][st]={...nt[it][st],...tt,message:createRenderToast(tt)}),nt})},closeAll:({positions:et}={})=>{j(tt=>(et??["bottom","bottom-right","bottom-left","top","top-left","top-right"]).reduce((it,st)=>(it[st]=tt[st].map(ot=>({...ot,requestClose:!0})),it),{...tt}))},close:et=>{j(tt=>{const rt=getToastPosition(tt,et);return rt?{...tt,[rt]:tt[rt].map(nt=>nt.id==et?{...nt,requestClose:!0}:nt)}:tt})},isActive:et=>!!findToast(toastStore.getState(),et).position}}var counter=0;function createToast(a,_={}){var $,j;counter+=1;const et=($=_.id)!=null?$:counter,tt=(j=_.position)!=null?j:"bottom";return{id:et,message:a,position:tt,duration:_.duration,onCloseComplete:_.onCloseComplete,onRequestRemove:()=>toastStore.removeToast(String(et),tt),status:_.status,requestClose:!1,containerStyle:_.containerStyle}}var Toast=a=>{const{status:_,variant:$="solid",id:j,title:et,isClosable:tt,onClose:rt,description:nt,colorScheme:it,icon:st}=a,ot=j?{root:`toast-${j}`,title:`toast-${j}-title`,description:`toast-${j}-description`}:void 0;return jsxRuntimeExports.jsxs(Alert,{addRole:!1,status:_,variant:$,id:ot==null?void 0:ot.root,alignItems:"start",borderRadius:"md",boxShadow:"lg",paddingEnd:8,textAlign:"start",width:"auto",colorScheme:it,children:[jsxRuntimeExports.jsx(AlertIcon,{children:st}),jsxRuntimeExports.jsxs(chakra.div,{flex:"1",maxWidth:"100%",children:[et&&jsxRuntimeExports.jsx(AlertTitle,{id:ot==null?void 0:ot.title,children:et}),nt&&jsxRuntimeExports.jsx(AlertDescription,{id:ot==null?void 0:ot.description,display:"block",children:nt})]}),tt&&jsxRuntimeExports.jsx(CloseButton,{size:"sm",onClick:rt,position:"absolute",insetEnd:1,top:1})]})};function createRenderToast(a={}){const{render:_,toastComponent:$=Toast}=a;return et=>typeof _=="function"?_({...et,...a}):jsxRuntimeExports.jsx($,{...et,...a})}function createToastFn(a,_){const $=et=>{var tt;return{..._,...et,position:getToastPlacement((tt=et==null?void 0:et.position)!=null?tt:_==null?void 0:_.position,a)}},j=et=>{const tt=$(et),rt=createRenderToast(tt);return toastStore.notify(rt,tt)};return j.update=(et,tt)=>{toastStore.update(et,$(tt))},j.promise=(et,tt)=>{const rt=j({...tt.loading,status:"loading",duration:null});et.then(nt=>j.update(rt,{status:"success",duration:5e3,...runIfFn$2(tt.success,nt)})).catch(nt=>j.update(rt,{status:"error",duration:5e3,...runIfFn$2(tt.error,nt)}))},j.closeAll=toastStore.closeAll,j.close=toastStore.close,j.isActive=toastStore.isActive,j}var[ToastOptionProvider,useToastOptionContext]=createContext$1({name:"ToastOptionsContext",strict:!1}),ToastProvider=a=>{const _=reactExports.useSyncExternalStore(toastStore.subscribe,toastStore.getState,toastStore.getState),{motionVariants:$,component:j=ToastComponent,portalProps:et}=a,rt=Object.keys(_).map(nt=>{const it=_[nt];return jsxRuntimeExports.jsx("div",{role:"region","aria-live":"polite","aria-label":`Notifications-${nt}`,id:`chakra-toast-manager-${nt}`,style:getToastListStyle(nt),children:jsxRuntimeExports.jsx(AnimatePresence,{initial:!1,children:it.map(st=>jsxRuntimeExports.jsx(j,{motionVariants:$,...st},st.id))})},nt)});return jsxRuntimeExports.jsx(Portal,{...et,children:rt})};function useToast(a){const{theme:_}=useChakra(),$=useToastOptionContext();return reactExports.useMemo(()=>createToastFn(_.direction,{...$,...a}),[a,_.direction,$])}var createChakraProvider=a=>function({children:$,theme:j=a,toastOptions:et,...tt}){return jsxRuntimeExports.jsxs(ChakraProvider$1,{theme:j,...tt,children:[jsxRuntimeExports.jsx(ToastOptionProvider,{value:et==null?void 0:et.defaultOptions,children:$}),jsxRuntimeExports.jsx(ToastProvider,{...et})]})},ChakraProvider=createChakraProvider(theme$1),__defProp$8=Object.defineProperty,__defNormalProp$3=(a,_,$)=>_ in a?__defProp$8(a,_,{enumerable:!0,configurable:!0,writable:!0,value:$}):a[_]=$,__publicField$3=(a,_,$)=>(__defNormalProp$3(a,typeof _!="symbol"?_+"":_,$),$);function sortNodes(a){return a.sort((_,$)=>{const j=_.compareDocumentPosition($);if(j&Node.DOCUMENT_POSITION_FOLLOWING||j&Node.DOCUMENT_POSITION_CONTAINED_BY)return-1;if(j&Node.DOCUMENT_POSITION_PRECEDING||j&Node.DOCUMENT_POSITION_CONTAINS)return 1;if(j&Node.DOCUMENT_POSITION_DISCONNECTED||j&Node.DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC)throw Error("Cannot sort the given nodes.");return 0})}var isElement$3=a=>typeof a=="object"&&"nodeType"in a&&a.nodeType===Node.ELEMENT_NODE;function getNextIndex(a,_,$){let j=a+1;return $&&j>=_&&(j=0),j}function getPrevIndex(a,_,$){let j=a-1;return $&&j<0&&(j=_),j}var useSafeLayoutEffect$1=typeof window<"u"?reactExports.useLayoutEffect:reactExports.useEffect,cast=a=>a,DescendantsManager=class{constructor(){__publicField$3(this,"descendants",new Map),__publicField$3(this,"register",a=>{if(a!=null)return isElement$3(a)?this.registerNode(a):_=>{this.registerNode(_,a)}}),__publicField$3(this,"unregister",a=>{this.descendants.delete(a);const _=sortNodes(Array.from(this.descendants.keys()));this.assignIndex(_)}),__publicField$3(this,"destroy",()=>{this.descendants.clear()}),__publicField$3(this,"assignIndex",a=>{this.descendants.forEach(_=>{const $=a.indexOf(_.node);_.index=$,_.node.dataset.index=_.index.toString()})}),__publicField$3(this,"count",()=>this.descendants.size),__publicField$3(this,"enabledCount",()=>this.enabledValues().length),__publicField$3(this,"values",()=>Array.from(this.descendants.values()).sort((_,$)=>_.index-$.index)),__publicField$3(this,"enabledValues",()=>this.values().filter(a=>!a.disabled)),__publicField$3(this,"item",a=>{if(this.count()!==0)return this.values()[a]}),__publicField$3(this,"enabledItem",a=>{if(this.enabledCount()!==0)return this.enabledValues()[a]}),__publicField$3(this,"first",()=>this.item(0)),__publicField$3(this,"firstEnabled",()=>this.enabledItem(0)),__publicField$3(this,"last",()=>this.item(this.descendants.size-1)),__publicField$3(this,"lastEnabled",()=>{const a=this.enabledValues().length-1;return this.enabledItem(a)}),__publicField$3(this,"indexOf",a=>{var _,$;return a&&($=(_=this.descendants.get(a))==null?void 0:_.index)!=null?$:-1}),__publicField$3(this,"enabledIndexOf",a=>a==null?-1:this.enabledValues().findIndex(_=>_.node.isSameNode(a))),__publicField$3(this,"next",(a,_=!0)=>{const $=getNextIndex(a,this.count(),_);return this.item($)}),__publicField$3(this,"nextEnabled",(a,_=!0)=>{const $=this.item(a);if(!$)return;const j=this.enabledIndexOf($.node),et=getNextIndex(j,this.enabledCount(),_);return this.enabledItem(et)}),__publicField$3(this,"prev",(a,_=!0)=>{const $=getPrevIndex(a,this.count()-1,_);return this.item($)}),__publicField$3(this,"prevEnabled",(a,_=!0)=>{const $=this.item(a);if(!$)return;const j=this.enabledIndexOf($.node),et=getPrevIndex(j,this.enabledCount()-1,_);return this.enabledItem(et)}),__publicField$3(this,"registerNode",(a,_)=>{if(!a||this.descendants.has(a))return;const $=Array.from(this.descendants.keys()).concat(a),j=sortNodes($);_!=null&&_.disabled&&(_.disabled=!!_.disabled);const et={node:a,index:-1,..._};this.descendants.set(a,et),this.assignIndex(j)})}};function assignRef$1(a,_){if(a!=null){if(typeof a=="function"){a(_);return}try{a.current=_}catch{throw new Error(`Cannot assign value '${_}' to ref '${a}'`)}}}function mergeRefs(...a){return _=>{a.forEach($=>{assignRef$1($,_)})}}function useMergeRefs$1(...a){return reactExports.useMemo(()=>mergeRefs(...a),a)}function useDescendants(){const a=reactExports.useRef(new DescendantsManager);return useSafeLayoutEffect$1(()=>()=>a.current.destroy()),a.current}var[DescendantsContextProvider,useDescendantsContext]=createContext$1({name:"DescendantsProvider",errorMessage:"useDescendantsContext must be used within DescendantsProvider"});function useDescendant(a){const _=useDescendantsContext(),[$,j]=reactExports.useState(-1),et=reactExports.useRef(null);useSafeLayoutEffect$1(()=>()=>{et.current&&_.unregister(et.current)},[]),useSafeLayoutEffect$1(()=>{if(!et.current)return;const rt=Number(et.current.dataset.index);$!=rt&&!Number.isNaN(rt)&&j(rt)});const tt=cast(a?_.register(a):_.register);return{descendants:_,index:$,enabledIndex:_.enabledIndexOf(et.current),register:mergeRefs(tt,et)}}function createDescendantContext(){return[cast(DescendantsContextProvider),()=>cast(useDescendantsContext()),()=>useDescendants(),et=>useDescendant(et)]}var[AccordionStylesProvider,useAccordionStyles]=createContext$1({name:"AccordionStylesContext",hookName:"useAccordionStyles",providerName:"<Accordion />"}),[AccordionItemProvider,useAccordionItemContext]=createContext$1({name:"AccordionItemContext",hookName:"useAccordionItemContext",providerName:"<AccordionItem />"}),[AccordionDescendantsProvider,useAccordionDescendantsContext,useAccordionDescendants,useAccordionDescendant]=createDescendantContext(),AccordionButton=forwardRef(function(_,$){const{getButtonProps:j}=useAccordionItemContext(),et=j(_,$),rt={display:"flex",alignItems:"center",width:"100%",outline:0,...useAccordionStyles().button};return jsxRuntimeExports.jsx(chakra.button,{...et,className:cx("chakra-accordion__button",_.className),__css:rt})});AccordionButton.displayName="AccordionButton";function useControllableState(a){const{value:_,defaultValue:$,onChange:j,shouldUpdate:et=(ut,ht)=>ut!==ht}=a,tt=useCallbackRef$2(j),rt=useCallbackRef$2(et),[nt,it]=reactExports.useState($),st=_!==void 0,ot=st?_:nt,at=useCallbackRef$2(ut=>{const yt=typeof ut=="function"?ut(ot):ut;rt(ot,yt)&&(st||it(yt),tt(yt))},[st,tt,ot,rt]);return[ot,at]}function useAccordion(a){const{onChange:_,defaultIndex:$,index:j,allowMultiple:et,allowToggle:tt,...rt}=a;allowMultipleWarning(a),allowMultipleAndAllowToggleWarning(a);const nt=useAccordionDescendants(),[it,st]=reactExports.useState(-1);reactExports.useEffect(()=>()=>{st(-1)},[]);const[ot,at]=useControllableState({value:j,defaultValue(){return et?$??[]:$??-1},onChange:_});return{index:ot,setIndex:at,htmlProps:rt,getAccordionItemProps:ht=>{let yt=!1;return ht!==null&&(yt=Array.isArray(ot)?ot.includes(ht):ot===ht),{isOpen:yt,onChange:Ct=>{if(ht!==null)if(et&&Array.isArray(ot)){const Pt=Ct?ot.concat(ht):ot.filter(Tt=>Tt!==ht);at(Pt)}else Ct?at(ht):tt&&at(-1)}}},focusedIndex:it,setFocusedIndex:st,descendants:nt}}var[AccordionProvider,useAccordionContext]=createContext$1({name:"AccordionContext",hookName:"useAccordionContext",providerName:"Accordion"});function useAccordionItem(a){const{isDisabled:_,isFocusable:$,id:j,...et}=a,{getAccordionItemProps:tt,setFocusedIndex:rt}=useAccordionContext(),nt=reactExports.useRef(null),it=reactExports.useId(),st=j??it,ot=`accordion-button-${st}`,at=`accordion-panel-${st}`;focusableNotDisabledWarning(a);const{register:ut,index:ht,descendants:yt}=useAccordionDescendant({disabled:_&&!$}),{isOpen:wt,onChange:Ct}=tt(ht===-1?null:ht);warnIfOpenAndDisabled({isOpen:wt,isDisabled:_});const Pt=()=>{Ct==null||Ct(!0)},Tt=()=>{Ct==null||Ct(!1)},Mt=reactExports.useCallback(()=>{Ct==null||Ct(!wt),rt(ht)},[ht,rt,wt,Ct]),Lt=reactExports.useCallback(It=>{const Ft={ArrowDown:()=>{const jt=yt.nextEnabled(ht);jt==null||jt.node.focus()},ArrowUp:()=>{const jt=yt.prevEnabled(ht);jt==null||jt.node.focus()},Home:()=>{const jt=yt.firstEnabled();jt==null||jt.node.focus()},End:()=>{const jt=yt.lastEnabled();jt==null||jt.node.focus()}}[It.key];Ft&&(It.preventDefault(),Ft(It))},[yt,ht]),Dt=reactExports.useCallback(()=>{rt(ht)},[rt,ht]),Ut=reactExports.useCallback(function(Bt={},Ft=null){return{...Bt,type:"button",ref:mergeRefs(ut,nt,Ft),id:ot,disabled:!!_,"aria-expanded":!!wt,"aria-controls":at,onClick:callAllHandlers$1(Bt.onClick,Mt),onFocus:callAllHandlers$1(Bt.onFocus,Dt),onKeyDown:callAllHandlers$1(Bt.onKeyDown,Lt)}},[ot,_,wt,Mt,Dt,Lt,at,ut]),Ot=reactExports.useCallback(function(Bt={},Ft=null){return{...Bt,ref:Ft,role:"region",id:at,"aria-labelledby":ot,hidden:!wt}},[ot,wt,at]);return{isOpen:wt,isDisabled:_,isFocusable:$,onOpen:Pt,onClose:Tt,getButtonProps:Ut,getPanelProps:Ot,htmlProps:et}}function allowMultipleWarning(a){const _=a.index||a.defaultIndex,$=_!=null&&!Array.isArray(_)&&a.allowMultiple;warn({condition:!!$,message:`If 'allowMultiple' is passed, then 'index' or 'defaultIndex' must be an array. You passed: ${typeof _},`})}function allowMultipleAndAllowToggleWarning(a){warn({condition:!!(a.allowMultiple&&a.allowToggle),message:"If 'allowMultiple' is passed, 'allowToggle' will be ignored. Either remove 'allowToggle' or 'allowMultiple' depending on whether you want multiple accordions visible or not"})}function focusableNotDisabledWarning(a){warn({condition:!!(a.isFocusable&&!a.isDisabled),message:`Using only 'isFocusable', this prop is reserved for situations where you pass 'isDisabled' but you still want the element to receive focus (A11y). Either remove it or pass 'isDisabled' as well.
    `})}function warnIfOpenAndDisabled(a){warn({condition:a.isOpen&&!!a.isDisabled,message:"Cannot open a disabled accordion item"})}function AccordionIcon(a){const{isOpen:_,isDisabled:$}=useAccordionItemContext(),{reduceMotion:j}=useAccordionContext(),et=cx("chakra-accordion__icon",a.className),tt=useAccordionStyles(),rt={opacity:$?.4:1,transform:_?"rotate(-180deg)":void 0,transition:j?void 0:"transform 0.2s",transformOrigin:"center",...tt.icon};return jsxRuntimeExports.jsx(Icon,{viewBox:"0 0 24 24","aria-hidden":!0,className:et,__css:rt,...a,children:jsxRuntimeExports.jsx("path",{fill:"currentColor",d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"})})}AccordionIcon.displayName="AccordionIcon";var AccordionItem=forwardRef(function(_,$){const{children:j,className:et}=_,{htmlProps:tt,...rt}=useAccordionItem(_),it={...useAccordionStyles().container,overflowAnchor:"none"},st=reactExports.useMemo(()=>rt,[rt]);return jsxRuntimeExports.jsx(AccordionItemProvider,{value:st,children:jsxRuntimeExports.jsx(chakra.div,{ref:$,...tt,className:cx("chakra-accordion__item",et),__css:it,children:typeof j=="function"?j({isExpanded:!!rt.isOpen,isDisabled:!!rt.isDisabled}):j})})});AccordionItem.displayName="AccordionItem";var TRANSITION_EASINGS={ease:[.25,.1,.25,1],easeIn:[.4,0,1,1],easeOut:[0,0,.2,1],easeInOut:[.4,0,.2,1]},TRANSITION_VARIANTS={scale:{enter:{scale:1},exit:{scale:.95}},fade:{enter:{opacity:1},exit:{opacity:0}},pushLeft:{enter:{x:"100%"},exit:{x:"-30%"}},pushRight:{enter:{x:"-100%"},exit:{x:"30%"}},pushUp:{enter:{y:"100%"},exit:{y:"-30%"}},pushDown:{enter:{y:"-100%"},exit:{y:"30%"}},slideLeft:{position:{left:0,top:0,bottom:0,width:"100%"},enter:{x:0,y:0},exit:{x:"-100%",y:0}},slideRight:{position:{right:0,top:0,bottom:0,width:"100%"},enter:{x:0,y:0},exit:{x:"100%",y:0}},slideUp:{position:{top:0,left:0,right:0,maxWidth:"100vw"},enter:{x:0,y:0},exit:{x:0,y:"-100%"}},slideDown:{position:{bottom:0,left:0,right:0,maxWidth:"100vw"},enter:{x:0,y:0},exit:{x:0,y:"100%"}}};function getSlideTransition(a){var _;switch((_=a==null?void 0:a.direction)!=null?_:"right"){case"right":return TRANSITION_VARIANTS.slideRight;case"left":return TRANSITION_VARIANTS.slideLeft;case"bottom":return TRANSITION_VARIANTS.slideDown;case"top":return TRANSITION_VARIANTS.slideUp;default:return TRANSITION_VARIANTS.slideRight}}var TRANSITION_DEFAULTS={enter:{duration:.2,ease:TRANSITION_EASINGS.easeOut},exit:{duration:.1,ease:TRANSITION_EASINGS.easeIn}},withDelay={enter:(a,_)=>({...a,delay:typeof _=="number"?_:_==null?void 0:_.enter}),exit:(a,_)=>({...a,delay:typeof _=="number"?_:_==null?void 0:_.exit})},isNumeric$1=a=>a!=null&&parseInt(a.toString(),10)>0,defaultTransitions={exit:{height:{duration:.2,ease:TRANSITION_EASINGS.ease},opacity:{duration:.3,ease:TRANSITION_EASINGS.ease}},enter:{height:{duration:.3,ease:TRANSITION_EASINGS.ease},opacity:{duration:.4,ease:TRANSITION_EASINGS.ease}}},variants$4={exit:({animateOpacity:a,startingHeight:_,transition:$,transitionEnd:j,delay:et})=>{var tt;return{...a&&{opacity:isNumeric$1(_)?1:0},height:_,transitionEnd:j==null?void 0:j.exit,transition:(tt=$==null?void 0:$.exit)!=null?tt:withDelay.exit(defaultTransitions.exit,et)}},enter:({animateOpacity:a,endingHeight:_,transition:$,transitionEnd:j,delay:et})=>{var tt;return{...a&&{opacity:1},height:_,transitionEnd:j==null?void 0:j.enter,transition:(tt=$==null?void 0:$.enter)!=null?tt:withDelay.enter(defaultTransitions.enter,et)}}},Collapse=reactExports.forwardRef((a,_)=>{const{in:$,unmountOnExit:j,animateOpacity:et=!0,startingHeight:tt=0,endingHeight:rt="auto",style:nt,className:it,transition:st,transitionEnd:ot,...at}=a,[ut,ht]=reactExports.useState(!1);reactExports.useEffect(()=>{const Tt=setTimeout(()=>{ht(!0)});return()=>clearTimeout(Tt)},[]),warn({condition:Number(tt)>0&&!!j,message:"startingHeight and unmountOnExit are mutually exclusive. You can't use them together"});const yt=parseFloat(tt.toString())>0,wt={startingHeight:tt,endingHeight:rt,animateOpacity:et,transition:ut?st:{enter:{duration:0}},transitionEnd:{enter:ot==null?void 0:ot.enter,exit:j?ot==null?void 0:ot.exit:{...ot==null?void 0:ot.exit,display:yt?"block":"none"}}},Ct=j?$:!0,Pt=$||j?"enter":"exit";return jsxRuntimeExports.jsx(AnimatePresence,{initial:!1,custom:wt,children:Ct&&jsxRuntimeExports.jsx(motion.div,{ref:_,...at,className:cx("chakra-collapse",it),style:{overflow:"hidden",display:"block",...nt},custom:wt,variants:variants$4,initial:j?"exit":!1,animate:Pt,exit:"exit"})})});Collapse.displayName="Collapse";var variants$3={enter:({transition:a,transitionEnd:_,delay:$}={})=>{var j;return{opacity:1,transition:(j=a==null?void 0:a.enter)!=null?j:withDelay.enter(TRANSITION_DEFAULTS.enter,$),transitionEnd:_==null?void 0:_.enter}},exit:({transition:a,transitionEnd:_,delay:$}={})=>{var j;return{opacity:0,transition:(j=a==null?void 0:a.exit)!=null?j:withDelay.exit(TRANSITION_DEFAULTS.exit,$),transitionEnd:_==null?void 0:_.exit}}},fadeConfig={initial:"exit",animate:"enter",exit:"exit",variants:variants$3},Fade=reactExports.forwardRef(function(_,$){const{unmountOnExit:j,in:et,className:tt,transition:rt,transitionEnd:nt,delay:it,...st}=_,ot=et||j?"enter":"exit",at=j?et&&j:!0,ut={transition:rt,transitionEnd:nt,delay:it};return jsxRuntimeExports.jsx(AnimatePresence,{custom:ut,children:at&&jsxRuntimeExports.jsx(motion.div,{ref:$,className:cx("chakra-fade",tt),custom:ut,...fadeConfig,animate:ot,...st})})});Fade.displayName="Fade";var variants$2={exit:({reverse:a,initialScale:_,transition:$,transitionEnd:j,delay:et})=>{var tt;return{opacity:0,...a?{scale:_,transitionEnd:j==null?void 0:j.exit}:{transitionEnd:{scale:_,...j==null?void 0:j.exit}},transition:(tt=$==null?void 0:$.exit)!=null?tt:withDelay.exit(TRANSITION_DEFAULTS.exit,et)}},enter:({transitionEnd:a,transition:_,delay:$})=>{var j;return{opacity:1,scale:1,transition:(j=_==null?void 0:_.enter)!=null?j:withDelay.enter(TRANSITION_DEFAULTS.enter,$),transitionEnd:a==null?void 0:a.enter}}},scaleFadeConfig={initial:"exit",animate:"enter",exit:"exit",variants:variants$2},ScaleFade=reactExports.forwardRef(function(_,$){const{unmountOnExit:j,in:et,reverse:tt=!0,initialScale:rt=.95,className:nt,transition:it,transitionEnd:st,delay:ot,...at}=_,ut=j?et&&j:!0,ht=et||j?"enter":"exit",yt={initialScale:rt,reverse:tt,transition:it,transitionEnd:st,delay:ot};return jsxRuntimeExports.jsx(AnimatePresence,{custom:yt,children:ut&&jsxRuntimeExports.jsx(motion.div,{ref:$,className:cx("chakra-offset-slide",nt),...scaleFadeConfig,animate:ht,custom:yt,...at})})});ScaleFade.displayName="ScaleFade";var variants$1={initial:({offsetX:a,offsetY:_,transition:$,transitionEnd:j,delay:et})=>{var tt;return{opacity:0,x:a,y:_,transition:(tt=$==null?void 0:$.exit)!=null?tt:withDelay.exit(TRANSITION_DEFAULTS.exit,et),transitionEnd:j==null?void 0:j.exit}},enter:({transition:a,transitionEnd:_,delay:$})=>{var j;return{opacity:1,x:0,y:0,transition:(j=a==null?void 0:a.enter)!=null?j:withDelay.enter(TRANSITION_DEFAULTS.enter,$),transitionEnd:_==null?void 0:_.enter}},exit:({offsetY:a,offsetX:_,transition:$,transitionEnd:j,reverse:et,delay:tt})=>{var rt;const nt={x:_,y:a};return{opacity:0,transition:(rt=$==null?void 0:$.exit)!=null?rt:withDelay.exit(TRANSITION_DEFAULTS.exit,tt),...et?{...nt,transitionEnd:j==null?void 0:j.exit}:{transitionEnd:{...nt,...j==null?void 0:j.exit}}}}},slideFadeConfig={initial:"initial",animate:"enter",exit:"exit",variants:variants$1},SlideFade=reactExports.forwardRef(function(_,$){const{unmountOnExit:j,in:et,reverse:tt=!0,className:rt,offsetX:nt=0,offsetY:it=8,transition:st,transitionEnd:ot,delay:at,...ut}=_,ht=j?et&&j:!0,yt=et||j?"enter":"exit",wt={offsetX:nt,offsetY:it,reverse:tt,transition:st,transitionEnd:ot,delay:at};return jsxRuntimeExports.jsx(AnimatePresence,{custom:wt,children:ht&&jsxRuntimeExports.jsx(motion.div,{ref:$,className:cx("chakra-offset-slide",rt),custom:wt,...slideFadeConfig,animate:yt,...ut})})});SlideFade.displayName="SlideFade";var defaultTransition={exit:{duration:.15,ease:TRANSITION_EASINGS.easeInOut},enter:{type:"spring",damping:25,stiffness:180}},variants={exit:({direction:a,transition:_,transitionEnd:$,delay:j})=>{var et;const{exit:tt}=getSlideTransition({direction:a});return{...tt,transition:(et=_==null?void 0:_.exit)!=null?et:withDelay.exit(defaultTransition.exit,j),transitionEnd:$==null?void 0:$.exit}},enter:({direction:a,transitionEnd:_,transition:$,delay:j})=>{var et;const{enter:tt}=getSlideTransition({direction:a});return{...tt,transition:(et=$==null?void 0:$.enter)!=null?et:withDelay.enter(defaultTransition.enter,j),transitionEnd:_==null?void 0:_.enter}}},Slide=reactExports.forwardRef(function(_,$){const{direction:j="right",style:et,unmountOnExit:tt,in:rt,className:nt,transition:it,transitionEnd:st,delay:ot,motionProps:at,...ut}=_,ht=getSlideTransition({direction:j}),yt=Object.assign({position:"fixed"},ht.position,et),wt=tt?rt&&tt:!0,Ct=rt||tt?"enter":"exit",Pt={transitionEnd:st,transition:it,direction:j,delay:ot};return jsxRuntimeExports.jsx(AnimatePresence,{custom:Pt,children:wt&&jsxRuntimeExports.jsx(motion.div,{...ut,ref:$,initial:"exit",className:cx("chakra-slide",nt),animate:Ct,exit:"exit",custom:Pt,variants,style:yt,...at})})});Slide.displayName="Slide";var AccordionPanel=forwardRef(function(_,$){const{className:j,motionProps:et,...tt}=_,{reduceMotion:rt}=useAccordionContext(),{getPanelProps:nt,isOpen:it}=useAccordionItemContext(),st=nt(tt,$),ot=cx("chakra-accordion__panel",j),at=useAccordionStyles();rt||delete st.hidden;const ut=jsxRuntimeExports.jsx(chakra.div,{...st,__css:at.panel,className:ot});return rt?ut:jsxRuntimeExports.jsx(Collapse,{in:it,...et,children:ut})});AccordionPanel.displayName="AccordionPanel";var Accordion=forwardRef(function({children:_,reduceMotion:$,...j},et){const tt=useMultiStyleConfig("Accordion",j),rt=omitThemingProps(j),{htmlProps:nt,descendants:it,...st}=useAccordion(rt),ot=reactExports.useMemo(()=>({...st,reduceMotion:!!$}),[st,$]);return jsxRuntimeExports.jsx(AccordionDescendantsProvider,{value:it,children:jsxRuntimeExports.jsx(AccordionProvider,{value:ot,children:jsxRuntimeExports.jsx(AccordionStylesProvider,{value:tt,children:jsxRuntimeExports.jsx(chakra.div,{ref:et,...nt,className:cx("chakra-accordion",j.className),__css:tt.root,children:_})})})})});Accordion.displayName="Accordion";var NativeImage=forwardRef(function(_,$){const{htmlWidth:j,htmlHeight:et,alt:tt,...rt}=_;return jsxRuntimeExports.jsx("img",{width:j,height:et,ref:$,alt:tt,...rt})});NativeImage.displayName="NativeImage";function useImage(a){const{loading:_,src:$,srcSet:j,onLoad:et,onError:tt,crossOrigin:rt,sizes:nt,ignoreFallback:it}=a,[st,ot]=reactExports.useState("pending");reactExports.useEffect(()=>{ot($?"loading":"pending")},[$]);const at=reactExports.useRef(),ut=reactExports.useCallback(()=>{if(!$)return;ht();const yt=new Image;yt.src=$,rt&&(yt.crossOrigin=rt),j&&(yt.srcset=j),nt&&(yt.sizes=nt),_&&(yt.loading=_),yt.onload=wt=>{ht(),ot("loaded"),et==null||et(wt)},yt.onerror=wt=>{ht(),ot("failed"),tt==null||tt(wt)},at.current=yt},[$,rt,j,nt,et,tt,_]),ht=()=>{at.current&&(at.current.onload=null,at.current.onerror=null,at.current=null)};return useSafeLayoutEffect$2(()=>{if(!it)return st==="loading"&&ut(),()=>{ht()}},[st,ut,it]),it?"loaded":st}var shouldShowFallbackImage=(a,_)=>a!=="loaded"&&_==="beforeLoadOrError"||a==="failed"&&_==="onError";function omit$4(a,_=[]){const $=Object.assign({},a);for(const j of _)j in $&&delete $[j];return $}var Image$1=forwardRef(function(_,$){const{fallbackSrc:j,fallback:et,src:tt,srcSet:rt,align:nt,fit:it,loading:st,ignoreFallback:ot,crossOrigin:at,fallbackStrategy:ut="beforeLoadOrError",referrerPolicy:ht,...yt}=_,wt=j!==void 0||et!==void 0,Ct=st!=null||ot||!wt,Pt=useImage({..._,crossOrigin:at,ignoreFallback:Ct}),Tt=shouldShowFallbackImage(Pt,ut),Mt={ref:$,objectFit:it,objectPosition:nt,...Ct?yt:omit$4(yt,["onError","onLoad"])};return Tt?et||jsxRuntimeExports.jsx(chakra.img,{as:NativeImage,className:"chakra-image__placeholder",src:j,...Mt}):jsxRuntimeExports.jsx(chakra.img,{as:NativeImage,src:tt,srcSet:rt,crossOrigin:at,loading:st,referrerPolicy:ht,className:"chakra-image",...Mt})});Image$1.displayName="Image";function getValidChildren(a){return reactExports.Children.toArray(a).filter(_=>reactExports.isValidElement(_))}var[ButtonGroupProvider,useButtonGroup]=createContext$1({strict:!1,name:"ButtonGroupContext"});function useButtonType(a){const[_,$]=reactExports.useState(!a);return{ref:reactExports.useCallback(tt=>{tt&&$(tt.tagName==="BUTTON")},[]),type:_?"button":void 0}}function ButtonIcon(a){const{children:_,className:$,...j}=a,et=reactExports.isValidElement(_)?reactExports.cloneElement(_,{"aria-hidden":!0,focusable:!1}):_,tt=cx("chakra-button__icon",$);return jsxRuntimeExports.jsx(chakra.span,{display:"inline-flex",alignSelf:"center",flexShrink:0,...j,className:tt,children:et})}ButtonIcon.displayName="ButtonIcon";function ButtonSpinner(a){const{label:_,placement:$,spacing:j="0.5rem",children:et=jsxRuntimeExports.jsx(Spinner,{color:"currentColor",width:"1em",height:"1em"}),className:tt,__css:rt,...nt}=a,it=cx("chakra-button__spinner",tt),st=$==="start"?"marginEnd":"marginStart",ot=reactExports.useMemo(()=>({display:"flex",alignItems:"center",position:_?"relative":"absolute",[st]:_?j:0,fontSize:"1em",lineHeight:"normal",...rt}),[rt,_,st,j]);return jsxRuntimeExports.jsx(chakra.div,{className:it,...nt,__css:ot,children:et})}ButtonSpinner.displayName="ButtonSpinner";var Button=forwardRef((a,_)=>{const $=useButtonGroup(),j=useStyleConfig("Button",{...$,...a}),{isDisabled:et=$==null?void 0:$.isDisabled,isLoading:tt,isActive:rt,children:nt,leftIcon:it,rightIcon:st,loadingText:ot,iconSpacing:at="0.5rem",type:ut,spinner:ht,spinnerPlacement:yt="start",className:wt,as:Ct,...Pt}=omitThemingProps(a),Tt=reactExports.useMemo(()=>{const Ut={...j==null?void 0:j._focus,zIndex:1};return{display:"inline-flex",appearance:"none",alignItems:"center",justifyContent:"center",userSelect:"none",position:"relative",whiteSpace:"nowrap",verticalAlign:"middle",outline:"none",...j,...!!$&&{_focus:Ut}}},[j,$]),{ref:Mt,type:Lt}=useButtonType(Ct),Dt={rightIcon:st,leftIcon:it,iconSpacing:at,children:nt};return jsxRuntimeExports.jsxs(chakra.button,{ref:useMergeRefs$1(_,Mt),as:Ct,type:ut??Lt,"data-active":dataAttr(rt),"data-loading":dataAttr(tt),__css:Tt,className:cx("chakra-button",wt),...Pt,disabled:et||tt,children:[tt&&yt==="start"&&jsxRuntimeExports.jsx(ButtonSpinner,{className:"chakra-button__spinner--start",label:ot,placement:"start",spacing:at,children:ht}),tt?ot||jsxRuntimeExports.jsx(chakra.span,{opacity:0,children:jsxRuntimeExports.jsx(ButtonContent,{...Dt})}):jsxRuntimeExports.jsx(ButtonContent,{...Dt}),tt&&yt==="end"&&jsxRuntimeExports.jsx(ButtonSpinner,{className:"chakra-button__spinner--end",label:ot,placement:"end",spacing:at,children:ht})]})});Button.displayName="Button";function ButtonContent(a){const{leftIcon:_,rightIcon:$,children:j,iconSpacing:et}=a;return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[_&&jsxRuntimeExports.jsx(ButtonIcon,{marginEnd:et,children:_}),j,$&&jsxRuntimeExports.jsx(ButtonIcon,{marginStart:et,children:$})]})}var IconButton=forwardRef((a,_)=>{const{icon:$,children:j,isRound:et,"aria-label":tt,...rt}=a,nt=$||j,it=reactExports.isValidElement(nt)?reactExports.cloneElement(nt,{"aria-hidden":!0,focusable:!1}):null;return jsxRuntimeExports.jsx(Button,{padding:"0",borderRadius:et?"full":void 0,ref:_,"aria-label":tt,...rt,children:it})});IconButton.displayName="IconButton";var[CardStylesProvider,useCardStyles]=createStylesContext("Card"),CardBody=forwardRef(function(_,$){const{className:j,...et}=_,tt=useCardStyles();return jsxRuntimeExports.jsx(chakra.div,{ref:$,className:cx("chakra-card__body",j),__css:tt.body,...et})}),Card=forwardRef(function(_,$){const{className:j,children:et,direction:tt="column",justify:rt,align:nt,...it}=omitThemingProps(_),st=useMultiStyleConfig("Card",_);return jsxRuntimeExports.jsx(chakra.div,{ref:$,className:cx("chakra-card",j),__css:{display:"flex",flexDirection:tt,justifyContent:rt,alignItems:nt,position:"relative",minWidth:0,wordWrap:"break-word",...st.container},...it,children:jsxRuntimeExports.jsx(CardStylesProvider,{value:st,children:et})})}),[CheckboxGroupProvider,useCheckboxGroupContext]=createContext$1({name:"CheckboxGroupContext",strict:!1});function useInitialAnimationState(a){const[_,$]=reactExports.useState(a),[j,et]=reactExports.useState(!1);return a!==_&&(et(!0),$(a)),j}function CheckIcon$2(a){return jsxRuntimeExports.jsx(chakra.svg,{width:"1.2em",viewBox:"0 0 12 10",style:{fill:"none",strokeWidth:2,stroke:"currentColor",strokeDasharray:16},...a,children:jsxRuntimeExports.jsx("polyline",{points:"1.5 6 4.5 9 10.5 1"})})}function IndeterminateIcon(a){return jsxRuntimeExports.jsx(chakra.svg,{width:"1.2em",viewBox:"0 0 24 24",style:{stroke:"currentColor",strokeWidth:4},...a,children:jsxRuntimeExports.jsx("line",{x1:"21",x2:"3",y1:"12",y2:"12"})})}function CheckboxIcon(a){const{isIndeterminate:_,isChecked:$,...j}=a,et=_?IndeterminateIcon:CheckIcon$2;return $||_?jsxRuntimeExports.jsx(chakra.div,{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%"},children:jsxRuntimeExports.jsx(et,{...j})}):null}var[FormControlStylesProvider,useFormControlStyles]=createContext$1({name:"FormControlStylesContext",errorMessage:`useFormControlStyles returned is 'undefined'. Seems you forgot to wrap the components in "<FormControl />" `}),[FormControlProvider,useFormControlContext]=createContext$1({strict:!1,name:"FormControlContext"});function useFormControlProvider(a){const{id:_,isRequired:$,isInvalid:j,isDisabled:et,isReadOnly:tt,...rt}=a,nt=reactExports.useId(),it=_||`field-${nt}`,st=`${it}-label`,ot=`${it}-feedback`,at=`${it}-helptext`,[ut,ht]=reactExports.useState(!1),[yt,wt]=reactExports.useState(!1),[Ct,Pt]=reactExports.useState(!1),Tt=reactExports.useCallback((Ot={},It=null)=>({id:at,...Ot,ref:mergeRefs(It,Bt=>{Bt&&wt(!0)})}),[at]),Mt=reactExports.useCallback((Ot={},It=null)=>({...Ot,ref:It,"data-focus":dataAttr(Ct),"data-disabled":dataAttr(et),"data-invalid":dataAttr(j),"data-readonly":dataAttr(tt),id:Ot.id!==void 0?Ot.id:st,htmlFor:Ot.htmlFor!==void 0?Ot.htmlFor:it}),[it,et,Ct,j,tt,st]),Lt=reactExports.useCallback((Ot={},It=null)=>({id:ot,...Ot,ref:mergeRefs(It,Bt=>{Bt&&ht(!0)}),"aria-live":"polite"}),[ot]),Dt=reactExports.useCallback((Ot={},It=null)=>({...Ot,...rt,ref:It,role:"group","data-focus":dataAttr(Ct),"data-disabled":dataAttr(et),"data-invalid":dataAttr(j),"data-readonly":dataAttr(tt)}),[rt,et,Ct,j,tt]),Ut=reactExports.useCallback((Ot={},It=null)=>({...Ot,ref:It,role:"presentation","aria-hidden":!0,children:Ot.children||"*"}),[]);return{isRequired:!!$,isInvalid:!!j,isReadOnly:!!tt,isDisabled:!!et,isFocused:!!Ct,onFocus:()=>Pt(!0),onBlur:()=>Pt(!1),hasFeedbackText:ut,setHasFeedbackText:ht,hasHelpText:yt,setHasHelpText:wt,id:it,labelId:st,feedbackId:ot,helpTextId:at,htmlProps:rt,getHelpTextProps:Tt,getErrorMessageProps:Lt,getRootProps:Dt,getLabelProps:Mt,getRequiredIndicatorProps:Ut}}var FormControl=forwardRef(function(_,$){const j=useMultiStyleConfig("Form",_),et=omitThemingProps(_),{getRootProps:tt,htmlProps:rt,...nt}=useFormControlProvider(et),it=cx("chakra-form-control",_.className);return jsxRuntimeExports.jsx(FormControlProvider,{value:nt,children:jsxRuntimeExports.jsx(FormControlStylesProvider,{value:j,children:jsxRuntimeExports.jsx(chakra.div,{...tt({},$),className:it,__css:j.container})})})});FormControl.displayName="FormControl";var FormHelperText=forwardRef(function(_,$){const j=useFormControlContext(),et=useFormControlStyles(),tt=cx("chakra-form__helper-text",_.className);return jsxRuntimeExports.jsx(chakra.div,{...j==null?void 0:j.getHelpTextProps(_,$),__css:et.helperText,className:tt})});FormHelperText.displayName="FormHelperText";var[FormErrorStylesProvider,useFormErrorStyles]=createContext$1({name:"FormErrorStylesContext",errorMessage:`useFormErrorStyles returned is 'undefined'. Seems you forgot to wrap the components in "<FormError />" `}),FormErrorMessage$1=forwardRef((a,_)=>{const $=useMultiStyleConfig("FormError",a),j=omitThemingProps(a),et=useFormControlContext();return et!=null&&et.isInvalid?jsxRuntimeExports.jsx(FormErrorStylesProvider,{value:$,children:jsxRuntimeExports.jsx(chakra.div,{...et==null?void 0:et.getErrorMessageProps(j,_),className:cx("chakra-form__error-message",a.className),__css:{display:"flex",alignItems:"center",...$.text}})}):null});FormErrorMessage$1.displayName="FormErrorMessage";var FormErrorIcon=forwardRef((a,_)=>{const $=useFormErrorStyles(),j=useFormControlContext();if(!(j!=null&&j.isInvalid))return null;const et=cx("chakra-form__error-icon",a.className);return jsxRuntimeExports.jsx(Icon,{ref:_,"aria-hidden":!0,...a,__css:$.icon,className:et,children:jsxRuntimeExports.jsx("path",{fill:"currentColor",d:"M11.983,0a12.206,12.206,0,0,0-8.51,3.653A11.8,11.8,0,0,0,0,12.207,11.779,11.779,0,0,0,11.8,24h.214A12.111,12.111,0,0,0,24,11.791h0A11.766,11.766,0,0,0,11.983,0ZM10.5,16.542a1.476,1.476,0,0,1,1.449-1.53h.027a1.527,1.527,0,0,1,1.523,1.47,1.475,1.475,0,0,1-1.449,1.53h-.027A1.529,1.529,0,0,1,10.5,16.542ZM11,12.5v-6a1,1,0,0,1,2,0v6a1,1,0,1,1-2,0Z"})})});FormErrorIcon.displayName="FormErrorIcon";var FormLabel=forwardRef(function(_,$){var j;const et=useStyleConfig("FormLabel",_),tt=omitThemingProps(_),{className:rt,children:nt,requiredIndicator:it=jsxRuntimeExports.jsx(RequiredIndicator,{}),optionalIndicator:st=null,...ot}=tt,at=useFormControlContext(),ut=(j=at==null?void 0:at.getLabelProps(ot,$))!=null?j:{ref:$,...ot};return jsxRuntimeExports.jsxs(chakra.label,{...ut,className:cx("chakra-form__label",tt.className),__css:{display:"block",textAlign:"start",...et},children:[nt,at!=null&&at.isRequired?it:st]})});FormLabel.displayName="FormLabel";var RequiredIndicator=forwardRef(function(_,$){const j=useFormControlContext(),et=useFormControlStyles();if(!(j!=null&&j.isRequired))return null;const tt=cx("chakra-form__required-indicator",_.className);return jsxRuntimeExports.jsx(chakra.span,{...j==null?void 0:j.getRequiredIndicatorProps(_,$),__css:et.requiredIndicator,className:tt})});RequiredIndicator.displayName="RequiredIndicator";function useFormControl(a){const{isDisabled:_,isInvalid:$,isReadOnly:j,isRequired:et,...tt}=useFormControlProps(a);return{...tt,disabled:_,readOnly:j,required:et,"aria-invalid":ariaAttr($),"aria-required":ariaAttr(et),"aria-readonly":ariaAttr(j)}}function useFormControlProps(a){var _,$,j;const et=useFormControlContext(),{id:tt,disabled:rt,readOnly:nt,required:it,isRequired:st,isInvalid:ot,isReadOnly:at,isDisabled:ut,onFocus:ht,onBlur:yt,...wt}=a,Ct=a["aria-describedby"]?[a["aria-describedby"]]:[];return et!=null&&et.hasFeedbackText&&(et!=null&&et.isInvalid)&&Ct.push(et.feedbackId),et!=null&&et.hasHelpText&&Ct.push(et.helpTextId),{...wt,"aria-describedby":Ct.join(" ")||void 0,id:tt??(et==null?void 0:et.id),isDisabled:(_=rt??ut)!=null?_:et==null?void 0:et.isDisabled,isReadOnly:($=nt??at)!=null?$:et==null?void 0:et.isReadOnly,isRequired:(j=it??st)!=null?j:et==null?void 0:et.isRequired,isInvalid:ot??(et==null?void 0:et.isInvalid),onFocus:callAllHandlers$1(et==null?void 0:et.onFocus,ht),onBlur:callAllHandlers$1(et==null?void 0:et.onBlur,yt)}}var visuallyHiddenStyle$1={border:"0",clip:"rect(0, 0, 0, 0)",height:"1px",width:"1px",margin:"-1px",padding:"0",overflow:"hidden",whiteSpace:"nowrap",position:"absolute"},isDom$1=()=>typeof document<"u",hasSetup=!1,modality=null,hasEventBeforeFocus=!1,hasBlurredWindowRecently=!1,handlers=new Set;function trigger(a,_){handlers.forEach($=>$(a,_))}var isMac=typeof window<"u"&&window.navigator!=null?/^Mac/.test(window.navigator.platform):!1;function isValidKey(a){return!(a.metaKey||!isMac&&a.altKey||a.ctrlKey||a.key==="Control"||a.key==="Shift"||a.key==="Meta")}function onKeyboardEvent(a){hasEventBeforeFocus=!0,isValidKey(a)&&(modality="keyboard",trigger("keyboard",a))}function onPointerEvent(a){if(modality="pointer",a.type==="mousedown"||a.type==="pointerdown"){hasEventBeforeFocus=!0;const _=a.composedPath?a.composedPath()[0]:a.target;let $=!1;try{$=_.matches(":focus-visible")}catch{}if($)return;trigger("pointer",a)}}function isVirtualClick(a){return a.mozInputSource===0&&a.isTrusted?!0:a.detail===0&&!a.pointerType}function onClickEvent(a){isVirtualClick(a)&&(hasEventBeforeFocus=!0,modality="virtual")}function onWindowFocus(a){a.target===window||a.target===document||(!hasEventBeforeFocus&&!hasBlurredWindowRecently&&(modality="virtual",trigger("virtual",a)),hasEventBeforeFocus=!1,hasBlurredWindowRecently=!1)}function onWindowBlur$1(){hasEventBeforeFocus=!1,hasBlurredWindowRecently=!0}function isFocusVisible(){return modality!=="pointer"}function setupGlobalFocusEvents(){if(!isDom$1()||hasSetup)return;const{focus:a}=HTMLElement.prototype;HTMLElement.prototype.focus=function(...$){hasEventBeforeFocus=!0,a.apply(this,$)},document.addEventListener("keydown",onKeyboardEvent,!0),document.addEventListener("keyup",onKeyboardEvent,!0),document.addEventListener("click",onClickEvent,!0),window.addEventListener("focus",onWindowFocus,!0),window.addEventListener("blur",onWindowBlur$1,!1),typeof PointerEvent<"u"?(document.addEventListener("pointerdown",onPointerEvent,!0),document.addEventListener("pointermove",onPointerEvent,!0),document.addEventListener("pointerup",onPointerEvent,!0)):(document.addEventListener("mousedown",onPointerEvent,!0),document.addEventListener("mousemove",onPointerEvent,!0),document.addEventListener("mouseup",onPointerEvent,!0)),hasSetup=!0}function trackFocusVisible(a){setupGlobalFocusEvents(),a(isFocusVisible());const _=()=>a(isFocusVisible());return handlers.add(_),()=>{handlers.delete(_)}}function omit$3(a,_=[]){const $=Object.assign({},a);for(const j of _)j in $&&delete $[j];return $}function useCheckbox(a={}){const _=useFormControlProps(a),{isDisabled:$,isReadOnly:j,isRequired:et,isInvalid:tt,id:rt,onBlur:nt,onFocus:it,"aria-describedby":st}=_,{defaultChecked:ot,isChecked:at,isFocusable:ut,onChange:ht,isIndeterminate:yt,name:wt,value:Ct,tabIndex:Pt=void 0,"aria-label":Tt,"aria-labelledby":Mt,"aria-invalid":Lt,...Dt}=a,Ut=omit$3(Dt,["isDisabled","isReadOnly","isRequired","isInvalid","id","onBlur","onFocus","aria-describedby"]),Ot=useCallbackRef$2(ht),It=useCallbackRef$2(nt),Bt=useCallbackRef$2(it),[Ft,jt]=reactExports.useState(!1),[bt,vt]=reactExports.useState(!1),[ct,dt]=reactExports.useState(!1),[mt,xt]=reactExports.useState(!1);reactExports.useEffect(()=>trackFocusVisible(jt),[]);const At=reactExports.useRef(null),[Rt,St]=reactExports.useState(!0),[$t,Et]=reactExports.useState(!!ot),Nt=at!==void 0,tr=Nt?at:$t,ir=reactExports.useCallback(pr=>{if(j||$){pr.preventDefault();return}Nt||Et(tr?pr.target.checked:yt?!0:pr.target.checked),Ot==null||Ot(pr)},[j,$,tr,Nt,yt,Ot]);useSafeLayoutEffect$2(()=>{At.current&&(At.current.indeterminate=!!yt)},[yt]),useUpdateEffect(()=>{$&&vt(!1)},[$,vt]),useSafeLayoutEffect$2(()=>{const pr=At.current;if(!(pr!=null&&pr.form))return;const Cr=()=>{Et(!!ot)};return pr.form.addEventListener("reset",Cr),()=>{var Mr;return(Mr=pr.form)==null?void 0:Mr.removeEventListener("reset",Cr)}},[]);const nr=$&&!ut,Zt=reactExports.useCallback(pr=>{pr.key===" "&&xt(!0)},[xt]),Kt=reactExports.useCallback(pr=>{pr.key===" "&&xt(!1)},[xt]);useSafeLayoutEffect$2(()=>{if(!At.current)return;At.current.checked!==tr&&Et(At.current.checked)},[At.current]);const Qt=reactExports.useCallback((pr={},Cr=null)=>{const Mr=lr=>{bt&&lr.preventDefault(),xt(!0)};return{...pr,ref:Cr,"data-active":dataAttr(mt),"data-hover":dataAttr(ct),"data-checked":dataAttr(tr),"data-focus":dataAttr(bt),"data-focus-visible":dataAttr(bt&&Ft),"data-indeterminate":dataAttr(yt),"data-disabled":dataAttr($),"data-invalid":dataAttr(tt),"data-readonly":dataAttr(j),"aria-hidden":!0,onMouseDown:callAllHandlers$1(pr.onMouseDown,Mr),onMouseUp:callAllHandlers$1(pr.onMouseUp,()=>xt(!1)),onMouseEnter:callAllHandlers$1(pr.onMouseEnter,()=>dt(!0)),onMouseLeave:callAllHandlers$1(pr.onMouseLeave,()=>dt(!1))}},[mt,tr,$,bt,Ft,ct,yt,tt,j]),Ht=reactExports.useCallback((pr={},Cr=null)=>({...pr,ref:Cr,"data-active":dataAttr(mt),"data-hover":dataAttr(ct),"data-checked":dataAttr(tr),"data-focus":dataAttr(bt),"data-focus-visible":dataAttr(bt&&Ft),"data-indeterminate":dataAttr(yt),"data-disabled":dataAttr($),"data-invalid":dataAttr(tt),"data-readonly":dataAttr(j)}),[mt,tr,$,bt,Ft,ct,yt,tt,j]),qt=reactExports.useCallback((pr={},Cr=null)=>({...Ut,...pr,ref:mergeRefs(Cr,Mr=>{Mr&&St(Mr.tagName==="LABEL")}),onClick:callAllHandlers$1(pr.onClick,()=>{var Mr;Rt||((Mr=At.current)==null||Mr.click(),requestAnimationFrame(()=>{var lr;(lr=At.current)==null||lr.focus({preventScroll:!0})}))}),"data-disabled":dataAttr($),"data-checked":dataAttr(tr),"data-invalid":dataAttr(tt)}),[Ut,$,tr,tt,Rt]),Jt=reactExports.useCallback((pr={},Cr=null)=>({...pr,ref:mergeRefs(At,Cr),type:"checkbox",name:wt,value:Ct,id:rt,tabIndex:Pt,onChange:callAllHandlers$1(pr.onChange,ir),onBlur:callAllHandlers$1(pr.onBlur,It,()=>vt(!1)),onFocus:callAllHandlers$1(pr.onFocus,Bt,()=>vt(!0)),onKeyDown:callAllHandlers$1(pr.onKeyDown,Zt),onKeyUp:callAllHandlers$1(pr.onKeyUp,Kt),required:et,checked:tr,disabled:nr,readOnly:j,"aria-label":Tt,"aria-labelledby":Mt,"aria-invalid":Lt?!!Lt:tt,"aria-describedby":st,"aria-disabled":$,style:visuallyHiddenStyle$1}),[wt,Ct,rt,ir,It,Bt,Zt,Kt,et,tr,nr,j,Tt,Mt,Lt,tt,st,$,Pt]),ur=reactExports.useCallback((pr={},Cr=null)=>({...pr,ref:Cr,onMouseDown:callAllHandlers$1(pr.onMouseDown,stopEvent$1),"data-disabled":dataAttr($),"data-checked":dataAttr(tr),"data-invalid":dataAttr(tt)}),[tr,$,tt]);return{state:{isInvalid:tt,isFocused:bt,isChecked:tr,isActive:mt,isHovered:ct,isIndeterminate:yt,isDisabled:$,isReadOnly:j,isRequired:et},getRootProps:qt,getCheckboxProps:Qt,getIndicatorProps:Ht,getInputProps:Jt,getLabelProps:ur,htmlProps:Ut}}function stopEvent$1(a){a.preventDefault(),a.stopPropagation()}var controlStyles={display:"inline-flex",alignItems:"center",justifyContent:"center",verticalAlign:"top",userSelect:"none",flexShrink:0},rootStyles={cursor:"pointer",display:"inline-flex",alignItems:"center",verticalAlign:"top",position:"relative"},checkAnim=keyframes$1({from:{opacity:0,strokeDashoffset:16,transform:"scale(0.95)"},to:{opacity:1,strokeDashoffset:0,transform:"scale(1)"}}),indeterminateOpacityAnim=keyframes$1({from:{opacity:0},to:{opacity:1}}),indeterminateScaleAnim=keyframes$1({from:{transform:"scaleX(0.65)"},to:{transform:"scaleX(1)"}}),Checkbox=forwardRef(function(_,$){const j=useCheckboxGroupContext(),et={...j,..._},tt=useMultiStyleConfig("Checkbox",et),rt=omitThemingProps(_),{spacing:nt="0.5rem",className:it,children:st,iconColor:ot,iconSize:at,icon:ut=jsxRuntimeExports.jsx(CheckboxIcon,{}),isChecked:ht,isDisabled:yt=j==null?void 0:j.isDisabled,onChange:wt,inputProps:Ct,...Pt}=rt;let Tt=ht;j!=null&&j.value&&rt.value&&(Tt=j.value.includes(rt.value));let Mt=wt;j!=null&&j.onChange&&rt.value&&(Mt=callAll(j.onChange,wt));const{state:Lt,getInputProps:Dt,getCheckboxProps:Ut,getLabelProps:Ot,getRootProps:It}=useCheckbox({...Pt,isDisabled:yt,isChecked:Tt,onChange:Mt}),Bt=useInitialAnimationState(Lt.isChecked),Ft=reactExports.useMemo(()=>({animation:Bt?Lt.isIndeterminate?`${indeterminateOpacityAnim} 20ms linear, ${indeterminateScaleAnim} 200ms linear`:`${checkAnim} 200ms linear`:void 0,fontSize:at,color:ot,...tt.icon}),[ot,at,Bt,Lt.isIndeterminate,tt.icon]),jt=reactExports.cloneElement(ut,{__css:Ft,isIndeterminate:Lt.isIndeterminate,isChecked:Lt.isChecked});return jsxRuntimeExports.jsxs(chakra.label,{__css:{...rootStyles,...tt.container},className:cx("chakra-checkbox",it),...It(),children:[jsxRuntimeExports.jsx("input",{className:"chakra-checkbox__input",...Dt(Ct,$)}),jsxRuntimeExports.jsx(chakra.span,{__css:{...controlStyles,...tt.control},className:"chakra-checkbox__control",...Ut(),children:jt}),st&&jsxRuntimeExports.jsx(chakra.span,{className:"chakra-checkbox__label",...Ot(),__css:{marginStart:nt,...tt.label},children:st})]})});Checkbox.displayName="Checkbox";function useEventListener(a,_,$,j){const et=useCallbackRef$2($);return reactExports.useEffect(()=>{const tt=typeof a=="function"?a():a??document;if(!(!$||!tt))return tt.addEventListener(_,et,j),()=>{tt.removeEventListener(_,et,j)}},[_,a,j,et,$]),()=>{const tt=typeof a=="function"?a():a??document;tt==null||tt.removeEventListener(_,et,j)}}function isRefObject$1(a){return"current"in a}var isDom=()=>typeof window<"u";function getPlatform(){var a;const _=navigator.userAgentData;return(a=_==null?void 0:_.platform)!=null?a:navigator.platform}var vn=a=>isDom()&&a.test(navigator.vendor),pt=a=>isDom()&&a.test(getPlatform()),isApple=()=>pt(/mac|iphone|ipad|ipod/i),isSafari=()=>isApple()&&vn(/apple/i);function useFocusOnPointerDown(a){const{ref:_,elements:$,enabled:j}=a,et=()=>{var tt,rt;return(rt=(tt=_.current)==null?void 0:tt.ownerDocument)!=null?rt:document};useEventListener(et,"pointerdown",tt=>{if(!isSafari()||!j)return;const rt=tt.target,it=($??[_]).some(st=>{const ot=isRefObject$1(st)?st.current:st;return(ot==null?void 0:ot.contains(rt))||ot===rt});et().activeElement!==rt&&it&&(tt.preventDefault(),rt.focus())})}function _objectWithoutPropertiesLoose$3(a,_){if(a==null)return{};var $={},j=Object.keys(a),et,tt;for(tt=0;tt<j.length;tt++)et=j[tt],!(_.indexOf(et)>=0)&&($[et]=a[et]);return $}function _extends$5(){return _extends$5=Object.assign?Object.assign.bind():function(a){for(var _=1;_<arguments.length;_++){var $=arguments[_];for(var j in $)Object.prototype.hasOwnProperty.call($,j)&&(a[j]=$[j])}return a},_extends$5.apply(this,arguments)}var propTypes$1={exports:{}},ReactPropTypesSecret$1="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",ReactPropTypesSecret_1=ReactPropTypesSecret$1,ReactPropTypesSecret=ReactPropTypesSecret_1;function emptyFunction(){}function emptyFunctionWithReset(){}emptyFunctionWithReset.resetWarningCache=emptyFunction;var factoryWithThrowingShims=function(){function a(j,et,tt,rt,nt,it){if(it!==ReactPropTypesSecret){var st=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw st.name="Invariant Violation",st}}a.isRequired=a;function _(){return a}var $={array:a,bigint:a,bool:a,func:a,number:a,object:a,string:a,symbol:a,any:a,arrayOf:_,element:a,elementType:a,instanceOf:_,node:a,objectOf:_,oneOf:_,oneOfType:_,shape:_,exact:_,checkPropTypes:emptyFunctionWithReset,resetWarningCache:emptyFunction};return $.PropTypes=$,$};propTypes$1.exports=factoryWithThrowingShims();var propTypesExports=propTypes$1.exports,FOCUS_GROUP="data-focus-lock",FOCUS_DISABLED="data-focus-lock-disabled",FOCUS_ALLOW="data-no-focus-lock",FOCUS_AUTO="data-autofocus-inside",FOCUS_NO_AUTOFOCUS="data-no-autofocus";function assignRef(a,_){return typeof a=="function"?a(_):a&&(a.current=_),a}function useCallbackRef$1(a,_){var $=reactExports.useState(function(){return{value:a,callback:_,facade:{get current(){return $.value},set current(j){var et=$.value;et!==j&&($.value=j,$.callback(j,et))}}}})[0];return $.callback=_,$.facade}function useMergeRefs(a,_){return useCallbackRef$1(null,function($){return a.forEach(function(j){return assignRef(j,$)})})}var hiddenGuard={width:"1px",height:"0px",padding:0,overflow:"hidden",position:"fixed",top:"1px",left:"1px"},extendStatics=function(a,_){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function($,j){$.__proto__=j}||function($,j){for(var et in j)Object.prototype.hasOwnProperty.call(j,et)&&($[et]=j[et])},extendStatics(a,_)};function __extends$1(a,_){if(typeof _!="function"&&_!==null)throw new TypeError("Class extends value "+String(_)+" is not a constructor or null");extendStatics(a,_);function $(){this.constructor=a}a.prototype=_===null?Object.create(_):($.prototype=_.prototype,new $)}var __assign=function(){return __assign=Object.assign||function(_){for(var $,j=1,et=arguments.length;j<et;j++){$=arguments[j];for(var tt in $)Object.prototype.hasOwnProperty.call($,tt)&&(_[tt]=$[tt])}return _},__assign.apply(this,arguments)};function __rest$3(a,_){var $={};for(var j in a)Object.prototype.hasOwnProperty.call(a,j)&&_.indexOf(j)<0&&($[j]=a[j]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var et=0,j=Object.getOwnPropertySymbols(a);et<j.length;et++)_.indexOf(j[et])<0&&Object.prototype.propertyIsEnumerable.call(a,j[et])&&($[j[et]]=a[j[et]]);return $}function __awaiter$8(a,_,$,j){function et(tt){return tt instanceof $?tt:new $(function(rt){rt(tt)})}return new($||($=Promise))(function(tt,rt){function nt(ot){try{st(j.next(ot))}catch(at){rt(at)}}function it(ot){try{st(j.throw(ot))}catch(at){rt(at)}}function st(ot){ot.done?tt(ot.value):et(ot.value).then(nt,it)}st((j=j.apply(a,_||[])).next())})}function __generator(a,_){var $={label:0,sent:function(){if(tt[0]&1)throw tt[1];return tt[1]},trys:[],ops:[]},j,et,tt,rt;return rt={next:nt(0),throw:nt(1),return:nt(2)},typeof Symbol=="function"&&(rt[Symbol.iterator]=function(){return this}),rt;function nt(st){return function(ot){return it([st,ot])}}function it(st){if(j)throw new TypeError("Generator is already executing.");for(;rt&&(rt=0,st[0]&&($=0)),$;)try{if(j=1,et&&(tt=st[0]&2?et.return:st[0]?et.throw||((tt=et.return)&&tt.call(et),0):et.next)&&!(tt=tt.call(et,st[1])).done)return tt;switch(et=0,tt&&(st=[st[0]&2,tt.value]),st[0]){case 0:case 1:tt=st;break;case 4:return $.label++,{value:st[1],done:!1};case 5:$.label++,et=st[1],st=[0];continue;case 7:st=$.ops.pop(),$.trys.pop();continue;default:if(tt=$.trys,!(tt=tt.length>0&&tt[tt.length-1])&&(st[0]===6||st[0]===2)){$=0;continue}if(st[0]===3&&(!tt||st[1]>tt[0]&&st[1]<tt[3])){$.label=st[1];break}if(st[0]===6&&$.label<tt[1]){$.label=tt[1],tt=st;break}if(tt&&$.label<tt[2]){$.label=tt[2],$.ops.push(st);break}tt[2]&&$.ops.pop(),$.trys.pop();continue}st=_.call(a,$)}catch(ot){st=[6,ot],et=0}finally{j=tt=0}if(st[0]&5)throw st[1];return{value:st[0]?st[1]:void 0,done:!0}}}function __values(a){var _=typeof Symbol=="function"&&Symbol.iterator,$=_&&a[_],j=0;if($)return $.call(a);if(a&&typeof a.length=="number")return{next:function(){return a&&j>=a.length&&(a=void 0),{value:a&&a[j++],done:!a}}};throw new TypeError(_?"Object is not iterable.":"Symbol.iterator is not defined.")}function __read(a,_){var $=typeof Symbol=="function"&&a[Symbol.iterator];if(!$)return a;var j=$.call(a),et,tt=[],rt;try{for(;(_===void 0||_-- >0)&&!(et=j.next()).done;)tt.push(et.value)}catch(nt){rt={error:nt}}finally{try{et&&!et.done&&($=j.return)&&$.call(j)}finally{if(rt)throw rt.error}}return tt}function __spreadArray(a,_,$){if($||arguments.length===2)for(var j=0,et=_.length,tt;j<et;j++)(tt||!(j in _))&&(tt||(tt=Array.prototype.slice.call(_,0,j)),tt[j]=_[j]);return a.concat(tt||Array.prototype.slice.call(_))}function __await(a){return this instanceof __await?(this.v=a,this):new __await(a)}function __asyncGenerator(a,_,$){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var j=$.apply(a,_||[]),et,tt=[];return et={},rt("next"),rt("throw"),rt("return"),et[Symbol.asyncIterator]=function(){return this},et;function rt(ut){j[ut]&&(et[ut]=function(ht){return new Promise(function(yt,wt){tt.push([ut,ht,yt,wt])>1||nt(ut,ht)})})}function nt(ut,ht){try{it(j[ut](ht))}catch(yt){at(tt[0][3],yt)}}function it(ut){ut.value instanceof __await?Promise.resolve(ut.value.v).then(st,ot):at(tt[0][2],ut)}function st(ut){nt("next",ut)}function ot(ut){nt("throw",ut)}function at(ut,ht){ut(ht),tt.shift(),tt.length&&nt(tt[0][0],tt[0][1])}}function __asyncValues(a){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var _=a[Symbol.asyncIterator],$;return _?_.call(a):(a=typeof __values=="function"?__values(a):a[Symbol.iterator](),$={},j("next"),j("throw"),j("return"),$[Symbol.asyncIterator]=function(){return this},$);function j(tt){$[tt]=a[tt]&&function(rt){return new Promise(function(nt,it){rt=a[tt](rt),et(nt,it,rt.done,rt.value)})}}function et(tt,rt,nt,it){Promise.resolve(it).then(function(st){tt({value:st,done:nt})},rt)}}typeof SuppressedError=="function"&&SuppressedError;function ItoI(a){return a}function innerCreateMedium(a,_){_===void 0&&(_=ItoI);var $=[],j=!1,et={read:function(){if(j)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return $.length?$[$.length-1]:a},useMedium:function(tt){var rt=_(tt,j);return $.push(rt),function(){$=$.filter(function(nt){return nt!==rt})}},assignSyncMedium:function(tt){for(j=!0;$.length;){var rt=$;$=[],rt.forEach(tt)}$={push:function(nt){return tt(nt)},filter:function(){return $}}},assignMedium:function(tt){j=!0;var rt=[];if($.length){var nt=$;$=[],nt.forEach(tt),rt=$}var it=function(){var ot=rt;rt=[],ot.forEach(tt)},st=function(){return Promise.resolve().then(it)};st(),$={push:function(ot){rt.push(ot),st()},filter:function(ot){return rt=rt.filter(ot),$}}}};return et}function createMedium(a,_){return _===void 0&&(_=ItoI),innerCreateMedium(a,_)}function createSidecarMedium(a){a===void 0&&(a={});var _=innerCreateMedium(null);return _.options=__assign({async:!0,ssr:!1},a),_}var SideCar$2=function(a){var _=a.sideCar,$=__rest$3(a,["sideCar"]);if(!_)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var j=_.read();if(!j)throw new Error("Sidecar medium not found");return reactExports.createElement(j,__assign({},$))};SideCar$2.isSideCarExport=!0;function exportSidecar(a,_){return a.useMedium(_),SideCar$2}var mediumFocus=createMedium({},function(a){var _=a.target,$=a.currentTarget;return{target:_,currentTarget:$}}),mediumBlur=createMedium(),mediumEffect=createMedium(),mediumSidecar=createSidecarMedium({async:!0}),emptyArray=[],FocusLock$1=reactExports.forwardRef(function(_,$){var j,et=reactExports.useState(),tt=et[0],rt=et[1],nt=reactExports.useRef(),it=reactExports.useRef(!1),st=reactExports.useRef(null),ot=_.children,at=_.disabled,ut=_.noFocusGuards,ht=_.persistentFocus,yt=_.crossFrame,wt=_.autoFocus;_.allowTextSelection;var Ct=_.group,Pt=_.className,Tt=_.whiteList,Mt=_.hasPositiveIndices,Lt=_.shards,Dt=Lt===void 0?emptyArray:Lt,Ut=_.as,Ot=Ut===void 0?"div":Ut,It=_.lockProps,Bt=It===void 0?{}:It,Ft=_.sideCar,jt=_.returnFocus,bt=_.focusOptions,vt=_.onActivation,ct=_.onDeactivation,dt=reactExports.useState({}),mt=dt[0],xt=reactExports.useCallback(function(){st.current=st.current||document&&document.activeElement,nt.current&&vt&&vt(nt.current),it.current=!0},[vt]),At=reactExports.useCallback(function(){it.current=!1,ct&&ct(nt.current)},[ct]);reactExports.useEffect(function(){at||(st.current=null)},[]);var Rt=reactExports.useCallback(function(Zt){var Kt=st.current;if(Kt&&Kt.focus){var Qt=typeof jt=="function"?jt(Kt):jt;if(Qt){var Ht=typeof Qt=="object"?Qt:void 0;st.current=null,Zt?Promise.resolve().then(function(){return Kt.focus(Ht)}):Kt.focus(Ht)}}},[jt]),St=reactExports.useCallback(function(Zt){it.current&&mediumFocus.useMedium(Zt)},[]),$t=mediumBlur.useMedium,Et=reactExports.useCallback(function(Zt){nt.current!==Zt&&(nt.current=Zt,rt(Zt))},[]),Nt=_extends$5((j={},j[FOCUS_DISABLED]=at&&"disabled",j[FOCUS_GROUP]=Ct,j),Bt),tr=ut!==!0,ir=tr&&ut!=="tail",nr=useMergeRefs([$,Et]);return reactExports.createElement(reactExports.Fragment,null,tr&&[reactExports.createElement("div",{key:"guard-first","data-focus-guard":!0,tabIndex:at?-1:0,style:hiddenGuard}),Mt?reactExports.createElement("div",{key:"guard-nearest","data-focus-guard":!0,tabIndex:at?-1:1,style:hiddenGuard}):null],!at&&reactExports.createElement(Ft,{id:mt,sideCar:mediumSidecar,observed:tt,disabled:at,persistentFocus:ht,crossFrame:yt,autoFocus:wt,whiteList:Tt,shards:Dt,onActivation:xt,onDeactivation:At,returnFocus:Rt,focusOptions:bt}),reactExports.createElement(Ot,_extends$5({ref:nr},Nt,{className:Pt,onBlur:$t,onFocus:St}),ot),ir&&reactExports.createElement("div",{"data-focus-guard":!0,tabIndex:at?-1:0,style:hiddenGuard}))});FocusLock$1.propTypes={};FocusLock$1.defaultProps={children:void 0,disabled:!1,returnFocus:!1,focusOptions:void 0,noFocusGuards:!1,autoFocus:!0,persistentFocus:!1,crossFrame:!0,hasPositiveIndices:void 0,allowTextSelection:void 0,group:void 0,className:void 0,whiteList:void 0,shards:void 0,as:"div",lockProps:{},onActivation:void 0,onDeactivation:void 0};function _setPrototypeOf$2(a,_){return _setPrototypeOf$2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(j,et){return j.__proto__=et,j},_setPrototypeOf$2(a,_)}function _inheritsLoose$1(a,_){a.prototype=Object.create(_.prototype),a.prototype.constructor=a,_setPrototypeOf$2(a,_)}function _typeof$6(a){"@babel/helpers - typeof";return _typeof$6=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},_typeof$6(a)}function _toPrimitive(a,_){if(_typeof$6(a)!=="object"||a===null)return a;var $=a[Symbol.toPrimitive];if($!==void 0){var j=$.call(a,_||"default");if(_typeof$6(j)!=="object")return j;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_==="string"?String:Number)(a)}function _toPropertyKey(a){var _=_toPrimitive(a,"string");return _typeof$6(_)==="symbol"?_:String(_)}function _defineProperty$8(a,_,$){return _=_toPropertyKey(_),_ in a?Object.defineProperty(a,_,{value:$,enumerable:!0,configurable:!0,writable:!0}):a[_]=$,a}function withSideEffect(a,_){function $(j){return j.displayName||j.name||"Component"}return function(et){var tt=[],rt;function nt(){rt=a(tt.map(function(st){return st.props})),_(rt)}var it=function(st){_inheritsLoose$1(ot,st);function ot(){return st.apply(this,arguments)||this}ot.peek=function(){return rt};var at=ot.prototype;return at.componentDidMount=function(){tt.push(this),nt()},at.componentDidUpdate=function(){nt()},at.componentWillUnmount=function(){var ht=tt.indexOf(this);tt.splice(ht,1),nt()},at.render=function(){return React$2.createElement(et,this.props)},ot}(reactExports.PureComponent);return _defineProperty$8(it,"displayName","SideEffect("+$(et)+")"),it}}var toArray$4=function(a){for(var _=Array(a.length),$=0;$<a.length;++$)_[$]=a[$];return _},asArray=function(a){return Array.isArray(a)?a:[a]},getFirst=function(a){return Array.isArray(a)?a[0]:a},isElementHidden=function(a){if(a.nodeType!==Node.ELEMENT_NODE)return!1;var _=window.getComputedStyle(a,null);return!_||!_.getPropertyValue?!1:_.getPropertyValue("display")==="none"||_.getPropertyValue("visibility")==="hidden"},getParentNode$1=function(a){return a.parentNode&&a.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE?a.parentNode.host:a.parentNode},isTopNode=function(a){return a===document||a&&a.nodeType===Node.DOCUMENT_NODE},isVisibleUncached=function(a,_){return!a||isTopNode(a)||!isElementHidden(a)&&_(getParentNode$1(a))},isVisibleCached=function(a,_){var $=a.get(_);if($!==void 0)return $;var j=isVisibleUncached(_,isVisibleCached.bind(void 0,a));return a.set(_,j),j},isAutoFocusAllowedUncached=function(a,_){return a&&!isTopNode(a)?isAutoFocusAllowed(a)?_(getParentNode$1(a)):!1:!0},isAutoFocusAllowedCached=function(a,_){var $=a.get(_);if($!==void 0)return $;var j=isAutoFocusAllowedUncached(_,isAutoFocusAllowedCached.bind(void 0,a));return a.set(_,j),j},getDataset=function(a){return a.dataset},isHTMLButtonElement=function(a){return a.tagName==="BUTTON"},isHTMLInputElement=function(a){return a.tagName==="INPUT"},isRadioElement=function(a){return isHTMLInputElement(a)&&a.type==="radio"},notHiddenInput=function(a){return!((isHTMLInputElement(a)||isHTMLButtonElement(a))&&(a.type==="hidden"||a.disabled))},isAutoFocusAllowed=function(a){var _=a.getAttribute(FOCUS_NO_AUTOFOCUS);return![!0,"true",""].includes(_)},isGuard=function(a){var _;return!!(a&&(!((_=getDataset(a))===null||_===void 0)&&_.focusGuard))},isNotAGuard=function(a){return!isGuard(a)},isDefined=function(a){return!!a},tabSort=function(a,_){var $=a.tabIndex-_.tabIndex,j=a.index-_.index;if($){if(!a.tabIndex)return 1;if(!_.tabIndex)return-1}return $||j},orderByTabIndex=function(a,_,$){return toArray$4(a).map(function(j,et){return{node:j,index:et,tabIndex:$&&j.tabIndex===-1?(j.dataset||{}).focusGuard?0:-1:j.tabIndex}}).filter(function(j){return!_||j.tabIndex>=0}).sort(tabSort)},tabbables=["button:enabled","select:enabled","textarea:enabled","input:enabled","a[href]","area[href]","summary","iframe","object","embed","audio[controls]","video[controls]","[tabindex]","[contenteditable]","[autofocus]"],queryTabbables=tabbables.join(","),queryGuardTabbables="".concat(queryTabbables,", [data-focus-guard]"),getFocusablesWithShadowDom=function(a,_){return toArray$4((a.shadowRoot||a).children).reduce(function($,j){return $.concat(j.matches(_?queryGuardTabbables:queryTabbables)?[j]:[],getFocusablesWithShadowDom(j))},[])},getFocusablesWithIFrame=function(a,_){var $;return a instanceof HTMLIFrameElement&&(!(($=a.contentDocument)===null||$===void 0)&&$.body)?getFocusables([a.contentDocument.body],_):[a]},getFocusables=function(a,_){return a.reduce(function($,j){var et,tt=getFocusablesWithShadowDom(j,_),rt=(et=[]).concat.apply(et,tt.map(function(nt){return getFocusablesWithIFrame(nt,_)}));return $.concat(rt,j.parentNode?toArray$4(j.parentNode.querySelectorAll(queryTabbables)).filter(function(nt){return nt===j}):[])},[])},getParentAutofocusables=function(a){var _=a.querySelectorAll("[".concat(FOCUS_AUTO,"]"));return toArray$4(_).map(function($){return getFocusables([$])}).reduce(function($,j){return $.concat(j)},[])},filterFocusable=function(a,_){return toArray$4(a).filter(function($){return isVisibleCached(_,$)}).filter(function($){return notHiddenInput($)})},filterAutoFocusable=function(a,_){return _===void 0&&(_=new Map),toArray$4(a).filter(function($){return isAutoFocusAllowedCached(_,$)})},getTabbableNodes=function(a,_,$){return orderByTabIndex(filterFocusable(getFocusables(a,$),_),!0,$)},getFocusableNodes=function(a,_){return orderByTabIndex(filterFocusable(getFocusables(a),_),!1)},parentAutofocusables=function(a,_){return filterFocusable(getParentAutofocusables(a),_)},contains$2=function(a,_){return a.shadowRoot?contains$2(a.shadowRoot,_):Object.getPrototypeOf(a).contains!==void 0&&Object.getPrototypeOf(a).contains.call(a,_)?!0:toArray$4(a.children).some(function($){var j;if($ instanceof HTMLIFrameElement){var et=(j=$.contentDocument)===null||j===void 0?void 0:j.body;return et?contains$2(et,_):!1}return contains$2($,_)})},filterNested=function(a){for(var _=new Set,$=a.length,j=0;j<$;j+=1)for(var et=j+1;et<$;et+=1){var tt=a[j].compareDocumentPosition(a[et]);(tt&Node.DOCUMENT_POSITION_CONTAINED_BY)>0&&_.add(et),(tt&Node.DOCUMENT_POSITION_CONTAINS)>0&&_.add(j)}return a.filter(function(rt,nt){return!_.has(nt)})},getTopParent=function(a){return a.parentNode?getTopParent(a.parentNode):a},getAllAffectedNodes=function(a){var _=asArray(a);return _.filter(Boolean).reduce(function($,j){var et=j.getAttribute(FOCUS_GROUP);return $.push.apply($,et?filterNested(toArray$4(getTopParent(j).querySelectorAll("[".concat(FOCUS_GROUP,'="').concat(et,'"]:not([').concat(FOCUS_DISABLED,'="disabled"])')))):[j]),$},[])},safeProbe=function(a){try{return a()}catch{return}},getActiveElement$1=function(a){if(a===void 0&&(a=document),!(!a||!a.activeElement)){var _=a.activeElement;return _.shadowRoot?getActiveElement$1(_.shadowRoot):_ instanceof HTMLIFrameElement&&safeProbe(function(){return _.contentWindow.document})?getActiveElement$1(_.contentWindow.document):_}},focusInFrame=function(a,_){return a===_},focusInsideIframe=function(a,_){return!!toArray$4(a.querySelectorAll("iframe")).some(function($){return focusInFrame($,_)})},focusInside=function(a,_){return _===void 0&&(_=getActiveElement$1(getFirst(a).ownerDocument)),!_||_.dataset&&_.dataset.focusGuard?!1:getAllAffectedNodes(a).some(function($){return contains$2($,_)||focusInsideIframe($,_)})},focusIsHidden=function(a){a===void 0&&(a=document);var _=getActiveElement$1(a);return _?toArray$4(a.querySelectorAll("[".concat(FOCUS_ALLOW,"]"))).some(function($){return contains$2($,_)}):!1},findSelectedRadio=function(a,_){return _.filter(isRadioElement).filter(function($){return $.name===a.name}).filter(function($){return $.checked})[0]||a},correctNode=function(a,_){return isRadioElement(a)&&a.name?findSelectedRadio(a,_):a},correctNodes=function(a){var _=new Set;return a.forEach(function($){return _.add(correctNode($,a))}),a.filter(function($){return _.has($)})},pickFirstFocus=function(a){return a[0]&&a.length>1?correctNode(a[0],a):a[0]},pickFocusable=function(a,_){return a.length>1?a.indexOf(correctNode(a[_],a)):_},NEW_FOCUS="NEW_FOCUS",newFocus=function(a,_,$,j){var et=a.length,tt=a[0],rt=a[et-1],nt=isGuard($);if(!($&&a.indexOf($)>=0)){var it=$!==void 0?_.indexOf($):-1,st=j?_.indexOf(j):it,ot=j?a.indexOf(j):-1,at=it-st,ut=_.indexOf(tt),ht=_.indexOf(rt),yt=correctNodes(_),wt=$!==void 0?yt.indexOf($):-1,Ct=wt-(j?yt.indexOf(j):it),Pt=pickFocusable(a,0),Tt=pickFocusable(a,et-1);if(it===-1||ot===-1)return NEW_FOCUS;if(!at&&ot>=0)return ot;if(it<=ut&&nt&&Math.abs(at)>1)return Tt;if(it>=ht&&nt&&Math.abs(at)>1)return Pt;if(at&&Math.abs(Ct)>1)return ot;if(it<=ut)return Tt;if(it>ht)return Pt;if(at)return Math.abs(at)>1?ot:(et+ot+at)%et}},findAutoFocused=function(a){return function(_){var $,j=($=getDataset(_))===null||$===void 0?void 0:$.autofocus;return _.autofocus||j!==void 0&&j!=="false"||a.indexOf(_)>=0}},pickAutofocus=function(a,_,$){var j=a.map(function(tt){var rt=tt.node;return rt}),et=filterAutoFocusable(j.filter(findAutoFocused($)));return et&&et.length?pickFirstFocus(et):pickFirstFocus(filterAutoFocusable(_))},getParents=function(a,_){return _===void 0&&(_=[]),_.push(a),a.parentNode&&getParents(a.parentNode.host||a.parentNode,_),_},getCommonParent=function(a,_){for(var $=getParents(a),j=getParents(_),et=0;et<$.length;et+=1){var tt=$[et];if(j.indexOf(tt)>=0)return tt}return!1},getTopCommonParent=function(a,_,$){var j=asArray(a),et=asArray(_),tt=j[0],rt=!1;return et.filter(Boolean).forEach(function(nt){rt=getCommonParent(rt||nt,nt)||rt,$.filter(Boolean).forEach(function(it){var st=getCommonParent(tt,it);st&&(!rt||contains$2(st,rt)?rt=st:rt=getCommonParent(st,rt))})}),rt},allParentAutofocusables=function(a,_){return a.reduce(function($,j){return $.concat(parentAutofocusables(j,_))},[])},reorderNodes=function(a,_){var $=new Map;return _.forEach(function(j){return $.set(j.node,j)}),a.map(function(j){return $.get(j)}).filter(isDefined)},focusSolver=function(a,_){var $=getActiveElement$1(asArray(a).length>0?document:getFirst(a).ownerDocument),j=getAllAffectedNodes(a).filter(isNotAGuard),et=getTopCommonParent($||a,a,j),tt=new Map,rt=getFocusableNodes(j,tt),nt=getTabbableNodes(j,tt).filter(function(ht){var yt=ht.node;return isNotAGuard(yt)});if(!(!nt[0]&&(nt=rt,!nt[0]))){var it=getFocusableNodes([et],tt).map(function(ht){var yt=ht.node;return yt}),st=reorderNodes(it,nt),ot=st.map(function(ht){var yt=ht.node;return yt}),at=newFocus(ot,it,$,_);if(at===NEW_FOCUS){var ut=pickAutofocus(rt,ot,allParentAutofocusables(j,tt));if(ut)return{node:ut};console.warn("focus-lock: cannot find any node to move focus into");return}return at===void 0?at:st[at]}},expandFocusableNodes=function(a){var _=getAllAffectedNodes(a).filter(isNotAGuard),$=getTopCommonParent(a,a,_),j=new Map,et=getTabbableNodes([$],j,!0),tt=getTabbableNodes(_,j).filter(function(rt){var nt=rt.node;return isNotAGuard(nt)}).map(function(rt){var nt=rt.node;return nt});return et.map(function(rt){var nt=rt.node,it=rt.index;return{node:nt,index:it,lockItem:tt.indexOf(nt)>=0,guard:isGuard(nt)}})},focusOn=function(a,_){"focus"in a&&a.focus(_),"contentWindow"in a&&a.contentWindow&&a.contentWindow.focus()},guardCount=0,lockDisabled=!1,moveFocusInside=function(a,_,$){$===void 0&&($={});var j=focusSolver(a,_);if(!lockDisabled&&j){if(guardCount>2){console.error("FocusLock: focus-fighting detected. Only one focus management system could be active. See https://github.com/theKashey/focus-lock/#focus-fighting"),lockDisabled=!0,setTimeout(function(){lockDisabled=!1},1);return}guardCount++,focusOn(j.node,$.focusOptions),guardCount--}};function deferAction(a){setTimeout(a,1)}var focusOnBody=function(){return document&&document.activeElement===document.body},isFreeFocus=function(){return focusOnBody()||focusIsHidden()},lastActiveTrap=null,lastActiveFocus=null,lastPortaledElement=null,focusWasOutsideWindow=!1,defaultWhitelist=function(){return!0},focusWhitelisted=function(_){return(lastActiveTrap.whiteList||defaultWhitelist)(_)},recordPortal=function(_,$){lastPortaledElement={observerNode:_,portaledElement:$}},focusIsPortaledPair=function(_){return lastPortaledElement&&lastPortaledElement.portaledElement===_};function autoGuard(a,_,$,j){var et=null,tt=a;do{var rt=j[tt];if(rt.guard)rt.node.dataset.focusAutoGuard&&(et=rt);else if(rt.lockItem){if(tt!==a)return;et=null}else break}while((tt+=$)!==_);et&&(et.node.tabIndex=0)}var extractRef$2=function(_){return _&&"current"in _?_.current:_},focusWasOutside=function(_){return _?!!focusWasOutsideWindow:focusWasOutsideWindow==="meanwhile"},checkInHost=function a(_,$,j){return $&&($.host===_&&(!$.activeElement||j.contains($.activeElement))||$.parentNode&&a(_,$.parentNode,j))},withinHost=function(_,$){return $.some(function(j){return checkInHost(_,j,j)})},activateTrap=function(){var _=!1;if(lastActiveTrap){var $=lastActiveTrap,j=$.observed,et=$.persistentFocus,tt=$.autoFocus,rt=$.shards,nt=$.crossFrame,it=$.focusOptions,st=j||lastPortaledElement&&lastPortaledElement.portaledElement,ot=document&&document.activeElement;if(st){var at=[st].concat(rt.map(extractRef$2).filter(Boolean));if((!ot||focusWhitelisted(ot))&&(et||focusWasOutside(nt)||!isFreeFocus()||!lastActiveFocus&&tt)&&(st&&!(focusInside(at)||ot&&withinHost(ot,at)||focusIsPortaledPair(ot))&&(document&&!lastActiveFocus&&ot&&!tt?(ot.blur&&ot.blur(),document.body.focus()):(_=moveFocusInside(at,lastActiveFocus,{focusOptions:it}),lastPortaledElement={})),focusWasOutsideWindow=!1,lastActiveFocus=document&&document.activeElement),document){var ut=document&&document.activeElement,ht=expandFocusableNodes(at),yt=ht.map(function(wt){var Ct=wt.node;return Ct}).indexOf(ut);yt>-1&&(ht.filter(function(wt){var Ct=wt.guard,Pt=wt.node;return Ct&&Pt.dataset.focusAutoGuard}).forEach(function(wt){var Ct=wt.node;return Ct.removeAttribute("tabIndex")}),autoGuard(yt,ht.length,1,ht),autoGuard(yt,-1,-1,ht))}}}return _},onTrap=function(_){activateTrap()&&_&&(_.stopPropagation(),_.preventDefault())},onBlur=function(){return deferAction(activateTrap)},onFocus=function(_){var $=_.target,j=_.currentTarget;j.contains($)||recordPortal(j,$)},FocusWatcher=function(){return null},onWindowBlur=function(){focusWasOutsideWindow="just",deferAction(function(){focusWasOutsideWindow="meanwhile"})},attachHandler=function(){document.addEventListener("focusin",onTrap),document.addEventListener("focusout",onBlur),window.addEventListener("blur",onWindowBlur)},detachHandler=function(){document.removeEventListener("focusin",onTrap),document.removeEventListener("focusout",onBlur),window.removeEventListener("blur",onWindowBlur)};function reducePropsToState(a){return a.filter(function(_){var $=_.disabled;return!$})}function handleStateChangeOnClient(a){var _=a.slice(-1)[0];_&&!lastActiveTrap&&attachHandler();var $=lastActiveTrap,j=$&&_&&_.id===$.id;lastActiveTrap=_,$&&!j&&($.onDeactivation(),a.filter(function(et){var tt=et.id;return tt===$.id}).length||$.returnFocus(!_)),_?(lastActiveFocus=null,(!j||$.observed!==_.observed)&&_.onActivation(),activateTrap(),deferAction(activateTrap)):(detachHandler(),lastActiveFocus=null)}mediumFocus.assignSyncMedium(onFocus);mediumBlur.assignMedium(onBlur);mediumEffect.assignMedium(function(a){return a({moveFocusInside,focusInside})});const FocusTrap$1=withSideEffect(reducePropsToState,handleStateChangeOnClient)(FocusWatcher);var FocusLockCombination=reactExports.forwardRef(function(_,$){return reactExports.createElement(FocusLock$1,_extends$5({sideCar:FocusTrap$1,ref:$},_))}),_ref=FocusLock$1.propTypes||{};_ref.sideCar;_objectWithoutPropertiesLoose$3(_ref,["sideCar"]);FocusLockCombination.propTypes={};function isElement$2(a){return a!=null&&typeof a=="object"&&"nodeType"in a&&a.nodeType===Node.ELEMENT_NODE}function isHTMLElement$3(a){var _;if(!isElement$2(a))return!1;const $=(_=a.ownerDocument.defaultView)!=null?_:window;return a instanceof $.HTMLElement}function getOwnerWindow(a){var _,$;return($=(_=getOwnerDocument$2(a))==null?void 0:_.defaultView)!=null?$:window}function getOwnerDocument$2(a){return isElement$2(a)?a.ownerDocument:document}function getActiveElement(a){return getOwnerDocument$2(a).activeElement}function isScrollParent$1(a){const _=a.ownerDocument.defaultView||window,{overflow:$,overflowX:j,overflowY:et}=_.getComputedStyle(a);return/auto|scroll|overlay|hidden/.test($+et+j)}function getParent(a){return a.localName==="html"?a:a.assignedSlot||a.parentElement||a.ownerDocument.documentElement}function getScrollParent$1(a){return["html","body","#document"].includes(a.localName)?a.ownerDocument.body:isHTMLElement$3(a)&&isScrollParent$1(a)?a:getScrollParent$1(getParent(a))}var hasTabIndex=a=>a.hasAttribute("tabindex"),hasNegativeTabIndex=a=>hasTabIndex(a)&&a.tabIndex===-1;function isDisabled(a){return!!a.getAttribute("disabled")||!!a.getAttribute("aria-disabled")}function isHidden(a){return a.parentElement&&isHidden(a.parentElement)?!0:a.hidden}function isContentEditable(a){const _=a.getAttribute("contenteditable");return _!=="false"&&_!=null}function isFocusable(a){if(!isHTMLElement$3(a)||isHidden(a)||isDisabled(a))return!1;const{localName:_}=a;if(["input","select","textarea","button"].indexOf(_)>=0)return!0;const j={a:()=>a.hasAttribute("href"),audio:()=>a.hasAttribute("controls"),video:()=>a.hasAttribute("controls")};return _ in j?j[_]():isContentEditable(a)?!0:hasTabIndex(a)}function isTabbable(a){return a?isHTMLElement$3(a)&&isFocusable(a)&&!hasNegativeTabIndex(a):!1}var focusableElList=["input:not(:disabled):not([disabled])","select:not(:disabled):not([disabled])","textarea:not(:disabled):not([disabled])","embed","iframe","object","a[href]","area[href]","button:not(:disabled):not([disabled])","[tabindex]","audio[controls]","video[controls]","*[tabindex]:not([aria-disabled])","*[contenteditable]"],focusableElSelector=focusableElList.join(),isVisible=a=>a.offsetWidth>0&&a.offsetHeight>0;function getAllFocusable(a){const _=Array.from(a.querySelectorAll(focusableElSelector));return _.unshift(a),_.filter($=>isFocusable($)&&isVisible($))}var _a$3,FocusTrap=(_a$3=FocusLockCombination.default)!=null?_a$3:FocusLockCombination,FocusLock=a=>{const{initialFocusRef:_,finalFocusRef:$,contentRef:j,restoreFocus:et,children:tt,isDisabled:rt,autoFocus:nt,persistentFocus:it,lockFocusAcrossFrames:st}=a,ot=reactExports.useCallback(()=>{_!=null&&_.current?_.current.focus():j!=null&&j.current&&getAllFocusable(j.current).length===0&&requestAnimationFrame(()=>{var yt;(yt=j.current)==null||yt.focus()})},[_,j]),at=reactExports.useCallback(()=>{var ht;(ht=$==null?void 0:$.current)==null||ht.focus()},[$]),ut=et&&!$;return jsxRuntimeExports.jsx(FocusTrap,{crossFrame:st,persistentFocus:it,autoFocus:nt,disabled:rt,onActivation:ot,onDeactivation:at,returnFocus:ut,children:tt})};FocusLock.displayName="FocusLock";var useSafeLayoutEffect=isBrowser$2?reactExports.useLayoutEffect:reactExports.useEffect;function useCallbackRef(a,_=[]){const $=reactExports.useRef(a);return useSafeLayoutEffect(()=>{$.current=a}),reactExports.useCallback((...j)=>{var et;return(et=$.current)==null?void 0:et.call($,...j)},_)}function useOutsideClick$1(a){const{ref:_,handler:$,enabled:j=!0}=a,et=useCallbackRef($),rt=reactExports.useRef({isPointerDown:!1,ignoreEmulatedMouseEvents:!1}).current;reactExports.useEffect(()=>{if(!j)return;const nt=at=>{isValidEvent$1(at,_)&&(rt.isPointerDown=!0)},it=at=>{if(rt.ignoreEmulatedMouseEvents){rt.ignoreEmulatedMouseEvents=!1;return}rt.isPointerDown&&$&&isValidEvent$1(at,_)&&(rt.isPointerDown=!1,et(at))},st=at=>{rt.ignoreEmulatedMouseEvents=!0,$&&rt.isPointerDown&&isValidEvent$1(at,_)&&(rt.isPointerDown=!1,et(at))},ot=getOwnerDocument$3(_.current);return ot.addEventListener("mousedown",nt,!0),ot.addEventListener("mouseup",it,!0),ot.addEventListener("touchstart",nt,!0),ot.addEventListener("touchend",st,!0),()=>{ot.removeEventListener("mousedown",nt,!0),ot.removeEventListener("mouseup",it,!0),ot.removeEventListener("touchstart",nt,!0),ot.removeEventListener("touchend",st,!0)}},[$,_,et,rt,j])}function isValidEvent$1(a,_){var $;const j=a.target;return j&&!getOwnerDocument$3(j).contains(j)?!1:!(($=_.current)!=null&&$.contains(j))}function useId(a,_){const $=reactExports.useId();return reactExports.useMemo(()=>a||[_,$].filter(Boolean).join("-"),[a,_,$])}function useControllableProp(a,_){const $=a!==void 0;return[$,$&&typeof a<"u"?a:_]}function useDisclosure$1(a={}){const{onClose:_,onOpen:$,isOpen:j,id:et}=a,tt=useCallbackRef($),rt=useCallbackRef(_),[nt,it]=reactExports.useState(a.defaultIsOpen||!1),[st,ot]=useControllableProp(j,nt),at=useId(et,"disclosure"),ut=reactExports.useCallback(()=>{st||it(!1),rt==null||rt()},[st,rt]),ht=reactExports.useCallback(()=>{st||it(!0),tt==null||tt()},[st,tt]),yt=reactExports.useCallback(()=>{(ot?ut:ht)()},[ot,ht,ut]);return{isOpen:!!ot,onOpen:ht,onClose:ut,onToggle:yt,isControlled:st,getButtonProps:(wt={})=>({...wt,"aria-expanded":ot,"aria-controls":at,onClick:callAllHandlers(wt.onClick,yt)}),getDisclosureProps:(wt={})=>({...wt,hidden:!ot,id:at})}}var[InputGroupStylesProvider,useInputGroupStyles]=createContext$1({name:"InputGroupStylesContext",errorMessage:`useInputGroupStyles returned is 'undefined'. Seems you forgot to wrap the components in "<InputGroup />" `}),InputGroup=forwardRef(function(_,$){const j=useMultiStyleConfig("Input",_),{children:et,className:tt,...rt}=omitThemingProps(_),nt=cx("chakra-input__group",tt),it={},st=getValidChildren(et),ot=j.field;st.forEach(ut=>{var ht,yt;j&&(ot&&ut.type.id==="InputLeftElement"&&(it.paddingStart=(ht=ot.height)!=null?ht:ot.h),ot&&ut.type.id==="InputRightElement"&&(it.paddingEnd=(yt=ot.height)!=null?yt:ot.h),ut.type.id==="InputRightAddon"&&(it.borderEndRadius=0),ut.type.id==="InputLeftAddon"&&(it.borderStartRadius=0))});const at=st.map(ut=>{var ht,yt;const wt=compact$1({size:((ht=ut.props)==null?void 0:ht.size)||_.size,variant:((yt=ut.props)==null?void 0:yt.variant)||_.variant});return ut.type.id!=="Input"?reactExports.cloneElement(ut,wt):reactExports.cloneElement(ut,Object.assign(wt,it,ut.props))});return jsxRuntimeExports.jsx(chakra.div,{className:nt,ref:$,__css:{width:"100%",display:"flex",position:"relative",isolation:"isolate",...j.group},"data-group":!0,...rt,children:jsxRuntimeExports.jsx(InputGroupStylesProvider,{value:j,children:at})})});InputGroup.displayName="InputGroup";var StyledInputElement=chakra("div",{baseStyle:{display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",top:"0",zIndex:2}}),InputElement=forwardRef(function(_,$){var j,et;const{placement:tt="left",...rt}=_,nt=useInputGroupStyles(),it=nt.field,ot={[tt==="left"?"insetStart":"insetEnd"]:"0",width:(j=it==null?void 0:it.height)!=null?j:it==null?void 0:it.h,height:(et=it==null?void 0:it.height)!=null?et:it==null?void 0:it.h,fontSize:it==null?void 0:it.fontSize,...nt.element};return jsxRuntimeExports.jsx(StyledInputElement,{ref:$,__css:ot,...rt})});InputElement.id="InputElement";InputElement.displayName="InputElement";var InputLeftElement=forwardRef(function(_,$){const{className:j,...et}=_,tt=cx("chakra-input__left-element",j);return jsxRuntimeExports.jsx(InputElement,{ref:$,placement:"left",className:tt,...et})});InputLeftElement.id="InputLeftElement";InputLeftElement.displayName="InputLeftElement";var InputRightElement=forwardRef(function(_,$){const{className:j,...et}=_,tt=cx("chakra-input__right-element",j);return jsxRuntimeExports.jsx(InputElement,{ref:$,placement:"right",className:tt,...et})});InputRightElement.id="InputRightElement";InputRightElement.displayName="InputRightElement";var Input=forwardRef(function(_,$){const{htmlSize:j,...et}=_,tt=useMultiStyleConfig("Input",et),rt=omitThemingProps(et),nt=useFormControl(rt),it=cx("chakra-input",_.className);return jsxRuntimeExports.jsx(chakra.input,{size:j,...nt,__css:tt.field,ref:$,className:it})});Input.displayName="Input";Input.id="Input";var Link$1=forwardRef(function(_,$){const j=useStyleConfig("Link",_),{className:et,isExternal:tt,...rt}=omitThemingProps(_);return jsxRuntimeExports.jsx(chakra.a,{target:tt?"_blank":void 0,rel:tt?"noopener":void 0,ref:$,className:cx("chakra-link",et),...rt,__css:j})});Link$1.displayName="Link";var[ListStylesProvider,useListStyles]=createContext$1({name:"ListStylesContext",errorMessage:`useListStyles returned is 'undefined'. Seems you forgot to wrap the components in "<List />" `}),List=forwardRef(function(_,$){const j=useMultiStyleConfig("List",_),{children:et,styleType:tt="none",stylePosition:rt,spacing:nt,...it}=omitThemingProps(_),st=getValidChildren(et),at=nt?{["& > *:not(style) ~ *:not(style)"]:{mt:nt}}:{};return jsxRuntimeExports.jsx(ListStylesProvider,{value:j,children:jsxRuntimeExports.jsx(chakra.ul,{ref:$,listStyleType:tt,listStylePosition:rt,role:"list",__css:{...j.container,...at},...it,children:st})})});List.displayName="List";var OrderedList=forwardRef((a,_)=>{const{as:$,...j}=a;return jsxRuntimeExports.jsx(List,{ref:_,as:"ol",styleType:"decimal",marginStart:"1em",...j})});OrderedList.displayName="OrderedList";var UnorderedList=forwardRef(function(_,$){const{as:j,...et}=_;return jsxRuntimeExports.jsx(List,{ref:$,as:"ul",styleType:"initial",marginStart:"1em",...et})});UnorderedList.displayName="UnorderedList";var ListItem=forwardRef(function(_,$){const j=useListStyles();return jsxRuntimeExports.jsx(chakra.li,{ref:$,..._,__css:j.item})});ListItem.displayName="ListItem";var ListIcon=forwardRef(function(_,$){const j=useListStyles();return jsxRuntimeExports.jsx(Icon,{ref:$,role:"presentation",..._,__css:j.icon})});ListIcon.displayName="ListIcon";var Grid=forwardRef(function(_,$){const{templateAreas:j,gap:et,rowGap:tt,columnGap:rt,column:nt,row:it,autoFlow:st,autoRows:ot,templateRows:at,autoColumns:ut,templateColumns:ht,...yt}=_,wt={display:"grid",gridTemplateAreas:j,gridGap:et,gridRowGap:tt,gridColumnGap:rt,gridAutoColumns:ut,gridColumn:nt,gridRow:it,gridAutoFlow:st,gridAutoRows:ot,gridTemplateRows:at,gridTemplateColumns:ht};return jsxRuntimeExports.jsx(chakra.div,{ref:$,__css:wt,...yt})});Grid.displayName="Grid";function mapResponsive(a,_){return Array.isArray(a)?a.map($=>$===null?null:_($)):isObject$5(a)?Object.keys(a).reduce(($,j)=>($[j]=_(a[j]),$),{}):a!=null?_(a):null}var SimpleGrid=forwardRef(function(_,$){const{columns:j,spacingX:et,spacingY:tt,spacing:rt,minChildWidth:nt,...it}=_,st=useTheme(),ot=nt?widthToColumns(nt,st):countToColumns(j);return jsxRuntimeExports.jsx(Grid,{ref:$,gap:rt,columnGap:et,rowGap:tt,templateColumns:ot,...it})});SimpleGrid.displayName="SimpleGrid";function toPx(a){return typeof a=="number"?`${a}px`:a}function widthToColumns(a,_){return mapResponsive(a,$=>{const j=getToken("sizes",$,toPx($))(_);return $===null?null:`repeat(auto-fit, minmax(${j}, 1fr))`})}function countToColumns(a){return mapResponsive(a,_=>_===null?null:`repeat(${_}, minmax(0, 1fr))`)}var Text=forwardRef(function(_,$){const j=useStyleConfig("Text",_),{className:et,align:tt,decoration:rt,casing:nt,...it}=omitThemingProps(_),st=compact$1({textAlign:_.align,textDecoration:_.decoration,textTransform:_.casing});return jsxRuntimeExports.jsx(chakra.p,{ref:$,className:cx("chakra-text",_.className),...st,...it,__css:j})});Text.displayName="Text";var Wrap=forwardRef(function(_,$){const{spacing:j="0.5rem",spacingX:et,spacingY:tt,children:rt,justify:nt,direction:it,align:st,className:ot,shouldWrapChildren:at,...ut}=_,ht=reactExports.useMemo(()=>at?reactExports.Children.map(rt,(yt,wt)=>jsxRuntimeExports.jsx(WrapItem,{children:yt},wt)):rt,[rt,at]);return jsxRuntimeExports.jsx(chakra.div,{ref:$,className:cx("chakra-wrap",ot),...ut,children:jsxRuntimeExports.jsx(chakra.ul,{className:"chakra-wrap__list",__css:{display:"flex",flexWrap:"wrap",justifyContent:nt,alignItems:st,flexDirection:it,listStyleType:"none",gap:j,columnGap:et,rowGap:tt,padding:"0"},children:ht})})});Wrap.displayName="Wrap";var WrapItem=forwardRef(function(_,$){const{className:j,...et}=_;return jsxRuntimeExports.jsx(chakra.li,{ref:$,__css:{display:"flex",alignItems:"flex-start"},className:cx("chakra-wrap__listitem",j),...et})});WrapItem.displayName="WrapItem";var StackItem=a=>jsxRuntimeExports.jsx(chakra.div,{className:"chakra-stack__item",...a,__css:{display:"inline-block",flex:"0 0 auto",minWidth:0,...a.__css}});StackItem.displayName="StackItem";function getDividerStyles(a){const{spacing:_,direction:$}=a,j={column:{my:_,mx:0,borderLeftWidth:0,borderBottomWidth:"1px"},"column-reverse":{my:_,mx:0,borderLeftWidth:0,borderBottomWidth:"1px"},row:{mx:_,my:0,borderLeftWidth:"1px",borderBottomWidth:0},"row-reverse":{mx:_,my:0,borderLeftWidth:"1px",borderBottomWidth:0}};return{"&":mapResponsive($,et=>j[et])}}var Stack=forwardRef((a,_)=>{const{isInline:$,direction:j,align:et,justify:tt,spacing:rt="0.5rem",wrap:nt,children:it,divider:st,className:ot,shouldWrapChildren:at,...ut}=a,ht=$?"row":j??"column",yt=reactExports.useMemo(()=>getDividerStyles({spacing:rt,direction:ht}),[rt,ht]),wt=!!st,Ct=!at&&!wt,Pt=reactExports.useMemo(()=>{const Mt=getValidChildren(it);return Ct?Mt:Mt.map((Lt,Dt)=>{const Ut=typeof Lt.key<"u"?Lt.key:Dt,Ot=Dt+1===Mt.length,Bt=at?jsxRuntimeExports.jsx(StackItem,{children:Lt},Ut):Lt;if(!wt)return Bt;const Ft=reactExports.cloneElement(st,{__css:yt}),jt=Ot?null:Ft;return jsxRuntimeExports.jsxs(reactExports.Fragment,{children:[Bt,jt]},Ut)})},[st,yt,wt,Ct,at,it]),Tt=cx("chakra-stack",ot);return jsxRuntimeExports.jsx(chakra.div,{ref:_,display:"flex",alignItems:et,justifyContent:tt,flexDirection:ht,flexWrap:nt,gap:wt?void 0:rt,className:Tt,...ut,children:Pt})});Stack.displayName="Stack";var VStack=forwardRef((a,_)=>jsxRuntimeExports.jsx(Stack,{align:"center",...a,direction:"column",ref:_}));VStack.displayName="VStack";function spanFn(a){return mapResponsive(a,_=>_==="auto"?"auto":`span ${_}/span ${_}`)}var GridItem=forwardRef(function(_,$){const{area:j,colSpan:et,colStart:tt,colEnd:rt,rowEnd:nt,rowSpan:it,rowStart:st,...ot}=_,at=compact$1({gridArea:j,gridColumn:spanFn(et),gridRow:spanFn(it),gridColumnStart:tt,gridColumnEnd:rt,gridRowStart:st,gridRowEnd:nt});return jsxRuntimeExports.jsx(chakra.div,{ref:$,__css:at,...ot})});GridItem.displayName="GridItem";var Heading=forwardRef(function(_,$){const j=useStyleConfig("Heading",_),{className:et,...tt}=omitThemingProps(_);return jsxRuntimeExports.jsx(chakra.h2,{ref:$,className:cx("chakra-heading",_.className),...tt,__css:j})});Heading.displayName="Heading";var Box=chakra("div");Box.displayName="Box";var Square=forwardRef(function(_,$){const{size:j,centerContent:et=!0,...tt}=_,rt=et?{display:"flex",alignItems:"center",justifyContent:"center"}:{};return jsxRuntimeExports.jsx(Box,{ref:$,boxSize:j,__css:{...rt,flexShrink:0,flexGrow:0},...tt})});Square.displayName="Square";var Circle=forwardRef(function(_,$){const{size:j,...et}=_;return jsxRuntimeExports.jsx(Square,{size:j,ref:$,borderRadius:"9999px",...et})});Circle.displayName="Circle";var AspectRatio=forwardRef(function(a,_){const{ratio:$=4/3,children:j,className:et,...tt}=a,rt=reactExports.Children.only(j),nt=cx("chakra-aspect-ratio",et);return jsxRuntimeExports.jsx(chakra.div,{ref:_,position:"relative",className:nt,_before:{height:0,content:'""',display:"block",paddingBottom:mapResponsive($,it=>`${1/it*100}%`)},__css:{"& > *:not(style)":{overflow:"hidden",position:"absolute",top:"0",right:"0",bottom:"0",left:"0",display:"flex",justifyContent:"center",alignItems:"center",width:"100%",height:"100%"},"& > img, & > video":{objectFit:"cover"}},...tt,children:rt})});AspectRatio.displayName="AspectRatio";var Center=chakra("div",{baseStyle:{display:"flex",alignItems:"center",justifyContent:"center"}});Center.displayName="Center";var centerStyles={horizontal:{insetStart:"50%",transform:"translateX(-50%)"},vertical:{top:"50%",transform:"translateY(-50%)"},both:{insetStart:"50%",top:"50%",transform:"translate(-50%, -50%)"}};forwardRef(function(_,$){const{axis:j="both",...et}=_;return jsxRuntimeExports.jsx(chakra.div,{ref:$,__css:centerStyles[j],...et,position:"absolute"})});var Divider=forwardRef(function(_,$){const{borderLeftWidth:j,borderBottomWidth:et,borderTopWidth:tt,borderRightWidth:rt,borderWidth:nt,borderStyle:it,borderColor:st,...ot}=useStyleConfig("Divider",_),{className:at,orientation:ut="horizontal",__css:ht,...yt}=omitThemingProps(_),wt={vertical:{borderLeftWidth:j||rt||nt||"1px",height:"100%"},horizontal:{borderBottomWidth:et||tt||nt||"1px",width:"100%"}};return jsxRuntimeExports.jsx(chakra.hr,{ref:$,"aria-orientation":ut,...yt,__css:{...ot,border:"0",borderColor:st,borderStyle:it,...wt[ut],...ht},className:cx("chakra-divider",at)})});Divider.displayName="Divider";var Flex=forwardRef(function(_,$){const{direction:j,align:et,justify:tt,wrap:rt,basis:nt,grow:it,shrink:st,...ot}=_,at={display:"flex",flexDirection:j,alignItems:et,justifyContent:tt,flexWrap:rt,flexBasis:nt,flexGrow:it,flexShrink:st};return jsxRuntimeExports.jsx(chakra.div,{ref:$,__css:at,...ot})});Flex.displayName="Flex";function useMediaQuery(a,_={}){const{ssr:$=!0,fallback:j}=_,{getWindow:et}=useEnvironment(),tt=Array.isArray(a)?a:[a];let rt=Array.isArray(j)?j:[j];rt=rt.filter(st=>st!=null);const[nt,it]=reactExports.useState(()=>tt.map((st,ot)=>({media:st,matches:$?!!rt[ot]:et().matchMedia(st).matches})));return reactExports.useEffect(()=>{const st=et();it(tt.map(ut=>({media:ut,matches:st.matchMedia(ut).matches})));const ot=tt.map(ut=>st.matchMedia(ut)),at=ut=>{it(ht=>ht.slice().map(yt=>yt.media===ut.media?{...yt,matches:ut.matches}:yt))};return ot.forEach(ut=>{typeof ut.addListener=="function"?ut.addListener(at):ut.addEventListener("change",at)}),()=>{ot.forEach(ut=>{typeof ut.removeListener=="function"?ut.removeListener(at):ut.removeEventListener("change",at)})}},[et]),nt.map(st=>st.matches)}function isPrintableCharacter(a){const{key:_}=a;return _.length===1||_.length>1&&/[^a-zA-Z0-9]/.test(_)}function useShortcut(a={}){const{timeout:_=300,preventDefault:$=()=>!0}=a,[j,et]=reactExports.useState([]),tt=reactExports.useRef(),rt=()=>{tt.current&&(clearTimeout(tt.current),tt.current=null)},nt=()=>{rt(),tt.current=setTimeout(()=>{et([]),tt.current=null},_)};reactExports.useEffect(()=>rt,[]);function it(st){return ot=>{if(ot.key==="Backspace"){const at=[...j];at.pop(),et(at);return}if(isPrintableCharacter(ot)){const at=j.concat(ot.key);$(ot)&&(ot.preventDefault(),ot.stopPropagation()),et(at),st(at.join("")),nt()}}}return it}function getNextItemFromSearch(a,_,$,j){if(_==null)return j;if(!j)return a.find(rt=>$(rt).toLowerCase().startsWith(_.toLowerCase()));const et=a.filter(tt=>$(tt).toLowerCase().startsWith(_.toLowerCase()));if(et.length>0){let tt;return et.includes(j)?(tt=et.indexOf(j)+1,tt===et.length&&(tt=0),et[tt]):(tt=a.indexOf(et[0]),a[tt])}return j}function useEventListeners(){const a=reactExports.useRef(new Map),_=a.current,$=reactExports.useCallback((et,tt,rt,nt)=>{a.current.set(rt,{type:tt,el:et,options:nt}),et.addEventListener(tt,rt,nt)},[]),j=reactExports.useCallback((et,tt,rt,nt)=>{et.removeEventListener(tt,rt,nt),a.current.delete(rt)},[]);return reactExports.useEffect(()=>()=>{_.forEach((et,tt)=>{j(et.el,et.type,tt,et.options)})},[j,_]),{add:$,remove:j}}function isValidElement(a){const _=a.target,{tagName:$,isContentEditable:j}=_;return $!=="INPUT"&&$!=="TEXTAREA"&&j!==!0}function useClickable(a={}){const{ref:_,isDisabled:$,isFocusable:j,clickOnEnter:et=!0,clickOnSpace:tt=!0,onMouseDown:rt,onMouseUp:nt,onClick:it,onKeyDown:st,onKeyUp:ot,tabIndex:at,onMouseOver:ut,onMouseLeave:ht,...yt}=a,[wt,Ct]=reactExports.useState(!0),[Pt,Tt]=reactExports.useState(!1),Mt=useEventListeners(),Lt=xt=>{xt&&xt.tagName!=="BUTTON"&&Ct(!1)},Dt=wt?at:at||0,Ut=$&&!j,Ot=reactExports.useCallback(xt=>{if($){xt.stopPropagation(),xt.preventDefault();return}xt.currentTarget.focus(),it==null||it(xt)},[$,it]),It=reactExports.useCallback(xt=>{Pt&&isValidElement(xt)&&(xt.preventDefault(),xt.stopPropagation(),Tt(!1),Mt.remove(document,"keyup",It,!1))},[Pt,Mt]),Bt=reactExports.useCallback(xt=>{if(st==null||st(xt),$||xt.defaultPrevented||xt.metaKey||!isValidElement(xt.nativeEvent)||wt)return;const At=et&&xt.key==="Enter";tt&&xt.key===" "&&(xt.preventDefault(),Tt(!0)),At&&(xt.preventDefault(),xt.currentTarget.click()),Mt.add(document,"keyup",It,!1)},[$,wt,st,et,tt,Mt,It]),Ft=reactExports.useCallback(xt=>{if(ot==null||ot(xt),$||xt.defaultPrevented||xt.metaKey||!isValidElement(xt.nativeEvent)||wt)return;tt&&xt.key===" "&&(xt.preventDefault(),Tt(!1),xt.currentTarget.click())},[tt,wt,$,ot]),jt=reactExports.useCallback(xt=>{xt.button===0&&(Tt(!1),Mt.remove(document,"mouseup",jt,!1))},[Mt]),bt=reactExports.useCallback(xt=>{if(xt.button!==0)return;if($){xt.stopPropagation(),xt.preventDefault();return}wt||Tt(!0),xt.currentTarget.focus({preventScroll:!0}),Mt.add(document,"mouseup",jt,!1),rt==null||rt(xt)},[$,wt,rt,Mt,jt]),vt=reactExports.useCallback(xt=>{xt.button===0&&(wt||Tt(!1),nt==null||nt(xt))},[nt,wt]),ct=reactExports.useCallback(xt=>{if($){xt.preventDefault();return}ut==null||ut(xt)},[$,ut]),dt=reactExports.useCallback(xt=>{Pt&&(xt.preventDefault(),Tt(!1)),ht==null||ht(xt)},[Pt,ht]),mt=mergeRefs(_,Lt);return wt?{...yt,ref:mt,type:"button","aria-disabled":Ut?void 0:$,disabled:Ut,onClick:Ot,onMouseDown:rt,onMouseUp:nt,onKeyUp:ot,onKeyDown:st,onMouseOver:ut,onMouseLeave:ht}:{...yt,ref:mt,role:"button","data-active":dataAttr(Pt),"aria-disabled":$?"true":void 0,tabIndex:Ut?void 0:Dt,onClick:Ot,onMouseDown:bt,onMouseUp:vt,onKeyUp:Ft,onKeyDown:Bt,onMouseOver:ct,onMouseLeave:dt}}function preventReturnFocus(a){const _=a.current;if(!_)return!1;const $=getActiveElement(_);return!$||_.contains($)?!1:!!isTabbable($)}function useFocusOnHide(a,_){const{shouldFocus:$,visible:j,focusRef:et}=_,tt=$&&!j;useUpdateEffect(()=>{if(!tt||preventReturnFocus(a))return;const rt=(et==null?void 0:et.current)||a.current;let nt;if(rt)return nt=requestAnimationFrame(()=>{rt.focus({preventScroll:!0})}),()=>{cancelAnimationFrame(nt)}},[tt,a,et])}var defaultOptions$2={preventScroll:!0,shouldFocus:!1};function useFocusOnShow(a,_=defaultOptions$2){const{focusRef:$,preventScroll:j,shouldFocus:et,visible:tt}=_,rt=isRefObject(a)?a.current:a,nt=et&&tt,it=reactExports.useRef(nt),st=reactExports.useRef(tt);useSafeLayoutEffect$2(()=>{!st.current&&tt&&(it.current=nt),st.current=tt},[tt,nt]);const ot=reactExports.useCallback(()=>{if(!(!tt||!rt||!it.current)&&(it.current=!1,!rt.contains(document.activeElement)))if($!=null&&$.current)requestAnimationFrame(()=>{var at;(at=$.current)==null||at.focus({preventScroll:j})});else{const at=getAllFocusable(rt);at.length>0&&requestAnimationFrame(()=>{at[0].focus({preventScroll:j})})}},[tt,j,rt,$]);useUpdateEffect(()=>{ot()},[ot]),useEventListener(rt,"transitionend",ot)}function isRefObject(a){return"current"in a}var toVar=(a,_)=>({var:a,varRef:_?`var(${a}, ${_})`:`var(${a})`}),cssVars={arrowShadowColor:toVar("--popper-arrow-shadow-color"),arrowSize:toVar("--popper-arrow-size","8px"),arrowSizeHalf:toVar("--popper-arrow-size-half"),arrowBg:toVar("--popper-arrow-bg"),transformOrigin:toVar("--popper-transform-origin"),arrowOffset:toVar("--popper-arrow-offset")};function getBoxShadow(a){if(a.includes("top"))return"1px 1px 0px 0 var(--popper-arrow-shadow-color)";if(a.includes("bottom"))return"-1px -1px 0px 0 var(--popper-arrow-shadow-color)";if(a.includes("right"))return"-1px 1px 0px 0 var(--popper-arrow-shadow-color)";if(a.includes("left"))return"1px -1px 0px 0 var(--popper-arrow-shadow-color)"}var transforms={top:"bottom center","top-start":"bottom left","top-end":"bottom right",bottom:"top center","bottom-start":"top left","bottom-end":"top right",left:"right center","left-start":"right top","left-end":"right bottom",right:"left center","right-start":"left top","right-end":"left bottom"},toTransformOrigin=a=>transforms[a],defaultEventListeners={scroll:!0,resize:!0};function getEventListenerOptions(a){let _;return typeof a=="object"?_={enabled:!0,options:{...defaultEventListeners,...a}}:_={enabled:a,options:defaultEventListeners},_}var matchWidth={name:"matchWidth",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:({state:a})=>{a.styles.popper.width=`${a.rects.reference.width}px`},effect:({state:a})=>()=>{const _=a.elements.reference;a.elements.popper.style.width=`${_.offsetWidth}px`}},transformOrigin={name:"transformOrigin",enabled:!0,phase:"write",fn:({state:a})=>{setTransformOrigin(a)},effect:({state:a})=>()=>{setTransformOrigin(a)}},setTransformOrigin=a=>{a.elements.popper.style.setProperty(cssVars.transformOrigin.var,toTransformOrigin(a.placement))},positionArrow={name:"positionArrow",enabled:!0,phase:"afterWrite",fn:({state:a})=>{setArrowStyles(a)}},setArrowStyles=a=>{var _;if(!a.placement)return;const $=getArrowStyle$1(a.placement);if((_=a.elements)!=null&&_.arrow&&$){Object.assign(a.elements.arrow.style,{[$.property]:$.value,width:cssVars.arrowSize.varRef,height:cssVars.arrowSize.varRef,zIndex:-1});const j={[cssVars.arrowSizeHalf.var]:`calc(${cssVars.arrowSize.varRef} / 2 - 1px)`,[cssVars.arrowOffset.var]:`calc(${cssVars.arrowSizeHalf.varRef} * -1)`};for(const et in j)a.elements.arrow.style.setProperty(et,j[et])}},getArrowStyle$1=a=>{if(a.startsWith("top"))return{property:"bottom",value:cssVars.arrowOffset.varRef};if(a.startsWith("bottom"))return{property:"top",value:cssVars.arrowOffset.varRef};if(a.startsWith("left"))return{property:"right",value:cssVars.arrowOffset.varRef};if(a.startsWith("right"))return{property:"left",value:cssVars.arrowOffset.varRef}},innerArrow={name:"innerArrow",enabled:!0,phase:"main",requires:["arrow"],fn:({state:a})=>{setInnerArrowStyles(a)},effect:({state:a})=>()=>{setInnerArrowStyles(a)}},setInnerArrowStyles=a=>{if(!a.elements.arrow)return;const _=a.elements.arrow.querySelector("[data-popper-arrow-inner]");if(!_)return;const $=getBoxShadow(a.placement);$&&_.style.setProperty("--popper-arrow-default-shadow",$),Object.assign(_.style,{transform:"rotate(45deg)",background:cssVars.arrowBg.varRef,top:0,left:0,width:"100%",height:"100%",position:"absolute",zIndex:"inherit",boxShadow:"var(--popper-arrow-shadow, var(--popper-arrow-default-shadow))"})},logicals={"start-start":{ltr:"left-start",rtl:"right-start"},"start-end":{ltr:"left-end",rtl:"right-end"},"end-start":{ltr:"right-start",rtl:"left-start"},"end-end":{ltr:"right-end",rtl:"left-end"},start:{ltr:"left",rtl:"right"},end:{ltr:"right",rtl:"left"}},opposites={"auto-start":"auto-end","auto-end":"auto-start","top-start":"top-end","top-end":"top-start","bottom-start":"bottom-end","bottom-end":"bottom-start"};function getPopperPlacement(a,_="ltr"){var $,j;const et=(($=logicals[a])==null?void 0:$[_])||a;return _==="ltr"?et:(j=opposites[a])!=null?j:et}var top="top",bottom="bottom",right="right",left="left",auto="auto",basePlacements=[top,bottom,right,left],start="start",end="end",clippingParents="clippingParents",viewport="viewport",popper="popper",reference="reference",variationPlacements=basePlacements.reduce(function(a,_){return a.concat([_+"-"+start,_+"-"+end])},[]),placements=[].concat(basePlacements,[auto]).reduce(function(a,_){return a.concat([_,_+"-"+start,_+"-"+end])},[]),beforeRead="beforeRead",read="read",afterRead="afterRead",beforeMain="beforeMain",main$4="main",afterMain="afterMain",beforeWrite="beforeWrite",write="write",afterWrite="afterWrite",modifierPhases=[beforeRead,read,afterRead,beforeMain,main$4,afterMain,beforeWrite,write,afterWrite];function getNodeName(a){return a?(a.nodeName||"").toLowerCase():null}function getWindow(a){if(a==null)return window;if(a.toString()!=="[object Window]"){var _=a.ownerDocument;return _&&_.defaultView||window}return a}function isElement$1(a){var _=getWindow(a).Element;return a instanceof _||a instanceof Element}function isHTMLElement$2(a){var _=getWindow(a).HTMLElement;return a instanceof _||a instanceof HTMLElement}function isShadowRoot(a){if(typeof ShadowRoot>"u")return!1;var _=getWindow(a).ShadowRoot;return a instanceof _||a instanceof ShadowRoot}function applyStyles(a){var _=a.state;Object.keys(_.elements).forEach(function($){var j=_.styles[$]||{},et=_.attributes[$]||{},tt=_.elements[$];!isHTMLElement$2(tt)||!getNodeName(tt)||(Object.assign(tt.style,j),Object.keys(et).forEach(function(rt){var nt=et[rt];nt===!1?tt.removeAttribute(rt):tt.setAttribute(rt,nt===!0?"":nt)}))})}function effect$2(a){var _=a.state,$={popper:{position:_.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(_.elements.popper.style,$.popper),_.styles=$,_.elements.arrow&&Object.assign(_.elements.arrow.style,$.arrow),function(){Object.keys(_.elements).forEach(function(j){var et=_.elements[j],tt=_.attributes[j]||{},rt=Object.keys(_.styles.hasOwnProperty(j)?_.styles[j]:$[j]),nt=rt.reduce(function(it,st){return it[st]="",it},{});!isHTMLElement$2(et)||!getNodeName(et)||(Object.assign(et.style,nt),Object.keys(tt).forEach(function(it){et.removeAttribute(it)}))})}}const applyStyles$1={name:"applyStyles",enabled:!0,phase:"write",fn:applyStyles,effect:effect$2,requires:["computeStyles"]};function getBasePlacement(a){return a.split("-")[0]}var max=Math.max,min=Math.min,round=Math.round;function getUAString(){var a=navigator.userAgentData;return a!=null&&a.brands&&Array.isArray(a.brands)?a.brands.map(function(_){return _.brand+"/"+_.version}).join(" "):navigator.userAgent}function isLayoutViewport(){return!/^((?!chrome|android).)*safari/i.test(getUAString())}function getBoundingClientRect(a,_,$){_===void 0&&(_=!1),$===void 0&&($=!1);var j=a.getBoundingClientRect(),et=1,tt=1;_&&isHTMLElement$2(a)&&(et=a.offsetWidth>0&&round(j.width)/a.offsetWidth||1,tt=a.offsetHeight>0&&round(j.height)/a.offsetHeight||1);var rt=isElement$1(a)?getWindow(a):window,nt=rt.visualViewport,it=!isLayoutViewport()&&$,st=(j.left+(it&&nt?nt.offsetLeft:0))/et,ot=(j.top+(it&&nt?nt.offsetTop:0))/tt,at=j.width/et,ut=j.height/tt;return{width:at,height:ut,top:ot,right:st+at,bottom:ot+ut,left:st,x:st,y:ot}}function getLayoutRect(a){var _=getBoundingClientRect(a),$=a.offsetWidth,j=a.offsetHeight;return Math.abs(_.width-$)<=1&&($=_.width),Math.abs(_.height-j)<=1&&(j=_.height),{x:a.offsetLeft,y:a.offsetTop,width:$,height:j}}function contains$1(a,_){var $=_.getRootNode&&_.getRootNode();if(a.contains(_))return!0;if($&&isShadowRoot($)){var j=_;do{if(j&&a.isSameNode(j))return!0;j=j.parentNode||j.host}while(j)}return!1}function getComputedStyle$1(a){return getWindow(a).getComputedStyle(a)}function isTableElement(a){return["table","td","th"].indexOf(getNodeName(a))>=0}function getDocumentElement(a){return((isElement$1(a)?a.ownerDocument:a.document)||window.document).documentElement}function getParentNode(a){return getNodeName(a)==="html"?a:a.assignedSlot||a.parentNode||(isShadowRoot(a)?a.host:null)||getDocumentElement(a)}function getTrueOffsetParent(a){return!isHTMLElement$2(a)||getComputedStyle$1(a).position==="fixed"?null:a.offsetParent}function getContainingBlock(a){var _=/firefox/i.test(getUAString()),$=/Trident/i.test(getUAString());if($&&isHTMLElement$2(a)){var j=getComputedStyle$1(a);if(j.position==="fixed")return null}var et=getParentNode(a);for(isShadowRoot(et)&&(et=et.host);isHTMLElement$2(et)&&["html","body"].indexOf(getNodeName(et))<0;){var tt=getComputedStyle$1(et);if(tt.transform!=="none"||tt.perspective!=="none"||tt.contain==="paint"||["transform","perspective"].indexOf(tt.willChange)!==-1||_&&tt.willChange==="filter"||_&&tt.filter&&tt.filter!=="none")return et;et=et.parentNode}return null}function getOffsetParent(a){for(var _=getWindow(a),$=getTrueOffsetParent(a);$&&isTableElement($)&&getComputedStyle$1($).position==="static";)$=getTrueOffsetParent($);return $&&(getNodeName($)==="html"||getNodeName($)==="body"&&getComputedStyle$1($).position==="static")?_:$||getContainingBlock(a)||_}function getMainAxisFromPlacement(a){return["top","bottom"].indexOf(a)>=0?"x":"y"}function within(a,_,$){return max(a,min(_,$))}function withinMaxClamp(a,_,$){var j=within(a,_,$);return j>$?$:j}function getFreshSideObject(){return{top:0,right:0,bottom:0,left:0}}function mergePaddingObject(a){return Object.assign({},getFreshSideObject(),a)}function expandToHashMap(a,_){return _.reduce(function($,j){return $[j]=a,$},{})}var toPaddingObject=function(_,$){return _=typeof _=="function"?_(Object.assign({},$.rects,{placement:$.placement})):_,mergePaddingObject(typeof _!="number"?_:expandToHashMap(_,basePlacements))};function arrow(a){var _,$=a.state,j=a.name,et=a.options,tt=$.elements.arrow,rt=$.modifiersData.popperOffsets,nt=getBasePlacement($.placement),it=getMainAxisFromPlacement(nt),st=[left,right].indexOf(nt)>=0,ot=st?"height":"width";if(!(!tt||!rt)){var at=toPaddingObject(et.padding,$),ut=getLayoutRect(tt),ht=it==="y"?top:left,yt=it==="y"?bottom:right,wt=$.rects.reference[ot]+$.rects.reference[it]-rt[it]-$.rects.popper[ot],Ct=rt[it]-$.rects.reference[it],Pt=getOffsetParent(tt),Tt=Pt?it==="y"?Pt.clientHeight||0:Pt.clientWidth||0:0,Mt=wt/2-Ct/2,Lt=at[ht],Dt=Tt-ut[ot]-at[yt],Ut=Tt/2-ut[ot]/2+Mt,Ot=within(Lt,Ut,Dt),It=it;$.modifiersData[j]=(_={},_[It]=Ot,_.centerOffset=Ot-Ut,_)}}function effect$1(a){var _=a.state,$=a.options,j=$.element,et=j===void 0?"[data-popper-arrow]":j;et!=null&&(typeof et=="string"&&(et=_.elements.popper.querySelector(et),!et)||contains$1(_.elements.popper,et)&&(_.elements.arrow=et))}const arrow$1={name:"arrow",enabled:!0,phase:"main",fn:arrow,effect:effect$1,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function getVariation(a){return a.split("-")[1]}var unsetSides={top:"auto",right:"auto",bottom:"auto",left:"auto"};function roundOffsetsByDPR(a,_){var $=a.x,j=a.y,et=_.devicePixelRatio||1;return{x:round($*et)/et||0,y:round(j*et)/et||0}}function mapToStyles(a){var _,$=a.popper,j=a.popperRect,et=a.placement,tt=a.variation,rt=a.offsets,nt=a.position,it=a.gpuAcceleration,st=a.adaptive,ot=a.roundOffsets,at=a.isFixed,ut=rt.x,ht=ut===void 0?0:ut,yt=rt.y,wt=yt===void 0?0:yt,Ct=typeof ot=="function"?ot({x:ht,y:wt}):{x:ht,y:wt};ht=Ct.x,wt=Ct.y;var Pt=rt.hasOwnProperty("x"),Tt=rt.hasOwnProperty("y"),Mt=left,Lt=top,Dt=window;if(st){var Ut=getOffsetParent($),Ot="clientHeight",It="clientWidth";if(Ut===getWindow($)&&(Ut=getDocumentElement($),getComputedStyle$1(Ut).position!=="static"&&nt==="absolute"&&(Ot="scrollHeight",It="scrollWidth")),Ut=Ut,et===top||(et===left||et===right)&&tt===end){Lt=bottom;var Bt=at&&Ut===Dt&&Dt.visualViewport?Dt.visualViewport.height:Ut[Ot];wt-=Bt-j.height,wt*=it?1:-1}if(et===left||(et===top||et===bottom)&&tt===end){Mt=right;var Ft=at&&Ut===Dt&&Dt.visualViewport?Dt.visualViewport.width:Ut[It];ht-=Ft-j.width,ht*=it?1:-1}}var jt=Object.assign({position:nt},st&&unsetSides),bt=ot===!0?roundOffsetsByDPR({x:ht,y:wt},getWindow($)):{x:ht,y:wt};if(ht=bt.x,wt=bt.y,it){var vt;return Object.assign({},jt,(vt={},vt[Lt]=Tt?"0":"",vt[Mt]=Pt?"0":"",vt.transform=(Dt.devicePixelRatio||1)<=1?"translate("+ht+"px, "+wt+"px)":"translate3d("+ht+"px, "+wt+"px, 0)",vt))}return Object.assign({},jt,(_={},_[Lt]=Tt?wt+"px":"",_[Mt]=Pt?ht+"px":"",_.transform="",_))}function computeStyles(a){var _=a.state,$=a.options,j=$.gpuAcceleration,et=j===void 0?!0:j,tt=$.adaptive,rt=tt===void 0?!0:tt,nt=$.roundOffsets,it=nt===void 0?!0:nt,st={placement:getBasePlacement(_.placement),variation:getVariation(_.placement),popper:_.elements.popper,popperRect:_.rects.popper,gpuAcceleration:et,isFixed:_.options.strategy==="fixed"};_.modifiersData.popperOffsets!=null&&(_.styles.popper=Object.assign({},_.styles.popper,mapToStyles(Object.assign({},st,{offsets:_.modifiersData.popperOffsets,position:_.options.strategy,adaptive:rt,roundOffsets:it})))),_.modifiersData.arrow!=null&&(_.styles.arrow=Object.assign({},_.styles.arrow,mapToStyles(Object.assign({},st,{offsets:_.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:it})))),_.attributes.popper=Object.assign({},_.attributes.popper,{"data-popper-placement":_.placement})}const computeStyles$1={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:computeStyles,data:{}};var passive={passive:!0};function effect(a){var _=a.state,$=a.instance,j=a.options,et=j.scroll,tt=et===void 0?!0:et,rt=j.resize,nt=rt===void 0?!0:rt,it=getWindow(_.elements.popper),st=[].concat(_.scrollParents.reference,_.scrollParents.popper);return tt&&st.forEach(function(ot){ot.addEventListener("scroll",$.update,passive)}),nt&&it.addEventListener("resize",$.update,passive),function(){tt&&st.forEach(function(ot){ot.removeEventListener("scroll",$.update,passive)}),nt&&it.removeEventListener("resize",$.update,passive)}}const eventListeners={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect,data:{}};var hash$7={left:"right",right:"left",bottom:"top",top:"bottom"};function getOppositePlacement(a){return a.replace(/left|right|bottom|top/g,function(_){return hash$7[_]})}var hash$6={start:"end",end:"start"};function getOppositeVariationPlacement(a){return a.replace(/start|end/g,function(_){return hash$6[_]})}function getWindowScroll(a){var _=getWindow(a),$=_.pageXOffset,j=_.pageYOffset;return{scrollLeft:$,scrollTop:j}}function getWindowScrollBarX(a){return getBoundingClientRect(getDocumentElement(a)).left+getWindowScroll(a).scrollLeft}function getViewportRect(a,_){var $=getWindow(a),j=getDocumentElement(a),et=$.visualViewport,tt=j.clientWidth,rt=j.clientHeight,nt=0,it=0;if(et){tt=et.width,rt=et.height;var st=isLayoutViewport();(st||!st&&_==="fixed")&&(nt=et.offsetLeft,it=et.offsetTop)}return{width:tt,height:rt,x:nt+getWindowScrollBarX(a),y:it}}function getDocumentRect(a){var _,$=getDocumentElement(a),j=getWindowScroll(a),et=(_=a.ownerDocument)==null?void 0:_.body,tt=max($.scrollWidth,$.clientWidth,et?et.scrollWidth:0,et?et.clientWidth:0),rt=max($.scrollHeight,$.clientHeight,et?et.scrollHeight:0,et?et.clientHeight:0),nt=-j.scrollLeft+getWindowScrollBarX(a),it=-j.scrollTop;return getComputedStyle$1(et||$).direction==="rtl"&&(nt+=max($.clientWidth,et?et.clientWidth:0)-tt),{width:tt,height:rt,x:nt,y:it}}function isScrollParent(a){var _=getComputedStyle$1(a),$=_.overflow,j=_.overflowX,et=_.overflowY;return/auto|scroll|overlay|hidden/.test($+et+j)}function getScrollParent(a){return["html","body","#document"].indexOf(getNodeName(a))>=0?a.ownerDocument.body:isHTMLElement$2(a)&&isScrollParent(a)?a:getScrollParent(getParentNode(a))}function listScrollParents(a,_){var $;_===void 0&&(_=[]);var j=getScrollParent(a),et=j===(($=a.ownerDocument)==null?void 0:$.body),tt=getWindow(j),rt=et?[tt].concat(tt.visualViewport||[],isScrollParent(j)?j:[]):j,nt=_.concat(rt);return et?nt:nt.concat(listScrollParents(getParentNode(rt)))}function rectToClientRect(a){return Object.assign({},a,{left:a.x,top:a.y,right:a.x+a.width,bottom:a.y+a.height})}function getInnerBoundingClientRect(a,_){var $=getBoundingClientRect(a,!1,_==="fixed");return $.top=$.top+a.clientTop,$.left=$.left+a.clientLeft,$.bottom=$.top+a.clientHeight,$.right=$.left+a.clientWidth,$.width=a.clientWidth,$.height=a.clientHeight,$.x=$.left,$.y=$.top,$}function getClientRectFromMixedType(a,_,$){return _===viewport?rectToClientRect(getViewportRect(a,$)):isElement$1(_)?getInnerBoundingClientRect(_,$):rectToClientRect(getDocumentRect(getDocumentElement(a)))}function getClippingParents(a){var _=listScrollParents(getParentNode(a)),$=["absolute","fixed"].indexOf(getComputedStyle$1(a).position)>=0,j=$&&isHTMLElement$2(a)?getOffsetParent(a):a;return isElement$1(j)?_.filter(function(et){return isElement$1(et)&&contains$1(et,j)&&getNodeName(et)!=="body"}):[]}function getClippingRect(a,_,$,j){var et=_==="clippingParents"?getClippingParents(a):[].concat(_),tt=[].concat(et,[$]),rt=tt[0],nt=tt.reduce(function(it,st){var ot=getClientRectFromMixedType(a,st,j);return it.top=max(ot.top,it.top),it.right=min(ot.right,it.right),it.bottom=min(ot.bottom,it.bottom),it.left=max(ot.left,it.left),it},getClientRectFromMixedType(a,rt,j));return nt.width=nt.right-nt.left,nt.height=nt.bottom-nt.top,nt.x=nt.left,nt.y=nt.top,nt}function computeOffsets(a){var _=a.reference,$=a.element,j=a.placement,et=j?getBasePlacement(j):null,tt=j?getVariation(j):null,rt=_.x+_.width/2-$.width/2,nt=_.y+_.height/2-$.height/2,it;switch(et){case top:it={x:rt,y:_.y-$.height};break;case bottom:it={x:rt,y:_.y+_.height};break;case right:it={x:_.x+_.width,y:nt};break;case left:it={x:_.x-$.width,y:nt};break;default:it={x:_.x,y:_.y}}var st=et?getMainAxisFromPlacement(et):null;if(st!=null){var ot=st==="y"?"height":"width";switch(tt){case start:it[st]=it[st]-(_[ot]/2-$[ot]/2);break;case end:it[st]=it[st]+(_[ot]/2-$[ot]/2);break}}return it}function detectOverflow(a,_){_===void 0&&(_={});var $=_,j=$.placement,et=j===void 0?a.placement:j,tt=$.strategy,rt=tt===void 0?a.strategy:tt,nt=$.boundary,it=nt===void 0?clippingParents:nt,st=$.rootBoundary,ot=st===void 0?viewport:st,at=$.elementContext,ut=at===void 0?popper:at,ht=$.altBoundary,yt=ht===void 0?!1:ht,wt=$.padding,Ct=wt===void 0?0:wt,Pt=mergePaddingObject(typeof Ct!="number"?Ct:expandToHashMap(Ct,basePlacements)),Tt=ut===popper?reference:popper,Mt=a.rects.popper,Lt=a.elements[yt?Tt:ut],Dt=getClippingRect(isElement$1(Lt)?Lt:Lt.contextElement||getDocumentElement(a.elements.popper),it,ot,rt),Ut=getBoundingClientRect(a.elements.reference),Ot=computeOffsets({reference:Ut,element:Mt,strategy:"absolute",placement:et}),It=rectToClientRect(Object.assign({},Mt,Ot)),Bt=ut===popper?It:Ut,Ft={top:Dt.top-Bt.top+Pt.top,bottom:Bt.bottom-Dt.bottom+Pt.bottom,left:Dt.left-Bt.left+Pt.left,right:Bt.right-Dt.right+Pt.right},jt=a.modifiersData.offset;if(ut===popper&&jt){var bt=jt[et];Object.keys(Ft).forEach(function(vt){var ct=[right,bottom].indexOf(vt)>=0?1:-1,dt=[top,bottom].indexOf(vt)>=0?"y":"x";Ft[vt]+=bt[dt]*ct})}return Ft}function computeAutoPlacement(a,_){_===void 0&&(_={});var $=_,j=$.placement,et=$.boundary,tt=$.rootBoundary,rt=$.padding,nt=$.flipVariations,it=$.allowedAutoPlacements,st=it===void 0?placements:it,ot=getVariation(j),at=ot?nt?variationPlacements:variationPlacements.filter(function(yt){return getVariation(yt)===ot}):basePlacements,ut=at.filter(function(yt){return st.indexOf(yt)>=0});ut.length===0&&(ut=at);var ht=ut.reduce(function(yt,wt){return yt[wt]=detectOverflow(a,{placement:wt,boundary:et,rootBoundary:tt,padding:rt})[getBasePlacement(wt)],yt},{});return Object.keys(ht).sort(function(yt,wt){return ht[yt]-ht[wt]})}function getExpandedFallbackPlacements(a){if(getBasePlacement(a)===auto)return[];var _=getOppositePlacement(a);return[getOppositeVariationPlacement(a),_,getOppositeVariationPlacement(_)]}function flip(a){var _=a.state,$=a.options,j=a.name;if(!_.modifiersData[j]._skip){for(var et=$.mainAxis,tt=et===void 0?!0:et,rt=$.altAxis,nt=rt===void 0?!0:rt,it=$.fallbackPlacements,st=$.padding,ot=$.boundary,at=$.rootBoundary,ut=$.altBoundary,ht=$.flipVariations,yt=ht===void 0?!0:ht,wt=$.allowedAutoPlacements,Ct=_.options.placement,Pt=getBasePlacement(Ct),Tt=Pt===Ct,Mt=it||(Tt||!yt?[getOppositePlacement(Ct)]:getExpandedFallbackPlacements(Ct)),Lt=[Ct].concat(Mt).reduce(function(tr,ir){return tr.concat(getBasePlacement(ir)===auto?computeAutoPlacement(_,{placement:ir,boundary:ot,rootBoundary:at,padding:st,flipVariations:yt,allowedAutoPlacements:wt}):ir)},[]),Dt=_.rects.reference,Ut=_.rects.popper,Ot=new Map,It=!0,Bt=Lt[0],Ft=0;Ft<Lt.length;Ft++){var jt=Lt[Ft],bt=getBasePlacement(jt),vt=getVariation(jt)===start,ct=[top,bottom].indexOf(bt)>=0,dt=ct?"width":"height",mt=detectOverflow(_,{placement:jt,boundary:ot,rootBoundary:at,altBoundary:ut,padding:st}),xt=ct?vt?right:left:vt?bottom:top;Dt[dt]>Ut[dt]&&(xt=getOppositePlacement(xt));var At=getOppositePlacement(xt),Rt=[];if(tt&&Rt.push(mt[bt]<=0),nt&&Rt.push(mt[xt]<=0,mt[At]<=0),Rt.every(function(tr){return tr})){Bt=jt,It=!1;break}Ot.set(jt,Rt)}if(It)for(var St=yt?3:1,$t=function(ir){var nr=Lt.find(function(Zt){var Kt=Ot.get(Zt);if(Kt)return Kt.slice(0,ir).every(function(Qt){return Qt})});if(nr)return Bt=nr,"break"},Et=St;Et>0;Et--){var Nt=$t(Et);if(Nt==="break")break}_.placement!==Bt&&(_.modifiersData[j]._skip=!0,_.placement=Bt,_.reset=!0)}}const flip$1={name:"flip",enabled:!0,phase:"main",fn:flip,requiresIfExists:["offset"],data:{_skip:!1}};function getSideOffsets(a,_,$){return $===void 0&&($={x:0,y:0}),{top:a.top-_.height-$.y,right:a.right-_.width+$.x,bottom:a.bottom-_.height+$.y,left:a.left-_.width-$.x}}function isAnySideFullyClipped(a){return[top,right,bottom,left].some(function(_){return a[_]>=0})}function hide(a){var _=a.state,$=a.name,j=_.rects.reference,et=_.rects.popper,tt=_.modifiersData.preventOverflow,rt=detectOverflow(_,{elementContext:"reference"}),nt=detectOverflow(_,{altBoundary:!0}),it=getSideOffsets(rt,j),st=getSideOffsets(nt,et,tt),ot=isAnySideFullyClipped(it),at=isAnySideFullyClipped(st);_.modifiersData[$]={referenceClippingOffsets:it,popperEscapeOffsets:st,isReferenceHidden:ot,hasPopperEscaped:at},_.attributes.popper=Object.assign({},_.attributes.popper,{"data-popper-reference-hidden":ot,"data-popper-escaped":at})}const hide$1={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:hide};function distanceAndSkiddingToXY(a,_,$){var j=getBasePlacement(a),et=[left,top].indexOf(j)>=0?-1:1,tt=typeof $=="function"?$(Object.assign({},_,{placement:a})):$,rt=tt[0],nt=tt[1];return rt=rt||0,nt=(nt||0)*et,[left,right].indexOf(j)>=0?{x:nt,y:rt}:{x:rt,y:nt}}function offset(a){var _=a.state,$=a.options,j=a.name,et=$.offset,tt=et===void 0?[0,0]:et,rt=placements.reduce(function(ot,at){return ot[at]=distanceAndSkiddingToXY(at,_.rects,tt),ot},{}),nt=rt[_.placement],it=nt.x,st=nt.y;_.modifiersData.popperOffsets!=null&&(_.modifiersData.popperOffsets.x+=it,_.modifiersData.popperOffsets.y+=st),_.modifiersData[j]=rt}const offset$1={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:offset};function popperOffsets(a){var _=a.state,$=a.name;_.modifiersData[$]=computeOffsets({reference:_.rects.reference,element:_.rects.popper,strategy:"absolute",placement:_.placement})}const popperOffsets$1={name:"popperOffsets",enabled:!0,phase:"read",fn:popperOffsets,data:{}};function getAltAxis(a){return a==="x"?"y":"x"}function preventOverflow(a){var _=a.state,$=a.options,j=a.name,et=$.mainAxis,tt=et===void 0?!0:et,rt=$.altAxis,nt=rt===void 0?!1:rt,it=$.boundary,st=$.rootBoundary,ot=$.altBoundary,at=$.padding,ut=$.tether,ht=ut===void 0?!0:ut,yt=$.tetherOffset,wt=yt===void 0?0:yt,Ct=detectOverflow(_,{boundary:it,rootBoundary:st,padding:at,altBoundary:ot}),Pt=getBasePlacement(_.placement),Tt=getVariation(_.placement),Mt=!Tt,Lt=getMainAxisFromPlacement(Pt),Dt=getAltAxis(Lt),Ut=_.modifiersData.popperOffsets,Ot=_.rects.reference,It=_.rects.popper,Bt=typeof wt=="function"?wt(Object.assign({},_.rects,{placement:_.placement})):wt,Ft=typeof Bt=="number"?{mainAxis:Bt,altAxis:Bt}:Object.assign({mainAxis:0,altAxis:0},Bt),jt=_.modifiersData.offset?_.modifiersData.offset[_.placement]:null,bt={x:0,y:0};if(Ut){if(tt){var vt,ct=Lt==="y"?top:left,dt=Lt==="y"?bottom:right,mt=Lt==="y"?"height":"width",xt=Ut[Lt],At=xt+Ct[ct],Rt=xt-Ct[dt],St=ht?-It[mt]/2:0,$t=Tt===start?Ot[mt]:It[mt],Et=Tt===start?-It[mt]:-Ot[mt],Nt=_.elements.arrow,tr=ht&&Nt?getLayoutRect(Nt):{width:0,height:0},ir=_.modifiersData["arrow#persistent"]?_.modifiersData["arrow#persistent"].padding:getFreshSideObject(),nr=ir[ct],Zt=ir[dt],Kt=within(0,Ot[mt],tr[mt]),Qt=Mt?Ot[mt]/2-St-Kt-nr-Ft.mainAxis:$t-Kt-nr-Ft.mainAxis,Ht=Mt?-Ot[mt]/2+St+Kt+Zt+Ft.mainAxis:Et+Kt+Zt+Ft.mainAxis,qt=_.elements.arrow&&getOffsetParent(_.elements.arrow),Jt=qt?Lt==="y"?qt.clientTop||0:qt.clientLeft||0:0,ur=(vt=jt==null?void 0:jt[Lt])!=null?vt:0,xr=xt+Qt-ur-Jt,pr=xt+Ht-ur,Cr=within(ht?min(At,xr):At,xt,ht?max(Rt,pr):Rt);Ut[Lt]=Cr,bt[Lt]=Cr-xt}if(nt){var Mr,lr=Lt==="x"?top:left,fr=Lt==="x"?bottom:right,_r=Ut[Dt],Rr=Dt==="y"?"height":"width",kr=_r+Ct[lr],Ar=_r-Ct[fr],Pr=[top,left].indexOf(Pt)!==-1,Or=(Mr=jt==null?void 0:jt[Dt])!=null?Mr:0,Lr=Pr?kr:_r-Ot[Rr]-It[Rr]-Or+Ft.altAxis,or=Pr?_r+Ot[Rr]+It[Rr]-Or-Ft.altAxis:Ar,Yt=ht&&Pr?withinMaxClamp(Lr,_r,or):within(ht?Lr:kr,_r,ht?or:Ar);Ut[Dt]=Yt,bt[Dt]=Yt-_r}_.modifiersData[j]=bt}}const preventOverflow$1={name:"preventOverflow",enabled:!0,phase:"main",fn:preventOverflow,requiresIfExists:["offset"]};function getHTMLElementScroll(a){return{scrollLeft:a.scrollLeft,scrollTop:a.scrollTop}}function getNodeScroll(a){return a===getWindow(a)||!isHTMLElement$2(a)?getWindowScroll(a):getHTMLElementScroll(a)}function isElementScaled(a){var _=a.getBoundingClientRect(),$=round(_.width)/a.offsetWidth||1,j=round(_.height)/a.offsetHeight||1;return $!==1||j!==1}function getCompositeRect(a,_,$){$===void 0&&($=!1);var j=isHTMLElement$2(_),et=isHTMLElement$2(_)&&isElementScaled(_),tt=getDocumentElement(_),rt=getBoundingClientRect(a,et,$),nt={scrollLeft:0,scrollTop:0},it={x:0,y:0};return(j||!j&&!$)&&((getNodeName(_)!=="body"||isScrollParent(tt))&&(nt=getNodeScroll(_)),isHTMLElement$2(_)?(it=getBoundingClientRect(_,!0),it.x+=_.clientLeft,it.y+=_.clientTop):tt&&(it.x=getWindowScrollBarX(tt))),{x:rt.left+nt.scrollLeft-it.x,y:rt.top+nt.scrollTop-it.y,width:rt.width,height:rt.height}}function order(a){var _=new Map,$=new Set,j=[];a.forEach(function(tt){_.set(tt.name,tt)});function et(tt){$.add(tt.name);var rt=[].concat(tt.requires||[],tt.requiresIfExists||[]);rt.forEach(function(nt){if(!$.has(nt)){var it=_.get(nt);it&&et(it)}}),j.push(tt)}return a.forEach(function(tt){$.has(tt.name)||et(tt)}),j}function orderModifiers(a){var _=order(a);return modifierPhases.reduce(function($,j){return $.concat(_.filter(function(et){return et.phase===j}))},[])}function debounce(a){var _;return function(){return _||(_=new Promise(function($){Promise.resolve().then(function(){_=void 0,$(a())})})),_}}function mergeByName(a){var _=a.reduce(function($,j){var et=$[j.name];return $[j.name]=et?Object.assign({},et,j,{options:Object.assign({},et.options,j.options),data:Object.assign({},et.data,j.data)}):j,$},{});return Object.keys(_).map(function($){return _[$]})}var DEFAULT_OPTIONS={placement:"bottom",modifiers:[],strategy:"absolute"};function areValidElements(){for(var a=arguments.length,_=new Array(a),$=0;$<a;$++)_[$]=arguments[$];return!_.some(function(j){return!(j&&typeof j.getBoundingClientRect=="function")})}function popperGenerator(a){a===void 0&&(a={});var _=a,$=_.defaultModifiers,j=$===void 0?[]:$,et=_.defaultOptions,tt=et===void 0?DEFAULT_OPTIONS:et;return function(nt,it,st){st===void 0&&(st=tt);var ot={placement:"bottom",orderedModifiers:[],options:Object.assign({},DEFAULT_OPTIONS,tt),modifiersData:{},elements:{reference:nt,popper:it},attributes:{},styles:{}},at=[],ut=!1,ht={state:ot,setOptions:function(Pt){var Tt=typeof Pt=="function"?Pt(ot.options):Pt;wt(),ot.options=Object.assign({},tt,ot.options,Tt),ot.scrollParents={reference:isElement$1(nt)?listScrollParents(nt):nt.contextElement?listScrollParents(nt.contextElement):[],popper:listScrollParents(it)};var Mt=orderModifiers(mergeByName([].concat(j,ot.options.modifiers)));return ot.orderedModifiers=Mt.filter(function(Lt){return Lt.enabled}),yt(),ht.update()},forceUpdate:function(){if(!ut){var Pt=ot.elements,Tt=Pt.reference,Mt=Pt.popper;if(areValidElements(Tt,Mt)){ot.rects={reference:getCompositeRect(Tt,getOffsetParent(Mt),ot.options.strategy==="fixed"),popper:getLayoutRect(Mt)},ot.reset=!1,ot.placement=ot.options.placement,ot.orderedModifiers.forEach(function(Ft){return ot.modifiersData[Ft.name]=Object.assign({},Ft.data)});for(var Lt=0;Lt<ot.orderedModifiers.length;Lt++){if(ot.reset===!0){ot.reset=!1,Lt=-1;continue}var Dt=ot.orderedModifiers[Lt],Ut=Dt.fn,Ot=Dt.options,It=Ot===void 0?{}:Ot,Bt=Dt.name;typeof Ut=="function"&&(ot=Ut({state:ot,options:It,name:Bt,instance:ht})||ot)}}}},update:debounce(function(){return new Promise(function(Ct){ht.forceUpdate(),Ct(ot)})}),destroy:function(){wt(),ut=!0}};if(!areValidElements(nt,it))return ht;ht.setOptions(st).then(function(Ct){!ut&&st.onFirstUpdate&&st.onFirstUpdate(Ct)});function yt(){ot.orderedModifiers.forEach(function(Ct){var Pt=Ct.name,Tt=Ct.options,Mt=Tt===void 0?{}:Tt,Lt=Ct.effect;if(typeof Lt=="function"){var Dt=Lt({state:ot,name:Pt,instance:ht,options:Mt}),Ut=function(){};at.push(Dt||Ut)}})}function wt(){at.forEach(function(Ct){return Ct()}),at=[]}return ht}}var defaultModifiers=[eventListeners,popperOffsets$1,computeStyles$1,applyStyles$1,offset$1,flip$1,preventOverflow$1,arrow$1,hide$1],createPopper=popperGenerator({defaultModifiers});function usePopper(a={}){const{enabled:_=!0,modifiers:$,placement:j="bottom",strategy:et="absolute",arrowPadding:tt=8,eventListeners:rt=!0,offset:nt,gutter:it=8,flip:st=!0,boundary:ot="clippingParents",preventOverflow:at=!0,matchWidth:ut,direction:ht="ltr"}=a,yt=reactExports.useRef(null),wt=reactExports.useRef(null),Ct=reactExports.useRef(null),Pt=getPopperPlacement(j,ht),Tt=reactExports.useRef(()=>{}),Mt=reactExports.useCallback(()=>{var Ft;!_||!yt.current||!wt.current||((Ft=Tt.current)==null||Ft.call(Tt),Ct.current=createPopper(yt.current,wt.current,{placement:Pt,modifiers:[innerArrow,positionArrow,transformOrigin,{...matchWidth,enabled:!!ut},{name:"eventListeners",...getEventListenerOptions(rt)},{name:"arrow",options:{padding:tt}},{name:"offset",options:{offset:nt??[0,it]}},{name:"flip",enabled:!!st,options:{padding:8}},{name:"preventOverflow",enabled:!!at,options:{boundary:ot}},...$??[]],strategy:et}),Ct.current.forceUpdate(),Tt.current=Ct.current.destroy)},[Pt,_,$,ut,rt,tt,nt,it,st,at,ot,et]);reactExports.useEffect(()=>()=>{var Ft;!yt.current&&!wt.current&&((Ft=Ct.current)==null||Ft.destroy(),Ct.current=null)},[]);const Lt=reactExports.useCallback(Ft=>{yt.current=Ft,Mt()},[Mt]),Dt=reactExports.useCallback((Ft={},jt=null)=>({...Ft,ref:mergeRefs(Lt,jt)}),[Lt]),Ut=reactExports.useCallback(Ft=>{wt.current=Ft,Mt()},[Mt]),Ot=reactExports.useCallback((Ft={},jt=null)=>({...Ft,ref:mergeRefs(Ut,jt),style:{...Ft.style,position:et,minWidth:ut?void 0:"max-content",inset:"0 auto auto 0"}}),[et,Ut,ut]),It=reactExports.useCallback((Ft={},jt=null)=>{const{size:bt,shadowColor:vt,bg:ct,style:dt,...mt}=Ft;return{...mt,ref:jt,"data-popper-arrow":"",style:getArrowStyle(Ft)}},[]),Bt=reactExports.useCallback((Ft={},jt=null)=>({...Ft,ref:jt,"data-popper-arrow-inner":""}),[]);return{update(){var Ft;(Ft=Ct.current)==null||Ft.update()},forceUpdate(){var Ft;(Ft=Ct.current)==null||Ft.forceUpdate()},transformOrigin:cssVars.transformOrigin.varRef,referenceRef:Lt,popperRef:Ut,getPopperProps:Ot,getArrowProps:It,getArrowInnerProps:Bt,getReferenceProps:Dt}}function getArrowStyle(a){const{size:_,shadowColor:$,bg:j,style:et}=a,tt={...et,position:"absolute"};return _&&(tt["--popper-arrow-size"]=_),$&&(tt["--popper-arrow-shadow-color"]=$),j&&(tt["--popper-arrow-bg"]=j),tt}function useDisclosure(a={}){const{onClose:_,onOpen:$,isOpen:j,id:et}=a,tt=useCallbackRef$2($),rt=useCallbackRef$2(_),[nt,it]=reactExports.useState(a.defaultIsOpen||!1),st=j!==void 0?j:nt,ot=j!==void 0,at=reactExports.useId(),ut=et??`disclosure-${at}`,ht=reactExports.useCallback(()=>{ot||it(!1),rt==null||rt()},[ot,rt]),yt=reactExports.useCallback(()=>{ot||it(!0),tt==null||tt()},[ot,tt]),wt=reactExports.useCallback(()=>{st?ht():yt()},[st,yt,ht]);function Ct(Tt={}){return{...Tt,"aria-expanded":st,"aria-controls":ut,onClick(Mt){var Lt;(Lt=Tt.onClick)==null||Lt.call(Tt,Mt),wt()}}}function Pt(Tt={}){return{...Tt,hidden:!st,id:ut}}return{isOpen:st,onOpen:yt,onClose:ht,onToggle:wt,isControlled:ot,getButtonProps:Ct,getDisclosureProps:Pt}}function useOutsideClick(a){const{ref:_,handler:$,enabled:j=!0}=a,et=useCallbackRef$2($),rt=reactExports.useRef({isPointerDown:!1,ignoreEmulatedMouseEvents:!1}).current;reactExports.useEffect(()=>{if(!j)return;const nt=at=>{isValidEvent(at,_)&&(rt.isPointerDown=!0)},it=at=>{if(rt.ignoreEmulatedMouseEvents){rt.ignoreEmulatedMouseEvents=!1;return}rt.isPointerDown&&$&&isValidEvent(at,_)&&(rt.isPointerDown=!1,et(at))},st=at=>{rt.ignoreEmulatedMouseEvents=!0,$&&rt.isPointerDown&&isValidEvent(at,_)&&(rt.isPointerDown=!1,et(at))},ot=getOwnerDocument$1(_.current);return ot.addEventListener("mousedown",nt,!0),ot.addEventListener("mouseup",it,!0),ot.addEventListener("touchstart",nt,!0),ot.addEventListener("touchend",st,!0),()=>{ot.removeEventListener("mousedown",nt,!0),ot.removeEventListener("mouseup",it,!0),ot.removeEventListener("touchstart",nt,!0),ot.removeEventListener("touchend",st,!0)}},[$,_,et,rt,j])}function isValidEvent(a,_){var $;const j=a.target;return j&&!getOwnerDocument$1(j).contains(j)?!1:!(($=_.current)!=null&&$.contains(j))}function getOwnerDocument$1(a){var _;return(_=a==null?void 0:a.ownerDocument)!=null?_:document}function useAnimationState(a){const{isOpen:_,ref:$}=a,[j,et]=reactExports.useState(_),[tt,rt]=reactExports.useState(!1);return reactExports.useEffect(()=>{tt||(et(_),rt(!0))},[_,tt,j]),useEventListener(()=>$.current,"animationend",()=>{et(_)}),{present:!(_?!1:!j),onComplete(){var it;const st=getOwnerWindow($.current),ot=new st.CustomEvent("animationend",{bubbles:!0});(it=$.current)==null||it.dispatchEvent(ot)}}}function lazyDisclosure(a){const{wasSelected:_,enabled:$,isSelected:j,mode:et="unmount"}=a;return!!(!$||j||et==="keepMounted"&&_)}var[MenuDescendantsProvider,useMenuDescendantsContext,useMenuDescendants,useMenuDescendant]=createDescendantContext(),[MenuProvider,useMenuContext]=createContext$1({strict:!1,name:"MenuContext"});function useIds$1(a,..._){const $=reactExports.useId(),j=a||$;return reactExports.useMemo(()=>_.map(et=>`${et}-${j}`),[j,_])}function getOwnerDocument(a){var _;return(_=a==null?void 0:a.ownerDocument)!=null?_:document}function isActiveElement(a){return getOwnerDocument(a).activeElement===a}function useMenu(a={}){const{id:_,closeOnSelect:$=!0,closeOnBlur:j=!0,initialFocusRef:et,autoSelect:tt=!0,isLazy:rt,isOpen:nt,defaultIsOpen:it,onClose:st,onOpen:ot,placement:at="bottom-start",lazyBehavior:ut="unmount",direction:ht,computePositionOnMount:yt=!1,...wt}=a,Ct=reactExports.useRef(null),Pt=reactExports.useRef(null),Tt=useMenuDescendants(),Mt=reactExports.useCallback(()=>{requestAnimationFrame(()=>{var Nt;(Nt=Ct.current)==null||Nt.focus({preventScroll:!1})})},[]),Lt=reactExports.useCallback(()=>{const Nt=setTimeout(()=>{var tr;if(et)(tr=et.current)==null||tr.focus();else{const ir=Tt.firstEnabled();ir&&vt(ir.index)}});At.current.add(Nt)},[Tt,et]),Dt=reactExports.useCallback(()=>{const Nt=setTimeout(()=>{const tr=Tt.lastEnabled();tr&&vt(tr.index)});At.current.add(Nt)},[Tt]),Ut=reactExports.useCallback(()=>{ot==null||ot(),tt?Lt():Mt()},[tt,Lt,Mt,ot]),{isOpen:Ot,onOpen:It,onClose:Bt,onToggle:Ft}=useDisclosure({isOpen:nt,defaultIsOpen:it,onClose:st,onOpen:Ut});useOutsideClick({enabled:Ot&&j,ref:Ct,handler:Nt=>{var tr;(tr=Pt.current)!=null&&tr.contains(Nt.target)||Bt()}});const jt=usePopper({...wt,enabled:Ot||yt,placement:at,direction:ht}),[bt,vt]=reactExports.useState(-1);useUpdateEffect(()=>{Ot||vt(-1)},[Ot]),useFocusOnHide(Ct,{focusRef:Pt,visible:Ot,shouldFocus:!0});const ct=useAnimationState({isOpen:Ot,ref:Ct}),[dt,mt]=useIds$1(_,"menu-button","menu-list"),xt=reactExports.useCallback(()=>{It(),Mt()},[It,Mt]),At=reactExports.useRef(new Set([]));reactExports.useEffect(()=>{const Nt=At.current;return()=>{Nt.forEach(tr=>clearTimeout(tr)),Nt.clear()}},[]);const Rt=reactExports.useCallback(()=>{It(),Lt()},[Lt,It]),St=reactExports.useCallback(()=>{It(),Dt()},[It,Dt]),$t=reactExports.useCallback(()=>{var Nt,tr;const ir=getOwnerDocument(Ct.current),nr=(Nt=Ct.current)==null?void 0:Nt.contains(ir.activeElement);if(!(Ot&&!nr))return;const Kt=(tr=Tt.item(bt))==null?void 0:tr.node;Kt==null||Kt.focus({preventScroll:!0})},[Ot,bt,Tt]),Et=reactExports.useRef(null);return{openAndFocusMenu:xt,openAndFocusFirstItem:Rt,openAndFocusLastItem:St,onTransitionEnd:$t,unstable__animationState:ct,descendants:Tt,popper:jt,buttonId:dt,menuId:mt,forceUpdate:jt.forceUpdate,orientation:"vertical",isOpen:Ot,onToggle:Ft,onOpen:It,onClose:Bt,menuRef:Ct,buttonRef:Pt,focusedIndex:bt,closeOnSelect:$,closeOnBlur:j,autoSelect:tt,setFocusedIndex:vt,isLazy:rt,lazyBehavior:ut,initialFocusRef:et,rafId:Et}}function useMenuButton(a={},_=null){const $=useMenuContext(),{onToggle:j,popper:et,openAndFocusFirstItem:tt,openAndFocusLastItem:rt}=$,nt=reactExports.useCallback(it=>{const st=it.key,at={Enter:tt,ArrowDown:tt,ArrowUp:rt}[st];at&&(it.preventDefault(),it.stopPropagation(),at(it))},[tt,rt]);return{...a,ref:mergeRefs($.buttonRef,_,et.referenceRef),id:$.buttonId,"data-active":dataAttr($.isOpen),"aria-expanded":$.isOpen,"aria-haspopup":"menu","aria-controls":$.menuId,onClick:callAllHandlers$1(a.onClick,j),onKeyDown:callAllHandlers$1(a.onKeyDown,nt)}}function isTargetMenuItem(a){var _;return isHTMLElement$1(a)&&!!((_=a==null?void 0:a.getAttribute("role"))!=null&&_.startsWith("menuitem"))}function useMenuList(a={},_=null){const $=useMenuContext();if(!$)throw new Error("useMenuContext: context is undefined. Seems you forgot to wrap component within <Menu>");const{focusedIndex:j,setFocusedIndex:et,menuRef:tt,isOpen:rt,onClose:nt,menuId:it,isLazy:st,lazyBehavior:ot,unstable__animationState:at}=$,ut=useMenuDescendantsContext(),ht=useShortcut({preventDefault:Pt=>Pt.key!==" "&&isTargetMenuItem(Pt.target)}),yt=reactExports.useCallback(Pt=>{if(!Pt.currentTarget.contains(Pt.target))return;const Tt=Pt.key,Lt={Tab:Ut=>Ut.preventDefault(),Escape:nt,ArrowDown:()=>{const Ut=ut.nextEnabled(j);Ut&&et(Ut.index)},ArrowUp:()=>{const Ut=ut.prevEnabled(j);Ut&&et(Ut.index)}}[Tt];if(Lt){Pt.preventDefault(),Lt(Pt);return}const Dt=ht(Ut=>{const Ot=getNextItemFromSearch(ut.values(),Ut,It=>{var Bt,Ft;return(Ft=(Bt=It==null?void 0:It.node)==null?void 0:Bt.textContent)!=null?Ft:""},ut.item(j));if(Ot){const It=ut.indexOf(Ot.node);et(It)}});isTargetMenuItem(Pt.target)&&Dt(Pt)},[ut,j,ht,nt,et]),wt=reactExports.useRef(!1);rt&&(wt.current=!0);const Ct=lazyDisclosure({wasSelected:wt.current,enabled:st,mode:ot,isSelected:at.present});return{...a,ref:mergeRefs(tt,_),children:Ct?a.children:null,tabIndex:-1,role:"menu",id:it,style:{...a.style,transformOrigin:"var(--popper-transform-origin)"},"aria-orientation":"vertical",onKeyDown:callAllHandlers$1(a.onKeyDown,yt)}}function useMenuPositioner(a={}){const{popper:_,isOpen:$}=useMenuContext();return _.getPopperProps({...a,style:{visibility:$?"visible":"hidden",...a.style}})}function useMenuItem(a={},_=null){const{onMouseEnter:$,onMouseMove:j,onMouseLeave:et,onClick:tt,onFocus:rt,isDisabled:nt,isFocusable:it,closeOnSelect:st,type:ot,...at}=a,ut=useMenuContext(),{setFocusedIndex:ht,focusedIndex:yt,closeOnSelect:wt,onClose:Ct,menuRef:Pt,isOpen:Tt,menuId:Mt,rafId:Lt}=ut,Dt=reactExports.useRef(null),Ut=`${Mt}-menuitem-${reactExports.useId()}`,{index:Ot,register:It}=useMenuDescendant({disabled:nt&&!it}),Bt=reactExports.useCallback(xt=>{$==null||$(xt),!nt&&ht(Ot)},[ht,Ot,nt,$]),Ft=reactExports.useCallback(xt=>{j==null||j(xt),Dt.current&&!isActiveElement(Dt.current)&&Bt(xt)},[Bt,j]),jt=reactExports.useCallback(xt=>{et==null||et(xt),!nt&&ht(-1)},[ht,nt,et]),bt=reactExports.useCallback(xt=>{tt==null||tt(xt),isTargetMenuItem(xt.currentTarget)&&(st??wt)&&Ct()},[Ct,tt,wt,st]),vt=reactExports.useCallback(xt=>{rt==null||rt(xt),ht(Ot)},[ht,rt,Ot]),ct=Ot===yt,dt=nt&&!it;useUpdateEffect(()=>{if(Tt)return ct&&!dt&&Dt.current?(Lt.current&&cancelAnimationFrame(Lt.current),Lt.current=requestAnimationFrame(()=>{var xt;(xt=Dt.current)==null||xt.focus({preventScroll:!0}),Lt.current=null})):Pt.current&&!isActiveElement(Pt.current)&&Pt.current.focus({preventScroll:!0}),()=>{Lt.current&&cancelAnimationFrame(Lt.current)}},[ct,dt,Pt,Tt]);const mt=useClickable({onClick:bt,onFocus:vt,onMouseEnter:Bt,onMouseMove:Ft,onMouseLeave:jt,ref:mergeRefs(It,Dt,_),isDisabled:nt,isFocusable:it});return{...at,...mt,type:ot??mt.type,id:Ut,role:"menuitem",tabIndex:ct?0:-1}}function isHTMLElement$1(a){var _;if(!isElement(a))return!1;const $=(_=a.ownerDocument.defaultView)!=null?_:window;return a instanceof $.HTMLElement}function isElement(a){return a!=null&&typeof a=="object"&&"nodeType"in a&&a.nodeType===Node.ELEMENT_NODE}var[MenuStylesProvider,useMenuStyles]=createContext$1({name:"MenuStylesContext",errorMessage:`useMenuStyles returned is 'undefined'. Seems you forgot to wrap the components in "<Menu />" `}),Menu=a=>{const{children:_}=a,$=useMultiStyleConfig("Menu",a),j=omitThemingProps(a),{direction:et}=useTheme(),{descendants:tt,...rt}=useMenu({...j,direction:et}),nt=reactExports.useMemo(()=>rt,[rt]),{isOpen:it,onClose:st,forceUpdate:ot}=nt;return jsxRuntimeExports.jsx(MenuDescendantsProvider,{value:tt,children:jsxRuntimeExports.jsx(MenuProvider,{value:nt,children:jsxRuntimeExports.jsx(MenuStylesProvider,{value:$,children:runIfFn$2(_,{isOpen:it,onClose:st,forceUpdate:ot})})})})};Menu.displayName="Menu";var MenuCommand=forwardRef((a,_)=>{const $=useMenuStyles();return jsxRuntimeExports.jsx(chakra.span,{ref:_,...a,__css:$.command,className:"chakra-menu__command"})});MenuCommand.displayName="MenuCommand";var StyledMenuItem=forwardRef((a,_)=>{const{type:$,...j}=a,et=useMenuStyles(),tt=j.as||$?$??void 0:"button",rt=reactExports.useMemo(()=>({textDecoration:"none",color:"inherit",userSelect:"none",display:"flex",width:"100%",alignItems:"center",textAlign:"start",flex:"0 0 auto",outline:0,...et.item}),[et.item]);return jsxRuntimeExports.jsx(chakra.button,{ref:_,type:tt,...j,__css:rt})}),MenuIcon=a=>{const{className:_,children:$,...j}=a,et=useMenuStyles(),tt=reactExports.Children.only($),rt=reactExports.isValidElement(tt)?reactExports.cloneElement(tt,{focusable:"false","aria-hidden":!0,className:cx("chakra-menu__icon",tt.props.className)}):null,nt=cx("chakra-menu__icon-wrapper",_);return jsxRuntimeExports.jsx(chakra.span,{className:nt,...j,__css:et.icon,children:rt})};MenuIcon.displayName="MenuIcon";var MenuItem$1=forwardRef((a,_)=>{const{icon:$,iconSpacing:j="0.75rem",command:et,commandSpacing:tt="0.75rem",children:rt,...nt}=a,it=useMenuItem(nt,_),ot=$||et?jsxRuntimeExports.jsx("span",{style:{pointerEvents:"none",flex:1},children:rt}):rt;return jsxRuntimeExports.jsxs(StyledMenuItem,{...it,className:cx("chakra-menu__menuitem",it.className),children:[$&&jsxRuntimeExports.jsx(MenuIcon,{fontSize:"0.8em",marginEnd:j,children:$}),ot,et&&jsxRuntimeExports.jsx(MenuCommand,{marginStart:tt,children:et})]})});MenuItem$1.displayName="MenuItem";var motionVariants={enter:{visibility:"visible",opacity:1,scale:1,transition:{duration:.2,ease:[.4,0,.2,1]}},exit:{transitionEnd:{visibility:"hidden"},opacity:0,scale:.8,transition:{duration:.1,easings:"easeOut"}}},MenuTransition=chakra(motion.div),MenuList=forwardRef(function(_,$){var j,et;const{rootProps:tt,motionProps:rt,...nt}=_,{isOpen:it,onTransitionEnd:st,unstable__animationState:ot}=useMenuContext(),at=useMenuList(nt,$),ut=useMenuPositioner(tt),ht=useMenuStyles();return jsxRuntimeExports.jsx(chakra.div,{...ut,__css:{zIndex:(et=_.zIndex)!=null?et:(j=ht.list)==null?void 0:j.zIndex},children:jsxRuntimeExports.jsx(MenuTransition,{variants:motionVariants,initial:!1,animate:it?"enter":"exit",__css:{outline:0,...ht.list},...rt,className:cx("chakra-menu__menu-list",at.className),...at,onUpdate:st,onAnimationComplete:callAll(ot.onComplete,at.onAnimationComplete)})})});MenuList.displayName="MenuList";var StyledMenuButton=forwardRef((a,_)=>{const $=useMenuStyles();return jsxRuntimeExports.jsx(chakra.button,{ref:_,...a,__css:{display:"inline-flex",appearance:"none",alignItems:"center",outline:0,...$.button}})}),MenuButton=forwardRef((a,_)=>{const{children:$,as:j,...et}=a,tt=useMenuButton(et,_),rt=j||StyledMenuButton;return jsxRuntimeExports.jsx(rt,{...tt,className:cx("chakra-menu__menu-button",a.className),children:jsxRuntimeExports.jsx(chakra.span,{__css:{pointerEvents:"none",flex:"1 1 auto",minW:0},children:a.children})})});MenuButton.displayName="MenuButton";var transitions={slideInBottom:{...slideFadeConfig,custom:{offsetY:16,reverse:!0}},slideInRight:{...slideFadeConfig,custom:{offsetX:16,reverse:!0}},slideInTop:{...slideFadeConfig,custom:{offsetY:-16,reverse:!0}},slideInLeft:{...slideFadeConfig,custom:{offsetX:-16,reverse:!0}},scale:{...scaleFadeConfig,custom:{initialScale:.95,reverse:!0}},none:{}},MotionSection$1=chakra(motion.section),getMotionProps=a=>transitions[a||"none"],ModalTransition=reactExports.forwardRef((a,_)=>{const{preset:$,motionProps:j=getMotionProps($),...et}=a;return jsxRuntimeExports.jsx(MotionSection$1,{ref:_,...j,...et})});ModalTransition.displayName="ModalTransition";var __defProp$7=Object.defineProperty,__defNormalProp$2=(a,_,$)=>_ in a?__defProp$7(a,_,{enumerable:!0,configurable:!0,writable:!0,value:$}):a[_]=$,__publicField$2=(a,_,$)=>(__defNormalProp$2(a,_+"",$),$),ModalManager=class{constructor(){__publicField$2(this,"modals"),this.modals=new Map}add(a){return this.modals.set(a,this.modals.size+1),this.modals.size}remove(a){this.modals.delete(a)}isTopModal(a){return a?this.modals.get(a)===this.modals.size:!1}},modalManager=new ModalManager;function useModalManager(a,_){const[$,j]=reactExports.useState(0);return reactExports.useEffect(()=>{const et=a.current;if(et){if(_){const tt=modalManager.add(et);j(tt)}return()=>{modalManager.remove(et),j(0)}}},[_,a]),$}var getDefaultParent=function(a){if(typeof document>"u")return null;var _=Array.isArray(a)?a[0]:a;return _.ownerDocument.body},counterMap=new WeakMap,uncontrolledNodes=new WeakMap,markerMap={},lockCount=0,unwrapHost=function(a){return a&&(a.host||unwrapHost(a.parentNode))},correctTargets=function(a,_){return _.map(function($){if(a.contains($))return $;var j=unwrapHost($);return j&&a.contains(j)?j:(console.error("aria-hidden",$,"in not contained inside",a,". Doing nothing"),null)}).filter(function($){return!!$})},applyAttributeToOthers=function(a,_,$,j){var et=correctTargets(_,Array.isArray(a)?a:[a]);markerMap[$]||(markerMap[$]=new WeakMap);var tt=markerMap[$],rt=[],nt=new Set,it=new Set(et),st=function(at){!at||nt.has(at)||(nt.add(at),st(at.parentNode))};et.forEach(st);var ot=function(at){!at||it.has(at)||Array.prototype.forEach.call(at.children,function(ut){if(nt.has(ut))ot(ut);else{var ht=ut.getAttribute(j),yt=ht!==null&&ht!=="false",wt=(counterMap.get(ut)||0)+1,Ct=(tt.get(ut)||0)+1;counterMap.set(ut,wt),tt.set(ut,Ct),rt.push(ut),wt===1&&yt&&uncontrolledNodes.set(ut,!0),Ct===1&&ut.setAttribute($,"true"),yt||ut.setAttribute(j,"true")}})};return ot(_),nt.clear(),lockCount++,function(){rt.forEach(function(at){var ut=counterMap.get(at)-1,ht=tt.get(at)-1;counterMap.set(at,ut),tt.set(at,ht),ut||(uncontrolledNodes.has(at)||at.removeAttribute(j),uncontrolledNodes.delete(at)),ht||at.removeAttribute($)}),lockCount--,lockCount||(counterMap=new WeakMap,counterMap=new WeakMap,uncontrolledNodes=new WeakMap,markerMap={})}},hideOthers=function(a,_,$){$===void 0&&($="data-aria-hidden");var j=Array.from(Array.isArray(a)?a:[a]),et=getDefaultParent(a);return et?(j.push.apply(j,Array.from(et.querySelectorAll("[aria-live]"))),applyAttributeToOthers(j,et,$,"aria-hidden")):function(){return null}};function useModal(a){const{isOpen:_,onClose:$,id:j,closeOnOverlayClick:et=!0,closeOnEsc:tt=!0,useInert:rt=!0,onOverlayClick:nt,onEsc:it}=a,st=reactExports.useRef(null),ot=reactExports.useRef(null),[at,ut,ht]=useIds(j,"chakra-modal","chakra-modal--header","chakra-modal--body");useAriaHidden(st,_&&rt);const yt=useModalManager(st,_),wt=reactExports.useRef(null),Ct=reactExports.useCallback(Bt=>{wt.current=Bt.target},[]),Pt=reactExports.useCallback(Bt=>{Bt.key==="Escape"&&(Bt.stopPropagation(),tt&&($==null||$()),it==null||it())},[tt,$,it]),[Tt,Mt]=reactExports.useState(!1),[Lt,Dt]=reactExports.useState(!1),Ut=reactExports.useCallback((Bt={},Ft=null)=>({role:"dialog",...Bt,ref:mergeRefs(Ft,st),id:at,tabIndex:-1,"aria-modal":!0,"aria-labelledby":Tt?ut:void 0,"aria-describedby":Lt?ht:void 0,onClick:callAllHandlers$1(Bt.onClick,jt=>jt.stopPropagation())}),[ht,Lt,at,ut,Tt]),Ot=reactExports.useCallback(Bt=>{Bt.stopPropagation(),wt.current===Bt.target&&modalManager.isTopModal(st.current)&&(et&&($==null||$()),nt==null||nt())},[$,et,nt]),It=reactExports.useCallback((Bt={},Ft=null)=>({...Bt,ref:mergeRefs(Ft,ot),onClick:callAllHandlers$1(Bt.onClick,Ot),onKeyDown:callAllHandlers$1(Bt.onKeyDown,Pt),onMouseDown:callAllHandlers$1(Bt.onMouseDown,Ct)}),[Pt,Ct,Ot]);return{isOpen:_,onClose:$,headerId:ut,bodyId:ht,setBodyMounted:Dt,setHeaderMounted:Mt,dialogRef:st,overlayRef:ot,getDialogProps:Ut,getDialogContainerProps:It,index:yt}}function useAriaHidden(a,_){const $=a.current;reactExports.useEffect(()=>{if(!(!a.current||!_))return hideOthers(a.current)},[_,a,$])}function useIds(a,..._){const $=reactExports.useId(),j=a||$;return reactExports.useMemo(()=>_.map(et=>`${et}-${j}`),[j,_])}var[ModalStylesProvider,useModalStyles]=createContext$1({name:"ModalStylesContext",errorMessage:`useModalStyles returned is 'undefined'. Seems you forgot to wrap the components in "<Modal />" `}),[ModalContextProvider,useModalContext]=createContext$1({strict:!0,name:"ModalContext",errorMessage:"useModalContext: `context` is undefined. Seems you forgot to wrap modal components in `<Modal />`"}),Modal=a=>{const _={scrollBehavior:"outside",autoFocus:!0,trapFocus:!0,returnFocusOnClose:!0,blockScrollOnMount:!0,allowPinchZoom:!1,motionPreset:"scale",lockFocusAcrossFrames:!0,...a},{portalProps:$,children:j,autoFocus:et,trapFocus:tt,initialFocusRef:rt,finalFocusRef:nt,returnFocusOnClose:it,blockScrollOnMount:st,allowPinchZoom:ot,preserveScrollBarGap:at,motionPreset:ut,lockFocusAcrossFrames:ht,onCloseComplete:yt}=_,wt=useMultiStyleConfig("Modal",_),Pt={...useModal(_),autoFocus:et,trapFocus:tt,initialFocusRef:rt,finalFocusRef:nt,returnFocusOnClose:it,blockScrollOnMount:st,allowPinchZoom:ot,preserveScrollBarGap:at,motionPreset:ut,lockFocusAcrossFrames:ht};return jsxRuntimeExports.jsx(ModalContextProvider,{value:Pt,children:jsxRuntimeExports.jsx(ModalStylesProvider,{value:wt,children:jsxRuntimeExports.jsx(AnimatePresence,{onExitComplete:yt,children:Pt.isOpen&&jsxRuntimeExports.jsx(Portal,{...$,children:j})})})})};Modal.displayName="Modal";var zeroRightClassName$1="right-scroll-bar-position",fullWidthClassName$1="width-before-scroll-bar",noScrollbarsClassName$1="with-scroll-bars-hidden",removedBarSizeVariable$1="--removed-body-scroll-bar-size",effectCar$1=createSidecarMedium(),nothing$1=function(){},RemoveScroll$1=reactExports.forwardRef(function(a,_){var $=reactExports.useRef(null),j=reactExports.useState({onScrollCapture:nothing$1,onWheelCapture:nothing$1,onTouchMoveCapture:nothing$1}),et=j[0],tt=j[1],rt=a.forwardProps,nt=a.children,it=a.className,st=a.removeScrollBar,ot=a.enabled,at=a.shards,ut=a.sideCar,ht=a.noIsolation,yt=a.inert,wt=a.allowPinchZoom,Ct=a.as,Pt=Ct===void 0?"div":Ct,Tt=a.gapMode,Mt=__rest$3(a,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),Lt=ut,Dt=useMergeRefs([$,_]),Ut=__assign(__assign({},Mt),et);return reactExports.createElement(reactExports.Fragment,null,ot&&reactExports.createElement(Lt,{sideCar:effectCar$1,removeScrollBar:st,shards:at,noIsolation:ht,inert:yt,setCallbacks:tt,allowPinchZoom:!!wt,lockRef:$,gapMode:Tt}),rt?reactExports.cloneElement(reactExports.Children.only(nt),__assign(__assign({},Ut),{ref:Dt})):reactExports.createElement(Pt,__assign({},Ut,{className:it,ref:Dt}),nt))});RemoveScroll$1.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};RemoveScroll$1.classNames={fullWidth:fullWidthClassName$1,zeroRight:zeroRightClassName$1};var getNonce$1=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function makeStyleTag(){if(!document)return null;var a=document.createElement("style");a.type="text/css";var _=getNonce$1();return _&&a.setAttribute("nonce",_),a}function injectStyles(a,_){a.styleSheet?a.styleSheet.cssText=_:a.appendChild(document.createTextNode(_))}function insertStyleTag(a){var _=document.head||document.getElementsByTagName("head")[0];_.appendChild(a)}var stylesheetSingleton=function(){var a=0,_=null;return{add:function($){a==0&&(_=makeStyleTag())&&(injectStyles(_,$),insertStyleTag(_)),a++},remove:function(){a--,!a&&_&&(_.parentNode&&_.parentNode.removeChild(_),_=null)}}},styleHookSingleton=function(){var a=stylesheetSingleton();return function(_,$){reactExports.useEffect(function(){return a.add(_),function(){a.remove()}},[_&&$])}},styleSingleton=function(){var a=styleHookSingleton(),_=function($){var j=$.styles,et=$.dynamic;return a(j,et),null};return _},zeroGap$1={left:0,top:0,right:0,gap:0},parse$b=function(a){return parseInt(a||"",10)||0},getOffset$1=function(a){var _=window.getComputedStyle(document.body),$=_[a==="padding"?"paddingLeft":"marginLeft"],j=_[a==="padding"?"paddingTop":"marginTop"],et=_[a==="padding"?"paddingRight":"marginRight"];return[parse$b($),parse$b(j),parse$b(et)]},getGapWidth$1=function(a){if(a===void 0&&(a="margin"),typeof window>"u")return zeroGap$1;var _=getOffset$1(a),$=document.documentElement.clientWidth,j=window.innerWidth;return{left:_[0],top:_[1],right:_[2],gap:Math.max(0,j-$+_[2]-_[0])}},Style$1=styleSingleton(),getStyles$1=function(a,_,$,j){var et=a.left,tt=a.top,rt=a.right,nt=a.gap;return $===void 0&&($="margin"),`
  .`.concat(noScrollbarsClassName$1,` {
   overflow: hidden `).concat(j,`;
   padding-right: `).concat(nt,"px ").concat(j,`;
  }
  body {
    overflow: hidden `).concat(j,`;
    overscroll-behavior: contain;
    `).concat([_&&"position: relative ".concat(j,";"),$==="margin"&&`
    padding-left: `.concat(et,`px;
    padding-top: `).concat(tt,`px;
    padding-right: `).concat(rt,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(nt,"px ").concat(j,`;
    `),$==="padding"&&"padding-right: ".concat(nt,"px ").concat(j,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(zeroRightClassName$1,` {
    right: `).concat(nt,"px ").concat(j,`;
  }
  
  .`).concat(fullWidthClassName$1,` {
    margin-right: `).concat(nt,"px ").concat(j,`;
  }
  
  .`).concat(zeroRightClassName$1," .").concat(zeroRightClassName$1,` {
    right: 0 `).concat(j,`;
  }
  
  .`).concat(fullWidthClassName$1," .").concat(fullWidthClassName$1,` {
    margin-right: 0 `).concat(j,`;
  }
  
  body {
    `).concat(removedBarSizeVariable$1,": ").concat(nt,`px;
  }
`)},RemoveScrollBar$1=function(a){var _=a.noRelative,$=a.noImportant,j=a.gapMode,et=j===void 0?"margin":j,tt=reactExports.useMemo(function(){return getGapWidth$1(et)},[et]);return reactExports.createElement(Style$1,{styles:getStyles$1(tt,!_,et,$?"":"!important")})},passiveSupported$1=!1;if(typeof window<"u")try{var options$1=Object.defineProperty({},"passive",{get:function(){return passiveSupported$1=!0,!0}});window.addEventListener("test",options$1,options$1),window.removeEventListener("test",options$1,options$1)}catch{passiveSupported$1=!1}var nonPassive$1=passiveSupported$1?{passive:!1}:!1,alwaysContainsScroll$1=function(a){return a.tagName==="TEXTAREA"},elementCanBeScrolled$1=function(a,_){var $=window.getComputedStyle(a);return $[_]!=="hidden"&&!($.overflowY===$.overflowX&&!alwaysContainsScroll$1(a)&&$[_]==="visible")},elementCouldBeVScrolled$1=function(a){return elementCanBeScrolled$1(a,"overflowY")},elementCouldBeHScrolled$1=function(a){return elementCanBeScrolled$1(a,"overflowX")},locationCouldBeScrolled$1=function(a,_){var $=_.ownerDocument,j=_;do{typeof ShadowRoot<"u"&&j instanceof ShadowRoot&&(j=j.host);var et=elementCouldBeScrolled$1(a,j);if(et){var tt=getScrollVariables$1(a,j),rt=tt[1],nt=tt[2];if(rt>nt)return!0}j=j.parentNode}while(j&&j!==$.body);return!1},getVScrollVariables$1=function(a){var _=a.scrollTop,$=a.scrollHeight,j=a.clientHeight;return[_,$,j]},getHScrollVariables$1=function(a){var _=a.scrollLeft,$=a.scrollWidth,j=a.clientWidth;return[_,$,j]},elementCouldBeScrolled$1=function(a,_){return a==="v"?elementCouldBeVScrolled$1(_):elementCouldBeHScrolled$1(_)},getScrollVariables$1=function(a,_){return a==="v"?getVScrollVariables$1(_):getHScrollVariables$1(_)},getDirectionFactor$1=function(a,_){return a==="h"&&_==="rtl"?-1:1},handleScroll$1=function(a,_,$,j,et){var tt=getDirectionFactor$1(a,window.getComputedStyle(_).direction),rt=tt*j,nt=$.target,it=_.contains(nt),st=!1,ot=rt>0,at=0,ut=0;do{var ht=getScrollVariables$1(a,nt),yt=ht[0],wt=ht[1],Ct=ht[2],Pt=wt-Ct-tt*yt;(yt||Pt)&&elementCouldBeScrolled$1(a,nt)&&(at+=Pt,ut+=yt),nt instanceof ShadowRoot?nt=nt.host:nt=nt.parentNode}while(!it&&nt!==document.body||it&&(_.contains(nt)||_===nt));return(ot&&(Math.abs(at)<1||!et)||!ot&&(Math.abs(ut)<1||!et))&&(st=!0),st},getTouchXY$1=function(a){return"changedTouches"in a?[a.changedTouches[0].clientX,a.changedTouches[0].clientY]:[0,0]},getDeltaXY$1=function(a){return[a.deltaX,a.deltaY]},extractRef$1=function(a){return a&&"current"in a?a.current:a},deltaCompare$1=function(a,_){return a[0]===_[0]&&a[1]===_[1]},generateStyle$1=function(a){return`
  .block-interactivity-`.concat(a,` {pointer-events: none;}
  .allow-interactivity-`).concat(a,` {pointer-events: all;}
`)},idCounter$1=0,lockStack$1=[];function RemoveScrollSideCar$1(a){var _=reactExports.useRef([]),$=reactExports.useRef([0,0]),j=reactExports.useRef(),et=reactExports.useState(idCounter$1++)[0],tt=reactExports.useState(styleSingleton)[0],rt=reactExports.useRef(a);reactExports.useEffect(function(){rt.current=a},[a]),reactExports.useEffect(function(){if(a.inert){document.body.classList.add("block-interactivity-".concat(et));var wt=__spreadArray([a.lockRef.current],(a.shards||[]).map(extractRef$1),!0).filter(Boolean);return wt.forEach(function(Ct){return Ct.classList.add("allow-interactivity-".concat(et))}),function(){document.body.classList.remove("block-interactivity-".concat(et)),wt.forEach(function(Ct){return Ct.classList.remove("allow-interactivity-".concat(et))})}}},[a.inert,a.lockRef.current,a.shards]);var nt=reactExports.useCallback(function(wt,Ct){if("touches"in wt&&wt.touches.length===2)return!rt.current.allowPinchZoom;var Pt=getTouchXY$1(wt),Tt=$.current,Mt="deltaX"in wt?wt.deltaX:Tt[0]-Pt[0],Lt="deltaY"in wt?wt.deltaY:Tt[1]-Pt[1],Dt,Ut=wt.target,Ot=Math.abs(Mt)>Math.abs(Lt)?"h":"v";if("touches"in wt&&Ot==="h"&&Ut.type==="range")return!1;var It=locationCouldBeScrolled$1(Ot,Ut);if(!It)return!0;if(It?Dt=Ot:(Dt=Ot==="v"?"h":"v",It=locationCouldBeScrolled$1(Ot,Ut)),!It)return!1;if(!j.current&&"changedTouches"in wt&&(Mt||Lt)&&(j.current=Dt),!Dt)return!0;var Bt=j.current||Dt;return handleScroll$1(Bt,Ct,wt,Bt==="h"?Mt:Lt,!0)},[]),it=reactExports.useCallback(function(wt){var Ct=wt;if(!(!lockStack$1.length||lockStack$1[lockStack$1.length-1]!==tt)){var Pt="deltaY"in Ct?getDeltaXY$1(Ct):getTouchXY$1(Ct),Tt=_.current.filter(function(Dt){return Dt.name===Ct.type&&(Dt.target===Ct.target||Ct.target===Dt.shadowParent)&&deltaCompare$1(Dt.delta,Pt)})[0];if(Tt&&Tt.should){Ct.cancelable&&Ct.preventDefault();return}if(!Tt){var Mt=(rt.current.shards||[]).map(extractRef$1).filter(Boolean).filter(function(Dt){return Dt.contains(Ct.target)}),Lt=Mt.length>0?nt(Ct,Mt[0]):!rt.current.noIsolation;Lt&&Ct.cancelable&&Ct.preventDefault()}}},[]),st=reactExports.useCallback(function(wt,Ct,Pt,Tt){var Mt={name:wt,delta:Ct,target:Pt,should:Tt,shadowParent:getOutermostShadowParent$1(Pt)};_.current.push(Mt),setTimeout(function(){_.current=_.current.filter(function(Lt){return Lt!==Mt})},1)},[]),ot=reactExports.useCallback(function(wt){$.current=getTouchXY$1(wt),j.current=void 0},[]),at=reactExports.useCallback(function(wt){st(wt.type,getDeltaXY$1(wt),wt.target,nt(wt,a.lockRef.current))},[]),ut=reactExports.useCallback(function(wt){st(wt.type,getTouchXY$1(wt),wt.target,nt(wt,a.lockRef.current))},[]);reactExports.useEffect(function(){return lockStack$1.push(tt),a.setCallbacks({onScrollCapture:at,onWheelCapture:at,onTouchMoveCapture:ut}),document.addEventListener("wheel",it,nonPassive$1),document.addEventListener("touchmove",it,nonPassive$1),document.addEventListener("touchstart",ot,nonPassive$1),function(){lockStack$1=lockStack$1.filter(function(wt){return wt!==tt}),document.removeEventListener("wheel",it,nonPassive$1),document.removeEventListener("touchmove",it,nonPassive$1),document.removeEventListener("touchstart",ot,nonPassive$1)}},[]);var ht=a.removeScrollBar,yt=a.inert;return reactExports.createElement(reactExports.Fragment,null,yt?reactExports.createElement(tt,{styles:generateStyle$1(et)}):null,ht?reactExports.createElement(RemoveScrollBar$1,{gapMode:a.gapMode}):null)}function getOutermostShadowParent$1(a){for(var _=null;a!==null;)a instanceof ShadowRoot&&(_=a.host,a=a.host),a=a.parentNode;return _}const SideCar$1=exportSidecar(effectCar$1,RemoveScrollSideCar$1);var ReactRemoveScroll$1=reactExports.forwardRef(function(a,_){return reactExports.createElement(RemoveScroll$1,__assign({},a,{ref:_,sideCar:SideCar$1}))});ReactRemoveScroll$1.classNames=RemoveScroll$1.classNames;function ModalFocusScope(a){const{autoFocus:_,trapFocus:$,dialogRef:j,initialFocusRef:et,blockScrollOnMount:tt,allowPinchZoom:rt,finalFocusRef:nt,returnFocusOnClose:it,preserveScrollBarGap:st,lockFocusAcrossFrames:ot,isOpen:at}=useModalContext(),[ut,ht]=usePresence();reactExports.useEffect(()=>{!ut&&ht&&setTimeout(ht)},[ut,ht]);const yt=useModalManager(j,at);return jsxRuntimeExports.jsx(FocusLock,{autoFocus:_,isDisabled:!$,initialFocusRef:et,finalFocusRef:nt,restoreFocus:it,contentRef:j,lockFocusAcrossFrames:ot,children:jsxRuntimeExports.jsx(ReactRemoveScroll$1,{removeScrollBar:!st,allowPinchZoom:rt,enabled:yt===1&&tt,forwardProps:!0,children:a.children})})}var ModalContent=forwardRef((a,_)=>{const{className:$,children:j,containerProps:et,motionProps:tt,...rt}=a,{getDialogProps:nt,getDialogContainerProps:it}=useModalContext(),st=nt(rt,_),ot=it(et),at=cx("chakra-modal__content",$),ut=useModalStyles(),ht={display:"flex",flexDirection:"column",position:"relative",width:"100%",outline:0,...ut.dialog},yt={display:"flex",width:"100vw",height:"$100vh",position:"fixed",left:0,top:0,...ut.dialogContainer},{motionPreset:wt}=useModalContext();return jsxRuntimeExports.jsx(ModalFocusScope,{children:jsxRuntimeExports.jsx(chakra.div,{...ot,className:"chakra-modal__content-container",tabIndex:-1,__css:yt,children:jsxRuntimeExports.jsx(ModalTransition,{preset:wt,motionProps:tt,className:at,...st,__css:ht,children:j})})})});ModalContent.displayName="ModalContent";var[DrawerContextProvider,useDrawerContext]=createContext$1(),placementMap={start:{ltr:"left",rtl:"right"},end:{ltr:"right",rtl:"left"}};function getDrawerPlacement(a,_){var $,j;if(a)return(j=($=placementMap[a])==null?void 0:$[_])!=null?j:a}function Drawer(a){var _;const{isOpen:$,onClose:j,placement:et="right",children:tt,...rt}=a,nt=useTheme(),it=(_=nt.components)==null?void 0:_.Drawer,st=getDrawerPlacement(et,nt.direction);return jsxRuntimeExports.jsx(DrawerContextProvider,{value:{placement:st},children:jsxRuntimeExports.jsx(Modal,{isOpen:$,onClose:j,styleConfig:it,...rt,children:tt})})}var MotionDiv$2=chakra(Slide),DrawerContent=forwardRef((a,_)=>{const{className:$,children:j,motionProps:et,containerProps:tt,...rt}=a,{getDialogProps:nt,getDialogContainerProps:it,isOpen:st}=useModalContext(),ot=nt(rt,_),at=it(tt),ut=cx("chakra-modal__content",$),ht=useModalStyles(),yt={display:"flex",flexDirection:"column",position:"relative",width:"100%",outline:0,...ht.dialog},wt={display:"flex",width:"100vw",height:"$100vh",position:"fixed",left:0,top:0,...ht.dialogContainer},{placement:Ct}=useDrawerContext();return jsxRuntimeExports.jsx(ModalFocusScope,{children:jsxRuntimeExports.jsx(chakra.div,{...at,className:"chakra-modal__content-container",__css:wt,children:jsxRuntimeExports.jsx(MotionDiv$2,{motionProps:et,direction:Ct,in:st,className:ut,...ot,__css:yt,children:j})})})});DrawerContent.displayName="DrawerContent";var ModalFooter=forwardRef((a,_)=>{const{className:$,...j}=a,et=cx("chakra-modal__footer",$),rt={display:"flex",alignItems:"center",justifyContent:"flex-end",...useModalStyles().footer};return jsxRuntimeExports.jsx(chakra.footer,{ref:_,...j,__css:rt,className:et})});ModalFooter.displayName="ModalFooter";var ModalHeader=forwardRef((a,_)=>{const{className:$,...j}=a,{headerId:et,setHeaderMounted:tt}=useModalContext();reactExports.useEffect(()=>(tt(!0),()=>tt(!1)),[tt]);const rt=cx("chakra-modal__header",$),it={flex:0,...useModalStyles().header};return jsxRuntimeExports.jsx(chakra.header,{ref:_,className:rt,id:et,...j,__css:it})});ModalHeader.displayName="ModalHeader";var MotionDiv$1=chakra(motion.div),ModalOverlay=forwardRef((a,_)=>{const{className:$,transition:j,motionProps:et,...tt}=a,rt=cx("chakra-modal__overlay",$),it={pos:"fixed",left:"0",top:"0",w:"100vw",h:"100vh",...useModalStyles().overlay},{motionPreset:st}=useModalContext(),at=et||(st==="none"?{}:fadeConfig);return jsxRuntimeExports.jsx(MotionDiv$1,{...at,__css:it,ref:_,className:rt,...tt})});ModalOverlay.displayName="ModalOverlay";var ModalBody=forwardRef((a,_)=>{const{className:$,...j}=a,{bodyId:et,setBodyMounted:tt}=useModalContext();reactExports.useEffect(()=>(tt(!0),()=>tt(!1)),[tt]);const rt=cx("chakra-modal__body",$),nt=useModalStyles();return jsxRuntimeExports.jsx(chakra.div,{ref:_,className:rt,id:et,...j,__css:nt.body})});ModalBody.displayName="ModalBody";var ModalCloseButton=forwardRef((a,_)=>{const{onClick:$,className:j,...et}=a,{onClose:tt}=useModalContext(),rt=cx("chakra-modal__close-btn",j),nt=useModalStyles();return jsxRuntimeExports.jsx(CloseButton,{ref:_,__css:nt.closeButton,className:rt,onClick:callAllHandlers$1($,it=>{it.stopPropagation(),tt()}),...et})});ModalCloseButton.displayName="ModalCloseButton";var[PopoverProvider,usePopoverContext]=createContext$1({name:"PopoverContext",errorMessage:"usePopoverContext: `context` is undefined. Seems you forgot to wrap all popover components within `<Popover />`"}),[PopoverStylesProvider,usePopoverStyles]=createContext$1({name:"PopoverStylesContext",errorMessage:`usePopoverStyles returned is 'undefined'. Seems you forgot to wrap the components in "<Popover />" `});function PopoverTrigger(a){const _=reactExports.Children.only(a.children),{getTriggerProps:$}=usePopoverContext();return reactExports.cloneElement(_,$(_.props,_.ref))}PopoverTrigger.displayName="PopoverTrigger";var TRIGGER={click:"click",hover:"hover"};function usePopover(a={}){const{closeOnBlur:_=!0,closeOnEsc:$=!0,initialFocusRef:j,id:et,returnFocusOnClose:tt=!0,autoFocus:rt=!0,arrowSize:nt,arrowShadowColor:it,trigger:st=TRIGGER.click,openDelay:ot=200,closeDelay:at=200,isLazy:ut,lazyBehavior:ht="unmount",computePositionOnMount:yt,...wt}=a,{isOpen:Ct,onClose:Pt,onOpen:Tt,onToggle:Mt}=useDisclosure(a),Lt=reactExports.useRef(null),Dt=reactExports.useRef(null),Ut=reactExports.useRef(null),Ot=reactExports.useRef(!1),It=reactExports.useRef(!1);Ct&&(It.current=!0);const[Bt,Ft]=reactExports.useState(!1),[jt,bt]=reactExports.useState(!1),vt=reactExports.useId(),ct=et??vt,[dt,mt,xt,At]=["popover-trigger","popover-content","popover-header","popover-body"].map(pr=>`${pr}-${ct}`),{referenceRef:Rt,getArrowProps:St,getPopperProps:$t,getArrowInnerProps:Et,forceUpdate:Nt}=usePopper({...wt,enabled:Ct||!!yt}),tr=useAnimationState({isOpen:Ct,ref:Ut});useFocusOnPointerDown({enabled:Ct,ref:Dt}),useFocusOnHide(Ut,{focusRef:Dt,visible:Ct,shouldFocus:tt&&st===TRIGGER.click}),useFocusOnShow(Ut,{focusRef:j,visible:Ct,shouldFocus:rt&&st===TRIGGER.click});const ir=lazyDisclosure({wasSelected:It.current,enabled:ut,mode:ht,isSelected:tr.present}),nr=reactExports.useCallback((pr={},Cr=null)=>{const Mr={...pr,style:{...pr.style,transformOrigin:cssVars.transformOrigin.varRef,[cssVars.arrowSize.var]:nt?`${nt}px`:void 0,[cssVars.arrowShadowColor.var]:it},ref:mergeRefs(Ut,Cr),children:ir?pr.children:null,id:mt,tabIndex:-1,role:"dialog",onKeyDown:callAllHandlers$1(pr.onKeyDown,lr=>{$&&lr.key==="Escape"&&Pt()}),onBlur:callAllHandlers$1(pr.onBlur,lr=>{const fr=getRelatedTarget(lr),_r=contains(Ut.current,fr),Rr=contains(Dt.current,fr);Ct&&_&&(!_r&&!Rr)&&Pt()}),"aria-labelledby":Bt?xt:void 0,"aria-describedby":jt?At:void 0};return st===TRIGGER.hover&&(Mr.role="tooltip",Mr.onMouseEnter=callAllHandlers$1(pr.onMouseEnter,()=>{Ot.current=!0}),Mr.onMouseLeave=callAllHandlers$1(pr.onMouseLeave,lr=>{lr.nativeEvent.relatedTarget!==null&&(Ot.current=!1,setTimeout(()=>Pt(),at))})),Mr},[ir,mt,Bt,xt,jt,At,st,$,Pt,Ct,_,at,it,nt]),Zt=reactExports.useCallback((pr={},Cr=null)=>$t({...pr,style:{visibility:Ct?"visible":"hidden",...pr.style}},Cr),[Ct,$t]),Kt=reactExports.useCallback((pr,Cr=null)=>({...pr,ref:mergeRefs(Cr,Lt,Rt)}),[Lt,Rt]),Qt=reactExports.useRef(),Ht=reactExports.useRef(),qt=reactExports.useCallback(pr=>{Lt.current==null&&Rt(pr)},[Rt]),Jt=reactExports.useCallback((pr={},Cr=null)=>{const Mr={...pr,ref:mergeRefs(Dt,Cr,qt),id:dt,"aria-haspopup":"dialog","aria-expanded":Ct,"aria-controls":mt};return st===TRIGGER.click&&(Mr.onClick=callAllHandlers$1(pr.onClick,Mt)),st===TRIGGER.hover&&(Mr.onFocus=callAllHandlers$1(pr.onFocus,()=>{Qt.current===void 0&&Tt()}),Mr.onBlur=callAllHandlers$1(pr.onBlur,lr=>{const fr=getRelatedTarget(lr),_r=!contains(Ut.current,fr);Ct&&_&&_r&&Pt()}),Mr.onKeyDown=callAllHandlers$1(pr.onKeyDown,lr=>{lr.key==="Escape"&&Pt()}),Mr.onMouseEnter=callAllHandlers$1(pr.onMouseEnter,()=>{Ot.current=!0,Qt.current=window.setTimeout(()=>Tt(),ot)}),Mr.onMouseLeave=callAllHandlers$1(pr.onMouseLeave,()=>{Ot.current=!1,Qt.current&&(clearTimeout(Qt.current),Qt.current=void 0),Ht.current=window.setTimeout(()=>{Ot.current===!1&&Pt()},at)})),Mr},[dt,Ct,mt,st,qt,Mt,Tt,_,Pt,ot,at]);reactExports.useEffect(()=>()=>{Qt.current&&clearTimeout(Qt.current),Ht.current&&clearTimeout(Ht.current)},[]);const ur=reactExports.useCallback((pr={},Cr=null)=>({...pr,id:xt,ref:mergeRefs(Cr,Mr=>{Ft(!!Mr)})}),[xt]),xr=reactExports.useCallback((pr={},Cr=null)=>({...pr,id:At,ref:mergeRefs(Cr,Mr=>{bt(!!Mr)})}),[At]);return{forceUpdate:Nt,isOpen:Ct,onAnimationComplete:tr.onComplete,onClose:Pt,getAnchorProps:Kt,getArrowProps:St,getArrowInnerProps:Et,getPopoverPositionerProps:Zt,getPopoverProps:nr,getTriggerProps:Jt,getHeaderProps:ur,getBodyProps:xr}}function contains(a,_){return a===_||(a==null?void 0:a.contains(_))}function getRelatedTarget(a){var _;const $=a.currentTarget.ownerDocument.activeElement;return(_=a.relatedTarget)!=null?_:$}function Popover(a){const _=useMultiStyleConfig("Popover",a),{children:$,...j}=omitThemingProps(a),et=useTheme(),tt=usePopover({...j,direction:et.direction});return jsxRuntimeExports.jsx(PopoverProvider,{value:tt,children:jsxRuntimeExports.jsx(PopoverStylesProvider,{value:_,children:runIfFn$2($,{isOpen:tt.isOpen,onClose:tt.onClose,forceUpdate:tt.forceUpdate})})})}Popover.displayName="Popover";var resolveVar=(a,_)=>_?`${a}.${_}, ${_}`:void 0;function PopoverArrow(a){var _;const{bg:$,bgColor:j,backgroundColor:et,shadow:tt,boxShadow:rt,shadowColor:nt}=a,{getArrowProps:it,getArrowInnerProps:st}=usePopoverContext(),ot=usePopoverStyles(),at=(_=$??j)!=null?_:et,ut=tt??rt;return jsxRuntimeExports.jsx(chakra.div,{...it(),className:"chakra-popover__arrow-positioner",children:jsxRuntimeExports.jsx(chakra.div,{className:cx("chakra-popover__arrow",a.className),...st(a),__css:{"--popper-arrow-shadow-color":resolveVar("colors",nt),"--popper-arrow-bg":resolveVar("colors",at),"--popper-arrow-shadow":resolveVar("shadows",ut),...ot.arrow}})})}PopoverArrow.displayName="PopoverArrow";var PopoverBody=forwardRef(function(_,$){const{getBodyProps:j}=usePopoverContext(),et=usePopoverStyles();return jsxRuntimeExports.jsx(chakra.div,{...j(_,$),className:cx("chakra-popover__body",_.className),__css:et.body})});PopoverBody.displayName="PopoverBody";function mergeVariants(a){if(a)return{enter:{...a.enter,visibility:"visible"},exit:{...a.exit,transitionEnd:{visibility:"hidden"}}}}var scaleFade={exit:{opacity:0,scale:.95,transition:{duration:.1,ease:[.4,0,1,1]}},enter:{scale:1,opacity:1,transition:{duration:.15,ease:[0,0,.2,1]}}},MotionSection=chakra(motion.section),PopoverTransition=forwardRef(function(_,$){const{variants:j=scaleFade,...et}=_,{isOpen:tt}=usePopoverContext();return jsxRuntimeExports.jsx(MotionSection,{ref:$,variants:mergeVariants(j),initial:!1,animate:tt?"enter":"exit",...et})});PopoverTransition.displayName="PopoverTransition";var PopoverContent=forwardRef(function(_,$){const{rootProps:j,motionProps:et,...tt}=_,{getPopoverProps:rt,getPopoverPositionerProps:nt,onAnimationComplete:it}=usePopoverContext(),st=usePopoverStyles(),ot={position:"relative",display:"flex",flexDirection:"column",...st.content};return jsxRuntimeExports.jsx(chakra.div,{...nt(j),__css:st.popper,className:"chakra-popover__popper",children:jsxRuntimeExports.jsx(PopoverTransition,{...et,...rt(tt,$),onAnimationComplete:callAll(it,tt.onAnimationComplete),className:cx("chakra-popover__content",_.className),__css:ot})})});PopoverContent.displayName="PopoverContent";function isInputEvent(a){return a&&isObject$5(a)&&isObject$5(a.target)}function useRadioGroup(a={}){const{onChange:_,value:$,defaultValue:j,name:et,isDisabled:tt,isFocusable:rt,isNative:nt,...it}=a,[st,ot]=reactExports.useState(j||""),at=typeof $<"u",ut=at?$:st,ht=reactExports.useRef(null),yt=reactExports.useCallback(()=>{const Dt=ht.current;if(!Dt)return;let Ut="input:not(:disabled):checked";const Ot=Dt.querySelector(Ut);if(Ot){Ot.focus();return}Ut="input:not(:disabled)";const It=Dt.querySelector(Ut);It==null||It.focus()},[]),Ct=`radio-${reactExports.useId()}`,Pt=et||Ct,Tt=reactExports.useCallback(Dt=>{const Ut=isInputEvent(Dt)?Dt.target.value:Dt;at||ot(Ut),_==null||_(String(Ut))},[_,at]),Mt=reactExports.useCallback((Dt={},Ut=null)=>({...Dt,ref:mergeRefs(Ut,ht),role:"radiogroup"}),[]),Lt=reactExports.useCallback((Dt={},Ut=null)=>({...Dt,ref:Ut,name:Pt,[nt?"checked":"isChecked"]:ut!=null?Dt.value===ut:void 0,onChange(It){Tt(It)},"data-radiogroup":!0}),[nt,Pt,Tt,ut]);return{getRootProps:Mt,getRadioProps:Lt,name:Pt,ref:ht,focus:yt,setValue:ot,value:ut,onChange:Tt,isDisabled:tt,isFocusable:rt,htmlProps:it}}var[RadioGroupProvider,useRadioGroupContext]=createContext$1({name:"RadioGroupContext",strict:!1}),RadioGroup=forwardRef((a,_)=>{const{colorScheme:$,size:j,variant:et,children:tt,className:rt,isDisabled:nt,isFocusable:it,...st}=a,{value:ot,onChange:at,getRootProps:ut,name:ht,htmlProps:yt}=useRadioGroup(st),wt=reactExports.useMemo(()=>({name:ht,size:j,onChange:at,colorScheme:$,value:ot,variant:et,isDisabled:nt,isFocusable:it}),[ht,j,at,$,ot,et,nt,it]);return jsxRuntimeExports.jsx(RadioGroupProvider,{value:wt,children:jsxRuntimeExports.jsx(chakra.div,{...ut(yt,_),className:cx("chakra-radio-group",rt),children:tt})})});RadioGroup.displayName="RadioGroup";var visuallyHiddenStyle={border:"0",clip:"rect(0, 0, 0, 0)",height:"1px",width:"1px",margin:"-1px",padding:"0",overflow:"hidden",whiteSpace:"nowrap",position:"absolute"};function useRadio(a={}){const{defaultChecked:_,isChecked:$,isFocusable:j,isDisabled:et,isReadOnly:tt,isRequired:rt,onChange:nt,isInvalid:it,name:st,value:ot,id:at,"data-radiogroup":ut,"aria-describedby":ht,...yt}=a,wt=`radio-${reactExports.useId()}`,Ct=useFormControlContext(),Tt=!!useRadioGroupContext()||!!ut;let Lt=!!Ct&&!Tt?Ct.id:wt;Lt=at??Lt;const Dt=et??(Ct==null?void 0:Ct.isDisabled),Ut=tt??(Ct==null?void 0:Ct.isReadOnly),Ot=rt??(Ct==null?void 0:Ct.isRequired),It=it??(Ct==null?void 0:Ct.isInvalid),[Bt,Ft]=reactExports.useState(!1),[jt,bt]=reactExports.useState(!1),[vt,ct]=reactExports.useState(!1),[dt,mt]=reactExports.useState(!1),[xt,At]=reactExports.useState(!!_),Rt=typeof $<"u",St=Rt?$:xt;reactExports.useEffect(()=>trackFocusVisible(Ft),[]);const $t=reactExports.useCallback(qt=>{if(Ut||Dt){qt.preventDefault();return}Rt||At(qt.target.checked),nt==null||nt(qt)},[Rt,Dt,Ut,nt]),Et=reactExports.useCallback(qt=>{qt.key===" "&&mt(!0)},[mt]),Nt=reactExports.useCallback(qt=>{qt.key===" "&&mt(!1)},[mt]),tr=reactExports.useCallback((qt={},Jt=null)=>({...qt,ref:Jt,"data-active":dataAttr(dt),"data-hover":dataAttr(vt),"data-disabled":dataAttr(Dt),"data-invalid":dataAttr(It),"data-checked":dataAttr(St),"data-focus":dataAttr(jt),"data-focus-visible":dataAttr(jt&&Bt),"data-readonly":dataAttr(Ut),"aria-hidden":!0,onMouseDown:callAllHandlers$1(qt.onMouseDown,()=>mt(!0)),onMouseUp:callAllHandlers$1(qt.onMouseUp,()=>mt(!1)),onMouseEnter:callAllHandlers$1(qt.onMouseEnter,()=>ct(!0)),onMouseLeave:callAllHandlers$1(qt.onMouseLeave,()=>ct(!1))}),[dt,vt,Dt,It,St,jt,Ut,Bt]),{onFocus:ir,onBlur:nr}=Ct??{},Zt=reactExports.useCallback((qt={},Jt=null)=>{const ur=Dt&&!j;return{...qt,id:Lt,ref:Jt,type:"radio",name:st,value:ot,onChange:callAllHandlers$1(qt.onChange,$t),onBlur:callAllHandlers$1(nr,qt.onBlur,()=>bt(!1)),onFocus:callAllHandlers$1(ir,qt.onFocus,()=>bt(!0)),onKeyDown:callAllHandlers$1(qt.onKeyDown,Et),onKeyUp:callAllHandlers$1(qt.onKeyUp,Nt),checked:St,disabled:ur,readOnly:Ut,required:Ot,"aria-invalid":ariaAttr(It),"aria-disabled":ariaAttr(ur),"aria-required":ariaAttr(Ot),"data-readonly":dataAttr(Ut),"aria-describedby":ht,style:visuallyHiddenStyle}},[Dt,j,Lt,st,ot,$t,nr,ir,Et,Nt,St,Ut,Ot,It,ht]);return{state:{isInvalid:It,isFocused:jt,isChecked:St,isActive:dt,isHovered:vt,isDisabled:Dt,isReadOnly:Ut,isRequired:Ot},getCheckboxProps:tr,getRadioProps:tr,getInputProps:Zt,getLabelProps:(qt={},Jt=null)=>({...qt,ref:Jt,onMouseDown:callAllHandlers$1(qt.onMouseDown,stopEvent),"data-disabled":dataAttr(Dt),"data-checked":dataAttr(St),"data-invalid":dataAttr(It)}),getRootProps:(qt,Jt=null)=>({...qt,ref:Jt,"data-disabled":dataAttr(Dt),"data-checked":dataAttr(St),"data-invalid":dataAttr(It)}),htmlProps:yt}}function stopEvent(a){a.preventDefault(),a.stopPropagation()}function split$1(a,_){const $={},j={};for(const[et,tt]of Object.entries(a))_.includes(et)?$[et]=tt:j[et]=tt;return[$,j]}var Radio=forwardRef((a,_)=>{var $;const j=useRadioGroupContext(),{onChange:et,value:tt}=a,rt=useMultiStyleConfig("Radio",{...j,...a}),nt=omitThemingProps(a),{spacing:it="0.5rem",children:st,isDisabled:ot=j==null?void 0:j.isDisabled,isFocusable:at=j==null?void 0:j.isFocusable,inputProps:ut,...ht}=nt;let yt=a.isChecked;(j==null?void 0:j.value)!=null&&tt!=null&&(yt=j.value===tt);let wt=et;j!=null&&j.onChange&&tt!=null&&(wt=callAll(j.onChange,et));const Ct=($=a==null?void 0:a.name)!=null?$:j==null?void 0:j.name,{getInputProps:Pt,getCheckboxProps:Tt,getLabelProps:Mt,getRootProps:Lt,htmlProps:Dt}=useRadio({...ht,isChecked:yt,isFocusable:at,isDisabled:ot,onChange:wt,name:Ct}),[Ut,Ot]=split$1(Dt,layoutPropNames),It=Tt(Ot),Bt=Pt(ut,_),Ft=Mt(),jt=Object.assign({},Ut,Lt()),bt={display:"inline-flex",alignItems:"center",verticalAlign:"top",cursor:"pointer",position:"relative",...rt.container},vt={display:"inline-flex",alignItems:"center",justifyContent:"center",flexShrink:0,...rt.control},ct={userSelect:"none",marginStart:it,...rt.label};return jsxRuntimeExports.jsxs(chakra.label,{className:"chakra-radio",...jt,__css:bt,children:[jsxRuntimeExports.jsx("input",{className:"chakra-radio__input",...Bt}),jsxRuntimeExports.jsx(chakra.span,{className:"chakra-radio__control",...It,__css:vt}),st&&jsxRuntimeExports.jsx(chakra.span,{className:"chakra-radio__label",...Ft,__css:ct,children:st})]})});Radio.displayName="Radio";var SelectField=forwardRef(function(_,$){const{children:j,placeholder:et,className:tt,...rt}=_;return jsxRuntimeExports.jsxs(chakra.select,{...rt,ref:$,className:cx("chakra-select",tt),children:[et&&jsxRuntimeExports.jsx("option",{value:"",children:et}),j]})});SelectField.displayName="SelectField";function split(a,_){const $={},j={};for(const[et,tt]of Object.entries(a))_.includes(et)?$[et]=tt:j[et]=tt;return[$,j]}var Select$1=forwardRef((a,_)=>{var $;const j=useMultiStyleConfig("Select",a),{rootProps:et,placeholder:tt,icon:rt,color:nt,height:it,h:st,minH:ot,minHeight:at,iconColor:ut,iconSize:ht,...yt}=omitThemingProps(a),[wt,Ct]=split(yt,layoutPropNames),Pt=useFormControl(Ct),Tt={width:"100%",height:"fit-content",position:"relative",color:nt},Mt={paddingEnd:"2rem",...j.field,_focus:{zIndex:"unset",...($=j.field)==null?void 0:$._focus}};return jsxRuntimeExports.jsxs(chakra.div,{className:"chakra-select__wrapper",__css:Tt,...wt,...et,children:[jsxRuntimeExports.jsx(SelectField,{ref:_,height:st??it,minH:ot??at,placeholder:tt,...Pt,__css:Mt,children:a.children}),jsxRuntimeExports.jsx(SelectIcon,{"data-disabled":dataAttr(Pt.disabled),...(ut||nt)&&{color:ut||nt},__css:j.icon,...ht&&{fontSize:ht},children:rt})]})});Select$1.displayName="Select";var DefaultIcon=a=>jsxRuntimeExports.jsx("svg",{viewBox:"0 0 24 24",...a,children:jsxRuntimeExports.jsx("path",{fill:"currentColor",d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"})}),IconWrapper=chakra("div",{baseStyle:{position:"absolute",display:"inline-flex",alignItems:"center",justifyContent:"center",pointerEvents:"none",top:"50%",transform:"translateY(-50%)"}}),SelectIcon=a=>{const{children:_=jsxRuntimeExports.jsx(DefaultIcon,{}),...$}=a,j=reactExports.cloneElement(_,{role:"presentation",className:"chakra-select__icon",focusable:!1,"aria-hidden":!0,style:{width:"1em",height:"1em",color:"currentColor"}});return jsxRuntimeExports.jsx(IconWrapper,{...$,className:"chakra-select__icon-wrapper",children:reactExports.isValidElement(_)?j:null})};SelectIcon.displayName="SelectIcon";var Switch=forwardRef(function(_,$){const j=useMultiStyleConfig("Switch",_),{spacing:et="0.5rem",children:tt,...rt}=omitThemingProps(_),{getIndicatorProps:nt,getInputProps:it,getCheckboxProps:st,getRootProps:ot,getLabelProps:at}=useCheckbox(rt),ut=reactExports.useMemo(()=>({display:"inline-block",position:"relative",verticalAlign:"middle",lineHeight:0,...j.container}),[j.container]),ht=reactExports.useMemo(()=>({display:"inline-flex",flexShrink:0,justifyContent:"flex-start",boxSizing:"content-box",cursor:"pointer",...j.track}),[j.track]),yt=reactExports.useMemo(()=>({userSelect:"none",marginStart:et,...j.label}),[et,j.label]);return jsxRuntimeExports.jsxs(chakra.label,{...ot(),className:cx("chakra-switch",_.className),__css:ut,children:[jsxRuntimeExports.jsx("input",{className:"chakra-switch__input",...it({},$)}),jsxRuntimeExports.jsx(chakra.span,{...st(),className:"chakra-switch__track",__css:ht,children:jsxRuntimeExports.jsx(chakra.span,{__css:j.thumb,className:"chakra-switch__thumb",...nt()})}),tt&&jsxRuntimeExports.jsx(chakra.span,{className:"chakra-switch__label",...at(),__css:yt,children:tt})]})});Switch.displayName="Switch";var[TableStylesProvider,useTableStyles]=createContext$1({name:"TableStylesContext",errorMessage:`useTableStyles returned is 'undefined'. Seems you forgot to wrap the components in "<Table />" `}),Table=forwardRef((a,_)=>{const $=useMultiStyleConfig("Table",a),{className:j,layout:et,...tt}=omitThemingProps(a);return jsxRuntimeExports.jsx(TableStylesProvider,{value:$,children:jsxRuntimeExports.jsx(chakra.table,{ref:_,__css:{tableLayout:et,...$.table},className:cx("chakra-table",j),...tt})})});Table.displayName="Table";var Tr=forwardRef((a,_)=>{const $=useTableStyles();return jsxRuntimeExports.jsx(chakra.tr,{...a,ref:_,__css:$.tr})}),TableContainer=forwardRef((a,_)=>{var $;const{overflow:j,overflowX:et,className:tt,...rt}=a;return jsxRuntimeExports.jsx(chakra.div,{ref:_,className:cx("chakra-table__container",tt),...rt,__css:{display:"block",whiteSpace:"nowrap",WebkitOverflowScrolling:"touch",overflowX:($=j??et)!=null?$:"auto",overflowY:"hidden",maxWidth:"100%"}})}),Tbody=forwardRef((a,_)=>{const $=useTableStyles();return jsxRuntimeExports.jsx(chakra.tbody,{...a,ref:_,__css:$.tbody})}),Td=forwardRef(({isNumeric:a,..._},$)=>{const j=useTableStyles();return jsxRuntimeExports.jsx(chakra.td,{..._,ref:$,__css:j.td,"data-is-numeric":a})}),[TabsDescendantsProvider,useTabsDescendantsContext,useTabsDescendants,useTabsDescendant]=createDescendantContext();function useTabs(a){var _;const{defaultIndex:$,onChange:j,index:et,isManual:tt,isLazy:rt,lazyBehavior:nt="unmount",orientation:it="horizontal",direction:st="ltr",...ot}=a,[at,ut]=reactExports.useState($??0),[ht,yt]=useControllableState({defaultValue:$??0,value:et,onChange:j});reactExports.useEffect(()=>{et!=null&&ut(et)},[et]);const wt=useTabsDescendants(),Ct=reactExports.useId();return{id:`tabs-${(_=a.id)!=null?_:Ct}`,selectedIndex:ht,focusedIndex:at,setSelectedIndex:yt,setFocusedIndex:ut,isManual:tt,isLazy:rt,lazyBehavior:nt,orientation:it,descendants:wt,direction:st,htmlProps:ot}}var[TabsProvider,useTabsContext]=createContext$1({name:"TabsContext",errorMessage:"useTabsContext: `context` is undefined. Seems you forgot to wrap all tabs components within <Tabs />"});function useTabList(a){const{focusedIndex:_,orientation:$,direction:j}=useTabsContext(),et=useTabsDescendantsContext(),tt=reactExports.useCallback(rt=>{const nt=()=>{var Tt;const Mt=et.nextEnabled(_);Mt&&((Tt=Mt.node)==null||Tt.focus())},it=()=>{var Tt;const Mt=et.prevEnabled(_);Mt&&((Tt=Mt.node)==null||Tt.focus())},st=()=>{var Tt;const Mt=et.firstEnabled();Mt&&((Tt=Mt.node)==null||Tt.focus())},ot=()=>{var Tt;const Mt=et.lastEnabled();Mt&&((Tt=Mt.node)==null||Tt.focus())},at=$==="horizontal",ut=$==="vertical",ht=rt.key,yt=j==="ltr"?"ArrowLeft":"ArrowRight",wt=j==="ltr"?"ArrowRight":"ArrowLeft",Pt={[yt]:()=>at&&it(),[wt]:()=>at&&nt(),ArrowDown:()=>ut&&nt(),ArrowUp:()=>ut&&it(),Home:st,End:ot}[ht];Pt&&(rt.preventDefault(),Pt(rt))},[et,_,$,j]);return{...a,role:"tablist","aria-orientation":$,onKeyDown:callAllHandlers$1(a.onKeyDown,tt)}}function useTab(a){const{isDisabled:_=!1,isFocusable:$=!1,...j}=a,{setSelectedIndex:et,isManual:tt,id:rt,setFocusedIndex:nt,selectedIndex:it}=useTabsContext(),{index:st,register:ot}=useTabsDescendant({disabled:_&&!$}),at=st===it,ut=()=>{et(st)},ht=()=>{nt(st),!tt&&!(_&&$)&&et(st)};return{...useClickable({...j,ref:mergeRefs(ot,a.ref),isDisabled:_,isFocusable:$,onClick:callAllHandlers$1(a.onClick,ut)}),id:makeTabId(rt,st),role:"tab",tabIndex:at?0:-1,type:"button","aria-selected":at,"aria-controls":makeTabPanelId(rt,st),onFocus:_?void 0:callAllHandlers$1(a.onFocus,ht)}}var[TabPanelProvider,useTabPanelContext]=createContext$1({});function useTabPanels(a){const _=useTabsContext(),{id:$,selectedIndex:j}=_,tt=getValidChildren(a.children).map((rt,nt)=>reactExports.createElement(TabPanelProvider,{key:nt,value:{isSelected:nt===j,id:makeTabPanelId($,nt),tabId:makeTabId($,nt),selectedIndex:j}},rt));return{...a,children:tt}}function useTabPanel(a){const{children:_,...$}=a,{isLazy:j,lazyBehavior:et}=useTabsContext(),{isSelected:tt,id:rt,tabId:nt}=useTabPanelContext(),it=reactExports.useRef(!1);tt&&(it.current=!0);const st=lazyDisclosure({wasSelected:it.current,isSelected:tt,enabled:j,mode:et});return{tabIndex:0,...$,children:st?_:null,role:"tabpanel","aria-labelledby":nt,hidden:!tt,id:rt}}function makeTabId(a,_){return`${a}--tab-${_}`}function makeTabPanelId(a,_){return`${a}--tabpanel-${_}`}var[TabsStylesProvider,useTabsStyles]=createContext$1({name:"TabsStylesContext",errorMessage:`useTabsStyles returned is 'undefined'. Seems you forgot to wrap the components in "<Tabs />" `}),Tabs=forwardRef(function(_,$){const j=useMultiStyleConfig("Tabs",_),{children:et,className:tt,...rt}=omitThemingProps(_),{htmlProps:nt,descendants:it,...st}=useTabs(rt),ot=reactExports.useMemo(()=>st,[st]),{isFitted:at,...ut}=nt,ht={position:"relative",...j.root};return jsxRuntimeExports.jsx(TabsDescendantsProvider,{value:it,children:jsxRuntimeExports.jsx(TabsProvider,{value:ot,children:jsxRuntimeExports.jsx(TabsStylesProvider,{value:j,children:jsxRuntimeExports.jsx(chakra.div,{className:cx("chakra-tabs",tt),ref:$,...ut,__css:ht,children:et})})})})});Tabs.displayName="Tabs";var TabList=forwardRef(function(_,$){const j=useTabList({..._,ref:$}),tt={display:"flex",...useTabsStyles().tablist};return jsxRuntimeExports.jsx(chakra.div,{...j,className:cx("chakra-tabs__tablist",_.className),__css:tt})});TabList.displayName="TabList";var TabPanel=forwardRef(function(_,$){const j=useTabPanel({..._,ref:$}),et=useTabsStyles();return jsxRuntimeExports.jsx(chakra.div,{outline:"0",...j,className:cx("chakra-tabs__tab-panel",_.className),__css:et.tabpanel})});TabPanel.displayName="TabPanel";var TabPanels=forwardRef(function(_,$){const j=useTabPanels(_),et=useTabsStyles();return jsxRuntimeExports.jsx(chakra.div,{...j,width:"100%",ref:$,className:cx("chakra-tabs__tab-panels",_.className),__css:et.tabpanels})});TabPanels.displayName="TabPanels";var Tab=forwardRef(function(_,$){const j=useTabsStyles(),et=useTab({..._,ref:$}),tt={outline:"0",display:"flex",alignItems:"center",justifyContent:"center",...j.tab};return jsxRuntimeExports.jsx(chakra.button,{...et,className:cx("chakra-tabs__tab",_.className),__css:tt})});Tab.displayName="Tab";function omit$2(a,_=[]){const $=Object.assign({},a);for(const j of _)j in $&&delete $[j];return $}var omitted=["h","minH","height","minHeight"],Textarea=forwardRef((a,_)=>{const $=useStyleConfig("Textarea",a),{className:j,rows:et,...tt}=omitThemingProps(a),rt=useFormControl(tt),nt=et?omit$2($,omitted):$;return jsxRuntimeExports.jsx(chakra.textarea,{ref:_,rows:et,...rt,className:cx("chakra-textarea",j),__css:nt})});Textarea.displayName="Textarea";var scale={exit:{scale:.85,opacity:0,transition:{opacity:{duration:.15,easings:"easeInOut"},scale:{duration:.2,easings:"easeInOut"}}},enter:{scale:1,opacity:1,transition:{opacity:{easings:"easeOut",duration:.2},scale:{duration:.2,ease:[.175,.885,.4,1.1]}}}},getDoc=a=>{var _;return((_=a.current)==null?void 0:_.ownerDocument)||document},getWin=a=>{var _,$;return(($=(_=a.current)==null?void 0:_.ownerDocument)==null?void 0:$.defaultView)||window};function useTooltip(a={}){const{openDelay:_=0,closeDelay:$=0,closeOnClick:j=!0,closeOnMouseDown:et,closeOnScroll:tt,closeOnPointerDown:rt=et,closeOnEsc:nt=!0,onOpen:it,onClose:st,placement:ot,id:at,isOpen:ut,defaultIsOpen:ht,arrowSize:yt=10,arrowShadowColor:wt,arrowPadding:Ct,modifiers:Pt,isDisabled:Tt,gutter:Mt,offset:Lt,direction:Dt,...Ut}=a,{isOpen:Ot,onOpen:It,onClose:Bt}=useDisclosure({isOpen:ut,defaultIsOpen:ht,onOpen:it,onClose:st}),{referenceRef:Ft,getPopperProps:jt,getArrowInnerProps:bt,getArrowProps:vt}=usePopper({enabled:Ot,placement:ot,arrowPadding:Ct,modifiers:Pt,gutter:Mt,offset:Lt,direction:Dt}),ct=reactExports.useId(),mt=`tooltip-${at??ct}`,xt=reactExports.useRef(null),At=reactExports.useRef(),Rt=reactExports.useCallback(()=>{At.current&&(clearTimeout(At.current),At.current=void 0)},[]),St=reactExports.useRef(),$t=reactExports.useCallback(()=>{St.current&&(clearTimeout(St.current),St.current=void 0)},[]),Et=reactExports.useCallback(()=>{$t(),Bt()},[Bt,$t]),Nt=useCloseEvent(xt,Et),tr=reactExports.useCallback(()=>{if(!Tt&&!At.current){Ot&&Nt();const Jt=getWin(xt);At.current=Jt.setTimeout(It,_)}},[Nt,Tt,Ot,It,_]),ir=reactExports.useCallback(()=>{Rt();const Jt=getWin(xt);St.current=Jt.setTimeout(Et,$)},[$,Et,Rt]),nr=reactExports.useCallback(()=>{Ot&&j&&ir()},[j,ir,Ot]),Zt=reactExports.useCallback(()=>{Ot&&rt&&ir()},[rt,ir,Ot]),Kt=reactExports.useCallback(Jt=>{Ot&&Jt.key==="Escape"&&ir()},[Ot,ir]);useEventListener(()=>getDoc(xt),"keydown",nt?Kt:void 0),useEventListener(()=>{if(!tt)return null;const Jt=xt.current;if(!Jt)return null;const ur=getScrollParent$1(Jt);return ur.localName==="body"?getWin(xt):ur},"scroll",()=>{Ot&&tt&&Et()},{passive:!0,capture:!0}),reactExports.useEffect(()=>{Tt&&(Rt(),Ot&&Bt())},[Tt,Ot,Bt,Rt]),reactExports.useEffect(()=>()=>{Rt(),$t()},[Rt,$t]),useEventListener(()=>xt.current,"pointerleave",ir);const Qt=reactExports.useCallback((Jt={},ur=null)=>({...Jt,ref:mergeRefs(xt,ur,Ft),onPointerEnter:callAllHandlers$1(Jt.onPointerEnter,pr=>{pr.pointerType!=="touch"&&tr()}),onClick:callAllHandlers$1(Jt.onClick,nr),onPointerDown:callAllHandlers$1(Jt.onPointerDown,Zt),onFocus:callAllHandlers$1(Jt.onFocus,tr),onBlur:callAllHandlers$1(Jt.onBlur,ir),"aria-describedby":Ot?mt:void 0}),[tr,ir,Zt,Ot,mt,nr,Ft]),Ht=reactExports.useCallback((Jt={},ur=null)=>jt({...Jt,style:{...Jt.style,[cssVars.arrowSize.var]:yt?`${yt}px`:void 0,[cssVars.arrowShadowColor.var]:wt}},ur),[jt,yt,wt]),qt=reactExports.useCallback((Jt={},ur=null)=>{const xr={...Jt.style,position:"relative",transformOrigin:cssVars.transformOrigin.varRef};return{ref:ur,...Ut,...Jt,id:mt,role:"tooltip",style:xr}},[Ut,mt]);return{isOpen:Ot,show:tr,hide:ir,getTriggerProps:Qt,getTooltipProps:qt,getTooltipPositionerProps:Ht,getArrowProps:vt,getArrowInnerProps:bt}}var closeEventName="chakra-ui:close-tooltip";function useCloseEvent(a,_){return reactExports.useEffect(()=>{const $=getDoc(a);return $.addEventListener(closeEventName,_),()=>$.removeEventListener(closeEventName,_)},[_,a]),()=>{const $=getDoc(a),j=getWin(a);$.dispatchEvent(new j.CustomEvent(closeEventName))}}function omit$1(a,_=[]){const $=Object.assign({},a);for(const j of _)j in $&&delete $[j];return $}function pick$1(a,_){const $={};for(const j of _)j in a&&($[j]=a[j]);return $}var MotionDiv=chakra(motion.div),Tooltip=forwardRef((a,_)=>{var $,j;const et=useStyleConfig("Tooltip",a),tt=omitThemingProps(a),rt=useTheme(),{children:nt,label:it,shouldWrapChildren:st,"aria-label":ot,hasArrow:at,bg:ut,portalProps:ht,background:yt,backgroundColor:wt,bgColor:Ct,motionProps:Pt,...Tt}=tt,Mt=(j=($=yt??wt)!=null?$:ut)!=null?j:Ct;if(Mt){et.bg=Mt;const jt=getCSSVar(rt,"colors",Mt);et[cssVars.arrowBg.var]=jt}const Lt=useTooltip({...Tt,direction:rt.direction}),Dt=typeof nt=="string"||st;let Ut;if(Dt)Ut=jsxRuntimeExports.jsx(chakra.span,{display:"inline-block",tabIndex:0,...Lt.getTriggerProps(),children:nt});else{const jt=reactExports.Children.only(nt);Ut=reactExports.cloneElement(jt,Lt.getTriggerProps(jt.props,jt.ref))}const Ot=!!ot,It=Lt.getTooltipProps({},_),Bt=Ot?omit$1(It,["role","id"]):It,Ft=pick$1(It,["role","id"]);return it?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[Ut,jsxRuntimeExports.jsx(AnimatePresence,{children:Lt.isOpen&&jsxRuntimeExports.jsx(Portal,{...ht,children:jsxRuntimeExports.jsx(chakra.div,{...Lt.getTooltipPositionerProps(),__css:{zIndex:et.zIndex,pointerEvents:"none"},children:jsxRuntimeExports.jsxs(MotionDiv,{variants:scale,initial:"exit",animate:"enter",exit:"exit",...Pt,...Bt,__css:et,children:[it,Ot&&jsxRuntimeExports.jsx(chakra.span,{srOnly:!0,...Ft,children:ot}),at&&jsxRuntimeExports.jsx(chakra.div,{"data-popper-arrow":!0,className:"chakra-tooltip__arrow-wrapper",children:jsxRuntimeExports.jsx(chakra.div,{"data-popper-arrow-inner":!0,className:"chakra-tooltip__arrow",__css:{bg:et.bg}})})]})})})})]}):jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:nt})});Tooltip.displayName="Tooltip";var lodash={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */lodash.exports;(function(a,_){(function(){var $,j="4.17.21",et=200,tt="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",rt="Expected a function",nt="Invalid `variable` option passed into `_.template`",it="__lodash_hash_undefined__",st=500,ot="__lodash_placeholder__",at=1,ut=2,ht=4,yt=1,wt=2,Ct=1,Pt=2,Tt=4,Mt=8,Lt=16,Dt=32,Ut=64,Ot=128,It=256,Bt=512,Ft=30,jt="...",bt=800,vt=16,ct=1,dt=2,mt=3,xt=1/0,At=9007199254740991,Rt=17976931348623157e292,St=NaN,$t=4294967295,Et=$t-1,Nt=$t>>>1,tr=[["ary",Ot],["bind",Ct],["bindKey",Pt],["curry",Mt],["curryRight",Lt],["flip",Bt],["partial",Dt],["partialRight",Ut],["rearg",It]],ir="[object Arguments]",nr="[object Array]",Zt="[object AsyncFunction]",Kt="[object Boolean]",Qt="[object Date]",Ht="[object DOMException]",qt="[object Error]",Jt="[object Function]",ur="[object GeneratorFunction]",xr="[object Map]",pr="[object Number]",Cr="[object Null]",Mr="[object Object]",lr="[object Promise]",fr="[object Proxy]",_r="[object RegExp]",Rr="[object Set]",kr="[object String]",Ar="[object Symbol]",Pr="[object Undefined]",Or="[object WeakMap]",Lr="[object WeakSet]",or="[object ArrayBuffer]",Yt="[object DataView]",er="[object Float32Array]",Gt="[object Float64Array]",Vt="[object Int8Array]",Wt="[object Int16Array]",ar="[object Int32Array]",yr="[object Uint8Array]",Er="[object Uint8ClampedArray]",Sr="[object Uint16Array]",Wr="[object Uint32Array]",Hr=/\b__p \+= '';/g,Fr=/\b(__p \+=) '' \+/g,pn=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Jr=/&(?:amp|lt|gt|quot|#39);/g,Qr=/[&<>"']/g,mn=RegExp(Jr.source),ln=RegExp(Qr.source),qr=/<%-([\s\S]+?)%>/g,En=/<%([\s\S]+?)%>/g,un=/<%=([\s\S]+?)%>/g,Vr=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,hn=/^\w*$/,fn=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Kr=/[\\^$.*+?()[\]{}|]/g,Rn=RegExp(Kr.source),dn=/^\s+/,Gr=/\s/,gn=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,an=/\{\n\/\* \[wrapped with (.+)\] \*/,Zr=/,? & /,An=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Sn=/[()=,{}\[\]\/\s]/,nn=/\\(\\)?/g,Pn=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,yn=/\w*$/,_n=/^[-+]0x[0-9a-f]+$/i,ds=/^0b[01]+$/i,fs=/^\[object .+?Constructor\]$/,hs=/^0o[0-7]+$/i,ps=/^(?:0|[1-9]\d*)$/,Vn=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ss=/($^)/,Jn=/['\n\r\u2028\u2029\\]/g,Yn="\\ud800-\\udfff",ms="\\u0300-\\u036f",Qn="\\ufe20-\\ufe2f",es="\\u20d0-\\u20ff",ls=ms+Qn+es,us="\\u2700-\\u27bf",Wn="a-z\\xdf-\\xf6\\xf8-\\xff",as="\\xac\\xb1\\xd7\\xf7",gs="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",vs="\\u2000-\\u206f",$s=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ts="A-Z\\xc0-\\xd6\\xd8-\\xde",yl="\\ufe0e\\ufe0f",Eo=as+gs+vs+$s,Wo="['’]",wo="["+Yn+"]",Go="["+Eo+"]",So="["+ls+"]",Zs="\\d+",Ro="["+us+"]",xl="["+Wn+"]",_l="[^"+Yn+Eo+Zs+us+Wn+Ts+"]",lo="\\ud83c[\\udffb-\\udfff]",Yl="(?:"+So+"|"+lo+")",El="[^"+Yn+"]",jo="(?:\\ud83c[\\udde6-\\uddff]){2}",Ys="[\\ud800-\\udbff][\\udc00-\\udfff]",Bs="["+Ts+"]",wl="\\u200d",Sl="(?:"+xl+"|"+_l+")",Ms="(?:"+Bs+"|"+_l+")",Rl="(?:"+Wo+"(?:d|ll|m|re|s|t|ve))?",Al="(?:"+Wo+"(?:D|LL|M|RE|S|T|VE))?",Tl=Yl+"?",Xs="["+yl+"]?",Ao="(?:"+wl+"(?:"+[El,jo,Ys].join("|")+")"+Xs+Tl+")*",Ls="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",uo="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",$l=Xs+Tl+Ao,fo="(?:"+[Ro,jo,Ys].join("|")+")"+$l,To="(?:"+[El+So+"?",So,jo,Ys,wo].join("|")+")",$o=RegExp(Wo,"g"),Ps=RegExp(So,"g"),Is=RegExp(lo+"(?="+lo+")|"+To+$l,"g"),Pl=RegExp([Bs+"?"+xl+"+"+Rl+"(?="+[Go,Bs,"$"].join("|")+")",Ms+"+"+Al+"(?="+[Go,Bs+Sl,"$"].join("|")+")",Bs+"?"+Sl+"+"+Rl,Bs+"+"+Al,uo,Ls,Zs,fo].join("|"),"g"),No=RegExp("["+wl+Yn+ls+yl+"]"),Po=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Bo=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Xl=-1,rs={};rs[er]=rs[Gt]=rs[Vt]=rs[Wt]=rs[ar]=rs[yr]=rs[Er]=rs[Sr]=rs[Wr]=!0,rs[ir]=rs[nr]=rs[or]=rs[Kt]=rs[Yt]=rs[Qt]=rs[qt]=rs[Jt]=rs[xr]=rs[pr]=rs[Mr]=rs[_r]=rs[Rr]=rs[kr]=rs[Or]=!1;var Xn={};Xn[ir]=Xn[nr]=Xn[or]=Xn[Yt]=Xn[Kt]=Xn[Qt]=Xn[er]=Xn[Gt]=Xn[Vt]=Xn[Wt]=Xn[ar]=Xn[xr]=Xn[pr]=Xn[Mr]=Xn[_r]=Xn[Rr]=Xn[kr]=Xn[Ar]=Xn[yr]=Xn[Er]=Xn[Sr]=Xn[Wr]=!0,Xn[qt]=Xn[Jt]=Xn[Or]=!1;var wr={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},Xt={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},cr={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},gr={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Dr=parseFloat,rn=parseInt,xn=typeof commonjsGlobal=="object"&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal,$n=typeof self=="object"&&self&&self.Object===Object&&self,cn=xn||$n||Function("return this")(),wn=_&&!_.nodeType&&_,Bn=wn&&!0&&a&&!a.nodeType&&a,Fn=Bn&&Bn.exports===wn,ts=Fn&&xn.process,_i=function(){try{var jr=Bn&&Bn.require&&Bn.require("util").types;return jr||ts&&ts.binding&&ts.binding("util")}catch{}}(),_s=_i&&_i.isArrayBuffer,Ds=_i&&_i.isDate,ho=_i&&_i.isMap,Lo=_i&&_i.isRegExp,zu=_i&&_i.isSet,Jl=_i&&_i.isTypedArray;function Os(jr,Yr,Ur){switch(Ur.length){case 0:return jr.call(Yr);case 1:return jr.call(Yr,Ur[0]);case 2:return jr.call(Yr,Ur[0],Ur[1]);case 3:return jr.call(Yr,Ur[0],Ur[1],Ur[2])}return jr.apply(Yr,Ur)}function Tv(jr,Yr,Ur,Cn){for(var Ln=-1,ns=jr==null?0:jr.length;++Ln<ns;){var Cs=jr[Ln];Yr(Cn,Cs,Ur(Cs),jr)}return Cn}function po(jr,Yr){for(var Ur=-1,Cn=jr==null?0:jr.length;++Ur<Cn&&Yr(jr[Ur],Ur,jr)!==!1;);return jr}function $v(jr,Yr){for(var Ur=jr==null?0:jr.length;Ur--&&Yr(jr[Ur],Ur,jr)!==!1;);return jr}function gm(jr,Yr){for(var Ur=-1,Cn=jr==null?0:jr.length;++Ur<Cn;)if(!Yr(jr[Ur],Ur,jr))return!1;return!0}function Cl(jr,Yr){for(var Ur=-1,Cn=jr==null?0:jr.length,Ln=0,ns=[];++Ur<Cn;){var Cs=jr[Ur];Yr(Cs,Ur,jr)&&(ns[Ln++]=Cs)}return ns}function vp(jr,Yr){var Ur=jr==null?0:jr.length;return!!Ur&&mu(jr,Yr,0)>-1}function i0(jr,Yr,Ur){for(var Cn=-1,Ln=jr==null?0:jr.length;++Cn<Ln;)if(Ur(Yr,jr[Cn]))return!0;return!1}function xs(jr,Yr){for(var Ur=-1,Cn=jr==null?0:jr.length,Ln=Array(Cn);++Ur<Cn;)Ln[Ur]=Yr(jr[Ur],Ur,jr);return Ln}function Ml(jr,Yr){for(var Ur=-1,Cn=Yr.length,Ln=jr.length;++Ur<Cn;)jr[Ln+Ur]=Yr[Ur];return jr}function s0(jr,Yr,Ur,Cn){var Ln=-1,ns=jr==null?0:jr.length;for(Cn&&ns&&(Ur=jr[++Ln]);++Ln<ns;)Ur=Yr(Ur,jr[Ln],Ln,jr);return Ur}function Pv(jr,Yr,Ur,Cn){var Ln=jr==null?0:jr.length;for(Cn&&Ln&&(Ur=jr[--Ln]);Ln--;)Ur=Yr(Ur,jr[Ln],Ln,jr);return Ur}function o0(jr,Yr){for(var Ur=-1,Cn=jr==null?0:jr.length;++Ur<Cn;)if(Yr(jr[Ur],Ur,jr))return!0;return!1}var Cv=a0("length");function kv(jr){return jr.split("")}function Mv(jr){return jr.match(An)||[]}function vm(jr,Yr,Ur){var Cn;return Ur(jr,function(Ln,ns,Cs){if(Yr(Ln,ns,Cs))return Cn=ns,!1}),Cn}function yp(jr,Yr,Ur,Cn){for(var Ln=jr.length,ns=Ur+(Cn?1:-1);Cn?ns--:++ns<Ln;)if(Yr(jr[ns],ns,jr))return ns;return-1}function mu(jr,Yr,Ur){return Yr===Yr?Vv(jr,Yr,Ur):yp(jr,ym,Ur)}function Iv(jr,Yr,Ur,Cn){for(var Ln=Ur-1,ns=jr.length;++Ln<ns;)if(Cn(jr[Ln],Yr))return Ln;return-1}function ym(jr){return jr!==jr}function bm(jr,Yr){var Ur=jr==null?0:jr.length;return Ur?l0(jr,Yr)/Ur:St}function a0(jr){return function(Yr){return Yr==null?$:Yr[jr]}}function c0(jr){return function(Yr){return jr==null?$:jr[Yr]}}function xm(jr,Yr,Ur,Cn,Ln){return Ln(jr,function(ns,Cs,ys){Ur=Cn?(Cn=!1,ns):Yr(Ur,ns,Cs,ys)}),Ur}function Ov(jr,Yr){var Ur=jr.length;for(jr.sort(Yr);Ur--;)jr[Ur]=jr[Ur].value;return jr}function l0(jr,Yr){for(var Ur,Cn=-1,Ln=jr.length;++Cn<Ln;){var ns=Yr(jr[Cn]);ns!==$&&(Ur=Ur===$?ns:Ur+ns)}return Ur}function u0(jr,Yr){for(var Ur=-1,Cn=Array(jr);++Ur<jr;)Cn[Ur]=Yr(Ur);return Cn}function jv(jr,Yr){return xs(Yr,function(Ur){return[Ur,jr[Ur]]})}function _m(jr){return jr&&jr.slice(0,Rm(jr)+1).replace(dn,"")}function no(jr){return function(Yr){return jr(Yr)}}function d0(jr,Yr){return xs(Yr,function(Ur){return jr[Ur]})}function Hu(jr,Yr){return jr.has(Yr)}function Em(jr,Yr){for(var Ur=-1,Cn=jr.length;++Ur<Cn&&mu(Yr,jr[Ur],0)>-1;);return Ur}function wm(jr,Yr){for(var Ur=jr.length;Ur--&&mu(Yr,jr[Ur],0)>-1;);return Ur}function Nv(jr,Yr){for(var Ur=jr.length,Cn=0;Ur--;)jr[Ur]===Yr&&++Cn;return Cn}var Bv=c0(wr),Lv=c0(Xt);function Dv(jr){return"\\"+gr[jr]}function Fv(jr,Yr){return jr==null?$:jr[Yr]}function gu(jr){return No.test(jr)}function Uv(jr){return Po.test(jr)}function zv(jr){for(var Yr,Ur=[];!(Yr=jr.next()).done;)Ur.push(Yr.value);return Ur}function f0(jr){var Yr=-1,Ur=Array(jr.size);return jr.forEach(function(Cn,Ln){Ur[++Yr]=[Ln,Cn]}),Ur}function Sm(jr,Yr){return function(Ur){return jr(Yr(Ur))}}function Il(jr,Yr){for(var Ur=-1,Cn=jr.length,Ln=0,ns=[];++Ur<Cn;){var Cs=jr[Ur];(Cs===Yr||Cs===ot)&&(jr[Ur]=ot,ns[Ln++]=Ur)}return ns}function bp(jr){var Yr=-1,Ur=Array(jr.size);return jr.forEach(function(Cn){Ur[++Yr]=Cn}),Ur}function Hv(jr){var Yr=-1,Ur=Array(jr.size);return jr.forEach(function(Cn){Ur[++Yr]=[Cn,Cn]}),Ur}function Vv(jr,Yr,Ur){for(var Cn=Ur-1,Ln=jr.length;++Cn<Ln;)if(jr[Cn]===Yr)return Cn;return-1}function qv(jr,Yr,Ur){for(var Cn=Ur+1;Cn--;)if(jr[Cn]===Yr)return Cn;return Cn}function vu(jr){return gu(jr)?Wv(jr):Cv(jr)}function Co(jr){return gu(jr)?Gv(jr):kv(jr)}function Rm(jr){for(var Yr=jr.length;Yr--&&Gr.test(jr.charAt(Yr)););return Yr}var Kv=c0(cr);function Wv(jr){for(var Yr=Is.lastIndex=0;Is.test(jr);)++Yr;return Yr}function Gv(jr){return jr.match(Is)||[]}function Zv(jr){return jr.match(Pl)||[]}var Yv=function jr(Yr){Yr=Yr==null?cn:yu.defaults(cn.Object(),Yr,yu.pick(cn,Bo));var Ur=Yr.Array,Cn=Yr.Date,Ln=Yr.Error,ns=Yr.Function,Cs=Yr.Math,ys=Yr.Object,h0=Yr.RegExp,Xv=Yr.String,mo=Yr.TypeError,xp=Ur.prototype,Jv=ns.prototype,bu=ys.prototype,_p=Yr["__core-js_shared__"],Ep=Jv.toString,cs=bu.hasOwnProperty,Qv=0,Am=function(){var _t=/[^.]+$/.exec(_p&&_p.keys&&_p.keys.IE_PROTO||"");return _t?"Symbol(src)_1."+_t:""}(),wp=bu.toString,ey=Ep.call(ys),ty=cn._,ry=h0("^"+Ep.call(cs).replace(Kr,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Sp=Fn?Yr.Buffer:$,Ol=Yr.Symbol,Rp=Yr.Uint8Array,Tm=Sp?Sp.allocUnsafe:$,Ap=Sm(ys.getPrototypeOf,ys),$m=ys.create,Pm=bu.propertyIsEnumerable,Tp=xp.splice,Cm=Ol?Ol.isConcatSpreadable:$,Vu=Ol?Ol.iterator:$,Ql=Ol?Ol.toStringTag:$,$p=function(){try{var _t=iu(ys,"defineProperty");return _t({},"",{}),_t}catch{}}(),ny=Yr.clearTimeout!==cn.clearTimeout&&Yr.clearTimeout,iy=Cn&&Cn.now!==cn.Date.now&&Cn.now,sy=Yr.setTimeout!==cn.setTimeout&&Yr.setTimeout,Pp=Cs.ceil,Cp=Cs.floor,p0=ys.getOwnPropertySymbols,oy=Sp?Sp.isBuffer:$,km=Yr.isFinite,ay=xp.join,cy=Sm(ys.keys,ys),ks=Cs.max,Us=Cs.min,ly=Cn.now,uy=Yr.parseInt,Mm=Cs.random,dy=xp.reverse,m0=iu(Yr,"DataView"),qu=iu(Yr,"Map"),g0=iu(Yr,"Promise"),xu=iu(Yr,"Set"),Ku=iu(Yr,"WeakMap"),Wu=iu(ys,"create"),kp=Ku&&new Ku,_u={},fy=su(m0),hy=su(qu),py=su(g0),my=su(xu),gy=su(Ku),Mp=Ol?Ol.prototype:$,Gu=Mp?Mp.valueOf:$,Im=Mp?Mp.toString:$;function vr(_t){if(ws(_t)&&!Dn(_t)&&!(_t instanceof Kn)){if(_t instanceof go)return _t;if(cs.call(_t,"__wrapped__"))return j1(_t)}return new go(_t)}var Eu=function(){function _t(){}return function(kt){if(!Es(kt))return{};if($m)return $m(kt);_t.prototype=kt;var zt=new _t;return _t.prototype=$,zt}}();function Ip(){}function go(_t,kt){this.__wrapped__=_t,this.__actions__=[],this.__chain__=!!kt,this.__index__=0,this.__values__=$}vr.templateSettings={escape:qr,evaluate:En,interpolate:un,variable:"",imports:{_:vr}},vr.prototype=Ip.prototype,vr.prototype.constructor=vr,go.prototype=Eu(Ip.prototype),go.prototype.constructor=go;function Kn(_t){this.__wrapped__=_t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=$t,this.__views__=[]}function vy(){var _t=new Kn(this.__wrapped__);return _t.__actions__=Js(this.__actions__),_t.__dir__=this.__dir__,_t.__filtered__=this.__filtered__,_t.__iteratees__=Js(this.__iteratees__),_t.__takeCount__=this.__takeCount__,_t.__views__=Js(this.__views__),_t}function yy(){if(this.__filtered__){var _t=new Kn(this);_t.__dir__=-1,_t.__filtered__=!0}else _t=this.clone(),_t.__dir__*=-1;return _t}function by(){var _t=this.__wrapped__.value(),kt=this.__dir__,zt=Dn(_t),rr=kt<0,dr=zt?_t.length:0,br=Ix(0,dr,this.__views__),$r=br.start,Ir=br.end,Nr=Ir-$r,en=rr?Ir:$r-1,tn=this.__iteratees__,sn=tn.length,Tn=0,Mn=Us(Nr,this.__takeCount__);if(!zt||!rr&&dr==Nr&&Mn==Nr)return n1(_t,this.__actions__);var jn=[];e:for(;Nr--&&Tn<Mn;){en+=kt;for(var zn=-1,Nn=_t[en];++zn<sn;){var qn=tn[zn],Gn=qn.iteratee,oo=qn.type,qs=Gn(Nn);if(oo==dt)Nn=qs;else if(!qs){if(oo==ct)continue e;break e}}jn[Tn++]=Nn}return jn}Kn.prototype=Eu(Ip.prototype),Kn.prototype.constructor=Kn;function eu(_t){var kt=-1,zt=_t==null?0:_t.length;for(this.clear();++kt<zt;){var rr=_t[kt];this.set(rr[0],rr[1])}}function xy(){this.__data__=Wu?Wu(null):{},this.size=0}function _y(_t){var kt=this.has(_t)&&delete this.__data__[_t];return this.size-=kt?1:0,kt}function Ey(_t){var kt=this.__data__;if(Wu){var zt=kt[_t];return zt===it?$:zt}return cs.call(kt,_t)?kt[_t]:$}function wy(_t){var kt=this.__data__;return Wu?kt[_t]!==$:cs.call(kt,_t)}function Sy(_t,kt){var zt=this.__data__;return this.size+=this.has(_t)?0:1,zt[_t]=Wu&&kt===$?it:kt,this}eu.prototype.clear=xy,eu.prototype.delete=_y,eu.prototype.get=Ey,eu.prototype.has=wy,eu.prototype.set=Sy;function Zo(_t){var kt=-1,zt=_t==null?0:_t.length;for(this.clear();++kt<zt;){var rr=_t[kt];this.set(rr[0],rr[1])}}function Ry(){this.__data__=[],this.size=0}function Ay(_t){var kt=this.__data__,zt=Op(kt,_t);if(zt<0)return!1;var rr=kt.length-1;return zt==rr?kt.pop():Tp.call(kt,zt,1),--this.size,!0}function Ty(_t){var kt=this.__data__,zt=Op(kt,_t);return zt<0?$:kt[zt][1]}function $y(_t){return Op(this.__data__,_t)>-1}function Py(_t,kt){var zt=this.__data__,rr=Op(zt,_t);return rr<0?(++this.size,zt.push([_t,kt])):zt[rr][1]=kt,this}Zo.prototype.clear=Ry,Zo.prototype.delete=Ay,Zo.prototype.get=Ty,Zo.prototype.has=$y,Zo.prototype.set=Py;function Yo(_t){var kt=-1,zt=_t==null?0:_t.length;for(this.clear();++kt<zt;){var rr=_t[kt];this.set(rr[0],rr[1])}}function Cy(){this.size=0,this.__data__={hash:new eu,map:new(qu||Zo),string:new eu}}function ky(_t){var kt=Kp(this,_t).delete(_t);return this.size-=kt?1:0,kt}function My(_t){return Kp(this,_t).get(_t)}function Iy(_t){return Kp(this,_t).has(_t)}function Oy(_t,kt){var zt=Kp(this,_t),rr=zt.size;return zt.set(_t,kt),this.size+=zt.size==rr?0:1,this}Yo.prototype.clear=Cy,Yo.prototype.delete=ky,Yo.prototype.get=My,Yo.prototype.has=Iy,Yo.prototype.set=Oy;function tu(_t){var kt=-1,zt=_t==null?0:_t.length;for(this.__data__=new Yo;++kt<zt;)this.add(_t[kt])}function jy(_t){return this.__data__.set(_t,it),this}function Ny(_t){return this.__data__.has(_t)}tu.prototype.add=tu.prototype.push=jy,tu.prototype.has=Ny;function ko(_t){var kt=this.__data__=new Zo(_t);this.size=kt.size}function By(){this.__data__=new Zo,this.size=0}function Ly(_t){var kt=this.__data__,zt=kt.delete(_t);return this.size=kt.size,zt}function Dy(_t){return this.__data__.get(_t)}function Fy(_t){return this.__data__.has(_t)}function Uy(_t,kt){var zt=this.__data__;if(zt instanceof Zo){var rr=zt.__data__;if(!qu||rr.length<et-1)return rr.push([_t,kt]),this.size=++zt.size,this;zt=this.__data__=new Yo(rr)}return zt.set(_t,kt),this.size=zt.size,this}ko.prototype.clear=By,ko.prototype.delete=Ly,ko.prototype.get=Dy,ko.prototype.has=Fy,ko.prototype.set=Uy;function Om(_t,kt){var zt=Dn(_t),rr=!zt&&ou(_t),dr=!zt&&!rr&&Fl(_t),br=!zt&&!rr&&!dr&&Au(_t),$r=zt||rr||dr||br,Ir=$r?u0(_t.length,Xv):[],Nr=Ir.length;for(var en in _t)(kt||cs.call(_t,en))&&!($r&&(en=="length"||dr&&(en=="offset"||en=="parent")||br&&(en=="buffer"||en=="byteLength"||en=="byteOffset")||na(en,Nr)))&&Ir.push(en);return Ir}function jm(_t){var kt=_t.length;return kt?_t[T0(0,kt-1)]:$}function zy(_t,kt){return Wp(Js(_t),ru(kt,0,_t.length))}function Hy(_t){return Wp(Js(_t))}function v0(_t,kt,zt){(zt!==$&&!Mo(_t[kt],zt)||zt===$&&!(kt in _t))&&Xo(_t,kt,zt)}function Zu(_t,kt,zt){var rr=_t[kt];(!(cs.call(_t,kt)&&Mo(rr,zt))||zt===$&&!(kt in _t))&&Xo(_t,kt,zt)}function Op(_t,kt){for(var zt=_t.length;zt--;)if(Mo(_t[zt][0],kt))return zt;return-1}function Vy(_t,kt,zt,rr){return Nl(_t,function(dr,br,$r){kt(rr,dr,zt(dr),$r)}),rr}function Nm(_t,kt){return _t&&Fo(kt,Ns(kt),_t)}function qy(_t,kt){return _t&&Fo(kt,eo(kt),_t)}function Xo(_t,kt,zt){kt=="__proto__"&&$p?$p(_t,kt,{configurable:!0,enumerable:!0,value:zt,writable:!0}):_t[kt]=zt}function y0(_t,kt){for(var zt=-1,rr=kt.length,dr=Ur(rr),br=_t==null;++zt<rr;)dr[zt]=br?$:J0(_t,kt[zt]);return dr}function ru(_t,kt,zt){return _t===_t&&(zt!==$&&(_t=_t<=zt?_t:zt),kt!==$&&(_t=_t>=kt?_t:kt)),_t}function vo(_t,kt,zt,rr,dr,br){var $r,Ir=kt&at,Nr=kt&ut,en=kt&ht;if(zt&&($r=dr?zt(_t,rr,dr,br):zt(_t)),$r!==$)return $r;if(!Es(_t))return _t;var tn=Dn(_t);if(tn){if($r=jx(_t),!Ir)return Js(_t,$r)}else{var sn=zs(_t),Tn=sn==Jt||sn==ur;if(Fl(_t))return o1(_t,Ir);if(sn==Mr||sn==ir||Tn&&!dr){if($r=Nr||Tn?{}:A1(_t),!Ir)return Nr?Sx(_t,qy($r,_t)):wx(_t,Nm($r,_t))}else{if(!Xn[sn])return dr?_t:{};$r=Nx(_t,sn,Ir)}}br||(br=new ko);var Mn=br.get(_t);if(Mn)return Mn;br.set(_t,$r),tv(_t)?_t.forEach(function(Nn){$r.add(vo(Nn,kt,zt,Nn,_t,br))}):Q1(_t)&&_t.forEach(function(Nn,qn){$r.set(qn,vo(Nn,kt,zt,qn,_t,br))});var jn=en?Nr?L0:B0:Nr?eo:Ns,zn=tn?$:jn(_t);return po(zn||_t,function(Nn,qn){zn&&(qn=Nn,Nn=_t[qn]),Zu($r,qn,vo(Nn,kt,zt,qn,_t,br))}),$r}function Ky(_t){var kt=Ns(_t);return function(zt){return Bm(zt,_t,kt)}}function Bm(_t,kt,zt){var rr=zt.length;if(_t==null)return!rr;for(_t=ys(_t);rr--;){var dr=zt[rr],br=kt[dr],$r=_t[dr];if($r===$&&!(dr in _t)||!br($r))return!1}return!0}function Lm(_t,kt,zt){if(typeof _t!="function")throw new mo(rt);return rp(function(){_t.apply($,zt)},kt)}function Yu(_t,kt,zt,rr){var dr=-1,br=vp,$r=!0,Ir=_t.length,Nr=[],en=kt.length;if(!Ir)return Nr;zt&&(kt=xs(kt,no(zt))),rr?(br=i0,$r=!1):kt.length>=et&&(br=Hu,$r=!1,kt=new tu(kt));e:for(;++dr<Ir;){var tn=_t[dr],sn=zt==null?tn:zt(tn);if(tn=rr||tn!==0?tn:0,$r&&sn===sn){for(var Tn=en;Tn--;)if(kt[Tn]===sn)continue e;Nr.push(tn)}else br(kt,sn,rr)||Nr.push(tn)}return Nr}var Nl=d1(Do),Dm=d1(x0,!0);function Wy(_t,kt){var zt=!0;return Nl(_t,function(rr,dr,br){return zt=!!kt(rr,dr,br),zt}),zt}function jp(_t,kt,zt){for(var rr=-1,dr=_t.length;++rr<dr;){var br=_t[rr],$r=kt(br);if($r!=null&&(Ir===$?$r===$r&&!so($r):zt($r,Ir)))var Ir=$r,Nr=br}return Nr}function Gy(_t,kt,zt,rr){var dr=_t.length;for(zt=Un(zt),zt<0&&(zt=-zt>dr?0:dr+zt),rr=rr===$||rr>dr?dr:Un(rr),rr<0&&(rr+=dr),rr=zt>rr?0:nv(rr);zt<rr;)_t[zt++]=kt;return _t}function Fm(_t,kt){var zt=[];return Nl(_t,function(rr,dr,br){kt(rr,dr,br)&&zt.push(rr)}),zt}function Fs(_t,kt,zt,rr,dr){var br=-1,$r=_t.length;for(zt||(zt=Lx),dr||(dr=[]);++br<$r;){var Ir=_t[br];kt>0&&zt(Ir)?kt>1?Fs(Ir,kt-1,zt,rr,dr):Ml(dr,Ir):rr||(dr[dr.length]=Ir)}return dr}var b0=f1(),Um=f1(!0);function Do(_t,kt){return _t&&b0(_t,kt,Ns)}function x0(_t,kt){return _t&&Um(_t,kt,Ns)}function Np(_t,kt){return Cl(kt,function(zt){return ga(_t[zt])})}function nu(_t,kt){kt=Ll(kt,_t);for(var zt=0,rr=kt.length;_t!=null&&zt<rr;)_t=_t[Uo(kt[zt++])];return zt&&zt==rr?_t:$}function zm(_t,kt,zt){var rr=kt(_t);return Dn(_t)?rr:Ml(rr,zt(_t))}function Hs(_t){return _t==null?_t===$?Pr:Cr:Ql&&Ql in ys(_t)?Mx(_t):qx(_t)}function _0(_t,kt){return _t>kt}function Zy(_t,kt){return _t!=null&&cs.call(_t,kt)}function Yy(_t,kt){return _t!=null&&kt in ys(_t)}function Xy(_t,kt,zt){return _t>=Us(kt,zt)&&_t<ks(kt,zt)}function E0(_t,kt,zt){for(var rr=zt?i0:vp,dr=_t[0].length,br=_t.length,$r=br,Ir=Ur(br),Nr=1/0,en=[];$r--;){var tn=_t[$r];$r&&kt&&(tn=xs(tn,no(kt))),Nr=Us(tn.length,Nr),Ir[$r]=!zt&&(kt||dr>=120&&tn.length>=120)?new tu($r&&tn):$}tn=_t[0];var sn=-1,Tn=Ir[0];e:for(;++sn<dr&&en.length<Nr;){var Mn=tn[sn],jn=kt?kt(Mn):Mn;if(Mn=zt||Mn!==0?Mn:0,!(Tn?Hu(Tn,jn):rr(en,jn,zt))){for($r=br;--$r;){var zn=Ir[$r];if(!(zn?Hu(zn,jn):rr(_t[$r],jn,zt)))continue e}Tn&&Tn.push(jn),en.push(Mn)}}return en}function Jy(_t,kt,zt,rr){return Do(_t,function(dr,br,$r){kt(rr,zt(dr),br,$r)}),rr}function Xu(_t,kt,zt){kt=Ll(kt,_t),_t=C1(_t,kt);var rr=_t==null?_t:_t[Uo(bo(kt))];return rr==null?$:Os(rr,_t,zt)}function Hm(_t){return ws(_t)&&Hs(_t)==ir}function Qy(_t){return ws(_t)&&Hs(_t)==or}function ex(_t){return ws(_t)&&Hs(_t)==Qt}function Ju(_t,kt,zt,rr,dr){return _t===kt?!0:_t==null||kt==null||!ws(_t)&&!ws(kt)?_t!==_t&&kt!==kt:tx(_t,kt,zt,rr,Ju,dr)}function tx(_t,kt,zt,rr,dr,br){var $r=Dn(_t),Ir=Dn(kt),Nr=$r?nr:zs(_t),en=Ir?nr:zs(kt);Nr=Nr==ir?Mr:Nr,en=en==ir?Mr:en;var tn=Nr==Mr,sn=en==Mr,Tn=Nr==en;if(Tn&&Fl(_t)){if(!Fl(kt))return!1;$r=!0,tn=!1}if(Tn&&!tn)return br||(br=new ko),$r||Au(_t)?w1(_t,kt,zt,rr,dr,br):Cx(_t,kt,Nr,zt,rr,dr,br);if(!(zt&yt)){var Mn=tn&&cs.call(_t,"__wrapped__"),jn=sn&&cs.call(kt,"__wrapped__");if(Mn||jn){var zn=Mn?_t.value():_t,Nn=jn?kt.value():kt;return br||(br=new ko),dr(zn,Nn,zt,rr,br)}}return Tn?(br||(br=new ko),kx(_t,kt,zt,rr,dr,br)):!1}function rx(_t){return ws(_t)&&zs(_t)==xr}function w0(_t,kt,zt,rr){var dr=zt.length,br=dr,$r=!rr;if(_t==null)return!br;for(_t=ys(_t);dr--;){var Ir=zt[dr];if($r&&Ir[2]?Ir[1]!==_t[Ir[0]]:!(Ir[0]in _t))return!1}for(;++dr<br;){Ir=zt[dr];var Nr=Ir[0],en=_t[Nr],tn=Ir[1];if($r&&Ir[2]){if(en===$&&!(Nr in _t))return!1}else{var sn=new ko;if(rr)var Tn=rr(en,tn,Nr,_t,kt,sn);if(!(Tn===$?Ju(tn,en,yt|wt,rr,sn):Tn))return!1}}return!0}function Vm(_t){if(!Es(_t)||Fx(_t))return!1;var kt=ga(_t)?ry:fs;return kt.test(su(_t))}function nx(_t){return ws(_t)&&Hs(_t)==_r}function ix(_t){return ws(_t)&&zs(_t)==Rr}function sx(_t){return ws(_t)&&Qp(_t.length)&&!!rs[Hs(_t)]}function qm(_t){return typeof _t=="function"?_t:_t==null?to:typeof _t=="object"?Dn(_t)?Gm(_t[0],_t[1]):Wm(_t):pv(_t)}function S0(_t){if(!tp(_t))return cy(_t);var kt=[];for(var zt in ys(_t))cs.call(_t,zt)&&zt!="constructor"&&kt.push(zt);return kt}function ox(_t){if(!Es(_t))return Vx(_t);var kt=tp(_t),zt=[];for(var rr in _t)rr=="constructor"&&(kt||!cs.call(_t,rr))||zt.push(rr);return zt}function R0(_t,kt){return _t<kt}function Km(_t,kt){var zt=-1,rr=Qs(_t)?Ur(_t.length):[];return Nl(_t,function(dr,br,$r){rr[++zt]=kt(dr,br,$r)}),rr}function Wm(_t){var kt=F0(_t);return kt.length==1&&kt[0][2]?$1(kt[0][0],kt[0][1]):function(zt){return zt===_t||w0(zt,_t,kt)}}function Gm(_t,kt){return z0(_t)&&T1(kt)?$1(Uo(_t),kt):function(zt){var rr=J0(zt,_t);return rr===$&&rr===kt?Q0(zt,_t):Ju(kt,rr,yt|wt)}}function Bp(_t,kt,zt,rr,dr){_t!==kt&&b0(kt,function(br,$r){if(dr||(dr=new ko),Es(br))ax(_t,kt,$r,zt,Bp,rr,dr);else{var Ir=rr?rr(V0(_t,$r),br,$r+"",_t,kt,dr):$;Ir===$&&(Ir=br),v0(_t,$r,Ir)}},eo)}function ax(_t,kt,zt,rr,dr,br,$r){var Ir=V0(_t,zt),Nr=V0(kt,zt),en=$r.get(Nr);if(en){v0(_t,zt,en);return}var tn=br?br(Ir,Nr,zt+"",_t,kt,$r):$,sn=tn===$;if(sn){var Tn=Dn(Nr),Mn=!Tn&&Fl(Nr),jn=!Tn&&!Mn&&Au(Nr);tn=Nr,Tn||Mn||jn?Dn(Ir)?tn=Ir:Rs(Ir)?tn=Js(Ir):Mn?(sn=!1,tn=o1(Nr,!0)):jn?(sn=!1,tn=a1(Nr,!0)):tn=[]:np(Nr)||ou(Nr)?(tn=Ir,ou(Ir)?tn=iv(Ir):(!Es(Ir)||ga(Ir))&&(tn=A1(Nr))):sn=!1}sn&&($r.set(Nr,tn),dr(tn,Nr,rr,br,$r),$r.delete(Nr)),v0(_t,zt,tn)}function Zm(_t,kt){var zt=_t.length;if(zt)return kt+=kt<0?zt:0,na(kt,zt)?_t[kt]:$}function Ym(_t,kt,zt){kt.length?kt=xs(kt,function(br){return Dn(br)?function($r){return nu($r,br.length===1?br[0]:br)}:br}):kt=[to];var rr=-1;kt=xs(kt,no(On()));var dr=Km(_t,function(br,$r,Ir){var Nr=xs(kt,function(en){return en(br)});return{criteria:Nr,index:++rr,value:br}});return Ov(dr,function(br,$r){return Ex(br,$r,zt)})}function lx(_t,kt){return Xm(_t,kt,function(zt,rr){return Q0(_t,rr)})}function Xm(_t,kt,zt){for(var rr=-1,dr=kt.length,br={};++rr<dr;){var $r=kt[rr],Ir=nu(_t,$r);zt(Ir,$r)&&Qu(br,Ll($r,_t),Ir)}return br}function ux(_t){return function(kt){return nu(kt,_t)}}function A0(_t,kt,zt,rr){var dr=rr?Iv:mu,br=-1,$r=kt.length,Ir=_t;for(_t===kt&&(kt=Js(kt)),zt&&(Ir=xs(_t,no(zt)));++br<$r;)for(var Nr=0,en=kt[br],tn=zt?zt(en):en;(Nr=dr(Ir,tn,Nr,rr))>-1;)Ir!==_t&&Tp.call(Ir,Nr,1),Tp.call(_t,Nr,1);return _t}function Jm(_t,kt){for(var zt=_t?kt.length:0,rr=zt-1;zt--;){var dr=kt[zt];if(zt==rr||dr!==br){var br=dr;na(dr)?Tp.call(_t,dr,1):C0(_t,dr)}}return _t}function T0(_t,kt){return _t+Cp(Mm()*(kt-_t+1))}function dx(_t,kt,zt,rr){for(var dr=-1,br=ks(Pp((kt-_t)/(zt||1)),0),$r=Ur(br);br--;)$r[rr?br:++dr]=_t,_t+=zt;return $r}function $0(_t,kt){var zt="";if(!_t||kt<1||kt>At)return zt;do kt%2&&(zt+=_t),kt=Cp(kt/2),kt&&(_t+=_t);while(kt);return zt}function Hn(_t,kt){return q0(P1(_t,kt,to),_t+"")}function fx(_t){return jm(Tu(_t))}function hx(_t,kt){var zt=Tu(_t);return Wp(zt,ru(kt,0,zt.length))}function Qu(_t,kt,zt,rr){if(!Es(_t))return _t;kt=Ll(kt,_t);for(var dr=-1,br=kt.length,$r=br-1,Ir=_t;Ir!=null&&++dr<br;){var Nr=Uo(kt[dr]),en=zt;if(Nr==="__proto__"||Nr==="constructor"||Nr==="prototype")return _t;if(dr!=$r){var tn=Ir[Nr];en=rr?rr(tn,Nr,Ir):$,en===$&&(en=Es(tn)?tn:na(kt[dr+1])?[]:{})}Zu(Ir,Nr,en),Ir=Ir[Nr]}return _t}var Qm=kp?function(_t,kt){return kp.set(_t,kt),_t}:to,mx=$p?function(_t,kt){return $p(_t,"toString",{configurable:!0,enumerable:!1,value:tm(kt),writable:!0})}:to;function gx(_t){return Wp(Tu(_t))}function yo(_t,kt,zt){var rr=-1,dr=_t.length;kt<0&&(kt=-kt>dr?0:dr+kt),zt=zt>dr?dr:zt,zt<0&&(zt+=dr),dr=kt>zt?0:zt-kt>>>0,kt>>>=0;for(var br=Ur(dr);++rr<dr;)br[rr]=_t[rr+kt];return br}function vx(_t,kt){var zt;return Nl(_t,function(rr,dr,br){return zt=kt(rr,dr,br),!zt}),!!zt}function Lp(_t,kt,zt){var rr=0,dr=_t==null?rr:_t.length;if(typeof kt=="number"&&kt===kt&&dr<=Nt){for(;rr<dr;){var br=rr+dr>>>1,$r=_t[br];$r!==null&&!so($r)&&(zt?$r<=kt:$r<kt)?rr=br+1:dr=br}return dr}return P0(_t,kt,to,zt)}function P0(_t,kt,zt,rr){var dr=0,br=_t==null?0:_t.length;if(br===0)return 0;kt=zt(kt);for(var $r=kt!==kt,Ir=kt===null,Nr=so(kt),en=kt===$;dr<br;){var tn=Cp((dr+br)/2),sn=zt(_t[tn]),Tn=sn!==$,Mn=sn===null,jn=sn===sn,zn=so(sn);if($r)var Nn=rr||jn;else en?Nn=jn&&(rr||Tn):Ir?Nn=jn&&Tn&&(rr||!Mn):Nr?Nn=jn&&Tn&&!Mn&&(rr||!zn):Mn||zn?Nn=!1:Nn=rr?sn<=kt:sn<kt;Nn?dr=tn+1:br=tn}return Us(br,Et)}function e1(_t,kt){for(var zt=-1,rr=_t.length,dr=0,br=[];++zt<rr;){var $r=_t[zt],Ir=kt?kt($r):$r;if(!zt||!Mo(Ir,Nr)){var Nr=Ir;br[dr++]=$r===0?0:$r}}return br}function t1(_t){return typeof _t=="number"?_t:so(_t)?St:+_t}function io(_t){if(typeof _t=="string")return _t;if(Dn(_t))return xs(_t,io)+"";if(so(_t))return Im?Im.call(_t):"";var kt=_t+"";return kt=="0"&&1/_t==-xt?"-0":kt}function Bl(_t,kt,zt){var rr=-1,dr=vp,br=_t.length,$r=!0,Ir=[],Nr=Ir;if(zt)$r=!1,dr=i0;else if(br>=et){var en=kt?null:$x(_t);if(en)return bp(en);$r=!1,dr=Hu,Nr=new tu}else Nr=kt?[]:Ir;e:for(;++rr<br;){var tn=_t[rr],sn=kt?kt(tn):tn;if(tn=zt||tn!==0?tn:0,$r&&sn===sn){for(var Tn=Nr.length;Tn--;)if(Nr[Tn]===sn)continue e;kt&&Nr.push(sn),Ir.push(tn)}else dr(Nr,sn,zt)||(Nr!==Ir&&Nr.push(sn),Ir.push(tn))}return Ir}function C0(_t,kt){return kt=Ll(kt,_t),_t=C1(_t,kt),_t==null||delete _t[Uo(bo(kt))]}function r1(_t,kt,zt,rr){return Qu(_t,kt,zt(nu(_t,kt)),rr)}function Dp(_t,kt,zt,rr){for(var dr=_t.length,br=rr?dr:-1;(rr?br--:++br<dr)&&kt(_t[br],br,_t););return zt?yo(_t,rr?0:br,rr?br+1:dr):yo(_t,rr?br+1:0,rr?dr:br)}function n1(_t,kt){var zt=_t;return zt instanceof Kn&&(zt=zt.value()),s0(kt,function(rr,dr){return dr.func.apply(dr.thisArg,Ml([rr],dr.args))},zt)}function k0(_t,kt,zt){var rr=_t.length;if(rr<2)return rr?Bl(_t[0]):[];for(var dr=-1,br=Ur(rr);++dr<rr;)for(var $r=_t[dr],Ir=-1;++Ir<rr;)Ir!=dr&&(br[dr]=Yu(br[dr]||$r,_t[Ir],kt,zt));return Bl(Fs(br,1),kt,zt)}function i1(_t,kt,zt){for(var rr=-1,dr=_t.length,br=kt.length,$r={};++rr<dr;){var Ir=rr<br?kt[rr]:$;zt($r,_t[rr],Ir)}return $r}function M0(_t){return Rs(_t)?_t:[]}function I0(_t){return typeof _t=="function"?_t:to}function Ll(_t,kt){return Dn(_t)?_t:z0(_t,kt)?[_t]:O1(os(_t))}var yx=Hn;function Dl(_t,kt,zt){var rr=_t.length;return zt=zt===$?rr:zt,!kt&&zt>=rr?_t:yo(_t,kt,zt)}var s1=ny||function(_t){return cn.clearTimeout(_t)};function o1(_t,kt){if(kt)return _t.slice();var zt=_t.length,rr=Tm?Tm(zt):new _t.constructor(zt);return _t.copy(rr),rr}function O0(_t){var kt=new _t.constructor(_t.byteLength);return new Rp(kt).set(new Rp(_t)),kt}function bx(_t,kt){var zt=kt?O0(_t.buffer):_t.buffer;return new _t.constructor(zt,_t.byteOffset,_t.byteLength)}function xx(_t){var kt=new _t.constructor(_t.source,yn.exec(_t));return kt.lastIndex=_t.lastIndex,kt}function _x(_t){return Gu?ys(Gu.call(_t)):{}}function a1(_t,kt){var zt=kt?O0(_t.buffer):_t.buffer;return new _t.constructor(zt,_t.byteOffset,_t.length)}function c1(_t,kt){if(_t!==kt){var zt=_t!==$,rr=_t===null,dr=_t===_t,br=so(_t),$r=kt!==$,Ir=kt===null,Nr=kt===kt,en=so(kt);if(!Ir&&!en&&!br&&_t>kt||br&&$r&&Nr&&!Ir&&!en||rr&&$r&&Nr||!zt&&Nr||!dr)return 1;if(!rr&&!br&&!en&&_t<kt||en&&zt&&dr&&!rr&&!br||Ir&&zt&&dr||!$r&&dr||!Nr)return-1}return 0}function Ex(_t,kt,zt){for(var rr=-1,dr=_t.criteria,br=kt.criteria,$r=dr.length,Ir=zt.length;++rr<$r;){var Nr=c1(dr[rr],br[rr]);if(Nr){if(rr>=Ir)return Nr;var en=zt[rr];return Nr*(en=="desc"?-1:1)}}return _t.index-kt.index}function l1(_t,kt,zt,rr){for(var dr=-1,br=_t.length,$r=zt.length,Ir=-1,Nr=kt.length,en=ks(br-$r,0),tn=Ur(Nr+en),sn=!rr;++Ir<Nr;)tn[Ir]=kt[Ir];for(;++dr<$r;)(sn||dr<br)&&(tn[zt[dr]]=_t[dr]);for(;en--;)tn[Ir++]=_t[dr++];return tn}function u1(_t,kt,zt,rr){for(var dr=-1,br=_t.length,$r=-1,Ir=zt.length,Nr=-1,en=kt.length,tn=ks(br-Ir,0),sn=Ur(tn+en),Tn=!rr;++dr<tn;)sn[dr]=_t[dr];for(var Mn=dr;++Nr<en;)sn[Mn+Nr]=kt[Nr];for(;++$r<Ir;)(Tn||dr<br)&&(sn[Mn+zt[$r]]=_t[dr++]);return sn}function Js(_t,kt){var zt=-1,rr=_t.length;for(kt||(kt=Ur(rr));++zt<rr;)kt[zt]=_t[zt];return kt}function Fo(_t,kt,zt,rr){var dr=!zt;zt||(zt={});for(var br=-1,$r=kt.length;++br<$r;){var Ir=kt[br],Nr=rr?rr(zt[Ir],_t[Ir],Ir,zt,_t):$;Nr===$&&(Nr=_t[Ir]),dr?Xo(zt,Ir,Nr):Zu(zt,Ir,Nr)}return zt}function wx(_t,kt){return Fo(_t,U0(_t),kt)}function Sx(_t,kt){return Fo(_t,S1(_t),kt)}function Fp(_t,kt){return function(zt,rr){var dr=Dn(zt)?Tv:Vy,br=kt?kt():{};return dr(zt,_t,On(rr,2),br)}}function wu(_t){return Hn(function(kt,zt){var rr=-1,dr=zt.length,br=dr>1?zt[dr-1]:$,$r=dr>2?zt[2]:$;for(br=_t.length>3&&typeof br=="function"?(dr--,br):$,$r&&Vs(zt[0],zt[1],$r)&&(br=dr<3?$:br,dr=1),kt=ys(kt);++rr<dr;){var Ir=zt[rr];Ir&&_t(kt,Ir,rr,br)}return kt})}function d1(_t,kt){return function(zt,rr){if(zt==null)return zt;if(!Qs(zt))return _t(zt,rr);for(var dr=zt.length,br=kt?dr:-1,$r=ys(zt);(kt?br--:++br<dr)&&rr($r[br],br,$r)!==!1;);return zt}}function f1(_t){return function(kt,zt,rr){for(var dr=-1,br=ys(kt),$r=rr(kt),Ir=$r.length;Ir--;){var Nr=$r[_t?Ir:++dr];if(zt(br[Nr],Nr,br)===!1)break}return kt}}function Rx(_t,kt,zt){var rr=kt&Ct,dr=ep(_t);function br(){var $r=this&&this!==cn&&this instanceof br?dr:_t;return $r.apply(rr?zt:this,arguments)}return br}function h1(_t){return function(kt){kt=os(kt);var zt=gu(kt)?Co(kt):$,rr=zt?zt[0]:kt.charAt(0),dr=zt?Dl(zt,1).join(""):kt.slice(1);return rr[_t]()+dr}}function Su(_t){return function(kt){return s0(fv(dv(kt).replace($o,"")),_t,"")}}function ep(_t){return function(){var kt=arguments;switch(kt.length){case 0:return new _t;case 1:return new _t(kt[0]);case 2:return new _t(kt[0],kt[1]);case 3:return new _t(kt[0],kt[1],kt[2]);case 4:return new _t(kt[0],kt[1],kt[2],kt[3]);case 5:return new _t(kt[0],kt[1],kt[2],kt[3],kt[4]);case 6:return new _t(kt[0],kt[1],kt[2],kt[3],kt[4],kt[5]);case 7:return new _t(kt[0],kt[1],kt[2],kt[3],kt[4],kt[5],kt[6])}var zt=Eu(_t.prototype),rr=_t.apply(zt,kt);return Es(rr)?rr:zt}}function Ax(_t,kt,zt){var rr=ep(_t);function dr(){for(var br=arguments.length,$r=Ur(br),Ir=br,Nr=Ru(dr);Ir--;)$r[Ir]=arguments[Ir];var en=br<3&&$r[0]!==Nr&&$r[br-1]!==Nr?[]:Il($r,Nr);if(br-=en.length,br<zt)return y1(_t,kt,Up,dr.placeholder,$,$r,en,$,$,zt-br);var tn=this&&this!==cn&&this instanceof dr?rr:_t;return Os(tn,this,$r)}return dr}function p1(_t){return function(kt,zt,rr){var dr=ys(kt);if(!Qs(kt)){var br=On(zt,3);kt=Ns(kt),zt=function(Ir){return br(dr[Ir],Ir,dr)}}var $r=_t(kt,zt,rr);return $r>-1?dr[br?kt[$r]:$r]:$}}function m1(_t){return Qo(function(kt){var zt=kt.length,rr=zt,dr=go.prototype.thru;for(_t&&kt.reverse();rr--;){var br=kt[rr];if(typeof br!="function")throw new mo(rt);if(dr&&!$r&&qp(br)=="wrapper")var $r=new go([],!0)}for(rr=$r?rr:zt;++rr<zt;){br=kt[rr];var Ir=qp(br),Nr=Ir=="wrapper"?D0(br):$;Nr&&H0(Nr[0])&&Nr[1]==(Ot|Mt|Dt|It)&&!Nr[4].length&&Nr[9]==1?$r=$r[qp(Nr[0])].apply($r,Nr[3]):$r=br.length==1&&H0(br)?$r[Ir]():$r.thru(br)}return function(){var en=arguments,tn=en[0];if($r&&en.length==1&&Dn(tn))return $r.plant(tn).value();for(var sn=0,Tn=zt?kt[sn].apply(this,en):tn;++sn<zt;)Tn=kt[sn].call(this,Tn);return Tn}})}function Up(_t,kt,zt,rr,dr,br,$r,Ir,Nr,en){var tn=kt&Ot,sn=kt&Ct,Tn=kt&Pt,Mn=kt&(Mt|Lt),jn=kt&Bt,zn=Tn?$:ep(_t);function Nn(){for(var qn=arguments.length,Gn=Ur(qn),oo=qn;oo--;)Gn[oo]=arguments[oo];if(Mn)var qs=Ru(Nn),ao=Nv(Gn,qs);if(rr&&(Gn=l1(Gn,rr,dr,Mn)),br&&(Gn=u1(Gn,br,$r,Mn)),qn-=ao,Mn&&qn<en){var As=Il(Gn,qs);return y1(_t,kt,Up,Nn.placeholder,zt,Gn,As,Ir,Nr,en-qn)}var Io=sn?zt:this,xa=Tn?Io[_t]:_t;return qn=Gn.length,Ir?Gn=Kx(Gn,Ir):jn&&qn>1&&Gn.reverse(),tn&&Nr<qn&&(Gn.length=Nr),this&&this!==cn&&this instanceof Nn&&(xa=zn||ep(xa)),xa.apply(Io,Gn)}return Nn}function g1(_t,kt){return function(zt,rr){return Jy(zt,_t,kt(rr),{})}}function zp(_t,kt){return function(zt,rr){var dr;if(zt===$&&rr===$)return kt;if(zt!==$&&(dr=zt),rr!==$){if(dr===$)return rr;typeof zt=="string"||typeof rr=="string"?(zt=io(zt),rr=io(rr)):(zt=t1(zt),rr=t1(rr)),dr=_t(zt,rr)}return dr}}function j0(_t){return Qo(function(kt){return kt=xs(kt,no(On())),Hn(function(zt){var rr=this;return _t(kt,function(dr){return Os(dr,rr,zt)})})})}function Hp(_t,kt){kt=kt===$?" ":io(kt);var zt=kt.length;if(zt<2)return zt?$0(kt,_t):kt;var rr=$0(kt,Pp(_t/vu(kt)));return gu(kt)?Dl(Co(rr),0,_t).join(""):rr.slice(0,_t)}function Tx(_t,kt,zt,rr){var dr=kt&Ct,br=ep(_t);function $r(){for(var Ir=-1,Nr=arguments.length,en=-1,tn=rr.length,sn=Ur(tn+Nr),Tn=this&&this!==cn&&this instanceof $r?br:_t;++en<tn;)sn[en]=rr[en];for(;Nr--;)sn[en++]=arguments[++Ir];return Os(Tn,dr?zt:this,sn)}return $r}function v1(_t){return function(kt,zt,rr){return rr&&typeof rr!="number"&&Vs(kt,zt,rr)&&(zt=rr=$),kt=ba(kt),zt===$?(zt=kt,kt=0):zt=ba(zt),rr=rr===$?kt<zt?1:-1:ba(rr),dx(kt,zt,rr,_t)}}function Vp(_t){return function(kt,zt){return typeof kt=="string"&&typeof zt=="string"||(kt=xo(kt),zt=xo(zt)),_t(kt,zt)}}function y1(_t,kt,zt,rr,dr,br,$r,Ir,Nr,en){var tn=kt&Mt,sn=tn?$r:$,Tn=tn?$:$r,Mn=tn?br:$,jn=tn?$:br;kt|=tn?Dt:Ut,kt&=~(tn?Ut:Dt),kt&Tt||(kt&=~(Ct|Pt));var zn=[_t,kt,dr,Mn,sn,jn,Tn,Ir,Nr,en],Nn=zt.apply($,zn);return H0(_t)&&k1(Nn,zn),Nn.placeholder=rr,M1(Nn,_t,kt)}function N0(_t){var kt=Cs[_t];return function(zt,rr){if(zt=xo(zt),rr=rr==null?0:Us(Un(rr),292),rr&&km(zt)){var dr=(os(zt)+"e").split("e"),br=kt(dr[0]+"e"+(+dr[1]+rr));return dr=(os(br)+"e").split("e"),+(dr[0]+"e"+(+dr[1]-rr))}return kt(zt)}}var $x=xu&&1/bp(new xu([,-0]))[1]==xt?function(_t){return new xu(_t)}:im;function b1(_t){return function(kt){var zt=zs(kt);return zt==xr?f0(kt):zt==Rr?Hv(kt):jv(kt,_t(kt))}}function Jo(_t,kt,zt,rr,dr,br,$r,Ir){var Nr=kt&Pt;if(!Nr&&typeof _t!="function")throw new mo(rt);var en=rr?rr.length:0;if(en||(kt&=~(Dt|Ut),rr=dr=$),$r=$r===$?$r:ks(Un($r),0),Ir=Ir===$?Ir:Un(Ir),en-=dr?dr.length:0,kt&Ut){var tn=rr,sn=dr;rr=dr=$}var Tn=Nr?$:D0(_t),Mn=[_t,kt,zt,rr,dr,tn,sn,br,$r,Ir];if(Tn&&Hx(Mn,Tn),_t=Mn[0],kt=Mn[1],zt=Mn[2],rr=Mn[3],dr=Mn[4],Ir=Mn[9]=Mn[9]===$?Nr?0:_t.length:ks(Mn[9]-en,0),!Ir&&kt&(Mt|Lt)&&(kt&=~(Mt|Lt)),!kt||kt==Ct)var jn=Rx(_t,kt,zt);else kt==Mt||kt==Lt?jn=Ax(_t,kt,Ir):(kt==Dt||kt==(Ct|Dt))&&!dr.length?jn=Tx(_t,kt,zt,rr):jn=Up.apply($,Mn);var zn=Tn?Qm:k1;return M1(zn(jn,Mn),_t,kt)}function x1(_t,kt,zt,rr){return _t===$||Mo(_t,bu[zt])&&!cs.call(rr,zt)?kt:_t}function E1(_t,kt,zt,rr,dr,br){return Es(_t)&&Es(kt)&&(br.set(kt,_t),Bp(_t,kt,$,E1,br),br.delete(kt)),_t}function Px(_t){return np(_t)?$:_t}function w1(_t,kt,zt,rr,dr,br){var $r=zt&yt,Ir=_t.length,Nr=kt.length;if(Ir!=Nr&&!($r&&Nr>Ir))return!1;var en=br.get(_t),tn=br.get(kt);if(en&&tn)return en==kt&&tn==_t;var sn=-1,Tn=!0,Mn=zt&wt?new tu:$;for(br.set(_t,kt),br.set(kt,_t);++sn<Ir;){var jn=_t[sn],zn=kt[sn];if(rr)var Nn=$r?rr(zn,jn,sn,kt,_t,br):rr(jn,zn,sn,_t,kt,br);if(Nn!==$){if(Nn)continue;Tn=!1;break}if(Mn){if(!o0(kt,function(qn,Gn){if(!Hu(Mn,Gn)&&(jn===qn||dr(jn,qn,zt,rr,br)))return Mn.push(Gn)})){Tn=!1;break}}else if(!(jn===zn||dr(jn,zn,zt,rr,br))){Tn=!1;break}}return br.delete(_t),br.delete(kt),Tn}function Cx(_t,kt,zt,rr,dr,br,$r){switch(zt){case Yt:if(_t.byteLength!=kt.byteLength||_t.byteOffset!=kt.byteOffset)return!1;_t=_t.buffer,kt=kt.buffer;case or:return!(_t.byteLength!=kt.byteLength||!br(new Rp(_t),new Rp(kt)));case Kt:case Qt:case pr:return Mo(+_t,+kt);case qt:return _t.name==kt.name&&_t.message==kt.message;case _r:case kr:return _t==kt+"";case xr:var Ir=f0;case Rr:var Nr=rr&yt;if(Ir||(Ir=bp),_t.size!=kt.size&&!Nr)return!1;var en=$r.get(_t);if(en)return en==kt;rr|=wt,$r.set(_t,kt);var tn=w1(Ir(_t),Ir(kt),rr,dr,br,$r);return $r.delete(_t),tn;case Ar:if(Gu)return Gu.call(_t)==Gu.call(kt)}return!1}function kx(_t,kt,zt,rr,dr,br){var $r=zt&yt,Ir=B0(_t),Nr=Ir.length,en=B0(kt),tn=en.length;if(Nr!=tn&&!$r)return!1;for(var sn=Nr;sn--;){var Tn=Ir[sn];if(!($r?Tn in kt:cs.call(kt,Tn)))return!1}var Mn=br.get(_t),jn=br.get(kt);if(Mn&&jn)return Mn==kt&&jn==_t;var zn=!0;br.set(_t,kt),br.set(kt,_t);for(var Nn=$r;++sn<Nr;){Tn=Ir[sn];var qn=_t[Tn],Gn=kt[Tn];if(rr)var oo=$r?rr(Gn,qn,Tn,kt,_t,br):rr(qn,Gn,Tn,_t,kt,br);if(!(oo===$?qn===Gn||dr(qn,Gn,zt,rr,br):oo)){zn=!1;break}Nn||(Nn=Tn=="constructor")}if(zn&&!Nn){var qs=_t.constructor,ao=kt.constructor;qs!=ao&&"constructor"in _t&&"constructor"in kt&&!(typeof qs=="function"&&qs instanceof qs&&typeof ao=="function"&&ao instanceof ao)&&(zn=!1)}return br.delete(_t),br.delete(kt),zn}function Qo(_t){return q0(P1(_t,$,L1),_t+"")}function B0(_t){return zm(_t,Ns,U0)}function L0(_t){return zm(_t,eo,S1)}var D0=kp?function(_t){return kp.get(_t)}:im;function qp(_t){for(var kt=_t.name+"",zt=_u[kt],rr=cs.call(_u,kt)?zt.length:0;rr--;){var dr=zt[rr],br=dr.func;if(br==null||br==_t)return dr.name}return kt}function Ru(_t){var kt=cs.call(vr,"placeholder")?vr:_t;return kt.placeholder}function On(){var _t=vr.iteratee||rm;return _t=_t===rm?qm:_t,arguments.length?_t(arguments[0],arguments[1]):_t}function Kp(_t,kt){var zt=_t.__data__;return Dx(kt)?zt[typeof kt=="string"?"string":"hash"]:zt.map}function F0(_t){for(var kt=Ns(_t),zt=kt.length;zt--;){var rr=kt[zt],dr=_t[rr];kt[zt]=[rr,dr,T1(dr)]}return kt}function iu(_t,kt){var zt=Fv(_t,kt);return Vm(zt)?zt:$}function Mx(_t){var kt=cs.call(_t,Ql),zt=_t[Ql];try{_t[Ql]=$;var rr=!0}catch{}var dr=wp.call(_t);return rr&&(kt?_t[Ql]=zt:delete _t[Ql]),dr}var U0=p0?function(_t){return _t==null?[]:(_t=ys(_t),Cl(p0(_t),function(kt){return Pm.call(_t,kt)}))}:sm,S1=p0?function(_t){for(var kt=[];_t;)Ml(kt,U0(_t)),_t=Ap(_t);return kt}:sm,zs=Hs;(m0&&zs(new m0(new ArrayBuffer(1)))!=Yt||qu&&zs(new qu)!=xr||g0&&zs(g0.resolve())!=lr||xu&&zs(new xu)!=Rr||Ku&&zs(new Ku)!=Or)&&(zs=function(_t){var kt=Hs(_t),zt=kt==Mr?_t.constructor:$,rr=zt?su(zt):"";if(rr)switch(rr){case fy:return Yt;case hy:return xr;case py:return lr;case my:return Rr;case gy:return Or}return kt});function Ix(_t,kt,zt){for(var rr=-1,dr=zt.length;++rr<dr;){var br=zt[rr],$r=br.size;switch(br.type){case"drop":_t+=$r;break;case"dropRight":kt-=$r;break;case"take":kt=Us(kt,_t+$r);break;case"takeRight":_t=ks(_t,kt-$r);break}}return{start:_t,end:kt}}function Ox(_t){var kt=_t.match(an);return kt?kt[1].split(Zr):[]}function R1(_t,kt,zt){kt=Ll(kt,_t);for(var rr=-1,dr=kt.length,br=!1;++rr<dr;){var $r=Uo(kt[rr]);if(!(br=_t!=null&&zt(_t,$r)))break;_t=_t[$r]}return br||++rr!=dr?br:(dr=_t==null?0:_t.length,!!dr&&Qp(dr)&&na($r,dr)&&(Dn(_t)||ou(_t)))}function jx(_t){var kt=_t.length,zt=new _t.constructor(kt);return kt&&typeof _t[0]=="string"&&cs.call(_t,"index")&&(zt.index=_t.index,zt.input=_t.input),zt}function A1(_t){return typeof _t.constructor=="function"&&!tp(_t)?Eu(Ap(_t)):{}}function Nx(_t,kt,zt){var rr=_t.constructor;switch(kt){case or:return O0(_t);case Kt:case Qt:return new rr(+_t);case Yt:return bx(_t,zt);case er:case Gt:case Vt:case Wt:case ar:case yr:case Er:case Sr:case Wr:return a1(_t,zt);case xr:return new rr;case pr:case kr:return new rr(_t);case _r:return xx(_t);case Rr:return new rr;case Ar:return _x(_t)}}function Bx(_t,kt){var zt=kt.length;if(!zt)return _t;var rr=zt-1;return kt[rr]=(zt>1?"& ":"")+kt[rr],kt=kt.join(zt>2?", ":" "),_t.replace(gn,`{
/* [wrapped with `+kt+`] */
`)}function Lx(_t){return Dn(_t)||ou(_t)||!!(Cm&&_t&&_t[Cm])}function na(_t,kt){var zt=typeof _t;return kt=kt??At,!!kt&&(zt=="number"||zt!="symbol"&&ps.test(_t))&&_t>-1&&_t%1==0&&_t<kt}function Vs(_t,kt,zt){if(!Es(zt))return!1;var rr=typeof kt;return(rr=="number"?Qs(zt)&&na(kt,zt.length):rr=="string"&&kt in zt)?Mo(zt[kt],_t):!1}function z0(_t,kt){if(Dn(_t))return!1;var zt=typeof _t;return zt=="number"||zt=="symbol"||zt=="boolean"||_t==null||so(_t)?!0:hn.test(_t)||!Vr.test(_t)||kt!=null&&_t in ys(kt)}function Dx(_t){var kt=typeof _t;return kt=="string"||kt=="number"||kt=="symbol"||kt=="boolean"?_t!=="__proto__":_t===null}function H0(_t){var kt=qp(_t),zt=vr[kt];if(typeof zt!="function"||!(kt in Kn.prototype))return!1;if(_t===zt)return!0;var rr=D0(zt);return!!rr&&_t===rr[0]}function Fx(_t){return!!Am&&Am in _t}var Ux=_p?ga:om;function tp(_t){var kt=_t&&_t.constructor,zt=typeof kt=="function"&&kt.prototype||bu;return _t===zt}function T1(_t){return _t===_t&&!Es(_t)}function $1(_t,kt){return function(zt){return zt==null?!1:zt[_t]===kt&&(kt!==$||_t in ys(zt))}}function zx(_t){var kt=Xp(_t,function(rr){return zt.size===st&&zt.clear(),rr}),zt=kt.cache;return kt}function Hx(_t,kt){var zt=_t[1],rr=kt[1],dr=zt|rr,br=dr<(Ct|Pt|Ot),$r=rr==Ot&&zt==Mt||rr==Ot&&zt==It&&_t[7].length<=kt[8]||rr==(Ot|It)&&kt[7].length<=kt[8]&&zt==Mt;if(!(br||$r))return _t;rr&Ct&&(_t[2]=kt[2],dr|=zt&Ct?0:Tt);var Ir=kt[3];if(Ir){var Nr=_t[3];_t[3]=Nr?l1(Nr,Ir,kt[4]):Ir,_t[4]=Nr?Il(_t[3],ot):kt[4]}return Ir=kt[5],Ir&&(Nr=_t[5],_t[5]=Nr?u1(Nr,Ir,kt[6]):Ir,_t[6]=Nr?Il(_t[5],ot):kt[6]),Ir=kt[7],Ir&&(_t[7]=Ir),rr&Ot&&(_t[8]=_t[8]==null?kt[8]:Us(_t[8],kt[8])),_t[9]==null&&(_t[9]=kt[9]),_t[0]=kt[0],_t[1]=dr,_t}function Vx(_t){var kt=[];if(_t!=null)for(var zt in ys(_t))kt.push(zt);return kt}function qx(_t){return wp.call(_t)}function P1(_t,kt,zt){return kt=ks(kt===$?_t.length-1:kt,0),function(){for(var rr=arguments,dr=-1,br=ks(rr.length-kt,0),$r=Ur(br);++dr<br;)$r[dr]=rr[kt+dr];dr=-1;for(var Ir=Ur(kt+1);++dr<kt;)Ir[dr]=rr[dr];return Ir[kt]=zt($r),Os(_t,this,Ir)}}function C1(_t,kt){return kt.length<2?_t:nu(_t,yo(kt,0,-1))}function Kx(_t,kt){for(var zt=_t.length,rr=Us(kt.length,zt),dr=Js(_t);rr--;){var br=kt[rr];_t[rr]=na(br,zt)?dr[br]:$}return _t}function V0(_t,kt){if(!(kt==="constructor"&&typeof _t[kt]=="function")&&kt!="__proto__")return _t[kt]}var k1=I1(Qm),rp=sy||function(_t,kt){return cn.setTimeout(_t,kt)},q0=I1(mx);function M1(_t,kt,zt){var rr=kt+"";return q0(_t,Bx(rr,Wx(Ox(rr),zt)))}function I1(_t){var kt=0,zt=0;return function(){var rr=ly(),dr=vt-(rr-zt);if(zt=rr,dr>0){if(++kt>=bt)return arguments[0]}else kt=0;return _t.apply($,arguments)}}function Wp(_t,kt){var zt=-1,rr=_t.length,dr=rr-1;for(kt=kt===$?rr:kt;++zt<kt;){var br=T0(zt,dr),$r=_t[br];_t[br]=_t[zt],_t[zt]=$r}return _t.length=kt,_t}var O1=zx(function(_t){var kt=[];return _t.charCodeAt(0)===46&&kt.push(""),_t.replace(fn,function(zt,rr,dr,br){kt.push(dr?br.replace(nn,"$1"):rr||zt)}),kt});function Uo(_t){if(typeof _t=="string"||so(_t))return _t;var kt=_t+"";return kt=="0"&&1/_t==-xt?"-0":kt}function su(_t){if(_t!=null){try{return Ep.call(_t)}catch{}try{return _t+""}catch{}}return""}function Wx(_t,kt){return po(tr,function(zt){var rr="_."+zt[0];kt&zt[1]&&!vp(_t,rr)&&_t.push(rr)}),_t.sort()}function j1(_t){if(_t instanceof Kn)return _t.clone();var kt=new go(_t.__wrapped__,_t.__chain__);return kt.__actions__=Js(_t.__actions__),kt.__index__=_t.__index__,kt.__values__=_t.__values__,kt}function Gx(_t,kt,zt){(zt?Vs(_t,kt,zt):kt===$)?kt=1:kt=ks(Un(kt),0);var rr=_t==null?0:_t.length;if(!rr||kt<1)return[];for(var dr=0,br=0,$r=Ur(Pp(rr/kt));dr<rr;)$r[br++]=yo(_t,dr,dr+=kt);return $r}function Zx(_t){for(var kt=-1,zt=_t==null?0:_t.length,rr=0,dr=[];++kt<zt;){var br=_t[kt];br&&(dr[rr++]=br)}return dr}function Yx(){var _t=arguments.length;if(!_t)return[];for(var kt=Ur(_t-1),zt=arguments[0],rr=_t;rr--;)kt[rr-1]=arguments[rr];return Ml(Dn(zt)?Js(zt):[zt],Fs(kt,1))}var Xx=Hn(function(_t,kt){return Rs(_t)?Yu(_t,Fs(kt,1,Rs,!0)):[]}),Jx=Hn(function(_t,kt){var zt=bo(kt);return Rs(zt)&&(zt=$),Rs(_t)?Yu(_t,Fs(kt,1,Rs,!0),On(zt,2)):[]}),Qx=Hn(function(_t,kt){var zt=bo(kt);return Rs(zt)&&(zt=$),Rs(_t)?Yu(_t,Fs(kt,1,Rs,!0),$,zt):[]});function e2(_t,kt,zt){var rr=_t==null?0:_t.length;return rr?(kt=zt||kt===$?1:Un(kt),yo(_t,kt<0?0:kt,rr)):[]}function t2(_t,kt,zt){var rr=_t==null?0:_t.length;return rr?(kt=zt||kt===$?1:Un(kt),kt=rr-kt,yo(_t,0,kt<0?0:kt)):[]}function r2(_t,kt){return _t&&_t.length?Dp(_t,On(kt,3),!0,!0):[]}function n2(_t,kt){return _t&&_t.length?Dp(_t,On(kt,3),!0):[]}function i2(_t,kt,zt,rr){var dr=_t==null?0:_t.length;return dr?(zt&&typeof zt!="number"&&Vs(_t,kt,zt)&&(zt=0,rr=dr),Gy(_t,kt,zt,rr)):[]}function N1(_t,kt,zt){var rr=_t==null?0:_t.length;if(!rr)return-1;var dr=zt==null?0:Un(zt);return dr<0&&(dr=ks(rr+dr,0)),yp(_t,On(kt,3),dr)}function B1(_t,kt,zt){var rr=_t==null?0:_t.length;if(!rr)return-1;var dr=rr-1;return zt!==$&&(dr=Un(zt),dr=zt<0?ks(rr+dr,0):Us(dr,rr-1)),yp(_t,On(kt,3),dr,!0)}function L1(_t){var kt=_t==null?0:_t.length;return kt?Fs(_t,1):[]}function s2(_t){var kt=_t==null?0:_t.length;return kt?Fs(_t,xt):[]}function o2(_t,kt){var zt=_t==null?0:_t.length;return zt?(kt=kt===$?1:Un(kt),Fs(_t,kt)):[]}function a2(_t){for(var kt=-1,zt=_t==null?0:_t.length,rr={};++kt<zt;){var dr=_t[kt];rr[dr[0]]=dr[1]}return rr}function D1(_t){return _t&&_t.length?_t[0]:$}function c2(_t,kt,zt){var rr=_t==null?0:_t.length;if(!rr)return-1;var dr=zt==null?0:Un(zt);return dr<0&&(dr=ks(rr+dr,0)),mu(_t,kt,dr)}function l2(_t){var kt=_t==null?0:_t.length;return kt?yo(_t,0,-1):[]}var u2=Hn(function(_t){var kt=xs(_t,M0);return kt.length&&kt[0]===_t[0]?E0(kt):[]}),d2=Hn(function(_t){var kt=bo(_t),zt=xs(_t,M0);return kt===bo(zt)?kt=$:zt.pop(),zt.length&&zt[0]===_t[0]?E0(zt,On(kt,2)):[]}),f2=Hn(function(_t){var kt=bo(_t),zt=xs(_t,M0);return kt=typeof kt=="function"?kt:$,kt&&zt.pop(),zt.length&&zt[0]===_t[0]?E0(zt,$,kt):[]});function h2(_t,kt){return _t==null?"":ay.call(_t,kt)}function bo(_t){var kt=_t==null?0:_t.length;return kt?_t[kt-1]:$}function p2(_t,kt,zt){var rr=_t==null?0:_t.length;if(!rr)return-1;var dr=rr;return zt!==$&&(dr=Un(zt),dr=dr<0?ks(rr+dr,0):Us(dr,rr-1)),kt===kt?qv(_t,kt,dr):yp(_t,ym,dr,!0)}function m2(_t,kt){return _t&&_t.length?Zm(_t,Un(kt)):$}var g2=Hn(F1);function F1(_t,kt){return _t&&_t.length&&kt&&kt.length?A0(_t,kt):_t}function v2(_t,kt,zt){return _t&&_t.length&&kt&&kt.length?A0(_t,kt,On(zt,2)):_t}function y2(_t,kt,zt){return _t&&_t.length&&kt&&kt.length?A0(_t,kt,$,zt):_t}var b2=Qo(function(_t,kt){var zt=_t==null?0:_t.length,rr=y0(_t,kt);return Jm(_t,xs(kt,function(dr){return na(dr,zt)?+dr:dr}).sort(c1)),rr});function x2(_t,kt){var zt=[];if(!(_t&&_t.length))return zt;var rr=-1,dr=[],br=_t.length;for(kt=On(kt,3);++rr<br;){var $r=_t[rr];kt($r,rr,_t)&&(zt.push($r),dr.push(rr))}return Jm(_t,dr),zt}function K0(_t){return _t==null?_t:dy.call(_t)}function _2(_t,kt,zt){var rr=_t==null?0:_t.length;return rr?(zt&&typeof zt!="number"&&Vs(_t,kt,zt)?(kt=0,zt=rr):(kt=kt==null?0:Un(kt),zt=zt===$?rr:Un(zt)),yo(_t,kt,zt)):[]}function E2(_t,kt){return Lp(_t,kt)}function w2(_t,kt,zt){return P0(_t,kt,On(zt,2))}function S2(_t,kt){var zt=_t==null?0:_t.length;if(zt){var rr=Lp(_t,kt);if(rr<zt&&Mo(_t[rr],kt))return rr}return-1}function R2(_t,kt){return Lp(_t,kt,!0)}function A2(_t,kt,zt){return P0(_t,kt,On(zt,2),!0)}function T2(_t,kt){var zt=_t==null?0:_t.length;if(zt){var rr=Lp(_t,kt,!0)-1;if(Mo(_t[rr],kt))return rr}return-1}function $2(_t){return _t&&_t.length?e1(_t):[]}function P2(_t,kt){return _t&&_t.length?e1(_t,On(kt,2)):[]}function C2(_t){var kt=_t==null?0:_t.length;return kt?yo(_t,1,kt):[]}function k2(_t,kt,zt){return _t&&_t.length?(kt=zt||kt===$?1:Un(kt),yo(_t,0,kt<0?0:kt)):[]}function M2(_t,kt,zt){var rr=_t==null?0:_t.length;return rr?(kt=zt||kt===$?1:Un(kt),kt=rr-kt,yo(_t,kt<0?0:kt,rr)):[]}function I2(_t,kt){return _t&&_t.length?Dp(_t,On(kt,3),!1,!0):[]}function O2(_t,kt){return _t&&_t.length?Dp(_t,On(kt,3)):[]}var j2=Hn(function(_t){return Bl(Fs(_t,1,Rs,!0))}),N2=Hn(function(_t){var kt=bo(_t);return Rs(kt)&&(kt=$),Bl(Fs(_t,1,Rs,!0),On(kt,2))}),B2=Hn(function(_t){var kt=bo(_t);return kt=typeof kt=="function"?kt:$,Bl(Fs(_t,1,Rs,!0),$,kt)});function L2(_t){return _t&&_t.length?Bl(_t):[]}function D2(_t,kt){return _t&&_t.length?Bl(_t,On(kt,2)):[]}function F2(_t,kt){return kt=typeof kt=="function"?kt:$,_t&&_t.length?Bl(_t,$,kt):[]}function W0(_t){if(!(_t&&_t.length))return[];var kt=0;return _t=Cl(_t,function(zt){if(Rs(zt))return kt=ks(zt.length,kt),!0}),u0(kt,function(zt){return xs(_t,a0(zt))})}function U1(_t,kt){if(!(_t&&_t.length))return[];var zt=W0(_t);return kt==null?zt:xs(zt,function(rr){return Os(kt,$,rr)})}var U2=Hn(function(_t,kt){return Rs(_t)?Yu(_t,kt):[]}),z2=Hn(function(_t){return k0(Cl(_t,Rs))}),H2=Hn(function(_t){var kt=bo(_t);return Rs(kt)&&(kt=$),k0(Cl(_t,Rs),On(kt,2))}),V2=Hn(function(_t){var kt=bo(_t);return kt=typeof kt=="function"?kt:$,k0(Cl(_t,Rs),$,kt)}),q2=Hn(W0);function K2(_t,kt){return i1(_t||[],kt||[],Zu)}function W2(_t,kt){return i1(_t||[],kt||[],Qu)}var G2=Hn(function(_t){var kt=_t.length,zt=kt>1?_t[kt-1]:$;return zt=typeof zt=="function"?(_t.pop(),zt):$,U1(_t,zt)});function z1(_t){var kt=vr(_t);return kt.__chain__=!0,kt}function Z2(_t,kt){return kt(_t),_t}function Gp(_t,kt){return kt(_t)}var Y2=Qo(function(_t){var kt=_t.length,zt=kt?_t[0]:0,rr=this.__wrapped__,dr=function(br){return y0(br,_t)};return kt>1||this.__actions__.length||!(rr instanceof Kn)||!na(zt)?this.thru(dr):(rr=rr.slice(zt,+zt+(kt?1:0)),rr.__actions__.push({func:Gp,args:[dr],thisArg:$}),new go(rr,this.__chain__).thru(function(br){return kt&&!br.length&&br.push($),br}))});function X2(){return z1(this)}function J2(){return new go(this.value(),this.__chain__)}function Q2(){this.__values__===$&&(this.__values__=rv(this.value()));var _t=this.__index__>=this.__values__.length,kt=_t?$:this.__values__[this.__index__++];return{done:_t,value:kt}}function e_(){return this}function t_(_t){for(var kt,zt=this;zt instanceof Ip;){var rr=j1(zt);rr.__index__=0,rr.__values__=$,kt?dr.__wrapped__=rr:kt=rr;var dr=rr;zt=zt.__wrapped__}return dr.__wrapped__=_t,kt}function r_(){var _t=this.__wrapped__;if(_t instanceof Kn){var kt=_t;return this.__actions__.length&&(kt=new Kn(this)),kt=kt.reverse(),kt.__actions__.push({func:Gp,args:[K0],thisArg:$}),new go(kt,this.__chain__)}return this.thru(K0)}function n_(){return n1(this.__wrapped__,this.__actions__)}var i_=Fp(function(_t,kt,zt){cs.call(_t,zt)?++_t[zt]:Xo(_t,zt,1)});function s_(_t,kt,zt){var rr=Dn(_t)?gm:Wy;return zt&&Vs(_t,kt,zt)&&(kt=$),rr(_t,On(kt,3))}function o_(_t,kt){var zt=Dn(_t)?Cl:Fm;return zt(_t,On(kt,3))}var a_=p1(N1),c_=p1(B1);function l_(_t,kt){return Fs(Zp(_t,kt),1)}function u_(_t,kt){return Fs(Zp(_t,kt),xt)}function d_(_t,kt,zt){return zt=zt===$?1:Un(zt),Fs(Zp(_t,kt),zt)}function H1(_t,kt){var zt=Dn(_t)?po:Nl;return zt(_t,On(kt,3))}function V1(_t,kt){var zt=Dn(_t)?$v:Dm;return zt(_t,On(kt,3))}var f_=Fp(function(_t,kt,zt){cs.call(_t,zt)?_t[zt].push(kt):Xo(_t,zt,[kt])});function h_(_t,kt,zt,rr){_t=Qs(_t)?_t:Tu(_t),zt=zt&&!rr?Un(zt):0;var dr=_t.length;return zt<0&&(zt=ks(dr+zt,0)),e0(_t)?zt<=dr&&_t.indexOf(kt,zt)>-1:!!dr&&mu(_t,kt,zt)>-1}var p_=Hn(function(_t,kt,zt){var rr=-1,dr=typeof kt=="function",br=Qs(_t)?Ur(_t.length):[];return Nl(_t,function($r){br[++rr]=dr?Os(kt,$r,zt):Xu($r,kt,zt)}),br}),m_=Fp(function(_t,kt,zt){Xo(_t,zt,kt)});function Zp(_t,kt){var zt=Dn(_t)?xs:Km;return zt(_t,On(kt,3))}function g_(_t,kt,zt,rr){return _t==null?[]:(Dn(kt)||(kt=kt==null?[]:[kt]),zt=rr?$:zt,Dn(zt)||(zt=zt==null?[]:[zt]),Ym(_t,kt,zt))}var v_=Fp(function(_t,kt,zt){_t[zt?0:1].push(kt)},function(){return[[],[]]});function y_(_t,kt,zt){var rr=Dn(_t)?s0:xm,dr=arguments.length<3;return rr(_t,On(kt,4),zt,dr,Nl)}function b_(_t,kt,zt){var rr=Dn(_t)?Pv:xm,dr=arguments.length<3;return rr(_t,On(kt,4),zt,dr,Dm)}function x_(_t,kt){var zt=Dn(_t)?Cl:Fm;return zt(_t,Jp(On(kt,3)))}function __(_t){var kt=Dn(_t)?jm:fx;return kt(_t)}function E_(_t,kt,zt){(zt?Vs(_t,kt,zt):kt===$)?kt=1:kt=Un(kt);var rr=Dn(_t)?zy:hx;return rr(_t,kt)}function w_(_t){var kt=Dn(_t)?Hy:gx;return kt(_t)}function S_(_t){if(_t==null)return 0;if(Qs(_t))return e0(_t)?vu(_t):_t.length;var kt=zs(_t);return kt==xr||kt==Rr?_t.size:S0(_t).length}function R_(_t,kt,zt){var rr=Dn(_t)?o0:vx;return zt&&Vs(_t,kt,zt)&&(kt=$),rr(_t,On(kt,3))}var A_=Hn(function(_t,kt){if(_t==null)return[];var zt=kt.length;return zt>1&&Vs(_t,kt[0],kt[1])?kt=[]:zt>2&&Vs(kt[0],kt[1],kt[2])&&(kt=[kt[0]]),Ym(_t,Fs(kt,1),[])}),Yp=iy||function(){return cn.Date.now()};function T_(_t,kt){if(typeof kt!="function")throw new mo(rt);return _t=Un(_t),function(){if(--_t<1)return kt.apply(this,arguments)}}function q1(_t,kt,zt){return kt=zt?$:kt,kt=_t&&kt==null?_t.length:kt,Jo(_t,Ot,$,$,$,$,kt)}function K1(_t,kt){var zt;if(typeof kt!="function")throw new mo(rt);return _t=Un(_t),function(){return--_t>0&&(zt=kt.apply(this,arguments)),_t<=1&&(kt=$),zt}}var G0=Hn(function(_t,kt,zt){var rr=Ct;if(zt.length){var dr=Il(zt,Ru(G0));rr|=Dt}return Jo(_t,rr,kt,zt,dr)}),W1=Hn(function(_t,kt,zt){var rr=Ct|Pt;if(zt.length){var dr=Il(zt,Ru(W1));rr|=Dt}return Jo(kt,rr,_t,zt,dr)});function G1(_t,kt,zt){kt=zt?$:kt;var rr=Jo(_t,Mt,$,$,$,$,$,kt);return rr.placeholder=G1.placeholder,rr}function Z1(_t,kt,zt){kt=zt?$:kt;var rr=Jo(_t,Lt,$,$,$,$,$,kt);return rr.placeholder=Z1.placeholder,rr}function Y1(_t,kt,zt){var rr,dr,br,$r,Ir,Nr,en=0,tn=!1,sn=!1,Tn=!0;if(typeof _t!="function")throw new mo(rt);kt=xo(kt)||0,Es(zt)&&(tn=!!zt.leading,sn="maxWait"in zt,br=sn?ks(xo(zt.maxWait)||0,kt):br,Tn="trailing"in zt?!!zt.trailing:Tn);function Mn(As){var Io=rr,xa=dr;return rr=dr=$,en=As,$r=_t.apply(xa,Io),$r}function jn(As){return en=As,Ir=rp(qn,kt),tn?Mn(As):$r}function zn(As){var Io=As-Nr,xa=As-en,mv=kt-Io;return sn?Us(mv,br-xa):mv}function Nn(As){var Io=As-Nr,xa=As-en;return Nr===$||Io>=kt||Io<0||sn&&xa>=br}function qn(){var As=Yp();if(Nn(As))return Gn(As);Ir=rp(qn,zn(As))}function Gn(As){return Ir=$,Tn&&rr?Mn(As):(rr=dr=$,$r)}function oo(){Ir!==$&&s1(Ir),en=0,rr=Nr=dr=Ir=$}function qs(){return Ir===$?$r:Gn(Yp())}function ao(){var As=Yp(),Io=Nn(As);if(rr=arguments,dr=this,Nr=As,Io){if(Ir===$)return jn(Nr);if(sn)return s1(Ir),Ir=rp(qn,kt),Mn(Nr)}return Ir===$&&(Ir=rp(qn,kt)),$r}return ao.cancel=oo,ao.flush=qs,ao}var $_=Hn(function(_t,kt){return Lm(_t,1,kt)}),P_=Hn(function(_t,kt,zt){return Lm(_t,xo(kt)||0,zt)});function C_(_t){return Jo(_t,Bt)}function Xp(_t,kt){if(typeof _t!="function"||kt!=null&&typeof kt!="function")throw new mo(rt);var zt=function(){var rr=arguments,dr=kt?kt.apply(this,rr):rr[0],br=zt.cache;if(br.has(dr))return br.get(dr);var $r=_t.apply(this,rr);return zt.cache=br.set(dr,$r)||br,$r};return zt.cache=new(Xp.Cache||Yo),zt}Xp.Cache=Yo;function Jp(_t){if(typeof _t!="function")throw new mo(rt);return function(){var kt=arguments;switch(kt.length){case 0:return!_t.call(this);case 1:return!_t.call(this,kt[0]);case 2:return!_t.call(this,kt[0],kt[1]);case 3:return!_t.call(this,kt[0],kt[1],kt[2])}return!_t.apply(this,kt)}}function k_(_t){return K1(2,_t)}var M_=yx(function(_t,kt){kt=kt.length==1&&Dn(kt[0])?xs(kt[0],no(On())):xs(Fs(kt,1),no(On()));var zt=kt.length;return Hn(function(rr){for(var dr=-1,br=Us(rr.length,zt);++dr<br;)rr[dr]=kt[dr].call(this,rr[dr]);return Os(_t,this,rr)})}),Z0=Hn(function(_t,kt){var zt=Il(kt,Ru(Z0));return Jo(_t,Dt,$,kt,zt)}),X1=Hn(function(_t,kt){var zt=Il(kt,Ru(X1));return Jo(_t,Ut,$,kt,zt)}),I_=Qo(function(_t,kt){return Jo(_t,It,$,$,$,kt)});function O_(_t,kt){if(typeof _t!="function")throw new mo(rt);return kt=kt===$?kt:Un(kt),Hn(_t,kt)}function j_(_t,kt){if(typeof _t!="function")throw new mo(rt);return kt=kt==null?0:ks(Un(kt),0),Hn(function(zt){var rr=zt[kt],dr=Dl(zt,0,kt);return rr&&Ml(dr,rr),Os(_t,this,dr)})}function N_(_t,kt,zt){var rr=!0,dr=!0;if(typeof _t!="function")throw new mo(rt);return Es(zt)&&(rr="leading"in zt?!!zt.leading:rr,dr="trailing"in zt?!!zt.trailing:dr),Y1(_t,kt,{leading:rr,maxWait:kt,trailing:dr})}function B_(_t){return q1(_t,1)}function L_(_t,kt){return Z0(I0(kt),_t)}function D_(){if(!arguments.length)return[];var _t=arguments[0];return Dn(_t)?_t:[_t]}function F_(_t){return vo(_t,ht)}function U_(_t,kt){return kt=typeof kt=="function"?kt:$,vo(_t,ht,kt)}function z_(_t){return vo(_t,at|ht)}function H_(_t,kt){return kt=typeof kt=="function"?kt:$,vo(_t,at|ht,kt)}function V_(_t,kt){return kt==null||Bm(_t,kt,Ns(kt))}function Mo(_t,kt){return _t===kt||_t!==_t&&kt!==kt}var q_=Vp(_0),K_=Vp(function(_t,kt){return _t>=kt}),ou=Hm(function(){return arguments}())?Hm:function(_t){return ws(_t)&&cs.call(_t,"callee")&&!Pm.call(_t,"callee")},Dn=Ur.isArray,W_=_s?no(_s):Qy;function Qs(_t){return _t!=null&&Qp(_t.length)&&!ga(_t)}function Rs(_t){return ws(_t)&&Qs(_t)}function G_(_t){return _t===!0||_t===!1||ws(_t)&&Hs(_t)==Kt}var Fl=oy||om,Z_=Ds?no(Ds):ex;function Y_(_t){return ws(_t)&&_t.nodeType===1&&!np(_t)}function X_(_t){if(_t==null)return!0;if(Qs(_t)&&(Dn(_t)||typeof _t=="string"||typeof _t.splice=="function"||Fl(_t)||Au(_t)||ou(_t)))return!_t.length;var kt=zs(_t);if(kt==xr||kt==Rr)return!_t.size;if(tp(_t))return!S0(_t).length;for(var zt in _t)if(cs.call(_t,zt))return!1;return!0}function J_(_t,kt){return Ju(_t,kt)}function Q_(_t,kt,zt){zt=typeof zt=="function"?zt:$;var rr=zt?zt(_t,kt):$;return rr===$?Ju(_t,kt,$,zt):!!rr}function Y0(_t){if(!ws(_t))return!1;var kt=Hs(_t);return kt==qt||kt==Ht||typeof _t.message=="string"&&typeof _t.name=="string"&&!np(_t)}function eE(_t){return typeof _t=="number"&&km(_t)}function ga(_t){if(!Es(_t))return!1;var kt=Hs(_t);return kt==Jt||kt==ur||kt==Zt||kt==fr}function J1(_t){return typeof _t=="number"&&_t==Un(_t)}function Qp(_t){return typeof _t=="number"&&_t>-1&&_t%1==0&&_t<=At}function Es(_t){var kt=typeof _t;return _t!=null&&(kt=="object"||kt=="function")}function ws(_t){return _t!=null&&typeof _t=="object"}var Q1=ho?no(ho):rx;function tE(_t,kt){return _t===kt||w0(_t,kt,F0(kt))}function rE(_t,kt,zt){return zt=typeof zt=="function"?zt:$,w0(_t,kt,F0(kt),zt)}function nE(_t){return ev(_t)&&_t!=+_t}function iE(_t){if(Ux(_t))throw new Ln(tt);return Vm(_t)}function sE(_t){return _t===null}function oE(_t){return _t==null}function ev(_t){return typeof _t=="number"||ws(_t)&&Hs(_t)==pr}function np(_t){if(!ws(_t)||Hs(_t)!=Mr)return!1;var kt=Ap(_t);if(kt===null)return!0;var zt=cs.call(kt,"constructor")&&kt.constructor;return typeof zt=="function"&&zt instanceof zt&&Ep.call(zt)==ey}var X0=Lo?no(Lo):nx;function aE(_t){return J1(_t)&&_t>=-At&&_t<=At}var tv=zu?no(zu):ix;function e0(_t){return typeof _t=="string"||!Dn(_t)&&ws(_t)&&Hs(_t)==kr}function so(_t){return typeof _t=="symbol"||ws(_t)&&Hs(_t)==Ar}var Au=Jl?no(Jl):sx;function cE(_t){return _t===$}function lE(_t){return ws(_t)&&zs(_t)==Or}function uE(_t){return ws(_t)&&Hs(_t)==Lr}var dE=Vp(R0),fE=Vp(function(_t,kt){return _t<=kt});function rv(_t){if(!_t)return[];if(Qs(_t))return e0(_t)?Co(_t):Js(_t);if(Vu&&_t[Vu])return zv(_t[Vu]());var kt=zs(_t),zt=kt==xr?f0:kt==Rr?bp:Tu;return zt(_t)}function ba(_t){if(!_t)return _t===0?_t:0;if(_t=xo(_t),_t===xt||_t===-xt){var kt=_t<0?-1:1;return kt*Rt}return _t===_t?_t:0}function Un(_t){var kt=ba(_t),zt=kt%1;return kt===kt?zt?kt-zt:kt:0}function nv(_t){return _t?ru(Un(_t),0,$t):0}function xo(_t){if(typeof _t=="number")return _t;if(so(_t))return St;if(Es(_t)){var kt=typeof _t.valueOf=="function"?_t.valueOf():_t;_t=Es(kt)?kt+"":kt}if(typeof _t!="string")return _t===0?_t:+_t;_t=_m(_t);var zt=ds.test(_t);return zt||hs.test(_t)?rn(_t.slice(2),zt?2:8):_n.test(_t)?St:+_t}function iv(_t){return Fo(_t,eo(_t))}function hE(_t){return _t?ru(Un(_t),-At,At):_t===0?_t:0}function os(_t){return _t==null?"":io(_t)}var pE=wu(function(_t,kt){if(tp(kt)||Qs(kt)){Fo(kt,Ns(kt),_t);return}for(var zt in kt)cs.call(kt,zt)&&Zu(_t,zt,kt[zt])}),sv=wu(function(_t,kt){Fo(kt,eo(kt),_t)}),t0=wu(function(_t,kt,zt,rr){Fo(kt,eo(kt),_t,rr)}),mE=wu(function(_t,kt,zt,rr){Fo(kt,Ns(kt),_t,rr)}),gE=Qo(y0);function vE(_t,kt){var zt=Eu(_t);return kt==null?zt:Nm(zt,kt)}var yE=Hn(function(_t,kt){_t=ys(_t);var zt=-1,rr=kt.length,dr=rr>2?kt[2]:$;for(dr&&Vs(kt[0],kt[1],dr)&&(rr=1);++zt<rr;)for(var br=kt[zt],$r=eo(br),Ir=-1,Nr=$r.length;++Ir<Nr;){var en=$r[Ir],tn=_t[en];(tn===$||Mo(tn,bu[en])&&!cs.call(_t,en))&&(_t[en]=br[en])}return _t}),bE=Hn(function(_t){return _t.push($,E1),Os(ov,$,_t)});function xE(_t,kt){return vm(_t,On(kt,3),Do)}function _E(_t,kt){return vm(_t,On(kt,3),x0)}function wE(_t,kt){return _t==null?_t:b0(_t,On(kt,3),eo)}function SE(_t,kt){return _t==null?_t:Um(_t,On(kt,3),eo)}function RE(_t,kt){return _t&&Do(_t,On(kt,3))}function AE(_t,kt){return _t&&x0(_t,On(kt,3))}function TE(_t){return _t==null?[]:Np(_t,Ns(_t))}function $E(_t){return _t==null?[]:Np(_t,eo(_t))}function J0(_t,kt,zt){var rr=_t==null?$:nu(_t,kt);return rr===$?zt:rr}function PE(_t,kt){return _t!=null&&R1(_t,kt,Zy)}function Q0(_t,kt){return _t!=null&&R1(_t,kt,Yy)}var CE=g1(function(_t,kt,zt){kt!=null&&typeof kt.toString!="function"&&(kt=wp.call(kt)),_t[kt]=zt},tm(to)),kE=g1(function(_t,kt,zt){kt!=null&&typeof kt.toString!="function"&&(kt=wp.call(kt)),cs.call(_t,kt)?_t[kt].push(zt):_t[kt]=[zt]},On),ME=Hn(Xu);function Ns(_t){return Qs(_t)?Om(_t):S0(_t)}function eo(_t){return Qs(_t)?Om(_t,!0):ox(_t)}function IE(_t,kt){var zt={};return kt=On(kt,3),Do(_t,function(rr,dr,br){Xo(zt,kt(rr,dr,br),rr)}),zt}function OE(_t,kt){var zt={};return kt=On(kt,3),Do(_t,function(rr,dr,br){Xo(zt,dr,kt(rr,dr,br))}),zt}var jE=wu(function(_t,kt,zt){Bp(_t,kt,zt)}),ov=wu(function(_t,kt,zt,rr){Bp(_t,kt,zt,rr)}),NE=Qo(function(_t,kt){var zt={};if(_t==null)return zt;var rr=!1;kt=xs(kt,function(br){return br=Ll(br,_t),rr||(rr=br.length>1),br}),Fo(_t,L0(_t),zt),rr&&(zt=vo(zt,at|ut|ht,Px));for(var dr=kt.length;dr--;)C0(zt,kt[dr]);return zt});function BE(_t,kt){return av(_t,Jp(On(kt)))}var LE=Qo(function(_t,kt){return _t==null?{}:lx(_t,kt)});function av(_t,kt){if(_t==null)return{};var zt=xs(L0(_t),function(rr){return[rr]});return kt=On(kt),Xm(_t,zt,function(rr,dr){return kt(rr,dr[0])})}function DE(_t,kt,zt){kt=Ll(kt,_t);var rr=-1,dr=kt.length;for(dr||(dr=1,_t=$);++rr<dr;){var br=_t==null?$:_t[Uo(kt[rr])];br===$&&(rr=dr,br=zt),_t=ga(br)?br.call(_t):br}return _t}function FE(_t,kt,zt){return _t==null?_t:Qu(_t,kt,zt)}function UE(_t,kt,zt,rr){return rr=typeof rr=="function"?rr:$,_t==null?_t:Qu(_t,kt,zt,rr)}var cv=b1(Ns),lv=b1(eo);function zE(_t,kt,zt){var rr=Dn(_t),dr=rr||Fl(_t)||Au(_t);if(kt=On(kt,4),zt==null){var br=_t&&_t.constructor;dr?zt=rr?new br:[]:Es(_t)?zt=ga(br)?Eu(Ap(_t)):{}:zt={}}return(dr?po:Do)(_t,function($r,Ir,Nr){return kt(zt,$r,Ir,Nr)}),zt}function HE(_t,kt){return _t==null?!0:C0(_t,kt)}function VE(_t,kt,zt){return _t==null?_t:r1(_t,kt,I0(zt))}function qE(_t,kt,zt,rr){return rr=typeof rr=="function"?rr:$,_t==null?_t:r1(_t,kt,I0(zt),rr)}function Tu(_t){return _t==null?[]:d0(_t,Ns(_t))}function KE(_t){return _t==null?[]:d0(_t,eo(_t))}function WE(_t,kt,zt){return zt===$&&(zt=kt,kt=$),zt!==$&&(zt=xo(zt),zt=zt===zt?zt:0),kt!==$&&(kt=xo(kt),kt=kt===kt?kt:0),ru(xo(_t),kt,zt)}function GE(_t,kt,zt){return kt=ba(kt),zt===$?(zt=kt,kt=0):zt=ba(zt),_t=xo(_t),Xy(_t,kt,zt)}function ZE(_t,kt,zt){if(zt&&typeof zt!="boolean"&&Vs(_t,kt,zt)&&(kt=zt=$),zt===$&&(typeof kt=="boolean"?(zt=kt,kt=$):typeof _t=="boolean"&&(zt=_t,_t=$)),_t===$&&kt===$?(_t=0,kt=1):(_t=ba(_t),kt===$?(kt=_t,_t=0):kt=ba(kt)),_t>kt){var rr=_t;_t=kt,kt=rr}if(zt||_t%1||kt%1){var dr=Mm();return Us(_t+dr*(kt-_t+Dr("1e-"+((dr+"").length-1))),kt)}return T0(_t,kt)}var YE=Su(function(_t,kt,zt){return kt=kt.toLowerCase(),_t+(zt?uv(kt):kt)});function uv(_t){return em(os(_t).toLowerCase())}function dv(_t){return _t=os(_t),_t&&_t.replace(Vn,Bv).replace(Ps,"")}function XE(_t,kt,zt){_t=os(_t),kt=io(kt);var rr=_t.length;zt=zt===$?rr:ru(Un(zt),0,rr);var dr=zt;return zt-=kt.length,zt>=0&&_t.slice(zt,dr)==kt}function JE(_t){return _t=os(_t),_t&&ln.test(_t)?_t.replace(Qr,Lv):_t}function QE(_t){return _t=os(_t),_t&&Rn.test(_t)?_t.replace(Kr,"\\$&"):_t}var ew=Su(function(_t,kt,zt){return _t+(zt?"-":"")+kt.toLowerCase()}),tw=Su(function(_t,kt,zt){return _t+(zt?" ":"")+kt.toLowerCase()}),rw=h1("toLowerCase");function nw(_t,kt,zt){_t=os(_t),kt=Un(kt);var rr=kt?vu(_t):0;if(!kt||rr>=kt)return _t;var dr=(kt-rr)/2;return Hp(Cp(dr),zt)+_t+Hp(Pp(dr),zt)}function iw(_t,kt,zt){_t=os(_t),kt=Un(kt);var rr=kt?vu(_t):0;return kt&&rr<kt?_t+Hp(kt-rr,zt):_t}function sw(_t,kt,zt){_t=os(_t),kt=Un(kt);var rr=kt?vu(_t):0;return kt&&rr<kt?Hp(kt-rr,zt)+_t:_t}function ow(_t,kt,zt){return zt||kt==null?kt=0:kt&&(kt=+kt),uy(os(_t).replace(dn,""),kt||0)}function aw(_t,kt,zt){return(zt?Vs(_t,kt,zt):kt===$)?kt=1:kt=Un(kt),$0(os(_t),kt)}function cw(){var _t=arguments,kt=os(_t[0]);return _t.length<3?kt:kt.replace(_t[1],_t[2])}var lw=Su(function(_t,kt,zt){return _t+(zt?"_":"")+kt.toLowerCase()});function uw(_t,kt,zt){return zt&&typeof zt!="number"&&Vs(_t,kt,zt)&&(kt=zt=$),zt=zt===$?$t:zt>>>0,zt?(_t=os(_t),_t&&(typeof kt=="string"||kt!=null&&!X0(kt))&&(kt=io(kt),!kt&&gu(_t))?Dl(Co(_t),0,zt):_t.split(kt,zt)):[]}var dw=Su(function(_t,kt,zt){return _t+(zt?" ":"")+em(kt)});function fw(_t,kt,zt){return _t=os(_t),zt=zt==null?0:ru(Un(zt),0,_t.length),kt=io(kt),_t.slice(zt,zt+kt.length)==kt}function hw(_t,kt,zt){var rr=vr.templateSettings;zt&&Vs(_t,kt,zt)&&(kt=$),_t=os(_t),kt=t0({},kt,rr,x1);var dr=t0({},kt.imports,rr.imports,x1),br=Ns(dr),$r=d0(dr,br),Ir,Nr,en=0,tn=kt.interpolate||ss,sn="__p += '",Tn=h0((kt.escape||ss).source+"|"+tn.source+"|"+(tn===un?Pn:ss).source+"|"+(kt.evaluate||ss).source+"|$","g"),Mn="//# sourceURL="+(cs.call(kt,"sourceURL")?(kt.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Xl+"]")+`
`;_t.replace(Tn,function(Nn,qn,Gn,oo,qs,ao){return Gn||(Gn=oo),sn+=_t.slice(en,ao).replace(Jn,Dv),qn&&(Ir=!0,sn+=`' +
__e(`+qn+`) +
'`),qs&&(Nr=!0,sn+=`';
`+qs+`;
__p += '`),Gn&&(sn+=`' +
((__t = (`+Gn+`)) == null ? '' : __t) +
'`),en=ao+Nn.length,Nn}),sn+=`';
`;var jn=cs.call(kt,"variable")&&kt.variable;if(!jn)sn=`with (obj) {
`+sn+`
}
`;else if(Sn.test(jn))throw new Ln(nt);sn=(Nr?sn.replace(Hr,""):sn).replace(Fr,"$1").replace(pn,"$1;"),sn="function("+(jn||"obj")+`) {
`+(jn?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(Ir?", __e = _.escape":"")+(Nr?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+sn+`return __p
}`;var zn=hv(function(){return ns(br,Mn+"return "+sn).apply($,$r)});if(zn.source=sn,Y0(zn))throw zn;return zn}function pw(_t){return os(_t).toLowerCase()}function mw(_t){return os(_t).toUpperCase()}function gw(_t,kt,zt){if(_t=os(_t),_t&&(zt||kt===$))return _m(_t);if(!_t||!(kt=io(kt)))return _t;var rr=Co(_t),dr=Co(kt),br=Em(rr,dr),$r=wm(rr,dr)+1;return Dl(rr,br,$r).join("")}function yw(_t,kt,zt){if(_t=os(_t),_t&&(zt||kt===$))return _t.slice(0,Rm(_t)+1);if(!_t||!(kt=io(kt)))return _t;var rr=Co(_t),dr=wm(rr,Co(kt))+1;return Dl(rr,0,dr).join("")}function bw(_t,kt,zt){if(_t=os(_t),_t&&(zt||kt===$))return _t.replace(dn,"");if(!_t||!(kt=io(kt)))return _t;var rr=Co(_t),dr=Em(rr,Co(kt));return Dl(rr,dr).join("")}function xw(_t,kt){var zt=Ft,rr=jt;if(Es(kt)){var dr="separator"in kt?kt.separator:dr;zt="length"in kt?Un(kt.length):zt,rr="omission"in kt?io(kt.omission):rr}_t=os(_t);var br=_t.length;if(gu(_t)){var $r=Co(_t);br=$r.length}if(zt>=br)return _t;var Ir=zt-vu(rr);if(Ir<1)return rr;var Nr=$r?Dl($r,0,Ir).join(""):_t.slice(0,Ir);if(dr===$)return Nr+rr;if($r&&(Ir+=Nr.length-Ir),X0(dr)){if(_t.slice(Ir).search(dr)){var en,tn=Nr;for(dr.global||(dr=h0(dr.source,os(yn.exec(dr))+"g")),dr.lastIndex=0;en=dr.exec(tn);)var sn=en.index;Nr=Nr.slice(0,sn===$?Ir:sn)}}else if(_t.indexOf(io(dr),Ir)!=Ir){var Tn=Nr.lastIndexOf(dr);Tn>-1&&(Nr=Nr.slice(0,Tn))}return Nr+rr}function _w(_t){return _t=os(_t),_t&&mn.test(_t)?_t.replace(Jr,Kv):_t}var Ew=Su(function(_t,kt,zt){return _t+(zt?" ":"")+kt.toUpperCase()}),em=h1("toUpperCase");function fv(_t,kt,zt){return _t=os(_t),kt=zt?$:kt,kt===$?Uv(_t)?Zv(_t):Mv(_t):_t.match(kt)||[]}var hv=Hn(function(_t,kt){try{return Os(_t,$,kt)}catch(zt){return Y0(zt)?zt:new Ln(zt)}}),ww=Qo(function(_t,kt){return po(kt,function(zt){zt=Uo(zt),Xo(_t,zt,G0(_t[zt],_t))}),_t});function Sw(_t){var kt=_t==null?0:_t.length,zt=On();return _t=kt?xs(_t,function(rr){if(typeof rr[1]!="function")throw new mo(rt);return[zt(rr[0]),rr[1]]}):[],Hn(function(rr){for(var dr=-1;++dr<kt;){var br=_t[dr];if(Os(br[0],this,rr))return Os(br[1],this,rr)}})}function Rw(_t){return Ky(vo(_t,at))}function tm(_t){return function(){return _t}}function Aw(_t,kt){return _t==null||_t!==_t?kt:_t}var Tw=m1(),$w=m1(!0);function to(_t){return _t}function rm(_t){return qm(typeof _t=="function"?_t:vo(_t,at))}function Pw(_t){return Wm(vo(_t,at))}function Cw(_t,kt){return Gm(_t,vo(kt,at))}var kw=Hn(function(_t,kt){return function(zt){return Xu(zt,_t,kt)}}),Mw=Hn(function(_t,kt){return function(zt){return Xu(_t,zt,kt)}});function nm(_t,kt,zt){var rr=Ns(kt),dr=Np(kt,rr);zt==null&&!(Es(kt)&&(dr.length||!rr.length))&&(zt=kt,kt=_t,_t=this,dr=Np(kt,Ns(kt)));var br=!(Es(zt)&&"chain"in zt)||!!zt.chain,$r=ga(_t);return po(dr,function(Ir){var Nr=kt[Ir];_t[Ir]=Nr,$r&&(_t.prototype[Ir]=function(){var en=this.__chain__;if(br||en){var tn=_t(this.__wrapped__),sn=tn.__actions__=Js(this.__actions__);return sn.push({func:Nr,args:arguments,thisArg:_t}),tn.__chain__=en,tn}return Nr.apply(_t,Ml([this.value()],arguments))})}),_t}function Iw(){return cn._===this&&(cn._=ty),this}function im(){}function Ow(_t){return _t=Un(_t),Hn(function(kt){return Zm(kt,_t)})}var jw=j0(xs),Nw=j0(gm),Bw=j0(o0);function pv(_t){return z0(_t)?a0(Uo(_t)):ux(_t)}function Lw(_t){return function(kt){return _t==null?$:nu(_t,kt)}}var Dw=v1(),Fw=v1(!0);function sm(){return[]}function om(){return!1}function Uw(){return{}}function zw(){return""}function Hw(){return!0}function Vw(_t,kt){if(_t=Un(_t),_t<1||_t>At)return[];var zt=$t,rr=Us(_t,$t);kt=On(kt),_t-=$t;for(var dr=u0(rr,kt);++zt<_t;)kt(zt);return dr}function qw(_t){return Dn(_t)?xs(_t,Uo):so(_t)?[_t]:Js(O1(os(_t)))}function Kw(_t){var kt=++Qv;return os(_t)+kt}var Ww=zp(function(_t,kt){return _t+kt},0),Gw=N0("ceil"),Zw=zp(function(_t,kt){return _t/kt},1),Yw=N0("floor");function Xw(_t){return _t&&_t.length?jp(_t,to,_0):$}function Jw(_t,kt){return _t&&_t.length?jp(_t,On(kt,2),_0):$}function Qw(_t){return bm(_t,to)}function eS(_t,kt){return bm(_t,On(kt,2))}function tS(_t){return _t&&_t.length?jp(_t,to,R0):$}function rS(_t,kt){return _t&&_t.length?jp(_t,On(kt,2),R0):$}var nS=zp(function(_t,kt){return _t*kt},1),iS=N0("round"),sS=zp(function(_t,kt){return _t-kt},0);function oS(_t){return _t&&_t.length?l0(_t,to):0}function aS(_t,kt){return _t&&_t.length?l0(_t,On(kt,2)):0}return vr.after=T_,vr.ary=q1,vr.assign=pE,vr.assignIn=sv,vr.assignInWith=t0,vr.assignWith=mE,vr.at=gE,vr.before=K1,vr.bind=G0,vr.bindAll=ww,vr.bindKey=W1,vr.castArray=D_,vr.chain=z1,vr.chunk=Gx,vr.compact=Zx,vr.concat=Yx,vr.cond=Sw,vr.conforms=Rw,vr.constant=tm,vr.countBy=i_,vr.create=vE,vr.curry=G1,vr.curryRight=Z1,vr.debounce=Y1,vr.defaults=yE,vr.defaultsDeep=bE,vr.defer=$_,vr.delay=P_,vr.difference=Xx,vr.differenceBy=Jx,vr.differenceWith=Qx,vr.drop=e2,vr.dropRight=t2,vr.dropRightWhile=r2,vr.dropWhile=n2,vr.fill=i2,vr.filter=o_,vr.flatMap=l_,vr.flatMapDeep=u_,vr.flatMapDepth=d_,vr.flatten=L1,vr.flattenDeep=s2,vr.flattenDepth=o2,vr.flip=C_,vr.flow=Tw,vr.flowRight=$w,vr.fromPairs=a2,vr.functions=TE,vr.functionsIn=$E,vr.groupBy=f_,vr.initial=l2,vr.intersection=u2,vr.intersectionBy=d2,vr.intersectionWith=f2,vr.invert=CE,vr.invertBy=kE,vr.invokeMap=p_,vr.iteratee=rm,vr.keyBy=m_,vr.keys=Ns,vr.keysIn=eo,vr.map=Zp,vr.mapKeys=IE,vr.mapValues=OE,vr.matches=Pw,vr.matchesProperty=Cw,vr.memoize=Xp,vr.merge=jE,vr.mergeWith=ov,vr.method=kw,vr.methodOf=Mw,vr.mixin=nm,vr.negate=Jp,vr.nthArg=Ow,vr.omit=NE,vr.omitBy=BE,vr.once=k_,vr.orderBy=g_,vr.over=jw,vr.overArgs=M_,vr.overEvery=Nw,vr.overSome=Bw,vr.partial=Z0,vr.partialRight=X1,vr.partition=v_,vr.pick=LE,vr.pickBy=av,vr.property=pv,vr.propertyOf=Lw,vr.pull=g2,vr.pullAll=F1,vr.pullAllBy=v2,vr.pullAllWith=y2,vr.pullAt=b2,vr.range=Dw,vr.rangeRight=Fw,vr.rearg=I_,vr.reject=x_,vr.remove=x2,vr.rest=O_,vr.reverse=K0,vr.sampleSize=E_,vr.set=FE,vr.setWith=UE,vr.shuffle=w_,vr.slice=_2,vr.sortBy=A_,vr.sortedUniq=$2,vr.sortedUniqBy=P2,vr.split=uw,vr.spread=j_,vr.tail=C2,vr.take=k2,vr.takeRight=M2,vr.takeRightWhile=I2,vr.takeWhile=O2,vr.tap=Z2,vr.throttle=N_,vr.thru=Gp,vr.toArray=rv,vr.toPairs=cv,vr.toPairsIn=lv,vr.toPath=qw,vr.toPlainObject=iv,vr.transform=zE,vr.unary=B_,vr.union=j2,vr.unionBy=N2,vr.unionWith=B2,vr.uniq=L2,vr.uniqBy=D2,vr.uniqWith=F2,vr.unset=HE,vr.unzip=W0,vr.unzipWith=U1,vr.update=VE,vr.updateWith=qE,vr.values=Tu,vr.valuesIn=KE,vr.without=U2,vr.words=fv,vr.wrap=L_,vr.xor=z2,vr.xorBy=H2,vr.xorWith=V2,vr.zip=q2,vr.zipObject=K2,vr.zipObjectDeep=W2,vr.zipWith=G2,vr.entries=cv,vr.entriesIn=lv,vr.extend=sv,vr.extendWith=t0,nm(vr,vr),vr.add=Ww,vr.attempt=hv,vr.camelCase=YE,vr.capitalize=uv,vr.ceil=Gw,vr.clamp=WE,vr.clone=F_,vr.cloneDeep=z_,vr.cloneDeepWith=H_,vr.cloneWith=U_,vr.conformsTo=V_,vr.deburr=dv,vr.defaultTo=Aw,vr.divide=Zw,vr.endsWith=XE,vr.eq=Mo,vr.escape=JE,vr.escapeRegExp=QE,vr.every=s_,vr.find=a_,vr.findIndex=N1,vr.findKey=xE,vr.findLast=c_,vr.findLastIndex=B1,vr.findLastKey=_E,vr.floor=Yw,vr.forEach=H1,vr.forEachRight=V1,vr.forIn=wE,vr.forInRight=SE,vr.forOwn=RE,vr.forOwnRight=AE,vr.get=J0,vr.gt=q_,vr.gte=K_,vr.has=PE,vr.hasIn=Q0,vr.head=D1,vr.identity=to,vr.includes=h_,vr.indexOf=c2,vr.inRange=GE,vr.invoke=ME,vr.isArguments=ou,vr.isArray=Dn,vr.isArrayBuffer=W_,vr.isArrayLike=Qs,vr.isArrayLikeObject=Rs,vr.isBoolean=G_,vr.isBuffer=Fl,vr.isDate=Z_,vr.isElement=Y_,vr.isEmpty=X_,vr.isEqual=J_,vr.isEqualWith=Q_,vr.isError=Y0,vr.isFinite=eE,vr.isFunction=ga,vr.isInteger=J1,vr.isLength=Qp,vr.isMap=Q1,vr.isMatch=tE,vr.isMatchWith=rE,vr.isNaN=nE,vr.isNative=iE,vr.isNil=oE,vr.isNull=sE,vr.isNumber=ev,vr.isObject=Es,vr.isObjectLike=ws,vr.isPlainObject=np,vr.isRegExp=X0,vr.isSafeInteger=aE,vr.isSet=tv,vr.isString=e0,vr.isSymbol=so,vr.isTypedArray=Au,vr.isUndefined=cE,vr.isWeakMap=lE,vr.isWeakSet=uE,vr.join=h2,vr.kebabCase=ew,vr.last=bo,vr.lastIndexOf=p2,vr.lowerCase=tw,vr.lowerFirst=rw,vr.lt=dE,vr.lte=fE,vr.max=Xw,vr.maxBy=Jw,vr.mean=Qw,vr.meanBy=eS,vr.min=tS,vr.minBy=rS,vr.stubArray=sm,vr.stubFalse=om,vr.stubObject=Uw,vr.stubString=zw,vr.stubTrue=Hw,vr.multiply=nS,vr.nth=m2,vr.noConflict=Iw,vr.noop=im,vr.now=Yp,vr.pad=nw,vr.padEnd=iw,vr.padStart=sw,vr.parseInt=ow,vr.random=ZE,vr.reduce=y_,vr.reduceRight=b_,vr.repeat=aw,vr.replace=cw,vr.result=DE,vr.round=iS,vr.runInContext=jr,vr.sample=__,vr.size=S_,vr.snakeCase=lw,vr.some=R_,vr.sortedIndex=E2,vr.sortedIndexBy=w2,vr.sortedIndexOf=S2,vr.sortedLastIndex=R2,vr.sortedLastIndexBy=A2,vr.sortedLastIndexOf=T2,vr.startCase=dw,vr.startsWith=fw,vr.subtract=sS,vr.sum=oS,vr.sumBy=aS,vr.template=hw,vr.times=Vw,vr.toFinite=ba,vr.toInteger=Un,vr.toLength=nv,vr.toLower=pw,vr.toNumber=xo,vr.toSafeInteger=hE,vr.toString=os,vr.toUpper=mw,vr.trim=gw,vr.trimEnd=yw,vr.trimStart=bw,vr.truncate=xw,vr.unescape=_w,vr.uniqueId=Kw,vr.upperCase=Ew,vr.upperFirst=em,vr.each=H1,vr.eachRight=V1,vr.first=D1,nm(vr,function(){var _t={};return Do(vr,function(kt,zt){cs.call(vr.prototype,zt)||(_t[zt]=kt)}),_t}(),{chain:!1}),vr.VERSION=j,po(["bind","bindKey","curry","curryRight","partial","partialRight"],function(_t){vr[_t].placeholder=vr}),po(["drop","take"],function(_t,kt){Kn.prototype[_t]=function(zt){zt=zt===$?1:ks(Un(zt),0);var rr=this.__filtered__&&!kt?new Kn(this):this.clone();return rr.__filtered__?rr.__takeCount__=Us(zt,rr.__takeCount__):rr.__views__.push({size:Us(zt,$t),type:_t+(rr.__dir__<0?"Right":"")}),rr},Kn.prototype[_t+"Right"]=function(zt){return this.reverse()[_t](zt).reverse()}}),po(["filter","map","takeWhile"],function(_t,kt){var zt=kt+1,rr=zt==ct||zt==mt;Kn.prototype[_t]=function(dr){var br=this.clone();return br.__iteratees__.push({iteratee:On(dr,3),type:zt}),br.__filtered__=br.__filtered__||rr,br}}),po(["head","last"],function(_t,kt){var zt="take"+(kt?"Right":"");Kn.prototype[_t]=function(){return this[zt](1).value()[0]}}),po(["initial","tail"],function(_t,kt){var zt="drop"+(kt?"":"Right");Kn.prototype[_t]=function(){return this.__filtered__?new Kn(this):this[zt](1)}}),Kn.prototype.compact=function(){return this.filter(to)},Kn.prototype.find=function(_t){return this.filter(_t).head()},Kn.prototype.findLast=function(_t){return this.reverse().find(_t)},Kn.prototype.invokeMap=Hn(function(_t,kt){return typeof _t=="function"?new Kn(this):this.map(function(zt){return Xu(zt,_t,kt)})}),Kn.prototype.reject=function(_t){return this.filter(Jp(On(_t)))},Kn.prototype.slice=function(_t,kt){_t=Un(_t);var zt=this;return zt.__filtered__&&(_t>0||kt<0)?new Kn(zt):(_t<0?zt=zt.takeRight(-_t):_t&&(zt=zt.drop(_t)),kt!==$&&(kt=Un(kt),zt=kt<0?zt.dropRight(-kt):zt.take(kt-_t)),zt)},Kn.prototype.takeRightWhile=function(_t){return this.reverse().takeWhile(_t).reverse()},Kn.prototype.toArray=function(){return this.take($t)},Do(Kn.prototype,function(_t,kt){var zt=/^(?:filter|find|map|reject)|While$/.test(kt),rr=/^(?:head|last)$/.test(kt),dr=vr[rr?"take"+(kt=="last"?"Right":""):kt],br=rr||/^find/.test(kt);dr&&(vr.prototype[kt]=function(){var $r=this.__wrapped__,Ir=rr?[1]:arguments,Nr=$r instanceof Kn,en=Ir[0],tn=Nr||Dn($r),sn=function(qn){var Gn=dr.apply(vr,Ml([qn],Ir));return rr&&Tn?Gn[0]:Gn};tn&&zt&&typeof en=="function"&&en.length!=1&&(Nr=tn=!1);var Tn=this.__chain__,Mn=!!this.__actions__.length,jn=br&&!Tn,zn=Nr&&!Mn;if(!br&&tn){$r=zn?$r:new Kn(this);var Nn=_t.apply($r,Ir);return Nn.__actions__.push({func:Gp,args:[sn],thisArg:$}),new go(Nn,Tn)}return jn&&zn?_t.apply(this,Ir):(Nn=this.thru(sn),jn?rr?Nn.value()[0]:Nn.value():Nn)})}),po(["pop","push","shift","sort","splice","unshift"],function(_t){var kt=xp[_t],zt=/^(?:push|sort|unshift)$/.test(_t)?"tap":"thru",rr=/^(?:pop|shift)$/.test(_t);vr.prototype[_t]=function(){var dr=arguments;if(rr&&!this.__chain__){var br=this.value();return kt.apply(Dn(br)?br:[],dr)}return this[zt](function($r){return kt.apply(Dn($r)?$r:[],dr)})}}),Do(Kn.prototype,function(_t,kt){var zt=vr[kt];if(zt){var rr=zt.name+"";cs.call(_u,rr)||(_u[rr]=[]),_u[rr].push({name:kt,func:zt})}}),_u[Up($,Pt).name]=[{name:"wrapper",func:$}],Kn.prototype.clone=vy,Kn.prototype.reverse=yy,Kn.prototype.value=by,vr.prototype.at=Y2,vr.prototype.chain=X2,vr.prototype.commit=J2,vr.prototype.next=Q2,vr.prototype.plant=t_,vr.prototype.reverse=r_,vr.prototype.toJSON=vr.prototype.valueOf=vr.prototype.value=n_,vr.prototype.first=vr.prototype.head,Vu&&(vr.prototype[Vu]=e_),vr},yu=Yv();Bn?((Bn.exports=yu)._=yu,wn._=yu):cn._=yu}).call(commonjsGlobal)})(lodash,lodash.exports);var lodashExports=lodash.exports,isCheckBoxInput=a=>a.type==="checkbox",isDateObject=a=>a instanceof Date,isNullOrUndefined=a=>a==null;const isObjectType=a=>typeof a=="object";var isObject$4=a=>!isNullOrUndefined(a)&&!Array.isArray(a)&&isObjectType(a)&&!isDateObject(a),getEventValue=a=>isObject$4(a)&&a.target?isCheckBoxInput(a.target)?a.target.checked:a.target.value:a,getNodeParentName=a=>a.substring(0,a.search(/\.\d+(\.|$)/))||a,isNameInFieldArray=(a,_)=>a.has(getNodeParentName(_)),isPlainObject$5=a=>{const _=a.constructor&&a.constructor.prototype;return isObject$4(_)&&_.hasOwnProperty("isPrototypeOf")},isWeb=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function cloneObject(a){let _;const $=Array.isArray(a);if(a instanceof Date)_=new Date(a);else if(a instanceof Set)_=new Set(a);else if(!(isWeb&&(a instanceof Blob||a instanceof FileList))&&($||isObject$4(a)))if(_=$?[]:{},!$&&!isPlainObject$5(a))_=a;else for(const j in a)a.hasOwnProperty(j)&&(_[j]=cloneObject(a[j]));else return a;return _}var compact=a=>Array.isArray(a)?a.filter(Boolean):[],isUndefined$2=a=>a===void 0,get$2=(a,_,$)=>{if(!_||!isObject$4(a))return $;const j=compact(_.split(/[,[\].]+?/)).reduce((et,tt)=>isNullOrUndefined(et)?et:et[tt],a);return isUndefined$2(j)||j===a?isUndefined$2(a[_])?$:a[_]:j},isBoolean$3=a=>typeof a=="boolean";const EVENTS={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},VALIDATION_MODE={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},INPUT_VALIDATION_RULES={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},HookFormContext=React$2.createContext(null),useFormContext=()=>React$2.useContext(HookFormContext),FormProvider=a=>{const{children:_,...$}=a;return React$2.createElement(HookFormContext.Provider,{value:$},_)};var getProxyFormState=(a,_,$,j=!0)=>{const et={defaultValues:_._defaultValues};for(const tt in a)Object.defineProperty(et,tt,{get:()=>{const rt=tt;return _._proxyFormState[rt]!==VALIDATION_MODE.all&&(_._proxyFormState[rt]=!j||VALIDATION_MODE.all),a[rt]}});return et},isEmptyObject=a=>isObject$4(a)&&!Object.keys(a).length,shouldRenderFormState=(a,_,$,j)=>{$(a);const{name:et,...tt}=a;return isEmptyObject(tt)||Object.keys(tt).length>=Object.keys(_).length||Object.keys(tt).find(rt=>_[rt]===VALIDATION_MODE.all)},convertToArrayPayload=a=>Array.isArray(a)?a:[a];function useSubscribe(a){const _=React$2.useRef(a);_.current=a,React$2.useEffect(()=>{const $=!a.disabled&&_.current.subject&&_.current.subject.subscribe({next:_.current.next});return()=>{$&&$.unsubscribe()}},[a.disabled])}var isString$3=a=>typeof a=="string",generateWatchOutput=(a,_,$,j,et)=>isString$3(a)?(j&&_.watch.add(a),get$2($,a,et)):Array.isArray(a)?a.map(tt=>(j&&_.watch.add(tt),get$2($,tt))):(j&&(_.watchAll=!0),$),isKey=a=>/^\w*$/.test(a),stringToPath$2=a=>compact(a.replace(/["|']|\]/g,"").split(/\.|\[/)),set$1=(a,_,$)=>{let j=-1;const et=isKey(_)?[_]:stringToPath$2(_),tt=et.length,rt=tt-1;for(;++j<tt;){const nt=et[j];let it=$;if(j!==rt){const st=a[nt];it=isObject$4(st)||Array.isArray(st)?st:isNaN(+et[j+1])?{}:[]}a[nt]=it,a=a[nt]}return a},appendErrors=(a,_,$,j,et)=>_?{...$[a],types:{...$[a]&&$[a].types?$[a].types:{},[j]:et||!0}}:{},generateId=()=>{const a=typeof performance>"u"?Date.now():performance.now()*1e3;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,_=>{const $=(Math.random()*16+a)%16|0;return(_=="x"?$:$&3|8).toString(16)})},getFocusFieldName=(a,_,$={})=>$.shouldFocus||isUndefined$2($.shouldFocus)?$.focusName||`${a}.${isUndefined$2($.focusIndex)?_:$.focusIndex}.`:"",getValidationModes=a=>({isOnSubmit:!a||a===VALIDATION_MODE.onSubmit,isOnBlur:a===VALIDATION_MODE.onBlur,isOnChange:a===VALIDATION_MODE.onChange,isOnAll:a===VALIDATION_MODE.all,isOnTouch:a===VALIDATION_MODE.onTouched}),isWatched=(a,_,$)=>!$&&(_.watchAll||_.watch.has(a)||[..._.watch].some(j=>a.startsWith(j)&&/^\.\w+/.test(a.slice(j.length))));const iterateFieldsByAction=(a,_,$,j)=>{for(const et of $||Object.keys(a)){const tt=get$2(a,et);if(tt){const{_f:rt,...nt}=tt;if(rt){if(rt.refs&&rt.refs[0]&&_(rt.refs[0],et)&&!j)break;if(rt.ref&&_(rt.ref,rt.name)&&!j)break;iterateFieldsByAction(nt,_)}else isObject$4(nt)&&iterateFieldsByAction(nt,_)}}};var updateFieldArrayRootError=(a,_,$)=>{const j=compact(get$2(a,$));return set$1(j,"root",_[$]),set$1(a,$,j),a},isFileInput=a=>a.type==="file",isFunction$4=a=>typeof a=="function",isHTMLElement=a=>{if(!isWeb)return!1;const _=a?a.ownerDocument:0;return a instanceof(_&&_.defaultView?_.defaultView.HTMLElement:HTMLElement)},isMessage=a=>isString$3(a),isRadioInput=a=>a.type==="radio",isRegex=a=>a instanceof RegExp;const defaultResult={value:!1,isValid:!1},validResult={value:!0,isValid:!0};var getCheckboxValue=a=>{if(Array.isArray(a)){if(a.length>1){const _=a.filter($=>$&&$.checked&&!$.disabled).map($=>$.value);return{value:_,isValid:!!_.length}}return a[0].checked&&!a[0].disabled?a[0].attributes&&!isUndefined$2(a[0].attributes.value)?isUndefined$2(a[0].value)||a[0].value===""?validResult:{value:a[0].value,isValid:!0}:validResult:defaultResult}return defaultResult};const defaultReturn={isValid:!1,value:null};var getRadioValue=a=>Array.isArray(a)?a.reduce((_,$)=>$&&$.checked&&!$.disabled?{isValid:!0,value:$.value}:_,defaultReturn):defaultReturn;function getValidateError(a,_,$="validate"){if(isMessage(a)||Array.isArray(a)&&a.every(isMessage)||isBoolean$3(a)&&!a)return{type:$,message:isMessage(a)?a:"",ref:_}}var getValueAndMessage=a=>isObject$4(a)&&!isRegex(a)?a:{value:a,message:""},validateField=async(a,_,$,j,et)=>{const{ref:tt,refs:rt,required:nt,maxLength:it,minLength:st,min:ot,max:at,pattern:ut,validate:ht,name:yt,valueAsNumber:wt,mount:Ct,disabled:Pt}=a._f,Tt=get$2(_,yt);if(!Ct||Pt)return{};const Mt=rt?rt[0]:tt,Lt=bt=>{j&&Mt.reportValidity&&(Mt.setCustomValidity(isBoolean$3(bt)?"":bt||""),Mt.reportValidity())},Dt={},Ut=isRadioInput(tt),Ot=isCheckBoxInput(tt),It=Ut||Ot,Bt=(wt||isFileInput(tt))&&isUndefined$2(tt.value)&&isUndefined$2(Tt)||isHTMLElement(tt)&&tt.value===""||Tt===""||Array.isArray(Tt)&&!Tt.length,Ft=appendErrors.bind(null,yt,$,Dt),jt=(bt,vt,ct,dt=INPUT_VALIDATION_RULES.maxLength,mt=INPUT_VALIDATION_RULES.minLength)=>{const xt=bt?vt:ct;Dt[yt]={type:bt?dt:mt,message:xt,ref:tt,...Ft(bt?dt:mt,xt)}};if(et?!Array.isArray(Tt)||!Tt.length:nt&&(!It&&(Bt||isNullOrUndefined(Tt))||isBoolean$3(Tt)&&!Tt||Ot&&!getCheckboxValue(rt).isValid||Ut&&!getRadioValue(rt).isValid)){const{value:bt,message:vt}=isMessage(nt)?{value:!!nt,message:nt}:getValueAndMessage(nt);if(bt&&(Dt[yt]={type:INPUT_VALIDATION_RULES.required,message:vt,ref:Mt,...Ft(INPUT_VALIDATION_RULES.required,vt)},!$))return Lt(vt),Dt}if(!Bt&&(!isNullOrUndefined(ot)||!isNullOrUndefined(at))){let bt,vt;const ct=getValueAndMessage(at),dt=getValueAndMessage(ot);if(!isNullOrUndefined(Tt)&&!isNaN(Tt)){const mt=tt.valueAsNumber||Tt&&+Tt;isNullOrUndefined(ct.value)||(bt=mt>ct.value),isNullOrUndefined(dt.value)||(vt=mt<dt.value)}else{const mt=tt.valueAsDate||new Date(Tt),xt=St=>new Date(new Date().toDateString()+" "+St),At=tt.type=="time",Rt=tt.type=="week";isString$3(ct.value)&&Tt&&(bt=At?xt(Tt)>xt(ct.value):Rt?Tt>ct.value:mt>new Date(ct.value)),isString$3(dt.value)&&Tt&&(vt=At?xt(Tt)<xt(dt.value):Rt?Tt<dt.value:mt<new Date(dt.value))}if((bt||vt)&&(jt(!!bt,ct.message,dt.message,INPUT_VALIDATION_RULES.max,INPUT_VALIDATION_RULES.min),!$))return Lt(Dt[yt].message),Dt}if((it||st)&&!Bt&&(isString$3(Tt)||et&&Array.isArray(Tt))){const bt=getValueAndMessage(it),vt=getValueAndMessage(st),ct=!isNullOrUndefined(bt.value)&&Tt.length>+bt.value,dt=!isNullOrUndefined(vt.value)&&Tt.length<+vt.value;if((ct||dt)&&(jt(ct,bt.message,vt.message),!$))return Lt(Dt[yt].message),Dt}if(ut&&!Bt&&isString$3(Tt)){const{value:bt,message:vt}=getValueAndMessage(ut);if(isRegex(bt)&&!Tt.match(bt)&&(Dt[yt]={type:INPUT_VALIDATION_RULES.pattern,message:vt,ref:tt,...Ft(INPUT_VALIDATION_RULES.pattern,vt)},!$))return Lt(vt),Dt}if(ht){if(isFunction$4(ht)){const bt=await ht(Tt,_),vt=getValidateError(bt,Mt);if(vt&&(Dt[yt]={...vt,...Ft(INPUT_VALIDATION_RULES.validate,vt.message)},!$))return Lt(vt.message),Dt}else if(isObject$4(ht)){let bt={};for(const vt in ht){if(!isEmptyObject(bt)&&!$)break;const ct=getValidateError(await ht[vt](Tt,_),Mt,vt);ct&&(bt={...ct,...Ft(vt,ct.message)},Lt(ct.message),$&&(Dt[yt]=bt))}if(!isEmptyObject(bt)&&(Dt[yt]={ref:Mt,...bt},!$))return Dt}}return Lt(!0),Dt},appendAt=(a,_)=>[...a,...convertToArrayPayload(_)],fillEmptyArray=a=>Array.isArray(a)?a.map(()=>{}):void 0;function insert$1(a,_,$){return[...a.slice(0,_),...convertToArrayPayload($),...a.slice(_)]}var moveArrayAt=(a,_,$)=>Array.isArray(a)?(isUndefined$2(a[$])&&(a[$]=void 0),a.splice($,0,a.splice(_,1)[0]),a):[],prependAt=(a,_)=>[...convertToArrayPayload(_),...convertToArrayPayload(a)];function removeAtIndexes(a,_){let $=0;const j=[...a];for(const et of _)j.splice(et-$,1),$++;return compact(j).length?j:[]}var removeArrayAt=(a,_)=>isUndefined$2(_)?[]:removeAtIndexes(a,convertToArrayPayload(_).sort(($,j)=>$-j)),swapArrayAt=(a,_,$)=>{[a[_],a[$]]=[a[$],a[_]]};function baseGet(a,_){const $=_.slice(0,-1).length;let j=0;for(;j<$;)a=isUndefined$2(a)?j++:a[_[j++]];return a}function isEmptyArray(a){for(const _ in a)if(a.hasOwnProperty(_)&&!isUndefined$2(a[_]))return!1;return!0}function unset(a,_){const $=Array.isArray(_)?_:isKey(_)?[_]:stringToPath$2(_),j=$.length===1?a:baseGet(a,$),et=$.length-1,tt=$[et];return j&&delete j[tt],et!==0&&(isObject$4(j)&&isEmptyObject(j)||Array.isArray(j)&&isEmptyArray(j))&&unset(a,$.slice(0,-1)),a}var updateAt=(a,_,$)=>(a[_]=$,a);function useFieldArray(a){const _=useFormContext(),{control:$=_.control,name:j,keyName:et="id",shouldUnregister:tt}=a,[rt,nt]=React$2.useState($._getFieldArray(j)),it=React$2.useRef($._getFieldArray(j).map(generateId)),st=React$2.useRef(rt),ot=React$2.useRef(j),at=React$2.useRef(!1);ot.current=j,st.current=rt,$._names.array.add(j),a.rules&&$.register(j,a.rules),useSubscribe({next:({values:Dt,name:Ut})=>{if(Ut===ot.current||!Ut){const Ot=get$2(Dt,ot.current);Array.isArray(Ot)&&(nt(Ot),it.current=Ot.map(generateId))}},subject:$._subjects.array});const ut=React$2.useCallback(Dt=>{at.current=!0,$._updateFieldArray(j,Dt)},[$,j]),ht=(Dt,Ut)=>{const Ot=convertToArrayPayload(cloneObject(Dt)),It=appendAt($._getFieldArray(j),Ot);$._names.focus=getFocusFieldName(j,It.length-1,Ut),it.current=appendAt(it.current,Ot.map(generateId)),ut(It),nt(It),$._updateFieldArray(j,It,appendAt,{argA:fillEmptyArray(Dt)})},yt=(Dt,Ut)=>{const Ot=convertToArrayPayload(cloneObject(Dt)),It=prependAt($._getFieldArray(j),Ot);$._names.focus=getFocusFieldName(j,0,Ut),it.current=prependAt(it.current,Ot.map(generateId)),ut(It),nt(It),$._updateFieldArray(j,It,prependAt,{argA:fillEmptyArray(Dt)})},wt=Dt=>{const Ut=removeArrayAt($._getFieldArray(j),Dt);it.current=removeArrayAt(it.current,Dt),ut(Ut),nt(Ut),$._updateFieldArray(j,Ut,removeArrayAt,{argA:Dt})},Ct=(Dt,Ut,Ot)=>{const It=convertToArrayPayload(cloneObject(Ut)),Bt=insert$1($._getFieldArray(j),Dt,It);$._names.focus=getFocusFieldName(j,Dt,Ot),it.current=insert$1(it.current,Dt,It.map(generateId)),ut(Bt),nt(Bt),$._updateFieldArray(j,Bt,insert$1,{argA:Dt,argB:fillEmptyArray(Ut)})},Pt=(Dt,Ut)=>{const Ot=$._getFieldArray(j);swapArrayAt(Ot,Dt,Ut),swapArrayAt(it.current,Dt,Ut),ut(Ot),nt(Ot),$._updateFieldArray(j,Ot,swapArrayAt,{argA:Dt,argB:Ut},!1)},Tt=(Dt,Ut)=>{const Ot=$._getFieldArray(j);moveArrayAt(Ot,Dt,Ut),moveArrayAt(it.current,Dt,Ut),ut(Ot),nt(Ot),$._updateFieldArray(j,Ot,moveArrayAt,{argA:Dt,argB:Ut},!1)},Mt=(Dt,Ut)=>{const Ot=cloneObject(Ut),It=updateAt($._getFieldArray(j),Dt,Ot);it.current=[...It].map((Bt,Ft)=>!Bt||Ft===Dt?generateId():it.current[Ft]),ut(It),nt([...It]),$._updateFieldArray(j,It,updateAt,{argA:Dt,argB:Ot},!0,!1)},Lt=Dt=>{const Ut=convertToArrayPayload(cloneObject(Dt));it.current=Ut.map(generateId),ut([...Ut]),nt([...Ut]),$._updateFieldArray(j,[...Ut],Ot=>Ot,{},!0,!1)};return React$2.useEffect(()=>{if($._state.action=!1,isWatched(j,$._names)&&$._subjects.state.next({...$._formState}),at.current&&(!getValidationModes($._options.mode).isOnSubmit||$._formState.isSubmitted))if($._options.resolver)$._executeSchema([j]).then(Dt=>{const Ut=get$2(Dt.errors,j),Ot=get$2($._formState.errors,j);(Ot?!Ut&&Ot.type||Ut&&(Ot.type!==Ut.type||Ot.message!==Ut.message):Ut&&Ut.type)&&(Ut?set$1($._formState.errors,j,Ut):unset($._formState.errors,j),$._subjects.state.next({errors:$._formState.errors}))});else{const Dt=get$2($._fields,j);Dt&&Dt._f&&!(getValidationModes($._options.reValidateMode).isOnSubmit&&getValidationModes($._options.mode).isOnSubmit)&&validateField(Dt,$._formValues,$._options.criteriaMode===VALIDATION_MODE.all,$._options.shouldUseNativeValidation,!0).then(Ut=>!isEmptyObject(Ut)&&$._subjects.state.next({errors:updateFieldArrayRootError($._formState.errors,Ut,j)}))}$._subjects.values.next({name:j,values:{...$._formValues}}),$._names.focus&&iterateFieldsByAction($._fields,(Dt,Ut)=>{if($._names.focus&&Ut.startsWith($._names.focus)&&Dt.focus)return Dt.focus(),1}),$._names.focus="",$._updateValid(),at.current=!1},[rt,j,$]),React$2.useEffect(()=>(!get$2($._formValues,j)&&$._updateFieldArray(j),()=>{($._options.shouldUnregister||tt)&&$.unregister(j)}),[j,$,et,tt]),{swap:React$2.useCallback(Pt,[ut,j,$]),move:React$2.useCallback(Tt,[ut,j,$]),prepend:React$2.useCallback(yt,[ut,j,$]),append:React$2.useCallback(ht,[ut,j,$]),remove:React$2.useCallback(wt,[ut,j,$]),insert:React$2.useCallback(Ct,[ut,j,$]),update:React$2.useCallback(Mt,[ut,j,$]),replace:React$2.useCallback(Lt,[ut,j,$]),fields:React$2.useMemo(()=>rt.map((Dt,Ut)=>({...Dt,[et]:it.current[Ut]||generateId()})),[rt,et])}}var createSubject=()=>{let a=[];return{get observers(){return a},next:et=>{for(const tt of a)tt.next&&tt.next(et)},subscribe:et=>(a.push(et),{unsubscribe:()=>{a=a.filter(tt=>tt!==et)}}),unsubscribe:()=>{a=[]}}},isPrimitive=a=>isNullOrUndefined(a)||!isObjectType(a);function deepEqual$1(a,_){if(isPrimitive(a)||isPrimitive(_))return a===_;if(isDateObject(a)&&isDateObject(_))return a.getTime()===_.getTime();const $=Object.keys(a),j=Object.keys(_);if($.length!==j.length)return!1;for(const et of $){const tt=a[et];if(!j.includes(et))return!1;if(et!=="ref"){const rt=_[et];if(isDateObject(tt)&&isDateObject(rt)||isObject$4(tt)&&isObject$4(rt)||Array.isArray(tt)&&Array.isArray(rt)?!deepEqual$1(tt,rt):tt!==rt)return!1}}return!0}var isMultipleSelect=a=>a.type==="select-multiple",isRadioOrCheckbox=a=>isRadioInput(a)||isCheckBoxInput(a),live=a=>isHTMLElement(a)&&a.isConnected,objectHasFunction=a=>{for(const _ in a)if(isFunction$4(a[_]))return!0;return!1};function markFieldsDirty(a,_={}){const $=Array.isArray(a);if(isObject$4(a)||$)for(const j in a)Array.isArray(a[j])||isObject$4(a[j])&&!objectHasFunction(a[j])?(_[j]=Array.isArray(a[j])?[]:{},markFieldsDirty(a[j],_[j])):isNullOrUndefined(a[j])||(_[j]=!0);return _}function getDirtyFieldsFromDefaultValues(a,_,$){const j=Array.isArray(a);if(isObject$4(a)||j)for(const et in a)Array.isArray(a[et])||isObject$4(a[et])&&!objectHasFunction(a[et])?isUndefined$2(_)||isPrimitive($[et])?$[et]=Array.isArray(a[et])?markFieldsDirty(a[et],[]):{...markFieldsDirty(a[et])}:getDirtyFieldsFromDefaultValues(a[et],isNullOrUndefined(_)?{}:_[et],$[et]):$[et]=!deepEqual$1(a[et],_[et]);return $}var getDirtyFields=(a,_)=>getDirtyFieldsFromDefaultValues(a,_,markFieldsDirty(_)),getFieldValueAs=(a,{valueAsNumber:_,valueAsDate:$,setValueAs:j})=>isUndefined$2(a)?a:_?a===""?NaN:a&&+a:$&&isString$3(a)?new Date(a):j?j(a):a;function getFieldValue(a){const _=a.ref;if(!(a.refs?a.refs.every($=>$.disabled):_.disabled))return isFileInput(_)?_.files:isRadioInput(_)?getRadioValue(a.refs).value:isMultipleSelect(_)?[..._.selectedOptions].map(({value:$})=>$):isCheckBoxInput(_)?getCheckboxValue(a.refs).value:getFieldValueAs(isUndefined$2(_.value)?a.ref.value:_.value,a)}var getResolverOptions=(a,_,$,j)=>{const et={};for(const tt of a){const rt=get$2(_,tt);rt&&set$1(et,tt,rt._f)}return{criteriaMode:$,names:[...a],fields:et,shouldUseNativeValidation:j}},getRuleValue=a=>isUndefined$2(a)?a:isRegex(a)?a.source:isObject$4(a)?isRegex(a.value)?a.value.source:a.value:a,hasValidation=a=>a.mount&&(a.required||a.min||a.max||a.maxLength||a.minLength||a.pattern||a.validate);function schemaErrorLookup(a,_,$){const j=get$2(a,$);if(j||isKey($))return{error:j,name:$};const et=$.split(".");for(;et.length;){const tt=et.join("."),rt=get$2(_,tt),nt=get$2(a,tt);if(rt&&!Array.isArray(rt)&&$!==tt)return{name:$};if(nt&&nt.type)return{name:tt,error:nt};et.pop()}return{name:$}}var skipValidation=(a,_,$,j,et)=>et.isOnAll?!1:!$&&et.isOnTouch?!(_||a):($?j.isOnBlur:et.isOnBlur)?!a:($?j.isOnChange:et.isOnChange)?a:!0,unsetEmptyArray=(a,_)=>!compact(get$2(a,_)).length&&unset(a,_);const defaultOptions$1={mode:VALIDATION_MODE.onSubmit,reValidateMode:VALIDATION_MODE.onChange,shouldFocusError:!0};function createFormControl(a={}){let _={...defaultOptions$1,...a},$={submitCount:0,isDirty:!1,isLoading:isFunction$4(_.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:_.errors||{},disabled:_.disabled||!1},j={},et=isObject$4(_.defaultValues)||isObject$4(_.values)?cloneObject(_.defaultValues||_.values)||{}:{},tt=_.shouldUnregister?{}:cloneObject(et),rt={action:!1,mount:!1,watch:!1},nt={mount:new Set,unMount:new Set,array:new Set,watch:new Set},it,st=0;const ot={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},at={values:createSubject(),array:createSubject(),state:createSubject()},ut=getValidationModes(_.mode),ht=getValidationModes(_.reValidateMode),yt=_.criteriaMode===VALIDATION_MODE.all,wt=lr=>fr=>{clearTimeout(st),st=setTimeout(lr,fr)},Ct=async lr=>{if(ot.isValid||lr){const fr=_.resolver?isEmptyObject((await It()).errors):await Ft(j,!0);fr!==$.isValid&&at.state.next({isValid:fr})}},Pt=(lr,fr)=>{(ot.isValidating||ot.validatingFields)&&((lr||Array.from(nt.mount)).forEach(_r=>{_r&&(fr?set$1($.validatingFields,_r,fr):unset($.validatingFields,_r))}),at.state.next({validatingFields:$.validatingFields,isValidating:!isEmptyObject($.validatingFields)}))},Tt=(lr,fr=[],_r,Rr,kr=!0,Ar=!0)=>{if(Rr&&_r){if(rt.action=!0,Ar&&Array.isArray(get$2(j,lr))){const Pr=_r(get$2(j,lr),Rr.argA,Rr.argB);kr&&set$1(j,lr,Pr)}if(Ar&&Array.isArray(get$2($.errors,lr))){const Pr=_r(get$2($.errors,lr),Rr.argA,Rr.argB);kr&&set$1($.errors,lr,Pr),unsetEmptyArray($.errors,lr)}if(ot.touchedFields&&Ar&&Array.isArray(get$2($.touchedFields,lr))){const Pr=_r(get$2($.touchedFields,lr),Rr.argA,Rr.argB);kr&&set$1($.touchedFields,lr,Pr)}ot.dirtyFields&&($.dirtyFields=getDirtyFields(et,tt)),at.state.next({name:lr,isDirty:bt(lr,fr),dirtyFields:$.dirtyFields,errors:$.errors,isValid:$.isValid})}else set$1(tt,lr,fr)},Mt=(lr,fr)=>{set$1($.errors,lr,fr),at.state.next({errors:$.errors})},Lt=lr=>{$.errors=lr,at.state.next({errors:$.errors,isValid:!1})},Dt=(lr,fr,_r,Rr)=>{const kr=get$2(j,lr);if(kr){const Ar=get$2(tt,lr,isUndefined$2(_r)?get$2(et,lr):_r);isUndefined$2(Ar)||Rr&&Rr.defaultChecked||fr?set$1(tt,lr,fr?Ar:getFieldValue(kr._f)):dt(lr,Ar),rt.mount&&Ct()}},Ut=(lr,fr,_r,Rr,kr)=>{let Ar=!1,Pr=!1;const Or={name:lr},Lr=!!(get$2(j,lr)&&get$2(j,lr)._f.disabled);if(!_r||Rr){ot.isDirty&&(Pr=$.isDirty,$.isDirty=Or.isDirty=bt(),Ar=Pr!==Or.isDirty);const or=Lr||deepEqual$1(get$2(et,lr),fr);Pr=!!(!Lr&&get$2($.dirtyFields,lr)),or||Lr?unset($.dirtyFields,lr):set$1($.dirtyFields,lr,!0),Or.dirtyFields=$.dirtyFields,Ar=Ar||ot.dirtyFields&&Pr!==!or}if(_r){const or=get$2($.touchedFields,lr);or||(set$1($.touchedFields,lr,_r),Or.touchedFields=$.touchedFields,Ar=Ar||ot.touchedFields&&or!==_r)}return Ar&&kr&&at.state.next(Or),Ar?Or:{}},Ot=(lr,fr,_r,Rr)=>{const kr=get$2($.errors,lr),Ar=ot.isValid&&isBoolean$3(fr)&&$.isValid!==fr;if(a.delayError&&_r?(it=wt(()=>Mt(lr,_r)),it(a.delayError)):(clearTimeout(st),it=null,_r?set$1($.errors,lr,_r):unset($.errors,lr)),(_r?!deepEqual$1(kr,_r):kr)||!isEmptyObject(Rr)||Ar){const Pr={...Rr,...Ar&&isBoolean$3(fr)?{isValid:fr}:{},errors:$.errors,name:lr};$={...$,...Pr},at.state.next(Pr)}},It=async lr=>{Pt(lr,!0);const fr=await _.resolver(tt,_.context,getResolverOptions(lr||nt.mount,j,_.criteriaMode,_.shouldUseNativeValidation));return Pt(lr),fr},Bt=async lr=>{const{errors:fr}=await It(lr);if(lr)for(const _r of lr){const Rr=get$2(fr,_r);Rr?set$1($.errors,_r,Rr):unset($.errors,_r)}else $.errors=fr;return fr},Ft=async(lr,fr,_r={valid:!0})=>{for(const Rr in lr){const kr=lr[Rr];if(kr){const{_f:Ar,...Pr}=kr;if(Ar){const Or=nt.array.has(Ar.name);Pt([Rr],!0);const Lr=await validateField(kr,tt,yt,_.shouldUseNativeValidation&&!fr,Or);if(Pt([Rr]),Lr[Ar.name]&&(_r.valid=!1,fr))break;!fr&&(get$2(Lr,Ar.name)?Or?updateFieldArrayRootError($.errors,Lr,Ar.name):set$1($.errors,Ar.name,Lr[Ar.name]):unset($.errors,Ar.name))}Pr&&await Ft(Pr,fr,_r)}}return _r.valid},jt=()=>{for(const lr of nt.unMount){const fr=get$2(j,lr);fr&&(fr._f.refs?fr._f.refs.every(_r=>!live(_r)):!live(fr._f.ref))&&nr(lr)}nt.unMount=new Set},bt=(lr,fr)=>(lr&&fr&&set$1(tt,lr,fr),!deepEqual$1($t(),et)),vt=(lr,fr,_r)=>generateWatchOutput(lr,nt,{...rt.mount?tt:isUndefined$2(fr)?et:isString$3(lr)?{[lr]:fr}:fr},_r,fr),ct=lr=>compact(get$2(rt.mount?tt:et,lr,a.shouldUnregister?get$2(et,lr,[]):[])),dt=(lr,fr,_r={})=>{const Rr=get$2(j,lr);let kr=fr;if(Rr){const Ar=Rr._f;Ar&&(!Ar.disabled&&set$1(tt,lr,getFieldValueAs(fr,Ar)),kr=isHTMLElement(Ar.ref)&&isNullOrUndefined(fr)?"":fr,isMultipleSelect(Ar.ref)?[...Ar.ref.options].forEach(Pr=>Pr.selected=kr.includes(Pr.value)):Ar.refs?isCheckBoxInput(Ar.ref)?Ar.refs.length>1?Ar.refs.forEach(Pr=>(!Pr.defaultChecked||!Pr.disabled)&&(Pr.checked=Array.isArray(kr)?!!kr.find(Or=>Or===Pr.value):kr===Pr.value)):Ar.refs[0]&&(Ar.refs[0].checked=!!kr):Ar.refs.forEach(Pr=>Pr.checked=Pr.value===kr):isFileInput(Ar.ref)?Ar.ref.value="":(Ar.ref.value=kr,Ar.ref.type||at.values.next({name:lr,values:{...tt}})))}(_r.shouldDirty||_r.shouldTouch)&&Ut(lr,kr,_r.shouldTouch,_r.shouldDirty,!0),_r.shouldValidate&&St(lr)},mt=(lr,fr,_r)=>{for(const Rr in fr){const kr=fr[Rr],Ar=`${lr}.${Rr}`,Pr=get$2(j,Ar);(nt.array.has(lr)||!isPrimitive(kr)||Pr&&!Pr._f)&&!isDateObject(kr)?mt(Ar,kr,_r):dt(Ar,kr,_r)}},xt=(lr,fr,_r={})=>{const Rr=get$2(j,lr),kr=nt.array.has(lr),Ar=cloneObject(fr);set$1(tt,lr,Ar),kr?(at.array.next({name:lr,values:{...tt}}),(ot.isDirty||ot.dirtyFields)&&_r.shouldDirty&&at.state.next({name:lr,dirtyFields:getDirtyFields(et,tt),isDirty:bt(lr,Ar)})):Rr&&!Rr._f&&!isNullOrUndefined(Ar)?mt(lr,Ar,_r):dt(lr,Ar,_r),isWatched(lr,nt)&&at.state.next({...$}),at.values.next({name:rt.mount?lr:void 0,values:{...tt}})},At=async lr=>{rt.mount=!0;const fr=lr.target;let _r=fr.name,Rr=!0;const kr=get$2(j,_r),Ar=()=>fr.type?getFieldValue(kr._f):getEventValue(lr),Pr=Or=>{Rr=Number.isNaN(Or)||Or===get$2(tt,_r,Or)};if(kr){let Or,Lr;const or=Ar(),Yt=lr.type===EVENTS.BLUR||lr.type===EVENTS.FOCUS_OUT,er=!hasValidation(kr._f)&&!_.resolver&&!get$2($.errors,_r)&&!kr._f.deps||skipValidation(Yt,get$2($.touchedFields,_r),$.isSubmitted,ht,ut),Gt=isWatched(_r,nt,Yt);set$1(tt,_r,or),Yt?(kr._f.onBlur&&kr._f.onBlur(lr),it&&it(0)):kr._f.onChange&&kr._f.onChange(lr);const Vt=Ut(_r,or,Yt,!1),Wt=!isEmptyObject(Vt)||Gt;if(!Yt&&at.values.next({name:_r,type:lr.type,values:{...tt}}),er)return ot.isValid&&Ct(),Wt&&at.state.next({name:_r,...Gt?{}:Vt});if(!Yt&&Gt&&at.state.next({...$}),_.resolver){const{errors:ar}=await It([_r]);if(Pr(or),Rr){const yr=schemaErrorLookup($.errors,j,_r),Er=schemaErrorLookup(ar,j,yr.name||_r);Or=Er.error,_r=Er.name,Lr=isEmptyObject(ar)}}else Pt([_r],!0),Or=(await validateField(kr,tt,yt,_.shouldUseNativeValidation))[_r],Pt([_r]),Pr(or),Rr&&(Or?Lr=!1:ot.isValid&&(Lr=await Ft(j,!0)));Rr&&(kr._f.deps&&St(kr._f.deps),Ot(_r,Lr,Or,Vt))}},Rt=(lr,fr)=>{if(get$2($.errors,fr)&&lr.focus)return lr.focus(),1},St=async(lr,fr={})=>{let _r,Rr;const kr=convertToArrayPayload(lr);if(_.resolver){const Ar=await Bt(isUndefined$2(lr)?lr:kr);_r=isEmptyObject(Ar),Rr=lr?!kr.some(Pr=>get$2(Ar,Pr)):_r}else lr?(Rr=(await Promise.all(kr.map(async Ar=>{const Pr=get$2(j,Ar);return await Ft(Pr&&Pr._f?{[Ar]:Pr}:Pr)}))).every(Boolean),!(!Rr&&!$.isValid)&&Ct()):Rr=_r=await Ft(j);return at.state.next({...!isString$3(lr)||ot.isValid&&_r!==$.isValid?{}:{name:lr},..._.resolver||!lr?{isValid:_r}:{},errors:$.errors}),fr.shouldFocus&&!Rr&&iterateFieldsByAction(j,Rt,lr?kr:nt.mount),Rr},$t=lr=>{const fr={...rt.mount?tt:et};return isUndefined$2(lr)?fr:isString$3(lr)?get$2(fr,lr):lr.map(_r=>get$2(fr,_r))},Et=(lr,fr)=>({invalid:!!get$2((fr||$).errors,lr),isDirty:!!get$2((fr||$).dirtyFields,lr),isTouched:!!get$2((fr||$).touchedFields,lr),isValidating:!!get$2((fr||$).validatingFields,lr),error:get$2((fr||$).errors,lr)}),Nt=lr=>{lr&&convertToArrayPayload(lr).forEach(fr=>unset($.errors,fr)),at.state.next({errors:lr?$.errors:{}})},tr=(lr,fr,_r)=>{const Rr=(get$2(j,lr,{_f:{}})._f||{}).ref;set$1($.errors,lr,{...fr,ref:Rr}),at.state.next({name:lr,errors:$.errors,isValid:!1}),_r&&_r.shouldFocus&&Rr&&Rr.focus&&Rr.focus()},ir=(lr,fr)=>isFunction$4(lr)?at.values.subscribe({next:_r=>lr(vt(void 0,fr),_r)}):vt(lr,fr,!0),nr=(lr,fr={})=>{for(const _r of lr?convertToArrayPayload(lr):nt.mount)nt.mount.delete(_r),nt.array.delete(_r),fr.keepValue||(unset(j,_r),unset(tt,_r)),!fr.keepError&&unset($.errors,_r),!fr.keepDirty&&unset($.dirtyFields,_r),!fr.keepTouched&&unset($.touchedFields,_r),!fr.keepIsValidating&&unset($.validatingFields,_r),!_.shouldUnregister&&!fr.keepDefaultValue&&unset(et,_r);at.values.next({values:{...tt}}),at.state.next({...$,...fr.keepDirty?{isDirty:bt()}:{}}),!fr.keepIsValid&&Ct()},Zt=({disabled:lr,name:fr,field:_r,fields:Rr,value:kr})=>{if(isBoolean$3(lr)){const Ar=lr?void 0:isUndefined$2(kr)?getFieldValue(_r?_r._f:get$2(Rr,fr)._f):kr;set$1(tt,fr,Ar),Ut(fr,Ar,!1,!1,!0)}},Kt=(lr,fr={})=>{let _r=get$2(j,lr);const Rr=isBoolean$3(fr.disabled);return set$1(j,lr,{..._r||{},_f:{..._r&&_r._f?_r._f:{ref:{name:lr}},name:lr,mount:!0,...fr}}),nt.mount.add(lr),_r?Zt({field:_r,disabled:fr.disabled,name:lr,value:fr.value}):Dt(lr,!0,fr.value),{...Rr?{disabled:fr.disabled}:{},..._.progressive?{required:!!fr.required,min:getRuleValue(fr.min),max:getRuleValue(fr.max),minLength:getRuleValue(fr.minLength),maxLength:getRuleValue(fr.maxLength),pattern:getRuleValue(fr.pattern)}:{},name:lr,onChange:At,onBlur:At,ref:kr=>{if(kr){Kt(lr,fr),_r=get$2(j,lr);const Ar=isUndefined$2(kr.value)&&kr.querySelectorAll&&kr.querySelectorAll("input,select,textarea")[0]||kr,Pr=isRadioOrCheckbox(Ar),Or=_r._f.refs||[];if(Pr?Or.find(Lr=>Lr===Ar):Ar===_r._f.ref)return;set$1(j,lr,{_f:{..._r._f,...Pr?{refs:[...Or.filter(live),Ar,...Array.isArray(get$2(et,lr))?[{}]:[]],ref:{type:Ar.type,name:lr}}:{ref:Ar}}}),Dt(lr,!1,void 0,Ar)}else _r=get$2(j,lr,{}),_r._f&&(_r._f.mount=!1),(_.shouldUnregister||fr.shouldUnregister)&&!(isNameInFieldArray(nt.array,lr)&&rt.action)&&nt.unMount.add(lr)}}},Qt=()=>_.shouldFocusError&&iterateFieldsByAction(j,Rt,nt.mount),Ht=lr=>{isBoolean$3(lr)&&(at.state.next({disabled:lr}),iterateFieldsByAction(j,(fr,_r)=>{let Rr=lr;const kr=get$2(j,_r);kr&&isBoolean$3(kr._f.disabled)&&(Rr||(Rr=kr._f.disabled)),fr.disabled=Rr},0,!1))},qt=(lr,fr)=>async _r=>{let Rr;_r&&(_r.preventDefault&&_r.preventDefault(),_r.persist&&_r.persist());let kr=cloneObject(tt);if(at.state.next({isSubmitting:!0}),_.resolver){const{errors:Ar,values:Pr}=await It();$.errors=Ar,kr=Pr}else await Ft(j);if(unset($.errors,"root"),isEmptyObject($.errors)){at.state.next({errors:{}});try{await lr(kr,_r)}catch(Ar){Rr=Ar}}else fr&&await fr({...$.errors},_r),Qt(),setTimeout(Qt);if(at.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:isEmptyObject($.errors)&&!Rr,submitCount:$.submitCount+1,errors:$.errors}),Rr)throw Rr},Jt=(lr,fr={})=>{get$2(j,lr)&&(isUndefined$2(fr.defaultValue)?xt(lr,cloneObject(get$2(et,lr))):(xt(lr,fr.defaultValue),set$1(et,lr,cloneObject(fr.defaultValue))),fr.keepTouched||unset($.touchedFields,lr),fr.keepDirty||(unset($.dirtyFields,lr),$.isDirty=fr.defaultValue?bt(lr,cloneObject(get$2(et,lr))):bt()),fr.keepError||(unset($.errors,lr),ot.isValid&&Ct()),at.state.next({...$}))},ur=(lr,fr={})=>{const _r=lr?cloneObject(lr):et,Rr=cloneObject(_r),kr=isEmptyObject(lr),Ar=kr?et:Rr;if(fr.keepDefaultValues||(et=_r),!fr.keepValues){if(fr.keepDirtyValues)for(const Pr of nt.mount)get$2($.dirtyFields,Pr)?set$1(Ar,Pr,get$2(tt,Pr)):xt(Pr,get$2(Ar,Pr));else{if(isWeb&&isUndefined$2(lr))for(const Pr of nt.mount){const Or=get$2(j,Pr);if(Or&&Or._f){const Lr=Array.isArray(Or._f.refs)?Or._f.refs[0]:Or._f.ref;if(isHTMLElement(Lr)){const or=Lr.closest("form");if(or){or.reset();break}}}}j={}}tt=a.shouldUnregister?fr.keepDefaultValues?cloneObject(et):{}:cloneObject(Ar),at.array.next({values:{...Ar}}),at.values.next({values:{...Ar}})}nt={mount:fr.keepDirtyValues?nt.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},rt.mount=!ot.isValid||!!fr.keepIsValid||!!fr.keepDirtyValues,rt.watch=!!a.shouldUnregister,at.state.next({submitCount:fr.keepSubmitCount?$.submitCount:0,isDirty:kr?!1:fr.keepDirty?$.isDirty:!!(fr.keepDefaultValues&&!deepEqual$1(lr,et)),isSubmitted:fr.keepIsSubmitted?$.isSubmitted:!1,dirtyFields:kr?[]:fr.keepDirtyValues?fr.keepDefaultValues&&tt?getDirtyFields(et,tt):$.dirtyFields:fr.keepDefaultValues&&lr?getDirtyFields(et,lr):{},touchedFields:fr.keepTouched?$.touchedFields:{},errors:fr.keepErrors?$.errors:{},isSubmitSuccessful:fr.keepIsSubmitSuccessful?$.isSubmitSuccessful:!1,isSubmitting:!1})},xr=(lr,fr)=>ur(isFunction$4(lr)?lr(tt):lr,fr);return{control:{register:Kt,unregister:nr,getFieldState:Et,handleSubmit:qt,setError:tr,_executeSchema:It,_getWatch:vt,_getDirty:bt,_updateValid:Ct,_removeUnmounted:jt,_updateFieldArray:Tt,_updateDisabledField:Zt,_getFieldArray:ct,_reset:ur,_resetDefaultValues:()=>isFunction$4(_.defaultValues)&&_.defaultValues().then(lr=>{xr(lr,_.resetOptions),at.state.next({isLoading:!1})}),_updateFormState:lr=>{$={...$,...lr}},_disableForm:Ht,_subjects:at,_proxyFormState:ot,_setErrors:Lt,get _fields(){return j},get _formValues(){return tt},get _state(){return rt},set _state(lr){rt=lr},get _defaultValues(){return et},get _names(){return nt},set _names(lr){nt=lr},get _formState(){return $},set _formState(lr){$=lr},get _options(){return _},set _options(lr){_={..._,...lr}}},trigger:St,register:Kt,handleSubmit:qt,watch:ir,setValue:xt,getValues:$t,reset:xr,resetField:Jt,clearErrors:Nt,unregister:nr,setError:tr,setFocus:(lr,fr={})=>{const _r=get$2(j,lr),Rr=_r&&_r._f;if(Rr){const kr=Rr.refs?Rr.refs[0]:Rr.ref;kr.focus&&(kr.focus(),fr.shouldSelect&&kr.select())}},getFieldState:Et}}function useForm(a={}){const _=React$2.useRef(),$=React$2.useRef(),[j,et]=React$2.useState({isDirty:!1,isValidating:!1,isLoading:isFunction$4(a.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:a.errors||{},disabled:a.disabled||!1,defaultValues:isFunction$4(a.defaultValues)?void 0:a.defaultValues});_.current||(_.current={...createFormControl(a),formState:j});const tt=_.current.control;return tt._options=a,useSubscribe({subject:tt._subjects.state,next:rt=>{shouldRenderFormState(rt,tt._proxyFormState,tt._updateFormState)&&et({...tt._formState})}}),React$2.useEffect(()=>tt._disableForm(a.disabled),[tt,a.disabled]),React$2.useEffect(()=>{if(tt._proxyFormState.isDirty){const rt=tt._getDirty();rt!==j.isDirty&&tt._subjects.state.next({isDirty:rt})}},[tt,j.isDirty]),React$2.useEffect(()=>{a.values&&!deepEqual$1(a.values,$.current)?(tt._reset(a.values,tt._options.resetOptions),$.current=a.values,et(rt=>({...rt}))):tt._resetDefaultValues()},[a.values,tt]),React$2.useEffect(()=>{a.errors&&tt._setErrors(a.errors)},[a.errors,tt]),React$2.useEffect(()=>{tt._state.mount||(tt._updateValid(),tt._state.mount=!0),tt._state.watch&&(tt._state.watch=!1,tt._subjects.state.next({...tt._formState})),tt._removeUnmounted()}),React$2.useEffect(()=>{a.shouldUnregister&&tt._subjects.values.next({values:tt._getWatch()})},[a.shouldUnregister,tt]),_.current.formState=getProxyFormState(j,tt),_.current}const colors={orange:"#FB4F57",orangeL:"#FC7884",blue:"#0D99FF",blueL:"#4FA2FF",green:"#00C39A",greenL:"#00E7B6",black:"#000000",white:"#FFFFFF",gray:{900:"#121212",800:"#181818",700:"#282828",600:"#2C2B2B",500:"#414141",450:"#707070",400:"#C2C2C2",300:"#D6D6D6",200:"#EBEBEB",100:"#F0F0F0",50:"#F5F5F5"}},AccountsIcon=a=>jsxRuntimeExports.jsxs(Icon,{width:"24px",height:"24px",fill:"none",textAlign:"center",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",...a,children:[jsxRuntimeExports.jsx("path",{d:"M14 5.6C14 5.03995 14 4.75992 14.109 4.54601C14.2049 4.35785 14.3578 4.20487 14.546 4.10899C14.7599 4 15.0399 4 15.6 4H18.4C18.9601 4 19.2401 4 19.454 4.10899C19.6422 4.20487 19.7951 4.35785 19.891 4.54601C20 4.75992 20 5.03995 20 5.6V8.4C20 8.96005 20 9.24008 19.891 9.45399C19.7951 9.64215 19.6422 9.79513 19.454 9.89101C19.2401 10 18.9601 10 18.4 10H15.6C15.0399 10 14.7599 10 14.546 9.89101C14.3578 9.79513 14.2049 9.64215 14.109 9.45399C14 9.24008 14 8.96005 14 8.4V5.6Z",stroke:colors.gray[450],strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.2"}),jsxRuntimeExports.jsx("path",{d:"M4 5.6C4 5.03995 4 4.75992 4.10899 4.54601C4.20487 4.35785 4.35785 4.20487 4.54601 4.10899C4.75992 4 5.03995 4 5.6 4H8.4C8.96005 4 9.24008 4 9.45399 4.10899C9.64215 4.20487 9.79513 4.35785 9.89101 4.54601C10 4.75992 10 5.03995 10 5.6V8.4C10 8.96005 10 9.24008 9.89101 9.45399C9.79513 9.64215 9.64215 9.79513 9.45399 9.89101C9.24008 10 8.96005 10 8.4 10H5.6C5.03995 10 4.75992 10 4.54601 9.89101C4.35785 9.79513 4.20487 9.64215 4.10899 9.45399C4 9.24008 4 8.96005 4 8.4V5.6Z",stroke:colors.gray[450],strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.2"}),jsxRuntimeExports.jsx("path",{d:"M4 15.6C4 15.0399 4 14.7599 4.10899 14.546C4.20487 14.3578 4.35785 14.2049 4.54601 14.109C4.75992 14 5.03995 14 5.6 14H8.4C8.96005 14 9.24008 14 9.45399 14.109C9.64215 14.2049 9.79513 14.3578 9.89101 14.546C10 14.7599 10 15.0399 10 15.6V18.4C10 18.9601 10 19.2401 9.89101 19.454C9.79513 19.6422 9.64215 19.7951 9.45399 19.891C9.24008 20 8.96005 20 8.4 20H5.6C5.03995 20 4.75992 20 4.54601 19.891C4.35785 19.7951 4.20487 19.6422 4.10899 19.454C4 19.2401 4 18.9601 4 18.4V15.6Z",stroke:colors.gray[450],strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.2"}),jsxRuntimeExports.jsx("path",{d:"M14 15.6C14 15.0399 14 14.7599 14.109 14.546C14.2049 14.3578 14.3578 14.2049 14.546 14.109C14.7599 14 15.0399 14 15.6 14H18.4C18.9601 14 19.2401 14 19.454 14.109C19.6422 14.2049 19.7951 14.3578 19.891 14.546C20 14.7599 20 15.0399 20 15.6V18.4C20 18.9601 20 19.2401 19.891 19.454C19.7951 19.6422 19.6422 19.7951 19.454 19.891C19.2401 20 18.9601 20 18.4 20H15.6C15.0399 20 14.7599 20 14.546 19.891C14.3578 19.7951 14.2049 19.6422 14.109 19.454C14 19.2401 14 18.9601 14 18.4V15.6Z",stroke:colors.gray[450],strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.2"})]}),AddAccountIcon=a=>jsxRuntimeExports.jsx(Icon,{width:"18px",height:"18px",fill:"none",stroke:colors.gray[450],viewBox:"0 0 18 18",xmlns:"http://www.w3.org/2000/svg",...a,children:jsxRuntimeExports.jsx("path",{d:"M8.25 13.5H4.65C3.80992 13.5 3.38988 13.5 3.06901 13.3365C2.78677 13.1927 2.5573 12.9632 2.41349 12.681C2.25 12.3601 2.25 11.9401 2.25 11.1V5.4C2.25 4.55992 2.25 4.13988 2.41349 3.81901C2.5573 3.53677 2.78677 3.3073 3.06901 3.16349C3.38988 3 3.80992 3 4.65 3H13.35C14.1901 3 14.6101 3 14.931 3.16349C15.2132 3.3073 15.4427 3.53677 15.5865 3.81901C15.75 4.13988 15.75 4.55992 15.75 5.4V8.25M2.25 6H15.75M13.5 15V10.5M15.75 12.7506L11.25 12.75",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.2"})}),AddContactIcon=a=>jsxRuntimeExports.jsx(Icon,{fill:"none",viewBox:"0 0 13 17",xmlns:"http://www.w3.org/2000/svg",...a,children:jsxRuntimeExports.jsx("path",{d:"M13 12.5L10.75 12.5M10.75 12.5L8.5 12.5M10.75 12.5V10.25M10.75 12.5V14.75M6.25 14.75H1C1 11.8505 3.35051 9.5 6.25 9.5C6.77123 9.5 7.27472 9.57596 7.75 9.71741M9.25 4.25C9.25 5.90685 7.90685 7.25 6.25 7.25C4.59315 7.25 3.25 5.90685 3.25 4.25C3.25 2.59315 4.59315 1.25 6.25 1.25C7.90685 1.25 9.25 2.59315 9.25 4.25Z",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.2"})}),AddressBookIcon=a=>jsxRuntimeExports.jsx(Icon,{width:"24px",height:"24px",fill:"none",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",...a,children:jsxRuntimeExports.jsx("path",{d:"M13.5 15.5C13.2164 14.3589 11.981 13.5 10.5 13.5C9.019 13.5 7.78364 14.3589 7.5 15.5M21 5V7M21 11V13M21 17V19M6.2 21H14.8C15.9201 21 16.4802 21 16.908 20.782C17.2843 20.5903 17.5903 20.2843 17.782 19.908C18 19.4802 18 18.9201 18 17.8V6.2C18 5.0799 18 4.51984 17.782 4.09202C17.5903 3.71569 17.2843 3.40973 16.908 3.21799C16.4802 3 15.9201 3 14.8 3H6.2C5.0799 3 4.51984 3 4.09202 3.21799C3.71569 3.40973 3.40973 3.71569 3.21799 4.09202C3 4.51984 3 5.07989 3 6.2V17.8C3 18.9201 3 19.4802 3.21799 19.908C3.40973 20.2843 3.71569 20.5903 4.09202 20.782C4.51984 21 5.07989 21 6.2 21ZM11.5 9.5C11.5 10.0523 11.0523 10.5 10.5 10.5C9.94772 10.5 9.5 10.0523 9.5 9.5C9.5 8.94772 9.94772 8.5 10.5 8.5C11.0523 8.5 11.5 8.94772 11.5 9.5Z",stroke:colors.gray[450],strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.2"})}),BakerIcon=a=>jsxRuntimeExports.jsx(Icon,{width:"18px",height:"18px",fill:"none",stroke:colors.gray[450],"data-testid":"baker-icon",viewBox:"0 0 18 18",xmlns:"http://www.w3.org/2000/svg",...a,children:jsxRuntimeExports.jsx("path",{d:"M3.74946 5.25V8.25M7.49946 1.5V4.5M13.4995 12V15M2.24946 6.75H5.24946M5.99946 3H8.99946M11.9995 13.5H14.9995M10.4995 5.25L12.6208 7.37132M14.6369 2.80959L15.0612 3.23385C15.3582 3.53086 15.5067 3.67937 15.5624 3.85062C15.6113 4.00125 15.6113 4.16351 15.5624 4.31414C15.5067 4.48539 15.3582 4.6339 15.0612 4.93091L4.89356 15.0985C4.59655 15.3955 4.44804 15.5441 4.2768 15.5997C4.12617 15.6486 3.9639 15.6486 3.81327 15.5997C3.64203 15.5441 3.49352 15.3955 3.19651 15.0985L2.77224 14.6743C2.47523 14.3773 2.32672 14.2288 2.27108 14.0575C2.22214 13.9069 2.22214 13.7446 2.27108 13.594C2.32672 13.4227 2.47523 13.2742 2.77224 12.9772L12.9399 2.80959C13.2369 2.51258 13.3854 2.36407 13.5566 2.30843C13.7073 2.25948 13.8695 2.25948 14.0202 2.30843C14.1914 2.36407 14.3399 2.51258 14.6369 2.80959Z",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.2"})}),BatchIcon=a=>jsxRuntimeExports.jsx(Icon,{width:"24px",height:"24px",fill:"none",strokeWidth:"1.2",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",...a,children:jsxRuntimeExports.jsx("path",{d:"M10 4V20M14 4V20M4 8C4 8.92997 4 9.39496 4.10222 9.77646C4.37962 10.8117 5.18827 11.6204 6.22354 11.8978C6.60504 12 7.07003 12 8 12H16C16.93 12 17.395 12 17.7765 11.8978C18.8117 11.6204 19.6204 10.8117 19.8978 9.77646C20 9.39496 20 8.92997 20 8M4 8C4 7.07003 4 6.60504 4.10222 6.22354C4.37962 5.18827 5.18827 4.37962 6.22354 4.10222C6.60504 4 7.07003 4 8 4H16C16.93 4 17.395 4 17.7765 4.10222C18.8117 4.37962 19.6204 5.18827 19.8978 6.22354C20 6.60504 20 7.07003 20 8M4 8V16C4 16.93 4 17.395 4.10222 17.7765C4.37962 18.8117 5.18827 19.6204 6.22354 19.8978C6.60504 20 7.07003 20 8 20H16C16.93 20 17.395 20 17.7765 19.8978C18.8117 19.6204 19.6204 18.8117 19.8978 17.7765C20 17.395 20 16.93 20 16V8M10 16H8C7.07003 16 6.60504 16 6.22354 15.8978C5.18827 15.6204 4.37962 14.8117 4.10222 13.7765C4 13.395 4 12.93 4 12M14 16H16C16.93 16 17.395 16 17.7765 15.8978C18.8117 15.6204 19.6204 14.8117 19.8978 13.7765C20 13.395 20 12.93 20 12M7 8H7.01M17 8H17.01",stroke:colors.gray[450],strokeLinecap:"round",strokeLinejoin:"round"})}),BurgerMenuIcon=a=>jsxRuntimeExports.jsx(Icon,{width:"24px",height:"24px",fill:"none",stroke:colors.gray[450],textAlign:"center",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",...a,children:jsxRuntimeExports.jsx("path",{d:"M4 6H20M4 12H20M4 18H20",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.2"})}),CheckmarkIcon=a=>jsxRuntimeExports.jsx(Icon,{width:"18px",height:"18px",fill:"none",viewBox:"0 0 18 18",xmlns:"http://www.w3.org/2000/svg",...a,children:jsxRuntimeExports.jsx("path",{d:"M6 9.25L7.84615 11.25L12 6.75M15.75 9C15.75 12.7279 12.7279 15.75 9 15.75C5.27208 15.75 2.25 12.7279 2.25 9C2.25 5.27208 5.27208 2.25 9 2.25C12.7279 2.25 15.75 5.27208 15.75 9Z",stroke:"#00C39A",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.2"})}),ChevronDownIcon$1=a=>jsxRuntimeExports.jsx(Icon,{width:"18px",height:"18px",fill:"none",stroke:colors.gray[450],viewBox:"0 0 18 18",xmlns:"http://www.w3.org/2000/svg",...a,children:jsxRuntimeExports.jsx("path",{d:"M4.5 6.75L9 11.25L13.5 6.75",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.2"})}),ChevronRightIcon=a=>jsxRuntimeExports.jsx(Icon,{width:"18px",height:"18px",fill:"none",stroke:colors.gray[450],viewBox:"0 0 18 18",xmlns:"http://www.w3.org/2000/svg",...a,children:jsxRuntimeExports.jsx("path",{d:"M7 14L11.5 9.5L7 5",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.2"})}),ChevronUpIcon=a=>jsxRuntimeExports.jsx(Icon,{width:"18px",height:"18px",fill:"none",stroke:colors.gray[450],viewBox:"0 0 18 18",xmlns:"http://www.w3.org/2000/svg",...a,children:jsxRuntimeExports.jsx("path",{d:"M4.5 11.25L9 6.75L13.5 11.25",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.2"})}),CoinIcon=a=>jsxRuntimeExports.jsx(Icon,{width:"24px",height:"24px",fill:"none",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",...a,children:jsxRuntimeExports.jsx("path",{d:"M12 10V14M21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12ZM17 12C17 14.7614 14.7614 17 12 17C9.23858 17 7 14.7614 7 12C7 9.23858 9.23858 7 12 7C14.7614 7 17 9.23858 17 12Z",stroke:colors.gray[450],strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.2"})}),ContactIcon=a=>jsxRuntimeExports.jsx(Icon,{width:"18px",height:"18px",fill:"none","data-testid":"contact-icon",viewBox:"0 0 18 18",xmlns:"http://www.w3.org/2000/svg",...a,children:jsxRuntimeExports.jsx("path",{d:"M3.75 15.75C3.75 12.8505 6.10051 10.5 9 10.5C11.8995 10.5 14.25 12.8505 14.25 15.75M12 5.25C12 6.90685 10.6569 8.25 9 8.25C7.34315 8.25 6 6.90685 6 5.25C6 3.59315 7.34315 2.25 9 2.25C10.6569 2.25 12 3.59315 12 5.25Z",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.2"})}),ContractIcon=a=>jsxRuntimeExports.jsx(Icon,{width:"18px",height:"18px",fill:"none",viewBox:"0 0 18 18",xmlns:"http://www.w3.org/2000/svg",...a,children:jsxRuntimeExports.jsx("path",{d:"M7.5 12.75L6 11.25L7.5 9.75M10.5 9.75L12 11.25L10.5 12.75M9.75 2.25H6.15C5.30992 2.25 4.88988 2.25 4.56901 2.41349C4.28677 2.5573 4.0573 2.78677 3.91349 3.06901C3.75 3.38988 3.75 3.80992 3.75 4.65V13.35C3.75 14.1901 3.75 14.6101 3.91349 14.931C4.0573 15.2132 4.28677 15.4427 4.56901 15.5865C4.88988 15.75 5.30992 15.75 6.15 15.75H11.85C12.6901 15.75 13.1101 15.75 13.431 15.5865C13.7132 15.4427 13.9427 15.2132 14.0865 14.931C14.25 14.6101 14.25 14.1901 14.25 13.35V6.75M9.75 2.25L14.25 6.75M9.75 2.25V6C9.75 6.41421 10.0858 6.75 10.5 6.75H14.25",stroke:colors.gray[450],strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.2"})}),CrossedCircleIcon=a=>jsxRuntimeExports.jsx(Icon,{width:"18px",height:"18px",fill:"none",viewBox:"0 0 18 18",xmlns:"http://www.w3.org/2000/svg",...a,children:jsxRuntimeExports.jsx("path",{d:"M13.773 13.773C14.9945 12.5515 15.75 10.864 15.75 9C15.75 5.27208 12.7279 2.25 9 2.25C7.13604 2.25 5.44854 3.00552 4.22703 4.22703M13.773 13.773C12.5515 14.9945 10.864 15.75 9 15.75C5.27208 15.75 2.25 12.7279 2.25 9C2.25 7.13604 3.00552 5.44854 4.22703 4.22703M13.773 13.773L4.22703 4.22703",stroke:"#FB4F57",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.2"})}),DiamondIcon=a=>jsxRuntimeExports.jsx(Icon,{width:"24px",height:"24px",fill:"none",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",...a,children:jsxRuntimeExports.jsx("path",{d:"M3.125 9H20.875M12 3L8 9L12 20.6667L16 9L12 3ZM12.64 20.1467L20.64 9.48C20.7691 9.30787 20.8336 9.22181 20.8585 9.12728C20.8805 9.04385 20.8805 8.95615 20.8585 8.87272C20.8336 8.77819 20.7691 8.69213 20.64 8.52L16.74 3.32C16.652 3.20267 16.608 3.144 16.5522 3.10169C16.5028 3.06421 16.4469 3.03625 16.3873 3.01922C16.32 3 16.2467 3 16.1 3H7.9C7.75333 3 7.68 3 7.61269 3.01922C7.55308 3.03625 7.49715 3.06421 7.44776 3.10169C7.392 3.144 7.348 3.20267 7.26 3.32L3.36 8.52C3.2309 8.69213 3.16635 8.77819 3.14147 8.87271C3.11951 8.95615 3.11951 9.04385 3.14147 9.12728C3.16635 9.2218 3.2309 9.30787 3.36 9.48L11.36 20.1467C11.5771 20.4362 11.6857 20.5809 11.8188 20.6327C11.9353 20.678 12.0647 20.678 12.1812 20.6327C12.3143 20.5809 12.4229 20.4362 12.64 20.1467Z",stroke:colors.gray[450],strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.2"})}),DocumentIcon=a=>jsxRuntimeExports.jsx(Icon,{width:"24px",height:"24px",fill:"none",stroke:colors.gray[450],viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",...a,children:jsxRuntimeExports.jsx("path",{d:"M9 17H13M9 13H13M9 9H10M17 18V21M17 15H17.01M13 3H8.2C7.0799 3 6.51984 3 6.09202 3.21799C5.71569 3.40973 5.40973 3.71569 5.21799 4.09202C5 4.51984 5 5.0799 5 6.2V17.8C5 18.9201 5 19.4802 5.21799 19.908C5.40973 20.2843 5.71569 20.5903 6.09202 20.782C6.51984 21 7.0799 21 8.2 21H13M13 3L19 9M13 3V7.4C13 7.96005 13 8.24008 13.109 8.45399C13.2049 8.64215 13.3578 8.79513 13.546 8.89101C13.7599 9 14.0399 9 14.6 9H19M19 9V11.5",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.2"})}),DoubleCheckmarkIcon=a=>jsxRuntimeExports.jsx(Icon,{width:"24px",height:"24px",fill:"none",stroke:colors.gray[450],viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",...a,children:jsxRuntimeExports.jsx("path",{d:"M4 14L9 19L20 8M6 8.88889L9.07692 12L16 5",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.2"})}),DownloadIcon=a=>jsxRuntimeExports.jsx(Icon,{width:"16px",height:"16px",fill:"none",stroke:colors.gray[450],viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",...a,children:jsxRuntimeExports.jsx("path",{d:"M5 7.25L8 10.25M8 10.25L11 7.25M8 10.25V1.25M14.75 7.25V12.3494C14.75 13.1895 14.75 13.6095 14.5865 13.9304C14.4427 14.2126 14.2132 14.4421 13.931 14.5859C13.6101 14.7494 13.1901 14.7494 12.35 14.7494H3.65C2.80992 14.7494 2.38988 14.7494 2.06901 14.5859C1.78677 14.4421 1.5573 14.2126 1.41349 13.9304C1.25 13.6095 1.25 13.1895 1.25 12.3494V7.25",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.2"})}),EditAccountIcon=a=>jsxRuntimeExports.jsx(Icon,{width:"24px",height:"24px",fill:"none",stroke:colors.gray[450],viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",...a,children:jsxRuntimeExports.jsx("path",{d:"M8.5 21H4C4 17.134 7.13401 14 11 14C11.1681 14 11.3348 14.0059 11.5 14.0176M15 7C15 9.20914 13.2091 11 11 11C8.79086 11 7 9.20914 7 7C7 4.79086 8.79086 3 11 3C13.2091 3 15 4.79086 15 7ZM12.5898 21L14.6148 20.595C14.7914 20.5597 14.8797 20.542 14.962 20.5097C15.0351 20.4811 15.1045 20.4439 15.1689 20.399C15.2414 20.3484 15.3051 20.2848 15.4324 20.1574L19.5898 16C20.1421 15.4477 20.1421 14.5523 19.5898 14C19.0376 13.4477 18.1421 13.4477 17.5898 14L13.4324 18.1574C13.3051 18.2848 13.2414 18.3484 13.1908 18.421C13.1459 18.4853 13.1088 18.5548 13.0801 18.6279C13.0478 18.7102 13.0302 18.7985 12.9948 18.975L12.5898 21Z",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.2"})}),ExclamationIcon=a=>jsxRuntimeExports.jsx(Icon,{width:"12px",height:"12px",fill:"none",stroke:colors.orange,viewBox:"0 0 12 12",xmlns:"http://www.w3.org/2000/svg",...a,children:jsxRuntimeExports.jsx("path",{d:"M6 3.66667V6.58333M6 8.33333H6.00583M11.25 6C11.25 8.89949 8.89949 11.25 6 11.25C3.1005 11.25 0.75 8.89949 0.75 6C0.75 3.1005 3.1005 0.75 6 0.75C8.89949 0.75 11.25 3.1005 11.25 6Z",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.2"})}),ExitArrowIcon=a=>jsxRuntimeExports.jsx(Icon,{width:"24px",height:"24px",fill:"none",stroke:colors.gray[450],viewBox:"0 0 18 18",xmlns:"http://www.w3.org/2000/svg",...a,children:jsxRuntimeExports.jsx("path",{d:"M15 3V15M3 9H12M12 9L9 6M12 9L9 12",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.2"})}),ExternalLinkIcon=a=>jsxRuntimeExports.jsx(Icon,{width:"18px",height:"18px",fill:"none",stroke:colors.gray[450],viewBox:"0 0 18 18",xmlns:"http://www.w3.org/2000/svg",...a,children:jsxRuntimeExports.jsx("path",{d:"M15 3L9 9M15 3V6.375M15 3H11.625M14.25 9.375V12.6C14.25 13.4401 14.25 13.8601 14.0865 14.181C13.9427 14.4632 13.7132 14.6927 13.431 14.8365C13.1101 15 12.6901 15 11.85 15H5.4C4.55992 15 4.13988 15 3.81901 14.8365C3.53677 14.6927 3.3073 14.4632 3.16349 14.181C3 13.8601 3 13.4401 3 12.6V6.15C3 5.30992 3 4.88988 3.16349 4.56901C3.3073 4.28677 3.53677 4.0573 3.81901 3.91349C4.13988 3.75 4.55992 3.75 5.4 3.75H8.625",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.2"})}),EyeIcon=a=>jsxRuntimeExports.jsxs(Icon,{width:"16px",height:"12px",fill:"none",viewBox:"0 0 16 12",xmlns:"http://www.w3.org/2000/svg",...a,children:[jsxRuntimeExports.jsx("path",{d:"M10.2501 6C10.2501 7.24264 9.2427 8.25 8.00006 8.25C6.75742 8.25 5.75006 7.24264 5.75006 6C5.75006 4.75736 6.75742 3.75 8.00006 3.75C9.2427 3.75 10.2501 4.75736 10.2501 6Z",stroke:colors.gray[450],strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.2"}),jsxRuntimeExports.jsx("path",{d:"M8.00039 0.75C4.64217 0.75 1.79946 2.95716 0.84375 5.99997C1.79944 9.04282 4.64217 11.25 8.00041 11.25C11.3586 11.25 14.2013 9.04284 15.157 6.00003C14.2014 2.95719 11.3586 0.75 8.00039 0.75Z",stroke:colors.gray[450],strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.2"})]}),EyeSlashIcon=a=>jsxRuntimeExports.jsx(Icon,{width:"18px",height:"18px",fill:"none",viewBox:"0 0 18 18",xmlns:"http://www.w3.org/2000/svg",...a,children:jsxRuntimeExports.jsx("path",{d:"M2.25024 2.25L15.7502 15.75M7.38345 7.43523C6.99147 7.84016 6.75024 8.39191 6.75024 9C6.75024 10.2426 7.7576 11.25 9.00024 11.25C9.6171 11.25 10.176 11.0018 10.5824 10.5997M4.87524 4.98536C3.45076 5.92525 2.36577 7.33796 1.84375 8.99997C2.79944 12.0428 5.64217 14.25 9.00041 14.25C10.4921 14.25 11.882 13.8145 13.0501 13.0638M8.25024 3.78705C8.49697 3.76254 8.74722 3.75 9.00039 3.75C12.3586 3.75 15.2014 5.95719 16.157 9.00003C15.9465 9.67048 15.6443 10.3004 15.2651 10.875",stroke:colors.gray[450],strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.2"})}),FA12Icon=a=>jsxRuntimeExports.jsx(Icon,{width:"30px",height:"15px",fill:colors.gray[450],viewBox:"1 1 30 15",xmlns:"http://www.w3.org/2000/svg",...a,children:jsxRuntimeExports.jsx("path",{d:"M1.2429 13V4.27273H7.02131V5.79403H3.08807V7.87358H6.63778V9.39489H3.08807V13H1.2429ZM8.67685 13H6.69957L9.71236 4.27273H12.0902L15.0987 13H13.1214L10.9354 6.26705H10.8672L8.67685 13ZM8.55327 9.5696H13.2237V11.0099H8.55327V9.5696ZM19.4847 4.27273V13H17.6396V6.02415H17.5884L15.5898 7.27699V5.64062L17.7504 4.27273H19.4847ZM22.1683 13.1108C21.8871 13.1108 21.6456 13.0114 21.4439 12.8125C21.245 12.6108 21.1456 12.3693 21.1456 12.0881C21.1456 11.8097 21.245 11.571 21.4439 11.3722C21.6456 11.1733 21.8871 11.0739 22.1683 11.0739C22.4411 11.0739 22.6797 11.1733 22.8842 11.3722C23.0888 11.571 23.1911 11.8097 23.1911 12.0881C23.1911 12.2756 23.1428 12.4474 23.0462 12.6037C22.9524 12.7571 22.8288 12.8807 22.6754 12.9744C22.522 13.0653 22.353 13.1108 22.1683 13.1108ZM24.6644 13V11.6705L27.771 8.79403C28.0352 8.53835 28.2567 8.30824 28.4357 8.10369C28.6175 7.89915 28.7553 7.69886 28.8491 7.50284C28.9428 7.30398 28.9897 7.08949 28.9897 6.85938C28.9897 6.60369 28.9315 6.38352 28.815 6.19886C28.6985 6.01136 28.5394 5.8679 28.3377 5.76847C28.136 5.66619 27.9073 5.61506 27.6516 5.61506C27.3846 5.61506 27.1516 5.66903 26.9528 5.77699C26.7539 5.88494 26.6005 6.03977 26.4925 6.24148C26.3846 6.44318 26.3306 6.68324 26.3306 6.96165H24.5792C24.5792 6.39062 24.7085 5.89489 24.967 5.47443C25.2255 5.05398 25.5877 4.72869 26.0536 4.49858C26.5195 4.26847 27.0565 4.15341 27.6644 4.15341C28.2894 4.15341 28.8335 4.2642 29.2965 4.4858C29.7624 4.70455 30.1246 5.00852 30.3832 5.39773C30.6417 5.78693 30.771 6.23295 30.771 6.7358C30.771 7.06534 30.7056 7.39062 30.5749 7.71165C30.4471 8.03267 30.2184 8.3892 29.8888 8.78125C29.5593 9.17045 29.0948 9.63778 28.4954 10.1832L27.2212 11.4318V11.4915H30.886V13H24.6644Z"})}),FA2Icon=a=>jsxRuntimeExports.jsx(Icon,{width:"23px",height:"18px",fill:colors.gray[450],viewBox:"0 0 23 18",xmlns:"http://www.w3.org/2000/svg",...a,children:jsxRuntimeExports.jsx("path",{d:"M1.0261 13V4.27273H6.80451V5.79403H2.87127V7.87358H6.42099V9.39489H2.87127V13H1.0261ZM8.46005 13H6.48278L9.49556 4.27273H11.8734L14.8819 13H12.9047L10.7186 6.26705H10.6504L8.46005 13ZM8.33647 9.5696H13.0069V11.0099H8.33647V9.5696ZM15.8812 13V11.6705L18.9877 8.79403C19.252 8.53835 19.4735 8.30824 19.6525 8.10369C19.8343 7.89915 19.9721 7.69886 20.0659 7.50284C20.1596 7.30398 20.2065 7.08949 20.2065 6.85938C20.2065 6.60369 20.1483 6.38352 20.0318 6.19886C19.9153 6.01136 19.7562 5.8679 19.5545 5.76847C19.3528 5.66619 19.1241 5.61506 18.8684 5.61506C18.6014 5.61506 18.3684 5.66903 18.1696 5.77699C17.9707 5.88494 17.8173 6.03977 17.7093 6.24148C17.6014 6.44318 17.5474 6.68324 17.5474 6.96165H15.796C15.796 6.39062 15.9252 5.89489 16.1838 5.47443C16.4423 5.05398 16.8045 4.72869 17.2704 4.49858C17.7363 4.26847 18.2733 4.15341 18.8812 4.15341C19.5062 4.15341 20.0502 4.2642 20.5133 4.4858C20.9792 4.70455 21.3414 5.00852 21.6 5.39773C21.8585 5.78693 21.9877 6.23295 21.9877 6.7358C21.9877 7.06534 21.9224 7.39062 21.7917 7.71165C21.6639 8.03267 21.4352 8.3892 21.1056 8.78125C20.7761 9.17045 20.3116 9.63778 19.7122 10.1832L18.438 11.4318V11.4915H22.1028V13H15.8812Z"})}),FetchingIcon=a=>jsxRuntimeExports.jsx(Icon,{width:"19px",height:"19px",fill:"none",stroke:colors.gray[400],viewBox:"0 0 19 19",xmlns:"http://www.w3.org/2000/svg",...a,children:jsxRuntimeExports.jsx("path",{d:"M15.7842 10.2916C15.8165 10.0323 15.8332 9.76807 15.8332 9.49996C15.8332 6.00216 12.9976 3.16663 9.49984 3.16663C7.52021 3.16663 5.75273 4.07488 4.59135 5.49742M3.2155 8.70829C3.18316 8.96764 3.1665 9.23185 3.1665 9.49996C3.1665 12.9978 6.00203 15.8333 9.49984 15.8333C11.3914 15.8333 13.0893 15.004 14.2498 13.6892M11.8748 13.4583H14.2498V13.6892M4.59135 3.16663V5.49742M4.59135 5.49742V5.54157L6.96635 5.54163M14.2498 15.8333V13.6892",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.2"})}),FileArrowDownIcon=a=>jsxRuntimeExports.jsx(Icon,{width:"18px",height:"18px",fill:"none",stroke:colors.gray[450],viewBox:"0 0 18 18",xmlns:"http://www.w3.org/2000/svg",...a,children:jsxRuntimeExports.jsx("path",{d:"M9 8.25V12.75M9 12.75L7.5 11.25M9 12.75L10.5 11.25M9.75 2.25H6.15C5.30992 2.25 4.88988 2.25 4.56901 2.41349C4.28677 2.5573 4.0573 2.78677 3.91349 3.06901C3.75 3.38988 3.75 3.80992 3.75 4.65V13.35C3.75 14.1901 3.75 14.6101 3.91349 14.931C4.0573 15.2132 4.28677 15.4427 4.56901 15.5865C4.88988 15.75 5.30992 15.75 6.15 15.75H11.85C12.6901 15.75 13.1101 15.75 13.431 15.5865C13.7132 15.4427 13.9427 15.2132 14.0865 14.931C14.25 14.6101 14.25 14.1901 14.25 13.35V6.75M9.75 2.25L14.25 6.75M9.75 2.25V5.55C9.75 5.97004 9.75 6.18006 9.83175 6.34049C9.90365 6.48161 10.0184 6.59635 10.1595 6.66825C10.3199 6.75 10.53 6.75 10.95 6.75H14.25",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.2"})}),FileCopyIcon=a=>jsxRuntimeExports.jsx(Icon,{width:"18px",height:"18px",fill:"none",viewBox:"0 0 18 18",xmlns:"http://www.w3.org/2000/svg",...a,children:jsxRuntimeExports.jsx("path",{d:"M11.25 2.25V4.8C11.25 5.22004 11.25 5.43006 11.3317 5.59049C11.4037 5.73161 11.5184 5.84635 11.6595 5.91825C11.8199 6 12.03 6 12.45 6H15M7.5 6H4.5C3.67157 6 3 6.67157 3 7.5V14.25C3 15.0784 3.67157 15.75 4.5 15.75H9C9.82843 15.75 10.5 15.0784 10.5 14.25V12M12 2.25H9.9C9.05992 2.25 8.63988 2.25 8.31901 2.41349C8.03677 2.5573 7.8073 2.78677 7.66349 3.06901C7.5 3.38988 7.5 3.80992 7.5 4.65V9.6C7.5 10.4401 7.5 10.8601 7.66349 11.181C7.8073 11.4632 8.03677 11.6927 8.31901 11.8365C8.63988 12 9.05992 12 9.9 12H12.6C13.4401 12 13.8601 12 14.181 11.8365C14.4632 11.6927 14.6927 11.4632 14.8365 11.181C15 10.8601 15 10.4401 15 9.6V5.25L12 2.25Z",strokeLinejoin:"round",strokeWidth:"1.2"})}),FlipForwardEnergy=a=>jsxRuntimeExports.jsx(Icon,{width:"18px",height:"18px",fill:"none",stroke:"black",viewBox:"0 0 18 18",xmlns:"http://www.w3.org/2000/svg",...a,children:jsxRuntimeExports.jsx("path",{d:"M2.95314 5.997C4.05824 3.77605 6.35091 2.25 9 2.25C12.4718 2.25 15.3314 4.87105 15.708 8.24231M2.2912 9.74998C2.66427 13.125 5.52558 15.75 9 15.75C11.6496 15.75 13.9427 14.2234 15.0475 12.0017M2.25 3V6.375H5.625M15.75 15.375V12H12.375M8.625 6.75L7.5 9H10.5L9.375 11.25",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.2"})}),FolderInfoIcon=a=>jsxRuntimeExports.jsx(Icon,{width:"24px",height:"24px",fill:"none",stroke:colors.gray[400],viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",...a,children:jsxRuntimeExports.jsx("path",{d:"M12 10H12.01M12 13V16M12.0627 6.06274L11.9373 5.93726C11.5914 5.59135 11.4184 5.4184 11.2166 5.29472C11.0376 5.18506 10.8425 5.10425 10.6385 5.05526C10.4083 5 10.1637 5 9.67452 5H6.2C5.0799 5 4.51984 5 4.09202 5.21799C3.71569 5.40973 3.40973 5.71569 3.21799 6.09202C3 6.51984 3 7.07989 3 8.2V15.8C3 16.9201 3 17.4802 3.21799 17.908C3.40973 18.2843 3.71569 18.5903 4.09202 18.782C4.51984 19 5.07989 19 6.2 19H17.8C18.9201 19 19.4802 19 19.908 18.782C20.2843 18.5903 20.5903 18.2843 20.782 17.908C21 17.4802 21 16.9201 21 15.8V10.2C21 9.0799 21 8.51984 20.782 8.09202C20.5903 7.71569 20.2843 7.40973 19.908 7.21799C19.4802 7 18.9201 7 17.8 7H14.3255C13.8363 7 13.5917 7 13.3615 6.94474C13.1575 6.89575 12.9624 6.81494 12.7834 6.70528C12.5816 6.5816 12.4086 6.40865 12.0627 6.06274Z",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.2"})}),GearIcon=a=>jsxRuntimeExports.jsxs(Icon,{width:"24px",height:"24px",fill:"none",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",...a,children:[jsxRuntimeExports.jsx("path",{d:"M15 12C15 13.6569 13.6569 15 12 15C10.3431 15 9 13.6569 9 12C9 10.3431 10.3431 9 12 9C13.6569 9 15 10.3431 15 12Z",stroke:colors.gray[450],strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.2"}),jsxRuntimeExports.jsx("path",{d:"M12.9046 3.06005C12.6988 3 12.4659 3 12 3C11.5341 3 11.3012 3 11.0954 3.06005C10.7942 3.14794 10.5281 3.32808 10.3346 3.57511C10.2024 3.74388 10.1159 3.96016 9.94291 4.39272C9.69419 5.01452 9.00393 5.33471 8.36857 5.123L7.79779 4.93281C7.3929 4.79785 7.19045 4.73036 6.99196 4.7188C6.70039 4.70181 6.4102 4.77032 6.15701 4.9159C5.98465 5.01501 5.83376 5.16591 5.53197 5.4677C5.21122 5.78845 5.05084 5.94882 4.94896 6.13189C4.79927 6.40084 4.73595 6.70934 4.76759 7.01551C4.78912 7.2239 4.87335 7.43449 5.04182 7.85566C5.30565 8.51523 5.05184 9.26878 4.44272 9.63433L4.16521 9.80087C3.74031 10.0558 3.52786 10.1833 3.37354 10.3588C3.23698 10.5141 3.13401 10.696 3.07109 10.893C3 11.1156 3 11.3658 3 11.8663C3 12.4589 3 12.7551 3.09462 13.0088C3.17823 13.2329 3.31422 13.4337 3.49124 13.5946C3.69158 13.7766 3.96395 13.8856 4.50866 14.1035C5.06534 14.3261 5.35196 14.9441 5.16236 15.5129L4.94721 16.1584C4.79819 16.6054 4.72367 16.829 4.7169 17.0486C4.70875 17.3127 4.77049 17.5742 4.89587 17.8067C5.00015 18.0002 5.16678 18.1668 5.5 18.5C5.83323 18.8332 5.99985 18.9998 6.19325 19.1041C6.4258 19.2295 6.68733 19.2913 6.9514 19.2831C7.17102 19.2763 7.39456 19.2018 7.84164 19.0528L8.36862 18.8771C9.00393 18.6654 9.6942 18.9855 9.94291 19.6073C10.1159 20.0398 10.2024 20.2561 10.3346 20.4249C10.5281 20.6719 10.7942 20.8521 11.0954 20.94C11.3012 21 11.5341 21 12 21C12.4659 21 12.6988 21 12.9046 20.94C13.2058 20.8521 13.4719 20.6719 13.6654 20.4249C13.7976 20.2561 13.8841 20.0398 14.0571 19.6073C14.3058 18.9855 14.9961 18.6654 15.6313 18.8773L16.1579 19.0529C16.605 19.2019 16.8286 19.2764 17.0482 19.2832C17.3123 19.2913 17.5738 19.2296 17.8063 19.1042C17.9997 18.9999 18.1664 18.8333 18.4996 18.5001C18.8328 18.1669 18.9994 18.0002 19.1037 17.8068C19.2291 17.5743 19.2908 17.3127 19.2827 17.0487C19.2759 16.8291 19.2014 16.6055 19.0524 16.1584L18.8374 15.5134C18.6477 14.9444 18.9344 14.3262 19.4913 14.1035C20.036 13.8856 20.3084 13.7766 20.5088 13.5946C20.6858 13.4337 20.8218 13.2329 20.9054 13.0088C21 12.7551 21 12.4589 21 11.8663C21 11.3658 21 11.1156 20.9289 10.893C20.866 10.696 20.763 10.5141 20.6265 10.3588C20.4721 10.1833 20.2597 10.0558 19.8348 9.80087L19.5569 9.63416C18.9478 9.26867 18.6939 8.51514 18.9578 7.85558C19.1262 7.43443 19.2105 7.22383 19.232 7.01543C19.2636 6.70926 19.2003 6.40077 19.0506 6.13181C18.9487 5.94875 18.7884 5.78837 18.4676 5.46762C18.1658 5.16584 18.0149 5.01494 17.8426 4.91583C17.5894 4.77024 17.2992 4.70174 17.0076 4.71872C16.8091 4.73029 16.6067 4.79777 16.2018 4.93273L15.6314 5.12287C14.9961 5.33464 14.3058 5.0145 14.0571 4.39272C13.8841 3.96016 13.7976 3.74388 13.6654 3.57511C13.4719 3.32808 13.2058 3.14794 12.9046 3.06005Z",stroke:colors.gray[450],strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.2"})]}),GoogleIcon=a=>jsxRuntimeExports.jsxs(Icon,{width:"24px",height:"24px",fill:"none",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",...a,children:[jsxRuntimeExports.jsx("path",{d:"M23.5198 12.2729C23.5198 11.422 23.4435 10.6038 23.3016 9.81836H12V14.4601H18.4581C18.1799 15.9601 17.3345 17.231 16.0636 18.0819V21.0927H19.9417C22.2107 19.0037 23.5198 15.9274 23.5198 12.2729Z",fill:"#4285F4",clipRule:"evenodd",fillRule:"evenodd"}),jsxRuntimeExports.jsx("path",{d:"M12.0008 24.0011C15.2408 24.0011 17.9571 22.9266 19.9425 21.0939L16.0644 18.083C14.9899 18.803 13.6153 19.2284 12.0008 19.2284C8.8754 19.2284 6.22999 17.1176 5.28637 14.2812H1.27734V17.3903C3.25186 21.312 7.30997 24.0011 12.0008 24.0011Z",fill:"#34A853",clipRule:"evenodd",fillRule:"evenodd"}),jsxRuntimeExports.jsx("path",{d:"M5.28537 14.2803C5.04537 13.5603 4.90901 12.7912 4.90901 12.0003C4.90901 11.2094 5.04537 10.4404 5.28537 9.72037V6.61133H1.27634C0.463629 8.2313 0 10.064 0 12.0003C0 13.9367 0.463629 15.7694 1.27634 17.3893L5.28537 14.2803Z",fill:"#FBBC05",clipRule:"evenodd",fillRule:"evenodd"}),jsxRuntimeExports.jsx("path",{d:"M12.0008 4.77265C13.7626 4.77265 15.3444 5.3781 16.588 6.56717L20.0298 3.1254C17.9516 1.18907 15.2353 0 12.0008 0C7.30997 0 3.25186 2.68905 1.27734 6.6108L5.28637 9.71984C6.22999 6.88353 8.8754 4.77265 12.0008 4.77265Z",fill:"#EA4335",clipRule:"evenodd",fillRule:"evenodd"})]}),HelpIcon=a=>jsxRuntimeExports.jsx(Icon,{width:"24px",height:"24px",fill:"none",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",...a,children:jsxRuntimeExports.jsx("path",{d:"M18.3795 5.65166L14.1055 9.86303M9.89445 14.137L5.63994 18.3679M5.63408 5.63799L9.89445 9.86303M14.1056 14.137L18.364 18.364M21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12ZM15 12C15 13.6569 13.6569 15 12 15C10.3431 15 9 13.6569 9 12C9 10.3431 10.3431 9 12 9C13.6569 9 15 10.3431 15 12Z",stroke:colors.gray[450],strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.2"})}),HourglassIcon=a=>jsxRuntimeExports.jsx(Icon,{width:"18px",height:"18px",fill:"none",viewBox:"0 0 18 18",xmlns:"http://www.w3.org/2000/svg",...a,children:jsxRuntimeExports.jsx("path",{d:"M15 2.25H3M15 15.75H3M3.75 2.25C3.75 4.13267 4.65921 5.89944 6.1912 6.99371L11.8088 11.0063C13.3408 12.1006 14.25 13.8673 14.25 15.75M14.25 2.25C14.25 4.13267 13.3408 5.89944 11.8088 6.99371L6.1912 11.0063C4.65921 12.1006 3.75 13.8673 3.75 15.75",stroke:"#FB4F57",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.2"})}),OutgoingArrow=a=>jsxRuntimeExports.jsx(Icon,{width:"18px",height:"18px",fill:"none",stroke:colors.gray[450],"data-testid":"outgoing-arrow-icon",viewBox:"0 0 18 18",xmlns:"http://www.w3.org/2000/svg",...a,children:jsxRuntimeExports.jsx("path",{d:"M5.25 12.75L12.75 5.25M12.75 5.25H6M12.75 5.25V12",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.2"})}),IncomingArrow=a=>jsxRuntimeExports.jsx(OutgoingArrow,{css:{rotate:"180deg"},...a}),KeyIcon=a=>jsxRuntimeExports.jsx(Icon,{width:"18px",height:"18px",fill:"none","data-testid":"key-icon",strokeWidth:"1.2",viewBox:"0 0 18 18",xmlns:"http://www.w3.org/2000/svg",...a,children:jsxRuntimeExports.jsx("path",{d:"M9.24092 8.01389L3 14.25L4.5 15.75M5.25 12L6.75 13.5M15 5.625C15 7.48896 13.489 9 11.625 9C9.76104 9 8.25 7.48896 8.25 5.625C8.25 3.76104 9.76104 2.25 11.625 2.25C13.489 2.25 15 3.76104 15 5.625Z",strokeLinecap:"round",strokeLinejoin:"round"})}),LedgerIcon=a=>jsxRuntimeExports.jsx(Icon,{width:"18px",height:"18px",fill:colors.gray[400],"data-testid":"ledger-icon",strokeWidth:"0",viewBox:"0 0 18 18",xmlns:"http://www.w3.org/2000/svg",...a,children:jsxRuntimeExports.jsx("path",{d:"M11.666 7.29183H12.3952V8.75016H9.47852V4.37516H10.9368L8.74935 1.4585L6.56185 4.37516H8.02018V10.2085H5.10352V8.54818C5.5381 8.29516 5.83268 7.82995 5.83268 7.29183C5.83268 6.90506 5.67904 6.53412 5.40555 6.26063C5.13206 5.98714 4.76112 5.8335 4.37435 5.8335C3.98757 5.8335 3.61664 5.98714 3.34315 6.26063C3.06966 6.53412 2.91602 6.90506 2.91602 7.29183C2.91602 7.82995 3.2106 8.29516 3.64518 8.54818V10.2085C3.64518 11.0128 4.29924 11.6668 5.10352 11.6668H8.02018V13.3271C7.79896 13.454 7.61508 13.6369 7.48707 13.8575C7.35906 14.0781 7.29143 14.3285 7.29102 14.5835C7.29102 14.9703 7.44466 15.3412 7.71815 15.6147C7.99164 15.8882 8.36257 16.0418 8.74935 16.0418C9.13612 16.0418 9.50706 15.8882 9.78055 15.6147C10.054 15.3412 10.2077 14.9703 10.2077 14.5835C10.2077 14.0454 9.9131 13.5802 9.47852 13.3271V10.2085H12.3952C13.1995 10.2085 13.8535 9.55443 13.8535 8.75016V7.29183H14.5827V4.37516H11.666V7.29183Z"})}),LinkIcon=a=>jsxRuntimeExports.jsx(Icon,{width:"24px",height:"24px",fill:"none",stroke:colors.gray[450],viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",...a,children:jsxRuntimeExports.jsx("path",{d:"M9.16586 17.6508C8.9261 17.8747 8.74055 18.0245 8.55093 18.134C7.62273 18.6699 6.47914 18.6699 5.55093 18.134C5.20889 17.9365 4.88009 17.6077 4.22251 16.9501C3.56492 16.2925 3.23612 15.9637 3.03864 15.6217C2.50274 14.6935 2.50274 13.5499 3.03864 12.6217C3.23612 12.2797 3.56492 11.9509 4.2225 11.2933L7.05093 8.46484C7.70852 7.80725 8.03732 7.47846 8.37936 7.28098C9.30756 6.74508 10.4512 6.74508 11.3794 7.28098C11.7214 7.47846 12.0502 7.80725 12.7078 8.46484C13.3654 9.12243 13.6942 9.45123 13.8916 9.79327C14.4275 10.7215 14.4275 11.8651 13.8916 12.7933C13.7822 12.9829 13.6323 13.1684 13.4085 13.4082M10.5929 10.5926C10.369 10.8323 10.2192 11.0179 10.1097 11.2075C9.57381 12.1357 9.57381 13.2793 10.1097 14.2075C10.3072 14.5495 10.636 14.8783 11.2936 15.5359C11.9512 16.1935 12.28 16.5223 12.622 16.7198C13.5502 17.2557 14.6938 17.2557 15.622 16.7198C15.964 16.5223 16.2928 16.1935 16.9504 15.5359L19.7789 12.7075C20.4364 12.0499 20.7652 11.7211 20.9627 11.3791C21.4986 10.4509 21.4986 9.30726 20.9627 8.37906C20.7652 8.03701 20.4364 7.70822 19.7789 7.05063C19.1213 6.39304 18.7925 6.06425 18.4504 5.86677C17.5222 5.33087 16.3786 5.33087 15.4504 5.86677C15.2608 5.97625 15.0753 6.12608 14.8355 6.34992",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.2"})}),LockIcon=a=>jsxRuntimeExports.jsx(Icon,{width:"24px",height:"24px",fill:"none",stroke:colors.gray[450],viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",...a,children:jsxRuntimeExports.jsx("path",{d:"M12 14.5V16.5M7 10.0288C7.47142 10 8.05259 10 8.8 10H15.2C15.9474 10 16.5286 10 17 10.0288M7 10.0288C6.41168 10.0647 5.99429 10.1455 5.63803 10.327C5.07354 10.6146 4.6146 11.0735 4.32698 11.638C4 12.2798 4 13.1198 4 14.8V16.2C4 17.8802 4 18.7202 4.32698 19.362C4.6146 19.9265 5.07354 20.3854 5.63803 20.673C6.27976 21 7.11984 21 8.8 21H15.2C16.8802 21 17.7202 21 18.362 20.673C18.9265 20.3854 19.3854 19.9265 19.673 19.362C20 18.7202 20 17.8802 20 16.2V14.8C20 13.1198 20 12.2798 19.673 11.638C19.3854 11.0735 18.9265 10.6146 18.362 10.327C18.0057 10.1455 17.5883 10.0647 17 10.0288M7 10.0288V8C7 5.23858 9.23858 3 12 3C14.7614 3 17 5.23858 17 8V10.0288",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.2"})}),MaintenanceIcon=a=>jsxRuntimeExports.jsx(Icon,{width:"18px",height:"18px",fill:"none",stroke:"black",viewBox:"0 0 18 18",xmlns:"http://www.w3.org/2000/svg",...a,children:jsxRuntimeExports.jsx("path",{d:"M12.182 5.81859C13.9393 7.57595 13.9393 10.4252 12.182 12.1825M5.81802 12.1825C4.06066 10.4252 4.06066 7.57592 5.81802 5.81856M3.6967 14.3039C0.767767 11.3749 0.767767 6.6262 3.6967 3.69727M14.3033 3.6973C17.2322 6.62623 17.2322 11.375 14.3033 14.3039M10.5 9.00057C10.5 9.82899 9.82843 10.5006 9 10.5006C8.17157 10.5006 7.5 9.82899 7.5 9.00057C7.5 8.17214 8.17157 7.50057 9 7.50057C9.82843 7.50057 10.5 8.17214 10.5 9.00057Z",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.2"})}),MakiIcon=({fishColor:a,..._})=>jsxRuntimeExports.jsxs(Icon,{width:"38px",height:"38px",fill:"none",viewBox:"0 0 38 38",xmlns:"http://www.w3.org/2000/svg",..._,children:[jsxRuntimeExports.jsx("path",{d:"M34.9985 26.2751C34.6599 26.8629 34.2436 27.4106 33.7512 27.9032C32.2815 29.3727 30.3277 30.1819 28.2496 30.1819H24.8477V34.9996H26.8032H28.2497C30.0524 34.9996 31.7472 34.2976 33.022 33.0229C34.2967 31.7481 34.9986 30.0533 34.9985 28.2507V26.2751Z",fill:"black"}),jsxRuntimeExports.jsx("path",{d:"M34.9989 20.9441C34.6603 21.5318 34.2439 22.0796 33.7514 22.572C32.2819 24.0416 30.328 24.8509 28.2499 24.8509H18.9983C17.8104 24.8511 16.8477 25.814 16.8477 27.0019C16.8477 28.1898 17.8104 29.1528 18.9983 29.153H28.25C30.0526 29.153 31.7474 28.4511 33.0222 27.1763C34.2965 25.902 34.9986 24.2076 34.9989 22.4054V20.9441ZM18.9988 27.8361C18.5381 27.8361 18.1645 27.4626 18.1645 27.0018C18.1645 26.5412 18.5381 26.1675 18.9988 26.1675C19.4596 26.1675 19.8331 26.5412 19.8331 27.0018C19.8331 27.4626 19.4596 27.8361 18.9988 27.8361Z",fill:"black"}),jsxRuntimeExports.jsx("path",{d:"M35 9.74895C35 6.02751 31.9724 3 28.2509 3H9.74908C6.02761 3 3 6.02751 3 9.74895V28.2511C3 31.9725 6.02761 35 9.74899 35H23.8176V30.1824H18.9995C17.2418 30.1824 15.8171 28.7576 15.8171 27.0001C15.8171 25.2426 17.2418 23.8179 18.9995 23.8179H23.8176V18.9998H9.74899C6.5911 18.9998 4.03113 16.4402 4.03113 13.2824V9.74905C4.03113 6.59127 6.5911 4.03131 9.74899 4.03131H28.2508C31.4087 4.03131 33.9686 6.59127 33.9686 9.74905V13.2824C33.9686 16.4403 31.4089 19.0001 28.251 19.0001L24.8491 18.9998V23.8179H28.2511C30.0539 23.8179 31.7487 23.1159 33.0233 21.8411C34.2977 20.5668 34.9997 18.8725 35 17.0703V9.74895Z",fill:"black"}),jsxRuntimeExports.jsx("path",{d:"M28.251 4.03174C31.4088 4.03174 33.9687 6.59167 33.9687 9.74952V13.2828C33.9687 16.4406 31.4089 19.0005 28.2511 19.0005L9.74908 19.0003C6.59124 19.0003 4.03125 16.4406 4.03125 13.2829V9.74954C4.03125 6.59167 6.5912 4.03174 9.74908 4.03174H28.251Z",fill:"white"}),jsxRuntimeExports.jsx("path",{d:"M28.2511 6.73267C29.611 6.73267 30.7641 7.6364 31.1394 8.87525C31.1926 9.05118 31.0527 9.22558 30.869 9.21814C28.2867 9.11348 25.877 8.32896 23.8154 7.038C23.6751 6.95014 23.739 6.73267 23.9045 6.73267H28.2511Z",fill:a}),jsxRuntimeExports.jsx("path",{d:"M21.9973 7.02488C24.4283 8.9081 27.4326 10.0842 30.7 10.2428C31.0172 10.2581 31.2679 10.5166 31.2679 10.8342V12.8702C31.2674 12.9124 31.2661 13.0446 31.2638 13.1857C31.2603 13.4148 31.069 13.5949 30.8401 13.5876C25.3913 13.4117 20.5215 10.9067 17.1937 7.03888C17.0905 6.91878 17.175 6.73267 17.3334 6.73267H21.1443C21.4533 6.73267 21.753 6.83569 21.9973 7.02488Z",fill:a}),jsxRuntimeExports.jsx("path",{d:"M15.9653 7.17305C19.4649 11.5395 24.7681 14.4013 30.735 14.6156C30.8376 14.6193 30.9004 14.7309 30.8481 14.8191C30.3219 15.7056 29.3544 16.3012 28.2505 16.3012H23.1255C22.9317 16.3012 22.7392 16.2646 22.5603 16.1899C18.0848 14.3242 14.3146 11.0926 11.7745 7.01866C11.6968 6.89417 11.7878 6.73267 11.9345 6.73267H15.0503C15.4065 6.73267 15.7426 6.89513 15.9653 7.17305Z",fill:a}),jsxRuntimeExports.jsx("path",{d:"M9.75058 6.73267H10.1145C10.294 6.73267 10.4589 6.82889 10.5496 6.98379C12.776 10.7844 16.0081 13.9276 19.8791 16.0439C20.0039 16.1122 19.9556 16.3012 19.8134 16.3012H15.1194C14.5651 16.3012 14.0261 16.1087 13.6043 15.7491C11.1433 13.6507 9.05479 11.1267 7.45371 8.29236C7.34983 8.10846 7.3762 7.87733 7.51835 7.72112C8.07107 7.11383 8.86658 6.73267 9.75058 6.73267Z",fill:a}),jsxRuntimeExports.jsx("path",{d:"M12.3071 15.9829C12.4313 16.0951 12.3514 16.3013 12.184 16.3013H9.71437C8.06547 16.2829 6.73047 14.9363 6.73047 13.2836V9.7504L6.73065 9.54576C6.73077 9.42446 6.89048 9.37962 6.95305 9.48354C8.41152 11.9061 10.2194 14.096 12.3071 15.9829Z",fill:a})]}),NoticeIcon=a=>jsxRuntimeExports.jsx(Icon,{width:"24px",height:"24px",fill:"none",stroke:colors.gray[450],viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",...a,children:jsxRuntimeExports.jsx("path",{d:"M12 8H12.01M12 11V16M21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12Z",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.2"})}),OutlineExclamationCircleIcon=a=>jsxRuntimeExports.jsx(Icon,{width:"16px",height:"16px",fill:"none",stroke:colors.gray[450],viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",...a,children:jsxRuntimeExports.jsx("path",{d:"M8 5V8.75M8 11H8.0075M14.75 8C14.75 11.7279 11.7279 14.75 8 14.75C4.27208 14.75 1.25 11.7279 1.25 8C1.25 4.27208 4.27208 1.25 8 1.25C11.7279 1.25 14.75 4.27208 14.75 8Z",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.2"})}),PenIcon=a=>jsxRuntimeExports.jsx(Icon,{width:"18px",height:"18px",fill:"none",stroke:colors.gray[450],viewBox:"0 0 18 18",xmlns:"http://www.w3.org/2000/svg",...a,children:jsxRuntimeExports.jsx("path",{d:"M11.3348 4.66483L13.2208 6.55082M3 15L3.03164 14.7785C3.1436 13.9948 3.19958 13.6029 3.32692 13.2371C3.43992 12.9124 3.59428 12.6037 3.78619 12.3185C4.00247 11.9971 4.28237 11.7172 4.84218 11.1574L12.609 3.3906C13.1298 2.8698 13.9742 2.8698 14.495 3.3906C15.0158 3.9114 15.0158 4.75578 14.495 5.27658L6.58565 13.1859C6.07779 13.6938 5.82386 13.9477 5.53462 14.1497C5.27789 14.3289 5.001 14.4774 4.70965 14.5921C4.3814 14.7213 4.02937 14.7923 3.32535 14.9344L3 15Z",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.2"})}),PlusIcon=a=>jsxRuntimeExports.jsx(Icon,{width:"24px",height:"24px",fill:"none",stroke:colors.gray[300],viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",...a,children:jsxRuntimeExports.jsx("path",{d:"M4 12H20M12 4V20",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.2"})}),RefreshClockIcon=a=>jsxRuntimeExports.jsx(Icon,{width:"18",height:"18",fill:"none",stroke:colors.gray[450],viewBox:"0 0 18 18",xmlns:"http://www.w3.org/2000/svg",...a,children:jsxRuntimeExports.jsx("path",{d:"M3 9C3 12.3137 5.68629 15 9 15C12.3137 15 15 12.3137 15 9C15 5.68629 12.3137 3 9 3C7.20796 3 5.59942 3.78563 4.5 5.03126C4.43696 5.10268 4.3756 5.17562 4.31597 5.25M9 6V9L10.875 10.875M4.31543 3.00293V5.25293H6.56543",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.2"})}),ReloadIcon=a=>jsxRuntimeExports.jsx(Icon,{width:"22px",height:"22px",strokeWidth:"0",viewBox:"0 0 22 22",xmlns:"http://www.w3.org/2000/svg",...a,children:jsxRuntimeExports.jsx("path",{d:"M16.1791 5.82018C15.5007 5.13713 14.6938 4.59511 13.8049 4.22539C12.916 3.85568 11.9627 3.66556 10.9999 3.66602C6.94828 3.66602 3.67578 6.94768 3.67578 10.9993C3.67578 15.051 6.94828 18.3327 10.9999 18.3327C14.4191 18.3327 17.2699 15.9952 18.0858 12.8327H16.1791C15.8015 13.9047 15.1005 14.8332 14.1728 15.4899C13.2452 16.1467 12.1366 16.4994 10.9999 16.4993C7.96578 16.4993 5.49995 14.0335 5.49995 10.9993C5.49995 7.96518 7.96578 5.49935 10.9999 5.49935C12.5216 5.49935 13.8783 6.13185 14.8683 7.13102L11.9166 10.0827H18.3333V3.66602L16.1791 5.82018Z"})}),RotateIcon=a=>jsxRuntimeExports.jsx(Icon,{width:"24px",height:"24px",fill:"none",stroke:colors.gray[450],"data-testid":"rotate-icon",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",...a,children:jsxRuntimeExports.jsx("path",{d:"M12.5 18.5C17.1944 18.5 21 14.6944 21 10C21 5.30558 17.1944 1.5 12.5 1.5C7.80558 1.5 4 5.30558 4 10C4 11.5433 4.41128 12.9905 5.13022 14.238M1.5 13L5.13022 14.238M6.82531 10.3832L5.47107 14.3542L5.13022 14.238",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.2"})}),SlashIcon=a=>jsxRuntimeExports.jsx(Icon,{width:"24px",height:"24px",fill:"none",stroke:colors.gray[450],viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",...a,children:jsxRuntimeExports.jsx("path",{d:"M16 3L8 21",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.2"})}),SlidersIcon=a=>jsxRuntimeExports.jsx(Icon,{width:"32px",height:"32px",fill:"none",stroke:colors.gray[450],viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg",...a,children:jsxRuntimeExports.jsx("path",{d:"M16 7.33333C16 9.17428 14.5076 10.6667 12.6667 10.6667C10.8257 10.6667 9.33333 9.17428 9.33333 7.33333M16 7.33333C16 5.49238 14.5076 4 12.6667 4C10.8257 4 9.33333 5.49238 9.33333 7.33333M16 7.33333H28M9.33333 7.33333H4M25.3333 16C25.3333 17.8409 23.8409 19.3333 22 19.3333C20.1591 19.3333 18.6667 17.8409 18.6667 16M25.3333 16C25.3333 14.1591 23.8409 12.6667 22 12.6667C20.1591 12.6667 18.6667 14.1591 18.6667 16M25.3333 16H28M18.6667 16H4M13.3333 24.6667C13.3333 26.5076 11.8409 28 10 28C8.15905 28 6.66667 26.5076 6.66667 24.6667M13.3333 24.6667C13.3333 22.8257 11.8409 21.3333 10 21.3333C8.15905 21.3333 6.66667 22.8257 6.66667 24.6667M13.3333 24.6667H28M6.66667 24.6667H4",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.2"})}),SocialIcon=a=>jsxRuntimeExports.jsx(Icon,{width:"28px",height:"28px",fill:"none",stroke:"transparent","data-testid":"social-icon",viewBox:"0 0 28 28",...a,children:jsxRuntimeExports.jsx("g",{id:"Group 40429",children:jsxRuntimeExports.jsx("g",{id:"Group 40428",children:jsxRuntimeExports.jsxs("g",{id:"Group 39769",children:[jsxRuntimeExports.jsx("path",{d:"M27.4398 14.3177C27.4398 13.325 27.3507 12.3705 27.1852 11.4541H14V16.8695H21.5344C21.2099 18.6194 20.2235 20.1021 18.7408 21.0949V24.6075H23.2653C25.9125 22.1703 27.4398 18.5813 27.4398 14.3177Z",fill:"#4285F4",clipRule:"evenodd",fillRule:"evenodd",id:"Shape"}),jsxRuntimeExports.jsx("path",{d:"M14.0009 28C17.7809 28 20.9499 26.7464 23.2663 24.6082L18.7418 21.0955C17.4882 21.9355 15.8846 22.4319 14.0009 22.4319C10.3546 22.4319 7.26832 19.9692 6.16743 16.6602H1.49023V20.2874C3.79383 24.8628 8.5283 28 14.0009 28Z",fill:"#34A853",clipRule:"evenodd",fillRule:"evenodd",id:"Shape_2"}),jsxRuntimeExports.jsx("path",{d:"M6.16627 16.66C5.88627 15.82 5.72718 14.9228 5.72718 14.0001C5.72718 13.0774 5.88627 12.1801 6.16627 11.3401V7.71289H1.48907C0.5409 9.60286 0 11.741 0 14.0001C0 16.2591 0.5409 18.3973 1.48907 20.2872L6.16627 16.66Z",fill:"#FBBC05",clipRule:"evenodd",fillRule:"evenodd",id:"Shape_3"}),jsxRuntimeExports.jsx("path",{d:"M14.0009 5.56809C16.0564 5.56809 17.9018 6.27445 19.3527 7.6617L23.3681 3.64631C20.9436 1.38725 17.7745 0 14.0009 0C8.5283 0 3.79383 3.13722 1.49023 7.7126L6.16743 11.3398C7.26832 8.03078 10.3546 5.56809 14.0009 5.56809Z",fill:"#EA4335",clipRule:"evenodd",fillRule:"evenodd",id:"Shape_4"})]})})})}),TezIcon=a=>jsxRuntimeExports.jsxs(Icon,{width:"30px",height:"30px",fill:"none","data-testid":"tez-icon",viewBox:"0 0 30 30",...a,children:[jsxRuntimeExports.jsx("rect",{width:"30",height:"30",fill:"white",rx:"4"}),jsxRuntimeExports.jsx("rect",{width:"30",height:"30",fill:"url(#pattern0)",rx:"4"}),jsxRuntimeExports.jsxs("defs",{children:[jsxRuntimeExports.jsx("pattern",{width:"1",height:"1",id:"pattern0",patternContentUnits:"objectBoundingBox",children:jsxRuntimeExports.jsx("use",{transform:"translate(0.1753 0.101557) scale(0.00532296)",xlinkHref:"#image0_2912_38337"})}),jsxRuntimeExports.jsx("image",{width:"122",height:"150",id:"image0_2912_38337",xlinkHref:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHoAAACWCAYAAAAR35wdAAAMP2lDQ1BJQ0MgUHJvZmlsZQAASImVVwdYU8kWnluSkEBooUsJvQkiNYCUEFrovdkISYBQYgwEFXtZVHDtogI2dFVEwQqIBUUUC4ti74sFFWVdLNiVNymg677yvfm+ufPff87858y5M/feAUDtBEckykPVAcgXForjQgLoKalpdNJTQAS6gAyUgTOHWyBixsREAFiG2r+Xd9cBIm2vOEi1/tn/X4sGj1/ABQCJgTiDV8DNh/ggAHgVVyQuBIAo5c2nFIqkGFagJYYBQrxIirPkuEqKM+R4r8wmIY4FcRsASiocjjgLANVLkKcXcbOghmo/xE5CnkAIgBodYt/8/Ek8iNMhtoE2Ioil+oyMH3Sy/qaZMazJ4WQNY/lcZEUpUFAgyuNM+z/T8b9Lfp5kyIcVrCrZ4tA46Zxh3m7mTgqXYhWI+4QZUdEQa0L8QcCT2UOMUrIloYlye9SQW8CCOQM6EDvxOIHhEBtCHCzMi4pQ8BmZgmA2xHCFoFMFhewEiPUgXsQvCIpX2GwWT4pT+EIbMsUspoI/yxHL/Ep93ZfkJjIV+q+z+WyFPqZanJ2QDDEFYosiQVIUxKoQOxbkxocrbMYUZ7OihmzEkjhp/BYQx/GFIQFyfawoUxwcp7AvzS8Ymi+2OVvAjlLg/YXZCaHy/GBtXI4sfjgX7BJfyEwc0uEXpEQMzYXHDwySzx17xhcmxit0PogKA+LkY3GKKC9GYY+b8fNCpLwZxK4FRfGKsXhSIVyQcn08U1QYkyCPEy/O4YTFyOPBl4MIwAKBgA4ksGaASSAHCDr7GvvgnbwnGHCAGGQBPnBQMEMjkmU9QniNB8XgT4j4oGB4XICslw+KIP91mJVfHUCmrLdINiIXPIE4H4SDPHgvkY0SDntLAo8hI/iHdw6sXBhvHqzS/n/PD7HfGSZkIhSMZMgjXW3IkhhEDCSGEoOJtrgB7ot74xHw6g+rM87APYfm8d2e8ITQRXhIuEboJtyaKJgn/inKSNAN9YMVucj4MRe4FdR0wwNwH6gOlXEd3AA44K7QDxP3g57dIMtSxC3NCv0n7b/N4IenobAjO5FRsi7Zn2zz80hVO1W3YRVprn/MjzzWjOF8s4Z7fvbP+iH7PNiG/2yJLcIOYO3YSewcdhRrBHSsBWvCOrBjUjy8uh7LVteQtzhZPLlQR/APf0NPVprJAqdap16nL/K+Qv5U6TsasCaJpokFWdmFdCb8IvDpbCHXcSTd2cnZBQDp90X++noTK/tuIDod37n5fwDg0zI4OHjkOxfWAsA+D7j9D3/nbBjw06EMwNnDXIm4SM7h0gsBviXU4E7TB8bAHNjA+TgDd+AN/EEQCAPRIAGkggkw+my4zsVgCpgB5oISUAaWgzWgAmwCW8FOsAfsB43gKDgJzoAL4BK4Bu7A1dMDXoB+8A58RhCEhFARGqKPmCCWiD3ijDAQXyQIiUDikFQkHclChIgEmYHMR8qQlUgFsgWpQfYhh5GTyDmkC7mFPEB6kdfIJxRDVVAt1Ai1QkehDJSJhqMJ6Hg0C52MFqML0KXoOrQa3Y02oCfRC+g1tBt9gQ5gAFPGdDBTzAFjYCwsGkvDMjExNgsrxcqxaqwOa4bP+QrWjfVhH3EiTsPpuANcwaF4Is7FJ+Oz8CV4Bb4Tb8Db8Cv4A7wf/0agEgwJ9gQvApuQQsgiTCGUEMoJ2wmHCKfhXuohvCMSiTpEa6IH3IupxBzidOIS4gZiPfEEsYv4iDhAIpH0SfYkH1I0iUMqJJWQ1pN2k1pIl0k9pA9KykomSs5KwUppSkKleUrlSruUjitdVnqq9JmsTrYke5GjyTzyNPIy8jZyM/kiuYf8maJBsab4UBIoOZS5lHWUOsppyl3KG2VlZTNlT+VYZYHyHOV1ynuVzyo/UP6ooqlip8JSGaciUVmqskPlhMotlTdUKtWK6k9NoxZSl1JrqKeo96kfVGmqjqpsVZ7qbNVK1QbVy6ov1chqlmpMtQlqxWrlagfULqr1qZPVrdRZ6hz1WeqV6ofVb6gPaNA0RmtEa+RrLNHYpXFO45kmSdNKM0iTp7lAc6vmKc1HNIxmTmPRuLT5tG2007QeLaKWtRZbK0erTGuPVqdWv7amtqt2kvZU7UrtY9rdOpiOlQ5bJ09nmc5+nes6n3SNdJm6fN3FunW6l3Xf643Q89fj65Xq1etd0/ukT9cP0s/VX6HfqH/PADewM4g1mGKw0eC0Qd8IrRHeI7gjSkfsH3HbEDW0M4wznG641bDDcMDI2CjESGS03uiUUZ+xjrG/cY7xauPjxr0mNBNfE4HJapMWk+d0bTqTnkdfR2+j95samoaaSky3mHaafjazNks0m2dWb3bPnGLOMM80X23eat5vYWIRaTHDotbitiXZkmGZbbnWst3yvZW1VbLVQqtGq2fWetZs62LrWuu7NlQbP5vJNtU2V22JtgzbXNsNtpfsUDs3u2y7SruL9qi9u73AfoN910jCSM+RwpHVI284qDgwHYocah0eOOo4RjjOc2x0fDnKYlTaqBWj2kd9c3JzynPa5nRntObosNHzRjePfu1s58x1rnS+6kJ1CXaZ7dLk8srV3pXvutH1phvNLdJtoVur21d3D3exe517r4eFR7pHlccNhhYjhrGEcdaT4BngOdvzqOdHL3evQq/9Xn95O3jneu/yfjbGegx/zLYxj3zMfDg+W3y6fem+6b6bfbv9TP04ftV+D/3N/Xn+2/2fMm2ZOczdzJcBTgHigEMB71lerJmsE4FYYEhgaWBnkGZQYlBF0P1gs+Cs4Nrg/hC3kOkhJ0IJoeGhK0JvsI3YXHYNuz/MI2xmWFu4Snh8eEX4wwi7CHFEcyQaGRa5KvJulGWUMKoxGkSzo1dF34uxjpkccySWGBsTWxn7JG503Iy49nha/MT4XfHvEgISliXcSbRJlCS2JqkljUuqSXqfHJi8Mrk7ZVTKzJQLqQapgtSmNFJaUtr2tIGxQWPXjO0Z5zauZNz18dbjp44/N8FgQt6EYxPVJnImHkgnpCen70r/wonmVHMGMtgZVRn9XBZ3LfcFz5+3mtfL9+Gv5D/N9MlcmfksyydrVVZvtl92eXafgCWoELzKCc3ZlPM+Nzp3R+5gXnJefb5Sfnr+YaGmMFfYNsl40tRJXSJ7UYmoe7LX5DWT+8Xh4u0FSMH4gqZCLfgj3yGxkfwieVDkW1RZ9GFK0pQDUzWmCqd2TLObtnja0+Lg4t+m49O501tnmM6YO+PBTObMLbOQWRmzWmebz14wu2dOyJydcylzc+f+Ps9p3sp5b+cnz29eYLRgzoJHv4T8UluiWiIuubHQe+GmRfgiwaLOxS6L1y/+VsorPV/mVFZe9mUJd8n5X0f/uu7XwaWZSzuXuS/buJy4XLj8+gq/FTtXaqwsXvloVeSqhtX01aWr366ZuOZcuWv5prWUtZK13esi1jWtt1i/fP2XiuyKa5UBlfVVhlWLq95v4G24vNF/Y90mo01lmz5tFmy+uSVkS0O1VXX5VuLWoq1PtiVta/+N8VvNdoPtZdu/7hDu6N4Zt7OtxqOmZpfhrmW1aK2ktnf3uN2X9gTuaapzqNtSr1Nfthfslex9vi993/X94ftbDzAO1B20PFh1iHaotAFpmNbQ35jd2N2U2tR1OOxwa7N386Ejjkd2HDU9WnlM+9iy45TjC44PthS3DJwQneg7mXXyUevE1junUk5dbYtt6zwdfvrsmeAzp9qZ7S1nfc4ePed17vB5xvnGC+4XGjrcOg797vb7oU73zoaLHhebLnleau4a03X8st/lk1cCr5y5yr564VrUta7riddv3hh3o/sm7+azW3m3Xt0uuv35zpy7hLul99Tvld83vF/9h+0f9d3u3cceBD7oeBj/8M4j7qMXjwsef+lZ8IT6pPypydOaZ87PjvYG9156PvZ5zwvRi899JX9q/Fn10ublwb/8/+roT+nveSV+Nfh6yRv9Nzveur5tHYgZuP8u/93n96Uf9D/s/Mj42P4p+dPTz1O+kL6s+2r7tflb+Le7g/mDgyKOmCP7FcBgRTMzAXi9AwBqKgA0eD6jjJWf/2QFkZ9ZZQj8Jyw/I8qKOwB18P89tg/+3dwAYO82ePyC+mrjAIihApDgCVAXl+E6dFaTnSulhQjPAZujvmbkZ4B/U+Rnzh/i/rkFUlVX8HP7L34RfGukfYUwAAAAOGVYSWZNTQAqAAAACAABh2kABAAAAAEAAAAaAAAAAAACoAIABAAAAAEAAAB6oAMABAAAAAEAAACWAAAAAGjynq0AABD3SURBVHgB7V0JcFXVGf7Pey8QEnCp2ta97rYuHRW0VqkLilapSm1MAgVCwLQ4WrRDq6gVHWt1Ojpt1cEOkhBAshgqFRe6WIvLWHEsMxW07tS1xVYQRba8906/88gN9yU3efcs797zknOHcO899/z/+f//O//Zz3lE7nIWcBZwFnAWcBZwFnAWcBaIzQIstpRDJlzVwHcv66RvZBmdzBiNIk5HtzaxI0OSu2hdFkjZZIm6Ol6+JUknJQigchrFBbgZOowjwJcjP7VJ5lKRJTagq6p4sqySjssmaBQ89WQOYLcRHZskwj9cQNYHbqnY01o5IwO6aho/PJVF0StA3VkEn4j7MA9MgO2uIlqgaEDX1PHRLEnnoU4dCflPxd9uhCJYXDlMFYFF5uA7ubj/ZSxQNKBZgm6FIGeYLn9RdytmERmzDLy4XT428BRzGuVbwAGdb48B+1Y0oNHXPbO1kbHUDhpOWZqEivV1E1Z0dbSaFSOt72qn8Vsg5k1qou6kQobZ1NbI9tDhMRhpi+bRQcaEh89Bm/mPQd9cWHEtECnQQhW0xu8urkqOe5AFIgd66w5aFSRI2DDXvQprqfx4kQO9bBH7GPXs5nwxwr+5xlh4W/ljRg50V+I7/ELIPDuPlrHWrrhxAb1LAvcUiQUc0JGYOf5EHNDxYxCJBA7oSMwcfyIO6PgxiEQCB3QkZo4/EQd0/BhEIoEDOhIzx5+IAzp+DCKRwAEdiZnjT8QBHT8GkUgQeuHBRfV8RCXROizN2ysSyfpLhNNT/X0eiN/EZA42M8xobWavqugXehVoRRYAJy0AWWjJsLp0kF05j0xSLdSeo6J66KI7k3LLbFUMbJIG07tlqvxCA62agKOzwwKhgU6m3Q6J2CHjtFVVhtBAu6Jb1cSG6Dg9uamSfqnKLTTQqgk4OgMWAMifVNIFK+5h21W5OaBVLRcVHadndUEWoobuXnWmaWMyQWIBvvaFLbI/ApM9VRlhL7UROVTTl6JjNARdo9lSNF5kjBdsTul5sscq1z3zXqK610zjbyLhw1TTa20UG3CxTNDyq6GBl32aoeXQ9XxpUeHJ6c9obEcHU26A+dN0RbffGgafxYkOtoAs1HJAGwTXYyVATo6gh2zwZE8mB7RnCUP3bpAZXSTN0nBx7U/fAe23hubzzTfzRM6TLQNZqOWA1gTXIxcgv/outaNHYZUne/I5oD1LaN056wL5e9Jsilhc+2UJ3Y/2E7lnvwU4q62nxZjbkwYZ4wGrMga7UH6pej47j+5pEan3bpAnSpEhsgAZR1+OMdVPLpS+A7qQhfr53uXJyiAvXsw+74e90U+u6FY0J0b3GkFaEiALFZ1HKwAtQMZgSL0sqVdcR+nJnowOaM8SIe+lCLJQzQEdEmARDSDPLTVP9tRzQHuWKHDvAnlGgWi9PsdZXPuFcY0xvzX6eK6t57/Cp5IFWajlPLoPcL3gHMiMrvbew95t8WRPXge0Z4mAuwbIq8VgSByt6wA1ckGu6O7DMgD5dgxrqnjy6uR2OmvxkugGQ/pQIS/YeXSeOXa+1NTzmwHydQGf+g1CcZ0DeckSZt0PvDiP7gEdWtfXogslvb/JZpCFis6jfUB3gXyHLyjUo+0gCyUc0F1QVk/jM+HJAxJkB7QPZOT4X3e9hr6Vgid7ygz6OhoNrx/Ckwc0yALsQV1050BmdJ+X68PeS8mTPZ0GLdCqIGPz8BrRT7axC+WBGnQflEV37VQ+Ff1kaU8WILNtdMaSFvv6yUHg+sMGnUcLkHHwi1gdInd1gdzSwjbKEdoRu0Q9Wm2DHfrJ9TC7WB0ifzG6oVRBFsoOGo/Gb25NAcDynrwrSyxHRlkNPpfsCiqdpxL1aDkDY4LiUlA0y1H1jo2McgJCl4Hfx7g3wU3uap3P1veOaV/IYPHoC42aXhyqx+gn+CnGf4mpzPGT+BeN8i8Cs0EBNBpfxSm5GJWLqczyIbQe3bV54sfQi4CREZaDAmg03ZQPYgtrZWyuuxy56Q0AvsBGDx8UQOMMjKFhAdONB8Drysvojep6/mNdXibpSxRoFMYyF6NhMtG14zLaLcHoLtTfL02Yzk/S5meAQYkCLdePRuzIPDoPE0bHYVz8RXTL5k6cyHfL+xbxS4kCLWcl+P8QOQqzsVH8zMgMpdcw511llnN4boMCaIxRL4RnPYa/D8ObxmxM1N1fhrEfhHevqJnKDzTLvTA3ubquML9QMaCs5jljMJviNX4y32tYkkbCy8Xgx4XoHp2uyEqdjNPHyHQXti1gq9SZyFEqG0wumfzY+kCLoVu5ejpfgl1vtQ18b56mixEyHqCfA4NEUp8DaPGLuzVtTWzZLmmK9xQL0GiNvg6jHqGqVmujukf3l2bu5yQ4jqhI5E66P7e/uMa+ZenG1gXsNmP8+mAUF9AvAejj+pCpYHCxgPYnLAY9hg7BRndOs5Ct9vN/M/0M774fnt1gmq+fXyxAY/ToeRjvFL8gMs9RAO2XByXQVXi/EZmzaGPaAPvRz1NU/cg8tsWftqnnuFrdWjM+OJ0v0gGQ1iZ2D07ZPQRGvx6AGDmEtSeAyPjjhqfpie808Iqe30y8xwI0lHpfR/hERXGL0iDZhKehJLk9lcKpxJwWBcXRDmN0amWG/lBXx8u1efVgEAvQPEuv9ZBD6jWRUq/fpRIKiPzAPPZvePgU6HAaAH8lIIpWEOrS0duS9KgWkwDiWICGR68OkCV0EIrPE0NHLlJE9IGfA+DHQJZbTScBsMegXbDUJN9YgEZ9pwU0DDDGpBF0eKG1fBN+Ye4EzJCt0+HTi5bRpRgyvbJXuGJALK1uISvWXj2G2wWKchOMe2RLM3tDld40HRYdfCHF6WG0zI2OtGWzdFL7AqbrGPEtDkSR16Fj7GxS/kwRnfQK0XY0sg0oykcj3gOF4sp8ZwlaKgZyZGiC4sZSdAtB0Fn8XZBAYcNQFF1TW8ePDhs/qnhomU9CWvNNpQc9D6lk+u2A2IBe3sQ+Q712r45BeFJht4UvQawC+brv1dgjwL4cJdZvjTEkmllVx5VHEoUcsQEtEkfr++firnoht5+JCZInZNdooUV7Kf7eQvrVqmkXokMjbQbiaFVP/jSSmpk6VqDFmmg0Nq7wKyT7DLDHYI3WK7n9VP0Qf7+B74tMMQvDr2vQYFqKv0NBm+2HRPsTPPsyePZz2ozAALKehlZ4jSov0Md/5fqM6E5oS8JJVAdroNSbuL8DfllYaAgmNEfhfk5P/gDhF/C8G3qGm3wXrfGk2LdlYmIEfNDgO15Fvlg92hMY/erJMPo/vHflO6MRMOg3Aepk3H+GvzkAfXYQyCINfEd+KO4lWuPIaKKBpn9hxg8l19kqjKwAWowjb++ksTB7pP1iZC6tMfewBsd885PQ7a6w8fuLh5Uxs/r73tc3K4AWwi1bzD5Kp1G8cr1x8L4UDQrHb20aH1MOSkeEocidheLjzb6+hw1HKfRtlR0h1gAtFO1YxN5NdZJYB22stdqPAeuWzGeReHS3DNjN0f2s8ZAkkt7RaRXQQndxfqZoraJeHYuida2GPQJJ4VXPiOFTpLEwMEIRA9vms5Uosf6mmwTq/HGyPNBWsftCi/x01EtToVw1wK/UkPb3oF0IgMU9tqt6Kr84kSBtGdJJ2qNjHtsUVhHrgfYUEZPx25P4eV6emzQYCc88GPXVV7zvve6cPkGcp5E52rF4fnnHXLa5V5yYAnRXwQqxMR9ehanS0FOZqZh0lU62uRnHxFDOE/K8QSzXTe+gfZMp7Fnuungnvde+kL3lvdt2R+l0HzLgnVpyJXJz8gMP6L6M0jqP/Q/fxF/JXChGl6G00QIaPL4qo7B1jTEZ4Us1bksTextAr9ORH/RHydA7oGWsZTAuPPJFHXbOo3WsFyEtPFJrgaQQtWoyPyisyM6jw1rKdDxOH+iyxMheaPxCR9QVytH3sAAj7R8gZanwmwkc0D3sH9Uriu5O3bSGpin0gIkDWtfaivSYo9Y6hQHDw1u7xhZCSVAyAyaeNlghsh9P0EHZDH2KQ6U+kBkG9HjYcMfSlgq0nNUvJlfHlwTQGO++DEVdFYY8xcL9PTGyRBgvJsrkfhj0XbyvzGL5MNY/RzbtqI5QN+WXup8UHpBJ1smQWQ107XR+PBYDLcNwoVjfFXgh/CB8n4zjnibD21djE9w4sT8qMLJdgbp7rqX2fVlbR+dmrbL0vAA5LD7w+BMzGXoB/cv9w9LEFQ8Z9HCdtFFHr5GhtxLo3EAAo+UATmUf9AHw6kUyRoglLqNjdNJFrfWsDL2VQAOoNiixp4wieXEZnS3q9bwwi14mTucHQBz1OhqnGnU0MamRNeuArp7Ov4vi+lRdXNBeu1aXR7HosZb9FC3ejJ6UpbcOaJalKbJKBMUX9fWECVy9VAhiaigMmXCsDivQPyJLbx/QBvc+Z4dhjbed13gdsZLbsD1X8rKqe5U7hEZvXVie+lhuE3p2J4+wiC+5BfiM9lFNAt78kMpvblnl0cnhtLeqAQLp1FrtgayMBWou+UW3rFlFFqs8OsGpHDnW2AWjrDPGzACjqql8HzQ0lTfKoe/8AfaKSdfPQnSrPDoxhIyu1MSY+KsG8DHGAvPH12gxY3STKj0yvV0XzjYx4tTg8hxy/2m2aDehnh+K9enKK1Ohz1roo7wZ3iqPFqBAIa21VB6wmB260Xu24Y7cO1dHDtD/VIfeOqBRxDyto1COltPsB5vYX7X5GGKAUbqrUDefp8Hu8fYmtkKD3q46WiiC4u1xHYVAext2Lt6hycMYeXUdF5vw71ZlCE/eku7UP4HJOo9ua2R/QfH9XwXDvIzRsJHYW2VNkY2jKI5NJOUHN/J053S12GWaF6bwYh3QQgcAdq+CLk+0zGd/V6ArCgkaleejGhI7J/dVTQAZfikaYPer0vvprAQ6jWOpUGRt8gsa4nlmTR0fHSJe0aMAZNENWgGghysnxukpgGzsV3WsBFqc+4Fdk1fLGoklqR0NH+2ZL9l0vfiiC4WdksKLb/HClO5YVJDYThcp0fZBhExn74WlQQ+jGFdReM7mJN1ZrNPse1pMrGjBHPo1KIWugLwqiyW6WaK4fi+TpZM7mtl/ugMNPFgN9KRJvDJdRi+g1fo1aV05fQ7Dt2HN2cK2ZvaMNH0Igsum8W/hmIkrEdVMEQtPTmdprGmQhSpWAy0EFMt7IeRKSHqEeFe6doIuNsU/Bfq1qK/WtjSyd1R44cSCcViBejGqFvHzSd17slV4+WngyY2ZcrSwi7Rh33qghTHEZECS0Z9RLJo+u/N9sF8PI4ti8kMAtx4AYjnWzgvG2R2lwgG4749vByJULAEye3H6CKN4kzAg8iezjPO5lQTQQmTxI544ouI3ALsuX4XSfUMGezTDaEqu8VlkNUoGaM8OWOt9LrxuId6V+6cer7juKCVexwjg7Pb57KGoZCg5oIVhRCOts4xmQvjrUKSOiMpYuukA4Ocx534fTjxYpMtLlr4kgfaU7Pp5g+vhHT+AIuqDEx7D4tzXA+AW/DW1N7K1xUmiMNeSBtpTT6w1Sw3H6cCM6vF3lhce1x2gbsF+sHbxMwkYltWdpDGixoAA2m+JCdP4wdhwNxaAnwBjn4678mS9n2+hZzSsVsGYTwPclbaA65d5wAHtV048i58ArNyB80UTdCReD0Wr/QiAcggUPwqZoN/6HfG2gmYD/jaCbgM8dSMyj3jfANqP8P4yqo230aj6J8KsvgY80IWsf0kd36M8QRXo5lSk8Ic+bQV60jtM/ARRobTdd2cBZwFnAWcBZwFnAWeB/wO9yrSXP8OnPQAAAABJRU5ErkJggg=="})]})]}),ThreeDotsIcon=a=>jsxRuntimeExports.jsx(Icon,{width:"18px",height:"18px",fill:"none",stroke:colors.gray[300],viewBox:"0 0 18 18",xmlns:"http://www.w3.org/2000/svg",...a,children:jsxRuntimeExports.jsx("path",{d:"M13.5 9H13.5075M9 9H9.0075M4.5 9H4.5075M9.75 9C9.75 9.41421 9.41421 9.75 9 9.75C8.58579 9.75 8.25 9.41421 8.25 9C8.25 8.58579 8.58579 8.25 9 8.25C9.41421 8.25 9.75 8.58579 9.75 9ZM14.25 9C14.25 9.41421 13.9142 9.75 13.5 9.75C13.0858 9.75 12.75 9.41421 12.75 9C12.75 8.58579 13.0858 8.25 13.5 8.25C13.9142 8.25 14.25 8.58579 14.25 9ZM5.25 9C5.25 9.41421 4.91421 9.75 4.5 9.75C4.08579 9.75 3.75 9.41421 3.75 9C3.75 8.58579 4.08579 8.25 4.5 8.25C4.91421 8.25 5.25 8.58579 5.25 9Z",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"})}),TokenIcon=({contract:a,..._})=>{const $=`https://services.tzkt.io/v1/avatars/${a}`;return jsxRuntimeExports.jsx(Image$1,{fallbackSrc:"./static/media/coin-front.svg",src:$,..._})},TrashIcon=a=>jsxRuntimeExports.jsx(Icon,{width:"18px",height:"18px",fill:"none",stroke:colors.gray[450],viewBox:"0 0 18 18",xmlns:"http://www.w3.org/2000/svg",...a,children:jsxRuntimeExports.jsx("path",{d:"M3 4.5H15M12 4.5L11.797 3.89105C11.6003 3.30094 11.502 3.00588 11.3195 2.78774C11.1584 2.5951 10.9516 2.44599 10.7179 2.35408C10.4532 2.25 10.1422 2.25 9.52018 2.25H8.47982C7.85779 2.25 7.54677 2.25 7.28213 2.35408C7.04844 2.44599 6.84156 2.5951 6.68047 2.78774C6.49804 3.00588 6.39969 3.30094 6.20298 3.89105L6 4.5M13.5 4.5V12.15C13.5 13.4101 13.5 14.0402 13.2548 14.5215C13.039 14.9448 12.6948 15.289 12.2715 15.5048C11.7902 15.75 11.1601 15.75 9.9 15.75H8.1C6.83988 15.75 6.20982 15.75 5.72852 15.5048C5.30516 15.289 4.96095 14.9448 4.74524 14.5215C4.5 14.0402 4.5 13.4101 4.5 12.15V4.5M10.5 7.5V12.75M7.5 7.5V12.75",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.2"})}),UnknownContactIcon=a=>jsxRuntimeExports.jsx(Icon,{width:"18px",height:"18px",fill:"none","data-testid":"unknown-contact-icon",viewBox:"0 0 18 18",xmlns:"http://www.w3.org/2000/svg",...a,children:jsxRuntimeExports.jsx("path",{d:"M3.16602 15.5625C3.16602 12.7435 5.45123 10.4583 8.27018 10.4583C8.51775 10.4583 8.7612 10.476 8.99935 10.51M13.3722 13.375C14.1014 12.6458 14.8305 12.3575 14.8305 11.5521C14.8305 10.7467 14.1776 10.0938 13.3722 10.0938C12.6927 10.0938 12.1217 10.5585 11.9598 11.1875M13.3722 15.5625H13.3795M11.1868 5.35417C11.1868 6.965 9.88101 8.27083 8.27018 8.27083C6.65935 8.27083 5.35352 6.965 5.35352 5.35417C5.35352 3.74334 6.65935 2.4375 8.27018 2.4375C9.88101 2.4375 11.1868 3.74334 11.1868 5.35417Z",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.2"})}),USBIcon=a=>jsxRuntimeExports.jsx(Icon,{width:"24px",height:"24px",fill:"none",stroke:colors.gray[450],viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",...a,children:jsxRuntimeExports.jsx("path",{d:"M20.5 11L18.7396 7.60473C18.253 6.65855 18.0097 6.18545 17.6514 5.84012C17.3346 5.5347 16.9544 5.30272 16.5379 5.16065C16.067 5 15.535 5 14.471 5H9.52901C8.46503 5 7.93304 5 7.46209 5.16065C7.04558 5.30272 6.66542 5.5347 6.34859 5.84012C5.99034 6.18545 5.74703 6.65855 5.26042 7.60473L3.5 11M20.5 11C20.6981 11.3853 20.7658 11.5446 20.8357 11.747C20.8977 11.9267 20.9426 12.1119 20.9696 12.3002C21 12.5121 21 12.7287 21 13.162V14.2C21 15.8802 21 16.7202 20.673 17.362C20.3854 17.9265 19.9265 18.3854 19.362 18.673C18.7202 19 17.8802 19 16.2 19H7.8C6.11984 19 5.27976 19 4.63803 18.673C4.07354 18.3854 3.6146 17.9265 3.32698 17.362C3 16.7202 3 15.8802 3 14.2V13.162C3 12.7287 3 12.5121 3.03041 12.3002C3.05741 12.1119 3.10225 11.9267 3.16432 11.747C3.23421 11.5446 3.30186 11.3853 3.5 11M20.5 11H3.5M15 15H17",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.2"})}),VerifiedIcon=()=>jsxRuntimeExports.jsxs(Flex,{position:"relative",alignItems:"center",justifyContent:"center","data-testid":"verified-icon",children:[jsxRuntimeExports.jsx(StarIcon,{}),jsxRuntimeExports.jsx(Flex,{position:"absolute",alignItems:"center",justifyContent:"center",children:jsxRuntimeExports.jsx(CheckIcon$1,{})})]}),StarIcon=a=>jsxRuntimeExports.jsx(Icon,{width:"14px",height:"14px",fill:colors.gray[450],viewBox:"0 0 14 14",xmlns:"http://www.w3.org/2000/svg",...a,children:jsxRuntimeExports.jsx("path",{d:"M6.51019 0.479749C6.78233 0.213196 7.21767 0.213195 7.48981 0.479749L8.86158 1.82333C8.99061 1.94972 9.16351 2.02134 9.34412 2.02321L11.2642 2.04314C11.6451 2.04709 11.9529 2.35492 11.9569 2.73584L11.9768 4.65588C11.9787 4.83649 12.0503 5.00939 12.1767 5.13842L13.5203 6.51019C13.7868 6.78233 13.7868 7.21767 13.5203 7.48981L12.1767 8.86158C12.0503 8.99061 11.9787 9.16351 11.9768 9.34412L11.9569 11.2642C11.9529 11.6451 11.6451 11.9529 11.2642 11.9569L9.34412 11.9768C9.16351 11.9787 8.99061 12.0503 8.86158 12.1767L7.48981 13.5203C7.21767 13.7868 6.78233 13.7868 6.51019 13.5203L5.13842 12.1767C5.00939 12.0503 4.83649 11.9787 4.65588 11.9768L2.73584 11.9569C2.35492 11.9529 2.04709 11.6451 2.04314 11.2642L2.02321 9.34412C2.02134 9.16351 1.94972 8.99061 1.82333 8.86158L0.479749 7.48981C0.213196 7.21767 0.213195 6.78233 0.479749 6.51019L1.82333 5.13842C1.94972 5.00939 2.02134 4.83649 2.02321 4.65588L2.04314 2.73584C2.04709 2.35492 2.35492 2.04709 2.73584 2.04314L4.65588 2.02321C4.83649 2.02134 5.00939 1.94972 5.13842 1.82333L6.51019 0.479749Z",strokeLinecap:"square",strokeLinejoin:"round"})}),CheckIcon$1=a=>jsxRuntimeExports.jsx(Icon,{width:"7px",height:"5px",fill:"none",stroke:"white",viewBox:"0 0 7 5",xmlns:"http://www.w3.org/2000/svg",...a,children:jsxRuntimeExports.jsx("path",{d:"M1.66699 2.19314L3.0281 3.55425L5.75033 0.832031",strokeLinecap:"square",strokeLinejoin:"round"})}),WalletPlusIcon=a=>jsxRuntimeExports.jsx(Icon,{width:"24px",height:"24px",fill:"none",stroke:colors.gray[450],viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",...a,children:jsxRuntimeExports.jsx("path",{d:"M10 16V14.0003M10 14.0003V12M10 14.0003L12 14.0005M10 14.0003L8 14M21 12V11.2C21 10.0799 21 9.51984 20.782 9.09202C20.5903 8.7157 20.2843 8.40973 19.908 8.21799C19.4802 8 18.9201 8 17.8 8H3M21 12V16M21 12H19C17.8954 12 17 12.8954 17 14C17 15.1046 17.8954 16 19 16H21M21 16V16.8C21 17.9201 21 18.4802 20.782 18.908C20.5903 19.2843 20.2843 19.5903 19.908 19.782C19.4802 20 18.9201 20 17.8 20H6.2C5.0799 20 4.51984 20 4.09202 19.782C3.71569 19.5903 3.40973 19.2843 3.21799 18.908C3 18.4802 3 17.9201 3 16.8V8M18 8V7.2C18 6.0799 18 5.51984 17.782 5.09202C17.5903 4.71569 17.2843 4.40973 16.908 4.21799C16.4802 4 15.9201 4 14.8 4H6.2C5.07989 4 4.51984 4 4.09202 4.21799C3.71569 4.40973 3.40973 4.71569 3.21799 5.09202C3 5.51984 3 6.0799 3 7.2V8",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.2"})}),WarningIcon=a=>jsxRuntimeExports.jsx(Icon,{width:"36px",height:"32px",fill:"none",stroke:colors.orangeL,viewBox:"0 0 36 32",xmlns:"http://www.w3.org/2000/svg",...a,children:jsxRuntimeExports.jsx("path",{d:"M18.0004 24.3332H18.0171M18.0004 12.6665V19.3332M8.68719 30.9999H27.3136C30.2831 30.9999 31.7678 30.9999 32.6386 30.3754C33.3985 29.8305 33.8946 28.9915 34.0058 28.0631C34.1333 26.9991 33.4178 25.6982 31.9868 23.0963L22.6736 6.16318C21.1499 3.39292 20.3881 2.00779 19.3814 1.54954C18.5041 1.15015 17.4968 1.15015 16.6194 1.54954C15.6127 2.00779 14.8509 3.39292 13.3273 6.16317L4.01404 23.0963C2.58301 25.6982 1.8675 26.9991 1.99498 28.0631C2.10622 28.9915 2.6023 29.8305 3.36219 30.3754C4.23304 30.9999 5.71776 30.9999 8.68719 30.9999Z",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"})}),XMark=a=>jsxRuntimeExports.jsx(Icon,{width:"18px",height:"18px",fill:"none",viewBox:"0 0 18 18",xmlns:"http://www.w3.org/2000/svg",...a,children:jsxRuntimeExports.jsx("path",{d:"M4.5 4.5L13.5 13.5M13.5 4.5L4.5 13.5","data-testid":"xmark-icon-path",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.2"})});function keys(a){return Object.keys(a)}var ExposedPromiseStatus;(function(a){a.PENDING="pending",a.RESOLVED="resolved",a.REJECTED="rejected"})(ExposedPromiseStatus||(ExposedPromiseStatus={}));const notInitialized$1=()=>{throw new Error("ExposedPromise not initialized yet.")};class ExposedPromise{constructor(){Xr(this,"_promise");Xr(this,"_resolve",notInitialized$1);Xr(this,"_reject",notInitialized$1);Xr(this,"_status",ExposedPromiseStatus.PENDING);Xr(this,"_promiseResult");Xr(this,"_promiseError");this._promise=new Promise((_,$)=>{this._resolve=j=>{this.isSettled()||(this._promiseResult=j,_(j),this._status=ExposedPromiseStatus.RESOLVED)},this._reject=j=>{this.isSettled()||(this._promiseError=j,$(j),this._status=ExposedPromiseStatus.REJECTED)}})}get promise(){return this._promise}get resolve(){return this._resolve}get reject(){return this._reject}get status(){return this._status}get promiseResult(){return this._promiseResult}get promiseError(){return this._promiseError}static resolve(_){const $=new ExposedPromise;return $.resolve(_),$}static reject(_){const $=new ExposedPromise;return $.reject(_),$}isPending(){return this.status===ExposedPromiseStatus.PENDING}isResolved(){return this.status===ExposedPromiseStatus.RESOLVED}isRejected(){return this.status===ExposedPromiseStatus.REJECTED}isSettled(){return this.isResolved()||this.isRejected()}}var buffer$2={},base64Js$1={};base64Js$1.byteLength=byteLength$2;base64Js$1.toByteArray=toByteArray$1;base64Js$1.fromByteArray=fromByteArray$1;var lookup$3=[],revLookup$1=[],Arr$1=typeof Uint8Array<"u"?Uint8Array:Array,code$1="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var i$2=0,len$1=code$1.length;i$2<len$1;++i$2)lookup$3[i$2]=code$1[i$2],revLookup$1[code$1.charCodeAt(i$2)]=i$2;revLookup$1[45]=62;revLookup$1[95]=63;function getLens$1(a){var _=a.length;if(_%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var $=a.indexOf("=");$===-1&&($=_);var j=$===_?0:4-$%4;return[$,j]}function byteLength$2(a){var _=getLens$1(a),$=_[0],j=_[1];return($+j)*3/4-j}function _byteLength$1(a,_,$){return(_+$)*3/4-$}function toByteArray$1(a){var _,$=getLens$1(a),j=$[0],et=$[1],tt=new Arr$1(_byteLength$1(a,j,et)),rt=0,nt=et>0?j-4:j,it;for(it=0;it<nt;it+=4)_=revLookup$1[a.charCodeAt(it)]<<18|revLookup$1[a.charCodeAt(it+1)]<<12|revLookup$1[a.charCodeAt(it+2)]<<6|revLookup$1[a.charCodeAt(it+3)],tt[rt++]=_>>16&255,tt[rt++]=_>>8&255,tt[rt++]=_&255;return et===2&&(_=revLookup$1[a.charCodeAt(it)]<<2|revLookup$1[a.charCodeAt(it+1)]>>4,tt[rt++]=_&255),et===1&&(_=revLookup$1[a.charCodeAt(it)]<<10|revLookup$1[a.charCodeAt(it+1)]<<4|revLookup$1[a.charCodeAt(it+2)]>>2,tt[rt++]=_>>8&255,tt[rt++]=_&255),tt}function tripletToBase64$1(a){return lookup$3[a>>18&63]+lookup$3[a>>12&63]+lookup$3[a>>6&63]+lookup$3[a&63]}function encodeChunk$1(a,_,$){for(var j,et=[],tt=_;tt<$;tt+=3)j=(a[tt]<<16&16711680)+(a[tt+1]<<8&65280)+(a[tt+2]&255),et.push(tripletToBase64$1(j));return et.join("")}function fromByteArray$1(a){for(var _,$=a.length,j=$%3,et=[],tt=16383,rt=0,nt=$-j;rt<nt;rt+=tt)et.push(encodeChunk$1(a,rt,rt+tt>nt?nt:rt+tt));return j===1?(_=a[$-1],et.push(lookup$3[_>>2]+lookup$3[_<<4&63]+"==")):j===2&&(_=(a[$-2]<<8)+a[$-1],et.push(lookup$3[_>>10]+lookup$3[_>>4&63]+lookup$3[_<<2&63]+"=")),et.join("")}var ieee754$1={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */ieee754$1.read=function(a,_,$,j,et){var tt,rt,nt=et*8-j-1,it=(1<<nt)-1,st=it>>1,ot=-7,at=$?et-1:0,ut=$?-1:1,ht=a[_+at];for(at+=ut,tt=ht&(1<<-ot)-1,ht>>=-ot,ot+=nt;ot>0;tt=tt*256+a[_+at],at+=ut,ot-=8);for(rt=tt&(1<<-ot)-1,tt>>=-ot,ot+=j;ot>0;rt=rt*256+a[_+at],at+=ut,ot-=8);if(tt===0)tt=1-st;else{if(tt===it)return rt?NaN:(ht?-1:1)*(1/0);rt=rt+Math.pow(2,j),tt=tt-st}return(ht?-1:1)*rt*Math.pow(2,tt-j)};ieee754$1.write=function(a,_,$,j,et,tt){var rt,nt,it,st=tt*8-et-1,ot=(1<<st)-1,at=ot>>1,ut=et===23?Math.pow(2,-24)-Math.pow(2,-77):0,ht=j?0:tt-1,yt=j?1:-1,wt=_<0||_===0&&1/_<0?1:0;for(_=Math.abs(_),isNaN(_)||_===1/0?(nt=isNaN(_)?1:0,rt=ot):(rt=Math.floor(Math.log(_)/Math.LN2),_*(it=Math.pow(2,-rt))<1&&(rt--,it*=2),rt+at>=1?_+=ut/it:_+=ut*Math.pow(2,1-at),_*it>=2&&(rt++,it/=2),rt+at>=ot?(nt=0,rt=ot):rt+at>=1?(nt=(_*it-1)*Math.pow(2,et),rt=rt+at):(nt=_*Math.pow(2,at-1)*Math.pow(2,et),rt=0));et>=8;a[$+ht]=nt&255,ht+=yt,nt/=256,et-=8);for(rt=rt<<et|nt,st+=et;st>0;a[$+ht]=rt&255,ht+=yt,rt/=256,st-=8);a[$+ht-yt]|=wt*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(a){const _=base64Js$1,$=ieee754$1,j=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;a.Buffer=ot,a.SlowBuffer=Dt,a.INSPECT_MAX_BYTES=50;const et=2147483647;a.kMaxLength=et;const{Uint8Array:tt,ArrayBuffer:rt,SharedArrayBuffer:nt}=globalThis;ot.TYPED_ARRAY_SUPPORT=it(),!ot.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function it(){try{const Gt=new tt(1),Vt={foo:function(){return 42}};return Object.setPrototypeOf(Vt,tt.prototype),Object.setPrototypeOf(Gt,Vt),Gt.foo()===42}catch{return!1}}Object.defineProperty(ot.prototype,"parent",{enumerable:!0,get:function(){if(ot.isBuffer(this))return this.buffer}}),Object.defineProperty(ot.prototype,"offset",{enumerable:!0,get:function(){if(ot.isBuffer(this))return this.byteOffset}});function st(Gt){if(Gt>et)throw new RangeError('The value "'+Gt+'" is invalid for option "size"');const Vt=new tt(Gt);return Object.setPrototypeOf(Vt,ot.prototype),Vt}function ot(Gt,Vt,Wt){if(typeof Gt=="number"){if(typeof Vt=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return yt(Gt)}return at(Gt,Vt,Wt)}ot.poolSize=8192;function at(Gt,Vt,Wt){if(typeof Gt=="string")return wt(Gt,Vt);if(rt.isView(Gt))return Pt(Gt);if(Gt==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Gt);if(Or(Gt,rt)||Gt&&Or(Gt.buffer,rt)||typeof nt<"u"&&(Or(Gt,nt)||Gt&&Or(Gt.buffer,nt)))return Tt(Gt,Vt,Wt);if(typeof Gt=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const ar=Gt.valueOf&&Gt.valueOf();if(ar!=null&&ar!==Gt)return ot.from(ar,Vt,Wt);const yr=Mt(Gt);if(yr)return yr;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof Gt[Symbol.toPrimitive]=="function")return ot.from(Gt[Symbol.toPrimitive]("string"),Vt,Wt);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Gt)}ot.from=function(Gt,Vt,Wt){return at(Gt,Vt,Wt)},Object.setPrototypeOf(ot.prototype,tt.prototype),Object.setPrototypeOf(ot,tt);function ut(Gt){if(typeof Gt!="number")throw new TypeError('"size" argument must be of type number');if(Gt<0)throw new RangeError('The value "'+Gt+'" is invalid for option "size"')}function ht(Gt,Vt,Wt){return ut(Gt),Gt<=0?st(Gt):Vt!==void 0?typeof Wt=="string"?st(Gt).fill(Vt,Wt):st(Gt).fill(Vt):st(Gt)}ot.alloc=function(Gt,Vt,Wt){return ht(Gt,Vt,Wt)};function yt(Gt){return ut(Gt),st(Gt<0?0:Lt(Gt)|0)}ot.allocUnsafe=function(Gt){return yt(Gt)},ot.allocUnsafeSlow=function(Gt){return yt(Gt)};function wt(Gt,Vt){if((typeof Vt!="string"||Vt==="")&&(Vt="utf8"),!ot.isEncoding(Vt))throw new TypeError("Unknown encoding: "+Vt);const Wt=Ut(Gt,Vt)|0;let ar=st(Wt);const yr=ar.write(Gt,Vt);return yr!==Wt&&(ar=ar.slice(0,yr)),ar}function Ct(Gt){const Vt=Gt.length<0?0:Lt(Gt.length)|0,Wt=st(Vt);for(let ar=0;ar<Vt;ar+=1)Wt[ar]=Gt[ar]&255;return Wt}function Pt(Gt){if(Or(Gt,tt)){const Vt=new tt(Gt);return Tt(Vt.buffer,Vt.byteOffset,Vt.byteLength)}return Ct(Gt)}function Tt(Gt,Vt,Wt){if(Vt<0||Gt.byteLength<Vt)throw new RangeError('"offset" is outside of buffer bounds');if(Gt.byteLength<Vt+(Wt||0))throw new RangeError('"length" is outside of buffer bounds');let ar;return Vt===void 0&&Wt===void 0?ar=new tt(Gt):Wt===void 0?ar=new tt(Gt,Vt):ar=new tt(Gt,Vt,Wt),Object.setPrototypeOf(ar,ot.prototype),ar}function Mt(Gt){if(ot.isBuffer(Gt)){const Vt=Lt(Gt.length)|0,Wt=st(Vt);return Wt.length===0||Gt.copy(Wt,0,0,Vt),Wt}if(Gt.length!==void 0)return typeof Gt.length!="number"||Lr(Gt.length)?st(0):Ct(Gt);if(Gt.type==="Buffer"&&Array.isArray(Gt.data))return Ct(Gt.data)}function Lt(Gt){if(Gt>=et)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+et.toString(16)+" bytes");return Gt|0}function Dt(Gt){return+Gt!=Gt&&(Gt=0),ot.alloc(+Gt)}ot.isBuffer=function(Vt){return Vt!=null&&Vt._isBuffer===!0&&Vt!==ot.prototype},ot.compare=function(Vt,Wt){if(Or(Vt,tt)&&(Vt=ot.from(Vt,Vt.offset,Vt.byteLength)),Or(Wt,tt)&&(Wt=ot.from(Wt,Wt.offset,Wt.byteLength)),!ot.isBuffer(Vt)||!ot.isBuffer(Wt))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(Vt===Wt)return 0;let ar=Vt.length,yr=Wt.length;for(let Er=0,Sr=Math.min(ar,yr);Er<Sr;++Er)if(Vt[Er]!==Wt[Er]){ar=Vt[Er],yr=Wt[Er];break}return ar<yr?-1:yr<ar?1:0},ot.isEncoding=function(Vt){switch(String(Vt).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},ot.concat=function(Vt,Wt){if(!Array.isArray(Vt))throw new TypeError('"list" argument must be an Array of Buffers');if(Vt.length===0)return ot.alloc(0);let ar;if(Wt===void 0)for(Wt=0,ar=0;ar<Vt.length;++ar)Wt+=Vt[ar].length;const yr=ot.allocUnsafe(Wt);let Er=0;for(ar=0;ar<Vt.length;++ar){let Sr=Vt[ar];if(Or(Sr,tt))Er+Sr.length>yr.length?(ot.isBuffer(Sr)||(Sr=ot.from(Sr)),Sr.copy(yr,Er)):tt.prototype.set.call(yr,Sr,Er);else if(ot.isBuffer(Sr))Sr.copy(yr,Er);else throw new TypeError('"list" argument must be an Array of Buffers');Er+=Sr.length}return yr};function Ut(Gt,Vt){if(ot.isBuffer(Gt))return Gt.length;if(rt.isView(Gt)||Or(Gt,rt))return Gt.byteLength;if(typeof Gt!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof Gt);const Wt=Gt.length,ar=arguments.length>2&&arguments[2]===!0;if(!ar&&Wt===0)return 0;let yr=!1;for(;;)switch(Vt){case"ascii":case"latin1":case"binary":return Wt;case"utf8":case"utf-8":return _r(Gt).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Wt*2;case"hex":return Wt>>>1;case"base64":return Ar(Gt).length;default:if(yr)return ar?-1:_r(Gt).length;Vt=(""+Vt).toLowerCase(),yr=!0}}ot.byteLength=Ut;function Ot(Gt,Vt,Wt){let ar=!1;if((Vt===void 0||Vt<0)&&(Vt=0),Vt>this.length||((Wt===void 0||Wt>this.length)&&(Wt=this.length),Wt<=0)||(Wt>>>=0,Vt>>>=0,Wt<=Vt))return"";for(Gt||(Gt="utf8");;)switch(Gt){case"hex":return Et(this,Vt,Wt);case"utf8":case"utf-8":return xt(this,Vt,Wt);case"ascii":return St(this,Vt,Wt);case"latin1":case"binary":return $t(this,Vt,Wt);case"base64":return mt(this,Vt,Wt);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Nt(this,Vt,Wt);default:if(ar)throw new TypeError("Unknown encoding: "+Gt);Gt=(Gt+"").toLowerCase(),ar=!0}}ot.prototype._isBuffer=!0;function It(Gt,Vt,Wt){const ar=Gt[Vt];Gt[Vt]=Gt[Wt],Gt[Wt]=ar}ot.prototype.swap16=function(){const Vt=this.length;if(Vt%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let Wt=0;Wt<Vt;Wt+=2)It(this,Wt,Wt+1);return this},ot.prototype.swap32=function(){const Vt=this.length;if(Vt%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let Wt=0;Wt<Vt;Wt+=4)It(this,Wt,Wt+3),It(this,Wt+1,Wt+2);return this},ot.prototype.swap64=function(){const Vt=this.length;if(Vt%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let Wt=0;Wt<Vt;Wt+=8)It(this,Wt,Wt+7),It(this,Wt+1,Wt+6),It(this,Wt+2,Wt+5),It(this,Wt+3,Wt+4);return this},ot.prototype.toString=function(){const Vt=this.length;return Vt===0?"":arguments.length===0?xt(this,0,Vt):Ot.apply(this,arguments)},ot.prototype.toLocaleString=ot.prototype.toString,ot.prototype.equals=function(Vt){if(!ot.isBuffer(Vt))throw new TypeError("Argument must be a Buffer");return this===Vt?!0:ot.compare(this,Vt)===0},ot.prototype.inspect=function(){let Vt="";const Wt=a.INSPECT_MAX_BYTES;return Vt=this.toString("hex",0,Wt).replace(/(.{2})/g,"$1 ").trim(),this.length>Wt&&(Vt+=" ... "),"<Buffer "+Vt+">"},j&&(ot.prototype[j]=ot.prototype.inspect),ot.prototype.compare=function(Vt,Wt,ar,yr,Er){if(Or(Vt,tt)&&(Vt=ot.from(Vt,Vt.offset,Vt.byteLength)),!ot.isBuffer(Vt))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof Vt);if(Wt===void 0&&(Wt=0),ar===void 0&&(ar=Vt?Vt.length:0),yr===void 0&&(yr=0),Er===void 0&&(Er=this.length),Wt<0||ar>Vt.length||yr<0||Er>this.length)throw new RangeError("out of range index");if(yr>=Er&&Wt>=ar)return 0;if(yr>=Er)return-1;if(Wt>=ar)return 1;if(Wt>>>=0,ar>>>=0,yr>>>=0,Er>>>=0,this===Vt)return 0;let Sr=Er-yr,Wr=ar-Wt;const Hr=Math.min(Sr,Wr),Fr=this.slice(yr,Er),pn=Vt.slice(Wt,ar);for(let Jr=0;Jr<Hr;++Jr)if(Fr[Jr]!==pn[Jr]){Sr=Fr[Jr],Wr=pn[Jr];break}return Sr<Wr?-1:Wr<Sr?1:0};function Bt(Gt,Vt,Wt,ar,yr){if(Gt.length===0)return-1;if(typeof Wt=="string"?(ar=Wt,Wt=0):Wt>2147483647?Wt=2147483647:Wt<-2147483648&&(Wt=-2147483648),Wt=+Wt,Lr(Wt)&&(Wt=yr?0:Gt.length-1),Wt<0&&(Wt=Gt.length+Wt),Wt>=Gt.length){if(yr)return-1;Wt=Gt.length-1}else if(Wt<0)if(yr)Wt=0;else return-1;if(typeof Vt=="string"&&(Vt=ot.from(Vt,ar)),ot.isBuffer(Vt))return Vt.length===0?-1:Ft(Gt,Vt,Wt,ar,yr);if(typeof Vt=="number")return Vt=Vt&255,typeof tt.prototype.indexOf=="function"?yr?tt.prototype.indexOf.call(Gt,Vt,Wt):tt.prototype.lastIndexOf.call(Gt,Vt,Wt):Ft(Gt,[Vt],Wt,ar,yr);throw new TypeError("val must be string, number or Buffer")}function Ft(Gt,Vt,Wt,ar,yr){let Er=1,Sr=Gt.length,Wr=Vt.length;if(ar!==void 0&&(ar=String(ar).toLowerCase(),ar==="ucs2"||ar==="ucs-2"||ar==="utf16le"||ar==="utf-16le")){if(Gt.length<2||Vt.length<2)return-1;Er=2,Sr/=2,Wr/=2,Wt/=2}function Hr(pn,Jr){return Er===1?pn[Jr]:pn.readUInt16BE(Jr*Er)}let Fr;if(yr){let pn=-1;for(Fr=Wt;Fr<Sr;Fr++)if(Hr(Gt,Fr)===Hr(Vt,pn===-1?0:Fr-pn)){if(pn===-1&&(pn=Fr),Fr-pn+1===Wr)return pn*Er}else pn!==-1&&(Fr-=Fr-pn),pn=-1}else for(Wt+Wr>Sr&&(Wt=Sr-Wr),Fr=Wt;Fr>=0;Fr--){let pn=!0;for(let Jr=0;Jr<Wr;Jr++)if(Hr(Gt,Fr+Jr)!==Hr(Vt,Jr)){pn=!1;break}if(pn)return Fr}return-1}ot.prototype.includes=function(Vt,Wt,ar){return this.indexOf(Vt,Wt,ar)!==-1},ot.prototype.indexOf=function(Vt,Wt,ar){return Bt(this,Vt,Wt,ar,!0)},ot.prototype.lastIndexOf=function(Vt,Wt,ar){return Bt(this,Vt,Wt,ar,!1)};function jt(Gt,Vt,Wt,ar){Wt=Number(Wt)||0;const yr=Gt.length-Wt;ar?(ar=Number(ar),ar>yr&&(ar=yr)):ar=yr;const Er=Vt.length;ar>Er/2&&(ar=Er/2);let Sr;for(Sr=0;Sr<ar;++Sr){const Wr=parseInt(Vt.substr(Sr*2,2),16);if(Lr(Wr))return Sr;Gt[Wt+Sr]=Wr}return Sr}function bt(Gt,Vt,Wt,ar){return Pr(_r(Vt,Gt.length-Wt),Gt,Wt,ar)}function vt(Gt,Vt,Wt,ar){return Pr(Rr(Vt),Gt,Wt,ar)}function ct(Gt,Vt,Wt,ar){return Pr(Ar(Vt),Gt,Wt,ar)}function dt(Gt,Vt,Wt,ar){return Pr(kr(Vt,Gt.length-Wt),Gt,Wt,ar)}ot.prototype.write=function(Vt,Wt,ar,yr){if(Wt===void 0)yr="utf8",ar=this.length,Wt=0;else if(ar===void 0&&typeof Wt=="string")yr=Wt,ar=this.length,Wt=0;else if(isFinite(Wt))Wt=Wt>>>0,isFinite(ar)?(ar=ar>>>0,yr===void 0&&(yr="utf8")):(yr=ar,ar=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const Er=this.length-Wt;if((ar===void 0||ar>Er)&&(ar=Er),Vt.length>0&&(ar<0||Wt<0)||Wt>this.length)throw new RangeError("Attempt to write outside buffer bounds");yr||(yr="utf8");let Sr=!1;for(;;)switch(yr){case"hex":return jt(this,Vt,Wt,ar);case"utf8":case"utf-8":return bt(this,Vt,Wt,ar);case"ascii":case"latin1":case"binary":return vt(this,Vt,Wt,ar);case"base64":return ct(this,Vt,Wt,ar);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return dt(this,Vt,Wt,ar);default:if(Sr)throw new TypeError("Unknown encoding: "+yr);yr=(""+yr).toLowerCase(),Sr=!0}},ot.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function mt(Gt,Vt,Wt){return Vt===0&&Wt===Gt.length?_.fromByteArray(Gt):_.fromByteArray(Gt.slice(Vt,Wt))}function xt(Gt,Vt,Wt){Wt=Math.min(Gt.length,Wt);const ar=[];let yr=Vt;for(;yr<Wt;){const Er=Gt[yr];let Sr=null,Wr=Er>239?4:Er>223?3:Er>191?2:1;if(yr+Wr<=Wt){let Hr,Fr,pn,Jr;switch(Wr){case 1:Er<128&&(Sr=Er);break;case 2:Hr=Gt[yr+1],(Hr&192)===128&&(Jr=(Er&31)<<6|Hr&63,Jr>127&&(Sr=Jr));break;case 3:Hr=Gt[yr+1],Fr=Gt[yr+2],(Hr&192)===128&&(Fr&192)===128&&(Jr=(Er&15)<<12|(Hr&63)<<6|Fr&63,Jr>2047&&(Jr<55296||Jr>57343)&&(Sr=Jr));break;case 4:Hr=Gt[yr+1],Fr=Gt[yr+2],pn=Gt[yr+3],(Hr&192)===128&&(Fr&192)===128&&(pn&192)===128&&(Jr=(Er&15)<<18|(Hr&63)<<12|(Fr&63)<<6|pn&63,Jr>65535&&Jr<1114112&&(Sr=Jr))}}Sr===null?(Sr=65533,Wr=1):Sr>65535&&(Sr-=65536,ar.push(Sr>>>10&1023|55296),Sr=56320|Sr&1023),ar.push(Sr),yr+=Wr}return Rt(ar)}const At=4096;function Rt(Gt){const Vt=Gt.length;if(Vt<=At)return String.fromCharCode.apply(String,Gt);let Wt="",ar=0;for(;ar<Vt;)Wt+=String.fromCharCode.apply(String,Gt.slice(ar,ar+=At));return Wt}function St(Gt,Vt,Wt){let ar="";Wt=Math.min(Gt.length,Wt);for(let yr=Vt;yr<Wt;++yr)ar+=String.fromCharCode(Gt[yr]&127);return ar}function $t(Gt,Vt,Wt){let ar="";Wt=Math.min(Gt.length,Wt);for(let yr=Vt;yr<Wt;++yr)ar+=String.fromCharCode(Gt[yr]);return ar}function Et(Gt,Vt,Wt){const ar=Gt.length;(!Vt||Vt<0)&&(Vt=0),(!Wt||Wt<0||Wt>ar)&&(Wt=ar);let yr="";for(let Er=Vt;Er<Wt;++Er)yr+=or[Gt[Er]];return yr}function Nt(Gt,Vt,Wt){const ar=Gt.slice(Vt,Wt);let yr="";for(let Er=0;Er<ar.length-1;Er+=2)yr+=String.fromCharCode(ar[Er]+ar[Er+1]*256);return yr}ot.prototype.slice=function(Vt,Wt){const ar=this.length;Vt=~~Vt,Wt=Wt===void 0?ar:~~Wt,Vt<0?(Vt+=ar,Vt<0&&(Vt=0)):Vt>ar&&(Vt=ar),Wt<0?(Wt+=ar,Wt<0&&(Wt=0)):Wt>ar&&(Wt=ar),Wt<Vt&&(Wt=Vt);const yr=this.subarray(Vt,Wt);return Object.setPrototypeOf(yr,ot.prototype),yr};function tr(Gt,Vt,Wt){if(Gt%1!==0||Gt<0)throw new RangeError("offset is not uint");if(Gt+Vt>Wt)throw new RangeError("Trying to access beyond buffer length")}ot.prototype.readUintLE=ot.prototype.readUIntLE=function(Vt,Wt,ar){Vt=Vt>>>0,Wt=Wt>>>0,ar||tr(Vt,Wt,this.length);let yr=this[Vt],Er=1,Sr=0;for(;++Sr<Wt&&(Er*=256);)yr+=this[Vt+Sr]*Er;return yr},ot.prototype.readUintBE=ot.prototype.readUIntBE=function(Vt,Wt,ar){Vt=Vt>>>0,Wt=Wt>>>0,ar||tr(Vt,Wt,this.length);let yr=this[Vt+--Wt],Er=1;for(;Wt>0&&(Er*=256);)yr+=this[Vt+--Wt]*Er;return yr},ot.prototype.readUint8=ot.prototype.readUInt8=function(Vt,Wt){return Vt=Vt>>>0,Wt||tr(Vt,1,this.length),this[Vt]},ot.prototype.readUint16LE=ot.prototype.readUInt16LE=function(Vt,Wt){return Vt=Vt>>>0,Wt||tr(Vt,2,this.length),this[Vt]|this[Vt+1]<<8},ot.prototype.readUint16BE=ot.prototype.readUInt16BE=function(Vt,Wt){return Vt=Vt>>>0,Wt||tr(Vt,2,this.length),this[Vt]<<8|this[Vt+1]},ot.prototype.readUint32LE=ot.prototype.readUInt32LE=function(Vt,Wt){return Vt=Vt>>>0,Wt||tr(Vt,4,this.length),(this[Vt]|this[Vt+1]<<8|this[Vt+2]<<16)+this[Vt+3]*16777216},ot.prototype.readUint32BE=ot.prototype.readUInt32BE=function(Vt,Wt){return Vt=Vt>>>0,Wt||tr(Vt,4,this.length),this[Vt]*16777216+(this[Vt+1]<<16|this[Vt+2]<<8|this[Vt+3])},ot.prototype.readBigUInt64LE=Yt(function(Vt){Vt=Vt>>>0,Cr(Vt,"offset");const Wt=this[Vt],ar=this[Vt+7];(Wt===void 0||ar===void 0)&&Mr(Vt,this.length-8);const yr=Wt+this[++Vt]*2**8+this[++Vt]*2**16+this[++Vt]*2**24,Er=this[++Vt]+this[++Vt]*2**8+this[++Vt]*2**16+ar*2**24;return BigInt(yr)+(BigInt(Er)<<BigInt(32))}),ot.prototype.readBigUInt64BE=Yt(function(Vt){Vt=Vt>>>0,Cr(Vt,"offset");const Wt=this[Vt],ar=this[Vt+7];(Wt===void 0||ar===void 0)&&Mr(Vt,this.length-8);const yr=Wt*2**24+this[++Vt]*2**16+this[++Vt]*2**8+this[++Vt],Er=this[++Vt]*2**24+this[++Vt]*2**16+this[++Vt]*2**8+ar;return(BigInt(yr)<<BigInt(32))+BigInt(Er)}),ot.prototype.readIntLE=function(Vt,Wt,ar){Vt=Vt>>>0,Wt=Wt>>>0,ar||tr(Vt,Wt,this.length);let yr=this[Vt],Er=1,Sr=0;for(;++Sr<Wt&&(Er*=256);)yr+=this[Vt+Sr]*Er;return Er*=128,yr>=Er&&(yr-=Math.pow(2,8*Wt)),yr},ot.prototype.readIntBE=function(Vt,Wt,ar){Vt=Vt>>>0,Wt=Wt>>>0,ar||tr(Vt,Wt,this.length);let yr=Wt,Er=1,Sr=this[Vt+--yr];for(;yr>0&&(Er*=256);)Sr+=this[Vt+--yr]*Er;return Er*=128,Sr>=Er&&(Sr-=Math.pow(2,8*Wt)),Sr},ot.prototype.readInt8=function(Vt,Wt){return Vt=Vt>>>0,Wt||tr(Vt,1,this.length),this[Vt]&128?(255-this[Vt]+1)*-1:this[Vt]},ot.prototype.readInt16LE=function(Vt,Wt){Vt=Vt>>>0,Wt||tr(Vt,2,this.length);const ar=this[Vt]|this[Vt+1]<<8;return ar&32768?ar|4294901760:ar},ot.prototype.readInt16BE=function(Vt,Wt){Vt=Vt>>>0,Wt||tr(Vt,2,this.length);const ar=this[Vt+1]|this[Vt]<<8;return ar&32768?ar|4294901760:ar},ot.prototype.readInt32LE=function(Vt,Wt){return Vt=Vt>>>0,Wt||tr(Vt,4,this.length),this[Vt]|this[Vt+1]<<8|this[Vt+2]<<16|this[Vt+3]<<24},ot.prototype.readInt32BE=function(Vt,Wt){return Vt=Vt>>>0,Wt||tr(Vt,4,this.length),this[Vt]<<24|this[Vt+1]<<16|this[Vt+2]<<8|this[Vt+3]},ot.prototype.readBigInt64LE=Yt(function(Vt){Vt=Vt>>>0,Cr(Vt,"offset");const Wt=this[Vt],ar=this[Vt+7];(Wt===void 0||ar===void 0)&&Mr(Vt,this.length-8);const yr=this[Vt+4]+this[Vt+5]*2**8+this[Vt+6]*2**16+(ar<<24);return(BigInt(yr)<<BigInt(32))+BigInt(Wt+this[++Vt]*2**8+this[++Vt]*2**16+this[++Vt]*2**24)}),ot.prototype.readBigInt64BE=Yt(function(Vt){Vt=Vt>>>0,Cr(Vt,"offset");const Wt=this[Vt],ar=this[Vt+7];(Wt===void 0||ar===void 0)&&Mr(Vt,this.length-8);const yr=(Wt<<24)+this[++Vt]*2**16+this[++Vt]*2**8+this[++Vt];return(BigInt(yr)<<BigInt(32))+BigInt(this[++Vt]*2**24+this[++Vt]*2**16+this[++Vt]*2**8+ar)}),ot.prototype.readFloatLE=function(Vt,Wt){return Vt=Vt>>>0,Wt||tr(Vt,4,this.length),$.read(this,Vt,!0,23,4)},ot.prototype.readFloatBE=function(Vt,Wt){return Vt=Vt>>>0,Wt||tr(Vt,4,this.length),$.read(this,Vt,!1,23,4)},ot.prototype.readDoubleLE=function(Vt,Wt){return Vt=Vt>>>0,Wt||tr(Vt,8,this.length),$.read(this,Vt,!0,52,8)},ot.prototype.readDoubleBE=function(Vt,Wt){return Vt=Vt>>>0,Wt||tr(Vt,8,this.length),$.read(this,Vt,!1,52,8)};function ir(Gt,Vt,Wt,ar,yr,Er){if(!ot.isBuffer(Gt))throw new TypeError('"buffer" argument must be a Buffer instance');if(Vt>yr||Vt<Er)throw new RangeError('"value" argument is out of bounds');if(Wt+ar>Gt.length)throw new RangeError("Index out of range")}ot.prototype.writeUintLE=ot.prototype.writeUIntLE=function(Vt,Wt,ar,yr){if(Vt=+Vt,Wt=Wt>>>0,ar=ar>>>0,!yr){const Wr=Math.pow(2,8*ar)-1;ir(this,Vt,Wt,ar,Wr,0)}let Er=1,Sr=0;for(this[Wt]=Vt&255;++Sr<ar&&(Er*=256);)this[Wt+Sr]=Vt/Er&255;return Wt+ar},ot.prototype.writeUintBE=ot.prototype.writeUIntBE=function(Vt,Wt,ar,yr){if(Vt=+Vt,Wt=Wt>>>0,ar=ar>>>0,!yr){const Wr=Math.pow(2,8*ar)-1;ir(this,Vt,Wt,ar,Wr,0)}let Er=ar-1,Sr=1;for(this[Wt+Er]=Vt&255;--Er>=0&&(Sr*=256);)this[Wt+Er]=Vt/Sr&255;return Wt+ar},ot.prototype.writeUint8=ot.prototype.writeUInt8=function(Vt,Wt,ar){return Vt=+Vt,Wt=Wt>>>0,ar||ir(this,Vt,Wt,1,255,0),this[Wt]=Vt&255,Wt+1},ot.prototype.writeUint16LE=ot.prototype.writeUInt16LE=function(Vt,Wt,ar){return Vt=+Vt,Wt=Wt>>>0,ar||ir(this,Vt,Wt,2,65535,0),this[Wt]=Vt&255,this[Wt+1]=Vt>>>8,Wt+2},ot.prototype.writeUint16BE=ot.prototype.writeUInt16BE=function(Vt,Wt,ar){return Vt=+Vt,Wt=Wt>>>0,ar||ir(this,Vt,Wt,2,65535,0),this[Wt]=Vt>>>8,this[Wt+1]=Vt&255,Wt+2},ot.prototype.writeUint32LE=ot.prototype.writeUInt32LE=function(Vt,Wt,ar){return Vt=+Vt,Wt=Wt>>>0,ar||ir(this,Vt,Wt,4,4294967295,0),this[Wt+3]=Vt>>>24,this[Wt+2]=Vt>>>16,this[Wt+1]=Vt>>>8,this[Wt]=Vt&255,Wt+4},ot.prototype.writeUint32BE=ot.prototype.writeUInt32BE=function(Vt,Wt,ar){return Vt=+Vt,Wt=Wt>>>0,ar||ir(this,Vt,Wt,4,4294967295,0),this[Wt]=Vt>>>24,this[Wt+1]=Vt>>>16,this[Wt+2]=Vt>>>8,this[Wt+3]=Vt&255,Wt+4};function nr(Gt,Vt,Wt,ar,yr){pr(Vt,ar,yr,Gt,Wt,7);let Er=Number(Vt&BigInt(4294967295));Gt[Wt++]=Er,Er=Er>>8,Gt[Wt++]=Er,Er=Er>>8,Gt[Wt++]=Er,Er=Er>>8,Gt[Wt++]=Er;let Sr=Number(Vt>>BigInt(32)&BigInt(4294967295));return Gt[Wt++]=Sr,Sr=Sr>>8,Gt[Wt++]=Sr,Sr=Sr>>8,Gt[Wt++]=Sr,Sr=Sr>>8,Gt[Wt++]=Sr,Wt}function Zt(Gt,Vt,Wt,ar,yr){pr(Vt,ar,yr,Gt,Wt,7);let Er=Number(Vt&BigInt(4294967295));Gt[Wt+7]=Er,Er=Er>>8,Gt[Wt+6]=Er,Er=Er>>8,Gt[Wt+5]=Er,Er=Er>>8,Gt[Wt+4]=Er;let Sr=Number(Vt>>BigInt(32)&BigInt(4294967295));return Gt[Wt+3]=Sr,Sr=Sr>>8,Gt[Wt+2]=Sr,Sr=Sr>>8,Gt[Wt+1]=Sr,Sr=Sr>>8,Gt[Wt]=Sr,Wt+8}ot.prototype.writeBigUInt64LE=Yt(function(Vt,Wt=0){return nr(this,Vt,Wt,BigInt(0),BigInt("0xffffffffffffffff"))}),ot.prototype.writeBigUInt64BE=Yt(function(Vt,Wt=0){return Zt(this,Vt,Wt,BigInt(0),BigInt("0xffffffffffffffff"))}),ot.prototype.writeIntLE=function(Vt,Wt,ar,yr){if(Vt=+Vt,Wt=Wt>>>0,!yr){const Hr=Math.pow(2,8*ar-1);ir(this,Vt,Wt,ar,Hr-1,-Hr)}let Er=0,Sr=1,Wr=0;for(this[Wt]=Vt&255;++Er<ar&&(Sr*=256);)Vt<0&&Wr===0&&this[Wt+Er-1]!==0&&(Wr=1),this[Wt+Er]=(Vt/Sr>>0)-Wr&255;return Wt+ar},ot.prototype.writeIntBE=function(Vt,Wt,ar,yr){if(Vt=+Vt,Wt=Wt>>>0,!yr){const Hr=Math.pow(2,8*ar-1);ir(this,Vt,Wt,ar,Hr-1,-Hr)}let Er=ar-1,Sr=1,Wr=0;for(this[Wt+Er]=Vt&255;--Er>=0&&(Sr*=256);)Vt<0&&Wr===0&&this[Wt+Er+1]!==0&&(Wr=1),this[Wt+Er]=(Vt/Sr>>0)-Wr&255;return Wt+ar},ot.prototype.writeInt8=function(Vt,Wt,ar){return Vt=+Vt,Wt=Wt>>>0,ar||ir(this,Vt,Wt,1,127,-128),Vt<0&&(Vt=255+Vt+1),this[Wt]=Vt&255,Wt+1},ot.prototype.writeInt16LE=function(Vt,Wt,ar){return Vt=+Vt,Wt=Wt>>>0,ar||ir(this,Vt,Wt,2,32767,-32768),this[Wt]=Vt&255,this[Wt+1]=Vt>>>8,Wt+2},ot.prototype.writeInt16BE=function(Vt,Wt,ar){return Vt=+Vt,Wt=Wt>>>0,ar||ir(this,Vt,Wt,2,32767,-32768),this[Wt]=Vt>>>8,this[Wt+1]=Vt&255,Wt+2},ot.prototype.writeInt32LE=function(Vt,Wt,ar){return Vt=+Vt,Wt=Wt>>>0,ar||ir(this,Vt,Wt,4,2147483647,-2147483648),this[Wt]=Vt&255,this[Wt+1]=Vt>>>8,this[Wt+2]=Vt>>>16,this[Wt+3]=Vt>>>24,Wt+4},ot.prototype.writeInt32BE=function(Vt,Wt,ar){return Vt=+Vt,Wt=Wt>>>0,ar||ir(this,Vt,Wt,4,2147483647,-2147483648),Vt<0&&(Vt=4294967295+Vt+1),this[Wt]=Vt>>>24,this[Wt+1]=Vt>>>16,this[Wt+2]=Vt>>>8,this[Wt+3]=Vt&255,Wt+4},ot.prototype.writeBigInt64LE=Yt(function(Vt,Wt=0){return nr(this,Vt,Wt,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),ot.prototype.writeBigInt64BE=Yt(function(Vt,Wt=0){return Zt(this,Vt,Wt,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Kt(Gt,Vt,Wt,ar,yr,Er){if(Wt+ar>Gt.length)throw new RangeError("Index out of range");if(Wt<0)throw new RangeError("Index out of range")}function Qt(Gt,Vt,Wt,ar,yr){return Vt=+Vt,Wt=Wt>>>0,yr||Kt(Gt,Vt,Wt,4),$.write(Gt,Vt,Wt,ar,23,4),Wt+4}ot.prototype.writeFloatLE=function(Vt,Wt,ar){return Qt(this,Vt,Wt,!0,ar)},ot.prototype.writeFloatBE=function(Vt,Wt,ar){return Qt(this,Vt,Wt,!1,ar)};function Ht(Gt,Vt,Wt,ar,yr){return Vt=+Vt,Wt=Wt>>>0,yr||Kt(Gt,Vt,Wt,8),$.write(Gt,Vt,Wt,ar,52,8),Wt+8}ot.prototype.writeDoubleLE=function(Vt,Wt,ar){return Ht(this,Vt,Wt,!0,ar)},ot.prototype.writeDoubleBE=function(Vt,Wt,ar){return Ht(this,Vt,Wt,!1,ar)},ot.prototype.copy=function(Vt,Wt,ar,yr){if(!ot.isBuffer(Vt))throw new TypeError("argument should be a Buffer");if(ar||(ar=0),!yr&&yr!==0&&(yr=this.length),Wt>=Vt.length&&(Wt=Vt.length),Wt||(Wt=0),yr>0&&yr<ar&&(yr=ar),yr===ar||Vt.length===0||this.length===0)return 0;if(Wt<0)throw new RangeError("targetStart out of bounds");if(ar<0||ar>=this.length)throw new RangeError("Index out of range");if(yr<0)throw new RangeError("sourceEnd out of bounds");yr>this.length&&(yr=this.length),Vt.length-Wt<yr-ar&&(yr=Vt.length-Wt+ar);const Er=yr-ar;return this===Vt&&typeof tt.prototype.copyWithin=="function"?this.copyWithin(Wt,ar,yr):tt.prototype.set.call(Vt,this.subarray(ar,yr),Wt),Er},ot.prototype.fill=function(Vt,Wt,ar,yr){if(typeof Vt=="string"){if(typeof Wt=="string"?(yr=Wt,Wt=0,ar=this.length):typeof ar=="string"&&(yr=ar,ar=this.length),yr!==void 0&&typeof yr!="string")throw new TypeError("encoding must be a string");if(typeof yr=="string"&&!ot.isEncoding(yr))throw new TypeError("Unknown encoding: "+yr);if(Vt.length===1){const Sr=Vt.charCodeAt(0);(yr==="utf8"&&Sr<128||yr==="latin1")&&(Vt=Sr)}}else typeof Vt=="number"?Vt=Vt&255:typeof Vt=="boolean"&&(Vt=Number(Vt));if(Wt<0||this.length<Wt||this.length<ar)throw new RangeError("Out of range index");if(ar<=Wt)return this;Wt=Wt>>>0,ar=ar===void 0?this.length:ar>>>0,Vt||(Vt=0);let Er;if(typeof Vt=="number")for(Er=Wt;Er<ar;++Er)this[Er]=Vt;else{const Sr=ot.isBuffer(Vt)?Vt:ot.from(Vt,yr),Wr=Sr.length;if(Wr===0)throw new TypeError('The value "'+Vt+'" is invalid for argument "value"');for(Er=0;Er<ar-Wt;++Er)this[Er+Wt]=Sr[Er%Wr]}return this};const qt={};function Jt(Gt,Vt,Wt){qt[Gt]=class extends Wt{constructor(){super(),Object.defineProperty(this,"message",{value:Vt.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${Gt}]`,this.stack,delete this.name}get code(){return Gt}set code(yr){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:yr,writable:!0})}toString(){return`${this.name} [${Gt}]: ${this.message}`}}}Jt("ERR_BUFFER_OUT_OF_BOUNDS",function(Gt){return Gt?`${Gt} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Jt("ERR_INVALID_ARG_TYPE",function(Gt,Vt){return`The "${Gt}" argument must be of type number. Received type ${typeof Vt}`},TypeError),Jt("ERR_OUT_OF_RANGE",function(Gt,Vt,Wt){let ar=`The value of "${Gt}" is out of range.`,yr=Wt;return Number.isInteger(Wt)&&Math.abs(Wt)>2**32?yr=ur(String(Wt)):typeof Wt=="bigint"&&(yr=String(Wt),(Wt>BigInt(2)**BigInt(32)||Wt<-(BigInt(2)**BigInt(32)))&&(yr=ur(yr)),yr+="n"),ar+=` It must be ${Vt}. Received ${yr}`,ar},RangeError);function ur(Gt){let Vt="",Wt=Gt.length;const ar=Gt[0]==="-"?1:0;for(;Wt>=ar+4;Wt-=3)Vt=`_${Gt.slice(Wt-3,Wt)}${Vt}`;return`${Gt.slice(0,Wt)}${Vt}`}function xr(Gt,Vt,Wt){Cr(Vt,"offset"),(Gt[Vt]===void 0||Gt[Vt+Wt]===void 0)&&Mr(Vt,Gt.length-(Wt+1))}function pr(Gt,Vt,Wt,ar,yr,Er){if(Gt>Wt||Gt<Vt){const Sr=typeof Vt=="bigint"?"n":"";let Wr;throw Vt===0||Vt===BigInt(0)?Wr=`>= 0${Sr} and < 2${Sr} ** ${(Er+1)*8}${Sr}`:Wr=`>= -(2${Sr} ** ${(Er+1)*8-1}${Sr}) and < 2 ** ${(Er+1)*8-1}${Sr}`,new qt.ERR_OUT_OF_RANGE("value",Wr,Gt)}xr(ar,yr,Er)}function Cr(Gt,Vt){if(typeof Gt!="number")throw new qt.ERR_INVALID_ARG_TYPE(Vt,"number",Gt)}function Mr(Gt,Vt,Wt){throw Math.floor(Gt)!==Gt?(Cr(Gt,Wt),new qt.ERR_OUT_OF_RANGE("offset","an integer",Gt)):Vt<0?new qt.ERR_BUFFER_OUT_OF_BOUNDS:new qt.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${Vt}`,Gt)}const lr=/[^+/0-9A-Za-z-_]/g;function fr(Gt){if(Gt=Gt.split("=")[0],Gt=Gt.trim().replace(lr,""),Gt.length<2)return"";for(;Gt.length%4!==0;)Gt=Gt+"=";return Gt}function _r(Gt,Vt){Vt=Vt||1/0;let Wt;const ar=Gt.length;let yr=null;const Er=[];for(let Sr=0;Sr<ar;++Sr){if(Wt=Gt.charCodeAt(Sr),Wt>55295&&Wt<57344){if(!yr){if(Wt>56319){(Vt-=3)>-1&&Er.push(239,191,189);continue}else if(Sr+1===ar){(Vt-=3)>-1&&Er.push(239,191,189);continue}yr=Wt;continue}if(Wt<56320){(Vt-=3)>-1&&Er.push(239,191,189),yr=Wt;continue}Wt=(yr-55296<<10|Wt-56320)+65536}else yr&&(Vt-=3)>-1&&Er.push(239,191,189);if(yr=null,Wt<128){if((Vt-=1)<0)break;Er.push(Wt)}else if(Wt<2048){if((Vt-=2)<0)break;Er.push(Wt>>6|192,Wt&63|128)}else if(Wt<65536){if((Vt-=3)<0)break;Er.push(Wt>>12|224,Wt>>6&63|128,Wt&63|128)}else if(Wt<1114112){if((Vt-=4)<0)break;Er.push(Wt>>18|240,Wt>>12&63|128,Wt>>6&63|128,Wt&63|128)}else throw new Error("Invalid code point")}return Er}function Rr(Gt){const Vt=[];for(let Wt=0;Wt<Gt.length;++Wt)Vt.push(Gt.charCodeAt(Wt)&255);return Vt}function kr(Gt,Vt){let Wt,ar,yr;const Er=[];for(let Sr=0;Sr<Gt.length&&!((Vt-=2)<0);++Sr)Wt=Gt.charCodeAt(Sr),ar=Wt>>8,yr=Wt%256,Er.push(yr),Er.push(ar);return Er}function Ar(Gt){return _.toByteArray(fr(Gt))}function Pr(Gt,Vt,Wt,ar){let yr;for(yr=0;yr<ar&&!(yr+Wt>=Vt.length||yr>=Gt.length);++yr)Vt[yr+Wt]=Gt[yr];return yr}function Or(Gt,Vt){return Gt instanceof Vt||Gt!=null&&Gt.constructor!=null&&Gt.constructor.name!=null&&Gt.constructor.name===Vt.name}function Lr(Gt){return Gt!==Gt}const or=function(){const Gt="0123456789abcdef",Vt=new Array(256);for(let Wt=0;Wt<16;++Wt){const ar=Wt*16;for(let yr=0;yr<16;++yr)Vt[ar+yr]=Gt[Wt]+Gt[yr]}return Vt}();function Yt(Gt){return typeof BigInt>"u"?er:Gt}function er(){throw new Error("BigInt not supported")}})(buffer$2);const Buffer$g=buffer$2.Buffer;var inherits_browser={exports:{}};typeof Object.create=="function"?inherits_browser.exports=function(_,$){$&&(_.super_=$,_.prototype=Object.create($.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}))}:inherits_browser.exports=function(_,$){if($){_.super_=$;var j=function(){};j.prototype=$.prototype,_.prototype=new j,_.prototype.constructor=_}};var inherits_browserExports=inherits_browser.exports,safeBuffer$2={exports:{}},buffer$1={},base64Js={};base64Js.byteLength=byteLength$1;base64Js.toByteArray=toByteArray;base64Js.fromByteArray=fromByteArray;var lookup$2=[],revLookup=[],Arr=typeof Uint8Array<"u"?Uint8Array:Array,code="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var i$1=0,len=code.length;i$1<len;++i$1)lookup$2[i$1]=code[i$1],revLookup[code.charCodeAt(i$1)]=i$1;revLookup[45]=62;revLookup[95]=63;function getLens(a){var _=a.length;if(_%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var $=a.indexOf("=");$===-1&&($=_);var j=$===_?0:4-$%4;return[$,j]}function byteLength$1(a){var _=getLens(a),$=_[0],j=_[1];return($+j)*3/4-j}function _byteLength(a,_,$){return(_+$)*3/4-$}function toByteArray(a){var _,$=getLens(a),j=$[0],et=$[1],tt=new Arr(_byteLength(a,j,et)),rt=0,nt=et>0?j-4:j,it;for(it=0;it<nt;it+=4)_=revLookup[a.charCodeAt(it)]<<18|revLookup[a.charCodeAt(it+1)]<<12|revLookup[a.charCodeAt(it+2)]<<6|revLookup[a.charCodeAt(it+3)],tt[rt++]=_>>16&255,tt[rt++]=_>>8&255,tt[rt++]=_&255;return et===2&&(_=revLookup[a.charCodeAt(it)]<<2|revLookup[a.charCodeAt(it+1)]>>4,tt[rt++]=_&255),et===1&&(_=revLookup[a.charCodeAt(it)]<<10|revLookup[a.charCodeAt(it+1)]<<4|revLookup[a.charCodeAt(it+2)]>>2,tt[rt++]=_>>8&255,tt[rt++]=_&255),tt}function tripletToBase64(a){return lookup$2[a>>18&63]+lookup$2[a>>12&63]+lookup$2[a>>6&63]+lookup$2[a&63]}function encodeChunk(a,_,$){for(var j,et=[],tt=_;tt<$;tt+=3)j=(a[tt]<<16&16711680)+(a[tt+1]<<8&65280)+(a[tt+2]&255),et.push(tripletToBase64(j));return et.join("")}function fromByteArray(a){for(var _,$=a.length,j=$%3,et=[],tt=16383,rt=0,nt=$-j;rt<nt;rt+=tt)et.push(encodeChunk(a,rt,rt+tt>nt?nt:rt+tt));return j===1?(_=a[$-1],et.push(lookup$2[_>>2]+lookup$2[_<<4&63]+"==")):j===2&&(_=(a[$-2]<<8)+a[$-1],et.push(lookup$2[_>>10]+lookup$2[_>>4&63]+lookup$2[_<<2&63]+"=")),et.join("")}var ieee754={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */ieee754.read=function(a,_,$,j,et){var tt,rt,nt=et*8-j-1,it=(1<<nt)-1,st=it>>1,ot=-7,at=$?et-1:0,ut=$?-1:1,ht=a[_+at];for(at+=ut,tt=ht&(1<<-ot)-1,ht>>=-ot,ot+=nt;ot>0;tt=tt*256+a[_+at],at+=ut,ot-=8);for(rt=tt&(1<<-ot)-1,tt>>=-ot,ot+=j;ot>0;rt=rt*256+a[_+at],at+=ut,ot-=8);if(tt===0)tt=1-st;else{if(tt===it)return rt?NaN:(ht?-1:1)*(1/0);rt=rt+Math.pow(2,j),tt=tt-st}return(ht?-1:1)*rt*Math.pow(2,tt-j)};ieee754.write=function(a,_,$,j,et,tt){var rt,nt,it,st=tt*8-et-1,ot=(1<<st)-1,at=ot>>1,ut=et===23?Math.pow(2,-24)-Math.pow(2,-77):0,ht=j?0:tt-1,yt=j?1:-1,wt=_<0||_===0&&1/_<0?1:0;for(_=Math.abs(_),isNaN(_)||_===1/0?(nt=isNaN(_)?1:0,rt=ot):(rt=Math.floor(Math.log(_)/Math.LN2),_*(it=Math.pow(2,-rt))<1&&(rt--,it*=2),rt+at>=1?_+=ut/it:_+=ut*Math.pow(2,1-at),_*it>=2&&(rt++,it/=2),rt+at>=ot?(nt=0,rt=ot):rt+at>=1?(nt=(_*it-1)*Math.pow(2,et),rt=rt+at):(nt=_*Math.pow(2,at-1)*Math.pow(2,et),rt=0));et>=8;a[$+ht]=nt&255,ht+=yt,nt/=256,et-=8);for(rt=rt<<et|nt,st+=et;st>0;a[$+ht]=rt&255,ht+=yt,rt/=256,st-=8);a[$+ht-yt]|=wt*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(a){const _=base64Js,$=ieee754,j=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;a.Buffer=nt,a.SlowBuffer=Tt,a.INSPECT_MAX_BYTES=50;const et=2147483647;a.kMaxLength=et,nt.TYPED_ARRAY_SUPPORT=tt(),!nt.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function tt(){try{const or=new Uint8Array(1),Yt={foo:function(){return 42}};return Object.setPrototypeOf(Yt,Uint8Array.prototype),Object.setPrototypeOf(or,Yt),or.foo()===42}catch{return!1}}Object.defineProperty(nt.prototype,"parent",{enumerable:!0,get:function(){if(nt.isBuffer(this))return this.buffer}}),Object.defineProperty(nt.prototype,"offset",{enumerable:!0,get:function(){if(nt.isBuffer(this))return this.byteOffset}});function rt(or){if(or>et)throw new RangeError('The value "'+or+'" is invalid for option "size"');const Yt=new Uint8Array(or);return Object.setPrototypeOf(Yt,nt.prototype),Yt}function nt(or,Yt,er){if(typeof or=="number"){if(typeof Yt=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return at(or)}return it(or,Yt,er)}nt.poolSize=8192;function it(or,Yt,er){if(typeof or=="string")return ut(or,Yt);if(ArrayBuffer.isView(or))return yt(or);if(or==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof or);if(kr(or,ArrayBuffer)||or&&kr(or.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(kr(or,SharedArrayBuffer)||or&&kr(or.buffer,SharedArrayBuffer)))return wt(or,Yt,er);if(typeof or=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const Gt=or.valueOf&&or.valueOf();if(Gt!=null&&Gt!==or)return nt.from(Gt,Yt,er);const Vt=Ct(or);if(Vt)return Vt;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof or[Symbol.toPrimitive]=="function")return nt.from(or[Symbol.toPrimitive]("string"),Yt,er);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof or)}nt.from=function(or,Yt,er){return it(or,Yt,er)},Object.setPrototypeOf(nt.prototype,Uint8Array.prototype),Object.setPrototypeOf(nt,Uint8Array);function st(or){if(typeof or!="number")throw new TypeError('"size" argument must be of type number');if(or<0)throw new RangeError('The value "'+or+'" is invalid for option "size"')}function ot(or,Yt,er){return st(or),or<=0?rt(or):Yt!==void 0?typeof er=="string"?rt(or).fill(Yt,er):rt(or).fill(Yt):rt(or)}nt.alloc=function(or,Yt,er){return ot(or,Yt,er)};function at(or){return st(or),rt(or<0?0:Pt(or)|0)}nt.allocUnsafe=function(or){return at(or)},nt.allocUnsafeSlow=function(or){return at(or)};function ut(or,Yt){if((typeof Yt!="string"||Yt==="")&&(Yt="utf8"),!nt.isEncoding(Yt))throw new TypeError("Unknown encoding: "+Yt);const er=Mt(or,Yt)|0;let Gt=rt(er);const Vt=Gt.write(or,Yt);return Vt!==er&&(Gt=Gt.slice(0,Vt)),Gt}function ht(or){const Yt=or.length<0?0:Pt(or.length)|0,er=rt(Yt);for(let Gt=0;Gt<Yt;Gt+=1)er[Gt]=or[Gt]&255;return er}function yt(or){if(kr(or,Uint8Array)){const Yt=new Uint8Array(or);return wt(Yt.buffer,Yt.byteOffset,Yt.byteLength)}return ht(or)}function wt(or,Yt,er){if(Yt<0||or.byteLength<Yt)throw new RangeError('"offset" is outside of buffer bounds');if(or.byteLength<Yt+(er||0))throw new RangeError('"length" is outside of buffer bounds');let Gt;return Yt===void 0&&er===void 0?Gt=new Uint8Array(or):er===void 0?Gt=new Uint8Array(or,Yt):Gt=new Uint8Array(or,Yt,er),Object.setPrototypeOf(Gt,nt.prototype),Gt}function Ct(or){if(nt.isBuffer(or)){const Yt=Pt(or.length)|0,er=rt(Yt);return er.length===0||or.copy(er,0,0,Yt),er}if(or.length!==void 0)return typeof or.length!="number"||Ar(or.length)?rt(0):ht(or);if(or.type==="Buffer"&&Array.isArray(or.data))return ht(or.data)}function Pt(or){if(or>=et)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+et.toString(16)+" bytes");return or|0}function Tt(or){return+or!=or&&(or=0),nt.alloc(+or)}nt.isBuffer=function(Yt){return Yt!=null&&Yt._isBuffer===!0&&Yt!==nt.prototype},nt.compare=function(Yt,er){if(kr(Yt,Uint8Array)&&(Yt=nt.from(Yt,Yt.offset,Yt.byteLength)),kr(er,Uint8Array)&&(er=nt.from(er,er.offset,er.byteLength)),!nt.isBuffer(Yt)||!nt.isBuffer(er))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(Yt===er)return 0;let Gt=Yt.length,Vt=er.length;for(let Wt=0,ar=Math.min(Gt,Vt);Wt<ar;++Wt)if(Yt[Wt]!==er[Wt]){Gt=Yt[Wt],Vt=er[Wt];break}return Gt<Vt?-1:Vt<Gt?1:0},nt.isEncoding=function(Yt){switch(String(Yt).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},nt.concat=function(Yt,er){if(!Array.isArray(Yt))throw new TypeError('"list" argument must be an Array of Buffers');if(Yt.length===0)return nt.alloc(0);let Gt;if(er===void 0)for(er=0,Gt=0;Gt<Yt.length;++Gt)er+=Yt[Gt].length;const Vt=nt.allocUnsafe(er);let Wt=0;for(Gt=0;Gt<Yt.length;++Gt){let ar=Yt[Gt];if(kr(ar,Uint8Array))Wt+ar.length>Vt.length?(nt.isBuffer(ar)||(ar=nt.from(ar)),ar.copy(Vt,Wt)):Uint8Array.prototype.set.call(Vt,ar,Wt);else if(nt.isBuffer(ar))ar.copy(Vt,Wt);else throw new TypeError('"list" argument must be an Array of Buffers');Wt+=ar.length}return Vt};function Mt(or,Yt){if(nt.isBuffer(or))return or.length;if(ArrayBuffer.isView(or)||kr(or,ArrayBuffer))return or.byteLength;if(typeof or!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof or);const er=or.length,Gt=arguments.length>2&&arguments[2]===!0;if(!Gt&&er===0)return 0;let Vt=!1;for(;;)switch(Yt){case"ascii":case"latin1":case"binary":return er;case"utf8":case"utf-8":return Mr(or).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return er*2;case"hex":return er>>>1;case"base64":return _r(or).length;default:if(Vt)return Gt?-1:Mr(or).length;Yt=(""+Yt).toLowerCase(),Vt=!0}}nt.byteLength=Mt;function Lt(or,Yt,er){let Gt=!1;if((Yt===void 0||Yt<0)&&(Yt=0),Yt>this.length||((er===void 0||er>this.length)&&(er=this.length),er<=0)||(er>>>=0,Yt>>>=0,er<=Yt))return"";for(or||(or="utf8");;)switch(or){case"hex":return Rt(this,Yt,er);case"utf8":case"utf-8":return ct(this,Yt,er);case"ascii":return xt(this,Yt,er);case"latin1":case"binary":return At(this,Yt,er);case"base64":return vt(this,Yt,er);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return St(this,Yt,er);default:if(Gt)throw new TypeError("Unknown encoding: "+or);or=(or+"").toLowerCase(),Gt=!0}}nt.prototype._isBuffer=!0;function Dt(or,Yt,er){const Gt=or[Yt];or[Yt]=or[er],or[er]=Gt}nt.prototype.swap16=function(){const Yt=this.length;if(Yt%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let er=0;er<Yt;er+=2)Dt(this,er,er+1);return this},nt.prototype.swap32=function(){const Yt=this.length;if(Yt%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let er=0;er<Yt;er+=4)Dt(this,er,er+3),Dt(this,er+1,er+2);return this},nt.prototype.swap64=function(){const Yt=this.length;if(Yt%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let er=0;er<Yt;er+=8)Dt(this,er,er+7),Dt(this,er+1,er+6),Dt(this,er+2,er+5),Dt(this,er+3,er+4);return this},nt.prototype.toString=function(){const Yt=this.length;return Yt===0?"":arguments.length===0?ct(this,0,Yt):Lt.apply(this,arguments)},nt.prototype.toLocaleString=nt.prototype.toString,nt.prototype.equals=function(Yt){if(!nt.isBuffer(Yt))throw new TypeError("Argument must be a Buffer");return this===Yt?!0:nt.compare(this,Yt)===0},nt.prototype.inspect=function(){let Yt="";const er=a.INSPECT_MAX_BYTES;return Yt=this.toString("hex",0,er).replace(/(.{2})/g,"$1 ").trim(),this.length>er&&(Yt+=" ... "),"<Buffer "+Yt+">"},j&&(nt.prototype[j]=nt.prototype.inspect),nt.prototype.compare=function(Yt,er,Gt,Vt,Wt){if(kr(Yt,Uint8Array)&&(Yt=nt.from(Yt,Yt.offset,Yt.byteLength)),!nt.isBuffer(Yt))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof Yt);if(er===void 0&&(er=0),Gt===void 0&&(Gt=Yt?Yt.length:0),Vt===void 0&&(Vt=0),Wt===void 0&&(Wt=this.length),er<0||Gt>Yt.length||Vt<0||Wt>this.length)throw new RangeError("out of range index");if(Vt>=Wt&&er>=Gt)return 0;if(Vt>=Wt)return-1;if(er>=Gt)return 1;if(er>>>=0,Gt>>>=0,Vt>>>=0,Wt>>>=0,this===Yt)return 0;let ar=Wt-Vt,yr=Gt-er;const Er=Math.min(ar,yr),Sr=this.slice(Vt,Wt),Wr=Yt.slice(er,Gt);for(let Hr=0;Hr<Er;++Hr)if(Sr[Hr]!==Wr[Hr]){ar=Sr[Hr],yr=Wr[Hr];break}return ar<yr?-1:yr<ar?1:0};function Ut(or,Yt,er,Gt,Vt){if(or.length===0)return-1;if(typeof er=="string"?(Gt=er,er=0):er>2147483647?er=2147483647:er<-2147483648&&(er=-2147483648),er=+er,Ar(er)&&(er=Vt?0:or.length-1),er<0&&(er=or.length+er),er>=or.length){if(Vt)return-1;er=or.length-1}else if(er<0)if(Vt)er=0;else return-1;if(typeof Yt=="string"&&(Yt=nt.from(Yt,Gt)),nt.isBuffer(Yt))return Yt.length===0?-1:Ot(or,Yt,er,Gt,Vt);if(typeof Yt=="number")return Yt=Yt&255,typeof Uint8Array.prototype.indexOf=="function"?Vt?Uint8Array.prototype.indexOf.call(or,Yt,er):Uint8Array.prototype.lastIndexOf.call(or,Yt,er):Ot(or,[Yt],er,Gt,Vt);throw new TypeError("val must be string, number or Buffer")}function Ot(or,Yt,er,Gt,Vt){let Wt=1,ar=or.length,yr=Yt.length;if(Gt!==void 0&&(Gt=String(Gt).toLowerCase(),Gt==="ucs2"||Gt==="ucs-2"||Gt==="utf16le"||Gt==="utf-16le")){if(or.length<2||Yt.length<2)return-1;Wt=2,ar/=2,yr/=2,er/=2}function Er(Wr,Hr){return Wt===1?Wr[Hr]:Wr.readUInt16BE(Hr*Wt)}let Sr;if(Vt){let Wr=-1;for(Sr=er;Sr<ar;Sr++)if(Er(or,Sr)===Er(Yt,Wr===-1?0:Sr-Wr)){if(Wr===-1&&(Wr=Sr),Sr-Wr+1===yr)return Wr*Wt}else Wr!==-1&&(Sr-=Sr-Wr),Wr=-1}else for(er+yr>ar&&(er=ar-yr),Sr=er;Sr>=0;Sr--){let Wr=!0;for(let Hr=0;Hr<yr;Hr++)if(Er(or,Sr+Hr)!==Er(Yt,Hr)){Wr=!1;break}if(Wr)return Sr}return-1}nt.prototype.includes=function(Yt,er,Gt){return this.indexOf(Yt,er,Gt)!==-1},nt.prototype.indexOf=function(Yt,er,Gt){return Ut(this,Yt,er,Gt,!0)},nt.prototype.lastIndexOf=function(Yt,er,Gt){return Ut(this,Yt,er,Gt,!1)};function It(or,Yt,er,Gt){er=Number(er)||0;const Vt=or.length-er;Gt?(Gt=Number(Gt),Gt>Vt&&(Gt=Vt)):Gt=Vt;const Wt=Yt.length;Gt>Wt/2&&(Gt=Wt/2);let ar;for(ar=0;ar<Gt;++ar){const yr=parseInt(Yt.substr(ar*2,2),16);if(Ar(yr))return ar;or[er+ar]=yr}return ar}function Bt(or,Yt,er,Gt){return Rr(Mr(Yt,or.length-er),or,er,Gt)}function Ft(or,Yt,er,Gt){return Rr(lr(Yt),or,er,Gt)}function jt(or,Yt,er,Gt){return Rr(_r(Yt),or,er,Gt)}function bt(or,Yt,er,Gt){return Rr(fr(Yt,or.length-er),or,er,Gt)}nt.prototype.write=function(Yt,er,Gt,Vt){if(er===void 0)Vt="utf8",Gt=this.length,er=0;else if(Gt===void 0&&typeof er=="string")Vt=er,Gt=this.length,er=0;else if(isFinite(er))er=er>>>0,isFinite(Gt)?(Gt=Gt>>>0,Vt===void 0&&(Vt="utf8")):(Vt=Gt,Gt=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const Wt=this.length-er;if((Gt===void 0||Gt>Wt)&&(Gt=Wt),Yt.length>0&&(Gt<0||er<0)||er>this.length)throw new RangeError("Attempt to write outside buffer bounds");Vt||(Vt="utf8");let ar=!1;for(;;)switch(Vt){case"hex":return It(this,Yt,er,Gt);case"utf8":case"utf-8":return Bt(this,Yt,er,Gt);case"ascii":case"latin1":case"binary":return Ft(this,Yt,er,Gt);case"base64":return jt(this,Yt,er,Gt);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return bt(this,Yt,er,Gt);default:if(ar)throw new TypeError("Unknown encoding: "+Vt);Vt=(""+Vt).toLowerCase(),ar=!0}},nt.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function vt(or,Yt,er){return Yt===0&&er===or.length?_.fromByteArray(or):_.fromByteArray(or.slice(Yt,er))}function ct(or,Yt,er){er=Math.min(or.length,er);const Gt=[];let Vt=Yt;for(;Vt<er;){const Wt=or[Vt];let ar=null,yr=Wt>239?4:Wt>223?3:Wt>191?2:1;if(Vt+yr<=er){let Er,Sr,Wr,Hr;switch(yr){case 1:Wt<128&&(ar=Wt);break;case 2:Er=or[Vt+1],(Er&192)===128&&(Hr=(Wt&31)<<6|Er&63,Hr>127&&(ar=Hr));break;case 3:Er=or[Vt+1],Sr=or[Vt+2],(Er&192)===128&&(Sr&192)===128&&(Hr=(Wt&15)<<12|(Er&63)<<6|Sr&63,Hr>2047&&(Hr<55296||Hr>57343)&&(ar=Hr));break;case 4:Er=or[Vt+1],Sr=or[Vt+2],Wr=or[Vt+3],(Er&192)===128&&(Sr&192)===128&&(Wr&192)===128&&(Hr=(Wt&15)<<18|(Er&63)<<12|(Sr&63)<<6|Wr&63,Hr>65535&&Hr<1114112&&(ar=Hr))}}ar===null?(ar=65533,yr=1):ar>65535&&(ar-=65536,Gt.push(ar>>>10&1023|55296),ar=56320|ar&1023),Gt.push(ar),Vt+=yr}return mt(Gt)}const dt=4096;function mt(or){const Yt=or.length;if(Yt<=dt)return String.fromCharCode.apply(String,or);let er="",Gt=0;for(;Gt<Yt;)er+=String.fromCharCode.apply(String,or.slice(Gt,Gt+=dt));return er}function xt(or,Yt,er){let Gt="";er=Math.min(or.length,er);for(let Vt=Yt;Vt<er;++Vt)Gt+=String.fromCharCode(or[Vt]&127);return Gt}function At(or,Yt,er){let Gt="";er=Math.min(or.length,er);for(let Vt=Yt;Vt<er;++Vt)Gt+=String.fromCharCode(or[Vt]);return Gt}function Rt(or,Yt,er){const Gt=or.length;(!Yt||Yt<0)&&(Yt=0),(!er||er<0||er>Gt)&&(er=Gt);let Vt="";for(let Wt=Yt;Wt<er;++Wt)Vt+=Pr[or[Wt]];return Vt}function St(or,Yt,er){const Gt=or.slice(Yt,er);let Vt="";for(let Wt=0;Wt<Gt.length-1;Wt+=2)Vt+=String.fromCharCode(Gt[Wt]+Gt[Wt+1]*256);return Vt}nt.prototype.slice=function(Yt,er){const Gt=this.length;Yt=~~Yt,er=er===void 0?Gt:~~er,Yt<0?(Yt+=Gt,Yt<0&&(Yt=0)):Yt>Gt&&(Yt=Gt),er<0?(er+=Gt,er<0&&(er=0)):er>Gt&&(er=Gt),er<Yt&&(er=Yt);const Vt=this.subarray(Yt,er);return Object.setPrototypeOf(Vt,nt.prototype),Vt};function $t(or,Yt,er){if(or%1!==0||or<0)throw new RangeError("offset is not uint");if(or+Yt>er)throw new RangeError("Trying to access beyond buffer length")}nt.prototype.readUintLE=nt.prototype.readUIntLE=function(Yt,er,Gt){Yt=Yt>>>0,er=er>>>0,Gt||$t(Yt,er,this.length);let Vt=this[Yt],Wt=1,ar=0;for(;++ar<er&&(Wt*=256);)Vt+=this[Yt+ar]*Wt;return Vt},nt.prototype.readUintBE=nt.prototype.readUIntBE=function(Yt,er,Gt){Yt=Yt>>>0,er=er>>>0,Gt||$t(Yt,er,this.length);let Vt=this[Yt+--er],Wt=1;for(;er>0&&(Wt*=256);)Vt+=this[Yt+--er]*Wt;return Vt},nt.prototype.readUint8=nt.prototype.readUInt8=function(Yt,er){return Yt=Yt>>>0,er||$t(Yt,1,this.length),this[Yt]},nt.prototype.readUint16LE=nt.prototype.readUInt16LE=function(Yt,er){return Yt=Yt>>>0,er||$t(Yt,2,this.length),this[Yt]|this[Yt+1]<<8},nt.prototype.readUint16BE=nt.prototype.readUInt16BE=function(Yt,er){return Yt=Yt>>>0,er||$t(Yt,2,this.length),this[Yt]<<8|this[Yt+1]},nt.prototype.readUint32LE=nt.prototype.readUInt32LE=function(Yt,er){return Yt=Yt>>>0,er||$t(Yt,4,this.length),(this[Yt]|this[Yt+1]<<8|this[Yt+2]<<16)+this[Yt+3]*16777216},nt.prototype.readUint32BE=nt.prototype.readUInt32BE=function(Yt,er){return Yt=Yt>>>0,er||$t(Yt,4,this.length),this[Yt]*16777216+(this[Yt+1]<<16|this[Yt+2]<<8|this[Yt+3])},nt.prototype.readBigUInt64LE=Or(function(Yt){Yt=Yt>>>0,ur(Yt,"offset");const er=this[Yt],Gt=this[Yt+7];(er===void 0||Gt===void 0)&&xr(Yt,this.length-8);const Vt=er+this[++Yt]*2**8+this[++Yt]*2**16+this[++Yt]*2**24,Wt=this[++Yt]+this[++Yt]*2**8+this[++Yt]*2**16+Gt*2**24;return BigInt(Vt)+(BigInt(Wt)<<BigInt(32))}),nt.prototype.readBigUInt64BE=Or(function(Yt){Yt=Yt>>>0,ur(Yt,"offset");const er=this[Yt],Gt=this[Yt+7];(er===void 0||Gt===void 0)&&xr(Yt,this.length-8);const Vt=er*2**24+this[++Yt]*2**16+this[++Yt]*2**8+this[++Yt],Wt=this[++Yt]*2**24+this[++Yt]*2**16+this[++Yt]*2**8+Gt;return(BigInt(Vt)<<BigInt(32))+BigInt(Wt)}),nt.prototype.readIntLE=function(Yt,er,Gt){Yt=Yt>>>0,er=er>>>0,Gt||$t(Yt,er,this.length);let Vt=this[Yt],Wt=1,ar=0;for(;++ar<er&&(Wt*=256);)Vt+=this[Yt+ar]*Wt;return Wt*=128,Vt>=Wt&&(Vt-=Math.pow(2,8*er)),Vt},nt.prototype.readIntBE=function(Yt,er,Gt){Yt=Yt>>>0,er=er>>>0,Gt||$t(Yt,er,this.length);let Vt=er,Wt=1,ar=this[Yt+--Vt];for(;Vt>0&&(Wt*=256);)ar+=this[Yt+--Vt]*Wt;return Wt*=128,ar>=Wt&&(ar-=Math.pow(2,8*er)),ar},nt.prototype.readInt8=function(Yt,er){return Yt=Yt>>>0,er||$t(Yt,1,this.length),this[Yt]&128?(255-this[Yt]+1)*-1:this[Yt]},nt.prototype.readInt16LE=function(Yt,er){Yt=Yt>>>0,er||$t(Yt,2,this.length);const Gt=this[Yt]|this[Yt+1]<<8;return Gt&32768?Gt|4294901760:Gt},nt.prototype.readInt16BE=function(Yt,er){Yt=Yt>>>0,er||$t(Yt,2,this.length);const Gt=this[Yt+1]|this[Yt]<<8;return Gt&32768?Gt|4294901760:Gt},nt.prototype.readInt32LE=function(Yt,er){return Yt=Yt>>>0,er||$t(Yt,4,this.length),this[Yt]|this[Yt+1]<<8|this[Yt+2]<<16|this[Yt+3]<<24},nt.prototype.readInt32BE=function(Yt,er){return Yt=Yt>>>0,er||$t(Yt,4,this.length),this[Yt]<<24|this[Yt+1]<<16|this[Yt+2]<<8|this[Yt+3]},nt.prototype.readBigInt64LE=Or(function(Yt){Yt=Yt>>>0,ur(Yt,"offset");const er=this[Yt],Gt=this[Yt+7];(er===void 0||Gt===void 0)&&xr(Yt,this.length-8);const Vt=this[Yt+4]+this[Yt+5]*2**8+this[Yt+6]*2**16+(Gt<<24);return(BigInt(Vt)<<BigInt(32))+BigInt(er+this[++Yt]*2**8+this[++Yt]*2**16+this[++Yt]*2**24)}),nt.prototype.readBigInt64BE=Or(function(Yt){Yt=Yt>>>0,ur(Yt,"offset");const er=this[Yt],Gt=this[Yt+7];(er===void 0||Gt===void 0)&&xr(Yt,this.length-8);const Vt=(er<<24)+this[++Yt]*2**16+this[++Yt]*2**8+this[++Yt];return(BigInt(Vt)<<BigInt(32))+BigInt(this[++Yt]*2**24+this[++Yt]*2**16+this[++Yt]*2**8+Gt)}),nt.prototype.readFloatLE=function(Yt,er){return Yt=Yt>>>0,er||$t(Yt,4,this.length),$.read(this,Yt,!0,23,4)},nt.prototype.readFloatBE=function(Yt,er){return Yt=Yt>>>0,er||$t(Yt,4,this.length),$.read(this,Yt,!1,23,4)},nt.prototype.readDoubleLE=function(Yt,er){return Yt=Yt>>>0,er||$t(Yt,8,this.length),$.read(this,Yt,!0,52,8)},nt.prototype.readDoubleBE=function(Yt,er){return Yt=Yt>>>0,er||$t(Yt,8,this.length),$.read(this,Yt,!1,52,8)};function Et(or,Yt,er,Gt,Vt,Wt){if(!nt.isBuffer(or))throw new TypeError('"buffer" argument must be a Buffer instance');if(Yt>Vt||Yt<Wt)throw new RangeError('"value" argument is out of bounds');if(er+Gt>or.length)throw new RangeError("Index out of range")}nt.prototype.writeUintLE=nt.prototype.writeUIntLE=function(Yt,er,Gt,Vt){if(Yt=+Yt,er=er>>>0,Gt=Gt>>>0,!Vt){const yr=Math.pow(2,8*Gt)-1;Et(this,Yt,er,Gt,yr,0)}let Wt=1,ar=0;for(this[er]=Yt&255;++ar<Gt&&(Wt*=256);)this[er+ar]=Yt/Wt&255;return er+Gt},nt.prototype.writeUintBE=nt.prototype.writeUIntBE=function(Yt,er,Gt,Vt){if(Yt=+Yt,er=er>>>0,Gt=Gt>>>0,!Vt){const yr=Math.pow(2,8*Gt)-1;Et(this,Yt,er,Gt,yr,0)}let Wt=Gt-1,ar=1;for(this[er+Wt]=Yt&255;--Wt>=0&&(ar*=256);)this[er+Wt]=Yt/ar&255;return er+Gt},nt.prototype.writeUint8=nt.prototype.writeUInt8=function(Yt,er,Gt){return Yt=+Yt,er=er>>>0,Gt||Et(this,Yt,er,1,255,0),this[er]=Yt&255,er+1},nt.prototype.writeUint16LE=nt.prototype.writeUInt16LE=function(Yt,er,Gt){return Yt=+Yt,er=er>>>0,Gt||Et(this,Yt,er,2,65535,0),this[er]=Yt&255,this[er+1]=Yt>>>8,er+2},nt.prototype.writeUint16BE=nt.prototype.writeUInt16BE=function(Yt,er,Gt){return Yt=+Yt,er=er>>>0,Gt||Et(this,Yt,er,2,65535,0),this[er]=Yt>>>8,this[er+1]=Yt&255,er+2},nt.prototype.writeUint32LE=nt.prototype.writeUInt32LE=function(Yt,er,Gt){return Yt=+Yt,er=er>>>0,Gt||Et(this,Yt,er,4,4294967295,0),this[er+3]=Yt>>>24,this[er+2]=Yt>>>16,this[er+1]=Yt>>>8,this[er]=Yt&255,er+4},nt.prototype.writeUint32BE=nt.prototype.writeUInt32BE=function(Yt,er,Gt){return Yt=+Yt,er=er>>>0,Gt||Et(this,Yt,er,4,4294967295,0),this[er]=Yt>>>24,this[er+1]=Yt>>>16,this[er+2]=Yt>>>8,this[er+3]=Yt&255,er+4};function Nt(or,Yt,er,Gt,Vt){Jt(Yt,Gt,Vt,or,er,7);let Wt=Number(Yt&BigInt(4294967295));or[er++]=Wt,Wt=Wt>>8,or[er++]=Wt,Wt=Wt>>8,or[er++]=Wt,Wt=Wt>>8,or[er++]=Wt;let ar=Number(Yt>>BigInt(32)&BigInt(4294967295));return or[er++]=ar,ar=ar>>8,or[er++]=ar,ar=ar>>8,or[er++]=ar,ar=ar>>8,or[er++]=ar,er}function tr(or,Yt,er,Gt,Vt){Jt(Yt,Gt,Vt,or,er,7);let Wt=Number(Yt&BigInt(4294967295));or[er+7]=Wt,Wt=Wt>>8,or[er+6]=Wt,Wt=Wt>>8,or[er+5]=Wt,Wt=Wt>>8,or[er+4]=Wt;let ar=Number(Yt>>BigInt(32)&BigInt(4294967295));return or[er+3]=ar,ar=ar>>8,or[er+2]=ar,ar=ar>>8,or[er+1]=ar,ar=ar>>8,or[er]=ar,er+8}nt.prototype.writeBigUInt64LE=Or(function(Yt,er=0){return Nt(this,Yt,er,BigInt(0),BigInt("0xffffffffffffffff"))}),nt.prototype.writeBigUInt64BE=Or(function(Yt,er=0){return tr(this,Yt,er,BigInt(0),BigInt("0xffffffffffffffff"))}),nt.prototype.writeIntLE=function(Yt,er,Gt,Vt){if(Yt=+Yt,er=er>>>0,!Vt){const Er=Math.pow(2,8*Gt-1);Et(this,Yt,er,Gt,Er-1,-Er)}let Wt=0,ar=1,yr=0;for(this[er]=Yt&255;++Wt<Gt&&(ar*=256);)Yt<0&&yr===0&&this[er+Wt-1]!==0&&(yr=1),this[er+Wt]=(Yt/ar>>0)-yr&255;return er+Gt},nt.prototype.writeIntBE=function(Yt,er,Gt,Vt){if(Yt=+Yt,er=er>>>0,!Vt){const Er=Math.pow(2,8*Gt-1);Et(this,Yt,er,Gt,Er-1,-Er)}let Wt=Gt-1,ar=1,yr=0;for(this[er+Wt]=Yt&255;--Wt>=0&&(ar*=256);)Yt<0&&yr===0&&this[er+Wt+1]!==0&&(yr=1),this[er+Wt]=(Yt/ar>>0)-yr&255;return er+Gt},nt.prototype.writeInt8=function(Yt,er,Gt){return Yt=+Yt,er=er>>>0,Gt||Et(this,Yt,er,1,127,-128),Yt<0&&(Yt=255+Yt+1),this[er]=Yt&255,er+1},nt.prototype.writeInt16LE=function(Yt,er,Gt){return Yt=+Yt,er=er>>>0,Gt||Et(this,Yt,er,2,32767,-32768),this[er]=Yt&255,this[er+1]=Yt>>>8,er+2},nt.prototype.writeInt16BE=function(Yt,er,Gt){return Yt=+Yt,er=er>>>0,Gt||Et(this,Yt,er,2,32767,-32768),this[er]=Yt>>>8,this[er+1]=Yt&255,er+2},nt.prototype.writeInt32LE=function(Yt,er,Gt){return Yt=+Yt,er=er>>>0,Gt||Et(this,Yt,er,4,2147483647,-2147483648),this[er]=Yt&255,this[er+1]=Yt>>>8,this[er+2]=Yt>>>16,this[er+3]=Yt>>>24,er+4},nt.prototype.writeInt32BE=function(Yt,er,Gt){return Yt=+Yt,er=er>>>0,Gt||Et(this,Yt,er,4,2147483647,-2147483648),Yt<0&&(Yt=4294967295+Yt+1),this[er]=Yt>>>24,this[er+1]=Yt>>>16,this[er+2]=Yt>>>8,this[er+3]=Yt&255,er+4},nt.prototype.writeBigInt64LE=Or(function(Yt,er=0){return Nt(this,Yt,er,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),nt.prototype.writeBigInt64BE=Or(function(Yt,er=0){return tr(this,Yt,er,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function ir(or,Yt,er,Gt,Vt,Wt){if(er+Gt>or.length)throw new RangeError("Index out of range");if(er<0)throw new RangeError("Index out of range")}function nr(or,Yt,er,Gt,Vt){return Yt=+Yt,er=er>>>0,Vt||ir(or,Yt,er,4),$.write(or,Yt,er,Gt,23,4),er+4}nt.prototype.writeFloatLE=function(Yt,er,Gt){return nr(this,Yt,er,!0,Gt)},nt.prototype.writeFloatBE=function(Yt,er,Gt){return nr(this,Yt,er,!1,Gt)};function Zt(or,Yt,er,Gt,Vt){return Yt=+Yt,er=er>>>0,Vt||ir(or,Yt,er,8),$.write(or,Yt,er,Gt,52,8),er+8}nt.prototype.writeDoubleLE=function(Yt,er,Gt){return Zt(this,Yt,er,!0,Gt)},nt.prototype.writeDoubleBE=function(Yt,er,Gt){return Zt(this,Yt,er,!1,Gt)},nt.prototype.copy=function(Yt,er,Gt,Vt){if(!nt.isBuffer(Yt))throw new TypeError("argument should be a Buffer");if(Gt||(Gt=0),!Vt&&Vt!==0&&(Vt=this.length),er>=Yt.length&&(er=Yt.length),er||(er=0),Vt>0&&Vt<Gt&&(Vt=Gt),Vt===Gt||Yt.length===0||this.length===0)return 0;if(er<0)throw new RangeError("targetStart out of bounds");if(Gt<0||Gt>=this.length)throw new RangeError("Index out of range");if(Vt<0)throw new RangeError("sourceEnd out of bounds");Vt>this.length&&(Vt=this.length),Yt.length-er<Vt-Gt&&(Vt=Yt.length-er+Gt);const Wt=Vt-Gt;return this===Yt&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(er,Gt,Vt):Uint8Array.prototype.set.call(Yt,this.subarray(Gt,Vt),er),Wt},nt.prototype.fill=function(Yt,er,Gt,Vt){if(typeof Yt=="string"){if(typeof er=="string"?(Vt=er,er=0,Gt=this.length):typeof Gt=="string"&&(Vt=Gt,Gt=this.length),Vt!==void 0&&typeof Vt!="string")throw new TypeError("encoding must be a string");if(typeof Vt=="string"&&!nt.isEncoding(Vt))throw new TypeError("Unknown encoding: "+Vt);if(Yt.length===1){const ar=Yt.charCodeAt(0);(Vt==="utf8"&&ar<128||Vt==="latin1")&&(Yt=ar)}}else typeof Yt=="number"?Yt=Yt&255:typeof Yt=="boolean"&&(Yt=Number(Yt));if(er<0||this.length<er||this.length<Gt)throw new RangeError("Out of range index");if(Gt<=er)return this;er=er>>>0,Gt=Gt===void 0?this.length:Gt>>>0,Yt||(Yt=0);let Wt;if(typeof Yt=="number")for(Wt=er;Wt<Gt;++Wt)this[Wt]=Yt;else{const ar=nt.isBuffer(Yt)?Yt:nt.from(Yt,Vt),yr=ar.length;if(yr===0)throw new TypeError('The value "'+Yt+'" is invalid for argument "value"');for(Wt=0;Wt<Gt-er;++Wt)this[Wt+er]=ar[Wt%yr]}return this};const Kt={};function Qt(or,Yt,er){Kt[or]=class extends er{constructor(){super(),Object.defineProperty(this,"message",{value:Yt.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${or}]`,this.stack,delete this.name}get code(){return or}set code(Vt){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:Vt,writable:!0})}toString(){return`${this.name} [${or}]: ${this.message}`}}}Qt("ERR_BUFFER_OUT_OF_BOUNDS",function(or){return or?`${or} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Qt("ERR_INVALID_ARG_TYPE",function(or,Yt){return`The "${or}" argument must be of type number. Received type ${typeof Yt}`},TypeError),Qt("ERR_OUT_OF_RANGE",function(or,Yt,er){let Gt=`The value of "${or}" is out of range.`,Vt=er;return Number.isInteger(er)&&Math.abs(er)>2**32?Vt=Ht(String(er)):typeof er=="bigint"&&(Vt=String(er),(er>BigInt(2)**BigInt(32)||er<-(BigInt(2)**BigInt(32)))&&(Vt=Ht(Vt)),Vt+="n"),Gt+=` It must be ${Yt}. Received ${Vt}`,Gt},RangeError);function Ht(or){let Yt="",er=or.length;const Gt=or[0]==="-"?1:0;for(;er>=Gt+4;er-=3)Yt=`_${or.slice(er-3,er)}${Yt}`;return`${or.slice(0,er)}${Yt}`}function qt(or,Yt,er){ur(Yt,"offset"),(or[Yt]===void 0||or[Yt+er]===void 0)&&xr(Yt,or.length-(er+1))}function Jt(or,Yt,er,Gt,Vt,Wt){if(or>er||or<Yt){const ar=typeof Yt=="bigint"?"n":"";let yr;throw Yt===0||Yt===BigInt(0)?yr=`>= 0${ar} and < 2${ar} ** ${(Wt+1)*8}${ar}`:yr=`>= -(2${ar} ** ${(Wt+1)*8-1}${ar}) and < 2 ** ${(Wt+1)*8-1}${ar}`,new Kt.ERR_OUT_OF_RANGE("value",yr,or)}qt(Gt,Vt,Wt)}function ur(or,Yt){if(typeof or!="number")throw new Kt.ERR_INVALID_ARG_TYPE(Yt,"number",or)}function xr(or,Yt,er){throw Math.floor(or)!==or?(ur(or,er),new Kt.ERR_OUT_OF_RANGE("offset","an integer",or)):Yt<0?new Kt.ERR_BUFFER_OUT_OF_BOUNDS:new Kt.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${Yt}`,or)}const pr=/[^+/0-9A-Za-z-_]/g;function Cr(or){if(or=or.split("=")[0],or=or.trim().replace(pr,""),or.length<2)return"";for(;or.length%4!==0;)or=or+"=";return or}function Mr(or,Yt){Yt=Yt||1/0;let er;const Gt=or.length;let Vt=null;const Wt=[];for(let ar=0;ar<Gt;++ar){if(er=or.charCodeAt(ar),er>55295&&er<57344){if(!Vt){if(er>56319){(Yt-=3)>-1&&Wt.push(239,191,189);continue}else if(ar+1===Gt){(Yt-=3)>-1&&Wt.push(239,191,189);continue}Vt=er;continue}if(er<56320){(Yt-=3)>-1&&Wt.push(239,191,189),Vt=er;continue}er=(Vt-55296<<10|er-56320)+65536}else Vt&&(Yt-=3)>-1&&Wt.push(239,191,189);if(Vt=null,er<128){if((Yt-=1)<0)break;Wt.push(er)}else if(er<2048){if((Yt-=2)<0)break;Wt.push(er>>6|192,er&63|128)}else if(er<65536){if((Yt-=3)<0)break;Wt.push(er>>12|224,er>>6&63|128,er&63|128)}else if(er<1114112){if((Yt-=4)<0)break;Wt.push(er>>18|240,er>>12&63|128,er>>6&63|128,er&63|128)}else throw new Error("Invalid code point")}return Wt}function lr(or){const Yt=[];for(let er=0;er<or.length;++er)Yt.push(or.charCodeAt(er)&255);return Yt}function fr(or,Yt){let er,Gt,Vt;const Wt=[];for(let ar=0;ar<or.length&&!((Yt-=2)<0);++ar)er=or.charCodeAt(ar),Gt=er>>8,Vt=er%256,Wt.push(Vt),Wt.push(Gt);return Wt}function _r(or){return _.toByteArray(Cr(or))}function Rr(or,Yt,er,Gt){let Vt;for(Vt=0;Vt<Gt&&!(Vt+er>=Yt.length||Vt>=or.length);++Vt)Yt[Vt+er]=or[Vt];return Vt}function kr(or,Yt){return or instanceof Yt||or!=null&&or.constructor!=null&&or.constructor.name!=null&&or.constructor.name===Yt.name}function Ar(or){return or!==or}const Pr=function(){const or="0123456789abcdef",Yt=new Array(256);for(let er=0;er<16;++er){const Gt=er*16;for(let Vt=0;Vt<16;++Vt)Yt[Gt+Vt]=or[er]+or[Vt]}return Yt}();function Or(or){return typeof BigInt>"u"?Lr:or}function Lr(){throw new Error("BigInt not supported")}})(buffer$1);/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */(function(a,_){var $=buffer$1,j=$.Buffer;function et(rt,nt){for(var it in rt)nt[it]=rt[it]}j.from&&j.alloc&&j.allocUnsafe&&j.allocUnsafeSlow?a.exports=$:(et($,_),_.Buffer=tt);function tt(rt,nt,it){return j(rt,nt,it)}tt.prototype=Object.create(j.prototype),et(j,tt),tt.from=function(rt,nt,it){if(typeof rt=="number")throw new TypeError("Argument must not be a number");return j(rt,nt,it)},tt.alloc=function(rt,nt,it){if(typeof rt!="number")throw new TypeError("Argument must be a number");var st=j(rt);return nt!==void 0?typeof it=="string"?st.fill(nt,it):st.fill(nt):st.fill(0),st},tt.allocUnsafe=function(rt){if(typeof rt!="number")throw new TypeError("Argument must be a number");return j(rt)},tt.allocUnsafeSlow=function(rt){if(typeof rt!="number")throw new TypeError("Argument must be a number");return $.SlowBuffer(rt)}})(safeBuffer$2,safeBuffer$2.exports);var safeBufferExports=safeBuffer$2.exports,readableBrowser$1={exports:{}};function getDefaultExportFromCjs(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var browser$d={exports:{}},process$1=browser$d.exports={},cachedSetTimeout,cachedClearTimeout;function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?cachedSetTimeout=setTimeout:cachedSetTimeout=defaultSetTimout}catch{cachedSetTimeout=defaultSetTimout}try{typeof clearTimeout=="function"?cachedClearTimeout=clearTimeout:cachedClearTimeout=defaultClearTimeout}catch{cachedClearTimeout=defaultClearTimeout}})();function runTimeout(a){if(cachedSetTimeout===setTimeout)return setTimeout(a,0);if((cachedSetTimeout===defaultSetTimout||!cachedSetTimeout)&&setTimeout)return cachedSetTimeout=setTimeout,setTimeout(a,0);try{return cachedSetTimeout(a,0)}catch{try{return cachedSetTimeout.call(null,a,0)}catch{return cachedSetTimeout.call(this,a,0)}}}function runClearTimeout(a){if(cachedClearTimeout===clearTimeout)return clearTimeout(a);if((cachedClearTimeout===defaultClearTimeout||!cachedClearTimeout)&&clearTimeout)return cachedClearTimeout=clearTimeout,clearTimeout(a);try{return cachedClearTimeout(a)}catch{try{return cachedClearTimeout.call(null,a)}catch{return cachedClearTimeout.call(this,a)}}}var queue=[],draining=!1,currentQueue,queueIndex=-1;function cleanUpNextTick(){!draining||!currentQueue||(draining=!1,currentQueue.length?queue=currentQueue.concat(queue):queueIndex=-1,queue.length&&drainQueue())}function drainQueue(){if(!draining){var a=runTimeout(cleanUpNextTick);draining=!0;for(var _=queue.length;_;){for(currentQueue=queue,queue=[];++queueIndex<_;)currentQueue&&currentQueue[queueIndex].run();queueIndex=-1,_=queue.length}currentQueue=null,draining=!1,runClearTimeout(a)}}process$1.nextTick=function(a){var _=new Array(arguments.length-1);if(arguments.length>1)for(var $=1;$<arguments.length;$++)_[$-1]=arguments[$];queue.push(new Item(a,_)),queue.length===1&&!draining&&runTimeout(drainQueue)};function Item(a,_){this.fun=a,this.array=_}Item.prototype.run=function(){this.fun.apply(null,this.array)};process$1.title="browser";process$1.browser=!0;process$1.env={};process$1.argv=[];process$1.version="";process$1.versions={};function noop$a(){}process$1.on=noop$a;process$1.addListener=noop$a;process$1.once=noop$a;process$1.off=noop$a;process$1.removeListener=noop$a;process$1.removeAllListeners=noop$a;process$1.emit=noop$a;process$1.prependListener=noop$a;process$1.prependOnceListener=noop$a;process$1.listeners=function(a){return[]};process$1.binding=function(a){throw new Error("process.binding is not supported")};process$1.cwd=function(){return"/"};process$1.chdir=function(a){throw new Error("process.chdir is not supported")};process$1.umask=function(){return 0};var browserExports=browser$d.exports;const process$1$1=getDefaultExportFromCjs(browserExports);var events={exports:{}},R=typeof Reflect=="object"?Reflect:null,ReflectApply=R&&typeof R.apply=="function"?R.apply:function(_,$,j){return Function.prototype.apply.call(_,$,j)},ReflectOwnKeys;R&&typeof R.ownKeys=="function"?ReflectOwnKeys=R.ownKeys:Object.getOwnPropertySymbols?ReflectOwnKeys=function(_){return Object.getOwnPropertyNames(_).concat(Object.getOwnPropertySymbols(_))}:ReflectOwnKeys=function(_){return Object.getOwnPropertyNames(_)};function ProcessEmitWarning(a){console&&console.warn&&console.warn(a)}var NumberIsNaN=Number.isNaN||function(_){return _!==_};function EventEmitter$1(){EventEmitter$1.init.call(this)}events.exports=EventEmitter$1;events.exports.once=once$2;EventEmitter$1.EventEmitter=EventEmitter$1;EventEmitter$1.prototype._events=void 0;EventEmitter$1.prototype._eventsCount=0;EventEmitter$1.prototype._maxListeners=void 0;var defaultMaxListeners=10;function checkListener(a){if(typeof a!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof a)}Object.defineProperty(EventEmitter$1,"defaultMaxListeners",{enumerable:!0,get:function(){return defaultMaxListeners},set:function(a){if(typeof a!="number"||a<0||NumberIsNaN(a))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+a+".");defaultMaxListeners=a}});EventEmitter$1.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};EventEmitter$1.prototype.setMaxListeners=function(_){if(typeof _!="number"||_<0||NumberIsNaN(_))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+_+".");return this._maxListeners=_,this};function _getMaxListeners(a){return a._maxListeners===void 0?EventEmitter$1.defaultMaxListeners:a._maxListeners}EventEmitter$1.prototype.getMaxListeners=function(){return _getMaxListeners(this)};EventEmitter$1.prototype.emit=function(_){for(var $=[],j=1;j<arguments.length;j++)$.push(arguments[j]);var et=_==="error",tt=this._events;if(tt!==void 0)et=et&&tt.error===void 0;else if(!et)return!1;if(et){var rt;if($.length>0&&(rt=$[0]),rt instanceof Error)throw rt;var nt=new Error("Unhandled error."+(rt?" ("+rt.message+")":""));throw nt.context=rt,nt}var it=tt[_];if(it===void 0)return!1;if(typeof it=="function")ReflectApply(it,this,$);else for(var st=it.length,ot=arrayClone(it,st),j=0;j<st;++j)ReflectApply(ot[j],this,$);return!0};function _addListener(a,_,$,j){var et,tt,rt;if(checkListener($),tt=a._events,tt===void 0?(tt=a._events=Object.create(null),a._eventsCount=0):(tt.newListener!==void 0&&(a.emit("newListener",_,$.listener?$.listener:$),tt=a._events),rt=tt[_]),rt===void 0)rt=tt[_]=$,++a._eventsCount;else if(typeof rt=="function"?rt=tt[_]=j?[$,rt]:[rt,$]:j?rt.unshift($):rt.push($),et=_getMaxListeners(a),et>0&&rt.length>et&&!rt.warned){rt.warned=!0;var nt=new Error("Possible EventEmitter memory leak detected. "+rt.length+" "+String(_)+" listeners added. Use emitter.setMaxListeners() to increase limit");nt.name="MaxListenersExceededWarning",nt.emitter=a,nt.type=_,nt.count=rt.length,ProcessEmitWarning(nt)}return a}EventEmitter$1.prototype.addListener=function(_,$){return _addListener(this,_,$,!1)};EventEmitter$1.prototype.on=EventEmitter$1.prototype.addListener;EventEmitter$1.prototype.prependListener=function(_,$){return _addListener(this,_,$,!0)};function onceWrapper(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function _onceWrap(a,_,$){var j={fired:!1,wrapFn:void 0,target:a,type:_,listener:$},et=onceWrapper.bind(j);return et.listener=$,j.wrapFn=et,et}EventEmitter$1.prototype.once=function(_,$){return checkListener($),this.on(_,_onceWrap(this,_,$)),this};EventEmitter$1.prototype.prependOnceListener=function(_,$){return checkListener($),this.prependListener(_,_onceWrap(this,_,$)),this};EventEmitter$1.prototype.removeListener=function(_,$){var j,et,tt,rt,nt;if(checkListener($),et=this._events,et===void 0)return this;if(j=et[_],j===void 0)return this;if(j===$||j.listener===$)--this._eventsCount===0?this._events=Object.create(null):(delete et[_],et.removeListener&&this.emit("removeListener",_,j.listener||$));else if(typeof j!="function"){for(tt=-1,rt=j.length-1;rt>=0;rt--)if(j[rt]===$||j[rt].listener===$){nt=j[rt].listener,tt=rt;break}if(tt<0)return this;tt===0?j.shift():spliceOne(j,tt),j.length===1&&(et[_]=j[0]),et.removeListener!==void 0&&this.emit("removeListener",_,nt||$)}return this};EventEmitter$1.prototype.off=EventEmitter$1.prototype.removeListener;EventEmitter$1.prototype.removeAllListeners=function(_){var $,j,et;if(j=this._events,j===void 0)return this;if(j.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):j[_]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete j[_]),this;if(arguments.length===0){var tt=Object.keys(j),rt;for(et=0;et<tt.length;++et)rt=tt[et],rt!=="removeListener"&&this.removeAllListeners(rt);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if($=j[_],typeof $=="function")this.removeListener(_,$);else if($!==void 0)for(et=$.length-1;et>=0;et--)this.removeListener(_,$[et]);return this};function _listeners(a,_,$){var j=a._events;if(j===void 0)return[];var et=j[_];return et===void 0?[]:typeof et=="function"?$?[et.listener||et]:[et]:$?unwrapListeners(et):arrayClone(et,et.length)}EventEmitter$1.prototype.listeners=function(_){return _listeners(this,_,!0)};EventEmitter$1.prototype.rawListeners=function(_){return _listeners(this,_,!1)};EventEmitter$1.listenerCount=function(a,_){return typeof a.listenerCount=="function"?a.listenerCount(_):listenerCount.call(a,_)};EventEmitter$1.prototype.listenerCount=listenerCount;function listenerCount(a){var _=this._events;if(_!==void 0){var $=_[a];if(typeof $=="function")return 1;if($!==void 0)return $.length}return 0}EventEmitter$1.prototype.eventNames=function(){return this._eventsCount>0?ReflectOwnKeys(this._events):[]};function arrayClone(a,_){for(var $=new Array(_),j=0;j<_;++j)$[j]=a[j];return $}function spliceOne(a,_){for(;_+1<a.length;_++)a[_]=a[_+1];a.pop()}function unwrapListeners(a){for(var _=new Array(a.length),$=0;$<_.length;++$)_[$]=a[$].listener||a[$];return _}function once$2(a,_){return new Promise(function($,j){function et(rt){a.removeListener(_,tt),j(rt)}function tt(){typeof a.removeListener=="function"&&a.removeListener("error",et),$([].slice.call(arguments))}eventTargetAgnosticAddListener(a,_,tt,{once:!0}),_!=="error"&&addErrorHandlerIfEventEmitter(a,et,{once:!0})})}function addErrorHandlerIfEventEmitter(a,_,$){typeof a.on=="function"&&eventTargetAgnosticAddListener(a,"error",_,$)}function eventTargetAgnosticAddListener(a,_,$,j){if(typeof a.on=="function")j.once?a.once(_,$):a.on(_,$);else if(typeof a.addEventListener=="function")a.addEventListener(_,function et(tt){j.once&&a.removeEventListener(_,et),$(tt)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof a)}var eventsExports=events.exports;const EventEmitter$2=getDefaultExportFromCjs$1(eventsExports);var streamBrowser$1=eventsExports.EventEmitter,util$5={},types$1={},shams$1=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var _={},$=Symbol("test"),j=Object($);if(typeof $=="string"||Object.prototype.toString.call($)!=="[object Symbol]"||Object.prototype.toString.call(j)!=="[object Symbol]")return!1;var et=42;_[$]=et;for($ in _)return!1;if(typeof Object.keys=="function"&&Object.keys(_).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(_).length!==0)return!1;var tt=Object.getOwnPropertySymbols(_);if(tt.length!==1||tt[0]!==$||!Object.prototype.propertyIsEnumerable.call(_,$))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var rt=Object.getOwnPropertyDescriptor(_,$);if(rt.value!==et||rt.enumerable!==!0)return!1}return!0},hasSymbols$3=shams$1,shams=function(){return hasSymbols$3()&&!!Symbol.toStringTag},origSymbol=typeof Symbol<"u"&&Symbol,hasSymbolSham=shams$1,hasSymbols$2=function(){return typeof origSymbol!="function"||typeof Symbol!="function"||typeof origSymbol("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:hasSymbolSham()},test={foo:{}},$Object=Object,hasProto$2=function(){return{__proto__:test}.foo===test.foo&&!({__proto__:null}instanceof $Object)},ERROR_MESSAGE$2="Function.prototype.bind called on incompatible ",slice$2=Array.prototype.slice,toStr$5=Object.prototype.toString,funcType$2="[object Function]",implementation$5=function(_){var $=this;if(typeof $!="function"||toStr$5.call($)!==funcType$2)throw new TypeError(ERROR_MESSAGE$2+$);for(var j=slice$2.call(arguments,1),et,tt=function(){if(this instanceof et){var ot=$.apply(this,j.concat(slice$2.call(arguments)));return Object(ot)===ot?ot:this}else return $.apply(_,j.concat(slice$2.call(arguments)))},rt=Math.max(0,$.length-j.length),nt=[],it=0;it<rt;it++)nt.push("$"+it);if(et=Function("binder","return function ("+nt.join(",")+"){ return binder.apply(this,arguments); }")(tt),$.prototype){var st=function(){};st.prototype=$.prototype,et.prototype=new st,st.prototype=null}return et},implementation$4=implementation$5,functionBind$2=Function.prototype.bind||implementation$4,ERROR_MESSAGE$1="Function.prototype.bind called on incompatible ",slice$1=Array.prototype.slice,toStr$4=Object.prototype.toString,funcType$1="[object Function]",implementation$3=function(_){var $=this;if(typeof $!="function"||toStr$4.call($)!==funcType$1)throw new TypeError(ERROR_MESSAGE$1+$);for(var j=slice$1.call(arguments,1),et,tt=function(){if(this instanceof et){var ot=$.apply(this,j.concat(slice$1.call(arguments)));return Object(ot)===ot?ot:this}else return $.apply(_,j.concat(slice$1.call(arguments)))},rt=Math.max(0,$.length-j.length),nt=[],it=0;it<rt;it++)nt.push("$"+it);if(et=Function("binder","return function ("+nt.join(",")+"){ return binder.apply(this,arguments); }")(tt),$.prototype){var st=function(){};st.prototype=$.prototype,et.prototype=new st,st.prototype=null}return et},implementation$2=implementation$3,functionBind$1=Function.prototype.bind||implementation$2,bind$5=functionBind$1,src$3=bind$5.call(Function.call,Object.prototype.hasOwnProperty),undefined$2,$SyntaxError$1=SyntaxError,$Function$1=Function,$TypeError$1=TypeError,getEvalledConstructor$1=function(a){try{return $Function$1('"use strict"; return ('+a+").constructor;")()}catch{}},$gOPD$2=Object.getOwnPropertyDescriptor;if($gOPD$2)try{$gOPD$2({},"")}catch{$gOPD$2=null}var throwTypeError$1=function(){throw new $TypeError$1},ThrowTypeError$1=$gOPD$2?function(){try{return arguments.callee,throwTypeError$1}catch{try{return $gOPD$2(arguments,"callee").get}catch{return throwTypeError$1}}}():throwTypeError$1,hasSymbols$1=hasSymbols$2(),hasProto$1=hasProto$2(),getProto$2=Object.getPrototypeOf||(hasProto$1?function(a){return a.__proto__}:null),needsEval$1={},TypedArray$1=typeof Uint8Array>"u"||!getProto$2?undefined$2:getProto$2(Uint8Array),INTRINSICS$1={"%AggregateError%":typeof AggregateError>"u"?undefined$2:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?undefined$2:ArrayBuffer,"%ArrayIteratorPrototype%":hasSymbols$1&&getProto$2?getProto$2([][Symbol.iterator]()):undefined$2,"%AsyncFromSyncIteratorPrototype%":undefined$2,"%AsyncFunction%":needsEval$1,"%AsyncGenerator%":needsEval$1,"%AsyncGeneratorFunction%":needsEval$1,"%AsyncIteratorPrototype%":needsEval$1,"%Atomics%":typeof Atomics>"u"?undefined$2:Atomics,"%BigInt%":typeof BigInt>"u"?undefined$2:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?undefined$2:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?undefined$2:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?undefined$2:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?undefined$2:Float32Array,"%Float64Array%":typeof Float64Array>"u"?undefined$2:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?undefined$2:FinalizationRegistry,"%Function%":$Function$1,"%GeneratorFunction%":needsEval$1,"%Int8Array%":typeof Int8Array>"u"?undefined$2:Int8Array,"%Int16Array%":typeof Int16Array>"u"?undefined$2:Int16Array,"%Int32Array%":typeof Int32Array>"u"?undefined$2:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":hasSymbols$1&&getProto$2?getProto$2(getProto$2([][Symbol.iterator]())):undefined$2,"%JSON%":typeof JSON=="object"?JSON:undefined$2,"%Map%":typeof Map>"u"?undefined$2:Map,"%MapIteratorPrototype%":typeof Map>"u"||!hasSymbols$1||!getProto$2?undefined$2:getProto$2(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?undefined$2:Promise,"%Proxy%":typeof Proxy>"u"?undefined$2:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?undefined$2:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?undefined$2:Set,"%SetIteratorPrototype%":typeof Set>"u"||!hasSymbols$1||!getProto$2?undefined$2:getProto$2(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?undefined$2:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":hasSymbols$1&&getProto$2?getProto$2(""[Symbol.iterator]()):undefined$2,"%Symbol%":hasSymbols$1?Symbol:undefined$2,"%SyntaxError%":$SyntaxError$1,"%ThrowTypeError%":ThrowTypeError$1,"%TypedArray%":TypedArray$1,"%TypeError%":$TypeError$1,"%Uint8Array%":typeof Uint8Array>"u"?undefined$2:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?undefined$2:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?undefined$2:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?undefined$2:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?undefined$2:WeakMap,"%WeakRef%":typeof WeakRef>"u"?undefined$2:WeakRef,"%WeakSet%":typeof WeakSet>"u"?undefined$2:WeakSet};if(getProto$2)try{null.error}catch(a){var errorProto$1=getProto$2(getProto$2(a));INTRINSICS$1["%Error.prototype%"]=errorProto$1}var doEval$1=function a(_){var $;if(_==="%AsyncFunction%")$=getEvalledConstructor$1("async function () {}");else if(_==="%GeneratorFunction%")$=getEvalledConstructor$1("function* () {}");else if(_==="%AsyncGeneratorFunction%")$=getEvalledConstructor$1("async function* () {}");else if(_==="%AsyncGenerator%"){var j=a("%AsyncGeneratorFunction%");j&&($=j.prototype)}else if(_==="%AsyncIteratorPrototype%"){var et=a("%AsyncGenerator%");et&&getProto$2&&($=getProto$2(et.prototype))}return INTRINSICS$1[_]=$,$},LEGACY_ALIASES$1={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},bind$4=functionBind$2,hasOwn$2=src$3,$concat$1=bind$4.call(Function.call,Array.prototype.concat),$spliceApply$1=bind$4.call(Function.apply,Array.prototype.splice),$replace$1=bind$4.call(Function.call,String.prototype.replace),$strSlice$1=bind$4.call(Function.call,String.prototype.slice),$exec$1=bind$4.call(Function.call,RegExp.prototype.exec),rePropName$1=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,reEscapeChar$1=/\\(\\)?/g,stringToPath$1=function(_){var $=$strSlice$1(_,0,1),j=$strSlice$1(_,-1);if($==="%"&&j!=="%")throw new $SyntaxError$1("invalid intrinsic syntax, expected closing `%`");if(j==="%"&&$!=="%")throw new $SyntaxError$1("invalid intrinsic syntax, expected opening `%`");var et=[];return $replace$1(_,rePropName$1,function(tt,rt,nt,it){et[et.length]=nt?$replace$1(it,reEscapeChar$1,"$1"):rt||tt}),et},getBaseIntrinsic$1=function(_,$){var j=_,et;if(hasOwn$2(LEGACY_ALIASES$1,j)&&(et=LEGACY_ALIASES$1[j],j="%"+et[0]+"%"),hasOwn$2(INTRINSICS$1,j)){var tt=INTRINSICS$1[j];if(tt===needsEval$1&&(tt=doEval$1(j)),typeof tt>"u"&&!$)throw new $TypeError$1("intrinsic "+_+" exists, but is not available. Please file an issue!");return{alias:et,name:j,value:tt}}throw new $SyntaxError$1("intrinsic "+_+" does not exist!")},getIntrinsic$1=function(_,$){if(typeof _!="string"||_.length===0)throw new $TypeError$1("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof $!="boolean")throw new $TypeError$1('"allowMissing" argument must be a boolean');if($exec$1(/^%?[^%]*%?$/,_)===null)throw new $SyntaxError$1("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var j=stringToPath$1(_),et=j.length>0?j[0]:"",tt=getBaseIntrinsic$1("%"+et+"%",$),rt=tt.name,nt=tt.value,it=!1,st=tt.alias;st&&(et=st[0],$spliceApply$1(j,$concat$1([0,1],st)));for(var ot=1,at=!0;ot<j.length;ot+=1){var ut=j[ot],ht=$strSlice$1(ut,0,1),yt=$strSlice$1(ut,-1);if((ht==='"'||ht==="'"||ht==="`"||yt==='"'||yt==="'"||yt==="`")&&ht!==yt)throw new $SyntaxError$1("property names with quotes must have matching quotes");if((ut==="constructor"||!at)&&(it=!0),et+="."+ut,rt="%"+et+"%",hasOwn$2(INTRINSICS$1,rt))nt=INTRINSICS$1[rt];else if(nt!=null){if(!(ut in nt)){if(!$)throw new $TypeError$1("base intrinsic for "+_+" exists, but the property is not available.");return}if($gOPD$2&&ot+1>=j.length){var wt=$gOPD$2(nt,ut);at=!!wt,at&&"get"in wt&&!("originalValue"in wt.get)?nt=wt.get:nt=nt[ut]}else at=hasOwn$2(nt,ut),nt=nt[ut];at&&!it&&(INTRINSICS$1[rt]=nt)}}return nt},callBind$1={exports:{}};(function(a){var _=functionBind$2,$=getIntrinsic$1,j=$("%Function.prototype.apply%"),et=$("%Function.prototype.call%"),tt=$("%Reflect.apply%",!0)||_.call(et,j),rt=$("%Object.getOwnPropertyDescriptor%",!0),nt=$("%Object.defineProperty%",!0),it=$("%Math.max%");if(nt)try{nt({},"a",{value:1})}catch{nt=null}a.exports=function(at){var ut=tt(_,et,arguments);if(rt&&nt){var ht=rt(ut,"length");ht.configurable&&nt(ut,"length",{value:1+it(0,at.length-(arguments.length-1))})}return ut};var st=function(){return tt(_,j,arguments)};nt?nt(a.exports,"apply",{value:st}):a.exports.apply=st})(callBind$1);var callBindExports=callBind$1.exports,GetIntrinsic$1=getIntrinsic$1,callBind=callBindExports,$indexOf$1=callBind(GetIntrinsic$1("String.prototype.indexOf")),callBound$3=function(_,$){var j=GetIntrinsic$1(_,!!$);return typeof j=="function"&&$indexOf$1(_,".prototype.")>-1?callBind(j):j},hasToStringTag$4=shams(),callBound$2=callBound$3,$toString$2=callBound$2("Object.prototype.toString"),isStandardArguments=function(_){return hasToStringTag$4&&_&&typeof _=="object"&&Symbol.toStringTag in _?!1:$toString$2(_)==="[object Arguments]"},isLegacyArguments=function(_){return isStandardArguments(_)?!0:_!==null&&typeof _=="object"&&typeof _.length=="number"&&_.length>=0&&$toString$2(_)!=="[object Array]"&&$toString$2(_.callee)==="[object Function]"},supportsStandardArguments=function(){return isStandardArguments(arguments)}();isStandardArguments.isLegacyArguments=isLegacyArguments;var isArguments=supportsStandardArguments?isStandardArguments:isLegacyArguments,toStr$3=Object.prototype.toString,fnToStr$1=Function.prototype.toString,isFnRegex=/^\s*(?:function)?\*/,hasToStringTag$3=shams(),getProto$1=Object.getPrototypeOf,getGeneratorFunc=function(){if(!hasToStringTag$3)return!1;try{return Function("return function*() {}")()}catch{}},GeneratorFunction,isGeneratorFunction=function(_){if(typeof _!="function")return!1;if(isFnRegex.test(fnToStr$1.call(_)))return!0;if(!hasToStringTag$3){var $=toStr$3.call(_);return $==="[object GeneratorFunction]"}if(!getProto$1)return!1;if(typeof GeneratorFunction>"u"){var j=getGeneratorFunc();GeneratorFunction=j?getProto$1(j):!1}return getProto$1(_)===GeneratorFunction},fnToStr=Function.prototype.toString,reflectApply=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,badArrayLike,isCallableMarker;if(typeof reflectApply=="function"&&typeof Object.defineProperty=="function")try{badArrayLike=Object.defineProperty({},"length",{get:function(){throw isCallableMarker}}),isCallableMarker={},reflectApply(function(){throw 42},null,badArrayLike)}catch(a){a!==isCallableMarker&&(reflectApply=null)}else reflectApply=null;var constructorRegex=/^\s*class\b/,isES6ClassFn=function(_){try{var $=fnToStr.call(_);return constructorRegex.test($)}catch{return!1}},tryFunctionObject=function(_){try{return isES6ClassFn(_)?!1:(fnToStr.call(_),!0)}catch{return!1}},toStr$2=Object.prototype.toString,objectClass="[object Object]",fnClass="[object Function]",genClass="[object GeneratorFunction]",ddaClass="[object HTMLAllCollection]",ddaClass2="[object HTML document.all class]",ddaClass3="[object HTMLCollection]",hasToStringTag$2=typeof Symbol=="function"&&!!Symbol.toStringTag,isIE68=!(0 in[,]),isDDA=function(){return!1};if(typeof document=="object"){var all=document.all;toStr$2.call(all)===toStr$2.call(document.all)&&(isDDA=function(_){if((isIE68||!_)&&(typeof _>"u"||typeof _=="object"))try{var $=toStr$2.call(_);return($===ddaClass||$===ddaClass2||$===ddaClass3||$===objectClass)&&_("")==null}catch{}return!1})}var isCallable$1=reflectApply?function(_){if(isDDA(_))return!0;if(!_||typeof _!="function"&&typeof _!="object")return!1;try{reflectApply(_,null,badArrayLike)}catch($){if($!==isCallableMarker)return!1}return!isES6ClassFn(_)&&tryFunctionObject(_)}:function(_){if(isDDA(_))return!0;if(!_||typeof _!="function"&&typeof _!="object")return!1;if(hasToStringTag$2)return tryFunctionObject(_);if(isES6ClassFn(_))return!1;var $=toStr$2.call(_);return $!==fnClass&&$!==genClass&&!/^\[object HTML/.test($)?!1:tryFunctionObject(_)},isCallable=isCallable$1,toStr$1=Object.prototype.toString,hasOwnProperty$2=Object.prototype.hasOwnProperty,forEachArray=function(_,$,j){for(var et=0,tt=_.length;et<tt;et++)hasOwnProperty$2.call(_,et)&&(j==null?$(_[et],et,_):$.call(j,_[et],et,_))},forEachString=function(_,$,j){for(var et=0,tt=_.length;et<tt;et++)j==null?$(_.charAt(et),et,_):$.call(j,_.charAt(et),et,_)},forEachObject=function(_,$,j){for(var et in _)hasOwnProperty$2.call(_,et)&&(j==null?$(_[et],et,_):$.call(j,_[et],et,_))},forEach$4=function(_,$,j){if(!isCallable($))throw new TypeError("iterator must be a function");var et;arguments.length>=3&&(et=j),toStr$1.call(_)==="[object Array]"?forEachArray(_,$,et):typeof _=="string"?forEachString(_,$,et):forEachObject(_,$,et)},forEach_1=forEach$4,possibleNames=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],g$3=typeof globalThis>"u"?commonjsGlobal:globalThis,availableTypedArrays$2=function(){for(var _=[],$=0;$<possibleNames.length;$++)typeof g$3[possibleNames[$]]=="function"&&(_[_.length]=possibleNames[$]);return _},ERROR_MESSAGE="Function.prototype.bind called on incompatible ",slice=Array.prototype.slice,toStr=Object.prototype.toString,funcType="[object Function]",implementation$1=function(_){var $=this;if(typeof $!="function"||toStr.call($)!==funcType)throw new TypeError(ERROR_MESSAGE+$);for(var j=slice.call(arguments,1),et,tt=function(){if(this instanceof et){var ot=$.apply(this,j.concat(slice.call(arguments)));return Object(ot)===ot?ot:this}else return $.apply(_,j.concat(slice.call(arguments)))},rt=Math.max(0,$.length-j.length),nt=[],it=0;it<rt;it++)nt.push("$"+it);if(et=Function("binder","return function ("+nt.join(",")+"){ return binder.apply(this,arguments); }")(tt),$.prototype){var st=function(){};st.prototype=$.prototype,et.prototype=new st,st.prototype=null}return et},implementation=implementation$1,functionBind=Function.prototype.bind||implementation,undefined$1,$SyntaxError=SyntaxError,$Function=Function,$TypeError=TypeError,getEvalledConstructor=function(a){try{return $Function('"use strict"; return ('+a+").constructor;")()}catch{}},$gOPD$1=Object.getOwnPropertyDescriptor;if($gOPD$1)try{$gOPD$1({},"")}catch{$gOPD$1=null}var throwTypeError=function(){throw new $TypeError},ThrowTypeError=$gOPD$1?function(){try{return arguments.callee,throwTypeError}catch{try{return $gOPD$1(arguments,"callee").get}catch{return throwTypeError}}}():throwTypeError,hasSymbols=hasSymbols$2(),hasProto=hasProto$2(),getProto=Object.getPrototypeOf||(hasProto?function(a){return a.__proto__}:null),needsEval={},TypedArray=typeof Uint8Array>"u"||!getProto?undefined$1:getProto(Uint8Array),INTRINSICS={"%AggregateError%":typeof AggregateError>"u"?undefined$1:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?undefined$1:ArrayBuffer,"%ArrayIteratorPrototype%":hasSymbols&&getProto?getProto([][Symbol.iterator]()):undefined$1,"%AsyncFromSyncIteratorPrototype%":undefined$1,"%AsyncFunction%":needsEval,"%AsyncGenerator%":needsEval,"%AsyncGeneratorFunction%":needsEval,"%AsyncIteratorPrototype%":needsEval,"%Atomics%":typeof Atomics>"u"?undefined$1:Atomics,"%BigInt%":typeof BigInt>"u"?undefined$1:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?undefined$1:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?undefined$1:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?undefined$1:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?undefined$1:Float32Array,"%Float64Array%":typeof Float64Array>"u"?undefined$1:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?undefined$1:FinalizationRegistry,"%Function%":$Function,"%GeneratorFunction%":needsEval,"%Int8Array%":typeof Int8Array>"u"?undefined$1:Int8Array,"%Int16Array%":typeof Int16Array>"u"?undefined$1:Int16Array,"%Int32Array%":typeof Int32Array>"u"?undefined$1:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":hasSymbols&&getProto?getProto(getProto([][Symbol.iterator]())):undefined$1,"%JSON%":typeof JSON=="object"?JSON:undefined$1,"%Map%":typeof Map>"u"?undefined$1:Map,"%MapIteratorPrototype%":typeof Map>"u"||!hasSymbols||!getProto?undefined$1:getProto(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?undefined$1:Promise,"%Proxy%":typeof Proxy>"u"?undefined$1:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?undefined$1:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?undefined$1:Set,"%SetIteratorPrototype%":typeof Set>"u"||!hasSymbols||!getProto?undefined$1:getProto(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?undefined$1:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":hasSymbols&&getProto?getProto(""[Symbol.iterator]()):undefined$1,"%Symbol%":hasSymbols?Symbol:undefined$1,"%SyntaxError%":$SyntaxError,"%ThrowTypeError%":ThrowTypeError,"%TypedArray%":TypedArray,"%TypeError%":$TypeError,"%Uint8Array%":typeof Uint8Array>"u"?undefined$1:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?undefined$1:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?undefined$1:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?undefined$1:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?undefined$1:WeakMap,"%WeakRef%":typeof WeakRef>"u"?undefined$1:WeakRef,"%WeakSet%":typeof WeakSet>"u"?undefined$1:WeakSet};if(getProto)try{null.error}catch(a){var errorProto=getProto(getProto(a));INTRINSICS["%Error.prototype%"]=errorProto}var doEval=function a(_){var $;if(_==="%AsyncFunction%")$=getEvalledConstructor("async function () {}");else if(_==="%GeneratorFunction%")$=getEvalledConstructor("function* () {}");else if(_==="%AsyncGeneratorFunction%")$=getEvalledConstructor("async function* () {}");else if(_==="%AsyncGenerator%"){var j=a("%AsyncGeneratorFunction%");j&&($=j.prototype)}else if(_==="%AsyncIteratorPrototype%"){var et=a("%AsyncGenerator%");et&&getProto&&($=getProto(et.prototype))}return INTRINSICS[_]=$,$},LEGACY_ALIASES={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},bind$3=functionBind,hasOwn$1=src$3,$concat=bind$3.call(Function.call,Array.prototype.concat),$spliceApply=bind$3.call(Function.apply,Array.prototype.splice),$replace=bind$3.call(Function.call,String.prototype.replace),$strSlice=bind$3.call(Function.call,String.prototype.slice),$exec=bind$3.call(Function.call,RegExp.prototype.exec),rePropName=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,reEscapeChar=/\\(\\)?/g,stringToPath=function(_){var $=$strSlice(_,0,1),j=$strSlice(_,-1);if($==="%"&&j!=="%")throw new $SyntaxError("invalid intrinsic syntax, expected closing `%`");if(j==="%"&&$!=="%")throw new $SyntaxError("invalid intrinsic syntax, expected opening `%`");var et=[];return $replace(_,rePropName,function(tt,rt,nt,it){et[et.length]=nt?$replace(it,reEscapeChar,"$1"):rt||tt}),et},getBaseIntrinsic=function(_,$){var j=_,et;if(hasOwn$1(LEGACY_ALIASES,j)&&(et=LEGACY_ALIASES[j],j="%"+et[0]+"%"),hasOwn$1(INTRINSICS,j)){var tt=INTRINSICS[j];if(tt===needsEval&&(tt=doEval(j)),typeof tt>"u"&&!$)throw new $TypeError("intrinsic "+_+" exists, but is not available. Please file an issue!");return{alias:et,name:j,value:tt}}throw new $SyntaxError("intrinsic "+_+" does not exist!")},getIntrinsic=function(_,$){if(typeof _!="string"||_.length===0)throw new $TypeError("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof $!="boolean")throw new $TypeError('"allowMissing" argument must be a boolean');if($exec(/^%?[^%]*%?$/,_)===null)throw new $SyntaxError("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var j=stringToPath(_),et=j.length>0?j[0]:"",tt=getBaseIntrinsic("%"+et+"%",$),rt=tt.name,nt=tt.value,it=!1,st=tt.alias;st&&(et=st[0],$spliceApply(j,$concat([0,1],st)));for(var ot=1,at=!0;ot<j.length;ot+=1){var ut=j[ot],ht=$strSlice(ut,0,1),yt=$strSlice(ut,-1);if((ht==='"'||ht==="'"||ht==="`"||yt==='"'||yt==="'"||yt==="`")&&ht!==yt)throw new $SyntaxError("property names with quotes must have matching quotes");if((ut==="constructor"||!at)&&(it=!0),et+="."+ut,rt="%"+et+"%",hasOwn$1(INTRINSICS,rt))nt=INTRINSICS[rt];else if(nt!=null){if(!(ut in nt)){if(!$)throw new $TypeError("base intrinsic for "+_+" exists, but the property is not available.");return}if($gOPD$1&&ot+1>=j.length){var wt=$gOPD$1(nt,ut);at=!!wt,at&&"get"in wt&&!("originalValue"in wt.get)?nt=wt.get:nt=nt[ut]}else at=hasOwn$1(nt,ut),nt=nt[ut];at&&!it&&(INTRINSICS[rt]=nt)}}return nt},GetIntrinsic=getIntrinsic,$gOPD=GetIntrinsic("%Object.getOwnPropertyDescriptor%",!0);if($gOPD)try{$gOPD([],"length")}catch{$gOPD=null}var gopd=$gOPD,forEach$3=forEach_1,availableTypedArrays$1=availableTypedArrays$2,callBound$1=callBound$3,$toString$1=callBound$1("Object.prototype.toString"),hasToStringTag$1=shams(),gOPD$1=gopd,g$2=typeof globalThis>"u"?commonjsGlobal:globalThis,typedArrays$1=availableTypedArrays$1(),$indexOf=callBound$1("Array.prototype.indexOf",!0)||function(_,$){for(var j=0;j<_.length;j+=1)if(_[j]===$)return j;return-1},$slice$1=callBound$1("String.prototype.slice"),toStrTags$1={},getPrototypeOf$5=Object.getPrototypeOf;hasToStringTag$1&&gOPD$1&&getPrototypeOf$5&&forEach$3(typedArrays$1,function(a){var _=new g$2[a];if(Symbol.toStringTag in _){var $=getPrototypeOf$5(_),j=gOPD$1($,Symbol.toStringTag);if(!j){var et=getPrototypeOf$5($);j=gOPD$1(et,Symbol.toStringTag)}toStrTags$1[a]=j.get}});var tryTypedArrays$1=function(_){var $=!1;return forEach$3(toStrTags$1,function(j,et){if(!$)try{$=j.call(_)===et}catch{}}),$},isTypedArray$3=function(_){if(!_||typeof _!="object")return!1;if(!hasToStringTag$1||!(Symbol.toStringTag in _)){var $=$slice$1($toString$1(_),8,-1);return $indexOf(typedArrays$1,$)>-1}return gOPD$1?tryTypedArrays$1(_):!1},forEach$2=forEach_1,availableTypedArrays=availableTypedArrays$2,callBound=callBound$3,gOPD=gopd,$toString=callBound("Object.prototype.toString"),hasToStringTag=shams(),g$1=typeof globalThis>"u"?commonjsGlobal:globalThis,typedArrays=availableTypedArrays(),$slice=callBound("String.prototype.slice"),toStrTags={},getPrototypeOf$4=Object.getPrototypeOf;hasToStringTag&&gOPD&&getPrototypeOf$4&&forEach$2(typedArrays,function(a){if(typeof g$1[a]=="function"){var _=new g$1[a];if(Symbol.toStringTag in _){var $=getPrototypeOf$4(_),j=gOPD($,Symbol.toStringTag);if(!j){var et=getPrototypeOf$4($);j=gOPD(et,Symbol.toStringTag)}toStrTags[a]=j.get}}});var tryTypedArrays=function(_){var $=!1;return forEach$2(toStrTags,function(j,et){if(!$)try{var tt=j.call(_);tt===et&&($=tt)}catch{}}),$},isTypedArray$2=isTypedArray$3,whichTypedArray=function(_){return isTypedArray$2(_)?!hasToStringTag||!(Symbol.toStringTag in _)?$slice($toString(_),8,-1):tryTypedArrays(_):!1};(function(a){var _=isArguments,$=isGeneratorFunction,j=whichTypedArray,et=isTypedArray$3;function tt(fr){return fr.call.bind(fr)}var rt=typeof BigInt<"u",nt=typeof Symbol<"u",it=tt(Object.prototype.toString),st=tt(Number.prototype.valueOf),ot=tt(String.prototype.valueOf),at=tt(Boolean.prototype.valueOf);if(rt)var ut=tt(BigInt.prototype.valueOf);if(nt)var ht=tt(Symbol.prototype.valueOf);function yt(fr,_r){if(typeof fr!="object")return!1;try{return _r(fr),!0}catch{return!1}}a.isArgumentsObject=_,a.isGeneratorFunction=$,a.isTypedArray=et;function wt(fr){return typeof Promise<"u"&&fr instanceof Promise||fr!==null&&typeof fr=="object"&&typeof fr.then=="function"&&typeof fr.catch=="function"}a.isPromise=wt;function Ct(fr){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(fr):et(fr)||Nt(fr)}a.isArrayBufferView=Ct;function Pt(fr){return j(fr)==="Uint8Array"}a.isUint8Array=Pt;function Tt(fr){return j(fr)==="Uint8ClampedArray"}a.isUint8ClampedArray=Tt;function Mt(fr){return j(fr)==="Uint16Array"}a.isUint16Array=Mt;function Lt(fr){return j(fr)==="Uint32Array"}a.isUint32Array=Lt;function Dt(fr){return j(fr)==="Int8Array"}a.isInt8Array=Dt;function Ut(fr){return j(fr)==="Int16Array"}a.isInt16Array=Ut;function Ot(fr){return j(fr)==="Int32Array"}a.isInt32Array=Ot;function It(fr){return j(fr)==="Float32Array"}a.isFloat32Array=It;function Bt(fr){return j(fr)==="Float64Array"}a.isFloat64Array=Bt;function Ft(fr){return j(fr)==="BigInt64Array"}a.isBigInt64Array=Ft;function jt(fr){return j(fr)==="BigUint64Array"}a.isBigUint64Array=jt;function bt(fr){return it(fr)==="[object Map]"}bt.working=typeof Map<"u"&&bt(new Map);function vt(fr){return typeof Map>"u"?!1:bt.working?bt(fr):fr instanceof Map}a.isMap=vt;function ct(fr){return it(fr)==="[object Set]"}ct.working=typeof Set<"u"&&ct(new Set);function dt(fr){return typeof Set>"u"?!1:ct.working?ct(fr):fr instanceof Set}a.isSet=dt;function mt(fr){return it(fr)==="[object WeakMap]"}mt.working=typeof WeakMap<"u"&&mt(new WeakMap);function xt(fr){return typeof WeakMap>"u"?!1:mt.working?mt(fr):fr instanceof WeakMap}a.isWeakMap=xt;function At(fr){return it(fr)==="[object WeakSet]"}At.working=typeof WeakSet<"u"&&At(new WeakSet);function Rt(fr){return At(fr)}a.isWeakSet=Rt;function St(fr){return it(fr)==="[object ArrayBuffer]"}St.working=typeof ArrayBuffer<"u"&&St(new ArrayBuffer);function $t(fr){return typeof ArrayBuffer>"u"?!1:St.working?St(fr):fr instanceof ArrayBuffer}a.isArrayBuffer=$t;function Et(fr){return it(fr)==="[object DataView]"}Et.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&Et(new DataView(new ArrayBuffer(1),0,1));function Nt(fr){return typeof DataView>"u"?!1:Et.working?Et(fr):fr instanceof DataView}a.isDataView=Nt;var tr=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function ir(fr){return it(fr)==="[object SharedArrayBuffer]"}function nr(fr){return typeof tr>"u"?!1:(typeof ir.working>"u"&&(ir.working=ir(new tr)),ir.working?ir(fr):fr instanceof tr)}a.isSharedArrayBuffer=nr;function Zt(fr){return it(fr)==="[object AsyncFunction]"}a.isAsyncFunction=Zt;function Kt(fr){return it(fr)==="[object Map Iterator]"}a.isMapIterator=Kt;function Qt(fr){return it(fr)==="[object Set Iterator]"}a.isSetIterator=Qt;function Ht(fr){return it(fr)==="[object Generator]"}a.isGeneratorObject=Ht;function qt(fr){return it(fr)==="[object WebAssembly.Module]"}a.isWebAssemblyCompiledModule=qt;function Jt(fr){return yt(fr,st)}a.isNumberObject=Jt;function ur(fr){return yt(fr,ot)}a.isStringObject=ur;function xr(fr){return yt(fr,at)}a.isBooleanObject=xr;function pr(fr){return rt&&yt(fr,ut)}a.isBigIntObject=pr;function Cr(fr){return nt&&yt(fr,ht)}a.isSymbolObject=Cr;function Mr(fr){return Jt(fr)||ur(fr)||xr(fr)||pr(fr)||Cr(fr)}a.isBoxedPrimitive=Mr;function lr(fr){return typeof Uint8Array<"u"&&($t(fr)||nr(fr))}a.isAnyArrayBuffer=lr,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(fr){Object.defineProperty(a,fr,{enumerable:!1,value:function(){throw new Error(fr+" is not supported in userland")}})})})(types$1);var isBufferBrowser=function(_){return _&&typeof _=="object"&&typeof _.copy=="function"&&typeof _.fill=="function"&&typeof _.readUInt8=="function"};(function(a){var _={},$=Object.getOwnPropertyDescriptors||function(tr){for(var ir=Object.keys(tr),nr={},Zt=0;Zt<ir.length;Zt++)nr[ir[Zt]]=Object.getOwnPropertyDescriptor(tr,ir[Zt]);return nr},j=/%[sdj%]/g;a.format=function(Nt){if(!Ut(Nt)){for(var tr=[],ir=0;ir<arguments.length;ir++)tr.push(nt(arguments[ir]));return tr.join(" ")}for(var ir=1,nr=arguments,Zt=nr.length,Kt=String(Nt).replace(j,function(Ht){if(Ht==="%%")return"%";if(ir>=Zt)return Ht;switch(Ht){case"%s":return String(nr[ir++]);case"%d":return Number(nr[ir++]);case"%j":try{return JSON.stringify(nr[ir++])}catch{return"[Circular]"}default:return Ht}}),Qt=nr[ir];ir<Zt;Qt=nr[++ir])Mt(Qt)||!Ft(Qt)?Kt+=" "+Qt:Kt+=" "+nt(Qt);return Kt},a.deprecate=function(Nt,tr){if(typeof process$1$1<"u"&&process$1$1.noDeprecation===!0)return Nt;if(typeof process$1$1>"u")return function(){return a.deprecate(Nt,tr).apply(this,arguments)};var ir=!1;function nr(){if(!ir){if(process$1$1.throwDeprecation)throw new Error(tr);process$1$1.traceDeprecation?console.trace(tr):console.error(tr),ir=!0}return Nt.apply(this,arguments)}return nr};var et={},tt=/^$/;if(_.NODE_DEBUG){var rt=_.NODE_DEBUG;rt=rt.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),tt=new RegExp("^"+rt+"$","i")}a.debuglog=function(Nt){if(Nt=Nt.toUpperCase(),!et[Nt])if(tt.test(Nt)){var tr=process$1$1.pid;et[Nt]=function(){var ir=a.format.apply(a,arguments);console.error("%s %d: %s",Nt,tr,ir)}}else et[Nt]=function(){};return et[Nt]};function nt(Nt,tr){var ir={seen:[],stylize:st};return arguments.length>=3&&(ir.depth=arguments[2]),arguments.length>=4&&(ir.colors=arguments[3]),Tt(tr)?ir.showHidden=tr:tr&&a._extend(ir,tr),It(ir.showHidden)&&(ir.showHidden=!1),It(ir.depth)&&(ir.depth=2),It(ir.colors)&&(ir.colors=!1),It(ir.customInspect)&&(ir.customInspect=!0),ir.colors&&(ir.stylize=it),at(ir,Nt,ir.depth)}a.inspect=nt,nt.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},nt.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function it(Nt,tr){var ir=nt.styles[tr];return ir?"\x1B["+nt.colors[ir][0]+"m"+Nt+"\x1B["+nt.colors[ir][1]+"m":Nt}function st(Nt,tr){return Nt}function ot(Nt){var tr={};return Nt.forEach(function(ir,nr){tr[ir]=!0}),tr}function at(Nt,tr,ir){if(Nt.customInspect&&tr&&vt(tr.inspect)&&tr.inspect!==a.inspect&&!(tr.constructor&&tr.constructor.prototype===tr)){var nr=tr.inspect(ir,Nt);return Ut(nr)||(nr=at(Nt,nr,ir)),nr}var Zt=ut(Nt,tr);if(Zt)return Zt;var Kt=Object.keys(tr),Qt=ot(Kt);if(Nt.showHidden&&(Kt=Object.getOwnPropertyNames(tr)),bt(tr)&&(Kt.indexOf("message")>=0||Kt.indexOf("description")>=0))return ht(tr);if(Kt.length===0){if(vt(tr)){var Ht=tr.name?": "+tr.name:"";return Nt.stylize("[Function"+Ht+"]","special")}if(Bt(tr))return Nt.stylize(RegExp.prototype.toString.call(tr),"regexp");if(jt(tr))return Nt.stylize(Date.prototype.toString.call(tr),"date");if(bt(tr))return ht(tr)}var qt="",Jt=!1,ur=["{","}"];if(Pt(tr)&&(Jt=!0,ur=["[","]"]),vt(tr)){var xr=tr.name?": "+tr.name:"";qt=" [Function"+xr+"]"}if(Bt(tr)&&(qt=" "+RegExp.prototype.toString.call(tr)),jt(tr)&&(qt=" "+Date.prototype.toUTCString.call(tr)),bt(tr)&&(qt=" "+ht(tr)),Kt.length===0&&(!Jt||tr.length==0))return ur[0]+qt+ur[1];if(ir<0)return Bt(tr)?Nt.stylize(RegExp.prototype.toString.call(tr),"regexp"):Nt.stylize("[Object]","special");Nt.seen.push(tr);var pr;return Jt?pr=yt(Nt,tr,ir,Qt,Kt):pr=Kt.map(function(Cr){return wt(Nt,tr,ir,Qt,Cr,Jt)}),Nt.seen.pop(),Ct(pr,qt,ur)}function ut(Nt,tr){if(It(tr))return Nt.stylize("undefined","undefined");if(Ut(tr)){var ir="'"+JSON.stringify(tr).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return Nt.stylize(ir,"string")}if(Dt(tr))return Nt.stylize(""+tr,"number");if(Tt(tr))return Nt.stylize(""+tr,"boolean");if(Mt(tr))return Nt.stylize("null","null")}function ht(Nt){return"["+Error.prototype.toString.call(Nt)+"]"}function yt(Nt,tr,ir,nr,Zt){for(var Kt=[],Qt=0,Ht=tr.length;Qt<Ht;++Qt)Rt(tr,String(Qt))?Kt.push(wt(Nt,tr,ir,nr,String(Qt),!0)):Kt.push("");return Zt.forEach(function(qt){qt.match(/^\d+$/)||Kt.push(wt(Nt,tr,ir,nr,qt,!0))}),Kt}function wt(Nt,tr,ir,nr,Zt,Kt){var Qt,Ht,qt;if(qt=Object.getOwnPropertyDescriptor(tr,Zt)||{value:tr[Zt]},qt.get?qt.set?Ht=Nt.stylize("[Getter/Setter]","special"):Ht=Nt.stylize("[Getter]","special"):qt.set&&(Ht=Nt.stylize("[Setter]","special")),Rt(nr,Zt)||(Qt="["+Zt+"]"),Ht||(Nt.seen.indexOf(qt.value)<0?(Mt(ir)?Ht=at(Nt,qt.value,null):Ht=at(Nt,qt.value,ir-1),Ht.indexOf(`
`)>-1&&(Kt?Ht=Ht.split(`
`).map(function(Jt){return"  "+Jt}).join(`
`).slice(2):Ht=`
`+Ht.split(`
`).map(function(Jt){return"   "+Jt}).join(`
`))):Ht=Nt.stylize("[Circular]","special")),It(Qt)){if(Kt&&Zt.match(/^\d+$/))return Ht;Qt=JSON.stringify(""+Zt),Qt.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(Qt=Qt.slice(1,-1),Qt=Nt.stylize(Qt,"name")):(Qt=Qt.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),Qt=Nt.stylize(Qt,"string"))}return Qt+": "+Ht}function Ct(Nt,tr,ir){var nr=Nt.reduce(function(Zt,Kt){return Kt.indexOf(`
`)>=0,Zt+Kt.replace(/\u001b\[\d\d?m/g,"").length+1},0);return nr>60?ir[0]+(tr===""?"":tr+`
 `)+" "+Nt.join(`,
  `)+" "+ir[1]:ir[0]+tr+" "+Nt.join(", ")+" "+ir[1]}a.types=types$1;function Pt(Nt){return Array.isArray(Nt)}a.isArray=Pt;function Tt(Nt){return typeof Nt=="boolean"}a.isBoolean=Tt;function Mt(Nt){return Nt===null}a.isNull=Mt;function Lt(Nt){return Nt==null}a.isNullOrUndefined=Lt;function Dt(Nt){return typeof Nt=="number"}a.isNumber=Dt;function Ut(Nt){return typeof Nt=="string"}a.isString=Ut;function Ot(Nt){return typeof Nt=="symbol"}a.isSymbol=Ot;function It(Nt){return Nt===void 0}a.isUndefined=It;function Bt(Nt){return Ft(Nt)&&dt(Nt)==="[object RegExp]"}a.isRegExp=Bt,a.types.isRegExp=Bt;function Ft(Nt){return typeof Nt=="object"&&Nt!==null}a.isObject=Ft;function jt(Nt){return Ft(Nt)&&dt(Nt)==="[object Date]"}a.isDate=jt,a.types.isDate=jt;function bt(Nt){return Ft(Nt)&&(dt(Nt)==="[object Error]"||Nt instanceof Error)}a.isError=bt,a.types.isNativeError=bt;function vt(Nt){return typeof Nt=="function"}a.isFunction=vt;function ct(Nt){return Nt===null||typeof Nt=="boolean"||typeof Nt=="number"||typeof Nt=="string"||typeof Nt=="symbol"||typeof Nt>"u"}a.isPrimitive=ct,a.isBuffer=isBufferBrowser;function dt(Nt){return Object.prototype.toString.call(Nt)}function mt(Nt){return Nt<10?"0"+Nt.toString(10):Nt.toString(10)}var xt=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function At(){var Nt=new Date,tr=[mt(Nt.getHours()),mt(Nt.getMinutes()),mt(Nt.getSeconds())].join(":");return[Nt.getDate(),xt[Nt.getMonth()],tr].join(" ")}a.log=function(){console.log("%s - %s",At(),a.format.apply(a,arguments))},a.inherits=inherits_browserExports,a._extend=function(Nt,tr){if(!tr||!Ft(tr))return Nt;for(var ir=Object.keys(tr),nr=ir.length;nr--;)Nt[ir[nr]]=tr[ir[nr]];return Nt};function Rt(Nt,tr){return Object.prototype.hasOwnProperty.call(Nt,tr)}var St=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;a.promisify=function(tr){if(typeof tr!="function")throw new TypeError('The "original" argument must be of type Function');if(St&&tr[St]){var ir=tr[St];if(typeof ir!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(ir,St,{value:ir,enumerable:!1,writable:!1,configurable:!0}),ir}function ir(){for(var nr,Zt,Kt=new Promise(function(qt,Jt){nr=qt,Zt=Jt}),Qt=[],Ht=0;Ht<arguments.length;Ht++)Qt.push(arguments[Ht]);Qt.push(function(qt,Jt){qt?Zt(qt):nr(Jt)});try{tr.apply(this,Qt)}catch(qt){Zt(qt)}return Kt}return Object.setPrototypeOf(ir,Object.getPrototypeOf(tr)),St&&Object.defineProperty(ir,St,{value:ir,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(ir,$(tr))},a.promisify.custom=St;function $t(Nt,tr){if(!Nt){var ir=new Error("Promise was rejected with a falsy value");ir.reason=Nt,Nt=ir}return tr(Nt)}function Et(Nt){if(typeof Nt!="function")throw new TypeError('The "original" argument must be of type Function');function tr(){for(var ir=[],nr=0;nr<arguments.length;nr++)ir.push(arguments[nr]);var Zt=ir.pop();if(typeof Zt!="function")throw new TypeError("The last argument must be of type Function");var Kt=this,Qt=function(){return Zt.apply(Kt,arguments)};Nt.apply(this,ir).then(function(Ht){process$1$1.nextTick(Qt.bind(null,null,Ht))},function(Ht){process$1$1.nextTick($t.bind(null,Ht,Qt))})}return Object.setPrototypeOf(tr,Object.getPrototypeOf(Nt)),Object.defineProperties(tr,$(Nt)),tr}a.callbackify=Et})(util$5);var buffer_list,hasRequiredBuffer_list;function requireBuffer_list(){if(hasRequiredBuffer_list)return buffer_list;hasRequiredBuffer_list=1;function a(yt,wt){var Ct=Object.keys(yt);if(Object.getOwnPropertySymbols){var Pt=Object.getOwnPropertySymbols(yt);wt&&(Pt=Pt.filter(function(Tt){return Object.getOwnPropertyDescriptor(yt,Tt).enumerable})),Ct.push.apply(Ct,Pt)}return Ct}function _(yt){for(var wt=1;wt<arguments.length;wt++){var Ct=arguments[wt]!=null?arguments[wt]:{};wt%2?a(Object(Ct),!0).forEach(function(Pt){$(yt,Pt,Ct[Pt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(yt,Object.getOwnPropertyDescriptors(Ct)):a(Object(Ct)).forEach(function(Pt){Object.defineProperty(yt,Pt,Object.getOwnPropertyDescriptor(Ct,Pt))})}return yt}function $(yt,wt,Ct){return wt=rt(wt),wt in yt?Object.defineProperty(yt,wt,{value:Ct,enumerable:!0,configurable:!0,writable:!0}):yt[wt]=Ct,yt}function j(yt,wt){if(!(yt instanceof wt))throw new TypeError("Cannot call a class as a function")}function et(yt,wt){for(var Ct=0;Ct<wt.length;Ct++){var Pt=wt[Ct];Pt.enumerable=Pt.enumerable||!1,Pt.configurable=!0,"value"in Pt&&(Pt.writable=!0),Object.defineProperty(yt,rt(Pt.key),Pt)}}function tt(yt,wt,Ct){return wt&&et(yt.prototype,wt),Object.defineProperty(yt,"prototype",{writable:!1}),yt}function rt(yt){var wt=nt(yt,"string");return typeof wt=="symbol"?wt:String(wt)}function nt(yt,wt){if(typeof yt!="object"||yt===null)return yt;var Ct=yt[Symbol.toPrimitive];if(Ct!==void 0){var Pt=Ct.call(yt,wt||"default");if(typeof Pt!="object")return Pt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(wt==="string"?String:Number)(yt)}var it=buffer$1,st=it.Buffer,ot=util$5,at=ot.inspect,ut=at&&at.custom||"inspect";function ht(yt,wt,Ct){st.prototype.copy.call(yt,wt,Ct)}return buffer_list=function(){function yt(){j(this,yt),this.head=null,this.tail=null,this.length=0}return tt(yt,[{key:"push",value:function(Ct){var Pt={data:Ct,next:null};this.length>0?this.tail.next=Pt:this.head=Pt,this.tail=Pt,++this.length}},{key:"unshift",value:function(Ct){var Pt={data:Ct,next:this.head};this.length===0&&(this.tail=Pt),this.head=Pt,++this.length}},{key:"shift",value:function(){if(this.length!==0){var Ct=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,Ct}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(Ct){if(this.length===0)return"";for(var Pt=this.head,Tt=""+Pt.data;Pt=Pt.next;)Tt+=Ct+Pt.data;return Tt}},{key:"concat",value:function(Ct){if(this.length===0)return st.alloc(0);for(var Pt=st.allocUnsafe(Ct>>>0),Tt=this.head,Mt=0;Tt;)ht(Tt.data,Pt,Mt),Mt+=Tt.data.length,Tt=Tt.next;return Pt}},{key:"consume",value:function(Ct,Pt){var Tt;return Ct<this.head.data.length?(Tt=this.head.data.slice(0,Ct),this.head.data=this.head.data.slice(Ct)):Ct===this.head.data.length?Tt=this.shift():Tt=Pt?this._getString(Ct):this._getBuffer(Ct),Tt}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(Ct){var Pt=this.head,Tt=1,Mt=Pt.data;for(Ct-=Mt.length;Pt=Pt.next;){var Lt=Pt.data,Dt=Ct>Lt.length?Lt.length:Ct;if(Dt===Lt.length?Mt+=Lt:Mt+=Lt.slice(0,Ct),Ct-=Dt,Ct===0){Dt===Lt.length?(++Tt,Pt.next?this.head=Pt.next:this.head=this.tail=null):(this.head=Pt,Pt.data=Lt.slice(Dt));break}++Tt}return this.length-=Tt,Mt}},{key:"_getBuffer",value:function(Ct){var Pt=st.allocUnsafe(Ct),Tt=this.head,Mt=1;for(Tt.data.copy(Pt),Ct-=Tt.data.length;Tt=Tt.next;){var Lt=Tt.data,Dt=Ct>Lt.length?Lt.length:Ct;if(Lt.copy(Pt,Pt.length-Ct,0,Dt),Ct-=Dt,Ct===0){Dt===Lt.length?(++Mt,Tt.next?this.head=Tt.next:this.head=this.tail=null):(this.head=Tt,Tt.data=Lt.slice(Dt));break}++Mt}return this.length-=Mt,Pt}},{key:ut,value:function(Ct,Pt){return at(this,_(_({},Pt),{},{depth:0,customInspect:!1}))}}]),yt}(),buffer_list}function destroy(a,_){var $=this,j=this._readableState&&this._readableState.destroyed,et=this._writableState&&this._writableState.destroyed;return j||et?(_?_(a):a&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process$1$1.nextTick(emitErrorNT,this,a)):process$1$1.nextTick(emitErrorNT,this,a)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(a||null,function(tt){!_&&tt?$._writableState?$._writableState.errorEmitted?process$1$1.nextTick(emitCloseNT,$):($._writableState.errorEmitted=!0,process$1$1.nextTick(emitErrorAndCloseNT,$,tt)):process$1$1.nextTick(emitErrorAndCloseNT,$,tt):_?(process$1$1.nextTick(emitCloseNT,$),_(tt)):process$1$1.nextTick(emitCloseNT,$)}),this)}function emitErrorAndCloseNT(a,_){emitErrorNT(a,_),emitCloseNT(a)}function emitCloseNT(a){a._writableState&&!a._writableState.emitClose||a._readableState&&!a._readableState.emitClose||a.emit("close")}function undestroy(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function emitErrorNT(a,_){a.emit("error",_)}function errorOrDestroy(a,_){var $=a._readableState,j=a._writableState;$&&$.autoDestroy||j&&j.autoDestroy?a.destroy(_):a.emit("error",_)}var destroy_1$1={destroy,undestroy,errorOrDestroy},errorsBrowser={};function _inheritsLoose(a,_){a.prototype=Object.create(_.prototype),a.prototype.constructor=a,a.__proto__=_}var codes={};function createErrorType(a,_,$){$||($=Error);function j(tt,rt,nt){return typeof _=="string"?_:_(tt,rt,nt)}var et=function(tt){_inheritsLoose(rt,tt);function rt(nt,it,st){return tt.call(this,j(nt,it,st))||this}return rt}($);et.prototype.name=$.name,et.prototype.code=a,codes[a]=et}function oneOf(a,_){if(Array.isArray(a)){var $=a.length;return a=a.map(function(j){return String(j)}),$>2?"one of ".concat(_," ").concat(a.slice(0,$-1).join(", "),", or ")+a[$-1]:$===2?"one of ".concat(_," ").concat(a[0]," or ").concat(a[1]):"of ".concat(_," ").concat(a[0])}else return"of ".concat(_," ").concat(String(a))}function startsWith(a,_,$){return a.substr(0,_.length)===_}function endsWith$2(a,_,$){return($===void 0||$>a.length)&&($=a.length),a.substring($-_.length,$)===_}function includes(a,_,$){return typeof $!="number"&&($=0),$+_.length>a.length?!1:a.indexOf(_,$)!==-1}createErrorType("ERR_INVALID_OPT_VALUE",function(a,_){return'The value "'+_+'" is invalid for option "'+a+'"'},TypeError);createErrorType("ERR_INVALID_ARG_TYPE",function(a,_,$){var j;typeof _=="string"&&startsWith(_,"not ")?(j="must not be",_=_.replace(/^not /,"")):j="must be";var et;if(endsWith$2(a," argument"))et="The ".concat(a," ").concat(j," ").concat(oneOf(_,"type"));else{var tt=includes(a,".")?"property":"argument";et='The "'.concat(a,'" ').concat(tt," ").concat(j," ").concat(oneOf(_,"type"))}return et+=". Received type ".concat(typeof $),et},TypeError);createErrorType("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");createErrorType("ERR_METHOD_NOT_IMPLEMENTED",function(a){return"The "+a+" method is not implemented"});createErrorType("ERR_STREAM_PREMATURE_CLOSE","Premature close");createErrorType("ERR_STREAM_DESTROYED",function(a){return"Cannot call "+a+" after a stream was destroyed"});createErrorType("ERR_MULTIPLE_CALLBACK","Callback called multiple times");createErrorType("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");createErrorType("ERR_STREAM_WRITE_AFTER_END","write after end");createErrorType("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);createErrorType("ERR_UNKNOWN_ENCODING",function(a){return"Unknown encoding: "+a},TypeError);createErrorType("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");errorsBrowser.codes=codes;var ERR_INVALID_OPT_VALUE=errorsBrowser.codes.ERR_INVALID_OPT_VALUE;function highWaterMarkFrom(a,_,$){return a.highWaterMark!=null?a.highWaterMark:_?a[$]:null}function getHighWaterMark(a,_,$,j){var et=highWaterMarkFrom(_,j,$);if(et!=null){if(!(isFinite(et)&&Math.floor(et)===et)||et<0){var tt=j?$:"highWaterMark";throw new ERR_INVALID_OPT_VALUE(tt,et)}return Math.floor(et)}return a.objectMode?16:16*1024}var state={getHighWaterMark},browser$c=deprecate;function deprecate(a,_){if(config$3("noDeprecation"))return a;var $=!1;function j(){if(!$){if(config$3("throwDeprecation"))throw new Error(_);config$3("traceDeprecation")?console.trace(_):console.warn(_),$=!0}return a.apply(this,arguments)}return j}function config$3(a){try{if(!commonjsGlobal.localStorage)return!1}catch{return!1}var _=commonjsGlobal.localStorage[a];return _==null?!1:String(_).toLowerCase()==="true"}var _stream_writable$1,hasRequired_stream_writable$1;function require_stream_writable$1(){if(hasRequired_stream_writable$1)return _stream_writable$1;hasRequired_stream_writable$1=1,_stream_writable$1=It;function a(nr){var Zt=this;this.next=null,this.entry=null,this.finish=function(){ir(Zt,nr)}}var _;It.WritableState=Ut;var $={deprecate:browser$c},j=streamBrowser$1,et=buffer$1.Buffer,tt=(typeof commonjsGlobal<"u"?commonjsGlobal:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function rt(nr){return et.from(nr)}function nt(nr){return et.isBuffer(nr)||nr instanceof tt}var it=destroy_1$1,st=state,ot=st.getHighWaterMark,at=errorsBrowser.codes,ut=at.ERR_INVALID_ARG_TYPE,ht=at.ERR_METHOD_NOT_IMPLEMENTED,yt=at.ERR_MULTIPLE_CALLBACK,wt=at.ERR_STREAM_CANNOT_PIPE,Ct=at.ERR_STREAM_DESTROYED,Pt=at.ERR_STREAM_NULL_VALUES,Tt=at.ERR_STREAM_WRITE_AFTER_END,Mt=at.ERR_UNKNOWN_ENCODING,Lt=it.errorOrDestroy;inherits_browserExports(It,j);function Dt(){}function Ut(nr,Zt,Kt){_=_||require_stream_duplex$1(),nr=nr||{},typeof Kt!="boolean"&&(Kt=Zt instanceof _),this.objectMode=!!nr.objectMode,Kt&&(this.objectMode=this.objectMode||!!nr.writableObjectMode),this.highWaterMark=ot(this,nr,"writableHighWaterMark",Kt),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var Qt=nr.decodeStrings===!1;this.decodeStrings=!Qt,this.defaultEncoding=nr.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(Ht){mt(Zt,Ht)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=nr.emitClose!==!1,this.autoDestroy=!!nr.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new a(this)}Ut.prototype.getBuffer=function(){for(var Zt=this.bufferedRequest,Kt=[];Zt;)Kt.push(Zt),Zt=Zt.next;return Kt},function(){try{Object.defineProperty(Ut.prototype,"buffer",{get:$.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var Ot;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(Ot=Function.prototype[Symbol.hasInstance],Object.defineProperty(It,Symbol.hasInstance,{value:function(Zt){return Ot.call(this,Zt)?!0:this!==It?!1:Zt&&Zt._writableState instanceof Ut}})):Ot=function(Zt){return Zt instanceof this};function It(nr){_=_||require_stream_duplex$1();var Zt=this instanceof _;if(!Zt&&!Ot.call(It,this))return new It(nr);this._writableState=new Ut(nr,this,Zt),this.writable=!0,nr&&(typeof nr.write=="function"&&(this._write=nr.write),typeof nr.writev=="function"&&(this._writev=nr.writev),typeof nr.destroy=="function"&&(this._destroy=nr.destroy),typeof nr.final=="function"&&(this._final=nr.final)),j.call(this)}It.prototype.pipe=function(){Lt(this,new wt)};function Bt(nr,Zt){var Kt=new Tt;Lt(nr,Kt),process$1$1.nextTick(Zt,Kt)}function Ft(nr,Zt,Kt,Qt){var Ht;return Kt===null?Ht=new Pt:typeof Kt!="string"&&!Zt.objectMode&&(Ht=new ut("chunk",["string","Buffer"],Kt)),Ht?(Lt(nr,Ht),process$1$1.nextTick(Qt,Ht),!1):!0}It.prototype.write=function(nr,Zt,Kt){var Qt=this._writableState,Ht=!1,qt=!Qt.objectMode&&nt(nr);return qt&&!et.isBuffer(nr)&&(nr=rt(nr)),typeof Zt=="function"&&(Kt=Zt,Zt=null),qt?Zt="buffer":Zt||(Zt=Qt.defaultEncoding),typeof Kt!="function"&&(Kt=Dt),Qt.ending?Bt(this,Kt):(qt||Ft(this,Qt,nr,Kt))&&(Qt.pendingcb++,Ht=bt(this,Qt,qt,nr,Zt,Kt)),Ht},It.prototype.cork=function(){this._writableState.corked++},It.prototype.uncork=function(){var nr=this._writableState;nr.corked&&(nr.corked--,!nr.writing&&!nr.corked&&!nr.bufferProcessing&&nr.bufferedRequest&&Rt(this,nr))},It.prototype.setDefaultEncoding=function(Zt){if(typeof Zt=="string"&&(Zt=Zt.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((Zt+"").toLowerCase())>-1))throw new Mt(Zt);return this._writableState.defaultEncoding=Zt,this},Object.defineProperty(It.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function jt(nr,Zt,Kt){return!nr.objectMode&&nr.decodeStrings!==!1&&typeof Zt=="string"&&(Zt=et.from(Zt,Kt)),Zt}Object.defineProperty(It.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function bt(nr,Zt,Kt,Qt,Ht,qt){if(!Kt){var Jt=jt(Zt,Qt,Ht);Qt!==Jt&&(Kt=!0,Ht="buffer",Qt=Jt)}var ur=Zt.objectMode?1:Qt.length;Zt.length+=ur;var xr=Zt.length<Zt.highWaterMark;if(xr||(Zt.needDrain=!0),Zt.writing||Zt.corked){var pr=Zt.lastBufferedRequest;Zt.lastBufferedRequest={chunk:Qt,encoding:Ht,isBuf:Kt,callback:qt,next:null},pr?pr.next=Zt.lastBufferedRequest:Zt.bufferedRequest=Zt.lastBufferedRequest,Zt.bufferedRequestCount+=1}else vt(nr,Zt,!1,ur,Qt,Ht,qt);return xr}function vt(nr,Zt,Kt,Qt,Ht,qt,Jt){Zt.writelen=Qt,Zt.writecb=Jt,Zt.writing=!0,Zt.sync=!0,Zt.destroyed?Zt.onwrite(new Ct("write")):Kt?nr._writev(Ht,Zt.onwrite):nr._write(Ht,qt,Zt.onwrite),Zt.sync=!1}function ct(nr,Zt,Kt,Qt,Ht){--Zt.pendingcb,Kt?(process$1$1.nextTick(Ht,Qt),process$1$1.nextTick(Nt,nr,Zt),nr._writableState.errorEmitted=!0,Lt(nr,Qt)):(Ht(Qt),nr._writableState.errorEmitted=!0,Lt(nr,Qt),Nt(nr,Zt))}function dt(nr){nr.writing=!1,nr.writecb=null,nr.length-=nr.writelen,nr.writelen=0}function mt(nr,Zt){var Kt=nr._writableState,Qt=Kt.sync,Ht=Kt.writecb;if(typeof Ht!="function")throw new yt;if(dt(Kt),Zt)ct(nr,Kt,Qt,Zt,Ht);else{var qt=St(Kt)||nr.destroyed;!qt&&!Kt.corked&&!Kt.bufferProcessing&&Kt.bufferedRequest&&Rt(nr,Kt),Qt?process$1$1.nextTick(xt,nr,Kt,qt,Ht):xt(nr,Kt,qt,Ht)}}function xt(nr,Zt,Kt,Qt){Kt||At(nr,Zt),Zt.pendingcb--,Qt(),Nt(nr,Zt)}function At(nr,Zt){Zt.length===0&&Zt.needDrain&&(Zt.needDrain=!1,nr.emit("drain"))}function Rt(nr,Zt){Zt.bufferProcessing=!0;var Kt=Zt.bufferedRequest;if(nr._writev&&Kt&&Kt.next){var Qt=Zt.bufferedRequestCount,Ht=new Array(Qt),qt=Zt.corkedRequestsFree;qt.entry=Kt;for(var Jt=0,ur=!0;Kt;)Ht[Jt]=Kt,Kt.isBuf||(ur=!1),Kt=Kt.next,Jt+=1;Ht.allBuffers=ur,vt(nr,Zt,!0,Zt.length,Ht,"",qt.finish),Zt.pendingcb++,Zt.lastBufferedRequest=null,qt.next?(Zt.corkedRequestsFree=qt.next,qt.next=null):Zt.corkedRequestsFree=new a(Zt),Zt.bufferedRequestCount=0}else{for(;Kt;){var xr=Kt.chunk,pr=Kt.encoding,Cr=Kt.callback,Mr=Zt.objectMode?1:xr.length;if(vt(nr,Zt,!1,Mr,xr,pr,Cr),Kt=Kt.next,Zt.bufferedRequestCount--,Zt.writing)break}Kt===null&&(Zt.lastBufferedRequest=null)}Zt.bufferedRequest=Kt,Zt.bufferProcessing=!1}It.prototype._write=function(nr,Zt,Kt){Kt(new ht("_write()"))},It.prototype._writev=null,It.prototype.end=function(nr,Zt,Kt){var Qt=this._writableState;return typeof nr=="function"?(Kt=nr,nr=null,Zt=null):typeof Zt=="function"&&(Kt=Zt,Zt=null),nr!=null&&this.write(nr,Zt),Qt.corked&&(Qt.corked=1,this.uncork()),Qt.ending||tr(this,Qt,Kt),this},Object.defineProperty(It.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function St(nr){return nr.ending&&nr.length===0&&nr.bufferedRequest===null&&!nr.finished&&!nr.writing}function $t(nr,Zt){nr._final(function(Kt){Zt.pendingcb--,Kt&&Lt(nr,Kt),Zt.prefinished=!0,nr.emit("prefinish"),Nt(nr,Zt)})}function Et(nr,Zt){!Zt.prefinished&&!Zt.finalCalled&&(typeof nr._final=="function"&&!Zt.destroyed?(Zt.pendingcb++,Zt.finalCalled=!0,process$1$1.nextTick($t,nr,Zt)):(Zt.prefinished=!0,nr.emit("prefinish")))}function Nt(nr,Zt){var Kt=St(Zt);if(Kt&&(Et(nr,Zt),Zt.pendingcb===0&&(Zt.finished=!0,nr.emit("finish"),Zt.autoDestroy))){var Qt=nr._readableState;(!Qt||Qt.autoDestroy&&Qt.endEmitted)&&nr.destroy()}return Kt}function tr(nr,Zt,Kt){Zt.ending=!0,Nt(nr,Zt),Kt&&(Zt.finished?process$1$1.nextTick(Kt):nr.once("finish",Kt)),Zt.ended=!0,nr.writable=!1}function ir(nr,Zt,Kt){var Qt=nr.entry;for(nr.entry=null;Qt;){var Ht=Qt.callback;Zt.pendingcb--,Ht(Kt),Qt=Qt.next}Zt.corkedRequestsFree.next=nr}return Object.defineProperty(It.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(Zt){this._writableState&&(this._writableState.destroyed=Zt)}}),It.prototype.destroy=it.destroy,It.prototype._undestroy=it.undestroy,It.prototype._destroy=function(nr,Zt){Zt(nr)},_stream_writable$1}var _stream_duplex$1,hasRequired_stream_duplex$1;function require_stream_duplex$1(){if(hasRequired_stream_duplex$1)return _stream_duplex$1;hasRequired_stream_duplex$1=1;var a=Object.keys||function(st){var ot=[];for(var at in st)ot.push(at);return ot};_stream_duplex$1=rt;var _=require_stream_readable$1(),$=require_stream_writable$1();inherits_browserExports(rt,_);for(var j=a($.prototype),et=0;et<j.length;et++){var tt=j[et];rt.prototype[tt]||(rt.prototype[tt]=$.prototype[tt])}function rt(st){if(!(this instanceof rt))return new rt(st);_.call(this,st),$.call(this,st),this.allowHalfOpen=!0,st&&(st.readable===!1&&(this.readable=!1),st.writable===!1&&(this.writable=!1),st.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",nt)))}Object.defineProperty(rt.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(rt.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(rt.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function nt(){this._writableState.ended||process$1$1.nextTick(it,this)}function it(st){st.end()}return Object.defineProperty(rt.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(ot){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=ot,this._writableState.destroyed=ot)}}),_stream_duplex$1}var string_decoder$1={},Buffer$f=safeBufferExports.Buffer,isEncoding=Buffer$f.isEncoding||function(a){switch(a=""+a,a&&a.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function _normalizeEncoding(a){if(!a)return"utf8";for(var _;;)switch(a){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return a;default:if(_)return;a=(""+a).toLowerCase(),_=!0}}function normalizeEncoding(a){var _=_normalizeEncoding(a);if(typeof _!="string"&&(Buffer$f.isEncoding===isEncoding||!isEncoding(a)))throw new Error("Unknown encoding: "+a);return _||a}string_decoder$1.StringDecoder=StringDecoder$1;function StringDecoder$1(a){this.encoding=normalizeEncoding(a);var _;switch(this.encoding){case"utf16le":this.text=utf16Text,this.end=utf16End,_=4;break;case"utf8":this.fillLast=utf8FillLast,_=4;break;case"base64":this.text=base64Text,this.end=base64End,_=3;break;default:this.write=simpleWrite,this.end=simpleEnd;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=Buffer$f.allocUnsafe(_)}StringDecoder$1.prototype.write=function(a){if(a.length===0)return"";var _,$;if(this.lastNeed){if(_=this.fillLast(a),_===void 0)return"";$=this.lastNeed,this.lastNeed=0}else $=0;return $<a.length?_?_+this.text(a,$):this.text(a,$):_||""};StringDecoder$1.prototype.end=utf8End;StringDecoder$1.prototype.text=utf8Text;StringDecoder$1.prototype.fillLast=function(a){if(this.lastNeed<=a.length)return a.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);a.copy(this.lastChar,this.lastTotal-this.lastNeed,0,a.length),this.lastNeed-=a.length};function utf8CheckByte(a){return a<=127?0:a>>5===6?2:a>>4===14?3:a>>3===30?4:a>>6===2?-1:-2}function utf8CheckIncomplete(a,_,$){var j=_.length-1;if(j<$)return 0;var et=utf8CheckByte(_[j]);return et>=0?(et>0&&(a.lastNeed=et-1),et):--j<$||et===-2?0:(et=utf8CheckByte(_[j]),et>=0?(et>0&&(a.lastNeed=et-2),et):--j<$||et===-2?0:(et=utf8CheckByte(_[j]),et>=0?(et>0&&(et===2?et=0:a.lastNeed=et-3),et):0))}function utf8CheckExtraBytes(a,_,$){if((_[0]&192)!==128)return a.lastNeed=0,"�";if(a.lastNeed>1&&_.length>1){if((_[1]&192)!==128)return a.lastNeed=1,"�";if(a.lastNeed>2&&_.length>2&&(_[2]&192)!==128)return a.lastNeed=2,"�"}}function utf8FillLast(a){var _=this.lastTotal-this.lastNeed,$=utf8CheckExtraBytes(this,a);if($!==void 0)return $;if(this.lastNeed<=a.length)return a.copy(this.lastChar,_,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);a.copy(this.lastChar,_,0,a.length),this.lastNeed-=a.length}function utf8Text(a,_){var $=utf8CheckIncomplete(this,a,_);if(!this.lastNeed)return a.toString("utf8",_);this.lastTotal=$;var j=a.length-($-this.lastNeed);return a.copy(this.lastChar,0,j),a.toString("utf8",_,j)}function utf8End(a){var _=a&&a.length?this.write(a):"";return this.lastNeed?_+"�":_}function utf16Text(a,_){if((a.length-_)%2===0){var $=a.toString("utf16le",_);if($){var j=$.charCodeAt($.length-1);if(j>=55296&&j<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=a[a.length-2],this.lastChar[1]=a[a.length-1],$.slice(0,-1)}return $}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=a[a.length-1],a.toString("utf16le",_,a.length-1)}function utf16End(a){var _=a&&a.length?this.write(a):"";if(this.lastNeed){var $=this.lastTotal-this.lastNeed;return _+this.lastChar.toString("utf16le",0,$)}return _}function base64Text(a,_){var $=(a.length-_)%3;return $===0?a.toString("base64",_):(this.lastNeed=3-$,this.lastTotal=3,$===1?this.lastChar[0]=a[a.length-1]:(this.lastChar[0]=a[a.length-2],this.lastChar[1]=a[a.length-1]),a.toString("base64",_,a.length-$))}function base64End(a){var _=a&&a.length?this.write(a):"";return this.lastNeed?_+this.lastChar.toString("base64",0,3-this.lastNeed):_}function simpleWrite(a){return a.toString(this.encoding)}function simpleEnd(a){return a&&a.length?this.write(a):""}var ERR_STREAM_PREMATURE_CLOSE=errorsBrowser.codes.ERR_STREAM_PREMATURE_CLOSE;function once$1(a){var _=!1;return function(){if(!_){_=!0;for(var $=arguments.length,j=new Array($),et=0;et<$;et++)j[et]=arguments[et];a.apply(this,j)}}}function noop$9(){}function isRequest$1(a){return a.setHeader&&typeof a.abort=="function"}function eos$1(a,_,$){if(typeof _=="function")return eos$1(a,null,_);_||(_={}),$=once$1($||noop$9);var j=_.readable||_.readable!==!1&&a.readable,et=_.writable||_.writable!==!1&&a.writable,tt=function(){a.writable||nt()},rt=a._writableState&&a._writableState.finished,nt=function(){et=!1,rt=!0,j||$.call(a)},it=a._readableState&&a._readableState.endEmitted,st=function(){j=!1,it=!0,et||$.call(a)},ot=function(yt){$.call(a,yt)},at=function(){var yt;if(j&&!it)return(!a._readableState||!a._readableState.ended)&&(yt=new ERR_STREAM_PREMATURE_CLOSE),$.call(a,yt);if(et&&!rt)return(!a._writableState||!a._writableState.ended)&&(yt=new ERR_STREAM_PREMATURE_CLOSE),$.call(a,yt)},ut=function(){a.req.on("finish",nt)};return isRequest$1(a)?(a.on("complete",nt),a.on("abort",at),a.req?ut():a.on("request",ut)):et&&!a._writableState&&(a.on("end",tt),a.on("close",tt)),a.on("end",st),a.on("finish",nt),_.error!==!1&&a.on("error",ot),a.on("close",at),function(){a.removeListener("complete",nt),a.removeListener("abort",at),a.removeListener("request",ut),a.req&&a.req.removeListener("finish",nt),a.removeListener("end",tt),a.removeListener("close",tt),a.removeListener("finish",nt),a.removeListener("end",st),a.removeListener("error",ot),a.removeListener("close",at)}}var endOfStream=eos$1,async_iterator,hasRequiredAsync_iterator;function requireAsync_iterator(){if(hasRequiredAsync_iterator)return async_iterator;hasRequiredAsync_iterator=1;var a;function _(Mt,Lt,Dt){return Lt=$(Lt),Lt in Mt?Object.defineProperty(Mt,Lt,{value:Dt,enumerable:!0,configurable:!0,writable:!0}):Mt[Lt]=Dt,Mt}function $(Mt){var Lt=j(Mt,"string");return typeof Lt=="symbol"?Lt:String(Lt)}function j(Mt,Lt){if(typeof Mt!="object"||Mt===null)return Mt;var Dt=Mt[Symbol.toPrimitive];if(Dt!==void 0){var Ut=Dt.call(Mt,Lt||"default");if(typeof Ut!="object")return Ut;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Lt==="string"?String:Number)(Mt)}var et=endOfStream,tt=Symbol("lastResolve"),rt=Symbol("lastReject"),nt=Symbol("error"),it=Symbol("ended"),st=Symbol("lastPromise"),ot=Symbol("handlePromise"),at=Symbol("stream");function ut(Mt,Lt){return{value:Mt,done:Lt}}function ht(Mt){var Lt=Mt[tt];if(Lt!==null){var Dt=Mt[at].read();Dt!==null&&(Mt[st]=null,Mt[tt]=null,Mt[rt]=null,Lt(ut(Dt,!1)))}}function yt(Mt){process$1$1.nextTick(ht,Mt)}function wt(Mt,Lt){return function(Dt,Ut){Mt.then(function(){if(Lt[it]){Dt(ut(void 0,!0));return}Lt[ot](Dt,Ut)},Ut)}}var Ct=Object.getPrototypeOf(function(){}),Pt=Object.setPrototypeOf((a={get stream(){return this[at]},next:function(){var Lt=this,Dt=this[nt];if(Dt!==null)return Promise.reject(Dt);if(this[it])return Promise.resolve(ut(void 0,!0));if(this[at].destroyed)return new Promise(function(Bt,Ft){process$1$1.nextTick(function(){Lt[nt]?Ft(Lt[nt]):Bt(ut(void 0,!0))})});var Ut=this[st],Ot;if(Ut)Ot=new Promise(wt(Ut,this));else{var It=this[at].read();if(It!==null)return Promise.resolve(ut(It,!1));Ot=new Promise(this[ot])}return this[st]=Ot,Ot}},_(a,Symbol.asyncIterator,function(){return this}),_(a,"return",function(){var Lt=this;return new Promise(function(Dt,Ut){Lt[at].destroy(null,function(Ot){if(Ot){Ut(Ot);return}Dt(ut(void 0,!0))})})}),a),Ct),Tt=function(Lt){var Dt,Ut=Object.create(Pt,(Dt={},_(Dt,at,{value:Lt,writable:!0}),_(Dt,tt,{value:null,writable:!0}),_(Dt,rt,{value:null,writable:!0}),_(Dt,nt,{value:null,writable:!0}),_(Dt,it,{value:Lt._readableState.endEmitted,writable:!0}),_(Dt,ot,{value:function(It,Bt){var Ft=Ut[at].read();Ft?(Ut[st]=null,Ut[tt]=null,Ut[rt]=null,It(ut(Ft,!1))):(Ut[tt]=It,Ut[rt]=Bt)},writable:!0}),Dt));return Ut[st]=null,et(Lt,function(Ot){if(Ot&&Ot.code!=="ERR_STREAM_PREMATURE_CLOSE"){var It=Ut[rt];It!==null&&(Ut[st]=null,Ut[tt]=null,Ut[rt]=null,It(Ot)),Ut[nt]=Ot;return}var Bt=Ut[tt];Bt!==null&&(Ut[st]=null,Ut[tt]=null,Ut[rt]=null,Bt(ut(void 0,!0))),Ut[it]=!0}),Lt.on("readable",yt.bind(null,Ut)),Ut};return async_iterator=Tt,async_iterator}var fromBrowser,hasRequiredFromBrowser;function requireFromBrowser(){return hasRequiredFromBrowser||(hasRequiredFromBrowser=1,fromBrowser=function(){throw new Error("Readable.from is not available in the browser")}),fromBrowser}var _stream_readable$1,hasRequired_stream_readable$1;function require_stream_readable$1(){if(hasRequired_stream_readable$1)return _stream_readable$1;hasRequired_stream_readable$1=1,_stream_readable$1=Bt;var a;Bt.ReadableState=It,eventsExports.EventEmitter;var _=function(Jt,ur){return Jt.listeners(ur).length},$=streamBrowser$1,j=buffer$1.Buffer,et=(typeof commonjsGlobal<"u"?commonjsGlobal:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function tt(qt){return j.from(qt)}function rt(qt){return j.isBuffer(qt)||qt instanceof et}var nt=util$5,it;nt&&nt.debuglog?it=nt.debuglog("stream"):it=function(){};var st=requireBuffer_list(),ot=destroy_1$1,at=state,ut=at.getHighWaterMark,ht=errorsBrowser.codes,yt=ht.ERR_INVALID_ARG_TYPE,wt=ht.ERR_STREAM_PUSH_AFTER_EOF,Ct=ht.ERR_METHOD_NOT_IMPLEMENTED,Pt=ht.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,Tt,Mt,Lt;inherits_browserExports(Bt,$);var Dt=ot.errorOrDestroy,Ut=["error","close","destroy","pause","resume"];function Ot(qt,Jt,ur){if(typeof qt.prependListener=="function")return qt.prependListener(Jt,ur);!qt._events||!qt._events[Jt]?qt.on(Jt,ur):Array.isArray(qt._events[Jt])?qt._events[Jt].unshift(ur):qt._events[Jt]=[ur,qt._events[Jt]]}function It(qt,Jt,ur){a=a||require_stream_duplex$1(),qt=qt||{},typeof ur!="boolean"&&(ur=Jt instanceof a),this.objectMode=!!qt.objectMode,ur&&(this.objectMode=this.objectMode||!!qt.readableObjectMode),this.highWaterMark=ut(this,qt,"readableHighWaterMark",ur),this.buffer=new st,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=qt.emitClose!==!1,this.autoDestroy=!!qt.autoDestroy,this.destroyed=!1,this.defaultEncoding=qt.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,qt.encoding&&(Tt||(Tt=string_decoder$1.StringDecoder),this.decoder=new Tt(qt.encoding),this.encoding=qt.encoding)}function Bt(qt){if(a=a||require_stream_duplex$1(),!(this instanceof Bt))return new Bt(qt);var Jt=this instanceof a;this._readableState=new It(qt,this,Jt),this.readable=!0,qt&&(typeof qt.read=="function"&&(this._read=qt.read),typeof qt.destroy=="function"&&(this._destroy=qt.destroy)),$.call(this)}Object.defineProperty(Bt.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(Jt){this._readableState&&(this._readableState.destroyed=Jt)}}),Bt.prototype.destroy=ot.destroy,Bt.prototype._undestroy=ot.undestroy,Bt.prototype._destroy=function(qt,Jt){Jt(qt)},Bt.prototype.push=function(qt,Jt){var ur=this._readableState,xr;return ur.objectMode?xr=!0:typeof qt=="string"&&(Jt=Jt||ur.defaultEncoding,Jt!==ur.encoding&&(qt=j.from(qt,Jt),Jt=""),xr=!0),Ft(this,qt,Jt,!1,xr)},Bt.prototype.unshift=function(qt){return Ft(this,qt,null,!0,!1)};function Ft(qt,Jt,ur,xr,pr){it("readableAddChunk",Jt);var Cr=qt._readableState;if(Jt===null)Cr.reading=!1,mt(qt,Cr);else{var Mr;if(pr||(Mr=bt(Cr,Jt)),Mr)Dt(qt,Mr);else if(Cr.objectMode||Jt&&Jt.length>0)if(typeof Jt!="string"&&!Cr.objectMode&&Object.getPrototypeOf(Jt)!==j.prototype&&(Jt=tt(Jt)),xr)Cr.endEmitted?Dt(qt,new Pt):jt(qt,Cr,Jt,!0);else if(Cr.ended)Dt(qt,new wt);else{if(Cr.destroyed)return!1;Cr.reading=!1,Cr.decoder&&!ur?(Jt=Cr.decoder.write(Jt),Cr.objectMode||Jt.length!==0?jt(qt,Cr,Jt,!1):Rt(qt,Cr)):jt(qt,Cr,Jt,!1)}else xr||(Cr.reading=!1,Rt(qt,Cr))}return!Cr.ended&&(Cr.length<Cr.highWaterMark||Cr.length===0)}function jt(qt,Jt,ur,xr){Jt.flowing&&Jt.length===0&&!Jt.sync?(Jt.awaitDrain=0,qt.emit("data",ur)):(Jt.length+=Jt.objectMode?1:ur.length,xr?Jt.buffer.unshift(ur):Jt.buffer.push(ur),Jt.needReadable&&xt(qt)),Rt(qt,Jt)}function bt(qt,Jt){var ur;return!rt(Jt)&&typeof Jt!="string"&&Jt!==void 0&&!qt.objectMode&&(ur=new yt("chunk",["string","Buffer","Uint8Array"],Jt)),ur}Bt.prototype.isPaused=function(){return this._readableState.flowing===!1},Bt.prototype.setEncoding=function(qt){Tt||(Tt=string_decoder$1.StringDecoder);var Jt=new Tt(qt);this._readableState.decoder=Jt,this._readableState.encoding=this._readableState.decoder.encoding;for(var ur=this._readableState.buffer.head,xr="";ur!==null;)xr+=Jt.write(ur.data),ur=ur.next;return this._readableState.buffer.clear(),xr!==""&&this._readableState.buffer.push(xr),this._readableState.length=xr.length,this};var vt=1073741824;function ct(qt){return qt>=vt?qt=vt:(qt--,qt|=qt>>>1,qt|=qt>>>2,qt|=qt>>>4,qt|=qt>>>8,qt|=qt>>>16,qt++),qt}function dt(qt,Jt){return qt<=0||Jt.length===0&&Jt.ended?0:Jt.objectMode?1:qt!==qt?Jt.flowing&&Jt.length?Jt.buffer.head.data.length:Jt.length:(qt>Jt.highWaterMark&&(Jt.highWaterMark=ct(qt)),qt<=Jt.length?qt:Jt.ended?Jt.length:(Jt.needReadable=!0,0))}Bt.prototype.read=function(qt){it("read",qt),qt=parseInt(qt,10);var Jt=this._readableState,ur=qt;if(qt!==0&&(Jt.emittedReadable=!1),qt===0&&Jt.needReadable&&((Jt.highWaterMark!==0?Jt.length>=Jt.highWaterMark:Jt.length>0)||Jt.ended))return it("read: emitReadable",Jt.length,Jt.ended),Jt.length===0&&Jt.ended?Kt(this):xt(this),null;if(qt=dt(qt,Jt),qt===0&&Jt.ended)return Jt.length===0&&Kt(this),null;var xr=Jt.needReadable;it("need readable",xr),(Jt.length===0||Jt.length-qt<Jt.highWaterMark)&&(xr=!0,it("length less than watermark",xr)),Jt.ended||Jt.reading?(xr=!1,it("reading or ended",xr)):xr&&(it("do read"),Jt.reading=!0,Jt.sync=!0,Jt.length===0&&(Jt.needReadable=!0),this._read(Jt.highWaterMark),Jt.sync=!1,Jt.reading||(qt=dt(ur,Jt)));var pr;return qt>0?pr=Zt(qt,Jt):pr=null,pr===null?(Jt.needReadable=Jt.length<=Jt.highWaterMark,qt=0):(Jt.length-=qt,Jt.awaitDrain=0),Jt.length===0&&(Jt.ended||(Jt.needReadable=!0),ur!==qt&&Jt.ended&&Kt(this)),pr!==null&&this.emit("data",pr),pr};function mt(qt,Jt){if(it("onEofChunk"),!Jt.ended){if(Jt.decoder){var ur=Jt.decoder.end();ur&&ur.length&&(Jt.buffer.push(ur),Jt.length+=Jt.objectMode?1:ur.length)}Jt.ended=!0,Jt.sync?xt(qt):(Jt.needReadable=!1,Jt.emittedReadable||(Jt.emittedReadable=!0,At(qt)))}}function xt(qt){var Jt=qt._readableState;it("emitReadable",Jt.needReadable,Jt.emittedReadable),Jt.needReadable=!1,Jt.emittedReadable||(it("emitReadable",Jt.flowing),Jt.emittedReadable=!0,process$1$1.nextTick(At,qt))}function At(qt){var Jt=qt._readableState;it("emitReadable_",Jt.destroyed,Jt.length,Jt.ended),!Jt.destroyed&&(Jt.length||Jt.ended)&&(qt.emit("readable"),Jt.emittedReadable=!1),Jt.needReadable=!Jt.flowing&&!Jt.ended&&Jt.length<=Jt.highWaterMark,nr(qt)}function Rt(qt,Jt){Jt.readingMore||(Jt.readingMore=!0,process$1$1.nextTick(St,qt,Jt))}function St(qt,Jt){for(;!Jt.reading&&!Jt.ended&&(Jt.length<Jt.highWaterMark||Jt.flowing&&Jt.length===0);){var ur=Jt.length;if(it("maybeReadMore read 0"),qt.read(0),ur===Jt.length)break}Jt.readingMore=!1}Bt.prototype._read=function(qt){Dt(this,new Ct("_read()"))},Bt.prototype.pipe=function(qt,Jt){var ur=this,xr=this._readableState;switch(xr.pipesCount){case 0:xr.pipes=qt;break;case 1:xr.pipes=[xr.pipes,qt];break;default:xr.pipes.push(qt);break}xr.pipesCount+=1,it("pipe count=%d opts=%j",xr.pipesCount,Jt);var pr=(!Jt||Jt.end!==!1)&&qt!==process$1$1.stdout&&qt!==process$1$1.stderr,Cr=pr?lr:Lr;xr.endEmitted?process$1$1.nextTick(Cr):ur.once("end",Cr),qt.on("unpipe",Mr);function Mr(or,Yt){it("onunpipe"),or===ur&&Yt&&Yt.hasUnpiped===!1&&(Yt.hasUnpiped=!0,Rr())}function lr(){it("onend"),qt.end()}var fr=$t(ur);qt.on("drain",fr);var _r=!1;function Rr(){it("cleanup"),qt.removeListener("close",Pr),qt.removeListener("finish",Or),qt.removeListener("drain",fr),qt.removeListener("error",Ar),qt.removeListener("unpipe",Mr),ur.removeListener("end",lr),ur.removeListener("end",Lr),ur.removeListener("data",kr),_r=!0,xr.awaitDrain&&(!qt._writableState||qt._writableState.needDrain)&&fr()}ur.on("data",kr);function kr(or){it("ondata");var Yt=qt.write(or);it("dest.write",Yt),Yt===!1&&((xr.pipesCount===1&&xr.pipes===qt||xr.pipesCount>1&&Ht(xr.pipes,qt)!==-1)&&!_r&&(it("false write response, pause",xr.awaitDrain),xr.awaitDrain++),ur.pause())}function Ar(or){it("onerror",or),Lr(),qt.removeListener("error",Ar),_(qt,"error")===0&&Dt(qt,or)}Ot(qt,"error",Ar);function Pr(){qt.removeListener("finish",Or),Lr()}qt.once("close",Pr);function Or(){it("onfinish"),qt.removeListener("close",Pr),Lr()}qt.once("finish",Or);function Lr(){it("unpipe"),ur.unpipe(qt)}return qt.emit("pipe",ur),xr.flowing||(it("pipe resume"),ur.resume()),qt};function $t(qt){return function(){var ur=qt._readableState;it("pipeOnDrain",ur.awaitDrain),ur.awaitDrain&&ur.awaitDrain--,ur.awaitDrain===0&&_(qt,"data")&&(ur.flowing=!0,nr(qt))}}Bt.prototype.unpipe=function(qt){var Jt=this._readableState,ur={hasUnpiped:!1};if(Jt.pipesCount===0)return this;if(Jt.pipesCount===1)return qt&&qt!==Jt.pipes?this:(qt||(qt=Jt.pipes),Jt.pipes=null,Jt.pipesCount=0,Jt.flowing=!1,qt&&qt.emit("unpipe",this,ur),this);if(!qt){var xr=Jt.pipes,pr=Jt.pipesCount;Jt.pipes=null,Jt.pipesCount=0,Jt.flowing=!1;for(var Cr=0;Cr<pr;Cr++)xr[Cr].emit("unpipe",this,{hasUnpiped:!1});return this}var Mr=Ht(Jt.pipes,qt);return Mr===-1?this:(Jt.pipes.splice(Mr,1),Jt.pipesCount-=1,Jt.pipesCount===1&&(Jt.pipes=Jt.pipes[0]),qt.emit("unpipe",this,ur),this)},Bt.prototype.on=function(qt,Jt){var ur=$.prototype.on.call(this,qt,Jt),xr=this._readableState;return qt==="data"?(xr.readableListening=this.listenerCount("readable")>0,xr.flowing!==!1&&this.resume()):qt==="readable"&&!xr.endEmitted&&!xr.readableListening&&(xr.readableListening=xr.needReadable=!0,xr.flowing=!1,xr.emittedReadable=!1,it("on readable",xr.length,xr.reading),xr.length?xt(this):xr.reading||process$1$1.nextTick(Nt,this)),ur},Bt.prototype.addListener=Bt.prototype.on,Bt.prototype.removeListener=function(qt,Jt){var ur=$.prototype.removeListener.call(this,qt,Jt);return qt==="readable"&&process$1$1.nextTick(Et,this),ur},Bt.prototype.removeAllListeners=function(qt){var Jt=$.prototype.removeAllListeners.apply(this,arguments);return(qt==="readable"||qt===void 0)&&process$1$1.nextTick(Et,this),Jt};function Et(qt){var Jt=qt._readableState;Jt.readableListening=qt.listenerCount("readable")>0,Jt.resumeScheduled&&!Jt.paused?Jt.flowing=!0:qt.listenerCount("data")>0&&qt.resume()}function Nt(qt){it("readable nexttick read 0"),qt.read(0)}Bt.prototype.resume=function(){var qt=this._readableState;return qt.flowing||(it("resume"),qt.flowing=!qt.readableListening,tr(this,qt)),qt.paused=!1,this};function tr(qt,Jt){Jt.resumeScheduled||(Jt.resumeScheduled=!0,process$1$1.nextTick(ir,qt,Jt))}function ir(qt,Jt){it("resume",Jt.reading),Jt.reading||qt.read(0),Jt.resumeScheduled=!1,qt.emit("resume"),nr(qt),Jt.flowing&&!Jt.reading&&qt.read(0)}Bt.prototype.pause=function(){return it("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(it("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function nr(qt){var Jt=qt._readableState;for(it("flow",Jt.flowing);Jt.flowing&&qt.read()!==null;);}Bt.prototype.wrap=function(qt){var Jt=this,ur=this._readableState,xr=!1;qt.on("end",function(){if(it("wrapped end"),ur.decoder&&!ur.ended){var Mr=ur.decoder.end();Mr&&Mr.length&&Jt.push(Mr)}Jt.push(null)}),qt.on("data",function(Mr){if(it("wrapped data"),ur.decoder&&(Mr=ur.decoder.write(Mr)),!(ur.objectMode&&Mr==null)&&!(!ur.objectMode&&(!Mr||!Mr.length))){var lr=Jt.push(Mr);lr||(xr=!0,qt.pause())}});for(var pr in qt)this[pr]===void 0&&typeof qt[pr]=="function"&&(this[pr]=function(lr){return function(){return qt[lr].apply(qt,arguments)}}(pr));for(var Cr=0;Cr<Ut.length;Cr++)qt.on(Ut[Cr],this.emit.bind(this,Ut[Cr]));return this._read=function(Mr){it("wrapped _read",Mr),xr&&(xr=!1,qt.resume())},this},typeof Symbol=="function"&&(Bt.prototype[Symbol.asyncIterator]=function(){return Mt===void 0&&(Mt=requireAsync_iterator()),Mt(this)}),Object.defineProperty(Bt.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(Bt.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(Bt.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(Jt){this._readableState&&(this._readableState.flowing=Jt)}}),Bt._fromList=Zt,Object.defineProperty(Bt.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function Zt(qt,Jt){if(Jt.length===0)return null;var ur;return Jt.objectMode?ur=Jt.buffer.shift():!qt||qt>=Jt.length?(Jt.decoder?ur=Jt.buffer.join(""):Jt.buffer.length===1?ur=Jt.buffer.first():ur=Jt.buffer.concat(Jt.length),Jt.buffer.clear()):ur=Jt.buffer.consume(qt,Jt.decoder),ur}function Kt(qt){var Jt=qt._readableState;it("endReadable",Jt.endEmitted),Jt.endEmitted||(Jt.ended=!0,process$1$1.nextTick(Qt,Jt,qt))}function Qt(qt,Jt){if(it("endReadableNT",qt.endEmitted,qt.length),!qt.endEmitted&&qt.length===0&&(qt.endEmitted=!0,Jt.readable=!1,Jt.emit("end"),qt.autoDestroy)){var ur=Jt._writableState;(!ur||ur.autoDestroy&&ur.finished)&&Jt.destroy()}}typeof Symbol=="function"&&(Bt.from=function(qt,Jt){return Lt===void 0&&(Lt=requireFromBrowser()),Lt(Bt,qt,Jt)});function Ht(qt,Jt){for(var ur=0,xr=qt.length;ur<xr;ur++)if(qt[ur]===Jt)return ur;return-1}return _stream_readable$1}var _stream_transform$1=Transform$3,_require$codes$1=errorsBrowser.codes,ERR_METHOD_NOT_IMPLEMENTED=_require$codes$1.ERR_METHOD_NOT_IMPLEMENTED,ERR_MULTIPLE_CALLBACK=_require$codes$1.ERR_MULTIPLE_CALLBACK,ERR_TRANSFORM_ALREADY_TRANSFORMING=_require$codes$1.ERR_TRANSFORM_ALREADY_TRANSFORMING,ERR_TRANSFORM_WITH_LENGTH_0=_require$codes$1.ERR_TRANSFORM_WITH_LENGTH_0,Duplex=require_stream_duplex$1();inherits_browserExports(Transform$3,Duplex);function afterTransform(a,_){var $=this._transformState;$.transforming=!1;var j=$.writecb;if(j===null)return this.emit("error",new ERR_MULTIPLE_CALLBACK);$.writechunk=null,$.writecb=null,_!=null&&this.push(_),j(a);var et=this._readableState;et.reading=!1,(et.needReadable||et.length<et.highWaterMark)&&this._read(et.highWaterMark)}function Transform$3(a){if(!(this instanceof Transform$3))return new Transform$3(a);Duplex.call(this,a),this._transformState={afterTransform:afterTransform.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,a&&(typeof a.transform=="function"&&(this._transform=a.transform),typeof a.flush=="function"&&(this._flush=a.flush)),this.on("prefinish",prefinish)}function prefinish(){var a=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(_,$){done(a,_,$)}):done(this,null,null)}Transform$3.prototype.push=function(a,_){return this._transformState.needTransform=!1,Duplex.prototype.push.call(this,a,_)};Transform$3.prototype._transform=function(a,_,$){$(new ERR_METHOD_NOT_IMPLEMENTED("_transform()"))};Transform$3.prototype._write=function(a,_,$){var j=this._transformState;if(j.writecb=$,j.writechunk=a,j.writeencoding=_,!j.transforming){var et=this._readableState;(j.needTransform||et.needReadable||et.length<et.highWaterMark)&&this._read(et.highWaterMark)}};Transform$3.prototype._read=function(a){var _=this._transformState;_.writechunk!==null&&!_.transforming?(_.transforming=!0,this._transform(_.writechunk,_.writeencoding,_.afterTransform)):_.needTransform=!0};Transform$3.prototype._destroy=function(a,_){Duplex.prototype._destroy.call(this,a,function($){_($)})};function done(a,_,$){if(_)return a.emit("error",_);if($!=null&&a.push($),a._writableState.length)throw new ERR_TRANSFORM_WITH_LENGTH_0;if(a._transformState.transforming)throw new ERR_TRANSFORM_ALREADY_TRANSFORMING;return a.push(null)}var _stream_passthrough$1=PassThrough,Transform$2=_stream_transform$1;inherits_browserExports(PassThrough,Transform$2);function PassThrough(a){if(!(this instanceof PassThrough))return new PassThrough(a);Transform$2.call(this,a)}PassThrough.prototype._transform=function(a,_,$){$(null,a)};var eos;function once(a){var _=!1;return function(){_||(_=!0,a.apply(void 0,arguments))}}var _require$codes=errorsBrowser.codes,ERR_MISSING_ARGS=_require$codes.ERR_MISSING_ARGS,ERR_STREAM_DESTROYED=_require$codes.ERR_STREAM_DESTROYED;function noop$8(a){if(a)throw a}function isRequest(a){return a.setHeader&&typeof a.abort=="function"}function destroyer(a,_,$,j){j=once(j);var et=!1;a.on("close",function(){et=!0}),eos===void 0&&(eos=endOfStream),eos(a,{readable:_,writable:$},function(rt){if(rt)return j(rt);et=!0,j()});var tt=!1;return function(rt){if(!et&&!tt){if(tt=!0,isRequest(a))return a.abort();if(typeof a.destroy=="function")return a.destroy();j(rt||new ERR_STREAM_DESTROYED("pipe"))}}}function call(a){a()}function pipe(a,_){return a.pipe(_)}function popCallback(a){return!a.length||typeof a[a.length-1]!="function"?noop$8:a.pop()}function pipeline(){for(var a=arguments.length,_=new Array(a),$=0;$<a;$++)_[$]=arguments[$];var j=popCallback(_);if(Array.isArray(_[0])&&(_=_[0]),_.length<2)throw new ERR_MISSING_ARGS("streams");var et,tt=_.map(function(rt,nt){var it=nt<_.length-1,st=nt>0;return destroyer(rt,it,st,function(ot){et||(et=ot),ot&&tt.forEach(call),!it&&(tt.forEach(call),j(et))})});return _.reduce(pipe)}var pipeline_1=pipeline;(function(a,_){_=a.exports=require_stream_readable$1(),_.Stream=_,_.Readable=_,_.Writable=require_stream_writable$1(),_.Duplex=require_stream_duplex$1(),_.Transform=_stream_transform$1,_.PassThrough=_stream_passthrough$1,_.finished=endOfStream,_.pipeline=pipeline_1})(readableBrowser$1,readableBrowser$1.exports);var readableBrowserExports=readableBrowser$1.exports,Buffer$e=safeBufferExports.Buffer,Transform$1=readableBrowserExports.Transform,inherits$h=inherits_browserExports;function throwIfNotStringOrBuffer(a,_){if(!Buffer$e.isBuffer(a)&&typeof a!="string")throw new TypeError(_+" must be a string or a buffer")}function HashBase$2(a){Transform$1.call(this),this._block=Buffer$e.allocUnsafe(a),this._blockSize=a,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}inherits$h(HashBase$2,Transform$1);HashBase$2.prototype._transform=function(a,_,$){var j=null;try{this.update(a,_)}catch(et){j=et}$(j)};HashBase$2.prototype._flush=function(a){var _=null;try{this.push(this.digest())}catch($){_=$}a(_)};HashBase$2.prototype.update=function(a,_){if(throwIfNotStringOrBuffer(a,"Data"),this._finalized)throw new Error("Digest already called");Buffer$e.isBuffer(a)||(a=Buffer$e.from(a,_));for(var $=this._block,j=0;this._blockOffset+a.length-j>=this._blockSize;){for(var et=this._blockOffset;et<this._blockSize;)$[et++]=a[j++];this._update(),this._blockOffset=0}for(;j<a.length;)$[this._blockOffset++]=a[j++];for(var tt=0,rt=a.length*8;rt>0;++tt)this._length[tt]+=rt,rt=this._length[tt]/4294967296|0,rt>0&&(this._length[tt]-=4294967296*rt);return this};HashBase$2.prototype._update=function(){throw new Error("_update is not implemented")};HashBase$2.prototype.digest=function(a){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var _=this._digest();a!==void 0&&(_=_.toString(a)),this._block.fill(0),this._blockOffset=0;for(var $=0;$<4;++$)this._length[$]=0;return _};HashBase$2.prototype._digest=function(){throw new Error("_digest is not implemented")};var hashBase=HashBase$2,inherits$g=inherits_browserExports,HashBase$1=hashBase,Buffer$d=safeBufferExports.Buffer,ARRAY16$1=new Array(16);function MD5$2(){HashBase$1.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}inherits$g(MD5$2,HashBase$1);MD5$2.prototype._update=function(){for(var a=ARRAY16$1,_=0;_<16;++_)a[_]=this._block.readInt32LE(_*4);var $=this._a,j=this._b,et=this._c,tt=this._d;$=fnF($,j,et,tt,a[0],3614090360,7),tt=fnF(tt,$,j,et,a[1],3905402710,12),et=fnF(et,tt,$,j,a[2],606105819,17),j=fnF(j,et,tt,$,a[3],3250441966,22),$=fnF($,j,et,tt,a[4],4118548399,7),tt=fnF(tt,$,j,et,a[5],1200080426,12),et=fnF(et,tt,$,j,a[6],2821735955,17),j=fnF(j,et,tt,$,a[7],4249261313,22),$=fnF($,j,et,tt,a[8],1770035416,7),tt=fnF(tt,$,j,et,a[9],2336552879,12),et=fnF(et,tt,$,j,a[10],4294925233,17),j=fnF(j,et,tt,$,a[11],2304563134,22),$=fnF($,j,et,tt,a[12],1804603682,7),tt=fnF(tt,$,j,et,a[13],4254626195,12),et=fnF(et,tt,$,j,a[14],2792965006,17),j=fnF(j,et,tt,$,a[15],1236535329,22),$=fnG($,j,et,tt,a[1],4129170786,5),tt=fnG(tt,$,j,et,a[6],3225465664,9),et=fnG(et,tt,$,j,a[11],643717713,14),j=fnG(j,et,tt,$,a[0],3921069994,20),$=fnG($,j,et,tt,a[5],3593408605,5),tt=fnG(tt,$,j,et,a[10],38016083,9),et=fnG(et,tt,$,j,a[15],3634488961,14),j=fnG(j,et,tt,$,a[4],3889429448,20),$=fnG($,j,et,tt,a[9],568446438,5),tt=fnG(tt,$,j,et,a[14],3275163606,9),et=fnG(et,tt,$,j,a[3],4107603335,14),j=fnG(j,et,tt,$,a[8],1163531501,20),$=fnG($,j,et,tt,a[13],2850285829,5),tt=fnG(tt,$,j,et,a[2],4243563512,9),et=fnG(et,tt,$,j,a[7],1735328473,14),j=fnG(j,et,tt,$,a[12],2368359562,20),$=fnH($,j,et,tt,a[5],4294588738,4),tt=fnH(tt,$,j,et,a[8],2272392833,11),et=fnH(et,tt,$,j,a[11],1839030562,16),j=fnH(j,et,tt,$,a[14],4259657740,23),$=fnH($,j,et,tt,a[1],2763975236,4),tt=fnH(tt,$,j,et,a[4],1272893353,11),et=fnH(et,tt,$,j,a[7],4139469664,16),j=fnH(j,et,tt,$,a[10],3200236656,23),$=fnH($,j,et,tt,a[13],681279174,4),tt=fnH(tt,$,j,et,a[0],3936430074,11),et=fnH(et,tt,$,j,a[3],3572445317,16),j=fnH(j,et,tt,$,a[6],76029189,23),$=fnH($,j,et,tt,a[9],3654602809,4),tt=fnH(tt,$,j,et,a[12],3873151461,11),et=fnH(et,tt,$,j,a[15],530742520,16),j=fnH(j,et,tt,$,a[2],3299628645,23),$=fnI($,j,et,tt,a[0],4096336452,6),tt=fnI(tt,$,j,et,a[7],1126891415,10),et=fnI(et,tt,$,j,a[14],2878612391,15),j=fnI(j,et,tt,$,a[5],4237533241,21),$=fnI($,j,et,tt,a[12],1700485571,6),tt=fnI(tt,$,j,et,a[3],2399980690,10),et=fnI(et,tt,$,j,a[10],4293915773,15),j=fnI(j,et,tt,$,a[1],2240044497,21),$=fnI($,j,et,tt,a[8],1873313359,6),tt=fnI(tt,$,j,et,a[15],4264355552,10),et=fnI(et,tt,$,j,a[6],2734768916,15),j=fnI(j,et,tt,$,a[13],1309151649,21),$=fnI($,j,et,tt,a[4],4149444226,6),tt=fnI(tt,$,j,et,a[11],3174756917,10),et=fnI(et,tt,$,j,a[2],718787259,15),j=fnI(j,et,tt,$,a[9],3951481745,21),this._a=this._a+$|0,this._b=this._b+j|0,this._c=this._c+et|0,this._d=this._d+tt|0};MD5$2.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var a=Buffer$d.allocUnsafe(16);return a.writeInt32LE(this._a,0),a.writeInt32LE(this._b,4),a.writeInt32LE(this._c,8),a.writeInt32LE(this._d,12),a};function rotl$1(a,_){return a<<_|a>>>32-_}function fnF(a,_,$,j,et,tt,rt){return rotl$1(a+(_&$|~_&j)+et+tt|0,rt)+_|0}function fnG(a,_,$,j,et,tt,rt){return rotl$1(a+(_&j|$&~j)+et+tt|0,rt)+_|0}function fnH(a,_,$,j,et,tt,rt){return rotl$1(a+(_^$^j)+et+tt|0,rt)+_|0}function fnI(a,_,$,j,et,tt,rt){return rotl$1(a+($^(_|~j))+et+tt|0,rt)+_|0}var md5_js=MD5$2,Buffer$c=buffer$1.Buffer,inherits$f=inherits_browserExports,HashBase=hashBase,ARRAY16=new Array(16),zl=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],zr=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],sl=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],sr=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],hl=[0,1518500249,1859775393,2400959708,2840853838],hr=[1352829926,1548603684,1836072691,2053994217,0];function RIPEMD160$3(){HashBase.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}inherits$f(RIPEMD160$3,HashBase);RIPEMD160$3.prototype._update=function(){for(var a=ARRAY16,_=0;_<16;++_)a[_]=this._block.readInt32LE(_*4);for(var $=this._a|0,j=this._b|0,et=this._c|0,tt=this._d|0,rt=this._e|0,nt=this._a|0,it=this._b|0,st=this._c|0,ot=this._d|0,at=this._e|0,ut=0;ut<80;ut+=1){var ht,yt;ut<16?(ht=fn1($,j,et,tt,rt,a[zl[ut]],hl[0],sl[ut]),yt=fn5(nt,it,st,ot,at,a[zr[ut]],hr[0],sr[ut])):ut<32?(ht=fn2($,j,et,tt,rt,a[zl[ut]],hl[1],sl[ut]),yt=fn4(nt,it,st,ot,at,a[zr[ut]],hr[1],sr[ut])):ut<48?(ht=fn3($,j,et,tt,rt,a[zl[ut]],hl[2],sl[ut]),yt=fn3(nt,it,st,ot,at,a[zr[ut]],hr[2],sr[ut])):ut<64?(ht=fn4($,j,et,tt,rt,a[zl[ut]],hl[3],sl[ut]),yt=fn2(nt,it,st,ot,at,a[zr[ut]],hr[3],sr[ut])):(ht=fn5($,j,et,tt,rt,a[zl[ut]],hl[4],sl[ut]),yt=fn1(nt,it,st,ot,at,a[zr[ut]],hr[4],sr[ut])),$=rt,rt=tt,tt=rotl(et,10),et=j,j=ht,nt=at,at=ot,ot=rotl(st,10),st=it,it=yt}var wt=this._b+et+ot|0;this._b=this._c+tt+at|0,this._c=this._d+rt+nt|0,this._d=this._e+$+it|0,this._e=this._a+j+st|0,this._a=wt};RIPEMD160$3.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var a=Buffer$c.alloc?Buffer$c.alloc(20):new Buffer$c(20);return a.writeInt32LE(this._a,0),a.writeInt32LE(this._b,4),a.writeInt32LE(this._c,8),a.writeInt32LE(this._d,12),a.writeInt32LE(this._e,16),a};function rotl(a,_){return a<<_|a>>>32-_}function fn1(a,_,$,j,et,tt,rt,nt){return rotl(a+(_^$^j)+tt+rt|0,nt)+et|0}function fn2(a,_,$,j,et,tt,rt,nt){return rotl(a+(_&$|~_&j)+tt+rt|0,nt)+et|0}function fn3(a,_,$,j,et,tt,rt,nt){return rotl(a+((_|~$)^j)+tt+rt|0,nt)+et|0}function fn4(a,_,$,j,et,tt,rt,nt){return rotl(a+(_&j|$&~j)+tt+rt|0,nt)+et|0}function fn5(a,_,$,j,et,tt,rt,nt){return rotl(a+(_^($|~j))+tt+rt|0,nt)+et|0}var ripemd160=RIPEMD160$3,sha_js={exports:{}},Buffer$b=safeBufferExports.Buffer;function Hash$7(a,_){this._block=Buffer$b.alloc(a),this._finalSize=_,this._blockSize=a,this._len=0}Hash$7.prototype.update=function(a,_){typeof a=="string"&&(_=_||"utf8",a=Buffer$b.from(a,_));for(var $=this._block,j=this._blockSize,et=a.length,tt=this._len,rt=0;rt<et;){for(var nt=tt%j,it=Math.min(et-rt,j-nt),st=0;st<it;st++)$[nt+st]=a[rt+st];tt+=it,rt+=it,tt%j===0&&this._update($)}return this._len+=et,this};Hash$7.prototype.digest=function(a){var _=this._len%this._blockSize;this._block[_]=128,this._block.fill(0,_+1),_>=this._finalSize&&(this._update(this._block),this._block.fill(0));var $=this._len*8;if($<=4294967295)this._block.writeUInt32BE($,this._blockSize-4);else{var j=($&4294967295)>>>0,et=($-j)/4294967296;this._block.writeUInt32BE(et,this._blockSize-8),this._block.writeUInt32BE(j,this._blockSize-4)}this._update(this._block);var tt=this._hash();return a?tt.toString(a):tt};Hash$7.prototype._update=function(){throw new Error("_update must be implemented by subclass")};var hash$5=Hash$7,inherits$e=inherits_browserExports,Hash$6=hash$5,Buffer$a=safeBufferExports.Buffer,K$5=[1518500249,1859775393,-1894007588,-899497514],W$5=new Array(80);function Sha(){this.init(),this._w=W$5,Hash$6.call(this,64,56)}inherits$e(Sha,Hash$6);Sha.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function rotl5$1(a){return a<<5|a>>>27}function rotl30$1(a){return a<<30|a>>>2}function ft$1(a,_,$,j){return a===0?_&$|~_&j:a===2?_&$|_&j|$&j:_^$^j}Sha.prototype._update=function(a){for(var _=this._w,$=this._a|0,j=this._b|0,et=this._c|0,tt=this._d|0,rt=this._e|0,nt=0;nt<16;++nt)_[nt]=a.readInt32BE(nt*4);for(;nt<80;++nt)_[nt]=_[nt-3]^_[nt-8]^_[nt-14]^_[nt-16];for(var it=0;it<80;++it){var st=~~(it/20),ot=rotl5$1($)+ft$1(st,j,et,tt)+rt+_[it]+K$5[st]|0;rt=tt,tt=et,et=rotl30$1(j),j=$,$=ot}this._a=$+this._a|0,this._b=j+this._b|0,this._c=et+this._c|0,this._d=tt+this._d|0,this._e=rt+this._e|0};Sha.prototype._hash=function(){var a=Buffer$a.allocUnsafe(20);return a.writeInt32BE(this._a|0,0),a.writeInt32BE(this._b|0,4),a.writeInt32BE(this._c|0,8),a.writeInt32BE(this._d|0,12),a.writeInt32BE(this._e|0,16),a};var sha$3=Sha,inherits$d=inherits_browserExports,Hash$5=hash$5,Buffer$9=safeBufferExports.Buffer,K$4=[1518500249,1859775393,-1894007588,-899497514],W$4=new Array(80);function Sha1(){this.init(),this._w=W$4,Hash$5.call(this,64,56)}inherits$d(Sha1,Hash$5);Sha1.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function rotl1(a){return a<<1|a>>>31}function rotl5(a){return a<<5|a>>>27}function rotl30(a){return a<<30|a>>>2}function ft(a,_,$,j){return a===0?_&$|~_&j:a===2?_&$|_&j|$&j:_^$^j}Sha1.prototype._update=function(a){for(var _=this._w,$=this._a|0,j=this._b|0,et=this._c|0,tt=this._d|0,rt=this._e|0,nt=0;nt<16;++nt)_[nt]=a.readInt32BE(nt*4);for(;nt<80;++nt)_[nt]=rotl1(_[nt-3]^_[nt-8]^_[nt-14]^_[nt-16]);for(var it=0;it<80;++it){var st=~~(it/20),ot=rotl5($)+ft(st,j,et,tt)+rt+_[it]+K$4[st]|0;rt=tt,tt=et,et=rotl30(j),j=$,$=ot}this._a=$+this._a|0,this._b=j+this._b|0,this._c=et+this._c|0,this._d=tt+this._d|0,this._e=rt+this._e|0};Sha1.prototype._hash=function(){var a=Buffer$9.allocUnsafe(20);return a.writeInt32BE(this._a|0,0),a.writeInt32BE(this._b|0,4),a.writeInt32BE(this._c|0,8),a.writeInt32BE(this._d|0,12),a.writeInt32BE(this._e|0,16),a};var sha1=Sha1,inherits$c=inherits_browserExports,Hash$4=hash$5,Buffer$8=safeBufferExports.Buffer,K$3=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],W$3=new Array(64);function Sha256$1(){this.init(),this._w=W$3,Hash$4.call(this,64,56)}inherits$c(Sha256$1,Hash$4);Sha256$1.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this};function ch(a,_,$){return $^a&(_^$)}function maj$1(a,_,$){return a&_|$&(a|_)}function sigma0$1(a){return(a>>>2|a<<30)^(a>>>13|a<<19)^(a>>>22|a<<10)}function sigma1$1(a){return(a>>>6|a<<26)^(a>>>11|a<<21)^(a>>>25|a<<7)}function gamma0(a){return(a>>>7|a<<25)^(a>>>18|a<<14)^a>>>3}function gamma1(a){return(a>>>17|a<<15)^(a>>>19|a<<13)^a>>>10}Sha256$1.prototype._update=function(a){for(var _=this._w,$=this._a|0,j=this._b|0,et=this._c|0,tt=this._d|0,rt=this._e|0,nt=this._f|0,it=this._g|0,st=this._h|0,ot=0;ot<16;++ot)_[ot]=a.readInt32BE(ot*4);for(;ot<64;++ot)_[ot]=gamma1(_[ot-2])+_[ot-7]+gamma0(_[ot-15])+_[ot-16]|0;for(var at=0;at<64;++at){var ut=st+sigma1$1(rt)+ch(rt,nt,it)+K$3[at]+_[at]|0,ht=sigma0$1($)+maj$1($,j,et)|0;st=it,it=nt,nt=rt,rt=tt+ut|0,tt=et,et=j,j=$,$=ut+ht|0}this._a=$+this._a|0,this._b=j+this._b|0,this._c=et+this._c|0,this._d=tt+this._d|0,this._e=rt+this._e|0,this._f=nt+this._f|0,this._g=it+this._g|0,this._h=st+this._h|0};Sha256$1.prototype._hash=function(){var a=Buffer$8.allocUnsafe(32);return a.writeInt32BE(this._a,0),a.writeInt32BE(this._b,4),a.writeInt32BE(this._c,8),a.writeInt32BE(this._d,12),a.writeInt32BE(this._e,16),a.writeInt32BE(this._f,20),a.writeInt32BE(this._g,24),a.writeInt32BE(this._h,28),a};var sha256$4=Sha256$1,inherits$b=inherits_browserExports,Sha256=sha256$4,Hash$3=hash$5,Buffer$7=safeBufferExports.Buffer,W$2=new Array(64);function Sha224(){this.init(),this._w=W$2,Hash$3.call(this,64,56)}inherits$b(Sha224,Sha256);Sha224.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this};Sha224.prototype._hash=function(){var a=Buffer$7.allocUnsafe(28);return a.writeInt32BE(this._a,0),a.writeInt32BE(this._b,4),a.writeInt32BE(this._c,8),a.writeInt32BE(this._d,12),a.writeInt32BE(this._e,16),a.writeInt32BE(this._f,20),a.writeInt32BE(this._g,24),a};var sha224$1=Sha224,inherits$a=inherits_browserExports,Hash$2=hash$5,Buffer$6=safeBufferExports.Buffer,K$2=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],W$1=new Array(160);function Sha512(){this.init(),this._w=W$1,Hash$2.call(this,128,112)}inherits$a(Sha512,Hash$2);Sha512.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this};function Ch(a,_,$){return $^a&(_^$)}function maj(a,_,$){return a&_|$&(a|_)}function sigma0(a,_){return(a>>>28|_<<4)^(_>>>2|a<<30)^(_>>>7|a<<25)}function sigma1(a,_){return(a>>>14|_<<18)^(a>>>18|_<<14)^(_>>>9|a<<23)}function Gamma0(a,_){return(a>>>1|_<<31)^(a>>>8|_<<24)^a>>>7}function Gamma0l(a,_){return(a>>>1|_<<31)^(a>>>8|_<<24)^(a>>>7|_<<25)}function Gamma1(a,_){return(a>>>19|_<<13)^(_>>>29|a<<3)^a>>>6}function Gamma1l(a,_){return(a>>>19|_<<13)^(_>>>29|a<<3)^(a>>>6|_<<26)}function getCarry(a,_){return a>>>0<_>>>0?1:0}Sha512.prototype._update=function(a){for(var _=this._w,$=this._ah|0,j=this._bh|0,et=this._ch|0,tt=this._dh|0,rt=this._eh|0,nt=this._fh|0,it=this._gh|0,st=this._hh|0,ot=this._al|0,at=this._bl|0,ut=this._cl|0,ht=this._dl|0,yt=this._el|0,wt=this._fl|0,Ct=this._gl|0,Pt=this._hl|0,Tt=0;Tt<32;Tt+=2)_[Tt]=a.readInt32BE(Tt*4),_[Tt+1]=a.readInt32BE(Tt*4+4);for(;Tt<160;Tt+=2){var Mt=_[Tt-30],Lt=_[Tt-15*2+1],Dt=Gamma0(Mt,Lt),Ut=Gamma0l(Lt,Mt);Mt=_[Tt-2*2],Lt=_[Tt-2*2+1];var Ot=Gamma1(Mt,Lt),It=Gamma1l(Lt,Mt),Bt=_[Tt-7*2],Ft=_[Tt-7*2+1],jt=_[Tt-16*2],bt=_[Tt-16*2+1],vt=Ut+Ft|0,ct=Dt+Bt+getCarry(vt,Ut)|0;vt=vt+It|0,ct=ct+Ot+getCarry(vt,It)|0,vt=vt+bt|0,ct=ct+jt+getCarry(vt,bt)|0,_[Tt]=ct,_[Tt+1]=vt}for(var dt=0;dt<160;dt+=2){ct=_[dt],vt=_[dt+1];var mt=maj($,j,et),xt=maj(ot,at,ut),At=sigma0($,ot),Rt=sigma0(ot,$),St=sigma1(rt,yt),$t=sigma1(yt,rt),Et=K$2[dt],Nt=K$2[dt+1],tr=Ch(rt,nt,it),ir=Ch(yt,wt,Ct),nr=Pt+$t|0,Zt=st+St+getCarry(nr,Pt)|0;nr=nr+ir|0,Zt=Zt+tr+getCarry(nr,ir)|0,nr=nr+Nt|0,Zt=Zt+Et+getCarry(nr,Nt)|0,nr=nr+vt|0,Zt=Zt+ct+getCarry(nr,vt)|0;var Kt=Rt+xt|0,Qt=At+mt+getCarry(Kt,Rt)|0;st=it,Pt=Ct,it=nt,Ct=wt,nt=rt,wt=yt,yt=ht+nr|0,rt=tt+Zt+getCarry(yt,ht)|0,tt=et,ht=ut,et=j,ut=at,j=$,at=ot,ot=nr+Kt|0,$=Zt+Qt+getCarry(ot,nr)|0}this._al=this._al+ot|0,this._bl=this._bl+at|0,this._cl=this._cl+ut|0,this._dl=this._dl+ht|0,this._el=this._el+yt|0,this._fl=this._fl+wt|0,this._gl=this._gl+Ct|0,this._hl=this._hl+Pt|0,this._ah=this._ah+$+getCarry(this._al,ot)|0,this._bh=this._bh+j+getCarry(this._bl,at)|0,this._ch=this._ch+et+getCarry(this._cl,ut)|0,this._dh=this._dh+tt+getCarry(this._dl,ht)|0,this._eh=this._eh+rt+getCarry(this._el,yt)|0,this._fh=this._fh+nt+getCarry(this._fl,wt)|0,this._gh=this._gh+it+getCarry(this._gl,Ct)|0,this._hh=this._hh+st+getCarry(this._hl,Pt)|0};Sha512.prototype._hash=function(){var a=Buffer$6.allocUnsafe(64);function _($,j,et){a.writeInt32BE($,et),a.writeInt32BE(j,et+4)}return _(this._ah,this._al,0),_(this._bh,this._bl,8),_(this._ch,this._cl,16),_(this._dh,this._dl,24),_(this._eh,this._el,32),_(this._fh,this._fl,40),_(this._gh,this._gl,48),_(this._hh,this._hl,56),a};var sha512$4=Sha512,inherits$9=inherits_browserExports,SHA512$3=sha512$4,Hash$1=hash$5,Buffer$5=safeBufferExports.Buffer,W=new Array(160);function Sha384(){this.init(),this._w=W,Hash$1.call(this,128,112)}inherits$9(Sha384,SHA512$3);Sha384.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this};Sha384.prototype._hash=function(){var a=Buffer$5.allocUnsafe(48);function _($,j,et){a.writeInt32BE($,et),a.writeInt32BE(j,et+4)}return _(this._ah,this._al,0),_(this._bh,this._bl,8),_(this._ch,this._cl,16),_(this._dh,this._dl,24),_(this._eh,this._el,32),_(this._fh,this._fl,40),a};var sha384$1=Sha384,exports=sha_js.exports=function(_){_=_.toLowerCase();var $=exports[_];if(!$)throw new Error(_+" is not supported (we accept pull requests)");return new $};exports.sha=sha$3;exports.sha1=sha1;exports.sha224=sha224$1;exports.sha256=sha256$4;exports.sha384=sha384$1;exports.sha512=sha512$4;var sha_jsExports=sha_js.exports,streamBrowserify=Stream,EE=eventsExports.EventEmitter,inherits$8=inherits_browserExports;inherits$8(Stream,EE);Stream.Readable=require_stream_readable$1();Stream.Writable=require_stream_writable$1();Stream.Duplex=require_stream_duplex$1();Stream.Transform=_stream_transform$1;Stream.PassThrough=_stream_passthrough$1;Stream.finished=endOfStream;Stream.pipeline=pipeline_1;Stream.Stream=Stream;function Stream(){EE.call(this)}Stream.prototype.pipe=function(a,_){var $=this;function j(ot){a.writable&&a.write(ot)===!1&&$.pause&&$.pause()}$.on("data",j);function et(){$.readable&&$.resume&&$.resume()}a.on("drain",et),!a._isStdio&&(!_||_.end!==!1)&&($.on("end",rt),$.on("close",nt));var tt=!1;function rt(){tt||(tt=!0,a.end())}function nt(){tt||(tt=!0,typeof a.destroy=="function"&&a.destroy())}function it(ot){if(st(),EE.listenerCount(this,"error")===0)throw ot}$.on("error",it),a.on("error",it);function st(){$.removeListener("data",j),a.removeListener("drain",et),$.removeListener("end",rt),$.removeListener("close",nt),$.removeListener("error",it),a.removeListener("error",it),$.removeListener("end",st),$.removeListener("close",st),a.removeListener("close",st)}return $.on("end",st),$.on("close",st),a.on("close",st),a.emit("pipe",$),a};var Buffer$4=safeBufferExports.Buffer,Transform=streamBrowserify.Transform,StringDecoder=string_decoder$1.StringDecoder,inherits$7=inherits_browserExports;function CipherBase(a){Transform.call(this),this.hashMode=typeof a=="string",this.hashMode?this[a]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}inherits$7(CipherBase,Transform);CipherBase.prototype.update=function(a,_,$){typeof a=="string"&&(a=Buffer$4.from(a,_));var j=this._update(a);return this.hashMode?this:($&&(j=this._toString(j,$)),j)};CipherBase.prototype.setAutoPadding=function(){};CipherBase.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")};CipherBase.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")};CipherBase.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")};CipherBase.prototype._transform=function(a,_,$){var j;try{this.hashMode?this._update(a):this.push(this._update(a))}catch(et){j=et}finally{$(j)}};CipherBase.prototype._flush=function(a){var _;try{this.push(this.__final())}catch($){_=$}a(_)};CipherBase.prototype._finalOrDigest=function(a){var _=this.__final()||Buffer$4.alloc(0);return a&&(_=this._toString(_,a,!0)),_};CipherBase.prototype._toString=function(a,_,$){if(this._decoder||(this._decoder=new StringDecoder(_),this._encoding=_),this._encoding!==_)throw new Error("can't switch encodings");var j=this._decoder.write(a);return $&&(j+=this._decoder.end()),j};var cipherBase=CipherBase,inherits$6=inherits_browserExports,MD5$1=md5_js,RIPEMD160$2=ripemd160,sha$2=sha_jsExports,Base$3=cipherBase;function Hash(a){Base$3.call(this,"digest"),this._hash=a}inherits$6(Hash,Base$3);Hash.prototype._update=function(a){this._hash.update(a)};Hash.prototype._final=function(){return this._hash.digest()};var browser$b=function(_){return _=_.toLowerCase(),_==="md5"?new MD5$1:_==="rmd160"||_==="ripemd160"?new RIPEMD160$2:new Hash(sha$2(_))},_Buffer=safeBufferExports.Buffer;function base$7(a){if(a.length>=255)throw new TypeError("Alphabet too long");for(var _=new Uint8Array(256),$=0;$<_.length;$++)_[$]=255;for(var j=0;j<a.length;j++){var et=a.charAt(j),tt=et.charCodeAt(0);if(_[tt]!==255)throw new TypeError(et+" is ambiguous");_[tt]=j}var rt=a.length,nt=a.charAt(0),it=Math.log(rt)/Math.log(256),st=Math.log(256)/Math.log(rt);function ot(ht){if((Array.isArray(ht)||ht instanceof Uint8Array)&&(ht=_Buffer.from(ht)),!_Buffer.isBuffer(ht))throw new TypeError("Expected Buffer");if(ht.length===0)return"";for(var yt=0,wt=0,Ct=0,Pt=ht.length;Ct!==Pt&&ht[Ct]===0;)Ct++,yt++;for(var Tt=(Pt-Ct)*st+1>>>0,Mt=new Uint8Array(Tt);Ct!==Pt;){for(var Lt=ht[Ct],Dt=0,Ut=Tt-1;(Lt!==0||Dt<wt)&&Ut!==-1;Ut--,Dt++)Lt+=256*Mt[Ut]>>>0,Mt[Ut]=Lt%rt>>>0,Lt=Lt/rt>>>0;if(Lt!==0)throw new Error("Non-zero carry");wt=Dt,Ct++}for(var Ot=Tt-wt;Ot!==Tt&&Mt[Ot]===0;)Ot++;for(var It=nt.repeat(yt);Ot<Tt;++Ot)It+=a.charAt(Mt[Ot]);return It}function at(ht){if(typeof ht!="string")throw new TypeError("Expected String");if(ht.length===0)return _Buffer.alloc(0);for(var yt=0,wt=0,Ct=0;ht[yt]===nt;)wt++,yt++;for(var Pt=(ht.length-yt)*it+1>>>0,Tt=new Uint8Array(Pt);ht[yt];){var Mt=_[ht.charCodeAt(yt)];if(Mt===255)return;for(var Lt=0,Dt=Pt-1;(Mt!==0||Lt<Ct)&&Dt!==-1;Dt--,Lt++)Mt+=rt*Tt[Dt]>>>0,Tt[Dt]=Mt%256>>>0,Mt=Mt/256>>>0;if(Mt!==0)throw new Error("Non-zero carry");Ct=Lt,yt++}for(var Ut=Pt-Ct;Ut!==Pt&&Tt[Ut]===0;)Ut++;var Ot=_Buffer.allocUnsafe(wt+(Pt-Ut));Ot.fill(0,0,wt);for(var It=wt;Ut!==Pt;)Ot[It++]=Tt[Ut++];return Ot}function ut(ht){var yt=at(ht);if(yt)return yt;throw new Error("Non-base"+rt+" character")}return{encode:ot,decodeUnsafe:at,decode:ut}}var src$2=base$7,basex$1=src$2,ALPHABET$3="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",bs58$1=basex$1(ALPHABET$3),base58$1=bs58$1,Buffer$3=safeBufferExports.Buffer,base$6=function(a){function _(tt){var rt=a(tt);return base58$1.encode(Buffer$3.concat([tt,rt],tt.length+4))}function $(tt){var rt=tt.slice(0,-4),nt=tt.slice(-4),it=a(rt);if(!(nt[0]^it[0]|nt[1]^it[1]|nt[2]^it[2]|nt[3]^it[3]))return rt}function j(tt){var rt=base58$1.decodeUnsafe(tt);if(rt)return $(rt)}function et(tt){var rt=base58$1.decode(tt),nt=$(rt);if(!nt)throw new Error("Invalid checksum");return nt}return{encode:_,decode:et,decodeUnsafe:j}},createHash=browser$b,bs58checkBase$1=base$6;function sha256x2$1(a){var _=createHash("sha256").update(a).digest();return createHash("sha256").update(_).digest()}var bs58check$2=bs58checkBase$1(sha256x2$1),nacl={},box={},x25519={},random={},system={},browser$a={};Object.defineProperty(browser$a,"__esModule",{value:!0});browser$a.BrowserRandomSource=void 0;const QUOTA=65536;class BrowserRandomSource{constructor(){this.isAvailable=!1,this.isInstantiated=!1;const _=typeof self<"u"?self.crypto||self.msCrypto:null;_&&_.getRandomValues!==void 0&&(this._crypto=_,this.isAvailable=!0,this.isInstantiated=!0)}randomBytes(_){if(!this.isAvailable||!this._crypto)throw new Error("Browser random byte generator is not available.");const $=new Uint8Array(_);for(let j=0;j<$.length;j+=QUOTA)this._crypto.getRandomValues($.subarray(j,j+Math.min($.length-j,QUOTA)));return $}}browser$a.BrowserRandomSource=BrowserRandomSource;function commonjsRequire(a){throw new Error('Could not dynamically require "'+a+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var node$2={},wipe$1={};Object.defineProperty(wipe$1,"__esModule",{value:!0});function wipe(a){for(var _=0;_<a.length;_++)a[_]=0;return a}wipe$1.wipe=wipe;var cryptoBrowserify={},browser$9={exports:{}},hasRequiredBrowser$8;function requireBrowser$8(){if(hasRequiredBrowser$8)return browser$9.exports;hasRequiredBrowser$8=1;var a=65536,_=4294967295;function $(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}var j=safeBufferExports.Buffer,et=commonjsGlobal.crypto||commonjsGlobal.msCrypto;et&&et.getRandomValues?browser$9.exports=tt:browser$9.exports=$;function tt(rt,nt){if(rt>_)throw new RangeError("requested too many random bytes");var it=j.allocUnsafe(rt);if(rt>0)if(rt>a)for(var st=0;st<rt;st+=a)et.getRandomValues(it.slice(st,st+a));else et.getRandomValues(it);return typeof nt=="function"?process$1$1.nextTick(function(){nt(null,it)}):it}return browser$9.exports}var legacy,hasRequiredLegacy;function requireLegacy(){if(hasRequiredLegacy)return legacy;hasRequiredLegacy=1;var a=inherits_browserExports,_=safeBufferExports.Buffer,$=cipherBase,j=_.alloc(128),et=64;function tt(rt,nt){$.call(this,"digest"),typeof nt=="string"&&(nt=_.from(nt)),this._alg=rt,this._key=nt,nt.length>et?nt=rt(nt):nt.length<et&&(nt=_.concat([nt,j],et));for(var it=this._ipad=_.allocUnsafe(et),st=this._opad=_.allocUnsafe(et),ot=0;ot<et;ot++)it[ot]=nt[ot]^54,st[ot]=nt[ot]^92;this._hash=[it]}return a(tt,$),tt.prototype._update=function(rt){this._hash.push(rt)},tt.prototype._final=function(){var rt=this._alg(_.concat(this._hash));return this._alg(_.concat([this._opad,rt]))},legacy=tt,legacy}var MD5=md5_js,md5$3=function(a){return new MD5().update(a).digest()},browser$8,hasRequiredBrowser$7;function requireBrowser$7(){if(hasRequiredBrowser$7)return browser$8;hasRequiredBrowser$7=1;var a=inherits_browserExports,_=requireLegacy(),$=cipherBase,j=safeBufferExports.Buffer,et=md5$3,tt=ripemd160,rt=sha_jsExports,nt=j.alloc(128);function it(st,ot){$.call(this,"digest"),typeof ot=="string"&&(ot=j.from(ot));var at=st==="sha512"||st==="sha384"?128:64;if(this._alg=st,this._key=ot,ot.length>at){var ut=st==="rmd160"?new tt:rt(st);ot=ut.update(ot).digest()}else ot.length<at&&(ot=j.concat([ot,nt],at));for(var ht=this._ipad=j.allocUnsafe(at),yt=this._opad=j.allocUnsafe(at),wt=0;wt<at;wt++)ht[wt]=ot[wt]^54,yt[wt]=ot[wt]^92;this._hash=st==="rmd160"?new tt:rt(st),this._hash.update(ht)}return a(it,$),it.prototype._update=function(st){this._hash.update(st)},it.prototype._final=function(){var st=this._hash.digest(),ot=this._alg==="rmd160"?new tt:rt(this._alg);return ot.update(this._opad).update(st).digest()},browser$8=function(ot,at){return ot=ot.toLowerCase(),ot==="rmd160"||ot==="ripemd160"?new it("rmd160",at):ot==="md5"?new _(et,at):new it(ot,at)},browser$8}const sha224WithRSAEncryption={sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption={sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption={sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption={sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},sha256$3={sign:"ecdsa",hash:"sha256",id:""},sha224={sign:"ecdsa",hash:"sha224",id:""},sha384={sign:"ecdsa",hash:"sha384",id:""},sha512$3={sign:"ecdsa",hash:"sha512",id:""},DSA={sign:"dsa",hash:"sha1",id:""},ripemd160WithRSA={sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption={sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},require$$6$1={sha224WithRSAEncryption,"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption,"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption,"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption,"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:sha256$3,sha224,sha384,sha512:sha512$3,"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA,"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA,"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption,"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}};var algos,hasRequiredAlgos;function requireAlgos(){return hasRequiredAlgos||(hasRequiredAlgos=1,algos=require$$6$1),algos}var browser$7={},MAX_ALLOC=Math.pow(2,30)-1,precondition=function(a,_){if(typeof a!="number")throw new TypeError("Iterations not a number");if(a<0)throw new TypeError("Bad iterations");if(typeof _!="number")throw new TypeError("Key length not a number");if(_<0||_>MAX_ALLOC||_!==_)throw new TypeError("Bad key length")},defaultEncoding$2;if(commonjsGlobal.process&&commonjsGlobal.process.browser)defaultEncoding$2="utf-8";else if(commonjsGlobal.process&&commonjsGlobal.process.version){var pVersionMajor=parseInt(process$1$1.version.split(".")[0].slice(1),10);defaultEncoding$2=pVersionMajor>=6?"utf-8":"binary"}else defaultEncoding$2="utf-8";var defaultEncoding_1=defaultEncoding$2,Buffer$2=safeBufferExports.Buffer,toBuffer$3=function(a,_,$){if(Buffer$2.isBuffer(a))return a;if(typeof a=="string")return Buffer$2.from(a,_);if(ArrayBuffer.isView(a))return Buffer$2.from(a.buffer);throw new TypeError($+" must be a string, a Buffer, a typed array or a DataView")},md5$2=md5$3,RIPEMD160$1=ripemd160,sha$1=sha_jsExports,Buffer$1=safeBufferExports.Buffer,checkParameters$1=precondition,defaultEncoding$1=defaultEncoding_1,toBuffer$2=toBuffer$3,ZEROS=Buffer$1.alloc(128),sizes$1={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function Hmac$1(a,_,$){var j=getDigest(a),et=a==="sha512"||a==="sha384"?128:64;_.length>et?_=j(_):_.length<et&&(_=Buffer$1.concat([_,ZEROS],et));for(var tt=Buffer$1.allocUnsafe(et+sizes$1[a]),rt=Buffer$1.allocUnsafe(et+sizes$1[a]),nt=0;nt<et;nt++)tt[nt]=_[nt]^54,rt[nt]=_[nt]^92;var it=Buffer$1.allocUnsafe(et+$+4);tt.copy(it,0,0,et),this.ipad1=it,this.ipad2=tt,this.opad=rt,this.alg=a,this.blocksize=et,this.hash=j,this.size=sizes$1[a]}Hmac$1.prototype.run=function(a,_){a.copy(_,this.blocksize);var $=this.hash(_);return $.copy(this.opad,this.blocksize),this.hash(this.opad)};function getDigest(a){function _(j){return sha$1(a).update(j).digest()}function $(j){return new RIPEMD160$1().update(j).digest()}return a==="rmd160"||a==="ripemd160"?$:a==="md5"?md5$2:_}function pbkdf2$2(a,_,$,j,et){checkParameters$1($,j),a=toBuffer$2(a,defaultEncoding$1,"Password"),_=toBuffer$2(_,defaultEncoding$1,"Salt"),et=et||"sha1";var tt=new Hmac$1(et,a,_.length),rt=Buffer$1.allocUnsafe(j),nt=Buffer$1.allocUnsafe(_.length+4);_.copy(nt,0,0,_.length);for(var it=0,st=sizes$1[et],ot=Math.ceil(j/st),at=1;at<=ot;at++){nt.writeUInt32BE(at,_.length);for(var ut=tt.run(nt,tt.ipad1),ht=ut,yt=1;yt<$;yt++){ht=tt.run(ht,tt.ipad2);for(var wt=0;wt<st;wt++)ut[wt]^=ht[wt]}ut.copy(rt,it),it+=st}return rt}var syncBrowser=pbkdf2$2,Buffer=safeBufferExports.Buffer,checkParameters=precondition,defaultEncoding=defaultEncoding_1,sync=syncBrowser,toBuffer$1=toBuffer$3,ZERO_BUF,subtle$1=commonjsGlobal.crypto&&commonjsGlobal.crypto.subtle,toBrowser={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},checks=[];function checkNative(a){if(commonjsGlobal.process&&!commonjsGlobal.process.browser||!subtle$1||!subtle$1.importKey||!subtle$1.deriveBits)return Promise.resolve(!1);if(checks[a]!==void 0)return checks[a];ZERO_BUF=ZERO_BUF||Buffer.alloc(8);var _=browserPbkdf2(ZERO_BUF,ZERO_BUF,10,128,a).then(function(){return!0}).catch(function(){return!1});return checks[a]=_,_}var nextTick$1;function getNextTick(){return nextTick$1||(commonjsGlobal.process&&commonjsGlobal.process.nextTick?nextTick$1=commonjsGlobal.process.nextTick:commonjsGlobal.queueMicrotask?nextTick$1=commonjsGlobal.queueMicrotask:commonjsGlobal.setImmediate?nextTick$1=commonjsGlobal.setImmediate:nextTick$1=commonjsGlobal.setTimeout,nextTick$1)}function browserPbkdf2(a,_,$,j,et){return subtle$1.importKey("raw",a,{name:"PBKDF2"},!1,["deriveBits"]).then(function(tt){return subtle$1.deriveBits({name:"PBKDF2",salt:_,iterations:$,hash:{name:et}},tt,j<<3)}).then(function(tt){return Buffer.from(tt)})}function resolvePromise(a,_){a.then(function($){getNextTick()(function(){_(null,$)})},function($){getNextTick()(function(){_($)})})}var async$1=function(a,_,$,j,et,tt){typeof et=="function"&&(tt=et,et=void 0),et=et||"sha1";var rt=toBrowser[et.toLowerCase()];if(!rt||typeof commonjsGlobal.Promise!="function"){getNextTick()(function(){var nt;try{nt=sync(a,_,$,j,et)}catch(it){return tt(it)}tt(null,nt)});return}if(checkParameters($,j),a=toBuffer$1(a,defaultEncoding,"Password"),_=toBuffer$1(_,defaultEncoding,"Salt"),typeof tt!="function")throw new Error("No callback provided to pbkdf2");resolvePromise(checkNative(rt).then(function(nt){return nt?browserPbkdf2(a,_,$,j,rt):sync(a,_,$,j,et)}),tt)};browser$7.pbkdf2=async$1;browser$7.pbkdf2Sync=syncBrowser;var browser$6={},des$1={},utils$x={},hasRequiredUtils$2;function requireUtils$2(){if(hasRequiredUtils$2)return utils$x;hasRequiredUtils$2=1,utils$x.readUInt32BE=function(et,tt){var rt=et[0+tt]<<24|et[1+tt]<<16|et[2+tt]<<8|et[3+tt];return rt>>>0},utils$x.writeUInt32BE=function(et,tt,rt){et[0+rt]=tt>>>24,et[1+rt]=tt>>>16&255,et[2+rt]=tt>>>8&255,et[3+rt]=tt&255},utils$x.ip=function(et,tt,rt,nt){for(var it=0,st=0,ot=6;ot>=0;ot-=2){for(var at=0;at<=24;at+=8)it<<=1,it|=tt>>>at+ot&1;for(var at=0;at<=24;at+=8)it<<=1,it|=et>>>at+ot&1}for(var ot=6;ot>=0;ot-=2){for(var at=1;at<=25;at+=8)st<<=1,st|=tt>>>at+ot&1;for(var at=1;at<=25;at+=8)st<<=1,st|=et>>>at+ot&1}rt[nt+0]=it>>>0,rt[nt+1]=st>>>0},utils$x.rip=function(et,tt,rt,nt){for(var it=0,st=0,ot=0;ot<4;ot++)for(var at=24;at>=0;at-=8)it<<=1,it|=tt>>>at+ot&1,it<<=1,it|=et>>>at+ot&1;for(var ot=4;ot<8;ot++)for(var at=24;at>=0;at-=8)st<<=1,st|=tt>>>at+ot&1,st<<=1,st|=et>>>at+ot&1;rt[nt+0]=it>>>0,rt[nt+1]=st>>>0},utils$x.pc1=function(et,tt,rt,nt){for(var it=0,st=0,ot=7;ot>=5;ot--){for(var at=0;at<=24;at+=8)it<<=1,it|=tt>>at+ot&1;for(var at=0;at<=24;at+=8)it<<=1,it|=et>>at+ot&1}for(var at=0;at<=24;at+=8)it<<=1,it|=tt>>at+ot&1;for(var ot=1;ot<=3;ot++){for(var at=0;at<=24;at+=8)st<<=1,st|=tt>>at+ot&1;for(var at=0;at<=24;at+=8)st<<=1,st|=et>>at+ot&1}for(var at=0;at<=24;at+=8)st<<=1,st|=et>>at+ot&1;rt[nt+0]=it>>>0,rt[nt+1]=st>>>0},utils$x.r28shl=function(et,tt){return et<<tt&268435455|et>>>28-tt};var a=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];utils$x.pc2=function(et,tt,rt,nt){for(var it=0,st=0,ot=a.length>>>1,at=0;at<ot;at++)it<<=1,it|=et>>>a[at]&1;for(var at=ot;at<a.length;at++)st<<=1,st|=tt>>>a[at]&1;rt[nt+0]=it>>>0,rt[nt+1]=st>>>0},utils$x.expand=function(et,tt,rt){var nt=0,it=0;nt=(et&1)<<5|et>>>27;for(var st=23;st>=15;st-=4)nt<<=6,nt|=et>>>st&63;for(var st=11;st>=3;st-=4)it|=et>>>st&63,it<<=6;it|=(et&31)<<1|et>>>31,tt[rt+0]=nt>>>0,tt[rt+1]=it>>>0};var _=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];utils$x.substitute=function(et,tt){for(var rt=0,nt=0;nt<4;nt++){var it=et>>>18-nt*6&63,st=_[nt*64+it];rt<<=4,rt|=st}for(var nt=0;nt<4;nt++){var it=tt>>>18-nt*6&63,st=_[4*64+nt*64+it];rt<<=4,rt|=st}return rt>>>0};var $=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];return utils$x.permute=function(et){for(var tt=0,rt=0;rt<$.length;rt++)tt<<=1,tt|=et>>>$[rt]&1;return tt>>>0},utils$x.padSplit=function(et,tt,rt){for(var nt=et.toString(2);nt.length<tt;)nt="0"+nt;for(var it=[],st=0;st<tt;st+=rt)it.push(nt.slice(st,st+rt));return it.join(" ")},utils$x}var minimalisticAssert=assert$h;function assert$h(a,_){if(!a)throw new Error(_||"Assertion failed")}assert$h.equal=function(_,$,j){if(_!=$)throw new Error(j||"Assertion failed: "+_+" != "+$)};var cipher,hasRequiredCipher;function requireCipher(){if(hasRequiredCipher)return cipher;hasRequiredCipher=1;var a=minimalisticAssert;function _($){this.options=$,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0,this.padding=$.padding!==!1}return cipher=_,_.prototype._init=function(){},_.prototype.update=function(j){return j.length===0?[]:this.type==="decrypt"?this._updateDecrypt(j):this._updateEncrypt(j)},_.prototype._buffer=function(j,et){for(var tt=Math.min(this.buffer.length-this.bufferOff,j.length-et),rt=0;rt<tt;rt++)this.buffer[this.bufferOff+rt]=j[et+rt];return this.bufferOff+=tt,tt},_.prototype._flushBuffer=function(j,et){return this._update(this.buffer,0,j,et),this.bufferOff=0,this.blockSize},_.prototype._updateEncrypt=function(j){var et=0,tt=0,rt=(this.bufferOff+j.length)/this.blockSize|0,nt=new Array(rt*this.blockSize);this.bufferOff!==0&&(et+=this._buffer(j,et),this.bufferOff===this.buffer.length&&(tt+=this._flushBuffer(nt,tt)));for(var it=j.length-(j.length-et)%this.blockSize;et<it;et+=this.blockSize)this._update(j,et,nt,tt),tt+=this.blockSize;for(;et<j.length;et++,this.bufferOff++)this.buffer[this.bufferOff]=j[et];return nt},_.prototype._updateDecrypt=function(j){for(var et=0,tt=0,rt=Math.ceil((this.bufferOff+j.length)/this.blockSize)-1,nt=new Array(rt*this.blockSize);rt>0;rt--)et+=this._buffer(j,et),tt+=this._flushBuffer(nt,tt);return et+=this._buffer(j,et),nt},_.prototype.final=function(j){var et;j&&(et=this.update(j));var tt;return this.type==="encrypt"?tt=this._finalEncrypt():tt=this._finalDecrypt(),et?et.concat(tt):tt},_.prototype._pad=function(j,et){if(et===0)return!1;for(;et<j.length;)j[et++]=0;return!0},_.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var j=new Array(this.blockSize);return this._update(this.buffer,0,j,0),j},_.prototype._unpad=function(j){return j},_.prototype._finalDecrypt=function(){a.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var j=new Array(this.blockSize);return this._flushBuffer(j,0),this._unpad(j)},cipher}var des,hasRequiredDes$1;function requireDes$1(){if(hasRequiredDes$1)return des;hasRequiredDes$1=1;var a=minimalisticAssert,_=inherits_browserExports,$=requireUtils$2(),j=requireCipher();function et(){this.tmp=new Array(2),this.keys=null}function tt(nt){j.call(this,nt);var it=new et;this._desState=it,this.deriveKeys(it,nt.key)}_(tt,j),des=tt,tt.create=function(it){return new tt(it)};var rt=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];return tt.prototype.deriveKeys=function(it,st){it.keys=new Array(16*2),a.equal(st.length,this.blockSize,"Invalid key length");var ot=$.readUInt32BE(st,0),at=$.readUInt32BE(st,4);$.pc1(ot,at,it.tmp,0),ot=it.tmp[0],at=it.tmp[1];for(var ut=0;ut<it.keys.length;ut+=2){var ht=rt[ut>>>1];ot=$.r28shl(ot,ht),at=$.r28shl(at,ht),$.pc2(ot,at,it.keys,ut)}},tt.prototype._update=function(it,st,ot,at){var ut=this._desState,ht=$.readUInt32BE(it,st),yt=$.readUInt32BE(it,st+4);$.ip(ht,yt,ut.tmp,0),ht=ut.tmp[0],yt=ut.tmp[1],this.type==="encrypt"?this._encrypt(ut,ht,yt,ut.tmp,0):this._decrypt(ut,ht,yt,ut.tmp,0),ht=ut.tmp[0],yt=ut.tmp[1],$.writeUInt32BE(ot,ht,at),$.writeUInt32BE(ot,yt,at+4)},tt.prototype._pad=function(it,st){if(this.padding===!1)return!1;for(var ot=it.length-st,at=st;at<it.length;at++)it[at]=ot;return!0},tt.prototype._unpad=function(it){if(this.padding===!1)return it;for(var st=it[it.length-1],ot=it.length-st;ot<it.length;ot++)a.equal(it[ot],st);return it.slice(0,it.length-st)},tt.prototype._encrypt=function(it,st,ot,at,ut){for(var ht=st,yt=ot,wt=0;wt<it.keys.length;wt+=2){var Ct=it.keys[wt],Pt=it.keys[wt+1];$.expand(yt,it.tmp,0),Ct^=it.tmp[0],Pt^=it.tmp[1];var Tt=$.substitute(Ct,Pt),Mt=$.permute(Tt),Lt=yt;yt=(ht^Mt)>>>0,ht=Lt}$.rip(yt,ht,at,ut)},tt.prototype._decrypt=function(it,st,ot,at,ut){for(var ht=ot,yt=st,wt=it.keys.length-2;wt>=0;wt-=2){var Ct=it.keys[wt],Pt=it.keys[wt+1];$.expand(ht,it.tmp,0),Ct^=it.tmp[0],Pt^=it.tmp[1];var Tt=$.substitute(Ct,Pt),Mt=$.permute(Tt),Lt=ht;ht=(yt^Mt)>>>0,yt=Lt}$.rip(ht,yt,at,ut)},des}var cbc$1={},hasRequiredCbc$1;function requireCbc$1(){if(hasRequiredCbc$1)return cbc$1;hasRequiredCbc$1=1;var a=minimalisticAssert,_=inherits_browserExports,$={};function j(tt){a.equal(tt.length,8,"Invalid IV length"),this.iv=new Array(8);for(var rt=0;rt<this.iv.length;rt++)this.iv[rt]=tt[rt]}function et(tt){function rt(ot){tt.call(this,ot),this._cbcInit()}_(rt,tt);for(var nt=Object.keys($),it=0;it<nt.length;it++){var st=nt[it];rt.prototype[st]=$[st]}return rt.create=function(at){return new rt(at)},rt}return cbc$1.instantiate=et,$._cbcInit=function(){var rt=new j(this.options.iv);this._cbcState=rt},$._update=function(rt,nt,it,st){var ot=this._cbcState,at=this.constructor.super_.prototype,ut=ot.iv;if(this.type==="encrypt"){for(var ht=0;ht<this.blockSize;ht++)ut[ht]^=rt[nt+ht];at._update.call(this,ut,0,it,st);for(var ht=0;ht<this.blockSize;ht++)ut[ht]=it[st+ht]}else{at._update.call(this,rt,nt,it,st);for(var ht=0;ht<this.blockSize;ht++)it[st+ht]^=ut[ht];for(var ht=0;ht<this.blockSize;ht++)ut[ht]=rt[nt+ht]}},cbc$1}var ede,hasRequiredEde;function requireEde(){if(hasRequiredEde)return ede;hasRequiredEde=1;var a=minimalisticAssert,_=inherits_browserExports,$=requireCipher(),j=requireDes$1();function et(rt,nt){a.equal(nt.length,24,"Invalid key length");var it=nt.slice(0,8),st=nt.slice(8,16),ot=nt.slice(16,24);rt==="encrypt"?this.ciphers=[j.create({type:"encrypt",key:it}),j.create({type:"decrypt",key:st}),j.create({type:"encrypt",key:ot})]:this.ciphers=[j.create({type:"decrypt",key:ot}),j.create({type:"encrypt",key:st}),j.create({type:"decrypt",key:it})]}function tt(rt){$.call(this,rt);var nt=new et(this.type,this.options.key);this._edeState=nt}return _(tt,$),ede=tt,tt.create=function(nt){return new tt(nt)},tt.prototype._update=function(nt,it,st,ot){var at=this._edeState;at.ciphers[0]._update(nt,it,st,ot),at.ciphers[1]._update(st,ot,st,ot),at.ciphers[2]._update(st,ot,st,ot)},tt.prototype._pad=j.prototype._pad,tt.prototype._unpad=j.prototype._unpad,ede}var hasRequiredDes;function requireDes(){return hasRequiredDes||(hasRequiredDes=1,des$1.utils=requireUtils$2(),des$1.Cipher=requireCipher(),des$1.DES=requireDes$1(),des$1.CBC=requireCbc$1(),des$1.EDE=requireEde()),des$1}var browserifyDes,hasRequiredBrowserifyDes;function requireBrowserifyDes(){if(hasRequiredBrowserifyDes)return browserifyDes;hasRequiredBrowserifyDes=1;var a=cipherBase,_=requireDes(),$=inherits_browserExports,j=safeBufferExports.Buffer,et={"des-ede3-cbc":_.CBC.instantiate(_.EDE),"des-ede3":_.EDE,"des-ede-cbc":_.CBC.instantiate(_.EDE),"des-ede":_.EDE,"des-cbc":_.CBC.instantiate(_.DES),"des-ecb":_.DES};et.des=et["des-cbc"],et.des3=et["des-ede3-cbc"],browserifyDes=tt,$(tt,a);function tt(rt){a.call(this);var nt=rt.mode.toLowerCase(),it=et[nt],st;rt.decrypt?st="decrypt":st="encrypt";var ot=rt.key;j.isBuffer(ot)||(ot=j.from(ot)),(nt==="des-ede"||nt==="des-ede-cbc")&&(ot=j.concat([ot,ot.slice(0,8)]));var at=rt.iv;j.isBuffer(at)||(at=j.from(at)),this._des=it.create({key:ot,iv:at,type:st})}return tt.prototype._update=function(rt){return j.from(this._des.update(rt))},tt.prototype._final=function(){return j.from(this._des.final())},browserifyDes}var browser$5={},encrypter={},ecb={},hasRequiredEcb;function requireEcb(){return hasRequiredEcb||(hasRequiredEcb=1,ecb.encrypt=function(a,_){return a._cipher.encryptBlock(_)},ecb.decrypt=function(a,_){return a._cipher.decryptBlock(_)}),ecb}var cbc={},bufferXor,hasRequiredBufferXor;function requireBufferXor(){return hasRequiredBufferXor||(hasRequiredBufferXor=1,bufferXor=function(_,$){for(var j=Math.min(_.length,$.length),et=new Buffer$g(j),tt=0;tt<j;++tt)et[tt]=_[tt]^$[tt];return et}),bufferXor}var hasRequiredCbc;function requireCbc(){if(hasRequiredCbc)return cbc;hasRequiredCbc=1;var a=requireBufferXor();return cbc.encrypt=function(_,$){var j=a($,_._prev);return _._prev=_._cipher.encryptBlock(j),_._prev},cbc.decrypt=function(_,$){var j=_._prev;_._prev=$;var et=_._cipher.decryptBlock($);return a(et,j)},cbc}var cfb={},hasRequiredCfb;function requireCfb(){if(hasRequiredCfb)return cfb;hasRequiredCfb=1;var a=safeBufferExports.Buffer,_=requireBufferXor();function $(j,et,tt){var rt=et.length,nt=_(et,j._cache);return j._cache=j._cache.slice(rt),j._prev=a.concat([j._prev,tt?et:nt]),nt}return cfb.encrypt=function(j,et,tt){for(var rt=a.allocUnsafe(0),nt;et.length;)if(j._cache.length===0&&(j._cache=j._cipher.encryptBlock(j._prev),j._prev=a.allocUnsafe(0)),j._cache.length<=et.length)nt=j._cache.length,rt=a.concat([rt,$(j,et.slice(0,nt),tt)]),et=et.slice(nt);else{rt=a.concat([rt,$(j,et,tt)]);break}return rt},cfb}var cfb8={},hasRequiredCfb8;function requireCfb8(){if(hasRequiredCfb8)return cfb8;hasRequiredCfb8=1;var a=safeBufferExports.Buffer;function _($,j,et){var tt=$._cipher.encryptBlock($._prev),rt=tt[0]^j;return $._prev=a.concat([$._prev.slice(1),a.from([et?j:rt])]),rt}return cfb8.encrypt=function($,j,et){for(var tt=j.length,rt=a.allocUnsafe(tt),nt=-1;++nt<tt;)rt[nt]=_($,j[nt],et);return rt},cfb8}var cfb1={},hasRequiredCfb1;function requireCfb1(){if(hasRequiredCfb1)return cfb1;hasRequiredCfb1=1;var a=safeBufferExports.Buffer;function _(j,et,tt){for(var rt,nt=-1,it=8,st=0,ot,at;++nt<it;)rt=j._cipher.encryptBlock(j._prev),ot=et&1<<7-nt?128:0,at=rt[0]^ot,st+=(at&128)>>nt%8,j._prev=$(j._prev,tt?ot:at);return st}function $(j,et){var tt=j.length,rt=-1,nt=a.allocUnsafe(j.length);for(j=a.concat([j,a.from([et])]);++rt<tt;)nt[rt]=j[rt]<<1|j[rt+1]>>7;return nt}return cfb1.encrypt=function(j,et,tt){for(var rt=et.length,nt=a.allocUnsafe(rt),it=-1;++it<rt;)nt[it]=_(j,et[it],tt);return nt},cfb1}var ofb={},hasRequiredOfb;function requireOfb(){if(hasRequiredOfb)return ofb;hasRequiredOfb=1;var a=requireBufferXor();function _($){return $._prev=$._cipher.encryptBlock($._prev),$._prev}return ofb.encrypt=function($,j){for(;$._cache.length<j.length;)$._cache=Buffer$g.concat([$._cache,_($)]);var et=$._cache.slice(0,j.length);return $._cache=$._cache.slice(j.length),a(j,et)},ofb}var ctr={},incr32_1,hasRequiredIncr32;function requireIncr32(){if(hasRequiredIncr32)return incr32_1;hasRequiredIncr32=1;function a(_){for(var $=_.length,j;$--;)if(j=_.readUInt8($),j===255)_.writeUInt8(0,$);else{j++,_.writeUInt8(j,$);break}}return incr32_1=a,incr32_1}var hasRequiredCtr;function requireCtr(){if(hasRequiredCtr)return ctr;hasRequiredCtr=1;var a=requireBufferXor(),_=safeBufferExports.Buffer,$=requireIncr32();function j(tt){var rt=tt._cipher.encryptBlockRaw(tt._prev);return $(tt._prev),rt}var et=16;return ctr.encrypt=function(tt,rt){var nt=Math.ceil(rt.length/et),it=tt._cache.length;tt._cache=_.concat([tt._cache,_.allocUnsafe(nt*et)]);for(var st=0;st<nt;st++){var ot=j(tt),at=it+st*et;tt._cache.writeUInt32BE(ot[0],at+0),tt._cache.writeUInt32BE(ot[1],at+4),tt._cache.writeUInt32BE(ot[2],at+8),tt._cache.writeUInt32BE(ot[3],at+12)}var ut=tt._cache.slice(0,rt.length);return tt._cache=tt._cache.slice(rt.length),a(rt,ut)},ctr}const aes128={cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},aes192={cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},aes256={cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},require$$2$2={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128,aes192,aes256,"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}};var modes_1,hasRequiredModes$1;function requireModes$1(){if(hasRequiredModes$1)return modes_1;hasRequiredModes$1=1;var a={ECB:requireEcb(),CBC:requireCbc(),CFB:requireCfb(),CFB8:requireCfb8(),CFB1:requireCfb1(),OFB:requireOfb(),CTR:requireCtr(),GCM:requireCtr()},_=require$$2$2;for(var $ in _)_[$].module=a[_[$].mode];return modes_1=_,modes_1}var aes={},hasRequiredAes;function requireAes(){if(hasRequiredAes)return aes;hasRequiredAes=1;var a=safeBufferExports.Buffer;function _(nt){a.isBuffer(nt)||(nt=a.from(nt));for(var it=nt.length/4|0,st=new Array(it),ot=0;ot<it;ot++)st[ot]=nt.readUInt32BE(ot*4);return st}function $(nt){for(var it=0;it<nt.length;nt++)nt[it]=0}function j(nt,it,st,ot,at){for(var ut=st[0],ht=st[1],yt=st[2],wt=st[3],Ct=nt[0]^it[0],Pt=nt[1]^it[1],Tt=nt[2]^it[2],Mt=nt[3]^it[3],Lt,Dt,Ut,Ot,It=4,Bt=1;Bt<at;Bt++)Lt=ut[Ct>>>24]^ht[Pt>>>16&255]^yt[Tt>>>8&255]^wt[Mt&255]^it[It++],Dt=ut[Pt>>>24]^ht[Tt>>>16&255]^yt[Mt>>>8&255]^wt[Ct&255]^it[It++],Ut=ut[Tt>>>24]^ht[Mt>>>16&255]^yt[Ct>>>8&255]^wt[Pt&255]^it[It++],Ot=ut[Mt>>>24]^ht[Ct>>>16&255]^yt[Pt>>>8&255]^wt[Tt&255]^it[It++],Ct=Lt,Pt=Dt,Tt=Ut,Mt=Ot;return Lt=(ot[Ct>>>24]<<24|ot[Pt>>>16&255]<<16|ot[Tt>>>8&255]<<8|ot[Mt&255])^it[It++],Dt=(ot[Pt>>>24]<<24|ot[Tt>>>16&255]<<16|ot[Mt>>>8&255]<<8|ot[Ct&255])^it[It++],Ut=(ot[Tt>>>24]<<24|ot[Mt>>>16&255]<<16|ot[Ct>>>8&255]<<8|ot[Pt&255])^it[It++],Ot=(ot[Mt>>>24]<<24|ot[Ct>>>16&255]<<16|ot[Pt>>>8&255]<<8|ot[Tt&255])^it[It++],Lt=Lt>>>0,Dt=Dt>>>0,Ut=Ut>>>0,Ot=Ot>>>0,[Lt,Dt,Ut,Ot]}var et=[0,1,2,4,8,16,32,64,128,27,54],tt=function(){for(var nt=new Array(256),it=0;it<256;it++)it<128?nt[it]=it<<1:nt[it]=it<<1^283;for(var st=[],ot=[],at=[[],[],[],[]],ut=[[],[],[],[]],ht=0,yt=0,wt=0;wt<256;++wt){var Ct=yt^yt<<1^yt<<2^yt<<3^yt<<4;Ct=Ct>>>8^Ct&255^99,st[ht]=Ct,ot[Ct]=ht;var Pt=nt[ht],Tt=nt[Pt],Mt=nt[Tt],Lt=nt[Ct]*257^Ct*16843008;at[0][ht]=Lt<<24|Lt>>>8,at[1][ht]=Lt<<16|Lt>>>16,at[2][ht]=Lt<<8|Lt>>>24,at[3][ht]=Lt,Lt=Mt*16843009^Tt*65537^Pt*257^ht*16843008,ut[0][Ct]=Lt<<24|Lt>>>8,ut[1][Ct]=Lt<<16|Lt>>>16,ut[2][Ct]=Lt<<8|Lt>>>24,ut[3][Ct]=Lt,ht===0?ht=yt=1:(ht=Pt^nt[nt[nt[Mt^Pt]]],yt^=nt[nt[yt]])}return{SBOX:st,INV_SBOX:ot,SUB_MIX:at,INV_SUB_MIX:ut}}();function rt(nt){this._key=_(nt),this._reset()}return rt.blockSize=4*4,rt.keySize=256/8,rt.prototype.blockSize=rt.blockSize,rt.prototype.keySize=rt.keySize,rt.prototype._reset=function(){for(var nt=this._key,it=nt.length,st=it+6,ot=(st+1)*4,at=[],ut=0;ut<it;ut++)at[ut]=nt[ut];for(ut=it;ut<ot;ut++){var ht=at[ut-1];ut%it===0?(ht=ht<<8|ht>>>24,ht=tt.SBOX[ht>>>24]<<24|tt.SBOX[ht>>>16&255]<<16|tt.SBOX[ht>>>8&255]<<8|tt.SBOX[ht&255],ht^=et[ut/it|0]<<24):it>6&&ut%it===4&&(ht=tt.SBOX[ht>>>24]<<24|tt.SBOX[ht>>>16&255]<<16|tt.SBOX[ht>>>8&255]<<8|tt.SBOX[ht&255]),at[ut]=at[ut-it]^ht}for(var yt=[],wt=0;wt<ot;wt++){var Ct=ot-wt,Pt=at[Ct-(wt%4?0:4)];wt<4||Ct<=4?yt[wt]=Pt:yt[wt]=tt.INV_SUB_MIX[0][tt.SBOX[Pt>>>24]]^tt.INV_SUB_MIX[1][tt.SBOX[Pt>>>16&255]]^tt.INV_SUB_MIX[2][tt.SBOX[Pt>>>8&255]]^tt.INV_SUB_MIX[3][tt.SBOX[Pt&255]]}this._nRounds=st,this._keySchedule=at,this._invKeySchedule=yt},rt.prototype.encryptBlockRaw=function(nt){return nt=_(nt),j(nt,this._keySchedule,tt.SUB_MIX,tt.SBOX,this._nRounds)},rt.prototype.encryptBlock=function(nt){var it=this.encryptBlockRaw(nt),st=a.allocUnsafe(16);return st.writeUInt32BE(it[0],0),st.writeUInt32BE(it[1],4),st.writeUInt32BE(it[2],8),st.writeUInt32BE(it[3],12),st},rt.prototype.decryptBlock=function(nt){nt=_(nt);var it=nt[1];nt[1]=nt[3],nt[3]=it;var st=j(nt,this._invKeySchedule,tt.INV_SUB_MIX,tt.INV_SBOX,this._nRounds),ot=a.allocUnsafe(16);return ot.writeUInt32BE(st[0],0),ot.writeUInt32BE(st[3],4),ot.writeUInt32BE(st[2],8),ot.writeUInt32BE(st[1],12),ot},rt.prototype.scrub=function(){$(this._keySchedule),$(this._invKeySchedule),$(this._key)},aes.AES=rt,aes}var ghash,hasRequiredGhash;function requireGhash(){if(hasRequiredGhash)return ghash;hasRequiredGhash=1;var a=safeBufferExports.Buffer,_=a.alloc(16,0);function $(tt){return[tt.readUInt32BE(0),tt.readUInt32BE(4),tt.readUInt32BE(8),tt.readUInt32BE(12)]}function j(tt){var rt=a.allocUnsafe(16);return rt.writeUInt32BE(tt[0]>>>0,0),rt.writeUInt32BE(tt[1]>>>0,4),rt.writeUInt32BE(tt[2]>>>0,8),rt.writeUInt32BE(tt[3]>>>0,12),rt}function et(tt){this.h=tt,this.state=a.alloc(16,0),this.cache=a.allocUnsafe(0)}return et.prototype.ghash=function(tt){for(var rt=-1;++rt<tt.length;)this.state[rt]^=tt[rt];this._multiply()},et.prototype._multiply=function(){for(var tt=$(this.h),rt=[0,0,0,0],nt,it,st,ot=-1;++ot<128;){for(it=(this.state[~~(ot/8)]&1<<7-ot%8)!==0,it&&(rt[0]^=tt[0],rt[1]^=tt[1],rt[2]^=tt[2],rt[3]^=tt[3]),st=(tt[3]&1)!==0,nt=3;nt>0;nt--)tt[nt]=tt[nt]>>>1|(tt[nt-1]&1)<<31;tt[0]=tt[0]>>>1,st&&(tt[0]=tt[0]^225<<24)}this.state=j(rt)},et.prototype.update=function(tt){this.cache=a.concat([this.cache,tt]);for(var rt;this.cache.length>=16;)rt=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(rt)},et.prototype.final=function(tt,rt){return this.cache.length&&this.ghash(a.concat([this.cache,_],16)),this.ghash(j([0,tt,0,rt])),this.state},ghash=et,ghash}var authCipher,hasRequiredAuthCipher;function requireAuthCipher(){if(hasRequiredAuthCipher)return authCipher;hasRequiredAuthCipher=1;var a=requireAes(),_=safeBufferExports.Buffer,$=cipherBase,j=inherits_browserExports,et=requireGhash(),tt=requireBufferXor(),rt=requireIncr32();function nt(ot,at){var ut=0;ot.length!==at.length&&ut++;for(var ht=Math.min(ot.length,at.length),yt=0;yt<ht;++yt)ut+=ot[yt]^at[yt];return ut}function it(ot,at,ut){if(at.length===12)return ot._finID=_.concat([at,_.from([0,0,0,1])]),_.concat([at,_.from([0,0,0,2])]);var ht=new et(ut),yt=at.length,wt=yt%16;ht.update(at),wt&&(wt=16-wt,ht.update(_.alloc(wt,0))),ht.update(_.alloc(8,0));var Ct=yt*8,Pt=_.alloc(8);Pt.writeUIntBE(Ct,0,8),ht.update(Pt),ot._finID=ht.state;var Tt=_.from(ot._finID);return rt(Tt),Tt}function st(ot,at,ut,ht){$.call(this);var yt=_.alloc(4,0);this._cipher=new a.AES(at);var wt=this._cipher.encryptBlock(yt);this._ghash=new et(wt),ut=it(this,ut,wt),this._prev=_.from(ut),this._cache=_.allocUnsafe(0),this._secCache=_.allocUnsafe(0),this._decrypt=ht,this._alen=0,this._len=0,this._mode=ot,this._authTag=null,this._called=!1}return j(st,$),st.prototype._update=function(ot){if(!this._called&&this._alen){var at=16-this._alen%16;at<16&&(at=_.alloc(at,0),this._ghash.update(at))}this._called=!0;var ut=this._mode.encrypt(this,ot);return this._decrypt?this._ghash.update(ot):this._ghash.update(ut),this._len+=ot.length,ut},st.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var ot=tt(this._ghash.final(this._alen*8,this._len*8),this._cipher.encryptBlock(this._finID));if(this._decrypt&&nt(ot,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=ot,this._cipher.scrub()},st.prototype.getAuthTag=function(){if(this._decrypt||!_.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},st.prototype.setAuthTag=function(at){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=at},st.prototype.setAAD=function(at){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(at),this._alen+=at.length},authCipher=st,authCipher}var streamCipher,hasRequiredStreamCipher;function requireStreamCipher(){if(hasRequiredStreamCipher)return streamCipher;hasRequiredStreamCipher=1;var a=requireAes(),_=safeBufferExports.Buffer,$=cipherBase,j=inherits_browserExports;function et(tt,rt,nt,it){$.call(this),this._cipher=new a.AES(rt),this._prev=_.from(nt),this._cache=_.allocUnsafe(0),this._secCache=_.allocUnsafe(0),this._decrypt=it,this._mode=tt}return j(et,$),et.prototype._update=function(tt){return this._mode.encrypt(this,tt,this._decrypt)},et.prototype._final=function(){this._cipher.scrub()},streamCipher=et,streamCipher}var evp_bytestokey,hasRequiredEvp_bytestokey;function requireEvp_bytestokey(){if(hasRequiredEvp_bytestokey)return evp_bytestokey;hasRequiredEvp_bytestokey=1;var a=safeBufferExports.Buffer,_=md5_js;function $(j,et,tt,rt){if(a.isBuffer(j)||(j=a.from(j,"binary")),et&&(a.isBuffer(et)||(et=a.from(et,"binary")),et.length!==8))throw new RangeError("salt should be Buffer with 8 byte length");for(var nt=tt/8,it=a.alloc(nt),st=a.alloc(rt||0),ot=a.alloc(0);nt>0||rt>0;){var at=new _;at.update(ot),at.update(j),et&&at.update(et),ot=at.digest();var ut=0;if(nt>0){var ht=it.length-nt;ut=Math.min(nt,ot.length),ot.copy(it,ht,0,ut),nt-=ut}if(ut<ot.length&&rt>0){var yt=st.length-rt,wt=Math.min(rt,ot.length-ut);ot.copy(st,yt,ut,ut+wt),rt-=wt}}return ot.fill(0),{key:it,iv:st}}return evp_bytestokey=$,evp_bytestokey}var hasRequiredEncrypter;function requireEncrypter(){if(hasRequiredEncrypter)return encrypter;hasRequiredEncrypter=1;var a=requireModes$1(),_=requireAuthCipher(),$=safeBufferExports.Buffer,j=requireStreamCipher(),et=cipherBase,tt=requireAes(),rt=requireEvp_bytestokey(),nt=inherits_browserExports;function it(ht,yt,wt){et.call(this),this._cache=new ot,this._cipher=new tt.AES(yt),this._prev=$.from(wt),this._mode=ht,this._autopadding=!0}nt(it,et),it.prototype._update=function(ht){this._cache.add(ht);for(var yt,wt,Ct=[];yt=this._cache.get();)wt=this._mode.encrypt(this,yt),Ct.push(wt);return $.concat(Ct)};var st=$.alloc(16,16);it.prototype._final=function(){var ht=this._cache.flush();if(this._autopadding)return ht=this._mode.encrypt(this,ht),this._cipher.scrub(),ht;if(!ht.equals(st))throw this._cipher.scrub(),new Error("data not multiple of block length")},it.prototype.setAutoPadding=function(ht){return this._autopadding=!!ht,this};function ot(){this.cache=$.allocUnsafe(0)}ot.prototype.add=function(ht){this.cache=$.concat([this.cache,ht])},ot.prototype.get=function(){if(this.cache.length>15){var ht=this.cache.slice(0,16);return this.cache=this.cache.slice(16),ht}return null},ot.prototype.flush=function(){for(var ht=16-this.cache.length,yt=$.allocUnsafe(ht),wt=-1;++wt<ht;)yt.writeUInt8(ht,wt);return $.concat([this.cache,yt])};function at(ht,yt,wt){var Ct=a[ht.toLowerCase()];if(!Ct)throw new TypeError("invalid suite type");if(typeof yt=="string"&&(yt=$.from(yt)),yt.length!==Ct.key/8)throw new TypeError("invalid key length "+yt.length);if(typeof wt=="string"&&(wt=$.from(wt)),Ct.mode!=="GCM"&&wt.length!==Ct.iv)throw new TypeError("invalid iv length "+wt.length);return Ct.type==="stream"?new j(Ct.module,yt,wt):Ct.type==="auth"?new _(Ct.module,yt,wt):new it(Ct.module,yt,wt)}function ut(ht,yt){var wt=a[ht.toLowerCase()];if(!wt)throw new TypeError("invalid suite type");var Ct=rt(yt,!1,wt.key,wt.iv);return at(ht,Ct.key,Ct.iv)}return encrypter.createCipheriv=at,encrypter.createCipher=ut,encrypter}var decrypter={},hasRequiredDecrypter;function requireDecrypter(){if(hasRequiredDecrypter)return decrypter;hasRequiredDecrypter=1;var a=requireAuthCipher(),_=safeBufferExports.Buffer,$=requireModes$1(),j=requireStreamCipher(),et=cipherBase,tt=requireAes(),rt=requireEvp_bytestokey(),nt=inherits_browserExports;function it(ht,yt,wt){et.call(this),this._cache=new st,this._last=void 0,this._cipher=new tt.AES(yt),this._prev=_.from(wt),this._mode=ht,this._autopadding=!0}nt(it,et),it.prototype._update=function(ht){this._cache.add(ht);for(var yt,wt,Ct=[];yt=this._cache.get(this._autopadding);)wt=this._mode.decrypt(this,yt),Ct.push(wt);return _.concat(Ct)},it.prototype._final=function(){var ht=this._cache.flush();if(this._autopadding)return ot(this._mode.decrypt(this,ht));if(ht)throw new Error("data not multiple of block length")},it.prototype.setAutoPadding=function(ht){return this._autopadding=!!ht,this};function st(){this.cache=_.allocUnsafe(0)}st.prototype.add=function(ht){this.cache=_.concat([this.cache,ht])},st.prototype.get=function(ht){var yt;if(ht){if(this.cache.length>16)return yt=this.cache.slice(0,16),this.cache=this.cache.slice(16),yt}else if(this.cache.length>=16)return yt=this.cache.slice(0,16),this.cache=this.cache.slice(16),yt;return null},st.prototype.flush=function(){if(this.cache.length)return this.cache};function ot(ht){var yt=ht[15];if(yt<1||yt>16)throw new Error("unable to decrypt data");for(var wt=-1;++wt<yt;)if(ht[wt+(16-yt)]!==yt)throw new Error("unable to decrypt data");if(yt!==16)return ht.slice(0,16-yt)}function at(ht,yt,wt){var Ct=$[ht.toLowerCase()];if(!Ct)throw new TypeError("invalid suite type");if(typeof wt=="string"&&(wt=_.from(wt)),Ct.mode!=="GCM"&&wt.length!==Ct.iv)throw new TypeError("invalid iv length "+wt.length);if(typeof yt=="string"&&(yt=_.from(yt)),yt.length!==Ct.key/8)throw new TypeError("invalid key length "+yt.length);return Ct.type==="stream"?new j(Ct.module,yt,wt,!0):Ct.type==="auth"?new a(Ct.module,yt,wt,!0):new it(Ct.module,yt,wt)}function ut(ht,yt){var wt=$[ht.toLowerCase()];if(!wt)throw new TypeError("invalid suite type");var Ct=rt(yt,!1,wt.key,wt.iv);return at(ht,Ct.key,Ct.iv)}return decrypter.createDecipher=ut,decrypter.createDecipheriv=at,decrypter}var hasRequiredBrowser$6;function requireBrowser$6(){if(hasRequiredBrowser$6)return browser$5;hasRequiredBrowser$6=1;var a=requireEncrypter(),_=requireDecrypter(),$=require$$2$2;function j(){return Object.keys($)}return browser$5.createCipher=browser$5.Cipher=a.createCipher,browser$5.createCipheriv=browser$5.Cipheriv=a.createCipheriv,browser$5.createDecipher=browser$5.Decipher=_.createDecipher,browser$5.createDecipheriv=browser$5.Decipheriv=_.createDecipheriv,browser$5.listCiphers=browser$5.getCiphers=j,browser$5}var modes={},hasRequiredModes;function requireModes(){return hasRequiredModes||(hasRequiredModes=1,function(a){a["des-ecb"]={key:8,iv:0},a["des-cbc"]=a.des={key:8,iv:8},a["des-ede3-cbc"]=a.des3={key:24,iv:8},a["des-ede3"]={key:24,iv:0},a["des-ede-cbc"]={key:16,iv:8},a["des-ede"]={key:16,iv:0}}(modes)),modes}var hasRequiredBrowser$5;function requireBrowser$5(){if(hasRequiredBrowser$5)return browser$6;hasRequiredBrowser$5=1;var a=requireBrowserifyDes(),_=requireBrowser$6(),$=requireModes$1(),j=requireModes(),et=requireEvp_bytestokey();function tt(ot,at){ot=ot.toLowerCase();var ut,ht;if($[ot])ut=$[ot].key,ht=$[ot].iv;else if(j[ot])ut=j[ot].key*8,ht=j[ot].iv;else throw new TypeError("invalid suite type");var yt=et(at,!1,ut,ht);return nt(ot,yt.key,yt.iv)}function rt(ot,at){ot=ot.toLowerCase();var ut,ht;if($[ot])ut=$[ot].key,ht=$[ot].iv;else if(j[ot])ut=j[ot].key*8,ht=j[ot].iv;else throw new TypeError("invalid suite type");var yt=et(at,!1,ut,ht);return it(ot,yt.key,yt.iv)}function nt(ot,at,ut){if(ot=ot.toLowerCase(),$[ot])return _.createCipheriv(ot,at,ut);if(j[ot])return new a({key:at,iv:ut,mode:ot});throw new TypeError("invalid suite type")}function it(ot,at,ut){if(ot=ot.toLowerCase(),$[ot])return _.createDecipheriv(ot,at,ut);if(j[ot])return new a({key:at,iv:ut,mode:ot,decrypt:!0});throw new TypeError("invalid suite type")}function st(){return Object.keys(j).concat(_.getCiphers())}return browser$6.createCipher=browser$6.Cipher=tt,browser$6.createCipheriv=browser$6.Cipheriv=nt,browser$6.createDecipher=browser$6.Decipher=rt,browser$6.createDecipheriv=browser$6.Decipheriv=it,browser$6.listCiphers=browser$6.getCiphers=st,browser$6}var browser$4={},bn$4={exports:{}};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$0$4=getAugmentedNamespace(__viteBrowserExternal$1);bn$4.exports;(function(a){(function(_,$){function j(jt,bt){if(!jt)throw new Error(bt||"Assertion failed")}function et(jt,bt){jt.super_=bt;var vt=function(){};vt.prototype=bt.prototype,jt.prototype=new vt,jt.prototype.constructor=jt}function tt(jt,bt,vt){if(tt.isBN(jt))return jt;this.negative=0,this.words=null,this.length=0,this.red=null,jt!==null&&((bt==="le"||bt==="be")&&(vt=bt,bt=10),this._init(jt||0,bt||10,vt||"be"))}typeof _=="object"?_.exports=tt:$.BN=tt,tt.BN=tt,tt.wordSize=26;var rt;try{typeof window<"u"&&typeof window.Buffer<"u"?rt=window.Buffer:rt=require$$0$4.Buffer}catch{}tt.isBN=function(bt){return bt instanceof tt?!0:bt!==null&&typeof bt=="object"&&bt.constructor.wordSize===tt.wordSize&&Array.isArray(bt.words)},tt.max=function(bt,vt){return bt.cmp(vt)>0?bt:vt},tt.min=function(bt,vt){return bt.cmp(vt)<0?bt:vt},tt.prototype._init=function(bt,vt,ct){if(typeof bt=="number")return this._initNumber(bt,vt,ct);if(typeof bt=="object")return this._initArray(bt,vt,ct);vt==="hex"&&(vt=16),j(vt===(vt|0)&&vt>=2&&vt<=36),bt=bt.toString().replace(/\s+/g,"");var dt=0;bt[0]==="-"&&(dt++,this.negative=1),dt<bt.length&&(vt===16?this._parseHex(bt,dt,ct):(this._parseBase(bt,vt,dt),ct==="le"&&this._initArray(this.toArray(),vt,ct)))},tt.prototype._initNumber=function(bt,vt,ct){bt<0&&(this.negative=1,bt=-bt),bt<67108864?(this.words=[bt&67108863],this.length=1):bt<4503599627370496?(this.words=[bt&67108863,bt/67108864&67108863],this.length=2):(j(bt<9007199254740992),this.words=[bt&67108863,bt/67108864&67108863,1],this.length=3),ct==="le"&&this._initArray(this.toArray(),vt,ct)},tt.prototype._initArray=function(bt,vt,ct){if(j(typeof bt.length=="number"),bt.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(bt.length/3),this.words=new Array(this.length);for(var dt=0;dt<this.length;dt++)this.words[dt]=0;var mt,xt,At=0;if(ct==="be")for(dt=bt.length-1,mt=0;dt>=0;dt-=3)xt=bt[dt]|bt[dt-1]<<8|bt[dt-2]<<16,this.words[mt]|=xt<<At&67108863,this.words[mt+1]=xt>>>26-At&67108863,At+=24,At>=26&&(At-=26,mt++);else if(ct==="le")for(dt=0,mt=0;dt<bt.length;dt+=3)xt=bt[dt]|bt[dt+1]<<8|bt[dt+2]<<16,this.words[mt]|=xt<<At&67108863,this.words[mt+1]=xt>>>26-At&67108863,At+=24,At>=26&&(At-=26,mt++);return this.strip()};function nt(jt,bt){var vt=jt.charCodeAt(bt);return vt>=65&&vt<=70?vt-55:vt>=97&&vt<=102?vt-87:vt-48&15}function it(jt,bt,vt){var ct=nt(jt,vt);return vt-1>=bt&&(ct|=nt(jt,vt-1)<<4),ct}tt.prototype._parseHex=function(bt,vt,ct){this.length=Math.ceil((bt.length-vt)/6),this.words=new Array(this.length);for(var dt=0;dt<this.length;dt++)this.words[dt]=0;var mt=0,xt=0,At;if(ct==="be")for(dt=bt.length-1;dt>=vt;dt-=2)At=it(bt,vt,dt)<<mt,this.words[xt]|=At&67108863,mt>=18?(mt-=18,xt+=1,this.words[xt]|=At>>>26):mt+=8;else{var Rt=bt.length-vt;for(dt=Rt%2===0?vt+1:vt;dt<bt.length;dt+=2)At=it(bt,vt,dt)<<mt,this.words[xt]|=At&67108863,mt>=18?(mt-=18,xt+=1,this.words[xt]|=At>>>26):mt+=8}this.strip()};function st(jt,bt,vt,ct){for(var dt=0,mt=Math.min(jt.length,vt),xt=bt;xt<mt;xt++){var At=jt.charCodeAt(xt)-48;dt*=ct,At>=49?dt+=At-49+10:At>=17?dt+=At-17+10:dt+=At}return dt}tt.prototype._parseBase=function(bt,vt,ct){this.words=[0],this.length=1;for(var dt=0,mt=1;mt<=67108863;mt*=vt)dt++;dt--,mt=mt/vt|0;for(var xt=bt.length-ct,At=xt%dt,Rt=Math.min(xt,xt-At)+ct,St=0,$t=ct;$t<Rt;$t+=dt)St=st(bt,$t,$t+dt,vt),this.imuln(mt),this.words[0]+St<67108864?this.words[0]+=St:this._iaddn(St);if(At!==0){var Et=1;for(St=st(bt,$t,bt.length,vt),$t=0;$t<At;$t++)Et*=vt;this.imuln(Et),this.words[0]+St<67108864?this.words[0]+=St:this._iaddn(St)}this.strip()},tt.prototype.copy=function(bt){bt.words=new Array(this.length);for(var vt=0;vt<this.length;vt++)bt.words[vt]=this.words[vt];bt.length=this.length,bt.negative=this.negative,bt.red=this.red},tt.prototype.clone=function(){var bt=new tt(null);return this.copy(bt),bt},tt.prototype._expand=function(bt){for(;this.length<bt;)this.words[this.length++]=0;return this},tt.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},tt.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},tt.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var ot=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],at=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],ut=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];tt.prototype.toString=function(bt,vt){bt=bt||10,vt=vt|0||1;var ct;if(bt===16||bt==="hex"){ct="";for(var dt=0,mt=0,xt=0;xt<this.length;xt++){var At=this.words[xt],Rt=((At<<dt|mt)&16777215).toString(16);mt=At>>>24-dt&16777215,mt!==0||xt!==this.length-1?ct=ot[6-Rt.length]+Rt+ct:ct=Rt+ct,dt+=2,dt>=26&&(dt-=26,xt--)}for(mt!==0&&(ct=mt.toString(16)+ct);ct.length%vt!==0;)ct="0"+ct;return this.negative!==0&&(ct="-"+ct),ct}if(bt===(bt|0)&&bt>=2&&bt<=36){var St=at[bt],$t=ut[bt];ct="";var Et=this.clone();for(Et.negative=0;!Et.isZero();){var Nt=Et.modn($t).toString(bt);Et=Et.idivn($t),Et.isZero()?ct=Nt+ct:ct=ot[St-Nt.length]+Nt+ct}for(this.isZero()&&(ct="0"+ct);ct.length%vt!==0;)ct="0"+ct;return this.negative!==0&&(ct="-"+ct),ct}j(!1,"Base should be between 2 and 36")},tt.prototype.toNumber=function(){var bt=this.words[0];return this.length===2?bt+=this.words[1]*67108864:this.length===3&&this.words[2]===1?bt+=4503599627370496+this.words[1]*67108864:this.length>2&&j(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-bt:bt},tt.prototype.toJSON=function(){return this.toString(16)},tt.prototype.toBuffer=function(bt,vt){return j(typeof rt<"u"),this.toArrayLike(rt,bt,vt)},tt.prototype.toArray=function(bt,vt){return this.toArrayLike(Array,bt,vt)},tt.prototype.toArrayLike=function(bt,vt,ct){var dt=this.byteLength(),mt=ct||Math.max(1,dt);j(dt<=mt,"byte array longer than desired length"),j(mt>0,"Requested array length <= 0"),this.strip();var xt=vt==="le",At=new bt(mt),Rt,St,$t=this.clone();if(xt){for(St=0;!$t.isZero();St++)Rt=$t.andln(255),$t.iushrn(8),At[St]=Rt;for(;St<mt;St++)At[St]=0}else{for(St=0;St<mt-dt;St++)At[St]=0;for(St=0;!$t.isZero();St++)Rt=$t.andln(255),$t.iushrn(8),At[mt-St-1]=Rt}return At},Math.clz32?tt.prototype._countBits=function(bt){return 32-Math.clz32(bt)}:tt.prototype._countBits=function(bt){var vt=bt,ct=0;return vt>=4096&&(ct+=13,vt>>>=13),vt>=64&&(ct+=7,vt>>>=7),vt>=8&&(ct+=4,vt>>>=4),vt>=2&&(ct+=2,vt>>>=2),ct+vt},tt.prototype._zeroBits=function(bt){if(bt===0)return 26;var vt=bt,ct=0;return vt&8191||(ct+=13,vt>>>=13),vt&127||(ct+=7,vt>>>=7),vt&15||(ct+=4,vt>>>=4),vt&3||(ct+=2,vt>>>=2),vt&1||ct++,ct},tt.prototype.bitLength=function(){var bt=this.words[this.length-1],vt=this._countBits(bt);return(this.length-1)*26+vt};function ht(jt){for(var bt=new Array(jt.bitLength()),vt=0;vt<bt.length;vt++){var ct=vt/26|0,dt=vt%26;bt[vt]=(jt.words[ct]&1<<dt)>>>dt}return bt}tt.prototype.zeroBits=function(){if(this.isZero())return 0;for(var bt=0,vt=0;vt<this.length;vt++){var ct=this._zeroBits(this.words[vt]);if(bt+=ct,ct!==26)break}return bt},tt.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},tt.prototype.toTwos=function(bt){return this.negative!==0?this.abs().inotn(bt).iaddn(1):this.clone()},tt.prototype.fromTwos=function(bt){return this.testn(bt-1)?this.notn(bt).iaddn(1).ineg():this.clone()},tt.prototype.isNeg=function(){return this.negative!==0},tt.prototype.neg=function(){return this.clone().ineg()},tt.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},tt.prototype.iuor=function(bt){for(;this.length<bt.length;)this.words[this.length++]=0;for(var vt=0;vt<bt.length;vt++)this.words[vt]=this.words[vt]|bt.words[vt];return this.strip()},tt.prototype.ior=function(bt){return j((this.negative|bt.negative)===0),this.iuor(bt)},tt.prototype.or=function(bt){return this.length>bt.length?this.clone().ior(bt):bt.clone().ior(this)},tt.prototype.uor=function(bt){return this.length>bt.length?this.clone().iuor(bt):bt.clone().iuor(this)},tt.prototype.iuand=function(bt){var vt;this.length>bt.length?vt=bt:vt=this;for(var ct=0;ct<vt.length;ct++)this.words[ct]=this.words[ct]&bt.words[ct];return this.length=vt.length,this.strip()},tt.prototype.iand=function(bt){return j((this.negative|bt.negative)===0),this.iuand(bt)},tt.prototype.and=function(bt){return this.length>bt.length?this.clone().iand(bt):bt.clone().iand(this)},tt.prototype.uand=function(bt){return this.length>bt.length?this.clone().iuand(bt):bt.clone().iuand(this)},tt.prototype.iuxor=function(bt){var vt,ct;this.length>bt.length?(vt=this,ct=bt):(vt=bt,ct=this);for(var dt=0;dt<ct.length;dt++)this.words[dt]=vt.words[dt]^ct.words[dt];if(this!==vt)for(;dt<vt.length;dt++)this.words[dt]=vt.words[dt];return this.length=vt.length,this.strip()},tt.prototype.ixor=function(bt){return j((this.negative|bt.negative)===0),this.iuxor(bt)},tt.prototype.xor=function(bt){return this.length>bt.length?this.clone().ixor(bt):bt.clone().ixor(this)},tt.prototype.uxor=function(bt){return this.length>bt.length?this.clone().iuxor(bt):bt.clone().iuxor(this)},tt.prototype.inotn=function(bt){j(typeof bt=="number"&&bt>=0);var vt=Math.ceil(bt/26)|0,ct=bt%26;this._expand(vt),ct>0&&vt--;for(var dt=0;dt<vt;dt++)this.words[dt]=~this.words[dt]&67108863;return ct>0&&(this.words[dt]=~this.words[dt]&67108863>>26-ct),this.strip()},tt.prototype.notn=function(bt){return this.clone().inotn(bt)},tt.prototype.setn=function(bt,vt){j(typeof bt=="number"&&bt>=0);var ct=bt/26|0,dt=bt%26;return this._expand(ct+1),vt?this.words[ct]=this.words[ct]|1<<dt:this.words[ct]=this.words[ct]&~(1<<dt),this.strip()},tt.prototype.iadd=function(bt){var vt;if(this.negative!==0&&bt.negative===0)return this.negative=0,vt=this.isub(bt),this.negative^=1,this._normSign();if(this.negative===0&&bt.negative!==0)return bt.negative=0,vt=this.isub(bt),bt.negative=1,vt._normSign();var ct,dt;this.length>bt.length?(ct=this,dt=bt):(ct=bt,dt=this);for(var mt=0,xt=0;xt<dt.length;xt++)vt=(ct.words[xt]|0)+(dt.words[xt]|0)+mt,this.words[xt]=vt&67108863,mt=vt>>>26;for(;mt!==0&&xt<ct.length;xt++)vt=(ct.words[xt]|0)+mt,this.words[xt]=vt&67108863,mt=vt>>>26;if(this.length=ct.length,mt!==0)this.words[this.length]=mt,this.length++;else if(ct!==this)for(;xt<ct.length;xt++)this.words[xt]=ct.words[xt];return this},tt.prototype.add=function(bt){var vt;return bt.negative!==0&&this.negative===0?(bt.negative=0,vt=this.sub(bt),bt.negative^=1,vt):bt.negative===0&&this.negative!==0?(this.negative=0,vt=bt.sub(this),this.negative=1,vt):this.length>bt.length?this.clone().iadd(bt):bt.clone().iadd(this)},tt.prototype.isub=function(bt){if(bt.negative!==0){bt.negative=0;var vt=this.iadd(bt);return bt.negative=1,vt._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(bt),this.negative=1,this._normSign();var ct=this.cmp(bt);if(ct===0)return this.negative=0,this.length=1,this.words[0]=0,this;var dt,mt;ct>0?(dt=this,mt=bt):(dt=bt,mt=this);for(var xt=0,At=0;At<mt.length;At++)vt=(dt.words[At]|0)-(mt.words[At]|0)+xt,xt=vt>>26,this.words[At]=vt&67108863;for(;xt!==0&&At<dt.length;At++)vt=(dt.words[At]|0)+xt,xt=vt>>26,this.words[At]=vt&67108863;if(xt===0&&At<dt.length&&dt!==this)for(;At<dt.length;At++)this.words[At]=dt.words[At];return this.length=Math.max(this.length,At),dt!==this&&(this.negative=1),this.strip()},tt.prototype.sub=function(bt){return this.clone().isub(bt)};function yt(jt,bt,vt){vt.negative=bt.negative^jt.negative;var ct=jt.length+bt.length|0;vt.length=ct,ct=ct-1|0;var dt=jt.words[0]|0,mt=bt.words[0]|0,xt=dt*mt,At=xt&67108863,Rt=xt/67108864|0;vt.words[0]=At;for(var St=1;St<ct;St++){for(var $t=Rt>>>26,Et=Rt&67108863,Nt=Math.min(St,bt.length-1),tr=Math.max(0,St-jt.length+1);tr<=Nt;tr++){var ir=St-tr|0;dt=jt.words[ir]|0,mt=bt.words[tr]|0,xt=dt*mt+Et,$t+=xt/67108864|0,Et=xt&67108863}vt.words[St]=Et|0,Rt=$t|0}return Rt!==0?vt.words[St]=Rt|0:vt.length--,vt.strip()}var wt=function(bt,vt,ct){var dt=bt.words,mt=vt.words,xt=ct.words,At=0,Rt,St,$t,Et=dt[0]|0,Nt=Et&8191,tr=Et>>>13,ir=dt[1]|0,nr=ir&8191,Zt=ir>>>13,Kt=dt[2]|0,Qt=Kt&8191,Ht=Kt>>>13,qt=dt[3]|0,Jt=qt&8191,ur=qt>>>13,xr=dt[4]|0,pr=xr&8191,Cr=xr>>>13,Mr=dt[5]|0,lr=Mr&8191,fr=Mr>>>13,_r=dt[6]|0,Rr=_r&8191,kr=_r>>>13,Ar=dt[7]|0,Pr=Ar&8191,Or=Ar>>>13,Lr=dt[8]|0,or=Lr&8191,Yt=Lr>>>13,er=dt[9]|0,Gt=er&8191,Vt=er>>>13,Wt=mt[0]|0,ar=Wt&8191,yr=Wt>>>13,Er=mt[1]|0,Sr=Er&8191,Wr=Er>>>13,Hr=mt[2]|0,Fr=Hr&8191,pn=Hr>>>13,Jr=mt[3]|0,Qr=Jr&8191,mn=Jr>>>13,ln=mt[4]|0,qr=ln&8191,En=ln>>>13,un=mt[5]|0,Vr=un&8191,hn=un>>>13,fn=mt[6]|0,Kr=fn&8191,Rn=fn>>>13,dn=mt[7]|0,Gr=dn&8191,gn=dn>>>13,an=mt[8]|0,Zr=an&8191,An=an>>>13,Sn=mt[9]|0,nn=Sn&8191,Pn=Sn>>>13;ct.negative=bt.negative^vt.negative,ct.length=19,Rt=Math.imul(Nt,ar),St=Math.imul(Nt,yr),St=St+Math.imul(tr,ar)|0,$t=Math.imul(tr,yr);var yn=(At+Rt|0)+((St&8191)<<13)|0;At=($t+(St>>>13)|0)+(yn>>>26)|0,yn&=67108863,Rt=Math.imul(nr,ar),St=Math.imul(nr,yr),St=St+Math.imul(Zt,ar)|0,$t=Math.imul(Zt,yr),Rt=Rt+Math.imul(Nt,Sr)|0,St=St+Math.imul(Nt,Wr)|0,St=St+Math.imul(tr,Sr)|0,$t=$t+Math.imul(tr,Wr)|0;var _n=(At+Rt|0)+((St&8191)<<13)|0;At=($t+(St>>>13)|0)+(_n>>>26)|0,_n&=67108863,Rt=Math.imul(Qt,ar),St=Math.imul(Qt,yr),St=St+Math.imul(Ht,ar)|0,$t=Math.imul(Ht,yr),Rt=Rt+Math.imul(nr,Sr)|0,St=St+Math.imul(nr,Wr)|0,St=St+Math.imul(Zt,Sr)|0,$t=$t+Math.imul(Zt,Wr)|0,Rt=Rt+Math.imul(Nt,Fr)|0,St=St+Math.imul(Nt,pn)|0,St=St+Math.imul(tr,Fr)|0,$t=$t+Math.imul(tr,pn)|0;var ds=(At+Rt|0)+((St&8191)<<13)|0;At=($t+(St>>>13)|0)+(ds>>>26)|0,ds&=67108863,Rt=Math.imul(Jt,ar),St=Math.imul(Jt,yr),St=St+Math.imul(ur,ar)|0,$t=Math.imul(ur,yr),Rt=Rt+Math.imul(Qt,Sr)|0,St=St+Math.imul(Qt,Wr)|0,St=St+Math.imul(Ht,Sr)|0,$t=$t+Math.imul(Ht,Wr)|0,Rt=Rt+Math.imul(nr,Fr)|0,St=St+Math.imul(nr,pn)|0,St=St+Math.imul(Zt,Fr)|0,$t=$t+Math.imul(Zt,pn)|0,Rt=Rt+Math.imul(Nt,Qr)|0,St=St+Math.imul(Nt,mn)|0,St=St+Math.imul(tr,Qr)|0,$t=$t+Math.imul(tr,mn)|0;var fs=(At+Rt|0)+((St&8191)<<13)|0;At=($t+(St>>>13)|0)+(fs>>>26)|0,fs&=67108863,Rt=Math.imul(pr,ar),St=Math.imul(pr,yr),St=St+Math.imul(Cr,ar)|0,$t=Math.imul(Cr,yr),Rt=Rt+Math.imul(Jt,Sr)|0,St=St+Math.imul(Jt,Wr)|0,St=St+Math.imul(ur,Sr)|0,$t=$t+Math.imul(ur,Wr)|0,Rt=Rt+Math.imul(Qt,Fr)|0,St=St+Math.imul(Qt,pn)|0,St=St+Math.imul(Ht,Fr)|0,$t=$t+Math.imul(Ht,pn)|0,Rt=Rt+Math.imul(nr,Qr)|0,St=St+Math.imul(nr,mn)|0,St=St+Math.imul(Zt,Qr)|0,$t=$t+Math.imul(Zt,mn)|0,Rt=Rt+Math.imul(Nt,qr)|0,St=St+Math.imul(Nt,En)|0,St=St+Math.imul(tr,qr)|0,$t=$t+Math.imul(tr,En)|0;var hs=(At+Rt|0)+((St&8191)<<13)|0;At=($t+(St>>>13)|0)+(hs>>>26)|0,hs&=67108863,Rt=Math.imul(lr,ar),St=Math.imul(lr,yr),St=St+Math.imul(fr,ar)|0,$t=Math.imul(fr,yr),Rt=Rt+Math.imul(pr,Sr)|0,St=St+Math.imul(pr,Wr)|0,St=St+Math.imul(Cr,Sr)|0,$t=$t+Math.imul(Cr,Wr)|0,Rt=Rt+Math.imul(Jt,Fr)|0,St=St+Math.imul(Jt,pn)|0,St=St+Math.imul(ur,Fr)|0,$t=$t+Math.imul(ur,pn)|0,Rt=Rt+Math.imul(Qt,Qr)|0,St=St+Math.imul(Qt,mn)|0,St=St+Math.imul(Ht,Qr)|0,$t=$t+Math.imul(Ht,mn)|0,Rt=Rt+Math.imul(nr,qr)|0,St=St+Math.imul(nr,En)|0,St=St+Math.imul(Zt,qr)|0,$t=$t+Math.imul(Zt,En)|0,Rt=Rt+Math.imul(Nt,Vr)|0,St=St+Math.imul(Nt,hn)|0,St=St+Math.imul(tr,Vr)|0,$t=$t+Math.imul(tr,hn)|0;var ps=(At+Rt|0)+((St&8191)<<13)|0;At=($t+(St>>>13)|0)+(ps>>>26)|0,ps&=67108863,Rt=Math.imul(Rr,ar),St=Math.imul(Rr,yr),St=St+Math.imul(kr,ar)|0,$t=Math.imul(kr,yr),Rt=Rt+Math.imul(lr,Sr)|0,St=St+Math.imul(lr,Wr)|0,St=St+Math.imul(fr,Sr)|0,$t=$t+Math.imul(fr,Wr)|0,Rt=Rt+Math.imul(pr,Fr)|0,St=St+Math.imul(pr,pn)|0,St=St+Math.imul(Cr,Fr)|0,$t=$t+Math.imul(Cr,pn)|0,Rt=Rt+Math.imul(Jt,Qr)|0,St=St+Math.imul(Jt,mn)|0,St=St+Math.imul(ur,Qr)|0,$t=$t+Math.imul(ur,mn)|0,Rt=Rt+Math.imul(Qt,qr)|0,St=St+Math.imul(Qt,En)|0,St=St+Math.imul(Ht,qr)|0,$t=$t+Math.imul(Ht,En)|0,Rt=Rt+Math.imul(nr,Vr)|0,St=St+Math.imul(nr,hn)|0,St=St+Math.imul(Zt,Vr)|0,$t=$t+Math.imul(Zt,hn)|0,Rt=Rt+Math.imul(Nt,Kr)|0,St=St+Math.imul(Nt,Rn)|0,St=St+Math.imul(tr,Kr)|0,$t=$t+Math.imul(tr,Rn)|0;var Vn=(At+Rt|0)+((St&8191)<<13)|0;At=($t+(St>>>13)|0)+(Vn>>>26)|0,Vn&=67108863,Rt=Math.imul(Pr,ar),St=Math.imul(Pr,yr),St=St+Math.imul(Or,ar)|0,$t=Math.imul(Or,yr),Rt=Rt+Math.imul(Rr,Sr)|0,St=St+Math.imul(Rr,Wr)|0,St=St+Math.imul(kr,Sr)|0,$t=$t+Math.imul(kr,Wr)|0,Rt=Rt+Math.imul(lr,Fr)|0,St=St+Math.imul(lr,pn)|0,St=St+Math.imul(fr,Fr)|0,$t=$t+Math.imul(fr,pn)|0,Rt=Rt+Math.imul(pr,Qr)|0,St=St+Math.imul(pr,mn)|0,St=St+Math.imul(Cr,Qr)|0,$t=$t+Math.imul(Cr,mn)|0,Rt=Rt+Math.imul(Jt,qr)|0,St=St+Math.imul(Jt,En)|0,St=St+Math.imul(ur,qr)|0,$t=$t+Math.imul(ur,En)|0,Rt=Rt+Math.imul(Qt,Vr)|0,St=St+Math.imul(Qt,hn)|0,St=St+Math.imul(Ht,Vr)|0,$t=$t+Math.imul(Ht,hn)|0,Rt=Rt+Math.imul(nr,Kr)|0,St=St+Math.imul(nr,Rn)|0,St=St+Math.imul(Zt,Kr)|0,$t=$t+Math.imul(Zt,Rn)|0,Rt=Rt+Math.imul(Nt,Gr)|0,St=St+Math.imul(Nt,gn)|0,St=St+Math.imul(tr,Gr)|0,$t=$t+Math.imul(tr,gn)|0;var ss=(At+Rt|0)+((St&8191)<<13)|0;At=($t+(St>>>13)|0)+(ss>>>26)|0,ss&=67108863,Rt=Math.imul(or,ar),St=Math.imul(or,yr),St=St+Math.imul(Yt,ar)|0,$t=Math.imul(Yt,yr),Rt=Rt+Math.imul(Pr,Sr)|0,St=St+Math.imul(Pr,Wr)|0,St=St+Math.imul(Or,Sr)|0,$t=$t+Math.imul(Or,Wr)|0,Rt=Rt+Math.imul(Rr,Fr)|0,St=St+Math.imul(Rr,pn)|0,St=St+Math.imul(kr,Fr)|0,$t=$t+Math.imul(kr,pn)|0,Rt=Rt+Math.imul(lr,Qr)|0,St=St+Math.imul(lr,mn)|0,St=St+Math.imul(fr,Qr)|0,$t=$t+Math.imul(fr,mn)|0,Rt=Rt+Math.imul(pr,qr)|0,St=St+Math.imul(pr,En)|0,St=St+Math.imul(Cr,qr)|0,$t=$t+Math.imul(Cr,En)|0,Rt=Rt+Math.imul(Jt,Vr)|0,St=St+Math.imul(Jt,hn)|0,St=St+Math.imul(ur,Vr)|0,$t=$t+Math.imul(ur,hn)|0,Rt=Rt+Math.imul(Qt,Kr)|0,St=St+Math.imul(Qt,Rn)|0,St=St+Math.imul(Ht,Kr)|0,$t=$t+Math.imul(Ht,Rn)|0,Rt=Rt+Math.imul(nr,Gr)|0,St=St+Math.imul(nr,gn)|0,St=St+Math.imul(Zt,Gr)|0,$t=$t+Math.imul(Zt,gn)|0,Rt=Rt+Math.imul(Nt,Zr)|0,St=St+Math.imul(Nt,An)|0,St=St+Math.imul(tr,Zr)|0,$t=$t+Math.imul(tr,An)|0;var Jn=(At+Rt|0)+((St&8191)<<13)|0;At=($t+(St>>>13)|0)+(Jn>>>26)|0,Jn&=67108863,Rt=Math.imul(Gt,ar),St=Math.imul(Gt,yr),St=St+Math.imul(Vt,ar)|0,$t=Math.imul(Vt,yr),Rt=Rt+Math.imul(or,Sr)|0,St=St+Math.imul(or,Wr)|0,St=St+Math.imul(Yt,Sr)|0,$t=$t+Math.imul(Yt,Wr)|0,Rt=Rt+Math.imul(Pr,Fr)|0,St=St+Math.imul(Pr,pn)|0,St=St+Math.imul(Or,Fr)|0,$t=$t+Math.imul(Or,pn)|0,Rt=Rt+Math.imul(Rr,Qr)|0,St=St+Math.imul(Rr,mn)|0,St=St+Math.imul(kr,Qr)|0,$t=$t+Math.imul(kr,mn)|0,Rt=Rt+Math.imul(lr,qr)|0,St=St+Math.imul(lr,En)|0,St=St+Math.imul(fr,qr)|0,$t=$t+Math.imul(fr,En)|0,Rt=Rt+Math.imul(pr,Vr)|0,St=St+Math.imul(pr,hn)|0,St=St+Math.imul(Cr,Vr)|0,$t=$t+Math.imul(Cr,hn)|0,Rt=Rt+Math.imul(Jt,Kr)|0,St=St+Math.imul(Jt,Rn)|0,St=St+Math.imul(ur,Kr)|0,$t=$t+Math.imul(ur,Rn)|0,Rt=Rt+Math.imul(Qt,Gr)|0,St=St+Math.imul(Qt,gn)|0,St=St+Math.imul(Ht,Gr)|0,$t=$t+Math.imul(Ht,gn)|0,Rt=Rt+Math.imul(nr,Zr)|0,St=St+Math.imul(nr,An)|0,St=St+Math.imul(Zt,Zr)|0,$t=$t+Math.imul(Zt,An)|0,Rt=Rt+Math.imul(Nt,nn)|0,St=St+Math.imul(Nt,Pn)|0,St=St+Math.imul(tr,nn)|0,$t=$t+Math.imul(tr,Pn)|0;var Yn=(At+Rt|0)+((St&8191)<<13)|0;At=($t+(St>>>13)|0)+(Yn>>>26)|0,Yn&=67108863,Rt=Math.imul(Gt,Sr),St=Math.imul(Gt,Wr),St=St+Math.imul(Vt,Sr)|0,$t=Math.imul(Vt,Wr),Rt=Rt+Math.imul(or,Fr)|0,St=St+Math.imul(or,pn)|0,St=St+Math.imul(Yt,Fr)|0,$t=$t+Math.imul(Yt,pn)|0,Rt=Rt+Math.imul(Pr,Qr)|0,St=St+Math.imul(Pr,mn)|0,St=St+Math.imul(Or,Qr)|0,$t=$t+Math.imul(Or,mn)|0,Rt=Rt+Math.imul(Rr,qr)|0,St=St+Math.imul(Rr,En)|0,St=St+Math.imul(kr,qr)|0,$t=$t+Math.imul(kr,En)|0,Rt=Rt+Math.imul(lr,Vr)|0,St=St+Math.imul(lr,hn)|0,St=St+Math.imul(fr,Vr)|0,$t=$t+Math.imul(fr,hn)|0,Rt=Rt+Math.imul(pr,Kr)|0,St=St+Math.imul(pr,Rn)|0,St=St+Math.imul(Cr,Kr)|0,$t=$t+Math.imul(Cr,Rn)|0,Rt=Rt+Math.imul(Jt,Gr)|0,St=St+Math.imul(Jt,gn)|0,St=St+Math.imul(ur,Gr)|0,$t=$t+Math.imul(ur,gn)|0,Rt=Rt+Math.imul(Qt,Zr)|0,St=St+Math.imul(Qt,An)|0,St=St+Math.imul(Ht,Zr)|0,$t=$t+Math.imul(Ht,An)|0,Rt=Rt+Math.imul(nr,nn)|0,St=St+Math.imul(nr,Pn)|0,St=St+Math.imul(Zt,nn)|0,$t=$t+Math.imul(Zt,Pn)|0;var ms=(At+Rt|0)+((St&8191)<<13)|0;At=($t+(St>>>13)|0)+(ms>>>26)|0,ms&=67108863,Rt=Math.imul(Gt,Fr),St=Math.imul(Gt,pn),St=St+Math.imul(Vt,Fr)|0,$t=Math.imul(Vt,pn),Rt=Rt+Math.imul(or,Qr)|0,St=St+Math.imul(or,mn)|0,St=St+Math.imul(Yt,Qr)|0,$t=$t+Math.imul(Yt,mn)|0,Rt=Rt+Math.imul(Pr,qr)|0,St=St+Math.imul(Pr,En)|0,St=St+Math.imul(Or,qr)|0,$t=$t+Math.imul(Or,En)|0,Rt=Rt+Math.imul(Rr,Vr)|0,St=St+Math.imul(Rr,hn)|0,St=St+Math.imul(kr,Vr)|0,$t=$t+Math.imul(kr,hn)|0,Rt=Rt+Math.imul(lr,Kr)|0,St=St+Math.imul(lr,Rn)|0,St=St+Math.imul(fr,Kr)|0,$t=$t+Math.imul(fr,Rn)|0,Rt=Rt+Math.imul(pr,Gr)|0,St=St+Math.imul(pr,gn)|0,St=St+Math.imul(Cr,Gr)|0,$t=$t+Math.imul(Cr,gn)|0,Rt=Rt+Math.imul(Jt,Zr)|0,St=St+Math.imul(Jt,An)|0,St=St+Math.imul(ur,Zr)|0,$t=$t+Math.imul(ur,An)|0,Rt=Rt+Math.imul(Qt,nn)|0,St=St+Math.imul(Qt,Pn)|0,St=St+Math.imul(Ht,nn)|0,$t=$t+Math.imul(Ht,Pn)|0;var Qn=(At+Rt|0)+((St&8191)<<13)|0;At=($t+(St>>>13)|0)+(Qn>>>26)|0,Qn&=67108863,Rt=Math.imul(Gt,Qr),St=Math.imul(Gt,mn),St=St+Math.imul(Vt,Qr)|0,$t=Math.imul(Vt,mn),Rt=Rt+Math.imul(or,qr)|0,St=St+Math.imul(or,En)|0,St=St+Math.imul(Yt,qr)|0,$t=$t+Math.imul(Yt,En)|0,Rt=Rt+Math.imul(Pr,Vr)|0,St=St+Math.imul(Pr,hn)|0,St=St+Math.imul(Or,Vr)|0,$t=$t+Math.imul(Or,hn)|0,Rt=Rt+Math.imul(Rr,Kr)|0,St=St+Math.imul(Rr,Rn)|0,St=St+Math.imul(kr,Kr)|0,$t=$t+Math.imul(kr,Rn)|0,Rt=Rt+Math.imul(lr,Gr)|0,St=St+Math.imul(lr,gn)|0,St=St+Math.imul(fr,Gr)|0,$t=$t+Math.imul(fr,gn)|0,Rt=Rt+Math.imul(pr,Zr)|0,St=St+Math.imul(pr,An)|0,St=St+Math.imul(Cr,Zr)|0,$t=$t+Math.imul(Cr,An)|0,Rt=Rt+Math.imul(Jt,nn)|0,St=St+Math.imul(Jt,Pn)|0,St=St+Math.imul(ur,nn)|0,$t=$t+Math.imul(ur,Pn)|0;var es=(At+Rt|0)+((St&8191)<<13)|0;At=($t+(St>>>13)|0)+(es>>>26)|0,es&=67108863,Rt=Math.imul(Gt,qr),St=Math.imul(Gt,En),St=St+Math.imul(Vt,qr)|0,$t=Math.imul(Vt,En),Rt=Rt+Math.imul(or,Vr)|0,St=St+Math.imul(or,hn)|0,St=St+Math.imul(Yt,Vr)|0,$t=$t+Math.imul(Yt,hn)|0,Rt=Rt+Math.imul(Pr,Kr)|0,St=St+Math.imul(Pr,Rn)|0,St=St+Math.imul(Or,Kr)|0,$t=$t+Math.imul(Or,Rn)|0,Rt=Rt+Math.imul(Rr,Gr)|0,St=St+Math.imul(Rr,gn)|0,St=St+Math.imul(kr,Gr)|0,$t=$t+Math.imul(kr,gn)|0,Rt=Rt+Math.imul(lr,Zr)|0,St=St+Math.imul(lr,An)|0,St=St+Math.imul(fr,Zr)|0,$t=$t+Math.imul(fr,An)|0,Rt=Rt+Math.imul(pr,nn)|0,St=St+Math.imul(pr,Pn)|0,St=St+Math.imul(Cr,nn)|0,$t=$t+Math.imul(Cr,Pn)|0;var ls=(At+Rt|0)+((St&8191)<<13)|0;At=($t+(St>>>13)|0)+(ls>>>26)|0,ls&=67108863,Rt=Math.imul(Gt,Vr),St=Math.imul(Gt,hn),St=St+Math.imul(Vt,Vr)|0,$t=Math.imul(Vt,hn),Rt=Rt+Math.imul(or,Kr)|0,St=St+Math.imul(or,Rn)|0,St=St+Math.imul(Yt,Kr)|0,$t=$t+Math.imul(Yt,Rn)|0,Rt=Rt+Math.imul(Pr,Gr)|0,St=St+Math.imul(Pr,gn)|0,St=St+Math.imul(Or,Gr)|0,$t=$t+Math.imul(Or,gn)|0,Rt=Rt+Math.imul(Rr,Zr)|0,St=St+Math.imul(Rr,An)|0,St=St+Math.imul(kr,Zr)|0,$t=$t+Math.imul(kr,An)|0,Rt=Rt+Math.imul(lr,nn)|0,St=St+Math.imul(lr,Pn)|0,St=St+Math.imul(fr,nn)|0,$t=$t+Math.imul(fr,Pn)|0;var us=(At+Rt|0)+((St&8191)<<13)|0;At=($t+(St>>>13)|0)+(us>>>26)|0,us&=67108863,Rt=Math.imul(Gt,Kr),St=Math.imul(Gt,Rn),St=St+Math.imul(Vt,Kr)|0,$t=Math.imul(Vt,Rn),Rt=Rt+Math.imul(or,Gr)|0,St=St+Math.imul(or,gn)|0,St=St+Math.imul(Yt,Gr)|0,$t=$t+Math.imul(Yt,gn)|0,Rt=Rt+Math.imul(Pr,Zr)|0,St=St+Math.imul(Pr,An)|0,St=St+Math.imul(Or,Zr)|0,$t=$t+Math.imul(Or,An)|0,Rt=Rt+Math.imul(Rr,nn)|0,St=St+Math.imul(Rr,Pn)|0,St=St+Math.imul(kr,nn)|0,$t=$t+Math.imul(kr,Pn)|0;var Wn=(At+Rt|0)+((St&8191)<<13)|0;At=($t+(St>>>13)|0)+(Wn>>>26)|0,Wn&=67108863,Rt=Math.imul(Gt,Gr),St=Math.imul(Gt,gn),St=St+Math.imul(Vt,Gr)|0,$t=Math.imul(Vt,gn),Rt=Rt+Math.imul(or,Zr)|0,St=St+Math.imul(or,An)|0,St=St+Math.imul(Yt,Zr)|0,$t=$t+Math.imul(Yt,An)|0,Rt=Rt+Math.imul(Pr,nn)|0,St=St+Math.imul(Pr,Pn)|0,St=St+Math.imul(Or,nn)|0,$t=$t+Math.imul(Or,Pn)|0;var as=(At+Rt|0)+((St&8191)<<13)|0;At=($t+(St>>>13)|0)+(as>>>26)|0,as&=67108863,Rt=Math.imul(Gt,Zr),St=Math.imul(Gt,An),St=St+Math.imul(Vt,Zr)|0,$t=Math.imul(Vt,An),Rt=Rt+Math.imul(or,nn)|0,St=St+Math.imul(or,Pn)|0,St=St+Math.imul(Yt,nn)|0,$t=$t+Math.imul(Yt,Pn)|0;var gs=(At+Rt|0)+((St&8191)<<13)|0;At=($t+(St>>>13)|0)+(gs>>>26)|0,gs&=67108863,Rt=Math.imul(Gt,nn),St=Math.imul(Gt,Pn),St=St+Math.imul(Vt,nn)|0,$t=Math.imul(Vt,Pn);var vs=(At+Rt|0)+((St&8191)<<13)|0;return At=($t+(St>>>13)|0)+(vs>>>26)|0,vs&=67108863,xt[0]=yn,xt[1]=_n,xt[2]=ds,xt[3]=fs,xt[4]=hs,xt[5]=ps,xt[6]=Vn,xt[7]=ss,xt[8]=Jn,xt[9]=Yn,xt[10]=ms,xt[11]=Qn,xt[12]=es,xt[13]=ls,xt[14]=us,xt[15]=Wn,xt[16]=as,xt[17]=gs,xt[18]=vs,At!==0&&(xt[19]=At,ct.length++),ct};Math.imul||(wt=yt);function Ct(jt,bt,vt){vt.negative=bt.negative^jt.negative,vt.length=jt.length+bt.length;for(var ct=0,dt=0,mt=0;mt<vt.length-1;mt++){var xt=dt;dt=0;for(var At=ct&67108863,Rt=Math.min(mt,bt.length-1),St=Math.max(0,mt-jt.length+1);St<=Rt;St++){var $t=mt-St,Et=jt.words[$t]|0,Nt=bt.words[St]|0,tr=Et*Nt,ir=tr&67108863;xt=xt+(tr/67108864|0)|0,ir=ir+At|0,At=ir&67108863,xt=xt+(ir>>>26)|0,dt+=xt>>>26,xt&=67108863}vt.words[mt]=At,ct=xt,xt=dt}return ct!==0?vt.words[mt]=ct:vt.length--,vt.strip()}function Pt(jt,bt,vt){var ct=new Tt;return ct.mulp(jt,bt,vt)}tt.prototype.mulTo=function(bt,vt){var ct,dt=this.length+bt.length;return this.length===10&&bt.length===10?ct=wt(this,bt,vt):dt<63?ct=yt(this,bt,vt):dt<1024?ct=Ct(this,bt,vt):ct=Pt(this,bt,vt),ct};function Tt(jt,bt){this.x=jt,this.y=bt}Tt.prototype.makeRBT=function(bt){for(var vt=new Array(bt),ct=tt.prototype._countBits(bt)-1,dt=0;dt<bt;dt++)vt[dt]=this.revBin(dt,ct,bt);return vt},Tt.prototype.revBin=function(bt,vt,ct){if(bt===0||bt===ct-1)return bt;for(var dt=0,mt=0;mt<vt;mt++)dt|=(bt&1)<<vt-mt-1,bt>>=1;return dt},Tt.prototype.permute=function(bt,vt,ct,dt,mt,xt){for(var At=0;At<xt;At++)dt[At]=vt[bt[At]],mt[At]=ct[bt[At]]},Tt.prototype.transform=function(bt,vt,ct,dt,mt,xt){this.permute(xt,bt,vt,ct,dt,mt);for(var At=1;At<mt;At<<=1)for(var Rt=At<<1,St=Math.cos(2*Math.PI/Rt),$t=Math.sin(2*Math.PI/Rt),Et=0;Et<mt;Et+=Rt)for(var Nt=St,tr=$t,ir=0;ir<At;ir++){var nr=ct[Et+ir],Zt=dt[Et+ir],Kt=ct[Et+ir+At],Qt=dt[Et+ir+At],Ht=Nt*Kt-tr*Qt;Qt=Nt*Qt+tr*Kt,Kt=Ht,ct[Et+ir]=nr+Kt,dt[Et+ir]=Zt+Qt,ct[Et+ir+At]=nr-Kt,dt[Et+ir+At]=Zt-Qt,ir!==Rt&&(Ht=St*Nt-$t*tr,tr=St*tr+$t*Nt,Nt=Ht)}},Tt.prototype.guessLen13b=function(bt,vt){var ct=Math.max(vt,bt)|1,dt=ct&1,mt=0;for(ct=ct/2|0;ct;ct=ct>>>1)mt++;return 1<<mt+1+dt},Tt.prototype.conjugate=function(bt,vt,ct){if(!(ct<=1))for(var dt=0;dt<ct/2;dt++){var mt=bt[dt];bt[dt]=bt[ct-dt-1],bt[ct-dt-1]=mt,mt=vt[dt],vt[dt]=-vt[ct-dt-1],vt[ct-dt-1]=-mt}},Tt.prototype.normalize13b=function(bt,vt){for(var ct=0,dt=0;dt<vt/2;dt++){var mt=Math.round(bt[2*dt+1]/vt)*8192+Math.round(bt[2*dt]/vt)+ct;bt[dt]=mt&67108863,mt<67108864?ct=0:ct=mt/67108864|0}return bt},Tt.prototype.convert13b=function(bt,vt,ct,dt){for(var mt=0,xt=0;xt<vt;xt++)mt=mt+(bt[xt]|0),ct[2*xt]=mt&8191,mt=mt>>>13,ct[2*xt+1]=mt&8191,mt=mt>>>13;for(xt=2*vt;xt<dt;++xt)ct[xt]=0;j(mt===0),j((mt&-8192)===0)},Tt.prototype.stub=function(bt){for(var vt=new Array(bt),ct=0;ct<bt;ct++)vt[ct]=0;return vt},Tt.prototype.mulp=function(bt,vt,ct){var dt=2*this.guessLen13b(bt.length,vt.length),mt=this.makeRBT(dt),xt=this.stub(dt),At=new Array(dt),Rt=new Array(dt),St=new Array(dt),$t=new Array(dt),Et=new Array(dt),Nt=new Array(dt),tr=ct.words;tr.length=dt,this.convert13b(bt.words,bt.length,At,dt),this.convert13b(vt.words,vt.length,$t,dt),this.transform(At,xt,Rt,St,dt,mt),this.transform($t,xt,Et,Nt,dt,mt);for(var ir=0;ir<dt;ir++){var nr=Rt[ir]*Et[ir]-St[ir]*Nt[ir];St[ir]=Rt[ir]*Nt[ir]+St[ir]*Et[ir],Rt[ir]=nr}return this.conjugate(Rt,St,dt),this.transform(Rt,St,tr,xt,dt,mt),this.conjugate(tr,xt,dt),this.normalize13b(tr,dt),ct.negative=bt.negative^vt.negative,ct.length=bt.length+vt.length,ct.strip()},tt.prototype.mul=function(bt){var vt=new tt(null);return vt.words=new Array(this.length+bt.length),this.mulTo(bt,vt)},tt.prototype.mulf=function(bt){var vt=new tt(null);return vt.words=new Array(this.length+bt.length),Pt(this,bt,vt)},tt.prototype.imul=function(bt){return this.clone().mulTo(bt,this)},tt.prototype.imuln=function(bt){j(typeof bt=="number"),j(bt<67108864);for(var vt=0,ct=0;ct<this.length;ct++){var dt=(this.words[ct]|0)*bt,mt=(dt&67108863)+(vt&67108863);vt>>=26,vt+=dt/67108864|0,vt+=mt>>>26,this.words[ct]=mt&67108863}return vt!==0&&(this.words[ct]=vt,this.length++),this},tt.prototype.muln=function(bt){return this.clone().imuln(bt)},tt.prototype.sqr=function(){return this.mul(this)},tt.prototype.isqr=function(){return this.imul(this.clone())},tt.prototype.pow=function(bt){var vt=ht(bt);if(vt.length===0)return new tt(1);for(var ct=this,dt=0;dt<vt.length&&vt[dt]===0;dt++,ct=ct.sqr());if(++dt<vt.length)for(var mt=ct.sqr();dt<vt.length;dt++,mt=mt.sqr())vt[dt]!==0&&(ct=ct.mul(mt));return ct},tt.prototype.iushln=function(bt){j(typeof bt=="number"&&bt>=0);var vt=bt%26,ct=(bt-vt)/26,dt=67108863>>>26-vt<<26-vt,mt;if(vt!==0){var xt=0;for(mt=0;mt<this.length;mt++){var At=this.words[mt]&dt,Rt=(this.words[mt]|0)-At<<vt;this.words[mt]=Rt|xt,xt=At>>>26-vt}xt&&(this.words[mt]=xt,this.length++)}if(ct!==0){for(mt=this.length-1;mt>=0;mt--)this.words[mt+ct]=this.words[mt];for(mt=0;mt<ct;mt++)this.words[mt]=0;this.length+=ct}return this.strip()},tt.prototype.ishln=function(bt){return j(this.negative===0),this.iushln(bt)},tt.prototype.iushrn=function(bt,vt,ct){j(typeof bt=="number"&&bt>=0);var dt;vt?dt=(vt-vt%26)/26:dt=0;var mt=bt%26,xt=Math.min((bt-mt)/26,this.length),At=67108863^67108863>>>mt<<mt,Rt=ct;if(dt-=xt,dt=Math.max(0,dt),Rt){for(var St=0;St<xt;St++)Rt.words[St]=this.words[St];Rt.length=xt}if(xt!==0)if(this.length>xt)for(this.length-=xt,St=0;St<this.length;St++)this.words[St]=this.words[St+xt];else this.words[0]=0,this.length=1;var $t=0;for(St=this.length-1;St>=0&&($t!==0||St>=dt);St--){var Et=this.words[St]|0;this.words[St]=$t<<26-mt|Et>>>mt,$t=Et&At}return Rt&&$t!==0&&(Rt.words[Rt.length++]=$t),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},tt.prototype.ishrn=function(bt,vt,ct){return j(this.negative===0),this.iushrn(bt,vt,ct)},tt.prototype.shln=function(bt){return this.clone().ishln(bt)},tt.prototype.ushln=function(bt){return this.clone().iushln(bt)},tt.prototype.shrn=function(bt){return this.clone().ishrn(bt)},tt.prototype.ushrn=function(bt){return this.clone().iushrn(bt)},tt.prototype.testn=function(bt){j(typeof bt=="number"&&bt>=0);var vt=bt%26,ct=(bt-vt)/26,dt=1<<vt;if(this.length<=ct)return!1;var mt=this.words[ct];return!!(mt&dt)},tt.prototype.imaskn=function(bt){j(typeof bt=="number"&&bt>=0);var vt=bt%26,ct=(bt-vt)/26;if(j(this.negative===0,"imaskn works only with positive numbers"),this.length<=ct)return this;if(vt!==0&&ct++,this.length=Math.min(ct,this.length),vt!==0){var dt=67108863^67108863>>>vt<<vt;this.words[this.length-1]&=dt}return this.strip()},tt.prototype.maskn=function(bt){return this.clone().imaskn(bt)},tt.prototype.iaddn=function(bt){return j(typeof bt=="number"),j(bt<67108864),bt<0?this.isubn(-bt):this.negative!==0?this.length===1&&(this.words[0]|0)<bt?(this.words[0]=bt-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(bt),this.negative=1,this):this._iaddn(bt)},tt.prototype._iaddn=function(bt){this.words[0]+=bt;for(var vt=0;vt<this.length&&this.words[vt]>=67108864;vt++)this.words[vt]-=67108864,vt===this.length-1?this.words[vt+1]=1:this.words[vt+1]++;return this.length=Math.max(this.length,vt+1),this},tt.prototype.isubn=function(bt){if(j(typeof bt=="number"),j(bt<67108864),bt<0)return this.iaddn(-bt);if(this.negative!==0)return this.negative=0,this.iaddn(bt),this.negative=1,this;if(this.words[0]-=bt,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var vt=0;vt<this.length&&this.words[vt]<0;vt++)this.words[vt]+=67108864,this.words[vt+1]-=1;return this.strip()},tt.prototype.addn=function(bt){return this.clone().iaddn(bt)},tt.prototype.subn=function(bt){return this.clone().isubn(bt)},tt.prototype.iabs=function(){return this.negative=0,this},tt.prototype.abs=function(){return this.clone().iabs()},tt.prototype._ishlnsubmul=function(bt,vt,ct){var dt=bt.length+ct,mt;this._expand(dt);var xt,At=0;for(mt=0;mt<bt.length;mt++){xt=(this.words[mt+ct]|0)+At;var Rt=(bt.words[mt]|0)*vt;xt-=Rt&67108863,At=(xt>>26)-(Rt/67108864|0),this.words[mt+ct]=xt&67108863}for(;mt<this.length-ct;mt++)xt=(this.words[mt+ct]|0)+At,At=xt>>26,this.words[mt+ct]=xt&67108863;if(At===0)return this.strip();for(j(At===-1),At=0,mt=0;mt<this.length;mt++)xt=-(this.words[mt]|0)+At,At=xt>>26,this.words[mt]=xt&67108863;return this.negative=1,this.strip()},tt.prototype._wordDiv=function(bt,vt){var ct=this.length-bt.length,dt=this.clone(),mt=bt,xt=mt.words[mt.length-1]|0,At=this._countBits(xt);ct=26-At,ct!==0&&(mt=mt.ushln(ct),dt.iushln(ct),xt=mt.words[mt.length-1]|0);var Rt=dt.length-mt.length,St;if(vt!=="mod"){St=new tt(null),St.length=Rt+1,St.words=new Array(St.length);for(var $t=0;$t<St.length;$t++)St.words[$t]=0}var Et=dt.clone()._ishlnsubmul(mt,1,Rt);Et.negative===0&&(dt=Et,St&&(St.words[Rt]=1));for(var Nt=Rt-1;Nt>=0;Nt--){var tr=(dt.words[mt.length+Nt]|0)*67108864+(dt.words[mt.length+Nt-1]|0);for(tr=Math.min(tr/xt|0,67108863),dt._ishlnsubmul(mt,tr,Nt);dt.negative!==0;)tr--,dt.negative=0,dt._ishlnsubmul(mt,1,Nt),dt.isZero()||(dt.negative^=1);St&&(St.words[Nt]=tr)}return St&&St.strip(),dt.strip(),vt!=="div"&&ct!==0&&dt.iushrn(ct),{div:St||null,mod:dt}},tt.prototype.divmod=function(bt,vt,ct){if(j(!bt.isZero()),this.isZero())return{div:new tt(0),mod:new tt(0)};var dt,mt,xt;return this.negative!==0&&bt.negative===0?(xt=this.neg().divmod(bt,vt),vt!=="mod"&&(dt=xt.div.neg()),vt!=="div"&&(mt=xt.mod.neg(),ct&&mt.negative!==0&&mt.iadd(bt)),{div:dt,mod:mt}):this.negative===0&&bt.negative!==0?(xt=this.divmod(bt.neg(),vt),vt!=="mod"&&(dt=xt.div.neg()),{div:dt,mod:xt.mod}):this.negative&bt.negative?(xt=this.neg().divmod(bt.neg(),vt),vt!=="div"&&(mt=xt.mod.neg(),ct&&mt.negative!==0&&mt.isub(bt)),{div:xt.div,mod:mt}):bt.length>this.length||this.cmp(bt)<0?{div:new tt(0),mod:this}:bt.length===1?vt==="div"?{div:this.divn(bt.words[0]),mod:null}:vt==="mod"?{div:null,mod:new tt(this.modn(bt.words[0]))}:{div:this.divn(bt.words[0]),mod:new tt(this.modn(bt.words[0]))}:this._wordDiv(bt,vt)},tt.prototype.div=function(bt){return this.divmod(bt,"div",!1).div},tt.prototype.mod=function(bt){return this.divmod(bt,"mod",!1).mod},tt.prototype.umod=function(bt){return this.divmod(bt,"mod",!0).mod},tt.prototype.divRound=function(bt){var vt=this.divmod(bt);if(vt.mod.isZero())return vt.div;var ct=vt.div.negative!==0?vt.mod.isub(bt):vt.mod,dt=bt.ushrn(1),mt=bt.andln(1),xt=ct.cmp(dt);return xt<0||mt===1&&xt===0?vt.div:vt.div.negative!==0?vt.div.isubn(1):vt.div.iaddn(1)},tt.prototype.modn=function(bt){j(bt<=67108863);for(var vt=(1<<26)%bt,ct=0,dt=this.length-1;dt>=0;dt--)ct=(vt*ct+(this.words[dt]|0))%bt;return ct},tt.prototype.idivn=function(bt){j(bt<=67108863);for(var vt=0,ct=this.length-1;ct>=0;ct--){var dt=(this.words[ct]|0)+vt*67108864;this.words[ct]=dt/bt|0,vt=dt%bt}return this.strip()},tt.prototype.divn=function(bt){return this.clone().idivn(bt)},tt.prototype.egcd=function(bt){j(bt.negative===0),j(!bt.isZero());var vt=this,ct=bt.clone();vt.negative!==0?vt=vt.umod(bt):vt=vt.clone();for(var dt=new tt(1),mt=new tt(0),xt=new tt(0),At=new tt(1),Rt=0;vt.isEven()&&ct.isEven();)vt.iushrn(1),ct.iushrn(1),++Rt;for(var St=ct.clone(),$t=vt.clone();!vt.isZero();){for(var Et=0,Nt=1;!(vt.words[0]&Nt)&&Et<26;++Et,Nt<<=1);if(Et>0)for(vt.iushrn(Et);Et-- >0;)(dt.isOdd()||mt.isOdd())&&(dt.iadd(St),mt.isub($t)),dt.iushrn(1),mt.iushrn(1);for(var tr=0,ir=1;!(ct.words[0]&ir)&&tr<26;++tr,ir<<=1);if(tr>0)for(ct.iushrn(tr);tr-- >0;)(xt.isOdd()||At.isOdd())&&(xt.iadd(St),At.isub($t)),xt.iushrn(1),At.iushrn(1);vt.cmp(ct)>=0?(vt.isub(ct),dt.isub(xt),mt.isub(At)):(ct.isub(vt),xt.isub(dt),At.isub(mt))}return{a:xt,b:At,gcd:ct.iushln(Rt)}},tt.prototype._invmp=function(bt){j(bt.negative===0),j(!bt.isZero());var vt=this,ct=bt.clone();vt.negative!==0?vt=vt.umod(bt):vt=vt.clone();for(var dt=new tt(1),mt=new tt(0),xt=ct.clone();vt.cmpn(1)>0&&ct.cmpn(1)>0;){for(var At=0,Rt=1;!(vt.words[0]&Rt)&&At<26;++At,Rt<<=1);if(At>0)for(vt.iushrn(At);At-- >0;)dt.isOdd()&&dt.iadd(xt),dt.iushrn(1);for(var St=0,$t=1;!(ct.words[0]&$t)&&St<26;++St,$t<<=1);if(St>0)for(ct.iushrn(St);St-- >0;)mt.isOdd()&&mt.iadd(xt),mt.iushrn(1);vt.cmp(ct)>=0?(vt.isub(ct),dt.isub(mt)):(ct.isub(vt),mt.isub(dt))}var Et;return vt.cmpn(1)===0?Et=dt:Et=mt,Et.cmpn(0)<0&&Et.iadd(bt),Et},tt.prototype.gcd=function(bt){if(this.isZero())return bt.abs();if(bt.isZero())return this.abs();var vt=this.clone(),ct=bt.clone();vt.negative=0,ct.negative=0;for(var dt=0;vt.isEven()&&ct.isEven();dt++)vt.iushrn(1),ct.iushrn(1);do{for(;vt.isEven();)vt.iushrn(1);for(;ct.isEven();)ct.iushrn(1);var mt=vt.cmp(ct);if(mt<0){var xt=vt;vt=ct,ct=xt}else if(mt===0||ct.cmpn(1)===0)break;vt.isub(ct)}while(!0);return ct.iushln(dt)},tt.prototype.invm=function(bt){return this.egcd(bt).a.umod(bt)},tt.prototype.isEven=function(){return(this.words[0]&1)===0},tt.prototype.isOdd=function(){return(this.words[0]&1)===1},tt.prototype.andln=function(bt){return this.words[0]&bt},tt.prototype.bincn=function(bt){j(typeof bt=="number");var vt=bt%26,ct=(bt-vt)/26,dt=1<<vt;if(this.length<=ct)return this._expand(ct+1),this.words[ct]|=dt,this;for(var mt=dt,xt=ct;mt!==0&&xt<this.length;xt++){var At=this.words[xt]|0;At+=mt,mt=At>>>26,At&=67108863,this.words[xt]=At}return mt!==0&&(this.words[xt]=mt,this.length++),this},tt.prototype.isZero=function(){return this.length===1&&this.words[0]===0},tt.prototype.cmpn=function(bt){var vt=bt<0;if(this.negative!==0&&!vt)return-1;if(this.negative===0&&vt)return 1;this.strip();var ct;if(this.length>1)ct=1;else{vt&&(bt=-bt),j(bt<=67108863,"Number is too big");var dt=this.words[0]|0;ct=dt===bt?0:dt<bt?-1:1}return this.negative!==0?-ct|0:ct},tt.prototype.cmp=function(bt){if(this.negative!==0&&bt.negative===0)return-1;if(this.negative===0&&bt.negative!==0)return 1;var vt=this.ucmp(bt);return this.negative!==0?-vt|0:vt},tt.prototype.ucmp=function(bt){if(this.length>bt.length)return 1;if(this.length<bt.length)return-1;for(var vt=0,ct=this.length-1;ct>=0;ct--){var dt=this.words[ct]|0,mt=bt.words[ct]|0;if(dt!==mt){dt<mt?vt=-1:dt>mt&&(vt=1);break}}return vt},tt.prototype.gtn=function(bt){return this.cmpn(bt)===1},tt.prototype.gt=function(bt){return this.cmp(bt)===1},tt.prototype.gten=function(bt){return this.cmpn(bt)>=0},tt.prototype.gte=function(bt){return this.cmp(bt)>=0},tt.prototype.ltn=function(bt){return this.cmpn(bt)===-1},tt.prototype.lt=function(bt){return this.cmp(bt)===-1},tt.prototype.lten=function(bt){return this.cmpn(bt)<=0},tt.prototype.lte=function(bt){return this.cmp(bt)<=0},tt.prototype.eqn=function(bt){return this.cmpn(bt)===0},tt.prototype.eq=function(bt){return this.cmp(bt)===0},tt.red=function(bt){return new Bt(bt)},tt.prototype.toRed=function(bt){return j(!this.red,"Already a number in reduction context"),j(this.negative===0,"red works only with positives"),bt.convertTo(this)._forceRed(bt)},tt.prototype.fromRed=function(){return j(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},tt.prototype._forceRed=function(bt){return this.red=bt,this},tt.prototype.forceRed=function(bt){return j(!this.red,"Already a number in reduction context"),this._forceRed(bt)},tt.prototype.redAdd=function(bt){return j(this.red,"redAdd works only with red numbers"),this.red.add(this,bt)},tt.prototype.redIAdd=function(bt){return j(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,bt)},tt.prototype.redSub=function(bt){return j(this.red,"redSub works only with red numbers"),this.red.sub(this,bt)},tt.prototype.redISub=function(bt){return j(this.red,"redISub works only with red numbers"),this.red.isub(this,bt)},tt.prototype.redShl=function(bt){return j(this.red,"redShl works only with red numbers"),this.red.shl(this,bt)},tt.prototype.redMul=function(bt){return j(this.red,"redMul works only with red numbers"),this.red._verify2(this,bt),this.red.mul(this,bt)},tt.prototype.redIMul=function(bt){return j(this.red,"redMul works only with red numbers"),this.red._verify2(this,bt),this.red.imul(this,bt)},tt.prototype.redSqr=function(){return j(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},tt.prototype.redISqr=function(){return j(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},tt.prototype.redSqrt=function(){return j(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},tt.prototype.redInvm=function(){return j(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},tt.prototype.redNeg=function(){return j(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},tt.prototype.redPow=function(bt){return j(this.red&&!bt.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,bt)};var Mt={k256:null,p224:null,p192:null,p25519:null};function Lt(jt,bt){this.name=jt,this.p=new tt(bt,16),this.n=this.p.bitLength(),this.k=new tt(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}Lt.prototype._tmp=function(){var bt=new tt(null);return bt.words=new Array(Math.ceil(this.n/13)),bt},Lt.prototype.ireduce=function(bt){var vt=bt,ct;do this.split(vt,this.tmp),vt=this.imulK(vt),vt=vt.iadd(this.tmp),ct=vt.bitLength();while(ct>this.n);var dt=ct<this.n?-1:vt.ucmp(this.p);return dt===0?(vt.words[0]=0,vt.length=1):dt>0?vt.isub(this.p):vt.strip!==void 0?vt.strip():vt._strip(),vt},Lt.prototype.split=function(bt,vt){bt.iushrn(this.n,0,vt)},Lt.prototype.imulK=function(bt){return bt.imul(this.k)};function Dt(){Lt.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}et(Dt,Lt),Dt.prototype.split=function(bt,vt){for(var ct=4194303,dt=Math.min(bt.length,9),mt=0;mt<dt;mt++)vt.words[mt]=bt.words[mt];if(vt.length=dt,bt.length<=9){bt.words[0]=0,bt.length=1;return}var xt=bt.words[9];for(vt.words[vt.length++]=xt&ct,mt=10;mt<bt.length;mt++){var At=bt.words[mt]|0;bt.words[mt-10]=(At&ct)<<4|xt>>>22,xt=At}xt>>>=22,bt.words[mt-10]=xt,xt===0&&bt.length>10?bt.length-=10:bt.length-=9},Dt.prototype.imulK=function(bt){bt.words[bt.length]=0,bt.words[bt.length+1]=0,bt.length+=2;for(var vt=0,ct=0;ct<bt.length;ct++){var dt=bt.words[ct]|0;vt+=dt*977,bt.words[ct]=vt&67108863,vt=dt*64+(vt/67108864|0)}return bt.words[bt.length-1]===0&&(bt.length--,bt.words[bt.length-1]===0&&bt.length--),bt};function Ut(){Lt.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}et(Ut,Lt);function Ot(){Lt.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}et(Ot,Lt);function It(){Lt.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}et(It,Lt),It.prototype.imulK=function(bt){for(var vt=0,ct=0;ct<bt.length;ct++){var dt=(bt.words[ct]|0)*19+vt,mt=dt&67108863;dt>>>=26,bt.words[ct]=mt,vt=dt}return vt!==0&&(bt.words[bt.length++]=vt),bt},tt._prime=function(bt){if(Mt[bt])return Mt[bt];var vt;if(bt==="k256")vt=new Dt;else if(bt==="p224")vt=new Ut;else if(bt==="p192")vt=new Ot;else if(bt==="p25519")vt=new It;else throw new Error("Unknown prime "+bt);return Mt[bt]=vt,vt};function Bt(jt){if(typeof jt=="string"){var bt=tt._prime(jt);this.m=bt.p,this.prime=bt}else j(jt.gtn(1),"modulus must be greater than 1"),this.m=jt,this.prime=null}Bt.prototype._verify1=function(bt){j(bt.negative===0,"red works only with positives"),j(bt.red,"red works only with red numbers")},Bt.prototype._verify2=function(bt,vt){j((bt.negative|vt.negative)===0,"red works only with positives"),j(bt.red&&bt.red===vt.red,"red works only with red numbers")},Bt.prototype.imod=function(bt){return this.prime?this.prime.ireduce(bt)._forceRed(this):bt.umod(this.m)._forceRed(this)},Bt.prototype.neg=function(bt){return bt.isZero()?bt.clone():this.m.sub(bt)._forceRed(this)},Bt.prototype.add=function(bt,vt){this._verify2(bt,vt);var ct=bt.add(vt);return ct.cmp(this.m)>=0&&ct.isub(this.m),ct._forceRed(this)},Bt.prototype.iadd=function(bt,vt){this._verify2(bt,vt);var ct=bt.iadd(vt);return ct.cmp(this.m)>=0&&ct.isub(this.m),ct},Bt.prototype.sub=function(bt,vt){this._verify2(bt,vt);var ct=bt.sub(vt);return ct.cmpn(0)<0&&ct.iadd(this.m),ct._forceRed(this)},Bt.prototype.isub=function(bt,vt){this._verify2(bt,vt);var ct=bt.isub(vt);return ct.cmpn(0)<0&&ct.iadd(this.m),ct},Bt.prototype.shl=function(bt,vt){return this._verify1(bt),this.imod(bt.ushln(vt))},Bt.prototype.imul=function(bt,vt){return this._verify2(bt,vt),this.imod(bt.imul(vt))},Bt.prototype.mul=function(bt,vt){return this._verify2(bt,vt),this.imod(bt.mul(vt))},Bt.prototype.isqr=function(bt){return this.imul(bt,bt.clone())},Bt.prototype.sqr=function(bt){return this.mul(bt,bt)},Bt.prototype.sqrt=function(bt){if(bt.isZero())return bt.clone();var vt=this.m.andln(3);if(j(vt%2===1),vt===3){var ct=this.m.add(new tt(1)).iushrn(2);return this.pow(bt,ct)}for(var dt=this.m.subn(1),mt=0;!dt.isZero()&&dt.andln(1)===0;)mt++,dt.iushrn(1);j(!dt.isZero());var xt=new tt(1).toRed(this),At=xt.redNeg(),Rt=this.m.subn(1).iushrn(1),St=this.m.bitLength();for(St=new tt(2*St*St).toRed(this);this.pow(St,Rt).cmp(At)!==0;)St.redIAdd(At);for(var $t=this.pow(St,dt),Et=this.pow(bt,dt.addn(1).iushrn(1)),Nt=this.pow(bt,dt),tr=mt;Nt.cmp(xt)!==0;){for(var ir=Nt,nr=0;ir.cmp(xt)!==0;nr++)ir=ir.redSqr();j(nr<tr);var Zt=this.pow($t,new tt(1).iushln(tr-nr-1));Et=Et.redMul(Zt),$t=Zt.redSqr(),Nt=Nt.redMul($t),tr=nr}return Et},Bt.prototype.invm=function(bt){var vt=bt._invmp(this.m);return vt.negative!==0?(vt.negative=0,this.imod(vt).redNeg()):this.imod(vt)},Bt.prototype.pow=function(bt,vt){if(vt.isZero())return new tt(1).toRed(this);if(vt.cmpn(1)===0)return bt.clone();var ct=4,dt=new Array(1<<ct);dt[0]=new tt(1).toRed(this),dt[1]=bt;for(var mt=2;mt<dt.length;mt++)dt[mt]=this.mul(dt[mt-1],bt);var xt=dt[0],At=0,Rt=0,St=vt.bitLength()%26;for(St===0&&(St=26),mt=vt.length-1;mt>=0;mt--){for(var $t=vt.words[mt],Et=St-1;Et>=0;Et--){var Nt=$t>>Et&1;if(xt!==dt[0]&&(xt=this.sqr(xt)),Nt===0&&At===0){Rt=0;continue}At<<=1,At|=Nt,Rt++,!(Rt!==ct&&(mt!==0||Et!==0))&&(xt=this.mul(xt,dt[At]),Rt=0,At=0)}St=26}return xt},Bt.prototype.convertTo=function(bt){var vt=bt.umod(this.m);return vt===bt?vt.clone():vt},Bt.prototype.convertFrom=function(bt){var vt=bt.clone();return vt.red=null,vt},tt.mont=function(bt){return new Ft(bt)};function Ft(jt){Bt.call(this,jt),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new tt(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}et(Ft,Bt),Ft.prototype.convertTo=function(bt){return this.imod(bt.ushln(this.shift))},Ft.prototype.convertFrom=function(bt){var vt=this.imod(bt.mul(this.rinv));return vt.red=null,vt},Ft.prototype.imul=function(bt,vt){if(bt.isZero()||vt.isZero())return bt.words[0]=0,bt.length=1,bt;var ct=bt.imul(vt),dt=ct.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),mt=ct.isub(dt).iushrn(this.shift),xt=mt;return mt.cmp(this.m)>=0?xt=mt.isub(this.m):mt.cmpn(0)<0&&(xt=mt.iadd(this.m)),xt._forceRed(this)},Ft.prototype.mul=function(bt,vt){if(bt.isZero()||vt.isZero())return new tt(0)._forceRed(this);var ct=bt.mul(vt),dt=ct.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),mt=ct.isub(dt).iushrn(this.shift),xt=mt;return mt.cmp(this.m)>=0?xt=mt.isub(this.m):mt.cmpn(0)<0&&(xt=mt.iadd(this.m)),xt._forceRed(this)},Ft.prototype.invm=function(bt){var vt=this.imod(bt._invmp(this.m).mul(this.r2));return vt._forceRed(this)}})(a,commonjsGlobal)})(bn$4);var bnExports$1=bn$4.exports;const BN$9=getDefaultExportFromCjs$1(bnExports$1);var brorand={exports:{}},hasRequiredBrorand;function requireBrorand(){if(hasRequiredBrorand)return brorand.exports;hasRequiredBrorand=1;var a;brorand.exports=function(et){return a||(a=new _(null)),a.generate(et)};function _(j){this.rand=j}if(brorand.exports.Rand=_,_.prototype.generate=function(et){return this._rand(et)},_.prototype._rand=function(et){if(this.rand.getBytes)return this.rand.getBytes(et);for(var tt=new Uint8Array(et),rt=0;rt<tt.length;rt++)tt[rt]=this.rand.getByte();return tt},typeof self=="object")self.crypto&&self.crypto.getRandomValues?_.prototype._rand=function(et){var tt=new Uint8Array(et);return self.crypto.getRandomValues(tt),tt}:self.msCrypto&&self.msCrypto.getRandomValues?_.prototype._rand=function(et){var tt=new Uint8Array(et);return self.msCrypto.getRandomValues(tt),tt}:typeof window=="object"&&(_.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var $=requireCryptoBrowserify();if(typeof $.randomBytes!="function")throw new Error("Not supported");_.prototype._rand=function(et){return $.randomBytes(et)}}catch{}return brorand.exports}var mr,hasRequiredMr;function requireMr(){if(hasRequiredMr)return mr;hasRequiredMr=1;var a=bnExports$1,_=requireBrorand();function $(j){this.rand=j||new _.Rand}return mr=$,$.create=function(et){return new $(et)},$.prototype._randbelow=function(et){var tt=et.bitLength(),rt=Math.ceil(tt/8);do var nt=new a(this.rand.generate(rt));while(nt.cmp(et)>=0);return nt},$.prototype._randrange=function(et,tt){var rt=tt.sub(et);return et.add(this._randbelow(rt))},$.prototype.test=function(et,tt,rt){var nt=et.bitLength(),it=a.mont(et),st=new a(1).toRed(it);tt||(tt=Math.max(1,nt/48|0));for(var ot=et.subn(1),at=0;!ot.testn(at);at++);for(var ut=et.shrn(at),ht=ot.toRed(it),yt=!0;tt>0;tt--){var wt=this._randrange(new a(2),ot);rt&&rt(wt);var Ct=wt.toRed(it).redPow(ut);if(!(Ct.cmp(st)===0||Ct.cmp(ht)===0)){for(var Pt=1;Pt<at;Pt++){if(Ct=Ct.redSqr(),Ct.cmp(st)===0)return!1;if(Ct.cmp(ht)===0)break}if(Pt===at)return!1}}return yt},$.prototype.getDivisor=function(et,tt){var rt=et.bitLength(),nt=a.mont(et),it=new a(1).toRed(nt);tt||(tt=Math.max(1,rt/48|0));for(var st=et.subn(1),ot=0;!st.testn(ot);ot++);for(var at=et.shrn(ot),ut=st.toRed(nt);tt>0;tt--){var ht=this._randrange(new a(2),st),yt=et.gcd(ht);if(yt.cmpn(1)!==0)return yt;var wt=ht.toRed(nt).redPow(at);if(!(wt.cmp(it)===0||wt.cmp(ut)===0)){for(var Ct=1;Ct<ot;Ct++){if(wt=wt.redSqr(),wt.cmp(it)===0)return wt.fromRed().subn(1).gcd(et);if(wt.cmp(ut)===0)break}if(Ct===ot)return wt=wt.redSqr(),wt.fromRed().subn(1).gcd(et)}}return!1},mr}var generatePrime,hasRequiredGeneratePrime;function requireGeneratePrime(){if(hasRequiredGeneratePrime)return generatePrime;hasRequiredGeneratePrime=1;var a=requireBrowser$8();generatePrime=Ct,Ct.simpleSieve=yt,Ct.fermatTest=wt;var _=bnExports$1,$=new _(24),j=requireMr(),et=new j,tt=new _(1),rt=new _(2),nt=new _(5);new _(16),new _(8);var it=new _(10),st=new _(3);new _(7);var ot=new _(11),at=new _(4);new _(12);var ut=null;function ht(){if(ut!==null)return ut;var Pt=1048576,Tt=[];Tt[0]=2;for(var Mt=1,Lt=3;Lt<Pt;Lt+=2){for(var Dt=Math.ceil(Math.sqrt(Lt)),Ut=0;Ut<Mt&&Tt[Ut]<=Dt&&Lt%Tt[Ut]!==0;Ut++);Mt!==Ut&&Tt[Ut]<=Dt||(Tt[Mt++]=Lt)}return ut=Tt,Tt}function yt(Pt){for(var Tt=ht(),Mt=0;Mt<Tt.length;Mt++)if(Pt.modn(Tt[Mt])===0)return Pt.cmpn(Tt[Mt])===0;return!0}function wt(Pt){var Tt=_.mont(Pt);return rt.toRed(Tt).redPow(Pt.subn(1)).fromRed().cmpn(1)===0}function Ct(Pt,Tt){if(Pt<16)return Tt===2||Tt===5?new _([140,123]):new _([140,39]);Tt=new _(Tt);for(var Mt,Lt;;){for(Mt=new _(a(Math.ceil(Pt/8)));Mt.bitLength()>Pt;)Mt.ishrn(1);if(Mt.isEven()&&Mt.iadd(tt),Mt.testn(1)||Mt.iadd(rt),Tt.cmp(rt)){if(!Tt.cmp(nt))for(;Mt.mod(it).cmp(st);)Mt.iadd(at)}else for(;Mt.mod($).cmp(ot);)Mt.iadd(at);if(Lt=Mt.shrn(1),yt(Lt)&&yt(Mt)&&wt(Lt)&&wt(Mt)&&et.test(Lt)&&et.test(Mt))return Mt}}return generatePrime}const modp1={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},modp2={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},modp5={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},modp14={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},modp15={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},modp16={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},modp17={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},modp18={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"},require$$1$2={modp1,modp2,modp5,modp14,modp15,modp16,modp17,modp18};var dh,hasRequiredDh;function requireDh(){if(hasRequiredDh)return dh;hasRequiredDh=1;var a=bnExports$1,_=requireMr(),$=new _,j=new a(24),et=new a(11),tt=new a(10),rt=new a(3),nt=new a(7),it=requireGeneratePrime(),st=requireBrowser$8();dh=yt;function ot(Ct,Pt){return Pt=Pt||"utf8",Buffer$g.isBuffer(Ct)||(Ct=new Buffer$g(Ct,Pt)),this._pub=new a(Ct),this}function at(Ct,Pt){return Pt=Pt||"utf8",Buffer$g.isBuffer(Ct)||(Ct=new Buffer$g(Ct,Pt)),this._priv=new a(Ct),this}var ut={};function ht(Ct,Pt){var Tt=Pt.toString("hex"),Mt=[Tt,Ct.toString(16)].join("_");if(Mt in ut)return ut[Mt];var Lt=0;if(Ct.isEven()||!it.simpleSieve||!it.fermatTest(Ct)||!$.test(Ct))return Lt+=1,Tt==="02"||Tt==="05"?Lt+=8:Lt+=4,ut[Mt]=Lt,Lt;$.test(Ct.shrn(1))||(Lt+=2);var Dt;switch(Tt){case"02":Ct.mod(j).cmp(et)&&(Lt+=8);break;case"05":Dt=Ct.mod(tt),Dt.cmp(rt)&&Dt.cmp(nt)&&(Lt+=8);break;default:Lt+=4}return ut[Mt]=Lt,Lt}function yt(Ct,Pt,Tt){this.setGenerator(Pt),this.__prime=new a(Ct),this._prime=a.mont(this.__prime),this._primeLen=Ct.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,Tt?(this.setPublicKey=ot,this.setPrivateKey=at):this._primeCode=8}Object.defineProperty(yt.prototype,"verifyError",{enumerable:!0,get:function(){return typeof this._primeCode!="number"&&(this._primeCode=ht(this.__prime,this.__gen)),this._primeCode}}),yt.prototype.generateKeys=function(){return this._priv||(this._priv=new a(st(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},yt.prototype.computeSecret=function(Ct){Ct=new a(Ct),Ct=Ct.toRed(this._prime);var Pt=Ct.redPow(this._priv).fromRed(),Tt=new Buffer$g(Pt.toArray()),Mt=this.getPrime();if(Tt.length<Mt.length){var Lt=new Buffer$g(Mt.length-Tt.length);Lt.fill(0),Tt=Buffer$g.concat([Lt,Tt])}return Tt},yt.prototype.getPublicKey=function(Pt){return wt(this._pub,Pt)},yt.prototype.getPrivateKey=function(Pt){return wt(this._priv,Pt)},yt.prototype.getPrime=function(Ct){return wt(this.__prime,Ct)},yt.prototype.getGenerator=function(Ct){return wt(this._gen,Ct)},yt.prototype.setGenerator=function(Ct,Pt){return Pt=Pt||"utf8",Buffer$g.isBuffer(Ct)||(Ct=new Buffer$g(Ct,Pt)),this.__gen=Ct,this._gen=new a(Ct),this};function wt(Ct,Pt){var Tt=new Buffer$g(Ct.toArray());return Pt?Tt.toString(Pt):Tt}return dh}var hasRequiredBrowser$4;function requireBrowser$4(){if(hasRequiredBrowser$4)return browser$4;hasRequiredBrowser$4=1;var a=requireGeneratePrime(),_=require$$1$2,$=requireDh();function j(rt){var nt=new Buffer$g(_[rt].prime,"hex"),it=new Buffer$g(_[rt].gen,"hex");return new $(nt,it)}var et={binary:!0,hex:!0,base64:!0};function tt(rt,nt,it,st){return Buffer$g.isBuffer(nt)||et[nt]===void 0?tt(rt,"binary",nt,it):(nt=nt||"binary",st=st||"binary",it=it||new Buffer$g([2]),Buffer$g.isBuffer(it)||(it=new Buffer$g(it,st)),typeof rt=="number"?new $(a(rt,it),it,!0):(Buffer$g.isBuffer(rt)||(rt=new Buffer$g(rt,nt)),new $(rt,it,!0)))}return browser$4.DiffieHellmanGroup=browser$4.createDiffieHellmanGroup=browser$4.getDiffieHellman=j,browser$4.createDiffieHellman=browser$4.DiffieHellman=tt,browser$4}var readableBrowser={exports:{}},processNextickArgs={exports:{}},hasRequiredProcessNextickArgs;function requireProcessNextickArgs(){if(hasRequiredProcessNextickArgs)return processNextickArgs.exports;hasRequiredProcessNextickArgs=1,typeof process$1$1>"u"||!process$1$1.version||process$1$1.version.indexOf("v0.")===0||process$1$1.version.indexOf("v1.")===0&&process$1$1.version.indexOf("v1.8.")!==0?processNextickArgs.exports={nextTick:a}:processNextickArgs.exports=process$1$1;function a(_,$,j,et){if(typeof _!="function")throw new TypeError('"callback" argument must be a function');var tt=arguments.length,rt,nt;switch(tt){case 0:case 1:return process$1$1.nextTick(_);case 2:return process$1$1.nextTick(function(){_.call(null,$)});case 3:return process$1$1.nextTick(function(){_.call(null,$,j)});case 4:return process$1$1.nextTick(function(){_.call(null,$,j,et)});default:for(rt=new Array(tt-1),nt=0;nt<rt.length;)rt[nt++]=arguments[nt];return process$1$1.nextTick(function(){_.apply(null,rt)})}}return processNextickArgs.exports}var isarray,hasRequiredIsarray;function requireIsarray(){if(hasRequiredIsarray)return isarray;hasRequiredIsarray=1;var a={}.toString;return isarray=Array.isArray||function(_){return a.call(_)=="[object Array]"},isarray}var streamBrowser,hasRequiredStreamBrowser;function requireStreamBrowser(){return hasRequiredStreamBrowser||(hasRequiredStreamBrowser=1,streamBrowser=eventsExports.EventEmitter),streamBrowser}var safeBuffer$1={exports:{}},hasRequiredSafeBuffer$1;function requireSafeBuffer$1(){return hasRequiredSafeBuffer$1||(hasRequiredSafeBuffer$1=1,function(a,_){var $=buffer$1,j=$.Buffer;function et(rt,nt){for(var it in rt)nt[it]=rt[it]}j.from&&j.alloc&&j.allocUnsafe&&j.allocUnsafeSlow?a.exports=$:(et($,_),_.Buffer=tt);function tt(rt,nt,it){return j(rt,nt,it)}et(j,tt),tt.from=function(rt,nt,it){if(typeof rt=="number")throw new TypeError("Argument must not be a number");return j(rt,nt,it)},tt.alloc=function(rt,nt,it){if(typeof rt!="number")throw new TypeError("Argument must be a number");var st=j(rt);return nt!==void 0?typeof it=="string"?st.fill(nt,it):st.fill(nt):st.fill(0),st},tt.allocUnsafe=function(rt){if(typeof rt!="number")throw new TypeError("Argument must be a number");return j(rt)},tt.allocUnsafeSlow=function(rt){if(typeof rt!="number")throw new TypeError("Argument must be a number");return $.SlowBuffer(rt)}}(safeBuffer$1,safeBuffer$1.exports)),safeBuffer$1.exports}var util$4={},hasRequiredUtil;function requireUtil(){if(hasRequiredUtil)return util$4;hasRequiredUtil=1;function a(wt){return Array.isArray?Array.isArray(wt):yt(wt)==="[object Array]"}util$4.isArray=a;function _(wt){return typeof wt=="boolean"}util$4.isBoolean=_;function $(wt){return wt===null}util$4.isNull=$;function j(wt){return wt==null}util$4.isNullOrUndefined=j;function et(wt){return typeof wt=="number"}util$4.isNumber=et;function tt(wt){return typeof wt=="string"}util$4.isString=tt;function rt(wt){return typeof wt=="symbol"}util$4.isSymbol=rt;function nt(wt){return wt===void 0}util$4.isUndefined=nt;function it(wt){return yt(wt)==="[object RegExp]"}util$4.isRegExp=it;function st(wt){return typeof wt=="object"&&wt!==null}util$4.isObject=st;function ot(wt){return yt(wt)==="[object Date]"}util$4.isDate=ot;function at(wt){return yt(wt)==="[object Error]"||wt instanceof Error}util$4.isError=at;function ut(wt){return typeof wt=="function"}util$4.isFunction=ut;function ht(wt){return wt===null||typeof wt=="boolean"||typeof wt=="number"||typeof wt=="string"||typeof wt=="symbol"||typeof wt>"u"}util$4.isPrimitive=ht,util$4.isBuffer=buffer$1.Buffer.isBuffer;function yt(wt){return Object.prototype.toString.call(wt)}return util$4}var BufferList={exports:{}},hasRequiredBufferList;function requireBufferList(){return hasRequiredBufferList||(hasRequiredBufferList=1,function(a){function _(tt,rt){if(!(tt instanceof rt))throw new TypeError("Cannot call a class as a function")}var $=requireSafeBuffer$1().Buffer,j=util$5;function et(tt,rt,nt){tt.copy(rt,nt)}a.exports=function(){function tt(){_(this,tt),this.head=null,this.tail=null,this.length=0}return tt.prototype.push=function(nt){var it={data:nt,next:null};this.length>0?this.tail.next=it:this.head=it,this.tail=it,++this.length},tt.prototype.unshift=function(nt){var it={data:nt,next:this.head};this.length===0&&(this.tail=it),this.head=it,++this.length},tt.prototype.shift=function(){if(this.length!==0){var nt=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,nt}},tt.prototype.clear=function(){this.head=this.tail=null,this.length=0},tt.prototype.join=function(nt){if(this.length===0)return"";for(var it=this.head,st=""+it.data;it=it.next;)st+=nt+it.data;return st},tt.prototype.concat=function(nt){if(this.length===0)return $.alloc(0);for(var it=$.allocUnsafe(nt>>>0),st=this.head,ot=0;st;)et(st.data,it,ot),ot+=st.data.length,st=st.next;return it},tt}(),j&&j.inspect&&j.inspect.custom&&(a.exports.prototype[j.inspect.custom]=function(){var tt=j.inspect({length:this.length});return this.constructor.name+" "+tt})}(BufferList)),BufferList.exports}var destroy_1,hasRequiredDestroy;function requireDestroy(){if(hasRequiredDestroy)return destroy_1;hasRequiredDestroy=1;var a=requireProcessNextickArgs();function _(et,tt){var rt=this,nt=this._readableState&&this._readableState.destroyed,it=this._writableState&&this._writableState.destroyed;return nt||it?(tt?tt(et):et&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,a.nextTick(j,this,et)):a.nextTick(j,this,et)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(et||null,function(st){!tt&&st?rt._writableState?rt._writableState.errorEmitted||(rt._writableState.errorEmitted=!0,a.nextTick(j,rt,st)):a.nextTick(j,rt,st):tt&&tt(st)}),this)}function $(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function j(et,tt){et.emit("error",tt)}return destroy_1={destroy:_,undestroy:$},destroy_1}var _stream_writable,hasRequired_stream_writable;function require_stream_writable(){if(hasRequired_stream_writable)return _stream_writable;hasRequired_stream_writable=1;var a=requireProcessNextickArgs();_stream_writable=wt;function _(xt){var At=this;this.next=null,this.entry=null,this.finish=function(){mt(At,xt)}}var $=!process$1$1.browser&&["v0.10","v0.9."].indexOf(process$1$1.version.slice(0,5))>-1?setImmediate:a.nextTick,j;wt.WritableState=ht;var et=Object.create(requireUtil());et.inherits=inherits_browserExports;var tt={deprecate:browser$c},rt=requireStreamBrowser(),nt=requireSafeBuffer$1().Buffer,it=(typeof commonjsGlobal<"u"?commonjsGlobal:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function st(xt){return nt.from(xt)}function ot(xt){return nt.isBuffer(xt)||xt instanceof it}var at=requireDestroy();et.inherits(wt,rt);function ut(){}function ht(xt,At){j=j||require_stream_duplex(),xt=xt||{};var Rt=At instanceof j;this.objectMode=!!xt.objectMode,Rt&&(this.objectMode=this.objectMode||!!xt.writableObjectMode);var St=xt.highWaterMark,$t=xt.writableHighWaterMark,Et=this.objectMode?16:16*1024;St||St===0?this.highWaterMark=St:Rt&&($t||$t===0)?this.highWaterMark=$t:this.highWaterMark=Et,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var Nt=xt.decodeStrings===!1;this.decodeStrings=!Nt,this.defaultEncoding=xt.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(tr){Ot(At,tr)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new _(this)}ht.prototype.getBuffer=function(){for(var At=this.bufferedRequest,Rt=[];At;)Rt.push(At),At=At.next;return Rt},function(){try{Object.defineProperty(ht.prototype,"buffer",{get:tt.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var yt;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(yt=Function.prototype[Symbol.hasInstance],Object.defineProperty(wt,Symbol.hasInstance,{value:function(xt){return yt.call(this,xt)?!0:this!==wt?!1:xt&&xt._writableState instanceof ht}})):yt=function(xt){return xt instanceof this};function wt(xt){if(j=j||require_stream_duplex(),!yt.call(wt,this)&&!(this instanceof j))return new wt(xt);this._writableState=new ht(xt,this),this.writable=!0,xt&&(typeof xt.write=="function"&&(this._write=xt.write),typeof xt.writev=="function"&&(this._writev=xt.writev),typeof xt.destroy=="function"&&(this._destroy=xt.destroy),typeof xt.final=="function"&&(this._final=xt.final)),rt.call(this)}wt.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))};function Ct(xt,At){var Rt=new Error("write after end");xt.emit("error",Rt),a.nextTick(At,Rt)}function Pt(xt,At,Rt,St){var $t=!0,Et=!1;return Rt===null?Et=new TypeError("May not write null values to stream"):typeof Rt!="string"&&Rt!==void 0&&!At.objectMode&&(Et=new TypeError("Invalid non-string/buffer chunk")),Et&&(xt.emit("error",Et),a.nextTick(St,Et),$t=!1),$t}wt.prototype.write=function(xt,At,Rt){var St=this._writableState,$t=!1,Et=!St.objectMode&&ot(xt);return Et&&!nt.isBuffer(xt)&&(xt=st(xt)),typeof At=="function"&&(Rt=At,At=null),Et?At="buffer":At||(At=St.defaultEncoding),typeof Rt!="function"&&(Rt=ut),St.ended?Ct(this,Rt):(Et||Pt(this,St,xt,Rt))&&(St.pendingcb++,$t=Mt(this,St,Et,xt,At,Rt)),$t},wt.prototype.cork=function(){var xt=this._writableState;xt.corked++},wt.prototype.uncork=function(){var xt=this._writableState;xt.corked&&(xt.corked--,!xt.writing&&!xt.corked&&!xt.bufferProcessing&&xt.bufferedRequest&&Ft(this,xt))},wt.prototype.setDefaultEncoding=function(At){if(typeof At=="string"&&(At=At.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((At+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+At);return this._writableState.defaultEncoding=At,this};function Tt(xt,At,Rt){return!xt.objectMode&&xt.decodeStrings!==!1&&typeof At=="string"&&(At=nt.from(At,Rt)),At}Object.defineProperty(wt.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function Mt(xt,At,Rt,St,$t,Et){if(!Rt){var Nt=Tt(At,St,$t);St!==Nt&&(Rt=!0,$t="buffer",St=Nt)}var tr=At.objectMode?1:St.length;At.length+=tr;var ir=At.length<At.highWaterMark;if(ir||(At.needDrain=!0),At.writing||At.corked){var nr=At.lastBufferedRequest;At.lastBufferedRequest={chunk:St,encoding:$t,isBuf:Rt,callback:Et,next:null},nr?nr.next=At.lastBufferedRequest:At.bufferedRequest=At.lastBufferedRequest,At.bufferedRequestCount+=1}else Lt(xt,At,!1,tr,St,$t,Et);return ir}function Lt(xt,At,Rt,St,$t,Et,Nt){At.writelen=St,At.writecb=Nt,At.writing=!0,At.sync=!0,Rt?xt._writev($t,At.onwrite):xt._write($t,Et,At.onwrite),At.sync=!1}function Dt(xt,At,Rt,St,$t){--At.pendingcb,Rt?(a.nextTick($t,St),a.nextTick(ct,xt,At),xt._writableState.errorEmitted=!0,xt.emit("error",St)):($t(St),xt._writableState.errorEmitted=!0,xt.emit("error",St),ct(xt,At))}function Ut(xt){xt.writing=!1,xt.writecb=null,xt.length-=xt.writelen,xt.writelen=0}function Ot(xt,At){var Rt=xt._writableState,St=Rt.sync,$t=Rt.writecb;if(Ut(Rt),At)Dt(xt,Rt,St,At,$t);else{var Et=jt(Rt);!Et&&!Rt.corked&&!Rt.bufferProcessing&&Rt.bufferedRequest&&Ft(xt,Rt),St?$(It,xt,Rt,Et,$t):It(xt,Rt,Et,$t)}}function It(xt,At,Rt,St){Rt||Bt(xt,At),At.pendingcb--,St(),ct(xt,At)}function Bt(xt,At){At.length===0&&At.needDrain&&(At.needDrain=!1,xt.emit("drain"))}function Ft(xt,At){At.bufferProcessing=!0;var Rt=At.bufferedRequest;if(xt._writev&&Rt&&Rt.next){var St=At.bufferedRequestCount,$t=new Array(St),Et=At.corkedRequestsFree;Et.entry=Rt;for(var Nt=0,tr=!0;Rt;)$t[Nt]=Rt,Rt.isBuf||(tr=!1),Rt=Rt.next,Nt+=1;$t.allBuffers=tr,Lt(xt,At,!0,At.length,$t,"",Et.finish),At.pendingcb++,At.lastBufferedRequest=null,Et.next?(At.corkedRequestsFree=Et.next,Et.next=null):At.corkedRequestsFree=new _(At),At.bufferedRequestCount=0}else{for(;Rt;){var ir=Rt.chunk,nr=Rt.encoding,Zt=Rt.callback,Kt=At.objectMode?1:ir.length;if(Lt(xt,At,!1,Kt,ir,nr,Zt),Rt=Rt.next,At.bufferedRequestCount--,At.writing)break}Rt===null&&(At.lastBufferedRequest=null)}At.bufferedRequest=Rt,At.bufferProcessing=!1}wt.prototype._write=function(xt,At,Rt){Rt(new Error("_write() is not implemented"))},wt.prototype._writev=null,wt.prototype.end=function(xt,At,Rt){var St=this._writableState;typeof xt=="function"?(Rt=xt,xt=null,At=null):typeof At=="function"&&(Rt=At,At=null),xt!=null&&this.write(xt,At),St.corked&&(St.corked=1,this.uncork()),St.ending||dt(this,St,Rt)};function jt(xt){return xt.ending&&xt.length===0&&xt.bufferedRequest===null&&!xt.finished&&!xt.writing}function bt(xt,At){xt._final(function(Rt){At.pendingcb--,Rt&&xt.emit("error",Rt),At.prefinished=!0,xt.emit("prefinish"),ct(xt,At)})}function vt(xt,At){!At.prefinished&&!At.finalCalled&&(typeof xt._final=="function"?(At.pendingcb++,At.finalCalled=!0,a.nextTick(bt,xt,At)):(At.prefinished=!0,xt.emit("prefinish")))}function ct(xt,At){var Rt=jt(At);return Rt&&(vt(xt,At),At.pendingcb===0&&(At.finished=!0,xt.emit("finish"))),Rt}function dt(xt,At,Rt){At.ending=!0,ct(xt,At),Rt&&(At.finished?a.nextTick(Rt):xt.once("finish",Rt)),At.ended=!0,xt.writable=!1}function mt(xt,At,Rt){var St=xt.entry;for(xt.entry=null;St;){var $t=St.callback;At.pendingcb--,$t(Rt),St=St.next}At.corkedRequestsFree.next=xt}return Object.defineProperty(wt.prototype,"destroyed",{get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(xt){this._writableState&&(this._writableState.destroyed=xt)}}),wt.prototype.destroy=at.destroy,wt.prototype._undestroy=at.undestroy,wt.prototype._destroy=function(xt,At){this.end(),At(xt)},_stream_writable}var _stream_duplex,hasRequired_stream_duplex;function require_stream_duplex(){if(hasRequired_stream_duplex)return _stream_duplex;hasRequired_stream_duplex=1;var a=requireProcessNextickArgs(),_=Object.keys||function(at){var ut=[];for(var ht in at)ut.push(ht);return ut};_stream_duplex=it;var $=Object.create(requireUtil());$.inherits=inherits_browserExports;var j=require_stream_readable(),et=require_stream_writable();$.inherits(it,j);for(var tt=_(et.prototype),rt=0;rt<tt.length;rt++){var nt=tt[rt];it.prototype[nt]||(it.prototype[nt]=et.prototype[nt])}function it(at){if(!(this instanceof it))return new it(at);j.call(this,at),et.call(this,at),at&&at.readable===!1&&(this.readable=!1),at&&at.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,at&&at.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",st)}Object.defineProperty(it.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function st(){this.allowHalfOpen||this._writableState.ended||a.nextTick(ot,this)}function ot(at){at.end()}return Object.defineProperty(it.prototype,"destroyed",{get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(at){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=at,this._writableState.destroyed=at)}}),it.prototype._destroy=function(at,ut){this.push(null),this.end(),a.nextTick(ut,at)},_stream_duplex}var string_decoder={},safeBuffer={exports:{}},hasRequiredSafeBuffer;function requireSafeBuffer(){return hasRequiredSafeBuffer||(hasRequiredSafeBuffer=1,function(a,_){var $=buffer$1,j=$.Buffer;function et(rt,nt){for(var it in rt)nt[it]=rt[it]}j.from&&j.alloc&&j.allocUnsafe&&j.allocUnsafeSlow?a.exports=$:(et($,_),_.Buffer=tt);function tt(rt,nt,it){return j(rt,nt,it)}et(j,tt),tt.from=function(rt,nt,it){if(typeof rt=="number")throw new TypeError("Argument must not be a number");return j(rt,nt,it)},tt.alloc=function(rt,nt,it){if(typeof rt!="number")throw new TypeError("Argument must be a number");var st=j(rt);return nt!==void 0?typeof it=="string"?st.fill(nt,it):st.fill(nt):st.fill(0),st},tt.allocUnsafe=function(rt){if(typeof rt!="number")throw new TypeError("Argument must be a number");return j(rt)},tt.allocUnsafeSlow=function(rt){if(typeof rt!="number")throw new TypeError("Argument must be a number");return $.SlowBuffer(rt)}}(safeBuffer,safeBuffer.exports)),safeBuffer.exports}var hasRequiredString_decoder;function requireString_decoder(){if(hasRequiredString_decoder)return string_decoder;hasRequiredString_decoder=1;var a=requireSafeBuffer().Buffer,_=a.isEncoding||function(Pt){switch(Pt=""+Pt,Pt&&Pt.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function $(Pt){if(!Pt)return"utf8";for(var Tt;;)switch(Pt){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return Pt;default:if(Tt)return;Pt=(""+Pt).toLowerCase(),Tt=!0}}function j(Pt){var Tt=$(Pt);if(typeof Tt!="string"&&(a.isEncoding===_||!_(Pt)))throw new Error("Unknown encoding: "+Pt);return Tt||Pt}string_decoder.StringDecoder=et;function et(Pt){this.encoding=j(Pt);var Tt;switch(this.encoding){case"utf16le":this.text=at,this.end=ut,Tt=4;break;case"utf8":this.fillLast=it,Tt=4;break;case"base64":this.text=ht,this.end=yt,Tt=3;break;default:this.write=wt,this.end=Ct;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=a.allocUnsafe(Tt)}et.prototype.write=function(Pt){if(Pt.length===0)return"";var Tt,Mt;if(this.lastNeed){if(Tt=this.fillLast(Pt),Tt===void 0)return"";Mt=this.lastNeed,this.lastNeed=0}else Mt=0;return Mt<Pt.length?Tt?Tt+this.text(Pt,Mt):this.text(Pt,Mt):Tt||""},et.prototype.end=ot,et.prototype.text=st,et.prototype.fillLast=function(Pt){if(this.lastNeed<=Pt.length)return Pt.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);Pt.copy(this.lastChar,this.lastTotal-this.lastNeed,0,Pt.length),this.lastNeed-=Pt.length};function tt(Pt){return Pt<=127?0:Pt>>5===6?2:Pt>>4===14?3:Pt>>3===30?4:Pt>>6===2?-1:-2}function rt(Pt,Tt,Mt){var Lt=Tt.length-1;if(Lt<Mt)return 0;var Dt=tt(Tt[Lt]);return Dt>=0?(Dt>0&&(Pt.lastNeed=Dt-1),Dt):--Lt<Mt||Dt===-2?0:(Dt=tt(Tt[Lt]),Dt>=0?(Dt>0&&(Pt.lastNeed=Dt-2),Dt):--Lt<Mt||Dt===-2?0:(Dt=tt(Tt[Lt]),Dt>=0?(Dt>0&&(Dt===2?Dt=0:Pt.lastNeed=Dt-3),Dt):0))}function nt(Pt,Tt,Mt){if((Tt[0]&192)!==128)return Pt.lastNeed=0,"�";if(Pt.lastNeed>1&&Tt.length>1){if((Tt[1]&192)!==128)return Pt.lastNeed=1,"�";if(Pt.lastNeed>2&&Tt.length>2&&(Tt[2]&192)!==128)return Pt.lastNeed=2,"�"}}function it(Pt){var Tt=this.lastTotal-this.lastNeed,Mt=nt(this,Pt);if(Mt!==void 0)return Mt;if(this.lastNeed<=Pt.length)return Pt.copy(this.lastChar,Tt,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);Pt.copy(this.lastChar,Tt,0,Pt.length),this.lastNeed-=Pt.length}function st(Pt,Tt){var Mt=rt(this,Pt,Tt);if(!this.lastNeed)return Pt.toString("utf8",Tt);this.lastTotal=Mt;var Lt=Pt.length-(Mt-this.lastNeed);return Pt.copy(this.lastChar,0,Lt),Pt.toString("utf8",Tt,Lt)}function ot(Pt){var Tt=Pt&&Pt.length?this.write(Pt):"";return this.lastNeed?Tt+"�":Tt}function at(Pt,Tt){if((Pt.length-Tt)%2===0){var Mt=Pt.toString("utf16le",Tt);if(Mt){var Lt=Mt.charCodeAt(Mt.length-1);if(Lt>=55296&&Lt<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=Pt[Pt.length-2],this.lastChar[1]=Pt[Pt.length-1],Mt.slice(0,-1)}return Mt}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=Pt[Pt.length-1],Pt.toString("utf16le",Tt,Pt.length-1)}function ut(Pt){var Tt=Pt&&Pt.length?this.write(Pt):"";if(this.lastNeed){var Mt=this.lastTotal-this.lastNeed;return Tt+this.lastChar.toString("utf16le",0,Mt)}return Tt}function ht(Pt,Tt){var Mt=(Pt.length-Tt)%3;return Mt===0?Pt.toString("base64",Tt):(this.lastNeed=3-Mt,this.lastTotal=3,Mt===1?this.lastChar[0]=Pt[Pt.length-1]:(this.lastChar[0]=Pt[Pt.length-2],this.lastChar[1]=Pt[Pt.length-1]),Pt.toString("base64",Tt,Pt.length-Mt))}function yt(Pt){var Tt=Pt&&Pt.length?this.write(Pt):"";return this.lastNeed?Tt+this.lastChar.toString("base64",0,3-this.lastNeed):Tt}function wt(Pt){return Pt.toString(this.encoding)}function Ct(Pt){return Pt&&Pt.length?this.write(Pt):""}return string_decoder}var _stream_readable,hasRequired_stream_readable;function require_stream_readable(){if(hasRequired_stream_readable)return _stream_readable;hasRequired_stream_readable=1;var a=requireProcessNextickArgs();_stream_readable=Tt;var _=requireIsarray(),$;Tt.ReadableState=Pt,eventsExports.EventEmitter;var j=function(Zt,Kt){return Zt.listeners(Kt).length},et=requireStreamBrowser(),tt=requireSafeBuffer$1().Buffer,rt=(typeof commonjsGlobal<"u"?commonjsGlobal:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function nt(Zt){return tt.from(Zt)}function it(Zt){return tt.isBuffer(Zt)||Zt instanceof rt}var st=Object.create(requireUtil());st.inherits=inherits_browserExports;var ot=util$5,at=void 0;ot&&ot.debuglog?at=ot.debuglog("stream"):at=function(){};var ut=requireBufferList(),ht=requireDestroy(),yt;st.inherits(Tt,et);var wt=["error","close","destroy","pause","resume"];function Ct(Zt,Kt,Qt){if(typeof Zt.prependListener=="function")return Zt.prependListener(Kt,Qt);!Zt._events||!Zt._events[Kt]?Zt.on(Kt,Qt):_(Zt._events[Kt])?Zt._events[Kt].unshift(Qt):Zt._events[Kt]=[Qt,Zt._events[Kt]]}function Pt(Zt,Kt){$=$||require_stream_duplex(),Zt=Zt||{};var Qt=Kt instanceof $;this.objectMode=!!Zt.objectMode,Qt&&(this.objectMode=this.objectMode||!!Zt.readableObjectMode);var Ht=Zt.highWaterMark,qt=Zt.readableHighWaterMark,Jt=this.objectMode?16:16*1024;Ht||Ht===0?this.highWaterMark=Ht:Qt&&(qt||qt===0)?this.highWaterMark=qt:this.highWaterMark=Jt,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new ut,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=Zt.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,Zt.encoding&&(yt||(yt=requireString_decoder().StringDecoder),this.decoder=new yt(Zt.encoding),this.encoding=Zt.encoding)}function Tt(Zt){if($=$||require_stream_duplex(),!(this instanceof Tt))return new Tt(Zt);this._readableState=new Pt(Zt,this),this.readable=!0,Zt&&(typeof Zt.read=="function"&&(this._read=Zt.read),typeof Zt.destroy=="function"&&(this._destroy=Zt.destroy)),et.call(this)}Object.defineProperty(Tt.prototype,"destroyed",{get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(Zt){this._readableState&&(this._readableState.destroyed=Zt)}}),Tt.prototype.destroy=ht.destroy,Tt.prototype._undestroy=ht.undestroy,Tt.prototype._destroy=function(Zt,Kt){this.push(null),Kt(Zt)},Tt.prototype.push=function(Zt,Kt){var Qt=this._readableState,Ht;return Qt.objectMode?Ht=!0:typeof Zt=="string"&&(Kt=Kt||Qt.defaultEncoding,Kt!==Qt.encoding&&(Zt=tt.from(Zt,Kt),Kt=""),Ht=!0),Mt(this,Zt,Kt,!1,Ht)},Tt.prototype.unshift=function(Zt){return Mt(this,Zt,null,!0,!1)};function Mt(Zt,Kt,Qt,Ht,qt){var Jt=Zt._readableState;if(Kt===null)Jt.reading=!1,Ft(Zt,Jt);else{var ur;qt||(ur=Dt(Jt,Kt)),ur?Zt.emit("error",ur):Jt.objectMode||Kt&&Kt.length>0?(typeof Kt!="string"&&!Jt.objectMode&&Object.getPrototypeOf(Kt)!==tt.prototype&&(Kt=nt(Kt)),Ht?Jt.endEmitted?Zt.emit("error",new Error("stream.unshift() after end event")):Lt(Zt,Jt,Kt,!0):Jt.ended?Zt.emit("error",new Error("stream.push() after EOF")):(Jt.reading=!1,Jt.decoder&&!Qt?(Kt=Jt.decoder.write(Kt),Jt.objectMode||Kt.length!==0?Lt(Zt,Jt,Kt,!1):vt(Zt,Jt)):Lt(Zt,Jt,Kt,!1))):Ht||(Jt.reading=!1)}return Ut(Jt)}function Lt(Zt,Kt,Qt,Ht){Kt.flowing&&Kt.length===0&&!Kt.sync?(Zt.emit("data",Qt),Zt.read(0)):(Kt.length+=Kt.objectMode?1:Qt.length,Ht?Kt.buffer.unshift(Qt):Kt.buffer.push(Qt),Kt.needReadable&&jt(Zt)),vt(Zt,Kt)}function Dt(Zt,Kt){var Qt;return!it(Kt)&&typeof Kt!="string"&&Kt!==void 0&&!Zt.objectMode&&(Qt=new TypeError("Invalid non-string/buffer chunk")),Qt}function Ut(Zt){return!Zt.ended&&(Zt.needReadable||Zt.length<Zt.highWaterMark||Zt.length===0)}Tt.prototype.isPaused=function(){return this._readableState.flowing===!1},Tt.prototype.setEncoding=function(Zt){return yt||(yt=requireString_decoder().StringDecoder),this._readableState.decoder=new yt(Zt),this._readableState.encoding=Zt,this};var Ot=8388608;function It(Zt){return Zt>=Ot?Zt=Ot:(Zt--,Zt|=Zt>>>1,Zt|=Zt>>>2,Zt|=Zt>>>4,Zt|=Zt>>>8,Zt|=Zt>>>16,Zt++),Zt}function Bt(Zt,Kt){return Zt<=0||Kt.length===0&&Kt.ended?0:Kt.objectMode?1:Zt!==Zt?Kt.flowing&&Kt.length?Kt.buffer.head.data.length:Kt.length:(Zt>Kt.highWaterMark&&(Kt.highWaterMark=It(Zt)),Zt<=Kt.length?Zt:Kt.ended?Kt.length:(Kt.needReadable=!0,0))}Tt.prototype.read=function(Zt){at("read",Zt),Zt=parseInt(Zt,10);var Kt=this._readableState,Qt=Zt;if(Zt!==0&&(Kt.emittedReadable=!1),Zt===0&&Kt.needReadable&&(Kt.length>=Kt.highWaterMark||Kt.ended))return at("read: emitReadable",Kt.length,Kt.ended),Kt.length===0&&Kt.ended?tr(this):jt(this),null;if(Zt=Bt(Zt,Kt),Zt===0&&Kt.ended)return Kt.length===0&&tr(this),null;var Ht=Kt.needReadable;at("need readable",Ht),(Kt.length===0||Kt.length-Zt<Kt.highWaterMark)&&(Ht=!0,at("length less than watermark",Ht)),Kt.ended||Kt.reading?(Ht=!1,at("reading or ended",Ht)):Ht&&(at("do read"),Kt.reading=!0,Kt.sync=!0,Kt.length===0&&(Kt.needReadable=!0),this._read(Kt.highWaterMark),Kt.sync=!1,Kt.reading||(Zt=Bt(Qt,Kt)));var qt;return Zt>0?qt=St(Zt,Kt):qt=null,qt===null?(Kt.needReadable=!0,Zt=0):Kt.length-=Zt,Kt.length===0&&(Kt.ended||(Kt.needReadable=!0),Qt!==Zt&&Kt.ended&&tr(this)),qt!==null&&this.emit("data",qt),qt};function Ft(Zt,Kt){if(!Kt.ended){if(Kt.decoder){var Qt=Kt.decoder.end();Qt&&Qt.length&&(Kt.buffer.push(Qt),Kt.length+=Kt.objectMode?1:Qt.length)}Kt.ended=!0,jt(Zt)}}function jt(Zt){var Kt=Zt._readableState;Kt.needReadable=!1,Kt.emittedReadable||(at("emitReadable",Kt.flowing),Kt.emittedReadable=!0,Kt.sync?a.nextTick(bt,Zt):bt(Zt))}function bt(Zt){at("emit readable"),Zt.emit("readable"),Rt(Zt)}function vt(Zt,Kt){Kt.readingMore||(Kt.readingMore=!0,a.nextTick(ct,Zt,Kt))}function ct(Zt,Kt){for(var Qt=Kt.length;!Kt.reading&&!Kt.flowing&&!Kt.ended&&Kt.length<Kt.highWaterMark&&(at("maybeReadMore read 0"),Zt.read(0),Qt!==Kt.length);)Qt=Kt.length;Kt.readingMore=!1}Tt.prototype._read=function(Zt){this.emit("error",new Error("_read() is not implemented"))},Tt.prototype.pipe=function(Zt,Kt){var Qt=this,Ht=this._readableState;switch(Ht.pipesCount){case 0:Ht.pipes=Zt;break;case 1:Ht.pipes=[Ht.pipes,Zt];break;default:Ht.pipes.push(Zt);break}Ht.pipesCount+=1,at("pipe count=%d opts=%j",Ht.pipesCount,Kt);var qt=(!Kt||Kt.end!==!1)&&Zt!==process$1$1.stdout&&Zt!==process$1$1.stderr,Jt=qt?xr:Ar;Ht.endEmitted?a.nextTick(Jt):Qt.once("end",Jt),Zt.on("unpipe",ur);function ur(Pr,Or){at("onunpipe"),Pr===Qt&&Or&&Or.hasUnpiped===!1&&(Or.hasUnpiped=!0,Mr())}function xr(){at("onend"),Zt.end()}var pr=dt(Qt);Zt.on("drain",pr);var Cr=!1;function Mr(){at("cleanup"),Zt.removeListener("close",Rr),Zt.removeListener("finish",kr),Zt.removeListener("drain",pr),Zt.removeListener("error",_r),Zt.removeListener("unpipe",ur),Qt.removeListener("end",xr),Qt.removeListener("end",Ar),Qt.removeListener("data",fr),Cr=!0,Ht.awaitDrain&&(!Zt._writableState||Zt._writableState.needDrain)&&pr()}var lr=!1;Qt.on("data",fr);function fr(Pr){at("ondata"),lr=!1;var Or=Zt.write(Pr);Or===!1&&!lr&&((Ht.pipesCount===1&&Ht.pipes===Zt||Ht.pipesCount>1&&nr(Ht.pipes,Zt)!==-1)&&!Cr&&(at("false write response, pause",Ht.awaitDrain),Ht.awaitDrain++,lr=!0),Qt.pause())}function _r(Pr){at("onerror",Pr),Ar(),Zt.removeListener("error",_r),j(Zt,"error")===0&&Zt.emit("error",Pr)}Ct(Zt,"error",_r);function Rr(){Zt.removeListener("finish",kr),Ar()}Zt.once("close",Rr);function kr(){at("onfinish"),Zt.removeListener("close",Rr),Ar()}Zt.once("finish",kr);function Ar(){at("unpipe"),Qt.unpipe(Zt)}return Zt.emit("pipe",Qt),Ht.flowing||(at("pipe resume"),Qt.resume()),Zt};function dt(Zt){return function(){var Kt=Zt._readableState;at("pipeOnDrain",Kt.awaitDrain),Kt.awaitDrain&&Kt.awaitDrain--,Kt.awaitDrain===0&&j(Zt,"data")&&(Kt.flowing=!0,Rt(Zt))}}Tt.prototype.unpipe=function(Zt){var Kt=this._readableState,Qt={hasUnpiped:!1};if(Kt.pipesCount===0)return this;if(Kt.pipesCount===1)return Zt&&Zt!==Kt.pipes?this:(Zt||(Zt=Kt.pipes),Kt.pipes=null,Kt.pipesCount=0,Kt.flowing=!1,Zt&&Zt.emit("unpipe",this,Qt),this);if(!Zt){var Ht=Kt.pipes,qt=Kt.pipesCount;Kt.pipes=null,Kt.pipesCount=0,Kt.flowing=!1;for(var Jt=0;Jt<qt;Jt++)Ht[Jt].emit("unpipe",this,{hasUnpiped:!1});return this}var ur=nr(Kt.pipes,Zt);return ur===-1?this:(Kt.pipes.splice(ur,1),Kt.pipesCount-=1,Kt.pipesCount===1&&(Kt.pipes=Kt.pipes[0]),Zt.emit("unpipe",this,Qt),this)},Tt.prototype.on=function(Zt,Kt){var Qt=et.prototype.on.call(this,Zt,Kt);if(Zt==="data")this._readableState.flowing!==!1&&this.resume();else if(Zt==="readable"){var Ht=this._readableState;!Ht.endEmitted&&!Ht.readableListening&&(Ht.readableListening=Ht.needReadable=!0,Ht.emittedReadable=!1,Ht.reading?Ht.length&&jt(this):a.nextTick(mt,this))}return Qt},Tt.prototype.addListener=Tt.prototype.on;function mt(Zt){at("readable nexttick read 0"),Zt.read(0)}Tt.prototype.resume=function(){var Zt=this._readableState;return Zt.flowing||(at("resume"),Zt.flowing=!0,xt(this,Zt)),this};function xt(Zt,Kt){Kt.resumeScheduled||(Kt.resumeScheduled=!0,a.nextTick(At,Zt,Kt))}function At(Zt,Kt){Kt.reading||(at("resume read 0"),Zt.read(0)),Kt.resumeScheduled=!1,Kt.awaitDrain=0,Zt.emit("resume"),Rt(Zt),Kt.flowing&&!Kt.reading&&Zt.read(0)}Tt.prototype.pause=function(){return at("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(at("pause"),this._readableState.flowing=!1,this.emit("pause")),this};function Rt(Zt){var Kt=Zt._readableState;for(at("flow",Kt.flowing);Kt.flowing&&Zt.read()!==null;);}Tt.prototype.wrap=function(Zt){var Kt=this,Qt=this._readableState,Ht=!1;Zt.on("end",function(){if(at("wrapped end"),Qt.decoder&&!Qt.ended){var ur=Qt.decoder.end();ur&&ur.length&&Kt.push(ur)}Kt.push(null)}),Zt.on("data",function(ur){if(at("wrapped data"),Qt.decoder&&(ur=Qt.decoder.write(ur)),!(Qt.objectMode&&ur==null)&&!(!Qt.objectMode&&(!ur||!ur.length))){var xr=Kt.push(ur);xr||(Ht=!0,Zt.pause())}});for(var qt in Zt)this[qt]===void 0&&typeof Zt[qt]=="function"&&(this[qt]=function(ur){return function(){return Zt[ur].apply(Zt,arguments)}}(qt));for(var Jt=0;Jt<wt.length;Jt++)Zt.on(wt[Jt],this.emit.bind(this,wt[Jt]));return this._read=function(ur){at("wrapped _read",ur),Ht&&(Ht=!1,Zt.resume())},this},Object.defineProperty(Tt.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Tt._fromList=St;function St(Zt,Kt){if(Kt.length===0)return null;var Qt;return Kt.objectMode?Qt=Kt.buffer.shift():!Zt||Zt>=Kt.length?(Kt.decoder?Qt=Kt.buffer.join(""):Kt.buffer.length===1?Qt=Kt.buffer.head.data:Qt=Kt.buffer.concat(Kt.length),Kt.buffer.clear()):Qt=$t(Zt,Kt.buffer,Kt.decoder),Qt}function $t(Zt,Kt,Qt){var Ht;return Zt<Kt.head.data.length?(Ht=Kt.head.data.slice(0,Zt),Kt.head.data=Kt.head.data.slice(Zt)):Zt===Kt.head.data.length?Ht=Kt.shift():Ht=Qt?Et(Zt,Kt):Nt(Zt,Kt),Ht}function Et(Zt,Kt){var Qt=Kt.head,Ht=1,qt=Qt.data;for(Zt-=qt.length;Qt=Qt.next;){var Jt=Qt.data,ur=Zt>Jt.length?Jt.length:Zt;if(ur===Jt.length?qt+=Jt:qt+=Jt.slice(0,Zt),Zt-=ur,Zt===0){ur===Jt.length?(++Ht,Qt.next?Kt.head=Qt.next:Kt.head=Kt.tail=null):(Kt.head=Qt,Qt.data=Jt.slice(ur));break}++Ht}return Kt.length-=Ht,qt}function Nt(Zt,Kt){var Qt=tt.allocUnsafe(Zt),Ht=Kt.head,qt=1;for(Ht.data.copy(Qt),Zt-=Ht.data.length;Ht=Ht.next;){var Jt=Ht.data,ur=Zt>Jt.length?Jt.length:Zt;if(Jt.copy(Qt,Qt.length-Zt,0,ur),Zt-=ur,Zt===0){ur===Jt.length?(++qt,Ht.next?Kt.head=Ht.next:Kt.head=Kt.tail=null):(Kt.head=Ht,Ht.data=Jt.slice(ur));break}++qt}return Kt.length-=qt,Qt}function tr(Zt){var Kt=Zt._readableState;if(Kt.length>0)throw new Error('"endReadable()" called on non-empty stream');Kt.endEmitted||(Kt.ended=!0,a.nextTick(ir,Kt,Zt))}function ir(Zt,Kt){!Zt.endEmitted&&Zt.length===0&&(Zt.endEmitted=!0,Kt.readable=!1,Kt.emit("end"))}function nr(Zt,Kt){for(var Qt=0,Ht=Zt.length;Qt<Ht;Qt++)if(Zt[Qt]===Kt)return Qt;return-1}return _stream_readable}var _stream_transform,hasRequired_stream_transform;function require_stream_transform(){if(hasRequired_stream_transform)return _stream_transform;hasRequired_stream_transform=1,_stream_transform=j;var a=require_stream_duplex(),_=Object.create(requireUtil());_.inherits=inherits_browserExports,_.inherits(j,a);function $(rt,nt){var it=this._transformState;it.transforming=!1;var st=it.writecb;if(!st)return this.emit("error",new Error("write callback called multiple times"));it.writechunk=null,it.writecb=null,nt!=null&&this.push(nt),st(rt);var ot=this._readableState;ot.reading=!1,(ot.needReadable||ot.length<ot.highWaterMark)&&this._read(ot.highWaterMark)}function j(rt){if(!(this instanceof j))return new j(rt);a.call(this,rt),this._transformState={afterTransform:$.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,rt&&(typeof rt.transform=="function"&&(this._transform=rt.transform),typeof rt.flush=="function"&&(this._flush=rt.flush)),this.on("prefinish",et)}function et(){var rt=this;typeof this._flush=="function"?this._flush(function(nt,it){tt(rt,nt,it)}):tt(this,null,null)}j.prototype.push=function(rt,nt){return this._transformState.needTransform=!1,a.prototype.push.call(this,rt,nt)},j.prototype._transform=function(rt,nt,it){throw new Error("_transform() is not implemented")},j.prototype._write=function(rt,nt,it){var st=this._transformState;if(st.writecb=it,st.writechunk=rt,st.writeencoding=nt,!st.transforming){var ot=this._readableState;(st.needTransform||ot.needReadable||ot.length<ot.highWaterMark)&&this._read(ot.highWaterMark)}},j.prototype._read=function(rt){var nt=this._transformState;nt.writechunk!==null&&nt.writecb&&!nt.transforming?(nt.transforming=!0,this._transform(nt.writechunk,nt.writeencoding,nt.afterTransform)):nt.needTransform=!0},j.prototype._destroy=function(rt,nt){var it=this;a.prototype._destroy.call(this,rt,function(st){nt(st),it.emit("close")})};function tt(rt,nt,it){if(nt)return rt.emit("error",nt);if(it!=null&&rt.push(it),rt._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(rt._transformState.transforming)throw new Error("Calling transform done when still transforming");return rt.push(null)}return _stream_transform}var _stream_passthrough,hasRequired_stream_passthrough;function require_stream_passthrough(){if(hasRequired_stream_passthrough)return _stream_passthrough;hasRequired_stream_passthrough=1,_stream_passthrough=$;var a=require_stream_transform(),_=Object.create(requireUtil());_.inherits=inherits_browserExports,_.inherits($,a);function $(j){if(!(this instanceof $))return new $(j);a.call(this,j)}return $.prototype._transform=function(j,et,tt){tt(null,j)},_stream_passthrough}var hasRequiredReadableBrowser;function requireReadableBrowser(){return hasRequiredReadableBrowser||(hasRequiredReadableBrowser=1,function(a,_){_=a.exports=require_stream_readable(),_.Stream=_,_.Readable=_,_.Writable=require_stream_writable(),_.Duplex=require_stream_duplex(),_.Transform=require_stream_transform(),_.PassThrough=require_stream_passthrough()}(readableBrowser,readableBrowser.exports)),readableBrowser.exports}var sign$1={exports:{}},bn$3={exports:{}};bn$3.exports;var hasRequiredBn$2;function requireBn$2(){return hasRequiredBn$2||(hasRequiredBn$2=1,function(a){(function(_,$){function j(vt,ct){if(!vt)throw new Error(ct||"Assertion failed")}function et(vt,ct){vt.super_=ct;var dt=function(){};dt.prototype=ct.prototype,vt.prototype=new dt,vt.prototype.constructor=vt}function tt(vt,ct,dt){if(tt.isBN(vt))return vt;this.negative=0,this.words=null,this.length=0,this.red=null,vt!==null&&((ct==="le"||ct==="be")&&(dt=ct,ct=10),this._init(vt||0,ct||10,dt||"be"))}typeof _=="object"?_.exports=tt:$.BN=tt,tt.BN=tt,tt.wordSize=26;var rt;try{typeof window<"u"&&typeof window.Buffer<"u"?rt=window.Buffer:rt=require$$0$4.Buffer}catch{}tt.isBN=function(ct){return ct instanceof tt?!0:ct!==null&&typeof ct=="object"&&ct.constructor.wordSize===tt.wordSize&&Array.isArray(ct.words)},tt.max=function(ct,dt){return ct.cmp(dt)>0?ct:dt},tt.min=function(ct,dt){return ct.cmp(dt)<0?ct:dt},tt.prototype._init=function(ct,dt,mt){if(typeof ct=="number")return this._initNumber(ct,dt,mt);if(typeof ct=="object")return this._initArray(ct,dt,mt);dt==="hex"&&(dt=16),j(dt===(dt|0)&&dt>=2&&dt<=36),ct=ct.toString().replace(/\s+/g,"");var xt=0;ct[0]==="-"&&(xt++,this.negative=1),xt<ct.length&&(dt===16?this._parseHex(ct,xt,mt):(this._parseBase(ct,dt,xt),mt==="le"&&this._initArray(this.toArray(),dt,mt)))},tt.prototype._initNumber=function(ct,dt,mt){ct<0&&(this.negative=1,ct=-ct),ct<67108864?(this.words=[ct&67108863],this.length=1):ct<4503599627370496?(this.words=[ct&67108863,ct/67108864&67108863],this.length=2):(j(ct<9007199254740992),this.words=[ct&67108863,ct/67108864&67108863,1],this.length=3),mt==="le"&&this._initArray(this.toArray(),dt,mt)},tt.prototype._initArray=function(ct,dt,mt){if(j(typeof ct.length=="number"),ct.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(ct.length/3),this.words=new Array(this.length);for(var xt=0;xt<this.length;xt++)this.words[xt]=0;var At,Rt,St=0;if(mt==="be")for(xt=ct.length-1,At=0;xt>=0;xt-=3)Rt=ct[xt]|ct[xt-1]<<8|ct[xt-2]<<16,this.words[At]|=Rt<<St&67108863,this.words[At+1]=Rt>>>26-St&67108863,St+=24,St>=26&&(St-=26,At++);else if(mt==="le")for(xt=0,At=0;xt<ct.length;xt+=3)Rt=ct[xt]|ct[xt+1]<<8|ct[xt+2]<<16,this.words[At]|=Rt<<St&67108863,this.words[At+1]=Rt>>>26-St&67108863,St+=24,St>=26&&(St-=26,At++);return this._strip()};function nt(vt,ct){var dt=vt.charCodeAt(ct);if(dt>=48&&dt<=57)return dt-48;if(dt>=65&&dt<=70)return dt-55;if(dt>=97&&dt<=102)return dt-87;j(!1,"Invalid character in "+vt)}function it(vt,ct,dt){var mt=nt(vt,dt);return dt-1>=ct&&(mt|=nt(vt,dt-1)<<4),mt}tt.prototype._parseHex=function(ct,dt,mt){this.length=Math.ceil((ct.length-dt)/6),this.words=new Array(this.length);for(var xt=0;xt<this.length;xt++)this.words[xt]=0;var At=0,Rt=0,St;if(mt==="be")for(xt=ct.length-1;xt>=dt;xt-=2)St=it(ct,dt,xt)<<At,this.words[Rt]|=St&67108863,At>=18?(At-=18,Rt+=1,this.words[Rt]|=St>>>26):At+=8;else{var $t=ct.length-dt;for(xt=$t%2===0?dt+1:dt;xt<ct.length;xt+=2)St=it(ct,dt,xt)<<At,this.words[Rt]|=St&67108863,At>=18?(At-=18,Rt+=1,this.words[Rt]|=St>>>26):At+=8}this._strip()};function st(vt,ct,dt,mt){for(var xt=0,At=0,Rt=Math.min(vt.length,dt),St=ct;St<Rt;St++){var $t=vt.charCodeAt(St)-48;xt*=mt,$t>=49?At=$t-49+10:$t>=17?At=$t-17+10:At=$t,j($t>=0&&At<mt,"Invalid character"),xt+=At}return xt}tt.prototype._parseBase=function(ct,dt,mt){this.words=[0],this.length=1;for(var xt=0,At=1;At<=67108863;At*=dt)xt++;xt--,At=At/dt|0;for(var Rt=ct.length-mt,St=Rt%xt,$t=Math.min(Rt,Rt-St)+mt,Et=0,Nt=mt;Nt<$t;Nt+=xt)Et=st(ct,Nt,Nt+xt,dt),this.imuln(At),this.words[0]+Et<67108864?this.words[0]+=Et:this._iaddn(Et);if(St!==0){var tr=1;for(Et=st(ct,Nt,ct.length,dt),Nt=0;Nt<St;Nt++)tr*=dt;this.imuln(tr),this.words[0]+Et<67108864?this.words[0]+=Et:this._iaddn(Et)}this._strip()},tt.prototype.copy=function(ct){ct.words=new Array(this.length);for(var dt=0;dt<this.length;dt++)ct.words[dt]=this.words[dt];ct.length=this.length,ct.negative=this.negative,ct.red=this.red};function ot(vt,ct){vt.words=ct.words,vt.length=ct.length,vt.negative=ct.negative,vt.red=ct.red}if(tt.prototype._move=function(ct){ot(ct,this)},tt.prototype.clone=function(){var ct=new tt(null);return this.copy(ct),ct},tt.prototype._expand=function(ct){for(;this.length<ct;)this.words[this.length++]=0;return this},tt.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},tt.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{tt.prototype[Symbol.for("nodejs.util.inspect.custom")]=at}catch{tt.prototype.inspect=at}else tt.prototype.inspect=at;function at(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var ut=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],ht=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],yt=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];tt.prototype.toString=function(ct,dt){ct=ct||10,dt=dt|0||1;var mt;if(ct===16||ct==="hex"){mt="";for(var xt=0,At=0,Rt=0;Rt<this.length;Rt++){var St=this.words[Rt],$t=((St<<xt|At)&16777215).toString(16);At=St>>>24-xt&16777215,xt+=2,xt>=26&&(xt-=26,Rt--),At!==0||Rt!==this.length-1?mt=ut[6-$t.length]+$t+mt:mt=$t+mt}for(At!==0&&(mt=At.toString(16)+mt);mt.length%dt!==0;)mt="0"+mt;return this.negative!==0&&(mt="-"+mt),mt}if(ct===(ct|0)&&ct>=2&&ct<=36){var Et=ht[ct],Nt=yt[ct];mt="";var tr=this.clone();for(tr.negative=0;!tr.isZero();){var ir=tr.modrn(Nt).toString(ct);tr=tr.idivn(Nt),tr.isZero()?mt=ir+mt:mt=ut[Et-ir.length]+ir+mt}for(this.isZero()&&(mt="0"+mt);mt.length%dt!==0;)mt="0"+mt;return this.negative!==0&&(mt="-"+mt),mt}j(!1,"Base should be between 2 and 36")},tt.prototype.toNumber=function(){var ct=this.words[0];return this.length===2?ct+=this.words[1]*67108864:this.length===3&&this.words[2]===1?ct+=4503599627370496+this.words[1]*67108864:this.length>2&&j(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-ct:ct},tt.prototype.toJSON=function(){return this.toString(16,2)},rt&&(tt.prototype.toBuffer=function(ct,dt){return this.toArrayLike(rt,ct,dt)}),tt.prototype.toArray=function(ct,dt){return this.toArrayLike(Array,ct,dt)};var wt=function(ct,dt){return ct.allocUnsafe?ct.allocUnsafe(dt):new ct(dt)};tt.prototype.toArrayLike=function(ct,dt,mt){this._strip();var xt=this.byteLength(),At=mt||Math.max(1,xt);j(xt<=At,"byte array longer than desired length"),j(At>0,"Requested array length <= 0");var Rt=wt(ct,At),St=dt==="le"?"LE":"BE";return this["_toArrayLike"+St](Rt,xt),Rt},tt.prototype._toArrayLikeLE=function(ct,dt){for(var mt=0,xt=0,At=0,Rt=0;At<this.length;At++){var St=this.words[At]<<Rt|xt;ct[mt++]=St&255,mt<ct.length&&(ct[mt++]=St>>8&255),mt<ct.length&&(ct[mt++]=St>>16&255),Rt===6?(mt<ct.length&&(ct[mt++]=St>>24&255),xt=0,Rt=0):(xt=St>>>24,Rt+=2)}if(mt<ct.length)for(ct[mt++]=xt;mt<ct.length;)ct[mt++]=0},tt.prototype._toArrayLikeBE=function(ct,dt){for(var mt=ct.length-1,xt=0,At=0,Rt=0;At<this.length;At++){var St=this.words[At]<<Rt|xt;ct[mt--]=St&255,mt>=0&&(ct[mt--]=St>>8&255),mt>=0&&(ct[mt--]=St>>16&255),Rt===6?(mt>=0&&(ct[mt--]=St>>24&255),xt=0,Rt=0):(xt=St>>>24,Rt+=2)}if(mt>=0)for(ct[mt--]=xt;mt>=0;)ct[mt--]=0},Math.clz32?tt.prototype._countBits=function(ct){return 32-Math.clz32(ct)}:tt.prototype._countBits=function(ct){var dt=ct,mt=0;return dt>=4096&&(mt+=13,dt>>>=13),dt>=64&&(mt+=7,dt>>>=7),dt>=8&&(mt+=4,dt>>>=4),dt>=2&&(mt+=2,dt>>>=2),mt+dt},tt.prototype._zeroBits=function(ct){if(ct===0)return 26;var dt=ct,mt=0;return dt&8191||(mt+=13,dt>>>=13),dt&127||(mt+=7,dt>>>=7),dt&15||(mt+=4,dt>>>=4),dt&3||(mt+=2,dt>>>=2),dt&1||mt++,mt},tt.prototype.bitLength=function(){var ct=this.words[this.length-1],dt=this._countBits(ct);return(this.length-1)*26+dt};function Ct(vt){for(var ct=new Array(vt.bitLength()),dt=0;dt<ct.length;dt++){var mt=dt/26|0,xt=dt%26;ct[dt]=vt.words[mt]>>>xt&1}return ct}tt.prototype.zeroBits=function(){if(this.isZero())return 0;for(var ct=0,dt=0;dt<this.length;dt++){var mt=this._zeroBits(this.words[dt]);if(ct+=mt,mt!==26)break}return ct},tt.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},tt.prototype.toTwos=function(ct){return this.negative!==0?this.abs().inotn(ct).iaddn(1):this.clone()},tt.prototype.fromTwos=function(ct){return this.testn(ct-1)?this.notn(ct).iaddn(1).ineg():this.clone()},tt.prototype.isNeg=function(){return this.negative!==0},tt.prototype.neg=function(){return this.clone().ineg()},tt.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},tt.prototype.iuor=function(ct){for(;this.length<ct.length;)this.words[this.length++]=0;for(var dt=0;dt<ct.length;dt++)this.words[dt]=this.words[dt]|ct.words[dt];return this._strip()},tt.prototype.ior=function(ct){return j((this.negative|ct.negative)===0),this.iuor(ct)},tt.prototype.or=function(ct){return this.length>ct.length?this.clone().ior(ct):ct.clone().ior(this)},tt.prototype.uor=function(ct){return this.length>ct.length?this.clone().iuor(ct):ct.clone().iuor(this)},tt.prototype.iuand=function(ct){var dt;this.length>ct.length?dt=ct:dt=this;for(var mt=0;mt<dt.length;mt++)this.words[mt]=this.words[mt]&ct.words[mt];return this.length=dt.length,this._strip()},tt.prototype.iand=function(ct){return j((this.negative|ct.negative)===0),this.iuand(ct)},tt.prototype.and=function(ct){return this.length>ct.length?this.clone().iand(ct):ct.clone().iand(this)},tt.prototype.uand=function(ct){return this.length>ct.length?this.clone().iuand(ct):ct.clone().iuand(this)},tt.prototype.iuxor=function(ct){var dt,mt;this.length>ct.length?(dt=this,mt=ct):(dt=ct,mt=this);for(var xt=0;xt<mt.length;xt++)this.words[xt]=dt.words[xt]^mt.words[xt];if(this!==dt)for(;xt<dt.length;xt++)this.words[xt]=dt.words[xt];return this.length=dt.length,this._strip()},tt.prototype.ixor=function(ct){return j((this.negative|ct.negative)===0),this.iuxor(ct)},tt.prototype.xor=function(ct){return this.length>ct.length?this.clone().ixor(ct):ct.clone().ixor(this)},tt.prototype.uxor=function(ct){return this.length>ct.length?this.clone().iuxor(ct):ct.clone().iuxor(this)},tt.prototype.inotn=function(ct){j(typeof ct=="number"&&ct>=0);var dt=Math.ceil(ct/26)|0,mt=ct%26;this._expand(dt),mt>0&&dt--;for(var xt=0;xt<dt;xt++)this.words[xt]=~this.words[xt]&67108863;return mt>0&&(this.words[xt]=~this.words[xt]&67108863>>26-mt),this._strip()},tt.prototype.notn=function(ct){return this.clone().inotn(ct)},tt.prototype.setn=function(ct,dt){j(typeof ct=="number"&&ct>=0);var mt=ct/26|0,xt=ct%26;return this._expand(mt+1),dt?this.words[mt]=this.words[mt]|1<<xt:this.words[mt]=this.words[mt]&~(1<<xt),this._strip()},tt.prototype.iadd=function(ct){var dt;if(this.negative!==0&&ct.negative===0)return this.negative=0,dt=this.isub(ct),this.negative^=1,this._normSign();if(this.negative===0&&ct.negative!==0)return ct.negative=0,dt=this.isub(ct),ct.negative=1,dt._normSign();var mt,xt;this.length>ct.length?(mt=this,xt=ct):(mt=ct,xt=this);for(var At=0,Rt=0;Rt<xt.length;Rt++)dt=(mt.words[Rt]|0)+(xt.words[Rt]|0)+At,this.words[Rt]=dt&67108863,At=dt>>>26;for(;At!==0&&Rt<mt.length;Rt++)dt=(mt.words[Rt]|0)+At,this.words[Rt]=dt&67108863,At=dt>>>26;if(this.length=mt.length,At!==0)this.words[this.length]=At,this.length++;else if(mt!==this)for(;Rt<mt.length;Rt++)this.words[Rt]=mt.words[Rt];return this},tt.prototype.add=function(ct){var dt;return ct.negative!==0&&this.negative===0?(ct.negative=0,dt=this.sub(ct),ct.negative^=1,dt):ct.negative===0&&this.negative!==0?(this.negative=0,dt=ct.sub(this),this.negative=1,dt):this.length>ct.length?this.clone().iadd(ct):ct.clone().iadd(this)},tt.prototype.isub=function(ct){if(ct.negative!==0){ct.negative=0;var dt=this.iadd(ct);return ct.negative=1,dt._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(ct),this.negative=1,this._normSign();var mt=this.cmp(ct);if(mt===0)return this.negative=0,this.length=1,this.words[0]=0,this;var xt,At;mt>0?(xt=this,At=ct):(xt=ct,At=this);for(var Rt=0,St=0;St<At.length;St++)dt=(xt.words[St]|0)-(At.words[St]|0)+Rt,Rt=dt>>26,this.words[St]=dt&67108863;for(;Rt!==0&&St<xt.length;St++)dt=(xt.words[St]|0)+Rt,Rt=dt>>26,this.words[St]=dt&67108863;if(Rt===0&&St<xt.length&&xt!==this)for(;St<xt.length;St++)this.words[St]=xt.words[St];return this.length=Math.max(this.length,St),xt!==this&&(this.negative=1),this._strip()},tt.prototype.sub=function(ct){return this.clone().isub(ct)};function Pt(vt,ct,dt){dt.negative=ct.negative^vt.negative;var mt=vt.length+ct.length|0;dt.length=mt,mt=mt-1|0;var xt=vt.words[0]|0,At=ct.words[0]|0,Rt=xt*At,St=Rt&67108863,$t=Rt/67108864|0;dt.words[0]=St;for(var Et=1;Et<mt;Et++){for(var Nt=$t>>>26,tr=$t&67108863,ir=Math.min(Et,ct.length-1),nr=Math.max(0,Et-vt.length+1);nr<=ir;nr++){var Zt=Et-nr|0;xt=vt.words[Zt]|0,At=ct.words[nr]|0,Rt=xt*At+tr,Nt+=Rt/67108864|0,tr=Rt&67108863}dt.words[Et]=tr|0,$t=Nt|0}return $t!==0?dt.words[Et]=$t|0:dt.length--,dt._strip()}var Tt=function(ct,dt,mt){var xt=ct.words,At=dt.words,Rt=mt.words,St=0,$t,Et,Nt,tr=xt[0]|0,ir=tr&8191,nr=tr>>>13,Zt=xt[1]|0,Kt=Zt&8191,Qt=Zt>>>13,Ht=xt[2]|0,qt=Ht&8191,Jt=Ht>>>13,ur=xt[3]|0,xr=ur&8191,pr=ur>>>13,Cr=xt[4]|0,Mr=Cr&8191,lr=Cr>>>13,fr=xt[5]|0,_r=fr&8191,Rr=fr>>>13,kr=xt[6]|0,Ar=kr&8191,Pr=kr>>>13,Or=xt[7]|0,Lr=Or&8191,or=Or>>>13,Yt=xt[8]|0,er=Yt&8191,Gt=Yt>>>13,Vt=xt[9]|0,Wt=Vt&8191,ar=Vt>>>13,yr=At[0]|0,Er=yr&8191,Sr=yr>>>13,Wr=At[1]|0,Hr=Wr&8191,Fr=Wr>>>13,pn=At[2]|0,Jr=pn&8191,Qr=pn>>>13,mn=At[3]|0,ln=mn&8191,qr=mn>>>13,En=At[4]|0,un=En&8191,Vr=En>>>13,hn=At[5]|0,fn=hn&8191,Kr=hn>>>13,Rn=At[6]|0,dn=Rn&8191,Gr=Rn>>>13,gn=At[7]|0,an=gn&8191,Zr=gn>>>13,An=At[8]|0,Sn=An&8191,nn=An>>>13,Pn=At[9]|0,yn=Pn&8191,_n=Pn>>>13;mt.negative=ct.negative^dt.negative,mt.length=19,$t=Math.imul(ir,Er),Et=Math.imul(ir,Sr),Et=Et+Math.imul(nr,Er)|0,Nt=Math.imul(nr,Sr);var ds=(St+$t|0)+((Et&8191)<<13)|0;St=(Nt+(Et>>>13)|0)+(ds>>>26)|0,ds&=67108863,$t=Math.imul(Kt,Er),Et=Math.imul(Kt,Sr),Et=Et+Math.imul(Qt,Er)|0,Nt=Math.imul(Qt,Sr),$t=$t+Math.imul(ir,Hr)|0,Et=Et+Math.imul(ir,Fr)|0,Et=Et+Math.imul(nr,Hr)|0,Nt=Nt+Math.imul(nr,Fr)|0;var fs=(St+$t|0)+((Et&8191)<<13)|0;St=(Nt+(Et>>>13)|0)+(fs>>>26)|0,fs&=67108863,$t=Math.imul(qt,Er),Et=Math.imul(qt,Sr),Et=Et+Math.imul(Jt,Er)|0,Nt=Math.imul(Jt,Sr),$t=$t+Math.imul(Kt,Hr)|0,Et=Et+Math.imul(Kt,Fr)|0,Et=Et+Math.imul(Qt,Hr)|0,Nt=Nt+Math.imul(Qt,Fr)|0,$t=$t+Math.imul(ir,Jr)|0,Et=Et+Math.imul(ir,Qr)|0,Et=Et+Math.imul(nr,Jr)|0,Nt=Nt+Math.imul(nr,Qr)|0;var hs=(St+$t|0)+((Et&8191)<<13)|0;St=(Nt+(Et>>>13)|0)+(hs>>>26)|0,hs&=67108863,$t=Math.imul(xr,Er),Et=Math.imul(xr,Sr),Et=Et+Math.imul(pr,Er)|0,Nt=Math.imul(pr,Sr),$t=$t+Math.imul(qt,Hr)|0,Et=Et+Math.imul(qt,Fr)|0,Et=Et+Math.imul(Jt,Hr)|0,Nt=Nt+Math.imul(Jt,Fr)|0,$t=$t+Math.imul(Kt,Jr)|0,Et=Et+Math.imul(Kt,Qr)|0,Et=Et+Math.imul(Qt,Jr)|0,Nt=Nt+Math.imul(Qt,Qr)|0,$t=$t+Math.imul(ir,ln)|0,Et=Et+Math.imul(ir,qr)|0,Et=Et+Math.imul(nr,ln)|0,Nt=Nt+Math.imul(nr,qr)|0;var ps=(St+$t|0)+((Et&8191)<<13)|0;St=(Nt+(Et>>>13)|0)+(ps>>>26)|0,ps&=67108863,$t=Math.imul(Mr,Er),Et=Math.imul(Mr,Sr),Et=Et+Math.imul(lr,Er)|0,Nt=Math.imul(lr,Sr),$t=$t+Math.imul(xr,Hr)|0,Et=Et+Math.imul(xr,Fr)|0,Et=Et+Math.imul(pr,Hr)|0,Nt=Nt+Math.imul(pr,Fr)|0,$t=$t+Math.imul(qt,Jr)|0,Et=Et+Math.imul(qt,Qr)|0,Et=Et+Math.imul(Jt,Jr)|0,Nt=Nt+Math.imul(Jt,Qr)|0,$t=$t+Math.imul(Kt,ln)|0,Et=Et+Math.imul(Kt,qr)|0,Et=Et+Math.imul(Qt,ln)|0,Nt=Nt+Math.imul(Qt,qr)|0,$t=$t+Math.imul(ir,un)|0,Et=Et+Math.imul(ir,Vr)|0,Et=Et+Math.imul(nr,un)|0,Nt=Nt+Math.imul(nr,Vr)|0;var Vn=(St+$t|0)+((Et&8191)<<13)|0;St=(Nt+(Et>>>13)|0)+(Vn>>>26)|0,Vn&=67108863,$t=Math.imul(_r,Er),Et=Math.imul(_r,Sr),Et=Et+Math.imul(Rr,Er)|0,Nt=Math.imul(Rr,Sr),$t=$t+Math.imul(Mr,Hr)|0,Et=Et+Math.imul(Mr,Fr)|0,Et=Et+Math.imul(lr,Hr)|0,Nt=Nt+Math.imul(lr,Fr)|0,$t=$t+Math.imul(xr,Jr)|0,Et=Et+Math.imul(xr,Qr)|0,Et=Et+Math.imul(pr,Jr)|0,Nt=Nt+Math.imul(pr,Qr)|0,$t=$t+Math.imul(qt,ln)|0,Et=Et+Math.imul(qt,qr)|0,Et=Et+Math.imul(Jt,ln)|0,Nt=Nt+Math.imul(Jt,qr)|0,$t=$t+Math.imul(Kt,un)|0,Et=Et+Math.imul(Kt,Vr)|0,Et=Et+Math.imul(Qt,un)|0,Nt=Nt+Math.imul(Qt,Vr)|0,$t=$t+Math.imul(ir,fn)|0,Et=Et+Math.imul(ir,Kr)|0,Et=Et+Math.imul(nr,fn)|0,Nt=Nt+Math.imul(nr,Kr)|0;var ss=(St+$t|0)+((Et&8191)<<13)|0;St=(Nt+(Et>>>13)|0)+(ss>>>26)|0,ss&=67108863,$t=Math.imul(Ar,Er),Et=Math.imul(Ar,Sr),Et=Et+Math.imul(Pr,Er)|0,Nt=Math.imul(Pr,Sr),$t=$t+Math.imul(_r,Hr)|0,Et=Et+Math.imul(_r,Fr)|0,Et=Et+Math.imul(Rr,Hr)|0,Nt=Nt+Math.imul(Rr,Fr)|0,$t=$t+Math.imul(Mr,Jr)|0,Et=Et+Math.imul(Mr,Qr)|0,Et=Et+Math.imul(lr,Jr)|0,Nt=Nt+Math.imul(lr,Qr)|0,$t=$t+Math.imul(xr,ln)|0,Et=Et+Math.imul(xr,qr)|0,Et=Et+Math.imul(pr,ln)|0,Nt=Nt+Math.imul(pr,qr)|0,$t=$t+Math.imul(qt,un)|0,Et=Et+Math.imul(qt,Vr)|0,Et=Et+Math.imul(Jt,un)|0,Nt=Nt+Math.imul(Jt,Vr)|0,$t=$t+Math.imul(Kt,fn)|0,Et=Et+Math.imul(Kt,Kr)|0,Et=Et+Math.imul(Qt,fn)|0,Nt=Nt+Math.imul(Qt,Kr)|0,$t=$t+Math.imul(ir,dn)|0,Et=Et+Math.imul(ir,Gr)|0,Et=Et+Math.imul(nr,dn)|0,Nt=Nt+Math.imul(nr,Gr)|0;var Jn=(St+$t|0)+((Et&8191)<<13)|0;St=(Nt+(Et>>>13)|0)+(Jn>>>26)|0,Jn&=67108863,$t=Math.imul(Lr,Er),Et=Math.imul(Lr,Sr),Et=Et+Math.imul(or,Er)|0,Nt=Math.imul(or,Sr),$t=$t+Math.imul(Ar,Hr)|0,Et=Et+Math.imul(Ar,Fr)|0,Et=Et+Math.imul(Pr,Hr)|0,Nt=Nt+Math.imul(Pr,Fr)|0,$t=$t+Math.imul(_r,Jr)|0,Et=Et+Math.imul(_r,Qr)|0,Et=Et+Math.imul(Rr,Jr)|0,Nt=Nt+Math.imul(Rr,Qr)|0,$t=$t+Math.imul(Mr,ln)|0,Et=Et+Math.imul(Mr,qr)|0,Et=Et+Math.imul(lr,ln)|0,Nt=Nt+Math.imul(lr,qr)|0,$t=$t+Math.imul(xr,un)|0,Et=Et+Math.imul(xr,Vr)|0,Et=Et+Math.imul(pr,un)|0,Nt=Nt+Math.imul(pr,Vr)|0,$t=$t+Math.imul(qt,fn)|0,Et=Et+Math.imul(qt,Kr)|0,Et=Et+Math.imul(Jt,fn)|0,Nt=Nt+Math.imul(Jt,Kr)|0,$t=$t+Math.imul(Kt,dn)|0,Et=Et+Math.imul(Kt,Gr)|0,Et=Et+Math.imul(Qt,dn)|0,Nt=Nt+Math.imul(Qt,Gr)|0,$t=$t+Math.imul(ir,an)|0,Et=Et+Math.imul(ir,Zr)|0,Et=Et+Math.imul(nr,an)|0,Nt=Nt+Math.imul(nr,Zr)|0;var Yn=(St+$t|0)+((Et&8191)<<13)|0;St=(Nt+(Et>>>13)|0)+(Yn>>>26)|0,Yn&=67108863,$t=Math.imul(er,Er),Et=Math.imul(er,Sr),Et=Et+Math.imul(Gt,Er)|0,Nt=Math.imul(Gt,Sr),$t=$t+Math.imul(Lr,Hr)|0,Et=Et+Math.imul(Lr,Fr)|0,Et=Et+Math.imul(or,Hr)|0,Nt=Nt+Math.imul(or,Fr)|0,$t=$t+Math.imul(Ar,Jr)|0,Et=Et+Math.imul(Ar,Qr)|0,Et=Et+Math.imul(Pr,Jr)|0,Nt=Nt+Math.imul(Pr,Qr)|0,$t=$t+Math.imul(_r,ln)|0,Et=Et+Math.imul(_r,qr)|0,Et=Et+Math.imul(Rr,ln)|0,Nt=Nt+Math.imul(Rr,qr)|0,$t=$t+Math.imul(Mr,un)|0,Et=Et+Math.imul(Mr,Vr)|0,Et=Et+Math.imul(lr,un)|0,Nt=Nt+Math.imul(lr,Vr)|0,$t=$t+Math.imul(xr,fn)|0,Et=Et+Math.imul(xr,Kr)|0,Et=Et+Math.imul(pr,fn)|0,Nt=Nt+Math.imul(pr,Kr)|0,$t=$t+Math.imul(qt,dn)|0,Et=Et+Math.imul(qt,Gr)|0,Et=Et+Math.imul(Jt,dn)|0,Nt=Nt+Math.imul(Jt,Gr)|0,$t=$t+Math.imul(Kt,an)|0,Et=Et+Math.imul(Kt,Zr)|0,Et=Et+Math.imul(Qt,an)|0,Nt=Nt+Math.imul(Qt,Zr)|0,$t=$t+Math.imul(ir,Sn)|0,Et=Et+Math.imul(ir,nn)|0,Et=Et+Math.imul(nr,Sn)|0,Nt=Nt+Math.imul(nr,nn)|0;var ms=(St+$t|0)+((Et&8191)<<13)|0;St=(Nt+(Et>>>13)|0)+(ms>>>26)|0,ms&=67108863,$t=Math.imul(Wt,Er),Et=Math.imul(Wt,Sr),Et=Et+Math.imul(ar,Er)|0,Nt=Math.imul(ar,Sr),$t=$t+Math.imul(er,Hr)|0,Et=Et+Math.imul(er,Fr)|0,Et=Et+Math.imul(Gt,Hr)|0,Nt=Nt+Math.imul(Gt,Fr)|0,$t=$t+Math.imul(Lr,Jr)|0,Et=Et+Math.imul(Lr,Qr)|0,Et=Et+Math.imul(or,Jr)|0,Nt=Nt+Math.imul(or,Qr)|0,$t=$t+Math.imul(Ar,ln)|0,Et=Et+Math.imul(Ar,qr)|0,Et=Et+Math.imul(Pr,ln)|0,Nt=Nt+Math.imul(Pr,qr)|0,$t=$t+Math.imul(_r,un)|0,Et=Et+Math.imul(_r,Vr)|0,Et=Et+Math.imul(Rr,un)|0,Nt=Nt+Math.imul(Rr,Vr)|0,$t=$t+Math.imul(Mr,fn)|0,Et=Et+Math.imul(Mr,Kr)|0,Et=Et+Math.imul(lr,fn)|0,Nt=Nt+Math.imul(lr,Kr)|0,$t=$t+Math.imul(xr,dn)|0,Et=Et+Math.imul(xr,Gr)|0,Et=Et+Math.imul(pr,dn)|0,Nt=Nt+Math.imul(pr,Gr)|0,$t=$t+Math.imul(qt,an)|0,Et=Et+Math.imul(qt,Zr)|0,Et=Et+Math.imul(Jt,an)|0,Nt=Nt+Math.imul(Jt,Zr)|0,$t=$t+Math.imul(Kt,Sn)|0,Et=Et+Math.imul(Kt,nn)|0,Et=Et+Math.imul(Qt,Sn)|0,Nt=Nt+Math.imul(Qt,nn)|0,$t=$t+Math.imul(ir,yn)|0,Et=Et+Math.imul(ir,_n)|0,Et=Et+Math.imul(nr,yn)|0,Nt=Nt+Math.imul(nr,_n)|0;var Qn=(St+$t|0)+((Et&8191)<<13)|0;St=(Nt+(Et>>>13)|0)+(Qn>>>26)|0,Qn&=67108863,$t=Math.imul(Wt,Hr),Et=Math.imul(Wt,Fr),Et=Et+Math.imul(ar,Hr)|0,Nt=Math.imul(ar,Fr),$t=$t+Math.imul(er,Jr)|0,Et=Et+Math.imul(er,Qr)|0,Et=Et+Math.imul(Gt,Jr)|0,Nt=Nt+Math.imul(Gt,Qr)|0,$t=$t+Math.imul(Lr,ln)|0,Et=Et+Math.imul(Lr,qr)|0,Et=Et+Math.imul(or,ln)|0,Nt=Nt+Math.imul(or,qr)|0,$t=$t+Math.imul(Ar,un)|0,Et=Et+Math.imul(Ar,Vr)|0,Et=Et+Math.imul(Pr,un)|0,Nt=Nt+Math.imul(Pr,Vr)|0,$t=$t+Math.imul(_r,fn)|0,Et=Et+Math.imul(_r,Kr)|0,Et=Et+Math.imul(Rr,fn)|0,Nt=Nt+Math.imul(Rr,Kr)|0,$t=$t+Math.imul(Mr,dn)|0,Et=Et+Math.imul(Mr,Gr)|0,Et=Et+Math.imul(lr,dn)|0,Nt=Nt+Math.imul(lr,Gr)|0,$t=$t+Math.imul(xr,an)|0,Et=Et+Math.imul(xr,Zr)|0,Et=Et+Math.imul(pr,an)|0,Nt=Nt+Math.imul(pr,Zr)|0,$t=$t+Math.imul(qt,Sn)|0,Et=Et+Math.imul(qt,nn)|0,Et=Et+Math.imul(Jt,Sn)|0,Nt=Nt+Math.imul(Jt,nn)|0,$t=$t+Math.imul(Kt,yn)|0,Et=Et+Math.imul(Kt,_n)|0,Et=Et+Math.imul(Qt,yn)|0,Nt=Nt+Math.imul(Qt,_n)|0;var es=(St+$t|0)+((Et&8191)<<13)|0;St=(Nt+(Et>>>13)|0)+(es>>>26)|0,es&=67108863,$t=Math.imul(Wt,Jr),Et=Math.imul(Wt,Qr),Et=Et+Math.imul(ar,Jr)|0,Nt=Math.imul(ar,Qr),$t=$t+Math.imul(er,ln)|0,Et=Et+Math.imul(er,qr)|0,Et=Et+Math.imul(Gt,ln)|0,Nt=Nt+Math.imul(Gt,qr)|0,$t=$t+Math.imul(Lr,un)|0,Et=Et+Math.imul(Lr,Vr)|0,Et=Et+Math.imul(or,un)|0,Nt=Nt+Math.imul(or,Vr)|0,$t=$t+Math.imul(Ar,fn)|0,Et=Et+Math.imul(Ar,Kr)|0,Et=Et+Math.imul(Pr,fn)|0,Nt=Nt+Math.imul(Pr,Kr)|0,$t=$t+Math.imul(_r,dn)|0,Et=Et+Math.imul(_r,Gr)|0,Et=Et+Math.imul(Rr,dn)|0,Nt=Nt+Math.imul(Rr,Gr)|0,$t=$t+Math.imul(Mr,an)|0,Et=Et+Math.imul(Mr,Zr)|0,Et=Et+Math.imul(lr,an)|0,Nt=Nt+Math.imul(lr,Zr)|0,$t=$t+Math.imul(xr,Sn)|0,Et=Et+Math.imul(xr,nn)|0,Et=Et+Math.imul(pr,Sn)|0,Nt=Nt+Math.imul(pr,nn)|0,$t=$t+Math.imul(qt,yn)|0,Et=Et+Math.imul(qt,_n)|0,Et=Et+Math.imul(Jt,yn)|0,Nt=Nt+Math.imul(Jt,_n)|0;var ls=(St+$t|0)+((Et&8191)<<13)|0;St=(Nt+(Et>>>13)|0)+(ls>>>26)|0,ls&=67108863,$t=Math.imul(Wt,ln),Et=Math.imul(Wt,qr),Et=Et+Math.imul(ar,ln)|0,Nt=Math.imul(ar,qr),$t=$t+Math.imul(er,un)|0,Et=Et+Math.imul(er,Vr)|0,Et=Et+Math.imul(Gt,un)|0,Nt=Nt+Math.imul(Gt,Vr)|0,$t=$t+Math.imul(Lr,fn)|0,Et=Et+Math.imul(Lr,Kr)|0,Et=Et+Math.imul(or,fn)|0,Nt=Nt+Math.imul(or,Kr)|0,$t=$t+Math.imul(Ar,dn)|0,Et=Et+Math.imul(Ar,Gr)|0,Et=Et+Math.imul(Pr,dn)|0,Nt=Nt+Math.imul(Pr,Gr)|0,$t=$t+Math.imul(_r,an)|0,Et=Et+Math.imul(_r,Zr)|0,Et=Et+Math.imul(Rr,an)|0,Nt=Nt+Math.imul(Rr,Zr)|0,$t=$t+Math.imul(Mr,Sn)|0,Et=Et+Math.imul(Mr,nn)|0,Et=Et+Math.imul(lr,Sn)|0,Nt=Nt+Math.imul(lr,nn)|0,$t=$t+Math.imul(xr,yn)|0,Et=Et+Math.imul(xr,_n)|0,Et=Et+Math.imul(pr,yn)|0,Nt=Nt+Math.imul(pr,_n)|0;var us=(St+$t|0)+((Et&8191)<<13)|0;St=(Nt+(Et>>>13)|0)+(us>>>26)|0,us&=67108863,$t=Math.imul(Wt,un),Et=Math.imul(Wt,Vr),Et=Et+Math.imul(ar,un)|0,Nt=Math.imul(ar,Vr),$t=$t+Math.imul(er,fn)|0,Et=Et+Math.imul(er,Kr)|0,Et=Et+Math.imul(Gt,fn)|0,Nt=Nt+Math.imul(Gt,Kr)|0,$t=$t+Math.imul(Lr,dn)|0,Et=Et+Math.imul(Lr,Gr)|0,Et=Et+Math.imul(or,dn)|0,Nt=Nt+Math.imul(or,Gr)|0,$t=$t+Math.imul(Ar,an)|0,Et=Et+Math.imul(Ar,Zr)|0,Et=Et+Math.imul(Pr,an)|0,Nt=Nt+Math.imul(Pr,Zr)|0,$t=$t+Math.imul(_r,Sn)|0,Et=Et+Math.imul(_r,nn)|0,Et=Et+Math.imul(Rr,Sn)|0,Nt=Nt+Math.imul(Rr,nn)|0,$t=$t+Math.imul(Mr,yn)|0,Et=Et+Math.imul(Mr,_n)|0,Et=Et+Math.imul(lr,yn)|0,Nt=Nt+Math.imul(lr,_n)|0;var Wn=(St+$t|0)+((Et&8191)<<13)|0;St=(Nt+(Et>>>13)|0)+(Wn>>>26)|0,Wn&=67108863,$t=Math.imul(Wt,fn),Et=Math.imul(Wt,Kr),Et=Et+Math.imul(ar,fn)|0,Nt=Math.imul(ar,Kr),$t=$t+Math.imul(er,dn)|0,Et=Et+Math.imul(er,Gr)|0,Et=Et+Math.imul(Gt,dn)|0,Nt=Nt+Math.imul(Gt,Gr)|0,$t=$t+Math.imul(Lr,an)|0,Et=Et+Math.imul(Lr,Zr)|0,Et=Et+Math.imul(or,an)|0,Nt=Nt+Math.imul(or,Zr)|0,$t=$t+Math.imul(Ar,Sn)|0,Et=Et+Math.imul(Ar,nn)|0,Et=Et+Math.imul(Pr,Sn)|0,Nt=Nt+Math.imul(Pr,nn)|0,$t=$t+Math.imul(_r,yn)|0,Et=Et+Math.imul(_r,_n)|0,Et=Et+Math.imul(Rr,yn)|0,Nt=Nt+Math.imul(Rr,_n)|0;var as=(St+$t|0)+((Et&8191)<<13)|0;St=(Nt+(Et>>>13)|0)+(as>>>26)|0,as&=67108863,$t=Math.imul(Wt,dn),Et=Math.imul(Wt,Gr),Et=Et+Math.imul(ar,dn)|0,Nt=Math.imul(ar,Gr),$t=$t+Math.imul(er,an)|0,Et=Et+Math.imul(er,Zr)|0,Et=Et+Math.imul(Gt,an)|0,Nt=Nt+Math.imul(Gt,Zr)|0,$t=$t+Math.imul(Lr,Sn)|0,Et=Et+Math.imul(Lr,nn)|0,Et=Et+Math.imul(or,Sn)|0,Nt=Nt+Math.imul(or,nn)|0,$t=$t+Math.imul(Ar,yn)|0,Et=Et+Math.imul(Ar,_n)|0,Et=Et+Math.imul(Pr,yn)|0,Nt=Nt+Math.imul(Pr,_n)|0;var gs=(St+$t|0)+((Et&8191)<<13)|0;St=(Nt+(Et>>>13)|0)+(gs>>>26)|0,gs&=67108863,$t=Math.imul(Wt,an),Et=Math.imul(Wt,Zr),Et=Et+Math.imul(ar,an)|0,Nt=Math.imul(ar,Zr),$t=$t+Math.imul(er,Sn)|0,Et=Et+Math.imul(er,nn)|0,Et=Et+Math.imul(Gt,Sn)|0,Nt=Nt+Math.imul(Gt,nn)|0,$t=$t+Math.imul(Lr,yn)|0,Et=Et+Math.imul(Lr,_n)|0,Et=Et+Math.imul(or,yn)|0,Nt=Nt+Math.imul(or,_n)|0;var vs=(St+$t|0)+((Et&8191)<<13)|0;St=(Nt+(Et>>>13)|0)+(vs>>>26)|0,vs&=67108863,$t=Math.imul(Wt,Sn),Et=Math.imul(Wt,nn),Et=Et+Math.imul(ar,Sn)|0,Nt=Math.imul(ar,nn),$t=$t+Math.imul(er,yn)|0,Et=Et+Math.imul(er,_n)|0,Et=Et+Math.imul(Gt,yn)|0,Nt=Nt+Math.imul(Gt,_n)|0;var $s=(St+$t|0)+((Et&8191)<<13)|0;St=(Nt+(Et>>>13)|0)+($s>>>26)|0,$s&=67108863,$t=Math.imul(Wt,yn),Et=Math.imul(Wt,_n),Et=Et+Math.imul(ar,yn)|0,Nt=Math.imul(ar,_n);var Ts=(St+$t|0)+((Et&8191)<<13)|0;return St=(Nt+(Et>>>13)|0)+(Ts>>>26)|0,Ts&=67108863,Rt[0]=ds,Rt[1]=fs,Rt[2]=hs,Rt[3]=ps,Rt[4]=Vn,Rt[5]=ss,Rt[6]=Jn,Rt[7]=Yn,Rt[8]=ms,Rt[9]=Qn,Rt[10]=es,Rt[11]=ls,Rt[12]=us,Rt[13]=Wn,Rt[14]=as,Rt[15]=gs,Rt[16]=vs,Rt[17]=$s,Rt[18]=Ts,St!==0&&(Rt[19]=St,mt.length++),mt};Math.imul||(Tt=Pt);function Mt(vt,ct,dt){dt.negative=ct.negative^vt.negative,dt.length=vt.length+ct.length;for(var mt=0,xt=0,At=0;At<dt.length-1;At++){var Rt=xt;xt=0;for(var St=mt&67108863,$t=Math.min(At,ct.length-1),Et=Math.max(0,At-vt.length+1);Et<=$t;Et++){var Nt=At-Et,tr=vt.words[Nt]|0,ir=ct.words[Et]|0,nr=tr*ir,Zt=nr&67108863;Rt=Rt+(nr/67108864|0)|0,Zt=Zt+St|0,St=Zt&67108863,Rt=Rt+(Zt>>>26)|0,xt+=Rt>>>26,Rt&=67108863}dt.words[At]=St,mt=Rt,Rt=xt}return mt!==0?dt.words[At]=mt:dt.length--,dt._strip()}function Lt(vt,ct,dt){return Mt(vt,ct,dt)}tt.prototype.mulTo=function(ct,dt){var mt,xt=this.length+ct.length;return this.length===10&&ct.length===10?mt=Tt(this,ct,dt):xt<63?mt=Pt(this,ct,dt):xt<1024?mt=Mt(this,ct,dt):mt=Lt(this,ct,dt),mt},tt.prototype.mul=function(ct){var dt=new tt(null);return dt.words=new Array(this.length+ct.length),this.mulTo(ct,dt)},tt.prototype.mulf=function(ct){var dt=new tt(null);return dt.words=new Array(this.length+ct.length),Lt(this,ct,dt)},tt.prototype.imul=function(ct){return this.clone().mulTo(ct,this)},tt.prototype.imuln=function(ct){var dt=ct<0;dt&&(ct=-ct),j(typeof ct=="number"),j(ct<67108864);for(var mt=0,xt=0;xt<this.length;xt++){var At=(this.words[xt]|0)*ct,Rt=(At&67108863)+(mt&67108863);mt>>=26,mt+=At/67108864|0,mt+=Rt>>>26,this.words[xt]=Rt&67108863}return mt!==0&&(this.words[xt]=mt,this.length++),dt?this.ineg():this},tt.prototype.muln=function(ct){return this.clone().imuln(ct)},tt.prototype.sqr=function(){return this.mul(this)},tt.prototype.isqr=function(){return this.imul(this.clone())},tt.prototype.pow=function(ct){var dt=Ct(ct);if(dt.length===0)return new tt(1);for(var mt=this,xt=0;xt<dt.length&&dt[xt]===0;xt++,mt=mt.sqr());if(++xt<dt.length)for(var At=mt.sqr();xt<dt.length;xt++,At=At.sqr())dt[xt]!==0&&(mt=mt.mul(At));return mt},tt.prototype.iushln=function(ct){j(typeof ct=="number"&&ct>=0);var dt=ct%26,mt=(ct-dt)/26,xt=67108863>>>26-dt<<26-dt,At;if(dt!==0){var Rt=0;for(At=0;At<this.length;At++){var St=this.words[At]&xt,$t=(this.words[At]|0)-St<<dt;this.words[At]=$t|Rt,Rt=St>>>26-dt}Rt&&(this.words[At]=Rt,this.length++)}if(mt!==0){for(At=this.length-1;At>=0;At--)this.words[At+mt]=this.words[At];for(At=0;At<mt;At++)this.words[At]=0;this.length+=mt}return this._strip()},tt.prototype.ishln=function(ct){return j(this.negative===0),this.iushln(ct)},tt.prototype.iushrn=function(ct,dt,mt){j(typeof ct=="number"&&ct>=0);var xt;dt?xt=(dt-dt%26)/26:xt=0;var At=ct%26,Rt=Math.min((ct-At)/26,this.length),St=67108863^67108863>>>At<<At,$t=mt;if(xt-=Rt,xt=Math.max(0,xt),$t){for(var Et=0;Et<Rt;Et++)$t.words[Et]=this.words[Et];$t.length=Rt}if(Rt!==0)if(this.length>Rt)for(this.length-=Rt,Et=0;Et<this.length;Et++)this.words[Et]=this.words[Et+Rt];else this.words[0]=0,this.length=1;var Nt=0;for(Et=this.length-1;Et>=0&&(Nt!==0||Et>=xt);Et--){var tr=this.words[Et]|0;this.words[Et]=Nt<<26-At|tr>>>At,Nt=tr&St}return $t&&Nt!==0&&($t.words[$t.length++]=Nt),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},tt.prototype.ishrn=function(ct,dt,mt){return j(this.negative===0),this.iushrn(ct,dt,mt)},tt.prototype.shln=function(ct){return this.clone().ishln(ct)},tt.prototype.ushln=function(ct){return this.clone().iushln(ct)},tt.prototype.shrn=function(ct){return this.clone().ishrn(ct)},tt.prototype.ushrn=function(ct){return this.clone().iushrn(ct)},tt.prototype.testn=function(ct){j(typeof ct=="number"&&ct>=0);var dt=ct%26,mt=(ct-dt)/26,xt=1<<dt;if(this.length<=mt)return!1;var At=this.words[mt];return!!(At&xt)},tt.prototype.imaskn=function(ct){j(typeof ct=="number"&&ct>=0);var dt=ct%26,mt=(ct-dt)/26;if(j(this.negative===0,"imaskn works only with positive numbers"),this.length<=mt)return this;if(dt!==0&&mt++,this.length=Math.min(mt,this.length),dt!==0){var xt=67108863^67108863>>>dt<<dt;this.words[this.length-1]&=xt}return this._strip()},tt.prototype.maskn=function(ct){return this.clone().imaskn(ct)},tt.prototype.iaddn=function(ct){return j(typeof ct=="number"),j(ct<67108864),ct<0?this.isubn(-ct):this.negative!==0?this.length===1&&(this.words[0]|0)<=ct?(this.words[0]=ct-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(ct),this.negative=1,this):this._iaddn(ct)},tt.prototype._iaddn=function(ct){this.words[0]+=ct;for(var dt=0;dt<this.length&&this.words[dt]>=67108864;dt++)this.words[dt]-=67108864,dt===this.length-1?this.words[dt+1]=1:this.words[dt+1]++;return this.length=Math.max(this.length,dt+1),this},tt.prototype.isubn=function(ct){if(j(typeof ct=="number"),j(ct<67108864),ct<0)return this.iaddn(-ct);if(this.negative!==0)return this.negative=0,this.iaddn(ct),this.negative=1,this;if(this.words[0]-=ct,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var dt=0;dt<this.length&&this.words[dt]<0;dt++)this.words[dt]+=67108864,this.words[dt+1]-=1;return this._strip()},tt.prototype.addn=function(ct){return this.clone().iaddn(ct)},tt.prototype.subn=function(ct){return this.clone().isubn(ct)},tt.prototype.iabs=function(){return this.negative=0,this},tt.prototype.abs=function(){return this.clone().iabs()},tt.prototype._ishlnsubmul=function(ct,dt,mt){var xt=ct.length+mt,At;this._expand(xt);var Rt,St=0;for(At=0;At<ct.length;At++){Rt=(this.words[At+mt]|0)+St;var $t=(ct.words[At]|0)*dt;Rt-=$t&67108863,St=(Rt>>26)-($t/67108864|0),this.words[At+mt]=Rt&67108863}for(;At<this.length-mt;At++)Rt=(this.words[At+mt]|0)+St,St=Rt>>26,this.words[At+mt]=Rt&67108863;if(St===0)return this._strip();for(j(St===-1),St=0,At=0;At<this.length;At++)Rt=-(this.words[At]|0)+St,St=Rt>>26,this.words[At]=Rt&67108863;return this.negative=1,this._strip()},tt.prototype._wordDiv=function(ct,dt){var mt=this.length-ct.length,xt=this.clone(),At=ct,Rt=At.words[At.length-1]|0,St=this._countBits(Rt);mt=26-St,mt!==0&&(At=At.ushln(mt),xt.iushln(mt),Rt=At.words[At.length-1]|0);var $t=xt.length-At.length,Et;if(dt!=="mod"){Et=new tt(null),Et.length=$t+1,Et.words=new Array(Et.length);for(var Nt=0;Nt<Et.length;Nt++)Et.words[Nt]=0}var tr=xt.clone()._ishlnsubmul(At,1,$t);tr.negative===0&&(xt=tr,Et&&(Et.words[$t]=1));for(var ir=$t-1;ir>=0;ir--){var nr=(xt.words[At.length+ir]|0)*67108864+(xt.words[At.length+ir-1]|0);for(nr=Math.min(nr/Rt|0,67108863),xt._ishlnsubmul(At,nr,ir);xt.negative!==0;)nr--,xt.negative=0,xt._ishlnsubmul(At,1,ir),xt.isZero()||(xt.negative^=1);Et&&(Et.words[ir]=nr)}return Et&&Et._strip(),xt._strip(),dt!=="div"&&mt!==0&&xt.iushrn(mt),{div:Et||null,mod:xt}},tt.prototype.divmod=function(ct,dt,mt){if(j(!ct.isZero()),this.isZero())return{div:new tt(0),mod:new tt(0)};var xt,At,Rt;return this.negative!==0&&ct.negative===0?(Rt=this.neg().divmod(ct,dt),dt!=="mod"&&(xt=Rt.div.neg()),dt!=="div"&&(At=Rt.mod.neg(),mt&&At.negative!==0&&At.iadd(ct)),{div:xt,mod:At}):this.negative===0&&ct.negative!==0?(Rt=this.divmod(ct.neg(),dt),dt!=="mod"&&(xt=Rt.div.neg()),{div:xt,mod:Rt.mod}):this.negative&ct.negative?(Rt=this.neg().divmod(ct.neg(),dt),dt!=="div"&&(At=Rt.mod.neg(),mt&&At.negative!==0&&At.isub(ct)),{div:Rt.div,mod:At}):ct.length>this.length||this.cmp(ct)<0?{div:new tt(0),mod:this}:ct.length===1?dt==="div"?{div:this.divn(ct.words[0]),mod:null}:dt==="mod"?{div:null,mod:new tt(this.modrn(ct.words[0]))}:{div:this.divn(ct.words[0]),mod:new tt(this.modrn(ct.words[0]))}:this._wordDiv(ct,dt)},tt.prototype.div=function(ct){return this.divmod(ct,"div",!1).div},tt.prototype.mod=function(ct){return this.divmod(ct,"mod",!1).mod},tt.prototype.umod=function(ct){return this.divmod(ct,"mod",!0).mod},tt.prototype.divRound=function(ct){var dt=this.divmod(ct);if(dt.mod.isZero())return dt.div;var mt=dt.div.negative!==0?dt.mod.isub(ct):dt.mod,xt=ct.ushrn(1),At=ct.andln(1),Rt=mt.cmp(xt);return Rt<0||At===1&&Rt===0?dt.div:dt.div.negative!==0?dt.div.isubn(1):dt.div.iaddn(1)},tt.prototype.modrn=function(ct){var dt=ct<0;dt&&(ct=-ct),j(ct<=67108863);for(var mt=(1<<26)%ct,xt=0,At=this.length-1;At>=0;At--)xt=(mt*xt+(this.words[At]|0))%ct;return dt?-xt:xt},tt.prototype.modn=function(ct){return this.modrn(ct)},tt.prototype.idivn=function(ct){var dt=ct<0;dt&&(ct=-ct),j(ct<=67108863);for(var mt=0,xt=this.length-1;xt>=0;xt--){var At=(this.words[xt]|0)+mt*67108864;this.words[xt]=At/ct|0,mt=At%ct}return this._strip(),dt?this.ineg():this},tt.prototype.divn=function(ct){return this.clone().idivn(ct)},tt.prototype.egcd=function(ct){j(ct.negative===0),j(!ct.isZero());var dt=this,mt=ct.clone();dt.negative!==0?dt=dt.umod(ct):dt=dt.clone();for(var xt=new tt(1),At=new tt(0),Rt=new tt(0),St=new tt(1),$t=0;dt.isEven()&&mt.isEven();)dt.iushrn(1),mt.iushrn(1),++$t;for(var Et=mt.clone(),Nt=dt.clone();!dt.isZero();){for(var tr=0,ir=1;!(dt.words[0]&ir)&&tr<26;++tr,ir<<=1);if(tr>0)for(dt.iushrn(tr);tr-- >0;)(xt.isOdd()||At.isOdd())&&(xt.iadd(Et),At.isub(Nt)),xt.iushrn(1),At.iushrn(1);for(var nr=0,Zt=1;!(mt.words[0]&Zt)&&nr<26;++nr,Zt<<=1);if(nr>0)for(mt.iushrn(nr);nr-- >0;)(Rt.isOdd()||St.isOdd())&&(Rt.iadd(Et),St.isub(Nt)),Rt.iushrn(1),St.iushrn(1);dt.cmp(mt)>=0?(dt.isub(mt),xt.isub(Rt),At.isub(St)):(mt.isub(dt),Rt.isub(xt),St.isub(At))}return{a:Rt,b:St,gcd:mt.iushln($t)}},tt.prototype._invmp=function(ct){j(ct.negative===0),j(!ct.isZero());var dt=this,mt=ct.clone();dt.negative!==0?dt=dt.umod(ct):dt=dt.clone();for(var xt=new tt(1),At=new tt(0),Rt=mt.clone();dt.cmpn(1)>0&&mt.cmpn(1)>0;){for(var St=0,$t=1;!(dt.words[0]&$t)&&St<26;++St,$t<<=1);if(St>0)for(dt.iushrn(St);St-- >0;)xt.isOdd()&&xt.iadd(Rt),xt.iushrn(1);for(var Et=0,Nt=1;!(mt.words[0]&Nt)&&Et<26;++Et,Nt<<=1);if(Et>0)for(mt.iushrn(Et);Et-- >0;)At.isOdd()&&At.iadd(Rt),At.iushrn(1);dt.cmp(mt)>=0?(dt.isub(mt),xt.isub(At)):(mt.isub(dt),At.isub(xt))}var tr;return dt.cmpn(1)===0?tr=xt:tr=At,tr.cmpn(0)<0&&tr.iadd(ct),tr},tt.prototype.gcd=function(ct){if(this.isZero())return ct.abs();if(ct.isZero())return this.abs();var dt=this.clone(),mt=ct.clone();dt.negative=0,mt.negative=0;for(var xt=0;dt.isEven()&&mt.isEven();xt++)dt.iushrn(1),mt.iushrn(1);do{for(;dt.isEven();)dt.iushrn(1);for(;mt.isEven();)mt.iushrn(1);var At=dt.cmp(mt);if(At<0){var Rt=dt;dt=mt,mt=Rt}else if(At===0||mt.cmpn(1)===0)break;dt.isub(mt)}while(!0);return mt.iushln(xt)},tt.prototype.invm=function(ct){return this.egcd(ct).a.umod(ct)},tt.prototype.isEven=function(){return(this.words[0]&1)===0},tt.prototype.isOdd=function(){return(this.words[0]&1)===1},tt.prototype.andln=function(ct){return this.words[0]&ct},tt.prototype.bincn=function(ct){j(typeof ct=="number");var dt=ct%26,mt=(ct-dt)/26,xt=1<<dt;if(this.length<=mt)return this._expand(mt+1),this.words[mt]|=xt,this;for(var At=xt,Rt=mt;At!==0&&Rt<this.length;Rt++){var St=this.words[Rt]|0;St+=At,At=St>>>26,St&=67108863,this.words[Rt]=St}return At!==0&&(this.words[Rt]=At,this.length++),this},tt.prototype.isZero=function(){return this.length===1&&this.words[0]===0},tt.prototype.cmpn=function(ct){var dt=ct<0;if(this.negative!==0&&!dt)return-1;if(this.negative===0&&dt)return 1;this._strip();var mt;if(this.length>1)mt=1;else{dt&&(ct=-ct),j(ct<=67108863,"Number is too big");var xt=this.words[0]|0;mt=xt===ct?0:xt<ct?-1:1}return this.negative!==0?-mt|0:mt},tt.prototype.cmp=function(ct){if(this.negative!==0&&ct.negative===0)return-1;if(this.negative===0&&ct.negative!==0)return 1;var dt=this.ucmp(ct);return this.negative!==0?-dt|0:dt},tt.prototype.ucmp=function(ct){if(this.length>ct.length)return 1;if(this.length<ct.length)return-1;for(var dt=0,mt=this.length-1;mt>=0;mt--){var xt=this.words[mt]|0,At=ct.words[mt]|0;if(xt!==At){xt<At?dt=-1:xt>At&&(dt=1);break}}return dt},tt.prototype.gtn=function(ct){return this.cmpn(ct)===1},tt.prototype.gt=function(ct){return this.cmp(ct)===1},tt.prototype.gten=function(ct){return this.cmpn(ct)>=0},tt.prototype.gte=function(ct){return this.cmp(ct)>=0},tt.prototype.ltn=function(ct){return this.cmpn(ct)===-1},tt.prototype.lt=function(ct){return this.cmp(ct)===-1},tt.prototype.lten=function(ct){return this.cmpn(ct)<=0},tt.prototype.lte=function(ct){return this.cmp(ct)<=0},tt.prototype.eqn=function(ct){return this.cmpn(ct)===0},tt.prototype.eq=function(ct){return this.cmp(ct)===0},tt.red=function(ct){return new jt(ct)},tt.prototype.toRed=function(ct){return j(!this.red,"Already a number in reduction context"),j(this.negative===0,"red works only with positives"),ct.convertTo(this)._forceRed(ct)},tt.prototype.fromRed=function(){return j(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},tt.prototype._forceRed=function(ct){return this.red=ct,this},tt.prototype.forceRed=function(ct){return j(!this.red,"Already a number in reduction context"),this._forceRed(ct)},tt.prototype.redAdd=function(ct){return j(this.red,"redAdd works only with red numbers"),this.red.add(this,ct)},tt.prototype.redIAdd=function(ct){return j(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,ct)},tt.prototype.redSub=function(ct){return j(this.red,"redSub works only with red numbers"),this.red.sub(this,ct)},tt.prototype.redISub=function(ct){return j(this.red,"redISub works only with red numbers"),this.red.isub(this,ct)},tt.prototype.redShl=function(ct){return j(this.red,"redShl works only with red numbers"),this.red.shl(this,ct)},tt.prototype.redMul=function(ct){return j(this.red,"redMul works only with red numbers"),this.red._verify2(this,ct),this.red.mul(this,ct)},tt.prototype.redIMul=function(ct){return j(this.red,"redMul works only with red numbers"),this.red._verify2(this,ct),this.red.imul(this,ct)},tt.prototype.redSqr=function(){return j(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},tt.prototype.redISqr=function(){return j(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},tt.prototype.redSqrt=function(){return j(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},tt.prototype.redInvm=function(){return j(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},tt.prototype.redNeg=function(){return j(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},tt.prototype.redPow=function(ct){return j(this.red&&!ct.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,ct)};var Dt={k256:null,p224:null,p192:null,p25519:null};function Ut(vt,ct){this.name=vt,this.p=new tt(ct,16),this.n=this.p.bitLength(),this.k=new tt(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}Ut.prototype._tmp=function(){var ct=new tt(null);return ct.words=new Array(Math.ceil(this.n/13)),ct},Ut.prototype.ireduce=function(ct){var dt=ct,mt;do this.split(dt,this.tmp),dt=this.imulK(dt),dt=dt.iadd(this.tmp),mt=dt.bitLength();while(mt>this.n);var xt=mt<this.n?-1:dt.ucmp(this.p);return xt===0?(dt.words[0]=0,dt.length=1):xt>0?dt.isub(this.p):dt.strip!==void 0?dt.strip():dt._strip(),dt},Ut.prototype.split=function(ct,dt){ct.iushrn(this.n,0,dt)},Ut.prototype.imulK=function(ct){return ct.imul(this.k)};function Ot(){Ut.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}et(Ot,Ut),Ot.prototype.split=function(ct,dt){for(var mt=4194303,xt=Math.min(ct.length,9),At=0;At<xt;At++)dt.words[At]=ct.words[At];if(dt.length=xt,ct.length<=9){ct.words[0]=0,ct.length=1;return}var Rt=ct.words[9];for(dt.words[dt.length++]=Rt&mt,At=10;At<ct.length;At++){var St=ct.words[At]|0;ct.words[At-10]=(St&mt)<<4|Rt>>>22,Rt=St}Rt>>>=22,ct.words[At-10]=Rt,Rt===0&&ct.length>10?ct.length-=10:ct.length-=9},Ot.prototype.imulK=function(ct){ct.words[ct.length]=0,ct.words[ct.length+1]=0,ct.length+=2;for(var dt=0,mt=0;mt<ct.length;mt++){var xt=ct.words[mt]|0;dt+=xt*977,ct.words[mt]=dt&67108863,dt=xt*64+(dt/67108864|0)}return ct.words[ct.length-1]===0&&(ct.length--,ct.words[ct.length-1]===0&&ct.length--),ct};function It(){Ut.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}et(It,Ut);function Bt(){Ut.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}et(Bt,Ut);function Ft(){Ut.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}et(Ft,Ut),Ft.prototype.imulK=function(ct){for(var dt=0,mt=0;mt<ct.length;mt++){var xt=(ct.words[mt]|0)*19+dt,At=xt&67108863;xt>>>=26,ct.words[mt]=At,dt=xt}return dt!==0&&(ct.words[ct.length++]=dt),ct},tt._prime=function(ct){if(Dt[ct])return Dt[ct];var dt;if(ct==="k256")dt=new Ot;else if(ct==="p224")dt=new It;else if(ct==="p192")dt=new Bt;else if(ct==="p25519")dt=new Ft;else throw new Error("Unknown prime "+ct);return Dt[ct]=dt,dt};function jt(vt){if(typeof vt=="string"){var ct=tt._prime(vt);this.m=ct.p,this.prime=ct}else j(vt.gtn(1),"modulus must be greater than 1"),this.m=vt,this.prime=null}jt.prototype._verify1=function(ct){j(ct.negative===0,"red works only with positives"),j(ct.red,"red works only with red numbers")},jt.prototype._verify2=function(ct,dt){j((ct.negative|dt.negative)===0,"red works only with positives"),j(ct.red&&ct.red===dt.red,"red works only with red numbers")},jt.prototype.imod=function(ct){return this.prime?this.prime.ireduce(ct)._forceRed(this):(ot(ct,ct.umod(this.m)._forceRed(this)),ct)},jt.prototype.neg=function(ct){return ct.isZero()?ct.clone():this.m.sub(ct)._forceRed(this)},jt.prototype.add=function(ct,dt){this._verify2(ct,dt);var mt=ct.add(dt);return mt.cmp(this.m)>=0&&mt.isub(this.m),mt._forceRed(this)},jt.prototype.iadd=function(ct,dt){this._verify2(ct,dt);var mt=ct.iadd(dt);return mt.cmp(this.m)>=0&&mt.isub(this.m),mt},jt.prototype.sub=function(ct,dt){this._verify2(ct,dt);var mt=ct.sub(dt);return mt.cmpn(0)<0&&mt.iadd(this.m),mt._forceRed(this)},jt.prototype.isub=function(ct,dt){this._verify2(ct,dt);var mt=ct.isub(dt);return mt.cmpn(0)<0&&mt.iadd(this.m),mt},jt.prototype.shl=function(ct,dt){return this._verify1(ct),this.imod(ct.ushln(dt))},jt.prototype.imul=function(ct,dt){return this._verify2(ct,dt),this.imod(ct.imul(dt))},jt.prototype.mul=function(ct,dt){return this._verify2(ct,dt),this.imod(ct.mul(dt))},jt.prototype.isqr=function(ct){return this.imul(ct,ct.clone())},jt.prototype.sqr=function(ct){return this.mul(ct,ct)},jt.prototype.sqrt=function(ct){if(ct.isZero())return ct.clone();var dt=this.m.andln(3);if(j(dt%2===1),dt===3){var mt=this.m.add(new tt(1)).iushrn(2);return this.pow(ct,mt)}for(var xt=this.m.subn(1),At=0;!xt.isZero()&&xt.andln(1)===0;)At++,xt.iushrn(1);j(!xt.isZero());var Rt=new tt(1).toRed(this),St=Rt.redNeg(),$t=this.m.subn(1).iushrn(1),Et=this.m.bitLength();for(Et=new tt(2*Et*Et).toRed(this);this.pow(Et,$t).cmp(St)!==0;)Et.redIAdd(St);for(var Nt=this.pow(Et,xt),tr=this.pow(ct,xt.addn(1).iushrn(1)),ir=this.pow(ct,xt),nr=At;ir.cmp(Rt)!==0;){for(var Zt=ir,Kt=0;Zt.cmp(Rt)!==0;Kt++)Zt=Zt.redSqr();j(Kt<nr);var Qt=this.pow(Nt,new tt(1).iushln(nr-Kt-1));tr=tr.redMul(Qt),Nt=Qt.redSqr(),ir=ir.redMul(Nt),nr=Kt}return tr},jt.prototype.invm=function(ct){var dt=ct._invmp(this.m);return dt.negative!==0?(dt.negative=0,this.imod(dt).redNeg()):this.imod(dt)},jt.prototype.pow=function(ct,dt){if(dt.isZero())return new tt(1).toRed(this);if(dt.cmpn(1)===0)return ct.clone();var mt=4,xt=new Array(1<<mt);xt[0]=new tt(1).toRed(this),xt[1]=ct;for(var At=2;At<xt.length;At++)xt[At]=this.mul(xt[At-1],ct);var Rt=xt[0],St=0,$t=0,Et=dt.bitLength()%26;for(Et===0&&(Et=26),At=dt.length-1;At>=0;At--){for(var Nt=dt.words[At],tr=Et-1;tr>=0;tr--){var ir=Nt>>tr&1;if(Rt!==xt[0]&&(Rt=this.sqr(Rt)),ir===0&&St===0){$t=0;continue}St<<=1,St|=ir,$t++,!($t!==mt&&(At!==0||tr!==0))&&(Rt=this.mul(Rt,xt[St]),$t=0,St=0)}Et=26}return Rt},jt.prototype.convertTo=function(ct){var dt=ct.umod(this.m);return dt===ct?dt.clone():dt},jt.prototype.convertFrom=function(ct){var dt=ct.clone();return dt.red=null,dt},tt.mont=function(ct){return new bt(ct)};function bt(vt){jt.call(this,vt),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new tt(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}et(bt,jt),bt.prototype.convertTo=function(ct){return this.imod(ct.ushln(this.shift))},bt.prototype.convertFrom=function(ct){var dt=this.imod(ct.mul(this.rinv));return dt.red=null,dt},bt.prototype.imul=function(ct,dt){if(ct.isZero()||dt.isZero())return ct.words[0]=0,ct.length=1,ct;var mt=ct.imul(dt),xt=mt.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),At=mt.isub(xt).iushrn(this.shift),Rt=At;return At.cmp(this.m)>=0?Rt=At.isub(this.m):At.cmpn(0)<0&&(Rt=At.iadd(this.m)),Rt._forceRed(this)},bt.prototype.mul=function(ct,dt){if(ct.isZero()||dt.isZero())return new tt(0)._forceRed(this);var mt=ct.mul(dt),xt=mt.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),At=mt.isub(xt).iushrn(this.shift),Rt=At;return At.cmp(this.m)>=0?Rt=At.isub(this.m):At.cmpn(0)<0&&(Rt=At.iadd(this.m)),Rt._forceRed(this)},bt.prototype.invm=function(ct){var dt=this.imod(ct._invmp(this.m).mul(this.r2));return dt._forceRed(this)}})(a,commonjsGlobal)}(bn$3)),bn$3.exports}var browserifyRsa,hasRequiredBrowserifyRsa;function requireBrowserifyRsa(){if(hasRequiredBrowserifyRsa)return browserifyRsa;hasRequiredBrowserifyRsa=1;var a=requireBn$2(),_=requireBrowser$8();function $(tt){var rt=j(tt),nt=rt.toRed(a.mont(tt.modulus)).redPow(new a(tt.publicExponent)).fromRed();return{blinder:nt,unblinder:rt.invm(tt.modulus)}}function j(tt){var rt=tt.modulus.byteLength(),nt;do nt=new a(_(rt));while(nt.cmp(tt.modulus)>=0||!nt.umod(tt.prime1)||!nt.umod(tt.prime2));return nt}function et(tt,rt){var nt=$(rt),it=rt.modulus.byteLength(),st=new a(tt).mul(nt.blinder).umod(rt.modulus),ot=st.toRed(a.mont(rt.prime1)),at=st.toRed(a.mont(rt.prime2)),ut=rt.coefficient,ht=rt.prime1,yt=rt.prime2,wt=ot.redPow(rt.exponent1).fromRed(),Ct=at.redPow(rt.exponent2).fromRed(),Pt=wt.isub(Ct).imul(ut).umod(ht).imul(yt);return Ct.iadd(Pt).imul(nt.unblinder).umod(rt.modulus).toArrayLike(Buffer$g,"be",it)}return et.getr=j,browserifyRsa=et,browserifyRsa}var elliptic$3={};const name$3="elliptic",version$3="6.5.5",description$3="EC cryptography",main$3="lib/elliptic.js",files$2=["lib"],scripts$3={lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},repository$3={type:"git",url:"git@github.com:indutny/elliptic"},keywords$2=["EC","Elliptic","curve","Cryptography"],author$3="Fedor Indutny <fedor@indutny.com>",license$3="MIT",bugs$2={url:"https://github.com/indutny/elliptic/issues"},homepage$3="https://github.com/indutny/elliptic",devDependencies$3={brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},dependencies$3={"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"},require$$0$3={name:name$3,version:version$3,description:description$3,main:main$3,files:files$2,scripts:scripts$3,repository:repository$3,keywords:keywords$2,author:author$3,license:license$3,bugs:bugs$2,homepage:homepage$3,devDependencies:devDependencies$3,dependencies:dependencies$3};var utils$w={},bn$2={exports:{}};bn$2.exports;var hasRequiredBn$1;function requireBn$1(){return hasRequiredBn$1||(hasRequiredBn$1=1,function(a){(function(_,$){function j(jt,bt){if(!jt)throw new Error(bt||"Assertion failed")}function et(jt,bt){jt.super_=bt;var vt=function(){};vt.prototype=bt.prototype,jt.prototype=new vt,jt.prototype.constructor=jt}function tt(jt,bt,vt){if(tt.isBN(jt))return jt;this.negative=0,this.words=null,this.length=0,this.red=null,jt!==null&&((bt==="le"||bt==="be")&&(vt=bt,bt=10),this._init(jt||0,bt||10,vt||"be"))}typeof _=="object"?_.exports=tt:$.BN=tt,tt.BN=tt,tt.wordSize=26;var rt;try{typeof window<"u"&&typeof window.Buffer<"u"?rt=window.Buffer:rt=require$$0$4.Buffer}catch{}tt.isBN=function(bt){return bt instanceof tt?!0:bt!==null&&typeof bt=="object"&&bt.constructor.wordSize===tt.wordSize&&Array.isArray(bt.words)},tt.max=function(bt,vt){return bt.cmp(vt)>0?bt:vt},tt.min=function(bt,vt){return bt.cmp(vt)<0?bt:vt},tt.prototype._init=function(bt,vt,ct){if(typeof bt=="number")return this._initNumber(bt,vt,ct);if(typeof bt=="object")return this._initArray(bt,vt,ct);vt==="hex"&&(vt=16),j(vt===(vt|0)&&vt>=2&&vt<=36),bt=bt.toString().replace(/\s+/g,"");var dt=0;bt[0]==="-"&&(dt++,this.negative=1),dt<bt.length&&(vt===16?this._parseHex(bt,dt,ct):(this._parseBase(bt,vt,dt),ct==="le"&&this._initArray(this.toArray(),vt,ct)))},tt.prototype._initNumber=function(bt,vt,ct){bt<0&&(this.negative=1,bt=-bt),bt<67108864?(this.words=[bt&67108863],this.length=1):bt<4503599627370496?(this.words=[bt&67108863,bt/67108864&67108863],this.length=2):(j(bt<9007199254740992),this.words=[bt&67108863,bt/67108864&67108863,1],this.length=3),ct==="le"&&this._initArray(this.toArray(),vt,ct)},tt.prototype._initArray=function(bt,vt,ct){if(j(typeof bt.length=="number"),bt.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(bt.length/3),this.words=new Array(this.length);for(var dt=0;dt<this.length;dt++)this.words[dt]=0;var mt,xt,At=0;if(ct==="be")for(dt=bt.length-1,mt=0;dt>=0;dt-=3)xt=bt[dt]|bt[dt-1]<<8|bt[dt-2]<<16,this.words[mt]|=xt<<At&67108863,this.words[mt+1]=xt>>>26-At&67108863,At+=24,At>=26&&(At-=26,mt++);else if(ct==="le")for(dt=0,mt=0;dt<bt.length;dt+=3)xt=bt[dt]|bt[dt+1]<<8|bt[dt+2]<<16,this.words[mt]|=xt<<At&67108863,this.words[mt+1]=xt>>>26-At&67108863,At+=24,At>=26&&(At-=26,mt++);return this.strip()};function nt(jt,bt){var vt=jt.charCodeAt(bt);return vt>=65&&vt<=70?vt-55:vt>=97&&vt<=102?vt-87:vt-48&15}function it(jt,bt,vt){var ct=nt(jt,vt);return vt-1>=bt&&(ct|=nt(jt,vt-1)<<4),ct}tt.prototype._parseHex=function(bt,vt,ct){this.length=Math.ceil((bt.length-vt)/6),this.words=new Array(this.length);for(var dt=0;dt<this.length;dt++)this.words[dt]=0;var mt=0,xt=0,At;if(ct==="be")for(dt=bt.length-1;dt>=vt;dt-=2)At=it(bt,vt,dt)<<mt,this.words[xt]|=At&67108863,mt>=18?(mt-=18,xt+=1,this.words[xt]|=At>>>26):mt+=8;else{var Rt=bt.length-vt;for(dt=Rt%2===0?vt+1:vt;dt<bt.length;dt+=2)At=it(bt,vt,dt)<<mt,this.words[xt]|=At&67108863,mt>=18?(mt-=18,xt+=1,this.words[xt]|=At>>>26):mt+=8}this.strip()};function st(jt,bt,vt,ct){for(var dt=0,mt=Math.min(jt.length,vt),xt=bt;xt<mt;xt++){var At=jt.charCodeAt(xt)-48;dt*=ct,At>=49?dt+=At-49+10:At>=17?dt+=At-17+10:dt+=At}return dt}tt.prototype._parseBase=function(bt,vt,ct){this.words=[0],this.length=1;for(var dt=0,mt=1;mt<=67108863;mt*=vt)dt++;dt--,mt=mt/vt|0;for(var xt=bt.length-ct,At=xt%dt,Rt=Math.min(xt,xt-At)+ct,St=0,$t=ct;$t<Rt;$t+=dt)St=st(bt,$t,$t+dt,vt),this.imuln(mt),this.words[0]+St<67108864?this.words[0]+=St:this._iaddn(St);if(At!==0){var Et=1;for(St=st(bt,$t,bt.length,vt),$t=0;$t<At;$t++)Et*=vt;this.imuln(Et),this.words[0]+St<67108864?this.words[0]+=St:this._iaddn(St)}this.strip()},tt.prototype.copy=function(bt){bt.words=new Array(this.length);for(var vt=0;vt<this.length;vt++)bt.words[vt]=this.words[vt];bt.length=this.length,bt.negative=this.negative,bt.red=this.red},tt.prototype.clone=function(){var bt=new tt(null);return this.copy(bt),bt},tt.prototype._expand=function(bt){for(;this.length<bt;)this.words[this.length++]=0;return this},tt.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},tt.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},tt.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var ot=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],at=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],ut=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];tt.prototype.toString=function(bt,vt){bt=bt||10,vt=vt|0||1;var ct;if(bt===16||bt==="hex"){ct="";for(var dt=0,mt=0,xt=0;xt<this.length;xt++){var At=this.words[xt],Rt=((At<<dt|mt)&16777215).toString(16);mt=At>>>24-dt&16777215,mt!==0||xt!==this.length-1?ct=ot[6-Rt.length]+Rt+ct:ct=Rt+ct,dt+=2,dt>=26&&(dt-=26,xt--)}for(mt!==0&&(ct=mt.toString(16)+ct);ct.length%vt!==0;)ct="0"+ct;return this.negative!==0&&(ct="-"+ct),ct}if(bt===(bt|0)&&bt>=2&&bt<=36){var St=at[bt],$t=ut[bt];ct="";var Et=this.clone();for(Et.negative=0;!Et.isZero();){var Nt=Et.modn($t).toString(bt);Et=Et.idivn($t),Et.isZero()?ct=Nt+ct:ct=ot[St-Nt.length]+Nt+ct}for(this.isZero()&&(ct="0"+ct);ct.length%vt!==0;)ct="0"+ct;return this.negative!==0&&(ct="-"+ct),ct}j(!1,"Base should be between 2 and 36")},tt.prototype.toNumber=function(){var bt=this.words[0];return this.length===2?bt+=this.words[1]*67108864:this.length===3&&this.words[2]===1?bt+=4503599627370496+this.words[1]*67108864:this.length>2&&j(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-bt:bt},tt.prototype.toJSON=function(){return this.toString(16)},tt.prototype.toBuffer=function(bt,vt){return j(typeof rt<"u"),this.toArrayLike(rt,bt,vt)},tt.prototype.toArray=function(bt,vt){return this.toArrayLike(Array,bt,vt)},tt.prototype.toArrayLike=function(bt,vt,ct){var dt=this.byteLength(),mt=ct||Math.max(1,dt);j(dt<=mt,"byte array longer than desired length"),j(mt>0,"Requested array length <= 0"),this.strip();var xt=vt==="le",At=new bt(mt),Rt,St,$t=this.clone();if(xt){for(St=0;!$t.isZero();St++)Rt=$t.andln(255),$t.iushrn(8),At[St]=Rt;for(;St<mt;St++)At[St]=0}else{for(St=0;St<mt-dt;St++)At[St]=0;for(St=0;!$t.isZero();St++)Rt=$t.andln(255),$t.iushrn(8),At[mt-St-1]=Rt}return At},Math.clz32?tt.prototype._countBits=function(bt){return 32-Math.clz32(bt)}:tt.prototype._countBits=function(bt){var vt=bt,ct=0;return vt>=4096&&(ct+=13,vt>>>=13),vt>=64&&(ct+=7,vt>>>=7),vt>=8&&(ct+=4,vt>>>=4),vt>=2&&(ct+=2,vt>>>=2),ct+vt},tt.prototype._zeroBits=function(bt){if(bt===0)return 26;var vt=bt,ct=0;return vt&8191||(ct+=13,vt>>>=13),vt&127||(ct+=7,vt>>>=7),vt&15||(ct+=4,vt>>>=4),vt&3||(ct+=2,vt>>>=2),vt&1||ct++,ct},tt.prototype.bitLength=function(){var bt=this.words[this.length-1],vt=this._countBits(bt);return(this.length-1)*26+vt};function ht(jt){for(var bt=new Array(jt.bitLength()),vt=0;vt<bt.length;vt++){var ct=vt/26|0,dt=vt%26;bt[vt]=(jt.words[ct]&1<<dt)>>>dt}return bt}tt.prototype.zeroBits=function(){if(this.isZero())return 0;for(var bt=0,vt=0;vt<this.length;vt++){var ct=this._zeroBits(this.words[vt]);if(bt+=ct,ct!==26)break}return bt},tt.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},tt.prototype.toTwos=function(bt){return this.negative!==0?this.abs().inotn(bt).iaddn(1):this.clone()},tt.prototype.fromTwos=function(bt){return this.testn(bt-1)?this.notn(bt).iaddn(1).ineg():this.clone()},tt.prototype.isNeg=function(){return this.negative!==0},tt.prototype.neg=function(){return this.clone().ineg()},tt.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},tt.prototype.iuor=function(bt){for(;this.length<bt.length;)this.words[this.length++]=0;for(var vt=0;vt<bt.length;vt++)this.words[vt]=this.words[vt]|bt.words[vt];return this.strip()},tt.prototype.ior=function(bt){return j((this.negative|bt.negative)===0),this.iuor(bt)},tt.prototype.or=function(bt){return this.length>bt.length?this.clone().ior(bt):bt.clone().ior(this)},tt.prototype.uor=function(bt){return this.length>bt.length?this.clone().iuor(bt):bt.clone().iuor(this)},tt.prototype.iuand=function(bt){var vt;this.length>bt.length?vt=bt:vt=this;for(var ct=0;ct<vt.length;ct++)this.words[ct]=this.words[ct]&bt.words[ct];return this.length=vt.length,this.strip()},tt.prototype.iand=function(bt){return j((this.negative|bt.negative)===0),this.iuand(bt)},tt.prototype.and=function(bt){return this.length>bt.length?this.clone().iand(bt):bt.clone().iand(this)},tt.prototype.uand=function(bt){return this.length>bt.length?this.clone().iuand(bt):bt.clone().iuand(this)},tt.prototype.iuxor=function(bt){var vt,ct;this.length>bt.length?(vt=this,ct=bt):(vt=bt,ct=this);for(var dt=0;dt<ct.length;dt++)this.words[dt]=vt.words[dt]^ct.words[dt];if(this!==vt)for(;dt<vt.length;dt++)this.words[dt]=vt.words[dt];return this.length=vt.length,this.strip()},tt.prototype.ixor=function(bt){return j((this.negative|bt.negative)===0),this.iuxor(bt)},tt.prototype.xor=function(bt){return this.length>bt.length?this.clone().ixor(bt):bt.clone().ixor(this)},tt.prototype.uxor=function(bt){return this.length>bt.length?this.clone().iuxor(bt):bt.clone().iuxor(this)},tt.prototype.inotn=function(bt){j(typeof bt=="number"&&bt>=0);var vt=Math.ceil(bt/26)|0,ct=bt%26;this._expand(vt),ct>0&&vt--;for(var dt=0;dt<vt;dt++)this.words[dt]=~this.words[dt]&67108863;return ct>0&&(this.words[dt]=~this.words[dt]&67108863>>26-ct),this.strip()},tt.prototype.notn=function(bt){return this.clone().inotn(bt)},tt.prototype.setn=function(bt,vt){j(typeof bt=="number"&&bt>=0);var ct=bt/26|0,dt=bt%26;return this._expand(ct+1),vt?this.words[ct]=this.words[ct]|1<<dt:this.words[ct]=this.words[ct]&~(1<<dt),this.strip()},tt.prototype.iadd=function(bt){var vt;if(this.negative!==0&&bt.negative===0)return this.negative=0,vt=this.isub(bt),this.negative^=1,this._normSign();if(this.negative===0&&bt.negative!==0)return bt.negative=0,vt=this.isub(bt),bt.negative=1,vt._normSign();var ct,dt;this.length>bt.length?(ct=this,dt=bt):(ct=bt,dt=this);for(var mt=0,xt=0;xt<dt.length;xt++)vt=(ct.words[xt]|0)+(dt.words[xt]|0)+mt,this.words[xt]=vt&67108863,mt=vt>>>26;for(;mt!==0&&xt<ct.length;xt++)vt=(ct.words[xt]|0)+mt,this.words[xt]=vt&67108863,mt=vt>>>26;if(this.length=ct.length,mt!==0)this.words[this.length]=mt,this.length++;else if(ct!==this)for(;xt<ct.length;xt++)this.words[xt]=ct.words[xt];return this},tt.prototype.add=function(bt){var vt;return bt.negative!==0&&this.negative===0?(bt.negative=0,vt=this.sub(bt),bt.negative^=1,vt):bt.negative===0&&this.negative!==0?(this.negative=0,vt=bt.sub(this),this.negative=1,vt):this.length>bt.length?this.clone().iadd(bt):bt.clone().iadd(this)},tt.prototype.isub=function(bt){if(bt.negative!==0){bt.negative=0;var vt=this.iadd(bt);return bt.negative=1,vt._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(bt),this.negative=1,this._normSign();var ct=this.cmp(bt);if(ct===0)return this.negative=0,this.length=1,this.words[0]=0,this;var dt,mt;ct>0?(dt=this,mt=bt):(dt=bt,mt=this);for(var xt=0,At=0;At<mt.length;At++)vt=(dt.words[At]|0)-(mt.words[At]|0)+xt,xt=vt>>26,this.words[At]=vt&67108863;for(;xt!==0&&At<dt.length;At++)vt=(dt.words[At]|0)+xt,xt=vt>>26,this.words[At]=vt&67108863;if(xt===0&&At<dt.length&&dt!==this)for(;At<dt.length;At++)this.words[At]=dt.words[At];return this.length=Math.max(this.length,At),dt!==this&&(this.negative=1),this.strip()},tt.prototype.sub=function(bt){return this.clone().isub(bt)};function yt(jt,bt,vt){vt.negative=bt.negative^jt.negative;var ct=jt.length+bt.length|0;vt.length=ct,ct=ct-1|0;var dt=jt.words[0]|0,mt=bt.words[0]|0,xt=dt*mt,At=xt&67108863,Rt=xt/67108864|0;vt.words[0]=At;for(var St=1;St<ct;St++){for(var $t=Rt>>>26,Et=Rt&67108863,Nt=Math.min(St,bt.length-1),tr=Math.max(0,St-jt.length+1);tr<=Nt;tr++){var ir=St-tr|0;dt=jt.words[ir]|0,mt=bt.words[tr]|0,xt=dt*mt+Et,$t+=xt/67108864|0,Et=xt&67108863}vt.words[St]=Et|0,Rt=$t|0}return Rt!==0?vt.words[St]=Rt|0:vt.length--,vt.strip()}var wt=function(bt,vt,ct){var dt=bt.words,mt=vt.words,xt=ct.words,At=0,Rt,St,$t,Et=dt[0]|0,Nt=Et&8191,tr=Et>>>13,ir=dt[1]|0,nr=ir&8191,Zt=ir>>>13,Kt=dt[2]|0,Qt=Kt&8191,Ht=Kt>>>13,qt=dt[3]|0,Jt=qt&8191,ur=qt>>>13,xr=dt[4]|0,pr=xr&8191,Cr=xr>>>13,Mr=dt[5]|0,lr=Mr&8191,fr=Mr>>>13,_r=dt[6]|0,Rr=_r&8191,kr=_r>>>13,Ar=dt[7]|0,Pr=Ar&8191,Or=Ar>>>13,Lr=dt[8]|0,or=Lr&8191,Yt=Lr>>>13,er=dt[9]|0,Gt=er&8191,Vt=er>>>13,Wt=mt[0]|0,ar=Wt&8191,yr=Wt>>>13,Er=mt[1]|0,Sr=Er&8191,Wr=Er>>>13,Hr=mt[2]|0,Fr=Hr&8191,pn=Hr>>>13,Jr=mt[3]|0,Qr=Jr&8191,mn=Jr>>>13,ln=mt[4]|0,qr=ln&8191,En=ln>>>13,un=mt[5]|0,Vr=un&8191,hn=un>>>13,fn=mt[6]|0,Kr=fn&8191,Rn=fn>>>13,dn=mt[7]|0,Gr=dn&8191,gn=dn>>>13,an=mt[8]|0,Zr=an&8191,An=an>>>13,Sn=mt[9]|0,nn=Sn&8191,Pn=Sn>>>13;ct.negative=bt.negative^vt.negative,ct.length=19,Rt=Math.imul(Nt,ar),St=Math.imul(Nt,yr),St=St+Math.imul(tr,ar)|0,$t=Math.imul(tr,yr);var yn=(At+Rt|0)+((St&8191)<<13)|0;At=($t+(St>>>13)|0)+(yn>>>26)|0,yn&=67108863,Rt=Math.imul(nr,ar),St=Math.imul(nr,yr),St=St+Math.imul(Zt,ar)|0,$t=Math.imul(Zt,yr),Rt=Rt+Math.imul(Nt,Sr)|0,St=St+Math.imul(Nt,Wr)|0,St=St+Math.imul(tr,Sr)|0,$t=$t+Math.imul(tr,Wr)|0;var _n=(At+Rt|0)+((St&8191)<<13)|0;At=($t+(St>>>13)|0)+(_n>>>26)|0,_n&=67108863,Rt=Math.imul(Qt,ar),St=Math.imul(Qt,yr),St=St+Math.imul(Ht,ar)|0,$t=Math.imul(Ht,yr),Rt=Rt+Math.imul(nr,Sr)|0,St=St+Math.imul(nr,Wr)|0,St=St+Math.imul(Zt,Sr)|0,$t=$t+Math.imul(Zt,Wr)|0,Rt=Rt+Math.imul(Nt,Fr)|0,St=St+Math.imul(Nt,pn)|0,St=St+Math.imul(tr,Fr)|0,$t=$t+Math.imul(tr,pn)|0;var ds=(At+Rt|0)+((St&8191)<<13)|0;At=($t+(St>>>13)|0)+(ds>>>26)|0,ds&=67108863,Rt=Math.imul(Jt,ar),St=Math.imul(Jt,yr),St=St+Math.imul(ur,ar)|0,$t=Math.imul(ur,yr),Rt=Rt+Math.imul(Qt,Sr)|0,St=St+Math.imul(Qt,Wr)|0,St=St+Math.imul(Ht,Sr)|0,$t=$t+Math.imul(Ht,Wr)|0,Rt=Rt+Math.imul(nr,Fr)|0,St=St+Math.imul(nr,pn)|0,St=St+Math.imul(Zt,Fr)|0,$t=$t+Math.imul(Zt,pn)|0,Rt=Rt+Math.imul(Nt,Qr)|0,St=St+Math.imul(Nt,mn)|0,St=St+Math.imul(tr,Qr)|0,$t=$t+Math.imul(tr,mn)|0;var fs=(At+Rt|0)+((St&8191)<<13)|0;At=($t+(St>>>13)|0)+(fs>>>26)|0,fs&=67108863,Rt=Math.imul(pr,ar),St=Math.imul(pr,yr),St=St+Math.imul(Cr,ar)|0,$t=Math.imul(Cr,yr),Rt=Rt+Math.imul(Jt,Sr)|0,St=St+Math.imul(Jt,Wr)|0,St=St+Math.imul(ur,Sr)|0,$t=$t+Math.imul(ur,Wr)|0,Rt=Rt+Math.imul(Qt,Fr)|0,St=St+Math.imul(Qt,pn)|0,St=St+Math.imul(Ht,Fr)|0,$t=$t+Math.imul(Ht,pn)|0,Rt=Rt+Math.imul(nr,Qr)|0,St=St+Math.imul(nr,mn)|0,St=St+Math.imul(Zt,Qr)|0,$t=$t+Math.imul(Zt,mn)|0,Rt=Rt+Math.imul(Nt,qr)|0,St=St+Math.imul(Nt,En)|0,St=St+Math.imul(tr,qr)|0,$t=$t+Math.imul(tr,En)|0;var hs=(At+Rt|0)+((St&8191)<<13)|0;At=($t+(St>>>13)|0)+(hs>>>26)|0,hs&=67108863,Rt=Math.imul(lr,ar),St=Math.imul(lr,yr),St=St+Math.imul(fr,ar)|0,$t=Math.imul(fr,yr),Rt=Rt+Math.imul(pr,Sr)|0,St=St+Math.imul(pr,Wr)|0,St=St+Math.imul(Cr,Sr)|0,$t=$t+Math.imul(Cr,Wr)|0,Rt=Rt+Math.imul(Jt,Fr)|0,St=St+Math.imul(Jt,pn)|0,St=St+Math.imul(ur,Fr)|0,$t=$t+Math.imul(ur,pn)|0,Rt=Rt+Math.imul(Qt,Qr)|0,St=St+Math.imul(Qt,mn)|0,St=St+Math.imul(Ht,Qr)|0,$t=$t+Math.imul(Ht,mn)|0,Rt=Rt+Math.imul(nr,qr)|0,St=St+Math.imul(nr,En)|0,St=St+Math.imul(Zt,qr)|0,$t=$t+Math.imul(Zt,En)|0,Rt=Rt+Math.imul(Nt,Vr)|0,St=St+Math.imul(Nt,hn)|0,St=St+Math.imul(tr,Vr)|0,$t=$t+Math.imul(tr,hn)|0;var ps=(At+Rt|0)+((St&8191)<<13)|0;At=($t+(St>>>13)|0)+(ps>>>26)|0,ps&=67108863,Rt=Math.imul(Rr,ar),St=Math.imul(Rr,yr),St=St+Math.imul(kr,ar)|0,$t=Math.imul(kr,yr),Rt=Rt+Math.imul(lr,Sr)|0,St=St+Math.imul(lr,Wr)|0,St=St+Math.imul(fr,Sr)|0,$t=$t+Math.imul(fr,Wr)|0,Rt=Rt+Math.imul(pr,Fr)|0,St=St+Math.imul(pr,pn)|0,St=St+Math.imul(Cr,Fr)|0,$t=$t+Math.imul(Cr,pn)|0,Rt=Rt+Math.imul(Jt,Qr)|0,St=St+Math.imul(Jt,mn)|0,St=St+Math.imul(ur,Qr)|0,$t=$t+Math.imul(ur,mn)|0,Rt=Rt+Math.imul(Qt,qr)|0,St=St+Math.imul(Qt,En)|0,St=St+Math.imul(Ht,qr)|0,$t=$t+Math.imul(Ht,En)|0,Rt=Rt+Math.imul(nr,Vr)|0,St=St+Math.imul(nr,hn)|0,St=St+Math.imul(Zt,Vr)|0,$t=$t+Math.imul(Zt,hn)|0,Rt=Rt+Math.imul(Nt,Kr)|0,St=St+Math.imul(Nt,Rn)|0,St=St+Math.imul(tr,Kr)|0,$t=$t+Math.imul(tr,Rn)|0;var Vn=(At+Rt|0)+((St&8191)<<13)|0;At=($t+(St>>>13)|0)+(Vn>>>26)|0,Vn&=67108863,Rt=Math.imul(Pr,ar),St=Math.imul(Pr,yr),St=St+Math.imul(Or,ar)|0,$t=Math.imul(Or,yr),Rt=Rt+Math.imul(Rr,Sr)|0,St=St+Math.imul(Rr,Wr)|0,St=St+Math.imul(kr,Sr)|0,$t=$t+Math.imul(kr,Wr)|0,Rt=Rt+Math.imul(lr,Fr)|0,St=St+Math.imul(lr,pn)|0,St=St+Math.imul(fr,Fr)|0,$t=$t+Math.imul(fr,pn)|0,Rt=Rt+Math.imul(pr,Qr)|0,St=St+Math.imul(pr,mn)|0,St=St+Math.imul(Cr,Qr)|0,$t=$t+Math.imul(Cr,mn)|0,Rt=Rt+Math.imul(Jt,qr)|0,St=St+Math.imul(Jt,En)|0,St=St+Math.imul(ur,qr)|0,$t=$t+Math.imul(ur,En)|0,Rt=Rt+Math.imul(Qt,Vr)|0,St=St+Math.imul(Qt,hn)|0,St=St+Math.imul(Ht,Vr)|0,$t=$t+Math.imul(Ht,hn)|0,Rt=Rt+Math.imul(nr,Kr)|0,St=St+Math.imul(nr,Rn)|0,St=St+Math.imul(Zt,Kr)|0,$t=$t+Math.imul(Zt,Rn)|0,Rt=Rt+Math.imul(Nt,Gr)|0,St=St+Math.imul(Nt,gn)|0,St=St+Math.imul(tr,Gr)|0,$t=$t+Math.imul(tr,gn)|0;var ss=(At+Rt|0)+((St&8191)<<13)|0;At=($t+(St>>>13)|0)+(ss>>>26)|0,ss&=67108863,Rt=Math.imul(or,ar),St=Math.imul(or,yr),St=St+Math.imul(Yt,ar)|0,$t=Math.imul(Yt,yr),Rt=Rt+Math.imul(Pr,Sr)|0,St=St+Math.imul(Pr,Wr)|0,St=St+Math.imul(Or,Sr)|0,$t=$t+Math.imul(Or,Wr)|0,Rt=Rt+Math.imul(Rr,Fr)|0,St=St+Math.imul(Rr,pn)|0,St=St+Math.imul(kr,Fr)|0,$t=$t+Math.imul(kr,pn)|0,Rt=Rt+Math.imul(lr,Qr)|0,St=St+Math.imul(lr,mn)|0,St=St+Math.imul(fr,Qr)|0,$t=$t+Math.imul(fr,mn)|0,Rt=Rt+Math.imul(pr,qr)|0,St=St+Math.imul(pr,En)|0,St=St+Math.imul(Cr,qr)|0,$t=$t+Math.imul(Cr,En)|0,Rt=Rt+Math.imul(Jt,Vr)|0,St=St+Math.imul(Jt,hn)|0,St=St+Math.imul(ur,Vr)|0,$t=$t+Math.imul(ur,hn)|0,Rt=Rt+Math.imul(Qt,Kr)|0,St=St+Math.imul(Qt,Rn)|0,St=St+Math.imul(Ht,Kr)|0,$t=$t+Math.imul(Ht,Rn)|0,Rt=Rt+Math.imul(nr,Gr)|0,St=St+Math.imul(nr,gn)|0,St=St+Math.imul(Zt,Gr)|0,$t=$t+Math.imul(Zt,gn)|0,Rt=Rt+Math.imul(Nt,Zr)|0,St=St+Math.imul(Nt,An)|0,St=St+Math.imul(tr,Zr)|0,$t=$t+Math.imul(tr,An)|0;var Jn=(At+Rt|0)+((St&8191)<<13)|0;At=($t+(St>>>13)|0)+(Jn>>>26)|0,Jn&=67108863,Rt=Math.imul(Gt,ar),St=Math.imul(Gt,yr),St=St+Math.imul(Vt,ar)|0,$t=Math.imul(Vt,yr),Rt=Rt+Math.imul(or,Sr)|0,St=St+Math.imul(or,Wr)|0,St=St+Math.imul(Yt,Sr)|0,$t=$t+Math.imul(Yt,Wr)|0,Rt=Rt+Math.imul(Pr,Fr)|0,St=St+Math.imul(Pr,pn)|0,St=St+Math.imul(Or,Fr)|0,$t=$t+Math.imul(Or,pn)|0,Rt=Rt+Math.imul(Rr,Qr)|0,St=St+Math.imul(Rr,mn)|0,St=St+Math.imul(kr,Qr)|0,$t=$t+Math.imul(kr,mn)|0,Rt=Rt+Math.imul(lr,qr)|0,St=St+Math.imul(lr,En)|0,St=St+Math.imul(fr,qr)|0,$t=$t+Math.imul(fr,En)|0,Rt=Rt+Math.imul(pr,Vr)|0,St=St+Math.imul(pr,hn)|0,St=St+Math.imul(Cr,Vr)|0,$t=$t+Math.imul(Cr,hn)|0,Rt=Rt+Math.imul(Jt,Kr)|0,St=St+Math.imul(Jt,Rn)|0,St=St+Math.imul(ur,Kr)|0,$t=$t+Math.imul(ur,Rn)|0,Rt=Rt+Math.imul(Qt,Gr)|0,St=St+Math.imul(Qt,gn)|0,St=St+Math.imul(Ht,Gr)|0,$t=$t+Math.imul(Ht,gn)|0,Rt=Rt+Math.imul(nr,Zr)|0,St=St+Math.imul(nr,An)|0,St=St+Math.imul(Zt,Zr)|0,$t=$t+Math.imul(Zt,An)|0,Rt=Rt+Math.imul(Nt,nn)|0,St=St+Math.imul(Nt,Pn)|0,St=St+Math.imul(tr,nn)|0,$t=$t+Math.imul(tr,Pn)|0;var Yn=(At+Rt|0)+((St&8191)<<13)|0;At=($t+(St>>>13)|0)+(Yn>>>26)|0,Yn&=67108863,Rt=Math.imul(Gt,Sr),St=Math.imul(Gt,Wr),St=St+Math.imul(Vt,Sr)|0,$t=Math.imul(Vt,Wr),Rt=Rt+Math.imul(or,Fr)|0,St=St+Math.imul(or,pn)|0,St=St+Math.imul(Yt,Fr)|0,$t=$t+Math.imul(Yt,pn)|0,Rt=Rt+Math.imul(Pr,Qr)|0,St=St+Math.imul(Pr,mn)|0,St=St+Math.imul(Or,Qr)|0,$t=$t+Math.imul(Or,mn)|0,Rt=Rt+Math.imul(Rr,qr)|0,St=St+Math.imul(Rr,En)|0,St=St+Math.imul(kr,qr)|0,$t=$t+Math.imul(kr,En)|0,Rt=Rt+Math.imul(lr,Vr)|0,St=St+Math.imul(lr,hn)|0,St=St+Math.imul(fr,Vr)|0,$t=$t+Math.imul(fr,hn)|0,Rt=Rt+Math.imul(pr,Kr)|0,St=St+Math.imul(pr,Rn)|0,St=St+Math.imul(Cr,Kr)|0,$t=$t+Math.imul(Cr,Rn)|0,Rt=Rt+Math.imul(Jt,Gr)|0,St=St+Math.imul(Jt,gn)|0,St=St+Math.imul(ur,Gr)|0,$t=$t+Math.imul(ur,gn)|0,Rt=Rt+Math.imul(Qt,Zr)|0,St=St+Math.imul(Qt,An)|0,St=St+Math.imul(Ht,Zr)|0,$t=$t+Math.imul(Ht,An)|0,Rt=Rt+Math.imul(nr,nn)|0,St=St+Math.imul(nr,Pn)|0,St=St+Math.imul(Zt,nn)|0,$t=$t+Math.imul(Zt,Pn)|0;var ms=(At+Rt|0)+((St&8191)<<13)|0;At=($t+(St>>>13)|0)+(ms>>>26)|0,ms&=67108863,Rt=Math.imul(Gt,Fr),St=Math.imul(Gt,pn),St=St+Math.imul(Vt,Fr)|0,$t=Math.imul(Vt,pn),Rt=Rt+Math.imul(or,Qr)|0,St=St+Math.imul(or,mn)|0,St=St+Math.imul(Yt,Qr)|0,$t=$t+Math.imul(Yt,mn)|0,Rt=Rt+Math.imul(Pr,qr)|0,St=St+Math.imul(Pr,En)|0,St=St+Math.imul(Or,qr)|0,$t=$t+Math.imul(Or,En)|0,Rt=Rt+Math.imul(Rr,Vr)|0,St=St+Math.imul(Rr,hn)|0,St=St+Math.imul(kr,Vr)|0,$t=$t+Math.imul(kr,hn)|0,Rt=Rt+Math.imul(lr,Kr)|0,St=St+Math.imul(lr,Rn)|0,St=St+Math.imul(fr,Kr)|0,$t=$t+Math.imul(fr,Rn)|0,Rt=Rt+Math.imul(pr,Gr)|0,St=St+Math.imul(pr,gn)|0,St=St+Math.imul(Cr,Gr)|0,$t=$t+Math.imul(Cr,gn)|0,Rt=Rt+Math.imul(Jt,Zr)|0,St=St+Math.imul(Jt,An)|0,St=St+Math.imul(ur,Zr)|0,$t=$t+Math.imul(ur,An)|0,Rt=Rt+Math.imul(Qt,nn)|0,St=St+Math.imul(Qt,Pn)|0,St=St+Math.imul(Ht,nn)|0,$t=$t+Math.imul(Ht,Pn)|0;var Qn=(At+Rt|0)+((St&8191)<<13)|0;At=($t+(St>>>13)|0)+(Qn>>>26)|0,Qn&=67108863,Rt=Math.imul(Gt,Qr),St=Math.imul(Gt,mn),St=St+Math.imul(Vt,Qr)|0,$t=Math.imul(Vt,mn),Rt=Rt+Math.imul(or,qr)|0,St=St+Math.imul(or,En)|0,St=St+Math.imul(Yt,qr)|0,$t=$t+Math.imul(Yt,En)|0,Rt=Rt+Math.imul(Pr,Vr)|0,St=St+Math.imul(Pr,hn)|0,St=St+Math.imul(Or,Vr)|0,$t=$t+Math.imul(Or,hn)|0,Rt=Rt+Math.imul(Rr,Kr)|0,St=St+Math.imul(Rr,Rn)|0,St=St+Math.imul(kr,Kr)|0,$t=$t+Math.imul(kr,Rn)|0,Rt=Rt+Math.imul(lr,Gr)|0,St=St+Math.imul(lr,gn)|0,St=St+Math.imul(fr,Gr)|0,$t=$t+Math.imul(fr,gn)|0,Rt=Rt+Math.imul(pr,Zr)|0,St=St+Math.imul(pr,An)|0,St=St+Math.imul(Cr,Zr)|0,$t=$t+Math.imul(Cr,An)|0,Rt=Rt+Math.imul(Jt,nn)|0,St=St+Math.imul(Jt,Pn)|0,St=St+Math.imul(ur,nn)|0,$t=$t+Math.imul(ur,Pn)|0;var es=(At+Rt|0)+((St&8191)<<13)|0;At=($t+(St>>>13)|0)+(es>>>26)|0,es&=67108863,Rt=Math.imul(Gt,qr),St=Math.imul(Gt,En),St=St+Math.imul(Vt,qr)|0,$t=Math.imul(Vt,En),Rt=Rt+Math.imul(or,Vr)|0,St=St+Math.imul(or,hn)|0,St=St+Math.imul(Yt,Vr)|0,$t=$t+Math.imul(Yt,hn)|0,Rt=Rt+Math.imul(Pr,Kr)|0,St=St+Math.imul(Pr,Rn)|0,St=St+Math.imul(Or,Kr)|0,$t=$t+Math.imul(Or,Rn)|0,Rt=Rt+Math.imul(Rr,Gr)|0,St=St+Math.imul(Rr,gn)|0,St=St+Math.imul(kr,Gr)|0,$t=$t+Math.imul(kr,gn)|0,Rt=Rt+Math.imul(lr,Zr)|0,St=St+Math.imul(lr,An)|0,St=St+Math.imul(fr,Zr)|0,$t=$t+Math.imul(fr,An)|0,Rt=Rt+Math.imul(pr,nn)|0,St=St+Math.imul(pr,Pn)|0,St=St+Math.imul(Cr,nn)|0,$t=$t+Math.imul(Cr,Pn)|0;var ls=(At+Rt|0)+((St&8191)<<13)|0;At=($t+(St>>>13)|0)+(ls>>>26)|0,ls&=67108863,Rt=Math.imul(Gt,Vr),St=Math.imul(Gt,hn),St=St+Math.imul(Vt,Vr)|0,$t=Math.imul(Vt,hn),Rt=Rt+Math.imul(or,Kr)|0,St=St+Math.imul(or,Rn)|0,St=St+Math.imul(Yt,Kr)|0,$t=$t+Math.imul(Yt,Rn)|0,Rt=Rt+Math.imul(Pr,Gr)|0,St=St+Math.imul(Pr,gn)|0,St=St+Math.imul(Or,Gr)|0,$t=$t+Math.imul(Or,gn)|0,Rt=Rt+Math.imul(Rr,Zr)|0,St=St+Math.imul(Rr,An)|0,St=St+Math.imul(kr,Zr)|0,$t=$t+Math.imul(kr,An)|0,Rt=Rt+Math.imul(lr,nn)|0,St=St+Math.imul(lr,Pn)|0,St=St+Math.imul(fr,nn)|0,$t=$t+Math.imul(fr,Pn)|0;var us=(At+Rt|0)+((St&8191)<<13)|0;At=($t+(St>>>13)|0)+(us>>>26)|0,us&=67108863,Rt=Math.imul(Gt,Kr),St=Math.imul(Gt,Rn),St=St+Math.imul(Vt,Kr)|0,$t=Math.imul(Vt,Rn),Rt=Rt+Math.imul(or,Gr)|0,St=St+Math.imul(or,gn)|0,St=St+Math.imul(Yt,Gr)|0,$t=$t+Math.imul(Yt,gn)|0,Rt=Rt+Math.imul(Pr,Zr)|0,St=St+Math.imul(Pr,An)|0,St=St+Math.imul(Or,Zr)|0,$t=$t+Math.imul(Or,An)|0,Rt=Rt+Math.imul(Rr,nn)|0,St=St+Math.imul(Rr,Pn)|0,St=St+Math.imul(kr,nn)|0,$t=$t+Math.imul(kr,Pn)|0;var Wn=(At+Rt|0)+((St&8191)<<13)|0;At=($t+(St>>>13)|0)+(Wn>>>26)|0,Wn&=67108863,Rt=Math.imul(Gt,Gr),St=Math.imul(Gt,gn),St=St+Math.imul(Vt,Gr)|0,$t=Math.imul(Vt,gn),Rt=Rt+Math.imul(or,Zr)|0,St=St+Math.imul(or,An)|0,St=St+Math.imul(Yt,Zr)|0,$t=$t+Math.imul(Yt,An)|0,Rt=Rt+Math.imul(Pr,nn)|0,St=St+Math.imul(Pr,Pn)|0,St=St+Math.imul(Or,nn)|0,$t=$t+Math.imul(Or,Pn)|0;var as=(At+Rt|0)+((St&8191)<<13)|0;At=($t+(St>>>13)|0)+(as>>>26)|0,as&=67108863,Rt=Math.imul(Gt,Zr),St=Math.imul(Gt,An),St=St+Math.imul(Vt,Zr)|0,$t=Math.imul(Vt,An),Rt=Rt+Math.imul(or,nn)|0,St=St+Math.imul(or,Pn)|0,St=St+Math.imul(Yt,nn)|0,$t=$t+Math.imul(Yt,Pn)|0;var gs=(At+Rt|0)+((St&8191)<<13)|0;At=($t+(St>>>13)|0)+(gs>>>26)|0,gs&=67108863,Rt=Math.imul(Gt,nn),St=Math.imul(Gt,Pn),St=St+Math.imul(Vt,nn)|0,$t=Math.imul(Vt,Pn);var vs=(At+Rt|0)+((St&8191)<<13)|0;return At=($t+(St>>>13)|0)+(vs>>>26)|0,vs&=67108863,xt[0]=yn,xt[1]=_n,xt[2]=ds,xt[3]=fs,xt[4]=hs,xt[5]=ps,xt[6]=Vn,xt[7]=ss,xt[8]=Jn,xt[9]=Yn,xt[10]=ms,xt[11]=Qn,xt[12]=es,xt[13]=ls,xt[14]=us,xt[15]=Wn,xt[16]=as,xt[17]=gs,xt[18]=vs,At!==0&&(xt[19]=At,ct.length++),ct};Math.imul||(wt=yt);function Ct(jt,bt,vt){vt.negative=bt.negative^jt.negative,vt.length=jt.length+bt.length;for(var ct=0,dt=0,mt=0;mt<vt.length-1;mt++){var xt=dt;dt=0;for(var At=ct&67108863,Rt=Math.min(mt,bt.length-1),St=Math.max(0,mt-jt.length+1);St<=Rt;St++){var $t=mt-St,Et=jt.words[$t]|0,Nt=bt.words[St]|0,tr=Et*Nt,ir=tr&67108863;xt=xt+(tr/67108864|0)|0,ir=ir+At|0,At=ir&67108863,xt=xt+(ir>>>26)|0,dt+=xt>>>26,xt&=67108863}vt.words[mt]=At,ct=xt,xt=dt}return ct!==0?vt.words[mt]=ct:vt.length--,vt.strip()}function Pt(jt,bt,vt){var ct=new Tt;return ct.mulp(jt,bt,vt)}tt.prototype.mulTo=function(bt,vt){var ct,dt=this.length+bt.length;return this.length===10&&bt.length===10?ct=wt(this,bt,vt):dt<63?ct=yt(this,bt,vt):dt<1024?ct=Ct(this,bt,vt):ct=Pt(this,bt,vt),ct};function Tt(jt,bt){this.x=jt,this.y=bt}Tt.prototype.makeRBT=function(bt){for(var vt=new Array(bt),ct=tt.prototype._countBits(bt)-1,dt=0;dt<bt;dt++)vt[dt]=this.revBin(dt,ct,bt);return vt},Tt.prototype.revBin=function(bt,vt,ct){if(bt===0||bt===ct-1)return bt;for(var dt=0,mt=0;mt<vt;mt++)dt|=(bt&1)<<vt-mt-1,bt>>=1;return dt},Tt.prototype.permute=function(bt,vt,ct,dt,mt,xt){for(var At=0;At<xt;At++)dt[At]=vt[bt[At]],mt[At]=ct[bt[At]]},Tt.prototype.transform=function(bt,vt,ct,dt,mt,xt){this.permute(xt,bt,vt,ct,dt,mt);for(var At=1;At<mt;At<<=1)for(var Rt=At<<1,St=Math.cos(2*Math.PI/Rt),$t=Math.sin(2*Math.PI/Rt),Et=0;Et<mt;Et+=Rt)for(var Nt=St,tr=$t,ir=0;ir<At;ir++){var nr=ct[Et+ir],Zt=dt[Et+ir],Kt=ct[Et+ir+At],Qt=dt[Et+ir+At],Ht=Nt*Kt-tr*Qt;Qt=Nt*Qt+tr*Kt,Kt=Ht,ct[Et+ir]=nr+Kt,dt[Et+ir]=Zt+Qt,ct[Et+ir+At]=nr-Kt,dt[Et+ir+At]=Zt-Qt,ir!==Rt&&(Ht=St*Nt-$t*tr,tr=St*tr+$t*Nt,Nt=Ht)}},Tt.prototype.guessLen13b=function(bt,vt){var ct=Math.max(vt,bt)|1,dt=ct&1,mt=0;for(ct=ct/2|0;ct;ct=ct>>>1)mt++;return 1<<mt+1+dt},Tt.prototype.conjugate=function(bt,vt,ct){if(!(ct<=1))for(var dt=0;dt<ct/2;dt++){var mt=bt[dt];bt[dt]=bt[ct-dt-1],bt[ct-dt-1]=mt,mt=vt[dt],vt[dt]=-vt[ct-dt-1],vt[ct-dt-1]=-mt}},Tt.prototype.normalize13b=function(bt,vt){for(var ct=0,dt=0;dt<vt/2;dt++){var mt=Math.round(bt[2*dt+1]/vt)*8192+Math.round(bt[2*dt]/vt)+ct;bt[dt]=mt&67108863,mt<67108864?ct=0:ct=mt/67108864|0}return bt},Tt.prototype.convert13b=function(bt,vt,ct,dt){for(var mt=0,xt=0;xt<vt;xt++)mt=mt+(bt[xt]|0),ct[2*xt]=mt&8191,mt=mt>>>13,ct[2*xt+1]=mt&8191,mt=mt>>>13;for(xt=2*vt;xt<dt;++xt)ct[xt]=0;j(mt===0),j((mt&-8192)===0)},Tt.prototype.stub=function(bt){for(var vt=new Array(bt),ct=0;ct<bt;ct++)vt[ct]=0;return vt},Tt.prototype.mulp=function(bt,vt,ct){var dt=2*this.guessLen13b(bt.length,vt.length),mt=this.makeRBT(dt),xt=this.stub(dt),At=new Array(dt),Rt=new Array(dt),St=new Array(dt),$t=new Array(dt),Et=new Array(dt),Nt=new Array(dt),tr=ct.words;tr.length=dt,this.convert13b(bt.words,bt.length,At,dt),this.convert13b(vt.words,vt.length,$t,dt),this.transform(At,xt,Rt,St,dt,mt),this.transform($t,xt,Et,Nt,dt,mt);for(var ir=0;ir<dt;ir++){var nr=Rt[ir]*Et[ir]-St[ir]*Nt[ir];St[ir]=Rt[ir]*Nt[ir]+St[ir]*Et[ir],Rt[ir]=nr}return this.conjugate(Rt,St,dt),this.transform(Rt,St,tr,xt,dt,mt),this.conjugate(tr,xt,dt),this.normalize13b(tr,dt),ct.negative=bt.negative^vt.negative,ct.length=bt.length+vt.length,ct.strip()},tt.prototype.mul=function(bt){var vt=new tt(null);return vt.words=new Array(this.length+bt.length),this.mulTo(bt,vt)},tt.prototype.mulf=function(bt){var vt=new tt(null);return vt.words=new Array(this.length+bt.length),Pt(this,bt,vt)},tt.prototype.imul=function(bt){return this.clone().mulTo(bt,this)},tt.prototype.imuln=function(bt){j(typeof bt=="number"),j(bt<67108864);for(var vt=0,ct=0;ct<this.length;ct++){var dt=(this.words[ct]|0)*bt,mt=(dt&67108863)+(vt&67108863);vt>>=26,vt+=dt/67108864|0,vt+=mt>>>26,this.words[ct]=mt&67108863}return vt!==0&&(this.words[ct]=vt,this.length++),this},tt.prototype.muln=function(bt){return this.clone().imuln(bt)},tt.prototype.sqr=function(){return this.mul(this)},tt.prototype.isqr=function(){return this.imul(this.clone())},tt.prototype.pow=function(bt){var vt=ht(bt);if(vt.length===0)return new tt(1);for(var ct=this,dt=0;dt<vt.length&&vt[dt]===0;dt++,ct=ct.sqr());if(++dt<vt.length)for(var mt=ct.sqr();dt<vt.length;dt++,mt=mt.sqr())vt[dt]!==0&&(ct=ct.mul(mt));return ct},tt.prototype.iushln=function(bt){j(typeof bt=="number"&&bt>=0);var vt=bt%26,ct=(bt-vt)/26,dt=67108863>>>26-vt<<26-vt,mt;if(vt!==0){var xt=0;for(mt=0;mt<this.length;mt++){var At=this.words[mt]&dt,Rt=(this.words[mt]|0)-At<<vt;this.words[mt]=Rt|xt,xt=At>>>26-vt}xt&&(this.words[mt]=xt,this.length++)}if(ct!==0){for(mt=this.length-1;mt>=0;mt--)this.words[mt+ct]=this.words[mt];for(mt=0;mt<ct;mt++)this.words[mt]=0;this.length+=ct}return this.strip()},tt.prototype.ishln=function(bt){return j(this.negative===0),this.iushln(bt)},tt.prototype.iushrn=function(bt,vt,ct){j(typeof bt=="number"&&bt>=0);var dt;vt?dt=(vt-vt%26)/26:dt=0;var mt=bt%26,xt=Math.min((bt-mt)/26,this.length),At=67108863^67108863>>>mt<<mt,Rt=ct;if(dt-=xt,dt=Math.max(0,dt),Rt){for(var St=0;St<xt;St++)Rt.words[St]=this.words[St];Rt.length=xt}if(xt!==0)if(this.length>xt)for(this.length-=xt,St=0;St<this.length;St++)this.words[St]=this.words[St+xt];else this.words[0]=0,this.length=1;var $t=0;for(St=this.length-1;St>=0&&($t!==0||St>=dt);St--){var Et=this.words[St]|0;this.words[St]=$t<<26-mt|Et>>>mt,$t=Et&At}return Rt&&$t!==0&&(Rt.words[Rt.length++]=$t),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},tt.prototype.ishrn=function(bt,vt,ct){return j(this.negative===0),this.iushrn(bt,vt,ct)},tt.prototype.shln=function(bt){return this.clone().ishln(bt)},tt.prototype.ushln=function(bt){return this.clone().iushln(bt)},tt.prototype.shrn=function(bt){return this.clone().ishrn(bt)},tt.prototype.ushrn=function(bt){return this.clone().iushrn(bt)},tt.prototype.testn=function(bt){j(typeof bt=="number"&&bt>=0);var vt=bt%26,ct=(bt-vt)/26,dt=1<<vt;if(this.length<=ct)return!1;var mt=this.words[ct];return!!(mt&dt)},tt.prototype.imaskn=function(bt){j(typeof bt=="number"&&bt>=0);var vt=bt%26,ct=(bt-vt)/26;if(j(this.negative===0,"imaskn works only with positive numbers"),this.length<=ct)return this;if(vt!==0&&ct++,this.length=Math.min(ct,this.length),vt!==0){var dt=67108863^67108863>>>vt<<vt;this.words[this.length-1]&=dt}return this.strip()},tt.prototype.maskn=function(bt){return this.clone().imaskn(bt)},tt.prototype.iaddn=function(bt){return j(typeof bt=="number"),j(bt<67108864),bt<0?this.isubn(-bt):this.negative!==0?this.length===1&&(this.words[0]|0)<bt?(this.words[0]=bt-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(bt),this.negative=1,this):this._iaddn(bt)},tt.prototype._iaddn=function(bt){this.words[0]+=bt;for(var vt=0;vt<this.length&&this.words[vt]>=67108864;vt++)this.words[vt]-=67108864,vt===this.length-1?this.words[vt+1]=1:this.words[vt+1]++;return this.length=Math.max(this.length,vt+1),this},tt.prototype.isubn=function(bt){if(j(typeof bt=="number"),j(bt<67108864),bt<0)return this.iaddn(-bt);if(this.negative!==0)return this.negative=0,this.iaddn(bt),this.negative=1,this;if(this.words[0]-=bt,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var vt=0;vt<this.length&&this.words[vt]<0;vt++)this.words[vt]+=67108864,this.words[vt+1]-=1;return this.strip()},tt.prototype.addn=function(bt){return this.clone().iaddn(bt)},tt.prototype.subn=function(bt){return this.clone().isubn(bt)},tt.prototype.iabs=function(){return this.negative=0,this},tt.prototype.abs=function(){return this.clone().iabs()},tt.prototype._ishlnsubmul=function(bt,vt,ct){var dt=bt.length+ct,mt;this._expand(dt);var xt,At=0;for(mt=0;mt<bt.length;mt++){xt=(this.words[mt+ct]|0)+At;var Rt=(bt.words[mt]|0)*vt;xt-=Rt&67108863,At=(xt>>26)-(Rt/67108864|0),this.words[mt+ct]=xt&67108863}for(;mt<this.length-ct;mt++)xt=(this.words[mt+ct]|0)+At,At=xt>>26,this.words[mt+ct]=xt&67108863;if(At===0)return this.strip();for(j(At===-1),At=0,mt=0;mt<this.length;mt++)xt=-(this.words[mt]|0)+At,At=xt>>26,this.words[mt]=xt&67108863;return this.negative=1,this.strip()},tt.prototype._wordDiv=function(bt,vt){var ct=this.length-bt.length,dt=this.clone(),mt=bt,xt=mt.words[mt.length-1]|0,At=this._countBits(xt);ct=26-At,ct!==0&&(mt=mt.ushln(ct),dt.iushln(ct),xt=mt.words[mt.length-1]|0);var Rt=dt.length-mt.length,St;if(vt!=="mod"){St=new tt(null),St.length=Rt+1,St.words=new Array(St.length);for(var $t=0;$t<St.length;$t++)St.words[$t]=0}var Et=dt.clone()._ishlnsubmul(mt,1,Rt);Et.negative===0&&(dt=Et,St&&(St.words[Rt]=1));for(var Nt=Rt-1;Nt>=0;Nt--){var tr=(dt.words[mt.length+Nt]|0)*67108864+(dt.words[mt.length+Nt-1]|0);for(tr=Math.min(tr/xt|0,67108863),dt._ishlnsubmul(mt,tr,Nt);dt.negative!==0;)tr--,dt.negative=0,dt._ishlnsubmul(mt,1,Nt),dt.isZero()||(dt.negative^=1);St&&(St.words[Nt]=tr)}return St&&St.strip(),dt.strip(),vt!=="div"&&ct!==0&&dt.iushrn(ct),{div:St||null,mod:dt}},tt.prototype.divmod=function(bt,vt,ct){if(j(!bt.isZero()),this.isZero())return{div:new tt(0),mod:new tt(0)};var dt,mt,xt;return this.negative!==0&&bt.negative===0?(xt=this.neg().divmod(bt,vt),vt!=="mod"&&(dt=xt.div.neg()),vt!=="div"&&(mt=xt.mod.neg(),ct&&mt.negative!==0&&mt.iadd(bt)),{div:dt,mod:mt}):this.negative===0&&bt.negative!==0?(xt=this.divmod(bt.neg(),vt),vt!=="mod"&&(dt=xt.div.neg()),{div:dt,mod:xt.mod}):this.negative&bt.negative?(xt=this.neg().divmod(bt.neg(),vt),vt!=="div"&&(mt=xt.mod.neg(),ct&&mt.negative!==0&&mt.isub(bt)),{div:xt.div,mod:mt}):bt.length>this.length||this.cmp(bt)<0?{div:new tt(0),mod:this}:bt.length===1?vt==="div"?{div:this.divn(bt.words[0]),mod:null}:vt==="mod"?{div:null,mod:new tt(this.modn(bt.words[0]))}:{div:this.divn(bt.words[0]),mod:new tt(this.modn(bt.words[0]))}:this._wordDiv(bt,vt)},tt.prototype.div=function(bt){return this.divmod(bt,"div",!1).div},tt.prototype.mod=function(bt){return this.divmod(bt,"mod",!1).mod},tt.prototype.umod=function(bt){return this.divmod(bt,"mod",!0).mod},tt.prototype.divRound=function(bt){var vt=this.divmod(bt);if(vt.mod.isZero())return vt.div;var ct=vt.div.negative!==0?vt.mod.isub(bt):vt.mod,dt=bt.ushrn(1),mt=bt.andln(1),xt=ct.cmp(dt);return xt<0||mt===1&&xt===0?vt.div:vt.div.negative!==0?vt.div.isubn(1):vt.div.iaddn(1)},tt.prototype.modn=function(bt){j(bt<=67108863);for(var vt=(1<<26)%bt,ct=0,dt=this.length-1;dt>=0;dt--)ct=(vt*ct+(this.words[dt]|0))%bt;return ct},tt.prototype.idivn=function(bt){j(bt<=67108863);for(var vt=0,ct=this.length-1;ct>=0;ct--){var dt=(this.words[ct]|0)+vt*67108864;this.words[ct]=dt/bt|0,vt=dt%bt}return this.strip()},tt.prototype.divn=function(bt){return this.clone().idivn(bt)},tt.prototype.egcd=function(bt){j(bt.negative===0),j(!bt.isZero());var vt=this,ct=bt.clone();vt.negative!==0?vt=vt.umod(bt):vt=vt.clone();for(var dt=new tt(1),mt=new tt(0),xt=new tt(0),At=new tt(1),Rt=0;vt.isEven()&&ct.isEven();)vt.iushrn(1),ct.iushrn(1),++Rt;for(var St=ct.clone(),$t=vt.clone();!vt.isZero();){for(var Et=0,Nt=1;!(vt.words[0]&Nt)&&Et<26;++Et,Nt<<=1);if(Et>0)for(vt.iushrn(Et);Et-- >0;)(dt.isOdd()||mt.isOdd())&&(dt.iadd(St),mt.isub($t)),dt.iushrn(1),mt.iushrn(1);for(var tr=0,ir=1;!(ct.words[0]&ir)&&tr<26;++tr,ir<<=1);if(tr>0)for(ct.iushrn(tr);tr-- >0;)(xt.isOdd()||At.isOdd())&&(xt.iadd(St),At.isub($t)),xt.iushrn(1),At.iushrn(1);vt.cmp(ct)>=0?(vt.isub(ct),dt.isub(xt),mt.isub(At)):(ct.isub(vt),xt.isub(dt),At.isub(mt))}return{a:xt,b:At,gcd:ct.iushln(Rt)}},tt.prototype._invmp=function(bt){j(bt.negative===0),j(!bt.isZero());var vt=this,ct=bt.clone();vt.negative!==0?vt=vt.umod(bt):vt=vt.clone();for(var dt=new tt(1),mt=new tt(0),xt=ct.clone();vt.cmpn(1)>0&&ct.cmpn(1)>0;){for(var At=0,Rt=1;!(vt.words[0]&Rt)&&At<26;++At,Rt<<=1);if(At>0)for(vt.iushrn(At);At-- >0;)dt.isOdd()&&dt.iadd(xt),dt.iushrn(1);for(var St=0,$t=1;!(ct.words[0]&$t)&&St<26;++St,$t<<=1);if(St>0)for(ct.iushrn(St);St-- >0;)mt.isOdd()&&mt.iadd(xt),mt.iushrn(1);vt.cmp(ct)>=0?(vt.isub(ct),dt.isub(mt)):(ct.isub(vt),mt.isub(dt))}var Et;return vt.cmpn(1)===0?Et=dt:Et=mt,Et.cmpn(0)<0&&Et.iadd(bt),Et},tt.prototype.gcd=function(bt){if(this.isZero())return bt.abs();if(bt.isZero())return this.abs();var vt=this.clone(),ct=bt.clone();vt.negative=0,ct.negative=0;for(var dt=0;vt.isEven()&&ct.isEven();dt++)vt.iushrn(1),ct.iushrn(1);do{for(;vt.isEven();)vt.iushrn(1);for(;ct.isEven();)ct.iushrn(1);var mt=vt.cmp(ct);if(mt<0){var xt=vt;vt=ct,ct=xt}else if(mt===0||ct.cmpn(1)===0)break;vt.isub(ct)}while(!0);return ct.iushln(dt)},tt.prototype.invm=function(bt){return this.egcd(bt).a.umod(bt)},tt.prototype.isEven=function(){return(this.words[0]&1)===0},tt.prototype.isOdd=function(){return(this.words[0]&1)===1},tt.prototype.andln=function(bt){return this.words[0]&bt},tt.prototype.bincn=function(bt){j(typeof bt=="number");var vt=bt%26,ct=(bt-vt)/26,dt=1<<vt;if(this.length<=ct)return this._expand(ct+1),this.words[ct]|=dt,this;for(var mt=dt,xt=ct;mt!==0&&xt<this.length;xt++){var At=this.words[xt]|0;At+=mt,mt=At>>>26,At&=67108863,this.words[xt]=At}return mt!==0&&(this.words[xt]=mt,this.length++),this},tt.prototype.isZero=function(){return this.length===1&&this.words[0]===0},tt.prototype.cmpn=function(bt){var vt=bt<0;if(this.negative!==0&&!vt)return-1;if(this.negative===0&&vt)return 1;this.strip();var ct;if(this.length>1)ct=1;else{vt&&(bt=-bt),j(bt<=67108863,"Number is too big");var dt=this.words[0]|0;ct=dt===bt?0:dt<bt?-1:1}return this.negative!==0?-ct|0:ct},tt.prototype.cmp=function(bt){if(this.negative!==0&&bt.negative===0)return-1;if(this.negative===0&&bt.negative!==0)return 1;var vt=this.ucmp(bt);return this.negative!==0?-vt|0:vt},tt.prototype.ucmp=function(bt){if(this.length>bt.length)return 1;if(this.length<bt.length)return-1;for(var vt=0,ct=this.length-1;ct>=0;ct--){var dt=this.words[ct]|0,mt=bt.words[ct]|0;if(dt!==mt){dt<mt?vt=-1:dt>mt&&(vt=1);break}}return vt},tt.prototype.gtn=function(bt){return this.cmpn(bt)===1},tt.prototype.gt=function(bt){return this.cmp(bt)===1},tt.prototype.gten=function(bt){return this.cmpn(bt)>=0},tt.prototype.gte=function(bt){return this.cmp(bt)>=0},tt.prototype.ltn=function(bt){return this.cmpn(bt)===-1},tt.prototype.lt=function(bt){return this.cmp(bt)===-1},tt.prototype.lten=function(bt){return this.cmpn(bt)<=0},tt.prototype.lte=function(bt){return this.cmp(bt)<=0},tt.prototype.eqn=function(bt){return this.cmpn(bt)===0},tt.prototype.eq=function(bt){return this.cmp(bt)===0},tt.red=function(bt){return new Bt(bt)},tt.prototype.toRed=function(bt){return j(!this.red,"Already a number in reduction context"),j(this.negative===0,"red works only with positives"),bt.convertTo(this)._forceRed(bt)},tt.prototype.fromRed=function(){return j(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},tt.prototype._forceRed=function(bt){return this.red=bt,this},tt.prototype.forceRed=function(bt){return j(!this.red,"Already a number in reduction context"),this._forceRed(bt)},tt.prototype.redAdd=function(bt){return j(this.red,"redAdd works only with red numbers"),this.red.add(this,bt)},tt.prototype.redIAdd=function(bt){return j(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,bt)},tt.prototype.redSub=function(bt){return j(this.red,"redSub works only with red numbers"),this.red.sub(this,bt)},tt.prototype.redISub=function(bt){return j(this.red,"redISub works only with red numbers"),this.red.isub(this,bt)},tt.prototype.redShl=function(bt){return j(this.red,"redShl works only with red numbers"),this.red.shl(this,bt)},tt.prototype.redMul=function(bt){return j(this.red,"redMul works only with red numbers"),this.red._verify2(this,bt),this.red.mul(this,bt)},tt.prototype.redIMul=function(bt){return j(this.red,"redMul works only with red numbers"),this.red._verify2(this,bt),this.red.imul(this,bt)},tt.prototype.redSqr=function(){return j(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},tt.prototype.redISqr=function(){return j(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},tt.prototype.redSqrt=function(){return j(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},tt.prototype.redInvm=function(){return j(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},tt.prototype.redNeg=function(){return j(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},tt.prototype.redPow=function(bt){return j(this.red&&!bt.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,bt)};var Mt={k256:null,p224:null,p192:null,p25519:null};function Lt(jt,bt){this.name=jt,this.p=new tt(bt,16),this.n=this.p.bitLength(),this.k=new tt(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}Lt.prototype._tmp=function(){var bt=new tt(null);return bt.words=new Array(Math.ceil(this.n/13)),bt},Lt.prototype.ireduce=function(bt){var vt=bt,ct;do this.split(vt,this.tmp),vt=this.imulK(vt),vt=vt.iadd(this.tmp),ct=vt.bitLength();while(ct>this.n);var dt=ct<this.n?-1:vt.ucmp(this.p);return dt===0?(vt.words[0]=0,vt.length=1):dt>0?vt.isub(this.p):vt.strip!==void 0?vt.strip():vt._strip(),vt},Lt.prototype.split=function(bt,vt){bt.iushrn(this.n,0,vt)},Lt.prototype.imulK=function(bt){return bt.imul(this.k)};function Dt(){Lt.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}et(Dt,Lt),Dt.prototype.split=function(bt,vt){for(var ct=4194303,dt=Math.min(bt.length,9),mt=0;mt<dt;mt++)vt.words[mt]=bt.words[mt];if(vt.length=dt,bt.length<=9){bt.words[0]=0,bt.length=1;return}var xt=bt.words[9];for(vt.words[vt.length++]=xt&ct,mt=10;mt<bt.length;mt++){var At=bt.words[mt]|0;bt.words[mt-10]=(At&ct)<<4|xt>>>22,xt=At}xt>>>=22,bt.words[mt-10]=xt,xt===0&&bt.length>10?bt.length-=10:bt.length-=9},Dt.prototype.imulK=function(bt){bt.words[bt.length]=0,bt.words[bt.length+1]=0,bt.length+=2;for(var vt=0,ct=0;ct<bt.length;ct++){var dt=bt.words[ct]|0;vt+=dt*977,bt.words[ct]=vt&67108863,vt=dt*64+(vt/67108864|0)}return bt.words[bt.length-1]===0&&(bt.length--,bt.words[bt.length-1]===0&&bt.length--),bt};function Ut(){Lt.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}et(Ut,Lt);function Ot(){Lt.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}et(Ot,Lt);function It(){Lt.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}et(It,Lt),It.prototype.imulK=function(bt){for(var vt=0,ct=0;ct<bt.length;ct++){var dt=(bt.words[ct]|0)*19+vt,mt=dt&67108863;dt>>>=26,bt.words[ct]=mt,vt=dt}return vt!==0&&(bt.words[bt.length++]=vt),bt},tt._prime=function(bt){if(Mt[bt])return Mt[bt];var vt;if(bt==="k256")vt=new Dt;else if(bt==="p224")vt=new Ut;else if(bt==="p192")vt=new Ot;else if(bt==="p25519")vt=new It;else throw new Error("Unknown prime "+bt);return Mt[bt]=vt,vt};function Bt(jt){if(typeof jt=="string"){var bt=tt._prime(jt);this.m=bt.p,this.prime=bt}else j(jt.gtn(1),"modulus must be greater than 1"),this.m=jt,this.prime=null}Bt.prototype._verify1=function(bt){j(bt.negative===0,"red works only with positives"),j(bt.red,"red works only with red numbers")},Bt.prototype._verify2=function(bt,vt){j((bt.negative|vt.negative)===0,"red works only with positives"),j(bt.red&&bt.red===vt.red,"red works only with red numbers")},Bt.prototype.imod=function(bt){return this.prime?this.prime.ireduce(bt)._forceRed(this):bt.umod(this.m)._forceRed(this)},Bt.prototype.neg=function(bt){return bt.isZero()?bt.clone():this.m.sub(bt)._forceRed(this)},Bt.prototype.add=function(bt,vt){this._verify2(bt,vt);var ct=bt.add(vt);return ct.cmp(this.m)>=0&&ct.isub(this.m),ct._forceRed(this)},Bt.prototype.iadd=function(bt,vt){this._verify2(bt,vt);var ct=bt.iadd(vt);return ct.cmp(this.m)>=0&&ct.isub(this.m),ct},Bt.prototype.sub=function(bt,vt){this._verify2(bt,vt);var ct=bt.sub(vt);return ct.cmpn(0)<0&&ct.iadd(this.m),ct._forceRed(this)},Bt.prototype.isub=function(bt,vt){this._verify2(bt,vt);var ct=bt.isub(vt);return ct.cmpn(0)<0&&ct.iadd(this.m),ct},Bt.prototype.shl=function(bt,vt){return this._verify1(bt),this.imod(bt.ushln(vt))},Bt.prototype.imul=function(bt,vt){return this._verify2(bt,vt),this.imod(bt.imul(vt))},Bt.prototype.mul=function(bt,vt){return this._verify2(bt,vt),this.imod(bt.mul(vt))},Bt.prototype.isqr=function(bt){return this.imul(bt,bt.clone())},Bt.prototype.sqr=function(bt){return this.mul(bt,bt)},Bt.prototype.sqrt=function(bt){if(bt.isZero())return bt.clone();var vt=this.m.andln(3);if(j(vt%2===1),vt===3){var ct=this.m.add(new tt(1)).iushrn(2);return this.pow(bt,ct)}for(var dt=this.m.subn(1),mt=0;!dt.isZero()&&dt.andln(1)===0;)mt++,dt.iushrn(1);j(!dt.isZero());var xt=new tt(1).toRed(this),At=xt.redNeg(),Rt=this.m.subn(1).iushrn(1),St=this.m.bitLength();for(St=new tt(2*St*St).toRed(this);this.pow(St,Rt).cmp(At)!==0;)St.redIAdd(At);for(var $t=this.pow(St,dt),Et=this.pow(bt,dt.addn(1).iushrn(1)),Nt=this.pow(bt,dt),tr=mt;Nt.cmp(xt)!==0;){for(var ir=Nt,nr=0;ir.cmp(xt)!==0;nr++)ir=ir.redSqr();j(nr<tr);var Zt=this.pow($t,new tt(1).iushln(tr-nr-1));Et=Et.redMul(Zt),$t=Zt.redSqr(),Nt=Nt.redMul($t),tr=nr}return Et},Bt.prototype.invm=function(bt){var vt=bt._invmp(this.m);return vt.negative!==0?(vt.negative=0,this.imod(vt).redNeg()):this.imod(vt)},Bt.prototype.pow=function(bt,vt){if(vt.isZero())return new tt(1).toRed(this);if(vt.cmpn(1)===0)return bt.clone();var ct=4,dt=new Array(1<<ct);dt[0]=new tt(1).toRed(this),dt[1]=bt;for(var mt=2;mt<dt.length;mt++)dt[mt]=this.mul(dt[mt-1],bt);var xt=dt[0],At=0,Rt=0,St=vt.bitLength()%26;for(St===0&&(St=26),mt=vt.length-1;mt>=0;mt--){for(var $t=vt.words[mt],Et=St-1;Et>=0;Et--){var Nt=$t>>Et&1;if(xt!==dt[0]&&(xt=this.sqr(xt)),Nt===0&&At===0){Rt=0;continue}At<<=1,At|=Nt,Rt++,!(Rt!==ct&&(mt!==0||Et!==0))&&(xt=this.mul(xt,dt[At]),Rt=0,At=0)}St=26}return xt},Bt.prototype.convertTo=function(bt){var vt=bt.umod(this.m);return vt===bt?vt.clone():vt},Bt.prototype.convertFrom=function(bt){var vt=bt.clone();return vt.red=null,vt},tt.mont=function(bt){return new Ft(bt)};function Ft(jt){Bt.call(this,jt),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new tt(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}et(Ft,Bt),Ft.prototype.convertTo=function(bt){return this.imod(bt.ushln(this.shift))},Ft.prototype.convertFrom=function(bt){var vt=this.imod(bt.mul(this.rinv));return vt.red=null,vt},Ft.prototype.imul=function(bt,vt){if(bt.isZero()||vt.isZero())return bt.words[0]=0,bt.length=1,bt;var ct=bt.imul(vt),dt=ct.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),mt=ct.isub(dt).iushrn(this.shift),xt=mt;return mt.cmp(this.m)>=0?xt=mt.isub(this.m):mt.cmpn(0)<0&&(xt=mt.iadd(this.m)),xt._forceRed(this)},Ft.prototype.mul=function(bt,vt){if(bt.isZero()||vt.isZero())return new tt(0)._forceRed(this);var ct=bt.mul(vt),dt=ct.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),mt=ct.isub(dt).iushrn(this.shift),xt=mt;return mt.cmp(this.m)>=0?xt=mt.isub(this.m):mt.cmpn(0)<0&&(xt=mt.iadd(this.m)),xt._forceRed(this)},Ft.prototype.invm=function(bt){var vt=this.imod(bt._invmp(this.m).mul(this.r2));return vt._forceRed(this)}})(a,commonjsGlobal)}(bn$2)),bn$2.exports}var utils$v={};(function(a){var _=a;function $(tt,rt){if(Array.isArray(tt))return tt.slice();if(!tt)return[];var nt=[];if(typeof tt!="string"){for(var it=0;it<tt.length;it++)nt[it]=tt[it]|0;return nt}if(rt==="hex"){tt=tt.replace(/[^a-z0-9]+/ig,""),tt.length%2!==0&&(tt="0"+tt);for(var it=0;it<tt.length;it+=2)nt.push(parseInt(tt[it]+tt[it+1],16))}else for(var it=0;it<tt.length;it++){var st=tt.charCodeAt(it),ot=st>>8,at=st&255;ot?nt.push(ot,at):nt.push(at)}return nt}_.toArray=$;function j(tt){return tt.length===1?"0"+tt:tt}_.zero2=j;function et(tt){for(var rt="",nt=0;nt<tt.length;nt++)rt+=j(tt[nt].toString(16));return rt}_.toHex=et,_.encode=function(rt,nt){return nt==="hex"?et(rt):rt}})(utils$v);var hasRequiredUtils$1;function requireUtils$1(){return hasRequiredUtils$1||(hasRequiredUtils$1=1,function(a){var _=a,$=requireBn$1(),j=minimalisticAssert,et=utils$v;_.assert=j,_.toArray=et.toArray,_.zero2=et.zero2,_.toHex=et.toHex,_.encode=et.encode;function tt(ot,at,ut){var ht=new Array(Math.max(ot.bitLength(),ut)+1),yt;for(yt=0;yt<ht.length;yt+=1)ht[yt]=0;var wt=1<<at+1,Ct=ot.clone();for(yt=0;yt<ht.length;yt++){var Pt,Tt=Ct.andln(wt-1);Ct.isOdd()?(Tt>(wt>>1)-1?Pt=(wt>>1)-Tt:Pt=Tt,Ct.isubn(Pt)):Pt=0,ht[yt]=Pt,Ct.iushrn(1)}return ht}_.getNAF=tt;function rt(ot,at){var ut=[[],[]];ot=ot.clone(),at=at.clone();for(var ht=0,yt=0,wt;ot.cmpn(-ht)>0||at.cmpn(-yt)>0;){var Ct=ot.andln(3)+ht&3,Pt=at.andln(3)+yt&3;Ct===3&&(Ct=-1),Pt===3&&(Pt=-1);var Tt;Ct&1?(wt=ot.andln(7)+ht&7,(wt===3||wt===5)&&Pt===2?Tt=-Ct:Tt=Ct):Tt=0,ut[0].push(Tt);var Mt;Pt&1?(wt=at.andln(7)+yt&7,(wt===3||wt===5)&&Ct===2?Mt=-Pt:Mt=Pt):Mt=0,ut[1].push(Mt),2*ht===Tt+1&&(ht=1-ht),2*yt===Mt+1&&(yt=1-yt),ot.iushrn(1),at.iushrn(1)}return ut}_.getJSF=rt;function nt(ot,at,ut){var ht="_"+at;ot.prototype[at]=function(){return this[ht]!==void 0?this[ht]:this[ht]=ut.call(this)}}_.cachedProperty=nt;function it(ot){return typeof ot=="string"?_.toArray(ot,"hex"):ot}_.parseBytes=it;function st(ot){return new $(ot,"hex","le")}_.intFromLE=st}(utils$w)),utils$w}var curve$2={},base$5,hasRequiredBase$2;function requireBase$2(){if(hasRequiredBase$2)return base$5;hasRequiredBase$2=1;var a=requireBn$1(),_=requireUtils$1(),$=_.getNAF,j=_.getJSF,et=_.assert;function tt(nt,it){this.type=nt,this.p=new a(it.p,16),this.red=it.prime?a.red(it.prime):a.mont(this.p),this.zero=new a(0).toRed(this.red),this.one=new a(1).toRed(this.red),this.two=new a(2).toRed(this.red),this.n=it.n&&new a(it.n,16),this.g=it.g&&this.pointFromJSON(it.g,it.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var st=this.n&&this.p.div(this.n);!st||st.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}base$5=tt,tt.prototype.point=function(){throw new Error("Not implemented")},tt.prototype.validate=function(){throw new Error("Not implemented")},tt.prototype._fixedNafMul=function(it,st){et(it.precomputed);var ot=it._getDoubles(),at=$(st,1,this._bitLength),ut=(1<<ot.step+1)-(ot.step%2===0?2:1);ut/=3;var ht=[],yt,wt;for(yt=0;yt<at.length;yt+=ot.step){wt=0;for(var Ct=yt+ot.step-1;Ct>=yt;Ct--)wt=(wt<<1)+at[Ct];ht.push(wt)}for(var Pt=this.jpoint(null,null,null),Tt=this.jpoint(null,null,null),Mt=ut;Mt>0;Mt--){for(yt=0;yt<ht.length;yt++)wt=ht[yt],wt===Mt?Tt=Tt.mixedAdd(ot.points[yt]):wt===-Mt&&(Tt=Tt.mixedAdd(ot.points[yt].neg()));Pt=Pt.add(Tt)}return Pt.toP()},tt.prototype._wnafMul=function(it,st){var ot=4,at=it._getNAFPoints(ot);ot=at.wnd;for(var ut=at.points,ht=$(st,ot,this._bitLength),yt=this.jpoint(null,null,null),wt=ht.length-1;wt>=0;wt--){for(var Ct=0;wt>=0&&ht[wt]===0;wt--)Ct++;if(wt>=0&&Ct++,yt=yt.dblp(Ct),wt<0)break;var Pt=ht[wt];et(Pt!==0),it.type==="affine"?Pt>0?yt=yt.mixedAdd(ut[Pt-1>>1]):yt=yt.mixedAdd(ut[-Pt-1>>1].neg()):Pt>0?yt=yt.add(ut[Pt-1>>1]):yt=yt.add(ut[-Pt-1>>1].neg())}return it.type==="affine"?yt.toP():yt},tt.prototype._wnafMulAdd=function(it,st,ot,at,ut){var ht=this._wnafT1,yt=this._wnafT2,wt=this._wnafT3,Ct=0,Pt,Tt,Mt;for(Pt=0;Pt<at;Pt++){Mt=st[Pt];var Lt=Mt._getNAFPoints(it);ht[Pt]=Lt.wnd,yt[Pt]=Lt.points}for(Pt=at-1;Pt>=1;Pt-=2){var Dt=Pt-1,Ut=Pt;if(ht[Dt]!==1||ht[Ut]!==1){wt[Dt]=$(ot[Dt],ht[Dt],this._bitLength),wt[Ut]=$(ot[Ut],ht[Ut],this._bitLength),Ct=Math.max(wt[Dt].length,Ct),Ct=Math.max(wt[Ut].length,Ct);continue}var Ot=[st[Dt],null,null,st[Ut]];st[Dt].y.cmp(st[Ut].y)===0?(Ot[1]=st[Dt].add(st[Ut]),Ot[2]=st[Dt].toJ().mixedAdd(st[Ut].neg())):st[Dt].y.cmp(st[Ut].y.redNeg())===0?(Ot[1]=st[Dt].toJ().mixedAdd(st[Ut]),Ot[2]=st[Dt].add(st[Ut].neg())):(Ot[1]=st[Dt].toJ().mixedAdd(st[Ut]),Ot[2]=st[Dt].toJ().mixedAdd(st[Ut].neg()));var It=[-3,-1,-5,-7,0,7,5,1,3],Bt=j(ot[Dt],ot[Ut]);for(Ct=Math.max(Bt[0].length,Ct),wt[Dt]=new Array(Ct),wt[Ut]=new Array(Ct),Tt=0;Tt<Ct;Tt++){var Ft=Bt[0][Tt]|0,jt=Bt[1][Tt]|0;wt[Dt][Tt]=It[(Ft+1)*3+(jt+1)],wt[Ut][Tt]=0,yt[Dt]=Ot}}var bt=this.jpoint(null,null,null),vt=this._wnafT4;for(Pt=Ct;Pt>=0;Pt--){for(var ct=0;Pt>=0;){var dt=!0;for(Tt=0;Tt<at;Tt++)vt[Tt]=wt[Tt][Pt]|0,vt[Tt]!==0&&(dt=!1);if(!dt)break;ct++,Pt--}if(Pt>=0&&ct++,bt=bt.dblp(ct),Pt<0)break;for(Tt=0;Tt<at;Tt++){var mt=vt[Tt];mt!==0&&(mt>0?Mt=yt[Tt][mt-1>>1]:mt<0&&(Mt=yt[Tt][-mt-1>>1].neg()),Mt.type==="affine"?bt=bt.mixedAdd(Mt):bt=bt.add(Mt))}}for(Pt=0;Pt<at;Pt++)yt[Pt]=null;return ut?bt:bt.toP()};function rt(nt,it){this.curve=nt,this.type=it,this.precomputed=null}return tt.BasePoint=rt,rt.prototype.eq=function(){throw new Error("Not implemented")},rt.prototype.validate=function(){return this.curve.validate(this)},tt.prototype.decodePoint=function(it,st){it=_.toArray(it,st);var ot=this.p.byteLength();if((it[0]===4||it[0]===6||it[0]===7)&&it.length-1===2*ot){it[0]===6?et(it[it.length-1]%2===0):it[0]===7&&et(it[it.length-1]%2===1);var at=this.point(it.slice(1,1+ot),it.slice(1+ot,1+2*ot));return at}else if((it[0]===2||it[0]===3)&&it.length-1===ot)return this.pointFromX(it.slice(1,1+ot),it[0]===3);throw new Error("Unknown point format")},rt.prototype.encodeCompressed=function(it){return this.encode(it,!0)},rt.prototype._encode=function(it){var st=this.curve.p.byteLength(),ot=this.getX().toArray("be",st);return it?[this.getY().isEven()?2:3].concat(ot):[4].concat(ot,this.getY().toArray("be",st))},rt.prototype.encode=function(it,st){return _.encode(this._encode(st),it)},rt.prototype.precompute=function(it){if(this.precomputed)return this;var st={doubles:null,naf:null,beta:null};return st.naf=this._getNAFPoints(8),st.doubles=this._getDoubles(4,it),st.beta=this._getBeta(),this.precomputed=st,this},rt.prototype._hasDoubles=function(it){if(!this.precomputed)return!1;var st=this.precomputed.doubles;return st?st.points.length>=Math.ceil((it.bitLength()+1)/st.step):!1},rt.prototype._getDoubles=function(it,st){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var ot=[this],at=this,ut=0;ut<st;ut+=it){for(var ht=0;ht<it;ht++)at=at.dbl();ot.push(at)}return{step:it,points:ot}},rt.prototype._getNAFPoints=function(it){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var st=[this],ot=(1<<it)-1,at=ot===1?null:this.dbl(),ut=1;ut<ot;ut++)st[ut]=st[ut-1].add(at);return{wnd:it,points:st}},rt.prototype._getBeta=function(){return null},rt.prototype.dblp=function(it){for(var st=this,ot=0;ot<it;ot++)st=st.dbl();return st},base$5}var short$2,hasRequiredShort$1;function requireShort$1(){if(hasRequiredShort$1)return short$2;hasRequiredShort$1=1;var a=requireUtils$1(),_=requireBn$1(),$=inherits_browserExports,j=requireBase$2(),et=a.assert;function tt(it){j.call(this,"short",it),this.a=new _(it.a,16).toRed(this.red),this.b=new _(it.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(it),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}$(tt,j),short$2=tt,tt.prototype._getEndomorphism=function(st){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var ot,at;if(st.beta)ot=new _(st.beta,16).toRed(this.red);else{var ut=this._getEndoRoots(this.p);ot=ut[0].cmp(ut[1])<0?ut[0]:ut[1],ot=ot.toRed(this.red)}if(st.lambda)at=new _(st.lambda,16);else{var ht=this._getEndoRoots(this.n);this.g.mul(ht[0]).x.cmp(this.g.x.redMul(ot))===0?at=ht[0]:(at=ht[1],et(this.g.mul(at).x.cmp(this.g.x.redMul(ot))===0))}var yt;return st.basis?yt=st.basis.map(function(wt){return{a:new _(wt.a,16),b:new _(wt.b,16)}}):yt=this._getEndoBasis(at),{beta:ot,lambda:at,basis:yt}}},tt.prototype._getEndoRoots=function(st){var ot=st===this.p?this.red:_.mont(st),at=new _(2).toRed(ot).redInvm(),ut=at.redNeg(),ht=new _(3).toRed(ot).redNeg().redSqrt().redMul(at),yt=ut.redAdd(ht).fromRed(),wt=ut.redSub(ht).fromRed();return[yt,wt]},tt.prototype._getEndoBasis=function(st){for(var ot=this.n.ushrn(Math.floor(this.n.bitLength()/2)),at=st,ut=this.n.clone(),ht=new _(1),yt=new _(0),wt=new _(0),Ct=new _(1),Pt,Tt,Mt,Lt,Dt,Ut,Ot,It=0,Bt,Ft;at.cmpn(0)!==0;){var jt=ut.div(at);Bt=ut.sub(jt.mul(at)),Ft=wt.sub(jt.mul(ht));var bt=Ct.sub(jt.mul(yt));if(!Mt&&Bt.cmp(ot)<0)Pt=Ot.neg(),Tt=ht,Mt=Bt.neg(),Lt=Ft;else if(Mt&&++It===2)break;Ot=Bt,ut=at,at=Bt,wt=ht,ht=Ft,Ct=yt,yt=bt}Dt=Bt.neg(),Ut=Ft;var vt=Mt.sqr().add(Lt.sqr()),ct=Dt.sqr().add(Ut.sqr());return ct.cmp(vt)>=0&&(Dt=Pt,Ut=Tt),Mt.negative&&(Mt=Mt.neg(),Lt=Lt.neg()),Dt.negative&&(Dt=Dt.neg(),Ut=Ut.neg()),[{a:Mt,b:Lt},{a:Dt,b:Ut}]},tt.prototype._endoSplit=function(st){var ot=this.endo.basis,at=ot[0],ut=ot[1],ht=ut.b.mul(st).divRound(this.n),yt=at.b.neg().mul(st).divRound(this.n),wt=ht.mul(at.a),Ct=yt.mul(ut.a),Pt=ht.mul(at.b),Tt=yt.mul(ut.b),Mt=st.sub(wt).sub(Ct),Lt=Pt.add(Tt).neg();return{k1:Mt,k2:Lt}},tt.prototype.pointFromX=function(st,ot){st=new _(st,16),st.red||(st=st.toRed(this.red));var at=st.redSqr().redMul(st).redIAdd(st.redMul(this.a)).redIAdd(this.b),ut=at.redSqrt();if(ut.redSqr().redSub(at).cmp(this.zero)!==0)throw new Error("invalid point");var ht=ut.fromRed().isOdd();return(ot&&!ht||!ot&&ht)&&(ut=ut.redNeg()),this.point(st,ut)},tt.prototype.validate=function(st){if(st.inf)return!0;var ot=st.x,at=st.y,ut=this.a.redMul(ot),ht=ot.redSqr().redMul(ot).redIAdd(ut).redIAdd(this.b);return at.redSqr().redISub(ht).cmpn(0)===0},tt.prototype._endoWnafMulAdd=function(st,ot,at){for(var ut=this._endoWnafT1,ht=this._endoWnafT2,yt=0;yt<st.length;yt++){var wt=this._endoSplit(ot[yt]),Ct=st[yt],Pt=Ct._getBeta();wt.k1.negative&&(wt.k1.ineg(),Ct=Ct.neg(!0)),wt.k2.negative&&(wt.k2.ineg(),Pt=Pt.neg(!0)),ut[yt*2]=Ct,ut[yt*2+1]=Pt,ht[yt*2]=wt.k1,ht[yt*2+1]=wt.k2}for(var Tt=this._wnafMulAdd(1,ut,ht,yt*2,at),Mt=0;Mt<yt*2;Mt++)ut[Mt]=null,ht[Mt]=null;return Tt};function rt(it,st,ot,at){j.BasePoint.call(this,it,"affine"),st===null&&ot===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new _(st,16),this.y=new _(ot,16),at&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}$(rt,j.BasePoint),tt.prototype.point=function(st,ot,at){return new rt(this,st,ot,at)},tt.prototype.pointFromJSON=function(st,ot){return rt.fromJSON(this,st,ot)},rt.prototype._getBeta=function(){if(this.curve.endo){var st=this.precomputed;if(st&&st.beta)return st.beta;var ot=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(st){var at=this.curve,ut=function(ht){return at.point(ht.x.redMul(at.endo.beta),ht.y)};st.beta=ot,ot.precomputed={beta:null,naf:st.naf&&{wnd:st.naf.wnd,points:st.naf.points.map(ut)},doubles:st.doubles&&{step:st.doubles.step,points:st.doubles.points.map(ut)}}}return ot}},rt.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},rt.fromJSON=function(st,ot,at){typeof ot=="string"&&(ot=JSON.parse(ot));var ut=st.point(ot[0],ot[1],at);if(!ot[2])return ut;function ht(wt){return st.point(wt[0],wt[1],at)}var yt=ot[2];return ut.precomputed={beta:null,doubles:yt.doubles&&{step:yt.doubles.step,points:[ut].concat(yt.doubles.points.map(ht))},naf:yt.naf&&{wnd:yt.naf.wnd,points:[ut].concat(yt.naf.points.map(ht))}},ut},rt.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},rt.prototype.isInfinity=function(){return this.inf},rt.prototype.add=function(st){if(this.inf)return st;if(st.inf)return this;if(this.eq(st))return this.dbl();if(this.neg().eq(st))return this.curve.point(null,null);if(this.x.cmp(st.x)===0)return this.curve.point(null,null);var ot=this.y.redSub(st.y);ot.cmpn(0)!==0&&(ot=ot.redMul(this.x.redSub(st.x).redInvm()));var at=ot.redSqr().redISub(this.x).redISub(st.x),ut=ot.redMul(this.x.redSub(at)).redISub(this.y);return this.curve.point(at,ut)},rt.prototype.dbl=function(){if(this.inf)return this;var st=this.y.redAdd(this.y);if(st.cmpn(0)===0)return this.curve.point(null,null);var ot=this.curve.a,at=this.x.redSqr(),ut=st.redInvm(),ht=at.redAdd(at).redIAdd(at).redIAdd(ot).redMul(ut),yt=ht.redSqr().redISub(this.x.redAdd(this.x)),wt=ht.redMul(this.x.redSub(yt)).redISub(this.y);return this.curve.point(yt,wt)},rt.prototype.getX=function(){return this.x.fromRed()},rt.prototype.getY=function(){return this.y.fromRed()},rt.prototype.mul=function(st){return st=new _(st,16),this.isInfinity()?this:this._hasDoubles(st)?this.curve._fixedNafMul(this,st):this.curve.endo?this.curve._endoWnafMulAdd([this],[st]):this.curve._wnafMul(this,st)},rt.prototype.mulAdd=function(st,ot,at){var ut=[this,ot],ht=[st,at];return this.curve.endo?this.curve._endoWnafMulAdd(ut,ht):this.curve._wnafMulAdd(1,ut,ht,2)},rt.prototype.jmulAdd=function(st,ot,at){var ut=[this,ot],ht=[st,at];return this.curve.endo?this.curve._endoWnafMulAdd(ut,ht,!0):this.curve._wnafMulAdd(1,ut,ht,2,!0)},rt.prototype.eq=function(st){return this===st||this.inf===st.inf&&(this.inf||this.x.cmp(st.x)===0&&this.y.cmp(st.y)===0)},rt.prototype.neg=function(st){if(this.inf)return this;var ot=this.curve.point(this.x,this.y.redNeg());if(st&&this.precomputed){var at=this.precomputed,ut=function(ht){return ht.neg()};ot.precomputed={naf:at.naf&&{wnd:at.naf.wnd,points:at.naf.points.map(ut)},doubles:at.doubles&&{step:at.doubles.step,points:at.doubles.points.map(ut)}}}return ot},rt.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var st=this.curve.jpoint(this.x,this.y,this.curve.one);return st};function nt(it,st,ot,at){j.BasePoint.call(this,it,"jacobian"),st===null&&ot===null&&at===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new _(0)):(this.x=new _(st,16),this.y=new _(ot,16),this.z=new _(at,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}return $(nt,j.BasePoint),tt.prototype.jpoint=function(st,ot,at){return new nt(this,st,ot,at)},nt.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var st=this.z.redInvm(),ot=st.redSqr(),at=this.x.redMul(ot),ut=this.y.redMul(ot).redMul(st);return this.curve.point(at,ut)},nt.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},nt.prototype.add=function(st){if(this.isInfinity())return st;if(st.isInfinity())return this;var ot=st.z.redSqr(),at=this.z.redSqr(),ut=this.x.redMul(ot),ht=st.x.redMul(at),yt=this.y.redMul(ot.redMul(st.z)),wt=st.y.redMul(at.redMul(this.z)),Ct=ut.redSub(ht),Pt=yt.redSub(wt);if(Ct.cmpn(0)===0)return Pt.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var Tt=Ct.redSqr(),Mt=Tt.redMul(Ct),Lt=ut.redMul(Tt),Dt=Pt.redSqr().redIAdd(Mt).redISub(Lt).redISub(Lt),Ut=Pt.redMul(Lt.redISub(Dt)).redISub(yt.redMul(Mt)),Ot=this.z.redMul(st.z).redMul(Ct);return this.curve.jpoint(Dt,Ut,Ot)},nt.prototype.mixedAdd=function(st){if(this.isInfinity())return st.toJ();if(st.isInfinity())return this;var ot=this.z.redSqr(),at=this.x,ut=st.x.redMul(ot),ht=this.y,yt=st.y.redMul(ot).redMul(this.z),wt=at.redSub(ut),Ct=ht.redSub(yt);if(wt.cmpn(0)===0)return Ct.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var Pt=wt.redSqr(),Tt=Pt.redMul(wt),Mt=at.redMul(Pt),Lt=Ct.redSqr().redIAdd(Tt).redISub(Mt).redISub(Mt),Dt=Ct.redMul(Mt.redISub(Lt)).redISub(ht.redMul(Tt)),Ut=this.z.redMul(wt);return this.curve.jpoint(Lt,Dt,Ut)},nt.prototype.dblp=function(st){if(st===0)return this;if(this.isInfinity())return this;if(!st)return this.dbl();var ot;if(this.curve.zeroA||this.curve.threeA){var at=this;for(ot=0;ot<st;ot++)at=at.dbl();return at}var ut=this.curve.a,ht=this.curve.tinv,yt=this.x,wt=this.y,Ct=this.z,Pt=Ct.redSqr().redSqr(),Tt=wt.redAdd(wt);for(ot=0;ot<st;ot++){var Mt=yt.redSqr(),Lt=Tt.redSqr(),Dt=Lt.redSqr(),Ut=Mt.redAdd(Mt).redIAdd(Mt).redIAdd(ut.redMul(Pt)),Ot=yt.redMul(Lt),It=Ut.redSqr().redISub(Ot.redAdd(Ot)),Bt=Ot.redISub(It),Ft=Ut.redMul(Bt);Ft=Ft.redIAdd(Ft).redISub(Dt);var jt=Tt.redMul(Ct);ot+1<st&&(Pt=Pt.redMul(Dt)),yt=It,Ct=jt,Tt=Ft}return this.curve.jpoint(yt,Tt.redMul(ht),Ct)},nt.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},nt.prototype._zeroDbl=function(){var st,ot,at;if(this.zOne){var ut=this.x.redSqr(),ht=this.y.redSqr(),yt=ht.redSqr(),wt=this.x.redAdd(ht).redSqr().redISub(ut).redISub(yt);wt=wt.redIAdd(wt);var Ct=ut.redAdd(ut).redIAdd(ut),Pt=Ct.redSqr().redISub(wt).redISub(wt),Tt=yt.redIAdd(yt);Tt=Tt.redIAdd(Tt),Tt=Tt.redIAdd(Tt),st=Pt,ot=Ct.redMul(wt.redISub(Pt)).redISub(Tt),at=this.y.redAdd(this.y)}else{var Mt=this.x.redSqr(),Lt=this.y.redSqr(),Dt=Lt.redSqr(),Ut=this.x.redAdd(Lt).redSqr().redISub(Mt).redISub(Dt);Ut=Ut.redIAdd(Ut);var Ot=Mt.redAdd(Mt).redIAdd(Mt),It=Ot.redSqr(),Bt=Dt.redIAdd(Dt);Bt=Bt.redIAdd(Bt),Bt=Bt.redIAdd(Bt),st=It.redISub(Ut).redISub(Ut),ot=Ot.redMul(Ut.redISub(st)).redISub(Bt),at=this.y.redMul(this.z),at=at.redIAdd(at)}return this.curve.jpoint(st,ot,at)},nt.prototype._threeDbl=function(){var st,ot,at;if(this.zOne){var ut=this.x.redSqr(),ht=this.y.redSqr(),yt=ht.redSqr(),wt=this.x.redAdd(ht).redSqr().redISub(ut).redISub(yt);wt=wt.redIAdd(wt);var Ct=ut.redAdd(ut).redIAdd(ut).redIAdd(this.curve.a),Pt=Ct.redSqr().redISub(wt).redISub(wt);st=Pt;var Tt=yt.redIAdd(yt);Tt=Tt.redIAdd(Tt),Tt=Tt.redIAdd(Tt),ot=Ct.redMul(wt.redISub(Pt)).redISub(Tt),at=this.y.redAdd(this.y)}else{var Mt=this.z.redSqr(),Lt=this.y.redSqr(),Dt=this.x.redMul(Lt),Ut=this.x.redSub(Mt).redMul(this.x.redAdd(Mt));Ut=Ut.redAdd(Ut).redIAdd(Ut);var Ot=Dt.redIAdd(Dt);Ot=Ot.redIAdd(Ot);var It=Ot.redAdd(Ot);st=Ut.redSqr().redISub(It),at=this.y.redAdd(this.z).redSqr().redISub(Lt).redISub(Mt);var Bt=Lt.redSqr();Bt=Bt.redIAdd(Bt),Bt=Bt.redIAdd(Bt),Bt=Bt.redIAdd(Bt),ot=Ut.redMul(Ot.redISub(st)).redISub(Bt)}return this.curve.jpoint(st,ot,at)},nt.prototype._dbl=function(){var st=this.curve.a,ot=this.x,at=this.y,ut=this.z,ht=ut.redSqr().redSqr(),yt=ot.redSqr(),wt=at.redSqr(),Ct=yt.redAdd(yt).redIAdd(yt).redIAdd(st.redMul(ht)),Pt=ot.redAdd(ot);Pt=Pt.redIAdd(Pt);var Tt=Pt.redMul(wt),Mt=Ct.redSqr().redISub(Tt.redAdd(Tt)),Lt=Tt.redISub(Mt),Dt=wt.redSqr();Dt=Dt.redIAdd(Dt),Dt=Dt.redIAdd(Dt),Dt=Dt.redIAdd(Dt);var Ut=Ct.redMul(Lt).redISub(Dt),Ot=at.redAdd(at).redMul(ut);return this.curve.jpoint(Mt,Ut,Ot)},nt.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var st=this.x.redSqr(),ot=this.y.redSqr(),at=this.z.redSqr(),ut=ot.redSqr(),ht=st.redAdd(st).redIAdd(st),yt=ht.redSqr(),wt=this.x.redAdd(ot).redSqr().redISub(st).redISub(ut);wt=wt.redIAdd(wt),wt=wt.redAdd(wt).redIAdd(wt),wt=wt.redISub(yt);var Ct=wt.redSqr(),Pt=ut.redIAdd(ut);Pt=Pt.redIAdd(Pt),Pt=Pt.redIAdd(Pt),Pt=Pt.redIAdd(Pt);var Tt=ht.redIAdd(wt).redSqr().redISub(yt).redISub(Ct).redISub(Pt),Mt=ot.redMul(Tt);Mt=Mt.redIAdd(Mt),Mt=Mt.redIAdd(Mt);var Lt=this.x.redMul(Ct).redISub(Mt);Lt=Lt.redIAdd(Lt),Lt=Lt.redIAdd(Lt);var Dt=this.y.redMul(Tt.redMul(Pt.redISub(Tt)).redISub(wt.redMul(Ct)));Dt=Dt.redIAdd(Dt),Dt=Dt.redIAdd(Dt),Dt=Dt.redIAdd(Dt);var Ut=this.z.redAdd(wt).redSqr().redISub(at).redISub(Ct);return this.curve.jpoint(Lt,Dt,Ut)},nt.prototype.mul=function(st,ot){return st=new _(st,ot),this.curve._wnafMul(this,st)},nt.prototype.eq=function(st){if(st.type==="affine")return this.eq(st.toJ());if(this===st)return!0;var ot=this.z.redSqr(),at=st.z.redSqr();if(this.x.redMul(at).redISub(st.x.redMul(ot)).cmpn(0)!==0)return!1;var ut=ot.redMul(this.z),ht=at.redMul(st.z);return this.y.redMul(ht).redISub(st.y.redMul(ut)).cmpn(0)===0},nt.prototype.eqXToP=function(st){var ot=this.z.redSqr(),at=st.toRed(this.curve.red).redMul(ot);if(this.x.cmp(at)===0)return!0;for(var ut=st.clone(),ht=this.curve.redN.redMul(ot);;){if(ut.iadd(this.curve.n),ut.cmp(this.curve.p)>=0)return!1;if(at.redIAdd(ht),this.x.cmp(at)===0)return!0}},nt.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},nt.prototype.isInfinity=function(){return this.z.cmpn(0)===0},short$2}var mont$2,hasRequiredMont$1;function requireMont$1(){if(hasRequiredMont$1)return mont$2;hasRequiredMont$1=1;var a=requireBn$1(),_=inherits_browserExports,$=requireBase$2(),j=requireUtils$1();function et(rt){$.call(this,"mont",rt),this.a=new a(rt.a,16).toRed(this.red),this.b=new a(rt.b,16).toRed(this.red),this.i4=new a(4).toRed(this.red).redInvm(),this.two=new a(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}_(et,$),mont$2=et,et.prototype.validate=function(nt){var it=nt.normalize().x,st=it.redSqr(),ot=st.redMul(it).redAdd(st.redMul(this.a)).redAdd(it),at=ot.redSqrt();return at.redSqr().cmp(ot)===0};function tt(rt,nt,it){$.BasePoint.call(this,rt,"projective"),nt===null&&it===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new a(nt,16),this.z=new a(it,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}return _(tt,$.BasePoint),et.prototype.decodePoint=function(nt,it){return this.point(j.toArray(nt,it),1)},et.prototype.point=function(nt,it){return new tt(this,nt,it)},et.prototype.pointFromJSON=function(nt){return tt.fromJSON(this,nt)},tt.prototype.precompute=function(){},tt.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},tt.fromJSON=function(nt,it){return new tt(nt,it[0],it[1]||nt.one)},tt.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},tt.prototype.isInfinity=function(){return this.z.cmpn(0)===0},tt.prototype.dbl=function(){var nt=this.x.redAdd(this.z),it=nt.redSqr(),st=this.x.redSub(this.z),ot=st.redSqr(),at=it.redSub(ot),ut=it.redMul(ot),ht=at.redMul(ot.redAdd(this.curve.a24.redMul(at)));return this.curve.point(ut,ht)},tt.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},tt.prototype.diffAdd=function(nt,it){var st=this.x.redAdd(this.z),ot=this.x.redSub(this.z),at=nt.x.redAdd(nt.z),ut=nt.x.redSub(nt.z),ht=ut.redMul(st),yt=at.redMul(ot),wt=it.z.redMul(ht.redAdd(yt).redSqr()),Ct=it.x.redMul(ht.redISub(yt).redSqr());return this.curve.point(wt,Ct)},tt.prototype.mul=function(nt){for(var it=nt.clone(),st=this,ot=this.curve.point(null,null),at=this,ut=[];it.cmpn(0)!==0;it.iushrn(1))ut.push(it.andln(1));for(var ht=ut.length-1;ht>=0;ht--)ut[ht]===0?(st=st.diffAdd(ot,at),ot=ot.dbl()):(ot=st.diffAdd(ot,at),st=st.dbl());return ot},tt.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},tt.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},tt.prototype.eq=function(nt){return this.getX().cmp(nt.getX())===0},tt.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},tt.prototype.getX=function(){return this.normalize(),this.x.fromRed()},mont$2}var edwards$2,hasRequiredEdwards$1;function requireEdwards$1(){if(hasRequiredEdwards$1)return edwards$2;hasRequiredEdwards$1=1;var a=requireUtils$1(),_=requireBn$1(),$=inherits_browserExports,j=requireBase$2(),et=a.assert;function tt(nt){this.twisted=(nt.a|0)!==1,this.mOneA=this.twisted&&(nt.a|0)===-1,this.extended=this.mOneA,j.call(this,"edwards",nt),this.a=new _(nt.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new _(nt.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new _(nt.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),et(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(nt.c|0)===1}$(tt,j),edwards$2=tt,tt.prototype._mulA=function(it){return this.mOneA?it.redNeg():this.a.redMul(it)},tt.prototype._mulC=function(it){return this.oneC?it:this.c.redMul(it)},tt.prototype.jpoint=function(it,st,ot,at){return this.point(it,st,ot,at)},tt.prototype.pointFromX=function(it,st){it=new _(it,16),it.red||(it=it.toRed(this.red));var ot=it.redSqr(),at=this.c2.redSub(this.a.redMul(ot)),ut=this.one.redSub(this.c2.redMul(this.d).redMul(ot)),ht=at.redMul(ut.redInvm()),yt=ht.redSqrt();if(yt.redSqr().redSub(ht).cmp(this.zero)!==0)throw new Error("invalid point");var wt=yt.fromRed().isOdd();return(st&&!wt||!st&&wt)&&(yt=yt.redNeg()),this.point(it,yt)},tt.prototype.pointFromY=function(it,st){it=new _(it,16),it.red||(it=it.toRed(this.red));var ot=it.redSqr(),at=ot.redSub(this.c2),ut=ot.redMul(this.d).redMul(this.c2).redSub(this.a),ht=at.redMul(ut.redInvm());if(ht.cmp(this.zero)===0){if(st)throw new Error("invalid point");return this.point(this.zero,it)}var yt=ht.redSqrt();if(yt.redSqr().redSub(ht).cmp(this.zero)!==0)throw new Error("invalid point");return yt.fromRed().isOdd()!==st&&(yt=yt.redNeg()),this.point(yt,it)},tt.prototype.validate=function(it){if(it.isInfinity())return!0;it.normalize();var st=it.x.redSqr(),ot=it.y.redSqr(),at=st.redMul(this.a).redAdd(ot),ut=this.c2.redMul(this.one.redAdd(this.d.redMul(st).redMul(ot)));return at.cmp(ut)===0};function rt(nt,it,st,ot,at){j.BasePoint.call(this,nt,"projective"),it===null&&st===null&&ot===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new _(it,16),this.y=new _(st,16),this.z=ot?new _(ot,16):this.curve.one,this.t=at&&new _(at,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}return $(rt,j.BasePoint),tt.prototype.pointFromJSON=function(it){return rt.fromJSON(this,it)},tt.prototype.point=function(it,st,ot,at){return new rt(this,it,st,ot,at)},rt.fromJSON=function(it,st){return new rt(it,st[0],st[1],st[2])},rt.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},rt.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)},rt.prototype._extDbl=function(){var it=this.x.redSqr(),st=this.y.redSqr(),ot=this.z.redSqr();ot=ot.redIAdd(ot);var at=this.curve._mulA(it),ut=this.x.redAdd(this.y).redSqr().redISub(it).redISub(st),ht=at.redAdd(st),yt=ht.redSub(ot),wt=at.redSub(st),Ct=ut.redMul(yt),Pt=ht.redMul(wt),Tt=ut.redMul(wt),Mt=yt.redMul(ht);return this.curve.point(Ct,Pt,Mt,Tt)},rt.prototype._projDbl=function(){var it=this.x.redAdd(this.y).redSqr(),st=this.x.redSqr(),ot=this.y.redSqr(),at,ut,ht,yt,wt,Ct;if(this.curve.twisted){yt=this.curve._mulA(st);var Pt=yt.redAdd(ot);this.zOne?(at=it.redSub(st).redSub(ot).redMul(Pt.redSub(this.curve.two)),ut=Pt.redMul(yt.redSub(ot)),ht=Pt.redSqr().redSub(Pt).redSub(Pt)):(wt=this.z.redSqr(),Ct=Pt.redSub(wt).redISub(wt),at=it.redSub(st).redISub(ot).redMul(Ct),ut=Pt.redMul(yt.redSub(ot)),ht=Pt.redMul(Ct))}else yt=st.redAdd(ot),wt=this.curve._mulC(this.z).redSqr(),Ct=yt.redSub(wt).redSub(wt),at=this.curve._mulC(it.redISub(yt)).redMul(Ct),ut=this.curve._mulC(yt).redMul(st.redISub(ot)),ht=yt.redMul(Ct);return this.curve.point(at,ut,ht)},rt.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},rt.prototype._extAdd=function(it){var st=this.y.redSub(this.x).redMul(it.y.redSub(it.x)),ot=this.y.redAdd(this.x).redMul(it.y.redAdd(it.x)),at=this.t.redMul(this.curve.dd).redMul(it.t),ut=this.z.redMul(it.z.redAdd(it.z)),ht=ot.redSub(st),yt=ut.redSub(at),wt=ut.redAdd(at),Ct=ot.redAdd(st),Pt=ht.redMul(yt),Tt=wt.redMul(Ct),Mt=ht.redMul(Ct),Lt=yt.redMul(wt);return this.curve.point(Pt,Tt,Lt,Mt)},rt.prototype._projAdd=function(it){var st=this.z.redMul(it.z),ot=st.redSqr(),at=this.x.redMul(it.x),ut=this.y.redMul(it.y),ht=this.curve.d.redMul(at).redMul(ut),yt=ot.redSub(ht),wt=ot.redAdd(ht),Ct=this.x.redAdd(this.y).redMul(it.x.redAdd(it.y)).redISub(at).redISub(ut),Pt=st.redMul(yt).redMul(Ct),Tt,Mt;return this.curve.twisted?(Tt=st.redMul(wt).redMul(ut.redSub(this.curve._mulA(at))),Mt=yt.redMul(wt)):(Tt=st.redMul(wt).redMul(ut.redSub(at)),Mt=this.curve._mulC(yt).redMul(wt)),this.curve.point(Pt,Tt,Mt)},rt.prototype.add=function(it){return this.isInfinity()?it:it.isInfinity()?this:this.curve.extended?this._extAdd(it):this._projAdd(it)},rt.prototype.mul=function(it){return this._hasDoubles(it)?this.curve._fixedNafMul(this,it):this.curve._wnafMul(this,it)},rt.prototype.mulAdd=function(it,st,ot){return this.curve._wnafMulAdd(1,[this,st],[it,ot],2,!1)},rt.prototype.jmulAdd=function(it,st,ot){return this.curve._wnafMulAdd(1,[this,st],[it,ot],2,!0)},rt.prototype.normalize=function(){if(this.zOne)return this;var it=this.z.redInvm();return this.x=this.x.redMul(it),this.y=this.y.redMul(it),this.t&&(this.t=this.t.redMul(it)),this.z=this.curve.one,this.zOne=!0,this},rt.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},rt.prototype.getX=function(){return this.normalize(),this.x.fromRed()},rt.prototype.getY=function(){return this.normalize(),this.y.fromRed()},rt.prototype.eq=function(it){return this===it||this.getX().cmp(it.getX())===0&&this.getY().cmp(it.getY())===0},rt.prototype.eqXToP=function(it){var st=it.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(st)===0)return!0;for(var ot=it.clone(),at=this.curve.redN.redMul(this.z);;){if(ot.iadd(this.curve.n),ot.cmp(this.curve.p)>=0)return!1;if(st.redIAdd(at),this.x.cmp(st)===0)return!0}},rt.prototype.toP=rt.prototype.normalize,rt.prototype.mixedAdd=rt.prototype.add,edwards$2}var hasRequiredCurve$1;function requireCurve$1(){return hasRequiredCurve$1||(hasRequiredCurve$1=1,function(a){var _=a;_.base=requireBase$2(),_.short=requireShort$1(),_.mont=requireMont$1(),_.edwards=requireEdwards$1()}(curve$2)),curve$2}var curves$4={},hash$4={},utils$u={},assert$g=minimalisticAssert,inherits$5=inherits_browserExports;utils$u.inherits=inherits$5;function isSurrogatePair(a,_){return(a.charCodeAt(_)&64512)!==55296||_<0||_+1>=a.length?!1:(a.charCodeAt(_+1)&64512)===56320}function toArray$3(a,_){if(Array.isArray(a))return a.slice();if(!a)return[];var $=[];if(typeof a=="string")if(_){if(_==="hex")for(a=a.replace(/[^a-z0-9]+/ig,""),a.length%2!==0&&(a="0"+a),et=0;et<a.length;et+=2)$.push(parseInt(a[et]+a[et+1],16))}else for(var j=0,et=0;et<a.length;et++){var tt=a.charCodeAt(et);tt<128?$[j++]=tt:tt<2048?($[j++]=tt>>6|192,$[j++]=tt&63|128):isSurrogatePair(a,et)?(tt=65536+((tt&1023)<<10)+(a.charCodeAt(++et)&1023),$[j++]=tt>>18|240,$[j++]=tt>>12&63|128,$[j++]=tt>>6&63|128,$[j++]=tt&63|128):($[j++]=tt>>12|224,$[j++]=tt>>6&63|128,$[j++]=tt&63|128)}else for(et=0;et<a.length;et++)$[et]=a[et]|0;return $}utils$u.toArray=toArray$3;function toHex$2(a){for(var _="",$=0;$<a.length;$++)_+=zero2(a[$].toString(16));return _}utils$u.toHex=toHex$2;function htonl(a){var _=a>>>24|a>>>8&65280|a<<8&16711680|(a&255)<<24;return _>>>0}utils$u.htonl=htonl;function toHex32(a,_){for(var $="",j=0;j<a.length;j++){var et=a[j];_==="little"&&(et=htonl(et)),$+=zero8(et.toString(16))}return $}utils$u.toHex32=toHex32;function zero2(a){return a.length===1?"0"+a:a}utils$u.zero2=zero2;function zero8(a){return a.length===7?"0"+a:a.length===6?"00"+a:a.length===5?"000"+a:a.length===4?"0000"+a:a.length===3?"00000"+a:a.length===2?"000000"+a:a.length===1?"0000000"+a:a}utils$u.zero8=zero8;function join32(a,_,$,j){var et=$-_;assert$g(et%4===0);for(var tt=new Array(et/4),rt=0,nt=_;rt<tt.length;rt++,nt+=4){var it;j==="big"?it=a[nt]<<24|a[nt+1]<<16|a[nt+2]<<8|a[nt+3]:it=a[nt+3]<<24|a[nt+2]<<16|a[nt+1]<<8|a[nt],tt[rt]=it>>>0}return tt}utils$u.join32=join32;function split32(a,_){for(var $=new Array(a.length*4),j=0,et=0;j<a.length;j++,et+=4){var tt=a[j];_==="big"?($[et]=tt>>>24,$[et+1]=tt>>>16&255,$[et+2]=tt>>>8&255,$[et+3]=tt&255):($[et+3]=tt>>>24,$[et+2]=tt>>>16&255,$[et+1]=tt>>>8&255,$[et]=tt&255)}return $}utils$u.split32=split32;function rotr32$1(a,_){return a>>>_|a<<32-_}utils$u.rotr32=rotr32$1;function rotl32$2(a,_){return a<<_|a>>>32-_}utils$u.rotl32=rotl32$2;function sum32$3(a,_){return a+_>>>0}utils$u.sum32=sum32$3;function sum32_3$1(a,_,$){return a+_+$>>>0}utils$u.sum32_3=sum32_3$1;function sum32_4$2(a,_,$,j){return a+_+$+j>>>0}utils$u.sum32_4=sum32_4$2;function sum32_5$2(a,_,$,j,et){return a+_+$+j+et>>>0}utils$u.sum32_5=sum32_5$2;function sum64$1(a,_,$,j){var et=a[_],tt=a[_+1],rt=j+tt>>>0,nt=(rt<j?1:0)+$+et;a[_]=nt>>>0,a[_+1]=rt}utils$u.sum64=sum64$1;function sum64_hi$1(a,_,$,j){var et=_+j>>>0,tt=(et<_?1:0)+a+$;return tt>>>0}utils$u.sum64_hi=sum64_hi$1;function sum64_lo$1(a,_,$,j){var et=_+j;return et>>>0}utils$u.sum64_lo=sum64_lo$1;function sum64_4_hi$1(a,_,$,j,et,tt,rt,nt){var it=0,st=_;st=st+j>>>0,it+=st<_?1:0,st=st+tt>>>0,it+=st<tt?1:0,st=st+nt>>>0,it+=st<nt?1:0;var ot=a+$+et+rt+it;return ot>>>0}utils$u.sum64_4_hi=sum64_4_hi$1;function sum64_4_lo$1(a,_,$,j,et,tt,rt,nt){var it=_+j+tt+nt;return it>>>0}utils$u.sum64_4_lo=sum64_4_lo$1;function sum64_5_hi$1(a,_,$,j,et,tt,rt,nt,it,st){var ot=0,at=_;at=at+j>>>0,ot+=at<_?1:0,at=at+tt>>>0,ot+=at<tt?1:0,at=at+nt>>>0,ot+=at<nt?1:0,at=at+st>>>0,ot+=at<st?1:0;var ut=a+$+et+rt+it+ot;return ut>>>0}utils$u.sum64_5_hi=sum64_5_hi$1;function sum64_5_lo$1(a,_,$,j,et,tt,rt,nt,it,st){var ot=_+j+tt+nt+st;return ot>>>0}utils$u.sum64_5_lo=sum64_5_lo$1;function rotr64_hi$1(a,_,$){var j=_<<32-$|a>>>$;return j>>>0}utils$u.rotr64_hi=rotr64_hi$1;function rotr64_lo$1(a,_,$){var j=a<<32-$|_>>>$;return j>>>0}utils$u.rotr64_lo=rotr64_lo$1;function shr64_hi$1(a,_,$){return a>>>$}utils$u.shr64_hi=shr64_hi$1;function shr64_lo$1(a,_,$){var j=a<<32-$|_>>>$;return j>>>0}utils$u.shr64_lo=shr64_lo$1;var common$6={},utils$t=utils$u,assert$f=minimalisticAssert;function BlockHash$4(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}common$6.BlockHash=BlockHash$4;BlockHash$4.prototype.update=function(_,$){if(_=utils$t.toArray(_,$),this.pending?this.pending=this.pending.concat(_):this.pending=_,this.pendingTotal+=_.length,this.pending.length>=this._delta8){_=this.pending;var j=_.length%this._delta8;this.pending=_.slice(_.length-j,_.length),this.pending.length===0&&(this.pending=null),_=utils$t.join32(_,0,_.length-j,this.endian);for(var et=0;et<_.length;et+=this._delta32)this._update(_,et,et+this._delta32)}return this};BlockHash$4.prototype.digest=function(_){return this.update(this._pad()),assert$f(this.pending===null),this._digest(_)};BlockHash$4.prototype._pad=function(){var _=this.pendingTotal,$=this._delta8,j=$-(_+this.padLength)%$,et=new Array(j+this.padLength);et[0]=128;for(var tt=1;tt<j;tt++)et[tt]=0;if(_<<=3,this.endian==="big"){for(var rt=8;rt<this.padLength;rt++)et[tt++]=0;et[tt++]=0,et[tt++]=0,et[tt++]=0,et[tt++]=0,et[tt++]=_>>>24&255,et[tt++]=_>>>16&255,et[tt++]=_>>>8&255,et[tt++]=_&255}else for(et[tt++]=_&255,et[tt++]=_>>>8&255,et[tt++]=_>>>16&255,et[tt++]=_>>>24&255,et[tt++]=0,et[tt++]=0,et[tt++]=0,et[tt++]=0,rt=8;rt<this.padLength;rt++)et[tt++]=0;return et};var sha={},common$5={},utils$s=utils$u,rotr32=utils$s.rotr32;function ft_1$1(a,_,$,j){if(a===0)return ch32$1(_,$,j);if(a===1||a===3)return p32(_,$,j);if(a===2)return maj32$1(_,$,j)}common$5.ft_1=ft_1$1;function ch32$1(a,_,$){return a&_^~a&$}common$5.ch32=ch32$1;function maj32$1(a,_,$){return a&_^a&$^_&$}common$5.maj32=maj32$1;function p32(a,_,$){return a^_^$}common$5.p32=p32;function s0_256$1(a){return rotr32(a,2)^rotr32(a,13)^rotr32(a,22)}common$5.s0_256=s0_256$1;function s1_256$1(a){return rotr32(a,6)^rotr32(a,11)^rotr32(a,25)}common$5.s1_256=s1_256$1;function g0_256$1(a){return rotr32(a,7)^rotr32(a,18)^a>>>3}common$5.g0_256=g0_256$1;function g1_256$1(a){return rotr32(a,17)^rotr32(a,19)^a>>>10}common$5.g1_256=g1_256$1;var utils$r=utils$u,common$4=common$6,shaCommon$1=common$5,rotl32$1=utils$r.rotl32,sum32$2=utils$r.sum32,sum32_5$1=utils$r.sum32_5,ft_1=shaCommon$1.ft_1,BlockHash$3=common$4.BlockHash,sha1_K=[1518500249,1859775393,2400959708,3395469782];function SHA1(){if(!(this instanceof SHA1))return new SHA1;BlockHash$3.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}utils$r.inherits(SHA1,BlockHash$3);var _1=SHA1;SHA1.blockSize=512;SHA1.outSize=160;SHA1.hmacStrength=80;SHA1.padLength=64;SHA1.prototype._update=function(_,$){for(var j=this.W,et=0;et<16;et++)j[et]=_[$+et];for(;et<j.length;et++)j[et]=rotl32$1(j[et-3]^j[et-8]^j[et-14]^j[et-16],1);var tt=this.h[0],rt=this.h[1],nt=this.h[2],it=this.h[3],st=this.h[4];for(et=0;et<j.length;et++){var ot=~~(et/20),at=sum32_5$1(rotl32$1(tt,5),ft_1(ot,rt,nt,it),st,j[et],sha1_K[ot]);st=it,it=nt,nt=rotl32$1(rt,30),rt=tt,tt=at}this.h[0]=sum32$2(this.h[0],tt),this.h[1]=sum32$2(this.h[1],rt),this.h[2]=sum32$2(this.h[2],nt),this.h[3]=sum32$2(this.h[3],it),this.h[4]=sum32$2(this.h[4],st)};SHA1.prototype._digest=function(_){return _==="hex"?utils$r.toHex32(this.h,"big"):utils$r.split32(this.h,"big")};var utils$q=utils$u,common$3=common$6,shaCommon=common$5,assert$e=minimalisticAssert,sum32$1=utils$q.sum32,sum32_4$1=utils$q.sum32_4,sum32_5=utils$q.sum32_5,ch32=shaCommon.ch32,maj32=shaCommon.maj32,s0_256=shaCommon.s0_256,s1_256=shaCommon.s1_256,g0_256=shaCommon.g0_256,g1_256=shaCommon.g1_256,BlockHash$2=common$3.BlockHash,sha256_K=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function SHA256$2(){if(!(this instanceof SHA256$2))return new SHA256$2;BlockHash$2.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=sha256_K,this.W=new Array(64)}utils$q.inherits(SHA256$2,BlockHash$2);var _256=SHA256$2;SHA256$2.blockSize=512;SHA256$2.outSize=256;SHA256$2.hmacStrength=192;SHA256$2.padLength=64;SHA256$2.prototype._update=function(_,$){for(var j=this.W,et=0;et<16;et++)j[et]=_[$+et];for(;et<j.length;et++)j[et]=sum32_4$1(g1_256(j[et-2]),j[et-7],g0_256(j[et-15]),j[et-16]);var tt=this.h[0],rt=this.h[1],nt=this.h[2],it=this.h[3],st=this.h[4],ot=this.h[5],at=this.h[6],ut=this.h[7];for(assert$e(this.k.length===j.length),et=0;et<j.length;et++){var ht=sum32_5(ut,s1_256(st),ch32(st,ot,at),this.k[et],j[et]),yt=sum32$1(s0_256(tt),maj32(tt,rt,nt));ut=at,at=ot,ot=st,st=sum32$1(it,ht),it=nt,nt=rt,rt=tt,tt=sum32$1(ht,yt)}this.h[0]=sum32$1(this.h[0],tt),this.h[1]=sum32$1(this.h[1],rt),this.h[2]=sum32$1(this.h[2],nt),this.h[3]=sum32$1(this.h[3],it),this.h[4]=sum32$1(this.h[4],st),this.h[5]=sum32$1(this.h[5],ot),this.h[6]=sum32$1(this.h[6],at),this.h[7]=sum32$1(this.h[7],ut)};SHA256$2.prototype._digest=function(_){return _==="hex"?utils$q.toHex32(this.h,"big"):utils$q.split32(this.h,"big")};var utils$p=utils$u,SHA256$1=_256;function SHA224$1(){if(!(this instanceof SHA224$1))return new SHA224$1;SHA256$1.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}utils$p.inherits(SHA224$1,SHA256$1);var _224=SHA224$1;SHA224$1.blockSize=512;SHA224$1.outSize=224;SHA224$1.hmacStrength=192;SHA224$1.padLength=64;SHA224$1.prototype._digest=function(_){return _==="hex"?utils$p.toHex32(this.h.slice(0,7),"big"):utils$p.split32(this.h.slice(0,7),"big")};var utils$o=utils$u,common$2=common$6,assert$d=minimalisticAssert,rotr64_hi=utils$o.rotr64_hi,rotr64_lo=utils$o.rotr64_lo,shr64_hi=utils$o.shr64_hi,shr64_lo=utils$o.shr64_lo,sum64=utils$o.sum64,sum64_hi=utils$o.sum64_hi,sum64_lo=utils$o.sum64_lo,sum64_4_hi=utils$o.sum64_4_hi,sum64_4_lo=utils$o.sum64_4_lo,sum64_5_hi=utils$o.sum64_5_hi,sum64_5_lo=utils$o.sum64_5_lo,BlockHash$1=common$2.BlockHash,sha512_K=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function SHA512$2(){if(!(this instanceof SHA512$2))return new SHA512$2;BlockHash$1.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=sha512_K,this.W=new Array(160)}utils$o.inherits(SHA512$2,BlockHash$1);var _512=SHA512$2;SHA512$2.blockSize=1024;SHA512$2.outSize=512;SHA512$2.hmacStrength=192;SHA512$2.padLength=128;SHA512$2.prototype._prepareBlock=function(_,$){for(var j=this.W,et=0;et<32;et++)j[et]=_[$+et];for(;et<j.length;et+=2){var tt=g1_512_hi(j[et-4],j[et-3]),rt=g1_512_lo(j[et-4],j[et-3]),nt=j[et-14],it=j[et-13],st=g0_512_hi(j[et-30],j[et-29]),ot=g0_512_lo(j[et-30],j[et-29]),at=j[et-32],ut=j[et-31];j[et]=sum64_4_hi(tt,rt,nt,it,st,ot,at,ut),j[et+1]=sum64_4_lo(tt,rt,nt,it,st,ot,at,ut)}};SHA512$2.prototype._update=function(_,$){this._prepareBlock(_,$);var j=this.W,et=this.h[0],tt=this.h[1],rt=this.h[2],nt=this.h[3],it=this.h[4],st=this.h[5],ot=this.h[6],at=this.h[7],ut=this.h[8],ht=this.h[9],yt=this.h[10],wt=this.h[11],Ct=this.h[12],Pt=this.h[13],Tt=this.h[14],Mt=this.h[15];assert$d(this.k.length===j.length);for(var Lt=0;Lt<j.length;Lt+=2){var Dt=Tt,Ut=Mt,Ot=s1_512_hi(ut,ht),It=s1_512_lo(ut,ht),Bt=ch64_hi(ut,ht,yt,wt,Ct),Ft=ch64_lo(ut,ht,yt,wt,Ct,Pt),jt=this.k[Lt],bt=this.k[Lt+1],vt=j[Lt],ct=j[Lt+1],dt=sum64_5_hi(Dt,Ut,Ot,It,Bt,Ft,jt,bt,vt,ct),mt=sum64_5_lo(Dt,Ut,Ot,It,Bt,Ft,jt,bt,vt,ct);Dt=s0_512_hi(et,tt),Ut=s0_512_lo(et,tt),Ot=maj64_hi(et,tt,rt,nt,it),It=maj64_lo(et,tt,rt,nt,it,st);var xt=sum64_hi(Dt,Ut,Ot,It),At=sum64_lo(Dt,Ut,Ot,It);Tt=Ct,Mt=Pt,Ct=yt,Pt=wt,yt=ut,wt=ht,ut=sum64_hi(ot,at,dt,mt),ht=sum64_lo(at,at,dt,mt),ot=it,at=st,it=rt,st=nt,rt=et,nt=tt,et=sum64_hi(dt,mt,xt,At),tt=sum64_lo(dt,mt,xt,At)}sum64(this.h,0,et,tt),sum64(this.h,2,rt,nt),sum64(this.h,4,it,st),sum64(this.h,6,ot,at),sum64(this.h,8,ut,ht),sum64(this.h,10,yt,wt),sum64(this.h,12,Ct,Pt),sum64(this.h,14,Tt,Mt)};SHA512$2.prototype._digest=function(_){return _==="hex"?utils$o.toHex32(this.h,"big"):utils$o.split32(this.h,"big")};function ch64_hi(a,_,$,j,et){var tt=a&$^~a&et;return tt<0&&(tt+=4294967296),tt}function ch64_lo(a,_,$,j,et,tt){var rt=_&j^~_&tt;return rt<0&&(rt+=4294967296),rt}function maj64_hi(a,_,$,j,et){var tt=a&$^a&et^$&et;return tt<0&&(tt+=4294967296),tt}function maj64_lo(a,_,$,j,et,tt){var rt=_&j^_&tt^j&tt;return rt<0&&(rt+=4294967296),rt}function s0_512_hi(a,_){var $=rotr64_hi(a,_,28),j=rotr64_hi(_,a,2),et=rotr64_hi(_,a,7),tt=$^j^et;return tt<0&&(tt+=4294967296),tt}function s0_512_lo(a,_){var $=rotr64_lo(a,_,28),j=rotr64_lo(_,a,2),et=rotr64_lo(_,a,7),tt=$^j^et;return tt<0&&(tt+=4294967296),tt}function s1_512_hi(a,_){var $=rotr64_hi(a,_,14),j=rotr64_hi(a,_,18),et=rotr64_hi(_,a,9),tt=$^j^et;return tt<0&&(tt+=4294967296),tt}function s1_512_lo(a,_){var $=rotr64_lo(a,_,14),j=rotr64_lo(a,_,18),et=rotr64_lo(_,a,9),tt=$^j^et;return tt<0&&(tt+=4294967296),tt}function g0_512_hi(a,_){var $=rotr64_hi(a,_,1),j=rotr64_hi(a,_,8),et=shr64_hi(a,_,7),tt=$^j^et;return tt<0&&(tt+=4294967296),tt}function g0_512_lo(a,_){var $=rotr64_lo(a,_,1),j=rotr64_lo(a,_,8),et=shr64_lo(a,_,7),tt=$^j^et;return tt<0&&(tt+=4294967296),tt}function g1_512_hi(a,_){var $=rotr64_hi(a,_,19),j=rotr64_hi(_,a,29),et=shr64_hi(a,_,6),tt=$^j^et;return tt<0&&(tt+=4294967296),tt}function g1_512_lo(a,_){var $=rotr64_lo(a,_,19),j=rotr64_lo(_,a,29),et=shr64_lo(a,_,6),tt=$^j^et;return tt<0&&(tt+=4294967296),tt}var utils$n=utils$u,SHA512$1=_512;function SHA384$1(){if(!(this instanceof SHA384$1))return new SHA384$1;SHA512$1.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}utils$n.inherits(SHA384$1,SHA512$1);var _384=SHA384$1;SHA384$1.blockSize=1024;SHA384$1.outSize=384;SHA384$1.hmacStrength=192;SHA384$1.padLength=128;SHA384$1.prototype._digest=function(_){return _==="hex"?utils$n.toHex32(this.h.slice(0,12),"big"):utils$n.split32(this.h.slice(0,12),"big")};sha.sha1=_1;sha.sha224=_224;sha.sha256=_256;sha.sha384=_384;sha.sha512=_512;var ripemd={},utils$m=utils$u,common$1=common$6,rotl32=utils$m.rotl32,sum32=utils$m.sum32,sum32_3=utils$m.sum32_3,sum32_4=utils$m.sum32_4,BlockHash=common$1.BlockHash;function RIPEMD160(){if(!(this instanceof RIPEMD160))return new RIPEMD160;BlockHash.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}utils$m.inherits(RIPEMD160,BlockHash);ripemd.ripemd160=RIPEMD160;RIPEMD160.blockSize=512;RIPEMD160.outSize=160;RIPEMD160.hmacStrength=192;RIPEMD160.padLength=64;RIPEMD160.prototype._update=function(_,$){for(var j=this.h[0],et=this.h[1],tt=this.h[2],rt=this.h[3],nt=this.h[4],it=j,st=et,ot=tt,at=rt,ut=nt,ht=0;ht<80;ht++){var yt=sum32(rotl32(sum32_4(j,f(ht,et,tt,rt),_[r$2[ht]+$],K$1(ht)),s$1[ht]),nt);j=nt,nt=rt,rt=rotl32(tt,10),tt=et,et=yt,yt=sum32(rotl32(sum32_4(it,f(79-ht,st,ot,at),_[rh[ht]+$],Kh(ht)),sh[ht]),ut),it=ut,ut=at,at=rotl32(ot,10),ot=st,st=yt}yt=sum32_3(this.h[1],tt,at),this.h[1]=sum32_3(this.h[2],rt,ut),this.h[2]=sum32_3(this.h[3],nt,it),this.h[3]=sum32_3(this.h[4],j,st),this.h[4]=sum32_3(this.h[0],et,ot),this.h[0]=yt};RIPEMD160.prototype._digest=function(_){return _==="hex"?utils$m.toHex32(this.h,"little"):utils$m.split32(this.h,"little")};function f(a,_,$,j){return a<=15?_^$^j:a<=31?_&$|~_&j:a<=47?(_|~$)^j:a<=63?_&j|$&~j:_^($|~j)}function K$1(a){return a<=15?0:a<=31?1518500249:a<=47?1859775393:a<=63?2400959708:2840853838}function Kh(a){return a<=15?1352829926:a<=31?1548603684:a<=47?1836072691:a<=63?2053994217:0}var r$2=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],rh=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],s$1=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],sh=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],utils$l=utils$u,assert$c=minimalisticAssert;function Hmac(a,_,$){if(!(this instanceof Hmac))return new Hmac(a,_,$);this.Hash=a,this.blockSize=a.blockSize/8,this.outSize=a.outSize/8,this.inner=null,this.outer=null,this._init(utils$l.toArray(_,$))}var hmac$3=Hmac;Hmac.prototype._init=function(_){_.length>this.blockSize&&(_=new this.Hash().update(_).digest()),assert$c(_.length<=this.blockSize);for(var $=_.length;$<this.blockSize;$++)_.push(0);for($=0;$<_.length;$++)_[$]^=54;for(this.inner=new this.Hash().update(_),$=0;$<_.length;$++)_[$]^=106;this.outer=new this.Hash().update(_)};Hmac.prototype.update=function(_,$){return this.inner.update(_,$),this};Hmac.prototype.digest=function(_){return this.outer.update(this.inner.digest()),this.outer.digest(_)};(function(a){var _=a;_.utils=utils$u,_.common=common$6,_.sha=sha,_.ripemd=ripemd,_.hmac=hmac$3,_.sha1=_.sha.sha1,_.sha256=_.sha.sha256,_.sha224=_.sha.sha224,_.sha384=_.sha.sha384,_.sha512=_.sha.sha512,_.ripemd160=_.ripemd.ripemd160})(hash$4);var secp256k1$2,hasRequiredSecp256k1$2;function requireSecp256k1$2(){return hasRequiredSecp256k1$2||(hasRequiredSecp256k1$2=1,secp256k1$2={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}),secp256k1$2}var hasRequiredCurves$1;function requireCurves$1(){return hasRequiredCurves$1||(hasRequiredCurves$1=1,function(a){var _=a,$=hash$4,j=requireCurve$1(),et=requireUtils$1(),tt=et.assert;function rt(st){st.type==="short"?this.curve=new j.short(st):st.type==="edwards"?this.curve=new j.edwards(st):this.curve=new j.mont(st),this.g=this.curve.g,this.n=this.curve.n,this.hash=st.hash,tt(this.g.validate(),"Invalid curve"),tt(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}_.PresetCurve=rt;function nt(st,ot){Object.defineProperty(_,st,{configurable:!0,enumerable:!0,get:function(){var at=new rt(ot);return Object.defineProperty(_,st,{configurable:!0,enumerable:!0,value:at}),at}})}nt("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:$.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),nt("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:$.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),nt("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:$.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),nt("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:$.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),nt("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:$.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),nt("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:$.sha256,gRed:!1,g:["9"]}),nt("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:$.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var it;try{it=requireSecp256k1$2()}catch{it=void 0}nt("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:$.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",it]})}(curves$4)),curves$4}var hash$3=hash$4,utils$k=utils$v,assert$b=minimalisticAssert;function HmacDRBG$1(a){if(!(this instanceof HmacDRBG$1))return new HmacDRBG$1(a);this.hash=a.hash,this.predResist=!!a.predResist,this.outLen=this.hash.outSize,this.minEntropy=a.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var _=utils$k.toArray(a.entropy,a.entropyEnc||"hex"),$=utils$k.toArray(a.nonce,a.nonceEnc||"hex"),j=utils$k.toArray(a.pers,a.persEnc||"hex");assert$b(_.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(_,$,j)}var hmacDrbg=HmacDRBG$1;HmacDRBG$1.prototype._init=function(_,$,j){var et=_.concat($).concat(j);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var tt=0;tt<this.V.length;tt++)this.K[tt]=0,this.V[tt]=1;this._update(et),this._reseed=1,this.reseedInterval=281474976710656};HmacDRBG$1.prototype._hmac=function(){return new hash$3.hmac(this.hash,this.K)};HmacDRBG$1.prototype._update=function(_){var $=this._hmac().update(this.V).update([0]);_&&($=$.update(_)),this.K=$.digest(),this.V=this._hmac().update(this.V).digest(),_&&(this.K=this._hmac().update(this.V).update([1]).update(_).digest(),this.V=this._hmac().update(this.V).digest())};HmacDRBG$1.prototype.reseed=function(_,$,j,et){typeof $!="string"&&(et=j,j=$,$=null),_=utils$k.toArray(_,$),j=utils$k.toArray(j,et),assert$b(_.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(_.concat(j||[])),this._reseed=1};HmacDRBG$1.prototype.generate=function(_,$,j,et){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof $!="string"&&(et=j,j=$,$=null),j&&(j=utils$k.toArray(j,et||"hex"),this._update(j));for(var tt=[];tt.length<_;)this.V=this._hmac().update(this.V).digest(),tt=tt.concat(this.V);var rt=tt.slice(0,_);return this._update(j),this._reseed++,utils$k.encode(rt,$)};var key$5,hasRequiredKey$3;function requireKey$3(){if(hasRequiredKey$3)return key$5;hasRequiredKey$3=1;var a=requireBn$1(),_=requireUtils$1(),$=_.assert;function j(et,tt){this.ec=et,this.priv=null,this.pub=null,tt.priv&&this._importPrivate(tt.priv,tt.privEnc),tt.pub&&this._importPublic(tt.pub,tt.pubEnc)}return key$5=j,j.fromPublic=function(tt,rt,nt){return rt instanceof j?rt:new j(tt,{pub:rt,pubEnc:nt})},j.fromPrivate=function(tt,rt,nt){return rt instanceof j?rt:new j(tt,{priv:rt,privEnc:nt})},j.prototype.validate=function(){var tt=this.getPublic();return tt.isInfinity()?{result:!1,reason:"Invalid public key"}:tt.validate()?tt.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},j.prototype.getPublic=function(tt,rt){return typeof tt=="string"&&(rt=tt,tt=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),rt?this.pub.encode(rt,tt):this.pub},j.prototype.getPrivate=function(tt){return tt==="hex"?this.priv.toString(16,2):this.priv},j.prototype._importPrivate=function(tt,rt){this.priv=new a(tt,rt||16),this.priv=this.priv.umod(this.ec.curve.n)},j.prototype._importPublic=function(tt,rt){if(tt.x||tt.y){this.ec.curve.type==="mont"?$(tt.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&$(tt.x&&tt.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(tt.x,tt.y);return}this.pub=this.ec.curve.decodePoint(tt,rt)},j.prototype.derive=function(tt){return tt.validate()||$(tt.validate(),"public point not validated"),tt.mul(this.priv).getX()},j.prototype.sign=function(tt,rt,nt){return this.ec.sign(tt,this,rt,nt)},j.prototype.verify=function(tt,rt){return this.ec.verify(tt,rt,this)},j.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"},key$5}var signature$5,hasRequiredSignature$3;function requireSignature$3(){if(hasRequiredSignature$3)return signature$5;hasRequiredSignature$3=1;var a=requireBn$1(),_=requireUtils$1(),$=_.assert;function j(it,st){if(it instanceof j)return it;this._importDER(it,st)||($(it.r&&it.s,"Signature without r or s"),this.r=new a(it.r,16),this.s=new a(it.s,16),it.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=it.recoveryParam)}signature$5=j;function et(){this.place=0}function tt(it,st){var ot=it[st.place++];if(!(ot&128))return ot;var at=ot&15;if(at===0||at>4)return!1;for(var ut=0,ht=0,yt=st.place;ht<at;ht++,yt++)ut<<=8,ut|=it[yt],ut>>>=0;return ut<=127?!1:(st.place=yt,ut)}function rt(it){for(var st=0,ot=it.length-1;!it[st]&&!(it[st+1]&128)&&st<ot;)st++;return st===0?it:it.slice(st)}j.prototype._importDER=function(st,ot){st=_.toArray(st,ot);var at=new et;if(st[at.place++]!==48)return!1;var ut=tt(st,at);if(ut===!1||ut+at.place!==st.length||st[at.place++]!==2)return!1;var ht=tt(st,at);if(ht===!1)return!1;var yt=st.slice(at.place,ht+at.place);if(at.place+=ht,st[at.place++]!==2)return!1;var wt=tt(st,at);if(wt===!1||st.length!==wt+at.place)return!1;var Ct=st.slice(at.place,wt+at.place);if(yt[0]===0)if(yt[1]&128)yt=yt.slice(1);else return!1;if(Ct[0]===0)if(Ct[1]&128)Ct=Ct.slice(1);else return!1;return this.r=new a(yt),this.s=new a(Ct),this.recoveryParam=null,!0};function nt(it,st){if(st<128){it.push(st);return}var ot=1+(Math.log(st)/Math.LN2>>>3);for(it.push(ot|128);--ot;)it.push(st>>>(ot<<3)&255);it.push(st)}return j.prototype.toDER=function(st){var ot=this.r.toArray(),at=this.s.toArray();for(ot[0]&128&&(ot=[0].concat(ot)),at[0]&128&&(at=[0].concat(at)),ot=rt(ot),at=rt(at);!at[0]&&!(at[1]&128);)at=at.slice(1);var ut=[2];nt(ut,ot.length),ut=ut.concat(ot),ut.push(2),nt(ut,at.length);var ht=ut.concat(at),yt=[48];return nt(yt,ht.length),yt=yt.concat(ht),_.encode(yt,st)},signature$5}var ec$5,hasRequiredEc$1;function requireEc$1(){if(hasRequiredEc$1)return ec$5;hasRequiredEc$1=1;var a=requireBn$1(),_=hmacDrbg,$=requireUtils$1(),j=requireCurves$1(),et=requireBrorand(),tt=$.assert,rt=requireKey$3(),nt=requireSignature$3();function it(st){if(!(this instanceof it))return new it(st);typeof st=="string"&&(tt(Object.prototype.hasOwnProperty.call(j,st),"Unknown curve "+st),st=j[st]),st instanceof j.PresetCurve&&(st={curve:st}),this.curve=st.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=st.curve.g,this.g.precompute(st.curve.n.bitLength()+1),this.hash=st.hash||st.curve.hash}return ec$5=it,it.prototype.keyPair=function(ot){return new rt(this,ot)},it.prototype.keyFromPrivate=function(ot,at){return rt.fromPrivate(this,ot,at)},it.prototype.keyFromPublic=function(ot,at){return rt.fromPublic(this,ot,at)},it.prototype.genKeyPair=function(ot){ot||(ot={});for(var at=new _({hash:this.hash,pers:ot.pers,persEnc:ot.persEnc||"utf8",entropy:ot.entropy||et(this.hash.hmacStrength),entropyEnc:ot.entropy&&ot.entropyEnc||"utf8",nonce:this.n.toArray()}),ut=this.n.byteLength(),ht=this.n.sub(new a(2));;){var yt=new a(at.generate(ut));if(!(yt.cmp(ht)>0))return yt.iaddn(1),this.keyFromPrivate(yt)}},it.prototype._truncateToN=function(ot,at){var ut=ot.byteLength()*8-this.n.bitLength();return ut>0&&(ot=ot.ushrn(ut)),!at&&ot.cmp(this.n)>=0?ot.sub(this.n):ot},it.prototype.sign=function(ot,at,ut,ht){typeof ut=="object"&&(ht=ut,ut=null),ht||(ht={}),at=this.keyFromPrivate(at,ut),ot=this._truncateToN(new a(ot,16));for(var yt=this.n.byteLength(),wt=at.getPrivate().toArray("be",yt),Ct=ot.toArray("be",yt),Pt=new _({hash:this.hash,entropy:wt,nonce:Ct,pers:ht.pers,persEnc:ht.persEnc||"utf8"}),Tt=this.n.sub(new a(1)),Mt=0;;Mt++){var Lt=ht.k?ht.k(Mt):new a(Pt.generate(this.n.byteLength()));if(Lt=this._truncateToN(Lt,!0),!(Lt.cmpn(1)<=0||Lt.cmp(Tt)>=0)){var Dt=this.g.mul(Lt);if(!Dt.isInfinity()){var Ut=Dt.getX(),Ot=Ut.umod(this.n);if(Ot.cmpn(0)!==0){var It=Lt.invm(this.n).mul(Ot.mul(at.getPrivate()).iadd(ot));if(It=It.umod(this.n),It.cmpn(0)!==0){var Bt=(Dt.getY().isOdd()?1:0)|(Ut.cmp(Ot)!==0?2:0);return ht.canonical&&It.cmp(this.nh)>0&&(It=this.n.sub(It),Bt^=1),new nt({r:Ot,s:It,recoveryParam:Bt})}}}}}},it.prototype.verify=function(ot,at,ut,ht){ot=this._truncateToN(new a(ot,16)),ut=this.keyFromPublic(ut,ht),at=new nt(at,"hex");var yt=at.r,wt=at.s;if(yt.cmpn(1)<0||yt.cmp(this.n)>=0||wt.cmpn(1)<0||wt.cmp(this.n)>=0)return!1;var Ct=wt.invm(this.n),Pt=Ct.mul(ot).umod(this.n),Tt=Ct.mul(yt).umod(this.n),Mt;return this.curve._maxwellTrick?(Mt=this.g.jmulAdd(Pt,ut.getPublic(),Tt),Mt.isInfinity()?!1:Mt.eqXToP(yt)):(Mt=this.g.mulAdd(Pt,ut.getPublic(),Tt),Mt.isInfinity()?!1:Mt.getX().umod(this.n).cmp(yt)===0)},it.prototype.recoverPubKey=function(st,ot,at,ut){tt((3&at)===at,"The recovery param is more than two bits"),ot=new nt(ot,ut);var ht=this.n,yt=new a(st),wt=ot.r,Ct=ot.s,Pt=at&1,Tt=at>>1;if(wt.cmp(this.curve.p.umod(this.curve.n))>=0&&Tt)throw new Error("Unable to find sencond key candinate");Tt?wt=this.curve.pointFromX(wt.add(this.curve.n),Pt):wt=this.curve.pointFromX(wt,Pt);var Mt=ot.r.invm(ht),Lt=ht.sub(yt).mul(Mt).umod(ht),Dt=Ct.mul(Mt).umod(ht);return this.g.mulAdd(Lt,wt,Dt)},it.prototype.getKeyRecoveryParam=function(st,ot,at,ut){if(ot=new nt(ot,ut),ot.recoveryParam!==null)return ot.recoveryParam;for(var ht=0;ht<4;ht++){var yt;try{yt=this.recoverPubKey(st,ot,ht)}catch{continue}if(yt.eq(at))return ht}throw new Error("Unable to find valid recovery factor")},ec$5}var key$4,hasRequiredKey$2;function requireKey$2(){if(hasRequiredKey$2)return key$4;hasRequiredKey$2=1;var a=requireUtils$1(),_=a.assert,$=a.parseBytes,j=a.cachedProperty;function et(tt,rt){this.eddsa=tt,this._secret=$(rt.secret),tt.isPoint(rt.pub)?this._pub=rt.pub:this._pubBytes=$(rt.pub)}return et.fromPublic=function(rt,nt){return nt instanceof et?nt:new et(rt,{pub:nt})},et.fromSecret=function(rt,nt){return nt instanceof et?nt:new et(rt,{secret:nt})},et.prototype.secret=function(){return this._secret},j(et,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),j(et,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),j(et,"privBytes",function(){var rt=this.eddsa,nt=this.hash(),it=rt.encodingLength-1,st=nt.slice(0,rt.encodingLength);return st[0]&=248,st[it]&=127,st[it]|=64,st}),j(et,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),j(et,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),j(et,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),et.prototype.sign=function(rt){return _(this._secret,"KeyPair can only verify"),this.eddsa.sign(rt,this)},et.prototype.verify=function(rt,nt){return this.eddsa.verify(rt,nt,this)},et.prototype.getSecret=function(rt){return _(this._secret,"KeyPair is public only"),a.encode(this.secret(),rt)},et.prototype.getPublic=function(rt){return a.encode(this.pubBytes(),rt)},key$4=et,key$4}var signature$4,hasRequiredSignature$2;function requireSignature$2(){if(hasRequiredSignature$2)return signature$4;hasRequiredSignature$2=1;var a=requireBn$1(),_=requireUtils$1(),$=_.assert,j=_.cachedProperty,et=_.parseBytes;function tt(rt,nt){this.eddsa=rt,typeof nt!="object"&&(nt=et(nt)),Array.isArray(nt)&&(nt={R:nt.slice(0,rt.encodingLength),S:nt.slice(rt.encodingLength)}),$(nt.R&&nt.S,"Signature without R or S"),rt.isPoint(nt.R)&&(this._R=nt.R),nt.S instanceof a&&(this._S=nt.S),this._Rencoded=Array.isArray(nt.R)?nt.R:nt.Rencoded,this._Sencoded=Array.isArray(nt.S)?nt.S:nt.Sencoded}return j(tt,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),j(tt,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),j(tt,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),j(tt,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),tt.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},tt.prototype.toHex=function(){return _.encode(this.toBytes(),"hex").toUpperCase()},signature$4=tt,signature$4}var eddsa$2,hasRequiredEddsa$1;function requireEddsa$1(){if(hasRequiredEddsa$1)return eddsa$2;hasRequiredEddsa$1=1;var a=hash$4,_=requireCurves$1(),$=requireUtils$1(),j=$.assert,et=$.parseBytes,tt=requireKey$2(),rt=requireSignature$2();function nt(it){if(j(it==="ed25519","only tested with ed25519 so far"),!(this instanceof nt))return new nt(it);it=_[it].curve,this.curve=it,this.g=it.g,this.g.precompute(it.n.bitLength()+1),this.pointClass=it.point().constructor,this.encodingLength=Math.ceil(it.n.bitLength()/8),this.hash=a.sha512}return eddsa$2=nt,nt.prototype.sign=function(st,ot){st=et(st);var at=this.keyFromSecret(ot),ut=this.hashInt(at.messagePrefix(),st),ht=this.g.mul(ut),yt=this.encodePoint(ht),wt=this.hashInt(yt,at.pubBytes(),st).mul(at.priv()),Ct=ut.add(wt).umod(this.curve.n);return this.makeSignature({R:ht,S:Ct,Rencoded:yt})},nt.prototype.verify=function(st,ot,at){st=et(st),ot=this.makeSignature(ot);var ut=this.keyFromPublic(at),ht=this.hashInt(ot.Rencoded(),ut.pubBytes(),st),yt=this.g.mul(ot.S()),wt=ot.R().add(ut.pub().mul(ht));return wt.eq(yt)},nt.prototype.hashInt=function(){for(var st=this.hash(),ot=0;ot<arguments.length;ot++)st.update(arguments[ot]);return $.intFromLE(st.digest()).umod(this.curve.n)},nt.prototype.keyFromPublic=function(st){return tt.fromPublic(this,st)},nt.prototype.keyFromSecret=function(st){return tt.fromSecret(this,st)},nt.prototype.makeSignature=function(st){return st instanceof rt?st:new rt(this,st)},nt.prototype.encodePoint=function(st){var ot=st.getY().toArray("le",this.encodingLength);return ot[this.encodingLength-1]|=st.getX().isOdd()?128:0,ot},nt.prototype.decodePoint=function(st){st=$.parseBytes(st);var ot=st.length-1,at=st.slice(0,ot).concat(st[ot]&-129),ut=(st[ot]&128)!==0,ht=$.intFromLE(at);return this.curve.pointFromY(ht,ut)},nt.prototype.encodeInt=function(st){return st.toArray("le",this.encodingLength)},nt.prototype.decodeInt=function(st){return $.intFromLE(st)},nt.prototype.isPoint=function(st){return st instanceof this.pointClass},eddsa$2}var hasRequiredElliptic$1;function requireElliptic$1(){return hasRequiredElliptic$1||(hasRequiredElliptic$1=1,function(a){var _=a;_.version=require$$0$3.version,_.utils=requireUtils$1(),_.rand=requireBrorand(),_.curve=requireCurve$1(),_.curves=requireCurves$1(),_.ec=requireEc$1(),_.eddsa=requireEddsa$1()}(elliptic$3)),elliptic$3}var bn$1={exports:{}};bn$1.exports;var hasRequiredBn;function requireBn(){return hasRequiredBn||(hasRequiredBn=1,function(a){(function(_,$){function j(vt,ct){if(!vt)throw new Error(ct||"Assertion failed")}function et(vt,ct){vt.super_=ct;var dt=function(){};dt.prototype=ct.prototype,vt.prototype=new dt,vt.prototype.constructor=vt}function tt(vt,ct,dt){if(tt.isBN(vt))return vt;this.negative=0,this.words=null,this.length=0,this.red=null,vt!==null&&((ct==="le"||ct==="be")&&(dt=ct,ct=10),this._init(vt||0,ct||10,dt||"be"))}typeof _=="object"?_.exports=tt:$.BN=tt,tt.BN=tt,tt.wordSize=26;var rt;try{typeof window<"u"&&typeof window.Buffer<"u"?rt=window.Buffer:rt=require$$0$4.Buffer}catch{}tt.isBN=function(ct){return ct instanceof tt?!0:ct!==null&&typeof ct=="object"&&ct.constructor.wordSize===tt.wordSize&&Array.isArray(ct.words)},tt.max=function(ct,dt){return ct.cmp(dt)>0?ct:dt},tt.min=function(ct,dt){return ct.cmp(dt)<0?ct:dt},tt.prototype._init=function(ct,dt,mt){if(typeof ct=="number")return this._initNumber(ct,dt,mt);if(typeof ct=="object")return this._initArray(ct,dt,mt);dt==="hex"&&(dt=16),j(dt===(dt|0)&&dt>=2&&dt<=36),ct=ct.toString().replace(/\s+/g,"");var xt=0;ct[0]==="-"&&(xt++,this.negative=1),xt<ct.length&&(dt===16?this._parseHex(ct,xt,mt):(this._parseBase(ct,dt,xt),mt==="le"&&this._initArray(this.toArray(),dt,mt)))},tt.prototype._initNumber=function(ct,dt,mt){ct<0&&(this.negative=1,ct=-ct),ct<67108864?(this.words=[ct&67108863],this.length=1):ct<4503599627370496?(this.words=[ct&67108863,ct/67108864&67108863],this.length=2):(j(ct<9007199254740992),this.words=[ct&67108863,ct/67108864&67108863,1],this.length=3),mt==="le"&&this._initArray(this.toArray(),dt,mt)},tt.prototype._initArray=function(ct,dt,mt){if(j(typeof ct.length=="number"),ct.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(ct.length/3),this.words=new Array(this.length);for(var xt=0;xt<this.length;xt++)this.words[xt]=0;var At,Rt,St=0;if(mt==="be")for(xt=ct.length-1,At=0;xt>=0;xt-=3)Rt=ct[xt]|ct[xt-1]<<8|ct[xt-2]<<16,this.words[At]|=Rt<<St&67108863,this.words[At+1]=Rt>>>26-St&67108863,St+=24,St>=26&&(St-=26,At++);else if(mt==="le")for(xt=0,At=0;xt<ct.length;xt+=3)Rt=ct[xt]|ct[xt+1]<<8|ct[xt+2]<<16,this.words[At]|=Rt<<St&67108863,this.words[At+1]=Rt>>>26-St&67108863,St+=24,St>=26&&(St-=26,At++);return this._strip()};function nt(vt,ct){var dt=vt.charCodeAt(ct);if(dt>=48&&dt<=57)return dt-48;if(dt>=65&&dt<=70)return dt-55;if(dt>=97&&dt<=102)return dt-87;j(!1,"Invalid character in "+vt)}function it(vt,ct,dt){var mt=nt(vt,dt);return dt-1>=ct&&(mt|=nt(vt,dt-1)<<4),mt}tt.prototype._parseHex=function(ct,dt,mt){this.length=Math.ceil((ct.length-dt)/6),this.words=new Array(this.length);for(var xt=0;xt<this.length;xt++)this.words[xt]=0;var At=0,Rt=0,St;if(mt==="be")for(xt=ct.length-1;xt>=dt;xt-=2)St=it(ct,dt,xt)<<At,this.words[Rt]|=St&67108863,At>=18?(At-=18,Rt+=1,this.words[Rt]|=St>>>26):At+=8;else{var $t=ct.length-dt;for(xt=$t%2===0?dt+1:dt;xt<ct.length;xt+=2)St=it(ct,dt,xt)<<At,this.words[Rt]|=St&67108863,At>=18?(At-=18,Rt+=1,this.words[Rt]|=St>>>26):At+=8}this._strip()};function st(vt,ct,dt,mt){for(var xt=0,At=0,Rt=Math.min(vt.length,dt),St=ct;St<Rt;St++){var $t=vt.charCodeAt(St)-48;xt*=mt,$t>=49?At=$t-49+10:$t>=17?At=$t-17+10:At=$t,j($t>=0&&At<mt,"Invalid character"),xt+=At}return xt}tt.prototype._parseBase=function(ct,dt,mt){this.words=[0],this.length=1;for(var xt=0,At=1;At<=67108863;At*=dt)xt++;xt--,At=At/dt|0;for(var Rt=ct.length-mt,St=Rt%xt,$t=Math.min(Rt,Rt-St)+mt,Et=0,Nt=mt;Nt<$t;Nt+=xt)Et=st(ct,Nt,Nt+xt,dt),this.imuln(At),this.words[0]+Et<67108864?this.words[0]+=Et:this._iaddn(Et);if(St!==0){var tr=1;for(Et=st(ct,Nt,ct.length,dt),Nt=0;Nt<St;Nt++)tr*=dt;this.imuln(tr),this.words[0]+Et<67108864?this.words[0]+=Et:this._iaddn(Et)}this._strip()},tt.prototype.copy=function(ct){ct.words=new Array(this.length);for(var dt=0;dt<this.length;dt++)ct.words[dt]=this.words[dt];ct.length=this.length,ct.negative=this.negative,ct.red=this.red};function ot(vt,ct){vt.words=ct.words,vt.length=ct.length,vt.negative=ct.negative,vt.red=ct.red}if(tt.prototype._move=function(ct){ot(ct,this)},tt.prototype.clone=function(){var ct=new tt(null);return this.copy(ct),ct},tt.prototype._expand=function(ct){for(;this.length<ct;)this.words[this.length++]=0;return this},tt.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},tt.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{tt.prototype[Symbol.for("nodejs.util.inspect.custom")]=at}catch{tt.prototype.inspect=at}else tt.prototype.inspect=at;function at(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var ut=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],ht=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],yt=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];tt.prototype.toString=function(ct,dt){ct=ct||10,dt=dt|0||1;var mt;if(ct===16||ct==="hex"){mt="";for(var xt=0,At=0,Rt=0;Rt<this.length;Rt++){var St=this.words[Rt],$t=((St<<xt|At)&16777215).toString(16);At=St>>>24-xt&16777215,xt+=2,xt>=26&&(xt-=26,Rt--),At!==0||Rt!==this.length-1?mt=ut[6-$t.length]+$t+mt:mt=$t+mt}for(At!==0&&(mt=At.toString(16)+mt);mt.length%dt!==0;)mt="0"+mt;return this.negative!==0&&(mt="-"+mt),mt}if(ct===(ct|0)&&ct>=2&&ct<=36){var Et=ht[ct],Nt=yt[ct];mt="";var tr=this.clone();for(tr.negative=0;!tr.isZero();){var ir=tr.modrn(Nt).toString(ct);tr=tr.idivn(Nt),tr.isZero()?mt=ir+mt:mt=ut[Et-ir.length]+ir+mt}for(this.isZero()&&(mt="0"+mt);mt.length%dt!==0;)mt="0"+mt;return this.negative!==0&&(mt="-"+mt),mt}j(!1,"Base should be between 2 and 36")},tt.prototype.toNumber=function(){var ct=this.words[0];return this.length===2?ct+=this.words[1]*67108864:this.length===3&&this.words[2]===1?ct+=4503599627370496+this.words[1]*67108864:this.length>2&&j(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-ct:ct},tt.prototype.toJSON=function(){return this.toString(16,2)},rt&&(tt.prototype.toBuffer=function(ct,dt){return this.toArrayLike(rt,ct,dt)}),tt.prototype.toArray=function(ct,dt){return this.toArrayLike(Array,ct,dt)};var wt=function(ct,dt){return ct.allocUnsafe?ct.allocUnsafe(dt):new ct(dt)};tt.prototype.toArrayLike=function(ct,dt,mt){this._strip();var xt=this.byteLength(),At=mt||Math.max(1,xt);j(xt<=At,"byte array longer than desired length"),j(At>0,"Requested array length <= 0");var Rt=wt(ct,At),St=dt==="le"?"LE":"BE";return this["_toArrayLike"+St](Rt,xt),Rt},tt.prototype._toArrayLikeLE=function(ct,dt){for(var mt=0,xt=0,At=0,Rt=0;At<this.length;At++){var St=this.words[At]<<Rt|xt;ct[mt++]=St&255,mt<ct.length&&(ct[mt++]=St>>8&255),mt<ct.length&&(ct[mt++]=St>>16&255),Rt===6?(mt<ct.length&&(ct[mt++]=St>>24&255),xt=0,Rt=0):(xt=St>>>24,Rt+=2)}if(mt<ct.length)for(ct[mt++]=xt;mt<ct.length;)ct[mt++]=0},tt.prototype._toArrayLikeBE=function(ct,dt){for(var mt=ct.length-1,xt=0,At=0,Rt=0;At<this.length;At++){var St=this.words[At]<<Rt|xt;ct[mt--]=St&255,mt>=0&&(ct[mt--]=St>>8&255),mt>=0&&(ct[mt--]=St>>16&255),Rt===6?(mt>=0&&(ct[mt--]=St>>24&255),xt=0,Rt=0):(xt=St>>>24,Rt+=2)}if(mt>=0)for(ct[mt--]=xt;mt>=0;)ct[mt--]=0},Math.clz32?tt.prototype._countBits=function(ct){return 32-Math.clz32(ct)}:tt.prototype._countBits=function(ct){var dt=ct,mt=0;return dt>=4096&&(mt+=13,dt>>>=13),dt>=64&&(mt+=7,dt>>>=7),dt>=8&&(mt+=4,dt>>>=4),dt>=2&&(mt+=2,dt>>>=2),mt+dt},tt.prototype._zeroBits=function(ct){if(ct===0)return 26;var dt=ct,mt=0;return dt&8191||(mt+=13,dt>>>=13),dt&127||(mt+=7,dt>>>=7),dt&15||(mt+=4,dt>>>=4),dt&3||(mt+=2,dt>>>=2),dt&1||mt++,mt},tt.prototype.bitLength=function(){var ct=this.words[this.length-1],dt=this._countBits(ct);return(this.length-1)*26+dt};function Ct(vt){for(var ct=new Array(vt.bitLength()),dt=0;dt<ct.length;dt++){var mt=dt/26|0,xt=dt%26;ct[dt]=vt.words[mt]>>>xt&1}return ct}tt.prototype.zeroBits=function(){if(this.isZero())return 0;for(var ct=0,dt=0;dt<this.length;dt++){var mt=this._zeroBits(this.words[dt]);if(ct+=mt,mt!==26)break}return ct},tt.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},tt.prototype.toTwos=function(ct){return this.negative!==0?this.abs().inotn(ct).iaddn(1):this.clone()},tt.prototype.fromTwos=function(ct){return this.testn(ct-1)?this.notn(ct).iaddn(1).ineg():this.clone()},tt.prototype.isNeg=function(){return this.negative!==0},tt.prototype.neg=function(){return this.clone().ineg()},tt.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},tt.prototype.iuor=function(ct){for(;this.length<ct.length;)this.words[this.length++]=0;for(var dt=0;dt<ct.length;dt++)this.words[dt]=this.words[dt]|ct.words[dt];return this._strip()},tt.prototype.ior=function(ct){return j((this.negative|ct.negative)===0),this.iuor(ct)},tt.prototype.or=function(ct){return this.length>ct.length?this.clone().ior(ct):ct.clone().ior(this)},tt.prototype.uor=function(ct){return this.length>ct.length?this.clone().iuor(ct):ct.clone().iuor(this)},tt.prototype.iuand=function(ct){var dt;this.length>ct.length?dt=ct:dt=this;for(var mt=0;mt<dt.length;mt++)this.words[mt]=this.words[mt]&ct.words[mt];return this.length=dt.length,this._strip()},tt.prototype.iand=function(ct){return j((this.negative|ct.negative)===0),this.iuand(ct)},tt.prototype.and=function(ct){return this.length>ct.length?this.clone().iand(ct):ct.clone().iand(this)},tt.prototype.uand=function(ct){return this.length>ct.length?this.clone().iuand(ct):ct.clone().iuand(this)},tt.prototype.iuxor=function(ct){var dt,mt;this.length>ct.length?(dt=this,mt=ct):(dt=ct,mt=this);for(var xt=0;xt<mt.length;xt++)this.words[xt]=dt.words[xt]^mt.words[xt];if(this!==dt)for(;xt<dt.length;xt++)this.words[xt]=dt.words[xt];return this.length=dt.length,this._strip()},tt.prototype.ixor=function(ct){return j((this.negative|ct.negative)===0),this.iuxor(ct)},tt.prototype.xor=function(ct){return this.length>ct.length?this.clone().ixor(ct):ct.clone().ixor(this)},tt.prototype.uxor=function(ct){return this.length>ct.length?this.clone().iuxor(ct):ct.clone().iuxor(this)},tt.prototype.inotn=function(ct){j(typeof ct=="number"&&ct>=0);var dt=Math.ceil(ct/26)|0,mt=ct%26;this._expand(dt),mt>0&&dt--;for(var xt=0;xt<dt;xt++)this.words[xt]=~this.words[xt]&67108863;return mt>0&&(this.words[xt]=~this.words[xt]&67108863>>26-mt),this._strip()},tt.prototype.notn=function(ct){return this.clone().inotn(ct)},tt.prototype.setn=function(ct,dt){j(typeof ct=="number"&&ct>=0);var mt=ct/26|0,xt=ct%26;return this._expand(mt+1),dt?this.words[mt]=this.words[mt]|1<<xt:this.words[mt]=this.words[mt]&~(1<<xt),this._strip()},tt.prototype.iadd=function(ct){var dt;if(this.negative!==0&&ct.negative===0)return this.negative=0,dt=this.isub(ct),this.negative^=1,this._normSign();if(this.negative===0&&ct.negative!==0)return ct.negative=0,dt=this.isub(ct),ct.negative=1,dt._normSign();var mt,xt;this.length>ct.length?(mt=this,xt=ct):(mt=ct,xt=this);for(var At=0,Rt=0;Rt<xt.length;Rt++)dt=(mt.words[Rt]|0)+(xt.words[Rt]|0)+At,this.words[Rt]=dt&67108863,At=dt>>>26;for(;At!==0&&Rt<mt.length;Rt++)dt=(mt.words[Rt]|0)+At,this.words[Rt]=dt&67108863,At=dt>>>26;if(this.length=mt.length,At!==0)this.words[this.length]=At,this.length++;else if(mt!==this)for(;Rt<mt.length;Rt++)this.words[Rt]=mt.words[Rt];return this},tt.prototype.add=function(ct){var dt;return ct.negative!==0&&this.negative===0?(ct.negative=0,dt=this.sub(ct),ct.negative^=1,dt):ct.negative===0&&this.negative!==0?(this.negative=0,dt=ct.sub(this),this.negative=1,dt):this.length>ct.length?this.clone().iadd(ct):ct.clone().iadd(this)},tt.prototype.isub=function(ct){if(ct.negative!==0){ct.negative=0;var dt=this.iadd(ct);return ct.negative=1,dt._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(ct),this.negative=1,this._normSign();var mt=this.cmp(ct);if(mt===0)return this.negative=0,this.length=1,this.words[0]=0,this;var xt,At;mt>0?(xt=this,At=ct):(xt=ct,At=this);for(var Rt=0,St=0;St<At.length;St++)dt=(xt.words[St]|0)-(At.words[St]|0)+Rt,Rt=dt>>26,this.words[St]=dt&67108863;for(;Rt!==0&&St<xt.length;St++)dt=(xt.words[St]|0)+Rt,Rt=dt>>26,this.words[St]=dt&67108863;if(Rt===0&&St<xt.length&&xt!==this)for(;St<xt.length;St++)this.words[St]=xt.words[St];return this.length=Math.max(this.length,St),xt!==this&&(this.negative=1),this._strip()},tt.prototype.sub=function(ct){return this.clone().isub(ct)};function Pt(vt,ct,dt){dt.negative=ct.negative^vt.negative;var mt=vt.length+ct.length|0;dt.length=mt,mt=mt-1|0;var xt=vt.words[0]|0,At=ct.words[0]|0,Rt=xt*At,St=Rt&67108863,$t=Rt/67108864|0;dt.words[0]=St;for(var Et=1;Et<mt;Et++){for(var Nt=$t>>>26,tr=$t&67108863,ir=Math.min(Et,ct.length-1),nr=Math.max(0,Et-vt.length+1);nr<=ir;nr++){var Zt=Et-nr|0;xt=vt.words[Zt]|0,At=ct.words[nr]|0,Rt=xt*At+tr,Nt+=Rt/67108864|0,tr=Rt&67108863}dt.words[Et]=tr|0,$t=Nt|0}return $t!==0?dt.words[Et]=$t|0:dt.length--,dt._strip()}var Tt=function(ct,dt,mt){var xt=ct.words,At=dt.words,Rt=mt.words,St=0,$t,Et,Nt,tr=xt[0]|0,ir=tr&8191,nr=tr>>>13,Zt=xt[1]|0,Kt=Zt&8191,Qt=Zt>>>13,Ht=xt[2]|0,qt=Ht&8191,Jt=Ht>>>13,ur=xt[3]|0,xr=ur&8191,pr=ur>>>13,Cr=xt[4]|0,Mr=Cr&8191,lr=Cr>>>13,fr=xt[5]|0,_r=fr&8191,Rr=fr>>>13,kr=xt[6]|0,Ar=kr&8191,Pr=kr>>>13,Or=xt[7]|0,Lr=Or&8191,or=Or>>>13,Yt=xt[8]|0,er=Yt&8191,Gt=Yt>>>13,Vt=xt[9]|0,Wt=Vt&8191,ar=Vt>>>13,yr=At[0]|0,Er=yr&8191,Sr=yr>>>13,Wr=At[1]|0,Hr=Wr&8191,Fr=Wr>>>13,pn=At[2]|0,Jr=pn&8191,Qr=pn>>>13,mn=At[3]|0,ln=mn&8191,qr=mn>>>13,En=At[4]|0,un=En&8191,Vr=En>>>13,hn=At[5]|0,fn=hn&8191,Kr=hn>>>13,Rn=At[6]|0,dn=Rn&8191,Gr=Rn>>>13,gn=At[7]|0,an=gn&8191,Zr=gn>>>13,An=At[8]|0,Sn=An&8191,nn=An>>>13,Pn=At[9]|0,yn=Pn&8191,_n=Pn>>>13;mt.negative=ct.negative^dt.negative,mt.length=19,$t=Math.imul(ir,Er),Et=Math.imul(ir,Sr),Et=Et+Math.imul(nr,Er)|0,Nt=Math.imul(nr,Sr);var ds=(St+$t|0)+((Et&8191)<<13)|0;St=(Nt+(Et>>>13)|0)+(ds>>>26)|0,ds&=67108863,$t=Math.imul(Kt,Er),Et=Math.imul(Kt,Sr),Et=Et+Math.imul(Qt,Er)|0,Nt=Math.imul(Qt,Sr),$t=$t+Math.imul(ir,Hr)|0,Et=Et+Math.imul(ir,Fr)|0,Et=Et+Math.imul(nr,Hr)|0,Nt=Nt+Math.imul(nr,Fr)|0;var fs=(St+$t|0)+((Et&8191)<<13)|0;St=(Nt+(Et>>>13)|0)+(fs>>>26)|0,fs&=67108863,$t=Math.imul(qt,Er),Et=Math.imul(qt,Sr),Et=Et+Math.imul(Jt,Er)|0,Nt=Math.imul(Jt,Sr),$t=$t+Math.imul(Kt,Hr)|0,Et=Et+Math.imul(Kt,Fr)|0,Et=Et+Math.imul(Qt,Hr)|0,Nt=Nt+Math.imul(Qt,Fr)|0,$t=$t+Math.imul(ir,Jr)|0,Et=Et+Math.imul(ir,Qr)|0,Et=Et+Math.imul(nr,Jr)|0,Nt=Nt+Math.imul(nr,Qr)|0;var hs=(St+$t|0)+((Et&8191)<<13)|0;St=(Nt+(Et>>>13)|0)+(hs>>>26)|0,hs&=67108863,$t=Math.imul(xr,Er),Et=Math.imul(xr,Sr),Et=Et+Math.imul(pr,Er)|0,Nt=Math.imul(pr,Sr),$t=$t+Math.imul(qt,Hr)|0,Et=Et+Math.imul(qt,Fr)|0,Et=Et+Math.imul(Jt,Hr)|0,Nt=Nt+Math.imul(Jt,Fr)|0,$t=$t+Math.imul(Kt,Jr)|0,Et=Et+Math.imul(Kt,Qr)|0,Et=Et+Math.imul(Qt,Jr)|0,Nt=Nt+Math.imul(Qt,Qr)|0,$t=$t+Math.imul(ir,ln)|0,Et=Et+Math.imul(ir,qr)|0,Et=Et+Math.imul(nr,ln)|0,Nt=Nt+Math.imul(nr,qr)|0;var ps=(St+$t|0)+((Et&8191)<<13)|0;St=(Nt+(Et>>>13)|0)+(ps>>>26)|0,ps&=67108863,$t=Math.imul(Mr,Er),Et=Math.imul(Mr,Sr),Et=Et+Math.imul(lr,Er)|0,Nt=Math.imul(lr,Sr),$t=$t+Math.imul(xr,Hr)|0,Et=Et+Math.imul(xr,Fr)|0,Et=Et+Math.imul(pr,Hr)|0,Nt=Nt+Math.imul(pr,Fr)|0,$t=$t+Math.imul(qt,Jr)|0,Et=Et+Math.imul(qt,Qr)|0,Et=Et+Math.imul(Jt,Jr)|0,Nt=Nt+Math.imul(Jt,Qr)|0,$t=$t+Math.imul(Kt,ln)|0,Et=Et+Math.imul(Kt,qr)|0,Et=Et+Math.imul(Qt,ln)|0,Nt=Nt+Math.imul(Qt,qr)|0,$t=$t+Math.imul(ir,un)|0,Et=Et+Math.imul(ir,Vr)|0,Et=Et+Math.imul(nr,un)|0,Nt=Nt+Math.imul(nr,Vr)|0;var Vn=(St+$t|0)+((Et&8191)<<13)|0;St=(Nt+(Et>>>13)|0)+(Vn>>>26)|0,Vn&=67108863,$t=Math.imul(_r,Er),Et=Math.imul(_r,Sr),Et=Et+Math.imul(Rr,Er)|0,Nt=Math.imul(Rr,Sr),$t=$t+Math.imul(Mr,Hr)|0,Et=Et+Math.imul(Mr,Fr)|0,Et=Et+Math.imul(lr,Hr)|0,Nt=Nt+Math.imul(lr,Fr)|0,$t=$t+Math.imul(xr,Jr)|0,Et=Et+Math.imul(xr,Qr)|0,Et=Et+Math.imul(pr,Jr)|0,Nt=Nt+Math.imul(pr,Qr)|0,$t=$t+Math.imul(qt,ln)|0,Et=Et+Math.imul(qt,qr)|0,Et=Et+Math.imul(Jt,ln)|0,Nt=Nt+Math.imul(Jt,qr)|0,$t=$t+Math.imul(Kt,un)|0,Et=Et+Math.imul(Kt,Vr)|0,Et=Et+Math.imul(Qt,un)|0,Nt=Nt+Math.imul(Qt,Vr)|0,$t=$t+Math.imul(ir,fn)|0,Et=Et+Math.imul(ir,Kr)|0,Et=Et+Math.imul(nr,fn)|0,Nt=Nt+Math.imul(nr,Kr)|0;var ss=(St+$t|0)+((Et&8191)<<13)|0;St=(Nt+(Et>>>13)|0)+(ss>>>26)|0,ss&=67108863,$t=Math.imul(Ar,Er),Et=Math.imul(Ar,Sr),Et=Et+Math.imul(Pr,Er)|0,Nt=Math.imul(Pr,Sr),$t=$t+Math.imul(_r,Hr)|0,Et=Et+Math.imul(_r,Fr)|0,Et=Et+Math.imul(Rr,Hr)|0,Nt=Nt+Math.imul(Rr,Fr)|0,$t=$t+Math.imul(Mr,Jr)|0,Et=Et+Math.imul(Mr,Qr)|0,Et=Et+Math.imul(lr,Jr)|0,Nt=Nt+Math.imul(lr,Qr)|0,$t=$t+Math.imul(xr,ln)|0,Et=Et+Math.imul(xr,qr)|0,Et=Et+Math.imul(pr,ln)|0,Nt=Nt+Math.imul(pr,qr)|0,$t=$t+Math.imul(qt,un)|0,Et=Et+Math.imul(qt,Vr)|0,Et=Et+Math.imul(Jt,un)|0,Nt=Nt+Math.imul(Jt,Vr)|0,$t=$t+Math.imul(Kt,fn)|0,Et=Et+Math.imul(Kt,Kr)|0,Et=Et+Math.imul(Qt,fn)|0,Nt=Nt+Math.imul(Qt,Kr)|0,$t=$t+Math.imul(ir,dn)|0,Et=Et+Math.imul(ir,Gr)|0,Et=Et+Math.imul(nr,dn)|0,Nt=Nt+Math.imul(nr,Gr)|0;var Jn=(St+$t|0)+((Et&8191)<<13)|0;St=(Nt+(Et>>>13)|0)+(Jn>>>26)|0,Jn&=67108863,$t=Math.imul(Lr,Er),Et=Math.imul(Lr,Sr),Et=Et+Math.imul(or,Er)|0,Nt=Math.imul(or,Sr),$t=$t+Math.imul(Ar,Hr)|0,Et=Et+Math.imul(Ar,Fr)|0,Et=Et+Math.imul(Pr,Hr)|0,Nt=Nt+Math.imul(Pr,Fr)|0,$t=$t+Math.imul(_r,Jr)|0,Et=Et+Math.imul(_r,Qr)|0,Et=Et+Math.imul(Rr,Jr)|0,Nt=Nt+Math.imul(Rr,Qr)|0,$t=$t+Math.imul(Mr,ln)|0,Et=Et+Math.imul(Mr,qr)|0,Et=Et+Math.imul(lr,ln)|0,Nt=Nt+Math.imul(lr,qr)|0,$t=$t+Math.imul(xr,un)|0,Et=Et+Math.imul(xr,Vr)|0,Et=Et+Math.imul(pr,un)|0,Nt=Nt+Math.imul(pr,Vr)|0,$t=$t+Math.imul(qt,fn)|0,Et=Et+Math.imul(qt,Kr)|0,Et=Et+Math.imul(Jt,fn)|0,Nt=Nt+Math.imul(Jt,Kr)|0,$t=$t+Math.imul(Kt,dn)|0,Et=Et+Math.imul(Kt,Gr)|0,Et=Et+Math.imul(Qt,dn)|0,Nt=Nt+Math.imul(Qt,Gr)|0,$t=$t+Math.imul(ir,an)|0,Et=Et+Math.imul(ir,Zr)|0,Et=Et+Math.imul(nr,an)|0,Nt=Nt+Math.imul(nr,Zr)|0;var Yn=(St+$t|0)+((Et&8191)<<13)|0;St=(Nt+(Et>>>13)|0)+(Yn>>>26)|0,Yn&=67108863,$t=Math.imul(er,Er),Et=Math.imul(er,Sr),Et=Et+Math.imul(Gt,Er)|0,Nt=Math.imul(Gt,Sr),$t=$t+Math.imul(Lr,Hr)|0,Et=Et+Math.imul(Lr,Fr)|0,Et=Et+Math.imul(or,Hr)|0,Nt=Nt+Math.imul(or,Fr)|0,$t=$t+Math.imul(Ar,Jr)|0,Et=Et+Math.imul(Ar,Qr)|0,Et=Et+Math.imul(Pr,Jr)|0,Nt=Nt+Math.imul(Pr,Qr)|0,$t=$t+Math.imul(_r,ln)|0,Et=Et+Math.imul(_r,qr)|0,Et=Et+Math.imul(Rr,ln)|0,Nt=Nt+Math.imul(Rr,qr)|0,$t=$t+Math.imul(Mr,un)|0,Et=Et+Math.imul(Mr,Vr)|0,Et=Et+Math.imul(lr,un)|0,Nt=Nt+Math.imul(lr,Vr)|0,$t=$t+Math.imul(xr,fn)|0,Et=Et+Math.imul(xr,Kr)|0,Et=Et+Math.imul(pr,fn)|0,Nt=Nt+Math.imul(pr,Kr)|0,$t=$t+Math.imul(qt,dn)|0,Et=Et+Math.imul(qt,Gr)|0,Et=Et+Math.imul(Jt,dn)|0,Nt=Nt+Math.imul(Jt,Gr)|0,$t=$t+Math.imul(Kt,an)|0,Et=Et+Math.imul(Kt,Zr)|0,Et=Et+Math.imul(Qt,an)|0,Nt=Nt+Math.imul(Qt,Zr)|0,$t=$t+Math.imul(ir,Sn)|0,Et=Et+Math.imul(ir,nn)|0,Et=Et+Math.imul(nr,Sn)|0,Nt=Nt+Math.imul(nr,nn)|0;var ms=(St+$t|0)+((Et&8191)<<13)|0;St=(Nt+(Et>>>13)|0)+(ms>>>26)|0,ms&=67108863,$t=Math.imul(Wt,Er),Et=Math.imul(Wt,Sr),Et=Et+Math.imul(ar,Er)|0,Nt=Math.imul(ar,Sr),$t=$t+Math.imul(er,Hr)|0,Et=Et+Math.imul(er,Fr)|0,Et=Et+Math.imul(Gt,Hr)|0,Nt=Nt+Math.imul(Gt,Fr)|0,$t=$t+Math.imul(Lr,Jr)|0,Et=Et+Math.imul(Lr,Qr)|0,Et=Et+Math.imul(or,Jr)|0,Nt=Nt+Math.imul(or,Qr)|0,$t=$t+Math.imul(Ar,ln)|0,Et=Et+Math.imul(Ar,qr)|0,Et=Et+Math.imul(Pr,ln)|0,Nt=Nt+Math.imul(Pr,qr)|0,$t=$t+Math.imul(_r,un)|0,Et=Et+Math.imul(_r,Vr)|0,Et=Et+Math.imul(Rr,un)|0,Nt=Nt+Math.imul(Rr,Vr)|0,$t=$t+Math.imul(Mr,fn)|0,Et=Et+Math.imul(Mr,Kr)|0,Et=Et+Math.imul(lr,fn)|0,Nt=Nt+Math.imul(lr,Kr)|0,$t=$t+Math.imul(xr,dn)|0,Et=Et+Math.imul(xr,Gr)|0,Et=Et+Math.imul(pr,dn)|0,Nt=Nt+Math.imul(pr,Gr)|0,$t=$t+Math.imul(qt,an)|0,Et=Et+Math.imul(qt,Zr)|0,Et=Et+Math.imul(Jt,an)|0,Nt=Nt+Math.imul(Jt,Zr)|0,$t=$t+Math.imul(Kt,Sn)|0,Et=Et+Math.imul(Kt,nn)|0,Et=Et+Math.imul(Qt,Sn)|0,Nt=Nt+Math.imul(Qt,nn)|0,$t=$t+Math.imul(ir,yn)|0,Et=Et+Math.imul(ir,_n)|0,Et=Et+Math.imul(nr,yn)|0,Nt=Nt+Math.imul(nr,_n)|0;var Qn=(St+$t|0)+((Et&8191)<<13)|0;St=(Nt+(Et>>>13)|0)+(Qn>>>26)|0,Qn&=67108863,$t=Math.imul(Wt,Hr),Et=Math.imul(Wt,Fr),Et=Et+Math.imul(ar,Hr)|0,Nt=Math.imul(ar,Fr),$t=$t+Math.imul(er,Jr)|0,Et=Et+Math.imul(er,Qr)|0,Et=Et+Math.imul(Gt,Jr)|0,Nt=Nt+Math.imul(Gt,Qr)|0,$t=$t+Math.imul(Lr,ln)|0,Et=Et+Math.imul(Lr,qr)|0,Et=Et+Math.imul(or,ln)|0,Nt=Nt+Math.imul(or,qr)|0,$t=$t+Math.imul(Ar,un)|0,Et=Et+Math.imul(Ar,Vr)|0,Et=Et+Math.imul(Pr,un)|0,Nt=Nt+Math.imul(Pr,Vr)|0,$t=$t+Math.imul(_r,fn)|0,Et=Et+Math.imul(_r,Kr)|0,Et=Et+Math.imul(Rr,fn)|0,Nt=Nt+Math.imul(Rr,Kr)|0,$t=$t+Math.imul(Mr,dn)|0,Et=Et+Math.imul(Mr,Gr)|0,Et=Et+Math.imul(lr,dn)|0,Nt=Nt+Math.imul(lr,Gr)|0,$t=$t+Math.imul(xr,an)|0,Et=Et+Math.imul(xr,Zr)|0,Et=Et+Math.imul(pr,an)|0,Nt=Nt+Math.imul(pr,Zr)|0,$t=$t+Math.imul(qt,Sn)|0,Et=Et+Math.imul(qt,nn)|0,Et=Et+Math.imul(Jt,Sn)|0,Nt=Nt+Math.imul(Jt,nn)|0,$t=$t+Math.imul(Kt,yn)|0,Et=Et+Math.imul(Kt,_n)|0,Et=Et+Math.imul(Qt,yn)|0,Nt=Nt+Math.imul(Qt,_n)|0;var es=(St+$t|0)+((Et&8191)<<13)|0;St=(Nt+(Et>>>13)|0)+(es>>>26)|0,es&=67108863,$t=Math.imul(Wt,Jr),Et=Math.imul(Wt,Qr),Et=Et+Math.imul(ar,Jr)|0,Nt=Math.imul(ar,Qr),$t=$t+Math.imul(er,ln)|0,Et=Et+Math.imul(er,qr)|0,Et=Et+Math.imul(Gt,ln)|0,Nt=Nt+Math.imul(Gt,qr)|0,$t=$t+Math.imul(Lr,un)|0,Et=Et+Math.imul(Lr,Vr)|0,Et=Et+Math.imul(or,un)|0,Nt=Nt+Math.imul(or,Vr)|0,$t=$t+Math.imul(Ar,fn)|0,Et=Et+Math.imul(Ar,Kr)|0,Et=Et+Math.imul(Pr,fn)|0,Nt=Nt+Math.imul(Pr,Kr)|0,$t=$t+Math.imul(_r,dn)|0,Et=Et+Math.imul(_r,Gr)|0,Et=Et+Math.imul(Rr,dn)|0,Nt=Nt+Math.imul(Rr,Gr)|0,$t=$t+Math.imul(Mr,an)|0,Et=Et+Math.imul(Mr,Zr)|0,Et=Et+Math.imul(lr,an)|0,Nt=Nt+Math.imul(lr,Zr)|0,$t=$t+Math.imul(xr,Sn)|0,Et=Et+Math.imul(xr,nn)|0,Et=Et+Math.imul(pr,Sn)|0,Nt=Nt+Math.imul(pr,nn)|0,$t=$t+Math.imul(qt,yn)|0,Et=Et+Math.imul(qt,_n)|0,Et=Et+Math.imul(Jt,yn)|0,Nt=Nt+Math.imul(Jt,_n)|0;var ls=(St+$t|0)+((Et&8191)<<13)|0;St=(Nt+(Et>>>13)|0)+(ls>>>26)|0,ls&=67108863,$t=Math.imul(Wt,ln),Et=Math.imul(Wt,qr),Et=Et+Math.imul(ar,ln)|0,Nt=Math.imul(ar,qr),$t=$t+Math.imul(er,un)|0,Et=Et+Math.imul(er,Vr)|0,Et=Et+Math.imul(Gt,un)|0,Nt=Nt+Math.imul(Gt,Vr)|0,$t=$t+Math.imul(Lr,fn)|0,Et=Et+Math.imul(Lr,Kr)|0,Et=Et+Math.imul(or,fn)|0,Nt=Nt+Math.imul(or,Kr)|0,$t=$t+Math.imul(Ar,dn)|0,Et=Et+Math.imul(Ar,Gr)|0,Et=Et+Math.imul(Pr,dn)|0,Nt=Nt+Math.imul(Pr,Gr)|0,$t=$t+Math.imul(_r,an)|0,Et=Et+Math.imul(_r,Zr)|0,Et=Et+Math.imul(Rr,an)|0,Nt=Nt+Math.imul(Rr,Zr)|0,$t=$t+Math.imul(Mr,Sn)|0,Et=Et+Math.imul(Mr,nn)|0,Et=Et+Math.imul(lr,Sn)|0,Nt=Nt+Math.imul(lr,nn)|0,$t=$t+Math.imul(xr,yn)|0,Et=Et+Math.imul(xr,_n)|0,Et=Et+Math.imul(pr,yn)|0,Nt=Nt+Math.imul(pr,_n)|0;var us=(St+$t|0)+((Et&8191)<<13)|0;St=(Nt+(Et>>>13)|0)+(us>>>26)|0,us&=67108863,$t=Math.imul(Wt,un),Et=Math.imul(Wt,Vr),Et=Et+Math.imul(ar,un)|0,Nt=Math.imul(ar,Vr),$t=$t+Math.imul(er,fn)|0,Et=Et+Math.imul(er,Kr)|0,Et=Et+Math.imul(Gt,fn)|0,Nt=Nt+Math.imul(Gt,Kr)|0,$t=$t+Math.imul(Lr,dn)|0,Et=Et+Math.imul(Lr,Gr)|0,Et=Et+Math.imul(or,dn)|0,Nt=Nt+Math.imul(or,Gr)|0,$t=$t+Math.imul(Ar,an)|0,Et=Et+Math.imul(Ar,Zr)|0,Et=Et+Math.imul(Pr,an)|0,Nt=Nt+Math.imul(Pr,Zr)|0,$t=$t+Math.imul(_r,Sn)|0,Et=Et+Math.imul(_r,nn)|0,Et=Et+Math.imul(Rr,Sn)|0,Nt=Nt+Math.imul(Rr,nn)|0,$t=$t+Math.imul(Mr,yn)|0,Et=Et+Math.imul(Mr,_n)|0,Et=Et+Math.imul(lr,yn)|0,Nt=Nt+Math.imul(lr,_n)|0;var Wn=(St+$t|0)+((Et&8191)<<13)|0;St=(Nt+(Et>>>13)|0)+(Wn>>>26)|0,Wn&=67108863,$t=Math.imul(Wt,fn),Et=Math.imul(Wt,Kr),Et=Et+Math.imul(ar,fn)|0,Nt=Math.imul(ar,Kr),$t=$t+Math.imul(er,dn)|0,Et=Et+Math.imul(er,Gr)|0,Et=Et+Math.imul(Gt,dn)|0,Nt=Nt+Math.imul(Gt,Gr)|0,$t=$t+Math.imul(Lr,an)|0,Et=Et+Math.imul(Lr,Zr)|0,Et=Et+Math.imul(or,an)|0,Nt=Nt+Math.imul(or,Zr)|0,$t=$t+Math.imul(Ar,Sn)|0,Et=Et+Math.imul(Ar,nn)|0,Et=Et+Math.imul(Pr,Sn)|0,Nt=Nt+Math.imul(Pr,nn)|0,$t=$t+Math.imul(_r,yn)|0,Et=Et+Math.imul(_r,_n)|0,Et=Et+Math.imul(Rr,yn)|0,Nt=Nt+Math.imul(Rr,_n)|0;var as=(St+$t|0)+((Et&8191)<<13)|0;St=(Nt+(Et>>>13)|0)+(as>>>26)|0,as&=67108863,$t=Math.imul(Wt,dn),Et=Math.imul(Wt,Gr),Et=Et+Math.imul(ar,dn)|0,Nt=Math.imul(ar,Gr),$t=$t+Math.imul(er,an)|0,Et=Et+Math.imul(er,Zr)|0,Et=Et+Math.imul(Gt,an)|0,Nt=Nt+Math.imul(Gt,Zr)|0,$t=$t+Math.imul(Lr,Sn)|0,Et=Et+Math.imul(Lr,nn)|0,Et=Et+Math.imul(or,Sn)|0,Nt=Nt+Math.imul(or,nn)|0,$t=$t+Math.imul(Ar,yn)|0,Et=Et+Math.imul(Ar,_n)|0,Et=Et+Math.imul(Pr,yn)|0,Nt=Nt+Math.imul(Pr,_n)|0;var gs=(St+$t|0)+((Et&8191)<<13)|0;St=(Nt+(Et>>>13)|0)+(gs>>>26)|0,gs&=67108863,$t=Math.imul(Wt,an),Et=Math.imul(Wt,Zr),Et=Et+Math.imul(ar,an)|0,Nt=Math.imul(ar,Zr),$t=$t+Math.imul(er,Sn)|0,Et=Et+Math.imul(er,nn)|0,Et=Et+Math.imul(Gt,Sn)|0,Nt=Nt+Math.imul(Gt,nn)|0,$t=$t+Math.imul(Lr,yn)|0,Et=Et+Math.imul(Lr,_n)|0,Et=Et+Math.imul(or,yn)|0,Nt=Nt+Math.imul(or,_n)|0;var vs=(St+$t|0)+((Et&8191)<<13)|0;St=(Nt+(Et>>>13)|0)+(vs>>>26)|0,vs&=67108863,$t=Math.imul(Wt,Sn),Et=Math.imul(Wt,nn),Et=Et+Math.imul(ar,Sn)|0,Nt=Math.imul(ar,nn),$t=$t+Math.imul(er,yn)|0,Et=Et+Math.imul(er,_n)|0,Et=Et+Math.imul(Gt,yn)|0,Nt=Nt+Math.imul(Gt,_n)|0;var $s=(St+$t|0)+((Et&8191)<<13)|0;St=(Nt+(Et>>>13)|0)+($s>>>26)|0,$s&=67108863,$t=Math.imul(Wt,yn),Et=Math.imul(Wt,_n),Et=Et+Math.imul(ar,yn)|0,Nt=Math.imul(ar,_n);var Ts=(St+$t|0)+((Et&8191)<<13)|0;return St=(Nt+(Et>>>13)|0)+(Ts>>>26)|0,Ts&=67108863,Rt[0]=ds,Rt[1]=fs,Rt[2]=hs,Rt[3]=ps,Rt[4]=Vn,Rt[5]=ss,Rt[6]=Jn,Rt[7]=Yn,Rt[8]=ms,Rt[9]=Qn,Rt[10]=es,Rt[11]=ls,Rt[12]=us,Rt[13]=Wn,Rt[14]=as,Rt[15]=gs,Rt[16]=vs,Rt[17]=$s,Rt[18]=Ts,St!==0&&(Rt[19]=St,mt.length++),mt};Math.imul||(Tt=Pt);function Mt(vt,ct,dt){dt.negative=ct.negative^vt.negative,dt.length=vt.length+ct.length;for(var mt=0,xt=0,At=0;At<dt.length-1;At++){var Rt=xt;xt=0;for(var St=mt&67108863,$t=Math.min(At,ct.length-1),Et=Math.max(0,At-vt.length+1);Et<=$t;Et++){var Nt=At-Et,tr=vt.words[Nt]|0,ir=ct.words[Et]|0,nr=tr*ir,Zt=nr&67108863;Rt=Rt+(nr/67108864|0)|0,Zt=Zt+St|0,St=Zt&67108863,Rt=Rt+(Zt>>>26)|0,xt+=Rt>>>26,Rt&=67108863}dt.words[At]=St,mt=Rt,Rt=xt}return mt!==0?dt.words[At]=mt:dt.length--,dt._strip()}function Lt(vt,ct,dt){return Mt(vt,ct,dt)}tt.prototype.mulTo=function(ct,dt){var mt,xt=this.length+ct.length;return this.length===10&&ct.length===10?mt=Tt(this,ct,dt):xt<63?mt=Pt(this,ct,dt):xt<1024?mt=Mt(this,ct,dt):mt=Lt(this,ct,dt),mt},tt.prototype.mul=function(ct){var dt=new tt(null);return dt.words=new Array(this.length+ct.length),this.mulTo(ct,dt)},tt.prototype.mulf=function(ct){var dt=new tt(null);return dt.words=new Array(this.length+ct.length),Lt(this,ct,dt)},tt.prototype.imul=function(ct){return this.clone().mulTo(ct,this)},tt.prototype.imuln=function(ct){var dt=ct<0;dt&&(ct=-ct),j(typeof ct=="number"),j(ct<67108864);for(var mt=0,xt=0;xt<this.length;xt++){var At=(this.words[xt]|0)*ct,Rt=(At&67108863)+(mt&67108863);mt>>=26,mt+=At/67108864|0,mt+=Rt>>>26,this.words[xt]=Rt&67108863}return mt!==0&&(this.words[xt]=mt,this.length++),dt?this.ineg():this},tt.prototype.muln=function(ct){return this.clone().imuln(ct)},tt.prototype.sqr=function(){return this.mul(this)},tt.prototype.isqr=function(){return this.imul(this.clone())},tt.prototype.pow=function(ct){var dt=Ct(ct);if(dt.length===0)return new tt(1);for(var mt=this,xt=0;xt<dt.length&&dt[xt]===0;xt++,mt=mt.sqr());if(++xt<dt.length)for(var At=mt.sqr();xt<dt.length;xt++,At=At.sqr())dt[xt]!==0&&(mt=mt.mul(At));return mt},tt.prototype.iushln=function(ct){j(typeof ct=="number"&&ct>=0);var dt=ct%26,mt=(ct-dt)/26,xt=67108863>>>26-dt<<26-dt,At;if(dt!==0){var Rt=0;for(At=0;At<this.length;At++){var St=this.words[At]&xt,$t=(this.words[At]|0)-St<<dt;this.words[At]=$t|Rt,Rt=St>>>26-dt}Rt&&(this.words[At]=Rt,this.length++)}if(mt!==0){for(At=this.length-1;At>=0;At--)this.words[At+mt]=this.words[At];for(At=0;At<mt;At++)this.words[At]=0;this.length+=mt}return this._strip()},tt.prototype.ishln=function(ct){return j(this.negative===0),this.iushln(ct)},tt.prototype.iushrn=function(ct,dt,mt){j(typeof ct=="number"&&ct>=0);var xt;dt?xt=(dt-dt%26)/26:xt=0;var At=ct%26,Rt=Math.min((ct-At)/26,this.length),St=67108863^67108863>>>At<<At,$t=mt;if(xt-=Rt,xt=Math.max(0,xt),$t){for(var Et=0;Et<Rt;Et++)$t.words[Et]=this.words[Et];$t.length=Rt}if(Rt!==0)if(this.length>Rt)for(this.length-=Rt,Et=0;Et<this.length;Et++)this.words[Et]=this.words[Et+Rt];else this.words[0]=0,this.length=1;var Nt=0;for(Et=this.length-1;Et>=0&&(Nt!==0||Et>=xt);Et--){var tr=this.words[Et]|0;this.words[Et]=Nt<<26-At|tr>>>At,Nt=tr&St}return $t&&Nt!==0&&($t.words[$t.length++]=Nt),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},tt.prototype.ishrn=function(ct,dt,mt){return j(this.negative===0),this.iushrn(ct,dt,mt)},tt.prototype.shln=function(ct){return this.clone().ishln(ct)},tt.prototype.ushln=function(ct){return this.clone().iushln(ct)},tt.prototype.shrn=function(ct){return this.clone().ishrn(ct)},tt.prototype.ushrn=function(ct){return this.clone().iushrn(ct)},tt.prototype.testn=function(ct){j(typeof ct=="number"&&ct>=0);var dt=ct%26,mt=(ct-dt)/26,xt=1<<dt;if(this.length<=mt)return!1;var At=this.words[mt];return!!(At&xt)},tt.prototype.imaskn=function(ct){j(typeof ct=="number"&&ct>=0);var dt=ct%26,mt=(ct-dt)/26;if(j(this.negative===0,"imaskn works only with positive numbers"),this.length<=mt)return this;if(dt!==0&&mt++,this.length=Math.min(mt,this.length),dt!==0){var xt=67108863^67108863>>>dt<<dt;this.words[this.length-1]&=xt}return this._strip()},tt.prototype.maskn=function(ct){return this.clone().imaskn(ct)},tt.prototype.iaddn=function(ct){return j(typeof ct=="number"),j(ct<67108864),ct<0?this.isubn(-ct):this.negative!==0?this.length===1&&(this.words[0]|0)<=ct?(this.words[0]=ct-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(ct),this.negative=1,this):this._iaddn(ct)},tt.prototype._iaddn=function(ct){this.words[0]+=ct;for(var dt=0;dt<this.length&&this.words[dt]>=67108864;dt++)this.words[dt]-=67108864,dt===this.length-1?this.words[dt+1]=1:this.words[dt+1]++;return this.length=Math.max(this.length,dt+1),this},tt.prototype.isubn=function(ct){if(j(typeof ct=="number"),j(ct<67108864),ct<0)return this.iaddn(-ct);if(this.negative!==0)return this.negative=0,this.iaddn(ct),this.negative=1,this;if(this.words[0]-=ct,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var dt=0;dt<this.length&&this.words[dt]<0;dt++)this.words[dt]+=67108864,this.words[dt+1]-=1;return this._strip()},tt.prototype.addn=function(ct){return this.clone().iaddn(ct)},tt.prototype.subn=function(ct){return this.clone().isubn(ct)},tt.prototype.iabs=function(){return this.negative=0,this},tt.prototype.abs=function(){return this.clone().iabs()},tt.prototype._ishlnsubmul=function(ct,dt,mt){var xt=ct.length+mt,At;this._expand(xt);var Rt,St=0;for(At=0;At<ct.length;At++){Rt=(this.words[At+mt]|0)+St;var $t=(ct.words[At]|0)*dt;Rt-=$t&67108863,St=(Rt>>26)-($t/67108864|0),this.words[At+mt]=Rt&67108863}for(;At<this.length-mt;At++)Rt=(this.words[At+mt]|0)+St,St=Rt>>26,this.words[At+mt]=Rt&67108863;if(St===0)return this._strip();for(j(St===-1),St=0,At=0;At<this.length;At++)Rt=-(this.words[At]|0)+St,St=Rt>>26,this.words[At]=Rt&67108863;return this.negative=1,this._strip()},tt.prototype._wordDiv=function(ct,dt){var mt=this.length-ct.length,xt=this.clone(),At=ct,Rt=At.words[At.length-1]|0,St=this._countBits(Rt);mt=26-St,mt!==0&&(At=At.ushln(mt),xt.iushln(mt),Rt=At.words[At.length-1]|0);var $t=xt.length-At.length,Et;if(dt!=="mod"){Et=new tt(null),Et.length=$t+1,Et.words=new Array(Et.length);for(var Nt=0;Nt<Et.length;Nt++)Et.words[Nt]=0}var tr=xt.clone()._ishlnsubmul(At,1,$t);tr.negative===0&&(xt=tr,Et&&(Et.words[$t]=1));for(var ir=$t-1;ir>=0;ir--){var nr=(xt.words[At.length+ir]|0)*67108864+(xt.words[At.length+ir-1]|0);for(nr=Math.min(nr/Rt|0,67108863),xt._ishlnsubmul(At,nr,ir);xt.negative!==0;)nr--,xt.negative=0,xt._ishlnsubmul(At,1,ir),xt.isZero()||(xt.negative^=1);Et&&(Et.words[ir]=nr)}return Et&&Et._strip(),xt._strip(),dt!=="div"&&mt!==0&&xt.iushrn(mt),{div:Et||null,mod:xt}},tt.prototype.divmod=function(ct,dt,mt){if(j(!ct.isZero()),this.isZero())return{div:new tt(0),mod:new tt(0)};var xt,At,Rt;return this.negative!==0&&ct.negative===0?(Rt=this.neg().divmod(ct,dt),dt!=="mod"&&(xt=Rt.div.neg()),dt!=="div"&&(At=Rt.mod.neg(),mt&&At.negative!==0&&At.iadd(ct)),{div:xt,mod:At}):this.negative===0&&ct.negative!==0?(Rt=this.divmod(ct.neg(),dt),dt!=="mod"&&(xt=Rt.div.neg()),{div:xt,mod:Rt.mod}):this.negative&ct.negative?(Rt=this.neg().divmod(ct.neg(),dt),dt!=="div"&&(At=Rt.mod.neg(),mt&&At.negative!==0&&At.isub(ct)),{div:Rt.div,mod:At}):ct.length>this.length||this.cmp(ct)<0?{div:new tt(0),mod:this}:ct.length===1?dt==="div"?{div:this.divn(ct.words[0]),mod:null}:dt==="mod"?{div:null,mod:new tt(this.modrn(ct.words[0]))}:{div:this.divn(ct.words[0]),mod:new tt(this.modrn(ct.words[0]))}:this._wordDiv(ct,dt)},tt.prototype.div=function(ct){return this.divmod(ct,"div",!1).div},tt.prototype.mod=function(ct){return this.divmod(ct,"mod",!1).mod},tt.prototype.umod=function(ct){return this.divmod(ct,"mod",!0).mod},tt.prototype.divRound=function(ct){var dt=this.divmod(ct);if(dt.mod.isZero())return dt.div;var mt=dt.div.negative!==0?dt.mod.isub(ct):dt.mod,xt=ct.ushrn(1),At=ct.andln(1),Rt=mt.cmp(xt);return Rt<0||At===1&&Rt===0?dt.div:dt.div.negative!==0?dt.div.isubn(1):dt.div.iaddn(1)},tt.prototype.modrn=function(ct){var dt=ct<0;dt&&(ct=-ct),j(ct<=67108863);for(var mt=(1<<26)%ct,xt=0,At=this.length-1;At>=0;At--)xt=(mt*xt+(this.words[At]|0))%ct;return dt?-xt:xt},tt.prototype.modn=function(ct){return this.modrn(ct)},tt.prototype.idivn=function(ct){var dt=ct<0;dt&&(ct=-ct),j(ct<=67108863);for(var mt=0,xt=this.length-1;xt>=0;xt--){var At=(this.words[xt]|0)+mt*67108864;this.words[xt]=At/ct|0,mt=At%ct}return this._strip(),dt?this.ineg():this},tt.prototype.divn=function(ct){return this.clone().idivn(ct)},tt.prototype.egcd=function(ct){j(ct.negative===0),j(!ct.isZero());var dt=this,mt=ct.clone();dt.negative!==0?dt=dt.umod(ct):dt=dt.clone();for(var xt=new tt(1),At=new tt(0),Rt=new tt(0),St=new tt(1),$t=0;dt.isEven()&&mt.isEven();)dt.iushrn(1),mt.iushrn(1),++$t;for(var Et=mt.clone(),Nt=dt.clone();!dt.isZero();){for(var tr=0,ir=1;!(dt.words[0]&ir)&&tr<26;++tr,ir<<=1);if(tr>0)for(dt.iushrn(tr);tr-- >0;)(xt.isOdd()||At.isOdd())&&(xt.iadd(Et),At.isub(Nt)),xt.iushrn(1),At.iushrn(1);for(var nr=0,Zt=1;!(mt.words[0]&Zt)&&nr<26;++nr,Zt<<=1);if(nr>0)for(mt.iushrn(nr);nr-- >0;)(Rt.isOdd()||St.isOdd())&&(Rt.iadd(Et),St.isub(Nt)),Rt.iushrn(1),St.iushrn(1);dt.cmp(mt)>=0?(dt.isub(mt),xt.isub(Rt),At.isub(St)):(mt.isub(dt),Rt.isub(xt),St.isub(At))}return{a:Rt,b:St,gcd:mt.iushln($t)}},tt.prototype._invmp=function(ct){j(ct.negative===0),j(!ct.isZero());var dt=this,mt=ct.clone();dt.negative!==0?dt=dt.umod(ct):dt=dt.clone();for(var xt=new tt(1),At=new tt(0),Rt=mt.clone();dt.cmpn(1)>0&&mt.cmpn(1)>0;){for(var St=0,$t=1;!(dt.words[0]&$t)&&St<26;++St,$t<<=1);if(St>0)for(dt.iushrn(St);St-- >0;)xt.isOdd()&&xt.iadd(Rt),xt.iushrn(1);for(var Et=0,Nt=1;!(mt.words[0]&Nt)&&Et<26;++Et,Nt<<=1);if(Et>0)for(mt.iushrn(Et);Et-- >0;)At.isOdd()&&At.iadd(Rt),At.iushrn(1);dt.cmp(mt)>=0?(dt.isub(mt),xt.isub(At)):(mt.isub(dt),At.isub(xt))}var tr;return dt.cmpn(1)===0?tr=xt:tr=At,tr.cmpn(0)<0&&tr.iadd(ct),tr},tt.prototype.gcd=function(ct){if(this.isZero())return ct.abs();if(ct.isZero())return this.abs();var dt=this.clone(),mt=ct.clone();dt.negative=0,mt.negative=0;for(var xt=0;dt.isEven()&&mt.isEven();xt++)dt.iushrn(1),mt.iushrn(1);do{for(;dt.isEven();)dt.iushrn(1);for(;mt.isEven();)mt.iushrn(1);var At=dt.cmp(mt);if(At<0){var Rt=dt;dt=mt,mt=Rt}else if(At===0||mt.cmpn(1)===0)break;dt.isub(mt)}while(!0);return mt.iushln(xt)},tt.prototype.invm=function(ct){return this.egcd(ct).a.umod(ct)},tt.prototype.isEven=function(){return(this.words[0]&1)===0},tt.prototype.isOdd=function(){return(this.words[0]&1)===1},tt.prototype.andln=function(ct){return this.words[0]&ct},tt.prototype.bincn=function(ct){j(typeof ct=="number");var dt=ct%26,mt=(ct-dt)/26,xt=1<<dt;if(this.length<=mt)return this._expand(mt+1),this.words[mt]|=xt,this;for(var At=xt,Rt=mt;At!==0&&Rt<this.length;Rt++){var St=this.words[Rt]|0;St+=At,At=St>>>26,St&=67108863,this.words[Rt]=St}return At!==0&&(this.words[Rt]=At,this.length++),this},tt.prototype.isZero=function(){return this.length===1&&this.words[0]===0},tt.prototype.cmpn=function(ct){var dt=ct<0;if(this.negative!==0&&!dt)return-1;if(this.negative===0&&dt)return 1;this._strip();var mt;if(this.length>1)mt=1;else{dt&&(ct=-ct),j(ct<=67108863,"Number is too big");var xt=this.words[0]|0;mt=xt===ct?0:xt<ct?-1:1}return this.negative!==0?-mt|0:mt},tt.prototype.cmp=function(ct){if(this.negative!==0&&ct.negative===0)return-1;if(this.negative===0&&ct.negative!==0)return 1;var dt=this.ucmp(ct);return this.negative!==0?-dt|0:dt},tt.prototype.ucmp=function(ct){if(this.length>ct.length)return 1;if(this.length<ct.length)return-1;for(var dt=0,mt=this.length-1;mt>=0;mt--){var xt=this.words[mt]|0,At=ct.words[mt]|0;if(xt!==At){xt<At?dt=-1:xt>At&&(dt=1);break}}return dt},tt.prototype.gtn=function(ct){return this.cmpn(ct)===1},tt.prototype.gt=function(ct){return this.cmp(ct)===1},tt.prototype.gten=function(ct){return this.cmpn(ct)>=0},tt.prototype.gte=function(ct){return this.cmp(ct)>=0},tt.prototype.ltn=function(ct){return this.cmpn(ct)===-1},tt.prototype.lt=function(ct){return this.cmp(ct)===-1},tt.prototype.lten=function(ct){return this.cmpn(ct)<=0},tt.prototype.lte=function(ct){return this.cmp(ct)<=0},tt.prototype.eqn=function(ct){return this.cmpn(ct)===0},tt.prototype.eq=function(ct){return this.cmp(ct)===0},tt.red=function(ct){return new jt(ct)},tt.prototype.toRed=function(ct){return j(!this.red,"Already a number in reduction context"),j(this.negative===0,"red works only with positives"),ct.convertTo(this)._forceRed(ct)},tt.prototype.fromRed=function(){return j(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},tt.prototype._forceRed=function(ct){return this.red=ct,this},tt.prototype.forceRed=function(ct){return j(!this.red,"Already a number in reduction context"),this._forceRed(ct)},tt.prototype.redAdd=function(ct){return j(this.red,"redAdd works only with red numbers"),this.red.add(this,ct)},tt.prototype.redIAdd=function(ct){return j(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,ct)},tt.prototype.redSub=function(ct){return j(this.red,"redSub works only with red numbers"),this.red.sub(this,ct)},tt.prototype.redISub=function(ct){return j(this.red,"redISub works only with red numbers"),this.red.isub(this,ct)},tt.prototype.redShl=function(ct){return j(this.red,"redShl works only with red numbers"),this.red.shl(this,ct)},tt.prototype.redMul=function(ct){return j(this.red,"redMul works only with red numbers"),this.red._verify2(this,ct),this.red.mul(this,ct)},tt.prototype.redIMul=function(ct){return j(this.red,"redMul works only with red numbers"),this.red._verify2(this,ct),this.red.imul(this,ct)},tt.prototype.redSqr=function(){return j(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},tt.prototype.redISqr=function(){return j(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},tt.prototype.redSqrt=function(){return j(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},tt.prototype.redInvm=function(){return j(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},tt.prototype.redNeg=function(){return j(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},tt.prototype.redPow=function(ct){return j(this.red&&!ct.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,ct)};var Dt={k256:null,p224:null,p192:null,p25519:null};function Ut(vt,ct){this.name=vt,this.p=new tt(ct,16),this.n=this.p.bitLength(),this.k=new tt(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}Ut.prototype._tmp=function(){var ct=new tt(null);return ct.words=new Array(Math.ceil(this.n/13)),ct},Ut.prototype.ireduce=function(ct){var dt=ct,mt;do this.split(dt,this.tmp),dt=this.imulK(dt),dt=dt.iadd(this.tmp),mt=dt.bitLength();while(mt>this.n);var xt=mt<this.n?-1:dt.ucmp(this.p);return xt===0?(dt.words[0]=0,dt.length=1):xt>0?dt.isub(this.p):dt.strip!==void 0?dt.strip():dt._strip(),dt},Ut.prototype.split=function(ct,dt){ct.iushrn(this.n,0,dt)},Ut.prototype.imulK=function(ct){return ct.imul(this.k)};function Ot(){Ut.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}et(Ot,Ut),Ot.prototype.split=function(ct,dt){for(var mt=4194303,xt=Math.min(ct.length,9),At=0;At<xt;At++)dt.words[At]=ct.words[At];if(dt.length=xt,ct.length<=9){ct.words[0]=0,ct.length=1;return}var Rt=ct.words[9];for(dt.words[dt.length++]=Rt&mt,At=10;At<ct.length;At++){var St=ct.words[At]|0;ct.words[At-10]=(St&mt)<<4|Rt>>>22,Rt=St}Rt>>>=22,ct.words[At-10]=Rt,Rt===0&&ct.length>10?ct.length-=10:ct.length-=9},Ot.prototype.imulK=function(ct){ct.words[ct.length]=0,ct.words[ct.length+1]=0,ct.length+=2;for(var dt=0,mt=0;mt<ct.length;mt++){var xt=ct.words[mt]|0;dt+=xt*977,ct.words[mt]=dt&67108863,dt=xt*64+(dt/67108864|0)}return ct.words[ct.length-1]===0&&(ct.length--,ct.words[ct.length-1]===0&&ct.length--),ct};function It(){Ut.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}et(It,Ut);function Bt(){Ut.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}et(Bt,Ut);function Ft(){Ut.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}et(Ft,Ut),Ft.prototype.imulK=function(ct){for(var dt=0,mt=0;mt<ct.length;mt++){var xt=(ct.words[mt]|0)*19+dt,At=xt&67108863;xt>>>=26,ct.words[mt]=At,dt=xt}return dt!==0&&(ct.words[ct.length++]=dt),ct},tt._prime=function(ct){if(Dt[ct])return Dt[ct];var dt;if(ct==="k256")dt=new Ot;else if(ct==="p224")dt=new It;else if(ct==="p192")dt=new Bt;else if(ct==="p25519")dt=new Ft;else throw new Error("Unknown prime "+ct);return Dt[ct]=dt,dt};function jt(vt){if(typeof vt=="string"){var ct=tt._prime(vt);this.m=ct.p,this.prime=ct}else j(vt.gtn(1),"modulus must be greater than 1"),this.m=vt,this.prime=null}jt.prototype._verify1=function(ct){j(ct.negative===0,"red works only with positives"),j(ct.red,"red works only with red numbers")},jt.prototype._verify2=function(ct,dt){j((ct.negative|dt.negative)===0,"red works only with positives"),j(ct.red&&ct.red===dt.red,"red works only with red numbers")},jt.prototype.imod=function(ct){return this.prime?this.prime.ireduce(ct)._forceRed(this):(ot(ct,ct.umod(this.m)._forceRed(this)),ct)},jt.prototype.neg=function(ct){return ct.isZero()?ct.clone():this.m.sub(ct)._forceRed(this)},jt.prototype.add=function(ct,dt){this._verify2(ct,dt);var mt=ct.add(dt);return mt.cmp(this.m)>=0&&mt.isub(this.m),mt._forceRed(this)},jt.prototype.iadd=function(ct,dt){this._verify2(ct,dt);var mt=ct.iadd(dt);return mt.cmp(this.m)>=0&&mt.isub(this.m),mt},jt.prototype.sub=function(ct,dt){this._verify2(ct,dt);var mt=ct.sub(dt);return mt.cmpn(0)<0&&mt.iadd(this.m),mt._forceRed(this)},jt.prototype.isub=function(ct,dt){this._verify2(ct,dt);var mt=ct.isub(dt);return mt.cmpn(0)<0&&mt.iadd(this.m),mt},jt.prototype.shl=function(ct,dt){return this._verify1(ct),this.imod(ct.ushln(dt))},jt.prototype.imul=function(ct,dt){return this._verify2(ct,dt),this.imod(ct.imul(dt))},jt.prototype.mul=function(ct,dt){return this._verify2(ct,dt),this.imod(ct.mul(dt))},jt.prototype.isqr=function(ct){return this.imul(ct,ct.clone())},jt.prototype.sqr=function(ct){return this.mul(ct,ct)},jt.prototype.sqrt=function(ct){if(ct.isZero())return ct.clone();var dt=this.m.andln(3);if(j(dt%2===1),dt===3){var mt=this.m.add(new tt(1)).iushrn(2);return this.pow(ct,mt)}for(var xt=this.m.subn(1),At=0;!xt.isZero()&&xt.andln(1)===0;)At++,xt.iushrn(1);j(!xt.isZero());var Rt=new tt(1).toRed(this),St=Rt.redNeg(),$t=this.m.subn(1).iushrn(1),Et=this.m.bitLength();for(Et=new tt(2*Et*Et).toRed(this);this.pow(Et,$t).cmp(St)!==0;)Et.redIAdd(St);for(var Nt=this.pow(Et,xt),tr=this.pow(ct,xt.addn(1).iushrn(1)),ir=this.pow(ct,xt),nr=At;ir.cmp(Rt)!==0;){for(var Zt=ir,Kt=0;Zt.cmp(Rt)!==0;Kt++)Zt=Zt.redSqr();j(Kt<nr);var Qt=this.pow(Nt,new tt(1).iushln(nr-Kt-1));tr=tr.redMul(Qt),Nt=Qt.redSqr(),ir=ir.redMul(Nt),nr=Kt}return tr},jt.prototype.invm=function(ct){var dt=ct._invmp(this.m);return dt.negative!==0?(dt.negative=0,this.imod(dt).redNeg()):this.imod(dt)},jt.prototype.pow=function(ct,dt){if(dt.isZero())return new tt(1).toRed(this);if(dt.cmpn(1)===0)return ct.clone();var mt=4,xt=new Array(1<<mt);xt[0]=new tt(1).toRed(this),xt[1]=ct;for(var At=2;At<xt.length;At++)xt[At]=this.mul(xt[At-1],ct);var Rt=xt[0],St=0,$t=0,Et=dt.bitLength()%26;for(Et===0&&(Et=26),At=dt.length-1;At>=0;At--){for(var Nt=dt.words[At],tr=Et-1;tr>=0;tr--){var ir=Nt>>tr&1;if(Rt!==xt[0]&&(Rt=this.sqr(Rt)),ir===0&&St===0){$t=0;continue}St<<=1,St|=ir,$t++,!($t!==mt&&(At!==0||tr!==0))&&(Rt=this.mul(Rt,xt[St]),$t=0,St=0)}Et=26}return Rt},jt.prototype.convertTo=function(ct){var dt=ct.umod(this.m);return dt===ct?dt.clone():dt},jt.prototype.convertFrom=function(ct){var dt=ct.clone();return dt.red=null,dt},tt.mont=function(ct){return new bt(ct)};function bt(vt){jt.call(this,vt),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new tt(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}et(bt,jt),bt.prototype.convertTo=function(ct){return this.imod(ct.ushln(this.shift))},bt.prototype.convertFrom=function(ct){var dt=this.imod(ct.mul(this.rinv));return dt.red=null,dt},bt.prototype.imul=function(ct,dt){if(ct.isZero()||dt.isZero())return ct.words[0]=0,ct.length=1,ct;var mt=ct.imul(dt),xt=mt.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),At=mt.isub(xt).iushrn(this.shift),Rt=At;return At.cmp(this.m)>=0?Rt=At.isub(this.m):At.cmpn(0)<0&&(Rt=At.iadd(this.m)),Rt._forceRed(this)},bt.prototype.mul=function(ct,dt){if(ct.isZero()||dt.isZero())return new tt(0)._forceRed(this);var mt=ct.mul(dt),xt=mt.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),At=mt.isub(xt).iushrn(this.shift),Rt=At;return At.cmp(this.m)>=0?Rt=At.isub(this.m):At.cmpn(0)<0&&(Rt=At.iadd(this.m)),Rt._forceRed(this)},bt.prototype.invm=function(ct){var dt=this.imod(ct._invmp(this.m).mul(this.r2));return dt._forceRed(this)}})(a,commonjsGlobal)}(bn$1)),bn$1.exports}var asn1$1={},asn1={},api={},vmBrowserify={},hasRequiredVmBrowserify;function requireVmBrowserify(){return hasRequiredVmBrowserify||(hasRequiredVmBrowserify=1,function(exports){var indexOf=function(a,_){if(a.indexOf)return a.indexOf(_);for(var $=0;$<a.length;$++)if(a[$]===_)return $;return-1},Object_keys=function(a){if(Object.keys)return Object.keys(a);var _=[];for(var $ in a)_.push($);return _},forEach=function(a,_){if(a.forEach)return a.forEach(_);for(var $=0;$<a.length;$++)_(a[$],$,a)},defineProp=function(){try{return Object.defineProperty({},"_",{}),function(a,_,$){Object.defineProperty(a,_,{writable:!0,enumerable:!1,configurable:!0,value:$})}}catch{return function(_,$,j){_[$]=j}}}(),globals=["Array","Boolean","Date","Error","EvalError","Function","Infinity","JSON","Math","NaN","Number","Object","RangeError","ReferenceError","RegExp","String","SyntaxError","TypeError","URIError","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","eval","isFinite","isNaN","parseFloat","parseInt","undefined","unescape"];function Context(){}Context.prototype={};var Script=exports.Script=function(_){if(!(this instanceof Script))return new Script(_);this.code=_};Script.prototype.runInContext=function(a){if(!(a instanceof Context))throw new TypeError("needs a 'context' argument.");var _=document.createElement("iframe");_.style||(_.style={}),_.style.display="none",document.body.appendChild(_);var $=_.contentWindow,j=$.eval,et=$.execScript;!j&&et&&(et.call($,"null"),j=$.eval),forEach(Object_keys(a),function(nt){$[nt]=a[nt]}),forEach(globals,function(nt){a[nt]&&($[nt]=a[nt])});var tt=Object_keys($),rt=j.call($,this.code);return forEach(Object_keys($),function(nt){(nt in a||indexOf(tt,nt)===-1)&&(a[nt]=$[nt])}),forEach(globals,function(nt){nt in a||defineProp(a,nt,$[nt])}),document.body.removeChild(_),rt},Script.prototype.runInThisContext=function(){return eval(this.code)},Script.prototype.runInNewContext=function(a){var _=Script.createContext(a),$=this.runInContext(_);return a&&forEach(Object_keys(_),function(j){a[j]=_[j]}),$},forEach(Object_keys(Script.prototype),function(a){exports[a]=Script[a]=function(_){var $=Script(_);return $[a].apply($,[].slice.call(arguments,1))}}),exports.isContext=function(a){return a instanceof Context},exports.createScript=function(a){return exports.Script(a)},exports.createContext=Script.createContext=function(a){var _=new Context;return typeof a=="object"&&forEach(Object_keys(a),function($){_[$]=a[$]}),_}}(vmBrowserify)),vmBrowserify}var hasRequiredApi;function requireApi(){return hasRequiredApi||(hasRequiredApi=1,function(a){var _=requireAsn1$1(),$=inherits_browserExports,j=a;j.define=function(rt,nt){return new et(rt,nt)};function et(tt,rt){this.name=tt,this.body=rt,this.decoders={},this.encoders={}}et.prototype._createNamed=function(rt){var nt;try{nt=requireVmBrowserify().runInThisContext("(function "+this.name+`(entity) {
  this._initNamed(entity);
})`)}catch{nt=function(st){this._initNamed(st)}}return $(nt,rt),nt.prototype._initNamed=function(st){rt.call(this,st)},new nt(this)},et.prototype._getDecoder=function(rt){return rt=rt||"der",this.decoders.hasOwnProperty(rt)||(this.decoders[rt]=this._createNamed(_.decoders[rt])),this.decoders[rt]},et.prototype.decode=function(rt,nt,it){return this._getDecoder(nt).decode(rt,it)},et.prototype._getEncoder=function(rt){return rt=rt||"der",this.encoders.hasOwnProperty(rt)||(this.encoders[rt]=this._createNamed(_.encoders[rt])),this.encoders[rt]},et.prototype.encode=function(rt,nt,it){return this._getEncoder(nt).encode(rt,it)}}(api)),api}var base$4={},reporter={},hasRequiredReporter;function requireReporter(){if(hasRequiredReporter)return reporter;hasRequiredReporter=1;var a=inherits_browserExports;function _(j){this._reporterState={obj:null,path:[],options:j||{},errors:[]}}reporter.Reporter=_,_.prototype.isError=function(et){return et instanceof $},_.prototype.save=function(){var et=this._reporterState;return{obj:et.obj,pathLen:et.path.length}},_.prototype.restore=function(et){var tt=this._reporterState;tt.obj=et.obj,tt.path=tt.path.slice(0,et.pathLen)},_.prototype.enterKey=function(et){return this._reporterState.path.push(et)},_.prototype.exitKey=function(et){var tt=this._reporterState;tt.path=tt.path.slice(0,et-1)},_.prototype.leaveKey=function(et,tt,rt){var nt=this._reporterState;this.exitKey(et),nt.obj!==null&&(nt.obj[tt]=rt)},_.prototype.path=function(){return this._reporterState.path.join("/")},_.prototype.enterObject=function(){var et=this._reporterState,tt=et.obj;return et.obj={},tt},_.prototype.leaveObject=function(et){var tt=this._reporterState,rt=tt.obj;return tt.obj=et,rt},_.prototype.error=function(et){var tt,rt=this._reporterState,nt=et instanceof $;if(nt?tt=et:tt=new $(rt.path.map(function(it){return"["+JSON.stringify(it)+"]"}).join(""),et.message||et,et.stack),!rt.options.partial)throw tt;return nt||rt.errors.push(tt),tt},_.prototype.wrapResult=function(et){var tt=this._reporterState;return tt.options.partial?{result:this.isError(et)?null:et,errors:tt.errors}:et};function $(j,et){this.path=j,this.rethrow(et)}return a($,Error),$.prototype.rethrow=function(et){if(this.message=et+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,$),!this.stack)try{throw new Error(this.message)}catch(tt){this.stack=tt.stack}return this},reporter}var buffer={},hasRequiredBuffer;function requireBuffer(){if(hasRequiredBuffer)return buffer;hasRequiredBuffer=1;var a=inherits_browserExports,_=requireBase$1().Reporter,$=buffer$1.Buffer;function j(tt,rt){if(_.call(this,rt),!$.isBuffer(tt)){this.error("Input not Buffer");return}this.base=tt,this.offset=0,this.length=tt.length}a(j,_),buffer.DecoderBuffer=j,j.prototype.save=function(){return{offset:this.offset,reporter:_.prototype.save.call(this)}},j.prototype.restore=function(rt){var nt=new j(this.base);return nt.offset=rt.offset,nt.length=this.offset,this.offset=rt.offset,_.prototype.restore.call(this,rt.reporter),nt},j.prototype.isEmpty=function(){return this.offset===this.length},j.prototype.readUInt8=function(rt){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(rt||"DecoderBuffer overrun")},j.prototype.skip=function(rt,nt){if(!(this.offset+rt<=this.length))return this.error(nt||"DecoderBuffer overrun");var it=new j(this.base);return it._reporterState=this._reporterState,it.offset=this.offset,it.length=this.offset+rt,this.offset+=rt,it},j.prototype.raw=function(rt){return this.base.slice(rt?rt.offset:this.offset,this.length)};function et(tt,rt){if(Array.isArray(tt))this.length=0,this.value=tt.map(function(nt){return nt instanceof et||(nt=new et(nt,rt)),this.length+=nt.length,nt},this);else if(typeof tt=="number"){if(!(0<=tt&&tt<=255))return rt.error("non-byte EncoderBuffer value");this.value=tt,this.length=1}else if(typeof tt=="string")this.value=tt,this.length=$.byteLength(tt);else if($.isBuffer(tt))this.value=tt,this.length=tt.length;else return rt.error("Unsupported type: "+typeof tt)}return buffer.EncoderBuffer=et,et.prototype.join=function(rt,nt){return rt||(rt=new $(this.length)),nt||(nt=0),this.length===0||(Array.isArray(this.value)?this.value.forEach(function(it){it.join(rt,nt),nt+=it.length}):(typeof this.value=="number"?rt[nt]=this.value:typeof this.value=="string"?rt.write(this.value,nt):$.isBuffer(this.value)&&this.value.copy(rt,nt),nt+=this.length)),rt},buffer}var node$1,hasRequiredNode;function requireNode(){if(hasRequiredNode)return node$1;hasRequiredNode=1;var a=requireBase$1().Reporter,_=requireBase$1().EncoderBuffer,$=requireBase$1().DecoderBuffer,j=minimalisticAssert,et=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],tt=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(et),rt=["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"];function nt(st,ot){var at={};this._baseState=at,at.enc=st,at.parent=ot||null,at.children=null,at.tag=null,at.args=null,at.reverseArgs=null,at.choice=null,at.optional=!1,at.any=!1,at.obj=!1,at.use=null,at.useDecoder=null,at.key=null,at.default=null,at.explicit=null,at.implicit=null,at.contains=null,at.parent||(at.children=[],this._wrap())}node$1=nt;var it=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];return nt.prototype.clone=function(){var ot=this._baseState,at={};it.forEach(function(ht){at[ht]=ot[ht]});var ut=new this.constructor(at.parent);return ut._baseState=at,ut},nt.prototype._wrap=function(){var ot=this._baseState;tt.forEach(function(at){this[at]=function(){var ht=new this.constructor(this);return ot.children.push(ht),ht[at].apply(ht,arguments)}},this)},nt.prototype._init=function(ot){var at=this._baseState;j(at.parent===null),ot.call(this),at.children=at.children.filter(function(ut){return ut._baseState.parent===this},this),j.equal(at.children.length,1,"Root node can have only one child")},nt.prototype._useArgs=function(ot){var at=this._baseState,ut=ot.filter(function(ht){return ht instanceof this.constructor},this);ot=ot.filter(function(ht){return!(ht instanceof this.constructor)},this),ut.length!==0&&(j(at.children===null),at.children=ut,ut.forEach(function(ht){ht._baseState.parent=this},this)),ot.length!==0&&(j(at.args===null),at.args=ot,at.reverseArgs=ot.map(function(ht){if(typeof ht!="object"||ht.constructor!==Object)return ht;var yt={};return Object.keys(ht).forEach(function(wt){wt==(wt|0)&&(wt|=0);var Ct=ht[wt];yt[Ct]=wt}),yt}))},rt.forEach(function(st){nt.prototype[st]=function(){var at=this._baseState;throw new Error(st+" not implemented for encoding: "+at.enc)}}),et.forEach(function(st){nt.prototype[st]=function(){var at=this._baseState,ut=Array.prototype.slice.call(arguments);return j(at.tag===null),at.tag=st,this._useArgs(ut),this}}),nt.prototype.use=function(ot){j(ot);var at=this._baseState;return j(at.use===null),at.use=ot,this},nt.prototype.optional=function(){var ot=this._baseState;return ot.optional=!0,this},nt.prototype.def=function(ot){var at=this._baseState;return j(at.default===null),at.default=ot,at.optional=!0,this},nt.prototype.explicit=function(ot){var at=this._baseState;return j(at.explicit===null&&at.implicit===null),at.explicit=ot,this},nt.prototype.implicit=function(ot){var at=this._baseState;return j(at.explicit===null&&at.implicit===null),at.implicit=ot,this},nt.prototype.obj=function(){var ot=this._baseState,at=Array.prototype.slice.call(arguments);return ot.obj=!0,at.length!==0&&this._useArgs(at),this},nt.prototype.key=function(ot){var at=this._baseState;return j(at.key===null),at.key=ot,this},nt.prototype.any=function(){var ot=this._baseState;return ot.any=!0,this},nt.prototype.choice=function(ot){var at=this._baseState;return j(at.choice===null),at.choice=ot,this._useArgs(Object.keys(ot).map(function(ut){return ot[ut]})),this},nt.prototype.contains=function(ot){var at=this._baseState;return j(at.use===null),at.contains=ot,this},nt.prototype._decode=function(ot,at){var ut=this._baseState;if(ut.parent===null)return ot.wrapResult(ut.children[0]._decode(ot,at));var ht=ut.default,yt=!0,wt=null;if(ut.key!==null&&(wt=ot.enterKey(ut.key)),ut.optional){var Ct=null;if(ut.explicit!==null?Ct=ut.explicit:ut.implicit!==null?Ct=ut.implicit:ut.tag!==null&&(Ct=ut.tag),Ct===null&&!ut.any){var Pt=ot.save();try{ut.choice===null?this._decodeGeneric(ut.tag,ot,at):this._decodeChoice(ot,at),yt=!0}catch{yt=!1}ot.restore(Pt)}else if(yt=this._peekTag(ot,Ct,ut.any),ot.isError(yt))return yt}var Tt;if(ut.obj&&yt&&(Tt=ot.enterObject()),yt){if(ut.explicit!==null){var Mt=this._decodeTag(ot,ut.explicit);if(ot.isError(Mt))return Mt;ot=Mt}var Lt=ot.offset;if(ut.use===null&&ut.choice===null){if(ut.any)var Pt=ot.save();var Dt=this._decodeTag(ot,ut.implicit!==null?ut.implicit:ut.tag,ut.any);if(ot.isError(Dt))return Dt;ut.any?ht=ot.raw(Pt):ot=Dt}if(at&&at.track&&ut.tag!==null&&at.track(ot.path(),Lt,ot.length,"tagged"),at&&at.track&&ut.tag!==null&&at.track(ot.path(),ot.offset,ot.length,"content"),ut.any?ht=ht:ut.choice===null?ht=this._decodeGeneric(ut.tag,ot,at):ht=this._decodeChoice(ot,at),ot.isError(ht))return ht;if(!ut.any&&ut.choice===null&&ut.children!==null&&ut.children.forEach(function(It){It._decode(ot,at)}),ut.contains&&(ut.tag==="octstr"||ut.tag==="bitstr")){var Ut=new $(ht);ht=this._getUse(ut.contains,ot._reporterState.obj)._decode(Ut,at)}}return ut.obj&&yt&&(ht=ot.leaveObject(Tt)),ut.key!==null&&(ht!==null||yt===!0)?ot.leaveKey(wt,ut.key,ht):wt!==null&&ot.exitKey(wt),ht},nt.prototype._decodeGeneric=function(ot,at,ut){var ht=this._baseState;return ot==="seq"||ot==="set"?null:ot==="seqof"||ot==="setof"?this._decodeList(at,ot,ht.args[0],ut):/str$/.test(ot)?this._decodeStr(at,ot,ut):ot==="objid"&&ht.args?this._decodeObjid(at,ht.args[0],ht.args[1],ut):ot==="objid"?this._decodeObjid(at,null,null,ut):ot==="gentime"||ot==="utctime"?this._decodeTime(at,ot,ut):ot==="null_"?this._decodeNull(at,ut):ot==="bool"?this._decodeBool(at,ut):ot==="objDesc"?this._decodeStr(at,ot,ut):ot==="int"||ot==="enum"?this._decodeInt(at,ht.args&&ht.args[0],ut):ht.use!==null?this._getUse(ht.use,at._reporterState.obj)._decode(at,ut):at.error("unknown tag: "+ot)},nt.prototype._getUse=function(ot,at){var ut=this._baseState;return ut.useDecoder=this._use(ot,at),j(ut.useDecoder._baseState.parent===null),ut.useDecoder=ut.useDecoder._baseState.children[0],ut.implicit!==ut.useDecoder._baseState.implicit&&(ut.useDecoder=ut.useDecoder.clone(),ut.useDecoder._baseState.implicit=ut.implicit),ut.useDecoder},nt.prototype._decodeChoice=function(ot,at){var ut=this._baseState,ht=null,yt=!1;return Object.keys(ut.choice).some(function(wt){var Ct=ot.save(),Pt=ut.choice[wt];try{var Tt=Pt._decode(ot,at);if(ot.isError(Tt))return!1;ht={type:wt,value:Tt},yt=!0}catch{return ot.restore(Ct),!1}return!0},this),yt?ht:ot.error("Choice not matched")},nt.prototype._createEncoderBuffer=function(ot){return new _(ot,this.reporter)},nt.prototype._encode=function(ot,at,ut){var ht=this._baseState;if(!(ht.default!==null&&ht.default===ot)){var yt=this._encodeValue(ot,at,ut);if(yt!==void 0&&!this._skipDefault(yt,at,ut))return yt}},nt.prototype._encodeValue=function(ot,at,ut){var ht=this._baseState;if(ht.parent===null)return ht.children[0]._encode(ot,at||new a);var Pt=null;if(this.reporter=at,ht.optional&&ot===void 0)if(ht.default!==null)ot=ht.default;else return;var yt=null,wt=!1;if(ht.any)Pt=this._createEncoderBuffer(ot);else if(ht.choice)Pt=this._encodeChoice(ot,at);else if(ht.contains)yt=this._getUse(ht.contains,ut)._encode(ot,at),wt=!0;else if(ht.children)yt=ht.children.map(function(Lt){if(Lt._baseState.tag==="null_")return Lt._encode(null,at,ot);if(Lt._baseState.key===null)return at.error("Child should have a key");var Dt=at.enterKey(Lt._baseState.key);if(typeof ot!="object")return at.error("Child expected, but input is not object");var Ut=Lt._encode(ot[Lt._baseState.key],at,ot);return at.leaveKey(Dt),Ut},this).filter(function(Lt){return Lt}),yt=this._createEncoderBuffer(yt);else if(ht.tag==="seqof"||ht.tag==="setof"){if(!(ht.args&&ht.args.length===1))return at.error("Too many args for : "+ht.tag);if(!Array.isArray(ot))return at.error("seqof/setof, but data is not Array");var Ct=this.clone();Ct._baseState.implicit=null,yt=this._createEncoderBuffer(ot.map(function(Lt){var Dt=this._baseState;return this._getUse(Dt.args[0],ot)._encode(Lt,at)},Ct))}else ht.use!==null?Pt=this._getUse(ht.use,ut)._encode(ot,at):(yt=this._encodePrimitive(ht.tag,ot),wt=!0);var Pt;if(!ht.any&&ht.choice===null){var Tt=ht.implicit!==null?ht.implicit:ht.tag,Mt=ht.implicit===null?"universal":"context";Tt===null?ht.use===null&&at.error("Tag could be omitted only for .use()"):ht.use===null&&(Pt=this._encodeComposite(Tt,wt,Mt,yt))}return ht.explicit!==null&&(Pt=this._encodeComposite(ht.explicit,!1,"context",Pt)),Pt},nt.prototype._encodeChoice=function(ot,at){var ut=this._baseState,ht=ut.choice[ot.type];return ht||j(!1,ot.type+" not found in "+JSON.stringify(Object.keys(ut.choice))),ht._encode(ot.value,at)},nt.prototype._encodePrimitive=function(ot,at){var ut=this._baseState;if(/str$/.test(ot))return this._encodeStr(at,ot);if(ot==="objid"&&ut.args)return this._encodeObjid(at,ut.reverseArgs[0],ut.args[1]);if(ot==="objid")return this._encodeObjid(at,null,null);if(ot==="gentime"||ot==="utctime")return this._encodeTime(at,ot);if(ot==="null_")return this._encodeNull();if(ot==="int"||ot==="enum")return this._encodeInt(at,ut.args&&ut.reverseArgs[0]);if(ot==="bool")return this._encodeBool(at);if(ot==="objDesc")return this._encodeStr(at,ot);throw new Error("Unsupported tag: "+ot)},nt.prototype._isNumstr=function(ot){return/^[0-9 ]*$/.test(ot)},nt.prototype._isPrintstr=function(ot){return/^[A-Za-z0-9 '\(\)\+,\-\.\/:=\?]*$/.test(ot)},node$1}var hasRequiredBase$1;function requireBase$1(){return hasRequiredBase$1||(hasRequiredBase$1=1,function(a){var _=a;_.Reporter=requireReporter().Reporter,_.DecoderBuffer=requireBuffer().DecoderBuffer,_.EncoderBuffer=requireBuffer().EncoderBuffer,_.Node=requireNode()}(base$4)),base$4}var constants$4={},der={},hasRequiredDer$2;function requireDer$2(){return hasRequiredDer$2||(hasRequiredDer$2=1,function(a){var _=requireConstants();a.tagClass={0:"universal",1:"application",2:"context",3:"private"},a.tagClassByName=_._reverse(a.tagClass),a.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},a.tagByName=_._reverse(a.tag)}(der)),der}var hasRequiredConstants;function requireConstants(){return hasRequiredConstants||(hasRequiredConstants=1,function(a){var _=a;_._reverse=function(j){var et={};return Object.keys(j).forEach(function(tt){(tt|0)==tt&&(tt=tt|0);var rt=j[tt];et[rt]=tt}),et},_.der=requireDer$2()}(constants$4)),constants$4}var decoders$1={},der_1$1,hasRequiredDer$1;function requireDer$1(){if(hasRequiredDer$1)return der_1$1;hasRequiredDer$1=1;var a=inherits_browserExports,_=requireAsn1$1(),$=_.base,j=_.bignum,et=_.constants.der;function tt(st){this.enc="der",this.name=st.name,this.entity=st,this.tree=new rt,this.tree._init(st.body)}der_1$1=tt,tt.prototype.decode=function(ot,at){return ot instanceof $.DecoderBuffer||(ot=new $.DecoderBuffer(ot,at)),this.tree._decode(ot,at)};function rt(st){$.Node.call(this,"der",st)}a(rt,$.Node),rt.prototype._peekTag=function(ot,at,ut){if(ot.isEmpty())return!1;var ht=ot.save(),yt=nt(ot,'Failed to peek tag: "'+at+'"');return ot.isError(yt)?yt:(ot.restore(ht),yt.tag===at||yt.tagStr===at||yt.tagStr+"of"===at||ut)},rt.prototype._decodeTag=function(ot,at,ut){var ht=nt(ot,'Failed to decode tag of "'+at+'"');if(ot.isError(ht))return ht;var yt=it(ot,ht.primitive,'Failed to get length of "'+at+'"');if(ot.isError(yt))return yt;if(!ut&&ht.tag!==at&&ht.tagStr!==at&&ht.tagStr+"of"!==at)return ot.error('Failed to match tag: "'+at+'"');if(ht.primitive||yt!==null)return ot.skip(yt,'Failed to match body of: "'+at+'"');var wt=ot.save(),Ct=this._skipUntilEnd(ot,'Failed to skip indefinite length body: "'+this.tag+'"');return ot.isError(Ct)?Ct:(yt=ot.offset-wt.offset,ot.restore(wt),ot.skip(yt,'Failed to match body of: "'+at+'"'))},rt.prototype._skipUntilEnd=function(ot,at){for(;;){var ut=nt(ot,at);if(ot.isError(ut))return ut;var ht=it(ot,ut.primitive,at);if(ot.isError(ht))return ht;var yt;if(ut.primitive||ht!==null?yt=ot.skip(ht):yt=this._skipUntilEnd(ot,at),ot.isError(yt))return yt;if(ut.tagStr==="end")break}},rt.prototype._decodeList=function(ot,at,ut,ht){for(var yt=[];!ot.isEmpty();){var wt=this._peekTag(ot,"end");if(ot.isError(wt))return wt;var Ct=ut.decode(ot,"der",ht);if(ot.isError(Ct)&&wt)break;yt.push(Ct)}return yt},rt.prototype._decodeStr=function(ot,at){if(at==="bitstr"){var ut=ot.readUInt8();return ot.isError(ut)?ut:{unused:ut,data:ot.raw()}}else if(at==="bmpstr"){var ht=ot.raw();if(ht.length%2===1)return ot.error("Decoding of string type: bmpstr length mismatch");for(var yt="",wt=0;wt<ht.length/2;wt++)yt+=String.fromCharCode(ht.readUInt16BE(wt*2));return yt}else if(at==="numstr"){var Ct=ot.raw().toString("ascii");return this._isNumstr(Ct)?Ct:ot.error("Decoding of string type: numstr unsupported characters")}else{if(at==="octstr")return ot.raw();if(at==="objDesc")return ot.raw();if(at==="printstr"){var Pt=ot.raw().toString("ascii");return this._isPrintstr(Pt)?Pt:ot.error("Decoding of string type: printstr unsupported characters")}else return/str$/.test(at)?ot.raw().toString():ot.error("Decoding of string type: "+at+" unsupported")}},rt.prototype._decodeObjid=function(ot,at,ut){for(var ht,yt=[],wt=0;!ot.isEmpty();){var Ct=ot.readUInt8();wt<<=7,wt|=Ct&127,Ct&128||(yt.push(wt),wt=0)}Ct&128&&yt.push(wt);var Pt=yt[0]/40|0,Tt=yt[0]%40;if(ut?ht=yt:ht=[Pt,Tt].concat(yt.slice(1)),at){var Mt=at[ht.join(" ")];Mt===void 0&&(Mt=at[ht.join(".")]),Mt!==void 0&&(ht=Mt)}return ht},rt.prototype._decodeTime=function(ot,at){var ut=ot.raw().toString();if(at==="gentime")var ht=ut.slice(0,4)|0,yt=ut.slice(4,6)|0,wt=ut.slice(6,8)|0,Ct=ut.slice(8,10)|0,Pt=ut.slice(10,12)|0,Tt=ut.slice(12,14)|0;else if(at==="utctime"){var ht=ut.slice(0,2)|0,yt=ut.slice(2,4)|0,wt=ut.slice(4,6)|0,Ct=ut.slice(6,8)|0,Pt=ut.slice(8,10)|0,Tt=ut.slice(10,12)|0;ht<70?ht=2e3+ht:ht=1900+ht}else return ot.error("Decoding "+at+" time is not supported yet");return Date.UTC(ht,yt-1,wt,Ct,Pt,Tt,0)},rt.prototype._decodeNull=function(ot){return null},rt.prototype._decodeBool=function(ot){var at=ot.readUInt8();return ot.isError(at)?at:at!==0},rt.prototype._decodeInt=function(ot,at){var ut=ot.raw(),ht=new j(ut);return at&&(ht=at[ht.toString(10)]||ht),ht},rt.prototype._use=function(ot,at){return typeof ot=="function"&&(ot=ot(at)),ot._getDecoder("der").tree};function nt(st,ot){var at=st.readUInt8(ot);if(st.isError(at))return at;var ut=et.tagClass[at>>6],ht=(at&32)===0;if((at&31)===31){var yt=at;for(at=0;(yt&128)===128;){if(yt=st.readUInt8(ot),st.isError(yt))return yt;at<<=7,at|=yt&127}}else at&=31;var wt=et.tag[at];return{cls:ut,primitive:ht,tag:at,tagStr:wt}}function it(st,ot,at){var ut=st.readUInt8(at);if(st.isError(ut))return ut;if(!ot&&ut===128)return null;if(!(ut&128))return ut;var ht=ut&127;if(ht>4)return st.error("length octect is too long");ut=0;for(var yt=0;yt<ht;yt++){ut<<=8;var wt=st.readUInt8(at);if(st.isError(wt))return wt;ut|=wt}return ut}return der_1$1}var pem$1,hasRequiredPem$1;function requirePem$1(){if(hasRequiredPem$1)return pem$1;hasRequiredPem$1=1;var a=inherits_browserExports,_=buffer$1.Buffer,$=requireDer$1();function j(et){$.call(this,et),this.enc="pem"}return a(j,$),pem$1=j,j.prototype.decode=function(tt,rt){for(var nt=tt.toString().split(/[\r\n]+/g),it=rt.label.toUpperCase(),st=/^-----(BEGIN|END) ([^-]+)-----$/,ot=-1,at=-1,ut=0;ut<nt.length;ut++){var ht=nt[ut].match(st);if(ht!==null&&ht[2]===it)if(ot===-1){if(ht[1]!=="BEGIN")break;ot=ut}else{if(ht[1]!=="END")break;at=ut;break}}if(ot===-1||at===-1)throw new Error("PEM section not found for: "+it);var yt=nt.slice(ot+1,at).join("");yt.replace(/[^a-z0-9\+\/=]+/gi,"");var wt=new _(yt,"base64");return $.prototype.decode.call(this,wt,rt)},pem$1}var hasRequiredDecoders;function requireDecoders(){return hasRequiredDecoders||(hasRequiredDecoders=1,function(a){var _=a;_.der=requireDer$1(),_.pem=requirePem$1()}(decoders$1)),decoders$1}var encoders$1={},der_1,hasRequiredDer;function requireDer(){if(hasRequiredDer)return der_1;hasRequiredDer=1;var a=inherits_browserExports,_=buffer$1.Buffer,$=requireAsn1$1(),j=$.base,et=$.constants.der;function tt(st){this.enc="der",this.name=st.name,this.entity=st,this.tree=new rt,this.tree._init(st.body)}der_1=tt,tt.prototype.encode=function(ot,at){return this.tree._encode(ot,at).join()};function rt(st){j.Node.call(this,"der",st)}a(rt,j.Node),rt.prototype._encodeComposite=function(ot,at,ut,ht){var yt=it(ot,at,ut,this.reporter);if(ht.length<128){var Pt=new _(2);return Pt[0]=yt,Pt[1]=ht.length,this._createEncoderBuffer([Pt,ht])}for(var wt=1,Ct=ht.length;Ct>=256;Ct>>=8)wt++;var Pt=new _(2+wt);Pt[0]=yt,Pt[1]=128|wt;for(var Ct=1+wt,Tt=ht.length;Tt>0;Ct--,Tt>>=8)Pt[Ct]=Tt&255;return this._createEncoderBuffer([Pt,ht])},rt.prototype._encodeStr=function(ot,at){if(at==="bitstr")return this._createEncoderBuffer([ot.unused|0,ot.data]);if(at==="bmpstr"){for(var ut=new _(ot.length*2),ht=0;ht<ot.length;ht++)ut.writeUInt16BE(ot.charCodeAt(ht),ht*2);return this._createEncoderBuffer(ut)}else return at==="numstr"?this._isNumstr(ot)?this._createEncoderBuffer(ot):this.reporter.error("Encoding of string type: numstr supports only digits and space"):at==="printstr"?this._isPrintstr(ot)?this._createEncoderBuffer(ot):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(at)?this._createEncoderBuffer(ot):at==="objDesc"?this._createEncoderBuffer(ot):this.reporter.error("Encoding of string type: "+at+" unsupported")},rt.prototype._encodeObjid=function(ot,at,ut){if(typeof ot=="string"){if(!at)return this.reporter.error("string objid given, but no values map found");if(!at.hasOwnProperty(ot))return this.reporter.error("objid not found in values map");ot=at[ot].split(/[\s\.]+/g);for(var ht=0;ht<ot.length;ht++)ot[ht]|=0}else if(Array.isArray(ot)){ot=ot.slice();for(var ht=0;ht<ot.length;ht++)ot[ht]|=0}if(!Array.isArray(ot))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(ot));if(!ut){if(ot[1]>=40)return this.reporter.error("Second objid identifier OOB");ot.splice(0,2,ot[0]*40+ot[1])}for(var yt=0,ht=0;ht<ot.length;ht++){var wt=ot[ht];for(yt++;wt>=128;wt>>=7)yt++}for(var Ct=new _(yt),Pt=Ct.length-1,ht=ot.length-1;ht>=0;ht--){var wt=ot[ht];for(Ct[Pt--]=wt&127;(wt>>=7)>0;)Ct[Pt--]=128|wt&127}return this._createEncoderBuffer(Ct)};function nt(st){return st<10?"0"+st:st}rt.prototype._encodeTime=function(ot,at){var ut,ht=new Date(ot);return at==="gentime"?ut=[nt(ht.getFullYear()),nt(ht.getUTCMonth()+1),nt(ht.getUTCDate()),nt(ht.getUTCHours()),nt(ht.getUTCMinutes()),nt(ht.getUTCSeconds()),"Z"].join(""):at==="utctime"?ut=[nt(ht.getFullYear()%100),nt(ht.getUTCMonth()+1),nt(ht.getUTCDate()),nt(ht.getUTCHours()),nt(ht.getUTCMinutes()),nt(ht.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+at+" time is not supported yet"),this._encodeStr(ut,"octstr")},rt.prototype._encodeNull=function(){return this._createEncoderBuffer("")},rt.prototype._encodeInt=function(ot,at){if(typeof ot=="string"){if(!at)return this.reporter.error("String int or enum given, but no values map");if(!at.hasOwnProperty(ot))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(ot));ot=at[ot]}if(typeof ot!="number"&&!_.isBuffer(ot)){var ut=ot.toArray();!ot.sign&&ut[0]&128&&ut.unshift(0),ot=new _(ut)}if(_.isBuffer(ot)){var ht=ot.length;ot.length===0&&ht++;var wt=new _(ht);return ot.copy(wt),ot.length===0&&(wt[0]=0),this._createEncoderBuffer(wt)}if(ot<128)return this._createEncoderBuffer(ot);if(ot<256)return this._createEncoderBuffer([0,ot]);for(var ht=1,yt=ot;yt>=256;yt>>=8)ht++;for(var wt=new Array(ht),yt=wt.length-1;yt>=0;yt--)wt[yt]=ot&255,ot>>=8;return wt[0]&128&&wt.unshift(0),this._createEncoderBuffer(new _(wt))},rt.prototype._encodeBool=function(ot){return this._createEncoderBuffer(ot?255:0)},rt.prototype._use=function(ot,at){return typeof ot=="function"&&(ot=ot(at)),ot._getEncoder("der").tree},rt.prototype._skipDefault=function(ot,at,ut){var ht=this._baseState,yt;if(ht.default===null)return!1;var wt=ot.join();if(ht.defaultBuffer===void 0&&(ht.defaultBuffer=this._encodeValue(ht.default,at,ut).join()),wt.length!==ht.defaultBuffer.length)return!1;for(yt=0;yt<wt.length;yt++)if(wt[yt]!==ht.defaultBuffer[yt])return!1;return!0};function it(st,ot,at,ut){var ht;if(st==="seqof"?st="seq":st==="setof"&&(st="set"),et.tagByName.hasOwnProperty(st))ht=et.tagByName[st];else if(typeof st=="number"&&(st|0)===st)ht=st;else return ut.error("Unknown tag: "+st);return ht>=31?ut.error("Multi-octet tag encoding unsupported"):(ot||(ht|=32),ht|=et.tagClassByName[at||"universal"]<<6,ht)}return der_1}var pem,hasRequiredPem;function requirePem(){if(hasRequiredPem)return pem;hasRequiredPem=1;var a=inherits_browserExports,_=requireDer();function $(j){_.call(this,j),this.enc="pem"}return a($,_),pem=$,$.prototype.encode=function(et,tt){for(var rt=_.prototype.encode.call(this,et),nt=rt.toString("base64"),it=["-----BEGIN "+tt.label+"-----"],st=0;st<nt.length;st+=64)it.push(nt.slice(st,st+64));return it.push("-----END "+tt.label+"-----"),it.join(`
`)},pem}var hasRequiredEncoders;function requireEncoders(){return hasRequiredEncoders||(hasRequiredEncoders=1,function(a){var _=a;_.der=requireDer(),_.pem=requirePem()}(encoders$1)),encoders$1}var hasRequiredAsn1$1;function requireAsn1$1(){return hasRequiredAsn1$1||(hasRequiredAsn1$1=1,function(a){var _=a;_.bignum=bnExports$1,_.define=requireApi().define,_.base=requireBase$1(),_.constants=requireConstants(),_.decoders=requireDecoders(),_.encoders=requireEncoders()}(asn1)),asn1}var certificate,hasRequiredCertificate;function requireCertificate(){if(hasRequiredCertificate)return certificate;hasRequiredCertificate=1;var a=requireAsn1$1(),_=a.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),$=a.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),j=a.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())}),et=a.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(j),this.key("subjectPublicKey").bitstr())}),tt=a.define("RelativeDistinguishedName",function(){this.setof($)}),rt=a.define("RDNSequence",function(){this.seqof(tt)}),nt=a.define("Name",function(){this.choice({rdnSequence:this.use(rt)})}),it=a.define("Validity",function(){this.seq().obj(this.key("notBefore").use(_),this.key("notAfter").use(_))}),st=a.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),ot=a.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(j),this.key("issuer").use(nt),this.key("validity").use(it),this.key("subject").use(nt),this.key("subjectPublicKeyInfo").use(et),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(st).optional())}),at=a.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(ot),this.key("signatureAlgorithm").use(j),this.key("signatureValue").bitstr())});return certificate=at,certificate}var hasRequiredAsn1;function requireAsn1(){if(hasRequiredAsn1)return asn1$1;hasRequiredAsn1=1;var a=requireAsn1$1();asn1$1.certificate=requireCertificate();var _=a.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});asn1$1.RSAPrivateKey=_;var $=a.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});asn1$1.RSAPublicKey=$;var j=a.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),et=a.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(j),this.key("subjectPublicKey").bitstr())});asn1$1.PublicKey=et;var tt=a.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(j),this.key("subjectPrivateKey").octstr())});asn1$1.PrivateKey=tt;var rt=a.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});asn1$1.EncryptedPrivateKey=rt;var nt=a.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});asn1$1.DSAPrivateKey=nt,asn1$1.DSAparam=a.define("DSAparam",function(){this.int()});var it=a.define("ECParameters",function(){this.choice({namedCurve:this.objid()})}),st=a.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(it),this.key("publicKey").optional().explicit(1).bitstr())});return asn1$1.ECPrivateKey=st,asn1$1.signature=a.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())}),asn1$1}const require$$1$1={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"};var fixProc,hasRequiredFixProc;function requireFixProc(){if(hasRequiredFixProc)return fixProc;hasRequiredFixProc=1;var a=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,_=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,$=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,j=requireEvp_bytestokey(),et=requireBrowser$6(),tt=safeBufferExports.Buffer;return fixProc=function(rt,nt){var it=rt.toString(),st=it.match(a),ot;if(st){var ut="aes"+st[1],ht=tt.from(st[2],"hex"),yt=tt.from(st[3].replace(/[\r\n]/g,""),"base64"),wt=j(nt,ht.slice(0,8),parseInt(st[1],10)).key,Ct=[],Pt=et.createDecipheriv(ut,wt,ht);Ct.push(Pt.update(yt)),Ct.push(Pt.final()),ot=tt.concat(Ct)}else{var at=it.match($);ot=tt.from(at[2].replace(/[\r\n]/g,""),"base64")}var Tt=it.match(_)[1];return{tag:Tt,data:ot}},fixProc}var parseAsn1,hasRequiredParseAsn1;function requireParseAsn1(){if(hasRequiredParseAsn1)return parseAsn1;hasRequiredParseAsn1=1;var a=requireAsn1(),_=require$$1$1,$=requireFixProc(),j=requireBrowser$6(),et=browser$7,tt=safeBufferExports.Buffer;function rt(it,st){var ot=it.algorithm.decrypt.kde.kdeparams.salt,at=parseInt(it.algorithm.decrypt.kde.kdeparams.iters.toString(),10),ut=_[it.algorithm.decrypt.cipher.algo.join(".")],ht=it.algorithm.decrypt.cipher.iv,yt=it.subjectPrivateKey,wt=parseInt(ut.split("-")[1],10)/8,Ct=et.pbkdf2Sync(st,ot,at,wt,"sha1"),Pt=j.createDecipheriv(ut,Ct,ht),Tt=[];return Tt.push(Pt.update(yt)),Tt.push(Pt.final()),tt.concat(Tt)}function nt(it){var st;typeof it=="object"&&!tt.isBuffer(it)&&(st=it.passphrase,it=it.key),typeof it=="string"&&(it=tt.from(it));var ot=$(it,st),at=ot.tag,ut=ot.data,ht,yt;switch(at){case"CERTIFICATE":yt=a.certificate.decode(ut,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(yt||(yt=a.PublicKey.decode(ut,"der")),ht=yt.algorithm.algorithm.join("."),ht){case"1.2.840.113549.1.1.1":return a.RSAPublicKey.decode(yt.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return yt.subjectPrivateKey=yt.subjectPublicKey,{type:"ec",data:yt};case"1.2.840.10040.4.1":return yt.algorithm.params.pub_key=a.DSAparam.decode(yt.subjectPublicKey.data,"der"),{type:"dsa",data:yt.algorithm.params};default:throw new Error("unknown key id "+ht)}case"ENCRYPTED PRIVATE KEY":ut=a.EncryptedPrivateKey.decode(ut,"der"),ut=rt(ut,st);case"PRIVATE KEY":switch(yt=a.PrivateKey.decode(ut,"der"),ht=yt.algorithm.algorithm.join("."),ht){case"1.2.840.113549.1.1.1":return a.RSAPrivateKey.decode(yt.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:yt.algorithm.curve,privateKey:a.ECPrivateKey.decode(yt.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return yt.algorithm.params.priv_key=a.DSAparam.decode(yt.subjectPrivateKey,"der"),{type:"dsa",params:yt.algorithm.params};default:throw new Error("unknown key id "+ht)}case"RSA PUBLIC KEY":return a.RSAPublicKey.decode(ut,"der");case"RSA PRIVATE KEY":return a.RSAPrivateKey.decode(ut,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:a.DSAPrivateKey.decode(ut,"der")};case"EC PRIVATE KEY":return ut=a.ECPrivateKey.decode(ut,"der"),{curve:ut.parameters.value,privateKey:ut.privateKey};default:throw new Error("unknown key type "+at)}}return nt.signature=a.signature,parseAsn1=nt,parseAsn1}const require$$4$1={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"};var hasRequiredSign;function requireSign(){if(hasRequiredSign)return sign$1.exports;hasRequiredSign=1;var a=safeBufferExports.Buffer,_=requireBrowser$7(),$=requireBrowserifyRsa(),j=requireElliptic$1().ec,et=requireBn(),tt=requireParseAsn1(),rt=require$$4$1,nt=1;function it(Pt,Tt,Mt,Lt,Dt){var Ut=tt(Tt);if(Ut.curve){if(Lt!=="ecdsa"&&Lt!=="ecdsa/rsa")throw new Error("wrong private key type");return st(Pt,Ut)}else if(Ut.type==="dsa"){if(Lt!=="dsa")throw new Error("wrong private key type");return ot(Pt,Ut,Mt)}if(Lt!=="rsa"&&Lt!=="ecdsa/rsa")throw new Error("wrong private key type");if(Tt.padding!==void 0&&Tt.padding!==nt)throw new Error("illegal or unsupported padding mode");Pt=a.concat([Dt,Pt]);for(var Ot=Ut.modulus.byteLength(),It=[0,1];Pt.length+It.length+1<Ot;)It.push(255);It.push(0);for(var Bt=-1;++Bt<Pt.length;)It.push(Pt[Bt]);var Ft=$(It,Ut);return Ft}function st(Pt,Tt){var Mt=rt[Tt.curve.join(".")];if(!Mt)throw new Error("unknown curve "+Tt.curve.join("."));var Lt=new j(Mt),Dt=Lt.keyFromPrivate(Tt.privateKey),Ut=Dt.sign(Pt);return a.from(Ut.toDER())}function ot(Pt,Tt,Mt){for(var Lt=Tt.params.priv_key,Dt=Tt.params.p,Ut=Tt.params.q,Ot=Tt.params.g,It=new et(0),Bt,Ft=ht(Pt,Ut).mod(Ut),jt=!1,bt=ut(Lt,Ut,Pt,Mt);jt===!1;)Bt=wt(Ut,bt,Mt),It=Ct(Ot,Bt,Dt,Ut),jt=Bt.invm(Ut).imul(Ft.add(Lt.mul(It))).mod(Ut),jt.cmpn(0)===0&&(jt=!1,It=new et(0));return at(It,jt)}function at(Pt,Tt){Pt=Pt.toArray(),Tt=Tt.toArray(),Pt[0]&128&&(Pt=[0].concat(Pt)),Tt[0]&128&&(Tt=[0].concat(Tt));var Mt=Pt.length+Tt.length+4,Lt=[48,Mt,2,Pt.length];return Lt=Lt.concat(Pt,[2,Tt.length],Tt),a.from(Lt)}function ut(Pt,Tt,Mt,Lt){if(Pt=a.from(Pt.toArray()),Pt.length<Tt.byteLength()){var Dt=a.alloc(Tt.byteLength()-Pt.length);Pt=a.concat([Dt,Pt])}var Ut=Mt.length,Ot=yt(Mt,Tt),It=a.alloc(Ut);It.fill(1);var Bt=a.alloc(Ut);return Bt=_(Lt,Bt).update(It).update(a.from([0])).update(Pt).update(Ot).digest(),It=_(Lt,Bt).update(It).digest(),Bt=_(Lt,Bt).update(It).update(a.from([1])).update(Pt).update(Ot).digest(),It=_(Lt,Bt).update(It).digest(),{k:Bt,v:It}}function ht(Pt,Tt){var Mt=new et(Pt),Lt=(Pt.length<<3)-Tt.bitLength();return Lt>0&&Mt.ishrn(Lt),Mt}function yt(Pt,Tt){Pt=ht(Pt,Tt),Pt=Pt.mod(Tt);var Mt=a.from(Pt.toArray());if(Mt.length<Tt.byteLength()){var Lt=a.alloc(Tt.byteLength()-Mt.length);Mt=a.concat([Lt,Mt])}return Mt}function wt(Pt,Tt,Mt){var Lt,Dt;do{for(Lt=a.alloc(0);Lt.length*8<Pt.bitLength();)Tt.v=_(Mt,Tt.k).update(Tt.v).digest(),Lt=a.concat([Lt,Tt.v]);Dt=ht(Lt,Pt),Tt.k=_(Mt,Tt.k).update(Tt.v).update(a.from([0])).digest(),Tt.v=_(Mt,Tt.k).update(Tt.v).digest()}while(Dt.cmp(Pt)!==-1);return Dt}function Ct(Pt,Tt,Mt,Lt){return Pt.toRed(et.mont(Mt)).redPow(Tt).fromRed().mod(Lt)}return sign$1.exports=it,sign$1.exports.getKey=ut,sign$1.exports.makeKey=wt,sign$1.exports}var verify_1,hasRequiredVerify;function requireVerify(){if(hasRequiredVerify)return verify_1;hasRequiredVerify=1;var a=safeBufferExports.Buffer,_=requireBn(),$=requireElliptic$1().ec,j=requireParseAsn1(),et=require$$4$1;function tt(st,ot,at,ut,ht){var yt=j(at);if(yt.type==="ec"){if(ut!=="ecdsa"&&ut!=="ecdsa/rsa")throw new Error("wrong public key type");return rt(st,ot,yt)}else if(yt.type==="dsa"){if(ut!=="dsa")throw new Error("wrong public key type");return nt(st,ot,yt)}if(ut!=="rsa"&&ut!=="ecdsa/rsa")throw new Error("wrong public key type");ot=a.concat([ht,ot]);for(var wt=yt.modulus.byteLength(),Ct=[1],Pt=0;ot.length+Ct.length+2<wt;)Ct.push(255),Pt+=1;Ct.push(0);for(var Tt=-1;++Tt<ot.length;)Ct.push(ot[Tt]);Ct=a.from(Ct);var Mt=_.mont(yt.modulus);st=new _(st).toRed(Mt),st=st.redPow(new _(yt.publicExponent)),st=a.from(st.fromRed().toArray());var Lt=Pt<8?1:0;for(wt=Math.min(st.length,Ct.length),st.length!==Ct.length&&(Lt=1),Tt=-1;++Tt<wt;)Lt|=st[Tt]^Ct[Tt];return Lt===0}function rt(st,ot,at){var ut=et[at.data.algorithm.curve.join(".")];if(!ut)throw new Error("unknown curve "+at.data.algorithm.curve.join("."));var ht=new $(ut),yt=at.data.subjectPrivateKey.data;return ht.verify(ot,st,yt)}function nt(st,ot,at){var ut=at.data.p,ht=at.data.q,yt=at.data.g,wt=at.data.pub_key,Ct=j.signature.decode(st,"der"),Pt=Ct.s,Tt=Ct.r;it(Pt,ht),it(Tt,ht);var Mt=_.mont(ut),Lt=Pt.invm(ht),Dt=yt.toRed(Mt).redPow(new _(ot).mul(Lt).mod(ht)).fromRed().mul(wt.toRed(Mt).redPow(Tt.mul(Lt).mod(ht)).fromRed()).mod(ut).mod(ht);return Dt.cmp(Tt)===0}function it(st,ot){if(st.cmpn(0)<=0)throw new Error("invalid sig");if(st.cmp(ot)>=0)throw new Error("invalid sig")}return verify_1=tt,verify_1}var browser$3,hasRequiredBrowser$3;function requireBrowser$3(){if(hasRequiredBrowser$3)return browser$3;hasRequiredBrowser$3=1;var a=safeBufferExports.Buffer,_=browser$b,$=requireReadableBrowser(),j=inherits_browserExports,et=requireSign(),tt=requireVerify(),rt=require$$6$1;Object.keys(rt).forEach(function(at){rt[at].id=a.from(rt[at].id,"hex"),rt[at.toLowerCase()]=rt[at]});function nt(at){$.Writable.call(this);var ut=rt[at];if(!ut)throw new Error("Unknown message digest");this._hashType=ut.hash,this._hash=_(ut.hash),this._tag=ut.id,this._signType=ut.sign}j(nt,$.Writable),nt.prototype._write=function(ut,ht,yt){this._hash.update(ut),yt()},nt.prototype.update=function(ut,ht){return this._hash.update(typeof ut=="string"?a.from(ut,ht):ut),this},nt.prototype.sign=function(ut,ht){this.end();var yt=this._hash.digest(),wt=et(yt,ut,this._hashType,this._signType,this._tag);return ht?wt.toString(ht):wt};function it(at){$.Writable.call(this);var ut=rt[at];if(!ut)throw new Error("Unknown message digest");this._hash=_(ut.hash),this._tag=ut.id,this._signType=ut.sign}j(it,$.Writable),it.prototype._write=function(ut,ht,yt){this._hash.update(ut),yt()},it.prototype.update=function(ut,ht){return this._hash.update(typeof ut=="string"?a.from(ut,ht):ut),this},it.prototype.verify=function(ut,ht,yt){var wt=typeof ht=="string"?a.from(ht,yt):ht;this.end();var Ct=this._hash.digest();return tt(wt,Ct,ut,this._signType,this._tag)};function st(at){return new nt(at)}function ot(at){return new it(at)}return browser$3={Sign:st,Verify:ot,createSign:st,createVerify:ot},browser$3}var elliptic$2={};const name$2="elliptic",version$2="6.5.5",description$2="EC cryptography",main$2="lib/elliptic.js",files$1=["lib"],scripts$2={lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},repository$2={type:"git",url:"git@github.com:indutny/elliptic"},keywords$1=["EC","Elliptic","curve","Cryptography"],author$2="Fedor Indutny <fedor@indutny.com>",license$2="MIT",bugs$1={url:"https://github.com/indutny/elliptic/issues"},homepage$2="https://github.com/indutny/elliptic",devDependencies$2={brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},dependencies$2={"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"},require$$0$2={name:name$2,version:version$2,description:description$2,main:main$2,files:files$1,scripts:scripts$2,repository:repository$2,keywords:keywords$1,author:author$2,license:license$2,bugs:bugs$1,homepage:homepage$2,devDependencies:devDependencies$2,dependencies:dependencies$2};var utils$j={},hasRequiredUtils;function requireUtils(){return hasRequiredUtils||(hasRequiredUtils=1,function(a){var _=a,$=bnExports$1,j=minimalisticAssert,et=utils$v;_.assert=j,_.toArray=et.toArray,_.zero2=et.zero2,_.toHex=et.toHex,_.encode=et.encode;function tt(ot,at,ut){var ht=new Array(Math.max(ot.bitLength(),ut)+1),yt;for(yt=0;yt<ht.length;yt+=1)ht[yt]=0;var wt=1<<at+1,Ct=ot.clone();for(yt=0;yt<ht.length;yt++){var Pt,Tt=Ct.andln(wt-1);Ct.isOdd()?(Tt>(wt>>1)-1?Pt=(wt>>1)-Tt:Pt=Tt,Ct.isubn(Pt)):Pt=0,ht[yt]=Pt,Ct.iushrn(1)}return ht}_.getNAF=tt;function rt(ot,at){var ut=[[],[]];ot=ot.clone(),at=at.clone();for(var ht=0,yt=0,wt;ot.cmpn(-ht)>0||at.cmpn(-yt)>0;){var Ct=ot.andln(3)+ht&3,Pt=at.andln(3)+yt&3;Ct===3&&(Ct=-1),Pt===3&&(Pt=-1);var Tt;Ct&1?(wt=ot.andln(7)+ht&7,(wt===3||wt===5)&&Pt===2?Tt=-Ct:Tt=Ct):Tt=0,ut[0].push(Tt);var Mt;Pt&1?(wt=at.andln(7)+yt&7,(wt===3||wt===5)&&Ct===2?Mt=-Pt:Mt=Pt):Mt=0,ut[1].push(Mt),2*ht===Tt+1&&(ht=1-ht),2*yt===Mt+1&&(yt=1-yt),ot.iushrn(1),at.iushrn(1)}return ut}_.getJSF=rt;function nt(ot,at,ut){var ht="_"+at;ot.prototype[at]=function(){return this[ht]!==void 0?this[ht]:this[ht]=ut.call(this)}}_.cachedProperty=nt;function it(ot){return typeof ot=="string"?_.toArray(ot,"hex"):ot}_.parseBytes=it;function st(ot){return new $(ot,"hex","le")}_.intFromLE=st}(utils$j)),utils$j}var curve$1={},base$3,hasRequiredBase;function requireBase(){if(hasRequiredBase)return base$3;hasRequiredBase=1;var a=bnExports$1,_=requireUtils(),$=_.getNAF,j=_.getJSF,et=_.assert;function tt(nt,it){this.type=nt,this.p=new a(it.p,16),this.red=it.prime?a.red(it.prime):a.mont(this.p),this.zero=new a(0).toRed(this.red),this.one=new a(1).toRed(this.red),this.two=new a(2).toRed(this.red),this.n=it.n&&new a(it.n,16),this.g=it.g&&this.pointFromJSON(it.g,it.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var st=this.n&&this.p.div(this.n);!st||st.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}base$3=tt,tt.prototype.point=function(){throw new Error("Not implemented")},tt.prototype.validate=function(){throw new Error("Not implemented")},tt.prototype._fixedNafMul=function(it,st){et(it.precomputed);var ot=it._getDoubles(),at=$(st,1,this._bitLength),ut=(1<<ot.step+1)-(ot.step%2===0?2:1);ut/=3;var ht=[],yt,wt;for(yt=0;yt<at.length;yt+=ot.step){wt=0;for(var Ct=yt+ot.step-1;Ct>=yt;Ct--)wt=(wt<<1)+at[Ct];ht.push(wt)}for(var Pt=this.jpoint(null,null,null),Tt=this.jpoint(null,null,null),Mt=ut;Mt>0;Mt--){for(yt=0;yt<ht.length;yt++)wt=ht[yt],wt===Mt?Tt=Tt.mixedAdd(ot.points[yt]):wt===-Mt&&(Tt=Tt.mixedAdd(ot.points[yt].neg()));Pt=Pt.add(Tt)}return Pt.toP()},tt.prototype._wnafMul=function(it,st){var ot=4,at=it._getNAFPoints(ot);ot=at.wnd;for(var ut=at.points,ht=$(st,ot,this._bitLength),yt=this.jpoint(null,null,null),wt=ht.length-1;wt>=0;wt--){for(var Ct=0;wt>=0&&ht[wt]===0;wt--)Ct++;if(wt>=0&&Ct++,yt=yt.dblp(Ct),wt<0)break;var Pt=ht[wt];et(Pt!==0),it.type==="affine"?Pt>0?yt=yt.mixedAdd(ut[Pt-1>>1]):yt=yt.mixedAdd(ut[-Pt-1>>1].neg()):Pt>0?yt=yt.add(ut[Pt-1>>1]):yt=yt.add(ut[-Pt-1>>1].neg())}return it.type==="affine"?yt.toP():yt},tt.prototype._wnafMulAdd=function(it,st,ot,at,ut){var ht=this._wnafT1,yt=this._wnafT2,wt=this._wnafT3,Ct=0,Pt,Tt,Mt;for(Pt=0;Pt<at;Pt++){Mt=st[Pt];var Lt=Mt._getNAFPoints(it);ht[Pt]=Lt.wnd,yt[Pt]=Lt.points}for(Pt=at-1;Pt>=1;Pt-=2){var Dt=Pt-1,Ut=Pt;if(ht[Dt]!==1||ht[Ut]!==1){wt[Dt]=$(ot[Dt],ht[Dt],this._bitLength),wt[Ut]=$(ot[Ut],ht[Ut],this._bitLength),Ct=Math.max(wt[Dt].length,Ct),Ct=Math.max(wt[Ut].length,Ct);continue}var Ot=[st[Dt],null,null,st[Ut]];st[Dt].y.cmp(st[Ut].y)===0?(Ot[1]=st[Dt].add(st[Ut]),Ot[2]=st[Dt].toJ().mixedAdd(st[Ut].neg())):st[Dt].y.cmp(st[Ut].y.redNeg())===0?(Ot[1]=st[Dt].toJ().mixedAdd(st[Ut]),Ot[2]=st[Dt].add(st[Ut].neg())):(Ot[1]=st[Dt].toJ().mixedAdd(st[Ut]),Ot[2]=st[Dt].toJ().mixedAdd(st[Ut].neg()));var It=[-3,-1,-5,-7,0,7,5,1,3],Bt=j(ot[Dt],ot[Ut]);for(Ct=Math.max(Bt[0].length,Ct),wt[Dt]=new Array(Ct),wt[Ut]=new Array(Ct),Tt=0;Tt<Ct;Tt++){var Ft=Bt[0][Tt]|0,jt=Bt[1][Tt]|0;wt[Dt][Tt]=It[(Ft+1)*3+(jt+1)],wt[Ut][Tt]=0,yt[Dt]=Ot}}var bt=this.jpoint(null,null,null),vt=this._wnafT4;for(Pt=Ct;Pt>=0;Pt--){for(var ct=0;Pt>=0;){var dt=!0;for(Tt=0;Tt<at;Tt++)vt[Tt]=wt[Tt][Pt]|0,vt[Tt]!==0&&(dt=!1);if(!dt)break;ct++,Pt--}if(Pt>=0&&ct++,bt=bt.dblp(ct),Pt<0)break;for(Tt=0;Tt<at;Tt++){var mt=vt[Tt];mt!==0&&(mt>0?Mt=yt[Tt][mt-1>>1]:mt<0&&(Mt=yt[Tt][-mt-1>>1].neg()),Mt.type==="affine"?bt=bt.mixedAdd(Mt):bt=bt.add(Mt))}}for(Pt=0;Pt<at;Pt++)yt[Pt]=null;return ut?bt:bt.toP()};function rt(nt,it){this.curve=nt,this.type=it,this.precomputed=null}return tt.BasePoint=rt,rt.prototype.eq=function(){throw new Error("Not implemented")},rt.prototype.validate=function(){return this.curve.validate(this)},tt.prototype.decodePoint=function(it,st){it=_.toArray(it,st);var ot=this.p.byteLength();if((it[0]===4||it[0]===6||it[0]===7)&&it.length-1===2*ot){it[0]===6?et(it[it.length-1]%2===0):it[0]===7&&et(it[it.length-1]%2===1);var at=this.point(it.slice(1,1+ot),it.slice(1+ot,1+2*ot));return at}else if((it[0]===2||it[0]===3)&&it.length-1===ot)return this.pointFromX(it.slice(1,1+ot),it[0]===3);throw new Error("Unknown point format")},rt.prototype.encodeCompressed=function(it){return this.encode(it,!0)},rt.prototype._encode=function(it){var st=this.curve.p.byteLength(),ot=this.getX().toArray("be",st);return it?[this.getY().isEven()?2:3].concat(ot):[4].concat(ot,this.getY().toArray("be",st))},rt.prototype.encode=function(it,st){return _.encode(this._encode(st),it)},rt.prototype.precompute=function(it){if(this.precomputed)return this;var st={doubles:null,naf:null,beta:null};return st.naf=this._getNAFPoints(8),st.doubles=this._getDoubles(4,it),st.beta=this._getBeta(),this.precomputed=st,this},rt.prototype._hasDoubles=function(it){if(!this.precomputed)return!1;var st=this.precomputed.doubles;return st?st.points.length>=Math.ceil((it.bitLength()+1)/st.step):!1},rt.prototype._getDoubles=function(it,st){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var ot=[this],at=this,ut=0;ut<st;ut+=it){for(var ht=0;ht<it;ht++)at=at.dbl();ot.push(at)}return{step:it,points:ot}},rt.prototype._getNAFPoints=function(it){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var st=[this],ot=(1<<it)-1,at=ot===1?null:this.dbl(),ut=1;ut<ot;ut++)st[ut]=st[ut-1].add(at);return{wnd:it,points:st}},rt.prototype._getBeta=function(){return null},rt.prototype.dblp=function(it){for(var st=this,ot=0;ot<it;ot++)st=st.dbl();return st},base$3}var short$1,hasRequiredShort;function requireShort(){if(hasRequiredShort)return short$1;hasRequiredShort=1;var a=requireUtils(),_=bnExports$1,$=inherits_browserExports,j=requireBase(),et=a.assert;function tt(it){j.call(this,"short",it),this.a=new _(it.a,16).toRed(this.red),this.b=new _(it.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(it),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}$(tt,j),short$1=tt,tt.prototype._getEndomorphism=function(st){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var ot,at;if(st.beta)ot=new _(st.beta,16).toRed(this.red);else{var ut=this._getEndoRoots(this.p);ot=ut[0].cmp(ut[1])<0?ut[0]:ut[1],ot=ot.toRed(this.red)}if(st.lambda)at=new _(st.lambda,16);else{var ht=this._getEndoRoots(this.n);this.g.mul(ht[0]).x.cmp(this.g.x.redMul(ot))===0?at=ht[0]:(at=ht[1],et(this.g.mul(at).x.cmp(this.g.x.redMul(ot))===0))}var yt;return st.basis?yt=st.basis.map(function(wt){return{a:new _(wt.a,16),b:new _(wt.b,16)}}):yt=this._getEndoBasis(at),{beta:ot,lambda:at,basis:yt}}},tt.prototype._getEndoRoots=function(st){var ot=st===this.p?this.red:_.mont(st),at=new _(2).toRed(ot).redInvm(),ut=at.redNeg(),ht=new _(3).toRed(ot).redNeg().redSqrt().redMul(at),yt=ut.redAdd(ht).fromRed(),wt=ut.redSub(ht).fromRed();return[yt,wt]},tt.prototype._getEndoBasis=function(st){for(var ot=this.n.ushrn(Math.floor(this.n.bitLength()/2)),at=st,ut=this.n.clone(),ht=new _(1),yt=new _(0),wt=new _(0),Ct=new _(1),Pt,Tt,Mt,Lt,Dt,Ut,Ot,It=0,Bt,Ft;at.cmpn(0)!==0;){var jt=ut.div(at);Bt=ut.sub(jt.mul(at)),Ft=wt.sub(jt.mul(ht));var bt=Ct.sub(jt.mul(yt));if(!Mt&&Bt.cmp(ot)<0)Pt=Ot.neg(),Tt=ht,Mt=Bt.neg(),Lt=Ft;else if(Mt&&++It===2)break;Ot=Bt,ut=at,at=Bt,wt=ht,ht=Ft,Ct=yt,yt=bt}Dt=Bt.neg(),Ut=Ft;var vt=Mt.sqr().add(Lt.sqr()),ct=Dt.sqr().add(Ut.sqr());return ct.cmp(vt)>=0&&(Dt=Pt,Ut=Tt),Mt.negative&&(Mt=Mt.neg(),Lt=Lt.neg()),Dt.negative&&(Dt=Dt.neg(),Ut=Ut.neg()),[{a:Mt,b:Lt},{a:Dt,b:Ut}]},tt.prototype._endoSplit=function(st){var ot=this.endo.basis,at=ot[0],ut=ot[1],ht=ut.b.mul(st).divRound(this.n),yt=at.b.neg().mul(st).divRound(this.n),wt=ht.mul(at.a),Ct=yt.mul(ut.a),Pt=ht.mul(at.b),Tt=yt.mul(ut.b),Mt=st.sub(wt).sub(Ct),Lt=Pt.add(Tt).neg();return{k1:Mt,k2:Lt}},tt.prototype.pointFromX=function(st,ot){st=new _(st,16),st.red||(st=st.toRed(this.red));var at=st.redSqr().redMul(st).redIAdd(st.redMul(this.a)).redIAdd(this.b),ut=at.redSqrt();if(ut.redSqr().redSub(at).cmp(this.zero)!==0)throw new Error("invalid point");var ht=ut.fromRed().isOdd();return(ot&&!ht||!ot&&ht)&&(ut=ut.redNeg()),this.point(st,ut)},tt.prototype.validate=function(st){if(st.inf)return!0;var ot=st.x,at=st.y,ut=this.a.redMul(ot),ht=ot.redSqr().redMul(ot).redIAdd(ut).redIAdd(this.b);return at.redSqr().redISub(ht).cmpn(0)===0},tt.prototype._endoWnafMulAdd=function(st,ot,at){for(var ut=this._endoWnafT1,ht=this._endoWnafT2,yt=0;yt<st.length;yt++){var wt=this._endoSplit(ot[yt]),Ct=st[yt],Pt=Ct._getBeta();wt.k1.negative&&(wt.k1.ineg(),Ct=Ct.neg(!0)),wt.k2.negative&&(wt.k2.ineg(),Pt=Pt.neg(!0)),ut[yt*2]=Ct,ut[yt*2+1]=Pt,ht[yt*2]=wt.k1,ht[yt*2+1]=wt.k2}for(var Tt=this._wnafMulAdd(1,ut,ht,yt*2,at),Mt=0;Mt<yt*2;Mt++)ut[Mt]=null,ht[Mt]=null;return Tt};function rt(it,st,ot,at){j.BasePoint.call(this,it,"affine"),st===null&&ot===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new _(st,16),this.y=new _(ot,16),at&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}$(rt,j.BasePoint),tt.prototype.point=function(st,ot,at){return new rt(this,st,ot,at)},tt.prototype.pointFromJSON=function(st,ot){return rt.fromJSON(this,st,ot)},rt.prototype._getBeta=function(){if(this.curve.endo){var st=this.precomputed;if(st&&st.beta)return st.beta;var ot=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(st){var at=this.curve,ut=function(ht){return at.point(ht.x.redMul(at.endo.beta),ht.y)};st.beta=ot,ot.precomputed={beta:null,naf:st.naf&&{wnd:st.naf.wnd,points:st.naf.points.map(ut)},doubles:st.doubles&&{step:st.doubles.step,points:st.doubles.points.map(ut)}}}return ot}},rt.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},rt.fromJSON=function(st,ot,at){typeof ot=="string"&&(ot=JSON.parse(ot));var ut=st.point(ot[0],ot[1],at);if(!ot[2])return ut;function ht(wt){return st.point(wt[0],wt[1],at)}var yt=ot[2];return ut.precomputed={beta:null,doubles:yt.doubles&&{step:yt.doubles.step,points:[ut].concat(yt.doubles.points.map(ht))},naf:yt.naf&&{wnd:yt.naf.wnd,points:[ut].concat(yt.naf.points.map(ht))}},ut},rt.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},rt.prototype.isInfinity=function(){return this.inf},rt.prototype.add=function(st){if(this.inf)return st;if(st.inf)return this;if(this.eq(st))return this.dbl();if(this.neg().eq(st))return this.curve.point(null,null);if(this.x.cmp(st.x)===0)return this.curve.point(null,null);var ot=this.y.redSub(st.y);ot.cmpn(0)!==0&&(ot=ot.redMul(this.x.redSub(st.x).redInvm()));var at=ot.redSqr().redISub(this.x).redISub(st.x),ut=ot.redMul(this.x.redSub(at)).redISub(this.y);return this.curve.point(at,ut)},rt.prototype.dbl=function(){if(this.inf)return this;var st=this.y.redAdd(this.y);if(st.cmpn(0)===0)return this.curve.point(null,null);var ot=this.curve.a,at=this.x.redSqr(),ut=st.redInvm(),ht=at.redAdd(at).redIAdd(at).redIAdd(ot).redMul(ut),yt=ht.redSqr().redISub(this.x.redAdd(this.x)),wt=ht.redMul(this.x.redSub(yt)).redISub(this.y);return this.curve.point(yt,wt)},rt.prototype.getX=function(){return this.x.fromRed()},rt.prototype.getY=function(){return this.y.fromRed()},rt.prototype.mul=function(st){return st=new _(st,16),this.isInfinity()?this:this._hasDoubles(st)?this.curve._fixedNafMul(this,st):this.curve.endo?this.curve._endoWnafMulAdd([this],[st]):this.curve._wnafMul(this,st)},rt.prototype.mulAdd=function(st,ot,at){var ut=[this,ot],ht=[st,at];return this.curve.endo?this.curve._endoWnafMulAdd(ut,ht):this.curve._wnafMulAdd(1,ut,ht,2)},rt.prototype.jmulAdd=function(st,ot,at){var ut=[this,ot],ht=[st,at];return this.curve.endo?this.curve._endoWnafMulAdd(ut,ht,!0):this.curve._wnafMulAdd(1,ut,ht,2,!0)},rt.prototype.eq=function(st){return this===st||this.inf===st.inf&&(this.inf||this.x.cmp(st.x)===0&&this.y.cmp(st.y)===0)},rt.prototype.neg=function(st){if(this.inf)return this;var ot=this.curve.point(this.x,this.y.redNeg());if(st&&this.precomputed){var at=this.precomputed,ut=function(ht){return ht.neg()};ot.precomputed={naf:at.naf&&{wnd:at.naf.wnd,points:at.naf.points.map(ut)},doubles:at.doubles&&{step:at.doubles.step,points:at.doubles.points.map(ut)}}}return ot},rt.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var st=this.curve.jpoint(this.x,this.y,this.curve.one);return st};function nt(it,st,ot,at){j.BasePoint.call(this,it,"jacobian"),st===null&&ot===null&&at===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new _(0)):(this.x=new _(st,16),this.y=new _(ot,16),this.z=new _(at,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}return $(nt,j.BasePoint),tt.prototype.jpoint=function(st,ot,at){return new nt(this,st,ot,at)},nt.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var st=this.z.redInvm(),ot=st.redSqr(),at=this.x.redMul(ot),ut=this.y.redMul(ot).redMul(st);return this.curve.point(at,ut)},nt.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},nt.prototype.add=function(st){if(this.isInfinity())return st;if(st.isInfinity())return this;var ot=st.z.redSqr(),at=this.z.redSqr(),ut=this.x.redMul(ot),ht=st.x.redMul(at),yt=this.y.redMul(ot.redMul(st.z)),wt=st.y.redMul(at.redMul(this.z)),Ct=ut.redSub(ht),Pt=yt.redSub(wt);if(Ct.cmpn(0)===0)return Pt.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var Tt=Ct.redSqr(),Mt=Tt.redMul(Ct),Lt=ut.redMul(Tt),Dt=Pt.redSqr().redIAdd(Mt).redISub(Lt).redISub(Lt),Ut=Pt.redMul(Lt.redISub(Dt)).redISub(yt.redMul(Mt)),Ot=this.z.redMul(st.z).redMul(Ct);return this.curve.jpoint(Dt,Ut,Ot)},nt.prototype.mixedAdd=function(st){if(this.isInfinity())return st.toJ();if(st.isInfinity())return this;var ot=this.z.redSqr(),at=this.x,ut=st.x.redMul(ot),ht=this.y,yt=st.y.redMul(ot).redMul(this.z),wt=at.redSub(ut),Ct=ht.redSub(yt);if(wt.cmpn(0)===0)return Ct.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var Pt=wt.redSqr(),Tt=Pt.redMul(wt),Mt=at.redMul(Pt),Lt=Ct.redSqr().redIAdd(Tt).redISub(Mt).redISub(Mt),Dt=Ct.redMul(Mt.redISub(Lt)).redISub(ht.redMul(Tt)),Ut=this.z.redMul(wt);return this.curve.jpoint(Lt,Dt,Ut)},nt.prototype.dblp=function(st){if(st===0)return this;if(this.isInfinity())return this;if(!st)return this.dbl();var ot;if(this.curve.zeroA||this.curve.threeA){var at=this;for(ot=0;ot<st;ot++)at=at.dbl();return at}var ut=this.curve.a,ht=this.curve.tinv,yt=this.x,wt=this.y,Ct=this.z,Pt=Ct.redSqr().redSqr(),Tt=wt.redAdd(wt);for(ot=0;ot<st;ot++){var Mt=yt.redSqr(),Lt=Tt.redSqr(),Dt=Lt.redSqr(),Ut=Mt.redAdd(Mt).redIAdd(Mt).redIAdd(ut.redMul(Pt)),Ot=yt.redMul(Lt),It=Ut.redSqr().redISub(Ot.redAdd(Ot)),Bt=Ot.redISub(It),Ft=Ut.redMul(Bt);Ft=Ft.redIAdd(Ft).redISub(Dt);var jt=Tt.redMul(Ct);ot+1<st&&(Pt=Pt.redMul(Dt)),yt=It,Ct=jt,Tt=Ft}return this.curve.jpoint(yt,Tt.redMul(ht),Ct)},nt.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},nt.prototype._zeroDbl=function(){var st,ot,at;if(this.zOne){var ut=this.x.redSqr(),ht=this.y.redSqr(),yt=ht.redSqr(),wt=this.x.redAdd(ht).redSqr().redISub(ut).redISub(yt);wt=wt.redIAdd(wt);var Ct=ut.redAdd(ut).redIAdd(ut),Pt=Ct.redSqr().redISub(wt).redISub(wt),Tt=yt.redIAdd(yt);Tt=Tt.redIAdd(Tt),Tt=Tt.redIAdd(Tt),st=Pt,ot=Ct.redMul(wt.redISub(Pt)).redISub(Tt),at=this.y.redAdd(this.y)}else{var Mt=this.x.redSqr(),Lt=this.y.redSqr(),Dt=Lt.redSqr(),Ut=this.x.redAdd(Lt).redSqr().redISub(Mt).redISub(Dt);Ut=Ut.redIAdd(Ut);var Ot=Mt.redAdd(Mt).redIAdd(Mt),It=Ot.redSqr(),Bt=Dt.redIAdd(Dt);Bt=Bt.redIAdd(Bt),Bt=Bt.redIAdd(Bt),st=It.redISub(Ut).redISub(Ut),ot=Ot.redMul(Ut.redISub(st)).redISub(Bt),at=this.y.redMul(this.z),at=at.redIAdd(at)}return this.curve.jpoint(st,ot,at)},nt.prototype._threeDbl=function(){var st,ot,at;if(this.zOne){var ut=this.x.redSqr(),ht=this.y.redSqr(),yt=ht.redSqr(),wt=this.x.redAdd(ht).redSqr().redISub(ut).redISub(yt);wt=wt.redIAdd(wt);var Ct=ut.redAdd(ut).redIAdd(ut).redIAdd(this.curve.a),Pt=Ct.redSqr().redISub(wt).redISub(wt);st=Pt;var Tt=yt.redIAdd(yt);Tt=Tt.redIAdd(Tt),Tt=Tt.redIAdd(Tt),ot=Ct.redMul(wt.redISub(Pt)).redISub(Tt),at=this.y.redAdd(this.y)}else{var Mt=this.z.redSqr(),Lt=this.y.redSqr(),Dt=this.x.redMul(Lt),Ut=this.x.redSub(Mt).redMul(this.x.redAdd(Mt));Ut=Ut.redAdd(Ut).redIAdd(Ut);var Ot=Dt.redIAdd(Dt);Ot=Ot.redIAdd(Ot);var It=Ot.redAdd(Ot);st=Ut.redSqr().redISub(It),at=this.y.redAdd(this.z).redSqr().redISub(Lt).redISub(Mt);var Bt=Lt.redSqr();Bt=Bt.redIAdd(Bt),Bt=Bt.redIAdd(Bt),Bt=Bt.redIAdd(Bt),ot=Ut.redMul(Ot.redISub(st)).redISub(Bt)}return this.curve.jpoint(st,ot,at)},nt.prototype._dbl=function(){var st=this.curve.a,ot=this.x,at=this.y,ut=this.z,ht=ut.redSqr().redSqr(),yt=ot.redSqr(),wt=at.redSqr(),Ct=yt.redAdd(yt).redIAdd(yt).redIAdd(st.redMul(ht)),Pt=ot.redAdd(ot);Pt=Pt.redIAdd(Pt);var Tt=Pt.redMul(wt),Mt=Ct.redSqr().redISub(Tt.redAdd(Tt)),Lt=Tt.redISub(Mt),Dt=wt.redSqr();Dt=Dt.redIAdd(Dt),Dt=Dt.redIAdd(Dt),Dt=Dt.redIAdd(Dt);var Ut=Ct.redMul(Lt).redISub(Dt),Ot=at.redAdd(at).redMul(ut);return this.curve.jpoint(Mt,Ut,Ot)},nt.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var st=this.x.redSqr(),ot=this.y.redSqr(),at=this.z.redSqr(),ut=ot.redSqr(),ht=st.redAdd(st).redIAdd(st),yt=ht.redSqr(),wt=this.x.redAdd(ot).redSqr().redISub(st).redISub(ut);wt=wt.redIAdd(wt),wt=wt.redAdd(wt).redIAdd(wt),wt=wt.redISub(yt);var Ct=wt.redSqr(),Pt=ut.redIAdd(ut);Pt=Pt.redIAdd(Pt),Pt=Pt.redIAdd(Pt),Pt=Pt.redIAdd(Pt);var Tt=ht.redIAdd(wt).redSqr().redISub(yt).redISub(Ct).redISub(Pt),Mt=ot.redMul(Tt);Mt=Mt.redIAdd(Mt),Mt=Mt.redIAdd(Mt);var Lt=this.x.redMul(Ct).redISub(Mt);Lt=Lt.redIAdd(Lt),Lt=Lt.redIAdd(Lt);var Dt=this.y.redMul(Tt.redMul(Pt.redISub(Tt)).redISub(wt.redMul(Ct)));Dt=Dt.redIAdd(Dt),Dt=Dt.redIAdd(Dt),Dt=Dt.redIAdd(Dt);var Ut=this.z.redAdd(wt).redSqr().redISub(at).redISub(Ct);return this.curve.jpoint(Lt,Dt,Ut)},nt.prototype.mul=function(st,ot){return st=new _(st,ot),this.curve._wnafMul(this,st)},nt.prototype.eq=function(st){if(st.type==="affine")return this.eq(st.toJ());if(this===st)return!0;var ot=this.z.redSqr(),at=st.z.redSqr();if(this.x.redMul(at).redISub(st.x.redMul(ot)).cmpn(0)!==0)return!1;var ut=ot.redMul(this.z),ht=at.redMul(st.z);return this.y.redMul(ht).redISub(st.y.redMul(ut)).cmpn(0)===0},nt.prototype.eqXToP=function(st){var ot=this.z.redSqr(),at=st.toRed(this.curve.red).redMul(ot);if(this.x.cmp(at)===0)return!0;for(var ut=st.clone(),ht=this.curve.redN.redMul(ot);;){if(ut.iadd(this.curve.n),ut.cmp(this.curve.p)>=0)return!1;if(at.redIAdd(ht),this.x.cmp(at)===0)return!0}},nt.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},nt.prototype.isInfinity=function(){return this.z.cmpn(0)===0},short$1}var mont$1,hasRequiredMont;function requireMont(){if(hasRequiredMont)return mont$1;hasRequiredMont=1;var a=bnExports$1,_=inherits_browserExports,$=requireBase(),j=requireUtils();function et(rt){$.call(this,"mont",rt),this.a=new a(rt.a,16).toRed(this.red),this.b=new a(rt.b,16).toRed(this.red),this.i4=new a(4).toRed(this.red).redInvm(),this.two=new a(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}_(et,$),mont$1=et,et.prototype.validate=function(nt){var it=nt.normalize().x,st=it.redSqr(),ot=st.redMul(it).redAdd(st.redMul(this.a)).redAdd(it),at=ot.redSqrt();return at.redSqr().cmp(ot)===0};function tt(rt,nt,it){$.BasePoint.call(this,rt,"projective"),nt===null&&it===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new a(nt,16),this.z=new a(it,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}return _(tt,$.BasePoint),et.prototype.decodePoint=function(nt,it){return this.point(j.toArray(nt,it),1)},et.prototype.point=function(nt,it){return new tt(this,nt,it)},et.prototype.pointFromJSON=function(nt){return tt.fromJSON(this,nt)},tt.prototype.precompute=function(){},tt.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},tt.fromJSON=function(nt,it){return new tt(nt,it[0],it[1]||nt.one)},tt.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},tt.prototype.isInfinity=function(){return this.z.cmpn(0)===0},tt.prototype.dbl=function(){var nt=this.x.redAdd(this.z),it=nt.redSqr(),st=this.x.redSub(this.z),ot=st.redSqr(),at=it.redSub(ot),ut=it.redMul(ot),ht=at.redMul(ot.redAdd(this.curve.a24.redMul(at)));return this.curve.point(ut,ht)},tt.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},tt.prototype.diffAdd=function(nt,it){var st=this.x.redAdd(this.z),ot=this.x.redSub(this.z),at=nt.x.redAdd(nt.z),ut=nt.x.redSub(nt.z),ht=ut.redMul(st),yt=at.redMul(ot),wt=it.z.redMul(ht.redAdd(yt).redSqr()),Ct=it.x.redMul(ht.redISub(yt).redSqr());return this.curve.point(wt,Ct)},tt.prototype.mul=function(nt){for(var it=nt.clone(),st=this,ot=this.curve.point(null,null),at=this,ut=[];it.cmpn(0)!==0;it.iushrn(1))ut.push(it.andln(1));for(var ht=ut.length-1;ht>=0;ht--)ut[ht]===0?(st=st.diffAdd(ot,at),ot=ot.dbl()):(ot=st.diffAdd(ot,at),st=st.dbl());return ot},tt.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},tt.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},tt.prototype.eq=function(nt){return this.getX().cmp(nt.getX())===0},tt.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},tt.prototype.getX=function(){return this.normalize(),this.x.fromRed()},mont$1}var edwards$1,hasRequiredEdwards;function requireEdwards(){if(hasRequiredEdwards)return edwards$1;hasRequiredEdwards=1;var a=requireUtils(),_=bnExports$1,$=inherits_browserExports,j=requireBase(),et=a.assert;function tt(nt){this.twisted=(nt.a|0)!==1,this.mOneA=this.twisted&&(nt.a|0)===-1,this.extended=this.mOneA,j.call(this,"edwards",nt),this.a=new _(nt.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new _(nt.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new _(nt.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),et(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(nt.c|0)===1}$(tt,j),edwards$1=tt,tt.prototype._mulA=function(it){return this.mOneA?it.redNeg():this.a.redMul(it)},tt.prototype._mulC=function(it){return this.oneC?it:this.c.redMul(it)},tt.prototype.jpoint=function(it,st,ot,at){return this.point(it,st,ot,at)},tt.prototype.pointFromX=function(it,st){it=new _(it,16),it.red||(it=it.toRed(this.red));var ot=it.redSqr(),at=this.c2.redSub(this.a.redMul(ot)),ut=this.one.redSub(this.c2.redMul(this.d).redMul(ot)),ht=at.redMul(ut.redInvm()),yt=ht.redSqrt();if(yt.redSqr().redSub(ht).cmp(this.zero)!==0)throw new Error("invalid point");var wt=yt.fromRed().isOdd();return(st&&!wt||!st&&wt)&&(yt=yt.redNeg()),this.point(it,yt)},tt.prototype.pointFromY=function(it,st){it=new _(it,16),it.red||(it=it.toRed(this.red));var ot=it.redSqr(),at=ot.redSub(this.c2),ut=ot.redMul(this.d).redMul(this.c2).redSub(this.a),ht=at.redMul(ut.redInvm());if(ht.cmp(this.zero)===0){if(st)throw new Error("invalid point");return this.point(this.zero,it)}var yt=ht.redSqrt();if(yt.redSqr().redSub(ht).cmp(this.zero)!==0)throw new Error("invalid point");return yt.fromRed().isOdd()!==st&&(yt=yt.redNeg()),this.point(yt,it)},tt.prototype.validate=function(it){if(it.isInfinity())return!0;it.normalize();var st=it.x.redSqr(),ot=it.y.redSqr(),at=st.redMul(this.a).redAdd(ot),ut=this.c2.redMul(this.one.redAdd(this.d.redMul(st).redMul(ot)));return at.cmp(ut)===0};function rt(nt,it,st,ot,at){j.BasePoint.call(this,nt,"projective"),it===null&&st===null&&ot===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new _(it,16),this.y=new _(st,16),this.z=ot?new _(ot,16):this.curve.one,this.t=at&&new _(at,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}return $(rt,j.BasePoint),tt.prototype.pointFromJSON=function(it){return rt.fromJSON(this,it)},tt.prototype.point=function(it,st,ot,at){return new rt(this,it,st,ot,at)},rt.fromJSON=function(it,st){return new rt(it,st[0],st[1],st[2])},rt.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},rt.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)},rt.prototype._extDbl=function(){var it=this.x.redSqr(),st=this.y.redSqr(),ot=this.z.redSqr();ot=ot.redIAdd(ot);var at=this.curve._mulA(it),ut=this.x.redAdd(this.y).redSqr().redISub(it).redISub(st),ht=at.redAdd(st),yt=ht.redSub(ot),wt=at.redSub(st),Ct=ut.redMul(yt),Pt=ht.redMul(wt),Tt=ut.redMul(wt),Mt=yt.redMul(ht);return this.curve.point(Ct,Pt,Mt,Tt)},rt.prototype._projDbl=function(){var it=this.x.redAdd(this.y).redSqr(),st=this.x.redSqr(),ot=this.y.redSqr(),at,ut,ht,yt,wt,Ct;if(this.curve.twisted){yt=this.curve._mulA(st);var Pt=yt.redAdd(ot);this.zOne?(at=it.redSub(st).redSub(ot).redMul(Pt.redSub(this.curve.two)),ut=Pt.redMul(yt.redSub(ot)),ht=Pt.redSqr().redSub(Pt).redSub(Pt)):(wt=this.z.redSqr(),Ct=Pt.redSub(wt).redISub(wt),at=it.redSub(st).redISub(ot).redMul(Ct),ut=Pt.redMul(yt.redSub(ot)),ht=Pt.redMul(Ct))}else yt=st.redAdd(ot),wt=this.curve._mulC(this.z).redSqr(),Ct=yt.redSub(wt).redSub(wt),at=this.curve._mulC(it.redISub(yt)).redMul(Ct),ut=this.curve._mulC(yt).redMul(st.redISub(ot)),ht=yt.redMul(Ct);return this.curve.point(at,ut,ht)},rt.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},rt.prototype._extAdd=function(it){var st=this.y.redSub(this.x).redMul(it.y.redSub(it.x)),ot=this.y.redAdd(this.x).redMul(it.y.redAdd(it.x)),at=this.t.redMul(this.curve.dd).redMul(it.t),ut=this.z.redMul(it.z.redAdd(it.z)),ht=ot.redSub(st),yt=ut.redSub(at),wt=ut.redAdd(at),Ct=ot.redAdd(st),Pt=ht.redMul(yt),Tt=wt.redMul(Ct),Mt=ht.redMul(Ct),Lt=yt.redMul(wt);return this.curve.point(Pt,Tt,Lt,Mt)},rt.prototype._projAdd=function(it){var st=this.z.redMul(it.z),ot=st.redSqr(),at=this.x.redMul(it.x),ut=this.y.redMul(it.y),ht=this.curve.d.redMul(at).redMul(ut),yt=ot.redSub(ht),wt=ot.redAdd(ht),Ct=this.x.redAdd(this.y).redMul(it.x.redAdd(it.y)).redISub(at).redISub(ut),Pt=st.redMul(yt).redMul(Ct),Tt,Mt;return this.curve.twisted?(Tt=st.redMul(wt).redMul(ut.redSub(this.curve._mulA(at))),Mt=yt.redMul(wt)):(Tt=st.redMul(wt).redMul(ut.redSub(at)),Mt=this.curve._mulC(yt).redMul(wt)),this.curve.point(Pt,Tt,Mt)},rt.prototype.add=function(it){return this.isInfinity()?it:it.isInfinity()?this:this.curve.extended?this._extAdd(it):this._projAdd(it)},rt.prototype.mul=function(it){return this._hasDoubles(it)?this.curve._fixedNafMul(this,it):this.curve._wnafMul(this,it)},rt.prototype.mulAdd=function(it,st,ot){return this.curve._wnafMulAdd(1,[this,st],[it,ot],2,!1)},rt.prototype.jmulAdd=function(it,st,ot){return this.curve._wnafMulAdd(1,[this,st],[it,ot],2,!0)},rt.prototype.normalize=function(){if(this.zOne)return this;var it=this.z.redInvm();return this.x=this.x.redMul(it),this.y=this.y.redMul(it),this.t&&(this.t=this.t.redMul(it)),this.z=this.curve.one,this.zOne=!0,this},rt.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},rt.prototype.getX=function(){return this.normalize(),this.x.fromRed()},rt.prototype.getY=function(){return this.normalize(),this.y.fromRed()},rt.prototype.eq=function(it){return this===it||this.getX().cmp(it.getX())===0&&this.getY().cmp(it.getY())===0},rt.prototype.eqXToP=function(it){var st=it.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(st)===0)return!0;for(var ot=it.clone(),at=this.curve.redN.redMul(this.z);;){if(ot.iadd(this.curve.n),ot.cmp(this.curve.p)>=0)return!1;if(st.redIAdd(at),this.x.cmp(st)===0)return!0}},rt.prototype.toP=rt.prototype.normalize,rt.prototype.mixedAdd=rt.prototype.add,edwards$1}var hasRequiredCurve;function requireCurve(){return hasRequiredCurve||(hasRequiredCurve=1,function(a){var _=a;_.base=requireBase(),_.short=requireShort(),_.mont=requireMont(),_.edwards=requireEdwards()}(curve$1)),curve$1}var curves$3={},secp256k1$1,hasRequiredSecp256k1$1;function requireSecp256k1$1(){return hasRequiredSecp256k1$1||(hasRequiredSecp256k1$1=1,secp256k1$1={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}),secp256k1$1}var hasRequiredCurves;function requireCurves(){return hasRequiredCurves||(hasRequiredCurves=1,function(a){var _=a,$=hash$4,j=requireCurve(),et=requireUtils(),tt=et.assert;function rt(st){st.type==="short"?this.curve=new j.short(st):st.type==="edwards"?this.curve=new j.edwards(st):this.curve=new j.mont(st),this.g=this.curve.g,this.n=this.curve.n,this.hash=st.hash,tt(this.g.validate(),"Invalid curve"),tt(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}_.PresetCurve=rt;function nt(st,ot){Object.defineProperty(_,st,{configurable:!0,enumerable:!0,get:function(){var at=new rt(ot);return Object.defineProperty(_,st,{configurable:!0,enumerable:!0,value:at}),at}})}nt("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:$.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),nt("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:$.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),nt("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:$.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),nt("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:$.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),nt("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:$.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),nt("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:$.sha256,gRed:!1,g:["9"]}),nt("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:$.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var it;try{it=requireSecp256k1$1()}catch{it=void 0}nt("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:$.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",it]})}(curves$3)),curves$3}var key$3,hasRequiredKey$1;function requireKey$1(){if(hasRequiredKey$1)return key$3;hasRequiredKey$1=1;var a=bnExports$1,_=requireUtils(),$=_.assert;function j(et,tt){this.ec=et,this.priv=null,this.pub=null,tt.priv&&this._importPrivate(tt.priv,tt.privEnc),tt.pub&&this._importPublic(tt.pub,tt.pubEnc)}return key$3=j,j.fromPublic=function(tt,rt,nt){return rt instanceof j?rt:new j(tt,{pub:rt,pubEnc:nt})},j.fromPrivate=function(tt,rt,nt){return rt instanceof j?rt:new j(tt,{priv:rt,privEnc:nt})},j.prototype.validate=function(){var tt=this.getPublic();return tt.isInfinity()?{result:!1,reason:"Invalid public key"}:tt.validate()?tt.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},j.prototype.getPublic=function(tt,rt){return typeof tt=="string"&&(rt=tt,tt=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),rt?this.pub.encode(rt,tt):this.pub},j.prototype.getPrivate=function(tt){return tt==="hex"?this.priv.toString(16,2):this.priv},j.prototype._importPrivate=function(tt,rt){this.priv=new a(tt,rt||16),this.priv=this.priv.umod(this.ec.curve.n)},j.prototype._importPublic=function(tt,rt){if(tt.x||tt.y){this.ec.curve.type==="mont"?$(tt.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&$(tt.x&&tt.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(tt.x,tt.y);return}this.pub=this.ec.curve.decodePoint(tt,rt)},j.prototype.derive=function(tt){return tt.validate()||$(tt.validate(),"public point not validated"),tt.mul(this.priv).getX()},j.prototype.sign=function(tt,rt,nt){return this.ec.sign(tt,this,rt,nt)},j.prototype.verify=function(tt,rt){return this.ec.verify(tt,rt,this)},j.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"},key$3}var signature$3,hasRequiredSignature$1;function requireSignature$1(){if(hasRequiredSignature$1)return signature$3;hasRequiredSignature$1=1;var a=bnExports$1,_=requireUtils(),$=_.assert;function j(it,st){if(it instanceof j)return it;this._importDER(it,st)||($(it.r&&it.s,"Signature without r or s"),this.r=new a(it.r,16),this.s=new a(it.s,16),it.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=it.recoveryParam)}signature$3=j;function et(){this.place=0}function tt(it,st){var ot=it[st.place++];if(!(ot&128))return ot;var at=ot&15;if(at===0||at>4)return!1;for(var ut=0,ht=0,yt=st.place;ht<at;ht++,yt++)ut<<=8,ut|=it[yt],ut>>>=0;return ut<=127?!1:(st.place=yt,ut)}function rt(it){for(var st=0,ot=it.length-1;!it[st]&&!(it[st+1]&128)&&st<ot;)st++;return st===0?it:it.slice(st)}j.prototype._importDER=function(st,ot){st=_.toArray(st,ot);var at=new et;if(st[at.place++]!==48)return!1;var ut=tt(st,at);if(ut===!1||ut+at.place!==st.length||st[at.place++]!==2)return!1;var ht=tt(st,at);if(ht===!1)return!1;var yt=st.slice(at.place,ht+at.place);if(at.place+=ht,st[at.place++]!==2)return!1;var wt=tt(st,at);if(wt===!1||st.length!==wt+at.place)return!1;var Ct=st.slice(at.place,wt+at.place);if(yt[0]===0)if(yt[1]&128)yt=yt.slice(1);else return!1;if(Ct[0]===0)if(Ct[1]&128)Ct=Ct.slice(1);else return!1;return this.r=new a(yt),this.s=new a(Ct),this.recoveryParam=null,!0};function nt(it,st){if(st<128){it.push(st);return}var ot=1+(Math.log(st)/Math.LN2>>>3);for(it.push(ot|128);--ot;)it.push(st>>>(ot<<3)&255);it.push(st)}return j.prototype.toDER=function(st){var ot=this.r.toArray(),at=this.s.toArray();for(ot[0]&128&&(ot=[0].concat(ot)),at[0]&128&&(at=[0].concat(at)),ot=rt(ot),at=rt(at);!at[0]&&!(at[1]&128);)at=at.slice(1);var ut=[2];nt(ut,ot.length),ut=ut.concat(ot),ut.push(2),nt(ut,at.length);var ht=ut.concat(at),yt=[48];return nt(yt,ht.length),yt=yt.concat(ht),_.encode(yt,st)},signature$3}var ec$4,hasRequiredEc;function requireEc(){if(hasRequiredEc)return ec$4;hasRequiredEc=1;var a=bnExports$1,_=hmacDrbg,$=requireUtils(),j=requireCurves(),et=requireBrorand(),tt=$.assert,rt=requireKey$1(),nt=requireSignature$1();function it(st){if(!(this instanceof it))return new it(st);typeof st=="string"&&(tt(Object.prototype.hasOwnProperty.call(j,st),"Unknown curve "+st),st=j[st]),st instanceof j.PresetCurve&&(st={curve:st}),this.curve=st.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=st.curve.g,this.g.precompute(st.curve.n.bitLength()+1),this.hash=st.hash||st.curve.hash}return ec$4=it,it.prototype.keyPair=function(ot){return new rt(this,ot)},it.prototype.keyFromPrivate=function(ot,at){return rt.fromPrivate(this,ot,at)},it.prototype.keyFromPublic=function(ot,at){return rt.fromPublic(this,ot,at)},it.prototype.genKeyPair=function(ot){ot||(ot={});for(var at=new _({hash:this.hash,pers:ot.pers,persEnc:ot.persEnc||"utf8",entropy:ot.entropy||et(this.hash.hmacStrength),entropyEnc:ot.entropy&&ot.entropyEnc||"utf8",nonce:this.n.toArray()}),ut=this.n.byteLength(),ht=this.n.sub(new a(2));;){var yt=new a(at.generate(ut));if(!(yt.cmp(ht)>0))return yt.iaddn(1),this.keyFromPrivate(yt)}},it.prototype._truncateToN=function(ot,at){var ut=ot.byteLength()*8-this.n.bitLength();return ut>0&&(ot=ot.ushrn(ut)),!at&&ot.cmp(this.n)>=0?ot.sub(this.n):ot},it.prototype.sign=function(ot,at,ut,ht){typeof ut=="object"&&(ht=ut,ut=null),ht||(ht={}),at=this.keyFromPrivate(at,ut),ot=this._truncateToN(new a(ot,16));for(var yt=this.n.byteLength(),wt=at.getPrivate().toArray("be",yt),Ct=ot.toArray("be",yt),Pt=new _({hash:this.hash,entropy:wt,nonce:Ct,pers:ht.pers,persEnc:ht.persEnc||"utf8"}),Tt=this.n.sub(new a(1)),Mt=0;;Mt++){var Lt=ht.k?ht.k(Mt):new a(Pt.generate(this.n.byteLength()));if(Lt=this._truncateToN(Lt,!0),!(Lt.cmpn(1)<=0||Lt.cmp(Tt)>=0)){var Dt=this.g.mul(Lt);if(!Dt.isInfinity()){var Ut=Dt.getX(),Ot=Ut.umod(this.n);if(Ot.cmpn(0)!==0){var It=Lt.invm(this.n).mul(Ot.mul(at.getPrivate()).iadd(ot));if(It=It.umod(this.n),It.cmpn(0)!==0){var Bt=(Dt.getY().isOdd()?1:0)|(Ut.cmp(Ot)!==0?2:0);return ht.canonical&&It.cmp(this.nh)>0&&(It=this.n.sub(It),Bt^=1),new nt({r:Ot,s:It,recoveryParam:Bt})}}}}}},it.prototype.verify=function(ot,at,ut,ht){ot=this._truncateToN(new a(ot,16)),ut=this.keyFromPublic(ut,ht),at=new nt(at,"hex");var yt=at.r,wt=at.s;if(yt.cmpn(1)<0||yt.cmp(this.n)>=0||wt.cmpn(1)<0||wt.cmp(this.n)>=0)return!1;var Ct=wt.invm(this.n),Pt=Ct.mul(ot).umod(this.n),Tt=Ct.mul(yt).umod(this.n),Mt;return this.curve._maxwellTrick?(Mt=this.g.jmulAdd(Pt,ut.getPublic(),Tt),Mt.isInfinity()?!1:Mt.eqXToP(yt)):(Mt=this.g.mulAdd(Pt,ut.getPublic(),Tt),Mt.isInfinity()?!1:Mt.getX().umod(this.n).cmp(yt)===0)},it.prototype.recoverPubKey=function(st,ot,at,ut){tt((3&at)===at,"The recovery param is more than two bits"),ot=new nt(ot,ut);var ht=this.n,yt=new a(st),wt=ot.r,Ct=ot.s,Pt=at&1,Tt=at>>1;if(wt.cmp(this.curve.p.umod(this.curve.n))>=0&&Tt)throw new Error("Unable to find sencond key candinate");Tt?wt=this.curve.pointFromX(wt.add(this.curve.n),Pt):wt=this.curve.pointFromX(wt,Pt);var Mt=ot.r.invm(ht),Lt=ht.sub(yt).mul(Mt).umod(ht),Dt=Ct.mul(Mt).umod(ht);return this.g.mulAdd(Lt,wt,Dt)},it.prototype.getKeyRecoveryParam=function(st,ot,at,ut){if(ot=new nt(ot,ut),ot.recoveryParam!==null)return ot.recoveryParam;for(var ht=0;ht<4;ht++){var yt;try{yt=this.recoverPubKey(st,ot,ht)}catch{continue}if(yt.eq(at))return ht}throw new Error("Unable to find valid recovery factor")},ec$4}var key$2,hasRequiredKey;function requireKey(){if(hasRequiredKey)return key$2;hasRequiredKey=1;var a=requireUtils(),_=a.assert,$=a.parseBytes,j=a.cachedProperty;function et(tt,rt){this.eddsa=tt,this._secret=$(rt.secret),tt.isPoint(rt.pub)?this._pub=rt.pub:this._pubBytes=$(rt.pub)}return et.fromPublic=function(rt,nt){return nt instanceof et?nt:new et(rt,{pub:nt})},et.fromSecret=function(rt,nt){return nt instanceof et?nt:new et(rt,{secret:nt})},et.prototype.secret=function(){return this._secret},j(et,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),j(et,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),j(et,"privBytes",function(){var rt=this.eddsa,nt=this.hash(),it=rt.encodingLength-1,st=nt.slice(0,rt.encodingLength);return st[0]&=248,st[it]&=127,st[it]|=64,st}),j(et,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),j(et,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),j(et,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),et.prototype.sign=function(rt){return _(this._secret,"KeyPair can only verify"),this.eddsa.sign(rt,this)},et.prototype.verify=function(rt,nt){return this.eddsa.verify(rt,nt,this)},et.prototype.getSecret=function(rt){return _(this._secret,"KeyPair is public only"),a.encode(this.secret(),rt)},et.prototype.getPublic=function(rt){return a.encode(this.pubBytes(),rt)},key$2=et,key$2}var signature$2,hasRequiredSignature;function requireSignature(){if(hasRequiredSignature)return signature$2;hasRequiredSignature=1;var a=bnExports$1,_=requireUtils(),$=_.assert,j=_.cachedProperty,et=_.parseBytes;function tt(rt,nt){this.eddsa=rt,typeof nt!="object"&&(nt=et(nt)),Array.isArray(nt)&&(nt={R:nt.slice(0,rt.encodingLength),S:nt.slice(rt.encodingLength)}),$(nt.R&&nt.S,"Signature without R or S"),rt.isPoint(nt.R)&&(this._R=nt.R),nt.S instanceof a&&(this._S=nt.S),this._Rencoded=Array.isArray(nt.R)?nt.R:nt.Rencoded,this._Sencoded=Array.isArray(nt.S)?nt.S:nt.Sencoded}return j(tt,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),j(tt,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),j(tt,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),j(tt,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),tt.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},tt.prototype.toHex=function(){return _.encode(this.toBytes(),"hex").toUpperCase()},signature$2=tt,signature$2}var eddsa$1,hasRequiredEddsa;function requireEddsa(){if(hasRequiredEddsa)return eddsa$1;hasRequiredEddsa=1;var a=hash$4,_=requireCurves(),$=requireUtils(),j=$.assert,et=$.parseBytes,tt=requireKey(),rt=requireSignature();function nt(it){if(j(it==="ed25519","only tested with ed25519 so far"),!(this instanceof nt))return new nt(it);it=_[it].curve,this.curve=it,this.g=it.g,this.g.precompute(it.n.bitLength()+1),this.pointClass=it.point().constructor,this.encodingLength=Math.ceil(it.n.bitLength()/8),this.hash=a.sha512}return eddsa$1=nt,nt.prototype.sign=function(st,ot){st=et(st);var at=this.keyFromSecret(ot),ut=this.hashInt(at.messagePrefix(),st),ht=this.g.mul(ut),yt=this.encodePoint(ht),wt=this.hashInt(yt,at.pubBytes(),st).mul(at.priv()),Ct=ut.add(wt).umod(this.curve.n);return this.makeSignature({R:ht,S:Ct,Rencoded:yt})},nt.prototype.verify=function(st,ot,at){st=et(st),ot=this.makeSignature(ot);var ut=this.keyFromPublic(at),ht=this.hashInt(ot.Rencoded(),ut.pubBytes(),st),yt=this.g.mul(ot.S()),wt=ot.R().add(ut.pub().mul(ht));return wt.eq(yt)},nt.prototype.hashInt=function(){for(var st=this.hash(),ot=0;ot<arguments.length;ot++)st.update(arguments[ot]);return $.intFromLE(st.digest()).umod(this.curve.n)},nt.prototype.keyFromPublic=function(st){return tt.fromPublic(this,st)},nt.prototype.keyFromSecret=function(st){return tt.fromSecret(this,st)},nt.prototype.makeSignature=function(st){return st instanceof rt?st:new rt(this,st)},nt.prototype.encodePoint=function(st){var ot=st.getY().toArray("le",this.encodingLength);return ot[this.encodingLength-1]|=st.getX().isOdd()?128:0,ot},nt.prototype.decodePoint=function(st){st=$.parseBytes(st);var ot=st.length-1,at=st.slice(0,ot).concat(st[ot]&-129),ut=(st[ot]&128)!==0,ht=$.intFromLE(at);return this.curve.pointFromY(ht,ut)},nt.prototype.encodeInt=function(st){return st.toArray("le",this.encodingLength)},nt.prototype.decodeInt=function(st){return $.intFromLE(st)},nt.prototype.isPoint=function(st){return st instanceof this.pointClass},eddsa$1}var hasRequiredElliptic;function requireElliptic(){return hasRequiredElliptic||(hasRequiredElliptic=1,function(a){var _=a;_.version=require$$0$2.version,_.utils=requireUtils(),_.rand=requireBrorand(),_.curve=requireCurve(),_.curves=requireCurves(),_.ec=requireEc(),_.eddsa=requireEddsa()}(elliptic$2)),elliptic$2}var browser$2,hasRequiredBrowser$2;function requireBrowser$2(){if(hasRequiredBrowser$2)return browser$2;hasRequiredBrowser$2=1;var a=requireElliptic(),_=bnExports$1;browser$2=function(rt){return new j(rt)};var $={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};$.p224=$.secp224r1,$.p256=$.secp256r1=$.prime256v1,$.p192=$.secp192r1=$.prime192v1,$.p384=$.secp384r1,$.p521=$.secp521r1;function j(tt){this.curveType=$[tt],this.curveType||(this.curveType={name:tt}),this.curve=new a.ec(this.curveType.name),this.keys=void 0}j.prototype.generateKeys=function(tt,rt){return this.keys=this.curve.genKeyPair(),this.getPublicKey(tt,rt)},j.prototype.computeSecret=function(tt,rt,nt){rt=rt||"utf8",Buffer$g.isBuffer(tt)||(tt=new Buffer$g(tt,rt));var it=this.curve.keyFromPublic(tt).getPublic(),st=it.mul(this.keys.getPrivate()).getX();return et(st,nt,this.curveType.byteLength)},j.prototype.getPublicKey=function(tt,rt){var nt=this.keys.getPublic(rt==="compressed",!0);return rt==="hybrid"&&(nt[nt.length-1]%2?nt[0]=7:nt[0]=6),et(nt,tt)},j.prototype.getPrivateKey=function(tt){return et(this.keys.getPrivate(),tt)},j.prototype.setPublicKey=function(tt,rt){return rt=rt||"utf8",Buffer$g.isBuffer(tt)||(tt=new Buffer$g(tt,rt)),this.keys._importPublic(tt),this},j.prototype.setPrivateKey=function(tt,rt){rt=rt||"utf8",Buffer$g.isBuffer(tt)||(tt=new Buffer$g(tt,rt));var nt=new _(tt);return nt=nt.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(nt),this};function et(tt,rt,nt){Array.isArray(tt)||(tt=tt.toArray());var it=new Buffer$g(tt);if(nt&&it.length<nt){var st=new Buffer$g(nt-it.length);st.fill(0),it=Buffer$g.concat([st,it])}return rt?it.toString(rt):it}return browser$2}var browser$1={},mgf,hasRequiredMgf;function requireMgf(){if(hasRequiredMgf)return mgf;hasRequiredMgf=1;var a=browser$b,_=safeBufferExports.Buffer;mgf=function(j,et){for(var tt=_.alloc(0),rt=0,nt;tt.length<et;)nt=$(rt++),tt=_.concat([tt,a("sha1").update(j).update(nt).digest()]);return tt.slice(0,et)};function $(j){var et=_.allocUnsafe(4);return et.writeUInt32BE(j,0),et}return mgf}var xor,hasRequiredXor;function requireXor(){return hasRequiredXor||(hasRequiredXor=1,xor=function(_,$){for(var j=_.length,et=-1;++et<j;)_[et]^=$[et];return _}),xor}var withPublic_1,hasRequiredWithPublic;function requireWithPublic(){if(hasRequiredWithPublic)return withPublic_1;hasRequiredWithPublic=1;var a=bnExports$1,_=safeBufferExports.Buffer;function $(j,et){return _.from(j.toRed(a.mont(et.modulus)).redPow(new a(et.publicExponent)).fromRed().toArray())}return withPublic_1=$,withPublic_1}var publicEncrypt,hasRequiredPublicEncrypt;function requirePublicEncrypt(){if(hasRequiredPublicEncrypt)return publicEncrypt;hasRequiredPublicEncrypt=1;var a=requireParseAsn1(),_=requireBrowser$8(),$=browser$b,j=requireMgf(),et=requireXor(),tt=bnExports$1,rt=requireWithPublic(),nt=requireBrowserifyRsa(),it=safeBufferExports.Buffer;publicEncrypt=function(ht,yt,wt){var Ct;ht.padding?Ct=ht.padding:wt?Ct=1:Ct=4;var Pt=a(ht),Tt;if(Ct===4)Tt=st(Pt,yt);else if(Ct===1)Tt=ot(Pt,yt,wt);else if(Ct===3){if(Tt=new tt(yt),Tt.cmp(Pt.modulus)>=0)throw new Error("data too long for modulus")}else throw new Error("unknown padding");return wt?nt(Tt,Pt):rt(Tt,Pt)};function st(ut,ht){var yt=ut.modulus.byteLength(),wt=ht.length,Ct=$("sha1").update(it.alloc(0)).digest(),Pt=Ct.length,Tt=2*Pt;if(wt>yt-Tt-2)throw new Error("message too long");var Mt=it.alloc(yt-wt-Tt-2),Lt=yt-Pt-1,Dt=_(Pt),Ut=et(it.concat([Ct,Mt,it.alloc(1,1),ht],Lt),j(Dt,Lt)),Ot=et(Dt,j(Ut,Pt));return new tt(it.concat([it.alloc(1),Ot,Ut],yt))}function ot(ut,ht,yt){var wt=ht.length,Ct=ut.modulus.byteLength();if(wt>Ct-11)throw new Error("message too long");var Pt;return yt?Pt=it.alloc(Ct-wt-3,255):Pt=at(Ct-wt-3),new tt(it.concat([it.from([0,yt?1:2]),Pt,it.alloc(1),ht],Ct))}function at(ut){for(var ht=it.allocUnsafe(ut),yt=0,wt=_(ut*2),Ct=0,Pt;yt<ut;)Ct===wt.length&&(wt=_(ut*2),Ct=0),Pt=wt[Ct++],Pt&&(ht[yt++]=Pt);return ht}return publicEncrypt}var privateDecrypt,hasRequiredPrivateDecrypt;function requirePrivateDecrypt(){if(hasRequiredPrivateDecrypt)return privateDecrypt;hasRequiredPrivateDecrypt=1;var a=requireParseAsn1(),_=requireMgf(),$=requireXor(),j=bnExports$1,et=requireBrowserifyRsa(),tt=browser$b,rt=requireWithPublic(),nt=safeBufferExports.Buffer;privateDecrypt=function(ut,ht,yt){var wt;ut.padding?wt=ut.padding:yt?wt=1:wt=4;var Ct=a(ut),Pt=Ct.modulus.byteLength();if(ht.length>Pt||new j(ht).cmp(Ct.modulus)>=0)throw new Error("decryption error");var Tt;yt?Tt=rt(new j(ht),Ct):Tt=et(ht,Ct);var Mt=nt.alloc(Pt-Tt.length);if(Tt=nt.concat([Mt,Tt],Pt),wt===4)return it(Ct,Tt);if(wt===1)return st(Ct,Tt,yt);if(wt===3)return Tt;throw new Error("unknown padding")};function it(at,ut){var ht=at.modulus.byteLength(),yt=tt("sha1").update(nt.alloc(0)).digest(),wt=yt.length;if(ut[0]!==0)throw new Error("decryption error");var Ct=ut.slice(1,wt+1),Pt=ut.slice(wt+1),Tt=$(Ct,_(Pt,wt)),Mt=$(Pt,_(Tt,ht-wt-1));if(ot(yt,Mt.slice(0,wt)))throw new Error("decryption error");for(var Lt=wt;Mt[Lt]===0;)Lt++;if(Mt[Lt++]!==1)throw new Error("decryption error");return Mt.slice(Lt)}function st(at,ut,ht){for(var yt=ut.slice(0,2),wt=2,Ct=0;ut[wt++]!==0;)if(wt>=ut.length){Ct++;break}var Pt=ut.slice(2,wt-1);if((yt.toString("hex")!=="0002"&&!ht||yt.toString("hex")!=="0001"&&ht)&&Ct++,Pt.length<8&&Ct++,Ct)throw new Error("decryption error");return ut.slice(wt)}function ot(at,ut){at=nt.from(at),ut=nt.from(ut);var ht=0,yt=at.length;at.length!==ut.length&&(ht++,yt=Math.min(at.length,ut.length));for(var wt=-1;++wt<yt;)ht+=at[wt]^ut[wt];return ht}return privateDecrypt}var hasRequiredBrowser$1;function requireBrowser$1(){return hasRequiredBrowser$1||(hasRequiredBrowser$1=1,function(a){a.publicEncrypt=requirePublicEncrypt(),a.privateDecrypt=requirePrivateDecrypt(),a.privateEncrypt=function($,j){return a.publicEncrypt($,j,!0)},a.publicDecrypt=function($,j){return a.privateDecrypt($,j,!0)}}(browser$1)),browser$1}var browser={},hasRequiredBrowser;function requireBrowser(){if(hasRequiredBrowser)return browser;hasRequiredBrowser=1;function a(){throw new Error(`secure random number generation not supported by this browser
use chrome, FireFox or Internet Explorer 11`)}var _=safeBufferExports,$=requireBrowser$8(),j=_.Buffer,et=_.kMaxLength,tt=commonjsGlobal.crypto||commonjsGlobal.msCrypto,rt=Math.pow(2,32)-1;function nt(ut,ht){if(typeof ut!="number"||ut!==ut)throw new TypeError("offset must be a number");if(ut>rt||ut<0)throw new TypeError("offset must be a uint32");if(ut>et||ut>ht)throw new RangeError("offset out of range")}function it(ut,ht,yt){if(typeof ut!="number"||ut!==ut)throw new TypeError("size must be a number");if(ut>rt||ut<0)throw new TypeError("size must be a uint32");if(ut+ht>yt||ut>et)throw new RangeError("buffer too small")}tt&&tt.getRandomValues||!process$1$1.browser?(browser.randomFill=st,browser.randomFillSync=at):(browser.randomFill=a,browser.randomFillSync=a);function st(ut,ht,yt,wt){if(!j.isBuffer(ut)&&!(ut instanceof commonjsGlobal.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if(typeof ht=="function")wt=ht,ht=0,yt=ut.length;else if(typeof yt=="function")wt=yt,yt=ut.length-ht;else if(typeof wt!="function")throw new TypeError('"cb" argument must be a function');return nt(ht,ut.length),it(yt,ht,ut.length),ot(ut,ht,yt,wt)}function ot(ut,ht,yt,wt){if(process$1$1.browser){var Ct=ut.buffer,Pt=new Uint8Array(Ct,ht,yt);if(tt.getRandomValues(Pt),wt){process$1$1.nextTick(function(){wt(null,ut)});return}return ut}if(wt){$(yt,function(Mt,Lt){if(Mt)return wt(Mt);Lt.copy(ut,ht),wt(null,ut)});return}var Tt=$(yt);return Tt.copy(ut,ht),ut}function at(ut,ht,yt){if(typeof ht>"u"&&(ht=0),!j.isBuffer(ut)&&!(ut instanceof commonjsGlobal.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return nt(ht,ut.length),yt===void 0&&(yt=ut.length-ht),it(yt,ht,ut.length),ot(ut,ht,yt)}return browser}var hasRequiredCryptoBrowserify;function requireCryptoBrowserify(){if(hasRequiredCryptoBrowserify)return cryptoBrowserify;hasRequiredCryptoBrowserify=1,cryptoBrowserify.randomBytes=cryptoBrowserify.rng=cryptoBrowserify.pseudoRandomBytes=cryptoBrowserify.prng=requireBrowser$8(),cryptoBrowserify.createHash=cryptoBrowserify.Hash=browser$b,cryptoBrowserify.createHmac=cryptoBrowserify.Hmac=requireBrowser$7();var a=requireAlgos(),_=Object.keys(a),$=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(_);cryptoBrowserify.getHashes=function(){return $};var j=browser$7;cryptoBrowserify.pbkdf2=j.pbkdf2,cryptoBrowserify.pbkdf2Sync=j.pbkdf2Sync;var et=requireBrowser$5();cryptoBrowserify.Cipher=et.Cipher,cryptoBrowserify.createCipher=et.createCipher,cryptoBrowserify.Cipheriv=et.Cipheriv,cryptoBrowserify.createCipheriv=et.createCipheriv,cryptoBrowserify.Decipher=et.Decipher,cryptoBrowserify.createDecipher=et.createDecipher,cryptoBrowserify.Decipheriv=et.Decipheriv,cryptoBrowserify.createDecipheriv=et.createDecipheriv,cryptoBrowserify.getCiphers=et.getCiphers,cryptoBrowserify.listCiphers=et.listCiphers;var tt=requireBrowser$4();cryptoBrowserify.DiffieHellmanGroup=tt.DiffieHellmanGroup,cryptoBrowserify.createDiffieHellmanGroup=tt.createDiffieHellmanGroup,cryptoBrowserify.getDiffieHellman=tt.getDiffieHellman,cryptoBrowserify.createDiffieHellman=tt.createDiffieHellman,cryptoBrowserify.DiffieHellman=tt.DiffieHellman;var rt=requireBrowser$3();cryptoBrowserify.createSign=rt.createSign,cryptoBrowserify.Sign=rt.Sign,cryptoBrowserify.createVerify=rt.createVerify,cryptoBrowserify.Verify=rt.Verify,cryptoBrowserify.createECDH=requireBrowser$2();var nt=requireBrowser$1();cryptoBrowserify.publicEncrypt=nt.publicEncrypt,cryptoBrowserify.privateEncrypt=nt.privateEncrypt,cryptoBrowserify.publicDecrypt=nt.publicDecrypt,cryptoBrowserify.privateDecrypt=nt.privateDecrypt;var it=requireBrowser();return cryptoBrowserify.randomFill=it.randomFill,cryptoBrowserify.randomFillSync=it.randomFillSync,cryptoBrowserify.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join(`
`))},cryptoBrowserify.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6},cryptoBrowserify}Object.defineProperty(node$2,"__esModule",{value:!0});node$2.NodeRandomSource=void 0;const wipe_1$4=wipe$1;class NodeRandomSource{constructor(){if(this.isAvailable=!1,this.isInstantiated=!1,typeof commonjsRequire<"u"){const _=requireCryptoBrowserify();_&&_.randomBytes&&(this._crypto=_,this.isAvailable=!0,this.isInstantiated=!0)}}randomBytes(_){if(!this.isAvailable||!this._crypto)throw new Error("Node.js random byte generator is not available.");let $=this._crypto.randomBytes(_);if($.length!==_)throw new Error("NodeRandomSource: got fewer bytes than requested");const j=new Uint8Array(_);for(let et=0;et<j.length;et++)j[et]=$[et];return(0,wipe_1$4.wipe)($),j}}node$2.NodeRandomSource=NodeRandomSource;Object.defineProperty(system,"__esModule",{value:!0});system.SystemRandomSource=void 0;const browser_1=browser$a,node_1=node$2;class SystemRandomSource{constructor(){if(this.isAvailable=!1,this.name="",this._source=new browser_1.BrowserRandomSource,this._source.isAvailable){this.isAvailable=!0,this.name="Browser";return}if(this._source=new node_1.NodeRandomSource,this._source.isAvailable){this.isAvailable=!0,this.name="Node";return}}randomBytes(_){if(!this.isAvailable)throw new Error("System random byte generator is not available.");return this._source.randomBytes(_)}}system.SystemRandomSource=SystemRandomSource;var binary={},int={};(function(a){Object.defineProperty(a,"__esModule",{value:!0});function _(nt,it){var st=nt>>>16&65535,ot=nt&65535,at=it>>>16&65535,ut=it&65535;return ot*ut+(st*ut+ot*at<<16>>>0)|0}a.mul=Math.imul||_;function $(nt,it){return nt+it|0}a.add=$;function j(nt,it){return nt-it|0}a.sub=j;function et(nt,it){return nt<<it|nt>>>32-it}a.rotl=et;function tt(nt,it){return nt<<32-it|nt>>>it}a.rotr=tt;function rt(nt){return typeof nt=="number"&&isFinite(nt)&&Math.floor(nt)===nt}a.isInteger=Number.isInteger||rt,a.MAX_SAFE_INTEGER=9007199254740991,a.isSafeInteger=function(nt){return a.isInteger(nt)&&nt>=-a.MAX_SAFE_INTEGER&&nt<=a.MAX_SAFE_INTEGER}})(int);Object.defineProperty(binary,"__esModule",{value:!0});var int_1=int;function readInt16BE(a,_){return _===void 0&&(_=0),(a[_+0]<<8|a[_+1])<<16>>16}binary.readInt16BE=readInt16BE;function readUint16BE(a,_){return _===void 0&&(_=0),(a[_+0]<<8|a[_+1])>>>0}binary.readUint16BE=readUint16BE;function readInt16LE(a,_){return _===void 0&&(_=0),(a[_+1]<<8|a[_])<<16>>16}binary.readInt16LE=readInt16LE;function readUint16LE(a,_){return _===void 0&&(_=0),(a[_+1]<<8|a[_])>>>0}binary.readUint16LE=readUint16LE;function writeUint16BE(a,_,$){return _===void 0&&(_=new Uint8Array(2)),$===void 0&&($=0),_[$+0]=a>>>8,_[$+1]=a>>>0,_}binary.writeUint16BE=writeUint16BE;binary.writeInt16BE=writeUint16BE;function writeUint16LE(a,_,$){return _===void 0&&(_=new Uint8Array(2)),$===void 0&&($=0),_[$+0]=a>>>0,_[$+1]=a>>>8,_}binary.writeUint16LE=writeUint16LE;binary.writeInt16LE=writeUint16LE;function readInt32BE(a,_){return _===void 0&&(_=0),a[_]<<24|a[_+1]<<16|a[_+2]<<8|a[_+3]}binary.readInt32BE=readInt32BE;function readUint32BE(a,_){return _===void 0&&(_=0),(a[_]<<24|a[_+1]<<16|a[_+2]<<8|a[_+3])>>>0}binary.readUint32BE=readUint32BE;function readInt32LE(a,_){return _===void 0&&(_=0),a[_+3]<<24|a[_+2]<<16|a[_+1]<<8|a[_]}binary.readInt32LE=readInt32LE;function readUint32LE(a,_){return _===void 0&&(_=0),(a[_+3]<<24|a[_+2]<<16|a[_+1]<<8|a[_])>>>0}binary.readUint32LE=readUint32LE;function writeUint32BE(a,_,$){return _===void 0&&(_=new Uint8Array(4)),$===void 0&&($=0),_[$+0]=a>>>24,_[$+1]=a>>>16,_[$+2]=a>>>8,_[$+3]=a>>>0,_}binary.writeUint32BE=writeUint32BE;binary.writeInt32BE=writeUint32BE;function writeUint32LE(a,_,$){return _===void 0&&(_=new Uint8Array(4)),$===void 0&&($=0),_[$+0]=a>>>0,_[$+1]=a>>>8,_[$+2]=a>>>16,_[$+3]=a>>>24,_}binary.writeUint32LE=writeUint32LE;binary.writeInt32LE=writeUint32LE;function readInt64BE(a,_){_===void 0&&(_=0);var $=readInt32BE(a,_),j=readInt32BE(a,_+4);return $*4294967296+j-(j>>31)*4294967296}binary.readInt64BE=readInt64BE;function readUint64BE(a,_){_===void 0&&(_=0);var $=readUint32BE(a,_),j=readUint32BE(a,_+4);return $*4294967296+j}binary.readUint64BE=readUint64BE;function readInt64LE(a,_){_===void 0&&(_=0);var $=readInt32LE(a,_),j=readInt32LE(a,_+4);return j*4294967296+$-($>>31)*4294967296}binary.readInt64LE=readInt64LE;function readUint64LE(a,_){_===void 0&&(_=0);var $=readUint32LE(a,_),j=readUint32LE(a,_+4);return j*4294967296+$}binary.readUint64LE=readUint64LE;function writeUint64BE(a,_,$){return _===void 0&&(_=new Uint8Array(8)),$===void 0&&($=0),writeUint32BE(a/4294967296>>>0,_,$),writeUint32BE(a>>>0,_,$+4),_}binary.writeUint64BE=writeUint64BE;binary.writeInt64BE=writeUint64BE;function writeUint64LE(a,_,$){return _===void 0&&(_=new Uint8Array(8)),$===void 0&&($=0),writeUint32LE(a>>>0,_,$),writeUint32LE(a/4294967296>>>0,_,$+4),_}binary.writeUint64LE=writeUint64LE;binary.writeInt64LE=writeUint64LE;function readUintBE(a,_,$){if($===void 0&&($=0),a%8!==0)throw new Error("readUintBE supports only bitLengths divisible by 8");if(a/8>_.length-$)throw new Error("readUintBE: array is too short for the given bitLength");for(var j=0,et=1,tt=a/8+$-1;tt>=$;tt--)j+=_[tt]*et,et*=256;return j}binary.readUintBE=readUintBE;function readUintLE(a,_,$){if($===void 0&&($=0),a%8!==0)throw new Error("readUintLE supports only bitLengths divisible by 8");if(a/8>_.length-$)throw new Error("readUintLE: array is too short for the given bitLength");for(var j=0,et=1,tt=$;tt<$+a/8;tt++)j+=_[tt]*et,et*=256;return j}binary.readUintLE=readUintLE;function writeUintBE(a,_,$,j){if($===void 0&&($=new Uint8Array(a/8)),j===void 0&&(j=0),a%8!==0)throw new Error("writeUintBE supports only bitLengths divisible by 8");if(!int_1.isSafeInteger(_))throw new Error("writeUintBE value must be an integer");for(var et=1,tt=a/8+j-1;tt>=j;tt--)$[tt]=_/et&255,et*=256;return $}binary.writeUintBE=writeUintBE;function writeUintLE(a,_,$,j){if($===void 0&&($=new Uint8Array(a/8)),j===void 0&&(j=0),a%8!==0)throw new Error("writeUintLE supports only bitLengths divisible by 8");if(!int_1.isSafeInteger(_))throw new Error("writeUintLE value must be an integer");for(var et=1,tt=j;tt<j+a/8;tt++)$[tt]=_/et&255,et*=256;return $}binary.writeUintLE=writeUintLE;function readFloat32BE(a,_){_===void 0&&(_=0);var $=new DataView(a.buffer,a.byteOffset,a.byteLength);return $.getFloat32(_)}binary.readFloat32BE=readFloat32BE;function readFloat32LE(a,_){_===void 0&&(_=0);var $=new DataView(a.buffer,a.byteOffset,a.byteLength);return $.getFloat32(_,!0)}binary.readFloat32LE=readFloat32LE;function readFloat64BE(a,_){_===void 0&&(_=0);var $=new DataView(a.buffer,a.byteOffset,a.byteLength);return $.getFloat64(_)}binary.readFloat64BE=readFloat64BE;function readFloat64LE(a,_){_===void 0&&(_=0);var $=new DataView(a.buffer,a.byteOffset,a.byteLength);return $.getFloat64(_,!0)}binary.readFloat64LE=readFloat64LE;function writeFloat32BE(a,_,$){_===void 0&&(_=new Uint8Array(4)),$===void 0&&($=0);var j=new DataView(_.buffer,_.byteOffset,_.byteLength);return j.setFloat32($,a),_}binary.writeFloat32BE=writeFloat32BE;function writeFloat32LE(a,_,$){_===void 0&&(_=new Uint8Array(4)),$===void 0&&($=0);var j=new DataView(_.buffer,_.byteOffset,_.byteLength);return j.setFloat32($,a,!0),_}binary.writeFloat32LE=writeFloat32LE;function writeFloat64BE(a,_,$){_===void 0&&(_=new Uint8Array(8)),$===void 0&&($=0);var j=new DataView(_.buffer,_.byteOffset,_.byteLength);return j.setFloat64($,a),_}binary.writeFloat64BE=writeFloat64BE;function writeFloat64LE(a,_,$){_===void 0&&(_=new Uint8Array(8)),$===void 0&&($=0);var j=new DataView(_.buffer,_.byteOffset,_.byteLength);return j.setFloat64($,a,!0),_}binary.writeFloat64LE=writeFloat64LE;(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.randomStringForEntropy=a.randomString=a.randomUint32=a.randomBytes=a.defaultRandomSource=void 0;const _=system,$=binary,j=wipe$1;a.defaultRandomSource=new _.SystemRandomSource;function et(st,ot=a.defaultRandomSource){return ot.randomBytes(st)}a.randomBytes=et;function tt(st=a.defaultRandomSource){const ot=et(4,st),at=(0,$.readUint32LE)(ot);return(0,j.wipe)(ot),at}a.randomUint32=tt;const rt="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";function nt(st,ot=rt,at=a.defaultRandomSource){if(ot.length<2)throw new Error("randomString charset is too short");if(ot.length>256)throw new Error("randomString charset is too long");let ut="";const ht=ot.length,yt=256-256%ht;for(;st>0;){const wt=et(Math.ceil(st*256/yt),at);for(let Ct=0;Ct<wt.length&&st>0;Ct++){const Pt=wt[Ct];Pt<yt&&(ut+=ot.charAt(Pt%ht),st--)}(0,j.wipe)(wt)}return ut}a.randomString=nt;function it(st,ot=rt,at=a.defaultRandomSource){const ut=Math.ceil(st/(Math.log(ot.length)/Math.LN2));return nt(ut,ot,at)}a.randomStringForEntropy=it})(random);(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.sharedKey=a.generateKeyPair=a.generateKeyPairFromSeed=a.scalarMultBase=a.scalarMult=a.SHARED_KEY_LENGTH=a.SECRET_KEY_LENGTH=a.PUBLIC_KEY_LENGTH=void 0;const _=random,$=wipe$1;a.PUBLIC_KEY_LENGTH=32,a.SECRET_KEY_LENGTH=32,a.SHARED_KEY_LENGTH=32;function j(Lt){const Dt=new Float64Array(16);if(Lt)for(let Ut=0;Ut<Lt.length;Ut++)Dt[Ut]=Lt[Ut];return Dt}const et=new Uint8Array(32);et[0]=9;const tt=j([56129,1]);function rt(Lt){let Dt=1;for(let Ut=0;Ut<16;Ut++){let Ot=Lt[Ut]+Dt+65535;Dt=Math.floor(Ot/65536),Lt[Ut]=Ot-Dt*65536}Lt[0]+=Dt-1+37*(Dt-1)}function nt(Lt,Dt,Ut){const Ot=~(Ut-1);for(let It=0;It<16;It++){const Bt=Ot&(Lt[It]^Dt[It]);Lt[It]^=Bt,Dt[It]^=Bt}}function it(Lt,Dt){const Ut=j(),Ot=j();for(let It=0;It<16;It++)Ot[It]=Dt[It];rt(Ot),rt(Ot),rt(Ot);for(let It=0;It<2;It++){Ut[0]=Ot[0]-65517;for(let Ft=1;Ft<15;Ft++)Ut[Ft]=Ot[Ft]-65535-(Ut[Ft-1]>>16&1),Ut[Ft-1]&=65535;Ut[15]=Ot[15]-32767-(Ut[14]>>16&1);const Bt=Ut[15]>>16&1;Ut[14]&=65535,nt(Ot,Ut,1-Bt)}for(let It=0;It<16;It++)Lt[2*It]=Ot[It]&255,Lt[2*It+1]=Ot[It]>>8}function st(Lt,Dt){for(let Ut=0;Ut<16;Ut++)Lt[Ut]=Dt[2*Ut]+(Dt[2*Ut+1]<<8);Lt[15]&=32767}function ot(Lt,Dt,Ut){for(let Ot=0;Ot<16;Ot++)Lt[Ot]=Dt[Ot]+Ut[Ot]}function at(Lt,Dt,Ut){for(let Ot=0;Ot<16;Ot++)Lt[Ot]=Dt[Ot]-Ut[Ot]}function ut(Lt,Dt,Ut){let Ot,It,Bt=0,Ft=0,jt=0,bt=0,vt=0,ct=0,dt=0,mt=0,xt=0,At=0,Rt=0,St=0,$t=0,Et=0,Nt=0,tr=0,ir=0,nr=0,Zt=0,Kt=0,Qt=0,Ht=0,qt=0,Jt=0,ur=0,xr=0,pr=0,Cr=0,Mr=0,lr=0,fr=0,_r=Ut[0],Rr=Ut[1],kr=Ut[2],Ar=Ut[3],Pr=Ut[4],Or=Ut[5],Lr=Ut[6],or=Ut[7],Yt=Ut[8],er=Ut[9],Gt=Ut[10],Vt=Ut[11],Wt=Ut[12],ar=Ut[13],yr=Ut[14],Er=Ut[15];Ot=Dt[0],Bt+=Ot*_r,Ft+=Ot*Rr,jt+=Ot*kr,bt+=Ot*Ar,vt+=Ot*Pr,ct+=Ot*Or,dt+=Ot*Lr,mt+=Ot*or,xt+=Ot*Yt,At+=Ot*er,Rt+=Ot*Gt,St+=Ot*Vt,$t+=Ot*Wt,Et+=Ot*ar,Nt+=Ot*yr,tr+=Ot*Er,Ot=Dt[1],Ft+=Ot*_r,jt+=Ot*Rr,bt+=Ot*kr,vt+=Ot*Ar,ct+=Ot*Pr,dt+=Ot*Or,mt+=Ot*Lr,xt+=Ot*or,At+=Ot*Yt,Rt+=Ot*er,St+=Ot*Gt,$t+=Ot*Vt,Et+=Ot*Wt,Nt+=Ot*ar,tr+=Ot*yr,ir+=Ot*Er,Ot=Dt[2],jt+=Ot*_r,bt+=Ot*Rr,vt+=Ot*kr,ct+=Ot*Ar,dt+=Ot*Pr,mt+=Ot*Or,xt+=Ot*Lr,At+=Ot*or,Rt+=Ot*Yt,St+=Ot*er,$t+=Ot*Gt,Et+=Ot*Vt,Nt+=Ot*Wt,tr+=Ot*ar,ir+=Ot*yr,nr+=Ot*Er,Ot=Dt[3],bt+=Ot*_r,vt+=Ot*Rr,ct+=Ot*kr,dt+=Ot*Ar,mt+=Ot*Pr,xt+=Ot*Or,At+=Ot*Lr,Rt+=Ot*or,St+=Ot*Yt,$t+=Ot*er,Et+=Ot*Gt,Nt+=Ot*Vt,tr+=Ot*Wt,ir+=Ot*ar,nr+=Ot*yr,Zt+=Ot*Er,Ot=Dt[4],vt+=Ot*_r,ct+=Ot*Rr,dt+=Ot*kr,mt+=Ot*Ar,xt+=Ot*Pr,At+=Ot*Or,Rt+=Ot*Lr,St+=Ot*or,$t+=Ot*Yt,Et+=Ot*er,Nt+=Ot*Gt,tr+=Ot*Vt,ir+=Ot*Wt,nr+=Ot*ar,Zt+=Ot*yr,Kt+=Ot*Er,Ot=Dt[5],ct+=Ot*_r,dt+=Ot*Rr,mt+=Ot*kr,xt+=Ot*Ar,At+=Ot*Pr,Rt+=Ot*Or,St+=Ot*Lr,$t+=Ot*or,Et+=Ot*Yt,Nt+=Ot*er,tr+=Ot*Gt,ir+=Ot*Vt,nr+=Ot*Wt,Zt+=Ot*ar,Kt+=Ot*yr,Qt+=Ot*Er,Ot=Dt[6],dt+=Ot*_r,mt+=Ot*Rr,xt+=Ot*kr,At+=Ot*Ar,Rt+=Ot*Pr,St+=Ot*Or,$t+=Ot*Lr,Et+=Ot*or,Nt+=Ot*Yt,tr+=Ot*er,ir+=Ot*Gt,nr+=Ot*Vt,Zt+=Ot*Wt,Kt+=Ot*ar,Qt+=Ot*yr,Ht+=Ot*Er,Ot=Dt[7],mt+=Ot*_r,xt+=Ot*Rr,At+=Ot*kr,Rt+=Ot*Ar,St+=Ot*Pr,$t+=Ot*Or,Et+=Ot*Lr,Nt+=Ot*or,tr+=Ot*Yt,ir+=Ot*er,nr+=Ot*Gt,Zt+=Ot*Vt,Kt+=Ot*Wt,Qt+=Ot*ar,Ht+=Ot*yr,qt+=Ot*Er,Ot=Dt[8],xt+=Ot*_r,At+=Ot*Rr,Rt+=Ot*kr,St+=Ot*Ar,$t+=Ot*Pr,Et+=Ot*Or,Nt+=Ot*Lr,tr+=Ot*or,ir+=Ot*Yt,nr+=Ot*er,Zt+=Ot*Gt,Kt+=Ot*Vt,Qt+=Ot*Wt,Ht+=Ot*ar,qt+=Ot*yr,Jt+=Ot*Er,Ot=Dt[9],At+=Ot*_r,Rt+=Ot*Rr,St+=Ot*kr,$t+=Ot*Ar,Et+=Ot*Pr,Nt+=Ot*Or,tr+=Ot*Lr,ir+=Ot*or,nr+=Ot*Yt,Zt+=Ot*er,Kt+=Ot*Gt,Qt+=Ot*Vt,Ht+=Ot*Wt,qt+=Ot*ar,Jt+=Ot*yr,ur+=Ot*Er,Ot=Dt[10],Rt+=Ot*_r,St+=Ot*Rr,$t+=Ot*kr,Et+=Ot*Ar,Nt+=Ot*Pr,tr+=Ot*Or,ir+=Ot*Lr,nr+=Ot*or,Zt+=Ot*Yt,Kt+=Ot*er,Qt+=Ot*Gt,Ht+=Ot*Vt,qt+=Ot*Wt,Jt+=Ot*ar,ur+=Ot*yr,xr+=Ot*Er,Ot=Dt[11],St+=Ot*_r,$t+=Ot*Rr,Et+=Ot*kr,Nt+=Ot*Ar,tr+=Ot*Pr,ir+=Ot*Or,nr+=Ot*Lr,Zt+=Ot*or,Kt+=Ot*Yt,Qt+=Ot*er,Ht+=Ot*Gt,qt+=Ot*Vt,Jt+=Ot*Wt,ur+=Ot*ar,xr+=Ot*yr,pr+=Ot*Er,Ot=Dt[12],$t+=Ot*_r,Et+=Ot*Rr,Nt+=Ot*kr,tr+=Ot*Ar,ir+=Ot*Pr,nr+=Ot*Or,Zt+=Ot*Lr,Kt+=Ot*or,Qt+=Ot*Yt,Ht+=Ot*er,qt+=Ot*Gt,Jt+=Ot*Vt,ur+=Ot*Wt,xr+=Ot*ar,pr+=Ot*yr,Cr+=Ot*Er,Ot=Dt[13],Et+=Ot*_r,Nt+=Ot*Rr,tr+=Ot*kr,ir+=Ot*Ar,nr+=Ot*Pr,Zt+=Ot*Or,Kt+=Ot*Lr,Qt+=Ot*or,Ht+=Ot*Yt,qt+=Ot*er,Jt+=Ot*Gt,ur+=Ot*Vt,xr+=Ot*Wt,pr+=Ot*ar,Cr+=Ot*yr,Mr+=Ot*Er,Ot=Dt[14],Nt+=Ot*_r,tr+=Ot*Rr,ir+=Ot*kr,nr+=Ot*Ar,Zt+=Ot*Pr,Kt+=Ot*Or,Qt+=Ot*Lr,Ht+=Ot*or,qt+=Ot*Yt,Jt+=Ot*er,ur+=Ot*Gt,xr+=Ot*Vt,pr+=Ot*Wt,Cr+=Ot*ar,Mr+=Ot*yr,lr+=Ot*Er,Ot=Dt[15],tr+=Ot*_r,ir+=Ot*Rr,nr+=Ot*kr,Zt+=Ot*Ar,Kt+=Ot*Pr,Qt+=Ot*Or,Ht+=Ot*Lr,qt+=Ot*or,Jt+=Ot*Yt,ur+=Ot*er,xr+=Ot*Gt,pr+=Ot*Vt,Cr+=Ot*Wt,Mr+=Ot*ar,lr+=Ot*yr,fr+=Ot*Er,Bt+=38*ir,Ft+=38*nr,jt+=38*Zt,bt+=38*Kt,vt+=38*Qt,ct+=38*Ht,dt+=38*qt,mt+=38*Jt,xt+=38*ur,At+=38*xr,Rt+=38*pr,St+=38*Cr,$t+=38*Mr,Et+=38*lr,Nt+=38*fr,It=1,Ot=Bt+It+65535,It=Math.floor(Ot/65536),Bt=Ot-It*65536,Ot=Ft+It+65535,It=Math.floor(Ot/65536),Ft=Ot-It*65536,Ot=jt+It+65535,It=Math.floor(Ot/65536),jt=Ot-It*65536,Ot=bt+It+65535,It=Math.floor(Ot/65536),bt=Ot-It*65536,Ot=vt+It+65535,It=Math.floor(Ot/65536),vt=Ot-It*65536,Ot=ct+It+65535,It=Math.floor(Ot/65536),ct=Ot-It*65536,Ot=dt+It+65535,It=Math.floor(Ot/65536),dt=Ot-It*65536,Ot=mt+It+65535,It=Math.floor(Ot/65536),mt=Ot-It*65536,Ot=xt+It+65535,It=Math.floor(Ot/65536),xt=Ot-It*65536,Ot=At+It+65535,It=Math.floor(Ot/65536),At=Ot-It*65536,Ot=Rt+It+65535,It=Math.floor(Ot/65536),Rt=Ot-It*65536,Ot=St+It+65535,It=Math.floor(Ot/65536),St=Ot-It*65536,Ot=$t+It+65535,It=Math.floor(Ot/65536),$t=Ot-It*65536,Ot=Et+It+65535,It=Math.floor(Ot/65536),Et=Ot-It*65536,Ot=Nt+It+65535,It=Math.floor(Ot/65536),Nt=Ot-It*65536,Ot=tr+It+65535,It=Math.floor(Ot/65536),tr=Ot-It*65536,Bt+=It-1+37*(It-1),It=1,Ot=Bt+It+65535,It=Math.floor(Ot/65536),Bt=Ot-It*65536,Ot=Ft+It+65535,It=Math.floor(Ot/65536),Ft=Ot-It*65536,Ot=jt+It+65535,It=Math.floor(Ot/65536),jt=Ot-It*65536,Ot=bt+It+65535,It=Math.floor(Ot/65536),bt=Ot-It*65536,Ot=vt+It+65535,It=Math.floor(Ot/65536),vt=Ot-It*65536,Ot=ct+It+65535,It=Math.floor(Ot/65536),ct=Ot-It*65536,Ot=dt+It+65535,It=Math.floor(Ot/65536),dt=Ot-It*65536,Ot=mt+It+65535,It=Math.floor(Ot/65536),mt=Ot-It*65536,Ot=xt+It+65535,It=Math.floor(Ot/65536),xt=Ot-It*65536,Ot=At+It+65535,It=Math.floor(Ot/65536),At=Ot-It*65536,Ot=Rt+It+65535,It=Math.floor(Ot/65536),Rt=Ot-It*65536,Ot=St+It+65535,It=Math.floor(Ot/65536),St=Ot-It*65536,Ot=$t+It+65535,It=Math.floor(Ot/65536),$t=Ot-It*65536,Ot=Et+It+65535,It=Math.floor(Ot/65536),Et=Ot-It*65536,Ot=Nt+It+65535,It=Math.floor(Ot/65536),Nt=Ot-It*65536,Ot=tr+It+65535,It=Math.floor(Ot/65536),tr=Ot-It*65536,Bt+=It-1+37*(It-1),Lt[0]=Bt,Lt[1]=Ft,Lt[2]=jt,Lt[3]=bt,Lt[4]=vt,Lt[5]=ct,Lt[6]=dt,Lt[7]=mt,Lt[8]=xt,Lt[9]=At,Lt[10]=Rt,Lt[11]=St,Lt[12]=$t,Lt[13]=Et,Lt[14]=Nt,Lt[15]=tr}function ht(Lt,Dt){ut(Lt,Dt,Dt)}function yt(Lt,Dt){const Ut=j();for(let Ot=0;Ot<16;Ot++)Ut[Ot]=Dt[Ot];for(let Ot=253;Ot>=0;Ot--)ht(Ut,Ut),Ot!==2&&Ot!==4&&ut(Ut,Ut,Dt);for(let Ot=0;Ot<16;Ot++)Lt[Ot]=Ut[Ot]}function wt(Lt,Dt){const Ut=new Uint8Array(32),Ot=new Float64Array(80),It=j(),Bt=j(),Ft=j(),jt=j(),bt=j(),vt=j();for(let xt=0;xt<31;xt++)Ut[xt]=Lt[xt];Ut[31]=Lt[31]&127|64,Ut[0]&=248,st(Ot,Dt);for(let xt=0;xt<16;xt++)Bt[xt]=Ot[xt];It[0]=jt[0]=1;for(let xt=254;xt>=0;--xt){const At=Ut[xt>>>3]>>>(xt&7)&1;nt(It,Bt,At),nt(Ft,jt,At),ot(bt,It,Ft),at(It,It,Ft),ot(Ft,Bt,jt),at(Bt,Bt,jt),ht(jt,bt),ht(vt,It),ut(It,Ft,It),ut(Ft,Bt,bt),ot(bt,It,Ft),at(It,It,Ft),ht(Bt,It),at(Ft,jt,vt),ut(It,Ft,tt),ot(It,It,jt),ut(Ft,Ft,It),ut(It,jt,vt),ut(jt,Bt,Ot),ht(Bt,bt),nt(It,Bt,At),nt(Ft,jt,At)}for(let xt=0;xt<16;xt++)Ot[xt+16]=It[xt],Ot[xt+32]=Ft[xt],Ot[xt+48]=Bt[xt],Ot[xt+64]=jt[xt];const ct=Ot.subarray(32),dt=Ot.subarray(16);yt(ct,ct),ut(dt,dt,ct);const mt=new Uint8Array(32);return it(mt,dt),mt}a.scalarMult=wt;function Ct(Lt){return wt(Lt,et)}a.scalarMultBase=Ct;function Pt(Lt){if(Lt.length!==a.SECRET_KEY_LENGTH)throw new Error(`x25519: seed must be ${a.SECRET_KEY_LENGTH} bytes`);const Dt=new Uint8Array(Lt);return{publicKey:Ct(Dt),secretKey:Dt}}a.generateKeyPairFromSeed=Pt;function Tt(Lt){const Dt=(0,_.randomBytes)(32,Lt),Ut=Pt(Dt);return(0,$.wipe)(Dt),Ut}a.generateKeyPair=Tt;function Mt(Lt,Dt,Ut=!1){if(Lt.length!==a.PUBLIC_KEY_LENGTH)throw new Error("X25519: incorrect secret key length");if(Dt.length!==a.PUBLIC_KEY_LENGTH)throw new Error("X25519: incorrect public key length");const Ot=wt(Lt,Dt);if(Ut){let It=0;for(let Bt=0;Bt<Ot.length;Bt++)It|=Ot[Bt];if(It===0)throw new Error("X25519: invalid shared key")}return Ot}a.sharedKey=Mt})(x25519);var xsalsa20={},salsa20={};Object.defineProperty(salsa20,"__esModule",{value:!0});var binary_1$1=binary,wipe_1$3=wipe$1,ROUNDS$1=20;function core(a,_,$){for(var j=1634760805,et=$[3]<<24|$[2]<<16|$[1]<<8|$[0],tt=$[7]<<24|$[6]<<16|$[5]<<8|$[4],rt=$[11]<<24|$[10]<<16|$[9]<<8|$[8],nt=$[15]<<24|$[14]<<16|$[13]<<8|$[12],it=857760878,st=_[3]<<24|_[2]<<16|_[1]<<8|_[0],ot=_[7]<<24|_[6]<<16|_[5]<<8|_[4],at=_[11]<<24|_[10]<<16|_[9]<<8|_[8],ut=_[15]<<24|_[14]<<16|_[13]<<8|_[12],ht=2036477234,yt=$[19]<<24|$[18]<<16|$[17]<<8|$[16],wt=$[23]<<24|$[22]<<16|$[21]<<8|$[20],Ct=$[27]<<24|$[26]<<16|$[25]<<8|$[24],Pt=$[31]<<24|$[30]<<16|$[29]<<8|$[28],Tt=1797285236,Mt=j,Lt=et,Dt=tt,Ut=rt,Ot=nt,It=it,Bt=st,Ft=ot,jt=at,bt=ut,vt=ht,ct=yt,dt=wt,mt=Ct,xt=Pt,At=Tt,Rt,St=0;St<ROUNDS$1;St+=2)Rt=Mt+dt|0,Ot^=Rt<<7|Rt>>>25,Rt=Ot+Mt|0,jt^=Rt<<9|Rt>>>23,Rt=jt+Ot|0,dt^=Rt<<13|Rt>>>19,Rt=dt+jt|0,Mt^=Rt<<18|Rt>>>14,Rt=It+Lt|0,bt^=Rt<<7|Rt>>>25,Rt=bt+It|0,mt^=Rt<<9|Rt>>>23,Rt=mt+bt|0,Lt^=Rt<<13|Rt>>>19,Rt=Lt+mt|0,It^=Rt<<18|Rt>>>14,Rt=vt+Bt|0,xt^=Rt<<7|Rt>>>25,Rt=xt+vt|0,Dt^=Rt<<9|Rt>>>23,Rt=Dt+xt|0,Bt^=Rt<<13|Rt>>>19,Rt=Bt+Dt|0,vt^=Rt<<18|Rt>>>14,Rt=At+ct|0,Ut^=Rt<<7|Rt>>>25,Rt=Ut+At|0,Ft^=Rt<<9|Rt>>>23,Rt=Ft+Ut|0,ct^=Rt<<13|Rt>>>19,Rt=ct+Ft|0,At^=Rt<<18|Rt>>>14,Rt=Mt+Ut|0,Lt^=Rt<<7|Rt>>>25,Rt=Lt+Mt|0,Dt^=Rt<<9|Rt>>>23,Rt=Dt+Lt|0,Ut^=Rt<<13|Rt>>>19,Rt=Ut+Dt|0,Mt^=Rt<<18|Rt>>>14,Rt=It+Ot|0,Bt^=Rt<<7|Rt>>>25,Rt=Bt+It|0,Ft^=Rt<<9|Rt>>>23,Rt=Ft+Bt|0,Ot^=Rt<<13|Rt>>>19,Rt=Ot+Ft|0,It^=Rt<<18|Rt>>>14,Rt=vt+bt|0,ct^=Rt<<7|Rt>>>25,Rt=ct+vt|0,jt^=Rt<<9|Rt>>>23,Rt=jt+ct|0,bt^=Rt<<13|Rt>>>19,Rt=bt+jt|0,vt^=Rt<<18|Rt>>>14,Rt=At+xt|0,dt^=Rt<<7|Rt>>>25,Rt=dt+At|0,mt^=Rt<<9|Rt>>>23,Rt=mt+dt|0,xt^=Rt<<13|Rt>>>19,Rt=xt+mt|0,At^=Rt<<18|Rt>>>14;binary_1$1.writeUint32LE(Mt+j|0,a,0),binary_1$1.writeUint32LE(Lt+et|0,a,4),binary_1$1.writeUint32LE(Dt+tt|0,a,8),binary_1$1.writeUint32LE(Ut+rt|0,a,12),binary_1$1.writeUint32LE(Ot+nt|0,a,16),binary_1$1.writeUint32LE(It+it|0,a,20),binary_1$1.writeUint32LE(Bt+st|0,a,24),binary_1$1.writeUint32LE(Ft+ot|0,a,28),binary_1$1.writeUint32LE(jt+at|0,a,32),binary_1$1.writeUint32LE(bt+ut|0,a,36),binary_1$1.writeUint32LE(vt+ht|0,a,40),binary_1$1.writeUint32LE(ct+yt|0,a,44),binary_1$1.writeUint32LE(dt+wt|0,a,48),binary_1$1.writeUint32LE(mt+Ct|0,a,52),binary_1$1.writeUint32LE(xt+Pt|0,a,56),binary_1$1.writeUint32LE(At+Tt|0,a,60)}function streamXOR$1(a,_,$,j,et){if(et===void 0&&(et=0),a.length!==32)throw new Error("Salsa20: key size must be 32 bytes");if(j.length<$.length)throw new Error("Salsa20: destination is shorter than source");var tt,rt;if(et===0){if(_.length!==8)throw new Error("Salsa20 nonce must be 8 bytes");tt=new Uint8Array(16),tt.set(_),rt=_.length}else{if(_.length!==16)throw new Error("Salsa20 nonce with counter must be 16 bytes");tt=_,rt=16-et}for(var nt=new Uint8Array(64),it=0;it<$.length;it+=64){core(nt,tt,a);for(var st=it;st<it+64&&st<$.length;st++)j[st]=$[st]^nt[st-it];incrementCounter(tt,rt,tt.length-rt)}return wipe_1$3.wipe(nt),et===0&&wipe_1$3.wipe(tt),j}salsa20.streamXOR=streamXOR$1;function stream$1(a,_,$,j){return j===void 0&&(j=0),wipe_1$3.wipe($),streamXOR$1(a,_,$,$,j)}salsa20.stream=stream$1;function incrementCounter(a,_,$){for(var j=1;$--;)j=j+(a[_]&255)|0,a[_]=j&255,j>>>=8,_++;if(j>0)throw new Error("Salsa20: counter overflow")}Object.defineProperty(xsalsa20,"__esModule",{value:!0});var binary_1=binary,salsa20_1=salsa20,wipe_1$2=wipe$1;function streamXOR(a,_,$,j,et){if(et===void 0&&(et=0),et===0){if(_.length!==24)throw new Error("XSalsa20 nonce must be 24 bytes")}else if(_.length!==32)throw new Error("XSalsa20 nonce with counter must be 32 bytes");var tt=hsalsa(a,_.subarray(0,16),new Uint8Array(32)),rt=salsa20_1.streamXOR(tt,_.subarray(16),$,j,et);return wipe_1$2.wipe(tt),rt}xsalsa20.streamXOR=streamXOR;function stream(a,_,$,j){return j===void 0&&(j=0),wipe_1$2.wipe($),streamXOR(a,_,$,$,j)}xsalsa20.stream=stream;var ROUNDS=20;function hsalsa(a,_,$){for(var j=1634760805,et=a[3]<<24|a[2]<<16|a[1]<<8|a[0],tt=a[7]<<24|a[6]<<16|a[5]<<8|a[4],rt=a[11]<<24|a[10]<<16|a[9]<<8|a[8],nt=a[15]<<24|a[14]<<16|a[13]<<8|a[12],it=857760878,st=_[3]<<24|_[2]<<16|_[1]<<8|_[0],ot=_[7]<<24|_[6]<<16|_[5]<<8|_[4],at=_[11]<<24|_[10]<<16|_[9]<<8|_[8],ut=_[15]<<24|_[14]<<16|_[13]<<8|_[12],ht=2036477234,yt=a[19]<<24|a[18]<<16|a[17]<<8|a[16],wt=a[23]<<24|a[22]<<16|a[21]<<8|a[20],Ct=a[27]<<24|a[26]<<16|a[25]<<8|a[24],Pt=a[31]<<24|a[30]<<16|a[29]<<8|a[28],Tt=1797285236,Mt,Lt=0;Lt<ROUNDS;Lt+=2)Mt=j+wt|0,nt^=Mt<<7|Mt>>>25,Mt=nt+j|0,at^=Mt<<9|Mt>>>23,Mt=at+nt|0,wt^=Mt<<13|Mt>>>19,Mt=wt+at|0,j^=Mt<<18|Mt>>>14,Mt=it+et|0,ut^=Mt<<7|Mt>>>25,Mt=ut+it|0,Ct^=Mt<<9|Mt>>>23,Mt=Ct+ut|0,et^=Mt<<13|Mt>>>19,Mt=et+Ct|0,it^=Mt<<18|Mt>>>14,Mt=ht+st|0,Pt^=Mt<<7|Mt>>>25,Mt=Pt+ht|0,tt^=Mt<<9|Mt>>>23,Mt=tt+Pt|0,st^=Mt<<13|Mt>>>19,Mt=st+tt|0,ht^=Mt<<18|Mt>>>14,Mt=Tt+yt|0,rt^=Mt<<7|Mt>>>25,Mt=rt+Tt|0,ot^=Mt<<9|Mt>>>23,Mt=ot+rt|0,yt^=Mt<<13|Mt>>>19,Mt=yt+ot|0,Tt^=Mt<<18|Mt>>>14,Mt=j+rt|0,et^=Mt<<7|Mt>>>25,Mt=et+j|0,tt^=Mt<<9|Mt>>>23,Mt=tt+et|0,rt^=Mt<<13|Mt>>>19,Mt=rt+tt|0,j^=Mt<<18|Mt>>>14,Mt=it+nt|0,st^=Mt<<7|Mt>>>25,Mt=st+it|0,ot^=Mt<<9|Mt>>>23,Mt=ot+st|0,nt^=Mt<<13|Mt>>>19,Mt=nt+ot|0,it^=Mt<<18|Mt>>>14,Mt=ht+ut|0,yt^=Mt<<7|Mt>>>25,Mt=yt+ht|0,at^=Mt<<9|Mt>>>23,Mt=at+yt|0,ut^=Mt<<13|Mt>>>19,Mt=ut+at|0,ht^=Mt<<18|Mt>>>14,Mt=Tt+Pt|0,wt^=Mt<<7|Mt>>>25,Mt=wt+Tt|0,Ct^=Mt<<9|Mt>>>23,Mt=Ct+wt|0,Pt^=Mt<<13|Mt>>>19,Mt=Pt+Ct|0,Tt^=Mt<<18|Mt>>>14;return binary_1.writeUint32LE(j,$,0),binary_1.writeUint32LE(it,$,4),binary_1.writeUint32LE(ht,$,8),binary_1.writeUint32LE(Tt,$,12),binary_1.writeUint32LE(st,$,16),binary_1.writeUint32LE(ot,$,20),binary_1.writeUint32LE(at,$,24),binary_1.writeUint32LE(ut,$,28),$}xsalsa20.hsalsa=hsalsa;var secretbox={},poly1305={},constantTime={};Object.defineProperty(constantTime,"__esModule",{value:!0});function select(a,_,$){return~(a-1)&_|a-1&$}constantTime.select=select;function lessOrEqual(a,_){return(a|0)-(_|0)-1>>>31&1}constantTime.lessOrEqual=lessOrEqual;function compare$d(a,_){if(a.length!==_.length)return 0;for(var $=0,j=0;j<a.length;j++)$|=a[j]^_[j];return 1&$-1>>>8}constantTime.compare=compare$d;function equal(a,_){return a.length===0||_.length===0?!1:compare$d(a,_)!==0}constantTime.equal=equal;(function(a){Object.defineProperty(a,"__esModule",{value:!0});var _=constantTime,$=wipe$1;a.DIGEST_LENGTH=16;var j=function(){function rt(nt){this.digestLength=a.DIGEST_LENGTH,this._buffer=new Uint8Array(16),this._r=new Uint16Array(10),this._h=new Uint16Array(10),this._pad=new Uint16Array(8),this._leftover=0,this._fin=0,this._finished=!1;var it=nt[0]|nt[1]<<8;this._r[0]=it&8191;var st=nt[2]|nt[3]<<8;this._r[1]=(it>>>13|st<<3)&8191;var ot=nt[4]|nt[5]<<8;this._r[2]=(st>>>10|ot<<6)&7939;var at=nt[6]|nt[7]<<8;this._r[3]=(ot>>>7|at<<9)&8191;var ut=nt[8]|nt[9]<<8;this._r[4]=(at>>>4|ut<<12)&255,this._r[5]=ut>>>1&8190;var ht=nt[10]|nt[11]<<8;this._r[6]=(ut>>>14|ht<<2)&8191;var yt=nt[12]|nt[13]<<8;this._r[7]=(ht>>>11|yt<<5)&8065;var wt=nt[14]|nt[15]<<8;this._r[8]=(yt>>>8|wt<<8)&8191,this._r[9]=wt>>>5&127,this._pad[0]=nt[16]|nt[17]<<8,this._pad[1]=nt[18]|nt[19]<<8,this._pad[2]=nt[20]|nt[21]<<8,this._pad[3]=nt[22]|nt[23]<<8,this._pad[4]=nt[24]|nt[25]<<8,this._pad[5]=nt[26]|nt[27]<<8,this._pad[6]=nt[28]|nt[29]<<8,this._pad[7]=nt[30]|nt[31]<<8}return rt.prototype._blocks=function(nt,it,st){for(var ot=this._fin?0:2048,at=this._h[0],ut=this._h[1],ht=this._h[2],yt=this._h[3],wt=this._h[4],Ct=this._h[5],Pt=this._h[6],Tt=this._h[7],Mt=this._h[8],Lt=this._h[9],Dt=this._r[0],Ut=this._r[1],Ot=this._r[2],It=this._r[3],Bt=this._r[4],Ft=this._r[5],jt=this._r[6],bt=this._r[7],vt=this._r[8],ct=this._r[9];st>=16;){var dt=nt[it+0]|nt[it+1]<<8;at+=dt&8191;var mt=nt[it+2]|nt[it+3]<<8;ut+=(dt>>>13|mt<<3)&8191;var xt=nt[it+4]|nt[it+5]<<8;ht+=(mt>>>10|xt<<6)&8191;var At=nt[it+6]|nt[it+7]<<8;yt+=(xt>>>7|At<<9)&8191;var Rt=nt[it+8]|nt[it+9]<<8;wt+=(At>>>4|Rt<<12)&8191,Ct+=Rt>>>1&8191;var St=nt[it+10]|nt[it+11]<<8;Pt+=(Rt>>>14|St<<2)&8191;var $t=nt[it+12]|nt[it+13]<<8;Tt+=(St>>>11|$t<<5)&8191;var Et=nt[it+14]|nt[it+15]<<8;Mt+=($t>>>8|Et<<8)&8191,Lt+=Et>>>5|ot;var Nt=0,tr=Nt;tr+=at*Dt,tr+=ut*(5*ct),tr+=ht*(5*vt),tr+=yt*(5*bt),tr+=wt*(5*jt),Nt=tr>>>13,tr&=8191,tr+=Ct*(5*Ft),tr+=Pt*(5*Bt),tr+=Tt*(5*It),tr+=Mt*(5*Ot),tr+=Lt*(5*Ut),Nt+=tr>>>13,tr&=8191;var ir=Nt;ir+=at*Ut,ir+=ut*Dt,ir+=ht*(5*ct),ir+=yt*(5*vt),ir+=wt*(5*bt),Nt=ir>>>13,ir&=8191,ir+=Ct*(5*jt),ir+=Pt*(5*Ft),ir+=Tt*(5*Bt),ir+=Mt*(5*It),ir+=Lt*(5*Ot),Nt+=ir>>>13,ir&=8191;var nr=Nt;nr+=at*Ot,nr+=ut*Ut,nr+=ht*Dt,nr+=yt*(5*ct),nr+=wt*(5*vt),Nt=nr>>>13,nr&=8191,nr+=Ct*(5*bt),nr+=Pt*(5*jt),nr+=Tt*(5*Ft),nr+=Mt*(5*Bt),nr+=Lt*(5*It),Nt+=nr>>>13,nr&=8191;var Zt=Nt;Zt+=at*It,Zt+=ut*Ot,Zt+=ht*Ut,Zt+=yt*Dt,Zt+=wt*(5*ct),Nt=Zt>>>13,Zt&=8191,Zt+=Ct*(5*vt),Zt+=Pt*(5*bt),Zt+=Tt*(5*jt),Zt+=Mt*(5*Ft),Zt+=Lt*(5*Bt),Nt+=Zt>>>13,Zt&=8191;var Kt=Nt;Kt+=at*Bt,Kt+=ut*It,Kt+=ht*Ot,Kt+=yt*Ut,Kt+=wt*Dt,Nt=Kt>>>13,Kt&=8191,Kt+=Ct*(5*ct),Kt+=Pt*(5*vt),Kt+=Tt*(5*bt),Kt+=Mt*(5*jt),Kt+=Lt*(5*Ft),Nt+=Kt>>>13,Kt&=8191;var Qt=Nt;Qt+=at*Ft,Qt+=ut*Bt,Qt+=ht*It,Qt+=yt*Ot,Qt+=wt*Ut,Nt=Qt>>>13,Qt&=8191,Qt+=Ct*Dt,Qt+=Pt*(5*ct),Qt+=Tt*(5*vt),Qt+=Mt*(5*bt),Qt+=Lt*(5*jt),Nt+=Qt>>>13,Qt&=8191;var Ht=Nt;Ht+=at*jt,Ht+=ut*Ft,Ht+=ht*Bt,Ht+=yt*It,Ht+=wt*Ot,Nt=Ht>>>13,Ht&=8191,Ht+=Ct*Ut,Ht+=Pt*Dt,Ht+=Tt*(5*ct),Ht+=Mt*(5*vt),Ht+=Lt*(5*bt),Nt+=Ht>>>13,Ht&=8191;var qt=Nt;qt+=at*bt,qt+=ut*jt,qt+=ht*Ft,qt+=yt*Bt,qt+=wt*It,Nt=qt>>>13,qt&=8191,qt+=Ct*Ot,qt+=Pt*Ut,qt+=Tt*Dt,qt+=Mt*(5*ct),qt+=Lt*(5*vt),Nt+=qt>>>13,qt&=8191;var Jt=Nt;Jt+=at*vt,Jt+=ut*bt,Jt+=ht*jt,Jt+=yt*Ft,Jt+=wt*Bt,Nt=Jt>>>13,Jt&=8191,Jt+=Ct*It,Jt+=Pt*Ot,Jt+=Tt*Ut,Jt+=Mt*Dt,Jt+=Lt*(5*ct),Nt+=Jt>>>13,Jt&=8191;var ur=Nt;ur+=at*ct,ur+=ut*vt,ur+=ht*bt,ur+=yt*jt,ur+=wt*Ft,Nt=ur>>>13,ur&=8191,ur+=Ct*Bt,ur+=Pt*It,ur+=Tt*Ot,ur+=Mt*Ut,ur+=Lt*Dt,Nt+=ur>>>13,ur&=8191,Nt=(Nt<<2)+Nt|0,Nt=Nt+tr|0,tr=Nt&8191,Nt=Nt>>>13,ir+=Nt,at=tr,ut=ir,ht=nr,yt=Zt,wt=Kt,Ct=Qt,Pt=Ht,Tt=qt,Mt=Jt,Lt=ur,it+=16,st-=16}this._h[0]=at,this._h[1]=ut,this._h[2]=ht,this._h[3]=yt,this._h[4]=wt,this._h[5]=Ct,this._h[6]=Pt,this._h[7]=Tt,this._h[8]=Mt,this._h[9]=Lt},rt.prototype.finish=function(nt,it){it===void 0&&(it=0);var st=new Uint16Array(10),ot,at,ut,ht;if(this._leftover){for(ht=this._leftover,this._buffer[ht++]=1;ht<16;ht++)this._buffer[ht]=0;this._fin=1,this._blocks(this._buffer,0,16)}for(ot=this._h[1]>>>13,this._h[1]&=8191,ht=2;ht<10;ht++)this._h[ht]+=ot,ot=this._h[ht]>>>13,this._h[ht]&=8191;for(this._h[0]+=ot*5,ot=this._h[0]>>>13,this._h[0]&=8191,this._h[1]+=ot,ot=this._h[1]>>>13,this._h[1]&=8191,this._h[2]+=ot,st[0]=this._h[0]+5,ot=st[0]>>>13,st[0]&=8191,ht=1;ht<10;ht++)st[ht]=this._h[ht]+ot,ot=st[ht]>>>13,st[ht]&=8191;for(st[9]-=8192,at=(ot^1)-1,ht=0;ht<10;ht++)st[ht]&=at;for(at=~at,ht=0;ht<10;ht++)this._h[ht]=this._h[ht]&at|st[ht];for(this._h[0]=(this._h[0]|this._h[1]<<13)&65535,this._h[1]=(this._h[1]>>>3|this._h[2]<<10)&65535,this._h[2]=(this._h[2]>>>6|this._h[3]<<7)&65535,this._h[3]=(this._h[3]>>>9|this._h[4]<<4)&65535,this._h[4]=(this._h[4]>>>12|this._h[5]<<1|this._h[6]<<14)&65535,this._h[5]=(this._h[6]>>>2|this._h[7]<<11)&65535,this._h[6]=(this._h[7]>>>5|this._h[8]<<8)&65535,this._h[7]=(this._h[8]>>>8|this._h[9]<<5)&65535,ut=this._h[0]+this._pad[0],this._h[0]=ut&65535,ht=1;ht<8;ht++)ut=(this._h[ht]+this._pad[ht]|0)+(ut>>>16)|0,this._h[ht]=ut&65535;return nt[it+0]=this._h[0]>>>0,nt[it+1]=this._h[0]>>>8,nt[it+2]=this._h[1]>>>0,nt[it+3]=this._h[1]>>>8,nt[it+4]=this._h[2]>>>0,nt[it+5]=this._h[2]>>>8,nt[it+6]=this._h[3]>>>0,nt[it+7]=this._h[3]>>>8,nt[it+8]=this._h[4]>>>0,nt[it+9]=this._h[4]>>>8,nt[it+10]=this._h[5]>>>0,nt[it+11]=this._h[5]>>>8,nt[it+12]=this._h[6]>>>0,nt[it+13]=this._h[6]>>>8,nt[it+14]=this._h[7]>>>0,nt[it+15]=this._h[7]>>>8,this._finished=!0,this},rt.prototype.update=function(nt){var it=0,st=nt.length,ot;if(this._leftover){ot=16-this._leftover,ot>st&&(ot=st);for(var at=0;at<ot;at++)this._buffer[this._leftover+at]=nt[it+at];if(st-=ot,it+=ot,this._leftover+=ot,this._leftover<16)return this;this._blocks(this._buffer,0,16),this._leftover=0}if(st>=16&&(ot=st-st%16,this._blocks(nt,it,ot),it+=ot,st-=ot),st){for(var at=0;at<st;at++)this._buffer[this._leftover+at]=nt[it+at];this._leftover+=st}return this},rt.prototype.digest=function(){if(this._finished)throw new Error("Poly1305 was finished");var nt=new Uint8Array(16);return this.finish(nt),nt},rt.prototype.clean=function(){return $.wipe(this._buffer),$.wipe(this._r),$.wipe(this._h),$.wipe(this._pad),this._leftover=0,this._fin=0,this._finished=!0,this},rt}();a.Poly1305=j;function et(rt,nt){var it=new j(rt);it.update(nt);var st=it.digest();return it.clean(),st}a.oneTimeAuth=et;function tt(rt,nt){return rt.length!==a.DIGEST_LENGTH||nt.length!==a.DIGEST_LENGTH?!1:_.equal(rt,nt)}a.equal=tt})(poly1305);Object.defineProperty(secretbox,"__esModule",{value:!0});secretbox.generateKey=secretbox.openSecretBox=secretbox.secretBox=void 0;const xsalsa20_1=xsalsa20,poly1305_1=poly1305,wipe_1$1=wipe$1,random_1=random;function secretBox(a,_,$){if(_.length!==24)throw new Error("secretBox nonce must be 24 bytes");const j=new Uint8Array(64),et=new Uint8Array(32);et.set(_),(0,xsalsa20_1.stream)(a,et,j,8);const tt=new Uint8Array(16+$.length);for(let nt=0;nt<32&&nt<$.length;nt++)tt[16+nt]=$[nt]^j[32+nt];$.length>32&&(0,xsalsa20_1.streamXOR)(a,et,$.subarray(32),tt.subarray(48),8);const rt=(0,poly1305_1.oneTimeAuth)(j.subarray(0,32),tt.subarray(16));for(let nt=0;nt<rt.length;nt++)tt[nt]=rt[nt];return(0,wipe_1$1.wipe)(rt),(0,wipe_1$1.wipe)(j),(0,wipe_1$1.wipe)(et),tt}secretbox.secretBox=secretBox;function openSecretBox(a,_,$){if(_.length!==24)throw new Error("secretBox nonce must be 24 bytes");if($.length<16)throw new Error("secretBox data must be at least 16 bytes");const j=new Uint8Array(64),et=new Uint8Array(32);et.set(_),(0,xsalsa20_1.stream)(a,et,j,8);const tt=(0,poly1305_1.oneTimeAuth)(j.subarray(0,32),$.subarray(16));if(!(0,poly1305_1.equal)(tt,$.subarray(0,16)))return null;const rt=$.subarray(16),nt=new Uint8Array(rt.length);for(let it=0;it<32&&it<rt.length;it++)nt[it]=rt[it]^j[32+it];return rt.length>32&&(0,xsalsa20_1.streamXOR)(a,et,rt.subarray(32),nt.subarray(32),8),(0,wipe_1$1.wipe)(tt),(0,wipe_1$1.wipe)(j),(0,wipe_1$1.wipe)(et),nt}secretbox.openSecretBox=openSecretBox;function generateKey(a){return(0,random_1.randomBytes)(32,a)}secretbox.generateKey=generateKey;(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.openBox=a.box=a.precomputeSharedKey=a.generateKeyPair=void 0;const _=x25519,$=xsalsa20,j=secretbox,et=wipe$1;var tt=x25519;Object.defineProperty(a,"generateKeyPair",{enumerable:!0,get:function(){return tt.generateKeyPair}});const rt=new Uint8Array(16);function nt(ot,at){const ut=(0,_.scalarMult)(at,ot);return(0,$.hsalsa)(ut,rt,ut),ut}a.precomputeSharedKey=nt;function it(ot,at,ut,ht){const yt=nt(ot,at),wt=(0,j.secretBox)(yt,ut,ht);return(0,et.wipe)(yt),wt}a.box=it;function st(ot,at,ut,ht){const yt=nt(ot,at),wt=(0,j.openSecretBox)(yt,ut,ht);return(0,et.wipe)(yt),wt}a.openBox=st})(box);(function(a){var _=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(j,et,tt,rt){rt===void 0&&(rt=tt);var nt=Object.getOwnPropertyDescriptor(et,tt);(!nt||("get"in nt?!et.__esModule:nt.writable||nt.configurable))&&(nt={enumerable:!0,get:function(){return et[tt]}}),Object.defineProperty(j,rt,nt)}:function(j,et,tt,rt){rt===void 0&&(rt=tt),j[rt]=et[tt]}),$=commonjsGlobal&&commonjsGlobal.__exportStar||function(j,et){for(var tt in j)tt!=="default"&&!Object.prototype.hasOwnProperty.call(et,tt)&&_(et,j,tt)};Object.defineProperty(a,"__esModule",{value:!0}),$(box,a),$(secretbox,a)})(nacl);var utf8={};Object.defineProperty(utf8,"__esModule",{value:!0});var INVALID_UTF16="utf8: invalid string",INVALID_UTF8="utf8: invalid source encoding";function encode$7(a){for(var _=new Uint8Array(encodedLength(a)),$=0,j=0;j<a.length;j++){var et=a.charCodeAt(j);et<128?_[$++]=et:et<2048?(_[$++]=192|et>>6,_[$++]=128|et&63):et<55296?(_[$++]=224|et>>12,_[$++]=128|et>>6&63,_[$++]=128|et&63):(j++,et=(et&1023)<<10,et|=a.charCodeAt(j)&1023,et+=65536,_[$++]=240|et>>18,_[$++]=128|et>>12&63,_[$++]=128|et>>6&63,_[$++]=128|et&63)}return _}var encode_1=utf8.encode=encode$7;function encodedLength(a){for(var _=0,$=0;$<a.length;$++){var j=a.charCodeAt($);if(j<128)_+=1;else if(j<2048)_+=2;else if(j<55296)_+=3;else if(j<=57343){if($>=a.length-1)throw new Error(INVALID_UTF16);$++,_+=4}else throw new Error(INVALID_UTF16)}return _}utf8.encodedLength=encodedLength;function decode$3(a){for(var _=[],$=0;$<a.length;$++){var j=a[$];if(j&128){var et=void 0;if(j<224){if($>=a.length)throw new Error(INVALID_UTF8);var tt=a[++$];if((tt&192)!==128)throw new Error(INVALID_UTF8);j=(j&31)<<6|tt&63,et=128}else if(j<240){if($>=a.length-1)throw new Error(INVALID_UTF8);var tt=a[++$],rt=a[++$];if((tt&192)!==128||(rt&192)!==128)throw new Error(INVALID_UTF8);j=(j&15)<<12|(tt&63)<<6|rt&63,et=2048}else if(j<248){if($>=a.length-2)throw new Error(INVALID_UTF8);var tt=a[++$],rt=a[++$],nt=a[++$];if((tt&192)!==128||(rt&192)!==128||(nt&192)!==128)throw new Error(INVALID_UTF8);j=(j&15)<<18|(tt&63)<<12|(rt&63)<<6|nt&63,et=65536}else throw new Error(INVALID_UTF8);if(j<et||j>=55296&&j<=57343)throw new Error(INVALID_UTF8);if(j>=65536){if(j>1114111)throw new Error(INVALID_UTF8);j-=65536,_.push(String.fromCharCode(55296|j>>10)),j=56320|j&1023}}_.push(String.fromCharCode(j))}return _.join("")}utf8.decode=decode$3;var blake2b$1={};(function(a){Object.defineProperty(a,"__esModule",{value:!0});var _=binary,$=wipe$1;a.BLOCK_SIZE=128,a.DIGEST_LENGTH=64,a.KEY_LENGTH=64,a.PERSONALIZATION_LENGTH=16,a.SALT_LENGTH=16,a.MAX_LEAF_SIZE=Math.pow(2,32)-1,a.MAX_FANOUT=255,a.MAX_MAX_DEPTH=255;var j=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),et=[[0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30],[28,20,8,16,18,30,26,12,2,24,0,4,22,14,10,6],[22,16,24,0,10,4,30,26,20,28,6,12,14,2,18,8],[14,18,6,2,26,24,22,28,4,12,10,20,8,0,30,16],[18,0,10,14,4,8,20,30,28,2,22,24,12,16,6,26],[4,24,12,20,0,22,16,6,8,26,14,10,30,28,2,18],[24,10,2,30,28,26,8,20,0,14,12,6,18,4,16,22],[26,22,14,28,24,2,6,18,10,0,30,8,16,12,4,20],[12,30,28,18,22,6,0,16,24,4,26,14,2,8,20,10],[20,4,16,8,14,12,2,10,30,22,18,28,6,24,26,0],[0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30],[28,20,8,16,18,30,26,12,2,24,0,4,22,14,10,6]],tt=function(){function nt(it,st){if(it===void 0&&(it=64),this.digestLength=it,this.blockSize=a.BLOCK_SIZE,this._state=new Int32Array(j),this._buffer=new Uint8Array(a.BLOCK_SIZE),this._bufferLength=0,this._ctr=new Uint32Array(4),this._flag=new Uint32Array(4),this._lastNode=!1,this._finished=!1,this._vtmp=new Uint32Array(32),this._mtmp=new Uint32Array(32),it<1||it>a.DIGEST_LENGTH)throw new Error("blake2b: wrong digest length");st&&this.validateConfig(st);var ot=0;st&&st.key&&(ot=st.key.length);var at=1,ut=1;st&&st.tree&&(at=st.tree.fanout,ut=st.tree.maxDepth),this._state[0]^=it|ot<<8|at<<16|ut<<24,st&&st.tree&&(this._state[1]^=st.tree.leafSize,this._state[2]^=st.tree.nodeOffsetLowBits,this._state[3]^=st.tree.nodeOffsetHighBits,this._state[4]^=st.tree.nodeDepth|st.tree.innerDigestLength<<8,this._lastNode=st.tree.lastNode),st&&st.salt&&(this._state[8]^=_.readUint32LE(st.salt,0),this._state[9]^=_.readUint32LE(st.salt,4),this._state[10]^=_.readUint32LE(st.salt,8),this._state[11]^=_.readUint32LE(st.salt,12)),st&&st.personalization&&(this._state[12]^=_.readUint32LE(st.personalization,0),this._state[13]^=_.readUint32LE(st.personalization,4),this._state[14]^=_.readUint32LE(st.personalization,8),this._state[15]^=_.readUint32LE(st.personalization,12)),this._initialState=new Uint32Array(this._state),st&&st.key&&ot>0&&(this._paddedKey=new Uint8Array(a.BLOCK_SIZE),this._paddedKey.set(st.key),this._buffer.set(this._paddedKey),this._bufferLength=a.BLOCK_SIZE)}return nt.prototype.reset=function(){return this._state.set(this._initialState),this._paddedKey?(this._buffer.set(this._paddedKey),this._bufferLength=a.BLOCK_SIZE):this._bufferLength=0,$.wipe(this._ctr),$.wipe(this._flag),this._finished=!1,this},nt.prototype.validateConfig=function(it){if(it.key&&it.key.length>a.KEY_LENGTH)throw new Error("blake2b: wrong key length");if(it.salt&&it.salt.length!==a.SALT_LENGTH)throw new Error("blake2b: wrong salt length");if(it.personalization&&it.personalization.length!==a.PERSONALIZATION_LENGTH)throw new Error("blake2b: wrong personalization length");if(it.tree){if(it.tree.fanout<0||it.tree.fanout>a.MAX_FANOUT)throw new Error("blake2b: wrong tree fanout");if(it.tree.maxDepth<0||it.tree.maxDepth>a.MAX_MAX_DEPTH)throw new Error("blake2b: wrong tree depth");if(it.tree.leafSize<0||it.tree.leafSize>a.MAX_LEAF_SIZE)throw new Error("blake2b: wrong leaf size");if(it.tree.innerDigestLength<0||it.tree.innerDigestLength>a.DIGEST_LENGTH)throw new Error("blake2b: wrong tree inner digest length")}},nt.prototype.update=function(it,st){if(st===void 0&&(st=it.length),this._finished)throw new Error("blake2b: can't update because hash was finished.");var ot=a.BLOCK_SIZE-this._bufferLength,at=0;if(st===0)return this;if(st>ot){for(var ut=0;ut<ot;ut++)this._buffer[this._bufferLength+ut]=it[at+ut];this._processBlock(a.BLOCK_SIZE),at+=ot,st-=ot,this._bufferLength=0}for(;st>a.BLOCK_SIZE;){for(var ut=0;ut<a.BLOCK_SIZE;ut++)this._buffer[ut]=it[at+ut];this._processBlock(a.BLOCK_SIZE),at+=a.BLOCK_SIZE,st-=a.BLOCK_SIZE,this._bufferLength=0}for(var ut=0;ut<st;ut++)this._buffer[this._bufferLength+ut]=it[at+ut];return this._bufferLength+=st,this},nt.prototype.finish=function(it){if(!this._finished){for(var st=this._bufferLength;st<a.BLOCK_SIZE;st++)this._buffer[st]=0;this._flag[0]=4294967295,this._flag[1]=4294967295,this._lastNode&&(this._flag[2]=4294967295,this._flag[3]=4294967295),this._processBlock(this._bufferLength),this._finished=!0}for(var ot=this._buffer.subarray(0,64),st=0;st<16;st++)_.writeUint32LE(this._state[st],ot,st*4);return it.set(ot.subarray(0,it.length)),this},nt.prototype.digest=function(){var it=new Uint8Array(this.digestLength);return this.finish(it),it},nt.prototype.clean=function(){$.wipe(this._vtmp),$.wipe(this._mtmp),$.wipe(this._state),$.wipe(this._buffer),$.wipe(this._initialState),this._paddedKey&&$.wipe(this._paddedKey),this._bufferLength=0,$.wipe(this._ctr),$.wipe(this._flag),this._lastNode=!1,this._finished=!1},nt.prototype.saveState=function(){if(this._finished)throw new Error("blake2b: cannot save finished state");return{state:new Uint32Array(this._state),buffer:new Uint8Array(this._buffer),bufferLength:this._bufferLength,ctr:new Uint32Array(this._ctr),flag:new Uint32Array(this._flag),lastNode:this._lastNode,paddedKey:this._paddedKey?new Uint8Array(this._paddedKey):void 0,initialState:new Uint32Array(this._initialState)}},nt.prototype.restoreState=function(it){return this._state.set(it.state),this._buffer.set(it.buffer),this._bufferLength=it.bufferLength,this._ctr.set(it.ctr),this._flag.set(it.flag),this._lastNode=it.lastNode,this._paddedKey&&$.wipe(this._paddedKey),this._paddedKey=it.paddedKey?new Uint8Array(it.paddedKey):void 0,this._initialState.set(it.initialState),this},nt.prototype.cleanSavedState=function(it){$.wipe(it.state),$.wipe(it.buffer),$.wipe(it.initialState),it.paddedKey&&$.wipe(it.paddedKey),it.bufferLength=0,$.wipe(it.ctr),$.wipe(it.flag),it.lastNode=!1},nt.prototype._G=function(it,st,ot,at,ut,ht,yt,wt,Ct,Pt,Tt,Mt,Lt){var Dt=it[st],Ut=it[ht],Ot=it[ot],It=it[yt],Bt=it[at],Ft=it[wt],jt=it[ut],bt=it[Ct],vt=Dt&65535,ct=Dt>>>16,dt=Ut&65535,mt=Ut>>>16;vt+=Ot&65535,ct+=Ot>>>16,dt+=It&65535,mt+=It>>>16,ct+=vt>>>16,dt+=ct>>>16,mt+=dt>>>16,Ut=dt&65535|mt<<16,Dt=vt&65535|ct<<16,vt=Dt&65535,ct=Dt>>>16,dt=Ut&65535,mt=Ut>>>16,vt+=Pt&65535,ct+=Pt>>>16,dt+=Tt&65535,mt+=Tt>>>16,ct+=vt>>>16,dt+=ct>>>16,mt+=dt>>>16,Ut=dt&65535|mt<<16,Dt=vt&65535|ct<<16,jt^=Dt,bt^=Ut,vt=bt,bt=jt,jt=vt,vt=Bt&65535,ct=Bt>>>16,dt=Ft&65535,mt=Ft>>>16,vt+=jt&65535,ct+=jt>>>16,dt+=bt&65535,mt+=bt>>>16,ct+=vt>>>16,dt+=ct>>>16,mt+=dt>>>16,Ft=dt&65535|mt<<16,Bt=vt&65535|ct<<16,Ot^=Bt,It^=Ft,vt=Ot<<8|It>>>24,Ot=It<<8|Ot>>>24,It=vt,vt=Dt&65535,ct=Dt>>>16,dt=Ut&65535,mt=Ut>>>16,vt+=Ot&65535,ct+=Ot>>>16,dt+=It&65535,mt+=It>>>16,ct+=vt>>>16,dt+=ct>>>16,mt+=dt>>>16,Ut=dt&65535|mt<<16,Dt=vt&65535|ct<<16,vt=Dt&65535,ct=Dt>>>16,dt=Ut&65535,mt=Ut>>>16,vt+=Mt&65535,ct+=Mt>>>16,dt+=Lt&65535,mt+=Lt>>>16,ct+=vt>>>16,dt+=ct>>>16,mt+=dt>>>16,Ut=dt&65535|mt<<16,Dt=vt&65535|ct<<16,jt^=Dt,bt^=Ut,vt=jt<<16|bt>>>16,jt=bt<<16|jt>>>16,bt=vt,vt=Bt&65535,ct=Bt>>>16,dt=Ft&65535,mt=Ft>>>16,vt+=jt&65535,ct+=jt>>>16,dt+=bt&65535,mt+=bt>>>16,ct+=vt>>>16,dt+=ct>>>16,mt+=dt>>>16,Ft=dt&65535|mt<<16,Bt=vt&65535|ct<<16,Ot^=Bt,It^=Ft,vt=It<<1|Ot>>>31,Ot=Ot<<1|It>>>31,It=vt,it[st]=Dt,it[ht]=Ut,it[ot]=Ot,it[yt]=It,it[at]=Bt,it[wt]=Ft,it[ut]=jt,it[Ct]=bt},nt.prototype._incrementCounter=function(it){for(var st=0;st<3;st++){var ot=this._ctr[st]+it;if(this._ctr[st]=ot>>>0,this._ctr[st]===ot)return;it=1}},nt.prototype._processBlock=function(it){this._incrementCounter(it);var st=this._vtmp;st.set(this._state),st.set(j,16),st[12*2+0]^=this._ctr[0],st[12*2+1]^=this._ctr[1],st[13*2+0]^=this._ctr[2],st[13*2+1]^=this._ctr[3],st[14*2+0]^=this._flag[0],st[14*2+1]^=this._flag[1],st[15*2+0]^=this._flag[2],st[15*2+1]^=this._flag[3];for(var ot=this._mtmp,at=0;at<32;at++)ot[at]=_.readUint32LE(this._buffer,at*4);for(var ut=0;ut<12;ut++)this._G(st,0,8,16,24,1,9,17,25,ot[et[ut][0]],ot[et[ut][0]+1],ot[et[ut][1]],ot[et[ut][1]+1]),this._G(st,2,10,18,26,3,11,19,27,ot[et[ut][2]],ot[et[ut][2]+1],ot[et[ut][3]],ot[et[ut][3]+1]),this._G(st,4,12,20,28,5,13,21,29,ot[et[ut][4]],ot[et[ut][4]+1],ot[et[ut][5]],ot[et[ut][5]+1]),this._G(st,6,14,22,30,7,15,23,31,ot[et[ut][6]],ot[et[ut][6]+1],ot[et[ut][7]],ot[et[ut][7]+1]),this._G(st,0,10,20,30,1,11,21,31,ot[et[ut][8]],ot[et[ut][8]+1],ot[et[ut][9]],ot[et[ut][9]+1]),this._G(st,2,12,22,24,3,13,23,25,ot[et[ut][10]],ot[et[ut][10]+1],ot[et[ut][11]],ot[et[ut][11]+1]),this._G(st,4,14,16,26,5,15,17,27,ot[et[ut][12]],ot[et[ut][12]+1],ot[et[ut][13]],ot[et[ut][13]+1]),this._G(st,6,8,18,28,7,9,19,29,ot[et[ut][14]],ot[et[ut][14]+1],ot[et[ut][15]],ot[et[ut][15]+1]);for(var at=0;at<16;at++)this._state[at]^=st[at]^st[at+16]},nt}();a.BLAKE2b=tt;function rt(nt,it,st){it===void 0&&(it=a.DIGEST_LENGTH);var ot=new tt(it,st);ot.update(nt);var at=ot.digest();return ot.clean(),at}a.hash=rt})(blake2b$1);var ed25519={},sha512$2={};(function(a){Object.defineProperty(a,"__esModule",{value:!0});var _=binary,$=wipe$1;a.DIGEST_LENGTH=64,a.BLOCK_SIZE=128;var j=function(){function nt(){this.digestLength=a.DIGEST_LENGTH,this.blockSize=a.BLOCK_SIZE,this._stateHi=new Int32Array(8),this._stateLo=new Int32Array(8),this._tempHi=new Int32Array(16),this._tempLo=new Int32Array(16),this._buffer=new Uint8Array(256),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return nt.prototype._initState=function(){this._stateHi[0]=1779033703,this._stateHi[1]=3144134277,this._stateHi[2]=1013904242,this._stateHi[3]=2773480762,this._stateHi[4]=1359893119,this._stateHi[5]=2600822924,this._stateHi[6]=528734635,this._stateHi[7]=1541459225,this._stateLo[0]=4089235720,this._stateLo[1]=2227873595,this._stateLo[2]=4271175723,this._stateLo[3]=1595750129,this._stateLo[4]=2917565137,this._stateLo[5]=725511199,this._stateLo[6]=4215389547,this._stateLo[7]=327033209},nt.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},nt.prototype.clean=function(){$.wipe(this._buffer),$.wipe(this._tempHi),$.wipe(this._tempLo),this.reset()},nt.prototype.update=function(it,st){if(st===void 0&&(st=it.length),this._finished)throw new Error("SHA512: can't update because hash was finished.");var ot=0;if(this._bytesHashed+=st,this._bufferLength>0){for(;this._bufferLength<a.BLOCK_SIZE&&st>0;)this._buffer[this._bufferLength++]=it[ot++],st--;this._bufferLength===this.blockSize&&(tt(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,this.blockSize),this._bufferLength=0)}for(st>=this.blockSize&&(ot=tt(this._tempHi,this._tempLo,this._stateHi,this._stateLo,it,ot,st),st%=this.blockSize);st>0;)this._buffer[this._bufferLength++]=it[ot++],st--;return this},nt.prototype.finish=function(it){if(!this._finished){var st=this._bytesHashed,ot=this._bufferLength,at=st/536870912|0,ut=st<<3,ht=st%128<112?128:256;this._buffer[ot]=128;for(var yt=ot+1;yt<ht-8;yt++)this._buffer[yt]=0;_.writeUint32BE(at,this._buffer,ht-8),_.writeUint32BE(ut,this._buffer,ht-4),tt(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,ht),this._finished=!0}for(var yt=0;yt<this.digestLength/8;yt++)_.writeUint32BE(this._stateHi[yt],it,yt*8),_.writeUint32BE(this._stateLo[yt],it,yt*8+4);return this},nt.prototype.digest=function(){var it=new Uint8Array(this.digestLength);return this.finish(it),it},nt.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{stateHi:new Int32Array(this._stateHi),stateLo:new Int32Array(this._stateLo),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},nt.prototype.restoreState=function(it){return this._stateHi.set(it.stateHi),this._stateLo.set(it.stateLo),this._bufferLength=it.bufferLength,it.buffer&&this._buffer.set(it.buffer),this._bytesHashed=it.bytesHashed,this._finished=!1,this},nt.prototype.cleanSavedState=function(it){$.wipe(it.stateHi),$.wipe(it.stateLo),it.buffer&&$.wipe(it.buffer),it.bufferLength=0,it.bytesHashed=0},nt}();a.SHA512=j;var et=new Int32Array([1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591]);function tt(nt,it,st,ot,at,ut,ht){for(var yt=st[0],wt=st[1],Ct=st[2],Pt=st[3],Tt=st[4],Mt=st[5],Lt=st[6],Dt=st[7],Ut=ot[0],Ot=ot[1],It=ot[2],Bt=ot[3],Ft=ot[4],jt=ot[5],bt=ot[6],vt=ot[7],ct,dt,mt,xt,At,Rt,St,$t;ht>=128;){for(var Et=0;Et<16;Et++){var Nt=8*Et+ut;nt[Et]=_.readUint32BE(at,Nt),it[Et]=_.readUint32BE(at,Nt+4)}for(var Et=0;Et<80;Et++){var tr=yt,ir=wt,nr=Ct,Zt=Pt,Kt=Tt,Qt=Mt,Ht=Lt,qt=Dt,Jt=Ut,ur=Ot,xr=It,pr=Bt,Cr=Ft,Mr=jt,lr=bt,fr=vt;if(ct=Dt,dt=vt,At=dt&65535,Rt=dt>>>16,St=ct&65535,$t=ct>>>16,ct=(Tt>>>14|Ft<<18)^(Tt>>>18|Ft<<14)^(Ft>>>9|Tt<<23),dt=(Ft>>>14|Tt<<18)^(Ft>>>18|Tt<<14)^(Tt>>>9|Ft<<23),At+=dt&65535,Rt+=dt>>>16,St+=ct&65535,$t+=ct>>>16,ct=Tt&Mt^~Tt&Lt,dt=Ft&jt^~Ft&bt,At+=dt&65535,Rt+=dt>>>16,St+=ct&65535,$t+=ct>>>16,ct=et[Et*2],dt=et[Et*2+1],At+=dt&65535,Rt+=dt>>>16,St+=ct&65535,$t+=ct>>>16,ct=nt[Et%16],dt=it[Et%16],At+=dt&65535,Rt+=dt>>>16,St+=ct&65535,$t+=ct>>>16,Rt+=At>>>16,St+=Rt>>>16,$t+=St>>>16,mt=St&65535|$t<<16,xt=At&65535|Rt<<16,ct=mt,dt=xt,At=dt&65535,Rt=dt>>>16,St=ct&65535,$t=ct>>>16,ct=(yt>>>28|Ut<<4)^(Ut>>>2|yt<<30)^(Ut>>>7|yt<<25),dt=(Ut>>>28|yt<<4)^(yt>>>2|Ut<<30)^(yt>>>7|Ut<<25),At+=dt&65535,Rt+=dt>>>16,St+=ct&65535,$t+=ct>>>16,ct=yt&wt^yt&Ct^wt&Ct,dt=Ut&Ot^Ut&It^Ot&It,At+=dt&65535,Rt+=dt>>>16,St+=ct&65535,$t+=ct>>>16,Rt+=At>>>16,St+=Rt>>>16,$t+=St>>>16,qt=St&65535|$t<<16,fr=At&65535|Rt<<16,ct=Zt,dt=pr,At=dt&65535,Rt=dt>>>16,St=ct&65535,$t=ct>>>16,ct=mt,dt=xt,At+=dt&65535,Rt+=dt>>>16,St+=ct&65535,$t+=ct>>>16,Rt+=At>>>16,St+=Rt>>>16,$t+=St>>>16,Zt=St&65535|$t<<16,pr=At&65535|Rt<<16,wt=tr,Ct=ir,Pt=nr,Tt=Zt,Mt=Kt,Lt=Qt,Dt=Ht,yt=qt,Ot=Jt,It=ur,Bt=xr,Ft=pr,jt=Cr,bt=Mr,vt=lr,Ut=fr,Et%16===15)for(var Nt=0;Nt<16;Nt++)ct=nt[Nt],dt=it[Nt],At=dt&65535,Rt=dt>>>16,St=ct&65535,$t=ct>>>16,ct=nt[(Nt+9)%16],dt=it[(Nt+9)%16],At+=dt&65535,Rt+=dt>>>16,St+=ct&65535,$t+=ct>>>16,mt=nt[(Nt+1)%16],xt=it[(Nt+1)%16],ct=(mt>>>1|xt<<31)^(mt>>>8|xt<<24)^mt>>>7,dt=(xt>>>1|mt<<31)^(xt>>>8|mt<<24)^(xt>>>7|mt<<25),At+=dt&65535,Rt+=dt>>>16,St+=ct&65535,$t+=ct>>>16,mt=nt[(Nt+14)%16],xt=it[(Nt+14)%16],ct=(mt>>>19|xt<<13)^(xt>>>29|mt<<3)^mt>>>6,dt=(xt>>>19|mt<<13)^(mt>>>29|xt<<3)^(xt>>>6|mt<<26),At+=dt&65535,Rt+=dt>>>16,St+=ct&65535,$t+=ct>>>16,Rt+=At>>>16,St+=Rt>>>16,$t+=St>>>16,nt[Nt]=St&65535|$t<<16,it[Nt]=At&65535|Rt<<16}ct=yt,dt=Ut,At=dt&65535,Rt=dt>>>16,St=ct&65535,$t=ct>>>16,ct=st[0],dt=ot[0],At+=dt&65535,Rt+=dt>>>16,St+=ct&65535,$t+=ct>>>16,Rt+=At>>>16,St+=Rt>>>16,$t+=St>>>16,st[0]=yt=St&65535|$t<<16,ot[0]=Ut=At&65535|Rt<<16,ct=wt,dt=Ot,At=dt&65535,Rt=dt>>>16,St=ct&65535,$t=ct>>>16,ct=st[1],dt=ot[1],At+=dt&65535,Rt+=dt>>>16,St+=ct&65535,$t+=ct>>>16,Rt+=At>>>16,St+=Rt>>>16,$t+=St>>>16,st[1]=wt=St&65535|$t<<16,ot[1]=Ot=At&65535|Rt<<16,ct=Ct,dt=It,At=dt&65535,Rt=dt>>>16,St=ct&65535,$t=ct>>>16,ct=st[2],dt=ot[2],At+=dt&65535,Rt+=dt>>>16,St+=ct&65535,$t+=ct>>>16,Rt+=At>>>16,St+=Rt>>>16,$t+=St>>>16,st[2]=Ct=St&65535|$t<<16,ot[2]=It=At&65535|Rt<<16,ct=Pt,dt=Bt,At=dt&65535,Rt=dt>>>16,St=ct&65535,$t=ct>>>16,ct=st[3],dt=ot[3],At+=dt&65535,Rt+=dt>>>16,St+=ct&65535,$t+=ct>>>16,Rt+=At>>>16,St+=Rt>>>16,$t+=St>>>16,st[3]=Pt=St&65535|$t<<16,ot[3]=Bt=At&65535|Rt<<16,ct=Tt,dt=Ft,At=dt&65535,Rt=dt>>>16,St=ct&65535,$t=ct>>>16,ct=st[4],dt=ot[4],At+=dt&65535,Rt+=dt>>>16,St+=ct&65535,$t+=ct>>>16,Rt+=At>>>16,St+=Rt>>>16,$t+=St>>>16,st[4]=Tt=St&65535|$t<<16,ot[4]=Ft=At&65535|Rt<<16,ct=Mt,dt=jt,At=dt&65535,Rt=dt>>>16,St=ct&65535,$t=ct>>>16,ct=st[5],dt=ot[5],At+=dt&65535,Rt+=dt>>>16,St+=ct&65535,$t+=ct>>>16,Rt+=At>>>16,St+=Rt>>>16,$t+=St>>>16,st[5]=Mt=St&65535|$t<<16,ot[5]=jt=At&65535|Rt<<16,ct=Lt,dt=bt,At=dt&65535,Rt=dt>>>16,St=ct&65535,$t=ct>>>16,ct=st[6],dt=ot[6],At+=dt&65535,Rt+=dt>>>16,St+=ct&65535,$t+=ct>>>16,Rt+=At>>>16,St+=Rt>>>16,$t+=St>>>16,st[6]=Lt=St&65535|$t<<16,ot[6]=bt=At&65535|Rt<<16,ct=Dt,dt=vt,At=dt&65535,Rt=dt>>>16,St=ct&65535,$t=ct>>>16,ct=st[7],dt=ot[7],At+=dt&65535,Rt+=dt>>>16,St+=ct&65535,$t+=ct>>>16,Rt+=At>>>16,St+=Rt>>>16,$t+=St>>>16,st[7]=Dt=St&65535|$t<<16,ot[7]=vt=At&65535|Rt<<16,ut+=128,ht-=128}return ut}function rt(nt){var it=new j;it.update(nt);var st=it.digest();return it.clean(),st}a.hash=rt})(sha512$2);(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.convertSecretKeyToX25519=a.convertPublicKeyToX25519=a.verify=a.sign=a.extractPublicKeyFromSecretKey=a.generateKeyPair=a.generateKeyPairFromSeed=a.SEED_LENGTH=a.SECRET_KEY_LENGTH=a.PUBLIC_KEY_LENGTH=a.SIGNATURE_LENGTH=void 0;const _=random,$=sha512$2,j=wipe$1;a.SIGNATURE_LENGTH=64,a.PUBLIC_KEY_LENGTH=32,a.SECRET_KEY_LENGTH=64,a.SEED_LENGTH=32;function et(Zt){const Kt=new Float64Array(16);if(Zt)for(let Qt=0;Qt<Zt.length;Qt++)Kt[Qt]=Zt[Qt];return Kt}const tt=new Uint8Array(32);tt[0]=9;const rt=et(),nt=et([1]),it=et([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),st=et([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),ot=et([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),at=et([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),ut=et([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function ht(Zt,Kt){for(let Qt=0;Qt<16;Qt++)Zt[Qt]=Kt[Qt]|0}function yt(Zt){let Kt=1;for(let Qt=0;Qt<16;Qt++){let Ht=Zt[Qt]+Kt+65535;Kt=Math.floor(Ht/65536),Zt[Qt]=Ht-Kt*65536}Zt[0]+=Kt-1+37*(Kt-1)}function wt(Zt,Kt,Qt){const Ht=~(Qt-1);for(let qt=0;qt<16;qt++){const Jt=Ht&(Zt[qt]^Kt[qt]);Zt[qt]^=Jt,Kt[qt]^=Jt}}function Ct(Zt,Kt){const Qt=et(),Ht=et();for(let qt=0;qt<16;qt++)Ht[qt]=Kt[qt];yt(Ht),yt(Ht),yt(Ht);for(let qt=0;qt<2;qt++){Qt[0]=Ht[0]-65517;for(let ur=1;ur<15;ur++)Qt[ur]=Ht[ur]-65535-(Qt[ur-1]>>16&1),Qt[ur-1]&=65535;Qt[15]=Ht[15]-32767-(Qt[14]>>16&1);const Jt=Qt[15]>>16&1;Qt[14]&=65535,wt(Ht,Qt,1-Jt)}for(let qt=0;qt<16;qt++)Zt[2*qt]=Ht[qt]&255,Zt[2*qt+1]=Ht[qt]>>8}function Pt(Zt,Kt){let Qt=0;for(let Ht=0;Ht<32;Ht++)Qt|=Zt[Ht]^Kt[Ht];return(1&Qt-1>>>8)-1}function Tt(Zt,Kt){const Qt=new Uint8Array(32),Ht=new Uint8Array(32);return Ct(Qt,Zt),Ct(Ht,Kt),Pt(Qt,Ht)}function Mt(Zt){const Kt=new Uint8Array(32);return Ct(Kt,Zt),Kt[0]&1}function Lt(Zt,Kt){for(let Qt=0;Qt<16;Qt++)Zt[Qt]=Kt[2*Qt]+(Kt[2*Qt+1]<<8);Zt[15]&=32767}function Dt(Zt,Kt,Qt){for(let Ht=0;Ht<16;Ht++)Zt[Ht]=Kt[Ht]+Qt[Ht]}function Ut(Zt,Kt,Qt){for(let Ht=0;Ht<16;Ht++)Zt[Ht]=Kt[Ht]-Qt[Ht]}function Ot(Zt,Kt,Qt){let Ht,qt,Jt=0,ur=0,xr=0,pr=0,Cr=0,Mr=0,lr=0,fr=0,_r=0,Rr=0,kr=0,Ar=0,Pr=0,Or=0,Lr=0,or=0,Yt=0,er=0,Gt=0,Vt=0,Wt=0,ar=0,yr=0,Er=0,Sr=0,Wr=0,Hr=0,Fr=0,pn=0,Jr=0,Qr=0,mn=Qt[0],ln=Qt[1],qr=Qt[2],En=Qt[3],un=Qt[4],Vr=Qt[5],hn=Qt[6],fn=Qt[7],Kr=Qt[8],Rn=Qt[9],dn=Qt[10],Gr=Qt[11],gn=Qt[12],an=Qt[13],Zr=Qt[14],An=Qt[15];Ht=Kt[0],Jt+=Ht*mn,ur+=Ht*ln,xr+=Ht*qr,pr+=Ht*En,Cr+=Ht*un,Mr+=Ht*Vr,lr+=Ht*hn,fr+=Ht*fn,_r+=Ht*Kr,Rr+=Ht*Rn,kr+=Ht*dn,Ar+=Ht*Gr,Pr+=Ht*gn,Or+=Ht*an,Lr+=Ht*Zr,or+=Ht*An,Ht=Kt[1],ur+=Ht*mn,xr+=Ht*ln,pr+=Ht*qr,Cr+=Ht*En,Mr+=Ht*un,lr+=Ht*Vr,fr+=Ht*hn,_r+=Ht*fn,Rr+=Ht*Kr,kr+=Ht*Rn,Ar+=Ht*dn,Pr+=Ht*Gr,Or+=Ht*gn,Lr+=Ht*an,or+=Ht*Zr,Yt+=Ht*An,Ht=Kt[2],xr+=Ht*mn,pr+=Ht*ln,Cr+=Ht*qr,Mr+=Ht*En,lr+=Ht*un,fr+=Ht*Vr,_r+=Ht*hn,Rr+=Ht*fn,kr+=Ht*Kr,Ar+=Ht*Rn,Pr+=Ht*dn,Or+=Ht*Gr,Lr+=Ht*gn,or+=Ht*an,Yt+=Ht*Zr,er+=Ht*An,Ht=Kt[3],pr+=Ht*mn,Cr+=Ht*ln,Mr+=Ht*qr,lr+=Ht*En,fr+=Ht*un,_r+=Ht*Vr,Rr+=Ht*hn,kr+=Ht*fn,Ar+=Ht*Kr,Pr+=Ht*Rn,Or+=Ht*dn,Lr+=Ht*Gr,or+=Ht*gn,Yt+=Ht*an,er+=Ht*Zr,Gt+=Ht*An,Ht=Kt[4],Cr+=Ht*mn,Mr+=Ht*ln,lr+=Ht*qr,fr+=Ht*En,_r+=Ht*un,Rr+=Ht*Vr,kr+=Ht*hn,Ar+=Ht*fn,Pr+=Ht*Kr,Or+=Ht*Rn,Lr+=Ht*dn,or+=Ht*Gr,Yt+=Ht*gn,er+=Ht*an,Gt+=Ht*Zr,Vt+=Ht*An,Ht=Kt[5],Mr+=Ht*mn,lr+=Ht*ln,fr+=Ht*qr,_r+=Ht*En,Rr+=Ht*un,kr+=Ht*Vr,Ar+=Ht*hn,Pr+=Ht*fn,Or+=Ht*Kr,Lr+=Ht*Rn,or+=Ht*dn,Yt+=Ht*Gr,er+=Ht*gn,Gt+=Ht*an,Vt+=Ht*Zr,Wt+=Ht*An,Ht=Kt[6],lr+=Ht*mn,fr+=Ht*ln,_r+=Ht*qr,Rr+=Ht*En,kr+=Ht*un,Ar+=Ht*Vr,Pr+=Ht*hn,Or+=Ht*fn,Lr+=Ht*Kr,or+=Ht*Rn,Yt+=Ht*dn,er+=Ht*Gr,Gt+=Ht*gn,Vt+=Ht*an,Wt+=Ht*Zr,ar+=Ht*An,Ht=Kt[7],fr+=Ht*mn,_r+=Ht*ln,Rr+=Ht*qr,kr+=Ht*En,Ar+=Ht*un,Pr+=Ht*Vr,Or+=Ht*hn,Lr+=Ht*fn,or+=Ht*Kr,Yt+=Ht*Rn,er+=Ht*dn,Gt+=Ht*Gr,Vt+=Ht*gn,Wt+=Ht*an,ar+=Ht*Zr,yr+=Ht*An,Ht=Kt[8],_r+=Ht*mn,Rr+=Ht*ln,kr+=Ht*qr,Ar+=Ht*En,Pr+=Ht*un,Or+=Ht*Vr,Lr+=Ht*hn,or+=Ht*fn,Yt+=Ht*Kr,er+=Ht*Rn,Gt+=Ht*dn,Vt+=Ht*Gr,Wt+=Ht*gn,ar+=Ht*an,yr+=Ht*Zr,Er+=Ht*An,Ht=Kt[9],Rr+=Ht*mn,kr+=Ht*ln,Ar+=Ht*qr,Pr+=Ht*En,Or+=Ht*un,Lr+=Ht*Vr,or+=Ht*hn,Yt+=Ht*fn,er+=Ht*Kr,Gt+=Ht*Rn,Vt+=Ht*dn,Wt+=Ht*Gr,ar+=Ht*gn,yr+=Ht*an,Er+=Ht*Zr,Sr+=Ht*An,Ht=Kt[10],kr+=Ht*mn,Ar+=Ht*ln,Pr+=Ht*qr,Or+=Ht*En,Lr+=Ht*un,or+=Ht*Vr,Yt+=Ht*hn,er+=Ht*fn,Gt+=Ht*Kr,Vt+=Ht*Rn,Wt+=Ht*dn,ar+=Ht*Gr,yr+=Ht*gn,Er+=Ht*an,Sr+=Ht*Zr,Wr+=Ht*An,Ht=Kt[11],Ar+=Ht*mn,Pr+=Ht*ln,Or+=Ht*qr,Lr+=Ht*En,or+=Ht*un,Yt+=Ht*Vr,er+=Ht*hn,Gt+=Ht*fn,Vt+=Ht*Kr,Wt+=Ht*Rn,ar+=Ht*dn,yr+=Ht*Gr,Er+=Ht*gn,Sr+=Ht*an,Wr+=Ht*Zr,Hr+=Ht*An,Ht=Kt[12],Pr+=Ht*mn,Or+=Ht*ln,Lr+=Ht*qr,or+=Ht*En,Yt+=Ht*un,er+=Ht*Vr,Gt+=Ht*hn,Vt+=Ht*fn,Wt+=Ht*Kr,ar+=Ht*Rn,yr+=Ht*dn,Er+=Ht*Gr,Sr+=Ht*gn,Wr+=Ht*an,Hr+=Ht*Zr,Fr+=Ht*An,Ht=Kt[13],Or+=Ht*mn,Lr+=Ht*ln,or+=Ht*qr,Yt+=Ht*En,er+=Ht*un,Gt+=Ht*Vr,Vt+=Ht*hn,Wt+=Ht*fn,ar+=Ht*Kr,yr+=Ht*Rn,Er+=Ht*dn,Sr+=Ht*Gr,Wr+=Ht*gn,Hr+=Ht*an,Fr+=Ht*Zr,pn+=Ht*An,Ht=Kt[14],Lr+=Ht*mn,or+=Ht*ln,Yt+=Ht*qr,er+=Ht*En,Gt+=Ht*un,Vt+=Ht*Vr,Wt+=Ht*hn,ar+=Ht*fn,yr+=Ht*Kr,Er+=Ht*Rn,Sr+=Ht*dn,Wr+=Ht*Gr,Hr+=Ht*gn,Fr+=Ht*an,pn+=Ht*Zr,Jr+=Ht*An,Ht=Kt[15],or+=Ht*mn,Yt+=Ht*ln,er+=Ht*qr,Gt+=Ht*En,Vt+=Ht*un,Wt+=Ht*Vr,ar+=Ht*hn,yr+=Ht*fn,Er+=Ht*Kr,Sr+=Ht*Rn,Wr+=Ht*dn,Hr+=Ht*Gr,Fr+=Ht*gn,pn+=Ht*an,Jr+=Ht*Zr,Qr+=Ht*An,Jt+=38*Yt,ur+=38*er,xr+=38*Gt,pr+=38*Vt,Cr+=38*Wt,Mr+=38*ar,lr+=38*yr,fr+=38*Er,_r+=38*Sr,Rr+=38*Wr,kr+=38*Hr,Ar+=38*Fr,Pr+=38*pn,Or+=38*Jr,Lr+=38*Qr,qt=1,Ht=Jt+qt+65535,qt=Math.floor(Ht/65536),Jt=Ht-qt*65536,Ht=ur+qt+65535,qt=Math.floor(Ht/65536),ur=Ht-qt*65536,Ht=xr+qt+65535,qt=Math.floor(Ht/65536),xr=Ht-qt*65536,Ht=pr+qt+65535,qt=Math.floor(Ht/65536),pr=Ht-qt*65536,Ht=Cr+qt+65535,qt=Math.floor(Ht/65536),Cr=Ht-qt*65536,Ht=Mr+qt+65535,qt=Math.floor(Ht/65536),Mr=Ht-qt*65536,Ht=lr+qt+65535,qt=Math.floor(Ht/65536),lr=Ht-qt*65536,Ht=fr+qt+65535,qt=Math.floor(Ht/65536),fr=Ht-qt*65536,Ht=_r+qt+65535,qt=Math.floor(Ht/65536),_r=Ht-qt*65536,Ht=Rr+qt+65535,qt=Math.floor(Ht/65536),Rr=Ht-qt*65536,Ht=kr+qt+65535,qt=Math.floor(Ht/65536),kr=Ht-qt*65536,Ht=Ar+qt+65535,qt=Math.floor(Ht/65536),Ar=Ht-qt*65536,Ht=Pr+qt+65535,qt=Math.floor(Ht/65536),Pr=Ht-qt*65536,Ht=Or+qt+65535,qt=Math.floor(Ht/65536),Or=Ht-qt*65536,Ht=Lr+qt+65535,qt=Math.floor(Ht/65536),Lr=Ht-qt*65536,Ht=or+qt+65535,qt=Math.floor(Ht/65536),or=Ht-qt*65536,Jt+=qt-1+37*(qt-1),qt=1,Ht=Jt+qt+65535,qt=Math.floor(Ht/65536),Jt=Ht-qt*65536,Ht=ur+qt+65535,qt=Math.floor(Ht/65536),ur=Ht-qt*65536,Ht=xr+qt+65535,qt=Math.floor(Ht/65536),xr=Ht-qt*65536,Ht=pr+qt+65535,qt=Math.floor(Ht/65536),pr=Ht-qt*65536,Ht=Cr+qt+65535,qt=Math.floor(Ht/65536),Cr=Ht-qt*65536,Ht=Mr+qt+65535,qt=Math.floor(Ht/65536),Mr=Ht-qt*65536,Ht=lr+qt+65535,qt=Math.floor(Ht/65536),lr=Ht-qt*65536,Ht=fr+qt+65535,qt=Math.floor(Ht/65536),fr=Ht-qt*65536,Ht=_r+qt+65535,qt=Math.floor(Ht/65536),_r=Ht-qt*65536,Ht=Rr+qt+65535,qt=Math.floor(Ht/65536),Rr=Ht-qt*65536,Ht=kr+qt+65535,qt=Math.floor(Ht/65536),kr=Ht-qt*65536,Ht=Ar+qt+65535,qt=Math.floor(Ht/65536),Ar=Ht-qt*65536,Ht=Pr+qt+65535,qt=Math.floor(Ht/65536),Pr=Ht-qt*65536,Ht=Or+qt+65535,qt=Math.floor(Ht/65536),Or=Ht-qt*65536,Ht=Lr+qt+65535,qt=Math.floor(Ht/65536),Lr=Ht-qt*65536,Ht=or+qt+65535,qt=Math.floor(Ht/65536),or=Ht-qt*65536,Jt+=qt-1+37*(qt-1),Zt[0]=Jt,Zt[1]=ur,Zt[2]=xr,Zt[3]=pr,Zt[4]=Cr,Zt[5]=Mr,Zt[6]=lr,Zt[7]=fr,Zt[8]=_r,Zt[9]=Rr,Zt[10]=kr,Zt[11]=Ar,Zt[12]=Pr,Zt[13]=Or,Zt[14]=Lr,Zt[15]=or}function It(Zt,Kt){Ot(Zt,Kt,Kt)}function Bt(Zt,Kt){const Qt=et();let Ht;for(Ht=0;Ht<16;Ht++)Qt[Ht]=Kt[Ht];for(Ht=253;Ht>=0;Ht--)It(Qt,Qt),Ht!==2&&Ht!==4&&Ot(Qt,Qt,Kt);for(Ht=0;Ht<16;Ht++)Zt[Ht]=Qt[Ht]}function Ft(Zt,Kt){const Qt=et();let Ht;for(Ht=0;Ht<16;Ht++)Qt[Ht]=Kt[Ht];for(Ht=250;Ht>=0;Ht--)It(Qt,Qt),Ht!==1&&Ot(Qt,Qt,Kt);for(Ht=0;Ht<16;Ht++)Zt[Ht]=Qt[Ht]}function jt(Zt,Kt){const Qt=et(),Ht=et(),qt=et(),Jt=et(),ur=et(),xr=et(),pr=et(),Cr=et(),Mr=et();Ut(Qt,Zt[1],Zt[0]),Ut(Mr,Kt[1],Kt[0]),Ot(Qt,Qt,Mr),Dt(Ht,Zt[0],Zt[1]),Dt(Mr,Kt[0],Kt[1]),Ot(Ht,Ht,Mr),Ot(qt,Zt[3],Kt[3]),Ot(qt,qt,st),Ot(Jt,Zt[2],Kt[2]),Dt(Jt,Jt,Jt),Ut(ur,Ht,Qt),Ut(xr,Jt,qt),Dt(pr,Jt,qt),Dt(Cr,Ht,Qt),Ot(Zt[0],ur,xr),Ot(Zt[1],Cr,pr),Ot(Zt[2],pr,xr),Ot(Zt[3],ur,Cr)}function bt(Zt,Kt,Qt){for(let Ht=0;Ht<4;Ht++)wt(Zt[Ht],Kt[Ht],Qt)}function vt(Zt,Kt){const Qt=et(),Ht=et(),qt=et();Bt(qt,Kt[2]),Ot(Qt,Kt[0],qt),Ot(Ht,Kt[1],qt),Ct(Zt,Ht),Zt[31]^=Mt(Qt)<<7}function ct(Zt,Kt,Qt){ht(Zt[0],rt),ht(Zt[1],nt),ht(Zt[2],nt),ht(Zt[3],rt);for(let Ht=255;Ht>=0;--Ht){const qt=Qt[Ht/8|0]>>(Ht&7)&1;bt(Zt,Kt,qt),jt(Kt,Zt),jt(Zt,Zt),bt(Zt,Kt,qt)}}function dt(Zt,Kt){const Qt=[et(),et(),et(),et()];ht(Qt[0],ot),ht(Qt[1],at),ht(Qt[2],nt),Ot(Qt[3],ot,at),ct(Zt,Qt,Kt)}function mt(Zt){if(Zt.length!==a.SEED_LENGTH)throw new Error(`ed25519: seed must be ${a.SEED_LENGTH} bytes`);const Kt=(0,$.hash)(Zt);Kt[0]&=248,Kt[31]&=127,Kt[31]|=64;const Qt=new Uint8Array(32),Ht=[et(),et(),et(),et()];dt(Ht,Kt),vt(Qt,Ht);const qt=new Uint8Array(64);return qt.set(Zt),qt.set(Qt,32),{publicKey:Qt,secretKey:qt}}a.generateKeyPairFromSeed=mt;function xt(Zt){const Kt=(0,_.randomBytes)(32,Zt),Qt=mt(Kt);return(0,j.wipe)(Kt),Qt}a.generateKeyPair=xt;function At(Zt){if(Zt.length!==a.SECRET_KEY_LENGTH)throw new Error(`ed25519: secret key must be ${a.SECRET_KEY_LENGTH} bytes`);return new Uint8Array(Zt.subarray(32))}a.extractPublicKeyFromSecretKey=At;const Rt=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function St(Zt,Kt){let Qt,Ht,qt,Jt;for(Ht=63;Ht>=32;--Ht){for(Qt=0,qt=Ht-32,Jt=Ht-12;qt<Jt;++qt)Kt[qt]+=Qt-16*Kt[Ht]*Rt[qt-(Ht-32)],Qt=Math.floor((Kt[qt]+128)/256),Kt[qt]-=Qt*256;Kt[qt]+=Qt,Kt[Ht]=0}for(Qt=0,qt=0;qt<32;qt++)Kt[qt]+=Qt-(Kt[31]>>4)*Rt[qt],Qt=Kt[qt]>>8,Kt[qt]&=255;for(qt=0;qt<32;qt++)Kt[qt]-=Qt*Rt[qt];for(Ht=0;Ht<32;Ht++)Kt[Ht+1]+=Kt[Ht]>>8,Zt[Ht]=Kt[Ht]&255}function $t(Zt){const Kt=new Float64Array(64);for(let Qt=0;Qt<64;Qt++)Kt[Qt]=Zt[Qt];for(let Qt=0;Qt<64;Qt++)Zt[Qt]=0;St(Zt,Kt)}function Et(Zt,Kt){const Qt=new Float64Array(64),Ht=[et(),et(),et(),et()],qt=(0,$.hash)(Zt.subarray(0,32));qt[0]&=248,qt[31]&=127,qt[31]|=64;const Jt=new Uint8Array(64);Jt.set(qt.subarray(32),32);const ur=new $.SHA512;ur.update(Jt.subarray(32)),ur.update(Kt);const xr=ur.digest();ur.clean(),$t(xr),dt(Ht,xr),vt(Jt,Ht),ur.reset(),ur.update(Jt.subarray(0,32)),ur.update(Zt.subarray(32)),ur.update(Kt);const pr=ur.digest();$t(pr);for(let Cr=0;Cr<32;Cr++)Qt[Cr]=xr[Cr];for(let Cr=0;Cr<32;Cr++)for(let Mr=0;Mr<32;Mr++)Qt[Cr+Mr]+=pr[Cr]*qt[Mr];return St(Jt.subarray(32),Qt),Jt}a.sign=Et;function Nt(Zt,Kt){const Qt=et(),Ht=et(),qt=et(),Jt=et(),ur=et(),xr=et(),pr=et();return ht(Zt[2],nt),Lt(Zt[1],Kt),It(qt,Zt[1]),Ot(Jt,qt,it),Ut(qt,qt,Zt[2]),Dt(Jt,Zt[2],Jt),It(ur,Jt),It(xr,ur),Ot(pr,xr,ur),Ot(Qt,pr,qt),Ot(Qt,Qt,Jt),Ft(Qt,Qt),Ot(Qt,Qt,qt),Ot(Qt,Qt,Jt),Ot(Qt,Qt,Jt),Ot(Zt[0],Qt,Jt),It(Ht,Zt[0]),Ot(Ht,Ht,Jt),Tt(Ht,qt)&&Ot(Zt[0],Zt[0],ut),It(Ht,Zt[0]),Ot(Ht,Ht,Jt),Tt(Ht,qt)?-1:(Mt(Zt[0])===Kt[31]>>7&&Ut(Zt[0],rt,Zt[0]),Ot(Zt[3],Zt[0],Zt[1]),0)}function tr(Zt,Kt,Qt){const Ht=new Uint8Array(32),qt=[et(),et(),et(),et()],Jt=[et(),et(),et(),et()];if(Qt.length!==a.SIGNATURE_LENGTH)throw new Error(`ed25519: signature must be ${a.SIGNATURE_LENGTH} bytes`);if(Nt(Jt,Zt))return!1;const ur=new $.SHA512;ur.update(Qt.subarray(0,32)),ur.update(Zt),ur.update(Kt);const xr=ur.digest();return $t(xr),ct(qt,Jt,xr),dt(Jt,Qt.subarray(32)),jt(qt,Jt),vt(Ht,qt),!Pt(Qt,Ht)}a.verify=tr;function ir(Zt){let Kt=[et(),et(),et(),et()];if(Nt(Kt,Zt))throw new Error("Ed25519: invalid public key");let Qt=et(),Ht=et(),qt=Kt[1];Dt(Qt,nt,qt),Ut(Ht,nt,qt),Bt(Ht,Ht),Ot(Qt,Qt,Ht);let Jt=new Uint8Array(32);return Ct(Jt,Qt),Jt}a.convertPublicKeyToX25519=ir;function nr(Zt){const Kt=(0,$.hash)(Zt.subarray(0,32));Kt[0]&=248,Kt[31]&=127,Kt[31]|=64;const Qt=new Uint8Array(Kt.subarray(0,32));return(0,j.wipe)(Kt),Qt}a.convertSecretKeyToX25519=nr})(ed25519);var bytes$1={};Object.defineProperty(bytes$1,"__esModule",{value:!0});function concat$1(){for(var a=0,_=0;_<arguments.length;_++)a+=arguments[_].length;for(var $=new Uint8Array(a),j=0,_=0;_<arguments.length;_++){var et=arguments[_];$.set(et,j),j+=et.length}return $}var concat_1=bytes$1.concat=concat$1;const secretbox_NONCEBYTES$1=24;function toHex$1(a){return Buffer$g.from(a).toString("hex")}async function getHexHash(a){return toHex$1(typeof a=="string"?blake2b$1.hash(encode_1(a),32):blake2b$1.hash(a,32))}async function getKeypairFromSeed(a){return ed25519.generateKeyPairFromSeed(blake2b$1.hash(encode_1(a),32))}async function encryptCryptoboxPayload(a,_){const $=Buffer$g.from(random.randomBytes(secretbox_NONCEBYTES$1)),j=Buffer$g.concat([$,Buffer$g.from(nacl.secretBox(_,$,Buffer$g.from(a,"utf8")))]);return toHex$1(j)}async function decryptCryptoboxPayload(a,_){const $=a.slice(0,secretbox_NONCEBYTES$1),j=a.slice(secretbox_NONCEBYTES$1),et=nacl.openSecretBox(_,$,j);if(!et)throw new Error("Decryption failed");return Buffer$g.from(et).toString("utf8")}async function sealCryptobox(a,_){const $=ed25519.convertPublicKeyToX25519(Buffer$g.from(_)),j=nacl.generateKeyPair(),tt=new blake2b$1.BLAKE2b(24).update(j.publicKey,32).update($,32).digest(),rt=typeof a=="string"?encode_1(a):a,nt=nacl.box($,j.secretKey,tt,rt);return toHex$1(concat_1(j.publicKey,nt))}async function openCryptobox(a,_,$){const j=ed25519.convertSecretKeyToX25519(Buffer$g.from($)),et=ed25519.convertPublicKeyToX25519(Buffer$g.from(_)),tt=typeof a=="string"?encode_1(a):a,rt=tt.slice(0,32),nt=tt.slice(32),st=new blake2b$1.BLAKE2b(24).update(rt,32).update(et,32).digest(),ot=nacl.openBox(rt,j,st,nt);if(!ot)throw new Error("Decryption failed");return Buffer$g.from(ot).toString()}async function getAddressFromPublicKey(a){const _={edpk:{length:54,prefix:Buffer$g.from(new Uint8Array([6,161,159]))},sppk:{length:55,prefix:Buffer$g.from(new Uint8Array([6,161,161]))},p2pk:{length:55,prefix:Buffer$g.from(new Uint8Array([6,161,164]))}};let $,j;if(a.length===64)$=_.edpk.prefix,j=a;else{const tt=Object.entries(_);for(let rt=0;rt<tt.length;rt++){const[nt,it]=tt[rt];if(a.startsWith(nt)&&a.length===it.length){$=it.prefix;const st=bs58check$2.decode(a);j=st.slice(nt.length,st.length).toString("hex");break}}}if(!$||!j)throw new Error(`invalid publicKey: ${a}`);const et=blake2b$1.hash(Buffer$g.from(j,"hex"),20);return bs58check$2.encode(Buffer$g.concat([$,Buffer$g.from(et)]))}function recipientString(a,_){return`@${a}:${_}`}const isValidAddress=a=>{if(!["tz1","tz2","tz3","tz4","KT1","txr1","sr1"].some($=>a.toLowerCase().startsWith($.toLowerCase())))return!1;try{bs58check$2.decode(a)}catch{return!1}return!0};async function generateGUID(){const a=random.randomBytes(16);return[a.slice(0,4),a.slice(4,6),a.slice(6,8),a.slice(8,10),a.slice(10,16)].map(function(_){return Buffer$g.from(_).toString("hex")}).join("-")}const CONTRACT_PREFIX="KT1",secretbox_NONCEBYTES=24,secretbox_MACBYTES=16;var BeaconMessageType;(function(a){a.BlockchainRequest="blockchain_request",a.PermissionRequest="permission_request",a.SignPayloadRequest="sign_payload_request",a.OperationRequest="operation_request",a.BroadcastRequest="broadcast_request",a.ChangeAccountRequest="change_account_request",a.BlockchainResponse="blockchain_response",a.PermissionResponse="permission_response",a.SignPayloadResponse="sign_payload_response",a.ProofOfEventChallengeRequest="proof_of_event_challenge_request",a.ProofOfEventChallengeResponse="proof_of_event_challenge_response",a.SimulatedProofOfEventChallengeRequest="simulated_proof_of_event_challenge_request",a.SimulatedProofOfEventChallengeResponse="simulated_proof_of_event_challenge_response",a.OperationResponse="operation_response",a.BroadcastResponse="broadcast_response",a.Acknowledge="acknowledge",a.Disconnect="disconnect",a.Error="error"})(BeaconMessageType||(BeaconMessageType={}));var PermissionScope;(function(a){a.SIGN="sign",a.OPERATION_REQUEST="operation_request",a.ENCRYPT="encrypt",a.NOTIFICATION="notification",a.THRESHOLD="threshold"})(PermissionScope||(PermissionScope={}));var NetworkType;(function(a){a.MAINNET="mainnet",a.GHOSTNET="ghostnet",a.WEEKLYNET="weeklynet",a.DAILYNET="dailynet",a.DELPHINET="delphinet",a.EDONET="edonet",a.FLORENCENET="florencenet",a.GRANADANET="granadanet",a.HANGZHOUNET="hangzhounet",a.ITHACANET="ithacanet",a.JAKARTANET="jakartanet",a.KATHMANDUNET="kathmandunet",a.LIMANET="limanet",a.MUMBAINET="mumbainet",a.NAIROBINET="nairobinet",a.OXFORDNET="oxfordnet",a.CUSTOM="custom"})(NetworkType||(NetworkType={}));var TezosOperationType;(function(a){a.ORIGINATION="origination",a.DELEGATION="delegation",a.REVEAL="reveal",a.TRANSACTION="transaction",a.ACTIVATE_ACCOUNT="activate_account",a.ENDORSEMENT="endorsement",a.SEED_NONCE_REVELATION="seed_nonce_revelation",a.DOUBLE_ENDORSEMENT_EVIDENCE="double_endorsement_evidence",a.DOUBLE_BAKING_EVIDENCE="double_baking_evidence",a.PROPOSALS="proposals",a.BALLOT="ballot",a.ATTESTATION="attestation",a.PREATTESTATION="preattestation",a.PREENDORSEMENT="preendorsement",a.SET_DEPOSITS_LIMIT="set_deposits_limit",a.DOUBLE_PREATTESTATION_EVIDENCE="double_preattestation_evidence",a.DOUBLE_PREENDORSEMENT_EVIDENCE="double_preendorsement_evidence",a.ATTESTATION_WITH_SLOT="attestation_with_slot",a.ENDORSEMENT_WITH_SLOT="endorsement_with_slot",a.DOUBLE_ATTESTATION_EVIDENCE="double_attestation_evidence",a.FAILING_NOOP="failing_noop",a.REGISTER_GLOBAL_CONSTANT="register_global_constant",a.TRANSFER_TICKET="transfer_ticket",a.INCREASE_PAID_STORAGE="increase_paid_storage",a.UPDATE_CONSENSUS_KEY="update_consensus_key",a.DRAIN_DELEGATE="drain_delegate",a.VDF_REVELATION="vdf_revelation",a.EVENT="event",a.TICKET_UPDATES="ticket_updates",a.SMART_ROLLUP_ORIGINATE="smart_rollup_originate",a.SMART_ROLLUP_ADD_MESSAGES="smart_rollup_add_messages",a.SMART_ROLLUP_EXECUTE_OUTBOX_MESSAGE="smart_rollup_execute_outbox_message",a.SMART_ROLLUP_PUBLISH="smart_rollup_publish",a.SMART_ROLLUP_CEMENT="smart_rollup_cement",a.SMART_ROLLUP_RECOVER_BOND="smart_rollup_recover_bond",a.SMART_ROLLUP_REFUTE="smart_rollup_refute",a.SMART_ROLLUP_TIMEOUT="smart_rollup_timeout"})(TezosOperationType||(TezosOperationType={}));var Origin;(function(a){a.WEBSITE="website",a.EXTENSION="extension",a.P2P="p2p",a.WALLETCONNECT="walletconnect"})(Origin||(Origin={}));var ExtensionMessageTarget;(function(a){a.BACKGROUND="toBackground",a.PAGE="toPage",a.EXTENSION="toExtension"})(ExtensionMessageTarget||(ExtensionMessageTarget={}));var BeaconErrorType;(function(a){a.BROADCAST_ERROR="BROADCAST_ERROR",a.NETWORK_NOT_SUPPORTED="NETWORK_NOT_SUPPORTED",a.NO_ADDRESS_ERROR="NO_ADDRESS_ERROR",a.NO_PRIVATE_KEY_FOUND_ERROR="NO_PRIVATE_KEY_FOUND_ERROR",a.NOT_GRANTED_ERROR="NOT_GRANTED_ERROR",a.PARAMETERS_INVALID_ERROR="PARAMETERS_INVALID_ERROR",a.TOO_MANY_OPERATIONS="TOO_MANY_OPERATIONS",a.TRANSACTION_INVALID_ERROR="TRANSACTION_INVALID_ERROR",a.SIGNATURE_TYPE_NOT_SUPPORTED="SIGNATURE_TYPE_NOT_SUPPORTED",a.ABORTED_ERROR="ABORTED_ERROR",a.UNKNOWN_ERROR="UNKNOWN_ERROR"})(BeaconErrorType||(BeaconErrorType={}));var TransportStatus;(function(a){a.NOT_CONNECTED="NOT_CONNECTED",a.CONNECTING="CONNECTING",a.CONNECTED="CONNECTED"})(TransportStatus||(TransportStatus={}));var TransportType;(function(a){a.CHROME_MESSAGE="chrome_message",a.WALLETCONNECT="walletconnect",a.POST_MESSAGE="post_message",a.LEDGER="ledger",a.P2P="p2p"})(TransportType||(TransportType={}));class Storage{static isSupported(){return Promise.resolve(!1)}}var StorageKey;(function(a){a.TRANSPORT_P2P_PEERS_DAPP="beacon:communication-peers-dapp",a.TRANSPORT_P2P_PEERS_WALLET="beacon:communication-peers-wallet",a.TRANSPORT_POSTMESSAGE_PEERS_DAPP="beacon:postmessage-peers-dapp",a.TRANSPORT_POSTMESSAGE_PEERS_WALLET="beacon:postmessage-peers-wallet",a.TRANSPORT_WALLETCONNECT_PEERS_DAPP="beacon:walletconnect-peers-dapp",a.LAST_SELECTED_WALLET="beacon:last-selected-wallet",a.ACCOUNTS="beacon:accounts",a.ACTIVE_ACCOUNT="beacon:active-account",a.PUSH_TOKENS="beacon:push-tokens",a.BEACON_SDK_SECRET_SEED="beacon:sdk-secret-seed",a.APP_METADATA_LIST="beacon:app-metadata-list",a.PERMISSION_LIST="beacon:permissions",a.ONGOING_PROOF_OF_EVENT_CHALLENGES="beacon:ongoing-proof-of-event-challenges",a.BEACON_SDK_VERSION="beacon:sdk_version",a.MATRIX_PRESERVED_STATE="beacon:sdk-matrix-preserved-state",a.MATRIX_PEER_ROOM_IDS="beacon:matrix-peer-rooms",a.MATRIX_SELECTED_NODE="beacon:matrix-selected-node",a.MULTI_NODE_SETUP_DONE="beacon:multi-node-setup",a.USER_ID="beacon:user-id",a.ENABLE_METRICS="beacon:enable_metrics",a.WC_2_CORE_PAIRING="wc@2:core:0.3:pairing",a.WC_2_CLIENT_SESSION="wc@2:client:0.3:session",a.WC_2_CORE_KEYCHAIN="wc@2:core:0.3:keychain",a.WC_2_CORE_MESSAGES="wc@2:core:0.3:messages",a.WC_2_CLIENT_PROPOSAL="wc@2:client:0.3:proposal",a.WC_2_CORE_SUBSCRIPTION="wc@2:core:0.3:subscription",a.WC_2_CORE_HISTORY="wc@2:core:0.3:history",a.WC_2_CORE_EXPIRER="wc@2:core:0.3:expirer"})(StorageKey||(StorageKey={}));const defaultValues={[StorageKey.TRANSPORT_P2P_PEERS_DAPP]:[],[StorageKey.TRANSPORT_P2P_PEERS_WALLET]:[],[StorageKey.TRANSPORT_POSTMESSAGE_PEERS_DAPP]:[],[StorageKey.TRANSPORT_POSTMESSAGE_PEERS_WALLET]:[],[StorageKey.TRANSPORT_WALLETCONNECT_PEERS_DAPP]:[],[StorageKey.LAST_SELECTED_WALLET]:void 0,[StorageKey.ACCOUNTS]:[],[StorageKey.ACTIVE_ACCOUNT]:void 0,[StorageKey.PUSH_TOKENS]:[],[StorageKey.BEACON_SDK_SECRET_SEED]:void 0,[StorageKey.APP_METADATA_LIST]:[],[StorageKey.PERMISSION_LIST]:[],[StorageKey.ONGOING_PROOF_OF_EVENT_CHALLENGES]:[],[StorageKey.BEACON_SDK_VERSION]:void 0,[StorageKey.MATRIX_PRESERVED_STATE]:{},[StorageKey.MATRIX_PEER_ROOM_IDS]:{},[StorageKey.MATRIX_SELECTED_NODE]:void 0,[StorageKey.MULTI_NODE_SETUP_DONE]:void 0,[StorageKey.WC_2_CLIENT_SESSION]:void 0,[StorageKey.USER_ID]:void 0,[StorageKey.ENABLE_METRICS]:void 0,[StorageKey.WC_2_CORE_PAIRING]:void 0,[StorageKey.WC_2_CORE_KEYCHAIN]:void 0,[StorageKey.WC_2_CORE_MESSAGES]:void 0,[StorageKey.WC_2_CLIENT_PROPOSAL]:void 0,[StorageKey.WC_2_CORE_SUBSCRIPTION]:void 0,[StorageKey.WC_2_CORE_HISTORY]:void 0,[StorageKey.WC_2_CORE_EXPIRER]:void 0};class P2PPairingRequest{constructor(_,$,j,et,tt,rt,nt){Xr(this,"type","p2p-pairing-request");Xr(this,"relayServer");Xr(this,"id");Xr(this,"name");Xr(this,"icon");Xr(this,"appUrl");Xr(this,"publicKey");Xr(this,"version");this.id=_,this.name=$,this.icon=rt,this.appUrl=nt,this.publicKey=j,this.version=et,this.relayServer=tt}}class ExtendedP2PPairingRequest extends P2PPairingRequest{constructor($,j,et,tt,rt,nt,it,st){super($,j,et,tt,rt,it,st);Xr(this,"senderId");this.senderId=nt}}var SigningType;(function(a){a.RAW="raw",a.OPERATION="operation",a.MICHELINE="micheline"})(SigningType||(SigningType={}));class P2PPairingResponse{constructor(_,$,j,et,tt,rt,nt){Xr(this,"type","p2p-pairing-request");Xr(this,"relayServer");Xr(this,"id");Xr(this,"name");Xr(this,"icon");Xr(this,"appUrl");Xr(this,"publicKey");Xr(this,"version");this.id=_,this.name=$,this.icon=rt,this.appUrl=nt,this.publicKey=j,this.version=et,this.relayServer=tt}}class PostMessagePairingRequest{constructor(_,$,j,et,tt,rt){Xr(this,"type","postmessage-pairing-request");Xr(this,"id");Xr(this,"name");Xr(this,"icon");Xr(this,"appUrl");Xr(this,"publicKey");Xr(this,"version");this.id=_,this.name=$,this.icon=tt,this.appUrl=rt,this.publicKey=j,this.version=et}}class ExtendedPostMessagePairingRequest extends PostMessagePairingRequest{constructor($,j,et,tt,rt,nt,it){super($,j,et,tt,nt,it);Xr(this,"senderId");this.senderId=rt}}class WalletConnectPairingRequest{constructor(_,$,j,et,tt,rt,nt){Xr(this,"type","walletconnect-pairing-request");Xr(this,"uri");Xr(this,"id");Xr(this,"name");Xr(this,"icon");Xr(this,"appUrl");Xr(this,"publicKey");Xr(this,"version");this.id=_,this.name=$,this.icon=rt,this.appUrl=nt,this.publicKey=j,this.version=et,this.uri=tt}}class ExtendedWalletConnectPairingRequest extends WalletConnectPairingRequest{constructor($,j,et,tt,rt,nt,it,st){super($,j,et,tt,nt,it,st);Xr(this,"senderId");this.senderId=rt}}var ColorMode;(function(a){a.LIGHT="light",a.DARK="dark"})(ColorMode||(ColorMode={}));var Regions;(function(a){a.EUROPE_EAST="europe-east",a.EUROPE_WEST="europe-west",a.NORTH_AMERICA_EAST="north-america-east",a.NORTH_AMERICA_WEST="north-america-west",a.CENTRAL_AMERICA="central-america",a.SOUTH_AMERICA="south-america",a.ASIA_EAST="asia-east",a.ASIA_WEST="asia-west",a.AFRICA="africa",a.AUSTRALIA="australia"})(Regions||(Regions={}));const SDK_VERSION="4.2.1",BEACON_VERSION="3",NOTIFICATION_ORACLE_URL="https://beacon-notification-oracle.dev.gke.papers.tech",cbs=[a=>{}];let windowRef={postMessage:(a,_)=>{console.log("GOT MOCK POST MESSAGE",a),cbs.forEach($=>{$({data:a})})},addEventListener:(a,_)=>{cbs.push(_)},removeEventListener:(a,_)=>{cbs.splice(cbs.indexOf($=>$===_),1)},location:{origin:"*"}};try{typeof window<"u"&&(windowRef=window)}catch(a){console.log(`not defined: ${a}`)}class MockAnalytics{track(_,$,j,et){}}class BeaconClient{constructor(_){Xr(this,"name");Xr(this,"iconUrl");Xr(this,"appUrl");Xr(this,"_beaconId",new ExposedPromise);Xr(this,"storage");Xr(this,"analytics");Xr(this,"_keyPair",new ExposedPromise);if(!_.name)throw new Error("Name not set");if(!_.storage)throw new Error("Storage not set");this.name=_.name,this.iconUrl=_.iconUrl,this.appUrl=_.appUrl??windowRef.location.origin,this.storage=_.storage,this.analytics=_.analytics??new MockAnalytics,windowRef.beaconCreatedClientInstance?console.error("[BEACON] It looks like you created multiple Beacon SDK Client instances. This can lead to problems. Only create one instance and re-use it everywhere."):windowRef.beaconCreatedClientInstance=!0,this.initSDK().catch(console.error)}get beaconId(){return this._beaconId.promise}get keyPair(){return this._keyPair.promise}async destroy(){await this.removeBeaconEntriesFromStorage(),windowRef.beaconCreatedClientInstance=!1}async initSDK(){return this.storage.set(StorageKey.BEACON_SDK_VERSION,SDK_VERSION).catch(console.error),this.loadOrCreateBeaconSecret().catch(console.error),this.keyPair.then(_=>{this._beaconId.resolve(toHex$1(_.publicKey))})}async removeBeaconEntriesFromStorage(){const _=Object.values(StorageKey);await Promise.all(_.map($=>this.storage.delete($)))}async loadOrCreateBeaconSecret(){const _=await this.storage.get(StorageKey.BEACON_SDK_SECRET_SEED);if(_&&typeof _=="string")this._keyPair.resolve(await getKeypairFromSeed(_));else{const $=await generateGUID();await this.storage.set(StorageKey.BEACON_SDK_SECRET_SEED,$),this._keyPair.resolve(await getKeypairFromSeed($))}}}function fixArrayType(a){return a}class StorageManager{constructor(_,$){Xr(this,"storage");Xr(this,"storageKey");this.storage=_,this.storageKey=$}async getAll(){return await this.storage.get(this.storageKey)??[]}async getOne(_){const $=await this.storage.get(this.storageKey);return $.find(_)}async addOne(_,$,j=!0){const et=await this.storage.get(this.storageKey);if(!et.some($))et.push(_);else if(j)for(let tt=0;tt<et.length;tt++)$(et[tt])&&(et[tt]=_);return this.storage.set(this.storageKey,et)}async remove(_){const $=await this.storage.get(this.storageKey),j=$.filter(et=>!_(et));return this.storage.set(this.storageKey,j)}async removeAll(){return this.storage.delete(this.storageKey)}}const getAccountIdentifier=async(a,_)=>{const $=[a,_.type];_.name&&$.push(`name:${_.name}`),_.rpcUrl&&$.push(`rpc:${_.rpcUrl}`);const j=Buffer$g.from(blake2b$1.hash(encode_1($.join("-")),10));return bs58check$2.encode(j)};class PermissionValidator{static async hasPermission(_,$,j){switch(_.type){case BeaconMessageType.PermissionRequest:case BeaconMessageType.BroadcastRequest:return!0;case BeaconMessageType.OperationRequest:{const et=await getAccountIdentifier(_.sourceAddress,_.network),tt=await $(et);return tt?tt.scopes.includes(PermissionScope.OPERATION_REQUEST):!1}case BeaconMessageType.SignPayloadRequest:{const tt=(await j()).filter(rt=>rt.address===_.sourceAddress);return tt.length===0?!1:tt.some(rt=>rt.scopes.includes(PermissionScope.SIGN))}default:throw new Error("Message not handled")}}}class AccountManager{constructor(_){Xr(this,"storageManager");this.storageManager=new StorageManager(_,StorageKey.ACCOUNTS)}async getAccounts(){return await this.storageManager.getAll()??[]}async getAccount(_){return this.storageManager.getOne($=>$.accountIdentifier===_)}async addAccount(_){return this.storageManager.addOne(_,$=>$.accountIdentifier===_.accountIdentifier)}async updateAccount(_,$){const j=await this.getAccount(_);if(!j)return;const et={...j,...$};return await this.storageManager.addOne(et,tt=>tt.accountIdentifier===_,!0),et}async removeAccount(_){return this.storageManager.remove($=>$.accountIdentifier===_)}async removeAccounts(_){return this.storageManager.remove($=>_.includes($.accountIdentifier))}async removeAllAccounts(){return this.storageManager.removeAll()}async hasPermission(_){return PermissionValidator.hasPermission(_,this.getAccount.bind(this),this.getAccounts.bind(this))}}const isHex$1=a=>/^[A-F0-9]+$/i.test(a),getSenderId=async a=>{isHex$1(a)||console.error("PublicKey needs to be in hex format!");const _=Buffer$g.from(blake2b$1.hash(Buffer$g.from(a,"hex"),5));return bs58check$2.encode(_)};let debug$2=!!windowRef.beaconSdkDebugEnabled;debug$2&&console.log("[BEACON]: Debug mode is ON (turned on either by the developer or a browser extension)");const getDebugEnabled=()=>debug$2;class InternalLogger{constructor(){}debug(_,$,...j){this._log("debug",_,$,j)}log(_,$,...j){this._log("log",_,$,j)}warn(_,$,...j){this._log("warn",_,$,j)}error(_,$,...j){this._log("error",_,$,j)}time(_,$){_?console.time($):console.timeEnd($)}timeLog(_,$,...j){this._log("timeLog",_,$,j)}_log(_,$,j,et=[]){if(!getDebugEnabled())return;let tt=`[BEACON] ${new Date().toISOString()} [${$}](${j})`,rt=et;switch(et[0]&&typeof et[0]=="string"&&(tt+=` ${et[0]}`,rt=et.slice(1)),_){case"error":console.group(tt),console.error(...rt);break;case"warn":console.group(tt),console.warn(...rt);break;case"debug":console.groupCollapsed(tt),console.debug(...rt);break;case"timeLog":console.group(tt),console.timeLog(...rt);break;default:console.group(tt),console.log(...rt)}console.groupEnd()}}class Logger{constructor(_){Xr(this,"name");this.name=_}debug(_,...$){logger$9.debug(this.name,_,$)}log(_,...$){logger$9.log(this.name,_,$)}warn(_,...$){logger$9.warn(this.name,_,$)}error(_,...$){logger$9.error(this.name,_,$)}time(_,$){logger$9.time(_,$)}timeLog(_,...$){logger$9.timeLog(_,$)}}let logger$9=new InternalLogger;const logger$8=new Logger("Client");class Client extends BeaconClient{constructor($){super($);Xr(this,"accountManager");Xr(this,"handleResponse");Xr(this,"rateLimit",2);Xr(this,"rateLimitWindowInSeconds",5);Xr(this,"requestCounter",[]);Xr(this,"matrixNodes");Xr(this,"_transport",new ExposedPromise);this.accountManager=new AccountManager($.storage),this.matrixNodes=$.matrixNodes??{},this.handleResponse=(j,et)=>{throw new Error(`not overwritten${JSON.stringify(j)} - ${JSON.stringify(et)}`)}}get transport(){return this._transport.promise}get connectionStatus(){var $;return(($=this._transport.promiseResult)==null?void 0:$.connectionStatus)??TransportStatus.NOT_CONNECTED}get ready(){return this.transport.then(()=>{})}async getAccounts(){return this.accountManager.getAccounts()}async getAccount($){return this.accountManager.getAccount($)}async removeAccount($){return this.accountManager.removeAccount($)}async removeAllAccounts(){return this.accountManager.removeAllAccounts()}async addRequestAndCheckIfRateLimited(){const $=new Date().getTime();return this.requestCounter=this.requestCounter.filter(j=>j+this.rateLimitWindowInSeconds*1e3>$),this.requestCounter.push($),this.requestCounter.length>this.rateLimit}async init($){return this._transport.status===ExposedPromiseStatus.RESOLVED?(await this.transport).type:(await this.setTransport($),$.type)}async getOwnAppMetadata(){return{senderId:await getSenderId(await this.beaconId),name:this.name,icon:this.iconUrl}}async getPeers(){return(await this.transport).getPeers()}async addPeer($){return(await this.transport).addPeer($)}async destroy(){this._transport.status===ExposedPromiseStatus.RESOLVED&&await(await this.transport).disconnect(),await super.destroy()}async setTransport($){$?this._transport.isSettled()?this._transport=ExposedPromise.resolve($):this._transport.resolve($):this._transport.isSettled()&&(this._transport=new ExposedPromise)}async addListener($){$.addListener(async(j,et)=>{if(typeof j=="string"){const tt=await new Serializer().deserialize(j);this.handleResponse(tt,et)}}).catch(j=>logger$8.error("addListener",j))}async sendDisconnectToPeer($,j){const et={id:await generateGUID(),version:$.version,senderId:await getSenderId(await this.beaconId),type:BeaconMessageType.Disconnect},tt=await new Serializer().serialize(et);await(j??await this.transport).send(tt,$)}}const logger$7=new Logger("Transport");let Transport$2=class{constructor(_,$,j){Xr(this,"type",TransportType.POST_MESSAGE);Xr(this,"name");Xr(this,"_isConnected",TransportStatus.NOT_CONNECTED);Xr(this,"peerManager");Xr(this,"client");Xr(this,"newPeerListener");Xr(this,"listeners",[]);this.name=_,this.client=$,this.peerManager=j}setEventHandler(_,$){this.client.eventHandlers.set(_,$)}get connectionStatus(){return this._isConnected}static async isAvailable(){return Promise.resolve(!1)}async connect(){logger$7.log("connect"),this._isConnected=TransportStatus.CONNECTED}async disconnect(){logger$7.log("disconnect"),this._isConnected=TransportStatus.NOT_CONNECTED}async send(_,$){if($)return this.client.sendMessage(_,$);{const et=(await this.getPeers()).map(tt=>this.client.sendMessage(_,tt));return(await Promise.all(et))[0]}}async addListener(_){logger$7.debug("addListener"),this.listeners.push(_)}async removeListener(_){logger$7.log("removeListener"),this.listeners=this.listeners.filter($=>$!==_)}async getPeers(){return this.peerManager.getPeers()}async addPeer(_,$=!0){logger$7.log("addPeer","adding peer",_),await this.peerManager.addPeer(_),await this.listen(_.publicKey)}async removePeer(_){logger$7.log("removePeer","removing peer",_),await this.peerManager.removePeer(_.publicKey),this.client&&await this.client.unsubscribeFromEncryptedMessage(_.publicKey)}async removeAllPeers(){logger$7.log("removeAllPeers"),await this.peerManager.removeAllPeers(),this.client&&await this.client.unsubscribeFromEncryptedMessages()}async notifyListeners(_,$){this.listeners.length===0?logger$7.warn("notifyListeners","0 listeners notified!",this):logger$7.log("notifyListeners",`Notifying ${this.listeners.length} listeners`,this),this.listeners.forEach(j=>{j(_,$)})}};class LocalStorage extends Storage{constructor($){super();Xr(this,"prefix");this.prefix=$}static async isSupported(){return Promise.resolve(typeof window<"u"&&!!window.localStorage)}async get($){const j=localStorage.getItem(this.getPrefixedKey($));if(j)try{return JSON.parse(j)}catch{return j}else return typeof defaultValues[$]=="object"?JSON.parse(JSON.stringify(defaultValues[$])):defaultValues[$]}async set($,j){return typeof j=="string"?localStorage.setItem(this.getPrefixedKey($),j):localStorage.setItem(this.getPrefixedKey($),JSON.stringify(j))}async delete($){return Promise.resolve(localStorage.removeItem(this.getPrefixedKey($)))}async subscribeToStorageChanged($){window.addEventListener("storage",j=>{j.key?$({eventType:"entryModified",key:this.getPrefixedKey(j.key),oldValue:j.oldValue,newValue:j.newValue}):$({eventType:"storageCleared",key:null,oldValue:null,newValue:null})},!1)}getPrefixedKey($){return this.prefix?`${this.prefix}-${$}`:$}}class Serializer{async serialize(_){const $=JSON.stringify(_);return bs58check$2.encode(Buffer$g.from($))}async deserialize(_){if(typeof _!="string")throw new Error("Encoded payload needs to be a string");return JSON.parse(bs58check$2.decode(_).toString())}}class AppMetadataManager{constructor(_){Xr(this,"storageManager");this.storageManager=new StorageManager(_,StorageKey.APP_METADATA_LIST)}async getAppMetadataList(){return await this.storageManager.getAll()??[]}async getAppMetadata(_){return this.storageManager.getOne($=>$.senderId===_)}async addAppMetadata(_){return this.storageManager.addOne(_,$=>$.senderId===_.senderId)}async removeAppMetadata(_){return this.storageManager.remove($=>$.senderId===_)}async removeAppMetadatas(_){return this.storageManager.remove($=>_.includes($.senderId))}async removeAllAppMetadata(){return this.storageManager.removeAll()}}class PermissionManager{constructor(_){Xr(this,"storageManager");this.storageManager=new StorageManager(_,StorageKey.PERMISSION_LIST)}async getPermissions(){return await this.storageManager.getAll()??[]}async getPermission(_){return this.storageManager.getOne($=>$.accountIdentifier===_)}async addPermission(_){return this.storageManager.addOne(_,$=>$.accountIdentifier===_.accountIdentifier&&$.senderId===_.senderId)}async removePermission(_){return this.storageManager.remove($=>$.accountIdentifier===_)}async removePermissions(_){return this.storageManager.remove($=>_.includes($.accountIdentifier))}async removeAllPermissions(){return this.storageManager.removeAll()}async hasPermission(_){return PermissionValidator.hasPermission(_,this.getPermission.bind(this),this.getPermissions.bind(this))}}class PeerManager{constructor(_,$){Xr(this,"storageManager");this.storageManager=new StorageManager(_,$)}async hasPeer(_){return!!await this.getPeer(_)}async getPeers(){return await this.storageManager.getAll()??[]}async getPeer(_){return this.storageManager.getOne($=>$.publicKey===_)}async addPeer(_){return this.storageManager.addOne(_,$=>$.publicKey===_.publicKey)}async removePeer(_){return this.storageManager.remove($=>$.publicKey===_)}async removePeers(_){return this.storageManager.remove($=>_.includes($.publicKey))}async removeAllPeers(){return this.storageManager.removeAll()}}var x25519Session={},keyagreement={},hasRequiredKeyagreement;function requireKeyagreement(){return hasRequiredKeyagreement||(hasRequiredKeyagreement=1,function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.X25519Session=a.SECRET_SEED_LENGTH=a.SAVED_STATE_LENGTH=a.ACCEPT_MESSAGE_LENGTH=a.OFFER_MESSAGE_LENGTH=void 0;const _=random,$=wipe$1,j=x25519,et=requireX25519Session();a.OFFER_MESSAGE_LENGTH=j.PUBLIC_KEY_LENGTH,a.ACCEPT_MESSAGE_LENGTH=j.PUBLIC_KEY_LENGTH,a.SAVED_STATE_LENGTH=j.SECRET_KEY_LENGTH,a.SECRET_SEED_LENGTH=j.SECRET_KEY_LENGTH;class tt{constructor(nt,it){this.offerMessageLength=a.OFFER_MESSAGE_LENGTH,this.acceptMessageLength=a.ACCEPT_MESSAGE_LENGTH,this.sharedKeyLength=j.SHARED_KEY_LENGTH,this.savedStateLength=a.SAVED_STATE_LENGTH,this._seed=nt||(0,_.randomBytes)(j.SECRET_KEY_LENGTH,it)}saveState(){return new Uint8Array(this._seed)}restoreState(nt){return this._seed=new Uint8Array(nt),this}clean(){this._seed&&(0,$.wipe)(this._seed),this._keyPair&&((0,$.wipe)(this._keyPair.secretKey),(0,$.wipe)(this._keyPair.publicKey)),this._sharedKey&&(0,$.wipe)(this._sharedKey),this._sessionKeys&&((0,$.wipe)(this._sessionKeys.receive),(0,$.wipe)(this._sessionKeys.send))}offer(){return this._keyPair=(0,j.generateKeyPairFromSeed)(this._seed),new Uint8Array(this._keyPair.publicKey)}accept(nt){if(this._keyPair)throw new Error("X25519Session: accept shouldn't be called by offering party");if(nt.length!==this.offerMessageLength)throw new Error("X25519Session: incorrect offer message length");if(this._sharedKey)throw new Error("X25519Session: accept was already called");const it=(0,j.generateKeyPairFromSeed)(this._seed);return this._sharedKey=(0,j.sharedKey)(it.secretKey,nt),this._sessionKeys=(0,et.clientSessionKeysFromSharedKey)(this._sharedKey,it.publicKey,nt),(0,$.wipe)(it.secretKey),it.publicKey}finish(nt){if(nt.length!==this.acceptMessageLength)throw new Error("X25519Session: incorrect accept message length");if(!this._keyPair)throw new Error("X25519Session: no offer state");if(this._sharedKey)throw new Error("X25519Session: finish was already called");return this._sharedKey=(0,j.sharedKey)(this._keyPair.secretKey,nt),this._sessionKeys=(0,et.serverSessionKeysFromSharedKey)(this._sharedKey,this._keyPair.publicKey,nt),this}getSharedKey(){if(!this._sharedKey)throw new Error("X25519Session: no shared key established");return new Uint8Array(this._sharedKey)}getSessionKeys(){if(!this._sessionKeys)throw new Error("X25519Session: no shared key established");return{receive:new Uint8Array(this._sessionKeys.receive),send:new Uint8Array(this._sessionKeys.send)}}}a.X25519Session=tt}(keyagreement)),keyagreement}var hasRequiredX25519Session;function requireX25519Session(){return hasRequiredX25519Session||(hasRequiredX25519Session=1,function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.clientSessionKeys=a.serverSessionKeys=a.clientSessionKeysFromSharedKey=a.serverSessionKeysFromSharedKey=a.X25519Session=void 0;const _=blake2b$1,$=x25519;var j=requireKeyagreement();Object.defineProperty(a,"X25519Session",{enumerable:!0,get:function(){return j.X25519Session}});const et=32;function tt(st,ot,at,ut=_.BLAKE2b){const ht=new ut;if(ht.digestLength!==et*2)throw new Error("X25519: incorrect digest length");const yt=ht.update(st).update(at).update(ot).digest();return{send:yt.subarray(0,et),receive:yt.subarray(et)}}a.serverSessionKeysFromSharedKey=tt;function rt(st,ot,at,ut=_.BLAKE2b){const ht=new ut;if(ht.digestLength!==et*2)throw new Error("X25519: incorrect digest length");const yt=ht.update(st).update(ot).update(at).digest();return{receive:yt.subarray(0,et),send:yt.subarray(et)}}a.clientSessionKeysFromSharedKey=rt;function nt(st,ot,at=_.BLAKE2b){const ut=(0,$.sharedKey)(st.secretKey,ot);return tt(ut,st.publicKey,ot,at)}a.serverSessionKeys=nt;function it(st,ot,at=_.BLAKE2b){const ut=(0,$.sharedKey)(st.secretKey,ot);return rt(ut,st.publicKey,ot,at)}a.clientSessionKeys=it}(x25519Session)),x25519Session}var x25519SessionExports=requireX25519Session();class CommunicationClient{constructor(_){Xr(this,"keyPair");Xr(this,"eventHandlers",new Map);Xr(this,"isMobileOS",()=>/(Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini|Mobile|Tablet|Windows Phone|SymbianOS|Kindle)/i.test(navigator.userAgent));this.keyPair=_}async getPublicKey(){var _;return toHex$1((_=this.keyPair)==null?void 0:_.publicKey)}async getPublicKeyHash(){return getHexHash(this.keyPair.publicKey)}async createCryptoBoxServer(_,$){return x25519SessionExports.serverSessionKeys({publicKey:ed25519.convertPublicKeyToX25519($.publicKey),secretKey:ed25519.convertSecretKeyToX25519($.secretKey)},ed25519.convertPublicKeyToX25519(Buffer$g.from(_,"hex")))}async createCryptoBoxClient(_,$){return x25519SessionExports.clientSessionKeys({publicKey:ed25519.convertPublicKeyToX25519($.publicKey),secretKey:ed25519.convertSecretKeyToX25519($.secretKey)},ed25519.convertPublicKeyToX25519(Buffer$g.from(_,"hex")))}async encryptMessageAsymmetric(_,$){return sealCryptobox($,Buffer$g.from(_,"hex"))}}function bind$2(a,_){return function(){return a.apply(_,arguments)}}const{toString:toString$4}=Object.prototype,{getPrototypeOf:getPrototypeOf$3}=Object,kindOf$1=(a=>_=>{const $=toString$4.call(_);return a[$]||(a[$]=$.slice(8,-1).toLowerCase())})(Object.create(null)),kindOfTest$1=a=>(a=a.toLowerCase(),_=>kindOf$1(_)===a),typeOfTest$1=a=>_=>typeof _===a,{isArray:isArray$4}=Array,isUndefined$1=typeOfTest$1("undefined");function isBuffer$2(a){return a!==null&&!isUndefined$1(a)&&a.constructor!==null&&!isUndefined$1(a.constructor)&&isFunction$3(a.constructor.isBuffer)&&a.constructor.isBuffer(a)}const isArrayBuffer$1=kindOfTest$1("ArrayBuffer");function isArrayBufferView$1(a){let _;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?_=ArrayBuffer.isView(a):_=a&&a.buffer&&isArrayBuffer$1(a.buffer),_}const isString$2=typeOfTest$1("string"),isFunction$3=typeOfTest$1("function"),isNumber$1=typeOfTest$1("number"),isObject$3=a=>a!==null&&typeof a=="object",isBoolean$2=a=>a===!0||a===!1,isPlainObject$4=a=>{if(kindOf$1(a)!=="object")return!1;const _=getPrototypeOf$3(a);return(_===null||_===Object.prototype||Object.getPrototypeOf(_)===null)&&!(Symbol.toStringTag in a)&&!(Symbol.iterator in a)},isDate$2=kindOfTest$1("Date"),isFile$1=kindOfTest$1("File"),isBlob$1=kindOfTest$1("Blob"),isFileList$1=kindOfTest$1("FileList"),isStream$1=a=>isObject$3(a)&&isFunction$3(a.pipe),isFormData$1=a=>{let _;return a&&(typeof FormData=="function"&&a instanceof FormData||isFunction$3(a.append)&&((_=kindOf$1(a))==="formdata"||_==="object"&&isFunction$3(a.toString)&&a.toString()==="[object FormData]"))},isURLSearchParams$1=kindOfTest$1("URLSearchParams"),trim$2=a=>a.trim?a.trim():a.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function forEach$1(a,_,{allOwnKeys:$=!1}={}){if(a===null||typeof a>"u")return;let j,et;if(typeof a!="object"&&(a=[a]),isArray$4(a))for(j=0,et=a.length;j<et;j++)_.call(null,a[j],j,a);else{const tt=$?Object.getOwnPropertyNames(a):Object.keys(a),rt=tt.length;let nt;for(j=0;j<rt;j++)nt=tt[j],_.call(null,a[nt],nt,a)}}function findKey$2(a,_){_=_.toLowerCase();const $=Object.keys(a);let j=$.length,et;for(;j-- >0;)if(et=$[j],_===et.toLowerCase())return et;return null}const _global$1=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global$1,isContextDefined$1=a=>!isUndefined$1(a)&&a!==_global$1;function merge$1(){const{caseless:a}=isContextDefined$1(this)&&this||{},_={},$=(j,et)=>{const tt=a&&findKey$2(_,et)||et;isPlainObject$4(_[tt])&&isPlainObject$4(j)?_[tt]=merge$1(_[tt],j):isPlainObject$4(j)?_[tt]=merge$1({},j):isArray$4(j)?_[tt]=j.slice():_[tt]=j};for(let j=0,et=arguments.length;j<et;j++)arguments[j]&&forEach$1(arguments[j],$);return _}const extend$1=(a,_,$,{allOwnKeys:j}={})=>(forEach$1(_,(et,tt)=>{$&&isFunction$3(et)?a[tt]=bind$2(et,$):a[tt]=et},{allOwnKeys:j}),a),stripBOM$1=a=>(a.charCodeAt(0)===65279&&(a=a.slice(1)),a),inherits$4=(a,_,$,j)=>{a.prototype=Object.create(_.prototype,j),a.prototype.constructor=a,Object.defineProperty(a,"super",{value:_.prototype}),$&&Object.assign(a.prototype,$)},toFlatObject$1=(a,_,$,j)=>{let et,tt,rt;const nt={};if(_=_||{},a==null)return _;do{for(et=Object.getOwnPropertyNames(a),tt=et.length;tt-- >0;)rt=et[tt],(!j||j(rt,a,_))&&!nt[rt]&&(_[rt]=a[rt],nt[rt]=!0);a=$!==!1&&getPrototypeOf$3(a)}while(a&&(!$||$(a,_))&&a!==Object.prototype);return _},endsWith$1=(a,_,$)=>{a=String(a),($===void 0||$>a.length)&&($=a.length),$-=_.length;const j=a.indexOf(_,$);return j!==-1&&j===$},toArray$2=a=>{if(!a)return null;if(isArray$4(a))return a;let _=a.length;if(!isNumber$1(_))return null;const $=new Array(_);for(;_-- >0;)$[_]=a[_];return $},isTypedArray$1=(a=>_=>a&&_ instanceof a)(typeof Uint8Array<"u"&&getPrototypeOf$3(Uint8Array)),forEachEntry$1=(a,_)=>{const j=(a&&a[Symbol.iterator]).call(a);let et;for(;(et=j.next())&&!et.done;){const tt=et.value;_.call(a,tt[0],tt[1])}},matchAll$1=(a,_)=>{let $;const j=[];for(;($=a.exec(_))!==null;)j.push($);return j},isHTMLForm$1=kindOfTest$1("HTMLFormElement"),toCamelCase$1=a=>a.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function($,j,et){return j.toUpperCase()+et}),hasOwnProperty$1=(({hasOwnProperty:a})=>(_,$)=>a.call(_,$))(Object.prototype),isRegExp$1=kindOfTest$1("RegExp"),reduceDescriptors$1=(a,_)=>{const $=Object.getOwnPropertyDescriptors(a),j={};forEach$1($,(et,tt)=>{let rt;(rt=_(et,tt,a))!==!1&&(j[tt]=rt||et)}),Object.defineProperties(a,j)},freezeMethods$1=a=>{reduceDescriptors$1(a,(_,$)=>{if(isFunction$3(a)&&["arguments","caller","callee"].indexOf($)!==-1)return!1;const j=a[$];if(isFunction$3(j)){if(_.enumerable=!1,"writable"in _){_.writable=!1;return}_.set||(_.set=()=>{throw Error("Can not rewrite read-only method '"+$+"'")})}})},toObjectSet$1=(a,_)=>{const $={},j=et=>{et.forEach(tt=>{$[tt]=!0})};return isArray$4(a)?j(a):j(String(a).split(_)),$},noop$7=()=>{},toFiniteNumber$1=(a,_)=>(a=+a,Number.isFinite(a)?a:_),ALPHA$1="abcdefghijklmnopqrstuvwxyz",DIGIT$1="0123456789",ALPHABET$2={DIGIT:DIGIT$1,ALPHA:ALPHA$1,ALPHA_DIGIT:ALPHA$1+ALPHA$1.toUpperCase()+DIGIT$1},generateString$1=(a=16,_=ALPHABET$2.ALPHA_DIGIT)=>{let $="";const{length:j}=_;for(;a--;)$+=_[Math.random()*j|0];return $};function isSpecCompliantForm$1(a){return!!(a&&isFunction$3(a.append)&&a[Symbol.toStringTag]==="FormData"&&a[Symbol.iterator])}const toJSONObject$1=a=>{const _=new Array(10),$=(j,et)=>{if(isObject$3(j)){if(_.indexOf(j)>=0)return;if(!("toJSON"in j)){_[et]=j;const tt=isArray$4(j)?[]:{};return forEach$1(j,(rt,nt)=>{const it=$(rt,et+1);!isUndefined$1(it)&&(tt[nt]=it)}),_[et]=void 0,tt}}return j};return $(a,0)},isAsyncFn$1=kindOfTest$1("AsyncFunction"),isThenable$2=a=>a&&(isObject$3(a)||isFunction$3(a))&&isFunction$3(a.then)&&isFunction$3(a.catch),utils$i={isArray:isArray$4,isArrayBuffer:isArrayBuffer$1,isBuffer:isBuffer$2,isFormData:isFormData$1,isArrayBufferView:isArrayBufferView$1,isString:isString$2,isNumber:isNumber$1,isBoolean:isBoolean$2,isObject:isObject$3,isPlainObject:isPlainObject$4,isUndefined:isUndefined$1,isDate:isDate$2,isFile:isFile$1,isBlob:isBlob$1,isRegExp:isRegExp$1,isFunction:isFunction$3,isStream:isStream$1,isURLSearchParams:isURLSearchParams$1,isTypedArray:isTypedArray$1,isFileList:isFileList$1,forEach:forEach$1,merge:merge$1,extend:extend$1,trim:trim$2,stripBOM:stripBOM$1,inherits:inherits$4,toFlatObject:toFlatObject$1,kindOf:kindOf$1,kindOfTest:kindOfTest$1,endsWith:endsWith$1,toArray:toArray$2,forEachEntry:forEachEntry$1,matchAll:matchAll$1,isHTMLForm:isHTMLForm$1,hasOwnProperty:hasOwnProperty$1,hasOwnProp:hasOwnProperty$1,reduceDescriptors:reduceDescriptors$1,freezeMethods:freezeMethods$1,toObjectSet:toObjectSet$1,toCamelCase:toCamelCase$1,noop:noop$7,toFiniteNumber:toFiniteNumber$1,findKey:findKey$2,global:_global$1,isContextDefined:isContextDefined$1,ALPHABET:ALPHABET$2,generateString:generateString$1,isSpecCompliantForm:isSpecCompliantForm$1,toJSONObject:toJSONObject$1,isAsyncFn:isAsyncFn$1,isThenable:isThenable$2};function AxiosError$1(a,_,$,j,et){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=a,this.name="AxiosError",_&&(this.code=_),$&&(this.config=$),j&&(this.request=j),et&&(this.response=et)}utils$i.inherits(AxiosError$1,Error,{toJSON:function a(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:utils$i.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const prototype$3=AxiosError$1.prototype,descriptors$1={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(a=>{descriptors$1[a]={value:a}});Object.defineProperties(AxiosError$1,descriptors$1);Object.defineProperty(prototype$3,"isAxiosError",{value:!0});AxiosError$1.from=(a,_,$,j,et,tt)=>{const rt=Object.create(prototype$3);return utils$i.toFlatObject(a,rt,function(it){return it!==Error.prototype},nt=>nt!=="isAxiosError"),AxiosError$1.call(rt,a.message,_,$,j,et),rt.cause=a,rt.name=a.name,tt&&Object.assign(rt,tt),rt};const httpAdapter$1=null;function isVisitable$1(a){return utils$i.isPlainObject(a)||utils$i.isArray(a)}function removeBrackets$1(a){return utils$i.endsWith(a,"[]")?a.slice(0,-2):a}function renderKey$1(a,_,$){return a?a.concat(_).map(function(et,tt){return et=removeBrackets$1(et),!$&&tt?"["+et+"]":et}).join($?".":""):_}function isFlatArray$1(a){return utils$i.isArray(a)&&!a.some(isVisitable$1)}const predicates$1=utils$i.toFlatObject(utils$i,{},null,function a(_){return/^is[A-Z]/.test(_)});function toFormData$1(a,_,$){if(!utils$i.isObject(a))throw new TypeError("target must be an object");_=_||new FormData,$=utils$i.toFlatObject($,{metaTokens:!0,dots:!1,indexes:!1},!1,function(wt,Ct){return!utils$i.isUndefined(Ct[wt])});const j=$.metaTokens,et=$.visitor||ot,tt=$.dots,rt=$.indexes,it=($.Blob||typeof Blob<"u"&&Blob)&&utils$i.isSpecCompliantForm(_);if(!utils$i.isFunction(et))throw new TypeError("visitor must be a function");function st(yt){if(yt===null)return"";if(utils$i.isDate(yt))return yt.toISOString();if(!it&&utils$i.isBlob(yt))throw new AxiosError$1("Blob is not supported. Use a Buffer instead.");return utils$i.isArrayBuffer(yt)||utils$i.isTypedArray(yt)?it&&typeof Blob=="function"?new Blob([yt]):Buffer$g.from(yt):yt}function ot(yt,wt,Ct){let Pt=yt;if(yt&&!Ct&&typeof yt=="object"){if(utils$i.endsWith(wt,"{}"))wt=j?wt:wt.slice(0,-2),yt=JSON.stringify(yt);else if(utils$i.isArray(yt)&&isFlatArray$1(yt)||(utils$i.isFileList(yt)||utils$i.endsWith(wt,"[]"))&&(Pt=utils$i.toArray(yt)))return wt=removeBrackets$1(wt),Pt.forEach(function(Mt,Lt){!(utils$i.isUndefined(Mt)||Mt===null)&&_.append(rt===!0?renderKey$1([wt],Lt,tt):rt===null?wt:wt+"[]",st(Mt))}),!1}return isVisitable$1(yt)?!0:(_.append(renderKey$1(Ct,wt,tt),st(yt)),!1)}const at=[],ut=Object.assign(predicates$1,{defaultVisitor:ot,convertValue:st,isVisitable:isVisitable$1});function ht(yt,wt){if(!utils$i.isUndefined(yt)){if(at.indexOf(yt)!==-1)throw Error("Circular reference detected in "+wt.join("."));at.push(yt),utils$i.forEach(yt,function(Pt,Tt){(!(utils$i.isUndefined(Pt)||Pt===null)&&et.call(_,Pt,utils$i.isString(Tt)?Tt.trim():Tt,wt,ut))===!0&&ht(Pt,wt?wt.concat(Tt):[Tt])}),at.pop()}}if(!utils$i.isObject(a))throw new TypeError("data must be an object");return ht(a),_}function encode$6(a){const _={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(a).replace(/[!'()~]|%20|%00/g,function(j){return _[j]})}function AxiosURLSearchParams$1(a,_){this._pairs=[],a&&toFormData$1(a,this,_)}const prototype$2=AxiosURLSearchParams$1.prototype;prototype$2.append=function a(_,$){this._pairs.push([_,$])};prototype$2.toString=function a(_){const $=_?function(j){return _.call(this,j,encode$6)}:encode$6;return this._pairs.map(function(et){return $(et[0])+"="+$(et[1])},"").join("&")};function encode$5(a){return encodeURIComponent(a).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function buildURL$1(a,_,$){if(!_)return a;const j=$&&$.encode||encode$5,et=$&&$.serialize;let tt;if(et?tt=et(_,$):tt=utils$i.isURLSearchParams(_)?_.toString():new AxiosURLSearchParams$1(_,$).toString(j),tt){const rt=a.indexOf("#");rt!==-1&&(a=a.slice(0,rt)),a+=(a.indexOf("?")===-1?"?":"&")+tt}return a}let InterceptorManager$1=class{constructor(){this.handlers=[]}use(_,$,j){return this.handlers.push({fulfilled:_,rejected:$,synchronous:j?j.synchronous:!1,runWhen:j?j.runWhen:null}),this.handlers.length-1}eject(_){this.handlers[_]&&(this.handlers[_]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(_){utils$i.forEach(this.handlers,function(j){j!==null&&_(j)})}};const transitionalDefaults$1={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},URLSearchParams$2=typeof URLSearchParams<"u"?URLSearchParams:AxiosURLSearchParams$1,FormData$2=typeof FormData<"u"?FormData:null,Blob$2=typeof Blob<"u"?Blob:null,platform$3={isBrowser:!0,classes:{URLSearchParams:URLSearchParams$2,FormData:FormData$2,Blob:Blob$2},protocols:["http","https","file","blob","url","data"]},hasBrowserEnv$1=typeof window<"u"&&typeof document<"u",hasStandardBrowserEnv$1=(a=>hasBrowserEnv$1&&["ReactNative","NativeScript","NS"].indexOf(a)<0)(typeof navigator<"u"&&navigator.product),hasStandardBrowserWebWorkerEnv$1=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",utils$h=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:hasBrowserEnv$1,hasStandardBrowserEnv:hasStandardBrowserEnv$1,hasStandardBrowserWebWorkerEnv:hasStandardBrowserWebWorkerEnv$1},Symbol.toStringTag,{value:"Module"})),platform$2={...utils$h,...platform$3};function toURLEncodedForm$1(a,_){return toFormData$1(a,new platform$2.classes.URLSearchParams,Object.assign({visitor:function($,j,et,tt){return platform$2.isNode&&utils$i.isBuffer($)?(this.append(j,$.toString("base64")),!1):tt.defaultVisitor.apply(this,arguments)}},_))}function parsePropPath$1(a){return utils$i.matchAll(/\w+|\[(\w*)]/g,a).map(_=>_[0]==="[]"?"":_[1]||_[0])}function arrayToObject$1(a){const _={},$=Object.keys(a);let j;const et=$.length;let tt;for(j=0;j<et;j++)tt=$[j],_[tt]=a[tt];return _}function formDataToJSON$1(a){function _($,j,et,tt){let rt=$[tt++];if(rt==="__proto__")return!0;const nt=Number.isFinite(+rt),it=tt>=$.length;return rt=!rt&&utils$i.isArray(et)?et.length:rt,it?(utils$i.hasOwnProp(et,rt)?et[rt]=[et[rt],j]:et[rt]=j,!nt):((!et[rt]||!utils$i.isObject(et[rt]))&&(et[rt]=[]),_($,j,et[rt],tt)&&utils$i.isArray(et[rt])&&(et[rt]=arrayToObject$1(et[rt])),!nt)}if(utils$i.isFormData(a)&&utils$i.isFunction(a.entries)){const $={};return utils$i.forEachEntry(a,(j,et)=>{_(parsePropPath$1(j),et,$,0)}),$}return null}function stringifySafely$1(a,_,$){if(utils$i.isString(a))try{return(_||JSON.parse)(a),utils$i.trim(a)}catch(j){if(j.name!=="SyntaxError")throw j}return($||JSON.stringify)(a)}const defaults$2={transitional:transitionalDefaults$1,adapter:["xhr","http"],transformRequest:[function a(_,$){const j=$.getContentType()||"",et=j.indexOf("application/json")>-1,tt=utils$i.isObject(_);if(tt&&utils$i.isHTMLForm(_)&&(_=new FormData(_)),utils$i.isFormData(_))return et&&et?JSON.stringify(formDataToJSON$1(_)):_;if(utils$i.isArrayBuffer(_)||utils$i.isBuffer(_)||utils$i.isStream(_)||utils$i.isFile(_)||utils$i.isBlob(_))return _;if(utils$i.isArrayBufferView(_))return _.buffer;if(utils$i.isURLSearchParams(_))return $.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),_.toString();let nt;if(tt){if(j.indexOf("application/x-www-form-urlencoded")>-1)return toURLEncodedForm$1(_,this.formSerializer).toString();if((nt=utils$i.isFileList(_))||j.indexOf("multipart/form-data")>-1){const it=this.env&&this.env.FormData;return toFormData$1(nt?{"files[]":_}:_,it&&new it,this.formSerializer)}}return tt||et?($.setContentType("application/json",!1),stringifySafely$1(_)):_}],transformResponse:[function a(_){const $=this.transitional||defaults$2.transitional,j=$&&$.forcedJSONParsing,et=this.responseType==="json";if(_&&utils$i.isString(_)&&(j&&!this.responseType||et)){const rt=!($&&$.silentJSONParsing)&&et;try{return JSON.parse(_)}catch(nt){if(rt)throw nt.name==="SyntaxError"?AxiosError$1.from(nt,AxiosError$1.ERR_BAD_RESPONSE,this,null,this.response):nt}}return _}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:platform$2.classes.FormData,Blob:platform$2.classes.Blob},validateStatus:function a(_){return _>=200&&_<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};utils$i.forEach(["delete","get","head","post","put","patch"],a=>{defaults$2.headers[a]={}});const ignoreDuplicateOf$1=utils$i.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),parseHeaders$1=a=>{const _={};let $,j,et;return a&&a.split(`
`).forEach(function(rt){et=rt.indexOf(":"),$=rt.substring(0,et).trim().toLowerCase(),j=rt.substring(et+1).trim(),!(!$||_[$]&&ignoreDuplicateOf$1[$])&&($==="set-cookie"?_[$]?_[$].push(j):_[$]=[j]:_[$]=_[$]?_[$]+", "+j:j)}),_},$internals$1=Symbol("internals");function normalizeHeader$1(a){return a&&String(a).trim().toLowerCase()}function normalizeValue$1(a){return a===!1||a==null?a:utils$i.isArray(a)?a.map(normalizeValue$1):String(a)}function parseTokens$1(a){const _=Object.create(null),$=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let j;for(;j=$.exec(a);)_[j[1]]=j[2];return _}const isValidHeaderName$1=a=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(a.trim());function matchHeaderValue$1(a,_,$,j,et){if(utils$i.isFunction(j))return j.call(this,_,$);if(et&&(_=$),!!utils$i.isString(_)){if(utils$i.isString(j))return _.indexOf(j)!==-1;if(utils$i.isRegExp(j))return j.test(_)}}function formatHeader$1(a){return a.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(_,$,j)=>$.toUpperCase()+j)}function buildAccessors$1(a,_){const $=utils$i.toCamelCase(" "+_);["get","set","has"].forEach(j=>{Object.defineProperty(a,j+$,{value:function(et,tt,rt){return this[j].call(this,_,et,tt,rt)},configurable:!0})})}let AxiosHeaders$1=class{constructor(_){_&&this.set(_)}set(_,$,j){const et=this;function tt(nt,it,st){const ot=normalizeHeader$1(it);if(!ot)throw new Error("header name must be a non-empty string");const at=utils$i.findKey(et,ot);(!at||et[at]===void 0||st===!0||st===void 0&&et[at]!==!1)&&(et[at||it]=normalizeValue$1(nt))}const rt=(nt,it)=>utils$i.forEach(nt,(st,ot)=>tt(st,ot,it));return utils$i.isPlainObject(_)||_ instanceof this.constructor?rt(_,$):utils$i.isString(_)&&(_=_.trim())&&!isValidHeaderName$1(_)?rt(parseHeaders$1(_),$):_!=null&&tt($,_,j),this}get(_,$){if(_=normalizeHeader$1(_),_){const j=utils$i.findKey(this,_);if(j){const et=this[j];if(!$)return et;if($===!0)return parseTokens$1(et);if(utils$i.isFunction($))return $.call(this,et,j);if(utils$i.isRegExp($))return $.exec(et);throw new TypeError("parser must be boolean|regexp|function")}}}has(_,$){if(_=normalizeHeader$1(_),_){const j=utils$i.findKey(this,_);return!!(j&&this[j]!==void 0&&(!$||matchHeaderValue$1(this,this[j],j,$)))}return!1}delete(_,$){const j=this;let et=!1;function tt(rt){if(rt=normalizeHeader$1(rt),rt){const nt=utils$i.findKey(j,rt);nt&&(!$||matchHeaderValue$1(j,j[nt],nt,$))&&(delete j[nt],et=!0)}}return utils$i.isArray(_)?_.forEach(tt):tt(_),et}clear(_){const $=Object.keys(this);let j=$.length,et=!1;for(;j--;){const tt=$[j];(!_||matchHeaderValue$1(this,this[tt],tt,_,!0))&&(delete this[tt],et=!0)}return et}normalize(_){const $=this,j={};return utils$i.forEach(this,(et,tt)=>{const rt=utils$i.findKey(j,tt);if(rt){$[rt]=normalizeValue$1(et),delete $[tt];return}const nt=_?formatHeader$1(tt):String(tt).trim();nt!==tt&&delete $[tt],$[nt]=normalizeValue$1(et),j[nt]=!0}),this}concat(..._){return this.constructor.concat(this,..._)}toJSON(_){const $=Object.create(null);return utils$i.forEach(this,(j,et)=>{j!=null&&j!==!1&&($[et]=_&&utils$i.isArray(j)?j.join(", "):j)}),$}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([_,$])=>_+": "+$).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(_){return _ instanceof this?_:new this(_)}static concat(_,...$){const j=new this(_);return $.forEach(et=>j.set(et)),j}static accessor(_){const j=(this[$internals$1]=this[$internals$1]={accessors:{}}).accessors,et=this.prototype;function tt(rt){const nt=normalizeHeader$1(rt);j[nt]||(buildAccessors$1(et,rt),j[nt]=!0)}return utils$i.isArray(_)?_.forEach(tt):tt(_),this}};AxiosHeaders$1.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);utils$i.reduceDescriptors(AxiosHeaders$1.prototype,({value:a},_)=>{let $=_[0].toUpperCase()+_.slice(1);return{get:()=>a,set(j){this[$]=j}}});utils$i.freezeMethods(AxiosHeaders$1);function transformData$1(a,_){const $=this||defaults$2,j=_||$,et=AxiosHeaders$1.from(j.headers);let tt=j.data;return utils$i.forEach(a,function(nt){tt=nt.call($,tt,et.normalize(),_?_.status:void 0)}),et.normalize(),tt}function isCancel$1(a){return!!(a&&a.__CANCEL__)}function CanceledError$1(a,_,$){AxiosError$1.call(this,a??"canceled",AxiosError$1.ERR_CANCELED,_,$),this.name="CanceledError"}utils$i.inherits(CanceledError$1,AxiosError$1,{__CANCEL__:!0});function settle$1(a,_,$){const j=$.config.validateStatus;!$.status||!j||j($.status)?a($):_(new AxiosError$1("Request failed with status code "+$.status,[AxiosError$1.ERR_BAD_REQUEST,AxiosError$1.ERR_BAD_RESPONSE][Math.floor($.status/100)-4],$.config,$.request,$))}const cookies$1=platform$2.hasStandardBrowserEnv?{write(a,_,$,j,et,tt){const rt=[a+"="+encodeURIComponent(_)];utils$i.isNumber($)&&rt.push("expires="+new Date($).toGMTString()),utils$i.isString(j)&&rt.push("path="+j),utils$i.isString(et)&&rt.push("domain="+et),tt===!0&&rt.push("secure"),document.cookie=rt.join("; ")},read(a){const _=document.cookie.match(new RegExp("(^|;\\s*)("+a+")=([^;]*)"));return _?decodeURIComponent(_[3]):null},remove(a){this.write(a,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function isAbsoluteURL$1(a){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(a)}function combineURLs$1(a,_){return _?a.replace(/\/?\/$/,"")+"/"+_.replace(/^\/+/,""):a}function buildFullPath$1(a,_){return a&&!isAbsoluteURL$1(_)?combineURLs$1(a,_):_}const isURLSameOrigin$1=platform$2.hasStandardBrowserEnv?function a(){const _=/(msie|trident)/i.test(navigator.userAgent),$=document.createElement("a");let j;function et(tt){let rt=tt;return _&&($.setAttribute("href",rt),rt=$.href),$.setAttribute("href",rt),{href:$.href,protocol:$.protocol?$.protocol.replace(/:$/,""):"",host:$.host,search:$.search?$.search.replace(/^\?/,""):"",hash:$.hash?$.hash.replace(/^#/,""):"",hostname:$.hostname,port:$.port,pathname:$.pathname.charAt(0)==="/"?$.pathname:"/"+$.pathname}}return j=et(window.location.href),function(rt){const nt=utils$i.isString(rt)?et(rt):rt;return nt.protocol===j.protocol&&nt.host===j.host}}():function a(){return function(){return!0}}();function parseProtocol$1(a){const _=/^([-+\w]{1,25})(:?\/\/|:)/.exec(a);return _&&_[1]||""}function speedometer$1(a,_){a=a||10;const $=new Array(a),j=new Array(a);let et=0,tt=0,rt;return _=_!==void 0?_:1e3,function(it){const st=Date.now(),ot=j[tt];rt||(rt=st),$[et]=it,j[et]=st;let at=tt,ut=0;for(;at!==et;)ut+=$[at++],at=at%a;if(et=(et+1)%a,et===tt&&(tt=(tt+1)%a),st-rt<_)return;const ht=ot&&st-ot;return ht?Math.round(ut*1e3/ht):void 0}}function progressEventReducer$1(a,_){let $=0;const j=speedometer$1(50,250);return et=>{const tt=et.loaded,rt=et.lengthComputable?et.total:void 0,nt=tt-$,it=j(nt),st=tt<=rt;$=tt;const ot={loaded:tt,total:rt,progress:rt?tt/rt:void 0,bytes:nt,rate:it||void 0,estimated:it&&rt&&st?(rt-tt)/it:void 0,event:et};ot[_?"download":"upload"]=!0,a(ot)}}const isXHRAdapterSupported$1=typeof XMLHttpRequest<"u",xhrAdapter$1=isXHRAdapterSupported$1&&function(a){return new Promise(function($,j){let et=a.data;const tt=AxiosHeaders$1.from(a.headers).normalize();let{responseType:rt,withXSRFToken:nt}=a,it;function st(){a.cancelToken&&a.cancelToken.unsubscribe(it),a.signal&&a.signal.removeEventListener("abort",it)}let ot;if(utils$i.isFormData(et)){if(platform$2.hasStandardBrowserEnv||platform$2.hasStandardBrowserWebWorkerEnv)tt.setContentType(!1);else if((ot=tt.getContentType())!==!1){const[wt,...Ct]=ot?ot.split(";").map(Pt=>Pt.trim()).filter(Boolean):[];tt.setContentType([wt||"multipart/form-data",...Ct].join("; "))}}let at=new XMLHttpRequest;if(a.auth){const wt=a.auth.username||"",Ct=a.auth.password?unescape(encodeURIComponent(a.auth.password)):"";tt.set("Authorization","Basic "+btoa(wt+":"+Ct))}const ut=buildFullPath$1(a.baseURL,a.url);at.open(a.method.toUpperCase(),buildURL$1(ut,a.params,a.paramsSerializer),!0),at.timeout=a.timeout;function ht(){if(!at)return;const wt=AxiosHeaders$1.from("getAllResponseHeaders"in at&&at.getAllResponseHeaders()),Pt={data:!rt||rt==="text"||rt==="json"?at.responseText:at.response,status:at.status,statusText:at.statusText,headers:wt,config:a,request:at};settle$1(function(Mt){$(Mt),st()},function(Mt){j(Mt),st()},Pt),at=null}if("onloadend"in at?at.onloadend=ht:at.onreadystatechange=function(){!at||at.readyState!==4||at.status===0&&!(at.responseURL&&at.responseURL.indexOf("file:")===0)||setTimeout(ht)},at.onabort=function(){at&&(j(new AxiosError$1("Request aborted",AxiosError$1.ECONNABORTED,a,at)),at=null)},at.onerror=function(){j(new AxiosError$1("Network Error",AxiosError$1.ERR_NETWORK,a,at)),at=null},at.ontimeout=function(){let Ct=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const Pt=a.transitional||transitionalDefaults$1;a.timeoutErrorMessage&&(Ct=a.timeoutErrorMessage),j(new AxiosError$1(Ct,Pt.clarifyTimeoutError?AxiosError$1.ETIMEDOUT:AxiosError$1.ECONNABORTED,a,at)),at=null},platform$2.hasStandardBrowserEnv&&(nt&&utils$i.isFunction(nt)&&(nt=nt(a)),nt||nt!==!1&&isURLSameOrigin$1(ut))){const wt=a.xsrfHeaderName&&a.xsrfCookieName&&cookies$1.read(a.xsrfCookieName);wt&&tt.set(a.xsrfHeaderName,wt)}et===void 0&&tt.setContentType(null),"setRequestHeader"in at&&utils$i.forEach(tt.toJSON(),function(Ct,Pt){at.setRequestHeader(Pt,Ct)}),utils$i.isUndefined(a.withCredentials)||(at.withCredentials=!!a.withCredentials),rt&&rt!=="json"&&(at.responseType=a.responseType),typeof a.onDownloadProgress=="function"&&at.addEventListener("progress",progressEventReducer$1(a.onDownloadProgress,!0)),typeof a.onUploadProgress=="function"&&at.upload&&at.upload.addEventListener("progress",progressEventReducer$1(a.onUploadProgress)),(a.cancelToken||a.signal)&&(it=wt=>{at&&(j(!wt||wt.type?new CanceledError$1(null,a,at):wt),at.abort(),at=null)},a.cancelToken&&a.cancelToken.subscribe(it),a.signal&&(a.signal.aborted?it():a.signal.addEventListener("abort",it)));const yt=parseProtocol$1(ut);if(yt&&platform$2.protocols.indexOf(yt)===-1){j(new AxiosError$1("Unsupported protocol "+yt+":",AxiosError$1.ERR_BAD_REQUEST,a));return}at.send(et||null)})},knownAdapters$1={http:httpAdapter$1,xhr:xhrAdapter$1};utils$i.forEach(knownAdapters$1,(a,_)=>{if(a){try{Object.defineProperty(a,"name",{value:_})}catch{}Object.defineProperty(a,"adapterName",{value:_})}});const renderReason$1=a=>`- ${a}`,isResolvedHandle$1=a=>utils$i.isFunction(a)||a===null||a===!1,adapters$1={getAdapter:a=>{a=utils$i.isArray(a)?a:[a];const{length:_}=a;let $,j;const et={};for(let tt=0;tt<_;tt++){$=a[tt];let rt;if(j=$,!isResolvedHandle$1($)&&(j=knownAdapters$1[(rt=String($)).toLowerCase()],j===void 0))throw new AxiosError$1(`Unknown adapter '${rt}'`);if(j)break;et[rt||"#"+tt]=j}if(!j){const tt=Object.entries(et).map(([nt,it])=>`adapter ${nt} `+(it===!1?"is not supported by the environment":"is not available in the build"));let rt=_?tt.length>1?`since :
`+tt.map(renderReason$1).join(`
`):" "+renderReason$1(tt[0]):"as no adapter specified";throw new AxiosError$1("There is no suitable adapter to dispatch the request "+rt,"ERR_NOT_SUPPORT")}return j},adapters:knownAdapters$1};function throwIfCancellationRequested$1(a){if(a.cancelToken&&a.cancelToken.throwIfRequested(),a.signal&&a.signal.aborted)throw new CanceledError$1(null,a)}function dispatchRequest$1(a){return throwIfCancellationRequested$1(a),a.headers=AxiosHeaders$1.from(a.headers),a.data=transformData$1.call(a,a.transformRequest),["post","put","patch"].indexOf(a.method)!==-1&&a.headers.setContentType("application/x-www-form-urlencoded",!1),adapters$1.getAdapter(a.adapter||defaults$2.adapter)(a).then(function(j){return throwIfCancellationRequested$1(a),j.data=transformData$1.call(a,a.transformResponse,j),j.headers=AxiosHeaders$1.from(j.headers),j},function(j){return isCancel$1(j)||(throwIfCancellationRequested$1(a),j&&j.response&&(j.response.data=transformData$1.call(a,a.transformResponse,j.response),j.response.headers=AxiosHeaders$1.from(j.response.headers))),Promise.reject(j)})}const headersToObject$1=a=>a instanceof AxiosHeaders$1?a.toJSON():a;function mergeConfig$1(a,_){_=_||{};const $={};function j(st,ot,at){return utils$i.isPlainObject(st)&&utils$i.isPlainObject(ot)?utils$i.merge.call({caseless:at},st,ot):utils$i.isPlainObject(ot)?utils$i.merge({},ot):utils$i.isArray(ot)?ot.slice():ot}function et(st,ot,at){if(utils$i.isUndefined(ot)){if(!utils$i.isUndefined(st))return j(void 0,st,at)}else return j(st,ot,at)}function tt(st,ot){if(!utils$i.isUndefined(ot))return j(void 0,ot)}function rt(st,ot){if(utils$i.isUndefined(ot)){if(!utils$i.isUndefined(st))return j(void 0,st)}else return j(void 0,ot)}function nt(st,ot,at){if(at in _)return j(st,ot);if(at in a)return j(void 0,st)}const it={url:tt,method:tt,data:tt,baseURL:rt,transformRequest:rt,transformResponse:rt,paramsSerializer:rt,timeout:rt,timeoutMessage:rt,withCredentials:rt,withXSRFToken:rt,adapter:rt,responseType:rt,xsrfCookieName:rt,xsrfHeaderName:rt,onUploadProgress:rt,onDownloadProgress:rt,decompress:rt,maxContentLength:rt,maxBodyLength:rt,beforeRedirect:rt,transport:rt,httpAgent:rt,httpsAgent:rt,cancelToken:rt,socketPath:rt,responseEncoding:rt,validateStatus:nt,headers:(st,ot)=>et(headersToObject$1(st),headersToObject$1(ot),!0)};return utils$i.forEach(Object.keys(Object.assign({},a,_)),function(ot){const at=it[ot]||et,ut=at(a[ot],_[ot],ot);utils$i.isUndefined(ut)&&at!==nt||($[ot]=ut)}),$}const VERSION$3="1.6.5",validators$3={};["object","boolean","number","function","string","symbol"].forEach((a,_)=>{validators$3[a]=function(j){return typeof j===a||"a"+(_<1?"n ":" ")+a}});const deprecatedWarnings$1={};validators$3.transitional=function a(_,$,j){function et(tt,rt){return"[Axios v"+VERSION$3+"] Transitional option '"+tt+"'"+rt+(j?". "+j:"")}return(tt,rt,nt)=>{if(_===!1)throw new AxiosError$1(et(rt," has been removed"+($?" in "+$:"")),AxiosError$1.ERR_DEPRECATED);return $&&!deprecatedWarnings$1[rt]&&(deprecatedWarnings$1[rt]=!0,console.warn(et(rt," has been deprecated since v"+$+" and will be removed in the near future"))),_?_(tt,rt,nt):!0}};function assertOptions$1(a,_,$){if(typeof a!="object")throw new AxiosError$1("options must be an object",AxiosError$1.ERR_BAD_OPTION_VALUE);const j=Object.keys(a);let et=j.length;for(;et-- >0;){const tt=j[et],rt=_[tt];if(rt){const nt=a[tt],it=nt===void 0||rt(nt,tt,a);if(it!==!0)throw new AxiosError$1("option "+tt+" must be "+it,AxiosError$1.ERR_BAD_OPTION_VALUE);continue}if($!==!0)throw new AxiosError$1("Unknown option "+tt,AxiosError$1.ERR_BAD_OPTION)}}const validator$1={assertOptions:assertOptions$1,validators:validators$3},validators$2=validator$1.validators;let Axios$1=class{constructor(_){this.defaults=_,this.interceptors={request:new InterceptorManager$1,response:new InterceptorManager$1}}request(_,$){typeof _=="string"?($=$||{},$.url=_):$=_||{},$=mergeConfig$1(this.defaults,$);const{transitional:j,paramsSerializer:et,headers:tt}=$;j!==void 0&&validator$1.assertOptions(j,{silentJSONParsing:validators$2.transitional(validators$2.boolean),forcedJSONParsing:validators$2.transitional(validators$2.boolean),clarifyTimeoutError:validators$2.transitional(validators$2.boolean)},!1),et!=null&&(utils$i.isFunction(et)?$.paramsSerializer={serialize:et}:validator$1.assertOptions(et,{encode:validators$2.function,serialize:validators$2.function},!0)),$.method=($.method||this.defaults.method||"get").toLowerCase();let rt=tt&&utils$i.merge(tt.common,tt[$.method]);tt&&utils$i.forEach(["delete","get","head","post","put","patch","common"],yt=>{delete tt[yt]}),$.headers=AxiosHeaders$1.concat(rt,tt);const nt=[];let it=!0;this.interceptors.request.forEach(function(wt){typeof wt.runWhen=="function"&&wt.runWhen($)===!1||(it=it&&wt.synchronous,nt.unshift(wt.fulfilled,wt.rejected))});const st=[];this.interceptors.response.forEach(function(wt){st.push(wt.fulfilled,wt.rejected)});let ot,at=0,ut;if(!it){const yt=[dispatchRequest$1.bind(this),void 0];for(yt.unshift.apply(yt,nt),yt.push.apply(yt,st),ut=yt.length,ot=Promise.resolve($);at<ut;)ot=ot.then(yt[at++],yt[at++]);return ot}ut=nt.length;let ht=$;for(at=0;at<ut;){const yt=nt[at++],wt=nt[at++];try{ht=yt(ht)}catch(Ct){wt.call(this,Ct);break}}try{ot=dispatchRequest$1.call(this,ht)}catch(yt){return Promise.reject(yt)}for(at=0,ut=st.length;at<ut;)ot=ot.then(st[at++],st[at++]);return ot}getUri(_){_=mergeConfig$1(this.defaults,_);const $=buildFullPath$1(_.baseURL,_.url);return buildURL$1($,_.params,_.paramsSerializer)}};utils$i.forEach(["delete","get","head","options"],function a(_){Axios$1.prototype[_]=function($,j){return this.request(mergeConfig$1(j||{},{method:_,url:$,data:(j||{}).data}))}});utils$i.forEach(["post","put","patch"],function a(_){function $(j){return function(tt,rt,nt){return this.request(mergeConfig$1(nt||{},{method:_,headers:j?{"Content-Type":"multipart/form-data"}:{},url:tt,data:rt}))}}Axios$1.prototype[_]=$(),Axios$1.prototype[_+"Form"]=$(!0)});let CancelToken$1=class Rv{constructor(_){if(typeof _!="function")throw new TypeError("executor must be a function.");let $;this.promise=new Promise(function(tt){$=tt});const j=this;this.promise.then(et=>{if(!j._listeners)return;let tt=j._listeners.length;for(;tt-- >0;)j._listeners[tt](et);j._listeners=null}),this.promise.then=et=>{let tt;const rt=new Promise(nt=>{j.subscribe(nt),tt=nt}).then(et);return rt.cancel=function(){j.unsubscribe(tt)},rt},_(function(tt,rt,nt){j.reason||(j.reason=new CanceledError$1(tt,rt,nt),$(j.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(_){if(this.reason){_(this.reason);return}this._listeners?this._listeners.push(_):this._listeners=[_]}unsubscribe(_){if(!this._listeners)return;const $=this._listeners.indexOf(_);$!==-1&&this._listeners.splice($,1)}static source(){let _;return{token:new Rv(function(et){_=et}),cancel:_}}};function spread$1(a){return function($){return a.apply(null,$)}}function isAxiosError$1(a){return utils$i.isObject(a)&&a.isAxiosError===!0}const HttpStatusCode$1={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(HttpStatusCode$1).forEach(([a,_])=>{HttpStatusCode$1[_]=a});function createInstance$1(a){const _=new Axios$1(a),$=bind$2(Axios$1.prototype.request,_);return utils$i.extend($,Axios$1.prototype,_,{allOwnKeys:!0}),utils$i.extend($,_,null,{allOwnKeys:!0}),$.create=function(et){return createInstance$1(mergeConfig$1(a,et))},$}const axios$1=createInstance$1(defaults$2);axios$1.Axios=Axios$1;axios$1.CanceledError=CanceledError$1;axios$1.CancelToken=CancelToken$1;axios$1.isCancel=isCancel$1;axios$1.VERSION=VERSION$3;axios$1.toFormData=toFormData$1;axios$1.AxiosError=AxiosError$1;axios$1.Cancel=axios$1.CanceledError;axios$1.all=function a(_){return Promise.all(_)};axios$1.spread=spread$1;axios$1.isAxiosError=isAxiosError$1;axios$1.mergeConfig=mergeConfig$1;axios$1.AxiosHeaders=AxiosHeaders$1;axios$1.formToJSON=a=>formDataToJSON$1(utils$i.isHTMLForm(a)?new FormData(a):a);axios$1.getAdapter=adapters$1.getAdapter;axios$1.HttpStatusCode=HttpStatusCode$1;axios$1.default=axios$1;var MatrixMessageType;(function(a){a.TEXT="m.text"})(MatrixMessageType||(MatrixMessageType={}));class MatrixMessage{constructor(_,$,j,et){Xr(this,"type");Xr(this,"sender");Xr(this,"content");Xr(this,"timestamp");this.type=_,this.sender=$,this.content=j,this.timestamp=et}static from(_){if(isTextMessageEvent(_))return new MatrixMessage(_.content.msgtype,_.sender,_.content.body,_.origin_server_ts)}}const isCreateEvent=a=>a.type==="m.room.create"&&a.content instanceof Object&&"creator"in a.content,isJoinEvent=a=>a.type==="m.room.member"&&a.content instanceof Object&&"membership"in a.content&&a.content.membership==="join",isMessageEvent=a=>a.type==="m.room.message",isTextMessageEvent=a=>isMessageEvent(a)&&a.content instanceof Object&&"msgtype"in a.content&&a.content.msgtype===MatrixMessageType.TEXT;var MatrixRoomStatus;(function(a){a[a.UNKNOWN=0]="UNKNOWN",a[a.JOINED=1]="JOINED",a[a.INVITED=2]="INVITED",a[a.LEFT=3]="LEFT"})(MatrixRoomStatus||(MatrixRoomStatus={}));class MatrixRoom{constructor(_,$=MatrixRoomStatus.UNKNOWN,j=[],et=[]){Xr(this,"id");Xr(this,"status");Xr(this,"members");Xr(this,"messages");this.id=_,this.status=$,this.members=j,this.messages=et}static fromSync(_){if(!_)return[];function $(j,et){return Object.entries(j).map(([tt,rt])=>et(tt,rt))}return[...$(_.join??{},MatrixRoom.fromJoined),...$(_.invite??{},MatrixRoom.fromInvited),...$(_.leave??{},MatrixRoom.fromLeft)]}static from(_,$){return typeof _=="string"?new MatrixRoom(_,$||MatrixRoomStatus.UNKNOWN):$!==void 0?new MatrixRoom(_.id,$,_.members,_.messages):_}static merge(_,$){return!$||$.id!==_.id?MatrixRoom.from(_):new MatrixRoom(_.id,_.status,[...$.members,..._.members].filter((j,et,tt)=>tt.indexOf(j)===et),[...$.messages,..._.messages])}static fromJoined(_,$){const j=[...$.state.events,...$.timeline.events],et=MatrixRoom.getMembersFromEvents(j),tt=MatrixRoom.getMessagesFromEvents(j);return new MatrixRoom(_,MatrixRoomStatus.JOINED,et,tt)}static fromInvited(_,$){const j=MatrixRoom.getMembersFromEvents($.invite_state.events);return new MatrixRoom(_,MatrixRoomStatus.INVITED,j)}static fromLeft(_,$){const j=[...$.state.events,...$.timeline.events],et=MatrixRoom.getMembersFromEvents(j),tt=MatrixRoom.getMessagesFromEvents(j);return new MatrixRoom(_,MatrixRoomStatus.LEFT,et,tt)}static getMembersFromEvents(_){return MatrixRoom.getUniqueEvents(_.filter($=>isCreateEvent($)||isJoinEvent($))).map($=>$.sender).filter(($,j,et)=>et.indexOf($)===j)}static getMessagesFromEvents(_){return MatrixRoom.getUniqueEvents(_.filter(isMessageEvent)).map($=>MatrixMessage.from($)).filter(Boolean)}static getUniqueEvents(_){const $={},j=[];return _.forEach((et,tt)=>{const rt=et.event_id;(rt===void 0||!(rt in $))&&(rt!==void 0&&($[rt]=tt),j.push(et))}),j}}const PRESERVED_FIELDS=["syncToken","rooms"];class MatrixClientStore{constructor(_){Xr(this,"storage");Xr(this,"state",{isRunning:!1,userId:void 0,deviceId:void 0,txnNo:0,accessToken:void 0,syncToken:void 0,pollingTimeout:void 0,pollingRetries:0,rooms:{}});Xr(this,"onStateChangedListeners",new Map);Xr(this,"waitReadyPromise");this.storage=_,this.waitReadyPromise=new Promise(async($,j)=>{try{await this.initFromStorage(),$()}catch(et){j(et)}})}get(_){return this.state[_]}getRoom(_){const $=MatrixRoom.from(_,MatrixRoomStatus.UNKNOWN);return this.state.rooms[$.id]||$}async update(_){await this.waitReady();const $=Object.assign({},this.state);this.setState(_),this.updateStorage(_),this.notifyListeners($,this.state,_)}onStateChanged(_,...$){$.length>0?$.forEach(j=>{this.onStateChangedListeners.set(j,_)}):this.onStateChangedListeners.set("all",_)}async waitReady(){return this.waitReadyPromise}async initFromStorage(){const _=await this.storage.get(StorageKey.MATRIX_PRESERVED_STATE);this.setState(_)}prepareData(_){const j=["rooms"].some(et=>_[et]!==void 0)?JSON.parse(JSON.stringify(_)):_;return Object.values(j.rooms||{}).forEach(et=>{et.messages=[]}),j}updateStorage(_){if(Object.entries(_).filter(([j,et])=>PRESERVED_FIELDS.includes(j)&&!!et).length>0){const j={};PRESERVED_FIELDS.forEach(et=>{j[et]=this.state[et]}),this.storage.set(StorageKey.MATRIX_PRESERVED_STATE,this.prepareData(j))}}setState(_){this.state={isRunning:_.isRunning||this.state.isRunning,userId:_.userId||this.state.userId,deviceId:_.deviceId||this.state.deviceId,txnNo:_.txnNo||this.state.txnNo,accessToken:_.accessToken||this.state.accessToken,syncToken:_.syncToken||this.state.syncToken,pollingTimeout:_.pollingTimeout||this.state.pollingTimeout,pollingRetries:_.pollingRetries||this.state.pollingRetries,rooms:this.mergeRooms(this.state.rooms,_.rooms)}}mergeRooms(_,$){if(!$)return _;const j=Array.isArray($)?$:Object.values($),et=Object.assign({},_);return j.forEach(tt=>{et[tt.id]=MatrixRoom.merge(tt,_[tt.id])}),et}notifyListeners(_,$,j){const et=this.onStateChangedListeners.get("all");et&&et(_,$,j),keys(j).filter(tt=>j[tt]!==void 0).forEach(tt=>{const rt=this.onStateChangedListeners.get(tt);rt&&rt(_,$,j)})}}const logger$6=new Logger("MatrixHttpClient"),CLIENT_API_R0="/_matrix/client/r0";class MatrixHttpClient{constructor(_){Xr(this,"baseUrl");Xr(this,"cancelTokenSource");this.baseUrl=_,this.cancelTokenSource=axios$1.CancelToken.source()}async get(_,$,j){return this.send("GET",_,j,$)}async post(_,$,j,et){return this.send("POST",_,j,et,$)}async put(_,$,j,et){return this.send("PUT",_,j,et,$)}async cancelAllRequests(){return this.cancelTokenSource.cancel("Manually cancelled")}async send(_,$,j,et,tt){const rt=j?this.getHeaders(j):void 0,nt=et?this.getParams(et):void 0;let it;try{it=await axios$1.request({method:_,url:$,baseURL:this.apiUrl(CLIENT_API_R0),headers:rt,data:tt,params:nt,cancelToken:this.cancelTokenSource.token})}catch(st){const ot=st;throw logger$6.error("send",ot.code,ot.message,ot.response.data),st.response.data}return it.data}getHeaders(_){const $={},j=[];if(_.accessToken&&j.push(["Authorization",`Bearer ${_.accessToken}`]),j.length!==0){for(const[et,tt]of j)$[et]=tt;return $}}getParams(_){if(!_)return;const $=Object.assign(_,{});return keys($).forEach(j=>$[j]===void 0&&delete $[j]),$}apiUrl(..._){const $=this.baseUrl.endsWith("/")?this.baseUrl.substr(0,this.baseUrl.length-1):this.baseUrl,j=_.map(et=>et.startsWith("/")?et.substr(1):et);return[$,...j].join("/")}}class MatrixRoomService{constructor(_){Xr(this,"httpClient");this.httpClient=_}async createRoom(_,$={}){return this.httpClient.post("/createRoom",$,{accessToken:_})}async inviteToRoom(_,$,j){return j.status!==MatrixRoomStatus.JOINED&&j.status!==MatrixRoomStatus.UNKNOWN?Promise.reject(`User is not a member of room ${j.id}.`):this.httpClient.post(`/rooms/${encodeURIComponent(j.id)}/invite`,{user_id:$},{accessToken:_})}async joinRoom(_,$){return $.status===MatrixRoomStatus.JOINED?Promise.resolve({room_id:$.id}):this.httpClient.post(`/rooms/${encodeURIComponent($.id)}/join`,{},{accessToken:_})}async getJoinedRooms(_){return this.httpClient.get("/joined_rooms",void 0,{accessToken:_})}}class MatrixUserService{constructor(_){Xr(this,"httpClient");this.httpClient=_}async login(_,$,j){return this.httpClient.post("/login",{type:"m.login.password",identifier:{type:"m.id.user",user:_},password:$,device_id:j})}}class MatrixEventService{constructor(_){Xr(this,"httpClient");Xr(this,"cachedPromises",new Map);this.httpClient=_}async sync(_,$){return this.withCache("sync",()=>this.httpClient.get("/sync",{timeout:$?$.pollingTimeout:void 0,since:$?$.syncToken:void 0},{accessToken:_}))}async sendMessage(_,$,j,et){return new Promise((tt,rt)=>this.scheduleEvent({accessToken:_,roomId:$,type:"m.room.message",content:j,txnId:et,onSuccess:tt,onError:rt}))}scheduleEvent(_){this.sendEvent(_)}async sendEvent(_){const{roomId:$,type:j,txnId:et,content:tt,accessToken:rt}=_;try{const nt=await this.httpClient.put(`/rooms/${encodeURIComponent($)}/send/${j}/${encodeURIComponent(et)}`,tt,{accessToken:rt});_.onSuccess(nt)}catch(nt){_.onError(nt)}}withCache(_,$){let j=this.cachedPromises.get(_);return j||(j=$().finally(()=>{this.cachedPromises.delete(_)}),this.cachedPromises.set(_,j)),j}}class EventEmitter{constructor(){Xr(this,"events",{})}on(_,$){return typeof this.events[_]!="object"&&(this.events[_]=[]),this.events[_].push($),()=>this.removeListener(_,$)}removeListener(_,$){if(typeof this.events[_]!="object")return;if(!$){this.events[_]=[];return}const j=this.events[_].indexOf($);j>-1&&this.events[_].splice(j,1)}removeAllListeners(){Object.keys(this.events).forEach(_=>this.events[_].splice(0,this.events[_].length))}emit(_,...$){typeof this.events[_]=="object"&&[...this.events[_]].forEach(j=>j.apply(this,$))}once(_,$){const j=this.on(_,(...et)=>{j(),$.apply(this,et)});return j}}var MatrixClientEventType;(function(a){a.INVITE="invite",a.MESSAGE="message"})(MatrixClientEventType||(MatrixClientEventType={}));class MatrixClientEventEmitter extends EventEmitter{constructor(){super(...arguments);Xr(this,"eventEmitProviders",new Map([[MatrixClientEventType.INVITE,()=>[this.isInvite,this.emitInvite.bind(this)]],[MatrixClientEventType.MESSAGE,()=>[this.isMessage,this.emitMessage.bind(this)]]]))}onStateChanged($,j,et){for(const tt of keys(MatrixClientEventType))this.emitIfEvent(MatrixClientEventType[tt],et)}emitIfEvent($,j){const et=this.eventEmitProviders.get($);if(et){const[tt,rt]=et();tt(j)&&rt($,j)}}emitClientEvent($,j,et){this.emit($,{type:$,content:j,timestamp:et})}isInvite($){return $.rooms?$.rooms.some(j=>j.status===MatrixRoomStatus.INVITED):!1}emitInvite($,j){j.rooms.filter(et=>et.status===MatrixRoomStatus.INVITED).map(et=>[et.id,et.members]).forEach(([et,tt])=>{this.emitClientEvent($,{roomId:et,members:tt})})}isMessage($){return $.rooms?$.rooms.some(j=>j.messages.length>0):!1}emitMessage($,j){j.rooms.filter(et=>et.messages.length>0).map(et=>et.messages.map(tt=>[et.id,tt,tt.timestamp])).reduce((et,tt)=>et.concat(tt),[]).forEach(([et,tt,rt])=>{this.emitClientEvent($,{roomId:et,message:tt},rt)})}}const logger$5=new Logger("MatrixClient"),IMMEDIATE_POLLING_RETRIES=3,RETRY_INTERVAL=5e3;class MatrixClient{constructor(_,$,j,et,tt,rt){Xr(this,"store");Xr(this,"eventEmitter");Xr(this,"userService");Xr(this,"roomService");Xr(this,"eventService");Xr(this,"httpClient");Xr(this,"isActive",!0);Xr(this,"_isReady",new ExposedPromise);this.store=_,this.eventEmitter=$,this.userService=j,this.roomService=et,this.eventService=tt,this.httpClient=rt,this.store.onStateChanged((nt,it,st)=>{this.eventEmitter.onStateChanged(nt,it,st)},"rooms")}static create(_){const $=new MatrixClientStore(_.storage),j=new MatrixClientEventEmitter,et=new MatrixHttpClient(_.baseUrl),tt=new MatrixUserService(et),rt=new MatrixRoomService(et),nt=new MatrixEventService(et);return new MatrixClient($,j,tt,rt,nt,et)}get joinedRooms(){return new Promise(async _=>{await this.isConnected(),_(Object.values(this.store.get("rooms")).filter($=>$.status===MatrixRoomStatus.JOINED))})}get invitedRooms(){return new Promise(async _=>{await this.isConnected(),_(Object.values(this.store.get("rooms")).filter($=>$.status===MatrixRoomStatus.INVITED))})}get leftRooms(){return new Promise(async _=>{await this.isConnected(),_(Object.values(this.store.get("rooms")).filter($=>$.status===MatrixRoomStatus.LEFT))})}async start(_){const $=await this.userService.login(_.id,_.password,_.deviceId);await this.store.update({accessToken:$.access_token});const j=new Promise(async(et,tt)=>{await this.poll(0,async rt=>{this.store.get("isRunning")||et(),await this.store.update({isRunning:!0,syncToken:rt.next_batch,pollingTimeout:3e4,pollingRetries:0,rooms:MatrixRoom.fromSync(rt.rooms)})},async rt=>{this.store.get("isRunning")||tt(rt),await this.store.update({isRunning:!1,pollingRetries:this.store.get("pollingRetries")+1})})});return j.then(()=>{this._isReady.resolve()}).catch(console.error),j}async isConnected(){return this._isReady.promise}async stop(){return logger$5.log("MATRIX CLIENT STOPPED"),this.isActive=!1,this._isReady=new ExposedPromise,this.httpClient.cancelAllRequests()}subscribe(_,$){this.eventEmitter.on(_,$)}unsubscribe(_,$){$&&this.eventEmitter.removeListener(_,$)}unsubscribeAll(_){this.eventEmitter.removeListener(_)}async getRoomById(_){return await this.isConnected(),this.store.getRoom(_)}async createTrustedPrivateRoom(..._){return await this.isConnected(),this.requiresAuthorization("createRoom",async $=>(await this.roomService.createRoom($,{room_version:"5",invite:_,preset:"public_chat",is_direct:!0})).room_id)}async inviteToRooms(_,...$){await this.isConnected(),await this.requiresAuthorization("invite",j=>Promise.all($.map(et=>{const tt=this.store.getRoom(et);this.roomService.inviteToRoom(j,_,tt).catch(rt=>logger$5.warn("inviteToRooms",rt))})))}async joinRooms(..._){await this.isConnected(),await this.requiresAuthorization("join",$=>Promise.all(_.map(j=>{const et=this.store.getRoom(j);return this.roomService.joinRoom($,et)})))}async sendTextMessage(_,$){await this.isConnected(),await this.requiresAuthorization("send",async j=>{const et=await this.createTxnId();return this.eventService.sendMessage(j,_,{msgtype:"m.text",body:$},et)})}async poll(_,$,j){const et=this.store,tt=this.sync.bind(this),rt=async(nt,it)=>{let st=0;try{const ot=await tt();$(ot)}catch(ot){j(ot),st=et.get("pollingRetries"),this.isActive&&logger$5.log(`Retry syncing... ${st} retries so far`)}finally{this.isActive?setTimeout(async()=>{await rt(nt,it)},st>IMMEDIATE_POLLING_RETRIES?RETRY_INTERVAL+_:_):it(new Error("Syncing stopped manually."))}};return new Promise(rt)}async sync(){return this.requiresAuthorization("sync",async _=>this.eventService.sync(_,{pollingTimeout:this.store.get("pollingTimeout"),syncToken:this.store.get("syncToken")}))}async requiresAuthorization(_,$){const j=this.store.get("accessToken");return j?$(j):Promise.reject(`${_} requires authorization but no access token has been provided.`)}async createTxnId(){const _=new Date().getTime(),$=this.store.get("txnNo");return await this.store.update({txnNo:$+1}),`m${_}.${$}`}}const logger$4=new Logger("P2PCommunicationClient"),RESPONSE_WAIT_TIME_MS=1e3,REGIONS_AND_SERVERS={[Regions.EUROPE_WEST]:["beacon-node-1.diamond.papers.tech","beacon-node-1.sky.papers.tech","beacon-node-2.sky.papers.tech","beacon-node-1.hope.papers.tech","beacon-node-1.hope-2.papers.tech","beacon-node-1.hope-3.papers.tech","beacon-node-1.hope-4.papers.tech","beacon-node-1.hope-5.papers.tech"],[Regions.NORTH_AMERICA_EAST]:["beacon-node-1.beacon-server-1.papers.tech"],[Regions.NORTH_AMERICA_WEST]:["beacon-node-1.beacon-server-2.papers.tech"],[Regions.ASIA_EAST]:["beacon-node-1.beacon-server-3.papers.tech"],[Regions.AUSTRALIA]:["beacon-node-1.beacon-server-4.papers.tech"]},sleep$2=a=>new Promise(_=>setTimeout(_,a));class P2PCommunicationClient extends CommunicationClient{constructor($,j,et,tt,rt,nt,it){super(j);Xr(this,"name");Xr(this,"replicationCount");Xr(this,"storage");Xr(this,"iconUrl");Xr(this,"appUrl");Xr(this,"client",new ExposedPromise);Xr(this,"initialEvent");Xr(this,"initialListener");Xr(this,"selectedRegion");Xr(this,"ENABLED_RELAY_SERVERS");Xr(this,"relayServer");Xr(this,"activeListeners",new Map);Xr(this,"ignoredRooms",[]);Xr(this,"loginCounter",0);this.name=$,this.replicationCount=et,this.storage=tt,this.iconUrl=nt,this.appUrl=it,logger$4.log("constructor","P2PCommunicationClient created"),this.ENABLED_RELAY_SERVERS=REGIONS_AND_SERVERS,rt&&(this.ENABLED_RELAY_SERVERS={...REGIONS_AND_SERVERS,...rt})}async getPairingRequestInfo(){const $=new P2PPairingRequest(await generateGUID(),this.name,await this.getPublicKey(),BEACON_VERSION,(await this.getRelayServer()).server);return this.iconUrl&&($.icon=this.iconUrl),this.appUrl&&($.appUrl=this.appUrl),$}async getPairingResponseInfo($){const j=new P2PPairingResponse($.id,this.name,await this.getPublicKey(),$.version,(await this.getRelayServer()).server);return this.iconUrl&&(j.icon=this.iconUrl),this.appUrl&&(j.appUrl=this.appUrl),j}async findBestRegionAndGetServer(){var st;if(this.selectedRegion)return(st=this.relayServer)==null?void 0:st.promiseResult;const $=Object.keys(this.ENABLED_RELAY_SERVERS),j=[],et=new ExposedPromise;let tt=0;const rt=new ExposedPromise;$.forEach(ot=>{const at=this.ENABLED_RELAY_SERVERS[ot]??[];if(at.length===0)return;tt+=2;const ut=(wt=!0)=>{const Ct=Date.now();Promise.race([this.getBeaconInfo(yt),rt.promise]).then(Pt=>{typeof Pt!="boolean"&&(j.push({time:Date.now()-Ct,server:yt,region:ot,result:Pt}),j.length>=tt&&et.resolve(void 0),wt||ut(!0))})},ht=Math.floor(Math.random()*at.length),yt=at[ht];ut(!1)}),await Promise.race([et.promise,sleep$2(RESPONSE_WAIT_TIME_MS)]);let nt=0;for(;j.length<=0;){if(nt>=100)throw new Error("No server responded.");await sleep$2(50),nt++}rt.resolve(!0);const it=j.reduce((ot,at)=>ot.time<at.time?ot:at);return this.selectedRegion=it.region,{server:it.server,timestamp:it.result.timestamp}}async getRelayServer(){if(this.relayServer){const et=await this.relayServer.promise;if(Date.now()-et.localTimestamp<60*1e3)return{server:et.server,timestamp:et.timestamp};const tt=await this.getBeaconInfo(et.server);return this.relayServer.resolve({server:et.server,timestamp:tt.timestamp,localTimestamp:new Date().getTime()}),{server:et.server,timestamp:tt.timestamp}}else this.relayServer=new ExposedPromise;const $=await this.storage.get(StorageKey.MATRIX_SELECTED_NODE);if($&&$.length>0){const et=await this.getBeaconInfo($);return this.relayServer.resolve({server:$,timestamp:et.timestamp,localTimestamp:new Date().getTime()}),{server:$,timestamp:et.timestamp}}const j=await this.findBestRegionAndGetServer();if(!j)throw new Error("No servers found");return this.storage.set(StorageKey.MATRIX_SELECTED_NODE,j.server).catch(et=>logger$4.log(et)),this.relayServer.resolve({server:j.server,timestamp:j.timestamp,localTimestamp:new Date().getTime()}),{server:j.server,timestamp:j.timestamp}}async getBeaconInfo($){return axios$1.get(`https://${$}/_synapse/client/beacon/info`).then(j=>({region:j.data.region,known_servers:j.data.known_servers,timestamp:Math.floor(j.data.timestamp)}))}async tryJoinRooms($,j=1){try{await(await this.client.promise).joinRooms($)}catch(et){j<=10&&et.errcode==="M_FORBIDDEN"?(logger$4.log("Retrying to join...",et),setTimeout(async()=>{await this.tryJoinRooms($,j+1)},200)):logger$4.log(`Failed to join after ${j} tries.`,et)}}async start(){logger$4.log("start","starting client"),logger$4.log("start","connecting to server");const $=await this.getRelayServer(),j=MatrixClient.create({baseUrl:`https://${$.server}`,storage:this.storage});if(this.initialListener=async st=>{this.initialEvent&&this.initialEvent.timestamp&&st&&st.timestamp?this.initialEvent.timestamp<st.timestamp&&(this.initialEvent=st):this.initialEvent=st},j.subscribe(MatrixClientEventType.MESSAGE,this.initialListener),j.subscribe(MatrixClientEventType.INVITE,async st=>{let ot;st.content.members.length===1&&(ot=st.content.members[0]),await this.tryJoinRooms(st.content.roomId),ot&&(await this.updateRelayServer(ot),await this.updatePeerRoom(ot,st.content.roomId))}),!$.timestamp)throw new Error("No timestamp received from relay server");const et=Math.floor($.timestamp),tt=`login:${Math.floor(et/(5*60))}`;logger$4.log("start",`login ${tt}, ${await this.getPublicKeyHash()} on ${$.server}`);const rt=blake2b$1.hash(encode_1(tt),32),nt=this.keyPair.secretKey??this.keyPair.privateKey,it=ed25519.sign(nt,rt);try{await j.start({id:await this.getPublicKeyHash(),password:`ed:${toHex$1(it)}:${await this.getPublicKey()}`,deviceId:toHex$1(this.keyPair.publicKey)})}catch{if(logger$4.error("start","Could not log in, retrying"),await this.reset(),!this.selectedRegion)throw new Error("No region selected.");if(this.loginCounter<=(this.ENABLED_RELAY_SERVERS[this.selectedRegion]??[]).length){this.loginCounter++,this.start();return}else throw logger$4.error("start","Tried to log in to every known beacon node, but no login was successful."),new Error("Could not connect to any beacon nodes. Try again later.")}logger$4.log("start","login successful, client is ready"),this.client.resolve(j)}async stop(){logger$4.log("stop","stopping client"),this.client.isResolved()&&await(await this.client.promise).stop().catch($=>logger$4.error($)),await this.reset()}async reset(){logger$4.log("reset","resetting connection"),await this.storage.delete(StorageKey.MATRIX_PEER_ROOM_IDS).catch($=>logger$4.log($)),await this.storage.delete(StorageKey.MATRIX_PRESERVED_STATE).catch($=>logger$4.log($)),await this.storage.delete(StorageKey.MATRIX_SELECTED_NODE).catch($=>logger$4.log($)),this.relayServer=void 0,this.client=new ExposedPromise,this.initialEvent=void 0,this.initialListener=void 0}async listenForEncryptedMessage($,j){if(this.activeListeners.has($))return;logger$4.log("listenForEncryptedMessage",`start listening for encrypted messages from publicKey ${$}`);const et=await this.createCryptoBoxServer($,this.keyPair),tt=async it=>{if(this.isTextMessage(it.content)&&await this.isSender(it,$)){let st;await this.updateRelayServer(it.content.message.sender),await this.updatePeerRoom(it.content.message.sender,it.content.roomId);try{st=Buffer$g.from(it.content.message.content,"hex")}catch{}if(st&&st.length>=secretbox_NONCEBYTES+secretbox_MACBYTES)try{const ot=await decryptCryptoboxPayload(st,et.receive);logger$4.log("listenForEncryptedMessage",`received a message from ${$}`,ot),j(ot)}catch{}}};this.activeListeners.set($,tt),(await this.client.promise).subscribe(MatrixClientEventType.MESSAGE,tt);const rt=this.initialEvent;rt&&rt.timestamp&&new Date().getTime()-rt.timestamp<5*60*1e3?(logger$4.log("listenForEncryptedMessage","Handling previous event"),await tt(rt)):logger$4.log("listenForEncryptedMessage","No previous event found");const nt=this.initialListener;nt&&(await this.client.promise).unsubscribe(MatrixClientEventType.MESSAGE,nt),this.initialListener=void 0,this.initialEvent=void 0}async unsubscribeFromEncryptedMessage($){const j=this.activeListeners.get($);j&&((await this.client.promise).unsubscribe(MatrixClientEventType.MESSAGE,j),this.activeListeners.delete($))}async unsubscribeFromEncryptedMessages(){(await this.client.promise).unsubscribeAll(MatrixClientEventType.MESSAGE),this.activeListeners.clear()}async sendMessage($,j){const et=await this.createCryptoBoxClient(j.publicKey,this.keyPair),tt=await getHexHash(Buffer$g.from(j.publicKey,"hex")),rt=recipientString(tt,j.relayServer),nt=await this.getRelevantRoom(rt);await this.waitForJoin(nt);const it=await encryptCryptoboxPayload($,et.send);logger$4.log("sendMessage","sending encrypted message",j.publicKey,nt,$),(await this.client.promise).sendTextMessage(nt,it).catch(async st=>{if(st.errcode==="M_FORBIDDEN"){logger$4.log("sendMessage","M_FORBIDDEN",nt,st),await this.deleteRoomIdFromRooms(nt);const ot=await this.getRelevantRoom(rt);logger$4.log("sendMessage","Old room deleted, new room created",ot),(await this.client.promise).sendTextMessage(ot,it).catch(async at=>{logger$4.log("sendMessage","inner error",ot,at)})}else logger$4.log("sendMessage","unexpected error",st)})}async updatePeerRoom($,j){logger$4.log("updatePeerRoom",$,j);const et=$.split(":");if(et.length<2||!et[0].startsWith("@"))throw new Error("Invalid sender");const tt=await this.storage.get(StorageKey.MATRIX_PEER_ROOM_IDS),rt=tt[$];rt===j&&logger$4.debug("updatePeerRoom","rooms are the same, not updating"),logger$4.debug("updatePeerRoom","current room",rt,"new room",j),rt&&rt[1]&&(logger$4.log("updatePeerRoom",`adding room "${rt[1]}" to ignored array`),this.ignoredRooms.push(rt[1])),tt[$]=j,await this.storage.set(StorageKey.MATRIX_PEER_ROOM_IDS,tt)}async deleteRoomIdFromRooms($){const j=await this.storage.get(StorageKey.MATRIX_PEER_ROOM_IDS),et=Object.entries(j).filter(tt=>tt[1]!==$).reduce((tt,rt)=>({...tt,[rt[0]]:rt[1]}),{});await this.storage.set(StorageKey.MATRIX_PEER_ROOM_IDS,et),this.ignoredRooms.push($)}async listenForChannelOpening($){logger$4.debug("listenForChannelOpening"),(await this.client.promise).subscribe(MatrixClientEventType.MESSAGE,async j=>{if(this.isTextMessage(j.content)&&await this.isChannelOpenMessage(j.content)){logger$4.log("listenForChannelOpening","channel opening received, trying to decrypt",JSON.stringify(j)),await this.updateRelayServer(j.content.message.sender),await this.updatePeerRoom(j.content.message.sender,j.content.roomId);const et=j.content.message.content.split(":"),tt=Buffer$g.from(et[et.length-1],"hex");if(tt.length>=secretbox_NONCEBYTES+secretbox_MACBYTES)try{const rt=JSON.parse(await openCryptobox(tt,this.keyPair.publicKey,this.keyPair.secretKey));logger$4.log("listenForChannelOpening","channel opening received and decrypted",JSON.stringify(rt)),$({...rt,senderId:await getSenderId(rt.publicKey)})}catch{}}})}async waitForJoin($,j=0){const et=await(await this.client.promise).getRoomById($);if(logger$4.log("waitForJoin",`Currently ${et.members.length} members, we need at least 2`),!(et.members.length>=2)){if(j<=200)return logger$4.log(`Waiting for join... Try: ${j}`),new Promise(tt=>{setTimeout(()=>{tt(this.waitForJoin($,j+1))},100*(j>50?10:1))});throw new Error(`No one joined after ${j} tries.`)}}async sendPairingResponse($){logger$4.log("sendPairingResponse");const j=await getHexHash(Buffer$g.from($.publicKey,"hex")),et=recipientString(j,$.relayServer),tt=await(await this.client.promise).createTrustedPrivateRoom(et);logger$4.debug("sendPairingResponse",`Connecting to room "${tt}"`),await this.updatePeerRoom(et,tt),await this.waitForJoin(tt),logger$4.debug("sendPairingResponse","Successfully joined room.");const rt=typeof $.version>"u"?await this.getPublicKey():JSON.stringify(await this.getPairingResponseInfo($));logger$4.debug("sendPairingResponse","Sending pairing response",rt);const nt=await this.encryptMessageAsymmetric($.publicKey,rt),it=["@channel-open",et,nt].join(":");(await this.client.promise).sendTextMessage(tt,it).catch(async st=>{if(st.errcode==="M_FORBIDDEN"){logger$4.log("sendPairingResponse","M_FORBIDDEN",tt,st),await this.deleteRoomIdFromRooms(tt);const ot=await this.getRelevantRoom(et);logger$4.log("sendPairingResponse","Old room deleted, new room created",ot),(await this.client.promise).sendTextMessage(ot,it).catch(async at=>{logger$4.log("sendPairingResponse","inner error",ot,at)})}else logger$4.log("sendPairingResponse","unexpected error",st)})}isTextMessage($){return $.message.type===MatrixMessageType.TEXT}async updateRelayServer($){logger$4.log("updateRelayServer",$);const j=$.split(":");if(j.length<2||!j[0].startsWith("@"))throw new Error("Invalid sender");const et=j.shift(),tt=j.join(":"),rt=localStorage.getItem("beacon:communication-peers-dapp")?new PeerManager(this.storage,StorageKey.TRANSPORT_P2P_PEERS_DAPP):new PeerManager(this.storage,StorageKey.TRANSPORT_P2P_PEERS_WALLET),it=(await rt.getPeers()).map(async st=>{`@${await getHexHash(Buffer$g.from(st.publicKey,"hex"))}`===et&&st.relayServer!==tt&&(st.relayServer=tt,await rt.addPeer(st))});await Promise.all(it)}async isChannelOpenMessage($){return $.message.content.startsWith(`@channel-open:@${await getHexHash(Buffer$g.from(await this.getPublicKey(),"hex"))}`)}async isSender($,j){return $.content.message.sender.startsWith(`@${await getHexHash(Buffer$g.from(j,"hex"))}`)}async getRelevantRoom($){const j=await this.storage.get(StorageKey.MATRIX_PEER_ROOM_IDS);let et=j[$];if(!et){logger$4.log("getRelevantRoom",`No room found for peer ${$}, checking joined ones.`);const tt=await this.getRelevantJoinedRoom($);et=tt.id,j[$]=tt.id,await this.storage.set(StorageKey.MATRIX_PEER_ROOM_IDS,j)}return logger$4.log("getRelevantRoom",`Using room ${et}`),et}async getRelevantJoinedRoom($){const j=await(await this.client.promise).joinedRooms;logger$4.log("checking joined rooms",j,$);const et=j.filter(rt=>!this.ignoredRooms.some(nt=>rt.id===nt)).filter(rt=>rt.members.some(nt=>nt===$));let tt;if(et.length===0||this.ignoredRooms.length>0){logger$4.log("getRelevantJoinedRoom","no relevant rooms found, creating new one");const rt=await(await this.client.promise).createTrustedPrivateRoom($);tt=await(await this.client.promise).getRoomById(rt),logger$4.log("getRelevantJoinedRoom",`waiting for other party to join room: ${tt.id}`),await this.waitForJoin(rt),logger$4.log("getRelevantJoinedRoom",`new room created and peer invited: ${tt.id}`)}else tt=et[0],logger$4.log("getRelevantJoinedRoom",`channel already open, reusing room ${tt.id}`);return tt}}const logger$3=new Logger("P2PTransport");class P2PTransport extends Transport$2{constructor($,j,et,tt,rt,nt,it){super($,new P2PCommunicationClient($,j,1,et,tt,nt,it),new PeerManager(et,rt));Xr(this,"type",TransportType.P2P)}static async isAvailable(){return Promise.resolve(!0)}async connect(){if(this._isConnected!==TransportStatus.NOT_CONNECTED)return;logger$3.log("connect"),this._isConnected=TransportStatus.CONNECTING,await this.client.start();const $=await this.getPeers();if($.length>0){logger$3.log("connect",`connecting to ${$.length} peers`);const j=$.map(async et=>this.listen(et.publicKey));Promise.all(j).catch(et=>logger$3.error("connect",et))}return await this.startOpenChannelListener(),super.connect()}async disconnect(){return await this.client.stop(),super.disconnect()}async startOpenChannelListener(){}async getPairingRequestInfo(){return this.client.getPairingRequestInfo()}async listen($){await this.client.listenForEncryptedMessage($,j=>{const et={origin:Origin.P2P,id:$};this.notifyListeners(j,et).catch(tt=>{throw tt})}).catch(j=>{throw j})}}function bind$1(a,_){return function(){return a.apply(_,arguments)}}const{toString:toString$3}=Object.prototype,{getPrototypeOf:getPrototypeOf$2}=Object,kindOf=(a=>_=>{const $=toString$3.call(_);return a[$]||(a[$]=$.slice(8,-1).toLowerCase())})(Object.create(null)),kindOfTest=a=>(a=a.toLowerCase(),_=>kindOf(_)===a),typeOfTest=a=>_=>typeof _===a,{isArray:isArray$3}=Array,isUndefined=typeOfTest("undefined");function isBuffer$1(a){return a!==null&&!isUndefined(a)&&a.constructor!==null&&!isUndefined(a.constructor)&&isFunction$2(a.constructor.isBuffer)&&a.constructor.isBuffer(a)}const isArrayBuffer=kindOfTest("ArrayBuffer");function isArrayBufferView(a){let _;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?_=ArrayBuffer.isView(a):_=a&&a.buffer&&isArrayBuffer(a.buffer),_}const isString$1=typeOfTest("string"),isFunction$2=typeOfTest("function"),isNumber=typeOfTest("number"),isObject$2=a=>a!==null&&typeof a=="object",isBoolean$1=a=>a===!0||a===!1,isPlainObject$3=a=>{if(kindOf(a)!=="object")return!1;const _=getPrototypeOf$2(a);return(_===null||_===Object.prototype||Object.getPrototypeOf(_)===null)&&!(Symbol.toStringTag in a)&&!(Symbol.iterator in a)},isDate$1=kindOfTest("Date"),isFile=kindOfTest("File"),isBlob=kindOfTest("Blob"),isFileList=kindOfTest("FileList"),isStream=a=>isObject$2(a)&&isFunction$2(a.pipe),isFormData=a=>{let _;return a&&(typeof FormData=="function"&&a instanceof FormData||isFunction$2(a.append)&&((_=kindOf(a))==="formdata"||_==="object"&&isFunction$2(a.toString)&&a.toString()==="[object FormData]"))},isURLSearchParams=kindOfTest("URLSearchParams"),trim$1=a=>a.trim?a.trim():a.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function forEach(a,_,{allOwnKeys:$=!1}={}){if(a===null||typeof a>"u")return;let j,et;if(typeof a!="object"&&(a=[a]),isArray$3(a))for(j=0,et=a.length;j<et;j++)_.call(null,a[j],j,a);else{const tt=$?Object.getOwnPropertyNames(a):Object.keys(a),rt=tt.length;let nt;for(j=0;j<rt;j++)nt=tt[j],_.call(null,a[nt],nt,a)}}function findKey$1(a,_){_=_.toLowerCase();const $=Object.keys(a);let j=$.length,et;for(;j-- >0;)if(et=$[j],_===et.toLowerCase())return et;return null}const _global=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global$1,isContextDefined=a=>!isUndefined(a)&&a!==_global;function merge(){const{caseless:a}=isContextDefined(this)&&this||{},_={},$=(j,et)=>{const tt=a&&findKey$1(_,et)||et;isPlainObject$3(_[tt])&&isPlainObject$3(j)?_[tt]=merge(_[tt],j):isPlainObject$3(j)?_[tt]=merge({},j):isArray$3(j)?_[tt]=j.slice():_[tt]=j};for(let j=0,et=arguments.length;j<et;j++)arguments[j]&&forEach(arguments[j],$);return _}const extend=(a,_,$,{allOwnKeys:j}={})=>(forEach(_,(et,tt)=>{$&&isFunction$2(et)?a[tt]=bind$1(et,$):a[tt]=et},{allOwnKeys:j}),a),stripBOM=a=>(a.charCodeAt(0)===65279&&(a=a.slice(1)),a),inherits$3=(a,_,$,j)=>{a.prototype=Object.create(_.prototype,j),a.prototype.constructor=a,Object.defineProperty(a,"super",{value:_.prototype}),$&&Object.assign(a.prototype,$)},toFlatObject=(a,_,$,j)=>{let et,tt,rt;const nt={};if(_=_||{},a==null)return _;do{for(et=Object.getOwnPropertyNames(a),tt=et.length;tt-- >0;)rt=et[tt],(!j||j(rt,a,_))&&!nt[rt]&&(_[rt]=a[rt],nt[rt]=!0);a=$!==!1&&getPrototypeOf$2(a)}while(a&&(!$||$(a,_))&&a!==Object.prototype);return _},endsWith=(a,_,$)=>{a=String(a),($===void 0||$>a.length)&&($=a.length),$-=_.length;const j=a.indexOf(_,$);return j!==-1&&j===$},toArray$1=a=>{if(!a)return null;if(isArray$3(a))return a;let _=a.length;if(!isNumber(_))return null;const $=new Array(_);for(;_-- >0;)$[_]=a[_];return $},isTypedArray=(a=>_=>a&&_ instanceof a)(typeof Uint8Array<"u"&&getPrototypeOf$2(Uint8Array)),forEachEntry=(a,_)=>{const j=(a&&a[Symbol.iterator]).call(a);let et;for(;(et=j.next())&&!et.done;){const tt=et.value;_.call(a,tt[0],tt[1])}},matchAll=(a,_)=>{let $;const j=[];for(;($=a.exec(_))!==null;)j.push($);return j},isHTMLForm=kindOfTest("HTMLFormElement"),toCamelCase=a=>a.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function($,j,et){return j.toUpperCase()+et}),hasOwnProperty=(({hasOwnProperty:a})=>(_,$)=>a.call(_,$))(Object.prototype),isRegExp=kindOfTest("RegExp"),reduceDescriptors=(a,_)=>{const $=Object.getOwnPropertyDescriptors(a),j={};forEach($,(et,tt)=>{let rt;(rt=_(et,tt,a))!==!1&&(j[tt]=rt||et)}),Object.defineProperties(a,j)},freezeMethods=a=>{reduceDescriptors(a,(_,$)=>{if(isFunction$2(a)&&["arguments","caller","callee"].indexOf($)!==-1)return!1;const j=a[$];if(isFunction$2(j)){if(_.enumerable=!1,"writable"in _){_.writable=!1;return}_.set||(_.set=()=>{throw Error("Can not rewrite read-only method '"+$+"'")})}})},toObjectSet=(a,_)=>{const $={},j=et=>{et.forEach(tt=>{$[tt]=!0})};return isArray$3(a)?j(a):j(String(a).split(_)),$},noop$6=()=>{},toFiniteNumber=(a,_)=>(a=+a,Number.isFinite(a)?a:_),ALPHA="abcdefghijklmnopqrstuvwxyz",DIGIT="0123456789",ALPHABET$1={DIGIT,ALPHA,ALPHA_DIGIT:ALPHA+ALPHA.toUpperCase()+DIGIT},generateString=(a=16,_=ALPHABET$1.ALPHA_DIGIT)=>{let $="";const{length:j}=_;for(;a--;)$+=_[Math.random()*j|0];return $};function isSpecCompliantForm(a){return!!(a&&isFunction$2(a.append)&&a[Symbol.toStringTag]==="FormData"&&a[Symbol.iterator])}const toJSONObject=a=>{const _=new Array(10),$=(j,et)=>{if(isObject$2(j)){if(_.indexOf(j)>=0)return;if(!("toJSON"in j)){_[et]=j;const tt=isArray$3(j)?[]:{};return forEach(j,(rt,nt)=>{const it=$(rt,et+1);!isUndefined(it)&&(tt[nt]=it)}),_[et]=void 0,tt}}return j};return $(a,0)},isAsyncFn=kindOfTest("AsyncFunction"),isThenable$1=a=>a&&(isObject$2(a)||isFunction$2(a))&&isFunction$2(a.then)&&isFunction$2(a.catch),utils$g={isArray:isArray$3,isArrayBuffer,isBuffer:isBuffer$1,isFormData,isArrayBufferView,isString:isString$1,isNumber,isBoolean:isBoolean$1,isObject:isObject$2,isPlainObject:isPlainObject$3,isUndefined,isDate:isDate$1,isFile,isBlob,isRegExp,isFunction:isFunction$2,isStream,isURLSearchParams,isTypedArray,isFileList,forEach,merge,extend,trim:trim$1,stripBOM,inherits:inherits$3,toFlatObject,kindOf,kindOfTest,endsWith,toArray:toArray$1,forEachEntry,matchAll,isHTMLForm,hasOwnProperty,hasOwnProp:hasOwnProperty,reduceDescriptors,freezeMethods,toObjectSet,toCamelCase,noop:noop$6,toFiniteNumber,findKey:findKey$1,global:_global,isContextDefined,ALPHABET:ALPHABET$1,generateString,isSpecCompliantForm,toJSONObject,isAsyncFn,isThenable:isThenable$1};function AxiosError(a,_,$,j,et){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=a,this.name="AxiosError",_&&(this.code=_),$&&(this.config=$),j&&(this.request=j),et&&(this.response=et)}utils$g.inherits(AxiosError,Error,{toJSON:function a(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:utils$g.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const prototype$1=AxiosError.prototype,descriptors={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(a=>{descriptors[a]={value:a}});Object.defineProperties(AxiosError,descriptors);Object.defineProperty(prototype$1,"isAxiosError",{value:!0});AxiosError.from=(a,_,$,j,et,tt)=>{const rt=Object.create(prototype$1);return utils$g.toFlatObject(a,rt,function(it){return it!==Error.prototype},nt=>nt!=="isAxiosError"),AxiosError.call(rt,a.message,_,$,j,et),rt.cause=a,rt.name=a.name,tt&&Object.assign(rt,tt),rt};const httpAdapter=null;function isVisitable(a){return utils$g.isPlainObject(a)||utils$g.isArray(a)}function removeBrackets(a){return utils$g.endsWith(a,"[]")?a.slice(0,-2):a}function renderKey(a,_,$){return a?a.concat(_).map(function(et,tt){return et=removeBrackets(et),!$&&tt?"["+et+"]":et}).join($?".":""):_}function isFlatArray(a){return utils$g.isArray(a)&&!a.some(isVisitable)}const predicates=utils$g.toFlatObject(utils$g,{},null,function a(_){return/^is[A-Z]/.test(_)});function toFormData(a,_,$){if(!utils$g.isObject(a))throw new TypeError("target must be an object");_=_||new FormData,$=utils$g.toFlatObject($,{metaTokens:!0,dots:!1,indexes:!1},!1,function(wt,Ct){return!utils$g.isUndefined(Ct[wt])});const j=$.metaTokens,et=$.visitor||ot,tt=$.dots,rt=$.indexes,it=($.Blob||typeof Blob<"u"&&Blob)&&utils$g.isSpecCompliantForm(_);if(!utils$g.isFunction(et))throw new TypeError("visitor must be a function");function st(yt){if(yt===null)return"";if(utils$g.isDate(yt))return yt.toISOString();if(!it&&utils$g.isBlob(yt))throw new AxiosError("Blob is not supported. Use a Buffer instead.");return utils$g.isArrayBuffer(yt)||utils$g.isTypedArray(yt)?it&&typeof Blob=="function"?new Blob([yt]):Buffer$g.from(yt):yt}function ot(yt,wt,Ct){let Pt=yt;if(yt&&!Ct&&typeof yt=="object"){if(utils$g.endsWith(wt,"{}"))wt=j?wt:wt.slice(0,-2),yt=JSON.stringify(yt);else if(utils$g.isArray(yt)&&isFlatArray(yt)||(utils$g.isFileList(yt)||utils$g.endsWith(wt,"[]"))&&(Pt=utils$g.toArray(yt)))return wt=removeBrackets(wt),Pt.forEach(function(Mt,Lt){!(utils$g.isUndefined(Mt)||Mt===null)&&_.append(rt===!0?renderKey([wt],Lt,tt):rt===null?wt:wt+"[]",st(Mt))}),!1}return isVisitable(yt)?!0:(_.append(renderKey(Ct,wt,tt),st(yt)),!1)}const at=[],ut=Object.assign(predicates,{defaultVisitor:ot,convertValue:st,isVisitable});function ht(yt,wt){if(!utils$g.isUndefined(yt)){if(at.indexOf(yt)!==-1)throw Error("Circular reference detected in "+wt.join("."));at.push(yt),utils$g.forEach(yt,function(Pt,Tt){(!(utils$g.isUndefined(Pt)||Pt===null)&&et.call(_,Pt,utils$g.isString(Tt)?Tt.trim():Tt,wt,ut))===!0&&ht(Pt,wt?wt.concat(Tt):[Tt])}),at.pop()}}if(!utils$g.isObject(a))throw new TypeError("data must be an object");return ht(a),_}function encode$4(a){const _={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(a).replace(/[!'()~]|%20|%00/g,function(j){return _[j]})}function AxiosURLSearchParams(a,_){this._pairs=[],a&&toFormData(a,this,_)}const prototype=AxiosURLSearchParams.prototype;prototype.append=function a(_,$){this._pairs.push([_,$])};prototype.toString=function a(_){const $=_?function(j){return _.call(this,j,encode$4)}:encode$4;return this._pairs.map(function(et){return $(et[0])+"="+$(et[1])},"").join("&")};function encode$3(a){return encodeURIComponent(a).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function buildURL(a,_,$){if(!_)return a;const j=$&&$.encode||encode$3,et=$&&$.serialize;let tt;if(et?tt=et(_,$):tt=utils$g.isURLSearchParams(_)?_.toString():new AxiosURLSearchParams(_,$).toString(j),tt){const rt=a.indexOf("#");rt!==-1&&(a=a.slice(0,rt)),a+=(a.indexOf("?")===-1?"?":"&")+tt}return a}class InterceptorManager{constructor(){this.handlers=[]}use(_,$,j){return this.handlers.push({fulfilled:_,rejected:$,synchronous:j?j.synchronous:!1,runWhen:j?j.runWhen:null}),this.handlers.length-1}eject(_){this.handlers[_]&&(this.handlers[_]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(_){utils$g.forEach(this.handlers,function(j){j!==null&&_(j)})}}const transitionalDefaults={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},URLSearchParams$1=typeof URLSearchParams<"u"?URLSearchParams:AxiosURLSearchParams,FormData$1=typeof FormData<"u"?FormData:null,Blob$1=typeof Blob<"u"?Blob:null,platform$1={isBrowser:!0,classes:{URLSearchParams:URLSearchParams$1,FormData:FormData$1,Blob:Blob$1},protocols:["http","https","file","blob","url","data"]},hasBrowserEnv=typeof window<"u"&&typeof document<"u",hasStandardBrowserEnv=(a=>hasBrowserEnv&&["ReactNative","NativeScript","NS"].indexOf(a)<0)(typeof navigator<"u"&&navigator.product),hasStandardBrowserWebWorkerEnv=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",utils$f=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv,hasStandardBrowserEnv,hasStandardBrowserWebWorkerEnv},Symbol.toStringTag,{value:"Module"})),platform={...utils$f,...platform$1};function toURLEncodedForm(a,_){return toFormData(a,new platform.classes.URLSearchParams,Object.assign({visitor:function($,j,et,tt){return platform.isNode&&utils$g.isBuffer($)?(this.append(j,$.toString("base64")),!1):tt.defaultVisitor.apply(this,arguments)}},_))}function parsePropPath(a){return utils$g.matchAll(/\w+|\[(\w*)]/g,a).map(_=>_[0]==="[]"?"":_[1]||_[0])}function arrayToObject(a){const _={},$=Object.keys(a);let j;const et=$.length;let tt;for(j=0;j<et;j++)tt=$[j],_[tt]=a[tt];return _}function formDataToJSON(a){function _($,j,et,tt){let rt=$[tt++];if(rt==="__proto__")return!0;const nt=Number.isFinite(+rt),it=tt>=$.length;return rt=!rt&&utils$g.isArray(et)?et.length:rt,it?(utils$g.hasOwnProp(et,rt)?et[rt]=[et[rt],j]:et[rt]=j,!nt):((!et[rt]||!utils$g.isObject(et[rt]))&&(et[rt]=[]),_($,j,et[rt],tt)&&utils$g.isArray(et[rt])&&(et[rt]=arrayToObject(et[rt])),!nt)}if(utils$g.isFormData(a)&&utils$g.isFunction(a.entries)){const $={};return utils$g.forEachEntry(a,(j,et)=>{_(parsePropPath(j),et,$,0)}),$}return null}function stringifySafely(a,_,$){if(utils$g.isString(a))try{return(_||JSON.parse)(a),utils$g.trim(a)}catch(j){if(j.name!=="SyntaxError")throw j}return($||JSON.stringify)(a)}const defaults$1={transitional:transitionalDefaults,adapter:["xhr","http"],transformRequest:[function a(_,$){const j=$.getContentType()||"",et=j.indexOf("application/json")>-1,tt=utils$g.isObject(_);if(tt&&utils$g.isHTMLForm(_)&&(_=new FormData(_)),utils$g.isFormData(_))return et?JSON.stringify(formDataToJSON(_)):_;if(utils$g.isArrayBuffer(_)||utils$g.isBuffer(_)||utils$g.isStream(_)||utils$g.isFile(_)||utils$g.isBlob(_))return _;if(utils$g.isArrayBufferView(_))return _.buffer;if(utils$g.isURLSearchParams(_))return $.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),_.toString();let nt;if(tt){if(j.indexOf("application/x-www-form-urlencoded")>-1)return toURLEncodedForm(_,this.formSerializer).toString();if((nt=utils$g.isFileList(_))||j.indexOf("multipart/form-data")>-1){const it=this.env&&this.env.FormData;return toFormData(nt?{"files[]":_}:_,it&&new it,this.formSerializer)}}return tt||et?($.setContentType("application/json",!1),stringifySafely(_)):_}],transformResponse:[function a(_){const $=this.transitional||defaults$1.transitional,j=$&&$.forcedJSONParsing,et=this.responseType==="json";if(_&&utils$g.isString(_)&&(j&&!this.responseType||et)){const rt=!($&&$.silentJSONParsing)&&et;try{return JSON.parse(_)}catch(nt){if(rt)throw nt.name==="SyntaxError"?AxiosError.from(nt,AxiosError.ERR_BAD_RESPONSE,this,null,this.response):nt}}return _}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:platform.classes.FormData,Blob:platform.classes.Blob},validateStatus:function a(_){return _>=200&&_<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};utils$g.forEach(["delete","get","head","post","put","patch"],a=>{defaults$1.headers[a]={}});const ignoreDuplicateOf=utils$g.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),parseHeaders=a=>{const _={};let $,j,et;return a&&a.split(`
`).forEach(function(rt){et=rt.indexOf(":"),$=rt.substring(0,et).trim().toLowerCase(),j=rt.substring(et+1).trim(),!(!$||_[$]&&ignoreDuplicateOf[$])&&($==="set-cookie"?_[$]?_[$].push(j):_[$]=[j]:_[$]=_[$]?_[$]+", "+j:j)}),_},$internals=Symbol("internals");function normalizeHeader(a){return a&&String(a).trim().toLowerCase()}function normalizeValue(a){return a===!1||a==null?a:utils$g.isArray(a)?a.map(normalizeValue):String(a)}function parseTokens(a){const _=Object.create(null),$=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let j;for(;j=$.exec(a);)_[j[1]]=j[2];return _}const isValidHeaderName=a=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(a.trim());function matchHeaderValue(a,_,$,j,et){if(utils$g.isFunction(j))return j.call(this,_,$);if(et&&(_=$),!!utils$g.isString(_)){if(utils$g.isString(j))return _.indexOf(j)!==-1;if(utils$g.isRegExp(j))return j.test(_)}}function formatHeader(a){return a.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(_,$,j)=>$.toUpperCase()+j)}function buildAccessors(a,_){const $=utils$g.toCamelCase(" "+_);["get","set","has"].forEach(j=>{Object.defineProperty(a,j+$,{value:function(et,tt,rt){return this[j].call(this,_,et,tt,rt)},configurable:!0})})}class AxiosHeaders{constructor(_){_&&this.set(_)}set(_,$,j){const et=this;function tt(nt,it,st){const ot=normalizeHeader(it);if(!ot)throw new Error("header name must be a non-empty string");const at=utils$g.findKey(et,ot);(!at||et[at]===void 0||st===!0||st===void 0&&et[at]!==!1)&&(et[at||it]=normalizeValue(nt))}const rt=(nt,it)=>utils$g.forEach(nt,(st,ot)=>tt(st,ot,it));return utils$g.isPlainObject(_)||_ instanceof this.constructor?rt(_,$):utils$g.isString(_)&&(_=_.trim())&&!isValidHeaderName(_)?rt(parseHeaders(_),$):_!=null&&tt($,_,j),this}get(_,$){if(_=normalizeHeader(_),_){const j=utils$g.findKey(this,_);if(j){const et=this[j];if(!$)return et;if($===!0)return parseTokens(et);if(utils$g.isFunction($))return $.call(this,et,j);if(utils$g.isRegExp($))return $.exec(et);throw new TypeError("parser must be boolean|regexp|function")}}}has(_,$){if(_=normalizeHeader(_),_){const j=utils$g.findKey(this,_);return!!(j&&this[j]!==void 0&&(!$||matchHeaderValue(this,this[j],j,$)))}return!1}delete(_,$){const j=this;let et=!1;function tt(rt){if(rt=normalizeHeader(rt),rt){const nt=utils$g.findKey(j,rt);nt&&(!$||matchHeaderValue(j,j[nt],nt,$))&&(delete j[nt],et=!0)}}return utils$g.isArray(_)?_.forEach(tt):tt(_),et}clear(_){const $=Object.keys(this);let j=$.length,et=!1;for(;j--;){const tt=$[j];(!_||matchHeaderValue(this,this[tt],tt,_,!0))&&(delete this[tt],et=!0)}return et}normalize(_){const $=this,j={};return utils$g.forEach(this,(et,tt)=>{const rt=utils$g.findKey(j,tt);if(rt){$[rt]=normalizeValue(et),delete $[tt];return}const nt=_?formatHeader(tt):String(tt).trim();nt!==tt&&delete $[tt],$[nt]=normalizeValue(et),j[nt]=!0}),this}concat(..._){return this.constructor.concat(this,..._)}toJSON(_){const $=Object.create(null);return utils$g.forEach(this,(j,et)=>{j!=null&&j!==!1&&($[et]=_&&utils$g.isArray(j)?j.join(", "):j)}),$}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([_,$])=>_+": "+$).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(_){return _ instanceof this?_:new this(_)}static concat(_,...$){const j=new this(_);return $.forEach(et=>j.set(et)),j}static accessor(_){const j=(this[$internals]=this[$internals]={accessors:{}}).accessors,et=this.prototype;function tt(rt){const nt=normalizeHeader(rt);j[nt]||(buildAccessors(et,rt),j[nt]=!0)}return utils$g.isArray(_)?_.forEach(tt):tt(_),this}}AxiosHeaders.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);utils$g.reduceDescriptors(AxiosHeaders.prototype,({value:a},_)=>{let $=_[0].toUpperCase()+_.slice(1);return{get:()=>a,set(j){this[$]=j}}});utils$g.freezeMethods(AxiosHeaders);function transformData(a,_){const $=this||defaults$1,j=_||$,et=AxiosHeaders.from(j.headers);let tt=j.data;return utils$g.forEach(a,function(nt){tt=nt.call($,tt,et.normalize(),_?_.status:void 0)}),et.normalize(),tt}function isCancel(a){return!!(a&&a.__CANCEL__)}function CanceledError(a,_,$){AxiosError.call(this,a??"canceled",AxiosError.ERR_CANCELED,_,$),this.name="CanceledError"}utils$g.inherits(CanceledError,AxiosError,{__CANCEL__:!0});function settle(a,_,$){const j=$.config.validateStatus;!$.status||!j||j($.status)?a($):_(new AxiosError("Request failed with status code "+$.status,[AxiosError.ERR_BAD_REQUEST,AxiosError.ERR_BAD_RESPONSE][Math.floor($.status/100)-4],$.config,$.request,$))}const cookies=platform.hasStandardBrowserEnv?{write(a,_,$,j,et,tt){const rt=[a+"="+encodeURIComponent(_)];utils$g.isNumber($)&&rt.push("expires="+new Date($).toGMTString()),utils$g.isString(j)&&rt.push("path="+j),utils$g.isString(et)&&rt.push("domain="+et),tt===!0&&rt.push("secure"),document.cookie=rt.join("; ")},read(a){const _=document.cookie.match(new RegExp("(^|;\\s*)("+a+")=([^;]*)"));return _?decodeURIComponent(_[3]):null},remove(a){this.write(a,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function isAbsoluteURL(a){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(a)}function combineURLs(a,_){return _?a.replace(/\/?\/$/,"")+"/"+_.replace(/^\/+/,""):a}function buildFullPath(a,_){return a&&!isAbsoluteURL(_)?combineURLs(a,_):_}const isURLSameOrigin=platform.hasStandardBrowserEnv?function a(){const _=/(msie|trident)/i.test(navigator.userAgent),$=document.createElement("a");let j;function et(tt){let rt=tt;return _&&($.setAttribute("href",rt),rt=$.href),$.setAttribute("href",rt),{href:$.href,protocol:$.protocol?$.protocol.replace(/:$/,""):"",host:$.host,search:$.search?$.search.replace(/^\?/,""):"",hash:$.hash?$.hash.replace(/^#/,""):"",hostname:$.hostname,port:$.port,pathname:$.pathname.charAt(0)==="/"?$.pathname:"/"+$.pathname}}return j=et(window.location.href),function(rt){const nt=utils$g.isString(rt)?et(rt):rt;return nt.protocol===j.protocol&&nt.host===j.host}}():function a(){return function(){return!0}}();function parseProtocol(a){const _=/^([-+\w]{1,25})(:?\/\/|:)/.exec(a);return _&&_[1]||""}function speedometer(a,_){a=a||10;const $=new Array(a),j=new Array(a);let et=0,tt=0,rt;return _=_!==void 0?_:1e3,function(it){const st=Date.now(),ot=j[tt];rt||(rt=st),$[et]=it,j[et]=st;let at=tt,ut=0;for(;at!==et;)ut+=$[at++],at=at%a;if(et=(et+1)%a,et===tt&&(tt=(tt+1)%a),st-rt<_)return;const ht=ot&&st-ot;return ht?Math.round(ut*1e3/ht):void 0}}function progressEventReducer(a,_){let $=0;const j=speedometer(50,250);return et=>{const tt=et.loaded,rt=et.lengthComputable?et.total:void 0,nt=tt-$,it=j(nt),st=tt<=rt;$=tt;const ot={loaded:tt,total:rt,progress:rt?tt/rt:void 0,bytes:nt,rate:it||void 0,estimated:it&&rt&&st?(rt-tt)/it:void 0,event:et};ot[_?"download":"upload"]=!0,a(ot)}}const isXHRAdapterSupported=typeof XMLHttpRequest<"u",xhrAdapter=isXHRAdapterSupported&&function(a){return new Promise(function($,j){let et=a.data;const tt=AxiosHeaders.from(a.headers).normalize();let{responseType:rt,withXSRFToken:nt}=a,it;function st(){a.cancelToken&&a.cancelToken.unsubscribe(it),a.signal&&a.signal.removeEventListener("abort",it)}let ot;if(utils$g.isFormData(et)){if(platform.hasStandardBrowserEnv||platform.hasStandardBrowserWebWorkerEnv)tt.setContentType(!1);else if((ot=tt.getContentType())!==!1){const[wt,...Ct]=ot?ot.split(";").map(Pt=>Pt.trim()).filter(Boolean):[];tt.setContentType([wt||"multipart/form-data",...Ct].join("; "))}}let at=new XMLHttpRequest;if(a.auth){const wt=a.auth.username||"",Ct=a.auth.password?unescape(encodeURIComponent(a.auth.password)):"";tt.set("Authorization","Basic "+btoa(wt+":"+Ct))}const ut=buildFullPath(a.baseURL,a.url);at.open(a.method.toUpperCase(),buildURL(ut,a.params,a.paramsSerializer),!0),at.timeout=a.timeout;function ht(){if(!at)return;const wt=AxiosHeaders.from("getAllResponseHeaders"in at&&at.getAllResponseHeaders()),Pt={data:!rt||rt==="text"||rt==="json"?at.responseText:at.response,status:at.status,statusText:at.statusText,headers:wt,config:a,request:at};settle(function(Mt){$(Mt),st()},function(Mt){j(Mt),st()},Pt),at=null}if("onloadend"in at?at.onloadend=ht:at.onreadystatechange=function(){!at||at.readyState!==4||at.status===0&&!(at.responseURL&&at.responseURL.indexOf("file:")===0)||setTimeout(ht)},at.onabort=function(){at&&(j(new AxiosError("Request aborted",AxiosError.ECONNABORTED,a,at)),at=null)},at.onerror=function(){j(new AxiosError("Network Error",AxiosError.ERR_NETWORK,a,at)),at=null},at.ontimeout=function(){let Ct=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const Pt=a.transitional||transitionalDefaults;a.timeoutErrorMessage&&(Ct=a.timeoutErrorMessage),j(new AxiosError(Ct,Pt.clarifyTimeoutError?AxiosError.ETIMEDOUT:AxiosError.ECONNABORTED,a,at)),at=null},platform.hasStandardBrowserEnv&&(nt&&utils$g.isFunction(nt)&&(nt=nt(a)),nt||nt!==!1&&isURLSameOrigin(ut))){const wt=a.xsrfHeaderName&&a.xsrfCookieName&&cookies.read(a.xsrfCookieName);wt&&tt.set(a.xsrfHeaderName,wt)}et===void 0&&tt.setContentType(null),"setRequestHeader"in at&&utils$g.forEach(tt.toJSON(),function(Ct,Pt){at.setRequestHeader(Pt,Ct)}),utils$g.isUndefined(a.withCredentials)||(at.withCredentials=!!a.withCredentials),rt&&rt!=="json"&&(at.responseType=a.responseType),typeof a.onDownloadProgress=="function"&&at.addEventListener("progress",progressEventReducer(a.onDownloadProgress,!0)),typeof a.onUploadProgress=="function"&&at.upload&&at.upload.addEventListener("progress",progressEventReducer(a.onUploadProgress)),(a.cancelToken||a.signal)&&(it=wt=>{at&&(j(!wt||wt.type?new CanceledError(null,a,at):wt),at.abort(),at=null)},a.cancelToken&&a.cancelToken.subscribe(it),a.signal&&(a.signal.aborted?it():a.signal.addEventListener("abort",it)));const yt=parseProtocol(ut);if(yt&&platform.protocols.indexOf(yt)===-1){j(new AxiosError("Unsupported protocol "+yt+":",AxiosError.ERR_BAD_REQUEST,a));return}at.send(et||null)})},knownAdapters={http:httpAdapter,xhr:xhrAdapter};utils$g.forEach(knownAdapters,(a,_)=>{if(a){try{Object.defineProperty(a,"name",{value:_})}catch{}Object.defineProperty(a,"adapterName",{value:_})}});const renderReason=a=>`- ${a}`,isResolvedHandle=a=>utils$g.isFunction(a)||a===null||a===!1,adapters={getAdapter:a=>{a=utils$g.isArray(a)?a:[a];const{length:_}=a;let $,j;const et={};for(let tt=0;tt<_;tt++){$=a[tt];let rt;if(j=$,!isResolvedHandle($)&&(j=knownAdapters[(rt=String($)).toLowerCase()],j===void 0))throw new AxiosError(`Unknown adapter '${rt}'`);if(j)break;et[rt||"#"+tt]=j}if(!j){const tt=Object.entries(et).map(([nt,it])=>`adapter ${nt} `+(it===!1?"is not supported by the environment":"is not available in the build"));let rt=_?tt.length>1?`since :
`+tt.map(renderReason).join(`
`):" "+renderReason(tt[0]):"as no adapter specified";throw new AxiosError("There is no suitable adapter to dispatch the request "+rt,"ERR_NOT_SUPPORT")}return j},adapters:knownAdapters};function throwIfCancellationRequested(a){if(a.cancelToken&&a.cancelToken.throwIfRequested(),a.signal&&a.signal.aborted)throw new CanceledError(null,a)}function dispatchRequest(a){return throwIfCancellationRequested(a),a.headers=AxiosHeaders.from(a.headers),a.data=transformData.call(a,a.transformRequest),["post","put","patch"].indexOf(a.method)!==-1&&a.headers.setContentType("application/x-www-form-urlencoded",!1),adapters.getAdapter(a.adapter||defaults$1.adapter)(a).then(function(j){return throwIfCancellationRequested(a),j.data=transformData.call(a,a.transformResponse,j),j.headers=AxiosHeaders.from(j.headers),j},function(j){return isCancel(j)||(throwIfCancellationRequested(a),j&&j.response&&(j.response.data=transformData.call(a,a.transformResponse,j.response),j.response.headers=AxiosHeaders.from(j.response.headers))),Promise.reject(j)})}const headersToObject=a=>a instanceof AxiosHeaders?{...a}:a;function mergeConfig(a,_){_=_||{};const $={};function j(st,ot,at){return utils$g.isPlainObject(st)&&utils$g.isPlainObject(ot)?utils$g.merge.call({caseless:at},st,ot):utils$g.isPlainObject(ot)?utils$g.merge({},ot):utils$g.isArray(ot)?ot.slice():ot}function et(st,ot,at){if(utils$g.isUndefined(ot)){if(!utils$g.isUndefined(st))return j(void 0,st,at)}else return j(st,ot,at)}function tt(st,ot){if(!utils$g.isUndefined(ot))return j(void 0,ot)}function rt(st,ot){if(utils$g.isUndefined(ot)){if(!utils$g.isUndefined(st))return j(void 0,st)}else return j(void 0,ot)}function nt(st,ot,at){if(at in _)return j(st,ot);if(at in a)return j(void 0,st)}const it={url:tt,method:tt,data:tt,baseURL:rt,transformRequest:rt,transformResponse:rt,paramsSerializer:rt,timeout:rt,timeoutMessage:rt,withCredentials:rt,withXSRFToken:rt,adapter:rt,responseType:rt,xsrfCookieName:rt,xsrfHeaderName:rt,onUploadProgress:rt,onDownloadProgress:rt,decompress:rt,maxContentLength:rt,maxBodyLength:rt,beforeRedirect:rt,transport:rt,httpAgent:rt,httpsAgent:rt,cancelToken:rt,socketPath:rt,responseEncoding:rt,validateStatus:nt,headers:(st,ot)=>et(headersToObject(st),headersToObject(ot),!0)};return utils$g.forEach(Object.keys(Object.assign({},a,_)),function(ot){const at=it[ot]||et,ut=at(a[ot],_[ot],ot);utils$g.isUndefined(ut)&&at!==nt||($[ot]=ut)}),$}const VERSION$2="1.6.8",validators$1={};["object","boolean","number","function","string","symbol"].forEach((a,_)=>{validators$1[a]=function(j){return typeof j===a||"a"+(_<1?"n ":" ")+a}});const deprecatedWarnings={};validators$1.transitional=function a(_,$,j){function et(tt,rt){return"[Axios v"+VERSION$2+"] Transitional option '"+tt+"'"+rt+(j?". "+j:"")}return(tt,rt,nt)=>{if(_===!1)throw new AxiosError(et(rt," has been removed"+($?" in "+$:"")),AxiosError.ERR_DEPRECATED);return $&&!deprecatedWarnings[rt]&&(deprecatedWarnings[rt]=!0,console.warn(et(rt," has been deprecated since v"+$+" and will be removed in the near future"))),_?_(tt,rt,nt):!0}};function assertOptions(a,_,$){if(typeof a!="object")throw new AxiosError("options must be an object",AxiosError.ERR_BAD_OPTION_VALUE);const j=Object.keys(a);let et=j.length;for(;et-- >0;){const tt=j[et],rt=_[tt];if(rt){const nt=a[tt],it=nt===void 0||rt(nt,tt,a);if(it!==!0)throw new AxiosError("option "+tt+" must be "+it,AxiosError.ERR_BAD_OPTION_VALUE);continue}if($!==!0)throw new AxiosError("Unknown option "+tt,AxiosError.ERR_BAD_OPTION)}}const validator={assertOptions,validators:validators$1},validators=validator.validators;class Axios{constructor(_){this.defaults=_,this.interceptors={request:new InterceptorManager,response:new InterceptorManager}}async request(_,$){try{return await this._request(_,$)}catch(j){if(j instanceof Error){let et;Error.captureStackTrace?Error.captureStackTrace(et={}):et=new Error;const tt=et.stack?et.stack.replace(/^.+\n/,""):"";j.stack?tt&&!String(j.stack).endsWith(tt.replace(/^.+\n.+\n/,""))&&(j.stack+=`
`+tt):j.stack=tt}throw j}}_request(_,$){typeof _=="string"?($=$||{},$.url=_):$=_||{},$=mergeConfig(this.defaults,$);const{transitional:j,paramsSerializer:et,headers:tt}=$;j!==void 0&&validator.assertOptions(j,{silentJSONParsing:validators.transitional(validators.boolean),forcedJSONParsing:validators.transitional(validators.boolean),clarifyTimeoutError:validators.transitional(validators.boolean)},!1),et!=null&&(utils$g.isFunction(et)?$.paramsSerializer={serialize:et}:validator.assertOptions(et,{encode:validators.function,serialize:validators.function},!0)),$.method=($.method||this.defaults.method||"get").toLowerCase();let rt=tt&&utils$g.merge(tt.common,tt[$.method]);tt&&utils$g.forEach(["delete","get","head","post","put","patch","common"],yt=>{delete tt[yt]}),$.headers=AxiosHeaders.concat(rt,tt);const nt=[];let it=!0;this.interceptors.request.forEach(function(wt){typeof wt.runWhen=="function"&&wt.runWhen($)===!1||(it=it&&wt.synchronous,nt.unshift(wt.fulfilled,wt.rejected))});const st=[];this.interceptors.response.forEach(function(wt){st.push(wt.fulfilled,wt.rejected)});let ot,at=0,ut;if(!it){const yt=[dispatchRequest.bind(this),void 0];for(yt.unshift.apply(yt,nt),yt.push.apply(yt,st),ut=yt.length,ot=Promise.resolve($);at<ut;)ot=ot.then(yt[at++],yt[at++]);return ot}ut=nt.length;let ht=$;for(at=0;at<ut;){const yt=nt[at++],wt=nt[at++];try{ht=yt(ht)}catch(Ct){wt.call(this,Ct);break}}try{ot=dispatchRequest.call(this,ht)}catch(yt){return Promise.reject(yt)}for(at=0,ut=st.length;at<ut;)ot=ot.then(st[at++],st[at++]);return ot}getUri(_){_=mergeConfig(this.defaults,_);const $=buildFullPath(_.baseURL,_.url);return buildURL($,_.params,_.paramsSerializer)}}utils$g.forEach(["delete","get","head","options"],function a(_){Axios.prototype[_]=function($,j){return this.request(mergeConfig(j||{},{method:_,url:$,data:(j||{}).data}))}});utils$g.forEach(["post","put","patch"],function a(_){function $(j){return function(tt,rt,nt){return this.request(mergeConfig(nt||{},{method:_,headers:j?{"Content-Type":"multipart/form-data"}:{},url:tt,data:rt}))}}Axios.prototype[_]=$(),Axios.prototype[_+"Form"]=$(!0)});class CancelToken{constructor(_){if(typeof _!="function")throw new TypeError("executor must be a function.");let $;this.promise=new Promise(function(tt){$=tt});const j=this;this.promise.then(et=>{if(!j._listeners)return;let tt=j._listeners.length;for(;tt-- >0;)j._listeners[tt](et);j._listeners=null}),this.promise.then=et=>{let tt;const rt=new Promise(nt=>{j.subscribe(nt),tt=nt}).then(et);return rt.cancel=function(){j.unsubscribe(tt)},rt},_(function(tt,rt,nt){j.reason||(j.reason=new CanceledError(tt,rt,nt),$(j.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(_){if(this.reason){_(this.reason);return}this._listeners?this._listeners.push(_):this._listeners=[_]}unsubscribe(_){if(!this._listeners)return;const $=this._listeners.indexOf(_);$!==-1&&this._listeners.splice($,1)}static source(){let _;return{token:new CancelToken(function(et){_=et}),cancel:_}}}function spread(a){return function($){return a.apply(null,$)}}function isAxiosError(a){return utils$g.isObject(a)&&a.isAxiosError===!0}const HttpStatusCode={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(HttpStatusCode).forEach(([a,_])=>{HttpStatusCode[_]=a});function createInstance(a){const _=new Axios(a),$=bind$1(Axios.prototype.request,_);return utils$g.extend($,Axios.prototype,_,{allOwnKeys:!0}),utils$g.extend($,_,null,{allOwnKeys:!0}),$.create=function(et){return createInstance(mergeConfig(a,et))},$}const axios=createInstance(defaults$1);axios.Axios=Axios;axios.CanceledError=CanceledError;axios.CancelToken=CancelToken;axios.isCancel=isCancel;axios.VERSION=VERSION$2;axios.toFormData=toFormData;axios.AxiosError=AxiosError;axios.Cancel=axios.CanceledError;axios.all=function a(_){return Promise.all(_)};axios.spread=spread;axios.isAxiosError=isAxiosError;axios.mergeConfig=mergeConfig;axios.AxiosHeaders=AxiosHeaders;axios.formToJSON=a=>formDataToJSON(utils$g.isHTMLForm(a)?new FormData(a):a);axios.getAdapter=adapters.getAdapter;axios.HttpStatusCode=HttpStatusCode;axios.default=axios;class WalletP2PTransport extends P2PTransport{constructor(_,$,j,et,tt,rt){super(_,$,j,et,StorageKey.TRANSPORT_P2P_PEERS_WALLET,tt,rt)}async addPeer(_,$=!0){await super.addPeer(_),$&&await this.client.sendPairingResponse(_)}}const logger$2=new Logger("IncomingRequestInterceptor");class IncomingRequestInterceptor{static async intercept(_){logger$2.log("INTERCEPTING REQUEST",_.message),_.message.version==="2"?IncomingRequestInterceptor.handleV2Message(_):_.message.version==="3"&&IncomingRequestInterceptor.handleV3Message(_)}static async getAppMetadata(_,$){const j=await _.getAppMetadata($);if(!j)throw new Error("AppMetadata not found");return j}static async handleV2Message(_){const{message:$,connectionInfo:j,appMetadataManager:et,interceptorCallback:tt}=_;switch($.type){case BeaconMessageType.PermissionRequest:logger$2.log("PERMISSION REQUEST V*",$),$.appMetadata.beaconId&&!$.appMetadata.senderId&&($.appMetadata.senderId=$.appMetadata.beaconId,delete $.appMetadata.beaconId),await et.addAppMetadata($.appMetadata),tt($,j);break;case BeaconMessageType.OperationRequest:{const nt={appMetadata:await IncomingRequestInterceptor.getAppMetadata(et,$.senderId),...$};tt(nt,j)}break;case BeaconMessageType.SignPayloadRequest:{const nt={appMetadata:await IncomingRequestInterceptor.getAppMetadata(et,$.senderId),...$};tt(nt,j)}break;case BeaconMessageType.BroadcastRequest:{const nt={appMetadata:await IncomingRequestInterceptor.getAppMetadata(et,$.senderId),...$};tt(nt,j)}break;case BeaconMessageType.ProofOfEventChallengeRequest:{const nt={appMetadata:await IncomingRequestInterceptor.getAppMetadata(et,$.senderId),...$};tt(nt,j)}break;case BeaconMessageType.SimulatedProofOfEventChallengeRequest:{const nt={appMetadata:await IncomingRequestInterceptor.getAppMetadata(et,$.senderId),...$};tt(nt,j)}break;case BeaconMessageType.SimulatedProofOfEventChallengeRequest:{const nt={appMetadata:await IncomingRequestInterceptor.getAppMetadata(et,$.senderId),...$};tt(nt,j)}break;default:logger$2.log("intercept","Message not handled"),assertNever$1()}}static async handleV3Message(_){const{message:$,connectionInfo:j,appMetadataManager:et,interceptorCallback:tt}=_,rt=$,nt=rt.message;switch(nt.type){case BeaconMessageType.PermissionRequest:await et.addAppMetadata({...nt.blockchainData.appMetadata,senderId:$.senderId}),tt(rt,j);break;case BeaconMessageType.BlockchainRequest:{const it={...rt};tt(it,j)}break;default:logger$2.log("intercept","Message not handled"),assertNever$1()}}}function assertNever$1(a){throw new Error("Function not implemented.")}const logger$1=new Logger("OutgoingResponseInterceptor");class OutgoingResponseInterceptor{static async intercept(_){_.request.version==="2"?OutgoingResponseInterceptor.handleV2Message(_):_.request.version==="3"&&OutgoingResponseInterceptor.handleV3Message(_)}static async handleV3Message(_){const{message:$,appMetadataManager:j,interceptorCallback:et}=_,rt=$.message;logger$1.log("LOGGING OUTGOING V3",rt,j),et($)}static async handleV2Message(_){const{senderId:$,request:j,message:et,ownAppMetadata:tt,permissionManager:rt,appMetadataManager:nt,interceptorCallback:it}=_;switch(et.type){case BeaconMessageType.Error:{const st={type:et.type,version:"2",senderId:$,id:et.id,errorType:et.errorType};if(et.errorType===BeaconErrorType.TRANSACTION_INVALID_ERROR&&et.errorData){const ot=et.errorData;Array.isArray(ot)&&ot.every(at=>!!at.kind&&!!at.id)?st.errorData=et.errorData:logger$1.warn("ErrorData provided is not in correct format. It needs to be an array of RPC errors. It will not be included in the message sent to the dApp")}it(st);break}case BeaconMessageType.Acknowledge:{const st={type:et.type,version:"2",senderId:$,id:et.id};it(st);break}case BeaconMessageType.PermissionResponse:{const st={senderId:$,version:"2",appMetadata:tt,...et};if(!st.address&&!st.publicKey)throw new Error("Address or PublicKey must be defined");const ot=st.publicKey,at=st.address??await getAddressFromPublicKey(ot);if(!isValidAddress(at))throw new Error(`Invalid address: "${at}"`);if(et.walletType==="abstracted_account"&&at.substring(0,3)!==CONTRACT_PREFIX)throw new Error(`Invalid abstracted account address "${at}", it should be a ${CONTRACT_PREFIX} address`);const ut=await nt.getAppMetadata(j.senderId);if(!ut)throw new Error("AppMetadata not found");const ht={accountIdentifier:await getAccountIdentifier(at,st.network),senderId:j.senderId,appMetadata:ut,website:"",address:at,publicKey:ot,network:st.network,scopes:st.scopes,connectedAt:new Date().getTime()};rt.addPermission(ht).catch(console.error),it(st);break}case BeaconMessageType.OperationResponse:{const st={senderId:$,version:"2",...et};it(st)}break;case BeaconMessageType.SignPayloadResponse:{const st={senderId:$,version:"2",...et};it(st)}break;case BeaconMessageType.BroadcastResponse:{const st={senderId:$,version:"2",...et};it(st)}break;case BeaconMessageType.ProofOfEventChallengeResponse:{const st={senderId:$,version:"2",...et};it(st)}break;case BeaconMessageType.SimulatedProofOfEventChallengeResponse:{const st={senderId:$,version:"2",...et};it(st)}break;default:logger$1.log("intercept","Message not handled"),assertNever()}}}function assertNever(a){throw new Error("Function not implemented.")}const logger=new Logger("WalletClient");let WalletClient$1=class extends Client{constructor($){super({storage:$&&$.storage?$.storage:new LocalStorage,...$});Xr(this,"_isConnected",new ExposedPromise);Xr(this,"permissionManager");Xr(this,"appMetadataManager");Xr(this,"pendingRequests",[]);this.permissionManager=new PermissionManager(this.storage),this.appMetadataManager=new AppMetadataManager(this.storage)}get isConnected(){return this._isConnected.promise}async init(){const $=await this.keyPair,j=new WalletP2PTransport(this.name,$,this.storage,this.matrixNodes,this.iconUrl,this.appUrl);return super.init(j)}async connect($){return this.handleResponse=async(j,et)=>{if(j.version==="3"){const tt=j;if(tt.message.type===BeaconMessageType.Disconnect)return this.disconnect(tt.senderId);this.pendingRequests.some(rt=>rt[0].id===j.id)||(this.pendingRequests.push([tt,et]),await this.sendAcknowledgeResponse(tt,et),await IncomingRequestInterceptor.intercept({message:tt,connectionInfo:et,appMetadataManager:this.appMetadataManager,interceptorCallback:$}))}else{const tt=j;if(tt.type===BeaconMessageType.Disconnect)return this.disconnect(tt.senderId);this.pendingRequests.some(rt=>rt[0].id===j.id)||(this.pendingRequests.push([tt,et]),tt.version!=="1"&&await this.sendAcknowledgeResponse(tt,et),await IncomingRequestInterceptor.intercept({message:tt,connectionInfo:et,appMetadataManager:this.appMetadataManager,interceptorCallback:$}))}},this._connect()}async getRegisterPushChallenge($,j,et=NOTIFICATION_ORACLE_URL){const tt=(await axios.get(`${et}/challenge`)).data,rt=["Tezos Signed Message: ",tt.id,tt.timestamp,j,$].join(" "),nt=toHex$1(rt),it="0501"+nt.length.toString(16).padStart(8,"0")+nt;return{challenge:tt,payloadToSign:it}}async registerPush($,j,et,tt,rt,nt,it=NOTIFICATION_ORACLE_URL){const st=await this.storage.get(StorageKey.PUSH_TOKENS),ot=st.find(ht=>ht.publicKey===tt&&ht.backendUrl===et);if(ot)return ot;const at=(await axios.post(`${it}/register`,{name:this.name,challenge:$,accountPublicKey:tt,signature:j,backendUrl:et,protocolIdentifier:rt,deviceId:nt})).data,ut={publicKey:tt,backendUrl:et,accessToken:at.accessToken,managementToken:at.managementToken};return st.push(ut),await this.storage.set(StorageKey.PUSH_TOKENS,st),ut}async _connect(){const $=await this.transport;$.connectionStatus===TransportStatus.NOT_CONNECTED&&(await $.connect(),$.addListener(async(j,et)=>{if(typeof j=="string"){const tt=await new Serializer().deserialize(j);this.handleResponse(tt,et)}}).catch(j=>logger.log("_connect",j)),this._isConnected.resolve(!0))}async respond($){logger.log("RESPONSE",$);const j=this.pendingRequests.find(et=>et[0].id===$.id);if(!j)throw new Error("No matching request found!");this.pendingRequests=this.pendingRequests.filter(et=>et[0].id!==$.id),await OutgoingResponseInterceptor.intercept({senderId:await getSenderId(await this.beaconId),request:j[0],message:$,ownAppMetadata:await this.getOwnAppMetadata(),permissionManager:this.permissionManager,appMetadataManager:this.appMetadataManager,interceptorCallback:async et=>{await this.respondToMessage(et,j[1])}})}async getAppMetadataList(){return this.appMetadataManager.getAppMetadataList()}async getAppMetadata($){return this.appMetadataManager.getAppMetadata($)}async removeAppMetadata($){return this.appMetadataManager.removeAppMetadata($)}async removeAllAppMetadata(){return this.appMetadataManager.removeAllAppMetadata()}async getPermissions(){return this.permissionManager.getPermissions()}async getPermission($){return this.permissionManager.getPermission($)}async removePermission($){return this.permissionManager.removePermission($)}async removeAllPermissions(){return this.permissionManager.removeAllPermissions()}async getPeerInfo($){const j=await getSenderId($.publicKey);return $ instanceof PostMessagePairingRequest?new ExtendedPostMessagePairingRequest($.id,$.name,$.publicKey,$.version,j):$ instanceof P2PPairingRequest?new ExtendedP2PPairingRequest($.id,$.name,$.publicKey,$.version,$.relayServer,j):$ instanceof ExtendedWalletConnectPairingRequest?new ExtendedWalletConnectPairingRequest($.id,$.name,$.publicKey,$.version,j,$.uri):{...$,senderId:j}}async addPeer($,j=!0){return(await this.transport).addPeer(await this.getPeerInfo($),j)}async removePeer($,j=!1){const et=(await this.transport).removePeer($);return await this.removePermissionsForPeers([$]),j&&await this.sendDisconnectToPeer($),et}async removeAllPeers($=!1){const j=await(await this.transport).getPeers(),et=(await this.transport).removeAllPeers();if(await this.removePermissionsForPeers(j),$){const tt=j.map(rt=>this.sendDisconnectToPeer(rt));await Promise.all(tt)}return et}async removePermissionsForPeers($){const j=await this.permissionManager.getPermissions(),et=$.map(nt=>nt.senderId),rt=j.filter(nt=>et.includes(nt.appMetadata.senderId)).map(nt=>nt.accountIdentifier);await this.permissionManager.removePermissions(rt)}async sendAcknowledgeResponse($,j){const et={id:$.id,type:BeaconMessageType.Acknowledge};await OutgoingResponseInterceptor.intercept({senderId:await getSenderId(await this.beaconId),request:$,message:et,ownAppMetadata:await this.getOwnAppMetadata(),permissionManager:this.permissionManager,appMetadataManager:this.appMetadataManager,interceptorCallback:async tt=>{await this.respondToMessage(tt,j)}})}async respondToMessage($,j){const et=await new Serializer().serialize($);if(j){const rt=(await this.getPeers()).find(nt=>nt.publicKey===j.id);await(await this.transport).send(et,rt)}else await(await this.transport).send(et)}async disconnect($){const tt=(await(await this.transport).getPeers()).find(rt=>rt.senderId===$);tt&&await this.removePeer(tt)}};const WalletClient=new WalletClient$1({name:"Umami",iconUrl:"",appUrl:"https://umamiwallet.com/"});var KEY_PREFIX$2="persist:",FLUSH="persist/FLUSH",REHYDRATE="persist/REHYDRATE",PAUSE="persist/PAUSE",PERSIST="persist/PERSIST",PURGE="persist/PURGE",REGISTER="persist/REGISTER",DEFAULT_VERSION=-1;function _typeof$5(a){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$5=function($){return typeof $}:_typeof$5=function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $},_typeof$5(a)}function ownKeys$8(a,_){var $=Object.keys(a);if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(a);_&&(j=j.filter(function(et){return Object.getOwnPropertyDescriptor(a,et).enumerable})),$.push.apply($,j)}return $}function _objectSpread$8(a){for(var _=1;_<arguments.length;_++){var $=arguments[_]!=null?arguments[_]:{};_%2?ownKeys$8($,!0).forEach(function(j){_defineProperty$7(a,j,$[j])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors($)):ownKeys$8($).forEach(function(j){Object.defineProperty(a,j,Object.getOwnPropertyDescriptor($,j))})}return a}function _defineProperty$7(a,_,$){return _ in a?Object.defineProperty(a,_,{value:$,enumerable:!0,configurable:!0,writable:!0}):a[_]=$,a}function autoMergeLevel1(a,_,$,j){j.debug;var et=_objectSpread$8({},$);return a&&_typeof$5(a)==="object"&&Object.keys(a).forEach(function(tt){tt!=="_persist"&&_[tt]===$[tt]&&(et[tt]=a[tt])}),et}function createPersistoid(a){var _=a.blacklist||null,$=a.whitelist||null,j=a.transforms||[],et=a.throttle||0,tt="".concat(a.keyPrefix!==void 0?a.keyPrefix:KEY_PREFIX$2).concat(a.key),rt=a.storage,nt;a.serialize===!1?nt=function(Dt){return Dt}:typeof a.serialize=="function"?nt=a.serialize:nt=defaultSerialize;var it=a.writeFailHandler||null,st={},ot={},at=[],ut=null,ht=null,yt=function(Dt){Object.keys(Dt).forEach(function(Ut){Pt(Ut)&&st[Ut]!==Dt[Ut]&&at.indexOf(Ut)===-1&&at.push(Ut)}),Object.keys(st).forEach(function(Ut){Dt[Ut]===void 0&&Pt(Ut)&&at.indexOf(Ut)===-1&&st[Ut]!==void 0&&at.push(Ut)}),ut===null&&(ut=setInterval(wt,et)),st=Dt};function wt(){if(at.length===0){ut&&clearInterval(ut),ut=null;return}var Lt=at.shift(),Dt=j.reduce(function(Ut,Ot){return Ot.in(Ut,Lt,st)},st[Lt]);if(Dt!==void 0)try{ot[Lt]=nt(Dt)}catch(Ut){console.error("redux-persist/createPersistoid: error serializing state",Ut)}else delete ot[Lt];at.length===0&&Ct()}function Ct(){Object.keys(ot).forEach(function(Lt){st[Lt]===void 0&&delete ot[Lt]}),ht=rt.setItem(tt,nt(ot)).catch(Tt)}function Pt(Lt){return!($&&$.indexOf(Lt)===-1&&Lt!=="_persist"||_&&_.indexOf(Lt)!==-1)}function Tt(Lt){it&&it(Lt)}var Mt=function(){for(;at.length!==0;)wt();return ht||Promise.resolve()};return{update:yt,flush:Mt}}function defaultSerialize(a){return JSON.stringify(a)}function getStoredState(a){var _=a.transforms||[],$="".concat(a.keyPrefix!==void 0?a.keyPrefix:KEY_PREFIX$2).concat(a.key),j=a.storage;a.debug;var et;return a.deserialize===!1?et=function(rt){return rt}:typeof a.deserialize=="function"?et=a.deserialize:et=defaultDeserialize,j.getItem($).then(function(tt){if(tt)try{var rt={},nt=et(tt);return Object.keys(nt).forEach(function(it){rt[it]=_.reduceRight(function(st,ot){return ot.out(st,it,nt)},et(nt[it]))}),rt}catch(it){throw it}else return})}function defaultDeserialize(a){return JSON.parse(a)}function purgeStoredState(a){var _=a.storage,$="".concat(a.keyPrefix!==void 0?a.keyPrefix:KEY_PREFIX$2).concat(a.key);return _.removeItem($,warnIfRemoveError)}function warnIfRemoveError(a){}function ownKeys$7(a,_){var $=Object.keys(a);if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(a);_&&(j=j.filter(function(et){return Object.getOwnPropertyDescriptor(a,et).enumerable})),$.push.apply($,j)}return $}function _objectSpread$7(a){for(var _=1;_<arguments.length;_++){var $=arguments[_]!=null?arguments[_]:{};_%2?ownKeys$7($,!0).forEach(function(j){_defineProperty$6(a,j,$[j])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors($)):ownKeys$7($).forEach(function(j){Object.defineProperty(a,j,Object.getOwnPropertyDescriptor($,j))})}return a}function _defineProperty$6(a,_,$){return _ in a?Object.defineProperty(a,_,{value:$,enumerable:!0,configurable:!0,writable:!0}):a[_]=$,a}function _objectWithoutProperties$1(a,_){if(a==null)return{};var $=_objectWithoutPropertiesLoose$2(a,_),j,et;if(Object.getOwnPropertySymbols){var tt=Object.getOwnPropertySymbols(a);for(et=0;et<tt.length;et++)j=tt[et],!(_.indexOf(j)>=0)&&Object.prototype.propertyIsEnumerable.call(a,j)&&($[j]=a[j])}return $}function _objectWithoutPropertiesLoose$2(a,_){if(a==null)return{};var $={},j=Object.keys(a),et,tt;for(tt=0;tt<j.length;tt++)et=j[tt],!(_.indexOf(et)>=0)&&($[et]=a[et]);return $}var DEFAULT_TIMEOUT=5e3;function persistReducer(a,_){var $=a.version!==void 0?a.version:DEFAULT_VERSION;a.debug;var j=a.stateReconciler===void 0?autoMergeLevel1:a.stateReconciler,et=a.getStoredState||getStoredState,tt=a.timeout!==void 0?a.timeout:DEFAULT_TIMEOUT,rt=null,nt=!1,it=!0,st=function(at){return at._persist.rehydrated&&rt&&!it&&rt.update(at),at};return function(ot,at){var ut=ot||{},ht=ut._persist,yt=_objectWithoutProperties$1(ut,["_persist"]),wt=yt;if(at.type===PERSIST){var Ct=!1,Pt=function(It,Bt){Ct||(at.rehydrate(a.key,It,Bt),Ct=!0)};if(tt&&setTimeout(function(){!Ct&&Pt(void 0,new Error('redux-persist: persist timed out for persist key "'.concat(a.key,'"')))},tt),it=!1,rt||(rt=createPersistoid(a)),ht)return _objectSpread$7({},_(wt,at),{_persist:ht});if(typeof at.rehydrate!="function"||typeof at.register!="function")throw new Error("redux-persist: either rehydrate or register is not a function on the PERSIST action. This can happen if the action is being replayed. This is an unexplored use case, please open an issue and we will figure out a resolution.");return at.register(a.key),et(a).then(function(Ot){var It=a.migrate||function(Bt,Ft){return Promise.resolve(Bt)};It(Ot,$).then(function(Bt){Pt(Bt)},function(Bt){Pt(void 0,Bt)})},function(Ot){Pt(void 0,Ot)}),_objectSpread$7({},_(wt,at),{_persist:{version:$,rehydrated:!1}})}else{if(at.type===PURGE)return nt=!0,at.result(purgeStoredState(a)),_objectSpread$7({},_(wt,at),{_persist:ht});if(at.type===FLUSH)return at.result(rt&&rt.flush()),_objectSpread$7({},_(wt,at),{_persist:ht});if(at.type===PAUSE)it=!0;else if(at.type===REHYDRATE){if(nt)return _objectSpread$7({},wt,{_persist:_objectSpread$7({},ht,{rehydrated:!0})});if(at.key===a.key){var Tt=_(wt,at),Mt=at.payload,Lt=j!==!1&&Mt!==void 0?j(Mt,ot,Tt,a):Tt,Dt=_objectSpread$7({},Lt,{_persist:_objectSpread$7({},ht,{rehydrated:!0})});return st(Dt)}}}if(!ht)return _(ot,at);var Ut=_(wt,at);return Ut===wt?ot:st(_objectSpread$7({},Ut,{_persist:ht}))}}function formatProdErrorMessage$1(a){return`Minified Redux error #${a}; visit https://redux.js.org/Errors?code=${a} for the full message or use the non-minified dev environment for full errors. `}var $$observable=typeof Symbol=="function"&&Symbol.observable||"@@observable",symbol_observable_default=$$observable,randomString$1=()=>Math.random().toString(36).substring(7).split("").join("."),ActionTypes={INIT:`@@redux/INIT${randomString$1()}`,REPLACE:`@@redux/REPLACE${randomString$1()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${randomString$1()}`},actionTypes_default=ActionTypes;function isPlainObject$2(a){if(typeof a!="object"||a===null)return!1;let _=a;for(;Object.getPrototypeOf(_)!==null;)_=Object.getPrototypeOf(_);return Object.getPrototypeOf(a)===_||Object.getPrototypeOf(a)===null}function createStore(a,_,$){if(typeof a!="function")throw new Error(formatProdErrorMessage$1(2));if(typeof _=="function"&&typeof $=="function"||typeof $=="function"&&typeof arguments[3]=="function")throw new Error(formatProdErrorMessage$1(0));if(typeof _=="function"&&typeof $>"u"&&($=_,_=void 0),typeof $<"u"){if(typeof $!="function")throw new Error(formatProdErrorMessage$1(1));return $(createStore)(a,_)}let j=a,et=_,tt=new Map,rt=tt,nt=0,it=!1;function st(){rt===tt&&(rt=new Map,tt.forEach((Ct,Pt)=>{rt.set(Pt,Ct)}))}function ot(){if(it)throw new Error(formatProdErrorMessage$1(3));return et}function at(Ct){if(typeof Ct!="function")throw new Error(formatProdErrorMessage$1(4));if(it)throw new Error(formatProdErrorMessage$1(5));let Pt=!0;st();const Tt=nt++;return rt.set(Tt,Ct),function(){if(Pt){if(it)throw new Error(formatProdErrorMessage$1(6));Pt=!1,st(),rt.delete(Tt),tt=null}}}function ut(Ct){if(!isPlainObject$2(Ct))throw new Error(formatProdErrorMessage$1(7));if(typeof Ct.type>"u")throw new Error(formatProdErrorMessage$1(8));if(typeof Ct.type!="string")throw new Error(formatProdErrorMessage$1(17));if(it)throw new Error(formatProdErrorMessage$1(9));try{it=!0,et=j(et,Ct)}finally{it=!1}return(tt=rt).forEach(Tt=>{Tt()}),Ct}function ht(Ct){if(typeof Ct!="function")throw new Error(formatProdErrorMessage$1(10));j=Ct,ut({type:actionTypes_default.REPLACE})}function yt(){const Ct=at;return{subscribe(Pt){if(typeof Pt!="object"||Pt===null)throw new Error(formatProdErrorMessage$1(11));function Tt(){const Lt=Pt;Lt.next&&Lt.next(ot())}return Tt(),{unsubscribe:Ct(Tt)}},[symbol_observable_default](){return this}}}return ut({type:actionTypes_default.INIT}),{dispatch:ut,subscribe:at,getState:ot,replaceReducer:ht,[symbol_observable_default]:yt}}function assertReducerShape(a){Object.keys(a).forEach(_=>{const $=a[_];if(typeof $(void 0,{type:actionTypes_default.INIT})>"u")throw new Error(formatProdErrorMessage$1(12));if(typeof $(void 0,{type:actionTypes_default.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(formatProdErrorMessage$1(13))})}function combineReducers(a){const _=Object.keys(a),$={};for(let tt=0;tt<_.length;tt++){const rt=_[tt];typeof a[rt]=="function"&&($[rt]=a[rt])}const j=Object.keys($);let et;try{assertReducerShape($)}catch(tt){et=tt}return function(rt={},nt){if(et)throw et;let it=!1;const st={};for(let ot=0;ot<j.length;ot++){const at=j[ot],ut=$[at],ht=rt[at],yt=ut(ht,nt);if(typeof yt>"u")throw nt&&nt.type,new Error(formatProdErrorMessage$1(14));st[at]=yt,it=it||yt!==ht}return it=it||j.length!==Object.keys(rt).length,it?st:rt}}function compose(...a){return a.length===0?_=>_:a.length===1?a[0]:a.reduce((_,$)=>(...j)=>_($(...j)))}function applyMiddleware(...a){return _=>($,j)=>{const et=_($,j);let tt=()=>{throw new Error(formatProdErrorMessage$1(15))};const rt={getState:et.getState,dispatch:(it,...st)=>tt(it,...st)},nt=a.map(it=>it(rt));return tt=compose(...nt)(et.dispatch),{...et,dispatch:tt}}}function isAction(a){return isPlainObject$2(a)&&"type"in a&&typeof a.type=="string"}function _toConsumableArray(a){return _arrayWithoutHoles(a)||_iterableToArray(a)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(a){if(Symbol.iterator in Object(a)||Object.prototype.toString.call(a)==="[object Arguments]")return Array.from(a)}function _arrayWithoutHoles(a){if(Array.isArray(a)){for(var _=0,$=new Array(a.length);_<a.length;_++)$[_]=a[_];return $}}function ownKeys$6(a,_){var $=Object.keys(a);if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(a);_&&(j=j.filter(function(et){return Object.getOwnPropertyDescriptor(a,et).enumerable})),$.push.apply($,j)}return $}function _objectSpread$6(a){for(var _=1;_<arguments.length;_++){var $=arguments[_]!=null?arguments[_]:{};_%2?ownKeys$6($,!0).forEach(function(j){_defineProperty$5(a,j,$[j])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors($)):ownKeys$6($).forEach(function(j){Object.defineProperty(a,j,Object.getOwnPropertyDescriptor($,j))})}return a}function _defineProperty$5(a,_,$){return _ in a?Object.defineProperty(a,_,{value:$,enumerable:!0,configurable:!0,writable:!0}):a[_]=$,a}var initialState$a={registry:[],bootstrapped:!1},persistorReducer=function a(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:initialState$a,$=arguments.length>1?arguments[1]:void 0;switch($.type){case REGISTER:return _objectSpread$6({},_,{registry:[].concat(_toConsumableArray(_.registry),[$.key])});case REHYDRATE:var j=_.registry.indexOf($.key),et=_toConsumableArray(_.registry);return et.splice(j,1),_objectSpread$6({},_,{registry:et,bootstrapped:et.length===0});default:return _}};function persistStore(a,_,$){var j=createStore(persistorReducer,initialState$a,void 0),et=function(it){j.dispatch({type:REGISTER,key:it})},tt=function(it,st,ot){var at={type:REHYDRATE,payload:st,err:ot,key:it};a.dispatch(at),j.dispatch(at)},rt=_objectSpread$6({},j,{purge:function(){var it=[];return a.dispatch({type:PURGE,result:function(ot){it.push(ot)}}),Promise.all(it)},flush:function(){var it=[];return a.dispatch({type:FLUSH,result:function(ot){it.push(ot)}}),Promise.all(it)},pause:function(){a.dispatch({type:PAUSE})},persist:function(){a.dispatch({type:PERSIST,register:et,rehydrate:tt})}});return rt.persist(),rt}var NOTHING=Symbol.for("immer-nothing"),DRAFTABLE=Symbol.for("immer-draftable"),DRAFT_STATE=Symbol.for("immer-state");function die(a,..._){throw new Error(`[Immer] minified error nr: ${a}. Full error at: https://bit.ly/3cXEKWf`)}var getPrototypeOf$1=Object.getPrototypeOf;function isDraft(a){return!!a&&!!a[DRAFT_STATE]}function isDraftable(a){var _;return a?isPlainObject$1(a)||Array.isArray(a)||!!a[DRAFTABLE]||!!((_=a.constructor)!=null&&_[DRAFTABLE])||isMap(a)||isSet(a):!1}var objectCtorString=Object.prototype.constructor.toString();function isPlainObject$1(a){if(!a||typeof a!="object")return!1;const _=getPrototypeOf$1(a);if(_===null)return!0;const $=Object.hasOwnProperty.call(_,"constructor")&&_.constructor;return $===Object?!0:typeof $=="function"&&Function.toString.call($)===objectCtorString}function each(a,_){getArchtype(a)===0?Reflect.ownKeys(a).forEach($=>{_($,a[$],a)}):a.forEach(($,j)=>_(j,$,a))}function getArchtype(a){const _=a[DRAFT_STATE];return _?_.type_:Array.isArray(a)?1:isMap(a)?2:isSet(a)?3:0}function has(a,_){return getArchtype(a)===2?a.has(_):Object.prototype.hasOwnProperty.call(a,_)}function set(a,_,$){const j=getArchtype(a);j===2?a.set(_,$):j===3?a.add($):a[_]=$}function is(a,_){return a===_?a!==0||1/a===1/_:a!==a&&_!==_}function isMap(a){return a instanceof Map}function isSet(a){return a instanceof Set}function latest(a){return a.copy_||a.base_}function shallowCopy(a,_){if(isMap(a))return new Map(a);if(isSet(a))return new Set(a);if(Array.isArray(a))return Array.prototype.slice.call(a);if(!_&&isPlainObject$1(a))return getPrototypeOf$1(a)?{...a}:Object.assign(Object.create(null),a);const $=Object.getOwnPropertyDescriptors(a);delete $[DRAFT_STATE];let j=Reflect.ownKeys($);for(let et=0;et<j.length;et++){const tt=j[et],rt=$[tt];rt.writable===!1&&(rt.writable=!0,rt.configurable=!0),(rt.get||rt.set)&&($[tt]={configurable:!0,writable:!0,enumerable:rt.enumerable,value:a[tt]})}return Object.create(getPrototypeOf$1(a),$)}function freeze(a,_=!1){return isFrozen(a)||isDraft(a)||!isDraftable(a)||(getArchtype(a)>1&&(a.set=a.add=a.clear=a.delete=dontMutateFrozenCollections),Object.freeze(a),_&&Object.entries(a).forEach(([$,j])=>freeze(j,!0))),a}function dontMutateFrozenCollections(){die(2)}function isFrozen(a){return Object.isFrozen(a)}var plugins={};function getPlugin(a){const _=plugins[a];return _||die(0,a),_}var currentScope;function getCurrentScope(){return currentScope}function createScope(a,_){return{drafts_:[],parent_:a,immer_:_,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function usePatchesInScope(a,_){_&&(getPlugin("Patches"),a.patches_=[],a.inversePatches_=[],a.patchListener_=_)}function revokeScope(a){leaveScope(a),a.drafts_.forEach(revokeDraft),a.drafts_=null}function leaveScope(a){a===currentScope&&(currentScope=a.parent_)}function enterScope(a){return currentScope=createScope(currentScope,a)}function revokeDraft(a){const _=a[DRAFT_STATE];_.type_===0||_.type_===1?_.revoke_():_.revoked_=!0}function processResult(a,_){_.unfinalizedDrafts_=_.drafts_.length;const $=_.drafts_[0];return a!==void 0&&a!==$?($[DRAFT_STATE].modified_&&(revokeScope(_),die(4)),isDraftable(a)&&(a=finalize(_,a),_.parent_||maybeFreeze(_,a)),_.patches_&&getPlugin("Patches").generateReplacementPatches_($[DRAFT_STATE].base_,a,_.patches_,_.inversePatches_)):a=finalize(_,$,[]),revokeScope(_),_.patches_&&_.patchListener_(_.patches_,_.inversePatches_),a!==NOTHING?a:void 0}function finalize(a,_,$){if(isFrozen(_))return _;const j=_[DRAFT_STATE];if(!j)return each(_,(et,tt)=>finalizeProperty(a,j,_,et,tt,$)),_;if(j.scope_!==a)return _;if(!j.modified_)return maybeFreeze(a,j.base_,!0),j.base_;if(!j.finalized_){j.finalized_=!0,j.scope_.unfinalizedDrafts_--;const et=j.copy_;let tt=et,rt=!1;j.type_===3&&(tt=new Set(et),et.clear(),rt=!0),each(tt,(nt,it)=>finalizeProperty(a,j,et,nt,it,$,rt)),maybeFreeze(a,et,!1),$&&a.patches_&&getPlugin("Patches").generatePatches_(j,$,a.patches_,a.inversePatches_)}return j.copy_}function finalizeProperty(a,_,$,j,et,tt,rt){if(isDraft(et)){const nt=tt&&_&&_.type_!==3&&!has(_.assigned_,j)?tt.concat(j):void 0,it=finalize(a,et,nt);if(set($,j,it),isDraft(it))a.canAutoFreeze_=!1;else return}else rt&&$.add(et);if(isDraftable(et)&&!isFrozen(et)){if(!a.immer_.autoFreeze_&&a.unfinalizedDrafts_<1)return;finalize(a,et),(!_||!_.scope_.parent_)&&typeof j!="symbol"&&Object.prototype.propertyIsEnumerable.call($,j)&&maybeFreeze(a,et)}}function maybeFreeze(a,_,$=!1){!a.parent_&&a.immer_.autoFreeze_&&a.canAutoFreeze_&&freeze(_,$)}function createProxyProxy(a,_){const $=Array.isArray(a),j={type_:$?1:0,scope_:_?_.scope_:getCurrentScope(),modified_:!1,finalized_:!1,assigned_:{},parent_:_,base_:a,draft_:null,copy_:null,revoke_:null,isManual_:!1};let et=j,tt=objectTraps;$&&(et=[j],tt=arrayTraps);const{revoke:rt,proxy:nt}=Proxy.revocable(et,tt);return j.draft_=nt,j.revoke_=rt,nt}var objectTraps={get(a,_){if(_===DRAFT_STATE)return a;const $=latest(a);if(!has($,_))return readPropFromProto(a,$,_);const j=$[_];return a.finalized_||!isDraftable(j)?j:j===peek(a.base_,_)?(prepareCopy(a),a.copy_[_]=createProxy(j,a)):j},has(a,_){return _ in latest(a)},ownKeys(a){return Reflect.ownKeys(latest(a))},set(a,_,$){const j=getDescriptorFromProto(latest(a),_);if(j!=null&&j.set)return j.set.call(a.draft_,$),!0;if(!a.modified_){const et=peek(latest(a),_),tt=et==null?void 0:et[DRAFT_STATE];if(tt&&tt.base_===$)return a.copy_[_]=$,a.assigned_[_]=!1,!0;if(is($,et)&&($!==void 0||has(a.base_,_)))return!0;prepareCopy(a),markChanged(a)}return a.copy_[_]===$&&($!==void 0||_ in a.copy_)||Number.isNaN($)&&Number.isNaN(a.copy_[_])||(a.copy_[_]=$,a.assigned_[_]=!0),!0},deleteProperty(a,_){return peek(a.base_,_)!==void 0||_ in a.base_?(a.assigned_[_]=!1,prepareCopy(a),markChanged(a)):delete a.assigned_[_],a.copy_&&delete a.copy_[_],!0},getOwnPropertyDescriptor(a,_){const $=latest(a),j=Reflect.getOwnPropertyDescriptor($,_);return j&&{writable:!0,configurable:a.type_!==1||_!=="length",enumerable:j.enumerable,value:$[_]}},defineProperty(){die(11)},getPrototypeOf(a){return getPrototypeOf$1(a.base_)},setPrototypeOf(){die(12)}},arrayTraps={};each(objectTraps,(a,_)=>{arrayTraps[a]=function(){return arguments[0]=arguments[0][0],_.apply(this,arguments)}});arrayTraps.deleteProperty=function(a,_){return arrayTraps.set.call(this,a,_,void 0)};arrayTraps.set=function(a,_,$){return objectTraps.set.call(this,a[0],_,$,a[0])};function peek(a,_){const $=a[DRAFT_STATE];return($?latest($):a)[_]}function readPropFromProto(a,_,$){var et;const j=getDescriptorFromProto(_,$);return j?"value"in j?j.value:(et=j.get)==null?void 0:et.call(a.draft_):void 0}function getDescriptorFromProto(a,_){if(!(_ in a))return;let $=getPrototypeOf$1(a);for(;$;){const j=Object.getOwnPropertyDescriptor($,_);if(j)return j;$=getPrototypeOf$1($)}}function markChanged(a){a.modified_||(a.modified_=!0,a.parent_&&markChanged(a.parent_))}function prepareCopy(a){a.copy_||(a.copy_=shallowCopy(a.base_,a.scope_.immer_.useStrictShallowCopy_))}var Immer2=class{constructor(a){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(_,$,j)=>{if(typeof _=="function"&&typeof $!="function"){const tt=$;$=_;const rt=this;return function(it=tt,...st){return rt.produce(it,ot=>$.call(this,ot,...st))}}typeof $!="function"&&die(6),j!==void 0&&typeof j!="function"&&die(7);let et;if(isDraftable(_)){const tt=enterScope(this),rt=createProxy(_,void 0);let nt=!0;try{et=$(rt),nt=!1}finally{nt?revokeScope(tt):leaveScope(tt)}return usePatchesInScope(tt,j),processResult(et,tt)}else if(!_||typeof _!="object"){if(et=$(_),et===void 0&&(et=_),et===NOTHING&&(et=void 0),this.autoFreeze_&&freeze(et,!0),j){const tt=[],rt=[];getPlugin("Patches").generateReplacementPatches_(_,et,tt,rt),j(tt,rt)}return et}else die(1,_)},this.produceWithPatches=(_,$)=>{if(typeof _=="function")return(rt,...nt)=>this.produceWithPatches(rt,it=>_(it,...nt));let j,et;return[this.produce(_,$,(rt,nt)=>{j=rt,et=nt}),j,et]},typeof(a==null?void 0:a.autoFreeze)=="boolean"&&this.setAutoFreeze(a.autoFreeze),typeof(a==null?void 0:a.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(a.useStrictShallowCopy)}createDraft(a){isDraftable(a)||die(8),isDraft(a)&&(a=current(a));const _=enterScope(this),$=createProxy(a,void 0);return $[DRAFT_STATE].isManual_=!0,leaveScope(_),$}finishDraft(a,_){const $=a&&a[DRAFT_STATE];(!$||!$.isManual_)&&die(9);const{scope_:j}=$;return usePatchesInScope(j,_),processResult(void 0,j)}setAutoFreeze(a){this.autoFreeze_=a}setUseStrictShallowCopy(a){this.useStrictShallowCopy_=a}applyPatches(a,_){let $;for($=_.length-1;$>=0;$--){const et=_[$];if(et.path.length===0&&et.op==="replace"){a=et.value;break}}$>-1&&(_=_.slice($+1));const j=getPlugin("Patches").applyPatches_;return isDraft(a)?j(a,_):this.produce(a,et=>j(et,_))}};function createProxy(a,_){const $=isMap(a)?getPlugin("MapSet").proxyMap_(a,_):isSet(a)?getPlugin("MapSet").proxySet_(a,_):createProxyProxy(a,_);return(_?_.scope_:getCurrentScope()).drafts_.push($),$}function current(a){return isDraft(a)||die(10,a),currentImpl(a)}function currentImpl(a){if(!isDraftable(a)||isFrozen(a))return a;const _=a[DRAFT_STATE];let $;if(_){if(!_.modified_)return _.base_;_.finalized_=!0,$=shallowCopy(a,_.scope_.immer_.useStrictShallowCopy_)}else $=shallowCopy(a,!0);return each($,(j,et)=>{set($,j,currentImpl(et))}),_&&(_.finalized_=!1),$}var immer=new Immer2,produce=immer.produce;immer.produceWithPatches.bind(immer);immer.setAutoFreeze.bind(immer);immer.setUseStrictShallowCopy.bind(immer);immer.applyPatches.bind(immer);immer.createDraft.bind(immer);immer.finishDraft.bind(immer);function assertIsFunction(a,_=`expected a function, instead received ${typeof a}`){if(typeof a!="function")throw new TypeError(_)}function assertIsObject(a,_=`expected an object, instead received ${typeof a}`){if(typeof a!="object")throw new TypeError(_)}function assertIsArrayOfFunctions(a,_="expected all items to be functions, instead received the following types: "){if(!a.every($=>typeof $=="function")){const $=a.map(j=>typeof j=="function"?`function ${j.name||"unnamed"}()`:typeof j).join(", ");throw new TypeError(`${_}[${$}]`)}}var ensureIsArray=a=>Array.isArray(a)?a:[a];function getDependencies(a){const _=Array.isArray(a[0])?a[0]:a;return assertIsArrayOfFunctions(_,"createSelector expects all input-selectors to be functions, but received the following types: "),_}function collectInputSelectorResults(a,_){const $=[],{length:j}=a;for(let et=0;et<j;et++)$.push(a[et].apply(null,_));return $}var StrongRef=class{constructor(a){this.value=a}deref(){return this.value}},Ref=typeof WeakRef<"u"?WeakRef:StrongRef,UNTERMINATED=0,TERMINATED=1;function createCacheNode(){return{s:UNTERMINATED,v:void 0,o:null,p:null}}function weakMapMemoize(a,_={}){let $=createCacheNode();const{resultEqualityCheck:j}=_;let et,tt=0;function rt(){var at;let nt=$;const{length:it}=arguments;for(let ut=0,ht=it;ut<ht;ut++){const yt=arguments[ut];if(typeof yt=="function"||typeof yt=="object"&&yt!==null){let wt=nt.o;wt===null&&(nt.o=wt=new WeakMap);const Ct=wt.get(yt);Ct===void 0?(nt=createCacheNode(),wt.set(yt,nt)):nt=Ct}else{let wt=nt.p;wt===null&&(nt.p=wt=new Map);const Ct=wt.get(yt);Ct===void 0?(nt=createCacheNode(),wt.set(yt,nt)):nt=Ct}}const st=nt;let ot;if(nt.s===TERMINATED?ot=nt.v:(ot=a.apply(null,arguments),tt++),st.s=TERMINATED,j){const ut=((at=et==null?void 0:et.deref)==null?void 0:at.call(et))??et;ut!=null&&j(ut,ot)&&(ot=ut,tt!==0&&tt--),et=typeof ot=="object"&&ot!==null||typeof ot=="function"?new Ref(ot):ot}return st.v=ot,ot}return rt.clearCache=()=>{$=createCacheNode(),rt.resetResultsCount()},rt.resultsCount=()=>tt,rt.resetResultsCount=()=>{tt=0},rt}function createSelectorCreator(a,..._){const $=typeof a=="function"?{memoize:a,memoizeOptions:_}:a,j=(...et)=>{let tt=0,rt=0,nt,it={},st=et.pop();typeof st=="object"&&(it=st,st=et.pop()),assertIsFunction(st,`createSelector expects an output function after the inputs, but received: [${typeof st}]`);const ot={...$,...it},{memoize:at,memoizeOptions:ut=[],argsMemoize:ht=weakMapMemoize,argsMemoizeOptions:yt=[],devModeChecks:wt={}}=ot,Ct=ensureIsArray(ut),Pt=ensureIsArray(yt),Tt=getDependencies(et),Mt=at(function(){return tt++,st.apply(null,arguments)},...Ct),Lt=ht(function(){rt++;const Ut=collectInputSelectorResults(Tt,arguments);return nt=Mt.apply(null,Ut),nt},...Pt);return Object.assign(Lt,{resultFunc:st,memoizedResultFunc:Mt,dependencies:Tt,dependencyRecomputations:()=>rt,resetDependencyRecomputations:()=>{rt=0},lastResult:()=>nt,recomputations:()=>tt,resetRecomputations:()=>{tt=0},memoize:at,argsMemoize:ht})};return Object.assign(j,{withTypes:()=>j}),j}var createSelector=createSelectorCreator(weakMapMemoize),createStructuredSelector=Object.assign((a,_=createSelector)=>{assertIsObject(a,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof a}`);const $=Object.keys(a),j=$.map(tt=>a[tt]);return _(j,(...tt)=>tt.reduce((rt,nt,it)=>(rt[$[it]]=nt,rt),{}))},{withTypes:()=>createStructuredSelector});function createThunkMiddleware(a){return({dispatch:$,getState:j})=>et=>tt=>typeof tt=="function"?tt($,j,a):et(tt)}var thunk=createThunkMiddleware(),withExtraArgument=createThunkMiddleware,createDraftSafeSelectorCreator=(...a)=>{const _=createSelectorCreator(...a),$=Object.assign((...j)=>{const et=_(...j),tt=(rt,...nt)=>et(isDraft(rt)?current(rt):rt,...nt);return Object.assign(tt,et),tt},{withTypes:()=>$});return $};createDraftSafeSelectorCreator(weakMapMemoize);var composeWithDevTools=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?compose:compose.apply(null,arguments)},hasMatchFunction=a=>a&&typeof a.match=="function";function createAction(a,_){function $(...j){if(_){let et=_(...j);if(!et)throw new Error(formatProdErrorMessage(0));return{type:a,payload:et.payload,..."meta"in et&&{meta:et.meta},..."error"in et&&{error:et.error}}}return{type:a,payload:j[0]}}return $.toString=()=>`${a}`,$.type=a,$.match=j=>isAction(j)&&j.type===a,$}var Tuple=class ip extends Array{constructor(..._){super(..._),Object.setPrototypeOf(this,ip.prototype)}static get[Symbol.species](){return ip}concat(..._){return super.concat.apply(this,_)}prepend(..._){return _.length===1&&Array.isArray(_[0])?new ip(..._[0].concat(this)):new ip(..._.concat(this))}};function freezeDraftable(a){return isDraftable(a)?produce(a,()=>{}):a}function emplace(a,_,$){if(a.has(_)){let et=a.get(_);return $.update&&(et=$.update(et,_,a),a.set(_,et)),et}if(!$.insert)throw new Error(formatProdErrorMessage(10));const j=$.insert(_,a);return a.set(_,j),j}function isBoolean(a){return typeof a=="boolean"}var buildGetDefaultMiddleware=()=>function(_){const{thunk:$=!0,immutableCheck:j=!0,serializableCheck:et=!0,actionCreatorCheck:tt=!0}=_??{};let rt=new Tuple;return $&&(isBoolean($)?rt.push(thunk):rt.push(withExtraArgument($.extraArgument))),rt},SHOULD_AUTOBATCH="RTK_autoBatch",createQueueWithTimer=a=>_=>{setTimeout(_,a)},rAF=typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:createQueueWithTimer(10),autoBatchEnhancer=(a={type:"raf"})=>_=>(...$)=>{const j=_(...$);let et=!0,tt=!1,rt=!1;const nt=new Set,it=a.type==="tick"?queueMicrotask:a.type==="raf"?rAF:a.type==="callback"?a.queueNotification:createQueueWithTimer(a.timeout),st=()=>{rt=!1,tt&&(tt=!1,nt.forEach(ot=>ot()))};return Object.assign({},j,{subscribe(ot){const at=()=>et&&ot(),ut=j.subscribe(at);return nt.add(ot),()=>{ut(),nt.delete(ot)}},dispatch(ot){var at;try{return et=!((at=ot==null?void 0:ot.meta)!=null&&at[SHOULD_AUTOBATCH]),tt=!et,tt&&(rt||(rt=!0,it(st))),j.dispatch(ot)}finally{et=!0}}})},buildGetDefaultEnhancers=a=>function($){const{autoBatch:j=!0}=$??{};let et=new Tuple(a);return j&&et.push(autoBatchEnhancer(typeof j=="object"?j:void 0)),et},IS_PRODUCTION=!0;function configureStore(a){const _=buildGetDefaultMiddleware(),{reducer:$=void 0,middleware:j,devTools:et=!0,preloadedState:tt=void 0,enhancers:rt=void 0}=a||{};let nt;if(typeof $=="function")nt=$;else if(isPlainObject$2($))nt=combineReducers($);else throw new Error(formatProdErrorMessage(1));let it;typeof j=="function"?it=j(_):it=_();let st=compose;et&&(st=composeWithDevTools({trace:!IS_PRODUCTION,...typeof et=="object"&&et}));const ot=applyMiddleware(...it),at=buildGetDefaultEnhancers(ot);let ut=typeof rt=="function"?rt(at):at();const ht=st(...ut);return createStore(nt,tt,ht)}function executeReducerBuilderCallback(a){const _={},$=[];let j;const et={addCase(tt,rt){const nt=typeof tt=="string"?tt:tt.type;if(!nt)throw new Error(formatProdErrorMessage(28));if(nt in _)throw new Error(formatProdErrorMessage(29));return _[nt]=rt,et},addMatcher(tt,rt){return $.push({matcher:tt,reducer:rt}),et},addDefaultCase(tt){return j=tt,et}};return a(et),[_,$,j]}function isStateFunction(a){return typeof a=="function"}function createReducer(a,_){let[$,j,et]=executeReducerBuilderCallback(_),tt;if(isStateFunction(a))tt=()=>freezeDraftable(a());else{const nt=freezeDraftable(a);tt=()=>nt}function rt(nt=tt(),it){let st=[$[it.type],...j.filter(({matcher:ot})=>ot(it)).map(({reducer:ot})=>ot)];return st.filter(ot=>!!ot).length===0&&(st=[et]),st.reduce((ot,at)=>{if(at)if(isDraft(ot)){const ht=at(ot,it);return ht===void 0?ot:ht}else{if(isDraftable(ot))return produce(ot,ut=>at(ut,it));{const ut=at(ot,it);if(ut===void 0){if(ot===null)return ot;throw new Error(formatProdErrorMessage(9))}return ut}}return ot},nt)}return rt.getInitialState=tt,rt}var urlAlphabet="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",nanoid=(a=21)=>{let _="",$=a;for(;$--;)_+=urlAlphabet[Math.random()*64|0];return _},matches=(a,_)=>hasMatchFunction(a)?a.match(_):a(_);function isAnyOf(...a){return _=>a.some($=>matches($,_))}var commonProperties=["name","message","stack","code"],RejectWithValue=class{constructor(a,_){Xr(this,"_type");this.payload=a,this.meta=_}},FulfillWithMeta=class{constructor(a,_){Xr(this,"_type");this.payload=a,this.meta=_}},miniSerializeError=a=>{if(typeof a=="object"&&a!==null){const _={};for(const $ of commonProperties)typeof a[$]=="string"&&(_[$]=a[$]);return _}return{message:String(a)}},createAsyncThunk=(()=>{function a(_,$,j){const et=createAction(_+"/fulfilled",(it,st,ot,at)=>({payload:it,meta:{...at||{},arg:ot,requestId:st,requestStatus:"fulfilled"}})),tt=createAction(_+"/pending",(it,st,ot)=>({payload:void 0,meta:{...ot||{},arg:st,requestId:it,requestStatus:"pending"}})),rt=createAction(_+"/rejected",(it,st,ot,at,ut)=>({payload:at,error:(j&&j.serializeError||miniSerializeError)(it||"Rejected"),meta:{...ut||{},arg:ot,requestId:st,rejectedWithValue:!!at,requestStatus:"rejected",aborted:(it==null?void 0:it.name)==="AbortError",condition:(it==null?void 0:it.name)==="ConditionError"}}));function nt(it){return(st,ot,at)=>{const ut=j!=null&&j.idGenerator?j.idGenerator(it):nanoid(),ht=new AbortController;let yt,wt;function Ct(Tt){wt=Tt,ht.abort()}const Pt=async function(){var Lt,Dt;let Tt;try{let Ut=(Lt=j==null?void 0:j.condition)==null?void 0:Lt.call(j,it,{getState:ot,extra:at});if(isThenable(Ut)&&(Ut=await Ut),Ut===!1||ht.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const Ot=new Promise((It,Bt)=>{yt=()=>{Bt({name:"AbortError",message:wt||"Aborted"})},ht.signal.addEventListener("abort",yt)});st(tt(ut,it,(Dt=j==null?void 0:j.getPendingMeta)==null?void 0:Dt.call(j,{requestId:ut,arg:it},{getState:ot,extra:at}))),Tt=await Promise.race([Ot,Promise.resolve($(it,{dispatch:st,getState:ot,extra:at,requestId:ut,signal:ht.signal,abort:Ct,rejectWithValue:(It,Bt)=>new RejectWithValue(It,Bt),fulfillWithValue:(It,Bt)=>new FulfillWithMeta(It,Bt)})).then(It=>{if(It instanceof RejectWithValue)throw It;return It instanceof FulfillWithMeta?et(It.payload,ut,it,It.meta):et(It,ut,it)})])}catch(Ut){Tt=Ut instanceof RejectWithValue?rt(null,ut,it,Ut.payload,Ut.meta):rt(Ut,ut,it)}finally{yt&&ht.signal.removeEventListener("abort",yt)}return j&&!j.dispatchConditionRejection&&rt.match(Tt)&&Tt.meta.condition||st(Tt),Tt}();return Object.assign(Pt,{abort:Ct,requestId:ut,arg:it,unwrap(){return Pt.then(unwrapResult)}})}}return Object.assign(nt,{pending:tt,rejected:rt,fulfilled:et,settled:isAnyOf(rt,et),typePrefix:_})}return a.withTypes=()=>a,a})();function unwrapResult(a){if(a.meta&&a.meta.rejectedWithValue)throw a.payload;if(a.error)throw a.error;return a.payload}function isThenable(a){return a!==null&&typeof a=="object"&&typeof a.then=="function"}var asyncThunkSymbol=Symbol.for("rtk-slice-createasyncthunk");function getType(a,_){return`${a}/${_}`}function buildCreateSlice({creators:a}={}){var $;const _=($=a==null?void 0:a.asyncThunk)==null?void 0:$[asyncThunkSymbol];return function(et){const{name:tt,reducerPath:rt=tt}=et;if(!tt)throw new Error(formatProdErrorMessage(11));typeof process$1$1<"u";const nt=(typeof et.reducers=="function"?et.reducers(buildReducerCreators()):et.reducers)||{},it=Object.keys(nt),st={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},ot={addCase(Mt,Lt){const Dt=typeof Mt=="string"?Mt:Mt.type;if(!Dt)throw new Error(formatProdErrorMessage(12));if(Dt in st.sliceCaseReducersByType)throw new Error(formatProdErrorMessage(13));return st.sliceCaseReducersByType[Dt]=Lt,ot},addMatcher(Mt,Lt){return st.sliceMatchers.push({matcher:Mt,reducer:Lt}),ot},exposeAction(Mt,Lt){return st.actionCreators[Mt]=Lt,ot},exposeCaseReducer(Mt,Lt){return st.sliceCaseReducersByName[Mt]=Lt,ot}};it.forEach(Mt=>{const Lt=nt[Mt],Dt={reducerName:Mt,type:getType(tt,Mt),createNotation:typeof et.reducers=="function"};isAsyncThunkSliceReducerDefinition(Lt)?handleThunkCaseReducerDefinition(Dt,Lt,ot,_):handleNormalReducerDefinition(Dt,Lt,ot)});function at(){const[Mt={},Lt=[],Dt=void 0]=typeof et.extraReducers=="function"?executeReducerBuilderCallback(et.extraReducers):[et.extraReducers],Ut={...Mt,...st.sliceCaseReducersByType};return createReducer(et.initialState,Ot=>{for(let It in Ut)Ot.addCase(It,Ut[It]);for(let It of st.sliceMatchers)Ot.addMatcher(It.matcher,It.reducer);for(let It of Lt)Ot.addMatcher(It.matcher,It.reducer);Dt&&Ot.addDefaultCase(Dt)})}const ut=Mt=>Mt,ht=new Map;let yt;function wt(Mt,Lt){return yt||(yt=at()),yt(Mt,Lt)}function Ct(){return yt||(yt=at()),yt.getInitialState()}function Pt(Mt,Lt=!1){function Dt(Ot){let It=Ot[Mt];return typeof It>"u"&&Lt&&(It=Ct()),It}function Ut(Ot=ut){const It=emplace(ht,Lt,{insert:()=>new WeakMap});return emplace(It,Ot,{insert:()=>{const Bt={};for(const[Ft,jt]of Object.entries(et.selectors??{}))Bt[Ft]=wrapSelector(jt,Ot,Ct,Lt);return Bt}})}return{reducerPath:Mt,getSelectors:Ut,get selectors(){return Ut(Dt)},selectSlice:Dt}}const Tt={name:tt,reducer:wt,actions:st.actionCreators,caseReducers:st.sliceCaseReducersByName,getInitialState:Ct,...Pt(rt),injectInto(Mt,{reducerPath:Lt,...Dt}={}){const Ut=Lt??rt;return Mt.inject({reducerPath:Ut,reducer:wt},Dt),{...Tt,...Pt(Ut,!0)}}};return Tt}}function wrapSelector(a,_,$,j){function et(tt,...rt){let nt=_(tt);return typeof nt>"u"&&j&&(nt=$()),a(nt,...rt)}return et.unwrapped=a,et}var createSlice=buildCreateSlice();function buildReducerCreators(){function a(_,$){return{_reducerDefinitionType:"asyncThunk",payloadCreator:_,...$}}return a.withTypes=()=>a,{reducer(_){return Object.assign({[_.name](...$){return _(...$)}}[_.name],{_reducerDefinitionType:"reducer"})},preparedReducer(_,$){return{_reducerDefinitionType:"reducerWithPrepare",prepare:_,reducer:$}},asyncThunk:a}}function handleNormalReducerDefinition({type:a,reducerName:_,createNotation:$},j,et){let tt,rt;if("reducer"in j){if($&&!isCaseReducerWithPrepareDefinition(j))throw new Error(formatProdErrorMessage(17));tt=j.reducer,rt=j.prepare}else tt=j;et.addCase(a,tt).exposeCaseReducer(_,tt).exposeAction(_,rt?createAction(a,rt):createAction(a))}function isAsyncThunkSliceReducerDefinition(a){return a._reducerDefinitionType==="asyncThunk"}function isCaseReducerWithPrepareDefinition(a){return a._reducerDefinitionType==="reducerWithPrepare"}function handleThunkCaseReducerDefinition({type:a,reducerName:_},$,j,et){if(!et)throw new Error(formatProdErrorMessage(18));const{payloadCreator:tt,fulfilled:rt,pending:nt,rejected:it,settled:st,options:ot}=$,at=et(a,tt,ot);j.exposeAction(_,at),rt&&j.addCase(at.fulfilled,rt),nt&&j.addCase(at.pending,nt),it&&j.addCase(at.rejected,it),st&&j.addMatcher(at.settled,st),j.exposeCaseReducer(_,{fulfilled:rt||noop$5,pending:nt||noop$5,rejected:it||noop$5,settled:st||noop$5})}function noop$5(){}var assertFunction=(a,_)=>{if(typeof a!="function")throw new Error(formatProdErrorMessage(32))},alm="listenerMiddleware",getListenerEntryPropsFrom=a=>{let{type:_,actionCreator:$,matcher:j,predicate:et,effect:tt}=a;if(_)et=createAction(_).match;else if($)_=$.type,et=$.match;else if(j)et=j;else if(!et)throw new Error(formatProdErrorMessage(21));return assertFunction(tt),{predicate:et,type:_,effect:tt}},createListenerEntry=Object.assign(a=>{const{type:_,predicate:$,effect:j}=getListenerEntryPropsFrom(a);return{id:nanoid(),effect:j,type:_,predicate:$,pending:new Set,unsubscribe:()=>{throw new Error(formatProdErrorMessage(22))}}},{withTypes:()=>createListenerEntry}),addListener=Object.assign(createAction(`${alm}/add`),{withTypes:()=>addListener});createAction(`${alm}/removeAll`);var removeListener=Object.assign(createAction(`${alm}/remove`),{withTypes:()=>removeListener});function formatProdErrorMessage(a){return`Minified Redux Toolkit error #${a}; visit https://redux-toolkit.js.org/Errors?code=${a} for the full message or use the non-minified dev environment for full errors. `}var createWebStorage$1={},getStorage$1={};getStorage$1.__esModule=!0;getStorage$1.default=getStorage;function _typeof$4(a){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$4=function($){return typeof $}:_typeof$4=function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $},_typeof$4(a)}function noop$4(){}var noopStorage={getItem:noop$4,setItem:noop$4,removeItem:noop$4};function hasStorage(a){if((typeof self>"u"?"undefined":_typeof$4(self))!=="object"||!(a in self))return!1;try{var _=self[a],$="redux-persist ".concat(a," test");_.setItem($,"test"),_.getItem($),_.removeItem($)}catch{return!1}return!0}function getStorage(a){var _="".concat(a,"Storage");return hasStorage(_)?self[_]:noopStorage}createWebStorage$1.__esModule=!0;createWebStorage$1.default=createWebStorage;var _getStorage=_interopRequireDefault$6(getStorage$1);function _interopRequireDefault$6(a){return a&&a.__esModule?a:{default:a}}function createWebStorage(a){var _=(0,_getStorage.default)(a);return{getItem:function(j){return new Promise(function(et,tt){et(_.getItem(j))})},setItem:function(j,et){return new Promise(function(tt,rt){tt(_.setItem(j,et))})},removeItem:function(j){return new Promise(function(et,tt){et(_.removeItem(j))})}}}var default_1=void 0,_createWebStorage=_interopRequireDefault$5(createWebStorage$1);function _interopRequireDefault$5(a){return a&&a.__esModule?a:{default:a}}var _default$5=(0,_createWebStorage.default)("local");default_1=_default$5;function createAsyncMigrate(a,_){return async($,j)=>{if(!$)return;const et=$._persist&&$._persist.version!==void 0?$._persist.version:DEFAULT_VERSION;if(et===j||et>j)return $;const tt=Object.keys(a).map(nt=>parseInt(nt)).filter(nt=>j>=nt&&nt>et).sort((nt,it)=>nt-it);let rt=$;for(const nt of tt)rt=await a[nt](rt);return rt}}const initialState$9={html:"",seen:!0},announcementSlice=createSlice({name:"announcements",initialState:initialState$9,reducers:{reset:()=>initialState$9,setCurrent:(a,{payload:_})=>{_!==a.html&&(a.seen=!1),a.html=_},setSeen:a=>{a.seen=!0}}}),ERROR_MSG_INPUT="Input must be an string, Buffer or Uint8Array";function normalizeInput(a){let _;if(a instanceof Uint8Array)_=a;else if(typeof a=="string")_=new TextEncoder().encode(a);else throw new Error(ERROR_MSG_INPUT);return _}function toHex(a){return Array.prototype.map.call(a,function(_){return(_<16?"0":"")+_.toString(16)}).join("")}function uint32ToHex(a){return(4294967296+a).toString(16).substring(1)}function debugPrint(a,_,$){let j=`
`+a+" = ";for(let et=0;et<_.length;et+=2){if($===32)j+=uint32ToHex(_[et]).toUpperCase(),j+=" ",j+=uint32ToHex(_[et+1]).toUpperCase();else if($===64)j+=uint32ToHex(_[et+1]).toUpperCase(),j+=uint32ToHex(_[et]).toUpperCase();else throw new Error("Invalid size "+$);et%6===4?j+=`
`+new Array(a.length+4).join(" "):et<_.length-2&&(j+=" ")}console.log(j)}function testSpeed(a,_,$){let j=new Date().getTime();const et=new Uint8Array(_);for(let rt=0;rt<_;rt++)et[rt]=rt%256;const tt=new Date().getTime();console.log("Generated random input in "+(tt-j)+"ms"),j=tt;for(let rt=0;rt<$;rt++){const nt=a(et),it=new Date().getTime(),st=it-j;j=it,console.log("Hashed in "+st+"ms: "+nt.substring(0,20)+"..."),console.log(Math.round(_/(1<<20)/(st/1e3)*100)/100+" MB PER SECOND")}}var util$3={normalizeInput,toHex,debugPrint,testSpeed};const util$2=util$3;function ADD64AA(a,_,$){const j=a[_]+a[$];let et=a[_+1]+a[$+1];j>=4294967296&&et++,a[_]=j,a[_+1]=et}function ADD64AC(a,_,$,j){let et=a[_]+$;$<0&&(et+=4294967296);let tt=a[_+1]+j;et>=4294967296&&tt++,a[_]=et,a[_+1]=tt}function B2B_GET32(a,_){return a[_]^a[_+1]<<8^a[_+2]<<16^a[_+3]<<24}function B2B_G(a,_,$,j,et,tt){const rt=m$1[et],nt=m$1[et+1],it=m$1[tt],st=m$1[tt+1];ADD64AA(v$2,a,_),ADD64AC(v$2,a,rt,nt);let ot=v$2[j]^v$2[a],at=v$2[j+1]^v$2[a+1];v$2[j]=at,v$2[j+1]=ot,ADD64AA(v$2,$,j),ot=v$2[_]^v$2[$],at=v$2[_+1]^v$2[$+1],v$2[_]=ot>>>24^at<<8,v$2[_+1]=at>>>24^ot<<8,ADD64AA(v$2,a,_),ADD64AC(v$2,a,it,st),ot=v$2[j]^v$2[a],at=v$2[j+1]^v$2[a+1],v$2[j]=ot>>>16^at<<16,v$2[j+1]=at>>>16^ot<<16,ADD64AA(v$2,$,j),ot=v$2[_]^v$2[$],at=v$2[_+1]^v$2[$+1],v$2[_]=at>>>31^ot<<1,v$2[_+1]=ot>>>31^at<<1}const BLAKE2B_IV32=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),SIGMA8=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3],SIGMA82=new Uint8Array(SIGMA8.map(function(a){return a*2})),v$2=new Uint32Array(32),m$1=new Uint32Array(32);function blake2bCompress(a,_){let $=0;for($=0;$<16;$++)v$2[$]=a.h[$],v$2[$+16]=BLAKE2B_IV32[$];for(v$2[24]=v$2[24]^a.t,v$2[25]=v$2[25]^a.t/4294967296,_&&(v$2[28]=~v$2[28],v$2[29]=~v$2[29]),$=0;$<32;$++)m$1[$]=B2B_GET32(a.b,4*$);for($=0;$<12;$++)B2B_G(0,8,16,24,SIGMA82[$*16+0],SIGMA82[$*16+1]),B2B_G(2,10,18,26,SIGMA82[$*16+2],SIGMA82[$*16+3]),B2B_G(4,12,20,28,SIGMA82[$*16+4],SIGMA82[$*16+5]),B2B_G(6,14,22,30,SIGMA82[$*16+6],SIGMA82[$*16+7]),B2B_G(0,10,20,30,SIGMA82[$*16+8],SIGMA82[$*16+9]),B2B_G(2,12,22,24,SIGMA82[$*16+10],SIGMA82[$*16+11]),B2B_G(4,14,16,26,SIGMA82[$*16+12],SIGMA82[$*16+13]),B2B_G(6,8,18,28,SIGMA82[$*16+14],SIGMA82[$*16+15]);for($=0;$<16;$++)a.h[$]=a.h[$]^v$2[$]^v$2[$+16]}const parameterBlock=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);function blake2bInit(a,_,$,j){if(a===0||a>64)throw new Error("Illegal output length, expected 0 < length <= 64");if(_&&_.length>64)throw new Error("Illegal key, expected Uint8Array with 0 < length <= 64");if($&&$.length!==16)throw new Error("Illegal salt, expected Uint8Array with length is 16");if(j&&j.length!==16)throw new Error("Illegal personal, expected Uint8Array with length is 16");const et={b:new Uint8Array(128),h:new Uint32Array(16),t:0,c:0,outlen:a};parameterBlock.fill(0),parameterBlock[0]=a,_&&(parameterBlock[1]=_.length),parameterBlock[2]=1,parameterBlock[3]=1,$&&parameterBlock.set($,32),j&&parameterBlock.set(j,48);for(let tt=0;tt<16;tt++)et.h[tt]=BLAKE2B_IV32[tt]^B2B_GET32(parameterBlock,tt*4);return _&&(blake2bUpdate(et,_),et.c=128),et}function blake2bUpdate(a,_){for(let $=0;$<_.length;$++)a.c===128&&(a.t+=a.c,blake2bCompress(a,!1),a.c=0),a.b[a.c++]=_[$]}function blake2bFinal(a){for(a.t+=a.c;a.c<128;)a.b[a.c++]=0;blake2bCompress(a,!0);const _=new Uint8Array(a.outlen);for(let $=0;$<a.outlen;$++)_[$]=a.h[$>>2]>>8*($&3);return _}function blake2b(a,_,$,j,et){$=$||64,a=util$2.normalizeInput(a),j&&(j=util$2.normalizeInput(j)),et&&(et=util$2.normalizeInput(et));const tt=blake2bInit($,_,j,et);return blake2bUpdate(tt,a),blake2bFinal(tt)}function blake2bHex(a,_,$,j,et){const tt=blake2b(a,_,$,j,et);return util$2.toHex(tt)}var blake2b_1={blake2b,blake2bHex,blake2bInit,blake2bUpdate,blake2bFinal};const util$1=util$3;function B2S_GET32(a,_){return a[_]^a[_+1]<<8^a[_+2]<<16^a[_+3]<<24}function B2S_G(a,_,$,j,et,tt){v$1[a]=v$1[a]+v$1[_]+et,v$1[j]=ROTR32(v$1[j]^v$1[a],16),v$1[$]=v$1[$]+v$1[j],v$1[_]=ROTR32(v$1[_]^v$1[$],12),v$1[a]=v$1[a]+v$1[_]+tt,v$1[j]=ROTR32(v$1[j]^v$1[a],8),v$1[$]=v$1[$]+v$1[j],v$1[_]=ROTR32(v$1[_]^v$1[$],7)}function ROTR32(a,_){return a>>>_^a<<32-_}const BLAKE2S_IV=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),SIGMA=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0]),v$1=new Uint32Array(16),m=new Uint32Array(16);function blake2sCompress(a,_){let $=0;for($=0;$<8;$++)v$1[$]=a.h[$],v$1[$+8]=BLAKE2S_IV[$];for(v$1[12]^=a.t,v$1[13]^=a.t/4294967296,_&&(v$1[14]=~v$1[14]),$=0;$<16;$++)m[$]=B2S_GET32(a.b,4*$);for($=0;$<10;$++)B2S_G(0,4,8,12,m[SIGMA[$*16+0]],m[SIGMA[$*16+1]]),B2S_G(1,5,9,13,m[SIGMA[$*16+2]],m[SIGMA[$*16+3]]),B2S_G(2,6,10,14,m[SIGMA[$*16+4]],m[SIGMA[$*16+5]]),B2S_G(3,7,11,15,m[SIGMA[$*16+6]],m[SIGMA[$*16+7]]),B2S_G(0,5,10,15,m[SIGMA[$*16+8]],m[SIGMA[$*16+9]]),B2S_G(1,6,11,12,m[SIGMA[$*16+10]],m[SIGMA[$*16+11]]),B2S_G(2,7,8,13,m[SIGMA[$*16+12]],m[SIGMA[$*16+13]]),B2S_G(3,4,9,14,m[SIGMA[$*16+14]],m[SIGMA[$*16+15]]);for($=0;$<8;$++)a.h[$]^=v$1[$]^v$1[$+8]}function blake2sInit(a,_){if(!(a>0&&a<=32))throw new Error("Incorrect output length, should be in [1, 32]");const $=_?_.length:0;if(_&&!($>0&&$<=32))throw new Error("Incorrect key length, should be in [1, 32]");const j={h:new Uint32Array(BLAKE2S_IV),b:new Uint8Array(64),c:0,t:0,outlen:a};return j.h[0]^=16842752^$<<8^a,$>0&&(blake2sUpdate(j,_),j.c=64),j}function blake2sUpdate(a,_){for(let $=0;$<_.length;$++)a.c===64&&(a.t+=a.c,blake2sCompress(a,!1),a.c=0),a.b[a.c++]=_[$]}function blake2sFinal(a){for(a.t+=a.c;a.c<64;)a.b[a.c++]=0;blake2sCompress(a,!0);const _=new Uint8Array(a.outlen);for(let $=0;$<a.outlen;$++)_[$]=a.h[$>>2]>>8*($&3)&255;return _}function blake2s(a,_,$){$=$||32,a=util$1.normalizeInput(a);const j=blake2sInit($,_);return blake2sUpdate(j,a),blake2sFinal(j)}function blake2sHex(a,_,$){const j=blake2s(a,_,$);return util$1.toHex(j)}var blake2s_1={blake2s,blake2sHex,blake2sInit,blake2sUpdate,blake2sFinal};const b2b=blake2b_1,b2s=blake2s_1;var blakejs={blake2b:b2b.blake2b,blake2bHex:b2b.blake2bHex,blake2bInit:b2b.blake2bInit,blake2bUpdate:b2b.blake2bUpdate,blake2bFinal:b2b.blake2bFinal,blake2s:b2s.blake2s,blake2sHex:b2s.blake2sHex,blake2sInit:b2s.blake2sInit,blake2sUpdate:b2s.blake2sUpdate,blake2sFinal:b2s.blake2sFinal};const blake=getDefaultExportFromCjs$1(blakejs);var sha256$2={},_sha2={},_assert={};Object.defineProperty(_assert,"__esModule",{value:!0});_assert.output=_assert.exists=_assert.hash=_assert.bytes=_assert.bool=_assert.number=void 0;function number$1(a){if(!Number.isSafeInteger(a)||a<0)throw new Error(`Wrong positive integer: ${a}`)}_assert.number=number$1;function bool$1(a){if(typeof a!="boolean")throw new Error(`Expected boolean, not ${a}`)}_assert.bool=bool$1;function bytes(a,..._){if(!(a instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(_.length>0&&!_.includes(a.length))throw new TypeError(`Expected Uint8Array of length ${_}, not of length=${a.length}`)}_assert.bytes=bytes;function hash$2(a){if(typeof a!="function"||typeof a.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");number$1(a.outputLen),number$1(a.blockLen)}_assert.hash=hash$2;function exists(a,_=!0){if(a.destroyed)throw new Error("Hash instance has been destroyed");if(_&&a.finished)throw new Error("Hash#digest() has already been called")}_assert.exists=exists;function output(a,_){bytes(a);const $=_.outputLen;if(a.length<$)throw new Error(`digestInto() expects output buffer of length at least ${$}`)}_assert.output=output;const assert$a={number:number$1,bool:bool$1,bytes,hash:hash$2,exists,output};_assert.default=assert$a;var utils$e={},crypto$1={};Object.defineProperty(crypto$1,"__esModule",{value:!0});crypto$1.crypto=void 0;crypto$1.crypto=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;(function(a){/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */Object.defineProperty(a,"__esModule",{value:!0}),a.randomBytes=a.wrapConstructorWithOpts=a.wrapConstructor=a.checkOpts=a.Hash=a.concatBytes=a.toBytes=a.utf8ToBytes=a.asyncLoop=a.nextTick=a.hexToBytes=a.bytesToHex=a.isLE=a.rotr=a.createView=a.u32=a.u8=void 0;const _=crypto$1,$=Lt=>new Uint8Array(Lt.buffer,Lt.byteOffset,Lt.byteLength);a.u8=$;const j=Lt=>new Uint32Array(Lt.buffer,Lt.byteOffset,Math.floor(Lt.byteLength/4));a.u32=j;const et=Lt=>new DataView(Lt.buffer,Lt.byteOffset,Lt.byteLength);a.createView=et;const tt=(Lt,Dt)=>Lt<<32-Dt|Lt>>>Dt;if(a.rotr=tt,a.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68,!a.isLE)throw new Error("Non little-endian hardware is not supported");const rt=Array.from({length:256},(Lt,Dt)=>Dt.toString(16).padStart(2,"0"));function nt(Lt){if(!(Lt instanceof Uint8Array))throw new Error("Uint8Array expected");let Dt="";for(let Ut=0;Ut<Lt.length;Ut++)Dt+=rt[Lt[Ut]];return Dt}a.bytesToHex=nt;function it(Lt){if(typeof Lt!="string")throw new TypeError("hexToBytes: expected string, got "+typeof Lt);if(Lt.length%2)throw new Error("hexToBytes: received invalid unpadded hex");const Dt=new Uint8Array(Lt.length/2);for(let Ut=0;Ut<Dt.length;Ut++){const Ot=Ut*2,It=Lt.slice(Ot,Ot+2),Bt=Number.parseInt(It,16);if(Number.isNaN(Bt)||Bt<0)throw new Error("Invalid byte sequence");Dt[Ut]=Bt}return Dt}a.hexToBytes=it;const st=async()=>{};a.nextTick=st;async function ot(Lt,Dt,Ut){let Ot=Date.now();for(let It=0;It<Lt;It++){Ut(It);const Bt=Date.now()-Ot;Bt>=0&&Bt<Dt||(await(0,a.nextTick)(),Ot+=Bt)}}a.asyncLoop=ot;function at(Lt){if(typeof Lt!="string")throw new TypeError(`utf8ToBytes expected string, got ${typeof Lt}`);return new TextEncoder().encode(Lt)}a.utf8ToBytes=at;function ut(Lt){if(typeof Lt=="string"&&(Lt=at(Lt)),!(Lt instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof Lt})`);return Lt}a.toBytes=ut;function ht(...Lt){if(!Lt.every(Ot=>Ot instanceof Uint8Array))throw new Error("Uint8Array list expected");if(Lt.length===1)return Lt[0];const Dt=Lt.reduce((Ot,It)=>Ot+It.length,0),Ut=new Uint8Array(Dt);for(let Ot=0,It=0;Ot<Lt.length;Ot++){const Bt=Lt[Ot];Ut.set(Bt,It),It+=Bt.length}return Ut}a.concatBytes=ht;class yt{clone(){return this._cloneInto()}}a.Hash=yt;const wt=Lt=>Object.prototype.toString.call(Lt)==="[object Object]"&&Lt.constructor===Object;function Ct(Lt,Dt){if(Dt!==void 0&&(typeof Dt!="object"||!wt(Dt)))throw new TypeError("Options should be object or undefined");return Object.assign(Lt,Dt)}a.checkOpts=Ct;function Pt(Lt){const Dt=Ot=>Lt().update(ut(Ot)).digest(),Ut=Lt();return Dt.outputLen=Ut.outputLen,Dt.blockLen=Ut.blockLen,Dt.create=()=>Lt(),Dt}a.wrapConstructor=Pt;function Tt(Lt){const Dt=(Ot,It)=>Lt(It).update(ut(Ot)).digest(),Ut=Lt({});return Dt.outputLen=Ut.outputLen,Dt.blockLen=Ut.blockLen,Dt.create=Ot=>Lt(Ot),Dt}a.wrapConstructorWithOpts=Tt;function Mt(Lt=32){if(_.crypto&&typeof _.crypto.getRandomValues=="function")return _.crypto.getRandomValues(new Uint8Array(Lt));throw new Error("crypto.getRandomValues must be defined")}a.randomBytes=Mt})(utils$e);Object.defineProperty(_sha2,"__esModule",{value:!0});_sha2.SHA2=void 0;const _assert_js_1$2=_assert,utils_js_1$4=utils$e;function setBigUint64(a,_,$,j){if(typeof a.setBigUint64=="function")return a.setBigUint64(_,$,j);const et=BigInt(32),tt=BigInt(4294967295),rt=Number($>>et&tt),nt=Number($&tt),it=j?4:0,st=j?0:4;a.setUint32(_+it,rt,j),a.setUint32(_+st,nt,j)}class SHA2 extends utils_js_1$4.Hash{constructor(_,$,j,et){super(),this.blockLen=_,this.outputLen=$,this.padOffset=j,this.isLE=et,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(_),this.view=(0,utils_js_1$4.createView)(this.buffer)}update(_){_assert_js_1$2.default.exists(this);const{view:$,buffer:j,blockLen:et}=this;_=(0,utils_js_1$4.toBytes)(_);const tt=_.length;for(let rt=0;rt<tt;){const nt=Math.min(et-this.pos,tt-rt);if(nt===et){const it=(0,utils_js_1$4.createView)(_);for(;et<=tt-rt;rt+=et)this.process(it,rt);continue}j.set(_.subarray(rt,rt+nt),this.pos),this.pos+=nt,rt+=nt,this.pos===et&&(this.process($,0),this.pos=0)}return this.length+=_.length,this.roundClean(),this}digestInto(_){_assert_js_1$2.default.exists(this),_assert_js_1$2.default.output(_,this),this.finished=!0;const{buffer:$,view:j,blockLen:et,isLE:tt}=this;let{pos:rt}=this;$[rt++]=128,this.buffer.subarray(rt).fill(0),this.padOffset>et-rt&&(this.process(j,0),rt=0);for(let at=rt;at<et;at++)$[at]=0;setBigUint64(j,et-8,BigInt(this.length*8),tt),this.process(j,0);const nt=(0,utils_js_1$4.createView)(_),it=this.outputLen;if(it%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const st=it/4,ot=this.get();if(st>ot.length)throw new Error("_sha2: outputLen bigger than state");for(let at=0;at<st;at++)nt.setUint32(4*at,ot[at],tt)}digest(){const{buffer:_,outputLen:$}=this;this.digestInto(_);const j=_.slice(0,$);return this.destroy(),j}_cloneInto(_){_||(_=new this.constructor),_.set(...this.get());const{blockLen:$,buffer:j,length:et,finished:tt,destroyed:rt,pos:nt}=this;return _.length=et,_.pos=nt,_.finished=tt,_.destroyed=rt,et%$&&_.buffer.set(j),_}}_sha2.SHA2=SHA2;Object.defineProperty(sha256$2,"__esModule",{value:!0});sha256$2.sha224=sha256$2.sha256=void 0;const _sha2_js_1$1=_sha2,utils_js_1$3=utils$e,Chi=(a,_,$)=>a&_^~a&$,Maj=(a,_,$)=>a&_^a&$^_&$,SHA256_K=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),IV=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),SHA256_W=new Uint32Array(64);class SHA256 extends _sha2_js_1$1.SHA2{constructor(){super(64,32,8,!1),this.A=IV[0]|0,this.B=IV[1]|0,this.C=IV[2]|0,this.D=IV[3]|0,this.E=IV[4]|0,this.F=IV[5]|0,this.G=IV[6]|0,this.H=IV[7]|0}get(){const{A:_,B:$,C:j,D:et,E:tt,F:rt,G:nt,H:it}=this;return[_,$,j,et,tt,rt,nt,it]}set(_,$,j,et,tt,rt,nt,it){this.A=_|0,this.B=$|0,this.C=j|0,this.D=et|0,this.E=tt|0,this.F=rt|0,this.G=nt|0,this.H=it|0}process(_,$){for(let at=0;at<16;at++,$+=4)SHA256_W[at]=_.getUint32($,!1);for(let at=16;at<64;at++){const ut=SHA256_W[at-15],ht=SHA256_W[at-2],yt=(0,utils_js_1$3.rotr)(ut,7)^(0,utils_js_1$3.rotr)(ut,18)^ut>>>3,wt=(0,utils_js_1$3.rotr)(ht,17)^(0,utils_js_1$3.rotr)(ht,19)^ht>>>10;SHA256_W[at]=wt+SHA256_W[at-7]+yt+SHA256_W[at-16]|0}let{A:j,B:et,C:tt,D:rt,E:nt,F:it,G:st,H:ot}=this;for(let at=0;at<64;at++){const ut=(0,utils_js_1$3.rotr)(nt,6)^(0,utils_js_1$3.rotr)(nt,11)^(0,utils_js_1$3.rotr)(nt,25),ht=ot+ut+Chi(nt,it,st)+SHA256_K[at]+SHA256_W[at]|0,wt=((0,utils_js_1$3.rotr)(j,2)^(0,utils_js_1$3.rotr)(j,13)^(0,utils_js_1$3.rotr)(j,22))+Maj(j,et,tt)|0;ot=st,st=it,it=nt,nt=rt+ht|0,rt=tt,tt=et,et=j,j=ht+wt|0}j=j+this.A|0,et=et+this.B|0,tt=tt+this.C|0,rt=rt+this.D|0,nt=nt+this.E|0,it=it+this.F|0,st=st+this.G|0,ot=ot+this.H|0,this.set(j,et,tt,rt,nt,it,st,ot)}roundClean(){SHA256_W.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}class SHA224 extends SHA256{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}sha256$2.sha256=(0,utils_js_1$3.wrapConstructor)(()=>new SHA256);sha256$2.sha224=(0,utils_js_1$3.wrapConstructor)(()=>new SHA224);function base$2(a){if(a.length>=255)throw new TypeError("Alphabet too long");for(var _=new Uint8Array(256),$=0;$<_.length;$++)_[$]=255;for(var j=0;j<a.length;j++){var et=a.charAt(j),tt=et.charCodeAt(0);if(_[tt]!==255)throw new TypeError(et+" is ambiguous");_[tt]=j}var rt=a.length,nt=a.charAt(0),it=Math.log(rt)/Math.log(256),st=Math.log(256)/Math.log(rt);function ot(ht){if(ht instanceof Uint8Array||(ArrayBuffer.isView(ht)?ht=new Uint8Array(ht.buffer,ht.byteOffset,ht.byteLength):Array.isArray(ht)&&(ht=Uint8Array.from(ht))),!(ht instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(ht.length===0)return"";for(var yt=0,wt=0,Ct=0,Pt=ht.length;Ct!==Pt&&ht[Ct]===0;)Ct++,yt++;for(var Tt=(Pt-Ct)*st+1>>>0,Mt=new Uint8Array(Tt);Ct!==Pt;){for(var Lt=ht[Ct],Dt=0,Ut=Tt-1;(Lt!==0||Dt<wt)&&Ut!==-1;Ut--,Dt++)Lt+=256*Mt[Ut]>>>0,Mt[Ut]=Lt%rt>>>0,Lt=Lt/rt>>>0;if(Lt!==0)throw new Error("Non-zero carry");wt=Dt,Ct++}for(var Ot=Tt-wt;Ot!==Tt&&Mt[Ot]===0;)Ot++;for(var It=nt.repeat(yt);Ot<Tt;++Ot)It+=a.charAt(Mt[Ot]);return It}function at(ht){if(typeof ht!="string")throw new TypeError("Expected String");if(ht.length===0)return new Uint8Array;for(var yt=0,wt=0,Ct=0;ht[yt]===nt;)wt++,yt++;for(var Pt=(ht.length-yt)*it+1>>>0,Tt=new Uint8Array(Pt);ht[yt];){var Mt=_[ht.charCodeAt(yt)];if(Mt===255)return;for(var Lt=0,Dt=Pt-1;(Mt!==0||Lt<Ct)&&Dt!==-1;Dt--,Lt++)Mt+=rt*Tt[Dt]>>>0,Tt[Dt]=Mt%256>>>0,Mt=Mt/256>>>0;if(Mt!==0)throw new Error("Non-zero carry");Ct=Lt,yt++}for(var Ut=Pt-Ct;Ut!==Pt&&Tt[Ut]===0;)Ut++;for(var Ot=new Uint8Array(wt+(Pt-Ut)),It=wt;Ut!==Pt;)Ot[It++]=Tt[Ut++];return Ot}function ut(ht){var yt=at(ht);if(yt)return yt;throw new Error("Non-base"+rt+" character")}return{encode:ot,decodeUnsafe:at,decode:ut}}var src$1=base$2;const basex=src$1,ALPHABET="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";var bs58=basex(ALPHABET),base58=bs58,base$1=function(a){function _(tt){var rt=Uint8Array.from(tt),nt=a(rt),it=rt.length+4,st=new Uint8Array(it);return st.set(rt,0),st.set(nt.subarray(0,4),rt.length),base58.encode(st,it)}function $(tt){var rt=tt.slice(0,-4),nt=tt.slice(-4),it=a(rt);if(!(nt[0]^it[0]|nt[1]^it[1]|nt[2]^it[2]|nt[3]^it[3]))return rt}function j(tt){var rt=base58.decodeUnsafe(tt);if(rt)return $(rt)}function et(tt){var rt=base58.decode(tt),nt=$(rt);if(!nt)throw new Error("Invalid checksum");return nt}return{encode:_,decode:et,decodeUnsafe:j}},{sha256:sha256$1}=sha256$2,bs58checkBase=base$1;function sha256x2(a){return sha256$1(sha256$1(a))}var bs58check=bs58checkBase(sha256x2);const bs58check$1=getDefaultExportFromCjs$1(bs58check);class TaquitoError extends Error{}class ParameterValidationError extends TaquitoError{}class RpcError extends TaquitoError{}class TezosToolkitConfigError extends TaquitoError{}class UnsupportedActionError extends TaquitoError{}class NetworkError extends TaquitoError{}class InvalidAddressError extends ParameterValidationError{constructor(_,$){super(),this.address=_,this.errorDetail=$,this.name="InvalidAddressError",this.message=`Invalid address "${_}"`,this.message+=$?` ${$}.`:"."}}class InvalidBlockHashError extends ParameterValidationError{constructor(_,$){super(),this.blockHash=_,this.errorDetail=$,this.name="InvalidBlockHashError",this.message=`Invalid block hash "${_}"`,this.message+=$?` ${$}.`:"."}}class InvalidAmountError extends ParameterValidationError{constructor(_){super(),this.amount=_,this.name="InvalidAmountError",this.message=`Invalid amount "${_}"`}}class InvalidDerivationPathError extends ParameterValidationError{constructor(_,$){super(),this.derivationPath=_,this.errorDetail=$,this.name="InvalidDerivationPathError",this.message=`Invalid derivation path "${_}"`,this.message+=$?` ${$}.`:"."}}class InvalidHexStringError extends ParameterValidationError{constructor(_,$){super(),this.hexString=_,this.errorDetail=$,this.name="InvalidHexStringError",this.message=`Invalid hex string "${_}"`,this.message+=$?` ${$}.`:"."}}class InvalidMessageError extends ParameterValidationError{constructor(_,$){super(),this.msg=_,this.errorDetail=$,this.name="InvalidMessageError",this.message=`Invalid message "${_}"`,this.message+=$?` ${$}.`:"."}}class InvalidViewParameterError extends ParameterValidationError{constructor(_,$,j,et){super(),this.viewName=_,this.sigs=$,this.args=j,this.cause=et,this.name="InvalidViewParameterError",this.message=`Invalid view arguments ${JSON.stringify(j)} received for name "${_}" expecting one of the following signatures ${JSON.stringify($)}.`}}class InvalidKeyError extends ParameterValidationError{constructor(_){super(),this.errorDetail=_,this.name="InvalidKeyError",this.message="Invalid private key",this.message+=_?` ${_}.`:"."}}class InvalidPublicKeyError extends ParameterValidationError{constructor(_,$){super(),this.publicKey=_,this.errorDetail=$,this.name="InvalidPublicKeyError",this.message=`Invalid public key "${_}"`,this.message+=$?` ${$}.`:"."}}class InvalidContractAddressError extends ParameterValidationError{constructor(_,$){super(),this.contractAddress=_,this.errorDetail=$,this.name="InvalidContractAddressError",this.message=`Invalid contract address "${_}"`,this.message+=$?` ${$}.`:"."}}class InvalidChainIdError extends ParameterValidationError{constructor(_,$){super(),this.chainId=_,this.errorDetail=$,this.name="InvalidChainIdError",this.message=`Invalid chain id "${_}"`,this.message+=$?` ${$}.`:"."}}class InvalidKeyHashError extends ParameterValidationError{constructor(_,$){super(),this.keyHash=_,this.errorDetail=$,this.name="InvalidKeyHashError",this.message=`Invalid public key hash "${_}"`,this.message+=$?` ${$}.`:"."}}class InvalidOperationHashError extends ParameterValidationError{constructor(_,$){super(),this.operationHash=_,this.errorDetail=$,this.name="InvalidOperationHashError",this.message=`Invalid operation hash "${_}"`,this.message+=$?` ${$}.`:"."}}class InvalidOperationKindError extends ParameterValidationError{constructor(_,$){super(),this.operationKind=_,this.errorDetail=$,this.name="InvalidOperationKindError",this.message=`Invalid operation kind "${_}"`,this.message+=$?` ${$}.`:"."}}class DeprecationError extends UnsupportedActionError{constructor(_){super(),this.message=_,this.name="DeprecationError"}}class ProhibitedActionError extends UnsupportedActionError{constructor(_){super(),this.message=_,this.name="ProhibitedActionError"}}class PublicKeyNotFoundError extends TaquitoError{constructor(_,$){super(),this.pkh=_,this.cause=$,this.name="PublicKeyNotFoundError",this.message=`Public key not found of this address "${_}" in either wallet or contract API.`}}var isNumeric=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,mathceil=Math.ceil,mathfloor=Math.floor,bignumberError="[BigNumber Error] ",tooManyDigits=bignumberError+"Number primitive has more than 15 significant digits: ",BASE=1e14,LOG_BASE=14,MAX_SAFE_INTEGER$2=9007199254740991,POWS_TEN=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],SQRT_BASE=1e7,MAX$1=1e9;function clone(a){var _,$,j,et=Tt.prototype={constructor:Tt,toString:null,valueOf:null},tt=new Tt(1),rt=20,nt=4,it=-7,st=21,ot=-1e7,at=1e7,ut=!1,ht=1,yt=0,wt={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:" ",suffix:""},Ct="0123456789abcdefghijklmnopqrstuvwxyz",Pt=!0;function Tt(It,Bt){var Ft,jt,bt,vt,ct,dt,mt,xt,At=this;if(!(At instanceof Tt))return new Tt(It,Bt);if(Bt==null){if(It&&It._isBigNumber===!0){At.s=It.s,!It.c||It.e>at?At.c=At.e=null:It.e<ot?At.c=[At.e=0]:(At.e=It.e,At.c=It.c.slice());return}if((dt=typeof It=="number")&&It*0==0){if(At.s=1/It<0?(It=-It,-1):1,It===~~It){for(vt=0,ct=It;ct>=10;ct/=10,vt++);vt>at?At.c=At.e=null:(At.e=vt,At.c=[It]);return}xt=String(It)}else{if(!isNumeric.test(xt=String(It)))return j(At,xt,dt);At.s=xt.charCodeAt(0)==45?(xt=xt.slice(1),-1):1}(vt=xt.indexOf("."))>-1&&(xt=xt.replace(".","")),(ct=xt.search(/e/i))>0?(vt<0&&(vt=ct),vt+=+xt.slice(ct+1),xt=xt.substring(0,ct)):vt<0&&(vt=xt.length)}else{if(intCheck(Bt,2,Ct.length,"Base"),Bt==10&&Pt)return At=new Tt(It),Ut(At,rt+At.e+1,nt);if(xt=String(It),dt=typeof It=="number"){if(It*0!=0)return j(At,xt,dt,Bt);if(At.s=1/It<0?(xt=xt.slice(1),-1):1,Tt.DEBUG&&xt.replace(/^0\.0*|\./,"").length>15)throw Error(tooManyDigits+It)}else At.s=xt.charCodeAt(0)===45?(xt=xt.slice(1),-1):1;for(Ft=Ct.slice(0,Bt),vt=ct=0,mt=xt.length;ct<mt;ct++)if(Ft.indexOf(jt=xt.charAt(ct))<0){if(jt=="."){if(ct>vt){vt=mt;continue}}else if(!bt&&(xt==xt.toUpperCase()&&(xt=xt.toLowerCase())||xt==xt.toLowerCase()&&(xt=xt.toUpperCase()))){bt=!0,ct=-1,vt=0;continue}return j(At,String(It),dt,Bt)}dt=!1,xt=$(xt,Bt,10,At.s),(vt=xt.indexOf("."))>-1?xt=xt.replace(".",""):vt=xt.length}for(ct=0;xt.charCodeAt(ct)===48;ct++);for(mt=xt.length;xt.charCodeAt(--mt)===48;);if(xt=xt.slice(ct,++mt)){if(mt-=ct,dt&&Tt.DEBUG&&mt>15&&(It>MAX_SAFE_INTEGER$2||It!==mathfloor(It)))throw Error(tooManyDigits+At.s*It);if((vt=vt-ct-1)>at)At.c=At.e=null;else if(vt<ot)At.c=[At.e=0];else{if(At.e=vt,At.c=[],ct=(vt+1)%LOG_BASE,vt<0&&(ct+=LOG_BASE),ct<mt){for(ct&&At.c.push(+xt.slice(0,ct)),mt-=LOG_BASE;ct<mt;)At.c.push(+xt.slice(ct,ct+=LOG_BASE));ct=LOG_BASE-(xt=xt.slice(ct)).length}else ct-=mt;for(;ct--;xt+="0");At.c.push(+xt)}}else At.c=[At.e=0]}Tt.clone=clone,Tt.ROUND_UP=0,Tt.ROUND_DOWN=1,Tt.ROUND_CEIL=2,Tt.ROUND_FLOOR=3,Tt.ROUND_HALF_UP=4,Tt.ROUND_HALF_DOWN=5,Tt.ROUND_HALF_EVEN=6,Tt.ROUND_HALF_CEIL=7,Tt.ROUND_HALF_FLOOR=8,Tt.EUCLID=9,Tt.config=Tt.set=function(It){var Bt,Ft;if(It!=null)if(typeof It=="object"){if(It.hasOwnProperty(Bt="DECIMAL_PLACES")&&(Ft=It[Bt],intCheck(Ft,0,MAX$1,Bt),rt=Ft),It.hasOwnProperty(Bt="ROUNDING_MODE")&&(Ft=It[Bt],intCheck(Ft,0,8,Bt),nt=Ft),It.hasOwnProperty(Bt="EXPONENTIAL_AT")&&(Ft=It[Bt],Ft&&Ft.pop?(intCheck(Ft[0],-MAX$1,0,Bt),intCheck(Ft[1],0,MAX$1,Bt),it=Ft[0],st=Ft[1]):(intCheck(Ft,-MAX$1,MAX$1,Bt),it=-(st=Ft<0?-Ft:Ft))),It.hasOwnProperty(Bt="RANGE"))if(Ft=It[Bt],Ft&&Ft.pop)intCheck(Ft[0],-MAX$1,-1,Bt),intCheck(Ft[1],1,MAX$1,Bt),ot=Ft[0],at=Ft[1];else if(intCheck(Ft,-MAX$1,MAX$1,Bt),Ft)ot=-(at=Ft<0?-Ft:Ft);else throw Error(bignumberError+Bt+" cannot be zero: "+Ft);if(It.hasOwnProperty(Bt="CRYPTO"))if(Ft=It[Bt],Ft===!!Ft)if(Ft)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))ut=Ft;else throw ut=!Ft,Error(bignumberError+"crypto unavailable");else ut=Ft;else throw Error(bignumberError+Bt+" not true or false: "+Ft);if(It.hasOwnProperty(Bt="MODULO_MODE")&&(Ft=It[Bt],intCheck(Ft,0,9,Bt),ht=Ft),It.hasOwnProperty(Bt="POW_PRECISION")&&(Ft=It[Bt],intCheck(Ft,0,MAX$1,Bt),yt=Ft),It.hasOwnProperty(Bt="FORMAT"))if(Ft=It[Bt],typeof Ft=="object")wt=Ft;else throw Error(bignumberError+Bt+" not an object: "+Ft);if(It.hasOwnProperty(Bt="ALPHABET"))if(Ft=It[Bt],typeof Ft=="string"&&!/^.?$|[+\-.\s]|(.).*\1/.test(Ft))Pt=Ft.slice(0,10)=="0123456789",Ct=Ft;else throw Error(bignumberError+Bt+" invalid: "+Ft)}else throw Error(bignumberError+"Object expected: "+It);return{DECIMAL_PLACES:rt,ROUNDING_MODE:nt,EXPONENTIAL_AT:[it,st],RANGE:[ot,at],CRYPTO:ut,MODULO_MODE:ht,POW_PRECISION:yt,FORMAT:wt,ALPHABET:Ct}},Tt.isBigNumber=function(It){if(!It||It._isBigNumber!==!0)return!1;if(!Tt.DEBUG)return!0;var Bt,Ft,jt=It.c,bt=It.e,vt=It.s;e:if({}.toString.call(jt)=="[object Array]"){if((vt===1||vt===-1)&&bt>=-MAX$1&&bt<=MAX$1&&bt===mathfloor(bt)){if(jt[0]===0){if(bt===0&&jt.length===1)return!0;break e}if(Bt=(bt+1)%LOG_BASE,Bt<1&&(Bt+=LOG_BASE),String(jt[0]).length==Bt){for(Bt=0;Bt<jt.length;Bt++)if(Ft=jt[Bt],Ft<0||Ft>=BASE||Ft!==mathfloor(Ft))break e;if(Ft!==0)return!0}}}else if(jt===null&&bt===null&&(vt===null||vt===1||vt===-1))return!0;throw Error(bignumberError+"Invalid BigNumber: "+It)},Tt.maximum=Tt.max=function(){return Lt(arguments,-1)},Tt.minimum=Tt.min=function(){return Lt(arguments,1)},Tt.random=function(){var It=9007199254740992,Bt=Math.random()*It&2097151?function(){return mathfloor(Math.random()*It)}:function(){return(Math.random()*1073741824|0)*8388608+(Math.random()*8388608|0)};return function(Ft){var jt,bt,vt,ct,dt,mt=0,xt=[],At=new Tt(tt);if(Ft==null?Ft=rt:intCheck(Ft,0,MAX$1),ct=mathceil(Ft/LOG_BASE),ut)if(crypto.getRandomValues){for(jt=crypto.getRandomValues(new Uint32Array(ct*=2));mt<ct;)dt=jt[mt]*131072+(jt[mt+1]>>>11),dt>=9e15?(bt=crypto.getRandomValues(new Uint32Array(2)),jt[mt]=bt[0],jt[mt+1]=bt[1]):(xt.push(dt%1e14),mt+=2);mt=ct/2}else if(crypto.randomBytes){for(jt=crypto.randomBytes(ct*=7);mt<ct;)dt=(jt[mt]&31)*281474976710656+jt[mt+1]*1099511627776+jt[mt+2]*4294967296+jt[mt+3]*16777216+(jt[mt+4]<<16)+(jt[mt+5]<<8)+jt[mt+6],dt>=9e15?crypto.randomBytes(7).copy(jt,mt):(xt.push(dt%1e14),mt+=7);mt=ct/7}else throw ut=!1,Error(bignumberError+"crypto unavailable");if(!ut)for(;mt<ct;)dt=Bt(),dt<9e15&&(xt[mt++]=dt%1e14);for(ct=xt[--mt],Ft%=LOG_BASE,ct&&Ft&&(dt=POWS_TEN[LOG_BASE-Ft],xt[mt]=mathfloor(ct/dt)*dt);xt[mt]===0;xt.pop(),mt--);if(mt<0)xt=[vt=0];else{for(vt=-1;xt[0]===0;xt.splice(0,1),vt-=LOG_BASE);for(mt=1,dt=xt[0];dt>=10;dt/=10,mt++);mt<LOG_BASE&&(vt-=LOG_BASE-mt)}return At.e=vt,At.c=xt,At}}(),Tt.sum=function(){for(var It=1,Bt=arguments,Ft=new Tt(Bt[0]);It<Bt.length;)Ft=Ft.plus(Bt[It++]);return Ft},$=function(){var It="0123456789";function Bt(Ft,jt,bt,vt){for(var ct,dt=[0],mt,xt=0,At=Ft.length;xt<At;){for(mt=dt.length;mt--;dt[mt]*=jt);for(dt[0]+=vt.indexOf(Ft.charAt(xt++)),ct=0;ct<dt.length;ct++)dt[ct]>bt-1&&(dt[ct+1]==null&&(dt[ct+1]=0),dt[ct+1]+=dt[ct]/bt|0,dt[ct]%=bt)}return dt.reverse()}return function(Ft,jt,bt,vt,ct){var dt,mt,xt,At,Rt,St,$t,Et,Nt=Ft.indexOf("."),tr=rt,ir=nt;for(Nt>=0&&(At=yt,yt=0,Ft=Ft.replace(".",""),Et=new Tt(jt),St=Et.pow(Ft.length-Nt),yt=At,Et.c=Bt(toFixedPoint(coeffToString(St.c),St.e,"0"),10,bt,It),Et.e=Et.c.length),$t=Bt(Ft,jt,bt,ct?(dt=Ct,It):(dt=It,Ct)),xt=At=$t.length;$t[--At]==0;$t.pop());if(!$t[0])return dt.charAt(0);if(Nt<0?--xt:(St.c=$t,St.e=xt,St.s=vt,St=_(St,Et,tr,ir,bt),$t=St.c,Rt=St.r,xt=St.e),mt=xt+tr+1,Nt=$t[mt],At=bt/2,Rt=Rt||mt<0||$t[mt+1]!=null,Rt=ir<4?(Nt!=null||Rt)&&(ir==0||ir==(St.s<0?3:2)):Nt>At||Nt==At&&(ir==4||Rt||ir==6&&$t[mt-1]&1||ir==(St.s<0?8:7)),mt<1||!$t[0])Ft=Rt?toFixedPoint(dt.charAt(1),-tr,dt.charAt(0)):dt.charAt(0);else{if($t.length=mt,Rt)for(--bt;++$t[--mt]>bt;)$t[mt]=0,mt||(++xt,$t=[1].concat($t));for(At=$t.length;!$t[--At];);for(Nt=0,Ft="";Nt<=At;Ft+=dt.charAt($t[Nt++]));Ft=toFixedPoint(Ft,xt,dt.charAt(0))}return Ft}}(),_=function(){function It(jt,bt,vt){var ct,dt,mt,xt,At=0,Rt=jt.length,St=bt%SQRT_BASE,$t=bt/SQRT_BASE|0;for(jt=jt.slice();Rt--;)mt=jt[Rt]%SQRT_BASE,xt=jt[Rt]/SQRT_BASE|0,ct=$t*mt+xt*St,dt=St*mt+ct%SQRT_BASE*SQRT_BASE+At,At=(dt/vt|0)+(ct/SQRT_BASE|0)+$t*xt,jt[Rt]=dt%vt;return At&&(jt=[At].concat(jt)),jt}function Bt(jt,bt,vt,ct){var dt,mt;if(vt!=ct)mt=vt>ct?1:-1;else for(dt=mt=0;dt<vt;dt++)if(jt[dt]!=bt[dt]){mt=jt[dt]>bt[dt]?1:-1;break}return mt}function Ft(jt,bt,vt,ct){for(var dt=0;vt--;)jt[vt]-=dt,dt=jt[vt]<bt[vt]?1:0,jt[vt]=dt*ct+jt[vt]-bt[vt];for(;!jt[0]&&jt.length>1;jt.splice(0,1));}return function(jt,bt,vt,ct,dt){var mt,xt,At,Rt,St,$t,Et,Nt,tr,ir,nr,Zt,Kt,Qt,Ht,qt,Jt,ur=jt.s==bt.s?1:-1,xr=jt.c,pr=bt.c;if(!xr||!xr[0]||!pr||!pr[0])return new Tt(!jt.s||!bt.s||(xr?pr&&xr[0]==pr[0]:!pr)?NaN:xr&&xr[0]==0||!pr?ur*0:ur/0);for(Nt=new Tt(ur),tr=Nt.c=[],xt=jt.e-bt.e,ur=vt+xt+1,dt||(dt=BASE,xt=bitFloor(jt.e/LOG_BASE)-bitFloor(bt.e/LOG_BASE),ur=ur/LOG_BASE|0),At=0;pr[At]==(xr[At]||0);At++);if(pr[At]>(xr[At]||0)&&xt--,ur<0)tr.push(1),Rt=!0;else{for(Qt=xr.length,qt=pr.length,At=0,ur+=2,St=mathfloor(dt/(pr[0]+1)),St>1&&(pr=It(pr,St,dt),xr=It(xr,St,dt),qt=pr.length,Qt=xr.length),Kt=qt,ir=xr.slice(0,qt),nr=ir.length;nr<qt;ir[nr++]=0);Jt=pr.slice(),Jt=[0].concat(Jt),Ht=pr[0],pr[1]>=dt/2&&Ht++;do{if(St=0,mt=Bt(pr,ir,qt,nr),mt<0){if(Zt=ir[0],qt!=nr&&(Zt=Zt*dt+(ir[1]||0)),St=mathfloor(Zt/Ht),St>1)for(St>=dt&&(St=dt-1),$t=It(pr,St,dt),Et=$t.length,nr=ir.length;Bt($t,ir,Et,nr)==1;)St--,Ft($t,qt<Et?Jt:pr,Et,dt),Et=$t.length,mt=1;else St==0&&(mt=St=1),$t=pr.slice(),Et=$t.length;if(Et<nr&&($t=[0].concat($t)),Ft(ir,$t,nr,dt),nr=ir.length,mt==-1)for(;Bt(pr,ir,qt,nr)<1;)St++,Ft(ir,qt<nr?Jt:pr,nr,dt),nr=ir.length}else mt===0&&(St++,ir=[0]);tr[At++]=St,ir[0]?ir[nr++]=xr[Kt]||0:(ir=[xr[Kt]],nr=1)}while((Kt++<Qt||ir[0]!=null)&&ur--);Rt=ir[0]!=null,tr[0]||tr.splice(0,1)}if(dt==BASE){for(At=1,ur=tr[0];ur>=10;ur/=10,At++);Ut(Nt,vt+(Nt.e=At+xt*LOG_BASE-1)+1,ct,Rt)}else Nt.e=xt,Nt.r=+Rt;return Nt}}();function Mt(It,Bt,Ft,jt){var bt,vt,ct,dt,mt;if(Ft==null?Ft=nt:intCheck(Ft,0,8),!It.c)return It.toString();if(bt=It.c[0],ct=It.e,Bt==null)mt=coeffToString(It.c),mt=jt==1||jt==2&&(ct<=it||ct>=st)?toExponential(mt,ct):toFixedPoint(mt,ct,"0");else if(It=Ut(new Tt(It),Bt,Ft),vt=It.e,mt=coeffToString(It.c),dt=mt.length,jt==1||jt==2&&(Bt<=vt||vt<=it)){for(;dt<Bt;mt+="0",dt++);mt=toExponential(mt,vt)}else if(Bt-=ct,mt=toFixedPoint(mt,vt,"0"),vt+1>dt){if(--Bt>0)for(mt+=".";Bt--;mt+="0");}else if(Bt+=vt-dt,Bt>0)for(vt+1==dt&&(mt+=".");Bt--;mt+="0");return It.s<0&&bt?"-"+mt:mt}function Lt(It,Bt){for(var Ft,jt,bt=1,vt=new Tt(It[0]);bt<It.length;bt++)jt=new Tt(It[bt]),(!jt.s||(Ft=compare$c(vt,jt))===Bt||Ft===0&&vt.s===Bt)&&(vt=jt);return vt}function Dt(It,Bt,Ft){for(var jt=1,bt=Bt.length;!Bt[--bt];Bt.pop());for(bt=Bt[0];bt>=10;bt/=10,jt++);return(Ft=jt+Ft*LOG_BASE-1)>at?It.c=It.e=null:Ft<ot?It.c=[It.e=0]:(It.e=Ft,It.c=Bt),It}j=function(){var It=/^(-?)0([xbo])(?=\w[\w.]*$)/i,Bt=/^([^.]+)\.$/,Ft=/^\.([^.]+)$/,jt=/^-?(Infinity|NaN)$/,bt=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(vt,ct,dt,mt){var xt,At=dt?ct:ct.replace(bt,"");if(jt.test(At))vt.s=isNaN(At)?null:At<0?-1:1;else{if(!dt&&(At=At.replace(It,function(Rt,St,$t){return xt=($t=$t.toLowerCase())=="x"?16:$t=="b"?2:8,!mt||mt==xt?St:Rt}),mt&&(xt=mt,At=At.replace(Bt,"$1").replace(Ft,"0.$1")),ct!=At))return new Tt(At,xt);if(Tt.DEBUG)throw Error(bignumberError+"Not a"+(mt?" base "+mt:"")+" number: "+ct);vt.s=null}vt.c=vt.e=null}}();function Ut(It,Bt,Ft,jt){var bt,vt,ct,dt,mt,xt,At,Rt=It.c,St=POWS_TEN;if(Rt){e:{for(bt=1,dt=Rt[0];dt>=10;dt/=10,bt++);if(vt=Bt-bt,vt<0)vt+=LOG_BASE,ct=Bt,mt=Rt[xt=0],At=mathfloor(mt/St[bt-ct-1]%10);else if(xt=mathceil((vt+1)/LOG_BASE),xt>=Rt.length)if(jt){for(;Rt.length<=xt;Rt.push(0));mt=At=0,bt=1,vt%=LOG_BASE,ct=vt-LOG_BASE+1}else break e;else{for(mt=dt=Rt[xt],bt=1;dt>=10;dt/=10,bt++);vt%=LOG_BASE,ct=vt-LOG_BASE+bt,At=ct<0?0:mathfloor(mt/St[bt-ct-1]%10)}if(jt=jt||Bt<0||Rt[xt+1]!=null||(ct<0?mt:mt%St[bt-ct-1]),jt=Ft<4?(At||jt)&&(Ft==0||Ft==(It.s<0?3:2)):At>5||At==5&&(Ft==4||jt||Ft==6&&(vt>0?ct>0?mt/St[bt-ct]:0:Rt[xt-1])%10&1||Ft==(It.s<0?8:7)),Bt<1||!Rt[0])return Rt.length=0,jt?(Bt-=It.e+1,Rt[0]=St[(LOG_BASE-Bt%LOG_BASE)%LOG_BASE],It.e=-Bt||0):Rt[0]=It.e=0,It;if(vt==0?(Rt.length=xt,dt=1,xt--):(Rt.length=xt+1,dt=St[LOG_BASE-vt],Rt[xt]=ct>0?mathfloor(mt/St[bt-ct]%St[ct])*dt:0),jt)for(;;)if(xt==0){for(vt=1,ct=Rt[0];ct>=10;ct/=10,vt++);for(ct=Rt[0]+=dt,dt=1;ct>=10;ct/=10,dt++);vt!=dt&&(It.e++,Rt[0]==BASE&&(Rt[0]=1));break}else{if(Rt[xt]+=dt,Rt[xt]!=BASE)break;Rt[xt--]=0,dt=1}for(vt=Rt.length;Rt[--vt]===0;Rt.pop());}It.e>at?It.c=It.e=null:It.e<ot&&(It.c=[It.e=0])}return It}function Ot(It){var Bt,Ft=It.e;return Ft===null?It.toString():(Bt=coeffToString(It.c),Bt=Ft<=it||Ft>=st?toExponential(Bt,Ft):toFixedPoint(Bt,Ft,"0"),It.s<0?"-"+Bt:Bt)}return et.absoluteValue=et.abs=function(){var It=new Tt(this);return It.s<0&&(It.s=1),It},et.comparedTo=function(It,Bt){return compare$c(this,new Tt(It,Bt))},et.decimalPlaces=et.dp=function(It,Bt){var Ft,jt,bt,vt=this;if(It!=null)return intCheck(It,0,MAX$1),Bt==null?Bt=nt:intCheck(Bt,0,8),Ut(new Tt(vt),It+vt.e+1,Bt);if(!(Ft=vt.c))return null;if(jt=((bt=Ft.length-1)-bitFloor(this.e/LOG_BASE))*LOG_BASE,bt=Ft[bt])for(;bt%10==0;bt/=10,jt--);return jt<0&&(jt=0),jt},et.dividedBy=et.div=function(It,Bt){return _(this,new Tt(It,Bt),rt,nt)},et.dividedToIntegerBy=et.idiv=function(It,Bt){return _(this,new Tt(It,Bt),0,1)},et.exponentiatedBy=et.pow=function(It,Bt){var Ft,jt,bt,vt,ct,dt,mt,xt,At,Rt=this;if(It=new Tt(It),It.c&&!It.isInteger())throw Error(bignumberError+"Exponent not an integer: "+Ot(It));if(Bt!=null&&(Bt=new Tt(Bt)),dt=It.e>14,!Rt.c||!Rt.c[0]||Rt.c[0]==1&&!Rt.e&&Rt.c.length==1||!It.c||!It.c[0])return At=new Tt(Math.pow(+Ot(Rt),dt?It.s*(2-isOdd(It)):+Ot(It))),Bt?At.mod(Bt):At;if(mt=It.s<0,Bt){if(Bt.c?!Bt.c[0]:!Bt.s)return new Tt(NaN);jt=!mt&&Rt.isInteger()&&Bt.isInteger(),jt&&(Rt=Rt.mod(Bt))}else{if(It.e>9&&(Rt.e>0||Rt.e<-1||(Rt.e==0?Rt.c[0]>1||dt&&Rt.c[1]>=24e7:Rt.c[0]<8e13||dt&&Rt.c[0]<=9999975e7)))return vt=Rt.s<0&&isOdd(It)?-0:0,Rt.e>-1&&(vt=1/vt),new Tt(mt?1/vt:vt);yt&&(vt=mathceil(yt/LOG_BASE+2))}for(dt?(Ft=new Tt(.5),mt&&(It.s=1),xt=isOdd(It)):(bt=Math.abs(+Ot(It)),xt=bt%2),At=new Tt(tt);;){if(xt){if(At=At.times(Rt),!At.c)break;vt?At.c.length>vt&&(At.c.length=vt):jt&&(At=At.mod(Bt))}if(bt){if(bt=mathfloor(bt/2),bt===0)break;xt=bt%2}else if(It=It.times(Ft),Ut(It,It.e+1,1),It.e>14)xt=isOdd(It);else{if(bt=+Ot(It),bt===0)break;xt=bt%2}Rt=Rt.times(Rt),vt?Rt.c&&Rt.c.length>vt&&(Rt.c.length=vt):jt&&(Rt=Rt.mod(Bt))}return jt?At:(mt&&(At=tt.div(At)),Bt?At.mod(Bt):vt?Ut(At,yt,nt,ct):At)},et.integerValue=function(It){var Bt=new Tt(this);return It==null?It=nt:intCheck(It,0,8),Ut(Bt,Bt.e+1,It)},et.isEqualTo=et.eq=function(It,Bt){return compare$c(this,new Tt(It,Bt))===0},et.isFinite=function(){return!!this.c},et.isGreaterThan=et.gt=function(It,Bt){return compare$c(this,new Tt(It,Bt))>0},et.isGreaterThanOrEqualTo=et.gte=function(It,Bt){return(Bt=compare$c(this,new Tt(It,Bt)))===1||Bt===0},et.isInteger=function(){return!!this.c&&bitFloor(this.e/LOG_BASE)>this.c.length-2},et.isLessThan=et.lt=function(It,Bt){return compare$c(this,new Tt(It,Bt))<0},et.isLessThanOrEqualTo=et.lte=function(It,Bt){return(Bt=compare$c(this,new Tt(It,Bt)))===-1||Bt===0},et.isNaN=function(){return!this.s},et.isNegative=function(){return this.s<0},et.isPositive=function(){return this.s>0},et.isZero=function(){return!!this.c&&this.c[0]==0},et.minus=function(It,Bt){var Ft,jt,bt,vt,ct=this,dt=ct.s;if(It=new Tt(It,Bt),Bt=It.s,!dt||!Bt)return new Tt(NaN);if(dt!=Bt)return It.s=-Bt,ct.plus(It);var mt=ct.e/LOG_BASE,xt=It.e/LOG_BASE,At=ct.c,Rt=It.c;if(!mt||!xt){if(!At||!Rt)return At?(It.s=-Bt,It):new Tt(Rt?ct:NaN);if(!At[0]||!Rt[0])return Rt[0]?(It.s=-Bt,It):new Tt(At[0]?ct:nt==3?-0:0)}if(mt=bitFloor(mt),xt=bitFloor(xt),At=At.slice(),dt=mt-xt){for((vt=dt<0)?(dt=-dt,bt=At):(xt=mt,bt=Rt),bt.reverse(),Bt=dt;Bt--;bt.push(0));bt.reverse()}else for(jt=(vt=(dt=At.length)<(Bt=Rt.length))?dt:Bt,dt=Bt=0;Bt<jt;Bt++)if(At[Bt]!=Rt[Bt]){vt=At[Bt]<Rt[Bt];break}if(vt&&(bt=At,At=Rt,Rt=bt,It.s=-It.s),Bt=(jt=Rt.length)-(Ft=At.length),Bt>0)for(;Bt--;At[Ft++]=0);for(Bt=BASE-1;jt>dt;){if(At[--jt]<Rt[jt]){for(Ft=jt;Ft&&!At[--Ft];At[Ft]=Bt);--At[Ft],At[jt]+=BASE}At[jt]-=Rt[jt]}for(;At[0]==0;At.splice(0,1),--xt);return At[0]?Dt(It,At,xt):(It.s=nt==3?-1:1,It.c=[It.e=0],It)},et.modulo=et.mod=function(It,Bt){var Ft,jt,bt=this;return It=new Tt(It,Bt),!bt.c||!It.s||It.c&&!It.c[0]?new Tt(NaN):!It.c||bt.c&&!bt.c[0]?new Tt(bt):(ht==9?(jt=It.s,It.s=1,Ft=_(bt,It,0,3),It.s=jt,Ft.s*=jt):Ft=_(bt,It,0,ht),It=bt.minus(Ft.times(It)),!It.c[0]&&ht==1&&(It.s=bt.s),It)},et.multipliedBy=et.times=function(It,Bt){var Ft,jt,bt,vt,ct,dt,mt,xt,At,Rt,St,$t,Et,Nt,tr,ir=this,nr=ir.c,Zt=(It=new Tt(It,Bt)).c;if(!nr||!Zt||!nr[0]||!Zt[0])return!ir.s||!It.s||nr&&!nr[0]&&!Zt||Zt&&!Zt[0]&&!nr?It.c=It.e=It.s=null:(It.s*=ir.s,!nr||!Zt?It.c=It.e=null:(It.c=[0],It.e=0)),It;for(jt=bitFloor(ir.e/LOG_BASE)+bitFloor(It.e/LOG_BASE),It.s*=ir.s,mt=nr.length,Rt=Zt.length,mt<Rt&&(Et=nr,nr=Zt,Zt=Et,bt=mt,mt=Rt,Rt=bt),bt=mt+Rt,Et=[];bt--;Et.push(0));for(Nt=BASE,tr=SQRT_BASE,bt=Rt;--bt>=0;){for(Ft=0,St=Zt[bt]%tr,$t=Zt[bt]/tr|0,ct=mt,vt=bt+ct;vt>bt;)xt=nr[--ct]%tr,At=nr[ct]/tr|0,dt=$t*xt+At*St,xt=St*xt+dt%tr*tr+Et[vt]+Ft,Ft=(xt/Nt|0)+(dt/tr|0)+$t*At,Et[vt--]=xt%Nt;Et[vt]=Ft}return Ft?++jt:Et.splice(0,1),Dt(It,Et,jt)},et.negated=function(){var It=new Tt(this);return It.s=-It.s||null,It},et.plus=function(It,Bt){var Ft,jt=this,bt=jt.s;if(It=new Tt(It,Bt),Bt=It.s,!bt||!Bt)return new Tt(NaN);if(bt!=Bt)return It.s=-Bt,jt.minus(It);var vt=jt.e/LOG_BASE,ct=It.e/LOG_BASE,dt=jt.c,mt=It.c;if(!vt||!ct){if(!dt||!mt)return new Tt(bt/0);if(!dt[0]||!mt[0])return mt[0]?It:new Tt(dt[0]?jt:bt*0)}if(vt=bitFloor(vt),ct=bitFloor(ct),dt=dt.slice(),bt=vt-ct){for(bt>0?(ct=vt,Ft=mt):(bt=-bt,Ft=dt),Ft.reverse();bt--;Ft.push(0));Ft.reverse()}for(bt=dt.length,Bt=mt.length,bt-Bt<0&&(Ft=mt,mt=dt,dt=Ft,Bt=bt),bt=0;Bt;)bt=(dt[--Bt]=dt[Bt]+mt[Bt]+bt)/BASE|0,dt[Bt]=BASE===dt[Bt]?0:dt[Bt]%BASE;return bt&&(dt=[bt].concat(dt),++ct),Dt(It,dt,ct)},et.precision=et.sd=function(It,Bt){var Ft,jt,bt,vt=this;if(It!=null&&It!==!!It)return intCheck(It,1,MAX$1),Bt==null?Bt=nt:intCheck(Bt,0,8),Ut(new Tt(vt),It,Bt);if(!(Ft=vt.c))return null;if(bt=Ft.length-1,jt=bt*LOG_BASE+1,bt=Ft[bt]){for(;bt%10==0;bt/=10,jt--);for(bt=Ft[0];bt>=10;bt/=10,jt++);}return It&&vt.e+1>jt&&(jt=vt.e+1),jt},et.shiftedBy=function(It){return intCheck(It,-MAX_SAFE_INTEGER$2,MAX_SAFE_INTEGER$2),this.times("1e"+It)},et.squareRoot=et.sqrt=function(){var It,Bt,Ft,jt,bt,vt=this,ct=vt.c,dt=vt.s,mt=vt.e,xt=rt+4,At=new Tt("0.5");if(dt!==1||!ct||!ct[0])return new Tt(!dt||dt<0&&(!ct||ct[0])?NaN:ct?vt:1/0);if(dt=Math.sqrt(+Ot(vt)),dt==0||dt==1/0?(Bt=coeffToString(ct),(Bt.length+mt)%2==0&&(Bt+="0"),dt=Math.sqrt(+Bt),mt=bitFloor((mt+1)/2)-(mt<0||mt%2),dt==1/0?Bt="5e"+mt:(Bt=dt.toExponential(),Bt=Bt.slice(0,Bt.indexOf("e")+1)+mt),Ft=new Tt(Bt)):Ft=new Tt(dt+""),Ft.c[0]){for(mt=Ft.e,dt=mt+xt,dt<3&&(dt=0);;)if(bt=Ft,Ft=At.times(bt.plus(_(vt,bt,xt,1))),coeffToString(bt.c).slice(0,dt)===(Bt=coeffToString(Ft.c)).slice(0,dt))if(Ft.e<mt&&--dt,Bt=Bt.slice(dt-3,dt+1),Bt=="9999"||!jt&&Bt=="4999"){if(!jt&&(Ut(bt,bt.e+rt+2,0),bt.times(bt).eq(vt))){Ft=bt;break}xt+=4,dt+=4,jt=1}else{(!+Bt||!+Bt.slice(1)&&Bt.charAt(0)=="5")&&(Ut(Ft,Ft.e+rt+2,1),It=!Ft.times(Ft).eq(vt));break}}return Ut(Ft,Ft.e+rt+1,nt,It)},et.toExponential=function(It,Bt){return It!=null&&(intCheck(It,0,MAX$1),It++),Mt(this,It,Bt,1)},et.toFixed=function(It,Bt){return It!=null&&(intCheck(It,0,MAX$1),It=It+this.e+1),Mt(this,It,Bt)},et.toFormat=function(It,Bt,Ft){var jt,bt=this;if(Ft==null)It!=null&&Bt&&typeof Bt=="object"?(Ft=Bt,Bt=null):It&&typeof It=="object"?(Ft=It,It=Bt=null):Ft=wt;else if(typeof Ft!="object")throw Error(bignumberError+"Argument not an object: "+Ft);if(jt=bt.toFixed(It,Bt),bt.c){var vt,ct=jt.split("."),dt=+Ft.groupSize,mt=+Ft.secondaryGroupSize,xt=Ft.groupSeparator||"",At=ct[0],Rt=ct[1],St=bt.s<0,$t=St?At.slice(1):At,Et=$t.length;if(mt&&(vt=dt,dt=mt,mt=vt,Et-=vt),dt>0&&Et>0){for(vt=Et%dt||dt,At=$t.substr(0,vt);vt<Et;vt+=dt)At+=xt+$t.substr(vt,dt);mt>0&&(At+=xt+$t.slice(vt)),St&&(At="-"+At)}jt=Rt?At+(Ft.decimalSeparator||"")+((mt=+Ft.fractionGroupSize)?Rt.replace(new RegExp("\\d{"+mt+"}\\B","g"),"$&"+(Ft.fractionGroupSeparator||"")):Rt):At}return(Ft.prefix||"")+jt+(Ft.suffix||"")},et.toFraction=function(It){var Bt,Ft,jt,bt,vt,ct,dt,mt,xt,At,Rt,St,$t=this,Et=$t.c;if(It!=null&&(dt=new Tt(It),!dt.isInteger()&&(dt.c||dt.s!==1)||dt.lt(tt)))throw Error(bignumberError+"Argument "+(dt.isInteger()?"out of range: ":"not an integer: ")+Ot(dt));if(!Et)return new Tt($t);for(Bt=new Tt(tt),xt=Ft=new Tt(tt),jt=mt=new Tt(tt),St=coeffToString(Et),vt=Bt.e=St.length-$t.e-1,Bt.c[0]=POWS_TEN[(ct=vt%LOG_BASE)<0?LOG_BASE+ct:ct],It=!It||dt.comparedTo(Bt)>0?vt>0?Bt:xt:dt,ct=at,at=1/0,dt=new Tt(St),mt.c[0]=0;At=_(dt,Bt,0,1),bt=Ft.plus(At.times(jt)),bt.comparedTo(It)!=1;)Ft=jt,jt=bt,xt=mt.plus(At.times(bt=xt)),mt=bt,Bt=dt.minus(At.times(bt=Bt)),dt=bt;return bt=_(It.minus(Ft),jt,0,1),mt=mt.plus(bt.times(xt)),Ft=Ft.plus(bt.times(jt)),mt.s=xt.s=$t.s,vt=vt*2,Rt=_(xt,jt,vt,nt).minus($t).abs().comparedTo(_(mt,Ft,vt,nt).minus($t).abs())<1?[xt,jt]:[mt,Ft],at=ct,Rt},et.toNumber=function(){return+Ot(this)},et.toPrecision=function(It,Bt){return It!=null&&intCheck(It,1,MAX$1),Mt(this,It,Bt,2)},et.toString=function(It){var Bt,Ft=this,jt=Ft.s,bt=Ft.e;return bt===null?jt?(Bt="Infinity",jt<0&&(Bt="-"+Bt)):Bt="NaN":(It==null?Bt=bt<=it||bt>=st?toExponential(coeffToString(Ft.c),bt):toFixedPoint(coeffToString(Ft.c),bt,"0"):It===10&&Pt?(Ft=Ut(new Tt(Ft),rt+bt+1,nt),Bt=toFixedPoint(coeffToString(Ft.c),Ft.e,"0")):(intCheck(It,2,Ct.length,"Base"),Bt=$(toFixedPoint(coeffToString(Ft.c),bt,"0"),10,It,jt,!0)),jt<0&&Ft.c[0]&&(Bt="-"+Bt)),Bt},et.valueOf=et.toJSON=function(){return Ot(this)},et._isBigNumber=!0,et[Symbol.toStringTag]="BigNumber",et[Symbol.for("nodejs.util.inspect.custom")]=et.valueOf,a!=null&&Tt.set(a),Tt}function bitFloor(a){var _=a|0;return a>0||a===_?_:_-1}function coeffToString(a){for(var _,$,j=1,et=a.length,tt=a[0]+"";j<et;){for(_=a[j++]+"",$=LOG_BASE-_.length;$--;_="0"+_);tt+=_}for(et=tt.length;tt.charCodeAt(--et)===48;);return tt.slice(0,et+1||1)}function compare$c(a,_){var $,j,et=a.c,tt=_.c,rt=a.s,nt=_.s,it=a.e,st=_.e;if(!rt||!nt)return null;if($=et&&!et[0],j=tt&&!tt[0],$||j)return $?j?0:-nt:rt;if(rt!=nt)return rt;if($=rt<0,j=it==st,!et||!tt)return j?0:!et^$?1:-1;if(!j)return it>st^$?1:-1;for(nt=(it=et.length)<(st=tt.length)?it:st,rt=0;rt<nt;rt++)if(et[rt]!=tt[rt])return et[rt]>tt[rt]^$?1:-1;return it==st?0:it>st^$?1:-1}function intCheck(a,_,$,j){if(a<_||a>$||a!==mathfloor(a))throw Error(bignumberError+(j||"Argument")+(typeof a=="number"?a<_||a>$?" out of range: ":" not an integer: ":" not a primitive number: ")+String(a))}function isOdd(a){var _=a.c.length-1;return bitFloor(a.e/LOG_BASE)==_&&a.c[_]%2!=0}function toExponential(a,_){return(a.length>1?a.charAt(0)+"."+a.slice(1):a)+(_<0?"e":"e+")+_}function toFixedPoint(a,_,$){var j,et;if(_<0){for(et=$+".";++_;et+=$);a=et+a}else if(j=a.length,++_>j){for(et=$,_-=j;--_;et+=$);a+=et}else _<j&&(a=a.slice(0,_)+"."+a.slice(_));return a}var BigNumber=clone(),elliptic$1={};const name$1="elliptic",version$1="6.5.4",description$1="EC cryptography",main$1="lib/elliptic.js",files=["lib"],scripts$1={lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},repository$1={type:"git",url:"git@github.com:indutny/elliptic"},keywords=["EC","Elliptic","curve","Cryptography"],author$1="Fedor Indutny <fedor@indutny.com>",license$1="MIT",bugs={url:"https://github.com/indutny/elliptic/issues"},homepage$1="https://github.com/indutny/elliptic",devDependencies$1={brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},dependencies$1={"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"},require$$0$1={name:name$1,version:version$1,description:description$1,main:main$1,files,scripts:scripts$1,repository:repository$1,keywords,author:author$1,license:license$1,bugs,homepage:homepage$1,devDependencies:devDependencies$1,dependencies:dependencies$1};var utils$d={};(function(a){var _=a,$=bnExports$1,j=minimalisticAssert,et=utils$v;_.assert=j,_.toArray=et.toArray,_.zero2=et.zero2,_.toHex=et.toHex,_.encode=et.encode;function tt(ot,at,ut){var ht=new Array(Math.max(ot.bitLength(),ut)+1);ht.fill(0);for(var yt=1<<at+1,wt=ot.clone(),Ct=0;Ct<ht.length;Ct++){var Pt,Tt=wt.andln(yt-1);wt.isOdd()?(Tt>(yt>>1)-1?Pt=(yt>>1)-Tt:Pt=Tt,wt.isubn(Pt)):Pt=0,ht[Ct]=Pt,wt.iushrn(1)}return ht}_.getNAF=tt;function rt(ot,at){var ut=[[],[]];ot=ot.clone(),at=at.clone();for(var ht=0,yt=0,wt;ot.cmpn(-ht)>0||at.cmpn(-yt)>0;){var Ct=ot.andln(3)+ht&3,Pt=at.andln(3)+yt&3;Ct===3&&(Ct=-1),Pt===3&&(Pt=-1);var Tt;Ct&1?(wt=ot.andln(7)+ht&7,(wt===3||wt===5)&&Pt===2?Tt=-Ct:Tt=Ct):Tt=0,ut[0].push(Tt);var Mt;Pt&1?(wt=at.andln(7)+yt&7,(wt===3||wt===5)&&Ct===2?Mt=-Pt:Mt=Pt):Mt=0,ut[1].push(Mt),2*ht===Tt+1&&(ht=1-ht),2*yt===Mt+1&&(yt=1-yt),ot.iushrn(1),at.iushrn(1)}return ut}_.getJSF=rt;function nt(ot,at,ut){var ht="_"+at;ot.prototype[at]=function(){return this[ht]!==void 0?this[ht]:this[ht]=ut.call(this)}}_.cachedProperty=nt;function it(ot){return typeof ot=="string"?_.toArray(ot,"hex"):ot}_.parseBytes=it;function st(ot){return new $(ot,"hex","le")}_.intFromLE=st})(utils$d);var curve={},BN$8=bnExports$1,utils$c=utils$d,getNAF=utils$c.getNAF,getJSF=utils$c.getJSF,assert$9=utils$c.assert;function BaseCurve(a,_){this.type=a,this.p=new BN$8(_.p,16),this.red=_.prime?BN$8.red(_.prime):BN$8.mont(this.p),this.zero=new BN$8(0).toRed(this.red),this.one=new BN$8(1).toRed(this.red),this.two=new BN$8(2).toRed(this.red),this.n=_.n&&new BN$8(_.n,16),this.g=_.g&&this.pointFromJSON(_.g,_.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var $=this.n&&this.p.div(this.n);!$||$.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var base=BaseCurve;BaseCurve.prototype.point=function a(){throw new Error("Not implemented")};BaseCurve.prototype.validate=function a(){throw new Error("Not implemented")};BaseCurve.prototype._fixedNafMul=function a(_,$){assert$9(_.precomputed);var j=_._getDoubles(),et=getNAF($,1,this._bitLength),tt=(1<<j.step+1)-(j.step%2===0?2:1);tt/=3;var rt=[],nt,it;for(nt=0;nt<et.length;nt+=j.step){it=0;for(var st=nt+j.step-1;st>=nt;st--)it=(it<<1)+et[st];rt.push(it)}for(var ot=this.jpoint(null,null,null),at=this.jpoint(null,null,null),ut=tt;ut>0;ut--){for(nt=0;nt<rt.length;nt++)it=rt[nt],it===ut?at=at.mixedAdd(j.points[nt]):it===-ut&&(at=at.mixedAdd(j.points[nt].neg()));ot=ot.add(at)}return ot.toP()};BaseCurve.prototype._wnafMul=function a(_,$){var j=4,et=_._getNAFPoints(j);j=et.wnd;for(var tt=et.points,rt=getNAF($,j,this._bitLength),nt=this.jpoint(null,null,null),it=rt.length-1;it>=0;it--){for(var st=0;it>=0&&rt[it]===0;it--)st++;if(it>=0&&st++,nt=nt.dblp(st),it<0)break;var ot=rt[it];assert$9(ot!==0),_.type==="affine"?ot>0?nt=nt.mixedAdd(tt[ot-1>>1]):nt=nt.mixedAdd(tt[-ot-1>>1].neg()):ot>0?nt=nt.add(tt[ot-1>>1]):nt=nt.add(tt[-ot-1>>1].neg())}return _.type==="affine"?nt.toP():nt};BaseCurve.prototype._wnafMulAdd=function a(_,$,j,et,tt){var rt=this._wnafT1,nt=this._wnafT2,it=this._wnafT3,st=0,ot,at,ut;for(ot=0;ot<et;ot++){ut=$[ot];var ht=ut._getNAFPoints(_);rt[ot]=ht.wnd,nt[ot]=ht.points}for(ot=et-1;ot>=1;ot-=2){var yt=ot-1,wt=ot;if(rt[yt]!==1||rt[wt]!==1){it[yt]=getNAF(j[yt],rt[yt],this._bitLength),it[wt]=getNAF(j[wt],rt[wt],this._bitLength),st=Math.max(it[yt].length,st),st=Math.max(it[wt].length,st);continue}var Ct=[$[yt],null,null,$[wt]];$[yt].y.cmp($[wt].y)===0?(Ct[1]=$[yt].add($[wt]),Ct[2]=$[yt].toJ().mixedAdd($[wt].neg())):$[yt].y.cmp($[wt].y.redNeg())===0?(Ct[1]=$[yt].toJ().mixedAdd($[wt]),Ct[2]=$[yt].add($[wt].neg())):(Ct[1]=$[yt].toJ().mixedAdd($[wt]),Ct[2]=$[yt].toJ().mixedAdd($[wt].neg()));var Pt=[-3,-1,-5,-7,0,7,5,1,3],Tt=getJSF(j[yt],j[wt]);for(st=Math.max(Tt[0].length,st),it[yt]=new Array(st),it[wt]=new Array(st),at=0;at<st;at++){var Mt=Tt[0][at]|0,Lt=Tt[1][at]|0;it[yt][at]=Pt[(Mt+1)*3+(Lt+1)],it[wt][at]=0,nt[yt]=Ct}}var Dt=this.jpoint(null,null,null),Ut=this._wnafT4;for(ot=st;ot>=0;ot--){for(var Ot=0;ot>=0;){var It=!0;for(at=0;at<et;at++)Ut[at]=it[at][ot]|0,Ut[at]!==0&&(It=!1);if(!It)break;Ot++,ot--}if(ot>=0&&Ot++,Dt=Dt.dblp(Ot),ot<0)break;for(at=0;at<et;at++){var Bt=Ut[at];Bt!==0&&(Bt>0?ut=nt[at][Bt-1>>1]:Bt<0&&(ut=nt[at][-Bt-1>>1].neg()),ut.type==="affine"?Dt=Dt.mixedAdd(ut):Dt=Dt.add(ut))}}for(ot=0;ot<et;ot++)nt[ot]=null;return tt?Dt:Dt.toP()};function BasePoint(a,_){this.curve=a,this.type=_,this.precomputed=null}BaseCurve.BasePoint=BasePoint;BasePoint.prototype.eq=function a(){throw new Error("Not implemented")};BasePoint.prototype.validate=function a(){return this.curve.validate(this)};BaseCurve.prototype.decodePoint=function a(_,$){_=utils$c.toArray(_,$);var j=this.p.byteLength();if((_[0]===4||_[0]===6||_[0]===7)&&_.length-1===2*j){_[0]===6?assert$9(_[_.length-1]%2===0):_[0]===7&&assert$9(_[_.length-1]%2===1);var et=this.point(_.slice(1,1+j),_.slice(1+j,1+2*j));return et}else if((_[0]===2||_[0]===3)&&_.length-1===j)return this.pointFromX(_.slice(1,1+j),_[0]===3);throw new Error("Unknown point format")};BasePoint.prototype.encodeCompressed=function a(_){return this.encode(_,!0)};BasePoint.prototype._encode=function a(_){var $=this.curve.p.byteLength(),j=this.getX().toArray("be",$);return _?[this.getY().isEven()?2:3].concat(j):[4].concat(j,this.getY().toArray("be",$))};BasePoint.prototype.encode=function a(_,$){return utils$c.encode(this._encode($),_)};BasePoint.prototype.precompute=function a(_){if(this.precomputed)return this;var $={doubles:null,naf:null,beta:null};return $.naf=this._getNAFPoints(8),$.doubles=this._getDoubles(4,_),$.beta=this._getBeta(),this.precomputed=$,this};BasePoint.prototype._hasDoubles=function a(_){if(!this.precomputed)return!1;var $=this.precomputed.doubles;return $?$.points.length>=Math.ceil((_.bitLength()+1)/$.step):!1};BasePoint.prototype._getDoubles=function a(_,$){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var j=[this],et=this,tt=0;tt<$;tt+=_){for(var rt=0;rt<_;rt++)et=et.dbl();j.push(et)}return{step:_,points:j}};BasePoint.prototype._getNAFPoints=function a(_){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var $=[this],j=(1<<_)-1,et=j===1?null:this.dbl(),tt=1;tt<j;tt++)$[tt]=$[tt-1].add(et);return{wnd:_,points:$}};BasePoint.prototype._getBeta=function a(){return null};BasePoint.prototype.dblp=function a(_){for(var $=this,j=0;j<_;j++)$=$.dbl();return $};var utils$b=utils$d,BN$7=bnExports$1,inherits$2=inherits_browserExports,Base$2=base,assert$8=utils$b.assert;function ShortCurve(a){Base$2.call(this,"short",a),this.a=new BN$7(a.a,16).toRed(this.red),this.b=new BN$7(a.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(a),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}inherits$2(ShortCurve,Base$2);var short=ShortCurve;ShortCurve.prototype._getEndomorphism=function a(_){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var $,j;if(_.beta)$=new BN$7(_.beta,16).toRed(this.red);else{var et=this._getEndoRoots(this.p);$=et[0].cmp(et[1])<0?et[0]:et[1],$=$.toRed(this.red)}if(_.lambda)j=new BN$7(_.lambda,16);else{var tt=this._getEndoRoots(this.n);this.g.mul(tt[0]).x.cmp(this.g.x.redMul($))===0?j=tt[0]:(j=tt[1],assert$8(this.g.mul(j).x.cmp(this.g.x.redMul($))===0))}var rt;return _.basis?rt=_.basis.map(function(nt){return{a:new BN$7(nt.a,16),b:new BN$7(nt.b,16)}}):rt=this._getEndoBasis(j),{beta:$,lambda:j,basis:rt}}};ShortCurve.prototype._getEndoRoots=function a(_){var $=_===this.p?this.red:BN$7.mont(_),j=new BN$7(2).toRed($).redInvm(),et=j.redNeg(),tt=new BN$7(3).toRed($).redNeg().redSqrt().redMul(j),rt=et.redAdd(tt).fromRed(),nt=et.redSub(tt).fromRed();return[rt,nt]};ShortCurve.prototype._getEndoBasis=function a(_){for(var $=this.n.ushrn(Math.floor(this.n.bitLength()/2)),j=_,et=this.n.clone(),tt=new BN$7(1),rt=new BN$7(0),nt=new BN$7(0),it=new BN$7(1),st,ot,at,ut,ht,yt,wt,Ct=0,Pt,Tt;j.cmpn(0)!==0;){var Mt=et.div(j);Pt=et.sub(Mt.mul(j)),Tt=nt.sub(Mt.mul(tt));var Lt=it.sub(Mt.mul(rt));if(!at&&Pt.cmp($)<0)st=wt.neg(),ot=tt,at=Pt.neg(),ut=Tt;else if(at&&++Ct===2)break;wt=Pt,et=j,j=Pt,nt=tt,tt=Tt,it=rt,rt=Lt}ht=Pt.neg(),yt=Tt;var Dt=at.sqr().add(ut.sqr()),Ut=ht.sqr().add(yt.sqr());return Ut.cmp(Dt)>=0&&(ht=st,yt=ot),at.negative&&(at=at.neg(),ut=ut.neg()),ht.negative&&(ht=ht.neg(),yt=yt.neg()),[{a:at,b:ut},{a:ht,b:yt}]};ShortCurve.prototype._endoSplit=function a(_){var $=this.endo.basis,j=$[0],et=$[1],tt=et.b.mul(_).divRound(this.n),rt=j.b.neg().mul(_).divRound(this.n),nt=tt.mul(j.a),it=rt.mul(et.a),st=tt.mul(j.b),ot=rt.mul(et.b),at=_.sub(nt).sub(it),ut=st.add(ot).neg();return{k1:at,k2:ut}};ShortCurve.prototype.pointFromX=function a(_,$){_=new BN$7(_,16),_.red||(_=_.toRed(this.red));var j=_.redSqr().redMul(_).redIAdd(_.redMul(this.a)).redIAdd(this.b),et=j.redSqrt();if(et.redSqr().redSub(j).cmp(this.zero)!==0)throw new Error("invalid point");var tt=et.fromRed().isOdd();return($&&!tt||!$&&tt)&&(et=et.redNeg()),this.point(_,et)};ShortCurve.prototype.validate=function a(_){if(_.inf)return!0;var $=_.x,j=_.y,et=this.a.redMul($),tt=$.redSqr().redMul($).redIAdd(et).redIAdd(this.b);return j.redSqr().redISub(tt).cmpn(0)===0};ShortCurve.prototype._endoWnafMulAdd=function a(_,$,j){for(var et=this._endoWnafT1,tt=this._endoWnafT2,rt=0;rt<_.length;rt++){var nt=this._endoSplit($[rt]),it=_[rt],st=it._getBeta();nt.k1.negative&&(nt.k1.ineg(),it=it.neg(!0)),nt.k2.negative&&(nt.k2.ineg(),st=st.neg(!0)),et[rt*2]=it,et[rt*2+1]=st,tt[rt*2]=nt.k1,tt[rt*2+1]=nt.k2}for(var ot=this._wnafMulAdd(1,et,tt,rt*2,j),at=0;at<rt*2;at++)et[at]=null,tt[at]=null;return ot};function Point$2(a,_,$,j){Base$2.BasePoint.call(this,a,"affine"),_===null&&$===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new BN$7(_,16),this.y=new BN$7($,16),j&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}inherits$2(Point$2,Base$2.BasePoint);ShortCurve.prototype.point=function a(_,$,j){return new Point$2(this,_,$,j)};ShortCurve.prototype.pointFromJSON=function a(_,$){return Point$2.fromJSON(this,_,$)};Point$2.prototype._getBeta=function a(){if(this.curve.endo){var _=this.precomputed;if(_&&_.beta)return _.beta;var $=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(_){var j=this.curve,et=function(tt){return j.point(tt.x.redMul(j.endo.beta),tt.y)};_.beta=$,$.precomputed={beta:null,naf:_.naf&&{wnd:_.naf.wnd,points:_.naf.points.map(et)},doubles:_.doubles&&{step:_.doubles.step,points:_.doubles.points.map(et)}}}return $}};Point$2.prototype.toJSON=function a(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};Point$2.fromJSON=function a(_,$,j){typeof $=="string"&&($=JSON.parse($));var et=_.point($[0],$[1],j);if(!$[2])return et;function tt(nt){return _.point(nt[0],nt[1],j)}var rt=$[2];return et.precomputed={beta:null,doubles:rt.doubles&&{step:rt.doubles.step,points:[et].concat(rt.doubles.points.map(tt))},naf:rt.naf&&{wnd:rt.naf.wnd,points:[et].concat(rt.naf.points.map(tt))}},et};Point$2.prototype.inspect=function a(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};Point$2.prototype.isInfinity=function a(){return this.inf};Point$2.prototype.add=function a(_){if(this.inf)return _;if(_.inf)return this;if(this.eq(_))return this.dbl();if(this.neg().eq(_))return this.curve.point(null,null);if(this.x.cmp(_.x)===0)return this.curve.point(null,null);var $=this.y.redSub(_.y);$.cmpn(0)!==0&&($=$.redMul(this.x.redSub(_.x).redInvm()));var j=$.redSqr().redISub(this.x).redISub(_.x),et=$.redMul(this.x.redSub(j)).redISub(this.y);return this.curve.point(j,et)};Point$2.prototype.dbl=function a(){if(this.inf)return this;var _=this.y.redAdd(this.y);if(_.cmpn(0)===0)return this.curve.point(null,null);var $=this.curve.a,j=this.x.redSqr(),et=_.redInvm(),tt=j.redAdd(j).redIAdd(j).redIAdd($).redMul(et),rt=tt.redSqr().redISub(this.x.redAdd(this.x)),nt=tt.redMul(this.x.redSub(rt)).redISub(this.y);return this.curve.point(rt,nt)};Point$2.prototype.getX=function a(){return this.x.fromRed()};Point$2.prototype.getY=function a(){return this.y.fromRed()};Point$2.prototype.mul=function a(_){return _=new BN$7(_,16),this.isInfinity()?this:this._hasDoubles(_)?this.curve._fixedNafMul(this,_):this.curve.endo?this.curve._endoWnafMulAdd([this],[_]):this.curve._wnafMul(this,_)};Point$2.prototype.mulAdd=function a(_,$,j){var et=[this,$],tt=[_,j];return this.curve.endo?this.curve._endoWnafMulAdd(et,tt):this.curve._wnafMulAdd(1,et,tt,2)};Point$2.prototype.jmulAdd=function a(_,$,j){var et=[this,$],tt=[_,j];return this.curve.endo?this.curve._endoWnafMulAdd(et,tt,!0):this.curve._wnafMulAdd(1,et,tt,2,!0)};Point$2.prototype.eq=function a(_){return this===_||this.inf===_.inf&&(this.inf||this.x.cmp(_.x)===0&&this.y.cmp(_.y)===0)};Point$2.prototype.neg=function a(_){if(this.inf)return this;var $=this.curve.point(this.x,this.y.redNeg());if(_&&this.precomputed){var j=this.precomputed,et=function(tt){return tt.neg()};$.precomputed={naf:j.naf&&{wnd:j.naf.wnd,points:j.naf.points.map(et)},doubles:j.doubles&&{step:j.doubles.step,points:j.doubles.points.map(et)}}}return $};Point$2.prototype.toJ=function a(){if(this.inf)return this.curve.jpoint(null,null,null);var _=this.curve.jpoint(this.x,this.y,this.curve.one);return _};function JPoint(a,_,$,j){Base$2.BasePoint.call(this,a,"jacobian"),_===null&&$===null&&j===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new BN$7(0)):(this.x=new BN$7(_,16),this.y=new BN$7($,16),this.z=new BN$7(j,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}inherits$2(JPoint,Base$2.BasePoint);ShortCurve.prototype.jpoint=function a(_,$,j){return new JPoint(this,_,$,j)};JPoint.prototype.toP=function a(){if(this.isInfinity())return this.curve.point(null,null);var _=this.z.redInvm(),$=_.redSqr(),j=this.x.redMul($),et=this.y.redMul($).redMul(_);return this.curve.point(j,et)};JPoint.prototype.neg=function a(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};JPoint.prototype.add=function a(_){if(this.isInfinity())return _;if(_.isInfinity())return this;var $=_.z.redSqr(),j=this.z.redSqr(),et=this.x.redMul($),tt=_.x.redMul(j),rt=this.y.redMul($.redMul(_.z)),nt=_.y.redMul(j.redMul(this.z)),it=et.redSub(tt),st=rt.redSub(nt);if(it.cmpn(0)===0)return st.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var ot=it.redSqr(),at=ot.redMul(it),ut=et.redMul(ot),ht=st.redSqr().redIAdd(at).redISub(ut).redISub(ut),yt=st.redMul(ut.redISub(ht)).redISub(rt.redMul(at)),wt=this.z.redMul(_.z).redMul(it);return this.curve.jpoint(ht,yt,wt)};JPoint.prototype.mixedAdd=function a(_){if(this.isInfinity())return _.toJ();if(_.isInfinity())return this;var $=this.z.redSqr(),j=this.x,et=_.x.redMul($),tt=this.y,rt=_.y.redMul($).redMul(this.z),nt=j.redSub(et),it=tt.redSub(rt);if(nt.cmpn(0)===0)return it.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var st=nt.redSqr(),ot=st.redMul(nt),at=j.redMul(st),ut=it.redSqr().redIAdd(ot).redISub(at).redISub(at),ht=it.redMul(at.redISub(ut)).redISub(tt.redMul(ot)),yt=this.z.redMul(nt);return this.curve.jpoint(ut,ht,yt)};JPoint.prototype.dblp=function a(_){if(_===0)return this;if(this.isInfinity())return this;if(!_)return this.dbl();var $;if(this.curve.zeroA||this.curve.threeA){var j=this;for($=0;$<_;$++)j=j.dbl();return j}var et=this.curve.a,tt=this.curve.tinv,rt=this.x,nt=this.y,it=this.z,st=it.redSqr().redSqr(),ot=nt.redAdd(nt);for($=0;$<_;$++){var at=rt.redSqr(),ut=ot.redSqr(),ht=ut.redSqr(),yt=at.redAdd(at).redIAdd(at).redIAdd(et.redMul(st)),wt=rt.redMul(ut),Ct=yt.redSqr().redISub(wt.redAdd(wt)),Pt=wt.redISub(Ct),Tt=yt.redMul(Pt);Tt=Tt.redIAdd(Tt).redISub(ht);var Mt=ot.redMul(it);$+1<_&&(st=st.redMul(ht)),rt=Ct,it=Mt,ot=Tt}return this.curve.jpoint(rt,ot.redMul(tt),it)};JPoint.prototype.dbl=function a(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};JPoint.prototype._zeroDbl=function a(){var _,$,j;if(this.zOne){var et=this.x.redSqr(),tt=this.y.redSqr(),rt=tt.redSqr(),nt=this.x.redAdd(tt).redSqr().redISub(et).redISub(rt);nt=nt.redIAdd(nt);var it=et.redAdd(et).redIAdd(et),st=it.redSqr().redISub(nt).redISub(nt),ot=rt.redIAdd(rt);ot=ot.redIAdd(ot),ot=ot.redIAdd(ot),_=st,$=it.redMul(nt.redISub(st)).redISub(ot),j=this.y.redAdd(this.y)}else{var at=this.x.redSqr(),ut=this.y.redSqr(),ht=ut.redSqr(),yt=this.x.redAdd(ut).redSqr().redISub(at).redISub(ht);yt=yt.redIAdd(yt);var wt=at.redAdd(at).redIAdd(at),Ct=wt.redSqr(),Pt=ht.redIAdd(ht);Pt=Pt.redIAdd(Pt),Pt=Pt.redIAdd(Pt),_=Ct.redISub(yt).redISub(yt),$=wt.redMul(yt.redISub(_)).redISub(Pt),j=this.y.redMul(this.z),j=j.redIAdd(j)}return this.curve.jpoint(_,$,j)};JPoint.prototype._threeDbl=function a(){var _,$,j;if(this.zOne){var et=this.x.redSqr(),tt=this.y.redSqr(),rt=tt.redSqr(),nt=this.x.redAdd(tt).redSqr().redISub(et).redISub(rt);nt=nt.redIAdd(nt);var it=et.redAdd(et).redIAdd(et).redIAdd(this.curve.a),st=it.redSqr().redISub(nt).redISub(nt);_=st;var ot=rt.redIAdd(rt);ot=ot.redIAdd(ot),ot=ot.redIAdd(ot),$=it.redMul(nt.redISub(st)).redISub(ot),j=this.y.redAdd(this.y)}else{var at=this.z.redSqr(),ut=this.y.redSqr(),ht=this.x.redMul(ut),yt=this.x.redSub(at).redMul(this.x.redAdd(at));yt=yt.redAdd(yt).redIAdd(yt);var wt=ht.redIAdd(ht);wt=wt.redIAdd(wt);var Ct=wt.redAdd(wt);_=yt.redSqr().redISub(Ct),j=this.y.redAdd(this.z).redSqr().redISub(ut).redISub(at);var Pt=ut.redSqr();Pt=Pt.redIAdd(Pt),Pt=Pt.redIAdd(Pt),Pt=Pt.redIAdd(Pt),$=yt.redMul(wt.redISub(_)).redISub(Pt)}return this.curve.jpoint(_,$,j)};JPoint.prototype._dbl=function a(){var _=this.curve.a,$=this.x,j=this.y,et=this.z,tt=et.redSqr().redSqr(),rt=$.redSqr(),nt=j.redSqr(),it=rt.redAdd(rt).redIAdd(rt).redIAdd(_.redMul(tt)),st=$.redAdd($);st=st.redIAdd(st);var ot=st.redMul(nt),at=it.redSqr().redISub(ot.redAdd(ot)),ut=ot.redISub(at),ht=nt.redSqr();ht=ht.redIAdd(ht),ht=ht.redIAdd(ht),ht=ht.redIAdd(ht);var yt=it.redMul(ut).redISub(ht),wt=j.redAdd(j).redMul(et);return this.curve.jpoint(at,yt,wt)};JPoint.prototype.trpl=function a(){if(!this.curve.zeroA)return this.dbl().add(this);var _=this.x.redSqr(),$=this.y.redSqr(),j=this.z.redSqr(),et=$.redSqr(),tt=_.redAdd(_).redIAdd(_),rt=tt.redSqr(),nt=this.x.redAdd($).redSqr().redISub(_).redISub(et);nt=nt.redIAdd(nt),nt=nt.redAdd(nt).redIAdd(nt),nt=nt.redISub(rt);var it=nt.redSqr(),st=et.redIAdd(et);st=st.redIAdd(st),st=st.redIAdd(st),st=st.redIAdd(st);var ot=tt.redIAdd(nt).redSqr().redISub(rt).redISub(it).redISub(st),at=$.redMul(ot);at=at.redIAdd(at),at=at.redIAdd(at);var ut=this.x.redMul(it).redISub(at);ut=ut.redIAdd(ut),ut=ut.redIAdd(ut);var ht=this.y.redMul(ot.redMul(st.redISub(ot)).redISub(nt.redMul(it)));ht=ht.redIAdd(ht),ht=ht.redIAdd(ht),ht=ht.redIAdd(ht);var yt=this.z.redAdd(nt).redSqr().redISub(j).redISub(it);return this.curve.jpoint(ut,ht,yt)};JPoint.prototype.mul=function a(_,$){return _=new BN$7(_,$),this.curve._wnafMul(this,_)};JPoint.prototype.eq=function a(_){if(_.type==="affine")return this.eq(_.toJ());if(this===_)return!0;var $=this.z.redSqr(),j=_.z.redSqr();if(this.x.redMul(j).redISub(_.x.redMul($)).cmpn(0)!==0)return!1;var et=$.redMul(this.z),tt=j.redMul(_.z);return this.y.redMul(tt).redISub(_.y.redMul(et)).cmpn(0)===0};JPoint.prototype.eqXToP=function a(_){var $=this.z.redSqr(),j=_.toRed(this.curve.red).redMul($);if(this.x.cmp(j)===0)return!0;for(var et=_.clone(),tt=this.curve.redN.redMul($);;){if(et.iadd(this.curve.n),et.cmp(this.curve.p)>=0)return!1;if(j.redIAdd(tt),this.x.cmp(j)===0)return!0}};JPoint.prototype.inspect=function a(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};JPoint.prototype.isInfinity=function a(){return this.z.cmpn(0)===0};var BN$6=bnExports$1,inherits$1=inherits_browserExports,Base$1=base,utils$a=utils$d;function MontCurve(a){Base$1.call(this,"mont",a),this.a=new BN$6(a.a,16).toRed(this.red),this.b=new BN$6(a.b,16).toRed(this.red),this.i4=new BN$6(4).toRed(this.red).redInvm(),this.two=new BN$6(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}inherits$1(MontCurve,Base$1);var mont=MontCurve;MontCurve.prototype.validate=function a(_){var $=_.normalize().x,j=$.redSqr(),et=j.redMul($).redAdd(j.redMul(this.a)).redAdd($),tt=et.redSqrt();return tt.redSqr().cmp(et)===0};function Point$1(a,_,$){Base$1.BasePoint.call(this,a,"projective"),_===null&&$===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new BN$6(_,16),this.z=new BN$6($,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}inherits$1(Point$1,Base$1.BasePoint);MontCurve.prototype.decodePoint=function a(_,$){return this.point(utils$a.toArray(_,$),1)};MontCurve.prototype.point=function a(_,$){return new Point$1(this,_,$)};MontCurve.prototype.pointFromJSON=function a(_){return Point$1.fromJSON(this,_)};Point$1.prototype.precompute=function a(){};Point$1.prototype._encode=function a(){return this.getX().toArray("be",this.curve.p.byteLength())};Point$1.fromJSON=function a(_,$){return new Point$1(_,$[0],$[1]||_.one)};Point$1.prototype.inspect=function a(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};Point$1.prototype.isInfinity=function a(){return this.z.cmpn(0)===0};Point$1.prototype.dbl=function a(){var _=this.x.redAdd(this.z),$=_.redSqr(),j=this.x.redSub(this.z),et=j.redSqr(),tt=$.redSub(et),rt=$.redMul(et),nt=tt.redMul(et.redAdd(this.curve.a24.redMul(tt)));return this.curve.point(rt,nt)};Point$1.prototype.add=function a(){throw new Error("Not supported on Montgomery curve")};Point$1.prototype.diffAdd=function a(_,$){var j=this.x.redAdd(this.z),et=this.x.redSub(this.z),tt=_.x.redAdd(_.z),rt=_.x.redSub(_.z),nt=rt.redMul(j),it=tt.redMul(et),st=$.z.redMul(nt.redAdd(it).redSqr()),ot=$.x.redMul(nt.redISub(it).redSqr());return this.curve.point(st,ot)};Point$1.prototype.mul=function a(_){for(var $=_.clone(),j=this,et=this.curve.point(null,null),tt=this,rt=[];$.cmpn(0)!==0;$.iushrn(1))rt.push($.andln(1));for(var nt=rt.length-1;nt>=0;nt--)rt[nt]===0?(j=j.diffAdd(et,tt),et=et.dbl()):(et=j.diffAdd(et,tt),j=j.dbl());return et};Point$1.prototype.mulAdd=function a(){throw new Error("Not supported on Montgomery curve")};Point$1.prototype.jumlAdd=function a(){throw new Error("Not supported on Montgomery curve")};Point$1.prototype.eq=function a(_){return this.getX().cmp(_.getX())===0};Point$1.prototype.normalize=function a(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this};Point$1.prototype.getX=function a(){return this.normalize(),this.x.fromRed()};var utils$9=utils$d,BN$5=bnExports$1,inherits=inherits_browserExports,Base=base,assert$7=utils$9.assert;function EdwardsCurve(a){this.twisted=(a.a|0)!==1,this.mOneA=this.twisted&&(a.a|0)===-1,this.extended=this.mOneA,Base.call(this,"edwards",a),this.a=new BN$5(a.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new BN$5(a.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new BN$5(a.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),assert$7(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(a.c|0)===1}inherits(EdwardsCurve,Base);var edwards=EdwardsCurve;EdwardsCurve.prototype._mulA=function a(_){return this.mOneA?_.redNeg():this.a.redMul(_)};EdwardsCurve.prototype._mulC=function a(_){return this.oneC?_:this.c.redMul(_)};EdwardsCurve.prototype.jpoint=function a(_,$,j,et){return this.point(_,$,j,et)};EdwardsCurve.prototype.pointFromX=function a(_,$){_=new BN$5(_,16),_.red||(_=_.toRed(this.red));var j=_.redSqr(),et=this.c2.redSub(this.a.redMul(j)),tt=this.one.redSub(this.c2.redMul(this.d).redMul(j)),rt=et.redMul(tt.redInvm()),nt=rt.redSqrt();if(nt.redSqr().redSub(rt).cmp(this.zero)!==0)throw new Error("invalid point");var it=nt.fromRed().isOdd();return($&&!it||!$&&it)&&(nt=nt.redNeg()),this.point(_,nt)};EdwardsCurve.prototype.pointFromY=function a(_,$){_=new BN$5(_,16),_.red||(_=_.toRed(this.red));var j=_.redSqr(),et=j.redSub(this.c2),tt=j.redMul(this.d).redMul(this.c2).redSub(this.a),rt=et.redMul(tt.redInvm());if(rt.cmp(this.zero)===0){if($)throw new Error("invalid point");return this.point(this.zero,_)}var nt=rt.redSqrt();if(nt.redSqr().redSub(rt).cmp(this.zero)!==0)throw new Error("invalid point");return nt.fromRed().isOdd()!==$&&(nt=nt.redNeg()),this.point(nt,_)};EdwardsCurve.prototype.validate=function a(_){if(_.isInfinity())return!0;_.normalize();var $=_.x.redSqr(),j=_.y.redSqr(),et=$.redMul(this.a).redAdd(j),tt=this.c2.redMul(this.one.redAdd(this.d.redMul($).redMul(j)));return et.cmp(tt)===0};function Point(a,_,$,j,et){Base.BasePoint.call(this,a,"projective"),_===null&&$===null&&j===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new BN$5(_,16),this.y=new BN$5($,16),this.z=j?new BN$5(j,16):this.curve.one,this.t=et&&new BN$5(et,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}inherits(Point,Base.BasePoint);EdwardsCurve.prototype.pointFromJSON=function a(_){return Point.fromJSON(this,_)};EdwardsCurve.prototype.point=function a(_,$,j,et){return new Point(this,_,$,j,et)};Point.fromJSON=function a(_,$){return new Point(_,$[0],$[1],$[2])};Point.prototype.inspect=function a(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};Point.prototype.isInfinity=function a(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)};Point.prototype._extDbl=function a(){var _=this.x.redSqr(),$=this.y.redSqr(),j=this.z.redSqr();j=j.redIAdd(j);var et=this.curve._mulA(_),tt=this.x.redAdd(this.y).redSqr().redISub(_).redISub($),rt=et.redAdd($),nt=rt.redSub(j),it=et.redSub($),st=tt.redMul(nt),ot=rt.redMul(it),at=tt.redMul(it),ut=nt.redMul(rt);return this.curve.point(st,ot,ut,at)};Point.prototype._projDbl=function a(){var _=this.x.redAdd(this.y).redSqr(),$=this.x.redSqr(),j=this.y.redSqr(),et,tt,rt,nt,it,st;if(this.curve.twisted){nt=this.curve._mulA($);var ot=nt.redAdd(j);this.zOne?(et=_.redSub($).redSub(j).redMul(ot.redSub(this.curve.two)),tt=ot.redMul(nt.redSub(j)),rt=ot.redSqr().redSub(ot).redSub(ot)):(it=this.z.redSqr(),st=ot.redSub(it).redISub(it),et=_.redSub($).redISub(j).redMul(st),tt=ot.redMul(nt.redSub(j)),rt=ot.redMul(st))}else nt=$.redAdd(j),it=this.curve._mulC(this.z).redSqr(),st=nt.redSub(it).redSub(it),et=this.curve._mulC(_.redISub(nt)).redMul(st),tt=this.curve._mulC(nt).redMul($.redISub(j)),rt=nt.redMul(st);return this.curve.point(et,tt,rt)};Point.prototype.dbl=function a(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()};Point.prototype._extAdd=function a(_){var $=this.y.redSub(this.x).redMul(_.y.redSub(_.x)),j=this.y.redAdd(this.x).redMul(_.y.redAdd(_.x)),et=this.t.redMul(this.curve.dd).redMul(_.t),tt=this.z.redMul(_.z.redAdd(_.z)),rt=j.redSub($),nt=tt.redSub(et),it=tt.redAdd(et),st=j.redAdd($),ot=rt.redMul(nt),at=it.redMul(st),ut=rt.redMul(st),ht=nt.redMul(it);return this.curve.point(ot,at,ht,ut)};Point.prototype._projAdd=function a(_){var $=this.z.redMul(_.z),j=$.redSqr(),et=this.x.redMul(_.x),tt=this.y.redMul(_.y),rt=this.curve.d.redMul(et).redMul(tt),nt=j.redSub(rt),it=j.redAdd(rt),st=this.x.redAdd(this.y).redMul(_.x.redAdd(_.y)).redISub(et).redISub(tt),ot=$.redMul(nt).redMul(st),at,ut;return this.curve.twisted?(at=$.redMul(it).redMul(tt.redSub(this.curve._mulA(et))),ut=nt.redMul(it)):(at=$.redMul(it).redMul(tt.redSub(et)),ut=this.curve._mulC(nt).redMul(it)),this.curve.point(ot,at,ut)};Point.prototype.add=function a(_){return this.isInfinity()?_:_.isInfinity()?this:this.curve.extended?this._extAdd(_):this._projAdd(_)};Point.prototype.mul=function a(_){return this._hasDoubles(_)?this.curve._fixedNafMul(this,_):this.curve._wnafMul(this,_)};Point.prototype.mulAdd=function a(_,$,j){return this.curve._wnafMulAdd(1,[this,$],[_,j],2,!1)};Point.prototype.jmulAdd=function a(_,$,j){return this.curve._wnafMulAdd(1,[this,$],[_,j],2,!0)};Point.prototype.normalize=function a(){if(this.zOne)return this;var _=this.z.redInvm();return this.x=this.x.redMul(_),this.y=this.y.redMul(_),this.t&&(this.t=this.t.redMul(_)),this.z=this.curve.one,this.zOne=!0,this};Point.prototype.neg=function a(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())};Point.prototype.getX=function a(){return this.normalize(),this.x.fromRed()};Point.prototype.getY=function a(){return this.normalize(),this.y.fromRed()};Point.prototype.eq=function a(_){return this===_||this.getX().cmp(_.getX())===0&&this.getY().cmp(_.getY())===0};Point.prototype.eqXToP=function a(_){var $=_.toRed(this.curve.red).redMul(this.z);if(this.x.cmp($)===0)return!0;for(var j=_.clone(),et=this.curve.redN.redMul(this.z);;){if(j.iadd(this.curve.n),j.cmp(this.curve.p)>=0)return!1;if($.redIAdd(et),this.x.cmp($)===0)return!0}};Point.prototype.toP=Point.prototype.normalize;Point.prototype.mixedAdd=Point.prototype.add;(function(a){var _=a;_.base=base,_.short=short,_.mont=mont,_.edwards=edwards})(curve);var curves$2={},secp256k1,hasRequiredSecp256k1;function requireSecp256k1(){return hasRequiredSecp256k1||(hasRequiredSecp256k1=1,secp256k1={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}),secp256k1}(function(a){var _=a,$=hash$4,j=curve,et=utils$d,tt=et.assert;function rt(st){st.type==="short"?this.curve=new j.short(st):st.type==="edwards"?this.curve=new j.edwards(st):this.curve=new j.mont(st),this.g=this.curve.g,this.n=this.curve.n,this.hash=st.hash,tt(this.g.validate(),"Invalid curve"),tt(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}_.PresetCurve=rt;function nt(st,ot){Object.defineProperty(_,st,{configurable:!0,enumerable:!0,get:function(){var at=new rt(ot);return Object.defineProperty(_,st,{configurable:!0,enumerable:!0,value:at}),at}})}nt("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:$.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),nt("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:$.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),nt("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:$.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),nt("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:$.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),nt("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:$.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),nt("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:$.sha256,gRed:!1,g:["9"]}),nt("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:$.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var it;try{it=requireSecp256k1()}catch{it=void 0}nt("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:$.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",it]})})(curves$2);var BN$4=bnExports$1,utils$8=utils$d,assert$6=utils$8.assert;function KeyPair$3(a,_){this.ec=a,this.priv=null,this.pub=null,_.priv&&this._importPrivate(_.priv,_.privEnc),_.pub&&this._importPublic(_.pub,_.pubEnc)}var key$1=KeyPair$3;KeyPair$3.fromPublic=function a(_,$,j){return $ instanceof KeyPair$3?$:new KeyPair$3(_,{pub:$,pubEnc:j})};KeyPair$3.fromPrivate=function a(_,$,j){return $ instanceof KeyPair$3?$:new KeyPair$3(_,{priv:$,privEnc:j})};KeyPair$3.prototype.validate=function a(){var _=this.getPublic();return _.isInfinity()?{result:!1,reason:"Invalid public key"}:_.validate()?_.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};KeyPair$3.prototype.getPublic=function a(_,$){return typeof _=="string"&&($=_,_=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),$?this.pub.encode($,_):this.pub};KeyPair$3.prototype.getPrivate=function a(_){return _==="hex"?this.priv.toString(16,2):this.priv};KeyPair$3.prototype._importPrivate=function a(_,$){this.priv=new BN$4(_,$||16),this.priv=this.priv.umod(this.ec.curve.n)};KeyPair$3.prototype._importPublic=function a(_,$){if(_.x||_.y){this.ec.curve.type==="mont"?assert$6(_.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&assert$6(_.x&&_.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(_.x,_.y);return}this.pub=this.ec.curve.decodePoint(_,$)};KeyPair$3.prototype.derive=function a(_){return _.validate()||assert$6(_.validate(),"public point not validated"),_.mul(this.priv).getX()};KeyPair$3.prototype.sign=function a(_,$,j){return this.ec.sign(_,this,$,j)};KeyPair$3.prototype.verify=function a(_,$){return this.ec.verify(_,$,this)};KeyPair$3.prototype.inspect=function a(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var BN$3=bnExports$1,utils$7=utils$d,assert$5=utils$7.assert;function Signature$3(a,_){if(a instanceof Signature$3)return a;this._importDER(a,_)||(assert$5(a.r&&a.s,"Signature without r or s"),this.r=new BN$3(a.r,16),this.s=new BN$3(a.s,16),a.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=a.recoveryParam)}var signature$1=Signature$3;function Position(){this.place=0}function getLength(a,_){var $=a[_.place++];if(!($&128))return $;var j=$&15;if(j===0||j>4)return!1;for(var et=0,tt=0,rt=_.place;tt<j;tt++,rt++)et<<=8,et|=a[rt],et>>>=0;return et<=127?!1:(_.place=rt,et)}function rmPadding(a){for(var _=0,$=a.length-1;!a[_]&&!(a[_+1]&128)&&_<$;)_++;return _===0?a:a.slice(_)}Signature$3.prototype._importDER=function a(_,$){_=utils$7.toArray(_,$);var j=new Position;if(_[j.place++]!==48)return!1;var et=getLength(_,j);if(et===!1||et+j.place!==_.length||_[j.place++]!==2)return!1;var tt=getLength(_,j);if(tt===!1)return!1;var rt=_.slice(j.place,tt+j.place);if(j.place+=tt,_[j.place++]!==2)return!1;var nt=getLength(_,j);if(nt===!1||_.length!==nt+j.place)return!1;var it=_.slice(j.place,nt+j.place);if(rt[0]===0)if(rt[1]&128)rt=rt.slice(1);else return!1;if(it[0]===0)if(it[1]&128)it=it.slice(1);else return!1;return this.r=new BN$3(rt),this.s=new BN$3(it),this.recoveryParam=null,!0};function constructLength(a,_){if(_<128){a.push(_);return}var $=1+(Math.log(_)/Math.LN2>>>3);for(a.push($|128);--$;)a.push(_>>>($<<3)&255);a.push(_)}Signature$3.prototype.toDER=function a(_){var $=this.r.toArray(),j=this.s.toArray();for($[0]&128&&($=[0].concat($)),j[0]&128&&(j=[0].concat(j)),$=rmPadding($),j=rmPadding(j);!j[0]&&!(j[1]&128);)j=j.slice(1);var et=[2];constructLength(et,$.length),et=et.concat($),et.push(2),constructLength(et,j.length);var tt=et.concat(j),rt=[48];return constructLength(rt,tt.length),rt=rt.concat(tt),utils$7.encode(rt,_)};var BN$2=bnExports$1,HmacDRBG=hmacDrbg,utils$6=utils$d,curves$1=curves$2,rand=requireBrorand(),assert$4=utils$6.assert,KeyPair$2=key$1,Signature$2=signature$1;function EC(a){if(!(this instanceof EC))return new EC(a);typeof a=="string"&&(assert$4(Object.prototype.hasOwnProperty.call(curves$1,a),"Unknown curve "+a),a=curves$1[a]),a instanceof curves$1.PresetCurve&&(a={curve:a}),this.curve=a.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=a.curve.g,this.g.precompute(a.curve.n.bitLength()+1),this.hash=a.hash||a.curve.hash}var ec$3=EC;EC.prototype.keyPair=function a(_){return new KeyPair$2(this,_)};EC.prototype.keyFromPrivate=function a(_,$){return KeyPair$2.fromPrivate(this,_,$)};EC.prototype.keyFromPublic=function a(_,$){return KeyPair$2.fromPublic(this,_,$)};EC.prototype.genKeyPair=function a(_){_||(_={});for(var $=new HmacDRBG({hash:this.hash,pers:_.pers,persEnc:_.persEnc||"utf8",entropy:_.entropy||rand(this.hash.hmacStrength),entropyEnc:_.entropy&&_.entropyEnc||"utf8",nonce:this.n.toArray()}),j=this.n.byteLength(),et=this.n.sub(new BN$2(2));;){var tt=new BN$2($.generate(j));if(!(tt.cmp(et)>0))return tt.iaddn(1),this.keyFromPrivate(tt)}};EC.prototype._truncateToN=function a(_,$){var j=_.byteLength()*8-this.n.bitLength();return j>0&&(_=_.ushrn(j)),!$&&_.cmp(this.n)>=0?_.sub(this.n):_};EC.prototype.sign=function a(_,$,j,et){typeof j=="object"&&(et=j,j=null),et||(et={}),$=this.keyFromPrivate($,j),_=this._truncateToN(new BN$2(_,16));for(var tt=this.n.byteLength(),rt=$.getPrivate().toArray("be",tt),nt=_.toArray("be",tt),it=new HmacDRBG({hash:this.hash,entropy:rt,nonce:nt,pers:et.pers,persEnc:et.persEnc||"utf8"}),st=this.n.sub(new BN$2(1)),ot=0;;ot++){var at=et.k?et.k(ot):new BN$2(it.generate(this.n.byteLength()));if(at=this._truncateToN(at,!0),!(at.cmpn(1)<=0||at.cmp(st)>=0)){var ut=this.g.mul(at);if(!ut.isInfinity()){var ht=ut.getX(),yt=ht.umod(this.n);if(yt.cmpn(0)!==0){var wt=at.invm(this.n).mul(yt.mul($.getPrivate()).iadd(_));if(wt=wt.umod(this.n),wt.cmpn(0)!==0){var Ct=(ut.getY().isOdd()?1:0)|(ht.cmp(yt)!==0?2:0);return et.canonical&&wt.cmp(this.nh)>0&&(wt=this.n.sub(wt),Ct^=1),new Signature$2({r:yt,s:wt,recoveryParam:Ct})}}}}}};EC.prototype.verify=function a(_,$,j,et){_=this._truncateToN(new BN$2(_,16)),j=this.keyFromPublic(j,et),$=new Signature$2($,"hex");var tt=$.r,rt=$.s;if(tt.cmpn(1)<0||tt.cmp(this.n)>=0||rt.cmpn(1)<0||rt.cmp(this.n)>=0)return!1;var nt=rt.invm(this.n),it=nt.mul(_).umod(this.n),st=nt.mul(tt).umod(this.n),ot;return this.curve._maxwellTrick?(ot=this.g.jmulAdd(it,j.getPublic(),st),ot.isInfinity()?!1:ot.eqXToP(tt)):(ot=this.g.mulAdd(it,j.getPublic(),st),ot.isInfinity()?!1:ot.getX().umod(this.n).cmp(tt)===0)};EC.prototype.recoverPubKey=function(a,_,$,j){assert$4((3&$)===$,"The recovery param is more than two bits"),_=new Signature$2(_,j);var et=this.n,tt=new BN$2(a),rt=_.r,nt=_.s,it=$&1,st=$>>1;if(rt.cmp(this.curve.p.umod(this.curve.n))>=0&&st)throw new Error("Unable to find sencond key candinate");st?rt=this.curve.pointFromX(rt.add(this.curve.n),it):rt=this.curve.pointFromX(rt,it);var ot=_.r.invm(et),at=et.sub(tt).mul(ot).umod(et),ut=nt.mul(ot).umod(et);return this.g.mulAdd(at,rt,ut)};EC.prototype.getKeyRecoveryParam=function(a,_,$,j){if(_=new Signature$2(_,j),_.recoveryParam!==null)return _.recoveryParam;for(var et=0;et<4;et++){var tt;try{tt=this.recoverPubKey(a,_,et)}catch{continue}if(tt.eq($))return et}throw new Error("Unable to find valid recovery factor")};var utils$5=utils$d,assert$3=utils$5.assert,parseBytes$3=utils$5.parseBytes,cachedProperty$1=utils$5.cachedProperty;function KeyPair$1(a,_){this.eddsa=a,this._secret=parseBytes$3(_.secret),a.isPoint(_.pub)?this._pub=_.pub:this._pubBytes=parseBytes$3(_.pub)}KeyPair$1.fromPublic=function a(_,$){return $ instanceof KeyPair$1?$:new KeyPair$1(_,{pub:$})};KeyPair$1.fromSecret=function a(_,$){return $ instanceof KeyPair$1?$:new KeyPair$1(_,{secret:$})};KeyPair$1.prototype.secret=function a(){return this._secret};cachedProperty$1(KeyPair$1,"pubBytes",function a(){return this.eddsa.encodePoint(this.pub())});cachedProperty$1(KeyPair$1,"pub",function a(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())});cachedProperty$1(KeyPair$1,"privBytes",function a(){var _=this.eddsa,$=this.hash(),j=_.encodingLength-1,et=$.slice(0,_.encodingLength);return et[0]&=248,et[j]&=127,et[j]|=64,et});cachedProperty$1(KeyPair$1,"priv",function a(){return this.eddsa.decodeInt(this.privBytes())});cachedProperty$1(KeyPair$1,"hash",function a(){return this.eddsa.hash().update(this.secret()).digest()});cachedProperty$1(KeyPair$1,"messagePrefix",function a(){return this.hash().slice(this.eddsa.encodingLength)});KeyPair$1.prototype.sign=function a(_){return assert$3(this._secret,"KeyPair can only verify"),this.eddsa.sign(_,this)};KeyPair$1.prototype.verify=function a(_,$){return this.eddsa.verify(_,$,this)};KeyPair$1.prototype.getSecret=function a(_){return assert$3(this._secret,"KeyPair is public only"),utils$5.encode(this.secret(),_)};KeyPair$1.prototype.getPublic=function a(_){return utils$5.encode(this.pubBytes(),_)};var key=KeyPair$1,BN$1=bnExports$1,utils$4=utils$d,assert$2=utils$4.assert,cachedProperty=utils$4.cachedProperty,parseBytes$2=utils$4.parseBytes;function Signature$1(a,_){this.eddsa=a,typeof _!="object"&&(_=parseBytes$2(_)),Array.isArray(_)&&(_={R:_.slice(0,a.encodingLength),S:_.slice(a.encodingLength)}),assert$2(_.R&&_.S,"Signature without R or S"),a.isPoint(_.R)&&(this._R=_.R),_.S instanceof BN$1&&(this._S=_.S),this._Rencoded=Array.isArray(_.R)?_.R:_.Rencoded,this._Sencoded=Array.isArray(_.S)?_.S:_.Sencoded}cachedProperty(Signature$1,"S",function a(){return this.eddsa.decodeInt(this.Sencoded())});cachedProperty(Signature$1,"R",function a(){return this.eddsa.decodePoint(this.Rencoded())});cachedProperty(Signature$1,"Rencoded",function a(){return this.eddsa.encodePoint(this.R())});cachedProperty(Signature$1,"Sencoded",function a(){return this.eddsa.encodeInt(this.S())});Signature$1.prototype.toBytes=function a(){return this.Rencoded().concat(this.Sencoded())};Signature$1.prototype.toHex=function a(){return utils$4.encode(this.toBytes(),"hex").toUpperCase()};var signature=Signature$1,hash$1=hash$4,curves=curves$2,utils$3=utils$d,assert$1=utils$3.assert,parseBytes$1=utils$3.parseBytes,KeyPair=key,Signature=signature;function EDDSA(a){if(assert$1(a==="ed25519","only tested with ed25519 so far"),!(this instanceof EDDSA))return new EDDSA(a);a=curves[a].curve,this.curve=a,this.g=a.g,this.g.precompute(a.n.bitLength()+1),this.pointClass=a.point().constructor,this.encodingLength=Math.ceil(a.n.bitLength()/8),this.hash=hash$1.sha512}var eddsa=EDDSA;EDDSA.prototype.sign=function a(_,$){_=parseBytes$1(_);var j=this.keyFromSecret($),et=this.hashInt(j.messagePrefix(),_),tt=this.g.mul(et),rt=this.encodePoint(tt),nt=this.hashInt(rt,j.pubBytes(),_).mul(j.priv()),it=et.add(nt).umod(this.curve.n);return this.makeSignature({R:tt,S:it,Rencoded:rt})};EDDSA.prototype.verify=function a(_,$,j){_=parseBytes$1(_),$=this.makeSignature($);var et=this.keyFromPublic(j),tt=this.hashInt($.Rencoded(),et.pubBytes(),_),rt=this.g.mul($.S()),nt=$.R().add(et.pub().mul(tt));return nt.eq(rt)};EDDSA.prototype.hashInt=function a(){for(var _=this.hash(),$=0;$<arguments.length;$++)_.update(arguments[$]);return utils$3.intFromLE(_.digest()).umod(this.curve.n)};EDDSA.prototype.keyFromPublic=function a(_){return KeyPair.fromPublic(this,_)};EDDSA.prototype.keyFromSecret=function a(_){return KeyPair.fromSecret(this,_)};EDDSA.prototype.makeSignature=function a(_){return _ instanceof Signature?_:new Signature(this,_)};EDDSA.prototype.encodePoint=function a(_){var $=_.getY().toArray("le",this.encodingLength);return $[this.encodingLength-1]|=_.getX().isOdd()?128:0,$};EDDSA.prototype.decodePoint=function a(_){_=utils$3.parseBytes(_);var $=_.length-1,j=_.slice(0,$).concat(_[$]&-129),et=(_[$]&128)!==0,tt=utils$3.intFromLE(j);return this.curve.pointFromY(tt,et)};EDDSA.prototype.encodeInt=function a(_){return _.toArray("le",this.encodingLength)};EDDSA.prototype.decodeInt=function a(_){return utils$3.intFromLE(_)};EDDSA.prototype.isPoint=function a(_){return _ instanceof this.pointClass};(function(a){var _=a;_.version=require$$0$1.version,_.utils=utils$d,_.rand=requireBrorand(),_.curve=curve,_.curves=curves$2,_.ec=ec$3,_.eddsa=eddsa})(elliptic$1);const elliptic=getDefaultExportFromCjs$1(elliptic$1);var typedarrayToBuffer=function a(_){return ArrayBuffer.isView(_)?Buffer$g.from(_.buffer,_.byteOffset,_.byteLength):Buffer$g.from(_)};const toBuffer=getDefaultExportFromCjs$1(typedarrayToBuffer);var Prefix;(function(a){a.TZ1="tz1",a.TZ2="tz2",a.TZ3="tz3",a.TZ4="tz4",a.KT="KT",a.KT1="KT1",a.EDSK2="edsk2",a.SPSK="spsk",a.P2SK="p2sk",a.EDPK="edpk",a.SPPK="sppk",a.P2PK="p2pk",a.BLPK="BLpk",a.EDESK="edesk",a.SPESK="spesk",a.P2ESK="p2esk",a.EDSK="edsk",a.EDSIG="edsig",a.SPSIG="spsig",a.P2SIG="p2sig",a.SIG="sig",a.NET="Net",a.NCE="nce",a.B="B",a.O="o",a.LO="Lo",a.LLO="LLo",a.P="P",a.CO="Co",a.ID="id",a.EXPR="expr",a.TZ="TZ",a.VH="vh",a.SASK="sask",a.ZET1="zet1",a.SR1="sr1",a.SRC1="src1"})(Prefix||(Prefix={}));const prefix={[Prefix.TZ1]:new Uint8Array([6,161,159]),[Prefix.TZ2]:new Uint8Array([6,161,161]),[Prefix.TZ3]:new Uint8Array([6,161,164]),[Prefix.TZ4]:new Uint8Array([6,161,166]),[Prefix.KT]:new Uint8Array([2,90,121]),[Prefix.KT1]:new Uint8Array([2,90,121]),[Prefix.EDSK]:new Uint8Array([43,246,78,7]),[Prefix.EDSK2]:new Uint8Array([13,15,58,7]),[Prefix.SPSK]:new Uint8Array([17,162,224,201]),[Prefix.P2SK]:new Uint8Array([16,81,238,189]),[Prefix.EDPK]:new Uint8Array([13,15,37,217]),[Prefix.SPPK]:new Uint8Array([3,254,226,86]),[Prefix.P2PK]:new Uint8Array([3,178,139,127]),[Prefix.BLPK]:new Uint8Array([6,149,135,204]),[Prefix.EDESK]:new Uint8Array([7,90,60,179,41]),[Prefix.SPESK]:new Uint8Array([9,237,241,174,150]),[Prefix.P2ESK]:new Uint8Array([9,48,57,115,171]),[Prefix.EDSIG]:new Uint8Array([9,245,205,134,18]),[Prefix.SPSIG]:new Uint8Array([13,115,101,19,63]),[Prefix.P2SIG]:new Uint8Array([54,240,44,52]),[Prefix.SIG]:new Uint8Array([4,130,43]),[Prefix.NET]:new Uint8Array([87,82,0]),[Prefix.NCE]:new Uint8Array([69,220,169]),[Prefix.B]:new Uint8Array([1,52]),[Prefix.O]:new Uint8Array([5,116]),[Prefix.LO]:new Uint8Array([133,233]),[Prefix.LLO]:new Uint8Array([29,159,109]),[Prefix.P]:new Uint8Array([2,170]),[Prefix.CO]:new Uint8Array([79,179]),[Prefix.ID]:new Uint8Array([153,103]),[Prefix.EXPR]:new Uint8Array([13,44,64,27]),[Prefix.TZ]:new Uint8Array([2,90,121]),[Prefix.VH]:new Uint8Array([1,106,242]),[Prefix.SASK]:new Uint8Array([11,237,20,92]),[Prefix.ZET1]:new Uint8Array([18,71,40,223]),[Prefix.SR1]:new Uint8Array([6,124,117]),[Prefix.SRC1]:new Uint8Array([17,165,134,138])},prefixLength={[Prefix.TZ1]:20,[Prefix.TZ2]:20,[Prefix.TZ3]:20,[Prefix.TZ4]:20,[Prefix.KT]:20,[Prefix.KT1]:20,[Prefix.EDPK]:32,[Prefix.SPPK]:33,[Prefix.P2PK]:33,[Prefix.BLPK]:48,[Prefix.EDSIG]:64,[Prefix.SPSIG]:64,[Prefix.P2SIG]:64,[Prefix.SIG]:64,[Prefix.NET]:4,[Prefix.B]:32,[Prefix.P]:32,[Prefix.O]:32,[Prefix.VH]:32,[Prefix.SASK]:169,[Prefix.ZET1]:43,[Prefix.SR1]:20,[Prefix.SRC1]:32};class ValueConversionError extends UnsupportedActionError{constructor(_,$){super(),this.value=_,this.desiredType=$,this.name="ValueConversionError",this.message=`Unable to convert ${_} to a ${$}`}}var ValidationResult;(function(a){a[a.NO_PREFIX_MATCHED=0]="NO_PREFIX_MATCHED",a[a.INVALID_CHECKSUM=1]="INVALID_CHECKSUM",a[a.INVALID_LENGTH=2]="INVALID_LENGTH",a[a.VALID=3]="VALID"})(ValidationResult||(ValidationResult={}));function isValidPrefix(a){return typeof a!="string"?!1:a in prefix}function validatePrefixedValue(a,_){const $=new RegExp(`^(${_.join("|")})`).exec(a);if(!$||$.length===0)return ValidationResult.NO_PREFIX_MATCHED;const j=$[0];if(!isValidPrefix(j))return ValidationResult.NO_PREFIX_MATCHED;if(a.includes("%")&&(a=a.split("%")[0]),!/^(KT1\w{33})$/.test(a)&&j==="KT1")return ValidationResult.INVALID_CHECKSUM;let tt=bs58check$1.decodeUnsafe(a);return tt?(tt=tt.slice(prefix[j].length),tt.length!==prefixLength[j]?ValidationResult.INVALID_LENGTH:ValidationResult.VALID):ValidationResult.INVALID_CHECKSUM}const implicitPrefix=[Prefix.TZ1,Prefix.TZ2,Prefix.TZ3,Prefix.TZ4],contractPrefix=[Prefix.KT1],signaturePrefix=[Prefix.EDSIG,Prefix.P2SIG,Prefix.SPSIG,Prefix.SIG],pkPrefix=[Prefix.EDPK,Prefix.SPPK,Prefix.P2PK,Prefix.BLPK],operationPrefix=[Prefix.O];Prefix.P;const blockPrefix=[Prefix.B],smartRollupPrefix=[Prefix.SR1];function validateAddress(a){return validatePrefixedValue(a,[...implicitPrefix,...contractPrefix,...smartRollupPrefix])}function validateChain(a){return validatePrefixedValue(a,[Prefix.NET])}function validateContractAddress(a){return validatePrefixedValue(a,contractPrefix)}function validateKeyHash(a){return validatePrefixedValue(a,implicitPrefix)}function validateSignature(a){return validatePrefixedValue(a,signaturePrefix)}function validatePublicKey(a){return validatePrefixedValue(a,pkPrefix)}function validateOperation(a){return validatePrefixedValue(a,operationPrefix)}function validateBlock(a){return validatePrefixedValue(a,blockPrefix)}function invalidDetail(a){switch(a){case ValidationResult.NO_PREFIX_MATCHED:return"with unsupported prefix";case ValidationResult.INVALID_CHECKSUM:return"failed checksum";case ValidationResult.INVALID_LENGTH:return"with incorrect length";default:return""}}const TZ_DECIMALS=6,MTZ_DECIMALS=3;function getDecimal(a){switch(a){case"tz":return TZ_DECIMALS;case"mtz":return MTZ_DECIMALS;case"mutez":default:return 0}}function format$1(a="mutez",_="mutez",$){const j=new BigNumber($);return j.isNaN()?$:j.multipliedBy(Math.pow(10,getDecimal(a))).dividedBy(Math.pow(10,getDecimal(_)))}function encodeExpr(a){const _=blake.blake2b(hex2buf(a),void 0,32);return b58cencode(_,prefix.expr)}function b58cencode(a,_){const $=typeof a=="string"?Uint8Array.from(buffer$1.Buffer.from(a,"hex")):a,j=new Uint8Array(_.length+$.length);return j.set(_),j.set($,_.length),bs58check$1.encode(buffer$1.Buffer.from(j.buffer))}const b58cdecode=(a,_)=>bs58check$1.decode(a).slice(_.length);function b58decode(a){const _=bs58check$1.decode(a),j={[prefix.tz1.toString()]:"0000",[prefix.tz2.toString()]:"0001",[prefix.tz3.toString()]:"0002"}[new Uint8Array(_.slice(0,3)).toString()];if(j){const et=buf2hex(_.slice(3));return j+et}else return"01"+buf2hex(_.slice(3,42))+"00"}function encodeAddress(a){if(a.substring(0,2)==="0x"&&(a=a.slice(2)),a.substring(0,2)==="00"){const _={"0000":prefix.tz1,"0001":prefix.tz2,"0002":prefix.tz3};return b58cencode(a.substring(4),_[a.substring(0,4)])}return b58cencode(a.substring(2,42),prefix.KT)}function encodeKey(a){if(a[0]==="0"){const _={"00":new Uint8Array([13,15,37,217]),"01":new Uint8Array([3,254,226,86]),"02":new Uint8Array([3,178,139,127])};return b58cencode(a.substring(2),_[a.substring(0,2)])}}function encodeKeyHash(a){if(a[0]==="0"){const _={"00":new Uint8Array([6,161,159]),"01":new Uint8Array([6,161,161]),"02":new Uint8Array([6,161,164])};return b58cencode(a.substring(2),_[a.substring(0,2)])}}const hex2buf=a=>{if(a.length%2!==0)throw new InvalidHexStringError(a,": Expecting even number of characters");const _=stripHexPrefix$1(a);if(!_.match(/^([\da-f]{2})*$/gi))throw new InvalidHexStringError(a,": Only characters 0-9, a-f and A-F are expected. Optionally, it can be prefixed with '0x'");const $=new Uint8Array(_.length/2);let j=0;for(let et=0;et<_.length;et+=2){const tt=parseInt(_.slice(et,et+2),16);if(Number.isNaN(tt))throw new ValueConversionError(a,"Uint8Array");$[j++]=tt}return $},mergebuf=(a,_)=>{const $=new Uint8Array(a.length+_.length);return $.set(a),$.set(_,a.length),$},buf2hex=a=>{const _=[];return a.forEach($=>{const et=`00${$.toString(16)}`.slice(-2);_.push(et)}),_.join("")};function hex2Bytes(a){const _=stripHexPrefix$1(a);if(!_.match(/^(0x)?([\da-f]{2})*$/gi))throw new InvalidHexStringError(a,": Expecting even number of characters: 0-9, a-z, A-Z, optionally prefixed with 0x");return buffer$1.Buffer.from(_,"hex")}function stripHexPrefix$1(a){return a.startsWith("0x")?a.slice(2):a}var util;(function(a){a.assertEqual=et=>et;function _(et){}a.assertIs=_;function $(et){throw new Error}a.assertNever=$,a.arrayToEnum=et=>{const tt={};for(const rt of et)tt[rt]=rt;return tt},a.getValidEnumValues=et=>{const tt=a.objectKeys(et).filter(nt=>typeof et[et[nt]]!="number"),rt={};for(const nt of tt)rt[nt]=et[nt];return a.objectValues(rt)},a.objectValues=et=>a.objectKeys(et).map(function(tt){return et[tt]}),a.objectKeys=typeof Object.keys=="function"?et=>Object.keys(et):et=>{const tt=[];for(const rt in et)Object.prototype.hasOwnProperty.call(et,rt)&&tt.push(rt);return tt},a.find=(et,tt)=>{for(const rt of et)if(tt(rt))return rt},a.isInteger=typeof Number.isInteger=="function"?et=>Number.isInteger(et):et=>typeof et=="number"&&isFinite(et)&&Math.floor(et)===et;function j(et,tt=" | "){return et.map(rt=>typeof rt=="string"?`'${rt}'`:rt).join(tt)}a.joinValues=j,a.jsonStringifyReplacer=(et,tt)=>typeof tt=="bigint"?tt.toString():tt})(util||(util={}));var objectUtil;(function(a){a.mergeShapes=(_,$)=>({..._,...$})})(objectUtil||(objectUtil={}));const ZodParsedType=util.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),getParsedType=a=>{switch(typeof a){case"undefined":return ZodParsedType.undefined;case"string":return ZodParsedType.string;case"number":return isNaN(a)?ZodParsedType.nan:ZodParsedType.number;case"boolean":return ZodParsedType.boolean;case"function":return ZodParsedType.function;case"bigint":return ZodParsedType.bigint;case"symbol":return ZodParsedType.symbol;case"object":return Array.isArray(a)?ZodParsedType.array:a===null?ZodParsedType.null:a.then&&typeof a.then=="function"&&a.catch&&typeof a.catch=="function"?ZodParsedType.promise:typeof Map<"u"&&a instanceof Map?ZodParsedType.map:typeof Set<"u"&&a instanceof Set?ZodParsedType.set:typeof Date<"u"&&a instanceof Date?ZodParsedType.date:ZodParsedType.object;default:return ZodParsedType.unknown}},ZodIssueCode=util.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),quotelessJson=a=>JSON.stringify(a,null,2).replace(/"([^"]+)":/g,"$1:");class ZodError extends Error{constructor(_){super(),this.issues=[],this.addIssue=j=>{this.issues=[...this.issues,j]},this.addIssues=(j=[])=>{this.issues=[...this.issues,...j]};const $=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,$):this.__proto__=$,this.name="ZodError",this.issues=_}get errors(){return this.issues}format(_){const $=_||function(tt){return tt.message},j={_errors:[]},et=tt=>{for(const rt of tt.issues)if(rt.code==="invalid_union")rt.unionErrors.map(et);else if(rt.code==="invalid_return_type")et(rt.returnTypeError);else if(rt.code==="invalid_arguments")et(rt.argumentsError);else if(rt.path.length===0)j._errors.push($(rt));else{let nt=j,it=0;for(;it<rt.path.length;){const st=rt.path[it];it===rt.path.length-1?(nt[st]=nt[st]||{_errors:[]},nt[st]._errors.push($(rt))):nt[st]=nt[st]||{_errors:[]},nt=nt[st],it++}}};return et(this),j}static assert(_){if(!(_ instanceof ZodError))throw new Error(`Not a ZodError: ${_}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,util.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(_=$=>$.message){const $={},j=[];for(const et of this.issues)et.path.length>0?($[et.path[0]]=$[et.path[0]]||[],$[et.path[0]].push(_(et))):j.push(_(et));return{formErrors:j,fieldErrors:$}}get formErrors(){return this.flatten()}}ZodError.create=a=>new ZodError(a);const errorMap=(a,_)=>{let $;switch(a.code){case ZodIssueCode.invalid_type:a.received===ZodParsedType.undefined?$="Required":$=`Expected ${a.expected}, received ${a.received}`;break;case ZodIssueCode.invalid_literal:$=`Invalid literal value, expected ${JSON.stringify(a.expected,util.jsonStringifyReplacer)}`;break;case ZodIssueCode.unrecognized_keys:$=`Unrecognized key(s) in object: ${util.joinValues(a.keys,", ")}`;break;case ZodIssueCode.invalid_union:$="Invalid input";break;case ZodIssueCode.invalid_union_discriminator:$=`Invalid discriminator value. Expected ${util.joinValues(a.options)}`;break;case ZodIssueCode.invalid_enum_value:$=`Invalid enum value. Expected ${util.joinValues(a.options)}, received '${a.received}'`;break;case ZodIssueCode.invalid_arguments:$="Invalid function arguments";break;case ZodIssueCode.invalid_return_type:$="Invalid function return type";break;case ZodIssueCode.invalid_date:$="Invalid date";break;case ZodIssueCode.invalid_string:typeof a.validation=="object"?"includes"in a.validation?($=`Invalid input: must include "${a.validation.includes}"`,typeof a.validation.position=="number"&&($=`${$} at one or more positions greater than or equal to ${a.validation.position}`)):"startsWith"in a.validation?$=`Invalid input: must start with "${a.validation.startsWith}"`:"endsWith"in a.validation?$=`Invalid input: must end with "${a.validation.endsWith}"`:util.assertNever(a.validation):a.validation!=="regex"?$=`Invalid ${a.validation}`:$="Invalid";break;case ZodIssueCode.too_small:a.type==="array"?$=`Array must contain ${a.exact?"exactly":a.inclusive?"at least":"more than"} ${a.minimum} element(s)`:a.type==="string"?$=`String must contain ${a.exact?"exactly":a.inclusive?"at least":"over"} ${a.minimum} character(s)`:a.type==="number"?$=`Number must be ${a.exact?"exactly equal to ":a.inclusive?"greater than or equal to ":"greater than "}${a.minimum}`:a.type==="date"?$=`Date must be ${a.exact?"exactly equal to ":a.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(a.minimum))}`:$="Invalid input";break;case ZodIssueCode.too_big:a.type==="array"?$=`Array must contain ${a.exact?"exactly":a.inclusive?"at most":"less than"} ${a.maximum} element(s)`:a.type==="string"?$=`String must contain ${a.exact?"exactly":a.inclusive?"at most":"under"} ${a.maximum} character(s)`:a.type==="number"?$=`Number must be ${a.exact?"exactly":a.inclusive?"less than or equal to":"less than"} ${a.maximum}`:a.type==="bigint"?$=`BigInt must be ${a.exact?"exactly":a.inclusive?"less than or equal to":"less than"} ${a.maximum}`:a.type==="date"?$=`Date must be ${a.exact?"exactly":a.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(a.maximum))}`:$="Invalid input";break;case ZodIssueCode.custom:$="Invalid input";break;case ZodIssueCode.invalid_intersection_types:$="Intersection results could not be merged";break;case ZodIssueCode.not_multiple_of:$=`Number must be a multiple of ${a.multipleOf}`;break;case ZodIssueCode.not_finite:$="Number must be finite";break;default:$=_.defaultError,util.assertNever(a)}return{message:$}};let overrideErrorMap=errorMap;function setErrorMap(a){overrideErrorMap=a}function getErrorMap(){return overrideErrorMap}const makeIssue=a=>{const{data:_,path:$,errorMaps:j,issueData:et}=a,tt=[...$,...et.path||[]],rt={...et,path:tt};if(et.message!==void 0)return{...et,path:tt,message:et.message};let nt="";const it=j.filter(st=>!!st).slice().reverse();for(const st of it)nt=st(rt,{data:_,defaultError:nt}).message;return{...et,path:tt,message:nt}},EMPTY_PATH=[];function addIssueToContext(a,_){const $=getErrorMap(),j=makeIssue({issueData:_,data:a.data,path:a.path,errorMaps:[a.common.contextualErrorMap,a.schemaErrorMap,$,$===errorMap?void 0:errorMap].filter(et=>!!et)});a.common.issues.push(j)}class ParseStatus{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(_,$){const j=[];for(const et of $){if(et.status==="aborted")return INVALID;et.status==="dirty"&&_.dirty(),j.push(et.value)}return{status:_.value,value:j}}static async mergeObjectAsync(_,$){const j=[];for(const et of $){const tt=await et.key,rt=await et.value;j.push({key:tt,value:rt})}return ParseStatus.mergeObjectSync(_,j)}static mergeObjectSync(_,$){const j={};for(const et of $){const{key:tt,value:rt}=et;if(tt.status==="aborted"||rt.status==="aborted")return INVALID;tt.status==="dirty"&&_.dirty(),rt.status==="dirty"&&_.dirty(),tt.value!=="__proto__"&&(typeof rt.value<"u"||et.alwaysSet)&&(j[tt.value]=rt.value)}return{status:_.value,value:j}}}const INVALID=Object.freeze({status:"aborted"}),DIRTY=a=>({status:"dirty",value:a}),OK=a=>({status:"valid",value:a}),isAborted=a=>a.status==="aborted",isDirty=a=>a.status==="dirty",isValid$1=a=>a.status==="valid",isAsync=a=>typeof Promise<"u"&&a instanceof Promise;function __classPrivateFieldGet$1(a,_,$,j){if(typeof _=="function"?a!==_||!j:!_.has(a))throw new TypeError("Cannot read private member from an object whose class did not declare it");return _.get(a)}function __classPrivateFieldSet$1(a,_,$,j,et){if(typeof _=="function"?a!==_||!et:!_.has(a))throw new TypeError("Cannot write private member to an object whose class did not declare it");return _.set(a,$),$}typeof SuppressedError=="function"&&SuppressedError;var errorUtil;(function(a){a.errToObj=_=>typeof _=="string"?{message:_}:_||{},a.toString=_=>typeof _=="string"?_:_==null?void 0:_.message})(errorUtil||(errorUtil={}));var _ZodEnum_cache,_ZodNativeEnum_cache;class ParseInputLazyPath{constructor(_,$,j,et){this._cachedPath=[],this.parent=_,this.data=$,this._path=j,this._key=et}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const handleResult=(a,_)=>{if(isValid$1(_))return{success:!0,data:_.value};if(!a.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const $=new ZodError(a.common.issues);return this._error=$,this._error}}};function processCreateParams(a){if(!a)return{};const{errorMap:_,invalid_type_error:$,required_error:j,description:et}=a;if(_&&($||j))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return _?{errorMap:_,description:et}:{errorMap:(rt,nt)=>{var it,st;const{message:ot}=a;return rt.code==="invalid_enum_value"?{message:ot??nt.defaultError}:typeof nt.data>"u"?{message:(it=ot??j)!==null&&it!==void 0?it:nt.defaultError}:rt.code!=="invalid_type"?{message:nt.defaultError}:{message:(st=ot??$)!==null&&st!==void 0?st:nt.defaultError}},description:et}}class ZodType{constructor(_){this.spa=this.safeParseAsync,this._def=_,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(_){return getParsedType(_.data)}_getOrReturnCtx(_,$){return $||{common:_.parent.common,data:_.data,parsedType:getParsedType(_.data),schemaErrorMap:this._def.errorMap,path:_.path,parent:_.parent}}_processInputParams(_){return{status:new ParseStatus,ctx:{common:_.parent.common,data:_.data,parsedType:getParsedType(_.data),schemaErrorMap:this._def.errorMap,path:_.path,parent:_.parent}}}_parseSync(_){const $=this._parse(_);if(isAsync($))throw new Error("Synchronous parse encountered promise.");return $}_parseAsync(_){const $=this._parse(_);return Promise.resolve($)}parse(_,$){const j=this.safeParse(_,$);if(j.success)return j.data;throw j.error}safeParse(_,$){var j;const et={common:{issues:[],async:(j=$==null?void 0:$.async)!==null&&j!==void 0?j:!1,contextualErrorMap:$==null?void 0:$.errorMap},path:($==null?void 0:$.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:_,parsedType:getParsedType(_)},tt=this._parseSync({data:_,path:et.path,parent:et});return handleResult(et,tt)}async parseAsync(_,$){const j=await this.safeParseAsync(_,$);if(j.success)return j.data;throw j.error}async safeParseAsync(_,$){const j={common:{issues:[],contextualErrorMap:$==null?void 0:$.errorMap,async:!0},path:($==null?void 0:$.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:_,parsedType:getParsedType(_)},et=this._parse({data:_,path:j.path,parent:j}),tt=await(isAsync(et)?et:Promise.resolve(et));return handleResult(j,tt)}refine(_,$){const j=et=>typeof $=="string"||typeof $>"u"?{message:$}:typeof $=="function"?$(et):$;return this._refinement((et,tt)=>{const rt=_(et),nt=()=>tt.addIssue({code:ZodIssueCode.custom,...j(et)});return typeof Promise<"u"&&rt instanceof Promise?rt.then(it=>it?!0:(nt(),!1)):rt?!0:(nt(),!1)})}refinement(_,$){return this._refinement((j,et)=>_(j)?!0:(et.addIssue(typeof $=="function"?$(j,et):$),!1))}_refinement(_){return new ZodEffects({schema:this,typeName:ZodFirstPartyTypeKind.ZodEffects,effect:{type:"refinement",refinement:_}})}superRefine(_){return this._refinement(_)}optional(){return ZodOptional.create(this,this._def)}nullable(){return ZodNullable.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ZodArray.create(this,this._def)}promise(){return ZodPromise.create(this,this._def)}or(_){return ZodUnion.create([this,_],this._def)}and(_){return ZodIntersection.create(this,_,this._def)}transform(_){return new ZodEffects({...processCreateParams(this._def),schema:this,typeName:ZodFirstPartyTypeKind.ZodEffects,effect:{type:"transform",transform:_}})}default(_){const $=typeof _=="function"?_:()=>_;return new ZodDefault({...processCreateParams(this._def),innerType:this,defaultValue:$,typeName:ZodFirstPartyTypeKind.ZodDefault})}brand(){return new ZodBranded({typeName:ZodFirstPartyTypeKind.ZodBranded,type:this,...processCreateParams(this._def)})}catch(_){const $=typeof _=="function"?_:()=>_;return new ZodCatch({...processCreateParams(this._def),innerType:this,catchValue:$,typeName:ZodFirstPartyTypeKind.ZodCatch})}describe(_){const $=this.constructor;return new $({...this._def,description:_})}pipe(_){return ZodPipeline.create(this,_)}readonly(){return ZodReadonly.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const cuidRegex=/^c[^\s-]{8,}$/i,cuid2Regex=/^[0-9a-z]+$/,ulidRegex=/^[0-9A-HJKMNP-TV-Z]{26}$/,uuidRegex=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,nanoidRegex=/^[a-z0-9_-]{21}$/i,durationRegex=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,emailRegex=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,_emojiRegex="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let emojiRegex;const ipv4Regex=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ipv6Regex=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,base64Regex=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,dateRegexSource="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",dateRegex=new RegExp(`^${dateRegexSource}$`);function timeRegexSource(a){let _="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return a.precision?_=`${_}\\.\\d{${a.precision}}`:a.precision==null&&(_=`${_}(\\.\\d+)?`),_}function timeRegex(a){return new RegExp(`^${timeRegexSource(a)}$`)}function datetimeRegex(a){let _=`${dateRegexSource}T${timeRegexSource(a)}`;const $=[];return $.push(a.local?"Z?":"Z"),a.offset&&$.push("([+-]\\d{2}:?\\d{2})"),_=`${_}(${$.join("|")})`,new RegExp(`^${_}$`)}function isValidIP(a,_){return!!((_==="v4"||!_)&&ipv4Regex.test(a)||(_==="v6"||!_)&&ipv6Regex.test(a))}class ZodString extends ZodType{_parse(_){if(this._def.coerce&&(_.data=String(_.data)),this._getType(_)!==ZodParsedType.string){const tt=this._getOrReturnCtx(_);return addIssueToContext(tt,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.string,received:tt.parsedType}),INVALID}const j=new ParseStatus;let et;for(const tt of this._def.checks)if(tt.kind==="min")_.data.length<tt.value&&(et=this._getOrReturnCtx(_,et),addIssueToContext(et,{code:ZodIssueCode.too_small,minimum:tt.value,type:"string",inclusive:!0,exact:!1,message:tt.message}),j.dirty());else if(tt.kind==="max")_.data.length>tt.value&&(et=this._getOrReturnCtx(_,et),addIssueToContext(et,{code:ZodIssueCode.too_big,maximum:tt.value,type:"string",inclusive:!0,exact:!1,message:tt.message}),j.dirty());else if(tt.kind==="length"){const rt=_.data.length>tt.value,nt=_.data.length<tt.value;(rt||nt)&&(et=this._getOrReturnCtx(_,et),rt?addIssueToContext(et,{code:ZodIssueCode.too_big,maximum:tt.value,type:"string",inclusive:!0,exact:!0,message:tt.message}):nt&&addIssueToContext(et,{code:ZodIssueCode.too_small,minimum:tt.value,type:"string",inclusive:!0,exact:!0,message:tt.message}),j.dirty())}else if(tt.kind==="email")emailRegex.test(_.data)||(et=this._getOrReturnCtx(_,et),addIssueToContext(et,{validation:"email",code:ZodIssueCode.invalid_string,message:tt.message}),j.dirty());else if(tt.kind==="emoji")emojiRegex||(emojiRegex=new RegExp(_emojiRegex,"u")),emojiRegex.test(_.data)||(et=this._getOrReturnCtx(_,et),addIssueToContext(et,{validation:"emoji",code:ZodIssueCode.invalid_string,message:tt.message}),j.dirty());else if(tt.kind==="uuid")uuidRegex.test(_.data)||(et=this._getOrReturnCtx(_,et),addIssueToContext(et,{validation:"uuid",code:ZodIssueCode.invalid_string,message:tt.message}),j.dirty());else if(tt.kind==="nanoid")nanoidRegex.test(_.data)||(et=this._getOrReturnCtx(_,et),addIssueToContext(et,{validation:"nanoid",code:ZodIssueCode.invalid_string,message:tt.message}),j.dirty());else if(tt.kind==="cuid")cuidRegex.test(_.data)||(et=this._getOrReturnCtx(_,et),addIssueToContext(et,{validation:"cuid",code:ZodIssueCode.invalid_string,message:tt.message}),j.dirty());else if(tt.kind==="cuid2")cuid2Regex.test(_.data)||(et=this._getOrReturnCtx(_,et),addIssueToContext(et,{validation:"cuid2",code:ZodIssueCode.invalid_string,message:tt.message}),j.dirty());else if(tt.kind==="ulid")ulidRegex.test(_.data)||(et=this._getOrReturnCtx(_,et),addIssueToContext(et,{validation:"ulid",code:ZodIssueCode.invalid_string,message:tt.message}),j.dirty());else if(tt.kind==="url")try{new URL(_.data)}catch{et=this._getOrReturnCtx(_,et),addIssueToContext(et,{validation:"url",code:ZodIssueCode.invalid_string,message:tt.message}),j.dirty()}else tt.kind==="regex"?(tt.regex.lastIndex=0,tt.regex.test(_.data)||(et=this._getOrReturnCtx(_,et),addIssueToContext(et,{validation:"regex",code:ZodIssueCode.invalid_string,message:tt.message}),j.dirty())):tt.kind==="trim"?_.data=_.data.trim():tt.kind==="includes"?_.data.includes(tt.value,tt.position)||(et=this._getOrReturnCtx(_,et),addIssueToContext(et,{code:ZodIssueCode.invalid_string,validation:{includes:tt.value,position:tt.position},message:tt.message}),j.dirty()):tt.kind==="toLowerCase"?_.data=_.data.toLowerCase():tt.kind==="toUpperCase"?_.data=_.data.toUpperCase():tt.kind==="startsWith"?_.data.startsWith(tt.value)||(et=this._getOrReturnCtx(_,et),addIssueToContext(et,{code:ZodIssueCode.invalid_string,validation:{startsWith:tt.value},message:tt.message}),j.dirty()):tt.kind==="endsWith"?_.data.endsWith(tt.value)||(et=this._getOrReturnCtx(_,et),addIssueToContext(et,{code:ZodIssueCode.invalid_string,validation:{endsWith:tt.value},message:tt.message}),j.dirty()):tt.kind==="datetime"?datetimeRegex(tt).test(_.data)||(et=this._getOrReturnCtx(_,et),addIssueToContext(et,{code:ZodIssueCode.invalid_string,validation:"datetime",message:tt.message}),j.dirty()):tt.kind==="date"?dateRegex.test(_.data)||(et=this._getOrReturnCtx(_,et),addIssueToContext(et,{code:ZodIssueCode.invalid_string,validation:"date",message:tt.message}),j.dirty()):tt.kind==="time"?timeRegex(tt).test(_.data)||(et=this._getOrReturnCtx(_,et),addIssueToContext(et,{code:ZodIssueCode.invalid_string,validation:"time",message:tt.message}),j.dirty()):tt.kind==="duration"?durationRegex.test(_.data)||(et=this._getOrReturnCtx(_,et),addIssueToContext(et,{validation:"duration",code:ZodIssueCode.invalid_string,message:tt.message}),j.dirty()):tt.kind==="ip"?isValidIP(_.data,tt.version)||(et=this._getOrReturnCtx(_,et),addIssueToContext(et,{validation:"ip",code:ZodIssueCode.invalid_string,message:tt.message}),j.dirty()):tt.kind==="base64"?base64Regex.test(_.data)||(et=this._getOrReturnCtx(_,et),addIssueToContext(et,{validation:"base64",code:ZodIssueCode.invalid_string,message:tt.message}),j.dirty()):util.assertNever(tt);return{status:j.value,value:_.data}}_regex(_,$,j){return this.refinement(et=>_.test(et),{validation:$,code:ZodIssueCode.invalid_string,...errorUtil.errToObj(j)})}_addCheck(_){return new ZodString({...this._def,checks:[...this._def.checks,_]})}email(_){return this._addCheck({kind:"email",...errorUtil.errToObj(_)})}url(_){return this._addCheck({kind:"url",...errorUtil.errToObj(_)})}emoji(_){return this._addCheck({kind:"emoji",...errorUtil.errToObj(_)})}uuid(_){return this._addCheck({kind:"uuid",...errorUtil.errToObj(_)})}nanoid(_){return this._addCheck({kind:"nanoid",...errorUtil.errToObj(_)})}cuid(_){return this._addCheck({kind:"cuid",...errorUtil.errToObj(_)})}cuid2(_){return this._addCheck({kind:"cuid2",...errorUtil.errToObj(_)})}ulid(_){return this._addCheck({kind:"ulid",...errorUtil.errToObj(_)})}base64(_){return this._addCheck({kind:"base64",...errorUtil.errToObj(_)})}ip(_){return this._addCheck({kind:"ip",...errorUtil.errToObj(_)})}datetime(_){var $,j;return typeof _=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:_}):this._addCheck({kind:"datetime",precision:typeof(_==null?void 0:_.precision)>"u"?null:_==null?void 0:_.precision,offset:($=_==null?void 0:_.offset)!==null&&$!==void 0?$:!1,local:(j=_==null?void 0:_.local)!==null&&j!==void 0?j:!1,...errorUtil.errToObj(_==null?void 0:_.message)})}date(_){return this._addCheck({kind:"date",message:_})}time(_){return typeof _=="string"?this._addCheck({kind:"time",precision:null,message:_}):this._addCheck({kind:"time",precision:typeof(_==null?void 0:_.precision)>"u"?null:_==null?void 0:_.precision,...errorUtil.errToObj(_==null?void 0:_.message)})}duration(_){return this._addCheck({kind:"duration",...errorUtil.errToObj(_)})}regex(_,$){return this._addCheck({kind:"regex",regex:_,...errorUtil.errToObj($)})}includes(_,$){return this._addCheck({kind:"includes",value:_,position:$==null?void 0:$.position,...errorUtil.errToObj($==null?void 0:$.message)})}startsWith(_,$){return this._addCheck({kind:"startsWith",value:_,...errorUtil.errToObj($)})}endsWith(_,$){return this._addCheck({kind:"endsWith",value:_,...errorUtil.errToObj($)})}min(_,$){return this._addCheck({kind:"min",value:_,...errorUtil.errToObj($)})}max(_,$){return this._addCheck({kind:"max",value:_,...errorUtil.errToObj($)})}length(_,$){return this._addCheck({kind:"length",value:_,...errorUtil.errToObj($)})}nonempty(_){return this.min(1,errorUtil.errToObj(_))}trim(){return new ZodString({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new ZodString({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new ZodString({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(_=>_.kind==="datetime")}get isDate(){return!!this._def.checks.find(_=>_.kind==="date")}get isTime(){return!!this._def.checks.find(_=>_.kind==="time")}get isDuration(){return!!this._def.checks.find(_=>_.kind==="duration")}get isEmail(){return!!this._def.checks.find(_=>_.kind==="email")}get isURL(){return!!this._def.checks.find(_=>_.kind==="url")}get isEmoji(){return!!this._def.checks.find(_=>_.kind==="emoji")}get isUUID(){return!!this._def.checks.find(_=>_.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(_=>_.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(_=>_.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(_=>_.kind==="cuid2")}get isULID(){return!!this._def.checks.find(_=>_.kind==="ulid")}get isIP(){return!!this._def.checks.find(_=>_.kind==="ip")}get isBase64(){return!!this._def.checks.find(_=>_.kind==="base64")}get minLength(){let _=null;for(const $ of this._def.checks)$.kind==="min"&&(_===null||$.value>_)&&(_=$.value);return _}get maxLength(){let _=null;for(const $ of this._def.checks)$.kind==="max"&&(_===null||$.value<_)&&(_=$.value);return _}}ZodString.create=a=>{var _;return new ZodString({checks:[],typeName:ZodFirstPartyTypeKind.ZodString,coerce:(_=a==null?void 0:a.coerce)!==null&&_!==void 0?_:!1,...processCreateParams(a)})};function floatSafeRemainder(a,_){const $=(a.toString().split(".")[1]||"").length,j=(_.toString().split(".")[1]||"").length,et=$>j?$:j,tt=parseInt(a.toFixed(et).replace(".","")),rt=parseInt(_.toFixed(et).replace(".",""));return tt%rt/Math.pow(10,et)}class ZodNumber extends ZodType{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(_){if(this._def.coerce&&(_.data=Number(_.data)),this._getType(_)!==ZodParsedType.number){const tt=this._getOrReturnCtx(_);return addIssueToContext(tt,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.number,received:tt.parsedType}),INVALID}let j;const et=new ParseStatus;for(const tt of this._def.checks)tt.kind==="int"?util.isInteger(_.data)||(j=this._getOrReturnCtx(_,j),addIssueToContext(j,{code:ZodIssueCode.invalid_type,expected:"integer",received:"float",message:tt.message}),et.dirty()):tt.kind==="min"?(tt.inclusive?_.data<tt.value:_.data<=tt.value)&&(j=this._getOrReturnCtx(_,j),addIssueToContext(j,{code:ZodIssueCode.too_small,minimum:tt.value,type:"number",inclusive:tt.inclusive,exact:!1,message:tt.message}),et.dirty()):tt.kind==="max"?(tt.inclusive?_.data>tt.value:_.data>=tt.value)&&(j=this._getOrReturnCtx(_,j),addIssueToContext(j,{code:ZodIssueCode.too_big,maximum:tt.value,type:"number",inclusive:tt.inclusive,exact:!1,message:tt.message}),et.dirty()):tt.kind==="multipleOf"?floatSafeRemainder(_.data,tt.value)!==0&&(j=this._getOrReturnCtx(_,j),addIssueToContext(j,{code:ZodIssueCode.not_multiple_of,multipleOf:tt.value,message:tt.message}),et.dirty()):tt.kind==="finite"?Number.isFinite(_.data)||(j=this._getOrReturnCtx(_,j),addIssueToContext(j,{code:ZodIssueCode.not_finite,message:tt.message}),et.dirty()):util.assertNever(tt);return{status:et.value,value:_.data}}gte(_,$){return this.setLimit("min",_,!0,errorUtil.toString($))}gt(_,$){return this.setLimit("min",_,!1,errorUtil.toString($))}lte(_,$){return this.setLimit("max",_,!0,errorUtil.toString($))}lt(_,$){return this.setLimit("max",_,!1,errorUtil.toString($))}setLimit(_,$,j,et){return new ZodNumber({...this._def,checks:[...this._def.checks,{kind:_,value:$,inclusive:j,message:errorUtil.toString(et)}]})}_addCheck(_){return new ZodNumber({...this._def,checks:[...this._def.checks,_]})}int(_){return this._addCheck({kind:"int",message:errorUtil.toString(_)})}positive(_){return this._addCheck({kind:"min",value:0,inclusive:!1,message:errorUtil.toString(_)})}negative(_){return this._addCheck({kind:"max",value:0,inclusive:!1,message:errorUtil.toString(_)})}nonpositive(_){return this._addCheck({kind:"max",value:0,inclusive:!0,message:errorUtil.toString(_)})}nonnegative(_){return this._addCheck({kind:"min",value:0,inclusive:!0,message:errorUtil.toString(_)})}multipleOf(_,$){return this._addCheck({kind:"multipleOf",value:_,message:errorUtil.toString($)})}finite(_){return this._addCheck({kind:"finite",message:errorUtil.toString(_)})}safe(_){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:errorUtil.toString(_)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:errorUtil.toString(_)})}get minValue(){let _=null;for(const $ of this._def.checks)$.kind==="min"&&(_===null||$.value>_)&&(_=$.value);return _}get maxValue(){let _=null;for(const $ of this._def.checks)$.kind==="max"&&(_===null||$.value<_)&&(_=$.value);return _}get isInt(){return!!this._def.checks.find(_=>_.kind==="int"||_.kind==="multipleOf"&&util.isInteger(_.value))}get isFinite(){let _=null,$=null;for(const j of this._def.checks){if(j.kind==="finite"||j.kind==="int"||j.kind==="multipleOf")return!0;j.kind==="min"?($===null||j.value>$)&&($=j.value):j.kind==="max"&&(_===null||j.value<_)&&(_=j.value)}return Number.isFinite($)&&Number.isFinite(_)}}ZodNumber.create=a=>new ZodNumber({checks:[],typeName:ZodFirstPartyTypeKind.ZodNumber,coerce:(a==null?void 0:a.coerce)||!1,...processCreateParams(a)});class ZodBigInt extends ZodType{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(_){if(this._def.coerce&&(_.data=BigInt(_.data)),this._getType(_)!==ZodParsedType.bigint){const tt=this._getOrReturnCtx(_);return addIssueToContext(tt,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.bigint,received:tt.parsedType}),INVALID}let j;const et=new ParseStatus;for(const tt of this._def.checks)tt.kind==="min"?(tt.inclusive?_.data<tt.value:_.data<=tt.value)&&(j=this._getOrReturnCtx(_,j),addIssueToContext(j,{code:ZodIssueCode.too_small,type:"bigint",minimum:tt.value,inclusive:tt.inclusive,message:tt.message}),et.dirty()):tt.kind==="max"?(tt.inclusive?_.data>tt.value:_.data>=tt.value)&&(j=this._getOrReturnCtx(_,j),addIssueToContext(j,{code:ZodIssueCode.too_big,type:"bigint",maximum:tt.value,inclusive:tt.inclusive,message:tt.message}),et.dirty()):tt.kind==="multipleOf"?_.data%tt.value!==BigInt(0)&&(j=this._getOrReturnCtx(_,j),addIssueToContext(j,{code:ZodIssueCode.not_multiple_of,multipleOf:tt.value,message:tt.message}),et.dirty()):util.assertNever(tt);return{status:et.value,value:_.data}}gte(_,$){return this.setLimit("min",_,!0,errorUtil.toString($))}gt(_,$){return this.setLimit("min",_,!1,errorUtil.toString($))}lte(_,$){return this.setLimit("max",_,!0,errorUtil.toString($))}lt(_,$){return this.setLimit("max",_,!1,errorUtil.toString($))}setLimit(_,$,j,et){return new ZodBigInt({...this._def,checks:[...this._def.checks,{kind:_,value:$,inclusive:j,message:errorUtil.toString(et)}]})}_addCheck(_){return new ZodBigInt({...this._def,checks:[...this._def.checks,_]})}positive(_){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:errorUtil.toString(_)})}negative(_){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:errorUtil.toString(_)})}nonpositive(_){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:errorUtil.toString(_)})}nonnegative(_){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:errorUtil.toString(_)})}multipleOf(_,$){return this._addCheck({kind:"multipleOf",value:_,message:errorUtil.toString($)})}get minValue(){let _=null;for(const $ of this._def.checks)$.kind==="min"&&(_===null||$.value>_)&&(_=$.value);return _}get maxValue(){let _=null;for(const $ of this._def.checks)$.kind==="max"&&(_===null||$.value<_)&&(_=$.value);return _}}ZodBigInt.create=a=>{var _;return new ZodBigInt({checks:[],typeName:ZodFirstPartyTypeKind.ZodBigInt,coerce:(_=a==null?void 0:a.coerce)!==null&&_!==void 0?_:!1,...processCreateParams(a)})};class ZodBoolean extends ZodType{_parse(_){if(this._def.coerce&&(_.data=!!_.data),this._getType(_)!==ZodParsedType.boolean){const j=this._getOrReturnCtx(_);return addIssueToContext(j,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.boolean,received:j.parsedType}),INVALID}return OK(_.data)}}ZodBoolean.create=a=>new ZodBoolean({typeName:ZodFirstPartyTypeKind.ZodBoolean,coerce:(a==null?void 0:a.coerce)||!1,...processCreateParams(a)});class ZodDate extends ZodType{_parse(_){if(this._def.coerce&&(_.data=new Date(_.data)),this._getType(_)!==ZodParsedType.date){const tt=this._getOrReturnCtx(_);return addIssueToContext(tt,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.date,received:tt.parsedType}),INVALID}if(isNaN(_.data.getTime())){const tt=this._getOrReturnCtx(_);return addIssueToContext(tt,{code:ZodIssueCode.invalid_date}),INVALID}const j=new ParseStatus;let et;for(const tt of this._def.checks)tt.kind==="min"?_.data.getTime()<tt.value&&(et=this._getOrReturnCtx(_,et),addIssueToContext(et,{code:ZodIssueCode.too_small,message:tt.message,inclusive:!0,exact:!1,minimum:tt.value,type:"date"}),j.dirty()):tt.kind==="max"?_.data.getTime()>tt.value&&(et=this._getOrReturnCtx(_,et),addIssueToContext(et,{code:ZodIssueCode.too_big,message:tt.message,inclusive:!0,exact:!1,maximum:tt.value,type:"date"}),j.dirty()):util.assertNever(tt);return{status:j.value,value:new Date(_.data.getTime())}}_addCheck(_){return new ZodDate({...this._def,checks:[...this._def.checks,_]})}min(_,$){return this._addCheck({kind:"min",value:_.getTime(),message:errorUtil.toString($)})}max(_,$){return this._addCheck({kind:"max",value:_.getTime(),message:errorUtil.toString($)})}get minDate(){let _=null;for(const $ of this._def.checks)$.kind==="min"&&(_===null||$.value>_)&&(_=$.value);return _!=null?new Date(_):null}get maxDate(){let _=null;for(const $ of this._def.checks)$.kind==="max"&&(_===null||$.value<_)&&(_=$.value);return _!=null?new Date(_):null}}ZodDate.create=a=>new ZodDate({checks:[],coerce:(a==null?void 0:a.coerce)||!1,typeName:ZodFirstPartyTypeKind.ZodDate,...processCreateParams(a)});class ZodSymbol extends ZodType{_parse(_){if(this._getType(_)!==ZodParsedType.symbol){const j=this._getOrReturnCtx(_);return addIssueToContext(j,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.symbol,received:j.parsedType}),INVALID}return OK(_.data)}}ZodSymbol.create=a=>new ZodSymbol({typeName:ZodFirstPartyTypeKind.ZodSymbol,...processCreateParams(a)});class ZodUndefined extends ZodType{_parse(_){if(this._getType(_)!==ZodParsedType.undefined){const j=this._getOrReturnCtx(_);return addIssueToContext(j,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.undefined,received:j.parsedType}),INVALID}return OK(_.data)}}ZodUndefined.create=a=>new ZodUndefined({typeName:ZodFirstPartyTypeKind.ZodUndefined,...processCreateParams(a)});class ZodNull extends ZodType{_parse(_){if(this._getType(_)!==ZodParsedType.null){const j=this._getOrReturnCtx(_);return addIssueToContext(j,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.null,received:j.parsedType}),INVALID}return OK(_.data)}}ZodNull.create=a=>new ZodNull({typeName:ZodFirstPartyTypeKind.ZodNull,...processCreateParams(a)});class ZodAny extends ZodType{constructor(){super(...arguments),this._any=!0}_parse(_){return OK(_.data)}}ZodAny.create=a=>new ZodAny({typeName:ZodFirstPartyTypeKind.ZodAny,...processCreateParams(a)});class ZodUnknown extends ZodType{constructor(){super(...arguments),this._unknown=!0}_parse(_){return OK(_.data)}}ZodUnknown.create=a=>new ZodUnknown({typeName:ZodFirstPartyTypeKind.ZodUnknown,...processCreateParams(a)});class ZodNever extends ZodType{_parse(_){const $=this._getOrReturnCtx(_);return addIssueToContext($,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.never,received:$.parsedType}),INVALID}}ZodNever.create=a=>new ZodNever({typeName:ZodFirstPartyTypeKind.ZodNever,...processCreateParams(a)});class ZodVoid extends ZodType{_parse(_){if(this._getType(_)!==ZodParsedType.undefined){const j=this._getOrReturnCtx(_);return addIssueToContext(j,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.void,received:j.parsedType}),INVALID}return OK(_.data)}}ZodVoid.create=a=>new ZodVoid({typeName:ZodFirstPartyTypeKind.ZodVoid,...processCreateParams(a)});class ZodArray extends ZodType{_parse(_){const{ctx:$,status:j}=this._processInputParams(_),et=this._def;if($.parsedType!==ZodParsedType.array)return addIssueToContext($,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.array,received:$.parsedType}),INVALID;if(et.exactLength!==null){const rt=$.data.length>et.exactLength.value,nt=$.data.length<et.exactLength.value;(rt||nt)&&(addIssueToContext($,{code:rt?ZodIssueCode.too_big:ZodIssueCode.too_small,minimum:nt?et.exactLength.value:void 0,maximum:rt?et.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:et.exactLength.message}),j.dirty())}if(et.minLength!==null&&$.data.length<et.minLength.value&&(addIssueToContext($,{code:ZodIssueCode.too_small,minimum:et.minLength.value,type:"array",inclusive:!0,exact:!1,message:et.minLength.message}),j.dirty()),et.maxLength!==null&&$.data.length>et.maxLength.value&&(addIssueToContext($,{code:ZodIssueCode.too_big,maximum:et.maxLength.value,type:"array",inclusive:!0,exact:!1,message:et.maxLength.message}),j.dirty()),$.common.async)return Promise.all([...$.data].map((rt,nt)=>et.type._parseAsync(new ParseInputLazyPath($,rt,$.path,nt)))).then(rt=>ParseStatus.mergeArray(j,rt));const tt=[...$.data].map((rt,nt)=>et.type._parseSync(new ParseInputLazyPath($,rt,$.path,nt)));return ParseStatus.mergeArray(j,tt)}get element(){return this._def.type}min(_,$){return new ZodArray({...this._def,minLength:{value:_,message:errorUtil.toString($)}})}max(_,$){return new ZodArray({...this._def,maxLength:{value:_,message:errorUtil.toString($)}})}length(_,$){return new ZodArray({...this._def,exactLength:{value:_,message:errorUtil.toString($)}})}nonempty(_){return this.min(1,_)}}ZodArray.create=(a,_)=>new ZodArray({type:a,minLength:null,maxLength:null,exactLength:null,typeName:ZodFirstPartyTypeKind.ZodArray,...processCreateParams(_)});function deepPartialify(a){if(a instanceof ZodObject){const _={};for(const $ in a.shape){const j=a.shape[$];_[$]=ZodOptional.create(deepPartialify(j))}return new ZodObject({...a._def,shape:()=>_})}else return a instanceof ZodArray?new ZodArray({...a._def,type:deepPartialify(a.element)}):a instanceof ZodOptional?ZodOptional.create(deepPartialify(a.unwrap())):a instanceof ZodNullable?ZodNullable.create(deepPartialify(a.unwrap())):a instanceof ZodTuple?ZodTuple.create(a.items.map(_=>deepPartialify(_))):a}class ZodObject extends ZodType{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const _=this._def.shape(),$=util.objectKeys(_);return this._cached={shape:_,keys:$}}_parse(_){if(this._getType(_)!==ZodParsedType.object){const st=this._getOrReturnCtx(_);return addIssueToContext(st,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.object,received:st.parsedType}),INVALID}const{status:j,ctx:et}=this._processInputParams(_),{shape:tt,keys:rt}=this._getCached(),nt=[];if(!(this._def.catchall instanceof ZodNever&&this._def.unknownKeys==="strip"))for(const st in et.data)rt.includes(st)||nt.push(st);const it=[];for(const st of rt){const ot=tt[st],at=et.data[st];it.push({key:{status:"valid",value:st},value:ot._parse(new ParseInputLazyPath(et,at,et.path,st)),alwaysSet:st in et.data})}if(this._def.catchall instanceof ZodNever){const st=this._def.unknownKeys;if(st==="passthrough")for(const ot of nt)it.push({key:{status:"valid",value:ot},value:{status:"valid",value:et.data[ot]}});else if(st==="strict")nt.length>0&&(addIssueToContext(et,{code:ZodIssueCode.unrecognized_keys,keys:nt}),j.dirty());else if(st!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const st=this._def.catchall;for(const ot of nt){const at=et.data[ot];it.push({key:{status:"valid",value:ot},value:st._parse(new ParseInputLazyPath(et,at,et.path,ot)),alwaysSet:ot in et.data})}}return et.common.async?Promise.resolve().then(async()=>{const st=[];for(const ot of it){const at=await ot.key,ut=await ot.value;st.push({key:at,value:ut,alwaysSet:ot.alwaysSet})}return st}).then(st=>ParseStatus.mergeObjectSync(j,st)):ParseStatus.mergeObjectSync(j,it)}get shape(){return this._def.shape()}strict(_){return errorUtil.errToObj,new ZodObject({...this._def,unknownKeys:"strict",..._!==void 0?{errorMap:($,j)=>{var et,tt,rt,nt;const it=(rt=(tt=(et=this._def).errorMap)===null||tt===void 0?void 0:tt.call(et,$,j).message)!==null&&rt!==void 0?rt:j.defaultError;return $.code==="unrecognized_keys"?{message:(nt=errorUtil.errToObj(_).message)!==null&&nt!==void 0?nt:it}:{message:it}}}:{}})}strip(){return new ZodObject({...this._def,unknownKeys:"strip"})}passthrough(){return new ZodObject({...this._def,unknownKeys:"passthrough"})}extend(_){return new ZodObject({...this._def,shape:()=>({...this._def.shape(),..._})})}merge(_){return new ZodObject({unknownKeys:_._def.unknownKeys,catchall:_._def.catchall,shape:()=>({...this._def.shape(),..._._def.shape()}),typeName:ZodFirstPartyTypeKind.ZodObject})}setKey(_,$){return this.augment({[_]:$})}catchall(_){return new ZodObject({...this._def,catchall:_})}pick(_){const $={};return util.objectKeys(_).forEach(j=>{_[j]&&this.shape[j]&&($[j]=this.shape[j])}),new ZodObject({...this._def,shape:()=>$})}omit(_){const $={};return util.objectKeys(this.shape).forEach(j=>{_[j]||($[j]=this.shape[j])}),new ZodObject({...this._def,shape:()=>$})}deepPartial(){return deepPartialify(this)}partial(_){const $={};return util.objectKeys(this.shape).forEach(j=>{const et=this.shape[j];_&&!_[j]?$[j]=et:$[j]=et.optional()}),new ZodObject({...this._def,shape:()=>$})}required(_){const $={};return util.objectKeys(this.shape).forEach(j=>{if(_&&!_[j])$[j]=this.shape[j];else{let tt=this.shape[j];for(;tt instanceof ZodOptional;)tt=tt._def.innerType;$[j]=tt}}),new ZodObject({...this._def,shape:()=>$})}keyof(){return createZodEnum(util.objectKeys(this.shape))}}ZodObject.create=(a,_)=>new ZodObject({shape:()=>a,unknownKeys:"strip",catchall:ZodNever.create(),typeName:ZodFirstPartyTypeKind.ZodObject,...processCreateParams(_)});ZodObject.strictCreate=(a,_)=>new ZodObject({shape:()=>a,unknownKeys:"strict",catchall:ZodNever.create(),typeName:ZodFirstPartyTypeKind.ZodObject,...processCreateParams(_)});ZodObject.lazycreate=(a,_)=>new ZodObject({shape:a,unknownKeys:"strip",catchall:ZodNever.create(),typeName:ZodFirstPartyTypeKind.ZodObject,...processCreateParams(_)});class ZodUnion extends ZodType{_parse(_){const{ctx:$}=this._processInputParams(_),j=this._def.options;function et(tt){for(const nt of tt)if(nt.result.status==="valid")return nt.result;for(const nt of tt)if(nt.result.status==="dirty")return $.common.issues.push(...nt.ctx.common.issues),nt.result;const rt=tt.map(nt=>new ZodError(nt.ctx.common.issues));return addIssueToContext($,{code:ZodIssueCode.invalid_union,unionErrors:rt}),INVALID}if($.common.async)return Promise.all(j.map(async tt=>{const rt={...$,common:{...$.common,issues:[]},parent:null};return{result:await tt._parseAsync({data:$.data,path:$.path,parent:rt}),ctx:rt}})).then(et);{let tt;const rt=[];for(const it of j){const st={...$,common:{...$.common,issues:[]},parent:null},ot=it._parseSync({data:$.data,path:$.path,parent:st});if(ot.status==="valid")return ot;ot.status==="dirty"&&!tt&&(tt={result:ot,ctx:st}),st.common.issues.length&&rt.push(st.common.issues)}if(tt)return $.common.issues.push(...tt.ctx.common.issues),tt.result;const nt=rt.map(it=>new ZodError(it));return addIssueToContext($,{code:ZodIssueCode.invalid_union,unionErrors:nt}),INVALID}}get options(){return this._def.options}}ZodUnion.create=(a,_)=>new ZodUnion({options:a,typeName:ZodFirstPartyTypeKind.ZodUnion,...processCreateParams(_)});const getDiscriminator=a=>a instanceof ZodLazy?getDiscriminator(a.schema):a instanceof ZodEffects?getDiscriminator(a.innerType()):a instanceof ZodLiteral?[a.value]:a instanceof ZodEnum?a.options:a instanceof ZodNativeEnum?util.objectValues(a.enum):a instanceof ZodDefault?getDiscriminator(a._def.innerType):a instanceof ZodUndefined?[void 0]:a instanceof ZodNull?[null]:a instanceof ZodOptional?[void 0,...getDiscriminator(a.unwrap())]:a instanceof ZodNullable?[null,...getDiscriminator(a.unwrap())]:a instanceof ZodBranded||a instanceof ZodReadonly?getDiscriminator(a.unwrap()):a instanceof ZodCatch?getDiscriminator(a._def.innerType):[];class ZodDiscriminatedUnion extends ZodType{_parse(_){const{ctx:$}=this._processInputParams(_);if($.parsedType!==ZodParsedType.object)return addIssueToContext($,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.object,received:$.parsedType}),INVALID;const j=this.discriminator,et=$.data[j],tt=this.optionsMap.get(et);return tt?$.common.async?tt._parseAsync({data:$.data,path:$.path,parent:$}):tt._parseSync({data:$.data,path:$.path,parent:$}):(addIssueToContext($,{code:ZodIssueCode.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[j]}),INVALID)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(_,$,j){const et=new Map;for(const tt of $){const rt=getDiscriminator(tt.shape[_]);if(!rt.length)throw new Error(`A discriminator value for key \`${_}\` could not be extracted from all schema options`);for(const nt of rt){if(et.has(nt))throw new Error(`Discriminator property ${String(_)} has duplicate value ${String(nt)}`);et.set(nt,tt)}}return new ZodDiscriminatedUnion({typeName:ZodFirstPartyTypeKind.ZodDiscriminatedUnion,discriminator:_,options:$,optionsMap:et,...processCreateParams(j)})}}function mergeValues(a,_){const $=getParsedType(a),j=getParsedType(_);if(a===_)return{valid:!0,data:a};if($===ZodParsedType.object&&j===ZodParsedType.object){const et=util.objectKeys(_),tt=util.objectKeys(a).filter(nt=>et.indexOf(nt)!==-1),rt={...a,..._};for(const nt of tt){const it=mergeValues(a[nt],_[nt]);if(!it.valid)return{valid:!1};rt[nt]=it.data}return{valid:!0,data:rt}}else if($===ZodParsedType.array&&j===ZodParsedType.array){if(a.length!==_.length)return{valid:!1};const et=[];for(let tt=0;tt<a.length;tt++){const rt=a[tt],nt=_[tt],it=mergeValues(rt,nt);if(!it.valid)return{valid:!1};et.push(it.data)}return{valid:!0,data:et}}else return $===ZodParsedType.date&&j===ZodParsedType.date&&+a==+_?{valid:!0,data:a}:{valid:!1}}class ZodIntersection extends ZodType{_parse(_){const{status:$,ctx:j}=this._processInputParams(_),et=(tt,rt)=>{if(isAborted(tt)||isAborted(rt))return INVALID;const nt=mergeValues(tt.value,rt.value);return nt.valid?((isDirty(tt)||isDirty(rt))&&$.dirty(),{status:$.value,value:nt.data}):(addIssueToContext(j,{code:ZodIssueCode.invalid_intersection_types}),INVALID)};return j.common.async?Promise.all([this._def.left._parseAsync({data:j.data,path:j.path,parent:j}),this._def.right._parseAsync({data:j.data,path:j.path,parent:j})]).then(([tt,rt])=>et(tt,rt)):et(this._def.left._parseSync({data:j.data,path:j.path,parent:j}),this._def.right._parseSync({data:j.data,path:j.path,parent:j}))}}ZodIntersection.create=(a,_,$)=>new ZodIntersection({left:a,right:_,typeName:ZodFirstPartyTypeKind.ZodIntersection,...processCreateParams($)});class ZodTuple extends ZodType{_parse(_){const{status:$,ctx:j}=this._processInputParams(_);if(j.parsedType!==ZodParsedType.array)return addIssueToContext(j,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.array,received:j.parsedType}),INVALID;if(j.data.length<this._def.items.length)return addIssueToContext(j,{code:ZodIssueCode.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),INVALID;!this._def.rest&&j.data.length>this._def.items.length&&(addIssueToContext(j,{code:ZodIssueCode.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),$.dirty());const tt=[...j.data].map((rt,nt)=>{const it=this._def.items[nt]||this._def.rest;return it?it._parse(new ParseInputLazyPath(j,rt,j.path,nt)):null}).filter(rt=>!!rt);return j.common.async?Promise.all(tt).then(rt=>ParseStatus.mergeArray($,rt)):ParseStatus.mergeArray($,tt)}get items(){return this._def.items}rest(_){return new ZodTuple({...this._def,rest:_})}}ZodTuple.create=(a,_)=>{if(!Array.isArray(a))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ZodTuple({items:a,typeName:ZodFirstPartyTypeKind.ZodTuple,rest:null,...processCreateParams(_)})};class ZodRecord extends ZodType{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(_){const{status:$,ctx:j}=this._processInputParams(_);if(j.parsedType!==ZodParsedType.object)return addIssueToContext(j,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.object,received:j.parsedType}),INVALID;const et=[],tt=this._def.keyType,rt=this._def.valueType;for(const nt in j.data)et.push({key:tt._parse(new ParseInputLazyPath(j,nt,j.path,nt)),value:rt._parse(new ParseInputLazyPath(j,j.data[nt],j.path,nt)),alwaysSet:nt in j.data});return j.common.async?ParseStatus.mergeObjectAsync($,et):ParseStatus.mergeObjectSync($,et)}get element(){return this._def.valueType}static create(_,$,j){return $ instanceof ZodType?new ZodRecord({keyType:_,valueType:$,typeName:ZodFirstPartyTypeKind.ZodRecord,...processCreateParams(j)}):new ZodRecord({keyType:ZodString.create(),valueType:_,typeName:ZodFirstPartyTypeKind.ZodRecord,...processCreateParams($)})}}class ZodMap extends ZodType{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(_){const{status:$,ctx:j}=this._processInputParams(_);if(j.parsedType!==ZodParsedType.map)return addIssueToContext(j,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.map,received:j.parsedType}),INVALID;const et=this._def.keyType,tt=this._def.valueType,rt=[...j.data.entries()].map(([nt,it],st)=>({key:et._parse(new ParseInputLazyPath(j,nt,j.path,[st,"key"])),value:tt._parse(new ParseInputLazyPath(j,it,j.path,[st,"value"]))}));if(j.common.async){const nt=new Map;return Promise.resolve().then(async()=>{for(const it of rt){const st=await it.key,ot=await it.value;if(st.status==="aborted"||ot.status==="aborted")return INVALID;(st.status==="dirty"||ot.status==="dirty")&&$.dirty(),nt.set(st.value,ot.value)}return{status:$.value,value:nt}})}else{const nt=new Map;for(const it of rt){const st=it.key,ot=it.value;if(st.status==="aborted"||ot.status==="aborted")return INVALID;(st.status==="dirty"||ot.status==="dirty")&&$.dirty(),nt.set(st.value,ot.value)}return{status:$.value,value:nt}}}}ZodMap.create=(a,_,$)=>new ZodMap({valueType:_,keyType:a,typeName:ZodFirstPartyTypeKind.ZodMap,...processCreateParams($)});class ZodSet extends ZodType{_parse(_){const{status:$,ctx:j}=this._processInputParams(_);if(j.parsedType!==ZodParsedType.set)return addIssueToContext(j,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.set,received:j.parsedType}),INVALID;const et=this._def;et.minSize!==null&&j.data.size<et.minSize.value&&(addIssueToContext(j,{code:ZodIssueCode.too_small,minimum:et.minSize.value,type:"set",inclusive:!0,exact:!1,message:et.minSize.message}),$.dirty()),et.maxSize!==null&&j.data.size>et.maxSize.value&&(addIssueToContext(j,{code:ZodIssueCode.too_big,maximum:et.maxSize.value,type:"set",inclusive:!0,exact:!1,message:et.maxSize.message}),$.dirty());const tt=this._def.valueType;function rt(it){const st=new Set;for(const ot of it){if(ot.status==="aborted")return INVALID;ot.status==="dirty"&&$.dirty(),st.add(ot.value)}return{status:$.value,value:st}}const nt=[...j.data.values()].map((it,st)=>tt._parse(new ParseInputLazyPath(j,it,j.path,st)));return j.common.async?Promise.all(nt).then(it=>rt(it)):rt(nt)}min(_,$){return new ZodSet({...this._def,minSize:{value:_,message:errorUtil.toString($)}})}max(_,$){return new ZodSet({...this._def,maxSize:{value:_,message:errorUtil.toString($)}})}size(_,$){return this.min(_,$).max(_,$)}nonempty(_){return this.min(1,_)}}ZodSet.create=(a,_)=>new ZodSet({valueType:a,minSize:null,maxSize:null,typeName:ZodFirstPartyTypeKind.ZodSet,...processCreateParams(_)});class ZodFunction extends ZodType{constructor(){super(...arguments),this.validate=this.implement}_parse(_){const{ctx:$}=this._processInputParams(_);if($.parsedType!==ZodParsedType.function)return addIssueToContext($,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.function,received:$.parsedType}),INVALID;function j(nt,it){return makeIssue({data:nt,path:$.path,errorMaps:[$.common.contextualErrorMap,$.schemaErrorMap,getErrorMap(),errorMap].filter(st=>!!st),issueData:{code:ZodIssueCode.invalid_arguments,argumentsError:it}})}function et(nt,it){return makeIssue({data:nt,path:$.path,errorMaps:[$.common.contextualErrorMap,$.schemaErrorMap,getErrorMap(),errorMap].filter(st=>!!st),issueData:{code:ZodIssueCode.invalid_return_type,returnTypeError:it}})}const tt={errorMap:$.common.contextualErrorMap},rt=$.data;if(this._def.returns instanceof ZodPromise){const nt=this;return OK(async function(...it){const st=new ZodError([]),ot=await nt._def.args.parseAsync(it,tt).catch(ht=>{throw st.addIssue(j(it,ht)),st}),at=await Reflect.apply(rt,this,ot);return await nt._def.returns._def.type.parseAsync(at,tt).catch(ht=>{throw st.addIssue(et(at,ht)),st})})}else{const nt=this;return OK(function(...it){const st=nt._def.args.safeParse(it,tt);if(!st.success)throw new ZodError([j(it,st.error)]);const ot=Reflect.apply(rt,this,st.data),at=nt._def.returns.safeParse(ot,tt);if(!at.success)throw new ZodError([et(ot,at.error)]);return at.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(..._){return new ZodFunction({...this._def,args:ZodTuple.create(_).rest(ZodUnknown.create())})}returns(_){return new ZodFunction({...this._def,returns:_})}implement(_){return this.parse(_)}strictImplement(_){return this.parse(_)}static create(_,$,j){return new ZodFunction({args:_||ZodTuple.create([]).rest(ZodUnknown.create()),returns:$||ZodUnknown.create(),typeName:ZodFirstPartyTypeKind.ZodFunction,...processCreateParams(j)})}}class ZodLazy extends ZodType{get schema(){return this._def.getter()}_parse(_){const{ctx:$}=this._processInputParams(_);return this._def.getter()._parse({data:$.data,path:$.path,parent:$})}}ZodLazy.create=(a,_)=>new ZodLazy({getter:a,typeName:ZodFirstPartyTypeKind.ZodLazy,...processCreateParams(_)});class ZodLiteral extends ZodType{_parse(_){if(_.data!==this._def.value){const $=this._getOrReturnCtx(_);return addIssueToContext($,{received:$.data,code:ZodIssueCode.invalid_literal,expected:this._def.value}),INVALID}return{status:"valid",value:_.data}}get value(){return this._def.value}}ZodLiteral.create=(a,_)=>new ZodLiteral({value:a,typeName:ZodFirstPartyTypeKind.ZodLiteral,...processCreateParams(_)});function createZodEnum(a,_){return new ZodEnum({values:a,typeName:ZodFirstPartyTypeKind.ZodEnum,...processCreateParams(_)})}class ZodEnum extends ZodType{constructor(){super(...arguments),_ZodEnum_cache.set(this,void 0)}_parse(_){if(typeof _.data!="string"){const $=this._getOrReturnCtx(_),j=this._def.values;return addIssueToContext($,{expected:util.joinValues(j),received:$.parsedType,code:ZodIssueCode.invalid_type}),INVALID}if(__classPrivateFieldGet$1(this,_ZodEnum_cache)||__classPrivateFieldSet$1(this,_ZodEnum_cache,new Set(this._def.values)),!__classPrivateFieldGet$1(this,_ZodEnum_cache).has(_.data)){const $=this._getOrReturnCtx(_),j=this._def.values;return addIssueToContext($,{received:$.data,code:ZodIssueCode.invalid_enum_value,options:j}),INVALID}return OK(_.data)}get options(){return this._def.values}get enum(){const _={};for(const $ of this._def.values)_[$]=$;return _}get Values(){const _={};for(const $ of this._def.values)_[$]=$;return _}get Enum(){const _={};for(const $ of this._def.values)_[$]=$;return _}extract(_,$=this._def){return ZodEnum.create(_,{...this._def,...$})}exclude(_,$=this._def){return ZodEnum.create(this.options.filter(j=>!_.includes(j)),{...this._def,...$})}}_ZodEnum_cache=new WeakMap;ZodEnum.create=createZodEnum;class ZodNativeEnum extends ZodType{constructor(){super(...arguments),_ZodNativeEnum_cache.set(this,void 0)}_parse(_){const $=util.getValidEnumValues(this._def.values),j=this._getOrReturnCtx(_);if(j.parsedType!==ZodParsedType.string&&j.parsedType!==ZodParsedType.number){const et=util.objectValues($);return addIssueToContext(j,{expected:util.joinValues(et),received:j.parsedType,code:ZodIssueCode.invalid_type}),INVALID}if(__classPrivateFieldGet$1(this,_ZodNativeEnum_cache)||__classPrivateFieldSet$1(this,_ZodNativeEnum_cache,new Set(util.getValidEnumValues(this._def.values))),!__classPrivateFieldGet$1(this,_ZodNativeEnum_cache).has(_.data)){const et=util.objectValues($);return addIssueToContext(j,{received:j.data,code:ZodIssueCode.invalid_enum_value,options:et}),INVALID}return OK(_.data)}get enum(){return this._def.values}}_ZodNativeEnum_cache=new WeakMap;ZodNativeEnum.create=(a,_)=>new ZodNativeEnum({values:a,typeName:ZodFirstPartyTypeKind.ZodNativeEnum,...processCreateParams(_)});class ZodPromise extends ZodType{unwrap(){return this._def.type}_parse(_){const{ctx:$}=this._processInputParams(_);if($.parsedType!==ZodParsedType.promise&&$.common.async===!1)return addIssueToContext($,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.promise,received:$.parsedType}),INVALID;const j=$.parsedType===ZodParsedType.promise?$.data:Promise.resolve($.data);return OK(j.then(et=>this._def.type.parseAsync(et,{path:$.path,errorMap:$.common.contextualErrorMap})))}}ZodPromise.create=(a,_)=>new ZodPromise({type:a,typeName:ZodFirstPartyTypeKind.ZodPromise,...processCreateParams(_)});class ZodEffects extends ZodType{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===ZodFirstPartyTypeKind.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(_){const{status:$,ctx:j}=this._processInputParams(_),et=this._def.effect||null,tt={addIssue:rt=>{addIssueToContext(j,rt),rt.fatal?$.abort():$.dirty()},get path(){return j.path}};if(tt.addIssue=tt.addIssue.bind(tt),et.type==="preprocess"){const rt=et.transform(j.data,tt);if(j.common.async)return Promise.resolve(rt).then(async nt=>{if($.value==="aborted")return INVALID;const it=await this._def.schema._parseAsync({data:nt,path:j.path,parent:j});return it.status==="aborted"?INVALID:it.status==="dirty"||$.value==="dirty"?DIRTY(it.value):it});{if($.value==="aborted")return INVALID;const nt=this._def.schema._parseSync({data:rt,path:j.path,parent:j});return nt.status==="aborted"?INVALID:nt.status==="dirty"||$.value==="dirty"?DIRTY(nt.value):nt}}if(et.type==="refinement"){const rt=nt=>{const it=et.refinement(nt,tt);if(j.common.async)return Promise.resolve(it);if(it instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return nt};if(j.common.async===!1){const nt=this._def.schema._parseSync({data:j.data,path:j.path,parent:j});return nt.status==="aborted"?INVALID:(nt.status==="dirty"&&$.dirty(),rt(nt.value),{status:$.value,value:nt.value})}else return this._def.schema._parseAsync({data:j.data,path:j.path,parent:j}).then(nt=>nt.status==="aborted"?INVALID:(nt.status==="dirty"&&$.dirty(),rt(nt.value).then(()=>({status:$.value,value:nt.value}))))}if(et.type==="transform")if(j.common.async===!1){const rt=this._def.schema._parseSync({data:j.data,path:j.path,parent:j});if(!isValid$1(rt))return rt;const nt=et.transform(rt.value,tt);if(nt instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:$.value,value:nt}}else return this._def.schema._parseAsync({data:j.data,path:j.path,parent:j}).then(rt=>isValid$1(rt)?Promise.resolve(et.transform(rt.value,tt)).then(nt=>({status:$.value,value:nt})):rt);util.assertNever(et)}}ZodEffects.create=(a,_,$)=>new ZodEffects({schema:a,typeName:ZodFirstPartyTypeKind.ZodEffects,effect:_,...processCreateParams($)});ZodEffects.createWithPreprocess=(a,_,$)=>new ZodEffects({schema:_,effect:{type:"preprocess",transform:a},typeName:ZodFirstPartyTypeKind.ZodEffects,...processCreateParams($)});class ZodOptional extends ZodType{_parse(_){return this._getType(_)===ZodParsedType.undefined?OK(void 0):this._def.innerType._parse(_)}unwrap(){return this._def.innerType}}ZodOptional.create=(a,_)=>new ZodOptional({innerType:a,typeName:ZodFirstPartyTypeKind.ZodOptional,...processCreateParams(_)});class ZodNullable extends ZodType{_parse(_){return this._getType(_)===ZodParsedType.null?OK(null):this._def.innerType._parse(_)}unwrap(){return this._def.innerType}}ZodNullable.create=(a,_)=>new ZodNullable({innerType:a,typeName:ZodFirstPartyTypeKind.ZodNullable,...processCreateParams(_)});class ZodDefault extends ZodType{_parse(_){const{ctx:$}=this._processInputParams(_);let j=$.data;return $.parsedType===ZodParsedType.undefined&&(j=this._def.defaultValue()),this._def.innerType._parse({data:j,path:$.path,parent:$})}removeDefault(){return this._def.innerType}}ZodDefault.create=(a,_)=>new ZodDefault({innerType:a,typeName:ZodFirstPartyTypeKind.ZodDefault,defaultValue:typeof _.default=="function"?_.default:()=>_.default,...processCreateParams(_)});class ZodCatch extends ZodType{_parse(_){const{ctx:$}=this._processInputParams(_),j={...$,common:{...$.common,issues:[]}},et=this._def.innerType._parse({data:j.data,path:j.path,parent:{...j}});return isAsync(et)?et.then(tt=>({status:"valid",value:tt.status==="valid"?tt.value:this._def.catchValue({get error(){return new ZodError(j.common.issues)},input:j.data})})):{status:"valid",value:et.status==="valid"?et.value:this._def.catchValue({get error(){return new ZodError(j.common.issues)},input:j.data})}}removeCatch(){return this._def.innerType}}ZodCatch.create=(a,_)=>new ZodCatch({innerType:a,typeName:ZodFirstPartyTypeKind.ZodCatch,catchValue:typeof _.catch=="function"?_.catch:()=>_.catch,...processCreateParams(_)});class ZodNaN extends ZodType{_parse(_){if(this._getType(_)!==ZodParsedType.nan){const j=this._getOrReturnCtx(_);return addIssueToContext(j,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.nan,received:j.parsedType}),INVALID}return{status:"valid",value:_.data}}}ZodNaN.create=a=>new ZodNaN({typeName:ZodFirstPartyTypeKind.ZodNaN,...processCreateParams(a)});const BRAND=Symbol("zod_brand");class ZodBranded extends ZodType{_parse(_){const{ctx:$}=this._processInputParams(_),j=$.data;return this._def.type._parse({data:j,path:$.path,parent:$})}unwrap(){return this._def.type}}class ZodPipeline extends ZodType{_parse(_){const{status:$,ctx:j}=this._processInputParams(_);if(j.common.async)return(async()=>{const tt=await this._def.in._parseAsync({data:j.data,path:j.path,parent:j});return tt.status==="aborted"?INVALID:tt.status==="dirty"?($.dirty(),DIRTY(tt.value)):this._def.out._parseAsync({data:tt.value,path:j.path,parent:j})})();{const et=this._def.in._parseSync({data:j.data,path:j.path,parent:j});return et.status==="aborted"?INVALID:et.status==="dirty"?($.dirty(),{status:"dirty",value:et.value}):this._def.out._parseSync({data:et.value,path:j.path,parent:j})}}static create(_,$){return new ZodPipeline({in:_,out:$,typeName:ZodFirstPartyTypeKind.ZodPipeline})}}class ZodReadonly extends ZodType{_parse(_){const $=this._def.innerType._parse(_),j=et=>(isValid$1(et)&&(et.value=Object.freeze(et.value)),et);return isAsync($)?$.then(et=>j(et)):j($)}unwrap(){return this._def.innerType}}ZodReadonly.create=(a,_)=>new ZodReadonly({innerType:a,typeName:ZodFirstPartyTypeKind.ZodReadonly,...processCreateParams(_)});function custom(a,_={},$){return a?ZodAny.create().superRefine((j,et)=>{var tt,rt;if(!a(j)){const nt=typeof _=="function"?_(j):typeof _=="string"?{message:_}:_,it=(rt=(tt=nt.fatal)!==null&&tt!==void 0?tt:$)!==null&&rt!==void 0?rt:!0,st=typeof nt=="string"?{message:nt}:nt;et.addIssue({code:"custom",...st,fatal:it})}}):ZodAny.create()}const late={object:ZodObject.lazycreate};var ZodFirstPartyTypeKind;(function(a){a.ZodString="ZodString",a.ZodNumber="ZodNumber",a.ZodNaN="ZodNaN",a.ZodBigInt="ZodBigInt",a.ZodBoolean="ZodBoolean",a.ZodDate="ZodDate",a.ZodSymbol="ZodSymbol",a.ZodUndefined="ZodUndefined",a.ZodNull="ZodNull",a.ZodAny="ZodAny",a.ZodUnknown="ZodUnknown",a.ZodNever="ZodNever",a.ZodVoid="ZodVoid",a.ZodArray="ZodArray",a.ZodObject="ZodObject",a.ZodUnion="ZodUnion",a.ZodDiscriminatedUnion="ZodDiscriminatedUnion",a.ZodIntersection="ZodIntersection",a.ZodTuple="ZodTuple",a.ZodRecord="ZodRecord",a.ZodMap="ZodMap",a.ZodSet="ZodSet",a.ZodFunction="ZodFunction",a.ZodLazy="ZodLazy",a.ZodLiteral="ZodLiteral",a.ZodEnum="ZodEnum",a.ZodEffects="ZodEffects",a.ZodNativeEnum="ZodNativeEnum",a.ZodOptional="ZodOptional",a.ZodNullable="ZodNullable",a.ZodDefault="ZodDefault",a.ZodCatch="ZodCatch",a.ZodPromise="ZodPromise",a.ZodBranded="ZodBranded",a.ZodPipeline="ZodPipeline",a.ZodReadonly="ZodReadonly"})(ZodFirstPartyTypeKind||(ZodFirstPartyTypeKind={}));const instanceOfType=(a,_={message:`Input not instance of ${a.name}`})=>custom($=>$ instanceof a,_),stringType=ZodString.create,numberType=ZodNumber.create,nanType=ZodNaN.create,bigIntType=ZodBigInt.create,booleanType=ZodBoolean.create,dateType=ZodDate.create,symbolType=ZodSymbol.create,undefinedType=ZodUndefined.create,nullType=ZodNull.create,anyType=ZodAny.create,unknownType=ZodUnknown.create,neverType=ZodNever.create,voidType=ZodVoid.create,arrayType=ZodArray.create,objectType=ZodObject.create,strictObjectType=ZodObject.strictCreate,unionType=ZodUnion.create,discriminatedUnionType=ZodDiscriminatedUnion.create,intersectionType=ZodIntersection.create,tupleType=ZodTuple.create,recordType=ZodRecord.create,mapType=ZodMap.create,setType=ZodSet.create,functionType$1=ZodFunction.create,lazyType=ZodLazy.create,literalType=ZodLiteral.create,enumType=ZodEnum.create,nativeEnumType=ZodNativeEnum.create,promiseType=ZodPromise.create,effectsType=ZodEffects.create,optionalType=ZodOptional.create,nullableType=ZodNullable.create,preprocessType=ZodEffects.createWithPreprocess,pipelineType=ZodPipeline.create,ostring=()=>stringType().optional(),onumber=()=>numberType().optional(),oboolean=()=>booleanType().optional(),coerce$2={string:a=>ZodString.create({...a,coerce:!0}),number:a=>ZodNumber.create({...a,coerce:!0}),boolean:a=>ZodBoolean.create({...a,coerce:!0}),bigint:a=>ZodBigInt.create({...a,coerce:!0}),date:a=>ZodDate.create({...a,coerce:!0})},NEVER$1=INVALID;var z=Object.freeze({__proto__:null,defaultErrorMap:errorMap,setErrorMap,getErrorMap,makeIssue,EMPTY_PATH,addIssueToContext,ParseStatus,INVALID,DIRTY,OK,isAborted,isDirty,isValid:isValid$1,isAsync,get util(){return util},get objectUtil(){return objectUtil},ZodParsedType,getParsedType,ZodType,datetimeRegex,ZodString,ZodNumber,ZodBigInt,ZodBoolean,ZodDate,ZodSymbol,ZodUndefined,ZodNull,ZodAny,ZodUnknown,ZodNever,ZodVoid,ZodArray,ZodObject,ZodUnion,ZodDiscriminatedUnion,ZodIntersection,ZodTuple,ZodRecord,ZodMap,ZodSet,ZodFunction,ZodLazy,ZodLiteral,ZodEnum,ZodNativeEnum,ZodPromise,ZodEffects,ZodTransformer:ZodEffects,ZodOptional,ZodNullable,ZodDefault,ZodCatch,ZodNaN,BRAND,ZodBranded,ZodPipeline,ZodReadonly,custom,Schema:ZodType,ZodSchema:ZodType,late,get ZodFirstPartyTypeKind(){return ZodFirstPartyTypeKind},coerce:coerce$2,any:anyType,array:arrayType,bigint:bigIntType,boolean:booleanType,date:dateType,discriminatedUnion:discriminatedUnionType,effect:effectsType,enum:enumType,function:functionType$1,instanceof:instanceOfType,intersection:intersectionType,lazy:lazyType,literal:literalType,map:mapType,nan:nanType,nativeEnum:nativeEnumType,never:neverType,null:nullType,nullable:nullableType,number:numberType,object:objectType,oboolean,onumber,optional:optionalType,ostring,pipeline:pipelineType,preprocess:preprocessType,promise:promiseType,record:recordType,set:setType,strictObject:strictObjectType,string:stringType,symbol:symbolType,transformer:effectsType,tuple:tupleType,undefined:undefinedType,union:unionType,unknown:unknownType,void:voidType,NEVER:NEVER$1,ZodIssueCode,quotelessJson,ZodError});const Schema$1=z.object({address:z.string()}),parsePkh=a=>{if(isValidContractPkh(a))return parseContractPkh(a);if(isValidImplicitPkh(a))return parseImplicitPkh(a);throw new Error(`Cannot parse address type: ${a}`)},isAddressValid=a=>validateAddress(a)===ValidationResult.VALID,isValidContractPkh=a=>isAddressValid(a)&&a.match(/^KT1\w+/),isValidImplicitPkh=a=>isAddressValid(a)&&a.match(/^tz[1234]\w+/),parseContractPkh=a=>{if(isValidContractPkh(a))return{type:"contract",pkh:a};throw new Error(`Invalid contract address: ${a}`)},parseImplicitPkh=a=>{if(isValidImplicitPkh(a))return{type:"implicit",pkh:a};throw new Error(`Invalid implicit address: ${a}`)},encodeReserved=[encodeURIComponent,encodeURIComponent];function encode$2(a,_=","){const $=(j,et)=>{const tt=a[et%a.length];return typeof j>"u"?"":typeof j=="object"?Array.isArray(j)?j.map(tt).join(_):Object.entries(j).reduce((nt,it)=>[...nt,...it],[]).map(tt).join(_):tt(String(j))};return(j,...et)=>j.reduce((tt,rt,nt)=>`${tt}${rt}${$(et[nt],nt)}`,"")}function delimited(a=","){return(_,$=encodeReserved)=>Object.entries(_).filter(([,j])=>j!==void 0).map(([j,et])=>encode$2($,a)`${j}=${et}`).join("&")}function stripUndefined(a){return a&&JSON.parse(JSON.stringify(a))}function joinUrl(...a){return a.filter(Boolean).map((_,$)=>$===0?_:_.replace(/^\/+/,"")).map((_,$,j)=>$===j.length-1?_:_.replace(/\/+$/,"")).join("/")}function query(...a){const _=a.filter(Boolean).join("&");return _&&`?${_}`}function explode(a,_=encodeReserved){const $=encode$2(_);return Object.entries(a).filter(([,j])=>j!==void 0).map(([j,et])=>Array.isArray(et)?et.map(tt=>$`${j}=${tt}`).join("&"):typeof et=="object"?explode(et,_):$`${j}=${et}`).join("&")}const form=delimited(),SUCCESS_CODES=[200,201,202,204];async function ok(a){const _=await a;if(SUCCESS_CODES.some($=>$==_.status))return _.data;throw new HttpError(_.status,_.data)}class HttpError extends Error{constructor($,j){super(`Error: ${$}`);Xr(this,"status");Xr(this,"data");this.status=$,this.data=j}}function runtime$1(a){async function _(tt,rt){const nt=await et(tt,rt);let it;try{it=await nt.text()}catch{}return{status:nt.status,headers:nt.headers,contentType:nt.headers.get("content-type"),data:it}}async function $(tt,rt={}){const{status:nt,headers:it,contentType:st,data:ot}=await _(tt,{...rt,headers:{Accept:"application/json",...rt.headers}});return(st?st.includes("json"):!1)?{status:nt,headers:it,data:ot?JSON.parse(ot):null}:{status:nt,headers:it,data:ot}}async function j(tt,rt={}){const nt=await et(tt,rt);let it;try{it=await nt.blob()}catch{}return{status:nt.status,headers:nt.headers,data:it}}async function et(tt,rt={}){const{baseUrl:nt,headers:it,fetch:st,...ot}={...a,...rt},at=joinUrl(nt,tt);return await(st||fetch)(at,{...ot,headers:stripUndefined({...a.headers,...it})})}return{ok,fetchText:_,fetchJson:$,fetchBlob:j,json({body:tt,headers:rt,...nt}){return{...nt,...tt!=null&&{body:JSON.stringify(tt)},headers:{...rt,"Content-Type":"application/json"}}},form({body:tt,headers:rt,...nt}){return{...nt,...tt!=null&&{body:form(tt)},headers:{...rt,"Content-Type":"application/x-www-form-urlencoded"}}},multipart({body:tt,...rt}){if(tt==null)return rt;const nt=new(a.formDataConstructor||rt.formDataConstructor||FormData);return Object.entries(tt).forEach(([it,st])=>{nt.append(it,st)}),{...rt,body:nt}}}}const jsonParameter=(a,_)=>{if(!_)return{};const $={};return Object.entries(_).forEach(([j,et])=>{if(!(et instanceof Object))throw new Error(`Expected ${a} value to be object, received ${typeof et}`);const{jsonPath:tt,jsonValue:rt}=et;if(rt==null)throw new Error(`Expected jsonValue in ${a} -> ${j}, found: ${rt}`);const it=[a,tt,j].filter(st=>st!==void 0).join(".");$[it]=rt}),$},anyofParameter=(a,_)=>{if(!_)return{};const{fields:$}=_;(rt=>{if(!Array.isArray(rt))throw new Error(`Expected ${a} fields to be Array. Received ${typeof rt}.`);return rt.forEach(nt=>{if(typeof nt!="string")throw new Error(`Expected ${a} fields to be strings. Received ${typeof nt}`)}),!0})($);const et={},tt=$.join(".");if(_.value){const rt=`${a}.${tt}`;et[rt]=_.value}for(const rt of["in","eq","null"])if(_[rt]){const nt=`${a}.${tt}.${rt}`;return et[nt]=Array.isArray(_[rt])?_[rt].join(","):_[rt],et}return et},queryParameter=(a,_)=>{if(!_)return{};const $={};return Object.entries(_).forEach(([j,et])=>{const tt=`${a}.${j}`;$[tt]=et}),$},parsers={jsonParameter,queryParameter,anyofParameter},defaults={baseUrl:"https://api.tzkt.io"},oazapfts=runtime$1(defaults);function accountsGet({id:a,address:_,$type:$,kind:j,delegate:et,balance:tt,staked:rt,lastActivity:nt,select:it,sort:st,offset:ot,limit:at}={},ut){return oazapfts.ok(oazapfts.fetchJson(`/v1/accounts${query(explode({limit:at,...parsers.queryParameter("id",a),...parsers.queryParameter("address",_),...parsers.queryParameter("type",$),...parsers.queryParameter("kind",j),...parsers.queryParameter("delegate",et),...parsers.queryParameter("balance",tt),...parsers.queryParameter("staked",rt),...parsers.queryParameter("lastActivity",nt),...parsers.queryParameter("select",it),...parsers.queryParameter("sort",st),...parsers.queryParameter("offset",ot)}))}`,{...ut}))}function blocksGetCount(a){return oazapfts.ok(oazapfts.fetchJson("/v1/blocks/count",{...a}))}function contractsGet({address:a,kind:_,tzips:$,creator:j,manager:et,delegate:tt,balance:rt,lastActivity:nt,typeHash:it,codeHash:st,select:ot,sort:at,offset:ut,limit:ht,includeStorage:yt}={},wt){return oazapfts.ok(oazapfts.fetchJson(`/v1/contracts${query(explode({limit:ht,includeStorage:yt,...parsers.queryParameter("address",a),...parsers.queryParameter("kind",_),...parsers.queryParameter("tzips",$),...parsers.queryParameter("creator",j),...parsers.queryParameter("manager",et),...parsers.queryParameter("delegate",tt),...parsers.queryParameter("balance",rt),...parsers.queryParameter("lastActivity",nt),...parsers.queryParameter("typeHash",it),...parsers.queryParameter("codeHash",st),...parsers.queryParameter("select",ot),...parsers.queryParameter("sort",at),...parsers.queryParameter("offset",ut)}))}`,{...wt}))}function delegatesGet({active:a,lastActivity:_,select:$,sort:j,offset:et,limit:tt}={},rt){return oazapfts.ok(oazapfts.fetchJson(`/v1/delegates${query(explode({limit:tt,...parsers.queryParameter("active",a),...parsers.queryParameter("lastActivity",_),...parsers.queryParameter("select",$),...parsers.queryParameter("sort",j),...parsers.queryParameter("offset",et)}))}`,{...rt}))}function operationsGetDelegations({anyof:a,initiator:_,sender:$,prevDelegate:j,newDelegate:et,level:tt,timestamp:rt,senderCodeHash:nt,status:it,select:st,sort:ot,offset:at,limit:ut,quote:ht}={},yt){return oazapfts.ok(oazapfts.fetchJson(`/v1/operations/delegations${query(explode({limit:ut,quote:ht,...parsers.anyofParameter("anyof",a),...parsers.queryParameter("initiator",_),...parsers.queryParameter("sender",$),...parsers.queryParameter("prevDelegate",j),...parsers.queryParameter("newDelegate",et),...parsers.queryParameter("level",tt),...parsers.queryParameter("timestamp",rt),...parsers.queryParameter("senderCodeHash",nt),...parsers.queryParameter("status",it),...parsers.queryParameter("select",st),...parsers.queryParameter("sort",ot),...parsers.queryParameter("offset",at)}))}`,{...yt}))}function operationsGetOriginations({anyof:a,initiator:_,sender:$,contractManager:j,contractDelegate:et,originatedContract:tt,id:rt,typeHash:nt,codeHash:it,level:st,timestamp:ot,senderCodeHash:at,anyCodeHash:ut,status:ht,select:yt,sort:wt,offset:Ct,limit:Pt,micheline:Tt,quote:Mt}={},Lt){return oazapfts.ok(oazapfts.fetchJson(`/v1/operations/originations${query(explode({limit:Pt,micheline:Tt,quote:Mt,...parsers.anyofParameter("anyof",a),...parsers.queryParameter("initiator",_),...parsers.queryParameter("sender",$),...parsers.queryParameter("contractManager",j),...parsers.queryParameter("contractDelegate",et),...parsers.queryParameter("originatedContract",tt),...parsers.queryParameter("id",rt),...parsers.queryParameter("typeHash",nt),...parsers.queryParameter("codeHash",it),...parsers.queryParameter("level",st),...parsers.queryParameter("timestamp",ot),...parsers.queryParameter("senderCodeHash",at),...parsers.queryParameter("anyCodeHash",ut),...parsers.queryParameter("status",ht),...parsers.queryParameter("select",yt),...parsers.queryParameter("sort",wt),...parsers.queryParameter("offset",Ct)}))}`,{...Lt}))}function operationsGetTransactions({anyof:a,initiator:_,sender:$,target:j,amount:et,id:tt,level:rt,timestamp:nt,senderCodeHash:it,targetCodeHash:st,codeHash:ot,entrypoint:at,parameter:ut,hasInternals:ht,status:yt,select:wt,sort:Ct,offset:Pt,limit:Tt,micheline:Mt,quote:Lt}={},Dt){return oazapfts.ok(oazapfts.fetchJson(`/v1/operations/transactions${query(explode({limit:Tt,micheline:Mt,quote:Lt,...parsers.anyofParameter("anyof",a),...parsers.queryParameter("initiator",_),...parsers.queryParameter("sender",$),...parsers.queryParameter("target",j),...parsers.queryParameter("amount",et),...parsers.queryParameter("id",tt),...parsers.queryParameter("level",rt),...parsers.queryParameter("timestamp",nt),...parsers.queryParameter("senderCodeHash",it),...parsers.queryParameter("targetCodeHash",st),...parsers.queryParameter("codeHash",ot),...parsers.queryParameter("entrypoint",at),...parsers.jsonParameter("parameter",ut),...parsers.queryParameter("hasInternals",ht),...parsers.queryParameter("status",yt),...parsers.queryParameter("select",wt),...parsers.queryParameter("sort",Ct),...parsers.queryParameter("offset",Pt)}))}`,{...Dt}))}function quotesGetLast(a){return oazapfts.ok(oazapfts.fetchJson("/v1/quotes/last",{...a}))}function tokensGetTokenBalances({id:a,account:_,tokenId:$,tokenContract:j,tokenTokenId:et,tokenStandard:tt,tokenMetadata:rt,tokenHasFilters:nt,balance:it,firstLevel:st,firstTime:ot,lastLevel:at,lastTime:ut,indexedAt:ht,sort:yt,offset:wt,limit:Ct,select:Pt}={},Tt){return oazapfts.ok(oazapfts.fetchJson(`/v1/tokens/balances${query(explode({"token.HasFilters":nt,limit:Ct,...parsers.queryParameter("id",a),...parsers.queryParameter("account",_),...parsers.queryParameter("token.id",$),...parsers.queryParameter("token.contract",j),...parsers.queryParameter("token.tokenId",et),...parsers.queryParameter("token.standard",tt),...parsers.jsonParameter("token.metadata",rt),...parsers.queryParameter("balance",it),...parsers.queryParameter("firstLevel",st),...parsers.queryParameter("firstTime",ot),...parsers.queryParameter("lastLevel",at),...parsers.queryParameter("lastTime",ut),...parsers.queryParameter("indexedAt",ht),...parsers.queryParameter("sort",yt),...parsers.queryParameter("offset",wt),...parsers.queryParameter("select",Pt)}))}`,{...Tt}))}function tokensGetTokenTransfers({id:a,level:_,timestamp:$,tokenId:j,tokenContract:et,tokenTokenId:tt,tokenStandard:rt,tokenMetadata:nt,tokenHasFilters:it,anyof:st,$from:ot,to:at,amount:ut,transactionId:ht,originationId:yt,migrationId:wt,indexedAt:Ct,sort:Pt,offset:Tt,limit:Mt,select:Lt}={},Dt){return oazapfts.ok(oazapfts.fetchJson(`/v1/tokens/transfers${query(explode({"token.HasFilters":it,limit:Mt,...parsers.queryParameter("id",a),...parsers.queryParameter("level",_),...parsers.queryParameter("timestamp",$),...parsers.queryParameter("token.id",j),...parsers.queryParameter("token.contract",et),...parsers.queryParameter("token.tokenId",tt),...parsers.queryParameter("token.standard",rt),...parsers.jsonParameter("token.metadata",nt),...parsers.anyofParameter("anyof",st),...parsers.queryParameter("from",ot),...parsers.queryParameter("to",at),...parsers.queryParameter("amount",ut),...parsers.queryParameter("transactionId",ht),...parsers.queryParameter("originationId",yt),...parsers.queryParameter("migrationId",wt),...parsers.queryParameter("indexedAt",Ct),...parsers.queryParameter("sort",Pt),...parsers.queryParameter("offset",Tt),...parsers.queryParameter("select",Lt)}))}`,{...Dt}))}let e$1=class{constructor(_){this.queue=void 0,this.maxConcurrent=void 0,this.count=void 0,this.queue=[],this.maxConcurrent=_,this.count=0}get canAcquire(){return this.count<this.maxConcurrent}acquire(){return this.canAcquire?(this.count++,Promise.resolve()):new Promise(_=>this.queue.push(_))}release(){const _=this.queue.shift();_?setTimeout(_,0):this.count--}};const t$4="_default";class s{constructor(_=1){this.semaphoreInstances=void 0,this.maxConcurrent=void 0,this.semaphoreInstances={},this.maxConcurrent=_}hasSemaphoreInstance(_=t$4){return!!this.semaphoreInstances[_]}getSemaphoreInstance(_=t$4){return this.hasSemaphoreInstance(_)||(this.semaphoreInstances[_]=new e$1(this.maxConcurrent)),this.semaphoreInstances[_]}tidy(_=t$4){this.hasSemaphoreInstance(_)&&this.getSemaphoreInstance(_).count===0&&delete this.semaphoreInstances[_]}canAcquire(_=t$4){return this.getSemaphoreInstance(_).canAcquire}acquire(_=t$4){return this.getSemaphoreInstance(_).acquire()}release(_=t$4){this.getSemaphoreInstance(_).release(),this.tidy(_)}count(_=t$4){return this.hasSemaphoreInstance(_)?this.getSemaphoreInstance(_).count:0}hasTasks(_=t$4){return this.count(_)>0}async request(_,$=t$4){try{return await this.acquire($),await _()}finally{this.release($)}}async requestIfAvailable(_,$=t$4){return this.canAcquire($)?this.request(_,$):null}}function assign$1(a,_){for(const $ in _)Object.defineProperty(a,$,{value:_[$],enumerable:!0,configurable:!0});return a}function createError(a,_,$){if(!a||typeof a=="string")throw new TypeError("Please pass an Error to err-code");$||($={}),typeof _=="object"&&($=_,_=void 0),_!=null&&($.code=_);try{return assign$1(a,$)}catch{$.message=a.message,$.stack=a.stack;const et=function(){};return et.prototype=Object.create(Object.getPrototypeOf(a)),assign$1(new et,$)}}var errCode=createError,retry$3={};function RetryOperation(a,_){typeof _=="boolean"&&(_={forever:_}),this._originalTimeouts=JSON.parse(JSON.stringify(a)),this._timeouts=a,this._options=_||{},this._maxRetryTime=_&&_.maxRetryTime||1/0,this._fn=null,this._errors=[],this._attempts=1,this._operationTimeout=null,this._operationTimeoutCb=null,this._timeout=null,this._operationStart=null,this._options.forever&&(this._cachedTimeouts=this._timeouts.slice(0))}var retry_operation=RetryOperation;RetryOperation.prototype.reset=function(){this._attempts=1,this._timeouts=this._originalTimeouts};RetryOperation.prototype.stop=function(){this._timeout&&clearTimeout(this._timeout),this._timeouts=[],this._cachedTimeouts=null};RetryOperation.prototype.retry=function(a){if(this._timeout&&clearTimeout(this._timeout),!a)return!1;var _=new Date().getTime();if(a&&_-this._operationStart>=this._maxRetryTime)return this._errors.unshift(new Error("RetryOperation timeout occurred")),!1;this._errors.push(a);var $=this._timeouts.shift();if($===void 0)if(this._cachedTimeouts)this._errors.splice(this._errors.length-1,this._errors.length),this._timeouts=this._cachedTimeouts.slice(0),$=this._timeouts.shift();else return!1;var j=this,et=setTimeout(function(){j._attempts++,j._operationTimeoutCb&&(j._timeout=setTimeout(function(){j._operationTimeoutCb(j._attempts)},j._operationTimeout),j._options.unref&&j._timeout.unref()),j._fn(j._attempts)},$);return this._options.unref&&et.unref(),!0};RetryOperation.prototype.attempt=function(a,_){this._fn=a,_&&(_.timeout&&(this._operationTimeout=_.timeout),_.cb&&(this._operationTimeoutCb=_.cb));var $=this;this._operationTimeoutCb&&(this._timeout=setTimeout(function(){$._operationTimeoutCb()},$._operationTimeout)),this._operationStart=new Date().getTime(),this._fn(this._attempts)};RetryOperation.prototype.try=function(a){console.log("Using RetryOperation.try() is deprecated"),this.attempt(a)};RetryOperation.prototype.start=function(a){console.log("Using RetryOperation.start() is deprecated"),this.attempt(a)};RetryOperation.prototype.start=RetryOperation.prototype.try;RetryOperation.prototype.errors=function(){return this._errors};RetryOperation.prototype.attempts=function(){return this._attempts};RetryOperation.prototype.mainError=function(){if(this._errors.length===0)return null;for(var a={},_=null,$=0,j=0;j<this._errors.length;j++){var et=this._errors[j],tt=et.message,rt=(a[tt]||0)+1;a[tt]=rt,rt>=$&&(_=et,$=rt)}return _};(function(a){var _=retry_operation;a.operation=function($){var j=a.timeouts($);return new _(j,{forever:$&&$.forever,unref:$&&$.unref,maxRetryTime:$&&$.maxRetryTime})},a.timeouts=function($){if($ instanceof Array)return[].concat($);var j={retries:10,factor:2,minTimeout:1*1e3,maxTimeout:1/0,randomize:!1};for(var et in $)j[et]=$[et];if(j.minTimeout>j.maxTimeout)throw new Error("minTimeout is greater than maxTimeout");for(var tt=[],rt=0;rt<j.retries;rt++)tt.push(this.createTimeout(rt,j));return $&&$.forever&&!tt.length&&tt.push(this.createTimeout(rt,j)),tt.sort(function(nt,it){return nt-it}),tt},a.createTimeout=function($,j){var et=j.randomize?Math.random()+1:1,tt=Math.round(et*j.minTimeout*Math.pow(j.factor,$));return tt=Math.min(tt,j.maxTimeout),tt},a.wrap=function($,j,et){if(j instanceof Array&&(et=j,j=null),!et){et=[];for(var tt in $)typeof $[tt]=="function"&&et.push(tt)}for(var rt=0;rt<et.length;rt++){var nt=et[rt],it=$[nt];$[nt]=(function(ot){var at=a.operation(j),ut=Array.prototype.slice.call(arguments,1),ht=ut.pop();ut.push(function(yt){at.retry(yt)||(yt&&(arguments[0]=at.mainError()),ht.apply(this,arguments))}),at.attempt(function(){ot.apply($,ut)})}).bind($,it),$[nt].options=j}}})(retry$3);var retry$2=retry$3,errcode=errCode,retry$1=retry$2,hasOwn=Object.prototype.hasOwnProperty;function isRetryError(a){return a&&a.code==="EPROMISERETRY"&&hasOwn.call(a,"retried")}function promiseRetry(a,_){var $,j;return typeof a=="object"&&typeof _=="function"&&($=_,_=a,a=$),j=retry$1.operation(_),new Promise(function(et,tt){j.attempt(function(rt){Promise.resolve().then(function(){return a(function(nt){throw isRetryError(nt)&&(nt=nt.retried),errcode(new Error("Retrying"),"EPROMISERETRY",{retried:nt})},rt)}).then(et,function(nt){isRetryError(nt)&&(nt=nt.retried,j.retry(nt||new Error))||tt(nt)})})})}var promiseRetry_1=promiseRetry;const promiseRetry$1=getDefaultExportFromCjs$1(promiseRetry_1),tzktRateLimiter=new s(10),withRateLimit=a=>tzktRateLimiter.acquire().then(()=>promiseRetry$1(_=>a().catch(_),{retries:3,minTimeout:100})).catch(_=>{throw"status"in _&&"data"in _?new Error(`Fetching data from tzkt failed with: ${_.status}, ${_.data}`):_}).finally(()=>tzktRateLimiter.release()),MULTISIG_FETCH_LIMIT=1e4,TYPE_HASH=1963879877,CODE_HASH=-1890025422,getAllMultiSigContracts=async a=>withRateLimit(async()=>{try{const _=`${a.tzktApiUrl}/v1/contracts?typeHash=${TYPE_HASH}&codeHash=${CODE_HASH}&includeStorage=true&limit=${MULTISIG_FETCH_LIMIT}`,{data:$}=await axios.get(_);return $}catch(_){throw new Error(`Error fetching same contracts from tzkt: ${_.message}`)}}),getExistingContracts=(a,_)=>withRateLimit(()=>contractsGet({address:{in:[a.join(",")]},select:{fields:["address"]},limit:Math.min(1e4,a.length)},{baseUrl:_.tzktApiUrl})),getPendingOperations=async(a,_)=>withRateLimit(async()=>{if(a.length===0)return Promise.resolve([]);const $=`${_.tzktApiUrl}/v1/bigmaps/keys?active=true&bigmap.in=${a.join(",")}&limit=${MULTISIG_FETCH_LIMIT}`,{data:j}=await axios.get($);return j}),parseMultisig=a=>({address:parseContractPkh(a.address),threshold:Number(a.storage.threshold),signers:a.storage.signers.map(parseImplicitPkh),pendingOperationsBigmapId:a.storage.pending_ops}),getRelevantMultisigContracts=async(a,_)=>(await getAllMultiSigContracts(_)).filter(({storage:{signers:j}})=>lodashExports.every(j,isValidImplicitPkh)?j.filter(tt=>a.has(tt)).length>0:!1).map(parseMultisig),getNetworksForContracts=async(a,_)=>{const $=new Map;return _.length===0||(await Promise.all(a.map(async et=>(await getExistingContracts(_,et)).map(tt=>[tt,et.name])))).flat().forEach(([et,tt])=>$.set(et,tt)),$},parseMultisigOperation=a=>{const{bigmap:_,key:$,value:j}=a;if($===null||j===null)throw new Error("parseMultisigOperation failed");return{id:$,bigmapId:_,rawActions:j.actions,approvals:j.approvals.map(parseImplicitPkh)}},getPendingOperationsForMultisigs=async(a,_)=>{if(a.length===0)return[];const $=a.map(et=>et.pendingOperationsBigmapId),j=await getPendingOperations($,_);return lodashExports.compact(j.map(parseMultisigOperation))},VERSION$1=6,mainStoreMigrations={0:a=>produce(a,_=>{_.multisigs.labelsMap={}}),1:a=>produce(a,_=>{_.announcement=initialState$9}),2:lodashExports.identity,3:a=>produce(a,_=>{_.networks.current.name==="ghostnet"&&(_.networks.current.buyTezUrl="https://faucet.ghostnet.teztnets.com/");for(const $ of _.networks.available)if($.name==="ghostnet"){$.buyTezUrl="https://faucet.ghostnet.teztnets.com/";break}}),4:lodashExports.identity,5:a=>produce(a,_=>{delete _.assets.transfers.tez}),6:async a=>{const _=Object.values(a.contacts).filter(tt=>isValidImplicitPkh(tt.pkh)).map(tt=>[tt.pkh,{...tt,network:void 0}]),$=Object.values(a.contacts).filter(tt=>isValidContractPkh(tt.pkh)).map(tt=>tt.pkh),et=[...(await getNetworksForContracts(a.networks.available,$)).entries()].map(([tt,rt])=>[tt,{...a.contacts[tt],network:rt}]);return produce(a,tt=>{tt.contacts=lodashExports.fromPairs([..._,...et])})}},accountsMigrations={0:lodashExports.identity,1:lodashExports.identity,2:a=>produce(a,_=>{_.items.forEach($=>{$.type==="secret_key"&&($.curve="ed25519")})}),3:lodashExports.identity,4:a=>produce(a,_=>{_.items.forEach($=>{$.type==="ledger"&&!$.derivationPathTemplate&&($.derivationPathTemplate=void 0,$.derivationPath==="44'/1729'/0'/0'"?$.derivationPathTemplate="44'/1729'/?'/0'":$.derivationPath==="44'/1729'/0'/0'/0'"&&($.derivationPathTemplate="44'/1729'/?'/0'/0'"))})}),5:lodashExports.identity,6:lodashExports.identity},AES_MODE="AES-GCM",BYTE_TO_BIT=8,KEY_SIZE=32,NUM_ITERATIONS_V2=6e5,NUM_ITERATIONS_V1=1e4,derivePasswordBasedKeyV1=async(a,_)=>derivePasswordBasedKey(Buffer$g.alloc(32,a,"utf-8"),_,NUM_ITERATIONS_V1),derivePasswordBasedKeyV2=async(a,_)=>derivePasswordBasedKey(Buffer$g.from(a,"utf-8"),_,NUM_ITERATIONS_V2),derivePasswordBasedKey=async(a,_,$)=>{const j={name:"PBKDF2",salt:_,iterations:$,hash:"SHA-256"},et=await crypto.subtle.importKey("raw",a,j.name,!1,["deriveKey"]);return await crypto.subtle.deriveKey(j,et,{name:AES_MODE,length:KEY_SIZE*BYTE_TO_BIT},!1,["encrypt","decrypt"])},SALT_SIZE=32,IV_SIZE=12,encrypt$1=async(a,_)=>{const $=crypto.getRandomValues(new Uint8Array(SALT_SIZE)),j=await derivePasswordBasedKeyV2(_,$),et=crypto.getRandomValues(new Uint8Array(IV_SIZE)),tt=await crypto.subtle.encrypt({name:AES_MODE,iv:et},j,Buffer$g.from(a,"utf-8"));return{iv:buf2hex(Buffer$g.from(et)),salt:buf2hex(Buffer$g.from($)),data:buf2hex(Buffer$g.from(tt))}},decrypt$1=async(a,_,$="V2")=>{const{iv:j,salt:et,data:tt}=a;try{const rt=$==="V2"?await derivePasswordBasedKeyV2(_,hex2Bytes(et)):await derivePasswordBasedKeyV1(_,hex2Bytes(et)),nt=await crypto.subtle.decrypt({name:AES_MODE,iv:hex2Bytes(j)},rt,hex2Bytes(tt));return Buffer$g.from(nt).toString("utf-8")}catch{throw new Error("Error decrypting data: Invalid password")}},changeMnemonicPassword=createAsyncThunk("accounts/changeMnemonicPassword",async({currentPassword:a,newPassword:_},{getState:$})=>{if(a===_)throw new Error("New password must be different from the current password");const{items:j,seedPhrases:et}=$().accounts;if(j.filter(rt=>rt.type==="mnemonic").length===0)throw new Error("No mnemonic accounts found");const tt=await Promise.all(Object.entries(et).map(async([rt,nt])=>{if(!nt)throw new Error("No encrypted mnemonic found");try{const it=await decrypt$1(nt,a),st=await encrypt$1(it,_);return[rt,st]}catch(it){throw new Error(it.message)}}));return{newEncryptedMnemonics:lodashExports.fromPairs(tt)}}),initialState$8={items:[],seedPhrases:{},secretKeys:{}},accountsSlice=createSlice({name:"accounts",initialState:initialState$8,extraReducers:a=>{a.addCase(changeMnemonicPassword.fulfilled,(_,$)=>{const{newEncryptedMnemonics:j}=$.payload;_.seedPhrases=j})},reducers:{reset:()=>initialState$8,removeMnemonicAndAccounts:(a,{payload:_})=>{const{fingerPrint:$}=_,j=a.items.filter(et=>!(et.type==="mnemonic"&&et.seedFingerPrint===$));a.items=j,delete a.seedPhrases[$]},removeNonMnemonicAccounts:(a,{payload:_})=>{a.items=lodashExports.remove(a.items,$=>$.type==="mnemonic"||$.type!==_.accountType),_.accountType==="secret_key"&&(a.secretKeys={})},removeAccount:(a,{payload:_})=>{lodashExports.remove(a.items,$=>$.address.pkh===_.address.pkh),_.type==="secret_key"&&delete a.secretKeys[_.address.pkh]},renameAccount:(a,{payload:_})=>{const{account:$,newName:j}=_;if(j.length===0)throw new Error("Cannot rename account to an empty name.");if(a.items.find(tt=>tt.label===j))throw new Error(`Cannot rename account ${$.address.pkh} to ${j} since the name already exists.`);const et=a.items.find(tt=>tt.address.pkh===$.address.pkh&&tt.label===$.label);et&&(et.label=j)},addAccount:(a,{payload:_})=>{a.items=concatUnique(a.items,[_])},addMnemonicAccounts:(a,{payload:{encryptedMnemonic:_,accounts:$,seedFingerprint:j}})=>{a.items=concatUnique(a.items,$),a.seedPhrases[j]=_},addSecretKey:(a,{payload:{pkh:_,encryptedSecretKey:$}})=>{a.secretKeys[_]=$}}}),concatUnique=(a,_)=>(_.forEach($=>{if(a.some(j=>j.address.pkh===$.address.pkh))throw new Error(`Can't add account with address ${$.address.pkh} because it already exists.`)}),[...a,..._]);accountsSlice.actions;const FA12TokenSchema=z.object({standard:z.string().regex(/^fa1\.2$/i),contract:Schema$1}),FA2TokenSchema=z.object({standard:z.string().regex(/^fa2$/i),tokenId:z.string(),contract:Schema$1}),NFTSchema=z.object({id:z.number(),standard:z.string().regex(/^fa2$/i),tokenId:z.string(),contract:Schema$1,totalSupply:z.string().optional(),metadata:z.object({displayUri:z.string(),decimals:z.void().or(z.string().regex(/^0$/))})}),fromRaw$1=a=>{const _=a.metadata;if(a.standard==="fa1.2"){const et=FA12TokenSchema.safeParse(a);return et.success?{type:"fa1.2",metadata:_,contract:et.data.contract.address,tokenId:"0"}:(console.warn("Invalid FA1 token: "+JSON.stringify(a)),null)}const $=NFTSchema.safeParse(a);if($.success)return{metadata:_,type:"nft",id:$.data.id,contract:$.data.contract.address,tokenId:$.data.tokenId,displayUri:$.data.metadata.displayUri,totalSupply:$.data.totalSupply};const j=FA2TokenSchema.safeParse(a);return j.success?{type:"fa2",metadata:_,contract:j.data.contract.address,tokenId:j.data.tokenId}:(console.warn("Invalid FA2 token: "+JSON.stringify(a)),null)},fullId=a=>`${a.contract}:${a.tokenId}`,defaultTokenName=a=>{switch(a.type){case"fa1.2":return DEFAULT_FA1_NAME;case"fa2":return DEFAULT_FA2_NAME;case"nft":return DEFAULT_NFT_NAME}},tokenNameSafe=a=>tokenName(a)||defaultTokenName(a),tokenName=a=>{var _;return(_=a.metadata)==null?void 0:_.name},defaultTokenSymbol=a=>{switch(a.type){case"fa1.2":return DEFAULT_FA1_SYMBOL;case"fa2":return DEFAULT_FA2_SYMBOL;case"nft":return DEFAULT_NFT_SYMBOL}},tokenSymbolSafe=a=>tokenSymbol(a)||defaultTokenSymbol(a),tokenSymbol=a=>{var _;return(_=a.metadata)==null?void 0:_.symbol},tokenDecimals=a=>{var _;return((_=a.metadata)==null?void 0:_.decimals)??DEFAULT_TOKEN_DECIMALS},getRealAmount=(a,_)=>{const $=new BigNumber(_),j=tokenDecimals(a);return $.multipliedBy(new BigNumber(10).exponentiatedBy(j)).toFixed()},formatTokenAmount=(a,_=DEFAULT_TOKEN_DECIMALS)=>{const $=BigNumber(a).dividedBy(BigNumber(10).pow(_));try{return new Intl.NumberFormat("en-US",{minimumFractionDigits:Number(_),maximumFractionDigits:Number(_)}).format($.toNumber())}catch{return console.warn(`Can't format token amount with decimals = ${_}`),formatTokenAmount(a,"0")}},tokenPrettyAmount=(a,_,$)=>{var nt;if(_.type==="nft")return a;const j=tokenSymbolSafe(_),et=(nt=_.metadata)==null?void 0:nt.decimals,tt=$!=null&&$.showSymbol?` ${j}`:"";return`${formatTokenAmount(a,et)}${tt}`},artifactUri=a=>a.metadata.artifactUri||a.displayUri,thumbnailUri=a=>a.metadata.thumbnailUri||a.displayUri,mimeType=a=>{var _,$;return($=(_=a.metadata.formats)==null?void 0:_.find(j=>j.uri===artifactUri(a)))==null?void 0:$.mimeType},royalties=a=>{const _=a.metadata.royalties;if(!_)return[];const $=Math.pow(10,Number(_.decimals)),j=Object.entries(_.shares).map(([et,tt])=>({address:et,share:Number(tt)*100/$}));return j.sort((et,tt)=>et.share<tt.share?1:-1),j},metadataUri=(a,_)=>`${tokenUri(a,_)}/metadata`,tokenUri=({contract:a,tokenId:_},$)=>`${$.tzktExplorerUrl}/${a}/tokens/${_}`,DEFAULT_FA1_NAME="FA1.2 token",DEFAULT_FA2_NAME="FA2 token",DEFAULT_NFT_NAME="NFT",DEFAULT_FA1_SYMBOL="FA1.2",DEFAULT_FA2_SYMBOL="FA2",DEFAULT_NFT_SYMBOL="NFT",DEFAULT_TOKEN_DECIMALS="0",fromRaw=a=>{const _=fromRaw$1(a.token);return!_||!a.balance?null:{balance:a.balance,lastLevel:a.lastLevel,..._}},keepNFTs=a=>a.filter(_=>_.type==="nft"),keepFA1s=a=>a.filter(_=>_.type==="fa1.2"),keepFA2s=a=>a.filter(_=>_.type==="fa2"),initialState$7={blockLevel:null,balances:{mutez:{},tokens:{}},transfers:{tokens:{}},delegationLevels:{},bakers:[],conversionRate:void 0,refetchTrigger:0,isLoading:!1,lastTimeUpdated:null},assetsSlice=createSlice({name:"assets",initialState:initialState$7,extraReducers:a=>a.addCase(accountsSlice.actions.reset,()=>initialState$7),reducers:{reset:()=>initialState$7,updateBlockLevel:(a,{payload:_})=>{a.blockLevel=_},updateTokenTransfers:(a,{payload:_})=>{_.forEach($=>{a.transfers.tokens[$.transactionId]=$})},updateTezBalance:(a,{payload:_})=>{a.balances.mutez=_.reduce(($,j)=>({...$,[j.address]:String(j.balance)}),{}),a.delegationLevels=_.reduce(($,j)=>({...$,[j.address]:j.delegationLevel}),{})},updateTokenBalance:(a,{payload:_})=>{const $=lodashExports.groupBy(_,j=>j.account.address);a.balances.tokens=lodashExports.mapValues($,j=>lodashExports.compact(j.map(fromRaw)).map(({balance:et,contract:tt,tokenId:rt,lastLevel:nt})=>({balance:et,contract:tt,tokenId:rt,lastLevel:nt})))},removeAccountsData:(a,{payload:_})=>{_.forEach($=>{delete a.balances.mutez[$],delete a.balances.tokens[$],delete a.delegationLevels[$]})},updateBakers:(a,{payload:_})=>{a.bakers=_},updateConversionRate:(a,{payload:_})=>{a.conversionRate=_},refetch:a=>{a.refetchTrigger+=1},setIsLoading:(a,{payload:_})=>{a.isLoading=_},setLastTimeUpdated:(a,{payload:_})=>{a.lastTimeUpdated=_}}}),assetsActions=assetsSlice.actions,MAINNET={name:"mainnet",rpcUrl:"https://prod.tcinfra.net/rpc/mainnet/",tzktApiUrl:"https://api.mainnet.tzkt.io",tzktExplorerUrl:"https://tzkt.io",buyTezUrl:"https://widget.wert.io"},GHOSTNET={name:"ghostnet",rpcUrl:"https://ghostnet.ecadinfra.com",tzktApiUrl:"https://api.ghostnet.tzkt.io",tzktExplorerUrl:"https://ghostnet.tzkt.io",buyTezUrl:"https://faucet.ghostnet.teztnets.com/"},isDefault=a=>DefaultNetworks.map(_=>_.name).includes(a.name),DefaultNetworks=[MAINNET,GHOSTNET],initialState$6=lodashExports.fromPairs(DefaultNetworks.map(a=>[a.name,[]])),batchesSlice=createSlice({name:"batches",initialState:initialState$6,reducers:{reset:()=>initialState$6,add:(a,{payload:{operations:_,network:$}})=>{$.name in a||(a[$.name]=[]);const j=a[$.name],et=j.find(tt=>tt.sender.address.pkh===_.sender.address.pkh);if(et){et.operations.push(..._.operations);return}j.push(_)},clear:(a,{payload:{pkh:_,network:$}})=>{const j=a[$.name]||[],et=lodashExports.findIndex(j,tt=>tt.sender.address.pkh===_);et!==-1&&j.splice(et,1)},removeItem:(a,{payload:{pkh:_,index:$,network:j}})=>{const et=a[j.name]||[],tt=lodashExports.findIndex(et,nt=>nt.sender.address.pkh===_);if(tt===-1)return;const rt=et[tt];$<rt.operations.length&&rt.operations.splice($,1),rt.operations.length===0&&et.splice(tt,1)},removeByAccounts:(a,{payload:_})=>lodashExports.fromPairs(Object.entries(a).map(([$,j])=>{const et=(j||[]).filter(tt=>!_.includes(tt.sender.address.pkh));return[$,et]}))}}),batchesActions=batchesSlice.actions,initialState$5={},beaconSlice=createSlice({name:"beacon",initialState:initialState$5,reducers:{reset:()=>initialState$5,addConnection:(a,{payload:_})=>{a[_.dAppId]={accountPkh:_.accountPkh,networkType:_.networkType}},removeConnection:(a,{payload:_})=>{delete a[_]},removeConnections:(a,{payload:_})=>lodashExports.fromPairs(Object.entries(a).filter(([$,j])=>!_.includes(j.accountPkh)))}});beaconSlice.actions;const initialState$4={},contactsSlice=createSlice({name:"contacts",initialState:initialState$4,reducers:{reset:()=>initialState$4,upsert:(a,{payload:_})=>{a[_.pkh]=_},remove:(a,{payload:_})=>{delete a[_]}}}),contactsActions=contactsSlice.actions,MAX_ERRORS_LEN=100,initialState$3=[],errorsSlice=createSlice({name:"errors",initialState:initialState$3,reducers:{reset:()=>initialState$3,add(a,{payload:_}){a.length===MAX_ERRORS_LEN&&a.shift(),a.push(_)}}}),initialState$2={items:[],pendingOperations:{},labelsMap:{}},multisigsSlice=createSlice({name:"multisigs",initialState:initialState$2,reducers:{reset:()=>initialState$2,mockAddAccount:(a,{payload:_})=>{a.items.push({label:`Multisig Account ${a.items.length}`,type:"multisig",..._})},setMultisigs:(a,{payload:_})=>{const $=lodashExports.fromPairs(a.items.map(j=>[j.address.pkh,j.label]));a.items=_.map((j,et)=>({...j,label:$[j.address.pkh]||a.labelsMap[j.address.pkh]||`Multisig Account ${et}`,type:"multisig"}))},addMultisigLabel:(a,{payload:{pkh:_,label:$}})=>{a.labelsMap[_]=$},setPendingOperations:(a,{payload:_})=>{a.pendingOperations=lodashExports.groupBy(_,$=>$.bigmapId)},setName:(a,{payload:_})=>{const{account:{address:{pkh:$}},newName:j}=_,et=a.items.find(tt=>tt.address.pkh===$);et&&(et.label=j)},removeMultisigsData:(a,{payload:_})=>{const $=a.items.filter(j=>_.includes(j.address.pkh)).map(j=>String(j.pendingOperationsBigmapId));a.pendingOperations=lodashExports.omit(a.pendingOperations,$),a.labelsMap=lodashExports.omit(a.labelsMap,_)}}}),multisigActions=multisigsSlice.actions,initialState$1={available:DefaultNetworks,current:MAINNET},networksSlice=createSlice({name:"networks",initialState:initialState$1,reducers:{reset:()=>initialState$1,setCurrent:(a,{payload:_})=>{a.current=_},upsertNetwork:(a,{payload:_})=>{if(isDefault(_))return;const $=a.available.findIndex(j=>j.name===_.name);if(a.current.name===_.name&&(a.current=_),$!==-1){a.available[$]=_;return}a.available.push(_)},removeNetwork:(a,{payload:_})=>{isDefault(_)||lodashExports.remove(a.available,$=>$.name===_.name)}}}),networksActions=networksSlice.actions,initialState=lodashExports.fromPairs(DefaultNetworks.map(a=>[a.name,{}])),tokensSlice=createSlice({name:"tokens",initialState,reducers:{reset:()=>initialState,addTokens:(a,{payload:{network:_,tokens:$}})=>{lodashExports.compact($.map(fromRaw$1)).forEach(j=>{lodashExports.setWith(a,[_.name,j.contract,j.tokenId],j,Object)})}}}),tokensActions=tokensSlice.actions,rootPersistConfig={key:"root",version:VERSION$1,storage:default_1,blacklist:["accounts"],migrate:createAsyncMigrate(mainStoreMigrations)},accountsPersistConfig={key:"accounts",version:VERSION$1,storage:default_1,migrate:createAsyncMigrate(accountsMigrations)},rootReducers=combineReducers({accounts:persistReducer(accountsPersistConfig,accountsSlice.reducer),announcement:announcementSlice.reducer,assets:assetsSlice.reducer,batches:batchesSlice.reducer,beacon:beaconSlice.reducer,contacts:contactsSlice.reducer,errors:errorsSlice.reducer,multisigs:multisigsSlice.reducer,networks:networksSlice.reducer,tokens:tokensSlice.reducer}),reducer=persistReducer(rootPersistConfig,rootReducers),store=configureStore({reducer,middleware:a=>a({serializableCheck:{ignoredActions:[FLUSH,REHYDRATE,PAUSE,PERSIST,PURGE,REGISTER]}})}),persistor=persistStore(store),FormErrorMessage=({children:a,..._})=>jsxRuntimeExports.jsxs(FormErrorMessage$1,{color:colors.orange,fontSize:"12px",..._,children:[jsxRuntimeExports.jsx(Icon,{as:ExclamationIcon,marginRight:"6px"}),a]}),CONFIRMATION_CODE="wasabi",reset=()=>WalletClient.destroy().catch(lodashExports.noop).finally(()=>{persistor.pause(),localStorage.clear(),window.location.reload()}),OffboardingForm=()=>{const a=useForm({mode:"onBlur"}),{register:_,handleSubmit:$,formState:{isValid:j,errors:et},getValues:tt}=a,rt=()=>{if(!(!tt("check")||tt("confirmationCode")!==CONFIRMATION_CODE))return reset()};return jsxRuntimeExports.jsx(FormProvider,{...a,children:jsxRuntimeExports.jsxs("form",{onSubmit:$(rt),children:[jsxRuntimeExports.jsx(ModalCloseButton,{}),jsxRuntimeExports.jsx(ModalHeader,{marginBottom:"10px",textAlign:"center",children:jsxRuntimeExports.jsxs(Box,{children:[jsxRuntimeExports.jsx(WarningIcon,{width:"40px",height:"40px",marginBottom:"20px"}),jsxRuntimeExports.jsx(Heading,{children:"Off-board Wallet"})]})}),jsxRuntimeExports.jsxs(Box,{children:[jsxRuntimeExports.jsx(Text,{marginBottom:"8px",color:colors.gray[400],fontWeight:"bold",textAlign:"center",size:"sm",children:"This will permanently remove any data from this computer."}),jsxRuntimeExports.jsxs(Text,{color:colors.gray[400],textAlign:"center",size:"sm",children:["Please enter « ",CONFIRMATION_CODE," » to confirm. The accounts are still available to be imported in the future; in order to regain access to your accounts, please make sure that you keep the recovery phrase."]}),jsxRuntimeExports.jsxs(ModalBody,{children:[jsxRuntimeExports.jsx(Divider,{borderColor:colors.gray[700],marginY:"20px"}),jsxRuntimeExports.jsx(FormControl,{isInvalid:!!et.check,children:jsxRuntimeExports.jsx(Checkbox,{..._("check",{required:!0}),children:jsxRuntimeExports.jsx(Text,{marginLeft:"8px",fontWeight:"bold",children:"I have read the warning and I am certain I want to remove my private keys locally. I also made sure to keep my recovery phrase."})})}),jsxRuntimeExports.jsx(Divider,{borderColor:colors.gray[700],marginY:"20px"}),jsxRuntimeExports.jsxs(FormControl,{isInvalid:!!et.confirmationCode,paddingY:5,children:[jsxRuntimeExports.jsx(Input,{type:"text",..._("confirmationCode",{required:"Confirmation is required",validate:nt=>nt===CONFIRMATION_CODE||"Confirmation code does not match"}),placeholder:"Enter code word to confirm"}),et.confirmationCode&&jsxRuntimeExports.jsx(FormErrorMessage,{children:et.confirmationCode.message})]})]})]}),jsxRuntimeExports.jsx(ModalFooter,{padding:0,children:jsxRuntimeExports.jsx(Button,{width:"100%",marginBottom:"8px",isDisabled:!j,size:"lg",type:"submit",variant:"warning",children:"Confirm"})})]})})},useOffboardingModal=()=>{const{isOpen:a,onOpen:_,onClose:$}=useDisclosure$1();return{modalElement:jsxRuntimeExports.jsxs(Modal,{isCentered:!0,isOpen:a,onClose:$,children:[jsxRuntimeExports.jsx(ModalOverlay,{}),jsxRuntimeExports.jsx(ModalContent,{background:colors.gray[900],children:jsxRuntimeExports.jsx(OffboardingForm,{})})]}),onOpen:_}},CircleIcon=({icon:a,size:_,onClick:$=()=>{}})=>jsxRuntimeExports.jsx(Box,{width:_,height:_,margin:"auto",background:colors.gray[700],borderRadius:"full",onClick:$,children:jsxRuntimeExports.jsx(Center,{height:"100%",children:a})}),ModalContentWrapper=({children:a,icon:_,title:$,subtitle:j})=>jsxRuntimeExports.jsxs(VStack,{maxHeight:"83vh",spacing:0,children:[jsxRuntimeExports.jsx(Box,{marginBottom:"16px",children:jsxRuntimeExports.jsx(CircleIcon,{icon:_,size:"48px"})}),jsxRuntimeExports.jsxs(Center,{flexDirection:"column",width:"340px",marginBottom:"32px",children:[jsxRuntimeExports.jsx(Heading,{lineHeight:"26px",size:"xl",children:$}),j&&jsxRuntimeExports.jsx(Text,{marginTop:"10px",color:colors.gray[400],lineHeight:"18px",textAlign:"center",size:"sm",children:j})]}),a]}),name="umami",productName="umami",version="2.1.0",author="Trilitech <umami-admin@trili.tech>",description="Tezos Wallet",homepage="https://umamiwallet.com",repository="https://github.com/trilitech/umami-v2",license="MIT",engines={node:">=20 <21.0.0"},type$5="commonjs",main="public/electron.js",scripts={build:"vite build",dev:"vite dev",preview:"vite preview","electron:package:linux":"electron-builder -l -c.extraMetadata.main=build/electron.js","electron:package:mac:debug":"cross-env CSC_IDENTITY_AUTO_DISCOVERY=false electron-builder -m -c.extraMetadata.main=build/electron.js","electron:package:mac":"electron-builder -m -c.extraMetadata.main=build/electron.js","electron:package:win":"electron-builder -w -c.extraMetadata.main=build/electron.js","electron:start":"electronmon .",docs:"typedoc --tsconfig tsconfig.e2e.json","format:ci":"prettier --check .",format:"prettier --write .","lint:ci":"eslint src --ext .js,.jsx,.ts,.tsx --max-warnings=0",lint:"eslint src --ext .js,.jsx,.ts,.tsx --fix",test:"cross-env TZ=CET jest","test:watch":"yarn test --watch","test:e2e":"cross-env TS_NODE_PROJECT=tsconfig.e2e.json cucumber-js","test:e2e:focus":"yarn test:e2e --tags='@focus'","theme:watch":"chakra-cli tokens src/style/theme.ts --watch",theme:"chakra-cli tokens src/style/theme.ts"},devDependencies={"@airgap/beacon-wallet":"^4.2.1","@babel/core":"^7.24.5","@babel/preset-env":"^7.24.5","@babel/preset-react":"^7.24.1","@babel/preset-typescript":"^7.24.1","@babel/runtime":"^7.24.5","@chakra-ui/cli":"^2.4.1","@chakra-ui/icons":"^2.1.1","@chakra-ui/react":"^2.8.2","@chakra-ui/system":"^2.6.2","@chriscdn/promise-semaphore":"^2.0.9","@cucumber/cucumber":"^10.7.0","@electron/notarize":"^2.3.0","@emotion/react":"^11.11.4","@emotion/styled":"^11.11.5","@ledgerhq/hw-transport-webusb":"^6.28.6","@playwright/test":"^1.44.0","@reduxjs/toolkit":"^2.2.4","@stylistic/eslint-plugin":"^2.1.0","@tanstack/eslint-plugin-query":"^5.35.6","@tanstack/react-query":"^5.36.0","@tanstack/react-query-devtools":"^5.36.0","@taquito/ledger-signer":"^19.2.0","@taquito/michel-codec":"^19.2.0","@taquito/rpc":"^19.2.0","@taquito/signer":"^19.2.0","@taquito/taquito":"19.2.0","@taquito/utils":"^19.2.0","@testing-library/dom":"^10.1.0","@testing-library/jest-dom":"6.4.5","@testing-library/react":"14.3.0","@testing-library/user-event":"14.5.2","@toruslabs/customauth":"^15.0.5","@types/babel__core":"^7","@types/babel__preset-env":"^7","@types/identity-obj-proxy":"^3","@types/jest":"^29.5.12","@types/md5":"^2.3.5","@types/node":"20.12.11","@types/papaparse":"^5.3.14","@types/pluralize":"^0.0.33","@types/promise-retry":"^1.1.6","@types/react":"18.3.2","@types/react-dom":"18.3.0","@types/react-test-renderer":"^18","@types/redux-mock-store":"^1.0.6","@typescript-eslint/eslint-plugin":"^7.8.0","@typescript-eslint/parser":"^7.8.0","@tzkt/sdk-api":"^2.2.1","@vitejs/plugin-react":"^4.2.1",axios:"^1.6.8","babel-jest":"^29.7.0",bip39:"^3.1.0",concurrently:"^8.2.2","cross-env":"^7.0.3","date-fns":"^3.6.0",electron:"^30.0.3","electron-builder":"^24.13.3",electronmon:"^2.0.3",eslint:"^8.57.0","eslint-import-resolver-typescript":"^3.6.1","eslint-plugin-chakra-ui":"^0.11.0","eslint-plugin-deprecation":"^2.0.0","eslint-plugin-import":"^2.29.1","eslint-plugin-jest":"^28.5.0","eslint-plugin-jest-dom":"^5.4.0","eslint-plugin-react":"^7.34.1","eslint-plugin-react-hooks":"^4.6.2","eslint-plugin-react-redux":"^4.1.0","eslint-plugin-testing-library":"^6.2.2","eslint-plugin-tsdoc":"^0.2.17","eslint-plugin-unused-imports":"^3.2.0","framer-motion":"^11.1.9","http-server":"^14.1.1","identity-obj-proxy":"^3.0.0",jest:"29.7.0","jest-canvas-mock":"^2.5.2","jest-environment-jsdom":"^29.7.0","jest-fail-on-console":"^3.3.0","jest-resolve":"29.7.0","jest-watch-typeahead":"^2.2.2",lodash:"^4.17.21",md5:"^2.3.0",mockdate:"^3.0.5",ordinal:"^1.0.3",papaparse:"^5.4.1",pluralize:"^8.0.0",prettier:"^3.2.5","prettier-plugin-gherkin":"^2.2.1",process:"^0.11.10","promise-retry":"^2.0.1",react:"^18.3.1","react-app-polyfill":"^3.0.0","react-dev-utils":"^12.0.1","react-dom":"^18.3.1","react-error-boundary":"^4.0.13","react-hook-form":"^7.51.4","react-hooks-testing-library":"^0.6.0","react-player":"^2.16.0","react-qrcode-logo":"^2.10.0","react-redux":"9.1.2","react-refresh":"^0.14.2","react-remove-scroll":"^2.5.10","react-responsive-carousel":"^3.2.23","react-router-dom":"^6.23.1","react-test-renderer":"^18.3.1",redux:"^5.0.1","redux-mock-store":"^1.5.4","redux-persist":"^6.0.0","ts-node":"^10.9.2",typedoc:"^0.25.13","typedoc-plugin-missing-exports":"^2.2.0",typescript:"5.4.5",vite:"^5.2.11","vite-plugin-checker":"^0.6.4","vite-plugin-node-polyfills":"^0.21.0",zipurl:"^0.2.18",zod:"^3.23.8"},packageManager="yarn@4.2.2",dependencies={"electron-updater":"^6.2.1"},resolutions={jsdom:"^23.0.1","@types/jsdom":"^21.1.6"},packageInfo={name,productName,version,author,description,homepage,repository,license,engines,type:type$5,main,scripts,devDependencies,packageManager,dependencies,resolutions};var withSelector={exports:{}},useSyncExternalStoreWithSelector_production_min={};/**
 * @license React
 * use-sync-external-store-with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var g=reactExports;function n$1(a,_){return a===_&&(a!==0||1/a===1/_)||a!==a&&_!==_}var p=typeof Object.is=="function"?Object.is:n$1,q=g.useSyncExternalStore,r$1=g.useRef,t$3=g.useEffect,u=g.useMemo,v=g.useDebugValue;useSyncExternalStoreWithSelector_production_min.useSyncExternalStoreWithSelector=function(a,_,$,j,et){var tt=r$1(null);if(tt.current===null){var rt={hasValue:!1,value:null};tt.current=rt}else rt=tt.current;tt=u(function(){function it(ht){if(!st){if(st=!0,ot=ht,ht=j(ht),et!==void 0&&rt.hasValue){var yt=rt.value;if(et(yt,ht))return at=yt}return at=ht}if(yt=at,p(ot,ht))return yt;var wt=j(ht);return et!==void 0&&et(yt,wt)?yt:(ot=ht,at=wt)}var st=!1,ot,at,ut=$===void 0?null:$;return[function(){return it(_())},ut===null?void 0:function(){return it(ut())}]},[_,$,j,et]);var nt=q(a,tt[0],tt[1]);return t$3(function(){rt.hasValue=!0,rt.value=nt},[nt]),v(nt),nt};withSelector.exports=useSyncExternalStoreWithSelector_production_min;var withSelectorExports=withSelector.exports,React$1="default"in React$3?React$2:React$3,ContextKey=Symbol.for("react-redux-context"),gT=typeof globalThis<"u"?globalThis:{};function getContext(){if(!React$1.createContext)return{};const a=gT[ContextKey]??(gT[ContextKey]=new Map);let _=a.get(React$1.createContext);return _||(_=React$1.createContext(null),a.set(React$1.createContext,_)),_}var ReactReduxContext=getContext(),notInitialized=()=>{throw new Error("uSES not initialized!")};function createReduxContextHook(a=ReactReduxContext){return function(){return React$1.useContext(a)}}var useReduxContext=createReduxContextHook(),useSyncExternalStoreWithSelector=notInitialized,initializeUseSelector=a=>{useSyncExternalStoreWithSelector=a},refEquality=(a,_)=>a===_;function createSelectorHook(a=ReactReduxContext){const _=a===ReactReduxContext?useReduxContext:createReduxContextHook(a),$=(j,et={})=>{const{equalityFn:tt=refEquality,devModeChecks:rt={}}=typeof et=="function"?{equalityFn:et}:et,{store:nt,subscription:it,getServerState:st,stabilityCheck:ot,identityFunctionCheck:at}=_();React$1.useRef(!0);const ut=React$1.useCallback({[j.name](yt){return j(yt)}}[j.name],[j,ot,rt.stabilityCheck]),ht=useSyncExternalStoreWithSelector(it.addNestedSub,nt.getState,st||nt.getState,ut,tt);return React$1.useDebugValue(ht),ht};return Object.assign($,{withTypes:()=>$}),$}var useSelector=createSelectorHook();function defaultNoopBatch(a){a()}function createListenerCollection(){let a=null,_=null;return{clear(){a=null,_=null},notify(){defaultNoopBatch(()=>{let $=a;for(;$;)$.callback(),$=$.next})},get(){const $=[];let j=a;for(;j;)$.push(j),j=j.next;return $},subscribe($){let j=!0;const et=_={callback:$,next:null,prev:_};return et.prev?et.prev.next=et:a=et,function(){!j||a===null||(j=!1,et.next?et.next.prev=et.prev:_=et.prev,et.prev?et.prev.next=et.next:a=et.next)}}}}var nullListeners={notify(){},get:()=>[]};function createSubscription(a,_){let $,j=nullListeners,et=0,tt=!1;function rt(wt){ot();const Ct=j.subscribe(wt);let Pt=!1;return()=>{Pt||(Pt=!0,Ct(),at())}}function nt(){j.notify()}function it(){yt.onStateChange&&yt.onStateChange()}function st(){return tt}function ot(){et++,$||($=a.subscribe(it),j=createListenerCollection())}function at(){et--,$&&et===0&&($(),$=void 0,j.clear(),j=nullListeners)}function ut(){tt||(tt=!0,ot())}function ht(){tt&&(tt=!1,at())}const yt={addNestedSub:rt,notifyNestedSubs:nt,handleChangeWrapper:it,isSubscribed:st,trySubscribe:ut,tryUnsubscribe:ht,getListeners:()=>j};return yt}var canUseDOM=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",isReactNative$1=typeof navigator<"u"&&navigator.product==="ReactNative",useIsomorphicLayoutEffect$1=canUseDOM||isReactNative$1?React$1.useLayoutEffect:React$1.useEffect;function Provider$1({store:a,context:_,children:$,serverState:j,stabilityCheck:et="once",identityFunctionCheck:tt="once"}){const rt=React$1.useMemo(()=>{const st=createSubscription(a);return{store:a,subscription:st,getServerState:j?()=>j:void 0,stabilityCheck:et,identityFunctionCheck:tt}},[a,j,et,tt]),nt=React$1.useMemo(()=>a.getState(),[a]);useIsomorphicLayoutEffect$1(()=>{const{subscription:st}=rt;return st.onStateChange=st.notifyNestedSubs,st.trySubscribe(),nt!==a.getState()&&st.notifyNestedSubs(),()=>{st.tryUnsubscribe(),st.onStateChange=void 0}},[rt,nt]);const it=_||ReactReduxContext;return React$1.createElement(it.Provider,{value:rt},$)}var Provider_default=Provider$1;function createStoreHook(a=ReactReduxContext){const _=a===ReactReduxContext?useReduxContext:createReduxContextHook(a),$=()=>{const{store:j}=_();return j};return Object.assign($,{withTypes:()=>$}),$}var useStore=createStoreHook();function createDispatchHook(a=ReactReduxContext){const _=a===ReactReduxContext?useStore:createStoreHook(a),$=()=>_().dispatch;return Object.assign($,{withTypes:()=>$}),$}var useDispatch=createDispatchHook();initializeUseSelector(withSelectorExports.useSyncExternalStoreWithSelector);const useAppDispatch=useDispatch,useAppSelector=useSelector,useSelectedNetwork=()=>useAppSelector(a=>a.networks.current),useAvailableNetworks=()=>useAppSelector(a=>a.networks.available),useSelectNetwork=()=>{const a=useAvailableNetworks(),_=useDispatch();return $=>{const j=a.find(et=>et.name===$);j&&_(networksActions.setCurrent(j))}},useGetToken=()=>{const a=useSelectedNetwork(),_=useAppSelector($=>$.tokens[a.name]);return($,j)=>lodashExports.get(_,[$,j])},useGetTokenType=a=>{const _=useAppSelector($=>$.tokens[a.name]);return $=>{if(!(_&&$ in _))return;const j=_[$],et=Object.keys(j)[0];if(et)return j[et].type}},errorClasses={},deserializers={},addCustomErrorDeserializer=(a,_)=>{deserializers[a]=_},createCustomErrorClass=a=>{class _ extends Error{constructor(j,et,tt){if(super(j||a,tt),Object.setPrototypeOf(this,_.prototype),this.name=a,et)for(const rt in et)this[rt]=et[rt];if(tt&&isObject$1(tt)&&"cause"in tt&&!("cause"in this)){const rt=tt.cause;this.cause=rt,"stack"in rt&&(this.stack=this.stack+`
CAUSE: `+rt.stack)}}}return errorClasses[a]=_,_};function isObject$1(a){return typeof a=="object"}createCustomErrorClass("AccountNameRequired");createCustomErrorClass("AccountNotSupported");createCustomErrorClass("AmountRequired");createCustomErrorClass("BluetoothRequired");createCustomErrorClass("BtcUnmatchedApp");createCustomErrorClass("CantOpenDevice");createCustomErrorClass("CashAddrNotSupported");createCustomErrorClass("ClaimRewardsFeesWarning");createCustomErrorClass("CurrencyNotSupported");createCustomErrorClass("DeviceAppVerifyNotSupported");createCustomErrorClass("DeviceGenuineSocketEarlyClose");createCustomErrorClass("DeviceNotGenuine");createCustomErrorClass("DeviceOnDashboardExpected");createCustomErrorClass("DeviceOnDashboardUnexpected");createCustomErrorClass("DeviceInOSUExpected");createCustomErrorClass("DeviceHalted");createCustomErrorClass("DeviceNameInvalid");createCustomErrorClass("DeviceSocketFail");createCustomErrorClass("DeviceSocketNoBulkStatus");createCustomErrorClass("DeviceSocketNoBulkStatus");createCustomErrorClass("UnresponsiveDeviceError");const DisconnectedDevice=createCustomErrorClass("DisconnectedDevice"),DisconnectedDeviceDuringOperation=createCustomErrorClass("DisconnectedDeviceDuringOperation");createCustomErrorClass("DeviceExtractOnboardingStateError");createCustomErrorClass("DeviceOnboardingStatePollingError");createCustomErrorClass("EnpointConfig");createCustomErrorClass("EthAppPleaseEnableContractData");createCustomErrorClass("FeeEstimationFailed");createCustomErrorClass("FirmwareNotRecognized");createCustomErrorClass("HardResetFail");createCustomErrorClass("InvalidXRPTag");createCustomErrorClass("InvalidAddress");createCustomErrorClass("InvalidNonce");createCustomErrorClass("InvalidAddressBecauseDestinationIsAlsoSource");createCustomErrorClass("LatestMCUInstalledError");createCustomErrorClass("UnknownMCU");createCustomErrorClass("LedgerAPIError");createCustomErrorClass("LedgerAPIErrorWithMessage");createCustomErrorClass("LedgerAPINotAvailable");createCustomErrorClass("ManagerAppAlreadyInstalled");createCustomErrorClass("ManagerAppRelyOnBTC");createCustomErrorClass("ManagerAppDepInstallRequired");createCustomErrorClass("ManagerAppDepUninstallRequired");createCustomErrorClass("ManagerDeviceLocked");createCustomErrorClass("ManagerFirmwareNotEnoughSpace");createCustomErrorClass("ManagerNotEnoughSpace");createCustomErrorClass("ManagerUninstallBTCDep");createCustomErrorClass("NetworkDown");createCustomErrorClass("NetworkError");createCustomErrorClass("NoAddressesFound");createCustomErrorClass("NotEnoughBalance");createCustomErrorClass("NotEnoughBalanceToDelegate");createCustomErrorClass("NotEnoughBalanceInParentAccount");createCustomErrorClass("NotEnoughSpendableBalance");createCustomErrorClass("NotEnoughBalanceBecauseDestinationNotCreated");createCustomErrorClass("NoAccessToCamera");createCustomErrorClass("NotEnoughGas");createCustomErrorClass("NotEnoughGasSwap");createCustomErrorClass("NotSupportedLegacyAddress");createCustomErrorClass("GasLessThanEstimate");createCustomErrorClass("PriorityFeeTooLow");createCustomErrorClass("PriorityFeeTooHigh");createCustomErrorClass("PriorityFeeHigherThanMaxFee");createCustomErrorClass("MaxFeeTooLow");createCustomErrorClass("PasswordsDontMatch");createCustomErrorClass("PasswordIncorrect");createCustomErrorClass("RecommendSubAccountsToEmpty");createCustomErrorClass("RecommendUndelegation");createCustomErrorClass("TimeoutTagged");createCustomErrorClass("UnexpectedBootloader");createCustomErrorClass("MCUNotGenuineToDashboard");createCustomErrorClass("RecipientRequired");createCustomErrorClass("UnavailableTezosOriginatedAccountReceive");createCustomErrorClass("UnavailableTezosOriginatedAccountSend");createCustomErrorClass("UpdateFetchFileFail");createCustomErrorClass("UpdateIncorrectHash");createCustomErrorClass("UpdateIncorrectSig");createCustomErrorClass("UpdateYourApp");createCustomErrorClass("UserRefusedDeviceNameChange");createCustomErrorClass("UserRefusedAddress");createCustomErrorClass("UserRefusedFirmwareUpdate");createCustomErrorClass("UserRefusedAllowManager");createCustomErrorClass("UserRefusedOnDevice");createCustomErrorClass("ExpertModeRequired");const TransportOpenUserCancelled=createCustomErrorClass("TransportOpenUserCancelled"),TransportInterfaceNotAvailable=createCustomErrorClass("TransportInterfaceNotAvailable"),TransportPendingOperation=createCustomErrorClass("TransportPendingOperation"),TransportWebUSBGestureRequired=createCustomErrorClass("TransportWebUSBGestureRequired");createCustomErrorClass("TransactionHasBeenValidatedError");createCustomErrorClass("TransportExchangeTimeoutError");createCustomErrorClass("DeviceShouldStayInApp");createCustomErrorClass("WebsocketConnectionError");createCustomErrorClass("WebsocketConnectionFailed");createCustomErrorClass("WrongDeviceForAccount");createCustomErrorClass("WrongDeviceForAccountPayout");createCustomErrorClass("WrongDeviceForAccountRefund");createCustomErrorClass("WrongAppForCurrency");createCustomErrorClass("ETHAddressNonEIP");createCustomErrorClass("CantScanQRCode");createCustomErrorClass("FeeNotLoaded");createCustomErrorClass("FeeNotLoadedSwap");createCustomErrorClass("FeeRequired");createCustomErrorClass("FeeTooHigh");createCustomErrorClass("PendingOperation");createCustomErrorClass("SyncError");createCustomErrorClass("PairingFailed");createCustomErrorClass("PeerRemovedPairing");createCustomErrorClass("GenuineCheckFailed");createCustomErrorClass("LedgerAPI4xx");createCustomErrorClass("LedgerAPI5xx");createCustomErrorClass("FirmwareOrAppUpdateRequired");createCustomErrorClass("ReplacementTransactionUnderpriced");createCustomErrorClass("OpReturnSizeLimit");createCustomErrorClass("DustLimit");createCustomErrorClass("LanguageNotFound");createCustomErrorClass("NoDBPathGiven");createCustomErrorClass("DBWrongPassword");createCustomErrorClass("DBNotReset");createCustomErrorClass("SequenceNumberError");createCustomErrorClass("DisabledTransactionBroadcastError");var HwTransportErrorType;(function(a){a.Unknown="Unknown",a.LocationServicesDisabled="LocationServicesDisabled",a.LocationServicesUnauthorized="LocationServicesUnauthorized",a.BluetoothScanStartFailed="BluetoothScanStartFailed"})(HwTransportErrorType||(HwTransportErrorType={}));let TransportError$1=class extends Error{constructor(_,$){const j="TransportError";super(_||j),this.name=j,this.message=_,this.stack=new Error(_).stack,this.id=$}};addCustomErrorDeserializer("TransportError",a=>new TransportError$1(a.message,a.id));const StatusCodes={ACCESS_CONDITION_NOT_FULFILLED:38916,ALGORITHM_NOT_SUPPORTED:38020,CLA_NOT_SUPPORTED:28160,CODE_BLOCKED:38976,CODE_NOT_INITIALIZED:38914,COMMAND_INCOMPATIBLE_FILE_STRUCTURE:27009,CONDITIONS_OF_USE_NOT_SATISFIED:27013,CONTRADICTION_INVALIDATION:38928,CONTRADICTION_SECRET_CODE_STATUS:38920,CUSTOM_IMAGE_BOOTLOADER:26159,CUSTOM_IMAGE_EMPTY:26158,FILE_ALREADY_EXISTS:27273,FILE_NOT_FOUND:37892,GP_AUTH_FAILED:25344,HALTED:28586,INCONSISTENT_FILE:37896,INCORRECT_DATA:27264,INCORRECT_LENGTH:26368,INCORRECT_P1_P2:27392,INS_NOT_SUPPORTED:27904,DEVICE_NOT_ONBOARDED:27911,DEVICE_NOT_ONBOARDED_2:26129,INVALID_KCV:38021,INVALID_OFFSET:37890,LICENSING:28482,LOCKED_DEVICE:21781,MAX_VALUE_REACHED:38992,MEMORY_PROBLEM:37440,MISSING_CRITICAL_PARAMETER:26624,NO_EF_SELECTED:37888,NOT_ENOUGH_MEMORY_SPACE:27268,OK:36864,PIN_REMAINING_ATTEMPTS:25536,REFERENCED_DATA_NOT_FOUND:27272,SECURITY_STATUS_NOT_SATISFIED:27010,TECHNICAL_PROBLEM:28416,UNKNOWN_APDU:27906,USER_REFUSED_ON_DEVICE:21761,NOT_ENOUGH_SPACE:20738};function getAltStatusMessage(a){switch(a){case 26368:return"Incorrect length";case 26624:return"Missing critical parameter";case 27010:return"Security not satisfied (dongle locked or have invalid access rights)";case 27013:return"Condition of use not satisfied (denied by the user?)";case 27264:return"Invalid data received";case 27392:return"Invalid parameter received";case 21781:return"Locked device"}if(28416<=a&&a<=28671)return"Internal error, please report"}class TransportStatusError extends Error{constructor(_,{canBeMappedToChildError:$=!0}={}){const j=Object.keys(StatusCodes).find(nt=>StatusCodes[nt]===_)||"UNKNOWN_ERROR",et=getAltStatusMessage(_)||j,tt=_.toString(16),rt=`Ledger device: ${et} (0x${tt})`;if(super(rt),this.name="TransportStatusError",this.statusCode=_,this.statusText=j,Object.setPrototypeOf(this,TransportStatusError.prototype),$&&_===StatusCodes.LOCKED_DEVICE)return new LockedDeviceError(rt)}}class LockedDeviceError extends TransportStatusError{constructor(_){super(StatusCodes.LOCKED_DEVICE,{canBeMappedToChildError:!1}),_&&(this.message=_),this.name="LockedDeviceError",Object.setPrototypeOf(this,LockedDeviceError.prototype)}}addCustomErrorDeserializer("TransportStatusError",a=>new TransportStatusError(a.statusCode));let id=0;const subscribers=[],log$6=(a,_,$)=>{const j={type:a,id:String(++id),date:new Date};_&&(j.message=_),dispatch(j)},trace=({type:a,message:_,data:$,context:j})=>{const et={type:a,id:String(++id),date:new Date};_&&(et.message=_),$&&(et.data=$),j&&(et.context=j),dispatch(et)};class LocalTracer{constructor(_,$){this.type=_,this.context=$}trace(_,$){trace({type:this.type,message:_,data:$,context:this.context})}getContext(){return this.context}setContext(_){this.context=_}updateContext(_){this.context=Object.assign(Object.assign({},this.context),_)}getType(){return this.type}setType(_){this.type=_}withType(_){return new LocalTracer(_,this.context)}withContext(_){return new LocalTracer(this.type,_)}withUpdatedContext(_){return new LocalTracer(this.type,Object.assign(Object.assign({},this.context),_))}}const listen=a=>(subscribers.push(a),()=>{const _=subscribers.indexOf(a);_!==-1&&(subscribers[_]=subscribers[subscribers.length-1],subscribers.pop())});function dispatch(a){for(let _=0;_<subscribers.length;_++)try{subscribers[_](a)}catch($){console.error($)}}typeof window<"u"&&(window.__ledgerLogsListen=listen);var __awaiter$7=function(a,_,$,j){function et(tt){return tt instanceof $?tt:new $(function(rt){rt(tt)})}return new($||($=Promise))(function(tt,rt){function nt(ot){try{st(j.next(ot))}catch(at){rt(at)}}function it(ot){try{st(j.throw(ot))}catch(at){rt(at)}}function st(ot){ot.done?tt(ot.value):et(ot.value).then(nt,it)}st((j=j.apply(a,_||[])).next())})};const DEFAULT_LOG_TYPE="transport";let Transport$1=class{constructor({context:_,logType:$}={}){this.exchangeTimeout=3e4,this.unresponsiveTimeout=15e3,this.deviceModel=null,this._events=new EventEmitter$2,this.send=(j,et,tt,rt,nt=Buffer$g.alloc(0),it=[StatusCodes.OK],{abortTimeoutMs:st}={})=>__awaiter$7(this,void 0,void 0,function*(){const ot=this.tracer.withUpdatedContext({function:"send"});if(nt.length>=256)throw ot.trace("data.length exceeded 256 bytes limit",{dataLength:nt.length}),new TransportError$1("data.length exceed 256 bytes limit. Got: "+nt.length,"DataLengthTooBig");ot.trace("Starting an exchange",{abortTimeoutMs:st});const at=yield this.exchange(Buffer$g.concat([Buffer$g.from([j,et,tt,rt]),Buffer$g.from([nt.length]),nt]),{abortTimeoutMs:st});ot.trace("Received response from exchange");const ut=at.readUInt16BE(at.length-2);if(!it.some(ht=>ht===ut))throw new TransportStatusError(ut);return at}),this._appAPIlock=null,this.tracer=new LocalTracer($??DEFAULT_LOG_TYPE,_)}exchange(_,{abortTimeoutMs:$}={}){throw new Error("exchange not implemented")}exchangeBulk(_,$){let j=!1;const et=()=>{j=!0};return __awaiter$7(this,void 0,void 0,function*(){if(!j)for(const rt of _){const nt=yield this.exchange(rt);if(j)return;const it=nt.readUInt16BE(nt.length-2);if(it!==StatusCodes.OK)throw new TransportStatusError(it);$.next(nt)}}).then(()=>!j&&$.complete(),rt=>!j&&$.error(rt)),{unsubscribe:et}}setScrambleKey(_){}close(){return Promise.resolve()}on(_,$){this._events.on(_,$)}off(_,$){this._events.removeListener(_,$)}emit(_,...$){this._events.emit(_,...$)}setDebugMode(){console.warn("setDebugMode is deprecated. use @ledgerhq/logs instead. No logs are emitted in this anymore.")}setExchangeTimeout(_){this.exchangeTimeout=_}setExchangeUnresponsiveTimeout(_){this.unresponsiveTimeout=_}static create(_=3e3,$){return new Promise((j,et)=>{let tt=!1;const rt=this.listen({next:it=>{tt=!0,rt&&rt.unsubscribe(),nt&&clearTimeout(nt),this.open(it.descriptor,_).then(j,et)},error:it=>{nt&&clearTimeout(nt),et(it)},complete:()=>{nt&&clearTimeout(nt),tt||et(new TransportError$1(this.ErrorMessage_NoDeviceFound,"NoDeviceFound"))}}),nt=$?setTimeout(()=>{rt.unsubscribe(),et(new TransportError$1(this.ErrorMessage_ListenTimeout,"ListenTimeout"))},$):null})}exchangeAtomicImpl(_){return __awaiter$7(this,void 0,void 0,function*(){const $=this.tracer.withUpdatedContext({function:"exchangeAtomicImpl",unresponsiveTimeout:this.unresponsiveTimeout});if(this.exchangeBusyPromise)throw $.trace("Atomic exchange is already busy"),new TransportPendingOperation("An action was already pending on the Ledger device. Please deny or reconnect.");let j;const et=new Promise(nt=>{j=nt});this.exchangeBusyPromise=et;let tt=!1;const rt=setTimeout(()=>{$.trace('Timeout reached, emitting Transport event "unresponsive"',{unresponsiveTimeout:this.unresponsiveTimeout}),tt=!0,this.emit("unresponsive")},this.unresponsiveTimeout);try{const nt=yield _();return tt&&($.trace("Device was unresponsive, emitting responsive"),this.emit("responsive")),nt}finally{$.trace("Finalize, clearing busy guard"),clearTimeout(rt),j&&j(),this.exchangeBusyPromise=null}})}decorateAppAPIMethods(_,$,j){for(const et of $)_[et]=this.decorateAppAPIMethod(et,_[et],_,j)}decorateAppAPIMethod(_,$,j,et){return(...tt)=>__awaiter$7(this,void 0,void 0,function*(){const{_appAPIlock:rt}=this;if(rt)return Promise.reject(new TransportError$1("Ledger Device is busy (lock "+rt+")","TransportLocked"));try{return this._appAPIlock=_,this.setScrambleKey(et),yield $.apply(j,tt)}finally{this._appAPIlock=null}})}setTraceContext(_){this.tracer=this.tracer.withContext(_)}updateTraceContext(_){this.tracer.updateContext(_)}getTraceContext(){return this.tracer.getContext()}};Transport$1.ErrorMessage_ListenTimeout="No Ledger device found (timeout)";Transport$1.ErrorMessage_NoDeviceFound="No Ledger device found";const Tag$1=5;function asUInt16BE(a){const _=Buffer$g.alloc(2);return _.writeUInt16BE(a,0),_}const initialAcc={data:Buffer$g.alloc(0),dataLength:0,sequence:0},createHIDframing=(a,_)=>({makeBlocks($){let j=Buffer$g.concat([asUInt16BE($.length),$]);const et=_-5,tt=Math.ceil(j.length/et);j=Buffer$g.concat([j,Buffer$g.alloc(tt*et-j.length+1).fill(0)]);const rt=[];for(let nt=0;nt<tt;nt++){const it=Buffer$g.alloc(5);it.writeUInt16BE(a,0),it.writeUInt8(Tag$1,2),it.writeUInt16BE(nt,3);const st=j.slice(nt*et,(nt+1)*et);rt.push(Buffer$g.concat([it,st]))}return rt},reduceResponse($,j){let{data:et,dataLength:tt,sequence:rt}=$||initialAcc;if(j.readUInt16BE(0)!==a)throw new TransportError$1("Invalid channel","InvalidChannel");if(j.readUInt8(2)!==Tag$1)throw new TransportError$1("Invalid tag","InvalidTag");if(j.readUInt16BE(3)!==rt)throw new TransportError$1("Invalid sequence","InvalidSequence");$||(tt=j.readUInt16BE(5)),rt++;const nt=j.slice($?5:7);return et=Buffer$g.concat([et,nt]),et.length>tt&&(et=et.slice(0,tt)),{data:et,dataLength:tt,sequence:rt}},getReducedResult($){if($&&$.dataLength===$.data.length)return $.data}});var re$3={exports:{}};const SEMVER_SPEC_VERSION="2.0.0",MAX_LENGTH$1=256,MAX_SAFE_INTEGER$1=Number.MAX_SAFE_INTEGER||9007199254740991,MAX_SAFE_COMPONENT_LENGTH=16,MAX_SAFE_BUILD_LENGTH=MAX_LENGTH$1-6,RELEASE_TYPES=["major","premajor","minor","preminor","patch","prepatch","prerelease"];var constants$3={MAX_LENGTH:MAX_LENGTH$1,MAX_SAFE_COMPONENT_LENGTH,MAX_SAFE_BUILD_LENGTH,MAX_SAFE_INTEGER:MAX_SAFE_INTEGER$1,RELEASE_TYPES,SEMVER_SPEC_VERSION,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2},define_process_env_default={};const debug$1=typeof process$1$1=="object"&&define_process_env_default&&define_process_env_default.NODE_DEBUG&&/\bsemver\b/i.test(define_process_env_default.NODE_DEBUG)?(...a)=>console.error("SEMVER",...a):()=>{};var debug_1=debug$1;(function(a,_){const{MAX_SAFE_COMPONENT_LENGTH:$,MAX_SAFE_BUILD_LENGTH:j,MAX_LENGTH:et}=constants$3,tt=debug_1;_=a.exports={};const rt=_.re=[],nt=_.safeRe=[],it=_.src=[],st=_.t={};let ot=0;const at="[a-zA-Z0-9-]",ut=[["\\s",1],["\\d",et],[at,j]],ht=wt=>{for(const[Ct,Pt]of ut)wt=wt.split(`${Ct}*`).join(`${Ct}{0,${Pt}}`).split(`${Ct}+`).join(`${Ct}{1,${Pt}}`);return wt},yt=(wt,Ct,Pt)=>{const Tt=ht(Ct),Mt=ot++;tt(wt,Mt,Ct),st[wt]=Mt,it[Mt]=Ct,rt[Mt]=new RegExp(Ct,Pt?"g":void 0),nt[Mt]=new RegExp(Tt,Pt?"g":void 0)};yt("NUMERICIDENTIFIER","0|[1-9]\\d*"),yt("NUMERICIDENTIFIERLOOSE","\\d+"),yt("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${at}*`),yt("MAINVERSION",`(${it[st.NUMERICIDENTIFIER]})\\.(${it[st.NUMERICIDENTIFIER]})\\.(${it[st.NUMERICIDENTIFIER]})`),yt("MAINVERSIONLOOSE",`(${it[st.NUMERICIDENTIFIERLOOSE]})\\.(${it[st.NUMERICIDENTIFIERLOOSE]})\\.(${it[st.NUMERICIDENTIFIERLOOSE]})`),yt("PRERELEASEIDENTIFIER",`(?:${it[st.NUMERICIDENTIFIER]}|${it[st.NONNUMERICIDENTIFIER]})`),yt("PRERELEASEIDENTIFIERLOOSE",`(?:${it[st.NUMERICIDENTIFIERLOOSE]}|${it[st.NONNUMERICIDENTIFIER]})`),yt("PRERELEASE",`(?:-(${it[st.PRERELEASEIDENTIFIER]}(?:\\.${it[st.PRERELEASEIDENTIFIER]})*))`),yt("PRERELEASELOOSE",`(?:-?(${it[st.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${it[st.PRERELEASEIDENTIFIERLOOSE]})*))`),yt("BUILDIDENTIFIER",`${at}+`),yt("BUILD",`(?:\\+(${it[st.BUILDIDENTIFIER]}(?:\\.${it[st.BUILDIDENTIFIER]})*))`),yt("FULLPLAIN",`v?${it[st.MAINVERSION]}${it[st.PRERELEASE]}?${it[st.BUILD]}?`),yt("FULL",`^${it[st.FULLPLAIN]}$`),yt("LOOSEPLAIN",`[v=\\s]*${it[st.MAINVERSIONLOOSE]}${it[st.PRERELEASELOOSE]}?${it[st.BUILD]}?`),yt("LOOSE",`^${it[st.LOOSEPLAIN]}$`),yt("GTLT","((?:<|>)?=?)"),yt("XRANGEIDENTIFIERLOOSE",`${it[st.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),yt("XRANGEIDENTIFIER",`${it[st.NUMERICIDENTIFIER]}|x|X|\\*`),yt("XRANGEPLAIN",`[v=\\s]*(${it[st.XRANGEIDENTIFIER]})(?:\\.(${it[st.XRANGEIDENTIFIER]})(?:\\.(${it[st.XRANGEIDENTIFIER]})(?:${it[st.PRERELEASE]})?${it[st.BUILD]}?)?)?`),yt("XRANGEPLAINLOOSE",`[v=\\s]*(${it[st.XRANGEIDENTIFIERLOOSE]})(?:\\.(${it[st.XRANGEIDENTIFIERLOOSE]})(?:\\.(${it[st.XRANGEIDENTIFIERLOOSE]})(?:${it[st.PRERELEASELOOSE]})?${it[st.BUILD]}?)?)?`),yt("XRANGE",`^${it[st.GTLT]}\\s*${it[st.XRANGEPLAIN]}$`),yt("XRANGELOOSE",`^${it[st.GTLT]}\\s*${it[st.XRANGEPLAINLOOSE]}$`),yt("COERCE",`(^|[^\\d])(\\d{1,${$}})(?:\\.(\\d{1,${$}}))?(?:\\.(\\d{1,${$}}))?(?:$|[^\\d])`),yt("COERCERTL",it[st.COERCE],!0),yt("LONETILDE","(?:~>?)"),yt("TILDETRIM",`(\\s*)${it[st.LONETILDE]}\\s+`,!0),_.tildeTrimReplace="$1~",yt("TILDE",`^${it[st.LONETILDE]}${it[st.XRANGEPLAIN]}$`),yt("TILDELOOSE",`^${it[st.LONETILDE]}${it[st.XRANGEPLAINLOOSE]}$`),yt("LONECARET","(?:\\^)"),yt("CARETTRIM",`(\\s*)${it[st.LONECARET]}\\s+`,!0),_.caretTrimReplace="$1^",yt("CARET",`^${it[st.LONECARET]}${it[st.XRANGEPLAIN]}$`),yt("CARETLOOSE",`^${it[st.LONECARET]}${it[st.XRANGEPLAINLOOSE]}$`),yt("COMPARATORLOOSE",`^${it[st.GTLT]}\\s*(${it[st.LOOSEPLAIN]})$|^$`),yt("COMPARATOR",`^${it[st.GTLT]}\\s*(${it[st.FULLPLAIN]})$|^$`),yt("COMPARATORTRIM",`(\\s*)${it[st.GTLT]}\\s*(${it[st.LOOSEPLAIN]}|${it[st.XRANGEPLAIN]})`,!0),_.comparatorTrimReplace="$1$2$3",yt("HYPHENRANGE",`^\\s*(${it[st.XRANGEPLAIN]})\\s+-\\s+(${it[st.XRANGEPLAIN]})\\s*$`),yt("HYPHENRANGELOOSE",`^\\s*(${it[st.XRANGEPLAINLOOSE]})\\s+-\\s+(${it[st.XRANGEPLAINLOOSE]})\\s*$`),yt("STAR","(<|>)?=?\\s*\\*"),yt("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),yt("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(re$3,re$3.exports);var reExports=re$3.exports;const looseOption=Object.freeze({loose:!0}),emptyOpts=Object.freeze({}),parseOptions$1=a=>a?typeof a!="object"?looseOption:a:emptyOpts;var parseOptions_1=parseOptions$1;const numeric=/^[0-9]+$/,compareIdentifiers$1=(a,_)=>{const $=numeric.test(a),j=numeric.test(_);return $&&j&&(a=+a,_=+_),a===_?0:$&&!j?-1:j&&!$?1:a<_?-1:1},rcompareIdentifiers=(a,_)=>compareIdentifiers$1(_,a);var identifiers$1={compareIdentifiers:compareIdentifiers$1,rcompareIdentifiers};const debug=debug_1,{MAX_LENGTH,MAX_SAFE_INTEGER}=constants$3,{safeRe:re$2,t:t$2}=reExports,parseOptions=parseOptions_1,{compareIdentifiers}=identifiers$1;let SemVer$d=class zo{constructor(_,$){if($=parseOptions($),_ instanceof zo){if(_.loose===!!$.loose&&_.includePrerelease===!!$.includePrerelease)return _;_=_.version}else if(typeof _!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof _}".`);if(_.length>MAX_LENGTH)throw new TypeError(`version is longer than ${MAX_LENGTH} characters`);debug("SemVer",_,$),this.options=$,this.loose=!!$.loose,this.includePrerelease=!!$.includePrerelease;const j=_.trim().match($.loose?re$2[t$2.LOOSE]:re$2[t$2.FULL]);if(!j)throw new TypeError(`Invalid Version: ${_}`);if(this.raw=_,this.major=+j[1],this.minor=+j[2],this.patch=+j[3],this.major>MAX_SAFE_INTEGER||this.major<0)throw new TypeError("Invalid major version");if(this.minor>MAX_SAFE_INTEGER||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>MAX_SAFE_INTEGER||this.patch<0)throw new TypeError("Invalid patch version");j[4]?this.prerelease=j[4].split(".").map(et=>{if(/^[0-9]+$/.test(et)){const tt=+et;if(tt>=0&&tt<MAX_SAFE_INTEGER)return tt}return et}):this.prerelease=[],this.build=j[5]?j[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(_){if(debug("SemVer.compare",this.version,this.options,_),!(_ instanceof zo)){if(typeof _=="string"&&_===this.version)return 0;_=new zo(_,this.options)}return _.version===this.version?0:this.compareMain(_)||this.comparePre(_)}compareMain(_){return _ instanceof zo||(_=new zo(_,this.options)),compareIdentifiers(this.major,_.major)||compareIdentifiers(this.minor,_.minor)||compareIdentifiers(this.patch,_.patch)}comparePre(_){if(_ instanceof zo||(_=new zo(_,this.options)),this.prerelease.length&&!_.prerelease.length)return-1;if(!this.prerelease.length&&_.prerelease.length)return 1;if(!this.prerelease.length&&!_.prerelease.length)return 0;let $=0;do{const j=this.prerelease[$],et=_.prerelease[$];if(debug("prerelease compare",$,j,et),j===void 0&&et===void 0)return 0;if(et===void 0)return 1;if(j===void 0)return-1;if(j===et)continue;return compareIdentifiers(j,et)}while(++$)}compareBuild(_){_ instanceof zo||(_=new zo(_,this.options));let $=0;do{const j=this.build[$],et=_.build[$];if(debug("prerelease compare",$,j,et),j===void 0&&et===void 0)return 0;if(et===void 0)return 1;if(j===void 0)return-1;if(j===et)continue;return compareIdentifiers(j,et)}while(++$)}inc(_,$,j){switch(_){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",$,j);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",$,j);break;case"prepatch":this.prerelease.length=0,this.inc("patch",$,j),this.inc("pre",$,j);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",$,j),this.inc("pre",$,j);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const et=Number(j)?1:0;if(!$&&j===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[et];else{let tt=this.prerelease.length;for(;--tt>=0;)typeof this.prerelease[tt]=="number"&&(this.prerelease[tt]++,tt=-2);if(tt===-1){if($===this.prerelease.join(".")&&j===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(et)}}if($){let tt=[$,et];j===!1&&(tt=[$]),compareIdentifiers(this.prerelease[0],$)===0?isNaN(this.prerelease[1])&&(this.prerelease=tt):this.prerelease=tt}break}default:throw new Error(`invalid increment argument: ${_}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};var semver$2=SemVer$d;const SemVer$c=semver$2,parse$a=(a,_,$=!1)=>{if(a instanceof SemVer$c)return a;try{return new SemVer$c(a,_)}catch(j){if(!$)return null;throw j}};var parse_1=parse$a;const parse$9=parse_1,valid$2=(a,_)=>{const $=parse$9(a,_);return $?$.version:null};var valid_1=valid$2;const parse$8=parse_1,clean$1=(a,_)=>{const $=parse$8(a.trim().replace(/^[=v]+/,""),_);return $?$.version:null};var clean_1=clean$1;const SemVer$b=semver$2,inc$1=(a,_,$,j,et)=>{typeof $=="string"&&(et=j,j=$,$=void 0);try{return new SemVer$b(a instanceof SemVer$b?a.version:a,$).inc(_,j,et).version}catch{return null}};var inc_1=inc$1;const parse$7=parse_1,diff$1=(a,_)=>{const $=parse$7(a,null,!0),j=parse$7(_,null,!0),et=$.compare(j);if(et===0)return null;const tt=et>0,rt=tt?$:j,nt=tt?j:$,it=!!rt.prerelease.length;if(!!nt.prerelease.length&&!it)return!nt.patch&&!nt.minor?"major":rt.patch?"patch":rt.minor?"minor":"major";const ot=it?"pre":"";return $.major!==j.major?ot+"major":$.minor!==j.minor?ot+"minor":$.patch!==j.patch?ot+"patch":"prerelease"};var diff_1=diff$1;const SemVer$a=semver$2,major$1=(a,_)=>new SemVer$a(a,_).major;var major_1=major$1;const SemVer$9=semver$2,minor$1=(a,_)=>new SemVer$9(a,_).minor;var minor_1=minor$1;const SemVer$8=semver$2,patch$1=(a,_)=>new SemVer$8(a,_).patch;var patch_1=patch$1;const parse$6=parse_1,prerelease$1=(a,_)=>{const $=parse$6(a,_);return $&&$.prerelease.length?$.prerelease:null};var prerelease_1=prerelease$1;const SemVer$7=semver$2,compare$b=(a,_,$)=>new SemVer$7(a,$).compare(new SemVer$7(_,$));var compare_1=compare$b;const compare$a=compare_1,rcompare$1=(a,_,$)=>compare$a(_,a,$);var rcompare_1=rcompare$1;const compare$9=compare_1,compareLoose$1=(a,_)=>compare$9(a,_,!0);var compareLoose_1=compareLoose$1;const SemVer$6=semver$2,compareBuild$3=(a,_,$)=>{const j=new SemVer$6(a,$),et=new SemVer$6(_,$);return j.compare(et)||j.compareBuild(et)};var compareBuild_1=compareBuild$3;const compareBuild$2=compareBuild_1,sort$1=(a,_)=>a.sort(($,j)=>compareBuild$2($,j,_));var sort_1=sort$1;const compareBuild$1=compareBuild_1,rsort$1=(a,_)=>a.sort(($,j)=>compareBuild$1(j,$,_));var rsort_1=rsort$1;const compare$8=compare_1,gt$4=(a,_,$)=>compare$8(a,_,$)>0;var gt_1=gt$4;const compare$7=compare_1,lt$3=(a,_,$)=>compare$7(a,_,$)<0;var lt_1=lt$3;const compare$6=compare_1,eq$2=(a,_,$)=>compare$6(a,_,$)===0;var eq_1=eq$2;const compare$5=compare_1,neq$2=(a,_,$)=>compare$5(a,_,$)!==0;var neq_1=neq$2;const compare$4=compare_1,gte$3=(a,_,$)=>compare$4(a,_,$)>=0;var gte_1=gte$3;const compare$3=compare_1,lte$3=(a,_,$)=>compare$3(a,_,$)<=0;var lte_1=lte$3;const eq$1=eq_1,neq$1=neq_1,gt$3=gt_1,gte$2=gte_1,lt$2=lt_1,lte$2=lte_1,cmp$1=(a,_,$,j)=>{switch(_){case"===":return typeof a=="object"&&(a=a.version),typeof $=="object"&&($=$.version),a===$;case"!==":return typeof a=="object"&&(a=a.version),typeof $=="object"&&($=$.version),a!==$;case"":case"=":case"==":return eq$1(a,$,j);case"!=":return neq$1(a,$,j);case">":return gt$3(a,$,j);case">=":return gte$2(a,$,j);case"<":return lt$2(a,$,j);case"<=":return lte$2(a,$,j);default:throw new TypeError(`Invalid operator: ${_}`)}};var cmp_1=cmp$1;const SemVer$5=semver$2,parse$5=parse_1,{safeRe:re$1,t:t$1}=reExports,coerce$1=(a,_)=>{if(a instanceof SemVer$5)return a;if(typeof a=="number"&&(a=String(a)),typeof a!="string")return null;_=_||{};let $=null;if(!_.rtl)$=a.match(re$1[t$1.COERCE]);else{let j;for(;(j=re$1[t$1.COERCERTL].exec(a))&&(!$||$.index+$[0].length!==a.length);)(!$||j.index+j[0].length!==$.index+$[0].length)&&($=j),re$1[t$1.COERCERTL].lastIndex=j.index+j[1].length+j[2].length;re$1[t$1.COERCERTL].lastIndex=-1}return $===null?null:parse$5(`${$[2]}.${$[3]||"0"}.${$[4]||"0"}`,_)};var coerce_1=coerce$1,iterator$1,hasRequiredIterator;function requireIterator(){return hasRequiredIterator||(hasRequiredIterator=1,iterator$1=function(a){a.prototype[Symbol.iterator]=function*(){for(let _=this.head;_;_=_.next)yield _.value}}),iterator$1}var yallist=Yallist$1;Yallist$1.Node=Node$1;Yallist$1.create=Yallist$1;function Yallist$1(a){var _=this;if(_ instanceof Yallist$1||(_=new Yallist$1),_.tail=null,_.head=null,_.length=0,a&&typeof a.forEach=="function")a.forEach(function(et){_.push(et)});else if(arguments.length>0)for(var $=0,j=arguments.length;$<j;$++)_.push(arguments[$]);return _}Yallist$1.prototype.removeNode=function(a){if(a.list!==this)throw new Error("removing node which does not belong to this list");var _=a.next,$=a.prev;return _&&(_.prev=$),$&&($.next=_),a===this.head&&(this.head=_),a===this.tail&&(this.tail=$),a.list.length--,a.next=null,a.prev=null,a.list=null,_};Yallist$1.prototype.unshiftNode=function(a){if(a!==this.head){a.list&&a.list.removeNode(a);var _=this.head;a.list=this,a.next=_,_&&(_.prev=a),this.head=a,this.tail||(this.tail=a),this.length++}};Yallist$1.prototype.pushNode=function(a){if(a!==this.tail){a.list&&a.list.removeNode(a);var _=this.tail;a.list=this,a.prev=_,_&&(_.next=a),this.tail=a,this.head||(this.head=a),this.length++}};Yallist$1.prototype.push=function(){for(var a=0,_=arguments.length;a<_;a++)push(this,arguments[a]);return this.length};Yallist$1.prototype.unshift=function(){for(var a=0,_=arguments.length;a<_;a++)unshift(this,arguments[a]);return this.length};Yallist$1.prototype.pop=function(){if(this.tail){var a=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,a}};Yallist$1.prototype.shift=function(){if(this.head){var a=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,a}};Yallist$1.prototype.forEach=function(a,_){_=_||this;for(var $=this.head,j=0;$!==null;j++)a.call(_,$.value,j,this),$=$.next};Yallist$1.prototype.forEachReverse=function(a,_){_=_||this;for(var $=this.tail,j=this.length-1;$!==null;j--)a.call(_,$.value,j,this),$=$.prev};Yallist$1.prototype.get=function(a){for(var _=0,$=this.head;$!==null&&_<a;_++)$=$.next;if(_===a&&$!==null)return $.value};Yallist$1.prototype.getReverse=function(a){for(var _=0,$=this.tail;$!==null&&_<a;_++)$=$.prev;if(_===a&&$!==null)return $.value};Yallist$1.prototype.map=function(a,_){_=_||this;for(var $=new Yallist$1,j=this.head;j!==null;)$.push(a.call(_,j.value,this)),j=j.next;return $};Yallist$1.prototype.mapReverse=function(a,_){_=_||this;for(var $=new Yallist$1,j=this.tail;j!==null;)$.push(a.call(_,j.value,this)),j=j.prev;return $};Yallist$1.prototype.reduce=function(a,_){var $,j=this.head;if(arguments.length>1)$=_;else if(this.head)j=this.head.next,$=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var et=0;j!==null;et++)$=a($,j.value,et),j=j.next;return $};Yallist$1.prototype.reduceReverse=function(a,_){var $,j=this.tail;if(arguments.length>1)$=_;else if(this.tail)j=this.tail.prev,$=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var et=this.length-1;j!==null;et--)$=a($,j.value,et),j=j.prev;return $};Yallist$1.prototype.toArray=function(){for(var a=new Array(this.length),_=0,$=this.head;$!==null;_++)a[_]=$.value,$=$.next;return a};Yallist$1.prototype.toArrayReverse=function(){for(var a=new Array(this.length),_=0,$=this.tail;$!==null;_++)a[_]=$.value,$=$.prev;return a};Yallist$1.prototype.slice=function(a,_){_=_||this.length,_<0&&(_+=this.length),a=a||0,a<0&&(a+=this.length);var $=new Yallist$1;if(_<a||_<0)return $;a<0&&(a=0),_>this.length&&(_=this.length);for(var j=0,et=this.head;et!==null&&j<a;j++)et=et.next;for(;et!==null&&j<_;j++,et=et.next)$.push(et.value);return $};Yallist$1.prototype.sliceReverse=function(a,_){_=_||this.length,_<0&&(_+=this.length),a=a||0,a<0&&(a+=this.length);var $=new Yallist$1;if(_<a||_<0)return $;a<0&&(a=0),_>this.length&&(_=this.length);for(var j=this.length,et=this.tail;et!==null&&j>_;j--)et=et.prev;for(;et!==null&&j>a;j--,et=et.prev)$.push(et.value);return $};Yallist$1.prototype.splice=function(a,_,...$){a>this.length&&(a=this.length-1),a<0&&(a=this.length+a);for(var j=0,et=this.head;et!==null&&j<a;j++)et=et.next;for(var tt=[],j=0;et&&j<_;j++)tt.push(et.value),et=this.removeNode(et);et===null&&(et=this.tail),et!==this.head&&et!==this.tail&&(et=et.prev);for(var j=0;j<$.length;j++)et=insert(this,et,$[j]);return tt};Yallist$1.prototype.reverse=function(){for(var a=this.head,_=this.tail,$=a;$!==null;$=$.prev){var j=$.prev;$.prev=$.next,$.next=j}return this.head=_,this.tail=a,this};function insert(a,_,$){var j=_===a.head?new Node$1($,null,_,a):new Node$1($,_,_.next,a);return j.next===null&&(a.tail=j),j.prev===null&&(a.head=j),a.length++,j}function push(a,_){a.tail=new Node$1(_,a.tail,null,a),a.head||(a.head=a.tail),a.length++}function unshift(a,_){a.head=new Node$1(_,null,a.head,a),a.tail||(a.tail=a.head),a.length++}function Node$1(a,_,$,j){if(!(this instanceof Node$1))return new Node$1(a,_,$,j);this.list=j,this.value=a,_?(_.next=this,this.prev=_):this.prev=null,$?($.prev=this,this.next=$):this.next=null}try{requireIterator()(Yallist$1)}catch(a){}const Yallist=yallist,MAX=Symbol("max"),LENGTH$1=Symbol("length"),LENGTH_CALCULATOR=Symbol("lengthCalculator"),ALLOW_STALE=Symbol("allowStale"),MAX_AGE=Symbol("maxAge"),DISPOSE=Symbol("dispose"),NO_DISPOSE_ON_SET=Symbol("noDisposeOnSet"),LRU_LIST=Symbol("lruList"),CACHE=Symbol("cache"),UPDATE_AGE_ON_GET=Symbol("updateAgeOnGet"),naiveLength=()=>1;class LRUCache{constructor(_){if(typeof _=="number"&&(_={max:_}),_||(_={}),_.max&&(typeof _.max!="number"||_.max<0))throw new TypeError("max must be a non-negative number");this[MAX]=_.max||1/0;const $=_.length||naiveLength;if(this[LENGTH_CALCULATOR]=typeof $!="function"?naiveLength:$,this[ALLOW_STALE]=_.stale||!1,_.maxAge&&typeof _.maxAge!="number")throw new TypeError("maxAge must be a number");this[MAX_AGE]=_.maxAge||0,this[DISPOSE]=_.dispose,this[NO_DISPOSE_ON_SET]=_.noDisposeOnSet||!1,this[UPDATE_AGE_ON_GET]=_.updateAgeOnGet||!1,this.reset()}set max(_){if(typeof _!="number"||_<0)throw new TypeError("max must be a non-negative number");this[MAX]=_||1/0,trim(this)}get max(){return this[MAX]}set allowStale(_){this[ALLOW_STALE]=!!_}get allowStale(){return this[ALLOW_STALE]}set maxAge(_){if(typeof _!="number")throw new TypeError("maxAge must be a non-negative number");this[MAX_AGE]=_,trim(this)}get maxAge(){return this[MAX_AGE]}set lengthCalculator(_){typeof _!="function"&&(_=naiveLength),_!==this[LENGTH_CALCULATOR]&&(this[LENGTH_CALCULATOR]=_,this[LENGTH$1]=0,this[LRU_LIST].forEach($=>{$.length=this[LENGTH_CALCULATOR]($.value,$.key),this[LENGTH$1]+=$.length})),trim(this)}get lengthCalculator(){return this[LENGTH_CALCULATOR]}get length(){return this[LENGTH$1]}get itemCount(){return this[LRU_LIST].length}rforEach(_,$){$=$||this;for(let j=this[LRU_LIST].tail;j!==null;){const et=j.prev;forEachStep(this,_,j,$),j=et}}forEach(_,$){$=$||this;for(let j=this[LRU_LIST].head;j!==null;){const et=j.next;forEachStep(this,_,j,$),j=et}}keys(){return this[LRU_LIST].toArray().map(_=>_.key)}values(){return this[LRU_LIST].toArray().map(_=>_.value)}reset(){this[DISPOSE]&&this[LRU_LIST]&&this[LRU_LIST].length&&this[LRU_LIST].forEach(_=>this[DISPOSE](_.key,_.value)),this[CACHE]=new Map,this[LRU_LIST]=new Yallist,this[LENGTH$1]=0}dump(){return this[LRU_LIST].map(_=>isStale$1(this,_)?!1:{k:_.key,v:_.value,e:_.now+(_.maxAge||0)}).toArray().filter(_=>_)}dumpLru(){return this[LRU_LIST]}set(_,$,j){if(j=j||this[MAX_AGE],j&&typeof j!="number")throw new TypeError("maxAge must be a number");const et=j?Date.now():0,tt=this[LENGTH_CALCULATOR]($,_);if(this[CACHE].has(_)){if(tt>this[MAX])return del(this,this[CACHE].get(_)),!1;const it=this[CACHE].get(_).value;return this[DISPOSE]&&(this[NO_DISPOSE_ON_SET]||this[DISPOSE](_,it.value)),it.now=et,it.maxAge=j,it.value=$,this[LENGTH$1]+=tt-it.length,it.length=tt,this.get(_),trim(this),!0}const rt=new Entry(_,$,tt,et,j);return rt.length>this[MAX]?(this[DISPOSE]&&this[DISPOSE](_,$),!1):(this[LENGTH$1]+=rt.length,this[LRU_LIST].unshift(rt),this[CACHE].set(_,this[LRU_LIST].head),trim(this),!0)}has(_){if(!this[CACHE].has(_))return!1;const $=this[CACHE].get(_).value;return!isStale$1(this,$)}get(_){return get$1(this,_,!0)}peek(_){return get$1(this,_,!1)}pop(){const _=this[LRU_LIST].tail;return _?(del(this,_),_.value):null}del(_){del(this,this[CACHE].get(_))}load(_){this.reset();const $=Date.now();for(let j=_.length-1;j>=0;j--){const et=_[j],tt=et.e||0;if(tt===0)this.set(et.k,et.v);else{const rt=tt-$;rt>0&&this.set(et.k,et.v,rt)}}}prune(){this[CACHE].forEach((_,$)=>get$1(this,$,!1))}}const get$1=(a,_,$)=>{const j=a[CACHE].get(_);if(j){const et=j.value;if(isStale$1(a,et)){if(del(a,j),!a[ALLOW_STALE])return}else $&&(a[UPDATE_AGE_ON_GET]&&(j.value.now=Date.now()),a[LRU_LIST].unshiftNode(j));return et.value}},isStale$1=(a,_)=>{if(!_||!_.maxAge&&!a[MAX_AGE])return!1;const $=Date.now()-_.now;return _.maxAge?$>_.maxAge:a[MAX_AGE]&&$>a[MAX_AGE]},trim=a=>{if(a[LENGTH$1]>a[MAX])for(let _=a[LRU_LIST].tail;a[LENGTH$1]>a[MAX]&&_!==null;){const $=_.prev;del(a,_),_=$}},del=(a,_)=>{if(_){const $=_.value;a[DISPOSE]&&a[DISPOSE]($.key,$.value),a[LENGTH$1]-=$.length,a[CACHE].delete($.key),a[LRU_LIST].removeNode(_)}};class Entry{constructor(_,$,j,et,tt){this.key=_,this.value=$,this.length=j,this.now=et,this.maxAge=tt||0}}const forEachStep=(a,_,$,j)=>{let et=$.value;isStale$1(a,et)&&(del(a,$),a[ALLOW_STALE]||(et=void 0)),et&&_.call(j,et.value,et.key,a)};var lruCache=LRUCache,range$1,hasRequiredRange;function requireRange(){if(hasRequiredRange)return range$1;hasRequiredRange=1;class a{constructor(ct,dt){if(dt=j(dt),ct instanceof a)return ct.loose===!!dt.loose&&ct.includePrerelease===!!dt.includePrerelease?ct:new a(ct.raw,dt);if(ct instanceof et)return this.raw=ct.value,this.set=[[ct]],this.format(),this;if(this.options=dt,this.loose=!!dt.loose,this.includePrerelease=!!dt.includePrerelease,this.raw=ct.trim().split(/\s+/).join(" "),this.set=this.raw.split("||").map(mt=>this.parseRange(mt.trim())).filter(mt=>mt.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const mt=this.set[0];if(this.set=this.set.filter(xt=>!yt(xt[0])),this.set.length===0)this.set=[mt];else if(this.set.length>1){for(const xt of this.set)if(xt.length===1&&wt(xt[0])){this.set=[xt];break}}}this.format()}format(){return this.range=this.set.map(ct=>ct.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(ct){const mt=((this.options.includePrerelease&&ut)|(this.options.loose&&ht))+":"+ct,xt=$.get(mt);if(xt)return xt;const At=this.options.loose,Rt=At?nt[it.HYPHENRANGELOOSE]:nt[it.HYPHENRANGE];ct=ct.replace(Rt,jt(this.options.includePrerelease)),tt("hyphen replace",ct),ct=ct.replace(nt[it.COMPARATORTRIM],st),tt("comparator trim",ct),ct=ct.replace(nt[it.TILDETRIM],ot),tt("tilde trim",ct),ct=ct.replace(nt[it.CARETTRIM],at),tt("caret trim",ct);let St=ct.split(" ").map(tr=>Pt(tr,this.options)).join(" ").split(/\s+/).map(tr=>Ft(tr,this.options));At&&(St=St.filter(tr=>(tt("loose invalid filter",tr,this.options),!!tr.match(nt[it.COMPARATORLOOSE])))),tt("range list",St);const $t=new Map,Et=St.map(tr=>new et(tr,this.options));for(const tr of Et){if(yt(tr))return[tr];$t.set(tr.value,tr)}$t.size>1&&$t.has("")&&$t.delete("");const Nt=[...$t.values()];return $.set(mt,Nt),Nt}intersects(ct,dt){if(!(ct instanceof a))throw new TypeError("a Range is required");return this.set.some(mt=>Ct(mt,dt)&&ct.set.some(xt=>Ct(xt,dt)&&mt.every(At=>xt.every(Rt=>At.intersects(Rt,dt)))))}test(ct){if(!ct)return!1;if(typeof ct=="string")try{ct=new rt(ct,this.options)}catch{return!1}for(let dt=0;dt<this.set.length;dt++)if(bt(this.set[dt],ct,this.options))return!0;return!1}}range$1=a;const _=lruCache,$=new _({max:1e3}),j=parseOptions_1,et=requireComparator(),tt=debug_1,rt=semver$2,{safeRe:nt,t:it,comparatorTrimReplace:st,tildeTrimReplace:ot,caretTrimReplace:at}=reExports,{FLAG_INCLUDE_PRERELEASE:ut,FLAG_LOOSE:ht}=constants$3,yt=vt=>vt.value==="<0.0.0-0",wt=vt=>vt.value==="",Ct=(vt,ct)=>{let dt=!0;const mt=vt.slice();let xt=mt.pop();for(;dt&&mt.length;)dt=mt.every(At=>xt.intersects(At,ct)),xt=mt.pop();return dt},Pt=(vt,ct)=>(tt("comp",vt,ct),vt=Dt(vt,ct),tt("caret",vt),vt=Mt(vt,ct),tt("tildes",vt),vt=Ot(vt,ct),tt("xrange",vt),vt=Bt(vt,ct),tt("stars",vt),vt),Tt=vt=>!vt||vt.toLowerCase()==="x"||vt==="*",Mt=(vt,ct)=>vt.trim().split(/\s+/).map(dt=>Lt(dt,ct)).join(" "),Lt=(vt,ct)=>{const dt=ct.loose?nt[it.TILDELOOSE]:nt[it.TILDE];return vt.replace(dt,(mt,xt,At,Rt,St)=>{tt("tilde",vt,mt,xt,At,Rt,St);let $t;return Tt(xt)?$t="":Tt(At)?$t=`>=${xt}.0.0 <${+xt+1}.0.0-0`:Tt(Rt)?$t=`>=${xt}.${At}.0 <${xt}.${+At+1}.0-0`:St?(tt("replaceTilde pr",St),$t=`>=${xt}.${At}.${Rt}-${St} <${xt}.${+At+1}.0-0`):$t=`>=${xt}.${At}.${Rt} <${xt}.${+At+1}.0-0`,tt("tilde return",$t),$t})},Dt=(vt,ct)=>vt.trim().split(/\s+/).map(dt=>Ut(dt,ct)).join(" "),Ut=(vt,ct)=>{tt("caret",vt,ct);const dt=ct.loose?nt[it.CARETLOOSE]:nt[it.CARET],mt=ct.includePrerelease?"-0":"";return vt.replace(dt,(xt,At,Rt,St,$t)=>{tt("caret",vt,xt,At,Rt,St,$t);let Et;return Tt(At)?Et="":Tt(Rt)?Et=`>=${At}.0.0${mt} <${+At+1}.0.0-0`:Tt(St)?At==="0"?Et=`>=${At}.${Rt}.0${mt} <${At}.${+Rt+1}.0-0`:Et=`>=${At}.${Rt}.0${mt} <${+At+1}.0.0-0`:$t?(tt("replaceCaret pr",$t),At==="0"?Rt==="0"?Et=`>=${At}.${Rt}.${St}-${$t} <${At}.${Rt}.${+St+1}-0`:Et=`>=${At}.${Rt}.${St}-${$t} <${At}.${+Rt+1}.0-0`:Et=`>=${At}.${Rt}.${St}-${$t} <${+At+1}.0.0-0`):(tt("no pr"),At==="0"?Rt==="0"?Et=`>=${At}.${Rt}.${St}${mt} <${At}.${Rt}.${+St+1}-0`:Et=`>=${At}.${Rt}.${St}${mt} <${At}.${+Rt+1}.0-0`:Et=`>=${At}.${Rt}.${St} <${+At+1}.0.0-0`),tt("caret return",Et),Et})},Ot=(vt,ct)=>(tt("replaceXRanges",vt,ct),vt.split(/\s+/).map(dt=>It(dt,ct)).join(" ")),It=(vt,ct)=>{vt=vt.trim();const dt=ct.loose?nt[it.XRANGELOOSE]:nt[it.XRANGE];return vt.replace(dt,(mt,xt,At,Rt,St,$t)=>{tt("xRange",vt,mt,xt,At,Rt,St,$t);const Et=Tt(At),Nt=Et||Tt(Rt),tr=Nt||Tt(St),ir=tr;return xt==="="&&ir&&(xt=""),$t=ct.includePrerelease?"-0":"",Et?xt===">"||xt==="<"?mt="<0.0.0-0":mt="*":xt&&ir?(Nt&&(Rt=0),St=0,xt===">"?(xt=">=",Nt?(At=+At+1,Rt=0,St=0):(Rt=+Rt+1,St=0)):xt==="<="&&(xt="<",Nt?At=+At+1:Rt=+Rt+1),xt==="<"&&($t="-0"),mt=`${xt+At}.${Rt}.${St}${$t}`):Nt?mt=`>=${At}.0.0${$t} <${+At+1}.0.0-0`:tr&&(mt=`>=${At}.${Rt}.0${$t} <${At}.${+Rt+1}.0-0`),tt("xRange return",mt),mt})},Bt=(vt,ct)=>(tt("replaceStars",vt,ct),vt.trim().replace(nt[it.STAR],"")),Ft=(vt,ct)=>(tt("replaceGTE0",vt,ct),vt.trim().replace(nt[ct.includePrerelease?it.GTE0PRE:it.GTE0],"")),jt=vt=>(ct,dt,mt,xt,At,Rt,St,$t,Et,Nt,tr,ir,nr)=>(Tt(mt)?dt="":Tt(xt)?dt=`>=${mt}.0.0${vt?"-0":""}`:Tt(At)?dt=`>=${mt}.${xt}.0${vt?"-0":""}`:Rt?dt=`>=${dt}`:dt=`>=${dt}${vt?"-0":""}`,Tt(Et)?$t="":Tt(Nt)?$t=`<${+Et+1}.0.0-0`:Tt(tr)?$t=`<${Et}.${+Nt+1}.0-0`:ir?$t=`<=${Et}.${Nt}.${tr}-${ir}`:vt?$t=`<${Et}.${Nt}.${+tr+1}-0`:$t=`<=${$t}`,`${dt} ${$t}`.trim()),bt=(vt,ct,dt)=>{for(let mt=0;mt<vt.length;mt++)if(!vt[mt].test(ct))return!1;if(ct.prerelease.length&&!dt.includePrerelease){for(let mt=0;mt<vt.length;mt++)if(tt(vt[mt].semver),vt[mt].semver!==et.ANY&&vt[mt].semver.prerelease.length>0){const xt=vt[mt].semver;if(xt.major===ct.major&&xt.minor===ct.minor&&xt.patch===ct.patch)return!0}return!1}return!0};return range$1}var comparator,hasRequiredComparator;function requireComparator(){if(hasRequiredComparator)return comparator;hasRequiredComparator=1;const a=Symbol("SemVer ANY");class _{static get ANY(){return a}constructor(ot,at){if(at=$(at),ot instanceof _){if(ot.loose===!!at.loose)return ot;ot=ot.value}ot=ot.trim().split(/\s+/).join(" "),rt("comparator",ot,at),this.options=at,this.loose=!!at.loose,this.parse(ot),this.semver===a?this.value="":this.value=this.operator+this.semver.version,rt("comp",this)}parse(ot){const at=this.options.loose?j[et.COMPARATORLOOSE]:j[et.COMPARATOR],ut=ot.match(at);if(!ut)throw new TypeError(`Invalid comparator: ${ot}`);this.operator=ut[1]!==void 0?ut[1]:"",this.operator==="="&&(this.operator=""),ut[2]?this.semver=new nt(ut[2],this.options.loose):this.semver=a}toString(){return this.value}test(ot){if(rt("Comparator.test",ot,this.options.loose),this.semver===a||ot===a)return!0;if(typeof ot=="string")try{ot=new nt(ot,this.options)}catch{return!1}return tt(ot,this.operator,this.semver,this.options)}intersects(ot,at){if(!(ot instanceof _))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new it(ot.value,at).test(this.value):ot.operator===""?ot.value===""?!0:new it(this.value,at).test(ot.semver):(at=$(at),at.includePrerelease&&(this.value==="<0.0.0-0"||ot.value==="<0.0.0-0")||!at.includePrerelease&&(this.value.startsWith("<0.0.0")||ot.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&ot.operator.startsWith(">")||this.operator.startsWith("<")&&ot.operator.startsWith("<")||this.semver.version===ot.semver.version&&this.operator.includes("=")&&ot.operator.includes("=")||tt(this.semver,"<",ot.semver,at)&&this.operator.startsWith(">")&&ot.operator.startsWith("<")||tt(this.semver,">",ot.semver,at)&&this.operator.startsWith("<")&&ot.operator.startsWith(">")))}}comparator=_;const $=parseOptions_1,{safeRe:j,t:et}=reExports,tt=cmp_1,rt=debug_1,nt=semver$2,it=requireRange();return comparator}const Range$9=requireRange(),satisfies$4=(a,_,$)=>{try{_=new Range$9(_,$)}catch{return!1}return _.test(a)};var satisfies_1=satisfies$4;const Range$8=requireRange(),toComparators$1=(a,_)=>new Range$8(a,_).set.map($=>$.map(j=>j.value).join(" ").trim().split(" "));var toComparators_1=toComparators$1;const SemVer$4=semver$2,Range$7=requireRange(),maxSatisfying$1=(a,_,$)=>{let j=null,et=null,tt=null;try{tt=new Range$7(_,$)}catch{return null}return a.forEach(rt=>{tt.test(rt)&&(!j||et.compare(rt)===-1)&&(j=rt,et=new SemVer$4(j,$))}),j};var maxSatisfying_1=maxSatisfying$1;const SemVer$3=semver$2,Range$6=requireRange(),minSatisfying$1=(a,_,$)=>{let j=null,et=null,tt=null;try{tt=new Range$6(_,$)}catch{return null}return a.forEach(rt=>{tt.test(rt)&&(!j||et.compare(rt)===1)&&(j=rt,et=new SemVer$3(j,$))}),j};var minSatisfying_1=minSatisfying$1;const SemVer$2=semver$2,Range$5=requireRange(),gt$2=gt_1,minVersion$1=(a,_)=>{a=new Range$5(a,_);let $=new SemVer$2("0.0.0");if(a.test($)||($=new SemVer$2("0.0.0-0"),a.test($)))return $;$=null;for(let j=0;j<a.set.length;++j){const et=a.set[j];let tt=null;et.forEach(rt=>{const nt=new SemVer$2(rt.semver.version);switch(rt.operator){case">":nt.prerelease.length===0?nt.patch++:nt.prerelease.push(0),nt.raw=nt.format();case"":case">=":(!tt||gt$2(nt,tt))&&(tt=nt);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${rt.operator}`)}}),tt&&(!$||gt$2($,tt))&&($=tt)}return $&&a.test($)?$:null};var minVersion_1=minVersion$1;const Range$4=requireRange(),validRange$1=(a,_)=>{try{return new Range$4(a,_).range||"*"}catch{return null}};var valid$1=validRange$1;const SemVer$1=semver$2,Comparator$2=requireComparator(),{ANY:ANY$1}=Comparator$2,Range$3=requireRange(),satisfies$3=satisfies_1,gt$1=gt_1,lt$1=lt_1,lte$1=lte_1,gte$1=gte_1,outside$3=(a,_,$,j)=>{a=new SemVer$1(a,j),_=new Range$3(_,j);let et,tt,rt,nt,it;switch($){case">":et=gt$1,tt=lte$1,rt=lt$1,nt=">",it=">=";break;case"<":et=lt$1,tt=gte$1,rt=gt$1,nt="<",it="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(satisfies$3(a,_,j))return!1;for(let st=0;st<_.set.length;++st){const ot=_.set[st];let at=null,ut=null;if(ot.forEach(ht=>{ht.semver===ANY$1&&(ht=new Comparator$2(">=0.0.0")),at=at||ht,ut=ut||ht,et(ht.semver,at.semver,j)?at=ht:rt(ht.semver,ut.semver,j)&&(ut=ht)}),at.operator===nt||at.operator===it||(!ut.operator||ut.operator===nt)&&tt(a,ut.semver))return!1;if(ut.operator===it&&rt(a,ut.semver))return!1}return!0};var outside_1=outside$3;const outside$2=outside_1,gtr$1=(a,_,$)=>outside$2(a,_,">",$);var gtr_1=gtr$1;const outside$1=outside_1,ltr$1=(a,_,$)=>outside$1(a,_,"<",$);var ltr_1=ltr$1;const Range$2=requireRange(),intersects$1=(a,_,$)=>(a=new Range$2(a,$),_=new Range$2(_,$),a.intersects(_,$));var intersects_1=intersects$1;const satisfies$2=satisfies_1,compare$2=compare_1;var simplify=(a,_,$)=>{const j=[];let et=null,tt=null;const rt=a.sort((ot,at)=>compare$2(ot,at,$));for(const ot of rt)satisfies$2(ot,_,$)?(tt=ot,et||(et=ot)):(tt&&j.push([et,tt]),tt=null,et=null);et&&j.push([et,null]);const nt=[];for(const[ot,at]of j)ot===at?nt.push(ot):!at&&ot===rt[0]?nt.push("*"):at?ot===rt[0]?nt.push(`<=${at}`):nt.push(`${ot} - ${at}`):nt.push(`>=${ot}`);const it=nt.join(" || "),st=typeof _.raw=="string"?_.raw:String(_);return it.length<st.length?it:_};const Range$1=requireRange(),Comparator$1=requireComparator(),{ANY}=Comparator$1,satisfies$1=satisfies_1,compare$1=compare_1,subset$1=(a,_,$={})=>{if(a===_)return!0;a=new Range$1(a,$),_=new Range$1(_,$);let j=!1;e:for(const et of a.set){for(const tt of _.set){const rt=simpleSubset(et,tt,$);if(j=j||rt!==null,rt)continue e}if(j)return!1}return!0},minimumVersionWithPreRelease=[new Comparator$1(">=0.0.0-0")],minimumVersion=[new Comparator$1(">=0.0.0")],simpleSubset=(a,_,$)=>{if(a===_)return!0;if(a.length===1&&a[0].semver===ANY){if(_.length===1&&_[0].semver===ANY)return!0;$.includePrerelease?a=minimumVersionWithPreRelease:a=minimumVersion}if(_.length===1&&_[0].semver===ANY){if($.includePrerelease)return!0;_=minimumVersion}const j=new Set;let et,tt;for(const ht of a)ht.operator===">"||ht.operator===">="?et=higherGT(et,ht,$):ht.operator==="<"||ht.operator==="<="?tt=lowerLT(tt,ht,$):j.add(ht.semver);if(j.size>1)return null;let rt;if(et&&tt){if(rt=compare$1(et.semver,tt.semver,$),rt>0)return null;if(rt===0&&(et.operator!==">="||tt.operator!=="<="))return null}for(const ht of j){if(et&&!satisfies$1(ht,String(et),$)||tt&&!satisfies$1(ht,String(tt),$))return null;for(const yt of _)if(!satisfies$1(ht,String(yt),$))return!1;return!0}let nt,it,st,ot,at=tt&&!$.includePrerelease&&tt.semver.prerelease.length?tt.semver:!1,ut=et&&!$.includePrerelease&&et.semver.prerelease.length?et.semver:!1;at&&at.prerelease.length===1&&tt.operator==="<"&&at.prerelease[0]===0&&(at=!1);for(const ht of _){if(ot=ot||ht.operator===">"||ht.operator===">=",st=st||ht.operator==="<"||ht.operator==="<=",et){if(ut&&ht.semver.prerelease&&ht.semver.prerelease.length&&ht.semver.major===ut.major&&ht.semver.minor===ut.minor&&ht.semver.patch===ut.patch&&(ut=!1),ht.operator===">"||ht.operator===">="){if(nt=higherGT(et,ht,$),nt===ht&&nt!==et)return!1}else if(et.operator===">="&&!satisfies$1(et.semver,String(ht),$))return!1}if(tt){if(at&&ht.semver.prerelease&&ht.semver.prerelease.length&&ht.semver.major===at.major&&ht.semver.minor===at.minor&&ht.semver.patch===at.patch&&(at=!1),ht.operator==="<"||ht.operator==="<="){if(it=lowerLT(tt,ht,$),it===ht&&it!==tt)return!1}else if(tt.operator==="<="&&!satisfies$1(tt.semver,String(ht),$))return!1}if(!ht.operator&&(tt||et)&&rt!==0)return!1}return!(et&&st&&!tt&&rt!==0||tt&&ot&&!et&&rt!==0||ut||at)},higherGT=(a,_,$)=>{if(!a)return _;const j=compare$1(a.semver,_.semver,$);return j>0?a:j<0||_.operator===">"&&a.operator===">="?_:a},lowerLT=(a,_,$)=>{if(!a)return _;const j=compare$1(a.semver,_.semver,$);return j<0?a:j>0||_.operator==="<"&&a.operator==="<="?_:a};var subset_1=subset$1;const internalRe=reExports,constants$1=constants$3,SemVer=semver$2,identifiers=identifiers$1,parse$4=parse_1,valid=valid_1,clean=clean_1,inc=inc_1,diff=diff_1,major=major_1,minor=minor_1,patch=patch_1,prerelease=prerelease_1,compare=compare_1,rcompare=rcompare_1,compareLoose=compareLoose_1,compareBuild=compareBuild_1,sort=sort_1,rsort=rsort_1,gt=gt_1,lt=lt_1,eq=eq_1,neq=neq_1,gte=gte_1,lte=lte_1,cmp=cmp_1,coerce=coerce_1,Comparator=requireComparator(),Range=requireRange(),satisfies=satisfies_1,toComparators=toComparators_1,maxSatisfying=maxSatisfying_1,minSatisfying=minSatisfying_1,minVersion=minVersion_1,validRange=valid$1,outside=outside_1,gtr=gtr_1,ltr=ltr_1,intersects=intersects_1,simplifyRange=simplify,subset=subset_1;var semver={parse:parse$4,valid,clean,inc,diff,major,minor,patch,prerelease,compare,rcompare,compareLoose,compareBuild,sort,rsort,gt,lt,eq,neq,gte,lte,cmp,coerce,Comparator,Range,satisfies,toComparators,maxSatisfying,minSatisfying,minVersion,validRange,outside,gtr,ltr,intersects,simplifyRange,subset,SemVer,re:internalRe.re,src:internalRe.src,tokens:internalRe.t,SEMVER_SPEC_VERSION:constants$1.SEMVER_SPEC_VERSION,RELEASE_TYPES:constants$1.RELEASE_TYPES,compareIdentifiers:identifiers.compareIdentifiers,rcompareIdentifiers:identifiers.rcompareIdentifiers};const semver$1=getDefaultExportFromCjs$1(semver);var DeviceModelId;(function(a){a.blue="blue",a.nanoS="nanoS",a.nanoSP="nanoSP",a.nanoX="nanoX",a.stax="stax",a.europa="europa"})(DeviceModelId||(DeviceModelId={}));const devices={[DeviceModelId.blue]:{id:DeviceModelId.blue,productName:"Ledger Blue",productIdMM:0,legacyUsbProductId:0,usbOnly:!0,memorySize:480*1024,masks:[822083584,822149120],getBlockSize:a=>4*1024},[DeviceModelId.nanoS]:{id:DeviceModelId.nanoS,productName:"Ledger Nano S",productIdMM:16,legacyUsbProductId:1,usbOnly:!0,memorySize:320*1024,masks:[823132160],getBlockSize:a=>{var _;return semver$1.lt((_=semver$1.coerce(a))!==null&&_!==void 0?_:"","2.0.0")?4*1024:2*1024}},[DeviceModelId.nanoX]:{id:DeviceModelId.nanoX,productName:"Ledger Nano X",productIdMM:64,legacyUsbProductId:4,usbOnly:!1,memorySize:2*1024*1024,masks:[855638016],getBlockSize:a=>4*1024,bluetoothSpec:[{serviceUuid:"13d63400-2c97-0004-0000-4c6564676572",notifyUuid:"13d63400-2c97-0004-0001-4c6564676572",writeUuid:"13d63400-2c97-0004-0002-4c6564676572",writeCmdUuid:"13d63400-2c97-0004-0003-4c6564676572"}]},[DeviceModelId.nanoSP]:{id:DeviceModelId.nanoSP,productName:"Ledger Nano S Plus",productIdMM:80,legacyUsbProductId:5,usbOnly:!0,memorySize:1533*1024,masks:[856686592],getBlockSize:a=>32},[DeviceModelId.stax]:{id:DeviceModelId.stax,productName:"Ledger Stax",productIdMM:96,legacyUsbProductId:6,usbOnly:!1,memorySize:1533*1024,masks:[857735168],getBlockSize:a=>32,bluetoothSpec:[{serviceUuid:"13d63400-2c97-6004-0000-4c6564676572",notifyUuid:"13d63400-2c97-6004-0001-4c6564676572",writeUuid:"13d63400-2c97-6004-0002-4c6564676572",writeCmdUuid:"13d63400-2c97-6004-0003-4c6564676572"}]},[DeviceModelId.europa]:{id:DeviceModelId.europa,productName:"Ledger Europa",productIdMM:112,legacyUsbProductId:7,usbOnly:!1,memorySize:1533*1024,masks:[858783744],getBlockSize:a=>32,bluetoothSpec:[{serviceUuid:"13d63400-2c97-3004-0000-4c6564676572",notifyUuid:"13d63400-2c97-3004-0001-4c6564676572",writeUuid:"13d63400-2c97-3004-0002-4c6564676572",writeCmdUuid:"13d63400-2c97-3004-0003-4c6564676572"}]}};DeviceModelId.blue,DeviceModelId.nanoS,DeviceModelId.nanoSP,DeviceModelId.nanoX,DeviceModelId.stax,DeviceModelId.europa;const devicesList=Object.values(devices),ledgerUSBVendorId=11415,identifyUSBProductId=a=>{const _=devicesList.find(et=>et.legacyUsbProductId===a);if(_)return _;const $=a>>8;return devicesList.find(et=>et.productIdMM===$)},bluetoothServices=[],serviceUuidToInfos={};for(const a in devices){const _=devices[a],{bluetoothSpec:$}=_;if($)for(let j=0;j<$.length;j++){const et=$[j];bluetoothServices.push(et.serviceUuid),serviceUuidToInfos[et.serviceUuid]=serviceUuidToInfos[et.serviceUuid.replace(/-/g,"")]=Object.assign({deviceModel:_},et)}}var __awaiter$6=function(a,_,$,j){function et(tt){return tt instanceof $?tt:new $(function(rt){rt(tt)})}return new($||($=Promise))(function(tt,rt){function nt(ot){try{st(j.next(ot))}catch(at){rt(at)}}function it(ot){try{st(j.throw(ot))}catch(at){rt(at)}}function st(ot){ot.done?tt(ot.value):et(ot.value).then(nt,it)}st((j=j.apply(a,_||[])).next())})};const ledgerDevices=[{vendorId:ledgerUSBVendorId}];function requestLedgerDevice(){return __awaiter$6(this,void 0,void 0,function*(){return yield navigator.usb.requestDevice({filters:ledgerDevices})})}function getLedgerDevices(){return __awaiter$6(this,void 0,void 0,function*(){return(yield navigator.usb.getDevices()).filter(_=>_.vendorId===ledgerUSBVendorId)})}function getFirstLedgerDevice(){return __awaiter$6(this,void 0,void 0,function*(){const a=yield getLedgerDevices();return a.length>0?a[0]:requestLedgerDevice()})}const isSupported=()=>Promise.resolve(!!navigator&&!!navigator.usb&&typeof navigator.usb.getDevices=="function");var __awaiter$5=function(a,_,$,j){function et(tt){return tt instanceof $?tt:new $(function(rt){rt(tt)})}return new($||($=Promise))(function(tt,rt){function nt(ot){try{st(j.next(ot))}catch(at){rt(at)}}function it(ot){try{st(j.throw(ot))}catch(at){rt(at)}}function st(ot){ot.done?tt(ot.value):et(ot.value).then(nt,it)}st((j=j.apply(a,_||[])).next())})};const configurationValue=1,endpointNumber=3;class TransportWebUSB extends Transport$1{constructor(_,$){super(),this.channel=Math.floor(Math.random()*65535),this.packetSize=64,this._disconnectEmitted=!1,this._emitDisconnect=j=>{this._disconnectEmitted||(this._disconnectEmitted=!0,this.emit("disconnect",j))},this.device=_,this.interfaceNumber=$,this.deviceModel=identifyUSBProductId(_.productId)}static request(){return __awaiter$5(this,void 0,void 0,function*(){const _=yield requestLedgerDevice();return TransportWebUSB.open(_)})}static openConnected(){return __awaiter$5(this,void 0,void 0,function*(){const _=yield getLedgerDevices();return _.length===0?null:TransportWebUSB.open(_[0])})}static open(_){return __awaiter$5(this,void 0,void 0,function*(){yield _.open(),_.configuration===null&&(yield _.selectConfiguration(configurationValue)),yield gracefullyResetDevice(_);const $=_.configurations[0].interfaces.find(({alternates:rt})=>rt.some(nt=>nt.interfaceClass===255));if(!$)throw new TransportInterfaceNotAvailable("No WebUSB interface found for your Ledger device. Please upgrade firmware or contact techsupport.");const j=$.interfaceNumber;try{yield _.claimInterface(j)}catch(rt){throw yield _.close(),new TransportInterfaceNotAvailable(rt.message)}const et=new TransportWebUSB(_,j),tt=rt=>{_===rt.device&&(navigator.usb.removeEventListener("disconnect",tt),et._emitDisconnect(new DisconnectedDevice))};return navigator.usb.addEventListener("disconnect",tt),et})}close(){return __awaiter$5(this,void 0,void 0,function*(){yield this.exchangeBusyPromise,yield this.device.releaseInterface(this.interfaceNumber),yield gracefullyResetDevice(this.device),yield this.device.close()})}exchange(_){return __awaiter$5(this,void 0,void 0,function*(){return yield this.exchangeAtomicImpl(()=>__awaiter$5(this,void 0,void 0,function*(){const{channel:j,packetSize:et}=this;log$6("apdu","=> "+_.toString("hex"));const tt=createHIDframing(j,et),rt=tt.makeBlocks(_);for(let st=0;st<rt.length;st++)yield this.device.transferOut(endpointNumber,rt[st]);let nt,it;for(;!(nt=tt.getReducedResult(it));){const st=yield this.device.transferIn(endpointNumber,et),ot=Buffer$g.from(st.data.buffer);it=tt.reduceResponse(it,ot)}return log$6("apdu","<= "+nt.toString("hex")),nt})).catch(j=>{throw j&&j.message&&j.message.includes("disconnected")?(this._emitDisconnect(j),new DisconnectedDeviceDuringOperation(j.message)):j})})}setScrambleKey(){}}TransportWebUSB.isSupported=isSupported;TransportWebUSB.list=getLedgerDevices;TransportWebUSB.listen=a=>{let _=!1;getFirstLedgerDevice().then(j=>{if(!_){const et=identifyUSBProductId(j.productId);a.next({type:"add",descriptor:j,deviceModel:et}),a.complete()}},j=>{window.DOMException&&j instanceof window.DOMException&&j.code===18?a.error(new TransportWebUSBGestureRequired(j.message)):a.error(new TransportOpenUserCancelled(j.message))});function $(){_=!0}return{unsubscribe:$}};function gracefullyResetDevice(a){return __awaiter$5(this,void 0,void 0,function*(){try{yield a.reset()}catch(_){console.warn(_)}})}function __awaiter$4(a,_,$,j){function et(tt){return tt instanceof $?tt:new $(function(rt){rt(tt)})}return new($||($=Promise))(function(tt,rt){function nt(ot){try{st(j.next(ot))}catch(at){rt(at)}}function it(ot){try{st(j.throw(ot))}catch(at){rt(at)}}function st(ot){ot.done?tt(ot.value):et(ot.value).then(nt,it)}st((j=j.apply(a,[])).next())})}typeof SuppressedError=="function"&&SuppressedError;const MAX_CHUNK_SIZE=230;function transformPathToBuffer(a){const _=[];a.split("/").forEach(et=>{let tt=parseInt(et,10);Number.isNaN(tt)||(et.length>1&&et[et.length-1]==="'"&&(tt+=2147483648),_.push(tt))});const j=Buffer$g.alloc(1+_.length*4);return j[0]=_.length,_.forEach((et,tt)=>{j.writeUInt32BE(et,1+4*tt)}),j}function compressPublicKey(a,_){return _===0||_===3?a=a.slice(1):(a[0]=2+(a[64]&1),a=a.slice(0,33)),a}function appendWatermark(a,_){let $=a;return typeof _<"u"&&($=Buffer$g.from(_).toString("hex").concat(a)),$}function chunkOperation(a,_){let $=0;for(;$!==_.length;){const j=$+MAX_CHUNK_SIZE>=_.length?_.length-$:MAX_CHUNK_SIZE,et=Buffer$g.alloc(j);_.copy(et,0,$,$+j),a.push(et),$+=j}return a}function validateResponse(a){let _=!0;a[0]!==49&&a[0]!==48&&(_=!1),a[1]+4!==a.length&&(_=!1),a[2]!==2&&(_=!1);const $=a[3];a[4+$]!==2&&(_=!1);const j=5+$,et=a[j];return j+1+et+2!==a.length&&(_=!1),_}function extractValue(a,_){const $=Buffer$g.alloc(32);$.fill(0);let j=_[a],et=a+1;return j>32&&(et+=j-32,j=32),_.copy($,32-j,et,et+j),{buffer:$,idxValueStart:et,length:j}}class InvalidLedgerResponseError extends TaquitoError{constructor(_){super(),this.message=_,this.name="InvalidLedgerResponseError"}}class PublicKeyRetrievalError extends TaquitoError{constructor(_){super(),this.cause=_,this.name="PublicKeyRetrievalError",this.message="Unable to retrieve Public Key from Ledger"}}class PublicKeyHashRetrievalError extends TaquitoError{constructor(){super(),this.name="PublicKeyHashRetrievalError",this.message="Unable to retrieve Public Key Hash from Ledger"}}class InvalidDerivationTypeError extends ParameterValidationError{constructor(_){super(),this.derivationType=_,this.name="InvalidDerivationTypeError",this.message=`Invalid derivation type ${_} expecting one of the following: DerivationType.ED25519, DerivationType.SECP256K1, DerivationType.P256 or DerivationType.BIP32_ED25519`}}var DerivationType;(function(a){a[a.ED25519=0]="ED25519",a[a.SECP256K1=1]="SECP256K1",a[a.P256=2]="P256",a[a.BIP32_ED25519=3]="BIP32_ED25519"})(DerivationType||(DerivationType={}));class LedgerSigner{constructor(_,$="44'/1729'/0'/0'",j=!0,et=DerivationType.ED25519){if(this.transport=_,this.path=$,this.prompt=j,this.derivationType=et,this.CLA=128,this.INS_GET_PUBLIC_KEY=2,this.INS_PROMPT_PUBLIC_KEY=3,this.INS_SIGN=4,this.FIRST_MESSAGE_SEQUENCE=0,this.LAST_MESSAGE_SEQUENCE=129,this.OTHER_MESSAGE_SEQUENCE=1,this.transport.setScrambleKey("XTZ"),!$.startsWith("44'/1729'"))throw new InvalidDerivationPathError($,`${invalidDetail(ValidationResult.NO_PREFIX_MATCHED)} expecting prefix "44'/1729'".`);if(!Object.values(DerivationType).includes(et))throw new InvalidDerivationTypeError(et.toString())}publicKeyHash(){return __awaiter$4(this,void 0,void 0,function*(){if(this._publicKeyHash||(yield this.publicKey()),this._publicKeyHash)return this._publicKeyHash;throw new PublicKeyHashRetrievalError})}publicKey(){return __awaiter$4(this,void 0,void 0,function*(){if(this._publicKey)return this._publicKey;const _=yield this.getLedgerPublicKey(),$=_[0],j=_.slice(1,1+$),et=compressPublicKey(j,this.derivationType),tt=this.getPrefixes(),rt=b58cencode(et,tt.prefPk),nt=b58cencode(blake2b$1.hash(et,20),tt.prefPkh);return this._publicKey=rt,this._publicKeyHash=nt,rt})}getLedgerPublicKey(){return __awaiter$4(this,void 0,void 0,function*(){try{let _=this.INS_PROMPT_PUBLIC_KEY;return this.prompt===!1&&(_=this.INS_GET_PUBLIC_KEY),yield this.transport.send(this.CLA,_,this.FIRST_MESSAGE_SEQUENCE,this.derivationType,transformPathToBuffer(this.path))}catch(_){throw new PublicKeyRetrievalError(_)}})}secretKey(){return __awaiter$4(this,void 0,void 0,function*(){throw new ProhibitedActionError("Secret key cannot be exposed")})}sign(_,$){return __awaiter$4(this,void 0,void 0,function*(){const j=appendWatermark(_,$),et=Buffer$g.from(j,"hex");let tt=[];tt.push(transformPathToBuffer(this.path)),tt=chunkOperation(tt,et);const rt=yield this.signWithLedger(tt);let nt;if(this.derivationType===DerivationType.ED25519||this.derivationType===DerivationType.BIP32_ED25519)nt=rt.slice(0,rt.length-2).toString("hex");else{if(!validateResponse(rt))throw new InvalidLedgerResponseError("Invalid signature return by ledger unable to parse the response");const st=extractValue(3,rt),ot=st.idxValueStart+st.length+1,at=extractValue(ot,rt);nt=Buffer$g.concat([st.buffer,at.buffer]).toString("hex")}return{bytes:_,sig:b58cencode(nt,prefix[Prefix.SIG]),prefixSig:b58cencode(nt,this.getPrefixes().prefSig),sbytes:_+nt}})}signWithLedger(_){return __awaiter$4(this,void 0,void 0,function*(){let $=yield this.transport.send(this.CLA,this.INS_SIGN,this.FIRST_MESSAGE_SEQUENCE,this.derivationType,_[0]);for(let j=1;j<_.length;j++){const et=j===_.length-1?this.LAST_MESSAGE_SEQUENCE:this.OTHER_MESSAGE_SEQUENCE;$=yield this.transport.send(this.CLA,this.INS_SIGN,et,this.derivationType,_[j])}return $})}getPrefixes(){return this.derivationType===DerivationType.ED25519||this.derivationType===DerivationType.BIP32_ED25519?{prefPk:prefix[Prefix.EDPK],prefPkh:prefix[Prefix.TZ1],prefSig:prefix[Prefix.EDSIG]}:this.derivationType===DerivationType.SECP256K1?{prefPk:prefix[Prefix.SPPK],prefPkh:prefix[Prefix.TZ2],prefSig:prefix[Prefix.SPSIG]}:{prefPk:prefix[Prefix.P2PK],prefPkh:prefix[Prefix.TZ3],prefSig:prefix[Prefix.P2SIG]}}}function __awaiter$3(a,_,$,j){function et(tt){return tt instanceof $?tt:new $(function(rt){rt(tt)})}return new($||($=Promise))(function(tt,rt){function nt(ot){try{st(j.next(ot))}catch(at){rt(at)}}function it(ot){try{st(j.throw(ot))}catch(at){rt(at)}}function st(ot){ot.done?tt(ot.value):et(ot.value).then(nt,it)}st((j=j.apply(a,[])).next())})}typeof SuppressedError=="function"&&SuppressedError;class HttpRequestFailed extends NetworkError{constructor(_,$,j){super(),this.method=_,this.url=$,this.cause=j,this.name="HttpRequestFailed",this.message=`${_} ${$} ${String(j)}`}}class HttpResponseError extends NetworkError{constructor(_,$,j,et,tt){super(),this.message=_,this.status=$,this.statusText=j,this.body=et,this.url=tt,this.name="HttpResponseError"}}class HttpTimeoutError extends NetworkError{constructor(_,$){super(),this.timeout=_,this.url=$,this.name="HttpTimeoutError",this.message=`HTTP request timeout of ${_}ms exceeded`}}var STATUS_CODE;(function(a){a[a.CONTINUE=100]="CONTINUE",a[a.SWITCHING_PROTOCOLS=101]="SWITCHING_PROTOCOLS",a[a.PROCESSING=102]="PROCESSING",a[a.OK=200]="OK",a[a.CREATED=201]="CREATED",a[a.ACCEPTED=202]="ACCEPTED",a[a.NON_AUTHORITATIVE_INFORMATION=203]="NON_AUTHORITATIVE_INFORMATION",a[a.NO_CONTENT=204]="NO_CONTENT",a[a.RESET_CONTENT=205]="RESET_CONTENT",a[a.PARTIAL_CONTENT=206]="PARTIAL_CONTENT",a[a.MULTI_STATUS=207]="MULTI_STATUS",a[a.ALREADY_REPORTED=208]="ALREADY_REPORTED",a[a.IM_USED=226]="IM_USED",a[a.MULTIPLE_CHOICES=300]="MULTIPLE_CHOICES",a[a.MOVED_PERMANENTLY=301]="MOVED_PERMANENTLY",a[a.FOUND=302]="FOUND",a[a.SEE_OTHER=303]="SEE_OTHER",a[a.NOT_MODIFIED=304]="NOT_MODIFIED",a[a.USE_PROXY=305]="USE_PROXY",a[a.SWITCH_PROXY=306]="SWITCH_PROXY",a[a.TEMPORARY_REDIRECT=307]="TEMPORARY_REDIRECT",a[a.PERMANENT_REDIRECT=308]="PERMANENT_REDIRECT",a[a.BAD_REQUEST=400]="BAD_REQUEST",a[a.UNAUTHORIZED=401]="UNAUTHORIZED",a[a.PAYMENT_REQUIRED=402]="PAYMENT_REQUIRED",a[a.FORBIDDEN=403]="FORBIDDEN",a[a.NOT_FOUND=404]="NOT_FOUND",a[a.METHOD_NOT_ALLOWED=405]="METHOD_NOT_ALLOWED",a[a.NOT_ACCEPTABLE=406]="NOT_ACCEPTABLE",a[a.PROXY_AUTHENTICATION_REQUIRED=407]="PROXY_AUTHENTICATION_REQUIRED",a[a.REQUEST_TIMEOUT=408]="REQUEST_TIMEOUT",a[a.CONFLICT=409]="CONFLICT",a[a.GONE=410]="GONE",a[a.LENGTH_REQUIRED=411]="LENGTH_REQUIRED",a[a.PRECONDITION_FAILED=412]="PRECONDITION_FAILED",a[a.PAYLOAD_TOO_LARGE=413]="PAYLOAD_TOO_LARGE",a[a.URI_TOO_LONG=414]="URI_TOO_LONG",a[a.UNSUPPORTED_MEDIA_TYPE=415]="UNSUPPORTED_MEDIA_TYPE",a[a.RANGE_NOT_SATISFIABLE=416]="RANGE_NOT_SATISFIABLE",a[a.EXPECTATION_FAILED=417]="EXPECTATION_FAILED",a[a.I_AM_A_TEAPOT=418]="I_AM_A_TEAPOT",a[a.MISDIRECTED_REQUEST=421]="MISDIRECTED_REQUEST",a[a.UNPROCESSABLE_ENTITY=422]="UNPROCESSABLE_ENTITY",a[a.LOCKED=423]="LOCKED",a[a.FAILED_DEPENDENCY=424]="FAILED_DEPENDENCY",a[a.UPGRADE_REQUIRED=426]="UPGRADE_REQUIRED",a[a.PRECONDITION_REQUIRED=428]="PRECONDITION_REQUIRED",a[a.TOO_MANY_REQUESTS=429]="TOO_MANY_REQUESTS",a[a.REQUEST_HEADER_FIELDS_TOO_LARGE=431]="REQUEST_HEADER_FIELDS_TOO_LARGE",a[a.UNAVAILABLE_FOR_LEGAL_REASONS=451]="UNAVAILABLE_FOR_LEGAL_REASONS",a[a.INTERNAL_SERVER_ERROR=500]="INTERNAL_SERVER_ERROR",a[a.NOT_IMPLEMENTED=501]="NOT_IMPLEMENTED",a[a.BAD_GATEWAY=502]="BAD_GATEWAY",a[a.SERVICE_UNAVAILABLE=503]="SERVICE_UNAVAILABLE",a[a.GATEWAY_TIMEOUT=504]="GATEWAY_TIMEOUT",a[a.HTTP_VERSION_NOT_SUPPORTED=505]="HTTP_VERSION_NOT_SUPPORTED",a[a.VARIANT_ALSO_NEGOTIATES=506]="VARIANT_ALSO_NEGOTIATES",a[a.INSUFFICIENT_STORAGE=507]="INSUFFICIENT_STORAGE",a[a.LOOP_DETECTED=508]="LOOP_DETECTED",a[a.NOT_EXTENDED=510]="NOT_EXTENDED",a[a.NETWORK_AUTHENTICATION_REQUIRED=511]="NETWORK_AUTHENTICATION_REQUIRED"})(STATUS_CODE||(STATUS_CODE={}));var _a$2;let fetch$1=globalThis==null?void 0:globalThis.fetch;const isNode=typeof process$1$1<"u"&&!!(!((_a$2=process$1$1==null?void 0:process$1$1.versions)===null||_a$2===void 0)&&_a$2.node);isNode&&(fetch$1=require("node-fetch"));class HttpBackend{constructor(_=3e4){this.timeout=_}serialize(_){if(!_)return"";const $=[];for(const et in _)if(_.hasOwnProperty(et)&&typeof _[et]<"u"){const tt=typeof _[et].toJSON=="function"?_[et].toJSON():_[et];if(tt===null){$.push(encodeURIComponent(et));continue}if(Array.isArray(tt)){tt.forEach(rt=>{$.push(encodeURIComponent(et)+"="+encodeURIComponent(rt))});continue}$.push(encodeURIComponent(et)+"="+encodeURIComponent(tt))}const j=$.join("&");return j?`?${j}`:""}createRequest({url:_,method:$,timeout:j=this.timeout,query:et,headers:tt={},json:rt=!0},nt){return __awaiter$3(this,void 0,void 0,function*(){const it=_+this.serialize(et);tt["Content-Type"]||(tt["Content-Type"]="application/json");const st=new AbortController,ot=setTimeout(()=>st.abort(),j);try{const at=yield fetch$1(it,{method:$,headers:tt,body:JSON.stringify(nt),signal:st.signal});if(typeof at>"u")throw new Error("Response is undefined");if(at.status>=400){const ut=yield at.text();throw new HttpResponseError(`Http error response: (${at.status}) ${ut}`,at.status,at.statusText,ut,it)}return rt?at.json():at.text()}catch(at){throw at instanceof Error&&at.name==="AbortError"?new HttpTimeoutError(j,it):at instanceof HttpResponseError?at:new HttpRequestFailed(String($),it,at)}finally{clearTimeout(ot)}})}}function __rest$2(a,_){var $={};for(var j in a)Object.prototype.hasOwnProperty.call(a,j)&&_.indexOf(j)<0&&($[j]=a[j]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var et=0,j=Object.getOwnPropertySymbols(a);et<j.length;et++)_.indexOf(j[et])<0&&Object.prototype.propertyIsEnumerable.call(a,j[et])&&($[j[et]]=a[j[et]]);return $}function __awaiter$2(a,_,$,j){function et(tt){return tt instanceof $?tt:new $(function(rt){rt(tt)})}return new($||($=Promise))(function(tt,rt){function nt(ot){try{st(j.next(ot))}catch(at){rt(at)}}function it(ot){try{st(j.throw(ot))}catch(at){rt(at)}}function st(ot){ot.done?tt(ot.value):et(ot.value).then(nt,it)}st((j=j.apply(a,[])).next())})}typeof SuppressedError=="function"&&SuppressedError;const defaultChain="main",defaultRPCOptions={block:"head"};var RPCMethodName;(function(a){a.GET_BAKING_RIGHTS="getBakingRights",a.GET_BALLOTS="getBallots",a.GET_BALLOT_LIST="getBallotList",a.GET_BIG_MAP_KEY="getBigMapKey",a.GET_BIG_MAP_EXPR="getBigMapExpr",a.GET_BLOCK_HASH="getBlockHash",a.GET_BLOCK="getBlock",a.GET_BLOCK_HEADER="getBlockHeader",a.GET_BLOCK_METADATA="getBlockMetadata",a.GET_BALANCE="getBalance",a.GET_CHAIN_ID="getChainId",a.GET_CONSTANTS="getConstants",a.GET_CONTRACT="getContract",a.GET_CURRENT_PERIOD="getCurrentPeriod",a.GET_CURRENT_PROPOSAL="getCurrentProposal",a.GET_CURRENT_QUORUM="getCurrentQuorum",a.GET_DELEGATE="getDelegate",a.GET_DELEGATES="getDelegates",a.GET_VOTING_INFO="getVotingInfo",a.GET_ATTESTATION_RIGHTS="getAttestationRights",a.GET_ENDORSING_RIGHTS="getEndorsingRights",a.GET_ENTRYPOINTS="getEntrypoints",a.GET_LIVE_BLOCKS="getLiveBlocks",a.GET_MANAGER_KEY="getManagerKey",a.GET_NORMALIZED_SCRIPT="getNormalizedScript",a.GET_PROPOSALS="getProposals",a.GET_PROTOCOLS="getProtocols",a.GET_SAPLING_DIFF_BY_CONTRACT="getSaplingDiffByContract",a.GET_SAPLING_DIFF_BY_ID="getSaplingDiffById",a.GET_SCRIPT="getScript",a.GET_STORAGE="getStorage",a.GET_SUCCESSOR_PERIOD="getSuccessorPeriod",a.GET_VOTES_LISTINGS="getVotesListings",a.PACK_DATA="packData",a.GET_STORAGE_USED_SPACE="getStorageUsedSpace",a.GET_STORAGE_PAID_SPACE="getStoragePaidSpace",a.GET_TICKET_BALANCE="getTicketBalance",a.GET_ALL_TICKET_BALANCES="getAllTicketBalances",a.GET_PENDING_OPERATIONS="getPendingOperations"})(RPCMethodName||(RPCMethodName={}));function castToBigNumber(a,_){const $=Array.isArray(a);typeof _>"u"&&(_=Object.keys(a));const j=$?[]:{};return _.forEach(et=>{const tt=a[et];let rt;if(!(typeof tt>"u")){if(Array.isArray(tt)){rt=castToBigNumber(tt),j[et]=rt;return}rt=new BigNumber(tt),j[et]=rt}}),j}var OPERATION_METADATA;(function(a){a.TOO_LARGE="too large"})(OPERATION_METADATA||(OPERATION_METADATA={}));var METADATA_BALANCE_UPDATES_CATEGORY;(function(a){a.BAKING_BONUSES="baking bonuses",a.BAKING_REWARDS="baking rewards",a.BLOCK_FEES="block fees",a.BONDS="bonds",a.BOOTSTRAP="bootstrap",a.BURNED="burned",a.COMMITMENT="commitment",a.DELEGATE_DENOMINATOR="delegate_denominator",a.DELEGATOR_NUMERATOR="delegator_numerator",a.DEPOSITS="deposits",a.ENDORSING_REWARDS="endorsing rewards",a.INVOICE="invoice",a.LOST_ENDORSING_REWARDS="lost endorsing rewards",a.MINTED="minted",a.NONCE_REVELATION_REWARDS="nonce revelation rewards",a.PUNISHMENTS="punishments",a.SMART_ROLLUP_REFUTATION_PUNISHMENTS="smart_rollup_refutation_punishments",a.SMART_ROLLUP_REFUTATION_REWARDS="smart_rollup_refutation_rewards",a.STORAGE_FEES="storage fees",a.SUBSIDY="subsidy",a.UNSTAKED_DEPOSITS="unstaked_deposits"})(METADATA_BALANCE_UPDATES_CATEGORY||(METADATA_BALANCE_UPDATES_CATEGORY={}));var PvmKind;(function(a){a.WASM2="wasm_2_0_0",a.ARITH="arith",a.RISCV="riscv"})(PvmKind||(PvmKind={}));var SmartRollupRefutationOptions;(function(a){a.START="start",a.MOVE="move"})(SmartRollupRefutationOptions||(SmartRollupRefutationOptions={}));var SmartRollupInputProofKind;(function(a){a.INBOX_PROOF="inbox_proof",a.REVEAL_PROOF="reveal_proof",a.FIRST_INPUT="first_input"})(SmartRollupInputProofKind||(SmartRollupInputProofKind={}));var SmartRollupRefuteRevealProofKind;(function(a){a.RAW_DATA_PROOF="raw_data_proof",a.METADATA_PROOF="metadata_proof",a.DAL_PAGE_PROOF="dal_page_proof"})(SmartRollupRefuteRevealProofKind||(SmartRollupRefuteRevealProofKind={}));var SmartRollupRefuteGameStatusOptions;(function(a){a.ONGOING="ongoing",a.ENDED="ended"})(SmartRollupRefuteGameStatusOptions||(SmartRollupRefuteGameStatusOptions={}));var SmartRollupRefuteGameEndedPlayerOutcomes;(function(a){a.LOSER="loser",a.DRAW="draw"})(SmartRollupRefuteGameEndedPlayerOutcomes||(SmartRollupRefuteGameEndedPlayerOutcomes={}));var SmartRollupRefuteGameEndedReason;(function(a){a.CONFLICT_RESOLVED="conflict_resolved",a.TIMEOUT="timeout"})(SmartRollupRefuteGameEndedReason||(SmartRollupRefuteGameEndedReason={}));var OpKind;(function(a){a.ORIGINATION="origination",a.DELEGATION="delegation",a.REVEAL="reveal",a.TRANSACTION="transaction",a.ACTIVATION="activate_account",a.ATTESTATION="attestation",a.ENDORSEMENT="endorsement",a.PREATTESTATION="preattestation",a.PREENDORSEMENT="preendorsement",a.SET_DEPOSITS_LIMIT="set_deposits_limit",a.DOUBLE_PREATTESTATION_EVIDENCE="double_preattestation_evidence",a.DOUBLE_PREENDORSEMENT_EVIDENCE="double_preendorsement_evidence",a.ATTESTATION_WITH_SLOT="attestation_with_slot",a.ENDORSEMENT_WITH_SLOT="endorsement_with_slot",a.SEED_NONCE_REVELATION="seed_nonce_revelation",a.DOUBLE_ATTESTATION_EVIDENCE="double_attestation_evidence",a.DOUBLE_ENDORSEMENT_EVIDENCE="double_endorsement_evidence",a.DOUBLE_BAKING_EVIDENCE="double_baking_evidence",a.PROPOSALS="proposals",a.BALLOT="ballot",a.FAILING_NOOP="failing_noop",a.REGISTER_GLOBAL_CONSTANT="register_global_constant",a.TRANSFER_TICKET="transfer_ticket",a.INCREASE_PAID_STORAGE="increase_paid_storage",a.UPDATE_CONSENSUS_KEY="update_consensus_key",a.DRAIN_DELEGATE="drain_delegate",a.VDF_REVELATION="vdf_revelation",a.EVENT="event",a.TICKET_UPDATES="ticket_updates",a.SMART_ROLLUP_ORIGINATE="smart_rollup_originate",a.SMART_ROLLUP_ADD_MESSAGES="smart_rollup_add_messages",a.SMART_ROLLUP_EXECUTE_OUTBOX_MESSAGE="smart_rollup_execute_outbox_message",a.SMART_ROLLUP_PUBLISH="smart_rollup_publish",a.SMART_ROLLUP_CEMENT="smart_rollup_cement",a.SMART_ROLLUP_RECOVER_BOND="smart_rollup_recover_bond",a.SMART_ROLLUP_REFUTE="smart_rollup_refute",a.SMART_ROLLUP_TIMEOUT="smart_rollup_timeout"})(OpKind||(OpKind={}));class RpcClient{constructor(_,$=defaultChain,j=new HttpBackend){this.url=_,this.chain=$,this.httpBackend=j}createURL(_){let $=this.url;for(;$.endsWith("/");)$=$.slice(0,-1);return`${$}${_}`}validateAddress(_){const $=validateAddress(_);if($!==ValidationResult.VALID)throw new InvalidAddressError(_,invalidDetail($))}validateContract(_){const $=validateContractAddress(_);if($!==ValidationResult.VALID)throw new InvalidContractAddressError(_,invalidDetail($))}getBlockHash({block:_}=defaultRPCOptions){return __awaiter$2(this,void 0,void 0,function*(){return yield this.httpBackend.createRequest({url:this.createURL(`/chains/${this.chain}/blocks/${_}/hash`),method:"GET"})})}getLiveBlocks({block:_}=defaultRPCOptions){return __awaiter$2(this,void 0,void 0,function*(){return yield this.httpBackend.createRequest({url:this.createURL(`/chains/${this.chain}/blocks/${_}/live_blocks`),method:"GET"})})}getBalance(_,{block:$}=defaultRPCOptions){return __awaiter$2(this,void 0,void 0,function*(){this.validateAddress(_);const j=yield this.httpBackend.createRequest({url:this.createURL(`/chains/${this.chain}/blocks/${$}/context/contracts/${_}/balance`),method:"GET"});return new BigNumber(j)})}getStorage(_,{block:$}=defaultRPCOptions){return __awaiter$2(this,void 0,void 0,function*(){return this.validateContract(_),this.httpBackend.createRequest({url:this.createURL(`/chains/${this.chain}/blocks/${$}/context/contracts/${_}/storage`),method:"GET"})})}getScript(_,{block:$}=defaultRPCOptions){return __awaiter$2(this,void 0,void 0,function*(){return this.validateContract(_),this.httpBackend.createRequest({url:this.createURL(`/chains/${this.chain}/blocks/${$}/context/contracts/${_}/script`),method:"GET"})})}getNormalizedScript(_,$={unparsing_mode:"Readable"},{block:j}=defaultRPCOptions){return __awaiter$2(this,void 0,void 0,function*(){return this.validateContract(_),this.httpBackend.createRequest({url:this.createURL(`/chains/${this.chain}/blocks/${j}/context/contracts/${_}/script/normalized`),method:"POST"},$)})}getContract(_,{block:$}=defaultRPCOptions){return __awaiter$2(this,void 0,void 0,function*(){this.validateAddress(_);const j=yield this.httpBackend.createRequest({url:this.createURL(`/chains/${this.chain}/blocks/${$}/context/contracts/${_}`),method:"GET"});return Object.assign(Object.assign({},j),{balance:new BigNumber(j.balance)})})}getManagerKey(_,{block:$}=defaultRPCOptions){return __awaiter$2(this,void 0,void 0,function*(){return this.validateAddress(_),this.httpBackend.createRequest({url:this.createURL(`/chains/${this.chain}/blocks/${$}/context/contracts/${_}/manager_key`),method:"GET"})})}getDelegate(_,{block:$}=defaultRPCOptions){return __awaiter$2(this,void 0,void 0,function*(){this.validateAddress(_);let j;try{j=yield this.httpBackend.createRequest({url:this.createURL(`/chains/${this.chain}/blocks/${$}/context/contracts/${_}/delegate`),method:"GET"})}catch(et){if(et instanceof HttpResponseError&&et.status===STATUS_CODE.NOT_FOUND)j=null;else throw et}return j})}getBigMapKey(_,$,{block:j}=defaultRPCOptions){return __awaiter$2(this,void 0,void 0,function*(){return this.validateAddress(_),this.httpBackend.createRequest({url:this.createURL(`/chains/${this.chain}/blocks/${j}/context/contracts/${_}/big_map_get`),method:"POST"},$)})}getBigMapExpr(_,$,{block:j}=defaultRPCOptions){return __awaiter$2(this,void 0,void 0,function*(){return this.httpBackend.createRequest({url:this.createURL(`/chains/${this.chain}/blocks/${j}/context/big_maps/${_}/${$}`),method:"GET"})})}getDelegates(_,{block:$}=defaultRPCOptions){return __awaiter$2(this,void 0,void 0,function*(){this.validateAddress(_);const j=yield this.httpBackend.createRequest({url:this.createURL(`/chains/${this.chain}/blocks/${$}/context/delegates/${_}`),method:"GET"}),et=castToBigNumber(j,["balance","full_balance","current_frozen_deposits","frozen_deposits","frozen_balance","frozen_deposits_limit","staking_balance","delegated_balance","voting_power","total_delegated_stake","staking_denominator"]);return Object.assign(Object.assign(Object.assign({},j),et),{frozen_balance_by_cycle:j.frozen_balance_by_cycle?j.frozen_balance_by_cycle.map(tt=>{var{deposit:rt,deposits:nt,fees:it,rewards:st}=tt,ot=__rest$2(tt,["deposit","deposits","fees","rewards"]);const at=castToBigNumber({deposit:rt,deposits:nt,fees:it,rewards:st},["deposit","deposits","fees","rewards"]);return Object.assign(Object.assign({},ot),{deposit:at.deposit,deposits:at.deposits,fees:at.fees,rewards:at.rewards})}):void 0})})}getVotingInfo(_,{block:$}=defaultRPCOptions){return __awaiter$2(this,void 0,void 0,function*(){return this.validateAddress(_),yield this.httpBackend.createRequest({url:this.createURL(`/chains/${this.chain}/blocks/${$}/context/delegates/${_}/voting_info`),method:"GET"})})}getConstants({block:_}=defaultRPCOptions){return __awaiter$2(this,void 0,void 0,function*(){const $=yield this.httpBackend.createRequest({url:this.createURL(`/chains/${this.chain}/blocks/${_}/context/constants`),method:"GET"}),j=castToBigNumber($,["time_between_blocks","hard_gas_limit_per_operation","hard_gas_limit_per_block","proof_of_work_threshold","tokens_per_roll","seed_nonce_revelation_tip","block_security_deposit","endorsement_security_deposit","block_reward","endorsement_reward","cost_per_byte","hard_storage_limit_per_operation","test_chain_duration","baking_reward_per_endorsement","delay_per_missing_endorsement","minimal_block_delay","liquidity_baking_subsidy","cache_layout","baking_reward_fixed_portion","baking_reward_bonus_per_slot","endorsing_reward_per_slot","double_baking_punishment","delay_increment_per_round","tx_rollup_commitment_bond","vdf_difficulty","sc_rollup_stake_amount","minimal_stake"]);return Object.assign(Object.assign({},$),j)})}getBlock({block:_,version:$}=defaultRPCOptions){return __awaiter$2(this,void 0,void 0,function*(){const j={url:this.createURL(`/chains/${this.chain}/blocks/${_}`),method:"GET"};return $!==void 0&&(j.query={version:$}),yield this.httpBackend.createRequest(j)})}getBlockHeader({block:_}=defaultRPCOptions){return __awaiter$2(this,void 0,void 0,function*(){return yield this.httpBackend.createRequest({url:this.createURL(`/chains/${this.chain}/blocks/${_}/header`),method:"GET"})})}getBlockMetadata({block:_,version:$}=defaultRPCOptions){return __awaiter$2(this,void 0,void 0,function*(){const j={url:this.createURL(`/chains/${this.chain}/blocks/${_}/metadata`),method:"GET"};return $!==void 0&&(j.query={version:$}),yield this.httpBackend.createRequest(j)})}getBakingRights(_={},{block:$}=defaultRPCOptions){return __awaiter$2(this,void 0,void 0,function*(){return yield this.httpBackend.createRequest({url:this.createURL(`/chains/${this.chain}/blocks/${$}/helpers/baking_rights`),method:"GET",query:_})})}getAttestationRights(_={},{block:$}=defaultRPCOptions){return __awaiter$2(this,void 0,void 0,function*(){return yield this.httpBackend.createRequest({url:this.createURL(`/chains/${this.chain}/blocks/${$}/helpers/attestation_rights`),method:"GET",query:_})})}getEndorsingRights(_={},{block:$}=defaultRPCOptions){return __awaiter$2(this,void 0,void 0,function*(){return yield this.httpBackend.createRequest({url:this.createURL(`/chains/${this.chain}/blocks/${$}/helpers/endorsing_rights`),method:"GET",query:_})})}getBallotList({block:_}=defaultRPCOptions){return __awaiter$2(this,void 0,void 0,function*(){return yield this.httpBackend.createRequest({url:this.createURL(`/chains/${this.chain}/blocks/${_}/votes/ballot_list`),method:"GET"})})}getBallots({block:_}=defaultRPCOptions){return __awaiter$2(this,void 0,void 0,function*(){const $=yield this.httpBackend.createRequest({url:this.createURL(`/chains/${this.chain}/blocks/${_}/votes/ballots`),method:"GET"});return castToBigNumber($,["yay","nay","pass"])})}getCurrentProposal({block:_}=defaultRPCOptions){return __awaiter$2(this,void 0,void 0,function*(){return yield this.httpBackend.createRequest({url:this.createURL(`/chains/${this.chain}/blocks/${_}/votes/current_proposal`),method:"GET"})})}getCurrentQuorum({block:_}=defaultRPCOptions){return __awaiter$2(this,void 0,void 0,function*(){return yield this.httpBackend.createRequest({url:this.createURL(`/chains/${this.chain}/blocks/${_}/votes/current_quorum`),method:"GET"})})}getVotesListings({block:_}=defaultRPCOptions){return __awaiter$2(this,void 0,void 0,function*(){const $=yield this.httpBackend.createRequest({url:this.createURL(`/chains/${this.chain}/blocks/${_}/votes/listings`),method:"GET"});return $.map(j=>(j.voting_power&&(j.voting_power=new BigNumber(j.voting_power)),j)),$})}getProposals({block:_}=defaultRPCOptions){return __awaiter$2(this,void 0,void 0,function*(){const $=yield this.httpBackend.createRequest({url:this.createURL(`/chains/${this.chain}/blocks/${_}/votes/proposals`),method:"GET"});return $.map(j=>j[1]=new BigNumber(j[1])),$})}forgeOperations(_,{block:$}=defaultRPCOptions){return __awaiter$2(this,void 0,void 0,function*(){return this.httpBackend.createRequest({url:this.createURL(`/chains/${this.chain}/blocks/${$}/helpers/forge/operations`),method:"POST"},_)})}injectOperation(_){return __awaiter$2(this,void 0,void 0,function*(){return this.httpBackend.createRequest({url:this.createURL("/injection/operation"),method:"POST"},_)})}preapplyOperations(_,{block:$,version:j}=defaultRPCOptions){return __awaiter$2(this,void 0,void 0,function*(){const et={url:this.createURL(`/chains/${this.chain}/blocks/${$}/helpers/preapply/operations`),method:"POST"};return j!==void 0&&(et.query={version:j}),yield this.httpBackend.createRequest(et,_)})}getEntrypoints(_,{block:$}=defaultRPCOptions){return __awaiter$2(this,void 0,void 0,function*(){return this.validateContract(_),yield this.httpBackend.createRequest({url:this.createURL(`/chains/${this.chain}/blocks/${$}/context/contracts/${_}/entrypoints`),method:"GET"})})}runOperation(_,{block:$,version:j}=defaultRPCOptions){return __awaiter$2(this,void 0,void 0,function*(){const et={url:this.createURL(`/chains/${this.chain}/blocks/${$}/helpers/scripts/run_operation`),method:"POST"};return j!==void 0&&(et.query={version:j}),yield this.httpBackend.createRequest(et,_)})}simulateOperation(_,{block:$,version:j}=defaultRPCOptions){return __awaiter$2(this,void 0,void 0,function*(){const et={url:this.createURL(`/chains/${this.chain}/blocks/${$}/helpers/scripts/simulate_operation`),method:"POST"};return j!==void 0&&(et.query={version:j}),yield this.httpBackend.createRequest(et,_)})}runCode(_,{block:$}=defaultRPCOptions){return __awaiter$2(this,void 0,void 0,function*(){return yield this.httpBackend.createRequest({url:this.createURL(`/chains/${this.chain}/blocks/${$}/helpers/scripts/run_code`),method:"POST"},_)})}runScriptView(_,$){var{unparsing_mode:j="Readable"}=_,et=__rest$2(_,["unparsing_mode"]),tt=$===void 0?defaultRPCOptions:$,rt=tt.block;return __awaiter$2(this,void 0,void 0,function*(){return this.httpBackend.createRequest({url:this.createURL(`/chains/${this.chain}/blocks/${rt}/helpers/scripts/run_script_view`),method:"POST"},Object.assign({unparsing_mode:j},et))})}runView(_,$){var{unparsing_mode:j="Readable"}=_,et=__rest$2(_,["unparsing_mode"]),tt=$===void 0?defaultRPCOptions:$,rt=tt.block;return __awaiter$2(this,void 0,void 0,function*(){return this.httpBackend.createRequest({url:this.createURL(`/chains/${this.chain}/blocks/${rt}/helpers/scripts/run_view`),method:"POST"},Object.assign({unparsing_mode:j},et))})}getChainId(){return __awaiter$2(this,void 0,void 0,function*(){return this.httpBackend.createRequest({url:this.createURL(`/chains/${this.chain}/chain_id`),method:"GET"})})}packData(_,{block:$}=defaultRPCOptions){return __awaiter$2(this,void 0,void 0,function*(){const j=yield this.httpBackend.createRequest({url:this.createURL(`/chains/${this.chain}/blocks/${$}/helpers/scripts/pack_data`),method:"POST"},_),{gas:et}=j,tt=__rest$2(j,["gas"]);let rt=et;const nt=new BigNumber(et||"");return nt.isNaN()||(rt=nt),Object.assign({gas:rt},tt)})}getRpcUrl(){return this.url}getCurrentPeriod({block:_}=defaultRPCOptions){return __awaiter$2(this,void 0,void 0,function*(){return yield this.httpBackend.createRequest({url:this.createURL(`/chains/${this.chain}/blocks/${_}/votes/current_period`),method:"GET"})})}getSuccessorPeriod({block:_}=defaultRPCOptions){return __awaiter$2(this,void 0,void 0,function*(){return yield this.httpBackend.createRequest({url:this.createURL(`/chains/${this.chain}/blocks/${_}/votes/successor_period`),method:"GET"})})}getSaplingDiffById(_,{block:$}=defaultRPCOptions){return __awaiter$2(this,void 0,void 0,function*(){return this.httpBackend.createRequest({url:this.createURL(`/chains/${this.chain}/blocks/${$}/context/sapling/${_}/get_diff`),method:"GET"})})}getSaplingDiffByContract(_,{block:$}=defaultRPCOptions){return __awaiter$2(this,void 0,void 0,function*(){return this.httpBackend.createRequest({url:this.createURL(`/chains/${this.chain}/blocks/${$}/context/contracts/${_}/single_sapling_get_diff`),method:"GET"})})}getProtocols({block:_}=defaultRPCOptions){return __awaiter$2(this,void 0,void 0,function*(){return this.httpBackend.createRequest({url:this.createURL(`/chains/${this.chain}/blocks/${_}/protocols`),method:"GET"})})}getStorageUsedSpace(_,{block:$}=defaultRPCOptions){return __awaiter$2(this,void 0,void 0,function*(){return this.httpBackend.createRequest({url:this.createURL(`/chains/${this.chain}/blocks/${$}/context/contracts/${_}/storage/used_space`),method:"GET"})})}getStoragePaidSpace(_,{block:$}=defaultRPCOptions){return __awaiter$2(this,void 0,void 0,function*(){return this.httpBackend.createRequest({url:this.createURL(`/chains/${this.chain}/blocks/${$}/context/contracts/${_}/storage/paid_space`),method:"GET"})})}getTicketBalance(_,$,{block:j}=defaultRPCOptions){return __awaiter$2(this,void 0,void 0,function*(){return this.httpBackend.createRequest({url:this.createURL(`/chains/${this.chain}/blocks/${j}/context/contracts/${_}/ticket_balance`),method:"POST"},$)})}getAllTicketBalances(_,{block:$}=defaultRPCOptions){return __awaiter$2(this,void 0,void 0,function*(){return this.httpBackend.createRequest({url:this.createURL(`/chains/${this.chain}/blocks/${$}/context/contracts/${_}/all_ticket_balances`),method:"GET"})})}getPendingOperations(_={}){return __awaiter$2(this,void 0,void 0,function*(){return this.httpBackend.createRequest({url:this.createURL(`/chains/${this.chain}/mempool/pending_operations`),method:"GET",query:_})})}}var src={},sha512$1={},_u64={};(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.add=a.toBig=a.split=a.fromBig=void 0;const _=BigInt(2**32-1),$=BigInt(32);function j(Ft,jt=!1){return jt?{h:Number(Ft&_),l:Number(Ft>>$&_)}:{h:Number(Ft>>$&_)|0,l:Number(Ft&_)|0}}a.fromBig=j;function et(Ft,jt=!1){let bt=new Uint32Array(Ft.length),vt=new Uint32Array(Ft.length);for(let ct=0;ct<Ft.length;ct++){const{h:dt,l:mt}=j(Ft[ct],jt);[bt[ct],vt[ct]]=[dt,mt]}return[bt,vt]}a.split=et;const tt=(Ft,jt)=>BigInt(Ft>>>0)<<$|BigInt(jt>>>0);a.toBig=tt;const rt=(Ft,jt,bt)=>Ft>>>bt,nt=(Ft,jt,bt)=>Ft<<32-bt|jt>>>bt,it=(Ft,jt,bt)=>Ft>>>bt|jt<<32-bt,st=(Ft,jt,bt)=>Ft<<32-bt|jt>>>bt,ot=(Ft,jt,bt)=>Ft<<64-bt|jt>>>bt-32,at=(Ft,jt,bt)=>Ft>>>bt-32|jt<<64-bt,ut=(Ft,jt)=>jt,ht=(Ft,jt)=>Ft,yt=(Ft,jt,bt)=>Ft<<bt|jt>>>32-bt,wt=(Ft,jt,bt)=>jt<<bt|Ft>>>32-bt,Ct=(Ft,jt,bt)=>jt<<bt-32|Ft>>>64-bt,Pt=(Ft,jt,bt)=>Ft<<bt-32|jt>>>64-bt;function Tt(Ft,jt,bt,vt){const ct=(jt>>>0)+(vt>>>0);return{h:Ft+bt+(ct/2**32|0)|0,l:ct|0}}a.add=Tt;const Mt=(Ft,jt,bt)=>(Ft>>>0)+(jt>>>0)+(bt>>>0),Lt=(Ft,jt,bt,vt)=>jt+bt+vt+(Ft/2**32|0)|0,Dt=(Ft,jt,bt,vt)=>(Ft>>>0)+(jt>>>0)+(bt>>>0)+(vt>>>0),Ut=(Ft,jt,bt,vt,ct)=>jt+bt+vt+ct+(Ft/2**32|0)|0,Ot=(Ft,jt,bt,vt,ct)=>(Ft>>>0)+(jt>>>0)+(bt>>>0)+(vt>>>0)+(ct>>>0),It=(Ft,jt,bt,vt,ct,dt)=>jt+bt+vt+ct+dt+(Ft/2**32|0)|0,Bt={fromBig:j,split:et,toBig:a.toBig,shrSH:rt,shrSL:nt,rotrSH:it,rotrSL:st,rotrBH:ot,rotrBL:at,rotr32H:ut,rotr32L:ht,rotlSH:yt,rotlSL:wt,rotlBH:Ct,rotlBL:Pt,add:Tt,add3L:Mt,add3H:Lt,add4L:Dt,add4H:Ut,add5H:It,add5L:Ot};a.default=Bt})(_u64);Object.defineProperty(sha512$1,"__esModule",{value:!0});sha512$1.sha384=sha512$1.sha512_256=sha512$1.sha512_224=sha512$1.sha512=sha512$1.SHA512=void 0;const _sha2_js_1=_sha2,_u64_js_1$1=_u64,utils_js_1$2=utils$e,[SHA512_Kh,SHA512_Kl]=_u64_js_1$1.default.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(a=>BigInt(a))),SHA512_W_H=new Uint32Array(80),SHA512_W_L=new Uint32Array(80);class SHA512 extends _sha2_js_1.SHA2{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:_,Al:$,Bh:j,Bl:et,Ch:tt,Cl:rt,Dh:nt,Dl:it,Eh:st,El:ot,Fh:at,Fl:ut,Gh:ht,Gl:yt,Hh:wt,Hl:Ct}=this;return[_,$,j,et,tt,rt,nt,it,st,ot,at,ut,ht,yt,wt,Ct]}set(_,$,j,et,tt,rt,nt,it,st,ot,at,ut,ht,yt,wt,Ct){this.Ah=_|0,this.Al=$|0,this.Bh=j|0,this.Bl=et|0,this.Ch=tt|0,this.Cl=rt|0,this.Dh=nt|0,this.Dl=it|0,this.Eh=st|0,this.El=ot|0,this.Fh=at|0,this.Fl=ut|0,this.Gh=ht|0,this.Gl=yt|0,this.Hh=wt|0,this.Hl=Ct|0}process(_,$){for(let Mt=0;Mt<16;Mt++,$+=4)SHA512_W_H[Mt]=_.getUint32($),SHA512_W_L[Mt]=_.getUint32($+=4);for(let Mt=16;Mt<80;Mt++){const Lt=SHA512_W_H[Mt-15]|0,Dt=SHA512_W_L[Mt-15]|0,Ut=_u64_js_1$1.default.rotrSH(Lt,Dt,1)^_u64_js_1$1.default.rotrSH(Lt,Dt,8)^_u64_js_1$1.default.shrSH(Lt,Dt,7),Ot=_u64_js_1$1.default.rotrSL(Lt,Dt,1)^_u64_js_1$1.default.rotrSL(Lt,Dt,8)^_u64_js_1$1.default.shrSL(Lt,Dt,7),It=SHA512_W_H[Mt-2]|0,Bt=SHA512_W_L[Mt-2]|0,Ft=_u64_js_1$1.default.rotrSH(It,Bt,19)^_u64_js_1$1.default.rotrBH(It,Bt,61)^_u64_js_1$1.default.shrSH(It,Bt,6),jt=_u64_js_1$1.default.rotrSL(It,Bt,19)^_u64_js_1$1.default.rotrBL(It,Bt,61)^_u64_js_1$1.default.shrSL(It,Bt,6),bt=_u64_js_1$1.default.add4L(Ot,jt,SHA512_W_L[Mt-7],SHA512_W_L[Mt-16]),vt=_u64_js_1$1.default.add4H(bt,Ut,Ft,SHA512_W_H[Mt-7],SHA512_W_H[Mt-16]);SHA512_W_H[Mt]=vt|0,SHA512_W_L[Mt]=bt|0}let{Ah:j,Al:et,Bh:tt,Bl:rt,Ch:nt,Cl:it,Dh:st,Dl:ot,Eh:at,El:ut,Fh:ht,Fl:yt,Gh:wt,Gl:Ct,Hh:Pt,Hl:Tt}=this;for(let Mt=0;Mt<80;Mt++){const Lt=_u64_js_1$1.default.rotrSH(at,ut,14)^_u64_js_1$1.default.rotrSH(at,ut,18)^_u64_js_1$1.default.rotrBH(at,ut,41),Dt=_u64_js_1$1.default.rotrSL(at,ut,14)^_u64_js_1$1.default.rotrSL(at,ut,18)^_u64_js_1$1.default.rotrBL(at,ut,41),Ut=at&ht^~at&wt,Ot=ut&yt^~ut&Ct,It=_u64_js_1$1.default.add5L(Tt,Dt,Ot,SHA512_Kl[Mt],SHA512_W_L[Mt]),Bt=_u64_js_1$1.default.add5H(It,Pt,Lt,Ut,SHA512_Kh[Mt],SHA512_W_H[Mt]),Ft=It|0,jt=_u64_js_1$1.default.rotrSH(j,et,28)^_u64_js_1$1.default.rotrBH(j,et,34)^_u64_js_1$1.default.rotrBH(j,et,39),bt=_u64_js_1$1.default.rotrSL(j,et,28)^_u64_js_1$1.default.rotrBL(j,et,34)^_u64_js_1$1.default.rotrBL(j,et,39),vt=j&tt^j&nt^tt&nt,ct=et&rt^et&it^rt&it;Pt=wt|0,Tt=Ct|0,wt=ht|0,Ct=yt|0,ht=at|0,yt=ut|0,{h:at,l:ut}=_u64_js_1$1.default.add(st|0,ot|0,Bt|0,Ft|0),st=nt|0,ot=it|0,nt=tt|0,it=rt|0,tt=j|0,rt=et|0;const dt=_u64_js_1$1.default.add3L(Ft,bt,ct);j=_u64_js_1$1.default.add3H(dt,Bt,jt,vt),et=dt|0}({h:j,l:et}=_u64_js_1$1.default.add(this.Ah|0,this.Al|0,j|0,et|0)),{h:tt,l:rt}=_u64_js_1$1.default.add(this.Bh|0,this.Bl|0,tt|0,rt|0),{h:nt,l:it}=_u64_js_1$1.default.add(this.Ch|0,this.Cl|0,nt|0,it|0),{h:st,l:ot}=_u64_js_1$1.default.add(this.Dh|0,this.Dl|0,st|0,ot|0),{h:at,l:ut}=_u64_js_1$1.default.add(this.Eh|0,this.El|0,at|0,ut|0),{h:ht,l:yt}=_u64_js_1$1.default.add(this.Fh|0,this.Fl|0,ht|0,yt|0),{h:wt,l:Ct}=_u64_js_1$1.default.add(this.Gh|0,this.Gl|0,wt|0,Ct|0),{h:Pt,l:Tt}=_u64_js_1$1.default.add(this.Hh|0,this.Hl|0,Pt|0,Tt|0),this.set(j,et,tt,rt,nt,it,st,ot,at,ut,ht,yt,wt,Ct,Pt,Tt)}roundClean(){SHA512_W_H.fill(0),SHA512_W_L.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}sha512$1.SHA512=SHA512;class SHA512_224 extends SHA512{constructor(){super(),this.Ah=-1942145080,this.Al=424955298,this.Bh=1944164710,this.Bl=-1982016298,this.Ch=502970286,this.Cl=855612546,this.Dh=1738396948,this.Dl=1479516111,this.Eh=258812777,this.El=2077511080,this.Fh=2011393907,this.Fl=79989058,this.Gh=1067287976,this.Gl=1780299464,this.Hh=286451373,this.Hl=-1848208735,this.outputLen=28}}class SHA512_256 extends SHA512{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}}class SHA384 extends SHA512{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}}sha512$1.sha512=(0,utils_js_1$2.wrapConstructor)(()=>new SHA512);sha512$1.sha512_224=(0,utils_js_1$2.wrapConstructor)(()=>new SHA512_224);sha512$1.sha512_256=(0,utils_js_1$2.wrapConstructor)(()=>new SHA512_256);sha512$1.sha384=(0,utils_js_1$2.wrapConstructor)(()=>new SHA384);var pbkdf2$1={},hmac$2={};(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.hmac=void 0;const _=_assert,$=utils$e;class j extends $.Hash{constructor(rt,nt){super(),this.finished=!1,this.destroyed=!1,_.default.hash(rt);const it=(0,$.toBytes)(nt);if(this.iHash=rt.create(),typeof this.iHash.update!="function")throw new TypeError("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const st=this.blockLen,ot=new Uint8Array(st);ot.set(it.length>st?rt.create().update(it).digest():it);for(let at=0;at<ot.length;at++)ot[at]^=54;this.iHash.update(ot),this.oHash=rt.create();for(let at=0;at<ot.length;at++)ot[at]^=106;this.oHash.update(ot),ot.fill(0)}update(rt){return _.default.exists(this),this.iHash.update(rt),this}digestInto(rt){_.default.exists(this),_.default.bytes(rt,this.outputLen),this.finished=!0,this.iHash.digestInto(rt),this.oHash.update(rt),this.oHash.digestInto(rt),this.destroy()}digest(){const rt=new Uint8Array(this.oHash.outputLen);return this.digestInto(rt),rt}_cloneInto(rt){rt||(rt=Object.create(Object.getPrototypeOf(this),{}));const{oHash:nt,iHash:it,finished:st,destroyed:ot,blockLen:at,outputLen:ut}=this;return rt=rt,rt.finished=st,rt.destroyed=ot,rt.blockLen=at,rt.outputLen=ut,rt.oHash=nt._cloneInto(rt.oHash),rt.iHash=it._cloneInto(rt.iHash),rt}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const et=(tt,rt,nt)=>new j(tt,rt).update(nt).digest();a.hmac=et,a.hmac.create=(tt,rt)=>new j(tt,rt)})(hmac$2);Object.defineProperty(pbkdf2$1,"__esModule",{value:!0});pbkdf2$1.pbkdf2Async=pbkdf2$1.pbkdf2=void 0;const _assert_js_1$1=_assert,hmac_js_1=hmac$2,utils_js_1$1=utils$e;function pbkdf2Init(a,_,$,j){_assert_js_1$1.default.hash(a);const et=(0,utils_js_1$1.checkOpts)({dkLen:32,asyncTick:10},j),{c:tt,dkLen:rt,asyncTick:nt}=et;if(_assert_js_1$1.default.number(tt),_assert_js_1$1.default.number(rt),_assert_js_1$1.default.number(nt),tt<1)throw new Error("PBKDF2: iterations (c) should be >= 1");const it=(0,utils_js_1$1.toBytes)(_),st=(0,utils_js_1$1.toBytes)($),ot=new Uint8Array(rt),at=hmac_js_1.hmac.create(a,it),ut=at._cloneInto().update(st);return{c:tt,dkLen:rt,asyncTick:nt,DK:ot,PRF:at,PRFSalt:ut}}function pbkdf2Output(a,_,$,j,et){return a.destroy(),_.destroy(),j&&j.destroy(),et.fill(0),$}function pbkdf2(a,_,$,j){const{c:et,dkLen:tt,DK:rt,PRF:nt,PRFSalt:it}=pbkdf2Init(a,_,$,j);let st;const ot=new Uint8Array(4),at=(0,utils_js_1$1.createView)(ot),ut=new Uint8Array(nt.outputLen);for(let ht=1,yt=0;yt<tt;ht++,yt+=nt.outputLen){const wt=rt.subarray(yt,yt+nt.outputLen);at.setInt32(0,ht,!1),(st=it._cloneInto(st)).update(ot).digestInto(ut),wt.set(ut.subarray(0,wt.length));for(let Ct=1;Ct<et;Ct++){nt._cloneInto(st).update(ut).digestInto(ut);for(let Pt=0;Pt<wt.length;Pt++)wt[Pt]^=ut[Pt]}}return pbkdf2Output(nt,it,rt,st,ut)}pbkdf2$1.pbkdf2=pbkdf2;async function pbkdf2Async(a,_,$,j){const{c:et,dkLen:tt,asyncTick:rt,DK:nt,PRF:it,PRFSalt:st}=pbkdf2Init(a,_,$,j);let ot;const at=new Uint8Array(4),ut=(0,utils_js_1$1.createView)(at),ht=new Uint8Array(it.outputLen);for(let yt=1,wt=0;wt<tt;yt++,wt+=it.outputLen){const Ct=nt.subarray(wt,wt+it.outputLen);ut.setInt32(0,yt,!1),(ot=st._cloneInto(ot)).update(at).digestInto(ht),Ct.set(ht.subarray(0,Ct.length)),await(0,utils_js_1$1.asyncLoop)(et-1,rt,Pt=>{it._cloneInto(ot).update(ht).digestInto(ht);for(let Tt=0;Tt<Ct.length;Tt++)Ct[Tt]^=ht[Tt]})}return pbkdf2Output(it,st,nt,ot,ht)}pbkdf2$1.pbkdf2Async=pbkdf2Async;var _wordlists={};const require$$0=["abdikace","abeceda","adresa","agrese","akce","aktovka","alej","alkohol","amputace","ananas","andulka","anekdota","anketa","antika","anulovat","archa","arogance","asfalt","asistent","aspirace","astma","astronom","atlas","atletika","atol","autobus","azyl","babka","bachor","bacil","baculka","badatel","bageta","bagr","bahno","bakterie","balada","baletka","balkon","balonek","balvan","balza","bambus","bankomat","barbar","baret","barman","baroko","barva","baterka","batoh","bavlna","bazalka","bazilika","bazuka","bedna","beran","beseda","bestie","beton","bezinka","bezmoc","beztak","bicykl","bidlo","biftek","bikiny","bilance","biograf","biolog","bitva","bizon","blahobyt","blatouch","blecha","bledule","blesk","blikat","blizna","blokovat","bloudit","blud","bobek","bobr","bodlina","bodnout","bohatost","bojkot","bojovat","bokorys","bolest","borec","borovice","bota","boubel","bouchat","bouda","boule","bourat","boxer","bradavka","brambora","branka","bratr","brepta","briketa","brko","brloh","bronz","broskev","brunetka","brusinka","brzda","brzy","bublina","bubnovat","buchta","buditel","budka","budova","bufet","bujarost","bukvice","buldok","bulva","bunda","bunkr","burza","butik","buvol","buzola","bydlet","bylina","bytovka","bzukot","capart","carevna","cedr","cedule","cejch","cejn","cela","celer","celkem","celnice","cenina","cennost","cenovka","centrum","cenzor","cestopis","cetka","chalupa","chapadlo","charita","chata","chechtat","chemie","chichot","chirurg","chlad","chleba","chlubit","chmel","chmura","chobot","chochol","chodba","cholera","chomout","chopit","choroba","chov","chrapot","chrlit","chrt","chrup","chtivost","chudina","chutnat","chvat","chvilka","chvost","chyba","chystat","chytit","cibule","cigareta","cihelna","cihla","cinkot","cirkus","cisterna","citace","citrus","cizinec","cizost","clona","cokoliv","couvat","ctitel","ctnost","cudnost","cuketa","cukr","cupot","cvaknout","cval","cvik","cvrkot","cyklista","daleko","dareba","datel","datum","dcera","debata","dechovka","decibel","deficit","deflace","dekl","dekret","demokrat","deprese","derby","deska","detektiv","dikobraz","diktovat","dioda","diplom","disk","displej","divadlo","divoch","dlaha","dlouho","dluhopis","dnes","dobro","dobytek","docent","dochutit","dodnes","dohled","dohoda","dohra","dojem","dojnice","doklad","dokola","doktor","dokument","dolar","doleva","dolina","doma","dominant","domluvit","domov","donutit","dopad","dopis","doplnit","doposud","doprovod","dopustit","dorazit","dorost","dort","dosah","doslov","dostatek","dosud","dosyta","dotaz","dotek","dotknout","doufat","doutnat","dovozce","dozadu","doznat","dozorce","drahota","drak","dramatik","dravec","draze","drdol","drobnost","drogerie","drozd","drsnost","drtit","drzost","duben","duchovno","dudek","duha","duhovka","dusit","dusno","dutost","dvojice","dvorec","dynamit","ekolog","ekonomie","elektron","elipsa","email","emise","emoce","empatie","epizoda","epocha","epopej","epos","esej","esence","eskorta","eskymo","etiketa","euforie","evoluce","exekuce","exkurze","expedice","exploze","export","extrakt","facka","fajfka","fakulta","fanatik","fantazie","farmacie","favorit","fazole","federace","fejeton","fenka","fialka","figurant","filozof","filtr","finance","finta","fixace","fjord","flanel","flirt","flotila","fond","fosfor","fotbal","fotka","foton","frakce","freska","fronta","fukar","funkce","fyzika","galeje","garant","genetika","geolog","gilotina","glazura","glejt","golem","golfista","gotika","graf","gramofon","granule","grep","gril","grog","groteska","guma","hadice","hadr","hala","halenka","hanba","hanopis","harfa","harpuna","havran","hebkost","hejkal","hejno","hejtman","hektar","helma","hematom","herec","herna","heslo","hezky","historik","hladovka","hlasivky","hlava","hledat","hlen","hlodavec","hloh","hloupost","hltat","hlubina","hluchota","hmat","hmota","hmyz","hnis","hnojivo","hnout","hoblina","hoboj","hoch","hodiny","hodlat","hodnota","hodovat","hojnost","hokej","holinka","holka","holub","homole","honitba","honorace","horal","horda","horizont","horko","horlivec","hormon","hornina","horoskop","horstvo","hospoda","hostina","hotovost","houba","houf","houpat","houska","hovor","hradba","hranice","hravost","hrazda","hrbolek","hrdina","hrdlo","hrdost","hrnek","hrobka","hromada","hrot","hrouda","hrozen","hrstka","hrubost","hryzat","hubenost","hubnout","hudba","hukot","humr","husita","hustota","hvozd","hybnost","hydrant","hygiena","hymna","hysterik","idylka","ihned","ikona","iluze","imunita","infekce","inflace","inkaso","inovace","inspekce","internet","invalida","investor","inzerce","ironie","jablko","jachta","jahoda","jakmile","jakost","jalovec","jantar","jarmark","jaro","jasan","jasno","jatka","javor","jazyk","jedinec","jedle","jednatel","jehlan","jekot","jelen","jelito","jemnost","jenom","jepice","jeseter","jevit","jezdec","jezero","jinak","jindy","jinoch","jiskra","jistota","jitrnice","jizva","jmenovat","jogurt","jurta","kabaret","kabel","kabinet","kachna","kadet","kadidlo","kahan","kajak","kajuta","kakao","kaktus","kalamita","kalhoty","kalibr","kalnost","kamera","kamkoliv","kamna","kanibal","kanoe","kantor","kapalina","kapela","kapitola","kapka","kaple","kapota","kapr","kapusta","kapybara","karamel","karotka","karton","kasa","katalog","katedra","kauce","kauza","kavalec","kazajka","kazeta","kazivost","kdekoliv","kdesi","kedluben","kemp","keramika","kino","klacek","kladivo","klam","klapot","klasika","klaun","klec","klenba","klepat","klesnout","klid","klima","klisna","klobouk","klokan","klopa","kloub","klubovna","klusat","kluzkost","kmen","kmitat","kmotr","kniha","knot","koalice","koberec","kobka","kobliha","kobyla","kocour","kohout","kojenec","kokos","koktejl","kolaps","koleda","kolize","kolo","komando","kometa","komik","komnata","komora","kompas","komunita","konat","koncept","kondice","konec","konfese","kongres","konina","konkurs","kontakt","konzerva","kopanec","kopie","kopnout","koprovka","korbel","korektor","kormidlo","koroptev","korpus","koruna","koryto","korzet","kosatec","kostka","kotel","kotleta","kotoul","koukat","koupelna","kousek","kouzlo","kovboj","koza","kozoroh","krabice","krach","krajina","kralovat","krasopis","kravata","kredit","krejcar","kresba","kreveta","kriket","kritik","krize","krkavec","krmelec","krmivo","krocan","krok","kronika","kropit","kroupa","krovka","krtek","kruhadlo","krupice","krutost","krvinka","krychle","krypta","krystal","kryt","kudlanka","kufr","kujnost","kukla","kulajda","kulich","kulka","kulomet","kultura","kuna","kupodivu","kurt","kurzor","kutil","kvalita","kvasinka","kvestor","kynolog","kyselina","kytara","kytice","kytka","kytovec","kyvadlo","labrador","lachtan","ladnost","laik","lakomec","lamela","lampa","lanovka","lasice","laso","lastura","latinka","lavina","lebka","leckdy","leden","lednice","ledovka","ledvina","legenda","legie","legrace","lehce","lehkost","lehnout","lektvar","lenochod","lentilka","lepenka","lepidlo","letadlo","letec","letmo","letokruh","levhart","levitace","levobok","libra","lichotka","lidojed","lidskost","lihovina","lijavec","lilek","limetka","linie","linka","linoleum","listopad","litina","litovat","lobista","lodivod","logika","logoped","lokalita","loket","lomcovat","lopata","lopuch","lord","losos","lotr","loudal","louh","louka","louskat","lovec","lstivost","lucerna","lucifer","lump","lusk","lustrace","lvice","lyra","lyrika","lysina","madam","madlo","magistr","mahagon","majetek","majitel","majorita","makak","makovice","makrela","malba","malina","malovat","malvice","maminka","mandle","manko","marnost","masakr","maskot","masopust","matice","matrika","maturita","mazanec","mazivo","mazlit","mazurka","mdloba","mechanik","meditace","medovina","melasa","meloun","mentolka","metla","metoda","metr","mezera","migrace","mihnout","mihule","mikina","mikrofon","milenec","milimetr","milost","mimika","mincovna","minibar","minomet","minulost","miska","mistr","mixovat","mladost","mlha","mlhovina","mlok","mlsat","mluvit","mnich","mnohem","mobil","mocnost","modelka","modlitba","mohyla","mokro","molekula","momentka","monarcha","monokl","monstrum","montovat","monzun","mosaz","moskyt","most","motivace","motorka","motyka","moucha","moudrost","mozaika","mozek","mozol","mramor","mravenec","mrkev","mrtvola","mrzet","mrzutost","mstitel","mudrc","muflon","mulat","mumie","munice","muset","mutace","muzeum","muzikant","myslivec","mzda","nabourat","nachytat","nadace","nadbytek","nadhoz","nadobro","nadpis","nahlas","nahnat","nahodile","nahradit","naivita","najednou","najisto","najmout","naklonit","nakonec","nakrmit","nalevo","namazat","namluvit","nanometr","naoko","naopak","naostro","napadat","napevno","naplnit","napnout","naposled","naprosto","narodit","naruby","narychlo","nasadit","nasekat","naslepo","nastat","natolik","navenek","navrch","navzdory","nazvat","nebe","nechat","necky","nedaleko","nedbat","neduh","negace","nehet","nehoda","nejen","nejprve","neklid","nelibost","nemilost","nemoc","neochota","neonka","nepokoj","nerost","nerv","nesmysl","nesoulad","netvor","neuron","nevina","nezvykle","nicota","nijak","nikam","nikdy","nikl","nikterak","nitro","nocleh","nohavice","nominace","nora","norek","nositel","nosnost","nouze","noviny","novota","nozdra","nuda","nudle","nuget","nutit","nutnost","nutrie","nymfa","obal","obarvit","obava","obdiv","obec","obehnat","obejmout","obezita","obhajoba","obilnice","objasnit","objekt","obklopit","oblast","oblek","obliba","obloha","obluda","obnos","obohatit","obojek","obout","obrazec","obrna","obruba","obrys","obsah","obsluha","obstarat","obuv","obvaz","obvinit","obvod","obvykle","obyvatel","obzor","ocas","ocel","ocenit","ochladit","ochota","ochrana","ocitnout","odboj","odbyt","odchod","odcizit","odebrat","odeslat","odevzdat","odezva","odhadce","odhodit","odjet","odjinud","odkaz","odkoupit","odliv","odluka","odmlka","odolnost","odpad","odpis","odplout","odpor","odpustit","odpykat","odrazka","odsoudit","odstup","odsun","odtok","odtud","odvaha","odveta","odvolat","odvracet","odznak","ofina","ofsajd","ohlas","ohnisko","ohrada","ohrozit","ohryzek","okap","okenice","oklika","okno","okouzlit","okovy","okrasa","okres","okrsek","okruh","okupant","okurka","okusit","olejnina","olizovat","omak","omeleta","omezit","omladina","omlouvat","omluva","omyl","onehdy","opakovat","opasek","operace","opice","opilost","opisovat","opora","opozice","opravdu","oproti","orbital","orchestr","orgie","orlice","orloj","ortel","osada","oschnout","osika","osivo","oslava","oslepit","oslnit","oslovit","osnova","osoba","osolit","ospalec","osten","ostraha","ostuda","ostych","osvojit","oteplit","otisk","otop","otrhat","otrlost","otrok","otruby","otvor","ovanout","ovar","oves","ovlivnit","ovoce","oxid","ozdoba","pachatel","pacient","padouch","pahorek","pakt","palanda","palec","palivo","paluba","pamflet","pamlsek","panenka","panika","panna","panovat","panstvo","pantofle","paprika","parketa","parodie","parta","paruka","paryba","paseka","pasivita","pastelka","patent","patrona","pavouk","pazneht","pazourek","pecka","pedagog","pejsek","peklo","peloton","penalta","pendrek","penze","periskop","pero","pestrost","petarda","petice","petrolej","pevnina","pexeso","pianista","piha","pijavice","pikle","piknik","pilina","pilnost","pilulka","pinzeta","pipeta","pisatel","pistole","pitevna","pivnice","pivovar","placenta","plakat","plamen","planeta","plastika","platit","plavidlo","plaz","plech","plemeno","plenta","ples","pletivo","plevel","plivat","plnit","plno","plocha","plodina","plomba","plout","pluk","plyn","pobavit","pobyt","pochod","pocit","poctivec","podat","podcenit","podepsat","podhled","podivit","podklad","podmanit","podnik","podoba","podpora","podraz","podstata","podvod","podzim","poezie","pohanka","pohnutka","pohovor","pohroma","pohyb","pointa","pojistka","pojmout","pokazit","pokles","pokoj","pokrok","pokuta","pokyn","poledne","polibek","polknout","poloha","polynom","pomalu","pominout","pomlka","pomoc","pomsta","pomyslet","ponechat","ponorka","ponurost","popadat","popel","popisek","poplach","poprosit","popsat","popud","poradce","porce","porod","porucha","poryv","posadit","posed","posila","poskok","poslanec","posoudit","pospolu","postava","posudek","posyp","potah","potkan","potlesk","potomek","potrava","potupa","potvora","poukaz","pouto","pouzdro","povaha","povidla","povlak","povoz","povrch","povstat","povyk","povzdech","pozdrav","pozemek","poznatek","pozor","pozvat","pracovat","prahory","praktika","prales","praotec","praporek","prase","pravda","princip","prkno","probudit","procento","prodej","profese","prohra","projekt","prolomit","promile","pronikat","propad","prorok","prosba","proton","proutek","provaz","prskavka","prsten","prudkost","prut","prvek","prvohory","psanec","psovod","pstruh","ptactvo","puberta","puch","pudl","pukavec","puklina","pukrle","pult","pumpa","punc","pupen","pusa","pusinka","pustina","putovat","putyka","pyramida","pysk","pytel","racek","rachot","radiace","radnice","radon","raft","ragby","raketa","rakovina","rameno","rampouch","rande","rarach","rarita","rasovna","rastr","ratolest","razance","razidlo","reagovat","reakce","recept","redaktor","referent","reflex","rejnok","reklama","rekord","rekrut","rektor","reputace","revize","revma","revolver","rezerva","riskovat","riziko","robotika","rodokmen","rohovka","rokle","rokoko","romaneto","ropovod","ropucha","rorejs","rosol","rostlina","rotmistr","rotoped","rotunda","roubenka","roucho","roup","roura","rovina","rovnice","rozbor","rozchod","rozdat","rozeznat","rozhodce","rozinka","rozjezd","rozkaz","rozloha","rozmar","rozpad","rozruch","rozsah","roztok","rozum","rozvod","rubrika","ruchadlo","rukavice","rukopis","ryba","rybolov","rychlost","rydlo","rypadlo","rytina","ryzost","sadista","sahat","sako","samec","samizdat","samota","sanitka","sardinka","sasanka","satelit","sazba","sazenice","sbor","schovat","sebranka","secese","sedadlo","sediment","sedlo","sehnat","sejmout","sekera","sekta","sekunda","sekvoje","semeno","seno","servis","sesadit","seshora","seskok","seslat","sestra","sesuv","sesypat","setba","setina","setkat","setnout","setrvat","sever","seznam","shoda","shrnout","sifon","silnice","sirka","sirotek","sirup","situace","skafandr","skalisko","skanzen","skaut","skeptik","skica","skladba","sklenice","sklo","skluz","skoba","skokan","skoro","skripta","skrz","skupina","skvost","skvrna","slabika","sladidlo","slanina","slast","slavnost","sledovat","slepec","sleva","slezina","slib","slina","sliznice","slon","sloupek","slovo","sluch","sluha","slunce","slupka","slza","smaragd","smetana","smilstvo","smlouva","smog","smrad","smrk","smrtka","smutek","smysl","snad","snaha","snob","sobota","socha","sodovka","sokol","sopka","sotva","souboj","soucit","soudce","souhlas","soulad","soumrak","souprava","soused","soutok","souviset","spalovna","spasitel","spis","splav","spodek","spojenec","spolu","sponzor","spornost","spousta","sprcha","spustit","sranda","sraz","srdce","srna","srnec","srovnat","srpen","srst","srub","stanice","starosta","statika","stavba","stehno","stezka","stodola","stolek","stopa","storno","stoupat","strach","stres","strhnout","strom","struna","studna","stupnice","stvol","styk","subjekt","subtropy","suchar","sudost","sukno","sundat","sunout","surikata","surovina","svah","svalstvo","svetr","svatba","svazek","svisle","svitek","svoboda","svodidlo","svorka","svrab","sykavka","sykot","synek","synovec","sypat","sypkost","syrovost","sysel","sytost","tabletka","tabule","tahoun","tajemno","tajfun","tajga","tajit","tajnost","taktika","tamhle","tampon","tancovat","tanec","tanker","tapeta","tavenina","tazatel","technika","tehdy","tekutina","telefon","temnota","tendence","tenista","tenor","teplota","tepna","teprve","terapie","termoska","textil","ticho","tiskopis","titulek","tkadlec","tkanina","tlapka","tleskat","tlukot","tlupa","tmel","toaleta","topinka","topol","torzo","touha","toulec","tradice","traktor","tramp","trasa","traverza","trefit","trest","trezor","trhavina","trhlina","trochu","trojice","troska","trouba","trpce","trpitel","trpkost","trubec","truchlit","truhlice","trus","trvat","tudy","tuhnout","tuhost","tundra","turista","turnaj","tuzemsko","tvaroh","tvorba","tvrdost","tvrz","tygr","tykev","ubohost","uboze","ubrat","ubrousek","ubrus","ubytovna","ucho","uctivost","udivit","uhradit","ujednat","ujistit","ujmout","ukazatel","uklidnit","uklonit","ukotvit","ukrojit","ulice","ulita","ulovit","umyvadlo","unavit","uniforma","uniknout","upadnout","uplatnit","uplynout","upoutat","upravit","uran","urazit","usednout","usilovat","usmrtit","usnadnit","usnout","usoudit","ustlat","ustrnout","utahovat","utkat","utlumit","utonout","utopenec","utrousit","uvalit","uvolnit","uvozovka","uzdravit","uzel","uzenina","uzlina","uznat","vagon","valcha","valoun","vana","vandal","vanilka","varan","varhany","varovat","vcelku","vchod","vdova","vedro","vegetace","vejce","velbloud","veletrh","velitel","velmoc","velryba","venkov","veranda","verze","veselka","veskrze","vesnice","vespodu","vesta","veterina","veverka","vibrace","vichr","videohra","vidina","vidle","vila","vinice","viset","vitalita","vize","vizitka","vjezd","vklad","vkus","vlajka","vlak","vlasec","vlevo","vlhkost","vliv","vlnovka","vloupat","vnucovat","vnuk","voda","vodivost","vodoznak","vodstvo","vojensky","vojna","vojsko","volant","volba","volit","volno","voskovka","vozidlo","vozovna","vpravo","vrabec","vracet","vrah","vrata","vrba","vrcholek","vrhat","vrstva","vrtule","vsadit","vstoupit","vstup","vtip","vybavit","vybrat","vychovat","vydat","vydra","vyfotit","vyhledat","vyhnout","vyhodit","vyhradit","vyhubit","vyjasnit","vyjet","vyjmout","vyklopit","vykonat","vylekat","vymazat","vymezit","vymizet","vymyslet","vynechat","vynikat","vynutit","vypadat","vyplatit","vypravit","vypustit","vyrazit","vyrovnat","vyrvat","vyslovit","vysoko","vystavit","vysunout","vysypat","vytasit","vytesat","vytratit","vyvinout","vyvolat","vyvrhel","vyzdobit","vyznat","vzadu","vzbudit","vzchopit","vzdor","vzduch","vzdychat","vzestup","vzhledem","vzkaz","vzlykat","vznik","vzorek","vzpoura","vztah","vztek","xylofon","zabrat","zabydlet","zachovat","zadarmo","zadusit","zafoukat","zahltit","zahodit","zahrada","zahynout","zajatec","zajet","zajistit","zaklepat","zakoupit","zalepit","zamezit","zamotat","zamyslet","zanechat","zanikat","zaplatit","zapojit","zapsat","zarazit","zastavit","zasunout","zatajit","zatemnit","zatknout","zaujmout","zavalit","zavelet","zavinit","zavolat","zavrtat","zazvonit","zbavit","zbrusu","zbudovat","zbytek","zdaleka","zdarma","zdatnost","zdivo","zdobit","zdroj","zdvih","zdymadlo","zelenina","zeman","zemina","zeptat","zezadu","zezdola","zhatit","zhltnout","zhluboka","zhotovit","zhruba","zima","zimnice","zjemnit","zklamat","zkoumat","zkratka","zkumavka","zlato","zlehka","zloba","zlom","zlost","zlozvyk","zmapovat","zmar","zmatek","zmije","zmizet","zmocnit","zmodrat","zmrzlina","zmutovat","znak","znalost","znamenat","znovu","zobrazit","zotavit","zoubek","zoufale","zplodit","zpomalit","zprava","zprostit","zprudka","zprvu","zrada","zranit","zrcadlo","zrnitost","zrno","zrovna","zrychlit","zrzavost","zticha","ztratit","zubovina","zubr","zvednout","zvenku","zvesela","zvon","zvrat","zvukovod","zvyk"],require$$1=["的","一","是","在","不","了","有","和","人","这","中","大","为","上","个","国","我","以","要","他","时","来","用","们","生","到","作","地","于","出","就","分","对","成","会","可","主","发","年","动","同","工","也","能","下","过","子","说","产","种","面","而","方","后","多","定","行","学","法","所","民","得","经","十","三","之","进","着","等","部","度","家","电","力","里","如","水","化","高","自","二","理","起","小","物","现","实","加","量","都","两","体","制","机","当","使","点","从","业","本","去","把","性","好","应","开","它","合","还","因","由","其","些","然","前","外","天","政","四","日","那","社","义","事","平","形","相","全","表","间","样","与","关","各","重","新","线","内","数","正","心","反","你","明","看","原","又","么","利","比","或","但","质","气","第","向","道","命","此","变","条","只","没","结","解","问","意","建","月","公","无","系","军","很","情","者","最","立","代","想","已","通","并","提","直","题","党","程","展","五","果","料","象","员","革","位","入","常","文","总","次","品","式","活","设","及","管","特","件","长","求","老","头","基","资","边","流","路","级","少","图","山","统","接","知","较","将","组","见","计","别","她","手","角","期","根","论","运","农","指","几","九","区","强","放","决","西","被","干","做","必","战","先","回","则","任","取","据","处","队","南","给","色","光","门","即","保","治","北","造","百","规","热","领","七","海","口","东","导","器","压","志","世","金","增","争","济","阶","油","思","术","极","交","受","联","什","认","六","共","权","收","证","改","清","美","再","采","转","更","单","风","切","打","白","教","速","花","带","安","场","身","车","例","真","务","具","万","每","目","至","达","走","积","示","议","声","报","斗","完","类","八","离","华","名","确","才","科","张","信","马","节","话","米","整","空","元","况","今","集","温","传","土","许","步","群","广","石","记","需","段","研","界","拉","林","律","叫","且","究","观","越","织","装","影","算","低","持","音","众","书","布","复","容","儿","须","际","商","非","验","连","断","深","难","近","矿","千","周","委","素","技","备","半","办","青","省","列","习","响","约","支","般","史","感","劳","便","团","往","酸","历","市","克","何","除","消","构","府","称","太","准","精","值","号","率","族","维","划","选","标","写","存","候","毛","亲","快","效","斯","院","查","江","型","眼","王","按","格","养","易","置","派","层","片","始","却","专","状","育","厂","京","识","适","属","圆","包","火","住","调","满","县","局","照","参","红","细","引","听","该","铁","价","严","首","底","液","官","德","随","病","苏","失","尔","死","讲","配","女","黄","推","显","谈","罪","神","艺","呢","席","含","企","望","密","批","营","项","防","举","球","英","氧","势","告","李","台","落","木","帮","轮","破","亚","师","围","注","远","字","材","排","供","河","态","封","另","施","减","树","溶","怎","止","案","言","士","均","武","固","叶","鱼","波","视","仅","费","紧","爱","左","章","早","朝","害","续","轻","服","试","食","充","兵","源","判","护","司","足","某","练","差","致","板","田","降","黑","犯","负","击","范","继","兴","似","余","坚","曲","输","修","故","城","夫","够","送","笔","船","占","右","财","吃","富","春","职","觉","汉","画","功","巴","跟","虽","杂","飞","检","吸","助","升","阳","互","初","创","抗","考","投","坏","策","古","径","换","未","跑","留","钢","曾","端","责","站","简","述","钱","副","尽","帝","射","草","冲","承","独","令","限","阿","宣","环","双","请","超","微","让","控","州","良","轴","找","否","纪","益","依","优","顶","础","载","倒","房","突","坐","粉","敌","略","客","袁","冷","胜","绝","析","块","剂","测","丝","协","诉","念","陈","仍","罗","盐","友","洋","错","苦","夜","刑","移","频","逐","靠","混","母","短","皮","终","聚","汽","村","云","哪","既","距","卫","停","烈","央","察","烧","迅","境","若","印","洲","刻","括","激","孔","搞","甚","室","待","核","校","散","侵","吧","甲","游","久","菜","味","旧","模","湖","货","损","预","阻","毫","普","稳","乙","妈","植","息","扩","银","语","挥","酒","守","拿","序","纸","医","缺","雨","吗","针","刘","啊","急","唱","误","训","愿","审","附","获","茶","鲜","粮","斤","孩","脱","硫","肥","善","龙","演","父","渐","血","欢","械","掌","歌","沙","刚","攻","谓","盾","讨","晚","粒","乱","燃","矛","乎","杀","药","宁","鲁","贵","钟","煤","读","班","伯","香","介","迫","句","丰","培","握","兰","担","弦","蛋","沉","假","穿","执","答","乐","谁","顺","烟","缩","征","脸","喜","松","脚","困","异","免","背","星","福","买","染","井","概","慢","怕","磁","倍","祖","皇","促","静","补","评","翻","肉","践","尼","衣","宽","扬","棉","希","伤","操","垂","秋","宜","氢","套","督","振","架","亮","末","宪","庆","编","牛","触","映","雷","销","诗","座","居","抓","裂","胞","呼","娘","景","威","绿","晶","厚","盟","衡","鸡","孙","延","危","胶","屋","乡","临","陆","顾","掉","呀","灯","岁","措","束","耐","剧","玉","赵","跳","哥","季","课","凯","胡","额","款","绍","卷","齐","伟","蒸","殖","永","宗","苗","川","炉","岩","弱","零","杨","奏","沿","露","杆","探","滑","镇","饭","浓","航","怀","赶","库","夺","伊","灵","税","途","灭","赛","归","召","鼓","播","盘","裁","险","康","唯","录","菌","纯","借","糖","盖","横","符","私","努","堂","域","枪","润","幅","哈","竟","熟","虫","泽","脑","壤","碳","欧","遍","侧","寨","敢","彻","虑","斜","薄","庭","纳","弹","饲","伸","折","麦","湿","暗","荷","瓦","塞","床","筑","恶","户","访","塔","奇","透","梁","刀","旋","迹","卡","氯","遇","份","毒","泥","退","洗","摆","灰","彩","卖","耗","夏","择","忙","铜","献","硬","予","繁","圈","雪","函","亦","抽","篇","阵","阴","丁","尺","追","堆","雄","迎","泛","爸","楼","避","谋","吨","野","猪","旗","累","偏","典","馆","索","秦","脂","潮","爷","豆","忽","托","惊","塑","遗","愈","朱","替","纤","粗","倾","尚","痛","楚","谢","奋","购","磨","君","池","旁","碎","骨","监","捕","弟","暴","割","贯","殊","释","词","亡","壁","顿","宝","午","尘","闻","揭","炮","残","冬","桥","妇","警","综","招","吴","付","浮","遭","徐","您","摇","谷","赞","箱","隔","订","男","吹","园","纷","唐","败","宋","玻","巨","耕","坦","荣","闭","湾","键","凡","驻","锅","救","恩","剥","凝","碱","齿","截","炼","麻","纺","禁","废","盛","版","缓","净","睛","昌","婚","涉","筒","嘴","插","岸","朗","庄","街","藏","姑","贸","腐","奴","啦","惯","乘","伙","恢","匀","纱","扎","辩","耳","彪","臣","亿","璃","抵","脉","秀","萨","俄","网","舞","店","喷","纵","寸","汗","挂","洪","贺","闪","柬","爆","烯","津","稻","墙","软","勇","像","滚","厘","蒙","芳","肯","坡","柱","荡","腿","仪","旅","尾","轧","冰","贡","登","黎","削","钻","勒","逃","障","氨","郭","峰","币","港","伏","轨","亩","毕","擦","莫","刺","浪","秘","援","株","健","售","股","岛","甘","泡","睡","童","铸","汤","阀","休","汇","舍","牧","绕","炸","哲","磷","绩","朋","淡","尖","启","陷","柴","呈","徒","颜","泪","稍","忘","泵","蓝","拖","洞","授","镜","辛","壮","锋","贫","虚","弯","摩","泰","幼","廷","尊","窗","纲","弄","隶","疑","氏","宫","姐","震","瑞","怪","尤","琴","循","描","膜","违","夹","腰","缘","珠","穷","森","枝","竹","沟","催","绳","忆","邦","剩","幸","浆","栏","拥","牙","贮","礼","滤","钠","纹","罢","拍","咱","喊","袖","埃","勤","罚","焦","潜","伍","墨","欲","缝","姓","刊","饱","仿","奖","铝","鬼","丽","跨","默","挖","链","扫","喝","袋","炭","污","幕","诸","弧","励","梅","奶","洁","灾","舟","鉴","苯","讼","抱","毁","懂","寒","智","埔","寄","届","跃","渡","挑","丹","艰","贝","碰","拔","爹","戴","码","梦","芽","熔","赤","渔","哭","敬","颗","奔","铅","仲","虎","稀","妹","乏","珍","申","桌","遵","允","隆","螺","仓","魏","锐","晓","氮","兼","隐","碍","赫","拨","忠","肃","缸","牵","抢","博","巧","壳","兄","杜","讯","诚","碧","祥","柯","页","巡","矩","悲","灌","龄","伦","票","寻","桂","铺","圣","恐","恰","郑","趣","抬","荒","腾","贴","柔","滴","猛","阔","辆","妻","填","撤","储","签","闹","扰","紫","砂","递","戏","吊","陶","伐","喂","疗","瓶","婆","抚","臂","摸","忍","虾","蜡","邻","胸","巩","挤","偶","弃","槽","劲","乳","邓","吉","仁","烂","砖","租","乌","舰","伴","瓜","浅","丙","暂","燥","橡","柳","迷","暖","牌","秧","胆","详","簧","踏","瓷","谱","呆","宾","糊","洛","辉","愤","竞","隙","怒","粘","乃","绪","肩","籍","敏","涂","熙","皆","侦","悬","掘","享","纠","醒","狂","锁","淀","恨","牲","霸","爬","赏","逆","玩","陵","祝","秒","浙","貌","役","彼","悉","鸭","趋","凤","晨","畜","辈","秩","卵","署","梯","炎","滩","棋","驱","筛","峡","冒","啥","寿","译","浸","泉","帽","迟","硅","疆","贷","漏","稿","冠","嫩","胁","芯","牢","叛","蚀","奥","鸣","岭","羊","凭","串","塘","绘","酵","融","盆","锡","庙","筹","冻","辅","摄","袭","筋","拒","僚","旱","钾","鸟","漆","沈","眉","疏","添","棒","穗","硝","韩","逼","扭","侨","凉","挺","碗","栽","炒","杯","患","馏","劝","豪","辽","勃","鸿","旦","吏","拜","狗","埋","辊","掩","饮","搬","骂","辞","勾","扣","估","蒋","绒","雾","丈","朵","姆","拟","宇","辑","陕","雕","偿","蓄","崇","剪","倡","厅","咬","驶","薯","刷","斥","番","赋","奉","佛","浇","漫","曼","扇","钙","桃","扶","仔","返","俗","亏","腔","鞋","棱","覆","框","悄","叔","撞","骗","勘","旺","沸","孤","吐","孟","渠","屈","疾","妙","惜","仰","狠","胀","谐","抛","霉","桑","岗","嘛","衰","盗","渗","脏","赖","涌","甜","曹","阅","肌","哩","厉","烃","纬","毅","昨","伪","症","煮","叹","钉","搭","茎","笼","酷","偷","弓","锥","恒","杰","坑","鼻","翼","纶","叙","狱","逮","罐","络","棚","抑","膨","蔬","寺","骤","穆","冶","枯","册","尸","凸","绅","坯","牺","焰","轰","欣","晋","瘦","御","锭","锦","丧","旬","锻","垄","搜","扑","邀","亭","酯","迈","舒","脆","酶","闲","忧","酚","顽","羽","涨","卸","仗","陪","辟","惩","杭","姚","肚","捉","飘","漂","昆","欺","吾","郎","烷","汁","呵","饰","萧","雅","邮","迁","燕","撒","姻","赴","宴","烦","债","帐","斑","铃","旨","醇","董","饼","雏","姿","拌","傅","腹","妥","揉","贤","拆","歪","葡","胺","丢","浩","徽","昂","垫","挡","览","贪","慰","缴","汪","慌","冯","诺","姜","谊","凶","劣","诬","耀","昏","躺","盈","骑","乔","溪","丛","卢","抹","闷","咨","刮","驾","缆","悟","摘","铒","掷","颇","幻","柄","惠","惨","佳","仇","腊","窝","涤","剑","瞧","堡","泼","葱","罩","霍","捞","胎","苍","滨","俩","捅","湘","砍","霞","邵","萄","疯","淮","遂","熊","粪","烘","宿","档","戈","驳","嫂","裕","徙","箭","捐","肠","撑","晒","辨","殿","莲","摊","搅","酱","屏","疫","哀","蔡","堵","沫","皱","畅","叠","阁","莱","敲","辖","钩","痕","坝","巷","饿","祸","丘","玄","溜","曰","逻","彭","尝","卿","妨","艇","吞","韦","怨","矮","歇"],require$$2$1=["的","一","是","在","不","了","有","和","人","這","中","大","為","上","個","國","我","以","要","他","時","來","用","們","生","到","作","地","於","出","就","分","對","成","會","可","主","發","年","動","同","工","也","能","下","過","子","說","產","種","面","而","方","後","多","定","行","學","法","所","民","得","經","十","三","之","進","著","等","部","度","家","電","力","裡","如","水","化","高","自","二","理","起","小","物","現","實","加","量","都","兩","體","制","機","當","使","點","從","業","本","去","把","性","好","應","開","它","合","還","因","由","其","些","然","前","外","天","政","四","日","那","社","義","事","平","形","相","全","表","間","樣","與","關","各","重","新","線","內","數","正","心","反","你","明","看","原","又","麼","利","比","或","但","質","氣","第","向","道","命","此","變","條","只","沒","結","解","問","意","建","月","公","無","系","軍","很","情","者","最","立","代","想","已","通","並","提","直","題","黨","程","展","五","果","料","象","員","革","位","入","常","文","總","次","品","式","活","設","及","管","特","件","長","求","老","頭","基","資","邊","流","路","級","少","圖","山","統","接","知","較","將","組","見","計","別","她","手","角","期","根","論","運","農","指","幾","九","區","強","放","決","西","被","幹","做","必","戰","先","回","則","任","取","據","處","隊","南","給","色","光","門","即","保","治","北","造","百","規","熱","領","七","海","口","東","導","器","壓","志","世","金","增","爭","濟","階","油","思","術","極","交","受","聯","什","認","六","共","權","收","證","改","清","美","再","採","轉","更","單","風","切","打","白","教","速","花","帶","安","場","身","車","例","真","務","具","萬","每","目","至","達","走","積","示","議","聲","報","鬥","完","類","八","離","華","名","確","才","科","張","信","馬","節","話","米","整","空","元","況","今","集","溫","傳","土","許","步","群","廣","石","記","需","段","研","界","拉","林","律","叫","且","究","觀","越","織","裝","影","算","低","持","音","眾","書","布","复","容","兒","須","際","商","非","驗","連","斷","深","難","近","礦","千","週","委","素","技","備","半","辦","青","省","列","習","響","約","支","般","史","感","勞","便","團","往","酸","歷","市","克","何","除","消","構","府","稱","太","準","精","值","號","率","族","維","劃","選","標","寫","存","候","毛","親","快","效","斯","院","查","江","型","眼","王","按","格","養","易","置","派","層","片","始","卻","專","狀","育","廠","京","識","適","屬","圓","包","火","住","調","滿","縣","局","照","參","紅","細","引","聽","該","鐵","價","嚴","首","底","液","官","德","隨","病","蘇","失","爾","死","講","配","女","黃","推","顯","談","罪","神","藝","呢","席","含","企","望","密","批","營","項","防","舉","球","英","氧","勢","告","李","台","落","木","幫","輪","破","亞","師","圍","注","遠","字","材","排","供","河","態","封","另","施","減","樹","溶","怎","止","案","言","士","均","武","固","葉","魚","波","視","僅","費","緊","愛","左","章","早","朝","害","續","輕","服","試","食","充","兵","源","判","護","司","足","某","練","差","致","板","田","降","黑","犯","負","擊","范","繼","興","似","餘","堅","曲","輸","修","故","城","夫","夠","送","筆","船","佔","右","財","吃","富","春","職","覺","漢","畫","功","巴","跟","雖","雜","飛","檢","吸","助","昇","陽","互","初","創","抗","考","投","壞","策","古","徑","換","未","跑","留","鋼","曾","端","責","站","簡","述","錢","副","盡","帝","射","草","衝","承","獨","令","限","阿","宣","環","雙","請","超","微","讓","控","州","良","軸","找","否","紀","益","依","優","頂","礎","載","倒","房","突","坐","粉","敵","略","客","袁","冷","勝","絕","析","塊","劑","測","絲","協","訴","念","陳","仍","羅","鹽","友","洋","錯","苦","夜","刑","移","頻","逐","靠","混","母","短","皮","終","聚","汽","村","雲","哪","既","距","衛","停","烈","央","察","燒","迅","境","若","印","洲","刻","括","激","孔","搞","甚","室","待","核","校","散","侵","吧","甲","遊","久","菜","味","舊","模","湖","貨","損","預","阻","毫","普","穩","乙","媽","植","息","擴","銀","語","揮","酒","守","拿","序","紙","醫","缺","雨","嗎","針","劉","啊","急","唱","誤","訓","願","審","附","獲","茶","鮮","糧","斤","孩","脫","硫","肥","善","龍","演","父","漸","血","歡","械","掌","歌","沙","剛","攻","謂","盾","討","晚","粒","亂","燃","矛","乎","殺","藥","寧","魯","貴","鐘","煤","讀","班","伯","香","介","迫","句","豐","培","握","蘭","擔","弦","蛋","沉","假","穿","執","答","樂","誰","順","煙","縮","徵","臉","喜","松","腳","困","異","免","背","星","福","買","染","井","概","慢","怕","磁","倍","祖","皇","促","靜","補","評","翻","肉","踐","尼","衣","寬","揚","棉","希","傷","操","垂","秋","宜","氫","套","督","振","架","亮","末","憲","慶","編","牛","觸","映","雷","銷","詩","座","居","抓","裂","胞","呼","娘","景","威","綠","晶","厚","盟","衡","雞","孫","延","危","膠","屋","鄉","臨","陸","顧","掉","呀","燈","歲","措","束","耐","劇","玉","趙","跳","哥","季","課","凱","胡","額","款","紹","卷","齊","偉","蒸","殖","永","宗","苗","川","爐","岩","弱","零","楊","奏","沿","露","桿","探","滑","鎮","飯","濃","航","懷","趕","庫","奪","伊","靈","稅","途","滅","賽","歸","召","鼓","播","盤","裁","險","康","唯","錄","菌","純","借","糖","蓋","橫","符","私","努","堂","域","槍","潤","幅","哈","竟","熟","蟲","澤","腦","壤","碳","歐","遍","側","寨","敢","徹","慮","斜","薄","庭","納","彈","飼","伸","折","麥","濕","暗","荷","瓦","塞","床","築","惡","戶","訪","塔","奇","透","梁","刀","旋","跡","卡","氯","遇","份","毒","泥","退","洗","擺","灰","彩","賣","耗","夏","擇","忙","銅","獻","硬","予","繁","圈","雪","函","亦","抽","篇","陣","陰","丁","尺","追","堆","雄","迎","泛","爸","樓","避","謀","噸","野","豬","旗","累","偏","典","館","索","秦","脂","潮","爺","豆","忽","托","驚","塑","遺","愈","朱","替","纖","粗","傾","尚","痛","楚","謝","奮","購","磨","君","池","旁","碎","骨","監","捕","弟","暴","割","貫","殊","釋","詞","亡","壁","頓","寶","午","塵","聞","揭","炮","殘","冬","橋","婦","警","綜","招","吳","付","浮","遭","徐","您","搖","谷","贊","箱","隔","訂","男","吹","園","紛","唐","敗","宋","玻","巨","耕","坦","榮","閉","灣","鍵","凡","駐","鍋","救","恩","剝","凝","鹼","齒","截","煉","麻","紡","禁","廢","盛","版","緩","淨","睛","昌","婚","涉","筒","嘴","插","岸","朗","莊","街","藏","姑","貿","腐","奴","啦","慣","乘","夥","恢","勻","紗","扎","辯","耳","彪","臣","億","璃","抵","脈","秀","薩","俄","網","舞","店","噴","縱","寸","汗","掛","洪","賀","閃","柬","爆","烯","津","稻","牆","軟","勇","像","滾","厘","蒙","芳","肯","坡","柱","盪","腿","儀","旅","尾","軋","冰","貢","登","黎","削","鑽","勒","逃","障","氨","郭","峰","幣","港","伏","軌","畝","畢","擦","莫","刺","浪","秘","援","株","健","售","股","島","甘","泡","睡","童","鑄","湯","閥","休","匯","舍","牧","繞","炸","哲","磷","績","朋","淡","尖","啟","陷","柴","呈","徒","顏","淚","稍","忘","泵","藍","拖","洞","授","鏡","辛","壯","鋒","貧","虛","彎","摩","泰","幼","廷","尊","窗","綱","弄","隸","疑","氏","宮","姐","震","瑞","怪","尤","琴","循","描","膜","違","夾","腰","緣","珠","窮","森","枝","竹","溝","催","繩","憶","邦","剩","幸","漿","欄","擁","牙","貯","禮","濾","鈉","紋","罷","拍","咱","喊","袖","埃","勤","罰","焦","潛","伍","墨","欲","縫","姓","刊","飽","仿","獎","鋁","鬼","麗","跨","默","挖","鏈","掃","喝","袋","炭","污","幕","諸","弧","勵","梅","奶","潔","災","舟","鑑","苯","訟","抱","毀","懂","寒","智","埔","寄","屆","躍","渡","挑","丹","艱","貝","碰","拔","爹","戴","碼","夢","芽","熔","赤","漁","哭","敬","顆","奔","鉛","仲","虎","稀","妹","乏","珍","申","桌","遵","允","隆","螺","倉","魏","銳","曉","氮","兼","隱","礙","赫","撥","忠","肅","缸","牽","搶","博","巧","殼","兄","杜","訊","誠","碧","祥","柯","頁","巡","矩","悲","灌","齡","倫","票","尋","桂","鋪","聖","恐","恰","鄭","趣","抬","荒","騰","貼","柔","滴","猛","闊","輛","妻","填","撤","儲","簽","鬧","擾","紫","砂","遞","戲","吊","陶","伐","餵","療","瓶","婆","撫","臂","摸","忍","蝦","蠟","鄰","胸","鞏","擠","偶","棄","槽","勁","乳","鄧","吉","仁","爛","磚","租","烏","艦","伴","瓜","淺","丙","暫","燥","橡","柳","迷","暖","牌","秧","膽","詳","簧","踏","瓷","譜","呆","賓","糊","洛","輝","憤","競","隙","怒","粘","乃","緒","肩","籍","敏","塗","熙","皆","偵","懸","掘","享","糾","醒","狂","鎖","淀","恨","牲","霸","爬","賞","逆","玩","陵","祝","秒","浙","貌","役","彼","悉","鴨","趨","鳳","晨","畜","輩","秩","卵","署","梯","炎","灘","棋","驅","篩","峽","冒","啥","壽","譯","浸","泉","帽","遲","矽","疆","貸","漏","稿","冠","嫩","脅","芯","牢","叛","蝕","奧","鳴","嶺","羊","憑","串","塘","繪","酵","融","盆","錫","廟","籌","凍","輔","攝","襲","筋","拒","僚","旱","鉀","鳥","漆","沈","眉","疏","添","棒","穗","硝","韓","逼","扭","僑","涼","挺","碗","栽","炒","杯","患","餾","勸","豪","遼","勃","鴻","旦","吏","拜","狗","埋","輥","掩","飲","搬","罵","辭","勾","扣","估","蔣","絨","霧","丈","朵","姆","擬","宇","輯","陝","雕","償","蓄","崇","剪","倡","廳","咬","駛","薯","刷","斥","番","賦","奉","佛","澆","漫","曼","扇","鈣","桃","扶","仔","返","俗","虧","腔","鞋","棱","覆","框","悄","叔","撞","騙","勘","旺","沸","孤","吐","孟","渠","屈","疾","妙","惜","仰","狠","脹","諧","拋","黴","桑","崗","嘛","衰","盜","滲","臟","賴","湧","甜","曹","閱","肌","哩","厲","烴","緯","毅","昨","偽","症","煮","嘆","釘","搭","莖","籠","酷","偷","弓","錐","恆","傑","坑","鼻","翼","綸","敘","獄","逮","罐","絡","棚","抑","膨","蔬","寺","驟","穆","冶","枯","冊","屍","凸","紳","坯","犧","焰","轟","欣","晉","瘦","禦","錠","錦","喪","旬","鍛","壟","搜","撲","邀","亭","酯","邁","舒","脆","酶","閒","憂","酚","頑","羽","漲","卸","仗","陪","闢","懲","杭","姚","肚","捉","飄","漂","昆","欺","吾","郎","烷","汁","呵","飾","蕭","雅","郵","遷","燕","撒","姻","赴","宴","煩","債","帳","斑","鈴","旨","醇","董","餅","雛","姿","拌","傅","腹","妥","揉","賢","拆","歪","葡","胺","丟","浩","徽","昂","墊","擋","覽","貪","慰","繳","汪","慌","馮","諾","姜","誼","兇","劣","誣","耀","昏","躺","盈","騎","喬","溪","叢","盧","抹","悶","諮","刮","駕","纜","悟","摘","鉺","擲","頗","幻","柄","惠","慘","佳","仇","臘","窩","滌","劍","瞧","堡","潑","蔥","罩","霍","撈","胎","蒼","濱","倆","捅","湘","砍","霞","邵","萄","瘋","淮","遂","熊","糞","烘","宿","檔","戈","駁","嫂","裕","徙","箭","捐","腸","撐","曬","辨","殿","蓮","攤","攪","醬","屏","疫","哀","蔡","堵","沫","皺","暢","疊","閣","萊","敲","轄","鉤","痕","壩","巷","餓","禍","丘","玄","溜","曰","邏","彭","嘗","卿","妨","艇","吞","韋","怨","矮","歇"],require$$3=["가격","가끔","가난","가능","가득","가르침","가뭄","가방","가상","가슴","가운데","가을","가이드","가입","가장","가정","가족","가죽","각오","각자","간격","간부","간섭","간장","간접","간판","갈등","갈비","갈색","갈증","감각","감기","감소","감수성","감자","감정","갑자기","강남","강당","강도","강력히","강변","강북","강사","강수량","강아지","강원도","강의","강제","강조","같이","개구리","개나리","개방","개별","개선","개성","개인","객관적","거실","거액","거울","거짓","거품","걱정","건강","건물","건설","건조","건축","걸음","검사","검토","게시판","게임","겨울","견해","결과","결국","결론","결석","결승","결심","결정","결혼","경계","경고","경기","경력","경복궁","경비","경상도","경영","경우","경쟁","경제","경주","경찰","경치","경향","경험","계곡","계단","계란","계산","계속","계약","계절","계층","계획","고객","고구려","고궁","고급","고등학생","고무신","고민","고양이","고장","고전","고집","고춧가루","고통","고향","곡식","골목","골짜기","골프","공간","공개","공격","공군","공급","공기","공동","공무원","공부","공사","공식","공업","공연","공원","공장","공짜","공책","공통","공포","공항","공휴일","과목","과일","과장","과정","과학","관객","관계","관광","관념","관람","관련","관리","관습","관심","관점","관찰","광경","광고","광장","광주","괴로움","굉장히","교과서","교문","교복","교실","교양","교육","교장","교직","교통","교환","교훈","구경","구름","구멍","구별","구분","구석","구성","구속","구역","구입","구청","구체적","국가","국기","국내","국립","국물","국민","국수","국어","국왕","국적","국제","국회","군대","군사","군인","궁극적","권리","권위","권투","귀국","귀신","규정","규칙","균형","그날","그냥","그늘","그러나","그룹","그릇","그림","그제서야","그토록","극복","극히","근거","근교","근래","근로","근무","근본","근원","근육","근처","글씨","글자","금강산","금고","금년","금메달","금액","금연","금요일","금지","긍정적","기간","기관","기념","기능","기독교","기둥","기록","기름","기법","기본","기분","기쁨","기숙사","기술","기억","기업","기온","기운","기원","기적","기준","기침","기혼","기획","긴급","긴장","길이","김밥","김치","김포공항","깍두기","깜빡","깨달음","깨소금","껍질","꼭대기","꽃잎","나들이","나란히","나머지","나물","나침반","나흘","낙엽","난방","날개","날씨","날짜","남녀","남대문","남매","남산","남자","남편","남학생","낭비","낱말","내년","내용","내일","냄비","냄새","냇물","냉동","냉면","냉방","냉장고","넥타이","넷째","노동","노란색","노력","노인","녹음","녹차","녹화","논리","논문","논쟁","놀이","농구","농담","농민","농부","농업","농장","농촌","높이","눈동자","눈물","눈썹","뉴욕","느낌","늑대","능동적","능력","다방","다양성","다음","다이어트","다행","단계","단골","단독","단맛","단순","단어","단위","단점","단체","단추","단편","단풍","달걀","달러","달력","달리","닭고기","담당","담배","담요","담임","답변","답장","당근","당분간","당연히","당장","대규모","대낮","대단히","대답","대도시","대략","대량","대륙","대문","대부분","대신","대응","대장","대전","대접","대중","대책","대출","대충","대통령","대학","대한민국","대합실","대형","덩어리","데이트","도대체","도덕","도둑","도망","도서관","도심","도움","도입","도자기","도저히","도전","도중","도착","독감","독립","독서","독일","독창적","동화책","뒷모습","뒷산","딸아이","마누라","마늘","마당","마라톤","마련","마무리","마사지","마약","마요네즈","마을","마음","마이크","마중","마지막","마찬가지","마찰","마흔","막걸리","막내","막상","만남","만두","만세","만약","만일","만점","만족","만화","많이","말기","말씀","말투","맘대로","망원경","매년","매달","매력","매번","매스컴","매일","매장","맥주","먹이","먼저","먼지","멀리","메일","며느리","며칠","면담","멸치","명단","명령","명예","명의","명절","명칭","명함","모금","모니터","모델","모든","모범","모습","모양","모임","모조리","모집","모퉁이","목걸이","목록","목사","목소리","목숨","목적","목표","몰래","몸매","몸무게","몸살","몸속","몸짓","몸통","몹시","무관심","무궁화","무더위","무덤","무릎","무슨","무엇","무역","무용","무조건","무지개","무척","문구","문득","문법","문서","문제","문학","문화","물가","물건","물결","물고기","물론","물리학","물음","물질","물체","미국","미디어","미사일","미술","미역","미용실","미움","미인","미팅","미혼","민간","민족","민주","믿음","밀가루","밀리미터","밑바닥","바가지","바구니","바나나","바늘","바닥","바닷가","바람","바이러스","바탕","박물관","박사","박수","반대","반드시","반말","반발","반성","반응","반장","반죽","반지","반찬","받침","발가락","발걸음","발견","발달","발레","발목","발바닥","발생","발음","발자국","발전","발톱","발표","밤하늘","밥그릇","밥맛","밥상","밥솥","방금","방면","방문","방바닥","방법","방송","방식","방안","방울","방지","방학","방해","방향","배경","배꼽","배달","배드민턴","백두산","백색","백성","백인","백제","백화점","버릇","버섯","버튼","번개","번역","번지","번호","벌금","벌레","벌써","범위","범인","범죄","법률","법원","법적","법칙","베이징","벨트","변경","변동","변명","변신","변호사","변화","별도","별명","별일","병실","병아리","병원","보관","보너스","보라색","보람","보름","보상","보안","보자기","보장","보전","보존","보통","보편적","보험","복도","복사","복숭아","복습","볶음","본격적","본래","본부","본사","본성","본인","본질","볼펜","봉사","봉지","봉투","부근","부끄러움","부담","부동산","부문","부분","부산","부상","부엌","부인","부작용","부장","부정","부족","부지런히","부친","부탁","부품","부회장","북부","북한","분노","분량","분리","분명","분석","분야","분위기","분필","분홍색","불고기","불과","불교","불꽃","불만","불법","불빛","불안","불이익","불행","브랜드","비극","비난","비닐","비둘기","비디오","비로소","비만","비명","비밀","비바람","비빔밥","비상","비용","비율","비중","비타민","비판","빌딩","빗물","빗방울","빗줄기","빛깔","빨간색","빨래","빨리","사건","사계절","사나이","사냥","사람","사랑","사립","사모님","사물","사방","사상","사생활","사설","사슴","사실","사업","사용","사월","사장","사전","사진","사촌","사춘기","사탕","사투리","사흘","산길","산부인과","산업","산책","살림","살인","살짝","삼계탕","삼국","삼십","삼월","삼촌","상관","상금","상대","상류","상반기","상상","상식","상업","상인","상자","상점","상처","상추","상태","상표","상품","상황","새벽","색깔","색연필","생각","생명","생물","생방송","생산","생선","생신","생일","생활","서랍","서른","서명","서민","서비스","서양","서울","서적","서점","서쪽","서클","석사","석유","선거","선물","선배","선생","선수","선원","선장","선전","선택","선풍기","설거지","설날","설렁탕","설명","설문","설사","설악산","설치","설탕","섭씨","성공","성당","성명","성별","성인","성장","성적","성질","성함","세금","세미나","세상","세월","세종대왕","세탁","센터","센티미터","셋째","소규모","소극적","소금","소나기","소년","소득","소망","소문","소설","소속","소아과","소용","소원","소음","소중히","소지품","소질","소풍","소형","속담","속도","속옷","손가락","손길","손녀","손님","손등","손목","손뼉","손실","손질","손톱","손해","솔직히","솜씨","송아지","송이","송편","쇠고기","쇼핑","수건","수년","수단","수돗물","수동적","수면","수명","수박","수상","수석","수술","수시로","수업","수염","수영","수입","수준","수집","수출","수컷","수필","수학","수험생","수화기","숙녀","숙소","숙제","순간","순서","순수","순식간","순위","숟가락","술병","술집","숫자","스님","스물","스스로","스승","스웨터","스위치","스케이트","스튜디오","스트레스","스포츠","슬쩍","슬픔","습관","습기","승객","승리","승부","승용차","승진","시각","시간","시골","시금치","시나리오","시댁","시리즈","시멘트","시민","시부모","시선","시설","시스템","시아버지","시어머니","시월","시인","시일","시작","시장","시절","시점","시중","시즌","시집","시청","시합","시험","식구","식기","식당","식량","식료품","식물","식빵","식사","식생활","식초","식탁","식품","신고","신규","신념","신문","신발","신비","신사","신세","신용","신제품","신청","신체","신화","실감","실내","실력","실례","실망","실수","실습","실시","실장","실정","실질적","실천","실체","실컷","실태","실패","실험","실현","심리","심부름","심사","심장","심정","심판","쌍둥이","씨름","씨앗","아가씨","아나운서","아드님","아들","아쉬움","아스팔트","아시아","아울러","아저씨","아줌마","아직","아침","아파트","아프리카","아픔","아홉","아흔","악기","악몽","악수","안개","안경","안과","안내","안녕","안동","안방","안부","안주","알루미늄","알코올","암시","암컷","압력","앞날","앞문","애인","애정","액수","앨범","야간","야단","야옹","약간","약국","약속","약수","약점","약품","약혼녀","양념","양력","양말","양배추","양주","양파","어둠","어려움","어른","어젯밤","어쨌든","어쩌다가","어쩐지","언니","언덕","언론","언어","얼굴","얼른","얼음","얼핏","엄마","업무","업종","업체","엉덩이","엉망","엉터리","엊그제","에너지","에어컨","엔진","여건","여고생","여관","여군","여권","여대생","여덟","여동생","여든","여론","여름","여섯","여성","여왕","여인","여전히","여직원","여학생","여행","역사","역시","역할","연결","연구","연극","연기","연락","연설","연세","연속","연습","연애","연예인","연인","연장","연주","연출","연필","연합","연휴","열기","열매","열쇠","열심히","열정","열차","열흘","염려","엽서","영국","영남","영상","영양","영역","영웅","영원히","영하","영향","영혼","영화","옆구리","옆방","옆집","예감","예금","예방","예산","예상","예선","예술","예습","예식장","예약","예전","예절","예정","예컨대","옛날","오늘","오락","오랫동안","오렌지","오로지","오른발","오븐","오십","오염","오월","오전","오직","오징어","오페라","오피스텔","오히려","옥상","옥수수","온갖","온라인","온몸","온종일","온통","올가을","올림픽","올해","옷차림","와이셔츠","와인","완성","완전","왕비","왕자","왜냐하면","왠지","외갓집","외국","외로움","외삼촌","외출","외침","외할머니","왼발","왼손","왼쪽","요금","요일","요즘","요청","용기","용서","용어","우산","우선","우승","우연히","우정","우체국","우편","운동","운명","운반","운전","운행","울산","울음","움직임","웃어른","웃음","워낙","원고","원래","원서","원숭이","원인","원장","원피스","월급","월드컵","월세","월요일","웨이터","위반","위법","위성","위원","위험","위협","윗사람","유난히","유럽","유명","유물","유산","유적","유치원","유학","유행","유형","육군","육상","육십","육체","은행","음력","음료","음반","음성","음식","음악","음주","의견","의논","의문","의복","의식","의심","의외로","의욕","의원","의학","이것","이곳","이념","이놈","이달","이대로","이동","이렇게","이력서","이론적","이름","이민","이발소","이별","이불","이빨","이상","이성","이슬","이야기","이용","이웃","이월","이윽고","이익","이전","이중","이튿날","이틀","이혼","인간","인격","인공","인구","인근","인기","인도","인류","인물","인생","인쇄","인연","인원","인재","인종","인천","인체","인터넷","인하","인형","일곱","일기","일단","일대","일등","일반","일본","일부","일상","일생","일손","일요일","일월","일정","일종","일주일","일찍","일체","일치","일행","일회용","임금","임무","입대","입력","입맛","입사","입술","입시","입원","입장","입학","자가용","자격","자극","자동","자랑","자부심","자식","자신","자연","자원","자율","자전거","자정","자존심","자판","작가","작년","작성","작업","작용","작은딸","작품","잔디","잔뜩","잔치","잘못","잠깐","잠수함","잠시","잠옷","잠자리","잡지","장관","장군","장기간","장래","장례","장르","장마","장면","장모","장미","장비","장사","장소","장식","장애인","장인","장점","장차","장학금","재능","재빨리","재산","재생","재작년","재정","재채기","재판","재학","재활용","저것","저고리","저곳","저녁","저런","저렇게","저번","저울","저절로","저축","적극","적당히","적성","적용","적응","전개","전공","전기","전달","전라도","전망","전문","전반","전부","전세","전시","전용","전자","전쟁","전주","전철","전체","전통","전혀","전후","절대","절망","절반","절약","절차","점검","점수","점심","점원","점점","점차","접근","접시","접촉","젓가락","정거장","정도","정류장","정리","정말","정면","정문","정반대","정보","정부","정비","정상","정성","정오","정원","정장","정지","정치","정확히","제공","제과점","제대로","제목","제발","제법","제삿날","제안","제일","제작","제주도","제출","제품","제한","조각","조건","조금","조깅","조명","조미료","조상","조선","조용히","조절","조정","조직","존댓말","존재","졸업","졸음","종교","종로","종류","종소리","종업원","종종","종합","좌석","죄인","주관적","주름","주말","주머니","주먹","주문","주민","주방","주변","주식","주인","주일","주장","주전자","주택","준비","줄거리","줄기","줄무늬","중간","중계방송","중국","중년","중단","중독","중반","중부","중세","중소기업","중순","중앙","중요","중학교","즉석","즉시","즐거움","증가","증거","증권","증상","증세","지각","지갑","지경","지극히","지금","지급","지능","지름길","지리산","지방","지붕","지식","지역","지우개","지원","지적","지점","지진","지출","직선","직업","직원","직장","진급","진동","진로","진료","진리","진짜","진찰","진출","진통","진행","질문","질병","질서","짐작","집단","집안","집중","짜증","찌꺼기","차남","차라리","차량","차림","차별","차선","차츰","착각","찬물","찬성","참가","참기름","참새","참석","참여","참외","참조","찻잔","창가","창고","창구","창문","창밖","창작","창조","채널","채점","책가방","책방","책상","책임","챔피언","처벌","처음","천국","천둥","천장","천재","천천히","철도","철저히","철학","첫날","첫째","청년","청바지","청소","청춘","체계","체력","체온","체육","체중","체험","초등학생","초반","초밥","초상화","초순","초여름","초원","초저녁","초점","초청","초콜릿","촛불","총각","총리","총장","촬영","최근","최상","최선","최신","최악","최종","추석","추억","추진","추천","추측","축구","축소","축제","축하","출근","출발","출산","출신","출연","출입","출장","출판","충격","충고","충돌","충분히","충청도","취업","취직","취향","치약","친구","친척","칠십","칠월","칠판","침대","침묵","침실","칫솔","칭찬","카메라","카운터","칼국수","캐릭터","캠퍼스","캠페인","커튼","컨디션","컬러","컴퓨터","코끼리","코미디","콘서트","콜라","콤플렉스","콩나물","쾌감","쿠데타","크림","큰길","큰딸","큰소리","큰아들","큰어머니","큰일","큰절","클래식","클럽","킬로","타입","타자기","탁구","탁자","탄생","태권도","태양","태풍","택시","탤런트","터널","터미널","테니스","테스트","테이블","텔레비전","토론","토마토","토요일","통계","통과","통로","통신","통역","통일","통장","통제","통증","통합","통화","퇴근","퇴원","퇴직금","튀김","트럭","특급","특별","특성","특수","특징","특히","튼튼히","티셔츠","파란색","파일","파출소","판결","판단","판매","판사","팔십","팔월","팝송","패션","팩스","팩시밀리","팬티","퍼센트","페인트","편견","편의","편지","편히","평가","평균","평생","평소","평양","평일","평화","포스터","포인트","포장","포함","표면","표정","표준","표현","품목","품질","풍경","풍속","풍습","프랑스","프린터","플라스틱","피곤","피망","피아노","필름","필수","필요","필자","필통","핑계","하느님","하늘","하드웨어","하룻밤","하반기","하숙집","하순","하여튼","하지만","하천","하품","하필","학과","학교","학급","학기","학년","학력","학번","학부모","학비","학생","학술","학습","학용품","학원","학위","학자","학점","한계","한글","한꺼번에","한낮","한눈","한동안","한때","한라산","한마디","한문","한번","한복","한식","한여름","한쪽","할머니","할아버지","할인","함께","함부로","합격","합리적","항공","항구","항상","항의","해결","해군","해답","해당","해물","해석","해설","해수욕장","해안","핵심","핸드백","햄버거","햇볕","햇살","행동","행복","행사","행운","행위","향기","향상","향수","허락","허용","헬기","현관","현금","현대","현상","현실","현장","현재","현지","혈액","협력","형부","형사","형수","형식","형제","형태","형편","혜택","호기심","호남","호랑이","호박","호텔","호흡","혹시","홀로","홈페이지","홍보","홍수","홍차","화면","화분","화살","화요일","화장","화학","확보","확인","확장","확정","환갑","환경","환영","환율","환자","활기","활동","활발히","활용","활짝","회견","회관","회복","회색","회원","회장","회전","횟수","횡단보도","효율적","후반","후춧가루","훈련","훨씬","휴식","휴일","흉내","흐름","흑백","흑인","흔적","흔히","흥미","흥분","희곡","희망","희생","흰색","힘껏"],require$$4=["abaisser","abandon","abdiquer","abeille","abolir","aborder","aboutir","aboyer","abrasif","abreuver","abriter","abroger","abrupt","absence","absolu","absurde","abusif","abyssal","académie","acajou","acarien","accabler","accepter","acclamer","accolade","accroche","accuser","acerbe","achat","acheter","aciduler","acier","acompte","acquérir","acronyme","acteur","actif","actuel","adepte","adéquat","adhésif","adjectif","adjuger","admettre","admirer","adopter","adorer","adoucir","adresse","adroit","adulte","adverbe","aérer","aéronef","affaire","affecter","affiche","affreux","affubler","agacer","agencer","agile","agiter","agrafer","agréable","agrume","aider","aiguille","ailier","aimable","aisance","ajouter","ajuster","alarmer","alchimie","alerte","algèbre","algue","aliéner","aliment","alléger","alliage","allouer","allumer","alourdir","alpaga","altesse","alvéole","amateur","ambigu","ambre","aménager","amertume","amidon","amiral","amorcer","amour","amovible","amphibie","ampleur","amusant","analyse","anaphore","anarchie","anatomie","ancien","anéantir","angle","angoisse","anguleux","animal","annexer","annonce","annuel","anodin","anomalie","anonyme","anormal","antenne","antidote","anxieux","apaiser","apéritif","aplanir","apologie","appareil","appeler","apporter","appuyer","aquarium","aqueduc","arbitre","arbuste","ardeur","ardoise","argent","arlequin","armature","armement","armoire","armure","arpenter","arracher","arriver","arroser","arsenic","artériel","article","aspect","asphalte","aspirer","assaut","asservir","assiette","associer","assurer","asticot","astre","astuce","atelier","atome","atrium","atroce","attaque","attentif","attirer","attraper","aubaine","auberge","audace","audible","augurer","aurore","automne","autruche","avaler","avancer","avarice","avenir","averse","aveugle","aviateur","avide","avion","aviser","avoine","avouer","avril","axial","axiome","badge","bafouer","bagage","baguette","baignade","balancer","balcon","baleine","balisage","bambin","bancaire","bandage","banlieue","bannière","banquier","barbier","baril","baron","barque","barrage","bassin","bastion","bataille","bateau","batterie","baudrier","bavarder","belette","bélier","belote","bénéfice","berceau","berger","berline","bermuda","besace","besogne","bétail","beurre","biberon","bicycle","bidule","bijou","bilan","bilingue","billard","binaire","biologie","biopsie","biotype","biscuit","bison","bistouri","bitume","bizarre","blafard","blague","blanchir","blessant","blinder","blond","bloquer","blouson","bobard","bobine","boire","boiser","bolide","bonbon","bondir","bonheur","bonifier","bonus","bordure","borne","botte","boucle","boueux","bougie","boulon","bouquin","bourse","boussole","boutique","boxeur","branche","brasier","brave","brebis","brèche","breuvage","bricoler","brigade","brillant","brioche","brique","brochure","broder","bronzer","brousse","broyeur","brume","brusque","brutal","bruyant","buffle","buisson","bulletin","bureau","burin","bustier","butiner","butoir","buvable","buvette","cabanon","cabine","cachette","cadeau","cadre","caféine","caillou","caisson","calculer","calepin","calibre","calmer","calomnie","calvaire","camarade","caméra","camion","campagne","canal","caneton","canon","cantine","canular","capable","caporal","caprice","capsule","capter","capuche","carabine","carbone","caresser","caribou","carnage","carotte","carreau","carton","cascade","casier","casque","cassure","causer","caution","cavalier","caverne","caviar","cédille","ceinture","céleste","cellule","cendrier","censurer","central","cercle","cérébral","cerise","cerner","cerveau","cesser","chagrin","chaise","chaleur","chambre","chance","chapitre","charbon","chasseur","chaton","chausson","chavirer","chemise","chenille","chéquier","chercher","cheval","chien","chiffre","chignon","chimère","chiot","chlorure","chocolat","choisir","chose","chouette","chrome","chute","cigare","cigogne","cimenter","cinéma","cintrer","circuler","cirer","cirque","citerne","citoyen","citron","civil","clairon","clameur","claquer","classe","clavier","client","cligner","climat","clivage","cloche","clonage","cloporte","cobalt","cobra","cocasse","cocotier","coder","codifier","coffre","cogner","cohésion","coiffer","coincer","colère","colibri","colline","colmater","colonel","combat","comédie","commande","compact","concert","conduire","confier","congeler","connoter","consonne","contact","convexe","copain","copie","corail","corbeau","cordage","corniche","corpus","correct","cortège","cosmique","costume","coton","coude","coupure","courage","couteau","couvrir","coyote","crabe","crainte","cravate","crayon","créature","créditer","crémeux","creuser","crevette","cribler","crier","cristal","critère","croire","croquer","crotale","crucial","cruel","crypter","cubique","cueillir","cuillère","cuisine","cuivre","culminer","cultiver","cumuler","cupide","curatif","curseur","cyanure","cycle","cylindre","cynique","daigner","damier","danger","danseur","dauphin","débattre","débiter","déborder","débrider","débutant","décaler","décembre","déchirer","décider","déclarer","décorer","décrire","décupler","dédale","déductif","déesse","défensif","défiler","défrayer","dégager","dégivrer","déglutir","dégrafer","déjeuner","délice","déloger","demander","demeurer","démolir","dénicher","dénouer","dentelle","dénuder","départ","dépenser","déphaser","déplacer","déposer","déranger","dérober","désastre","descente","désert","désigner","désobéir","dessiner","destrier","détacher","détester","détourer","détresse","devancer","devenir","deviner","devoir","diable","dialogue","diamant","dicter","différer","digérer","digital","digne","diluer","dimanche","diminuer","dioxyde","directif","diriger","discuter","disposer","dissiper","distance","divertir","diviser","docile","docteur","dogme","doigt","domaine","domicile","dompter","donateur","donjon","donner","dopamine","dortoir","dorure","dosage","doseur","dossier","dotation","douanier","double","douceur","douter","doyen","dragon","draper","dresser","dribbler","droiture","duperie","duplexe","durable","durcir","dynastie","éblouir","écarter","écharpe","échelle","éclairer","éclipse","éclore","écluse","école","économie","écorce","écouter","écraser","écrémer","écrivain","écrou","écume","écureuil","édifier","éduquer","effacer","effectif","effigie","effort","effrayer","effusion","égaliser","égarer","éjecter","élaborer","élargir","électron","élégant","éléphant","élève","éligible","élitisme","éloge","élucider","éluder","emballer","embellir","embryon","émeraude","émission","emmener","émotion","émouvoir","empereur","employer","emporter","emprise","émulsion","encadrer","enchère","enclave","encoche","endiguer","endosser","endroit","enduire","énergie","enfance","enfermer","enfouir","engager","engin","englober","énigme","enjamber","enjeu","enlever","ennemi","ennuyeux","enrichir","enrobage","enseigne","entasser","entendre","entier","entourer","entraver","énumérer","envahir","enviable","envoyer","enzyme","éolien","épaissir","épargne","épatant","épaule","épicerie","épidémie","épier","épilogue","épine","épisode","épitaphe","époque","épreuve","éprouver","épuisant","équerre","équipe","ériger","érosion","erreur","éruption","escalier","espadon","espèce","espiègle","espoir","esprit","esquiver","essayer","essence","essieu","essorer","estime","estomac","estrade","étagère","étaler","étanche","étatique","éteindre","étendoir","éternel","éthanol","éthique","ethnie","étirer","étoffer","étoile","étonnant","étourdir","étrange","étroit","étude","euphorie","évaluer","évasion","éventail","évidence","éviter","évolutif","évoquer","exact","exagérer","exaucer","exceller","excitant","exclusif","excuse","exécuter","exemple","exercer","exhaler","exhorter","exigence","exiler","exister","exotique","expédier","explorer","exposer","exprimer","exquis","extensif","extraire","exulter","fable","fabuleux","facette","facile","facture","faiblir","falaise","fameux","famille","farceur","farfelu","farine","farouche","fasciner","fatal","fatigue","faucon","fautif","faveur","favori","fébrile","féconder","fédérer","félin","femme","fémur","fendoir","féodal","fermer","féroce","ferveur","festival","feuille","feutre","février","fiasco","ficeler","fictif","fidèle","figure","filature","filetage","filière","filleul","filmer","filou","filtrer","financer","finir","fiole","firme","fissure","fixer","flairer","flamme","flasque","flatteur","fléau","flèche","fleur","flexion","flocon","flore","fluctuer","fluide","fluvial","folie","fonderie","fongible","fontaine","forcer","forgeron","formuler","fortune","fossile","foudre","fougère","fouiller","foulure","fourmi","fragile","fraise","franchir","frapper","frayeur","frégate","freiner","frelon","frémir","frénésie","frère","friable","friction","frisson","frivole","froid","fromage","frontal","frotter","fruit","fugitif","fuite","fureur","furieux","furtif","fusion","futur","gagner","galaxie","galerie","gambader","garantir","gardien","garnir","garrigue","gazelle","gazon","géant","gélatine","gélule","gendarme","général","génie","genou","gentil","géologie","géomètre","géranium","germe","gestuel","geyser","gibier","gicler","girafe","givre","glace","glaive","glisser","globe","gloire","glorieux","golfeur","gomme","gonfler","gorge","gorille","goudron","gouffre","goulot","goupille","gourmand","goutte","graduel","graffiti","graine","grand","grappin","gratuit","gravir","grenat","griffure","griller","grimper","grogner","gronder","grotte","groupe","gruger","grutier","gruyère","guépard","guerrier","guide","guimauve","guitare","gustatif","gymnaste","gyrostat","habitude","hachoir","halte","hameau","hangar","hanneton","haricot","harmonie","harpon","hasard","hélium","hématome","herbe","hérisson","hermine","héron","hésiter","heureux","hiberner","hibou","hilarant","histoire","hiver","homard","hommage","homogène","honneur","honorer","honteux","horde","horizon","horloge","hormone","horrible","houleux","housse","hublot","huileux","humain","humble","humide","humour","hurler","hydromel","hygiène","hymne","hypnose","idylle","ignorer","iguane","illicite","illusion","image","imbiber","imiter","immense","immobile","immuable","impact","impérial","implorer","imposer","imprimer","imputer","incarner","incendie","incident","incliner","incolore","indexer","indice","inductif","inédit","ineptie","inexact","infini","infliger","informer","infusion","ingérer","inhaler","inhiber","injecter","injure","innocent","inoculer","inonder","inscrire","insecte","insigne","insolite","inspirer","instinct","insulter","intact","intense","intime","intrigue","intuitif","inutile","invasion","inventer","inviter","invoquer","ironique","irradier","irréel","irriter","isoler","ivoire","ivresse","jaguar","jaillir","jambe","janvier","jardin","jauger","jaune","javelot","jetable","jeton","jeudi","jeunesse","joindre","joncher","jongler","joueur","jouissif","journal","jovial","joyau","joyeux","jubiler","jugement","junior","jupon","juriste","justice","juteux","juvénile","kayak","kimono","kiosque","label","labial","labourer","lacérer","lactose","lagune","laine","laisser","laitier","lambeau","lamelle","lampe","lanceur","langage","lanterne","lapin","largeur","larme","laurier","lavabo","lavoir","lecture","légal","léger","légume","lessive","lettre","levier","lexique","lézard","liasse","libérer","libre","licence","licorne","liège","lièvre","ligature","ligoter","ligue","limer","limite","limonade","limpide","linéaire","lingot","lionceau","liquide","lisière","lister","lithium","litige","littoral","livreur","logique","lointain","loisir","lombric","loterie","louer","lourd","loutre","louve","loyal","lubie","lucide","lucratif","lueur","lugubre","luisant","lumière","lunaire","lundi","luron","lutter","luxueux","machine","magasin","magenta","magique","maigre","maillon","maintien","mairie","maison","majorer","malaxer","maléfice","malheur","malice","mallette","mammouth","mandater","maniable","manquant","manteau","manuel","marathon","marbre","marchand","mardi","maritime","marqueur","marron","marteler","mascotte","massif","matériel","matière","matraque","maudire","maussade","mauve","maximal","méchant","méconnu","médaille","médecin","méditer","méduse","meilleur","mélange","mélodie","membre","mémoire","menacer","mener","menhir","mensonge","mentor","mercredi","mérite","merle","messager","mesure","métal","météore","méthode","métier","meuble","miauler","microbe","miette","mignon","migrer","milieu","million","mimique","mince","minéral","minimal","minorer","minute","miracle","miroiter","missile","mixte","mobile","moderne","moelleux","mondial","moniteur","monnaie","monotone","monstre","montagne","monument","moqueur","morceau","morsure","mortier","moteur","motif","mouche","moufle","moulin","mousson","mouton","mouvant","multiple","munition","muraille","murène","murmure","muscle","muséum","musicien","mutation","muter","mutuel","myriade","myrtille","mystère","mythique","nageur","nappe","narquois","narrer","natation","nation","nature","naufrage","nautique","navire","nébuleux","nectar","néfaste","négation","négliger","négocier","neige","nerveux","nettoyer","neurone","neutron","neveu","niche","nickel","nitrate","niveau","noble","nocif","nocturne","noirceur","noisette","nomade","nombreux","nommer","normatif","notable","notifier","notoire","nourrir","nouveau","novateur","novembre","novice","nuage","nuancer","nuire","nuisible","numéro","nuptial","nuque","nutritif","obéir","objectif","obliger","obscur","observer","obstacle","obtenir","obturer","occasion","occuper","océan","octobre","octroyer","octupler","oculaire","odeur","odorant","offenser","officier","offrir","ogive","oiseau","oisillon","olfactif","olivier","ombrage","omettre","onctueux","onduler","onéreux","onirique","opale","opaque","opérer","opinion","opportun","opprimer","opter","optique","orageux","orange","orbite","ordonner","oreille","organe","orgueil","orifice","ornement","orque","ortie","osciller","osmose","ossature","otarie","ouragan","ourson","outil","outrager","ouvrage","ovation","oxyde","oxygène","ozone","paisible","palace","palmarès","palourde","palper","panache","panda","pangolin","paniquer","panneau","panorama","pantalon","papaye","papier","papoter","papyrus","paradoxe","parcelle","paresse","parfumer","parler","parole","parrain","parsemer","partager","parure","parvenir","passion","pastèque","paternel","patience","patron","pavillon","pavoiser","payer","paysage","peigne","peintre","pelage","pélican","pelle","pelouse","peluche","pendule","pénétrer","pénible","pensif","pénurie","pépite","péplum","perdrix","perforer","période","permuter","perplexe","persil","perte","peser","pétale","petit","pétrir","peuple","pharaon","phobie","phoque","photon","phrase","physique","piano","pictural","pièce","pierre","pieuvre","pilote","pinceau","pipette","piquer","pirogue","piscine","piston","pivoter","pixel","pizza","placard","plafond","plaisir","planer","plaque","plastron","plateau","pleurer","plexus","pliage","plomb","plonger","pluie","plumage","pochette","poésie","poète","pointe","poirier","poisson","poivre","polaire","policier","pollen","polygone","pommade","pompier","ponctuel","pondérer","poney","portique","position","posséder","posture","potager","poteau","potion","pouce","poulain","poumon","pourpre","poussin","pouvoir","prairie","pratique","précieux","prédire","préfixe","prélude","prénom","présence","prétexte","prévoir","primitif","prince","prison","priver","problème","procéder","prodige","profond","progrès","proie","projeter","prologue","promener","propre","prospère","protéger","prouesse","proverbe","prudence","pruneau","psychose","public","puceron","puiser","pulpe","pulsar","punaise","punitif","pupitre","purifier","puzzle","pyramide","quasar","querelle","question","quiétude","quitter","quotient","racine","raconter","radieux","ragondin","raideur","raisin","ralentir","rallonge","ramasser","rapide","rasage","ratisser","ravager","ravin","rayonner","réactif","réagir","réaliser","réanimer","recevoir","réciter","réclamer","récolter","recruter","reculer","recycler","rédiger","redouter","refaire","réflexe","réformer","refrain","refuge","régalien","région","réglage","régulier","réitérer","rejeter","rejouer","relatif","relever","relief","remarque","remède","remise","remonter","remplir","remuer","renard","renfort","renifler","renoncer","rentrer","renvoi","replier","reporter","reprise","reptile","requin","réserve","résineux","résoudre","respect","rester","résultat","rétablir","retenir","réticule","retomber","retracer","réunion","réussir","revanche","revivre","révolte","révulsif","richesse","rideau","rieur","rigide","rigoler","rincer","riposter","risible","risque","rituel","rival","rivière","rocheux","romance","rompre","ronce","rondin","roseau","rosier","rotatif","rotor","rotule","rouge","rouille","rouleau","routine","royaume","ruban","rubis","ruche","ruelle","rugueux","ruiner","ruisseau","ruser","rustique","rythme","sabler","saboter","sabre","sacoche","safari","sagesse","saisir","salade","salive","salon","saluer","samedi","sanction","sanglier","sarcasme","sardine","saturer","saugrenu","saumon","sauter","sauvage","savant","savonner","scalpel","scandale","scélérat","scénario","sceptre","schéma","science","scinder","score","scrutin","sculpter","séance","sécable","sécher","secouer","sécréter","sédatif","séduire","seigneur","séjour","sélectif","semaine","sembler","semence","séminal","sénateur","sensible","sentence","séparer","séquence","serein","sergent","sérieux","serrure","sérum","service","sésame","sévir","sevrage","sextuple","sidéral","siècle","siéger","siffler","sigle","signal","silence","silicium","simple","sincère","sinistre","siphon","sirop","sismique","situer","skier","social","socle","sodium","soigneux","soldat","soleil","solitude","soluble","sombre","sommeil","somnoler","sonde","songeur","sonnette","sonore","sorcier","sortir","sosie","sottise","soucieux","soudure","souffle","soulever","soupape","source","soutirer","souvenir","spacieux","spatial","spécial","sphère","spiral","stable","station","sternum","stimulus","stipuler","strict","studieux","stupeur","styliste","sublime","substrat","subtil","subvenir","succès","sucre","suffixe","suggérer","suiveur","sulfate","superbe","supplier","surface","suricate","surmener","surprise","sursaut","survie","suspect","syllabe","symbole","symétrie","synapse","syntaxe","système","tabac","tablier","tactile","tailler","talent","talisman","talonner","tambour","tamiser","tangible","tapis","taquiner","tarder","tarif","tartine","tasse","tatami","tatouage","taupe","taureau","taxer","témoin","temporel","tenaille","tendre","teneur","tenir","tension","terminer","terne","terrible","tétine","texte","thème","théorie","thérapie","thorax","tibia","tiède","timide","tirelire","tiroir","tissu","titane","titre","tituber","toboggan","tolérant","tomate","tonique","tonneau","toponyme","torche","tordre","tornade","torpille","torrent","torse","tortue","totem","toucher","tournage","tousser","toxine","traction","trafic","tragique","trahir","train","trancher","travail","trèfle","tremper","trésor","treuil","triage","tribunal","tricoter","trilogie","triomphe","tripler","triturer","trivial","trombone","tronc","tropical","troupeau","tuile","tulipe","tumulte","tunnel","turbine","tuteur","tutoyer","tuyau","tympan","typhon","typique","tyran","ubuesque","ultime","ultrason","unanime","unifier","union","unique","unitaire","univers","uranium","urbain","urticant","usage","usine","usuel","usure","utile","utopie","vacarme","vaccin","vagabond","vague","vaillant","vaincre","vaisseau","valable","valise","vallon","valve","vampire","vanille","vapeur","varier","vaseux","vassal","vaste","vecteur","vedette","végétal","véhicule","veinard","véloce","vendredi","vénérer","venger","venimeux","ventouse","verdure","vérin","vernir","verrou","verser","vertu","veston","vétéran","vétuste","vexant","vexer","viaduc","viande","victoire","vidange","vidéo","vignette","vigueur","vilain","village","vinaigre","violon","vipère","virement","virtuose","virus","visage","viseur","vision","visqueux","visuel","vital","vitesse","viticole","vitrine","vivace","vivipare","vocation","voguer","voile","voisin","voiture","volaille","volcan","voltiger","volume","vorace","vortex","voter","vouloir","voyage","voyelle","wagon","xénon","yacht","zèbre","zénith","zeste","zoologie"],require$$5=["abaco","abbaglio","abbinato","abete","abisso","abolire","abrasivo","abrogato","accadere","accenno","accusato","acetone","achille","acido","acqua","acre","acrilico","acrobata","acuto","adagio","addebito","addome","adeguato","aderire","adipe","adottare","adulare","affabile","affetto","affisso","affranto","aforisma","afoso","africano","agave","agente","agevole","aggancio","agire","agitare","agonismo","agricolo","agrumeto","aguzzo","alabarda","alato","albatro","alberato","albo","albume","alce","alcolico","alettone","alfa","algebra","aliante","alibi","alimento","allagato","allegro","allievo","allodola","allusivo","almeno","alogeno","alpaca","alpestre","altalena","alterno","alticcio","altrove","alunno","alveolo","alzare","amalgama","amanita","amarena","ambito","ambrato","ameba","america","ametista","amico","ammasso","ammenda","ammirare","ammonito","amore","ampio","ampliare","amuleto","anacardo","anagrafe","analista","anarchia","anatra","anca","ancella","ancora","andare","andrea","anello","angelo","angolare","angusto","anima","annegare","annidato","anno","annuncio","anonimo","anticipo","anzi","apatico","apertura","apode","apparire","appetito","appoggio","approdo","appunto","aprile","arabica","arachide","aragosta","araldica","arancio","aratura","arazzo","arbitro","archivio","ardito","arenile","argento","argine","arguto","aria","armonia","arnese","arredato","arringa","arrosto","arsenico","arso","artefice","arzillo","asciutto","ascolto","asepsi","asettico","asfalto","asino","asola","aspirato","aspro","assaggio","asse","assoluto","assurdo","asta","astenuto","astice","astratto","atavico","ateismo","atomico","atono","attesa","attivare","attorno","attrito","attuale","ausilio","austria","autista","autonomo","autunno","avanzato","avere","avvenire","avviso","avvolgere","azione","azoto","azzimo","azzurro","babele","baccano","bacino","baco","badessa","badilata","bagnato","baita","balcone","baldo","balena","ballata","balzano","bambino","bandire","baraonda","barbaro","barca","baritono","barlume","barocco","basilico","basso","batosta","battuto","baule","bava","bavosa","becco","beffa","belgio","belva","benda","benevole","benigno","benzina","bere","berlina","beta","bibita","bici","bidone","bifido","biga","bilancia","bimbo","binocolo","biologo","bipede","bipolare","birbante","birra","biscotto","bisesto","bisnonno","bisonte","bisturi","bizzarro","blando","blatta","bollito","bonifico","bordo","bosco","botanico","bottino","bozzolo","braccio","bradipo","brama","branca","bravura","bretella","brevetto","brezza","briglia","brillante","brindare","broccolo","brodo","bronzina","brullo","bruno","bubbone","buca","budino","buffone","buio","bulbo","buono","burlone","burrasca","bussola","busta","cadetto","caduco","calamaro","calcolo","calesse","calibro","calmo","caloria","cambusa","camerata","camicia","cammino","camola","campale","canapa","candela","cane","canino","canotto","cantina","capace","capello","capitolo","capogiro","cappero","capra","capsula","carapace","carcassa","cardo","carisma","carovana","carretto","cartolina","casaccio","cascata","caserma","caso","cassone","castello","casuale","catasta","catena","catrame","cauto","cavillo","cedibile","cedrata","cefalo","celebre","cellulare","cena","cenone","centesimo","ceramica","cercare","certo","cerume","cervello","cesoia","cespo","ceto","chela","chiaro","chicca","chiedere","chimera","china","chirurgo","chitarra","ciao","ciclismo","cifrare","cigno","cilindro","ciottolo","circa","cirrosi","citrico","cittadino","ciuffo","civetta","civile","classico","clinica","cloro","cocco","codardo","codice","coerente","cognome","collare","colmato","colore","colposo","coltivato","colza","coma","cometa","commando","comodo","computer","comune","conciso","condurre","conferma","congelare","coniuge","connesso","conoscere","consumo","continuo","convegno","coperto","copione","coppia","copricapo","corazza","cordata","coricato","cornice","corolla","corpo","corredo","corsia","cortese","cosmico","costante","cottura","covato","cratere","cravatta","creato","credere","cremoso","crescita","creta","criceto","crinale","crisi","critico","croce","cronaca","crostata","cruciale","crusca","cucire","cuculo","cugino","cullato","cupola","curatore","cursore","curvo","cuscino","custode","dado","daino","dalmata","damerino","daniela","dannoso","danzare","datato","davanti","davvero","debutto","decennio","deciso","declino","decollo","decreto","dedicato","definito","deforme","degno","delegare","delfino","delirio","delta","demenza","denotato","dentro","deposito","derapata","derivare","deroga","descritto","deserto","desiderio","desumere","detersivo","devoto","diametro","dicembre","diedro","difeso","diffuso","digerire","digitale","diluvio","dinamico","dinnanzi","dipinto","diploma","dipolo","diradare","dire","dirotto","dirupo","disagio","discreto","disfare","disgelo","disposto","distanza","disumano","dito","divano","divelto","dividere","divorato","doblone","docente","doganale","dogma","dolce","domato","domenica","dominare","dondolo","dono","dormire","dote","dottore","dovuto","dozzina","drago","druido","dubbio","dubitare","ducale","duna","duomo","duplice","duraturo","ebano","eccesso","ecco","eclissi","economia","edera","edicola","edile","editoria","educare","egemonia","egli","egoismo","egregio","elaborato","elargire","elegante","elencato","eletto","elevare","elfico","elica","elmo","elsa","eluso","emanato","emblema","emesso","emiro","emotivo","emozione","empirico","emulo","endemico","enduro","energia","enfasi","enoteca","entrare","enzima","epatite","epilogo","episodio","epocale","eppure","equatore","erario","erba","erboso","erede","eremita","erigere","ermetico","eroe","erosivo","errante","esagono","esame","esanime","esaudire","esca","esempio","esercito","esibito","esigente","esistere","esito","esofago","esortato","esoso","espanso","espresso","essenza","esso","esteso","estimare","estonia","estroso","esultare","etilico","etnico","etrusco","etto","euclideo","europa","evaso","evidenza","evitato","evoluto","evviva","fabbrica","faccenda","fachiro","falco","famiglia","fanale","fanfara","fango","fantasma","fare","farfalla","farinoso","farmaco","fascia","fastoso","fasullo","faticare","fato","favoloso","febbre","fecola","fede","fegato","felpa","feltro","femmina","fendere","fenomeno","fermento","ferro","fertile","fessura","festivo","fetta","feudo","fiaba","fiducia","fifa","figurato","filo","finanza","finestra","finire","fiore","fiscale","fisico","fiume","flacone","flamenco","flebo","flemma","florido","fluente","fluoro","fobico","focaccia","focoso","foderato","foglio","folata","folclore","folgore","fondente","fonetico","fonia","fontana","forbito","forchetta","foresta","formica","fornaio","foro","fortezza","forzare","fosfato","fosso","fracasso","frana","frassino","fratello","freccetta","frenata","fresco","frigo","frollino","fronde","frugale","frutta","fucilata","fucsia","fuggente","fulmine","fulvo","fumante","fumetto","fumoso","fune","funzione","fuoco","furbo","furgone","furore","fuso","futile","gabbiano","gaffe","galateo","gallina","galoppo","gambero","gamma","garanzia","garbo","garofano","garzone","gasdotto","gasolio","gastrico","gatto","gaudio","gazebo","gazzella","geco","gelatina","gelso","gemello","gemmato","gene","genitore","gennaio","genotipo","gergo","ghepardo","ghiaccio","ghisa","giallo","gilda","ginepro","giocare","gioiello","giorno","giove","girato","girone","gittata","giudizio","giurato","giusto","globulo","glutine","gnomo","gobba","golf","gomito","gommone","gonfio","gonna","governo","gracile","grado","grafico","grammo","grande","grattare","gravoso","grazia","greca","gregge","grifone","grigio","grinza","grotta","gruppo","guadagno","guaio","guanto","guardare","gufo","guidare","ibernato","icona","identico","idillio","idolo","idra","idrico","idrogeno","igiene","ignaro","ignorato","ilare","illeso","illogico","illudere","imballo","imbevuto","imbocco","imbuto","immane","immerso","immolato","impacco","impeto","impiego","importo","impronta","inalare","inarcare","inattivo","incanto","incendio","inchino","incisivo","incluso","incontro","incrocio","incubo","indagine","india","indole","inedito","infatti","infilare","inflitto","ingaggio","ingegno","inglese","ingordo","ingrosso","innesco","inodore","inoltrare","inondato","insano","insetto","insieme","insonnia","insulina","intasato","intero","intonaco","intuito","inumidire","invalido","invece","invito","iperbole","ipnotico","ipotesi","ippica","iride","irlanda","ironico","irrigato","irrorare","isolato","isotopo","isterico","istituto","istrice","italia","iterare","labbro","labirinto","lacca","lacerato","lacrima","lacuna","laddove","lago","lampo","lancetta","lanterna","lardoso","larga","laringe","lastra","latenza","latino","lattuga","lavagna","lavoro","legale","leggero","lembo","lentezza","lenza","leone","lepre","lesivo","lessato","lesto","letterale","leva","levigato","libero","lido","lievito","lilla","limatura","limitare","limpido","lineare","lingua","liquido","lira","lirica","lisca","lite","litigio","livrea","locanda","lode","logica","lombare","londra","longevo","loquace","lorenzo","loto","lotteria","luce","lucidato","lumaca","luminoso","lungo","lupo","luppolo","lusinga","lusso","lutto","macabro","macchina","macero","macinato","madama","magico","maglia","magnete","magro","maiolica","malafede","malgrado","malinteso","malsano","malto","malumore","mana","mancia","mandorla","mangiare","manifesto","mannaro","manovra","mansarda","mantide","manubrio","mappa","maratona","marcire","maretta","marmo","marsupio","maschera","massaia","mastino","materasso","matricola","mattone","maturo","mazurca","meandro","meccanico","mecenate","medesimo","meditare","mega","melassa","melis","melodia","meninge","meno","mensola","mercurio","merenda","merlo","meschino","mese","messere","mestolo","metallo","metodo","mettere","miagolare","mica","micelio","michele","microbo","midollo","miele","migliore","milano","milite","mimosa","minerale","mini","minore","mirino","mirtillo","miscela","missiva","misto","misurare","mitezza","mitigare","mitra","mittente","mnemonico","modello","modifica","modulo","mogano","mogio","mole","molosso","monastero","monco","mondina","monetario","monile","monotono","monsone","montato","monviso","mora","mordere","morsicato","mostro","motivato","motosega","motto","movenza","movimento","mozzo","mucca","mucosa","muffa","mughetto","mugnaio","mulatto","mulinello","multiplo","mummia","munto","muovere","murale","musa","muscolo","musica","mutevole","muto","nababbo","nafta","nanometro","narciso","narice","narrato","nascere","nastrare","naturale","nautica","naviglio","nebulosa","necrosi","negativo","negozio","nemmeno","neofita","neretto","nervo","nessuno","nettuno","neutrale","neve","nevrotico","nicchia","ninfa","nitido","nobile","nocivo","nodo","nome","nomina","nordico","normale","norvegese","nostrano","notare","notizia","notturno","novella","nucleo","nulla","numero","nuovo","nutrire","nuvola","nuziale","oasi","obbedire","obbligo","obelisco","oblio","obolo","obsoleto","occasione","occhio","occidente","occorrere","occultare","ocra","oculato","odierno","odorare","offerta","offrire","offuscato","oggetto","oggi","ognuno","olandese","olfatto","oliato","oliva","ologramma","oltre","omaggio","ombelico","ombra","omega","omissione","ondoso","onere","onice","onnivoro","onorevole","onta","operato","opinione","opposto","oracolo","orafo","ordine","orecchino","orefice","orfano","organico","origine","orizzonte","orma","ormeggio","ornativo","orologio","orrendo","orribile","ortensia","ortica","orzata","orzo","osare","oscurare","osmosi","ospedale","ospite","ossa","ossidare","ostacolo","oste","otite","otre","ottagono","ottimo","ottobre","ovale","ovest","ovino","oviparo","ovocito","ovunque","ovviare","ozio","pacchetto","pace","pacifico","padella","padrone","paese","paga","pagina","palazzina","palesare","pallido","palo","palude","pandoro","pannello","paolo","paonazzo","paprica","parabola","parcella","parere","pargolo","pari","parlato","parola","partire","parvenza","parziale","passivo","pasticca","patacca","patologia","pattume","pavone","peccato","pedalare","pedonale","peggio","peloso","penare","pendice","penisola","pennuto","penombra","pensare","pentola","pepe","pepita","perbene","percorso","perdonato","perforare","pergamena","periodo","permesso","perno","perplesso","persuaso","pertugio","pervaso","pesatore","pesista","peso","pestifero","petalo","pettine","petulante","pezzo","piacere","pianta","piattino","piccino","picozza","piega","pietra","piffero","pigiama","pigolio","pigro","pila","pilifero","pillola","pilota","pimpante","pineta","pinna","pinolo","pioggia","piombo","piramide","piretico","pirite","pirolisi","pitone","pizzico","placebo","planare","plasma","platano","plenario","pochezza","poderoso","podismo","poesia","poggiare","polenta","poligono","pollice","polmonite","polpetta","polso","poltrona","polvere","pomice","pomodoro","ponte","popoloso","porfido","poroso","porpora","porre","portata","posa","positivo","possesso","postulato","potassio","potere","pranzo","prassi","pratica","precluso","predica","prefisso","pregiato","prelievo","premere","prenotare","preparato","presenza","pretesto","prevalso","prima","principe","privato","problema","procura","produrre","profumo","progetto","prolunga","promessa","pronome","proposta","proroga","proteso","prova","prudente","prugna","prurito","psiche","pubblico","pudica","pugilato","pugno","pulce","pulito","pulsante","puntare","pupazzo","pupilla","puro","quadro","qualcosa","quasi","querela","quota","raccolto","raddoppio","radicale","radunato","raffica","ragazzo","ragione","ragno","ramarro","ramingo","ramo","randagio","rantolare","rapato","rapina","rappreso","rasatura","raschiato","rasente","rassegna","rastrello","rata","ravveduto","reale","recepire","recinto","recluta","recondito","recupero","reddito","redimere","regalato","registro","regola","regresso","relazione","remare","remoto","renna","replica","reprimere","reputare","resa","residente","responso","restauro","rete","retina","retorica","rettifica","revocato","riassunto","ribadire","ribelle","ribrezzo","ricarica","ricco","ricevere","riciclato","ricordo","ricreduto","ridicolo","ridurre","rifasare","riflesso","riforma","rifugio","rigare","rigettato","righello","rilassato","rilevato","rimanere","rimbalzo","rimedio","rimorchio","rinascita","rincaro","rinforzo","rinnovo","rinomato","rinsavito","rintocco","rinuncia","rinvenire","riparato","ripetuto","ripieno","riportare","ripresa","ripulire","risata","rischio","riserva","risibile","riso","rispetto","ristoro","risultato","risvolto","ritardo","ritegno","ritmico","ritrovo","riunione","riva","riverso","rivincita","rivolto","rizoma","roba","robotico","robusto","roccia","roco","rodaggio","rodere","roditore","rogito","rollio","romantico","rompere","ronzio","rosolare","rospo","rotante","rotondo","rotula","rovescio","rubizzo","rubrica","ruga","rullino","rumine","rumoroso","ruolo","rupe","russare","rustico","sabato","sabbiare","sabotato","sagoma","salasso","saldatura","salgemma","salivare","salmone","salone","saltare","saluto","salvo","sapere","sapido","saporito","saraceno","sarcasmo","sarto","sassoso","satellite","satira","satollo","saturno","savana","savio","saziato","sbadiglio","sbalzo","sbancato","sbarra","sbattere","sbavare","sbendare","sbirciare","sbloccato","sbocciato","sbrinare","sbruffone","sbuffare","scabroso","scadenza","scala","scambiare","scandalo","scapola","scarso","scatenare","scavato","scelto","scenico","scettro","scheda","schiena","sciarpa","scienza","scindere","scippo","sciroppo","scivolo","sclerare","scodella","scolpito","scomparto","sconforto","scoprire","scorta","scossone","scozzese","scriba","scrollare","scrutinio","scuderia","scultore","scuola","scuro","scusare","sdebitare","sdoganare","seccatura","secondo","sedano","seggiola","segnalato","segregato","seguito","selciato","selettivo","sella","selvaggio","semaforo","sembrare","seme","seminato","sempre","senso","sentire","sepolto","sequenza","serata","serbato","sereno","serio","serpente","serraglio","servire","sestina","setola","settimana","sfacelo","sfaldare","sfamato","sfarzoso","sfaticato","sfera","sfida","sfilato","sfinge","sfocato","sfoderare","sfogo","sfoltire","sforzato","sfratto","sfruttato","sfuggito","sfumare","sfuso","sgabello","sgarbato","sgonfiare","sgorbio","sgrassato","sguardo","sibilo","siccome","sierra","sigla","signore","silenzio","sillaba","simbolo","simpatico","simulato","sinfonia","singolo","sinistro","sino","sintesi","sinusoide","sipario","sisma","sistole","situato","slitta","slogatura","sloveno","smarrito","smemorato","smentito","smeraldo","smilzo","smontare","smottato","smussato","snellire","snervato","snodo","sobbalzo","sobrio","soccorso","sociale","sodale","soffitto","sogno","soldato","solenne","solido","sollazzo","solo","solubile","solvente","somatico","somma","sonda","sonetto","sonnifero","sopire","soppeso","sopra","sorgere","sorpasso","sorriso","sorso","sorteggio","sorvolato","sospiro","sosta","sottile","spada","spalla","spargere","spatola","spavento","spazzola","specie","spedire","spegnere","spelatura","speranza","spessore","spettrale","spezzato","spia","spigoloso","spillato","spinoso","spirale","splendido","sportivo","sposo","spranga","sprecare","spronato","spruzzo","spuntino","squillo","sradicare","srotolato","stabile","stacco","staffa","stagnare","stampato","stantio","starnuto","stasera","statuto","stelo","steppa","sterzo","stiletto","stima","stirpe","stivale","stizzoso","stonato","storico","strappo","stregato","stridulo","strozzare","strutto","stuccare","stufo","stupendo","subentro","succoso","sudore","suggerito","sugo","sultano","suonare","superbo","supporto","surgelato","surrogato","sussurro","sutura","svagare","svedese","sveglio","svelare","svenuto","svezia","sviluppo","svista","svizzera","svolta","svuotare","tabacco","tabulato","tacciare","taciturno","tale","talismano","tampone","tannino","tara","tardivo","targato","tariffa","tarpare","tartaruga","tasto","tattico","taverna","tavolata","tazza","teca","tecnico","telefono","temerario","tempo","temuto","tendone","tenero","tensione","tentacolo","teorema","terme","terrazzo","terzetto","tesi","tesserato","testato","tetro","tettoia","tifare","tigella","timbro","tinto","tipico","tipografo","tiraggio","tiro","titanio","titolo","titubante","tizio","tizzone","toccare","tollerare","tolto","tombola","tomo","tonfo","tonsilla","topazio","topologia","toppa","torba","tornare","torrone","tortora","toscano","tossire","tostatura","totano","trabocco","trachea","trafila","tragedia","tralcio","tramonto","transito","trapano","trarre","trasloco","trattato","trave","treccia","tremolio","trespolo","tributo","tricheco","trifoglio","trillo","trincea","trio","tristezza","triturato","trivella","tromba","trono","troppo","trottola","trovare","truccato","tubatura","tuffato","tulipano","tumulto","tunisia","turbare","turchino","tuta","tutela","ubicato","uccello","uccisore","udire","uditivo","uffa","ufficio","uguale","ulisse","ultimato","umano","umile","umorismo","uncinetto","ungere","ungherese","unicorno","unificato","unisono","unitario","unte","uovo","upupa","uragano","urgenza","urlo","usanza","usato","uscito","usignolo","usuraio","utensile","utilizzo","utopia","vacante","vaccinato","vagabondo","vagliato","valanga","valgo","valico","valletta","valoroso","valutare","valvola","vampata","vangare","vanitoso","vano","vantaggio","vanvera","vapore","varano","varcato","variante","vasca","vedetta","vedova","veduto","vegetale","veicolo","velcro","velina","velluto","veloce","venato","vendemmia","vento","verace","verbale","vergogna","verifica","vero","verruca","verticale","vescica","vessillo","vestale","veterano","vetrina","vetusto","viandante","vibrante","vicenda","vichingo","vicinanza","vidimare","vigilia","vigneto","vigore","vile","villano","vimini","vincitore","viola","vipera","virgola","virologo","virulento","viscoso","visione","vispo","vissuto","visura","vita","vitello","vittima","vivanda","vivido","viziare","voce","voga","volatile","volere","volpe","voragine","vulcano","zampogna","zanna","zappato","zattera","zavorra","zefiro","zelante","zelo","zenzero","zerbino","zibetto","zinco","zircone","zitto","zolla","zotico","zucchero","zufolo","zulu","zuppa"],require$$6=["ábaco","abdomen","abeja","abierto","abogado","abono","aborto","abrazo","abrir","abuelo","abuso","acabar","academia","acceso","acción","aceite","acelga","acento","aceptar","ácido","aclarar","acné","acoger","acoso","activo","acto","actriz","actuar","acudir","acuerdo","acusar","adicto","admitir","adoptar","adorno","aduana","adulto","aéreo","afectar","afición","afinar","afirmar","ágil","agitar","agonía","agosto","agotar","agregar","agrio","agua","agudo","águila","aguja","ahogo","ahorro","aire","aislar","ajedrez","ajeno","ajuste","alacrán","alambre","alarma","alba","álbum","alcalde","aldea","alegre","alejar","alerta","aleta","alfiler","alga","algodón","aliado","aliento","alivio","alma","almeja","almíbar","altar","alteza","altivo","alto","altura","alumno","alzar","amable","amante","amapola","amargo","amasar","ámbar","ámbito","ameno","amigo","amistad","amor","amparo","amplio","ancho","anciano","ancla","andar","andén","anemia","ángulo","anillo","ánimo","anís","anotar","antena","antiguo","antojo","anual","anular","anuncio","añadir","añejo","año","apagar","aparato","apetito","apio","aplicar","apodo","aporte","apoyo","aprender","aprobar","apuesta","apuro","arado","araña","arar","árbitro","árbol","arbusto","archivo","arco","arder","ardilla","arduo","área","árido","aries","armonía","arnés","aroma","arpa","arpón","arreglo","arroz","arruga","arte","artista","asa","asado","asalto","ascenso","asegurar","aseo","asesor","asiento","asilo","asistir","asno","asombro","áspero","astilla","astro","astuto","asumir","asunto","atajo","ataque","atar","atento","ateo","ático","atleta","átomo","atraer","atroz","atún","audaz","audio","auge","aula","aumento","ausente","autor","aval","avance","avaro","ave","avellana","avena","avestruz","avión","aviso","ayer","ayuda","ayuno","azafrán","azar","azote","azúcar","azufre","azul","baba","babor","bache","bahía","baile","bajar","balanza","balcón","balde","bambú","banco","banda","baño","barba","barco","barniz","barro","báscula","bastón","basura","batalla","batería","batir","batuta","baúl","bazar","bebé","bebida","bello","besar","beso","bestia","bicho","bien","bingo","blanco","bloque","blusa","boa","bobina","bobo","boca","bocina","boda","bodega","boina","bola","bolero","bolsa","bomba","bondad","bonito","bono","bonsái","borde","borrar","bosque","bote","botín","bóveda","bozal","bravo","brazo","brecha","breve","brillo","brinco","brisa","broca","broma","bronce","brote","bruja","brusco","bruto","buceo","bucle","bueno","buey","bufanda","bufón","búho","buitre","bulto","burbuja","burla","burro","buscar","butaca","buzón","caballo","cabeza","cabina","cabra","cacao","cadáver","cadena","caer","café","caída","caimán","caja","cajón","cal","calamar","calcio","caldo","calidad","calle","calma","calor","calvo","cama","cambio","camello","camino","campo","cáncer","candil","canela","canguro","canica","canto","caña","cañón","caoba","caos","capaz","capitán","capote","captar","capucha","cara","carbón","cárcel","careta","carga","cariño","carne","carpeta","carro","carta","casa","casco","casero","caspa","castor","catorce","catre","caudal","causa","cazo","cebolla","ceder","cedro","celda","célebre","celoso","célula","cemento","ceniza","centro","cerca","cerdo","cereza","cero","cerrar","certeza","césped","cetro","chacal","chaleco","champú","chancla","chapa","charla","chico","chiste","chivo","choque","choza","chuleta","chupar","ciclón","ciego","cielo","cien","cierto","cifra","cigarro","cima","cinco","cine","cinta","ciprés","circo","ciruela","cisne","cita","ciudad","clamor","clan","claro","clase","clave","cliente","clima","clínica","cobre","cocción","cochino","cocina","coco","código","codo","cofre","coger","cohete","cojín","cojo","cola","colcha","colegio","colgar","colina","collar","colmo","columna","combate","comer","comida","cómodo","compra","conde","conejo","conga","conocer","consejo","contar","copa","copia","corazón","corbata","corcho","cordón","corona","correr","coser","cosmos","costa","cráneo","cráter","crear","crecer","creído","crema","cría","crimen","cripta","crisis","cromo","crónica","croqueta","crudo","cruz","cuadro","cuarto","cuatro","cubo","cubrir","cuchara","cuello","cuento","cuerda","cuesta","cueva","cuidar","culebra","culpa","culto","cumbre","cumplir","cuna","cuneta","cuota","cupón","cúpula","curar","curioso","curso","curva","cutis","dama","danza","dar","dardo","dátil","deber","débil","década","decir","dedo","defensa","definir","dejar","delfín","delgado","delito","demora","denso","dental","deporte","derecho","derrota","desayuno","deseo","desfile","desnudo","destino","desvío","detalle","detener","deuda","día","diablo","diadema","diamante","diana","diario","dibujo","dictar","diente","dieta","diez","difícil","digno","dilema","diluir","dinero","directo","dirigir","disco","diseño","disfraz","diva","divino","doble","doce","dolor","domingo","don","donar","dorado","dormir","dorso","dos","dosis","dragón","droga","ducha","duda","duelo","dueño","dulce","dúo","duque","durar","dureza","duro","ébano","ebrio","echar","eco","ecuador","edad","edición","edificio","editor","educar","efecto","eficaz","eje","ejemplo","elefante","elegir","elemento","elevar","elipse","élite","elixir","elogio","eludir","embudo","emitir","emoción","empate","empeño","empleo","empresa","enano","encargo","enchufe","encía","enemigo","enero","enfado","enfermo","engaño","enigma","enlace","enorme","enredo","ensayo","enseñar","entero","entrar","envase","envío","época","equipo","erizo","escala","escena","escolar","escribir","escudo","esencia","esfera","esfuerzo","espada","espejo","espía","esposa","espuma","esquí","estar","este","estilo","estufa","etapa","eterno","ética","etnia","evadir","evaluar","evento","evitar","exacto","examen","exceso","excusa","exento","exigir","exilio","existir","éxito","experto","explicar","exponer","extremo","fábrica","fábula","fachada","fácil","factor","faena","faja","falda","fallo","falso","faltar","fama","familia","famoso","faraón","farmacia","farol","farsa","fase","fatiga","fauna","favor","fax","febrero","fecha","feliz","feo","feria","feroz","fértil","fervor","festín","fiable","fianza","fiar","fibra","ficción","ficha","fideo","fiebre","fiel","fiera","fiesta","figura","fijar","fijo","fila","filete","filial","filtro","fin","finca","fingir","finito","firma","flaco","flauta","flecha","flor","flota","fluir","flujo","flúor","fobia","foca","fogata","fogón","folio","folleto","fondo","forma","forro","fortuna","forzar","fosa","foto","fracaso","frágil","franja","frase","fraude","freír","freno","fresa","frío","frito","fruta","fuego","fuente","fuerza","fuga","fumar","función","funda","furgón","furia","fusil","fútbol","futuro","gacela","gafas","gaita","gajo","gala","galería","gallo","gamba","ganar","gancho","ganga","ganso","garaje","garza","gasolina","gastar","gato","gavilán","gemelo","gemir","gen","género","genio","gente","geranio","gerente","germen","gesto","gigante","gimnasio","girar","giro","glaciar","globo","gloria","gol","golfo","goloso","golpe","goma","gordo","gorila","gorra","gota","goteo","gozar","grada","gráfico","grano","grasa","gratis","grave","grieta","grillo","gripe","gris","grito","grosor","grúa","grueso","grumo","grupo","guante","guapo","guardia","guerra","guía","guiño","guion","guiso","guitarra","gusano","gustar","haber","hábil","hablar","hacer","hacha","hada","hallar","hamaca","harina","haz","hazaña","hebilla","hebra","hecho","helado","helio","hembra","herir","hermano","héroe","hervir","hielo","hierro","hígado","higiene","hijo","himno","historia","hocico","hogar","hoguera","hoja","hombre","hongo","honor","honra","hora","hormiga","horno","hostil","hoyo","hueco","huelga","huerta","hueso","huevo","huida","huir","humano","húmedo","humilde","humo","hundir","huracán","hurto","icono","ideal","idioma","ídolo","iglesia","iglú","igual","ilegal","ilusión","imagen","imán","imitar","impar","imperio","imponer","impulso","incapaz","índice","inerte","infiel","informe","ingenio","inicio","inmenso","inmune","innato","insecto","instante","interés","íntimo","intuir","inútil","invierno","ira","iris","ironía","isla","islote","jabalí","jabón","jamón","jarabe","jardín","jarra","jaula","jazmín","jefe","jeringa","jinete","jornada","joroba","joven","joya","juerga","jueves","juez","jugador","jugo","juguete","juicio","junco","jungla","junio","juntar","júpiter","jurar","justo","juvenil","juzgar","kilo","koala","labio","lacio","lacra","lado","ladrón","lagarto","lágrima","laguna","laico","lamer","lámina","lámpara","lana","lancha","langosta","lanza","lápiz","largo","larva","lástima","lata","látex","latir","laurel","lavar","lazo","leal","lección","leche","lector","leer","legión","legumbre","lejano","lengua","lento","leña","león","leopardo","lesión","letal","letra","leve","leyenda","libertad","libro","licor","líder","lidiar","lienzo","liga","ligero","lima","límite","limón","limpio","lince","lindo","línea","lingote","lino","linterna","líquido","liso","lista","litera","litio","litro","llaga","llama","llanto","llave","llegar","llenar","llevar","llorar","llover","lluvia","lobo","loción","loco","locura","lógica","logro","lombriz","lomo","lonja","lote","lucha","lucir","lugar","lujo","luna","lunes","lupa","lustro","luto","luz","maceta","macho","madera","madre","maduro","maestro","mafia","magia","mago","maíz","maldad","maleta","malla","malo","mamá","mambo","mamut","manco","mando","manejar","manga","maniquí","manjar","mano","manso","manta","mañana","mapa","máquina","mar","marco","marea","marfil","margen","marido","mármol","marrón","martes","marzo","masa","máscara","masivo","matar","materia","matiz","matriz","máximo","mayor","mazorca","mecha","medalla","medio","médula","mejilla","mejor","melena","melón","memoria","menor","mensaje","mente","menú","mercado","merengue","mérito","mes","mesón","meta","meter","método","metro","mezcla","miedo","miel","miembro","miga","mil","milagro","militar","millón","mimo","mina","minero","mínimo","minuto","miope","mirar","misa","miseria","misil","mismo","mitad","mito","mochila","moción","moda","modelo","moho","mojar","molde","moler","molino","momento","momia","monarca","moneda","monja","monto","moño","morada","morder","moreno","morir","morro","morsa","mortal","mosca","mostrar","motivo","mover","móvil","mozo","mucho","mudar","mueble","muela","muerte","muestra","mugre","mujer","mula","muleta","multa","mundo","muñeca","mural","muro","músculo","museo","musgo","música","muslo","nácar","nación","nadar","naipe","naranja","nariz","narrar","nasal","natal","nativo","natural","náusea","naval","nave","navidad","necio","néctar","negar","negocio","negro","neón","nervio","neto","neutro","nevar","nevera","nicho","nido","niebla","nieto","niñez","niño","nítido","nivel","nobleza","noche","nómina","noria","norma","norte","nota","noticia","novato","novela","novio","nube","nuca","núcleo","nudillo","nudo","nuera","nueve","nuez","nulo","número","nutria","oasis","obeso","obispo","objeto","obra","obrero","observar","obtener","obvio","oca","ocaso","océano","ochenta","ocho","ocio","ocre","octavo","octubre","oculto","ocupar","ocurrir","odiar","odio","odisea","oeste","ofensa","oferta","oficio","ofrecer","ogro","oído","oír","ojo","ola","oleada","olfato","olivo","olla","olmo","olor","olvido","ombligo","onda","onza","opaco","opción","ópera","opinar","oponer","optar","óptica","opuesto","oración","orador","oral","órbita","orca","orden","oreja","órgano","orgía","orgullo","oriente","origen","orilla","oro","orquesta","oruga","osadía","oscuro","osezno","oso","ostra","otoño","otro","oveja","óvulo","óxido","oxígeno","oyente","ozono","pacto","padre","paella","página","pago","país","pájaro","palabra","palco","paleta","pálido","palma","paloma","palpar","pan","panal","pánico","pantera","pañuelo","papá","papel","papilla","paquete","parar","parcela","pared","parir","paro","párpado","parque","párrafo","parte","pasar","paseo","pasión","paso","pasta","pata","patio","patria","pausa","pauta","pavo","payaso","peatón","pecado","pecera","pecho","pedal","pedir","pegar","peine","pelar","peldaño","pelea","peligro","pellejo","pelo","peluca","pena","pensar","peñón","peón","peor","pepino","pequeño","pera","percha","perder","pereza","perfil","perico","perla","permiso","perro","persona","pesa","pesca","pésimo","pestaña","pétalo","petróleo","pez","pezuña","picar","pichón","pie","piedra","pierna","pieza","pijama","pilar","piloto","pimienta","pino","pintor","pinza","piña","piojo","pipa","pirata","pisar","piscina","piso","pista","pitón","pizca","placa","plan","plata","playa","plaza","pleito","pleno","plomo","pluma","plural","pobre","poco","poder","podio","poema","poesía","poeta","polen","policía","pollo","polvo","pomada","pomelo","pomo","pompa","poner","porción","portal","posada","poseer","posible","poste","potencia","potro","pozo","prado","precoz","pregunta","premio","prensa","preso","previo","primo","príncipe","prisión","privar","proa","probar","proceso","producto","proeza","profesor","programa","prole","promesa","pronto","propio","próximo","prueba","público","puchero","pudor","pueblo","puerta","puesto","pulga","pulir","pulmón","pulpo","pulso","puma","punto","puñal","puño","pupa","pupila","puré","quedar","queja","quemar","querer","queso","quieto","química","quince","quitar","rábano","rabia","rabo","ración","radical","raíz","rama","rampa","rancho","rango","rapaz","rápido","rapto","rasgo","raspa","rato","rayo","raza","razón","reacción","realidad","rebaño","rebote","recaer","receta","rechazo","recoger","recreo","recto","recurso","red","redondo","reducir","reflejo","reforma","refrán","refugio","regalo","regir","regla","regreso","rehén","reino","reír","reja","relato","relevo","relieve","relleno","reloj","remar","remedio","remo","rencor","rendir","renta","reparto","repetir","reposo","reptil","res","rescate","resina","respeto","resto","resumen","retiro","retorno","retrato","reunir","revés","revista","rey","rezar","rico","riego","rienda","riesgo","rifa","rígido","rigor","rincón","riñón","río","riqueza","risa","ritmo","rito","rizo","roble","roce","rociar","rodar","rodeo","rodilla","roer","rojizo","rojo","romero","romper","ron","ronco","ronda","ropa","ropero","rosa","rosca","rostro","rotar","rubí","rubor","rudo","rueda","rugir","ruido","ruina","ruleta","rulo","rumbo","rumor","ruptura","ruta","rutina","sábado","saber","sabio","sable","sacar","sagaz","sagrado","sala","saldo","salero","salir","salmón","salón","salsa","salto","salud","salvar","samba","sanción","sandía","sanear","sangre","sanidad","sano","santo","sapo","saque","sardina","sartén","sastre","satán","sauna","saxofón","sección","seco","secreto","secta","sed","seguir","seis","sello","selva","semana","semilla","senda","sensor","señal","señor","separar","sepia","sequía","ser","serie","sermón","servir","sesenta","sesión","seta","setenta","severo","sexo","sexto","sidra","siesta","siete","siglo","signo","sílaba","silbar","silencio","silla","símbolo","simio","sirena","sistema","sitio","situar","sobre","socio","sodio","sol","solapa","soldado","soledad","sólido","soltar","solución","sombra","sondeo","sonido","sonoro","sonrisa","sopa","soplar","soporte","sordo","sorpresa","sorteo","sostén","sótano","suave","subir","suceso","sudor","suegra","suelo","sueño","suerte","sufrir","sujeto","sultán","sumar","superar","suplir","suponer","supremo","sur","surco","sureño","surgir","susto","sutil","tabaco","tabique","tabla","tabú","taco","tacto","tajo","talar","talco","talento","talla","talón","tamaño","tambor","tango","tanque","tapa","tapete","tapia","tapón","taquilla","tarde","tarea","tarifa","tarjeta","tarot","tarro","tarta","tatuaje","tauro","taza","tazón","teatro","techo","tecla","técnica","tejado","tejer","tejido","tela","teléfono","tema","temor","templo","tenaz","tender","tener","tenis","tenso","teoría","terapia","terco","término","ternura","terror","tesis","tesoro","testigo","tetera","texto","tez","tibio","tiburón","tiempo","tienda","tierra","tieso","tigre","tijera","tilde","timbre","tímido","timo","tinta","tío","típico","tipo","tira","tirón","titán","títere","título","tiza","toalla","tobillo","tocar","tocino","todo","toga","toldo","tomar","tono","tonto","topar","tope","toque","tórax","torero","tormenta","torneo","toro","torpedo","torre","torso","tortuga","tos","tosco","toser","tóxico","trabajo","tractor","traer","tráfico","trago","traje","tramo","trance","trato","trauma","trazar","trébol","tregua","treinta","tren","trepar","tres","tribu","trigo","tripa","triste","triunfo","trofeo","trompa","tronco","tropa","trote","trozo","truco","trueno","trufa","tubería","tubo","tuerto","tumba","tumor","túnel","túnica","turbina","turismo","turno","tutor","ubicar","úlcera","umbral","unidad","unir","universo","uno","untar","uña","urbano","urbe","urgente","urna","usar","usuario","útil","utopía","uva","vaca","vacío","vacuna","vagar","vago","vaina","vajilla","vale","válido","valle","valor","válvula","vampiro","vara","variar","varón","vaso","vecino","vector","vehículo","veinte","vejez","vela","velero","veloz","vena","vencer","venda","veneno","vengar","venir","venta","venus","ver","verano","verbo","verde","vereda","verja","verso","verter","vía","viaje","vibrar","vicio","víctima","vida","vídeo","vidrio","viejo","viernes","vigor","vil","villa","vinagre","vino","viñedo","violín","viral","virgo","virtud","visor","víspera","vista","vitamina","viudo","vivaz","vivero","vivir","vivo","volcán","volumen","volver","voraz","votar","voto","voz","vuelo","vulgar","yacer","yate","yegua","yema","yerno","yeso","yodo","yoga","yogur","zafiro","zanja","zapato","zarza","zona","zorro","zumo","zurdo"],require$$7=["あいこくしん","あいさつ","あいだ","あおぞら","あかちゃん","あきる","あけがた","あける","あこがれる","あさい","あさひ","あしあと","あじわう","あずかる","あずき","あそぶ","あたえる","あたためる","あたりまえ","あたる","あつい","あつかう","あっしゅく","あつまり","あつめる","あてな","あてはまる","あひる","あぶら","あぶる","あふれる","あまい","あまど","あまやかす","あまり","あみもの","あめりか","あやまる","あゆむ","あらいぐま","あらし","あらすじ","あらためる","あらゆる","あらわす","ありがとう","あわせる","あわてる","あんい","あんがい","あんこ","あんぜん","あんてい","あんない","あんまり","いいだす","いおん","いがい","いがく","いきおい","いきなり","いきもの","いきる","いくじ","いくぶん","いけばな","いけん","いこう","いこく","いこつ","いさましい","いさん","いしき","いじゅう","いじょう","いじわる","いずみ","いずれ","いせい","いせえび","いせかい","いせき","いぜん","いそうろう","いそがしい","いだい","いだく","いたずら","いたみ","いたりあ","いちおう","いちじ","いちど","いちば","いちぶ","いちりゅう","いつか","いっしゅん","いっせい","いっそう","いったん","いっち","いってい","いっぽう","いてざ","いてん","いどう","いとこ","いない","いなか","いねむり","いのち","いのる","いはつ","いばる","いはん","いびき","いひん","いふく","いへん","いほう","いみん","いもうと","いもたれ","いもり","いやがる","いやす","いよかん","いよく","いらい","いらすと","いりぐち","いりょう","いれい","いれもの","いれる","いろえんぴつ","いわい","いわう","いわかん","いわば","いわゆる","いんげんまめ","いんさつ","いんしょう","いんよう","うえき","うえる","うおざ","うがい","うかぶ","うかべる","うきわ","うくらいな","うくれれ","うけたまわる","うけつけ","うけとる","うけもつ","うける","うごかす","うごく","うこん","うさぎ","うしなう","うしろがみ","うすい","うすぎ","うすぐらい","うすめる","うせつ","うちあわせ","うちがわ","うちき","うちゅう","うっかり","うつくしい","うったえる","うつる","うどん","うなぎ","うなじ","うなずく","うなる","うねる","うのう","うぶげ","うぶごえ","うまれる","うめる","うもう","うやまう","うよく","うらがえす","うらぐち","うらない","うりあげ","うりきれ","うるさい","うれしい","うれゆき","うれる","うろこ","うわき","うわさ","うんこう","うんちん","うんてん","うんどう","えいえん","えいが","えいきょう","えいご","えいせい","えいぶん","えいよう","えいわ","えおり","えがお","えがく","えきたい","えくせる","えしゃく","えすて","えつらん","えのぐ","えほうまき","えほん","えまき","えもじ","えもの","えらい","えらぶ","えりあ","えんえん","えんかい","えんぎ","えんげき","えんしゅう","えんぜつ","えんそく","えんちょう","えんとつ","おいかける","おいこす","おいしい","おいつく","おうえん","おうさま","おうじ","おうせつ","おうたい","おうふく","おうべい","おうよう","おえる","おおい","おおう","おおどおり","おおや","おおよそ","おかえり","おかず","おがむ","おかわり","おぎなう","おきる","おくさま","おくじょう","おくりがな","おくる","おくれる","おこす","おこなう","おこる","おさえる","おさない","おさめる","おしいれ","おしえる","おじぎ","おじさん","おしゃれ","おそらく","おそわる","おたがい","おたく","おだやか","おちつく","おっと","おつり","おでかけ","おとしもの","おとなしい","おどり","おどろかす","おばさん","おまいり","おめでとう","おもいで","おもう","おもたい","おもちゃ","おやつ","おやゆび","およぼす","おらんだ","おろす","おんがく","おんけい","おんしゃ","おんせん","おんだん","おんちゅう","おんどけい","かあつ","かいが","がいき","がいけん","がいこう","かいさつ","かいしゃ","かいすいよく","かいぜん","かいぞうど","かいつう","かいてん","かいとう","かいふく","がいへき","かいほう","かいよう","がいらい","かいわ","かえる","かおり","かかえる","かがく","かがし","かがみ","かくご","かくとく","かざる","がぞう","かたい","かたち","がちょう","がっきゅう","がっこう","がっさん","がっしょう","かなざわし","かのう","がはく","かぶか","かほう","かほご","かまう","かまぼこ","かめれおん","かゆい","かようび","からい","かるい","かろう","かわく","かわら","がんか","かんけい","かんこう","かんしゃ","かんそう","かんたん","かんち","がんばる","きあい","きあつ","きいろ","ぎいん","きうい","きうん","きえる","きおう","きおく","きおち","きおん","きかい","きかく","きかんしゃ","ききて","きくばり","きくらげ","きけんせい","きこう","きこえる","きこく","きさい","きさく","きさま","きさらぎ","ぎじかがく","ぎしき","ぎじたいけん","ぎじにってい","ぎじゅつしゃ","きすう","きせい","きせき","きせつ","きそう","きぞく","きぞん","きたえる","きちょう","きつえん","ぎっちり","きつつき","きつね","きてい","きどう","きどく","きない","きなが","きなこ","きぬごし","きねん","きのう","きのした","きはく","きびしい","きひん","きふく","きぶん","きぼう","きほん","きまる","きみつ","きむずかしい","きめる","きもだめし","きもち","きもの","きゃく","きやく","ぎゅうにく","きよう","きょうりゅう","きらい","きらく","きりん","きれい","きれつ","きろく","ぎろん","きわめる","ぎんいろ","きんかくじ","きんじょ","きんようび","ぐあい","くいず","くうかん","くうき","くうぐん","くうこう","ぐうせい","くうそう","ぐうたら","くうふく","くうぼ","くかん","くきょう","くげん","ぐこう","くさい","くさき","くさばな","くさる","くしゃみ","くしょう","くすのき","くすりゆび","くせげ","くせん","ぐたいてき","くださる","くたびれる","くちこみ","くちさき","くつした","ぐっすり","くつろぐ","くとうてん","くどく","くなん","くねくね","くのう","くふう","くみあわせ","くみたてる","くめる","くやくしょ","くらす","くらべる","くるま","くれる","くろう","くわしい","ぐんかん","ぐんしょく","ぐんたい","ぐんて","けあな","けいかく","けいけん","けいこ","けいさつ","げいじゅつ","けいたい","げいのうじん","けいれき","けいろ","けおとす","けおりもの","げきか","げきげん","げきだん","げきちん","げきとつ","げきは","げきやく","げこう","げこくじょう","げざい","けさき","げざん","けしき","けしごむ","けしょう","げすと","けたば","けちゃっぷ","けちらす","けつあつ","けつい","けつえき","けっこん","けつじょ","けっせき","けってい","けつまつ","げつようび","げつれい","けつろん","げどく","けとばす","けとる","けなげ","けなす","けなみ","けぬき","げねつ","けねん","けはい","げひん","けぶかい","げぼく","けまり","けみかる","けむし","けむり","けもの","けらい","けろけろ","けわしい","けんい","けんえつ","けんお","けんか","げんき","けんげん","けんこう","けんさく","けんしゅう","けんすう","げんそう","けんちく","けんてい","けんとう","けんない","けんにん","げんぶつ","けんま","けんみん","けんめい","けんらん","けんり","こあくま","こいぬ","こいびと","ごうい","こうえん","こうおん","こうかん","ごうきゅう","ごうけい","こうこう","こうさい","こうじ","こうすい","ごうせい","こうそく","こうたい","こうちゃ","こうつう","こうてい","こうどう","こうない","こうはい","ごうほう","ごうまん","こうもく","こうりつ","こえる","こおり","ごかい","ごがつ","ごかん","こくご","こくさい","こくとう","こくない","こくはく","こぐま","こけい","こける","ここのか","こころ","こさめ","こしつ","こすう","こせい","こせき","こぜん","こそだて","こたい","こたえる","こたつ","こちょう","こっか","こつこつ","こつばん","こつぶ","こてい","こてん","ことがら","ことし","ことば","ことり","こなごな","こねこね","このまま","このみ","このよ","ごはん","こひつじ","こふう","こふん","こぼれる","ごまあぶら","こまかい","ごますり","こまつな","こまる","こむぎこ","こもじ","こもち","こもの","こもん","こやく","こやま","こゆう","こゆび","こよい","こよう","こりる","これくしょん","ころっけ","こわもて","こわれる","こんいん","こんかい","こんき","こんしゅう","こんすい","こんだて","こんとん","こんなん","こんびに","こんぽん","こんまけ","こんや","こんれい","こんわく","ざいえき","さいかい","さいきん","ざいげん","ざいこ","さいしょ","さいせい","ざいたく","ざいちゅう","さいてき","ざいりょう","さうな","さかいし","さがす","さかな","さかみち","さがる","さぎょう","さくし","さくひん","さくら","さこく","さこつ","さずかる","ざせき","さたん","さつえい","ざつおん","ざっか","ざつがく","さっきょく","ざっし","さつじん","ざっそう","さつたば","さつまいも","さてい","さといも","さとう","さとおや","さとし","さとる","さのう","さばく","さびしい","さべつ","さほう","さほど","さます","さみしい","さみだれ","さむけ","さめる","さやえんどう","さゆう","さよう","さよく","さらだ","ざるそば","さわやか","さわる","さんいん","さんか","さんきゃく","さんこう","さんさい","ざんしょ","さんすう","さんせい","さんそ","さんち","さんま","さんみ","さんらん","しあい","しあげ","しあさって","しあわせ","しいく","しいん","しうち","しえい","しおけ","しかい","しかく","じかん","しごと","しすう","じだい","したうけ","したぎ","したて","したみ","しちょう","しちりん","しっかり","しつじ","しつもん","してい","してき","してつ","じてん","じどう","しなぎれ","しなもの","しなん","しねま","しねん","しのぐ","しのぶ","しはい","しばかり","しはつ","しはらい","しはん","しひょう","しふく","じぶん","しへい","しほう","しほん","しまう","しまる","しみん","しむける","じむしょ","しめい","しめる","しもん","しゃいん","しゃうん","しゃおん","じゃがいも","しやくしょ","しゃくほう","しゃけん","しゃこ","しゃざい","しゃしん","しゃせん","しゃそう","しゃたい","しゃちょう","しゃっきん","じゃま","しゃりん","しゃれい","じゆう","じゅうしょ","しゅくはく","じゅしん","しゅっせき","しゅみ","しゅらば","じゅんばん","しょうかい","しょくたく","しょっけん","しょどう","しょもつ","しらせる","しらべる","しんか","しんこう","じんじゃ","しんせいじ","しんちく","しんりん","すあげ","すあし","すあな","ずあん","すいえい","すいか","すいとう","ずいぶん","すいようび","すうがく","すうじつ","すうせん","すおどり","すきま","すくう","すくない","すける","すごい","すこし","ずさん","すずしい","すすむ","すすめる","すっかり","ずっしり","ずっと","すてき","すてる","すねる","すのこ","すはだ","すばらしい","ずひょう","ずぶぬれ","すぶり","すふれ","すべて","すべる","ずほう","すぼん","すまい","すめし","すもう","すやき","すらすら","するめ","すれちがう","すろっと","すわる","すんぜん","すんぽう","せあぶら","せいかつ","せいげん","せいじ","せいよう","せおう","せかいかん","せきにん","せきむ","せきゆ","せきらんうん","せけん","せこう","せすじ","せたい","せたけ","せっかく","せっきゃく","ぜっく","せっけん","せっこつ","せっさたくま","せつぞく","せつだん","せつでん","せっぱん","せつび","せつぶん","せつめい","せつりつ","せなか","せのび","せはば","せびろ","せぼね","せまい","せまる","せめる","せもたれ","せりふ","ぜんあく","せんい","せんえい","せんか","せんきょ","せんく","せんげん","ぜんご","せんさい","せんしゅ","せんすい","せんせい","せんぞ","せんたく","せんちょう","せんてい","せんとう","せんぬき","せんねん","せんぱい","ぜんぶ","ぜんぽう","せんむ","せんめんじょ","せんもん","せんやく","せんゆう","せんよう","ぜんら","ぜんりゃく","せんれい","せんろ","そあく","そいとげる","そいね","そうがんきょう","そうき","そうご","そうしん","そうだん","そうなん","そうび","そうめん","そうり","そえもの","そえん","そがい","そげき","そこう","そこそこ","そざい","そしな","そせい","そせん","そそぐ","そだてる","そつう","そつえん","そっかん","そつぎょう","そっけつ","そっこう","そっせん","そっと","そとがわ","そとづら","そなえる","そなた","そふぼ","そぼく","そぼろ","そまつ","そまる","そむく","そむりえ","そめる","そもそも","そよかぜ","そらまめ","そろう","そんかい","そんけい","そんざい","そんしつ","そんぞく","そんちょう","ぞんび","ぞんぶん","そんみん","たあい","たいいん","たいうん","たいえき","たいおう","だいがく","たいき","たいぐう","たいけん","たいこ","たいざい","だいじょうぶ","だいすき","たいせつ","たいそう","だいたい","たいちょう","たいてい","だいどころ","たいない","たいねつ","たいのう","たいはん","だいひょう","たいふう","たいへん","たいほ","たいまつばな","たいみんぐ","たいむ","たいめん","たいやき","たいよう","たいら","たいりょく","たいる","たいわん","たうえ","たえる","たおす","たおる","たおれる","たかい","たかね","たきび","たくさん","たこく","たこやき","たさい","たしざん","だじゃれ","たすける","たずさわる","たそがれ","たたかう","たたく","ただしい","たたみ","たちばな","だっかい","だっきゃく","だっこ","だっしゅつ","だったい","たてる","たとえる","たなばた","たにん","たぬき","たのしみ","たはつ","たぶん","たべる","たぼう","たまご","たまる","だむる","ためいき","ためす","ためる","たもつ","たやすい","たよる","たらす","たりきほんがん","たりょう","たりる","たると","たれる","たれんと","たろっと","たわむれる","だんあつ","たんい","たんおん","たんか","たんき","たんけん","たんご","たんさん","たんじょうび","だんせい","たんそく","たんたい","だんち","たんてい","たんとう","だんな","たんにん","だんねつ","たんのう","たんぴん","だんぼう","たんまつ","たんめい","だんれつ","だんろ","だんわ","ちあい","ちあん","ちいき","ちいさい","ちえん","ちかい","ちから","ちきゅう","ちきん","ちけいず","ちけん","ちこく","ちさい","ちしき","ちしりょう","ちせい","ちそう","ちたい","ちたん","ちちおや","ちつじょ","ちてき","ちてん","ちぬき","ちぬり","ちのう","ちひょう","ちへいせん","ちほう","ちまた","ちみつ","ちみどろ","ちめいど","ちゃんこなべ","ちゅうい","ちゆりょく","ちょうし","ちょさくけん","ちらし","ちらみ","ちりがみ","ちりょう","ちるど","ちわわ","ちんたい","ちんもく","ついか","ついたち","つうか","つうじょう","つうはん","つうわ","つかう","つかれる","つくね","つくる","つけね","つける","つごう","つたえる","つづく","つつじ","つつむ","つとめる","つながる","つなみ","つねづね","つのる","つぶす","つまらない","つまる","つみき","つめたい","つもり","つもる","つよい","つるぼ","つるみく","つわもの","つわり","てあし","てあて","てあみ","ていおん","ていか","ていき","ていけい","ていこく","ていさつ","ていし","ていせい","ていたい","ていど","ていねい","ていひょう","ていへん","ていぼう","てうち","ておくれ","てきとう","てくび","でこぼこ","てさぎょう","てさげ","てすり","てそう","てちがい","てちょう","てつがく","てつづき","でっぱ","てつぼう","てつや","でぬかえ","てぬき","てぬぐい","てのひら","てはい","てぶくろ","てふだ","てほどき","てほん","てまえ","てまきずし","てみじか","てみやげ","てらす","てれび","てわけ","てわたし","でんあつ","てんいん","てんかい","てんき","てんぐ","てんけん","てんごく","てんさい","てんし","てんすう","でんち","てんてき","てんとう","てんない","てんぷら","てんぼうだい","てんめつ","てんらんかい","でんりょく","でんわ","どあい","といれ","どうかん","とうきゅう","どうぐ","とうし","とうむぎ","とおい","とおか","とおく","とおす","とおる","とかい","とかす","ときおり","ときどき","とくい","とくしゅう","とくてん","とくに","とくべつ","とけい","とける","とこや","とさか","としょかん","とそう","とたん","とちゅう","とっきゅう","とっくん","とつぜん","とつにゅう","とどける","ととのえる","とない","となえる","となり","とのさま","とばす","どぶがわ","とほう","とまる","とめる","ともだち","ともる","どようび","とらえる","とんかつ","どんぶり","ないかく","ないこう","ないしょ","ないす","ないせん","ないそう","なおす","ながい","なくす","なげる","なこうど","なさけ","なたでここ","なっとう","なつやすみ","ななおし","なにごと","なにもの","なにわ","なのか","なふだ","なまいき","なまえ","なまみ","なみだ","なめらか","なめる","なやむ","ならう","ならび","ならぶ","なれる","なわとび","なわばり","にあう","にいがた","にうけ","におい","にかい","にがて","にきび","にくしみ","にくまん","にげる","にさんかたんそ","にしき","にせもの","にちじょう","にちようび","にっか","にっき","にっけい","にっこう","にっさん","にっしょく","にっすう","にっせき","にってい","になう","にほん","にまめ","にもつ","にやり","にゅういん","にりんしゃ","にわとり","にんい","にんか","にんき","にんげん","にんしき","にんずう","にんそう","にんたい","にんち","にんてい","にんにく","にんぷ","にんまり","にんむ","にんめい","にんよう","ぬいくぎ","ぬかす","ぬぐいとる","ぬぐう","ぬくもり","ぬすむ","ぬまえび","ぬめり","ぬらす","ぬんちゃく","ねあげ","ねいき","ねいる","ねいろ","ねぐせ","ねくたい","ねくら","ねこぜ","ねこむ","ねさげ","ねすごす","ねそべる","ねだん","ねつい","ねっしん","ねつぞう","ねったいぎょ","ねぶそく","ねふだ","ねぼう","ねほりはほり","ねまき","ねまわし","ねみみ","ねむい","ねむたい","ねもと","ねらう","ねわざ","ねんいり","ねんおし","ねんかん","ねんきん","ねんぐ","ねんざ","ねんし","ねんちゃく","ねんど","ねんぴ","ねんぶつ","ねんまつ","ねんりょう","ねんれい","のいず","のおづま","のがす","のきなみ","のこぎり","のこす","のこる","のせる","のぞく","のぞむ","のたまう","のちほど","のっく","のばす","のはら","のべる","のぼる","のみもの","のやま","のらいぬ","のらねこ","のりもの","のりゆき","のれん","のんき","ばあい","はあく","ばあさん","ばいか","ばいく","はいけん","はいご","はいしん","はいすい","はいせん","はいそう","はいち","ばいばい","はいれつ","はえる","はおる","はかい","ばかり","はかる","はくしゅ","はけん","はこぶ","はさみ","はさん","はしご","ばしょ","はしる","はせる","ぱそこん","はそん","はたん","はちみつ","はつおん","はっかく","はづき","はっきり","はっくつ","はっけん","はっこう","はっさん","はっしん","はったつ","はっちゅう","はってん","はっぴょう","はっぽう","はなす","はなび","はにかむ","はぶらし","はみがき","はむかう","はめつ","はやい","はやし","はらう","はろうぃん","はわい","はんい","はんえい","はんおん","はんかく","はんきょう","ばんぐみ","はんこ","はんしゃ","はんすう","はんだん","ぱんち","ぱんつ","はんてい","はんとし","はんのう","はんぱ","はんぶん","はんぺん","はんぼうき","はんめい","はんらん","はんろん","ひいき","ひうん","ひえる","ひかく","ひかり","ひかる","ひかん","ひくい","ひけつ","ひこうき","ひこく","ひさい","ひさしぶり","ひさん","びじゅつかん","ひしょ","ひそか","ひそむ","ひたむき","ひだり","ひたる","ひつぎ","ひっこし","ひっし","ひつじゅひん","ひっす","ひつぜん","ぴったり","ぴっちり","ひつよう","ひてい","ひとごみ","ひなまつり","ひなん","ひねる","ひはん","ひびく","ひひょう","ひほう","ひまわり","ひまん","ひみつ","ひめい","ひめじし","ひやけ","ひやす","ひよう","びょうき","ひらがな","ひらく","ひりつ","ひりょう","ひるま","ひるやすみ","ひれい","ひろい","ひろう","ひろき","ひろゆき","ひんかく","ひんけつ","ひんこん","ひんしゅ","ひんそう","ぴんち","ひんぱん","びんぼう","ふあん","ふいうち","ふうけい","ふうせん","ぷうたろう","ふうとう","ふうふ","ふえる","ふおん","ふかい","ふきん","ふくざつ","ふくぶくろ","ふこう","ふさい","ふしぎ","ふじみ","ふすま","ふせい","ふせぐ","ふそく","ぶたにく","ふたん","ふちょう","ふつう","ふつか","ふっかつ","ふっき","ふっこく","ぶどう","ふとる","ふとん","ふのう","ふはい","ふひょう","ふへん","ふまん","ふみん","ふめつ","ふめん","ふよう","ふりこ","ふりる","ふるい","ふんいき","ぶんがく","ぶんぐ","ふんしつ","ぶんせき","ふんそう","ぶんぽう","へいあん","へいおん","へいがい","へいき","へいげん","へいこう","へいさ","へいしゃ","へいせつ","へいそ","へいたく","へいてん","へいねつ","へいわ","へきが","へこむ","べにいろ","べにしょうが","へらす","へんかん","べんきょう","べんごし","へんさい","へんたい","べんり","ほあん","ほいく","ぼうぎょ","ほうこく","ほうそう","ほうほう","ほうもん","ほうりつ","ほえる","ほおん","ほかん","ほきょう","ぼきん","ほくろ","ほけつ","ほけん","ほこう","ほこる","ほしい","ほしつ","ほしゅ","ほしょう","ほせい","ほそい","ほそく","ほたて","ほたる","ぽちぶくろ","ほっきょく","ほっさ","ほったん","ほとんど","ほめる","ほんい","ほんき","ほんけ","ほんしつ","ほんやく","まいにち","まかい","まかせる","まがる","まける","まこと","まさつ","まじめ","ますく","まぜる","まつり","まとめ","まなぶ","まぬけ","まねく","まほう","まもる","まゆげ","まよう","まろやか","まわす","まわり","まわる","まんが","まんきつ","まんぞく","まんなか","みいら","みうち","みえる","みがく","みかた","みかん","みけん","みこん","みじかい","みすい","みすえる","みせる","みっか","みつかる","みつける","みてい","みとめる","みなと","みなみかさい","みねらる","みのう","みのがす","みほん","みもと","みやげ","みらい","みりょく","みわく","みんか","みんぞく","むいか","むえき","むえん","むかい","むかう","むかえ","むかし","むぎちゃ","むける","むげん","むさぼる","むしあつい","むしば","むじゅん","むしろ","むすう","むすこ","むすぶ","むすめ","むせる","むせん","むちゅう","むなしい","むのう","むやみ","むよう","むらさき","むりょう","むろん","めいあん","めいうん","めいえん","めいかく","めいきょく","めいさい","めいし","めいそう","めいぶつ","めいれい","めいわく","めぐまれる","めざす","めした","めずらしい","めだつ","めまい","めやす","めんきょ","めんせき","めんどう","もうしあげる","もうどうけん","もえる","もくし","もくてき","もくようび","もちろん","もどる","もらう","もんく","もんだい","やおや","やける","やさい","やさしい","やすい","やすたろう","やすみ","やせる","やそう","やたい","やちん","やっと","やっぱり","やぶる","やめる","ややこしい","やよい","やわらかい","ゆうき","ゆうびんきょく","ゆうべ","ゆうめい","ゆけつ","ゆしゅつ","ゆせん","ゆそう","ゆたか","ゆちゃく","ゆでる","ゆにゅう","ゆびわ","ゆらい","ゆれる","ようい","ようか","ようきゅう","ようじ","ようす","ようちえん","よかぜ","よかん","よきん","よくせい","よくぼう","よけい","よごれる","よさん","よしゅう","よそう","よそく","よっか","よてい","よどがわく","よねつ","よやく","よゆう","よろこぶ","よろしい","らいう","らくがき","らくご","らくさつ","らくだ","らしんばん","らせん","らぞく","らたい","らっか","られつ","りえき","りかい","りきさく","りきせつ","りくぐん","りくつ","りけん","りこう","りせい","りそう","りそく","りてん","りねん","りゆう","りゅうがく","りよう","りょうり","りょかん","りょくちゃ","りょこう","りりく","りれき","りろん","りんご","るいけい","るいさい","るいじ","るいせき","るすばん","るりがわら","れいかん","れいぎ","れいせい","れいぞうこ","れいとう","れいぼう","れきし","れきだい","れんあい","れんけい","れんこん","れんさい","れんしゅう","れんぞく","れんらく","ろうか","ろうご","ろうじん","ろうそく","ろくが","ろこつ","ろじうら","ろしゅつ","ろせん","ろてん","ろめん","ろれつ","ろんぎ","ろんぱ","ろんぶん","ろんり","わかす","わかめ","わかやま","わかれる","わしつ","わじまし","わすれもの","わらう","われる"],require$$8=["abacate","abaixo","abalar","abater","abduzir","abelha","aberto","abismo","abotoar","abranger","abreviar","abrigar","abrupto","absinto","absoluto","absurdo","abutre","acabado","acalmar","acampar","acanhar","acaso","aceitar","acelerar","acenar","acervo","acessar","acetona","achatar","acidez","acima","acionado","acirrar","aclamar","aclive","acolhida","acomodar","acoplar","acordar","acumular","acusador","adaptar","adega","adentro","adepto","adequar","aderente","adesivo","adeus","adiante","aditivo","adjetivo","adjunto","admirar","adorar","adquirir","adubo","adverso","advogado","aeronave","afastar","aferir","afetivo","afinador","afivelar","aflito","afluente","afrontar","agachar","agarrar","agasalho","agenciar","agilizar","agiota","agitado","agora","agradar","agreste","agrupar","aguardar","agulha","ajoelhar","ajudar","ajustar","alameda","alarme","alastrar","alavanca","albergue","albino","alcatra","aldeia","alecrim","alegria","alertar","alface","alfinete","algum","alheio","aliar","alicate","alienar","alinhar","aliviar","almofada","alocar","alpiste","alterar","altitude","alucinar","alugar","aluno","alusivo","alvo","amaciar","amador","amarelo","amassar","ambas","ambiente","ameixa","amenizar","amido","amistoso","amizade","amolador","amontoar","amoroso","amostra","amparar","ampliar","ampola","anagrama","analisar","anarquia","anatomia","andaime","anel","anexo","angular","animar","anjo","anomalia","anotado","ansioso","anterior","anuidade","anunciar","anzol","apagador","apalpar","apanhado","apego","apelido","apertada","apesar","apetite","apito","aplauso","aplicada","apoio","apontar","aposta","aprendiz","aprovar","aquecer","arame","aranha","arara","arcada","ardente","areia","arejar","arenito","aresta","argiloso","argola","arma","arquivo","arraial","arrebate","arriscar","arroba","arrumar","arsenal","arterial","artigo","arvoredo","asfaltar","asilado","aspirar","assador","assinar","assoalho","assunto","astral","atacado","atadura","atalho","atarefar","atear","atender","aterro","ateu","atingir","atirador","ativo","atoleiro","atracar","atrevido","atriz","atual","atum","auditor","aumentar","aura","aurora","autismo","autoria","autuar","avaliar","avante","avaria","avental","avesso","aviador","avisar","avulso","axila","azarar","azedo","azeite","azulejo","babar","babosa","bacalhau","bacharel","bacia","bagagem","baiano","bailar","baioneta","bairro","baixista","bajular","baleia","baliza","balsa","banal","bandeira","banho","banir","banquete","barato","barbado","baronesa","barraca","barulho","baseado","bastante","batata","batedor","batida","batom","batucar","baunilha","beber","beijo","beirada","beisebol","beldade","beleza","belga","beliscar","bendito","bengala","benzer","berimbau","berlinda","berro","besouro","bexiga","bezerro","bico","bicudo","bienal","bifocal","bifurcar","bigorna","bilhete","bimestre","bimotor","biologia","biombo","biosfera","bipolar","birrento","biscoito","bisneto","bispo","bissexto","bitola","bizarro","blindado","bloco","bloquear","boato","bobagem","bocado","bocejo","bochecha","boicotar","bolada","boletim","bolha","bolo","bombeiro","bonde","boneco","bonita","borbulha","borda","boreal","borracha","bovino","boxeador","branco","brasa","braveza","breu","briga","brilho","brincar","broa","brochura","bronzear","broto","bruxo","bucha","budismo","bufar","bule","buraco","busca","busto","buzina","cabana","cabelo","cabide","cabo","cabrito","cacau","cacetada","cachorro","cacique","cadastro","cadeado","cafezal","caiaque","caipira","caixote","cajado","caju","calafrio","calcular","caldeira","calibrar","calmante","calota","camada","cambista","camisa","camomila","campanha","camuflar","canavial","cancelar","caneta","canguru","canhoto","canivete","canoa","cansado","cantar","canudo","capacho","capela","capinar","capotar","capricho","captador","capuz","caracol","carbono","cardeal","careca","carimbar","carneiro","carpete","carreira","cartaz","carvalho","casaco","casca","casebre","castelo","casulo","catarata","cativar","caule","causador","cautelar","cavalo","caverna","cebola","cedilha","cegonha","celebrar","celular","cenoura","censo","centeio","cercar","cerrado","certeiro","cerveja","cetim","cevada","chacota","chaleira","chamado","chapada","charme","chatice","chave","chefe","chegada","cheiro","cheque","chicote","chifre","chinelo","chocalho","chover","chumbo","chutar","chuva","cicatriz","ciclone","cidade","cidreira","ciente","cigana","cimento","cinto","cinza","ciranda","circuito","cirurgia","citar","clareza","clero","clicar","clone","clube","coado","coagir","cobaia","cobertor","cobrar","cocada","coelho","coentro","coeso","cogumelo","coibir","coifa","coiote","colar","coleira","colher","colidir","colmeia","colono","coluna","comando","combinar","comentar","comitiva","comover","complexo","comum","concha","condor","conectar","confuso","congelar","conhecer","conjugar","consumir","contrato","convite","cooperar","copeiro","copiador","copo","coquetel","coragem","cordial","corneta","coronha","corporal","correio","cortejo","coruja","corvo","cosseno","costela","cotonete","couro","couve","covil","cozinha","cratera","cravo","creche","credor","creme","crer","crespo","criada","criminal","crioulo","crise","criticar","crosta","crua","cruzeiro","cubano","cueca","cuidado","cujo","culatra","culminar","culpar","cultura","cumprir","cunhado","cupido","curativo","curral","cursar","curto","cuspir","custear","cutelo","damasco","datar","debater","debitar","deboche","debulhar","decalque","decimal","declive","decote","decretar","dedal","dedicado","deduzir","defesa","defumar","degelo","degrau","degustar","deitado","deixar","delator","delegado","delinear","delonga","demanda","demitir","demolido","dentista","depenado","depilar","depois","depressa","depurar","deriva","derramar","desafio","desbotar","descanso","desenho","desfiado","desgaste","desigual","deslize","desmamar","desova","despesa","destaque","desviar","detalhar","detentor","detonar","detrito","deusa","dever","devido","devotado","dezena","diagrama","dialeto","didata","difuso","digitar","dilatado","diluente","diminuir","dinastia","dinheiro","diocese","direto","discreta","disfarce","disparo","disquete","dissipar","distante","ditador","diurno","diverso","divisor","divulgar","dizer","dobrador","dolorido","domador","dominado","donativo","donzela","dormente","dorsal","dosagem","dourado","doutor","drenagem","drible","drogaria","duelar","duende","dueto","duplo","duquesa","durante","duvidoso","eclodir","ecoar","ecologia","edificar","edital","educado","efeito","efetivar","ejetar","elaborar","eleger","eleitor","elenco","elevador","eliminar","elogiar","embargo","embolado","embrulho","embutido","emenda","emergir","emissor","empatia","empenho","empinado","empolgar","emprego","empurrar","emulador","encaixe","encenado","enchente","encontro","endeusar","endossar","enfaixar","enfeite","enfim","engajado","engenho","englobar","engomado","engraxar","enguia","enjoar","enlatar","enquanto","enraizar","enrolado","enrugar","ensaio","enseada","ensino","ensopado","entanto","enteado","entidade","entortar","entrada","entulho","envergar","enviado","envolver","enxame","enxerto","enxofre","enxuto","epiderme","equipar","ereto","erguido","errata","erva","ervilha","esbanjar","esbelto","escama","escola","escrita","escuta","esfinge","esfolar","esfregar","esfumado","esgrima","esmalte","espanto","espelho","espiga","esponja","espreita","espumar","esquerda","estaca","esteira","esticar","estofado","estrela","estudo","esvaziar","etanol","etiqueta","euforia","europeu","evacuar","evaporar","evasivo","eventual","evidente","evoluir","exagero","exalar","examinar","exato","exausto","excesso","excitar","exclamar","executar","exemplo","exibir","exigente","exonerar","expandir","expelir","expirar","explanar","exposto","expresso","expulsar","externo","extinto","extrato","fabricar","fabuloso","faceta","facial","fada","fadiga","faixa","falar","falta","familiar","fandango","fanfarra","fantoche","fardado","farelo","farinha","farofa","farpa","fartura","fatia","fator","favorita","faxina","fazenda","fechado","feijoada","feirante","felino","feminino","fenda","feno","fera","feriado","ferrugem","ferver","festejar","fetal","feudal","fiapo","fibrose","ficar","ficheiro","figurado","fileira","filho","filme","filtrar","firmeza","fisgada","fissura","fita","fivela","fixador","fixo","flacidez","flamingo","flanela","flechada","flora","flutuar","fluxo","focal","focinho","fofocar","fogo","foguete","foice","folgado","folheto","forjar","formiga","forno","forte","fosco","fossa","fragata","fralda","frango","frasco","fraterno","freira","frente","fretar","frieza","friso","fritura","fronha","frustrar","fruteira","fugir","fulano","fuligem","fundar","fungo","funil","furador","furioso","futebol","gabarito","gabinete","gado","gaiato","gaiola","gaivota","galega","galho","galinha","galocha","ganhar","garagem","garfo","gargalo","garimpo","garoupa","garrafa","gasoduto","gasto","gata","gatilho","gaveta","gazela","gelado","geleia","gelo","gemada","gemer","gemido","generoso","gengiva","genial","genoma","genro","geologia","gerador","germinar","gesso","gestor","ginasta","gincana","gingado","girafa","girino","glacial","glicose","global","glorioso","goela","goiaba","golfe","golpear","gordura","gorjeta","gorro","gostoso","goteira","governar","gracejo","gradual","grafite","gralha","grampo","granada","gratuito","graveto","graxa","grego","grelhar","greve","grilo","grisalho","gritaria","grosso","grotesco","grudado","grunhido","gruta","guache","guarani","guaxinim","guerrear","guiar","guincho","guisado","gula","guloso","guru","habitar","harmonia","haste","haver","hectare","herdar","heresia","hesitar","hiato","hibernar","hidratar","hiena","hino","hipismo","hipnose","hipoteca","hoje","holofote","homem","honesto","honrado","hormonal","hospedar","humorado","iate","ideia","idoso","ignorado","igreja","iguana","ileso","ilha","iludido","iluminar","ilustrar","imagem","imediato","imenso","imersivo","iminente","imitador","imortal","impacto","impedir","implante","impor","imprensa","impune","imunizar","inalador","inapto","inativo","incenso","inchar","incidir","incluir","incolor","indeciso","indireto","indutor","ineficaz","inerente","infantil","infestar","infinito","inflamar","informal","infrator","ingerir","inibido","inicial","inimigo","injetar","inocente","inodoro","inovador","inox","inquieto","inscrito","inseto","insistir","inspetor","instalar","insulto","intacto","integral","intimar","intocado","intriga","invasor","inverno","invicto","invocar","iogurte","iraniano","ironizar","irreal","irritado","isca","isento","isolado","isqueiro","italiano","janeiro","jangada","janta","jararaca","jardim","jarro","jasmim","jato","javali","jazida","jejum","joaninha","joelhada","jogador","joia","jornal","jorrar","jovem","juba","judeu","judoca","juiz","julgador","julho","jurado","jurista","juro","justa","labareda","laboral","lacre","lactante","ladrilho","lagarta","lagoa","laje","lamber","lamentar","laminar","lampejo","lanche","lapidar","lapso","laranja","lareira","largura","lasanha","lastro","lateral","latido","lavanda","lavoura","lavrador","laxante","lazer","lealdade","lebre","legado","legendar","legista","leigo","leiloar","leitura","lembrete","leme","lenhador","lentilha","leoa","lesma","leste","letivo","letreiro","levar","leveza","levitar","liberal","libido","liderar","ligar","ligeiro","limitar","limoeiro","limpador","linda","linear","linhagem","liquidez","listagem","lisura","litoral","livro","lixa","lixeira","locador","locutor","lojista","lombo","lona","longe","lontra","lorde","lotado","loteria","loucura","lousa","louvar","luar","lucidez","lucro","luneta","lustre","lutador","luva","macaco","macete","machado","macio","madeira","madrinha","magnata","magreza","maior","mais","malandro","malha","malote","maluco","mamilo","mamoeiro","mamute","manada","mancha","mandato","manequim","manhoso","manivela","manobrar","mansa","manter","manusear","mapeado","maquinar","marcador","maresia","marfim","margem","marinho","marmita","maroto","marquise","marreco","martelo","marujo","mascote","masmorra","massagem","mastigar","matagal","materno","matinal","matutar","maxilar","medalha","medida","medusa","megafone","meiga","melancia","melhor","membro","memorial","menino","menos","mensagem","mental","merecer","mergulho","mesada","mesclar","mesmo","mesquita","mestre","metade","meteoro","metragem","mexer","mexicano","micro","migalha","migrar","milagre","milenar","milhar","mimado","minerar","minhoca","ministro","minoria","miolo","mirante","mirtilo","misturar","mocidade","moderno","modular","moeda","moer","moinho","moita","moldura","moleza","molho","molinete","molusco","montanha","moqueca","morango","morcego","mordomo","morena","mosaico","mosquete","mostarda","motel","motim","moto","motriz","muda","muito","mulata","mulher","multar","mundial","munido","muralha","murcho","muscular","museu","musical","nacional","nadador","naja","namoro","narina","narrado","nascer","nativa","natureza","navalha","navegar","navio","neblina","nebuloso","negativa","negociar","negrito","nervoso","neta","neural","nevasca","nevoeiro","ninar","ninho","nitidez","nivelar","nobreza","noite","noiva","nomear","nominal","nordeste","nortear","notar","noticiar","noturno","novelo","novilho","novo","nublado","nudez","numeral","nupcial","nutrir","nuvem","obcecado","obedecer","objetivo","obrigado","obscuro","obstetra","obter","obturar","ocidente","ocioso","ocorrer","oculista","ocupado","ofegante","ofensiva","oferenda","oficina","ofuscado","ogiva","olaria","oleoso","olhar","oliveira","ombro","omelete","omisso","omitir","ondulado","oneroso","ontem","opcional","operador","oponente","oportuno","oposto","orar","orbitar","ordem","ordinal","orfanato","orgasmo","orgulho","oriental","origem","oriundo","orla","ortodoxo","orvalho","oscilar","ossada","osso","ostentar","otimismo","ousadia","outono","outubro","ouvido","ovelha","ovular","oxidar","oxigenar","pacato","paciente","pacote","pactuar","padaria","padrinho","pagar","pagode","painel","pairar","paisagem","palavra","palestra","palheta","palito","palmada","palpitar","pancada","panela","panfleto","panqueca","pantanal","papagaio","papelada","papiro","parafina","parcial","pardal","parede","partida","pasmo","passado","pastel","patamar","patente","patinar","patrono","paulada","pausar","peculiar","pedalar","pedestre","pediatra","pedra","pegada","peitoral","peixe","pele","pelicano","penca","pendurar","peneira","penhasco","pensador","pente","perceber","perfeito","pergunta","perito","permitir","perna","perplexo","persiana","pertence","peruca","pescado","pesquisa","pessoa","petiscar","piada","picado","piedade","pigmento","pilastra","pilhado","pilotar","pimenta","pincel","pinguim","pinha","pinote","pintar","pioneiro","pipoca","piquete","piranha","pires","pirueta","piscar","pistola","pitanga","pivete","planta","plaqueta","platina","plebeu","plumagem","pluvial","pneu","poda","poeira","poetisa","polegada","policiar","poluente","polvilho","pomar","pomba","ponderar","pontaria","populoso","porta","possuir","postal","pote","poupar","pouso","povoar","praia","prancha","prato","praxe","prece","predador","prefeito","premiar","prensar","preparar","presilha","pretexto","prevenir","prezar","primata","princesa","prisma","privado","processo","produto","profeta","proibido","projeto","prometer","propagar","prosa","protetor","provador","publicar","pudim","pular","pulmonar","pulseira","punhal","punir","pupilo","pureza","puxador","quadra","quantia","quarto","quase","quebrar","queda","queijo","quente","querido","quimono","quina","quiosque","rabanada","rabisco","rachar","racionar","radial","raiar","rainha","raio","raiva","rajada","ralado","ramal","ranger","ranhura","rapadura","rapel","rapidez","raposa","raquete","raridade","rasante","rascunho","rasgar","raspador","rasteira","rasurar","ratazana","ratoeira","realeza","reanimar","reaver","rebaixar","rebelde","rebolar","recado","recente","recheio","recibo","recordar","recrutar","recuar","rede","redimir","redonda","reduzida","reenvio","refinar","refletir","refogar","refresco","refugiar","regalia","regime","regra","reinado","reitor","rejeitar","relativo","remador","remendo","remorso","renovado","reparo","repelir","repleto","repolho","represa","repudiar","requerer","resenha","resfriar","resgatar","residir","resolver","respeito","ressaca","restante","resumir","retalho","reter","retirar","retomada","retratar","revelar","revisor","revolta","riacho","rica","rigidez","rigoroso","rimar","ringue","risada","risco","risonho","robalo","rochedo","rodada","rodeio","rodovia","roedor","roleta","romano","roncar","rosado","roseira","rosto","rota","roteiro","rotina","rotular","rouco","roupa","roxo","rubro","rugido","rugoso","ruivo","rumo","rupestre","russo","sabor","saciar","sacola","sacudir","sadio","safira","saga","sagrada","saibro","salada","saleiro","salgado","saliva","salpicar","salsicha","saltar","salvador","sambar","samurai","sanar","sanfona","sangue","sanidade","sapato","sarda","sargento","sarjeta","saturar","saudade","saxofone","sazonal","secar","secular","seda","sedento","sediado","sedoso","sedutor","segmento","segredo","segundo","seiva","seleto","selvagem","semanal","semente","senador","senhor","sensual","sentado","separado","sereia","seringa","serra","servo","setembro","setor","sigilo","silhueta","silicone","simetria","simpatia","simular","sinal","sincero","singular","sinopse","sintonia","sirene","siri","situado","soberano","sobra","socorro","sogro","soja","solda","soletrar","solteiro","sombrio","sonata","sondar","sonegar","sonhador","sono","soprano","soquete","sorrir","sorteio","sossego","sotaque","soterrar","sovado","sozinho","suavizar","subida","submerso","subsolo","subtrair","sucata","sucesso","suco","sudeste","sufixo","sugador","sugerir","sujeito","sulfato","sumir","suor","superior","suplicar","suposto","suprimir","surdina","surfista","surpresa","surreal","surtir","suspiro","sustento","tabela","tablete","tabuada","tacho","tagarela","talher","talo","talvez","tamanho","tamborim","tampa","tangente","tanto","tapar","tapioca","tardio","tarefa","tarja","tarraxa","tatuagem","taurino","taxativo","taxista","teatral","tecer","tecido","teclado","tedioso","teia","teimar","telefone","telhado","tempero","tenente","tensor","tentar","termal","terno","terreno","tese","tesoura","testado","teto","textura","texugo","tiara","tigela","tijolo","timbrar","timidez","tingido","tinteiro","tiragem","titular","toalha","tocha","tolerar","tolice","tomada","tomilho","tonel","tontura","topete","tora","torcido","torneio","torque","torrada","torto","tostar","touca","toupeira","toxina","trabalho","tracejar","tradutor","trafegar","trajeto","trama","trancar","trapo","traseiro","tratador","travar","treino","tremer","trepidar","trevo","triagem","tribo","triciclo","tridente","trilogia","trindade","triplo","triturar","triunfal","trocar","trombeta","trova","trunfo","truque","tubular","tucano","tudo","tulipa","tupi","turbo","turma","turquesa","tutelar","tutorial","uivar","umbigo","unha","unidade","uniforme","urologia","urso","urtiga","urubu","usado","usina","usufruir","vacina","vadiar","vagaroso","vaidoso","vala","valente","validade","valores","vantagem","vaqueiro","varanda","vareta","varrer","vascular","vasilha","vassoura","vazar","vazio","veado","vedar","vegetar","veicular","veleiro","velhice","veludo","vencedor","vendaval","venerar","ventre","verbal","verdade","vereador","vergonha","vermelho","verniz","versar","vertente","vespa","vestido","vetorial","viaduto","viagem","viajar","viatura","vibrador","videira","vidraria","viela","viga","vigente","vigiar","vigorar","vilarejo","vinco","vinheta","vinil","violeta","virada","virtude","visitar","visto","vitral","viveiro","vizinho","voador","voar","vogal","volante","voleibol","voltagem","volumoso","vontade","vulto","vuvuzela","xadrez","xarope","xeque","xeretar","xerife","xingar","zangado","zarpar","zebu","zelador","zombar","zoologia","zumbido"],require$$9=["abandon","ability","able","about","above","absent","absorb","abstract","absurd","abuse","access","accident","account","accuse","achieve","acid","acoustic","acquire","across","act","action","actor","actress","actual","adapt","add","addict","address","adjust","admit","adult","advance","advice","aerobic","affair","afford","afraid","again","age","agent","agree","ahead","aim","air","airport","aisle","alarm","album","alcohol","alert","alien","all","alley","allow","almost","alone","alpha","already","also","alter","always","amateur","amazing","among","amount","amused","analyst","anchor","ancient","anger","angle","angry","animal","ankle","announce","annual","another","answer","antenna","antique","anxiety","any","apart","apology","appear","apple","approve","april","arch","arctic","area","arena","argue","arm","armed","armor","army","around","arrange","arrest","arrive","arrow","art","artefact","artist","artwork","ask","aspect","assault","asset","assist","assume","asthma","athlete","atom","attack","attend","attitude","attract","auction","audit","august","aunt","author","auto","autumn","average","avocado","avoid","awake","aware","away","awesome","awful","awkward","axis","baby","bachelor","bacon","badge","bag","balance","balcony","ball","bamboo","banana","banner","bar","barely","bargain","barrel","base","basic","basket","battle","beach","bean","beauty","because","become","beef","before","begin","behave","behind","believe","below","belt","bench","benefit","best","betray","better","between","beyond","bicycle","bid","bike","bind","biology","bird","birth","bitter","black","blade","blame","blanket","blast","bleak","bless","blind","blood","blossom","blouse","blue","blur","blush","board","boat","body","boil","bomb","bone","bonus","book","boost","border","boring","borrow","boss","bottom","bounce","box","boy","bracket","brain","brand","brass","brave","bread","breeze","brick","bridge","brief","bright","bring","brisk","broccoli","broken","bronze","broom","brother","brown","brush","bubble","buddy","budget","buffalo","build","bulb","bulk","bullet","bundle","bunker","burden","burger","burst","bus","business","busy","butter","buyer","buzz","cabbage","cabin","cable","cactus","cage","cake","call","calm","camera","camp","can","canal","cancel","candy","cannon","canoe","canvas","canyon","capable","capital","captain","car","carbon","card","cargo","carpet","carry","cart","case","cash","casino","castle","casual","cat","catalog","catch","category","cattle","caught","cause","caution","cave","ceiling","celery","cement","census","century","cereal","certain","chair","chalk","champion","change","chaos","chapter","charge","chase","chat","cheap","check","cheese","chef","cherry","chest","chicken","chief","child","chimney","choice","choose","chronic","chuckle","chunk","churn","cigar","cinnamon","circle","citizen","city","civil","claim","clap","clarify","claw","clay","clean","clerk","clever","click","client","cliff","climb","clinic","clip","clock","clog","close","cloth","cloud","clown","club","clump","cluster","clutch","coach","coast","coconut","code","coffee","coil","coin","collect","color","column","combine","come","comfort","comic","common","company","concert","conduct","confirm","congress","connect","consider","control","convince","cook","cool","copper","copy","coral","core","corn","correct","cost","cotton","couch","country","couple","course","cousin","cover","coyote","crack","cradle","craft","cram","crane","crash","crater","crawl","crazy","cream","credit","creek","crew","cricket","crime","crisp","critic","crop","cross","crouch","crowd","crucial","cruel","cruise","crumble","crunch","crush","cry","crystal","cube","culture","cup","cupboard","curious","current","curtain","curve","cushion","custom","cute","cycle","dad","damage","damp","dance","danger","daring","dash","daughter","dawn","day","deal","debate","debris","decade","december","decide","decline","decorate","decrease","deer","defense","define","defy","degree","delay","deliver","demand","demise","denial","dentist","deny","depart","depend","deposit","depth","deputy","derive","describe","desert","design","desk","despair","destroy","detail","detect","develop","device","devote","diagram","dial","diamond","diary","dice","diesel","diet","differ","digital","dignity","dilemma","dinner","dinosaur","direct","dirt","disagree","discover","disease","dish","dismiss","disorder","display","distance","divert","divide","divorce","dizzy","doctor","document","dog","doll","dolphin","domain","donate","donkey","donor","door","dose","double","dove","draft","dragon","drama","drastic","draw","dream","dress","drift","drill","drink","drip","drive","drop","drum","dry","duck","dumb","dune","during","dust","dutch","duty","dwarf","dynamic","eager","eagle","early","earn","earth","easily","east","easy","echo","ecology","economy","edge","edit","educate","effort","egg","eight","either","elbow","elder","electric","elegant","element","elephant","elevator","elite","else","embark","embody","embrace","emerge","emotion","employ","empower","empty","enable","enact","end","endless","endorse","enemy","energy","enforce","engage","engine","enhance","enjoy","enlist","enough","enrich","enroll","ensure","enter","entire","entry","envelope","episode","equal","equip","era","erase","erode","erosion","error","erupt","escape","essay","essence","estate","eternal","ethics","evidence","evil","evoke","evolve","exact","example","excess","exchange","excite","exclude","excuse","execute","exercise","exhaust","exhibit","exile","exist","exit","exotic","expand","expect","expire","explain","expose","express","extend","extra","eye","eyebrow","fabric","face","faculty","fade","faint","faith","fall","false","fame","family","famous","fan","fancy","fantasy","farm","fashion","fat","fatal","father","fatigue","fault","favorite","feature","february","federal","fee","feed","feel","female","fence","festival","fetch","fever","few","fiber","fiction","field","figure","file","film","filter","final","find","fine","finger","finish","fire","firm","first","fiscal","fish","fit","fitness","fix","flag","flame","flash","flat","flavor","flee","flight","flip","float","flock","floor","flower","fluid","flush","fly","foam","focus","fog","foil","fold","follow","food","foot","force","forest","forget","fork","fortune","forum","forward","fossil","foster","found","fox","fragile","frame","frequent","fresh","friend","fringe","frog","front","frost","frown","frozen","fruit","fuel","fun","funny","furnace","fury","future","gadget","gain","galaxy","gallery","game","gap","garage","garbage","garden","garlic","garment","gas","gasp","gate","gather","gauge","gaze","general","genius","genre","gentle","genuine","gesture","ghost","giant","gift","giggle","ginger","giraffe","girl","give","glad","glance","glare","glass","glide","glimpse","globe","gloom","glory","glove","glow","glue","goat","goddess","gold","good","goose","gorilla","gospel","gossip","govern","gown","grab","grace","grain","grant","grape","grass","gravity","great","green","grid","grief","grit","grocery","group","grow","grunt","guard","guess","guide","guilt","guitar","gun","gym","habit","hair","half","hammer","hamster","hand","happy","harbor","hard","harsh","harvest","hat","have","hawk","hazard","head","health","heart","heavy","hedgehog","height","hello","helmet","help","hen","hero","hidden","high","hill","hint","hip","hire","history","hobby","hockey","hold","hole","holiday","hollow","home","honey","hood","hope","horn","horror","horse","hospital","host","hotel","hour","hover","hub","huge","human","humble","humor","hundred","hungry","hunt","hurdle","hurry","hurt","husband","hybrid","ice","icon","idea","identify","idle","ignore","ill","illegal","illness","image","imitate","immense","immune","impact","impose","improve","impulse","inch","include","income","increase","index","indicate","indoor","industry","infant","inflict","inform","inhale","inherit","initial","inject","injury","inmate","inner","innocent","input","inquiry","insane","insect","inside","inspire","install","intact","interest","into","invest","invite","involve","iron","island","isolate","issue","item","ivory","jacket","jaguar","jar","jazz","jealous","jeans","jelly","jewel","job","join","joke","journey","joy","judge","juice","jump","jungle","junior","junk","just","kangaroo","keen","keep","ketchup","key","kick","kid","kidney","kind","kingdom","kiss","kit","kitchen","kite","kitten","kiwi","knee","knife","knock","know","lab","label","labor","ladder","lady","lake","lamp","language","laptop","large","later","latin","laugh","laundry","lava","law","lawn","lawsuit","layer","lazy","leader","leaf","learn","leave","lecture","left","leg","legal","legend","leisure","lemon","lend","length","lens","leopard","lesson","letter","level","liar","liberty","library","license","life","lift","light","like","limb","limit","link","lion","liquid","list","little","live","lizard","load","loan","lobster","local","lock","logic","lonely","long","loop","lottery","loud","lounge","love","loyal","lucky","luggage","lumber","lunar","lunch","luxury","lyrics","machine","mad","magic","magnet","maid","mail","main","major","make","mammal","man","manage","mandate","mango","mansion","manual","maple","marble","march","margin","marine","market","marriage","mask","mass","master","match","material","math","matrix","matter","maximum","maze","meadow","mean","measure","meat","mechanic","medal","media","melody","melt","member","memory","mention","menu","mercy","merge","merit","merry","mesh","message","metal","method","middle","midnight","milk","million","mimic","mind","minimum","minor","minute","miracle","mirror","misery","miss","mistake","mix","mixed","mixture","mobile","model","modify","mom","moment","monitor","monkey","monster","month","moon","moral","more","morning","mosquito","mother","motion","motor","mountain","mouse","move","movie","much","muffin","mule","multiply","muscle","museum","mushroom","music","must","mutual","myself","mystery","myth","naive","name","napkin","narrow","nasty","nation","nature","near","neck","need","negative","neglect","neither","nephew","nerve","nest","net","network","neutral","never","news","next","nice","night","noble","noise","nominee","noodle","normal","north","nose","notable","note","nothing","notice","novel","now","nuclear","number","nurse","nut","oak","obey","object","oblige","obscure","observe","obtain","obvious","occur","ocean","october","odor","off","offer","office","often","oil","okay","old","olive","olympic","omit","once","one","onion","online","only","open","opera","opinion","oppose","option","orange","orbit","orchard","order","ordinary","organ","orient","original","orphan","ostrich","other","outdoor","outer","output","outside","oval","oven","over","own","owner","oxygen","oyster","ozone","pact","paddle","page","pair","palace","palm","panda","panel","panic","panther","paper","parade","parent","park","parrot","party","pass","patch","path","patient","patrol","pattern","pause","pave","payment","peace","peanut","pear","peasant","pelican","pen","penalty","pencil","people","pepper","perfect","permit","person","pet","phone","photo","phrase","physical","piano","picnic","picture","piece","pig","pigeon","pill","pilot","pink","pioneer","pipe","pistol","pitch","pizza","place","planet","plastic","plate","play","please","pledge","pluck","plug","plunge","poem","poet","point","polar","pole","police","pond","pony","pool","popular","portion","position","possible","post","potato","pottery","poverty","powder","power","practice","praise","predict","prefer","prepare","present","pretty","prevent","price","pride","primary","print","priority","prison","private","prize","problem","process","produce","profit","program","project","promote","proof","property","prosper","protect","proud","provide","public","pudding","pull","pulp","pulse","pumpkin","punch","pupil","puppy","purchase","purity","purpose","purse","push","put","puzzle","pyramid","quality","quantum","quarter","question","quick","quit","quiz","quote","rabbit","raccoon","race","rack","radar","radio","rail","rain","raise","rally","ramp","ranch","random","range","rapid","rare","rate","rather","raven","raw","razor","ready","real","reason","rebel","rebuild","recall","receive","recipe","record","recycle","reduce","reflect","reform","refuse","region","regret","regular","reject","relax","release","relief","rely","remain","remember","remind","remove","render","renew","rent","reopen","repair","repeat","replace","report","require","rescue","resemble","resist","resource","response","result","retire","retreat","return","reunion","reveal","review","reward","rhythm","rib","ribbon","rice","rich","ride","ridge","rifle","right","rigid","ring","riot","ripple","risk","ritual","rival","river","road","roast","robot","robust","rocket","romance","roof","rookie","room","rose","rotate","rough","round","route","royal","rubber","rude","rug","rule","run","runway","rural","sad","saddle","sadness","safe","sail","salad","salmon","salon","salt","salute","same","sample","sand","satisfy","satoshi","sauce","sausage","save","say","scale","scan","scare","scatter","scene","scheme","school","science","scissors","scorpion","scout","scrap","screen","script","scrub","sea","search","season","seat","second","secret","section","security","seed","seek","segment","select","sell","seminar","senior","sense","sentence","series","service","session","settle","setup","seven","shadow","shaft","shallow","share","shed","shell","sheriff","shield","shift","shine","ship","shiver","shock","shoe","shoot","shop","short","shoulder","shove","shrimp","shrug","shuffle","shy","sibling","sick","side","siege","sight","sign","silent","silk","silly","silver","similar","simple","since","sing","siren","sister","situate","six","size","skate","sketch","ski","skill","skin","skirt","skull","slab","slam","sleep","slender","slice","slide","slight","slim","slogan","slot","slow","slush","small","smart","smile","smoke","smooth","snack","snake","snap","sniff","snow","soap","soccer","social","sock","soda","soft","solar","soldier","solid","solution","solve","someone","song","soon","sorry","sort","soul","sound","soup","source","south","space","spare","spatial","spawn","speak","special","speed","spell","spend","sphere","spice","spider","spike","spin","spirit","split","spoil","sponsor","spoon","sport","spot","spray","spread","spring","spy","square","squeeze","squirrel","stable","stadium","staff","stage","stairs","stamp","stand","start","state","stay","steak","steel","stem","step","stereo","stick","still","sting","stock","stomach","stone","stool","story","stove","strategy","street","strike","strong","struggle","student","stuff","stumble","style","subject","submit","subway","success","such","sudden","suffer","sugar","suggest","suit","summer","sun","sunny","sunset","super","supply","supreme","sure","surface","surge","surprise","surround","survey","suspect","sustain","swallow","swamp","swap","swarm","swear","sweet","swift","swim","swing","switch","sword","symbol","symptom","syrup","system","table","tackle","tag","tail","talent","talk","tank","tape","target","task","taste","tattoo","taxi","teach","team","tell","ten","tenant","tennis","tent","term","test","text","thank","that","theme","then","theory","there","they","thing","this","thought","three","thrive","throw","thumb","thunder","ticket","tide","tiger","tilt","timber","time","tiny","tip","tired","tissue","title","toast","tobacco","today","toddler","toe","together","toilet","token","tomato","tomorrow","tone","tongue","tonight","tool","tooth","top","topic","topple","torch","tornado","tortoise","toss","total","tourist","toward","tower","town","toy","track","trade","traffic","tragic","train","transfer","trap","trash","travel","tray","treat","tree","trend","trial","tribe","trick","trigger","trim","trip","trophy","trouble","truck","true","truly","trumpet","trust","truth","try","tube","tuition","tumble","tuna","tunnel","turkey","turn","turtle","twelve","twenty","twice","twin","twist","two","type","typical","ugly","umbrella","unable","unaware","uncle","uncover","under","undo","unfair","unfold","unhappy","uniform","unique","unit","universe","unknown","unlock","until","unusual","unveil","update","upgrade","uphold","upon","upper","upset","urban","urge","usage","use","used","useful","useless","usual","utility","vacant","vacuum","vague","valid","valley","valve","van","vanish","vapor","various","vast","vault","vehicle","velvet","vendor","venture","venue","verb","verify","version","very","vessel","veteran","viable","vibrant","vicious","victory","video","view","village","vintage","violin","virtual","virus","visa","visit","visual","vital","vivid","vocal","voice","void","volcano","volume","vote","voyage","wage","wagon","wait","walk","wall","walnut","want","warfare","warm","warrior","wash","wasp","waste","water","wave","way","wealth","weapon","wear","weasel","weather","web","wedding","weekend","weird","welcome","west","wet","whale","what","wheat","wheel","when","where","whip","whisper","wide","width","wife","wild","will","win","window","wine","wing","wink","winner","winter","wire","wisdom","wise","wish","witness","wolf","woman","wonder","wood","wool","word","work","world","worry","worth","wrap","wreck","wrestle","wrist","write","wrong","yard","year","yellow","you","young","youth","zebra","zero","zone","zoo"];Object.defineProperty(_wordlists,"__esModule",{value:!0});const wordlists$1={};_wordlists.wordlists=wordlists$1;let _default$4;var _default_1=_wordlists._default=_default$4;try{_default_1=_wordlists._default=_default$4=require$$0,wordlists$1.czech=_default$4}catch(a){}try{_default_1=_wordlists._default=_default$4=require$$1,wordlists$1.chinese_simplified=_default$4}catch(a){}try{_default_1=_wordlists._default=_default$4=require$$2$1,wordlists$1.chinese_traditional=_default$4}catch(a){}try{_default_1=_wordlists._default=_default$4=require$$3,wordlists$1.korean=_default$4}catch(a){}try{_default_1=_wordlists._default=_default$4=require$$4,wordlists$1.french=_default$4}catch(a){}try{_default_1=_wordlists._default=_default$4=require$$5,wordlists$1.italian=_default$4}catch(a){}try{_default_1=_wordlists._default=_default$4=require$$6,wordlists$1.spanish=_default$4}catch(a){}try{_default_1=_wordlists._default=_default$4=require$$7,wordlists$1.japanese=_default$4,wordlists$1.JA=_default$4}catch(a){}try{_default_1=_wordlists._default=_default$4=require$$8,wordlists$1.portuguese=_default$4}catch(a){}try{_default_1=_wordlists._default=_default$4=require$$9,wordlists$1.english=_default$4,wordlists$1.EN=_default$4}catch(a){}Object.defineProperty(src,"__esModule",{value:!0});const sha256_1=sha256$2,sha512_1=sha512$1,pbkdf2_1=pbkdf2$1,utils_1$1=utils$e,_wordlists_1=_wordlists;let DEFAULT_WORDLIST=_wordlists_1._default;const INVALID_MNEMONIC="Invalid mnemonic",INVALID_ENTROPY="Invalid entropy",INVALID_CHECKSUM="Invalid mnemonic checksum",WORDLIST_REQUIRED=`A wordlist is required but a default could not be found.
Please pass a 2048 word array explicitly.`;function normalize(a){return(a||"").normalize("NFKD")}function lpad(a,_,$){for(;a.length<$;)a=_+a;return a}function binaryToByte(a){return parseInt(a,2)}function bytesToBinary(a){return a.map(_=>lpad(_.toString(2),"0",8)).join("")}function deriveChecksumBits(a){const $=a.length*8/32,j=sha256_1.sha256(Uint8Array.from(a));return bytesToBinary(Array.from(j)).slice(0,$)}function salt(a){return"mnemonic"+(a||"")}function mnemonicToSeedSync(a,_){const $=Uint8Array.from(Buffer$g.from(normalize(a),"utf8")),j=Uint8Array.from(Buffer$g.from(salt(normalize(_)),"utf8")),et=pbkdf2_1.pbkdf2(sha512_1.sha512,$,j,{c:2048,dkLen:64});return Buffer$g.from(et)}var mnemonicToSeedSync_1=src.mnemonicToSeedSync=mnemonicToSeedSync;function mnemonicToSeed(a,_){const $=Uint8Array.from(Buffer$g.from(normalize(a),"utf8")),j=Uint8Array.from(Buffer$g.from(salt(normalize(_)),"utf8"));return pbkdf2_1.pbkdf2Async(sha512_1.sha512,$,j,{c:2048,dkLen:64}).then(et=>Buffer$g.from(et))}src.mnemonicToSeed=mnemonicToSeed;function mnemonicToEntropy(a,_){if(_=_||DEFAULT_WORDLIST,!_)throw new Error(WORDLIST_REQUIRED);const $=normalize(a).split(" ");if($.length%3!==0)throw new Error(INVALID_MNEMONIC);const j=$.map(ot=>{const at=_.indexOf(ot);if(at===-1)throw new Error(INVALID_MNEMONIC);return lpad(at.toString(2),"0",11)}).join(""),et=Math.floor(j.length/33)*32,tt=j.slice(0,et),rt=j.slice(et),nt=tt.match(/(.{1,8})/g).map(binaryToByte);if(nt.length<16)throw new Error(INVALID_ENTROPY);if(nt.length>32)throw new Error(INVALID_ENTROPY);if(nt.length%4!==0)throw new Error(INVALID_ENTROPY);const it=Buffer$g.from(nt);if(deriveChecksumBits(it)!==rt)throw new Error(INVALID_CHECKSUM);return it.toString("hex")}src.mnemonicToEntropy=mnemonicToEntropy;function entropyToMnemonic(a,_){if(Buffer$g.isBuffer(a)||(a=Buffer$g.from(a,"hex")),_=_||DEFAULT_WORDLIST,!_)throw new Error(WORDLIST_REQUIRED);if(a.length<16)throw new TypeError(INVALID_ENTROPY);if(a.length>32)throw new TypeError(INVALID_ENTROPY);if(a.length%4!==0)throw new TypeError(INVALID_ENTROPY);const $=bytesToBinary(Array.from(a)),j=deriveChecksumBits(a),rt=($+j).match(/(.{1,11})/g).map(nt=>{const it=binaryToByte(nt);return _[it]});return _[0]==="あいこくしん"?rt.join("　"):rt.join(" ")}src.entropyToMnemonic=entropyToMnemonic;function generateMnemonic(a,_,$){if(a=a||128,a%32!==0)throw new TypeError(INVALID_ENTROPY);return _=_||(j=>Buffer$g.from(utils_1$1.randomBytes(j))),entropyToMnemonic(_(a/8),$)}var generateMnemonic_1=src.generateMnemonic=generateMnemonic;function validateMnemonic(a,_){try{mnemonicToEntropy(a,_)}catch{return!1}return!0}var validateMnemonic_1=src.validateMnemonic=validateMnemonic;function setDefaultWordlist(a){const _=_wordlists_1.wordlists[a];if(_)DEFAULT_WORDLIST=_;else throw new Error('Could not find wordlist for language "'+a+'"')}src.setDefaultWordlist=setDefaultWordlist;function getDefaultWordlist(){if(!DEFAULT_WORDLIST)throw new Error("No Default Wordlist set");return Object.keys(_wordlists_1.wordlists).filter(a=>a==="JA"||a==="EN"?!1:_wordlists_1.wordlists[a].every((_,$)=>_===DEFAULT_WORDLIST[$]))[0]}src.getDefaultWordlist=getDefaultWordlist;var _wordlists_2=_wordlists,wordlists=src.wordlists=_wordlists_2.wordlists,hmac$1={},hash={};Object.defineProperty(hash,"__esModule",{value:!0});function isSerializableHash(a){return typeof a.saveState<"u"&&typeof a.restoreState<"u"&&typeof a.cleanSavedState<"u"}hash.isSerializableHash=isSerializableHash;Object.defineProperty(hmac$1,"__esModule",{value:!0});var hash_1=hash,constant_time_1=constantTime,wipe_1=wipe$1,HMAC=function(){function a(_,$){this._finished=!1,this._inner=new _,this._outer=new _,this.blockSize=this._outer.blockSize,this.digestLength=this._outer.digestLength;var j=new Uint8Array(this.blockSize);$.length>this.blockSize?this._inner.update($).finish(j).clean():j.set($);for(var et=0;et<j.length;et++)j[et]^=54;this._inner.update(j);for(var et=0;et<j.length;et++)j[et]^=106;this._outer.update(j),hash_1.isSerializableHash(this._inner)&&hash_1.isSerializableHash(this._outer)&&(this._innerKeyedState=this._inner.saveState(),this._outerKeyedState=this._outer.saveState()),wipe_1.wipe(j)}return a.prototype.reset=function(){if(!hash_1.isSerializableHash(this._inner)||!hash_1.isSerializableHash(this._outer))throw new Error("hmac: can't reset() because hash doesn't implement restoreState()");return this._inner.restoreState(this._innerKeyedState),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this},a.prototype.clean=function(){hash_1.isSerializableHash(this._inner)&&this._inner.cleanSavedState(this._innerKeyedState),hash_1.isSerializableHash(this._outer)&&this._outer.cleanSavedState(this._outerKeyedState),this._inner.clean(),this._outer.clean()},a.prototype.update=function(_){return this._inner.update(_),this},a.prototype.finish=function(_){return this._finished?(this._outer.finish(_),this):(this._inner.finish(_),this._outer.update(_.subarray(0,this.digestLength)).finish(_),this._finished=!0,this)},a.prototype.digest=function(){var _=new Uint8Array(this.digestLength);return this.finish(_),_},a.prototype.saveState=function(){if(!hash_1.isSerializableHash(this._inner))throw new Error("hmac: can't saveState() because hash doesn't implement it");return this._inner.saveState()},a.prototype.restoreState=function(_){if(!hash_1.isSerializableHash(this._inner)||!hash_1.isSerializableHash(this._outer))throw new Error("hmac: can't restoreState() because hash doesn't implement it");return this._inner.restoreState(_),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this},a.prototype.cleanSavedState=function(_){if(!hash_1.isSerializableHash(this._inner))throw new Error("hmac: can't cleanSavedState() because hash doesn't implement it");this._inner.cleanSavedState(_)},a}(),HMAC_1=hmac$1.HMAC=HMAC;function hmac(a,_,$){var j=new HMAC(a,_);j.update($);var et=j.digest();return j.clean(),et}hmac$1.hmac=hmac;hmac$1.equal=constant_time_1.equal;function __awaiter$1(a,_,$,j){function et(tt){return tt instanceof $?tt:new $(function(rt){rt(tt)})}return new($||($=Promise))(function(tt,rt){function nt(ot){try{st(j.next(ot))}catch(at){rt(at)}}function it(ot){try{st(j.throw(ot))}catch(at){rt(at)}}function st(ot){ot.done?tt(ot.value):et(ot.value).then(nt,it)}st((j=j.apply(a,[])).next())})}typeof SuppressedError=="function"&&SuppressedError;class Tz1{constructor(_,$,j){this.key=_;const et=_.substring(0,$?5:4);if(!isValidPrefix(et))throw new InvalidKeyError(`${invalidDetail(ValidationResult.NO_PREFIX_MATCHED)} expecting either '${Prefix.EDESK}' or '${Prefix.EDSK}'.`);if(this._key=j(b58cdecode(this.key,prefix[et])),this._publicKey=this._key.slice(32),!this._key)throw new InvalidKeyError("unable to decode");this.isInit=this.init()}init(){return __awaiter$1(this,void 0,void 0,function*(){if(this._key.length!==64){const{publicKey:_,secretKey:$}=ed25519.generateKeyPairFromSeed(new Uint8Array(this._key));this._publicKey=_,this._key=$}return!0})}sign(_,$){return __awaiter$1(this,void 0,void 0,function*(){yield this.isInit;const j=ed25519.sign(new Uint8Array(this._key),new Uint8Array($)),et=toBuffer(j),tt=_+buf2hex(et);return{bytes:_,sig:b58cencode(j,prefix.sig),prefixSig:b58cencode(j,prefix.edsig),sbytes:tt}})}publicKey(){return __awaiter$1(this,void 0,void 0,function*(){return yield this.isInit,b58cencode(this._publicKey,prefix.edpk)})}publicKeyHash(){return __awaiter$1(this,void 0,void 0,function*(){return yield this.isInit,b58cencode(blake2b$1.hash(new Uint8Array(this._publicKey),20),prefix.tz1)})}secretKey(){return __awaiter$1(this,void 0,void 0,function*(){yield this.isInit;let _=this._key;const{secretKey:$}=ed25519.generateKeyPairFromSeed(new Uint8Array(_).slice(0,32));return _=toBuffer($),b58cencode(_,prefix.edsk)})}}const pref={p256:{pk:prefix.p2pk,sk:prefix.p2sk,pkh:prefix.tz3,sig:prefix.p2sig},secp256k1:{pk:prefix.sppk,sk:prefix.spsk,pkh:prefix.tz2,sig:prefix.spsig}};class ECKey{constructor(_,$,j,et){this.curve=_,this.key=$;const tt=$.substring(0,j?5:4);if(!isValidPrefix(tt))throw new InvalidKeyError(invalidDetail(ValidationResult.NO_PREFIX_MATCHED)+` expecting one of the following prefix '${Prefix.SPSK}', '${Prefix.SPESK}', '${Prefix.P2SK}' or '${Prefix.P2ESK}'.`);this._key=et(b58cdecode(this.key,prefix[tt]));const rt=new elliptic.ec(this.curve).keyFromPrivate(this._key),nt=rt.getPublic().getY().toArray(),st=(nt.length<32?nt[nt.length-1]:nt[31])%2?3:2,ot=new Array(32).fill(0);this._publicKey=toBuffer(new Uint8Array([st].concat(ot.concat(rt.getPublic().getX().toArray()).slice(-32))))}sign(_,$){return __awaiter$1(this,void 0,void 0,function*(){const et=new elliptic.ec(this.curve).keyFromPrivate(this._key).sign($,{canonical:!0}),tt=et.r.toString("hex",64)+et.s.toString("hex",64),rt=_+tt;return{bytes:_,sig:b58cencode(tt,prefix.sig),prefixSig:b58cencode(tt,pref[this.curve].sig),sbytes:rt}})}publicKey(){return __awaiter$1(this,void 0,void 0,function*(){return b58cencode(this._publicKey,pref[this.curve].pk)})}publicKeyHash(){return __awaiter$1(this,void 0,void 0,function*(){return b58cencode(blake2b$1.hash(new Uint8Array(this._publicKey),20),pref[this.curve].pkh)})}secretKey(){return __awaiter$1(this,void 0,void 0,function*(){const _=this._key;return b58cencode(_,pref[this.curve].sk)})}}const Tz3=ECKey.bind(null,"p256"),Tz2=ECKey.bind(null,"secp256k1");function parseHex(a){const _=[];for(let $=0;$<a.length;$+=2){const j=a.slice($,$+2),et=parseInt(j,16);if(Number.isNaN(et))throw new InvalidHexStringError(j);_.push(et)}return new Uint8Array(_)}class InvalidMnemonicError extends ParameterValidationError{constructor(_){super(),this.mnemonic=_,this.name="InvalidMnemonicError",this.message=`Invalid mnemonic "${_}"`}}class InvalidBitSize extends ParameterValidationError{constructor(_){super(),this.message=_,this.name="InvalidBitSize"}}class InvalidCurveError extends ParameterValidationError{constructor(_){super(),this.message=_,this.name="InvalidCurveError"}}class InvalidSeedLengthError extends ParameterValidationError{constructor(_){super(),this.seedLength=_,this.name="InvalidSeedLengthError",this.message=`Invalid seed length "${_}" expecting length between 16 to 64.`}}class ToBeImplemented extends UnsupportedActionError{constructor(){super(),this.name="ToBeImplemented",this.message="This feature is under developement"}}class InvalidPassphraseError extends ParameterValidationError{constructor(_){super(),this.message=_,this.name="InvalidPassphraseError"}}const seedKey={p256:"Nist256p1 seed",secp256k1:"Bitcoin seed"},minSeedSize$1=16,maxSeedSize$1=64;let PrivateKey$1=class cm{constructor(_,$){this.chainCode=$,this.keyPair=_}static fromSeed(_,$){var j,et;let tt=typeof _=="string"?parseHex(_):_;if(tt.length<minSeedSize$1||tt.length>maxSeedSize$1)throw new InvalidSeedLengthError(tt.length);if(!Object.prototype.hasOwnProperty.call(seedKey,$))throw new InvalidCurveError(`Unsupported curve "${$}" expecting either "p256" or "secp256k1"`);const rt=new elliptic$1.ec($);if(((j=rt.n)===null||j===void 0?void 0:j.bitLength())!==256)throw new InvalidBitSize(`Invalid curve "${$}" with bit size "${(et=rt.n)===null||et===void 0?void 0:et.bitLength()}" expecting bit size "256"`);const nt=new TextEncoder().encode(seedKey[$]);let it=null,st=new Uint8Array,ot=0;for(;ot===0;){const ut=new HMAC_1(sha512$2.SHA512,nt).update(tt).digest();it=new BN$9(ut.subarray(0,32)),st=ut.subarray(32),it.isZero()||it.cmp(rt.n)>=0?tt=ut:ot++}const at=rt.keyPair({});return at.priv=it,new cm(at,st)}derive(_){const $=new Uint8Array(37);_&Hard?$.set(this.keyPair.getPrivate().toArray(),1):$.set(this.keyPair.getPublic().encodeCompressed(),0),new DataView($.buffer).setUint32(33,_);let j=new BN$9(0),et=new Uint8Array,tt=0;for(;tt===0;){const nt=new HMAC_1(sha512$2.SHA512,this.chainCode).update($).digest();j=new BN$9(nt.subarray(0,32)),et=nt.subarray(32),this.keyPair.ec.n&&j.cmp(this.keyPair.ec.n)<0&&(j=j.add(this.keyPair.getPrivate()).mod(this.keyPair.ec.n),j.isZero()||tt++),$.set(et,1),$[0]=1}const rt=this.keyPair.ec.keyPair({});return rt.priv=j,new cm(rt,et)}derivePath(_){let $=this;for(const j of _)$=$.derive(j);return $}bytes(){if(!this.keyPair.priv)throw new InvalidKeyError("missing private key");const _=this.keyPair.priv.toArray(),$=new Uint8Array(32);return $.set(_,$.length-_.length),$}};const Hard=2147483648;class Path extends Array{static from(_){return super.from(_).map($=>$>>>0)}static fromString(_){if(_.length===0)return new Path;let $=_.split("/");const j=[];$[0]==="m"&&($=$.slice(1));for(let et of $){if(et.length===0)throw new InvalidDerivationPathError(_,": Invalid BIP32 path");let tt=0;const rt=et[et.length-1];(rt==="'"||rt==="h"||rt==="H")&&(tt=Hard,et=et.slice(0,et.length-1));const nt=(parseInt(et,10)|tt)>>>0;j.push(nt)}return Path.from(j)}}const minSeedSize=16,maxSeedSize=64,ed25519Key="ed25519 seed";class PrivateKey{constructor(_,$){this.priv=_,this.chainCode=$}static fromSeed(_){const $=typeof _=="string"?parseHex(_):_;if($.length<minSeedSize||$.length>maxSeedSize)throw new InvalidSeedLengthError($.length);const j=new TextEncoder().encode(ed25519Key),et=new HMAC_1(sha512$2.SHA512,j).update($).digest();return new PrivateKey(ed25519.generateKeyPairFromSeed(et.subarray(0,32)).secretKey,et.subarray(32))}seed(){return this.priv.subarray(0,32)}derive(_){if(!(_&Hard))throw new InvalidDerivationPathError(_.toString(),": Non-hardened derivation path.");const $=new Uint8Array(37);$.set(this.seed(),1),new DataView($.buffer).setUint32(33,_);const j=new HMAC_1(sha512$2.SHA512,this.chainCode).update($).digest();return new PrivateKey(ed25519.generateKeyPairFromSeed(j.subarray(0,32)).secretKey,j.subarray(32))}derivePath(_){let $=this;for(const j of _)$=$.derive(j);return $}}const generateSecretKey=(a,_,$)=>{const j=Path.fromString(_);let et;switch($){case"ed25519":return et=PrivateKey.fromSeed(a).derivePath(j),b58cencode(et.seed().slice(0,32),prefix.edsk2);case"secp256k1":case"p256":{const tt=$==="secp256k1"?prefix.spsk:prefix.p2sk;let rt=PrivateKey$1.fromSeed(a,$);rt=rt.derivePath(j);const nt=new Uint8Array(rt.keyPair.getPrivate().toArray());return b58cencode(nt,tt)}case"bip25519":throw new ToBeImplemented;default:throw new InvalidCurveError(`Unsupported curve "${$}" expecting one of the following "ed25519", "secp256k1", "p256"`)}};class InMemorySigner{static fromFundraiser(_,$,j){if(!validateMnemonic_1(j))throw new InvalidMnemonicError(j);const et=mnemonicToSeedSync_1(j,`${_}${$}`),tt=b58cencode(et.slice(0,32),prefix.edsk2);return new InMemorySigner(tt)}static fromSecretKey(_,$){return __awaiter$1(this,void 0,void 0,function*(){return new InMemorySigner(_,$)})}static fromMnemonic({mnemonic:_,password:$="",derivationPath:j="44'/1729'/0'/0'",curve:et="ed25519"}){if(!validateMnemonic_1(_))throw new InvalidMnemonicError(_);const tt=mnemonicToSeedSync_1(_,$),rt=generateSecretKey(tt,j,et);return new InMemorySigner(rt)}constructor(_,$){const j=_.substring(2,3)==="e";let et=tt=>tt;if(j){if(!$)throw new InvalidPassphraseError("No passphrase provided to decrypt encrypted key");et=tt=>{const rt=toBuffer(tt.slice(0,8)),nt=tt.slice(8),it=browser$7.pbkdf2Sync($,rt,32768,32,"sha512");return nacl.openSecretBox(new Uint8Array(it),new Uint8Array(24),new Uint8Array(nt))}}switch(_.substring(0,4)){case"edes":case"edsk":this._key=new Tz1(_,j,et);break;case"spsk":case"spes":this._key=new Tz2(_,j,et);break;case"p2sk":case"p2es":this._key=new Tz3(_,j,et);break;default:throw new InvalidKeyError(`${invalidDetail(ValidationResult.NO_PREFIX_MATCHED)} expecting one of the following '${Prefix.EDESK}', '${Prefix.EDSK}', '${Prefix.SPSK}', '${Prefix.SPESK}', '${Prefix.P2SK}' or '${Prefix.P2ESK}'.`)}}sign(_,$){return __awaiter$1(this,void 0,void 0,function*(){let j=hex2buf(_);typeof $<"u"&&(j=mergebuf($,j));const et=blake2b$1.hash(j,32);return this._key.sign(_,et)})}publicKey(){return __awaiter$1(this,void 0,void 0,function*(){return this._key.publicKey()})}publicKeyHash(){return __awaiter$1(this,void 0,void 0,function*(){return this._key.publicKeyHash()})}secretKey(){return __awaiter$1(this,void 0,void 0,function*(){return this._key.secretKey()})}}function isFunction$1(a){return typeof a=="function"}function createErrorClass(a){var _=function(j){Error.call(j),j.stack=new Error().stack},$=a(_);return $.prototype=Object.create(Error.prototype),$.prototype.constructor=$,$}var UnsubscriptionError=createErrorClass(function(a){return function($){a(this),this.message=$?$.length+` errors occurred during unsubscription:
`+$.map(function(j,et){return et+1+") "+j.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=$}});function arrRemove(a,_){if(a){var $=a.indexOf(_);0<=$&&a.splice($,1)}}var Subscription=function(){function a(_){this.initialTeardown=_,this.closed=!1,this._parentage=null,this._finalizers=null}return a.prototype.unsubscribe=function(){var _,$,j,et,tt;if(!this.closed){this.closed=!0;var rt=this._parentage;if(rt)if(this._parentage=null,Array.isArray(rt))try{for(var nt=__values(rt),it=nt.next();!it.done;it=nt.next()){var st=it.value;st.remove(this)}}catch(wt){_={error:wt}}finally{try{it&&!it.done&&($=nt.return)&&$.call(nt)}finally{if(_)throw _.error}}else rt.remove(this);var ot=this.initialTeardown;if(isFunction$1(ot))try{ot()}catch(wt){tt=wt instanceof UnsubscriptionError?wt.errors:[wt]}var at=this._finalizers;if(at){this._finalizers=null;try{for(var ut=__values(at),ht=ut.next();!ht.done;ht=ut.next()){var yt=ht.value;try{execFinalizer(yt)}catch(wt){tt=tt??[],wt instanceof UnsubscriptionError?tt=__spreadArray(__spreadArray([],__read(tt)),__read(wt.errors)):tt.push(wt)}}}catch(wt){j={error:wt}}finally{try{ht&&!ht.done&&(et=ut.return)&&et.call(ut)}finally{if(j)throw j.error}}}if(tt)throw new UnsubscriptionError(tt)}},a.prototype.add=function(_){var $;if(_&&_!==this)if(this.closed)execFinalizer(_);else{if(_ instanceof a){if(_.closed||_._hasParent(this))return;_._addParent(this)}(this._finalizers=($=this._finalizers)!==null&&$!==void 0?$:[]).push(_)}},a.prototype._hasParent=function(_){var $=this._parentage;return $===_||Array.isArray($)&&$.includes(_)},a.prototype._addParent=function(_){var $=this._parentage;this._parentage=Array.isArray($)?($.push(_),$):$?[$,_]:_},a.prototype._removeParent=function(_){var $=this._parentage;$===_?this._parentage=null:Array.isArray($)&&arrRemove($,_)},a.prototype.remove=function(_){var $=this._finalizers;$&&arrRemove($,_),_ instanceof a&&_._removeParent(this)},a.EMPTY=function(){var _=new a;return _.closed=!0,_}(),a}(),EMPTY_SUBSCRIPTION=Subscription.EMPTY;function isSubscription(a){return a instanceof Subscription||a&&"closed"in a&&isFunction$1(a.remove)&&isFunction$1(a.add)&&isFunction$1(a.unsubscribe)}function execFinalizer(a){isFunction$1(a)?a():a.unsubscribe()}var config$2={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},timeoutProvider={setTimeout:function(a,_){for(var $=[],j=2;j<arguments.length;j++)$[j-2]=arguments[j];return setTimeout.apply(void 0,__spreadArray([a,_],__read($)))},clearTimeout:function(a){var _=timeoutProvider.delegate;return((_==null?void 0:_.clearTimeout)||clearTimeout)(a)},delegate:void 0};function reportUnhandledError(a){timeoutProvider.setTimeout(function(){throw a})}function noop$3(){}function errorContext(a){a()}var Subscriber=function(a){__extends$1(_,a);function _($){var j=a.call(this)||this;return j.isStopped=!1,$?(j.destination=$,isSubscription($)&&$.add(j)):j.destination=EMPTY_OBSERVER,j}return _.create=function($,j,et){return new SafeSubscriber($,j,et)},_.prototype.next=function($){this.isStopped||this._next($)},_.prototype.error=function($){this.isStopped||(this.isStopped=!0,this._error($))},_.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},_.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,a.prototype.unsubscribe.call(this),this.destination=null)},_.prototype._next=function($){this.destination.next($)},_.prototype._error=function($){try{this.destination.error($)}finally{this.unsubscribe()}},_.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},_}(Subscription),_bind=Function.prototype.bind;function bind(a,_){return _bind.call(a,_)}var ConsumerObserver=function(){function a(_){this.partialObserver=_}return a.prototype.next=function(_){var $=this.partialObserver;if($.next)try{$.next(_)}catch(j){handleUnhandledError(j)}},a.prototype.error=function(_){var $=this.partialObserver;if($.error)try{$.error(_)}catch(j){handleUnhandledError(j)}else handleUnhandledError(_)},a.prototype.complete=function(){var _=this.partialObserver;if(_.complete)try{_.complete()}catch($){handleUnhandledError($)}},a}(),SafeSubscriber=function(a){__extends$1(_,a);function _($,j,et){var tt=a.call(this)||this,rt;if(isFunction$1($)||!$)rt={next:$??void 0,error:j??void 0,complete:et??void 0};else{var nt;tt&&config$2.useDeprecatedNextContext?(nt=Object.create($),nt.unsubscribe=function(){return tt.unsubscribe()},rt={next:$.next&&bind($.next,nt),error:$.error&&bind($.error,nt),complete:$.complete&&bind($.complete,nt)}):rt=$}return tt.destination=new ConsumerObserver(rt),tt}return _}(Subscriber);function handleUnhandledError(a){reportUnhandledError(a)}function defaultErrorHandler(a){throw a}var EMPTY_OBSERVER={closed:!0,next:noop$3,error:defaultErrorHandler,complete:noop$3},observable=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function identity(a){return a}function pipeFromArray(a){return a.length===0?identity:a.length===1?a[0]:function($){return a.reduce(function(j,et){return et(j)},$)}}var Observable=function(){function a(_){_&&(this._subscribe=_)}return a.prototype.lift=function(_){var $=new a;return $.source=this,$.operator=_,$},a.prototype.subscribe=function(_,$,j){var et=this,tt=isSubscriber(_)?_:new SafeSubscriber(_,$,j);return errorContext(function(){var rt=et,nt=rt.operator,it=rt.source;tt.add(nt?nt.call(tt,it):it?et._subscribe(tt):et._trySubscribe(tt))}),tt},a.prototype._trySubscribe=function(_){try{return this._subscribe(_)}catch($){_.error($)}},a.prototype.forEach=function(_,$){var j=this;return $=getPromiseCtor($),new $(function(et,tt){var rt=new SafeSubscriber({next:function(nt){try{_(nt)}catch(it){tt(it),rt.unsubscribe()}},error:tt,complete:et});j.subscribe(rt)})},a.prototype._subscribe=function(_){var $;return($=this.source)===null||$===void 0?void 0:$.subscribe(_)},a.prototype[observable]=function(){return this},a.prototype.pipe=function(){for(var _=[],$=0;$<arguments.length;$++)_[$]=arguments[$];return pipeFromArray(_)(this)},a.prototype.toPromise=function(_){var $=this;return _=getPromiseCtor(_),new _(function(j,et){var tt;$.subscribe(function(rt){return tt=rt},function(rt){return et(rt)},function(){return j(tt)})})},a.create=function(_){return new a(_)},a}();function getPromiseCtor(a){var _;return(_=a??config$2.Promise)!==null&&_!==void 0?_:Promise}function isObserver(a){return a&&isFunction$1(a.next)&&isFunction$1(a.error)&&isFunction$1(a.complete)}function isSubscriber(a){return a&&a instanceof Subscriber||isObserver(a)&&isSubscription(a)}function hasLift(a){return isFunction$1(a==null?void 0:a.lift)}function operate(a){return function(_){if(hasLift(_))return _.lift(function($){try{return a($,this)}catch(j){this.error(j)}});throw new TypeError("Unable to lift unknown Observable type")}}function createOperatorSubscriber(a,_,$,j,et){return new OperatorSubscriber(a,_,$,j,et)}var OperatorSubscriber=function(a){__extends$1(_,a);function _($,j,et,tt,rt,nt){var it=a.call(this,$)||this;return it.onFinalize=rt,it.shouldUnsubscribe=nt,it._next=j?function(st){try{j(st)}catch(ot){$.error(ot)}}:a.prototype._next,it._error=tt?function(st){try{tt(st)}catch(ot){$.error(ot)}finally{this.unsubscribe()}}:a.prototype._error,it._complete=et?function(){try{et()}catch(st){$.error(st)}finally{this.unsubscribe()}}:a.prototype._complete,it}return _.prototype.unsubscribe=function(){var $;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var j=this.closed;a.prototype.unsubscribe.call(this),!j&&(($=this.onFinalize)===null||$===void 0||$.call(this))}},_}(Subscriber);function refCount(){return operate(function(a,_){var $=null;a._refCount++;var j=createOperatorSubscriber(_,void 0,void 0,void 0,function(){if(!a||a._refCount<=0||0<--a._refCount){$=null;return}var et=a._connection,tt=$;$=null,et&&(!tt||et===tt)&&et.unsubscribe(),_.unsubscribe()});a.subscribe(j),j.closed||($=a.connect())})}var ConnectableObservable=function(a){__extends$1(_,a);function _($,j){var et=a.call(this)||this;return et.source=$,et.subjectFactory=j,et._subject=null,et._refCount=0,et._connection=null,hasLift($)&&(et.lift=$.lift),et}return _.prototype._subscribe=function($){return this.getSubject().subscribe($)},_.prototype.getSubject=function(){var $=this._subject;return(!$||$.isStopped)&&(this._subject=this.subjectFactory()),this._subject},_.prototype._teardown=function(){this._refCount=0;var $=this._connection;this._subject=this._connection=null,$==null||$.unsubscribe()},_.prototype.connect=function(){var $=this,j=this._connection;if(!j){j=this._connection=new Subscription;var et=this.getSubject();j.add(this.source.subscribe(createOperatorSubscriber(et,void 0,function(){$._teardown(),et.complete()},function(tt){$._teardown(),et.error(tt)},function(){return $._teardown()}))),j.closed&&(this._connection=null,j=Subscription.EMPTY)}return j},_.prototype.refCount=function(){return refCount()(this)},_}(Observable),ObjectUnsubscribedError=createErrorClass(function(a){return function(){a(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),Subject=function(a){__extends$1(_,a);function _(){var $=a.call(this)||this;return $.closed=!1,$.currentObservers=null,$.observers=[],$.isStopped=!1,$.hasError=!1,$.thrownError=null,$}return _.prototype.lift=function($){var j=new AnonymousSubject(this,this);return j.operator=$,j},_.prototype._throwIfClosed=function(){if(this.closed)throw new ObjectUnsubscribedError},_.prototype.next=function($){var j=this;errorContext(function(){var et,tt;if(j._throwIfClosed(),!j.isStopped){j.currentObservers||(j.currentObservers=Array.from(j.observers));try{for(var rt=__values(j.currentObservers),nt=rt.next();!nt.done;nt=rt.next()){var it=nt.value;it.next($)}}catch(st){et={error:st}}finally{try{nt&&!nt.done&&(tt=rt.return)&&tt.call(rt)}finally{if(et)throw et.error}}}})},_.prototype.error=function($){var j=this;errorContext(function(){if(j._throwIfClosed(),!j.isStopped){j.hasError=j.isStopped=!0,j.thrownError=$;for(var et=j.observers;et.length;)et.shift().error($)}})},_.prototype.complete=function(){var $=this;errorContext(function(){if($._throwIfClosed(),!$.isStopped){$.isStopped=!0;for(var j=$.observers;j.length;)j.shift().complete()}})},_.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(_.prototype,"observed",{get:function(){var $;return(($=this.observers)===null||$===void 0?void 0:$.length)>0},enumerable:!1,configurable:!0}),_.prototype._trySubscribe=function($){return this._throwIfClosed(),a.prototype._trySubscribe.call(this,$)},_.prototype._subscribe=function($){return this._throwIfClosed(),this._checkFinalizedStatuses($),this._innerSubscribe($)},_.prototype._innerSubscribe=function($){var j=this,et=this,tt=et.hasError,rt=et.isStopped,nt=et.observers;return tt||rt?EMPTY_SUBSCRIPTION:(this.currentObservers=null,nt.push($),new Subscription(function(){j.currentObservers=null,arrRemove(nt,$)}))},_.prototype._checkFinalizedStatuses=function($){var j=this,et=j.hasError,tt=j.thrownError,rt=j.isStopped;et?$.error(tt):rt&&$.complete()},_.prototype.asObservable=function(){var $=new Observable;return $.source=this,$},_.create=function($,j){return new AnonymousSubject($,j)},_}(Observable),AnonymousSubject=function(a){__extends$1(_,a);function _($,j){var et=a.call(this)||this;return et.destination=$,et.source=j,et}return _.prototype.next=function($){var j,et;(et=(j=this.destination)===null||j===void 0?void 0:j.next)===null||et===void 0||et.call(j,$)},_.prototype.error=function($){var j,et;(et=(j=this.destination)===null||j===void 0?void 0:j.error)===null||et===void 0||et.call(j,$)},_.prototype.complete=function(){var $,j;(j=($=this.destination)===null||$===void 0?void 0:$.complete)===null||j===void 0||j.call($)},_.prototype._subscribe=function($){var j,et;return(et=(j=this.source)===null||j===void 0?void 0:j.subscribe($))!==null&&et!==void 0?et:EMPTY_SUBSCRIPTION},_}(Subject),BehaviorSubject=function(a){__extends$1(_,a);function _($){var j=a.call(this)||this;return j._value=$,j}return Object.defineProperty(_.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),_.prototype._subscribe=function($){var j=a.prototype._subscribe.call(this,$);return!j.closed&&$.next(this._value),j},_.prototype.getValue=function(){var $=this,j=$.hasError,et=$.thrownError,tt=$._value;if(j)throw et;return this._throwIfClosed(),tt},_.prototype.next=function($){a.prototype.next.call(this,this._value=$)},_}(Subject),dateTimestampProvider={now:function(){return(dateTimestampProvider.delegate||Date).now()},delegate:void 0},ReplaySubject=function(a){__extends$1(_,a);function _($,j,et){$===void 0&&($=1/0),j===void 0&&(j=1/0),et===void 0&&(et=dateTimestampProvider);var tt=a.call(this)||this;return tt._bufferSize=$,tt._windowTime=j,tt._timestampProvider=et,tt._buffer=[],tt._infiniteTimeWindow=!0,tt._infiniteTimeWindow=j===1/0,tt._bufferSize=Math.max(1,$),tt._windowTime=Math.max(1,j),tt}return _.prototype.next=function($){var j=this,et=j.isStopped,tt=j._buffer,rt=j._infiniteTimeWindow,nt=j._timestampProvider,it=j._windowTime;et||(tt.push($),!rt&&tt.push(nt.now()+it)),this._trimBuffer(),a.prototype.next.call(this,$)},_.prototype._subscribe=function($){this._throwIfClosed(),this._trimBuffer();for(var j=this._innerSubscribe($),et=this,tt=et._infiniteTimeWindow,rt=et._buffer,nt=rt.slice(),it=0;it<nt.length&&!$.closed;it+=tt?1:2)$.next(nt[it]);return this._checkFinalizedStatuses($),j},_.prototype._trimBuffer=function(){var $=this,j=$._bufferSize,et=$._timestampProvider,tt=$._buffer,rt=$._infiniteTimeWindow,nt=(rt?1:2)*j;if(j<1/0&&nt<tt.length&&tt.splice(0,tt.length-nt),!rt){for(var it=et.now(),st=0,ot=1;ot<tt.length&&tt[ot]<=it;ot+=2)st=ot;st&&tt.splice(0,st+1)}},_}(Subject),Action$1=function(a){__extends$1(_,a);function _($,j){return a.call(this)||this}return _.prototype.schedule=function($,j){return this},_}(Subscription),intervalProvider={setInterval:function(a,_){for(var $=[],j=2;j<arguments.length;j++)$[j-2]=arguments[j];return setInterval.apply(void 0,__spreadArray([a,_],__read($)))},clearInterval:function(a){var _=intervalProvider.delegate;return((_==null?void 0:_.clearInterval)||clearInterval)(a)},delegate:void 0},AsyncAction=function(a){__extends$1(_,a);function _($,j){var et=a.call(this,$,j)||this;return et.scheduler=$,et.work=j,et.pending=!1,et}return _.prototype.schedule=function($,j){var et;if(j===void 0&&(j=0),this.closed)return this;this.state=$;var tt=this.id,rt=this.scheduler;return tt!=null&&(this.id=this.recycleAsyncId(rt,tt,j)),this.pending=!0,this.delay=j,this.id=(et=this.id)!==null&&et!==void 0?et:this.requestAsyncId(rt,this.id,j),this},_.prototype.requestAsyncId=function($,j,et){return et===void 0&&(et=0),intervalProvider.setInterval($.flush.bind($,this),et)},_.prototype.recycleAsyncId=function($,j,et){if(et===void 0&&(et=0),et!=null&&this.delay===et&&this.pending===!1)return j;j!=null&&intervalProvider.clearInterval(j)},_.prototype.execute=function($,j){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var et=this._execute($,j);if(et)return et;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},_.prototype._execute=function($,j){var et=!1,tt;try{this.work($)}catch(rt){et=!0,tt=rt||new Error("Scheduled action threw falsy error")}if(et)return this.unsubscribe(),tt},_.prototype.unsubscribe=function(){if(!this.closed){var $=this,j=$.id,et=$.scheduler,tt=et.actions;this.work=this.state=this.scheduler=null,this.pending=!1,arrRemove(tt,this),j!=null&&(this.id=this.recycleAsyncId(et,j,null)),this.delay=null,a.prototype.unsubscribe.call(this)}},_}(Action$1),Scheduler=function(){function a(_,$){$===void 0&&($=a.now),this.schedulerActionCtor=_,this.now=$}return a.prototype.schedule=function(_,$,j){return $===void 0&&($=0),new this.schedulerActionCtor(this,_).schedule(j,$)},a.now=dateTimestampProvider.now,a}(),AsyncScheduler=function(a){__extends$1(_,a);function _($,j){j===void 0&&(j=Scheduler.now);var et=a.call(this,$,j)||this;return et.actions=[],et._active=!1,et}return _.prototype.flush=function($){var j=this.actions;if(this._active){j.push($);return}var et;this._active=!0;do if(et=$.execute($.state,$.delay))break;while($=j.shift());if(this._active=!1,et){for(;$=j.shift();)$.unsubscribe();throw et}},_}(Scheduler),asyncScheduler=new AsyncScheduler(AsyncAction),async=asyncScheduler,EMPTY=new Observable(function(a){return a.complete()});function isScheduler(a){return a&&isFunction$1(a.schedule)}function last(a){return a[a.length-1]}function popResultSelector(a){return isFunction$1(last(a))?a.pop():void 0}function popScheduler(a){return isScheduler(last(a))?a.pop():void 0}var isArrayLike=function(a){return a&&typeof a.length=="number"&&typeof a!="function"};function isPromise$1(a){return isFunction$1(a==null?void 0:a.then)}function isInteropObservable(a){return isFunction$1(a[observable])}function isAsyncIterable(a){return Symbol.asyncIterator&&isFunction$1(a==null?void 0:a[Symbol.asyncIterator])}function createInvalidObservableTypeError(a){return new TypeError("You provided "+(a!==null&&typeof a=="object"?"an invalid object":"'"+a+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function getSymbolIterator(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var iterator=getSymbolIterator();function isIterable(a){return isFunction$1(a==null?void 0:a[iterator])}function readableStreamLikeToAsyncGenerator(a){return __asyncGenerator(this,arguments,function(){var $,j,et,tt;return __generator(this,function(rt){switch(rt.label){case 0:$=a.getReader(),rt.label=1;case 1:rt.trys.push([1,,9,10]),rt.label=2;case 2:return[4,__await($.read())];case 3:return j=rt.sent(),et=j.value,tt=j.done,tt?[4,__await(void 0)]:[3,5];case 4:return[2,rt.sent()];case 5:return[4,__await(et)];case 6:return[4,rt.sent()];case 7:return rt.sent(),[3,2];case 8:return[3,10];case 9:return $.releaseLock(),[7];case 10:return[2]}})})}function isReadableStreamLike(a){return isFunction$1(a==null?void 0:a.getReader)}function innerFrom(a){if(a instanceof Observable)return a;if(a!=null){if(isInteropObservable(a))return fromInteropObservable(a);if(isArrayLike(a))return fromArrayLike(a);if(isPromise$1(a))return fromPromise(a);if(isAsyncIterable(a))return fromAsyncIterable(a);if(isIterable(a))return fromIterable(a);if(isReadableStreamLike(a))return fromReadableStreamLike(a)}throw createInvalidObservableTypeError(a)}function fromInteropObservable(a){return new Observable(function(_){var $=a[observable]();if(isFunction$1($.subscribe))return $.subscribe(_);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function fromArrayLike(a){return new Observable(function(_){for(var $=0;$<a.length&&!_.closed;$++)_.next(a[$]);_.complete()})}function fromPromise(a){return new Observable(function(_){a.then(function($){_.closed||(_.next($),_.complete())},function($){return _.error($)}).then(null,reportUnhandledError)})}function fromIterable(a){return new Observable(function(_){var $,j;try{for(var et=__values(a),tt=et.next();!tt.done;tt=et.next()){var rt=tt.value;if(_.next(rt),_.closed)return}}catch(nt){$={error:nt}}finally{try{tt&&!tt.done&&(j=et.return)&&j.call(et)}finally{if($)throw $.error}}_.complete()})}function fromAsyncIterable(a){return new Observable(function(_){process(a,_).catch(function($){return _.error($)})})}function fromReadableStreamLike(a){return fromAsyncIterable(readableStreamLikeToAsyncGenerator(a))}function process(a,_){var $,j,et,tt;return __awaiter$8(this,void 0,void 0,function(){var rt,nt;return __generator(this,function(it){switch(it.label){case 0:it.trys.push([0,5,6,11]),$=__asyncValues(a),it.label=1;case 1:return[4,$.next()];case 2:if(j=it.sent(),!!j.done)return[3,4];if(rt=j.value,_.next(rt),_.closed)return[2];it.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return nt=it.sent(),et={error:nt},[3,11];case 6:return it.trys.push([6,,9,10]),j&&!j.done&&(tt=$.return)?[4,tt.call($)]:[3,8];case 7:it.sent(),it.label=8;case 8:return[3,10];case 9:if(et)throw et.error;return[7];case 10:return[7];case 11:return _.complete(),[2]}})})}function executeSchedule(a,_,$,j,et){j===void 0&&(j=0),et===void 0&&(et=!1);var tt=_.schedule(function(){$(),et?a.add(this.schedule(null,j)):this.unsubscribe()},j);if(a.add(tt),!et)return tt}function observeOn(a,_){return _===void 0&&(_=0),operate(function($,j){$.subscribe(createOperatorSubscriber(j,function(et){return executeSchedule(j,a,function(){return j.next(et)},_)},function(){return executeSchedule(j,a,function(){return j.complete()},_)},function(et){return executeSchedule(j,a,function(){return j.error(et)},_)}))})}function subscribeOn(a,_){return _===void 0&&(_=0),operate(function($,j){j.add(a.schedule(function(){return $.subscribe(j)},_))})}function scheduleObservable(a,_){return innerFrom(a).pipe(subscribeOn(_),observeOn(_))}function schedulePromise(a,_){return innerFrom(a).pipe(subscribeOn(_),observeOn(_))}function scheduleArray(a,_){return new Observable(function($){var j=0;return _.schedule(function(){j===a.length?$.complete():($.next(a[j++]),$.closed||this.schedule())})})}function scheduleIterable(a,_){return new Observable(function($){var j;return executeSchedule($,_,function(){j=a[iterator](),executeSchedule($,_,function(){var et,tt,rt;try{et=j.next(),tt=et.value,rt=et.done}catch(nt){$.error(nt);return}rt?$.complete():$.next(tt)},0,!0)}),function(){return isFunction$1(j==null?void 0:j.return)&&j.return()}})}function scheduleAsyncIterable(a,_){if(!a)throw new Error("Iterable cannot be null");return new Observable(function($){executeSchedule($,_,function(){var j=a[Symbol.asyncIterator]();executeSchedule($,_,function(){j.next().then(function(et){et.done?$.complete():$.next(et.value)})},0,!0)})})}function scheduleReadableStreamLike(a,_){return scheduleAsyncIterable(readableStreamLikeToAsyncGenerator(a),_)}function scheduled(a,_){if(a!=null){if(isInteropObservable(a))return scheduleObservable(a,_);if(isArrayLike(a))return scheduleArray(a,_);if(isPromise$1(a))return schedulePromise(a,_);if(isAsyncIterable(a))return scheduleAsyncIterable(a,_);if(isIterable(a))return scheduleIterable(a,_);if(isReadableStreamLike(a))return scheduleReadableStreamLike(a,_)}throw createInvalidObservableTypeError(a)}function from(a,_){return _?scheduled(a,_):innerFrom(a)}function of(){for(var a=[],_=0;_<arguments.length;_++)a[_]=arguments[_];var $=popScheduler(a);return from(a,$)}function throwError(a,_){var $=isFunction$1(a)?a:function(){return a},j=function(et){return et.error($())};return new Observable(j)}var EmptyError=createErrorClass(function(a){return function(){a(this),this.name="EmptyError",this.message="no elements in sequence"}});function isValidDate(a){return a instanceof Date&&!isNaN(a)}var TimeoutError=createErrorClass(function(a){return function($){$===void 0&&($=null),a(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=$}});function timeout(a,_){var $=isValidDate(a)?{first:a}:typeof a=="number"?{each:a}:a,j=$.first,et=$.each,tt=$.with,rt=tt===void 0?timeoutErrorFactory:tt,nt=$.scheduler,it=nt===void 0?asyncScheduler:nt,st=$.meta,ot=st===void 0?null:st;if(j==null&&et==null)throw new TypeError("No timeout provided.");return operate(function(at,ut){var ht,yt,wt=null,Ct=0,Pt=function(Tt){yt=executeSchedule(ut,it,function(){try{ht.unsubscribe(),innerFrom(rt({meta:ot,lastValue:wt,seen:Ct})).subscribe(ut)}catch(Mt){ut.error(Mt)}},Tt)};ht=at.subscribe(createOperatorSubscriber(ut,function(Tt){yt==null||yt.unsubscribe(),Ct++,ut.next(wt=Tt),et>0&&Pt(et)},void 0,void 0,function(){yt!=null&&yt.closed||yt==null||yt.unsubscribe(),wt=null})),!Ct&&Pt(j!=null?typeof j=="number"?j:+j-it.now():et)})}function timeoutErrorFactory(a){throw new TimeoutError(a)}function map$1(a,_){return operate(function($,j){var et=0;$.subscribe(createOperatorSubscriber(j,function(tt){j.next(a.call(_,tt,et++))}))})}var isArray$2=Array.isArray;function callOrApply(a,_){return isArray$2(_)?a.apply(void 0,__spreadArray([],__read(_))):a(_)}function mapOneOrManyArgs(a){return map$1(function(_){return callOrApply(a,_)})}var isArray$1=Array.isArray,getPrototypeOf=Object.getPrototypeOf,objectProto=Object.prototype,getKeys$1=Object.keys;function argsArgArrayOrObject(a){if(a.length===1){var _=a[0];if(isArray$1(_))return{args:_,keys:null};if(isPOJO(_)){var $=getKeys$1(_);return{args:$.map(function(j){return _[j]}),keys:$}}}return{args:a,keys:null}}function isPOJO(a){return a&&typeof a=="object"&&getPrototypeOf(a)===objectProto}function createObject(a,_){return a.reduce(function($,j,et){return $[j]=_[et],$},{})}function combineLatest(){for(var a=[],_=0;_<arguments.length;_++)a[_]=arguments[_];var $=popScheduler(a),j=popResultSelector(a),et=argsArgArrayOrObject(a),tt=et.args,rt=et.keys;if(tt.length===0)return from([],$);var nt=new Observable(combineLatestInit(tt,$,rt?function(it){return createObject(rt,it)}:identity));return j?nt.pipe(mapOneOrManyArgs(j)):nt}function combineLatestInit(a,_,$){return $===void 0&&($=identity),function(j){maybeSchedule(_,function(){for(var et=a.length,tt=new Array(et),rt=et,nt=et,it=function(ot){maybeSchedule(_,function(){var at=from(a[ot],_),ut=!1;at.subscribe(createOperatorSubscriber(j,function(ht){tt[ot]=ht,ut||(ut=!0,nt--),nt||j.next($(tt.slice()))},function(){--rt||j.complete()}))},j)},st=0;st<et;st++)it(st)},j)}}function maybeSchedule(a,_,$){a?executeSchedule($,a,_):_()}function mergeInternals(a,_,$,j,et,tt,rt,nt){var it=[],st=0,ot=0,at=!1,ut=function(){at&&!it.length&&!st&&_.complete()},ht=function(wt){return st<j?yt(wt):it.push(wt)},yt=function(wt){st++;var Ct=!1;innerFrom($(wt,ot++)).subscribe(createOperatorSubscriber(_,function(Pt){_.next(Pt)},function(){Ct=!0},void 0,function(){if(Ct)try{st--;for(var Pt=function(){var Tt=it.shift();rt||yt(Tt)};it.length&&st<j;)Pt();ut()}catch(Tt){_.error(Tt)}}))};return a.subscribe(createOperatorSubscriber(_,ht,function(){at=!0,ut()})),function(){}}function mergeMap(a,_,$){return $===void 0&&($=1/0),isFunction$1(_)?mergeMap(function(j,et){return map$1(function(tt,rt){return _(j,tt,et,rt)})(innerFrom(a(j,et)))},$):(typeof _=="number"&&($=_),operate(function(j,et){return mergeInternals(j,et,a,$)}))}function mergeAll(a){return mergeMap(identity,a)}function concatAll(){return mergeAll(1)}function concat(){for(var a=[],_=0;_<arguments.length;_++)a[_]=arguments[_];return concatAll()(from(a,popScheduler(a)))}function defer(a){return new Observable(function(_){innerFrom(a()).subscribe(_)})}function timer(a,_,$){a===void 0&&(a=0),$===void 0&&($=async);var j=-1;return _!=null&&(isScheduler(_)?$=_:j=_),new Observable(function(et){var tt=isValidDate(a)?+a-$.now():a;tt<0&&(tt=0);var rt=0;return $.schedule(function(){et.closed||(et.next(rt++),0<=j?this.schedule(void 0,j):et.complete())},tt)})}var NEVER=new Observable(noop$3);function filter(a,_){return operate(function($,j){var et=0;$.subscribe(createOperatorSubscriber(j,function(tt){return a.call(_,tt,et++)&&j.next(tt)}))})}function range(a,_,$){if(_==null&&(_=a,a=0),_<=0)return EMPTY;var j=_+a;return new Observable(function(et){for(var tt=a;tt<j&&!et.closed;)et.next(tt++);et.complete()})}function catchError(a){return operate(function(_,$){var j=null,et=!1,tt;j=_.subscribe(createOperatorSubscriber($,void 0,void 0,function(rt){tt=innerFrom(a(rt,catchError(a)(_))),j?(j.unsubscribe(),j=null,tt.subscribe($)):et=!0})),et&&(j.unsubscribe(),j=null,tt.subscribe($))})}function concatMap(a,_){return isFunction$1(_)?mergeMap(a,_,1):mergeMap(a,1)}function fromSubscribable(a){return new Observable(function(_){return a.subscribe(_)})}var DEFAULT_CONFIG={connector:function(){return new Subject}};function connect(a,_){_===void 0&&(_=DEFAULT_CONFIG);var $=_.connector;return operate(function(j,et){var tt=$();innerFrom(a(fromSubscribable(tt))).subscribe(et),et.add(j.subscribe(tt))})}function defaultIfEmpty(a){return operate(function(_,$){var j=!1;_.subscribe(createOperatorSubscriber($,function(et){j=!0,$.next(et)},function(){j||$.next(a),$.complete()}))})}function take(a){return a<=0?function(){return EMPTY}:operate(function(_,$){var j=0;_.subscribe(createOperatorSubscriber($,function(et){++j<=a&&($.next(et),a<=j&&$.complete())}))})}function distinctUntilChanged(a,_){return _===void 0&&(_=identity),a=a??defaultCompare,operate(function($,j){var et,tt=!0;$.subscribe(createOperatorSubscriber(j,function(rt){var nt=_(rt);(tt||!a(et,nt))&&(tt=!1,et=nt,j.next(rt))}))})}function defaultCompare(a,_){return a===_}function distinctUntilKeyChanged(a,_){return distinctUntilChanged(function($,j){return $[a]===j[a]})}function throwIfEmpty(a){return a===void 0&&(a=defaultErrorFactory),operate(function(_,$){var j=!1;_.subscribe(createOperatorSubscriber($,function(et){j=!0,$.next(et)},function(){return j?$.complete():$.error(a())}))})}function defaultErrorFactory(){return new EmptyError}function endWith(){for(var a=[],_=0;_<arguments.length;_++)a[_]=arguments[_];return function($){return concat($,of.apply(void 0,__spreadArray([],__read(a))))}}function first(a,_){var $=arguments.length>=2;return function(j){return j.pipe(identity,take(1),$?defaultIfEmpty(_):throwIfEmpty(function(){return new EmptyError}))}}function multicast(a,_){var $=isFunction$1(a)?a:function(){return a};return isFunction$1(_)?connect(_,{connector:$}):function(j){return new ConnectableObservable(j,$)}}function pluck(){for(var a=[],_=0;_<arguments.length;_++)a[_]=arguments[_];var $=a.length;if($===0)throw new Error("list of properties cannot be empty.");return map$1(function(j){for(var et=j,tt=0;tt<$;tt++){var rt=et==null?void 0:et[a[tt]];if(typeof rt<"u")et=rt;else return}return et})}function publish(a){return a?function(_){return connect(a)(_)}:function(_){return multicast(new Subject)(_)}}function retry(a){a===void 0&&(a=1/0);var _;a&&typeof a=="object"?_=a:_={count:a};var $=_.count,j=$===void 0?1/0:$,et=_.delay,tt=_.resetOnSuccess,rt=tt===void 0?!1:tt;return j<=0?identity:operate(function(nt,it){var st=0,ot,at=function(){var ut=!1;ot=nt.subscribe(createOperatorSubscriber(it,function(ht){rt&&(st=0),it.next(ht)},void 0,function(ht){if(st++<j){var yt=function(){ot?(ot.unsubscribe(),ot=null,at()):ut=!0};if(et!=null){var wt=typeof et=="number"?timer(et):innerFrom(et(ht,st)),Ct=createOperatorSubscriber(it,function(){Ct.unsubscribe(),yt()},function(){it.complete()});wt.subscribe(Ct)}else yt()}else it.error(ht)})),ut&&(ot.unsubscribe(),ot=null,at())};at()})}function share(a){a===void 0&&(a={});var _=a.connector,$=_===void 0?function(){return new Subject}:_,j=a.resetOnError,et=j===void 0?!0:j,tt=a.resetOnComplete,rt=tt===void 0?!0:tt,nt=a.resetOnRefCountZero,it=nt===void 0?!0:nt;return function(st){var ot,at,ut,ht=0,yt=!1,wt=!1,Ct=function(){at==null||at.unsubscribe(),at=void 0},Pt=function(){Ct(),ot=ut=void 0,yt=wt=!1},Tt=function(){var Mt=ot;Pt(),Mt==null||Mt.unsubscribe()};return operate(function(Mt,Lt){ht++,!wt&&!yt&&Ct();var Dt=ut=ut??$();Lt.add(function(){ht--,ht===0&&!wt&&!yt&&(at=handleReset(Tt,it))}),Dt.subscribe(Lt),!ot&&ht>0&&(ot=new SafeSubscriber({next:function(Ut){return Dt.next(Ut)},error:function(Ut){wt=!0,Ct(),at=handleReset(Pt,et,Ut),Dt.error(Ut)},complete:function(){yt=!0,Ct(),at=handleReset(Pt,rt),Dt.complete()}}),innerFrom(Mt).subscribe(ot))})(st)}}function handleReset(a,_){for(var $=[],j=2;j<arguments.length;j++)$[j-2]=arguments[j];if(_===!0){a();return}if(_!==!1){var et=new SafeSubscriber({next:function(){et.unsubscribe(),a()}});return innerFrom(_.apply(void 0,__spreadArray([],__read($)))).subscribe(et)}}function shareReplay(a,_,$){var j,et,tt,rt,nt=!1;return a&&typeof a=="object"?(j=a.bufferSize,rt=j===void 0?1/0:j,et=a.windowTime,_=et===void 0?1/0:et,tt=a.refCount,nt=tt===void 0?!1:tt,$=a.scheduler):rt=a??1/0,share({connector:function(){return new ReplaySubject(rt,_,$)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:nt})}function startWith(){for(var a=[],_=0;_<arguments.length;_++)a[_]=arguments[_];var $=popScheduler(a);return operate(function(j,et){($?concat(a,j,$):concat(a,j)).subscribe(et)})}function switchMap(a,_){return operate(function($,j){var et=null,tt=0,rt=!1,nt=function(){return rt&&!et&&j.complete()};$.subscribe(createOperatorSubscriber(j,function(it){et==null||et.unsubscribe();var st=0,ot=tt++;innerFrom(a(it,ot)).subscribe(et=createOperatorSubscriber(j,function(at){return j.next(_?_(it,at,ot,st++):at)},function(){et=null,nt()}))},function(){rt=!0,nt()}))})}function takeUntil(a){return operate(function(_,$){innerFrom(a).subscribe(createOperatorSubscriber($,function(){return $.complete()},noop$3)),!$.closed&&_.subscribe($)})}function takeWhile(a,_){return operate(function($,j){var et=0;$.subscribe(createOperatorSubscriber(j,function(tt){var rt=a(tt,et++);(rt||_)&&j.next(tt),!rt&&j.complete()}))})}function tap(a,_,$){var j=isFunction$1(a)||_||$?{next:a,error:_,complete:$}:a;return j?operate(function(et,tt){var rt;(rt=j.subscribe)===null||rt===void 0||rt.call(j);var nt=!0;et.subscribe(createOperatorSubscriber(tt,function(it){var st;(st=j.next)===null||st===void 0||st.call(j,it),tt.next(it)},function(){var it;nt=!1,(it=j.complete)===null||it===void 0||it.call(j),tt.complete()},function(it){var st;nt=!1,(st=j.error)===null||st===void 0||st.call(j,it),tt.error(it)},function(){var it,st;nt&&((it=j.unsubscribe)===null||it===void 0||it.call(j)),(st=j.finalize)===null||st===void 0||st.call(j)}))}):identity}var fastJsonStableStringify=function(a,_){_||(_={}),typeof _=="function"&&(_={cmp:_});var $=typeof _.cycles=="boolean"?_.cycles:!1,j=_.cmp&&function(tt){return function(rt){return function(nt,it){var st={key:nt,value:rt[nt]},ot={key:it,value:rt[it]};return tt(st,ot)}}}(_.cmp),et=[];return function tt(rt){if(rt&&rt.toJSON&&typeof rt.toJSON=="function"&&(rt=rt.toJSON()),rt!==void 0){if(typeof rt=="number")return isFinite(rt)?""+rt:"null";if(typeof rt!="object")return JSON.stringify(rt);var nt,it;if(Array.isArray(rt)){for(it="[",nt=0;nt<rt.length;nt++)nt&&(it+=","),it+=tt(rt[nt])||"null";return it+"]"}if(rt===null)return"null";if(et.indexOf(rt)!==-1){if($)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var st=et.push(rt)-1,ot=Object.keys(rt).sort(j&&j(rt));for(it="",nt=0;nt<ot.length;nt++){var at=ot[nt],ut=tt(rt[at]);ut&&(it&&(it+=","),it+=JSON.stringify(at)+":"+ut)}return et.splice(st,1),"{"+it+"}"}}(a)};const stringify$2=getDefaultExportFromCjs$1(fastJsonStableStringify);var _a$1;class InvalidMapTypeError extends TaquitoError{constructor(_,$){super(),this.mapType=_,this.reason=$,this.message=`The map type '${JSON.stringify(_)}' is invalid. Reason: ${$}.`,this.name="InvalidMapTypeError"}}const michelsonMapTypeSymbol=Symbol.for("taquito-michelson-map-type-symbol");function validateMapType(a){if(!("prim"in a))throw new InvalidMapTypeError(a,"Missing 'prim' field");if(!["map","big_map"].includes(a.prim))throw new InvalidMapTypeError(a,"The prim field should be 'map' or 'big_map'");if(!("args"in a))throw new InvalidMapTypeError(a,"Missing 'args' field");if(!Array.isArray(a.args))throw new InvalidMapTypeError(a,"The 'args' field should be an array");if(a.args.length!==2)throw new InvalidMapTypeError(a,"The 'args' field should have 2 elements")}class MapTypecheckError extends TaquitoError{constructor(_,$,j,et){super(),this.value=_,this.type=$,this.reason=et,this.name="MapTypecheckError",this.message=`The ${j} provided: ${JSON.stringify(_)} is not compatible with the expected michelson type: ${JSON.stringify($)}. Reason: ${JSON.stringify(et)}.`,this.name="MapTypecheckError"}}class MichelsonMap{static isMichelsonMap(_){return _&&_[michelsonMapTypeSymbol]===!0}constructor(_){this.valueMap=new Map,this.keyMap=new Map,this[_a$1]=!0,_&&this.setType(_)}setType(_){validateMapType(_),this.keySchema=new Schema(_.args[0]),this.valueSchema=new Schema(_.args[1])}removeType(){this.keySchema=void 0,this.valueSchema=void 0}static fromLiteral(_,$){const j=new MichelsonMap($);return Object.keys(_).forEach(et=>{j.set(et,_[et])}),j}typecheckKey(_){this.keySchema&&this.keySchema.Typecheck(_)}typecheckValue(_){this.valueSchema&&this.valueSchema.Typecheck(_)}assertTypecheckValue(_){try{this.typecheckValue(_)}catch($){throw new MapTypecheckError(_,this.valueSchema,"value",$)}}assertTypecheckKey(_){try{this.typecheckKey(_)}catch($){throw new MapTypecheckError(_,this.keySchema,"key",$)}}serializeDeterministically(_){return stringify$2(_)}*keys(){for(const[_]of this.entries())yield _}*values(){for(const[,_]of this.entries())yield _}*entries(){for(const _ of this.valueMap.keys())yield[this.keyMap.get(_),this.valueMap.get(_)]}get(_){this.assertTypecheckKey(_);const $=this.serializeDeterministically(_);return this.valueMap.get($)}set(_,$){this.assertTypecheckKey(_),this.assertTypecheckValue($);const j=this.serializeDeterministically(_);this.keyMap.set(j,_),this.valueMap.set(j,$)}delete(_){this.assertTypecheckKey(_),this.keyMap.delete(this.serializeDeterministically(_)),this.valueMap.delete(this.serializeDeterministically(_))}has(_){this.assertTypecheckKey(_);const $=this.serializeDeterministically(_);return this.keyMap.has($)&&this.valueMap.has($)}clear(){this.keyMap.clear(),this.valueMap.clear()}get size(){return this.keyMap.size}forEach(_){for(const[$,j]of this.entries())_(j,$,this)}}_a$1=michelsonMapTypeSymbol;class TokenValidationError extends TaquitoError{constructor(_,$,j){super(),this.value=_,this.token=$,this.name="TokenValidationError";const et=this.token.annot(),tt=et?`[${et}] `:"";this.message=`${tt}${j}`}}class Token{constructor(_,$,j){this.val=_,this.idx=$,this.fac=j,this.createToken=this.fac}typeWithoutAnnotations(){const _=j=>{if(typeof j=="object"){if(Array.isArray(j))return j.map(rt=>_(rt));const et=j;return et.args?{prim:et.prim,args:et.args.map(tt=>_(tt))}:{prim:et.prim}}return j};return(j=>j.args?{prim:j.prim,args:j.args.map(et=>_(et))}:{prim:j.prim})(this.val)}annot(){return(Array.isArray(this.val.annots)&&this.val.annots.length>0?this.val.annots[0]:String(this.idx)).replace(/(%|:)(_Liq_entry_)?/,"")}hasAnnotations(){return Array.isArray(this.val.annots)&&this.val.annots.length}get tokenVal(){return this.val}ExtractSignature(){return[[this.ExtractSchema()]]}}class ComparableToken extends Token{compare(_,$){return _===$?0:_<$?-1:1}}class BigMapValidationError extends TokenValidationError{constructor(_,$,j){super(_,$,j),this.value=_,this.token=$,this.name="BigMapValidationError"}}class BigMapToken extends Token{constructor(_,$,j){super(_,$,j),this.val=_,this.idx=$,this.fac=j}get ValueSchema(){return this.createToken(this.val.args[1],0)}get KeySchema(){return this.createToken(this.val.args[0],0)}ExtractSchema(){return{big_map:{key:this.KeySchema.ExtractSchema(),value:this.ValueSchema.ExtractSchema()}}}generateSchema(){return{__michelsonType:BigMapToken.prim,schema:{key:this.KeySchema.generateSchema(),value:this.ValueSchema.generateSchema()}}}validate(_){if(!MichelsonMap.isMichelsonMap(_))throw new BigMapValidationError(_,this,`Value ${JSON.stringify(_)} is not a MichelsonMap`)}objLitToMichelsonMap(_){return _ instanceof MichelsonMap?_:typeof _=="object"?Object.keys(_).length===0?new MichelsonMap:MichelsonMap.fromLiteral(_):_}Encode(_){const $=this.objLitToMichelsonMap(_.pop());return this.validate($),Array.from($.keys()).sort((j,et)=>this.KeySchema.compare(j,et)).map(j=>({prim:"Elt",args:[this.KeySchema.EncodeObject(j),this.ValueSchema.EncodeObject($.get(j))]}))}EncodeObject(_,$){const j=this.objLitToMichelsonMap(_);return this.validate(j),$&&$[BigMapToken.prim]?$[BigMapToken.prim](j,this.val):Array.from(j.keys()).sort((et,tt)=>this.KeySchema.compare(et,tt)).map(et=>({prim:"Elt",args:[this.KeySchema.EncodeObject(et),this.ValueSchema.EncodeObject(j.get(et))]}))}Execute(_,$){if($&&$[BigMapToken.prim])return $[BigMapToken.prim](_,this.val);if(Array.isArray(_)){const j=new MichelsonMap(this.val);return _.forEach(et=>{j.set(this.KeySchema.ToKey(et.args[0]),this.ValueSchema.Execute(et.args[1]))}),j}else{if("int"in _)return _.int;throw new BigMapValidationError(_,this,`Big map is expecting either an array (Athens) or an object with an int property (Babylon). Got ${JSON.stringify(_)}`)}}findAndReturnTokens(_,$){return BigMapToken.prim===_&&$.push(this),this.KeySchema.findAndReturnTokens(_,$),this.ValueSchema.findAndReturnTokens(_,$),$}}BigMapToken.prim="big_map";class OrValidationError extends TokenValidationError{constructor(_,$,j){super(_,$,j),this.value=_,this.token=$,this.name="OrValidationError"}}class OrToken extends ComparableToken{constructor(_,$,j){super(_,$,j),this.val=_,this.idx=$,this.fac=j}Encode(_){const $=_[_.length-1],j=this.createToken(this.val.args[0],this.idx);let et=1;j instanceof OrToken&&(et=Object.keys(j.ExtractSchema()).length);const tt=this.createToken(this.val.args[1],this.idx+et);if(String(j.annot())===String($)&&!(j instanceof OrToken))return _.pop(),{prim:"Left",args:[j.Encode(_)]};if(String(tt.annot())===String($)&&!(tt instanceof OrToken))return _.pop(),{prim:"Right",args:[tt.Encode(_)]};if(j instanceof OrToken){const rt=j.Encode(_);if(rt)return{prim:"Left",args:[rt]}}if(tt instanceof OrToken){const rt=tt.Encode(_);if(rt)return{prim:"Right",args:[rt]}}return null}ExtractSignature(){const _=this.createToken(this.val.args[0],this.idx);let $=1;_ instanceof OrToken&&($=Object.keys(_.ExtractSchema()).length);const j=this.createToken(this.val.args[1],this.idx+$),et=[];if(_ instanceof OrToken)et.push(..._.ExtractSignature());else for(const tt of _.ExtractSignature())et.push([_.annot(),...tt]);if(j instanceof OrToken)et.push(...j.ExtractSignature());else for(const tt of j.ExtractSignature())et.push([j.annot(),...tt]);return et}EncodeObject(_,$){this.validateJavascriptObject(_);const j=Object.keys(_)[0],et=this.createToken(this.val.args[0],this.idx);let tt=1;et instanceof OrToken&&(tt=Object.keys(et.ExtractSchema()).length);const rt=this.createToken(this.val.args[1],this.idx+tt);if(String(et.annot())===String(j)&&!(et instanceof OrToken))return{prim:"Left",args:[et.EncodeObject(_[j],$)]};if(String(rt.annot())===String(j)&&!(rt instanceof OrToken))return{prim:"Right",args:[rt.EncodeObject(_[j],$)]};if(et instanceof OrToken){const nt=et.EncodeObject(_,$);if(nt)return{prim:"Left",args:[nt]}}if(rt instanceof OrToken){const nt=rt.EncodeObject(_,$);if(nt)return{prim:"Right",args:[nt]}}return null}validateJavascriptObject(_){if(typeof _!="object"||Array.isArray(_)||_===null||Object.keys(_).length!==1)throw new OrValidationError(_,this,`EncodeObject expects an object with a single key but got: ${JSON.stringify(_)}`)}Execute(_,$){const j=this.createToken(this.val.args[0],this.idx);let et=1;j instanceof OrToken&&(et=Object.keys(j.ExtractSchema()).length);const tt=this.createToken(this.val.args[1],this.idx+et);if(_.prim==="Right")return tt instanceof OrToken?tt.Execute(_.args[0],$):{[tt.annot()]:tt.Execute(_.args[0],$)};if(_.prim==="Left")return j instanceof OrToken?j.Execute(_.args[0],$):{[j.annot()]:j.Execute(_.args[0],$)};throw new OrValidationError(_,this,`Was expecting Left or Right prim but got: ${JSON.stringify(_.prim)}`)}traversal(_,$,j){const et=this.createToken(this.val.args[0],this.idx);let tt=1,rt;et instanceof OrToken?(rt=_(et),tt=Object.keys(et.ExtractSchema()).length):rt={[et.annot()]:_(et)};const nt=this.createToken(this.val.args[1],this.idx+tt);let it;return nt instanceof OrToken?it=$(nt):it={[nt.annot()]:$(nt)},j(rt,it)}ExtractSchema(){return this.traversal(_=>_.ExtractSchema(),_=>_.ExtractSchema(),(_,$)=>Object.assign(Object.assign({},_),$))}generateSchema(){return{__michelsonType:OrToken.prim,schema:this.traversal(_=>_ instanceof OrToken?_.generateSchema().schema:_.generateSchema(),_=>_ instanceof OrToken?_.generateSchema().schema:_.generateSchema(),(_,$)=>Object.assign(Object.assign({},_),$))}}findToken(_){const $=this.createToken(this.val.args[0],this.idx);let j=1;$ instanceof OrToken&&(j=Object.keys($.ExtractSchema()).length);const et=this.createToken(this.val.args[1],this.idx+j);if(String($.annot())===String(_)&&!($ instanceof OrToken)&&$ instanceof ComparableToken)return $;if(String(et.annot())===String(_)&&!(et instanceof OrToken)&&et instanceof ComparableToken)return et;if($ instanceof OrToken){const tt=$.findToken(_);if(tt)return tt}if(et instanceof OrToken){const tt=et.findToken(_);if(tt)return tt}return null}compare(_,$){const j=Object.keys(_)[0],et=Object.keys($)[0];if(j===et){const tt=this.findToken(j);if(tt instanceof ComparableToken)return tt.compare(_[j],$[j])}else{const tt=JSON.stringify(this.EncodeObject(_)),rt=JSON.stringify(this.EncodeObject($));return tt<rt?-1:1}}ToKey(_){return this.Execute(_)}ToBigMapKey(_){return{key:this.EncodeObject(_),type:this.typeWithoutAnnotations()}}findAndReturnTokens(_,$){return OrToken.prim===_&&$.push(this),this.traversal(j=>j.findAndReturnTokens(_,$),j=>j.findAndReturnTokens(_,$),(j,et)=>Object.assign(Object.assign({},j),et)),$}}OrToken.prim="or";class TokenArgumentValidationError extends TaquitoError{constructor(_){super(_),this.message=_,this.name="TokenArgumentValidationError"}}class TokenComparisonError extends TaquitoError{constructor(_,$){super(),this.val1=_,this.val2=$,this.name="TokenComparisonError",this.message=`Tokens ${JSON.stringify(_)} and ${JSON.stringify($)} are not comparable`}}function collapse$1(a,_=PairToken.prim){if(Array.isArray(a))return collapse$1({prim:_,args:a},_);if(a.args===void 0)throw new TokenArgumentValidationError(`The value ${JSON.stringify(a)} is an invalid PairToken with no arguments, a pair must have two or more arguments.`);return a.args.length>2?[a.args[0],{prim:_,args:a.args.slice(1)}]:[a.args[0],a.args[1]]}class PairToken extends ComparableToken{constructor(_,$,j){super(Array.isArray(_)?{prim:PairToken.prim,args:_}:_.prim?_:{prim:PairToken.prim,args:_},$,j)}args(){return collapse$1(this.val)}tokens(){let _=0;return this.args().map($=>{const j=this.createToken($,this.idx+_);return j instanceof PairToken?_+=Object.keys(j.ExtractSchema()).length:_++,j})}Encode(_){return{prim:"Pair",args:this.tokens().map($=>$.Encode(_))}}ExtractSignature(){const _=this.args(),$=this.createToken(_[0],this.idx);let j=1;$ instanceof OrToken&&(j=Object.keys($.ExtractSchema()).length);const et=this.createToken(_[1],this.idx+j),tt=[];for(const rt of $.ExtractSignature())for(const nt of et.ExtractSignature())tt.push([...rt,...nt]);return tt}ToBigMapKey(_){return{key:this.EncodeObject(_),type:this.typeWithoutAnnotations()}}ToKey(_){return this.Execute(_)}EncodeObject(_,$){const[j,et]=this.tokens();let tt;j instanceof PairToken&&!j.hasAnnotations()?tt=_:tt=_[j.annot()];let rt;return et instanceof PairToken&&!et.hasAnnotations()?rt=_:rt=_[et.annot()],{prim:"Pair",args:[j.EncodeObject(tt,$),et.EncodeObject(rt,$)]}}traversal(_,$){const j=this.args(),et=this.createToken(j[0],this.idx);let tt=1,rt;et instanceof PairToken&&!et.hasAnnotations()?(rt=_(et),et instanceof PairToken&&(tt=Object.keys(et.ExtractSchema()).length)):rt={[et.annot()]:_(et)};const nt=this.createToken(j[1],this.idx+tt);let it;return nt instanceof PairToken&&!nt.hasAnnotations()?it=$(nt):it={[nt.annot()]:$(nt)},Object.assign(Object.assign({},rt),it)}Execute(_,$){const j=collapse$1(_,"Pair");return this.traversal(et=>et.Execute(j[0],$),et=>et.Execute(j[1],$))}ExtractSchema(){return this.traversal(_=>_.ExtractSchema(),_=>_.ExtractSchema())}generateSchema(){return{__michelsonType:PairToken.prim,schema:this.traversal(_=>_ instanceof PairToken&&!_.hasAnnotations()?_.generateSchema().schema:_.generateSchema(),_=>_ instanceof PairToken&&!_.hasAnnotations()?_.generateSchema().schema:_.generateSchema())}}compare(_,$){const[j,et]=this.tokens(),tt=(rt,nt)=>rt instanceof PairToken&&!rt.hasAnnotations()?nt:nt[rt.annot()];if(j instanceof ComparableToken&&et instanceof ComparableToken){const rt=j.compare(tt(j,_),tt(j,$));return rt===0?et.compare(tt(et,_),tt(et,$)):rt}throw new TokenComparisonError(_,$)}findAndReturnTokens(_,$){return PairToken.prim===_&&$.push(this),this.tokens().map(j=>j.findAndReturnTokens(_,$)),$}}PairToken.prim="pair";class NatValidationError extends TokenValidationError{constructor(_,$,j){super(_,$,j),this.value=_,this.token=$,this.name="NatValidationError"}}class NatToken extends ComparableToken{constructor(_,$,j){super(_,$,j),this.val=_,this.idx=$,this.fac=j}Execute(_){return new BigNumber(_[Object.keys(_)[0]])}Encode(_){const $=_.pop();return this.validate($),{int:new BigNumber($).toFixed()}}validate(_){const $=new BigNumber(_);if($.isNaN())throw new NatValidationError(_,this,`Value is not a number: ${JSON.stringify(_)}`);if($.isNegative())throw new NatValidationError(_,this,`Value cannot be negative: ${JSON.stringify(_)}`)}EncodeObject(_,$){return this.validate(_),$&&$[NatToken.prim]?$[NatToken.prim](_):{int:new BigNumber(_).toFixed()}}ExtractSchema(){return NatToken.prim}generateSchema(){return{__michelsonType:NatToken.prim,schema:NatToken.prim}}ToBigMapKey(_){return{key:{int:String(_)},type:{prim:NatToken.prim}}}ToKey({int:_}){return new BigNumber(_)}compare(_,$){const j=Number(_),et=Number($);return j===et?0:j<et?-1:1}findAndReturnTokens(_,$){return NatToken.prim===_&&$.push(this),$}}NatToken.prim="nat";class StringToken extends ComparableToken{constructor(_,$,j){super(_,$,j),this.val=_,this.idx=$,this.fac=j}Execute(_){return _[Object.keys(_)[0]]}ExtractSchema(){return StringToken.prim}generateSchema(){return{__michelsonType:StringToken.prim,schema:StringToken.prim}}Encode(_){return{string:_.pop()}}EncodeObject(_,$){return $&&$[StringToken.prim]?$[StringToken.prim](_):{string:_}}ToKey({string:_}){return _}ToBigMapKey(_){return{key:{string:_},type:{prim:StringToken.prim}}}findAndReturnTokens(_,$){return StringToken.prim===_&&$.push(this),$}}StringToken.prim="string";class AddressValidationError extends TokenValidationError{constructor(_,$,j){super(_,$,j),this.value=_,this.token=$,this.name="AddressValidationError"}}class AddressToken extends ComparableToken{constructor(_,$,j){super(_,$,j),this.val=_,this.idx=$,this.fac=j}ToBigMapKey(_){return{key:{bytes:b58decode(_)},type:{prim:"bytes"}}}validate(_){if(validateAddress(_)!==ValidationResult.VALID)throw new AddressValidationError(_,this,`Address is not valid: ${JSON.stringify(_)}`)}Encode(_){const $=_.pop();return this.validate($),{string:$}}EncodeObject(_,$){return this.validate(_),$&&$[AddressToken.prim]?$[AddressToken.prim](_):{string:_}}Execute(_){if(_.string)return _.string;if(!_.bytes)throw new AddressValidationError(_,this,`cannot be missing both string and bytes: ${JSON.stringify(_)}`);return encodeAddress(_.bytes)}ExtractSchema(){return AddressToken.prim}generateSchema(){return{__michelsonType:AddressToken.prim,schema:AddressToken.prim}}ToKey({bytes:_,string:$}){if($)return $;if(!_)throw new AddressValidationError({bytes:_,string:$},this,`cannot be missing both string and bytes ${JSON.stringify({string:$,bytes:_})}`);return encodeAddress(_)}compare(_,$){const j=rt=>rt.startsWith("tz"),et=j(_),tt=j($);return et&&!tt?-1:tt&&!et?1:super.compare(_,$)}findAndReturnTokens(_,$){return AddressToken.prim===_&&$.push(this),$}}AddressToken.prim="address";class MapValidationError extends TokenValidationError{constructor(_,$,j){super(_,$,j),this.value=_,this.token=$,this.name="MapValidationError"}}class MapToken extends Token{constructor(_,$,j){super(_,$,j),this.val=_,this.idx=$,this.fac=j}get ValueSchema(){return this.createToken(this.val.args[1],0)}get KeySchema(){return this.createToken(this.val.args[0],0)}validate(_){if(!MichelsonMap.isMichelsonMap(_))throw new MapValidationError(_,this,`Value ${JSON.stringify(_)} is not a valid MichelsonMap`)}Execute(_,$){const j=new MichelsonMap(this.val);return _.forEach(et=>{j.set(this.KeySchema.ToKey(et.args[0]),this.ValueSchema.Execute(et.args[1],$))}),j}objLitToMichelsonMap(_){return _ instanceof MichelsonMap?_:typeof _=="object"?Object.keys(_).length===0?new MichelsonMap:MichelsonMap.fromLiteral(_):_}Encode(_){const $=this.objLitToMichelsonMap(_.pop());return this.validate($),Array.from($.keys()).sort((j,et)=>this.KeySchema.compare(j,et)).map(j=>({prim:"Elt",args:[this.KeySchema.EncodeObject(j),this.ValueSchema.EncodeObject($.get(j))]}))}EncodeObject(_,$){const j=this.objLitToMichelsonMap(_);return this.validate(j),$&&$[MapToken.prim]?$[MapToken.prim](j):Array.from(j.keys()).sort((et,tt)=>this.KeySchema.compare(et,tt)).map(et=>({prim:"Elt",args:[this.KeySchema.EncodeObject(et),this.ValueSchema.EncodeObject(j.get(et))]}))}ExtractSchema(){return{map:{key:this.KeySchema.ExtractSchema(),value:this.ValueSchema.ExtractSchema()}}}generateSchema(){return{__michelsonType:MapToken.prim,schema:{key:this.KeySchema.generateSchema(),value:this.ValueSchema.generateSchema()}}}findAndReturnTokens(_,$){return MapToken.prim===_&&$.push(this),this.KeySchema.findAndReturnTokens(_,$),this.ValueSchema.findAndReturnTokens(_,$),$}}MapToken.prim="map";class BoolToken extends ComparableToken{constructor(_,$,j){super(_,$,j),this.val=_,this.idx=$,this.fac=j}Execute(_){return String(_.prim).toLowerCase()==="true"}Encode(_){return{prim:_.pop()?"True":"False"}}EncodeObject(_,$){return $&&$[BoolToken.prim]?$[BoolToken.prim](_):{prim:_?"True":"False"}}ExtractSchema(){return BoolToken.prim}generateSchema(){return{__michelsonType:BoolToken.prim,schema:BoolToken.prim}}ToBigMapKey(_){return{key:this.EncodeObject(_),type:{prim:BoolToken.prim}}}ToKey(_){return this.EncodeObject(_)}compare(_,$){return _&&$||!_&&!$?0:_?1:-1}findAndReturnTokens(_,$){return BoolToken.prim===_&&$.push(this),$}}BoolToken.prim="bool";class ContractValidationError extends TokenValidationError{constructor(_,$,j){super(_,$,j),this.value=_,this.token=$,this.name="ContractValidationError"}}class ContractToken extends Token{constructor(_,$,j){super(_,$,j),this.val=_,this.idx=$,this.fac=j}validate(_){if(validateAddress(_)!==ValidationResult.VALID)throw new ContractValidationError(_,this,`Value ${JSON.stringify(_)} is not a valid contract address.`);return null}Execute(_){if(_.string)return _.string;if(!_.bytes)throw new ContractValidationError(_,this,`Value ${JSON.stringify(_)} is not a valid contract address. must contain bytes or string.`);return encodeAddress(_.bytes)}Encode(_){const $=_.pop();return this.validate($),{string:$}}EncodeObject(_,$){return this.validate(_),$&&$[ContractToken.prim]?$[ContractToken.prim](_):{string:_}}ExtractSchema(){return ContractToken.prim}generateSchema(){const _=this.createToken(this.val.args[0],0);return{__michelsonType:ContractToken.prim,schema:{parameter:this.val.args[0]?_.generateSchema():{}}}}findAndReturnTokens(_,$){return ContractToken.prim===_&&$.push(this),$}}ContractToken.prim="contract";class ListValidationError extends TokenValidationError{constructor(_,$,j){super(_,$,j),this.value=_,this.token=$,this.name="ListValidationError"}}class ListToken extends Token{constructor(_,$,j){super(_,$,j),this.val=_,this.idx=$,this.fac=j}get valueSchema(){return this.createToken(this.val.args[0],this.idx)}validate(_){if(!Array.isArray(_))throw new ListValidationError(_,this,`Value ${JSON.stringify(_)} is not a valid array`)}Encode(_){const $=_.pop();this.validate($);const j=this.createToken(this.val.args[0],0);return $.reduce((et,tt)=>[...et,j.EncodeObject(tt)],[])}Execute(_,$){const j=this.createToken(this.val.args[0],0);return this.validate(_),_.reduce((et,tt)=>[...et,j.Execute(tt,$)],[])}EncodeObject(_,$){const j=this.createToken(this.val.args[0],0);return this.validate(_),$&&$[ListToken.prim]?$[ListToken.prim](_):_.reduce((et,tt)=>[...et,j.EncodeObject(tt)],[])}ExtractSchema(){return{[ListToken.prim]:this.valueSchema.ExtractSchema()}}generateSchema(){return{__michelsonType:ListToken.prim,schema:this.valueSchema.generateSchema()}}findAndReturnTokens(_,$){return ListToken.prim===_&&$.push(this),this.createToken(this.val.args[0],this.idx).findAndReturnTokens(_,$),$}}ListToken.prim="list";class MutezValidationError extends TokenValidationError{constructor(_,$,j){super(_,$,j),this.value=_,this.token=$,this.name="MutezValidationError"}}class MutezToken extends ComparableToken{constructor(_,$,j){super(_,$,j),this.val=_,this.idx=$,this.fac=j}Execute(_){return new BigNumber(_[Object.keys(_)[0]])}ExtractSchema(){return MutezToken.prim}generateSchema(){return{__michelsonType:MutezToken.prim,schema:MutezToken.prim}}validate(_){if(new BigNumber(_).isNaN())throw new MutezValidationError(_,this,`Value is not a number: ${_}`)}Encode(_){const $=_.pop();return this.validate($),{int:String($).toString()}}EncodeObject(_,$){return this.validate(_),$&&$[MutezToken.prim]?$[MutezToken.prim](_):{int:String(_).toString()}}ToBigMapKey(_){return{key:{int:String(_)},type:{prim:MutezToken.prim}}}ToKey({int:_}){return _}compare(_,$){const j=Number(_),et=Number($);return j===et?0:j<et?-1:1}findAndReturnTokens(_,$){return MutezToken.prim===_&&$.push(this),$}}MutezToken.prim="mutez";class BytesValidationError extends TokenValidationError{constructor(_,$,j){super(_,$,j),this.value=_,this.token=$,this.name="BytesValidationError"}}class BytesToken extends ComparableToken{constructor(_,$,j){super(_,$,j),this.val=_,this.idx=$,this.fac=j}ToBigMapKey(_){return{key:{bytes:_},type:{prim:BytesToken.prim}}}validate(_){if(!(typeof _=="string"&&/^[0-9a-fA-F]*$/.test(_)&&_.length%2===0))throw new BytesValidationError(_,this,`Invalid bytes: ${_}`)}convertUint8ArrayToHexString(_){return _.constructor===Uint8Array?Buffer$g.from(_).toString("hex"):_}Encode(_){let $=_.pop();return $=stripHexPrefix$1(this.convertUint8ArrayToHexString($)),this.validate($),{bytes:String($).toString()}}EncodeObject(_,$){return _=this.convertUint8ArrayToHexString(_),typeof _=="string"&&(_=stripHexPrefix$1(_)),this.validate(_),$&&$[BytesToken.prim]?$[BytesToken.prim](_):{bytes:String(_).toString()}}Execute(_){return _.bytes}ExtractSchema(){return BytesToken.prim}generateSchema(){return{__michelsonType:BytesToken.prim,schema:BytesToken.prim}}ToKey({bytes:_,string:$}){return $||_}findAndReturnTokens(_,$){return BytesToken.prim===_&&$.push(this),$}}BytesToken.prim="bytes";class OptionToken extends ComparableToken{constructor(_,$,j){super(_,$,j),this.val=_,this.idx=$,this.fac=j}subToken(){return this.createToken(this.val.args[0],this.idx)}schema(){return this.createToken(this.val.args[0],0)}annot(){return Array.isArray(this.val.annots)?super.annot():this.createToken(this.val.args[0],this.idx).annot()}Encode(_){const $=_;return $==null?{prim:"None"}:Array.isArray($)&&($[$.length-1]===void 0||$[$.length-1]===null)?($.pop(),{prim:"None"}):{prim:"Some",args:[this.schema().Encode(_)]}}EncodeObject(_,$){let j=_;return j==null?{prim:"None"}:(j=typeof j=="object"&&"Some"in j?j.Some:j,{prim:"Some",args:[this.schema().EncodeObject(j,$)]})}Execute(_,$){return _.prim==="None"?null:{Some:this.schema().Execute(_.args[0],$)}}ExtractSchema(){return{Some:this.schema().ExtractSchema()}}generateSchema(){return{__michelsonType:OptionToken.prim,schema:this.schema().generateSchema()}}ExtractSignature(){return[...this.schema().ExtractSignature()]}get KeySchema(){return this.schema()}compare(_,$){if(_){if(!$)return 1}else return-1;return this.KeySchema.compare(_,$)}ToKey(_){return this.Execute(_)}ToBigMapKey(_){return{key:this.EncodeObject(_),type:this.typeWithoutAnnotations()}}findAndReturnTokens(_,$){return OptionToken.prim===_&&$.push(this),this.subToken().findAndReturnTokens(_,$),$}}OptionToken.prim="option";class TimestampToken extends ComparableToken{constructor(_,$,j){super(_,$,j),this.val=_,this.idx=$,this.fac=j}Execute(_){if(_.string&&/^\d+$/.test(_.string))return new Date(Number(_.string)*1e3).toISOString();if(_.string)return new Date(_.string).toISOString();if(_.int)return new Date(Number(_.int)*1e3).toISOString()}Encode(_){const $=_.pop();return typeof $=="number"?{int:String($)}:{string:$}}EncodeObject(_,$){return $&&$[TimestampToken.prim]?$[TimestampToken.prim](_):typeof _=="number"?{int:String(_)}:{string:_}}ExtractSchema(){return TimestampToken.prim}generateSchema(){return{__michelsonType:TimestampToken.prim,schema:TimestampToken.prim}}ToKey({string:_}){return _}ToBigMapKey(_){return{key:{string:_},type:{prim:TimestampToken.prim}}}findAndReturnTokens(_,$){return TimestampToken.prim===_&&$.push(this),$}}TimestampToken.prim="timestamp";class IntValidationError extends TokenValidationError{constructor(_,$,j){super(_,$,j),this.value=_,this.token=$,this.name="IntValidationError"}}class IntToken extends ComparableToken{constructor(_,$,j){super(_,$,j),this.val=_,this.idx=$,this.fac=j}Execute(_){return new BigNumber(_[Object.keys(_)[0]])}ExtractSchema(){return IntToken.prim}generateSchema(){return{__michelsonType:IntToken.prim,schema:IntToken.prim}}validate(_){if(new BigNumber(_).isNaN())throw new IntValidationError(_,this,`Value is not a number: ${JSON.stringify(_)}`)}Encode(_){const $=_.pop();return this.validate($),{int:new BigNumber($).toFixed()}}EncodeObject(_,$){return this.validate(_),$&&$[IntToken.prim]?$[IntToken.prim](_):{int:new BigNumber(_).toFixed()}}ToBigMapKey(_){return{key:{int:String(_)},type:{prim:IntToken.prim}}}ToKey({int:_}){return _}compare(_,$){const j=Number(_),et=Number($);return j===et?0:j<et?-1:1}findAndReturnTokens(_,$){return IntToken.prim===_&&$.push(this),$}}IntToken.prim="int";class UnitToken extends ComparableToken{constructor(_,$,j){super(_,$,j),this.val=_,this.idx=$,this.fac=j}Encode(_){return _.pop(),{prim:"Unit"}}EncodeObject(_,$){return $&&$[UnitToken.prim]?$[UnitToken.prim](_):{prim:"Unit"}}Execute(_){return UnitValue}ExtractSchema(){return UnitToken.prim}generateSchema(){return{__michelsonType:UnitToken.prim,schema:UnitToken.prim}}compare(_,$){return 0}ToKey(_){return UnitValue}ToBigMapKey(_){return{key:{prim:"Unit"},type:{prim:UnitToken.prim}}}findAndReturnTokens(_,$){return UnitToken.prim===_&&$.push(this),$}}UnitToken.prim="unit";const publicKeyPrefixLength=4;class KeyValidationError extends TokenValidationError{constructor(_,$,j){super(_,$,j),this.value=_,this.token=$,this.name="KeyValidationError"}}class KeyToken extends ComparableToken{constructor(_,$,j){super(_,$,j),this.val=_,this.idx=$,this.fac=j}Execute(_){return _.string?_.string:encodeKey(_.bytes)}validate(_){if(validatePublicKey(_)!==ValidationResult.VALID)throw new KeyValidationError(_,this,"Key is not valid")}Encode(_){const $=_.pop();return this.validate($),{string:$}}EncodeObject(_,$){return this.validate(_),$&&$[KeyToken.prim]?$[KeyToken.prim](_):{string:_}}ExtractSchema(){return KeyToken.prim}generateSchema(){return{__michelsonType:KeyToken.prim,schema:KeyToken.prim}}ToKey(_){return this.Execute(_)}ToBigMapKey(_){return{key:{string:_},type:{prim:KeyToken.prim}}}compare(_,$){const j=this.getPrefix(_),et=this.getPrefix($);if(j===Prefix.EDPK&&et!==Prefix.EDPK)return-1;if(j===Prefix.SPPK&&et!==Prefix.SPPK)return et===Prefix.EDPK?1:-1;if(j===Prefix.P2PK){if(et!==Prefix.P2PK)return 1;const tt=this.getP256PublicKeyComparableBytes(_),rt=this.getP256PublicKeyComparableBytes($);return Buffer$g.compare(tt,rt)}return super.compare(_,$)}getPrefix(_){return _.substring(0,publicKeyPrefixLength)}getP256PublicKeyComparableBytes(_){return b58cdecode(_,prefix[Prefix.P2PK]).slice(1)}findAndReturnTokens(_,$){return KeyToken.prim===_&&$.push(this),$}}KeyToken.prim="key";class KeyHashValidationError extends TokenValidationError{constructor(_,$,j){super(_,$,j),this.value=_,this.token=$,this.name="KeyHashValidationError"}}class KeyHashToken extends ComparableToken{constructor(_,$,j){super(_,$,j),this.val=_,this.idx=$,this.fac=j}Execute(_){return _.string?_.string:encodeKeyHash(_.bytes)}validate(_){if(validateKeyHash(_)!==ValidationResult.VALID)throw new KeyHashValidationError(_,this,`KeyHash is not valid: ${JSON.stringify(_)}`)}Encode(_){const $=_.pop();return this.validate($),{string:$}}EncodeObject(_,$){return this.validate(_),$&&$[KeyHashToken.prim]?$[KeyHashToken.prim](_):{string:_}}ExtractSchema(){return KeyHashToken.prim}generateSchema(){return{__michelsonType:KeyHashToken.prim,schema:KeyHashToken.prim}}ToKey({string:_,bytes:$}){return _||encodeKeyHash($)}ToBigMapKey(_){return{key:{string:_},type:{prim:KeyHashToken.prim}}}findAndReturnTokens(_,$){return KeyHashToken.prim===_&&$.push(this),$}}KeyHashToken.prim="key_hash";class SignatureValidationError extends TokenValidationError{constructor(_,$,j){super(_,$,j),this.value=_,this.token=$,this.name="SignatureValidationError"}}class SignatureToken extends ComparableToken{constructor(_,$,j){super(_,$,j),this.val=_,this.idx=$,this.fac=j}Execute(_){return _.string?_.string:_.bytes}validate(_){if(validateSignature(_)!==ValidationResult.VALID)throw new SignatureValidationError(_,this,"Signature is not valid")}Encode(_){const $=_.pop();return this.validate($),{string:$}}EncodeObject(_,$){return this.validate(_),$&&$[SignatureToken.prim]?$[SignatureToken.prim](_):{string:_}}ExtractSchema(){return SignatureToken.prim}generateSchema(){return{__michelsonType:SignatureToken.prim,schema:SignatureToken.prim}}ToKey(_){return this.Execute(_)}ToBigMapKey(_){return{key:{string:_},type:{prim:SignatureToken.prim}}}findAndReturnTokens(_,$){return SignatureToken.prim===_&&$.push(this),$}}SignatureToken.prim="signature";class LambdaToken extends Token{constructor(_,$,j){super(_,$,j),this.val=_,this.idx=$,this.fac=j}get paramSchema(){return this.createToken(this.val.args[0],this.idx)}get returnSchema(){return this.createToken(this.val.args[1],this.idx+1)}Execute(_){return _.string?_.string:_}Encode(_){return _.pop()}EncodeObject(_,$){return $&&$[LambdaToken.prim]?$[LambdaToken.prim](_):_}ExtractSchema(){return{[LambdaToken.prim]:{parameters:this.paramSchema.ExtractSchema(),returns:this.returnSchema.ExtractSchema()}}}generateSchema(){return{__michelsonType:LambdaToken.prim,schema:{parameters:this.paramSchema.generateSchema(),returns:this.returnSchema.generateSchema()}}}findAndReturnTokens(_,$){return LambdaToken.prim===_&&$.push(this),this.createToken(this.val.args[0],this.idx).findAndReturnTokens(_,$),this.createToken(this.val.args[1],this.idx).findAndReturnTokens(_,$),$}}LambdaToken.prim="lambda";class OperationToken extends Token{constructor(_,$,j){super(_,$,j),this.val=_,this.idx=$,this.fac=j}Execute(_){return _.string}Encode(..._){return{string:_.pop()}}EncodeObject(_,$){return $&&$[OperationToken.prim]?$[OperationToken.prim](_):{string:_}}ExtractSchema(){return OperationToken.prim}generateSchema(){return{__michelsonType:OperationToken.prim,schema:OperationToken.prim}}findAndReturnTokens(_,$){return OperationToken.prim===_&&$.push(this),$}}OperationToken.prim="operation";class SetValidationError extends TokenValidationError{constructor(_,$,j){super(_,$,j),this.value=_,this.token=$,this.name="SetValidationError"}}class SetToken extends Token{constructor(_,$,j){super(_,$,j),this.val=_,this.idx=$,this.fac=j}get KeySchema(){return this.createToken(this.val.args[0],0)}validate(_){if(!Array.isArray(_))throw new SetValidationError(_,this,`Value ${JSON.stringify(_)} is not an array`)}Encode(_){const $=_.pop();return this.validate($),$.sort((j,et)=>this.KeySchema.compare(j,et)).reduce((j,et)=>[...j,this.KeySchema.EncodeObject(et)],[])}Execute(_,$){return _.reduce((j,et)=>[...j,this.KeySchema.Execute(et,$)],[])}EncodeObject(_,$){return this.validate(_),$&&$[SetToken.prim]?$[SetToken.prim](_):_.sort((j,et)=>this.KeySchema.compare(j,et)).reduce((j,et)=>[...j,this.KeySchema.EncodeObject(et)],[])}ExtractSchema(){return SetToken.prim}generateSchema(){return{__michelsonType:SetToken.prim,schema:this.KeySchema.generateSchema()}}findAndReturnTokens(_,$){return SetToken.prim===_&&$.push(this),this.KeySchema.findAndReturnTokens(_,$),$}}SetToken.prim="set";class ChainIDValidationError extends TokenValidationError{constructor(_,$,j){super(_,$,j),this.value=_,this.token=$,this.name="ChainIDValidationError"}}class ChainIDToken extends ComparableToken{constructor(_,$,j){super(_,$,j),this.val=_,this.idx=$,this.fac=j}validate(_){if(validateChain(_)!==ValidationResult.VALID)throw new ChainIDValidationError(_,this,`Value ${JSON.stringify(_)} is not a valid ChainID`)}Execute(_){return _[Object.keys(_)[0]]}ExtractSchema(){return ChainIDToken.prim}generateSchema(){return{__michelsonType:ChainIDToken.prim,schema:ChainIDToken.prim}}Encode(_){const $=_.pop();return this.validate($),{string:$}}EncodeObject(_,$){return this.validate(_),$&&$[ChainIDToken.prim]?$[ChainIDToken.prim](_):{string:_}}ToKey({string:_}){return _}ToBigMapKey(_){return{key:{string:_},type:{prim:ChainIDToken.prim}}}findAndReturnTokens(_,$){return ChainIDToken.prim===_&&$.push(this),$}}ChainIDToken.prim="chain_id";class EncodeTicketError extends TaquitoError{constructor(){super(),this.name="TicketEncodeError",this.message="Tickets cannot be sent to the blockchain; they are created on-chain"}}const ticketerType$1={prim:"contract"},amountType$1={prim:"int"};class TicketToken extends Token{constructor(_,$,j){super(_,$,j),this.val=_,this.idx=$,this.fac=j}get valueToken(){return this.createToken(this.val.args[0],this.idx)}Encode(_){throw new EncodeTicketError}EncodeObject(_,$){if($&&$[TicketToken.prim])return $[TicketToken.prim](_,this.val);throw new EncodeTicketError}Execute(_,$){if($&&$[TicketToken.prim])return $[TicketToken.prim](_,this.val);const j=this.createToken(ticketerType$1,this.idx),et=this.valueToken,tt=this.createToken(amountType$1,this.idx);return _.args[2]===void 0&&_.args[1].args!==void 0?{ticketer:j.Execute(_.args[0],$),value:et.Execute(_.args[1].args[0],$),amount:tt.Execute(_.args[1].args[1],$)}:{ticketer:j.Execute(_.args[0],$),value:et.Execute(_.args[1],$),amount:tt.Execute(_.args[2],$)}}ExtractSchema(){return{ticketer:ContractToken.prim,value:this.valueToken.ExtractSchema(),amount:IntToken.prim}}generateSchema(){return{__michelsonType:TicketToken.prim,schema:{value:this.valueToken.generateSchema(),ticketer:{__michelsonType:ContractToken.prim,schema:ContractToken.prim},amount:{__michelsonType:IntToken.prim,schema:IntToken.prim}}}}findAndReturnTokens(_,$){return TicketToken.prim===_&&$.push(this),this.valueToken.findAndReturnTokens(_,$),$}}TicketToken.prim="ticket";class EncodeTicketDeprecatedError extends TaquitoError{constructor(){super(),this.name="TicketDeprecatedEncodeError",this.message="Ticket_deprecated cannot be sent to the blockchain; they are created on-chain"}}const ticketerType={prim:"contract"},amountType={prim:"int"};class TicketDeprecatedToken extends Token{constructor(_,$,j){super(_,$,j),this.val=_,this.idx=$,this.fac=j}get valueToken(){return this.createToken(this.val.args[0],this.idx)}Encode(_){throw new EncodeTicketDeprecatedError}EncodeObject(_,$){if($&&$[TicketDeprecatedToken.prim])return $[TicketDeprecatedToken.prim](_,this.val);throw new EncodeTicketDeprecatedError}Execute(_,$){if($&&$[TicketDeprecatedToken.prim])return $[TicketDeprecatedToken.prim](_,this.val);const j=this.createToken(ticketerType,this.idx),et=this.valueToken,tt=this.createToken(amountType,this.idx);return _.args[2]===void 0&&_.args[1].args!==void 0?{ticketer:j.Execute(_.args[0],$),value:et.Execute(_.args[1].args[0],$),amount:tt.Execute(_.args[1].args[1],$)}:{ticketer:j.Execute(_.args[0],$),value:et.Execute(_.args[1],$),amount:tt.Execute(_.args[2],$)}}ExtractSchema(){return{ticketer:ContractToken.prim,value:this.valueToken.ExtractSchema(),amount:IntToken.prim}}generateSchema(){return{__michelsonType:TicketDeprecatedToken.prim,schema:{value:this.valueToken.generateSchema(),ticketer:{__michelsonType:ContractToken.prim,schema:ContractToken.prim},amount:{__michelsonType:IntToken.prim,schema:IntToken.prim}}}}findAndReturnTokens(_,$){return TicketDeprecatedToken.prim===_&&$.push(this),this.valueToken.findAndReturnTokens(_,$),$}}TicketDeprecatedToken.prim="ticket_deprecated";class NeverTokenError extends TokenValidationError{constructor(_,$,j){super(_,$,j),this.value=_,this.token=$,this.name="NeverTokenError"}}class NeverToken extends Token{constructor(_,$,j){super(_,$,j),this.val=_,this.idx=$,this.fac=j}Encode(_){const $=_.pop();throw new NeverTokenError($,this,`Assigning a value to the type never is forbidden. Trying to assign ${JSON.stringify($)}.`)}EncodeObject(_,$){if($&&$[NeverToken.prim])return $[NeverToken.prim](_);throw new NeverTokenError(_,this,`Assigning a value to the type never is forbidden. Trying to assign ${JSON.stringify(_)}.`)}Execute(_){throw new NeverTokenError(_,this,`There is no literal value for the type never. Trying to execute ${JSON.stringify(_)}.`)}ExtractSchema(){return NeverToken.prim}generateSchema(){return{__michelsonType:NeverToken.prim,schema:NeverToken.prim}}findAndReturnTokens(_,$){return NeverToken.prim===_&&$.push(this),$}}NeverToken.prim="never";class SaplingStateValidationError extends TokenValidationError{constructor(_,$,j){super(_,$,j),this.value=_,this.token=$,this.name="SaplingStateValidationError"}}class SaplingStateToken extends Token{constructor(_,$,j){super(_,$,j),this.val=_,this.idx=$,this.fac=j}isValid(_){return typeof _=="object"&&Object.keys(_).length===0}Execute(_,$){if($&&$[SaplingStateToken.prim])return $[SaplingStateToken.prim](_,this.val);if("int"in _)return _.int;throw new SaplingStateValidationError(_,this,`Sapling state is expecting an object with an int property. Got ${JSON.stringify(_)}`)}Encode(_){const $=_.pop();if(this.isValid($))return[];throw new SaplingStateValidationError($,this,`Invalid sapling_state. Received: ${JSON.stringify($)} while expecting: {}`)}EncodeObject(_,$){if($&&$[SaplingStateToken.prim])return $[SaplingStateToken.prim](_);if(this.isValid(_))return[];throw new SaplingStateValidationError(_,this,`Invalid sapling_state. Received: ${JSON.stringify(_)} while expecting: {}`)}ExtractSchema(){return{[SaplingStateToken.prim]:{"memo-size":Number(this.val.args[0].int)}}}generateSchema(){return{__michelsonType:SaplingStateToken.prim,schema:{memoSize:this.val.args[0].int}}}findAndReturnTokens(_,$){return SaplingStateToken.prim===_&&$.push(this),$}}SaplingStateToken.prim="sapling_state";class SaplingTransactionValidationError extends TokenValidationError{constructor(_,$,j){super(_,$,j),this.value=_,this.token=$,this.name="SaplingTransactionValidationError"}}class SaplingTransactionToken extends Token{constructor(_,$,j){super(_,$,j),this.val=_,this.idx=$,this.fac=j}Execute(_){throw new SaplingTransactionValidationError(_,this,`There is no literal value for the sapling_transaction type. Got: ${JSON.stringify(_)}.`)}validateBytes(_){const $=/^(0x|0X)?([0-9a-fA-F]*$)/.exec(_);if($&&$[2].length%2===0)return $[2];throw new SaplingTransactionValidationError(_,this,`Invalid bytes: ${JSON.stringify(_)}`)}convertUint8ArrayToHexString(_){return _.constructor===Uint8Array?Buffer$g.from(_).toString("hex"):_}Encode(_){let $=_.pop();return $=this.validateBytes(this.convertUint8ArrayToHexString($)),{bytes:String($).toString()}}EncodeObject(_,$){return _=this.validateBytes(this.convertUint8ArrayToHexString(_)),$&&$[SaplingTransactionToken.prim]?$[SaplingTransactionToken.prim](_):{bytes:String(_).toString()}}ExtractSchema(){return{[SaplingTransactionToken.prim]:{"memo-size":Number(this.val.args[0].int)}}}generateSchema(){return{__michelsonType:SaplingTransactionToken.prim,schema:{memoSize:this.val.args[0].int}}}findAndReturnTokens(_,$){return SaplingTransactionToken.prim===_&&$.push(this),$}}SaplingTransactionToken.prim="sapling_transaction";class SaplingTransactionDeprecatedValidationError extends TokenValidationError{constructor(_,$,j){super(_,$,j),this.value=_,this.token=$,this.name="SaplingTransactionDeprecatedValidationError"}}class SaplingTransactionDeprecatedToken extends Token{constructor(_,$,j){super(_,$,j),this.val=_,this.idx=$,this.fac=j}Execute(_){throw new SaplingTransactionDeprecatedValidationError(_,this,`There is no literal value for the sapling_transaction_deprecated type. Got: ${JSON.stringify(_)}.`)}validateBytes(_){const $=/^(0x|0X)?([0-9a-fA-F]*$)/.exec(_);if($&&$[2].length%2===0)return $[2];throw new SaplingTransactionDeprecatedValidationError(_,this,`Invalid bytes: ${JSON.stringify(_)}`)}convertUint8ArrayToHexString(_){return _.constructor===Uint8Array?Buffer$g.from(_).toString("hex"):_}Encode(_){let $=_.pop();return $=this.validateBytes(this.convertUint8ArrayToHexString($)),{bytes:String($).toString()}}EncodeObject(_,$){return _=this.validateBytes(this.convertUint8ArrayToHexString(_)),$&&$[SaplingTransactionDeprecatedToken.prim]?$[SaplingTransactionDeprecatedToken.prim](_):{bytes:String(_).toString()}}ExtractSchema(){return{[SaplingTransactionDeprecatedToken.prim]:{"memo-size":Number(this.val.args[0].int)}}}generateSchema(){return{__michelsonType:SaplingTransactionDeprecatedToken.prim,schema:{memoSize:this.val.args[0].int}}}findAndReturnTokens(_,$){return SaplingTransactionDeprecatedToken.prim===_&&$.push(this),$}}SaplingTransactionDeprecatedToken.prim="sapling_transaction_deprecated";class Bls12381frValidationError extends TokenValidationError{constructor(_,$,j){super(_,$,j),this.value=_,this.token=$,this.name="Bls12381frValidationError"}}class Bls12381frToken extends Token{constructor(_,$,j){super(_,$,j),this.val=_,this.idx=$,this.fac=j}validate(_){if(!(/^[0-9a-fA-F]*$/.test(_)&&_.length%2===0))throw new Bls12381frValidationError(_,this,`Invalid bytes: ${JSON.stringify(_)}`)}convertUint8ArrayToHexString(_){return _.constructor===Uint8Array?Buffer$g.from(_).toString("hex"):_}Encode(_){let $=_.pop();return typeof $=="number"?{int:$.toString()}:($=this.convertUint8ArrayToHexString($),this.validate($),{bytes:$})}EncodeObject(_,$){return $&&$[Bls12381frToken.prim]?$[Bls12381frToken.prim](_):typeof _=="number"?{int:_.toString()}:(_=this.convertUint8ArrayToHexString(_),this.validate(_),{bytes:_})}Execute(_){return _.bytes}ExtractSchema(){return Bls12381frToken.prim}generateSchema(){return{__michelsonType:Bls12381frToken.prim,schema:Bls12381frToken.prim}}findAndReturnTokens(_,$){return Bls12381frToken.prim===_&&$.push(this),$}}Bls12381frToken.prim="bls12_381_fr";class Bls12381g1ValidationError extends TokenValidationError{constructor(_,$,j){super(_,$,j),this.value=_,this.token=$,this.name="Bls12381g1ValidationError"}}class Bls12381g1Token extends Token{constructor(_,$,j){super(_,$,j),this.val=_,this.idx=$,this.fac=j}validate(_){if(!(/^[0-9a-fA-F]*$/.test(_)&&_.length%2===0))throw new Bls12381g1ValidationError(_,this,`Invalid bytes: ${JSON.stringify(_)}`)}convertUint8ArrayToHexString(_){return _.constructor===Uint8Array?Buffer$g.from(_).toString("hex"):_}Encode(_){let $=_.pop();return $=this.convertUint8ArrayToHexString($),this.validate($),{bytes:$}}EncodeObject(_,$){return _=this.convertUint8ArrayToHexString(_),this.validate(_),$&&$[Bls12381g1Token.prim]?$[Bls12381g1Token.prim](_):{bytes:_}}Execute(_){return _.bytes}ExtractSchema(){return Bls12381g1Token.prim}generateSchema(){return{__michelsonType:Bls12381g1Token.prim,schema:Bls12381g1Token.prim}}findAndReturnTokens(_,$){return Bls12381g1Token.prim===_&&$.push(this),$}}Bls12381g1Token.prim="bls12_381_g1";class Bls12381g2ValidationError extends TokenValidationError{constructor(_,$,j){super(_,$,j),this.value=_,this.token=$,this.name="Bls12381g2ValidationError"}}class Bls12381g2Token extends Token{constructor(_,$,j){super(_,$,j),this.val=_,this.idx=$,this.fac=j}validate(_){if(!(/^[0-9a-fA-F]*$/.test(_)&&_.length%2===0))throw new Bls12381g2ValidationError(_,this,`Invalid bytes: ${JSON.stringify(_)}`)}convertUint8ArrayToHexString(_){return _.constructor===Uint8Array?Buffer$g.from(_).toString("hex"):_}Encode(_){let $=_.pop();return $=this.convertUint8ArrayToHexString($),this.validate($),{bytes:$}}EncodeObject(_,$){return _=this.convertUint8ArrayToHexString(_),this.validate(_),$&&$[Bls12381g2Token.prim]?$[Bls12381g2Token.prim](_):{bytes:_}}Execute(_){return _.bytes}ExtractSchema(){return Bls12381g2Token.prim}generateSchema(){return{__michelsonType:Bls12381g2Token.prim,schema:Bls12381g2Token.prim}}findAndReturnTokens(_,$){return Bls12381g2Token.prim===_&&$.push(this),$}}Bls12381g2Token.prim="bls12_381_g2";class ChestValidationError extends TokenValidationError{constructor(_,$,j){super(_,$,j),this.value=_,this.token=$,this.name="ChestValidationError"}}class ChestToken extends Token{constructor(_,$,j){super(_,$,j),this.val=_,this.idx=$,this.fac=j}validate(_){if(!(/^[0-9a-fA-F]*$/.test(_)&&_.length%2==0))throw new ChestValidationError(_,this,`Invalid bytes: ${JSON.stringify(_)}`)}convertUint8ArrayToHexString(_){return _.constructor===Uint8Array?Buffer$g.from(_).toString("hex"):_}Encode(_){let $=_.pop();return $=this.convertUint8ArrayToHexString($),this.validate($),{bytes:$}}EncodeObject(_,$){return _=this.convertUint8ArrayToHexString(_),this.validate(_),$&&$[ChestToken.prim]?$[ChestToken.prim](_):{bytes:_}}Execute(_){return _.bytes}ExtractSchema(){return ChestToken.prim}generateSchema(){return{__michelsonType:ChestToken.prim,schema:ChestToken.prim}}findAndReturnTokens(_,$){return ChestToken.prim===_&&$.push(this),$}}ChestToken.prim="chest";class ChestKeyValidationError extends TokenValidationError{constructor(_,$,j){super(_,$,j),this.value=_,this.token=$,this.name="ChestKeyValidationError"}}class ChestKeyToken extends Token{constructor(_,$,j){super(_,$,j),this.val=_,this.idx=$,this.fac=j}validate(_){if(!(/^[0-9a-fA-F]*$/.test(_)&&_.length%2===0))throw new ChestKeyValidationError(_,this,`Invalid bytes: ${JSON.stringify(_)}`)}convertUint8ArrayToHexString(_){return _.constructor===Uint8Array?Buffer$g.from(_).toString("hex"):_}Encode(_){let $=_.pop();return $=this.convertUint8ArrayToHexString($),this.validate($),{bytes:$}}EncodeObject(_,$){return _=this.convertUint8ArrayToHexString(_),this.validate(_),$&&$[ChestKeyToken.prim]?$[ChestKeyToken.prim](_):{bytes:_}}Execute(_){return _.bytes}ExtractSchema(){return ChestKeyToken.prim}generateSchema(){return{__michelsonType:ChestKeyToken.prim,schema:ChestKeyToken.prim}}findAndReturnTokens(_,$){return ChestKeyToken.prim===_&&$.push(this),$}}ChestKeyToken.prim="chest_key";class GlobalConstantEncodingError extends TokenValidationError{constructor(_,$,j){super(_,$,j),this.value=_,this.token=$,this.name="GlobalConstantEncodingError"}}class GlobalConstantDecodingError extends TokenValidationError{constructor(_,$,j){super(_,$,j),this.value=_,this.token=$,this.name="GlobalConstantDecodingError"}}class GlobalConstantToken extends Token{constructor(_,$,j){super(_,$,j),this.val=_,this.idx=$,this.fac=j}Execute(_,$){if($&&$[GlobalConstantToken.prim])return $[GlobalConstantToken.prim](_,this.val);throw new GlobalConstantDecodingError(_,this,`Unable to decode a value represented by a global constants. Please provide an expanded script to the Michelson-Encoder or semantics for the decoding. The following global constant hash was encountered: ${this.val.args[0].string}.`)}Encode(_){throw new GlobalConstantEncodingError(_,this,`Unable to encode a script containing global constants. Please provide an expanded script to the Michelson-Encoder. The following global constant hash was encountered: ${this.val.args[0].string}.`)}EncodeObject(_,$){if($&&$[GlobalConstantToken.prim])return $[GlobalConstantToken.prim](_);throw new GlobalConstantEncodingError(_,this,`Unable to encode a script containing global constants. Please provide an expanded script to the Michelson-Encoder. The following global constant hash was encountered: ${this.val.args[0].string}.`)}ExtractSchema(){return GlobalConstantToken.prim}generateSchema(){return{__michelsonType:GlobalConstantToken.prim,schema:{hash:this.val.args[0].string}}}findAndReturnTokens(_,$){return GlobalConstantToken.prim===_&&$.push(this),$}}GlobalConstantToken.prim="constant";const tokens=[PairToken,NatToken,StringToken,BigMapToken,AddressToken,MapToken,BoolToken,OrToken,ContractToken,ListToken,MutezToken,BytesToken,OptionToken,TimestampToken,IntToken,UnitToken,KeyToken,KeyHashToken,SignatureToken,LambdaToken,OperationToken,SetToken,ChainIDToken,TicketToken,TicketDeprecatedToken,NeverToken,SaplingStateToken,SaplingTransactionToken,SaplingTransactionDeprecatedToken,Bls12381frToken,Bls12381g1Token,Bls12381g2Token,ChestToken,ChestKeyToken,GlobalConstantToken];class InvalidTokenError extends TaquitoError{constructor(_,$){super(_),this.message=_,this.data=$,this.name="Invalid token error"}}function createToken(a,_){if(Array.isArray(a))return new PairToken(a,_,createToken);const $=tokens.find(j=>j.prim===a.prim);if(!$)throw new InvalidTokenError(`Malformed data: ${JSON.stringify(a)}. Expected a value with a valid prim property`,a);return new $(a,_,createToken)}class ParameterEncodingError extends InvalidViewParameterError{constructor(_,$,j,et){super(_,$,j,et),this.viewName=_,this.sigs=$,this.args=j,this.cause=et,this.name="ParameterEncodingError",this.message=`Could not encode parameter ${JSON.stringify(j)} received for name "${_}" expecting one of the following signatures ${JSON.stringify($)}`}}class InvalidScriptError extends TaquitoError{constructor(_,$){super(),this.script=_,this.reason=$,this.name="InvalidScriptError";let j="Invalid on-chain view found in the following script.";$&&(j+=` Reason: ${$}.`),j+=`Script: ${JSON.stringify(_)}`,this.message=j}}class InvalidRpcResponseError extends TaquitoError{constructor(_,$){super(),this.script=_,this.reason=$,this.name="InvalidRpcResponseError";let j="Invalid RPC response passed as argument(s).";$&&(j+=` Reason: ${$}.`),j+=` Received: ${JSON.stringify(_)}`,this.message=j}}class InvalidBigMapSchemaError extends TaquitoError{constructor(_){super(_),this.message=_,this.name="InvalidBigMapSchemaError"}}class InvalidBigMapDiffError extends TaquitoError{constructor(_,$){super(_),this.message=_,this.value=$,this.name="InvalidBigMapDiffError"}}class BigMapEncodingError extends TaquitoError{constructor(_,$,j,et){super(),this.details=$,this.schema=j,this.value=et,this.name="BigMapEncodingError",this.message=`Unable to encode the big map ${_}. Schema is: ${JSON.stringify(j)}. The ${_} is: ${JSON.stringify(et)}. Error details: ${$}`}}class StorageEncodingError extends TaquitoError{constructor(_,$,j,et,tt){super(),this.details=$,this.schema=j,this.value=et,this.semantics=tt,this.name="StorageEncodingError",this.message=`Unable to encode ${_}. The schema is: ${JSON.stringify(j)}, the value is: ${JSON.stringify(et)}.${tt?`And the semantic is: ${JSON.stringify(tt)}`:""}. Error details: ${$}`}}class MissingArgumentError extends TaquitoError{constructor(_){super(_),this.message=_,this.name="MissingArgumentError"}}var _a;const schemaTypeSymbol=Symbol.for("taquito-schema-type-symbol");function collapse(a,_=PairToken.prim){var $,j;if(Array.isArray(a))return collapse({prim:_,args:a},_);const et=a;return et.prim===_&&et.args&&et.args.length>2?Object.assign(Object.assign({},et),{args:[($=et.args)===null||$===void 0?void 0:$[0],{prim:_,args:(j=et.args)===null||j===void 0?void 0:j.slice(1)}]}):et}function deepEqual(a,_){if(a===void 0||_===void 0)return a===_;const $=collapse(a),j=collapse(_);return $.prim===j.prim&&($.args===void 0&&j.args===void 0||$.args!==void 0&&j.args!==void 0&&$.args.length===j.args.length&&$.args.every((et,tt)=>{var rt,nt;return deepEqual(et,(nt=(rt=j.args)===null||rt===void 0?void 0:rt[tt])!==null&&nt!==void 0?nt:{})}))&&($.annots===void 0&&j.annots===void 0||$.annots!==void 0&&j.annots!==void 0&&$.annots.length===j.annots.length&&$.annots.every((et,tt)=>{var rt;return et===((rt=j.annots)===null||rt===void 0?void 0:rt[tt])}))}class Schema{static isSchema(_){return _&&_[schemaTypeSymbol]===!0}static fromRPCResponse(_){if(!_)throw new InvalidRpcResponseError(_,"the RPC response is empty");if(!_.script)throw new InvalidRpcResponseError(_,"the RPC response has no script");if(!Array.isArray(_.script.code))throw new InvalidRpcResponseError(_,"The response.script.code should be an array");let $=_.script.code;for(;$.length===1&&Array.isArray($[0]);)$=$[0];const j=$.find(et=>"prim"in et&&et.prim==="storage");if(!j||!Array.isArray(j.args))throw new InvalidRpcResponseError(_,'The response.script.code has an element of type {prim: "storage"}, but its args is not an array');return new Schema(j.args[0])}isExpressionExtended(_){return"prim"in _&&Array.isArray(_.args)}constructor(_){if(this.val=_,this[_a]=!0,this.root=createToken(_,0),this.root instanceof BigMapToken)this.bigMap=this.root;else if(this.isExpressionExtended(_)&&_.prim==="pair"){const $=_.args[0];this.isExpressionExtended($)&&$.prim==="big_map"&&(this.bigMap=new BigMapToken($,0,createToken))}}removeTopLevelAnnotation(_){return(this.root instanceof PairToken||this.root instanceof OrToken)&&this.root.hasAnnotations()&&typeof _=="object"&&Object.keys(_).length===1?_[Object.keys(_)[0]]:_}Execute(_,$){const j=this.root.Execute(_,$);return this.removeTopLevelAnnotation(j)}Typecheck(_){this.root instanceof BigMapToken&&Number.isInteger(Number(_))||this.root instanceof TicketToken&&_.ticketer&&_.value&&_.amount||this.root instanceof TicketDeprecatedToken&&_.ticketer&&_.value&&_.amount||this.root instanceof MapToken&&this.root.ValueSchema instanceof BigMapToken||this.root.EncodeObject(_)}ExecuteOnBigMapDiff(_,$){if(!this.bigMap)throw new InvalidBigMapSchemaError("Big map schema is undefined");if(!Array.isArray(_))throw new InvalidBigMapDiffError(`Big map diff must be an array, got: ${JSON.stringify(_)}`,_);const j=_.map(({key:et,value:tt})=>({args:[et,tt]}));return this.bigMap.Execute(j,$)}ExecuteOnBigMapValue(_,$){if(!this.bigMap)throw new InvalidBigMapSchemaError("Big map schema is undefined");return this.bigMap.ValueSchema.Execute(_,$)}EncodeBigMapKey(_){if(!this.bigMap)throw new InvalidBigMapSchemaError("Big map schema is undefined");try{return this.bigMap.KeySchema.ToBigMapKey(_)}catch($){throw new BigMapEncodingError("key",$,this.bigMap.KeySchema,_)}}Encode(_,$){try{return this.root.EncodeObject(_,$)}catch(j){throw j instanceof TokenValidationError?j:new StorageEncodingError("storage object",j,this.root,_,$)}}ExtractSchema(){return this.removeTopLevelAnnotation(this.root.ExtractSchema())}generateSchema(){return this.removeTopLevelAnnotation(this.root.generateSchema())}ComputeState(_,$){if(!this.bigMap)throw new InvalidBigMapSchemaError("Big map schema is undefined");const j=_.reduce((et,tt)=>Object.assign(Object.assign({},et),this.ExecuteOnBigMapDiff(tt.contents[0].metadata.operation_result.big_map_diff)),{});return Object.assign(Object.assign({},this.Execute($)),{[this.bigMap.annot()]:j})}FindFirstInTopLevelPair(_,$){return this.findValue(this.root.val,_,$)}findValue(_,$,j){if(deepEqual(j,_))return $;if(Array.isArray(_)||_.prim==="pair"){const et=collapse(_),tt=collapse($,"Pair");if(et.args===void 0||tt.args===void 0)throw new MissingArgumentError("Tokens have no arguments");if(et.args[0])return this.findValue(et.args[0],tt.args[0],j)||this.findValue(et.args[1],tt.args[1],j)}}findToken(_){const $=[];return this.root.findAndReturnTokens(_,$)}}_a=schemaTypeSymbol;class ParameterSchema{static fromRPCResponse(_){if(!_)throw new InvalidRpcResponseError(_,"the RPC response is empty");if(!_.script)throw new InvalidRpcResponseError(_,"the RPC response has no script");if(!Array.isArray(_.script.code))throw new InvalidRpcResponseError(_,"The response.script.code should be an array");const $=_.script.code.find(j=>"prim"in j&&j.prim==="parameter");if(!$)throw new InvalidRpcResponseError(_,'The response.script.code should have an element of type {prim: "parameter"}');if(!Array.isArray($.args))throw new InvalidRpcResponseError(_,'The response.script.code has an element of type {prim: "parameter"}, but its args is not an array');return new ParameterSchema($.args[0])}get isMultipleEntryPoint(){return this.root instanceof OrToken||this.root instanceof OptionToken&&this.root.subToken()instanceof OrToken}get hasAnnotation(){return this.isMultipleEntryPoint?Object.keys(this.ExtractSchema())[0]!=="0":!0}constructor(_){this.root=createToken(_,0)}Execute(_,$){return this.root.Execute(_,$)}Encode(..._){try{return this.root.Encode(_.reverse())}catch($){throw $ instanceof TokenValidationError?$:new ParameterEncodingError("Unable to encode parameter",this.root,_,$)}}EncodeObject(_,$){try{return this.root.EncodeObject(_,$)}catch(j){throw j instanceof TokenValidationError?j:new ParameterEncodingError("Unable to encode parameter object",this.root,_,j)}}ExtractSchema(){return this.root.ExtractSchema()}generateSchema(){return this.root.generateSchema()}ExtractSignatures(){return this.root.ExtractSignature()}}class ViewSchema{static fromRPCResponse(_){const $=[],j=_&&_.script&&Array.isArray(_.script.code)&&_.script.code.filter(et=>et.prim==="view");return j&&j.forEach(et=>{$.push(new ViewSchema(et.args))}),$}constructor(_){if(!_)throw new InvalidScriptError(_,"the args are not defined");if(_.length!==4)throw new InvalidScriptError(_,"there should be exactly 4 arguments");if(!("string"in _[0])||!_[0].string)throw new InvalidScriptError(_,"The first argument should be a string, representing the view name. It should be in the form: { string: 'viewName' }");this.viewName=_[0].string,this.viewArgsType=_[1],this.viewReturnType=_[2],this.instructions=_[3],this.rootArgsType=createToken(this.viewArgsType,0),this.rootReturnType=createToken(this.viewReturnType,0)}encodeViewArgs(_){try{return this.rootArgsType.EncodeObject(_)}catch($){throw new ParameterEncodingError(this.viewName,void 0,_,$)}}decodeViewResult(_,$){return this.rootReturnType.Execute(_,$)}extractArgsSchema(){return this.rootArgsType.ExtractSchema()}extractResultSchema(){return this.rootReturnType.ExtractSchema()}}class EventSchema{constructor(_,$){this.tag=_,this.type=$}static fromMichelineValue(_){var $,j;return new EventSchema(($=_.annots)===null||$===void 0?void 0:$[0],(j=_.args)===null||j===void 0?void 0:j[0])}static fromRPCResponse(_){const $=[];return _.script.code.forEach(j=>{!("prim"in j)||j.prim!=="code"||!("args"in j)||!j.args||$.push(...EventSchema.extractEventsRecursively(j.args))}),EventSchema.removeDuplicates($)}static removeDuplicates(_){const $=[];return _.forEach(j=>{$.findIndex(tt=>tt.tag===j.tag&&deepEqual(tt.type,j.type))===-1&&$.push(j)}),$}static extractEventsRecursively(_){return Array.isArray(_)?_.flatMap($=>EventSchema.extractEventsRecursively($)):"prim"in _?_.prim==="EMIT"?[EventSchema.fromMichelineValue(_)]:!("args"in _)||!_.args?[]:_.args.flatMap($=>EventSchema.extractEventsRecursively($)):[]}}const UnitValue=Symbol(),sourceReference=Symbol("source_reference");class ScanError extends TaquitoError{constructor(_,$,j){super(),this.src=_,this.idx=$,this.message=j,this.name="ScanError"}}var Literal;(function(a){a[a.Comment=0]="Comment",a[a.Number=1]="Number",a[a.String=2]="String",a[a.Bytes=3]="Bytes",a[a.Ident=4]="Ident"})(Literal||(Literal={}));const isSpace=new RegExp("\\s"),isIdentStart=new RegExp("[:@%_A-Za-z]"),isIdent=new RegExp("[@%_\\.A-Za-z0-9]"),isDigit=new RegExp("[0-9]"),isHex=new RegExp("[0-9a-fA-F]");function*scan(a,_=!1){let $=0;for(;$<a.length;){for(;$<a.length&&isSpace.test(a[$]);)$++;if($===a.length)return;const j=a[$],et=$;if(isIdentStart.test(j)){for($++;$<a.length&&isIdent.test(a[$]);)$++;yield{t:Literal.Ident,v:a.slice(et,$),first:et,last:$}}else if(a.length-$>1&&a.substring($,$+2)==="0x"){for($+=2;$<a.length&&isHex.test(a[$]);)$++;if($-et&1)throw new ScanError(a,$,"Bytes literal length is expected to be power of two");yield{t:Literal.Bytes,v:a.slice(et,$),first:et,last:$}}else if(isDigit.test(j)||j==="-"){j==="-"&&$++;const tt=$;for(;$<a.length&&isDigit.test(a[$]);)$++;if(tt===$)throw new ScanError(a,$,"Number literal is too short");yield{t:Literal.Number,v:a.slice(et,$),first:et,last:$}}else if(j==='"'){$++;let tt=!1;for(;$<a.length&&(tt||a[$]!=='"');$++)!tt&&a[$]==="\\"?tt=!0:tt=!1;if($===a.length)throw new ScanError(a,$,"Unterminated string literal");$++,yield{t:Literal.String,v:a.slice(et,$),first:et,last:$}}else if(j==="#"){for($++;$<a.length&&a[$]!==`
`;)$++;_&&(yield{t:Literal.Comment,v:a.slice(et,$),first:et,last:$})}else if(a.length-$>1&&a.substring($,$+2)==="/*"){for($+=2;$<a.length&&!(a.length-$>1&&a.substring($,$+2)==="*/");)$++;if($===a.length)throw new ScanError(a,$,"Unterminated C style comment");$+=2,_&&(yield{t:Literal.Comment,v:a.slice(et,$),first:et,last:$})}else if(j==="("||j===")"||j==="{"||j==="}"||j===";")$++,yield{t:j,v:j,first:et,last:$};else throw new ScanError(a,$,`Invalid character at offset ${$}: \`${j}'`)}}const refContract=Symbol("ref_contract");var Protocol;(function(a){a.Ps9mPmXa="Ps9mPmXaRzmzk35gbAYNCAw6UXdE2qoABTHbN2oEEc1qM7CwT9P",a.PtCJ7pwo="PtCJ7pwoxe8JasnHY8YonnLYjcVHmhiARPJvqcC6VfHT5s8k8sY",a.PsYLVpVv="PsYLVpVvgbLhAhoqAkMFUo6gudkJ9weNXhUYCiLDzcUpFpkk8Wt",a.PsddFKi3="PsddFKi32cMJ2qPjf43Qv5GDWLDPZb3T3bF6fLKiF5HtvHNU7aP",a.Pt24m4xi="Pt24m4xiPbLDhVgVfABUjirbmda3yohdN82Sp9FeuAXJ4eV9otd",a.PsBABY5H="PsBABY5HQTSkA4297zNHfsZNKtxULfL18y95qb3m53QJiXGmrbU",a.PsBabyM1="PsBabyM1eUXZseaJdmXFApDSBqj8YBfwELoxZHHW77EMcAbbwAS",a.PsCARTHA="PsCARTHAGazKbHtnKfLzQg3kms52kSRpgnDY982a9oYsSXRLQEb",a.PsDELPH1="PsDELPH1Kxsxt8f9eWbxQeRxkjfbxoqM52jvs5Y5fBxWWh4ifpo",a.PtEdoTez="PtEdoTezd3RHSC31mpxxo1npxFjoWWcFgQtxapi51Z8TLu6v6Uq",a.PtEdo2Zk="PtEdo2ZkT9oKpimTah6x2embF25oss54njMuPzkJTEi5RqfdZFA",a.PsFLorena="PsFLorenaUUuikDWvMDr6fGBRG8kt3e3D3fHoXK1j1BFRxeSH4i",a.PtGRANADs="PtGRANADsDU8R9daYKAgWnQYAJ64omN1o3KMGVCykShA97vQbvV",a.PtHangzH="PtHangzHogokSuiMHemCuowEavgYTP8J5qQ9fQS793MHYFpCY3r",a.PtHangz2="PtHangz2aRngywmSRGGvrcTyMbbdpWdpFKuS4uMWxg2RaH9i1qx",a.PsiThaCa="PsiThaCaT47Zboaw71QWScM8sXeMM7bbQFncK9FLqYc6EKdpjVP",a.Psithaca2="Psithaca2MLRFYargivpo7YvUr7wUDqyxrdhC5CQq78mRvimz6A",a.PtJakarta="PtJakartaiDz69SfDDLXJSiuZqTSeSKRDbKVZC8MNzJnvRjvnGw",a.PtJakart2="PtJakart2xVj7pYXJBXrqHgd82rdkLey5ZeeGwDgPp9rhQUbSqY",a.PtKathman="PtKathmankSpLLDALzWw7CGD2j2MtyveTwboEYokqUCP4a1LxMg",a.PtLimaPtL="PtLimaPtLMwfNinJi9rCfDPWea8dFgTZ1MeJ9f1m2SRic6ayiwW",a.PtMumbaii="PtMumbaiiFFEGbew1rRjzSPyzRbA51Tm3RVZL5suHPxSZYDhCEc",a.PtMumbai2="PtMumbai2TmsJHNGRkD8v8YDbtao7BLUC3wjASn1inAKLFCjaH1",a.PtNairobi="PtNairobiyssHuh87hEhfVBGCVrK3WnS8Z2FT4ymB5tAa4r1nQf",a.ProxfordY="ProxfordYmVfjWnRcgjWH36fW6PArwqykTFzotUxRs6gmTcZDuH",a.ProtoALpha="ProtoALphaALphaALphaALphaALphaALphaALphaALphaDdp3zK"})(Protocol||(Protocol={}));const DefaultProtocol=Protocol.Psithaca2,protoLevel={Ps9mPmXaRzmzk35gbAYNCAw6UXdE2qoABTHbN2oEEc1qM7CwT9P:0,PtCJ7pwoxe8JasnHY8YonnLYjcVHmhiARPJvqcC6VfHT5s8k8sY:1,PsYLVpVvgbLhAhoqAkMFUo6gudkJ9weNXhUYCiLDzcUpFpkk8Wt:2,PsddFKi32cMJ2qPjf43Qv5GDWLDPZb3T3bF6fLKiF5HtvHNU7aP:3,Pt24m4xiPbLDhVgVfABUjirbmda3yohdN82Sp9FeuAXJ4eV9otd:4,PsBABY5HQTSkA4297zNHfsZNKtxULfL18y95qb3m53QJiXGmrbU:5,PsBabyM1eUXZseaJdmXFApDSBqj8YBfwELoxZHHW77EMcAbbwAS:5,PsCARTHAGazKbHtnKfLzQg3kms52kSRpgnDY982a9oYsSXRLQEb:6,PsDELPH1Kxsxt8f9eWbxQeRxkjfbxoqM52jvs5Y5fBxWWh4ifpo:7,PtEdoTezd3RHSC31mpxxo1npxFjoWWcFgQtxapi51Z8TLu6v6Uq:8,PtEdo2ZkT9oKpimTah6x2embF25oss54njMuPzkJTEi5RqfdZFA:8,PsFLorenaUUuikDWvMDr6fGBRG8kt3e3D3fHoXK1j1BFRxeSH4i:9,PtGRANADsDU8R9daYKAgWnQYAJ64omN1o3KMGVCykShA97vQbvV:10,PtHangzHogokSuiMHemCuowEavgYTP8J5qQ9fQS793MHYFpCY3r:11,PtHangz2aRngywmSRGGvrcTyMbbdpWdpFKuS4uMWxg2RaH9i1qx:11,PsiThaCaT47Zboaw71QWScM8sXeMM7bbQFncK9FLqYc6EKdpjVP:12,Psithaca2MLRFYargivpo7YvUr7wUDqyxrdhC5CQq78mRvimz6A:12,PtJakartaiDz69SfDDLXJSiuZqTSeSKRDbKVZC8MNzJnvRjvnGw:13,PtJakart2xVj7pYXJBXrqHgd82rdkLey5ZeeGwDgPp9rhQUbSqY:13,PtKathmankSpLLDALzWw7CGD2j2MtyveTwboEYokqUCP4a1LxMg:14,PtLimaPtLMwfNinJi9rCfDPWea8dFgTZ1MeJ9f1m2SRic6ayiwW:15,PtMumbaiiFFEGbew1rRjzSPyzRbA51Tm3RVZL5suHPxSZYDhCEc:16,PtMumbai2TmsJHNGRkD8v8YDbtao7BLUC3wjASn1inAKLFCjaH1:16,PtNairobiyssHuh87hEhfVBGCVrK3WnS8Z2FT4ymB5tAa4r1nQf:17,ProxfordYmVfjWnRcgjWH36fW6PArwqykTFzotUxRs6gmTcZDuH:19,ProtoALphaALphaALphaALphaALphaALphaALphaALphaDdp3zK:20};function ProtoInferiorTo(a,_){return protoLevel[a]<protoLevel[_]}class MacroError extends TaquitoError{constructor(_,$){super(),this.prim=_,this.message=$,this.name="MacroError"}}function assertArgs$1(a,_){var $,j;if(_===0&&a.args===void 0||(($=a.args)===null||$===void 0?void 0:$.length)===_)return!0;throw new MacroError(a,`macro ${a.prim} expects ${_} arguments, was given ${(j=a.args)===null||j===void 0?void 0:j.length}`)}function assertNoAnnots(a){if(a.annots===void 0)return!0;throw new MacroError(a,`unexpected annotation on macro ${a.prim}: ${a.annots}`)}function assertIntArg(a,_){if("int"in _)return!0;throw new MacroError(a,`macro ${a.prim} expects int argument`)}function parsePairUnpairExpr(a,_,$,j){let et=0,tt=0;const rt=[null,null];let nt;if(et===_.length)throw new MacroError(a,`unexpected end: ${a.prim}`);let it=_[et++];switch(it){case"P":{const{r:ot,n:at,an:ut}=parsePairUnpairExpr(a,_.slice(et),$.slice(tt),j);nt=ot,et+=at,tt+=ut;break}case"A":tt!==$.length&&(rt[0]=$[tt++]);break;default:throw new MacroError(a,`${a.prim}: unexpected character: ${it}`)}let st;if(et===_.length)throw new MacroError(a,`unexpected end: ${a.prim}`);switch(it=_[et++],it){case"P":{const{r:ot,n:at,an:ut}=parsePairUnpairExpr(a,_.slice(et),$.slice(tt),j);st=ot.map(([ht,yt])=>[ht+1,yt]),et+=at,tt+=ut;break}case"I":tt!==$.length&&(rt[1]=$[tt++]);break;default:throw new MacroError(a,`${a.prim}: unexpected character: ${it}`)}return{r:j(nt,st,[0,rt]),n:et,an:tt}}function parseSetMapCadr(a,_,$,j){const et=_[0];switch(et){case"A":return _.length>1?[{prim:"DUP"},{prim:"DIP",args:[[{prim:"CAR",annots:["@%%"]},parseSetMapCadr(a,_.slice(1),[],j)]]},{prim:"CDR",annots:["@%%"]},{prim:"SWAP"},{prim:"PAIR",annots:["%@","%@",...$]}]:j.a;case"D":return _.length>1?[{prim:"DUP"},{prim:"DIP",args:[[{prim:"CDR",annots:["@%%"]},parseSetMapCadr(a,_.slice(1),[],j)]]},{prim:"CAR",annots:["@%%"]},{prim:"PAIR",annots:["%@","%@",...$]}]:j.d;default:throw new MacroError(a,`${a.prim}: unexpected character: ${et}`)}}function trimLast(a,_){let $=a.length;for(;$>0&&a[$-1]===_;)$--;return a.slice(0,$)}function filterAnnotations(a){const _=[],$=[];if(a!==void 0)for(const j of a)(j.length!==0&&j[0]==="%"?_:$).push(j);return{fields:_,rest:$}}function mkPrim({prim:a,annots:_,args:$}){return Object.assign(Object.assign({prim:a},_&&{annots:_}),$&&{args:$})}const pairRe=/^P[PAI]{3,}R$/,unpairRe=/^UNP[PAI]{2,}R$/,cadrRe=/^C[AD]{2,}R$/,setCadrRe=/^SET_C[AD]+R$/,mapCadrRe=/^MAP_C[AD]+R$/,diipRe=/^DI{2,}P$/,duupRe=/^DU+P$/;function expandMacros(a,_){const $=(_==null?void 0:_.protocol)||DefaultProtocol;function j(et){return et!==void 0?[{prim:"RENAME",annots:et}]:[]}switch(a.prim){case"CMPEQ":case"CMPNEQ":case"CMPLT":case"CMPGT":case"CMPLE":case"CMPGE":if(assertArgs$1(a,0))return[{prim:"COMPARE"},mkPrim({prim:a.prim.slice(3),annots:a.annots})];break;case"IFEQ":case"IFNEQ":case"IFLT":case"IFGT":case"IFLE":case"IFGE":if(assertArgs$1(a,2))return[{prim:a.prim.slice(2)},mkPrim({prim:"IF",annots:a.annots,args:a.args})];break;case"IFCMPEQ":case"IFCMPNEQ":case"IFCMPLT":case"IFCMPGT":case"IFCMPLE":case"IFCMPGE":if(assertArgs$1(a,2))return[{prim:"COMPARE"},{prim:a.prim.slice(5)},mkPrim({prim:"IF",annots:a.annots,args:a.args})];break;case"FAIL":if(assertArgs$1(a,0)&&assertNoAnnots(a))return[{prim:"UNIT"},{prim:"FAILWITH"}];break;case"ASSERT":if(assertArgs$1(a,0)&&assertNoAnnots(a))return[{prim:"IF",args:[[],[[{prim:"UNIT"},{prim:"FAILWITH"}]]]}];break;case"ASSERT_EQ":case"ASSERT_NEQ":case"ASSERT_LT":case"ASSERT_GT":case"ASSERT_LE":case"ASSERT_GE":if(assertArgs$1(a,0)&&assertNoAnnots(a))return[{prim:a.prim.slice(7)},{prim:"IF",args:[[],[[{prim:"UNIT"},{prim:"FAILWITH"}]]]}];break;case"ASSERT_CMPEQ":case"ASSERT_CMPNEQ":case"ASSERT_CMPLT":case"ASSERT_CMPGT":case"ASSERT_CMPLE":case"ASSERT_CMPGE":if(assertArgs$1(a,0)&&assertNoAnnots(a))return[[{prim:"COMPARE"},{prim:a.prim.slice(10)}],{prim:"IF",args:[[],[[{prim:"UNIT"},{prim:"FAILWITH"}]]]}];break;case"ASSERT_NONE":if(assertArgs$1(a,0)&&assertNoAnnots(a))return[{prim:"IF_NONE",args:[[],[[{prim:"UNIT"},{prim:"FAILWITH"}]]]}];break;case"ASSERT_SOME":if(assertArgs$1(a,0))return[{prim:"IF_NONE",args:[[[{prim:"UNIT"},{prim:"FAILWITH"}]],j(a.annots)]}];break;case"ASSERT_LEFT":if(assertArgs$1(a,0))return[{prim:"IF_LEFT",args:[j(a.annots),[[{prim:"UNIT"},{prim:"FAILWITH"}]]]}];break;case"ASSERT_RIGHT":if(assertArgs$1(a,0))return[{prim:"IF_LEFT",args:[[[{prim:"UNIT"},{prim:"FAILWITH"}]],j(a.annots)]}];break;case"IF_SOME":if(assertArgs$1(a,2))return[mkPrim({prim:"IF_NONE",annots:a.annots,args:[a.args[1],a.args[0]]})];break;case"IF_RIGHT":if(assertArgs$1(a,2))return[mkPrim({prim:"IF_LEFT",annots:a.annots,args:[a.args[1],a.args[0]]})];break;case"CAR":case"CDR":if(a.args!==void 0){if(assertArgs$1(a,1)&&assertIntArg(a,a.args[0])){const et=parseInt(a.args[0].int,10);return mkPrim({prim:"GET",args:[{int:a.prim==="CAR"?String(et*2+1):String(et*2)}],annots:a.annots})}}else return a}if(pairRe.test(a.prim)&&assertArgs$1(a,0)){const{fields:et,rest:tt}=filterAnnotations(a.annots),{r:rt}=parsePairUnpairExpr(a,a.prim.slice(1),et,(nt,it,st)=>[...nt||[],...it||[],st]);return rt.map(([nt,it],st)=>{const ot=[...trimLast(it,null).map(ut=>ut===null?"%":ut),...nt===0&&st===rt.length-1?tt:[]],at=mkPrim({prim:"PAIR",annots:ot.length!==0?ot:void 0});return nt===0?at:{prim:"DIP",args:nt===1?[[at]]:[{int:String(nt)},[at]]}})}if(unpairRe.test(a.prim))if(ProtoInferiorTo($,Protocol.PtEdo2Zk)&&assertArgs$1(a,0)){const{r:et}=parsePairUnpairExpr(a,a.prim.slice(3),a.annots||[],(tt,rt,nt)=>[nt,...rt||[],...tt||[]]);return et.map(([tt,rt])=>{const nt=[{prim:"DUP"},mkPrim({prim:"CAR",annots:rt[0]!==null?[rt[0]]:void 0}),{prim:"DIP",args:[[mkPrim({prim:"CDR",annots:rt[1]!==null?[rt[1]]:void 0})]]}];return tt===0?nt:{prim:"DIP",args:tt===1?[[nt]]:[{int:String(tt)},[nt]]}})}else{if(a.prim==="UNPAIR")return a;if(assertArgs$1(a,0)){const{r:et}=parsePairUnpairExpr(a,a.prim.slice(3),[],(tt,rt,nt)=>[nt,...rt||[],...tt||[]]);return et.map(([tt])=>{const rt=mkPrim({prim:"UNPAIR"});return tt===0?rt:{prim:"DIP",args:tt===1?[[rt]]:[{int:String(tt)},[rt]]}})}}if(cadrRe.test(a.prim)&&assertArgs$1(a,0)){const et=[...a.prim.slice(1,a.prim.length-1)];return et.map((tt,rt)=>{const nt=rt===et.length-1?a.annots:void 0;switch(tt){case"A":return mkPrim({prim:"CAR",annots:nt});case"D":return mkPrim({prim:"CDR",annots:nt});default:throw new MacroError(a,`unexpected character: ${tt}`)}})}if(setCadrRe.test(a.prim)&&assertArgs$1(a,0)){const{fields:et,rest:tt}=filterAnnotations(a.annots);if(et.length>1)throw new MacroError(a,`unexpected annotation on macro ${a.prim}: ${et}`);const rt=et.length!==0?{a:[{prim:"DUP"},{prim:"CAR",annots:et},{prim:"DROP"},{prim:"CDR",annots:["@%%"]},{prim:"SWAP"},{prim:"PAIR",annots:[et[0],"%@"]}],d:[{prim:"DUP"},{prim:"CDR",annots:et},{prim:"DROP"},{prim:"CAR",annots:["@%%"]},{prim:"PAIR",annots:["%@",et[0]]}]}:{a:[{prim:"CDR",annots:["@%%"]},{prim:"SWAP"},{prim:"PAIR",annots:["%","%@"]}],d:[{prim:"CAR",annots:["@%%"]},{prim:"PAIR",annots:["%@","%"]}]};return parseSetMapCadr(a,a.prim.slice(5,a.prim.length-1),tt,rt)}if(mapCadrRe.test(a.prim)&&assertArgs$1(a,1)){const{fields:et}=filterAnnotations(a.annots);if(et.length>1)throw new MacroError(a,`unexpected annotation on macro ${a.prim}: ${et}`);const tt={a:[{prim:"DUP"},{prim:"CDR",annots:["@%%"]},{prim:"DIP",args:[[mkPrim({prim:"CAR",annots:et.length!==0?["@"+et[0].slice(1)]:void 0}),a.args[0]]]},{prim:"SWAP"},{prim:"PAIR",annots:[et.length!==0?et[0]:"%","%@"]}],d:[{prim:"DUP"},mkPrim({prim:"CDR",annots:et.length!==0?["@"+et[0].slice(1)]:void 0}),a.args[0],{prim:"SWAP"},{prim:"CAR",annots:["@%%"]},{prim:"PAIR",annots:["%@",et.length!==0?et[0]:"%"]}]};return parseSetMapCadr(a,a.prim.slice(5,a.prim.length-1),[],tt)}if(diipRe.test(a.prim)&&assertArgs$1(a,1)){let et=0;for(;a.prim[1+et]==="I";)et++;return mkPrim({prim:"DIP",args:[{int:String(et)},a.args[0]]})}if(duupRe.test(a.prim)){let et=0;for(;a.prim[1+et]==="U";)et++;if(ProtoInferiorTo($,Protocol.PtEdo2Zk)){if(et===1){if(a.args===void 0)return a;assertArgs$1(a,1)&&assertIntArg(a,a.args[0])&&(et=parseInt(a.args[0].int,10))}else assertArgs$1(a,0);return et===1?[mkPrim({prim:"DUP",annots:a.annots})]:et===2?[{prim:"DIP",args:[[mkPrim({prim:"DUP",annots:a.annots})]]},{prim:"SWAP"}]:[{prim:"DIP",args:[{int:String(et-1)},[mkPrim({prim:"DUP",annots:a.annots})]]},{prim:"DIG",args:[{int:String(et)}]}]}else{if(et===1)return a;if(assertArgs$1(a,0))return mkPrim({prim:"DUP",args:[{int:String(et)}],annots:a.annots})}}return a}function expandGlobalConstants(a,_){return a.args!==void 0&&a.args.length===1&&"string"in a.args[0]&&a.args[0].string in _?_[a.args[0].string]:a}class MichelineParseError extends TaquitoError{constructor(_,$){super(),this.token=_,this.message=$,this.name="MichelineParseError"}}class JSONParseError extends TaquitoError{constructor(_,$){super(),this.node=_,this.message=$,this.name="JSONParseError"}}const errEOF=new MichelineParseError(null,"Unexpected EOF");function isAnnotation(a){return a.t===Literal.Ident&&(a.v[0]==="@"||a.v[0]==="%"||a.v[0]===":")}const intRe=new RegExp("^-?[0-9]+$"),bytesRe=new RegExp("^([0-9a-fA-F]{2})*$");let Parser$1=class{constructor(_){this.opt=_}expand(_){var $,j,et;if((($=this.opt)===null||$===void 0?void 0:$.expandGlobalConstant)!==void 0&&_.prim==="constant"){const tt=expandGlobalConstants(_,this.opt.expandGlobalConstant);return tt!==_&&(tt[sourceReference]=Object.assign(Object.assign({},_[sourceReference]||{first:0,last:0}),{globalConstant:_})),tt}if(((j=this.opt)===null||j===void 0?void 0:j.expandMacros)===void 0||!((et=this.opt)===null||et===void 0)&&et.expandMacros){const tt=expandMacros(_,this.opt);return tt!==_&&(tt[sourceReference]=Object.assign(Object.assign({},_[sourceReference]||{first:0,last:0}),{macro:_})),tt}else return _}parseListExpr(_,$){var j;const et={first:$.first,last:$.last},tt=$.t==="(";let rt;if(tt){if(rt=_.next(),rt.done)throw errEOF;et.last=rt.value.last}else rt={value:$};if(rt.value.t!==Literal.Ident)throw new MichelineParseError(rt.value,`not an identifier: ${rt.value.v}`);const nt={prim:rt.value.v,[sourceReference]:et};for(;;){const it=_.next();if(it.done){if(tt)throw errEOF;break}else if(it.value.t===")"){if(!tt)throw new MichelineParseError(it.value,"unexpected closing bracket");et.last=it.value.last;break}else if(isAnnotation(it.value))nt.annots=nt.annots||[],nt.annots.push(it.value.v),et.last=it.value.last;else{nt.args=nt.args||[];const st=this.parseExpr(_,it.value);et.last=((j=st[sourceReference])===null||j===void 0?void 0:j.last)||et.last,nt.args.push(st)}}return this.expand(nt)}parseArgs(_,$){var j;const et={first:$.first,last:$.last},tt={prim:$.v,[sourceReference]:et};for(;;){const rt=_.next();if(rt.done||rt.value.t==="}"||rt.value.t===";")return[tt,rt];if(isAnnotation(rt.value))et.last=rt.value.last,tt.annots=tt.annots||[],tt.annots.push(rt.value.v);else{const nt=this.parseExpr(_,rt.value);et.last=((j=nt[sourceReference])===null||j===void 0?void 0:j.last)||et.last,tt.args=tt.args||[],tt.args.push(nt)}}}parseSequenceExpr(_,$){var j,et;const tt={first:$.first,last:$.last},rt=[];rt[sourceReference]=tt;const nt=$.t==="{";let it=$.t==="{"?null:{value:$};for(;;){if(it===null&&(it=_.next(),it.done||(tt.last=it.value.last)),it.done){if(nt)throw errEOF;return rt}if(it.value.t==="}"){if(nt)return rt;throw new MichelineParseError(it.value,"unexpected closing bracket")}else if(it.value.t===Literal.Ident){const[st,ot]=this.parseArgs(_,it.value);tt.last=((j=st[sourceReference])===null||j===void 0?void 0:j.last)||tt.last,rt.push(this.expand(st)),it=ot}else{const st=this.parseExpr(_,it.value);tt.last=((et=st[sourceReference])===null||et===void 0?void 0:et.last)||tt.last,rt.push(st),it=null}it===null&&(it=_.next(),it.done||(tt.last=it.value.last)),!it.done&&it.value.t===";"&&(it=null)}}parseExpr(_,$){switch($.t){case Literal.Ident:return this.expand({prim:$.v,[sourceReference]:{first:$.first,last:$.last}});case Literal.Number:return{int:$.v,[sourceReference]:{first:$.first,last:$.last}};case Literal.String:return{string:JSON.parse($.v),[sourceReference]:{first:$.first,last:$.last}};case Literal.Bytes:return{bytes:$.v.slice(2),[sourceReference]:{first:$.first,last:$.last}};case"{":return this.parseSequenceExpr(_,$);default:return this.parseListExpr(_,$)}}parseSequence(_){if(typeof _!="string")throw new TypeError(`string type was expected, got ${typeof _} instead`);const $=scan(_),j=$.next();return j.done?null:this.parseSequenceExpr($,j.value)}parseList(_){if(typeof _!="string")throw new TypeError(`string type was expected, got ${typeof _} instead`);const $=scan(_),j=$.next();return j.done?null:this.parseListExpr($,j.value)}parseMichelineExpression(_){if(typeof _!="string")throw new TypeError(`string type was expected, got ${typeof _} instead`);const $=scan(_),j=$.next();return j.done?null:this.parseExpr($,j.value)}parseScript(_){return this.parseSequence(_)}parseData(_){return this.parseList(_)}parseJSON(_){if(typeof _!="object")throw new TypeError(`object type was expected, got ${typeof _} instead`);if(Array.isArray(_)){const $=[];for(const j of _){if(j===null||typeof j!="object")throw new JSONParseError(j,`unexpected sequence element: ${j}`);$.push(this.parseJSON(j))}return $}else if("prim"in _){const $=_;if(typeof $.prim=="string"&&($.annots===void 0||Array.isArray($.annots))&&($.args===void 0||Array.isArray($.args))){const j={prim:$.prim};if($.annots!==void 0){for(const et of $.annots)if(typeof et!="string")throw new JSONParseError(et,`string expected: ${et}`);j.annots=$.annots}if($.args!==void 0){j.args=[];for(const et of $.args){if(et===null||typeof et!="object")throw new JSONParseError(et,`unexpected argument: ${et}`);j.args.push(this.parseJSON(et))}}return this.expand(j)}throw new JSONParseError(_,`malformed prim expression: ${_}`)}else if("string"in _){if(typeof _.string=="string")return{string:_.string};throw new JSONParseError(_,`malformed string literal: ${_}`)}else if("int"in _){if(typeof _.int=="string"&&intRe.test(_.int))return{int:_.int};throw new JSONParseError(_,`malformed int literal: ${_}`)}else if("bytes"in _){if(typeof _.bytes=="string"&&bytesRe.test(_.bytes))return{bytes:_.bytes};throw new JSONParseError(_,`malformed bytes literal: ${_}`)}else throw new JSONParseError(_,`unexpected object: ${_}`)}};const H=[1779033703,-1150833019,1013904242,-1521486534,1359893119,-1694144372,528734635,1541459225],K=[1116352408,1899447441,-1245643825,-373957723,961987163,1508970993,-1841331548,-1424204075,-670586216,310598401,607225278,1426881987,1925078388,-2132889090,-1680079193,-1046744716,-459576895,-272742522,264347078,604807628,770255983,1249150122,1555081692,1996064986,-1740746414,-1473132947,-1341970488,-1084653625,-958395405,-710438585,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,-2117940946,-1838011259,-1564481375,-1474664885,-1035236496,-949202525,-778901479,-694614492,-200395387,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,-2067236844,-1933114872,-1866530822,-1538233109,-1090935817,-965641998];class Base58DecodingError extends TaquitoError{constructor(_){super(),this.message=_,this.name="Base58DecodingError"}}function sha256(a){const _=(a.length+9)%64,$=_===0?0:64-_;if(a.length>268435455)throw new InvalidMessageError("",`: Invalid length ${a.length} is too big -- SHA-256.`);const j=a.length<<3,et=[...a,128,...new Array($).fill(0),0,0,0,0,j>>24&255,j>>16&255,j>>8&255,j&255];function tt(ot,at){return ot>>>at|ot<<32-at}const rt=[...H],nt=new Array(64),it=new Array(8);for(let ot=0;ot<et.length;ot+=64){let at=ot,ut=0;for(;ut<16;)nt[ut]=et[at]<<24|et[at+1]<<16|et[at+2]<<8|et[at+3],at+=4,ut++;for(;ut<64;){const ht=tt(nt[ut-15],7)^tt(nt[ut-15],18)^nt[ut-15]>>>3,yt=tt(nt[ut-2],17)^tt(nt[ut-2],19)^nt[ut-2]>>>10;nt[ut]=(yt|0)+nt[ut-7]+ht+nt[ut-16]|0,ut++}for(let ht=0;ht<8;ht++)it[ht]=rt[ht];for(let ht=0;ht<64;ht++){const yt=tt(it[0],2)^tt(it[0],13)^tt(it[0],22),wt=tt(it[4],6)^tt(it[4],11)^tt(it[4],25),Ct=it[7]+wt+(it[4]&it[5]^~it[4]&it[6])+K[ht]+nt[ht]|0,Pt=yt+(it[0]&it[1]^it[0]&it[2]^it[1]&it[2])|0;it[7]=it[6],it[6]=it[5],it[5]=it[4],it[4]=it[3]+Ct|0,it[3]=it[2],it[2]=it[1],it[1]=it[0],it[0]=Ct+Pt|0}for(let ht=0;ht<8;ht++)rt[ht]=rt[ht]+it[ht]|0}const st=[];for(const ot of rt)st.push(ot>>24&255),st.push(ot>>16&255),st.push(ot>>8&255),st.push(ot&255);return st}const base58alphabetFwd=[0,1,2,3,4,5,6,7,8,-1,-1,-1,-1,-1,-1,-1,9,10,11,12,13,14,15,16,-1,17,18,19,20,21,-1,22,23,24,25,26,27,28,29,30,31,32,-1,-1,-1,-1,-1,-1,33,34,35,36,37,38,39,40,41,42,43,-1,44,45,46,47,48,49,50,51,52,53,54,55,56,57];function byteAt(a,_){const $=a.charCodeAt(_)-49;if($>=base58alphabetFwd.length||base58alphabetFwd[$]===-1)throw new Base58DecodingError(`Unexpected character at position ${_}: ${a[_]}`);return base58alphabetFwd[$]}function decodeBase58(a){const _=[];let $=0;for(;$<a.length&&byteAt(a,$)===0;)$++;let j=$;for(;$<a.length;){let et=byteAt(a,$++),tt=0;for(;et!==0||tt<_.length;){const rt=(_[tt]||0)*58+et;_[tt++]=rt%256,et=Math.floor(rt/256)}}for(;j-- >0;)_.push(0);return _.reverse()}function decodeBase58Check(a){const _=decodeBase58(a);if(_.length<4)throw new Base58DecodingError(`Data is too short ${_.length}`);const $=_.slice(0,_.length-4),j=_.slice(_.length-4),et=sha256(sha256($));if(j[0]!==et[0]||j[1]!==et[1]||j[2]!==et[2]||j[3]!==et[3])throw new Base58DecodingError("Invalid checksum");return $}class InvalidMichelsonError extends ParameterValidationError{constructor(_){super(),this.message=_,this.name="InvalidMichelsonError"}}class InvalidTypeExpressionError extends ParameterValidationError{constructor(_){super(),this.message=_,this.name="InvalidTypeExpressionError"}}class InvalidDataExpressionError extends ParameterValidationError{constructor(_){super(),this.message=_,this.name="InvalidDataExpressionError"}}class InvalidEntrypointError extends ParameterValidationError{constructor(_){super(),this.entrypoint=_,this.name="InvalidEntrypointError",this.message=`Contract has no entrypoint named: "${_}"`}}class LongIntegerError extends TaquitoError{constructor(_){super(),this.message=_,this.name="LongIntegerError"}}class MichelsonError extends TaquitoError{constructor(_,$){super(),this.val=_,this.message=$,this.name="MichelsonError"}}class MichelsonTypeError extends MichelsonError{constructor(_,$,j){super(_,$),this.val=_,this.message=$,this.name="MichelsonTypeError",j!==void 0&&(this.data=j)}}class LongInteger{append(_){let $=0;for(;_!==0||$<this.buf.length;){const j=(this.buf[$]||0)*10+_;this.buf[$++]=j%256,_=Math.floor(j/256)}}constructor(_){if(this.neg=!1,this.buf=[],_!==void 0)if(typeof _=="string")for(let $=0;$<_.length;$++){const j=_.charCodeAt($);if($===0&&j===45)this.neg=!0;else{if(j<48||j>57)throw new LongIntegerError(`unexpected character in integer constant "${_[$]}"`);this.append(j-48)}}else _<0?(this.neg=!0,this.append(-_)):this.append(_)}cmp(_){if(this.neg!==_.neg)return(_.neg?1:0)-(this.neg?1:0);{let $=0;if(this.buf.length!==_.buf.length)$=this.buf.length<_.buf.length?-1:1;else if(this.buf.length!==0){let j=_.buf.length-1;for(;j>=0&&this.buf[j]===_.buf[j];)j--;$=j<0?0:this.buf[j]<_.buf[j]?-1:1}return this.neg?$===0?0:-$:$}}get sign(){return this.buf.length===0?0:this.neg?-1:1}}function parseBytes(a){const _=[];for(let $=0;$<a.length;$+=2){const j=parseInt(a.slice($,$+2),16);if(Number.isNaN(j))return null;_.push(j)}return _}function isDecimal(a){try{return new LongInteger(a),!0}catch{return!1}}function isNatural(a){try{return new LongInteger(a).sign>=0}catch{return!1}}const annRe=/^(@%|@%%|%@|[@:%]([_0-9a-zA-Z][_0-9a-zA-Z.%@]*)?)$/;function unpackAnnotations(a,_){if(Array.isArray(a))return{};let $,j,et;if(a.annots!==void 0){for(const tt of a.annots)if(tt.length!==0){if(!annRe.test(tt)||!(_!=null&&_.specialVar)&&(tt==="@%"||tt==="@%%")||!(_!=null&&_.specialFields)&&tt==="%@")throw new MichelsonError(a,`${a.prim}: unexpected annotation: ${tt}`);switch(tt[0]){case"%":(_!=null&&_.emptyFields||tt.length>1)&&($=$||[],$.push(tt));break;case":":tt.length>1&&(j=j||[],j.push(tt));break;case"@":(_!=null&&_.emptyVar||tt.length>1)&&(et=et||[],et.push(tt));break}}}return{f:$,t:j,v:et}}const tezosPrefix={BlockHash:[32,[1,52]],OperationHash:[32,[5,116]],OperationListHash:[32,[133,233]],OperationListListHash:[32,[29,159,109]],ProtocolHash:[32,[2,170]],ContextHash:[32,[79,199]],ED25519PublicKeyHash:[20,[6,161,159]],SECP256K1PublicKeyHash:[20,[6,161,161]],P256PublicKeyHash:[20,[6,161,164]],ContractHash:[20,[2,90,121]],CryptoboxPublicKeyHash:[16,[153,103]],ED25519Seed:[32,[13,15,58,7]],ED25519PublicKey:[32,[13,15,37,217]],SECP256K1SecretKey:[32,[17,162,224,201]],P256SecretKey:[32,[16,81,238,189]],ED25519EncryptedSeed:[56,[7,90,60,179,41]],SECP256K1EncryptedSecretKey:[56,[9,237,241,174,150]],P256EncryptedSecretKey:[56,[9,48,57,115,171]],SECP256K1PublicKey:[33,[3,254,226,86]],P256PublicKey:[33,[3,178,139,127]],SECP256K1Scalar:[33,[38,248,136]],SECP256K1Element:[33,[5,92,0]],ED25519SecretKey:[64,[43,246,78,7]],ED25519Signature:[64,[9,245,205,134,18]],SECP256K1Signature:[64,[13,115,101,19,63]],P256Signature:[64,[54,240,44,52]],GenericSignature:[64,[4,130,43]],ChainID:[4,[87,82,0]],RollupAddress:[20,[1,128,120,31]]};function checkDecodeTezosID(a,..._){const $=decodeBase58Check(a);for(const j of _){const[et,tt]=tezosPrefix[j];if($.length===et+tt.length){let rt=0;for(;rt<tt.length&&$[rt]===tt[rt];)rt++;if(rt===tt.length)return[j,$.slice(tt.length)]}}return null}function unpackComb(a,_){const $=_,j=Array.isArray($)?$:$.args;return j.length===2?a==="pair"?{prim:"pair",args:j}:{prim:"Pair",args:j}:Object.assign(Object.assign({},Array.isArray($)?{prim:a}:$),{args:[j[0],{prim:a,args:j.slice(1)}]})}function isPairType(a){return Array.isArray(a)||a.prim==="pair"}function isPairData(a){return Array.isArray(a)||"prim"in a&&a.prim==="Pair"}const rfc3339Re=/^[0-9]{4}-(0[1-9]|1[0-2])-(0[1-9]|[12][0-9]|3[01])[T ]([01][0-9]|2[0-3]):([0-5][0-9]):([0-5][0-9]|60)(\.[0-9]+)?(Z|[+-]([01][0-9]|2[0-3]):([0-5][0-9]))$/;function parseDate(a){if("string"in a){if(isNatural(a.string))return new Date(parseInt(a.string,10));if(rfc3339Re.test(a.string)){const _=new Date(a.string);if(!Number.isNaN(_.valueOf))return _}}else if(isDecimal(a.int))return new Date(parseInt(a.int,10));return null}const maxViewNameLength=31,noArgInstructionIDs={ABS:!0,ADD:!0,ADDRESS:!0,AMOUNT:!0,AND:!0,APPLY:!0,BALANCE:!0,BLAKE2B:!0,CAR:!0,CDR:!0,CHAIN_ID:!0,CHECK_SIGNATURE:!0,COMPARE:!0,CONCAT:!0,CONS:!0,EDIV:!0,EQ:!0,EXEC:!0,FAILWITH:!0,GE:!0,GET_AND_UPDATE:!0,GT:!0,HASH_KEY:!0,IMPLICIT_ACCOUNT:!0,INT:!0,ISNAT:!0,JOIN_TICKETS:!0,KECCAK:!0,LE:!0,LEVEL:!0,LSL:!0,LSR:!0,LT:!0,MEM:!0,MUL:!0,NEG:!0,NEQ:!0,NEVER:!0,NOT:!0,NOW:!0,OR:!0,PACK:!0,PAIRING_CHECK:!0,READ_TICKET:!0,SAPLING_VERIFY_UPDATE:!0,SELF:!0,SELF_ADDRESS:!0,SENDER:!0,SET_DELEGATE:!0,SHA256:!0,SHA3:!0,SHA512:!0,SIZE:!0,SLICE:!0,SOME:!0,SOURCE:!0,SPLIT_TICKET:!0,SUB:!0,SWAP:!0,TICKET:!0,TICKET_DEPRECATED:!0,TOTAL_VOTING_POWER:!0,TRANSFER_TOKENS:!0,UNIT:!0,VOTING_POWER:!0,XOR:!0,RENAME:!0,OPEN_CHEST:!0,SUB_MUTEZ:!0,MIN_BLOCK_TIME:!0,BYTES:!0,NAT:!0},instructionIDs=Object.assign({},noArgInstructionIDs,{CONTRACT:!0,CREATE_CONTRACT:!0,DIG:!0,DIP:!0,DROP:!0,DUG:!0,DUP:!0,EMIT:!0,EMPTY_BIG_MAP:!0,EMPTY_MAP:!0,EMPTY_SET:!0,GET:!0,IF:!0,IF_CONS:!0,IF_LEFT:!0,IF_NONE:!0,ITER:!0,LAMBDA:!0,LAMBDA_REC:!0,LEFT:!0,LOOP:!0,LOOP_LEFT:!0,MAP:!0,NIL:!0,NONE:!0,PAIR:!0,PUSH:!0,RIGHT:!0,SAPLING_EMPTY_STATE:!0,UNPACK:!0,UNPAIR:!0,UPDATE:!0,CAST:!0,VIEW:!0}),simpleComparableTypeIDs={unit:!0,never:!0,bool:!0,int:!0,nat:!0,string:!0,chain_id:!0,bytes:!0,mutez:!0,key_hash:!0,key:!0,signature:!0,timestamp:!0,address:!0,tx_rollup_l2_address:!0},typeIDs=Object.assign({},simpleComparableTypeIDs,{or:!0,pair:!0,set:!0,big_map:!0,contract:!0,lambda:!0,list:!0,map:!0,operation:!0,option:!0,bls12_381_g1:!0,bls12_381_g2:!0,bls12_381_fr:!0,sapling_transaction:!0,sapling_transaction_deprecated:!0,sapling_state:!0,ticket:!0,chest_key:!0,chest:!0});class MichelsonValidationError extends MichelsonError{constructor(_,$){super(_,$),this.val=_,this.message=$,this.name="MichelsonValidationError"}}function isPrim$1(a){return"prim"in a}function isPrimOrSeq(a){return Array.isArray(a)||"prim"in a}function assertPrim(a){if(isPrim$1(a))return!0;throw new MichelsonValidationError(a,"prim expression expected")}function assertSeq(a){if(Array.isArray(a))return!0;throw new MichelsonValidationError(a,"sequence expression expected")}function assertPrimOrSeq(a){if(isPrimOrSeq(a))return!0;throw new MichelsonValidationError(a,"prim or sequence expression expected")}function assertNatural(a){if(a.int[0]==="-")throw new MichelsonValidationError(a,"natural number expected")}function assertIntLiteral(a){if("int"in a)return!0;throw new MichelsonValidationError(a,"int literal expected")}function assertStringLiteral(a){if("string"in a)return!0;throw new MichelsonValidationError(a,"string literal expected")}function assertArgs(a,_){var $;if(_===0&&a.args===void 0||(($=a.args)===null||$===void 0?void 0:$.length)===_)return!0;throw new MichelsonValidationError(a,`${_} arguments expected`)}function assertMichelsonInstruction(a){var _,$;if(Array.isArray(a)){for(const j of a){if(!Array.isArray(j)&&!isPrim$1(j))throw new MichelsonValidationError(a,"sequence or prim expected");assertMichelsonInstruction(j)}return!0}if(assertPrim(a)){if(Object.prototype.hasOwnProperty.call(noArgInstructionIDs,a.prim))return assertArgs(a,0),!0;switch(a.prim){case"DROP":case"PAIR":case"UNPAIR":case"DUP":case"UPDATE":case"GET":a.args!==void 0&&assertArgs(a,1)&&assertIntLiteral(a.args[0])&&assertNatural(a.args[0]);break;case"DIG":case"DUG":case"SAPLING_EMPTY_STATE":assertArgs(a,1)&&assertIntLiteral(a.args[0])&&assertNatural(a.args[0]);break;case"NONE":case"LEFT":case"RIGHT":case"NIL":case"CAST":assertArgs(a,1)&&assertMichelsonType(a.args[0]);break;case"UNPACK":assertArgs(a,1)&&assertMichelsonPackableType(a.args[0]);break;case"CONTRACT":assertArgs(a,1)&&assertMichelsonPassableType(a.args[0]);break;case"IF_NONE":case"IF_LEFT":case"IF_CONS":case"IF":assertArgs(a,2)&&(assertSeq(a.args[0])&&assertMichelsonInstruction(a.args[0]),assertSeq(a.args[1])&&assertMichelsonInstruction(a.args[1]));break;case"MAP":case"ITER":case"LOOP":case"LOOP_LEFT":assertArgs(a,1)&&assertMichelsonInstruction(a.args[0]);break;case"CREATE_CONTRACT":assertArgs(a,1)&&assertMichelsonContract(a.args[0]);break;case"DIP":if(((_=a.args)===null||_===void 0?void 0:_.length)===2)assertIntLiteral(a.args[0])&&assertNatural(a.args[0]),assertSeq(a.args[1])&&assertMichelsonInstruction(a.args[1]);else if((($=a.args)===null||$===void 0?void 0:$.length)===1)assertSeq(a.args[0])&&assertMichelsonInstruction(a.args[0]);else throw new MichelsonValidationError(a,"1 or 2 arguments expected");break;case"PUSH":assertArgs(a,2)&&(assertMichelsonPushableType(a.args[0]),assertMichelsonData(a.args[1]));break;case"EMPTY_SET":assertArgs(a,1)&&assertMichelsonComparableType(a.args[0]);break;case"EMPTY_MAP":assertArgs(a,2)&&(assertMichelsonComparableType(a.args[0]),assertMichelsonType(a.args[1]));break;case"EMPTY_BIG_MAP":assertArgs(a,2)&&(assertMichelsonComparableType(a.args[0]),assertMichelsonBigMapStorableType(a.args[1]));break;case"LAMBDA_REC":case"LAMBDA":assertArgs(a,3)&&(assertMichelsonType(a.args[0]),assertMichelsonType(a.args[1]),assertSeq(a.args[2])&&assertMichelsonInstruction(a.args[2]));break;case"VIEW":assertArgs(a,2)&&(assertStringLiteral(a.args[0])&&assertViewNameValid(a.args[0]),assertMichelsonType(a.args[1])&&assertMichelsonPushableType(a.args[1]));break;case"EMIT":a.args&&a.args.length>0?assertArgs(a,1):assertArgs(a,0);break;default:throw new MichelsonValidationError(a,"instruction expected")}}return!0}function assertMichelsonComparableType(a){if(assertPrimOrSeq(a)){if(Array.isArray(a)||a.prim==="pair"||a.prim==="or"||a.prim==="option")traverseType(a,_=>assertMichelsonComparableType(_));else if(!Object.prototype.hasOwnProperty.call(simpleComparableTypeIDs,a.prim))throw new MichelsonValidationError(a,`${a.prim}: type is not comparable`)}return!0}function assertMichelsonPackableType(a){if(assertPrimOrSeq(a)&&isPrim$1(a)){if(!Object.prototype.hasOwnProperty.call(typeIDs,a.prim)||a.prim==="big_map"||a.prim==="operation"||a.prim==="sapling_state"||a.prim==="ticket")throw new MichelsonValidationError(a,`${a.prim}: type can't be used inside PACK/UNPACK instructions`);traverseType(a,_=>assertMichelsonPackableType(_))}return!0}function assertMichelsonPushableType(a){if(assertPrimOrSeq(a)&&isPrim$1(a)){if(!Object.prototype.hasOwnProperty.call(typeIDs,a.prim)||a.prim==="big_map"||a.prim==="operation"||a.prim==="sapling_state"||a.prim==="ticket"||a.prim==="contract")throw new MichelsonValidationError(a,`${a.prim}: type can't be pushed`);traverseType(a,_=>assertMichelsonPushableType(_))}return!0}function assertMichelsonStorableType(a){if(assertPrimOrSeq(a)&&isPrim$1(a)){if(!Object.prototype.hasOwnProperty.call(typeIDs,a.prim)||a.prim==="operation"||a.prim==="contract")throw new MichelsonValidationError(a,`${a.prim}: type can't be used as part of a storage`);traverseType(a,_=>assertMichelsonStorableType(_))}return!0}function assertMichelsonPassableType(a){if(assertPrimOrSeq(a)&&isPrim$1(a)){if(!Object.prototype.hasOwnProperty.call(typeIDs,a.prim)||a.prim==="operation")throw new MichelsonValidationError(a,`${a.prim}: type can't be used as part of a parameter`);traverseType(a,_=>assertMichelsonPassableType(_))}return!0}function assertMichelsonBigMapStorableType(a){if(assertPrimOrSeq(a)&&isPrim$1(a)){if(!Object.prototype.hasOwnProperty.call(typeIDs,a.prim)||a.prim==="big_map"||a.prim==="operation"||a.prim==="sapling_state")throw new MichelsonValidationError(a,`${a.prim}: type can't be used inside a big_map`);traverseType(a,_=>assertMichelsonBigMapStorableType(_))}return!0}const viewRe=new RegExp("^[a-zA-Z0-9_.%@]*$");function assertViewNameValid(a){if(a.string.length>maxViewNameLength)throw new MichelsonValidationError(a,`view name too long: ${a.string}`);if(!viewRe.test(a.string))throw new MichelsonValidationError(a,`invalid character(s) in view name: ${a.string}`)}function assertMichelsonType(a){if(assertPrimOrSeq(a)&&isPrim$1(a)){if(!Object.prototype.hasOwnProperty.call(typeIDs,a.prim))throw new MichelsonValidationError(a,"type expected");traverseType(a,_=>assertMichelsonType(_))}return!0}function traverseType(a,_){if(Array.isArray(a)||a.prim==="pair"){const $=Array.isArray(a)?a:a.args;if($===void 0||$.length<2)throw new MichelsonValidationError(a,"at least 2 arguments expected");return $.forEach(j=>{assertPrimOrSeq(j)&&_(j)}),!0}switch(a.prim){case"option":case"list":assertArgs(a,1)&&assertPrimOrSeq(a.args[0])&&_(a.args[0]);break;case"contract":assertArgs(a,1)&&assertMichelsonPassableType(a.args[0]);break;case"or":assertArgs(a,2)&&assertPrimOrSeq(a.args[0])&&assertPrimOrSeq(a.args[1])&&(_(a.args[0]),_(a.args[1]));break;case"lambda":assertArgs(a,2)&&(assertMichelsonType(a.args[0]),assertMichelsonType(a.args[1]));break;case"set":assertArgs(a,1)&&assertMichelsonComparableType(a.args[0]);break;case"map":assertArgs(a,2)&&assertPrimOrSeq(a.args[0])&&assertPrimOrSeq(a.args[1])&&(assertMichelsonComparableType(a.args[0]),_(a.args[1]));break;case"big_map":assertArgs(a,2)&&assertPrimOrSeq(a.args[0])&&assertPrimOrSeq(a.args[1])&&(assertMichelsonComparableType(a.args[0]),assertMichelsonBigMapStorableType(a.args[1]),_(a.args[1]));break;case"ticket":assertArgs(a,1)&&assertPrimOrSeq(a.args[0])&&assertMichelsonComparableType(a.args[0]);break;case"sapling_state":case"sapling_transaction":assertArgs(a,1)&&assertIntLiteral(a.args[0]);break;default:assertArgs(a,0)}return!0}function assertMichelsonData(a){if("int"in a||"string"in a||"bytes"in a)return!0;if(Array.isArray(a)){let _=0;for(const $ of a)isPrim$1($)&&$.prim==="Elt"?(assertArgs($,2)&&(assertMichelsonData($.args[0]),assertMichelsonData($.args[1])),_++):assertMichelsonData($);if(_!==0&&_!==a.length)throw new MichelsonValidationError(a,"data entries and map elements can't be intermixed");return!0}if(isPrim$1(a))switch(a.prim){case"Unit":case"True":case"False":case"None":assertArgs(a,0);break;case"Pair":if(a.args===void 0||a.args.length<2)throw new MichelsonValidationError(a,"at least 2 arguments expected");for(const _ of a.args)assertMichelsonData(_);break;case"Left":case"Right":case"Some":assertArgs(a,1)&&assertMichelsonData(a.args[0]);break;case"Lambda_rec":a.args&&assertMichelsonInstruction(a.args);break;default:if(Object.prototype.hasOwnProperty.call(instructionIDs,a.prim))assertMichelsonInstruction(a);else throw new MichelsonValidationError(a,"data entry or instruction expected")}else throw new MichelsonValidationError(a,"data entry expected");return!0}function assertMichelsonContract(a){if(assertSeq(a)){const _={},$={};for(const j of a)if(assertPrim(j)){if(j.prim!=="view"){if(j.prim in _)throw new MichelsonValidationError(a,`duplicate contract section: ${j.prim}`);_[j.prim]=!0}switch(j.prim){case"code":assertArgs(j,1)&&assertSeq(j.args[0])&&assertMichelsonInstruction(j.args[0]);break;case"parameter":if(assertArgs(j,1)&&assertMichelsonPassableType(j.args[0]),j.annots)throw new MichelsonValidationError(j,"Annotation must be part of the parameter type");break;case"storage":assertArgs(j,1)&&assertMichelsonStorableType(j.args[0]);break;case"view":if(assertArgs(j,4)){if(assertStringLiteral(j.args[0])){const et=j.args[0];if(et.string in $)throw new MichelsonValidationError(a,`duplicate view name: ${et.string}`);$[et.string]=!0,assertViewNameValid(et)}assertMichelsonPushableType(j.args[1]),assertMichelsonPushableType(j.args[2]),assertSeq(j.args[3])&&assertMichelsonInstruction(j.args[3])}break;default:throw new MichelsonValidationError(a,`unexpected contract section: ${j.prim}`)}}}return!0}function isInstruction(a){return Object.prototype.hasOwnProperty.call(instructionIDs,a.prim)}function assertDataListIfAny(a){if(!Array.isArray(a))return!1;for(const _ of a)if("prim"in _){if(isInstruction(_))throw new MichelsonError(a,`Instruction outside of a lambda: ${JSON.stringify(a)}`);if(_.prim==="Elt")throw new MichelsonError(a,`Elt item outside of a map literal: ${JSON.stringify(a)}`)}return!0}function __rest$1(a,_){var $={};for(var j in a)Object.prototype.hasOwnProperty.call(a,j)&&_.indexOf(j)<0&&($[j]=a[j]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var et=0,j=Object.getOwnPropertySymbols(a);et<j.length;et++)_.indexOf(j[et])<0&&Object.prototype.propertyIsEnumerable.call(a,j[et])&&($[j[et]]=a[j[et]]);return $}typeof SuppressedError=="function"&&SuppressedError;const primitives=["parameter","storage","code","False","Elt","Left","None","Pair","Right","Some","True","Unit","PACK","UNPACK","BLAKE2B","SHA256","SHA512","ABS","ADD","AMOUNT","AND","BALANCE","CAR","CDR","CHECK_SIGNATURE","COMPARE","CONCAT","CONS","CREATE_ACCOUNT","CREATE_CONTRACT","IMPLICIT_ACCOUNT","DIP","DROP","DUP","EDIV","EMPTY_MAP","EMPTY_SET","EQ","EXEC","FAILWITH","GE","GET","GT","HASH_KEY","IF","IF_CONS","IF_LEFT","IF_NONE","INT","LAMBDA","LE","LEFT","LOOP","LSL","LSR","LT","MAP","MEM","MUL","NEG","NEQ","NIL","NONE","NOT","NOW","OR","PAIR","PUSH","RIGHT","SIZE","SOME","SOURCE","SENDER","SELF","STEPS_TO_QUOTA","SUB","SWAP","TRANSFER_TOKENS","SET_DELEGATE","UNIT","UPDATE","XOR","ITER","LOOP_LEFT","ADDRESS","CONTRACT","ISNAT","CAST","RENAME","bool","contract","int","key","key_hash","lambda","list","map","big_map","nat","option","or","pair","set","signature","string","bytes","mutez","timestamp","unit","operation","address","SLICE","DIG","DUG","EMPTY_BIG_MAP","APPLY","chain_id","CHAIN_ID","LEVEL","SELF_ADDRESS","never","NEVER","UNPAIR","VOTING_POWER","TOTAL_VOTING_POWER","KECCAK","SHA3","PAIRING_CHECK","bls12_381_g1","bls12_381_g2","bls12_381_fr","sapling_state","sapling_transaction_deprecated","SAPLING_EMPTY_STATE","SAPLING_VERIFY_UPDATE","ticket","TICKET_DEPRECATED","READ_TICKET","SPLIT_TICKET","JOIN_TICKETS","GET_AND_UPDATE","chest","chest_key","OPEN_CHEST","VIEW","view","constant","SUB_MUTEZ","tx_rollup_l2_address","MIN_BLOCK_TIME","sapling_transaction","EMIT","Lambda_rec","LAMBDA_REC","TICKET","BYTES","NAT"];Object.assign({},...primitives.map((a,_)=>({[a]:_})));var Tag;(function(a){a[a.Int=0]="Int",a[a.String=1]="String",a[a.Sequence=2]="Sequence",a[a.Prim0=3]="Prim0",a[a.Prim0Annot=4]="Prim0Annot",a[a.Prim1=5]="Prim1",a[a.Prim1Annot=6]="Prim1Annot",a[a.Prim2=7]="Prim2",a[a.Prim2Annot=8]="Prim2Annot",a[a.Prim=9]="Prim",a[a.Bytes=10]="Bytes"})(Tag||(Tag={}));const boundsErr=new Error("bounds out of range");class Reader{constructor(_,$=0,j=_.length){this.buffer=_,this.idx=$,this.cap=j}get length(){return this.cap-this.idx}readBytes(_){if(this.cap-this.idx<_)throw boundsErr;const $=this.buffer.slice(this.idx,this.idx+_);return this.idx+=_,$}reader(_){if(this.cap-this.idx<_)throw boundsErr;const $=new Reader(this.buffer,this.idx,this.idx+_);return this.idx+=_,$}copy(){return new Reader(this.buffer,this.idx,this.cap)}readUint8(){if(this.cap-this.idx<1)throw boundsErr;return this.buffer[this.idx++]>>>0}readUint16(){if(this.cap-this.idx<2)throw boundsErr;const _=this.buffer[this.idx++],$=this.buffer[this.idx++];return(_<<8|$)>>>0}readUint32(){if(this.cap-this.idx<4)throw boundsErr;const _=this.buffer[this.idx++],$=this.buffer[this.idx++],j=this.buffer[this.idx++],et=this.buffer[this.idx++];return(_<<24|$<<16|j<<8|et)>>>0}readInt8(){if(this.cap-this.idx<1)throw boundsErr;return this.buffer[this.idx++]<<24>>24}readInt16(){if(this.cap-this.idx<2)throw boundsErr;const _=this.buffer[this.idx++],$=this.buffer[this.idx++];return(_<<8|$)<<16>>16}readInt32(){if(this.cap-this.idx<4)throw boundsErr;const _=this.buffer[this.idx++],$=this.buffer[this.idx++],j=this.buffer[this.idx++],et=this.buffer[this.idx++];return _<<24|$<<16|j<<8|et}}var ContractID;(function(a){a[a.Implicit=0]="Implicit",a[a.Originated=1]="Originated"})(ContractID||(ContractID={}));var PublicKeyHashID;(function(a){a[a.ED25519=0]="ED25519",a[a.SECP256K1=1]="SECP256K1",a[a.P256=2]="P256"})(PublicKeyHashID||(PublicKeyHashID={}));function readPublicKeyHash(a){let _;const $=a.readUint8();switch($){case PublicKeyHashID.ED25519:_="ED25519PublicKeyHash";break;case PublicKeyHashID.SECP256K1:_="SECP256K1PublicKeyHash";break;case PublicKeyHashID.P256:_="P256PublicKeyHash";break;default:throw new Error(`unknown public key hash tag: ${$}`)}return{type:_,hash:a.readBytes(20)}}function readAddress(a){let _;const $=a.readUint8();switch($){case ContractID.Implicit:_=readPublicKeyHash(a);break;case ContractID.Originated:_={type:"ContractHash",hash:a.readBytes(20)},a.readBytes(1);break;default:throw new Error(`unknown address tag: ${$}`)}if(a.length!==0){const j=new TextDecoder;_.entryPoint=j.decode(new Uint8Array(a.readBytes(a.length)))}return _}var PublicKeyID;(function(a){a[a.ED25519=0]="ED25519",a[a.SECP256K1=1]="SECP256K1",a[a.P256=2]="P256"})(PublicKeyID||(PublicKeyID={}));function readPublicKey(a){let _,$;const j=a.readUint8();switch(j){case PublicKeyID.ED25519:$="ED25519PublicKey",_=32;break;case PublicKeyID.SECP256K1:$="SECP256K1PublicKey",_=33;break;case PublicKeyID.P256:$="P256PublicKey",_=33;break;default:throw new Error(`unknown public key tag: ${j}`)}return{type:$,publicKey:a.readBytes(_)}}function decodeAddressBytes(a){const _=parseBytes(a.bytes);if(_===null)throw new Error(`can't parse bytes: "${a.bytes}"`);const $=new Reader(new Uint8Array(_));return readAddress($)}function decodePublicKeyHashBytes(a){const _=parseBytes(a.bytes);if(_===null)throw new Error(`can't parse bytes: "${a.bytes}"`);const $=new Reader(new Uint8Array(_));return readPublicKeyHash($)}function decodePublicKeyBytes(a){const _=parseBytes(a.bytes);if(_===null)throw new Error(`can't parse bytes: "${a.bytes}"`);const $=new Reader(new Uint8Array(_));return readPublicKey($)}class MichelsonInstructionError extends MichelsonError{constructor(_,$,j){super(_,j),this.val=_,this.stackState=$,this.message=j,this.name="MichelsonInstructionError"}}function typeID(a){return Array.isArray(a)?"pair":a.prim}function typeArgs(a){return"prim"in a?a.args:a}function assertScalarTypesEqual(a,_,$=!1){if(typeID(a)!==typeID(_))throw new MichelsonTypeError(a,`types mismatch: ${typeID(a)} != ${typeID(_)}`,void 0);const j=[unpackAnnotations(a),unpackAnnotations(_)];if(j[0].t&&j[1].t&&j[0].t[0]!==j[1].t[0])throw new MichelsonTypeError(a,`${typeID(a)}: type names mismatch: ${j[0].t[0]} != ${j[1].t[0]}`,void 0);if($&&j[0].f&&j[1].f&&j[0].f[0]!==j[1].f[0])throw new MichelsonTypeError(a,`${typeID(a)}: field names mismatch: ${j[0].f[0]} != ${j[1].f}`,void 0);if(isPairType(a)){const et=unpackComb("pair",a),tt=unpackComb("pair",_);assertScalarTypesEqual(et.args[0],tt.args[0],!0),assertScalarTypesEqual(et.args[1],tt.args[1],!0);return}switch(a.prim){case"option":case"list":case"contract":case"set":case"ticket":assertScalarTypesEqual(a.args[0],_.args[0]);break;case"or":assertScalarTypesEqual(a.args[0],_.args[0],!0),assertScalarTypesEqual(a.args[1],_.args[1],!0);break;case"lambda":case"map":case"big_map":assertScalarTypesEqual(a.args[0],_.args[0]),assertScalarTypesEqual(a.args[1],_.args[1]);break;case"sapling_state":case"sapling_transaction":if(parseInt(a.args[0].int,10)!==parseInt(_.args[0].int,10))throw new MichelsonTypeError(a,`${typeID(a)}: type argument mismatch: ${a.args[0].int} != ${_.args[0].int}`,void 0)}}function assertStacksEqual(a,_){if(a.length!==_.length)throw new MichelsonTypeError(a,`stack length mismatch: ${a.length} != ${_.length}`,void 0);for(let $=0;$<a.length;$++)assertScalarTypesEqual(a[$],_[$])}function assertTypeAnnotationsValid(a,_=!1){var $,j,et;if(!Array.isArray(a)){const tt=unpackAnnotations(a);if(((($=tt.t)===null||$===void 0?void 0:$.length)||0)>1)throw new MichelsonTypeError(a,`${a.prim}: at most one type annotation allowed: ${a.annots}`,void 0);if(_){if((((j=tt.f)===null||j===void 0?void 0:j.length)||0)>1)throw new MichelsonTypeError(a,`${a.prim}: at most one field annotation allowed: ${a.annots}`,void 0)}else if((((et=tt.f)===null||et===void 0?void 0:et.length)||0)>0)throw new MichelsonTypeError(a,`${a.prim}: field annotations aren't allowed: ${a.annots}`,void 0)}if(isPairType(a)){const tt=typeArgs(a);for(const rt of tt)assertTypeAnnotationsValid(rt,!0);return}switch(a.prim){case"option":case"list":case"contract":case"set":assertTypeAnnotationsValid(a.args[0]);break;case"or":for(const tt of a.args)assertTypeAnnotationsValid(tt,!0);break;case"lambda":case"map":case"big_map":assertTypeAnnotationsValid(a.args[0]),assertTypeAnnotationsValid(a.args[1])}}function isFunction(a){if(!Array.isArray(a))return!1;for(const _ of a)if(!(Array.isArray(_)&&isFunction(_)||"prim"in _&&isInstruction(_)))return!1;return!0}function assertDataValidInternal(a,_,$){if(isPairType(_)){if(isPairData(a)){assertDataListIfAny(a);const j=unpackComb("Pair",a),et=unpackComb("pair",_);assertDataValidInternal(j.args[0],et.args[0],$),assertDataValidInternal(j.args[1],et.args[1],$);return}throw new MichelsonTypeError(_,`pair expected: ${JSON.stringify(a)}`,a)}switch(_.prim){case"int":if("int"in a&&isDecimal(a.int))return;throw new MichelsonTypeError(_,`integer value expected: ${JSON.stringify(a)}`,a);case"nat":case"mutez":if("int"in a&&isNatural(a.int))return;throw new MichelsonTypeError(_,`natural value expected: ${JSON.stringify(a)}`,a);case"string":if("string"in a)return;throw new MichelsonTypeError(_,`string value expected: ${JSON.stringify(a)}`,a);case"bytes":case"bls12_381_g1":case"bls12_381_g2":if("bytes"in a&&parseBytes(a.bytes)!==null)return;throw new MichelsonTypeError(_,`bytes value expected: ${JSON.stringify(a)}`,a);case"bool":if("prim"in a&&(a.prim==="True"||a.prim==="False"))return;throw new MichelsonTypeError(_,`boolean value expected: ${JSON.stringify(a)}`,a);case"key_hash":if("string"in a&&checkDecodeTezosID(a.string,"ED25519PublicKeyHash","SECP256K1PublicKeyHash","P256PublicKeyHash")!==null)return;if("bytes"in a)try{decodePublicKeyHashBytes(a);return}catch{}throw new MichelsonTypeError(_,`key hash expected: ${JSON.stringify(a)}`,a);case"timestamp":if(("string"in a||"int"in a)&&parseDate(a)!==null)return;throw new MichelsonTypeError(_,`timestamp expected: ${JSON.stringify(a)}`,a);case"address":if("string"in a){let j=a.string;const et=a.string.indexOf("%");if(et>=0&&(j=a.string.slice(0,et)),checkDecodeTezosID(j,"ED25519PublicKeyHash","SECP256K1PublicKeyHash","P256PublicKeyHash","ContractHash","RollupAddress")!==null)return}else if("bytes"in a)try{decodeAddressBytes(a);return}catch{}throw new MichelsonTypeError(_,`address expected: ${JSON.stringify(a)}`,a);case"key":if("string"in a&&checkDecodeTezosID(a.string,"ED25519PublicKey","SECP256K1PublicKey","P256PublicKey")!==null)return;if("bytes"in a)try{decodePublicKeyBytes(a);return}catch{}throw new MichelsonTypeError(_,`public key expected: ${JSON.stringify(a)}`,a);case"unit":if("prim"in a&&a.prim==="Unit")return;throw new MichelsonTypeError(_,`unit value expected: ${JSON.stringify(a)}`,a);case"signature":if("bytes"in a||"string"in a&&checkDecodeTezosID(a.string,"ED25519Signature","SECP256K1Signature","P256Signature","GenericSignature")!==null)return;throw new MichelsonTypeError(_,`signature expected: ${JSON.stringify(a)}`,a);case"chain_id":if(("bytes"in a||"string"in a)&&("string"in a?decodeBase58Check(a.string):parseBytes(a.bytes))!==null)return;throw new MichelsonTypeError(_,`chain id expected: ${JSON.stringify(a)}`,a);case"option":if("prim"in a){if(a.prim==="None")return;if(a.prim==="Some"){assertDataValidInternal(a.args[0],_.args[0],$);return}}throw new MichelsonTypeError(_,`option expected: ${JSON.stringify(a)}`,a);case"list":case"set":if(assertDataListIfAny(a)){for(const j of a)assertDataValidInternal(j,_.args[0],$);return}throw new MichelsonTypeError(_,`${_.prim} expected: ${JSON.stringify(a)}`,a);case"or":if("prim"in a){if(a.prim==="Left"){assertDataValidInternal(a.args[0],_.args[0],$);return}else if(a.prim==="Right"){assertDataValidInternal(a.args[0],_.args[1],$);return}}throw new MichelsonTypeError(_,`union (or) expected: ${JSON.stringify(a)}`,a);case"lambda":if(isFunction(a)){const j=functionTypeInternal(a,[_.args[0]],$);if("failed"in j)throw new MichelsonTypeError(_,`function is failed with error type: ${j.failed}`,a);if(j.length!==1)throw new MichelsonTypeError(_,"function must return a value",a);assertScalarTypesEqual(_.args[1],j[0]);return}throw new MichelsonTypeError(_,`function expected: ${JSON.stringify(a)}`,a);case"map":case"big_map":if(Array.isArray(a)){for(const j of a){if(!("prim"in j)||j.prim!=="Elt")throw new MichelsonTypeError(_,`map elements expected: ${JSON.stringify(a)}`,a);assertDataValidInternal(j.args[0],_.args[0],$),assertDataValidInternal(j.args[1],_.args[1],$)}return}throw new MichelsonTypeError(_,`${_.prim} expected: ${JSON.stringify(a)}`,a);case"bls12_381_fr":if("int"in a&&isDecimal(a.int)||"bytes"in a&&parseBytes(a.bytes)!==null)return;throw new MichelsonTypeError(_,`BLS12-381 element expected: ${JSON.stringify(a)}`,a);case"sapling_state":if(Array.isArray(a))return;throw new MichelsonTypeError(_,`sapling state expected: ${JSON.stringify(a)}`,a);case"ticket":assertDataValidInternal(a,{prim:"pair",args:[{prim:"address"},_.args[0],{prim:"nat"}]},$);return;default:throw new MichelsonTypeError(_,`type ${typeID(_)} don't have Michelson literal representation`,a)}}function instructionListType(a,_,$){let j=_,et=_,tt=0;for(const rt of a){const nt=functionTypeInternal(rt,et,$);if(j=nt,"failed"in nt)break;et=nt,tt++}if("failed"in j&&j.level==0&&(!("prim"in j.failed)||j.failed.prim!=="never")&&tt!==a.length-1)throw new MichelsonInstructionError(a,j,"FAIL must appear in a tail position");if(($==null?void 0:$.traceCallback)!==void 0){const rt={op:a,in:_,out:j};$.traceCallback(rt)}return"failed"in j?{failed:j.failed,level:j.level+1}:j}function functionTypeInternal(a,_,$){const j=($==null?void 0:$.protocol)||DefaultProtocol;if(Array.isArray(a))return instructionListType(a,_,$);const et=a;function tt(Ft,...jt){if(_.length<jt.length+Ft)throw new MichelsonInstructionError(et,_,`${et.prim}: stack must have at least ${jt.length} element(s)`);let bt=Ft;for(const vt of jt){if(vt!==null&&vt.length!==0){let ct=0;for(;ct<vt.length&&vt[ct]!==typeID(_[bt]);)ct++;if(ct===vt.length)throw new MichelsonInstructionError(et,_,`${et.prim}: stack type mismatch: [${bt}] expected to be ${vt}, got ${typeID(_[bt])} instead`)}bt++}return _.slice(Ft,jt.length+Ft)}function rt(Ft){return(...jt)=>{try{return Ft(...jt)}catch(bt){throw bt instanceof MichelsonError?new MichelsonInstructionError(et,_,bt.message):bt}}}function nt(Ft){return jt=>{try{return Ft(jt)}catch(bt){throw bt instanceof MichelsonError?new MichelsonInstructionError(et,_,bt.message):bt}}}const it=rt(unpackAnnotations),st=rt(assertStacksEqual),ot=rt(assertScalarTypesEqual),at=nt(assertMichelsonComparableType),ut=nt(assertMichelsonPackableType),ht=nt(assertMichelsonStorableType),yt=nt(assertMichelsonPushableType),wt=nt(assertMichelsonBigMapStorableType);function Ct(Ft,jt){const bt=it(et,Object.assign(Object.assign({},jt),{emptyFields:Ft.f!==void 0&&Ft.f>1,emptyVar:Ft.v!==void 0&&Ft.v>1})),vt=(ct,dt,mt)=>{if(ct&&ct.length>(dt||0))throw new MichelsonInstructionError(et,_,`${et.prim}: at most ${dt||0} ${mt} annotations allowed`)};return vt(bt.f,Ft.f,"field"),vt(bt.t,Ft.t,"type"),vt(bt.v,Ft.v,"variable"),bt}function Pt(Ft,jt){const bt=Ft,vt=Array.isArray(bt)?{prim:"pair",args:bt}:bt,ct=it(vt),dt=jt.v!==void 0||jt.t!==void 0||jt.f!==void 0?[...(jt.v===null?ct.v:jt.v)||[],...(jt.t===null?ct.t:jt.t)||[],...(jt.f===null?ct.f:jt.f)||[]]:void 0,mt=__rest$1(vt,["annots"]);return Object.assign(Object.assign({},mt),dt&&dt.length!==0&&{annots:dt})}function Tt(Ft,jt){const bt=Ct({v:1});return Pt(Ft,{v:bt.v!==void 0?bt.v:jt!==void 0?[jt]:null,t:null})}function Mt(Ft,jt,bt,vt,ct){var dt,mt,xt,At;const Rt=(dt=it(jt).f)===null||dt===void 0?void 0:dt[0],St=(mt=bt.f)===null||mt===void 0?void 0:mt[vt];if(St!==void 0&&St!=="%"&&Rt!==void 0&&St!==Rt)throw new MichelsonInstructionError(et,_,`${et.prim}: field names doesn't match: ${St} !== ${Rt}`);const $t=(xt=bt.v)===null||xt===void 0?void 0:xt[vt],Et=(At=it(Ft).v)===null||At===void 0?void 0:At[0];return Pt(jt,{t:null,v:$t?$t==="@%"?Rt?["@"+Rt.slice(1)]:void 0:$t==="@%%"?Et?["@"+Et.slice(1)+"."+(Rt?Rt.slice(1):ct)]:Rt?["@"+Rt.slice(1)]:void 0:[$t]:null})}function Lt(Ft,jt,bt=jt){const vt=unpackComb("pair",Ft);if(bt===1)return[vt.args[0]];if(bt===2)return vt.args;const ct=vt.args[1];if(isPairType(ct))return[vt.args[0],...Lt(ct,jt,bt-1)];throw new MichelsonInstructionError(et,_,`${et.prim}: at least ${jt} fields are expected`)}function Dt(Ft,jt,bt=jt){if(bt===0)return Ft;const vt=unpackComb("pair",Ft);if(bt===1)return vt.args[0];const ct=vt.args[1];if(isPairType(ct))return Dt(ct,jt,bt-2);if(bt===2)return ct;throw new MichelsonInstructionError(et,_,`${et.prim}: at least ${jt+1} fields are expected`)}function Ut(Ft,jt,bt,vt=bt){if(vt===0)return jt;const ct=unpackComb("pair",Ft);if(vt===1)return Object.assign(Object.assign({},ct),{args:[jt,ct.args[1]]});const dt=ct.args[1];if(isPairType(dt))return Object.assign(Object.assign({},ct),{args:[ct.args[0],Ut(dt,jt,bt,vt-2)]});if(vt===2)return Object.assign(Object.assign({},ct),{args:[ct.args[0],jt]});throw new MichelsonInstructionError(et,_,`${et.prim}: at least ${bt+1} fields are expected`)}const Ot=(Ft,jt)=>["@"+(Ft.v?Ft.v[0].slice(1)+".":"")+jt];function It(Ft,jt){return"failed"in Ft||"failed"in jt?"failed"in Ft?jt:Ft:(st(Ft,jt),Ft)}const Bt=(Ft=>{var jt,bt,vt,ct,dt;switch(Ft.prim){case"DUP":{const mt=Ft.args?parseInt(Ft.args[0].int,10):1;if(mt===0)throw new MichelsonInstructionError(Ft,_,"DUP 0 is forbidden");const xt=tt(mt-1,null)[0];if(typeID(xt)==="ticket")throw new MichelsonInstructionError(Ft,_,"ticket can't be DUPed");return[xt,..._]}case"SWAP":{const mt=tt(0,null,null);return Ct({}),[mt[1],mt[0],..._.slice(2)]}case"SOME":return[Pt({prim:"option",args:[tt(0,null)[0]]},Ct({t:1,v:1})),..._.slice(1)];case"UNIT":return[Pt({prim:"unit"},Ct({v:1,t:1})),..._];case"PAIR":{const mt=Ft.args?parseInt(Ft.args[0].int,10):2;if(mt<2)throw new MichelsonInstructionError(Ft,_,`PAIR ${mt} is forbidden`);const xt=tt(0,...new Array(mt).fill(null)),At=Ct({f:mt,t:1,v:1},{specialFields:!0}),Rt=$t=>{const Et=$t.lastIndexOf(".");return $t.slice(Et>0?Et+1:1)},St=xt.map(($t,Et)=>{var Nt;const tr=it($t),ir=At.f&&At.f.length>Et&&At.f[Et]!=="%"?At.f[Et]==="%@"?tr.v?["%"+Rt(((Nt=tr.v)===null||Nt===void 0?void 0:Nt[0])||"")]:void 0:[At.f[Et]]:void 0;return Pt($t,{v:null,t:null,f:ir})});return[Pt({prim:"pair",args:St},{t:At.t,v:At.v}),..._.slice(mt)]}case"UNPAIR":{const mt=Ft.args?parseInt(Ft.args[0].int,10):2;if(mt<2)throw new MichelsonInstructionError(Ft,_,`UNPAIR ${mt} is forbidden`);const xt=tt(0,["pair"])[0],At=Ct({f:2,v:2},{specialVar:!0});return[...Lt(xt,mt).map((St,$t)=>Mt(xt,St,At,$t,$t===0?"car":"cdr")),..._.slice(1)]}case"CAR":case"CDR":{const mt=unpackComb("pair",tt(0,["pair"])[0]),xt=mt.args[Ft.prim==="CAR"?0:1],At=Ct({f:1,v:1},{specialVar:!0});return[Mt(mt,xt,At,0,Ft.prim.toLocaleLowerCase()),..._.slice(1)]}case"CONS":{const mt=tt(0,null,["list"]);return ot(mt[0],mt[1].args[0]),[Tt({prim:"list",args:[mt[1].args[0]]}),..._.slice(2)]}case"SIZE":return tt(0,["string","list","set","map","bytes"]),[Tt({prim:"nat"}),..._.slice(1)];case"MEM":{const mt=tt(0,null,["set","map","big_map"]);return at(mt[0]),ot(mt[0],mt[1].args[0]),[Tt({prim:"bool"}),..._.slice(2)]}case"GET":if(Ft.args){const mt=parseInt(Ft.args[0].int,10),xt=tt(0,["pair"])[0];return[Tt(Dt(xt,mt)),..._.slice(1)]}else{const mt=tt(0,null,["map","big_map"]);return at(mt[0]),ot(mt[0],mt[1].args[0]),[Tt({prim:"option",args:[mt[1].args[1]]}),..._.slice(2)]}case"UPDATE":if(Ft.args){const mt=parseInt(Ft.args[0].int,10),xt=tt(0,null,["pair"]);return[Tt(Ut(xt[1],xt[0],mt)),..._.slice(2)]}else{const mt=tt(0,null,["bool","option"]);if(at(mt[0]),mt[1].prim==="bool"){const At=tt(2,["set"]);return ot(mt[0],At[0].args[0]),[Tt({prim:"set",args:[Pt(mt[0],{t:null})]}),..._.slice(3)]}const xt=tt(2,["map","big_map"]);return ot(mt[0],xt[0].args[0]),xt[0].prim==="map"?[Tt({prim:"map",args:[Pt(mt[0],{t:null}),Pt(mt[1].args[0],{t:null})]}),..._.slice(3)]:(wt(mt[1].args[0]),[Tt({prim:"big_map",args:[Pt(mt[0],{t:null}),Pt(mt[1].args[0],{t:null})]}),..._.slice(3)])}case"GET_AND_UPDATE":{const mt=Ct({v:2}),xt=tt(0,null,["option"],["map","big_map"]);at(xt[0]),ot(xt[0],xt[2].args[0]),ot(xt[1].args[0],xt[2].args[1]);const At=(jt=mt.v)===null||jt===void 0?void 0:jt.map(Rt=>Rt!=="@"?[Rt]:void 0);return xt[2].prim==="map"?[Pt({prim:"option",args:[xt[2].args[1]]},{v:At==null?void 0:At[0]}),Pt({prim:"map",args:[Pt(xt[0],{t:null}),Pt(xt[1].args[0],{t:null})]},{v:At==null?void 0:At[1]}),..._.slice(3)]:(wt(xt[1].args[0]),[Pt({prim:"option",args:[xt[2].args[1]]},{v:At==null?void 0:At[0]}),Pt({prim:"big_map",args:[Pt(xt[0],{t:null}),Pt(xt[1].args[0],{t:null})]},{v:At==null?void 0:At[1]}),..._.slice(3)])}case"EXEC":{const mt=tt(0,null,["lambda"]);return ot(mt[0],mt[1].args[0]),[Tt(mt[1].args[1]),..._.slice(2)]}case"APPLY":{const mt=tt(0,null,["lambda"]);if(ht(mt[0]),yt(mt[0]),!isPairType(mt[1].args[0]))throw new MichelsonInstructionError(Ft,_,`${Ft.prim}: function's argument must be a pair: ${typeID(mt[1].args[0])}`);const xt=mt[1].args[0];return ot(mt[0],typeArgs(xt)[0]),[Tt({prim:"lambda",args:[typeArgs(xt)[1],mt[1].args[1]]}),..._.slice(2)]}case"FAILWITH":{const mt=tt(0,null)[0];return ProtoInferiorTo(j,Protocol.PtEdo2Zk)||ut(mt),{failed:mt,level:0}}case"NEVER":return tt(0,["never"]),{failed:{prim:"never"},level:0};case"RENAME":return[Tt(tt(0,null)[0]),..._.slice(1)];case"CONCAT":{const mt=tt(0,["string","list","bytes"]);if(mt[0].prim==="list"){if(typeID(mt[0].args[0])!=="string"&&typeID(mt[0].args[0])!=="bytes")throw new MichelsonInstructionError(Ft,_,`${Ft.prim}: can't concatenate list of ${typeID(mt[0].args[0])}'s`);return[Tt(mt[0].args[0]),..._.slice(1)]}const xt=tt(1,["string","bytes"]);if(mt[0].prim!==xt[0].prim)throw new MichelsonInstructionError(Ft,_,`${Ft.prim}: can't concatenate ${mt[0].prim} with ${xt[0].prim}`);return[Tt(xt[0]),..._.slice(2)]}case"SLICE":return[Tt({prim:"option",args:[tt(0,["nat"],["nat"],["string","bytes"])[2]]},"@slice"),..._.slice(3)];case"PACK":{const mt=tt(0,null)[0];return ut(mt),[Tt({prim:"bytes"},"@packed"),..._.slice(1)]}case"ADD":{const mt=tt(0,["nat","int","timestamp","mutez","bls12_381_g1","bls12_381_g2","bls12_381_fr"],["nat","int","timestamp","mutez","bls12_381_g1","bls12_381_g2","bls12_381_fr"]);if(mt[0].prim==="nat"&&mt[1].prim==="int"||mt[0].prim==="int"&&mt[1].prim==="nat")return[Tt({prim:"int"}),..._.slice(2)];if(mt[0].prim==="int"&&mt[1].prim==="timestamp"||mt[0].prim==="timestamp"&&mt[1].prim==="int")return[Tt({prim:"timestamp"}),..._.slice(2)];if((mt[0].prim==="int"||mt[0].prim==="nat"||mt[0].prim==="mutez"||mt[0].prim==="bls12_381_g1"||mt[0].prim==="bls12_381_g2"||mt[0].prim==="bls12_381_fr")&&mt[0].prim===mt[1].prim)return[Tt(mt[0]),..._.slice(2)];throw new MichelsonInstructionError(Ft,_,`${Ft.prim}: can't add ${mt[0].prim} to ${mt[1].prim}`)}case"SUB":{const mt=ProtoInferiorTo(j,Protocol.PsiThaCa)?tt(0,["nat","int","timestamp","mutez"],["nat","int","timestamp","mutez"]):tt(0,["nat","int","timestamp"],["nat","int","timestamp"]);if((mt[0].prim==="nat"||mt[0].prim==="int")&&(mt[1].prim==="nat"||mt[1].prim==="int")||mt[0].prim==="timestamp"&&mt[1].prim==="timestamp")return[Tt({prim:"int"}),..._.slice(2)];if(mt[0].prim==="timestamp"&&mt[1].prim==="int")return[Tt({prim:"timestamp"}),..._.slice(2)];if(mt[0].prim==="mutez"&&mt[1].prim==="mutez")return[Tt({prim:"mutez"}),..._.slice(2)];throw new MichelsonInstructionError(Ft,_,`${Ft.prim}: can't subtract ${mt[0].prim} from ${mt[1].prim}`)}case"SUB_MUTEZ":return tt(0,["mutez"],["mutez"]),[Tt({prim:"option",args:[{prim:"mutez"}]}),..._.slice(2)];case"MUL":{const mt=tt(0,["nat","int","mutez","bls12_381_g1","bls12_381_g2","bls12_381_fr"],["nat","int","mutez","bls12_381_g1","bls12_381_g2","bls12_381_fr"]);if(mt[0].prim==="nat"&&mt[1].prim==="int"||mt[0].prim==="int"&&mt[1].prim==="nat")return[Tt({prim:"int"}),..._.slice(2)];if(mt[0].prim==="nat"&&mt[1].prim==="mutez"||mt[0].prim==="mutez"&&mt[1].prim==="nat")return[Tt({prim:"mutez"}),..._.slice(2)];if((mt[0].prim==="bls12_381_g1"||mt[0].prim==="bls12_381_g2"||mt[0].prim==="bls12_381_fr")&&mt[1].prim==="bls12_381_fr"||(mt[0].prim==="nat"||mt[0].prim==="int")&&mt[0].prim===mt[1].prim)return[Tt(mt[0]),..._.slice(2)];if((mt[0].prim==="nat"||mt[0].prim==="int")&&mt[1].prim==="bls12_381_fr"||(mt[1].prim==="nat"||mt[1].prim==="int")&&mt[0].prim==="bls12_381_fr")return[Tt({prim:"bls12_381_fr"}),..._.slice(2)];throw new MichelsonInstructionError(Ft,_,`${Ft.prim}: can't multiply ${mt[0].prim} by ${mt[1].prim}`)}case"EDIV":{const mt=(At,Rt)=>({prim:"option",args:[{prim:"pair",args:[{prim:At},{prim:Rt}]}]}),xt=tt(0,["nat","int","mutez"],["nat","int","mutez"]);if(xt[0].prim==="nat"&&xt[1].prim==="nat")return[Tt(mt("nat","nat")),..._.slice(2)];if((xt[0].prim==="nat"||xt[0].prim==="int")&&(xt[1].prim==="nat"||xt[1].prim==="int"))return[Tt(mt("int","nat")),..._.slice(2)];if(xt[0].prim==="mutez"&&xt[1].prim==="nat")return[Tt(mt("mutez","mutez")),..._.slice(2)];if(xt[0].prim==="mutez"&&xt[1].prim==="mutez")return[Tt(mt("nat","mutez")),..._.slice(2)];throw new MichelsonInstructionError(Ft,_,`${Ft.prim}: can't euclideally divide ${xt[0].prim} by ${xt[1].prim}`)}case"ABS":return tt(0,["int"]),[Tt({prim:"nat"}),..._.slice(1)];case"ISNAT":return tt(0,["int"]),[Tt({prim:"option",args:[{prim:"nat"}]}),..._.slice(1)];case"INT":return tt(0,["nat","bls12_381_fr","bytes"]),[Tt({prim:"int"}),..._.slice(1)];case"BYTES":return tt(0,["nat","int"]),[Tt({prim:"bytes"}),..._.slice(1)];case"NAT":return tt(0,["bytes"]),[Tt({prim:"nat"}),..._.slice(1)];case"NEG":{const mt=tt(0,["nat","int","bls12_381_g1","bls12_381_g2","bls12_381_fr"])[0];return mt.prim==="nat"||mt.prim==="int"?[Tt({prim:"int"}),..._.slice(1)]:[Tt(mt),..._.slice(1)]}case"LSL":case"LSR":return tt(0,["nat","bytes"],["nat","bytes"]),[Tt({prim:"nat"}),..._.slice(2)];case"OR":case"XOR":{const mt=tt(0,["nat","bytes","bool"],["nat","bytes","bool"]);if(mt[0].prim!==mt[1].prim)throw new MichelsonInstructionError(Ft,_,`${Ft.prim}: both arguments must be of the same type: ${mt[0].prim}, ${mt[1].prim}`);return[Tt(mt[1]),..._.slice(2)]}case"AND":{const mt=tt(0,["nat","bytes","bool","int"],["nat","bytes","bool"]);if((mt[0].prim!=="int"||mt[1].prim!=="nat")&&mt[0].prim!==mt[1].prim)throw new MichelsonInstructionError(Ft,_,`${Ft.prim}: both arguments must be of the same type: ${mt[0].prim}, ${mt[1].prim}`);return[Tt(mt[1]),..._.slice(2)]}case"NOT":return tt(0,["nat","bytes","bool","int"])[0].prim==="bool"?[Tt({prim:"bool"}),..._.slice(1)]:[Tt({prim:"int"}),..._.slice(1)];case"COMPARE":{const mt=tt(0,null,null);return at(mt[0]),at(mt[1]),[Tt({prim:"int"}),..._.slice(2)]}case"EQ":case"NEQ":case"LT":case"GT":case"LE":case"GE":return tt(0,["int"]),[Tt({prim:"bool"}),..._.slice(1)];case"SELF":{if(($==null?void 0:$.contract)===void 0)throw new MichelsonInstructionError(Ft,_,`${Ft.prim}: contract required`);const mt=Ct({f:1,v:1}),xt=contractEntryPoint($.contract,(bt=mt.f)===null||bt===void 0?void 0:bt[0]);if(xt===null)throw new MichelsonInstructionError(Ft,_,`${Ft.prim}: contract has no entrypoint ${xt}`);return[Pt({prim:"contract",args:[xt]},{v:mt.v?mt.v:["@self"]}),..._]}case"TRANSFER_TOKENS":{const mt=tt(0,null,["mutez"],["contract"]);return ot(mt[0],mt[2].args[0]),[Tt({prim:"operation"}),..._.slice(3)]}case"SET_DELEGATE":{const mt=tt(0,["option"])[0];if(typeID(mt.args[0])!=="key_hash")throw new MichelsonInstructionError(Ft,_,`${Ft.prim}: key hash expected: ${typeID(mt.args[0])}`);return[Tt({prim:"operation"}),..._.slice(1)]}case"IMPLICIT_ACCOUNT":return tt(0,["key_hash"]),[Tt({prim:"contract",args:[{prim:"unit"}]}),..._.slice(1)];case"NOW":return[Tt({prim:"timestamp"},"@now"),..._];case"AMOUNT":return[Tt({prim:"mutez"},"@amount"),..._];case"BALANCE":return[Tt({prim:"mutez"},"@balance"),..._];case"CHECK_SIGNATURE":return tt(0,["key"],["signature"],["bytes"]),[Tt({prim:"bool"}),..._.slice(3)];case"BLAKE2B":case"SHA256":case"SHA512":case"KECCAK":case"SHA3":return tt(0,["bytes"]),[Tt({prim:"bytes"}),..._.slice(1)];case"HASH_KEY":return tt(0,["key"]),[Tt({prim:"key_hash"}),..._.slice(1)];case"SOURCE":return[Tt({prim:"address"},"@source"),..._];case"SENDER":return[Tt({prim:"address"},"@sender"),..._];case"ADDRESS":{const mt=tt(0,["contract"])[0],xt=Ct({v:1});return[Pt({prim:"address",[refContract]:mt},{v:xt.v?xt.v:Ot(it(mt),"address")}),..._.slice(1)]}case"SELF_ADDRESS":{const mt={prim:"address"};return($==null?void 0:$.contract)!==void 0&&(mt[refContract]={prim:"contract",args:[contractSection($.contract,"parameter").args[0]]}),[Tt(mt,"@address"),..._]}case"CHAIN_ID":return[Tt({prim:"chain_id"}),..._];case"DROP":{Ct({});const mt=Ft.args!==void 0?parseInt(Ft.args[0].int,10):1;return tt(mt-1,null),_.slice(mt)}case"DIG":{Ct({});const mt=parseInt(Ft.args[0].int,10);return[tt(mt,null)[0],..._.slice(0,mt),..._.slice(mt+1)]}case"DUG":{Ct({});const mt=parseInt(Ft.args[0].int,10);return[..._.slice(1,mt+1),tt(0,null)[0],..._.slice(mt+1)]}case"NONE":return assertTypeAnnotationsValid(Ft.args[0]),[Pt({prim:"option",args:[Ft.args[0]]},Ct({t:1,v:1})),..._];case"LEFT":case"RIGHT":{const mt=tt(0,null)[0],xt=Ct({f:2,t:1,v:1},{specialFields:!0}),At=it(mt),Rt=[Pt(mt,{t:null,v:null,f:xt.f&&xt.f.length>0&&xt.f[0]!=="%"?xt.f[0]==="%@"?At.v?["%"+At.v[0].slice(1)]:void 0:xt.f:void 0}),Pt(Ft.args[0],{t:null,f:xt.f&&xt.f.length>1&&xt.f[1]!=="%"?xt.f:void 0})];return[Pt({prim:"or",args:Ft.prim==="LEFT"?Rt:[Rt[1],Rt[0]]},{t:xt.t,v:xt.v}),..._.slice(1)]}case"NIL":return assertTypeAnnotationsValid(Ft.args[0]),[Pt({prim:"list",args:[Ft.args[0]]},Ct({t:1,v:1})),..._];case"UNPACK":return tt(0,["bytes"]),assertTypeAnnotationsValid(Ft.args[0]),[Tt({prim:"option",args:[Ft.args[0]]},"@unpacked"),..._.slice(1)];case"CONTRACT":{const mt=tt(0,["address"])[0];assertTypeAnnotationsValid(Ft.args[0]);const xt=Ct({v:1,f:1}),At=mt[refContract];if(At!==void 0){const Rt=contractEntryPoint(At,(vt=xt.f)===null||vt===void 0?void 0:vt[0]);if(Rt===null)throw new MichelsonInstructionError(Ft,_,`${Ft.prim}: contract has no entrypoint ${Rt}`);ot(Rt,Ft.args[0])}return[Pt({prim:"option",args:[{prim:"contract",args:[Ft.args[0]]}]},{v:xt.v?xt.v:Ot(it(mt),"contract")}),..._.slice(1)]}case"CAST":{Ct({});const mt=tt(0,null)[0];return assertTypeAnnotationsValid(Ft.args[0]),ot(Ft.args[0],mt),[Ft.args[0],..._.slice(1)]}case"IF_NONE":{Ct({});const mt=tt(0,["option"])[0],xt=_.slice(1),At=functionTypeInternal(Ft.args[0],xt,$),Rt=functionTypeInternal(Ft.args[1],[Pt(mt.args[0],{t:null,v:Ot(it(mt),"some")}),...xt],$);return It(At,Rt)}case"IF_LEFT":{Ct({});const mt=tt(0,["or"])[0],xt=it(mt),At=it(mt.args[0]),Rt=it(mt.args[1]),St=_.slice(1),$t=functionTypeInternal(Ft.args[0],[Pt(mt.args[0],{t:null,v:Ot(xt,At.f?At.f[0].slice(1):"left")}),...St],$),Et=functionTypeInternal(Ft.args[1],[Pt(mt.args[1],{t:null,v:Ot(xt,Rt.f?Rt.f[0].slice(1):"right")}),...St],$);return It($t,Et)}case"IF_CONS":{Ct({});const mt=tt(0,["list"])[0],xt=it(mt),At=_.slice(1),Rt=functionTypeInternal(Ft.args[0],[Pt(mt.args[0],{t:null,v:Ot(xt,"hd")}),Pt(mt,{t:null,v:Ot(xt,"tl")}),...At],$),St=functionTypeInternal(Ft.args[1],At,$);return It(Rt,St)}case"IF":{Ct({}),tt(0,["bool"]);const mt=_.slice(1),xt=functionTypeInternal(Ft.args[0],mt,$),At=functionTypeInternal(Ft.args[1],mt,$);return It(xt,At)}case"MAP":{const mt=tt(0,["list","map","option"])[0],xt=_.slice(1),At=mt.prim==="map"?{prim:"pair",args:mt.args}:mt.args[0],Rt=functionTypeInternal(Ft.args[0],[Pt(At,{t:null,v:Ot(it(mt),"elt")}),...xt],$);if("failed"in Rt){if(!("prim"in Rt.failed)||Rt.failed.prim!=="never")throw new MichelsonInstructionError(Ft,_,`${Ft.prim}: FAIL is not allowed in MAP`);return{failed:Rt.failed,level:Rt.level+1}}if(Rt.length<1)throw new MichelsonInstructionError(Ft,_,`${Ft.prim}: function must return a value`);return st(Rt.slice(1),xt),mt.prim==="list"?[Tt({prim:"list",args:[Rt[0]]}),...xt]:mt.prim==="map"?[Tt({prim:"map",args:[mt.args[0],Rt[0]]}),...xt]:[Tt({prim:"option",args:[Rt[0]]}),...xt]}case"ITER":{Ct({});const mt=tt(0,["set","list","map"])[0],xt=_.slice(1),At=mt.prim==="map"?{prim:"pair",args:mt.args}:mt.args[0],Rt=functionTypeInternal(Ft.args[0],[Pt(At,{t:null,v:Ot(it(mt),"elt")}),...xt],$);return"failed"in Rt?{failed:Rt.failed,level:Rt.level+1}:(st(Rt,xt),xt)}case"LOOP":{Ct({}),tt(0,["bool"]);const mt=_.slice(1),xt=functionTypeInternal(Ft.args[0],mt,$);return"failed"in xt?{failed:xt.failed,level:xt.level+1}:(st(xt,[{prim:"bool"},...mt]),mt)}case"LOOP_LEFT":{Ct({});const mt=tt(0,["or"])[0],xt=_.slice(1),At=functionTypeInternal(Ft.args[0],[Pt(mt.args[0],{t:null,v:Ot(it(mt),"left")}),...xt],$);return"failed"in At?{failed:At.failed,level:At.level+1}:(st(At,[mt,...xt]),[Pt(mt.args[1],{t:null,v:Ct({v:1}).v}),...xt])}case"DIP":{Ct({});const mt=Ft.args.length===2?parseInt(Ft.args[0].int,10):1;tt(mt-1,null);const xt=_.slice(0,mt),At=_.slice(mt),Rt=Ft.args.length===2?functionTypeInternal(Ft.args[1],At,$):functionTypeInternal(Ft.args[0],At,$);return"failed"in Rt?{failed:Rt.failed,level:Rt.level+1}:[...xt,...Rt]}case"CREATE_CONTRACT":{const mt=Ct({v:2}),xt=tt(0,["option"],["mutez"],null);if(typeID(xt[0].args[0])!=="key_hash")throw new MichelsonInstructionError(Ft,_,`${Ft.prim}: key hash expected: ${typeID(xt[0].args[0])}`);ht(xt[2])&&(assertContractValid(Ft.args[0]),assertScalarTypesEqual(contractSection(Ft.args[0],"storage").args[0],xt[2]));const At=(ct=mt.v)===null||ct===void 0?void 0:ct.map(Rt=>Rt!=="@"?[Rt]:void 0);return[Pt({prim:"operation"},{v:At==null?void 0:At[0]}),Pt({prim:"address",[refContract]:{prim:"contract",args:[contractSection(Ft.args[0],"parameter").args[0]]}},{v:At==null?void 0:At[1]}),..._.slice(3)]}case"PUSH":return assertTypeAnnotationsValid(Ft.args[0]),assertDataValidInternal(Ft.args[1],Ft.args[0],Object.assign(Object.assign({},$),{contract:void 0})),[Tt(Ft.args[0]),..._];case"EMPTY_SET":return assertTypeAnnotationsValid(Ft.args[0]),at(Ft.args[0]),[Pt({prim:"set",args:Ft.args},Ct({t:1,v:1})),..._];case"EMPTY_MAP":return assertTypeAnnotationsValid(Ft.args[0]),at(Ft.args[0]),assertTypeAnnotationsValid(Ft.args[1]),[Pt({prim:"map",args:Ft.args},Ct({t:1,v:1})),..._];case"EMPTY_BIG_MAP":return assertTypeAnnotationsValid(Ft.args[0]),at(Ft.args[0]),assertTypeAnnotationsValid(Ft.args[1]),wt(Ft.args[0]),[Pt({prim:"big_map",args:Ft.args},Ct({t:1,v:1})),..._];case"LAMBDA_REC":case"LAMBDA":{assertTypeAnnotationsValid(Ft.args[0]),assertTypeAnnotationsValid(Ft.args[1]);const mt=[Ft.args[0]];Ft.prim==="LAMBDA_REC"&&mt.push({prim:"lambda",args:[Ft.args[0],Ft.args[1]]});const xt=functionTypeInternal(Ft.args[2],mt,Object.assign(Object.assign({},$),{contract:void 0}));if("failed"in xt)return{failed:xt.failed,level:xt.level+1};if(xt.length!==1)throw new MichelsonInstructionError(Ft,_,`${Ft.prim}: function must return a value`);return ot(Ft.args[1],xt[0]),[Tt({prim:"lambda",args:[Ft.args[0],Ft.args[1]]}),..._]}case"LEVEL":return[Tt({prim:"nat"},"@level"),..._];case"TOTAL_VOTING_POWER":return[Tt({prim:"nat"}),..._];case"VOTING_POWER":return tt(0,["key_hash"]),[Tt({prim:"nat"}),..._.slice(1)];case"TICKET":{const mt=tt(0,null,["nat"])[0];return at(mt),ProtoInferiorTo(j,Protocol.PtLimaPtL)?[Pt({prim:"ticket",args:[mt]},Ct({t:1,v:1})),..._.slice(2)]:[Tt({prim:"option",args:[Pt({prim:"ticket",args:[mt]},Ct({t:1,v:1}))]}),..._.slice(2)]}case"JOIN_TICKETS":{const mt=unpackComb("pair",tt(0,["pair"])[0]);if(typeID(mt.args[0])!=="ticket")throw new MichelsonInstructionError(Ft,_,`${Ft.prim}: ticket expected: ${typeID(mt.args[0])}`);return ot(mt.args[0],mt.args[1]),[Tt({prim:"option",args:[Pt(mt.args[0],{t:null})]}),..._.slice(1)]}case"SPLIT_TICKET":{const mt=tt(0,["ticket"],["pair"]),xt=unpackComb("pair",mt[1]);if(typeID(xt.args[0])!=="nat")throw new MichelsonInstructionError(Ft,_,`${Ft.prim}: nat expected: ${typeID(xt.args[0])}`);return ot(xt.args[0],xt.args[1]),[Tt({prim:"option",args:[{prim:"pair",args:[Pt(mt[0],{t:null}),Pt(mt[0],{t:null})]}]}),..._.slice(2)]}case"READ_TICKET":{const mt=Ct({v:2}),xt=tt(0,["ticket"])[0],At=(dt=mt.v)===null||dt===void 0?void 0:dt.map(Rt=>Rt!=="@"?[Rt]:void 0);return[Pt({prim:"pair",args:[{prim:"address"},Pt(xt.args[0],{t:null}),{prim:"nat"}]},{v:At==null?void 0:At[0]}),Pt(xt,{v:At==null?void 0:At[1],t:null}),..._.slice(1)]}case"PAIRING_CHECK":{const mt=tt(0,["list"])[0].args[0];if(!isPairType(mt))throw new MichelsonInstructionError(Ft,_,`${Ft.prim}: pair expected: ${typeID(mt)}`);const xt=unpackComb("pair",mt);if(typeID(xt.args[0])!=="bls12_381_g1")throw new MichelsonInstructionError(Ft,_,`${Ft.prim}: bls12_381_g1 expected: ${typeID(xt.args[0])}`);if(typeID(xt.args[1])!=="bls12_381_g2")throw new MichelsonInstructionError(Ft,_,`${Ft.prim}: bls12_381_g2 expected: ${typeID(xt.args[1])}`);return[Tt({prim:"bool"}),..._.slice(1)]}case"SAPLING_EMPTY_STATE":return[Pt({prim:"sapling_state",args:[Ft.args[0]]},Ct({v:1,t:1})),..._];case"SAPLING_VERIFY_UPDATE":{const mt=tt(0,["sapling_transaction"],["sapling_state"]);if(parseInt(mt[0].args[0].int,10)!==parseInt(mt[1].args[0].int,10))throw new MichelsonInstructionError(Ft,_,`${Ft.prim}: sapling memo size mismatch: ${mt[0].args[0].int} != ${mt[1].args[0].int}`);return ProtoInferiorTo(j,Protocol.PtJakarta)?[Tt({prim:"option",args:[{prim:"pair",args:[{prim:"int"},Pt(mt[1],{t:null})]}]}),..._.slice(2)]:[Tt({prim:"option",args:[{prim:"pair",args:[{prim:"bytes"},{prim:"pair",args:[{prim:"int"},Pt(mt[1],{t:null})]}]}]}),..._.slice(2)]}case"OPEN_CHEST":return tt(0,["chest_key"],["chest"],["nat"]),[Tt({prim:"or",args:[{prim:"bytes"},{prim:"bool"}]}),..._.slice(3)];case"VIEW":{const mt=tt(0,null,["address"]);return yt(mt[0]),[Tt({prim:"option",args:[Ft.args[1]]}),..._.slice(2)]}case"MIN_BLOCK_TIME":return[Tt({prim:"nat"}),..._];case"EMIT":{const mt=Ct({f:1,t:1});if(Ft.args){const xt=tt(0,null);return ot(xt[0],Ft.args[0]),[Pt({prim:"operation"},mt),..._.slice(1)]}return[Pt({prim:"operation"},mt),..._.slice(1)]}default:throw new MichelsonError(Ft,`unexpected instruction: ${Ft.prim}`)}})(et);if(($==null?void 0:$.traceCallback)!==void 0){const Ft={op:et,in:_,out:Bt};$.traceCallback(Ft)}return Bt}function contractSection(a,_){for(const $ of a)if($.prim===_)return $;throw new MichelsonError(a,`missing contract section: ${_}`)}function contractViews(a){const _={};for(const $ of a)$.prim==="view"&&(_[$.args[0].string]=$);return _}function isContract(a){if(Array.isArray(a)){for(const _ of a)if("prim"in _&&(_.prim==="parameter"||_.prim==="storage"||_.prim==="code"))return!0}return!1}function contractEntryPoint(a,_){_=_||"%default";const $=contractEntryPoints(a).find(j=>j[0]===_);return $!==void 0?$[1]:_==="%default"?isContract(a)?contractSection(a,"parameter").args[0]:a:null}function isOrType(a){return Array.isArray(a)||a.prim==="or"}function contractEntryPoints(a){if(isContract(a)){const _=contractSection(a,"parameter"),$=contractEntryPoints(_.args[0]),j=unpackAnnotations(_);return j.f?[[j.f[0],_.args[0]],...$]:$}if(isOrType(a)){const _=typeArgs(a),$=j=>{const et=unpackAnnotations(_[j]);if(typeID(_[j])==="or"){const tt=contractEntryPoints(_[j]);return et.f?[[et.f[0],_[j]],...tt]:tt}return et.f?[[et.f[0],_[j]]]:[]};return[...$(0),...$(1)]}return[]}function assertContractValid(a,_){const $=(it,st,ot,at)=>{assertTypeAnnotationsValid(it,!0),assertTypeAnnotationsValid(st);const ut={prim:"pair",args:[Object.assign(Object.assign({},it),{annots:["@parameter"]}),Object.assign(Object.assign({},st),{annots:["@storage"]})]},ht=functionTypeInternal(at,[ut],Object.assign(Object.assign({},_),{contract:a}));if("failed"in ht)return ht;try{assertStacksEqual(ht,[ot])}catch(yt){throw yt instanceof MichelsonError?new MichelsonInstructionError(at,ht,yt.message):yt}return ht},j=contractSection(a,"parameter").args[0],et=contractSection(a,"storage").args[0],tt=contractSection(a,"code").args[0],nt=$(j,et,{prim:"pair",args:[{prim:"list",args:[{prim:"operation"}]},et]},tt);for(const it of Object.values(contractViews(a)))$(it.args[1],et,it.args[2],it.args[3]);return nt}function assertDataValid(a,_,$){assertTypeAnnotationsValid(_),assertDataValidInternal(a,_,$||null)}function functionType(a,_,$){for(const j of _)assertTypeAnnotationsValid(j);if(($==null?void 0:$.contract)!==void 0)for(const j of["parameter","storage"]){const et=contractSection($.contract,j).args[0];assertTypeAnnotationsValid(et)}return functionTypeInternal(a,_,$||null)}function isDataValid(a,_,$){try{return assertDataValid(a,_,$),!0}catch{return!1}}class Contract{constructor(_,$){this.contract=_,this.ctx=Object.assign({contract:_},$),this.output=assertContractValid(_,this.ctx)}static parse(_,$){const j=new Parser$1($),et=typeof _=="string"?j.parseScript(_):j.parseJSON(_);if(et===null)throw new InvalidMichelsonError("empty Michelson");if(assertMichelsonContract(et))return new Contract(et,$)}static parseTypeExpression(_,$){const j=new Parser$1($),et=typeof _=="string"?j.parseScript(_):j.parseJSON(_);if(et===null)throw new InvalidTypeExpressionError("empty type expression");if(assertMichelsonType(et))return assertTypeAnnotationsValid(et),et}static parseDataExpression(_,$){const j=new Parser$1($),et=typeof _=="string"?j.parseScript(_):j.parseJSON(_);if(et===null)throw new InvalidDataExpressionError("empty data expression");if(assertMichelsonData(et))return et;throw void 0}section(_){return contractSection(this.contract,_)}entryPoints(){return contractEntryPoints(this.contract)}entryPoint(_){return contractEntryPoint(this.contract,_)}assertDataValid(_,$){assertDataValid(_,$,this.ctx)}isDataValid(_,$){return isDataValid(_,$,this.ctx)}assertParameterValid(_,$){const j=this.entryPoint(_||void 0);if(j===null)throw new InvalidEntrypointError(_==null?void 0:_.toString());this.assertDataValid($,j)}isParameterValid(_,$){try{return this.assertParameterValid(_,$),!0}catch{return!1}}functionType(_,$){return functionType(_,$,this.ctx)}}new Contract([{prim:"parameter",args:[{prim:"unit"}]},{prim:"storage",args:[{prim:"unit"}]},{prim:"code",args:[[{prim:"CAR"},{prim:"NIL",args:[{prim:"operation"}]},{prim:"PAIR"}]]}]);const toHexString=a=>a.reduce((_,$)=>_+$.toString(16).padStart(2,"0"),""),pad=(a,_=8)=>a.toString(16).padStart(_,"0"),ENTRYPOINT_MAX_LENGTH=31;var CODEC;(function(a){a.SECRET="secret",a.RAW="raw",a.TZ1="tz1",a.BRANCH="branch",a.ZARITH="zarith",a.PUBLIC_KEY="public_key",a.PKH="pkh",a.PKH_ARR="pkhArr",a.DELEGATE="delegate",a.SCRIPT="script",a.BALLOT_STATEMENT="ballotStmt",a.PROPOSAL="proposal",a.PROPOSAL_ARR="proposalArr",a.INT32="int32",a.INT16="int16",a.PARAMETERS="parameters",a.ADDRESS="address",a.SMART_CONTRACT_ADDRESS="smart_contract_address",a.SMART_ROLLUP_ADDRESS="smart_rollup_address",a.SMART_ROLLUP_COMMITMENT_HASH="smart_rollup_commitment_hash",a.VALUE="value",a.PADDED_BYTES="padded_bytes",a.SMART_ROLLUP_MESSAGE="smart_rollup_message",a.MANAGER="manager",a.BLOCK_PAYLOAD_HASH="blockPayloadHash",a.ENTRYPOINT="entrypoint",a.OPERATION="operation",a.OP_ACTIVATE_ACCOUNT="activate_account",a.OP_DELEGATION="delegation",a.OP_TRANSACTION="transaction",a.OP_ORIGINATION="origination",a.OP_BALLOT="ballot",a.OP_FAILING_NOOP="failing_noop",a.OP_ATTESTATION="attestation",a.OP_ENDORSEMENT="endorsement",a.OP_SEED_NONCE_REVELATION="seed_nonce_revelation",a.OP_REVEAL="reveal",a.OP_PROPOSALS="proposals",a.OP_REGISTER_GLOBAL_CONSTANT="register_global_constant",a.OP_TRANSFER_TICKET="transfer_ticket",a.BURN_LIMIT="burn_limit",a.OP_INCREASE_PAID_STORAGE="increase_paid_storage",a.OP_UPDATE_CONSENSUS_KEY="update_consensus_key",a.OP_DRAIN_DELEGATE="drain_delegate",a.DEPOSITS_LIMIT="deposits_limit",a.OP_SET_DEPOSITS_LIMIT="set_deposits_limit",a.OP_SMART_ROLLUP_ORIGINATE="smart_rollup_originate",a.PVM_KIND="pvm_kind",a.OP_SMART_ROLLUP_ADD_MESSAGES="smart_rollup_add_messages",a.OP_SMART_ROLLUP_EXECUTE_OUTBOX_MESSAGE="smart_rollup_execute_outbox_message"})(CODEC||(CODEC={}));const opMapping={"00":"parameter","01":"storage","02":"code","03":"False","04":"Elt","05":"Left","06":"None","07":"Pair","08":"Right","09":"Some","0a":"True","0b":"Unit","0c":"PACK","0d":"UNPACK","0e":"BLAKE2B","0f":"SHA256",10:"SHA512",11:"ABS",12:"ADD",13:"AMOUNT",14:"AND",15:"BALANCE",16:"CAR",17:"CDR",18:"CHECK_SIGNATURE",19:"COMPARE","1a":"CONCAT","1b":"CONS","1c":"CREATE_ACCOUNT","1d":"CREATE_CONTRACT","1e":"IMPLICIT_ACCOUNT","1f":"DIP",20:"DROP",21:"DUP",22:"EDIV",23:"EMPTY_MAP",24:"EMPTY_SET",25:"EQ",26:"EXEC",27:"FAILWITH",28:"GE",29:"GET","2a":"GT","2b":"HASH_KEY","2c":"IF","2d":"IF_CONS","2e":"IF_LEFT","2f":"IF_NONE",30:"INT",31:"LAMBDA",32:"LE",33:"LEFT",34:"LOOP",35:"LSL",36:"LSR",37:"LT",38:"MAP",39:"MEM","3a":"MUL","3b":"NEG","3c":"NEQ","3d":"NIL","3e":"NONE","3f":"NOT",40:"NOW",41:"OR",42:"PAIR",43:"PUSH",44:"RIGHT",45:"SIZE",46:"SOME",47:"SOURCE",48:"SENDER",49:"SELF","4a":"STEPS_TO_QUOTA","4b":"SUB","4c":"SWAP","4d":"TRANSFER_TOKENS","4e":"SET_DELEGATE","4f":"UNIT",50:"UPDATE",51:"XOR",52:"ITER",53:"LOOP_LEFT",54:"ADDRESS",55:"CONTRACT",56:"ISNAT",57:"CAST",58:"RENAME",59:"bool","5a":"contract","5b":"int","5c":"key","5d":"key_hash","5e":"lambda","5f":"list",60:"map",61:"big_map",62:"nat",63:"option",64:"or",65:"pair",66:"set",67:"signature",68:"string",69:"bytes","6a":"mutez","6b":"timestamp","6c":"unit","6d":"operation","6e":"address","6f":"SLICE",70:"DIG",71:"DUG",72:"EMPTY_BIG_MAP",73:"APPLY",74:"chain_id",75:"CHAIN_ID",76:"LEVEL",77:"SELF_ADDRESS",78:"never",79:"NEVER","7a":"UNPAIR","7b":"VOTING_POWER","7c":"TOTAL_VOTING_POWER","7d":"KECCAK","7e":"SHA3","7f":"PAIRING_CHECK",80:"bls12_381_g1",81:"bls12_381_g2",82:"bls12_381_fr",83:"sapling_state",84:"sapling_transaction_deprecated",85:"SAPLING_EMPTY_STATE",86:"SAPLING_VERIFY_UPDATE",87:"ticket",88:"TICKET_DEPRECATED",89:"READ_TICKET","8a":"SPLIT_TICKET","8b":"JOIN_TICKETS","8c":"GET_AND_UPDATE","8d":"chest","8e":"chest_key","8f":"OPEN_CHEST",90:"VIEW",91:"view",92:"constant",93:"SUB_MUTEZ",94:"tx_rollup_l2_address",95:"MIN_BLOCK_TIME",96:"sapling_transaction",97:"EMIT",98:"Lambda_rec",99:"LAMBDA_REC","9a":"TICKET","9b":"BYTES","9c":"NAT"},opMappingReverse=(()=>{const a={};return Object.keys(opMapping).forEach(_=>{a[opMapping[_]]=_}),a})(),kindMapping={4:"activate_account",107:"reveal",110:"delegation",108:"transaction",109:"origination",6:"ballot",21:"attestation",1:"seed_nonce_revelation",5:"proposals",111:"register_global_constant",158:"transfer_ticket",112:"set_deposits_limit",113:"increase_paid_storage",114:"update_consensus_key",9:"drain_delegate",200:"smart_rollup_originate",201:"smart_rollup_add_messages",206:"smart_rollup_execute_outbox_message",17:"failing_noop"},kindMappingReverse=(()=>{const a={};return Object.keys(kindMapping).forEach(_=>{const $=typeof _=="string"?parseInt(_,10):_;a[kindMapping[$]]=pad($,2)}),a})(),entrypointMapping={"00":"default","01":"root","02":"do","03":"set_delegate","04":"remove_delegate","05":"deposit","06":"stake","07":"unstake","08":"finalize_unstake","09":"set_delegate_parameters"},entrypointMappingReverse=(()=>{const a={};return Object.keys(entrypointMapping).forEach(_=>{a[entrypointMapping[_]]=_}),a})();class InvalidOperationSchemaError extends ParameterValidationError{constructor(_,$){super(),this.operation=_,this.errorDetail=$,this.name="InvalidOperationSchemaError",this.message="Invalid operation content recevied",$&&(this.message+=` ${$}.`)}}class OversizedEntryPointError extends ParameterValidationError{constructor(_){super(),this.entrypoint=_,this.name="OversizedEntryPointError",this.message=`Invalid entrypoint length "${_.length}", maximum length is "${ENTRYPOINT_MAX_LENGTH}".`}}class InvalidBallotValueError extends ParameterValidationError{constructor(_){super(),this.ballotValue=_,this.name="InvalidBallotValueError",this.message=`Invalid ballot value "${_}" expecting one of the following: "yay", "nay", "pass".`}}class DecodeBallotValueError extends ParameterValidationError{constructor(_){super(),this.ballotValue=_,this.name="DecodeBallotValueError",this.message=`Invalid ballot value "${_}", cannot be decoded.`}}class UnexpectedMichelsonValueError extends ParameterValidationError{constructor(_){super(),this.value=_,this.name="UnexpectedMichelsonValueError",this.message=`Invalid Michelson value "${_}", unalbe to encode.`}}class OperationDecodingError extends ParameterValidationError{constructor(_){super(),this.message=_,this.name="OperationDecodingError"}}class OperationEncodingError extends ParameterValidationError{constructor(_){super(),this.message=_,this.name="OperationEncodingError"}}class UnsupportedOperationError extends ParameterValidationError{constructor(_){super(),this.op=_,this.name="UnsupportedOperationError",this.message=`Unsupported operation "${_}", can submit an issue on our github for feature request.`}}class UnsupportedPvmKindError extends ParameterValidationError{constructor(_){super(),this.pvm=_,this.name="UnsupportedPvmKindError",this.message=`Invalid Pvm kind "${_}" expecting either "arith" or "wasm_2_0_0".`}}class DecodePvmKindError extends ParameterValidationError{constructor(_){super(),this.pvm=_,this.name="DecodePvmKindError",this.message=`Invalid Pvm kind "${_}", cannot be decoded.`}}class InvalidSmartRollupAddressError extends ParameterValidationError{constructor(_,$){super(),this.address=_,this.errorDetail=$,this.name="InvalidSmartRollupAddress",this.message=`Invalid smart rollup address "${_}"`,$&&(this.message+=` ${$}.`)}}class InvalidSmartRollupCommitmentHashError extends ParameterValidationError{constructor(_,$){super(),this.hash=_,this.errorDetail=$,this.name="InvalidSmartRollupCommitmentHashError",this.message=`Invalid smart rollup commitment hash "${_}"`,$&&(this.message+=` ${$}.`)}}class Uint8ArrayConsumer{static fromHexString(_){const $=_.toLowerCase();if(/^(([a-f]|\d){2})*$/.test($)){const j=new Uint8Array(($.match(/([a-z]|\d){2}/g)||[]).map(et=>parseInt(et,16)));return new Uint8ArrayConsumer(j)}else throw new InvalidHexStringError($)}constructor(_,$=0){this.arr=_,this.offset=$}consume(_){const $=this.arr.subarray(this.offset,this.offset+_);return this.offset+=_,$}get(_){return this.arr[this.offset+_]}length(){return this.arr.length-this.offset}slice(_,$){return new Uint8ArrayConsumer(this.arr.slice(_,$))}}const isPrim=a=>"prim"in a,isBytes=a=>"bytes"in a&&typeof a.bytes=="string",isString=a=>"string"in a&&typeof a.string=="string",isInt=a=>"int"in a&&typeof a.int=="string",scriptEncoder=a=>{const _=valueEncoder(a.code),$=valueEncoder(a.storage);return`${pad(_.length/2,8)}${_}${pad($.length/2,8)}${$}`},scriptDecoder=a=>{const _=extractRequiredLen(a),$=extractRequiredLen(a);return{code:valueDecoder(new Uint8ArrayConsumer(_)),storage:valueDecoder(new Uint8ArrayConsumer($))}},valueEncoder=a=>{if(Array.isArray(a)){const _=a.map(j=>valueEncoder(j)).join(""),$=_.length/2;return`02${pad($)}${_}`}else{if(isPrim(a))return primEncoder(a);if(isBytes(a))return bytesEncoder(a);if(isString(a))return stringEncoder(a);if(isInt(a))return intEncoder(a)}throw new UnexpectedMichelsonValueError(JSON.stringify(a))},valueDecoder=a=>{const _=a.consume(1);switch(_[0]){case 10:return bytesDecoder(a);case 1:return stringDecoder(a);case 0:return intDecoder(a);case 2:{const $=new Uint8ArrayConsumer(extractRequiredLen(a)),j=[];for(;$.length()>0;)j.push(valueDecoder($));return j}default:return primDecoder(a,_)}},extractRequiredLen=(a,_=4)=>{const $=a.consume(_),j=parseInt(Buffer$g.from($).toString("hex"),16);return a.consume(j)},stripLengthPrefixFromBytes=(a,_=4)=>{const $=[];let j=a;for(;j.length();){const et=j.consume(_),tt=parseInt(Buffer$g.from(et).toString("hex"),16);$.push(j.consume(tt)),j=j.slice(tt+_)}return $},bytesEncoder=a=>{if(!/^([A-Fa-f0-9]{2})*$/.test(a.bytes))throw new InvalidHexStringError(a.bytes);const _=a.bytes.length/2;return`0a${pad(_)}${a.bytes}`},bytesDecoder=a=>{const _=extractRequiredLen(a);return{bytes:Buffer$g.from(_).toString("hex")}},stringEncoder=a=>{const _=Buffer$g.from(a.string,"utf8").toString("hex"),$=_.length/2;return`01${pad($)}${_}`},stringDecoder=a=>{const _=extractRequiredLen(a);return{string:Buffer$g.from(_).toString("utf8")}},intEncoder=({int:a})=>{const _=new BigNumber(a,10),$=_.toString(2)[0]==="-"?"1":"0",j=_.toString(2).replace(/-/g,""),et=j.length<=6?6:(j.length-6)%7?j.length+7-(j.length-6)%7:j.length,rt=j.padStart(et,"0").match(/\d{6,7}/g).reverse();return rt[0]=$+rt[0],`00${rt.map((it,st)=>parseInt((st===rt.length-1?"0":"1")+it,2).toString(16).padStart(2,"0")).join("")}`},intDecoder=a=>{let _=a.consume(1)[0];const $=[],j=128;for(;_&j;)$.push(_),_=a.consume(1)[0];$.push(_);const et=!!(64&$[0]);$[0]=$[0]&127;const tt=$.map((nt,it)=>nt.toString(2).slice(it===0?-6:-7).padStart(it===0?6:7,"0")).reverse();let rt=new BigNumber(tt.join(""),2);return et&&(rt=rt.times(-1)),{int:rt.toFixed()}},primEncoder=a=>{const _=+Array.isArray(a.annots),$=Array.isArray(a.args)?a.args.length:0,j=pad(Math.min(2*$+_+3,9),2),et=opMappingReverse[a.prim];let tt=(a.args||[]).map(nt=>valueEncoder(nt)).join("");const rt=Array.isArray(a.annots)?encodeAnnots(a.annots):"";return(a.prim==="LAMBDA"||a.prim==="LAMBDA_REC")&&$&&(tt=pad(tt.length/2)+tt+pad(0)),(a.prim==="pair"||a.prim==="Pair")&&$>2&&(tt=rt===""?pad(tt.length/2)+tt+pad(0):pad(tt.length/2)+tt),a.prim==="view"&&a.args&&(tt=pad(tt.length/2)+tt+pad(0)),`${j}${et}${tt}${rt}`},primDecoder=(a,_)=>{const $=(_[0]-3)%2===1;let j=Math.floor((_[0]-3)/2);const et=a.consume(1)[0].toString(16).padStart(2,"0"),tt={prim:opMapping[et]};if((opMapping[et]==="LAMBDA"||opMapping[et]==="LAMBDA_REC")&&a.consume(4),opMapping[et]==="view")return j!=0?primViewDecoder(a,tt):tt;let rt,nt;(opMapping[et]==="pair"||opMapping[et]==="Pair")&&j>2&&(rt=decodeCombPair(a),j=0,nt=decodeAnnots(a));const it=new Array(j).fill(0).map(()=>valueDecoder(a));return(opMapping[et]==="LAMBDA"||opMapping[et]==="LAMBDA_REC")&&a.consume(4),rt?tt.args=rt:it.length&&(tt.args=it),nt&&nt[0]!==""?tt.annots=nt:$&&(tt.annots=decodeAnnots(a)),tt},primViewDecoder=(a,_)=>(a.consume(4),_.args=new Array(4).fill(0).map(()=>valueDecoder(a)),a.consume(4),_),decodeCombPair=a=>{const _=new Uint8ArrayConsumer(extractRequiredLen(a)),$=[];for(;_.length()>0;)$.push(valueDecoder(_));return $},encodeAnnots=a=>{const _=a.map(j=>Buffer$g.from(j,"utf8").toString("hex")).join("20"),$=_.length/2;return`${pad($)}${_}`},decodeAnnots=a=>{const _=a.consume(4),$=parseInt(Buffer$g.from(_).toString("hex"),16),j=a.consume($);return Buffer$g.from(j).toString("hex").split("20").map(tt=>Buffer$g.from(tt,"hex").toString("utf8"))},prefixEncoder=a=>_=>buf2hex(Buffer$g.from(b58cdecode(_,prefix[a]))),prefixDecoder=a=>_=>{const $=_.consume(prefixLength[a]);return b58cencode($,prefix[a])},tz1Decoder=prefixDecoder(Prefix.TZ1),branchDecoder=prefixDecoder(Prefix.B),publicKeyHashDecoder=a=>{const _=a.consume(1);if(_[0]===0)return prefixDecoder(Prefix.TZ1)(a);if(_[0]===1)return prefixDecoder(Prefix.TZ2)(a);if(_[0]===2)return prefixDecoder(Prefix.TZ3)(a)},publicKeyHashesDecoder=a=>{if(!boolDecoder(a))return;const _=[];for(a.consume(4);a.length()>0;)_.push(publicKeyHashDecoder(a));return _},branchEncoder=prefixEncoder(Prefix.B),tz1Encoder=prefixEncoder(Prefix.TZ1),boolEncoder=a=>a?"ff":"00",proposalEncoder=a=>prefixEncoder(Prefix.P)(a),proposalDecoder=a=>prefixDecoder(Prefix.P)(a),proposalsDecoder=a=>{const _=[];for(a.consume(4);a.length()>0;)_.push(proposalDecoder(a));return _},proposalsEncoder=a=>pad(32*a.length)+a.map(_=>proposalEncoder(_)).join(""),ballotEncoder=a=>{switch(a){case"yay":return"00";case"nay":return"01";case"pass":return"02";default:throw new InvalidBallotValueError(a)}},ballotDecoder=a=>{const _=a.consume(1);switch(_[0]){case 0:return"yay";case 1:return"nay";case 2:return"pass";default:throw new DecodeBallotValueError(_[0].toString())}},pvmKindEncoder=a=>{switch(a){case"arith":return"00";case"wasm_2_0_0":return"01";case"riscv":return"02";default:throw new UnsupportedPvmKindError(a)}},pvmKindDecoder=a=>{const _=a.consume(1);switch(_[0]){case 0:return"arith";case 1:return"wasm_2_0_0";case 2:return"riscv";default:throw new DecodePvmKindError(_[0].toString())}},delegateEncoder=a=>a?boolEncoder(!0)+publicKeyHashEncoder(a):boolEncoder(!1),int32Encoder=a=>{const _=parseInt(String(a),10),$=[];for(let j=0;j<4;j++){const et=(4-(j+1))*8;$.push((_&255<<et)>>et)}return Buffer$g.from($).toString("hex")},int32Decoder=a=>{const _=a.consume(4);let $=0;for(let j=0;j<_.length;j++)$=$|_[j]<<(_.length-(j+1))*8;return $},int16Encoder=a=>{const _=parseInt(String(a),10),$=[];for(let j=0;j<2;j++){const et=(2-(j+1))*8;$.push((_&255<<et)>>et)}return Buffer$g.from($).toString("hex")},int16Decoder=a=>{const _=a.consume(2);let $=0;for(let j=0;j<_.length;j++)$=$|_[j]<<(_.length-(j+1))*8;return $},boolDecoder=a=>a.consume(1)[0]===255,delegateDecoder=a=>{if(boolDecoder(a))return publicKeyHashDecoder(a)},publicKeyHashEncoder=a=>{switch(a.substring(0,3)){case Prefix.TZ1:return"00"+prefixEncoder(Prefix.TZ1)(a);case Prefix.TZ2:return"01"+prefixEncoder(Prefix.TZ2)(a);case Prefix.TZ3:return"02"+prefixEncoder(Prefix.TZ3)(a);case Prefix.TZ4:return"03"+prefixEncoder(Prefix.TZ4)(a);default:throw new InvalidKeyHashError(a,invalidDetail(ValidationResult.NO_PREFIX_MATCHED)+` expecting one for the following "${Prefix.TZ1}", "${Prefix.TZ2}", "${Prefix.TZ3}" or "${Prefix.TZ4}".`)}},publicKeyHashesEncoder=a=>{if(!a)return boolEncoder(!1);if(a.length===0)return boolEncoder(!0)+pad(0);const _=a.reduce(($,j)=>$+publicKeyHashEncoder(j),"");return boolEncoder(!0)+pad(_.length/2)+_},publicKeyEncoder=a=>{switch(a.substring(0,4)){case Prefix.EDPK:return"00"+prefixEncoder(Prefix.EDPK)(a);case Prefix.SPPK:return"01"+prefixEncoder(Prefix.SPPK)(a);case Prefix.P2PK:return"02"+prefixEncoder(Prefix.P2PK)(a);default:throw new InvalidPublicKeyError(a,invalidDetail(ValidationResult.NO_PREFIX_MATCHED)+` expecting one of the following '${Prefix.EDPK}', '${Prefix.SPPK}', '${Prefix.P2PK}' or '${Prefix.BLPK}'.`)}},addressEncoder=a=>{switch(a.substring(0,3)){case Prefix.TZ1:case Prefix.TZ2:case Prefix.TZ3:case Prefix.TZ4:return"00"+publicKeyHashEncoder(a);case Prefix.KT1:return"01"+prefixEncoder(Prefix.KT1)(a)+"00";default:throw new InvalidAddressError(a,invalidDetail(ValidationResult.NO_PREFIX_MATCHED)+` expecting one of the following prefix '${Prefix.TZ1}', ${Prefix.TZ2}', '${Prefix.TZ3}', '${Prefix.TZ4}' or '${Prefix.KT1}'.`)}},smartRollupAddressEncoder=a=>{if(a.substring(0,3)!==Prefix.SR1)throw new InvalidSmartRollupAddressError(a,invalidDetail(ValidationResult.NO_PREFIX_MATCHED)+` expecting prefix '${Prefix.SR1}'.`);return prefixEncoder(Prefix.SR1)(a)},smartContractAddressEncoder=a=>{if(a.substring(0,3)===Prefix.KT1)return"01"+prefixEncoder(Prefix.KT1)(a)+"00";throw new InvalidContractAddressError(a,invalidDetail(ValidationResult.NO_PREFIX_MATCHED)+` expecting prefix '${Prefix.KT1}'.`)},publicKeyDecoder=a=>{switch(a.consume(1)[0]){case 0:return prefixDecoder(Prefix.EDPK)(a);case 1:return prefixDecoder(Prefix.SPPK)(a);case 2:return prefixDecoder(Prefix.P2PK)(a);default:throw new InvalidPublicKeyError(a.toString(),invalidDetail(ValidationResult.NO_PREFIX_MATCHED))}},smartRollupCommitmentHashEncoder=a=>{if(a.substring(0,4)===Prefix.SRC1)return prefixEncoder(Prefix.SRC1)(a);throw new InvalidSmartRollupCommitmentHashError(a,invalidDetail(ValidationResult.NO_PREFIX_MATCHED)+` expecting prefix '${Prefix.SRC1}'`)},addressDecoder=a=>{switch(a.consume(1)[0]){case 0:return publicKeyHashDecoder(a);case 1:{const $=prefixDecoder(Prefix.KT1)(a);return a.consume(1),$}default:throw new InvalidAddressError(a.toString(),": Unable to decode.")}},smartRollupAddressDecoder=a=>{const _=prefixDecoder(Prefix.SR1)(a);if(_.substring(0,3)!==Prefix.SR1)throw new InvalidSmartRollupAddressError(_,invalidDetail(ValidationResult.NO_PREFIX_MATCHED)+` expecting prefix '${Prefix.SR1}'.`);return _},smartContractAddressDecoder=a=>{if(a.consume(1)[0]===1){const $=prefixDecoder(Prefix.KT1)(a);return a.consume(1),$}throw new InvalidContractAddressError(a.toString(),invalidDetail(ValidationResult.NO_PREFIX_MATCHED))},smartRollupCommitmentHashDecoder=a=>{const _=prefixDecoder(Prefix.SRC1)(a);if(_.substring(0,4)!==Prefix.SRC1)throw new InvalidSmartRollupCommitmentHashError(_,invalidDetail(ValidationResult.NO_PREFIX_MATCHED)+` expecting prefix '${Prefix.SRC1}'`);return _},zarithEncoder=a=>{const _=[];let $=new BigNumber(a,10);if($.isNaN())throw new TypeError(`Invalid zarith number ${a}`);for(;;)if($.lt(128)){$.lt(16)&&_.push("0"),_.push($.toString(16));break}else{let j=$.mod(128);$=$.minus(j),$=$.dividedBy(128),j=j.plus(128),_.push(j.toString(16))}return _.join("")},zarithDecoder=a=>{let _=0;for(;_<a.length()&&a.get(_)&128;)_+=1;let $=new BigNumber(0);for(let j=_;j>=0;j-=1){const et=a.get(j)&127;$=$.multipliedBy(128),$=$.plus(et)}return a.consume(_+1),new BigNumber($).toString()},entrypointDecoder=a=>{const _=pad(a.consume(1)[0],2);if(_ in entrypointMapping)return entrypointMapping[_];{const $=extractRequiredLen(a,1),j=Buffer$g.from($).toString("utf8");if(j.length>ENTRYPOINT_MAX_LENGTH)throw new OversizedEntryPointError(j);return j}},parametersDecoder=a=>{if(a.consume(1)[0]!==0){const $=entrypointDecoder(a),j=extractRequiredLen(a),et=valueDecoder(new Uint8ArrayConsumer(j));return{entrypoint:$,value:et}}},entrypointEncoder=a=>{if(a in entrypointMappingReverse)return`${entrypointMappingReverse[a]}`;if(a.length>ENTRYPOINT_MAX_LENGTH)throw new OversizedEntryPointError(a);return`ff${valueEncoder({string:a}).slice(8)}`},parametersEncoder=a=>{if(!a||a.entrypoint==="default"&&"prim"in a.value&&a.value.prim==="Unit")return"00";const _=entrypointEncoder(a.entrypoint),$=valueEncoder(a.value),j=($.length/2).toString(16).padStart(8,"0");return`ff${_}${j}${$}`},valueParameterEncoder=a=>{const _=valueEncoder(a);return`${pad(_.length/2)}${_}`},valueParameterDecoder=a=>{const _=extractRequiredLen(a);return valueDecoder(new Uint8ArrayConsumer(_))},blockPayloadHashEncoder=prefixEncoder(Prefix.VH),blockPayloadHashDecoder=prefixDecoder(Prefix.VH),entrypointNameEncoder=a=>`${valueEncoder({string:a}).slice(2)}`,entrypointNameDecoder=a=>{const _=extractRequiredLen(a);return Buffer$g.from(_).toString("utf8")},burnLimitEncoder=a=>a?`ff${zarithEncoder(a)}`:"00",burnLimitDecoder=a=>{const _=a.consume(1);if(Buffer$g.from(_).toString("hex")!=="00")return zarithDecoder(a)},depositsLimitEncoder=a=>a?`ff${zarithEncoder(a)}`:"00",depositsLimitDecoder=a=>{const _=a.consume(1);if(Buffer$g.from(_).toString("hex")!=="00")return zarithDecoder(a)},paddedBytesEncoder=(a,_=8)=>`${pad(a.length/2,_)}${a}`,paddedBytesDecoder=a=>{const _=extractRequiredLen(a);return Buffer$g.from(_).toString("hex")},smartRollupMessageEncoder=a=>{const _=a.reduce(($,j)=>$+`${pad(j.length/2)}${j}`,"");return`${pad(_.length/2)}${_}`},smartRollupMessageDecoder=a=>{const _=extractRequiredLen(a);return stripLengthPrefixFromBytes(new Uint8ArrayConsumer(_)).map(j=>Buffer$g.from(j).toString("hex"))},ManagerOperationSchema={branch:CODEC.BRANCH,contents:[CODEC.OPERATION]},ActivationSchema={pkh:CODEC.TZ1,secret:CODEC.SECRET},RevealSchema={source:CODEC.PKH,fee:CODEC.ZARITH,counter:CODEC.ZARITH,gas_limit:CODEC.ZARITH,storage_limit:CODEC.ZARITH,public_key:CODEC.PUBLIC_KEY},DelegationSchema={source:CODEC.PKH,fee:CODEC.ZARITH,counter:CODEC.ZARITH,gas_limit:CODEC.ZARITH,storage_limit:CODEC.ZARITH,delegate:CODEC.DELEGATE},TransactionSchema={source:CODEC.PKH,fee:CODEC.ZARITH,counter:CODEC.ZARITH,gas_limit:CODEC.ZARITH,storage_limit:CODEC.ZARITH,amount:CODEC.ZARITH,destination:CODEC.ADDRESS,parameters:CODEC.PARAMETERS},OriginationSchema={source:CODEC.PKH,fee:CODEC.ZARITH,counter:CODEC.ZARITH,gas_limit:CODEC.ZARITH,storage_limit:CODEC.ZARITH,balance:CODEC.ZARITH,delegate:CODEC.DELEGATE,script:CODEC.SCRIPT},BallotSchema={source:CODEC.PKH,period:CODEC.INT32,proposal:CODEC.PROPOSAL,ballot:CODEC.BALLOT_STATEMENT},AttestationSchema={slot:CODEC.INT16,level:CODEC.INT32,round:CODEC.INT32,block_payload_hash:CODEC.BLOCK_PAYLOAD_HASH},EndorsementSchema={slot:CODEC.INT16,level:CODEC.INT32,round:CODEC.INT32,block_payload_hash:CODEC.BLOCK_PAYLOAD_HASH},SeedNonceRevelationSchema={level:CODEC.INT32,nonce:CODEC.RAW},ProposalsSchema={source:CODEC.PKH,period:CODEC.INT32,proposals:CODEC.PROPOSAL_ARR},RegisterGlobalConstantSchema={source:CODEC.PKH,fee:CODEC.ZARITH,counter:CODEC.ZARITH,gas_limit:CODEC.ZARITH,storage_limit:CODEC.ZARITH,value:CODEC.VALUE},TransferTicketSchema={source:CODEC.PKH,fee:CODEC.ZARITH,counter:CODEC.ZARITH,gas_limit:CODEC.ZARITH,storage_limit:CODEC.ZARITH,ticket_contents:CODEC.VALUE,ticket_ty:CODEC.VALUE,ticket_ticketer:CODEC.ADDRESS,ticket_amount:CODEC.ZARITH,destination:CODEC.ADDRESS,entrypoint:CODEC.ENTRYPOINT},IncreasePaidStorageSchema={source:CODEC.PKH,fee:CODEC.ZARITH,counter:CODEC.ZARITH,gas_limit:CODEC.ZARITH,storage_limit:CODEC.ZARITH,amount:CODEC.ZARITH,destination:CODEC.SMART_CONTRACT_ADDRESS},UpdateConsensusKeySchema={source:CODEC.PKH,fee:CODEC.ZARITH,counter:CODEC.ZARITH,gas_limit:CODEC.ZARITH,storage_limit:CODEC.ZARITH,pk:CODEC.PUBLIC_KEY},DrainDelegateSchema={consensus_key:CODEC.PKH,delegate:CODEC.PKH,destination:CODEC.PKH},SetDepositsLimitSchema={source:CODEC.PKH,fee:CODEC.ZARITH,counter:CODEC.ZARITH,gas_limit:CODEC.ZARITH,storage_limit:CODEC.ZARITH,limit:CODEC.DEPOSITS_LIMIT},SmartRollupOriginateSchema={source:CODEC.PKH,fee:CODEC.ZARITH,counter:CODEC.ZARITH,gas_limit:CODEC.ZARITH,storage_limit:CODEC.ZARITH,pvm_kind:CODEC.PVM_KIND,kernel:CODEC.PADDED_BYTES,parameters_ty:CODEC.VALUE,whitelist:CODEC.PKH_ARR},SmartRollupAddMessagesSchema={source:CODEC.PKH,fee:CODEC.ZARITH,counter:CODEC.ZARITH,gas_limit:CODEC.ZARITH,storage_limit:CODEC.ZARITH,message:CODEC.SMART_ROLLUP_MESSAGE},SmartRollupExecuteOutboxMessageSchema={source:CODEC.PKH,fee:CODEC.ZARITH,counter:CODEC.ZARITH,gas_limit:CODEC.ZARITH,storage_limit:CODEC.ZARITH,rollup:CODEC.SMART_ROLLUP_ADDRESS,cemented_commitment:CODEC.SMART_ROLLUP_COMMITMENT_HASH,output_proof:CODEC.PADDED_BYTES},FailingNoopSchema={arbitrary:CODEC.PADDED_BYTES},operationEncoder=a=>_=>{if(!(_.kind in a)||!(_.kind in kindMappingReverse))throw new InvalidOperationKindError(_.kind);return kindMappingReverse[_.kind]+a[_.kind](_)},operationDecoder=a=>_=>{const $=_.consume(1),j=kindMapping[$[0]];if(j===void 0)throw new UnsupportedOperationError($[0].toString());const et=a[j](_);if(typeof et!="object")throw new OperationDecodingError("Invalid operation, cannot be decoded.");return Object.assign({kind:j},et)},schemaEncoder=a=>_=>$=>Object.keys(_).reduce((et,tt)=>{const rt=_[tt];if($&&Array.isArray(rt)){const nt=a[rt[0]],it=$[tt];if(!Array.isArray(it))throw new OperationEncodingError(`Invalid operation value "${JSON.stringify(it)}" of key "${tt}, expected value to be Array.`);return et+it.reduce((st,ot)=>st+nt(ot),"")}else{const nt=a[rt];return et+nt($[tt])}},""),schemaDecoder=a=>_=>$=>Object.keys(_).reduce((et,tt)=>{const rt=_[tt];if(Array.isArray(rt)){const nt=a[rt[0]],it=[],st=$.length();for(;$.length()>0;)if(it.push(nt($)),st===$.length())throw new OperationDecodingError("Unable to decode value");return Object.assign(Object.assign({},et),{[tt]:it})}else{const nt=a[rt],it=nt($);return typeof it<"u"?Object.assign(Object.assign({},et),{[tt]:it}):Object.assign({},et)}},{}),decoders={[CODEC.SECRET]:a=>toHexString(a.consume(20)),[CODEC.RAW]:a=>toHexString(a.consume(32)),[CODEC.TZ1]:tz1Decoder,[CODEC.BRANCH]:branchDecoder,[CODEC.ZARITH]:zarithDecoder,[CODEC.PUBLIC_KEY]:publicKeyDecoder,[CODEC.PKH]:publicKeyHashDecoder,[CODEC.PKH_ARR]:publicKeyHashesDecoder,[CODEC.DELEGATE]:delegateDecoder,[CODEC.INT32]:int32Decoder,[CODEC.SCRIPT]:scriptDecoder,[CODEC.BALLOT_STATEMENT]:ballotDecoder,[CODEC.PROPOSAL]:proposalDecoder,[CODEC.PROPOSAL_ARR]:proposalsDecoder,[CODEC.PARAMETERS]:parametersDecoder,[CODEC.ADDRESS]:addressDecoder,[CODEC.SMART_ROLLUP_ADDRESS]:smartRollupAddressDecoder,[CODEC.SMART_CONTRACT_ADDRESS]:smartContractAddressDecoder,[CODEC.SMART_ROLLUP_COMMITMENT_HASH]:smartRollupCommitmentHashDecoder,[CODEC.VALUE]:valueParameterDecoder,[CODEC.INT16]:int16Decoder,[CODEC.BLOCK_PAYLOAD_HASH]:blockPayloadHashDecoder,[CODEC.ENTRYPOINT]:entrypointNameDecoder,[CODEC.BURN_LIMIT]:burnLimitDecoder,[CODEC.DEPOSITS_LIMIT]:depositsLimitDecoder,[CODEC.PVM_KIND]:pvmKindDecoder,[CODEC.PADDED_BYTES]:paddedBytesDecoder,[CODEC.SMART_ROLLUP_MESSAGE]:smartRollupMessageDecoder};decoders[CODEC.OPERATION]=operationDecoder(decoders);decoders[CODEC.OP_ACTIVATE_ACCOUNT]=a=>schemaDecoder(decoders)(ActivationSchema)(a);decoders[CODEC.OP_FAILING_NOOP]=a=>schemaDecoder(decoders)(FailingNoopSchema)(a);decoders[CODEC.OP_DELEGATION]=a=>schemaDecoder(decoders)(DelegationSchema)(a);decoders[CODEC.OP_TRANSACTION]=a=>schemaDecoder(decoders)(TransactionSchema)(a);decoders[CODEC.OP_ORIGINATION]=a=>schemaDecoder(decoders)(OriginationSchema)(a);decoders[CODEC.OP_BALLOT]=a=>schemaDecoder(decoders)(BallotSchema)(a);decoders[CODEC.OP_ATTESTATION]=a=>schemaDecoder(decoders)(AttestationSchema)(a);decoders[CODEC.OP_ENDORSEMENT]=a=>schemaDecoder(decoders)(EndorsementSchema)(a);decoders[CODEC.OP_SEED_NONCE_REVELATION]=a=>schemaDecoder(decoders)(SeedNonceRevelationSchema)(a);decoders[CODEC.OP_PROPOSALS]=a=>schemaDecoder(decoders)(ProposalsSchema)(a);decoders[CODEC.OP_REVEAL]=a=>schemaDecoder(decoders)(RevealSchema)(a);decoders[CODEC.OP_REGISTER_GLOBAL_CONSTANT]=a=>schemaDecoder(decoders)(RegisterGlobalConstantSchema)(a);decoders[CODEC.OP_TRANSFER_TICKET]=a=>schemaDecoder(decoders)(TransferTicketSchema)(a);decoders[CODEC.OP_INCREASE_PAID_STORAGE]=a=>schemaDecoder(decoders)(IncreasePaidStorageSchema)(a);decoders[CODEC.OP_UPDATE_CONSENSUS_KEY]=a=>schemaDecoder(decoders)(UpdateConsensusKeySchema)(a);decoders[CODEC.OP_DRAIN_DELEGATE]=a=>schemaDecoder(decoders)(DrainDelegateSchema)(a);decoders[CODEC.OP_SMART_ROLLUP_ORIGINATE]=a=>schemaDecoder(decoders)(SmartRollupOriginateSchema)(a);decoders[CODEC.OP_SMART_ROLLUP_ADD_MESSAGES]=a=>schemaDecoder(decoders)(SmartRollupAddMessagesSchema)(a);decoders[CODEC.OP_SMART_ROLLUP_EXECUTE_OUTBOX_MESSAGE]=a=>schemaDecoder(decoders)(SmartRollupExecuteOutboxMessageSchema)(a);decoders[CODEC.MANAGER]=schemaDecoder(decoders)(ManagerOperationSchema);decoders[CODEC.OP_SET_DEPOSITS_LIMIT]=a=>schemaDecoder(decoders)(SetDepositsLimitSchema)(a);const encoders={[CODEC.SECRET]:a=>a,[CODEC.RAW]:a=>a,[CODEC.TZ1]:tz1Encoder,[CODEC.BRANCH]:branchEncoder,[CODEC.ZARITH]:zarithEncoder,[CODEC.PUBLIC_KEY]:publicKeyEncoder,[CODEC.PKH]:publicKeyHashEncoder,[CODEC.PKH_ARR]:publicKeyHashesEncoder,[CODEC.DELEGATE]:delegateEncoder,[CODEC.SCRIPT]:scriptEncoder,[CODEC.BALLOT_STATEMENT]:ballotEncoder,[CODEC.PROPOSAL]:proposalEncoder,[CODEC.PROPOSAL_ARR]:proposalsEncoder,[CODEC.INT32]:int32Encoder,[CODEC.PARAMETERS]:parametersEncoder,[CODEC.ADDRESS]:addressEncoder,[CODEC.SMART_ROLLUP_ADDRESS]:smartRollupAddressEncoder,[CODEC.SMART_CONTRACT_ADDRESS]:smartContractAddressEncoder,[CODEC.SMART_ROLLUP_COMMITMENT_HASH]:smartRollupCommitmentHashEncoder,[CODEC.VALUE]:valueParameterEncoder,[CODEC.INT16]:int16Encoder,[CODEC.BLOCK_PAYLOAD_HASH]:blockPayloadHashEncoder,[CODEC.ENTRYPOINT]:entrypointNameEncoder,[CODEC.BURN_LIMIT]:burnLimitEncoder,[CODEC.DEPOSITS_LIMIT]:depositsLimitEncoder,[CODEC.PVM_KIND]:pvmKindEncoder,[CODEC.PADDED_BYTES]:paddedBytesEncoder,[CODEC.SMART_ROLLUP_MESSAGE]:smartRollupMessageEncoder};encoders[CODEC.OPERATION]=operationEncoder(encoders);encoders[CODEC.OP_ACTIVATE_ACCOUNT]=a=>schemaEncoder(encoders)(ActivationSchema)(a);encoders[CODEC.OP_DELEGATION]=a=>schemaEncoder(encoders)(DelegationSchema)(a);encoders[CODEC.OP_TRANSACTION]=a=>schemaEncoder(encoders)(TransactionSchema)(a);encoders[CODEC.OP_ORIGINATION]=a=>schemaEncoder(encoders)(OriginationSchema)(a);encoders[CODEC.OP_BALLOT]=a=>schemaEncoder(encoders)(BallotSchema)(a);encoders[CODEC.OP_ATTESTATION]=a=>schemaEncoder(encoders)(AttestationSchema)(a);encoders[CODEC.OP_ENDORSEMENT]=a=>schemaEncoder(encoders)(EndorsementSchema)(a);encoders[CODEC.OP_SEED_NONCE_REVELATION]=a=>schemaEncoder(encoders)(SeedNonceRevelationSchema)(a);encoders[CODEC.OP_PROPOSALS]=a=>schemaEncoder(encoders)(ProposalsSchema)(a);encoders[CODEC.OP_REVEAL]=a=>schemaEncoder(encoders)(RevealSchema)(a);encoders[CODEC.OP_REGISTER_GLOBAL_CONSTANT]=a=>schemaEncoder(encoders)(RegisterGlobalConstantSchema)(a);encoders[CODEC.OP_TRANSFER_TICKET]=a=>schemaEncoder(encoders)(TransferTicketSchema)(a);encoders[CODEC.OP_INCREASE_PAID_STORAGE]=a=>schemaEncoder(encoders)(IncreasePaidStorageSchema)(a);encoders[CODEC.OP_UPDATE_CONSENSUS_KEY]=a=>schemaEncoder(encoders)(UpdateConsensusKeySchema)(a);encoders[CODEC.OP_DRAIN_DELEGATE]=a=>schemaEncoder(encoders)(DrainDelegateSchema)(a);encoders[CODEC.OP_SMART_ROLLUP_ORIGINATE]=a=>schemaEncoder(encoders)(SmartRollupOriginateSchema)(a);encoders[CODEC.OP_SMART_ROLLUP_ADD_MESSAGES]=a=>schemaEncoder(encoders)(SmartRollupAddMessagesSchema)(a);encoders[CODEC.OP_SMART_ROLLUP_EXECUTE_OUTBOX_MESSAGE]=a=>schemaEncoder(encoders)(SmartRollupExecuteOutboxMessageSchema)(a);encoders[CODEC.MANAGER]=schemaEncoder(encoders)(ManagerOperationSchema);encoders[CODEC.OP_SET_DEPOSITS_LIMIT]=a=>schemaEncoder(encoders)(SetDepositsLimitSchema)(a);encoders[CODEC.OP_FAILING_NOOP]=a=>schemaEncoder(encoders)(FailingNoopSchema)(a);const OperationKindMapping={activate_account:ActivationSchema,reveal:RevealSchema,delegation:DelegationSchema,transaction:TransactionSchema,origination:OriginationSchema,ballot:BallotSchema,attestation:AttestationSchema,endorsement:EndorsementSchema,seed_nonce_revelation:SeedNonceRevelationSchema,proposals:ProposalsSchema,register_global_constant:RegisterGlobalConstantSchema,transfer_ticket:TransferTicketSchema,increase_paid_storage:IncreasePaidStorageSchema,update_consensus_key:UpdateConsensusKeySchema,drain_delegate:DrainDelegateSchema,set_deposits_limit:SetDepositsLimitSchema,smart_rollup_originate:SmartRollupOriginateSchema,smart_rollup_add_messages:SmartRollupAddMessagesSchema,smart_rollup_execute_outbox_message:SmartRollupExecuteOutboxMessageSchema,failing_noop:FailingNoopSchema},getArrayDifference=(a,_)=>_.filter($=>!a.includes($)),deleteArrayElementByValue=(a,_)=>a.filter($=>$!==_),validateOperationKind=a=>Object.keys(OperationKindMapping).includes(a),validateMissingProperty=a=>{const _=a.kind,$=Object.keys(a),j=deleteArrayElementByValue($,"kind"),et=Object.keys(OperationKindMapping[_]);return getArrayDifference(j,et)};var ProtocolsHash;(function(a){a.Pt24m4xi="Pt24m4xiPbLDhVgVfABUjirbmda3yohdN82Sp9FeuAXJ4eV9otd",a.PsBABY5H="PsBABY5HQTSkA4297zNHfsZNKtxULfL18y95qb3m53QJiXGmrbU",a.PsBabyM1="PsBabyM1eUXZseaJdmXFApDSBqj8YBfwELoxZHHW77EMcAbbwAS",a.PsCARTHA="PsCARTHAGazKbHtnKfLzQg3kms52kSRpgnDY982a9oYsSXRLQEb",a.PsDELPH1="PsDELPH1Kxsxt8f9eWbxQeRxkjfbxoqM52jvs5Y5fBxWWh4ifpo",a.PtEdo2Zk="PtEdo2ZkT9oKpimTah6x2embF25oss54njMuPzkJTEi5RqfdZFA",a.PsFLorena="PsFLorenaUUuikDWvMDr6fGBRG8kt3e3D3fHoXK1j1BFRxeSH4i",a.PtGRANADs="PtGRANADsDU8R9daYKAgWnQYAJ64omN1o3KMGVCykShA97vQbvV",a.PtHangz2="PtHangz2aRngywmSRGGvrcTyMbbdpWdpFKuS4uMWxg2RaH9i1qx",a.Psithaca2="Psithaca2MLRFYargivpo7YvUr7wUDqyxrdhC5CQq78mRvimz6A",a.PtJakart2="PtJakart2xVj7pYXJBXrqHgd82rdkLey5ZeeGwDgPp9rhQUbSqY",a.PtKathman="PtKathmankSpLLDALzWw7CGD2j2MtyveTwboEYokqUCP4a1LxMg",a.PtLimaPtL="PtLimaPtLMwfNinJi9rCfDPWea8dFgTZ1MeJ9f1m2SRic6ayiwW",a.PtMumbaii="PtMumbaiiFFEGbew1rRjzSPyzRbA51Tm3RVZL5suHPxSZYDhCEc",a.PtMumbai2="PtMumbai2TmsJHNGRkD8v8YDbtao7BLUC3wjASn1inAKLFCjaH1",a.PtNairobi="PtNairobiyssHuh87hEhfVBGCVrK3WnS8Z2FT4ymB5tAa4r1nQf",a.ProxfordY="ProxfordYmVfjWnRcgjWH36fW6PArwqykTFzotUxRs6gmTcZDuH",a.ProtoALpha="ProtoALphaALphaALphaALphaALphaALphaALphaALphaDdp3zK"})(ProtocolsHash||(ProtocolsHash={}));const PROTOCOL_CURRENT=ProtocolsHash.ProxfordY;function getCodec(a,_){return{encoder:encoders[a],decoder:$=>{const j=Uint8ArrayConsumer.fromHexString($);return decoders[a](j)}}}class LocalForger{constructor(_=PROTOCOL_CURRENT){this.protocolHash=_,this.codec=getCodec(CODEC.MANAGER,this.protocolHash)}forge(_){const $=validateBlock(_.branch);if($!==ValidationResult.VALID)throw new InvalidBlockHashError(_.branch,invalidDetail($));for(const et of _.contents){if(!validateOperationKind(et.kind))throw new InvalidOperationKindError(et.kind);const tt=validateMissingProperty(et);if(tt.length===1){if(et.kind==="delegation"&&tt[0]==="delegate")continue;if(et.kind==="origination"&&tt[0]==="delegate")continue;if(et.kind==="transaction"&&tt[0]==="parameters")continue;if(et.kind==="set_deposits_limit"&&tt[0]==="limit")continue;if(et.kind==="smart_rollup_originate"&&tt[0]==="whitelist")continue;throw new InvalidOperationSchemaError(et,`missing properties "${tt.join(", ")}"`)}else if(tt.length>1)throw new InvalidOperationSchemaError(et,`missing properties "${tt.join(", ")}"`)}const j=this.codec.encoder(_).toLowerCase();return Promise.resolve(j)}parse(_){return Promise.resolve(this.codec.decoder(_))}}new LocalForger;function __rest(a,_){var $={};for(var j in a)Object.prototype.hasOwnProperty.call(a,j)&&_.indexOf(j)<0&&($[j]=a[j]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var et=0,j=Object.getOwnPropertySymbols(a);et<j.length;et++)_.indexOf(j[et])<0&&Object.prototype.propertyIsEnumerable.call(a,j[et])&&($[j[et]]=a[j[et]]);return $}function __awaiter(a,_,$,j){function et(tt){return tt instanceof $?tt:new $(function(rt){rt(tt)})}return new($||($=Promise))(function(tt,rt){function nt(ot){try{st(j.next(ot))}catch(at){rt(at)}}function it(ot){try{st(j.throw(ot))}catch(at){rt(at)}}function st(ot){ot.done?tt(ot.value):et(ot.value).then(nt,it)}st((j=j.apply(a,[])).next())})}function __classPrivateFieldGet(a,_,$,j){if($==="a"&&!j)throw new TypeError("Private accessor was defined without a getter");if(typeof _=="function"?a!==_||!j:!_.has(a))throw new TypeError("Cannot read private member from an object whose class did not declare it");return $==="m"?j:$==="a"?j.call(a):j?j.value:_.get(a)}function __classPrivateFieldSet(a,_,$,j,et){if(typeof _=="function"?a!==_||!et:!_.has(a))throw new TypeError("Cannot write private member to an object whose class did not declare it");return _.set(a,$),$}typeof SuppressedError=="function"&&SuppressedError;function formatErrorMessage(a,_){const $=JSON.parse(a.body);if($[0]&&$[0].kind&&$[0].msg){const j=JSON.stringify({kind:$[0].kind,id:$[0].id,msg:$[0].msg.replace(_,"")});return new HttpResponseError(`Http error response: (${a.status}) ${j}`,a.status,a.statusText,j,a.url)}else return a}class RpcInjector{constructor(_){this.context=_}inject(_){return __awaiter(this,void 0,void 0,function*(){let $;try{$=yield this.context.rpc.injectOperation(_)}catch(j){const et=". You may want to use --replace to provide adequate fee and replace it";throw j instanceof HttpResponseError&&j.message.includes(et)?formatErrorMessage(j,et):j}return $})}}class UnconfiguredSignerError extends TezosToolkitConfigError{constructor(){super(),this.name="UnconfiguredSignerError",this.message="No signer has been configured. Please configure one by calling setProvider({signer}) on your TezosToolkit instance."}}class NoopSigner{publicKey(){return __awaiter(this,void 0,void 0,function*(){throw new UnconfiguredSignerError})}publicKeyHash(){return __awaiter(this,void 0,void 0,function*(){throw new UnconfiguredSignerError})}secretKey(){return __awaiter(this,void 0,void 0,function*(){throw new UnconfiguredSignerError})}sign(_,$){return __awaiter(this,void 0,void 0,function*(){throw new UnconfiguredSignerError})}}function createObservableFromSubscription(a){return new Observable(_=>(a.on("data",$=>{_.next($)}),a.on("error",$=>{_.error($)}),a.on("close",()=>{_.complete()}),()=>{a.close()}))}const REVEAL_GAS_LIMIT={TZ1:169,TZ2:155,TZ3:445,TZ4:1674},REVEAL_FEE={TZ1:276,TZ2:276,TZ3:305,TZ4:477},REVEAL_STORAGE_LIMIT=0,COST_PER_BYTE=250;var Protocols;(function(a){a.Pt24m4xi="Pt24m4xiPbLDhVgVfABUjirbmda3yohdN82Sp9FeuAXJ4eV9otd",a.PsBABY5H="PsBABY5HQTSkA4297zNHfsZNKtxULfL18y95qb3m53QJiXGmrbU",a.PsBabyM1="PsBabyM1eUXZseaJdmXFApDSBqj8YBfwELoxZHHW77EMcAbbwAS",a.PsCARTHA="PsCARTHAGazKbHtnKfLzQg3kms52kSRpgnDY982a9oYsSXRLQEb",a.PsDELPH1="PsDELPH1Kxsxt8f9eWbxQeRxkjfbxoqM52jvs5Y5fBxWWh4ifpo",a.PtEdo2Zk="PtEdo2ZkT9oKpimTah6x2embF25oss54njMuPzkJTEi5RqfdZFA",a.PsFLorena="PsFLorenaUUuikDWvMDr6fGBRG8kt3e3D3fHoXK1j1BFRxeSH4i",a.PtGRANADs="PtGRANADsDU8R9daYKAgWnQYAJ64omN1o3KMGVCykShA97vQbvV",a.PtHangz2="PtHangz2aRngywmSRGGvrcTyMbbdpWdpFKuS4uMWxg2RaH9i1qx",a.PsiThaCa="PsiThaCaT47Zboaw71QWScM8sXeMM7bbQFncK9FLqYc6EKdpjVP",a.Psithaca2="Psithaca2MLRFYargivpo7YvUr7wUDqyxrdhC5CQq78mRvimz6A",a.PtJakart2="PtJakart2xVj7pYXJBXrqHgd82rdkLey5ZeeGwDgPp9rhQUbSqY",a.PtKathman="PtKathmankSpLLDALzWw7CGD2j2MtyveTwboEYokqUCP4a1LxMg",a.PtLimaPtL="PtLimaPtLMwfNinJi9rCfDPWea8dFgTZ1MeJ9f1m2SRic6ayiwW",a.PtMumbaii="PtMumbaiiFFEGbew1rRjzSPyzRbA51Tm3RVZL5suHPxSZYDhCEc",a.PtMumbai2="PtMumbai2TmsJHNGRkD8v8YDbtao7BLUC3wjASn1inAKLFCjaH1",a.PtNairobi="PtNairobiyssHuh87hEhfVBGCVrK3WnS8Z2FT4ymB5tAa4r1nQf",a.ProxfordY="ProxfordYmVfjWnRcgjWH36fW6PArwqykTFzotUxRs6gmTcZDuH",a.ProtoALpha="ProtoALphaALphaALphaALphaALphaALphaALphaALphaDdp3zK"})(Protocols||(Protocols={}));Protocols.Pt24m4xi,Protocols.PsBABY5H,Protocols.PsBabyM1,Protocols.PsCARTHA,Protocols.PsDELPH1,Protocols.PtEdo2Zk,Protocols.PsFLorena,Protocols.PtGRANADs,Protocols.PtHangz2,Protocols.PsiThaCa,Protocols.Psithaca2,Protocols.PtJakart2,Protocols.PtKathman,Protocols.PtLimaPtL,Protocols.PtMumbai2,Protocols.PtNairobi,Protocols.ProxfordY,Protocols.ProtoALpha;var ChainIds;(function(a){a.MAINNET="NetXdQprcVkpaWU",a.CARTHAGENET="NetXjD3HPJJjmcd",a.DELPHINET="NetXm8tYqnMWky1",a.EDONET="NetXSgo1ZT2DRUG",a.FLORENCENET="NetXxkAx4woPLyu",a.GRANADANET="NetXz969SFaFn8k",a.HANGZHOUNET="NetXZSsxBpMQeAT",a.ITHACANET="NetXbhmtAbMukLc",a.ITHACANET2="NetXnHfVqm9iesp",a.JAKARTANET2="NetXLH1uAxK7CCh",a.KATHMANDUNET="NetXazhm4yetmff",a.LIMANET="NetXizpkH94bocH",a.MUMBAINET="NetXQw6nWSnrJ5t",a.MUMBAINET2="NetXgbcrNtXD2yA",a.NAIROBINET="NetXyuzvDo2Ugzb",a.OXFORDNET2="NetXxWsskGahzQB"})(ChainIds||(ChainIds={}));const getRevealGasLimit=a=>Math.round(getRevealGasLimitInternal(a)*37/10),getRevealGasLimitInternal=a=>{switch(a.substring(0,3)){case"tz1":return REVEAL_GAS_LIMIT.TZ1;case"tz2":return REVEAL_GAS_LIMIT.TZ2;case"tz3":return REVEAL_GAS_LIMIT.TZ3;case"tz4":return REVEAL_GAS_LIMIT.TZ4;default:throw new Error(`Cannot estimate reveal gas limit for ${a}`)}},getRevealFee=a=>Math.round(getRevealFeeInternal(a)*12/10),getRevealFeeInternal=a=>{switch(a.substring(0,3)){case"tz1":return REVEAL_FEE.TZ1;case"tz2":return REVEAL_FEE.TZ2;case"tz3":return REVEAL_FEE.TZ3;case"tz4":return REVEAL_FEE.TZ4;default:throw new Error(`Cannot estimate reveal fee for ${a}`)}};class InvalidParameterError extends ParameterValidationError{constructor(_,$,j){super(),this.smartContractMethodName=_,this.sigs=$,this.invalidParams=j,this.name="InvalidParameterError",this.message=`${_} Received ${j.length} arguments while expecting one of the following signatures (${JSON.stringify($)})`}}class InvalidDelegationSource extends ParameterValidationError{constructor(_){super(),this.source=_,this.name="InvalidDelegationSource",this.message=`Since Babylon delegation source can no longer be a contract address ${_}. Please use the smart contract abstraction to set your delegate.`}}class InvalidCodeParameter extends ParameterValidationError{constructor(_,$){super(),this.message=_,this.data=$,this.name="InvalidCodeParameter"}}class InvalidInitParameter extends ParameterValidationError{constructor(_,$){super(),this.message=_,this.data=$,this.name="InvalidInitParameter"}}class ViewSimulationError extends RpcError{constructor(_,$,j,et){super(),this.message=_,this.viewName=$,this.failWith=j,this.cause=et,this.name="ViewSimulationError"}}const validateAndExtractFailwith=a=>{if(isJsonString(a.body)){const _=JSON.parse(a.body);if(Array.isArray(_)&&"with"in _[_.length-1])return _[_.length-1].with}},isJsonString=a=>{try{JSON.parse(a)}catch{return!1}return!0};class InvalidViewSimulationContext extends ParameterValidationError{constructor(_){super(),this.info=_,this.name="InvalidViewSimulationContext",this.message=`${_} Please configure the context of the view execution in the executeView method.`}}class RevealOperationError extends RpcError{constructor(_){super(),this.message=_,this.name="RevealOperationError"}}class OriginationParameterError extends ParameterValidationError{constructor(_){super(),this.message=_,this.name}}class InvalidBalanceError extends ParameterValidationError{constructor(_){super(),this.message=_,this.name="InvalidBalanceError"}}const createActivationOperation=({pkh:a,secret:_})=>__awaiter(void 0,void 0,void 0,function*(){return{kind:OpKind.ACTIVATION,pkh:a,secret:_}}),createOriginationOperation=({code:a,init:_,balance:$="0",delegate:j,storage:et,fee:tt,gasLimit:rt,storageLimit:nt,mutez:it=!1})=>__awaiter(void 0,void 0,void 0,function*(){if(et!==void 0&&_!==void 0)throw new OriginationParameterError("Storage and Init cannot be set a the same time. Please either use storage or init but not both.");if(!Array.isArray(a))throw new InvalidCodeParameter("Wrong code parameter type, expected an array",a);let st;if(et!==void 0){const ut=a.find(yt=>"prim"in yt&&yt.prim==="storage");if((ut==null?void 0:ut.args)===void 0)throw new InvalidCodeParameter("The storage section is missing from the script",a);st=new Schema(ut.args[0]).Encode(et)}else if(_!==void 0&&typeof _=="object")st=_;else throw new InvalidInitParameter("Wrong init parameter type, expected JSON Michelson",_);const ot={code:a,storage:st};if(isNaN(Number($)))throw new InvalidBalanceError(`Invalid Balance "${$}", cannot be converted to a number`);const at={kind:OpKind.ORIGINATION,fee:tt,gas_limit:rt,storage_limit:nt,balance:it?$.toString():format$1("tz","mutez",$).toString(),script:ot};return j&&(at.delegate=j),at}),createTransferOperation=({to:a,amount:_,parameter:$,fee:j,gasLimit:et,storageLimit:tt,mutez:rt=!1})=>__awaiter(void 0,void 0,void 0,function*(){return{kind:OpKind.TRANSACTION,fee:j,gas_limit:et,storage_limit:tt,amount:rt?_.toString():format$1("tz","mutez",_).toString(),destination:a,parameters:$}}),createSetDelegateOperation=({delegate:a,source:_,fee:$,gasLimit:j,storageLimit:et})=>__awaiter(void 0,void 0,void 0,function*(){return{kind:OpKind.DELEGATION,source:_,fee:$,gas_limit:j,storage_limit:et,delegate:a}}),createRegisterDelegateOperation=({fee:a,gasLimit:_,storageLimit:$},j)=>__awaiter(void 0,void 0,void 0,function*(){return{kind:OpKind.DELEGATION,fee:a,gas_limit:_,storage_limit:$,delegate:j}}),createRevealOperation=({fee:a,gasLimit:_,storageLimit:$},j,et)=>__awaiter(void 0,void 0,void 0,function*(){return{kind:OpKind.REVEAL,fee:a,public_key:et,source:j,gas_limit:_??getRevealGasLimit(j),storage_limit:$}}),createRegisterGlobalConstantOperation=({value:a,source:_,fee:$,gasLimit:j,storageLimit:et})=>__awaiter(void 0,void 0,void 0,function*(){return{kind:OpKind.REGISTER_GLOBAL_CONSTANT,value:a,fee:$,gas_limit:j,storage_limit:et,source:_}}),createTransferTicketOperation=({ticketContents:a,ticketTy:_,ticketTicketer:$,ticketAmount:j,destination:et,entrypoint:tt,source:rt,fee:nt,gasLimit:it,storageLimit:st})=>__awaiter(void 0,void 0,void 0,function*(){return{kind:OpKind.TRANSFER_TICKET,fee:nt,gas_limit:it,storage_limit:st,source:rt,ticket_contents:a,ticket_ty:_,ticket_ticketer:$,ticket_amount:j,destination:et,entrypoint:tt}}),createIncreasePaidStorageOperation=({source:a,fee:_,gasLimit:$,storageLimit:j,amount:et,destination:tt})=>__awaiter(void 0,void 0,void 0,function*(){return{kind:OpKind.INCREASE_PAID_STORAGE,source:a,fee:_,gas_limit:$,storage_limit:j,amount:et,destination:tt}}),createDrainDelegateOperation=({consensus_key:a,delegate:_,destination:$})=>__awaiter(void 0,void 0,void 0,function*(){return{kind:OpKind.DRAIN_DELEGATE,consensus_key:a,delegate:_,destination:$}}),createBallotOperation=({source:a,proposal:_,ballot:$})=>__awaiter(void 0,void 0,void 0,function*(){return{kind:OpKind.BALLOT,source:a,proposal:_,ballot:$}}),createProposalsOperation=({source:a,proposals:_})=>__awaiter(void 0,void 0,void 0,function*(){return{kind:OpKind.PROPOSALS,source:a,proposals:_}}),createUpdateConsensusKeyOperation=({source:a,fee:_,gasLimit:$,storageLimit:j,pk:et})=>__awaiter(void 0,void 0,void 0,function*(){return{kind:OpKind.UPDATE_CONSENSUS_KEY,source:a,fee:_,gas_limit:$,storage_limit:j,pk:et}}),createSmartRollupAddMessagesOperation=({source:a,fee:_,gasLimit:$,storageLimit:j,message:et})=>__awaiter(void 0,void 0,void 0,function*(){return{kind:OpKind.SMART_ROLLUP_ADD_MESSAGES,source:a,fee:_,gas_limit:$,storage_limit:j,message:et}}),createSmartRollupOriginateOperation=({source:a,fee:_,gasLimit:$,storageLimit:j,pvmKind:et,kernel:tt,parametersType:rt})=>__awaiter(void 0,void 0,void 0,function*(){return{kind:OpKind.SMART_ROLLUP_ORIGINATE,source:a,fee:_,gas_limit:$,storage_limit:j,pvm_kind:et,kernel:tt,parameters_ty:rt}}),createSmartRollupExecuteOutboxMessageOperation=({source:a,fee:_,gasLimit:$,storageLimit:j,rollup:et,cementedCommitment:tt,outputProof:rt})=>__awaiter(void 0,void 0,void 0,function*(){return{kind:OpKind.SMART_ROLLUP_EXECUTE_OUTBOX_MESSAGE,source:a,fee:_,gas_limit:$,storage_limit:j,rollup:et,cemented_commitment:tt,output_proof:rt}}),attachKind=(a,_)=>Object.assign(Object.assign({},a),{kind:_}),findWithKind=(a,_)=>{if(Array.isArray(a)){const $=a.find(j=>j.kind===_);if($&&isKind($,_))return $}},isKind=(a,_)=>a.kind===_,isOpWithGasBuffer=a=>a.kind===OpKind.TRANSACTION&&a.parameters?!0:["origination","register_global_constant","transfer_ticket","update_consensus_key","smart_rollup_add_messages","smart_rollup_originate"].indexOf(a.kind)!==-1,isOpWithFee=a=>["transaction","delegation","origination","reveal","register_global_constant","increase_paid_storage","transfer_ticket","update_consensus_key","smart_rollup_add_messages","smart_rollup_originate","smart_rollup_execute_outbox_message"].indexOf(a.kind)!==-1,isOpRequireReveal=a=>["transaction","delegation","origination","register_global_constant","increase_paid_storage","transfer_ticket","update_consensus_key","smart_rollup_add_messages","smart_rollup_originate","smart_rollup_execute_outbox_message"].indexOf(a.kind)!==-1,hasMetadata=a=>"metadata"in a,hasMetadataWithResult=a=>hasMetadata(a)&&"operation_result"in a.metadata,hasMetadataWithInternalOperationResult=a=>hasMetadata(a)&&"internal_operation_results"in a.metadata,isErrorWithMessage=a=>"with"in a;class TezosOperationError extends RpcError{constructor(_,$,j){super(),this.errors=_,this.errorDetails=$,this.operationsWithResults=j,this.name="TezosOperationError",this.lastError=_[_.length-1],this.message=`(${this.kind}) ${this.id}`,isErrorWithMessage(this.lastError)&&(this.lastError.with.string?this.message=this.lastError.with.string:this.lastError.with.int?this.message=this.lastError.with.int:this.message=JSON.stringify(this.lastError.with))}get id(){return this.lastError.id}get kind(){return this.lastError.kind}}class TezosPreapplyFailureError extends Error{constructor(_){super(),this.result=_,this.name="TezosPreapplyFailureError",this.message="Preapply returned an unexpected result"}}const flattenOperationResult=a=>{const _=Array.isArray(a)?a:[a],$=[];for(let j=0;j<_.length;j++)for(let et=0;et<_[j].contents.length;et++){const tt=_[j].contents[et];hasMetadataWithResult(tt)&&"fee"in tt&&($.push(Object.assign({fee:tt.fee},tt.metadata.operation_result)),Array.isArray(tt.metadata.internal_operation_results)&&tt.metadata.internal_operation_results.forEach(rt=>$.push(rt.result)))}return $},flattenErrors=(a,_="failed")=>{const $=Array.isArray(a)?a:[a];let j=[];for(let et=0;et<$.length;et++)for(let tt=0;tt<$[et].contents.length;tt++){const rt=$[et].contents[tt];if(hasMetadata(rt)&&(hasMetadataWithResult(rt)&&rt.metadata.operation_result.status===_&&(j=j.concat(rt.metadata.operation_result.errors||[])),hasMetadataWithInternalOperationResult(rt)&&Array.isArray(rt.metadata.internal_operation_results)))for(const nt of rt.metadata.internal_operation_results)"result"in nt&&nt.result.status===_&&(j=j.concat(nt.result.errors||[]))}return j};class OriginationOperationError extends TaquitoError{constructor(_){super(),this.message=_,this.name="OriginationOperationError"}}class InvalidEstimateValueError extends ParameterValidationError{constructor(_){super(),this.message=_,this.name="InvalidEstimateValueError"}}class InvalidConfirmationCountError extends ParameterValidationError{constructor(_){super(),this.invalidConfirmations=_,this.name="InvalidConfirmationCountError",this.message=`Invalid confirmation count ${_} expecting at least 1`}}class ConfirmationTimeoutError extends NetworkError{constructor(_){super(),this.message=_,this.name="ConfirmationTimeoutError"}}class RPCResponseError extends RpcError{constructor(_,$){super(),this.message=_,this.cause=$,this.name="RPCResponseError"}}class Operation{get includedInBlock(){return this._foundAt}constructor(_,$,j,et){if(this.hash=_,this.raw=$,this.results=j,this.context=et,this._pollingConfig$=new ReplaySubject(1),this.currentHead$=this._pollingConfig$.pipe(switchMap(tt=>new BehaviorSubject(tt).pipe(timeout({each:tt.timeout*1e3,with:()=>throwError(()=>new ConfirmationTimeoutError("Confirmation polling timed out"))}))),switchMap(()=>defer(()=>createObservableFromSubscription(this.context.stream.subscribeBlock("head"))).pipe(switchMap(tt=>{var rt,nt;const it=(nt=(rt=this.lastHead)===null||rt===void 0?void 0:rt.header.level)!==null&&nt!==void 0?nt:tt.header.level-1;return range(it+1,tt.header.level-it-1).pipe(concatMap(st=>this.context.readProvider.getBlock(st)),endWith(tt))}),tap(tt=>this.lastHead=tt))),shareReplay({refCount:!0})),this.confirmed$=this.currentHead$.pipe(map$1(tt=>{for(let rt=3;rt>=0;rt--)tt.operations[rt].forEach(nt=>{nt.hash===this.hash&&(this._foundAt=tt.header.level)});if(tt.header.level-this._foundAt>=0)return this._foundAt}),filter(tt=>tt!==void 0),first(),shareReplay()),this._foundAt=Number.POSITIVE_INFINITY,validateOperation(this.hash)!==ValidationResult.VALID)throw new InvalidOperationHashError(this.hash);this.confirmed$.pipe(first(),catchError(()=>of(EMPTY))).subscribe()}get revealOperation(){return Array.isArray(this.results)&&this.results.find(_=>_.kind==="reveal")}get revealStatus(){return this.revealOperation?this.revealOperation.metadata.operation_result.status:"unknown"}get status(){return this.results.map(_=>hasMetadataWithResult(_)?_.metadata.operation_result.status:"unknown")[0]||"unknown"}confirmation(_,$){return __awaiter(this,void 0,void 0,function*(){if(typeof _<"u"&&_<1)throw new InvalidConfirmationCountError(_);const{defaultConfirmationCount:j,confirmationPollingTimeoutSecond:et}=this.context.config;this._pollingConfig$.next({timeout:$||et});const tt=_!==void 0?_:j;return new Promise((rt,nt)=>{this.confirmed$.pipe(switchMap(()=>this.currentHead$),filter(it=>it.header.level-this._foundAt>=tt-1),first()).subscribe({error:it=>nt(it),complete:()=>rt(this._foundAt+(tt-1))})})})}}class BatchOperation extends Operation{constructor(_,$,j,et,tt,rt){super(_,et,tt,rt),this.params=$,this.source=j}sumProp(_,$){return _.reduce((j,et)=>$ in et?Number(et[$])+j:j,0)}getOriginatedContractAddresses(){const _=this.results.filter(j=>j.kind==="origination");let $=[];for(const j of _)j.metadata.operation_result.originated_contracts&&($=[...$,...j.metadata.operation_result.originated_contracts]);return $}get status(){return this.results.filter(_=>BATCH_KINDS.indexOf(_.kind)!==-1).map(_=>hasMetadataWithResult(_)?_.metadata.operation_result.status:"unknown")[0]||"unknown"}get fee(){return this.sumProp(this.params,"fee")}get gasLimit(){return this.sumProp(this.params,"gas_limit")}get storageLimit(){return this.sumProp(this.params,"storage_limit")}get consumedGas(){return BigNumber.config({DECIMAL_PLACES:0,ROUNDING_MODE:BigNumber.ROUND_UP}),new BigNumber(this.consumedMilliGas).dividedBy(1e3).toString()}get consumedMilliGas(){return String(this.sumProp(flattenOperationResult({contents:this.results}),"consumed_milligas"))}get storageDiff(){return String(this.sumProp(flattenOperationResult({contents:this.results}),"paid_storage_size_diff"))}get errors(){return flattenErrors({contents:this.results})}}class Provider{get rpc(){return this.context.rpc}get signer(){return this.context.signer}constructor(_){this.context=_}forge({opOb:{branch:_,contents:$,protocol:j},counter:et}){return __awaiter(this,void 0,void 0,function*(){return{opbytes:yield this.context.forger.forge({branch:_,contents:$}),opOb:{branch:_,contents:$,protocol:j},counter:et}})}estimate(_,$){var{fee:j,gasLimit:et,storageLimit:tt}=_,rt=__rest(_,["fee","gasLimit","storageLimit"]);return __awaiter(this,void 0,void 0,function*(){let nt=j,it=et,st=tt;if(nt&&nt%1!==0)throw new InvalidEstimateValueError(`Fee value must not be a decimal: ${nt}`);if(it&&it%1!==0)throw new InvalidEstimateValueError(`Gas Limit value must not be a decimal: ${it}`);if(st&&st%1!==0)throw new InvalidEstimateValueError(`Storage Limit value must not be a decimal: ${st}`);if(j===void 0||et===void 0||tt===void 0){const ot=yield $(Object.assign({fee:j,gasLimit:et,storageLimit:tt},rt));nt??(nt=ot.suggestedFeeMutez),it??(it=ot.gasLimit),st??(st=ot.storageLimit)}return{fee:nt,gasLimit:it,storageLimit:st}})}getRPCOp(_){return __awaiter(this,void 0,void 0,function*(){switch(_.kind){case OpKind.TRANSACTION:return createTransferOperation(Object.assign({},_));case OpKind.ORIGINATION:return createOriginationOperation(yield this.context.parser.prepareCodeOrigination(Object.assign({},_)));case OpKind.DELEGATION:return createSetDelegateOperation(Object.assign({},_));case OpKind.REGISTER_GLOBAL_CONSTANT:return createRegisterGlobalConstantOperation(Object.assign({},_));case OpKind.INCREASE_PAID_STORAGE:return createIncreasePaidStorageOperation(Object.assign({},_));case OpKind.TRANSFER_TICKET:return createTransferTicketOperation(Object.assign({},_));case OpKind.SMART_ROLLUP_ADD_MESSAGES:return createSmartRollupAddMessagesOperation(Object.assign({},_));case OpKind.SMART_ROLLUP_ORIGINATE:return createSmartRollupOriginateOperation(Object.assign({},_));case OpKind.SMART_ROLLUP_EXECUTE_OUTBOX_MESSAGE:return createSmartRollupExecuteOutboxMessageOperation(Object.assign({},_));default:throw new InvalidOperationKindError(_.kind)}})}runOperation(_){return __awaiter(this,void 0,void 0,function*(){return{opResponse:yield this.rpc.runOperation(_),op:_,context:this.context.clone()}})}simulate(_){return __awaiter(this,void 0,void 0,function*(){return{opResponse:yield this.rpc.simulateOperation(_),op:_,context:this.context.clone()}})}isRevealOpNeeded(_,$){return __awaiter(this,void 0,void 0,function*(){return!(!(yield this.isAccountRevealRequired($))||!this.isRevealRequiredForOpType(_))})}isAccountRevealRequired(_){return __awaiter(this,void 0,void 0,function*(){return!(yield this.context.readProvider.isAccountRevealed(_,"head"))})}isRevealRequiredForOpType(_){let $=!1;for(const j of _)isOpRequireReveal(j)&&($=!0);return $}signAndInject(_){return __awaiter(this,void 0,void 0,function*(){const $=yield this.signer.sign(_.opbytes,new Uint8Array([3]));_.opbytes=$.sbytes,_.opOb.signature=$.prefixSig;const j=[],et=yield this.rpc.preapplyOperations([_.opOb]);if(!Array.isArray(et))throw new TezosPreapplyFailureError(et);for(let rt=0;rt<et.length;rt++)for(let nt=0;nt<et[rt].contents.length;nt++)j.push(et[rt].contents[nt]);const tt=flattenErrors(et);if(tt.length)throw new TezosOperationError(tt,"Error occurred during validation simulation of operation",j);return{hash:yield this.context.injector.inject(_.opbytes),forgedBytes:_,opResponse:j,context:this.context.clone()}})}}class WalletOperationBatch{constructor(_,$){this.walletProvider=_,this.context=$,this.operations=[]}withTransfer(_){const $=validateAddress(_.to);if($!==ValidationResult.VALID)throw new InvalidAddressError(_.to,invalidDetail($));return this.operations.push(Object.assign({kind:OpKind.TRANSACTION},_)),this}withContractCall(_,$={}){return this.withTransfer(_.toTransferParams($))}withDelegation(_){var $;const j=validateAddress(($=_.delegate)!==null&&$!==void 0?$:"");if(_.delegate&&j!==ValidationResult.VALID)throw new InvalidAddressError(_.delegate,invalidDetail(j));return this.operations.push(Object.assign({kind:OpKind.DELEGATION},_)),this}withOrigination(_){return this.operations.push(Object.assign({kind:OpKind.ORIGINATION},_)),this}withIncreasePaidStorage(_){const $=validateAddress(_.destination);if($!==ValidationResult.VALID)throw new InvalidAddressError(_.destination,invalidDetail($));return this.operations.push(Object.assign({kind:OpKind.INCREASE_PAID_STORAGE},_)),this}mapOperation(_){return __awaiter(this,void 0,void 0,function*(){switch(_.kind){case OpKind.TRANSACTION:return this.walletProvider.mapTransferParamsToWalletParams(()=>__awaiter(this,void 0,void 0,function*(){return _}));case OpKind.ORIGINATION:return this.walletProvider.mapOriginateParamsToWalletParams(()=>__awaiter(this,void 0,void 0,function*(){return this.context.parser.prepareCodeOrigination(Object.assign({},_))}));case OpKind.DELEGATION:return this.walletProvider.mapDelegateParamsToWalletParams(()=>__awaiter(this,void 0,void 0,function*(){return _}));case OpKind.INCREASE_PAID_STORAGE:return this.walletProvider.mapIncreasePaidStorageWalletParams(()=>__awaiter(this,void 0,void 0,function*(){return _}));default:throw new InvalidOperationKindError(JSON.stringify(_.kind))}})}with(_){for(const $ of _)switch($.kind){case OpKind.TRANSACTION:this.withTransfer($);break;case OpKind.ORIGINATION:this.withOrigination($);break;case OpKind.DELEGATION:this.withDelegation($);break;case OpKind.INCREASE_PAID_STORAGE:this.withIncreasePaidStorage($);break;default:throw new InvalidOperationKindError(JSON.stringify($.kind))}return this}send(){return __awaiter(this,void 0,void 0,function*(){const _=[];for(const j of this.operations)_.push(yield this.mapOperation(j));const $=yield this.walletProvider.sendOperations(_);return this.context.operationFactory.createBatchOperation($)})}}class Wallet{constructor(_){this.context=_,this.walletCommand=$=>({send:$})}get walletProvider(){return this.context.walletProvider}pkh({forceRefetch:_}={}){return __awaiter(this,void 0,void 0,function*(){return(!this._pkh||_)&&(this._pkh=yield this.walletProvider.getPKH()),this._pkh})}pk({forceRefetch:_}={}){return __awaiter(this,void 0,void 0,function*(){return(!this._pk||_)&&(this._pk=yield this.walletProvider.getPK()),this._pk})}originate(_){return this.walletCommand(()=>__awaiter(this,void 0,void 0,function*(){const $=yield this.walletProvider.mapOriginateParamsToWalletParams(()=>this.context.parser.prepareCodeOrigination(Object.assign({},_))),j=yield this.walletProvider.sendOperations([$]);return this.context.operationFactory.createOriginationOperation(j)}))}setDelegate(_){var $;const j=validateAddress(($=_.delegate)!==null&&$!==void 0?$:"");if(_.delegate&&j!==ValidationResult.VALID)throw new InvalidAddressError(_.delegate,invalidDetail(j));return this.walletCommand(()=>__awaiter(this,void 0,void 0,function*(){const et=yield this.walletProvider.mapDelegateParamsToWalletParams(()=>__awaiter(this,void 0,void 0,function*(){return _})),tt=yield this.walletProvider.sendOperations([et]);return this.context.operationFactory.createDelegationOperation(tt)}))}signFailingNoop(_){return __awaiter(this,void 0,void 0,function*(){const $={kind:OpKind.FAILING_NOOP,arbitrary:_.arbitrary},j=yield this.context.readProvider.getBlockHash(_.basedOnBlock),et=yield this.context.forger.forge({branch:j,contents:[$]});return{signature:yield this.walletProvider.sign(et,Uint8Array.from([3])),bytes:et,signedContent:{branch:j,contents:[{kind:OpKind.FAILING_NOOP,arbitrary:_.arbitrary}]}}})}registerDelegate(){return this.walletCommand(()=>__awaiter(this,void 0,void 0,function*(){const _=yield this.walletProvider.mapDelegateParamsToWalletParams(()=>__awaiter(this,void 0,void 0,function*(){return{delegate:yield this.pkh()}})),$=yield this.walletProvider.sendOperations([_]);return this.context.operationFactory.createDelegationOperation($)}))}transfer(_){const $=validateAddress(_.to);if($!==ValidationResult.VALID)throw new InvalidAddressError(_.to,invalidDetail($));return this.walletCommand(()=>__awaiter(this,void 0,void 0,function*(){const j=yield this.walletProvider.mapTransferParamsToWalletParams(()=>__awaiter(this,void 0,void 0,function*(){return _})),et=yield this.walletProvider.sendOperations([j]);return this.context.operationFactory.createTransactionOperation(et)}))}increasePaidStorage(_){const $=validateAddress(_.destination);if($!==ValidationResult.VALID)throw new InvalidAddressError(_.destination,invalidDetail($));return this.walletCommand(()=>__awaiter(this,void 0,void 0,function*(){const j=yield this.walletProvider.mapIncreasePaidStorageWalletParams(()=>__awaiter(this,void 0,void 0,function*(){return _})),et=yield this.walletProvider.sendOperations([j]);return this.context.operationFactory.createIncreasePaidStorageOperation(et)}))}batch(_){const $=new WalletOperationBatch(this.walletProvider,this.context);return Array.isArray(_)&&$.with(_),$}at(_,$=j=>j){return __awaiter(this,void 0,void 0,function*(){const j=validateContractAddress(_);if(j!==ValidationResult.VALID)throw new InvalidContractAddressError(_,invalidDetail(j));const et=this.context.withExtensions().rpc,tt=this.context.withExtensions().readProvider,rt=yield tt.getScript(_,"head"),nt=yield tt.getEntrypoints(_),it=new ContractAbstraction(_,rt,this,this.context.contract,nt,et,tt);return $(it,this.context)})}getPK(){return __awaiter(this,void 0,void 0,function*(){return yield this.pk()})}}const receiptFromOperation=(a,{ALLOCATION_BURN:_,ORIGINATION_BURN:$}={ALLOCATION_BURN:257,ORIGINATION_BURN:257})=>{BigNumber.config({DECIMAL_PLACES:0,ROUNDING_MODE:BigNumber.ROUND_UP});const j=flattenOperationResult({contents:a});let et=new BigNumber(0),tt=new BigNumber(0),rt=new BigNumber(0),nt=new BigNumber(0),it=new BigNumber(0),st=new BigNumber(0);return j.forEach(ot=>{rt=rt.plus(ot.fee||0),nt=nt.plus(Array.isArray(ot.originated_contracts)?ot.originated_contracts.length*$:0),it=it.plus("allocated_destination_contract"in ot?_:0),et=et.plus(ot.consumed_milligas||0),st=st.plus("paid_storage_size_diff"in ot&&Number(ot.paid_storage_size_diff)||0)}),tt=tt.plus(it).plus(nt).plus(st),{totalFee:rt,totalMilliGas:et,totalGas:et.dividedBy(1e3),totalStorage:tt,totalAllocationBurn:it,totalOriginationBurn:nt,totalPaidStorageDiff:st,totalStorageBurn:new BigNumber(tt.multipliedBy(COST_PER_BYTE))}};class ConfirmationUndefinedError extends TezosToolkitConfigError{constructor(){super(),this.name="ConfirmationUndefinedError",this.message="Default confirmation count can not be undefined"}}class ObservableError extends NetworkError{constructor(_){super(),this.message=_,this.name="ObservableError"}}const MAX_BRANCH_ANCESTORS=60;class WalletOperation{operationResults(){return __awaiter(this,void 0,void 0,function*(){return this._operationResult.pipe(first()).toPromise()})}receipt(){return __awaiter(this,void 0,void 0,function*(){const _=yield this.operationResults();if(!_)throw new ObservableError("Unable to get operation results");return receiptFromOperation(_)})}constructor(_,$,j){if(this.opHash=_,this.context=$,this._newHead$=j,this._operationResult=new ReplaySubject(1),this._includedInBlock=new ReplaySubject(1),this._included=!1,this.newHead$=this._newHead$.pipe(switchMap(et=>{var tt,rt;const nt=(rt=(tt=this.lastHead)===null||tt===void 0?void 0:tt.header.level)!==null&&rt!==void 0?rt:et.header.level-1;return range(nt+1,et.header.level-nt-1).pipe(concatMap(it=>this.context.readProvider.getBlock(it)),endWith(et))}),tap(et=>this.lastHead=et),share({connector:()=>new ReplaySubject(1),resetOnError:!1,resetOnComplete:!1,resetOnRefCountZero:!1})),this.confirmed$=this.newHead$.pipe(map$1(et=>{for(const tt of et.operations)for(const rt of tt)if(rt.hash===this.opHash)return this._included=!0,this._includedInBlock.next(et),this._operationResult.next(rt.contents),et}),filter(et=>typeof et<"u"),first(),share({connector:()=>new ReplaySubject(1),resetOnError:!1,resetOnComplete:!1,resetOnRefCountZero:!1})),validateOperation(this.opHash)!==ValidationResult.VALID)throw new InvalidOperationHashError(this.opHash);this.confirmed$.pipe(first(),catchError(()=>of(void 0))).subscribe()}getCurrentConfirmation(){return __awaiter(this,void 0,void 0,function*(){return this._included?combineLatest([this._includedInBlock,from(this.context.readProvider.getBlock("head"))]).pipe(map$1(([_,$])=>$.header.level-_.header.level+1),first()).toPromise():0})}isInCurrentBranch(_="head"){return __awaiter(this,void 0,void 0,function*(){if(!this._included)return!0;const $=yield this.context.readProvider.getBlockLevel(_),j=yield this._includedInBlock.pipe(first()).toPromise();if(!j)throw new ObservableError("Inclusion block is undefined");const et=$-j.header.level;if(et<=0)return!0;const tt=Math.min(j.header.level+et,j.header.level+MAX_BRANCH_ANCESTORS);return new Set(yield this.context.readProvider.getLiveBlocks(tt)).has(j.hash)})}confirmationObservable(_){if(typeof _<"u"&&_<1)throw new InvalidConfirmationCountError(_);const{defaultConfirmationCount:$}=this.context.config,j=_!==void 0?_:$;if(j===void 0)throw new ConfirmationUndefinedError;return combineLatest([this._includedInBlock,this.newHead$]).pipe(distinctUntilChanged(([,et],[,tt])=>et.hash===tt.hash),map$1(([et,tt])=>({block:tt,expectedConfirmation:j,currentConfirmation:tt.header.level-et.header.level+1,completed:tt.header.level-et.header.level>=j-1,isInCurrentBranch:()=>this.isInCurrentBranch(tt.hash)})),takeWhile(({completed:et})=>!et,!0))}confirmation(_){return this.confirmationObservable(_).toPromise()}}class TransactionWalletOperation extends WalletOperation{constructor(_,$,j){super(_,$,j),this.opHash=_,this.context=$}revealOperation(){return __awaiter(this,void 0,void 0,function*(){const _=yield this.operationResults();if(!_)throw new ObservableError("operationResult returned undefined");return _.find($=>$.kind===OpKind.REVEAL)})}transactionOperation(){return __awaiter(this,void 0,void 0,function*(){const _=yield this.operationResults();if(!_)throw new ObservableError("operationResult returned undefined");return _.find($=>$.kind===OpKind.TRANSACTION)})}status(){return __awaiter(this,void 0,void 0,function*(){if(!this._included)return"pending";const _=yield this.transactionOperation();return _?_.metadata.operation_result.status:"unknown"})}}class OriginationWalletOperation extends WalletOperation{constructor(_,$,j){super(_,$,j),this.opHash=_,this.context=$}originationOperation(){return __awaiter(this,void 0,void 0,function*(){const _=yield this.operationResults();if(_)return findWithKind(_,OpKind.ORIGINATION);throw new ObservableError("Unable to fetch operation result")})}revealOperation(){return __awaiter(this,void 0,void 0,function*(){const _=yield this.operationResults();if(_)return findWithKind(_,OpKind.REVEAL);throw new ObservableError("Unable to fetch operation result")})}status(){return __awaiter(this,void 0,void 0,function*(){if(!this._included)return"pending";const _=yield this.originationOperation();return _?_.metadata.operation_result.status:"unknown"})}contract(){return __awaiter(this,void 0,void 0,function*(){const _=yield this.originationOperation(),$=((_==null?void 0:_.metadata.operation_result.originated_contracts)||[])[0];return this.context.wallet.at($)})}}class DelegationWalletOperation extends WalletOperation{constructor(_,$,j){super(_,$,j),this.opHash=_,this.context=$}revealOperation(){return __awaiter(this,void 0,void 0,function*(){const _=yield this.operationResults();if(_)return _.find($=>$.kind===OpKind.REVEAL);throw new ObservableError("Unable to fetch operation result")})}delegationOperation(){return __awaiter(this,void 0,void 0,function*(){const _=yield this.operationResults();if(_)return _.find($=>$.kind===OpKind.DELEGATION);throw new ObservableError("Unable to fetch operation result")})}status(){return __awaiter(this,void 0,void 0,function*(){if(!this._included)return"pending";const _=yield this.delegationOperation();return _?_.metadata.operation_result.status:"unknown"})}}class LegacyWalletProvider{constructor(_){this.context=_}getPKH(){return __awaiter(this,void 0,void 0,function*(){return this.context.signer.publicKeyHash()})}getPK(){return __awaiter(this,void 0,void 0,function*(){return this.context.signer.publicKey()})}mapTransferParamsToWalletParams(_){return __awaiter(this,void 0,void 0,function*(){return attachKind(yield _(),OpKind.TRANSACTION)})}mapOriginateParamsToWalletParams(_){return __awaiter(this,void 0,void 0,function*(){return attachKind(yield _(),OpKind.ORIGINATION)})}mapDelegateParamsToWalletParams(_){return __awaiter(this,void 0,void 0,function*(){return attachKind(yield _(),OpKind.DELEGATION)})}mapIncreasePaidStorageWalletParams(_){return __awaiter(this,void 0,void 0,function*(){return attachKind(yield _(),OpKind.INCREASE_PAID_STORAGE)})}sendOperations(_){return __awaiter(this,void 0,void 0,function*(){return(yield this.context.batch.batch(_).send()).hash})}sign(_,$){return __awaiter(this,void 0,void 0,function*(){const{prefixSig:j}=yield this.context.signer.sign(_,$);return j})}}class ContractMethodObject{constructor(_,$,j,et,tt="unit",rt=!0,nt=!1){this.provider=_,this.address=$,this.parameterSchema=j,this.name=et,this.args=tt,this.isMultipleEntrypoint=rt,this.isAnonymous=nt}getSignature(){return this.isAnonymous?this.parameterSchema.ExtractSchema()[this.name]:this.parameterSchema.ExtractSchema()}send(_={}){return this.provider instanceof Wallet?this.provider.transfer(this.toTransferParams(_)).send():this.provider.transfer(this.toTransferParams(_))}toTransferParams({fee:_,gasLimit:$,storageLimit:j,source:et,amount:tt=0,mutez:rt=!1}={}){return{to:this.address,amount:tt,fee:_,mutez:rt,source:et,gasLimit:$,storageLimit:j,parameter:{entrypoint:this.isMultipleEntrypoint?this.name:DEFAULT_SMART_CONTRACT_METHOD_NAME,value:this.isAnonymous?this.parameterSchema.EncodeObject({[this.name]:this.args}):this.parameterSchema.EncodeObject(this.args)}}}}class ContractMethod{constructor(_,$,j,et,tt,rt=!0,nt=!1){this.provider=_,this.address=$,this.parameterSchema=j,this.name=et,this.args=tt,this.isMultipleEntrypoint=rt,this.isAnonymous=nt}validateArgs(_,$,j){const et=$.ExtractSignatures();if(!et.find(tt=>tt.length===_.length))throw new InvalidParameterError(j,et,_)}get schema(){return this.isAnonymous?this.parameterSchema.ExtractSchema()[this.name]:this.parameterSchema.ExtractSchema()}getSignature(){if(this.isAnonymous){const _=this.parameterSchema.ExtractSignatures().find($=>$[0]===this.name);if(_)return _.shift(),_}else{const _=this.parameterSchema.ExtractSignatures();return _.length==1?_[0]:_}}send(_={}){return this.provider instanceof Wallet?this.provider.transfer(this.toTransferParams(_)).send():this.provider.transfer(this.toTransferParams(_))}toTransferParams({fee:_,gasLimit:$,storageLimit:j,source:et,amount:tt=0,mutez:rt=!1}={}){return{to:this.address,amount:tt,fee:_,mutez:rt,source:et,gasLimit:$,storageLimit:j,parameter:{entrypoint:this.isMultipleEntrypoint?this.name:DEFAULT_SMART_CONTRACT_METHOD_NAME,value:this.isAnonymous?this.parameterSchema.Encode(this.name,...this.args):this.parameterSchema.Encode(...this.args)}}}}class OnChainView{constructor(_,$,j,et,tt,rt="Unit"){this._rpc=_,this._readProvider=$,this._contractAddress=j,this._smartContractViewSchema=et,this._contractStorageType=tt,this._args=rt}getSignature(){return{parameter:this._smartContractViewSchema.extractArgsSchema(),result:this._smartContractViewSchema.extractResultSchema()}}executeView(_){return __awaiter(this,void 0,void 0,function*(){this.verifyContextExecution(_);const $=yield this._readProvider.getChainId(),j=this.transformArgsToMichelson(),et={contract:this._contractAddress,view:this._smartContractViewSchema.viewName,input:j,chain_id:$,source:_.viewCaller};return _.source&&(et.payer=_.source),this.executeViewAndDecodeResult(et)})}verifyContextExecution(_){if(_.source&&validateAddress(_.source)!==ValidationResult.VALID)throw new InvalidViewSimulationContext(`The source account who initialized the view execution is invalid: ${_.source}.`);if(!_.viewCaller||validateAddress(_.viewCaller)!==ValidationResult.VALID)throw new InvalidViewSimulationContext(`The contract which is the caller of view is invalid: ${_.viewCaller}.`)}transformArgsToMichelson(){try{return this._smartContractViewSchema.encodeViewArgs(this._args)}catch(_){throw new InvalidViewParameterError(this._smartContractViewSchema.viewName,this.getSignature(),this._args,_)}}adaptViewCodeToContext(_,$,j){const et={BALANCE:[{prim:"PUSH",args:[{prim:"mutez"},{int:j}]}],SENDER:[{prim:"PUSH",args:[{prim:"address"},{string:$}]}],SELF_ADDRESS:[{prim:"PUSH",args:[{prim:"address"},{string:this._contractAddress}]}],AMOUNT:[{prim:"PUSH",args:[{prim:"mutez"},{int:"0"}]}]};return _.forEach((tt,rt)=>{tt.prim in et&&(_[rt]=Object(et)[tt.prim]),tt.args&&tt.args.length!==0?this.adaptViewCodeToContext(tt.args,$,j):Array.isArray(tt)&&this.adaptViewCodeToContext(tt,$,j)}),_}executeViewAndDecodeResult(_){return __awaiter(this,void 0,void 0,function*(){let $;try{$=(yield this._rpc.runScriptView(_)).data}catch(j){const et=validateAndExtractFailwith(j);throw et?new ViewSimulationError(`The simulation of the on-chain view named ${this._smartContractViewSchema.viewName} failed with: ${JSON.stringify(et)}`,this._smartContractViewSchema.viewName,et,j):j}return this._smartContractViewSchema.decodeViewResult($)})}}class ContractMethodFactory{constructor(_,$){this.provider=_,this.contractAddress=$}createContractMethodFlatParams(_,$,j,et=!0,tt=!1){return new ContractMethod(this.provider,this.contractAddress,_,$,j,et,tt)}createContractMethodObjectParam(_,$,j,et=!0,tt=!1){return new ContractMethodObject(this.provider,this.contractAddress,_,$,j,et,tt)}createContractViewObjectParam(_,$,j,et,tt){return new OnChainView(_,$,this.contractAddress,j,et,tt)}}const DEFAULT_SMART_CONTRACT_METHOD_NAME="default";class ContractView{constructor(_,$,j,et,tt,rt,nt){this.currentContract=_,this.name=$,this.callbackParametersSchema=j,this.parameterSchema=et,this.args=tt,this.rpc=rt,this.readProvider=nt}read(_){return __awaiter(this,void 0,void 0,function*(){const $=validateChain(_??"");if(validateContractAddress(_??"")==ValidationResult.VALID)throw new DeprecationError("Since version 12, the lambda view no longer depends on a lambda contract. The read method no longer accepts a contract address as a parameter.");if(_&&$!==ValidationResult.VALID)throw new InvalidChainIdError(_,invalidDetail($));const j=this.parameterSchema.Encode(...this.args),et=yield this.rpc.runView({contract:this.currentContract.address,entrypoint:this.name,input:j,chain_id:_||(yield this.readProvider.getChainId())});return this.callbackParametersSchema.Execute(et.data)})}}const validateArgs=(a,_,$)=>{const j=_.ExtractSignatures();if(!j.find(et=>et.length===a.length))throw new InvalidParameterError($,j,a)},isView$2=a=>{let _=!1;if("prim"in a&&a.prim==="pair"&&a.args){const $=a.args[a.args.length-1];"prim"in $&&$.prim==="contract"&&(_=!0)}return _};class ContractAbstraction{constructor(_,$,j,et,tt,rt,nt){this.address=_,this.script=$,this.storageProvider=et,this.entrypoints=tt,this.rpc=rt,this.readProvider=nt,this.methods={},this.methodsObject={},this.views={},this.contractViews={},this.contractMethodFactory=new ContractMethodFactory(j,_),this.schema=Schema.fromRPCResponse({script:this.script}),this.parameterSchema=ParameterSchema.fromRPCResponse({script:this.script}),this.viewSchema=ViewSchema.fromRPCResponse({script:this.script}),this.viewSchema.length!==0&&this._initializeOnChainViews(this,rt,this.readProvider,this.viewSchema),this.eventSchema=EventSchema.fromRPCResponse({script:this.script}),this._initializeMethods(this,this.entrypoints.entrypoints,this.rpc,this.readProvider)}_initializeMethods(_,$,j,et){const tt=this.parameterSchema,rt=Object.keys($);if(tt.isMultipleEntryPoint)rt.forEach(it=>{const st=new ParameterSchema($[it]);if(this.methods[it]=function(...ot){return _.contractMethodFactory.createContractMethodFlatParams(st,it,ot)},this.methodsObject[it]=function(ot){return _.contractMethodFactory.createContractMethodObjectParam(st,it,ot)},isView$2($[it])){const ot=function(...at){const ut=$[it].args[0],ht=new ParameterSchema(ut),yt=$[it].args[1].args[0],wt=new ParameterSchema(yt);return validateArgs(at,ht,it),new ContractView(_,it,wt,ht,at,j,et)};this.views[it]=ot}}),Object.keys(tt.ExtractSchema()).filter(it=>Object.keys($).indexOf(it)===-1).forEach(it=>{this.methods[it]=function(...st){return _.contractMethodFactory.createContractMethodFlatParams(tt,it,st,!1,!0)},this.methodsObject[it]=function(st){return _.contractMethodFactory.createContractMethodObjectParam(tt,it,st,!1,!0)}});else{const nt=this.parameterSchema;this.methods[DEFAULT_SMART_CONTRACT_METHOD_NAME]=function(...it){return _.contractMethodFactory.createContractMethodFlatParams(nt,DEFAULT_SMART_CONTRACT_METHOD_NAME,it,!1)},this.methodsObject[DEFAULT_SMART_CONTRACT_METHOD_NAME]=function(it){return _.contractMethodFactory.createContractMethodObjectParam(nt,DEFAULT_SMART_CONTRACT_METHOD_NAME,it,!1)}}}_initializeOnChainViews(_,$,j,et){const tt=this.schema.val;et.forEach(rt=>{this.contractViews[rt.viewName]=function(nt){return _.contractMethodFactory.createContractViewObjectParam($,j,rt,tt,nt)}})}storage(){return this.storageProvider.getStorage(this.address,this.schema)}bigMap(_){return this.storageProvider.getBigMapKey(this.address,_,this.schema)}}const setDelegate=a=>[{prim:"DROP"},{prim:"NIL",args:[{prim:"operation"}]},{prim:"PUSH",args:[{prim:"key_hash"},{string:a}]},{prim:"SOME"},{prim:"SET_DELEGATE"},{prim:"CONS"}],transferImplicit=(a,_)=>[{prim:"DROP"},{prim:"NIL",args:[{prim:"operation"}]},{prim:"PUSH",args:[{prim:"key_hash"},{string:a}]},{prim:"IMPLICIT_ACCOUNT"},{prim:"PUSH",args:[{prim:"mutez"},{int:`${_}`}]},{prim:"UNIT"},{prim:"TRANSFER_TOKENS"},{prim:"CONS"}],removeDelegate=()=>[{prim:"DROP"},{prim:"NIL",args:[{prim:"operation"}]},{prim:"NONE",args:[{prim:"key_hash"}]},{prim:"SET_DELEGATE"},{prim:"CONS"}],transferToContract=(a,_)=>[{prim:"DROP"},{prim:"NIL",args:[{prim:"operation"}]},{prim:"PUSH",args:[{prim:"address"},{string:a}]},{prim:"CONTRACT",args:[{prim:"unit"}]},{prim:"IF_NONE",args:[[{prim:"UNIT"},{prim:"FAILWITH"}],[]]},{prim:"PUSH",args:[{prim:"mutez"},{int:`${_}`}]},{prim:"UNIT"},{prim:"TRANSFER_TOKENS"},{prim:"CONS"}],MANAGER_LAMBDA={setDelegate,removeDelegate,transferImplicit,transferToContract};class SaplingStateAbstraction{constructor(_,$){this.id=_,this.provider=$}getSaplingDiff(_){return __awaiter(this,void 0,void 0,function*(){return this.provider.getSaplingDiffByID(this.id.toString(),_)})}getId(){return this.id.toString()}}class BigMapAbstraction{constructor(_,$,j){this.id=_,this.schema=$,this.provider=j}get(_,$){return __awaiter(this,void 0,void 0,function*(){try{return yield this.provider.getBigMapKeyByID(this.id.toString(),_,this.schema,$)}catch(j){if(j instanceof HttpResponseError&&j.status===STATUS_CODE.NOT_FOUND)return;throw j}})}getMultipleValues(_,$,j=5){return __awaiter(this,void 0,void 0,function*(){return this.provider.getBigMapKeysByID(this.id.toString(),_,this.schema,$,j)})}toJSON(){return this.id.toString()}toString(){return this.id.toString()}}const smartContractAbstractionSemantic=a=>({big_map:(_,$)=>{if(!_||!("int"in _)||_.int===void 0)return{};{const j=new Schema($);return new BigMapAbstraction(new BigNumber(_.int),j,a)}},sapling_state:_=>!_||!("int"in _)||_.int===void 0?{}:new SaplingStateAbstraction(new BigNumber(_.int),a)});var _PrepareProvider_counters;const mergeLimits=(a,_)=>{var $,j,et;return{fee:($=a.fee)!==null&&$!==void 0?$:_.fee,gasLimit:(j=a.gasLimit)!==null&&j!==void 0?j:_.gasLimit,storageLimit:(et=a.storageLimit)!==null&&et!==void 0?et:_.storageLimit}};class PrepareProvider extends Provider{constructor(_){super(_),this.context=_,_PrepareProvider_counters.set(this,void 0),__classPrivateFieldSet(this,_PrepareProvider_counters,{})}getBlockHash(_){return __awaiter(this,void 0,void 0,function*(){return this.context.readProvider.getBlockHash(_??"head~2")})}getProtocolHash(){return __awaiter(this,void 0,void 0,function*(){return this.context.readProvider.getNextProtocol("head")})}getHeadCounter(_){var $;return __awaiter(this,void 0,void 0,function*(){return($=this.context.readProvider.getCounter(_,"head"))!==null&&$!==void 0?$:"0"})}adjustGasForBatchOperation(_,$,j){return BigNumber.min($,_.div(j+1))}getOperationLimits(_,$){return __awaiter(this,void 0,void 0,function*(){const{hard_gas_limit_per_operation:j,hard_gas_limit_per_block:et,hard_storage_limit_per_operation:tt}=_;return{fee:0,gasLimit:$?Math.floor(this.adjustGasForBatchOperation(et,j,$).toNumber()):j.toNumber(),storageLimit:tt.toNumber()}})}getFee(_,$,j){return(!__classPrivateFieldGet(this,_PrepareProvider_counters,"f")[$]||__classPrivateFieldGet(this,_PrepareProvider_counters,"f")[$]<j)&&(__classPrivateFieldGet(this,_PrepareProvider_counters,"f")[$]=j),{counter:`${++__classPrivateFieldGet(this,_PrepareProvider_counters,"f")[$]}`,fee:typeof _.fee>"u"?"0":`${_.fee}`,gas_limit:typeof _.gas_limit>"u"?"0":`${_.gas_limit}`,storage_limit:typeof _.storage_limit>"u"?"0":`${_.storage_limit}`}}getSource(_,$,j){return{source:typeof _.source>"u"?j||$:_.source}}addRevealOperationIfNeeded(_,$){return __awaiter(this,void 0,void 0,function*(){if(isOpRequireReveal(_)){const j=[_],{publicKey:et,pkh:tt}=yield this.getKeys();if(yield this.isAccountRevealRequired($)){if(!et)throw new PublicKeyNotFoundError(tt);return j.unshift(yield createRevealOperation({fee:getRevealFee(tt),storageLimit:REVEAL_STORAGE_LIMIT,gasLimit:getRevealGasLimit(tt)},$,et)),j}}return _})}getKeys(){return __awaiter(this,void 0,void 0,function*(){const _=this.context.isAnySignerConfigured();return{pkh:_?yield this.signer.publicKeyHash():yield this.context.walletProvider.getPKH(),publicKey:_?yield this.signer.publicKey():void 0}})}convertIntoArray(_){return Array.isArray(_)?[..._]:[_]}constructOpContents(_,$,j,et,tt){return _.map(rt=>{switch(rt.kind){case OpKind.ACTIVATION:case OpKind.DRAIN_DELEGATE:return Object.assign({},rt);case OpKind.ORIGINATION:return Object.assign(Object.assign(Object.assign(Object.assign({},rt),{balance:typeof rt.balance<"u"?`${rt.balance}`:"0"}),this.getSource(rt,j,et)),this.getFee(rt,j,$));case OpKind.TRANSACTION:{const nt=Object.assign(Object.assign(Object.assign(Object.assign({},rt),{amount:typeof rt.amount<"u"?`${rt.amount}`:"0"}),this.getSource(rt,j,et)),this.getFee(rt,j,$));if(nt.source.toLowerCase().startsWith("kt1"))throw new DeprecationError(`KT1 addresses are not supported as source since ${Protocols.PsBabyM1}`);return nt}case OpKind.REVEAL:case OpKind.DELEGATION:case OpKind.REGISTER_GLOBAL_CONSTANT:case OpKind.UPDATE_CONSENSUS_KEY:case OpKind.SMART_ROLLUP_ADD_MESSAGES:case OpKind.SMART_ROLLUP_ORIGINATE:case OpKind.SMART_ROLLUP_EXECUTE_OUTBOX_MESSAGE:return Object.assign(Object.assign(Object.assign({},rt),this.getSource(rt,j,et)),this.getFee(rt,j,$));case OpKind.TRANSFER_TICKET:return Object.assign(Object.assign(Object.assign(Object.assign({},rt),{ticket_amount:`${rt.ticket_amount}`}),this.getSource(rt,j,et)),this.getFee(rt,j,$));case OpKind.INCREASE_PAID_STORAGE:return Object.assign(Object.assign(Object.assign(Object.assign({},rt),{amount:`${rt.amount}`}),this.getSource(rt,j,et)),this.getFee(rt,j,$));case OpKind.BALLOT:if(tt===void 0)throw new RPCResponseError("Failed to get the current voting period index");return Object.assign(Object.assign({},rt),{period:tt==null?void 0:tt.voting_period.index});case OpKind.PROPOSALS:if(tt===void 0)throw new RPCResponseError("Failed to get the current voting period index");return Object.assign(Object.assign({},rt),{period:tt==null?void 0:tt.voting_period.index});default:throw new InvalidOperationKindError(rt.kind)}})}activate({pkh:_,secret:$}){return __awaiter(this,void 0,void 0,function*(){const j=yield createActivationOperation({pkh:_,secret:$}),et=this.convertIntoArray(j),tt=yield this.getBlockHash(),rt=yield this.getProtocolHash();__classPrivateFieldSet(this,_PrepareProvider_counters,{});const nt=parseInt(yield this.getHeadCounter(_),10),it=this.constructOpContents(et,nt,_);return{opOb:{branch:tt,contents:it,protocol:rt},counter:nt}})}reveal({fee:_,gasLimit:$,storageLimit:j}){return __awaiter(this,void 0,void 0,function*(){const{pkh:et,publicKey:tt}=yield this.getKeys();if(!tt)throw new PublicKeyNotFoundError(et);const rt=yield this.context.readProvider.getProtocolConstants("head"),nt=yield this.getOperationLimits(rt),it=mergeLimits({fee:_,storageLimit:j,gasLimit:$},nt),st=yield createRevealOperation({fee:it.fee,gasLimit:it.gasLimit,storageLimit:it.storageLimit},et,tt),ot=this.convertIntoArray(st),at=yield this.getBlockHash(),ut=yield this.getProtocolHash();__classPrivateFieldSet(this,_PrepareProvider_counters,{});const ht=parseInt(yield this.getHeadCounter(et),10),yt=this.constructOpContents(ot,ht,et);return{opOb:{branch:at,contents:yt,protocol:ut},counter:ht}})}originate(_,$){var{fee:j,storageLimit:et,gasLimit:tt}=_,rt=__rest(_,["fee","storageLimit","gasLimit"]);return __awaiter(this,void 0,void 0,function*(){const{pkh:nt}=yield this.getKeys(),it=yield this.context.readProvider.getProtocolConstants("head"),st=yield this.getOperationLimits(it),ot=yield createOriginationOperation(yield this.context.parser.prepareCodeOrigination(Object.assign(Object.assign({},rt),mergeLimits({fee:j,storageLimit:et,gasLimit:tt},st)))),at=yield this.addRevealOperationIfNeeded(ot,nt),ut=this.convertIntoArray(at),ht=yield this.getBlockHash(),yt=yield this.getProtocolHash();__classPrivateFieldSet(this,_PrepareProvider_counters,{});const wt=parseInt(yield this.getHeadCounter(nt),10),Ct=this.constructOpContents(ut,wt,nt,$);return{opOb:{branch:ht,contents:Ct,protocol:yt},counter:wt}})}transaction(_){var{fee:$,storageLimit:j,gasLimit:et}=_,tt=__rest(_,["fee","storageLimit","gasLimit"]);return __awaiter(this,void 0,void 0,function*(){const{pkh:rt}=yield this.getKeys(),nt=yield this.context.readProvider.getProtocolConstants("head"),it=yield this.getOperationLimits(nt),st=yield createTransferOperation(Object.assign(Object.assign({},tt),mergeLimits({fee:$,storageLimit:j,gasLimit:et},it))),ot=yield this.addRevealOperationIfNeeded(st,rt),at=this.convertIntoArray(ot),ut=yield this.getBlockHash(),ht=yield this.getProtocolHash();__classPrivateFieldSet(this,_PrepareProvider_counters,{});const yt=parseInt(yield this.getHeadCounter(rt),10),wt=this.constructOpContents(at,yt,rt,tt.source);return{opOb:{branch:ut,contents:wt,protocol:ht},counter:yt}})}delegation(_){var{fee:$,storageLimit:j,gasLimit:et}=_,tt=__rest(_,["fee","storageLimit","gasLimit"]);return __awaiter(this,void 0,void 0,function*(){const{pkh:rt}=yield this.getKeys(),nt=yield this.context.readProvider.getProtocolConstants("head"),it=yield this.getOperationLimits(nt),st=yield createSetDelegateOperation(Object.assign(Object.assign({},tt),mergeLimits({fee:$,storageLimit:j,gasLimit:et},it))),ot=yield this.addRevealOperationIfNeeded(st,rt),at=this.convertIntoArray(ot),ut=yield this.getBlockHash(),ht=yield this.getProtocolHash();__classPrivateFieldSet(this,_PrepareProvider_counters,{});const yt=parseInt(yield this.getHeadCounter(rt),10),wt=this.constructOpContents(at,yt,rt,tt.source);return{opOb:{branch:ut,contents:wt,protocol:ht},counter:yt}})}registerDelegate({fee:_,storageLimit:$,gasLimit:j},et){return __awaiter(this,void 0,void 0,function*(){const{pkh:tt}=yield this.getKeys(),rt=yield this.context.readProvider.getProtocolConstants("head"),nt=yield this.getOperationLimits(rt),it=mergeLimits({fee:_,storageLimit:$,gasLimit:j},nt),st=yield createRegisterDelegateOperation({fee:it.fee,storageLimit:it.storageLimit,gasLimit:it.gasLimit},tt),ot=yield this.addRevealOperationIfNeeded(st,tt),at=this.convertIntoArray(ot),ut=yield this.getBlockHash(),ht=yield this.getProtocolHash();__classPrivateFieldSet(this,_PrepareProvider_counters,{});const yt=parseInt(yield this.getHeadCounter(tt),10),wt=this.constructOpContents(at,yt,tt,et);return{opOb:{branch:ut,contents:wt,protocol:ht},counter:yt}})}registerGlobalConstant(_){var{fee:$,storageLimit:j,gasLimit:et}=_,tt=__rest(_,["fee","storageLimit","gasLimit"]);return __awaiter(this,void 0,void 0,function*(){const{pkh:rt}=yield this.getKeys(),nt=yield this.context.readProvider.getProtocolConstants("head"),it=yield this.getOperationLimits(nt),st=yield createRegisterGlobalConstantOperation(Object.assign(Object.assign({},tt),mergeLimits({fee:$,storageLimit:j,gasLimit:et},it))),ot=yield this.addRevealOperationIfNeeded(st,rt),at=this.convertIntoArray(ot),ut=yield this.getBlockHash(),ht=yield this.getProtocolHash();__classPrivateFieldSet(this,_PrepareProvider_counters,{});const yt=parseInt(yield this.getHeadCounter(rt),10),wt=this.constructOpContents(at,yt,rt,tt.source);return{opOb:{branch:ut,contents:wt,protocol:ht},counter:yt}})}updateConsensusKey(_,$){var{fee:j,storageLimit:et,gasLimit:tt}=_,rt=__rest(_,["fee","storageLimit","gasLimit"]);return __awaiter(this,void 0,void 0,function*(){const{pkh:nt}=yield this.getKeys(),it=yield this.context.readProvider.getProtocolConstants("head"),st=yield this.getOperationLimits(it),ot=yield createUpdateConsensusKeyOperation(Object.assign(Object.assign({},rt),mergeLimits({fee:j,storageLimit:et,gasLimit:tt},st))),at=yield this.addRevealOperationIfNeeded(ot,nt),ut=this.convertIntoArray(at),ht=yield this.getBlockHash(),yt=yield this.getProtocolHash();__classPrivateFieldSet(this,_PrepareProvider_counters,{});const wt=parseInt(yield this.getHeadCounter(nt),10),Ct=this.constructOpContents(ut,wt,nt,$);return{opOb:{branch:ht,contents:Ct,protocol:yt},counter:wt}})}increasePaidStorage(_){var{fee:$,storageLimit:j,gasLimit:et}=_,tt=__rest(_,["fee","storageLimit","gasLimit"]);return __awaiter(this,void 0,void 0,function*(){const{pkh:rt}=yield this.getKeys(),nt=yield this.context.readProvider.getProtocolConstants("head"),it=yield this.getOperationLimits(nt),st=yield createIncreasePaidStorageOperation(Object.assign(Object.assign({},tt),mergeLimits({fee:$,storageLimit:j,gasLimit:et},it))),ot=yield this.addRevealOperationIfNeeded(st,rt),at=this.convertIntoArray(ot),ut=yield this.getBlockHash(),ht=yield this.getProtocolHash();__classPrivateFieldSet(this,_PrepareProvider_counters,{});const yt=parseInt(yield this.getHeadCounter(rt),10),wt=this.constructOpContents(at,yt,rt,tt.source);return{opOb:{branch:ut,contents:wt,protocol:ht},counter:yt}})}ballot(_){return __awaiter(this,void 0,void 0,function*(){const{pkh:$}=yield this.getKeys(),j=yield createBallotOperation(Object.assign({},_)),et=this.convertIntoArray(j),tt=yield this.getBlockHash(),rt=yield this.getProtocolHash();__classPrivateFieldSet(this,_PrepareProvider_counters,{});const nt=parseInt(yield this.getHeadCounter($),10);let it;try{it=yield this.rpc.getCurrentPeriod()}catch{throw new RPCResponseError("Failed to get the current voting period index")}const st=this.constructOpContents(et,nt,$,void 0,it);return{opOb:{branch:tt,contents:st,protocol:rt},counter:nt}})}proposals(_){return __awaiter(this,void 0,void 0,function*(){const{pkh:$}=yield this.getKeys(),j=yield createProposalsOperation(Object.assign({},_)),et=this.convertIntoArray(j),tt=yield this.getBlockHash(),rt=yield this.getProtocolHash();__classPrivateFieldSet(this,_PrepareProvider_counters,{});const nt=parseInt(yield this.getHeadCounter($),10);let it;try{it=yield this.rpc.getCurrentPeriod()}catch{throw new RPCResponseError("Failed to get the current voting period index")}const st=this.constructOpContents(et,nt,$,void 0,it);return{opOb:{branch:tt,contents:st,protocol:rt},counter:nt}})}drainDelegate(_,$){return __awaiter(this,void 0,void 0,function*(){const{pkh:j}=yield this.getKeys(),et=yield createDrainDelegateOperation(Object.assign({},_)),tt=this.convertIntoArray(et),rt=yield this.getBlockHash(),nt=yield this.getProtocolHash();__classPrivateFieldSet(this,_PrepareProvider_counters,{});const it=parseInt(yield this.getHeadCounter(j),10),st=this.constructOpContents(tt,it,j,$);return{opOb:{branch:rt,contents:st,protocol:nt},counter:it}})}transferTicket(_){var{fee:$,storageLimit:j,gasLimit:et}=_,tt=__rest(_,["fee","storageLimit","gasLimit"]);return __awaiter(this,void 0,void 0,function*(){const{pkh:rt}=yield this.getKeys(),nt=yield this.context.readProvider.getProtocolConstants("head"),it=yield this.getOperationLimits(nt),st=yield createTransferTicketOperation(Object.assign(Object.assign({},tt),mergeLimits({fee:$,storageLimit:j,gasLimit:et},it))),ot=yield this.addRevealOperationIfNeeded(st,rt),at=this.convertIntoArray(ot),ut=yield this.getBlockHash(),ht=yield this.getProtocolHash();__classPrivateFieldSet(this,_PrepareProvider_counters,{});const yt=parseInt(yield this.getHeadCounter(rt),10),wt=this.constructOpContents(at,yt,rt,tt.source);return{opOb:{branch:ut,contents:wt,protocol:ht},counter:yt}})}smartRollupAddMessages(_){var{fee:$,storageLimit:j,gasLimit:et}=_,tt=__rest(_,["fee","storageLimit","gasLimit"]);return __awaiter(this,void 0,void 0,function*(){const{pkh:rt}=yield this.getKeys(),nt=yield this.context.readProvider.getProtocolConstants("head"),it=yield this.getOperationLimits(nt),st=yield createSmartRollupAddMessagesOperation(Object.assign(Object.assign({},tt),mergeLimits({fee:$,storageLimit:j,gasLimit:et},it))),ot=yield this.addRevealOperationIfNeeded(st,rt),at=this.convertIntoArray(ot),ut=yield this.getBlockHash(),ht=yield this.getProtocolHash();__classPrivateFieldSet(this,_PrepareProvider_counters,{});const yt=parseInt(yield this.getHeadCounter(rt),10),wt=this.constructOpContents(at,yt,rt,tt.source);return{opOb:{branch:ut,contents:wt,protocol:ht},counter:yt}})}smartRollupOriginate(_){var{fee:$,storageLimit:j,gasLimit:et}=_,tt=__rest(_,["fee","storageLimit","gasLimit"]);return __awaiter(this,void 0,void 0,function*(){const{pkh:rt}=yield this.getKeys(),nt=yield this.context.readProvider.getProtocolConstants("head"),it=yield this.getOperationLimits(nt),st=yield createSmartRollupOriginateOperation(Object.assign(Object.assign({},mergeLimits({fee:$,storageLimit:j,gasLimit:et},it)),tt)),ot=yield this.addRevealOperationIfNeeded(st,rt),at=this.convertIntoArray(ot),ut=yield this.getBlockHash(),ht=yield this.getProtocolHash();__classPrivateFieldSet(this,_PrepareProvider_counters,{});const yt=parseInt(yield this.getHeadCounter(rt),10),wt=this.constructOpContents(at,yt,rt,tt.source);return{opOb:{branch:ut,contents:wt,protocol:ht},counter:yt}})}smartRollupExecuteOutboxMessage(_){var{fee:$,storageLimit:j,gasLimit:et}=_,tt=__rest(_,["fee","storageLimit","gasLimit"]);return __awaiter(this,void 0,void 0,function*(){const{pkh:rt}=yield this.getKeys(),nt=yield this.context.readProvider.getProtocolConstants("head"),it=yield this.getOperationLimits(nt),st=yield createSmartRollupExecuteOutboxMessageOperation(Object.assign(Object.assign({},tt),mergeLimits({fee:$,storageLimit:j,gasLimit:et},it))),ot=yield this.addRevealOperationIfNeeded(st,rt),at=this.convertIntoArray(ot),ut=yield this.getBlockHash(),ht=yield this.getProtocolHash();__classPrivateFieldSet(this,_PrepareProvider_counters,{});const yt=parseInt(yield this.getHeadCounter(rt),10),wt=this.constructOpContents(at,yt,rt,tt.source);return{opOb:{branch:ut,contents:wt,protocol:ht},counter:yt}})}batch(_,$){return __awaiter(this,void 0,void 0,function*(){const{pkh:j,publicKey:et}=yield this.getKeys(),tt=yield this.context.readProvider.getProtocolConstants("head"),rt=yield this.getOperationLimits(tt,_.length),nt=yield this.isRevealOpNeeded(_,j),it=[];if($)for(const ht of _)if(isOpWithFee(ht)){const yt=$.shift(),wt=mergeLimits(ht,{fee:yt.suggestedFeeMutez,storageLimit:yt.storageLimit,gasLimit:yt.gasLimit});it.push(yield this.getRPCOp(Object.assign(Object.assign({},ht),wt)))}else it.push(Object.assign({},ht));else for(const ht of _)if(isOpWithFee(ht)){const yt=mergeLimits(ht,rt);it.push(yield this.getRPCOp(Object.assign(Object.assign({},ht),yt)))}else it.push(Object.assign({},ht));if(nt){if(!et)throw new PublicKeyNotFoundError(j);it.unshift(yield createRevealOperation({fee:getRevealFee(j),storageLimit:REVEAL_STORAGE_LIMIT,gasLimit:getRevealGasLimit(j)},j,et))}const st=yield this.getBlockHash(),ot=yield this.getProtocolHash();__classPrivateFieldSet(this,_PrepareProvider_counters,{});const at=parseInt(yield this.getHeadCounter(j),10),ut=this.constructOpContents(it,at,j);return{opOb:{branch:st,contents:ut,protocol:ot},counter:at}})}contractCall(_){var $,j,et;return __awaiter(this,void 0,void 0,function*(){const tt=yield this.getBlockHash(),rt=yield this.getProtocolHash(),{pkh:nt}=yield this.getKeys();__classPrivateFieldSet(this,_PrepareProvider_counters,{});const it=parseInt(yield this.getHeadCounter(nt),10),st=_.toTransferParams(),ot=yield this.context.readProvider.getProtocolConstants("head"),at=yield this.getOperationLimits(ot),ut=mergeLimits({fee:st.fee,storageLimit:st.storageLimit,gasLimit:st.gasLimit},at),ht={kind:OpKind.TRANSACTION,fee:($=st.fee)!==null&&$!==void 0?$:ut.fee,gas_limit:(j=st.gasLimit)!==null&&j!==void 0?j:ut.gasLimit,storage_limit:(et=st.storageLimit)!==null&&et!==void 0?et:ut.storageLimit,amount:String(st.amount),destination:st.to,parameters:st.parameter},yt=yield this.addRevealOperationIfNeeded(ht,nt),wt=this.convertIntoArray(yt),Ct=this.constructOpContents(wt,it,nt);return{opOb:{branch:tt,contents:Ct,protocol:rt},counter:it}})}toPreapply(_){return __awaiter(this,void 0,void 0,function*(){const{opOb:{contents:$,branch:j,protocol:et}}=_,tt=this.toForge(_),rt=yield this.context.forger.forge(tt),nt=yield this.context.signer.sign(rt,new Uint8Array([3]));return[{contents:$,branch:j,protocol:et,signature:nt.prefixSig}]})}toForge({opOb:{contents:_,branch:$}}){return{branch:$,contents:_}}}_PrepareProvider_counters=new WeakMap;const BATCH_KINDS=[OpKind.ACTIVATION,OpKind.ORIGINATION,OpKind.TRANSACTION,OpKind.DELEGATION];class OperationBatch extends Provider{constructor(_,$){super(_),this.estimator=$,this.operations=[],this.prepare=new PrepareProvider(this.context)}withTransfer(_){const $=validateAddress(_.to);if(_.amount<0)throw new InvalidAmountError(_.amount.toString());if($!==ValidationResult.VALID)throw new InvalidAddressError(_.to,invalidDetail($));return this.operations.push(Object.assign({kind:OpKind.TRANSACTION},_)),this}withTransferTicket(_){const $=validateAddress(_.destination);if($!==ValidationResult.VALID)throw new InvalidAddressError(_.destination,invalidDetail($));return this.operations.push(Object.assign({kind:OpKind.TRANSFER_TICKET},_)),this}withContractCall(_,$={}){return this.withTransfer(_.toTransferParams($))}withDelegation(_){var $;const j=validateAddress(_.source);if(_.source&&j!==ValidationResult.VALID)throw new InvalidAddressError(_.source,invalidDetail(j));const et=validateAddress(($=_.delegate)!==null&&$!==void 0?$:"");if(_.delegate&&et!==ValidationResult.VALID)throw new InvalidAddressError(_.delegate,invalidDetail(et));return this.operations.push(Object.assign({kind:OpKind.DELEGATION},_)),this}withActivation({pkh:_,secret:$}){const j=validateKeyHash(_);if(j!==ValidationResult.VALID)throw new InvalidKeyHashError(_,invalidDetail(j));return this.operations.push({kind:OpKind.ACTIVATION,pkh:_,secret:$}),this}withOrigination(_){return this.operations.push(Object.assign({kind:OpKind.ORIGINATION},_)),this}withRegisterGlobalConstant(_){return this.operations.push(Object.assign({kind:OpKind.REGISTER_GLOBAL_CONSTANT},_)),this}withIncreasePaidStorage(_){return this.operations.push(Object.assign({kind:OpKind.INCREASE_PAID_STORAGE},_)),this}withSmartRollupAddMessages(_){return this.operations.push(Object.assign({kind:OpKind.SMART_ROLLUP_ADD_MESSAGES},_)),this}withSmartRollupOriginate(_){return this.operations.push(Object.assign({kind:OpKind.SMART_ROLLUP_ORIGINATE},_)),this}withSmartRollupExecuteOutboxMessage(_){return this.operations.push(Object.assign({kind:OpKind.SMART_ROLLUP_EXECUTE_OUTBOX_MESSAGE},_)),this}getRPCOp(_){return __awaiter(this,void 0,void 0,function*(){switch(_.kind){case OpKind.TRANSACTION:return createTransferOperation(Object.assign({},_));case OpKind.ORIGINATION:return createOriginationOperation(yield this.context.parser.prepareCodeOrigination(Object.assign({},_)));case OpKind.DELEGATION:return createSetDelegateOperation(Object.assign({},_));case OpKind.REGISTER_GLOBAL_CONSTANT:return createRegisterGlobalConstantOperation(Object.assign({},_));case OpKind.INCREASE_PAID_STORAGE:return createIncreasePaidStorageOperation(Object.assign({},_));case OpKind.TRANSFER_TICKET:return createTransferTicketOperation(Object.assign({},_));case OpKind.SMART_ROLLUP_ADD_MESSAGES:return createSmartRollupAddMessagesOperation(Object.assign({},_));case OpKind.SMART_ROLLUP_ORIGINATE:return createSmartRollupOriginateOperation(Object.assign({},_));case OpKind.SMART_ROLLUP_EXECUTE_OUTBOX_MESSAGE:return createSmartRollupExecuteOutboxMessageOperation(Object.assign({},_));default:throw new InvalidOperationKindError(JSON.stringify(_.kind))}})}with(_){for(const $ of _)switch($.kind){case OpKind.TRANSACTION:this.withTransfer($);break;case OpKind.ORIGINATION:this.withOrigination($);break;case OpKind.DELEGATION:this.withDelegation($);break;case OpKind.ACTIVATION:this.withActivation($);break;case OpKind.REGISTER_GLOBAL_CONSTANT:this.withRegisterGlobalConstant($);break;case OpKind.INCREASE_PAID_STORAGE:this.withIncreasePaidStorage($);break;case OpKind.TRANSFER_TICKET:this.withTransferTicket($);break;case OpKind.SMART_ROLLUP_ADD_MESSAGES:this.withSmartRollupAddMessages($);break;case OpKind.SMART_ROLLUP_ORIGINATE:this.withSmartRollupOriginate($);break;case OpKind.SMART_ROLLUP_EXECUTE_OUTBOX_MESSAGE:this.withSmartRollupExecuteOutboxMessage($);break;default:throw new InvalidOperationKindError(JSON.stringify($.kind))}return this}send(_){return __awaiter(this,void 0,void 0,function*(){const $=yield this.signer.publicKeyHash(),j=_&&_.source||$,et=yield this.estimator.batch(this.operations);et.length!==this.operations.length&&et.shift();const tt=yield this.prepare.batch(this.operations,et),rt=yield this.forge(tt),{hash:nt,context:it,forgedBytes:st,opResponse:ot}=yield this.signAndInject(rt);return new BatchOperation(nt,tt.opOb.contents,j,st,ot,it)})}}class RPCBatchProvider{constructor(_,$){this.context=_,this.estimator=$}batch(_){const $=new OperationBatch(this.context,this.estimator);return Array.isArray(_)&&$.with(_),$}}class BatchWalletOperation extends WalletOperation{constructor(_,$,j){super(_,$,j),this.opHash=_,this.context=$,this.getOriginatedContractAddresses=()=>__awaiter(this,void 0,void 0,function*(){const et=yield this.operationResults();if(et){const tt=et.filter(nt=>nt.kind==="origination");let rt=[];for(const nt of tt)nt.metadata.operation_result.originated_contracts&&(rt=[...rt,...nt.metadata.operation_result.originated_contracts]);return rt}else throw new ObservableError("Unable to fetch operation results")})}revealOperation(){return __awaiter(this,void 0,void 0,function*(){const _=yield this.operationResults();if(_)return _.find($=>$.kind===OpKind.REVEAL);throw new ObservableError("Unable to fetch operation results")})}status(){return __awaiter(this,void 0,void 0,function*(){if(!this._included)return"pending";const _=yield this.operationResults();if(_)return _.filter($=>BATCH_KINDS.indexOf($.kind)!==-1).map($=>hasMetadataWithResult($)?$.metadata.operation_result.status:"unknown")[0]||"unknown";throw new ObservableError("Unable to fetch operation results")})}}class IncreasePaidStorageWalletOperation extends WalletOperation{constructor(_,$,j){super(_,$,j),this.opHash=_,this.context=$}revealOperation(){return __awaiter(this,void 0,void 0,function*(){const _=yield this.operationResults();if(_)return _.find($=>$.kind===OpKind.REVEAL);throw new ObservableError("Unable to fetch operation result")})}increasePaidStorageOperation(){return __awaiter(this,void 0,void 0,function*(){const _=yield this.operationResults();if(_)return _.find($=>$.kind===OpKind.INCREASE_PAID_STORAGE);throw new ObservableError("Unable to fetch operation result")})}status(){return __awaiter(this,void 0,void 0,function*(){if(!this._included)return"pending";const _=yield this.increasePaidStorageOperation();return _?_.metadata.operation_result.status:"unknown"})}}function timeoutAfter(a){return function($){return new BehaviorSubject(null).pipe(timeout({each:a,with:()=>throwError(()=>new ConfirmationTimeoutError("Confirmation polling timed out"))}),mergeMap(()=>$))}}const createNewPollingBasedHeadObservable=(a,_,$)=>a.pipe(timeoutAfter(_.config.confirmationPollingTimeoutSecond*1e3),share({connector:()=>new ReplaySubject(1),resetOnError:!1,resetOnComplete:!1,resetOnRefCountZero:!1}));class OperationFactory{constructor(_){this.context=_,this.sharedHeadObs=defer(()=>createObservableFromSubscription(this.context.stream.subscribeBlock("head")))}createNewHeadObservable(){return __awaiter(this,void 0,void 0,function*(){return createNewPollingBasedHeadObservable(this.sharedHeadObs,this.context)})}createPastBlockWalker(_,$=1){return from(this.context.readProvider.getBlock(_)).pipe(switchMap(j=>$===1?of(j):range(j.header.level,$-1).pipe(startWith(j),concatMap(et=>__awaiter(this,void 0,void 0,function*(){return this.context.readProvider.getBlock(typeof et=="number"?et:et.header.level)})))))}createHeadObservableFromConfig({blockIdentifier:_}){return __awaiter(this,void 0,void 0,function*(){const $=[];return _&&$.push(this.createPastBlockWalker(_)),$.push(yield this.createNewHeadObservable()),concat(...$)})}createOperation(_,$={}){return __awaiter(this,void 0,void 0,function*(){return new WalletOperation(_,this.context.clone(),yield this.createHeadObservableFromConfig($))})}createBatchOperation(_,$={}){return __awaiter(this,void 0,void 0,function*(){return new BatchWalletOperation(_,this.context.clone(),yield this.createHeadObservableFromConfig($))})}createTransactionOperation(_,$={}){return __awaiter(this,void 0,void 0,function*(){return new TransactionWalletOperation(_,this.context.clone(),yield this.createHeadObservableFromConfig($))})}createDelegationOperation(_,$={}){return __awaiter(this,void 0,void 0,function*(){return new DelegationWalletOperation(_,this.context.clone(),yield this.createHeadObservableFromConfig($))})}createOriginationOperation(_,$={}){return __awaiter(this,void 0,void 0,function*(){return new OriginationWalletOperation(_,this.context.clone(),yield this.createHeadObservableFromConfig($))})}createIncreasePaidStorageOperation(_,$={}){return __awaiter(this,void 0,void 0,function*(){return new IncreasePaidStorageWalletOperation(_,this.context.clone(),yield this.createHeadObservableFromConfig($))})}}class RpcTzProvider extends Provider{constructor(_){super(_),this.prepare=new PrepareProvider(this.context)}getBalance(_){return __awaiter(this,void 0,void 0,function*(){const $=validateAddress(_);if($!==ValidationResult.VALID)throw new InvalidAddressError(_,invalidDetail($));return this.context.readProvider.getBalance(_,"head")})}getDelegate(_){return __awaiter(this,void 0,void 0,function*(){const $=validateAddress(_);if($!==ValidationResult.VALID)throw new InvalidAddressError(_,invalidDetail($));return this.context.readProvider.getDelegate(_,"head")})}activate(_,$){return __awaiter(this,void 0,void 0,function*(){const j=validateKeyHash(_);if(j!==ValidationResult.VALID)throw new InvalidKeyHashError(_,invalidDetail(j));const et=yield this.prepare.activate({pkh:_,secret:$}),tt=yield this.forge(et),rt=`${tt.opbytes}00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000`;return new Operation(yield this.rpc.injectOperation(rt),Object.assign(Object.assign({},tt),{opbytes:rt}),[],this.context.clone())})}}const MINIMAL_FEE_MUTEZ=100,MINIMAL_FEE_PER_BYTE_MUTEZ=1,MINIMAL_FEE_PER_GAS_MUTEZ=.1;class Estimate{constructor(_,$,j,et,tt=MINIMAL_FEE_MUTEZ){this._milligasLimit=_,this._storageLimit=$,this.opSize=j,this.minimalFeePerStorageByteMutez=et,this.baseFeeMutez=tt}get burnFeeMutez(){return this.roundUp(Number(this.storageLimit)*Number(this.minimalFeePerStorageByteMutez))}get storageLimit(){return Math.max(Number(this._storageLimit),0)}get gasLimit(){return this.roundUp(Number(this._milligasLimit)/1e3)}get operationFeeMutez(){return this.gasLimit*MINIMAL_FEE_PER_GAS_MUTEZ+Number(this.opSize)*MINIMAL_FEE_PER_BYTE_MUTEZ}roundUp(_){return Math.ceil(Number(_))}get minimalFeeMutez(){return this.roundUp(this.operationFeeMutez+MINIMAL_FEE_MUTEZ)}get suggestedFeeMutez(){return this.roundUp(this.operationFeeMutez+MINIMAL_FEE_MUTEZ*1.2)}get usingBaseFeeMutez(){return Math.max(Number(this.baseFeeMutez),MINIMAL_FEE_MUTEZ)+this.roundUp(this.operationFeeMutez)}get totalCost(){return this.minimalFeeMutez+this.burnFeeMutez}get consumedMilligas(){return Number(this._milligasLimit)}static createEstimateInstanceFromProperties(_){let $=0,j=0,et=0,tt=0,rt;return _.forEach(nt=>{$+=nt.milligasLimit,j+=nt.storageLimit,et+=nt.opSize,tt=Math.max(nt.minimalFeePerStorageByteMutez,tt),nt.baseFeeMutez&&(rt=rt?rt+nt.baseFeeMutez:nt.baseFeeMutez)}),new Estimate($,j,et,tt,rt)}static createArrayEstimateInstancesFromProperties(_){return _.map($=>new Estimate($.milligasLimit,$.storageLimit,$.opSize,$.minimalFeePerStorageByteMutez,$.baseFeeMutez))}}class RevealEstimateError extends TaquitoError{constructor(){super(),this.name="RevealEstimateError",this.message="Public key is unknown, unable to estimate the reveal operation in Wallet API."}}const STUB_SIGNATURE="edsigtkpiSSschcaCt9pUVrpNPf7TTcgvgDEDD6NCEHMy8NNQJCGnMfLZzYoQj74yLjo9wx6MPVV29CvVzgi7qEcEUok3k7AuMg";class RPCEstimateProvider extends Provider{constructor(){super(...arguments),this.OP_SIZE_REVEAL=324,this.MILLIGAS_BUFFER=100*1e3,this.STORAGE_BUFFER=20,this.prepare=new PrepareProvider(this.context)}getKeys(){return __awaiter(this,void 0,void 0,function*(){const _=this.context.isAnySignerConfigured();return{publicKeyHash:_?yield this.signer.publicKeyHash():yield this.context.walletProvider.getPKH(),publicKey:_?yield this.signer.publicKey():void 0}})}getEstimationPropertiesFromOperationContent(_,$,j,et){const tt=flattenOperationResult({contents:[_]});let rt=0,nt=0;return tt.forEach(it=>{rt+=Number(it.consumed_milligas)||0,nt+="allocated_destination_contract"in it?et:0,nt+="originated_contracts"in it&&Array.isArray(it.originated_contracts)?it.originated_contracts.length*et:0,nt+="storage_size"in it&&"global_address"in it&&Number(it.storage_size)||0,nt+="paid_storage_size_diff"in it&&Number(it.paid_storage_size_diff)||0,nt+="genesis_commitment_hash"in it&&Number(it.size)||0}),isOpWithFee(_)?{milligasLimit:isOpWithGasBuffer(_)?rt+Number(this.MILLIGAS_BUFFER):rt,storageLimit:nt>0?nt+this.STORAGE_BUFFER:0,opSize:$,minimalFeePerStorageByteMutez:j.toNumber()}:{milligasLimit:0,storageLimit:0,opSize:$,minimalFeePerStorageByteMutez:j.toNumber(),baseFeeMutez:0}}calculateEstimates(_,$){return __awaiter(this,void 0,void 0,function*(){const{opbytes:j,opOb:{branch:et,contents:tt}}=yield this.forge(_),rt={operation:{branch:et,contents:tt,signature:STUB_SIGNATURE},chain_id:yield this.context.readProvider.getChainId()},{opResponse:nt}=yield this.simulate(rt),{cost_per_byte:it,origination_size:st}=$,ot=[...flattenErrors(nt,"backtracked"),...flattenErrors(nt)];if(ot.length)throw new TezosOperationError(ot,"Error occurred during estimation",nt.contents);let at=1;return Array.isArray(_.opOb.contents)&&_.opOb.contents.length>1&&(at=nt.contents[0].kind==="reveal"?_.opOb.contents.length-1:_.opOb.contents.length),nt.contents.map(ut=>this.getEstimationPropertiesFromOperationContent(ut,ut.kind==="reveal"?this.OP_SIZE_REVEAL/2:(j.length+130)/2/at,it,st??257))})}originate(_){return __awaiter(this,void 0,void 0,function*(){const $=yield this.prepare.originate(_),j=yield this.context.readProvider.getProtocolConstants("head"),et=yield this.calculateEstimates($,j);return $.opOb.contents[0].kind==="reveal"&&(et.shift(),et[0].opSize-=this.OP_SIZE_REVEAL/2),Estimate.createEstimateInstanceFromProperties(et)})}transfer(_){var $,{fee:j,storageLimit:et,gasLimit:tt}=_,rt=__rest(_,["fee","storageLimit","gasLimit"]);return __awaiter(this,void 0,void 0,function*(){const nt=validateAddress(rt.to);if(nt!==ValidationResult.VALID)throw new InvalidAddressError(rt.to,invalidDetail(nt));const it=validateAddress(($=rt.source)!==null&&$!==void 0?$:"");if(rt.source&&it!==ValidationResult.VALID)throw new InvalidAddressError(rt.source,invalidDetail(it));if(rt.amount<0)throw new InvalidAmountError(rt.amount.toString());const st=yield this.prepare.transaction(Object.assign({fee:j,storageLimit:et,gasLimit:tt},rt)),ot=yield this.context.readProvider.getProtocolConstants("head"),at=yield this.calculateEstimates(st,ot);return st.opOb.contents[0].kind==="reveal"&&(at.shift(),at[0].opSize-=this.OP_SIZE_REVEAL/2),Estimate.createEstimateInstanceFromProperties(at)})}transferTicket(_){var $,{fee:j,storageLimit:et,gasLimit:tt}=_,rt=__rest(_,["fee","storageLimit","gasLimit"]);return __awaiter(this,void 0,void 0,function*(){const nt=validateAddress(rt.destination);if(nt!==ValidationResult.VALID)throw new InvalidAddressError(rt.destination,invalidDetail(nt));const it=validateAddress(($=rt.source)!==null&&$!==void 0?$:"");if(rt.source&&it!==ValidationResult.VALID)throw new InvalidAddressError(rt.source,invalidDetail(it));const st=yield this.context.readProvider.getProtocolConstants("head"),ot=yield this.prepare.transferTicket(Object.assign({fee:j,storageLimit:et,gasLimit:tt},rt)),at=yield this.calculateEstimates(ot,st);return ot.opOb.contents[0].kind==="reveal"&&(at.shift(),at[0].opSize-=this.OP_SIZE_REVEAL/2),Estimate.createEstimateInstanceFromProperties(at)})}setDelegate(_){var $,{fee:j,gasLimit:et,storageLimit:tt}=_,rt=__rest(_,["fee","gasLimit","storageLimit"]);return __awaiter(this,void 0,void 0,function*(){const nt=validateAddress(rt.source);if(rt.source&&nt!==ValidationResult.VALID)throw new InvalidAddressError(rt.source,invalidDetail(nt));const it=validateAddress(($=rt.delegate)!==null&&$!==void 0?$:"");if(rt.delegate&&it!==ValidationResult.VALID)throw new InvalidAddressError(rt.delegate,invalidDetail(it));const st=yield this.prepare.delegation(Object.assign({fee:j,storageLimit:tt,gasLimit:et},rt)),ot=yield this.context.readProvider.getProtocolConstants("head"),at=yield this.calculateEstimates(st,ot);return st.opOb.contents[0].kind==="reveal"&&(at.shift(),at[0].opSize-=this.OP_SIZE_REVEAL/2),Estimate.createEstimateInstanceFromProperties(at)})}batch(_){return __awaiter(this,void 0,void 0,function*(){const $=yield this.context.readProvider.getProtocolConstants("head"),j=yield this.prepare.batch(_),et=yield this.calculateEstimates(j,$);return Estimate.createArrayEstimateInstancesFromProperties(et)})}registerDelegate(_,$){var{fee:j,storageLimit:et,gasLimit:tt}=_,rt=__rest(_,["fee","storageLimit","gasLimit"]);return __awaiter(this,void 0,void 0,function*(){const nt=(yield this.getKeys()).publicKeyHash,it=yield this.context.readProvider.getProtocolConstants("head"),st=$||nt,ot=yield this.prepare.registerDelegate(Object.assign({fee:j,storageLimit:et,gasLimit:tt},rt),st),at=yield this.calculateEstimates(ot,it);return ot.opOb.contents[0].kind==="reveal"&&(at.shift(),at[0].opSize-=this.OP_SIZE_REVEAL/2),Estimate.createEstimateInstanceFromProperties(at)})}reveal(_){return __awaiter(this,void 0,void 0,function*(){const{publicKeyHash:$,publicKey:j}=yield this.getKeys();if(!j)throw new RevealEstimateError;if(yield this.isAccountRevealRequired($)){const et=yield this.context.readProvider.getProtocolConstants("head"),tt=_?yield this.prepare.reveal(_):yield this.prepare.reveal({}),rt=yield this.calculateEstimates(tt,et);return Estimate.createEstimateInstanceFromProperties(rt)}})}registerGlobalConstant(_){var{fee:$,storageLimit:j,gasLimit:et}=_,tt=__rest(_,["fee","storageLimit","gasLimit"]);return __awaiter(this,void 0,void 0,function*(){const rt=yield this.prepare.registerGlobalConstant(Object.assign({fee:$,storageLimit:j,gasLimit:et},tt)),nt=yield this.context.readProvider.getProtocolConstants("head"),it=yield this.calculateEstimates(rt,nt);return rt.opOb.contents[0].kind==="reveal"&&(it.shift(),it[0].opSize-=this.OP_SIZE_REVEAL/2),Estimate.createEstimateInstanceFromProperties(it)})}increasePaidStorage(_){var{fee:$,storageLimit:j,gasLimit:et}=_,tt=__rest(_,["fee","storageLimit","gasLimit"]);return __awaiter(this,void 0,void 0,function*(){if(tt.amount<0)throw new InvalidAmountError(tt.amount.toString());const rt=yield this.context.readProvider.getProtocolConstants("head"),nt=yield this.prepare.increasePaidStorage(Object.assign({fee:$,storageLimit:j,gasLimit:et},tt)),it=yield this.calculateEstimates(nt,rt);return nt.opOb.contents[0].kind==="reveal"&&(it.shift(),it[0].opSize-=this.OP_SIZE_REVEAL/2),Estimate.createEstimateInstanceFromProperties(it)})}updateConsensusKey(_){return __awaiter(this,void 0,void 0,function*(){const $=yield this.context.readProvider.getProtocolConstants("head"),j=yield this.prepare.updateConsensusKey(_),et=yield this.calculateEstimates(j,$);return j.opOb.contents[0].kind==="reveal"&&(et.shift(),et[0].opSize-=this.OP_SIZE_REVEAL/2),Estimate.createEstimateInstanceFromProperties(et)})}smartRollupAddMessages(_){return __awaiter(this,void 0,void 0,function*(){const $=yield this.context.readProvider.getProtocolConstants("head"),j=yield this.prepare.smartRollupAddMessages(_),et=yield this.calculateEstimates(j,$);return j.opOb.contents[0].kind==="reveal"&&(et.shift(),et[0].opSize-=this.OP_SIZE_REVEAL/2),Estimate.createEstimateInstanceFromProperties(et)})}smartRollupOriginate(_){return __awaiter(this,void 0,void 0,function*(){const $=yield this.context.readProvider.getProtocolConstants("head"),j=yield this.prepare.smartRollupOriginate(_),et=yield this.calculateEstimates(j,$);return j.opOb.contents[0].kind==="reveal"&&(et.shift(),et[0].opSize-=this.OP_SIZE_REVEAL/2),Estimate.createEstimateInstanceFromProperties(et)})}smartRollupExecuteOutboxMessage(_){return __awaiter(this,void 0,void 0,function*(){const $=yield this.context.readProvider.getProtocolConstants("head"),j=yield this.prepare.smartRollupExecuteOutboxMessage(_),et=yield this.calculateEstimates(j,$);return j.opOb.contents[0].kind==="reveal"&&et.shift(),Estimate.createEstimateInstanceFromProperties(et)})}contractCall(_){return __awaiter(this,void 0,void 0,function*(){const $=yield this.context.readProvider.getProtocolConstants("head"),j=yield this.prepare.contractCall(_),et=yield this.calculateEstimates(j,$);return j.opOb.contents[0].kind==="reveal"&&(et.shift(),et[0].opSize-=this.OP_SIZE_REVEAL/2),Estimate.createEstimateInstanceFromProperties(et)})}}class DelegateOperation extends Operation{constructor(_,$,j,et,tt,rt){super(_,et,tt,rt),this.params=$,this.source=j}get operationResults(){const _=Array.isArray(this.results)&&this.results.find(j=>j.kind==="delegation"),$=_&&_.metadata&&_.metadata.operation_result;return $||void 0}get status(){var _,$;return($=(_=this.operationResults)===null||_===void 0?void 0:_.status)!==null&&$!==void 0?$:"unknown"}get delegate(){return this.params.delegate}get isRegisterOperation(){return this.delegate===this.source}get fee(){return Number(this.params.fee)}get gasLimit(){return Number(this.params.gas_limit)}get storageLimit(){return Number(this.params.storage_limit)}get consumedGas(){return BigNumber.config({DECIMAL_PLACES:0,ROUNDING_MODE:BigNumber.ROUND_UP}),this.consumedMilliGas?new BigNumber(this.consumedMilliGas).dividedBy(1e3).toString():void 0}get consumedMilliGas(){var _;return(_=this.operationResults)===null||_===void 0?void 0:_.consumed_milligas}get errors(){var _;return(_=this.operationResults)===null||_===void 0?void 0:_.errors}}class OriginationOperation extends Operation{constructor(_,$,j,et,tt,rt){super(_,j,et,tt),this.params=$,this.contractProvider=rt;const nt=this.operationResults&&this.operationResults.originated_contracts;Array.isArray(nt)&&(this.contractAddress=nt[0])}get status(){var _,$;return($=(_=this.operationResults)===null||_===void 0?void 0:_.status)!==null&&$!==void 0?$:"unknown"}get operationResults(){const _=Array.isArray(this.results)&&this.results.find(j=>j.kind==="origination"),$=_&&hasMetadataWithResult(_)&&_.metadata.operation_result;return $||void 0}get fee(){return Number(this.params.fee)}get gasLimit(){return Number(this.params.gas_limit)}get storageLimit(){return Number(this.params.storage_limit)}get consumedGas(){return BigNumber.config({DECIMAL_PLACES:0,ROUNDING_MODE:BigNumber.ROUND_UP}),this.consumedMilliGas?new BigNumber(this.consumedMilliGas).dividedBy(1e3).toString():void 0}get consumedMilliGas(){var _;return(_=this.operationResults)===null||_===void 0?void 0:_.consumed_milligas}get storageDiff(){const _=this.operationResults&&this.operationResults.paid_storage_size_diff;return _||void 0}get storageSize(){const _=this.operationResults&&this.operationResults.storage_size;return _||void 0}get errors(){var _;return(_=this.operationResults)===null||_===void 0?void 0:_.errors}contract(_,$){return __awaiter(this,void 0,void 0,function*(){if(!this.contractAddress)throw new OriginationOperationError("No contract was originated in this operation");return yield this.confirmation(_,$),this.contractProvider.at(this.contractAddress)})}}class RegisterGlobalConstantOperation extends Operation{constructor(_,$,j,et,tt,rt){super(_,et,tt,rt),this.params=$,this.source=j,this.globalConstantHash=this.operationResults&&this.operationResults.global_address}get operationResults(){const _=Array.isArray(this.results)&&this.results.find(j=>j.kind==="register_global_constant"),$=_&&_.metadata&&_.metadata.operation_result;return $||void 0}get status(){var _,$;return($=(_=this.operationResults)===null||_===void 0?void 0:_.status)!==null&&$!==void 0?$:"unknown"}get registeredExpression(){return this.params.value}get fee(){return Number(this.params.fee)}get gasLimit(){return Number(this.params.gas_limit)}get storageLimit(){return Number(this.params.storage_limit)}get errors(){var _;return(_=this.operationResults)===null||_===void 0?void 0:_.errors}get consumedGas(){return BigNumber.config({DECIMAL_PLACES:0,ROUNDING_MODE:BigNumber.ROUND_UP}),this.consumedMilliGas?new BigNumber(this.consumedMilliGas).dividedBy(1e3).toString():void 0}get consumedMilliGas(){var _;return(_=this.operationResults)===null||_===void 0?void 0:_.consumed_milligas}}class RevealOperation extends Operation{constructor(_,$,j,et,tt,rt){super(_,et,tt,rt),this.params=$,this.source=j}get operationResults(){const _=Array.isArray(this.results)&&this.results.find($=>$.kind==="reveal");return _?[_]:[]}get status(){const $=this.operationResults[0];return $?$.metadata.operation_result.status:"unknown"}get fee(){return Number(this.params.fee)}get gasLimit(){return Number(this.params.gas_limit)}get storageLimit(){return Number(this.params.storage_limit)}get publicKey(){return this.params.public_key}sumProp(_,$){return _.reduce((j,et)=>$ in et?Number(et[$])+j:j,0)}get consumedGas(){return BigNumber.config({DECIMAL_PLACES:0,ROUNDING_MODE:BigNumber.ROUND_UP}),new BigNumber(this.consumedMilliGas).dividedBy(1e3).toString()}get consumedMilliGas(){return String(this.sumProp(flattenOperationResult({contents:this.operationResults}),"consumed_milligas"))}get storageDiff(){return String(this.sumProp(flattenOperationResult({contents:this.operationResults}),"paid_storage_size_diff"))}get storageSize(){return String(this.sumProp(flattenOperationResult({contents:this.operationResults}),"storage_size"))}get errors(){return flattenErrors({contents:this.operationResults})}}class TransactionOperation extends Operation{constructor(_,$,j,et,tt,rt){super(_,et,tt,rt),this.params=$,this.source=j}get operationResults(){const _=Array.isArray(this.results)&&this.results.find($=>$.kind==="transaction");return _?[_]:[]}get status(){const $=this.operationResults[0];return $?$.metadata.operation_result.status:"unknown"}get amount(){return new BigNumber(this.params.amount)}get destination(){return this.params.destination}get fee(){return Number(this.params.fee)}get gasLimit(){return Number(this.params.gas_limit)}get storageLimit(){return Number(this.params.storage_limit)}sumProp(_,$){return _.reduce((j,et)=>$ in et?Number(et[$])+j:j,0)}get consumedGas(){return BigNumber.config({DECIMAL_PLACES:0,ROUNDING_MODE:BigNumber.ROUND_UP}),new BigNumber(this.consumedMilliGas).dividedBy(1e3).toString()}get consumedMilliGas(){return String(this.sumProp(flattenOperationResult({contents:this.operationResults}),"consumed_milligas"))}get storageDiff(){return String(this.sumProp(flattenOperationResult({contents:this.operationResults}),"paid_storage_size_diff"))}get storageSize(){return String(this.sumProp(flattenOperationResult({contents:this.operationResults}),"storage_size"))}get errors(){return flattenErrors({contents:this.operationResults})}}class IncreasePaidStorageOperation extends Operation{constructor(_,$,j,et,tt,rt){super(_,et,tt,rt),this.params=$,this.source=j}get operationResults(){const _=Array.isArray(this.results)&&this.results.find(j=>j.kind==="increase_paid_storage"),$=_&&_.metadata&&_.metadata.operation_result;return $||void 0}get status(){var _,$;return($=(_=this.operationResults)===null||_===void 0?void 0:_.status)!==null&&$!==void 0?$:"unknown"}get fee(){return Number(this.params.fee)}get gasLimit(){return Number(this.params.gas_limit)}get storageLimit(){return Number(this.params.storage_limit)}get errors(){var _;return(_=this.operationResults)===null||_===void 0?void 0:_.errors}get consumedMilliGas(){var _;return(_=this.operationResults)===null||_===void 0?void 0:_.consumed_milligas}get amount(){return this.params.amount}get destination(){return this.params.destination}}class UpdateConsensusKeyOperation extends Operation{constructor(_,$,j,et,tt,rt){super(_,et,tt,rt),this.params=$,this.source=j}get operationResults(){const _=Array.isArray(this.results)&&this.results.find(j=>j.kind==="update_consensus_key"),$=_&&_.metadata&&_.metadata.operation_result;return $||void 0}get status(){var _,$;return($=(_=this.operationResults)===null||_===void 0?void 0:_.status)!==null&&$!==void 0?$:"unknown"}get fee(){return Number(this.params.fee)}get gasLimit(){return Number(this.params.gas_limit)}get storageLimit(){return Number(this.params.storage_limit)}get pk(){return this.params.pk}get consumedMilliGas(){var _;return(_=this.operationResults)===null||_===void 0?void 0:_.consumed_milligas}get errors(){var _;return(_=this.operationResults)===null||_===void 0?void 0:_.errors}}class SmartRollupAddMessagesOperation extends Operation{constructor(_,$,j,et,tt,rt){super(_,et,tt,rt),this.params=$,this.source=j}get operationResults(){const _=Array.isArray(this.results)&&this.results.find(j=>j.kind==="smart_rollup_add_messages"),$=_&&_.metadata&&_.metadata.operation_result;return $||void 0}get status(){var _,$;return($=(_=this.operationResults)===null||_===void 0?void 0:_.status)!==null&&$!==void 0?$:"unknown"}get message(){return this.params.message}get fee(){return Number(this.params.fee)}get gasLimit(){return Number(this.params.gas_limit)}get storageLimit(){return Number(this.params.storage_limit)}get consumedMilliGas(){var _;return(_=this.operationResults)===null||_===void 0?void 0:_.consumed_milligas}get errors(){var _;return(_=this.operationResults)===null||_===void 0?void 0:_.errors}}class SmartRollupOriginateOperation extends Operation{constructor(_,$,j,et,tt,rt){super(_,et,tt,rt),this.params=$,this.source=j}get operationResults(){const _=Array.isArray(this.results)&&this.results.find(j=>j.kind===OpKind.SMART_ROLLUP_ORIGINATE),$=_&&_.metadata&&_.metadata.operation_result;return $||void 0}get status(){var _,$;return($=(_=this.operationResults)===null||_===void 0?void 0:_.status)!==null&&$!==void 0?$:"unknown"}get fee(){return Number(this.params.fee)}get gasLimit(){return Number(this.params.gas_limit)}get storageLimit(){return Number(this.params.storage_limit)}get consumedMilliGas(){var _;return(_=this.operationResults)===null||_===void 0?void 0:_.consumed_milligas}get pvmKind(){return this.params.pvm_kind}get kernel(){return this.params.kernel}get errors(){var _;return(_=this.operationResults)===null||_===void 0?void 0:_.errors}}class BallotOperation extends Operation{constructor(_,$,j,et,tt,rt){super(_,et,tt,rt),this.params=$,this.source=j}get operationResults(){const $=Array.isArray(this.results)&&this.results.find(j=>j.kind==="ballot");return $||void 0}get period(){var _;return(_=this.operationResults)===null||_===void 0?void 0:_.period}get proposal(){return this.params.proposal}get ballot(){return this.params.ballot}}class DrainDelegateOperation extends Operation{constructor(_,$,j,et,tt){super(_,j,et,tt),this.params=$}get operationResults(){const _=Array.isArray(this.results)&&this.results.find(j=>j.kind==="drain_delegate"),$=_&&_.metadata&&_.metadata.balance_updates;return $||void 0}get consensusKey(){return this.params.consensus_key}get delegate(){return this.params.delegate}get destination(){return this.params.destination}}class ProposalsOperation extends Operation{constructor(_,$,j,et,tt,rt){super(_,et,tt,rt),this.params=$,this.source=j}get operationResults(){const $=Array.isArray(this.results)&&this.results.find(j=>j.kind==="proposals");return $||void 0}get proposals(){return this.params.proposals}get period(){var _;return(_=this.operationResults)===null||_===void 0?void 0:_.period}}class TransferTicketOperation extends Operation{constructor(_,$,j,et,tt,rt){super(_,et,tt,rt),this.params=$,this.source=j}get operationResults(){const _=Array.isArray(this.results)&&this.results.find(j=>j.kind===OpKind.TRANSFER_TICKET),$=_&&_.metadata&&_.metadata.operation_result;return $||void 0}get status(){var _,$;return($=(_=this.operationResults)===null||_===void 0?void 0:_.status)!==null&&$!==void 0?$:"unknown"}get fee(){return Number(this.params.fee)}get gasLimit(){return Number(this.params.gas_limit)}get storageLimit(){return Number(this.params.storage_limit)}get consumedGas(){return BigNumber.config({DECIMAL_PLACES:0,ROUNDING_MODE:BigNumber.ROUND_UP}),this.consumedMilliGas?new BigNumber(this.consumedMilliGas).dividedBy(1e3).toString():void 0}get consumedMilliGas(){var _;return(_=this.operationResults)===null||_===void 0?void 0:_.consumed_milligas}}class SmartRollupExecuteOutboxMessageOperation extends Operation{constructor(_,$,j,et,tt,rt){super(_,et,tt,rt),this.params=$,this.source=j}get operationResults(){const _=Array.isArray(this.results)&&this.results.find(j=>j.kind===OpKind.SMART_ROLLUP_EXECUTE_OUTBOX_MESSAGE),$=_&&_.metadata&&_.metadata.operation_result;return $||void 0}get status(){var _,$;return($=(_=this.operationResults)===null||_===void 0?void 0:_.status)!==null&&$!==void 0?$:"unknown"}get rollup(){return this.params.rollup}get cementedCommitment(){return this.params.cemented_commitment}get outputProof(){return this.params.output_proof}get fee(){return Number(this.params.fee)}get gasLimit(){return Number(this.params.gas_limit)}get storageLimit(){return Number(this.params.storage_limit)}get consumedMilliGas(){var _;return(_=this.operationResults)===null||_===void 0?void 0:_.consumed_milligas}get errors(){var _;return(_=this.operationResults)===null||_===void 0?void 0:_.errors}}class RpcContractProvider extends Provider{constructor(_,$){super(_),this.estimator=$,this.contractProviderTypeSymbol=Symbol.for("taquito-contract-provider-type-symbol"),this.prepare=new PrepareProvider(this.context)}getStorage(_,$){return __awaiter(this,void 0,void 0,function*(){const j=validateContractAddress(_);if(j!==ValidationResult.VALID)throw new InvalidContractAddressError(_,invalidDetail(j));const et=yield this.context.readProvider.getScript(_,"head");$||($=et);let tt;return Schema.isSchema($)?tt=$:tt=Schema.fromRPCResponse({script:$}),tt.Execute(et.storage,smartContractAbstractionSemantic(this))})}getBigMapKey(_,$,j){return __awaiter(this,void 0,void 0,function*(){const et=validateContractAddress(_);if(et!==ValidationResult.VALID)throw new InvalidContractAddressError(_,invalidDetail(et));j||(j=(yield this.rpc.getContract(_)).script);let tt;Schema.isSchema(j)?tt=j:tt=Schema.fromRPCResponse({script:j});const rt=tt.EncodeBigMapKey($),nt=yield this.rpc.getBigMapKey(_,rt);return tt.ExecuteOnBigMapValue(nt)})}getBigMapKeyByID(_,$,j,et){return __awaiter(this,void 0,void 0,function*(){const{key:tt,type:rt}=j.EncodeBigMapKey($),{packed:nt}=yield this.context.packer.packData({data:tt,type:rt}),it=encodeExpr(nt),st=et?yield this.context.readProvider.getBigMapValue({id:_.toString(),expr:it},et):yield this.context.readProvider.getBigMapValue({id:_.toString(),expr:it},"head");return j.ExecuteOnBigMapValue(st,smartContractAbstractionSemantic(this))})}getBigMapKeysByID(_,$,j,et,tt=5){return __awaiter(this,void 0,void 0,function*(){const rt=yield this.getBlockForRequest($,et),nt=new MichelsonMap;let it=0,st=[];for(;it<$.length;){const at=$.slice(it,it+tt).map(ut=>this.getBigMapValueOrUndefined(ut,_,j,rt));st=[...st,...yield Promise.all(at)],it+=tt}for(let ot=0;ot<st.length;ot++)nt.set($[ot],st[ot]);return nt})}getBlockForRequest(_,$){return __awaiter(this,void 0,void 0,function*(){return _.length===1||typeof $<"u"?$:yield this.context.readProvider.getBlockLevel("head")})}getBigMapValueOrUndefined(_,$,j,et){return __awaiter(this,void 0,void 0,function*(){try{return yield this.getBigMapKeyByID($,_,j,et)}catch(tt){if(tt instanceof HttpResponseError&&tt.status===STATUS_CODE.NOT_FOUND)return;throw tt}})}getSaplingDiffByID(_,$){return __awaiter(this,void 0,void 0,function*(){return $?yield this.context.readProvider.getSaplingDiffById({id:_.toString()},$):yield this.context.readProvider.getSaplingDiffById({id:_.toString()},"head")})}originate(_){return __awaiter(this,void 0,void 0,function*(){const $=yield this.estimate(_,this.estimator.originate.bind(this.estimator)),j=yield this.prepare.originate(Object.assign(Object.assign({},_),$)),et=j.opOb.contents.find(ot=>ot.kind===OpKind.ORIGINATION),tt=yield this.forge(j),{hash:rt,context:nt,forgedBytes:it,opResponse:st}=yield this.signAndInject(tt);return new OriginationOperation(rt,et,it,st,nt,this)})}setDelegate(_){var $;return __awaiter(this,void 0,void 0,function*(){const j=validateAddress(_.source);if(_.source&&j!==ValidationResult.VALID)throw new InvalidAddressError(_.source,invalidDetail(j));const et=validateAddress(($=_.delegate)!==null&&$!==void 0?$:"");if(_.delegate&&et!==ValidationResult.VALID)throw new InvalidAddressError(_.delegate,invalidDetail(et));if(/kt1/i.test(_.source))throw new InvalidDelegationSource(_.source);const tt=yield this.signer.publicKeyHash(),rt=_.source||tt,nt=yield this.estimate(_,this.estimator.setDelegate.bind(this.estimator)),it=yield this.prepare.delegation(Object.assign(Object.assign({},_),nt)),st=it.opOb.contents.find(wt=>wt.kind===OpKind.DELEGATION),ot=yield this.forge(it),{hash:at,context:ut,forgedBytes:ht,opResponse:yt}=yield this.signAndInject(ot);return new DelegateOperation(at,st,rt,ht,yt,ut)})}registerDelegate(_){return __awaiter(this,void 0,void 0,function*(){const $=yield this.estimate(_,this.estimator.registerDelegate.bind(this.estimator)),j=yield this.signer.publicKeyHash(),et=yield this.prepare.registerDelegate(Object.assign(Object.assign({},_),$)),tt=et.opOb.contents.find(at=>at.kind===OpKind.DELEGATION),rt=yield this.forge(et),{hash:nt,context:it,forgedBytes:st,opResponse:ot}=yield this.signAndInject(rt);return new DelegateOperation(nt,tt,j,st,ot,it)})}transfer(_){var $;return __awaiter(this,void 0,void 0,function*(){const j=validateAddress(_.to);if(j!==ValidationResult.VALID)throw new InvalidAddressError(_.to,invalidDetail(j));const et=validateAddress(($=_.source)!==null&&$!==void 0?$:"");if(_.source&&et!==ValidationResult.VALID)throw new InvalidAddressError(_.source,invalidDetail(et));if(_.amount<0)throw new InvalidAmountError(_.amount.toString());const tt=yield this.signer.publicKeyHash(),rt=yield this.estimate(_,this.estimator.transfer.bind(this.estimator)),nt=_.source||tt,it=yield this.prepare.transaction(Object.assign(Object.assign({},_),rt)),st=it.opOb.contents.find(wt=>wt.kind===OpKind.TRANSACTION),ot=yield this.forge(it),{hash:at,context:ut,forgedBytes:ht,opResponse:yt}=yield this.signAndInject(ot);return new TransactionOperation(at,st,nt,ht,yt,ut)})}transferTicket(_){var $,j;return __awaiter(this,void 0,void 0,function*(){const et=validateAddress(_.destination);if(et!==ValidationResult.VALID)throw new InvalidAddressError(_.destination,invalidDetail(et));const tt=validateAddress(($=_.source)!==null&&$!==void 0?$:"");if(_.source&&tt!==ValidationResult.VALID)throw new InvalidAddressError(_.source,invalidDetail(tt));const rt=yield this.signer.publicKeyHash(),nt=(j=_.source)!==null&&j!==void 0?j:rt,it=yield this.estimate(_,this.estimator.transferTicket.bind(this.estimator)),st=yield this.prepare.transferTicket(Object.assign(Object.assign({},_),it)),ot=st.opOb.contents.find(Ct=>Ct.kind===OpKind.TRANSFER_TICKET),at=yield this.forge(st),{hash:ut,context:ht,forgedBytes:yt,opResponse:wt}=yield this.signAndInject(at);return new TransferTicketOperation(ut,ot,nt,yt,wt,ht)})}reveal(_){return __awaiter(this,void 0,void 0,function*(){const $=yield this.signer.publicKeyHash(),j=yield this.estimator.reveal(_);if(j){const et=yield this.estimate(_,()=>__awaiter(this,void 0,void 0,function*(){return j})),tt=yield this.prepare.reveal(Object.assign(Object.assign({},_),et)),rt=tt.opOb.contents.find(ut=>ut.kind===OpKind.REVEAL),nt=yield this.forge(tt),{hash:it,context:st,forgedBytes:ot,opResponse:at}=yield this.signAndInject(nt);return new RevealOperation(it,rt,$,ot,at,st)}else throw new RevealOperationError(`The publicKeyHash '${$}' has already been revealed.`)})}registerGlobalConstant(_){return __awaiter(this,void 0,void 0,function*(){const $=yield this.signer.publicKeyHash(),j=yield this.estimate(_,this.estimator.registerGlobalConstant.bind(this.estimator)),et=yield this.prepare.registerGlobalConstant(Object.assign(Object.assign({},_),j)),tt=et.opOb.contents.find(at=>at.kind===OpKind.REGISTER_GLOBAL_CONSTANT),rt=yield this.forge(et),{hash:nt,context:it,forgedBytes:st,opResponse:ot}=yield this.signAndInject(rt);return new RegisterGlobalConstantOperation(nt,tt,$,st,ot,it)})}increasePaidStorage(_){return __awaiter(this,void 0,void 0,function*(){if(_.amount<0)throw new InvalidAmountError(_.amount.toString());const $=yield this.signer.publicKeyHash(),j=yield this.estimate(_,this.estimator.increasePaidStorage.bind(this.estimator)),et=yield this.prepare.increasePaidStorage(Object.assign(Object.assign({},_),j)),tt=et.opOb.contents.find(at=>at.kind===OpKind.INCREASE_PAID_STORAGE),rt=yield this.forge(et),{hash:nt,context:it,forgedBytes:st,opResponse:ot}=yield this.signAndInject(rt);return new IncreasePaidStorageOperation(nt,tt,$,st,ot,it)})}drainDelegate(_){return __awaiter(this,void 0,void 0,function*(){const $=yield this.prepare.drainDelegate(_),j=$.opOb.contents.find(st=>st.kind===OpKind.DRAIN_DELEGATE),et=yield this.forge($),{hash:tt,context:rt,forgedBytes:nt,opResponse:it}=yield this.signAndInject(et);return new DrainDelegateOperation(tt,j,nt,it,rt)})}ballot(_){var $,j;return __awaiter(this,void 0,void 0,function*(){const et=yield this.signer.publicKeyHash(),tt=validateAddress(($=_.source)!==null&&$!==void 0?$:"");if(_.source&&tt!==ValidationResult.VALID)throw new InvalidAddressError(_.source,invalidDetail(tt));const rt=(j=_.source)!==null&&j!==void 0?j:et,nt=yield this.prepare.ballot(Object.assign(Object.assign({},_),{source:rt})),it=nt.opOb.contents.find(yt=>yt.kind===OpKind.BALLOT),st=yield this.forge(nt),{hash:ot,context:at,forgedBytes:ut,opResponse:ht}=yield this.signAndInject(st);return new BallotOperation(ot,it,et,ut,ht,at)})}proposals(_){var $,j;return __awaiter(this,void 0,void 0,function*(){const et=yield this.signer.publicKeyHash(),tt=validateAddress(($=_.source)!==null&&$!==void 0?$:"");if(_.source&&tt!==ValidationResult.VALID)throw new InvalidAddressError(_.source,invalidDetail(tt));const rt=(j=_.source)!==null&&j!==void 0?j:et,nt=yield this.prepare.proposals(Object.assign(Object.assign({},_),{source:rt})),it=nt.opOb.contents.find(yt=>yt.kind===OpKind.PROPOSALS),st=yield this.forge(nt),{hash:ot,context:at,forgedBytes:ut,opResponse:ht}=yield this.signAndInject(st);return new ProposalsOperation(ot,it,et,ut,ht,at)})}updateConsensusKey(_){return __awaiter(this,void 0,void 0,function*(){const $=yield this.signer.publicKeyHash(),j=yield this.estimate(_,this.estimator.updateConsensusKey.bind(this.estimator)),et=yield this.prepare.updateConsensusKey(Object.assign(Object.assign({},_),j)),tt=et.opOb.contents.find(at=>at.kind===OpKind.UPDATE_CONSENSUS_KEY),rt=yield this.forge(et),{hash:nt,context:it,forgedBytes:st,opResponse:ot}=yield this.signAndInject(rt);return new UpdateConsensusKeyOperation(nt,tt,$,st,ot,it)})}smartRollupAddMessages(_){return __awaiter(this,void 0,void 0,function*(){const $=yield this.signer.publicKeyHash(),j=yield this.estimate(_,this.estimator.smartRollupAddMessages.bind(this.estimator)),et=yield this.prepare.smartRollupAddMessages(Object.assign(Object.assign({},_),j)),tt=et.opOb.contents.find(at=>at.kind===OpKind.SMART_ROLLUP_ADD_MESSAGES),rt=yield this.forge(et),{hash:nt,context:it,forgedBytes:st,opResponse:ot}=yield this.signAndInject(rt);return new SmartRollupAddMessagesOperation(nt,tt,$,st,ot,it)})}smartRollupOriginate(_){return __awaiter(this,void 0,void 0,function*(){const $=yield this.signer.publicKeyHash(),j=yield this.estimate(_,this.estimator.smartRollupOriginate.bind(this.estimator)),et=yield this.prepare.smartRollupOriginate(Object.assign(Object.assign({},_),j)),tt=et.opOb.contents.find(at=>at.kind===OpKind.SMART_ROLLUP_ORIGINATE),rt=yield this.forge(et),{hash:nt,context:it,forgedBytes:st,opResponse:ot}=yield this.signAndInject(rt);return new SmartRollupOriginateOperation(nt,tt,$,st,ot,it)})}smartRollupExecuteOutboxMessage(_){return __awaiter(this,void 0,void 0,function*(){const $=yield this.signer.publicKeyHash(),j=yield this.estimate(_,this.estimator.smartRollupExecuteOutboxMessage.bind(this.estimator)),et=yield this.prepare.smartRollupExecuteOutboxMessage(Object.assign(Object.assign({},_),j)),tt=et.opOb.contents.find(at=>at.kind===OpKind.SMART_ROLLUP_EXECUTE_OUTBOX_MESSAGE),rt=yield this.forge(et),{hash:nt,context:it,forgedBytes:st,opResponse:ot}=yield this.signAndInject(rt);return new SmartRollupExecuteOutboxMessageOperation(nt,tt,$,st,ot,it)})}failingNoop(_){return __awaiter(this,void 0,void 0,function*(){const $={kind:OpKind.FAILING_NOOP,arbitrary:_.arbitrary},j=yield this.context.readProvider.getBlockHash(_.basedOnBlock),et=yield this.context.forger.forge({branch:j,contents:[$]}),{prefixSig:tt}=yield this.signer.sign(et,new Uint8Array([3]));return{signature:tt,bytes:et,signedContent:{branch:j,contents:[{kind:OpKind.FAILING_NOOP,arbitrary:_.arbitrary}]}}})}at(_,$=j=>j){return __awaiter(this,void 0,void 0,function*(){const j=validateContractAddress(_);if(j!==ValidationResult.VALID)throw new InvalidContractAddressError(_,invalidDetail(j));const et=this.context.withExtensions().rpc,tt=this.context.withExtensions().readProvider,rt=yield tt.getScript(_,"head"),nt=yield tt.getEntrypoints(_),it=new ContractAbstraction(_,rt,this,this,nt,et,tt);return $(it,this.context)})}batch(_){const $=new OperationBatch(this.context,this.estimator);return Array.isArray(_)&&$.with(_),$}}class MichelCodecParser{constructor(_){this.context=_}getNextProto(){return __awaiter(this,void 0,void 0,function*(){if(!this.context.proto){const _=yield this.context.readProvider.getNextProtocol("head");this.context.proto=_}return this.context.proto})}parseScript(_){return __awaiter(this,void 0,void 0,function*(){return new Parser$1({protocol:yield this.getNextProto()}).parseScript(_)})}parseMichelineExpression(_){return __awaiter(this,void 0,void 0,function*(){return new Parser$1({protocol:yield this.getNextProto()}).parseMichelineExpression(_)})}parseJSON(_){return __awaiter(this,void 0,void 0,function*(){return new Parser$1({protocol:yield this.getNextProto()}).parseJSON(_)})}prepareCodeOrigination(_){return __awaiter(this,void 0,void 0,function*(){const $=_;if($.code=yield this.formatCodeParam(_.code),_.init)$.init=yield this.formatInitParam(_.init);else if(_.storage){const j=$.code.find(rt=>"prim"in rt&&rt.prim==="storage");if(!(j!=null&&j.args))throw new InvalidCodeParameter("The storage section is missing from the script",_.code);const et=new Schema(j.args[0]),tt=yield this.findGlobalConstantsHashAndValue(et);if(Object.keys(tt).length!==0){const nt=new Parser$1({expandGlobalConstant:tt}).parseJSON(j.args[0]),it=new Schema(nt);$.init=it.Encode(_.storage)}else $.init=et.Encode(_.storage);delete $.storage}return $})}formatCodeParam(_){return __awaiter(this,void 0,void 0,function*(){let $;if(typeof _=="string"){const j=yield this.parseScript(_);if(j===null)throw new InvalidCodeParameter("Unable to parse",_);$=j}else{const j=yield this.parseJSON(_),et=["parameter","storage","code"];$=j.sort((tt,rt)=>et.indexOf(tt.prim)-et.indexOf(rt.prim))}return $})}formatInitParam(_){return __awaiter(this,void 0,void 0,function*(){let $;if(typeof _=="string"){const j=yield this.parseMichelineExpression(_);if(j===null)throw new InvalidInitParameter("Invalid init parameter",_);$=j}else $=yield this.parseJSON(_);return $})}findGlobalConstantsHashAndValue(_){return __awaiter(this,void 0,void 0,function*(){const $=_.findToken("constant"),j={};if($.length!==0)for(const et of $){const tt=et.tokenVal.args;if(tt){const rt=tt[0];if(rt.string){const nt=rt.string,it=yield this.context.globalConstantsProvider.getGlobalConstantByHash(nt);Object.assign(j,{[nt]:it})}}}return j})}}class RpcPacker{constructor(_){this.context=_}packData(_){return __awaiter(this,void 0,void 0,function*(){return this.context.rpc.packData(_)})}}class UnconfiguredGlobalConstantsProviderError extends TezosToolkitConfigError{constructor(){super(),this.name="UnconfiguredGlobalConstantsProviderError",this.message="No global constants provider has been configured. Please configure one by calling setGlobalConstantsProvider({globalConstantsProvider}) on your TezosToolkit instance."}}class NoopGlobalConstantsProvider{getGlobalConstantByHash(_){return __awaiter(this,void 0,void 0,function*(){throw new UnconfiguredGlobalConstantsProviderError})}}class RpcReadAdapter{constructor(_){this.rpc=_}getBalance(_,$){return __awaiter(this,void 0,void 0,function*(){return this.rpc.getBalance(_,{block:String($)})})}getDelegate(_,$){return __awaiter(this,void 0,void 0,function*(){return this.rpc.getDelegate(_,{block:String($)})})}getNextProtocol(_){return __awaiter(this,void 0,void 0,function*(){return(yield this.rpc.getProtocols({block:String(_)})).next_protocol})}getProtocolConstants(_){return __awaiter(this,void 0,void 0,function*(){const{time_between_blocks:$,minimal_block_delay:j,hard_gas_limit_per_operation:et,hard_gas_limit_per_block:tt,hard_storage_limit_per_operation:rt,cost_per_byte:nt,smart_rollup_origination_size:it}=yield this.rpc.getConstants({block:String(_)});return{time_between_blocks:$,minimal_block_delay:j,hard_gas_limit_per_operation:et,hard_gas_limit_per_block:tt,hard_storage_limit_per_operation:rt,cost_per_byte:nt,smart_rollup_origination_size:it}})}getScript(_,$){return __awaiter(this,void 0,void 0,function*(){const{script:j}=yield this.rpc.getContract(_,{block:String($)});return j})}getStorage(_,$){return __awaiter(this,void 0,void 0,function*(){return this.rpc.getStorage(_,{block:String($)})})}getBlockHash(_){return __awaiter(this,void 0,void 0,function*(){const{hash:$}=yield this.rpc.getBlockHeader({block:String(_)});return $})}getBlockLevel(_){return __awaiter(this,void 0,void 0,function*(){const{level:$}=yield this.rpc.getBlockHeader({block:String(_)});return $})}getCounter(_,$){return __awaiter(this,void 0,void 0,function*(){const{counter:j}=yield this.rpc.getContract(_,{block:String($)});return j||"0"})}getBlockTimestamp(_){return __awaiter(this,void 0,void 0,function*(){const{timestamp:$}=yield this.rpc.getBlockHeader({block:String(_)});return $})}getBigMapValue(_,$){return __awaiter(this,void 0,void 0,function*(){return this.rpc.getBigMapExpr(_.id,_.expr,{block:String($)})})}getSaplingDiffById(_,$){return __awaiter(this,void 0,void 0,function*(){return this.rpc.getSaplingDiffById(_.id,{block:String($)})})}getSaplingDiffByContract(_,$){return __awaiter(this,void 0,void 0,function*(){return this.rpc.getSaplingDiffByContract(_,{block:String($)})})}getEntrypoints(_){return __awaiter(this,void 0,void 0,function*(){return this.rpc.getEntrypoints(_)})}getChainId(){return __awaiter(this,void 0,void 0,function*(){return this.rpc.getChainId()})}isAccountRevealed(_,$){return __awaiter(this,void 0,void 0,function*(){const j=yield this.rpc.getManagerKey(_,{block:String($)});return j&&typeof j=="object"?!!j.key:!!j})}getBlock(_){return __awaiter(this,void 0,void 0,function*(){return this.rpc.getBlock({block:String(_)})})}getLiveBlocks(_){return this.rpc.getLiveBlocks({block:String(_)})}}class UnsupportedEventError extends ParameterValidationError{constructor(_){super(),this.type=_,this.name="UnsupportedEventError",this.message=`Unsupported event type "${_}" expecting one of the "data", "error", or "close".`}}class InvalidFilterExpressionError extends ParameterValidationError{constructor(_){super(),this.invalidExpression=_,this.name="InvalidFilterExpressionError",this.message="Invalid filter expression expecting the object to contain either and/or property"}}const opHashFilter=(a,_)=>a.hash===_.opHash,sourceFilter=(a,_)=>{switch(a.kind){case"attestation":return"metadata"in a&&a.metadata.delegate===_.source;case"endorsement":return"metadata"in a&&a.metadata.delegate===_.source;case"activate_account":return"metadata"in a&&a.pkh===_.source;default:return"source"in a&&a.source===_.source}},kindFilter=(a,_)=>"kind"in a&&a.kind===_.kind,destinationFilter=(a,_)=>{switch(a.kind){case"delegation":return a.delegate===_.destination;case"origination":if("metadata"in a&&"operation_result"in a.metadata&&"originated_contracts"in a.metadata.operation_result&&Array.isArray(a.metadata.operation_result.originated_contracts))return a.metadata.operation_result.originated_contracts.some($=>$===_.destination);break;case"transaction":return a.destination===_.destination;default:return!1}},eventFilter=(a,_,$,j)=>!(a.kind!=="event"||$&&a.tag!==$||_&&a.source!==_||j&&a.result.status!=="applied"),evaluateOpFilter=(a,_)=>"opHash"in _?opHashFilter(a,_):"source"in _?sourceFilter(a,_):"kind"in _?kindFilter(a,_):"destination"in _?destinationFilter(a,_):!1,evaluateExpression=(a,_)=>{if(Array.isArray(_.and))return _.and.every($=>evaluateFilter(a,$));if(Array.isArray(_.or))return _.or.some($=>evaluateFilter(a,$));throw new InvalidFilterExpressionError(_)},evaluateFilter=(a,_)=>{const $=[];return Array.isArray(_)?$.push(..._):$.push(_),$.every(j=>"and"in j||"or"in j?evaluateExpression(a,j):evaluateOpFilter(a,j))};class ObservableSubscription{constructor(_,$=!1,j=retry()){this.shouldRetry=$,this.operatorFunction=j,this.errorListeners=[],this.messageListeners=[],this.closeListeners=[],this.completed$=new Subject,_.pipe(takeUntil(this.completed$),tap(et=>{this.call(this.messageListeners,et)},et=>{this.call(this.errorListeners,et)},()=>{this.call(this.closeListeners)}),this.shouldRetry?j:tap(),catchError(()=>NEVER)).subscribe()}call(_,$){for(const j of _)try{j($)}catch(et){console.error(et)}}remove(_,$){const j=_.indexOf($);j!==-1&&_.splice(j,1)}on(_,$){switch(_){case"data":this.messageListeners.push($);break;case"error":this.errorListeners.push($);break;case"close":this.closeListeners.push($);break;default:throw new UnsupportedEventError(_)}}off(_,$){switch(_){case"data":this.remove(this.messageListeners,$);break;case"error":this.remove(this.errorListeners,$);break;case"close":this.remove(this.closeListeners,$);break;default:throw new UnsupportedEventError(_)}}close(){this.completed$.next()}}const defaultConfigStreamer={shouldObservableSubscriptionRetry:!1,observableSubscriptionRetryFunction:retry()},getLastBlock=a=>from(a.rpc.getBlock()).pipe(first()),applyFilter=a=>concatMap(_=>new Observable($=>{for(const j of _.operations)for(const et of j)for(const tt of et.contents)evaluateFilter(Object.assign({hash:et.hash},tt),a)&&$.next(Object.assign({hash:et.hash},tt));$.complete()})),applyEventFilter=a=>concatMap(_=>new Observable($=>{for(const j of _.operations)for(const et of j)for(const tt of et.contents){const nt=tt.metadata.internal_operation_results;if(nt)for(const it of nt)eventFilter(it,a==null?void 0:a.address,a==null?void 0:a.tag,a==null?void 0:a.excludeFailedOperations)&&$.next(Object.assign({opHash:et.hash,blockHash:_.hash,level:_.header.level},it))}$.complete()}));class PollingSubscribeProvider{constructor(_,$={}){this.context=_,this._config$=new BehaviorSubject(Object.assign(Object.assign({},defaultConfigStreamer),$)),this.timer$=this._config$.pipe(pluck("pollingIntervalMilliseconds"),switchMap(j=>j?timer(0,j):from(this.getConfirmationPollingInterval()).pipe(switchMap(et=>timer(0,et))))),this.newBlock$=this.timer$.pipe(switchMap(()=>getLastBlock(this.context)),distinctUntilKeyChanged("hash"),publish(),refCount())}get config(){return this._config$.getValue()}getConfirmationPollingInterval(){return __awaiter(this,void 0,void 0,function*(){if(!this.config.pollingIntervalMilliseconds)try{const j=yield this.context.readProvider.getProtocolConstants("head"),tt=(j.minimal_block_delay?j.minimal_block_delay.multipliedBy(1e3):j.time_between_blocks?j.time_between_blocks[0].multipliedBy(1e3):new BigNumber(5e3)).dividedBy(3);this.config.pollingIntervalMilliseconds=tt.toNumber()===0?1e3:tt.toNumber()}catch{return 5e3}return this.config.pollingIntervalMilliseconds})}subscribeBlock(_){return new ObservableSubscription(this.newBlock$,this.config.shouldObservableSubscriptionRetry,this.config.observableSubscriptionRetryFunction)}subscribe(_){return new ObservableSubscription(this.newBlock$.pipe(pluck("hash")),this.config.shouldObservableSubscriptionRetry,this.config.observableSubscriptionRetryFunction)}subscribeOperation(_){return new ObservableSubscription(this.newBlock$.pipe(applyFilter(_)),this.config.shouldObservableSubscriptionRetry,this.config.observableSubscriptionRetryFunction)}subscribeEvent(_){return new ObservableSubscription(this.newBlock$.pipe(applyEventFilter(_)),this.config.shouldObservableSubscriptionRetry,this.config.observableSubscriptionRetryFunction)}}class TaquitoLocalForger{constructor(_){this.context=_}getNextProto(){return __awaiter(this,void 0,void 0,function*(){if(!this.context.proto){const _=yield this.context.readProvider.getNextProtocol("head");this.context.proto=_}return this.context.proto})}forge({branch:_,contents:$}){return __awaiter(this,void 0,void 0,function*(){return new LocalForger(yield this.getNextProto()).forge({branch:_,contents:$})})}}const defaultConfigConfirmation={defaultConfirmationCount:1,confirmationPollingTimeoutSecond:180};class Context{constructor(_,$=new NoopSigner,j,et=new BehaviorSubject(Object.assign({},defaultConfigConfirmation)),tt,rt,nt,it,st,ot,at,ut){this._rpc=_,this._signer=$,this._proto=j,this._config=et,this.providerDecorator=[],this.tz=new RpcTzProvider(this),this.estimate=new RPCEstimateProvider(this),this.contract=new RpcContractProvider(this,this.estimate),this.prepare=new PrepareProvider(this),this.batch=new RPCBatchProvider(this,this.estimate),this.wallet=new Wallet(this),this.withExtensions=()=>{let ht=this.clone();return this.providerDecorator.forEach(yt=>{ht=yt(ht)}),ht},typeof this._rpc=="string"?this._rpcClient=new RpcClient(this._rpc):this._rpcClient=this._rpc,this._forger=tt||new TaquitoLocalForger(this),this._injector=rt||new RpcInjector(this),this.operationFactory=new OperationFactory(this),this._walletProvider=it||new LegacyWalletProvider(this),this._parser=st||new MichelCodecParser(this),this._packer=nt||new RpcPacker(this),this._globalConstantsProvider=ot||new NoopGlobalConstantsProvider,this._readProvider=at||new RpcReadAdapter(this._rpcClient),this._stream=ut||new PollingSubscribeProvider(this)}get config(){return this._config.getValue()}set config(_){this._config.next(Object.assign({},_))}setPartialConfig(_){this._config.next(Object.assign(Object.assign({},this._config.getValue()),_))}get rpc(){return this._rpcClient}set rpc(_){this._rpcClient=_}get injector(){return this._injector}set injector(_){this._injector=_}get forger(){return this._forger}set forger(_){this._forger=_}get signer(){return this._signer}set signer(_){this._signer=_}get walletProvider(){return this._walletProvider}set walletProvider(_){this._walletProvider=_}set proto(_){this._proto=_}get proto(){return this._proto}get parser(){return this._parser}set parser(_){this._parser=_}get packer(){return this._packer}set packer(_){this._packer=_}get globalConstantsProvider(){return this._globalConstantsProvider}set globalConstantsProvider(_){this._globalConstantsProvider=_}get readProvider(){return this._readProvider}set readProvider(_){this._readProvider=_}get stream(){return this._stream}set stream(_){this._stream=_}isAnyProtocolActive(_=[]){return __awaiter(this,void 0,void 0,function*(){if(this._proto)return _.includes(this._proto);{const $=yield this.readProvider.getNextProtocol("head");return _.includes($)}})}isAnySignerConfigured(){return!(this.signer instanceof NoopSigner)}clone(){return new Context(this.rpc,this.signer,this.proto,this._config,this.forger,this._injector,this.packer,this._walletProvider,this._parser,this._globalConstantsProvider,this._readProvider,this._stream)}registerProviderDecorator(_){this.providerDecorator.push(_)}}const VERSION={commitHash:"79be4991733872e1a9d0b3b9159462100349421a",version:"19.2.0"};class TezosToolkit{constructor(_){this._rpc=_,this._options={},this.format=format$1,typeof this._rpc=="string"?this._rpcClient=new RpcClient(this._rpc):this._rpcClient=this._rpc,this._context=new Context(_),this._wallet=new Wallet(this._context),this.setProvider({rpc:this._rpcClient}),this.batch=this._context.batch.batch.bind(this._context.batch)}setProvider({rpc:_,stream:$,signer:j,protocol:et,config:tt,forger:rt,wallet:nt,packer:it,globalConstantsProvider:st,readProvider:ot,parserProvider:at,injectorProvider:ut}){this.setRpcProvider(_),this.setStreamProvider($),this.setSignerProvider(j),this.setForgerProvider(rt),this.setWalletProvider(nt),this.setPackerProvider(it),this.setGlobalConstantsProvider(st),this.setReadProvider(ot),this.setParserProvider(at),this.setInjectorProvider(ut),this._context.proto=et,tt&&this._context.setPartialConfig(tt)}setSignerProvider(_){!this._options.signer&&typeof _>"u"?(this._context.signer=new NoopSigner,this._options.signer=_):typeof _<"u"&&(this._context.signer=_,this._options.signer=_)}setRpcProvider(_){typeof _=="string"?this._rpcClient=new RpcClient(_):_===void 0||(this._rpcClient=_),this._options.rpc=this._rpcClient,this._context.rpc=this._rpcClient}setForgerProvider(_){if(typeof _<"u")this._options.forger=_,this._context.forger=_;else if(this._options.forger===void 0){const $=this.getFactory(TaquitoLocalForger)();this._options.forger=$,this._context.forger=$}}setStreamProvider(_){if(typeof _=="string"){const $=new PollingSubscribeProvider(new Context(new RpcClient(_)));this._options.stream=$,this._context.stream=$}else if(typeof _<"u")this._options.stream=_,this._context.stream=_;else if(this._options.stream===void 0){const $=this.getFactory(PollingSubscribeProvider)();this._options.stream=$,this._context.stream=$}}setWalletProvider(_){if(!this._options.wallet&&typeof _>"u"){const $=this.getFactory(LegacyWalletProvider)();this._options.wallet=$,this._context.walletProvider=$}else typeof _<"u"&&(this._options.wallet=_,this._context.walletProvider=_)}setPackerProvider(_){if(!this._options.packer&&typeof _>"u"){const $=this.getFactory(RpcPacker)();this._context.packer=$,this._options.packer=$}else typeof _<"u"&&(this._context.packer=_,this._options.packer=_)}setGlobalConstantsProvider(_){if(!this._options.globalConstantsProvider&&typeof _>"u"){const $=new NoopGlobalConstantsProvider;this._context.globalConstantsProvider=$,this._options.globalConstantsProvider=$}else typeof _<"u"&&(this._context.globalConstantsProvider=_,this._options.globalConstantsProvider=_)}setReadProvider(_){const $=_||new RpcReadAdapter(this._context.rpc);this._options.readProvider=$,this._context.readProvider=$}setParserProvider(_){if(!this._options.parserProvider&&typeof _>"u"){const $=new MichelCodecParser(this._context);this._context.parser=$,this._options.parserProvider=$}else typeof _<"u"&&(this._context.parser=_,this._options.parserProvider=_)}setInjectorProvider(_){if(!this._options.injectorProvider&&typeof _>"u"){const $=new RpcInjector(this._context);this._context.injector=$,this._options.injectorProvider=$}else typeof _<"u"&&(this._context.injector=_,this._options.injectorProvider=_)}get tz(){return this._context.tz}get contract(){return this._context.contract}get prepare(){return this._context.prepare}get wallet(){return this._wallet}get operation(){return this._context.operationFactory}get estimate(){return this._context.estimate}get stream(){return this._context.stream}get rpc(){return this._context.rpc}get signer(){return this._context.signer}get globalConstants(){return this._context.globalConstantsProvider}addExtension(_){Array.isArray(_)?_.forEach($=>$.configureContext(this._context)):_.configureContext(this._context)}getFactory(_){return(...$)=>new _(this._context,...$)}getVersionInfo(){return VERSION}}class FakeSigner{constructor(_,$){this.pk=_,this.pkh=$}async publicKey(){return Promise.resolve(this.pk)}async publicKeyHash(){return Promise.resolve(this.pkh)}async sign(){return Promise.reject(new Error("`sign` method not available"))}async secretKey(){return Promise.reject(new Error("empty secret key"))}}const LAMBDA_HEADER=[{prim:"DROP"},{prim:"NIL",args:[{prim:"operation"}]}],makeMultisigApproveOrExecuteOperation=(a,_,$)=>makeContractCallOperation(a,_,{int:$}),makeMultisigProposeOperation=(a,_)=>{const $=toBatchLambda(_);return makeContractCallOperation(a,"propose",$)},makeContractCallOperation=(a,_,$,j="0")=>({type:"contract_call",contract:a,entrypoint:_,args:$,amount:j}),headlessLambda=a=>lodashExports.isEqual(a.slice(0,2),LAMBDA_HEADER)?a.slice(2):a,toLambda=a=>{switch(a.type){case"tez":switch(a.recipient.type){case"implicit":return MANAGER_LAMBDA.transferImplicit(a.recipient.pkh,Number(a.amount));case"contract":return MANAGER_LAMBDA.transferToContract(a.recipient.pkh,Number(a.amount))}case"fa1.2":return contractLambda(a,FA12_TRANSFER_ARG_TYPES,makeFA12TransactionParameter(a));case"fa2":return contractLambda(a,FA2_TRANSFER_ARG_TYPES,makeFA2TransactionParameter(a));case"delegation":return MANAGER_LAMBDA.setDelegate(a.recipient.pkh);case"undelegation":return MANAGER_LAMBDA.removeDelegate();case"contract_origination":case"contract_call":throw new Error(`${a.type} is not supported yet`)}},toBatchLambda=a=>{const _=a.map($=>toLambda($)).flatMap(headlessLambda);return[...LAMBDA_HEADER,..._]},FA2_TRANSFER_ARG_TYPES={args:[{args:[{annots:["%from_"],prim:"address"},{annots:["%txs"],args:[{args:[{annots:["%to_"],prim:"address"},{args:[{annots:["%token_id"],prim:"nat"},{annots:["%amount"],prim:"nat"}],prim:"pair"}],prim:"pair"}],prim:"list"}],prim:"pair"}],prim:"list"},FA12_TRANSFER_ARG_TYPES={args:[{annots:[":from"],prim:"address"},{args:[{annots:[":to"],prim:"address"},{annots:[":value"],prim:"nat"}],prim:"pair"}],prim:"pair"},contractLambda=(a,_,$)=>[...LAMBDA_HEADER,{prim:"PUSH",args:[{prim:"address"},{string:a.contract.pkh+"%"+$.entrypoint}]},{prim:"CONTRACT",args:[_]},[{prim:"IF_NONE",args:[[{prim:"UNIT"},{prim:"FAILWITH"}],[]]}],{prim:"PUSH",args:[{prim:"mutez"},{int:"0"}]},{prim:"PUSH",args:[_,$.value]},{prim:"TRANSFER_TOKENS"},{prim:"CONS"}],makeFA12TransactionParameter=({sender:a,recipient:_,amount:$})=>({entrypoint:"transfer",value:{prim:"Pair",args:[{string:a.pkh},{prim:"Pair",args:[{string:_.pkh},{int:$}]}]}}),makeFA2TransactionParameter=({sender:a,recipient:_,tokenId:$,amount:j})=>({entrypoint:"transfer",value:[{prim:"Pair",args:[{string:a.pkh},[{prim:"Pair",args:[{string:_.pkh},{prim:"Pair",args:[{int:$},{int:j}]}]}]]}]}),addressExists=async(a,_)=>{try{const $=`${_.tzktApiUrl}/v1/accounts/${a}`,{data:{type:j}}=await axios.get($);return j!=="empty"}catch($){throw new Error(`Error fetching account from tzkt ${$.message}`)}},getFingerPrint=async a=>{const _=new TextEncoder().encode(a),$=await crypto.subtle.digest("SHA-256",_);return Array.from(new Uint8Array($)).map(tt=>tt.toString(16).padStart(2,"0")).join("").slice(0,8)},curvesToDerivationPath=a=>{switch(a){case"ed25519":return DerivationType.ED25519;case"secp256k1":return DerivationType.SECP256K1;case"p256":return DerivationType.P256;case"bip25519":throw new Error("bip25519 is not supported in Tezos")}},makeSigner=async a=>{switch(a.type){case"social":case"mnemonic":case"secret_key":return new InMemorySigner(a.secretKey);case"ledger":{const _=await TransportWebUSB.list();for(let et=0;et<_.length;et++)_[et].close();const $=await TransportWebUSB.create();return new LedgerSigner($,a.account.derivationPath,!1,curvesToDerivationPath(a.account.curve))}case"fake":return new FakeSigner(a.signer.pk,a.signer.address.pkh)}},makeToolkit=async a=>{const _=new TezosToolkit(a.network.rpcUrl),$=await makeSigner(a);return _.setSignerProvider($),_},getPublicKeyPairFromSk=async a=>{const _=new InMemorySigner(a);return{pk:await _.publicKey(),pkh:await _.publicKeyHash()}},derivePublicKeyPair=async(a,_,$="ed25519")=>deriveSecretKey(a,_,$).then(getPublicKeyPairFromSk),deriveSecretKey=(a,_,$)=>InMemorySigner.fromMnemonic({mnemonic:a,derivationPath:_,curve:$}).secretKey(),selectRandomElements=(a,_)=>lodashExports.shuffle(a.map(($,j)=>({value:$,index:j}))).slice(0,_).sort(($,j)=>$.index-j.index),sumTez=a=>a.reduce((_,$)=>_.plus($),new BigNumber(0)),operationToTaquitoOperation=a=>{switch(a.type){case"tez":return{kind:OpKind.TRANSACTION,to:a.recipient.pkh,amount:parseInt(a.amount),mutez:!0};case"contract_call":return{kind:OpKind.TRANSACTION,to:a.contract.pkh,amount:parseInt(a.amount),mutez:!0,parameter:{entrypoint:a.entrypoint,value:a.args}};case"delegation":return{kind:OpKind.DELEGATION,source:a.sender.pkh,delegate:a.recipient.pkh};case"undelegation":return{kind:OpKind.DELEGATION,source:a.sender.pkh,delegate:void 0};case"fa1.2":return{kind:OpKind.TRANSACTION,amount:0,to:a.contract.pkh,parameter:makeFA12TransactionParameter(a)};case"fa2":return{kind:OpKind.TRANSACTION,amount:0,to:a.contract.pkh,parameter:makeFA2TransactionParameter(a)};case"contract_origination":return{kind:OpKind.ORIGINATION,...a}}},operationsToBatchParams=({type:a,operations:_,sender:$})=>(a==="implicit"?_:[makeMultisigProposeOperation($.address,_)]).map(operationToTaquitoOperation),operationsToWalletParams=operationsToBatchParams,estimate=async(a,_)=>{const $=await makeToolkit({type:"fake",signer:a.signer,network:_});try{const j=await $.estimate.batch(operationsToBatchParams(a));return sumTez(j.map(et=>Math.max(et.suggestedFeeMutez,et.totalCost).toString()))}catch(j){throw await addressExists(a.signer.address.pkh,_)?(j instanceof Error&&(j.message=handleTezError(j)),j):new Error(`Signer address is not revealed on the ${_.name}.`)}},handleTezError=a=>a.message.includes("subtraction_underflow")?"Insufficient balance, please make sure you have enough funds.":a.message.includes("contract.non_existing_contract")?"Contract does not exist, please check if the correct network is selected.":a.message,getAccounts=async(a,_)=>withRateLimit(()=>accountsGet({address:{in:[a.join(",")]},select:{fields:["address,balance,delegationLevel"]}},{baseUrl:_.tzktApiUrl})),getTokenBalances=async(a,_)=>withRateLimit(()=>tokensGetTokenBalances({account:{in:[a.join(",")]},balance:{gt:"0"},limit:1e4},{baseUrl:_.tzktApiUrl})),getDelegations=async(a,_,$)=>withRateLimit(()=>operationsGetDelegations({sender:{in:[a.join(",")]},...$},{baseUrl:_.tzktApiUrl})),getTransactions=async(a,_,$)=>withRateLimit(()=>operationsGetTransactions({anyof:{fields:["sender","target","initiator"],in:[a.join(",")]},...$},{baseUrl:_.tzktApiUrl})),getOriginations=async(a,_,$)=>withRateLimit(()=>operationsGetOriginations({sender:{in:[a.join(",")]},...$},{baseUrl:_.tzktApiUrl})),getCombinedOperations=async(a,_,$)=>{const j=($==null?void 0:$.limit)||100,et=($==null?void 0:$.sort)??"desc",tt={limit:j,offset:$!=null&&$.lastId?{cr:$.lastId}:void 0,sort:{[et]:"id"}},rt=await Promise.all([getTransactions(a,_,tt),getDelegations(a,_,tt),getOriginations(a,_,tt),getTokenTransfers(a,_,tt)]);return lodashExports.sortBy(rt.flat(),nt=>et==="asc"?nt.id:-nt.id).slice(0,j)},getRelatedTokenTransfers=async(a,_)=>a.length===0?[]:withRateLimit(()=>tokensGetTokenTransfers({transactionId:{in:[a.join(",")]}},{baseUrl:_.tzktApiUrl})),getTokenTransfers=async(a,_,$)=>withRateLimit(async()=>(await tokensGetTokenTransfers({anyof:{fields:["from","to"],in:[a.join(",")]},...$},{baseUrl:_.tzktApiUrl})).map(et=>({...et,type:"token_transfer"}))),getLastDelegation=(a,_)=>getDelegations([a],_,{limit:1,sort:{desc:"id"}}).then(lodashExports.first),getTezosPriceInUSD=()=>withRateLimit(()=>quotesGetLast().then(a=>a.usd)),getLatestBlockLevel=async a=>withRateLimit(async()=>await blocksGetCount({baseUrl:a.tzktApiUrl})),getBakers=async a=>withRateLimit(()=>delegatesGet({sort:{desc:"stakingBalance"},active:{eq:!0},limit:1e4,select:{fields:["address,alias,stakingBalance"]}},{baseUrl:a.tzktApiUrl}).then(_=>_.map($=>({name:$.alias||"Unknown baker",address:$.address,stakingBalance:$.stakingBalance})))),executeOperations=async(a,_)=>{const $=operationsToWalletParams(a);return _.wallet.batch($).send()},TEZ="ꜩ",TEZ_DECIMALS=6,truncate=(a,_)=>a.length>_?a.slice(0,_-3)+"...":a,tezToMutez=a=>format$1("tz","mutez",a),mutezToTez=a=>format$1("mutez","tz",a),prettyTezAmount=a=>{const _=BigNumber(mutezToTez(a)).toNumber();return`${new Intl.NumberFormat("en-US",{minimumFractionDigits:TEZ_DECIMALS,maximumFractionDigits:TEZ_DECIMALS}).format(_)} ${TEZ}`},formatPkh=a=>`${a.slice(0,5)}...${a.slice(-5)}`,useBlockLevel=()=>useAppSelector(a=>a.assets.blockLevel),useIsBlockFinalised=a=>{const _=useBlockLevel();return _!==null?_-a>=2:null},useAllNfts=()=>{const a=useGetAccountNFTs(),_=useAppSelector(j=>j.assets.balances.tokens),$=Object.keys(_);return lodashExports.fromPairs($.map(j=>[j,a(j)]))},useGetAccountAssets=()=>{const a=useGetToken(),_=useAppSelector($=>$.assets.balances.tokens);return $=>{const j=_[$]||[];return lodashExports.compact(j.map(({contract:et,tokenId:tt,...rt})=>{const nt=a(et,tt);return nt&&{...nt,...rt}}))}},useGetAccountFA2Tokens=()=>{const a=useGetAccountAssets();return _=>keepFA2s(a(_))},useGetAccountFA1Tokens=()=>{const a=useGetAccountAssets();return _=>keepFA1s(a(_))},useGetAccountAllTokens=()=>{const a=useGetAccountFA1Tokens(),_=useGetAccountFA2Tokens();return $=>[...a($),..._($)]},useGetAccountNFTs=()=>{const a=useGetAccountAssets();return _=>keepNFTs(a(_))},useGetTokenTransfer=()=>{const a=useAppSelector(_=>_.assets.transfers.tokens);return _=>{const $=a[_];return $&&{...$,type:"token_transfer"}}},useConversionRate=()=>useAppSelector(a=>a.assets.conversionRate),useTezToDollar=()=>{const a=useConversionRate();return a?_=>BigNumber(_).multipliedBy(a).decimalPlaces(2,BigNumber.ROUND_UP):()=>{}},useGetDollarBalance=()=>{const a=useTezToDollar(),_=useGetAccountBalance();return $=>{const j=_($);return j===void 0?void 0:a(mutezToTez(j))}},useTotalBalance=()=>{const a=useAppSelector(tt=>tt.assets.balances.mutez),_=useTezToDollar(),$=Object.values(a);if($.length===0)return null;const j=$.reduce((tt,rt)=>tt.plus(rt),BigNumber(0)),et=_(mutezToTez(j));return{mutez:j.toFixed(),usd:et}},useGetAccountBalance=()=>{const a=useAppSelector(_=>_.assets.balances.mutez);return _=>a[_]},useBakerList=()=>useAppSelector(a=>a.assets.bakers),useGetBaker=()=>{const a=useBakerList();return _=>a.find($=>$.address===_)},useRefetchTrigger=()=>useAppSelector(a=>a.assets.refetchTrigger),useIsLoading=()=>useAppSelector(a=>a.assets.isLoading),useLastTimeUpdated=()=>useAppSelector(a=>a.assets.lastTimeUpdated),useMultisigAccounts=()=>useAppSelector(a=>a.multisigs.items),useGetPendingMultisigOperations=()=>{const a=useAppSelector(_=>_.multisigs.pendingOperations);return _=>[...a[_.pendingOperationsBigmapId]??[]].sort((j,et)=>Number(et.id)-Number(j.id))},useSeedPhrases=()=>useAppSelector(a=>a.accounts.seedPhrases),useSecretKeys=()=>useAppSelector(a=>a.accounts.secretKeys),useImplicitAccounts=()=>useAppSelector(a=>a.accounts.items),useGetImplicitAccountSafe=()=>{const a=useImplicitAccounts();return _=>a.find($=>$.address.pkh===_)},useGetImplicitAccount=()=>{const a=useGetImplicitAccountSafe();return _=>{const $=a(_);if(!$)throw new Error(`Unknown account: ${_}`);return $}},useGetAccountsByType=()=>{const a=useImplicitAccounts();return _=>a.filter($=>$.type===_)},useGetAccountsByFingerPrint=()=>{const a=useGetAccountsByType();return _=>a("mnemonic").filter($=>$.seedFingerPrint===_)},useAllAccounts=()=>{const a=useImplicitAccounts(),_=useMultisigAccounts();return[...a,..._]},useGetOwnedAccountSafe=()=>{const a=useAllAccounts();return _=>a.find($=>$.address.pkh===_)},useGetOwnedAccount=()=>{const a=useGetOwnedAccountSafe();return _=>{const $=a(_);if(!$)throw new Error(`Unknown account: ${_}`);return $}},useValidateMasterPassword=()=>{const a=useSeedPhrases(),_=useSecretKeys(),$=Object.values({..._,...a})[0];return $?async j=>{await decrypt$1($,j)}:null},useIsOwnedAddress=()=>{const a=useAllAccounts(),_=new Set(a.map($=>$.address.pkh));return $=>!!$&&_.has($)},useGetMultisigSigners=()=>{const a=useImplicitAccounts();return _=>{const $=a.filter(j=>_.signers.some(et=>et.pkh===j.address.pkh));return $.length===0&&console.warn("Wallet doesn't own any signers for multisig contract "+_.address.pkh),$}},useGetOwnedSignersForAccount=()=>{const a=useGetMultisigSigners();return _=>{switch(_.type){case"ledger":case"mnemonic":case"social":case"secret_key":return[_];case"multisig":return a(_)}}},useGetBestSignerForAccount=()=>{const a=useGetOwnedSignersForAccount(),_=useGetMostFundedImplicitAccount();return $=>_(a($))},useGetMostFundedImplicitAccount=()=>{const a=useGetAccountBalance();return _=>lodashExports.maxBy(_,$=>Number(a($.address.pkh)||"0"))},useGetSecretKey=()=>{const a=useSeedPhrases(),_=useSecretKeys();return async($,j)=>{if($.type==="secret_key"){const et=_[$.address.pkh];if(!et)throw new Error(`Missing secret key for account ${$.address.pkh}`);return decrypt$1(et,j)}else{const et=a[$.seedFingerPrint];if(!et)throw new Error(`Missing seedphrase for account ${$.address.pkh}`);const tt=await decrypt$1(et,j);return deriveSecretKey(tt,$.derivationPath,$.curve)}}},useAllContacts=()=>useAppSelector(a=>a.contacts),useContactsForSelectedNetwork=()=>{const a=useSelectedNetwork(),_=useAllContacts();return Object.values(_).filter($=>isValidImplicitPkh($.pkh)||$.network===a.name).map($=>$)},useSortedContacts=()=>useContactsForSelectedNetwork().sort((_,$)=>_.name.localeCompare($.name)).map(_=>_),useAddressExistsInContacts=()=>{const a=useAllContacts();return _=>_ in a},useGetContactName=()=>{const a=useAllContacts();return _=>_ in a?a[_].name:void 0},useValidateNewContactPkh=()=>{const a=useAddressExistsInContacts(),_=useGetOwnedAccountSafe();return $=>isAddressValid($)?_($)?"Address is already used in accounts":!a($)||"Address is already registered":"Invalid address"},useValidateName=a=>{const _=useIsUniqueLabel();return $=>{const j=$.trim();return j.length===0?"Name should not be empty":a!==void 0&&j===a?"Name was not changed":_(j)?!0:"Name must be unique across all accounts and contacts"}},useGetNextAvailableAccountLabels=()=>{const a=useIsUniqueLabel();return(_,$=1)=>{const j=[];for(let et=1;j.length<$;et++){const tt=et===1?_:`${_} ${et}`;a(tt)&&j.push(tt)}return j}},useIsUniqueLabel=()=>{const a=useAllAccounts().map($=>$.label),_=Object.values(useAllContacts()).map($=>$.name);return $=>![...a,..._].includes($)};var Subscribable=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(a){return this.listeners.add(a),this.onSubscribe(),()=>{this.listeners.delete(a),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},isServer=typeof window>"u"||"Deno"in globalThis;function noop$2(){}function functionalUpdate(a,_){return typeof a=="function"?a(_):a}function isValidTimeout(a){return typeof a=="number"&&a>=0&&a!==1/0}function timeUntilStale(a,_){return Math.max(a+(_||0)-Date.now(),0)}function matchQuery(a,_){const{type:$="all",exact:j,fetchStatus:et,predicate:tt,queryKey:rt,stale:nt}=a;if(rt){if(j){if(_.queryHash!==hashQueryKeyByOptions(rt,_.options))return!1}else if(!partialMatchKey(_.queryKey,rt))return!1}if($!=="all"){const it=_.isActive();if($==="active"&&!it||$==="inactive"&&it)return!1}return!(typeof nt=="boolean"&&_.isStale()!==nt||et&&et!==_.state.fetchStatus||tt&&!tt(_))}function matchMutation(a,_){const{exact:$,status:j,predicate:et,mutationKey:tt}=a;if(tt){if(!_.options.mutationKey)return!1;if($){if(hashKey(_.options.mutationKey)!==hashKey(tt))return!1}else if(!partialMatchKey(_.options.mutationKey,tt))return!1}return!(j&&_.state.status!==j||et&&!et(_))}function hashQueryKeyByOptions(a,_){return((_==null?void 0:_.queryKeyHashFn)||hashKey)(a)}function hashKey(a){return JSON.stringify(a,(_,$)=>isPlainObject($)?Object.keys($).sort().reduce((j,et)=>(j[et]=$[et],j),{}):$)}function partialMatchKey(a,_){return a===_?!0:typeof a!=typeof _?!1:a&&_&&typeof a=="object"&&typeof _=="object"?!Object.keys(_).some($=>!partialMatchKey(a[$],_[$])):!1}function replaceEqualDeep(a,_){if(a===_)return a;const $=isPlainArray(a)&&isPlainArray(_);if($||isPlainObject(a)&&isPlainObject(_)){const j=$?a:Object.keys(a),et=j.length,tt=$?_:Object.keys(_),rt=tt.length,nt=$?[]:{};let it=0;for(let st=0;st<rt;st++){const ot=$?st:tt[st];(!$&&j.includes(ot)||$)&&a[ot]===void 0&&_[ot]===void 0?(nt[ot]=void 0,it++):(nt[ot]=replaceEqualDeep(a[ot],_[ot]),nt[ot]===a[ot]&&a[ot]!==void 0&&it++)}return et===rt&&it===et?a:nt}return _}function shallowEqualObjects(a,_){if(!_||Object.keys(a).length!==Object.keys(_).length)return!1;for(const $ in a)if(a[$]!==_[$])return!1;return!0}function isPlainArray(a){return Array.isArray(a)&&a.length===Object.keys(a).length}function isPlainObject(a){if(!hasObjectPrototype(a))return!1;const _=a.constructor;if(_===void 0)return!0;const $=_.prototype;return!(!hasObjectPrototype($)||!$.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(a)!==Object.prototype)}function hasObjectPrototype(a){return Object.prototype.toString.call(a)==="[object Object]"}function sleep$1(a){return new Promise(_=>{setTimeout(_,a)})}function replaceData(a,_,$){return typeof $.structuralSharing=="function"?$.structuralSharing(a,_):$.structuralSharing!==!1?replaceEqualDeep(a,_):_}function addToEnd(a,_,$=0){const j=[...a,_];return $&&j.length>$?j.slice(1):j}function addToStart(a,_,$=0){const j=[_,...a];return $&&j.length>$?j.slice(0,-1):j}var skipToken=Symbol(),au,Hl,Pu,gv,FocusManager=(gv=class extends Subscribable{constructor(){super();In(this,au,void 0);In(this,Hl,void 0);In(this,Pu,void 0);kn(this,Pu,_=>{if(!isServer&&window.addEventListener){const $=()=>_();return window.addEventListener("visibilitychange",$,!1),()=>{window.removeEventListener("visibilitychange",$)}}})}onSubscribe(){Br(this,Hl)||this.setEventListener(Br(this,Pu))}onUnsubscribe(){var _;this.hasListeners()||((_=Br(this,Hl))==null||_.call(this),kn(this,Hl,void 0))}setEventListener(_){var $;kn(this,Pu,_),($=Br(this,Hl))==null||$.call(this),kn(this,Hl,_(j=>{typeof j=="boolean"?this.setFocused(j):this.onFocus()}))}setFocused(_){Br(this,au)!==_&&(kn(this,au,_),this.onFocus())}onFocus(){const _=this.isFocused();this.listeners.forEach($=>{$(_)})}isFocused(){var _;return typeof Br(this,au)=="boolean"?Br(this,au):((_=globalThis.document)==null?void 0:_.visibilityState)!=="hidden"}},au=new WeakMap,Hl=new WeakMap,Pu=new WeakMap,gv),focusManager=new FocusManager,Cu,Vl,ku,vv,OnlineManager=(vv=class extends Subscribable{constructor(){super();In(this,Cu,!0);In(this,Vl,void 0);In(this,ku,void 0);kn(this,ku,_=>{if(!isServer&&window.addEventListener){const $=()=>_(!0),j=()=>_(!1);return window.addEventListener("online",$,!1),window.addEventListener("offline",j,!1),()=>{window.removeEventListener("online",$),window.removeEventListener("offline",j)}}})}onSubscribe(){Br(this,Vl)||this.setEventListener(Br(this,ku))}onUnsubscribe(){var _;this.hasListeners()||((_=Br(this,Vl))==null||_.call(this),kn(this,Vl,void 0))}setEventListener(_){var $;kn(this,ku,_),($=Br(this,Vl))==null||$.call(this),kn(this,Vl,_(this.setOnline.bind(this)))}setOnline(_){Br(this,Cu)!==_&&(kn(this,Cu,_),this.listeners.forEach(j=>{j(_)}))}isOnline(){return Br(this,Cu)}},Cu=new WeakMap,Vl=new WeakMap,ku=new WeakMap,vv),onlineManager=new OnlineManager;function defaultRetryDelay(a){return Math.min(1e3*2**a,3e4)}function canFetch(a){return(a??"online")==="online"?onlineManager.isOnline():!0}var CancelledError=class{constructor(a){this.revert=a==null?void 0:a.revert,this.silent=a==null?void 0:a.silent}};function isCancelledError(a){return a instanceof CancelledError}function createRetryer(a){let _=!1,$=0,j=!1,et,tt,rt;const nt=new Promise((Pt,Tt)=>{tt=Pt,rt=Tt}),it=Pt=>{var Tt;j||(yt(new CancelledError(Pt)),(Tt=a.abort)==null||Tt.call(a))},st=()=>{_=!0},ot=()=>{_=!1},at=()=>focusManager.isFocused()&&(a.networkMode==="always"||onlineManager.isOnline())&&a.canRun(),ut=()=>canFetch(a.networkMode)&&a.canRun(),ht=Pt=>{var Tt;j||(j=!0,(Tt=a.onSuccess)==null||Tt.call(a,Pt),et==null||et(),tt(Pt))},yt=Pt=>{var Tt;j||(j=!0,(Tt=a.onError)==null||Tt.call(a,Pt),et==null||et(),rt(Pt))},wt=()=>new Promise(Pt=>{var Tt;et=Mt=>{(j||at())&&Pt(Mt)},(Tt=a.onPause)==null||Tt.call(a)}).then(()=>{var Pt;et=void 0,j||(Pt=a.onContinue)==null||Pt.call(a)}),Ct=()=>{if(j)return;let Pt;try{Pt=a.fn()}catch(Tt){Pt=Promise.reject(Tt)}Promise.resolve(Pt).then(ht).catch(Tt=>{var Ot;if(j)return;const Mt=a.retry??(isServer?0:3),Lt=a.retryDelay??defaultRetryDelay,Dt=typeof Lt=="function"?Lt($,Tt):Lt,Ut=Mt===!0||typeof Mt=="number"&&$<Mt||typeof Mt=="function"&&Mt($,Tt);if(_||!Ut){yt(Tt);return}$++,(Ot=a.onFail)==null||Ot.call(a,$,Tt),sleep$1(Dt).then(()=>at()?void 0:wt()).then(()=>{_?yt(Tt):Ct()})})};return{promise:nt,cancel:it,continue:()=>(et==null||et(),nt),cancelRetry:st,continueRetry:ot,canStart:ut,start:()=>(ut()?Ct():wt().then(Ct),nt)}}function createNotifyManager(){let a=[],_=0,$=ut=>{ut()},j=ut=>{ut()},et=ut=>setTimeout(ut,0);const tt=ut=>{et=ut},rt=ut=>{let ht;_++;try{ht=ut()}finally{_--,_||st()}return ht},nt=ut=>{_?a.push(ut):et(()=>{$(ut)})},it=ut=>(...ht)=>{nt(()=>{ut(...ht)})},st=()=>{const ut=a;a=[],ut.length&&et(()=>{j(()=>{ut.forEach(ht=>{$(ht)})})})};return{batch:rt,batchCalls:it,schedule:nt,setNotifyFunction:ut=>{$=ut},setBatchNotifyFunction:ut=>{j=ut},setScheduler:tt}}var notifyManager=createNotifyManager(),cu,yv,Removable=(yv=class{constructor(){In(this,cu,void 0)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),isValidTimeout(this.gcTime)&&kn(this,cu,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(a){this.gcTime=Math.max(this.gcTime||0,a??(isServer?1/0:5*60*1e3))}clearGcTimeout(){Br(this,cu)&&(clearTimeout(Br(this,cu)),kn(this,cu,void 0))}},cu=new WeakMap,yv),Mu,Iu,_o,Ks,op,lu,Oo,$a,bv,Query=(bv=class extends Removable{constructor(_){super();In(this,Oo);In(this,Mu,void 0);In(this,Iu,void 0);In(this,_o,void 0);In(this,Ks,void 0);In(this,op,void 0);In(this,lu,void 0);kn(this,lu,!1),kn(this,op,_.defaultOptions),this.setOptions(_.options),this.observers=[],kn(this,_o,_.cache),this.queryKey=_.queryKey,this.queryHash=_.queryHash,kn(this,Mu,_.state||getDefaultState$1(this.options)),this.state=Br(this,Mu),this.scheduleGc()}get meta(){return this.options.meta}setOptions(_){this.options={...Br(this,op),..._},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&Br(this,_o).remove(this)}setData(_,$){const j=replaceData(this.state.data,_,this.options);return Zn(this,Oo,$a).call(this,{data:j,type:"success",dataUpdatedAt:$==null?void 0:$.updatedAt,manual:$==null?void 0:$.manual}),j}setState(_,$){Zn(this,Oo,$a).call(this,{type:"setState",state:_,setStateOptions:$})}cancel(_){var j,et;const $=(j=Br(this,Ks))==null?void 0:j.promise;return(et=Br(this,Ks))==null||et.cancel(_),$?$.then(noop$2).catch(noop$2):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(Br(this,Mu))}isActive(){return this.observers.some(_=>_.options.enabled!==!1)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(_=>_.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(_=0){return this.state.isInvalidated||this.state.data===void 0||!timeUntilStale(this.state.dataUpdatedAt,_)}onFocus(){var $;const _=this.observers.find(j=>j.shouldFetchOnWindowFocus());_==null||_.refetch({cancelRefetch:!1}),($=Br(this,Ks))==null||$.continue()}onOnline(){var $;const _=this.observers.find(j=>j.shouldFetchOnReconnect());_==null||_.refetch({cancelRefetch:!1}),($=Br(this,Ks))==null||$.continue()}addObserver(_){this.observers.includes(_)||(this.observers.push(_),this.clearGcTimeout(),Br(this,_o).notify({type:"observerAdded",query:this,observer:_}))}removeObserver(_){this.observers.includes(_)&&(this.observers=this.observers.filter($=>$!==_),this.observers.length||(Br(this,Ks)&&(Br(this,lu)?Br(this,Ks).cancel({revert:!0}):Br(this,Ks).cancelRetry()),this.scheduleGc()),Br(this,_o).notify({type:"observerRemoved",query:this,observer:_}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Zn(this,Oo,$a).call(this,{type:"invalidate"})}fetch(_,$){var st,ot,at;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&($!=null&&$.cancelRefetch))this.cancel({silent:!0});else if(Br(this,Ks))return Br(this,Ks).continueRetry(),Br(this,Ks).promise}if(_&&this.setOptions(_),!this.options.queryFn){const ut=this.observers.find(ht=>ht.options.queryFn);ut&&this.setOptions(ut.options)}const j=new AbortController,et={queryKey:this.queryKey,meta:this.meta},tt=ut=>{Object.defineProperty(ut,"signal",{enumerable:!0,get:()=>(kn(this,lu,!0),j.signal)})};tt(et);const rt=()=>!this.options.queryFn||this.options.queryFn===skipToken?Promise.reject(new Error(`Missing queryFn: '${this.options.queryHash}'`)):(kn(this,lu,!1),this.options.persister?this.options.persister(this.options.queryFn,et,this):this.options.queryFn(et)),nt={fetchOptions:$,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:rt};tt(nt),(st=this.options.behavior)==null||st.onFetch(nt,this),kn(this,Iu,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((ot=nt.fetchOptions)==null?void 0:ot.meta))&&Zn(this,Oo,$a).call(this,{type:"fetch",meta:(at=nt.fetchOptions)==null?void 0:at.meta});const it=ut=>{var ht,yt,wt,Ct;isCancelledError(ut)&&ut.silent||Zn(this,Oo,$a).call(this,{type:"error",error:ut}),isCancelledError(ut)||((yt=(ht=Br(this,_o).config).onError)==null||yt.call(ht,ut,this),(Ct=(wt=Br(this,_o).config).onSettled)==null||Ct.call(wt,this.state.data,ut,this)),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return kn(this,Ks,createRetryer({fn:nt.fetchFn,abort:j.abort.bind(j),onSuccess:ut=>{var ht,yt,wt,Ct;if(ut===void 0){it(new Error(`${this.queryHash} data is undefined`));return}this.setData(ut),(yt=(ht=Br(this,_o).config).onSuccess)==null||yt.call(ht,ut,this),(Ct=(wt=Br(this,_o).config).onSettled)==null||Ct.call(wt,ut,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:it,onFail:(ut,ht)=>{Zn(this,Oo,$a).call(this,{type:"failed",failureCount:ut,error:ht})},onPause:()=>{Zn(this,Oo,$a).call(this,{type:"pause"})},onContinue:()=>{Zn(this,Oo,$a).call(this,{type:"continue"})},retry:nt.options.retry,retryDelay:nt.options.retryDelay,networkMode:nt.options.networkMode,canRun:()=>!0})),Br(this,Ks).start()}},Mu=new WeakMap,Iu=new WeakMap,_o=new WeakMap,Ks=new WeakMap,op=new WeakMap,lu=new WeakMap,Oo=new WeakSet,$a=function(_){const $=j=>{switch(_.type){case"failed":return{...j,fetchFailureCount:_.failureCount,fetchFailureReason:_.error};case"pause":return{...j,fetchStatus:"paused"};case"continue":return{...j,fetchStatus:"fetching"};case"fetch":return{...j,...fetchState(j.data,this.options),fetchMeta:_.meta??null};case"success":return{...j,data:_.data,dataUpdateCount:j.dataUpdateCount+1,dataUpdatedAt:_.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!_.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const et=_.error;return isCancelledError(et)&&et.revert&&Br(this,Iu)?{...Br(this,Iu),fetchStatus:"idle"}:{...j,error:et,errorUpdateCount:j.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:j.fetchFailureCount+1,fetchFailureReason:et,fetchStatus:"idle",status:"error"};case"invalidate":return{...j,isInvalidated:!0};case"setState":return{...j,..._.state}}};this.state=$(this.state),notifyManager.batch(()=>{this.observers.forEach(j=>{j.onQueryUpdate()}),Br(this,_o).notify({query:this,type:"updated",action:_})})},bv);function fetchState(a,_){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:canFetch(_.networkMode)?"fetching":"paused",...a===void 0&&{error:null,status:"pending"}}}function getDefaultState$1(a){const _=typeof a.initialData=="function"?a.initialData():a.initialData,$=_!==void 0,j=$?typeof a.initialDataUpdatedAt=="function"?a.initialDataUpdatedAt():a.initialDataUpdatedAt:0;return{data:_,dataUpdateCount:0,dataUpdatedAt:$?j??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:$?"success":"pending",fetchStatus:"idle"}}var Ho,xv,QueryCache=(xv=class extends Subscribable{constructor(_={}){super();In(this,Ho,void 0);this.config=_,kn(this,Ho,new Map)}build(_,$,j){const et=$.queryKey,tt=$.queryHash??hashQueryKeyByOptions(et,$);let rt=this.get(tt);return rt||(rt=new Query({cache:this,queryKey:et,queryHash:tt,options:_.defaultQueryOptions($),state:j,defaultOptions:_.getQueryDefaults(et)}),this.add(rt)),rt}add(_){Br(this,Ho).has(_.queryHash)||(Br(this,Ho).set(_.queryHash,_),this.notify({type:"added",query:_}))}remove(_){const $=Br(this,Ho).get(_.queryHash);$&&(_.destroy(),$===_&&Br(this,Ho).delete(_.queryHash),this.notify({type:"removed",query:_}))}clear(){notifyManager.batch(()=>{this.getAll().forEach(_=>{this.remove(_)})})}get(_){return Br(this,Ho).get(_)}getAll(){return[...Br(this,Ho).values()]}find(_){const $={exact:!0,..._};return this.getAll().find(j=>matchQuery($,j))}findAll(_={}){const $=this.getAll();return Object.keys(_).length>0?$.filter(j=>matchQuery(_,j)):$}notify(_){notifyManager.batch(()=>{this.listeners.forEach($=>{$(_)})})}onFocus(){notifyManager.batch(()=>{this.getAll().forEach(_=>{_.onFocus()})})}onOnline(){notifyManager.batch(()=>{this.getAll().forEach(_=>{_.onOnline()})})}},Ho=new WeakMap,xv),Vo,Ws,uu,qo,Ul,_v,Mutation=(_v=class extends Removable{constructor(_){super();In(this,qo);In(this,Vo,void 0);In(this,Ws,void 0);In(this,uu,void 0);this.mutationId=_.mutationId,kn(this,Ws,_.mutationCache),kn(this,Vo,[]),this.state=_.state||getDefaultState(),this.setOptions(_.options),this.scheduleGc()}setOptions(_){this.options=_,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(_){Br(this,Vo).includes(_)||(Br(this,Vo).push(_),this.clearGcTimeout(),Br(this,Ws).notify({type:"observerAdded",mutation:this,observer:_}))}removeObserver(_){kn(this,Vo,Br(this,Vo).filter($=>$!==_)),this.scheduleGc(),Br(this,Ws).notify({type:"observerRemoved",mutation:this,observer:_})}optionalRemove(){Br(this,Vo).length||(this.state.status==="pending"?this.scheduleGc():Br(this,Ws).remove(this))}continue(){var _;return((_=Br(this,uu))==null?void 0:_.continue())??this.execute(this.state.variables)}async execute(_){var et,tt,rt,nt,it,st,ot,at,ut,ht,yt,wt,Ct,Pt,Tt,Mt,Lt,Dt,Ut,Ot;kn(this,uu,createRetryer({fn:()=>this.options.mutationFn?this.options.mutationFn(_):Promise.reject(new Error("No mutationFn found")),onFail:(It,Bt)=>{Zn(this,qo,Ul).call(this,{type:"failed",failureCount:It,error:Bt})},onPause:()=>{Zn(this,qo,Ul).call(this,{type:"pause"})},onContinue:()=>{Zn(this,qo,Ul).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>Br(this,Ws).canRun(this)}));const $=this.state.status==="pending",j=!Br(this,uu).canStart();try{if(!$){Zn(this,qo,Ul).call(this,{type:"pending",variables:_,isPaused:j}),await((tt=(et=Br(this,Ws).config).onMutate)==null?void 0:tt.call(et,_,this));const Bt=await((nt=(rt=this.options).onMutate)==null?void 0:nt.call(rt,_));Bt!==this.state.context&&Zn(this,qo,Ul).call(this,{type:"pending",context:Bt,variables:_,isPaused:j})}const It=await Br(this,uu).start();return await((st=(it=Br(this,Ws).config).onSuccess)==null?void 0:st.call(it,It,_,this.state.context,this)),await((at=(ot=this.options).onSuccess)==null?void 0:at.call(ot,It,_,this.state.context)),await((ht=(ut=Br(this,Ws).config).onSettled)==null?void 0:ht.call(ut,It,null,this.state.variables,this.state.context,this)),await((wt=(yt=this.options).onSettled)==null?void 0:wt.call(yt,It,null,_,this.state.context)),Zn(this,qo,Ul).call(this,{type:"success",data:It}),It}catch(It){try{throw await((Pt=(Ct=Br(this,Ws).config).onError)==null?void 0:Pt.call(Ct,It,_,this.state.context,this)),await((Mt=(Tt=this.options).onError)==null?void 0:Mt.call(Tt,It,_,this.state.context)),await((Dt=(Lt=Br(this,Ws).config).onSettled)==null?void 0:Dt.call(Lt,void 0,It,this.state.variables,this.state.context,this)),await((Ot=(Ut=this.options).onSettled)==null?void 0:Ot.call(Ut,void 0,It,_,this.state.context)),It}finally{Zn(this,qo,Ul).call(this,{type:"error",error:It})}}finally{Br(this,Ws).runNext(this)}}},Vo=new WeakMap,Ws=new WeakMap,uu=new WeakMap,qo=new WeakSet,Ul=function(_){const $=j=>{switch(_.type){case"failed":return{...j,failureCount:_.failureCount,failureReason:_.error};case"pause":return{...j,isPaused:!0};case"continue":return{...j,isPaused:!1};case"pending":return{...j,context:_.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:_.isPaused,status:"pending",variables:_.variables,submittedAt:Date.now()};case"success":return{...j,data:_.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...j,data:void 0,error:_.error,failureCount:j.failureCount+1,failureReason:_.error,isPaused:!1,status:"error"}}};this.state=$(this.state),notifyManager.batch(()=>{Br(this,Vo).forEach(j=>{j.onMutationUpdate(_)}),Br(this,Ws).notify({mutation:this,type:"updated",action:_})})},_v);function getDefaultState(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var co,ap,Ev,MutationCache=(Ev=class extends Subscribable{constructor(_={}){super();In(this,co,void 0);In(this,ap,void 0);this.config=_,kn(this,co,new Map),kn(this,ap,Date.now())}build(_,$,j){const et=new Mutation({mutationCache:this,mutationId:++r0(this,ap)._,options:_.defaultMutationOptions($),state:j});return this.add(et),et}add(_){const $=scopeFor(_),j=Br(this,co).get($)??[];j.push(_),Br(this,co).set($,j),this.notify({type:"added",mutation:_})}remove(_){var j;const $=scopeFor(_);if(Br(this,co).has($)){const et=(j=Br(this,co).get($))==null?void 0:j.filter(tt=>tt!==_);et&&(et.length===0?Br(this,co).delete($):Br(this,co).set($,et))}this.notify({type:"removed",mutation:_})}canRun(_){var j;const $=(j=Br(this,co).get(scopeFor(_)))==null?void 0:j.find(et=>et.state.status==="pending");return!$||$===_}runNext(_){var j;const $=(j=Br(this,co).get(scopeFor(_)))==null?void 0:j.find(et=>et!==_&&et.state.isPaused);return($==null?void 0:$.continue())??Promise.resolve()}clear(){notifyManager.batch(()=>{this.getAll().forEach(_=>{this.remove(_)})})}getAll(){return[...Br(this,co).values()].flat()}find(_){const $={exact:!0,..._};return this.getAll().find(j=>matchMutation($,j))}findAll(_={}){return this.getAll().filter($=>matchMutation(_,$))}notify(_){notifyManager.batch(()=>{this.listeners.forEach($=>{$(_)})})}resumePausedMutations(){const _=this.getAll().filter($=>$.state.isPaused);return notifyManager.batch(()=>Promise.all(_.map($=>$.continue().catch(noop$2))))}},co=new WeakMap,ap=new WeakMap,Ev);function scopeFor(a){var _;return((_=a.options.scope)==null?void 0:_.id)??String(a.mutationId)}function infiniteQueryBehavior(a){return{onFetch:(_,$)=>{const j=async()=>{var yt,wt,Ct,Pt,Tt;const et=_.options,tt=(Ct=(wt=(yt=_.fetchOptions)==null?void 0:yt.meta)==null?void 0:wt.fetchMore)==null?void 0:Ct.direction,rt=((Pt=_.state.data)==null?void 0:Pt.pages)||[],nt=((Tt=_.state.data)==null?void 0:Tt.pageParams)||[],it={pages:[],pageParams:[]};let st=!1;const ot=Mt=>{Object.defineProperty(Mt,"signal",{enumerable:!0,get:()=>(_.signal.aborted?st=!0:_.signal.addEventListener("abort",()=>{st=!0}),_.signal)})},at=_.options.queryFn&&_.options.queryFn!==skipToken?_.options.queryFn:()=>Promise.reject(new Error(`Missing queryFn: '${_.options.queryHash}'`)),ut=async(Mt,Lt,Dt)=>{if(st)return Promise.reject();if(Lt==null&&Mt.pages.length)return Promise.resolve(Mt);const Ut={queryKey:_.queryKey,pageParam:Lt,direction:Dt?"backward":"forward",meta:_.options.meta};ot(Ut);const Ot=await at(Ut),{maxPages:It}=_.options,Bt=Dt?addToStart:addToEnd;return{pages:Bt(Mt.pages,Ot,It),pageParams:Bt(Mt.pageParams,Lt,It)}};let ht;if(tt&&rt.length){const Mt=tt==="backward",Lt=Mt?getPreviousPageParam:getNextPageParam,Dt={pages:rt,pageParams:nt},Ut=Lt(et,Dt);ht=await ut(Dt,Ut,Mt)}else{ht=await ut(it,nt[0]??et.initialPageParam);const Mt=a??rt.length;for(let Lt=1;Lt<Mt;Lt++){const Dt=getNextPageParam(et,ht);ht=await ut(ht,Dt)}}return ht};_.options.persister?_.fetchFn=()=>{var et,tt;return(tt=(et=_.options).persister)==null?void 0:tt.call(et,j,{queryKey:_.queryKey,meta:_.options.meta,signal:_.signal},$)}:_.fetchFn=j}}}function getNextPageParam(a,{pages:_,pageParams:$}){const j=_.length-1;return a.getNextPageParam(_[j],_,$[j],$)}function getPreviousPageParam(a,{pages:_,pageParams:$}){var j;return(j=a.getPreviousPageParam)==null?void 0:j.call(a,_[0],_,$[0],$)}function hasNextPage(a,_){return _?getNextPageParam(a,_)!=null:!1}function hasPreviousPage(a,_){return!_||!a.getPreviousPageParam?!1:getPreviousPageParam(a,_)!=null}var Ss,Kl,Wl,Ou,ju,Gl,Nu,Bu,wv,QueryClient=(wv=class{constructor(a={}){In(this,Ss,void 0);In(this,Kl,void 0);In(this,Wl,void 0);In(this,Ou,void 0);In(this,ju,void 0);In(this,Gl,void 0);In(this,Nu,void 0);In(this,Bu,void 0);kn(this,Ss,a.queryCache||new QueryCache),kn(this,Kl,a.mutationCache||new MutationCache),kn(this,Wl,a.defaultOptions||{}),kn(this,Ou,new Map),kn(this,ju,new Map),kn(this,Gl,0)}mount(){r0(this,Gl)._++,Br(this,Gl)===1&&(kn(this,Nu,focusManager.subscribe(async a=>{a&&(await this.resumePausedMutations(),Br(this,Ss).onFocus())})),kn(this,Bu,onlineManager.subscribe(async a=>{a&&(await this.resumePausedMutations(),Br(this,Ss).onOnline())})))}unmount(){var a,_;r0(this,Gl)._--,Br(this,Gl)===0&&((a=Br(this,Nu))==null||a.call(this),kn(this,Nu,void 0),(_=Br(this,Bu))==null||_.call(this),kn(this,Bu,void 0))}isFetching(a){return Br(this,Ss).findAll({...a,fetchStatus:"fetching"}).length}isMutating(a){return Br(this,Kl).findAll({...a,status:"pending"}).length}getQueryData(a){var $;const _=this.defaultQueryOptions({queryKey:a});return($=Br(this,Ss).get(_.queryHash))==null?void 0:$.state.data}ensureQueryData(a){const _=this.getQueryData(a.queryKey);if(_===void 0)return this.fetchQuery(a);{const $=this.defaultQueryOptions(a),j=Br(this,Ss).build(this,$);return a.revalidateIfStale&&j.isStaleByTime($.staleTime)&&this.prefetchQuery($),Promise.resolve(_)}}getQueriesData(a){return Br(this,Ss).findAll(a).map(({queryKey:_,state:$})=>{const j=$.data;return[_,j]})}setQueryData(a,_,$){const j=this.defaultQueryOptions({queryKey:a}),et=Br(this,Ss).get(j.queryHash),tt=et==null?void 0:et.state.data,rt=functionalUpdate(_,tt);if(rt!==void 0)return Br(this,Ss).build(this,j).setData(rt,{...$,manual:!0})}setQueriesData(a,_,$){return notifyManager.batch(()=>Br(this,Ss).findAll(a).map(({queryKey:j})=>[j,this.setQueryData(j,_,$)]))}getQueryState(a){var $;const _=this.defaultQueryOptions({queryKey:a});return($=Br(this,Ss).get(_.queryHash))==null?void 0:$.state}removeQueries(a){const _=Br(this,Ss);notifyManager.batch(()=>{_.findAll(a).forEach($=>{_.remove($)})})}resetQueries(a,_){const $=Br(this,Ss),j={type:"active",...a};return notifyManager.batch(()=>($.findAll(a).forEach(et=>{et.reset()}),this.refetchQueries(j,_)))}cancelQueries(a={},_={}){const $={revert:!0,..._},j=notifyManager.batch(()=>Br(this,Ss).findAll(a).map(et=>et.cancel($)));return Promise.all(j).then(noop$2).catch(noop$2)}invalidateQueries(a={},_={}){return notifyManager.batch(()=>{if(Br(this,Ss).findAll(a).forEach(j=>{j.invalidate()}),a.refetchType==="none")return Promise.resolve();const $={...a,type:a.refetchType??a.type??"active"};return this.refetchQueries($,_)})}refetchQueries(a={},_){const $={..._,cancelRefetch:(_==null?void 0:_.cancelRefetch)??!0},j=notifyManager.batch(()=>Br(this,Ss).findAll(a).filter(et=>!et.isDisabled()).map(et=>{let tt=et.fetch(void 0,$);return $.throwOnError||(tt=tt.catch(noop$2)),et.state.fetchStatus==="paused"?Promise.resolve():tt}));return Promise.all(j).then(noop$2)}fetchQuery(a){const _=this.defaultQueryOptions(a);_.retry===void 0&&(_.retry=!1);const $=Br(this,Ss).build(this,_);return $.isStaleByTime(_.staleTime)?$.fetch(_):Promise.resolve($.state.data)}prefetchQuery(a){return this.fetchQuery(a).then(noop$2).catch(noop$2)}fetchInfiniteQuery(a){return a.behavior=infiniteQueryBehavior(a.pages),this.fetchQuery(a)}prefetchInfiniteQuery(a){return this.fetchInfiniteQuery(a).then(noop$2).catch(noop$2)}resumePausedMutations(){return onlineManager.isOnline()?Br(this,Kl).resumePausedMutations():Promise.resolve()}getQueryCache(){return Br(this,Ss)}getMutationCache(){return Br(this,Kl)}getDefaultOptions(){return Br(this,Wl)}setDefaultOptions(a){kn(this,Wl,a)}setQueryDefaults(a,_){Br(this,Ou).set(hashKey(a),{queryKey:a,defaultOptions:_})}getQueryDefaults(a){const _=[...Br(this,Ou).values()];let $={};return _.forEach(j=>{partialMatchKey(a,j.queryKey)&&($={...$,...j.defaultOptions})}),$}setMutationDefaults(a,_){Br(this,ju).set(hashKey(a),{mutationKey:a,defaultOptions:_})}getMutationDefaults(a){const _=[...Br(this,ju).values()];let $={};return _.forEach(j=>{partialMatchKey(a,j.mutationKey)&&($={...$,...j.defaultOptions})}),$}defaultQueryOptions(a){if(a._defaulted)return a;const _={...Br(this,Wl).queries,...this.getQueryDefaults(a.queryKey),...a,_defaulted:!0};return _.queryHash||(_.queryHash=hashQueryKeyByOptions(_.queryKey,_)),_.refetchOnReconnect===void 0&&(_.refetchOnReconnect=_.networkMode!=="always"),_.throwOnError===void 0&&(_.throwOnError=!!_.suspense),!_.networkMode&&_.persister&&(_.networkMode="offlineFirst"),_.enabled!==!0&&_.queryFn===skipToken&&(_.enabled=!1),_}defaultMutationOptions(a){return a!=null&&a._defaulted?a:{...Br(this,Wl).mutations,...(a==null?void 0:a.mutationKey)&&this.getMutationDefaults(a.mutationKey),...a,_defaulted:!0}}clear(){Br(this,Ss).clear(),Br(this,Kl).clear()}},Ss=new WeakMap,Kl=new WeakMap,Wl=new WeakMap,Ou=new WeakMap,ju=new WeakMap,Gl=new WeakMap,Nu=new WeakMap,Bu=new WeakMap,wv),ro,bs,cp,Gs,du,Lu,Ko,lp,Du,Fu,fu,hu,Zl,Uu,pu,sp,up,lm,dp,um,fp,dm,hp,fm,pp,hm,mp,pm,gp,mm,n0,Av,Sv,QueryObserver=(Sv=class extends Subscribable{constructor(_,$){super();In(this,pu);In(this,up);In(this,dp);In(this,fp);In(this,hp);In(this,pp);In(this,mp);In(this,gp);In(this,n0);In(this,ro,void 0);In(this,bs,void 0);In(this,cp,void 0);In(this,Gs,void 0);In(this,du,void 0);In(this,Lu,void 0);In(this,Ko,void 0);In(this,lp,void 0);In(this,Du,void 0);In(this,Fu,void 0);In(this,fu,void 0);In(this,hu,void 0);In(this,Zl,void 0);In(this,Uu,new Set);this.options=$,kn(this,ro,_),kn(this,Ko,null),this.bindMethods(),this.setOptions($)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(Br(this,bs).addObserver(this),shouldFetchOnMount(Br(this,bs),this.options)?Zn(this,pu,sp).call(this):this.updateResult(),Zn(this,hp,fm).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return shouldFetchOn(Br(this,bs),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return shouldFetchOn(Br(this,bs),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Zn(this,pp,hm).call(this),Zn(this,mp,pm).call(this),Br(this,bs).removeObserver(this)}setOptions(_,$){const j=this.options,et=Br(this,bs);if(this.options=Br(this,ro).defaultQueryOptions(_),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");Zn(this,gp,mm).call(this),Br(this,bs).setOptions(this.options),j._defaulted&&!shallowEqualObjects(this.options,j)&&Br(this,ro).getQueryCache().notify({type:"observerOptionsUpdated",query:Br(this,bs),observer:this});const tt=this.hasListeners();tt&&shouldFetchOptionally(Br(this,bs),et,this.options,j)&&Zn(this,pu,sp).call(this),this.updateResult($),tt&&(Br(this,bs)!==et||this.options.enabled!==j.enabled||this.options.staleTime!==j.staleTime)&&Zn(this,up,lm).call(this);const rt=Zn(this,dp,um).call(this);tt&&(Br(this,bs)!==et||this.options.enabled!==j.enabled||rt!==Br(this,Zl))&&Zn(this,fp,dm).call(this,rt)}getOptimisticResult(_){const $=Br(this,ro).getQueryCache().build(Br(this,ro),_),j=this.createResult($,_);return shouldAssignObserverCurrentProperties(this,j)&&(kn(this,Gs,j),kn(this,Lu,this.options),kn(this,du,Br(this,bs).state)),j}getCurrentResult(){return Br(this,Gs)}trackResult(_,$){const j={};return Object.keys(_).forEach(et=>{Object.defineProperty(j,et,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(et),$==null||$(et),_[et])})}),j}trackProp(_){Br(this,Uu).add(_)}getCurrentQuery(){return Br(this,bs)}refetch({..._}={}){return this.fetch({..._})}fetchOptimistic(_){const $=Br(this,ro).defaultQueryOptions(_),j=Br(this,ro).getQueryCache().build(Br(this,ro),$);return j.isFetchingOptimistic=!0,j.fetch().then(()=>this.createResult(j,$))}fetch(_){return Zn(this,pu,sp).call(this,{..._,cancelRefetch:_.cancelRefetch??!0}).then(()=>(this.updateResult(),Br(this,Gs)))}createResult(_,$){var Ot;const j=Br(this,bs),et=this.options,tt=Br(this,Gs),rt=Br(this,du),nt=Br(this,Lu),st=_!==j?_.state:Br(this,cp),{state:ot}=_;let at={...ot},ut=!1,ht;if($._optimisticResults){const It=this.hasListeners(),Bt=!It&&shouldFetchOnMount(_,$),Ft=It&&shouldFetchOptionally(_,j,$,et);(Bt||Ft)&&(at={...at,...fetchState(ot.data,_.options)}),$._optimisticResults==="isRestoring"&&(at.fetchStatus="idle")}let{error:yt,errorUpdatedAt:wt,status:Ct}=at;if($.select&&at.data!==void 0)if(tt&&at.data===(rt==null?void 0:rt.data)&&$.select===Br(this,lp))ht=Br(this,Du);else try{kn(this,lp,$.select),ht=$.select(at.data),ht=replaceData(tt==null?void 0:tt.data,ht,$),kn(this,Du,ht),kn(this,Ko,null)}catch(It){kn(this,Ko,It)}else ht=at.data;if($.placeholderData!==void 0&&ht===void 0&&Ct==="pending"){let It;if(tt!=null&&tt.isPlaceholderData&&$.placeholderData===(nt==null?void 0:nt.placeholderData))It=tt.data;else if(It=typeof $.placeholderData=="function"?$.placeholderData((Ot=Br(this,Fu))==null?void 0:Ot.state.data,Br(this,Fu)):$.placeholderData,$.select&&It!==void 0)try{It=$.select(It),kn(this,Ko,null)}catch(Bt){kn(this,Ko,Bt)}It!==void 0&&(Ct="success",ht=replaceData(tt==null?void 0:tt.data,It,$),ut=!0)}Br(this,Ko)&&(yt=Br(this,Ko),ht=Br(this,Du),wt=Date.now(),Ct="error");const Pt=at.fetchStatus==="fetching",Tt=Ct==="pending",Mt=Ct==="error",Lt=Tt&&Pt,Dt=ht!==void 0;return{status:Ct,fetchStatus:at.fetchStatus,isPending:Tt,isSuccess:Ct==="success",isError:Mt,isInitialLoading:Lt,isLoading:Lt,data:ht,dataUpdatedAt:at.dataUpdatedAt,error:yt,errorUpdatedAt:wt,failureCount:at.fetchFailureCount,failureReason:at.fetchFailureReason,errorUpdateCount:at.errorUpdateCount,isFetched:at.dataUpdateCount>0||at.errorUpdateCount>0,isFetchedAfterMount:at.dataUpdateCount>st.dataUpdateCount||at.errorUpdateCount>st.errorUpdateCount,isFetching:Pt,isRefetching:Pt&&!Tt,isLoadingError:Mt&&!Dt,isPaused:at.fetchStatus==="paused",isPlaceholderData:ut,isRefetchError:Mt&&Dt,isStale:isStale(_,$),refetch:this.refetch}}updateResult(_){const $=Br(this,Gs),j=this.createResult(Br(this,bs),this.options);if(kn(this,du,Br(this,bs).state),kn(this,Lu,this.options),Br(this,du).data!==void 0&&kn(this,Fu,Br(this,bs)),shallowEqualObjects(j,$))return;kn(this,Gs,j);const et={},tt=()=>{if(!$)return!0;const{notifyOnChangeProps:rt}=this.options,nt=typeof rt=="function"?rt():rt;if(nt==="all"||!nt&&!Br(this,Uu).size)return!0;const it=new Set(nt??Br(this,Uu));return this.options.throwOnError&&it.add("error"),Object.keys(Br(this,Gs)).some(st=>{const ot=st;return Br(this,Gs)[ot]!==$[ot]&&it.has(ot)})};(_==null?void 0:_.listeners)!==!1&&tt()&&(et.listeners=!0),Zn(this,n0,Av).call(this,{...et,..._})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Zn(this,hp,fm).call(this)}},ro=new WeakMap,bs=new WeakMap,cp=new WeakMap,Gs=new WeakMap,du=new WeakMap,Lu=new WeakMap,Ko=new WeakMap,lp=new WeakMap,Du=new WeakMap,Fu=new WeakMap,fu=new WeakMap,hu=new WeakMap,Zl=new WeakMap,Uu=new WeakMap,pu=new WeakSet,sp=function(_){Zn(this,gp,mm).call(this);let $=Br(this,bs).fetch(this.options,_);return _!=null&&_.throwOnError||($=$.catch(noop$2)),$},up=new WeakSet,lm=function(){if(Zn(this,pp,hm).call(this),isServer||Br(this,Gs).isStale||!isValidTimeout(this.options.staleTime))return;const $=timeUntilStale(Br(this,Gs).dataUpdatedAt,this.options.staleTime)+1;kn(this,fu,setTimeout(()=>{Br(this,Gs).isStale||this.updateResult()},$))},dp=new WeakSet,um=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(Br(this,bs)):this.options.refetchInterval)??!1},fp=new WeakSet,dm=function(_){Zn(this,mp,pm).call(this),kn(this,Zl,_),!(isServer||this.options.enabled===!1||!isValidTimeout(Br(this,Zl))||Br(this,Zl)===0)&&kn(this,hu,setInterval(()=>{(this.options.refetchIntervalInBackground||focusManager.isFocused())&&Zn(this,pu,sp).call(this)},Br(this,Zl)))},hp=new WeakSet,fm=function(){Zn(this,up,lm).call(this),Zn(this,fp,dm).call(this,Zn(this,dp,um).call(this))},pp=new WeakSet,hm=function(){Br(this,fu)&&(clearTimeout(Br(this,fu)),kn(this,fu,void 0))},mp=new WeakSet,pm=function(){Br(this,hu)&&(clearInterval(Br(this,hu)),kn(this,hu,void 0))},gp=new WeakSet,mm=function(){const _=Br(this,ro).getQueryCache().build(Br(this,ro),this.options);if(_===Br(this,bs))return;const $=Br(this,bs);kn(this,bs,_),kn(this,cp,_.state),this.hasListeners()&&($==null||$.removeObserver(this),_.addObserver(this))},n0=new WeakSet,Av=function(_){notifyManager.batch(()=>{_.listeners&&this.listeners.forEach($=>{$(Br(this,Gs))}),Br(this,ro).getQueryCache().notify({query:Br(this,bs),type:"observerResultsUpdated"})})},Sv);function shouldLoadOnMount(a,_){return _.enabled!==!1&&a.state.data===void 0&&!(a.state.status==="error"&&_.retryOnMount===!1)}function shouldFetchOnMount(a,_){return shouldLoadOnMount(a,_)||a.state.data!==void 0&&shouldFetchOn(a,_,_.refetchOnMount)}function shouldFetchOn(a,_,$){if(_.enabled!==!1){const j=typeof $=="function"?$(a):$;return j==="always"||j!==!1&&isStale(a,_)}return!1}function shouldFetchOptionally(a,_,$,j){return(a!==_||j.enabled===!1)&&(!$.suspense||a.state.status!=="error")&&isStale(a,$)}function isStale(a,_){return _.enabled!==!1&&a.isStaleByTime(_.staleTime)}function shouldAssignObserverCurrentProperties(a,_){return!shallowEqualObjects(a.getCurrentResult(),_)}var InfiniteQueryObserver=class extends QueryObserver{constructor(a,_){super(a,_)}bindMethods(){super.bindMethods(),this.fetchNextPage=this.fetchNextPage.bind(this),this.fetchPreviousPage=this.fetchPreviousPage.bind(this)}setOptions(a,_){super.setOptions({...a,behavior:infiniteQueryBehavior()},_)}getOptimisticResult(a){return a.behavior=infiniteQueryBehavior(),super.getOptimisticResult(a)}fetchNextPage(a){return this.fetch({...a,meta:{fetchMore:{direction:"forward"}}})}fetchPreviousPage(a){return this.fetch({...a,meta:{fetchMore:{direction:"backward"}}})}createResult(a,_){var yt,wt;const{state:$}=a,j=super.createResult(a,_),{isFetching:et,isRefetching:tt,isError:rt,isRefetchError:nt}=j,it=(wt=(yt=$.fetchMeta)==null?void 0:yt.fetchMore)==null?void 0:wt.direction,st=rt&&it==="forward",ot=et&&it==="forward",at=rt&&it==="backward",ut=et&&it==="backward";return{...j,fetchNextPage:this.fetchNextPage,fetchPreviousPage:this.fetchPreviousPage,hasNextPage:hasNextPage(_,$.data),hasPreviousPage:hasPreviousPage(_,$.data),isFetchNextPageError:st,isFetchingNextPage:ot,isFetchPreviousPageError:at,isFetchingPreviousPage:ut,isRefetchError:nt&&!st&&!at,isRefetching:tt&&!ot&&!ut}}},QueryClientContext=reactExports.createContext(void 0),useQueryClient=a=>{const _=reactExports.useContext(QueryClientContext);if(!_)throw new Error("No QueryClient set, use QueryClientProvider to set one");return _},QueryClientProvider=({client:a,children:_})=>(reactExports.useEffect(()=>(a.mount(),()=>{a.unmount()}),[a]),jsxRuntimeExports.jsx(QueryClientContext.Provider,{value:a,children:_})),IsRestoringContext=reactExports.createContext(!1),useIsRestoring=()=>reactExports.useContext(IsRestoringContext);IsRestoringContext.Provider;function createValue(){let a=!1;return{clearReset:()=>{a=!1},reset:()=>{a=!0},isReset:()=>a}}var QueryErrorResetBoundaryContext=reactExports.createContext(createValue()),useQueryErrorResetBoundary=()=>reactExports.useContext(QueryErrorResetBoundaryContext);function shouldThrowError(a,_){return typeof a=="function"?a(..._):!!a}var ensurePreventErrorBoundaryRetry=(a,_)=>{(a.suspense||a.throwOnError)&&(_.isReset()||(a.retryOnMount=!1))},useClearResetErrorBoundary=a=>{reactExports.useEffect(()=>{a.clearReset()},[a])},getHasError=({result:a,errorResetBoundary:_,throwOnError:$,query:j})=>a.isError&&!_.isReset()&&!a.isFetching&&j&&shouldThrowError($,[a.error,j]),ensureStaleTime=a=>{a.suspense&&typeof a.staleTime!="number"&&(a.staleTime=1e3)},shouldSuspend=(a,_)=>(a==null?void 0:a.suspense)&&_.isPending,fetchOptimistic=(a,_,$)=>_.fetchOptimistic(a).catch(()=>{$.clearReset()});function useBaseQuery(a,_,$){const j=useQueryClient(),et=useIsRestoring(),tt=useQueryErrorResetBoundary(),rt=j.defaultQueryOptions(a);rt._optimisticResults=et?"isRestoring":"optimistic",ensureStaleTime(rt),ensurePreventErrorBoundaryRetry(rt,tt),useClearResetErrorBoundary(tt);const[nt]=reactExports.useState(()=>new _(j,rt)),it=nt.getOptimisticResult(rt);if(reactExports.useSyncExternalStore(reactExports.useCallback(st=>{const ot=et?()=>{}:nt.subscribe(notifyManager.batchCalls(st));return nt.updateResult(),ot},[nt,et]),()=>nt.getCurrentResult(),()=>nt.getCurrentResult()),reactExports.useEffect(()=>{nt.setOptions(rt,{listeners:!1})},[rt,nt]),shouldSuspend(rt,it))throw fetchOptimistic(rt,nt,tt);if(getHasError({result:it,errorResetBoundary:tt,throwOnError:rt.throwOnError,query:j.getQueryCache().get(rt.queryHash)}))throw it.error;return rt.notifyOnChangeProps?it:nt.trackResult(it)}function useQuery(a,_){return useBaseQuery(a,QueryObserver)}function useInfiniteQuery(a,_){return useBaseQuery(a,InfiniteQueryObserver)}const peerInfoSchema=z.object({id:z.string(),type:z.string(),name:z.string(),publicKey:z.string(),version:z.string(),icon:z.string().optional(),relayServer:z.string().optional()}),makePeerInfo=peerInfoSchema.parse,useGetConnectionInfo=a=>useAppSelector($=>$.beacon)[a],useGetPeersForAccounts=()=>{const a=useAppSelector(_=>_.beacon);return _=>Object.entries(a).filter(([$,j])=>_.includes(j.accountPkh)).map(([$,j])=>$)},useResetConnections=()=>{const a=useDispatch();return()=>a(beaconSlice.actions.reset())},useAddConnection=()=>{const a=useDispatch();return(_,$,j)=>a(beaconSlice.actions.addConnection({dAppId:_,accountPkh:$,networkType:j}))},useRemoveConnection=()=>{const a=useDispatch();return _=>a(beaconSlice.actions.removeConnection(_))},PEERS_QUERY_KEY="beaconPeers",useRefreshPeers=()=>{const a=useQueryClient();return()=>a.refetchQueries({queryKey:[PEERS_QUERY_KEY]})},usePeers=()=>useQuery({queryKey:[PEERS_QUERY_KEY],queryFn:()=>WalletClient.getPeers()}),useRemovePeer=()=>{const a=useRefreshPeers(),_=useRemoveConnection();return $=>WalletClient.removePeer($).then(()=>_($.senderId)).then(a)},useRemovePeersByAccounts=()=>{const a=useGetPeersForAccounts();return async _=>{const $=a(_),j=await WalletClient.getPeers();await Promise.all(j.filter(et=>$.includes(et.senderId)).map(et=>WalletClient.removePeer(et)))}},useAddPeer=()=>{const a=useRefreshPeers(),_=useToast();return $=>new Serializer().deserialize($).then(makePeerInfo).then(j=>WalletClient.addPeer(j)).then(a).catch(j=>{_({description:"Beacon sync code in the clipboard is invalid. Please copy a beacon sync code from the dApp",status:"error"}),console.error(j)})},useRemoveDependenciesAndMultisigs=()=>{const a=useAppDispatch(),_=useGetMultisigsToRemove(),$=useRemoveAccountsDependencies();return j=>{const et=_(j);$([...j,...et]),a(multisigsSlice.actions.removeMultisigsData(et.map(tt=>tt.address.pkh)))}},useRemoveAccountsDependencies=()=>{const a=useAppDispatch(),_=useRemovePeersByAccounts();return $=>{const j=$.map(et=>et.address.pkh);a(batchesSlice.actions.removeByAccounts(j)),_(j),a(beaconSlice.actions.removeConnections(j)),a(assetsSlice.actions.removeAccountsData(j))}},useGetMultisigsToRemove=()=>{const a=useImplicitAccounts(),_=useMultisigAccounts();return $=>{const j=$.map(tt=>tt.address.pkh),et=a.map(tt=>tt.address.pkh).filter(tt=>!j.includes(tt));return _.filter(tt=>!tt.signers.some(rt=>et.includes(rt.pkh)))}},defaultDerivationPathTemplate="44'/1729'/?'/0'",DEFAULT_DERIVATION_PATH_TEMPLATE={label:"Default - m/44'/1729'/?'/0'",value:defaultDerivationPathTemplate},AVAILABLE_DERIVATION_PATH_TEMPLATES=[DEFAULT_DERIVATION_PATH_TEMPLATE,{label:"m/44'/1729'/0'/?'",value:"44'/1729'/0'/?'"},{label:"m/44'/1729'/?'/0'/0'",value:"44'/1729'/?'/0'/0'"},{label:"m/44'/1729'/0'/0'/?'",value:"44'/1729'/0'/0'/?'"}],getDefaultDerivationPath=a=>makeDerivationPath(defaultDerivationPathTemplate,a),makeDerivationPath=(a,_)=>a.replace("?",_.toString()),makeMnemonicAccount=(a,_,$,j,et,tt)=>({curve:"ed25519",derivationPath:$,derivationPathTemplate:j,pk:a,address:parseImplicitPkh(_),seedFingerPrint:et,label:tt,type:"mnemonic"}),generate24WordMnemonic=()=>generateMnemonic_1(256),restoreRevealedPublicKeyPairs=async(a,_,$)=>{const j=[];let et=0,tt=await derivePublicKeyPair(a,makeDerivationPath(_,et));do j.push(tt),et+=1,tt=await derivePublicKeyPair(a,makeDerivationPath(_,et));while(await addressExists(tt.pkh,$));return j},useRestoreRevealedMnemonicAccounts=()=>{const a=useGetNextAvailableAccountLabels();return async(_,$,j,et)=>{const tt=await restoreRevealedPublicKeyPairs(_,j,$),rt=await getFingerPrint(_),nt=a(et,tt.length);return tt.map(({pk:it,pkh:st},ot)=>makeMnemonicAccount(it,st,makeDerivationPath(j,ot),j,rt,nt[ot]))}},getCurve=a=>{if(a.startsWith(Prefix.EDESK)||a.startsWith(Prefix.EDSK))return"ed25519";if(a.startsWith(Prefix.SPESK)||a.startsWith(Prefix.SPSK))return"secp256k1";if(a.startsWith(Prefix.P2ESK)||a.startsWith(Prefix.P2SK))return"p256";throw new Error("Invalid secret key")},isEncryptedSecretKeyPrefix=a=>a.substring(2,3)==="e",makeSecretKeyAccount=async({secretKey:a,label:_,password:$})=>{const{pk:j,pkh:et}=await getPublicKeyPairFromSk(a),tt=await encrypt$1(a,$);return{account:{type:"secret_key",pk:j,label:_,curve:getCurve(a),address:parseImplicitPkh(et)},encryptedSecretKey:tt}},restore=({secretKey:a,label:_,password:$})=>async j=>{const{account:et,encryptedSecretKey:tt}=await makeSecretKeyAccount({secretKey:a,label:_,password:$});j(accountsSlice.actions.addAccount(et)),j(accountsSlice.actions.addSecretKey({pkh:et.address.pkh,encryptedSecretKey:tt}))},{removeMnemonicAndAccounts,removeNonMnemonicAccounts}=accountsSlice.actions,{addAccount}=accountsSlice.actions,useRestoreFromMnemonic=()=>{const a=useSelectedNetwork(),_=useRestoreRevealedMnemonicAccounts(),$=useDispatch();return async({mnemonic:j,password:et,derivationPathTemplate:tt,label:rt})=>{const nt=await getFingerPrint(j),it=await _(j,a,tt,rt),st=await encrypt$1(j,et);$(accountsSlice.actions.addMnemonicAccounts({seedFingerprint:nt,accounts:it,encryptedMnemonic:st}))}},useDeriveMnemonicAccount=()=>{const a=useSeedPhrases(),_=useImplicitAccounts(),$=useGetNextAvailableAccountLabels(),j=useDispatch();return async({fingerPrint:et,password:tt,label:rt})=>{const nt=a[et];if(!nt)throw new Error(`No seedphrase found with fingerprint: ${et}`);const it=await decrypt$1(nt,tt),st=_.filter(Pt=>Pt.type==="mnemonic"&&Pt.seedFingerPrint===et),ot=st.length,at=st[0].derivationPathTemplate,ut=makeDerivationPath(at,ot),{pk:ht,pkh:yt}=await derivePublicKeyPair(it,ut),wt=$(rt,1)[0],Ct=makeMnemonicAccount(ht,yt,ut,at,et,wt);j(accountsSlice.actions.addAccount(Ct))}},useRestoreFromSecretKey=()=>{const a=useAppDispatch();return(_,$,j)=>a(restore({secretKey:_,password:$,label:j}))},useRestoreLedger=()=>{const a=useAppDispatch();return(_,$,j,et,tt)=>{a(addAccount({derivationPathTemplate:_,derivationPath:$,curve:"ed25519",type:"ledger",pk:j,address:{type:"implicit",pkh:et},label:tt}))}},useRestoreSocial=()=>{const a=useAppDispatch();return(_,$,j)=>{a(addAccount({type:"social",pk:_,address:{type:"implicit",pkh:$},idp:"google",label:j}))}},useRemoveMnemonic=()=>{const a=useAppDispatch(),_=useGetAccountsByFingerPrint(),$=useRemoveDependenciesAndMultisigs();return j=>{$(_(j)),a(removeMnemonicAndAccounts({fingerPrint:j}))}},useRemoveNonMnemonic=()=>{const a=useAppDispatch(),_=useGetAccountsByType(),$=useRemoveDependenciesAndMultisigs();return j=>{$(_(j)),a(removeNonMnemonicAccounts({accountType:j}))}},useRemoveAccount=()=>{const a=useAppDispatch(),_=useRemoveDependenciesAndMultisigs();return $=>{_([$]),a(accountsSlice.actions.removeAccount($))}},DEFAULT_TITLE="Name Your Account",NameAccountDisplay=({onSubmit:a,title:_=DEFAULT_TITLE,subtitle:$})=>{const{register:j,handleSubmit:et}=useForm({mode:"onChange"});return jsxRuntimeExports.jsx(ModalContentWrapper,{icon:jsxRuntimeExports.jsx(EditAccountIcon,{}),subtitle:$,title:_,children:jsxRuntimeExports.jsxs("form",{onSubmit:et(a),style:{width:"100%"},children:[jsxRuntimeExports.jsxs(FormControl,{children:[jsxRuntimeExports.jsx(FormLabel,{children:"Account name"}),jsxRuntimeExports.jsx(Input,{"data-testid":"name",type:"text",...j("accountName",{required:!1}),placeholder:"Optional"})]}),jsxRuntimeExports.jsx(Button,{width:"100%",marginTop:"32px",size:"lg",type:"submit",children:"Continue"})]})})},DEFAULT_ACCOUNT_LABEL="Account",NameAccount=({goToStep:a,account:_})=>{const $=useGetNextAvailableAccountLabels(),j=et=>{const tt=et.accountName.trim()||DEFAULT_ACCOUNT_LABEL,rt=$(tt)[0];switch(_.type){case"secret_key":return a({type:"masterPassword",account:{..._,label:rt}});case"ledger":return a({type:"derivationPath",account:{..._,label:rt}});case"mnemonic":return a({type:"derivationPath",account:{..._,label:tt}})}};return jsxRuntimeExports.jsx(NameAccountDisplay,{onSubmit:j,subtitle:"Please choose a name for your first account. You can edit your account name later."})},reload=()=>window.location.reload(),useRestoreV1BackupFile=()=>{const a=useRestoreFromMnemonic();return async(_,$)=>{const j=_.recoveryPhrases,et=_.derivationPaths.map(rt=>rt.slice(0,2)==="m/"?rt.slice(2):rt),tt=[];try{for(const rt of j)tt.push(await decrypt$1(rt,$,"V1"))}catch{throw new Error("Invalid password.")}for(const[rt,nt]of tt.entries())await a({mnemonic:nt,password:$,label:DEFAULT_ACCOUNT_LABEL,derivationPathTemplate:et[rt]})}},restoreV2BackupFile=async(a,_)=>{const $=a["persist:accounts"];if(!$)throw new Error("Invalid backup file.");const j=JSON.parse($),et=JSON.parse(j.seedPhrases);try{for(const tt of Object.values(et))await decrypt$1(tt,_,"V2")}catch{throw new Error("Invalid password.")}persistor.pause(),localStorage.clear(),localStorage.setItem("persist:accounts",$),localStorage.setItem("persist:root",a["persist:root"])},downloadBackupFile=()=>{const a={version:packageInfo.version,"persist:accounts":localStorage.getItem("persist:accounts"),"persist:root":localStorage.getItem("persist:root")},_=`data:text/json;chatset=utf-8,${encodeURIComponent(JSON.stringify(a))}`,$=document.createElement("a");$.href=_,$.download="UmamiV2Backup.json",$.click()},BackgroundImage=""+new URL("background_image-BS5h8JYK.png",import.meta.url).href,feedbackEmailBodyTemplate="What is it about? (if a bug report please consider including your account address) %0A PLEASE FILL %0A%0A What is the feedback? %0A PLEASE FILL",refresh=()=>{window.location.href="/"},ErrorPage=()=>{const{modalElement:a,onOpen:_}=useOffboardingModal();return jsxRuntimeExports.jsxs(Center,{height:"100vh",padding:"60px",backgroundImage:BackgroundImage,backgroundSize:"cover",children:[jsxRuntimeExports.jsx(Box,{width:"480px",padding:"40px",background:colors.gray[900],border:"1px",borderColor:colors.gray[700],borderRadius:"8px",boxShadow:"0px 0px 30px rgba(0, 0, 0, 0.30)",children:jsxRuntimeExports.jsx(ModalContentWrapper,{icon:jsxRuntimeExports.jsx(NoticeIcon,{}),subtitle:"Please refresh the app or use one of the following options:",title:"Oops! Something went wrong!",children:jsxRuntimeExports.jsxs(VStack,{width:"100%",spacing:"16px",children:[jsxRuntimeExports.jsx(Button,{width:"100%",borderRadius:"4px",onClick:downloadBackupFile,size:"lg",children:"Save Backup"}),jsxRuntimeExports.jsx(Button,{width:"100%",borderRadius:"4px",onClick:_,size:"lg",variant:"warning",children:"Off-board Wallet"}),jsxRuntimeExports.jsx(Button,{width:"100%",borderColor:colors.gray[600],borderRadius:"4px",size:"lg",variant:"tertiary",children:jsxRuntimeExports.jsx(Link$1,{width:"100%",_hover:{textDecoration:"none"},href:`mailto:umami-support@trili.tech?subject=Umami V2 feedback&body=${feedbackEmailBodyTemplate}`,rel:"noopener noreferrer",target:"_blank",children:"Report Error"})}),jsxRuntimeExports.jsx(Link$1,{display:"block",marginTop:"14px",color:colors.blue,fill:colors.blue,_hover:{color:colors.blueL,fill:colors.blueL},onClick:refresh,children:jsxRuntimeExports.jsxs(Center,{children:[jsxRuntimeExports.jsx(ReloadIcon,{marginRight:"7px"}),jsxRuntimeExports.jsx(Heading,{display:"inline",lineHeight:"22px",size:"md",children:"Refresh"})]})})]})})}),a]})},queryClient=new QueryClient,ReactQueryProvider=({children:a})=>jsxRuntimeExports.jsx(QueryClientProvider,{client:queryClient,children:a}),ReduxStore=a=>jsxRuntimeExports.jsx(Provider_default,{store,children:a.children}),baseCircle={borderRadius:"full",bg:colors.gray[600],_disabled:{bg:colors.gray[700],color:colors.gray[450]},_hover:{color:colors.green,bg:colors.gray[500],_disabled:{bg:colors.gray[700],color:colors.gray[450]}}},buttonTheme={sizes:{md:{height:"38px",fontSize:"14px",minWidth:"38px"},lg:{height:"48px",fontSize:"16px",minWidth:"48px"}},variants:{primary:{bg:colors.blue,_disabled:{bg:colors.gray[500],color:colors.gray[450],opacity:1},_hover:{_disabled:{bg:colors.gray[500],color:colors.gray[450],opacity:1},bg:colors.blueL}},secondary:{border:"1px solid",borderColor:colors.green,_disabled:{color:colors.gray[450],borderColor:colors.gray[500],opacity:1},_hover:{bg:colors.green,_disabled:{color:colors.gray[450],borderColor:colors.gray[500],opacity:1}}},tertiary:{bg:"transparent",border:"1px solid",borderColor:colors.gray[500],_disabled:{color:colors.gray[450],opacity:1},_hover:{border:"1px solid",borderColor:colors.gray[600],bg:colors.gray[600],_disabled:{borderColor:colors.gray[500],color:colors.gray[450],opacity:1}}},warning:{bg:colors.orange,_disabled:{bg:colors.gray[500],color:colors.gray[450],opacity:1},_hover:{bg:colors.orangeL,_disabled:{bg:colors.gray[500],color:colors.gray[450],opacity:1}}},circle_without_hover_color:{...baseCircle,_hover:{color:colors.green,_disabled:{bg:colors.gray[700],color:colors.gray[450]}}},circle_without_color:baseCircle,circle:{...baseCircle,color:colors.gray[300]},specialCTA:{color:colors.greenL,_hover:{color:colors.green}},CTAWithIcon:{padding:"8px 7px",color:colors.gray[300],_hover:{color:colors.green},_disabled:{color:colors.gray[450]}},popover:{color:colors.gray[300],stroke:colors.gray[450],width:"100%",padding:0,height:"24px",justifyContent:"end",_hover:{color:colors.green,stroke:colors.green}}},defaultProps:{variant:"primary",size:"md"}},{definePartsStyle:definePartsStyle$6,defineMultiStyleConfig:defineMultiStyleConfig$6}=createMultiStyleConfigHelpers(checkboxAnatomy.keys),baseStyle$3=definePartsStyle$6({icon:{color:"white"},control:{marginTop:"-20px",width:"20px",height:"20px",borderWidth:"2px",borderColor:colors.gray[400],borderRadius:"2px",_checked:{borderColor:colors.green,bg:colors.green,color:colors.white,_hover:{bg:colors.green,borderColor:colors.green}}}}),checkboxTheme=defineMultiStyleConfig$6({baseStyle:baseStyle$3}),{definePartsStyle:definePartsStyle$5,defineMultiStyleConfig:defineMultiStyleConfig$5}=createMultiStyleConfigHelpers(drawerAnatomy.keys),baseStyle$2=definePartsStyle$5(a=>({body:{padding:"18px 30px 30px 30px",borderLeft:`1px solid ${colors.gray[800]}`},dialog:{bg:colors.gray[900]}})),drawerTheme=defineMultiStyleConfig$5({baseStyle:baseStyle$2,sizes:{md:{dialog:{maxW:"594px"}}},defaultProps:{size:"md"}}),{definePartsStyle:definePartsStyle$4,defineMultiStyleConfig:defineMultiStyleConfig$4}=createMultiStyleConfigHelpers(listAnatomy.keys),onboardingNoticeStyle=definePartsStyle$4({item:{"&::marker":{color:colors.gray[400]}}}),suggestionsStyle=definePartsStyle$4({item:{_hover:{background:colors.gray[500]},background:colors.gray[700],borderRadius:"4px",cursor:"pointer",height:"28px",listStyleType:"none"},container:{background:colors.gray[700],border:"1px solid",borderColor:colors.gray[500],borderRadius:"8px",listStyleType:"none",marginLeft:"0 !important",overflowX:"hidden",padding:"10px",position:"absolute",width:"100%",zIndex:2,maxHeight:"130px"}}),listTheme=defineMultiStyleConfig$4({variants:{onboardingNotice:onboardingNoticeStyle,suggestions:suggestionsStyle}}),{definePartsStyle:definePartsStyle$3,defineMultiStyleConfig:defineMultiStyleConfig$3}=createMultiStyleConfigHelpers(modalAnatomy.keys),modalButtonBaseStyle={top:"10px",position:"absolute",color:colors.gray[400],borderRadius:"18px"},closeButtonStyle={...modalButtonBaseStyle,insetEnd:"10px"},backButtonStyle={...modalButtonBaseStyle,insetStart:"10px"},baseStyle$1=definePartsStyle$3({dialog:{padding:"40px",_dark:{bg:colors.gray[900],border:"1px solid",borderColor:colors.gray[700],borderRadius:"8px"}},overlay:{_dark:{bg:"rgba(0, 0, 0, 0.85)"}},closeButton:closeButtonStyle,body:{padding:0},footer:{padding:"32px 0 0 0"},header:{padding:0}}),modalTheme=defineMultiStyleConfig$3({baseStyle:baseStyle$1,sizes:{md:{dialog:{maxW:"482px"}}}}),{definePartsStyle:definePartsStyle$2,defineMultiStyleConfig:defineMultiStyleConfig$2}=createMultiStyleConfigHelpers(radioAnatomy.keys),primary=definePartsStyle$2({control:{height:"16px",width:"16px",_dark:{borderColor:colors.gray[400]},_checked:{backgroundColor:colors.green,borderColor:colors.green,border:"none",color:"white"}}}),radioTheme=defineMultiStyleConfig$2({variants:{primary}}),{definePartsStyle:definePartsStyle$1,defineMultiStyleConfig:defineMultiStyleConfig$1}=createMultiStyleConfigHelpers(switchAnatomy.keys),danger=definePartsStyle$1({track:{backgroundColor:colors.gray[450],_checked:{backgroundColor:colors.orange}},thumb:{backgroundColor:"black"}}),switchTheme=defineMultiStyleConfig$1({variants:{danger}}),{definePartsStyle,defineMultiStyleConfig}=createMultiStyleConfigHelpers(tabsAnatomy.keys),baseStyle=definePartsStyle({tab:{_selected:{fontWeight:600,color:colors.white,borderColor:colors.orange,borderBottom:`2px solid ${colors.orange}`}}}),tabsTheme=defineMultiStyleConfig({baseStyle}),config$1={initialColorMode:"dark",useSystemColorMode:!1},sizes={xs:{fontSize:"12px"},sm:{fontSize:"14px"},md:{fontSize:"16px"},lg:{fontSize:"18px"},xl:{fontSize:"20px"},"2xl":{fontSize:"24px"},"3xl":{fontSize:"30px"},"4xl":{fontSize:"36px"},"5xl":{fontSize:"48px"},"6xl":{fontSize:"69px"}},theme=extendTheme({components:{Tabs:tabsTheme,Text:{baseStyle:{fontWeight:"400",fontFamily:"Inter"},sizes},Heading:{baseStyle:{fontWeight:"600",fontFamily:"Inter"},sizes},Checkbox:checkboxTheme,Input:{sizes:{md:{field:{height:"48px"}}},defaultProps:{variant:"filled"},variants:{filled:{field:{bg:colors.gray[800],border:"1px solid",borderColor:colors.gray[500],_invalid:{borderColor:colors.orange},_hover:{bg:colors.gray[800]},_focusVisible:{bg:colors.gray[800],borderColor:colors.gray[450]}}}}},Button:buttonTheme,FormLabel:{baseStyle:{fontWeight:"600",marginBottom:"12px",size:"md"},sizes},Modal:modalTheme,Drawer:drawerTheme,Radio:radioTheme,List:listTheme,Switch:switchTheme},config:config$1,colors:{umami:colors,text:{dark:colors.gray[400]}},styles:{global:{body:{bg:colors.black,color:colors.white,fontFamily:"Inter"}}}}),UmamiTheme=a=>jsxRuntimeExports.jsxs(ChakraProvider,{theme,children:[jsxRuntimeExports.jsx(ColorModeScript,{initialColorMode:theme.config.initialColorMode}),a.children]});/**
 * @remix-run/router v1.16.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$4(){return _extends$4=Object.assign?Object.assign.bind():function(a){for(var _=1;_<arguments.length;_++){var $=arguments[_];for(var j in $)Object.prototype.hasOwnProperty.call($,j)&&(a[j]=$[j])}return a},_extends$4.apply(this,arguments)}var Action;(function(a){a.Pop="POP",a.Push="PUSH",a.Replace="REPLACE"})(Action||(Action={}));const PopStateEventType="popstate";function createHashHistory(a){a===void 0&&(a={});function _(et,tt){let{pathname:rt="/",search:nt="",hash:it=""}=parsePath(et.location.hash.substr(1));return!rt.startsWith("/")&&!rt.startsWith(".")&&(rt="/"+rt),createLocation("",{pathname:rt,search:nt,hash:it},tt.state&&tt.state.usr||null,tt.state&&tt.state.key||"default")}function $(et,tt){let rt=et.document.querySelector("base"),nt="";if(rt&&rt.getAttribute("href")){let it=et.location.href,st=it.indexOf("#");nt=st===-1?it:it.slice(0,st)}return nt+"#"+(typeof tt=="string"?tt:createPath(tt))}function j(et,tt){warning(et.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(tt)+")")}return getUrlBasedHistory(_,$,j,a)}function invariant(a,_){if(a===!1||a===null||typeof a>"u")throw new Error(_)}function warning(a,_){if(!a){typeof console<"u"&&console.warn(_);try{throw new Error(_)}catch{}}}function createKey(){return Math.random().toString(36).substr(2,8)}function getHistoryState(a,_){return{usr:a.state,key:a.key,idx:_}}function createLocation(a,_,$,j){return $===void 0&&($=null),_extends$4({pathname:typeof a=="string"?a:a.pathname,search:"",hash:""},typeof _=="string"?parsePath(_):_,{state:$,key:_&&_.key||j||createKey()})}function createPath(a){let{pathname:_="/",search:$="",hash:j=""}=a;return $&&$!=="?"&&(_+=$.charAt(0)==="?"?$:"?"+$),j&&j!=="#"&&(_+=j.charAt(0)==="#"?j:"#"+j),_}function parsePath(a){let _={};if(a){let $=a.indexOf("#");$>=0&&(_.hash=a.substr($),a=a.substr(0,$));let j=a.indexOf("?");j>=0&&(_.search=a.substr(j),a=a.substr(0,j)),a&&(_.pathname=a)}return _}function getUrlBasedHistory(a,_,$,j){j===void 0&&(j={});let{window:et=document.defaultView,v5Compat:tt=!1}=j,rt=et.history,nt=Action.Pop,it=null,st=ot();st==null&&(st=0,rt.replaceState(_extends$4({},rt.state,{idx:st}),""));function ot(){return(rt.state||{idx:null}).idx}function at(){nt=Action.Pop;let Ct=ot(),Pt=Ct==null?null:Ct-st;st=Ct,it&&it({action:nt,location:wt.location,delta:Pt})}function ut(Ct,Pt){nt=Action.Push;let Tt=createLocation(wt.location,Ct,Pt);$&&$(Tt,Ct),st=ot()+1;let Mt=getHistoryState(Tt,st),Lt=wt.createHref(Tt);try{rt.pushState(Mt,"",Lt)}catch(Dt){if(Dt instanceof DOMException&&Dt.name==="DataCloneError")throw Dt;et.location.assign(Lt)}tt&&it&&it({action:nt,location:wt.location,delta:1})}function ht(Ct,Pt){nt=Action.Replace;let Tt=createLocation(wt.location,Ct,Pt);$&&$(Tt,Ct),st=ot();let Mt=getHistoryState(Tt,st),Lt=wt.createHref(Tt);rt.replaceState(Mt,"",Lt),tt&&it&&it({action:nt,location:wt.location,delta:0})}function yt(Ct){let Pt=et.location.origin!=="null"?et.location.origin:et.location.href,Tt=typeof Ct=="string"?Ct:createPath(Ct);return Tt=Tt.replace(/ $/,"%20"),invariant(Pt,"No window.location.(origin|href) available to create URL for href: "+Tt),new URL(Tt,Pt)}let wt={get action(){return nt},get location(){return a(et,rt)},listen(Ct){if(it)throw new Error("A history only accepts one active listener");return et.addEventListener(PopStateEventType,at),it=Ct,()=>{et.removeEventListener(PopStateEventType,at),it=null}},createHref(Ct){return _(et,Ct)},createURL:yt,encodeLocation(Ct){let Pt=yt(Ct);return{pathname:Pt.pathname,search:Pt.search,hash:Pt.hash}},push:ut,replace:ht,go(Ct){return rt.go(Ct)}};return wt}var ResultType;(function(a){a.data="data",a.deferred="deferred",a.redirect="redirect",a.error="error"})(ResultType||(ResultType={}));function matchRoutes(a,_,$){$===void 0&&($="/");let j=typeof _=="string"?parsePath(_):_,et=stripBasename(j.pathname||"/",$);if(et==null)return null;let tt=flattenRoutes(a);rankRouteBranches(tt);let rt=null;for(let nt=0;rt==null&&nt<tt.length;++nt){let it=decodePath(et);rt=matchRouteBranch(tt[nt],it)}return rt}function flattenRoutes(a,_,$,j){_===void 0&&(_=[]),$===void 0&&($=[]),j===void 0&&(j="");let et=(tt,rt,nt)=>{let it={relativePath:nt===void 0?tt.path||"":nt,caseSensitive:tt.caseSensitive===!0,childrenIndex:rt,route:tt};it.relativePath.startsWith("/")&&(invariant(it.relativePath.startsWith(j),'Absolute route path "'+it.relativePath+'" nested under path '+('"'+j+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),it.relativePath=it.relativePath.slice(j.length));let st=joinPaths([j,it.relativePath]),ot=$.concat(it);tt.children&&tt.children.length>0&&(invariant(tt.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+st+'".')),flattenRoutes(tt.children,_,ot,st)),!(tt.path==null&&!tt.index)&&_.push({path:st,score:computeScore(st,tt.index),routesMeta:ot})};return a.forEach((tt,rt)=>{var nt;if(tt.path===""||!((nt=tt.path)!=null&&nt.includes("?")))et(tt,rt);else for(let it of explodeOptionalSegments(tt.path))et(tt,rt,it)}),_}function explodeOptionalSegments(a){let _=a.split("/");if(_.length===0)return[];let[$,...j]=_,et=$.endsWith("?"),tt=$.replace(/\?$/,"");if(j.length===0)return et?[tt,""]:[tt];let rt=explodeOptionalSegments(j.join("/")),nt=[];return nt.push(...rt.map(it=>it===""?tt:[tt,it].join("/"))),et&&nt.push(...rt),nt.map(it=>a.startsWith("/")&&it===""?"/":it)}function rankRouteBranches(a){a.sort((_,$)=>_.score!==$.score?$.score-_.score:compareIndexes(_.routesMeta.map(j=>j.childrenIndex),$.routesMeta.map(j=>j.childrenIndex)))}const paramRe=/^:[\w-]+$/,dynamicSegmentValue=3,indexRouteValue=2,emptySegmentValue=1,staticSegmentValue=10,splatPenalty=-2,isSplat=a=>a==="*";function computeScore(a,_){let $=a.split("/"),j=$.length;return $.some(isSplat)&&(j+=splatPenalty),_&&(j+=indexRouteValue),$.filter(et=>!isSplat(et)).reduce((et,tt)=>et+(paramRe.test(tt)?dynamicSegmentValue:tt===""?emptySegmentValue:staticSegmentValue),j)}function compareIndexes(a,_){return a.length===_.length&&a.slice(0,-1).every((j,et)=>j===_[et])?a[a.length-1]-_[_.length-1]:0}function matchRouteBranch(a,_){let{routesMeta:$}=a,j={},et="/",tt=[];for(let rt=0;rt<$.length;++rt){let nt=$[rt],it=rt===$.length-1,st=et==="/"?_:_.slice(et.length)||"/",ot=matchPath({path:nt.relativePath,caseSensitive:nt.caseSensitive,end:it},st);if(!ot)return null;Object.assign(j,ot.params);let at=nt.route;tt.push({params:j,pathname:joinPaths([et,ot.pathname]),pathnameBase:normalizePathname(joinPaths([et,ot.pathnameBase])),route:at}),ot.pathnameBase!=="/"&&(et=joinPaths([et,ot.pathnameBase]))}return tt}function matchPath(a,_){typeof a=="string"&&(a={path:a,caseSensitive:!1,end:!0});let[$,j]=compilePath(a.path,a.caseSensitive,a.end),et=_.match($);if(!et)return null;let tt=et[0],rt=tt.replace(/(.)\/+$/,"$1"),nt=et.slice(1);return{params:j.reduce((st,ot,at)=>{let{paramName:ut,isOptional:ht}=ot;if(ut==="*"){let wt=nt[at]||"";rt=tt.slice(0,tt.length-wt.length).replace(/(.)\/+$/,"$1")}const yt=nt[at];return ht&&!yt?st[ut]=void 0:st[ut]=(yt||"").replace(/%2F/g,"/"),st},{}),pathname:tt,pathnameBase:rt,pattern:a}}function compilePath(a,_,$){_===void 0&&(_=!1),$===void 0&&($=!0),warning(a==="*"||!a.endsWith("*")||a.endsWith("/*"),'Route path "'+a+'" will be treated as if it were '+('"'+a.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+a.replace(/\*$/,"/*")+'".'));let j=[],et="^"+a.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(rt,nt,it)=>(j.push({paramName:nt,isOptional:it!=null}),it?"/?([^\\/]+)?":"/([^\\/]+)"));return a.endsWith("*")?(j.push({paramName:"*"}),et+=a==="*"||a==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):$?et+="\\/*$":a!==""&&a!=="/"&&(et+="(?:(?=\\/|$))"),[new RegExp(et,_?void 0:"i"),j]}function decodePath(a){try{return a.split("/").map(_=>decodeURIComponent(_).replace(/\//g,"%2F")).join("/")}catch(_){return warning(!1,'The URL path "'+a+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+_+").")),a}}function stripBasename(a,_){if(_==="/")return a;if(!a.toLowerCase().startsWith(_.toLowerCase()))return null;let $=_.endsWith("/")?_.length-1:_.length,j=a.charAt($);return j&&j!=="/"?null:a.slice($)||"/"}function resolvePath(a,_){_===void 0&&(_="/");let{pathname:$,search:j="",hash:et=""}=typeof a=="string"?parsePath(a):a;return{pathname:$?$.startsWith("/")?$:resolvePathname($,_):_,search:normalizeSearch(j),hash:normalizeHash(et)}}function resolvePathname(a,_){let $=_.replace(/\/+$/,"").split("/");return a.split("/").forEach(et=>{et===".."?$.length>1&&$.pop():et!=="."&&$.push(et)}),$.length>1?$.join("/"):"/"}function getInvalidPathError(a,_,$,j){return"Cannot include a '"+a+"' character in a manually specified "+("`to."+_+"` field ["+JSON.stringify(j)+"].  Please separate it out to the ")+("`to."+$+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function getPathContributingMatches(a){return a.filter((_,$)=>$===0||_.route.path&&_.route.path.length>0)}function getResolveToMatches(a,_){let $=getPathContributingMatches(a);return _?$.map((j,et)=>et===a.length-1?j.pathname:j.pathnameBase):$.map(j=>j.pathnameBase)}function resolveTo(a,_,$,j){j===void 0&&(j=!1);let et;typeof a=="string"?et=parsePath(a):(et=_extends$4({},a),invariant(!et.pathname||!et.pathname.includes("?"),getInvalidPathError("?","pathname","search",et)),invariant(!et.pathname||!et.pathname.includes("#"),getInvalidPathError("#","pathname","hash",et)),invariant(!et.search||!et.search.includes("#"),getInvalidPathError("#","search","hash",et)));let tt=a===""||et.pathname==="",rt=tt?"/":et.pathname,nt;if(rt==null)nt=$;else{let at=_.length-1;if(!j&&rt.startsWith("..")){let ut=rt.split("/");for(;ut[0]==="..";)ut.shift(),at-=1;et.pathname=ut.join("/")}nt=at>=0?_[at]:"/"}let it=resolvePath(et,nt),st=rt&&rt!=="/"&&rt.endsWith("/"),ot=(tt||rt===".")&&$.endsWith("/");return!it.pathname.endsWith("/")&&(st||ot)&&(it.pathname+="/"),it}const joinPaths=a=>a.join("/").replace(/\/\/+/g,"/"),normalizePathname=a=>a.replace(/\/+$/,"").replace(/^\/*/,"/"),normalizeSearch=a=>!a||a==="?"?"":a.startsWith("?")?a:"?"+a,normalizeHash=a=>!a||a==="#"?"":a.startsWith("#")?a:"#"+a;function isRouteErrorResponse(a){return a!=null&&typeof a.status=="number"&&typeof a.statusText=="string"&&typeof a.internal=="boolean"&&"data"in a}const validMutationMethodsArr=["post","put","patch","delete"];new Set(validMutationMethodsArr);const validRequestMethodsArr=["get",...validMutationMethodsArr];new Set(validRequestMethodsArr);/**
 * React Router v6.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$3(){return _extends$3=Object.assign?Object.assign.bind():function(a){for(var _=1;_<arguments.length;_++){var $=arguments[_];for(var j in $)Object.prototype.hasOwnProperty.call($,j)&&(a[j]=$[j])}return a},_extends$3.apply(this,arguments)}const DataRouterContext=reactExports.createContext(null),DataRouterStateContext=reactExports.createContext(null),NavigationContext=reactExports.createContext(null),LocationContext=reactExports.createContext(null),RouteContext=reactExports.createContext({outlet:null,matches:[],isDataRoute:!1}),RouteErrorContext=reactExports.createContext(null);function useHref(a,_){let{relative:$}=_===void 0?{}:_;useInRouterContext()||invariant(!1);let{basename:j,navigator:et}=reactExports.useContext(NavigationContext),{hash:tt,pathname:rt,search:nt}=useResolvedPath(a,{relative:$}),it=rt;return j!=="/"&&(it=rt==="/"?j:joinPaths([j,rt])),et.createHref({pathname:it,search:nt,hash:tt})}function useInRouterContext(){return reactExports.useContext(LocationContext)!=null}function useLocation(){return useInRouterContext()||invariant(!1),reactExports.useContext(LocationContext).location}function useIsomorphicLayoutEffect(a){reactExports.useContext(NavigationContext).static||reactExports.useLayoutEffect(a)}function useNavigate(){let{isDataRoute:a}=reactExports.useContext(RouteContext);return a?useNavigateStable():useNavigateUnstable()}function useNavigateUnstable(){useInRouterContext()||invariant(!1);let a=reactExports.useContext(DataRouterContext),{basename:_,future:$,navigator:j}=reactExports.useContext(NavigationContext),{matches:et}=reactExports.useContext(RouteContext),{pathname:tt}=useLocation(),rt=JSON.stringify(getResolveToMatches(et,$.v7_relativeSplatPath)),nt=reactExports.useRef(!1);return useIsomorphicLayoutEffect(()=>{nt.current=!0}),reactExports.useCallback(function(st,ot){if(ot===void 0&&(ot={}),!nt.current)return;if(typeof st=="number"){j.go(st);return}let at=resolveTo(st,JSON.parse(rt),tt,ot.relative==="path");a==null&&_!=="/"&&(at.pathname=at.pathname==="/"?_:joinPaths([_,at.pathname])),(ot.replace?j.replace:j.push)(at,ot.state,ot)},[_,j,rt,tt,a])}function useParams(){let{matches:a}=reactExports.useContext(RouteContext),_=a[a.length-1];return _?_.params:{}}function useResolvedPath(a,_){let{relative:$}=_===void 0?{}:_,{future:j}=reactExports.useContext(NavigationContext),{matches:et}=reactExports.useContext(RouteContext),{pathname:tt}=useLocation(),rt=JSON.stringify(getResolveToMatches(et,j.v7_relativeSplatPath));return reactExports.useMemo(()=>resolveTo(a,JSON.parse(rt),tt,$==="path"),[a,rt,tt,$])}function useRoutes(a,_){return useRoutesImpl(a,_)}function useRoutesImpl(a,_,$,j){useInRouterContext()||invariant(!1);let{navigator:et}=reactExports.useContext(NavigationContext),{matches:tt}=reactExports.useContext(RouteContext),rt=tt[tt.length-1],nt=rt?rt.params:{};rt&&rt.pathname;let it=rt?rt.pathnameBase:"/";rt&&rt.route;let st=useLocation(),ot;if(_){var at;let Ct=typeof _=="string"?parsePath(_):_;it==="/"||(at=Ct.pathname)!=null&&at.startsWith(it)||invariant(!1),ot=Ct}else ot=st;let ut=ot.pathname||"/",ht=ut;if(it!=="/"){let Ct=it.replace(/^\//,"").split("/");ht="/"+ut.replace(/^\//,"").split("/").slice(Ct.length).join("/")}let yt=matchRoutes(a,{pathname:ht}),wt=_renderMatches(yt&&yt.map(Ct=>Object.assign({},Ct,{params:Object.assign({},nt,Ct.params),pathname:joinPaths([it,et.encodeLocation?et.encodeLocation(Ct.pathname).pathname:Ct.pathname]),pathnameBase:Ct.pathnameBase==="/"?it:joinPaths([it,et.encodeLocation?et.encodeLocation(Ct.pathnameBase).pathname:Ct.pathnameBase])})),tt,$,j);return _&&wt?reactExports.createElement(LocationContext.Provider,{value:{location:_extends$3({pathname:"/",search:"",hash:"",state:null,key:"default"},ot),navigationType:Action.Pop}},wt):wt}function DefaultErrorComponent(){let a=useRouteError(),_=isRouteErrorResponse(a)?a.status+" "+a.statusText:a instanceof Error?a.message:JSON.stringify(a),$=a instanceof Error?a.stack:null,et={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("h2",null,"Unexpected Application Error!"),reactExports.createElement("h3",{style:{fontStyle:"italic"}},_),$?reactExports.createElement("pre",{style:et},$):null,null)}const defaultErrorElement=reactExports.createElement(DefaultErrorComponent,null);class RenderErrorBoundary extends reactExports.Component{constructor(_){super(_),this.state={location:_.location,revalidation:_.revalidation,error:_.error}}static getDerivedStateFromError(_){return{error:_}}static getDerivedStateFromProps(_,$){return $.location!==_.location||$.revalidation!=="idle"&&_.revalidation==="idle"?{error:_.error,location:_.location,revalidation:_.revalidation}:{error:_.error!==void 0?_.error:$.error,location:$.location,revalidation:_.revalidation||$.revalidation}}componentDidCatch(_,$){console.error("React Router caught the following error during render",_,$)}render(){return this.state.error!==void 0?reactExports.createElement(RouteContext.Provider,{value:this.props.routeContext},reactExports.createElement(RouteErrorContext.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function RenderedRoute(a){let{routeContext:_,match:$,children:j}=a,et=reactExports.useContext(DataRouterContext);return et&&et.static&&et.staticContext&&($.route.errorElement||$.route.ErrorBoundary)&&(et.staticContext._deepestRenderedBoundaryId=$.route.id),reactExports.createElement(RouteContext.Provider,{value:_},j)}function _renderMatches(a,_,$,j){var et;if(_===void 0&&(_=[]),$===void 0&&($=null),j===void 0&&(j=null),a==null){var tt;if((tt=$)!=null&&tt.errors)a=$.matches;else return null}let rt=a,nt=(et=$)==null?void 0:et.errors;if(nt!=null){let ot=rt.findIndex(at=>at.route.id&&(nt==null?void 0:nt[at.route.id])!==void 0);ot>=0||invariant(!1),rt=rt.slice(0,Math.min(rt.length,ot+1))}let it=!1,st=-1;if($&&j&&j.v7_partialHydration)for(let ot=0;ot<rt.length;ot++){let at=rt[ot];if((at.route.HydrateFallback||at.route.hydrateFallbackElement)&&(st=ot),at.route.id){let{loaderData:ut,errors:ht}=$,yt=at.route.loader&&ut[at.route.id]===void 0&&(!ht||ht[at.route.id]===void 0);if(at.route.lazy||yt){it=!0,st>=0?rt=rt.slice(0,st+1):rt=[rt[0]];break}}}return rt.reduceRight((ot,at,ut)=>{let ht,yt=!1,wt=null,Ct=null;$&&(ht=nt&&at.route.id?nt[at.route.id]:void 0,wt=at.route.errorElement||defaultErrorElement,it&&(st<0&&ut===0?(yt=!0,Ct=null):st===ut&&(yt=!0,Ct=at.route.hydrateFallbackElement||null)));let Pt=_.concat(rt.slice(0,ut+1)),Tt=()=>{let Mt;return ht?Mt=wt:yt?Mt=Ct:at.route.Component?Mt=reactExports.createElement(at.route.Component,null):at.route.element?Mt=at.route.element:Mt=ot,reactExports.createElement(RenderedRoute,{match:at,routeContext:{outlet:ot,matches:Pt,isDataRoute:$!=null},children:Mt})};return $&&(at.route.ErrorBoundary||at.route.errorElement||ut===0)?reactExports.createElement(RenderErrorBoundary,{location:$.location,revalidation:$.revalidation,component:wt,error:ht,children:Tt(),routeContext:{outlet:null,matches:Pt,isDataRoute:!0}}):Tt()},null)}var DataRouterHook$1=function(a){return a.UseBlocker="useBlocker",a.UseRevalidator="useRevalidator",a.UseNavigateStable="useNavigate",a}(DataRouterHook$1||{}),DataRouterStateHook$1=function(a){return a.UseBlocker="useBlocker",a.UseLoaderData="useLoaderData",a.UseActionData="useActionData",a.UseRouteError="useRouteError",a.UseNavigation="useNavigation",a.UseRouteLoaderData="useRouteLoaderData",a.UseMatches="useMatches",a.UseRevalidator="useRevalidator",a.UseNavigateStable="useNavigate",a.UseRouteId="useRouteId",a}(DataRouterStateHook$1||{});function useDataRouterContext(a){let _=reactExports.useContext(DataRouterContext);return _||invariant(!1),_}function useDataRouterState(a){let _=reactExports.useContext(DataRouterStateContext);return _||invariant(!1),_}function useRouteContext(a){let _=reactExports.useContext(RouteContext);return _||invariant(!1),_}function useCurrentRouteId(a){let _=useRouteContext(),$=_.matches[_.matches.length-1];return $.route.id||invariant(!1),$.route.id}function useRouteError(){var a;let _=reactExports.useContext(RouteErrorContext),$=useDataRouterState(DataRouterStateHook$1.UseRouteError),j=useCurrentRouteId(DataRouterStateHook$1.UseRouteError);return _!==void 0?_:(a=$.errors)==null?void 0:a[j]}function useNavigateStable(){let{router:a}=useDataRouterContext(DataRouterHook$1.UseNavigateStable),_=useCurrentRouteId(DataRouterStateHook$1.UseNavigateStable),$=reactExports.useRef(!1);return useIsomorphicLayoutEffect(()=>{$.current=!0}),reactExports.useCallback(function(et,tt){tt===void 0&&(tt={}),$.current&&(typeof et=="number"?a.navigate(et):a.navigate(et,_extends$3({fromRouteId:_},tt)))},[a,_])}function Navigate(a){let{to:_,replace:$,state:j,relative:et}=a;useInRouterContext()||invariant(!1);let{future:tt,static:rt}=reactExports.useContext(NavigationContext),{matches:nt}=reactExports.useContext(RouteContext),{pathname:it}=useLocation(),st=useNavigate(),ot=resolveTo(_,getResolveToMatches(nt,tt.v7_relativeSplatPath),it,et==="path"),at=JSON.stringify(ot);return reactExports.useEffect(()=>st(JSON.parse(at),{replace:$,state:j,relative:et}),[st,at,et,$,j]),null}function Route(a){invariant(!1)}function Router$1(a){let{basename:_="/",children:$=null,location:j,navigationType:et=Action.Pop,navigator:tt,static:rt=!1,future:nt}=a;useInRouterContext()&&invariant(!1);let it=_.replace(/^\/*/,"/"),st=reactExports.useMemo(()=>({basename:it,navigator:tt,static:rt,future:_extends$3({v7_relativeSplatPath:!1},nt)}),[it,nt,tt,rt]);typeof j=="string"&&(j=parsePath(j));let{pathname:ot="/",search:at="",hash:ut="",state:ht=null,key:yt="default"}=j,wt=reactExports.useMemo(()=>{let Ct=stripBasename(ot,it);return Ct==null?null:{location:{pathname:Ct,search:at,hash:ut,state:ht,key:yt},navigationType:et}},[it,ot,at,ut,ht,yt,et]);return wt==null?null:reactExports.createElement(NavigationContext.Provider,{value:st},reactExports.createElement(LocationContext.Provider,{children:$,value:wt}))}function Routes(a){let{children:_,location:$}=a;return useRoutes(createRoutesFromChildren(_),$)}new Promise(()=>{});function createRoutesFromChildren(a,_){_===void 0&&(_=[]);let $=[];return reactExports.Children.forEach(a,(j,et)=>{if(!reactExports.isValidElement(j))return;let tt=[..._,et];if(j.type===reactExports.Fragment){$.push.apply($,createRoutesFromChildren(j.props.children,tt));return}j.type!==Route&&invariant(!1),!j.props.index||!j.props.children||invariant(!1);let rt={id:j.props.id||tt.join("-"),caseSensitive:j.props.caseSensitive,element:j.props.element,Component:j.props.Component,index:j.props.index,path:j.props.path,loader:j.props.loader,action:j.props.action,errorElement:j.props.errorElement,ErrorBoundary:j.props.ErrorBoundary,hasErrorBoundary:j.props.ErrorBoundary!=null||j.props.errorElement!=null,shouldRevalidate:j.props.shouldRevalidate,handle:j.props.handle,lazy:j.props.lazy};j.props.children&&(rt.children=createRoutesFromChildren(j.props.children,tt)),$.push(rt)}),$}/**
 * React Router DOM v6.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$2(){return _extends$2=Object.assign?Object.assign.bind():function(a){for(var _=1;_<arguments.length;_++){var $=arguments[_];for(var j in $)Object.prototype.hasOwnProperty.call($,j)&&(a[j]=$[j])}return a},_extends$2.apply(this,arguments)}function _objectWithoutPropertiesLoose$1(a,_){if(a==null)return{};var $={},j=Object.keys(a),et,tt;for(tt=0;tt<j.length;tt++)et=j[tt],!(_.indexOf(et)>=0)&&($[et]=a[et]);return $}function isModifiedEvent(a){return!!(a.metaKey||a.altKey||a.ctrlKey||a.shiftKey)}function shouldProcessLinkClick(a,_){return a.button===0&&(!_||_==="_self")&&!isModifiedEvent(a)}function createSearchParams(a){return a===void 0&&(a=""),new URLSearchParams(typeof a=="string"||Array.isArray(a)||a instanceof URLSearchParams?a:Object.keys(a).reduce((_,$)=>{let j=a[$];return _.concat(Array.isArray(j)?j.map(et=>[$,et]):[[$,j]])},[]))}function getSearchParamsForLocation(a,_){let $=createSearchParams(a);return _&&_.forEach((j,et)=>{$.has(et)||_.getAll(et).forEach(tt=>{$.append(et,tt)})}),$}const _excluded$3=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],REACT_ROUTER_VERSION="6";try{window.__reactRouterVersion=REACT_ROUTER_VERSION}catch(a){}const START_TRANSITION="startTransition",startTransitionImpl=React$3[START_TRANSITION];function HashRouter(a){let{basename:_,children:$,future:j,window:et}=a,tt=reactExports.useRef();tt.current==null&&(tt.current=createHashHistory({window:et,v5Compat:!0}));let rt=tt.current,[nt,it]=reactExports.useState({action:rt.action,location:rt.location}),{v7_startTransition:st}=j||{},ot=reactExports.useCallback(at=>{st&&startTransitionImpl?startTransitionImpl(()=>it(at)):it(at)},[it,st]);return reactExports.useLayoutEffect(()=>rt.listen(ot),[rt,ot]),reactExports.createElement(Router$1,{basename:_,children:$,location:nt.location,navigationType:nt.action,navigator:rt,future:j})}const isBrowser=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ABSOLUTE_URL_REGEX=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Link=reactExports.forwardRef(function a(_,$){let{onClick:j,relative:et,reloadDocument:tt,replace:rt,state:nt,target:it,to:st,preventScrollReset:ot,unstable_viewTransition:at}=_,ut=_objectWithoutPropertiesLoose$1(_,_excluded$3),{basename:ht}=reactExports.useContext(NavigationContext),yt,wt=!1;if(typeof st=="string"&&ABSOLUTE_URL_REGEX.test(st)&&(yt=st,isBrowser))try{let Mt=new URL(window.location.href),Lt=st.startsWith("//")?new URL(Mt.protocol+st):new URL(st),Dt=stripBasename(Lt.pathname,ht);Lt.origin===Mt.origin&&Dt!=null?st=Dt+Lt.search+Lt.hash:wt=!0}catch{}let Ct=useHref(st,{relative:et}),Pt=useLinkClickHandler(st,{replace:rt,state:nt,target:it,preventScrollReset:ot,relative:et,unstable_viewTransition:at});function Tt(Mt){j&&j(Mt),Mt.defaultPrevented||Pt(Mt)}return reactExports.createElement("a",_extends$2({},ut,{href:yt||Ct,onClick:wt||tt?j:Tt,ref:$,target:it}))});var DataRouterHook;(function(a){a.UseScrollRestoration="useScrollRestoration",a.UseSubmit="useSubmit",a.UseSubmitFetcher="useSubmitFetcher",a.UseFetcher="useFetcher",a.useViewTransitionState="useViewTransitionState"})(DataRouterHook||(DataRouterHook={}));var DataRouterStateHook;(function(a){a.UseFetcher="useFetcher",a.UseFetchers="useFetchers",a.UseScrollRestoration="useScrollRestoration"})(DataRouterStateHook||(DataRouterStateHook={}));function useLinkClickHandler(a,_){let{target:$,replace:j,state:et,preventScrollReset:tt,relative:rt,unstable_viewTransition:nt}=_===void 0?{}:_,it=useNavigate(),st=useLocation(),ot=useResolvedPath(a,{relative:rt});return reactExports.useCallback(at=>{if(shouldProcessLinkClick(at,$)){at.preventDefault();let ut=j!==void 0?j:createPath(st)===createPath(ot);it(a,{replace:ut,state:et,preventScrollReset:tt,relative:rt,unstable_viewTransition:nt})}},[st,it,ot,j,et,$,a,tt,rt,nt])}function useSearchParams(a){let _=reactExports.useRef(createSearchParams(a)),$=reactExports.useRef(!1),j=useLocation(),et=reactExports.useMemo(()=>getSearchParamsForLocation(j.search,$.current?null:_.current),[j.search]),tt=useNavigate(),rt=reactExports.useCallback((nt,it)=>{const st=createSearchParams(typeof nt=="function"?nt(et):nt);$.current=!0,tt("?"+st,it)},[tt,et]);return[et,rt]}const ANNOUNCEMENT_REFRESH_INTERVAL=60*60*1e3,ANNOUNCEMENT_FILE_URL="https://storage.googleapis.com/umami-artifacts/announcement.html",AnnouncementBanner=()=>{const{html:a,seen:_}=useAppSelector(j=>j.announcement),$=useAppDispatch();return reactExports.useEffect(()=>{const j=()=>{axios.get(ANNOUNCEMENT_FILE_URL).then(tt=>{$(announcementSlice.actions.setCurrent(tt.data))}).catch(tt=>{})};j();const et=setInterval(j,ANNOUNCEMENT_REFRESH_INTERVAL);return()=>clearInterval(et)},[$]),_||!a?null:jsxRuntimeExports.jsx(Alert,{className:"announcement-banner",color:"black",background:colors.orangeL,"data-testid":"announcement",paddingX:"30px",children:jsxRuntimeExports.jsxs(Flex,{justifyContent:"space-between",width:"100%",children:[jsxRuntimeExports.jsxs(Center,{children:[jsxRuntimeExports.jsx(MaintenanceIcon,{marginRight:"4px"}),jsxRuntimeExports.jsx(AlertDescription,{fontSize:"14px",dangerouslySetInnerHTML:{__html:a}})]}),jsxRuntimeExports.jsx(CloseButton,{"data-testid":"close",onClick:()=>$(announcementSlice.actions.setSeen())})]})})};var zeroRightClassName="right-scroll-bar-position",fullWidthClassName="width-before-scroll-bar",noScrollbarsClassName="with-scroll-bars-hidden",removedBarSizeVariable="--removed-body-scroll-bar-size",effectCar=createSidecarMedium(),nothing=function(){},RemoveScroll=reactExports.forwardRef(function(a,_){var $=reactExports.useRef(null),j=reactExports.useState({onScrollCapture:nothing,onWheelCapture:nothing,onTouchMoveCapture:nothing}),et=j[0],tt=j[1],rt=a.forwardProps,nt=a.children,it=a.className,st=a.removeScrollBar,ot=a.enabled,at=a.shards,ut=a.sideCar,ht=a.noIsolation,yt=a.inert,wt=a.allowPinchZoom,Ct=a.as,Pt=Ct===void 0?"div":Ct,Tt=a.gapMode,Mt=__rest$3(a,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),Lt=ut,Dt=useMergeRefs([$,_]),Ut=__assign(__assign({},Mt),et);return reactExports.createElement(reactExports.Fragment,null,ot&&reactExports.createElement(Lt,{sideCar:effectCar,removeScrollBar:st,shards:at,noIsolation:ht,inert:yt,setCallbacks:tt,allowPinchZoom:!!wt,lockRef:$,gapMode:Tt}),rt?reactExports.cloneElement(reactExports.Children.only(nt),__assign(__assign({},Ut),{ref:Dt})):reactExports.createElement(Pt,__assign({},Ut,{className:it,ref:Dt}),nt))});RemoveScroll.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};RemoveScroll.classNames={fullWidth:fullWidthClassName,zeroRight:zeroRightClassName};var zeroGap={left:0,top:0,right:0,gap:0},parse$3=function(a){return parseInt(a||"",10)||0},getOffset=function(a){var _=window.getComputedStyle(document.body),$=_[a==="padding"?"paddingLeft":"marginLeft"],j=_[a==="padding"?"paddingTop":"marginTop"],et=_[a==="padding"?"paddingRight":"marginRight"];return[parse$3($),parse$3(j),parse$3(et)]},getGapWidth=function(a){if(a===void 0&&(a="margin"),typeof window>"u")return zeroGap;var _=getOffset(a),$=document.documentElement.clientWidth,j=window.innerWidth;return{left:_[0],top:_[1],right:_[2],gap:Math.max(0,j-$+_[2]-_[0])}},Style=styleSingleton(),lockAttribute="data-scroll-locked",getStyles=function(a,_,$,j){var et=a.left,tt=a.top,rt=a.right,nt=a.gap;return $===void 0&&($="margin"),`
  .`.concat(noScrollbarsClassName,` {
   overflow: hidden `).concat(j,`;
   padding-right: `).concat(nt,"px ").concat(j,`;
  }
  body[`).concat(lockAttribute,`] {
    overflow: hidden `).concat(j,`;
    overscroll-behavior: contain;
    `).concat([_&&"position: relative ".concat(j,";"),$==="margin"&&`
    padding-left: `.concat(et,`px;
    padding-top: `).concat(tt,`px;
    padding-right: `).concat(rt,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(nt,"px ").concat(j,`;
    `),$==="padding"&&"padding-right: ".concat(nt,"px ").concat(j,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(zeroRightClassName,` {
    right: `).concat(nt,"px ").concat(j,`;
  }
  
  .`).concat(fullWidthClassName,` {
    margin-right: `).concat(nt,"px ").concat(j,`;
  }
  
  .`).concat(zeroRightClassName," .").concat(zeroRightClassName,` {
    right: 0 `).concat(j,`;
  }
  
  .`).concat(fullWidthClassName," .").concat(fullWidthClassName,` {
    margin-right: 0 `).concat(j,`;
  }
  
  body[`).concat(lockAttribute,`] {
    `).concat(removedBarSizeVariable,": ").concat(nt,`px;
  }
`)},getCurrentUseCounter=function(){var a=parseInt(document.body.getAttribute(lockAttribute)||"0",10);return isFinite(a)?a:0},useLockAttribute=function(){reactExports.useEffect(function(){return document.body.setAttribute(lockAttribute,(getCurrentUseCounter()+1).toString()),function(){var a=getCurrentUseCounter()-1;a<=0?document.body.removeAttribute(lockAttribute):document.body.setAttribute(lockAttribute,a.toString())}},[])},RemoveScrollBar=function(a){var _=a.noRelative,$=a.noImportant,j=a.gapMode,et=j===void 0?"margin":j;useLockAttribute();var tt=reactExports.useMemo(function(){return getGapWidth(et)},[et]);return reactExports.createElement(Style,{styles:getStyles(tt,!_,et,$?"":"!important")})},passiveSupported=!1;if(typeof window<"u")try{var options=Object.defineProperty({},"passive",{get:function(){return passiveSupported=!0,!0}});window.addEventListener("test",options,options),window.removeEventListener("test",options,options)}catch{passiveSupported=!1}var nonPassive=passiveSupported?{passive:!1}:!1,alwaysContainsScroll=function(a){return a.tagName==="TEXTAREA"},elementCanBeScrolled=function(a,_){if(!(a instanceof Element))return!1;var $=window.getComputedStyle(a);return $[_]!=="hidden"&&!($.overflowY===$.overflowX&&!alwaysContainsScroll(a)&&$[_]==="visible")},elementCouldBeVScrolled=function(a){return elementCanBeScrolled(a,"overflowY")},elementCouldBeHScrolled=function(a){return elementCanBeScrolled(a,"overflowX")},locationCouldBeScrolled=function(a,_){var $=_.ownerDocument,j=_;do{typeof ShadowRoot<"u"&&j instanceof ShadowRoot&&(j=j.host);var et=elementCouldBeScrolled(a,j);if(et){var tt=getScrollVariables(a,j),rt=tt[1],nt=tt[2];if(rt>nt)return!0}j=j.parentNode}while(j&&j!==$.body);return!1},getVScrollVariables=function(a){var _=a.scrollTop,$=a.scrollHeight,j=a.clientHeight;return[_,$,j]},getHScrollVariables=function(a){var _=a.scrollLeft,$=a.scrollWidth,j=a.clientWidth;return[_,$,j]},elementCouldBeScrolled=function(a,_){return a==="v"?elementCouldBeVScrolled(_):elementCouldBeHScrolled(_)},getScrollVariables=function(a,_){return a==="v"?getVScrollVariables(_):getHScrollVariables(_)},getDirectionFactor=function(a,_){return a==="h"&&_==="rtl"?-1:1},handleScroll=function(a,_,$,j,et){var tt=getDirectionFactor(a,window.getComputedStyle(_).direction),rt=tt*j,nt=$.target,it=_.contains(nt),st=!1,ot=rt>0,at=0,ut=0;do{var ht=getScrollVariables(a,nt),yt=ht[0],wt=ht[1],Ct=ht[2],Pt=wt-Ct-tt*yt;(yt||Pt)&&elementCouldBeScrolled(a,nt)&&(at+=Pt,ut+=yt),nt instanceof ShadowRoot?nt=nt.host:nt=nt.parentNode}while(!it&&nt!==document.body||it&&(_.contains(nt)||_===nt));return(ot&&(Math.abs(at)<1||!et)||!ot&&(Math.abs(ut)<1||!et))&&(st=!0),st},getTouchXY=function(a){return"changedTouches"in a?[a.changedTouches[0].clientX,a.changedTouches[0].clientY]:[0,0]},getDeltaXY=function(a){return[a.deltaX,a.deltaY]},extractRef=function(a){return a&&"current"in a?a.current:a},deltaCompare=function(a,_){return a[0]===_[0]&&a[1]===_[1]},generateStyle=function(a){return`
  .block-interactivity-`.concat(a,` {pointer-events: none;}
  .allow-interactivity-`).concat(a,` {pointer-events: all;}
`)},idCounter=0,lockStack=[];function RemoveScrollSideCar(a){var _=reactExports.useRef([]),$=reactExports.useRef([0,0]),j=reactExports.useRef(),et=reactExports.useState(idCounter++)[0],tt=reactExports.useState(styleSingleton)[0],rt=reactExports.useRef(a);reactExports.useEffect(function(){rt.current=a},[a]),reactExports.useEffect(function(){if(a.inert){document.body.classList.add("block-interactivity-".concat(et));var wt=__spreadArray([a.lockRef.current],(a.shards||[]).map(extractRef),!0).filter(Boolean);return wt.forEach(function(Ct){return Ct.classList.add("allow-interactivity-".concat(et))}),function(){document.body.classList.remove("block-interactivity-".concat(et)),wt.forEach(function(Ct){return Ct.classList.remove("allow-interactivity-".concat(et))})}}},[a.inert,a.lockRef.current,a.shards]);var nt=reactExports.useCallback(function(wt,Ct){if("touches"in wt&&wt.touches.length===2)return!rt.current.allowPinchZoom;var Pt=getTouchXY(wt),Tt=$.current,Mt="deltaX"in wt?wt.deltaX:Tt[0]-Pt[0],Lt="deltaY"in wt?wt.deltaY:Tt[1]-Pt[1],Dt,Ut=wt.target,Ot=Math.abs(Mt)>Math.abs(Lt)?"h":"v";if("touches"in wt&&Ot==="h"&&Ut.type==="range")return!1;var It=locationCouldBeScrolled(Ot,Ut);if(!It)return!0;if(It?Dt=Ot:(Dt=Ot==="v"?"h":"v",It=locationCouldBeScrolled(Ot,Ut)),!It)return!1;if(!j.current&&"changedTouches"in wt&&(Mt||Lt)&&(j.current=Dt),!Dt)return!0;var Bt=j.current||Dt;return handleScroll(Bt,Ct,wt,Bt==="h"?Mt:Lt,!0)},[]),it=reactExports.useCallback(function(wt){var Ct=wt;if(!(!lockStack.length||lockStack[lockStack.length-1]!==tt)){var Pt="deltaY"in Ct?getDeltaXY(Ct):getTouchXY(Ct),Tt=_.current.filter(function(Dt){return Dt.name===Ct.type&&(Dt.target===Ct.target||Ct.target===Dt.shadowParent)&&deltaCompare(Dt.delta,Pt)})[0];if(Tt&&Tt.should){Ct.cancelable&&Ct.preventDefault();return}if(!Tt){var Mt=(rt.current.shards||[]).map(extractRef).filter(Boolean).filter(function(Dt){return Dt.contains(Ct.target)}),Lt=Mt.length>0?nt(Ct,Mt[0]):!rt.current.noIsolation;Lt&&Ct.cancelable&&Ct.preventDefault()}}},[]),st=reactExports.useCallback(function(wt,Ct,Pt,Tt){var Mt={name:wt,delta:Ct,target:Pt,should:Tt,shadowParent:getOutermostShadowParent(Pt)};_.current.push(Mt),setTimeout(function(){_.current=_.current.filter(function(Lt){return Lt!==Mt})},1)},[]),ot=reactExports.useCallback(function(wt){$.current=getTouchXY(wt),j.current=void 0},[]),at=reactExports.useCallback(function(wt){st(wt.type,getDeltaXY(wt),wt.target,nt(wt,a.lockRef.current))},[]),ut=reactExports.useCallback(function(wt){st(wt.type,getTouchXY(wt),wt.target,nt(wt,a.lockRef.current))},[]);reactExports.useEffect(function(){return lockStack.push(tt),a.setCallbacks({onScrollCapture:at,onWheelCapture:at,onTouchMoveCapture:ut}),document.addEventListener("wheel",it,nonPassive),document.addEventListener("touchmove",it,nonPassive),document.addEventListener("touchstart",ot,nonPassive),function(){lockStack=lockStack.filter(function(wt){return wt!==tt}),document.removeEventListener("wheel",it,nonPassive),document.removeEventListener("touchmove",it,nonPassive),document.removeEventListener("touchstart",ot,nonPassive)}},[]);var ht=a.removeScrollBar,yt=a.inert;return reactExports.createElement(reactExports.Fragment,null,yt?reactExports.createElement(tt,{styles:generateStyle(et)}):null,ht?reactExports.createElement(RemoveScrollBar,{gapMode:a.gapMode}):null)}function getOutermostShadowParent(a){for(var _=null;a!==null;)a instanceof ShadowRoot&&(_=a.host,a=a.host),a=a.parentNode;return _}const SideCar=exportSidecar(effectCar,RemoveScrollSideCar);var ReactRemoveScroll=reactExports.forwardRef(function(a,_){return reactExports.createElement(RemoveScroll,__assign({},a,{ref:_,sideCar:SideCar}))});ReactRemoveScroll.classNames=RemoveScroll.classNames;const DynamicModalContext=reactExports.createContext({openWith:a=>Promise.resolve(),onClose:()=>{},isOpen:!1}),useDynamicModal=()=>{const{isOpen:a,onClose:_,onOpen:$}=useDisclosure$1(),[j,et]=reactExports.useState(null),[tt,rt]=reactExports.useState("md");return{isOpen:a,onClose:_,openWith:async(it,st="md")=>(rt(st),et(it),$(),Promise.resolve()),content:jsxRuntimeExports.jsxs(Modal,{autoFocus:!1,blockScrollOnMount:!1,closeOnOverlayClick:!1,isCentered:!0,isOpen:a,motionPreset:localStorage.getItem("chakra-modal-motion-preset")||void 0,onClose:_,size:tt,children:[jsxRuntimeExports.jsx(ModalOverlay,{}),jsxRuntimeExports.jsx(ReactRemoveScroll,{enabled:a,children:j})]})}},JsValueWrap=({value:a,space:_=2,...$})=>jsxRuntimeExports.jsx(Card,{background:colors.gray[700],borderRadius:"5px",...$,children:jsxRuntimeExports.jsx(CardBody,{children:jsxRuntimeExports.jsx("pre",{style:{whiteSpace:"pre-wrap",fontSize:"12px",lineHeight:"18px"},children:JSON.stringify(a,null,_)})})});var md5$1={exports:{}},crypt={exports:{}};(function(){var a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",_={rotl:function($,j){return $<<j|$>>>32-j},rotr:function($,j){return $<<32-j|$>>>j},endian:function($){if($.constructor==Number)return _.rotl($,8)&16711935|_.rotl($,24)&4278255360;for(var j=0;j<$.length;j++)$[j]=_.endian($[j]);return $},randomBytes:function($){for(var j=[];$>0;$--)j.push(Math.floor(Math.random()*256));return j},bytesToWords:function($){for(var j=[],et=0,tt=0;et<$.length;et++,tt+=8)j[tt>>>5]|=$[et]<<24-tt%32;return j},wordsToBytes:function($){for(var j=[],et=0;et<$.length*32;et+=8)j.push($[et>>>5]>>>24-et%32&255);return j},bytesToHex:function($){for(var j=[],et=0;et<$.length;et++)j.push(($[et]>>>4).toString(16)),j.push(($[et]&15).toString(16));return j.join("")},hexToBytes:function($){for(var j=[],et=0;et<$.length;et+=2)j.push(parseInt($.substr(et,2),16));return j},bytesToBase64:function($){for(var j=[],et=0;et<$.length;et+=3)for(var tt=$[et]<<16|$[et+1]<<8|$[et+2],rt=0;rt<4;rt++)et*8+rt*6<=$.length*8?j.push(a.charAt(tt>>>6*(3-rt)&63)):j.push("=");return j.join("")},base64ToBytes:function($){$=$.replace(/[^A-Z0-9+\/]/ig,"");for(var j=[],et=0,tt=0;et<$.length;tt=++et%4)tt!=0&&j.push((a.indexOf($.charAt(et-1))&Math.pow(2,-2*tt+8)-1)<<tt*2|a.indexOf($.charAt(et))>>>6-tt*2);return j}};crypt.exports=_})();var cryptExports=crypt.exports,charenc={utf8:{stringToBytes:function(a){return charenc.bin.stringToBytes(unescape(encodeURIComponent(a)))},bytesToString:function(a){return decodeURIComponent(escape(charenc.bin.bytesToString(a)))}},bin:{stringToBytes:function(a){for(var _=[],$=0;$<a.length;$++)_.push(a.charCodeAt($)&255);return _},bytesToString:function(a){for(var _=[],$=0;$<a.length;$++)_.push(String.fromCharCode(a[$]));return _.join("")}}},charenc_1=charenc;/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var isBuffer_1=function(a){return a!=null&&(isBuffer(a)||isSlowBuffer(a)||!!a._isBuffer)};function isBuffer(a){return!!a.constructor&&typeof a.constructor.isBuffer=="function"&&a.constructor.isBuffer(a)}function isSlowBuffer(a){return typeof a.readFloatLE=="function"&&typeof a.slice=="function"&&isBuffer(a.slice(0,0))}(function(){var a=cryptExports,_=charenc_1.utf8,$=isBuffer_1,j=charenc_1.bin,et=function(tt,rt){tt.constructor==String?rt&&rt.encoding==="binary"?tt=j.stringToBytes(tt):tt=_.stringToBytes(tt):$(tt)?tt=Array.prototype.slice.call(tt,0):!Array.isArray(tt)&&tt.constructor!==Uint8Array&&(tt=tt.toString());for(var nt=a.bytesToWords(tt),it=tt.length*8,st=1732584193,ot=-271733879,at=-1732584194,ut=271733878,ht=0;ht<nt.length;ht++)nt[ht]=(nt[ht]<<8|nt[ht]>>>24)&16711935|(nt[ht]<<24|nt[ht]>>>8)&4278255360;nt[it>>>5]|=128<<it%32,nt[(it+64>>>9<<4)+14]=it;for(var yt=et._ff,wt=et._gg,Ct=et._hh,Pt=et._ii,ht=0;ht<nt.length;ht+=16){var Tt=st,Mt=ot,Lt=at,Dt=ut;st=yt(st,ot,at,ut,nt[ht+0],7,-680876936),ut=yt(ut,st,ot,at,nt[ht+1],12,-389564586),at=yt(at,ut,st,ot,nt[ht+2],17,606105819),ot=yt(ot,at,ut,st,nt[ht+3],22,-1044525330),st=yt(st,ot,at,ut,nt[ht+4],7,-176418897),ut=yt(ut,st,ot,at,nt[ht+5],12,1200080426),at=yt(at,ut,st,ot,nt[ht+6],17,-1473231341),ot=yt(ot,at,ut,st,nt[ht+7],22,-45705983),st=yt(st,ot,at,ut,nt[ht+8],7,1770035416),ut=yt(ut,st,ot,at,nt[ht+9],12,-1958414417),at=yt(at,ut,st,ot,nt[ht+10],17,-42063),ot=yt(ot,at,ut,st,nt[ht+11],22,-1990404162),st=yt(st,ot,at,ut,nt[ht+12],7,1804603682),ut=yt(ut,st,ot,at,nt[ht+13],12,-40341101),at=yt(at,ut,st,ot,nt[ht+14],17,-1502002290),ot=yt(ot,at,ut,st,nt[ht+15],22,1236535329),st=wt(st,ot,at,ut,nt[ht+1],5,-165796510),ut=wt(ut,st,ot,at,nt[ht+6],9,-1069501632),at=wt(at,ut,st,ot,nt[ht+11],14,643717713),ot=wt(ot,at,ut,st,nt[ht+0],20,-373897302),st=wt(st,ot,at,ut,nt[ht+5],5,-701558691),ut=wt(ut,st,ot,at,nt[ht+10],9,38016083),at=wt(at,ut,st,ot,nt[ht+15],14,-660478335),ot=wt(ot,at,ut,st,nt[ht+4],20,-405537848),st=wt(st,ot,at,ut,nt[ht+9],5,568446438),ut=wt(ut,st,ot,at,nt[ht+14],9,-1019803690),at=wt(at,ut,st,ot,nt[ht+3],14,-187363961),ot=wt(ot,at,ut,st,nt[ht+8],20,1163531501),st=wt(st,ot,at,ut,nt[ht+13],5,-1444681467),ut=wt(ut,st,ot,at,nt[ht+2],9,-51403784),at=wt(at,ut,st,ot,nt[ht+7],14,1735328473),ot=wt(ot,at,ut,st,nt[ht+12],20,-1926607734),st=Ct(st,ot,at,ut,nt[ht+5],4,-378558),ut=Ct(ut,st,ot,at,nt[ht+8],11,-2022574463),at=Ct(at,ut,st,ot,nt[ht+11],16,1839030562),ot=Ct(ot,at,ut,st,nt[ht+14],23,-35309556),st=Ct(st,ot,at,ut,nt[ht+1],4,-1530992060),ut=Ct(ut,st,ot,at,nt[ht+4],11,1272893353),at=Ct(at,ut,st,ot,nt[ht+7],16,-155497632),ot=Ct(ot,at,ut,st,nt[ht+10],23,-1094730640),st=Ct(st,ot,at,ut,nt[ht+13],4,681279174),ut=Ct(ut,st,ot,at,nt[ht+0],11,-358537222),at=Ct(at,ut,st,ot,nt[ht+3],16,-722521979),ot=Ct(ot,at,ut,st,nt[ht+6],23,76029189),st=Ct(st,ot,at,ut,nt[ht+9],4,-640364487),ut=Ct(ut,st,ot,at,nt[ht+12],11,-421815835),at=Ct(at,ut,st,ot,nt[ht+15],16,530742520),ot=Ct(ot,at,ut,st,nt[ht+2],23,-995338651),st=Pt(st,ot,at,ut,nt[ht+0],6,-198630844),ut=Pt(ut,st,ot,at,nt[ht+7],10,1126891415),at=Pt(at,ut,st,ot,nt[ht+14],15,-1416354905),ot=Pt(ot,at,ut,st,nt[ht+5],21,-57434055),st=Pt(st,ot,at,ut,nt[ht+12],6,1700485571),ut=Pt(ut,st,ot,at,nt[ht+3],10,-1894986606),at=Pt(at,ut,st,ot,nt[ht+10],15,-1051523),ot=Pt(ot,at,ut,st,nt[ht+1],21,-2054922799),st=Pt(st,ot,at,ut,nt[ht+8],6,1873313359),ut=Pt(ut,st,ot,at,nt[ht+15],10,-30611744),at=Pt(at,ut,st,ot,nt[ht+6],15,-1560198380),ot=Pt(ot,at,ut,st,nt[ht+13],21,1309151649),st=Pt(st,ot,at,ut,nt[ht+4],6,-145523070),ut=Pt(ut,st,ot,at,nt[ht+11],10,-1120210379),at=Pt(at,ut,st,ot,nt[ht+2],15,718787259),ot=Pt(ot,at,ut,st,nt[ht+9],21,-343485551),st=st+Tt>>>0,ot=ot+Mt>>>0,at=at+Lt>>>0,ut=ut+Dt>>>0}return a.endian([st,ot,at,ut])};et._ff=function(tt,rt,nt,it,st,ot,at){var ut=tt+(rt&nt|~rt&it)+(st>>>0)+at;return(ut<<ot|ut>>>32-ot)+rt},et._gg=function(tt,rt,nt,it,st,ot,at){var ut=tt+(rt&it|nt&~it)+(st>>>0)+at;return(ut<<ot|ut>>>32-ot)+rt},et._hh=function(tt,rt,nt,it,st,ot,at){var ut=tt+(rt^nt^it)+(st>>>0)+at;return(ut<<ot|ut>>>32-ot)+rt},et._ii=function(tt,rt,nt,it,st,ot,at){var ut=tt+(nt^(rt|~it))+(st>>>0)+at;return(ut<<ot|ut>>>32-ot)+rt},et._blocksize=16,et._digestsize=16,md5$1.exports=function(tt,rt){if(tt==null)throw new Error("Illegal argument "+tt);var nt=a.wordsToBytes(et(tt,rt));return rt&&rt.asBytes?nt:rt&&rt.asString?j.bytesToString(nt):a.bytesToHex(nt)}})();var md5Exports=md5$1.exports;const md5=getDefaultExportFromCjs$1(md5Exports),ReactIdenticon=React$2.memo(({count:a=5,background:_,string:$,size:j})=>{const et=reactExports.useRef(null);reactExports.useEffect(()=>{tt()});const tt=()=>{const rt=md5($),nt=Math.floor(j/a),it=rt.slice(0,6),st=et.current;st.width=nt*a,st.height=nt*a;const ot=rt.split("").map(ht=>parseInt(ht,16)).map(ht=>ht<8?0:1),at=[];at[0]=at[4]=ot.slice(0,5),at[1]=at[3]=ot.slice(5,10),at[2]=ot.slice(10,15);const ut=st.getContext("2d");ut.imageSmoothingEnabled=!1,ut.clearRect(0,0,st.width,st.height),at.forEach((ht,yt)=>{ht.forEach((wt,Ct)=>{wt?(ut.fillStyle="#"+it,ut.fillRect(nt*yt,nt*Ct,nt,nt)):(ut.fillStyle=_,ut.fillRect(nt*yt,nt*Ct,nt,nt))})})};return jsxRuntimeExports.jsx("canvas",{ref:et,style:{width:j,height:j}})}),color=a=>`#${md5(a).slice(0,6)}`,Identicon=({address:a,identiconSize:_,...$})=>jsxRuntimeExports.jsx(Box,{sx:{canvas:{borderRadius:"4px"}},zIndex:10,background:"white",borderRadius:"4px","data-testid":"identicon",...$,children:jsxRuntimeExports.jsx(ReactIdenticon,{background:"white",size:_,string:a,style:{borderRadius:4}})}),baseIconProps={stroke:colors.gray[400],borderRadius:"4px",padding:"5px",background:colors.gray[500]},AddressTileIcon=({addressKind:a,size:_="sm",identiconSize:$=20})=>{let j;switch(_){case"sm":j="30px";break;case"md":j="38.5px";break;case"lg":j="45.5px";break}switch(a.type){case"secret_key":case"mnemonic":return jsxRuntimeExports.jsx(Identicon,{width:j,height:j,padding:"5px",address:a.pkh,identiconSize:$});case"social":return jsxRuntimeExports.jsx(SocialIcon,{width:j,height:j,...baseIconProps,stroke:"transparent",background:"white"});case"ledger":return jsxRuntimeExports.jsx(LedgerIcon,{width:j,height:j,...baseIconProps});case"multisig":return jsxRuntimeExports.jsx(KeyIcon,{width:j,height:j,...baseIconProps});case"contact":return jsxRuntimeExports.jsx(ContactIcon,{width:j,height:j,...baseIconProps});case"unknown":return jsxRuntimeExports.jsx(UnknownContactIcon,{width:j,height:j,...baseIconProps});case"baker":{const et=`https://services.tzkt.io/v1/avatars/${a.pkh}`;return jsxRuntimeExports.jsx(AspectRatio,{width:"30px",height:"30px",marginRight:"8px","data-testid":"baker-icon",ratio:1,children:jsxRuntimeExports.jsx(Image$1,{src:et})})}}},useAddressKind$1=a=>{const _=useOwnedAccountAddressKind$1(a),$=useBakerAddressKind(a),j=useContactAddressKind(a);return _||$||j||{pkh:a.pkh,type:"unknown",label:null}},useOwnedAccountAddressKind$1=({pkh:a})=>{const $=useGetOwnedAccountSafe()(a);return $?{type:$.type,pkh:a,label:$.label}:null},useBakerAddressKind=({pkh:a})=>{const $=useGetBaker()(a);return $?{pkh:a,type:"baker",label:$.name}:null},useContactAddressKind=({pkh:a})=>{const $=useGetContactName()(a);return $?{pkh:a,type:"contact",label:$}:null},splitNumber=a=>{const[_,$]=a.split(".");return{integer:_,decimal:$}},PrettyNumber=({number:a,size:_="md",...$})=>{const j=_==="md"?"md":"lg",et=_==="md"?"sm":"md",{integer:tt,decimal:rt}=splitNumber(a);return jsxRuntimeExports.jsxs(Flex,{alignItems:"end","data-testid":"pretty-number",...$,children:[jsxRuntimeExports.jsx(Heading,{size:j,children:tt}),rt&&jsxRuntimeExports.jsxs(Heading,{overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",size:et,children:[".",rt]})]})},AccountBalance=({address:a,size:_,numberProps:$,...j})=>{const tt=useGetAccountBalance()(a);if(!tt)return null;const rt=prettyTezAmount(tt);return jsxRuntimeExports.jsx(Box,{overflow:"hidden",textAlign:"right","data-testid":"account-balance",...j,children:jsxRuntimeExports.jsx(PrettyNumber,{number:rt,size:_,...$})})},AddressTile=({address:a,hideBalance:_=!1,...$})=>{const j=useAddressKind$1(a);return jsxRuntimeExports.jsx(Tooltip,{background:colors.white,hasArrow:!0,label:j.label,placement:"left",children:jsxRuntimeExports.jsxs(Flex,{alignItems:"center",justifyContent:"space-between",width:"100%",padding:"9px 10px",background:colors.gray[800],borderRadius:"4px","data-testid":"address-tile",...$,children:[jsxRuntimeExports.jsxs(Flex,{alignItems:"center",width:_?"100%":"calc(100% - 95px)",children:[jsxRuntimeExports.jsx(AddressTileIcon,{addressKind:j}),j.type==="unknown"?jsxRuntimeExports.jsx(Text,{marginLeft:"10px",color:colors.gray[300],size:"sm",children:a.pkh}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Box,{overflow:"hidden",width:"100%",marginLeft:"10px",whiteSpace:"nowrap",children:jsxRuntimeExports.jsx(Heading,{overflow:"hidden",textOverflow:"ellipsis",size:"sm",children:j.label})}),jsxRuntimeExports.jsx(Text,{width:"89px",marginLeft:"10px",color:colors.gray[300],size:"xs",children:formatPkh(j.pkh)})]})]}),!_&&jsxRuntimeExports.jsx(AccountBalance,{overflow:"hidden",marginLeft:"10px",textAlign:"right",address:a.pkh,numberProps:{maxWidth:"85px"}})]})})},Suggestions=({contacts:a,hideBalance:_,onChange:$})=>a.length===0?null:jsxRuntimeExports.jsx(UnorderedList,{position:"absolute",zIndex:2,overflowY:"auto",width:"100%",maxHeight:"300px",marginTop:"8px",marginLeft:0,background:colors.gray[700],border:"1px solid",borderColor:colors.gray[500],borderRadius:"8px","data-testid":"suggestions-list",listStyleType:"none",children:a.map((j,et)=>jsxRuntimeExports.jsx(Box,{children:jsxRuntimeExports.jsx(ListItem,{marginBottom:et===a.length-1?"5px":0,padding:"5px 15px 0 5px",onMouseDown:()=>{$(j.name)},children:jsxRuntimeExports.jsx(AddressTile,{height:"40px",padding:"10px 8px 10px 5px",background:colors.gray[700],borderRadius:"4px",_hover:{background:colors.gray[500]},cursor:"pointer",address:parsePkh(j.pkh),hideBalance:_})})},j.pkh))}),getSuggestions=(a,_)=>_.filter($=>!a.trim()||$.name.toLowerCase().includes(a.trim().toLowerCase())),AddressAutocomplete=({contacts:a,isDisabled:_,isLoading:$=!1,allowUnknown:j,inputName:et,onUpdate:tt,validate:rt,label:nt,keepValid:it,style:st,size:ot,hideBalance:at=!1})=>{const{register:ut,setValue:ht,formState:{defaultValues:yt},getValues:wt}=useFormContext(),Ct=ht,Pt=reactExports.useId(),[Tt,Mt]=reactExports.useState(()=>{var vt;if(it||!yt)return"";const bt=lodashExports.get(yt,et);return bt?((vt=a.find(ct=>ct.pkh===bt))==null?void 0:vt.name)||bt:""}),[Lt,Dt]=reactExports.useState(!0),[Ut,Ot]=reactExports.useState(getSuggestions("",a)),It=wt(et),Bt=bt=>{Mt(bt),Ot(getSuggestions(bt,a));const vt=a.find(dt=>dt.name===bt||dt.pkh===bt);let ct;if(vt!==void 0)ct=vt.pkh,Dt(!0);else if(j&&isAddressValid(bt))ct=bt;else{if(it)return;ct=""}Ct(et,ct,{shouldValidate:!0}),tt&&tt(ct)};let Ft="raw_input";$?Ft="selected_tile":_?Ft="disabled_tile":It&&(Ft="selected_tile");const jt=()=>{Bt(""),Dt(!1)};return jsxRuntimeExports.jsxs(Box,{"data-testid":`address-autocomplete-${et}`,children:[jsxRuntimeExports.jsx(FormLabel,{htmlFor:Pt,children:nt}),Ft==="disabled_tile"&&jsxRuntimeExports.jsx(AddressTile,{address:parsePkh(It)}),Ft==="selected_tile"&&jsxRuntimeExports.jsx(Box,{height:"48px",background:colors.gray[800],border:"1px solid",borderColor:colors.gray[500],borderRadius:"4px","data-testid":`selected-address-tile-${It}`,onClick:jt,paddingY:0,children:jsxRuntimeExports.jsxs(Center,{justifyContent:"space-between",cursor:"pointer","data-testid":"clear-selected-button",children:[jsxRuntimeExports.jsx(AddressTile,{width:ot==="short"?"338px":"365px",paddingTop:"8px",background:"transparent",address:parsePkh(It)}),it?jsxRuntimeExports.jsx(ChevronDownIcon$1,{marginRight:"12px","data-testid":"chevron-icon"}):jsxRuntimeExports.jsx(CrossButton,{marginRight:"14px"})]})}),Ft==="raw_input"&&jsxRuntimeExports.jsxs(InputGroup,{children:[jsxRuntimeExports.jsx(Input,{...st,"aria-label":et,autoComplete:"off",id:Pt,onBlur:bt=>{if(bt.preventDefault(),Dt(!0),it&&It!==bt.target.value)return Bt(It);Bt(bt.target.value)},onChange:bt=>Bt(bt.target.value),onFocus:()=>Dt(!1),placeholder:"Enter address or contact name",value:Tt}),jsxRuntimeExports.jsx(InputRightElement,{children:Tt?jsxRuntimeExports.jsx(CrossButton,{marginRight:"0px",onClick:jt}):jsxRuntimeExports.jsx(ChevronDownIcon$1,{"data-testid":"chevron-icon"})})]}),jsxRuntimeExports.jsx(Input,{...ut(et,{required:"Invalid address or contact name",validate:rt}),marginBottom:0,"data-testid":`real-address-input-${et}`,name:et,type:"hidden"}),!Lt&&jsxRuntimeExports.jsx(Suggestions,{contacts:Ut,hideBalance:at,onChange:Bt})]})},CrossButton=a=>jsxRuntimeExports.jsx(XMark,{marginRight:"16px",stroke:colors.gray[450],cursor:"pointer","data-testid":"clear-input-button",...a}),KnownAccountsAutocomplete=a=>{const _=useContactsForSelectedNetwork(),$=useAllAccounts().map(j=>({name:j.label,pkh:j.address.pkh}));return jsxRuntimeExports.jsx(AddressAutocomplete,{...a,contacts:_.concat($)})},OwnedImplicitAccountsAutocomplete=a=>{const _=useImplicitAccounts().map($=>({name:$.label,pkh:$.address.pkh}));return jsxRuntimeExports.jsx(AddressAutocomplete,{...a,contacts:_})},OwnedAccountsAutocomplete=a=>{const _=useAllAccounts().map($=>({name:$.label,pkh:$.address.pkh}));return jsxRuntimeExports.jsx(AddressAutocomplete,{...a,contacts:_})},BakersAutocomplete=a=>{const _=useBakerList().map($=>({name:$.name,pkh:$.address}));return jsxRuntimeExports.jsx(AddressAutocomplete,{...a,contacts:_,hideBalance:!0})},AvailableSignersAutocomplete=a=>{const $=useGetOwnedSignersForAccount()(a.account).map(j=>({name:j.label,pkh:j.address.pkh}));return jsxRuntimeExports.jsx(AddressAutocomplete,{allowUnknown:!1,contacts:$,isDisabled:$.length===1,...a})},PermissionRequestModal=({request:a})=>{const _=useAddConnection(),$=useGetImplicitAccount(),j=useForm({mode:"onBlur"}),{getValues:et,formState:{errors:tt,isValid:rt}}=j,nt=async()=>{const it=$(et().address),st={type:BeaconMessageType.PermissionResponse,network:a.network,scopes:a.scopes,id:a.id,publicKey:it.pk,walletType:"implicit"};await WalletClient.respond(st),_(a.senderId,it.address.pkh,a.network.type)};return jsxRuntimeExports.jsxs(ModalContent,{children:[jsxRuntimeExports.jsxs(ModalHeader,{marginBottom:"24px",children:[jsxRuntimeExports.jsx(Flex,{alignItems:"center",justifyContent:"center",children:"Permission Request"}),jsxRuntimeExports.jsxs(Text,{marginTop:"10px",color:colors.gray[400],textAlign:"center",size:"sm",children:[a.appMetadata.name," is requesting permission to sign this operation."]}),jsxRuntimeExports.jsxs(Flex,{alignItems:"center",justifyContent:"center",marginTop:"10px",children:[jsxRuntimeExports.jsx(Heading,{marginRight:"4px",color:colors.gray[450],size:"sm",children:"Network:"}),jsxRuntimeExports.jsx(Text,{color:colors.gray[400],size:"sm",children:lodashExports.capitalize(a.network.type)})]})]}),jsxRuntimeExports.jsx(ModalCloseButton,{}),jsxRuntimeExports.jsxs(ModalBody,{"data-testid":"beacon-request-body",children:[jsxRuntimeExports.jsxs(Flex,{alignItems:"center",marginTop:"16px",padding:"15px",borderRadius:"4px",backgroundColor:colors.gray[800],children:[jsxRuntimeExports.jsx(AspectRatio,{width:"60px",marginRight:"12px",ratio:1,children:jsxRuntimeExports.jsx(Image$1,{borderRadius:"4px",src:a.appMetadata.icon})}),jsxRuntimeExports.jsx(Heading,{size:"sm",children:a.appMetadata.name})]}),jsxRuntimeExports.jsx(Accordion,{marginTop:"16px",allowToggle:!0,children:jsxRuntimeExports.jsxs(AccordionItem,{background:colors.gray[800],border:"none",borderRadius:"8px",children:[jsxRuntimeExports.jsxs(AccordionButton,{children:[jsxRuntimeExports.jsx(Heading,{flex:"1",textAlign:"left",marginY:"10px",size:"md",children:"Request"}),jsxRuntimeExports.jsx(AccordionIcon,{})]}),jsxRuntimeExports.jsx(AccordionPanel,{children:jsxRuntimeExports.jsx(JsValueWrap,{value:a})})]})}),jsxRuntimeExports.jsx(FormProvider,{...j,children:jsxRuntimeExports.jsxs(FormControl,{marginTop:"24px",isInvalid:!!tt.address,children:[jsxRuntimeExports.jsx(OwnedImplicitAccountsAutocomplete,{allowUnknown:!1,inputName:"address",label:"Select Account"}),tt.address&&jsxRuntimeExports.jsx(FormErrorMessage$1,{children:tt.address.message})]})})]}),jsxRuntimeExports.jsx(ModalFooter,{children:jsxRuntimeExports.jsx(Button,{width:"100%",isDisabled:!rt,onClick:it=>nt(),size:"lg",children:"Sign"})})]})};function _typeof$3(a){"@babel/helpers - typeof";return _typeof$3=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},_typeof$3(a)}function toPrimitive(a,_){if(_typeof$3(a)!="object"||!a)return a;var $=a[Symbol.toPrimitive];if($!==void 0){var j=$.call(a,_||"default");if(_typeof$3(j)!="object")return j;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_==="string"?String:Number)(a)}function toPropertyKey(a){var _=toPrimitive(a,"string");return _typeof$3(_)=="symbol"?_:_+""}function _defineProperty$4(a,_,$){return _=toPropertyKey(_),_ in a?Object.defineProperty(a,_,{value:$,enumerable:!0,configurable:!0,writable:!0}):a[_]=$,a}var lodash_merge={exports:{}};lodash_merge.exports;(function(a,_){var $=200,j="__lodash_hash_undefined__",et=800,tt=16,rt=9007199254740991,nt="[object Arguments]",it="[object Array]",st="[object AsyncFunction]",ot="[object Boolean]",at="[object Date]",ut="[object Error]",ht="[object Function]",yt="[object GeneratorFunction]",wt="[object Map]",Ct="[object Number]",Pt="[object Null]",Tt="[object Object]",Mt="[object Proxy]",Lt="[object RegExp]",Dt="[object Set]",Ut="[object String]",Ot="[object Undefined]",It="[object WeakMap]",Bt="[object ArrayBuffer]",Ft="[object DataView]",jt="[object Float32Array]",bt="[object Float64Array]",vt="[object Int8Array]",ct="[object Int16Array]",dt="[object Int32Array]",mt="[object Uint8Array]",xt="[object Uint8ClampedArray]",At="[object Uint16Array]",Rt="[object Uint32Array]",St=/[\\^$.*+?()[\]{}|]/g,$t=/^\[object .+?Constructor\]$/,Et=/^(?:0|[1-9]\d*)$/,Nt={};Nt[jt]=Nt[bt]=Nt[vt]=Nt[ct]=Nt[dt]=Nt[mt]=Nt[xt]=Nt[At]=Nt[Rt]=!0,Nt[nt]=Nt[it]=Nt[Bt]=Nt[ot]=Nt[Ft]=Nt[at]=Nt[ut]=Nt[ht]=Nt[wt]=Nt[Ct]=Nt[Tt]=Nt[Lt]=Nt[Dt]=Nt[Ut]=Nt[It]=!1;var tr=typeof commonjsGlobal=="object"&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal,ir=typeof self=="object"&&self&&self.Object===Object&&self,nr=tr||ir||Function("return this")(),Zt=_&&!_.nodeType&&_,Kt=Zt&&!0&&a&&!a.nodeType&&a,Qt=Kt&&Kt.exports===Zt,Ht=Qt&&tr.process,qt=function(){try{var Xt=Kt&&Kt.require&&Kt.require("util").types;return Xt||Ht&&Ht.binding&&Ht.binding("util")}catch{}}(),Jt=qt&&qt.isTypedArray;function ur(Xt,cr,gr){switch(gr.length){case 0:return Xt.call(cr);case 1:return Xt.call(cr,gr[0]);case 2:return Xt.call(cr,gr[0],gr[1]);case 3:return Xt.call(cr,gr[0],gr[1],gr[2])}return Xt.apply(cr,gr)}function xr(Xt,cr){for(var gr=-1,Dr=Array(Xt);++gr<Xt;)Dr[gr]=cr(gr);return Dr}function pr(Xt){return function(cr){return Xt(cr)}}function Cr(Xt,cr){return Xt==null?void 0:Xt[cr]}function Mr(Xt,cr){return function(gr){return Xt(cr(gr))}}var lr=Array.prototype,fr=Function.prototype,_r=Object.prototype,Rr=nr["__core-js_shared__"],kr=fr.toString,Ar=_r.hasOwnProperty,Pr=function(){var Xt=/[^.]+$/.exec(Rr&&Rr.keys&&Rr.keys.IE_PROTO||"");return Xt?"Symbol(src)_1."+Xt:""}(),Or=_r.toString,Lr=kr.call(Object),or=RegExp("^"+kr.call(Ar).replace(St,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Yt=Qt?nr.Buffer:void 0,er=nr.Symbol,Gt=nr.Uint8Array;Yt&&Yt.allocUnsafe;var Vt=Mr(Object.getPrototypeOf,Object),Wt=Object.create,ar=_r.propertyIsEnumerable,yr=lr.splice,Er=er?er.toStringTag:void 0,Sr=function(){try{var Xt=Ro(Object,"defineProperty");return Xt({},"",{}),Xt}catch{}}(),Wr=Yt?Yt.isBuffer:void 0,Hr=Math.max,Fr=Date.now,pn=Ro(nr,"Map"),Jr=Ro(Object,"create"),Qr=function(){function Xt(){}return function(cr){if(!Ps(cr))return{};if(Wt)return Wt(cr);Xt.prototype=cr;var gr=new Xt;return Xt.prototype=void 0,gr}}();function mn(Xt){var cr=-1,gr=Xt==null?0:Xt.length;for(this.clear();++cr<gr;){var Dr=Xt[cr];this.set(Dr[0],Dr[1])}}function ln(){this.__data__=Jr?Jr(null):{},this.size=0}function qr(Xt){var cr=this.has(Xt)&&delete this.__data__[Xt];return this.size-=cr?1:0,cr}function En(Xt){var cr=this.__data__;if(Jr){var gr=cr[Xt];return gr===j?void 0:gr}return Ar.call(cr,Xt)?cr[Xt]:void 0}function un(Xt){var cr=this.__data__;return Jr?cr[Xt]!==void 0:Ar.call(cr,Xt)}function Vr(Xt,cr){var gr=this.__data__;return this.size+=this.has(Xt)?0:1,gr[Xt]=Jr&&cr===void 0?j:cr,this}mn.prototype.clear=ln,mn.prototype.delete=qr,mn.prototype.get=En,mn.prototype.has=un,mn.prototype.set=Vr;function hn(Xt){var cr=-1,gr=Xt==null?0:Xt.length;for(this.clear();++cr<gr;){var Dr=Xt[cr];this.set(Dr[0],Dr[1])}}function fn(){this.__data__=[],this.size=0}function Kr(Xt){var cr=this.__data__,gr=Jn(cr,Xt);if(gr<0)return!1;var Dr=cr.length-1;return gr==Dr?cr.pop():yr.call(cr,gr,1),--this.size,!0}function Rn(Xt){var cr=this.__data__,gr=Jn(cr,Xt);return gr<0?void 0:cr[gr][1]}function dn(Xt){return Jn(this.__data__,Xt)>-1}function Gr(Xt,cr){var gr=this.__data__,Dr=Jn(gr,Xt);return Dr<0?(++this.size,gr.push([Xt,cr])):gr[Dr][1]=cr,this}hn.prototype.clear=fn,hn.prototype.delete=Kr,hn.prototype.get=Rn,hn.prototype.has=dn,hn.prototype.set=Gr;function gn(Xt){var cr=-1,gr=Xt==null?0:Xt.length;for(this.clear();++cr<gr;){var Dr=Xt[cr];this.set(Dr[0],Dr[1])}}function an(){this.size=0,this.__data__={hash:new mn,map:new(pn||hn),string:new mn}}function Zr(Xt){var cr=Zs(this,Xt).delete(Xt);return this.size-=cr?1:0,cr}function An(Xt){return Zs(this,Xt).get(Xt)}function Sn(Xt){return Zs(this,Xt).has(Xt)}function nn(Xt,cr){var gr=Zs(this,Xt),Dr=gr.size;return gr.set(Xt,cr),this.size+=gr.size==Dr?0:1,this}gn.prototype.clear=an,gn.prototype.delete=Zr,gn.prototype.get=An,gn.prototype.has=Sn,gn.prototype.set=nn;function Pn(Xt){var cr=this.__data__=new hn(Xt);this.size=cr.size}function yn(){this.__data__=new hn,this.size=0}function _n(Xt){var cr=this.__data__,gr=cr.delete(Xt);return this.size=cr.size,gr}function ds(Xt){return this.__data__.get(Xt)}function fs(Xt){return this.__data__.has(Xt)}function hs(Xt,cr){var gr=this.__data__;if(gr instanceof hn){var Dr=gr.__data__;if(!pn||Dr.length<$-1)return Dr.push([Xt,cr]),this.size=++gr.size,this;gr=this.__data__=new gn(Dr)}return gr.set(Xt,cr),this.size=gr.size,this}Pn.prototype.clear=yn,Pn.prototype.delete=_n,Pn.prototype.get=ds,Pn.prototype.has=fs,Pn.prototype.set=hs;function ps(Xt,cr){var gr=Ls(Xt),Dr=!gr&&Ao(Xt),rn=!gr&&!Dr&&fo(Xt),xn=!gr&&!Dr&&!rn&&No(Xt),$n=gr||Dr||rn||xn,cn=$n?xr(Xt.length,String):[],wn=cn.length;for(var Bn in Xt)$n&&(Bn=="length"||rn&&(Bn=="offset"||Bn=="parent")||xn&&(Bn=="buffer"||Bn=="byteLength"||Bn=="byteOffset")||lo(Bn,wn))||cn.push(Bn);return cn}function Vn(Xt,cr,gr){(gr!==void 0&&!Xs(Xt[cr],gr)||gr===void 0&&!(cr in Xt))&&Yn(Xt,cr,gr)}function ss(Xt,cr,gr){var Dr=Xt[cr];(!(Ar.call(Xt,cr)&&Xs(Dr,gr))||gr===void 0&&!(cr in Xt))&&Yn(Xt,cr,gr)}function Jn(Xt,cr){for(var gr=Xt.length;gr--;)if(Xs(Xt[gr][0],cr))return gr;return-1}function Yn(Xt,cr,gr){cr=="__proto__"&&Sr?Sr(Xt,cr,{configurable:!0,enumerable:!0,value:gr,writable:!0}):Xt[cr]=gr}var ms=So();function Qn(Xt){return Xt==null?Xt===void 0?Ot:Pt:Er&&Er in Object(Xt)?xl(Xt):wl(Xt)}function es(Xt){return Is(Xt)&&Qn(Xt)==nt}function ls(Xt){if(!Ps(Xt)||jo(Xt))return!1;var cr=To(Xt)?or:$t;return cr.test(Tl(Xt))}function us(Xt){return Is(Xt)&&$o(Xt.length)&&!!Nt[Qn(Xt)]}function Wn(Xt){if(!Ps(Xt))return Bs(Xt);var cr=Ys(Xt),gr=[];for(var Dr in Xt)Dr=="constructor"&&(cr||!Ar.call(Xt,Dr))||gr.push(Dr);return gr}function as(Xt,cr,gr,Dr,rn){Xt!==cr&&ms(cr,function(xn,$n){if(rn||(rn=new Pn),Ps(xn))gs(Xt,cr,$n,gr,as,Dr,rn);else{var cn=Dr?Dr(Ms(Xt,$n),xn,$n+"",Xt,cr,rn):void 0;cn===void 0&&(cn=xn),Vn(Xt,$n,cn)}},Bo)}function gs(Xt,cr,gr,Dr,rn,xn,$n){var cn=Ms(Xt,gr),wn=Ms(cr,gr),Bn=$n.get(wn);if(Bn){Vn(Xt,gr,Bn);return}var Fn=xn?xn(cn,wn,gr+"",Xt,cr,$n):void 0,ts=Fn===void 0;if(ts){var _i=Ls(wn),_s=!_i&&fo(wn),Ds=!_i&&!_s&&No(wn);Fn=wn,_i||_s||Ds?Ls(cn)?Fn=cn:$l(cn)?Fn=Wo(cn):_s?(ts=!1,Fn=Ts(wn)):Ds?(ts=!1,Fn=Eo(wn)):Fn=[]:Pl(wn)||Ao(wn)?(Fn=cn,Ao(cn)?Fn=Po(cn):(!Ps(cn)||To(cn))&&(Fn=_l(wn))):ts=!1}ts&&($n.set(wn,Fn),rn(Fn,wn,Dr,xn,$n),$n.delete(wn)),Vn(Xt,gr,Fn)}function vs(Xt,cr){return Rl(Sl(Xt,cr,Xn),Xt+"")}var $s=Sr?function(Xt,cr){return Sr(Xt,"toString",{configurable:!0,enumerable:!1,value:rs(cr),writable:!0})}:Xn;function Ts(Xt,cr){return Xt.slice()}function yl(Xt){var cr=new Xt.constructor(Xt.byteLength);return new Gt(cr).set(new Gt(Xt)),cr}function Eo(Xt,cr){var gr=yl(Xt.buffer);return new Xt.constructor(gr,Xt.byteOffset,Xt.length)}function Wo(Xt,cr){var gr=-1,Dr=Xt.length;for(cr||(cr=Array(Dr));++gr<Dr;)cr[gr]=Xt[gr];return cr}function wo(Xt,cr,gr,Dr){var rn=!gr;gr||(gr={});for(var xn=-1,$n=cr.length;++xn<$n;){var cn=cr[xn],wn=void 0;wn===void 0&&(wn=Xt[cn]),rn?Yn(gr,cn,wn):ss(gr,cn,wn)}return gr}function Go(Xt){return vs(function(cr,gr){var Dr=-1,rn=gr.length,xn=rn>1?gr[rn-1]:void 0,$n=rn>2?gr[2]:void 0;for(xn=Xt.length>3&&typeof xn=="function"?(rn--,xn):void 0,$n&&Yl(gr[0],gr[1],$n)&&(xn=rn<3?void 0:xn,rn=1),cr=Object(cr);++Dr<rn;){var cn=gr[Dr];cn&&Xt(cr,cn,Dr,xn)}return cr})}function So(Xt){return function(cr,gr,Dr){for(var rn=-1,xn=Object(cr),$n=Dr(cr),cn=$n.length;cn--;){var wn=$n[++rn];if(gr(xn[wn],wn,xn)===!1)break}return cr}}function Zs(Xt,cr){var gr=Xt.__data__;return El(cr)?gr[typeof cr=="string"?"string":"hash"]:gr.map}function Ro(Xt,cr){var gr=Cr(Xt,cr);return ls(gr)?gr:void 0}function xl(Xt){var cr=Ar.call(Xt,Er),gr=Xt[Er];try{Xt[Er]=void 0;var Dr=!0}catch{}var rn=Or.call(Xt);return Dr&&(cr?Xt[Er]=gr:delete Xt[Er]),rn}function _l(Xt){return typeof Xt.constructor=="function"&&!Ys(Xt)?Qr(Vt(Xt)):{}}function lo(Xt,cr){var gr=typeof Xt;return cr=cr??rt,!!cr&&(gr=="number"||gr!="symbol"&&Et.test(Xt))&&Xt>-1&&Xt%1==0&&Xt<cr}function Yl(Xt,cr,gr){if(!Ps(gr))return!1;var Dr=typeof cr;return(Dr=="number"?uo(gr)&&lo(cr,gr.length):Dr=="string"&&cr in gr)?Xs(gr[cr],Xt):!1}function El(Xt){var cr=typeof Xt;return cr=="string"||cr=="number"||cr=="symbol"||cr=="boolean"?Xt!=="__proto__":Xt===null}function jo(Xt){return!!Pr&&Pr in Xt}function Ys(Xt){var cr=Xt&&Xt.constructor,gr=typeof cr=="function"&&cr.prototype||_r;return Xt===gr}function Bs(Xt){var cr=[];if(Xt!=null)for(var gr in Object(Xt))cr.push(gr);return cr}function wl(Xt){return Or.call(Xt)}function Sl(Xt,cr,gr){return cr=Hr(cr===void 0?Xt.length-1:cr,0),function(){for(var Dr=arguments,rn=-1,xn=Hr(Dr.length-cr,0),$n=Array(xn);++rn<xn;)$n[rn]=Dr[cr+rn];rn=-1;for(var cn=Array(cr+1);++rn<cr;)cn[rn]=Dr[rn];return cn[cr]=gr($n),ur(Xt,this,cn)}}function Ms(Xt,cr){if(!(cr==="constructor"&&typeof Xt[cr]=="function")&&cr!="__proto__")return Xt[cr]}var Rl=Al($s);function Al(Xt){var cr=0,gr=0;return function(){var Dr=Fr(),rn=tt-(Dr-gr);if(gr=Dr,rn>0){if(++cr>=et)return arguments[0]}else cr=0;return Xt.apply(void 0,arguments)}}function Tl(Xt){if(Xt!=null){try{return kr.call(Xt)}catch{}try{return Xt+""}catch{}}return""}function Xs(Xt,cr){return Xt===cr||Xt!==Xt&&cr!==cr}var Ao=es(function(){return arguments}())?es:function(Xt){return Is(Xt)&&Ar.call(Xt,"callee")&&!ar.call(Xt,"callee")},Ls=Array.isArray;function uo(Xt){return Xt!=null&&$o(Xt.length)&&!To(Xt)}function $l(Xt){return Is(Xt)&&uo(Xt)}var fo=Wr||wr;function To(Xt){if(!Ps(Xt))return!1;var cr=Qn(Xt);return cr==ht||cr==yt||cr==st||cr==Mt}function $o(Xt){return typeof Xt=="number"&&Xt>-1&&Xt%1==0&&Xt<=rt}function Ps(Xt){var cr=typeof Xt;return Xt!=null&&(cr=="object"||cr=="function")}function Is(Xt){return Xt!=null&&typeof Xt=="object"}function Pl(Xt){if(!Is(Xt)||Qn(Xt)!=Tt)return!1;var cr=Vt(Xt);if(cr===null)return!0;var gr=Ar.call(cr,"constructor")&&cr.constructor;return typeof gr=="function"&&gr instanceof gr&&kr.call(gr)==Lr}var No=Jt?pr(Jt):us;function Po(Xt){return wo(Xt,Bo(Xt))}function Bo(Xt){return uo(Xt)?ps(Xt):Wn(Xt)}var Xl=Go(function(Xt,cr,gr){as(Xt,cr,gr)});function rs(Xt){return function(){return Xt}}function Xn(Xt){return Xt}function wr(){return!1}a.exports=Xl})(lodash_merge,lodash_merge.exports);var lodash_mergeExports=lodash_merge.exports;const deepmerge$1=getDefaultExportFromCjs$1(lodash_mergeExports);var loglevel={exports:{}};(function(a){(function(_,$){a.exports?a.exports=$():_.log=$()})(commonjsGlobal,function(){var _=function(){},$="undefined",j=typeof window!==$&&typeof window.navigator!==$&&/Trident\/|MSIE /.test(window.navigator.userAgent),et=["trace","debug","info","warn","error"];function tt(wt,Ct){var Pt=wt[Ct];if(typeof Pt.bind=="function")return Pt.bind(wt);try{return Function.prototype.bind.call(Pt,wt)}catch{return function(){return Function.prototype.apply.apply(Pt,[wt,arguments])}}}function rt(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function nt(wt){return wt==="debug"&&(wt="log"),typeof console===$?!1:wt==="trace"&&j?rt:console[wt]!==void 0?tt(console,wt):console.log!==void 0?tt(console,"log"):_}function it(wt,Ct){for(var Pt=0;Pt<et.length;Pt++){var Tt=et[Pt];this[Tt]=Pt<wt?_:this.methodFactory(Tt,wt,Ct)}this.log=this.debug}function st(wt,Ct,Pt){return function(){typeof console!==$&&(it.call(this,Ct,Pt),this[wt].apply(this,arguments))}}function ot(wt,Ct,Pt){return nt(wt)||st.apply(this,arguments)}function at(wt,Ct,Pt){var Tt=this,Mt;Ct=Ct??"WARN";var Lt="loglevel";typeof wt=="string"?Lt+=":"+wt:typeof wt=="symbol"&&(Lt=void 0);function Dt(Bt){var Ft=(et[Bt]||"silent").toUpperCase();if(!(typeof window===$||!Lt)){try{window.localStorage[Lt]=Ft;return}catch{}try{window.document.cookie=encodeURIComponent(Lt)+"="+Ft+";"}catch{}}}function Ut(){var Bt;if(!(typeof window===$||!Lt)){try{Bt=window.localStorage[Lt]}catch{}if(typeof Bt===$)try{var Ft=window.document.cookie,jt=Ft.indexOf(encodeURIComponent(Lt)+"=");jt!==-1&&(Bt=/^([^;]+)/.exec(Ft.slice(jt))[1])}catch{}return Tt.levels[Bt]===void 0&&(Bt=void 0),Bt}}function Ot(){if(!(typeof window===$||!Lt)){try{window.localStorage.removeItem(Lt);return}catch{}try{window.document.cookie=encodeURIComponent(Lt)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch{}}}Tt.name=wt,Tt.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},Tt.methodFactory=Pt||ot,Tt.getLevel=function(){return Mt},Tt.setLevel=function(Bt,Ft){if(typeof Bt=="string"&&Tt.levels[Bt.toUpperCase()]!==void 0&&(Bt=Tt.levels[Bt.toUpperCase()]),typeof Bt=="number"&&Bt>=0&&Bt<=Tt.levels.SILENT){if(Mt=Bt,Ft!==!1&&Dt(Bt),it.call(Tt,Bt,wt),typeof console===$&&Bt<Tt.levels.SILENT)return"No console available for logging"}else throw"log.setLevel() called with invalid level: "+Bt},Tt.setDefaultLevel=function(Bt){Ct=Bt,Ut()||Tt.setLevel(Bt,!1)},Tt.resetLevel=function(){Tt.setLevel(Ct,!1),Ot()},Tt.enableAll=function(Bt){Tt.setLevel(Tt.levels.TRACE,Bt)},Tt.disableAll=function(Bt){Tt.setLevel(Tt.levels.SILENT,Bt)};var It=Ut();It==null&&(It=Ct),Tt.setLevel(It,!1)}var ut=new at,ht={};ut.getLogger=function(Ct){if(typeof Ct!="symbol"&&typeof Ct!="string"||Ct==="")throw new TypeError("You must supply a name when creating a logger.");var Pt=ht[Ct];return Pt||(Pt=ht[Ct]=new at(Ct,ut.getLevel(),ut.methodFactory)),Pt};var yt=typeof window!==$?window.log:void 0;return ut.noConflict=function(){return typeof window!==$&&window.log===ut&&(window.log=yt),ut},ut.getLoggers=function(){return ht},ut.default=ut,ut})})(loglevel);var loglevelExports=loglevel.exports;const log$1$1=getDefaultExportFromCjs$1(loglevelExports);function ownKeys$5(a,_){var $=Object.keys(a);if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(a);_&&(j=j.filter(function(et){return Object.getOwnPropertyDescriptor(a,et).enumerable})),$.push.apply($,j)}return $}function _objectSpread$5(a){for(var _=1;_<arguments.length;_++){var $=arguments[_]!=null?arguments[_]:{};_%2?ownKeys$5(Object($),!0).forEach(function(j){_defineProperty$4(a,j,$[j])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors($)):ownKeys$5(Object($)).forEach(function(j){Object.defineProperty(a,j,Object.getOwnPropertyDescriptor($,j))})}return a}const log$5=log$1$1.getLogger("http-helpers");log$5.setLevel(loglevelExports.levels.INFO);let apiKey="torus-default",embedHost="";const gatewayAuthHeader="x-api-key",gatewayEmbedHostHeader="x-embed-host";function setEmbedHost(a){embedHost=a}function setAPIKey(a){apiKey=a}async function fetchAndTrace(a,_){let $=null;try{$=new URL(a)}catch{}return fetch(a,_)}function getApiKeyHeaders(){const a={};return apiKey&&(a[gatewayAuthHeader]=apiKey),embedHost&&(a[gatewayEmbedHostHeader]=embedHost),a}function debugLogResponse(a){log$5.info(`Response: ${a.status} ${a.statusText}`),log$5.info(`Url: ${a.url}`)}function logTracingHeader(a){log$5.info(`Request tracing with traceID=${a.headers.get("x-web3-correlation-id")}`)}const promiseTimeout=(a,_)=>{const $=new Promise((j,et)=>{const tt=setTimeout(()=>{clearTimeout(tt),et(new Error(`Timed out in ${a}ms`))},a)});return Promise.race([_,$])},get=async function(a){let _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},$=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const j={mode:"cors",headers:{}};$.useAPIKey&&(j.headers=_objectSpread$5(_objectSpread$5({},j.headers),getApiKeyHeaders()));const et=deepmerge$1(j,_,{method:"GET"}),tt=await fetchAndTrace(a,et);if(tt.ok)return tt.json();throw debugLogResponse(tt),tt},post=function(a){let _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},$=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},j=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const et={mode:"cors",headers:{"Content-Type":"application/json; charset=utf-8"}};j.useAPIKey&&(et.headers=_objectSpread$5(_objectSpread$5({},et.headers),getApiKeyHeaders()));const tt=deepmerge$1(et,$,{method:"POST"});return j.isUrlEncodedData?(tt.body=_,tt.headers["Content-Type"]==="application/json; charset=utf-8"&&delete tt.headers["Content-Type"]):tt.body=JSON.stringify(_),promiseTimeout(j.timeout||6e4,fetchAndTrace(a,tt).then(rt=>{if(j.logTracingHeader&&logTracingHeader(rt),rt.ok)return rt.json();throw debugLogResponse(rt),rt}))},generateJsonRPCObject=(a,_)=>({jsonrpc:"2.0",method:a,id:10,params:_});function _objectWithoutPropertiesLoose(a,_){if(a==null)return{};var $={};for(var j in a)if(Object.prototype.hasOwnProperty.call(a,j)){if(_.indexOf(j)>=0)continue;$[j]=a[j]}return $}function _objectWithoutProperties(a,_){if(a==null)return{};var $=_objectWithoutPropertiesLoose(a,_),j,et;if(Object.getOwnPropertySymbols){var tt=Object.getOwnPropertySymbols(a);for(et=0;et<tt.length;et++)j=tt[et],!(_.indexOf(j)>=0)&&Object.prototype.propertyIsEnumerable.call(a,j)&&($[j]=a[j])}return $}const BROWSER_ALIASES_MAP={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},BROWSER_MAP={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},PLATFORMS_MAP={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},OS_MAP={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},ENGINE_MAP={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"};class Utils{static getFirstMatch(_,$){const j=$.match(_);return j&&j.length>0&&j[1]||""}static getSecondMatch(_,$){const j=$.match(_);return j&&j.length>1&&j[2]||""}static matchAndReturnConst(_,$,j){if(_.test($))return j}static getWindowsVersionName(_){switch(_){case"NT":return"NT";case"XP":return"XP";case"NT 5.0":return"2000";case"NT 5.1":return"XP";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}}static getMacOSVersionName(_){const $=_.split(".").splice(0,2).map(j=>parseInt(j,10)||0);if($.push(0),$[0]===10)switch($[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}}static getAndroidVersionName(_){const $=_.split(".").splice(0,2).map(j=>parseInt(j,10)||0);if($.push(0),!($[0]===1&&$[1]<5)){if($[0]===1&&$[1]<6)return"Cupcake";if($[0]===1&&$[1]>=6)return"Donut";if($[0]===2&&$[1]<2)return"Eclair";if($[0]===2&&$[1]===2)return"Froyo";if($[0]===2&&$[1]>2)return"Gingerbread";if($[0]===3)return"Honeycomb";if($[0]===4&&$[1]<1)return"Ice Cream Sandwich";if($[0]===4&&$[1]<4)return"Jelly Bean";if($[0]===4&&$[1]>=4)return"KitKat";if($[0]===5)return"Lollipop";if($[0]===6)return"Marshmallow";if($[0]===7)return"Nougat";if($[0]===8)return"Oreo";if($[0]===9)return"Pie"}}static getVersionPrecision(_){return _.split(".").length}static compareVersions(_,$,j=!1){const et=Utils.getVersionPrecision(_),tt=Utils.getVersionPrecision($);let rt=Math.max(et,tt),nt=0;const it=Utils.map([_,$],st=>{const ot=rt-Utils.getVersionPrecision(st),at=st+new Array(ot+1).join(".0");return Utils.map(at.split("."),ut=>new Array(20-ut.length).join("0")+ut).reverse()});for(j&&(nt=rt-Math.min(et,tt)),rt-=1;rt>=nt;){if(it[0][rt]>it[1][rt])return 1;if(it[0][rt]===it[1][rt]){if(rt===nt)return 0;rt-=1}else if(it[0][rt]<it[1][rt])return-1}}static map(_,$){const j=[];let et;if(Array.prototype.map)return Array.prototype.map.call(_,$);for(et=0;et<_.length;et+=1)j.push($(_[et]));return j}static find(_,$){let j,et;if(Array.prototype.find)return Array.prototype.find.call(_,$);for(j=0,et=_.length;j<et;j+=1){const tt=_[j];if($(tt,j))return tt}}static assign(_,...$){const j=_;let et,tt;if(Object.assign)return Object.assign(_,...$);for(et=0,tt=$.length;et<tt;et+=1){const rt=$[et];typeof rt=="object"&&rt!==null&&Object.keys(rt).forEach(it=>{j[it]=rt[it]})}return _}static getBrowserAlias(_){return BROWSER_ALIASES_MAP[_]}static getBrowserTypeByAlias(_){return BROWSER_MAP[_]||""}}const commonVersionIdentifier=/version\/(\d+(\.?_?\d+)+)/i,browsersList=[{test:[/googlebot/i],describe(a){const _={name:"Googlebot"},$=Utils.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,a)||Utils.getFirstMatch(commonVersionIdentifier,a);return $&&(_.version=$),_}},{test:[/opera/i],describe(a){const _={name:"Opera"},$=Utils.getFirstMatch(commonVersionIdentifier,a)||Utils.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,a);return $&&(_.version=$),_}},{test:[/opr\/|opios/i],describe(a){const _={name:"Opera"},$=Utils.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,a)||Utils.getFirstMatch(commonVersionIdentifier,a);return $&&(_.version=$),_}},{test:[/SamsungBrowser/i],describe(a){const _={name:"Samsung Internet for Android"},$=Utils.getFirstMatch(commonVersionIdentifier,a)||Utils.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,a);return $&&(_.version=$),_}},{test:[/Whale/i],describe(a){const _={name:"NAVER Whale Browser"},$=Utils.getFirstMatch(commonVersionIdentifier,a)||Utils.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,a);return $&&(_.version=$),_}},{test:[/MZBrowser/i],describe(a){const _={name:"MZ Browser"},$=Utils.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,a)||Utils.getFirstMatch(commonVersionIdentifier,a);return $&&(_.version=$),_}},{test:[/focus/i],describe(a){const _={name:"Focus"},$=Utils.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,a)||Utils.getFirstMatch(commonVersionIdentifier,a);return $&&(_.version=$),_}},{test:[/swing/i],describe(a){const _={name:"Swing"},$=Utils.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,a)||Utils.getFirstMatch(commonVersionIdentifier,a);return $&&(_.version=$),_}},{test:[/coast/i],describe(a){const _={name:"Opera Coast"},$=Utils.getFirstMatch(commonVersionIdentifier,a)||Utils.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,a);return $&&(_.version=$),_}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe(a){const _={name:"Opera Touch"},$=Utils.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,a)||Utils.getFirstMatch(commonVersionIdentifier,a);return $&&(_.version=$),_}},{test:[/yabrowser/i],describe(a){const _={name:"Yandex Browser"},$=Utils.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,a)||Utils.getFirstMatch(commonVersionIdentifier,a);return $&&(_.version=$),_}},{test:[/ucbrowser/i],describe(a){const _={name:"UC Browser"},$=Utils.getFirstMatch(commonVersionIdentifier,a)||Utils.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,a);return $&&(_.version=$),_}},{test:[/Maxthon|mxios/i],describe(a){const _={name:"Maxthon"},$=Utils.getFirstMatch(commonVersionIdentifier,a)||Utils.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,a);return $&&(_.version=$),_}},{test:[/epiphany/i],describe(a){const _={name:"Epiphany"},$=Utils.getFirstMatch(commonVersionIdentifier,a)||Utils.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,a);return $&&(_.version=$),_}},{test:[/puffin/i],describe(a){const _={name:"Puffin"},$=Utils.getFirstMatch(commonVersionIdentifier,a)||Utils.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,a);return $&&(_.version=$),_}},{test:[/sleipnir/i],describe(a){const _={name:"Sleipnir"},$=Utils.getFirstMatch(commonVersionIdentifier,a)||Utils.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,a);return $&&(_.version=$),_}},{test:[/k-meleon/i],describe(a){const _={name:"K-Meleon"},$=Utils.getFirstMatch(commonVersionIdentifier,a)||Utils.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,a);return $&&(_.version=$),_}},{test:[/micromessenger/i],describe(a){const _={name:"WeChat"},$=Utils.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,a)||Utils.getFirstMatch(commonVersionIdentifier,a);return $&&(_.version=$),_}},{test:[/qqbrowser/i],describe(a){const _={name:/qqbrowserlite/i.test(a)?"QQ Browser Lite":"QQ Browser"},$=Utils.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,a)||Utils.getFirstMatch(commonVersionIdentifier,a);return $&&(_.version=$),_}},{test:[/msie|trident/i],describe(a){const _={name:"Internet Explorer"},$=Utils.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,a);return $&&(_.version=$),_}},{test:[/\sedg\//i],describe(a){const _={name:"Microsoft Edge"},$=Utils.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,a);return $&&(_.version=$),_}},{test:[/edg([ea]|ios)/i],describe(a){const _={name:"Microsoft Edge"},$=Utils.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,a);return $&&(_.version=$),_}},{test:[/vivaldi/i],describe(a){const _={name:"Vivaldi"},$=Utils.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,a);return $&&(_.version=$),_}},{test:[/seamonkey/i],describe(a){const _={name:"SeaMonkey"},$=Utils.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,a);return $&&(_.version=$),_}},{test:[/sailfish/i],describe(a){const _={name:"Sailfish"},$=Utils.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,a);return $&&(_.version=$),_}},{test:[/silk/i],describe(a){const _={name:"Amazon Silk"},$=Utils.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,a);return $&&(_.version=$),_}},{test:[/phantom/i],describe(a){const _={name:"PhantomJS"},$=Utils.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,a);return $&&(_.version=$),_}},{test:[/slimerjs/i],describe(a){const _={name:"SlimerJS"},$=Utils.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,a);return $&&(_.version=$),_}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(a){const _={name:"BlackBerry"},$=Utils.getFirstMatch(commonVersionIdentifier,a)||Utils.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,a);return $&&(_.version=$),_}},{test:[/(web|hpw)[o0]s/i],describe(a){const _={name:"WebOS Browser"},$=Utils.getFirstMatch(commonVersionIdentifier,a)||Utils.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,a);return $&&(_.version=$),_}},{test:[/bada/i],describe(a){const _={name:"Bada"},$=Utils.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,a);return $&&(_.version=$),_}},{test:[/tizen/i],describe(a){const _={name:"Tizen"},$=Utils.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,a)||Utils.getFirstMatch(commonVersionIdentifier,a);return $&&(_.version=$),_}},{test:[/qupzilla/i],describe(a){const _={name:"QupZilla"},$=Utils.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,a)||Utils.getFirstMatch(commonVersionIdentifier,a);return $&&(_.version=$),_}},{test:[/firefox|iceweasel|fxios/i],describe(a){const _={name:"Firefox"},$=Utils.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,a);return $&&(_.version=$),_}},{test:[/electron/i],describe(a){const _={name:"Electron"},$=Utils.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,a);return $&&(_.version=$),_}},{test:[/MiuiBrowser/i],describe(a){const _={name:"Miui"},$=Utils.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,a);return $&&(_.version=$),_}},{test:[/chromium/i],describe(a){const _={name:"Chromium"},$=Utils.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,a)||Utils.getFirstMatch(commonVersionIdentifier,a);return $&&(_.version=$),_}},{test:[/chrome|crios|crmo/i],describe(a){const _={name:"Chrome"},$=Utils.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,a);return $&&(_.version=$),_}},{test:[/GSA/i],describe(a){const _={name:"Google Search"},$=Utils.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,a);return $&&(_.version=$),_}},{test(a){const _=!a.test(/like android/i),$=a.test(/android/i);return _&&$},describe(a){const _={name:"Android Browser"},$=Utils.getFirstMatch(commonVersionIdentifier,a);return $&&(_.version=$),_}},{test:[/playstation 4/i],describe(a){const _={name:"PlayStation 4"},$=Utils.getFirstMatch(commonVersionIdentifier,a);return $&&(_.version=$),_}},{test:[/safari|applewebkit/i],describe(a){const _={name:"Safari"},$=Utils.getFirstMatch(commonVersionIdentifier,a);return $&&(_.version=$),_}},{test:[/.*/i],describe(a){const _=/^(.*)\/(.*) /,$=/^(.*)\/(.*)[ \t]\((.*)/,et=a.search("\\(")!==-1?$:_;return{name:Utils.getFirstMatch(et,a),version:Utils.getSecondMatch(et,a)}}}],osParsersList=[{test:[/Roku\/DVP/],describe(a){const _=Utils.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,a);return{name:OS_MAP.Roku,version:_}}},{test:[/windows phone/i],describe(a){const _=Utils.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,a);return{name:OS_MAP.WindowsPhone,version:_}}},{test:[/windows /i],describe(a){const _=Utils.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,a),$=Utils.getWindowsVersionName(_);return{name:OS_MAP.Windows,version:_,versionName:$}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe(a){const _={name:OS_MAP.iOS},$=Utils.getSecondMatch(/(Version\/)(\d[\d.]+)/,a);return $&&(_.version=$),_}},{test:[/macintosh/i],describe(a){const _=Utils.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,a).replace(/[_\s]/g,"."),$=Utils.getMacOSVersionName(_),j={name:OS_MAP.MacOS,version:_};return $&&(j.versionName=$),j}},{test:[/(ipod|iphone|ipad)/i],describe(a){const _=Utils.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,a).replace(/[_\s]/g,".");return{name:OS_MAP.iOS,version:_}}},{test(a){const _=!a.test(/like android/i),$=a.test(/android/i);return _&&$},describe(a){const _=Utils.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,a),$=Utils.getAndroidVersionName(_),j={name:OS_MAP.Android,version:_};return $&&(j.versionName=$),j}},{test:[/(web|hpw)[o0]s/i],describe(a){const _=Utils.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,a),$={name:OS_MAP.WebOS};return _&&_.length&&($.version=_),$}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(a){const _=Utils.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,a)||Utils.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,a)||Utils.getFirstMatch(/\bbb(\d+)/i,a);return{name:OS_MAP.BlackBerry,version:_}}},{test:[/bada/i],describe(a){const _=Utils.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,a);return{name:OS_MAP.Bada,version:_}}},{test:[/tizen/i],describe(a){const _=Utils.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,a);return{name:OS_MAP.Tizen,version:_}}},{test:[/linux/i],describe(){return{name:OS_MAP.Linux}}},{test:[/CrOS/],describe(){return{name:OS_MAP.ChromeOS}}},{test:[/PlayStation 4/],describe(a){const _=Utils.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,a);return{name:OS_MAP.PlayStation4,version:_}}}],platformParsersList=[{test:[/googlebot/i],describe(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe(a){const _=Utils.getFirstMatch(/(can-l01)/i,a)&&"Nova",$={type:PLATFORMS_MAP.mobile,vendor:"Huawei"};return _&&($.model=_),$}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe(){return{type:PLATFORMS_MAP.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe(){return{type:PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe(){return{type:PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe(){return{type:PLATFORMS_MAP.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe(){return{type:PLATFORMS_MAP.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe(){return{type:PLATFORMS_MAP.tablet}}},{test(a){const _=a.test(/ipod|iphone/i),$=a.test(/like (ipod|iphone)/i);return _&&!$},describe(a){const _=Utils.getFirstMatch(/(ipod|iphone)/i,a);return{type:PLATFORMS_MAP.mobile,vendor:"Apple",model:_}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe(){return{type:PLATFORMS_MAP.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe(){return{type:PLATFORMS_MAP.mobile}}},{test(a){return a.getBrowserName(!0)==="blackberry"},describe(){return{type:PLATFORMS_MAP.mobile,vendor:"BlackBerry"}}},{test(a){return a.getBrowserName(!0)==="bada"},describe(){return{type:PLATFORMS_MAP.mobile}}},{test(a){return a.getBrowserName()==="windows phone"},describe(){return{type:PLATFORMS_MAP.mobile,vendor:"Microsoft"}}},{test(a){const _=Number(String(a.getOSVersion()).split(".")[0]);return a.getOSName(!0)==="android"&&_>=3},describe(){return{type:PLATFORMS_MAP.tablet}}},{test(a){return a.getOSName(!0)==="android"},describe(){return{type:PLATFORMS_MAP.mobile}}},{test(a){return a.getOSName(!0)==="macos"},describe(){return{type:PLATFORMS_MAP.desktop,vendor:"Apple"}}},{test(a){return a.getOSName(!0)==="windows"},describe(){return{type:PLATFORMS_MAP.desktop}}},{test(a){return a.getOSName(!0)==="linux"},describe(){return{type:PLATFORMS_MAP.desktop}}},{test(a){return a.getOSName(!0)==="playstation 4"},describe(){return{type:PLATFORMS_MAP.tv}}},{test(a){return a.getOSName(!0)==="roku"},describe(){return{type:PLATFORMS_MAP.tv}}}],enginesParsersList=[{test(a){return a.getBrowserName(!0)==="microsoft edge"},describe(a){if(/\sedg\//i.test(a))return{name:ENGINE_MAP.Blink};const $=Utils.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,a);return{name:ENGINE_MAP.EdgeHTML,version:$}}},{test:[/trident/i],describe(a){const _={name:ENGINE_MAP.Trident},$=Utils.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,a);return $&&(_.version=$),_}},{test(a){return a.test(/presto/i)},describe(a){const _={name:ENGINE_MAP.Presto},$=Utils.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,a);return $&&(_.version=$),_}},{test(a){const _=a.test(/gecko/i),$=a.test(/like gecko/i);return _&&!$},describe(a){const _={name:ENGINE_MAP.Gecko},$=Utils.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,a);return $&&(_.version=$),_}},{test:[/(apple)?webkit\/537\.36/i],describe(){return{name:ENGINE_MAP.Blink}}},{test:[/(apple)?webkit/i],describe(a){const _={name:ENGINE_MAP.WebKit},$=Utils.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,a);return $&&(_.version=$),_}}];class Parser{constructor(_,$=!1){if(_==null||_==="")throw new Error("UserAgent parameter can't be empty");this._ua=_,this.parsedResult={},$!==!0&&this.parse()}getUA(){return this._ua}test(_){return _.test(this._ua)}parseBrowser(){this.parsedResult.browser={};const _=Utils.find(browsersList,$=>{if(typeof $.test=="function")return $.test(this);if($.test instanceof Array)return $.test.some(j=>this.test(j));throw new Error("Browser's test function is not valid")});return _&&(this.parsedResult.browser=_.describe(this.getUA())),this.parsedResult.browser}getBrowser(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()}getBrowserName(_){return _?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""}getBrowserVersion(){return this.getBrowser().version}getOS(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()}parseOS(){this.parsedResult.os={};const _=Utils.find(osParsersList,$=>{if(typeof $.test=="function")return $.test(this);if($.test instanceof Array)return $.test.some(j=>this.test(j));throw new Error("Browser's test function is not valid")});return _&&(this.parsedResult.os=_.describe(this.getUA())),this.parsedResult.os}getOSName(_){const{name:$}=this.getOS();return _?String($).toLowerCase()||"":$||""}getOSVersion(){return this.getOS().version}getPlatform(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()}getPlatformType(_=!1){const{type:$}=this.getPlatform();return _?String($).toLowerCase()||"":$||""}parsePlatform(){this.parsedResult.platform={};const _=Utils.find(platformParsersList,$=>{if(typeof $.test=="function")return $.test(this);if($.test instanceof Array)return $.test.some(j=>this.test(j));throw new Error("Browser's test function is not valid")});return _&&(this.parsedResult.platform=_.describe(this.getUA())),this.parsedResult.platform}getEngine(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()}getEngineName(_){return _?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""}parseEngine(){this.parsedResult.engine={};const _=Utils.find(enginesParsersList,$=>{if(typeof $.test=="function")return $.test(this);if($.test instanceof Array)return $.test.some(j=>this.test(j));throw new Error("Browser's test function is not valid")});return _&&(this.parsedResult.engine=_.describe(this.getUA())),this.parsedResult.engine}parse(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this}getResult(){return Utils.assign({},this.parsedResult)}satisfies(_){const $={};let j=0;const et={};let tt=0;if(Object.keys(_).forEach(nt=>{const it=_[nt];typeof it=="string"?(et[nt]=it,tt+=1):typeof it=="object"&&($[nt]=it,j+=1)}),j>0){const nt=Object.keys($),it=Utils.find(nt,ot=>this.isOS(ot));if(it){const ot=this.satisfies($[it]);if(ot!==void 0)return ot}const st=Utils.find(nt,ot=>this.isPlatform(ot));if(st){const ot=this.satisfies($[st]);if(ot!==void 0)return ot}}if(tt>0){const nt=Object.keys(et),it=Utils.find(nt,st=>this.isBrowser(st,!0));if(it!==void 0)return this.compareVersion(et[it])}}isBrowser(_,$=!1){const j=this.getBrowserName().toLowerCase();let et=_.toLowerCase();const tt=Utils.getBrowserTypeByAlias(et);return $&&tt&&(et=tt.toLowerCase()),et===j}compareVersion(_){let $=[0],j=_,et=!1;const tt=this.getBrowserVersion();if(typeof tt=="string")return _[0]===">"||_[0]==="<"?(j=_.substr(1),_[1]==="="?(et=!0,j=_.substr(2)):$=[],_[0]===">"?$.push(1):$.push(-1)):_[0]==="="?j=_.substr(1):_[0]==="~"&&(et=!0,j=_.substr(1)),$.indexOf(Utils.compareVersions(tt,j,et))>-1}isOS(_){return this.getOSName(!0)===String(_).toLowerCase()}isPlatform(_){return this.getPlatformType(!0)===String(_).toLowerCase()}isEngine(_){return this.getEngineName(!0)===String(_).toLowerCase()}is(_,$=!1){return this.isBrowser(_,$)||this.isOS(_)||this.isPlatform(_)}some(_=[]){return _.some($=>this.is($))}}/*!
 * Bowser - a browser detector
 * https://github.com/lancedikson/bowser
 * MIT License | (c) Dustin Diaz 2012-2015
 * MIT License | (c) Denis Demchenko 2015-2019
 */class Bowser{static getParser(_,$=!1){if(typeof _!="string")throw new Error("UserAgent should be a string");return new Parser(_,$)}static parse(_){return new Parser(_).getResult()}static get BROWSER_MAP(){return BROWSER_MAP}static get ENGINE_MAP(){return ENGINE_MAP}static get OS_MAP(){return OS_MAP}static get PLATFORMS_MAP(){return PLATFORMS_MAP}}function isPromise(a){return!!(a&&typeof a.then=="function")}Promise.resolve(!1);Promise.resolve(!0);var PROMISE_RESOLVED_VOID=Promise.resolve();function sleep(a,_){return a||(a=0),new Promise(function($){return setTimeout(function(){return $(_)},a)})}function randomInt(a,_){return Math.floor(Math.random()*(_-a+1)+a)}function randomToken(){return Math.random().toString(36).substring(2)}var lastMs=0,additional=0;function microSeconds$5(){var a=new Date().getTime();return a===lastMs?(additional++,a*1e3+additional):(lastMs=a,additional=0,a*1e3)}function are3PCSupported$1(){if(typeof navigator>"u")return!1;var a=Bowser.parse(navigator.userAgent);log$4.info(JSON.stringify(a),"current browser info");var _=!0;return navigator.brave&&(_=!1),(a.engine.name===Bowser.ENGINE_MAP.WebKit||a.engine.name===Bowser.ENGINE_MAP.Gecko)&&(_=!1),_}var log$4=log$1$1.getLogger("broadcast-channel");log$4.setLevel("error");var microSeconds$4=microSeconds$5,type$4="native";function create$4(a){var _={messagesCallback:null,bc:new BroadcastChannel(a),subFns:[]};return _.bc.onmessage=function($){_.messagesCallback&&_.messagesCallback($.data)},_}function close$4(a){a.bc.close(),a.subFns=[]}function postMessage$4(a,_){try{return a.bc.postMessage(_,!1),PROMISE_RESOLVED_VOID}catch($){return Promise.reject($)}}function onMessage$4(a,_){a.messagesCallback=_}function canBeUsed$4(a){if(typeof window>"u"||!a.support3PC)return!1;if(typeof BroadcastChannel=="function"){if(BroadcastChannel._pubkey)throw new Error("BroadcastChannel: Do not overwrite window.BroadcastChannel with this module, this is not a polyfill");return!0}else return!1}function averageResponseTime$4(){return 150}const NativeMethod={create:create$4,close:close$4,onMessage:onMessage$4,postMessage:postMessage$4,canBeUsed:canBeUsed$4,type:type$4,averageResponseTime:averageResponseTime$4,microSeconds:microSeconds$4};var ObliviousSet=function(){function a(_){this.ttl=_,this.map=new Map,this._to=!1}return a.prototype.has=function(_){return this.map.has(_)},a.prototype.add=function(_){var $=this;this.map.set(_,now()),this._to||(this._to=!0,setTimeout(function(){$._to=!1,removeTooOldValues($)},0))},a.prototype.clear=function(){this.map.clear()},a}();function removeTooOldValues(a){for(var _=now()-a.ttl,$=a.map[Symbol.iterator]();;){var j=$.next().value;if(!j)return;var et=j[0],tt=j[1];if(tt<_)a.map.delete(et);else return}}function now(){return new Date().getTime()}function fillOptionsWithDefaults(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},_=JSON.parse(JSON.stringify(a));return typeof _.support3PC>"u"&&(_.support3PC=are3PCSupported$1()),typeof _.webWorkerSupport>"u"&&(_.webWorkerSupport=!0),_.idb||(_.idb={}),_.idb.ttl||(_.idb.ttl=1e3*45),_.idb.fallbackInterval||(_.idb.fallbackInterval=150),a.idb&&typeof a.idb.onclose=="function"&&(_.idb.onclose=a.idb.onclose),_.localstorage||(_.localstorage={}),_.localstorage.removeTimeout||(_.localstorage.removeTimeout=1e3*60),_.server||(_.server={}),_.server.url||(_.server.url="https://broadcast-server.tor.us"),_.server.removeTimeout||(_.server.removeTimeout=1e3*60*5),a.methods&&(_.methods=a.methods),_}var microSeconds$3=microSeconds$5,DB_PREFIX="pubkey.broadcast-channel-0-",OBJECT_STORE_ID="messages",TRANSACTION_SETTINGS={durability:"relaxed"},type$3="idb";function getIdb(){if(typeof indexedDB<"u")return indexedDB;if(typeof window<"u"){if(typeof window.mozIndexedDB<"u")return window.mozIndexedDB;if(typeof window.webkitIndexedDB<"u")return window.webkitIndexedDB;if(typeof window.msIndexedDB<"u")return window.msIndexedDB}return!1}function commitIndexedDBTransaction(a){a.commit&&a.commit()}function createDatabase(a){var _=getIdb(),$=DB_PREFIX+a,j=_.open($);j.onupgradeneeded=function(tt){var rt=tt.target.result;rt.createObjectStore(OBJECT_STORE_ID,{keyPath:"id",autoIncrement:!0})};var et=new Promise(function(tt,rt){j.onerror=function(nt){return rt(nt)},j.onsuccess=function(){tt(j.result)}});return et}function writeMessage(a,_,$){var j=new Date().getTime(),et={uuid:_,time:j,data:$},tt=a.transaction([OBJECT_STORE_ID],"readwrite",TRANSACTION_SETTINGS);return new Promise(function(rt,nt){tt.oncomplete=function(){return rt()},tt.onerror=function(st){return nt(st)};var it=tt.objectStore(OBJECT_STORE_ID);it.add(et),commitIndexedDBTransaction(tt)})}function getMessagesHigherThan(a,_){var $=a.transaction(OBJECT_STORE_ID,"readonly",TRANSACTION_SETTINGS),j=$.objectStore(OBJECT_STORE_ID),et=[],tt=IDBKeyRange.bound(_+1,1/0);if(j.getAll){var rt=j.getAll(tt);return new Promise(function(it,st){rt.onerror=function(ot){return st(ot)},rt.onsuccess=function(ot){it(ot.target.result)}})}function nt(){try{return tt=IDBKeyRange.bound(_+1,1/0),j.openCursor(tt)}catch{return j.openCursor()}}return new Promise(function(it,st){var ot=nt();ot.onerror=function(at){return st(at)},ot.onsuccess=function(at){var ut=at.target.result;ut?ut.value.id<_+1?ut.continue(_+1):(et.push(ut.value),ut.continue()):(commitIndexedDBTransaction($),it(et))}})}function removeMessagesById(a,_){var $=a.transaction([OBJECT_STORE_ID],"readwrite",TRANSACTION_SETTINGS),j=$.objectStore(OBJECT_STORE_ID);return Promise.all(_.map(function(et){var tt=j.delete(et);return new Promise(function(rt){tt.onsuccess=function(){return rt()}})}))}function getOldMessages(a,_){var $=new Date().getTime()-_,j=a.transaction(OBJECT_STORE_ID,"readonly",TRANSACTION_SETTINGS),et=j.objectStore(OBJECT_STORE_ID),tt=[];return new Promise(function(rt){et.openCursor().onsuccess=function(nt){var it=nt.target.result;if(it){var st=it.value;if(st.time<$)tt.push(st),it.continue();else{commitIndexedDBTransaction(j),rt(tt);return}}else rt(tt)}})}function cleanOldMessages(a,_){return getOldMessages(a,_).then(function($){return removeMessagesById(a,$.map(function(j){return j.id}))})}function create$3(a,_){return _=fillOptionsWithDefaults(_),createDatabase(a).then(function($){var j={closed:!1,lastCursorId:0,channelName:a,options:_,uuid:randomToken(),eMIs:new ObliviousSet(_.idb.ttl*2),writeBlockPromise:PROMISE_RESOLVED_VOID,messagesCallback:null,readQueuePromises:[],db:$};return $.onclose=function(){j.closed=!0,_.idb.onclose&&_.idb.onclose()},_readLoop(j),j})}function _readLoop(a){a.closed||readNewMessages(a).then(function(){return sleep(a.options.idb.fallbackInterval)}).then(function(){return _readLoop(a)})}function _filterMessage(a,_){return!(a.uuid===_.uuid||_.eMIs.has(a.id)||a.data.time<_.messagesCallbackTime)}function readNewMessages(a){return a.closed||!a.messagesCallback?PROMISE_RESOLVED_VOID:getMessagesHigherThan(a.db,a.lastCursorId).then(function(_){var $=_.filter(function(j){return!!j}).map(function(j){return j.id>a.lastCursorId&&(a.lastCursorId=j.id),j}).filter(function(j){return _filterMessage(j,a)}).sort(function(j,et){return j.time-et.time});return $.forEach(function(j){a.messagesCallback&&(a.eMIs.add(j.id),a.messagesCallback(j.data))}),PROMISE_RESOLVED_VOID})}function close$3(a){a.closed=!0,a.db.close()}function postMessage$3(a,_){return a.writeBlockPromise=a.writeBlockPromise.then(function(){return writeMessage(a.db,a.uuid,_)}).then(function(){randomInt(0,10)===0&&cleanOldMessages(a.db,a.options.idb.ttl)}),a.writeBlockPromise}function onMessage$3(a,_,$){a.messagesCallbackTime=$,a.messagesCallback=_,readNewMessages(a)}function canBeUsed$3(a){if(!a.support3PC)return!1;var _=getIdb();return!!_}function averageResponseTime$3(a){return a.idb.fallbackInterval*2}const IndexeDbMethod={create:create$3,close:close$3,onMessage:onMessage$3,postMessage:postMessage$3,canBeUsed:canBeUsed$3,type:type$3,averageResponseTime:averageResponseTime$3,microSeconds:microSeconds$3};var microSeconds$2=microSeconds$5,KEY_PREFIX$1="pubkey.broadcastChannel-",type$2="localstorage";function getLocalStorage(){var a;if(typeof window>"u")return null;try{a=window.localStorage,a=window["ie8-eventlistener/storage"]||window.localStorage}catch{}return a}function storageKey$1(a){return KEY_PREFIX$1+a}function postMessage$2(a,_){return new Promise(function($){sleep().then(function(){var j=storageKey$1(a.channelName),et={token:randomToken(),time:new Date().getTime(),data:_,uuid:a.uuid},tt=JSON.stringify(et);getLocalStorage().setItem(j,tt);var rt=document.createEvent("Event");rt.initEvent("storage",!0,!0),rt.key=j,rt.newValue=tt,window.dispatchEvent(rt),$()})})}function addStorageEventListener(a,_){var $=storageKey$1(a),j=function(tt){tt.key===$&&_(JSON.parse(tt.newValue))};return window.addEventListener("storage",j),j}function removeStorageEventListener(a){window.removeEventListener("storage",a)}function create$2(a,_){if(_=fillOptionsWithDefaults(_),!canBeUsed$2(_))throw new Error("BroadcastChannel: localstorage cannot be used");var $=randomToken(),j=new ObliviousSet(_.localstorage.removeTimeout),et={channelName:a,uuid:$,eMIs:j};return et.listener=addStorageEventListener(a,function(tt){et.messagesCallback&&tt.uuid!==$&&(!tt.token||j.has(tt.token)||tt.data.time&&tt.data.time<et.messagesCallbackTime||(j.add(tt.token),et.messagesCallback(tt.data)))}),et}function close$2(a){removeStorageEventListener(a.listener)}function onMessage$2(a,_,$){a.messagesCallbackTime=$,a.messagesCallback=_}function canBeUsed$2(a){if(!a.support3PC)return!1;var _=getLocalStorage();if(!_)return!1;try{var $="__broadcastchannel_check";_.setItem($,"works"),_.removeItem($)}catch{return!1}return!0}function averageResponseTime$2(){var a=120,_=navigator.userAgent.toLowerCase();return _.includes("safari")&&!_.includes("chrome")?a*2:a}const LocalstorageMethod={create:create$2,close:close$2,onMessage:onMessage$2,postMessage:postMessage$2,canBeUsed:canBeUsed$2,type:type$2,averageResponseTime:averageResponseTime$2,microSeconds:microSeconds$2};function asyncGeneratorStep(a,_,$,j,et,tt,rt){try{var nt=a[tt](rt),it=nt.value}catch(st){$(st);return}nt.done?_(it):Promise.resolve(it).then(j,et)}function _asyncToGenerator(a){return function(){var _=this,$=arguments;return new Promise(function(j,et){var tt=a.apply(_,$);function rt(it){asyncGeneratorStep(tt,j,et,rt,nt,"next",it)}function nt(it){asyncGeneratorStep(tt,j,et,rt,nt,"throw",it)}rt(void 0)})}}var regeneratorRuntime$1={exports:{}},_typeof$2={exports:{}};(function(a){function _($){"@babel/helpers - typeof";return a.exports=_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(j){return typeof j}:function(j){return j&&typeof Symbol=="function"&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":typeof j},a.exports.__esModule=!0,a.exports.default=a.exports,_($)}a.exports=_,a.exports.__esModule=!0,a.exports.default=a.exports})(_typeof$2);var _typeofExports=_typeof$2.exports;(function(a){var _=_typeofExports.default;function $(){a.exports=$=function(){return j},a.exports.__esModule=!0,a.exports.default=a.exports;var j={},et=Object.prototype,tt=et.hasOwnProperty,rt=Object.defineProperty||function(ct,dt,mt){ct[dt]=mt.value},nt=typeof Symbol=="function"?Symbol:{},it=nt.iterator||"@@iterator",st=nt.asyncIterator||"@@asyncIterator",ot=nt.toStringTag||"@@toStringTag";function at(ct,dt,mt){return Object.defineProperty(ct,dt,{value:mt,enumerable:!0,configurable:!0,writable:!0}),ct[dt]}try{at({},"")}catch{at=function(mt,xt,At){return mt[xt]=At}}function ut(ct,dt,mt,xt){var At=dt&&dt.prototype instanceof wt?dt:wt,Rt=Object.create(At.prototype),St=new bt(xt||[]);return rt(Rt,"_invoke",{value:It(ct,mt,St)}),Rt}function ht(ct,dt,mt){try{return{type:"normal",arg:ct.call(dt,mt)}}catch(xt){return{type:"throw",arg:xt}}}j.wrap=ut;var yt={};function wt(){}function Ct(){}function Pt(){}var Tt={};at(Tt,it,function(){return this});var Mt=Object.getPrototypeOf,Lt=Mt&&Mt(Mt(vt([])));Lt&&Lt!==et&&tt.call(Lt,it)&&(Tt=Lt);var Dt=Pt.prototype=wt.prototype=Object.create(Tt);function Ut(ct){["next","throw","return"].forEach(function(dt){at(ct,dt,function(mt){return this._invoke(dt,mt)})})}function Ot(ct,dt){function mt(At,Rt,St,$t){var Et=ht(ct[At],ct,Rt);if(Et.type!=="throw"){var Nt=Et.arg,tr=Nt.value;return tr&&_(tr)=="object"&&tt.call(tr,"__await")?dt.resolve(tr.__await).then(function(ir){mt("next",ir,St,$t)},function(ir){mt("throw",ir,St,$t)}):dt.resolve(tr).then(function(ir){Nt.value=ir,St(Nt)},function(ir){return mt("throw",ir,St,$t)})}$t(Et.arg)}var xt;rt(this,"_invoke",{value:function(Rt,St){function $t(){return new dt(function(Et,Nt){mt(Rt,St,Et,Nt)})}return xt=xt?xt.then($t,$t):$t()}})}function It(ct,dt,mt){var xt="suspendedStart";return function(At,Rt){if(xt==="executing")throw new Error("Generator is already running");if(xt==="completed"){if(At==="throw")throw Rt;return{value:void 0,done:!0}}for(mt.method=At,mt.arg=Rt;;){var St=mt.delegate;if(St){var $t=Bt(St,mt);if($t){if($t===yt)continue;return $t}}if(mt.method==="next")mt.sent=mt._sent=mt.arg;else if(mt.method==="throw"){if(xt==="suspendedStart")throw xt="completed",mt.arg;mt.dispatchException(mt.arg)}else mt.method==="return"&&mt.abrupt("return",mt.arg);xt="executing";var Et=ht(ct,dt,mt);if(Et.type==="normal"){if(xt=mt.done?"completed":"suspendedYield",Et.arg===yt)continue;return{value:Et.arg,done:mt.done}}Et.type==="throw"&&(xt="completed",mt.method="throw",mt.arg=Et.arg)}}}function Bt(ct,dt){var mt=dt.method,xt=ct.iterator[mt];if(xt===void 0)return dt.delegate=null,mt==="throw"&&ct.iterator.return&&(dt.method="return",dt.arg=void 0,Bt(ct,dt),dt.method==="throw")||mt!=="return"&&(dt.method="throw",dt.arg=new TypeError("The iterator does not provide a '"+mt+"' method")),yt;var At=ht(xt,ct.iterator,dt.arg);if(At.type==="throw")return dt.method="throw",dt.arg=At.arg,dt.delegate=null,yt;var Rt=At.arg;return Rt?Rt.done?(dt[ct.resultName]=Rt.value,dt.next=ct.nextLoc,dt.method!=="return"&&(dt.method="next",dt.arg=void 0),dt.delegate=null,yt):Rt:(dt.method="throw",dt.arg=new TypeError("iterator result is not an object"),dt.delegate=null,yt)}function Ft(ct){var dt={tryLoc:ct[0]};1 in ct&&(dt.catchLoc=ct[1]),2 in ct&&(dt.finallyLoc=ct[2],dt.afterLoc=ct[3]),this.tryEntries.push(dt)}function jt(ct){var dt=ct.completion||{};dt.type="normal",delete dt.arg,ct.completion=dt}function bt(ct){this.tryEntries=[{tryLoc:"root"}],ct.forEach(Ft,this),this.reset(!0)}function vt(ct){if(ct||ct===""){var dt=ct[it];if(dt)return dt.call(ct);if(typeof ct.next=="function")return ct;if(!isNaN(ct.length)){var mt=-1,xt=function At(){for(;++mt<ct.length;)if(tt.call(ct,mt))return At.value=ct[mt],At.done=!1,At;return At.value=void 0,At.done=!0,At};return xt.next=xt}}throw new TypeError(_(ct)+" is not iterable")}return Ct.prototype=Pt,rt(Dt,"constructor",{value:Pt,configurable:!0}),rt(Pt,"constructor",{value:Ct,configurable:!0}),Ct.displayName=at(Pt,ot,"GeneratorFunction"),j.isGeneratorFunction=function(ct){var dt=typeof ct=="function"&&ct.constructor;return!!dt&&(dt===Ct||(dt.displayName||dt.name)==="GeneratorFunction")},j.mark=function(ct){return Object.setPrototypeOf?Object.setPrototypeOf(ct,Pt):(ct.__proto__=Pt,at(ct,ot,"GeneratorFunction")),ct.prototype=Object.create(Dt),ct},j.awrap=function(ct){return{__await:ct}},Ut(Ot.prototype),at(Ot.prototype,st,function(){return this}),j.AsyncIterator=Ot,j.async=function(ct,dt,mt,xt,At){At===void 0&&(At=Promise);var Rt=new Ot(ut(ct,dt,mt,xt),At);return j.isGeneratorFunction(dt)?Rt:Rt.next().then(function(St){return St.done?St.value:Rt.next()})},Ut(Dt),at(Dt,ot,"Generator"),at(Dt,it,function(){return this}),at(Dt,"toString",function(){return"[object Generator]"}),j.keys=function(ct){var dt=Object(ct),mt=[];for(var xt in dt)mt.push(xt);return mt.reverse(),function At(){for(;mt.length;){var Rt=mt.pop();if(Rt in dt)return At.value=Rt,At.done=!1,At}return At.done=!0,At}},j.values=vt,bt.prototype={constructor:bt,reset:function(dt){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(jt),!dt)for(var mt in this)mt.charAt(0)==="t"&&tt.call(this,mt)&&!isNaN(+mt.slice(1))&&(this[mt]=void 0)},stop:function(){this.done=!0;var dt=this.tryEntries[0].completion;if(dt.type==="throw")throw dt.arg;return this.rval},dispatchException:function(dt){if(this.done)throw dt;var mt=this;function xt(Nt,tr){return St.type="throw",St.arg=dt,mt.next=Nt,tr&&(mt.method="next",mt.arg=void 0),!!tr}for(var At=this.tryEntries.length-1;At>=0;--At){var Rt=this.tryEntries[At],St=Rt.completion;if(Rt.tryLoc==="root")return xt("end");if(Rt.tryLoc<=this.prev){var $t=tt.call(Rt,"catchLoc"),Et=tt.call(Rt,"finallyLoc");if($t&&Et){if(this.prev<Rt.catchLoc)return xt(Rt.catchLoc,!0);if(this.prev<Rt.finallyLoc)return xt(Rt.finallyLoc)}else if($t){if(this.prev<Rt.catchLoc)return xt(Rt.catchLoc,!0)}else{if(!Et)throw new Error("try statement without catch or finally");if(this.prev<Rt.finallyLoc)return xt(Rt.finallyLoc)}}}},abrupt:function(dt,mt){for(var xt=this.tryEntries.length-1;xt>=0;--xt){var At=this.tryEntries[xt];if(At.tryLoc<=this.prev&&tt.call(At,"finallyLoc")&&this.prev<At.finallyLoc){var Rt=At;break}}Rt&&(dt==="break"||dt==="continue")&&Rt.tryLoc<=mt&&mt<=Rt.finallyLoc&&(Rt=null);var St=Rt?Rt.completion:{};return St.type=dt,St.arg=mt,Rt?(this.method="next",this.next=Rt.finallyLoc,yt):this.complete(St)},complete:function(dt,mt){if(dt.type==="throw")throw dt.arg;return dt.type==="break"||dt.type==="continue"?this.next=dt.arg:dt.type==="return"?(this.rval=this.arg=dt.arg,this.method="return",this.next="end"):dt.type==="normal"&&mt&&(this.next=mt),yt},finish:function(dt){for(var mt=this.tryEntries.length-1;mt>=0;--mt){var xt=this.tryEntries[mt];if(xt.finallyLoc===dt)return this.complete(xt.completion,xt.afterLoc),jt(xt),yt}},catch:function(dt){for(var mt=this.tryEntries.length-1;mt>=0;--mt){var xt=this.tryEntries[mt];if(xt.tryLoc===dt){var At=xt.completion;if(At.type==="throw"){var Rt=At.arg;jt(xt)}return Rt}}throw new Error("illegal catch attempt")},delegateYield:function(dt,mt,xt){return this.delegate={iterator:vt(dt),resultName:mt,nextLoc:xt},this.method==="next"&&(this.arg=void 0),yt}},j}a.exports=$,a.exports.__esModule=!0,a.exports.default=a.exports})(regeneratorRuntime$1);var regeneratorRuntimeExports=regeneratorRuntime$1.exports,runtime=regeneratorRuntimeExports(),regenerator=runtime;try{regeneratorRuntime=runtime}catch(a){typeof globalThis=="object"?globalThis.regeneratorRuntime=runtime:Function("r","regeneratorRuntime = r")(runtime)}const _regeneratorRuntime=getDefaultExportFromCjs$1(regenerator),PACKET_TYPES=Object.create(null);PACKET_TYPES.open="0";PACKET_TYPES.close="1";PACKET_TYPES.ping="2";PACKET_TYPES.pong="3";PACKET_TYPES.message="4";PACKET_TYPES.upgrade="5";PACKET_TYPES.noop="6";const PACKET_TYPES_REVERSE=Object.create(null);Object.keys(PACKET_TYPES).forEach(a=>{PACKET_TYPES_REVERSE[PACKET_TYPES[a]]=a});const ERROR_PACKET={type:"error",data:"parser error"},withNativeBlob$1=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",withNativeArrayBuffer$2=typeof ArrayBuffer=="function",isView$1=a=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(a):a&&a.buffer instanceof ArrayBuffer,encodePacket=({type:a,data:_},$,j)=>withNativeBlob$1&&_ instanceof Blob?$?j(_):encodeBlobAsBase64(_,j):withNativeArrayBuffer$2&&(_ instanceof ArrayBuffer||isView$1(_))?$?j(_):encodeBlobAsBase64(new Blob([_]),j):j(PACKET_TYPES[a]+(_||"")),encodeBlobAsBase64=(a,_)=>{const $=new FileReader;return $.onload=function(){const j=$.result.split(",")[1];_("b"+(j||""))},$.readAsDataURL(a)};function toArray(a){return a instanceof Uint8Array?a:a instanceof ArrayBuffer?new Uint8Array(a):new Uint8Array(a.buffer,a.byteOffset,a.byteLength)}let TEXT_ENCODER;function encodePacketToBinary(a,_){if(withNativeBlob$1&&a.data instanceof Blob)return a.data.arrayBuffer().then(toArray).then(_);if(withNativeArrayBuffer$2&&(a.data instanceof ArrayBuffer||isView$1(a.data)))return _(toArray(a.data));encodePacket(a,!1,$=>{TEXT_ENCODER||(TEXT_ENCODER=new TextEncoder),_(TEXT_ENCODER.encode($))})}const chars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",lookup$1=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let a=0;a<chars.length;a++)lookup$1[chars.charCodeAt(a)]=a;const decode$2=a=>{let _=a.length*.75,$=a.length,j,et=0,tt,rt,nt,it;a[a.length-1]==="="&&(_--,a[a.length-2]==="="&&_--);const st=new ArrayBuffer(_),ot=new Uint8Array(st);for(j=0;j<$;j+=4)tt=lookup$1[a.charCodeAt(j)],rt=lookup$1[a.charCodeAt(j+1)],nt=lookup$1[a.charCodeAt(j+2)],it=lookup$1[a.charCodeAt(j+3)],ot[et++]=tt<<2|rt>>4,ot[et++]=(rt&15)<<4|nt>>2,ot[et++]=(nt&3)<<6|it&63;return st},withNativeArrayBuffer$1=typeof ArrayBuffer=="function",decodePacket=(a,_)=>{if(typeof a!="string")return{type:"message",data:mapBinary(a,_)};const $=a.charAt(0);return $==="b"?{type:"message",data:decodeBase64Packet(a.substring(1),_)}:PACKET_TYPES_REVERSE[$]?a.length>1?{type:PACKET_TYPES_REVERSE[$],data:a.substring(1)}:{type:PACKET_TYPES_REVERSE[$]}:ERROR_PACKET},decodeBase64Packet=(a,_)=>{if(withNativeArrayBuffer$1){const $=decode$2(a);return mapBinary($,_)}else return{base64:!0,data:a}},mapBinary=(a,_)=>{switch(_){case"blob":return a instanceof Blob?a:new Blob([a]);case"arraybuffer":default:return a instanceof ArrayBuffer?a:a.buffer}},SEPARATOR="",encodePayload=(a,_)=>{const $=a.length,j=new Array($);let et=0;a.forEach((tt,rt)=>{encodePacket(tt,!1,nt=>{j[rt]=nt,++et===$&&_(j.join(SEPARATOR))})})},decodePayload=(a,_)=>{const $=a.split(SEPARATOR),j=[];for(let et=0;et<$.length;et++){const tt=decodePacket($[et],_);if(j.push(tt),tt.type==="error")break}return j};let TEXT_DECODER;function decodePacketFromBinary(a,_,$){TEXT_DECODER||(TEXT_DECODER=new TextDecoder);const j=_||a[0]<48||a[0]>54;return decodePacket(j?a:TEXT_DECODER.decode(a),$)}const protocol$1=4;function Emitter(a){if(a)return mixin(a)}function mixin(a){for(var _ in Emitter.prototype)a[_]=Emitter.prototype[_];return a}Emitter.prototype.on=Emitter.prototype.addEventListener=function(a,_){return this._callbacks=this._callbacks||{},(this._callbacks["$"+a]=this._callbacks["$"+a]||[]).push(_),this};Emitter.prototype.once=function(a,_){function $(){this.off(a,$),_.apply(this,arguments)}return $.fn=_,this.on(a,$),this};Emitter.prototype.off=Emitter.prototype.removeListener=Emitter.prototype.removeAllListeners=Emitter.prototype.removeEventListener=function(a,_){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var $=this._callbacks["$"+a];if(!$)return this;if(arguments.length==1)return delete this._callbacks["$"+a],this;for(var j,et=0;et<$.length;et++)if(j=$[et],j===_||j.fn===_){$.splice(et,1);break}return $.length===0&&delete this._callbacks["$"+a],this};Emitter.prototype.emit=function(a){this._callbacks=this._callbacks||{};for(var _=new Array(arguments.length-1),$=this._callbacks["$"+a],j=1;j<arguments.length;j++)_[j-1]=arguments[j];if($){$=$.slice(0);for(var j=0,et=$.length;j<et;++j)$[j].apply(this,_)}return this};Emitter.prototype.emitReserved=Emitter.prototype.emit;Emitter.prototype.listeners=function(a){return this._callbacks=this._callbacks||{},this._callbacks["$"+a]||[]};Emitter.prototype.hasListeners=function(a){return!!this.listeners(a).length};const globalThisShim=typeof self<"u"?self:typeof window<"u"?window:Function("return this")();function pick(a,..._){return _.reduce(($,j)=>(a.hasOwnProperty(j)&&($[j]=a[j]),$),{})}const NATIVE_SET_TIMEOUT=globalThisShim.setTimeout,NATIVE_CLEAR_TIMEOUT=globalThisShim.clearTimeout;function installTimerFunctions(a,_){_.useNativeTimers?(a.setTimeoutFn=NATIVE_SET_TIMEOUT.bind(globalThisShim),a.clearTimeoutFn=NATIVE_CLEAR_TIMEOUT.bind(globalThisShim)):(a.setTimeoutFn=globalThisShim.setTimeout.bind(globalThisShim),a.clearTimeoutFn=globalThisShim.clearTimeout.bind(globalThisShim))}const BASE64_OVERHEAD=1.33;function byteLength(a){return typeof a=="string"?utf8Length(a):Math.ceil((a.byteLength||a.size)*BASE64_OVERHEAD)}function utf8Length(a){let _=0,$=0;for(let j=0,et=a.length;j<et;j++)_=a.charCodeAt(j),_<128?$+=1:_<2048?$+=2:_<55296||_>=57344?$+=3:(j++,$+=4);return $}function encode$1(a){let _="";for(let $ in a)a.hasOwnProperty($)&&(_.length&&(_+="&"),_+=encodeURIComponent($)+"="+encodeURIComponent(a[$]));return _}function decode$1(a){let _={},$=a.split("&");for(let j=0,et=$.length;j<et;j++){let tt=$[j].split("=");_[decodeURIComponent(tt[0])]=decodeURIComponent(tt[1])}return _}class TransportError extends Error{constructor(_,$,j){super(_),this.description=$,this.context=j,this.type="TransportError"}}class Transport extends Emitter{constructor(_){super(),this.writable=!1,installTimerFunctions(this,_),this.opts=_,this.query=_.query,this.socket=_.socket}onError(_,$,j){return super.emitReserved("error",new TransportError(_,$,j)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(_){this.readyState==="open"&&this.write(_)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(_){const $=decodePacket(_,this.socket.binaryType);this.onPacket($)}onPacket(_){super.emitReserved("packet",_)}onClose(_){this.readyState="closed",super.emitReserved("close",_)}pause(_){}createUri(_,$={}){return _+"://"+this._hostname()+this._port()+this.opts.path+this._query($)}_hostname(){const _=this.opts.hostname;return _.indexOf(":")===-1?_:"["+_+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(_){const $=encode$1(_);return $.length?"?"+$:""}}const alphabet="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),length=64,map={};let seed=0,i=0,prev;function encode(a){let _="";do _=alphabet[a%length]+_,a=Math.floor(a/length);while(a>0);return _}function yeast(){const a=encode(+new Date);return a!==prev?(seed=0,prev=a):a+"."+encode(seed++)}for(;i<length;i++)map[alphabet[i]]=i;let value=!1;try{value=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch(a){}const hasCORS=value;function XHR(a){const _=a.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!_||hasCORS))return new XMLHttpRequest}catch{}if(!_)try{return new globalThisShim[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}function createCookieJar(){}function empty(){}const hasXHR2=function(){return new XHR({xdomain:!1}).responseType!=null}();class Polling extends Transport{constructor(_){if(super(_),this.polling=!1,typeof location<"u"){const j=location.protocol==="https:";let et=location.port;et||(et=j?"443":"80"),this.xd=typeof location<"u"&&_.hostname!==location.hostname||et!==_.port}const $=_&&_.forceBase64;this.supportsBinary=hasXHR2&&!$,this.opts.withCredentials&&(this.cookieJar=void 0)}get name(){return"polling"}doOpen(){this.poll()}pause(_){this.readyState="pausing";const $=()=>{this.readyState="paused",_()};if(this.polling||!this.writable){let j=0;this.polling&&(j++,this.once("pollComplete",function(){--j||$()})),this.writable||(j++,this.once("drain",function(){--j||$()}))}else $()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(_){const $=j=>{if(this.readyState==="opening"&&j.type==="open"&&this.onOpen(),j.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(j)};decodePayload(_,this.socket.binaryType).forEach($),this.readyState!=="closed"&&(this.polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this.poll())}doClose(){const _=()=>{this.write([{type:"close"}])};this.readyState==="open"?_():this.once("open",_)}write(_){this.writable=!1,encodePayload(_,$=>{this.doWrite($,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const _=this.opts.secure?"https":"http",$=this.query||{};return this.opts.timestampRequests!==!1&&($[this.opts.timestampParam]=yeast()),!this.supportsBinary&&!$.sid&&($.b64=1),this.createUri(_,$)}request(_={}){return Object.assign(_,{xd:this.xd,cookieJar:this.cookieJar},this.opts),new Request(this.uri(),_)}doWrite(_,$){const j=this.request({method:"POST",data:_});j.on("success",$),j.on("error",(et,tt)=>{this.onError("xhr post error",et,tt)})}doPoll(){const _=this.request();_.on("data",this.onData.bind(this)),_.on("error",($,j)=>{this.onError("xhr poll error",$,j)}),this.pollXhr=_}}class Request extends Emitter{constructor(_,$){super(),installTimerFunctions(this,$),this.opts=$,this.method=$.method||"GET",this.uri=_,this.data=$.data!==void 0?$.data:null,this.create()}create(){var _;const $=pick(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");$.xdomain=!!this.opts.xd;const j=this.xhr=new XHR($);try{j.open(this.method,this.uri,!0);try{if(this.opts.extraHeaders){j.setDisableHeaderCheck&&j.setDisableHeaderCheck(!0);for(let et in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(et)&&j.setRequestHeader(et,this.opts.extraHeaders[et])}}catch{}if(this.method==="POST")try{j.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{j.setRequestHeader("Accept","*/*")}catch{}(_=this.opts.cookieJar)===null||_===void 0||_.addCookies(j),"withCredentials"in j&&(j.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(j.timeout=this.opts.requestTimeout),j.onreadystatechange=()=>{var et;j.readyState===3&&((et=this.opts.cookieJar)===null||et===void 0||et.parseCookies(j)),j.readyState===4&&(j.status===200||j.status===1223?this.onLoad():this.setTimeoutFn(()=>{this.onError(typeof j.status=="number"?j.status:0)},0))},j.send(this.data)}catch(et){this.setTimeoutFn(()=>{this.onError(et)},0);return}typeof document<"u"&&(this.index=Request.requestsCount++,Request.requests[this.index]=this)}onError(_){this.emitReserved("error",_,this.xhr),this.cleanup(!0)}cleanup(_){if(!(typeof this.xhr>"u"||this.xhr===null)){if(this.xhr.onreadystatechange=empty,_)try{this.xhr.abort()}catch{}typeof document<"u"&&delete Request.requests[this.index],this.xhr=null}}onLoad(){const _=this.xhr.responseText;_!==null&&(this.emitReserved("data",_),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}}Request.requestsCount=0;Request.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",unloadHandler);else if(typeof addEventListener=="function"){const a="onpagehide"in globalThisShim?"pagehide":"unload";addEventListener(a,unloadHandler,!1)}}function unloadHandler(){for(let a in Request.requests)Request.requests.hasOwnProperty(a)&&Request.requests[a].abort()}const nextTick=typeof Promise=="function"&&typeof Promise.resolve=="function"?_=>Promise.resolve().then(_):(_,$)=>$(_,0),WebSocket=globalThisShim.WebSocket||globalThisShim.MozWebSocket,usingBrowserWebSocket=!0,defaultBinaryType="arraybuffer",isReactNative=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class WS extends Transport{constructor(_){super(_),this.supportsBinary=!_.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const _=this.uri(),$=this.opts.protocols,j=isReactNative?{}:pick(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(j.headers=this.opts.extraHeaders);try{this.ws=usingBrowserWebSocket&&!isReactNative?$?new WebSocket(_,$):new WebSocket(_):new WebSocket(_,$,j)}catch(et){return this.emitReserved("error",et)}this.ws.binaryType=this.socket.binaryType||defaultBinaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=_=>this.onClose({description:"websocket connection closed",context:_}),this.ws.onmessage=_=>this.onData(_.data),this.ws.onerror=_=>this.onError("websocket error",_)}write(_){this.writable=!1;for(let $=0;$<_.length;$++){const j=_[$],et=$===_.length-1;encodePacket(j,this.supportsBinary,tt=>{const rt={};try{usingBrowserWebSocket&&this.ws.send(tt)}catch{}et&&nextTick(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.close(),this.ws=null)}uri(){const _=this.opts.secure?"wss":"ws",$=this.query||{};return this.opts.timestampRequests&&($[this.opts.timestampParam]=yeast()),this.supportsBinary||($.b64=1),this.createUri(_,$)}check(){return!!WebSocket}}function shouldIncludeBinaryHeader(a,_){return a.type==="message"&&typeof a.data!="string"&&_[0]>=48&&_[0]<=54}class WT extends Transport{get name(){return"webtransport"}doOpen(){typeof WebTransport=="function"&&(this.transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name]),this.transport.closed.then(()=>{this.onClose()}).catch(_=>{this.onError("webtransport error",_)}),this.transport.ready.then(()=>{this.transport.createBidirectionalStream().then(_=>{const $=_.readable.getReader();this.writer=_.writable.getWriter();let j;const et=()=>{$.read().then(({done:rt,value:nt})=>{rt||(!j&&nt.byteLength===1&&nt[0]===54?j=!0:(this.onPacket(decodePacketFromBinary(nt,j,"arraybuffer")),j=!1),et())}).catch(rt=>{})};et();const tt=this.query.sid?`0{"sid":"${this.query.sid}"}`:"0";this.writer.write(new TextEncoder().encode(tt)).then(()=>this.onOpen())})}))}write(_){this.writable=!1;for(let $=0;$<_.length;$++){const j=_[$],et=$===_.length-1;encodePacketToBinary(j,tt=>{shouldIncludeBinaryHeader(j,tt)&&this.writer.write(Uint8Array.of(54)),this.writer.write(tt).then(()=>{et&&nextTick(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})})}}doClose(){var _;(_=this.transport)===null||_===void 0||_.close()}}const transports={websocket:WS,webtransport:WT,polling:Polling},re=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,parts=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function parse$2(a){const _=a,$=a.indexOf("["),j=a.indexOf("]");$!=-1&&j!=-1&&(a=a.substring(0,$)+a.substring($,j).replace(/:/g,";")+a.substring(j,a.length));let et=re.exec(a||""),tt={},rt=14;for(;rt--;)tt[parts[rt]]=et[rt]||"";return $!=-1&&j!=-1&&(tt.source=_,tt.host=tt.host.substring(1,tt.host.length-1).replace(/;/g,":"),tt.authority=tt.authority.replace("[","").replace("]","").replace(/;/g,":"),tt.ipv6uri=!0),tt.pathNames=pathNames(tt,tt.path),tt.queryKey=queryKey(tt,tt.query),tt}function pathNames(a,_){const $=/\/{2,9}/g,j=_.replace($,"/").split("/");return(_.slice(0,1)=="/"||_.length===0)&&j.splice(0,1),_.slice(-1)=="/"&&j.splice(j.length-1,1),j}function queryKey(a,_){const $={};return _.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(j,et,tt){et&&($[et]=tt)}),$}let Socket$1=class $u extends Emitter{constructor(_,$={}){super(),this.writeBuffer=[],_&&typeof _=="object"&&($=_,_=null),_?(_=parse$2(_),$.hostname=_.host,$.secure=_.protocol==="https"||_.protocol==="wss",$.port=_.port,_.query&&($.query=_.query)):$.host&&($.hostname=parse$2($.host).host),installTimerFunctions(this,$),this.secure=$.secure!=null?$.secure:typeof location<"u"&&location.protocol==="https:",$.hostname&&!$.port&&($.port=this.secure?"443":"80"),this.hostname=$.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=$.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=$.transports||["polling","websocket","webtransport"],this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},$),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=decode$1(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,typeof addEventListener=="function"&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(_){const $=Object.assign({},this.opts.query);$.EIO=protocol$1,$.transport=_,this.id&&($.sid=this.id);const j=Object.assign({},this.opts,{query:$,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[_]);return new transports[_](j)}open(){let _;if(this.opts.rememberUpgrade&&$u.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)_="websocket";else if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}else _=this.transports[0];this.readyState="opening";try{_=this.createTransport(_)}catch{this.transports.shift(),this.open();return}_.open(),this.setTransport(_)}setTransport(_){this.transport&&this.transport.removeAllListeners(),this.transport=_,_.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",$=>this.onClose("transport close",$))}probe(_){let $=this.createTransport(_),j=!1;$u.priorWebsocketSuccess=!1;const et=()=>{j||($.send([{type:"ping",data:"probe"}]),$.once("packet",at=>{if(!j)if(at.type==="pong"&&at.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",$),!$)return;$u.priorWebsocketSuccess=$.name==="websocket",this.transport.pause(()=>{j||this.readyState!=="closed"&&(ot(),this.setTransport($),$.send([{type:"upgrade"}]),this.emitReserved("upgrade",$),$=null,this.upgrading=!1,this.flush())})}else{const ut=new Error("probe error");ut.transport=$.name,this.emitReserved("upgradeError",ut)}}))};function tt(){j||(j=!0,ot(),$.close(),$=null)}const rt=at=>{const ut=new Error("probe error: "+at);ut.transport=$.name,tt(),this.emitReserved("upgradeError",ut)};function nt(){rt("transport closed")}function it(){rt("socket closed")}function st(at){$&&at.name!==$.name&&tt()}const ot=()=>{$.removeListener("open",et),$.removeListener("error",rt),$.removeListener("close",nt),this.off("close",it),this.off("upgrading",st)};$.once("open",et),$.once("error",rt),$.once("close",nt),this.once("close",it),this.once("upgrading",st),this.upgrades.indexOf("webtransport")!==-1&&_!=="webtransport"?this.setTimeoutFn(()=>{j||$.open()},200):$.open()}onOpen(){if(this.readyState="open",$u.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush(),this.readyState==="open"&&this.opts.upgrade){let _=0;const $=this.upgrades.length;for(;_<$;_++)this.probe(this.upgrades[_])}}onPacket(_){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",_),this.emitReserved("heartbeat"),_.type){case"open":this.onHandshake(JSON.parse(_.data));break;case"ping":this.resetPingTimeout(),this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const $=new Error("server error");$.code=_.data,this.onError($);break;case"message":this.emitReserved("data",_.data),this.emitReserved("message",_.data);break}}onHandshake(_){this.emitReserved("handshake",_),this.id=_.sid,this.transport.query.sid=_.sid,this.upgrades=this.filterUpgrades(_.upgrades),this.pingInterval=_.pingInterval,this.pingTimeout=_.pingTimeout,this.maxPayload=_.maxPayload,this.onOpen(),this.readyState!=="closed"&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const _=this.getWritablePackets();this.transport.send(_),this.prevBufferLen=_.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let $=1;for(let j=0;j<this.writeBuffer.length;j++){const et=this.writeBuffer[j].data;if(et&&($+=byteLength(et)),j>0&&$>this.maxPayload)return this.writeBuffer.slice(0,j);$+=2}return this.writeBuffer}write(_,$,j){return this.sendPacket("message",_,$,j),this}send(_,$,j){return this.sendPacket("message",_,$,j),this}sendPacket(_,$,j,et){if(typeof $=="function"&&(et=$,$=void 0),typeof j=="function"&&(et=j,j=null),this.readyState==="closing"||this.readyState==="closed")return;j=j||{},j.compress=j.compress!==!1;const tt={type:_,data:$,options:j};this.emitReserved("packetCreate",tt),this.writeBuffer.push(tt),et&&this.once("flush",et),this.flush()}close(){const _=()=>{this.onClose("forced close"),this.transport.close()},$=()=>{this.off("upgrade",$),this.off("upgradeError",$),_()},j=()=>{this.once("upgrade",$),this.once("upgradeError",$)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?j():_()}):this.upgrading?j():_()),this}onError(_){$u.priorWebsocketSuccess=!1,this.emitReserved("error",_),this.onClose("transport error",_)}onClose(_,$){(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")&&(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),typeof removeEventListener=="function"&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",_,$),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(_){const $=[];let j=0;const et=_.length;for(;j<et;j++)~this.transports.indexOf(_[j])&&$.push(_[j]);return $}};Socket$1.protocol=protocol$1;function url(a,_="",$){let j=a;$=$||typeof location<"u"&&location,a==null&&(a=$.protocol+"//"+$.host),typeof a=="string"&&(a.charAt(0)==="/"&&(a.charAt(1)==="/"?a=$.protocol+a:a=$.host+a),/^(https?|wss?):\/\//.test(a)||(typeof $<"u"?a=$.protocol+"//"+a:a="https://"+a),j=parse$2(a)),j.port||(/^(http|ws)$/.test(j.protocol)?j.port="80":/^(http|ws)s$/.test(j.protocol)&&(j.port="443")),j.path=j.path||"/";const tt=j.host.indexOf(":")!==-1?"["+j.host+"]":j.host;return j.id=j.protocol+"://"+tt+":"+j.port+_,j.href=j.protocol+"://"+tt+($&&$.port===j.port?"":":"+j.port),j}const withNativeArrayBuffer=typeof ArrayBuffer=="function",isView=a=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(a):a.buffer instanceof ArrayBuffer,toString$2=Object.prototype.toString,withNativeBlob=typeof Blob=="function"||typeof Blob<"u"&&toString$2.call(Blob)==="[object BlobConstructor]",withNativeFile=typeof File=="function"||typeof File<"u"&&toString$2.call(File)==="[object FileConstructor]";function isBinary(a){return withNativeArrayBuffer&&(a instanceof ArrayBuffer||isView(a))||withNativeBlob&&a instanceof Blob||withNativeFile&&a instanceof File}function hasBinary(a,_){if(!a||typeof a!="object")return!1;if(Array.isArray(a)){for(let $=0,j=a.length;$<j;$++)if(hasBinary(a[$]))return!0;return!1}if(isBinary(a))return!0;if(a.toJSON&&typeof a.toJSON=="function"&&arguments.length===1)return hasBinary(a.toJSON(),!0);for(const $ in a)if(Object.prototype.hasOwnProperty.call(a,$)&&hasBinary(a[$]))return!0;return!1}function deconstructPacket(a){const _=[],$=a.data,j=a;return j.data=_deconstructPacket($,_),j.attachments=_.length,{packet:j,buffers:_}}function _deconstructPacket(a,_){if(!a)return a;if(isBinary(a)){const $={_placeholder:!0,num:_.length};return _.push(a),$}else if(Array.isArray(a)){const $=new Array(a.length);for(let j=0;j<a.length;j++)$[j]=_deconstructPacket(a[j],_);return $}else if(typeof a=="object"&&!(a instanceof Date)){const $={};for(const j in a)Object.prototype.hasOwnProperty.call(a,j)&&($[j]=_deconstructPacket(a[j],_));return $}return a}function reconstructPacket(a,_){return a.data=_reconstructPacket(a.data,_),delete a.attachments,a}function _reconstructPacket(a,_){if(!a)return a;if(a&&a._placeholder===!0){if(typeof a.num=="number"&&a.num>=0&&a.num<_.length)return _[a.num];throw new Error("illegal attachments")}else if(Array.isArray(a))for(let $=0;$<a.length;$++)a[$]=_reconstructPacket(a[$],_);else if(typeof a=="object")for(const $ in a)Object.prototype.hasOwnProperty.call(a,$)&&(a[$]=_reconstructPacket(a[$],_));return a}const RESERVED_EVENTS$1=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],protocol=5;var PacketType;(function(a){a[a.CONNECT=0]="CONNECT",a[a.DISCONNECT=1]="DISCONNECT",a[a.EVENT=2]="EVENT",a[a.ACK=3]="ACK",a[a.CONNECT_ERROR=4]="CONNECT_ERROR",a[a.BINARY_EVENT=5]="BINARY_EVENT",a[a.BINARY_ACK=6]="BINARY_ACK"})(PacketType||(PacketType={}));class Encoder{constructor(_){this.replacer=_}encode(_){return(_.type===PacketType.EVENT||_.type===PacketType.ACK)&&hasBinary(_)?this.encodeAsBinary({type:_.type===PacketType.EVENT?PacketType.BINARY_EVENT:PacketType.BINARY_ACK,nsp:_.nsp,data:_.data,id:_.id}):[this.encodeAsString(_)]}encodeAsString(_){let $=""+_.type;return(_.type===PacketType.BINARY_EVENT||_.type===PacketType.BINARY_ACK)&&($+=_.attachments+"-"),_.nsp&&_.nsp!=="/"&&($+=_.nsp+","),_.id!=null&&($+=_.id),_.data!=null&&($+=JSON.stringify(_.data,this.replacer)),$}encodeAsBinary(_){const $=deconstructPacket(_),j=this.encodeAsString($.packet),et=$.buffers;return et.unshift(j),et}}function isObject(a){return Object.prototype.toString.call(a)==="[object Object]"}class Decoder extends Emitter{constructor(_){super(),this.reviver=_}add(_){let $;if(typeof _=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");$=this.decodeString(_);const j=$.type===PacketType.BINARY_EVENT;j||$.type===PacketType.BINARY_ACK?($.type=j?PacketType.EVENT:PacketType.ACK,this.reconstructor=new BinaryReconstructor($),$.attachments===0&&super.emitReserved("decoded",$)):super.emitReserved("decoded",$)}else if(isBinary(_)||_.base64)if(this.reconstructor)$=this.reconstructor.takeBinaryData(_),$&&(this.reconstructor=null,super.emitReserved("decoded",$));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+_)}decodeString(_){let $=0;const j={type:Number(_.charAt(0))};if(PacketType[j.type]===void 0)throw new Error("unknown packet type "+j.type);if(j.type===PacketType.BINARY_EVENT||j.type===PacketType.BINARY_ACK){const tt=$+1;for(;_.charAt(++$)!=="-"&&$!=_.length;);const rt=_.substring(tt,$);if(rt!=Number(rt)||_.charAt($)!=="-")throw new Error("Illegal attachments");j.attachments=Number(rt)}if(_.charAt($+1)==="/"){const tt=$+1;for(;++$&&!(_.charAt($)===","||$===_.length););j.nsp=_.substring(tt,$)}else j.nsp="/";const et=_.charAt($+1);if(et!==""&&Number(et)==et){const tt=$+1;for(;++$;){const rt=_.charAt($);if(rt==null||Number(rt)!=rt){--$;break}if($===_.length)break}j.id=Number(_.substring(tt,$+1))}if(_.charAt(++$)){const tt=this.tryParse(_.substr($));if(Decoder.isPayloadValid(j.type,tt))j.data=tt;else throw new Error("invalid payload")}return j}tryParse(_){try{return JSON.parse(_,this.reviver)}catch{return!1}}static isPayloadValid(_,$){switch(_){case PacketType.CONNECT:return isObject($);case PacketType.DISCONNECT:return $===void 0;case PacketType.CONNECT_ERROR:return typeof $=="string"||isObject($);case PacketType.EVENT:case PacketType.BINARY_EVENT:return Array.isArray($)&&(typeof $[0]=="number"||typeof $[0]=="string"&&RESERVED_EVENTS$1.indexOf($[0])===-1);case PacketType.ACK:case PacketType.BINARY_ACK:return Array.isArray($)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class BinaryReconstructor{constructor(_){this.packet=_,this.buffers=[],this.reconPack=_}takeBinaryData(_){if(this.buffers.push(_),this.buffers.length===this.reconPack.attachments){const $=reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),$}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const parser=Object.freeze(Object.defineProperty({__proto__:null,Decoder,Encoder,get PacketType(){return PacketType},protocol},Symbol.toStringTag,{value:"Module"}));function on(a,_,$){return a.on(_,$),function(){a.off(_,$)}}const RESERVED_EVENTS=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class Socket extends Emitter{constructor(_,$,j){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=_,this.nsp=$,j&&j.auth&&(this.auth=j.auth),this._opts=Object.assign({},j),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const _=this.io;this.subs=[on(_,"open",this.onopen.bind(this)),on(_,"packet",this.onpacket.bind(this)),on(_,"error",this.onerror.bind(this)),on(_,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(..._){return _.unshift("message"),this.emit.apply(this,_),this}emit(_,...$){if(RESERVED_EVENTS.hasOwnProperty(_))throw new Error('"'+_.toString()+'" is a reserved event name');if($.unshift(_),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue($),this;const j={type:PacketType.EVENT,data:$};if(j.options={},j.options.compress=this.flags.compress!==!1,typeof $[$.length-1]=="function"){const rt=this.ids++,nt=$.pop();this._registerAckCallback(rt,nt),j.id=rt}const et=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!et||!this.connected)||(this.connected?(this.notifyOutgoingListeners(j),this.packet(j)):this.sendBuffer.push(j)),this.flags={},this}_registerAckCallback(_,$){var j;const et=(j=this.flags.timeout)!==null&&j!==void 0?j:this._opts.ackTimeout;if(et===void 0){this.acks[_]=$;return}const tt=this.io.setTimeoutFn(()=>{delete this.acks[_];for(let rt=0;rt<this.sendBuffer.length;rt++)this.sendBuffer[rt].id===_&&this.sendBuffer.splice(rt,1);$.call(this,new Error("operation has timed out"))},et);this.acks[_]=(...rt)=>{this.io.clearTimeoutFn(tt),$.apply(this,[null,...rt])}}emitWithAck(_,...$){const j=this.flags.timeout!==void 0||this._opts.ackTimeout!==void 0;return new Promise((et,tt)=>{$.push((rt,nt)=>j?rt?tt(rt):et(nt):et(rt)),this.emit(_,...$)})}_addToQueue(_){let $;typeof _[_.length-1]=="function"&&($=_.pop());const j={id:this._queueSeq++,tryCount:0,pending:!1,args:_,flags:Object.assign({fromQueue:!0},this.flags)};_.push((et,...tt)=>j!==this._queue[0]?void 0:(et!==null?j.tryCount>this._opts.retries&&(this._queue.shift(),$&&$(et)):(this._queue.shift(),$&&$(null,...tt)),j.pending=!1,this._drainQueue())),this._queue.push(j),this._drainQueue()}_drainQueue(_=!1){if(!this.connected||this._queue.length===0)return;const $=this._queue[0];$.pending&&!_||($.pending=!0,$.tryCount++,this.flags=$.flags,this.emit.apply(this,$.args))}packet(_){_.nsp=this.nsp,this.io._packet(_)}onopen(){typeof this.auth=="function"?this.auth(_=>{this._sendConnectPacket(_)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(_){this.packet({type:PacketType.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},_):_})}onerror(_){this.connected||this.emitReserved("connect_error",_)}onclose(_,$){this.connected=!1,delete this.id,this.emitReserved("disconnect",_,$)}onpacket(_){if(_.nsp===this.nsp)switch(_.type){case PacketType.CONNECT:_.data&&_.data.sid?this.onconnect(_.data.sid,_.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case PacketType.EVENT:case PacketType.BINARY_EVENT:this.onevent(_);break;case PacketType.ACK:case PacketType.BINARY_ACK:this.onack(_);break;case PacketType.DISCONNECT:this.ondisconnect();break;case PacketType.CONNECT_ERROR:this.destroy();const j=new Error(_.data.message);j.data=_.data.data,this.emitReserved("connect_error",j);break}}onevent(_){const $=_.data||[];_.id!=null&&$.push(this.ack(_.id)),this.connected?this.emitEvent($):this.receiveBuffer.push(Object.freeze($))}emitEvent(_){if(this._anyListeners&&this._anyListeners.length){const $=this._anyListeners.slice();for(const j of $)j.apply(this,_)}super.emit.apply(this,_),this._pid&&_.length&&typeof _[_.length-1]=="string"&&(this._lastOffset=_[_.length-1])}ack(_){const $=this;let j=!1;return function(...et){j||(j=!0,$.packet({type:PacketType.ACK,id:_,data:et}))}}onack(_){const $=this.acks[_.id];typeof $=="function"&&($.apply(this,_.data),delete this.acks[_.id])}onconnect(_,$){this.id=_,this.recovered=$&&this._pid===$,this._pid=$,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(_=>this.emitEvent(_)),this.receiveBuffer=[],this.sendBuffer.forEach(_=>{this.notifyOutgoingListeners(_),this.packet(_)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(_=>_()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:PacketType.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(_){return this.flags.compress=_,this}get volatile(){return this.flags.volatile=!0,this}timeout(_){return this.flags.timeout=_,this}onAny(_){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(_),this}prependAny(_){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(_),this}offAny(_){if(!this._anyListeners)return this;if(_){const $=this._anyListeners;for(let j=0;j<$.length;j++)if(_===$[j])return $.splice(j,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(_){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(_),this}prependAnyOutgoing(_){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(_),this}offAnyOutgoing(_){if(!this._anyOutgoingListeners)return this;if(_){const $=this._anyOutgoingListeners;for(let j=0;j<$.length;j++)if(_===$[j])return $.splice(j,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(_){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const $=this._anyOutgoingListeners.slice();for(const j of $)j.apply(this,_.data)}}}function Backoff(a){a=a||{},this.ms=a.min||100,this.max=a.max||1e4,this.factor=a.factor||2,this.jitter=a.jitter>0&&a.jitter<=1?a.jitter:0,this.attempts=0}Backoff.prototype.duration=function(){var a=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var _=Math.random(),$=Math.floor(_*this.jitter*a);a=Math.floor(_*10)&1?a+$:a-$}return Math.min(a,this.max)|0};Backoff.prototype.reset=function(){this.attempts=0};Backoff.prototype.setMin=function(a){this.ms=a};Backoff.prototype.setMax=function(a){this.max=a};Backoff.prototype.setJitter=function(a){this.jitter=a};class Manager extends Emitter{constructor(_,$){var j;super(),this.nsps={},this.subs=[],_&&typeof _=="object"&&($=_,_=void 0),$=$||{},$.path=$.path||"/socket.io",this.opts=$,installTimerFunctions(this,$),this.reconnection($.reconnection!==!1),this.reconnectionAttempts($.reconnectionAttempts||1/0),this.reconnectionDelay($.reconnectionDelay||1e3),this.reconnectionDelayMax($.reconnectionDelayMax||5e3),this.randomizationFactor((j=$.randomizationFactor)!==null&&j!==void 0?j:.5),this.backoff=new Backoff({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout($.timeout==null?2e4:$.timeout),this._readyState="closed",this.uri=_;const et=$.parser||parser;this.encoder=new et.Encoder,this.decoder=new et.Decoder,this._autoConnect=$.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(_){return arguments.length?(this._reconnection=!!_,this):this._reconnection}reconnectionAttempts(_){return _===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=_,this)}reconnectionDelay(_){var $;return _===void 0?this._reconnectionDelay:(this._reconnectionDelay=_,($=this.backoff)===null||$===void 0||$.setMin(_),this)}randomizationFactor(_){var $;return _===void 0?this._randomizationFactor:(this._randomizationFactor=_,($=this.backoff)===null||$===void 0||$.setJitter(_),this)}reconnectionDelayMax(_){var $;return _===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=_,($=this.backoff)===null||$===void 0||$.setMax(_),this)}timeout(_){return arguments.length?(this._timeout=_,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(_){if(~this._readyState.indexOf("open"))return this;this.engine=new Socket$1(this.uri,this.opts);const $=this.engine,j=this;this._readyState="opening",this.skipReconnect=!1;const et=on($,"open",function(){j.onopen(),_&&_()}),tt=nt=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",nt),_?_(nt):this.maybeReconnectOnOpen()},rt=on($,"error",tt);if(this._timeout!==!1){const nt=this._timeout,it=this.setTimeoutFn(()=>{et(),tt(new Error("timeout")),$.close()},nt);this.opts.autoUnref&&it.unref(),this.subs.push(()=>{this.clearTimeoutFn(it)})}return this.subs.push(et),this.subs.push(rt),this}connect(_){return this.open(_)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const _=this.engine;this.subs.push(on(_,"ping",this.onping.bind(this)),on(_,"data",this.ondata.bind(this)),on(_,"error",this.onerror.bind(this)),on(_,"close",this.onclose.bind(this)),on(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(_){try{this.decoder.add(_)}catch($){this.onclose("parse error",$)}}ondecoded(_){nextTick(()=>{this.emitReserved("packet",_)},this.setTimeoutFn)}onerror(_){this.emitReserved("error",_)}socket(_,$){let j=this.nsps[_];return j?this._autoConnect&&!j.active&&j.connect():(j=new Socket(this,_,$),this.nsps[_]=j),j}_destroy(_){const $=Object.keys(this.nsps);for(const j of $)if(this.nsps[j].active)return;this._close()}_packet(_){const $=this.encoder.encode(_);for(let j=0;j<$.length;j++)this.engine.write($[j],_.options)}cleanup(){this.subs.forEach(_=>_()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(_,$){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",_,$),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const _=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const $=this.backoff.duration();this._reconnecting=!0;const j=this.setTimeoutFn(()=>{_.skipReconnect||(this.emitReserved("reconnect_attempt",_.backoff.attempts),!_.skipReconnect&&_.open(et=>{et?(_._reconnecting=!1,_.reconnect(),this.emitReserved("reconnect_error",et)):_.onreconnect()}))},$);this.opts.autoUnref&&j.unref(),this.subs.push(()=>{this.clearTimeoutFn(j)})}}onreconnect(){const _=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",_)}}const cache={};function lookup(a,_){typeof a=="object"&&(_=a,a=void 0),_=_||{};const $=url(a,_.path||"/socket.io"),j=$.source,et=$.id,tt=$.path,rt=cache[et]&&tt in cache[et].nsps,nt=_.forceNew||_["force new connection"]||_.multiplex===!1||rt;let it;return nt?it=new Manager(j,_):(cache[et]||(cache[et]=new Manager(j,_)),it=cache[et]),$.query&&!_.query&&(_.query=$.queryKey),it.socket($.path,_)}Object.assign(lookup,{Manager,Socket,io:lookup,connect:lookup});var cryptoBrowserifyExports=requireCryptoBrowserify();const nodeCrypto=getDefaultExportFromCjs$1(cryptoBrowserifyExports),ec$2=new elliptic$1.ec("secp256k1"),browserCrypto=global$1.crypto||global$1.msCrypto||{},subtle=browserCrypto.subtle||browserCrypto.webkitSubtle,EC_GROUP_ORDER=Buffer$g.from("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141","hex"),ZERO32=Buffer$g.alloc(32,0);function assert(a,_){if(!a)throw new Error(_||"Assertion failed")}function isScalar(a){return Buffer$g.isBuffer(a)&&a.length===32}function isValidPrivateKey(a){return isScalar(a)?a.compare(ZERO32)>0&&a.compare(EC_GROUP_ORDER)<0:!1}function equalConstTime(a,_){if(a.length!==_.length)return!1;let $=0;for(let j=0;j<a.length;j++)$|=a[j]^_[j];return $===0}function randomBytes(a){const _=new Uint8Array(a);return typeof browserCrypto.getRandomValues>"u"?Buffer$g.from(nodeCrypto.randomBytes(a)):(browserCrypto.getRandomValues(_),Buffer$g.from(_))}async function sha512(a){if(subtle){const j=await subtle.digest("SHA-512",a);return new Uint8Array(j)}const $=nodeCrypto.createHash("sha512").update(a).digest();return new Uint8Array($)}function getAes(a){return async function(_,$,j){if(subtle){const et={name:"AES-CBC"},tt=await subtle.importKey("raw",$,et,!1,[a]),rt={name:"AES-CBC",iv:_},nt=await subtle[a](rt,tt,j);return Buffer$g.from(new Uint8Array(nt))}else if(a==="encrypt"){const et=nodeCrypto.createCipheriv("aes-256-cbc",$,_),tt=et.update(j),rt=et.final();return Buffer$g.concat([tt,rt])}else if(a==="decrypt"){const et=nodeCrypto.createDecipheriv("aes-256-cbc",$,_),tt=et.update(j),rt=et.final();return Buffer$g.concat([tt,rt])}throw new Error(`Unsupported operation: ${a}`)}}const aesCbcEncrypt=getAes("encrypt"),aesCbcDecrypt=getAes("decrypt");async function hmacSha256Sign(a,_){if(subtle){const et={name:"HMAC",hash:{name:"SHA-256"}},tt=await subtle.importKey("raw",new Uint8Array(a),et,!1,["sign","verify"]),rt=await subtle.sign("HMAC",tt,_);return Buffer$g.from(new Uint8Array(rt))}const $=nodeCrypto.createHmac("sha256",Buffer$g.from(a));return $.update(_),$.digest()}async function hmacSha256Verify(a,_,$){const j=await hmacSha256Sign(a,_);return equalConstTime(j,$)}const generatePrivate=function(){let a=randomBytes(32);for(;!isValidPrivateKey(a);)a=randomBytes(32);return a},getPublic=function(a){return assert(a.length===32,"Bad private key"),assert(isValidPrivateKey(a),"Bad private key"),Buffer$g.from(ec$2.keyFromPrivate(a).getPublic("array"))},sign=async function(a,_){return assert(a.length===32,"Bad private key"),assert(isValidPrivateKey(a),"Bad private key"),assert(_.length>0,"Message should not be empty"),assert(_.length<=32,"Message is too long"),Buffer$g.from(ec$2.sign(_,a,{canonical:!0}).toDER())},derive=async function(a,_){assert(Buffer$g.isBuffer(a),"Bad private key"),assert(Buffer$g.isBuffer(_),"Bad public key"),assert(a.length===32,"Bad private key"),assert(isValidPrivateKey(a),"Bad private key"),assert(_.length===65||_.length===33,"Bad public key"),_.length===65&&assert(_[0]===4,"Bad public key"),_.length===33&&assert(_[0]===2||_[0]===3,"Bad public key");const $=ec$2.keyFromPrivate(a),j=ec$2.keyFromPublic(_),et=$.derive(j.getPublic());return Buffer$g.from(et.toArray())},deriveUnpadded=derive,derivePadded=async function(a,_){assert(Buffer$g.isBuffer(a),"Bad private key"),assert(Buffer$g.isBuffer(_),"Bad public key"),assert(a.length===32,"Bad private key"),assert(isValidPrivateKey(a),"Bad private key"),assert(_.length===65||_.length===33,"Bad public key"),_.length===65&&assert(_[0]===4,"Bad public key"),_.length===33&&assert(_[0]===2||_[0]===3,"Bad public key");const $=ec$2.keyFromPrivate(a),j=ec$2.keyFromPublic(_),et=$.derive(j.getPublic());return Buffer$g.from(et.toString(16,64),"hex")},encrypt=async function(a,_,$){$=$||{};let j=$.ephemPrivateKey||randomBytes(32);for(;!isValidPrivateKey(j);)j=$.ephemPrivateKey||randomBytes(32);const et=getPublic(j),tt=await deriveUnpadded(j,a),rt=await sha512(tt),nt=$.iv||randomBytes(16),it=rt.slice(0,32),st=rt.slice(32),at=await aesCbcEncrypt(nt,Buffer$g.from(it),_),ut=Buffer$g.concat([nt,et,at]),ht=await hmacSha256Sign(Buffer$g.from(st),ut);return{iv:nt,ephemPublicKey:et,ciphertext:at,mac:ht}},decrypt=async function(a,_,$){const j=$??!1,tt=await(j?derivePadded:deriveUnpadded)(a,_.ephemPublicKey),rt=await sha512(tt),nt=rt.slice(0,32),it=rt.slice(32),st=Buffer$g.concat([_.iv,_.ephemPublicKey,_.ciphertext]),ot=await hmacSha256Verify(it,st,_.mac);if(!ot&&j===!1)return decrypt(a,_,!0);if(!ot&&j===!0)throw new Error("bad MAC after trying padded");const at=await aesCbcDecrypt(_.iv,Buffer$g.from(nt),_.ciphertext);return Buffer$g.from(new Uint8Array(at))},log$3=log$1$1.getLogger("http-helpers");log$3.setLevel(loglevelExports.levels.INFO);var jsonify={},parse$1,hasRequiredParse;function requireParse(){if(hasRequiredParse)return parse$1;hasRequiredParse=1;var a,_,$={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"},j;function et(ht){throw{name:"SyntaxError",message:ht,at:a,text:j}}function tt(ht){return ht&&ht!==_&&et("Expected '"+ht+"' instead of '"+_+"'"),_=j.charAt(a),a+=1,_}function rt(){var ht,yt="";for(_==="-"&&(yt="-",tt("-"));_>="0"&&_<="9";)yt+=_,tt();if(_===".")for(yt+=".";tt()&&_>="0"&&_<="9";)yt+=_;if(_==="e"||_==="E")for(yt+=_,tt(),(_==="-"||_==="+")&&(yt+=_,tt());_>="0"&&_<="9";)yt+=_,tt();return ht=Number(yt),isFinite(ht)||et("Bad number"),ht}function nt(){var ht,yt,wt="",Ct;if(_==='"')for(;tt();){if(_==='"')return tt(),wt;if(_==="\\")if(tt(),_==="u"){for(Ct=0,yt=0;yt<4&&(ht=parseInt(tt(),16),!!isFinite(ht));yt+=1)Ct=Ct*16+ht;wt+=String.fromCharCode(Ct)}else if(typeof $[_]=="string")wt+=$[_];else break;else wt+=_}et("Bad string")}function it(){for(;_&&_<=" ";)tt()}function st(){switch(_){case"t":return tt("t"),tt("r"),tt("u"),tt("e"),!0;case"f":return tt("f"),tt("a"),tt("l"),tt("s"),tt("e"),!1;case"n":return tt("n"),tt("u"),tt("l"),tt("l"),null;default:et("Unexpected '"+_+"'")}}function ot(){var ht=[];if(_==="["){if(tt("["),it(),_==="]")return tt("]"),ht;for(;_;){if(ht.push(ut()),it(),_==="]")return tt("]"),ht;tt(","),it()}}et("Bad array")}function at(){var ht,yt={};if(_==="{"){if(tt("{"),it(),_==="}")return tt("}"),yt;for(;_;){if(ht=nt(),it(),tt(":"),Object.prototype.hasOwnProperty.call(yt,ht)&&et('Duplicate key "'+ht+'"'),yt[ht]=ut(),it(),_==="}")return tt("}"),yt;tt(","),it()}}et("Bad object")}function ut(){switch(it(),_){case"{":return at();case"[":return ot();case'"':return nt();case"-":return rt();default:return _>="0"&&_<="9"?rt():st()}}return parse$1=function(ht,yt){var wt;return j=ht,a=0,_=" ",wt=ut(),it(),_&&et("Syntax error"),typeof yt=="function"?function Ct(Pt,Tt){var Mt,Lt,Dt=Pt[Tt];if(Dt&&typeof Dt=="object")for(Mt in ut)Object.prototype.hasOwnProperty.call(Dt,Mt)&&(Lt=Ct(Dt,Mt),typeof Lt>"u"?delete Dt[Mt]:Dt[Mt]=Lt);return yt.call(Pt,Tt,Dt)}({"":wt},""):wt},parse$1}var stringify$1,hasRequiredStringify;function requireStringify(){if(hasRequiredStringify)return stringify$1;hasRequiredStringify=1;var a=/[\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,_,$,j={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},et;function tt(nt){return a.lastIndex=0,a.test(nt)?'"'+nt.replace(a,function(it){var st=j[it];return typeof st=="string"?st:"\\u"+("0000"+it.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+nt+'"'}function rt(nt,it){var st,ot,at,ut,ht=_,yt,wt=it[nt];switch(wt&&typeof wt=="object"&&typeof wt.toJSON=="function"&&(wt=wt.toJSON(nt)),typeof et=="function"&&(wt=et.call(it,nt,wt)),typeof wt){case"string":return tt(wt);case"number":return isFinite(wt)?String(wt):"null";case"boolean":case"null":return String(wt);case"object":if(!wt)return"null";if(_+=$,yt=[],Object.prototype.toString.apply(wt)==="[object Array]"){for(ut=wt.length,st=0;st<ut;st+=1)yt[st]=rt(st,wt)||"null";return at=yt.length===0?"[]":_?`[
`+_+yt.join(`,
`+_)+`
`+ht+"]":"["+yt.join(",")+"]",_=ht,at}if(et&&typeof et=="object")for(ut=et.length,st=0;st<ut;st+=1)ot=et[st],typeof ot=="string"&&(at=rt(ot,wt),at&&yt.push(tt(ot)+(_?": ":":")+at));else for(ot in wt)Object.prototype.hasOwnProperty.call(wt,ot)&&(at=rt(ot,wt),at&&yt.push(tt(ot)+(_?": ":":")+at));return at=yt.length===0?"{}":_?`{
`+_+yt.join(`,
`+_)+`
`+ht+"}":"{"+yt.join(",")+"}",_=ht,at}}return stringify$1=function(nt,it,st){var ot;if(_="",$="",typeof st=="number")for(ot=0;ot<st;ot+=1)$+=" ";else typeof st=="string"&&($=st);if(et=it,it&&typeof it!="function"&&(typeof it!="object"||typeof it.length!="number"))throw new Error("JSON.stringify");return rt("",{"":nt})},stringify$1}var hasRequiredJsonify;function requireJsonify(){return hasRequiredJsonify||(hasRequiredJsonify=1,jsonify.parse=requireParse(),jsonify.stringify=requireStringify()),jsonify}var json=typeof JSON<"u"?JSON:requireJsonify(),isArray=Array.isArray||function(a){return{}.toString.call(a)==="[object Array]"},objectKeys=Object.keys||function(a){var _=Object.prototype.hasOwnProperty||function(){return!0},$=[];for(var j in a)_.call(a,j)&&$.push(j);return $},jsonStableStringify=function(a,_){_||(_={}),typeof _=="function"&&(_={cmp:_});var $=_.space||"";typeof $=="number"&&($=Array($+1).join(" "));var j=typeof _.cycles=="boolean"?_.cycles:!1,et=_.replacer||function(nt,it){return it},tt=_.cmp&&function(nt){return function(it){return function(st,ot){var at={key:st,value:it[st]},ut={key:ot,value:it[ot]};return nt(at,ut)}}}(_.cmp),rt=[];return function nt(it,st,ot,at){var ut=$?`
`+new Array(at+1).join($):"",ht=$?": ":":";if(ot&&ot.toJSON&&typeof ot.toJSON=="function"&&(ot=ot.toJSON()),ot=et.call(it,st,ot),ot!==void 0){if(typeof ot!="object"||ot===null)return json.stringify(ot);if(isArray(ot)){for(var Pt=[],yt=0;yt<ot.length;yt++){var wt=nt(ot,yt,ot[yt],at+1)||json.stringify(null);Pt.push(ut+$+wt)}return"["+Pt.join(",")+ut+"]"}if(rt.indexOf(ot)!==-1){if(j)return json.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}else rt.push(ot);for(var Ct=objectKeys(ot).sort(tt&&tt(ot)),Pt=[],yt=0;yt<Ct.length;yt++){var st=Ct[yt],Tt=nt(ot,st,ot[st],at+1);if(Tt){var Mt=json.stringify(st)+ht+Tt;Pt.push(ut+$+Mt)}}return rt.splice(rt.indexOf(ot),1),"{"+Pt.join(",")+ut+"}"}}({"":a},"",a,0)};const stringify=getDefaultExportFromCjs$1(jsonStableStringify);var keccak={},sha3={};Object.defineProperty(sha3,"__esModule",{value:!0});sha3.shake256=sha3.shake128=sha3.keccak_512=sha3.keccak_384=sha3.keccak_256=sha3.keccak_224=sha3.sha3_512=sha3.sha3_384=sha3.sha3_256=sha3.sha3_224=sha3.Keccak=sha3.keccakP=void 0;const _assert_js_1=_assert,_u64_js_1=_u64,utils_js_1=utils$e,[SHA3_PI,SHA3_ROTL,_SHA3_IOTA]=[[],[],[]],_0n=BigInt(0),_1n=BigInt(1),_2n=BigInt(2),_7n=BigInt(7),_256n=BigInt(256),_0x71n=BigInt(113);for(let a=0,_=_1n,$=1,j=0;a<24;a++){[$,j]=[j,(2*$+3*j)%5],SHA3_PI.push(2*(5*j+$)),SHA3_ROTL.push((a+1)*(a+2)/2%64);let et=_0n;for(let tt=0;tt<7;tt++)_=(_<<_1n^(_>>_7n)*_0x71n)%_256n,_&_2n&&(et^=_1n<<(_1n<<BigInt(tt))-_1n);_SHA3_IOTA.push(et)}const[SHA3_IOTA_H,SHA3_IOTA_L]=_u64_js_1.default.split(_SHA3_IOTA,!0),rotlH=(a,_,$)=>$>32?_u64_js_1.default.rotlBH(a,_,$):_u64_js_1.default.rotlSH(a,_,$),rotlL=(a,_,$)=>$>32?_u64_js_1.default.rotlBL(a,_,$):_u64_js_1.default.rotlSL(a,_,$);function keccakP(a,_=24){const $=new Uint32Array(10);for(let j=24-_;j<24;j++){for(let rt=0;rt<10;rt++)$[rt]=a[rt]^a[rt+10]^a[rt+20]^a[rt+30]^a[rt+40];for(let rt=0;rt<10;rt+=2){const nt=(rt+8)%10,it=(rt+2)%10,st=$[it],ot=$[it+1],at=rotlH(st,ot,1)^$[nt],ut=rotlL(st,ot,1)^$[nt+1];for(let ht=0;ht<50;ht+=10)a[rt+ht]^=at,a[rt+ht+1]^=ut}let et=a[2],tt=a[3];for(let rt=0;rt<24;rt++){const nt=SHA3_ROTL[rt],it=rotlH(et,tt,nt),st=rotlL(et,tt,nt),ot=SHA3_PI[rt];et=a[ot],tt=a[ot+1],a[ot]=it,a[ot+1]=st}for(let rt=0;rt<50;rt+=10){for(let nt=0;nt<10;nt++)$[nt]=a[rt+nt];for(let nt=0;nt<10;nt++)a[rt+nt]^=~$[(nt+2)%10]&$[(nt+4)%10]}a[0]^=SHA3_IOTA_H[j],a[1]^=SHA3_IOTA_L[j]}$.fill(0)}sha3.keccakP=keccakP;class Keccak extends utils_js_1.Hash{constructor(_,$,j,et=!1,tt=24){if(super(),this.blockLen=_,this.suffix=$,this.outputLen=j,this.enableXOF=et,this.rounds=tt,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,_assert_js_1.default.number(j),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=(0,utils_js_1.u32)(this.state)}keccak(){keccakP(this.state32,this.rounds),this.posOut=0,this.pos=0}update(_){_assert_js_1.default.exists(this);const{blockLen:$,state:j}=this;_=(0,utils_js_1.toBytes)(_);const et=_.length;for(let tt=0;tt<et;){const rt=Math.min($-this.pos,et-tt);for(let nt=0;nt<rt;nt++)j[this.pos++]^=_[tt++];this.pos===$&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:_,suffix:$,pos:j,blockLen:et}=this;_[j]^=$,$&128&&j===et-1&&this.keccak(),_[et-1]^=128,this.keccak()}writeInto(_){_assert_js_1.default.exists(this,!1),_assert_js_1.default.bytes(_),this.finish();const $=this.state,{blockLen:j}=this;for(let et=0,tt=_.length;et<tt;){this.posOut>=j&&this.keccak();const rt=Math.min(j-this.posOut,tt-et);_.set($.subarray(this.posOut,this.posOut+rt),et),this.posOut+=rt,et+=rt}return _}xofInto(_){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(_)}xof(_){return _assert_js_1.default.number(_),this.xofInto(new Uint8Array(_))}digestInto(_){if(_assert_js_1.default.output(_,this),this.finished)throw new Error("digest() was already called");return this.writeInto(_),this.destroy(),_}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(_){const{blockLen:$,suffix:j,outputLen:et,rounds:tt,enableXOF:rt}=this;return _||(_=new Keccak($,j,et,rt,tt)),_.state32.set(this.state32),_.pos=this.pos,_.posOut=this.posOut,_.finished=this.finished,_.rounds=tt,_.suffix=j,_.outputLen=et,_.enableXOF=rt,_.destroyed=this.destroyed,_}}sha3.Keccak=Keccak;const gen=(a,_,$)=>(0,utils_js_1.wrapConstructor)(()=>new Keccak(_,a,$));sha3.sha3_224=gen(6,144,224/8);sha3.sha3_256=gen(6,136,256/8);sha3.sha3_384=gen(6,104,384/8);sha3.sha3_512=gen(6,72,512/8);sha3.keccak_224=gen(1,144,224/8);sha3.keccak_256=gen(1,136,256/8);sha3.keccak_384=gen(1,104,384/8);sha3.keccak_512=gen(1,72,512/8);const genShake=(a,_,$)=>(0,utils_js_1.wrapConstructorWithOpts)((j={})=>new Keccak(_,a,j.dkLen===void 0?$:j.dkLen,!0));sha3.shake128=genShake(31,168,128/8);sha3.shake256=genShake(31,136,256/8);var utils$2={exports:{}};utils$2.exports;(function(a,_){var $=commonjsGlobal&&commonjsGlobal.__importDefault||function(ut){return ut&&ut.__esModule?ut:{default:ut}};Object.defineProperty(_,"__esModule",{value:!0}),_.crypto=_.wrapHash=_.equalsBytes=_.hexToBytes=_.bytesToUtf8=_.utf8ToBytes=_.createView=_.concatBytes=_.toHex=_.bytesToHex=_.assertBytes=_.assertBool=void 0;const j=$(_assert),et=utils$e,tt=j.default.bool;_.assertBool=tt;const rt=j.default.bytes;_.assertBytes=rt;var nt=utils$e;Object.defineProperty(_,"bytesToHex",{enumerable:!0,get:function(){return nt.bytesToHex}}),Object.defineProperty(_,"toHex",{enumerable:!0,get:function(){return nt.bytesToHex}}),Object.defineProperty(_,"concatBytes",{enumerable:!0,get:function(){return nt.concatBytes}}),Object.defineProperty(_,"createView",{enumerable:!0,get:function(){return nt.createView}}),Object.defineProperty(_,"utf8ToBytes",{enumerable:!0,get:function(){return nt.utf8ToBytes}});function it(ut){if(!(ut instanceof Uint8Array))throw new TypeError(`bytesToUtf8 expected Uint8Array, got ${typeof ut}`);return new TextDecoder().decode(ut)}_.bytesToUtf8=it;function st(ut){const ht=ut.startsWith("0x")?ut.substring(2):ut;return(0,et.hexToBytes)(ht)}_.hexToBytes=st;function ot(ut,ht){if(ut.length!==ht.length)return!1;for(let yt=0;yt<ut.length;yt++)if(ut[yt]!==ht[yt])return!1;return!0}_.equalsBytes=ot;function at(ut){return ht=>(j.default.bytes(ht),ut(ht))}_.wrapHash=at,_.crypto=(()=>{const ut=typeof self=="object"&&"crypto"in self?self.crypto:void 0,ht=typeof commonjsRequire=="function"&&commonjsRequire.bind(a);return{node:ht&&!ut?ht("crypto"):void 0,web:ut}})()})(utils$2,utils$2.exports);var utilsExports=utils$2.exports;Object.defineProperty(keccak,"__esModule",{value:!0});keccak.keccak512=keccak.keccak384=keccak256$3=keccak.keccak256=keccak.keccak224=void 0;const sha3_1=sha3,utils_1=utilsExports;keccak.keccak224=(0,utils_1.wrapHash)(sha3_1.keccak_224);var keccak256$3=keccak.keccak256=(()=>{const a=(0,utils_1.wrapHash)(sha3_1.keccak_256);return a.create=sha3_1.keccak_256.create,a})();keccak.keccak384=(0,utils_1.wrapHash)(sha3_1.keccak_384);keccak.keccak512=(0,utils_1.wrapHash)(sha3_1.keccak_512);function keccak256$2(a){return Buffer$g.from(keccak256$3(a))}const ec$1=new elliptic$1.ec("secp256k1");function encParamsHexToBuf$2(a){return{iv:Buffer$g.from(a.iv,"hex"),ephemPublicKey:Buffer$g.from(a.ephemPublicKey,"hex"),ciphertext:Buffer$g.from(a.ciphertext,"hex"),mac:Buffer$g.from(a.mac,"hex")}}function encParamsBufToHex$2(a){return{iv:Buffer$g.from(a.iv).toString("hex"),ephemPublicKey:Buffer$g.from(a.ephemPublicKey).toString("hex"),ciphertext:Buffer$g.from(a.ciphertext).toString("hex"),mac:Buffer$g.from(a.mac).toString("hex")}}async function encryptData$1(a,_){const $=JSON.stringify(_),j=Buffer$g.from($,"utf-8"),et=await encrypt(getPublic(Buffer$g.from(a,"hex")),j),tt=encParamsBufToHex$2(et);return JSON.stringify(tt)}async function decryptData$1(a,_){const $=JSON.parse(_),j=encParamsHexToBuf$2($),et=ec$1.keyFromPrivate(a),rt=(await decrypt(Buffer$g.from(et.getPrivate().toString("hex",64),"hex"),j)).toString("utf-8");return JSON.parse(rt)}var microSeconds$1=microSeconds$5,KEY_PREFIX="pubkey.broadcastChannel-",type$1="server",SOCKET_CONN_INSTANCE=null,runningChannels=new Set;function storageKey(a){return KEY_PREFIX+a}function postMessage$1(a,_){return new Promise(function($,j){sleep().then(_asyncToGenerator(_regeneratorRuntime.mark(function et(){var tt,rt,nt,it;return _regeneratorRuntime.wrap(function(ot){for(;;)switch(ot.prev=ot.next){case 0:return tt=storageKey(a.channelName),rt=keccak256$2(Buffer$g.from(tt,"utf8")),ot.next=4,encryptData$1(rt.toString("hex"),{token:randomToken(),time:new Date().getTime(),data:_,uuid:a.uuid});case 4:return nt=ot.sent,ot.t0=getPublic(rt).toString("hex"),ot.t1=nt,ot.next=9,sign(rt,keccak256$2(Buffer$g.from(nt,"utf8")));case 9:return ot.t2=ot.sent.toString("hex"),it={key:ot.t0,data:ot.t1,signature:ot.t2},a.timeout&&(it.timeout=a.timeout),ot.abrupt("return",fetch(a.serverUrl+"/channel/set",{method:"POST",body:JSON.stringify(it),headers:{"Content-Type":"application/json; charset=utf-8"}}).then($).catch(j));case 13:case"end":return ot.stop()}},et)})))})}function getSocketInstance(a){if(SOCKET_CONN_INSTANCE)return SOCKET_CONN_INSTANCE;var _=lookup(a,{transports:["websocket","polling"],withCredentials:!0,reconnectionDelayMax:1e4,reconnectionAttempts:10});return _.on("connect_error",function($){_.io.opts.transports=["polling","websocket"],log$4.error("connect error",$)}),_.on("connect",_asyncToGenerator(_regeneratorRuntime.mark(function $(){var j;return _regeneratorRuntime.wrap(function(tt){for(;;)switch(tt.prev=tt.next){case 0:j=_.io.engine,log$4.debug("initially connected to",j.transport.name),j.once("upgrade",function(){log$4.debug("upgraded",j.transport.name)}),j.once("close",function(rt){log$4.debug("connection closed",rt)});case 4:case"end":return tt.stop()}},$)}))),_.on("error",function($){log$4.error("socket errored",$),_.disconnect()}),SOCKET_CONN_INSTANCE=_,_}function setupSocketConnection(a,_,$){var j=getSocketInstance(a),et=storageKey(_),tt=keccak256$2(Buffer$g.from(et,"utf8")),rt=getPublic(tt).toString("hex");j.connected?j.emit("check_auth_status",rt):j.once("connect",function(){log$4.debug("connected with socket"),j.emit("check_auth_status",rt)});var nt=function(){j.once("connect",_asyncToGenerator(_regeneratorRuntime.mark(function at(){return _regeneratorRuntime.wrap(function(ht){for(;;)switch(ht.prev=ht.next){case 0:j.emit("check_auth_status",rt);case 1:case"end":return ht.stop()}},at)})))},it=function ot(){if(!j){document.removeEventListener("visibilitychange",ot);return}!j.connected&&document.visibilityState==="visible"&&nt()},st=function(){var ot=_asyncToGenerator(_regeneratorRuntime.mark(function at(ut){var ht;return _regeneratorRuntime.wrap(function(wt){for(;;)switch(wt.prev=wt.next){case 0:return wt.prev=0,wt.next=3,decryptData$1(tt.toString("hex"),ut);case 3:ht=wt.sent,log$4.info(ht),$(ht),wt.next=11;break;case 8:wt.prev=8,wt.t0=wt.catch(0),log$4.error(wt.t0);case 11:case"end":return wt.stop()}},at,null,[[0,8]])}));return function(ut){return ot.apply(this,arguments)}}();return j.on("disconnect",function(){log$4.debug("socket disconnected"),runningChannels.has(_)&&(log$4.error("socket disconnected unexpectedly, reconnecting socket"),nt())}),j.on(rt+"_success",st),typeof document<"u"&&document.addEventListener("visibilitychange",it),j}function create$1(a,_){_=fillOptionsWithDefaults(_);var $=randomToken(),j=new ObliviousSet(_.server.removeTimeout),et={channelName:a,uuid:$,eMIs:j,serverUrl:_.server.url};return _.server.timeout&&(et.timeout=_.server.timeout),setupSocketConnection(_.server.url,a,function(tt){et.messagesCallback&&tt.uuid!==et.uuid&&(!tt.token||et.eMIs.has(tt.token)||(et.eMIs.add(tt.token),et.messagesCallback(tt.data)))}),runningChannels.add(a),et}function close$1(a){runningChannels.delete(a.channelName)}function onMessage$1(a,_,$){a.messagesCallbackTime=$,a.messagesCallback=_}function canBeUsed$1(){return!0}function averageResponseTime$1(){var a=500;return a}const ServerMethod={create:create$1,close:close$1,onMessage:onMessage$1,postMessage:postMessage$1,canBeUsed:canBeUsed$1,type:type$1,averageResponseTime:averageResponseTime$1,microSeconds:microSeconds$1};var microSeconds=microSeconds$5,type="simulate",SIMULATE_CHANNELS=new Set;function create(a){var _={name:a,messagesCallback:null};return SIMULATE_CHANNELS.add(_),_}function close(a){SIMULATE_CHANNELS.delete(a)}function postMessage(a,_){return new Promise(function($){return setTimeout(function(){var j=Array.from(SIMULATE_CHANNELS);j.filter(function(et){return et.name===a.name}).filter(function(et){return et!==a}).filter(function(et){return!!et.messagesCallback}).forEach(function(et){return et.messagesCallback(_)}),$()},5)})}function onMessage(a,_){a.messagesCallback=_}function canBeUsed(){return!0}function averageResponseTime(){return 5}const SimulateMethod={create,close,onMessage,postMessage,canBeUsed,type,averageResponseTime,microSeconds};var METHODS=[NativeMethod,IndexeDbMethod,LocalstorageMethod,ServerMethod];function chooseMethod(a){var _=[].concat(a.methods,METHODS).filter(Boolean);if(a.type){if(a.type==="simulate")return SimulateMethod;var $=_.find(function(et){return et.type===a.type});if($)return $;throw new Error("method-type "+a.type+" not found")}a.webWorkerSupport||(_=_.filter(function(et){return et.type!=="idb"}));var j=_.find(function(et){return et.canBeUsed(a)});if(j)return j;throw new Error("No useable method found in "+JSON.stringify(METHODS.map(function(et){return et.type})))}var OPEN_BROADCAST_CHANNELS=new Set,lastId=0,BroadcastChannel$1=function a(_,$){this.id=lastId++,OPEN_BROADCAST_CHANNELS.add(this),this.name=_,ENFORCED_OPTIONS&&($=ENFORCED_OPTIONS),this.options=fillOptionsWithDefaults($),this.method=chooseMethod(this.options),this._iL=!1,this._onML=null,this._addEL={message:[],internal:[]},this._uMP=new Set,this._befC=[],this._prepP=null,_prepareChannel(this)};BroadcastChannel$1._pubkey=!0;var ENFORCED_OPTIONS;BroadcastChannel$1.prototype={postMessage:function a(_){if(this.closed)throw new Error("BroadcastChannel.postMessage(): Cannot post message after channel has closed "+JSON.stringify(_));return _post(this,"message",_)},postInternal:function a(_){return _post(this,"internal",_)},set onmessage(a){var _=this.method.microSeconds(),$={time:_,fn:a};_removeListenerObject(this,"message",this._onML),a&&typeof a=="function"?(this._onML=$,_addListenerObject(this,"message",$)):this._onML=null},addEventListener:function a(_,$){var j=this.method.microSeconds(),et={time:j,fn:$};_addListenerObject(this,_,et)},removeEventListener:function a(_,$){var j=this._addEL[_].find(function(et){return et.fn===$});_removeListenerObject(this,_,j)},close:function a(){var _=this;if(!this.closed){OPEN_BROADCAST_CHANNELS.delete(this),this.closed=!0;var $=this._prepP?this._prepP:PROMISE_RESOLVED_VOID;return this._onML=null,this._addEL.message=[],$.then(function(){return Promise.all(Array.from(_._uMP))}).then(function(){return Promise.all(_._befC.map(function(j){return j()}))}).then(function(){return _.method.close(_._state)})}},get type(){return this.method.type},get isClosed(){return this.closed}};function _post(a,_,$){var j=a.method.microSeconds(),et={time:j,type:_,data:$},tt=a._prepP?a._prepP:PROMISE_RESOLVED_VOID;return tt.then(function(){var rt=a.method.postMessage(a._state,et);return a._uMP.add(rt),rt.catch().then(function(){return a._uMP.delete(rt)}),rt})}function _prepareChannel(a){var _=a.method.create(a.name,a.options);isPromise(_)?(a._prepP=_,_.then(function($){a._state=$})):a._state=_}function _hasMessageListeners(a){return a._addEL.message.length>0||a._addEL.internal.length>0}function _addListenerObject(a,_,$){a._addEL[_].push($),_startListening(a)}function _removeListenerObject(a,_,$){a._addEL[_]=a._addEL[_].filter(function(j){return j!==$}),_stopListening(a)}function _startListening(a){if(!a._iL&&_hasMessageListeners(a)){var _=function(et){a._addEL[et.type].forEach(function(tt){var rt=1e5,nt=tt.time-rt;(et.time>=nt||a.method.type==="server")&&tt.fn(et.data)})},$=a.method.microSeconds();a._prepP?a._prepP.then(function(){a._iL=!0,a.method.onMessage(a._state,_,$)}):(a._iL=!0,a.method.onMessage(a._state,_,$))}}function _stopListening(a){if(a._iL&&!_hasMessageListeners(a)){a._iL=!1;var _=a.method.microSeconds();a.method.onMessage(a._state,null,_)}}function e(a){this.message=a}e.prototype=new Error,e.prototype.name="InvalidCharacterError";var r=typeof window<"u"&&window.atob&&window.atob.bind(window)||function(a){var _=String(a).replace(/=+$/,"");if(_.length%4==1)throw new e("'atob' failed: The string to be decoded is not correctly encoded.");for(var $,j,et=0,tt=0,rt="";j=_.charAt(tt++);~j&&($=et%4?64*$+j:j,et++%4)?rt+=String.fromCharCode(255&$>>(-2*et&6)):0)j="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(j);return rt};function t(a){var _=a.replace(/-/g,"+").replace(/_/g,"/");switch(_.length%4){case 0:break;case 2:_+="==";break;case 3:_+="=";break;default:throw"Illegal base64url string!"}try{return function($){return decodeURIComponent(r($).replace(/(.)/g,function(j,et){var tt=et.charCodeAt(0).toString(16).toUpperCase();return tt.length<2&&(tt="0"+tt),"%"+tt}))}(_)}catch{return r(_)}}function n(a){this.message=a}function o(a,_){if(typeof a!="string")throw new n("Invalid token specified");var $=(_=_||{}).header===!0?0:1;try{return JSON.parse(t(a.split(".")[$]))}catch(j){throw new n("Invalid token specified: "+j.message)}}n.prototype=new Error,n.prototype.name="InvalidTokenError";const TORUS_LEGACY_NETWORK={MAINNET:"mainnet",TESTNET:"testnet",CYAN:"cyan",AQUA:"aqua",CELESTE:"celeste"},TORUS_SAPPHIRE_NETWORK={SAPPHIRE_DEVNET:"sapphire_devnet",SAPPHIRE_TESTNET:"sapphire_testnet",SAPPHIRE_MAINNET:"sapphire_mainnet"},MULTI_CLUSTER_NETWORKS=[TORUS_LEGACY_NETWORK.AQUA,TORUS_LEGACY_NETWORK.CELESTE,TORUS_LEGACY_NETWORK.CYAN],LEGACY_NETWORKS_ROUTE_MAP={[TORUS_LEGACY_NETWORK.AQUA]:{migrationCompleted:!1,networkIdentifier:"aqua",networkMigratedTo:TORUS_SAPPHIRE_NETWORK.SAPPHIRE_MAINNET},[TORUS_LEGACY_NETWORK.CELESTE]:{migrationCompleted:!1,networkIdentifier:"celeste",networkMigratedTo:TORUS_SAPPHIRE_NETWORK.SAPPHIRE_MAINNET},[TORUS_LEGACY_NETWORK.CYAN]:{migrationCompleted:!1,networkIdentifier:"cyan",networkMigratedTo:TORUS_SAPPHIRE_NETWORK.SAPPHIRE_MAINNET},[TORUS_LEGACY_NETWORK.MAINNET]:{migrationCompleted:!1,networkIdentifier:"mainnet",networkMigratedTo:TORUS_SAPPHIRE_NETWORK.SAPPHIRE_MAINNET},[TORUS_LEGACY_NETWORK.TESTNET]:{migrationCompleted:!0,networkIdentifier:"teal",networkMigratedTo:TORUS_SAPPHIRE_NETWORK.SAPPHIRE_TESTNET}},SIGNER_MAP={[TORUS_LEGACY_NETWORK.MAINNET]:"https://signer.tor.us",[TORUS_LEGACY_NETWORK.TESTNET]:"https://signer.tor.us",[TORUS_LEGACY_NETWORK.CYAN]:"https://signer-polygon.tor.us",[TORUS_LEGACY_NETWORK.AQUA]:"https://signer-polygon.tor.us",[TORUS_LEGACY_NETWORK.CELESTE]:"https://signer-polygon.tor.us"},SAPPHIRE_NETWORK_URLS={[TORUS_SAPPHIRE_NETWORK.SAPPHIRE_DEVNET]:["https://sapphire-dev-2-1.authnetwork.dev","https://sapphire-dev-2-2.authnetwork.dev","https://sapphire-dev-2-3.authnetwork.dev","https://sapphire-dev-2-4.authnetwork.dev","https://sapphire-dev-2-5.authnetwork.dev"],[TORUS_SAPPHIRE_NETWORK.SAPPHIRE_TESTNET]:["https://sapphire-dev-2-1.authnetwork.dev","https://sapphire-dev-2-2.authnetwork.dev","https://sapphire-dev-2-3.authnetwork.dev","https://sapphire-dev-2-4.authnetwork.dev","https://sapphire-dev-2-5.authnetwork.dev"],[TORUS_SAPPHIRE_NETWORK.SAPPHIRE_MAINNET]:["https://sapphire-1.auth.network","https://sapphire-2.auth.network","https://sapphire-3.auth.network","https://sapphire-4.auth.network","https://sapphire-5.auth.network"]},getSSSEndpoints=(a,_)=>{const $=SAPPHIRE_NETWORK_URLS[a];if(!$||$.length===0)throw new Error(`Unsupported network: ${a}`);const j=LEGACY_NETWORKS_ROUTE_MAP[_];return $.map(et=>j&&j.networkIdentifier?`${et}/sss/${j.networkIdentifier}/jrpc`:`${et}/sss/jrpc`)},getRSSEndpoints=(a,_)=>{const $=SAPPHIRE_NETWORK_URLS[a];if(!$||$.length===0)throw new Error(`Unsupported network: ${a}`);const j=LEGACY_NETWORKS_ROUTE_MAP[_];return $.map(et=>j&&j.networkIdentifier?`${et}/rss/${j.networkIdentifier}`:`${et}/rss`)},getTSSEndpoints=(a,_)=>{const $=SAPPHIRE_NETWORK_URLS[a];if(!$||$.length===0)throw new Error(`Unsupported network: ${a}`);const j=LEGACY_NETWORKS_ROUTE_MAP[_];return $.map(et=>j&&j.networkIdentifier?`${et}/tss/${j.networkIdentifier}`:`${et}/tss`)},NODE_DETAILS_MAINNET={currentEpoch:"19",torusNodeEndpoints:["https://torus-19.torusnode.com/jrpc","https://torus-node.ens.domains/jrpc","https://torus-node.matic.network/jrpc","https://torus.zilliqa.network/jrpc","https://torus-mainnet.cosmos.network/jrpc","https://torus2.etherscan.com/jrpc","https://torus-node-v2.skalelabs.com/jrpc","https://torus-node.binancex.dev/jrpc","https://torusnode.ont.io/jrpc"],torusIndexes:[1,2,3,4,5,6,7,8,9],torusNodePub:[{X:"bbe83c64177c3775550e6ba6ac2bc059f6847d644c9e4894e42c60d7974d8c2b",Y:"82b49a7caf70def38cdad2740af45c1e4f969650105c5019a29bb18b21a9acb5"},{X:"c208cac4ef9a47d386097a9c915b28e9cb89213abee8d26a17198ee261201b0d",Y:"c7db2fe4631109f40833de9dc78d07e35706549ee48fa557b33e4e75e1047873"},{X:"ca1766bb426d4ca5582818a0c5439d560ea64f5baa060793ab29dd3d0ceacfe",Y:"d46c1d08c40e1306e1bca328c2287b8268166b11a1ba4b8442ea2ad0c5e32152"},{X:"c3934dd2f6f4b3d2e1e398cc501e143c1e1a381b52feb6d1525af34d16253768",Y:"71f5141a5035799099f5ea3e241e66946bc55dc857ac3bd7d6fcdb8dcd3eeeef"},{X:"22e66f1929631d00bf026227581597f085fd94fd952fc0dca9f0833398b5c064",Y:"6088b3912e10a1e9d50355a609c10db7d188f16a2e2fd7357e51bf4f6a74f0a1"},{X:"9dc9fa410f3ce9eb70df70cdea00a49f2c4cc7a31c08c0dab5f863ed35ff5139",Y:"627a291cb87a75c61da3f65d6818e1e05e360217179817ed27e8c73bca7ec122"},{X:"118b9fc07e97b096d899b9f6658463ce6a8caa64038e37fc969df4e6023dd8c6",Y:"baf9fa4e51770f4796ea165dd03a769b8606681a38954a0a92c4cbffd6609ce9"},{X:"8a6d8b925da15a273dec3d8f8395ec35cd6878f274b2b180e4e106999db64043",Y:"96f67f870c157743da0b1eb84d89bf30500d74dc84c11f501ee1cb013acc8c46"},{X:"39cecb62e863729f572f7dfc46c24867981bf04bb405fed0df39e33984bfade5",Y:"61c2364434012e68a2be2e9952805037e52629d7762fafc8e10e9fb5bad8f790"}]},SAPPHIRE_NODE_PUB_KEYS={[TORUS_SAPPHIRE_NETWORK.SAPPHIRE_MAINNET]:[{X:"e0925898fee0e9e941fdca7ee88deec99939ae9407e923535c4d4a3a3ff8b052",Y:"54b9fea924e3f3e40791f9987f4234ae4222412d65b74068032fa5d8b63375c1"},{X:"9124cf1e280aab32ba50dffd2de81cecabc13d82d2c1fe9de82f3b3523f9b637",Y:"fca939a1ceb42ce745c55b21ef094f543b457630cb63a94ef4f1afeee2b1f107"},{X:"555f681a63d469cc6c3a58a97e29ebd277425f0e6159708e7c7bf05f18f89476",Y:"606f2bcc0884fa5b64366fc3e8362e4939841b56acd60d5f4553cf36b891ac4e"},{X:"2b5f58d8e340f1ab922e89b3a69a68930edfe51364644a456335e179bc130128",Y:"4b4daa05939426e3cbe7d08f0e773d2bf36f64c00d04620ee6df2a7af4d2247"},{X:"3ecbb6a68afe72cf34ec6c0a12b5cb78a0d2e83ba402983b6adbc5f36219861a",Y:"dc1031c5cc8f0472bd521a62a64ebca9e163902c247bf05937daf4ae835091e4"}],[TORUS_SAPPHIRE_NETWORK.SAPPHIRE_TESTNET]:[{X:"f74389b0a4c8d10d2a687ae575f69b20f412d41ab7f1fe6b358aa14871327247",Y:"54e3a73098ed9bced3ef8821736e9794f9264a1420c0c7ad15d2fa617ba35ef7"},{X:"bc38813a6873e526087918507c78fc3a61624670ee851ecfb4f3bef55d027b5a",Y:"ac4b21229f662a0aefdfdac21cf17c3261a392c74a8790db218b34e3e4c1d56a"},{X:"b56541684ea5fa40c8337b7688d502f0e9e092098962ad344c34e94f06d293fb",Y:"759a998cef79d389082f9a75061a29190eec0cac99b8c25ddcf6b58569dad55c"},{X:"7bcb058d4c6ffc6ba4bfdfd93d141af35a66338a62c7c27cdad2ae3f8289b767",Y:"336ab1935e41ed4719e162587f0ab55518db4207a1eb36cc72303f1b86689d2b"},{X:"bf12a136ef94399ea098f926f04e26a4ec4ac70f69cce274e8893704c4951773",Y:"bdd44828020f52ce510e026338216ada184a6867eb4e19fb4c2d495d4a7e15e4"}],[TORUS_SAPPHIRE_NETWORK.SAPPHIRE_DEVNET]:[{X:"f74389b0a4c8d10d2a687ae575f69b20f412d41ab7f1fe6b358aa14871327247",Y:"54e3a73098ed9bced3ef8821736e9794f9264a1420c0c7ad15d2fa617ba35ef7"},{X:"bc38813a6873e526087918507c78fc3a61624670ee851ecfb4f3bef55d027b5a",Y:"ac4b21229f662a0aefdfdac21cf17c3261a392c74a8790db218b34e3e4c1d56a"},{X:"b56541684ea5fa40c8337b7688d502f0e9e092098962ad344c34e94f06d293fb",Y:"759a998cef79d389082f9a75061a29190eec0cac99b8c25ddcf6b58569dad55c"},{X:"7bcb058d4c6ffc6ba4bfdfd93d141af35a66338a62c7c27cdad2ae3f8289b767",Y:"336ab1935e41ed4719e162587f0ab55518db4207a1eb36cc72303f1b86689d2b"},{X:"bf12a136ef94399ea098f926f04e26a4ec4ac70f69cce274e8893704c4951773",Y:"bdd44828020f52ce510e026338216ada184a6867eb4e19fb4c2d495d4a7e15e4"}]},getSapphireNodeDetails=(a,_)=>({currentEpoch:"1",torusNodeEndpoints:getSSSEndpoints(a,_),torusNodeSSSEndpoints:getSSSEndpoints(a,_),torusNodeRSSEndpoints:getRSSEndpoints(a,_),torusNodeTSSEndpoints:getTSSEndpoints(a,_),torusIndexes:[1,2,3,4,5],torusNodePub:SAPPHIRE_NODE_PUB_KEYS[a]});function fetchLocalConfig(a){if(Object.values(TORUS_SAPPHIRE_NETWORK).includes(a))return getSapphireNodeDetails(a);if(Object.values(TORUS_LEGACY_NETWORK).includes(a)){const _=LEGACY_NETWORKS_ROUTE_MAP[a];if(_.migrationCompleted)return getSapphireNodeDetails(_.networkMigratedTo,a);if(a===TORUS_LEGACY_NETWORK.MAINNET)return NODE_DETAILS_MAINNET}}const log$2=log$1$1.getLogger("fnd");class NodeDetailManager{constructor(){let{network:_=TORUS_SAPPHIRE_NETWORK.SAPPHIRE_MAINNET,fndServerEndpoint:$,enableLogging:j=!1}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};_defineProperty$4(this,"fndServerEndpoint","https://fnd.tor.us/node-details"),_defineProperty$4(this,"_currentEpoch","1"),_defineProperty$4(this,"_torusNodeEndpoints",[]),_defineProperty$4(this,"_torusNodeRSSEndpoints",[]),_defineProperty$4(this,"_torusNodeSSSEndpoints",[]),_defineProperty$4(this,"_torusNodeTSSEndpoints",[]),_defineProperty$4(this,"_torusNodePub",[]),_defineProperty$4(this,"_torusIndexes",[]),_defineProperty$4(this,"updated",void 0),_defineProperty$4(this,"network",void 0),this.network=_,this.updated=!1,$&&(this.fndServerEndpoint=$),j?log$2.enableAll():log$2.disableAll()}get _nodeDetails(){return{currentEpoch:this._currentEpoch,torusNodeEndpoints:this._torusNodeEndpoints,torusNodeSSSEndpoints:this._torusNodeSSSEndpoints,torusNodeRSSEndpoints:this._torusNodeRSSEndpoints,torusNodeTSSEndpoints:this._torusNodeTSSEndpoints,torusNodePub:this._torusNodePub,torusIndexes:this._torusIndexes,updated:this.updated}}async getNodeDetails(_){let{verifier:$,verifierId:j}=_;try{if(this.updated&&!MULTI_CLUSTER_NETWORKS.includes(this.network))return this._nodeDetails;try{const{nodeDetails:tt}=await get(`${this.fndServerEndpoint}?network=${this.network}&verifier=${$}&verifierId=${j}`);return this.setNodeDetails(tt),this._nodeDetails}catch(tt){log$2.error("Failed to fetch node details from server, using local.",tt)}const et=fetchLocalConfig(this.network);if(!et)throw new Error("Failed to fetch node details");return this.setNodeDetails(et),this._nodeDetails}catch(et){throw log$2.error("Failed to fetch node details",et),et}}setNodeDetails(_){const{currentEpoch:$,torusNodeEndpoints:j,torusNodeSSSEndpoints:et,torusNodeRSSEndpoints:tt,torusNodeTSSEndpoints:rt,torusNodePub:nt,torusIndexes:it}=_;this._torusNodeEndpoints=j,this._torusNodeSSSEndpoints=et||[],this._torusNodeRSSEndpoints=tt||[],this._torusNodeTSSEndpoints=rt||[],this._torusNodePub=nt,this._torusIndexes=it,this._currentEpoch=$,this.updated=!0}}var bn={exports:{}};bn.exports;(function(a){(function(_,$){function j(vt,ct){if(!vt)throw new Error(ct||"Assertion failed")}function et(vt,ct){vt.super_=ct;var dt=function(){};dt.prototype=ct.prototype,vt.prototype=new dt,vt.prototype.constructor=vt}function tt(vt,ct,dt){if(tt.isBN(vt))return vt;this.negative=0,this.words=null,this.length=0,this.red=null,vt!==null&&((ct==="le"||ct==="be")&&(dt=ct,ct=10),this._init(vt||0,ct||10,dt||"be"))}typeof _=="object"?_.exports=tt:$.BN=tt,tt.BN=tt,tt.wordSize=26;var rt;try{typeof window<"u"&&typeof window.Buffer<"u"?rt=window.Buffer:rt=require$$0$4.Buffer}catch{}tt.isBN=function(ct){return ct instanceof tt?!0:ct!==null&&typeof ct=="object"&&ct.constructor.wordSize===tt.wordSize&&Array.isArray(ct.words)},tt.max=function(ct,dt){return ct.cmp(dt)>0?ct:dt},tt.min=function(ct,dt){return ct.cmp(dt)<0?ct:dt},tt.prototype._init=function(ct,dt,mt){if(typeof ct=="number")return this._initNumber(ct,dt,mt);if(typeof ct=="object")return this._initArray(ct,dt,mt);dt==="hex"&&(dt=16),j(dt===(dt|0)&&dt>=2&&dt<=36),ct=ct.toString().replace(/\s+/g,"");var xt=0;ct[0]==="-"&&(xt++,this.negative=1),xt<ct.length&&(dt===16?this._parseHex(ct,xt,mt):(this._parseBase(ct,dt,xt),mt==="le"&&this._initArray(this.toArray(),dt,mt)))},tt.prototype._initNumber=function(ct,dt,mt){ct<0&&(this.negative=1,ct=-ct),ct<67108864?(this.words=[ct&67108863],this.length=1):ct<4503599627370496?(this.words=[ct&67108863,ct/67108864&67108863],this.length=2):(j(ct<9007199254740992),this.words=[ct&67108863,ct/67108864&67108863,1],this.length=3),mt==="le"&&this._initArray(this.toArray(),dt,mt)},tt.prototype._initArray=function(ct,dt,mt){if(j(typeof ct.length=="number"),ct.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(ct.length/3),this.words=new Array(this.length);for(var xt=0;xt<this.length;xt++)this.words[xt]=0;var At,Rt,St=0;if(mt==="be")for(xt=ct.length-1,At=0;xt>=0;xt-=3)Rt=ct[xt]|ct[xt-1]<<8|ct[xt-2]<<16,this.words[At]|=Rt<<St&67108863,this.words[At+1]=Rt>>>26-St&67108863,St+=24,St>=26&&(St-=26,At++);else if(mt==="le")for(xt=0,At=0;xt<ct.length;xt+=3)Rt=ct[xt]|ct[xt+1]<<8|ct[xt+2]<<16,this.words[At]|=Rt<<St&67108863,this.words[At+1]=Rt>>>26-St&67108863,St+=24,St>=26&&(St-=26,At++);return this._strip()};function nt(vt,ct){var dt=vt.charCodeAt(ct);if(dt>=48&&dt<=57)return dt-48;if(dt>=65&&dt<=70)return dt-55;if(dt>=97&&dt<=102)return dt-87;j(!1,"Invalid character in "+vt)}function it(vt,ct,dt){var mt=nt(vt,dt);return dt-1>=ct&&(mt|=nt(vt,dt-1)<<4),mt}tt.prototype._parseHex=function(ct,dt,mt){this.length=Math.ceil((ct.length-dt)/6),this.words=new Array(this.length);for(var xt=0;xt<this.length;xt++)this.words[xt]=0;var At=0,Rt=0,St;if(mt==="be")for(xt=ct.length-1;xt>=dt;xt-=2)St=it(ct,dt,xt)<<At,this.words[Rt]|=St&67108863,At>=18?(At-=18,Rt+=1,this.words[Rt]|=St>>>26):At+=8;else{var $t=ct.length-dt;for(xt=$t%2===0?dt+1:dt;xt<ct.length;xt+=2)St=it(ct,dt,xt)<<At,this.words[Rt]|=St&67108863,At>=18?(At-=18,Rt+=1,this.words[Rt]|=St>>>26):At+=8}this._strip()};function st(vt,ct,dt,mt){for(var xt=0,At=0,Rt=Math.min(vt.length,dt),St=ct;St<Rt;St++){var $t=vt.charCodeAt(St)-48;xt*=mt,$t>=49?At=$t-49+10:$t>=17?At=$t-17+10:At=$t,j($t>=0&&At<mt,"Invalid character"),xt+=At}return xt}tt.prototype._parseBase=function(ct,dt,mt){this.words=[0],this.length=1;for(var xt=0,At=1;At<=67108863;At*=dt)xt++;xt--,At=At/dt|0;for(var Rt=ct.length-mt,St=Rt%xt,$t=Math.min(Rt,Rt-St)+mt,Et=0,Nt=mt;Nt<$t;Nt+=xt)Et=st(ct,Nt,Nt+xt,dt),this.imuln(At),this.words[0]+Et<67108864?this.words[0]+=Et:this._iaddn(Et);if(St!==0){var tr=1;for(Et=st(ct,Nt,ct.length,dt),Nt=0;Nt<St;Nt++)tr*=dt;this.imuln(tr),this.words[0]+Et<67108864?this.words[0]+=Et:this._iaddn(Et)}this._strip()},tt.prototype.copy=function(ct){ct.words=new Array(this.length);for(var dt=0;dt<this.length;dt++)ct.words[dt]=this.words[dt];ct.length=this.length,ct.negative=this.negative,ct.red=this.red};function ot(vt,ct){vt.words=ct.words,vt.length=ct.length,vt.negative=ct.negative,vt.red=ct.red}if(tt.prototype._move=function(ct){ot(ct,this)},tt.prototype.clone=function(){var ct=new tt(null);return this.copy(ct),ct},tt.prototype._expand=function(ct){for(;this.length<ct;)this.words[this.length++]=0;return this},tt.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},tt.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{tt.prototype[Symbol.for("nodejs.util.inspect.custom")]=at}catch{tt.prototype.inspect=at}else tt.prototype.inspect=at;function at(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var ut=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],ht=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],yt=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];tt.prototype.toString=function(ct,dt){ct=ct||10,dt=dt|0||1;var mt;if(ct===16||ct==="hex"){mt="";for(var xt=0,At=0,Rt=0;Rt<this.length;Rt++){var St=this.words[Rt],$t=((St<<xt|At)&16777215).toString(16);At=St>>>24-xt&16777215,xt+=2,xt>=26&&(xt-=26,Rt--),At!==0||Rt!==this.length-1?mt=ut[6-$t.length]+$t+mt:mt=$t+mt}for(At!==0&&(mt=At.toString(16)+mt);mt.length%dt!==0;)mt="0"+mt;return this.negative!==0&&(mt="-"+mt),mt}if(ct===(ct|0)&&ct>=2&&ct<=36){var Et=ht[ct],Nt=yt[ct];mt="";var tr=this.clone();for(tr.negative=0;!tr.isZero();){var ir=tr.modrn(Nt).toString(ct);tr=tr.idivn(Nt),tr.isZero()?mt=ir+mt:mt=ut[Et-ir.length]+ir+mt}for(this.isZero()&&(mt="0"+mt);mt.length%dt!==0;)mt="0"+mt;return this.negative!==0&&(mt="-"+mt),mt}j(!1,"Base should be between 2 and 36")},tt.prototype.toNumber=function(){var ct=this.words[0];return this.length===2?ct+=this.words[1]*67108864:this.length===3&&this.words[2]===1?ct+=4503599627370496+this.words[1]*67108864:this.length>2&&j(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-ct:ct},tt.prototype.toJSON=function(){return this.toString(16,2)},rt&&(tt.prototype.toBuffer=function(ct,dt){return this.toArrayLike(rt,ct,dt)}),tt.prototype.toArray=function(ct,dt){return this.toArrayLike(Array,ct,dt)};var wt=function(ct,dt){return ct.allocUnsafe?ct.allocUnsafe(dt):new ct(dt)};tt.prototype.toArrayLike=function(ct,dt,mt){this._strip();var xt=this.byteLength(),At=mt||Math.max(1,xt);j(xt<=At,"byte array longer than desired length"),j(At>0,"Requested array length <= 0");var Rt=wt(ct,At),St=dt==="le"?"LE":"BE";return this["_toArrayLike"+St](Rt,xt),Rt},tt.prototype._toArrayLikeLE=function(ct,dt){for(var mt=0,xt=0,At=0,Rt=0;At<this.length;At++){var St=this.words[At]<<Rt|xt;ct[mt++]=St&255,mt<ct.length&&(ct[mt++]=St>>8&255),mt<ct.length&&(ct[mt++]=St>>16&255),Rt===6?(mt<ct.length&&(ct[mt++]=St>>24&255),xt=0,Rt=0):(xt=St>>>24,Rt+=2)}if(mt<ct.length)for(ct[mt++]=xt;mt<ct.length;)ct[mt++]=0},tt.prototype._toArrayLikeBE=function(ct,dt){for(var mt=ct.length-1,xt=0,At=0,Rt=0;At<this.length;At++){var St=this.words[At]<<Rt|xt;ct[mt--]=St&255,mt>=0&&(ct[mt--]=St>>8&255),mt>=0&&(ct[mt--]=St>>16&255),Rt===6?(mt>=0&&(ct[mt--]=St>>24&255),xt=0,Rt=0):(xt=St>>>24,Rt+=2)}if(mt>=0)for(ct[mt--]=xt;mt>=0;)ct[mt--]=0},Math.clz32?tt.prototype._countBits=function(ct){return 32-Math.clz32(ct)}:tt.prototype._countBits=function(ct){var dt=ct,mt=0;return dt>=4096&&(mt+=13,dt>>>=13),dt>=64&&(mt+=7,dt>>>=7),dt>=8&&(mt+=4,dt>>>=4),dt>=2&&(mt+=2,dt>>>=2),mt+dt},tt.prototype._zeroBits=function(ct){if(ct===0)return 26;var dt=ct,mt=0;return dt&8191||(mt+=13,dt>>>=13),dt&127||(mt+=7,dt>>>=7),dt&15||(mt+=4,dt>>>=4),dt&3||(mt+=2,dt>>>=2),dt&1||mt++,mt},tt.prototype.bitLength=function(){var ct=this.words[this.length-1],dt=this._countBits(ct);return(this.length-1)*26+dt};function Ct(vt){for(var ct=new Array(vt.bitLength()),dt=0;dt<ct.length;dt++){var mt=dt/26|0,xt=dt%26;ct[dt]=vt.words[mt]>>>xt&1}return ct}tt.prototype.zeroBits=function(){if(this.isZero())return 0;for(var ct=0,dt=0;dt<this.length;dt++){var mt=this._zeroBits(this.words[dt]);if(ct+=mt,mt!==26)break}return ct},tt.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},tt.prototype.toTwos=function(ct){return this.negative!==0?this.abs().inotn(ct).iaddn(1):this.clone()},tt.prototype.fromTwos=function(ct){return this.testn(ct-1)?this.notn(ct).iaddn(1).ineg():this.clone()},tt.prototype.isNeg=function(){return this.negative!==0},tt.prototype.neg=function(){return this.clone().ineg()},tt.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},tt.prototype.iuor=function(ct){for(;this.length<ct.length;)this.words[this.length++]=0;for(var dt=0;dt<ct.length;dt++)this.words[dt]=this.words[dt]|ct.words[dt];return this._strip()},tt.prototype.ior=function(ct){return j((this.negative|ct.negative)===0),this.iuor(ct)},tt.prototype.or=function(ct){return this.length>ct.length?this.clone().ior(ct):ct.clone().ior(this)},tt.prototype.uor=function(ct){return this.length>ct.length?this.clone().iuor(ct):ct.clone().iuor(this)},tt.prototype.iuand=function(ct){var dt;this.length>ct.length?dt=ct:dt=this;for(var mt=0;mt<dt.length;mt++)this.words[mt]=this.words[mt]&ct.words[mt];return this.length=dt.length,this._strip()},tt.prototype.iand=function(ct){return j((this.negative|ct.negative)===0),this.iuand(ct)},tt.prototype.and=function(ct){return this.length>ct.length?this.clone().iand(ct):ct.clone().iand(this)},tt.prototype.uand=function(ct){return this.length>ct.length?this.clone().iuand(ct):ct.clone().iuand(this)},tt.prototype.iuxor=function(ct){var dt,mt;this.length>ct.length?(dt=this,mt=ct):(dt=ct,mt=this);for(var xt=0;xt<mt.length;xt++)this.words[xt]=dt.words[xt]^mt.words[xt];if(this!==dt)for(;xt<dt.length;xt++)this.words[xt]=dt.words[xt];return this.length=dt.length,this._strip()},tt.prototype.ixor=function(ct){return j((this.negative|ct.negative)===0),this.iuxor(ct)},tt.prototype.xor=function(ct){return this.length>ct.length?this.clone().ixor(ct):ct.clone().ixor(this)},tt.prototype.uxor=function(ct){return this.length>ct.length?this.clone().iuxor(ct):ct.clone().iuxor(this)},tt.prototype.inotn=function(ct){j(typeof ct=="number"&&ct>=0);var dt=Math.ceil(ct/26)|0,mt=ct%26;this._expand(dt),mt>0&&dt--;for(var xt=0;xt<dt;xt++)this.words[xt]=~this.words[xt]&67108863;return mt>0&&(this.words[xt]=~this.words[xt]&67108863>>26-mt),this._strip()},tt.prototype.notn=function(ct){return this.clone().inotn(ct)},tt.prototype.setn=function(ct,dt){j(typeof ct=="number"&&ct>=0);var mt=ct/26|0,xt=ct%26;return this._expand(mt+1),dt?this.words[mt]=this.words[mt]|1<<xt:this.words[mt]=this.words[mt]&~(1<<xt),this._strip()},tt.prototype.iadd=function(ct){var dt;if(this.negative!==0&&ct.negative===0)return this.negative=0,dt=this.isub(ct),this.negative^=1,this._normSign();if(this.negative===0&&ct.negative!==0)return ct.negative=0,dt=this.isub(ct),ct.negative=1,dt._normSign();var mt,xt;this.length>ct.length?(mt=this,xt=ct):(mt=ct,xt=this);for(var At=0,Rt=0;Rt<xt.length;Rt++)dt=(mt.words[Rt]|0)+(xt.words[Rt]|0)+At,this.words[Rt]=dt&67108863,At=dt>>>26;for(;At!==0&&Rt<mt.length;Rt++)dt=(mt.words[Rt]|0)+At,this.words[Rt]=dt&67108863,At=dt>>>26;if(this.length=mt.length,At!==0)this.words[this.length]=At,this.length++;else if(mt!==this)for(;Rt<mt.length;Rt++)this.words[Rt]=mt.words[Rt];return this},tt.prototype.add=function(ct){var dt;return ct.negative!==0&&this.negative===0?(ct.negative=0,dt=this.sub(ct),ct.negative^=1,dt):ct.negative===0&&this.negative!==0?(this.negative=0,dt=ct.sub(this),this.negative=1,dt):this.length>ct.length?this.clone().iadd(ct):ct.clone().iadd(this)},tt.prototype.isub=function(ct){if(ct.negative!==0){ct.negative=0;var dt=this.iadd(ct);return ct.negative=1,dt._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(ct),this.negative=1,this._normSign();var mt=this.cmp(ct);if(mt===0)return this.negative=0,this.length=1,this.words[0]=0,this;var xt,At;mt>0?(xt=this,At=ct):(xt=ct,At=this);for(var Rt=0,St=0;St<At.length;St++)dt=(xt.words[St]|0)-(At.words[St]|0)+Rt,Rt=dt>>26,this.words[St]=dt&67108863;for(;Rt!==0&&St<xt.length;St++)dt=(xt.words[St]|0)+Rt,Rt=dt>>26,this.words[St]=dt&67108863;if(Rt===0&&St<xt.length&&xt!==this)for(;St<xt.length;St++)this.words[St]=xt.words[St];return this.length=Math.max(this.length,St),xt!==this&&(this.negative=1),this._strip()},tt.prototype.sub=function(ct){return this.clone().isub(ct)};function Pt(vt,ct,dt){dt.negative=ct.negative^vt.negative;var mt=vt.length+ct.length|0;dt.length=mt,mt=mt-1|0;var xt=vt.words[0]|0,At=ct.words[0]|0,Rt=xt*At,St=Rt&67108863,$t=Rt/67108864|0;dt.words[0]=St;for(var Et=1;Et<mt;Et++){for(var Nt=$t>>>26,tr=$t&67108863,ir=Math.min(Et,ct.length-1),nr=Math.max(0,Et-vt.length+1);nr<=ir;nr++){var Zt=Et-nr|0;xt=vt.words[Zt]|0,At=ct.words[nr]|0,Rt=xt*At+tr,Nt+=Rt/67108864|0,tr=Rt&67108863}dt.words[Et]=tr|0,$t=Nt|0}return $t!==0?dt.words[Et]=$t|0:dt.length--,dt._strip()}var Tt=function(ct,dt,mt){var xt=ct.words,At=dt.words,Rt=mt.words,St=0,$t,Et,Nt,tr=xt[0]|0,ir=tr&8191,nr=tr>>>13,Zt=xt[1]|0,Kt=Zt&8191,Qt=Zt>>>13,Ht=xt[2]|0,qt=Ht&8191,Jt=Ht>>>13,ur=xt[3]|0,xr=ur&8191,pr=ur>>>13,Cr=xt[4]|0,Mr=Cr&8191,lr=Cr>>>13,fr=xt[5]|0,_r=fr&8191,Rr=fr>>>13,kr=xt[6]|0,Ar=kr&8191,Pr=kr>>>13,Or=xt[7]|0,Lr=Or&8191,or=Or>>>13,Yt=xt[8]|0,er=Yt&8191,Gt=Yt>>>13,Vt=xt[9]|0,Wt=Vt&8191,ar=Vt>>>13,yr=At[0]|0,Er=yr&8191,Sr=yr>>>13,Wr=At[1]|0,Hr=Wr&8191,Fr=Wr>>>13,pn=At[2]|0,Jr=pn&8191,Qr=pn>>>13,mn=At[3]|0,ln=mn&8191,qr=mn>>>13,En=At[4]|0,un=En&8191,Vr=En>>>13,hn=At[5]|0,fn=hn&8191,Kr=hn>>>13,Rn=At[6]|0,dn=Rn&8191,Gr=Rn>>>13,gn=At[7]|0,an=gn&8191,Zr=gn>>>13,An=At[8]|0,Sn=An&8191,nn=An>>>13,Pn=At[9]|0,yn=Pn&8191,_n=Pn>>>13;mt.negative=ct.negative^dt.negative,mt.length=19,$t=Math.imul(ir,Er),Et=Math.imul(ir,Sr),Et=Et+Math.imul(nr,Er)|0,Nt=Math.imul(nr,Sr);var ds=(St+$t|0)+((Et&8191)<<13)|0;St=(Nt+(Et>>>13)|0)+(ds>>>26)|0,ds&=67108863,$t=Math.imul(Kt,Er),Et=Math.imul(Kt,Sr),Et=Et+Math.imul(Qt,Er)|0,Nt=Math.imul(Qt,Sr),$t=$t+Math.imul(ir,Hr)|0,Et=Et+Math.imul(ir,Fr)|0,Et=Et+Math.imul(nr,Hr)|0,Nt=Nt+Math.imul(nr,Fr)|0;var fs=(St+$t|0)+((Et&8191)<<13)|0;St=(Nt+(Et>>>13)|0)+(fs>>>26)|0,fs&=67108863,$t=Math.imul(qt,Er),Et=Math.imul(qt,Sr),Et=Et+Math.imul(Jt,Er)|0,Nt=Math.imul(Jt,Sr),$t=$t+Math.imul(Kt,Hr)|0,Et=Et+Math.imul(Kt,Fr)|0,Et=Et+Math.imul(Qt,Hr)|0,Nt=Nt+Math.imul(Qt,Fr)|0,$t=$t+Math.imul(ir,Jr)|0,Et=Et+Math.imul(ir,Qr)|0,Et=Et+Math.imul(nr,Jr)|0,Nt=Nt+Math.imul(nr,Qr)|0;var hs=(St+$t|0)+((Et&8191)<<13)|0;St=(Nt+(Et>>>13)|0)+(hs>>>26)|0,hs&=67108863,$t=Math.imul(xr,Er),Et=Math.imul(xr,Sr),Et=Et+Math.imul(pr,Er)|0,Nt=Math.imul(pr,Sr),$t=$t+Math.imul(qt,Hr)|0,Et=Et+Math.imul(qt,Fr)|0,Et=Et+Math.imul(Jt,Hr)|0,Nt=Nt+Math.imul(Jt,Fr)|0,$t=$t+Math.imul(Kt,Jr)|0,Et=Et+Math.imul(Kt,Qr)|0,Et=Et+Math.imul(Qt,Jr)|0,Nt=Nt+Math.imul(Qt,Qr)|0,$t=$t+Math.imul(ir,ln)|0,Et=Et+Math.imul(ir,qr)|0,Et=Et+Math.imul(nr,ln)|0,Nt=Nt+Math.imul(nr,qr)|0;var ps=(St+$t|0)+((Et&8191)<<13)|0;St=(Nt+(Et>>>13)|0)+(ps>>>26)|0,ps&=67108863,$t=Math.imul(Mr,Er),Et=Math.imul(Mr,Sr),Et=Et+Math.imul(lr,Er)|0,Nt=Math.imul(lr,Sr),$t=$t+Math.imul(xr,Hr)|0,Et=Et+Math.imul(xr,Fr)|0,Et=Et+Math.imul(pr,Hr)|0,Nt=Nt+Math.imul(pr,Fr)|0,$t=$t+Math.imul(qt,Jr)|0,Et=Et+Math.imul(qt,Qr)|0,Et=Et+Math.imul(Jt,Jr)|0,Nt=Nt+Math.imul(Jt,Qr)|0,$t=$t+Math.imul(Kt,ln)|0,Et=Et+Math.imul(Kt,qr)|0,Et=Et+Math.imul(Qt,ln)|0,Nt=Nt+Math.imul(Qt,qr)|0,$t=$t+Math.imul(ir,un)|0,Et=Et+Math.imul(ir,Vr)|0,Et=Et+Math.imul(nr,un)|0,Nt=Nt+Math.imul(nr,Vr)|0;var Vn=(St+$t|0)+((Et&8191)<<13)|0;St=(Nt+(Et>>>13)|0)+(Vn>>>26)|0,Vn&=67108863,$t=Math.imul(_r,Er),Et=Math.imul(_r,Sr),Et=Et+Math.imul(Rr,Er)|0,Nt=Math.imul(Rr,Sr),$t=$t+Math.imul(Mr,Hr)|0,Et=Et+Math.imul(Mr,Fr)|0,Et=Et+Math.imul(lr,Hr)|0,Nt=Nt+Math.imul(lr,Fr)|0,$t=$t+Math.imul(xr,Jr)|0,Et=Et+Math.imul(xr,Qr)|0,Et=Et+Math.imul(pr,Jr)|0,Nt=Nt+Math.imul(pr,Qr)|0,$t=$t+Math.imul(qt,ln)|0,Et=Et+Math.imul(qt,qr)|0,Et=Et+Math.imul(Jt,ln)|0,Nt=Nt+Math.imul(Jt,qr)|0,$t=$t+Math.imul(Kt,un)|0,Et=Et+Math.imul(Kt,Vr)|0,Et=Et+Math.imul(Qt,un)|0,Nt=Nt+Math.imul(Qt,Vr)|0,$t=$t+Math.imul(ir,fn)|0,Et=Et+Math.imul(ir,Kr)|0,Et=Et+Math.imul(nr,fn)|0,Nt=Nt+Math.imul(nr,Kr)|0;var ss=(St+$t|0)+((Et&8191)<<13)|0;St=(Nt+(Et>>>13)|0)+(ss>>>26)|0,ss&=67108863,$t=Math.imul(Ar,Er),Et=Math.imul(Ar,Sr),Et=Et+Math.imul(Pr,Er)|0,Nt=Math.imul(Pr,Sr),$t=$t+Math.imul(_r,Hr)|0,Et=Et+Math.imul(_r,Fr)|0,Et=Et+Math.imul(Rr,Hr)|0,Nt=Nt+Math.imul(Rr,Fr)|0,$t=$t+Math.imul(Mr,Jr)|0,Et=Et+Math.imul(Mr,Qr)|0,Et=Et+Math.imul(lr,Jr)|0,Nt=Nt+Math.imul(lr,Qr)|0,$t=$t+Math.imul(xr,ln)|0,Et=Et+Math.imul(xr,qr)|0,Et=Et+Math.imul(pr,ln)|0,Nt=Nt+Math.imul(pr,qr)|0,$t=$t+Math.imul(qt,un)|0,Et=Et+Math.imul(qt,Vr)|0,Et=Et+Math.imul(Jt,un)|0,Nt=Nt+Math.imul(Jt,Vr)|0,$t=$t+Math.imul(Kt,fn)|0,Et=Et+Math.imul(Kt,Kr)|0,Et=Et+Math.imul(Qt,fn)|0,Nt=Nt+Math.imul(Qt,Kr)|0,$t=$t+Math.imul(ir,dn)|0,Et=Et+Math.imul(ir,Gr)|0,Et=Et+Math.imul(nr,dn)|0,Nt=Nt+Math.imul(nr,Gr)|0;var Jn=(St+$t|0)+((Et&8191)<<13)|0;St=(Nt+(Et>>>13)|0)+(Jn>>>26)|0,Jn&=67108863,$t=Math.imul(Lr,Er),Et=Math.imul(Lr,Sr),Et=Et+Math.imul(or,Er)|0,Nt=Math.imul(or,Sr),$t=$t+Math.imul(Ar,Hr)|0,Et=Et+Math.imul(Ar,Fr)|0,Et=Et+Math.imul(Pr,Hr)|0,Nt=Nt+Math.imul(Pr,Fr)|0,$t=$t+Math.imul(_r,Jr)|0,Et=Et+Math.imul(_r,Qr)|0,Et=Et+Math.imul(Rr,Jr)|0,Nt=Nt+Math.imul(Rr,Qr)|0,$t=$t+Math.imul(Mr,ln)|0,Et=Et+Math.imul(Mr,qr)|0,Et=Et+Math.imul(lr,ln)|0,Nt=Nt+Math.imul(lr,qr)|0,$t=$t+Math.imul(xr,un)|0,Et=Et+Math.imul(xr,Vr)|0,Et=Et+Math.imul(pr,un)|0,Nt=Nt+Math.imul(pr,Vr)|0,$t=$t+Math.imul(qt,fn)|0,Et=Et+Math.imul(qt,Kr)|0,Et=Et+Math.imul(Jt,fn)|0,Nt=Nt+Math.imul(Jt,Kr)|0,$t=$t+Math.imul(Kt,dn)|0,Et=Et+Math.imul(Kt,Gr)|0,Et=Et+Math.imul(Qt,dn)|0,Nt=Nt+Math.imul(Qt,Gr)|0,$t=$t+Math.imul(ir,an)|0,Et=Et+Math.imul(ir,Zr)|0,Et=Et+Math.imul(nr,an)|0,Nt=Nt+Math.imul(nr,Zr)|0;var Yn=(St+$t|0)+((Et&8191)<<13)|0;St=(Nt+(Et>>>13)|0)+(Yn>>>26)|0,Yn&=67108863,$t=Math.imul(er,Er),Et=Math.imul(er,Sr),Et=Et+Math.imul(Gt,Er)|0,Nt=Math.imul(Gt,Sr),$t=$t+Math.imul(Lr,Hr)|0,Et=Et+Math.imul(Lr,Fr)|0,Et=Et+Math.imul(or,Hr)|0,Nt=Nt+Math.imul(or,Fr)|0,$t=$t+Math.imul(Ar,Jr)|0,Et=Et+Math.imul(Ar,Qr)|0,Et=Et+Math.imul(Pr,Jr)|0,Nt=Nt+Math.imul(Pr,Qr)|0,$t=$t+Math.imul(_r,ln)|0,Et=Et+Math.imul(_r,qr)|0,Et=Et+Math.imul(Rr,ln)|0,Nt=Nt+Math.imul(Rr,qr)|0,$t=$t+Math.imul(Mr,un)|0,Et=Et+Math.imul(Mr,Vr)|0,Et=Et+Math.imul(lr,un)|0,Nt=Nt+Math.imul(lr,Vr)|0,$t=$t+Math.imul(xr,fn)|0,Et=Et+Math.imul(xr,Kr)|0,Et=Et+Math.imul(pr,fn)|0,Nt=Nt+Math.imul(pr,Kr)|0,$t=$t+Math.imul(qt,dn)|0,Et=Et+Math.imul(qt,Gr)|0,Et=Et+Math.imul(Jt,dn)|0,Nt=Nt+Math.imul(Jt,Gr)|0,$t=$t+Math.imul(Kt,an)|0,Et=Et+Math.imul(Kt,Zr)|0,Et=Et+Math.imul(Qt,an)|0,Nt=Nt+Math.imul(Qt,Zr)|0,$t=$t+Math.imul(ir,Sn)|0,Et=Et+Math.imul(ir,nn)|0,Et=Et+Math.imul(nr,Sn)|0,Nt=Nt+Math.imul(nr,nn)|0;var ms=(St+$t|0)+((Et&8191)<<13)|0;St=(Nt+(Et>>>13)|0)+(ms>>>26)|0,ms&=67108863,$t=Math.imul(Wt,Er),Et=Math.imul(Wt,Sr),Et=Et+Math.imul(ar,Er)|0,Nt=Math.imul(ar,Sr),$t=$t+Math.imul(er,Hr)|0,Et=Et+Math.imul(er,Fr)|0,Et=Et+Math.imul(Gt,Hr)|0,Nt=Nt+Math.imul(Gt,Fr)|0,$t=$t+Math.imul(Lr,Jr)|0,Et=Et+Math.imul(Lr,Qr)|0,Et=Et+Math.imul(or,Jr)|0,Nt=Nt+Math.imul(or,Qr)|0,$t=$t+Math.imul(Ar,ln)|0,Et=Et+Math.imul(Ar,qr)|0,Et=Et+Math.imul(Pr,ln)|0,Nt=Nt+Math.imul(Pr,qr)|0,$t=$t+Math.imul(_r,un)|0,Et=Et+Math.imul(_r,Vr)|0,Et=Et+Math.imul(Rr,un)|0,Nt=Nt+Math.imul(Rr,Vr)|0,$t=$t+Math.imul(Mr,fn)|0,Et=Et+Math.imul(Mr,Kr)|0,Et=Et+Math.imul(lr,fn)|0,Nt=Nt+Math.imul(lr,Kr)|0,$t=$t+Math.imul(xr,dn)|0,Et=Et+Math.imul(xr,Gr)|0,Et=Et+Math.imul(pr,dn)|0,Nt=Nt+Math.imul(pr,Gr)|0,$t=$t+Math.imul(qt,an)|0,Et=Et+Math.imul(qt,Zr)|0,Et=Et+Math.imul(Jt,an)|0,Nt=Nt+Math.imul(Jt,Zr)|0,$t=$t+Math.imul(Kt,Sn)|0,Et=Et+Math.imul(Kt,nn)|0,Et=Et+Math.imul(Qt,Sn)|0,Nt=Nt+Math.imul(Qt,nn)|0,$t=$t+Math.imul(ir,yn)|0,Et=Et+Math.imul(ir,_n)|0,Et=Et+Math.imul(nr,yn)|0,Nt=Nt+Math.imul(nr,_n)|0;var Qn=(St+$t|0)+((Et&8191)<<13)|0;St=(Nt+(Et>>>13)|0)+(Qn>>>26)|0,Qn&=67108863,$t=Math.imul(Wt,Hr),Et=Math.imul(Wt,Fr),Et=Et+Math.imul(ar,Hr)|0,Nt=Math.imul(ar,Fr),$t=$t+Math.imul(er,Jr)|0,Et=Et+Math.imul(er,Qr)|0,Et=Et+Math.imul(Gt,Jr)|0,Nt=Nt+Math.imul(Gt,Qr)|0,$t=$t+Math.imul(Lr,ln)|0,Et=Et+Math.imul(Lr,qr)|0,Et=Et+Math.imul(or,ln)|0,Nt=Nt+Math.imul(or,qr)|0,$t=$t+Math.imul(Ar,un)|0,Et=Et+Math.imul(Ar,Vr)|0,Et=Et+Math.imul(Pr,un)|0,Nt=Nt+Math.imul(Pr,Vr)|0,$t=$t+Math.imul(_r,fn)|0,Et=Et+Math.imul(_r,Kr)|0,Et=Et+Math.imul(Rr,fn)|0,Nt=Nt+Math.imul(Rr,Kr)|0,$t=$t+Math.imul(Mr,dn)|0,Et=Et+Math.imul(Mr,Gr)|0,Et=Et+Math.imul(lr,dn)|0,Nt=Nt+Math.imul(lr,Gr)|0,$t=$t+Math.imul(xr,an)|0,Et=Et+Math.imul(xr,Zr)|0,Et=Et+Math.imul(pr,an)|0,Nt=Nt+Math.imul(pr,Zr)|0,$t=$t+Math.imul(qt,Sn)|0,Et=Et+Math.imul(qt,nn)|0,Et=Et+Math.imul(Jt,Sn)|0,Nt=Nt+Math.imul(Jt,nn)|0,$t=$t+Math.imul(Kt,yn)|0,Et=Et+Math.imul(Kt,_n)|0,Et=Et+Math.imul(Qt,yn)|0,Nt=Nt+Math.imul(Qt,_n)|0;var es=(St+$t|0)+((Et&8191)<<13)|0;St=(Nt+(Et>>>13)|0)+(es>>>26)|0,es&=67108863,$t=Math.imul(Wt,Jr),Et=Math.imul(Wt,Qr),Et=Et+Math.imul(ar,Jr)|0,Nt=Math.imul(ar,Qr),$t=$t+Math.imul(er,ln)|0,Et=Et+Math.imul(er,qr)|0,Et=Et+Math.imul(Gt,ln)|0,Nt=Nt+Math.imul(Gt,qr)|0,$t=$t+Math.imul(Lr,un)|0,Et=Et+Math.imul(Lr,Vr)|0,Et=Et+Math.imul(or,un)|0,Nt=Nt+Math.imul(or,Vr)|0,$t=$t+Math.imul(Ar,fn)|0,Et=Et+Math.imul(Ar,Kr)|0,Et=Et+Math.imul(Pr,fn)|0,Nt=Nt+Math.imul(Pr,Kr)|0,$t=$t+Math.imul(_r,dn)|0,Et=Et+Math.imul(_r,Gr)|0,Et=Et+Math.imul(Rr,dn)|0,Nt=Nt+Math.imul(Rr,Gr)|0,$t=$t+Math.imul(Mr,an)|0,Et=Et+Math.imul(Mr,Zr)|0,Et=Et+Math.imul(lr,an)|0,Nt=Nt+Math.imul(lr,Zr)|0,$t=$t+Math.imul(xr,Sn)|0,Et=Et+Math.imul(xr,nn)|0,Et=Et+Math.imul(pr,Sn)|0,Nt=Nt+Math.imul(pr,nn)|0,$t=$t+Math.imul(qt,yn)|0,Et=Et+Math.imul(qt,_n)|0,Et=Et+Math.imul(Jt,yn)|0,Nt=Nt+Math.imul(Jt,_n)|0;var ls=(St+$t|0)+((Et&8191)<<13)|0;St=(Nt+(Et>>>13)|0)+(ls>>>26)|0,ls&=67108863,$t=Math.imul(Wt,ln),Et=Math.imul(Wt,qr),Et=Et+Math.imul(ar,ln)|0,Nt=Math.imul(ar,qr),$t=$t+Math.imul(er,un)|0,Et=Et+Math.imul(er,Vr)|0,Et=Et+Math.imul(Gt,un)|0,Nt=Nt+Math.imul(Gt,Vr)|0,$t=$t+Math.imul(Lr,fn)|0,Et=Et+Math.imul(Lr,Kr)|0,Et=Et+Math.imul(or,fn)|0,Nt=Nt+Math.imul(or,Kr)|0,$t=$t+Math.imul(Ar,dn)|0,Et=Et+Math.imul(Ar,Gr)|0,Et=Et+Math.imul(Pr,dn)|0,Nt=Nt+Math.imul(Pr,Gr)|0,$t=$t+Math.imul(_r,an)|0,Et=Et+Math.imul(_r,Zr)|0,Et=Et+Math.imul(Rr,an)|0,Nt=Nt+Math.imul(Rr,Zr)|0,$t=$t+Math.imul(Mr,Sn)|0,Et=Et+Math.imul(Mr,nn)|0,Et=Et+Math.imul(lr,Sn)|0,Nt=Nt+Math.imul(lr,nn)|0,$t=$t+Math.imul(xr,yn)|0,Et=Et+Math.imul(xr,_n)|0,Et=Et+Math.imul(pr,yn)|0,Nt=Nt+Math.imul(pr,_n)|0;var us=(St+$t|0)+((Et&8191)<<13)|0;St=(Nt+(Et>>>13)|0)+(us>>>26)|0,us&=67108863,$t=Math.imul(Wt,un),Et=Math.imul(Wt,Vr),Et=Et+Math.imul(ar,un)|0,Nt=Math.imul(ar,Vr),$t=$t+Math.imul(er,fn)|0,Et=Et+Math.imul(er,Kr)|0,Et=Et+Math.imul(Gt,fn)|0,Nt=Nt+Math.imul(Gt,Kr)|0,$t=$t+Math.imul(Lr,dn)|0,Et=Et+Math.imul(Lr,Gr)|0,Et=Et+Math.imul(or,dn)|0,Nt=Nt+Math.imul(or,Gr)|0,$t=$t+Math.imul(Ar,an)|0,Et=Et+Math.imul(Ar,Zr)|0,Et=Et+Math.imul(Pr,an)|0,Nt=Nt+Math.imul(Pr,Zr)|0,$t=$t+Math.imul(_r,Sn)|0,Et=Et+Math.imul(_r,nn)|0,Et=Et+Math.imul(Rr,Sn)|0,Nt=Nt+Math.imul(Rr,nn)|0,$t=$t+Math.imul(Mr,yn)|0,Et=Et+Math.imul(Mr,_n)|0,Et=Et+Math.imul(lr,yn)|0,Nt=Nt+Math.imul(lr,_n)|0;var Wn=(St+$t|0)+((Et&8191)<<13)|0;St=(Nt+(Et>>>13)|0)+(Wn>>>26)|0,Wn&=67108863,$t=Math.imul(Wt,fn),Et=Math.imul(Wt,Kr),Et=Et+Math.imul(ar,fn)|0,Nt=Math.imul(ar,Kr),$t=$t+Math.imul(er,dn)|0,Et=Et+Math.imul(er,Gr)|0,Et=Et+Math.imul(Gt,dn)|0,Nt=Nt+Math.imul(Gt,Gr)|0,$t=$t+Math.imul(Lr,an)|0,Et=Et+Math.imul(Lr,Zr)|0,Et=Et+Math.imul(or,an)|0,Nt=Nt+Math.imul(or,Zr)|0,$t=$t+Math.imul(Ar,Sn)|0,Et=Et+Math.imul(Ar,nn)|0,Et=Et+Math.imul(Pr,Sn)|0,Nt=Nt+Math.imul(Pr,nn)|0,$t=$t+Math.imul(_r,yn)|0,Et=Et+Math.imul(_r,_n)|0,Et=Et+Math.imul(Rr,yn)|0,Nt=Nt+Math.imul(Rr,_n)|0;var as=(St+$t|0)+((Et&8191)<<13)|0;St=(Nt+(Et>>>13)|0)+(as>>>26)|0,as&=67108863,$t=Math.imul(Wt,dn),Et=Math.imul(Wt,Gr),Et=Et+Math.imul(ar,dn)|0,Nt=Math.imul(ar,Gr),$t=$t+Math.imul(er,an)|0,Et=Et+Math.imul(er,Zr)|0,Et=Et+Math.imul(Gt,an)|0,Nt=Nt+Math.imul(Gt,Zr)|0,$t=$t+Math.imul(Lr,Sn)|0,Et=Et+Math.imul(Lr,nn)|0,Et=Et+Math.imul(or,Sn)|0,Nt=Nt+Math.imul(or,nn)|0,$t=$t+Math.imul(Ar,yn)|0,Et=Et+Math.imul(Ar,_n)|0,Et=Et+Math.imul(Pr,yn)|0,Nt=Nt+Math.imul(Pr,_n)|0;var gs=(St+$t|0)+((Et&8191)<<13)|0;St=(Nt+(Et>>>13)|0)+(gs>>>26)|0,gs&=67108863,$t=Math.imul(Wt,an),Et=Math.imul(Wt,Zr),Et=Et+Math.imul(ar,an)|0,Nt=Math.imul(ar,Zr),$t=$t+Math.imul(er,Sn)|0,Et=Et+Math.imul(er,nn)|0,Et=Et+Math.imul(Gt,Sn)|0,Nt=Nt+Math.imul(Gt,nn)|0,$t=$t+Math.imul(Lr,yn)|0,Et=Et+Math.imul(Lr,_n)|0,Et=Et+Math.imul(or,yn)|0,Nt=Nt+Math.imul(or,_n)|0;var vs=(St+$t|0)+((Et&8191)<<13)|0;St=(Nt+(Et>>>13)|0)+(vs>>>26)|0,vs&=67108863,$t=Math.imul(Wt,Sn),Et=Math.imul(Wt,nn),Et=Et+Math.imul(ar,Sn)|0,Nt=Math.imul(ar,nn),$t=$t+Math.imul(er,yn)|0,Et=Et+Math.imul(er,_n)|0,Et=Et+Math.imul(Gt,yn)|0,Nt=Nt+Math.imul(Gt,_n)|0;var $s=(St+$t|0)+((Et&8191)<<13)|0;St=(Nt+(Et>>>13)|0)+($s>>>26)|0,$s&=67108863,$t=Math.imul(Wt,yn),Et=Math.imul(Wt,_n),Et=Et+Math.imul(ar,yn)|0,Nt=Math.imul(ar,_n);var Ts=(St+$t|0)+((Et&8191)<<13)|0;return St=(Nt+(Et>>>13)|0)+(Ts>>>26)|0,Ts&=67108863,Rt[0]=ds,Rt[1]=fs,Rt[2]=hs,Rt[3]=ps,Rt[4]=Vn,Rt[5]=ss,Rt[6]=Jn,Rt[7]=Yn,Rt[8]=ms,Rt[9]=Qn,Rt[10]=es,Rt[11]=ls,Rt[12]=us,Rt[13]=Wn,Rt[14]=as,Rt[15]=gs,Rt[16]=vs,Rt[17]=$s,Rt[18]=Ts,St!==0&&(Rt[19]=St,mt.length++),mt};Math.imul||(Tt=Pt);function Mt(vt,ct,dt){dt.negative=ct.negative^vt.negative,dt.length=vt.length+ct.length;for(var mt=0,xt=0,At=0;At<dt.length-1;At++){var Rt=xt;xt=0;for(var St=mt&67108863,$t=Math.min(At,ct.length-1),Et=Math.max(0,At-vt.length+1);Et<=$t;Et++){var Nt=At-Et,tr=vt.words[Nt]|0,ir=ct.words[Et]|0,nr=tr*ir,Zt=nr&67108863;Rt=Rt+(nr/67108864|0)|0,Zt=Zt+St|0,St=Zt&67108863,Rt=Rt+(Zt>>>26)|0,xt+=Rt>>>26,Rt&=67108863}dt.words[At]=St,mt=Rt,Rt=xt}return mt!==0?dt.words[At]=mt:dt.length--,dt._strip()}function Lt(vt,ct,dt){return Mt(vt,ct,dt)}tt.prototype.mulTo=function(ct,dt){var mt,xt=this.length+ct.length;return this.length===10&&ct.length===10?mt=Tt(this,ct,dt):xt<63?mt=Pt(this,ct,dt):xt<1024?mt=Mt(this,ct,dt):mt=Lt(this,ct,dt),mt},tt.prototype.mul=function(ct){var dt=new tt(null);return dt.words=new Array(this.length+ct.length),this.mulTo(ct,dt)},tt.prototype.mulf=function(ct){var dt=new tt(null);return dt.words=new Array(this.length+ct.length),Lt(this,ct,dt)},tt.prototype.imul=function(ct){return this.clone().mulTo(ct,this)},tt.prototype.imuln=function(ct){var dt=ct<0;dt&&(ct=-ct),j(typeof ct=="number"),j(ct<67108864);for(var mt=0,xt=0;xt<this.length;xt++){var At=(this.words[xt]|0)*ct,Rt=(At&67108863)+(mt&67108863);mt>>=26,mt+=At/67108864|0,mt+=Rt>>>26,this.words[xt]=Rt&67108863}return mt!==0&&(this.words[xt]=mt,this.length++),dt?this.ineg():this},tt.prototype.muln=function(ct){return this.clone().imuln(ct)},tt.prototype.sqr=function(){return this.mul(this)},tt.prototype.isqr=function(){return this.imul(this.clone())},tt.prototype.pow=function(ct){var dt=Ct(ct);if(dt.length===0)return new tt(1);for(var mt=this,xt=0;xt<dt.length&&dt[xt]===0;xt++,mt=mt.sqr());if(++xt<dt.length)for(var At=mt.sqr();xt<dt.length;xt++,At=At.sqr())dt[xt]!==0&&(mt=mt.mul(At));return mt},tt.prototype.iushln=function(ct){j(typeof ct=="number"&&ct>=0);var dt=ct%26,mt=(ct-dt)/26,xt=67108863>>>26-dt<<26-dt,At;if(dt!==0){var Rt=0;for(At=0;At<this.length;At++){var St=this.words[At]&xt,$t=(this.words[At]|0)-St<<dt;this.words[At]=$t|Rt,Rt=St>>>26-dt}Rt&&(this.words[At]=Rt,this.length++)}if(mt!==0){for(At=this.length-1;At>=0;At--)this.words[At+mt]=this.words[At];for(At=0;At<mt;At++)this.words[At]=0;this.length+=mt}return this._strip()},tt.prototype.ishln=function(ct){return j(this.negative===0),this.iushln(ct)},tt.prototype.iushrn=function(ct,dt,mt){j(typeof ct=="number"&&ct>=0);var xt;dt?xt=(dt-dt%26)/26:xt=0;var At=ct%26,Rt=Math.min((ct-At)/26,this.length),St=67108863^67108863>>>At<<At,$t=mt;if(xt-=Rt,xt=Math.max(0,xt),$t){for(var Et=0;Et<Rt;Et++)$t.words[Et]=this.words[Et];$t.length=Rt}if(Rt!==0)if(this.length>Rt)for(this.length-=Rt,Et=0;Et<this.length;Et++)this.words[Et]=this.words[Et+Rt];else this.words[0]=0,this.length=1;var Nt=0;for(Et=this.length-1;Et>=0&&(Nt!==0||Et>=xt);Et--){var tr=this.words[Et]|0;this.words[Et]=Nt<<26-At|tr>>>At,Nt=tr&St}return $t&&Nt!==0&&($t.words[$t.length++]=Nt),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},tt.prototype.ishrn=function(ct,dt,mt){return j(this.negative===0),this.iushrn(ct,dt,mt)},tt.prototype.shln=function(ct){return this.clone().ishln(ct)},tt.prototype.ushln=function(ct){return this.clone().iushln(ct)},tt.prototype.shrn=function(ct){return this.clone().ishrn(ct)},tt.prototype.ushrn=function(ct){return this.clone().iushrn(ct)},tt.prototype.testn=function(ct){j(typeof ct=="number"&&ct>=0);var dt=ct%26,mt=(ct-dt)/26,xt=1<<dt;if(this.length<=mt)return!1;var At=this.words[mt];return!!(At&xt)},tt.prototype.imaskn=function(ct){j(typeof ct=="number"&&ct>=0);var dt=ct%26,mt=(ct-dt)/26;if(j(this.negative===0,"imaskn works only with positive numbers"),this.length<=mt)return this;if(dt!==0&&mt++,this.length=Math.min(mt,this.length),dt!==0){var xt=67108863^67108863>>>dt<<dt;this.words[this.length-1]&=xt}return this._strip()},tt.prototype.maskn=function(ct){return this.clone().imaskn(ct)},tt.prototype.iaddn=function(ct){return j(typeof ct=="number"),j(ct<67108864),ct<0?this.isubn(-ct):this.negative!==0?this.length===1&&(this.words[0]|0)<=ct?(this.words[0]=ct-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(ct),this.negative=1,this):this._iaddn(ct)},tt.prototype._iaddn=function(ct){this.words[0]+=ct;for(var dt=0;dt<this.length&&this.words[dt]>=67108864;dt++)this.words[dt]-=67108864,dt===this.length-1?this.words[dt+1]=1:this.words[dt+1]++;return this.length=Math.max(this.length,dt+1),this},tt.prototype.isubn=function(ct){if(j(typeof ct=="number"),j(ct<67108864),ct<0)return this.iaddn(-ct);if(this.negative!==0)return this.negative=0,this.iaddn(ct),this.negative=1,this;if(this.words[0]-=ct,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var dt=0;dt<this.length&&this.words[dt]<0;dt++)this.words[dt]+=67108864,this.words[dt+1]-=1;return this._strip()},tt.prototype.addn=function(ct){return this.clone().iaddn(ct)},tt.prototype.subn=function(ct){return this.clone().isubn(ct)},tt.prototype.iabs=function(){return this.negative=0,this},tt.prototype.abs=function(){return this.clone().iabs()},tt.prototype._ishlnsubmul=function(ct,dt,mt){var xt=ct.length+mt,At;this._expand(xt);var Rt,St=0;for(At=0;At<ct.length;At++){Rt=(this.words[At+mt]|0)+St;var $t=(ct.words[At]|0)*dt;Rt-=$t&67108863,St=(Rt>>26)-($t/67108864|0),this.words[At+mt]=Rt&67108863}for(;At<this.length-mt;At++)Rt=(this.words[At+mt]|0)+St,St=Rt>>26,this.words[At+mt]=Rt&67108863;if(St===0)return this._strip();for(j(St===-1),St=0,At=0;At<this.length;At++)Rt=-(this.words[At]|0)+St,St=Rt>>26,this.words[At]=Rt&67108863;return this.negative=1,this._strip()},tt.prototype._wordDiv=function(ct,dt){var mt=this.length-ct.length,xt=this.clone(),At=ct,Rt=At.words[At.length-1]|0,St=this._countBits(Rt);mt=26-St,mt!==0&&(At=At.ushln(mt),xt.iushln(mt),Rt=At.words[At.length-1]|0);var $t=xt.length-At.length,Et;if(dt!=="mod"){Et=new tt(null),Et.length=$t+1,Et.words=new Array(Et.length);for(var Nt=0;Nt<Et.length;Nt++)Et.words[Nt]=0}var tr=xt.clone()._ishlnsubmul(At,1,$t);tr.negative===0&&(xt=tr,Et&&(Et.words[$t]=1));for(var ir=$t-1;ir>=0;ir--){var nr=(xt.words[At.length+ir]|0)*67108864+(xt.words[At.length+ir-1]|0);for(nr=Math.min(nr/Rt|0,67108863),xt._ishlnsubmul(At,nr,ir);xt.negative!==0;)nr--,xt.negative=0,xt._ishlnsubmul(At,1,ir),xt.isZero()||(xt.negative^=1);Et&&(Et.words[ir]=nr)}return Et&&Et._strip(),xt._strip(),dt!=="div"&&mt!==0&&xt.iushrn(mt),{div:Et||null,mod:xt}},tt.prototype.divmod=function(ct,dt,mt){if(j(!ct.isZero()),this.isZero())return{div:new tt(0),mod:new tt(0)};var xt,At,Rt;return this.negative!==0&&ct.negative===0?(Rt=this.neg().divmod(ct,dt),dt!=="mod"&&(xt=Rt.div.neg()),dt!=="div"&&(At=Rt.mod.neg(),mt&&At.negative!==0&&At.iadd(ct)),{div:xt,mod:At}):this.negative===0&&ct.negative!==0?(Rt=this.divmod(ct.neg(),dt),dt!=="mod"&&(xt=Rt.div.neg()),{div:xt,mod:Rt.mod}):this.negative&ct.negative?(Rt=this.neg().divmod(ct.neg(),dt),dt!=="div"&&(At=Rt.mod.neg(),mt&&At.negative!==0&&At.isub(ct)),{div:Rt.div,mod:At}):ct.length>this.length||this.cmp(ct)<0?{div:new tt(0),mod:this}:ct.length===1?dt==="div"?{div:this.divn(ct.words[0]),mod:null}:dt==="mod"?{div:null,mod:new tt(this.modrn(ct.words[0]))}:{div:this.divn(ct.words[0]),mod:new tt(this.modrn(ct.words[0]))}:this._wordDiv(ct,dt)},tt.prototype.div=function(ct){return this.divmod(ct,"div",!1).div},tt.prototype.mod=function(ct){return this.divmod(ct,"mod",!1).mod},tt.prototype.umod=function(ct){return this.divmod(ct,"mod",!0).mod},tt.prototype.divRound=function(ct){var dt=this.divmod(ct);if(dt.mod.isZero())return dt.div;var mt=dt.div.negative!==0?dt.mod.isub(ct):dt.mod,xt=ct.ushrn(1),At=ct.andln(1),Rt=mt.cmp(xt);return Rt<0||At===1&&Rt===0?dt.div:dt.div.negative!==0?dt.div.isubn(1):dt.div.iaddn(1)},tt.prototype.modrn=function(ct){var dt=ct<0;dt&&(ct=-ct),j(ct<=67108863);for(var mt=(1<<26)%ct,xt=0,At=this.length-1;At>=0;At--)xt=(mt*xt+(this.words[At]|0))%ct;return dt?-xt:xt},tt.prototype.modn=function(ct){return this.modrn(ct)},tt.prototype.idivn=function(ct){var dt=ct<0;dt&&(ct=-ct),j(ct<=67108863);for(var mt=0,xt=this.length-1;xt>=0;xt--){var At=(this.words[xt]|0)+mt*67108864;this.words[xt]=At/ct|0,mt=At%ct}return this._strip(),dt?this.ineg():this},tt.prototype.divn=function(ct){return this.clone().idivn(ct)},tt.prototype.egcd=function(ct){j(ct.negative===0),j(!ct.isZero());var dt=this,mt=ct.clone();dt.negative!==0?dt=dt.umod(ct):dt=dt.clone();for(var xt=new tt(1),At=new tt(0),Rt=new tt(0),St=new tt(1),$t=0;dt.isEven()&&mt.isEven();)dt.iushrn(1),mt.iushrn(1),++$t;for(var Et=mt.clone(),Nt=dt.clone();!dt.isZero();){for(var tr=0,ir=1;!(dt.words[0]&ir)&&tr<26;++tr,ir<<=1);if(tr>0)for(dt.iushrn(tr);tr-- >0;)(xt.isOdd()||At.isOdd())&&(xt.iadd(Et),At.isub(Nt)),xt.iushrn(1),At.iushrn(1);for(var nr=0,Zt=1;!(mt.words[0]&Zt)&&nr<26;++nr,Zt<<=1);if(nr>0)for(mt.iushrn(nr);nr-- >0;)(Rt.isOdd()||St.isOdd())&&(Rt.iadd(Et),St.isub(Nt)),Rt.iushrn(1),St.iushrn(1);dt.cmp(mt)>=0?(dt.isub(mt),xt.isub(Rt),At.isub(St)):(mt.isub(dt),Rt.isub(xt),St.isub(At))}return{a:Rt,b:St,gcd:mt.iushln($t)}},tt.prototype._invmp=function(ct){j(ct.negative===0),j(!ct.isZero());var dt=this,mt=ct.clone();dt.negative!==0?dt=dt.umod(ct):dt=dt.clone();for(var xt=new tt(1),At=new tt(0),Rt=mt.clone();dt.cmpn(1)>0&&mt.cmpn(1)>0;){for(var St=0,$t=1;!(dt.words[0]&$t)&&St<26;++St,$t<<=1);if(St>0)for(dt.iushrn(St);St-- >0;)xt.isOdd()&&xt.iadd(Rt),xt.iushrn(1);for(var Et=0,Nt=1;!(mt.words[0]&Nt)&&Et<26;++Et,Nt<<=1);if(Et>0)for(mt.iushrn(Et);Et-- >0;)At.isOdd()&&At.iadd(Rt),At.iushrn(1);dt.cmp(mt)>=0?(dt.isub(mt),xt.isub(At)):(mt.isub(dt),At.isub(xt))}var tr;return dt.cmpn(1)===0?tr=xt:tr=At,tr.cmpn(0)<0&&tr.iadd(ct),tr},tt.prototype.gcd=function(ct){if(this.isZero())return ct.abs();if(ct.isZero())return this.abs();var dt=this.clone(),mt=ct.clone();dt.negative=0,mt.negative=0;for(var xt=0;dt.isEven()&&mt.isEven();xt++)dt.iushrn(1),mt.iushrn(1);do{for(;dt.isEven();)dt.iushrn(1);for(;mt.isEven();)mt.iushrn(1);var At=dt.cmp(mt);if(At<0){var Rt=dt;dt=mt,mt=Rt}else if(At===0||mt.cmpn(1)===0)break;dt.isub(mt)}while(!0);return mt.iushln(xt)},tt.prototype.invm=function(ct){return this.egcd(ct).a.umod(ct)},tt.prototype.isEven=function(){return(this.words[0]&1)===0},tt.prototype.isOdd=function(){return(this.words[0]&1)===1},tt.prototype.andln=function(ct){return this.words[0]&ct},tt.prototype.bincn=function(ct){j(typeof ct=="number");var dt=ct%26,mt=(ct-dt)/26,xt=1<<dt;if(this.length<=mt)return this._expand(mt+1),this.words[mt]|=xt,this;for(var At=xt,Rt=mt;At!==0&&Rt<this.length;Rt++){var St=this.words[Rt]|0;St+=At,At=St>>>26,St&=67108863,this.words[Rt]=St}return At!==0&&(this.words[Rt]=At,this.length++),this},tt.prototype.isZero=function(){return this.length===1&&this.words[0]===0},tt.prototype.cmpn=function(ct){var dt=ct<0;if(this.negative!==0&&!dt)return-1;if(this.negative===0&&dt)return 1;this._strip();var mt;if(this.length>1)mt=1;else{dt&&(ct=-ct),j(ct<=67108863,"Number is too big");var xt=this.words[0]|0;mt=xt===ct?0:xt<ct?-1:1}return this.negative!==0?-mt|0:mt},tt.prototype.cmp=function(ct){if(this.negative!==0&&ct.negative===0)return-1;if(this.negative===0&&ct.negative!==0)return 1;var dt=this.ucmp(ct);return this.negative!==0?-dt|0:dt},tt.prototype.ucmp=function(ct){if(this.length>ct.length)return 1;if(this.length<ct.length)return-1;for(var dt=0,mt=this.length-1;mt>=0;mt--){var xt=this.words[mt]|0,At=ct.words[mt]|0;if(xt!==At){xt<At?dt=-1:xt>At&&(dt=1);break}}return dt},tt.prototype.gtn=function(ct){return this.cmpn(ct)===1},tt.prototype.gt=function(ct){return this.cmp(ct)===1},tt.prototype.gten=function(ct){return this.cmpn(ct)>=0},tt.prototype.gte=function(ct){return this.cmp(ct)>=0},tt.prototype.ltn=function(ct){return this.cmpn(ct)===-1},tt.prototype.lt=function(ct){return this.cmp(ct)===-1},tt.prototype.lten=function(ct){return this.cmpn(ct)<=0},tt.prototype.lte=function(ct){return this.cmp(ct)<=0},tt.prototype.eqn=function(ct){return this.cmpn(ct)===0},tt.prototype.eq=function(ct){return this.cmp(ct)===0},tt.red=function(ct){return new jt(ct)},tt.prototype.toRed=function(ct){return j(!this.red,"Already a number in reduction context"),j(this.negative===0,"red works only with positives"),ct.convertTo(this)._forceRed(ct)},tt.prototype.fromRed=function(){return j(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},tt.prototype._forceRed=function(ct){return this.red=ct,this},tt.prototype.forceRed=function(ct){return j(!this.red,"Already a number in reduction context"),this._forceRed(ct)},tt.prototype.redAdd=function(ct){return j(this.red,"redAdd works only with red numbers"),this.red.add(this,ct)},tt.prototype.redIAdd=function(ct){return j(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,ct)},tt.prototype.redSub=function(ct){return j(this.red,"redSub works only with red numbers"),this.red.sub(this,ct)},tt.prototype.redISub=function(ct){return j(this.red,"redISub works only with red numbers"),this.red.isub(this,ct)},tt.prototype.redShl=function(ct){return j(this.red,"redShl works only with red numbers"),this.red.shl(this,ct)},tt.prototype.redMul=function(ct){return j(this.red,"redMul works only with red numbers"),this.red._verify2(this,ct),this.red.mul(this,ct)},tt.prototype.redIMul=function(ct){return j(this.red,"redMul works only with red numbers"),this.red._verify2(this,ct),this.red.imul(this,ct)},tt.prototype.redSqr=function(){return j(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},tt.prototype.redISqr=function(){return j(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},tt.prototype.redSqrt=function(){return j(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},tt.prototype.redInvm=function(){return j(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},tt.prototype.redNeg=function(){return j(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},tt.prototype.redPow=function(ct){return j(this.red&&!ct.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,ct)};var Dt={k256:null,p224:null,p192:null,p25519:null};function Ut(vt,ct){this.name=vt,this.p=new tt(ct,16),this.n=this.p.bitLength(),this.k=new tt(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}Ut.prototype._tmp=function(){var ct=new tt(null);return ct.words=new Array(Math.ceil(this.n/13)),ct},Ut.prototype.ireduce=function(ct){var dt=ct,mt;do this.split(dt,this.tmp),dt=this.imulK(dt),dt=dt.iadd(this.tmp),mt=dt.bitLength();while(mt>this.n);var xt=mt<this.n?-1:dt.ucmp(this.p);return xt===0?(dt.words[0]=0,dt.length=1):xt>0?dt.isub(this.p):dt.strip!==void 0?dt.strip():dt._strip(),dt},Ut.prototype.split=function(ct,dt){ct.iushrn(this.n,0,dt)},Ut.prototype.imulK=function(ct){return ct.imul(this.k)};function Ot(){Ut.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}et(Ot,Ut),Ot.prototype.split=function(ct,dt){for(var mt=4194303,xt=Math.min(ct.length,9),At=0;At<xt;At++)dt.words[At]=ct.words[At];if(dt.length=xt,ct.length<=9){ct.words[0]=0,ct.length=1;return}var Rt=ct.words[9];for(dt.words[dt.length++]=Rt&mt,At=10;At<ct.length;At++){var St=ct.words[At]|0;ct.words[At-10]=(St&mt)<<4|Rt>>>22,Rt=St}Rt>>>=22,ct.words[At-10]=Rt,Rt===0&&ct.length>10?ct.length-=10:ct.length-=9},Ot.prototype.imulK=function(ct){ct.words[ct.length]=0,ct.words[ct.length+1]=0,ct.length+=2;for(var dt=0,mt=0;mt<ct.length;mt++){var xt=ct.words[mt]|0;dt+=xt*977,ct.words[mt]=dt&67108863,dt=xt*64+(dt/67108864|0)}return ct.words[ct.length-1]===0&&(ct.length--,ct.words[ct.length-1]===0&&ct.length--),ct};function It(){Ut.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}et(It,Ut);function Bt(){Ut.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}et(Bt,Ut);function Ft(){Ut.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}et(Ft,Ut),Ft.prototype.imulK=function(ct){for(var dt=0,mt=0;mt<ct.length;mt++){var xt=(ct.words[mt]|0)*19+dt,At=xt&67108863;xt>>>=26,ct.words[mt]=At,dt=xt}return dt!==0&&(ct.words[ct.length++]=dt),ct},tt._prime=function(ct){if(Dt[ct])return Dt[ct];var dt;if(ct==="k256")dt=new Ot;else if(ct==="p224")dt=new It;else if(ct==="p192")dt=new Bt;else if(ct==="p25519")dt=new Ft;else throw new Error("Unknown prime "+ct);return Dt[ct]=dt,dt};function jt(vt){if(typeof vt=="string"){var ct=tt._prime(vt);this.m=ct.p,this.prime=ct}else j(vt.gtn(1),"modulus must be greater than 1"),this.m=vt,this.prime=null}jt.prototype._verify1=function(ct){j(ct.negative===0,"red works only with positives"),j(ct.red,"red works only with red numbers")},jt.prototype._verify2=function(ct,dt){j((ct.negative|dt.negative)===0,"red works only with positives"),j(ct.red&&ct.red===dt.red,"red works only with red numbers")},jt.prototype.imod=function(ct){return this.prime?this.prime.ireduce(ct)._forceRed(this):(ot(ct,ct.umod(this.m)._forceRed(this)),ct)},jt.prototype.neg=function(ct){return ct.isZero()?ct.clone():this.m.sub(ct)._forceRed(this)},jt.prototype.add=function(ct,dt){this._verify2(ct,dt);var mt=ct.add(dt);return mt.cmp(this.m)>=0&&mt.isub(this.m),mt._forceRed(this)},jt.prototype.iadd=function(ct,dt){this._verify2(ct,dt);var mt=ct.iadd(dt);return mt.cmp(this.m)>=0&&mt.isub(this.m),mt},jt.prototype.sub=function(ct,dt){this._verify2(ct,dt);var mt=ct.sub(dt);return mt.cmpn(0)<0&&mt.iadd(this.m),mt._forceRed(this)},jt.prototype.isub=function(ct,dt){this._verify2(ct,dt);var mt=ct.isub(dt);return mt.cmpn(0)<0&&mt.iadd(this.m),mt},jt.prototype.shl=function(ct,dt){return this._verify1(ct),this.imod(ct.ushln(dt))},jt.prototype.imul=function(ct,dt){return this._verify2(ct,dt),this.imod(ct.imul(dt))},jt.prototype.mul=function(ct,dt){return this._verify2(ct,dt),this.imod(ct.mul(dt))},jt.prototype.isqr=function(ct){return this.imul(ct,ct.clone())},jt.prototype.sqr=function(ct){return this.mul(ct,ct)},jt.prototype.sqrt=function(ct){if(ct.isZero())return ct.clone();var dt=this.m.andln(3);if(j(dt%2===1),dt===3){var mt=this.m.add(new tt(1)).iushrn(2);return this.pow(ct,mt)}for(var xt=this.m.subn(1),At=0;!xt.isZero()&&xt.andln(1)===0;)At++,xt.iushrn(1);j(!xt.isZero());var Rt=new tt(1).toRed(this),St=Rt.redNeg(),$t=this.m.subn(1).iushrn(1),Et=this.m.bitLength();for(Et=new tt(2*Et*Et).toRed(this);this.pow(Et,$t).cmp(St)!==0;)Et.redIAdd(St);for(var Nt=this.pow(Et,xt),tr=this.pow(ct,xt.addn(1).iushrn(1)),ir=this.pow(ct,xt),nr=At;ir.cmp(Rt)!==0;){for(var Zt=ir,Kt=0;Zt.cmp(Rt)!==0;Kt++)Zt=Zt.redSqr();j(Kt<nr);var Qt=this.pow(Nt,new tt(1).iushln(nr-Kt-1));tr=tr.redMul(Qt),Nt=Qt.redSqr(),ir=ir.redMul(Nt),nr=Kt}return tr},jt.prototype.invm=function(ct){var dt=ct._invmp(this.m);return dt.negative!==0?(dt.negative=0,this.imod(dt).redNeg()):this.imod(dt)},jt.prototype.pow=function(ct,dt){if(dt.isZero())return new tt(1).toRed(this);if(dt.cmpn(1)===0)return ct.clone();var mt=4,xt=new Array(1<<mt);xt[0]=new tt(1).toRed(this),xt[1]=ct;for(var At=2;At<xt.length;At++)xt[At]=this.mul(xt[At-1],ct);var Rt=xt[0],St=0,$t=0,Et=dt.bitLength()%26;for(Et===0&&(Et=26),At=dt.length-1;At>=0;At--){for(var Nt=dt.words[At],tr=Et-1;tr>=0;tr--){var ir=Nt>>tr&1;if(Rt!==xt[0]&&(Rt=this.sqr(Rt)),ir===0&&St===0){$t=0;continue}St<<=1,St|=ir,$t++,!($t!==mt&&(At!==0||tr!==0))&&(Rt=this.mul(Rt,xt[St]),$t=0,St=0)}Et=26}return Rt},jt.prototype.convertTo=function(ct){var dt=ct.umod(this.m);return dt===ct?dt.clone():dt},jt.prototype.convertFrom=function(ct){var dt=ct.clone();return dt.red=null,dt},tt.mont=function(ct){return new bt(ct)};function bt(vt){jt.call(this,vt),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new tt(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}et(bt,jt),bt.prototype.convertTo=function(ct){return this.imod(ct.ushln(this.shift))},bt.prototype.convertFrom=function(ct){var dt=this.imod(ct.mul(this.rinv));return dt.red=null,dt},bt.prototype.imul=function(ct,dt){if(ct.isZero()||dt.isZero())return ct.words[0]=0,ct.length=1,ct;var mt=ct.imul(dt),xt=mt.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),At=mt.isub(xt).iushrn(this.shift),Rt=At;return At.cmp(this.m)>=0?Rt=At.isub(this.m):At.cmpn(0)<0&&(Rt=At.iadd(this.m)),Rt._forceRed(this)},bt.prototype.mul=function(ct,dt){if(ct.isZero()||dt.isZero())return new tt(0)._forceRed(this);var mt=ct.mul(dt),xt=mt.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),At=mt.isub(xt).iushrn(this.shift),Rt=At;return At.cmp(this.m)>=0?Rt=At.isub(this.m):At.cmpn(0)<0&&(Rt=At.iadd(this.m)),Rt._forceRed(this)},bt.prototype.invm=function(ct){var dt=this.imod(ct._invmp(this.m).mul(this.r2));return dt._forceRed(this)}})(a,commonjsGlobal)})(bn);var bnExports=bn.exports;const BN=getDefaultExportFromCjs$1(bnExports),JRPC_METHODS={GET_OR_SET_KEY:"GetPubKeyOrKeyAssign",COMMITMENT_REQUEST:"CommitmentRequest",IMPORT_SHARE:"ImportShare",GET_SHARE_OR_KEY_ASSIGN:"GetShareOrKeyAssign"},LEGACY_METADATA_HOST="https://metadata.tor.us",normalizeKeysResult=a=>{const _={keys:[],is_new_key:a.is_new_key};return a&&a.keys&&a.keys.length>0&&(_.keys=a.keys.map($=>({pub_key_X:$.pub_key_X,pub_key_Y:$.pub_key_Y,address:$.address}))),_},kCombinations=(a,_)=>{let $=a;if(typeof $=="number"&&($=Array.from({length:$},(tt,rt)=>rt)),_>$.length||_<=0)return[];if(_===$.length)return[$];if(_===1)return $.reduce((tt,rt)=>[...tt,[rt]],[]);const j=[];let et=[];for(let tt=0;tt<=$.length-_+1;tt+=1){et=kCombinations($.slice(tt+1),_-1);for(let rt=0;rt<et.length;rt+=1)j.push([$[tt],...et[rt]])}return j},thresholdSame=(a,_)=>{const $={};for(let j=0;j<a.length;j+=1){const et=stringify(a[j]);if($[et]=$[et]?$[et]+1:1,$[et]===_)return a[j]}};function encParamsBufToHex$1(a){return{iv:Buffer$g.from(a.iv).toString("hex"),ephemPublicKey:Buffer$g.from(a.ephemPublicKey).toString("hex"),ciphertext:Buffer$g.from(a.ciphertext).toString("hex"),mac:Buffer$g.from(a.mac).toString("hex"),mode:"AES256"}}function encParamsHexToBuf$1(a){return{ephemPublicKey:Buffer$g.from(a.ephemPublicKey,"hex"),iv:Buffer$g.from(a.iv,"hex"),mac:Buffer$g.from(a.mac,"hex")}}class GetOrSetNonceError extends Error{}const log$1=log$1$1.getLogger("torus.js");log$1.disableAll();function keccak256$1(a){return`0x${Buffer$g.from(keccak256$3(a)).toString("hex")}`}function stripHexPrefix(a){return a.startsWith("0x")?a.slice(2):a}function toChecksumAddress(a){const _=stripHexPrefix(a).toLowerCase(),$=Buffer$g.from(_,"utf8"),j=Buffer$g.from(keccak256$3($)).toString("hex");let et="0x";for(let tt=0;tt<_.length;tt++)parseInt(j[tt],16)>=8?et+=_[tt].toUpperCase():et+=_[tt];return et}function generateAddressFromPrivKey(a,_){const j=a.keyFromPrivate(_.toString("hex",64),"hex").getPublic().encode("hex",!1).slice(2);log$1.info(j,"public key");const et=`0x${keccak256$1(Buffer$g.from(j,"hex")).slice(26)}`;return toChecksumAddress(et)}function generateAddressFromPubKey(a,_,$){const j=a.keyFromPublic({x:_.toString("hex",64),y:$.toString("hex",64)}),et=j.getPublic().encode("hex",!1).slice(2);log$1.info(j.getPublic().encode("hex",!1),"public key");const tt=`0x${keccak256$1(Buffer$g.from(et,"hex")).slice(26)}`;return toChecksumAddress(tt)}class Share{constructor(_,$){_defineProperty$4(this,"share",void 0),_defineProperty$4(this,"shareIndex",void 0),this.share=new BN($,"hex"),this.shareIndex=new BN(_,"hex")}static fromJSON(_){const{share:$,shareIndex:j}=_;return new Share(j,$)}toJSON(){return{share:this.share.toString("hex"),shareIndex:this.shareIndex.toString("hex")}}}class Polynomial{constructor(_,$){_defineProperty$4(this,"polynomial",void 0),_defineProperty$4(this,"ecCurve",void 0),this.polynomial=_,this.ecCurve=$}getThreshold(){return this.polynomial.length}polyEval(_){const $=new BN(_,"hex");let j=new BN($),et=new BN(0);et=et.add(this.polynomial[0]);for(let tt=1;tt<this.polynomial.length;tt+=1){const rt=j.mul(this.polynomial[tt]);et=et.add(rt),et=et.umod(this.ecCurve.curve.n),j=j.mul(new BN($)),j=j.umod(this.ecCurve.curve.n)}return et}generateShares(_){const $=_.map(et=>typeof et=="number"?new BN(et):et instanceof BN?et:typeof et=="string"?new BN(et,"hex"):et),j={};for(let et=0;et<$.length;et+=1)j[$[et].toString("hex",64)]=new Share($[et],this.polyEval($[et]));return j}}function generatePrivateExcludingIndexes(a){const _=new BN(generatePrivate());return a.find($=>$.eq(_))?generatePrivateExcludingIndexes(a):_}function lagrangeInterpolation(a,_,$){if(_.length!==$.length)throw new Error("shares not equal to nodeIndex length in lagrangeInterpolation");let j=new BN(0);for(let et=0;et<_.length;et+=1){let tt=new BN(1),rt=new BN(1);for(let it=0;it<_.length;it+=1)if(et!==it){tt=tt.mul($[it].neg()),tt=tt.umod(a.curve.n);let st=$[et].sub($[it]);st=st.umod(a.curve.n),rt=rt.mul(st).umod(a.curve.n)}let nt=tt.mul(rt.invm(a.curve.n)).umod(a.curve.n);nt=nt.mul(_[et]).umod(a.curve.n),j=j.add(nt)}return j.umod(a.curve.n)}function generateRandomPolynomial(a,_,$,j){let et=$;$||(et=generatePrivateExcludingIndexes([new BN(0)]));{const tt=[et];for(let rt=0;rt<_;rt+=1){const nt=generatePrivateExcludingIndexes(tt);tt.push(nt)}return new Polynomial(tt,a)}}function ownKeys$2$1(a,_){var $=Object.keys(a);if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(a);_&&(j=j.filter(function(et){return Object.getOwnPropertyDescriptor(a,et).enumerable})),$.push.apply($,j)}return $}function _objectSpread$2$1(a){for(var _=1;_<arguments.length;_++){var $=arguments[_]!=null?arguments[_]:{};_%2?ownKeys$2$1(Object($),!0).forEach(function(j){_defineProperty$4(a,j,$[j])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors($)):ownKeys$2$1(Object($)).forEach(function(j){Object.defineProperty(a,j,Object.getOwnPropertyDescriptor($,j))})}return a}async function decryptNodeData(a,_,$){const j=encParamsHexToBuf$1(a);return await decrypt($,_objectSpread$2$1(_objectSpread$2$1({},j),{},{ciphertext:Buffer$g.from(_,"hex")}))}function generateMetadataParams(a,_,$,j){const et=a.keyFromPrivate(j.toString("hex",64)),tt={data:$,timestamp:new BN(~~(_+Date.now()/1e3)).toString(16)},rt=et.sign(keccak256$1(Buffer$g.from(stringify(tt),"utf8")).slice(2));return{pub_key_X:et.getPublic().getX().toString("hex",64),pub_key_Y:et.getPublic().getY().toString("hex",64),set_data:tt,signature:Buffer$g.from(rt.r.toString(16,64)+rt.s.toString(16,64)+new BN("").toString(16,2),"hex").toString("base64")}}async function getMetadata(a,_){let $=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};try{const j=await post(`${a}/get`,_,$,{useAPIKey:!0});return!j||!j.message?new BN(0):new BN(j.message,16)}catch(j){return log$1$1.error("get metadata error",j),new BN(0)}}async function getOrSetNonce(a,_,$,j,et,tt){let rt=arguments.length>6&&arguments[6]!==void 0?arguments[6]:!1,nt;const it=rt?"getNonce":"getOrSetNonce";return tt?nt=generateMetadataParams(_,$,it,tt):nt={pub_key_X:j,pub_key_Y:et,set_data:{data:it}},post(`${a}/get_or_set_nonce`,nt,void 0,{useAPIKey:!0})}async function getNonce(a,_,$,j,et,tt){return getOrSetNonce(a,_,$,j,et,tt,!0)}const config={logRequestTracing:!1};function capitalizeFirstLetter(a){return a.charAt(0).toUpperCase()+a.slice(1)}class SomeError extends Error{constructor(_){let{errors:$,responses:j,predicate:et}=_;super("Unable to resolve enough promises."),_defineProperty$4(this,"errors",void 0),_defineProperty$4(this,"responses",void 0),_defineProperty$4(this,"predicate",void 0),this.errors=$,this.responses=j,this.predicate=et}get message(){return`${super.message}. ${this.errors.length} errors: ${this.errors.map(_=>_.message||_).join(", ")} and ${this.responses.length} responses: ${JSON.stringify(this.responses)}`}toString(){return this.message}}const Some=(a,_)=>new Promise(($,j)=>{let et=0;const tt={resolved:!1},rt=new Array(a.length).fill(void 0),nt=new Array(a.length).fill(void 0);let it;return a.forEach((st,ot)=>st.then(at=>{nt[ot]=at}).catch(at=>{rt[ot]=at}).finally(()=>{if(!tt.resolved)return _(nt.slice(0),tt).then(at=>{tt.resolved=!0,$(at)}).catch(at=>{it=at}).finally(()=>{if(et+=1,et===a.length){const ut=Object.values(nt.reduce((ht,yt)=>{if(yt){var wt;const{id:Ct,error:Pt}=yt;(Pt==null||(wt=Pt.data)===null||wt===void 0?void 0:wt.length)>0&&(Pt.data.startsWith("Error occurred while verifying params")?ht[Ct]=capitalizeFirstLetter(Pt.data):ht[Ct]=Pt.data)}return ht},{}));if(ut.length>0){const ht=ut.length>1?`
${ut.map(yt=>`• ${yt}`).join(`
`)}`:ut[0];j(new Error(ht))}else{var at;j(new SomeError({errors:rt,responses:nt,predicate:((at=it)===null||at===void 0?void 0:at.message)||it}))}}})}))});function ownKeys$1$2(a,_){var $=Object.keys(a);if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(a);_&&(j=j.filter(function(et){return Object.getOwnPropertyDescriptor(a,et).enumerable})),$.push.apply($,j)}return $}function _objectSpread$1$2(a){for(var _=1;_<arguments.length;_++){var $=arguments[_]!=null?arguments[_]:{};_%2?ownKeys$1$2(Object($),!0).forEach(function(j){_defineProperty$4(a,j,$[j])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors($)):ownKeys$1$2(Object($)).forEach(function(j){Object.defineProperty(a,j,Object.getOwnPropertyDescriptor($,j))})}return a}const GetPubKeyOrKeyAssign=async a=>{const{endpoints:_,network:$,verifier:j,verifierId:et,extendedVerifierId:tt}=a,rt=_.map(ot=>post(ot,generateJsonRPCObject(JRPC_METHODS.GET_OR_SET_KEY,{verifier:j,verifier_id:et.toString(),extended_verifier_id:tt,one_key_flow:!0,fetch_node_index:!0}),null,{logTracingHeader:config.logRequestTracing}).catch(at=>log$1.error(`${JRPC_METHODS.GET_OR_SET_KEY} request failed`,at)));let nt;const it=[];return await Some(rt,ot=>{const at=ot.filter(yt=>{if(yt&&!yt.error){if(!nt){var wt,Ct,Pt;((wt=yt.result)===null||wt===void 0||(Ct=wt.keys[0].nonce_data)===null||Ct===void 0||(Pt=Ct.pubNonce)===null||Pt===void 0?void 0:Pt.x)&&(nt=yt.result.keys[0].nonce_data)}return yt}return!1}),ut=thresholdSame(at.map(yt=>yt&&yt.error),~~(_.length/2)+1),ht=thresholdSame(at.map(yt=>yt&&normalizeKeysResult(yt.result)),~~(_.length/2)+1);return ht&&(nt||tt||LEGACY_NETWORKS_ROUTE_MAP[$])||ut?(ht&&ot.forEach(yt=>{if(yt&&yt.result){const wt=parseInt(yt.result.node_index);wt&&it.push(wt)}}),Promise.resolve({keyResult:ht,nodeIndexes:it,errorResult:ut,nonceResult:nt})):Promise.reject(new Error(`invalid public key result: ${JSON.stringify(ot)} and nonce result:${JSON.stringify(nt||{})} for verifier: ${j}, verifierId: ${et} and extendedVerifierId: ${tt} `))})};async function retrieveOrImportShare(a){const{legacyMetadataHost:_,serverTimeOffset:$,enableOneKey:j,ecCurve:et,allowHost:tt,network:rt,clientId:nt,endpoints:it,verifier:st,verifierParams:ot,idToken:at,importedShares:ut,extraParams:ht}=a;await get(tt,{headers:{verifier:st,verifierId:ot.verifier_id,network:rt,clientId:nt}},{useAPIKey:!0});const yt=[],wt=generatePrivate(),Ct=getPublic(wt).toString("hex"),Pt=Ct.slice(2,66),Tt=Ct.slice(66),Mt=keccak256$1(Buffer$g.from(at,"utf8"));let Lt=!1;if(ut&&ut.length>0){if(ut.length!==it.length)throw new Error("Invalid imported shares length");Lt=!0}for(let Dt=0;Dt<it.length;Dt+=1){const Ut=post(it[Dt],generateJsonRPCObject(JRPC_METHODS.COMMITMENT_REQUEST,{messageprefix:"mug00",tokencommitment:Mt.slice(2),temppubx:Pt,temppuby:Tt,verifieridentifier:st}),null,{logTracingHeader:config.logRequestTracing}).catch(Ot=>{log$1.error("commitment error",Ot)});yt.push(Ut)}return Some(yt,Dt=>{const Ut=Dt.filter(Ot=>!(!Ot||typeof Ot!="object"||Ot.error));return ut.length>0&&Ut.length===it.length||ut.length===0&&Ut.length>=~~(it.length*3/4)+1&&Ut.find(It=>{var Bt;return!!(It&&((Bt=It.result)===null||Bt===void 0?void 0:Bt.nodeindex)==="1")})?Promise.resolve(Dt):Promise.reject(new Error(`invalid ${JSON.stringify(Dt)}`))}).then(Dt=>{const Ut=[],Ot=[];for(let Bt=0;Bt<Dt.length;Bt+=1){const Ft=Dt[Bt];!Ft||typeof Ft!="object"||Ft.error||Ft&&Ot.push(Ft.result)}for(let Bt=0;Bt<it.length;Bt+=1){const Ft=Dt[Bt];if(!(!Ft||typeof Ft!="object")&&!Ft.error)if(Lt){const jt=ut[Bt],bt=post(it[Bt],generateJsonRPCObject(JRPC_METHODS.IMPORT_SHARE,{encrypted:"yes",use_temp:!0,item:[_objectSpread$1$2(_objectSpread$1$2({},ot),{},{idtoken:at,nodesignatures:Ot,verifieridentifier:st,pub_key_x:jt.pub_key_x,pub_key_y:jt.pub_key_y,encrypted_share:jt.encrypted_share,encrypted_share_metadata:jt.encrypted_share_metadata,node_index:jt.node_index,key_type:jt.key_type,nonce_data:jt.nonce_data,nonce_signature:jt.nonce_signature},ht)],one_key_flow:!0}),null,{logTracingHeader:config.logRequestTracing}).catch(vt=>log$1.error("share req",vt));Ut.push(bt)}else{const jt=post(it[Bt],generateJsonRPCObject(JRPC_METHODS.GET_SHARE_OR_KEY_ASSIGN,{encrypted:"yes",use_temp:!0,item:[_objectSpread$1$2(_objectSpread$1$2({},ot),{},{idtoken:at,nodesignatures:Ot,verifieridentifier:st},ht)],one_key_flow:!0}),null,{logTracingHeader:config.logRequestTracing}).catch(bt=>log$1.error("share req",bt));Ut.push(jt)}}let It;return Some(Ut,async(Bt,Ft)=>{const jt=Bt.filter(xt=>!(!xt||typeof xt!="object"||xt.error)),bt=Bt.map(xt=>{if(xt&&xt.result&&xt.result.keys[0].public_key){if(!It&&!ot.extended_verifier_id){var At,Rt;((At=xt.result.keys[0].nonce_data)===null||At===void 0||(Rt=At.pubNonce)===null||Rt===void 0?void 0:Rt.x)&&(It=xt.result.keys[0].nonce_data)}return xt.result.keys[0].public_key}}),vt=thresholdSame(bt,~~(it.length/2)+1);if(!vt)throw new Error("invalid result from nodes, threshold number of public key results are not matching");if(!It&&!ot.extended_verifier_id&&!LEGACY_NETWORKS_ROUTE_MAP[rt])throw new Error(`invalid metadata result from nodes, nonce metadata is empty for verifier: ${st} and verifierId: ${ot.verifier_id}`);const ct=ut.length>0?it.length:~~(it.length/2)+1;if(jt.length>=ct&&vt&&(It||ot.extended_verifier_id||LEGACY_NETWORKS_ROUTE_MAP[rt])){const xt=[],At=[],Rt=[],St=[],$t=[];for(let Jt=0;Jt<jt.length;Jt+=1){const ur=jt[Jt],{session_tokens:xr,session_token_metadata:pr,session_token_sigs:Cr,session_token_sig_metadata:Mr,keys:lr}=ur.result;if((Cr==null?void 0:Cr.length)>0){var dt;Mr&&(dt=Mr[0])!==null&&dt!==void 0&&dt.ephemPublicKey?At.push(decryptNodeData(Mr[0],Cr[0],wt).catch(fr=>log$1.debug("session sig decryption",fr))):At.push(Promise.resolve(Buffer$g.from(Cr[0],"hex")))}else At.push(Promise.resolve(void 0));if((xr==null?void 0:xr.length)>0){var mt;pr&&(mt=pr[0])!==null&&mt!==void 0&&mt.ephemPublicKey?Rt.push(decryptNodeData(pr[0],xr[0],wt).catch(fr=>log$1.debug("session token sig decryption",fr))):Rt.push(Promise.resolve(Buffer$g.from(xr[0],"base64")))}else Rt.push(Promise.resolve(void 0));if((lr==null?void 0:lr.length)>0){const fr=ur.result.keys[0];St.push(new BN(fr.node_index)),fr.share_metadata&&xt.push(decryptNodeData(fr.share_metadata,Buffer$g.from(fr.share,"base64").toString("binary").padStart(64,"0"),wt).catch(_r=>log$1.debug("share decryption",_r)))}else St.push(void 0),xt.push(Promise.resolve(void 0))}const Et=await Promise.all(xt.concat(At).concat(Rt)),Nt=Et.slice(0,xt.length),tr=Et.slice(xt.length,xt.length+At.length),ir=Et.slice(xt.length+At.length,Et.length),nr=tr.filter(Jt=>!!Jt),Zt=~~(it.length/2)+1;if(!ot.extended_verifier_id&&nr.length<Zt)throw new Error(`Insufficient number of signatures from nodes, required: ${Zt}, found: ${nr.length}`);const Kt=ir.filter(Jt=>!!Jt);if(!ot.extended_verifier_id&&Kt.length<Zt)throw new Error(`Insufficient number of session tokens from nodes, required: ${Zt}, found: ${Kt.length}`);if(ir.forEach((Jt,ur)=>{Jt?$t.push({token:Jt.toString("base64"),signature:tr[ur].toString("hex"),node_pubx:jt[ur].result.node_pubx,node_puby:jt[ur].result.node_puby}):$t.push(void 0)}),Ft.resolved)return;const Qt=Nt.reduce((Jt,ur,xr)=>(ur&&Jt.push({index:St[xr],value:new BN(ur)}),Jt),[]),Ht=kCombinations(Qt.length,~~(it.length/2)+1);let qt=null;for(let Jt=0;Jt<Ht.length;Jt+=1){const ur=Ht[Jt],xr=Qt.filter((Rr,kr)=>ur.includes(kr)),pr=xr.map(Rr=>Rr.value),Cr=xr.map(Rr=>Rr.index),Mr=lagrangeInterpolation(et,pr,Cr);if(!Mr)continue;const lr=getPublic(Buffer$g.from(Mr.toString(16,64),"hex")).toString("hex"),fr=lr.slice(2,66),_r=lr.slice(66);if(new BN(fr,16).cmp(new BN(vt.X,16))===0&&new BN(_r,16).cmp(new BN(vt.Y,16))===0){qt=Mr;break}}if(qt==null)throw new Error("could not derive private key");return{privateKey:qt,sessionTokenData:$t,thresholdNonceData:It,nodeIndexes:St}}throw new Error("Invalid")})}).then(async Dt=>{var Ut;const{privateKey:Ot,sessionTokenData:It,thresholdNonceData:Bt,nodeIndexes:Ft}=Dt;let jt=Bt;if(!Ot)throw new Error("Invalid private key returned");const bt=Ot,vt=getPublic(Buffer$g.from(bt.toString(16,64),"hex")).toString("hex"),ct=vt.slice(2,66),dt=vt.slice(66);let mt=new BN((Ut=jt)!==null&&Ut!==void 0&&Ut.nonce?jt.nonce.padStart(64,"0"):"0","hex"),xt,At,Rt="v1";if(ot.extended_verifier_id)Rt="v2",xt=et.keyFromPublic({x:ct,y:dt}).getPublic();else if(LEGACY_NETWORKS_ROUTE_MAP[rt])if(j)jt=await getNonce(_,et,$,ct,dt,bt),mt=new BN(jt.nonce||"0",16),At={X:jt.pubNonce.x,Y:jt.pubNonce.y},Rt=jt.typeOfUser,Rt==="v2"&&(xt=et.keyFromPublic({x:ct,y:dt}).getPublic().add(et.keyFromPublic({x:jt.pubNonce.x,y:jt.pubNonce.y}).getPublic()));else{Rt="v1",mt=await getMetadata(_,{pub_key_X:ct,pub_key_Y:dt});const tr=bt.add(mt).umod(et.curve.n);xt=et.keyFromPrivate(tr.toString(16,64),"hex").getPublic()}else Rt="v2",xt=et.keyFromPublic({x:ct,y:dt}).getPublic().add(et.keyFromPublic({x:jt.pubNonce.x,y:jt.pubNonce.y}).getPublic()),At={X:jt.pubNonce.x,Y:jt.pubNonce.y};const St=generateAddressFromPrivKey(et,bt),$t=generateAddressFromPubKey(et,xt.getX(),xt.getY());log$1.debug("> torus.js/retrieveShares",{finalEvmAddress:$t});let Et="";(Rt==="v1"||Rt==="v2"&&mt.gt(new BN(0)))&&(Et=bt.add(mt).umod(et.curve.n).toString("hex",64));let Nt=!1;return Rt==="v1"?Nt=null:Rt==="v2"&&(Nt=mt.eq(new BN("0"))),{finalKeyData:{evmAddress:$t,X:xt.getX().toString(16,64),Y:xt.getY().toString(16,64),privKey:Et},oAuthKeyData:{evmAddress:St,X:ct,Y:dt,privKey:bt.toString("hex",64).padStart(64,"0")},sessionData:{sessionTokenData:It,sessionAuthKey:wt.toString("hex").padStart(64,"0")},metadata:{pubNonce:At,nonce:mt,typeOfUser:Rt,upgraded:Nt},nodesData:{nodeIndexes:Ft.map(tr=>tr.toNumber())}}})}const legacyKeyLookup=async(a,_,$)=>{const j=a.map(et=>post(et,generateJsonRPCObject("VerifierLookupRequest",{verifier:_,verifier_id:$.toString()})).catch(tt=>log$1.error("lookup request failed",tt)));return Some(j,et=>{const tt=et.filter(it=>it),rt=thresholdSame(tt.map(it=>it&&it.error),~~(a.length/2)+1),nt=thresholdSame(tt.map(it=>it&&it.result),~~(a.length/2)+1);return nt||rt?Promise.resolve({keyResult:nt,errorResult:rt}):Promise.reject(new Error(`invalid results ${JSON.stringify(et)}`))})},legacyKeyAssign=async a=>{let{endpoints:_,torusNodePubs:$,lastPoint:j,firstPoint:et,verifier:tt,verifierId:rt,signerHost:nt,network:it,clientId:st}=a,ot,at;if(j===void 0?(ot=Math.floor(Math.random()*_.length),log$1.info("keyassign",ot,_[ot]),at=ot):ot=j%_.length,ot===et)throw new Error("Looped through all");et!==void 0&&(at=et);const ut=generateJsonRPCObject("KeyAssign",{verifier:tt,verifier_id:rt.toString()});try{const ht=await post(nt,ut,{headers:{pubKeyX:$[ot].X,pubKeyY:$[ot].Y,network:it,clientId:st}},{useAPIKey:!0});return await post(_[ot],_objectSpread$1$2(_objectSpread$1$2({},ut),ht),{headers:{"Content-Type":"application/json; charset=utf-8"}})}catch(ht){log$1.error(ht.status,ht.message,ht,"key assign error");const yt=["Timed out","Failed to fetch","cancelled","NetworkError when attempting to fetch resource.","TypeError: Failed to fetch","TypeError: cancelled","TypeError: NetworkError when attempting to fetch resource."];if((ht==null?void 0:ht.status)===502||(ht==null?void 0:ht.status)===504||(ht==null?void 0:ht.status)===401||yt.includes(ht.message)||yt.some(wt=>ht.message.includes(wt))||ht.message&&ht.message.includes("reason: getaddrinfo EAI_AGAIN"))return legacyKeyAssign({endpoints:_,torusNodePubs:$,lastPoint:ot+1,firstPoint:at,verifier:tt,verifierId:rt,signerHost:nt,network:it,clientId:st});throw new Error(`Sorry, the Torus Network that powers Web3Auth is currently very busy.
    We will generate your key in time. Pls try again later. 

    ${ht.message||""}`)}},legacyWaitKeyLookup=(a,_,$,j)=>new Promise((et,tt)=>{setTimeout(()=>{legacyKeyLookup(a,_,$).then(et).catch(tt)},j)});function ownKeys$4(a,_){var $=Object.keys(a);if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(a);_&&(j=j.filter(function(et){return Object.getOwnPropertyDescriptor(a,et).enumerable})),$.push.apply($,j)}return $}function _objectSpread$4(a){for(var _=1;_<arguments.length;_++){var $=arguments[_]!=null?arguments[_]:{};_%2?ownKeys$4(Object($),!0).forEach(function(j){_defineProperty$4(a,j,$[j])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors($)):ownKeys$4(Object($)).forEach(function(j){Object.defineProperty(a,j,Object.getOwnPropertyDescriptor($,j))})}return a}class Torus{constructor(_){let{enableOneKey:$=!1,clientId:j,network:et,serverTimeOffset:tt=0,allowHost:rt="https://signer.tor.us/api/allow",legacyMetadataHost:nt=LEGACY_METADATA_HOST}=_;if(_defineProperty$4(this,"allowHost",void 0),_defineProperty$4(this,"serverTimeOffset",void 0),_defineProperty$4(this,"network",void 0),_defineProperty$4(this,"clientId",void 0),_defineProperty$4(this,"ec",void 0),_defineProperty$4(this,"enableOneKey",void 0),_defineProperty$4(this,"signerHost",void 0),_defineProperty$4(this,"legacyMetadataHost",void 0),!j)throw Error("Please provide a valid clientId in constructor");if(!et)throw Error("Please provide a valid network in constructor");this.ec=new elliptic$1.ec("secp256k1"),this.serverTimeOffset=tt||0,this.network=et,this.clientId=j,this.allowHost=rt,this.enableOneKey=$,this.legacyMetadataHost=nt,this.signerHost=`${SIGNER_MAP[et]}/api/sign`}get isLegacyNetwork(){const _=LEGACY_NETWORKS_ROUTE_MAP[this.network];return!!(_&&!_.migrationCompleted)}static enableLogging(){(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0)?(log$1.enableAll(),config.logRequestTracing=!0):log$1.disableAll()}static setAPIKey(_){setAPIKey(_)}static setEmbedHost(_){setEmbedHost(_)}static isGetOrSetNonceError(_){return _ instanceof GetOrSetNonceError}static getPostboxKey(_){return _.metadata.typeOfUser==="v1"&&_.finalKeyData.privKey||_.oAuthKeyData.privKey}async retrieveShares(_,$,j,et,tt){let rt=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{};return this.isLegacyNetwork?this.legacyRetrieveShares(_,$,j,et,tt,rt):retrieveOrImportShare({legacyMetadataHost:this.legacyMetadataHost,serverTimeOffset:this.serverTimeOffset,enableOneKey:this.enableOneKey,ecCurve:this.ec,allowHost:this.allowHost,network:this.network,clientId:this.clientId,endpoints:_,verifier:j,verifierParams:et,idToken:tt,importedShares:[],extraParams:rt})}async getPublicAddress(_,$,j){let{verifier:et,verifierId:tt,extendedVerifierId:rt}=j;return this.isLegacyNetwork?this.getLegacyPublicAddress(_,$,{verifier:et,verifierId:tt},this.enableOneKey):this.getNewPublicAddress(_,{verifier:et,verifierId:tt,extendedVerifierId:rt},this.enableOneKey)}async importPrivateKey(_,$,j,et,tt,rt,nt){let it=arguments.length>7&&arguments[7]!==void 0?arguments[7]:{};if(this.isLegacyNetwork)throw new Error("This function is not supported on legacy networks");if(_.length!==$.length)throw new Error("length of endpoints array must be same as length of nodeIndexes array");const ot=~~(_.length/2)+1-1,at=[],ut=this.ec.keyFromPrivate(nt.padStart(64,"0"),"hex");for(const It of $)at.push(new BN(It));const ht=ut.getPrivate(),yt=new BN(generatePrivate()),wt=ht.sub(yt).umod(this.ec.curve.n),Ct=this.ec.keyFromPrivate(wt.toString("hex").padStart(64,"0")).getPublic(),Tt=generateRandomPolynomial(this.ec,ot,wt).generateShares(at),Mt=this.generateNonceMetadataParams("getOrSetNonce",wt,yt),Lt=Buffer$g.from(stringify(Mt.set_data),"utf8").toString("base64"),Dt=[],Ut=[];for(let It=0;It<at.length;It++){const Bt=Tt[at[It].toString("hex",64)].toJSON();if(!j[It])throw new Error(`Missing node pub key for node index: ${at[It].toString("hex",64)}`);const Ft=this.ec.keyFromPublic({x:j[It].X,y:j[It].Y});Ut.push(encrypt(Buffer$g.from(Ft.getPublic().encodeCompressed("hex"),"hex"),Buffer$g.from(Bt.share,"hex")))}const Ot=await Promise.all(Ut);for(let It=0;It<at.length;It++){const Bt=Tt[at[It].toString("hex",64)].toJSON(),Ft=Ot[It],jt=encParamsBufToHex$1(Ft),bt={pub_key_x:Ct.getX().toString("hex",64),pub_key_y:Ct.getY().toString("hex",64),encrypted_share:jt.ciphertext,encrypted_share_metadata:jt,node_index:Number.parseInt(Bt.shareIndex,16),key_type:"secp256k1",nonce_data:Lt,nonce_signature:Mt.signature};Dt.push(bt)}return retrieveOrImportShare({legacyMetadataHost:this.legacyMetadataHost,serverTimeOffset:this.serverTimeOffset,enableOneKey:this.enableOneKey,ecCurve:this.ec,allowHost:this.allowHost,network:this.network,clientId:this.clientId,endpoints:_,verifier:et,verifierParams:tt,idToken:rt,importedShares:Dt,extraParams:it})}async getUserTypeAndAddress(_,$,j){let{verifier:et,verifierId:tt,extendedVerifierId:rt}=j;return this.isLegacyNetwork?this.getLegacyPublicAddress(_,$,{verifier:et,verifierId:tt},!0):this.getNewPublicAddress(_,{verifier:et,verifierId:tt,extendedVerifierId:rt},!0)}async legacyRetrieveShares(_,$,j,et,tt){let rt=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{};const nt=[];await get(this.allowHost,{headers:{verifier:j,verifierId:et.verifier_id,network:this.network,clientId:this.clientId}},{useAPIKey:!0});const it=generatePrivate(),st=getPublic(it).toString("hex"),ot=st.slice(2,66),at=st.slice(66),ut=keccak256$1(Buffer$g.from(tt,"utf8"));for(let ht=0;ht<_.length;ht+=1){const yt=post(_[ht],generateJsonRPCObject("CommitmentRequest",{messageprefix:"mug00",tokencommitment:ut.slice(2),temppubx:ot,temppuby:at,verifieridentifier:j})).catch(wt=>{log$1.error("commitment",wt)});nt.push(yt)}return Some(nt,ht=>ht.filter(wt=>!(!wt||typeof wt!="object"||wt.error)).length>=~~(_.length/4)*3+1?Promise.resolve(ht):Promise.reject(new Error(`invalid ${JSON.stringify(ht)}`))).then(ht=>{const yt=[],wt=[];for(let Ct=0;Ct<ht.length;Ct+=1)ht[Ct]&&wt.push(ht[Ct].result);for(let Ct=0;Ct<_.length;Ct+=1){const Pt=post(_[Ct],generateJsonRPCObject("ShareRequest",{encrypted:"yes",item:[_objectSpread$4(_objectSpread$4({},et),{},{idtoken:tt,nodesignatures:wt,verifieridentifier:j},rt)]})).catch(Tt=>log$1.error("share req",Tt));yt.push(Pt)}return Some(yt,async(Ct,Pt)=>{const Tt=Ct.filter(Ut=>Ut),Mt=thresholdSame(Ct.map(Ut=>Ut&&Ut.result&&Ut.result.keys[0].PublicKey),~~(_.length/2)+1);if(Tt.length>=~~(_.length/2)+1&&Mt){const Ut=[],Ot=[];for(let bt=0;bt<Ct.length;bt+=1){var Lt,Dt;const vt=Ct[bt];if((vt==null||(Lt=vt.result)===null||Lt===void 0||(Dt=Lt.keys)===null||Dt===void 0?void 0:Dt.length)>0){vt.result.keys.sort((dt,mt)=>new BN(dt.Index,16).cmp(new BN(mt.Index,16)));const ct=vt.result.keys[0];if(ct.Metadata){const dt={ephemPublicKey:Buffer$g.from(ct.Metadata.ephemPublicKey,"hex"),iv:Buffer$g.from(ct.Metadata.iv,"hex"),mac:Buffer$g.from(ct.Metadata.mac,"hex")};Ut.push(decrypt(it,_objectSpread$4(_objectSpread$4({},dt),{},{ciphertext:Buffer$g.from(Buffer$g.from(ct.Share,"base64").toString("binary").padStart(64,"0"),"hex")})).catch(mt=>log$1.debug("share decryption",mt)))}else Ut.push(Promise.resolve(Buffer$g.from(ct.Share.padStart(64,"0"),"hex")))}else Ut.push(Promise.resolve(void 0));Ot.push(new BN($[bt],16))}const It=await Promise.all(Ut);if(Pt.resolved)return;const Bt=It.reduce((bt,vt,ct)=>(vt&&bt.push({index:Ot[ct],value:new BN(vt)}),bt),[]),Ft=kCombinations(Bt.length,~~(_.length/2)+1);let jt=null;for(let bt=0;bt<Ft.length;bt+=1){const vt=Ft[bt],ct=Bt.filter(($t,Et)=>vt.includes(Et)),dt=ct.map($t=>$t.value),mt=ct.map($t=>$t.index),xt=lagrangeInterpolation(this.ec,dt,mt);if(!xt)continue;const At=getPublic(Buffer$g.from(xt.toString(16,64),"hex")).toString("hex"),Rt=At.slice(2,66),St=At.slice(66);if(new BN(Rt,16).cmp(new BN(Mt.X,16))===0&&new BN(St,16).cmp(new BN(Mt.Y,16))===0){jt=xt;break}}if(jt==null)throw new Error("could not derive private key");return jt}throw new Error("invalid")})}).then(async ht=>{const yt=ht;if(!yt)throw new Error("Invalid private key returned");const wt=getPublic(Buffer$g.from(yt.toString(16,64),"hex")).toString("hex"),Ct=wt.slice(2,66),Pt=wt.slice(66);let Tt,Mt,Lt="v1",Dt;if(this.enableOneKey){const Ft=await getNonce(this.legacyMetadataHost,this.ec,this.serverTimeOffset,Ct,Pt,yt);Tt=new BN(Ft.nonce||"0",16),Lt=Ft.typeOfUser,Ft.typeOfUser==="v2"&&(Mt=this.ec.keyFromPublic({x:Ct,y:Pt}).getPublic().add(this.ec.keyFromPublic({x:Ft.pubNonce.x,y:Ft.pubNonce.y}).getPublic()),Dt={X:Ft.pubNonce.x,Y:Ft.pubNonce.y})}else{Tt=await getMetadata(this.legacyMetadataHost,{pub_key_X:Ct,pub_key_Y:Pt});const Ft=yt.add(Tt).umod(this.ec.curve.n);Mt=this.ec.keyFromPrivate(Ft.toString("hex"),"hex").getPublic()}const Ut=generateAddressFromPrivKey(this.ec,yt),Ot=generateAddressFromPubKey(this.ec,Mt.getX(),Mt.getY());log$1.debug("> torus.js/retrieveShares",{finalEvmAddress:Ot});let It="";(Lt==="v1"||Lt==="v2"&&Tt.gt(new BN(0)))&&(It=yt.add(Tt).umod(this.ec.curve.n).toString("hex",64).padStart(64,"0"));let Bt=!1;return Lt==="v1"?Bt=null:Lt==="v2"&&(Bt=Tt.eq(new BN("0"))),{finalKeyData:{evmAddress:Ot,X:Mt?Mt.getX().toString(16,64):"",Y:Mt?Mt.getY().toString(16,64):"",privKey:It},oAuthKeyData:{evmAddress:Ut,X:Ct,Y:Pt,privKey:yt.toString("hex",64).padStart(64,"0")},sessionData:{sessionTokenData:[],sessionAuthKey:""},metadata:{pubNonce:Dt,nonce:Tt,typeOfUser:Lt,upgraded:Bt},nodesData:{nodeIndexes:[]}}})}async getLegacyPublicAddress(_,$,j,et){let{verifier:tt,verifierId:rt}=j;log$1.debug("> torus.js/getPublicAddress",{endpoints:_,torusNodePubs:$,verifier:tt,verifierId:rt});let nt,it=!1;const{keyResult:st,errorResult:ot}=await legacyKeyLookup(_,tt,rt)||{};if(ot&&JSON.stringify(ot).includes("Verifier not supported"))throw new Error(`Verifier not supported. Check if you: 

      1. Are on the right network (Torus testnet/mainnet) 

      2. Have setup a verifier on dashboard.web3auth.io?`);if(ot&&JSON.stringify(ot).includes("Verifier + VerifierID has not yet been assigned")){await legacyKeyAssign({endpoints:_,torusNodePubs:$,lastPoint:void 0,firstPoint:void 0,verifier:tt,verifierId:rt,signerHost:this.signerHost,network:this.network,clientId:this.clientId});const at=await legacyWaitKeyLookup(_,tt,rt,1e3);nt=at==null?void 0:at.keyResult,it=!0}else if(st)nt=st;else throw new Error(`node results do not match at first lookup ${JSON.stringify(st||{})}, ${JSON.stringify(ot||{})}`);if(log$1.debug("> torus.js/getPublicAddress",{finalKeyResult:nt,isNewKey:it}),nt)return this.formatLegacyPublicKeyData({finalKeyResult:nt,isNewKey:it,enableOneKey:et});throw new Error(`node results do not match at final lookup ${JSON.stringify(st||{})}, ${JSON.stringify(ot||{})}`)}generateNonceMetadataParams(_,$,j){const et=this.ec.keyFromPrivate($.toString("hex",64)),tt={operation:_,timestamp:new BN(~~(this.serverTimeOffset+Date.now()/1e3)).toString(16)};j&&(tt.data=j.toString("hex",64));const rt=et.sign(keccak256$1(Buffer$g.from(stringify(tt),"utf8")).slice(2));return{pub_key_X:et.getPublic().getX().toString("hex",64),pub_key_Y:et.getPublic().getY().toString("hex",64),set_data:tt,signature:Buffer$g.from(rt.r.toString(16,64)+rt.s.toString(16,64)+new BN("").toString(16,2),"hex").toString("base64")}}async getNewPublicAddress(_,$,j){let{verifier:et,verifierId:tt,extendedVerifierId:rt}=$;log$1.debug("> torus.js/getPublicAddress",{endpoints:_,verifier:et,verifierId:tt});const nt=await GetPubKeyOrKeyAssign({endpoints:_,network:this.network,verifier:et,verifierId:tt,extendedVerifierId:rt}),{errorResult:it,keyResult:st,nodeIndexes:ot=[]}=nt,{nonceResult:at}=nt;if(it&&JSON.stringify(it).toLowerCase().includes("verifier not supported"))throw new Error(`Verifier not supported. Check if you: 

      1. Are on the right network (Torus testnet/mainnet) 

      2. Have setup a verifier on dashboard.web3auth.io?`);if(it)throw new Error(`node results do not match at first lookup ${JSON.stringify(st||{})}, ${JSON.stringify(it||{})}`);if(log$1.debug("> torus.js/getPublicAddress",{keyResult:st}),!(st!=null&&st.keys))throw new Error(`node results do not match at final lookup ${JSON.stringify(st||{})}, ${JSON.stringify(it||{})}`);if(!at&&!rt&&!LEGACY_NETWORKS_ROUTE_MAP[this.network])throw new GetOrSetNonceError("metadata nonce is missing in share response");const{pub_key_X:ut,pub_key_Y:ht}=st.keys[0];let yt;const wt=new BN((at==null?void 0:at.nonce)||"0",16);let Ct,Pt;if(rt)Pt=this.ec.keyFromPublic({x:ut,y:ht}).getPublic(),Ct=Pt;else{if(LEGACY_NETWORKS_ROUTE_MAP[this.network])return this.formatLegacyPublicKeyData({isNewKey:st.is_new_key,enableOneKey:j,finalKeyResult:{keys:st.keys}});{const It=at;Ct=this.ec.keyFromPublic({x:ut,y:ht}).getPublic(),Pt=this.ec.keyFromPublic({x:ut,y:ht}).getPublic().add(this.ec.keyFromPublic({x:It.pubNonce.x,y:It.pubNonce.y}).getPublic()),yt={X:It.pubNonce.x,Y:It.pubNonce.y}}}if(!Ct)throw new Error("Unable to derive oAuthPubKey");const Tt=Ct.getX().toString(16,64),Mt=Ct.getY().toString(16,64),Lt=generateAddressFromPubKey(this.ec,Ct.getX(),Ct.getY());if(log$1.debug("> torus.js/getPublicAddress, oAuthKeyData",{X:Tt,Y:Mt,oAuthAddress:Lt,nonce:wt==null?void 0:wt.toString(16),pubNonce:yt}),!Pt)throw new Error("Unable to derive finalPubKey");const Dt=Pt?Pt.getX().toString(16,64):"",Ut=Pt?Pt.getY().toString(16,64):"",Ot=Pt?generateAddressFromPubKey(this.ec,Pt.getX(),Pt.getY()):"";return{oAuthKeyData:{evmAddress:Lt,X:Tt,Y:Mt},finalKeyData:{evmAddress:Ot,X:Dt,Y:Ut},metadata:{pubNonce:yt,nonce:wt,upgraded:(at==null?void 0:at.upgraded)||!1,typeOfUser:"v2"},nodesData:{nodeIndexes:ot}}}async formatLegacyPublicKeyData(_){var $,j;const{finalKeyResult:et,enableOneKey:tt,isNewKey:rt}=_,{pub_key_X:nt,pub_key_Y:it}=et.keys[0];let st,ot,at,ut,ht;const yt=this.ec.keyFromPublic({x:nt,y:it}).getPublic();if(tt){try{st=await getOrSetNonce(this.legacyMetadataHost,this.ec,this.serverTimeOffset,nt,it,void 0,!rt),ot=new BN(st.nonce||"0",16),ut=st.typeOfUser}catch{throw new GetOrSetNonceError}if(st.typeOfUser==="v1")at=this.ec.keyFromPublic({x:nt,y:it}).getPublic().add(this.ec.keyFromPrivate(ot.toString(16)).getPublic());else if(st.typeOfUser==="v2")at=this.ec.keyFromPublic({x:nt,y:it}).getPublic().add(this.ec.keyFromPublic({x:st.pubNonce.x,y:st.pubNonce.y}).getPublic()),ht={X:st.pubNonce.x,Y:st.pubNonce.y};else throw new Error("getOrSetNonce should always return typeOfUser.")}else ut="v1",ot=await getMetadata(this.legacyMetadataHost,{pub_key_X:nt,pub_key_Y:it}),at=this.ec.keyFromPublic({x:nt,y:it}).getPublic().add(this.ec.keyFromPrivate(ot.toString(16)).getPublic());if(!yt)throw new Error("Unable to derive oAuthPubKey");const wt=yt.getX().toString(16,64),Ct=yt.getY().toString(16,64),Pt=generateAddressFromPubKey(this.ec,yt.getX(),yt.getY());if(log$1.debug("> torus.js/getPublicAddress, oAuthKeyData",{X:wt,Y:Ct,oAuthAddress:Pt,nonce:($=ot)===null||$===void 0?void 0:$.toString(16),pubNonce:ht}),ut==="v2"&&!at)throw new Error("Unable to derive finalPubKey");const Tt=at?at.getX().toString(16,64):"",Mt=at?at.getY().toString(16,64):"",Lt=at?generateAddressFromPubKey(this.ec,at.getX(),at.getY()):"";return{oAuthKeyData:{evmAddress:Pt,X:wt,Y:Ct},finalKeyData:{evmAddress:Lt,X:Tt,Y:Mt},metadata:{pubNonce:ht,nonce:ot,upgraded:((j=st)===null||j===void 0?void 0:j.upgraded)||!1,typeOfUser:ut},nodesData:{nodeIndexes:[]}}}}var isLocalhost=function(){return!!(window.location.hostname==="localhost"||window.location.hostname==="[::1]"||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/))},waitWindowLoad;typeof window<"u"&&(typeof document<"u"&&(document.readyState==="interactive"||document.readyState==="complete")?waitWindowLoad=Promise.resolve():typeof Promise<"u"?waitWindowLoad=new Promise(function(a){return window.addEventListener("load",a)}):waitWindowLoad={then:function(a){return window.addEventListener("load",a)}});var register=function a(_,$){$===void 0&&($={});var j=$.registrationOptions;j===void 0&&(j={}),delete $.registrationOptions;var et=function(tt){for(var rt=[],nt=arguments.length-1;nt-- >0;)rt[nt]=arguments[nt+1];$&&$[tt]&&$[tt].apply($,rt)};"serviceWorker"in navigator&&waitWindowLoad.then(function(){isLocalhost()?(checkValidServiceWorker(_,et,j),navigator.serviceWorker.ready.then(function(tt){et("ready",tt)})):(registerValidSW(_,et,j),navigator.serviceWorker.ready.then(function(tt){et("ready",tt)}))})};function handleError(a,_){navigator.onLine||a("offline"),a("error",_)}function registerValidSW(a,_,$){navigator.serviceWorker.register(a,$).then(function(j){if(_("registered",j),j.waiting){_("updated",j);return}j.onupdatefound=function(){_("updatefound",j);var et=j.installing;et.onstatechange=function(){et.state==="installed"&&(navigator.serviceWorker.controller?_("updated",j):_("cached",j))}}}).catch(function(j){return handleError(_,j)})}function checkValidServiceWorker(a,_,$){fetch(a).then(function(j){j.status===404?(_("error",new Error("Service worker not found at "+a)),unregister()):j.headers.get("content-type").indexOf("javascript")===-1?(_("error",new Error("Expected "+a+" to have javascript content-type, but received "+j.headers.get("content-type"))),unregister()):registerValidSW(a,_,$)}).catch(function(j){return handleError(_,j)})}function keccak256(a){return Buffer$g.from(keccak256$3(a))}const ec=new elliptic$1.ec("secp256k1");function encParamsHexToBuf(a){return{iv:Buffer$g.from(a.iv,"hex"),ephemPublicKey:Buffer$g.from(a.ephemPublicKey,"hex"),ciphertext:Buffer$g.from(a.ciphertext,"hex"),mac:Buffer$g.from(a.mac,"hex")}}function encParamsBufToHex(a){return{iv:Buffer$g.from(a.iv).toString("hex"),ephemPublicKey:Buffer$g.from(a.ephemPublicKey).toString("hex"),ciphertext:Buffer$g.from(a.ciphertext).toString("hex"),mac:Buffer$g.from(a.mac).toString("hex")}}async function encryptData(a,_){const $=JSON.stringify(_),j=Buffer$g.from($,"utf-8"),et=await encrypt(getPublic(Buffer$g.from(a,"hex")),j),tt=encParamsBufToHex(et);return JSON.stringify(tt)}async function decryptData(a,_){const $=JSON.parse(_),j=encParamsHexToBuf($),et=ec.keyFromPrivate(a),rt=(await decrypt(Buffer$g.from(et.getPrivate().toString("hex",64),"hex"),j)).toString("utf-8");return JSON.parse(rt)}const LOGIN={GOOGLE:"google",FACEBOOK:"facebook",REDDIT:"reddit",DISCORD:"discord",TWITCH:"twitch",APPLE:"apple",GITHUB:"github",LINKEDIN:"linkedin",TWITTER:"twitter",WEIBO:"weibo",LINE:"line",EMAIL_PASSWORD:"email_password",PASSWORDLESS:"passwordless",JWT:"jwt",WEBAUTHN:"webauthn"},AGGREGATE_VERIFIER={SINGLE_VERIFIER_ID:"single_id_verifier"},UX_MODE={POPUP:"popup",REDIRECT:"redirect"},REDIRECT_PARAMS_STORAGE_METHOD={LOCAL_STORAGE:"localStorage",SESSION_STORAGE:"sessionStorage",SERVER:"server"},TORUS_METHOD={TRIGGER_LOGIN:"triggerLogin",TRIGGER_AGGREGATE_LOGIN:"triggerAggregateLogin",TRIGGER_AGGREGATE_HYBRID_LOGIN:"triggerHybridAggregateLogin"},SENTRY_TXNS={FETCH_NODE_DETAILS:"fetchNodeDetails",PUB_ADDRESS_LOOKUP:"pubAddressLookup",FETCH_SHARES:"fetchShares"};var log=log$1$1.getLogger("customauth");const loginToConnectionMap={[LOGIN.APPLE]:"apple",[LOGIN.GITHUB]:"github",[LOGIN.LINKEDIN]:"linkedin",[LOGIN.TWITTER]:"twitter",[LOGIN.WEIBO]:"weibo",[LOGIN.LINE]:"line",[LOGIN.EMAIL_PASSWORD]:"Username-Password-Authentication",[LOGIN.PASSWORDLESS]:"email"},padUrlString=a=>a.href.endsWith("/")?a.href:`${a.href}/`,randomId=()=>Math.random().toString(36).slice(2),broadcastChannelOptions={webWorkerSupport:!1};function caseSensitiveField(a,_){return _?a:a.toLowerCase()}const getVerifierId=function(a,_,$){let j=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;const{name:et,sub:tt}=a;if($)return caseSensitiveField(a[$],j);switch(_){case LOGIN.PASSWORDLESS:case LOGIN.EMAIL_PASSWORD:return caseSensitiveField(et,j);case LOGIN.WEIBO:case LOGIN.GITHUB:case LOGIN.TWITTER:case LOGIN.APPLE:case LOGIN.LINKEDIN:case LOGIN.LINE:case LOGIN.JWT:return caseSensitiveField(tt,j);default:throw new Error("Invalid login type")}},handleRedirectParameters=(a,_)=>{const $=a.split("&").reduce((tt,rt)=>{const[nt,it]=rt.split("=");return tt[nt]=it,tt},{});log.info($,_);let j={},et="";return Object.keys($).length>0&&$.state?(j=JSON.parse(atob(decodeURIComponent(decodeURIComponent($.state))))||{},et=$.error_description||$.error||et):Object.keys(_).length>0&&_.state&&(j=JSON.parse(atob(decodeURIComponent(decodeURIComponent(_.state))))||{},_.error&&(et=_.error)),{error:et,instanceParameters:j,hashParameters:$}};function storageAvailable(a){let _;try{_=window[a];const $="__storage_test__";return _.setItem($,$),_.removeItem($),!0}catch($){return $&&($.code===22||$.code===1014||$.name==="QuotaExceededError"||$.name==="NS_ERROR_DOM_QUOTA_REACHED")&&_&&_.length!==0}}function getPopupFeatures(){const a=window.screenLeft!==void 0?window.screenLeft:window.screenX,_=window.screenTop!==void 0?window.screenTop:window.screenY,$=1200,j=700,et=window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:window.screen.width,tt=window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:window.screen.height,rt=1,nt=Math.abs((et-$)/2/rt+a),it=Math.abs((tt-j)/2/rt+_);return`titlebar=0,toolbar=0,status=0,location=0,menubar=0,height=${j/rt},width=${$/rt},top=${it},left=${nt}`}const isFirefox=()=>{var a,_;return((a=window)===null||a===void 0||(_=a.navigator)===null||_===void 0?void 0:_.userAgent.toLowerCase().indexOf("firefox"))>-1||!1};function constructURL(a){const{baseURL:_,query:$,hash:j}=a,et=new URL(_);if($&&Object.keys($).forEach(tt=>{et.searchParams.append(tt,$[tt])}),j){const tt=new URL(constructURL({baseURL:_,query:j})).searchParams.toString();et.hash=tt}return et.toString()}function are3PCSupported(){var a;const _=Bowser.parse(navigator.userAgent);log.info(JSON.stringify(_),"current browser info");let $=!0;return(a=navigator)!==null&&a!==void 0&&a.brave&&($=!1),(_.engine.name===Bowser.ENGINE_MAP.WebKit||_.engine.name===Bowser.ENGINE_MAP.Gecko)&&($=!1),$}const validateAndConstructUrl=a=>{try{return new URL(decodeURIComponent(a))}catch(_){throw new Error(`${(_==null?void 0:_.message)||""}, Note: Your jwt domain: (i.e ${a}) must have http:// or https:// prefix`)}};function isMobileOrTablet(){const _=Bowser.getParser(navigator.userAgent).getPlatform();return _.type===Bowser.PLATFORMS_MAP.tablet||_.type===Bowser.PLATFORMS_MAP.mobile}function getTimeout(a){return(a===LOGIN.FACEBOOK||a===LOGIN.LINE)&&isMobileOrTablet()?1e3*60:1e3*10}class PopupHandler extends eventsExports.EventEmitter{constructor(_){let{url:$,target:j,features:et,timeout:tt=3e4}=_;super(),_defineProperty$4(this,"url",void 0),_defineProperty$4(this,"target",void 0),_defineProperty$4(this,"features",void 0),_defineProperty$4(this,"window",void 0),_defineProperty$4(this,"windowTimer",void 0),_defineProperty$4(this,"iClosedWindow",void 0),_defineProperty$4(this,"timeout",void 0),this.url=$,this.target=j||"_blank",this.features=et||getPopupFeatures(),this.window=void 0,this.windowTimer=void 0,this.iClosedWindow=!1,this.timeout=tt,this._setupTimer()}_setupTimer(){this.window&&(this.windowTimer=Number(setInterval(()=>{this.window&&this.window.closed&&(clearInterval(this.windowTimer),setTimeout(()=>{this.iClosedWindow||this.emit("close"),this.iClosedWindow=!1,this.window=void 0},this.timeout)),this.window===void 0&&clearInterval(this.windowTimer)},500)))}open(){var _;return this.window=window.open(this.url.href,this.target,this.features),(_=this.window)!==null&&_!==void 0&&_.focus&&this.window.focus(),Promise.resolve()}close(){this.iClosedWindow=!0,this.window&&this.window.close()}redirect(_){_?window.location.replace(this.url.href):window.location.href=this.url.href}}const _excluded$2=["access_token","id_token"];function ownKeys$2(a,_){var $=Object.keys(a);if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(a);_&&(j=j.filter(function(et){return Object.getOwnPropertyDescriptor(a,et).enumerable})),$.push.apply($,j)}return $}function _objectSpread$2(a){for(var _=1;_<arguments.length;_++){var $=arguments[_]!=null?arguments[_]:{};_%2?ownKeys$2(Object($),!0).forEach(function(j){_defineProperty$4(a,j,$[j])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors($)):ownKeys$2(Object($)).forEach(function(j){Object.defineProperty(a,j,Object.getOwnPropertyDescriptor($,j))})}return a}class AbstractLoginHandler{constructor(_,$,j,et,tt,rt,nt,it){_defineProperty$4(this,"clientId",void 0),_defineProperty$4(this,"verifier",void 0),_defineProperty$4(this,"redirect_uri",void 0),_defineProperty$4(this,"typeOfLogin",void 0),_defineProperty$4(this,"uxMode",void 0),_defineProperty$4(this,"redirectToOpener",void 0),_defineProperty$4(this,"jwtParams",void 0),_defineProperty$4(this,"customState",void 0),_defineProperty$4(this,"nonce",randomId()),_defineProperty$4(this,"finalURL",void 0),this.clientId=_,this.verifier=$,this.redirect_uri=j,this.typeOfLogin=et,this.uxMode=tt,this.redirectToOpener=rt,this.jwtParams=nt,this.customState=it}get state(){return encodeURIComponent(window.btoa(JSON.stringify(_objectSpread$2(_objectSpread$2({},this.customState||{}),{},{instanceId:this.nonce,verifier:this.verifier,typeOfLogin:this.typeOfLogin,redirectToOpener:this.redirectToOpener||!1}))))}handleLoginWindow(_){const $=new PopupHandler({url:this.finalURL,features:_.popupFeatures,timeout:getTimeout(this.typeOfLogin)});if(this.uxMode===UX_MODE.REDIRECT)$.redirect(_.locationReplaceOnRedirect);else return new Promise((j,et)=>{let tt;const rt=async nt=>{try{const{error:it,data:st}=nt,ot=st||{},{instanceParams:at,hashParams:{access_token:ut,id_token:ht}}=ot,yt=_objectWithoutProperties(ot.hashParams,_excluded$2);if(it){log.error(nt),et(new Error(`Error: ${it}. Info: ${JSON.stringify(nt.data||{})}`));return}nt.data&&at.verifier===this.verifier&&(log.info(nt.data),!this.redirectToOpener&&tt&&await tt.postMessage({success:!0}),j(_objectSpread$2(_objectSpread$2({accessToken:ut,idToken:ht||""},yt),{},{state:at})))}catch(it){log.error(it),et(it)}};if(!this.redirectToOpener)tt=new BroadcastChannel$1(`redirect_channel_${this.nonce}`,broadcastChannelOptions),tt.addEventListener("message",async nt=>{await rt(nt),tt.close(),$.close()});else{const nt=async it=>{if(!it.data)return;const st=it.data;st.channel===`redirect_channel_${this.nonce}`&&(window.removeEventListener("message",nt),rt(st),$.close())};window.addEventListener("message",nt)}$.open(),$.once("close",()=>{tt&&tt.close(),et(new Error("user closed popup"))})});return null}}class DiscordHandler extends AbstractLoginHandler{constructor(_,$,j,et,tt,rt,nt,it){super(_,$,j,et,tt,rt,nt,it),_defineProperty$4(this,"clientId",void 0),_defineProperty$4(this,"verifier",void 0),_defineProperty$4(this,"redirect_uri",void 0),_defineProperty$4(this,"typeOfLogin",void 0),_defineProperty$4(this,"uxMode",void 0),_defineProperty$4(this,"redirectToOpener",void 0),_defineProperty$4(this,"jwtParams",void 0),_defineProperty$4(this,"customState",void 0),_defineProperty$4(this,"RESPONSE_TYPE","token"),_defineProperty$4(this,"SCOPE","identify email"),this.clientId=_,this.verifier=$,this.redirect_uri=j,this.typeOfLogin=et,this.uxMode=tt,this.redirectToOpener=rt,this.jwtParams=nt,this.customState=it,this.setFinalUrl()}setFinalUrl(){const _=new URL("https://discord.com/api/oauth2/authorize"),$=JSON.parse(JSON.stringify(this.jwtParams||{})),j=deepmerge$1({state:this.state,response_type:this.RESPONSE_TYPE,client_id:this.clientId,redirect_uri:this.redirect_uri,scope:this.SCOPE},$);Object.keys(j).forEach(et=>{j[et]&&_.searchParams.append(et,j[et])}),this.finalURL=_}async getUserInfo(_){const{accessToken:$}=_,j=await get("https://discord.com/api/users/@me",{headers:{Authorization:`Bearer ${$}`}}),{id:et,avatar:tt,email:rt="",username:nt="",discriminator:it=""}=j;return{profileImage:tt===null?`https://cdn.discordapp.com/embed/avatars/${Number(it)%5}.png`:`https://cdn.discordapp.com/avatars/${et}/${tt}.png?size=2048`,name:`${nt}#${it}`,email:rt,verifierId:et,verifier:this.verifier,typeOfLogin:this.typeOfLogin}}}class FacebookHandler extends AbstractLoginHandler{constructor(_,$,j,et,tt,rt,nt,it){super(_,$,j,et,tt,rt,nt,it),_defineProperty$4(this,"clientId",void 0),_defineProperty$4(this,"verifier",void 0),_defineProperty$4(this,"redirect_uri",void 0),_defineProperty$4(this,"typeOfLogin",void 0),_defineProperty$4(this,"uxMode",void 0),_defineProperty$4(this,"redirectToOpener",void 0),_defineProperty$4(this,"jwtParams",void 0),_defineProperty$4(this,"customState",void 0),_defineProperty$4(this,"RESPONSE_TYPE","token"),_defineProperty$4(this,"SCOPE","public_profile email"),this.clientId=_,this.verifier=$,this.redirect_uri=j,this.typeOfLogin=et,this.uxMode=tt,this.redirectToOpener=rt,this.jwtParams=nt,this.customState=it,this.setFinalUrl()}setFinalUrl(){const _=new URL("https://www.facebook.com/v15.0/dialog/oauth"),$=JSON.parse(JSON.stringify(this.jwtParams||{})),j=deepmerge$1({state:this.state,response_type:this.RESPONSE_TYPE,client_id:this.clientId,redirect_uri:this.redirect_uri,scope:this.SCOPE},$);Object.keys(j).forEach(et=>{j[et]&&_.searchParams.append(et,j[et])}),this.finalURL=_}async getUserInfo(_){const{accessToken:$}=_,j=await get("https://graph.facebook.com/me?fields=name,email,picture.type(large)",{headers:{Authorization:`Bearer ${$}`}}),{name:et="",id:tt,picture:rt,email:nt=""}=j;return{email:nt,name:et,profileImage:rt.data.url||"",verifier:this.verifier,verifierId:tt,typeOfLogin:this.typeOfLogin}}}class GoogleHandler extends AbstractLoginHandler{constructor(_,$,j,et,tt,rt,nt,it){super(_,$,j,et,tt,rt,nt,it),_defineProperty$4(this,"clientId",void 0),_defineProperty$4(this,"verifier",void 0),_defineProperty$4(this,"redirect_uri",void 0),_defineProperty$4(this,"typeOfLogin",void 0),_defineProperty$4(this,"uxMode",void 0),_defineProperty$4(this,"redirectToOpener",void 0),_defineProperty$4(this,"jwtParams",void 0),_defineProperty$4(this,"customState",void 0),_defineProperty$4(this,"RESPONSE_TYPE","token id_token"),_defineProperty$4(this,"SCOPE","profile email openid"),_defineProperty$4(this,"PROMPT","consent select_account"),this.clientId=_,this.verifier=$,this.redirect_uri=j,this.typeOfLogin=et,this.uxMode=tt,this.redirectToOpener=rt,this.jwtParams=nt,this.customState=it,this.setFinalUrl()}setFinalUrl(){const _=new URL("https://accounts.google.com/o/oauth2/v2/auth"),$=JSON.parse(JSON.stringify(this.jwtParams||{})),j=deepmerge$1({state:this.state,response_type:this.RESPONSE_TYPE,client_id:this.clientId,prompt:this.PROMPT,redirect_uri:this.redirect_uri,scope:this.SCOPE,nonce:this.nonce},$);Object.keys(j).forEach(et=>{j[et]&&_.searchParams.append(et,j[et])}),this.finalURL=_}async getUserInfo(_){const{accessToken:$}=_,j=await get("https://www.googleapis.com/userinfo/v2/me",{headers:{Authorization:`Bearer ${$}`}}),{picture:et="",email:tt="",name:rt=""}=j;return{email:tt,name:rt,profileImage:et,verifier:this.verifier,verifierId:tt.toLowerCase(),typeOfLogin:this.typeOfLogin}}}let JwtHandler$1=class extends AbstractLoginHandler{constructor(_,$,j,et,tt,rt,nt,it){super(_,$,j,et,tt,rt,nt,it),_defineProperty$4(this,"clientId",void 0),_defineProperty$4(this,"verifier",void 0),_defineProperty$4(this,"redirect_uri",void 0),_defineProperty$4(this,"typeOfLogin",void 0),_defineProperty$4(this,"uxMode",void 0),_defineProperty$4(this,"redirectToOpener",void 0),_defineProperty$4(this,"jwtParams",void 0),_defineProperty$4(this,"customState",void 0),_defineProperty$4(this,"SCOPE","openid profile email"),_defineProperty$4(this,"RESPONSE_TYPE","token id_token"),_defineProperty$4(this,"PROMPT","login"),this.clientId=_,this.verifier=$,this.redirect_uri=j,this.typeOfLogin=et,this.uxMode=tt,this.redirectToOpener=rt,this.jwtParams=nt,this.customState=it,this.setFinalUrl()}setFinalUrl(){const{domain:_}=this.jwtParams,$=validateAndConstructUrl(_);$.pathname+=$.pathname.endsWith("/")?"authorize":"/authorize";const j=JSON.parse(JSON.stringify(this.jwtParams));delete j.domain;const et=deepmerge$1({state:this.state,response_type:this.RESPONSE_TYPE,client_id:this.clientId,prompt:this.PROMPT,redirect_uri:this.redirect_uri,scope:this.SCOPE,connection:loginToConnectionMap[this.typeOfLogin],nonce:this.nonce},j);Object.keys(et).forEach(tt=>{et[tt]&&$.searchParams.append(tt,et[tt])}),this.finalURL=$}async getUserInfo(_){const{idToken:$,accessToken:j}=_,{domain:et,verifierIdField:tt,isVerifierIdCaseSensitive:rt,user_info_route:nt="userinfo"}=this.jwtParams;if(j)try{const it=new URL(et),st=await get(`${padUrlString(it)}${nt}`,{headers:{Authorization:`Bearer ${j}`}}),{picture:ot,name:at,email:ut}=st;return{email:ut,name:at,profileImage:ot,verifierId:getVerifierId(st,this.typeOfLogin,tt,rt),verifier:this.verifier,typeOfLogin:this.typeOfLogin}}catch(it){log$1$1.warn(it,"Unable to get userinfo from endpoint")}if($){const it=o($),{name:st,email:ot,picture:at}=it;return{profileImage:at,name:st,email:ot,verifierId:getVerifierId(it,this.typeOfLogin,tt,rt),verifier:this.verifier,typeOfLogin:this.typeOfLogin}}throw new Error("Access/id token not available")}};class MockLoginHandler extends AbstractLoginHandler{constructor(_,$,j,et,tt,rt,nt,it){super(_,$,j,et,tt,rt,nt,it),_defineProperty$4(this,"clientId",void 0),_defineProperty$4(this,"verifier",void 0),_defineProperty$4(this,"redirect_uri",void 0),_defineProperty$4(this,"typeOfLogin",void 0),_defineProperty$4(this,"uxMode",void 0),_defineProperty$4(this,"redirectToOpener",void 0),_defineProperty$4(this,"jwtParams",void 0),_defineProperty$4(this,"customState",void 0),this.clientId=_,this.verifier=$,this.redirect_uri=j,this.typeOfLogin=et,this.uxMode=tt,this.redirectToOpener=rt,this.jwtParams=nt,this.customState=it,this.setFinalUrl()}setFinalUrl(){const _=JSON.parse(JSON.stringify(this.jwtParams));delete _.domain;const $=deepmerge$1({state:this.state,client_id:this.clientId,nonce:this.nonce},_);this.finalURL=new URL(constructURL({baseURL:this.redirect_uri,query:null,hash:$}))}async getUserInfo(_){const{idToken:$,accessToken:j}=_,{domain:et,verifierIdField:tt,isVerifierIdCaseSensitive:rt,user_info_route:nt="userinfo"}=this.jwtParams;if(j)try{const it=new URL(et),st=await get(`${padUrlString(it)}${nt}`,{headers:{Authorization:`Bearer ${j}`}}),{picture:ot,name:at,email:ut}=st;return{email:ut,name:at,profileImage:ot,verifierId:getVerifierId(st,this.typeOfLogin,tt,rt),verifier:this.verifier,typeOfLogin:this.typeOfLogin}}catch(it){log$1$1.warn(it,"Unable to get userinfo from endpoint")}if($){const it=o($),{name:st,email:ot,picture:at}=it;return{profileImage:at,name:st,email:ot,verifierId:getVerifierId(it,this.typeOfLogin,tt,rt),verifier:this.verifier,typeOfLogin:this.typeOfLogin}}throw new Error("Access/id token not available")}handleLoginWindow(_){const{id_token:$,access_token:j}=this.jwtParams,et=new PopupHandler({url:this.finalURL,features:_.popupFeatures});if(this.uxMode===UX_MODE.REDIRECT)et.redirect(_.locationReplaceOnRedirect);else return Promise.resolve({state:{},idToken:$,accessToken:j});return null}}const _excluded$1=["access_token","id_token"];function ownKeys$1$1(a,_){var $=Object.keys(a);if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(a);_&&(j=j.filter(function(et){return Object.getOwnPropertyDescriptor(a,et).enumerable})),$.push.apply($,j)}return $}function _objectSpread$1$1(a){for(var _=1;_<arguments.length;_++){var $=arguments[_]!=null?arguments[_]:{};_%2?ownKeys$1$1(Object($),!0).forEach(function(j){_defineProperty$4(a,j,$[j])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors($)):ownKeys$1$1(Object($)).forEach(function(j){Object.defineProperty(a,j,Object.getOwnPropertyDescriptor($,j))})}return a}class JwtHandler extends AbstractLoginHandler{constructor(_,$,j,et,tt,rt,nt,it){super(_,$,j,et,tt,rt,nt,it),_defineProperty$4(this,"clientId",void 0),_defineProperty$4(this,"verifier",void 0),_defineProperty$4(this,"redirect_uri",void 0),_defineProperty$4(this,"typeOfLogin",void 0),_defineProperty$4(this,"uxMode",void 0),_defineProperty$4(this,"redirectToOpener",void 0),_defineProperty$4(this,"jwtParams",void 0),_defineProperty$4(this,"customState",void 0),_defineProperty$4(this,"SCOPE","openid profile email"),_defineProperty$4(this,"RESPONSE_TYPE","token id_token"),_defineProperty$4(this,"PROMPT","login"),this.clientId=_,this.verifier=$,this.redirect_uri=j,this.typeOfLogin=et,this.uxMode=tt,this.redirectToOpener=rt,this.jwtParams=nt,this.customState=it,this.setFinalUrl()}setFinalUrl(){const{domain:_}=this.jwtParams,$=validateAndConstructUrl(_);$.pathname="/passwordless/start",this.finalURL=$}async getUserInfo(_){const{idToken:$,accessToken:j}=_,{domain:et,verifierIdField:tt,isVerifierIdCaseSensitive:rt}=this.jwtParams;try{const nt=new URL(et),it=await get(`${padUrlString(nt)}userinfo`,{headers:{Authorization:`Bearer ${j}`}}),{picture:st,name:ot,email:at}=it;return{email:at,name:ot,profileImage:st,verifierId:getVerifierId(it,this.typeOfLogin,tt,rt),verifier:this.verifier,typeOfLogin:this.typeOfLogin}}catch(nt){log.error(nt);const it=o($),{name:st,email:ot,picture:at}=it;return{profileImage:at,name:st,email:ot,verifierId:getVerifierId(it,this.typeOfLogin,tt,rt),verifier:this.verifier,typeOfLogin:this.typeOfLogin}}}handleLoginWindow(){return new Promise((_,$)=>{if(this.redirectToOpener){$(new Error("Cannot use redirect to opener for passwordless"));return}const j=tt=>{try{const{error:rt,data:nt}=tt,it=nt||{},{instanceParams:st,hashParams:{access_token:ot,id_token:at}}=it,ut=_objectWithoutProperties(it.hashParams,_excluded$1);if(rt){log.error(tt.error),$(new Error(rt));return}tt.data&&st.verifier===this.verifier&&(log.info(tt.data),_(_objectSpread$1$1(_objectSpread$1$1({accessToken:ot,idToken:at||""},ut),{},{state:st})))}catch(rt){log.error(rt),$(rt)}},et=new BroadcastChannel$1(`redirect_channel_${this.nonce}`,broadcastChannelOptions);et.addEventListener("message",async tt=>{j(tt),et.close()});try{const{connection:tt="email",login_hint:rt}=this.jwtParams,nt=deepmerge$1({client_id:this.clientId,connection:tt,email:tt==="email"?rt:void 0,phone_number:tt==="sms"?rt:void 0,send:"link",authParams:{scope:this.SCOPE,state:this.state,response_type:this.RESPONSE_TYPE,redirect_uri:this.redirect_uri,nonce:this.nonce,prompt:this.PROMPT}},{authParams:this.jwtParams});post(this.finalURL.href,JSON.parse(JSON.stringify(nt))).then(it=>{log.info("posted",it)}).catch(it=>{log.error(it),$(it)})}catch(tt){log.error(tt),$(tt)}})}}class RedditHandler extends AbstractLoginHandler{constructor(_,$,j,et,tt,rt,nt,it){super(_,$,j,et,tt,rt,nt,it),_defineProperty$4(this,"clientId",void 0),_defineProperty$4(this,"verifier",void 0),_defineProperty$4(this,"redirect_uri",void 0),_defineProperty$4(this,"typeOfLogin",void 0),_defineProperty$4(this,"uxMode",void 0),_defineProperty$4(this,"redirectToOpener",void 0),_defineProperty$4(this,"jwtParams",void 0),_defineProperty$4(this,"customState",void 0),_defineProperty$4(this,"RESPONSE_TYPE","token"),_defineProperty$4(this,"SCOPE","identity"),this.clientId=_,this.verifier=$,this.redirect_uri=j,this.typeOfLogin=et,this.uxMode=tt,this.redirectToOpener=rt,this.jwtParams=nt,this.customState=it,this.setFinalUrl()}setFinalUrl(){const _=new URL(`https://www.reddit.com/api/v1/authorize${window.innerWidth<600?".compact":""}`),$=JSON.parse(JSON.stringify(this.jwtParams||{})),j=deepmerge$1({state:this.state,response_type:this.RESPONSE_TYPE,client_id:this.clientId,redirect_uri:this.redirect_uri,scope:this.SCOPE},$);Object.keys(j).forEach(et=>{j[et]&&_.searchParams.append(et,j[et])}),this.finalURL=_}async getUserInfo(_){const{accessToken:$}=_,j=await get("https://oauth.reddit.com/api/v1/me",{headers:{Authorization:`Bearer ${$}`}}),{icon_img:et="",name:tt=""}=j;return{email:"",name:tt,profileImage:et.split("?").length>0?et.split("?")[0]:et,verifier:this.verifier,verifierId:tt.toLowerCase(),typeOfLogin:this.typeOfLogin}}}class TwitchHandler extends AbstractLoginHandler{constructor(_,$,j,et,tt,rt,nt,it){super(_,$,j,et,tt,rt,nt,it),_defineProperty$4(this,"clientId",void 0),_defineProperty$4(this,"verifier",void 0),_defineProperty$4(this,"redirect_uri",void 0),_defineProperty$4(this,"typeOfLogin",void 0),_defineProperty$4(this,"uxMode",void 0),_defineProperty$4(this,"redirectToOpener",void 0),_defineProperty$4(this,"jwtParams",void 0),_defineProperty$4(this,"customState",void 0),_defineProperty$4(this,"RESPONSE_TYPE","token"),_defineProperty$4(this,"SCOPE","user:read:email"),this.clientId=_,this.verifier=$,this.redirect_uri=j,this.typeOfLogin=et,this.uxMode=tt,this.redirectToOpener=rt,this.jwtParams=nt,this.customState=it,this.setFinalUrl()}setFinalUrl(){const _=new URL("https://id.twitch.tv/oauth2/authorize"),$=JSON.parse(JSON.stringify(this.jwtParams||{})),j=deepmerge$1({state:this.state,response_type:this.RESPONSE_TYPE,client_id:this.clientId,redirect_uri:this.redirect_uri,scope:this.SCOPE,force_verify:!0},$);Object.keys(j).forEach(et=>{j[et]&&_.searchParams.append(et,j[et])}),this.finalURL=_}async getUserInfo(_){const{accessToken:$}=_,j=await get("https://api.twitch.tv/helix/users",{headers:{Authorization:`Bearer ${$}`,"Client-ID":this.clientId}}),[{profile_image_url:et="",display_name:tt="",email:rt="",id:nt}]=j.data||[];return{profileImage:et,name:tt,email:rt,verifierId:nt,verifier:this.verifier,typeOfLogin:this.typeOfLogin}}}const WEBAUTHN_LOOKUP_SERVER="https://api.webauthn.openlogin.com";class WebAuthnHandler extends AbstractLoginHandler{constructor(_,$,j,et,tt,rt,nt,it,st){super(_,$,j,et,tt,rt,nt,it),_defineProperty$4(this,"clientId",void 0),_defineProperty$4(this,"verifier",void 0),_defineProperty$4(this,"redirect_uri",void 0),_defineProperty$4(this,"typeOfLogin",void 0),_defineProperty$4(this,"uxMode",void 0),_defineProperty$4(this,"redirectToOpener",void 0),_defineProperty$4(this,"jwtParams",void 0),_defineProperty$4(this,"customState",void 0),_defineProperty$4(this,"registerOnly",void 0),this.clientId=_,this.verifier=$,this.redirect_uri=j,this.typeOfLogin=et,this.uxMode=tt,this.redirectToOpener=rt,this.jwtParams=nt,this.customState=it,this.registerOnly=st,this.setFinalUrl()}setFinalUrl(){const{webauthnURL:_}=this.customState||{},$=_?new URL(_):new URL("https://webauthn.openlogin.com"),j=JSON.parse(JSON.stringify(this.jwtParams||{})),et=deepmerge$1({register_only:!!this.registerOnly,state:this.state,client_id:this.clientId,redirect_uri:this.redirect_uri},j);Object.keys(et).forEach(tt=>{et[tt]&&$.searchParams.append(tt,et[tt])}),this.finalURL=$}async getUserInfo(_){const{idToken:$,ref:j,extraParamsPassed:et,extraParams:tt}=_;let rt,nt,it,st,ot,at,ut,ht,yt;if(et==="true"){log.debug("extraParamsPassed is true, using extraParams passed through hashParams");try{({verifier_id:rt,signature:nt,clientDataJSON:it,authenticatorData:st,publicKey:ot,challenge:at,rpOrigin:ut,credId:ht,transports:yt}=JSON.parse(atob(tt)))}catch(wt){log.warn("unable to parse extraParams",wt),{verifier_id:rt,signature:nt,clientDataJSON:it,authenticatorData:st,publicKey:ot,challenge:at,rpOrigin:ut,credId:ht,transports:yt}=await get(`${WEBAUTHN_LOOKUP_SERVER}/signature/fetch/${$}`)}}else log.debug("extraParamsPassed is false, using extraParams passed through bridge server"),{verifier_id:rt,signature:nt,clientDataJSON:it,authenticatorData:st,publicKey:ot,challenge:at,rpOrigin:ut,credId:ht,transports:yt}=await get(`${WEBAUTHN_LOOKUP_SERVER}/signature/fetch/${$}`);if(nt!==$)throw new Error("idtoken should be equal to signature");return{email:"",name:"WebAuthn Login",profileImage:"",verifier:this.verifier,verifierId:rt,typeOfLogin:this.typeOfLogin,ref:j,registerOnly:this.registerOnly,extraVerifierParams:{signature:nt,clientDataJSON:it,authenticatorData:st,publicKey:ot,challenge:at,rpOrigin:ut,credId:ht,transports:yt}}}}const createHandler=a=>{let{clientId:_,redirect_uri:$,typeOfLogin:j,verifier:et,jwtParams:tt,redirectToOpener:rt,uxMode:nt,customState:it,registerOnly:st}=a;if(!et||!j||!_)throw new Error("Invalid params");const{domain:ot,login_hint:at,id_token:ut,access_token:ht}=tt||{};switch(j){case LOGIN.GOOGLE:return new GoogleHandler(_,et,$,j,nt,rt,tt,it);case LOGIN.FACEBOOK:return new FacebookHandler(_,et,$,j,nt,rt,tt,it);case LOGIN.TWITCH:return new TwitchHandler(_,et,$,j,nt,rt,tt,it);case LOGIN.REDDIT:return new RedditHandler(_,et,$,j,nt,rt,tt,it);case LOGIN.DISCORD:return new DiscordHandler(_,et,$,j,nt,rt,tt,it);case LOGIN.PASSWORDLESS:if(!ot||!at)throw new Error("Invalid params");return new JwtHandler(_,et,$,j,nt,rt,tt,it);case LOGIN.APPLE:case LOGIN.GITHUB:case LOGIN.LINKEDIN:case LOGIN.TWITTER:case LOGIN.WEIBO:case LOGIN.LINE:case LOGIN.EMAIL_PASSWORD:case LOGIN.JWT:if(ut||ht)return new MockLoginHandler(_,et,$,j,nt,rt,tt,it);if(!ot)throw new Error("Invalid params");return new JwtHandler$1(_,et,$,j,nt,rt,tt,it);case LOGIN.WEBAUTHN:return new WebAuthnHandler(_,et,$,j,nt,rt,tt,it,st);default:throw new Error("Invalid login type")}},registerServiceWorker=a=>new Promise((_,$)=>{const j=`${a}sw.js`;"serviceWorker"in window.navigator?register(j,{ready(){log.info(`App is being served from cache by a service worker.
 For more details, visit https://goo.gl/AFskqB`),_(void 0)},registered(){log.info("Service worker has been registered."),_(void 0)},cached(){log.info("Content has been cached for offline use."),_(void 0)},updatefound(){log.info("New content is downloading.")},updated(){log.info("New content is available; please refresh.")},offline(){log.info("No internet connection found. App is running in offline mode."),$(new Error("App is offline"))},error(et){log.error("Error during service worker registration:",et),$(et)}}):$(new Error("Service workers are not supported"))});class SentryHandler{constructor(_){_defineProperty$4(this,"sentry",null),this.sentry=_}startTransaction(_){if(this.sentry)return this.sentry.startTransaction(_)}finishTransaction(_){_&&_.finish()}}class StorageHelper{constructor(_){_defineProperty$4(this,"currentStorageMethod",REDIRECT_PARAMS_STORAGE_METHOD.LOCAL_STORAGE),_defineProperty$4(this,"isInitialized",!1),_defineProperty$4(this,"storageServerUrl","https://broadcast-server.tor.us"),this.storageServerUrl=_}init(){const _=are3PCSupported(),$=storageAvailable(REDIRECT_PARAMS_STORAGE_METHOD.LOCAL_STORAGE);_&&$?this.currentStorageMethod=REDIRECT_PARAMS_STORAGE_METHOD.LOCAL_STORAGE:this.currentStorageMethod=REDIRECT_PARAMS_STORAGE_METHOD.SERVER,this.isInitialized=!0}async storeLoginDetails(_,$){if(!this.isInitialized)throw new Error("StorageHelper is not initialized");if(this.currentStorageMethod===REDIRECT_PARAMS_STORAGE_METHOD.SERVER){const j=keccak256(Buffer$g.from($,"utf8")),et=j.toString("hex"),tt=getPublic(j).toString("hex"),rt=await encryptData(et,_),nt=(await sign(j,keccak256(Buffer$g.from(rt,"utf8")))).toString("hex");await post(`${this.storageServerUrl}/store/set`,{key:tt,data:rt,signature:nt})}else window.localStorage.setItem(`torus_login_${$}`,JSON.stringify(_))}async retrieveLoginDetails(_){if(!this.isInitialized)throw new Error("StorageHelper is not initialized");if(this.currentStorageMethod===REDIRECT_PARAMS_STORAGE_METHOD.SERVER){const j=keccak256(Buffer$g.from(_,"utf8")),et=j.toString("hex"),tt=getPublic(j).toString("hex");try{const rt=await get(`${this.storageServerUrl}/store/get?key=${tt}`);if(rt.message)return await decryptData(et,rt.message)}catch(rt){if(rt.status===404)log.warn(rt,"Session likely expired");else throw rt}}const $=window.localStorage.getItem(`torus_login_${_}`);return JSON.parse($||"{}")}clearLoginDetailsStorage(_){if(!this.isInitialized)throw new Error("StorageHelper is not initialized");this.currentStorageMethod===REDIRECT_PARAMS_STORAGE_METHOD.LOCAL_STORAGE&&window.localStorage.removeItem(`torus_login_${_}`)}clearOrphanedLoginDetails(){if(!this.isInitialized)throw new Error("StorageHelper is not initialized");this.currentStorageMethod===REDIRECT_PARAMS_STORAGE_METHOD.LOCAL_STORAGE&&Object.keys(window.localStorage).forEach($=>{$.startsWith("torus_login_")&&window.localStorage.removeItem($)})}}const _excluded=["access_token","id_token"],_excluded2=["access_token","id_token"],_excluded3=["access_token","id_token"],_excluded4=["args","method"];function ownKeys$3(a,_){var $=Object.keys(a);if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(a);_&&(j=j.filter(function(et){return Object.getOwnPropertyDescriptor(a,et).enumerable})),$.push.apply($,j)}return $}function _objectSpread$3(a){for(var _=1;_<arguments.length;_++){var $=arguments[_]!=null?arguments[_]:{};_%2?ownKeys$3(Object($),!0).forEach(function(j){_defineProperty$4(a,j,$[j])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors($)):ownKeys$3(Object($)).forEach(function(j){Object.defineProperty(a,j,Object.getOwnPropertyDescriptor($,j))})}return a}class CustomAuth{constructor(_){let{baseUrl:$,network:j,enableLogging:et=!1,redirectToOpener:tt=!1,redirectPathName:rt="redirect",apiKey:nt="torus-default",uxMode:it=UX_MODE.POPUP,locationReplaceOnRedirect:st=!1,popupFeatures:ot,storageServerUrl:at="https://broadcast-server.tor.us",sentry:ut,enableOneKey:ht=!1,web3AuthClientId:yt,metadataUrl:wt="https://metadata.tor.us"}=_;if(_defineProperty$4(this,"isInitialized",void 0),_defineProperty$4(this,"config",void 0),_defineProperty$4(this,"torus",void 0),_defineProperty$4(this,"nodeDetailManager",void 0),_defineProperty$4(this,"storageHelper",void 0),_defineProperty$4(this,"sentryHandler",void 0),!yt)throw new Error("Please provide a valid web3AuthClientId in constructor");if(!j)throw new Error("Please provide a valid network in constructor");this.isInitialized=!1;const Ct=new URL($);this.config={baseUrl:padUrlString(Ct),get redirect_uri(){return`${this.baseUrl}${rt}`},redirectToOpener:tt,uxMode:it,locationReplaceOnRedirect:st,popupFeatures:ot};const Pt=new Torus({network:j,clientId:yt,enableOneKey:ht,legacyMetadataHost:wt});Torus.setAPIKey(nt),this.torus=Pt,this.nodeDetailManager=new NodeDetailManager({network:j}),et?log.enableAll():log.disableAll(),this.storageHelper=new StorageHelper(at),this.sentryHandler=new SentryHandler(ut)}async init(){let{skipSw:_=!1,skipInit:$=!1,skipPrefetch:j=!1}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(this.storageHelper.init(),$){this.isInitialized=!0;return}if(!_)if((await fetch(`${this.config.baseUrl}sw.js`,{cache:"reload"})).ok)try{await registerServiceWorker(this.config.baseUrl),this.isInitialized=!0;return}catch(tt){log.warn(tt)}else throw new Error("Service worker is not being served. Please serve it");if(!j){if(isFirefox()){this.isInitialized=!0;return}await this.handlePrefetchRedirectUri();return}this.isInitialized=!0}async triggerLogin(_){const{verifier:$,typeOfLogin:j,clientId:et,jwtParams:tt,hash:rt,queryParameters:nt,customState:it,registerOnly:st}=_;if(log.info("Verifier: ",$),!this.isInitialized)throw new Error("Not initialized yet");if(st&&j!==LOGIN.WEBAUTHN)throw new Error("registerOnly flag can only be passed for webauthn");const ot=createHandler({typeOfLogin:j,clientId:et,verifier:$,redirect_uri:this.config.redirect_uri,redirectToOpener:this.config.redirectToOpener,jwtParams:tt,uxMode:this.config.uxMode,customState:it,registerOnly:st});let at;if(rt&&nt){const{error:yt,hashParameters:wt,instanceParameters:Ct}=handleRedirectParameters(rt,nt);if(yt)throw new Error(yt);const{access_token:Pt,id_token:Tt}=wt,Mt=_objectWithoutProperties(wt,_excluded);at=_objectSpread$3(_objectSpread$3({accessToken:Pt,idToken:Tt},Mt),{},{state:Ct})}else if(this.storageHelper.clearOrphanedLoginDetails(),this.config.uxMode===UX_MODE.REDIRECT&&await this.storageHelper.storeLoginDetails({method:TORUS_METHOD.TRIGGER_LOGIN,args:_},ot.nonce),at=await ot.handleLoginWindow({locationReplaceOnRedirect:this.config.locationReplaceOnRedirect,popupFeatures:this.config.popupFeatures}),this.config.uxMode===UX_MODE.REDIRECT)return null;const ut=await ot.getUserInfo(at);if(st){const yt=this.sentryHandler.startTransaction({name:SENTRY_TXNS.FETCH_NODE_DETAILS}),wt=await this.nodeDetailManager.getNodeDetails({verifier:$,verifierId:ut.verifierId});this.sentryHandler.finishTransaction(yt);const Ct=this.sentryHandler.startTransaction({name:SENTRY_TXNS.PUB_ADDRESS_LOOKUP}),Pt=await this.torus.getPublicAddress(wt.torusNodeEndpoints,wt.torusNodePub,{verifier:$,verifierId:ut.verifierId});this.sentryHandler.finishTransaction(Ct);const Tt={userInfo:_objectSpread$3(_objectSpread$3({},ut),at)};return _objectSpread$3(_objectSpread$3(_objectSpread$3({},Tt),Pt),{},{finalKeyData:_objectSpread$3(_objectSpread$3({},Pt.finalKeyData),{},{privKey:void 0}),oAuthKeyData:_objectSpread$3(_objectSpread$3({},Pt.finalKeyData),{},{privKey:void 0}),metadata:_objectSpread$3(_objectSpread$3({},Pt.metadata),{},{nonce:void 0}),sessionData:void 0})}const ht=await this.getTorusKey($,ut.verifierId,{verifier_id:ut.verifierId},at.idToken||at.accessToken,ut.extraVerifierParams);return _objectSpread$3(_objectSpread$3({},ht),{},{userInfo:_objectSpread$3(_objectSpread$3({},ut),at)})}async triggerAggregateLogin(_){const{aggregateVerifierType:$,verifierIdentifier:j,subVerifierDetailsArray:et}=_;if(!this.isInitialized)throw new Error("Not initialized yet");if(!$||!j||!Array.isArray(et))throw new Error("Invalid params");if($===AGGREGATE_VERIFIER.SINGLE_VERIFIER_ID&&et.length!==1)throw new Error("Single id verifier can only have one sub verifier");const tt=[],rt=[];for(const wt of et){const{clientId:Ct,typeOfLogin:Pt,verifier:Tt,jwtParams:Mt,hash:Lt,queryParameters:Dt,customState:Ut}=wt,Ot=createHandler({typeOfLogin:Pt,clientId:Ct,verifier:Tt,redirect_uri:this.config.redirect_uri,redirectToOpener:this.config.redirectToOpener,jwtParams:Mt,uxMode:this.config.uxMode,customState:Ut});let It;if(Lt&&Dt){const{error:Bt,hashParameters:Ft,instanceParameters:jt}=handleRedirectParameters(Lt,Dt);if(Bt)throw new Error(Bt);const{access_token:bt,id_token:vt}=Ft,ct=_objectWithoutProperties(Ft,_excluded2);It=_objectSpread$3(_objectSpread$3({accessToken:bt,idToken:vt},ct),{},{state:jt})}else if(this.storageHelper.clearOrphanedLoginDetails(),this.config.uxMode===UX_MODE.REDIRECT&&await this.storageHelper.storeLoginDetails({method:TORUS_METHOD.TRIGGER_AGGREGATE_LOGIN,args:_},Ot.nonce),It=await Ot.handleLoginWindow({locationReplaceOnRedirect:this.config.locationReplaceOnRedirect,popupFeatures:this.config.popupFeatures}),this.config.uxMode===UX_MODE.REDIRECT)return null;tt.push(Ot.getUserInfo(It)),rt.push(It)}const it=(await Promise.all(tt)).map(wt=>_objectSpread$3(_objectSpread$3({},wt),{},{aggregateVerifier:j})),st={verify_params:[],sub_verifier_ids:[],verifier_id:""},ot=[];let at="",ut={};for(let wt=0;wt<et.length;wt+=1){const Ct=rt[wt],{idToken:Pt,accessToken:Tt}=Ct,Mt=it[wt];st.verify_params.push({verifier_id:Mt.verifierId,idtoken:Pt||Tt}),st.sub_verifier_ids.push(Mt.verifier),ot.push(Pt||Tt),at=Mt.verifierId,ut=Mt.extraVerifierParams}ot.sort();const ht=keccak256$1(Buffer$g.from(ot.join(""),"utf8")).slice(2);st.verifier_id=at;const yt=await this.getTorusKey(j,at,st,ht,ut);return _objectSpread$3(_objectSpread$3({},yt),{},{userInfo:it.map((wt,Ct)=>_objectSpread$3(_objectSpread$3({},wt),rt[Ct]))})}async triggerHybridAggregateLogin(_){const{singleLogin:$,aggregateLoginParams:j}=_;if(!this.isInitialized)throw new Error("Not initialized yet");if(!j.aggregateVerifierType||!j.verifierIdentifier||!Array.isArray(j.subVerifierDetailsArray))throw new Error("Invalid params");if(j.aggregateVerifierType===AGGREGATE_VERIFIER.SINGLE_VERIFIER_ID&&j.subVerifierDetailsArray.length!==1)throw new Error("Single id verifier can only have one sub verifier");const{typeOfLogin:et,clientId:tt,verifier:rt,jwtParams:nt,hash:it,queryParameters:st,customState:ot}=$,at=createHandler({typeOfLogin:et,clientId:tt,verifier:rt,redirect_uri:this.config.redirect_uri,redirectToOpener:this.config.redirectToOpener,jwtParams:nt,uxMode:this.config.uxMode,customState:ot});let ut;if(it&&st){const{error:It,hashParameters:Bt,instanceParameters:Ft}=handleRedirectParameters(it,st);if(It)throw new Error(It);const{access_token:jt,id_token:bt}=Bt,vt=_objectWithoutProperties(Bt,_excluded3);ut=_objectSpread$3(_objectSpread$3({accessToken:jt,idToken:bt},vt),{},{state:Ft})}else if(this.storageHelper.clearOrphanedLoginDetails(),this.config.uxMode===UX_MODE.REDIRECT&&await this.storageHelper.storeLoginDetails({method:TORUS_METHOD.TRIGGER_AGGREGATE_HYBRID_LOGIN,args:_},at.nonce),ut=await at.handleLoginWindow({locationReplaceOnRedirect:this.config.locationReplaceOnRedirect,popupFeatures:this.config.popupFeatures}),this.config.uxMode===UX_MODE.REDIRECT)return null;const ht=await at.getUserInfo(ut),yt=this.getTorusKey(rt,ht.verifierId,{verifier_id:ht.verifierId},ut.idToken||ut.accessToken,ht.extraVerifierParams),{verifierIdentifier:wt,subVerifierDetailsArray:Ct}=j,Pt={verify_params:[],sub_verifier_ids:[],verifier_id:""},Tt=[];let Mt="";for(let It=0;It<Ct.length;It+=1){const Bt=Ct[It],{idToken:Ft,accessToken:jt}=ut;Pt.verify_params.push({verifier_id:ht.verifierId,idtoken:Ft||jt}),Pt.sub_verifier_ids.push(Bt.verifier),Tt.push(Ft||jt),Mt=ht.verifierId}Tt.sort();const Lt=keccak256$1(Buffer$g.from(Tt.join(""),"utf8")).slice(2);Pt.verifier_id=Mt;const Dt=this.getTorusKey(wt,Mt,Pt,Lt,ht.extraVerifierParams),[Ut,Ot]=await Promise.all([yt,Dt]);return{singleLogin:_objectSpread$3({userInfo:_objectSpread$3(_objectSpread$3({},ht),ut)},Ut),aggregateLogins:[Ot]}}async getTorusKey(_,$,j,et,tt){const rt=this.sentryHandler.startTransaction({name:SENTRY_TXNS.FETCH_NODE_DETAILS}),nt=await this.nodeDetailManager.getNodeDetails({verifier:_,verifierId:$});if(this.sentryHandler.finishTransaction(rt),this.torus.isLegacyNetwork){const ot=this.sentryHandler.startTransaction({name:SENTRY_TXNS.PUB_ADDRESS_LOOKUP}),at=await this.torus.getPublicAddress(nt.torusNodeEndpoints,nt.torusNodePub,{verifier:_,verifierId:$});this.sentryHandler.finishTransaction(ot),log.debug("torus-direct/getTorusKey",{getPublicAddress:at})}log.debug("torus-direct/getTorusKey",{torusNodeEndpoints:nt.torusNodeEndpoints});const it=this.sentryHandler.startTransaction({name:SENTRY_TXNS.FETCH_SHARES}),st=await this.torus.retrieveShares(nt.torusNodeEndpoints,nt.torusIndexes,_,j,et,_objectSpread$3({},tt));return this.sentryHandler.finishTransaction(it),log.debug("torus-direct/getTorusKey",{retrieveShares:st}),st}async getAggregateTorusKey(_,$,j){const et={verify_params:[],sub_verifier_ids:[],verifier_id:""},tt=[];let rt={};for(let it=0;it<j.length;it+=1){const st=j[it];et.verify_params.push({verifier_id:$,idtoken:st.idToken}),et.sub_verifier_ids.push(st.verifier),tt.push(st.idToken),rt=st.extraVerifierParams}tt.sort();const nt=keccak256$1(Buffer$g.from(tt.join(""),"utf8")).slice(2);return et.verifier_id=$,this.getTorusKey(_,$,et,nt,rt)}async getRedirectResult(){let{replaceUrl:_=!0,clearLoginDetails:$=!0}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};await this.init({skipInit:!0});const j=new URL(window.location.href),et=j.hash.substring(1),tt={};if(j.searchParams.forEach((wt,Ct)=>{tt[Ct]=wt}),_){const wt=window.location.origin+window.location.pathname;window.history.replaceState(_objectSpread$3(_objectSpread$3({},window.history.state),{},{as:wt,url:wt}),"",wt)}if(!et&&Object.keys(tt).length===0)throw new Error("Unable to fetch result from OAuth login");const{error:rt,instanceParameters:nt,hashParameters:it}=handleRedirectParameters(et,tt),{instanceId:st}=nt;log.info(st,"instanceId");const ot=await this.storageHelper.retrieveLoginDetails(st),{args:at,method:ut}=ot,ht=_objectWithoutProperties(ot,_excluded4);if(log.info(at,ut),$&&this.storageHelper.clearLoginDetailsStorage(st),rt)return{error:rt,state:nt||{},method:ut,result:{},hashParameters:it,args:at};let yt;try{if(ut===TORUS_METHOD.TRIGGER_LOGIN){const wt=at;wt.hash=et,wt.queryParameters=tt,yt=await this.triggerLogin(wt)}else if(ut===TORUS_METHOD.TRIGGER_AGGREGATE_LOGIN){const wt=at;wt.subVerifierDetailsArray.forEach(Ct=>{Ct.hash=et,Ct.queryParameters=tt}),yt=await this.triggerAggregateLogin(wt)}else if(ut===TORUS_METHOD.TRIGGER_AGGREGATE_HYBRID_LOGIN){const wt=at;wt.singleLogin.hash=et,wt.singleLogin.queryParameters=tt,yt=await this.triggerHybridAggregateLogin(wt)}}catch(wt){return log.error(wt),_objectSpread$3({error:`Could not get result from torus nodes 
 ${(wt==null?void 0:wt.message)||""}`,state:nt||{},method:ut,result:{},hashParameters:it,args:at},ht)}return _objectSpread$3(yt?{method:ut,result:yt,state:nt||{},hashParameters:it,args:at}:{error:"Unsupported method type",state:nt||{},method:ut,result:{},hashParameters:it,args:at},ht)}async handlePrefetchRedirectUri(){return document?new Promise((_,$)=>{const j=document.createElement("link");j.href=this.config.redirect_uri,window.location.origin!==new URL(this.config.redirect_uri).origin&&(j.crossOrigin="anonymous"),j.type="text/html",j.rel="prefetch";const et=()=>{this.isInitialized=!0,_()};try{j.relList&&j.relList.supports&&j.relList.supports("prefetch")?(j.onload=et,j.onerror=()=>{$(new Error(`Please serve redirect.html present in serviceworker folder of this package on ${this.config.redirect_uri}`))},document.head.appendChild(j)):et()}catch{et()}}):Promise.resolve()}}const withTimeout=(a,_,$)=>Promise.race([a(),new Promise((j,et)=>setTimeout(()=>{et(new Error("The operation has timed out"))},_))]),LOGIN_TIMEOUT=60*1e3,WEB3_AUTH_CLIENT_ID="BBHmFdLXgGDzSiizRVMWtyL_7Dsoxu5B8zep2Pns8sGELslgXDbktJewVDVDDBlknEKkMCtzISLjJtxk60SK2-g",SUB_VERIFIER_CLIENT_ID="1070572364808-d31nlkneam5ee6dr0tu28fjjbsdkfta5.apps.googleusercontent.com",getGoogleCredentials=async()=>withTimeout(async()=>{const a=new CustomAuth({web3AuthClientId:WEB3_AUTH_CLIENT_ID,baseUrl:"https://umamiwallet.com/auth/v2.0.1/",redirectPathName:"redirect.html",redirectToOpener:!0,uxMode:"popup",network:"mainnet"});await a.init({skipSw:!0});const _=await a.triggerAggregateLogin({verifierIdentifier:"tezos-google",aggregateVerifierType:"single_id_verifier",subVerifierDetailsArray:[{clientId:SUB_VERIFIER_CLIENT_ID,typeOfLogin:"google",verifier:"umami"}]}),$=_.finalKeyData.privKey||_.oAuthKeyData.privKey;return{secretKey:b58cencode($,prefix[Prefix.SPSK]),email:_.userInfo[0].email}},LOGIN_TIMEOUT),getErrorContext=a=>{let _="Something went wrong";typeof a=="object"&&"message"in a?_=a.message:typeof a=="string"&&(_=a);let $="";return typeof a=="object"&&"stack"in a&&($=a.stack),{timestamp:new Date().toISOString(),description:_,stacktrace:$}},useAsyncActionHandler=()=>{const[a,_]=reactExports.useState(!1),$=reactExports.useRef(a),j=useToast(),et=useAppDispatch(),tt=reactExports.useCallback(async(nt,it)=>{if(!$.current){$.current=!0,_(!0);try{return await nt()}catch(st){const ot=getErrorContext(st);throw j({description:ot.description,status:"error",...typeof it=="function"?it(st):it}),et(errorsSlice.actions.add(ot)),st}finally{$.current=!1,_(!1)}}},[et,j]),rt=reactExports.useCallback(async(nt,it)=>tt(nt,it).catch(()=>{}),[tt]);return{isLoading:a,handleAsyncAction:rt,handleAsyncActionUnsafe:tt}},GoogleAuth=({onAuth:a})=>{const{isLoading:_,handleAsyncAction:$}=useAsyncActionHandler(),j=async()=>$(async()=>{const{secretKey:et,email:tt}=await getGoogleCredentials();return a(et,tt)},{title:"Social login failed"});return jsxRuntimeExports.jsx(IconButton,{width:"48px",background:"white",borderRadius:"full",_disabled:{bg:colors.gray[900]},"aria-label":"Google SSO","data-testid":"google-auth-button",icon:jsxRuntimeExports.jsx(GoogleIcon,{}),isLoading:_,onClick:j,size:"lg",variant:"outline"})};/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */const Z_FIXED$1=4,Z_BINARY=0,Z_TEXT=1,Z_UNKNOWN$1=2;function zero$1(a){let _=a.length;for(;--_>=0;)a[_]=0}const STORED_BLOCK=0,STATIC_TREES=1,DYN_TREES=2,MIN_MATCH$1=3,MAX_MATCH$1=258,LENGTH_CODES$1=29,LITERALS$1=256,L_CODES$1=LITERALS$1+1+LENGTH_CODES$1,D_CODES$1=30,BL_CODES$1=19,HEAP_SIZE$1=2*L_CODES$1+1,MAX_BITS$1=15,Buf_size=16,MAX_BL_BITS=7,END_BLOCK=256,REP_3_6=16,REPZ_3_10=17,REPZ_11_138=18,extra_lbits=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),extra_dbits=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),extra_blbits=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),bl_order=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),DIST_CODE_LEN=512,static_ltree=new Array((L_CODES$1+2)*2);zero$1(static_ltree);const static_dtree=new Array(D_CODES$1*2);zero$1(static_dtree);const _dist_code=new Array(DIST_CODE_LEN);zero$1(_dist_code);const _length_code=new Array(MAX_MATCH$1-MIN_MATCH$1+1);zero$1(_length_code);const base_length=new Array(LENGTH_CODES$1);zero$1(base_length);const base_dist=new Array(D_CODES$1);zero$1(base_dist);function StaticTreeDesc(a,_,$,j,et){this.static_tree=a,this.extra_bits=_,this.extra_base=$,this.elems=j,this.max_length=et,this.has_stree=a&&a.length}let static_l_desc,static_d_desc,static_bl_desc;function TreeDesc(a,_){this.dyn_tree=a,this.max_code=0,this.stat_desc=_}const d_code=a=>a<256?_dist_code[a]:_dist_code[256+(a>>>7)],put_short=(a,_)=>{a.pending_buf[a.pending++]=_&255,a.pending_buf[a.pending++]=_>>>8&255},send_bits=(a,_,$)=>{a.bi_valid>Buf_size-$?(a.bi_buf|=_<<a.bi_valid&65535,put_short(a,a.bi_buf),a.bi_buf=_>>Buf_size-a.bi_valid,a.bi_valid+=$-Buf_size):(a.bi_buf|=_<<a.bi_valid&65535,a.bi_valid+=$)},send_code=(a,_,$)=>{send_bits(a,$[_*2],$[_*2+1])},bi_reverse=(a,_)=>{let $=0;do $|=a&1,a>>>=1,$<<=1;while(--_>0);return $>>>1},bi_flush=a=>{a.bi_valid===16?(put_short(a,a.bi_buf),a.bi_buf=0,a.bi_valid=0):a.bi_valid>=8&&(a.pending_buf[a.pending++]=a.bi_buf&255,a.bi_buf>>=8,a.bi_valid-=8)},gen_bitlen=(a,_)=>{const $=_.dyn_tree,j=_.max_code,et=_.stat_desc.static_tree,tt=_.stat_desc.has_stree,rt=_.stat_desc.extra_bits,nt=_.stat_desc.extra_base,it=_.stat_desc.max_length;let st,ot,at,ut,ht,yt,wt=0;for(ut=0;ut<=MAX_BITS$1;ut++)a.bl_count[ut]=0;for($[a.heap[a.heap_max]*2+1]=0,st=a.heap_max+1;st<HEAP_SIZE$1;st++)ot=a.heap[st],ut=$[$[ot*2+1]*2+1]+1,ut>it&&(ut=it,wt++),$[ot*2+1]=ut,!(ot>j)&&(a.bl_count[ut]++,ht=0,ot>=nt&&(ht=rt[ot-nt]),yt=$[ot*2],a.opt_len+=yt*(ut+ht),tt&&(a.static_len+=yt*(et[ot*2+1]+ht)));if(wt!==0){do{for(ut=it-1;a.bl_count[ut]===0;)ut--;a.bl_count[ut]--,a.bl_count[ut+1]+=2,a.bl_count[it]--,wt-=2}while(wt>0);for(ut=it;ut!==0;ut--)for(ot=a.bl_count[ut];ot!==0;)at=a.heap[--st],!(at>j)&&($[at*2+1]!==ut&&(a.opt_len+=(ut-$[at*2+1])*$[at*2],$[at*2+1]=ut),ot--)}},gen_codes=(a,_,$)=>{const j=new Array(MAX_BITS$1+1);let et=0,tt,rt;for(tt=1;tt<=MAX_BITS$1;tt++)et=et+$[tt-1]<<1,j[tt]=et;for(rt=0;rt<=_;rt++){let nt=a[rt*2+1];nt!==0&&(a[rt*2]=bi_reverse(j[nt]++,nt))}},tr_static_init=()=>{let a,_,$,j,et;const tt=new Array(MAX_BITS$1+1);for($=0,j=0;j<LENGTH_CODES$1-1;j++)for(base_length[j]=$,a=0;a<1<<extra_lbits[j];a++)_length_code[$++]=j;for(_length_code[$-1]=j,et=0,j=0;j<16;j++)for(base_dist[j]=et,a=0;a<1<<extra_dbits[j];a++)_dist_code[et++]=j;for(et>>=7;j<D_CODES$1;j++)for(base_dist[j]=et<<7,a=0;a<1<<extra_dbits[j]-7;a++)_dist_code[256+et++]=j;for(_=0;_<=MAX_BITS$1;_++)tt[_]=0;for(a=0;a<=143;)static_ltree[a*2+1]=8,a++,tt[8]++;for(;a<=255;)static_ltree[a*2+1]=9,a++,tt[9]++;for(;a<=279;)static_ltree[a*2+1]=7,a++,tt[7]++;for(;a<=287;)static_ltree[a*2+1]=8,a++,tt[8]++;for(gen_codes(static_ltree,L_CODES$1+1,tt),a=0;a<D_CODES$1;a++)static_dtree[a*2+1]=5,static_dtree[a*2]=bi_reverse(a,5);static_l_desc=new StaticTreeDesc(static_ltree,extra_lbits,LITERALS$1+1,L_CODES$1,MAX_BITS$1),static_d_desc=new StaticTreeDesc(static_dtree,extra_dbits,0,D_CODES$1,MAX_BITS$1),static_bl_desc=new StaticTreeDesc(new Array(0),extra_blbits,0,BL_CODES$1,MAX_BL_BITS)},init_block=a=>{let _;for(_=0;_<L_CODES$1;_++)a.dyn_ltree[_*2]=0;for(_=0;_<D_CODES$1;_++)a.dyn_dtree[_*2]=0;for(_=0;_<BL_CODES$1;_++)a.bl_tree[_*2]=0;a.dyn_ltree[END_BLOCK*2]=1,a.opt_len=a.static_len=0,a.sym_next=a.matches=0},bi_windup=a=>{a.bi_valid>8?put_short(a,a.bi_buf):a.bi_valid>0&&(a.pending_buf[a.pending++]=a.bi_buf),a.bi_buf=0,a.bi_valid=0},smaller=(a,_,$,j)=>{const et=_*2,tt=$*2;return a[et]<a[tt]||a[et]===a[tt]&&j[_]<=j[$]},pqdownheap=(a,_,$)=>{const j=a.heap[$];let et=$<<1;for(;et<=a.heap_len&&(et<a.heap_len&&smaller(_,a.heap[et+1],a.heap[et],a.depth)&&et++,!smaller(_,j,a.heap[et],a.depth));)a.heap[$]=a.heap[et],$=et,et<<=1;a.heap[$]=j},compress_block=(a,_,$)=>{let j,et,tt=0,rt,nt;if(a.sym_next!==0)do j=a.pending_buf[a.sym_buf+tt++]&255,j+=(a.pending_buf[a.sym_buf+tt++]&255)<<8,et=a.pending_buf[a.sym_buf+tt++],j===0?send_code(a,et,_):(rt=_length_code[et],send_code(a,rt+LITERALS$1+1,_),nt=extra_lbits[rt],nt!==0&&(et-=base_length[rt],send_bits(a,et,nt)),j--,rt=d_code(j),send_code(a,rt,$),nt=extra_dbits[rt],nt!==0&&(j-=base_dist[rt],send_bits(a,j,nt)));while(tt<a.sym_next);send_code(a,END_BLOCK,_)},build_tree=(a,_)=>{const $=_.dyn_tree,j=_.stat_desc.static_tree,et=_.stat_desc.has_stree,tt=_.stat_desc.elems;let rt,nt,it=-1,st;for(a.heap_len=0,a.heap_max=HEAP_SIZE$1,rt=0;rt<tt;rt++)$[rt*2]!==0?(a.heap[++a.heap_len]=it=rt,a.depth[rt]=0):$[rt*2+1]=0;for(;a.heap_len<2;)st=a.heap[++a.heap_len]=it<2?++it:0,$[st*2]=1,a.depth[st]=0,a.opt_len--,et&&(a.static_len-=j[st*2+1]);for(_.max_code=it,rt=a.heap_len>>1;rt>=1;rt--)pqdownheap(a,$,rt);st=tt;do rt=a.heap[1],a.heap[1]=a.heap[a.heap_len--],pqdownheap(a,$,1),nt=a.heap[1],a.heap[--a.heap_max]=rt,a.heap[--a.heap_max]=nt,$[st*2]=$[rt*2]+$[nt*2],a.depth[st]=(a.depth[rt]>=a.depth[nt]?a.depth[rt]:a.depth[nt])+1,$[rt*2+1]=$[nt*2+1]=st,a.heap[1]=st++,pqdownheap(a,$,1);while(a.heap_len>=2);a.heap[--a.heap_max]=a.heap[1],gen_bitlen(a,_),gen_codes($,it,a.bl_count)},scan_tree=(a,_,$)=>{let j,et=-1,tt,rt=_[0*2+1],nt=0,it=7,st=4;for(rt===0&&(it=138,st=3),_[($+1)*2+1]=65535,j=0;j<=$;j++)tt=rt,rt=_[(j+1)*2+1],!(++nt<it&&tt===rt)&&(nt<st?a.bl_tree[tt*2]+=nt:tt!==0?(tt!==et&&a.bl_tree[tt*2]++,a.bl_tree[REP_3_6*2]++):nt<=10?a.bl_tree[REPZ_3_10*2]++:a.bl_tree[REPZ_11_138*2]++,nt=0,et=tt,rt===0?(it=138,st=3):tt===rt?(it=6,st=3):(it=7,st=4))},send_tree=(a,_,$)=>{let j,et=-1,tt,rt=_[0*2+1],nt=0,it=7,st=4;for(rt===0&&(it=138,st=3),j=0;j<=$;j++)if(tt=rt,rt=_[(j+1)*2+1],!(++nt<it&&tt===rt)){if(nt<st)do send_code(a,tt,a.bl_tree);while(--nt!==0);else tt!==0?(tt!==et&&(send_code(a,tt,a.bl_tree),nt--),send_code(a,REP_3_6,a.bl_tree),send_bits(a,nt-3,2)):nt<=10?(send_code(a,REPZ_3_10,a.bl_tree),send_bits(a,nt-3,3)):(send_code(a,REPZ_11_138,a.bl_tree),send_bits(a,nt-11,7));nt=0,et=tt,rt===0?(it=138,st=3):tt===rt?(it=6,st=3):(it=7,st=4)}},build_bl_tree=a=>{let _;for(scan_tree(a,a.dyn_ltree,a.l_desc.max_code),scan_tree(a,a.dyn_dtree,a.d_desc.max_code),build_tree(a,a.bl_desc),_=BL_CODES$1-1;_>=3&&a.bl_tree[bl_order[_]*2+1]===0;_--);return a.opt_len+=3*(_+1)+5+5+4,_},send_all_trees=(a,_,$,j)=>{let et;for(send_bits(a,_-257,5),send_bits(a,$-1,5),send_bits(a,j-4,4),et=0;et<j;et++)send_bits(a,a.bl_tree[bl_order[et]*2+1],3);send_tree(a,a.dyn_ltree,_-1),send_tree(a,a.dyn_dtree,$-1)},detect_data_type=a=>{let _=4093624447,$;for($=0;$<=31;$++,_>>>=1)if(_&1&&a.dyn_ltree[$*2]!==0)return Z_BINARY;if(a.dyn_ltree[9*2]!==0||a.dyn_ltree[10*2]!==0||a.dyn_ltree[13*2]!==0)return Z_TEXT;for($=32;$<LITERALS$1;$++)if(a.dyn_ltree[$*2]!==0)return Z_TEXT;return Z_BINARY};let static_init_done=!1;const _tr_init$1=a=>{static_init_done||(tr_static_init(),static_init_done=!0),a.l_desc=new TreeDesc(a.dyn_ltree,static_l_desc),a.d_desc=new TreeDesc(a.dyn_dtree,static_d_desc),a.bl_desc=new TreeDesc(a.bl_tree,static_bl_desc),a.bi_buf=0,a.bi_valid=0,init_block(a)},_tr_stored_block$1=(a,_,$,j)=>{send_bits(a,(STORED_BLOCK<<1)+(j?1:0),3),bi_windup(a),put_short(a,$),put_short(a,~$),$&&a.pending_buf.set(a.window.subarray(_,_+$),a.pending),a.pending+=$},_tr_align$1=a=>{send_bits(a,STATIC_TREES<<1,3),send_code(a,END_BLOCK,static_ltree),bi_flush(a)},_tr_flush_block$1=(a,_,$,j)=>{let et,tt,rt=0;a.level>0?(a.strm.data_type===Z_UNKNOWN$1&&(a.strm.data_type=detect_data_type(a)),build_tree(a,a.l_desc),build_tree(a,a.d_desc),rt=build_bl_tree(a),et=a.opt_len+3+7>>>3,tt=a.static_len+3+7>>>3,tt<=et&&(et=tt)):et=tt=$+5,$+4<=et&&_!==-1?_tr_stored_block$1(a,_,$,j):a.strategy===Z_FIXED$1||tt===et?(send_bits(a,(STATIC_TREES<<1)+(j?1:0),3),compress_block(a,static_ltree,static_dtree)):(send_bits(a,(DYN_TREES<<1)+(j?1:0),3),send_all_trees(a,a.l_desc.max_code+1,a.d_desc.max_code+1,rt+1),compress_block(a,a.dyn_ltree,a.dyn_dtree)),init_block(a),j&&bi_windup(a)},_tr_tally$1=(a,_,$)=>(a.pending_buf[a.sym_buf+a.sym_next++]=_,a.pending_buf[a.sym_buf+a.sym_next++]=_>>8,a.pending_buf[a.sym_buf+a.sym_next++]=$,_===0?a.dyn_ltree[$*2]++:(a.matches++,_--,a.dyn_ltree[(_length_code[$]+LITERALS$1+1)*2]++,a.dyn_dtree[d_code(_)*2]++),a.sym_next===a.sym_end);var _tr_init_1=_tr_init$1,_tr_stored_block_1=_tr_stored_block$1,_tr_flush_block_1=_tr_flush_block$1,_tr_tally_1=_tr_tally$1,_tr_align_1=_tr_align$1,trees={_tr_init:_tr_init_1,_tr_stored_block:_tr_stored_block_1,_tr_flush_block:_tr_flush_block_1,_tr_tally:_tr_tally_1,_tr_align:_tr_align_1};const adler32=(a,_,$,j)=>{let et=a&65535|0,tt=a>>>16&65535|0,rt=0;for(;$!==0;){rt=$>2e3?2e3:$,$-=rt;do et=et+_[j++]|0,tt=tt+et|0;while(--rt);et%=65521,tt%=65521}return et|tt<<16|0};var adler32_1=adler32;const makeTable=()=>{let a,_=[];for(var $=0;$<256;$++){a=$;for(var j=0;j<8;j++)a=a&1?3988292384^a>>>1:a>>>1;_[$]=a}return _},crcTable=new Uint32Array(makeTable()),crc32=(a,_,$,j)=>{const et=crcTable,tt=j+$;a^=-1;for(let rt=j;rt<tt;rt++)a=a>>>8^et[(a^_[rt])&255];return a^-1};var crc32_1=crc32,messages={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},constants$2={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init,_tr_stored_block,_tr_flush_block,_tr_tally,_tr_align}=trees,{Z_NO_FLUSH:Z_NO_FLUSH$2,Z_PARTIAL_FLUSH,Z_FULL_FLUSH:Z_FULL_FLUSH$1,Z_FINISH:Z_FINISH$3,Z_BLOCK:Z_BLOCK$1,Z_OK:Z_OK$3,Z_STREAM_END:Z_STREAM_END$3,Z_STREAM_ERROR:Z_STREAM_ERROR$2,Z_DATA_ERROR:Z_DATA_ERROR$2,Z_BUF_ERROR:Z_BUF_ERROR$1,Z_DEFAULT_COMPRESSION:Z_DEFAULT_COMPRESSION$1,Z_FILTERED,Z_HUFFMAN_ONLY,Z_RLE,Z_FIXED,Z_DEFAULT_STRATEGY:Z_DEFAULT_STRATEGY$1,Z_UNKNOWN,Z_DEFLATED:Z_DEFLATED$2}=constants$2,MAX_MEM_LEVEL=9,MAX_WBITS$1=15,DEF_MEM_LEVEL=8,LENGTH_CODES=29,LITERALS=256,L_CODES=LITERALS+1+LENGTH_CODES,D_CODES=30,BL_CODES=19,HEAP_SIZE=2*L_CODES+1,MAX_BITS=15,MIN_MATCH=3,MAX_MATCH=258,MIN_LOOKAHEAD=MAX_MATCH+MIN_MATCH+1,PRESET_DICT=32,INIT_STATE=42,GZIP_STATE=57,EXTRA_STATE=69,NAME_STATE=73,COMMENT_STATE=91,HCRC_STATE=103,BUSY_STATE=113,FINISH_STATE=666,BS_NEED_MORE=1,BS_BLOCK_DONE=2,BS_FINISH_STARTED=3,BS_FINISH_DONE=4,OS_CODE=3,err=(a,_)=>(a.msg=messages[_],_),rank=a=>a*2-(a>4?9:0),zero=a=>{let _=a.length;for(;--_>=0;)a[_]=0},slide_hash=a=>{let _,$,j,et=a.w_size;_=a.hash_size,j=_;do $=a.head[--j],a.head[j]=$>=et?$-et:0;while(--_);_=et,j=_;do $=a.prev[--j],a.prev[j]=$>=et?$-et:0;while(--_)};let HASH_ZLIB=(a,_,$)=>(_<<a.hash_shift^$)&a.hash_mask,HASH=HASH_ZLIB;const flush_pending=a=>{const _=a.state;let $=_.pending;$>a.avail_out&&($=a.avail_out),$!==0&&(a.output.set(_.pending_buf.subarray(_.pending_out,_.pending_out+$),a.next_out),a.next_out+=$,_.pending_out+=$,a.total_out+=$,a.avail_out-=$,_.pending-=$,_.pending===0&&(_.pending_out=0))},flush_block_only=(a,_)=>{_tr_flush_block(a,a.block_start>=0?a.block_start:-1,a.strstart-a.block_start,_),a.block_start=a.strstart,flush_pending(a.strm)},put_byte=(a,_)=>{a.pending_buf[a.pending++]=_},putShortMSB=(a,_)=>{a.pending_buf[a.pending++]=_>>>8&255,a.pending_buf[a.pending++]=_&255},read_buf=(a,_,$,j)=>{let et=a.avail_in;return et>j&&(et=j),et===0?0:(a.avail_in-=et,_.set(a.input.subarray(a.next_in,a.next_in+et),$),a.state.wrap===1?a.adler=adler32_1(a.adler,_,et,$):a.state.wrap===2&&(a.adler=crc32_1(a.adler,_,et,$)),a.next_in+=et,a.total_in+=et,et)},longest_match=(a,_)=>{let $=a.max_chain_length,j=a.strstart,et,tt,rt=a.prev_length,nt=a.nice_match;const it=a.strstart>a.w_size-MIN_LOOKAHEAD?a.strstart-(a.w_size-MIN_LOOKAHEAD):0,st=a.window,ot=a.w_mask,at=a.prev,ut=a.strstart+MAX_MATCH;let ht=st[j+rt-1],yt=st[j+rt];a.prev_length>=a.good_match&&($>>=2),nt>a.lookahead&&(nt=a.lookahead);do if(et=_,!(st[et+rt]!==yt||st[et+rt-1]!==ht||st[et]!==st[j]||st[++et]!==st[j+1])){j+=2,et++;do;while(st[++j]===st[++et]&&st[++j]===st[++et]&&st[++j]===st[++et]&&st[++j]===st[++et]&&st[++j]===st[++et]&&st[++j]===st[++et]&&st[++j]===st[++et]&&st[++j]===st[++et]&&j<ut);if(tt=MAX_MATCH-(ut-j),j=ut-MAX_MATCH,tt>rt){if(a.match_start=_,rt=tt,tt>=nt)break;ht=st[j+rt-1],yt=st[j+rt]}}while((_=at[_&ot])>it&&--$!==0);return rt<=a.lookahead?rt:a.lookahead},fill_window=a=>{const _=a.w_size;let $,j,et;do{if(j=a.window_size-a.lookahead-a.strstart,a.strstart>=_+(_-MIN_LOOKAHEAD)&&(a.window.set(a.window.subarray(_,_+_-j),0),a.match_start-=_,a.strstart-=_,a.block_start-=_,a.insert>a.strstart&&(a.insert=a.strstart),slide_hash(a),j+=_),a.strm.avail_in===0)break;if($=read_buf(a.strm,a.window,a.strstart+a.lookahead,j),a.lookahead+=$,a.lookahead+a.insert>=MIN_MATCH)for(et=a.strstart-a.insert,a.ins_h=a.window[et],a.ins_h=HASH(a,a.ins_h,a.window[et+1]);a.insert&&(a.ins_h=HASH(a,a.ins_h,a.window[et+MIN_MATCH-1]),a.prev[et&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=et,et++,a.insert--,!(a.lookahead+a.insert<MIN_MATCH)););}while(a.lookahead<MIN_LOOKAHEAD&&a.strm.avail_in!==0)},deflate_stored=(a,_)=>{let $=a.pending_buf_size-5>a.w_size?a.w_size:a.pending_buf_size-5,j,et,tt,rt=0,nt=a.strm.avail_in;do{if(j=65535,tt=a.bi_valid+42>>3,a.strm.avail_out<tt||(tt=a.strm.avail_out-tt,et=a.strstart-a.block_start,j>et+a.strm.avail_in&&(j=et+a.strm.avail_in),j>tt&&(j=tt),j<$&&(j===0&&_!==Z_FINISH$3||_===Z_NO_FLUSH$2||j!==et+a.strm.avail_in)))break;rt=_===Z_FINISH$3&&j===et+a.strm.avail_in?1:0,_tr_stored_block(a,0,0,rt),a.pending_buf[a.pending-4]=j,a.pending_buf[a.pending-3]=j>>8,a.pending_buf[a.pending-2]=~j,a.pending_buf[a.pending-1]=~j>>8,flush_pending(a.strm),et&&(et>j&&(et=j),a.strm.output.set(a.window.subarray(a.block_start,a.block_start+et),a.strm.next_out),a.strm.next_out+=et,a.strm.avail_out-=et,a.strm.total_out+=et,a.block_start+=et,j-=et),j&&(read_buf(a.strm,a.strm.output,a.strm.next_out,j),a.strm.next_out+=j,a.strm.avail_out-=j,a.strm.total_out+=j)}while(rt===0);return nt-=a.strm.avail_in,nt&&(nt>=a.w_size?(a.matches=2,a.window.set(a.strm.input.subarray(a.strm.next_in-a.w_size,a.strm.next_in),0),a.strstart=a.w_size,a.insert=a.strstart):(a.window_size-a.strstart<=nt&&(a.strstart-=a.w_size,a.window.set(a.window.subarray(a.w_size,a.w_size+a.strstart),0),a.matches<2&&a.matches++,a.insert>a.strstart&&(a.insert=a.strstart)),a.window.set(a.strm.input.subarray(a.strm.next_in-nt,a.strm.next_in),a.strstart),a.strstart+=nt,a.insert+=nt>a.w_size-a.insert?a.w_size-a.insert:nt),a.block_start=a.strstart),a.high_water<a.strstart&&(a.high_water=a.strstart),rt?BS_FINISH_DONE:_!==Z_NO_FLUSH$2&&_!==Z_FINISH$3&&a.strm.avail_in===0&&a.strstart===a.block_start?BS_BLOCK_DONE:(tt=a.window_size-a.strstart,a.strm.avail_in>tt&&a.block_start>=a.w_size&&(a.block_start-=a.w_size,a.strstart-=a.w_size,a.window.set(a.window.subarray(a.w_size,a.w_size+a.strstart),0),a.matches<2&&a.matches++,tt+=a.w_size,a.insert>a.strstart&&(a.insert=a.strstart)),tt>a.strm.avail_in&&(tt=a.strm.avail_in),tt&&(read_buf(a.strm,a.window,a.strstart,tt),a.strstart+=tt,a.insert+=tt>a.w_size-a.insert?a.w_size-a.insert:tt),a.high_water<a.strstart&&(a.high_water=a.strstart),tt=a.bi_valid+42>>3,tt=a.pending_buf_size-tt>65535?65535:a.pending_buf_size-tt,$=tt>a.w_size?a.w_size:tt,et=a.strstart-a.block_start,(et>=$||(et||_===Z_FINISH$3)&&_!==Z_NO_FLUSH$2&&a.strm.avail_in===0&&et<=tt)&&(j=et>tt?tt:et,rt=_===Z_FINISH$3&&a.strm.avail_in===0&&j===et?1:0,_tr_stored_block(a,a.block_start,j,rt),a.block_start+=j,flush_pending(a.strm)),rt?BS_FINISH_STARTED:BS_NEED_MORE)},deflate_fast=(a,_)=>{let $,j;for(;;){if(a.lookahead<MIN_LOOKAHEAD){if(fill_window(a),a.lookahead<MIN_LOOKAHEAD&&_===Z_NO_FLUSH$2)return BS_NEED_MORE;if(a.lookahead===0)break}if($=0,a.lookahead>=MIN_MATCH&&(a.ins_h=HASH(a,a.ins_h,a.window[a.strstart+MIN_MATCH-1]),$=a.prev[a.strstart&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=a.strstart),$!==0&&a.strstart-$<=a.w_size-MIN_LOOKAHEAD&&(a.match_length=longest_match(a,$)),a.match_length>=MIN_MATCH)if(j=_tr_tally(a,a.strstart-a.match_start,a.match_length-MIN_MATCH),a.lookahead-=a.match_length,a.match_length<=a.max_lazy_match&&a.lookahead>=MIN_MATCH){a.match_length--;do a.strstart++,a.ins_h=HASH(a,a.ins_h,a.window[a.strstart+MIN_MATCH-1]),$=a.prev[a.strstart&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=a.strstart;while(--a.match_length!==0);a.strstart++}else a.strstart+=a.match_length,a.match_length=0,a.ins_h=a.window[a.strstart],a.ins_h=HASH(a,a.ins_h,a.window[a.strstart+1]);else j=_tr_tally(a,0,a.window[a.strstart]),a.lookahead--,a.strstart++;if(j&&(flush_block_only(a,!1),a.strm.avail_out===0))return BS_NEED_MORE}return a.insert=a.strstart<MIN_MATCH-1?a.strstart:MIN_MATCH-1,_===Z_FINISH$3?(flush_block_only(a,!0),a.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):a.sym_next&&(flush_block_only(a,!1),a.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE},deflate_slow=(a,_)=>{let $,j,et;for(;;){if(a.lookahead<MIN_LOOKAHEAD){if(fill_window(a),a.lookahead<MIN_LOOKAHEAD&&_===Z_NO_FLUSH$2)return BS_NEED_MORE;if(a.lookahead===0)break}if($=0,a.lookahead>=MIN_MATCH&&(a.ins_h=HASH(a,a.ins_h,a.window[a.strstart+MIN_MATCH-1]),$=a.prev[a.strstart&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=a.strstart),a.prev_length=a.match_length,a.prev_match=a.match_start,a.match_length=MIN_MATCH-1,$!==0&&a.prev_length<a.max_lazy_match&&a.strstart-$<=a.w_size-MIN_LOOKAHEAD&&(a.match_length=longest_match(a,$),a.match_length<=5&&(a.strategy===Z_FILTERED||a.match_length===MIN_MATCH&&a.strstart-a.match_start>4096)&&(a.match_length=MIN_MATCH-1)),a.prev_length>=MIN_MATCH&&a.match_length<=a.prev_length){et=a.strstart+a.lookahead-MIN_MATCH,j=_tr_tally(a,a.strstart-1-a.prev_match,a.prev_length-MIN_MATCH),a.lookahead-=a.prev_length-1,a.prev_length-=2;do++a.strstart<=et&&(a.ins_h=HASH(a,a.ins_h,a.window[a.strstart+MIN_MATCH-1]),$=a.prev[a.strstart&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=a.strstart);while(--a.prev_length!==0);if(a.match_available=0,a.match_length=MIN_MATCH-1,a.strstart++,j&&(flush_block_only(a,!1),a.strm.avail_out===0))return BS_NEED_MORE}else if(a.match_available){if(j=_tr_tally(a,0,a.window[a.strstart-1]),j&&flush_block_only(a,!1),a.strstart++,a.lookahead--,a.strm.avail_out===0)return BS_NEED_MORE}else a.match_available=1,a.strstart++,a.lookahead--}return a.match_available&&(j=_tr_tally(a,0,a.window[a.strstart-1]),a.match_available=0),a.insert=a.strstart<MIN_MATCH-1?a.strstart:MIN_MATCH-1,_===Z_FINISH$3?(flush_block_only(a,!0),a.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):a.sym_next&&(flush_block_only(a,!1),a.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE},deflate_rle=(a,_)=>{let $,j,et,tt;const rt=a.window;for(;;){if(a.lookahead<=MAX_MATCH){if(fill_window(a),a.lookahead<=MAX_MATCH&&_===Z_NO_FLUSH$2)return BS_NEED_MORE;if(a.lookahead===0)break}if(a.match_length=0,a.lookahead>=MIN_MATCH&&a.strstart>0&&(et=a.strstart-1,j=rt[et],j===rt[++et]&&j===rt[++et]&&j===rt[++et])){tt=a.strstart+MAX_MATCH;do;while(j===rt[++et]&&j===rt[++et]&&j===rt[++et]&&j===rt[++et]&&j===rt[++et]&&j===rt[++et]&&j===rt[++et]&&j===rt[++et]&&et<tt);a.match_length=MAX_MATCH-(tt-et),a.match_length>a.lookahead&&(a.match_length=a.lookahead)}if(a.match_length>=MIN_MATCH?($=_tr_tally(a,1,a.match_length-MIN_MATCH),a.lookahead-=a.match_length,a.strstart+=a.match_length,a.match_length=0):($=_tr_tally(a,0,a.window[a.strstart]),a.lookahead--,a.strstart++),$&&(flush_block_only(a,!1),a.strm.avail_out===0))return BS_NEED_MORE}return a.insert=0,_===Z_FINISH$3?(flush_block_only(a,!0),a.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):a.sym_next&&(flush_block_only(a,!1),a.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE},deflate_huff=(a,_)=>{let $;for(;;){if(a.lookahead===0&&(fill_window(a),a.lookahead===0)){if(_===Z_NO_FLUSH$2)return BS_NEED_MORE;break}if(a.match_length=0,$=_tr_tally(a,0,a.window[a.strstart]),a.lookahead--,a.strstart++,$&&(flush_block_only(a,!1),a.strm.avail_out===0))return BS_NEED_MORE}return a.insert=0,_===Z_FINISH$3?(flush_block_only(a,!0),a.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):a.sym_next&&(flush_block_only(a,!1),a.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE};function Config(a,_,$,j,et){this.good_length=a,this.max_lazy=_,this.nice_length=$,this.max_chain=j,this.func=et}const configuration_table=[new Config(0,0,0,0,deflate_stored),new Config(4,4,8,4,deflate_fast),new Config(4,5,16,8,deflate_fast),new Config(4,6,32,32,deflate_fast),new Config(4,4,16,16,deflate_slow),new Config(8,16,32,32,deflate_slow),new Config(8,16,128,128,deflate_slow),new Config(8,32,128,256,deflate_slow),new Config(32,128,258,1024,deflate_slow),new Config(32,258,258,4096,deflate_slow)],lm_init=a=>{a.window_size=2*a.w_size,zero(a.head),a.max_lazy_match=configuration_table[a.level].max_lazy,a.good_match=configuration_table[a.level].good_length,a.nice_match=configuration_table[a.level].nice_length,a.max_chain_length=configuration_table[a.level].max_chain,a.strstart=0,a.block_start=0,a.lookahead=0,a.insert=0,a.match_length=a.prev_length=MIN_MATCH-1,a.match_available=0,a.ins_h=0};function DeflateState(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Z_DEFLATED$2,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(HEAP_SIZE*2),this.dyn_dtree=new Uint16Array((2*D_CODES+1)*2),this.bl_tree=new Uint16Array((2*BL_CODES+1)*2),zero(this.dyn_ltree),zero(this.dyn_dtree),zero(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(MAX_BITS+1),this.heap=new Uint16Array(2*L_CODES+1),zero(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*L_CODES+1),zero(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const deflateStateCheck=a=>{if(!a)return 1;const _=a.state;return!_||_.strm!==a||_.status!==INIT_STATE&&_.status!==GZIP_STATE&&_.status!==EXTRA_STATE&&_.status!==NAME_STATE&&_.status!==COMMENT_STATE&&_.status!==HCRC_STATE&&_.status!==BUSY_STATE&&_.status!==FINISH_STATE?1:0},deflateResetKeep=a=>{if(deflateStateCheck(a))return err(a,Z_STREAM_ERROR$2);a.total_in=a.total_out=0,a.data_type=Z_UNKNOWN;const _=a.state;return _.pending=0,_.pending_out=0,_.wrap<0&&(_.wrap=-_.wrap),_.status=_.wrap===2?GZIP_STATE:_.wrap?INIT_STATE:BUSY_STATE,a.adler=_.wrap===2?0:1,_.last_flush=-2,_tr_init(_),Z_OK$3},deflateReset=a=>{const _=deflateResetKeep(a);return _===Z_OK$3&&lm_init(a.state),_},deflateSetHeader=(a,_)=>deflateStateCheck(a)||a.state.wrap!==2?Z_STREAM_ERROR$2:(a.state.gzhead=_,Z_OK$3),deflateInit2=(a,_,$,j,et,tt)=>{if(!a)return Z_STREAM_ERROR$2;let rt=1;if(_===Z_DEFAULT_COMPRESSION$1&&(_=6),j<0?(rt=0,j=-j):j>15&&(rt=2,j-=16),et<1||et>MAX_MEM_LEVEL||$!==Z_DEFLATED$2||j<8||j>15||_<0||_>9||tt<0||tt>Z_FIXED||j===8&&rt!==1)return err(a,Z_STREAM_ERROR$2);j===8&&(j=9);const nt=new DeflateState;return a.state=nt,nt.strm=a,nt.status=INIT_STATE,nt.wrap=rt,nt.gzhead=null,nt.w_bits=j,nt.w_size=1<<nt.w_bits,nt.w_mask=nt.w_size-1,nt.hash_bits=et+7,nt.hash_size=1<<nt.hash_bits,nt.hash_mask=nt.hash_size-1,nt.hash_shift=~~((nt.hash_bits+MIN_MATCH-1)/MIN_MATCH),nt.window=new Uint8Array(nt.w_size*2),nt.head=new Uint16Array(nt.hash_size),nt.prev=new Uint16Array(nt.w_size),nt.lit_bufsize=1<<et+6,nt.pending_buf_size=nt.lit_bufsize*4,nt.pending_buf=new Uint8Array(nt.pending_buf_size),nt.sym_buf=nt.lit_bufsize,nt.sym_end=(nt.lit_bufsize-1)*3,nt.level=_,nt.strategy=tt,nt.method=$,deflateReset(a)},deflateInit=(a,_)=>deflateInit2(a,_,Z_DEFLATED$2,MAX_WBITS$1,DEF_MEM_LEVEL,Z_DEFAULT_STRATEGY$1),deflate$2=(a,_)=>{if(deflateStateCheck(a)||_>Z_BLOCK$1||_<0)return a?err(a,Z_STREAM_ERROR$2):Z_STREAM_ERROR$2;const $=a.state;if(!a.output||a.avail_in!==0&&!a.input||$.status===FINISH_STATE&&_!==Z_FINISH$3)return err(a,a.avail_out===0?Z_BUF_ERROR$1:Z_STREAM_ERROR$2);const j=$.last_flush;if($.last_flush=_,$.pending!==0){if(flush_pending(a),a.avail_out===0)return $.last_flush=-1,Z_OK$3}else if(a.avail_in===0&&rank(_)<=rank(j)&&_!==Z_FINISH$3)return err(a,Z_BUF_ERROR$1);if($.status===FINISH_STATE&&a.avail_in!==0)return err(a,Z_BUF_ERROR$1);if($.status===INIT_STATE&&$.wrap===0&&($.status=BUSY_STATE),$.status===INIT_STATE){let et=Z_DEFLATED$2+($.w_bits-8<<4)<<8,tt=-1;if($.strategy>=Z_HUFFMAN_ONLY||$.level<2?tt=0:$.level<6?tt=1:$.level===6?tt=2:tt=3,et|=tt<<6,$.strstart!==0&&(et|=PRESET_DICT),et+=31-et%31,putShortMSB($,et),$.strstart!==0&&(putShortMSB($,a.adler>>>16),putShortMSB($,a.adler&65535)),a.adler=1,$.status=BUSY_STATE,flush_pending(a),$.pending!==0)return $.last_flush=-1,Z_OK$3}if($.status===GZIP_STATE){if(a.adler=0,put_byte($,31),put_byte($,139),put_byte($,8),$.gzhead)put_byte($,($.gzhead.text?1:0)+($.gzhead.hcrc?2:0)+($.gzhead.extra?4:0)+($.gzhead.name?8:0)+($.gzhead.comment?16:0)),put_byte($,$.gzhead.time&255),put_byte($,$.gzhead.time>>8&255),put_byte($,$.gzhead.time>>16&255),put_byte($,$.gzhead.time>>24&255),put_byte($,$.level===9?2:$.strategy>=Z_HUFFMAN_ONLY||$.level<2?4:0),put_byte($,$.gzhead.os&255),$.gzhead.extra&&$.gzhead.extra.length&&(put_byte($,$.gzhead.extra.length&255),put_byte($,$.gzhead.extra.length>>8&255)),$.gzhead.hcrc&&(a.adler=crc32_1(a.adler,$.pending_buf,$.pending,0)),$.gzindex=0,$.status=EXTRA_STATE;else if(put_byte($,0),put_byte($,0),put_byte($,0),put_byte($,0),put_byte($,0),put_byte($,$.level===9?2:$.strategy>=Z_HUFFMAN_ONLY||$.level<2?4:0),put_byte($,OS_CODE),$.status=BUSY_STATE,flush_pending(a),$.pending!==0)return $.last_flush=-1,Z_OK$3}if($.status===EXTRA_STATE){if($.gzhead.extra){let et=$.pending,tt=($.gzhead.extra.length&65535)-$.gzindex;for(;$.pending+tt>$.pending_buf_size;){let nt=$.pending_buf_size-$.pending;if($.pending_buf.set($.gzhead.extra.subarray($.gzindex,$.gzindex+nt),$.pending),$.pending=$.pending_buf_size,$.gzhead.hcrc&&$.pending>et&&(a.adler=crc32_1(a.adler,$.pending_buf,$.pending-et,et)),$.gzindex+=nt,flush_pending(a),$.pending!==0)return $.last_flush=-1,Z_OK$3;et=0,tt-=nt}let rt=new Uint8Array($.gzhead.extra);$.pending_buf.set(rt.subarray($.gzindex,$.gzindex+tt),$.pending),$.pending+=tt,$.gzhead.hcrc&&$.pending>et&&(a.adler=crc32_1(a.adler,$.pending_buf,$.pending-et,et)),$.gzindex=0}$.status=NAME_STATE}if($.status===NAME_STATE){if($.gzhead.name){let et=$.pending,tt;do{if($.pending===$.pending_buf_size){if($.gzhead.hcrc&&$.pending>et&&(a.adler=crc32_1(a.adler,$.pending_buf,$.pending-et,et)),flush_pending(a),$.pending!==0)return $.last_flush=-1,Z_OK$3;et=0}$.gzindex<$.gzhead.name.length?tt=$.gzhead.name.charCodeAt($.gzindex++)&255:tt=0,put_byte($,tt)}while(tt!==0);$.gzhead.hcrc&&$.pending>et&&(a.adler=crc32_1(a.adler,$.pending_buf,$.pending-et,et)),$.gzindex=0}$.status=COMMENT_STATE}if($.status===COMMENT_STATE){if($.gzhead.comment){let et=$.pending,tt;do{if($.pending===$.pending_buf_size){if($.gzhead.hcrc&&$.pending>et&&(a.adler=crc32_1(a.adler,$.pending_buf,$.pending-et,et)),flush_pending(a),$.pending!==0)return $.last_flush=-1,Z_OK$3;et=0}$.gzindex<$.gzhead.comment.length?tt=$.gzhead.comment.charCodeAt($.gzindex++)&255:tt=0,put_byte($,tt)}while(tt!==0);$.gzhead.hcrc&&$.pending>et&&(a.adler=crc32_1(a.adler,$.pending_buf,$.pending-et,et))}$.status=HCRC_STATE}if($.status===HCRC_STATE){if($.gzhead.hcrc){if($.pending+2>$.pending_buf_size&&(flush_pending(a),$.pending!==0))return $.last_flush=-1,Z_OK$3;put_byte($,a.adler&255),put_byte($,a.adler>>8&255),a.adler=0}if($.status=BUSY_STATE,flush_pending(a),$.pending!==0)return $.last_flush=-1,Z_OK$3}if(a.avail_in!==0||$.lookahead!==0||_!==Z_NO_FLUSH$2&&$.status!==FINISH_STATE){let et=$.level===0?deflate_stored($,_):$.strategy===Z_HUFFMAN_ONLY?deflate_huff($,_):$.strategy===Z_RLE?deflate_rle($,_):configuration_table[$.level].func($,_);if((et===BS_FINISH_STARTED||et===BS_FINISH_DONE)&&($.status=FINISH_STATE),et===BS_NEED_MORE||et===BS_FINISH_STARTED)return a.avail_out===0&&($.last_flush=-1),Z_OK$3;if(et===BS_BLOCK_DONE&&(_===Z_PARTIAL_FLUSH?_tr_align($):_!==Z_BLOCK$1&&(_tr_stored_block($,0,0,!1),_===Z_FULL_FLUSH$1&&(zero($.head),$.lookahead===0&&($.strstart=0,$.block_start=0,$.insert=0))),flush_pending(a),a.avail_out===0))return $.last_flush=-1,Z_OK$3}return _!==Z_FINISH$3?Z_OK$3:$.wrap<=0?Z_STREAM_END$3:($.wrap===2?(put_byte($,a.adler&255),put_byte($,a.adler>>8&255),put_byte($,a.adler>>16&255),put_byte($,a.adler>>24&255),put_byte($,a.total_in&255),put_byte($,a.total_in>>8&255),put_byte($,a.total_in>>16&255),put_byte($,a.total_in>>24&255)):(putShortMSB($,a.adler>>>16),putShortMSB($,a.adler&65535)),flush_pending(a),$.wrap>0&&($.wrap=-$.wrap),$.pending!==0?Z_OK$3:Z_STREAM_END$3)},deflateEnd=a=>{if(deflateStateCheck(a))return Z_STREAM_ERROR$2;const _=a.state.status;return a.state=null,_===BUSY_STATE?err(a,Z_DATA_ERROR$2):Z_OK$3},deflateSetDictionary=(a,_)=>{let $=_.length;if(deflateStateCheck(a))return Z_STREAM_ERROR$2;const j=a.state,et=j.wrap;if(et===2||et===1&&j.status!==INIT_STATE||j.lookahead)return Z_STREAM_ERROR$2;if(et===1&&(a.adler=adler32_1(a.adler,_,$,0)),j.wrap=0,$>=j.w_size){et===0&&(zero(j.head),j.strstart=0,j.block_start=0,j.insert=0);let it=new Uint8Array(j.w_size);it.set(_.subarray($-j.w_size,$),0),_=it,$=j.w_size}const tt=a.avail_in,rt=a.next_in,nt=a.input;for(a.avail_in=$,a.next_in=0,a.input=_,fill_window(j);j.lookahead>=MIN_MATCH;){let it=j.strstart,st=j.lookahead-(MIN_MATCH-1);do j.ins_h=HASH(j,j.ins_h,j.window[it+MIN_MATCH-1]),j.prev[it&j.w_mask]=j.head[j.ins_h],j.head[j.ins_h]=it,it++;while(--st);j.strstart=it,j.lookahead=MIN_MATCH-1,fill_window(j)}return j.strstart+=j.lookahead,j.block_start=j.strstart,j.insert=j.lookahead,j.lookahead=0,j.match_length=j.prev_length=MIN_MATCH-1,j.match_available=0,a.next_in=rt,a.input=nt,a.avail_in=tt,j.wrap=et,Z_OK$3};var deflateInit_1=deflateInit,deflateInit2_1=deflateInit2,deflateReset_1=deflateReset,deflateResetKeep_1=deflateResetKeep,deflateSetHeader_1=deflateSetHeader,deflate_2$1=deflate$2,deflateEnd_1=deflateEnd,deflateSetDictionary_1=deflateSetDictionary,deflateInfo="pako deflate (from Nodeca project)",deflate_1$2={deflateInit:deflateInit_1,deflateInit2:deflateInit2_1,deflateReset:deflateReset_1,deflateResetKeep:deflateResetKeep_1,deflateSetHeader:deflateSetHeader_1,deflate:deflate_2$1,deflateEnd:deflateEnd_1,deflateSetDictionary:deflateSetDictionary_1,deflateInfo};const _has=(a,_)=>Object.prototype.hasOwnProperty.call(a,_);var assign=function(a){const _=Array.prototype.slice.call(arguments,1);for(;_.length;){const $=_.shift();if($){if(typeof $!="object")throw new TypeError($+"must be non-object");for(const j in $)_has($,j)&&(a[j]=$[j])}}return a},flattenChunks=a=>{let _=0;for(let j=0,et=a.length;j<et;j++)_+=a[j].length;const $=new Uint8Array(_);for(let j=0,et=0,tt=a.length;j<tt;j++){let rt=a[j];$.set(rt,et),et+=rt.length}return $},common={assign,flattenChunks};let STR_APPLY_UIA_OK=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(a){STR_APPLY_UIA_OK=!1}const _utf8len=new Uint8Array(256);for(let a=0;a<256;a++)_utf8len[a]=a>=252?6:a>=248?5:a>=240?4:a>=224?3:a>=192?2:1;_utf8len[254]=_utf8len[254]=1;var string2buf=a=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(a);let _,$,j,et,tt,rt=a.length,nt=0;for(et=0;et<rt;et++)$=a.charCodeAt(et),($&64512)===55296&&et+1<rt&&(j=a.charCodeAt(et+1),(j&64512)===56320&&($=65536+($-55296<<10)+(j-56320),et++)),nt+=$<128?1:$<2048?2:$<65536?3:4;for(_=new Uint8Array(nt),tt=0,et=0;tt<nt;et++)$=a.charCodeAt(et),($&64512)===55296&&et+1<rt&&(j=a.charCodeAt(et+1),(j&64512)===56320&&($=65536+($-55296<<10)+(j-56320),et++)),$<128?_[tt++]=$:$<2048?(_[tt++]=192|$>>>6,_[tt++]=128|$&63):$<65536?(_[tt++]=224|$>>>12,_[tt++]=128|$>>>6&63,_[tt++]=128|$&63):(_[tt++]=240|$>>>18,_[tt++]=128|$>>>12&63,_[tt++]=128|$>>>6&63,_[tt++]=128|$&63);return _};const buf2binstring=(a,_)=>{if(_<65534&&a.subarray&&STR_APPLY_UIA_OK)return String.fromCharCode.apply(null,a.length===_?a:a.subarray(0,_));let $="";for(let j=0;j<_;j++)$+=String.fromCharCode(a[j]);return $};var buf2string=(a,_)=>{const $=_||a.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(a.subarray(0,_));let j,et;const tt=new Array($*2);for(et=0,j=0;j<$;){let rt=a[j++];if(rt<128){tt[et++]=rt;continue}let nt=_utf8len[rt];if(nt>4){tt[et++]=65533,j+=nt-1;continue}for(rt&=nt===2?31:nt===3?15:7;nt>1&&j<$;)rt=rt<<6|a[j++]&63,nt--;if(nt>1){tt[et++]=65533;continue}rt<65536?tt[et++]=rt:(rt-=65536,tt[et++]=55296|rt>>10&1023,tt[et++]=56320|rt&1023)}return buf2binstring(tt,et)},utf8border=(a,_)=>{_=_||a.length,_>a.length&&(_=a.length);let $=_-1;for(;$>=0&&(a[$]&192)===128;)$--;return $<0||$===0?_:$+_utf8len[a[$]]>_?$:_},strings={string2buf,buf2string,utf8border};function ZStream(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var zstream=ZStream;const toString$1=Object.prototype.toString,{Z_NO_FLUSH:Z_NO_FLUSH$1,Z_SYNC_FLUSH,Z_FULL_FLUSH,Z_FINISH:Z_FINISH$2,Z_OK:Z_OK$2,Z_STREAM_END:Z_STREAM_END$2,Z_DEFAULT_COMPRESSION,Z_DEFAULT_STRATEGY,Z_DEFLATED:Z_DEFLATED$1}=constants$2;function Deflate$1(a){this.options=common.assign({level:Z_DEFAULT_COMPRESSION,method:Z_DEFLATED$1,chunkSize:16384,windowBits:15,memLevel:8,strategy:Z_DEFAULT_STRATEGY},a||{});let _=this.options;_.raw&&_.windowBits>0?_.windowBits=-_.windowBits:_.gzip&&_.windowBits>0&&_.windowBits<16&&(_.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new zstream,this.strm.avail_out=0;let $=deflate_1$2.deflateInit2(this.strm,_.level,_.method,_.windowBits,_.memLevel,_.strategy);if($!==Z_OK$2)throw new Error(messages[$]);if(_.header&&deflate_1$2.deflateSetHeader(this.strm,_.header),_.dictionary){let j;if(typeof _.dictionary=="string"?j=strings.string2buf(_.dictionary):toString$1.call(_.dictionary)==="[object ArrayBuffer]"?j=new Uint8Array(_.dictionary):j=_.dictionary,$=deflate_1$2.deflateSetDictionary(this.strm,j),$!==Z_OK$2)throw new Error(messages[$]);this._dict_set=!0}}Deflate$1.prototype.push=function(a,_){const $=this.strm,j=this.options.chunkSize;let et,tt;if(this.ended)return!1;for(_===~~_?tt=_:tt=_===!0?Z_FINISH$2:Z_NO_FLUSH$1,typeof a=="string"?$.input=strings.string2buf(a):toString$1.call(a)==="[object ArrayBuffer]"?$.input=new Uint8Array(a):$.input=a,$.next_in=0,$.avail_in=$.input.length;;){if($.avail_out===0&&($.output=new Uint8Array(j),$.next_out=0,$.avail_out=j),(tt===Z_SYNC_FLUSH||tt===Z_FULL_FLUSH)&&$.avail_out<=6){this.onData($.output.subarray(0,$.next_out)),$.avail_out=0;continue}if(et=deflate_1$2.deflate($,tt),et===Z_STREAM_END$2)return $.next_out>0&&this.onData($.output.subarray(0,$.next_out)),et=deflate_1$2.deflateEnd(this.strm),this.onEnd(et),this.ended=!0,et===Z_OK$2;if($.avail_out===0){this.onData($.output);continue}if(tt>0&&$.next_out>0){this.onData($.output.subarray(0,$.next_out)),$.avail_out=0;continue}if($.avail_in===0)break}return!0};Deflate$1.prototype.onData=function(a){this.chunks.push(a)};Deflate$1.prototype.onEnd=function(a){a===Z_OK$2&&(this.result=common.flattenChunks(this.chunks)),this.chunks=[],this.err=a,this.msg=this.strm.msg};const BAD$1=16209,TYPE$1=16191;var inffast=function a(_,$){let j,et,tt,rt,nt,it,st,ot,at,ut,ht,yt,wt,Ct,Pt,Tt,Mt,Lt,Dt,Ut,Ot,It,Bt,Ft;const jt=_.state;j=_.next_in,Bt=_.input,et=j+(_.avail_in-5),tt=_.next_out,Ft=_.output,rt=tt-($-_.avail_out),nt=tt+(_.avail_out-257),it=jt.dmax,st=jt.wsize,ot=jt.whave,at=jt.wnext,ut=jt.window,ht=jt.hold,yt=jt.bits,wt=jt.lencode,Ct=jt.distcode,Pt=(1<<jt.lenbits)-1,Tt=(1<<jt.distbits)-1;e:do{yt<15&&(ht+=Bt[j++]<<yt,yt+=8,ht+=Bt[j++]<<yt,yt+=8),Mt=wt[ht&Pt];t:for(;;){if(Lt=Mt>>>24,ht>>>=Lt,yt-=Lt,Lt=Mt>>>16&255,Lt===0)Ft[tt++]=Mt&65535;else if(Lt&16){Dt=Mt&65535,Lt&=15,Lt&&(yt<Lt&&(ht+=Bt[j++]<<yt,yt+=8),Dt+=ht&(1<<Lt)-1,ht>>>=Lt,yt-=Lt),yt<15&&(ht+=Bt[j++]<<yt,yt+=8,ht+=Bt[j++]<<yt,yt+=8),Mt=Ct[ht&Tt];r:for(;;){if(Lt=Mt>>>24,ht>>>=Lt,yt-=Lt,Lt=Mt>>>16&255,Lt&16){if(Ut=Mt&65535,Lt&=15,yt<Lt&&(ht+=Bt[j++]<<yt,yt+=8,yt<Lt&&(ht+=Bt[j++]<<yt,yt+=8)),Ut+=ht&(1<<Lt)-1,Ut>it){_.msg="invalid distance too far back",jt.mode=BAD$1;break e}if(ht>>>=Lt,yt-=Lt,Lt=tt-rt,Ut>Lt){if(Lt=Ut-Lt,Lt>ot&&jt.sane){_.msg="invalid distance too far back",jt.mode=BAD$1;break e}if(Ot=0,It=ut,at===0){if(Ot+=st-Lt,Lt<Dt){Dt-=Lt;do Ft[tt++]=ut[Ot++];while(--Lt);Ot=tt-Ut,It=Ft}}else if(at<Lt){if(Ot+=st+at-Lt,Lt-=at,Lt<Dt){Dt-=Lt;do Ft[tt++]=ut[Ot++];while(--Lt);if(Ot=0,at<Dt){Lt=at,Dt-=Lt;do Ft[tt++]=ut[Ot++];while(--Lt);Ot=tt-Ut,It=Ft}}}else if(Ot+=at-Lt,Lt<Dt){Dt-=Lt;do Ft[tt++]=ut[Ot++];while(--Lt);Ot=tt-Ut,It=Ft}for(;Dt>2;)Ft[tt++]=It[Ot++],Ft[tt++]=It[Ot++],Ft[tt++]=It[Ot++],Dt-=3;Dt&&(Ft[tt++]=It[Ot++],Dt>1&&(Ft[tt++]=It[Ot++]))}else{Ot=tt-Ut;do Ft[tt++]=Ft[Ot++],Ft[tt++]=Ft[Ot++],Ft[tt++]=Ft[Ot++],Dt-=3;while(Dt>2);Dt&&(Ft[tt++]=Ft[Ot++],Dt>1&&(Ft[tt++]=Ft[Ot++]))}}else if(Lt&64){_.msg="invalid distance code",jt.mode=BAD$1;break e}else{Mt=Ct[(Mt&65535)+(ht&(1<<Lt)-1)];continue r}break}}else if(Lt&64)if(Lt&32){jt.mode=TYPE$1;break e}else{_.msg="invalid literal/length code",jt.mode=BAD$1;break e}else{Mt=wt[(Mt&65535)+(ht&(1<<Lt)-1)];continue t}break}}while(j<et&&tt<nt);Dt=yt>>3,j-=Dt,yt-=Dt<<3,ht&=(1<<yt)-1,_.next_in=j,_.next_out=tt,_.avail_in=j<et?5+(et-j):5-(j-et),_.avail_out=tt<nt?257+(nt-tt):257-(tt-nt),jt.hold=ht,jt.bits=yt};const MAXBITS=15,ENOUGH_LENS$1=852,ENOUGH_DISTS$1=592,CODES$1=0,LENS$1=1,DISTS$1=2,lbase=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),lext=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),dbase=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),dext=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),inflate_table=(a,_,$,j,et,tt,rt,nt)=>{const it=nt.bits;let st=0,ot=0,at=0,ut=0,ht=0,yt=0,wt=0,Ct=0,Pt=0,Tt=0,Mt,Lt,Dt,Ut,Ot,It=null,Bt;const Ft=new Uint16Array(MAXBITS+1),jt=new Uint16Array(MAXBITS+1);let bt=null,vt,ct,dt;for(st=0;st<=MAXBITS;st++)Ft[st]=0;for(ot=0;ot<j;ot++)Ft[_[$+ot]]++;for(ht=it,ut=MAXBITS;ut>=1&&Ft[ut]===0;ut--);if(ht>ut&&(ht=ut),ut===0)return et[tt++]=1<<24|64<<16|0,et[tt++]=1<<24|64<<16|0,nt.bits=1,0;for(at=1;at<ut&&Ft[at]===0;at++);for(ht<at&&(ht=at),Ct=1,st=1;st<=MAXBITS;st++)if(Ct<<=1,Ct-=Ft[st],Ct<0)return-1;if(Ct>0&&(a===CODES$1||ut!==1))return-1;for(jt[1]=0,st=1;st<MAXBITS;st++)jt[st+1]=jt[st]+Ft[st];for(ot=0;ot<j;ot++)_[$+ot]!==0&&(rt[jt[_[$+ot]]++]=ot);if(a===CODES$1?(It=bt=rt,Bt=20):a===LENS$1?(It=lbase,bt=lext,Bt=257):(It=dbase,bt=dext,Bt=0),Tt=0,ot=0,st=at,Ot=tt,yt=ht,wt=0,Dt=-1,Pt=1<<ht,Ut=Pt-1,a===LENS$1&&Pt>ENOUGH_LENS$1||a===DISTS$1&&Pt>ENOUGH_DISTS$1)return 1;for(;;){vt=st-wt,rt[ot]+1<Bt?(ct=0,dt=rt[ot]):rt[ot]>=Bt?(ct=bt[rt[ot]-Bt],dt=It[rt[ot]-Bt]):(ct=96,dt=0),Mt=1<<st-wt,Lt=1<<yt,at=Lt;do Lt-=Mt,et[Ot+(Tt>>wt)+Lt]=vt<<24|ct<<16|dt|0;while(Lt!==0);for(Mt=1<<st-1;Tt&Mt;)Mt>>=1;if(Mt!==0?(Tt&=Mt-1,Tt+=Mt):Tt=0,ot++,--Ft[st]===0){if(st===ut)break;st=_[$+rt[ot]]}if(st>ht&&(Tt&Ut)!==Dt){for(wt===0&&(wt=ht),Ot+=at,yt=st-wt,Ct=1<<yt;yt+wt<ut&&(Ct-=Ft[yt+wt],!(Ct<=0));)yt++,Ct<<=1;if(Pt+=1<<yt,a===LENS$1&&Pt>ENOUGH_LENS$1||a===DISTS$1&&Pt>ENOUGH_DISTS$1)return 1;Dt=Tt&Ut,et[Dt]=ht<<24|yt<<16|Ot-tt|0}}return Tt!==0&&(et[Ot+Tt]=st-wt<<24|64<<16|0),nt.bits=ht,0};var inftrees=inflate_table;const CODES=0,LENS=1,DISTS=2,{Z_FINISH:Z_FINISH$1,Z_BLOCK,Z_TREES,Z_OK:Z_OK$1,Z_STREAM_END:Z_STREAM_END$1,Z_NEED_DICT:Z_NEED_DICT$1,Z_STREAM_ERROR:Z_STREAM_ERROR$1,Z_DATA_ERROR:Z_DATA_ERROR$1,Z_MEM_ERROR:Z_MEM_ERROR$1,Z_BUF_ERROR,Z_DEFLATED}=constants$2,HEAD=16180,FLAGS=16181,TIME=16182,OS=16183,EXLEN=16184,EXTRA=16185,NAME=16186,COMMENT=16187,HCRC=16188,DICTID=16189,DICT=16190,TYPE=16191,TYPEDO=16192,STORED=16193,COPY_=16194,COPY=16195,TABLE=16196,LENLENS=16197,CODELENS=16198,LEN_=16199,LEN=16200,LENEXT=16201,DIST=16202,DISTEXT=16203,MATCH=16204,LIT=16205,CHECK=16206,LENGTH=16207,DONE=16208,BAD=16209,MEM=16210,SYNC=16211,ENOUGH_LENS=852,ENOUGH_DISTS=592,MAX_WBITS=15,DEF_WBITS=MAX_WBITS,zswap32=a=>(a>>>24&255)+(a>>>8&65280)+((a&65280)<<8)+((a&255)<<24);function InflateState(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const inflateStateCheck=a=>{if(!a)return 1;const _=a.state;return!_||_.strm!==a||_.mode<HEAD||_.mode>SYNC?1:0},inflateResetKeep=a=>{if(inflateStateCheck(a))return Z_STREAM_ERROR$1;const _=a.state;return a.total_in=a.total_out=_.total=0,a.msg="",_.wrap&&(a.adler=_.wrap&1),_.mode=HEAD,_.last=0,_.havedict=0,_.flags=-1,_.dmax=32768,_.head=null,_.hold=0,_.bits=0,_.lencode=_.lendyn=new Int32Array(ENOUGH_LENS),_.distcode=_.distdyn=new Int32Array(ENOUGH_DISTS),_.sane=1,_.back=-1,Z_OK$1},inflateReset=a=>{if(inflateStateCheck(a))return Z_STREAM_ERROR$1;const _=a.state;return _.wsize=0,_.whave=0,_.wnext=0,inflateResetKeep(a)},inflateReset2=(a,_)=>{let $;if(inflateStateCheck(a))return Z_STREAM_ERROR$1;const j=a.state;return _<0?($=0,_=-_):($=(_>>4)+5,_<48&&(_&=15)),_&&(_<8||_>15)?Z_STREAM_ERROR$1:(j.window!==null&&j.wbits!==_&&(j.window=null),j.wrap=$,j.wbits=_,inflateReset(a))},inflateInit2=(a,_)=>{if(!a)return Z_STREAM_ERROR$1;const $=new InflateState;a.state=$,$.strm=a,$.window=null,$.mode=HEAD;const j=inflateReset2(a,_);return j!==Z_OK$1&&(a.state=null),j},inflateInit=a=>inflateInit2(a,DEF_WBITS);let virgin=!0,lenfix,distfix;const fixedtables=a=>{if(virgin){lenfix=new Int32Array(512),distfix=new Int32Array(32);let _=0;for(;_<144;)a.lens[_++]=8;for(;_<256;)a.lens[_++]=9;for(;_<280;)a.lens[_++]=7;for(;_<288;)a.lens[_++]=8;for(inftrees(LENS,a.lens,0,288,lenfix,0,a.work,{bits:9}),_=0;_<32;)a.lens[_++]=5;inftrees(DISTS,a.lens,0,32,distfix,0,a.work,{bits:5}),virgin=!1}a.lencode=lenfix,a.lenbits=9,a.distcode=distfix,a.distbits=5},updatewindow=(a,_,$,j)=>{let et;const tt=a.state;return tt.window===null&&(tt.wsize=1<<tt.wbits,tt.wnext=0,tt.whave=0,tt.window=new Uint8Array(tt.wsize)),j>=tt.wsize?(tt.window.set(_.subarray($-tt.wsize,$),0),tt.wnext=0,tt.whave=tt.wsize):(et=tt.wsize-tt.wnext,et>j&&(et=j),tt.window.set(_.subarray($-j,$-j+et),tt.wnext),j-=et,j?(tt.window.set(_.subarray($-j,$),0),tt.wnext=j,tt.whave=tt.wsize):(tt.wnext+=et,tt.wnext===tt.wsize&&(tt.wnext=0),tt.whave<tt.wsize&&(tt.whave+=et))),0},inflate$2=(a,_)=>{let $,j,et,tt,rt,nt,it,st,ot,at,ut,ht,yt,wt,Ct=0,Pt,Tt,Mt,Lt,Dt,Ut,Ot,It;const Bt=new Uint8Array(4);let Ft,jt;const bt=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(inflateStateCheck(a)||!a.output||!a.input&&a.avail_in!==0)return Z_STREAM_ERROR$1;$=a.state,$.mode===TYPE&&($.mode=TYPEDO),rt=a.next_out,et=a.output,it=a.avail_out,tt=a.next_in,j=a.input,nt=a.avail_in,st=$.hold,ot=$.bits,at=nt,ut=it,It=Z_OK$1;e:for(;;)switch($.mode){case HEAD:if($.wrap===0){$.mode=TYPEDO;break}for(;ot<16;){if(nt===0)break e;nt--,st+=j[tt++]<<ot,ot+=8}if($.wrap&2&&st===35615){$.wbits===0&&($.wbits=15),$.check=0,Bt[0]=st&255,Bt[1]=st>>>8&255,$.check=crc32_1($.check,Bt,2,0),st=0,ot=0,$.mode=FLAGS;break}if($.head&&($.head.done=!1),!($.wrap&1)||(((st&255)<<8)+(st>>8))%31){a.msg="incorrect header check",$.mode=BAD;break}if((st&15)!==Z_DEFLATED){a.msg="unknown compression method",$.mode=BAD;break}if(st>>>=4,ot-=4,Ot=(st&15)+8,$.wbits===0&&($.wbits=Ot),Ot>15||Ot>$.wbits){a.msg="invalid window size",$.mode=BAD;break}$.dmax=1<<$.wbits,$.flags=0,a.adler=$.check=1,$.mode=st&512?DICTID:TYPE,st=0,ot=0;break;case FLAGS:for(;ot<16;){if(nt===0)break e;nt--,st+=j[tt++]<<ot,ot+=8}if($.flags=st,($.flags&255)!==Z_DEFLATED){a.msg="unknown compression method",$.mode=BAD;break}if($.flags&57344){a.msg="unknown header flags set",$.mode=BAD;break}$.head&&($.head.text=st>>8&1),$.flags&512&&$.wrap&4&&(Bt[0]=st&255,Bt[1]=st>>>8&255,$.check=crc32_1($.check,Bt,2,0)),st=0,ot=0,$.mode=TIME;case TIME:for(;ot<32;){if(nt===0)break e;nt--,st+=j[tt++]<<ot,ot+=8}$.head&&($.head.time=st),$.flags&512&&$.wrap&4&&(Bt[0]=st&255,Bt[1]=st>>>8&255,Bt[2]=st>>>16&255,Bt[3]=st>>>24&255,$.check=crc32_1($.check,Bt,4,0)),st=0,ot=0,$.mode=OS;case OS:for(;ot<16;){if(nt===0)break e;nt--,st+=j[tt++]<<ot,ot+=8}$.head&&($.head.xflags=st&255,$.head.os=st>>8),$.flags&512&&$.wrap&4&&(Bt[0]=st&255,Bt[1]=st>>>8&255,$.check=crc32_1($.check,Bt,2,0)),st=0,ot=0,$.mode=EXLEN;case EXLEN:if($.flags&1024){for(;ot<16;){if(nt===0)break e;nt--,st+=j[tt++]<<ot,ot+=8}$.length=st,$.head&&($.head.extra_len=st),$.flags&512&&$.wrap&4&&(Bt[0]=st&255,Bt[1]=st>>>8&255,$.check=crc32_1($.check,Bt,2,0)),st=0,ot=0}else $.head&&($.head.extra=null);$.mode=EXTRA;case EXTRA:if($.flags&1024&&(ht=$.length,ht>nt&&(ht=nt),ht&&($.head&&(Ot=$.head.extra_len-$.length,$.head.extra||($.head.extra=new Uint8Array($.head.extra_len)),$.head.extra.set(j.subarray(tt,tt+ht),Ot)),$.flags&512&&$.wrap&4&&($.check=crc32_1($.check,j,ht,tt)),nt-=ht,tt+=ht,$.length-=ht),$.length))break e;$.length=0,$.mode=NAME;case NAME:if($.flags&2048){if(nt===0)break e;ht=0;do Ot=j[tt+ht++],$.head&&Ot&&$.length<65536&&($.head.name+=String.fromCharCode(Ot));while(Ot&&ht<nt);if($.flags&512&&$.wrap&4&&($.check=crc32_1($.check,j,ht,tt)),nt-=ht,tt+=ht,Ot)break e}else $.head&&($.head.name=null);$.length=0,$.mode=COMMENT;case COMMENT:if($.flags&4096){if(nt===0)break e;ht=0;do Ot=j[tt+ht++],$.head&&Ot&&$.length<65536&&($.head.comment+=String.fromCharCode(Ot));while(Ot&&ht<nt);if($.flags&512&&$.wrap&4&&($.check=crc32_1($.check,j,ht,tt)),nt-=ht,tt+=ht,Ot)break e}else $.head&&($.head.comment=null);$.mode=HCRC;case HCRC:if($.flags&512){for(;ot<16;){if(nt===0)break e;nt--,st+=j[tt++]<<ot,ot+=8}if($.wrap&4&&st!==($.check&65535)){a.msg="header crc mismatch",$.mode=BAD;break}st=0,ot=0}$.head&&($.head.hcrc=$.flags>>9&1,$.head.done=!0),a.adler=$.check=0,$.mode=TYPE;break;case DICTID:for(;ot<32;){if(nt===0)break e;nt--,st+=j[tt++]<<ot,ot+=8}a.adler=$.check=zswap32(st),st=0,ot=0,$.mode=DICT;case DICT:if($.havedict===0)return a.next_out=rt,a.avail_out=it,a.next_in=tt,a.avail_in=nt,$.hold=st,$.bits=ot,Z_NEED_DICT$1;a.adler=$.check=1,$.mode=TYPE;case TYPE:if(_===Z_BLOCK||_===Z_TREES)break e;case TYPEDO:if($.last){st>>>=ot&7,ot-=ot&7,$.mode=CHECK;break}for(;ot<3;){if(nt===0)break e;nt--,st+=j[tt++]<<ot,ot+=8}switch($.last=st&1,st>>>=1,ot-=1,st&3){case 0:$.mode=STORED;break;case 1:if(fixedtables($),$.mode=LEN_,_===Z_TREES){st>>>=2,ot-=2;break e}break;case 2:$.mode=TABLE;break;case 3:a.msg="invalid block type",$.mode=BAD}st>>>=2,ot-=2;break;case STORED:for(st>>>=ot&7,ot-=ot&7;ot<32;){if(nt===0)break e;nt--,st+=j[tt++]<<ot,ot+=8}if((st&65535)!==(st>>>16^65535)){a.msg="invalid stored block lengths",$.mode=BAD;break}if($.length=st&65535,st=0,ot=0,$.mode=COPY_,_===Z_TREES)break e;case COPY_:$.mode=COPY;case COPY:if(ht=$.length,ht){if(ht>nt&&(ht=nt),ht>it&&(ht=it),ht===0)break e;et.set(j.subarray(tt,tt+ht),rt),nt-=ht,tt+=ht,it-=ht,rt+=ht,$.length-=ht;break}$.mode=TYPE;break;case TABLE:for(;ot<14;){if(nt===0)break e;nt--,st+=j[tt++]<<ot,ot+=8}if($.nlen=(st&31)+257,st>>>=5,ot-=5,$.ndist=(st&31)+1,st>>>=5,ot-=5,$.ncode=(st&15)+4,st>>>=4,ot-=4,$.nlen>286||$.ndist>30){a.msg="too many length or distance symbols",$.mode=BAD;break}$.have=0,$.mode=LENLENS;case LENLENS:for(;$.have<$.ncode;){for(;ot<3;){if(nt===0)break e;nt--,st+=j[tt++]<<ot,ot+=8}$.lens[bt[$.have++]]=st&7,st>>>=3,ot-=3}for(;$.have<19;)$.lens[bt[$.have++]]=0;if($.lencode=$.lendyn,$.lenbits=7,Ft={bits:$.lenbits},It=inftrees(CODES,$.lens,0,19,$.lencode,0,$.work,Ft),$.lenbits=Ft.bits,It){a.msg="invalid code lengths set",$.mode=BAD;break}$.have=0,$.mode=CODELENS;case CODELENS:for(;$.have<$.nlen+$.ndist;){for(;Ct=$.lencode[st&(1<<$.lenbits)-1],Pt=Ct>>>24,Tt=Ct>>>16&255,Mt=Ct&65535,!(Pt<=ot);){if(nt===0)break e;nt--,st+=j[tt++]<<ot,ot+=8}if(Mt<16)st>>>=Pt,ot-=Pt,$.lens[$.have++]=Mt;else{if(Mt===16){for(jt=Pt+2;ot<jt;){if(nt===0)break e;nt--,st+=j[tt++]<<ot,ot+=8}if(st>>>=Pt,ot-=Pt,$.have===0){a.msg="invalid bit length repeat",$.mode=BAD;break}Ot=$.lens[$.have-1],ht=3+(st&3),st>>>=2,ot-=2}else if(Mt===17){for(jt=Pt+3;ot<jt;){if(nt===0)break e;nt--,st+=j[tt++]<<ot,ot+=8}st>>>=Pt,ot-=Pt,Ot=0,ht=3+(st&7),st>>>=3,ot-=3}else{for(jt=Pt+7;ot<jt;){if(nt===0)break e;nt--,st+=j[tt++]<<ot,ot+=8}st>>>=Pt,ot-=Pt,Ot=0,ht=11+(st&127),st>>>=7,ot-=7}if($.have+ht>$.nlen+$.ndist){a.msg="invalid bit length repeat",$.mode=BAD;break}for(;ht--;)$.lens[$.have++]=Ot}}if($.mode===BAD)break;if($.lens[256]===0){a.msg="invalid code -- missing end-of-block",$.mode=BAD;break}if($.lenbits=9,Ft={bits:$.lenbits},It=inftrees(LENS,$.lens,0,$.nlen,$.lencode,0,$.work,Ft),$.lenbits=Ft.bits,It){a.msg="invalid literal/lengths set",$.mode=BAD;break}if($.distbits=6,$.distcode=$.distdyn,Ft={bits:$.distbits},It=inftrees(DISTS,$.lens,$.nlen,$.ndist,$.distcode,0,$.work,Ft),$.distbits=Ft.bits,It){a.msg="invalid distances set",$.mode=BAD;break}if($.mode=LEN_,_===Z_TREES)break e;case LEN_:$.mode=LEN;case LEN:if(nt>=6&&it>=258){a.next_out=rt,a.avail_out=it,a.next_in=tt,a.avail_in=nt,$.hold=st,$.bits=ot,inffast(a,ut),rt=a.next_out,et=a.output,it=a.avail_out,tt=a.next_in,j=a.input,nt=a.avail_in,st=$.hold,ot=$.bits,$.mode===TYPE&&($.back=-1);break}for($.back=0;Ct=$.lencode[st&(1<<$.lenbits)-1],Pt=Ct>>>24,Tt=Ct>>>16&255,Mt=Ct&65535,!(Pt<=ot);){if(nt===0)break e;nt--,st+=j[tt++]<<ot,ot+=8}if(Tt&&!(Tt&240)){for(Lt=Pt,Dt=Tt,Ut=Mt;Ct=$.lencode[Ut+((st&(1<<Lt+Dt)-1)>>Lt)],Pt=Ct>>>24,Tt=Ct>>>16&255,Mt=Ct&65535,!(Lt+Pt<=ot);){if(nt===0)break e;nt--,st+=j[tt++]<<ot,ot+=8}st>>>=Lt,ot-=Lt,$.back+=Lt}if(st>>>=Pt,ot-=Pt,$.back+=Pt,$.length=Mt,Tt===0){$.mode=LIT;break}if(Tt&32){$.back=-1,$.mode=TYPE;break}if(Tt&64){a.msg="invalid literal/length code",$.mode=BAD;break}$.extra=Tt&15,$.mode=LENEXT;case LENEXT:if($.extra){for(jt=$.extra;ot<jt;){if(nt===0)break e;nt--,st+=j[tt++]<<ot,ot+=8}$.length+=st&(1<<$.extra)-1,st>>>=$.extra,ot-=$.extra,$.back+=$.extra}$.was=$.length,$.mode=DIST;case DIST:for(;Ct=$.distcode[st&(1<<$.distbits)-1],Pt=Ct>>>24,Tt=Ct>>>16&255,Mt=Ct&65535,!(Pt<=ot);){if(nt===0)break e;nt--,st+=j[tt++]<<ot,ot+=8}if(!(Tt&240)){for(Lt=Pt,Dt=Tt,Ut=Mt;Ct=$.distcode[Ut+((st&(1<<Lt+Dt)-1)>>Lt)],Pt=Ct>>>24,Tt=Ct>>>16&255,Mt=Ct&65535,!(Lt+Pt<=ot);){if(nt===0)break e;nt--,st+=j[tt++]<<ot,ot+=8}st>>>=Lt,ot-=Lt,$.back+=Lt}if(st>>>=Pt,ot-=Pt,$.back+=Pt,Tt&64){a.msg="invalid distance code",$.mode=BAD;break}$.offset=Mt,$.extra=Tt&15,$.mode=DISTEXT;case DISTEXT:if($.extra){for(jt=$.extra;ot<jt;){if(nt===0)break e;nt--,st+=j[tt++]<<ot,ot+=8}$.offset+=st&(1<<$.extra)-1,st>>>=$.extra,ot-=$.extra,$.back+=$.extra}if($.offset>$.dmax){a.msg="invalid distance too far back",$.mode=BAD;break}$.mode=MATCH;case MATCH:if(it===0)break e;if(ht=ut-it,$.offset>ht){if(ht=$.offset-ht,ht>$.whave&&$.sane){a.msg="invalid distance too far back",$.mode=BAD;break}ht>$.wnext?(ht-=$.wnext,yt=$.wsize-ht):yt=$.wnext-ht,ht>$.length&&(ht=$.length),wt=$.window}else wt=et,yt=rt-$.offset,ht=$.length;ht>it&&(ht=it),it-=ht,$.length-=ht;do et[rt++]=wt[yt++];while(--ht);$.length===0&&($.mode=LEN);break;case LIT:if(it===0)break e;et[rt++]=$.length,it--,$.mode=LEN;break;case CHECK:if($.wrap){for(;ot<32;){if(nt===0)break e;nt--,st|=j[tt++]<<ot,ot+=8}if(ut-=it,a.total_out+=ut,$.total+=ut,$.wrap&4&&ut&&(a.adler=$.check=$.flags?crc32_1($.check,et,ut,rt-ut):adler32_1($.check,et,ut,rt-ut)),ut=it,$.wrap&4&&($.flags?st:zswap32(st))!==$.check){a.msg="incorrect data check",$.mode=BAD;break}st=0,ot=0}$.mode=LENGTH;case LENGTH:if($.wrap&&$.flags){for(;ot<32;){if(nt===0)break e;nt--,st+=j[tt++]<<ot,ot+=8}if($.wrap&4&&st!==($.total&4294967295)){a.msg="incorrect length check",$.mode=BAD;break}st=0,ot=0}$.mode=DONE;case DONE:It=Z_STREAM_END$1;break e;case BAD:It=Z_DATA_ERROR$1;break e;case MEM:return Z_MEM_ERROR$1;case SYNC:default:return Z_STREAM_ERROR$1}return a.next_out=rt,a.avail_out=it,a.next_in=tt,a.avail_in=nt,$.hold=st,$.bits=ot,($.wsize||ut!==a.avail_out&&$.mode<BAD&&($.mode<CHECK||_!==Z_FINISH$1))&&updatewindow(a,a.output,a.next_out,ut-a.avail_out),at-=a.avail_in,ut-=a.avail_out,a.total_in+=at,a.total_out+=ut,$.total+=ut,$.wrap&4&&ut&&(a.adler=$.check=$.flags?crc32_1($.check,et,ut,a.next_out-ut):adler32_1($.check,et,ut,a.next_out-ut)),a.data_type=$.bits+($.last?64:0)+($.mode===TYPE?128:0)+($.mode===LEN_||$.mode===COPY_?256:0),(at===0&&ut===0||_===Z_FINISH$1)&&It===Z_OK$1&&(It=Z_BUF_ERROR),It},inflateEnd=a=>{if(inflateStateCheck(a))return Z_STREAM_ERROR$1;let _=a.state;return _.window&&(_.window=null),a.state=null,Z_OK$1},inflateGetHeader=(a,_)=>{if(inflateStateCheck(a))return Z_STREAM_ERROR$1;const $=a.state;return $.wrap&2?($.head=_,_.done=!1,Z_OK$1):Z_STREAM_ERROR$1},inflateSetDictionary=(a,_)=>{const $=_.length;let j,et,tt;return inflateStateCheck(a)||(j=a.state,j.wrap!==0&&j.mode!==DICT)?Z_STREAM_ERROR$1:j.mode===DICT&&(et=1,et=adler32_1(et,_,$,0),et!==j.check)?Z_DATA_ERROR$1:(tt=updatewindow(a,_,$,$),tt?(j.mode=MEM,Z_MEM_ERROR$1):(j.havedict=1,Z_OK$1))};var inflateReset_1=inflateReset,inflateReset2_1=inflateReset2,inflateResetKeep_1=inflateResetKeep,inflateInit_1=inflateInit,inflateInit2_1=inflateInit2,inflate_2$1=inflate$2,inflateEnd_1=inflateEnd,inflateGetHeader_1=inflateGetHeader,inflateSetDictionary_1=inflateSetDictionary,inflateInfo="pako inflate (from Nodeca project)",inflate_1$2={inflateReset:inflateReset_1,inflateReset2:inflateReset2_1,inflateResetKeep:inflateResetKeep_1,inflateInit:inflateInit_1,inflateInit2:inflateInit2_1,inflate:inflate_2$1,inflateEnd:inflateEnd_1,inflateGetHeader:inflateGetHeader_1,inflateSetDictionary:inflateSetDictionary_1,inflateInfo};function GZheader(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var gzheader=GZheader;const toString=Object.prototype.toString,{Z_NO_FLUSH,Z_FINISH,Z_OK,Z_STREAM_END,Z_NEED_DICT,Z_STREAM_ERROR,Z_DATA_ERROR,Z_MEM_ERROR}=constants$2;function Inflate$1(a){this.options=common.assign({chunkSize:1024*64,windowBits:15,to:""},a||{});const _=this.options;_.raw&&_.windowBits>=0&&_.windowBits<16&&(_.windowBits=-_.windowBits,_.windowBits===0&&(_.windowBits=-15)),_.windowBits>=0&&_.windowBits<16&&!(a&&a.windowBits)&&(_.windowBits+=32),_.windowBits>15&&_.windowBits<48&&(_.windowBits&15||(_.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new zstream,this.strm.avail_out=0;let $=inflate_1$2.inflateInit2(this.strm,_.windowBits);if($!==Z_OK)throw new Error(messages[$]);if(this.header=new gzheader,inflate_1$2.inflateGetHeader(this.strm,this.header),_.dictionary&&(typeof _.dictionary=="string"?_.dictionary=strings.string2buf(_.dictionary):toString.call(_.dictionary)==="[object ArrayBuffer]"&&(_.dictionary=new Uint8Array(_.dictionary)),_.raw&&($=inflate_1$2.inflateSetDictionary(this.strm,_.dictionary),$!==Z_OK)))throw new Error(messages[$])}Inflate$1.prototype.push=function(a,_){const $=this.strm,j=this.options.chunkSize,et=this.options.dictionary;let tt,rt,nt;if(this.ended)return!1;for(_===~~_?rt=_:rt=_===!0?Z_FINISH:Z_NO_FLUSH,toString.call(a)==="[object ArrayBuffer]"?$.input=new Uint8Array(a):$.input=a,$.next_in=0,$.avail_in=$.input.length;;){for($.avail_out===0&&($.output=new Uint8Array(j),$.next_out=0,$.avail_out=j),tt=inflate_1$2.inflate($,rt),tt===Z_NEED_DICT&&et&&(tt=inflate_1$2.inflateSetDictionary($,et),tt===Z_OK?tt=inflate_1$2.inflate($,rt):tt===Z_DATA_ERROR&&(tt=Z_NEED_DICT));$.avail_in>0&&tt===Z_STREAM_END&&$.state.wrap>0&&a[$.next_in]!==0;)inflate_1$2.inflateReset($),tt=inflate_1$2.inflate($,rt);switch(tt){case Z_STREAM_ERROR:case Z_DATA_ERROR:case Z_NEED_DICT:case Z_MEM_ERROR:return this.onEnd(tt),this.ended=!0,!1}if(nt=$.avail_out,$.next_out&&($.avail_out===0||tt===Z_STREAM_END))if(this.options.to==="string"){let it=strings.utf8border($.output,$.next_out),st=$.next_out-it,ot=strings.buf2string($.output,it);$.next_out=st,$.avail_out=j-st,st&&$.output.set($.output.subarray(it,it+st),0),this.onData(ot)}else this.onData($.output.length===$.next_out?$.output:$.output.subarray(0,$.next_out));if(!(tt===Z_OK&&nt===0)){if(tt===Z_STREAM_END)return tt=inflate_1$2.inflateEnd(this.strm),this.onEnd(tt),this.ended=!0,!0;if($.avail_in===0)break}}return!0};Inflate$1.prototype.onData=function(a){this.chunks.push(a)};Inflate$1.prototype.onEnd=function(a){a===Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=common.flattenChunks(this.chunks)),this.chunks=[],this.err=a,this.msg=this.strm.msg};function inflate$1(a,_){const $=new Inflate$1(_);if($.push(a),$.err)throw $.msg||messages[$.err];return $.result}function inflateRaw$1(a,_){return _=_||{},_.raw=!0,inflate$1(a,_)}var Inflate_1$1=Inflate$1,inflate_2=inflate$1,inflateRaw_1$1=inflateRaw$1,ungzip$1=inflate$1,constants=constants$2,inflate_1$1={Inflate:Inflate_1$1,inflate:inflate_2,inflateRaw:inflateRaw_1$1,ungzip:ungzip$1,constants};const{Inflate,inflate,inflateRaw,ungzip}=inflate_1$1;var ungzip_1=ungzip;const _hasBuffer=typeof Buffer$g=="function";typeof TextDecoder=="function"&&new TextDecoder;typeof TextEncoder=="function"&&new TextEncoder;const b64ch="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",b64chs=Array.prototype.slice.call(b64ch),b64tab=(a=>{let _={};return a.forEach(($,j)=>_[$]=j),_})(b64chs),b64re=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,_fromCC=String.fromCharCode.bind(String),_U8Afrom=typeof Uint8Array.from=="function"?Uint8Array.from.bind(Uint8Array):a=>new Uint8Array(Array.prototype.slice.call(a,0)),_tidyB64=a=>a.replace(/[^A-Za-z0-9\+\/]/g,""),atobPolyfill=a=>{if(a=a.replace(/\s+/g,""),!b64re.test(a))throw new TypeError("malformed base64.");a+="==".slice(2-(a.length&3));let _,$="",j,et;for(let tt=0;tt<a.length;)_=b64tab[a.charAt(tt++)]<<18|b64tab[a.charAt(tt++)]<<12|(j=b64tab[a.charAt(tt++)])<<6|(et=b64tab[a.charAt(tt++)]),$+=j===64?_fromCC(_>>16&255):et===64?_fromCC(_>>16&255,_>>8&255):_fromCC(_>>16&255,_>>8&255,_&255);return $},_atob=typeof atob=="function"?a=>atob(_tidyB64(a)):_hasBuffer?a=>Buffer$g.from(a,"base64").toString("binary"):atobPolyfill,_toUint8Array=_hasBuffer?a=>_U8Afrom(Buffer$g.from(a,"base64")):a=>_U8Afrom(_atob(a).split("").map(_=>_.charCodeAt(0))),toUint8Array=a=>_toUint8Array(_unURI(a)),_unURI=a=>_tidyB64(a.replace(/[-_]/g,_=>_=="-"?"+":"/")),unzipurl=a=>ungzip_1(toUint8Array(a),{to:"string"}),PARAMS_MAPPING={at:"access_token",a:"authuser",ei:"expires_in",it:"id_token",ii:"instanceId",p:"prompt",sc:"scope",st:"state",vi:"version_info"},PARAMS_REVERSE_MAPPING=lodashExports.invert(PARAMS_MAPPING),parseTorusRedirectParams=a=>{const _=new URLSearchParams(unzipurl(a.replace("umami://auth/",""))),$=(tt,rt)=>(tt[rt]=_.get(PARAMS_REVERSE_MAPPING[rt])??_.get(rt),tt),j={verifier:"umami",redirectToOpener:"true",typeOfLogin:"google",...$({},"instanceId")},et={hd:"trili.tech",token_type:"Bearer",...["state","access_token","expires_in","scope","id_token","authuser","prompt"].reduce($,{})};return{channel:`redirect_channel_${j.instanceId}`,data:{instanceParams:j,hashParams:et},...$({},"error")}},MIN_LENGTH=8,PasswordInput=({inputName:a,label:_="Password",placeholder:$="Enter your password",required:j="Password is required",validate:et,...tt})=>{const{register:rt}=useFormContext(),[nt,it]=reactExports.useState(!1);return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(FormLabel,{children:_}),jsxRuntimeExports.jsxs(InputGroup,{marginTop:"12px",children:[jsxRuntimeExports.jsx(Input,{"aria-label":_,autoComplete:"off",placeholder:$,type:nt?"text":"password",...rt(a,{required:j,minLength:{value:j?MIN_LENGTH:0,message:`Your password must be at least ${MIN_LENGTH} characters long`},validate:et}),...tt}),jsxRuntimeExports.jsx(InputRightElement,{children:jsxRuntimeExports.jsx(Button,{onClick:()=>it(st=>!st),tabIndex:-1,variant:"unstyled",children:nt?jsxRuntimeExports.jsx(EyeSlashIcon,{"data-testid":"eye-slash-icon"}):jsxRuntimeExports.jsx(EyeIcon,{width:"16.5px","data-testid":"eye-icon"})})})]})]})},SignButton=({signer:a,onSubmit:_,isLoading:$,isDisabled:j,text:et})=>{const tt=useForm({mode:"onBlur",defaultValues:{password:""}}),{handleSubmit:rt,formState:{errors:nt,isValid:it}}=tt,st=useSelectedNetwork(),ot=useGetSecretKey(),at=useToast(),{isLoading:ut,handleAsyncAction:ht}=useAsyncActionHandler(),yt=ut||$,wt=async({password:Mt})=>ht(async()=>{const Lt=await ot(a,Mt);return _(await makeToolkit({type:"mnemonic",secretKey:Lt,network:st}))}),Ct=async({password:Mt})=>ht(async()=>{const Lt=await ot(a,Mt);return _(await makeToolkit({type:"secret_key",secretKey:Lt,network:st}))}),Pt=async()=>ht(async()=>{const{secretKey:Mt}=await getGoogleCredentials();return _(await makeToolkit({type:"social",secretKey:Mt,network:st}))}),Tt=async()=>ht(async()=>(at({id:"ledger-sign-toast",description:"Please approve the operation on your Ledger",status:"info",duration:6e4,isClosable:!0}),_(await makeToolkit({type:"ledger",account:a,network:st}))),Mt=>({description:`${Mt.message} Please connect your ledger, open Tezos app and try submitting transaction again`,status:"error"})).finally(()=>at.close("ledger-sign-toast"));switch(a.type){case"secret_key":case"mnemonic":return jsxRuntimeExports.jsx(Box,{width:"100%",children:jsxRuntimeExports.jsxs(FormProvider,{...tt,children:[jsxRuntimeExports.jsxs(FormControl,{isInvalid:!!nt.password,marginY:"16px",children:[jsxRuntimeExports.jsx(PasswordInput,{"data-testid":"password",inputName:"password"}),nt.password&&jsxRuntimeExports.jsx(FormErrorMessage,{children:nt.password.message})]}),jsxRuntimeExports.jsx(Button,{width:"100%",marginTop:"8px",isDisabled:j||!it,isLoading:yt,onClick:rt(a.type==="mnemonic"?wt:Ct),size:"lg",type:"submit",children:et||"Submit Transaction"})]})});case"social":return jsxRuntimeExports.jsx(Button,{width:"100%",isDisabled:j,isLoading:yt,onClick:Pt,size:"lg",children:et||"Sign with Google"});case"ledger":return jsxRuntimeExports.jsx(Button,{width:"100%",isDisabled:j,isLoading:yt,onClick:Tt,size:"lg",children:et||"Sign with Ledger"})}},SignPayloadRequestModal=({request:a})=>{const{onClose:_}=reactExports.useContext(DynamicModalContext),j=useGetImplicitAccount()(a.sourceAddress),et=useToast(),tt=async rt=>{const nt=await rt.signer.sign(a.payload),it={type:BeaconMessageType.SignPayloadResponse,id:a.id,signingType:a.signingType,signature:nt.prefixSig};await WalletClient.respond(it),et({description:"Successfully submitted Beacon operation",status:"success"}),_()};return jsxRuntimeExports.jsxs(ModalContent,{children:[jsxRuntimeExports.jsx(ModalHeader,{marginBottom:"32px",textAlign:"center",children:"Connect with pairing request"}),jsxRuntimeExports.jsx(ModalCloseButton,{}),jsxRuntimeExports.jsxs(ModalBody,{children:[jsxRuntimeExports.jsx(Heading,{marginBottom:"12px",size:"l",children:`${a.appMetadata.name}/dApp Pairing Request`}),jsxRuntimeExports.jsx(Box,{padding:"15px",border:"1px solid",borderColor:colors.gray[500],borderRadius:"4px",backgroundColor:colors.gray[800],children:jsxRuntimeExports.jsx(Text,{color:colors.gray[450],size:"md",children:a.payload})})]}),jsxRuntimeExports.jsx(ModalFooter,{justifyContent:"center",display:"flex",padding:"16px 0 0 0",children:jsxRuntimeExports.jsx(SignButton,{onSubmit:tt,signer:j,text:"Connect"})})]})},HeaderWrapper=chakra(ModalHeader,{baseStyle:{padding:0,paddingBottom:"32px",textAlign:"center"}}),FormPageHeader=({title:a="Send",subTitle:_="Send one or insert into batch"})=>jsxRuntimeExports.jsxs(HeaderWrapper,{children:[jsxRuntimeExports.jsx(Heading,{size:"2xl",children:a}),jsxRuntimeExports.jsx(Text,{marginTop:"10px",color:colors.gray[400],textAlign:"center",size:"sm",children:_}),jsxRuntimeExports.jsx(ModalCloseButton,{})]});var ChevronDownIcon=createIcon({displayName:"ChevronDownIcon",d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"}),ArrowBackIcon=createIcon({d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z",displayName:"ArrowBackIcon"});const ModalBackButton=({onClick:a})=>jsxRuntimeExports.jsx(IconButton,{...backButtonStyle,"aria-label":"Back","data-testid":"back-button",icon:jsxRuntimeExports.jsx(ArrowBackIcon,{width:"24px",height:"20px"}),onClick:a,size:"sm",variant:"ghost"}),headerText=(a,_)=>{let $;switch(a){case"implicit":$=_==="batch"?"Submit":"Confirm";break;case"proposal":$="Propose"}switch(_){case"single":return`${$} Transaction`;case"batch":return`${$} Batch`}},subTitle=a=>{switch(a.type){case"ledger":case"social":return;case"mnemonic":case"secret_key":return"Enter your password to confirm this transaction."}},SignPageHeader=({goBack:a,mode:_,operationsType:$,signer:j,title:et,description:tt,children:rt})=>jsxRuntimeExports.jsxs(HeaderWrapper,{children:[a&&jsxRuntimeExports.jsx(ModalBackButton,{onClick:a}),jsxRuntimeExports.jsx(Heading,{"data-testid":"sign-page-header",size:"2xl",children:et||headerText($,_)}),jsxRuntimeExports.jsx(Text,{marginTop:"10px",color:colors.gray[400],textAlign:"center",size:"sm",children:tt||subTitle(j)}),jsxRuntimeExports.jsx(ModalCloseButton,{}),rt]}),Header$1=({operation:a,message:_,mode:$})=>jsxRuntimeExports.jsxs(SignPageHeader,{mode:$,operationsType:a.type,signer:a.signer,children:[jsxRuntimeExports.jsxs(Flex,{alignItems:"center",justifyContent:"center",marginTop:"10px",children:[jsxRuntimeExports.jsx(Heading,{marginRight:"4px",color:colors.gray[450],size:"sm",children:"Network:"}),jsxRuntimeExports.jsx(Text,{color:colors.gray[400],size:"sm",children:lodashExports.capitalize(_.network.type)})]}),jsxRuntimeExports.jsxs(Flex,{alignItems:"center",marginTop:"16px",padding:"15px",borderRadius:"4px",backgroundColor:colors.gray[800],children:[jsxRuntimeExports.jsx(AspectRatio,{width:"30px",marginRight:"12px",ratio:1,children:jsxRuntimeExports.jsx(Image$1,{borderRadius:"4px",src:_.appMetadata.icon})}),jsxRuntimeExports.jsx(Heading,{size:"sm",children:_.appMetadata.name})]})]}),WindowLinkIcon=a=>jsxRuntimeExports.jsx(Icon,{width:"14px",height:"14px",fill:"none",stroke:colors.gray[450],viewBox:"0 0 14 14",xmlns:"http://www.w3.org/2000/svg",...a,children:jsxRuntimeExports.jsx("path",{d:"M13 1L7 7M13 1V4.375M13 1H9.625M12.25 7.375V10.6C12.25 11.4401 12.25 11.8601 12.0865 12.181C11.9427 12.4632 11.7132 12.6927 11.431 12.8365C11.1101 13 10.6901 13 9.85 13H3.4C2.55992 13 2.13988 13 1.81901 12.8365C1.53677 12.6927 1.3073 12.4632 1.16349 12.181C1 11.8601 1 11.4401 1 10.6V4.15C1 3.30992 1 2.88988 1.16349 2.56901C1.3073 2.28677 1.53677 2.0573 1.81901 1.91349C2.13988 1.75 2.55992 1.75 3.4 1.75H6.625",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.2"})}),SuccessStep=({hash:a})=>{const $=`${useSelectedNetwork().tzktExplorerUrl}/${a}`,{onClose:j}=reactExports.useContext(DynamicModalContext),et=useNavigate();return jsxRuntimeExports.jsxs(ModalContent,{paddingY:"20px",children:[jsxRuntimeExports.jsx(ModalCloseButton,{}),jsxRuntimeExports.jsx(ModalHeader,{textAlign:"center",children:jsxRuntimeExports.jsx(Heading,{children:"Operation Submitted"})}),jsxRuntimeExports.jsx(ModalBody,{children:jsxRuntimeExports.jsx(Flex,{justifyContent:"center",marginTop:"10px",children:jsxRuntimeExports.jsx(Text,{color:"text.dark",textAlign:"center",size:"sm",children:"You can follow this operation's progress in the Operations section. It may take up to 30 seconds to appear."})})}),jsxRuntimeExports.jsxs(ModalFooter,{justifyContent:"center",flexDirection:"column",width:"100%",children:[jsxRuntimeExports.jsx(Button,{width:"100%",onClick:()=>{j(),et("/operations")},size:"lg",children:"See all Operations"}),jsxRuntimeExports.jsx(Link,{rel:"noopener noreferrer",target:"_blank",to:$,children:jsxRuntimeExports.jsx(Flex,{alignItems:"center",marginTop:"24px",children:jsxRuntimeExports.jsxs(Button,{variant:"CTAWithIcon",children:[jsxRuntimeExports.jsx(Text,{marginRight:"4px",children:"View in Tzkt"}),jsxRuntimeExports.jsx(WindowLinkIcon,{stroke:"currentcolor"})]})})})]})]})},useSignWithBeacon=(a,_)=>{const{isLoading:$,handleAsyncAction:j}=useAsyncActionHandler(),{openWith:et}=reactExports.useContext(DynamicModalContext);return{isSigning:$,onSign:async rt=>j(async()=>{const{opHash:nt}=await executeOperations(a,rt),it={type:BeaconMessageType.OperationResponse,id:_.id,transactionHash:nt};return await WalletClient.respond(it),et(jsxRuntimeExports.jsx(SuccessStep,{hash:nt}))},nt=>({description:`Failed to confirm Beacon operation: ${nt.message}`}))}},SignPageFee=({fee:a})=>jsxRuntimeExports.jsxs(Flex,{alignItems:"center",children:[jsxRuntimeExports.jsx(Heading,{marginRight:"4px",color:colors.gray[450],size:"sm",children:"Fee:"}),jsxRuntimeExports.jsx(Text,{color:colors.gray[400],"data-testid":"fee",size:"sm",children:prettyTezAmount(a)})]}),BatchSignPage=({operation:a,fee:_,message:$})=>{const{isSigning:j,onSign:et}=useSignWithBeacon(a,$),{signer:tt}=a,rt=a.operations.length;return jsxRuntimeExports.jsx(ModalContent,{children:jsxRuntimeExports.jsxs("form",{children:[jsxRuntimeExports.jsx(Header$1,{message:$,mode:"batch",operation:a}),jsxRuntimeExports.jsxs(ModalBody,{children:[jsxRuntimeExports.jsx(Accordion,{allowToggle:!0,children:jsxRuntimeExports.jsxs(AccordionItem,{background:colors.gray[800],border:"none",borderRadius:"8px",children:[jsxRuntimeExports.jsxs(AccordionButton,{children:[jsxRuntimeExports.jsx(Heading,{flex:"1",textAlign:"left",paddingY:"6px",size:"sm",children:"Operations"}),jsxRuntimeExports.jsx(AccordionIcon,{})]}),jsxRuntimeExports.jsx(AccordionPanel,{children:jsxRuntimeExports.jsx(JsValueWrap,{overflowY:"auto",maxHeight:"200px",value:$.operationDetails})})]})}),jsxRuntimeExports.jsx(FormLabel,{marginTop:"16px",children:"From"}),jsxRuntimeExports.jsx(AddressTile,{address:tt.address}),jsxRuntimeExports.jsxs(Flex,{alignItems:"center",justifyContent:"space-between",marginY:"12px",paddingX:"4px",children:[jsxRuntimeExports.jsxs(Flex,{children:[jsxRuntimeExports.jsx(Text,{marginRight:"4px",color:colors.gray[450],size:"sm",children:"Transactions:"}),jsxRuntimeExports.jsx(Text,{color:colors.gray[400],"data-testid":"transaction-length",size:"sm",children:rt})]}),jsxRuntimeExports.jsx(SignPageFee,{fee:_})]})]}),jsxRuntimeExports.jsx(ModalFooter,{children:jsxRuntimeExports.jsx(SignButton,{isLoading:j,onSubmit:et,signer:tt,text:headerText(a.type,"batch")})})]})})},TezTile=({mutezAmount:a})=>jsxRuntimeExports.jsxs(Flex,{alignItems:"center",height:"60px",padding:"15px",background:colors.gray[800],borderRadius:"4px",children:[jsxRuntimeExports.jsx(TezIcon,{marginRight:"12px"}),jsxRuntimeExports.jsx(Flex,{alignItems:"end",children:jsxRuntimeExports.jsx(PrettyNumber,{number:prettyTezAmount(a)})})]}),ContractCallSignPage=({operation:a,fee:_,message:$})=>{const{amount:j,contract:et,entrypoint:tt,args:rt}=a.operations[0],{isSigning:nt,onSign:it}=useSignWithBeacon(a,$);return jsxRuntimeExports.jsx(ModalContent,{children:jsxRuntimeExports.jsxs("form",{children:[jsxRuntimeExports.jsx(Header$1,{message:$,mode:"single",operation:a}),jsxRuntimeExports.jsxs(ModalBody,{children:[jsxRuntimeExports.jsx(TezTile,{mutezAmount:j}),jsxRuntimeExports.jsx(Flex,{alignItems:"center",justifyContent:"end",marginTop:"12px",children:jsxRuntimeExports.jsx(SignPageFee,{fee:_})}),jsxRuntimeExports.jsx(FormLabel,{marginTop:"24px",children:"From "}),jsxRuntimeExports.jsx(AddressTile,{address:a.sender.address}),jsxRuntimeExports.jsx(FormLabel,{marginTop:"24px",children:"To "}),jsxRuntimeExports.jsx(AddressTile,{address:et}),jsxRuntimeExports.jsx(FormLabel,{marginTop:"24px",children:"Contract Call Parameter"}),jsxRuntimeExports.jsx(Accordion,{allowToggle:!0,children:jsxRuntimeExports.jsxs(AccordionItem,{background:colors.gray[800],border:"none",borderRadius:"8px",children:[jsxRuntimeExports.jsxs(AccordionButton,{children:[jsxRuntimeExports.jsx(Box,{flex:"1",textAlign:"left",children:"JSON"}),jsxRuntimeExports.jsx(AccordionIcon,{})]}),jsxRuntimeExports.jsx(AccordionPanel,{children:jsxRuntimeExports.jsx(JsValueWrap,{value:{entrypoint:tt,values:rt}})})]})})]}),jsxRuntimeExports.jsx(ModalFooter,{padding:"16px 0 0 0",children:jsxRuntimeExports.jsx(SignButton,{isLoading:nt,onSubmit:it,signer:a.signer,text:headerText(a.type,"single")})})]})})},DelegationSignPage=({operation:a,fee:_,message:$})=>{const{recipient:j}=a.operations[0],{isSigning:et,onSign:tt}=useSignWithBeacon(a,$);return jsxRuntimeExports.jsx(ModalContent,{children:jsxRuntimeExports.jsxs("form",{children:[jsxRuntimeExports.jsx(Header$1,{message:$,mode:"single",operation:a}),jsxRuntimeExports.jsxs(ModalBody,{children:[jsxRuntimeExports.jsx(FormLabel,{children:"From"}),jsxRuntimeExports.jsx(AddressTile,{address:a.signer.address}),jsxRuntimeExports.jsx(Flex,{alignItems:"center",justifyContent:"end",marginTop:"12px",marginBottom:"24px",paddingX:"4px",children:jsxRuntimeExports.jsx(Flex,{alignItems:"center",children:jsxRuntimeExports.jsx(SignPageFee,{fee:_})})}),jsxRuntimeExports.jsx(FormLabel,{children:"To"}),jsxRuntimeExports.jsx(AddressTile,{address:j})]}),jsxRuntimeExports.jsx(ModalFooter,{children:jsxRuntimeExports.jsx(SignButton,{isLoading:et,onSubmit:tt,signer:a.signer,text:headerText(a.type,"single")})})]})})},TezSignPage=({operation:a,fee:_,message:$})=>{const{amount:j,recipient:et}=a.operations[0],{isSigning:tt,onSign:rt}=useSignWithBeacon(a,$);return jsxRuntimeExports.jsx(ModalContent,{children:jsxRuntimeExports.jsxs("form",{children:[jsxRuntimeExports.jsx(Header$1,{message:$,mode:"single",operation:a}),jsxRuntimeExports.jsxs(ModalBody,{children:[jsxRuntimeExports.jsx(TezTile,{mutezAmount:j}),jsxRuntimeExports.jsx(Flex,{alignItems:"center",justifyContent:"end",marginTop:"12px",children:jsxRuntimeExports.jsx(SignPageFee,{fee:_})}),jsxRuntimeExports.jsx(FormLabel,{marginTop:"24px",children:"From "}),jsxRuntimeExports.jsx(AddressTile,{address:a.sender.address}),jsxRuntimeExports.jsx(FormLabel,{marginTop:"24px",children:"To "}),jsxRuntimeExports.jsx(AddressTile,{address:et})]}),jsxRuntimeExports.jsx(ModalFooter,{children:jsxRuntimeExports.jsx(SignButton,{isLoading:tt,onSubmit:rt,signer:a.signer,text:headerText(a.type,"single")})})]})})},UndelegationSignPage=({operation:a,fee:_,message:$})=>{const{isSigning:j,onSign:et}=useSignWithBeacon(a,$);return jsxRuntimeExports.jsx(ModalContent,{children:jsxRuntimeExports.jsxs("form",{children:[jsxRuntimeExports.jsx(Header$1,{message:$,mode:"single",operation:a}),jsxRuntimeExports.jsxs(ModalBody,{children:[jsxRuntimeExports.jsx(FormLabel,{children:"From"}),jsxRuntimeExports.jsx(AddressTile,{address:a.signer.address}),jsxRuntimeExports.jsx(Flex,{alignItems:"center",justifyContent:"end",marginTop:"12px",paddingX:"4px",children:jsxRuntimeExports.jsx(SignPageFee,{fee:_})})]}),jsxRuntimeExports.jsx(ModalFooter,{children:jsxRuntimeExports.jsx(SignButton,{isLoading:j,onSubmit:et,signer:a.signer,text:headerText(a.type,"single")})})]})})},BeaconSignPage=({operation:a,fee:_,message:$})=>{switch(a.operations[0].type){case"tez":return jsxRuntimeExports.jsx(TezSignPage,{fee:_,message:$,operation:a});case"contract_call":return jsxRuntimeExports.jsx(ContractCallSignPage,{fee:_,message:$,operation:a});case"delegation":return jsxRuntimeExports.jsx(DelegationSignPage,{fee:_,message:$,operation:a});case"undelegation":return jsxRuntimeExports.jsx(UndelegationSignPage,{fee:_,message:$,operation:a});case"fa1.2":case"fa2":case"contract_origination":throw new Error("Unsupported operation type")}},useHandleBeaconMessage=()=>{const{openWith:a}=reactExports.useContext(DynamicModalContext),{handleAsyncAction:_}=useAsyncActionHandler(),$=useGetOwnedAccount(),j=useSelectedNetwork();return et=>{_(async()=>{let tt;switch(et.type){case BeaconMessageType.PermissionRequest:{tt=jsxRuntimeExports.jsx(PermissionRequestModal,{request:et});break}case BeaconMessageType.SignPayloadRequest:{tt=jsxRuntimeExports.jsx(SignPayloadRequestModal,{request:et});break}case BeaconMessageType.OperationRequest:{const rt=$(et.sourceAddress),nt=toAccountOperations(et.operationDetails,rt),it=await estimate(nt,j);nt.operations.length===1?tt=jsxRuntimeExports.jsx(BeaconSignPage,{fee:it,message:et,operation:nt}):tt=jsxRuntimeExports.jsx(BatchSignPage,{fee:it,message:et,operation:nt});break}default:throw new Error(`Unknown Beacon message type: ${et.type}`)}return a(tt)},tt=>({description:`Error while processing Beacon request: ${tt.message}`}))}},toAccountOperations=(a,_)=>{if(a.length===0)throw new Error("Empty operation details!");const $=a.map(j=>partialOperationToOperation(j,_));return{type:"implicit",sender:_,operations:$,signer:_}},partialOperationToOperation=(a,_)=>{switch(a.kind){case TezosOperationType.TRANSACTION:{const{destination:$,amount:j,parameters:et}=a;return isValidContractPkh($)&&et?{type:"contract_call",amount:j,contract:parseContractPkh($),entrypoint:et.entrypoint,args:et.value}:{type:"tez",amount:j,recipient:parseImplicitPkh(a.destination)}}case TezosOperationType.DELEGATION:{const{delegate:$}=a;return $?{type:"delegation",sender:_.address,recipient:parseImplicitPkh($)}:{type:"undelegation",sender:_.address}}default:throw new Error(`Unsupported operation kind: ${a.kind}`)}},BeaconProvider=({children:a})=>{const _=useToast(),$=useHandleBeaconMessage();return reactExports.useEffect(()=>{WalletClient.init().then(()=>WalletClient.connect($)).catch(j=>{_({status:j,description:`Failed to connect to Beacon: ${j.message}`})})}),a};function toDate(a){const _=Object.prototype.toString.call(a);return a instanceof Date||typeof a=="object"&&_==="[object Date]"?new a.constructor(+a):typeof a=="number"||_==="[object Number]"||typeof a=="string"||_==="[object String]"?new Date(a):new Date(NaN)}function constructFrom(a,_){return a instanceof Date?new a.constructor(_):new Date(_)}const millisecondsInWeek=6048e5,millisecondsInDay=864e5,millisecondsInMinute=6e4,millisecondsInHour=36e5,millisecondsInSecond=1e3,minutesInMonth=43200,minutesInDay=1440;let defaultOptions={};function getDefaultOptions(){return defaultOptions}function startOfWeek(a,_){var nt,it,st,ot;const $=getDefaultOptions(),j=(_==null?void 0:_.weekStartsOn)??((it=(nt=_==null?void 0:_.locale)==null?void 0:nt.options)==null?void 0:it.weekStartsOn)??$.weekStartsOn??((ot=(st=$.locale)==null?void 0:st.options)==null?void 0:ot.weekStartsOn)??0,et=toDate(a),tt=et.getDay(),rt=(tt<j?7:0)+tt-j;return et.setDate(et.getDate()-rt),et.setHours(0,0,0,0),et}function startOfISOWeek(a){return startOfWeek(a,{weekStartsOn:1})}function getISOWeekYear(a){const _=toDate(a),$=_.getFullYear(),j=constructFrom(a,0);j.setFullYear($+1,0,4),j.setHours(0,0,0,0);const et=startOfISOWeek(j),tt=constructFrom(a,0);tt.setFullYear($,0,4),tt.setHours(0,0,0,0);const rt=startOfISOWeek(tt);return _.getTime()>=et.getTime()?$+1:_.getTime()>=rt.getTime()?$:$-1}function startOfDay(a){const _=toDate(a);return _.setHours(0,0,0,0),_}function getTimezoneOffsetInMilliseconds(a){const _=toDate(a),$=new Date(Date.UTC(_.getFullYear(),_.getMonth(),_.getDate(),_.getHours(),_.getMinutes(),_.getSeconds(),_.getMilliseconds()));return $.setUTCFullYear(_.getFullYear()),+a-+$}function differenceInCalendarDays(a,_){const $=startOfDay(a),j=startOfDay(_),et=+$-getTimezoneOffsetInMilliseconds($),tt=+j-getTimezoneOffsetInMilliseconds(j);return Math.round((et-tt)/millisecondsInDay)}function startOfISOWeekYear(a){const _=getISOWeekYear(a),$=constructFrom(a,0);return $.setFullYear(_,0,4),$.setHours(0,0,0,0),startOfISOWeek($)}function compareAsc(a,_){const $=toDate(a),j=toDate(_),et=$.getTime()-j.getTime();return et<0?-1:et>0?1:et}function isDate(a){return a instanceof Date||typeof a=="object"&&Object.prototype.toString.call(a)==="[object Date]"}function isValid(a){if(!isDate(a)&&typeof a!="number")return!1;const _=toDate(a);return!isNaN(Number(_))}function differenceInCalendarMonths(a,_){const $=toDate(a),j=toDate(_),et=$.getFullYear()-j.getFullYear(),tt=$.getMonth()-j.getMonth();return et*12+tt}function differenceInDays(a,_){const $=toDate(a),j=toDate(_),et=compareLocalAsc($,j),tt=Math.abs(differenceInCalendarDays($,j));$.setDate($.getDate()-et*tt);const rt=+(compareLocalAsc($,j)===-et),nt=et*(tt-rt);return nt===0?0:nt}function compareLocalAsc(a,_){const $=a.getFullYear()-_.getFullYear()||a.getMonth()-_.getMonth()||a.getDate()-_.getDate()||a.getHours()-_.getHours()||a.getMinutes()-_.getMinutes()||a.getSeconds()-_.getSeconds()||a.getMilliseconds()-_.getMilliseconds();return $<0?-1:$>0?1:$}function getRoundingMethod(a){return _=>{const j=(a?Math[a]:Math.trunc)(_);return j===0?0:j}}function differenceInMilliseconds(a,_){return+toDate(a)-+toDate(_)}function differenceInMinutes(a,_,$){const j=differenceInMilliseconds(a,_)/millisecondsInMinute;return getRoundingMethod($==null?void 0:$.roundingMethod)(j)}function endOfDay(a){const _=toDate(a);return _.setHours(23,59,59,999),_}function endOfMonth(a){const _=toDate(a),$=_.getMonth();return _.setFullYear(_.getFullYear(),$+1,0),_.setHours(23,59,59,999),_}function isLastDayOfMonth(a){const _=toDate(a);return+endOfDay(_)==+endOfMonth(_)}function differenceInMonths(a,_){const $=toDate(a),j=toDate(_),et=compareAsc($,j),tt=Math.abs(differenceInCalendarMonths($,j));let rt;if(tt<1)rt=0;else{$.getMonth()===1&&$.getDate()>27&&$.setDate(30),$.setMonth($.getMonth()-et*tt);let nt=compareAsc($,j)===-et;isLastDayOfMonth(toDate(a))&&tt===1&&compareAsc(a,j)===1&&(nt=!1),rt=et*(tt-Number(nt))}return rt===0?0:rt}function differenceInSeconds(a,_,$){const j=differenceInMilliseconds(a,_)/1e3;return getRoundingMethod($==null?void 0:$.roundingMethod)(j)}function startOfYear(a){const _=toDate(a),$=constructFrom(a,0);return $.setFullYear(_.getFullYear(),0,1),$.setHours(0,0,0,0),$}const formatDistanceLocale={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},formatDistance$1=(a,_,$)=>{let j;const et=formatDistanceLocale[a];return typeof et=="string"?j=et:_===1?j=et.one:j=et.other.replace("{{count}}",_.toString()),$!=null&&$.addSuffix?$.comparison&&$.comparison>0?"in "+j:j+" ago":j};function buildFormatLongFn(a){return(_={})=>{const $=_.width?String(_.width):a.defaultWidth;return a.formats[$]||a.formats[a.defaultWidth]}}const dateFormats={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},timeFormats={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},dateTimeFormats={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},formatLong={date:buildFormatLongFn({formats:dateFormats,defaultWidth:"full"}),time:buildFormatLongFn({formats:timeFormats,defaultWidth:"full"}),dateTime:buildFormatLongFn({formats:dateTimeFormats,defaultWidth:"full"})},formatRelativeLocale={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},formatRelative$1=(a,_,$,j)=>formatRelativeLocale[a];function buildLocalizeFn(a){return(_,$)=>{const j=$!=null&&$.context?String($.context):"standalone";let et;if(j==="formatting"&&a.formattingValues){const rt=a.defaultFormattingWidth||a.defaultWidth,nt=$!=null&&$.width?String($.width):rt;et=a.formattingValues[nt]||a.formattingValues[rt]}else{const rt=a.defaultWidth,nt=$!=null&&$.width?String($.width):a.defaultWidth;et=a.values[nt]||a.values[rt]}const tt=a.argumentCallback?a.argumentCallback(_):_;return et[tt]}}const eraValues={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},quarterValues={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},monthValues={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},dayValues={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},dayPeriodValues={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},formattingDayPeriodValues={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},ordinalNumber=(a,_)=>{const $=Number(a),j=$%100;if(j>20||j<10)switch(j%10){case 1:return $+"st";case 2:return $+"nd";case 3:return $+"rd"}return $+"th"},localize={ordinalNumber,era:buildLocalizeFn({values:eraValues,defaultWidth:"wide"}),quarter:buildLocalizeFn({values:quarterValues,defaultWidth:"wide",argumentCallback:a=>a-1}),month:buildLocalizeFn({values:monthValues,defaultWidth:"wide"}),day:buildLocalizeFn({values:dayValues,defaultWidth:"wide"}),dayPeriod:buildLocalizeFn({values:dayPeriodValues,defaultWidth:"wide",formattingValues:formattingDayPeriodValues,defaultFormattingWidth:"wide"})};function buildMatchFn(a){return(_,$={})=>{const j=$.width,et=j&&a.matchPatterns[j]||a.matchPatterns[a.defaultMatchWidth],tt=_.match(et);if(!tt)return null;const rt=tt[0],nt=j&&a.parsePatterns[j]||a.parsePatterns[a.defaultParseWidth],it=Array.isArray(nt)?findIndex(nt,at=>at.test(rt)):findKey(nt,at=>at.test(rt));let st;st=a.valueCallback?a.valueCallback(it):it,st=$.valueCallback?$.valueCallback(st):st;const ot=_.slice(rt.length);return{value:st,rest:ot}}}function findKey(a,_){for(const $ in a)if(Object.prototype.hasOwnProperty.call(a,$)&&_(a[$]))return $}function findIndex(a,_){for(let $=0;$<a.length;$++)if(_(a[$]))return $}function buildMatchPatternFn(a){return(_,$={})=>{const j=_.match(a.matchPattern);if(!j)return null;const et=j[0],tt=_.match(a.parsePattern);if(!tt)return null;let rt=a.valueCallback?a.valueCallback(tt[0]):tt[0];rt=$.valueCallback?$.valueCallback(rt):rt;const nt=_.slice(et.length);return{value:rt,rest:nt}}}const matchOrdinalNumberPattern=/^(\d+)(th|st|nd|rd)?/i,parseOrdinalNumberPattern=/\d+/i,matchEraPatterns={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},parseEraPatterns={any:[/^b/i,/^(a|c)/i]},matchQuarterPatterns={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},parseQuarterPatterns={any:[/1/i,/2/i,/3/i,/4/i]},matchMonthPatterns={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},parseMonthPatterns={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},matchDayPatterns={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},parseDayPatterns={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},matchDayPeriodPatterns={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},parseDayPeriodPatterns={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},match={ordinalNumber:buildMatchPatternFn({matchPattern:matchOrdinalNumberPattern,parsePattern:parseOrdinalNumberPattern,valueCallback:a=>parseInt(a,10)}),era:buildMatchFn({matchPatterns:matchEraPatterns,defaultMatchWidth:"wide",parsePatterns:parseEraPatterns,defaultParseWidth:"any"}),quarter:buildMatchFn({matchPatterns:matchQuarterPatterns,defaultMatchWidth:"wide",parsePatterns:parseQuarterPatterns,defaultParseWidth:"any",valueCallback:a=>a+1}),month:buildMatchFn({matchPatterns:matchMonthPatterns,defaultMatchWidth:"wide",parsePatterns:parseMonthPatterns,defaultParseWidth:"any"}),day:buildMatchFn({matchPatterns:matchDayPatterns,defaultMatchWidth:"wide",parsePatterns:parseDayPatterns,defaultParseWidth:"any"}),dayPeriod:buildMatchFn({matchPatterns:matchDayPeriodPatterns,defaultMatchWidth:"any",parsePatterns:parseDayPeriodPatterns,defaultParseWidth:"any"})},enUS={code:"en-US",formatDistance:formatDistance$1,formatLong,formatRelative:formatRelative$1,localize,match,options:{weekStartsOn:0,firstWeekContainsDate:1}};function getDayOfYear(a){const _=toDate(a);return differenceInCalendarDays(_,startOfYear(_))+1}function getISOWeek(a){const _=toDate(a),$=+startOfISOWeek(_)-+startOfISOWeekYear(_);return Math.round($/millisecondsInWeek)+1}function getWeekYear(a,_){var ot,at,ut,ht;const $=toDate(a),j=$.getFullYear(),et=getDefaultOptions(),tt=(_==null?void 0:_.firstWeekContainsDate)??((at=(ot=_==null?void 0:_.locale)==null?void 0:ot.options)==null?void 0:at.firstWeekContainsDate)??et.firstWeekContainsDate??((ht=(ut=et.locale)==null?void 0:ut.options)==null?void 0:ht.firstWeekContainsDate)??1,rt=constructFrom(a,0);rt.setFullYear(j+1,0,tt),rt.setHours(0,0,0,0);const nt=startOfWeek(rt,_),it=constructFrom(a,0);it.setFullYear(j,0,tt),it.setHours(0,0,0,0);const st=startOfWeek(it,_);return $.getTime()>=nt.getTime()?j+1:$.getTime()>=st.getTime()?j:j-1}function startOfWeekYear(a,_){var nt,it,st,ot;const $=getDefaultOptions(),j=(_==null?void 0:_.firstWeekContainsDate)??((it=(nt=_==null?void 0:_.locale)==null?void 0:nt.options)==null?void 0:it.firstWeekContainsDate)??$.firstWeekContainsDate??((ot=(st=$.locale)==null?void 0:st.options)==null?void 0:ot.firstWeekContainsDate)??1,et=getWeekYear(a,_),tt=constructFrom(a,0);return tt.setFullYear(et,0,j),tt.setHours(0,0,0,0),startOfWeek(tt,_)}function getWeek(a,_){const $=toDate(a),j=+startOfWeek($,_)-+startOfWeekYear($,_);return Math.round(j/millisecondsInWeek)+1}function addLeadingZeros(a,_){const $=a<0?"-":"",j=Math.abs(a).toString().padStart(_,"0");return $+j}const lightFormatters={y(a,_){const $=a.getFullYear(),j=$>0?$:1-$;return addLeadingZeros(_==="yy"?j%100:j,_.length)},M(a,_){const $=a.getMonth();return _==="M"?String($+1):addLeadingZeros($+1,2)},d(a,_){return addLeadingZeros(a.getDate(),_.length)},a(a,_){const $=a.getHours()/12>=1?"pm":"am";switch(_){case"a":case"aa":return $.toUpperCase();case"aaa":return $;case"aaaaa":return $[0];case"aaaa":default:return $==="am"?"a.m.":"p.m."}},h(a,_){return addLeadingZeros(a.getHours()%12||12,_.length)},H(a,_){return addLeadingZeros(a.getHours(),_.length)},m(a,_){return addLeadingZeros(a.getMinutes(),_.length)},s(a,_){return addLeadingZeros(a.getSeconds(),_.length)},S(a,_){const $=_.length,j=a.getMilliseconds(),et=Math.trunc(j*Math.pow(10,$-3));return addLeadingZeros(et,_.length)}},dayPeriodEnum={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},formatters={G:function(a,_,$){const j=a.getFullYear()>0?1:0;switch(_){case"G":case"GG":case"GGG":return $.era(j,{width:"abbreviated"});case"GGGGG":return $.era(j,{width:"narrow"});case"GGGG":default:return $.era(j,{width:"wide"})}},y:function(a,_,$){if(_==="yo"){const j=a.getFullYear(),et=j>0?j:1-j;return $.ordinalNumber(et,{unit:"year"})}return lightFormatters.y(a,_)},Y:function(a,_,$,j){const et=getWeekYear(a,j),tt=et>0?et:1-et;if(_==="YY"){const rt=tt%100;return addLeadingZeros(rt,2)}return _==="Yo"?$.ordinalNumber(tt,{unit:"year"}):addLeadingZeros(tt,_.length)},R:function(a,_){const $=getISOWeekYear(a);return addLeadingZeros($,_.length)},u:function(a,_){const $=a.getFullYear();return addLeadingZeros($,_.length)},Q:function(a,_,$){const j=Math.ceil((a.getMonth()+1)/3);switch(_){case"Q":return String(j);case"QQ":return addLeadingZeros(j,2);case"Qo":return $.ordinalNumber(j,{unit:"quarter"});case"QQQ":return $.quarter(j,{width:"abbreviated",context:"formatting"});case"QQQQQ":return $.quarter(j,{width:"narrow",context:"formatting"});case"QQQQ":default:return $.quarter(j,{width:"wide",context:"formatting"})}},q:function(a,_,$){const j=Math.ceil((a.getMonth()+1)/3);switch(_){case"q":return String(j);case"qq":return addLeadingZeros(j,2);case"qo":return $.ordinalNumber(j,{unit:"quarter"});case"qqq":return $.quarter(j,{width:"abbreviated",context:"standalone"});case"qqqqq":return $.quarter(j,{width:"narrow",context:"standalone"});case"qqqq":default:return $.quarter(j,{width:"wide",context:"standalone"})}},M:function(a,_,$){const j=a.getMonth();switch(_){case"M":case"MM":return lightFormatters.M(a,_);case"Mo":return $.ordinalNumber(j+1,{unit:"month"});case"MMM":return $.month(j,{width:"abbreviated",context:"formatting"});case"MMMMM":return $.month(j,{width:"narrow",context:"formatting"});case"MMMM":default:return $.month(j,{width:"wide",context:"formatting"})}},L:function(a,_,$){const j=a.getMonth();switch(_){case"L":return String(j+1);case"LL":return addLeadingZeros(j+1,2);case"Lo":return $.ordinalNumber(j+1,{unit:"month"});case"LLL":return $.month(j,{width:"abbreviated",context:"standalone"});case"LLLLL":return $.month(j,{width:"narrow",context:"standalone"});case"LLLL":default:return $.month(j,{width:"wide",context:"standalone"})}},w:function(a,_,$,j){const et=getWeek(a,j);return _==="wo"?$.ordinalNumber(et,{unit:"week"}):addLeadingZeros(et,_.length)},I:function(a,_,$){const j=getISOWeek(a);return _==="Io"?$.ordinalNumber(j,{unit:"week"}):addLeadingZeros(j,_.length)},d:function(a,_,$){return _==="do"?$.ordinalNumber(a.getDate(),{unit:"date"}):lightFormatters.d(a,_)},D:function(a,_,$){const j=getDayOfYear(a);return _==="Do"?$.ordinalNumber(j,{unit:"dayOfYear"}):addLeadingZeros(j,_.length)},E:function(a,_,$){const j=a.getDay();switch(_){case"E":case"EE":case"EEE":return $.day(j,{width:"abbreviated",context:"formatting"});case"EEEEE":return $.day(j,{width:"narrow",context:"formatting"});case"EEEEEE":return $.day(j,{width:"short",context:"formatting"});case"EEEE":default:return $.day(j,{width:"wide",context:"formatting"})}},e:function(a,_,$,j){const et=a.getDay(),tt=(et-j.weekStartsOn+8)%7||7;switch(_){case"e":return String(tt);case"ee":return addLeadingZeros(tt,2);case"eo":return $.ordinalNumber(tt,{unit:"day"});case"eee":return $.day(et,{width:"abbreviated",context:"formatting"});case"eeeee":return $.day(et,{width:"narrow",context:"formatting"});case"eeeeee":return $.day(et,{width:"short",context:"formatting"});case"eeee":default:return $.day(et,{width:"wide",context:"formatting"})}},c:function(a,_,$,j){const et=a.getDay(),tt=(et-j.weekStartsOn+8)%7||7;switch(_){case"c":return String(tt);case"cc":return addLeadingZeros(tt,_.length);case"co":return $.ordinalNumber(tt,{unit:"day"});case"ccc":return $.day(et,{width:"abbreviated",context:"standalone"});case"ccccc":return $.day(et,{width:"narrow",context:"standalone"});case"cccccc":return $.day(et,{width:"short",context:"standalone"});case"cccc":default:return $.day(et,{width:"wide",context:"standalone"})}},i:function(a,_,$){const j=a.getDay(),et=j===0?7:j;switch(_){case"i":return String(et);case"ii":return addLeadingZeros(et,_.length);case"io":return $.ordinalNumber(et,{unit:"day"});case"iii":return $.day(j,{width:"abbreviated",context:"formatting"});case"iiiii":return $.day(j,{width:"narrow",context:"formatting"});case"iiiiii":return $.day(j,{width:"short",context:"formatting"});case"iiii":default:return $.day(j,{width:"wide",context:"formatting"})}},a:function(a,_,$){const et=a.getHours()/12>=1?"pm":"am";switch(_){case"a":case"aa":return $.dayPeriod(et,{width:"abbreviated",context:"formatting"});case"aaa":return $.dayPeriod(et,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return $.dayPeriod(et,{width:"narrow",context:"formatting"});case"aaaa":default:return $.dayPeriod(et,{width:"wide",context:"formatting"})}},b:function(a,_,$){const j=a.getHours();let et;switch(j===12?et=dayPeriodEnum.noon:j===0?et=dayPeriodEnum.midnight:et=j/12>=1?"pm":"am",_){case"b":case"bb":return $.dayPeriod(et,{width:"abbreviated",context:"formatting"});case"bbb":return $.dayPeriod(et,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return $.dayPeriod(et,{width:"narrow",context:"formatting"});case"bbbb":default:return $.dayPeriod(et,{width:"wide",context:"formatting"})}},B:function(a,_,$){const j=a.getHours();let et;switch(j>=17?et=dayPeriodEnum.evening:j>=12?et=dayPeriodEnum.afternoon:j>=4?et=dayPeriodEnum.morning:et=dayPeriodEnum.night,_){case"B":case"BB":case"BBB":return $.dayPeriod(et,{width:"abbreviated",context:"formatting"});case"BBBBB":return $.dayPeriod(et,{width:"narrow",context:"formatting"});case"BBBB":default:return $.dayPeriod(et,{width:"wide",context:"formatting"})}},h:function(a,_,$){if(_==="ho"){let j=a.getHours()%12;return j===0&&(j=12),$.ordinalNumber(j,{unit:"hour"})}return lightFormatters.h(a,_)},H:function(a,_,$){return _==="Ho"?$.ordinalNumber(a.getHours(),{unit:"hour"}):lightFormatters.H(a,_)},K:function(a,_,$){const j=a.getHours()%12;return _==="Ko"?$.ordinalNumber(j,{unit:"hour"}):addLeadingZeros(j,_.length)},k:function(a,_,$){let j=a.getHours();return j===0&&(j=24),_==="ko"?$.ordinalNumber(j,{unit:"hour"}):addLeadingZeros(j,_.length)},m:function(a,_,$){return _==="mo"?$.ordinalNumber(a.getMinutes(),{unit:"minute"}):lightFormatters.m(a,_)},s:function(a,_,$){return _==="so"?$.ordinalNumber(a.getSeconds(),{unit:"second"}):lightFormatters.s(a,_)},S:function(a,_){return lightFormatters.S(a,_)},X:function(a,_,$){const j=a.getTimezoneOffset();if(j===0)return"Z";switch(_){case"X":return formatTimezoneWithOptionalMinutes(j);case"XXXX":case"XX":return formatTimezone(j);case"XXXXX":case"XXX":default:return formatTimezone(j,":")}},x:function(a,_,$){const j=a.getTimezoneOffset();switch(_){case"x":return formatTimezoneWithOptionalMinutes(j);case"xxxx":case"xx":return formatTimezone(j);case"xxxxx":case"xxx":default:return formatTimezone(j,":")}},O:function(a,_,$){const j=a.getTimezoneOffset();switch(_){case"O":case"OO":case"OOO":return"GMT"+formatTimezoneShort(j,":");case"OOOO":default:return"GMT"+formatTimezone(j,":")}},z:function(a,_,$){const j=a.getTimezoneOffset();switch(_){case"z":case"zz":case"zzz":return"GMT"+formatTimezoneShort(j,":");case"zzzz":default:return"GMT"+formatTimezone(j,":")}},t:function(a,_,$){const j=Math.trunc(a.getTime()/1e3);return addLeadingZeros(j,_.length)},T:function(a,_,$){const j=a.getTime();return addLeadingZeros(j,_.length)}};function formatTimezoneShort(a,_=""){const $=a>0?"-":"+",j=Math.abs(a),et=Math.trunc(j/60),tt=j%60;return tt===0?$+String(et):$+String(et)+_+addLeadingZeros(tt,2)}function formatTimezoneWithOptionalMinutes(a,_){return a%60===0?(a>0?"-":"+")+addLeadingZeros(Math.abs(a)/60,2):formatTimezone(a,_)}function formatTimezone(a,_=""){const $=a>0?"-":"+",j=Math.abs(a),et=addLeadingZeros(Math.trunc(j/60),2),tt=addLeadingZeros(j%60,2);return $+et+_+tt}const dateLongFormatter=(a,_)=>{switch(a){case"P":return _.date({width:"short"});case"PP":return _.date({width:"medium"});case"PPP":return _.date({width:"long"});case"PPPP":default:return _.date({width:"full"})}},timeLongFormatter=(a,_)=>{switch(a){case"p":return _.time({width:"short"});case"pp":return _.time({width:"medium"});case"ppp":return _.time({width:"long"});case"pppp":default:return _.time({width:"full"})}},dateTimeLongFormatter=(a,_)=>{const $=a.match(/(P+)(p+)?/)||[],j=$[1],et=$[2];if(!et)return dateLongFormatter(a,_);let tt;switch(j){case"P":tt=_.dateTime({width:"short"});break;case"PP":tt=_.dateTime({width:"medium"});break;case"PPP":tt=_.dateTime({width:"long"});break;case"PPPP":default:tt=_.dateTime({width:"full"});break}return tt.replace("{{date}}",dateLongFormatter(j,_)).replace("{{time}}",timeLongFormatter(et,_))},longFormatters={p:timeLongFormatter,P:dateTimeLongFormatter},dayOfYearTokenRE=/^D+$/,weekYearTokenRE=/^Y+$/,throwTokens=["D","DD","YY","YYYY"];function isProtectedDayOfYearToken(a){return dayOfYearTokenRE.test(a)}function isProtectedWeekYearToken(a){return weekYearTokenRE.test(a)}function warnOrThrowProtectedError(a,_,$){const j=message(a,_,$);if(console.warn(j),throwTokens.includes(a))throw new RangeError(j)}function message(a,_,$){const j=a[0]==="Y"?"years":"days of the month";return`Use \`${a.toLowerCase()}\` instead of \`${a}\` (in \`${_}\`) for formatting ${j} to the input \`${$}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const formattingTokensRegExp=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,longFormattingTokensRegExp=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,escapedStringRegExp=/^'([^]*?)'?$/,doubleQuoteRegExp=/''/g,unescapedLatinCharacterRegExp=/[a-zA-Z]/;function format(a,_,$){var ot,at,ut,ht,yt,wt,Ct,Pt;const j=getDefaultOptions(),et=($==null?void 0:$.locale)??j.locale??enUS,tt=($==null?void 0:$.firstWeekContainsDate)??((at=(ot=$==null?void 0:$.locale)==null?void 0:ot.options)==null?void 0:at.firstWeekContainsDate)??j.firstWeekContainsDate??((ht=(ut=j.locale)==null?void 0:ut.options)==null?void 0:ht.firstWeekContainsDate)??1,rt=($==null?void 0:$.weekStartsOn)??((wt=(yt=$==null?void 0:$.locale)==null?void 0:yt.options)==null?void 0:wt.weekStartsOn)??j.weekStartsOn??((Pt=(Ct=j.locale)==null?void 0:Ct.options)==null?void 0:Pt.weekStartsOn)??0,nt=toDate(a);if(!isValid(nt))throw new RangeError("Invalid time value");let it=_.match(longFormattingTokensRegExp).map(Tt=>{const Mt=Tt[0];if(Mt==="p"||Mt==="P"){const Lt=longFormatters[Mt];return Lt(Tt,et.formatLong)}return Tt}).join("").match(formattingTokensRegExp).map(Tt=>{if(Tt==="''")return{isToken:!1,value:"'"};const Mt=Tt[0];if(Mt==="'")return{isToken:!1,value:cleanEscapedString(Tt)};if(formatters[Mt])return{isToken:!0,value:Tt};if(Mt.match(unescapedLatinCharacterRegExp))throw new RangeError("Format string contains an unescaped latin alphabet character `"+Mt+"`");return{isToken:!1,value:Tt}});et.localize.preprocessor&&(it=et.localize.preprocessor(nt,it));const st={firstWeekContainsDate:tt,weekStartsOn:rt,locale:et};return it.map(Tt=>{if(!Tt.isToken)return Tt.value;const Mt=Tt.value;(!($!=null&&$.useAdditionalWeekYearTokens)&&isProtectedWeekYearToken(Mt)||!($!=null&&$.useAdditionalDayOfYearTokens)&&isProtectedDayOfYearToken(Mt))&&warnOrThrowProtectedError(Mt,_,String(a));const Lt=formatters[Mt[0]];return Lt(nt,Mt,et.localize,st)}).join("")}function cleanEscapedString(a){const _=a.match(escapedStringRegExp);return _?_[1].replace(doubleQuoteRegExp,"'"):a}function formatDistance(a,_,$){const j=getDefaultOptions(),et=($==null?void 0:$.locale)??j.locale??enUS,tt=2520,rt=compareAsc(a,_);if(isNaN(rt))throw new RangeError("Invalid time value");const nt=Object.assign({},$,{addSuffix:$==null?void 0:$.addSuffix,comparison:rt});let it,st;rt>0?(it=toDate(_),st=toDate(a)):(it=toDate(a),st=toDate(_));const ot=differenceInSeconds(st,it),at=(getTimezoneOffsetInMilliseconds(st)-getTimezoneOffsetInMilliseconds(it))/1e3,ut=Math.round((ot-at)/60);let ht;if(ut<2)return $!=null&&$.includeSeconds?ot<5?et.formatDistance("lessThanXSeconds",5,nt):ot<10?et.formatDistance("lessThanXSeconds",10,nt):ot<20?et.formatDistance("lessThanXSeconds",20,nt):ot<40?et.formatDistance("halfAMinute",0,nt):ot<60?et.formatDistance("lessThanXMinutes",1,nt):et.formatDistance("xMinutes",1,nt):ut===0?et.formatDistance("lessThanXMinutes",1,nt):et.formatDistance("xMinutes",ut,nt);if(ut<45)return et.formatDistance("xMinutes",ut,nt);if(ut<90)return et.formatDistance("aboutXHours",1,nt);if(ut<minutesInDay){const yt=Math.round(ut/60);return et.formatDistance("aboutXHours",yt,nt)}else{if(ut<tt)return et.formatDistance("xDays",1,nt);if(ut<minutesInMonth){const yt=Math.round(ut/minutesInDay);return et.formatDistance("xDays",yt,nt)}else if(ut<minutesInMonth*2)return ht=Math.round(ut/minutesInMonth),et.formatDistance("aboutXMonths",ht,nt)}if(ht=differenceInMonths(st,it),ht<12){const yt=Math.round(ut/minutesInMonth);return et.formatDistance("xMonths",yt,nt)}else{const yt=ht%12,wt=Math.trunc(ht/12);return yt<3?et.formatDistance("aboutXYears",wt,nt):yt<9?et.formatDistance("overXYears",wt,nt):et.formatDistance("almostXYears",wt+1,nt)}}function formatRelative(a,_,$){var at,ut;const j=toDate(a),et=toDate(_),tt=getDefaultOptions(),rt=tt.locale??enUS,nt=tt.weekStartsOn??((ut=(at=tt.locale)==null?void 0:at.options)==null?void 0:ut.weekStartsOn)??0,it=differenceInCalendarDays(j,et);if(isNaN(it))throw new RangeError("Invalid time value");let st;it<-6?st="other":it<-1?st="lastWeek":it<0?st="yesterday":it<1?st="today":it<2?st="tomorrow":it<7?st="nextWeek":st="other";const ot=rt.formatRelative(st,j,et,{locale:rt,weekStartsOn:nt});return format(j,ot,{locale:rt,weekStartsOn:nt})}function fromUnixTime(a){return toDate(a*1e3)}function hoursToMilliseconds(a){return Math.trunc(a*millisecondsInHour)}function minutesToMilliseconds(a){return Math.trunc(a*millisecondsInMinute)}function secondsToMilliseconds(a){return a*millisecondsInSecond}const useReactQueryErrorHandler=()=>{const a=useAppDispatch(),_=useToast();return reactExports.useCallback(j=>{j&&(a(errorsSlice.actions.add(getErrorContext(j))),_({description:`Data fetching error: ${j.message}`,status:"error",isClosable:!0}))},[a,_])},BAKERS_REFRESH_RATE=hoursToMilliseconds(2),usePollBakers=()=>{const a=useAppDispatch(),_=useReactQueryErrorHandler(),$=useSelectedNetwork(),j=useQuery({queryKey:["bakers",a,$],queryFn:()=>getBakers($),retry:!1,refetchInterval:BAKERS_REFRESH_RATE,refetchIntervalInBackground:!0,refetchOnWindowFocus:!1}),et=j.data;return reactExports.useEffect(()=>{et&&a(assetsActions.updateBakers(et))},[a,et]),_(j.error),j},BLOCK_TIME=secondsToMilliseconds(15),usePollBlockLevel=()=>{const a=useAppDispatch(),_=useReactQueryErrorHandler(),$=useSelectedNetwork(),j=useQuery({queryKey:["blockLevel",a,$],queryFn:()=>getLatestBlockLevel($),retry:!1,refetchInterval:BLOCK_TIME,refetchIntervalInBackground:!0,refetchOnWindowFocus:!1}),et=j.data;return reactExports.useEffect(()=>{et&&a(assetsActions.updateBlockLevel(et))},[a,et]),_(j.error),j},CONVERSION_RATE_REFRESH_RATE=minutesToMilliseconds(5),usePollConversionRate=()=>{const a=useAppDispatch(),_=useReactQueryErrorHandler(),$=useQuery({queryKey:["conversionRate",a],queryFn:getTezosPriceInUSD,refetchInterval:CONVERSION_RATE_REFRESH_RATE,refetchIntervalInBackground:!0,refetchOnWindowFocus:!1}),j=$.data;return reactExports.useEffect(()=>{a(assetsActions.updateConversionRate(j))},[a,j]),_($.error),$},usePollMultisigs=()=>{const a=useAppDispatch(),_=useReactQueryErrorHandler(),$=useRefetchTrigger(),j=useSelectedNetwork(),et=useImplicitAccounts().map(nt=>nt.address.pkh),tt=useQuery({queryKey:["multisigs",j,et,$],queryFn:()=>getRelevantMultisigContracts(new Set(et),j),retry:!1,refetchInterval:BLOCK_TIME,refetchIntervalInBackground:!0,refetchOnWindowFocus:!1}),rt=tt.data;return reactExports.useEffect(()=>{rt&&a(multisigActions.setMultisigs(rt))},[rt,a]),_(tt.error),tt},usePollPendingOperations=()=>{const a=useAppDispatch(),_=useReactQueryErrorHandler(),$=useSelectedNetwork(),j=useRefetchTrigger(),et=useMultisigAccounts(),tt=useQuery({queryKey:["pendingOperations",$,et,j],queryFn:()=>getPendingOperationsForMultisigs(et,$),retry:!1,refetchInterval:BLOCK_TIME,select:nt=>nt.flat(),refetchIntervalInBackground:!0,refetchOnWindowFocus:!1}),rt=tt.data;return reactExports.useEffect(()=>{rt&&a(multisigActions.setPendingOperations(rt))},[a,rt]),_(tt.error),tt},usePollTezBalances=()=>{const a=useAppDispatch(),_=useReactQueryErrorHandler(),$=useSelectedNetwork(),j=useRefetchTrigger(),et=useAllAccounts().map(nt=>nt.address.pkh),tt=useQuery({queryKey:["accountInformation",$,et,j],queryFn:()=>getAccounts(et,$),retry:!1,refetchInterval:BLOCK_TIME,select:nt=>nt.flat(),refetchIntervalInBackground:!0,refetchOnWindowFocus:!1}),rt=tt.data;return reactExports.useEffect(()=>{rt&&a(assetsActions.updateTezBalance(rt))},[a,rt]),_(tt.error),tt},usePollTokenBalances=()=>{const a=useAppDispatch(),_=useReactQueryErrorHandler(),$=useSelectedNetwork(),j=useRefetchTrigger(),et=useAllAccounts().map(nt=>nt.address.pkh),tt=useQuery({queryKey:["tokenBalances",$,et,j],queryFn:()=>getTokenBalances(et,$),retry:!1,refetchInterval:BLOCK_TIME,select:nt=>nt.flat(),refetchIntervalInBackground:!0,refetchOnWindowFocus:!1}),rt=tt.data;return reactExports.useEffect(()=>{if(!rt)return;const nt=rt.map(({token:it,lastLevel:st})=>({...it,lastLevel:st}));a(tokensActions.addTokens({network:$,tokens:nt})),a(assetsActions.updateTokenBalance(rt))},[a,rt,$]),_(tt.error),tt},useDataPolling=()=>{const a=useAppDispatch(),{dataUpdatedAt:_,isFetching:$}=usePollMultisigs(),{dataUpdatedAt:j,isFetching:et}=usePollPendingOperations(),{dataUpdatedAt:tt,isFetching:rt}=usePollTezBalances(),{dataUpdatedAt:nt,isFetching:it}=usePollTokenBalances();usePollConversionRate(),usePollBlockLevel(),usePollBakers();const st=$||et||rt||it,ot=Math.max(_,j,tt,nt);reactExports.useEffect(()=>{a(assetsActions.setIsLoading(st)),!st&&ot&&a(assetsActions.setLastTimeUpdated(fromUnixTime(Math.round(ot/1e3)).toUTCString()))},[a,st,ot])},useDeeplinkHandler=()=>{const a=useToast(),_=useAddPeer(),$=reactExports.useRef(_),j=reactExports.useRef(a),et=(tt,rt)=>{const nt=rt.replace(":///","://");if(nt.startsWith("umami://auth/")){const it=parseTorusRedirectParams(nt);window.postMessage(it)}else if(nt.startsWith("umami://?type=tzip10&data=")){const st=new URL(nt).searchParams.get("data");st?$.current(st):j.current({title:"Linkhandler",description:"Data Payload missing"})}else j.current({title:"Linkhandler",description:"Unsupported link type"})};reactExports.useEffect(()=>{const tt=window;return tt&&tt.electronAPI&&tt.electronAPI.onDeeplink(et),()=>{}},[])},TOAST_ID="TOAST_ID",CopyableAddress=({pkh:a,formatAddress:_=!0,copyable:$=!0,iconColor:j=colors.gray[600],...et})=>jsxRuntimeExports.jsx(CopyableText,{copyValue:$?a:void 0,displayText:_?formatPkh(a):a,iconColor:j,toastMessage:"Address copied to clipboard",...et}),CopyableText=({displayText:a,copyValue:_,toastMessage:$,iconColor:j,...et})=>{const tt=useToast(),rt=async()=>{_&&(await navigator.clipboard.writeText(_),!(!$||tt.isActive(TOAST_ID))&&tt({status:"success",description:$,id:TOAST_ID,isClosable:!0}))};return jsxRuntimeExports.jsxs(Flex,{alignItems:"center",...et,children:[jsxRuntimeExports.jsx(Text,{marginRight:"6px",color:colors.gray[400],size:"sm",children:a}),_&&jsxRuntimeExports.jsx(FileCopyIcon,{stroke:colors.gray[450],_hover:{stroke:colors.green},cursor:"pointer",onClick:()=>rt()})]})},UpsertContactModal=({contact:a})=>{const{handleAsyncAction:_}=useAsyncActionHandler(),$=useAppDispatch(),{isOpen:j,onClose:et}=reactExports.useContext(DynamicModalContext),tt=useAvailableNetworks(),rt=!!(a!=null&&a.pkh&&a.name),nt=async Pt=>{isValidContractPkh(Pt.pkh)?await _(async()=>{const Tt=await getNetworksForContracts(tt,[Pt.pkh]);if(!Tt.has(Pt.pkh))throw new Error(`Network not found for contract ${Pt.pkh}`);$(contactsActions.upsert({...Pt,network:Tt.get(Pt.pkh)}))}):$(contactsActions.upsert({...Pt,network:void 0})),et(),ut()},{handleSubmit:it,formState:{isValid:st,errors:ot},register:at,reset:ut}=useForm({mode:"onBlur",defaultValues:a}),ht=({name:Pt,pkh:Tt})=>{nt({name:Pt.trim(),pkh:Tt})},yt=reactExports.useRef(ut);reactExports.useEffect(()=>{j&&yt.current(a)},[j,a]);const wt=useValidateNewContactPkh(),Ct=useValidateName(a==null?void 0:a.name);return jsxRuntimeExports.jsx(ModalContent,{children:jsxRuntimeExports.jsxs("form",{onSubmit:it(ht),children:[jsxRuntimeExports.jsx(ModalHeader,{textAlign:"center",children:rt?"Edit Contact":"Add Contact"}),jsxRuntimeExports.jsx(ModalCloseButton,{}),jsxRuntimeExports.jsxs(ModalBody,{children:[jsxRuntimeExports.jsxs(FormControl,{isInvalid:!!ot.name,marginY:5,children:[jsxRuntimeExports.jsx(FormLabel,{children:"Name"}),jsxRuntimeExports.jsx(Input,{type:"text",...at("name",{required:"Name is required",validate:Ct}),placeholder:"Enter contact's name"}),ot.name&&jsxRuntimeExports.jsx(FormErrorMessage,{"data-testid":"name-error",children:ot.name.message})]}),jsxRuntimeExports.jsxs(FormControl,{isInvalid:!!ot.pkh,marginY:5,children:[jsxRuntimeExports.jsx(FormLabel,{children:"Address"}),jsxRuntimeExports.jsx(Input,{type:"text",...at("pkh",{required:"Address is required",validate:rt?()=>!0:wt}),disabled:rt,placeholder:"Enter contact's tz address",variant:rt?"filled":void 0}),ot.pkh&&jsxRuntimeExports.jsx(FormErrorMessage,{"data-testid":"address-error",children:ot.pkh.message})]})]}),jsxRuntimeExports.jsx(ModalFooter,{padding:"16px 0 0 0",children:jsxRuntimeExports.jsx(Box,{width:"100%",children:jsxRuntimeExports.jsx(Button,{width:"100%",marginBottom:2,"data-testid":"confirmation-button",isDisabled:!st,size:"lg",type:"submit",children:rt?"Update":"Add to Address Book"})})})]})})},DeleteContactModal=({contact:a})=>{const _=useAppDispatch(),{onClose:$}=reactExports.useContext(DynamicModalContext),j=()=>{_(contactsActions.remove(a.pkh)),$()};return jsxRuntimeExports.jsxs(ModalContent,{children:[jsxRuntimeExports.jsx(ModalHeader,{marginBottom:"10px",textAlign:"center",children:"Delete Contact"}),jsxRuntimeExports.jsx(ModalCloseButton,{}),jsxRuntimeExports.jsx(ModalBody,{children:jsxRuntimeExports.jsxs(Flex,{alignItems:"center",justifyContent:"space-between",flexDirection:"column",children:[jsxRuntimeExports.jsx(Text,{color:colors.gray[400],size:"sm",children:"Are you sure you want to delete this contact?"}),jsxRuntimeExports.jsxs(Box,{marginTop:5,children:[jsxRuntimeExports.jsx(Heading,{marginBottom:3,textAlign:"center",size:"md",children:a.name}),jsxRuntimeExports.jsx(CopyableAddress,{pkh:a.pkh})]})]})}),jsxRuntimeExports.jsx(ModalFooter,{children:jsxRuntimeExports.jsx(Box,{width:"100%",children:jsxRuntimeExports.jsx(Button,{width:"100%",marginBottom:2,onClick:j,variant:"warning",children:"Delete Contact"})})})]})},PopoverMenu=a=>{const{onOpen:_,onClose:$,isOpen:j}=useDisclosure$1();return jsxRuntimeExports.jsxs(Popover,{isOpen:j,onClose:$,onOpen:_,placement:"bottom-start",children:[jsxRuntimeExports.jsx(PopoverTrigger,{children:jsxRuntimeExports.jsx(Button,{minWidth:"24px",height:"24px",padding:"0",background:j?colors.green:colors.gray[500],border:"none",borderRadius:"full",_hover:{bg:j?colors.green:colors.gray[450]},"data-testid":"popover-cta",variant:"unstyled",children:jsxRuntimeExports.jsx(Center,{children:jsxRuntimeExports.jsx(ThreeDotsIcon,{})})})}),jsxRuntimeExports.jsx(PopoverContent,{width:"100px",background:colors.gray[700],children:jsxRuntimeExports.jsx(PopoverBody,{borderRadius:"lg",children:a.children})})]})},RenameRemoveMenu=({onRename:a,onRemove:_})=>jsxRuntimeExports.jsx(Flex,{alignItems:"center",children:jsxRuntimeExports.jsx(PopoverMenu,{children:jsxRuntimeExports.jsxs(Box,{paddingY:"0",children:[jsxRuntimeExports.jsx(Button,{height:_?"24px":"28px",onClick:a,variant:"popover",children:jsxRuntimeExports.jsxs(Flex,{alignItems:"center",children:[jsxRuntimeExports.jsx(Text,{marginRight:"4px",children:"Rename"}),jsxRuntimeExports.jsx(PenIcon,{stroke:"inherit"})]})}),_&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Divider,{marginY:"4px"}),jsxRuntimeExports.jsx(Button,{"data-testid":"popover-remove",onClick:_,variant:"popover",children:jsxRuntimeExports.jsxs(Flex,{alignItems:"center",children:[jsxRuntimeExports.jsx(Text,{marginRight:"4px",children:"Remove"}),jsxRuntimeExports.jsx(TrashIcon,{stroke:"inherit"})]})})]})]})})}),SendButton=({onClick:a,..._})=>jsxRuntimeExports.jsxs(Button,{width:"60px",onClick:a,variant:"specialCTA",..._,children:[jsxRuntimeExports.jsx(OutgoingArrow,{stroke:"currentcolor"}),jsxRuntimeExports.jsx(Text,{marginLeft:"4px",children:"Send"})]}),OperationSignerSelector=({sender:a,operationType:_,isLoading:$,reEstimate:j})=>{switch(_){case"proposal":return jsxRuntimeExports.jsx(FormControl,{marginTop:"24px","data-testid":"signer-selector",children:jsxRuntimeExports.jsx(AvailableSignersAutocomplete,{account:a,inputName:"signer",isLoading:$,keepValid:!0,label:"Select Proposer",onUpdate:j})});case"implicit":return null}},makeAccountOperations=(a,_,$)=>{switch(a.type){case"ledger":case"mnemonic":case"social":case"secret_key":if(a.address.pkh!==_.address.pkh)throw new Error("Sender and Signer must be the same");return{type:"implicit",operations:$,signer:a,sender:a};case"multisig":return{type:"proposal",operations:$,sender:a,signer:_}}},useBatches=()=>{const a=useSelectedNetwork();return useAppSelector($=>$.batches[a.name])||[]},useClearBatch=()=>{const a=useAppDispatch(),_=useSelectedNetwork();return $=>a(batchesActions.clear({pkh:$.address.pkh,network:_}))},useRemoveBatchItem=()=>{const a=useAppDispatch(),_=useSelectedNetwork();return($,j)=>a(batchesActions.removeItem({pkh:$.address.pkh,index:j,network:_}))},FormSubmitButtons=({isLoading:a,isValid:_,onSingleSubmit:$,onAddToBatch:j,showPreview:et=!0})=>jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsxs(Box,{width:"100%",children:[et&&jsxRuntimeExports.jsx(Button,{width:"100%",marginBottom:"16px",isDisabled:!_,isLoading:a,onClick:$,size:"lg",type:"submit",children:"Preview"}),jsxRuntimeExports.jsx(Button,{width:"100%",isDisabled:!_,isLoading:a,onClick:j,size:"lg",type:"submit",variant:"tertiary",children:"Insert Into Batch"})]})}),formDefaultValues=({sender:a,form:_})=>_||(a?{sender:a.address.pkh}:{}),useSignPageHelpers=(a,_,$)=>{const[j,et]=reactExports.useState(!1),tt=useGetImplicitAccount(),[rt,nt]=reactExports.useState(a),[it,st]=reactExports.useState(_),ot=useSelectedNetwork(),at=useClearBatch(),{isLoading:ut,handleAsyncAction:ht,handleAsyncActionUnsafe:yt}=useAsyncActionHandler(),{openWith:wt}=reactExports.useContext(DynamicModalContext),Ct=useForm({mode:"onBlur",defaultValues:{signer:it.signer.address.pkh,sender:it.sender.address.pkh}}),Pt=Ct.watch("signer"),Tt=async Lt=>yt(async()=>{const Dt={...it,signer:tt(Lt)};nt(await estimate(it,ot)),st(Dt),et(!1)},{isClosable:!0,duration:null}).catch(()=>et(!0)),Mt=async Lt=>ht(async()=>{const Dt=await executeOperations(it,Lt);return $==="batch"&&at(it.sender),await wt(jsxRuntimeExports.jsx(SuccessStep,{hash:Dt.opHash})),Dt});return{fee:rt,estimationFailed:j,operations:it,isLoading:ut,form:Ct,signer:tt(Pt),reEstimate:Tt,onSign:Mt}},useMakeFormOperations=a=>{const _=useGetOwnedAccount(),$=useGetBestSignerForAccount();return j=>{const et=_(j.sender);return makeAccountOperations(et,$(et),[a(j)])}},getSmallestUnit=a=>(a<0&&(console.warn("Decimals cannot be negative"),a=0),`${a===0?"":"0."+lodashExports.repeat("0",a-1)}1`),makeValidateDecimals=a=>_=>_.includes(".")&&_.split(".")[1].length>a?`Please enter a value with up to ${a} decimal places`:!0,SignPage$6=a=>{const{mode:_,operations:$,fee:j}=a,{fee:et,operations:tt,estimationFailed:rt,isLoading:nt,form:it,signer:st,reEstimate:ot,onSign:at}=useSignPageHelpers(j,$,_),{amount:ut,recipient:ht}=tt.operations[0];return jsxRuntimeExports.jsx(FormProvider,{...it,children:jsxRuntimeExports.jsx(ModalContent,{children:jsxRuntimeExports.jsxs("form",{children:[jsxRuntimeExports.jsx(SignPageHeader,{...a,operationsType:tt.type,signer:tt.signer}),jsxRuntimeExports.jsxs(ModalBody,{children:[jsxRuntimeExports.jsx(TezTile,{mutezAmount:ut}),jsxRuntimeExports.jsx(Flex,{alignItems:"center",justifyContent:"end",marginTop:"12px",children:jsxRuntimeExports.jsx(SignPageFee,{fee:et})}),jsxRuntimeExports.jsx(FormLabel,{marginTop:"24px",children:"From "}),jsxRuntimeExports.jsx(AddressTile,{address:tt.sender.address}),jsxRuntimeExports.jsx(FormLabel,{marginTop:"24px",children:"To "}),jsxRuntimeExports.jsx(AddressTile,{address:ht}),jsxRuntimeExports.jsx(OperationSignerSelector,{isLoading:nt,operationType:tt.type,reEstimate:ot,sender:tt.sender})]}),jsxRuntimeExports.jsx(ModalFooter,{children:jsxRuntimeExports.jsx(SignButton,{isDisabled:rt,isLoading:nt,onSubmit:at,signer:st,text:headerText(tt.type,_)})})]})})})},estimateAndUpdateBatch=(a,_)=>async $=>{await estimate(a,_),$(batchesActions.add({operations:a,network:_}))},useOpenSignPageFormAction=({SignPage:a,signPageExtraData:_,FormPage:$,defaultFormPageProps:j,toOperation:et})=>{const{openWith:tt}=reactExports.useContext(DynamicModalContext),rt=useMakeFormOperations(et),nt=useSelectedNetwork();return async it=>{const st=rt(it);return tt(jsxRuntimeExports.jsx(a,{data:_,fee:await estimate(st,nt),goBack:()=>tt(jsxRuntimeExports.jsx($,{...j,form:it})),mode:"single",operations:st}))}},useAddToBatchFormAction=a=>{const{onClose:_}=reactExports.useContext(DynamicModalContext),$=useSelectedNetwork(),j=useMakeFormOperations(a),et=useAppDispatch(),tt=useToast();return async nt=>{const it=j(nt);await et(estimateAndUpdateBatch(it,$)),tt({description:"Transaction added to batch!",status:"success"}),_()}},useHandleOnSubmitFormActions=a=>{const{handleAsyncAction:_,isLoading:$}=useAsyncActionHandler();return{onFormSubmitActionHandlers:a.map(et=>async tt=>_(()=>et(tt))),isLoading:$}},FormPage$4=({showPreview:a=!0,..._})=>{const $=useOpenSignPageFormAction({SignPage:SignPage$6,signPageExtraData:void 0,FormPage:FormPage$4,defaultFormPageProps:_,toOperation:toOperation$5}),j=useAddToBatchFormAction(toOperation$5),{onFormSubmitActionHandlers:[et,tt],isLoading:rt}=useHandleOnSubmitFormActions([$,j]),nt=useForm({mode:"onBlur",defaultValues:formDefaultValues(_)}),{formState:{isValid:it,errors:st},register:ot,handleSubmit:at}=nt;return jsxRuntimeExports.jsx(FormProvider,{...nt,children:jsxRuntimeExports.jsx(ModalContent,{children:jsxRuntimeExports.jsxs("form",{children:[jsxRuntimeExports.jsx(FormPageHeader,{}),jsxRuntimeExports.jsxs(ModalBody,{children:[jsxRuntimeExports.jsxs(FormControl,{isInvalid:!!st.prettyAmount,children:[jsxRuntimeExports.jsx(FormLabel,{children:"Amount"}),jsxRuntimeExports.jsxs(InputGroup,{children:[jsxRuntimeExports.jsx(Input,{isDisabled:rt,step:getSmallestUnit(TEZ_DECIMALS),type:"number",...ot("prettyAmount",{required:"Amount is required",validate:makeValidateDecimals(TEZ_DECIMALS)}),placeholder:"0.000000"}),jsxRuntimeExports.jsx(InputRightElement,{children:TEZ})]}),st.prettyAmount&&jsxRuntimeExports.jsx(FormErrorMessage,{"data-testid":"amount-error",children:st.prettyAmount.message})]}),jsxRuntimeExports.jsxs(FormControl,{marginTop:"24px",isInvalid:!!st.sender,children:[jsxRuntimeExports.jsx(OwnedAccountsAutocomplete,{allowUnknown:!1,inputName:"sender",isDisabled:!!_.sender,label:"From"}),st.sender&&jsxRuntimeExports.jsx(FormErrorMessage,{"data-testid":"from-error",children:st.sender.message})]}),jsxRuntimeExports.jsxs(FormControl,{marginTop:"24px",isInvalid:!!st.recipient,children:[jsxRuntimeExports.jsx(KnownAccountsAutocomplete,{allowUnknown:!0,inputName:"recipient",label:"To"}),st.recipient&&jsxRuntimeExports.jsx(FormErrorMessage,{"data-testid":"recipient-error",children:st.recipient.message})]})]}),jsxRuntimeExports.jsx(ModalFooter,{children:jsxRuntimeExports.jsx(FormSubmitButtons,{isLoading:rt,isValid:it,onAddToBatch:at(tt),onSingleSubmit:at(et),showPreview:a})})]})})})},toOperation$5=a=>({type:"tez",amount:tezToMutez(a.prettyAmount).toFixed(),recipient:parsePkh(a.recipient)}),ContactTable=({contacts:a})=>{const{openWith:_}=reactExports.useContext(DynamicModalContext);return jsxRuntimeExports.jsx(Box,{overflow:"auto",background:colors.gray[900],borderRadius:"8px",paddingX:"30px",children:jsxRuntimeExports.jsx(TableContainer,{overflowX:"unset",overflowY:"unset",children:jsxRuntimeExports.jsx(Table,{children:jsxRuntimeExports.jsx(Tbody,{children:a.map(($,j)=>{const et=j===a.length-1?"transparent":colors.gray[700];return jsxRuntimeExports.jsxs(Tr,{"data-testid":"contact-row",children:[jsxRuntimeExports.jsx(Td,{borderColor:et,"data-testid":"contact-row-name",paddingX:"0",children:jsxRuntimeExports.jsxs(Flex,{alignItems:"center",children:[jsxRuntimeExports.jsx(Box,{width:"150px",marginRight:"40px",children:jsxRuntimeExports.jsx(Text,{overflow:"hidden",fontWeight:600,whiteSpace:"nowrap",textOverflow:"ellipsis",children:$.name})}),jsxRuntimeExports.jsx(CopyableAddress,{justifyContent:"space-between","data-testid":"contact-row-pkh",formatAddress:!1,iconColor:colors.gray[400],pkh:$.pkh})]})}),jsxRuntimeExports.jsx(Td,{borderColor:et,paddingX:"0",children:jsxRuntimeExports.jsxs(Flex,{justifyContent:"end",children:[jsxRuntimeExports.jsx(SendButton,{marginRight:"20px",onClick:()=>_(jsxRuntimeExports.jsx(FormPage$4,{form:{sender:"",recipient:$.pkh,prettyAmount:""}}))}),jsxRuntimeExports.jsx(RenameRemoveMenu,{onRemove:()=>_(jsxRuntimeExports.jsx(DeleteContactModal,{contact:$})),onRename:()=>_(jsxRuntimeExports.jsx(UpsertContactModal,{contact:$}))})]})})]},$.pkh)})})})})})},ExternalLink=({href:a,children:_,...$})=>jsxRuntimeExports.jsx(Link$1,{alignItems:"center",display:"flex",_hover:{textDecoration:"none"},href:a,rel:"noopener noreferrer",role:"link",target:"_blank",...$,children:_}),SIZES={md:{heading:"xl",description:"md",button:"md"},lg:{heading:"3xl",description:"xl",button:"lg"}},NoItems=({title:a,description:_,children:$,size:j})=>jsxRuntimeExports.jsx(Flex,{alignItems:"center",justifyContent:"center",width:"100%",height:"100%",children:jsxRuntimeExports.jsxs(Box,{padding:"30px","data-testid":"empty-state-message",children:[jsxRuntimeExports.jsx(Heading,{marginBottom:"10px",textAlign:"center",size:SIZES[j].heading,children:a}),jsxRuntimeExports.jsx(Text,{marginBottom:"30px",color:colors.gray[400],textAlign:"center",size:SIZES[j].description,children:_}),jsxRuntimeExports.jsx(Center,{children:$})]})}),NoOperations=({size:a})=>jsxRuntimeExports.jsx(NoItems,{description:"Your operations history will appear here...",size:a,title:"No operations to show"}),NoNFTs=({size:a})=>jsxRuntimeExports.jsx(NoItems,{description:"Your NFT collection will appear here...",size:a,title:"No NFTs to show",children:jsxRuntimeExports.jsx(ExternalLink,{"data-testid":"buy-nft-button",href:"https://objkt.com",children:jsxRuntimeExports.jsx(Button,{size:SIZES[a].button,children:"Buy your first NFT"})})}),NoTokens=({size:a})=>jsxRuntimeExports.jsx(NoItems,{description:"All of your tokens will appear here...",size:a,title:"No tokens to show"}),NoDelegations=({size:a="lg",onDelegate:_})=>jsxRuntimeExports.jsx(NoItems,{description:"Your delegation history will appear here...",size:a,title:"No delegations to show",children:jsxRuntimeExports.jsx(Button,{"data-testid":"delegation-empty-state-button",onClick:_,size:SIZES[a].button,children:"Delegate"})}),BuyTezForm=({recipient:a=""})=>{const _=useSelectedNetwork(),$=_.name==="mainnet",j=$?"Buy Tez":"Request Tez from faucet",et=useForm({mode:"onBlur",defaultValues:{address:a}}),{formState:{isValid:tt,errors:rt}}=et;let nt=_.buyTezUrl;return _.buyTezUrl&&$&&(nt+="/default/widget/"),jsxRuntimeExports.jsx(FormProvider,{...et,children:jsxRuntimeExports.jsx(ModalContent,{children:jsxRuntimeExports.jsxs("form",{action:nt,rel:"noreferrer noopener",target:"_blank",children:[jsxRuntimeExports.jsx(ModalCloseButton,{}),jsxRuntimeExports.jsx(ModalHeader,{marginBottom:"10px",textAlign:"center",children:"Buy Tez"}),$&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("input",{name:"commodity",type:"hidden",value:"XTZ:Tezos"}),jsxRuntimeExports.jsx(Text,{color:colors.gray[400],textAlign:"center",size:"sm",children:"Please select the recipient account."}),jsxRuntimeExports.jsx(ModalBody,{children:jsxRuntimeExports.jsxs(FormControl,{"data-testid":"buy-tez-selector",isInvalid:!!rt.address,paddingY:5,children:[jsxRuntimeExports.jsx(OwnedImplicitAccountsAutocomplete,{allowUnknown:!1,inputName:"address",isDisabled:!!a,label:"Recipient Account"}),rt.address&&jsxRuntimeExports.jsx(FormErrorMessage,{children:rt.address.message})]})})]}),jsxRuntimeExports.jsx(ModalFooter,{children:jsxRuntimeExports.jsx(Box,{width:"100%","data-testid":"buy-tez-button",children:jsxRuntimeExports.jsx(Button,{width:"100%",marginBottom:2,isDisabled:!tt,size:"lg",type:"submit",children:j})})})]})})})},CheckIcon=a=>jsxRuntimeExports.jsx(Icon,{width:"15px",height:"11px",fill:"none",stroke:"white",viewBox:"0 0 15 11",xmlns:"http://www.w3.org/2000/svg",...a,children:jsxRuntimeExports.jsx("path",{d:"M1.16602 5.98371L5.06345 9.85408L13.8327 1.14575",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.2"})}),UpdateButton=()=>{const a=useAppDispatch(),_=useIsLoading(),$=useLastTimeUpdated(),[j,et]=reactExports.useState(!1),[tt,rt]=reactExports.useState(!1),[nt]=useMediaQuery("(max-width: 1200px)");if(reactExports.useEffect(()=>{if(!$||differenceInSeconds(new Date,new Date($))>1)return;et(!0),rt(!0);const at=setTimeout(()=>et(!1),2e3),ut=setTimeout(()=>rt(!1),3500);return()=>{clearTimeout(at),clearTimeout(ut)}},[$]),nt||$===null)return null;const it=()=>{a(assetsActions.refetch())},st=differenceInMinutes(new Date,new Date($))>=2,ot={opacity:j?1:0,transition:"opacity 2s ease-in-out"};return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs(Text,{display:"inline",color:colors.gray[400],size:"sm",style:tt?ot:void 0,children:[tt&&"Updated just now",st&&`Updated ${formatDistance(new Date($),new Date)} ago`]}),jsxRuntimeExports.jsx(IconButton,{marginRight:"36px",marginLeft:"8px",_active:{color:"white",bg:colors.green},"aria-label":"refetch",backgroundColor:tt?colors.green:colors.gray[500],"data-testid":"refetch-button",icon:tt?jsxRuntimeExports.jsx(CheckIcon,{style:ot}):jsxRuntimeExports.jsx(FetchingIcon,{color:"white"}),isLoading:_,onClick:it,variant:"circle_without_hover_color"})]})},TopBar=({title:a,subtitle:_})=>{const{openWith:$}=reactExports.useContext(DynamicModalContext);return jsxRuntimeExports.jsxs(Box,{children:[jsxRuntimeExports.jsxs(Flex,{alignItems:"center",justifyContent:"space-between",height:"88px",children:[jsxRuntimeExports.jsxs(Flex,{alignItems:"end",children:[jsxRuntimeExports.jsx(Heading,{marginRight:"6px",size:"xl",children:a}),jsxRuntimeExports.jsx(Text,{color:colors.gray[450],"data-testid":"nft-total-amount",size:"xs",children:_})]}),jsxRuntimeExports.jsxs(Box,{children:[jsxRuntimeExports.jsx(UpdateButton,{}),jsxRuntimeExports.jsx(Button,{onClick:()=>$(jsxRuntimeExports.jsx(BuyTezForm,{})),variant:"tertiary",children:"Buy Tez"}),jsxRuntimeExports.jsx(Button,{marginLeft:4,onClick:()=>$(jsxRuntimeExports.jsx(FormPage$4,{})),children:"Send"})]})]}),jsxRuntimeExports.jsx(Divider,{})]})},AddContact=()=>{const{openWith:a}=reactExports.useContext(DynamicModalContext);return jsxRuntimeExports.jsxs(Button,{alignItems:"center",justifyContent:"end",marginTop:"16px",marginBottom:"16px",cursor:"pointer",onClick:()=>a(jsxRuntimeExports.jsx(UpsertContactModal,{})),variant:"CTAWithIcon",children:[jsxRuntimeExports.jsx(AddContactIcon,{stroke:"currentcolor"}),jsxRuntimeExports.jsx(Text,{marginLeft:"4px",size:"sm",children:"Add contact"})]})},AddressBookView=()=>{const a=useSortedContacts();return jsxRuntimeExports.jsxs(Flex,{flexDirection:"column",height:"100%",children:[jsxRuntimeExports.jsx(TopBar,{title:"Address Book"}),jsxRuntimeExports.jsx(Flex,{flexDirection:"row-reverse",children:jsxRuntimeExports.jsx(AddContact,{})}),a.length>0?jsxRuntimeExports.jsx(ContactTable,{contacts:a}):jsxRuntimeExports.jsx(NoItems,{description:"Your contacts will appear here...",size:"lg",title:"Your address book is empty"})]})};var pluralize$1={exports:{}};(function(a,_){(function($,j){typeof commonjsRequire=="function"?a.exports=j():$.pluralize=j()})(commonjsGlobal,function(){var $=[],j=[],et={},tt={},rt={};function nt(wt){return typeof wt=="string"?new RegExp("^"+wt+"$","i"):wt}function it(wt,Ct){return wt===Ct?Ct:wt===wt.toLowerCase()?Ct.toLowerCase():wt===wt.toUpperCase()?Ct.toUpperCase():wt[0]===wt[0].toUpperCase()?Ct.charAt(0).toUpperCase()+Ct.substr(1).toLowerCase():Ct.toLowerCase()}function st(wt,Ct){return wt.replace(/\$(\d{1,2})/g,function(Pt,Tt){return Ct[Tt]||""})}function ot(wt,Ct){return wt.replace(Ct[0],function(Pt,Tt){var Mt=st(Ct[1],arguments);return it(Pt===""?wt[Tt-1]:Pt,Mt)})}function at(wt,Ct,Pt){if(!wt.length||et.hasOwnProperty(wt))return Ct;for(var Tt=Pt.length;Tt--;){var Mt=Pt[Tt];if(Mt[0].test(Ct))return ot(Ct,Mt)}return Ct}function ut(wt,Ct,Pt){return function(Tt){var Mt=Tt.toLowerCase();return Ct.hasOwnProperty(Mt)?it(Tt,Mt):wt.hasOwnProperty(Mt)?it(Tt,wt[Mt]):at(Mt,Tt,Pt)}}function ht(wt,Ct,Pt,Tt){return function(Mt){var Lt=Mt.toLowerCase();return Ct.hasOwnProperty(Lt)?!0:wt.hasOwnProperty(Lt)?!1:at(Lt,Lt,Pt)===Lt}}function yt(wt,Ct,Pt){var Tt=Ct===1?yt.singular(wt):yt.plural(wt);return(Pt?Ct+" ":"")+Tt}return yt.plural=ut(rt,tt,$),yt.isPlural=ht(rt,tt,$),yt.singular=ut(tt,rt,j),yt.isSingular=ht(tt,rt,j),yt.addPluralRule=function(wt,Ct){$.push([nt(wt),Ct])},yt.addSingularRule=function(wt,Ct){j.push([nt(wt),Ct])},yt.addUncountableRule=function(wt){if(typeof wt=="string"){et[wt.toLowerCase()]=!0;return}yt.addPluralRule(wt,"$0"),yt.addSingularRule(wt,"$0")},yt.addIrregularRule=function(wt,Ct){Ct=Ct.toLowerCase(),wt=wt.toLowerCase(),rt[wt]=Ct,tt[Ct]=wt},[["I","we"],["me","us"],["he","they"],["she","they"],["them","them"],["myself","ourselves"],["yourself","yourselves"],["itself","themselves"],["herself","themselves"],["himself","themselves"],["themself","themselves"],["is","are"],["was","were"],["has","have"],["this","these"],["that","those"],["echo","echoes"],["dingo","dingoes"],["volcano","volcanoes"],["tornado","tornadoes"],["torpedo","torpedoes"],["genus","genera"],["viscus","viscera"],["stigma","stigmata"],["stoma","stomata"],["dogma","dogmata"],["lemma","lemmata"],["schema","schemata"],["anathema","anathemata"],["ox","oxen"],["axe","axes"],["die","dice"],["yes","yeses"],["foot","feet"],["eave","eaves"],["goose","geese"],["tooth","teeth"],["quiz","quizzes"],["human","humans"],["proof","proofs"],["carve","carves"],["valve","valves"],["looey","looies"],["thief","thieves"],["groove","grooves"],["pickaxe","pickaxes"],["passerby","passersby"]].forEach(function(wt){return yt.addIrregularRule(wt[0],wt[1])}),[[/s?$/i,"s"],[/[^\u0000-\u007F]$/i,"$0"],[/([^aeiou]ese)$/i,"$1"],[/(ax|test)is$/i,"$1es"],[/(alias|[^aou]us|t[lm]as|gas|ris)$/i,"$1es"],[/(e[mn]u)s?$/i,"$1s"],[/([^l]ias|[aeiou]las|[ejzr]as|[iu]am)$/i,"$1"],[/(alumn|syllab|vir|radi|nucle|fung|cact|stimul|termin|bacill|foc|uter|loc|strat)(?:us|i)$/i,"$1i"],[/(alumn|alg|vertebr)(?:a|ae)$/i,"$1ae"],[/(seraph|cherub)(?:im)?$/i,"$1im"],[/(her|at|gr)o$/i,"$1oes"],[/(agend|addend|millenni|dat|extrem|bacteri|desiderat|strat|candelabr|errat|ov|symposi|curricul|automat|quor)(?:a|um)$/i,"$1a"],[/(apheli|hyperbat|periheli|asyndet|noumen|phenomen|criteri|organ|prolegomen|hedr|automat)(?:a|on)$/i,"$1a"],[/sis$/i,"ses"],[/(?:(kni|wi|li)fe|(ar|l|ea|eo|oa|hoo)f)$/i,"$1$2ves"],[/([^aeiouy]|qu)y$/i,"$1ies"],[/([^ch][ieo][ln])ey$/i,"$1ies"],[/(x|ch|ss|sh|zz)$/i,"$1es"],[/(matr|cod|mur|sil|vert|ind|append)(?:ix|ex)$/i,"$1ices"],[/\b((?:tit)?m|l)(?:ice|ouse)$/i,"$1ice"],[/(pe)(?:rson|ople)$/i,"$1ople"],[/(child)(?:ren)?$/i,"$1ren"],[/eaux$/i,"$0"],[/m[ae]n$/i,"men"],["thou","you"]].forEach(function(wt){return yt.addPluralRule(wt[0],wt[1])}),[[/s$/i,""],[/(ss)$/i,"$1"],[/(wi|kni|(?:after|half|high|low|mid|non|night|[^\w]|^)li)ves$/i,"$1fe"],[/(ar|(?:wo|[ae])l|[eo][ao])ves$/i,"$1f"],[/ies$/i,"y"],[/\b([pl]|zomb|(?:neck|cross)?t|coll|faer|food|gen|goon|group|lass|talk|goal|cut)ies$/i,"$1ie"],[/\b(mon|smil)ies$/i,"$1ey"],[/\b((?:tit)?m|l)ice$/i,"$1ouse"],[/(seraph|cherub)im$/i,"$1"],[/(x|ch|ss|sh|zz|tto|go|cho|alias|[^aou]us|t[lm]as|gas|(?:her|at|gr)o|[aeiou]ris)(?:es)?$/i,"$1"],[/(analy|diagno|parenthe|progno|synop|the|empha|cri|ne)(?:sis|ses)$/i,"$1sis"],[/(movie|twelve|abuse|e[mn]u)s$/i,"$1"],[/(test)(?:is|es)$/i,"$1is"],[/(alumn|syllab|vir|radi|nucle|fung|cact|stimul|termin|bacill|foc|uter|loc|strat)(?:us|i)$/i,"$1us"],[/(agend|addend|millenni|dat|extrem|bacteri|desiderat|strat|candelabr|errat|ov|symposi|curricul|quor)a$/i,"$1um"],[/(apheli|hyperbat|periheli|asyndet|noumen|phenomen|criteri|organ|prolegomen|hedr|automat)a$/i,"$1on"],[/(alumn|alg|vertebr)ae$/i,"$1a"],[/(cod|mur|sil|vert|ind)ices$/i,"$1ex"],[/(matr|append)ices$/i,"$1ix"],[/(pe)(rson|ople)$/i,"$1rson"],[/(child)ren$/i,"$1"],[/(eau)x?$/i,"$1"],[/men$/i,"man"]].forEach(function(wt){return yt.addSingularRule(wt[0],wt[1])}),["adulthood","advice","agenda","aid","aircraft","alcohol","ammo","analytics","anime","athletics","audio","bison","blood","bream","buffalo","butter","carp","cash","chassis","chess","clothing","cod","commerce","cooperation","corps","debris","diabetes","digestion","elk","energy","equipment","excretion","expertise","firmware","flounder","fun","gallows","garbage","graffiti","hardware","headquarters","health","herpes","highjinks","homework","housework","information","jeans","justice","kudos","labour","literature","machinery","mackerel","mail","media","mews","moose","music","mud","manga","news","only","personnel","pike","plankton","pliers","police","pollution","premises","rain","research","rice","salmon","scissors","series","sewage","shambles","shrimp","software","species","staff","swine","tennis","traffic","transportation","trout","tuna","wealth","welfare","whiting","wildebeest","wildlife","you",/pok[eé]mon$/i,/[^aeiou]ese$/i,/deer$/i,/fish$/i,/measles$/i,/o[iu]s$/i,/pox$/i,/sheep$/i].forEach(yt.addUncountableRule),yt})})(pluralize$1);var pluralizeExports=pluralize$1.exports;const pluralize=getDefaultExportFromCjs$1(pluralizeExports),AccountSmallTile=({account:{address:a},..._})=>{const $=useAllAccounts().find(tt=>tt.address.pkh===a.pkh),j=useGetAccountBalance()(a.pkh),et=useAddressKind$1(a);return $?jsxRuntimeExports.jsxs(Flex,{alignItems:"space-between",cursor:"pointer","data-testid":"account-small-tile",..._,children:[jsxRuntimeExports.jsx(AddressTileIcon,{addressKind:et}),jsxRuntimeExports.jsxs(Flex,{alignSelf:"center",height:"20px",marginLeft:"12px",children:[jsxRuntimeExports.jsx(Heading,{marginRight:"10px","data-testid":"account-small-tile-label",size:"sm",children:$.label}),jsxRuntimeExports.jsx(Text,{marginRight:"35px",color:colors.gray[300],"data-testid":"account-small-tile-pkh",size:"xs",children:formatPkh(a.pkh)}),j&&jsxRuntimeExports.jsx(Heading,{"data-testid":"account-small-tile-balance",size:"sm",children:prettyTezAmount(j)})]})]}):null},OperationEstimationStatus=({estimationResult:a})=>{if(!a)return null;const _=lodashExports.get(a,"metadata.operation_result.status");if(!_)return null;let $,j,et;switch(_){case"applied":case"backtracked":j=colors.green,et="Estimated",$=jsxRuntimeExports.jsx(CheckmarkIcon,{height:"14.5px"});break;case"failed":j=colors.orange,et="Failed",$=jsxRuntimeExports.jsx(WarningIcon,{width:"12px",height:"13px",stroke:"currentcolor",marginX:"3px"});break;case"skipped":j=colors.orangeL,et="Not Estimated",$=jsxRuntimeExports.jsx(ExclamationIcon,{stroke:"currentcolor",marginX:"3px"})}return jsxRuntimeExports.jsx(Flex,{marginTop:"8px",color:j,"data-testid":"estimation-status",children:jsxRuntimeExports.jsxs(Center,{children:[$,jsxRuntimeExports.jsx(Text,{marginLeft:"4px",size:"xs",children:et})]})})},LeftIcon=({addressKind:{type:a},..._})=>{switch(a){case"multisig":return jsxRuntimeExports.jsx(KeyIcon,{"data-testid":`${a}-icon`,..._});case"fa1.2":return jsxRuntimeExports.jsx(FA12Icon,{"data-testid":`${a}-icon`,..._,fill:_.stroke,stroke:"none"});case"fa2":return jsxRuntimeExports.jsx(FA2Icon,{"data-testid":`${a}-icon`,..._,fill:_.stroke,stroke:"none"});case"baker":return jsxRuntimeExports.jsx(BakerIcon,{"data-testid":`${a}-icon`,..._});case"contact":return jsxRuntimeExports.jsx(ContactIcon,{"data-testid":`${a}-icon`,..._});case"unknown":case"implicit":return null}},RightIcon=({addressKind:{type:a,pkh:_},addressPillMode:$,...j})=>{const et=useAddressExistsInContacts(),{openWith:tt}=reactExports.useContext(DynamicModalContext);return $.type==="removable"?jsxRuntimeExports.jsx(XMark,{cursor:"pointer",onClick:$.onRemove,...j}):["implicit","multisig","baker"].includes(a)||et(_)?null:jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsx(AddContactIcon,{"data-testid":"add-contact-icon",onClick:()=>tt(jsxRuntimeExports.jsx(UpsertContactModal,{contact:{name:"",pkh:_}})),...j})})},AddressPillText=({addressKind:{pkh:a,label:_},showPkh:$,alias:j,...et})=>{const tt=useGetContactName(),rt=formatPkh(a),nt=tt(a)||_||j;return $?jsxRuntimeExports.jsx(Text,{...et,children:rt}):jsxRuntimeExports.jsx(Text,{...et,children:nt?truncate(nt,21):rt})},useAddressKind=a=>{const _=useOwnedAccountAddressKind(a),$=useTokenAddressKind(a),j=useBakerAddressKind(a),et=useContactAddressKind(a);return _||$||j||et||{pkh:a.pkh,type:"unknown",label:null}},useOwnedAccountAddressKind=a=>{const _=useOwnedAccountAddressKind$1(a);if(!_)return null;const{pkh:$,label:j}=_;return{type:_.type==="multisig"?"multisig":"implicit",pkh:$,label:j}},useTokenAddressKind=({pkh:a})=>{const _=useSelectedNetwork(),j=useGetTokenType(_)(a);if(!j)return null;switch(j){case"fa1.2":return{pkh:a,type:"fa1.2",label:null};case"fa2":case"nft":return{pkh:a,type:"fa2",label:null}}},AddressPill=({address:a,mode:_={type:"default"},...$})=>{const j=!("pkh"in a&&"type"in a),et=j?parsePkh(a.address):a,tt=useAddressKind(et),rt=_.type!=="no_icons",{onOpen:nt,onClose:it,isOpen:st}=useDisclosure$1(),[ot,at]=reactExports.useState(!1),ut=async()=>{await navigator.clipboard.writeText(et.pkh),nt(),setTimeout(it,1e3)},ht=reactExports.useRef(null);useOutsideClick$1({ref:ht,handler:()=>{at(!1)}});let yt,wt,Ct;return st?(yt=colors.green,wt=colors.gray[300],Ct="white"):ot?(yt=colors.gray[450],wt=colors.gray[400],Ct=colors.gray[200]):(yt=colors.gray[500],wt=colors.gray[450],Ct=colors.gray[300]),jsxRuntimeExports.jsx(Box,{maxWidth:"max-content","data-testid":"address-pill",...$,children:jsxRuntimeExports.jsxs(Flex,{ref:ht,alignItems:"center",background:yt,borderRadius:"full",onMouseEnter:()=>{at(!0)},onMouseLeave:()=>{at(!1)},paddingX:"4px",children:[rt&&jsxRuntimeExports.jsx(LeftIcon,{marginLeft:"4px",stroke:wt,addressKind:tt,"data-testid":"address-pill-left-icon"}),jsxRuntimeExports.jsxs(Popover,{autoFocus:!1,isOpen:st,onOpen:ut,children:[jsxRuntimeExports.jsx(PopoverTrigger,{children:jsxRuntimeExports.jsx(Button,{height:"24px",_focus:{boxShadow:"none"},onClick:Pt=>Pt.stopPropagation(),variant:"unstyled",children:jsxRuntimeExports.jsx(AddressPillText,{color:Ct,cursor:"pointer",addressKind:tt,alias:j&&a.alias?a.alias:void 0,"data-testid":"address-pill-text",marginX:"4px",showPkh:!rt,size:"sm"})})}),jsxRuntimeExports.jsxs(PopoverContent,{maxWidth:"max-content",background:"white",children:[jsxRuntimeExports.jsx(PopoverArrow,{background:"white !important"}),jsxRuntimeExports.jsx(PopoverBody,{children:jsxRuntimeExports.jsx(Text,{color:"black",size:"sm",children:"Copied!"})})]})]}),rt&&jsxRuntimeExports.jsx(RightIcon,{marginRight:"4px",stroke:colors.gray[300],cursor:"pointer",addressKind:tt,addressPillMode:_,"data-testid":"address-pill-right-icon"})]})})},OperationRecipient=({operation:a})=>{let _;switch(a.type){case"undelegation":case"contract_origination":_=void 0;break;case"tez":case"fa1.2":case"fa2":case"delegation":_=a.recipient;break;case"contract_call":_=a.contract;break}return _?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Text,{marginRight:"6px",color:colors.gray[450],children:"To:"}),jsxRuntimeExports.jsx(AddressPill,{address:_,"data-testid":"recipient"})]}):jsxRuntimeExports.jsx(Text,{color:colors.gray[500],"data-testid":"recipient",children:"N/A"})},tokenTitle=(a,_)=>{if(!a)return`${_} Unknown Token`;const $=tokenName(a),j=tokenPrettyAmount(_,a,{showSymbol:!1}),et=$?void 0:tokenSymbol(a);return lodashExports.compact([j,et,$]).join(" ")},getIPFSurl=a=>a==null?void 0:a.replace("ipfs://","https://ipfs.io/ipfs/"),sortedByLastUpdate=a=>lodashExports.orderBy(a,["lastLevel","id","owner"],["desc"]),OperationView=({operation:a})=>{const _=useGetToken(),$=useSelectedNetwork();switch(a.type){case"tez":return jsxRuntimeExports.jsxs(Flex,{children:[jsxRuntimeExports.jsx(OutgoingArrow,{marginRight:"8px"}),jsxRuntimeExports.jsx(Heading,{size:"sm",children:prettyTezAmount(a.amount)})]});case"fa1.2":case"fa2":{const j=_(a.contract.pkh,a.tokenId);return(j==null?void 0:j.type)==="nft"?jsxRuntimeExports.jsxs(Flex,{children:[jsxRuntimeExports.jsx(OutgoingArrow,{marginRight:"8px"}),Number(a.amount)>1&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs(Heading,{color:colors.gray[450],size:"sm",children:["x",a.amount]})," "]}),jsxRuntimeExports.jsx(Heading,{size:"sm",children:jsxRuntimeExports.jsx(Tooltip,{padding:"8px",background:colors.gray[700],border:"1px solid",borderColor:colors.gray[500],borderRadius:"8px",label:jsxRuntimeExports.jsx(AspectRatio,{width:"170px",height:"170px",ratio:1,children:jsxRuntimeExports.jsx(Image$1,{src:getIPFSurl(thumbnailUri(j))})}),openDelay:300,children:jsxRuntimeExports.jsx(Link$1,{"data-testid":"link",href:tokenUri(j,$),children:tokenNameSafe(j)})})})]}):jsxRuntimeExports.jsxs(Flex,{children:[jsxRuntimeExports.jsx(OutgoingArrow,{marginRight:"8px"}),jsxRuntimeExports.jsx(Heading,{size:"sm",children:jsxRuntimeExports.jsx(Link$1,{"data-testid":"link",href:j?tokenUri(j,$):void 0,children:tokenTitle(j,a.amount)})})]})}case"delegation":return jsxRuntimeExports.jsxs(Flex,{children:[jsxRuntimeExports.jsx(BakerIcon,{marginRight:"8px"}),jsxRuntimeExports.jsx(Heading,{size:"sm",children:"Delegate"})]});case"undelegation":return jsxRuntimeExports.jsxs(Flex,{children:[jsxRuntimeExports.jsx(BakerIcon,{marginRight:"8px"}),jsxRuntimeExports.jsx(Heading,{size:"sm",children:"End Delegation"})]});case"contract_origination":case"contract_call":throw new Error(`${a.type} is not supported yet`)}},AccountTileIcon=({addressKind:a})=>{switch(a.type){case"secret_key":case"mnemonic":return jsxRuntimeExports.jsx(Identicon,{width:"48px",height:"48px",padding:"8px",address:a.pkh,identiconSize:32});case"social":case"contact":case"ledger":case"multisig":case"unknown":case"baker":{const _=a.type==="social"?"white":colors.gray[500];return jsxRuntimeExports.jsx(Flex,{alignItems:"center",justifyContent:"center",padding:"4px",background:_,borderRadius:"4px",children:jsxRuntimeExports.jsx(AddressTileIcon,{addressKind:a,size:"md"})})}}},SelectedAccountContext=reactExports.createContext({selectedAccount:null,selectAccount:()=>{}}),AccountTileBase=({icon:a,leftElement:_,rightElement:$,...j})=>jsxRuntimeExports.jsxs(Flex,{alignItems:"center",height:90,marginBottom:4,padding:4,border:`1px solid ${colors.gray[800]}`,borderRadius:4,"data-testid":"account-tile-base",...j,children:[a,jsxRuntimeExports.jsxs(Flex,{alignItems:"center",justifyContent:"space-between",flex:1,children:[_,$]})]}),LabelAndAddress=({label:a,pkh:_})=>jsxRuntimeExports.jsxs(Box,{margin:4,"data-testid":"account-identifier",children:[a&&jsxRuntimeExports.jsx(Heading,{size:"md",children:a}),jsxRuntimeExports.jsx(Flex,{alignItems:"center",children:jsxRuntimeExports.jsx(Text,{color:"text.dark","data-testid":"short-address",size:"sm",children:formatPkh(_)})})]}),MAX_NFT_COUNT=7,accountIconGradient=({account:a,radius:_,left:$="0px",top:j="0px",mainBackgroundColor:et=colors.gray[900],opacity:tt="60"})=>{let rt;switch(a.type){case"mnemonic":case"secret_key":rt=color(a.address.pkh);break;case"ledger":case"multisig":rt=colors.gray[450];break;case"social":rt="#EA4335"}return rt+=tt,`radial-gradient(circle farthest-side at ${$} ${j}, ${rt} 0%, ${rt} ${parseInt(_)/4}px, transparent ${_}), ${et}`},AccountTile=({account:a,balance:_})=>{const{selectedAccount:$,selectAccount:j}=reactExports.useContext(SelectedAccountContext),et=($==null?void 0:$.address.pkh)===a.address.pkh,tt=useAddressKind$1(a.address),{address:{pkh:rt}}=a,nt=!!useAppSelector(ot=>ot.assets.delegationLevels)[rt],it=useGetAccountNFTs(),st=sortedByLastUpdate(it(rt));return jsxRuntimeExports.jsxs(Box,{zIndex:2,background:accountIconGradient({left:"-10px",top:"-10px",account:a,radius:st.length>0?"120px":"100px"}),borderWidth:"1px",borderStyle:"solid",borderColor:et?colors.orangeL:colors.gray[900],borderRadius:"8px",_hover:{borderColor:et?colors.orangeL:colors.gray[700]},cursor:"pointer","data-testid":"account-tile-container",onClick:()=>j(a),paddingX:"21px",children:[jsxRuntimeExports.jsx(AccountTileBase,{align:"bottom",marginBottom:0,padding:0,border:"none","data-testid":`account-tile-${rt}`+(et?"-selected":""),icon:jsxRuntimeExports.jsx(AccountTileIcon,{addressKind:tt}),leftElement:jsxRuntimeExports.jsx(LabelAndAddress,{label:tt.label,pkh:rt}),rightElement:jsxRuntimeExports.jsxs(Flex,{flexDirection:"column",children:[_&&jsxRuntimeExports.jsx(Heading,{alignSelf:"flex-end","data-testid":"balance",size:"md",children:prettyTezAmount(_)}),jsxRuntimeExports.jsx(Text,{align:"right",color:colors.gray[450],fontWeight:700,"data-testid":"is-delegated",size:"sm",children:nt?"Delegated":jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:" "})})]})}),st.length>0&&jsxRuntimeExports.jsxs(Flex,{flexDirection:"column","data-testid":"nfts-list",children:[jsxRuntimeExports.jsx(Divider,{}),jsxRuntimeExports.jsx(Flex,{marginY:"21px",children:st.slice(0,MAX_NFT_COUNT).map((ot,at)=>{const ut=getIPFSurl(thumbnailUri(ot));return at===MAX_NFT_COUNT-1?jsxRuntimeExports.jsx(Link,{"data-testid":"show-more-nfts-link",to:`/nfts?accounts=${rt}`,children:jsxRuntimeExports.jsx(Box,{height:"32px",marginLeft:"4px",background:colors.gray[600],borderRadius:"4px",children:jsxRuntimeExports.jsx(Text,{align:"center",width:"32px",color:colors.gray[450],fontWeight:700,children:"..."})})},"last"):jsxRuntimeExports.jsx(Link,{"data-testid":"nft-link",to:`/home/${rt}/${fullId(ot)}`,children:jsxRuntimeExports.jsx(AspectRatio,{width:"32px",height:"32px",marginLeft:at>0?"4px":0,ratio:1,children:jsxRuntimeExports.jsx(Image$1,{borderRadius:"4px",src:ut})})},fullId(ot))})})]})]})},ConfirmationModal=({title:a,description:_,buttonLabel:$,onSubmit:j})=>{const{onClose:et}=reactExports.useContext(DynamicModalContext),tt=()=>{j(),et()};return jsxRuntimeExports.jsxs(ModalContent,{children:[jsxRuntimeExports.jsxs(ModalHeader,{marginBottom:"10px",textAlign:"center",children:[jsxRuntimeExports.jsx(Box,{children:jsxRuntimeExports.jsx(WarningIcon,{width:"40px",height:"40px",marginBottom:"16px"})}),jsxRuntimeExports.jsx(Heading,{children:a}),jsxRuntimeExports.jsx(ModalCloseButton,{})]}),_&&jsxRuntimeExports.jsx(ModalBody,{children:jsxRuntimeExports.jsx(Text,{align:"center",color:colors.gray[400],"data-testid":"description",children:_})}),jsxRuntimeExports.jsx(ModalFooter,{children:jsxRuntimeExports.jsx(Button,{width:"100%",onClick:tt,size:"lg",variant:"warning",children:$})})]})},BatchModalBody=({title:a,fee:_,transactionCount:$,signer:j})=>jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(FormPageHeader,{subTitle:subTitle(j),title:a}),jsxRuntimeExports.jsxs(ModalBody,{children:[jsxRuntimeExports.jsx(FormLabel,{children:"From"}),jsxRuntimeExports.jsx(AddressTile,{address:j.address}),jsxRuntimeExports.jsxs(Flex,{alignItems:"center",justifyContent:"space-between",marginY:"12px",paddingX:"4px",children:[jsxRuntimeExports.jsxs(Flex,{children:[jsxRuntimeExports.jsx(Text,{marginRight:"4px",color:colors.gray[450],size:"sm",children:"Transactions:"}),jsxRuntimeExports.jsx(Text,{color:colors.gray[400],"data-testid":"transaction-length",size:"sm",children:$})]}),jsxRuntimeExports.jsx(SignPageFee,{fee:_})]})]})]}),SignPage$5=({initialOperations:a,initialFee:_})=>{const{fee:$,operations:j,estimationFailed:et,isLoading:tt,signer:rt,form:nt,reEstimate:it,onSign:st}=useSignPageHelpers(_,a,"batch"),ot=headerText(j.type,"batch");return jsxRuntimeExports.jsx(FormProvider,{...nt,children:jsxRuntimeExports.jsx(ModalContent,{children:jsxRuntimeExports.jsxs("form",{children:[jsxRuntimeExports.jsx(BatchModalBody,{fee:$,signer:rt,title:ot,transactionCount:j.operations.length}),jsxRuntimeExports.jsx(OperationSignerSelector,{isLoading:tt,operationType:j.type,reEstimate:it,sender:j.sender}),jsxRuntimeExports.jsx(ModalFooter,{children:jsxRuntimeExports.jsx(SignButton,{isDisabled:et,isLoading:tt,onSubmit:st,signer:rt,text:ot})})]})})})},RightHeader=({operations:a,onSubmit:_,isLoading:$})=>{const{type:j,sender:et,operations:tt}=a,{openWith:rt}=reactExports.useContext(DynamicModalContext);return jsxRuntimeExports.jsxs(Box,{alignItems:"center",justifyContent:"space-between","data-testid":"right-header",children:[jsxRuntimeExports.jsx(Text,{display:"inline-block",color:colors.gray[400],size:"sm",children:pluralize("transaction",tt.length,!0)}),jsxRuntimeExports.jsx(Button,{marginLeft:"30px",isLoading:$,onClick:_,variant:"primary",children:headerText(j,"batch")}),jsxRuntimeExports.jsx(IconButton,{marginLeft:"16px",borderRadius:"4px","aria-label":"remove-batch","data-testid":"remove-batch",icon:jsxRuntimeExports.jsx(TrashIcon,{stroke:colors.gray[300]}),onClick:()=>rt(jsxRuntimeExports.jsx(ClearBatchConfirmationModal,{sender:et}),"sm"),variant:"circle"})]})},prettyOperationType=a=>{switch(a.type){case"fa1.2":case"fa2":return"Token Transfer";case"undelegation":case"delegation":return"Delegation";case"tez":return`${TEZ} Transfer`;case"contract_origination":case"contract_call":throw new Error(`${a.type} is not supported yet`)}},ClearBatchConfirmationModal=({sender:a})=>{const _=useClearBatch();return jsxRuntimeExports.jsx(ConfirmationModal,{buttonLabel:"Delete Batch",description:"Are you sure you want to remove all transactions from the batch?",onSubmit:()=>_(a),title:"Delete Batch"})},SUCCESSFUL_ESTIMATION_RESULT={metadata:{operation_result:{status:"applied"}}},BatchView=({operations:a})=>{const{operations:_,sender:$}=a,j=_.length>9,et=useRemoveBatchItem(),{openWith:tt}=reactExports.useContext(DynamicModalContext),rt=useSelectedNetwork(),[nt,it]=React$2.useState([]);reactExports.useEffect(()=>{it([])},[_.length]);const{isLoading:st,handleAsyncAction:ot}=useAsyncActionHandler(),at=()=>ot(async()=>{it([]);try{const ht=await estimate(a,rt);return it(_.map(yt=>SUCCESSFUL_ESTIMATION_RESULT)),tt(jsxRuntimeExports.jsx(SignPage$5,{initialFee:ht,initialOperations:a}))}catch(ht){if(ht instanceof TezosOperationError){const yt=ht.operationsWithResults;yt.length>_.length&&yt.shift(),it(yt)}throw ht}}),ut=jsxRuntimeExports.jsx(RightHeader,{isLoading:st,onSubmit:at,operations:a});return jsxRuntimeExports.jsxs(Box,{width:"100%",marginBottom:"16px","data-testid":`batch-table-${$.address.pkh}`,children:[jsxRuntimeExports.jsxs(Flex,{justifyContent:"space-between",padding:"20px 23px 20px 30px",background:accountIconGradient({top:"-10px",left:"-10px",account:$,radius:"100px",opacity:"40",mainBackgroundColor:colors.gray[800]}),borderTopRadius:"8px","data-testid":"header",children:[jsxRuntimeExports.jsx(Flex,{alignItems:"center",children:jsxRuntimeExports.jsx(AccountSmallTile,{paddingLeft:0,account:$})}),ut]}),jsxRuntimeExports.jsx(Flex,{flexDirection:"column",background:colors.gray[900],borderBottomRadius:j?0:"8px",paddingX:"30px",paddingY:"20px",children:_.map((ht,yt)=>{const wt=nt.at(yt);return jsxRuntimeExports.jsxs(Box,{"data-testid":"operation",children:[jsxRuntimeExports.jsxs(Flex,{flexDirection:"column",height:wt?"80px":"50px",children:[jsxRuntimeExports.jsx(Flex,{children:jsxRuntimeExports.jsx(OperationView,{operation:ht})}),jsxRuntimeExports.jsxs(Flex,{alignItems:"center",justifyContent:"space-between",width:"100%",marginTop:"8px",children:[jsxRuntimeExports.jsxs(Flex,{flexDirection:"column",children:[jsxRuntimeExports.jsx(Flex,{children:jsxRuntimeExports.jsx(OperationRecipient,{operation:ht})}),jsxRuntimeExports.jsx(OperationEstimationStatus,{estimationResult:wt})]}),jsxRuntimeExports.jsxs(Flex,{alignSelf:"flex-end",children:[jsxRuntimeExports.jsx(Text,{alignSelf:"flex-end",color:colors.gray[450],size:"sm",children:prettyOperationType(ht)}),jsxRuntimeExports.jsx(IconButton,{width:"24px",marginLeft:"12px",borderRadius:"full","aria-label":"Remove",icon:jsxRuntimeExports.jsx(TrashIcon,{stroke:colors.gray[300]}),onClick:()=>et($,yt),size:"xs",variant:"circle"})]})]})]}),yt<_.length-1&&jsxRuntimeExports.jsx(Divider,{marginTop:wt?"10px":"20px",marginBottom:"20px"})]},nanoid())})}),j&&jsxRuntimeExports.jsx(Flex,{justifyContent:"end",verticalAlign:"middle",padding:"20px 23px 20px 30px",background:colors.gray[800],borderRadius:"0 0 8px 8px","data-testid":"footer",children:ut})]})};var papaparse_min={exports:{}};/* @license
Papa Parse
v5.4.1
https://github.com/mholt/PapaParse
License: MIT
*/(function(a,_){(function($,j){a.exports=j()})(commonjsGlobal,function $(){var j=typeof self<"u"?self:typeof window<"u"?window:j!==void 0?j:{},et=!j.document&&!!j.postMessage,tt=j.IS_PAPA_WORKER||!1,rt={},nt=0,it={parse:function(It,Bt){var Ft=(Bt=Bt||{}).dynamicTyping||!1;if(Ot(Ft)&&(Bt.dynamicTypingFunction=Ft,Ft={}),Bt.dynamicTyping=Ft,Bt.transform=!!Ot(Bt.transform)&&Bt.transform,Bt.worker&&it.WORKERS_SUPPORTED){var jt=function(){if(!it.WORKERS_SUPPORTED)return!1;var vt=(dt=j.URL||j.webkitURL||null,mt=$.toString(),it.BLOB_URL||(it.BLOB_URL=dt.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",mt,")();"],{type:"text/javascript"})))),ct=new j.Worker(vt),dt,mt;return ct.onmessage=Tt,ct.id=nt++,rt[ct.id]=ct}();return jt.userStep=Bt.step,jt.userChunk=Bt.chunk,jt.userComplete=Bt.complete,jt.userError=Bt.error,Bt.step=Ot(Bt.step),Bt.chunk=Ot(Bt.chunk),Bt.complete=Ot(Bt.complete),Bt.error=Ot(Bt.error),delete Bt.worker,void jt.postMessage({input:It,config:Bt,workerId:jt.id})}var bt=null;return it.NODE_STREAM_INPUT,typeof It=="string"?(It=function(vt){return vt.charCodeAt(0)===65279?vt.slice(1):vt}(It),bt=Bt.download?new at(Bt):new ht(Bt)):It.readable===!0&&Ot(It.read)&&Ot(It.on)?bt=new yt(Bt):(j.File&&It instanceof File||It instanceof Object)&&(bt=new ut(Bt)),bt.stream(It)},unparse:function(It,Bt){var Ft=!1,jt=!0,bt=",",vt=`\r
`,ct='"',dt=ct+ct,mt=!1,xt=null,At=!1;(function(){if(typeof Bt=="object"){if(typeof Bt.delimiter!="string"||it.BAD_DELIMITERS.filter(function(Et){return Bt.delimiter.indexOf(Et)!==-1}).length||(bt=Bt.delimiter),(typeof Bt.quotes=="boolean"||typeof Bt.quotes=="function"||Array.isArray(Bt.quotes))&&(Ft=Bt.quotes),typeof Bt.skipEmptyLines!="boolean"&&typeof Bt.skipEmptyLines!="string"||(mt=Bt.skipEmptyLines),typeof Bt.newline=="string"&&(vt=Bt.newline),typeof Bt.quoteChar=="string"&&(ct=Bt.quoteChar),typeof Bt.header=="boolean"&&(jt=Bt.header),Array.isArray(Bt.columns)){if(Bt.columns.length===0)throw new Error("Option columns is empty");xt=Bt.columns}Bt.escapeChar!==void 0&&(dt=Bt.escapeChar+ct),(typeof Bt.escapeFormulae=="boolean"||Bt.escapeFormulae instanceof RegExp)&&(At=Bt.escapeFormulae instanceof RegExp?Bt.escapeFormulae:/^[=+\-@\t\r].*$/)}})();var Rt=new RegExp(Ct(ct),"g");if(typeof It=="string"&&(It=JSON.parse(It)),Array.isArray(It)){if(!It.length||Array.isArray(It[0]))return St(null,It,mt);if(typeof It[0]=="object")return St(xt||Object.keys(It[0]),It,mt)}else if(typeof It=="object")return typeof It.data=="string"&&(It.data=JSON.parse(It.data)),Array.isArray(It.data)&&(It.fields||(It.fields=It.meta&&It.meta.fields||xt),It.fields||(It.fields=Array.isArray(It.data[0])?It.fields:typeof It.data[0]=="object"?Object.keys(It.data[0]):[]),Array.isArray(It.data[0])||typeof It.data[0]=="object"||(It.data=[It.data])),St(It.fields||[],It.data||[],mt);throw new Error("Unable to serialize unrecognized input");function St(Et,Nt,tr){var ir="";typeof Et=="string"&&(Et=JSON.parse(Et)),typeof Nt=="string"&&(Nt=JSON.parse(Nt));var nr=Array.isArray(Et)&&0<Et.length,Zt=!Array.isArray(Nt[0]);if(nr&&jt){for(var Kt=0;Kt<Et.length;Kt++)0<Kt&&(ir+=bt),ir+=$t(Et[Kt],Kt);0<Nt.length&&(ir+=vt)}for(var Qt=0;Qt<Nt.length;Qt++){var Ht=nr?Et.length:Nt[Qt].length,qt=!1,Jt=nr?Object.keys(Nt[Qt]).length===0:Nt[Qt].length===0;if(tr&&!nr&&(qt=tr==="greedy"?Nt[Qt].join("").trim()==="":Nt[Qt].length===1&&Nt[Qt][0].length===0),tr==="greedy"&&nr){for(var ur=[],xr=0;xr<Ht;xr++){var pr=Zt?Et[xr]:xr;ur.push(Nt[Qt][pr])}qt=ur.join("").trim()===""}if(!qt){for(var Cr=0;Cr<Ht;Cr++){0<Cr&&!Jt&&(ir+=bt);var Mr=nr&&Zt?Et[Cr]:Cr;ir+=$t(Nt[Qt][Mr],Cr)}Qt<Nt.length-1&&(!tr||0<Ht&&!Jt)&&(ir+=vt)}}return ir}function $t(Et,Nt){if(Et==null)return"";if(Et.constructor===Date)return JSON.stringify(Et).slice(1,25);var tr=!1;At&&typeof Et=="string"&&At.test(Et)&&(Et="'"+Et,tr=!0);var ir=Et.toString().replace(Rt,dt);return(tr=tr||Ft===!0||typeof Ft=="function"&&Ft(Et,Nt)||Array.isArray(Ft)&&Ft[Nt]||function(nr,Zt){for(var Kt=0;Kt<Zt.length;Kt++)if(-1<nr.indexOf(Zt[Kt]))return!0;return!1}(ir,it.BAD_DELIMITERS)||-1<ir.indexOf(bt)||ir.charAt(0)===" "||ir.charAt(ir.length-1)===" ")?ct+ir+ct:ir}}};if(it.RECORD_SEP="",it.UNIT_SEP="",it.BYTE_ORDER_MARK="\uFEFF",it.BAD_DELIMITERS=["\r",`
`,'"',it.BYTE_ORDER_MARK],it.WORKERS_SUPPORTED=!et&&!!j.Worker,it.NODE_STREAM_INPUT=1,it.LocalChunkSize=10485760,it.RemoteChunkSize=5242880,it.DefaultDelimiter=",",it.Parser=Pt,it.ParserHandle=wt,it.NetworkStreamer=at,it.FileStreamer=ut,it.StringStreamer=ht,it.ReadableStreamStreamer=yt,j.jQuery){var st=j.jQuery;st.fn.parse=function(It){var Bt=It.config||{},Ft=[];return this.each(function(vt){if(!(st(this).prop("tagName").toUpperCase()==="INPUT"&&st(this).attr("type").toLowerCase()==="file"&&j.FileReader)||!this.files||this.files.length===0)return!0;for(var ct=0;ct<this.files.length;ct++)Ft.push({file:this.files[ct],inputElem:this,instanceConfig:st.extend({},Bt)})}),jt(),this;function jt(){if(Ft.length!==0){var vt,ct,dt,mt,xt=Ft[0];if(Ot(It.before)){var At=It.before(xt.file,xt.inputElem);if(typeof At=="object"){if(At.action==="abort")return vt="AbortError",ct=xt.file,dt=xt.inputElem,mt=At.reason,void(Ot(It.error)&&It.error({name:vt},ct,dt,mt));if(At.action==="skip")return void bt();typeof At.config=="object"&&(xt.instanceConfig=st.extend(xt.instanceConfig,At.config))}else if(At==="skip")return void bt()}var Rt=xt.instanceConfig.complete;xt.instanceConfig.complete=function(St){Ot(Rt)&&Rt(St,xt.file,xt.inputElem),bt()},it.parse(xt.file,xt.instanceConfig)}else Ot(It.complete)&&It.complete()}function bt(){Ft.splice(0,1),jt()}}}function ot(It){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(Bt){var Ft=Dt(Bt);Ft.chunkSize=parseInt(Ft.chunkSize),Bt.step||Bt.chunk||(Ft.chunkSize=null),this._handle=new wt(Ft),(this._handle.streamer=this)._config=Ft}).call(this,It),this.parseChunk=function(Bt,Ft){if(this.isFirstChunk&&Ot(this._config.beforeFirstChunk)){var jt=this._config.beforeFirstChunk(Bt);jt!==void 0&&(Bt=jt)}this.isFirstChunk=!1,this._halted=!1;var bt=this._partialLine+Bt;this._partialLine="";var vt=this._handle.parse(bt,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var ct=vt.meta.cursor;this._finished||(this._partialLine=bt.substring(ct-this._baseIndex),this._baseIndex=ct),vt&&vt.data&&(this._rowCount+=vt.data.length);var dt=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(tt)j.postMessage({results:vt,workerId:it.WORKER_ID,finished:dt});else if(Ot(this._config.chunk)&&!Ft){if(this._config.chunk(vt,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);vt=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(vt.data),this._completeResults.errors=this._completeResults.errors.concat(vt.errors),this._completeResults.meta=vt.meta),this._completed||!dt||!Ot(this._config.complete)||vt&&vt.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),dt||vt&&vt.meta.paused||this._nextChunk(),vt}this._halted=!0},this._sendError=function(Bt){Ot(this._config.error)?this._config.error(Bt):tt&&this._config.error&&j.postMessage({workerId:it.WORKER_ID,error:Bt,finished:!1})}}function at(It){var Bt;(It=It||{}).chunkSize||(It.chunkSize=it.RemoteChunkSize),ot.call(this,It),this._nextChunk=et?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(Ft){this._input=Ft,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(Bt=new XMLHttpRequest,this._config.withCredentials&&(Bt.withCredentials=this._config.withCredentials),et||(Bt.onload=Ut(this._chunkLoaded,this),Bt.onerror=Ut(this._chunkError,this)),Bt.open(this._config.downloadRequestBody?"POST":"GET",this._input,!et),this._config.downloadRequestHeaders){var Ft=this._config.downloadRequestHeaders;for(var jt in Ft)Bt.setRequestHeader(jt,Ft[jt])}if(this._config.chunkSize){var bt=this._start+this._config.chunkSize-1;Bt.setRequestHeader("Range","bytes="+this._start+"-"+bt)}try{Bt.send(this._config.downloadRequestBody)}catch(vt){this._chunkError(vt.message)}et&&Bt.status===0&&this._chunkError()}},this._chunkLoaded=function(){Bt.readyState===4&&(Bt.status<200||400<=Bt.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:Bt.responseText.length,this._finished=!this._config.chunkSize||this._start>=function(Ft){var jt=Ft.getResponseHeader("Content-Range");return jt===null?-1:parseInt(jt.substring(jt.lastIndexOf("/")+1))}(Bt),this.parseChunk(Bt.responseText)))},this._chunkError=function(Ft){var jt=Bt.statusText||Ft;this._sendError(new Error(jt))}}function ut(It){var Bt,Ft;(It=It||{}).chunkSize||(It.chunkSize=it.LocalChunkSize),ot.call(this,It);var jt=typeof FileReader<"u";this.stream=function(bt){this._input=bt,Ft=bt.slice||bt.webkitSlice||bt.mozSlice,jt?((Bt=new FileReader).onload=Ut(this._chunkLoaded,this),Bt.onerror=Ut(this._chunkError,this)):Bt=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var bt=this._input;if(this._config.chunkSize){var vt=Math.min(this._start+this._config.chunkSize,this._input.size);bt=Ft.call(bt,this._start,vt)}var ct=Bt.readAsText(bt,this._config.encoding);jt||this._chunkLoaded({target:{result:ct}})},this._chunkLoaded=function(bt){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(bt.target.result)},this._chunkError=function(){this._sendError(Bt.error)}}function ht(It){var Bt;ot.call(this,It=It||{}),this.stream=function(Ft){return Bt=Ft,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var Ft,jt=this._config.chunkSize;return jt?(Ft=Bt.substring(0,jt),Bt=Bt.substring(jt)):(Ft=Bt,Bt=""),this._finished=!Bt,this.parseChunk(Ft)}}}function yt(It){ot.call(this,It=It||{});var Bt=[],Ft=!0,jt=!1;this.pause=function(){ot.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){ot.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(bt){this._input=bt,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){jt&&Bt.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),Bt.length?this.parseChunk(Bt.shift()):Ft=!0},this._streamData=Ut(function(bt){try{Bt.push(typeof bt=="string"?bt:bt.toString(this._config.encoding)),Ft&&(Ft=!1,this._checkIsFinished(),this.parseChunk(Bt.shift()))}catch(vt){this._streamError(vt)}},this),this._streamError=Ut(function(bt){this._streamCleanUp(),this._sendError(bt)},this),this._streamEnd=Ut(function(){this._streamCleanUp(),jt=!0,this._streamData("")},this),this._streamCleanUp=Ut(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function wt(It){var Bt,Ft,jt,bt=Math.pow(2,53),vt=-bt,ct=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,dt=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,mt=this,xt=0,At=0,Rt=!1,St=!1,$t=[],Et={data:[],errors:[],meta:{}};if(Ot(It.step)){var Nt=It.step;It.step=function(Qt){if(Et=Qt,nr())ir();else{if(ir(),Et.data.length===0)return;xt+=Qt.data.length,It.preview&&xt>It.preview?Ft.abort():(Et.data=Et.data[0],Nt(Et,mt))}}}function tr(Qt){return It.skipEmptyLines==="greedy"?Qt.join("").trim()==="":Qt.length===1&&Qt[0].length===0}function ir(){return Et&&jt&&(Kt("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+it.DefaultDelimiter+"'"),jt=!1),It.skipEmptyLines&&(Et.data=Et.data.filter(function(Qt){return!tr(Qt)})),nr()&&function(){if(!Et)return;function Qt(qt,Jt){Ot(It.transformHeader)&&(qt=It.transformHeader(qt,Jt)),$t.push(qt)}if(Array.isArray(Et.data[0])){for(var Ht=0;nr()&&Ht<Et.data.length;Ht++)Et.data[Ht].forEach(Qt);Et.data.splice(0,1)}else Et.data.forEach(Qt)}(),function(){if(!Et||!It.header&&!It.dynamicTyping&&!It.transform)return Et;function Qt(qt,Jt){var ur,xr=It.header?{}:[];for(ur=0;ur<qt.length;ur++){var pr=ur,Cr=qt[ur];It.header&&(pr=ur>=$t.length?"__parsed_extra":$t[ur]),It.transform&&(Cr=It.transform(Cr,pr)),Cr=Zt(pr,Cr),pr==="__parsed_extra"?(xr[pr]=xr[pr]||[],xr[pr].push(Cr)):xr[pr]=Cr}return It.header&&(ur>$t.length?Kt("FieldMismatch","TooManyFields","Too many fields: expected "+$t.length+" fields but parsed "+ur,At+Jt):ur<$t.length&&Kt("FieldMismatch","TooFewFields","Too few fields: expected "+$t.length+" fields but parsed "+ur,At+Jt)),xr}var Ht=1;return!Et.data.length||Array.isArray(Et.data[0])?(Et.data=Et.data.map(Qt),Ht=Et.data.length):Et.data=Qt(Et.data,0),It.header&&Et.meta&&(Et.meta.fields=$t),At+=Ht,Et}()}function nr(){return It.header&&$t.length===0}function Zt(Qt,Ht){return qt=Qt,It.dynamicTypingFunction&&It.dynamicTyping[qt]===void 0&&(It.dynamicTyping[qt]=It.dynamicTypingFunction(qt)),(It.dynamicTyping[qt]||It.dynamicTyping)===!0?Ht==="true"||Ht==="TRUE"||Ht!=="false"&&Ht!=="FALSE"&&(function(Jt){if(ct.test(Jt)){var ur=parseFloat(Jt);if(vt<ur&&ur<bt)return!0}return!1}(Ht)?parseFloat(Ht):dt.test(Ht)?new Date(Ht):Ht===""?null:Ht):Ht;var qt}function Kt(Qt,Ht,qt,Jt){var ur={type:Qt,code:Ht,message:qt};Jt!==void 0&&(ur.row=Jt),Et.errors.push(ur)}this.parse=function(Qt,Ht,qt){var Jt=It.quoteChar||'"';if(It.newline||(It.newline=function(pr,Cr){pr=pr.substring(0,1048576);var Mr=new RegExp(Ct(Cr)+"([^]*?)"+Ct(Cr),"gm"),lr=(pr=pr.replace(Mr,"")).split("\r"),fr=pr.split(`
`),_r=1<fr.length&&fr[0].length<lr[0].length;if(lr.length===1||_r)return`
`;for(var Rr=0,kr=0;kr<lr.length;kr++)lr[kr][0]===`
`&&Rr++;return Rr>=lr.length/2?`\r
`:"\r"}(Qt,Jt)),jt=!1,It.delimiter)Ot(It.delimiter)&&(It.delimiter=It.delimiter(Qt),Et.meta.delimiter=It.delimiter);else{var ur=function(pr,Cr,Mr,lr,fr){var _r,Rr,kr,Ar;fr=fr||[",","	","|",";",it.RECORD_SEP,it.UNIT_SEP];for(var Pr=0;Pr<fr.length;Pr++){var Or=fr[Pr],Lr=0,or=0,Yt=0;kr=void 0;for(var er=new Pt({comments:lr,delimiter:Or,newline:Cr,preview:10}).parse(pr),Gt=0;Gt<er.data.length;Gt++)if(Mr&&tr(er.data[Gt]))Yt++;else{var Vt=er.data[Gt].length;or+=Vt,kr!==void 0?0<Vt&&(Lr+=Math.abs(Vt-kr),kr=Vt):kr=Vt}0<er.data.length&&(or/=er.data.length-Yt),(Rr===void 0||Lr<=Rr)&&(Ar===void 0||Ar<or)&&1.99<or&&(Rr=Lr,_r=Or,Ar=or)}return{successful:!!(It.delimiter=_r),bestDelimiter:_r}}(Qt,It.newline,It.skipEmptyLines,It.comments,It.delimitersToGuess);ur.successful?It.delimiter=ur.bestDelimiter:(jt=!0,It.delimiter=it.DefaultDelimiter),Et.meta.delimiter=It.delimiter}var xr=Dt(It);return It.preview&&It.header&&xr.preview++,Bt=Qt,Ft=new Pt(xr),Et=Ft.parse(Bt,Ht,qt),ir(),Rt?{meta:{paused:!0}}:Et||{meta:{paused:!1}}},this.paused=function(){return Rt},this.pause=function(){Rt=!0,Ft.abort(),Bt=Ot(It.chunk)?"":Bt.substring(Ft.getCharIndex())},this.resume=function(){mt.streamer._halted?(Rt=!1,mt.streamer.parseChunk(Bt,!0)):setTimeout(mt.resume,3)},this.aborted=function(){return St},this.abort=function(){St=!0,Ft.abort(),Et.meta.aborted=!0,Ot(It.complete)&&It.complete(Et),Bt=""}}function Ct(It){return It.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Pt(It){var Bt,Ft=(It=It||{}).delimiter,jt=It.newline,bt=It.comments,vt=It.step,ct=It.preview,dt=It.fastMode,mt=Bt=It.quoteChar===void 0||It.quoteChar===null?'"':It.quoteChar;if(It.escapeChar!==void 0&&(mt=It.escapeChar),(typeof Ft!="string"||-1<it.BAD_DELIMITERS.indexOf(Ft))&&(Ft=","),bt===Ft)throw new Error("Comment character same as delimiter");bt===!0?bt="#":(typeof bt!="string"||-1<it.BAD_DELIMITERS.indexOf(bt))&&(bt=!1),jt!==`
`&&jt!=="\r"&&jt!==`\r
`&&(jt=`
`);var xt=0,At=!1;this.parse=function(Rt,St,$t){if(typeof Rt!="string")throw new Error("Input must be a string");var Et=Rt.length,Nt=Ft.length,tr=jt.length,ir=bt.length,nr=Ot(vt),Zt=[],Kt=[],Qt=[],Ht=xt=0;if(!Rt)return Wt();if(It.header&&!St){var qt=Rt.split(jt)[0].split(Ft),Jt=[],ur={},xr=!1;for(var pr in qt){var Cr=qt[pr];Ot(It.transformHeader)&&(Cr=It.transformHeader(Cr,pr));var Mr=Cr,lr=ur[Cr]||0;for(0<lr&&(xr=!0,Mr=Cr+"_"+lr),ur[Cr]=lr+1;Jt.includes(Mr);)Mr=Mr+"_"+lr;Jt.push(Mr)}if(xr){var fr=Rt.split(jt);fr[0]=Jt.join(Ft),Rt=fr.join(jt)}}if(dt||dt!==!1&&Rt.indexOf(Bt)===-1){for(var _r=Rt.split(jt),Rr=0;Rr<_r.length;Rr++){if(Qt=_r[Rr],xt+=Qt.length,Rr!==_r.length-1)xt+=jt.length;else if($t)return Wt();if(!bt||Qt.substring(0,ir)!==bt){if(nr){if(Zt=[],Yt(Qt.split(Ft)),ar(),At)return Wt()}else Yt(Qt.split(Ft));if(ct&&ct<=Rr)return Zt=Zt.slice(0,ct),Wt(!0)}}return Wt()}for(var kr=Rt.indexOf(Ft,xt),Ar=Rt.indexOf(jt,xt),Pr=new RegExp(Ct(mt)+Ct(Bt),"g"),Or=Rt.indexOf(Bt,xt);;)if(Rt[xt]!==Bt)if(bt&&Qt.length===0&&Rt.substring(xt,xt+ir)===bt){if(Ar===-1)return Wt();xt=Ar+tr,Ar=Rt.indexOf(jt,xt),kr=Rt.indexOf(Ft,xt)}else if(kr!==-1&&(kr<Ar||Ar===-1))Qt.push(Rt.substring(xt,kr)),xt=kr+Nt,kr=Rt.indexOf(Ft,xt);else{if(Ar===-1)break;if(Qt.push(Rt.substring(xt,Ar)),Vt(Ar+tr),nr&&(ar(),At))return Wt();if(ct&&Zt.length>=ct)return Wt(!0)}else for(Or=xt,xt++;;){if((Or=Rt.indexOf(Bt,Or+1))===-1)return $t||Kt.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:Zt.length,index:xt}),Gt();if(Or===Et-1)return Gt(Rt.substring(xt,Or).replace(Pr,Bt));if(Bt!==mt||Rt[Or+1]!==mt){if(Bt===mt||Or===0||Rt[Or-1]!==mt){kr!==-1&&kr<Or+1&&(kr=Rt.indexOf(Ft,Or+1)),Ar!==-1&&Ar<Or+1&&(Ar=Rt.indexOf(jt,Or+1));var Lr=er(Ar===-1?kr:Math.min(kr,Ar));if(Rt.substr(Or+1+Lr,Nt)===Ft){Qt.push(Rt.substring(xt,Or).replace(Pr,Bt)),Rt[xt=Or+1+Lr+Nt]!==Bt&&(Or=Rt.indexOf(Bt,xt)),kr=Rt.indexOf(Ft,xt),Ar=Rt.indexOf(jt,xt);break}var or=er(Ar);if(Rt.substring(Or+1+or,Or+1+or+tr)===jt){if(Qt.push(Rt.substring(xt,Or).replace(Pr,Bt)),Vt(Or+1+or+tr),kr=Rt.indexOf(Ft,xt),Or=Rt.indexOf(Bt,xt),nr&&(ar(),At))return Wt();if(ct&&Zt.length>=ct)return Wt(!0);break}Kt.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:Zt.length,index:xt}),Or++}}else Or++}return Gt();function Yt(yr){Zt.push(yr),Ht=xt}function er(yr){var Er=0;if(yr!==-1){var Sr=Rt.substring(Or+1,yr);Sr&&Sr.trim()===""&&(Er=Sr.length)}return Er}function Gt(yr){return $t||(yr===void 0&&(yr=Rt.substring(xt)),Qt.push(yr),xt=Et,Yt(Qt),nr&&ar()),Wt()}function Vt(yr){xt=yr,Yt(Qt),Qt=[],Ar=Rt.indexOf(jt,xt)}function Wt(yr){return{data:Zt,errors:Kt,meta:{delimiter:Ft,linebreak:jt,aborted:At,truncated:!!yr,cursor:Ht+(St||0)}}}function ar(){vt(Wt()),Zt=[],Kt=[]}},this.abort=function(){At=!0},this.getCharIndex=function(){return xt}}function Tt(It){var Bt=It.data,Ft=rt[Bt.workerId],jt=!1;if(Bt.error)Ft.userError(Bt.error,Bt.file);else if(Bt.results&&Bt.results.data){var bt={abort:function(){jt=!0,Mt(Bt.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:Lt,resume:Lt};if(Ot(Ft.userStep)){for(var vt=0;vt<Bt.results.data.length&&(Ft.userStep({data:Bt.results.data[vt],errors:Bt.results.errors,meta:Bt.results.meta},bt),!jt);vt++);delete Bt.results}else Ot(Ft.userChunk)&&(Ft.userChunk(Bt.results,bt,Bt.file),delete Bt.results)}Bt.finished&&!jt&&Mt(Bt.workerId,Bt.results)}function Mt(It,Bt){var Ft=rt[It];Ot(Ft.userComplete)&&Ft.userComplete(Bt),Ft.terminate(),delete rt[It]}function Lt(){throw new Error("Not implemented.")}function Dt(It){if(typeof It!="object"||It===null)return It;var Bt=Array.isArray(It)?[]:{};for(var Ft in It)Bt[Ft]=Dt(It[Ft]);return Bt}function Ut(It,Bt){return function(){It.apply(Bt,arguments)}}function Ot(It){return typeof It=="function"}return tt&&(j.onmessage=function(It){var Bt=It.data;if(it.WORKER_ID===void 0&&Bt&&(it.WORKER_ID=Bt.workerId),typeof Bt.input=="string")j.postMessage({workerId:it.WORKER_ID,results:it.parse(Bt.input,Bt.config),finished:!0});else if(j.File&&Bt.input instanceof File||Bt.input instanceof Object){var Ft=it.parse(Bt.input,Bt.config);Ft&&j.postMessage({workerId:it.WORKER_ID,results:Ft,finished:!0})}}),(at.prototype=Object.create(ot.prototype)).constructor=at,(ut.prototype=Object.create(ot.prototype)).constructor=ut,(ht.prototype=Object.create(ht.prototype)).constructor=ht,(yt.prototype=Object.create(ot.prototype)).constructor=yt,it})})(papaparse_min);var papaparse_minExports=papaparse_min.exports;const Papa=getDefaultExportFromCjs$1(papaparse_minExports);function validateNonNegativeNumber(a){const _=new BigNumber(a);return _.isLessThan(0)?null:_.toFixed()}const parseOperation=(a,_,$)=>{const j=_.filter(ht=>ht.length>0),et=j.length;if(et<2||4<et)throw new Error("Invalid csv format");const[tt,rt,nt]=j;if(!isAddressValid(tt))throw new Error("Invalid csv value: recipient");const it=parsePkh(tt);if(validateNonNegativeNumber(rt)===null)throw new Error("Invalid csv value: amount");if(et===2)return{type:"tez",recipient:it,amount:tezToMutez(rt).toFixed()};if(!isValidContractPkh(nt))throw new Error("Invalid csv value: contract address");const st=parseContractPkh(nt),ot=j[3]||"0";if(validateNonNegativeNumber(ot)===null)throw new Error("Invalid csv value: tokenId");const at=$(nt,ot);if(!at)throw new Error(`Unknown token ${nt} ${ot}`);const ut=getRealAmount(at,rt);return at.type==="fa1.2"?{type:"fa1.2",sender:a,amount:ut,recipient:it,contract:st,tokenId:"0"}:{type:"fa2",sender:a,recipient:it,contract:st,tokenId:ot,amount:ut}},CSVFileUploadForm=()=>{const a=useSelectedNetwork(),_=useToast(),$=useGetToken(),j=useAppDispatch(),et=useGetOwnedAccount(),tt=useGetBestSignerForAccount(),{onClose:rt}=reactExports.useContext(DynamicModalContext),{isLoading:nt,handleAsyncAction:it}=useAsyncActionHandler(),st=useForm({mode:"onBlur"}),{handleSubmit:ot,formState:{isValid:at,errors:ut}}=st,ht=async({file:yt,sender:wt})=>it(async()=>{const Ct=et(wt),Pt=await new Promise(Mt=>{Papa.parse(yt[0],{skipEmptyLines:!0,complete:Mt})});if(Pt.errors.length>0)throw new Error("Error loading csv file: "+Pt.errors.map(Mt=>Mt.message).join(", "));const Tt=[];for(let Mt=0;Mt<Pt.data.length;Mt++){const Lt=Pt.data[Mt];try{Tt.push(parseOperation(Ct.address,Lt,$))}catch(Dt){throw new Error(`Error at row #${Mt+1}: ${Dt==null?void 0:Dt.message}`)}}await j(estimateAndUpdateBatch(makeAccountOperations(Ct,tt(Ct),Tt),a)),_({description:"CSV added to batch!",status:"success"}),rt()});return jsxRuntimeExports.jsx(FormProvider,{...st,children:jsxRuntimeExports.jsx(ModalContent,{children:jsxRuntimeExports.jsxs("form",{onSubmit:ot(ht),children:[jsxRuntimeExports.jsx(ModalCloseButton,{}),jsxRuntimeExports.jsx(ModalHeader,{marginBottom:"10px",textAlign:"center",children:"Load CSV file"}),jsxRuntimeExports.jsx(Text,{color:colors.gray[400],textAlign:"center",size:"sm",children:"Select an account and then upload the CSV file."}),jsxRuntimeExports.jsxs(ModalBody,{children:[jsxRuntimeExports.jsxs(FormControl,{isInvalid:!!ut.sender,paddingY:5,children:[jsxRuntimeExports.jsx(OwnedAccountsAutocomplete,{allowUnknown:!1,inputName:"sender",label:"From"}),ut.sender&&jsxRuntimeExports.jsx(FormErrorMessage,{children:ut.sender.message})]}),jsxRuntimeExports.jsxs(FormControl,{paddingTop:5,isInvalid:!!ut.file,children:[jsxRuntimeExports.jsx(FormLabel,{children:"Select CSV"}),jsxRuntimeExports.jsx(Flex,{children:jsxRuntimeExports.jsx(Input,{padding:2,...st.register("file",{required:"File is required"}),accept:".csv",type:"file",variant:"unstyled"})}),ut.file&&jsxRuntimeExports.jsx(FormErrorMessage,{marginTop:0,children:ut.file.message})]})]}),jsxRuntimeExports.jsx(ModalFooter,{children:jsxRuntimeExports.jsx(Box,{width:"100%",children:jsxRuntimeExports.jsx(Button,{width:"100%",marginBottom:2,isDisabled:!at,isLoading:nt,size:"lg",type:"submit",children:"Upload"})})})]})})})},CSVFileUploader=()=>{const{openWith:a}=reactExports.useContext(DynamicModalContext);return jsxRuntimeExports.jsxs(Button,{onClick:()=>a(jsxRuntimeExports.jsx(CSVFileUploadForm,{})),variant:"CTAWithIcon",children:[jsxRuntimeExports.jsx(Text,{marginRight:"4px",size:"sm",children:"Load CSV file"}),jsxRuntimeExports.jsx(FileArrowDownIcon,{stroke:"currentcolor"})]})},FilterController=({batchPending:a})=>jsxRuntimeExports.jsxs(Flex,{alignItems:"center",marginTop:"24px",marginBottom:"24px",children:[jsxRuntimeExports.jsxs(Heading,{flex:1,color:colors.orangeL,size:"sm",children:[a," Pending"]}),jsxRuntimeExports.jsx(CSVFileUploader,{}),jsxRuntimeExports.jsx(ExternalLink,{marginLeft:"8px",href:"https://github.com/trilitech/umami-v2/wiki/Batch-file-specification",children:jsxRuntimeExports.jsxs(Button,{paddingRight:"0",variant:"CTAWithIcon",children:[jsxRuntimeExports.jsx(Text,{marginRight:"4px",size:"sm",children:"See file specs"}),jsxRuntimeExports.jsx(ExternalLinkIcon,{stroke:"currentcolor"})]})})]}),BatchPage=()=>{const a=useBatches();return jsxRuntimeExports.jsxs(Flex,{flexDirection:"column",height:"100%",children:[jsxRuntimeExports.jsx(TopBar,{title:"Batch"}),jsxRuntimeExports.jsx(FilterController,{batchPending:a.length}),jsxRuntimeExports.jsx(Box,{overflowY:"auto",minHeight:"80%",children:a.length>0?a.map(_=>jsxRuntimeExports.jsx(BatchView,{operations:_},_.sender.address.pkh)):jsxRuntimeExports.jsx(NoItems,{description:"There are no batch transactions to show...",size:"lg",title:"No batches to show"})})]})},ClickableCard=({onClick:a,children:_,isSelected:$,...j})=>jsxRuntimeExports.jsx(Card,{justifyContent:"center",height:"66px",marginBottom:"10px",padding:"24px",border:"1px solid",borderColor:$?` ${colors.orangeL}`:"transparent",borderRadius:"lg",_hover:{border:`1px solid ${colors.gray[500]}`,bg:colors.gray[800]},cursor:a?"pointer":void 0,backgroundColor:colors.gray[900],onClick:a,...j,children:jsxRuntimeExports.jsx(CardBody,{padding:0,children:_})}),SettingsCardWithDrawerIcon=({left:a,isSelected:_,onClick:$})=>jsxRuntimeExports.jsx(ClickableCard,{isSelected:_,onClick:$,children:jsxRuntimeExports.jsx(Flex,{alignItems:"center",height:"100%",children:jsxRuntimeExports.jsxs(Flex,{alignItems:"center",justifyContent:"space-between",width:"100%",children:[jsxRuntimeExports.jsx(Heading,{size:"sm",children:a}),jsxRuntimeExports.jsx(ChevronRightIcon,{})]})})}),HelpView=()=>jsxRuntimeExports.jsxs(Grid,{gridGap:"1",gridTemplateRows:"0fr 1fr 1fr",gridTemplateColumns:"1fr 1fr",gridTemplateAreas:`
                  "header header"
                  "main main"
                  "main main"
                  `,height:"100%",children:[jsxRuntimeExports.jsx(GridItem,{gridArea:"header",children:jsxRuntimeExports.jsx(TopBar,{title:"Help"})}),jsxRuntimeExports.jsxs(GridItem,{gridArea:"main",marginTop:1,children:[jsxRuntimeExports.jsx(HelpCard,{title:"Learn More",children:jsxRuntimeExports.jsx(HelpLinkRow,{about:"Browse Articles",externalLink:"https://medium.com/umamiwallet"})}),jsxRuntimeExports.jsxs(HelpCard,{title:"Need Help?",children:[jsxRuntimeExports.jsx(HelpLinkRow,{about:"Contact our Support Team",externalLink:"mailto:umami-support@trili.tech",linkDescription:"umami-support@trili.tech"}),jsxRuntimeExports.jsx(HelpLinkRow,{about:"Get in touch with the Community",externalLink:"https://join.slack.com/t/tezos-dev/shared_invite/zt-1ur1ymxrp-G_X_bFHrvWXwoeiy53J8lg",linkDescription:"Slack #Umami"})]}),jsxRuntimeExports.jsxs(HelpCard,{title:"Terms",children:[jsxRuntimeExports.jsx(HelpLinkRow,{about:"Read Terms of Service",externalLink:"https://umamiwallet.com/tos.html"}),jsxRuntimeExports.jsx(HelpLinkRow,{about:"Read Privacy Policy",externalLink:"https://umamiwallet.com/privacypolicy.html"})]})]})]}),HelpLinkRow=({about:a,externalLink:_,linkDescription:$})=>jsxRuntimeExports.jsx(Link,{rel:"noopener noreferrer",target:"_blank",to:_,children:jsxRuntimeExports.jsx(ClickableCard,{cursor:"pointer",isSelected:!1,children:jsxRuntimeExports.jsxs(Flex,{alignItems:"center",justifyContent:"space-between",children:[jsxRuntimeExports.jsx(Heading,{size:"sm",children:a}),jsxRuntimeExports.jsxs(Flex,{alignItems:"center",children:[$&&jsxRuntimeExports.jsx(Text,{marginRight:"4px",color:colors.gray[400],size:"sm",children:$}),jsxRuntimeExports.jsx(ExternalLinkIcon,{})]})]})})}),HelpCard=({title:a,children:_})=>jsxRuntimeExports.jsx(Box,{"data-testid":"help-card",marginY:"10px",children:jsxRuntimeExports.jsx(Flex,{children:jsxRuntimeExports.jsxs(Box,{width:"550px",children:[jsxRuntimeExports.jsx(Heading,{marginBottom:"16px",size:"lg",children:a}),_]})})}),ConnectOptions=({goToStep:a})=>{const _=useImplicitAccounts().length>0;return jsxRuntimeExports.jsx(ModalContentWrapper,{icon:jsxRuntimeExports.jsx(LinkIcon,{}),title:"Connect or Import Account",children:jsxRuntimeExports.jsxs(VStack,{width:"100%",spacing:"16px",children:[jsxRuntimeExports.jsx(Button,{width:"100%",onClick:$=>a({type:"restoreMnemonic"}),size:"lg",children:"Import with Seed Phrase"}),jsxRuntimeExports.jsx(Button,{width:"100%",onClick:$=>a({type:"restoreSecretKey"}),size:"lg",variant:"tertiary",children:"Import with Secret Key"}),!_&&jsxRuntimeExports.jsx(Button,{width:"100%",onClick:$=>a({type:"restoreBackup"}),size:"lg",variant:"tertiary",children:"Restore from Backup"}),jsxRuntimeExports.jsx(Button,{width:"100%",onClick:$=>a({type:"nameAccount",account:{type:"ledger"}}),size:"lg",variant:"tertiary",children:"Connect ledger"})]})})},IS_DEV=!1,ConnectOrCreate=({goToStep:a,closeModal:_})=>{const{handleAsyncAction:$}=useAsyncActionHandler(),j=useRestoreSocial(),et=useToast(),tt=(rt,nt)=>$(async()=>{const{pk:it,pkh:st}=await getPublicKeyPairFromSk(rt);j(it,st,nt),et({description:`Successfully added ${nt} account`,status:"success"}),_()});return jsxRuntimeExports.jsx(ModalContentWrapper,{icon:jsxRuntimeExports.jsx(WalletPlusIcon,{}),title:"Connect or Create Account",children:jsxRuntimeExports.jsxs(VStack,{width:"100%",spacing:"16px",children:[jsxRuntimeExports.jsx(Button,{width:"100%",onClick:rt=>a({type:"notice"}),size:"lg",children:"Create a new Account"}),jsxRuntimeExports.jsx(Button,{width:"100%",onClick:rt=>a({type:"connectOptions"}),size:"lg",variant:"tertiary",children:"I already have a wallet"}),IS_DEV,jsxRuntimeExports.jsxs(Flex,{width:"100%",paddingTop:"14px",paddingBottom:"6px",children:[jsxRuntimeExports.jsx(Divider,{marginTop:"11px"}),jsxRuntimeExports.jsx(Text,{minWidth:"160px",color:colors.gray[400],textAlign:"center",noOfLines:1,size:"sm",children:"Continue with Google"}),jsxRuntimeExports.jsx(Divider,{marginTop:"11px"})]}),jsxRuntimeExports.jsx(GoogleAuth,{onAuth:tt})]})})},Select=({selected:a,options:_,onChange:$})=>{const[j,et]=reactExports.useState(a),[tt,rt]=reactExports.useState(!1);return jsxRuntimeExports.jsxs(Box,{children:[jsxRuntimeExports.jsxs(Flex,{justifyContent:"space-between",height:"48px",padding:"12px 15px 15px 15px",color:colors.gray[300],background:colors.gray[800],border:"1px solid",borderColor:colors.gray[500],borderRadius:"4px",_hover:{borderColor:colors.gray[450]},cursor:"pointer","data-testid":"select-input",onClick:()=>rt(nt=>!nt),children:[jsxRuntimeExports.jsx(Text,{size:"sm",children:j.label}),jsxRuntimeExports.jsx(ChevronDownIcon$1,{marginTop:"2px"})]}),tt&&jsxRuntimeExports.jsx(UnorderedList,{position:"absolute",zIndex:2,width:"100%",margin:0,marginTop:"8px",padding:"15px",background:colors.gray[700],border:"1px solid",borderColor:colors.gray[500],borderRadius:"8px","data-testid":"select-options",listStyleType:"none",children:_.map(nt=>jsxRuntimeExports.jsx(ListItem,{marginBottom:"5px",padding:"11px",color:colors.gray[300],background:"transparent",borderRadius:"4px",_hover:{background:colors.gray[500]},cursor:"pointer",onClick:()=>{rt(!1),et(nt),$(nt.value)},children:jsxRuntimeExports.jsx(Text,{size:"sm",children:nt.label})},nt.value))})]})},DerivationPath=({goToStep:a,account:_})=>{const[$,j]=reactExports.useState(!1),{handleSubmit:et,register:tt,setValue:rt,formState:{isValid:nt,errors:it}}=useForm({mode:"onBlur",defaultValues:{derivationPathTemplate:defaultDerivationPathTemplate,derivationPath:getDefaultDerivationPath(0)}}),st=async({derivationPathTemplate:ot,derivationPath:at})=>{switch(_.type){case"ledger":return a($?{type:"restoreLedger",account:{..._,derivationPath:normalizeDerivationPath(at)}}:{type:"restoreLedger",account:{..._,derivationPathTemplate:normalizeDerivationPath(ot)}});case"mnemonic":{if($){const ut=await deriveSecretKey(_.mnemonic,at,"ed25519");return a({type:"masterPassword",account:{type:"secret_key",secretKey:ut,label:_.label}})}return a({type:"masterPassword",account:{..._,derivationPathTemplate:ot}})}}};return jsxRuntimeExports.jsx(ModalContentWrapper,{icon:jsxRuntimeExports.jsx(SlashIcon,{}),subtitle:"Choose a custom derivation path or select the default derivation path and use the default key.",title:"Derivation Path",children:jsxRuntimeExports.jsxs("form",{onSubmit:et(st),style:{width:"100%"},children:[jsxRuntimeExports.jsxs(Center,{width:"100%",marginBottom:"12px",children:[jsxRuntimeExports.jsx(Text,{fontWeight:$?400:600,size:"sm",children:"Default Path"}),jsxRuntimeExports.jsx(Switch,{"data-testid":"custom-path-switch",marginX:"10px",onChange:()=>j(ot=>!ot),variant:"danger"}),jsxRuntimeExports.jsx(Text,{fontWeight:$?600:400,size:"sm",children:"Custom Path"})]}),$&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Center,{marginTop:"16px",marginBottom:"32px",children:jsxRuntimeExports.jsx(Text,{width:"340px",color:colors.orange,textAlign:"center",size:"xs",children:"Please write down to your derivation path. You may not be able to restore your data if you lose it."})}),jsxRuntimeExports.jsxs(FormControl,{marginBottom:"20px",isInvalid:!!it.derivationPath,children:[jsxRuntimeExports.jsx(Input,{fontSize:"sm",textAlign:"center","data-testid":"custom-path-input",...tt("derivationPath",{validate:validateDerivationPath})}),it.derivationPath&&jsxRuntimeExports.jsx(FormErrorMessage,{"data-testid":"error-message",children:it.derivationPath.message})]})]}),!$&&jsxRuntimeExports.jsx(FormControl,{marginTop:"32px",marginBottom:"20px",children:jsxRuntimeExports.jsx(Select,{onChange:ot=>rt("derivationPathTemplate",ot),options:AVAILABLE_DERIVATION_PATH_TEMPLATES,selected:DEFAULT_DERIVATION_PATH_TEMPLATE})}),jsxRuntimeExports.jsx(Button,{width:"100%",marginTop:"12px",isDisabled:!nt,size:"lg",type:"submit",children:"Continue"}),jsxRuntimeExports.jsx(ExternalLink,{display:"block",width:"100%",marginTop:"32px",textAlign:"center",href:"https://github.com/bitcoin/bips/blob/master/bip-0044.mediawiki",children:jsxRuntimeExports.jsx(Tooltip,{backgroundColor:"white",defaultIsOpen:!1,hasArrow:!0,label:"Derivation path is a set of directions that helps create different secret keys; it starts from a master key or seed.",children:jsxRuntimeExports.jsx(Text,{color:colors.blue,fontWeight:600,textDecoration:"underline",_hover:{textDecoration:"underline"},size:"sm",children:"What's a Derivation Path?"})})})]})})},normalizeDerivationPath=a=>a.trim().toLowerCase().replace("m/",""),validateDerivationPath=a=>{const _=normalizeDerivationPath(a);return _.length===0?"Derivation path is required":_.startsWith("44'/1729'/")?_.match(new RegExp("^44'/1729'/([0-9]+'/)*([0-9]+')$"))?!0:"Invalid derivation path":"Derivation path must start with `44'/1729'/`"},Eula=({goToStep:a})=>{const[_,$]=React$2.useState(!1);return jsxRuntimeExports.jsx(ModalContentWrapper,{icon:jsxRuntimeExports.jsx(DocumentIcon,{}),title:"Accept to Continue",children:jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs(Checkbox,{paddingBottom:"24px",fontWeight:"600",onChange:j=>$(j.target.checked),children:["I confirm that I have read and agreed with the"," ",jsxRuntimeExports.jsx(Link$1,{textDecoration:"underline",_hover:{color:colors.green},href:"https://umamiwallet.com/tos.html",rel:"noopener noreferrer",target:"_blank",children:"Terms of Service"})," ","and the"," ",jsxRuntimeExports.jsx(Link$1,{textDecoration:"underline",_hover:{color:colors.green},href:"https://umamiwallet.com/privacypolicy.html",rel:"noopener noreferrer",target:"_blank",children:"Privacy Policy"})]}),jsxRuntimeExports.jsx(Button,{width:"100%",isDisabled:!_,onClick:()=>{a({type:"connectOrCreate"})},size:"lg",children:"Continue"})]})})},FakeAccount=({onClose:a})=>{const{register:_,handleSubmit:$,formState:{errors:j}}=useForm({mode:"onBlur"}),et=useRestoreLedger(),tt=async({pkh:rt,name:nt})=>{const st=await new RpcClient(MAINNET.rpcUrl).getManagerKey(rt),ot=typeof st=="string"?st:st.key;et(defaultDerivationPathTemplate,makeDerivationPath(defaultDerivationPathTemplate,0),ot,rt,nt),a()};return jsxRuntimeExports.jsx(ModalContentWrapper,{icon:jsxRuntimeExports.jsx(WalletPlusIcon,{}),title:"Add a Fake Account",children:jsxRuntimeExports.jsxs("form",{onSubmit:$(tt),style:{width:"100%"},children:[jsxRuntimeExports.jsx(Text,{children:"It will be restored as a ledger account"}),jsxRuntimeExports.jsxs(FormControl,{isInvalid:!!j.pkh,children:[jsxRuntimeExports.jsx(FormLabel,{children:"Address"}),jsxRuntimeExports.jsx(Input,{..._("pkh",{required:!0}),autoComplete:"off",placeholder:"Please enter the account address"})]}),jsxRuntimeExports.jsxs(FormControl,{isInvalid:!!j.name,children:[jsxRuntimeExports.jsx(FormLabel,{children:"Name"}),jsxRuntimeExports.jsx(Input,{..._("name",{required:!0}),autoComplete:"off",placeholder:"Please enter the account name"})]}),jsxRuntimeExports.jsx(Button,{width:"100%",marginTop:2,size:"lg",type:"submit",children:"Add account"})]})})},EnterAndConfirmPassword=({onSubmit:a,isLoading:_})=>{const $=useForm({mode:"onBlur"}),{handleSubmit:j,formState:{errors:et,isValid:tt},getValues:rt}=$,nt=({confirm:it})=>a(it);return jsxRuntimeExports.jsx(ModalContentWrapper,{icon:jsxRuntimeExports.jsx(LockIcon,{}),subtitle:"Please choose a master password for Umami. You will need to use this password in order to perform any operations within Umami.",title:"Umami Master Password",children:jsxRuntimeExports.jsx(FormProvider,{...$,children:jsxRuntimeExports.jsxs("form",{onSubmit:j(nt),style:{width:"100%"},children:[jsxRuntimeExports.jsxs(FormControl,{isInvalid:!!et.password,children:[jsxRuntimeExports.jsx(PasswordInput,{"data-testid":"password",inputName:"password",placeholder:"Enter master password"}),et.password&&jsxRuntimeExports.jsx(FormErrorMessage,{children:et.password.message})]}),jsxRuntimeExports.jsxs(FormControl,{marginTop:"24px",isInvalid:!!et.confirm,children:[jsxRuntimeExports.jsx(PasswordInput,{"data-testid":"confirmation",inputName:"confirm",label:"Confirm Password",placeholder:"Confirm your password",required:"Confirmation is required",validate:it=>rt("password")===it||"Your passwords do no match"}),et.confirm&&jsxRuntimeExports.jsx(FormErrorMessage,{children:et.confirm.message})]}),jsxRuntimeExports.jsx(Button,{width:"100%",marginTop:"32px",isDisabled:!tt||_,isLoading:_,size:"lg",type:"submit",children:"Submit"})]})})})},EnterPassword=({onSubmit:a,isLoading:_})=>{const $=useForm({mode:"onBlur"}),{handleSubmit:j,formState:{errors:et,isValid:tt}}=$,rt=nt=>{a(nt.password)};return jsxRuntimeExports.jsx(ModalContentWrapper,{icon:jsxRuntimeExports.jsx(LockIcon,{}),subtitle:"Enter your master password for Umami.",title:"Umami Master Password",children:jsxRuntimeExports.jsx(FormProvider,{...$,children:jsxRuntimeExports.jsxs("form",{onSubmit:j(rt),style:{width:"100%"},children:[jsxRuntimeExports.jsxs(FormControl,{isInvalid:!!et.password,children:[jsxRuntimeExports.jsx(PasswordInput,{"data-testid":"password",inputName:"password"}),et.password&&jsxRuntimeExports.jsx(FormErrorMessage,{children:et.password.message})]}),jsxRuntimeExports.jsx(Button,{width:"100%",marginTop:"32px",isDisabled:!tt,isLoading:_,size:"lg",type:"submit",children:"Submit"})]})})})},MasterPassword=({account:a,onClose:_})=>{const $=useRestoreFromMnemonic(),j=useRestoreFromSecretKey(),et=useValidateMasterPassword(),tt=et!==null,{isLoading:rt,handleAsyncAction:nt}=useAsyncActionHandler(),it=useToast(),st=ot=>nt(async()=>{switch(tt&&await et(ot),a.type){case"secret_key":await j(a.secretKey,ot,a.label);break;case"mnemonic":await $({...a,password:ot})}it({description:"Account successfully created!",status:"success"}),_()});return tt?jsxRuntimeExports.jsx(EnterPassword,{isLoading:rt,onSubmit:st}):jsxRuntimeExports.jsx(EnterAndConfirmPassword,{isLoading:rt,onSubmit:st})},Notice=({goToStep:a})=>{const _=[{content:"Write down your seed phrase and store it in a safe place."},{content:"Make sure there is no one around you or looking over your shoulder."},{content:"Do not copy and paste the Seed Phrase or store it on your device."},{content:"Do not take a screenshot of your Seed Phrase."}];return jsxRuntimeExports.jsx(ModalContentWrapper,{icon:jsxRuntimeExports.jsx(NoticeIcon,{}),subtitle:"Please read the following before you continue to see your secret Seed Phrase.",title:"Important Notice",children:jsxRuntimeExports.jsxs(Box,{children:[jsxRuntimeExports.jsx(OrderedList,{spacing:"16px",variant:"onboardingNotice",children:_.map(($,j)=>jsxRuntimeExports.jsx(ListItem,{fontSize:"16px",fontWeight:600,children:$.content},j))}),jsxRuntimeExports.jsx(Button,{width:"100%",marginTop:"28px",onClick:()=>a({type:"showSeedphrase",account:{type:"mnemonic",mnemonic:generate24WordMnemonic()}}),size:"lg",children:"I understand"}),jsxRuntimeExports.jsx(Button,{width:"100%",marginTop:"16px",onClick:()=>a({type:"restoreMnemonic"}),size:"lg",variant:"tertiary",children:"I already have a Seed Phrase"})]})})},RestoreBackupFile=()=>{const a=useForm({mode:"onBlur"}),{handleSubmit:_,register:$,formState:{errors:j,isValid:et}}=a,{handleAsyncAction:tt}=useAsyncActionHandler(),rt=useRestoreV1BackupFile(),nt=({password:it,file:st})=>tt(async()=>{const ot=await st[0].text(),at=JSON.parse(ot);if(at.recoveryPhrases&&at.derivationPaths)await rt(at,it);else if(at["persist:accounts"])await restoreV2BackupFile(at,it),reload();else throw new Error("Invalid backup file.")});return jsxRuntimeExports.jsx(ModalContentWrapper,{icon:jsxRuntimeExports.jsx(RotateIcon,{}),subtitle:"Select a JSON backup file and enter the password you used to encrypt it.",title:"Restore from Backup",children:jsxRuntimeExports.jsx(FormProvider,{...a,children:jsxRuntimeExports.jsx("form",{onSubmit:_(nt),style:{width:"100%"},children:jsxRuntimeExports.jsxs(ModalBody,{children:[jsxRuntimeExports.jsxs(FormControl,{isInvalid:!!j.file,children:[jsxRuntimeExports.jsx(FormLabel,{children:"Upload File"}),jsxRuntimeExports.jsx(Flex,{children:jsxRuntimeExports.jsx(Input,{padding:"2px","data-testid":"file-input",...$("file",{required:"File is required"}),accept:".json",type:"file",variant:"unstyled"})}),j.file&&jsxRuntimeExports.jsx(FormErrorMessage$1,{"data-testid":"file-errors",children:j.file.message})]}),jsxRuntimeExports.jsx(FormControl,{marginTop:"24px",children:jsxRuntimeExports.jsx(PasswordInput,{"data-testid":"password-input",inputName:"password",label:"Your password (if you have one)",required:!1})}),jsxRuntimeExports.jsx(Button,{width:"100%",marginTop:"32px",isDisabled:!et,size:"lg",type:"submit",children:"Import Wallet"})]})})})})},getPk=async a=>{const _=await TransportWebUSB.create(),$=new LedgerSigner(_,a,!0),j=await $.publicKey(),et=await $.publicKeyHash();return await _.close(),{pk:j,pkh:et}},LEDGER_TIMEOUT=60*1e3,RestoreLedger=({closeModal:a,account:_})=>{const $=useRestoreLedger(),j=useToast(),{isLoading:et,handleAsyncAction:tt}=useAsyncActionHandler(),rt=[{content:"Plug your Ledger into your computer using a USB cable."},{content:"Unlock your Ledger."},{content:"Make sure your Ledger has the latest firmware version."},{content:"Install and open the Tezos Wallet app on your Ledger."},{content:"Click the button below and confirm the action on your Ledger."}],nt=()=>tt(()=>withTimeout(async()=>{const it=j({description:"Please open the Tezos app on your Ledger and approve the operation",status:"info"}),st=_.derivationPathTemplate?makeDerivationPath(_.derivationPathTemplate,0):_.derivationPath,{pk:ot,pkh:at}=await getPk(st);$(_.derivationPathTemplate,st,ot,at,_.label),j.close(it),j({description:"Account successfully created!",status:"success"}),a()},LEDGER_TIMEOUT),it=>it.name==="PublicKeyRetrievalError"?{description:"Request rejected. Please unlock your Ledger and open the Tezos app"}:it.name==="InvalidStateError"?{description:"Request pending. Check your ledger..."}:{description:`Ledger error. ${it.message||it.name}`});return jsxRuntimeExports.jsx(ModalContentWrapper,{icon:jsxRuntimeExports.jsx(USBIcon,{}),subtitle:"Complete the steps to connect.",title:"Connect Ledger",children:jsxRuntimeExports.jsxs(VStack,{overflowY:"auto",spacing:"24px",children:[jsxRuntimeExports.jsx(OrderedList,{spacing:4,children:rt.map((it,st)=>jsxRuntimeExports.jsx(ListItem,{children:it.content},st))}),jsxRuntimeExports.jsx(Button,{width:"100%",isLoading:et,onClick:nt,size:"lg",children:"Export Public Key"})]})})},MnemonicAutocomplete=({inputName:a,validate:_,inputProps:$,listProps:j})=>{const[et,tt]=reactExports.useState(!0),{register:rt,setValue:nt,watch:it}=useFormContext(),st=it(a),ot=wordlists.EN.filter(ut=>st&&ut.startsWith(st)).sort(),at=!et&&ot.length>0&&(ot.length>1||ot[0]!==st);return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Input,{zIndex:0,autoComplete:"off","data-testid":"mnemonic-input",onFocus:()=>tt(!1),placeholder:"Type here...",...rt(a,{required:"Required",validate:_,onChange:()=>tt(!1),onBlur:()=>tt(!0)}),...$}),at&&jsxRuntimeExports.jsx(UnorderedList,{"data-testid":"suggestions",variant:"suggestions",...j,children:ot.map(ut=>jsxRuntimeExports.jsx(ListItem,{paddingTop:"2px",fontSize:"14px",fontWeight:600,"data-testid":"suggestion",onMouseDown:()=>nt(a,ut),paddingX:"7px",children:ut},ut))})]})},mnemonicSizes=[12,15,18,24],RestoreMnemonic=({goToStep:a})=>{const _=useForm({mode:"onBlur"}),{handleSubmit:$,setValue:j,trigger:et,formState:{isValid:tt}}=_,{handleAsyncAction:rt}=useAsyncActionHandler(),[nt,it]=reactExports.useState(24),st=ut=>{const ht=Number(ut);if(mnemonicSizes.includes(ht))return it(yt=>(yt>ht&&lodashExports.range(ht,Math.max(...mnemonicSizes)).forEach(wt=>{j(`word${wt}`,void 0)}),ht)),et()},ot=ut=>rt(async()=>{const ht=ut.split(" ");if(!mnemonicSizes.includes(ht.length))throw new Error(`the mnemonic must be ${mnemonicSizes.join(", ")} words long`);return ht.slice(0,nt).forEach((yt,wt)=>{j(`word${wt}`,yt)}),et()}),at=ut=>rt(async()=>{const ht=Object.values(ut).join(" ").trim();if(!validateMnemonic_1(ht))throw new Error(`Invalid Mnemonic: "${ht}"`);return a({type:"nameAccount",account:{type:"mnemonic",mnemonic:ht}}),Promise.resolve()});return jsxRuntimeExports.jsx(ModalContentWrapper,{icon:jsxRuntimeExports.jsx(KeyIcon,{width:"24px",height:"24px",stroke:colors.gray[450]}),subtitle:"Please fill in the Seed Phrase in sequence.",title:"Import Seed Phrase",children:jsxRuntimeExports.jsx(Box,{overflowX:"hidden",children:jsxRuntimeExports.jsx(FormProvider,{..._,children:jsxRuntimeExports.jsx("form",{onSubmit:$(at),style:{width:"100%"},children:jsxRuntimeExports.jsxs(VStack,{width:"100%",spacing:4,children:[jsxRuntimeExports.jsx(Select$1,{height:"48px",color:colors.gray[450],"data-testid":"select",icon:jsxRuntimeExports.jsx(ChevronDownIcon,{}),onChange:ut=>st(ut.target.value),value:nt,children:mnemonicSizes.reverse().map(ut=>jsxRuntimeExports.jsxs("option",{value:ut,children:[ut," Words"]},ut))}),jsxRuntimeExports.jsx(Grid,{gridGap:3,gridTemplateColumns:"repeat(3, 1fr)",paddingBottom:"20px",children:lodashExports.range(nt).map(ut=>{const ht=`word${ut}`;return jsxRuntimeExports.jsxs(GridItem,{display:"flex",height:"38px",padding:"4px",fontSize:"sm",background:colors.gray[800],border:"1px solid",borderColor:colors.gray[500],borderRadius:"4px",children:[jsxRuntimeExports.jsx(Heading,{width:"19px",marginRight:"6px",paddingTop:"6px",color:colors.gray[400],textAlign:"right",size:"sm",children:ut+1}),jsxRuntimeExports.jsx(MnemonicAutocomplete,{inputName:ht,inputProps:{onPaste:async yt=>{yt.preventDefault();const wt=await navigator.clipboard.readText();return ot(wt)},border:"none",size:"xsmall"},listProps:{width:"126px",marginTop:"38px",marginLeft:"-5px"}})]},ut)})}),jsxRuntimeExports.jsx(Button,{width:"100%",isDisabled:!tt,size:"lg",type:"submit",children:"Continue"}),IS_DEV]})})})})})},RestoreSecretKey=({goToStep:a})=>{const[_,$]=reactExports.useState(!1),{handleAsyncAction:j}=useAsyncActionHandler(),{register:et,handleSubmit:tt,formState:{errors:rt,isValid:nt}}=useForm({mode:"onBlur",defaultValues:{password:""}}),it=async({secretKey:st,password:ot})=>j(async()=>{try{const ut=await(await InMemorySigner.fromSecretKey(st.trim(),ot)).secretKey();a({type:"nameAccount",account:{type:"secret_key",secretKey:ut}})}catch(at){const ut=at.message||"";throw ut.includes("Cannot read properties of null (reading 'slice')")?new Error("Key-password pair is invalid"):ut.includes("Invalid checksum")?new Error("Invalid secret key: checksum doesn't match"):at}});return jsxRuntimeExports.jsx(ModalContentWrapper,{icon:jsxRuntimeExports.jsx(KeyIcon,{width:"24px",height:"24px",stroke:colors.gray[450]}),title:"Insert Secret Key",children:jsxRuntimeExports.jsxs("form",{onSubmit:tt(it),style:{width:"100%"},children:[jsxRuntimeExports.jsxs(FormControl,{isInvalid:!!rt.secretKey,children:[jsxRuntimeExports.jsx(FormLabel,{children:"Secret Key"}),jsxRuntimeExports.jsx(Textarea,{minHeight:"130px","data-testid":"secret-key",...et("secretKey",{required:"Secret key is required",onChange:st=>$(isEncryptedSecretKeyPrefix(st.target.value.trim()))}),placeholder:"Your secret key"}),rt.secretKey&&jsxRuntimeExports.jsx(FormErrorMessage$1,{children:rt.secretKey.message})]}),_&&jsxRuntimeExports.jsxs(FormControl,{marginTop:"20px",isInvalid:!!rt.password,children:[jsxRuntimeExports.jsx(FormLabel,{children:"Password"}),jsxRuntimeExports.jsx(Input,{"data-testid":"password",...et("password",{validate:st=>{if(!st.trim())return"Password is required"}})}),rt.password&&jsxRuntimeExports.jsx(FormErrorMessage$1,{children:rt.password.message})]}),jsxRuntimeExports.jsx(Button,{width:"100%",marginTop:"32px",isDisabled:!nt,size:"lg",type:"submit",children:"Continue"})]})})},ShowSeedphrase=({goToStep:a,account:_})=>jsxRuntimeExports.jsx(ModalContentWrapper,{icon:jsxRuntimeExports.jsx(KeyIcon,{width:"24px",height:"24px",stroke:colors.gray[450]}),subtitle:"Please record the following 24 words in sequence in order to restore it in the future.",title:"Record Seed Phrase",children:jsxRuntimeExports.jsxs(VStack,{children:[jsxRuntimeExports.jsx(SimpleGrid,{columns:3,spacing:2,children:_.mnemonic.split(" ").map(($,j)=>jsxRuntimeExports.jsxs(Flex,{width:"126px",padding:"6px",border:"1px dashed",borderColor:colors.gray[500],borderRadius:"4px",children:[jsxRuntimeExports.jsx(Heading,{width:"18px",marginRight:"10px",paddingTop:"2px",color:colors.gray[450],textAlign:"right",size:"sm",children:j+1}),jsxRuntimeExports.jsx(Text,{"data-testid":`mnemonic-word-${j}`,size:"sm",children:$})]},j))}),jsxRuntimeExports.jsx(Button,{width:"100%",marginTop:"20px",onClick:$=>{a({type:"verifySeedphrase",account:_})},size:"lg",children:"OK, I've recorded it"})]})}),VerifySeedphrase=({goToStep:a,account:_})=>{const $=_.mnemonic.split(" "),j=useForm({mode:"onBlur"}),{handleSubmit:et,formState:{errors:tt,isValid:rt}}=j,[nt]=reactExports.useState(selectRandomElements($,5)),it=()=>a({type:"nameAccount",account:_});return jsxRuntimeExports.jsx(ModalContentWrapper,{icon:jsxRuntimeExports.jsx(DoubleCheckmarkIcon,{}),subtitle:"To verify, please type in the word that corresponds to each sequence number.",title:"Verify Seed Phrase",children:jsxRuntimeExports.jsx(Box,{overflowX:"hidden",overflowY:"auto",width:"100%",children:jsxRuntimeExports.jsx(FormProvider,{...j,children:jsxRuntimeExports.jsxs("form",{onSubmit:et(it),children:[nt.map((st,ot)=>{const at=`${st.index}`,ut=tt[at];return jsxRuntimeExports.jsxs(FormControl,{marginBottom:"12px",isInvalid:!!ut,children:[jsxRuntimeExports.jsx(Text,{position:"absolute",zIndex:1,width:"26px",marginTop:"12px",marginLeft:"4px",textAlign:"right","data-testid":"mnemonic-index",children:st.index+1}),jsxRuntimeExports.jsx(Box,{width:"100%",children:jsxRuntimeExports.jsx(MnemonicAutocomplete,{inputName:at,inputProps:{paddingLeft:"36px",size:"md"},listProps:{marginTop:"6px"},validate:ht=>{if(ht!==st.value)return"Word doesn't match"}})}),(ut==null?void 0:ut.message)&&jsxRuntimeExports.jsx(FormErrorMessage,{children:ut.message})]},ot)}),jsxRuntimeExports.jsx(Button,{width:"100%",marginTop:"20px",isDisabled:!rt,size:"lg",type:"submit",children:"Continue"}),IS_DEV]})})})})},useStepHistory=a=>{const[_,$]=reactExports.useState(a),[j,et]=reactExports.useState([_]),tt=j.length===1;return{reset:()=>{$(a),et([a])},goToStep:rt=>{$(rt),et([...j,rt])},currentStep:_,goBack:()=>{if(tt)return;j.pop();const rt=j[j.length-1];et(j),$(rt)},atInitialStep:tt,fullHistory:j}},useOnboardingModal=a=>{const{isOpen:_,onOpen:$,onClose:j}=useDisclosure$1(),et=useImplicitAccounts().length!==0,tt=useStepHistory({type:et?"connectOrCreate":"eula"}),{currentStep:rt,goToStep:nt}=tt,it=()=>{tt.reset(),a&&a(),j()},st=()=>{switch(rt.type){case"eula":return jsxRuntimeExports.jsx(Eula,{goToStep:nt});case"connectOrCreate":return jsxRuntimeExports.jsx(ConnectOrCreate,{closeModal:it,goToStep:nt});case"connectOptions":return jsxRuntimeExports.jsx(ConnectOptions,{goToStep:nt});case"notice":return jsxRuntimeExports.jsx(Notice,{goToStep:nt});case"restoreMnemonic":return jsxRuntimeExports.jsx(RestoreMnemonic,{goToStep:nt});case"restoreBackup":return jsxRuntimeExports.jsx(RestoreBackupFile,{});case"showSeedphrase":return jsxRuntimeExports.jsx(ShowSeedphrase,{goToStep:nt,...rt});case"verifySeedphrase":return jsxRuntimeExports.jsx(VerifySeedphrase,{goToStep:nt,...rt});case"nameAccount":return jsxRuntimeExports.jsx(NameAccount,{goToStep:nt,...rt});case"derivationPath":return jsxRuntimeExports.jsx(DerivationPath,{goToStep:nt,...rt});case"restoreLedger":return jsxRuntimeExports.jsx(RestoreLedger,{closeModal:it,...rt});case"masterPassword":return jsxRuntimeExports.jsx(MasterPassword,{onClose:it,...rt});case"fakeAccount":return jsxRuntimeExports.jsx(FakeAccount,{onClose:j});case"restoreSecretKey":return jsxRuntimeExports.jsx(RestoreSecretKey,{goToStep:nt})}};return{modalElement:jsxRuntimeExports.jsxs(Modal,{autoFocus:!1,closeOnOverlayClick:!1,isCentered:!0,isOpen:_,onClose:it,children:[et&&jsxRuntimeExports.jsx(ModalOverlay,{}),jsxRuntimeExports.jsxs(ModalContent,{children:[!tt.atInitialStep&&jsxRuntimeExports.jsx(ModalBackButton,{onClick:tt.goBack}),jsxRuntimeExports.jsx(ModalCloseButton,{onClick:it}),st()]})]}),onOpen:$}},AccountListHeader=()=>{const{onOpen:a,modalElement:_}=useOnboardingModal();return jsxRuntimeExports.jsxs(Flex,{flexDirection:"row-reverse",marginTop:"12px",marginBottom:"16px",children:[jsxRuntimeExports.jsxs(Button,{paddingRight:"0",onClick:a,variant:"CTAWithIcon",children:[jsxRuntimeExports.jsx(AddAccountIcon,{stroke:"currentcolor"}),jsxRuntimeExports.jsx(Text,{marginLeft:"4px",size:"sm",children:"Add Account"})]}),_]})},AccountGroupPopover=({onRemove:a,onCreate:_})=>jsxRuntimeExports.jsx(PopoverMenu,{children:jsxRuntimeExports.jsxs(Box,{paddingY:"0",children:[jsxRuntimeExports.jsx(Button,{height:_?"24px":"28px","data-testid":"popover-remove",onClick:a,variant:"popover",children:jsxRuntimeExports.jsxs(Flex,{alignItems:"center",justifyContent:"space-between",flex:1,children:[jsxRuntimeExports.jsx(Text,{marginRight:"4px",children:"Remove"}),jsxRuntimeExports.jsx(TrashIcon,{stroke:"inherit"})]})}),_&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Divider,{marginY:"4px"}),jsxRuntimeExports.jsx(Button,{onClick:_,variant:"popover",children:jsxRuntimeExports.jsxs(Flex,{alignItems:"center",justifyContent:"space-between",flex:1,children:[jsxRuntimeExports.jsx(Text,{marginRight:"4px",children:"Create"}),jsxRuntimeExports.jsx(PlusIcon,{width:"18px",height:"18px",stroke:"inherit"})]})})]})]})}),DeriveMnemonicAccountModal=({onDone:a,fingerPrint:_})=>{const[$,j]=reactExports.useState(),{isLoading:et,handleAsyncAction:tt}=useAsyncActionHandler(),rt=useToast(),nt=useDeriveMnemonicAccount(),it=({name:st,password:ot})=>tt(async()=>{await nt({fingerPrint:_,password:ot,label:st.trim()||DEFAULT_ACCOUNT_LABEL}),a(),rt({description:`New account created! Successfully derived account from ${_}`})},{title:"Failed to derive new account"});return jsxRuntimeExports.jsxs(ModalContent,{children:[jsxRuntimeExports.jsx(ModalCloseButton,{}),$?jsxRuntimeExports.jsx(EnterPassword,{isLoading:et,onSubmit:st=>it({name:$,password:st})}):jsxRuntimeExports.jsx(NameAccountDisplay,{onSubmit:st=>j(st.accountName),subtitle:`Name the new account derived from ${_}`})]})},getAccountGroupLabel=a=>{switch(a.type){case"mnemonic":return`Seedphrase ${a.seedFingerPrint}`;case"social":return"Social Accounts";case"ledger":return"Ledger Accounts";case"secret_key":return"Secret Key Accounts";case"multisig":return"Multisig Accounts"}},AccountGroup=({groupLabel:a,accounts:_,balances:$})=>{const j=_[0],et=j.type==="multisig",tt=j.type==="mnemonic",{openWith:rt,onClose:nt}=reactExports.useContext(DynamicModalContext),it=useRemoveMnemonic(),st=useRemoveNonMnemonic(),ot=useImplicitAccounts().length===_.length,at="Remove All Accounts";let ut,ht="Remove All";const yt=getAccountGroupLabel(j);ot?(ut="Removing all your accounts will off-board you from Umami. This will remove or reset all customized settings to their defaults. Personal data (including saved contacts, password and accounts) won't be affected.",ht="Remove & Off-board"):tt?ut=`Are you sure you want to remove all accounts derived from ${yt}?`:ut=`Are you sure you want to remove all of your ${yt}?`;const wt=()=>rt(jsxRuntimeExports.jsx(ConfirmationModal,{buttonLabel:ht,description:ut,onSubmit:()=>{tt?it(j.seedFingerPrint):et||st(j.type),nt()},title:at})),Ct=()=>{if(!tt)throw new Error("Can't derive a non mnemonic account!");return rt(jsxRuntimeExports.jsx(DeriveMnemonicAccountModal,{fingerPrint:j.seedFingerPrint,onDone:nt}))};return jsxRuntimeExports.jsxs(Box,{"data-testid":`account-group-${a}`,children:[jsxRuntimeExports.jsxs(Center,{justifyContent:"space-between",marginTop:"24px",marginBottom:"16px",children:[jsxRuntimeExports.jsx(Heading,{"data-testid":"account-group-title",size:"md",children:a}),!et&&jsxRuntimeExports.jsx(AccountGroupPopover,{onCreate:tt?Ct:void 0,onRemove:wt})]}),_.map(Pt=>jsxRuntimeExports.jsx(Box,{marginBottom:"16px",children:jsxRuntimeExports.jsx(AccountTile,{account:Pt,balance:$[Pt.address.pkh]})},Pt.address.pkh))]})},NestedScroll=a=>jsxRuntimeExports.jsx(Box,{overflowY:"auto",height:"100%",children:a.children});var indicator$1=function a(_){_=Math.abs(_);var $=_%100;if($>=10&&$<=20)return"th";var j=_%10;return j===1?"st":j===2?"nd":j===3?"rd":"th"},indicator=indicator$1;function ordinal(a){if(typeof a!="number")throw new TypeError("Expected Number, got "+typeof a+" "+a);return Number.isFinite(a)?a+indicator(a):a}ordinal.indicator=indicator;var ordinal_1=ordinal;const ordinal$1=getDefaultExportFromCjs$1(ordinal_1),SignTransactionFormPage=a=>{const _=useAppDispatch(),{isLoading:$,handleAsyncAction:j}=useAsyncActionHandler(),{mode:et,operations:tt,fee:rt,data:{threshold:nt,signers:it,name:st}}=a,{fee:ot,operations:at,estimationFailed:ut,isLoading:ht,form:yt,reEstimate:wt,signer:Ct,onSign:Pt}=useSignPageHelpers(rt,tt,et),Tt=$||ht,Mt=Lt=>j(async()=>{const Dt=await Pt(Lt);if(!Dt)throw new Error("An error occurred during contract origination");const Ut=(await Dt.getOriginatedContractAddresses())[0];_(multisigActions.addMultisigLabel({pkh:Ut,label:st}))});return jsxRuntimeExports.jsx(FormProvider,{...yt,children:jsxRuntimeExports.jsx(ModalContent,{children:jsxRuntimeExports.jsxs("form",{children:[jsxRuntimeExports.jsx(SignPageHeader,{...a,description:"Please review the details and then continue to submit contract.",operationsType:at.type,signer:Ct,title:"Review & Submit"}),jsxRuntimeExports.jsxs(ModalBody,{children:[jsxRuntimeExports.jsx(Text,{marginBottom:"24px",padding:"14px",color:colors.gray[50],background:colors.gray[800],borderRadius:"6px","data-testid":"contract-name",children:st}),jsxRuntimeExports.jsx(FormLabel,{children:"Approvers"}),jsxRuntimeExports.jsx(Box,{marginBottom:"12px","data-testid":"approvers",children:it.map(Lt=>jsxRuntimeExports.jsx(AddressTile,{address:parsePkh(Lt.val),"data-testid":`approver-${Lt.val}`},Lt.val))}),jsxRuntimeExports.jsx(Flex,{justifyContent:"flex-end",children:jsxRuntimeExports.jsx(Threshold,{signersAmount:it.length,threshold:nt})}),jsxRuntimeExports.jsxs(Box,{children:[jsxRuntimeExports.jsx(FormControl,{marginTop:"24px",marginBottom:"12px",children:jsxRuntimeExports.jsx(OwnedImplicitAccountsAutocomplete,{allowUnknown:!1,inputName:"signer",isLoading:Tt,keepValid:!0,label:"Creation Fee Payer",onUpdate:wt})}),jsxRuntimeExports.jsx(Flex,{justifyContent:"flex-end",children:jsxRuntimeExports.jsx(SignPageFee,{fee:ot})})]})]}),jsxRuntimeExports.jsx(ModalFooter,{children:jsxRuntimeExports.jsx(SignButton,{isDisabled:ut,isLoading:Tt,onSubmit:Mt,signer:Ct,text:"Submit Contract"})})]})})})},Threshold=({threshold:a,signersAmount:_})=>jsxRuntimeExports.jsxs(Flex,{alignItems:"center","data-testid":"threshold",children:[jsxRuntimeExports.jsx(Heading,{marginRight:"4px",color:colors.gray[450],size:"sm",children:"No. of approvals:"}),jsxRuntimeExports.jsx(Text,{color:colors.gray[400],size:"sm",children:`${a} out of ${_}`})]}),contract=[{prim:"storage",args:[{prim:"pair",args:[{prim:"address",annots:["%owner"]},{prim:"pair",args:[{prim:"set",args:[{prim:"address"}],annots:["%signers"]},{prim:"pair",args:[{prim:"nat",annots:["%threshold"]},{prim:"pair",args:[{prim:"nat",annots:["%last_op_id"]},{prim:"pair",args:[{prim:"big_map",args:[{prim:"nat"},{prim:"pair",args:[{prim:"lambda",args:[{prim:"unit"},{prim:"list",args:[{prim:"operation"}]}],annots:["%actions"]},{prim:"set",args:[{prim:"address"}],annots:["%approvals"]}]}],annots:["%pending_ops"]},{prim:"big_map",args:[{prim:"string"},{prim:"bytes"}],annots:["%metadata"]}]}]}]}]}]}]},{prim:"parameter",args:[{prim:"or",args:[{prim:"or",args:[{prim:"or",args:[{prim:"bytes",annots:["%set_metadata_uri"]},{prim:"unit",annots:["%default"]}]},{prim:"or",args:[{prim:"lambda",args:[{prim:"unit"},{prim:"list",args:[{prim:"operation"}]}],annots:["%propose"]},{prim:"nat",annots:["%approve"]}]}]},{prim:"nat",annots:["%execute"]}]}]},{prim:"code",args:[[{prim:"NIL",args:[{prim:"operation"}]},{prim:"DIG",args:[{int:"1"}]},{prim:"UNPAIR"},{prim:"DIP",args:[{int:"1"},[{prim:"UNPAIR",args:[{int:"6"}]}]]},{prim:"IF_LEFT",args:[[{prim:"IF_LEFT",args:[[{prim:"IF_LEFT",args:[[{prim:"DUP",args:[{int:"2"}]},{prim:"SENDER"},{prim:"COMPARE"},{prim:"EQ"},{prim:"NOT"},{prim:"IF",args:[[{prim:"PUSH",args:[{prim:"string"},{string:"INVALID_CALLER"}]},{prim:"FAILWITH"}],[]]},{prim:"DUP",args:[{int:"7"}]},{prim:"DUP",args:[{int:"2"}]},{prim:"SOME"},{prim:"PUSH",args:[{prim:"string"},{string:""}]},{prim:"UPDATE"},{prim:"DIP",args:[{int:"1"},[{prim:"DIG",args:[{int:"6"}]},{prim:"DROP",args:[{int:"1"}]}]]},{prim:"DUG",args:[{int:"6"}]},{prim:"DROP",args:[{int:"1"}]},{prim:"PAIR",args:[{int:"6"}]},{prim:"DIG",args:[{int:"1"}]},{prim:"PAIR"}],[{prim:"DROP",args:[{int:"1"}]},{prim:"DUP",args:[{int:"3"}]},{prim:"DUP",args:[{int:"3"}]},{prim:"SIZE"},{prim:"COMPARE"},{prim:"GE"},{prim:"NOT"},{prim:"IF",args:[[{prim:"PUSH",args:[{prim:"string"},{string:"FUNDING BLOCKED SINCE PARAMS ARE INVALID"}]},{prim:"FAILWITH"}],[]]},{prim:"PAIR",args:[{int:"6"}]},{prim:"DIG",args:[{int:"1"}]},{prim:"PAIR"}]]}],[{prim:"IF_LEFT",args:[[{prim:"PUSH",args:[{prim:"mutez"},{int:"0"}]},{prim:"AMOUNT"},{prim:"COMPARE"},{prim:"EQ"},{prim:"NOT"},{prim:"IF",args:[[{prim:"PUSH",args:[{prim:"string"},{string:"TO FUND CONTRACT, PLEASE USE THE DEFAULT ENTRYPOINT"}]},{prim:"FAILWITH"}],[]]},{prim:"DUP",args:[{int:"3"}]},{prim:"SENDER"},{prim:"MEM"},{prim:"NOT"},{prim:"IF",args:[[{prim:"PUSH",args:[{prim:"string"},{string:"ONLY FOR SIGNERS"}]},{prim:"FAILWITH"}],[]]},{prim:"PUSH",args:[{prim:"nat"},{int:"1"}]},{prim:"DUP",args:[{int:"6"}]},{prim:"ADD"},{prim:"DIP",args:[{int:"1"},[{prim:"DIG",args:[{int:"4"}]},{prim:"DROP",args:[{int:"1"}]}]]},{prim:"DUG",args:[{int:"4"}]},{prim:"DUP",args:[{int:"6"}]},{prim:"DUP",args:[{int:"6"}]},{prim:"MEM"},{prim:"IF",args:[[{prim:"PUSH",args:[{prim:"string"},{string:"pending_ops"}]},{prim:"PUSH",args:[{prim:"string"},{string:"KEY_EXISTS"}]},{prim:"PAIR"},{prim:"FAILWITH"}],[{prim:"DUP",args:[{int:"6"}]},{prim:"EMPTY_SET",args:[{prim:"address"}]},{prim:"PUSH",args:[{prim:"bool"},{prim:"True"}]},{prim:"SENDER"},{prim:"UPDATE"},{prim:"DUP",args:[{int:"3"}]},{prim:"PAIR"},{prim:"SOME"},{prim:"DUP",args:[{int:"7"}]},{prim:"UPDATE"},{prim:"DIP",args:[{int:"1"},[{prim:"DIG",args:[{int:"5"}]},{prim:"DROP",args:[{int:"1"}]}]]},{prim:"DUG",args:[{int:"5"}]}]]},{prim:"DROP",args:[{int:"1"}]},{prim:"PAIR",args:[{int:"6"}]},{prim:"DIG",args:[{int:"1"}]},{prim:"PAIR"}],[{prim:"DUP",args:[{int:"6"}]},{prim:"DUP",args:[{int:"2"}]},{prim:"GET"},{prim:"IF_NONE",args:[[{prim:"PUSH",args:[{prim:"string"},{string:"INVALID OP ID"}]},{prim:"FAILWITH"}],[]]},{prim:"PUSH",args:[{prim:"mutez"},{int:"0"}]},{prim:"AMOUNT"},{prim:"COMPARE"},{prim:"EQ"},{prim:"NOT"},{prim:"IF",args:[[{prim:"PUSH",args:[{prim:"string"},{string:"TO FUND CONTRACT, PLEASE USE THE DEFAULT ENTRYPOINT"}]},{prim:"FAILWITH"}],[]]},{prim:"DUP",args:[{int:"4"}]},{prim:"SENDER"},{prim:"MEM"},{prim:"NOT"},{prim:"IF",args:[[{prim:"PUSH",args:[{prim:"string"},{string:"ONLY FOR SIGNERS"}]},{prim:"FAILWITH"}],[]]},{prim:"DUP"},{prim:"CDR"},{prim:"SENDER"},{prim:"MEM"},{prim:"IF",args:[[{prim:"PUSH",args:[{prim:"string"},{string:"ALREADY APPROVED"}]},{prim:"FAILWITH"}],[]]},{prim:"DUP",args:[{int:"7"}]},{prim:"DUP",args:[{int:"8"}]},{prim:"DUP",args:[{int:"4"}]},{prim:"GET"},{prim:"IF_NONE",args:[[{prim:"PUSH",args:[{prim:"string"},{string:"pending_ops"}]},{prim:"PUSH",args:[{prim:"string"},{string:"ASSET_NOT_FOUND"}]},{prim:"PAIR"},{prim:"FAILWITH"}],[]]},{prim:"UNPAIR"},{prim:"SWAP"},{prim:"DROP",args:[{int:"1"}]},{prim:"DUP",args:[{int:"9"}]},{prim:"DUP",args:[{int:"5"}]},{prim:"GET"},{prim:"IF_NONE",args:[[{prim:"PUSH",args:[{prim:"string"},{string:"pending_ops"}]},{prim:"PUSH",args:[{prim:"string"},{string:"ASSET_NOT_FOUND"}]},{prim:"PAIR"},{prim:"FAILWITH"}],[]]},{prim:"CDR"},{prim:"PUSH",args:[{prim:"bool"},{prim:"True"}]},{prim:"SENDER"},{prim:"UPDATE"},{prim:"SWAP"},{prim:"PAIR"},{prim:"SOME"},{prim:"DUP",args:[{int:"4"}]},{prim:"UPDATE"},{prim:"DIP",args:[{int:"1"},[{prim:"DIG",args:[{int:"6"}]},{prim:"DROP",args:[{int:"1"}]}]]},{prim:"DUG",args:[{int:"6"}]},{prim:"DROP",args:[{int:"2"}]},{prim:"PAIR",args:[{int:"6"}]},{prim:"DIG",args:[{int:"1"}]},{prim:"PAIR"}]]}]]}],[{prim:"DUP",args:[{int:"6"}]},{prim:"DUP",args:[{int:"2"}]},{prim:"GET"},{prim:"IF_NONE",args:[[{prim:"PUSH",args:[{prim:"string"},{string:"INVALID OP ID"}]},{prim:"FAILWITH"}],[]]},{prim:"PUSH",args:[{prim:"mutez"},{int:"0"}]},{prim:"AMOUNT"},{prim:"COMPARE"},{prim:"EQ"},{prim:"NOT"},{prim:"IF",args:[[{prim:"PUSH",args:[{prim:"string"},{string:"TO FUND CONTRACT, PLEASE USE THE DEFAULT ENTRYPOINT"}]},{prim:"FAILWITH"}],[]]},{prim:"DUP",args:[{int:"4"}]},{prim:"SENDER"},{prim:"MEM"},{prim:"NOT"},{prim:"IF",args:[[{prim:"PUSH",args:[{prim:"string"},{string:"ONLY FOR SIGNERS"}]},{prim:"FAILWITH"}],[]]},{prim:"DUP",args:[{int:"5"}]},{prim:"DUP",args:[{int:"2"}]},{prim:"CDR"},{prim:"SIZE"},{prim:"COMPARE"},{prim:"GE"},{prim:"NOT"},{prim:"IF",args:[[{prim:"PUSH",args:[{prim:"string"},{string:"NOT YET APPROVED"}]},{prim:"FAILWITH"}],[]]},{prim:"DUP",args:[{int:"7"}]},{prim:"DUP",args:[{int:"3"}]},{prim:"GET"},{prim:"IF_NONE",args:[[{prim:"PUSH",args:[{prim:"string"},{string:"pending_ops"}]},{prim:"PUSH",args:[{prim:"string"},{string:"ASSET_NOT_FOUND"}]},{prim:"PAIR"},{prim:"FAILWITH"}],[]]},{prim:"CAR"},{prim:"PUSH",args:[{prim:"unit"},{prim:"Unit"}]},{prim:"EXEC"},{prim:"DIP",args:[{int:"1"},[{prim:"DIG",args:[{int:"8"}]},{prim:"DROP",args:[{int:"1"}]}]]},{prim:"DUG",args:[{int:"8"}]},{prim:"DUP",args:[{int:"7"}]},{prim:"NONE",args:[{prim:"pair",args:[{prim:"lambda",args:[{prim:"unit"},{prim:"list",args:[{prim:"operation"}]}]},{prim:"set",args:[{prim:"address"}]}]}]},{prim:"DUP",args:[{int:"4"}]},{prim:"UPDATE"},{prim:"DIP",args:[{int:"1"},[{prim:"DIG",args:[{int:"6"}]},{prim:"DROP",args:[{int:"1"}]}]]},{prim:"DUG",args:[{int:"6"}]},{prim:"DROP",args:[{int:"2"}]},{prim:"PAIR",args:[{int:"6"}]},{prim:"DIG",args:[{int:"1"}]},{prim:"PAIR"}]]}]]}],makeStorageJSON=(a,_,$)=>({owner:a,signers:_,threshold:$,last_op_id:"0",pending_ops:[],metadata:[]}),toOperation$4=a=>({type:"contract_origination",sender:parsePkh(a.sender),code:contract,storage:makeStorageJSON(a.sender,a.signers.map(_=>_.val),String(a.threshold))}),SelectApproversFormPage=a=>{const{goBack:_,sender:$,...j}=a,et=useForm({mode:"onBlur",defaultValues:{sender:$.address.pkh,signers:[{val:""}],threshold:1,...formDefaultValues(j)}}),{formState:{errors:tt,isValid:rt},control:nt,register:it,handleSubmit:st,getValues:ot,watch:at}=et,ut=useFieldArray({control:nt,name:"signers",rules:{minLength:1}}),ht=at("signers").length,yt=useOpenSignPageFormAction({SignPage:SignTransactionFormPage,signPageExtraData:at(),FormPage:SelectApproversFormPage,defaultFormPageProps:a,toOperation:toOperation$4}),{onFormSubmitActionHandlers:[wt],isLoading:Ct}=useHandleOnSubmitFormActions([yt]);return jsxRuntimeExports.jsx(FormProvider,{...et,children:jsxRuntimeExports.jsxs(ModalContent,{children:[jsxRuntimeExports.jsx(ModalBackButton,{onClick:_}),jsxRuntimeExports.jsxs("form",{onSubmit:st(wt),children:[jsxRuntimeExports.jsx(FormPageHeader,{subTitle:"Select the participants of the contract and choose the minimum number of approvals.",title:"Select Approvers"}),jsxRuntimeExports.jsxs(ModalBody,{children:[ut.fields.map((Pt,Tt)=>{var Ot;const Mt=tt.signers&&tt.signers[Tt],Lt=`${Tt===0?"Select ":""}${ordinal$1(Tt+1)} approver`,Dt=ht>1?"short":"default",Ut=Dt==="short"?"368px":"100%";return jsxRuntimeExports.jsxs(FormControl,{display:"inline-block",width:Ut,marginBottom:"8px","data-testid":`signer-input-${Tt}`,isInvalid:!!Mt,children:[jsxRuntimeExports.jsx(OwnedImplicitAccountsAutocomplete,{allowUnknown:!0,inputName:`signers.${Tt}.val`,label:Lt,size:Dt,style:{width:Ut},validate:It=>{if(!isValidImplicitPkh(It))return"Signer must be valid TZ address";const Bt=ot("signers").map(Ft=>Ft.val);if(Bt.length>new Set(Bt).size)return"Duplicate approver"}}),ht>1&&jsxRuntimeExports.jsx(IconButton,{position:"absolute",height:"24px",marginTop:"-36px",marginLeft:"374px",background:colors.gray[500],"aria-label":"Remove","data-testid":`remove-signer-${Tt}`,icon:jsxRuntimeExports.jsx(TrashIcon,{width:"12px",height:"14px",stroke:colors.gray[300]}),isRound:!0,onClick:()=>ut.remove(Tt),size:"xs",variant:"tertiary"}),Mt&&jsxRuntimeExports.jsx(FormErrorMessage,{"data-testid":`signer-${Tt}-error`,children:(Ot=Mt.val)==null?void 0:Ot.message})]},Pt.id)}),jsxRuntimeExports.jsx(Button,{paddingLeft:0,onClick:()=>ut.append({val:""}),variant:"specialCTA",children:"+ Add Approver"}),jsxRuntimeExports.jsxs(FormControl,{marginTop:"24px",isInvalid:!!tt.threshold,children:[jsxRuntimeExports.jsxs(FormLabel,{display:"inline",children:["Min No. of approvals:",jsxRuntimeExports.jsx(InputGroup,{display:"inline",marginLeft:"10px",children:jsxRuntimeExports.jsx(Input,{width:"60px",color:"white","data-testid":"threshold-input",step:1,type:"number",...it("threshold",{valueAsNumber:!0,required:"No. of approvals is required",max:{value:ht,message:`Max no. of approvals is ${ht}`},min:{value:1,message:"Min no. of approvals is 1"}})})})]}),jsxRuntimeExports.jsxs(Text,{display:"inline","data-testid":"max-signers",children:["out of ",ht]}),tt.threshold&&jsxRuntimeExports.jsx(FormErrorMessage,{"data-testid":"threshold-error",children:tt.threshold.message})]})]}),jsxRuntimeExports.jsx(ModalFooter,{children:jsxRuntimeExports.jsx(Button,{width:"100%",isDisabled:!rt,isLoading:Ct,size:"lg",type:"submit",children:"Review"})})]})]})})},NameMultisigFormPage=({name:a})=>{const _=useForm({mode:"onBlur",defaultValues:{name:a||""}}),{formState:{errors:$,isValid:j},register:et,handleSubmit:tt}=_,rt=useImplicitAccounts(),nt=useGetMostFundedImplicitAccount(),{openWith:it}=reactExports.useContext(DynamicModalContext),st=({name:at})=>it(jsxRuntimeExports.jsx(SelectApproversFormPage,{form:{name:at.trim()},goBack:()=>it(jsxRuntimeExports.jsx(NameMultisigFormPage,{name:at})),sender:nt(rt)})),ot=useValidateName();return jsxRuntimeExports.jsx(FormProvider,{..._,children:jsxRuntimeExports.jsx(ModalContent,{children:jsxRuntimeExports.jsxs("form",{onSubmit:tt(st),children:[jsxRuntimeExports.jsx(FormPageHeader,{subTitle:"Name your account. The account name will only appear in your local Umami app.",title:"Account Name"}),jsxRuntimeExports.jsx(ModalBody,{children:jsxRuntimeExports.jsxs(FormControl,{isInvalid:!!$.name,children:[jsxRuntimeExports.jsx(FormLabel,{children:"Account Name"}),jsxRuntimeExports.jsx(InputGroup,{children:jsxRuntimeExports.jsx(Input,{"data-testid":"multisig-account-name",type:"text",...et("name",{validate:ot}),placeholder:"Account Name"})}),$.name&&jsxRuntimeExports.jsx(FormErrorMessage,{"data-testid":"name-error",children:$.name.message})]})}),jsxRuntimeExports.jsx(ModalFooter,{children:jsxRuntimeExports.jsx(Button,{width:"100%",isDisabled:!j,size:"lg",type:"submit",children:"Continue"})})]})})})},AccountsList=()=>{const a=useAllAccounts(),_=useAppSelector(tt=>tt.assets.balances.mutez),$=lodashExports.groupBy(a,getAccountGroupLabel),{openWith:j}=reactExports.useContext(DynamicModalContext),et=Object.entries($).map(([tt,rt])=>jsxRuntimeExports.jsx(AccountGroup,{accounts:rt,balances:_,groupLabel:tt},tt));return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsx(Box,{height:"100%",marginRight:0,children:jsxRuntimeExports.jsxs(NestedScroll,{children:[lodashExports.compact(et),jsxRuntimeExports.jsx(Button,{width:"100%",height:"90px",background:colors.black,border:"1px dashed",borderColor:colors.gray[500],onClick:()=>j(jsxRuntimeExports.jsx(NameMultisigFormPage,{})),variant:"outline",children:jsxRuntimeExports.jsxs(Text,{display:"block",width:"100%",margin:"20px",color:colors.gray[400],textAlign:"center",children:[jsxRuntimeExports.jsx(KeyIcon,{marginRight:"4px",stroke:colors.gray[450]}),"Create New Multisig"]})})]})})})},useGetDelegationPrettyDisplayValues=()=>{const a=useGetAccountBalance();return _=>{const $=a(_.sender),j=new Date,et=prettyTezAmount(_.amount),tt=$&&prettyTezAmount($),rt=`Since ${formatRelative(new Date(_.timestamp),j)}`;return{initialBalance:et,currentBalance:tt,duration:rt}}},SignPage$4=a=>{const{mode:_,operations:$,fee:j}=a,{fee:et,operations:tt,estimationFailed:rt,isLoading:nt,form:it,signer:st,reEstimate:ot,onSign:at}=useSignPageHelpers(j,$,_),ut=tt.operations[0].recipient;return jsxRuntimeExports.jsx(FormProvider,{...it,children:jsxRuntimeExports.jsx(ModalContent,{children:jsxRuntimeExports.jsxs("form",{children:[jsxRuntimeExports.jsx(SignPageHeader,{...a,operationsType:tt.type,signer:tt.signer}),jsxRuntimeExports.jsxs(ModalBody,{children:[jsxRuntimeExports.jsx(FormLabel,{children:"From"}),jsxRuntimeExports.jsx(AddressTile,{address:st.address}),jsxRuntimeExports.jsx(Flex,{alignItems:"center",justifyContent:"end",marginTop:"12px",marginBottom:"24px",paddingX:"4px",children:jsxRuntimeExports.jsx(Flex,{alignItems:"center",children:jsxRuntimeExports.jsx(SignPageFee,{fee:et})})}),jsxRuntimeExports.jsx(FormLabel,{children:"To"}),jsxRuntimeExports.jsx(AddressTile,{address:ut}),jsxRuntimeExports.jsx(OperationSignerSelector,{isLoading:nt,operationType:tt.type,reEstimate:ot,sender:tt.sender})]}),jsxRuntimeExports.jsx(ModalFooter,{children:jsxRuntimeExports.jsx(SignButton,{isDisabled:rt,isLoading:nt,onSubmit:at,signer:st,text:headerText(tt.type,_)})})]})})})},FormPage$3=a=>{var at;const _=(at=a.form)==null?void 0:at.baker,$=useOpenSignPageFormAction({SignPage:SignPage$4,signPageExtraData:void 0,FormPage:FormPage$3,defaultFormPageProps:a,toOperation:toOperation$3}),j=useAddToBatchFormAction(toOperation$3),{onFormSubmitActionHandlers:[et,tt],isLoading:rt}=useHandleOnSubmitFormActions([$,j]),nt=useForm({mode:"onBlur",defaultValues:formDefaultValues(a)}),{formState:{isValid:it,errors:st},handleSubmit:ot}=nt;return jsxRuntimeExports.jsx(FormProvider,{...nt,children:jsxRuntimeExports.jsx(ModalContent,{children:jsxRuntimeExports.jsxs("form",{"data-testid":"delegate-form",children:[jsxRuntimeExports.jsxs(HeaderWrapper,{children:[jsxRuntimeExports.jsx(Text,{fontWeight:"600",size:"2xl",children:_?"Change Baker":"Delegate"}),jsxRuntimeExports.jsx(ModalCloseButton,{})]}),jsxRuntimeExports.jsxs(ModalBody,{children:[jsxRuntimeExports.jsxs(FormControl,{isInvalid:!!st.sender,children:[jsxRuntimeExports.jsx(OwnedAccountsAutocomplete,{allowUnknown:!1,inputName:"sender",isDisabled:!!a.sender,label:"From"}),st.sender&&jsxRuntimeExports.jsx(FormErrorMessage,{"data-testid":"from-error",children:st.sender.message})]}),jsxRuntimeExports.jsxs(FormControl,{marginTop:"24px","data-testid":"baker",isInvalid:!!st.baker,children:[jsxRuntimeExports.jsx(BakersAutocomplete,{allowUnknown:!0,inputName:"baker",label:"Baker"}),st.baker&&jsxRuntimeExports.jsx(FormErrorMessage,{children:st.baker.message})]})]}),jsxRuntimeExports.jsx(ModalFooter,{children:jsxRuntimeExports.jsx(FormSubmitButtons,{isLoading:rt,isValid:it,onAddToBatch:ot(tt),onSingleSubmit:ot(et)})})]})})})},toOperation$3=a=>({type:"delegation",sender:parsePkh(a.sender),recipient:parseImplicitPkh(a.baker)}),SignPage$3=a=>{const{mode:_,operations:$,fee:j}=a,{fee:et,operations:tt,estimationFailed:rt,isLoading:nt,form:it,signer:st,reEstimate:ot,onSign:at}=useSignPageHelpers(j,$,_);return jsxRuntimeExports.jsx(FormProvider,{...it,children:jsxRuntimeExports.jsx(ModalContent,{children:jsxRuntimeExports.jsxs("form",{children:[jsxRuntimeExports.jsx(SignPageHeader,{...a,operationsType:tt.type,signer:tt.signer}),jsxRuntimeExports.jsxs(ModalBody,{children:[jsxRuntimeExports.jsx(FormLabel,{children:"From"}),jsxRuntimeExports.jsx(AddressTile,{address:st.address}),jsxRuntimeExports.jsx(Flex,{alignItems:"center",justifyContent:"end",marginTop:"12px",paddingX:"4px",children:jsxRuntimeExports.jsx(SignPageFee,{fee:et})}),jsxRuntimeExports.jsx(OperationSignerSelector,{isLoading:nt,operationType:tt.type,reEstimate:ot,sender:tt.sender})]}),jsxRuntimeExports.jsx(ModalFooter,{children:jsxRuntimeExports.jsx(SignButton,{isDisabled:rt,isLoading:nt,onSubmit:at,signer:st,text:headerText(tt.type,_)})})]})})})},FormPage$2=a=>{var ot;const{sender:_}=a,$=(ot=a.form)==null?void 0:ot.baker,j=useOpenSignPageFormAction({SignPage:SignPage$3,signPageExtraData:void 0,FormPage:FormPage$2,defaultFormPageProps:{sender:_},toOperation:toOperation$2}),et=useAddToBatchFormAction(toOperation$2),{onFormSubmitActionHandlers:[tt,rt],isLoading:nt}=useHandleOnSubmitFormActions([j,et]),it=useForm({mode:"onBlur",defaultValues:formDefaultValues({sender:_})}),{handleSubmit:st}=it;return jsxRuntimeExports.jsx(FormProvider,{...it,children:jsxRuntimeExports.jsx(ModalContent,{children:jsxRuntimeExports.jsxs("form",{"data-testid":"undelegate-form",children:[jsxRuntimeExports.jsx(FormPageHeader,{subTitle:"Select preview to end delegation or insert this transaction into a Batch.",title:"End Delegation"}),jsxRuntimeExports.jsxs(ModalBody,{children:[jsxRuntimeExports.jsx(FormControl,{children:jsxRuntimeExports.jsx(OwnedAccountsAutocomplete,{allowUnknown:!1,inputName:"sender",isDisabled:!0,label:"From"})}),jsxRuntimeExports.jsx(FormLabel,{marginTop:"24px",children:"Baker"}),$&&jsxRuntimeExports.jsx(AddressTile,{address:parsePkh($)})]}),jsxRuntimeExports.jsx(ModalFooter,{children:jsxRuntimeExports.jsx(FormSubmitButtons,{isLoading:nt,isValid:!0,onAddToBatch:st(rt),onSingleSubmit:st(tt)})})]})})})},toOperation$2=a=>({type:"undelegation",sender:parsePkh(a.sender)}),Row=({label:a,value:_,...$})=>jsxRuntimeExports.jsxs(Flex,{alignItems:"center",height:"50px",padding:"16px","data-testid":a,...$,children:[jsxRuntimeExports.jsx(Box,{flex:1,children:jsxRuntimeExports.jsx(Heading,{color:colors.gray[400],size:"sm",children:a})}),jsxRuntimeExports.jsx(Box,{flex:1,children:typeof _=="string"?jsxRuntimeExports.jsx(Text,{size:"sm",children:_}):_})]}),DelegationDisplay=({delegation:a,account:_})=>{const{openWith:$}=reactExports.useContext(DynamicModalContext),j=useGetOwnedAccount(),et=useGetDelegationPrettyDisplayValues();if(!a)return jsxRuntimeExports.jsx(NoDelegations,{onDelegate:()=>$(jsxRuntimeExports.jsx(FormPage$3,{sender:_})),size:"md"});const{currentBalance:tt,duration:rt,initialBalance:nt}=et(a),{sender:it,delegate:{address:st}}=a,ot=j(it);return jsxRuntimeExports.jsxs(Box,{children:[jsxRuntimeExports.jsx(Row,{borderBottom:`1px solid ${colors.gray[700]}`,borderTopRadius:"8px",_odd:{bg:colors.gray[800]},label:"Initial Balance:",value:nt}),tt&&jsxRuntimeExports.jsx(Row,{_odd:{bg:colors.gray[800]},label:"Current Balance:",value:tt}),jsxRuntimeExports.jsx(Row,{borderBottom:`1px solid ${colors.gray[700]}`,_odd:{bg:colors.gray[800]},label:"Duration:",value:rt}),jsxRuntimeExports.jsx(Row,{borderBottomRadius:"8px",_odd:{bg:colors.gray[800]},label:"Baker:",value:jsxRuntimeExports.jsx(AddressPill,{address:parsePkh(a.delegate.address)})}),jsxRuntimeExports.jsxs(Flex,{marginTop:"24px",children:[jsxRuntimeExports.jsx(Button,{flex:1,marginRight:"16px",onClick:()=>$(jsxRuntimeExports.jsx(FormPage$2,{form:{sender:it,baker:st},sender:ot})),variant:"warning",children:"End Delegation"}),jsxRuntimeExports.jsx(Button,{flex:1,onClick:()=>$(jsxRuntimeExports.jsx(FormPage$3,{form:{sender:it,baker:st},sender:ot})),variant:"tertiary",children:"Change Baker"})]})]})},MultisigDecodedOperation=({operation:a})=>{switch(a.type){case"delegation":return jsxRuntimeExports.jsxs(Box,{"data-testid":"decoded-item-delegate",marginY:6,children:[jsxRuntimeExports.jsx(Text,{marginRight:"3px",color:colors.gray[450],fontSize:"14px",children:"Delegate to:"}),jsxRuntimeExports.jsx(AddressPill,{address:a.recipient})]});case"undelegation":return jsxRuntimeExports.jsx(Box,{"data-testid":"decoded-item-undelegate",marginY:6,children:jsxRuntimeExports.jsx(Text,{color:colors.gray[450],fontSize:"14px",children:"End Delegation"})});case"tez":case"fa1.2":case"fa2":return jsxRuntimeExports.jsxs(Box,{children:[jsxRuntimeExports.jsx(MultisigOperationAmount,{operation:a}),jsxRuntimeExports.jsxs(Flex,{alignItems:"center",marginTop:"8px",children:[jsxRuntimeExports.jsx(Text,{marginRight:"3px",color:colors.gray[450],fontSize:"14px",children:"Send to:"}),jsxRuntimeExports.jsx(AddressPill,{address:a.recipient})]})]});case"contract_origination":case"contract_call":throw new Error(`${a.type} is not supported yet`)}},MultisigOperationAmount=({operation:a})=>{const _=useGetToken();switch(a.type){case"tez":return jsxRuntimeExports.jsxs(Flex,{alignItems:"center","data-testid":"decoded-tez-amount",children:[jsxRuntimeExports.jsx(OutgoingArrow,{}),jsxRuntimeExports.jsxs(Text,{marginLeft:"8px",color:colors.orange,fontSize:"14px",fontWeight:600,textAlign:"center",children:["-",prettyTezAmount(a.amount)]})]});case"fa1.2":case"fa2":{const $=_(a.contract.pkh,a.tokenId);if(!$)return null;const j=tokenNameSafe($),et=$.type==="nft";return jsxRuntimeExports.jsxs(Flex,{alignItems:"center","data-testid":"decoded-fa-amount",children:[jsxRuntimeExports.jsx(OutgoingArrow,{}),jsxRuntimeExports.jsx(Box,{marginLeft:"8px",color:colors.orange,textAlign:"center",children:et?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Text,{display:"inline",marginRight:"3px",fontSize:"14px",fontWeight:600,children:a.amount}),jsxRuntimeExports.jsx(Text,{display:"inline",color:"white",fontSize:"14px",fontWeight:600,children:j})]}):jsxRuntimeExports.jsxs(Text,{fontSize:"14px",fontWeight:600,children:["-",tokenPrettyAmount(a.amount,$,{showSymbol:!0})]})})]})}case"delegation":case"undelegation":case"contract_origination":case"contract_call":return null}},caseInsensitiveLiteral=a=>z.string().regex(new RegExp(`^${a}$`,"i")),prim=a=>z.object({prim:caseInsensitiveLiteral(a)}),pushKeyHashSchema=z.object({prim:z.literal("PUSH"),args:z.tuple([z.object({prim:z.literal("key_hash")}),z.object({bytes:z.string()})])}),pushAddressSchema=z.object({prim:z.literal("PUSH"),args:z.tuple([z.object({prim:z.literal("address")}),z.object({bytes:z.string()})])}),pair=(a,_)=>z.object({prim:z.literal("Pair"),args:z.tuple([a,_])}),contractZeroTezSchema=z.object({prim:z.literal("PUSH"),args:z.tuple([z.object({prim:z.literal("mutez")}),z.object({int:z.literal("0")})])}),lambdaEndSchema=[prim("TRANSFER_TOKENS"),prim("CONS")],contractHeadSchema=z.object({prim:z.literal("CONTRACT")}),batchHeadSchema=z.tuple([z.object({prim:z.literal("DROP")}),z.object({prim:z.literal("NIL"),args:z.array(z.object({prim:z.literal("operation")}))})]),pushMutezSchema=z.object({prim:z.literal("PUSH"),args:z.tuple([z.object({prim:z.literal("mutez")}),z.object({int:z.string()})])}),tezSchema=z.tuple([pushKeyHashSchema,prim("IMPLICIT_ACCOUNT"),pushMutezSchema,prim("UNIT"),...lambdaEndSchema]),contractTezSchema=z.tuple([pushAddressSchema,contractHeadSchema,prim("IF_NONE"),pushMutezSchema,prim("UNIT"),...lambdaEndSchema]),setDelegateSchema=z.tuple([pushKeyHashSchema,prim("SOME"),prim("SET_DELEGATE"),prim("CONS")]),removeDelegateSchema=z.tuple([z.object({prim:z.literal("NONE"),args:z.tuple([z.object({prim:z.literal("key_hash")})])}),prim("SET_DELEGATE"),prim("CONS")]),fa2Schema=z.tuple([pushAddressSchema,contractHeadSchema,z.tuple([prim("IF_NONE")]),contractZeroTezSchema,z.object({prim:z.literal("PUSH"),args:z.tuple([prim("list"),z.array(pair(z.object({bytes:z.string({description:"from"})}),z.array(pair(z.object({bytes:z.string({description:"to"})}),pair(z.object({int:z.string({description:"token_id"})}),z.object({int:z.string({description:"amount"})}))))))])}),...lambdaEndSchema]),fa1Schema=z.tuple([pushAddressSchema,contractHeadSchema,z.tuple([prim("IF_NONE")]),contractZeroTezSchema,z.object({prim:z.literal("PUSH"),args:z.tuple([prim("Pair"),pair(z.object({bytes:z.string({description:"from"})}),pair(z.object({bytes:z.string({description:"to"})}),z.object({int:z.string({description:"amount"})})))])}),...lambdaEndSchema]);class UnrecognizedMichelsonError extends Error{}const convertToPkh=a=>(a.length===42&&(a="00"+a),encodeAddress(a)),parseTez=a=>{const _=tezSchema.parse(a),$=_[0].args[1].bytes,j=_[2].args[1].int;return{type:"tez",recipient:parseImplicitPkh(convertToPkh($)),amount:j}},parseTezContract=a=>{const _=contractTezSchema.parse(a),$=_[0].args[1].bytes,j=_[3].args[1].int;return{type:"tez",recipient:parseContractPkh(convertToPkh($)),amount:j}},parseFa2=a=>{const _=fa2Schema.parse(a),$=parseContractPkh(convertToPkh(_[0].args[1].bytes));return _[4].args[1].flatMap(et=>{const tt=et.args[0].bytes;return et.args[1].map(rt=>{const nt=rt.args[0].bytes,it=rt.args[1].args[0].int,st=rt.args[1].args[1].int;return{type:"fa2",contract:$,sender:parsePkh(convertToPkh(tt)),recipient:parsePkh(convertToPkh(nt)),tokenId:it,amount:st}})})},parseFa1=a=>{const _=fa1Schema.parse(a),$=_[0],j=_[4].args[1],et=j.args[0].bytes,tt=j.args[1].args[0].bytes;return{type:"fa1.2",amount:j.args[1].args[1].int,contract:parseContractPkh(convertToPkh($.args[1].bytes)),recipient:parsePkh(convertToPkh(tt)),sender:parsePkh(convertToPkh(et)),tokenId:"0"}},parseSetDelegate=(a,_)=>{const $=setDelegateSchema.parse(a);return{type:"delegation",sender:_.address,recipient:parseImplicitPkh(convertToPkh($[0].args[1].bytes))}},parseRemoveDelegate=(a,_)=>({type:"undelegation",sender:_.address}),parsings=[{schema:tezSchema,parsingFn:parseTez},{schema:contractTezSchema,parsingFn:parseTezContract},{schema:fa2Schema,parsingFn:parseFa2},{schema:fa1Schema,parsingFn:parseFa1},{schema:setDelegateSchema,parsingFn:parseSetDelegate},{schema:removeDelegateSchema,parsingFn:parseRemoveDelegate}],parse=(a,_,$=[])=>{if(a.length===0)return $;for(let j=0;j<parsings.length;j++){const{schema:et,parsingFn:tt}=parsings[j],rt=et.safeParse(a.slice(0,et.items.length));if(!rt.success)continue;const nt=tt(rt.data,_);return parse(a.slice(et.items.length),_,[...$,...[nt].flat()])}throw new UnrecognizedMichelsonError(`${JSON.stringify(a[0])}`)},assertHead=a=>{batchHeadSchema.parse(a.slice(0,2))},decode=(a,_)=>(assertHead(a),parse(a.slice(2),_)),parseRawMichelson=(a,_)=>{const $=JSON.parse(a);return decode($,_)},MultisigDecodedOperations=({rawMichelson:a,sender:_})=>{try{const $=parseRawMichelson(a,_);return jsxRuntimeExports.jsx(Box,{borderRadius:"8px",backgroundColor:colors.gray[900],children:$.map((j,et)=>jsxRuntimeExports.jsxs(Box,{width:"100%",paddingTop:"10px",paddingBottom:et<$.length-1?0:"15px",paddingX:"15px",children:[jsxRuntimeExports.jsx(MultisigDecodedOperation,{operation:j}),et<$.length-1&&jsxRuntimeExports.jsx(Divider,{marginTop:"15px"})]},et))})}catch($){return $ instanceof UnrecognizedMichelsonError?jsxRuntimeExports.jsx(UnrecognizedOperation,{rawMichelson:a}):jsxRuntimeExports.jsxs(Box,{height:"50px",padding:"10px",background:colors.gray[900],borderRadius:"8px",children:["Invalid michelson code: ",$.message]})}},UnrecognizedOperation=({rawMichelson:a})=>jsxRuntimeExports.jsx(Accordion,{width:"100%",marginBottom:"8px",background:colors.gray[900],borderColor:colors.gray[900],borderRadius:"8px",allowToggle:!0,children:jsxRuntimeExports.jsxs(AccordionItem,{children:[jsxRuntimeExports.jsxs(AccordionButton,{children:[jsxRuntimeExports.jsx(Heading,{flex:"1",height:"30px",marginTop:"6px",textAlign:"left",size:"md",children:"Unrecognized operation"}),jsxRuntimeExports.jsx(AccordionIcon,{})]}),jsxRuntimeExports.jsx(AccordionPanel,{overflowY:"scroll",height:"400px",paddingBottom:"12px",children:jsxRuntimeExports.jsx(JsValueWrap,{space:1,value:JSON.parse(a)})})]})}),MultisigActionButton=({approveOrExecute:a,isLoading:_,signerState:$})=>{switch($){case"awaitingApprovalByExternalSigner":return jsxRuntimeExports.jsxs(Flex,{alignItems:"center",alignSelf:"flex-end","data-testid":"multisig-signer-awaiting-approval",children:[jsxRuntimeExports.jsx(Text,{marginRight:"4px",color:colors.gray[300],children:"Awaiting Approval"}),jsxRuntimeExports.jsx(HourglassIcon,{marginTop:"2px"})]});case"approved":return jsxRuntimeExports.jsxs(Flex,{alignItems:"center",alignSelf:"flex-end",marginBottom:"8px","data-testid":"multisig-signer-approved",children:[jsxRuntimeExports.jsx(Text,{marginRight:"4px",color:colors.gray[300],children:"Approved"}),jsxRuntimeExports.jsx(CheckmarkIcon,{marginTop:"2px"})]});case"executable":return jsxRuntimeExports.jsx(Button,{"data-testid":"multisig-signer-button",isLoading:_,onClick:a,children:"Execute"});case"approvable":return jsxRuntimeExports.jsx(Button,{"data-testid":"multisig-signer-button",isLoading:_,onClick:a,children:"Approve"})}},SignPage$2=({signer:a,fee:_,operation:$,actionType:j,transactionCount:et})=>{const{handleAsyncAction:tt}=useAsyncActionHandler(),{openWith:rt}=reactExports.useContext(DynamicModalContext),nt=st=>tt(async()=>{const{opHash:ot}=await executeOperations($,st);return rt(jsxRuntimeExports.jsx(SuccessStep,{hash:ot}))},{title:`Failed ${j}`}),it=`${lodashExports.capitalize(j)} transaction`;return jsxRuntimeExports.jsx(ModalContent,{children:jsxRuntimeExports.jsxs("form",{children:[jsxRuntimeExports.jsx(BatchModalBody,{fee:_,signer:a,title:it,transactionCount:et}),jsxRuntimeExports.jsx(ModalFooter,{children:jsxRuntimeExports.jsx(SignButton,{onSubmit:nt,signer:a,text:it})})]})})},MultisigSignerTile=({pendingApprovals:a,sender:_,operation:$,signerAddress:j})=>{const et=useAddressKind$1(j),tt=useGetImplicitAccountSafe(),{isLoading:rt,handleAsyncAction:nt}=useAsyncActionHandler(),{openWith:it}=reactExports.useContext(DynamicModalContext),st=useSelectedNetwork(),ot=tt(j.pkh),at=a===0,ut=()=>nt(async()=>{if(!ot)throw new Error("Can't approve or execute with an account you don't own");const yt=at?"execute":"approve",wt=makeAccountOperations(ot,ot,[makeMultisigApproveOrExecuteOperation(_.address,yt,$.id)]),Ct=await estimate(wt,st);let Pt;try{Pt=parseRawMichelson($.rawActions,_).length}catch{Pt=1}return it(jsxRuntimeExports.jsx(SignPage$2,{actionType:yt,fee:Ct,operation:wt,signer:ot,transactionCount:Pt}))}),ht=getMultisigSignerState({approvals:$.approvals,signerAddress:j,operationIsExecutable:at,signerAccount:ot});return jsxRuntimeExports.jsx(AccountTileBase,{height:"80px",marginTop:"10px",marginBottom:"0",padding:"15px",borderRadius:"8px",backgroundColor:colors.gray[700],icon:jsxRuntimeExports.jsx(AccountTileIcon,{addressKind:et}),leftElement:jsxRuntimeExports.jsx(LabelAndAddress,{label:et.label,pkh:et.pkh}),rightElement:jsxRuntimeExports.jsx(MultisigActionButton,{approveOrExecute:ut,"data-testid":"multisig-signer-button",isLoading:rt,signerState:ht})})},getMultisigSignerState=({signerAccount:a,operationIsExecutable:_,approvals:$,signerAddress:j})=>{const et=!!$.find(tt=>tt.pkh===j.pkh);return a?et&&!_?"approved":_?"executable":"approvable":et?"approved":"awaitingApprovalByExternalSigner"},MultisigPendingOperation=({operation:a,sender:_})=>{const{signers:$,threshold:j}=_,et=Math.max(j-a.approvals.length,0);return jsxRuntimeExports.jsxs(Box,{marginBottom:"24px",background:colors.gray[800],border:"none",borderRadius:"8px","data-testid":"multisig-pending-operation-"+a.id,paddingX:"16px",paddingY:"15px",children:[jsxRuntimeExports.jsxs(Flex,{justifyContent:"space-between",marginBottom:"6px",padding:0,textAlign:"left",children:[jsxRuntimeExports.jsxs(Heading,{size:"md",children:["Pending #",a.id]}),jsxRuntimeExports.jsxs(Flex,{alignItems:"center",marginBottom:"6px",children:[jsxRuntimeExports.jsx(Heading,{marginRight:"4px",color:colors.gray[450],size:"sm",children:"Pending Approvals:"}),jsxRuntimeExports.jsx(Text,{color:colors.gray[400],"data-testid":"pending-approvals-count",children:et})]})]}),jsxRuntimeExports.jsxs(Box,{padding:"0",children:[jsxRuntimeExports.jsx(MultisigDecodedOperations,{rawMichelson:a.rawActions,sender:_}),$.map(tt=>jsxRuntimeExports.jsx(MultisigSignerTile,{operation:a,pendingApprovals:et,sender:_,signerAddress:tt},tt.pkh))]})]})},MultisigPendingOperations=({account:a})=>{const $=useGetPendingMultisigOperations()(a);return jsxRuntimeExports.jsx(Box,{margin:"0",padding:"0",children:$.map(j=>jsxRuntimeExports.jsx(MultisigPendingOperation,{operation:j,sender:a},j.id))})},ViewAllLink=({to:a,owner:_,...$})=>jsxRuntimeExports.jsx(Center,{...$,children:jsxRuntimeExports.jsxs(Link$1,{as:Link,color:colors.gray[300],stroke:colors.gray[450],_hover:{color:colors.green,stroke:colors.green},to:`${a}?accounts=${_}`,children:[jsxRuntimeExports.jsx(RefreshClockIcon,{display:"inline",stroke:"inherit"}),jsxRuntimeExports.jsx(Text,{display:"inline",size:"sm",children:" View All"})]})}),MAX_NFTS_SIZE=18,NFTsGrid=({owner:a,nfts:_,...$})=>{if(_.length===0)return jsxRuntimeExports.jsx(NoNFTs,{size:"md"});const j=sortedByLastUpdate(_).slice(0,MAX_NFTS_SIZE);return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(SimpleGrid,{marginBottom:"35px",spacing:"12px",...$,children:j.map(et=>{const tt=getIPFSurl(thumbnailUri(et)),nt={width:"100%",height:40,fallbackSrc:getIPFSurl(et.displayUri),src:tt};return jsxRuntimeExports.jsx(Link,{"data-testid":"nft-link",to:`/home/${a}/${fullId(et)}`,children:jsxRuntimeExports.jsx(Card,{background:colors.gray[800],border:"1px solid transparent",_hover:{background:colors.gray[700],borderColor:colors.gray[500]},children:jsxRuntimeExports.jsxs(CardBody,{overflow:"hidden",padding:"8px",borderRadius:"6px",children:[jsxRuntimeExports.jsx(Center,{children:jsxRuntimeExports.jsxs(Box,{position:"relative",width:"100%",height:"100%",children:[jsxRuntimeExports.jsx(AspectRatio,{zIndex:2,width:"100%",opacity:"0",ratio:1,children:jsxRuntimeExports.jsx(Image$1,{...nt,width:"100%",height:40})}),jsxRuntimeExports.jsx(AspectRatio,{position:"absolute",zIndex:0,top:"0",width:"100%",filter:"blur(20px)",ratio:1,children:jsxRuntimeExports.jsx(Image$1,{...nt,width:"100%",height:40})}),jsxRuntimeExports.jsx(AspectRatio,{position:"absolute",zIndex:1,top:"0",width:"100%",ratio:1,children:jsxRuntimeExports.jsx(Image$1,{...nt,width:"100%",height:40})})]})}),Number(et.balance)>1&&jsxRuntimeExports.jsx(Text,{position:"absolute",zIndex:3,display:"inline",height:"20px",marginTop:"-24px",marginLeft:"4px",padding:"0 8px",borderRadius:"100px",backgroundColor:"rgba(33, 33, 33, 0.75)","data-testid":"nft-owned-count",size:"xs",children:"x"+et.balance})]})})},`${a}:${fullId(et)}`)})}),_.length>MAX_NFTS_SIZE&&jsxRuntimeExports.jsx(ViewAllLink,{marginBottom:"40px",owner:a,to:"/nfts"})]})},OperationTileContext=React$2.createContext({mode:"page"}),FEE_FIELDS=["bakerFee","storageFee","allocationFee"],Fee=({operation:a})=>{const _=reactExports.useContext(OperationTileContext),j=useIsOwnedAddress()(a.sender.address);if(_.mode==="drawer"||!j)return null;const et=FEE_FIELDS.reduce((tt,rt)=>rt in a?tt.plus(lodashExports.get(a,rt)||0):tt,BigNumber(0));return et.eq(0)?null:jsxRuntimeExports.jsxs(Center,{children:[jsxRuntimeExports.jsx(Heading,{marginRight:"4px",color:colors.gray[450],size:"md",children:"Fee:"}),jsxRuntimeExports.jsx(Text,{color:colors.gray[400],"data-testid":"fee",children:prettyTezAmount(et)})]})},useGetOperationDestination=(a,_)=>{const $=useIsOwnedAddress(),j=$(a),et=$(_);return!j&&!et?"unrelated":j?"outgoing":"incoming"},operationSign=a=>{switch(a){case"incoming":return"+";case"outgoing":return"-";case"unrelated":return""}},operationColor=a=>{switch(a){case"incoming":return colors.green;case"outgoing":return colors.orange;case"unrelated":return"white"}},InternalPrefix=({operation:a})=>{var et,tt,rt;let _,$;switch(a.type){case"transaction":_=(et=a.target)==null?void 0:et.address,$=a.sender.address;break;case"origination":case"delegation":_=null,$=a.sender.address;break;case"token_transfer":_=(tt=a.to)==null?void 0:tt.address,$=(rt=a.from)==null?void 0:rt.address;break}return useGetOperationDestination($,_)!=="unrelated"?null:jsxRuntimeExports.jsx(Heading,{marginRight:"4px",color:colors.gray[450],"data-testid":"internal-prefix",size:"md",children:"Internal:"})},OperationStatus=({level:a,status:_})=>{const $=useIsBlockFinalised(a);return _===void 0||_==="applied"?$?jsxRuntimeExports.jsx(CheckmarkIcon,{"data-testid":"checkmark"}):jsxRuntimeExports.jsx(HourglassIcon,{"data-testid":"hourglass"}):jsxRuntimeExports.jsx(CrossedCircleIcon,{"data-testid":"crossed-circle"})},OperationTypeWrapper=({children:a})=>reactExports.useContext(OperationTileContext).mode==="drawer"?null:jsxRuntimeExports.jsx(Text,{marginRight:"4px",color:colors.gray[300],"data-testid":"operation-type",size:"sm",children:a}),Timestamp=({timestamp:a})=>a?jsxRuntimeExports.jsx(Text,{color:colors.gray[400],"data-testid":"timestamp",size:"sm",children:getDisplayTimestamp(a)}):null,getDisplayTimestamp=a=>{const _=new Date,$=new Date(a);return differenceInDays(_,$)<2?formatDistance($,_,{addSuffix:!0}):format($,"dd MMM yyyy")},TzktLink$1=({hash:a,counter:_,transactionId:$,originationId:j,migrationId:et,children:tt,...rt})=>{const{tzktExplorerUrl:nt}=useSelectedNetwork();let it=nt;return a?it=lodashExports.compact([nt,a,_]).join("/"):et?it=`${it}/migrations/${et}`:j?it=`${it}/originations/${j}`:$?it=`${it}/transactions/${$}`:console.warn("No id provided to TzktLink"),jsxRuntimeExports.jsx(Link$1,{"data-testid":"tzkt-link",href:it,isExternal:!0,...rt,children:tt})},ContractCallTile=({operation:a})=>{var _;return jsxRuntimeExports.jsxs(Flex,{flexDirection:"column",width:"100%","data-testid":"operation-tile-contract-call",children:[jsxRuntimeExports.jsxs(Flex,{justifyContent:"space-between",marginBottom:"10px",children:[jsxRuntimeExports.jsxs(Center,{children:[jsxRuntimeExports.jsx(ContractIcon,{marginRight:"8px"}),jsxRuntimeExports.jsx(InternalPrefix,{operation:a}),jsxRuntimeExports.jsx(TzktLink$1,{marginRight:"8px",counter:a.counter,"data-testid":"title",hash:a.hash,children:jsxRuntimeExports.jsxs(Heading,{size:"md",children:["Contract Call: ",(_=a.parameter)==null?void 0:_.entrypoint]})}),jsxRuntimeExports.jsx(Fee,{operation:a})]}),jsxRuntimeExports.jsx(Flex,{alignSelf:"flex-end",children:jsxRuntimeExports.jsx(Timestamp,{timestamp:a.timestamp})})]}),jsxRuntimeExports.jsx(Box,{children:jsxRuntimeExports.jsxs(Flex,{justifyContent:"space-between",children:[jsxRuntimeExports.jsxs(Flex,{children:[a.target&&jsxRuntimeExports.jsxs(Flex,{marginRight:"15px","data-testid":"to",children:[jsxRuntimeExports.jsx(Text,{marginRight:"6px",color:colors.gray[450],children:"To:"}),jsxRuntimeExports.jsx(AddressPill,{address:a.target})]}),jsxRuntimeExports.jsxs(Flex,{"data-testid":"from",children:[jsxRuntimeExports.jsx(Text,{marginRight:"6px",color:colors.gray[450],children:"From:"}),jsxRuntimeExports.jsx(AddressPill,{address:a.sender})]})]}),jsxRuntimeExports.jsxs(Center,{children:[jsxRuntimeExports.jsx(OperationTypeWrapper,{children:"Contract Call"}),jsxRuntimeExports.jsx(OperationStatus,{...a})]})]})})]})},DelegationTile=({operation:a})=>{const _=a.newDelegate?"Delegate":"Delegation Ended";return jsxRuntimeExports.jsxs(Flex,{flexDirection:"column",width:"100%","data-testid":"operation-tile-delegation",children:[jsxRuntimeExports.jsxs(Flex,{justifyContent:"space-between",marginBottom:"10px",children:[jsxRuntimeExports.jsxs(Center,{children:[jsxRuntimeExports.jsx(BakerIcon,{marginRight:"8px"}),jsxRuntimeExports.jsx(InternalPrefix,{operation:a}),jsxRuntimeExports.jsx(TzktLink$1,{marginRight:"8px",counter:a.counter,"data-testid":"title",hash:a.hash,children:jsxRuntimeExports.jsx(Heading,{size:"md",children:_})}),jsxRuntimeExports.jsx(Fee,{operation:a})]}),jsxRuntimeExports.jsx(Flex,{alignSelf:"flex-end",children:jsxRuntimeExports.jsx(Timestamp,{timestamp:a.timestamp})})]}),jsxRuntimeExports.jsx(Box,{children:jsxRuntimeExports.jsxs(Flex,{justifyContent:"space-between",children:[jsxRuntimeExports.jsxs(Flex,{children:[a.newDelegate&&jsxRuntimeExports.jsxs(Flex,{marginRight:"15px","data-testid":"to",children:[jsxRuntimeExports.jsx(Text,{marginRight:"6px",color:colors.gray[450],children:"To:"}),jsxRuntimeExports.jsx(AddressPill,{address:a.newDelegate})]}),jsxRuntimeExports.jsxs(Flex,{"data-testid":"from",children:[jsxRuntimeExports.jsx(Text,{marginRight:"6px",color:colors.gray[450],children:"From:"}),jsxRuntimeExports.jsx(AddressPill,{address:a.sender})]})]}),jsxRuntimeExports.jsxs(Center,{children:[jsxRuntimeExports.jsx(OperationTypeWrapper,{children:_}),jsxRuntimeExports.jsx(OperationStatus,{...a})]})]})})]})},OriginationTile=({operation:a})=>{var j;const $=((j=a.originatedContract)==null?void 0:j.codeHash)===CODE_HASH&&a.originatedContract.typeHash===TYPE_HASH?"Multisig Account Created":"Contract Origination";return jsxRuntimeExports.jsxs(Flex,{flexDirection:"column",width:"100%","data-testid":"operation-tile-origination",children:[jsxRuntimeExports.jsxs(Flex,{justifyContent:"space-between",marginBottom:"10px",children:[jsxRuntimeExports.jsxs(Center,{children:[jsxRuntimeExports.jsx(ContractIcon,{marginRight:"8px"}),jsxRuntimeExports.jsx(InternalPrefix,{operation:a}),jsxRuntimeExports.jsx(TzktLink$1,{marginRight:"8px",counter:a.counter,"data-testid":"title",hash:a.hash,children:jsxRuntimeExports.jsx(Heading,{size:"md",children:$})}),jsxRuntimeExports.jsx(Fee,{operation:a})]}),jsxRuntimeExports.jsx(Flex,{alignSelf:"flex-end",children:jsxRuntimeExports.jsx(Timestamp,{timestamp:a.timestamp})})]}),jsxRuntimeExports.jsx(Box,{children:jsxRuntimeExports.jsxs(Flex,{justifyContent:"space-between",children:[jsxRuntimeExports.jsxs(Flex,{"data-testid":"from",children:[jsxRuntimeExports.jsx(Text,{marginRight:"6px",color:colors.gray[450],children:"From:"}),jsxRuntimeExports.jsx(AddressPill,{address:a.sender})]}),jsxRuntimeExports.jsxs(Center,{children:[jsxRuntimeExports.jsx(OperationTypeWrapper,{children:"Contract Origination"}),jsxRuntimeExports.jsx(OperationStatus,{...a})]})]})})]})},TransactionDirectionIcon=({destination:a,..._})=>a==="outgoing"?jsxRuntimeExports.jsx(OutgoingArrow,{"data-testid":"outgoing-arrow",..._}):a==="incoming"?jsxRuntimeExports.jsx(IncomingArrow,{"data-testid":"incoming-arrow",..._}):jsxRuntimeExports.jsx(ContractIcon,{"data-testid":"unrelated-operation-icon",..._}),TokenTransferTile=({operation:a,tokenTransfer:_,token:$})=>{var at,ut;const j=_.amount,et=useGetOperationDestination((at=_.from)==null?void 0:at.address,(ut=_.to)==null?void 0:ut.address),tt=$.type==="nft",rt=tokenPrettyAmount(j,$,{showSymbol:!0}),nt=operationColor(et),it=tt?"white":nt,st=operationSign(et),ot=tt?jsxRuntimeExports.jsx(Tooltip,{padding:"8px",background:colors.gray[700],border:"1px solid",borderColor:colors.gray[500],borderRadius:"8px","data-testid":"nft-tooltip",label:jsxRuntimeExports.jsx(AspectRatio,{width:"170px",height:"170px",ratio:1,children:jsxRuntimeExports.jsx(Image$1,{src:getIPFSurl(thumbnailUri($))})}),openDelay:300,children:jsxRuntimeExports.jsxs(Center,{children:[jsxRuntimeExports.jsx(InternalPrefix,{operation:a||_}),jsxRuntimeExports.jsxs(TzktLink$1,{marginRight:"8px",color:it,"data-testid":"title",migrationId:_.migrationId,originationId:_.originationId,transactionId:_.transactionId,children:[jsxRuntimeExports.jsxs(Text,{display:"inline",color:nt,fontWeight:"600",children:[st,rt]}),jsxRuntimeExports.jsxs(Text,{display:"inline",fontWeight:"600",children:[" ",tokenNameSafe($)]})]})]})}):jsxRuntimeExports.jsxs(Center,{children:[jsxRuntimeExports.jsx(InternalPrefix,{operation:a||_}),jsxRuntimeExports.jsx(TzktLink$1,{marginRight:"8px",color:it,"data-testid":"title",migrationId:_.migrationId,originationId:_.originationId,transactionId:_.transactionId,children:jsxRuntimeExports.jsxs(Text,{display:"inline",color:nt,fontWeight:"600",children:[st,rt]})})]});return jsxRuntimeExports.jsxs(Flex,{flexDirection:"column",width:"100%","data-testid":"operation-tile-token-transfer",children:[jsxRuntimeExports.jsxs(Flex,{justifyContent:"space-between",marginBottom:"10px",children:[jsxRuntimeExports.jsxs(Center,{children:[jsxRuntimeExports.jsx(TransactionDirectionIcon,{marginRight:"8px",destination:et}),ot,a&&jsxRuntimeExports.jsx(Fee,{operation:a})]}),jsxRuntimeExports.jsx(Flex,{alignSelf:"flex-end",children:jsxRuntimeExports.jsx(Timestamp,{timestamp:_.timestamp})})]}),jsxRuntimeExports.jsx(Box,{children:jsxRuntimeExports.jsxs(Flex,{justifyContent:"space-between",children:[jsxRuntimeExports.jsxs(Flex,{children:[_.to&&jsxRuntimeExports.jsxs(Flex,{marginRight:"15px","data-testid":"to",children:[jsxRuntimeExports.jsx(Text,{marginRight:"6px",color:colors.gray[450],children:"To:"}),jsxRuntimeExports.jsx(AddressPill,{address:_.to})]}),_.from&&jsxRuntimeExports.jsxs(Flex,{"data-testid":"from",children:[jsxRuntimeExports.jsx(Text,{marginRight:"6px",color:colors.gray[450],children:"From:"}),jsxRuntimeExports.jsx(AddressPill,{address:_.from})]})]}),jsxRuntimeExports.jsxs(Center,{children:[jsxRuntimeExports.jsx(OperationTypeWrapper,{children:"Token Transfer"}),jsxRuntimeExports.jsx(OperationStatus,{level:_.level})]})]})})]})},TransactionTile=({operation:a})=>{var tt;const _=useGetOperationDestination(a.sender.address,(tt=a.target)==null?void 0:tt.address),$=prettyTezAmount(String(a.amount)),j=operationColor(_),et=operationSign(_);return jsxRuntimeExports.jsxs(Flex,{flexDirection:"column",width:"100%","data-testid":"operation-tile-transaction",children:[jsxRuntimeExports.jsxs(Flex,{justifyContent:"space-between",marginBottom:"10px",children:[jsxRuntimeExports.jsxs(Center,{children:[jsxRuntimeExports.jsx(TransactionDirectionIcon,{marginRight:"8px",destination:_}),jsxRuntimeExports.jsx(InternalPrefix,{operation:a}),jsxRuntimeExports.jsx(TzktLink$1,{marginRight:"8px",color:j,counter:a.counter,"data-testid":"title",hash:a.hash,children:jsxRuntimeExports.jsxs(Text,{color:j,fontWeight:"600",children:[et," ",$]})}),jsxRuntimeExports.jsx(Fee,{operation:a})]}),jsxRuntimeExports.jsx(Flex,{alignSelf:"flex-end",children:jsxRuntimeExports.jsx(Timestamp,{timestamp:a.timestamp})})]}),jsxRuntimeExports.jsx(Box,{children:jsxRuntimeExports.jsxs(Flex,{justifyContent:"space-between",children:[jsxRuntimeExports.jsxs(Flex,{children:[a.target&&jsxRuntimeExports.jsxs(Flex,{marginRight:"15px","data-testid":"to",children:[jsxRuntimeExports.jsx(Text,{marginRight:"6px",color:colors.gray[450],children:"To:"}),jsxRuntimeExports.jsx(AddressPill,{address:parsePkh(a.target.address)})]}),jsxRuntimeExports.jsxs(Flex,{"data-testid":"from",children:[jsxRuntimeExports.jsx(Text,{marginRight:"6px",color:colors.gray[450],children:"From:"}),jsxRuntimeExports.jsx(AddressPill,{address:parsePkh(a.sender.address)})]})]}),jsxRuntimeExports.jsxs(Center,{children:[jsxRuntimeExports.jsx(OperationTypeWrapper,{children:"Transaction"}),jsxRuntimeExports.jsx(OperationStatus,{...a})]})]})})]})},OperationTile=({operation:a})=>{const _=useGetTokenTransfer();switch(a.type){case"token_transfer":{const $=fromRaw$1(a.token);return $?jsxRuntimeExports.jsx(TokenTransferTile,{token:$,tokenTransfer:a}):(console.warn(`Could not parse token transfer ${a.id}`),null)}case"transaction":{const $=!!a.parameter,j=_(a.id);if(j){const et=fromRaw$1(j.token);return et?jsxRuntimeExports.jsx(TokenTransferTile,{operation:a,token:et,tokenTransfer:j}):jsxRuntimeExports.jsx(TransactionTile,{operation:a})}else return $?jsxRuntimeExports.jsx(ContractCallTile,{operation:a}):jsxRuntimeExports.jsx(TransactionTile,{operation:a})}case"delegation":return jsxRuntimeExports.jsx(DelegationTile,{operation:a});case"origination":return jsxRuntimeExports.jsx(OriginationTile,{operation:a})}},MAX_OPERATIONS_SIZE=20,OperationListDisplay=({owner:a,operations:_})=>{if(_.length===0)return jsxRuntimeExports.jsx(NoOperations,{size:"md"});const $=_.slice(0,MAX_OPERATIONS_SIZE);return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[$.map((j,et)=>jsxRuntimeExports.jsxs(Box,{height:"90px",children:[jsxRuntimeExports.jsx(OperationTile,{operation:j}),et<$.length-1&&jsxRuntimeExports.jsx(Divider,{marginY:"20px"})]},j.id)),_.length>MAX_OPERATIONS_SIZE&&jsxRuntimeExports.jsx(ViewAllLink,{owner:a,to:"/operations"})]})},verifiedTokens=["KT1XnTn74bUtxHfDtBmm2bGZAQfhPbvKWR8o","KT1PWx2mnDueood7fEmfbBDKx1D9BAnnXitn","KT1XRPEPXbZK25r3Htzp2o1x7xdMMmfocKNW","KT1XRPEPXbZK25r3Htzp2o1x7xdMMmfocKNW","KT1XRPEPXbZK25r3Htzp2o1x7xdMMmfocKNW","KT1K9gCRgaLRFKTErYt1wVxA3Frb9FjasjTV","KT1Ha4yFVeyzw6KRAdkzq6TxDHB97KG4pZe8","KT1JBNFcB5tiycHNdYGYCtR3kk6JaJysUCi8","KT1Xobej4mc6XgEjDoJoHtTKgbD1ELMvcQuL","KT1JVjgXPMMSaa6FkzeJcgb8q9cUaLmwaJUX","KT193D4vozYnhGJQVtw7CoxxqphqUEEwK6Vb","KT1LN4LPSqTMS7Sd2CJw4bbDGRkMv2t68Fy9","KT1914CUZ7EegAFPbfgQMRkw8Uz5mYkEz2ui","KT1UsSfaXyqcjSVPeiD7U1bWgKy3taYN7NWY","KT19ovJhcsUn4YU8Q5L3BGovKSixfbWcecEA","KT1TgmD7kXQzofpuc9VbTRMdZCS2e6JDuTtc","KT1F1mn2jbqQCJcsNgYKVAQjvenecNMY2oPK","KT1ErKVqEhG9jxXgUG2KGLW3bNM7zXHX8SDF","KT1A5P4ejnLix13jtadsfV9GCnXLMNnab8UT","KT1AM3PV1cwmGRw28DVTgsjjsjHvmL6z4rGh","KT1UsSfaXyqcjSVPeiD7U1bWgKy3taYN7NWY","KT1SjXiUX63QvdNMcM2m492f7kuf8JxXRLp4","KT1MZg99PxMDEENwB4Fi64xkqAVh5d1rv8Z9","KT1UsSfaXyqcjSVPeiD7U1bWgKy3taYN7NWY","KT1XTxpQvo7oRCqp85LikEZgAZ22uDxhbWJv","KT1VaEsVNiBoA56eToEK6n6BcPgh1tdx9eXi"],TokenNameWithIcon=({token:a,..._})=>{const $=verifiedTokens.includes(a.contract);return jsxRuntimeExports.jsxs(Flex,{alignItems:"center",children:[jsxRuntimeExports.jsx(Text,{..._,marginRight:"4px",children:tokenNameSafe(a)}),$&&jsxRuntimeExports.jsx(VerifiedIcon,{})]})},MAX_TOKENS_SIZE=20,TokenList=({owner:a,tokens:_})=>{if(_.length===0)return jsxRuntimeExports.jsx(NoTokens,{size:"md"});const $=_.slice(0,MAX_TOKENS_SIZE);return jsxRuntimeExports.jsxs(Box,{children:[$.map(j=>jsxRuntimeExports.jsx(TokenTile$1,{token:j},fullId(j))),_.length>MAX_TOKENS_SIZE&&jsxRuntimeExports.jsx(ViewAllLink,{owner:a,to:"/tokens"})]})},TokenTile$1=({token:a})=>{const _=tokenPrettyAmount(a.balance,a,{showSymbol:!1});return jsxRuntimeExports.jsxs(Flex,{alignItems:"center",justifyContent:"space-around",height:20,borderBottom:`1px solid ${colors.gray[800]}`,"data-testid":"token-tile",children:[jsxRuntimeExports.jsxs(Flex,{alignItems:"center",flex:1,children:[jsxRuntimeExports.jsx(TokenIcon,{width:"38px",background:colors.gray[500],borderRadius:"4px",contract:a.contract}),jsxRuntimeExports.jsx(Box,{marginLeft:"16px",children:jsxRuntimeExports.jsx(TokenNameWithIcon,{fontWeight:600,"data-testid":"token-name",token:a})})]}),jsxRuntimeExports.jsx(Heading,{"data-testid":"token-balance",size:"lg",children:_})]})},buildTzktAddressUrl=(a,_)=>`${a.tzktExplorerUrl}/${_}`,useGetOperations=a=>{const _=useSelectedNetwork(),$=useAppDispatch(),j=useRefetchTrigger(),et=useReactQueryErrorHandler(),{isFetching:tt,data:rt,hasNextPage:nt,isLoading:it,fetchNextPage:st,fetchPreviousPage:ot,error:at}=useInfiniteQuery({queryFn:({pageParam:ut})=>fetchOperationsAndUpdateTokensInfo($,_,a,ut),queryKey:["operations",a,$,_],initialPageParam:{},retry:3,retryDelay:ut=>ut*2e3,gcTime:0,refetchOnWindowFocus:!1,getNextPageParam:ut=>ut.length===0?null:{lastId:ut[ut.length-1].id},getPreviousPageParam:(ut,ht)=>{var wt;const yt=(wt=lodashExports.maxBy(ht.flat(),"id"))==null?void 0:wt.id;return yt?{lastId:yt,sort:"asc"}:{}},select:({pages:ut})=>filterDuplicatedTokenTransfers([[...ut[0]].sort((ht,yt)=>ht.id<yt.id?1:-1),...ut.slice(1)].flat())});return et(at),reactExports.useEffect(()=>{const ut=setInterval(()=>void ot(),BLOCK_TIME);return()=>clearInterval(ut)},[ot]),reactExports.useEffect(()=>{ot()},[j,ot]),{operations:rt||[],isFirstLoad:it,isLoading:tt,hasMore:nt,loadMore:st}},fetchOperationsAndUpdateTokensInfo=async(a,_,$,j)=>{const et=await getCombinedOperations($.map(st=>st.address.pkh),_,j),tt=et.filter(st=>st.type==="transaction").map(st=>st.id),rt=await getRelatedTokenTransfers(tt,_),nt=et.filter(st=>st.type==="token_transfer"),it=[...rt,...nt];return a(assetsActions.updateTokenTransfers(it)),a(tokensActions.addTokens({network:_,tokens:it.map(st=>st.token)})),et},filterDuplicatedTokenTransfers=a=>{const _=new Set(a.filter($=>$.type!=="token_transfer").map($=>$.id));return a.filter($=>$.type!=="token_transfer"||!_.has($.transactionId))},SmallTab=({children:a,..._})=>jsxRuntimeExports.jsx(Tab,{..._,fontSize:"sm",paddingX:3,children:a}),AssetsPanel=({tokens:a,nfts:_,account:$,delegation:j})=>{const et=useGetPendingMultisigOperations(),tt=$.type==="multisig"&&et($).length>0,rt=useSelectedNetwork(),{operations:nt,isFirstLoad:it}=useGetOperations([$]);return jsxRuntimeExports.jsxs(Tabs,{flexDirection:"column",display:"flex",width:"100%",marginTop:"60px","data-testid":"asset-panel",children:[jsxRuntimeExports.jsxs(TabList,{justifyContent:"space-between","data-testid":"asset-panel-tablist",children:[jsxRuntimeExports.jsxs(Flex,{children:[tt&&jsxRuntimeExports.jsxs(SmallTab,{"data-testid":"account-card-pending-tab",children:[jsxRuntimeExports.jsx(Text,{children:"Pending"}),jsxRuntimeExports.jsx(Box,{width:"6px",height:"6px",marginTop:"-7px",marginRight:"-3px",marginLeft:"3px",borderRadius:"100%",backgroundColor:colors.orangeL})]}),jsxRuntimeExports.jsx(SmallTab,{"data-testid":"account-card-operations-tab",children:"Operations"}),jsxRuntimeExports.jsx(SmallTab,{"data-testid":"account-card-delegation-tab",children:"Delegation"}),jsxRuntimeExports.jsx(SmallTab,{"data-testid":"account-card-nfts-tab",children:"NFTs"}),jsxRuntimeExports.jsx(SmallTab,{"data-testid":"account-card-tokens-tab",children:"Tokens"})]}),jsxRuntimeExports.jsx(ExternalLink,{href:buildTzktAddressUrl(rt,$.address.pkh),children:jsxRuntimeExports.jsxs(Button,{paddingRight:0,variant:"CTAWithIcon",children:[jsxRuntimeExports.jsx(Text,{marginRight:"7px",size:"sm",children:"View on Tzkt"}),jsxRuntimeExports.jsx(ExternalLinkIcon,{stroke:"currentcolor"})]})})]}),jsxRuntimeExports.jsxs(TabPanels,{height:"100%",children:[tt&&jsxRuntimeExports.jsx(TabPanel,{overflowX:"hidden",height:"100%",paddingTop:"24px",paddingBottom:"60px","data-testid":"account-card-pending-tab-panel",paddingX:"0",children:jsxRuntimeExports.jsx(MultisigPendingOperations,{account:$})}),jsxRuntimeExports.jsx(TabPanel,{overflowX:"hidden",height:"100%",paddingTop:"24px",paddingBottom:"60px","data-testid":"account-card-operations-tab-panel",paddingX:"0",children:jsxRuntimeExports.jsxs(OperationTileContext.Provider,{value:{mode:"drawer",selectedAddress:$.address},children:[jsxRuntimeExports.jsx(Center,{display:it?"flex":"none",height:"50px",children:jsxRuntimeExports.jsx(Image$1,{width:"150px",height:"75px",src:"./static/media/loading-wheel.gif"})}),!it&&jsxRuntimeExports.jsx(OperationListDisplay,{operations:nt,owner:$.address.pkh})]})}),jsxRuntimeExports.jsx(TabPanel,{overflowX:"hidden",paddingTop:"24px","data-testid":"account-card-delegation-tab-panel",paddingX:"0",children:jsxRuntimeExports.jsx(DelegationDisplay,{account:$,delegation:j})}),jsxRuntimeExports.jsx(TabPanel,{overflowX:"hidden",height:"100%",paddingTop:"24px",paddingBottom:0,"data-testid":"account-card-nfts-tab-panel",paddingX:"0",children:jsxRuntimeExports.jsx(NFTsGrid,{columns:3,nfts:_,owner:$.address.pkh})}),jsxRuntimeExports.jsx(TabPanel,{overflowX:"hidden",height:"100%",paddingTop:"24px","data-testid":"account-card-tokens-tab-panel",paddingX:"0",children:jsxRuntimeExports.jsx(TokenList,{owner:$.address.pkh,tokens:a})})]})]})},MultisigApprovers=({signers:a})=>jsxRuntimeExports.jsx(Box,{width:"100%",marginTop:"40px",marginBottom:"-20px",background:colors.gray[800],borderRadius:"8px",children:jsxRuntimeExports.jsx(Accordion,{padding:"15px",allowToggle:!0,children:jsxRuntimeExports.jsxs(AccordionItem,{background:colors.gray[800],border:"none",borderRadius:"8px",children:[jsxRuntimeExports.jsxs(AccordionButton,{as:"span",flex:"1",padding:"0",textAlign:"left",cursor:"pointer",children:[jsxRuntimeExports.jsx(Heading,{width:"100%",size:"md",children:"Approvers"}),jsxRuntimeExports.jsx(AccordionIcon,{cursor:"pointer"})]}),jsxRuntimeExports.jsx(AccordionPanel,{padding:"0",children:jsxRuntimeExports.jsx(Wrap,{marginTop:"20px","data-testid":"multisig-tag-section",spacingX:"0",spacingY:"12px",children:a.map(_=>jsxRuntimeExports.jsx(AddressPill,{marginRight:"12px",address:_},_.pkh))})})]})})}),renameAccount=(a,_)=>($,j)=>{const{accounts:et,multisigs:tt,contacts:rt}=j(),nt=a.type==="multisig",it=et.items.map(at=>at.label),st=tt.items.map(at=>at.label),ot=Object.values(rt).map(at=>at.name);[it,st,ot].flat().includes(_)||$(nt?multisigsSlice.actions.setName({newName:_,account:a}):accountsSlice.actions.renameAccount({newName:_,account:a}))},RenameAccountModal=({account:a})=>{const _=useAppDispatch(),{onClose:$}=reactExports.useContext(DynamicModalContext),j=({name:at})=>{_(renameAccount(a,at)),$()},{handleSubmit:et,formState:{isValid:tt,errors:rt},register:nt,reset:it}=useForm({mode:"onBlur",defaultValues:{name:a.label}}),st=({name:at})=>{j({name:at.trim()}),it()},ot=useValidateName(a.label);return jsxRuntimeExports.jsx(ModalContent,{children:jsxRuntimeExports.jsxs("form",{onSubmit:et(st),children:[jsxRuntimeExports.jsx(FormPageHeader,{subTitle:"Edit your account name here.",title:"Edit Name"}),jsxRuntimeExports.jsx(ModalCloseButton,{}),jsxRuntimeExports.jsx(ModalBody,{children:jsxRuntimeExports.jsxs(FormControl,{isInvalid:!!rt.name,marginY:"20px",children:[jsxRuntimeExports.jsx(FormLabel,{children:"Account name"}),jsxRuntimeExports.jsx(Input,{type:"text",...nt("name",{required:"Name is required",validate:ot}),placeholder:"Enter contact's name"}),rt.name&&jsxRuntimeExports.jsx(FormErrorMessage$1,{"data-testid":"name-error",children:rt.name.message})]})}),jsxRuntimeExports.jsx(ModalFooter,{children:jsxRuntimeExports.jsx(Button,{width:"100%",marginBottom:"8px",isDisabled:!tt,size:"lg",type:"submit",children:"Save"})})]})})},RenameRemoveMenuSwitch=({account:a})=>{const{openWith:_,onClose:$}=reactExports.useContext(DynamicModalContext),j=useNavigate(),et=useImplicitAccounts().length===1,tt=useRemoveAccount();let rt;switch(a.type){case"secret_key":case"ledger":case"social":rt=()=>_(jsxRuntimeExports.jsx(ConfirmationModal,{buttonLabel:st,description:it,onSubmit:()=>{tt(a),$(),j("/")},title:nt}));break}const nt="Remove Account";let it="Are you sure you want to remove this account?",st="Remove Account";return et&&(it="Removing your last account will off-board you from Umami. This will remove or reset all customized settings to their defaults. Personal data (including saved contacts, password and accounts) won't be affected.",st="Remove & Off-board"),jsxRuntimeExports.jsx(RenameRemoveMenu,{onRemove:rt,onRename:()=>_(jsxRuntimeExports.jsx(RenameAccountModal,{account:a}))})},makeDelegation=a=>a.newDelegate?{sender:a.sender.address,timestamp:a.timestamp,id:a.id,amount:new BigNumber(a.amount),delegate:{address:a.newDelegate.address,alias:a.newDelegate.alias??void 0}}:null,TezRecapDisplay=a=>jsxRuntimeExports.jsxs(Box,{textAlign:a.center?"center":"initial",children:[jsxRuntimeExports.jsx(Heading,{size:"md",children:prettyTezAmount(a.balance)}),a.dollarBalance!==void 0&&jsxRuntimeExports.jsxs(Text,{marginTop:"6px",color:colors.gray[400],size:"sm",children:["$",a.dollarBalance.toFixed(2)]})]}),RoundButton=({icon:a,label:_,onClick:$=()=>{}})=>jsxRuntimeExports.jsxs(Box,{className:"account-drawer-cta-button",color:colors.gray[300],textAlign:"center",_hover:{color:colors.green},cursor:"pointer",marginX:"24px",onClick:$,children:[jsxRuntimeExports.jsx(IconButton,{className:"account-drawer-cta-button-icon",marginBottom:"8px","aria-label":"button",icon:a,size:"lg",variant:"circle_without_color"}),jsxRuntimeExports.jsx(Text,{cursor:"pointer",size:"sm",children:_})]}),AccountDrawerDisplay=({onSend:a,onReceive:_=()=>{},balance:$,dollarBalance:j,tokens:et,nfts:tt,account:rt})=>{const nt=rt.type==="multisig",{openWith:it}=reactExports.useContext(DynamicModalContext),st=useAddressKind$1(rt.address),ot=useSelectedNetwork(),[at,ut]=reactExports.useState(null),{handleAsyncAction:ht}=useAsyncActionHandler();return reactExports.useEffect(()=>{ht(async()=>{const yt=await getLastDelegation(rt.address.pkh,ot);yt&&ut(makeDelegation(yt))}).catch(lodashExports.noop)},[rt.address.pkh,ht,ot]),jsxRuntimeExports.jsxs(Flex,{zIndex:2,alignItems:"center",flexDirection:"column",height:"100%",marginTop:"-86px",paddingTop:"86px",paddingRight:"30px",background:accountIconGradient({account:rt,radius:"350px",opacity:"35",mainBackgroundColor:"transparent",left:"300px",top:"-125px"}),"data-testid":`account-card-${rt.address.pkh}`,children:[jsxRuntimeExports.jsx(AccountTileIcon,{addressKind:st}),jsxRuntimeExports.jsx(Heading,{marginTop:"24px",size:"md",children:rt.label}),jsxRuntimeExports.jsxs(Flex,{alignItems:"center",marginTop:"8px",marginBottom:"30px",children:[jsxRuntimeExports.jsx(AddressPill,{marginRight:"4px",address:rt.address,mode:{type:"no_icons"}}),jsxRuntimeExports.jsx(RenameRemoveMenuSwitch,{account:rt})]}),$&&jsxRuntimeExports.jsx(TezRecapDisplay,{balance:$,center:!0,dollarBalance:j}),jsxRuntimeExports.jsxs(Center,{marginTop:"34px",children:[jsxRuntimeExports.jsx(RoundButton,{icon:jsxRuntimeExports.jsx(OutgoingArrow,{width:"24px",height:"24px",stroke:"currentcolor"}),label:"Send",onClick:a}),jsxRuntimeExports.jsx(RoundButton,{icon:jsxRuntimeExports.jsx(IncomingArrow,{width:"24px",height:"24px",stroke:"currentcolor"}),label:"Receive",onClick:_}),!nt&&jsxRuntimeExports.jsx(RoundButton,{icon:jsxRuntimeExports.jsx(PlusIcon,{stroke:"currentcolor"}),label:"Buy Tez",onClick:()=>it(jsxRuntimeExports.jsx(BuyTezForm,{recipient:rt.address.pkh}))}),jsxRuntimeExports.jsx(RoundButton,{icon:jsxRuntimeExports.jsx(BakerIcon,{width:"24px",height:"24px",stroke:"currentcolor"}),label:"Delegate",onClick:()=>it(jsxRuntimeExports.jsx(FormPage$3,{form:at?{baker:at.delegate.address,sender:rt.address.pkh}:void 0,sender:rt}))})]}),nt&&jsxRuntimeExports.jsx(MultisigApprovers,{signers:rt.signers}),jsxRuntimeExports.jsx(AssetsPanel,{account:rt,delegation:at,nfts:tt,tokens:et})]})};var dist={},lodash_isequal={exports:{}};lodash_isequal.exports;(function(a,_){var $=200,j="__lodash_hash_undefined__",et=1,tt=2,rt=9007199254740991,nt="[object Arguments]",it="[object Array]",st="[object AsyncFunction]",ot="[object Boolean]",at="[object Date]",ut="[object Error]",ht="[object Function]",yt="[object GeneratorFunction]",wt="[object Map]",Ct="[object Number]",Pt="[object Null]",Tt="[object Object]",Mt="[object Promise]",Lt="[object Proxy]",Dt="[object RegExp]",Ut="[object Set]",Ot="[object String]",It="[object Symbol]",Bt="[object Undefined]",Ft="[object WeakMap]",jt="[object ArrayBuffer]",bt="[object DataView]",vt="[object Float32Array]",ct="[object Float64Array]",dt="[object Int8Array]",mt="[object Int16Array]",xt="[object Int32Array]",At="[object Uint8Array]",Rt="[object Uint8ClampedArray]",St="[object Uint16Array]",$t="[object Uint32Array]",Et=/[\\^$.*+?()[\]{}|]/g,Nt=/^\[object .+?Constructor\]$/,tr=/^(?:0|[1-9]\d*)$/,ir={};ir[vt]=ir[ct]=ir[dt]=ir[mt]=ir[xt]=ir[At]=ir[Rt]=ir[St]=ir[$t]=!0,ir[nt]=ir[it]=ir[jt]=ir[ot]=ir[bt]=ir[at]=ir[ut]=ir[ht]=ir[wt]=ir[Ct]=ir[Tt]=ir[Dt]=ir[Ut]=ir[Ot]=ir[Ft]=!1;var nr=typeof commonjsGlobal=="object"&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal,Zt=typeof self=="object"&&self&&self.Object===Object&&self,Kt=nr||Zt||Function("return this")(),Qt=_&&!_.nodeType&&_,Ht=Qt&&!0&&a&&!a.nodeType&&a,qt=Ht&&Ht.exports===Qt,Jt=qt&&nr.process,ur=function(){try{return Jt&&Jt.binding&&Jt.binding("util")}catch{}}(),xr=ur&&ur.isTypedArray;function pr(wr,Xt){for(var cr=-1,gr=wr==null?0:wr.length,Dr=0,rn=[];++cr<gr;){var xn=wr[cr];Xt(xn,cr,wr)&&(rn[Dr++]=xn)}return rn}function Cr(wr,Xt){for(var cr=-1,gr=Xt.length,Dr=wr.length;++cr<gr;)wr[Dr+cr]=Xt[cr];return wr}function Mr(wr,Xt){for(var cr=-1,gr=wr==null?0:wr.length;++cr<gr;)if(Xt(wr[cr],cr,wr))return!0;return!1}function lr(wr,Xt){for(var cr=-1,gr=Array(wr);++cr<wr;)gr[cr]=Xt(cr);return gr}function fr(wr){return function(Xt){return wr(Xt)}}function _r(wr,Xt){return wr.has(Xt)}function Rr(wr,Xt){return wr==null?void 0:wr[Xt]}function kr(wr){var Xt=-1,cr=Array(wr.size);return wr.forEach(function(gr,Dr){cr[++Xt]=[Dr,gr]}),cr}function Ar(wr,Xt){return function(cr){return wr(Xt(cr))}}function Pr(wr){var Xt=-1,cr=Array(wr.size);return wr.forEach(function(gr){cr[++Xt]=gr}),cr}var Or=Array.prototype,Lr=Function.prototype,or=Object.prototype,Yt=Kt["__core-js_shared__"],er=Lr.toString,Gt=or.hasOwnProperty,Vt=function(){var wr=/[^.]+$/.exec(Yt&&Yt.keys&&Yt.keys.IE_PROTO||"");return wr?"Symbol(src)_1."+wr:""}(),Wt=or.toString,ar=RegExp("^"+er.call(Gt).replace(Et,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),yr=qt?Kt.Buffer:void 0,Er=Kt.Symbol,Sr=Kt.Uint8Array,Wr=or.propertyIsEnumerable,Hr=Or.splice,Fr=Er?Er.toStringTag:void 0,pn=Object.getOwnPropertySymbols,Jr=yr?yr.isBuffer:void 0,Qr=Ar(Object.keys,Object),mn=Bs(Kt,"DataView"),ln=Bs(Kt,"Map"),qr=Bs(Kt,"Promise"),En=Bs(Kt,"Set"),un=Bs(Kt,"WeakMap"),Vr=Bs(Object,"create"),hn=Ls(mn),fn=Ls(ln),Kr=Ls(qr),Rn=Ls(En),dn=Ls(un),Gr=Er?Er.prototype:void 0,gn=Gr?Gr.valueOf:void 0;function an(wr){var Xt=-1,cr=wr==null?0:wr.length;for(this.clear();++Xt<cr;){var gr=wr[Xt];this.set(gr[0],gr[1])}}function Zr(){this.__data__=Vr?Vr(null):{},this.size=0}function An(wr){var Xt=this.has(wr)&&delete this.__data__[wr];return this.size-=Xt?1:0,Xt}function Sn(wr){var Xt=this.__data__;if(Vr){var cr=Xt[wr];return cr===j?void 0:cr}return Gt.call(Xt,wr)?Xt[wr]:void 0}function nn(wr){var Xt=this.__data__;return Vr?Xt[wr]!==void 0:Gt.call(Xt,wr)}function Pn(wr,Xt){var cr=this.__data__;return this.size+=this.has(wr)?0:1,cr[wr]=Vr&&Xt===void 0?j:Xt,this}an.prototype.clear=Zr,an.prototype.delete=An,an.prototype.get=Sn,an.prototype.has=nn,an.prototype.set=Pn;function yn(wr){var Xt=-1,cr=wr==null?0:wr.length;for(this.clear();++Xt<cr;){var gr=wr[Xt];this.set(gr[0],gr[1])}}function _n(){this.__data__=[],this.size=0}function ds(wr){var Xt=this.__data__,cr=Eo(Xt,wr);if(cr<0)return!1;var gr=Xt.length-1;return cr==gr?Xt.pop():Hr.call(Xt,cr,1),--this.size,!0}function fs(wr){var Xt=this.__data__,cr=Eo(Xt,wr);return cr<0?void 0:Xt[cr][1]}function hs(wr){return Eo(this.__data__,wr)>-1}function ps(wr,Xt){var cr=this.__data__,gr=Eo(cr,wr);return gr<0?(++this.size,cr.push([wr,Xt])):cr[gr][1]=Xt,this}yn.prototype.clear=_n,yn.prototype.delete=ds,yn.prototype.get=fs,yn.prototype.has=hs,yn.prototype.set=ps;function Vn(wr){var Xt=-1,cr=wr==null?0:wr.length;for(this.clear();++Xt<cr;){var gr=wr[Xt];this.set(gr[0],gr[1])}}function ss(){this.size=0,this.__data__={hash:new an,map:new(ln||yn),string:new an}}function Jn(wr){var Xt=Ys(this,wr).delete(wr);return this.size-=Xt?1:0,Xt}function Yn(wr){return Ys(this,wr).get(wr)}function ms(wr){return Ys(this,wr).has(wr)}function Qn(wr,Xt){var cr=Ys(this,wr),gr=cr.size;return cr.set(wr,Xt),this.size+=cr.size==gr?0:1,this}Vn.prototype.clear=ss,Vn.prototype.delete=Jn,Vn.prototype.get=Yn,Vn.prototype.has=ms,Vn.prototype.set=Qn;function es(wr){var Xt=-1,cr=wr==null?0:wr.length;for(this.__data__=new Vn;++Xt<cr;)this.add(wr[Xt])}function ls(wr){return this.__data__.set(wr,j),this}function us(wr){return this.__data__.has(wr)}es.prototype.add=es.prototype.push=ls,es.prototype.has=us;function Wn(wr){var Xt=this.__data__=new yn(wr);this.size=Xt.size}function as(){this.__data__=new yn,this.size=0}function gs(wr){var Xt=this.__data__,cr=Xt.delete(wr);return this.size=Xt.size,cr}function vs(wr){return this.__data__.get(wr)}function $s(wr){return this.__data__.has(wr)}function Ts(wr,Xt){var cr=this.__data__;if(cr instanceof yn){var gr=cr.__data__;if(!ln||gr.length<$-1)return gr.push([wr,Xt]),this.size=++cr.size,this;cr=this.__data__=new Vn(gr)}return cr.set(wr,Xt),this.size=cr.size,this}Wn.prototype.clear=as,Wn.prototype.delete=gs,Wn.prototype.get=vs,Wn.prototype.has=$s,Wn.prototype.set=Ts;function yl(wr,Xt){var cr=fo(wr),gr=!cr&&$l(wr),Dr=!cr&&!gr&&$o(wr),rn=!cr&&!gr&&!Dr&&Bo(wr),xn=cr||gr||Dr||rn,$n=xn?lr(wr.length,String):[],cn=$n.length;for(var wn in wr)Gt.call(wr,wn)&&!(xn&&(wn=="length"||Dr&&(wn=="offset"||wn=="parent")||rn&&(wn=="buffer"||wn=="byteLength"||wn=="byteOffset")||Rl(wn,cn)))&&$n.push(wn);return $n}function Eo(wr,Xt){for(var cr=wr.length;cr--;)if(uo(wr[cr][0],Xt))return cr;return-1}function Wo(wr,Xt,cr){var gr=Xt(wr);return fo(wr)?gr:Cr(gr,cr(wr))}function wo(wr){return wr==null?wr===void 0?Bt:Pt:Fr&&Fr in Object(wr)?wl(wr):Ao(wr)}function Go(wr){return Po(wr)&&wo(wr)==nt}function So(wr,Xt,cr,gr,Dr){return wr===Xt?!0:wr==null||Xt==null||!Po(wr)&&!Po(Xt)?wr!==wr&&Xt!==Xt:Zs(wr,Xt,cr,gr,So,Dr)}function Zs(wr,Xt,cr,gr,Dr,rn){var xn=fo(wr),$n=fo(Xt),cn=xn?it:Ms(wr),wn=$n?it:Ms(Xt);cn=cn==nt?Tt:cn,wn=wn==nt?Tt:wn;var Bn=cn==Tt,Fn=wn==Tt,ts=cn==wn;if(ts&&$o(wr)){if(!$o(Xt))return!1;xn=!0,Bn=!1}if(ts&&!Bn)return rn||(rn=new Wn),xn||Bo(wr)?lo(wr,Xt,cr,gr,Dr,rn):Yl(wr,Xt,cn,cr,gr,Dr,rn);if(!(cr&et)){var _i=Bn&&Gt.call(wr,"__wrapped__"),_s=Fn&&Gt.call(Xt,"__wrapped__");if(_i||_s){var Ds=_i?wr.value():wr,ho=_s?Xt.value():Xt;return rn||(rn=new Wn),Dr(Ds,ho,cr,gr,rn)}}return ts?(rn||(rn=new Wn),El(wr,Xt,cr,gr,Dr,rn)):!1}function Ro(wr){if(!No(wr)||Tl(wr))return!1;var Xt=Is(wr)?ar:Nt;return Xt.test(Ls(wr))}function xl(wr){return Po(wr)&&Pl(wr.length)&&!!ir[wo(wr)]}function _l(wr){if(!Xs(wr))return Qr(wr);var Xt=[];for(var cr in Object(wr))Gt.call(wr,cr)&&cr!="constructor"&&Xt.push(cr);return Xt}function lo(wr,Xt,cr,gr,Dr,rn){var xn=cr&et,$n=wr.length,cn=Xt.length;if($n!=cn&&!(xn&&cn>$n))return!1;var wn=rn.get(wr);if(wn&&rn.get(Xt))return wn==Xt;var Bn=-1,Fn=!0,ts=cr&tt?new es:void 0;for(rn.set(wr,Xt),rn.set(Xt,wr);++Bn<$n;){var _i=wr[Bn],_s=Xt[Bn];if(gr)var Ds=xn?gr(_s,_i,Bn,Xt,wr,rn):gr(_i,_s,Bn,wr,Xt,rn);if(Ds!==void 0){if(Ds)continue;Fn=!1;break}if(ts){if(!Mr(Xt,function(ho,Lo){if(!_r(ts,Lo)&&(_i===ho||Dr(_i,ho,cr,gr,rn)))return ts.push(Lo)})){Fn=!1;break}}else if(!(_i===_s||Dr(_i,_s,cr,gr,rn))){Fn=!1;break}}return rn.delete(wr),rn.delete(Xt),Fn}function Yl(wr,Xt,cr,gr,Dr,rn,xn){switch(cr){case bt:if(wr.byteLength!=Xt.byteLength||wr.byteOffset!=Xt.byteOffset)return!1;wr=wr.buffer,Xt=Xt.buffer;case jt:return!(wr.byteLength!=Xt.byteLength||!rn(new Sr(wr),new Sr(Xt)));case ot:case at:case Ct:return uo(+wr,+Xt);case ut:return wr.name==Xt.name&&wr.message==Xt.message;case Dt:case Ot:return wr==Xt+"";case wt:var $n=kr;case Ut:var cn=gr&et;if($n||($n=Pr),wr.size!=Xt.size&&!cn)return!1;var wn=xn.get(wr);if(wn)return wn==Xt;gr|=tt,xn.set(wr,Xt);var Bn=lo($n(wr),$n(Xt),gr,Dr,rn,xn);return xn.delete(wr),Bn;case It:if(gn)return gn.call(wr)==gn.call(Xt)}return!1}function El(wr,Xt,cr,gr,Dr,rn){var xn=cr&et,$n=jo(wr),cn=$n.length,wn=jo(Xt),Bn=wn.length;if(cn!=Bn&&!xn)return!1;for(var Fn=cn;Fn--;){var ts=$n[Fn];if(!(xn?ts in Xt:Gt.call(Xt,ts)))return!1}var _i=rn.get(wr);if(_i&&rn.get(Xt))return _i==Xt;var _s=!0;rn.set(wr,Xt),rn.set(Xt,wr);for(var Ds=xn;++Fn<cn;){ts=$n[Fn];var ho=wr[ts],Lo=Xt[ts];if(gr)var zu=xn?gr(Lo,ho,ts,Xt,wr,rn):gr(ho,Lo,ts,wr,Xt,rn);if(!(zu===void 0?ho===Lo||Dr(ho,Lo,cr,gr,rn):zu)){_s=!1;break}Ds||(Ds=ts=="constructor")}if(_s&&!Ds){var Jl=wr.constructor,Os=Xt.constructor;Jl!=Os&&"constructor"in wr&&"constructor"in Xt&&!(typeof Jl=="function"&&Jl instanceof Jl&&typeof Os=="function"&&Os instanceof Os)&&(_s=!1)}return rn.delete(wr),rn.delete(Xt),_s}function jo(wr){return Wo(wr,Xl,Sl)}function Ys(wr,Xt){var cr=wr.__data__;return Al(Xt)?cr[typeof Xt=="string"?"string":"hash"]:cr.map}function Bs(wr,Xt){var cr=Rr(wr,Xt);return Ro(cr)?cr:void 0}function wl(wr){var Xt=Gt.call(wr,Fr),cr=wr[Fr];try{wr[Fr]=void 0;var gr=!0}catch{}var Dr=Wt.call(wr);return gr&&(Xt?wr[Fr]=cr:delete wr[Fr]),Dr}var Sl=pn?function(wr){return wr==null?[]:(wr=Object(wr),pr(pn(wr),function(Xt){return Wr.call(wr,Xt)}))}:rs,Ms=wo;(mn&&Ms(new mn(new ArrayBuffer(1)))!=bt||ln&&Ms(new ln)!=wt||qr&&Ms(qr.resolve())!=Mt||En&&Ms(new En)!=Ut||un&&Ms(new un)!=Ft)&&(Ms=function(wr){var Xt=wo(wr),cr=Xt==Tt?wr.constructor:void 0,gr=cr?Ls(cr):"";if(gr)switch(gr){case hn:return bt;case fn:return wt;case Kr:return Mt;case Rn:return Ut;case dn:return Ft}return Xt});function Rl(wr,Xt){return Xt=Xt??rt,!!Xt&&(typeof wr=="number"||tr.test(wr))&&wr>-1&&wr%1==0&&wr<Xt}function Al(wr){var Xt=typeof wr;return Xt=="string"||Xt=="number"||Xt=="symbol"||Xt=="boolean"?wr!=="__proto__":wr===null}function Tl(wr){return!!Vt&&Vt in wr}function Xs(wr){var Xt=wr&&wr.constructor,cr=typeof Xt=="function"&&Xt.prototype||or;return wr===cr}function Ao(wr){return Wt.call(wr)}function Ls(wr){if(wr!=null){try{return er.call(wr)}catch{}try{return wr+""}catch{}}return""}function uo(wr,Xt){return wr===Xt||wr!==wr&&Xt!==Xt}var $l=Go(function(){return arguments}())?Go:function(wr){return Po(wr)&&Gt.call(wr,"callee")&&!Wr.call(wr,"callee")},fo=Array.isArray;function To(wr){return wr!=null&&Pl(wr.length)&&!Is(wr)}var $o=Jr||Xn;function Ps(wr,Xt){return So(wr,Xt)}function Is(wr){if(!No(wr))return!1;var Xt=wo(wr);return Xt==ht||Xt==yt||Xt==st||Xt==Lt}function Pl(wr){return typeof wr=="number"&&wr>-1&&wr%1==0&&wr<=rt}function No(wr){var Xt=typeof wr;return wr!=null&&(Xt=="object"||Xt=="function")}function Po(wr){return wr!=null&&typeof wr=="object"}var Bo=xr?fr(xr):xl;function Xl(wr){return To(wr)?yl(wr):_l(wr)}function rs(){return[]}function Xn(){return!1}a.exports=Ps})(lodash_isequal,lodash_isequal.exports);var lodash_isequalExports=lodash_isequal.exports,qrcode={exports:{}};(function(a,_){var $=function(){var j=function(Dt,Ut){var Ot=236,It=17,Bt=Dt,Ft=tt[Ut],jt=null,bt=0,vt=null,ct=[],dt={},mt=function(Kt,Qt){bt=Bt*4+17,jt=function(Ht){for(var qt=new Array(Ht),Jt=0;Jt<Ht;Jt+=1){qt[Jt]=new Array(Ht);for(var ur=0;ur<Ht;ur+=1)qt[Jt][ur]=null}return qt}(bt),xt(0,0),xt(bt-7,0),xt(0,bt-7),St(),Rt(),Et(Kt,Qt),Bt>=7&&$t(Kt),vt==null&&(vt=ir(Bt,Ft,ct)),Nt(vt,Qt)},xt=function(Kt,Qt){for(var Ht=-1;Ht<=7;Ht+=1)if(!(Kt+Ht<=-1||bt<=Kt+Ht))for(var qt=-1;qt<=7;qt+=1)Qt+qt<=-1||bt<=Qt+qt||(0<=Ht&&Ht<=6&&(qt==0||qt==6)||0<=qt&&qt<=6&&(Ht==0||Ht==6)||2<=Ht&&Ht<=4&&2<=qt&&qt<=4?jt[Kt+Ht][Qt+qt]=!0:jt[Kt+Ht][Qt+qt]=!1)},At=function(){for(var Kt=0,Qt=0,Ht=0;Ht<8;Ht+=1){mt(!0,Ht);var qt=nt.getLostPoint(dt);(Ht==0||Kt>qt)&&(Kt=qt,Qt=Ht)}return Qt},Rt=function(){for(var Kt=8;Kt<bt-8;Kt+=1)jt[Kt][6]==null&&(jt[Kt][6]=Kt%2==0);for(var Qt=8;Qt<bt-8;Qt+=1)jt[6][Qt]==null&&(jt[6][Qt]=Qt%2==0)},St=function(){for(var Kt=nt.getPatternPosition(Bt),Qt=0;Qt<Kt.length;Qt+=1)for(var Ht=0;Ht<Kt.length;Ht+=1){var qt=Kt[Qt],Jt=Kt[Ht];if(jt[qt][Jt]==null)for(var ur=-2;ur<=2;ur+=1)for(var xr=-2;xr<=2;xr+=1)ur==-2||ur==2||xr==-2||xr==2||ur==0&&xr==0?jt[qt+ur][Jt+xr]=!0:jt[qt+ur][Jt+xr]=!1}},$t=function(Kt){for(var Qt=nt.getBCHTypeNumber(Bt),Ht=0;Ht<18;Ht+=1){var qt=!Kt&&(Qt>>Ht&1)==1;jt[Math.floor(Ht/3)][Ht%3+bt-8-3]=qt}for(var Ht=0;Ht<18;Ht+=1){var qt=!Kt&&(Qt>>Ht&1)==1;jt[Ht%3+bt-8-3][Math.floor(Ht/3)]=qt}},Et=function(Kt,Qt){for(var Ht=Ft<<3|Qt,qt=nt.getBCHTypeInfo(Ht),Jt=0;Jt<15;Jt+=1){var ur=!Kt&&(qt>>Jt&1)==1;Jt<6?jt[Jt][8]=ur:Jt<8?jt[Jt+1][8]=ur:jt[bt-15+Jt][8]=ur}for(var Jt=0;Jt<15;Jt+=1){var ur=!Kt&&(qt>>Jt&1)==1;Jt<8?jt[8][bt-Jt-1]=ur:Jt<9?jt[8][15-Jt-1+1]=ur:jt[8][15-Jt-1]=ur}jt[bt-8][8]=!Kt},Nt=function(Kt,Qt){for(var Ht=-1,qt=bt-1,Jt=7,ur=0,xr=nt.getMaskFunction(Qt),pr=bt-1;pr>0;pr-=2)for(pr==6&&(pr-=1);;){for(var Cr=0;Cr<2;Cr+=1)if(jt[qt][pr-Cr]==null){var Mr=!1;ur<Kt.length&&(Mr=(Kt[ur]>>>Jt&1)==1);var lr=xr(qt,pr-Cr);lr&&(Mr=!Mr),jt[qt][pr-Cr]=Mr,Jt-=1,Jt==-1&&(ur+=1,Jt=7)}if(qt+=Ht,qt<0||bt<=qt){qt-=Ht,Ht=-Ht;break}}},tr=function(Kt,Qt){for(var Ht=0,qt=0,Jt=0,ur=new Array(Qt.length),xr=new Array(Qt.length),pr=0;pr<Qt.length;pr+=1){var Cr=Qt[pr].dataCount,Mr=Qt[pr].totalCount-Cr;qt=Math.max(qt,Cr),Jt=Math.max(Jt,Mr),ur[pr]=new Array(Cr);for(var lr=0;lr<ur[pr].length;lr+=1)ur[pr][lr]=255&Kt.getBuffer()[lr+Ht];Ht+=Cr;var fr=nt.getErrorCorrectPolynomial(Mr),_r=st(ur[pr],fr.getLength()-1),Rr=_r.mod(fr);xr[pr]=new Array(fr.getLength()-1);for(var lr=0;lr<xr[pr].length;lr+=1){var kr=lr+Rr.getLength()-xr[pr].length;xr[pr][lr]=kr>=0?Rr.getAt(kr):0}}for(var Ar=0,lr=0;lr<Qt.length;lr+=1)Ar+=Qt[lr].totalCount;for(var Pr=new Array(Ar),Or=0,lr=0;lr<qt;lr+=1)for(var pr=0;pr<Qt.length;pr+=1)lr<ur[pr].length&&(Pr[Or]=ur[pr][lr],Or+=1);for(var lr=0;lr<Jt;lr+=1)for(var pr=0;pr<Qt.length;pr+=1)lr<xr[pr].length&&(Pr[Or]=xr[pr][lr],Or+=1);return Pr},ir=function(Kt,Qt,Ht){for(var qt=ot.getRSBlocks(Kt,Qt),Jt=at(),ur=0;ur<Ht.length;ur+=1){var xr=Ht[ur];Jt.put(xr.getMode(),4),Jt.put(xr.getLength(),nt.getLengthInBits(xr.getMode(),Kt)),xr.write(Jt)}for(var pr=0,ur=0;ur<qt.length;ur+=1)pr+=qt[ur].dataCount;if(Jt.getLengthInBits()>pr*8)throw"code length overflow. ("+Jt.getLengthInBits()+">"+pr*8+")";for(Jt.getLengthInBits()+4<=pr*8&&Jt.put(0,4);Jt.getLengthInBits()%8!=0;)Jt.putBit(!1);for(;!(Jt.getLengthInBits()>=pr*8||(Jt.put(Ot,8),Jt.getLengthInBits()>=pr*8));)Jt.put(It,8);return tr(Jt,qt)};dt.addData=function(Kt,Qt){Qt=Qt||"Byte";var Ht=null;switch(Qt){case"Numeric":Ht=ut(Kt);break;case"Alphanumeric":Ht=ht(Kt);break;case"Byte":Ht=yt(Kt);break;case"Kanji":Ht=wt(Kt);break;default:throw"mode:"+Qt}ct.push(Ht),vt=null},dt.isDark=function(Kt,Qt){if(Kt<0||bt<=Kt||Qt<0||bt<=Qt)throw Kt+","+Qt;return jt[Kt][Qt]},dt.getModuleCount=function(){return bt},dt.make=function(){if(Bt<1){for(var Kt=1;Kt<40;Kt++){for(var Qt=ot.getRSBlocks(Kt,Ft),Ht=at(),qt=0;qt<ct.length;qt++){var Jt=ct[qt];Ht.put(Jt.getMode(),4),Ht.put(Jt.getLength(),nt.getLengthInBits(Jt.getMode(),Kt)),Jt.write(Ht)}for(var ur=0,qt=0;qt<Qt.length;qt++)ur+=Qt[qt].dataCount;if(Ht.getLengthInBits()<=ur*8)break}Bt=Kt}mt(!1,At())},dt.createTableTag=function(Kt,Qt){Kt=Kt||2,Qt=typeof Qt>"u"?Kt*4:Qt;var Ht="";Ht+='<table style="',Ht+=" border-width: 0px; border-style: none;",Ht+=" border-collapse: collapse;",Ht+=" padding: 0px; margin: "+Qt+"px;",Ht+='">',Ht+="<tbody>";for(var qt=0;qt<dt.getModuleCount();qt+=1){Ht+="<tr>";for(var Jt=0;Jt<dt.getModuleCount();Jt+=1)Ht+='<td style="',Ht+=" border-width: 0px; border-style: none;",Ht+=" border-collapse: collapse;",Ht+=" padding: 0px; margin: 0px;",Ht+=" width: "+Kt+"px;",Ht+=" height: "+Kt+"px;",Ht+=" background-color: ",Ht+=dt.isDark(qt,Jt)?"#000000":"#ffffff",Ht+=";",Ht+='"/>';Ht+="</tr>"}return Ht+="</tbody>",Ht+="</table>",Ht},dt.createSvgTag=function(Kt,Qt,Ht,qt){var Jt={};typeof arguments[0]=="object"&&(Jt=arguments[0],Kt=Jt.cellSize,Qt=Jt.margin,Ht=Jt.alt,qt=Jt.title),Kt=Kt||2,Qt=typeof Qt>"u"?Kt*4:Qt,Ht=typeof Ht=="string"?{text:Ht}:Ht||{},Ht.text=Ht.text||null,Ht.id=Ht.text?Ht.id||"qrcode-description":null,qt=typeof qt=="string"?{text:qt}:qt||{},qt.text=qt.text||null,qt.id=qt.text?qt.id||"qrcode-title":null;var ur=dt.getModuleCount()*Kt+Qt*2,xr,pr,Cr,Mr,lr="",fr;for(fr="l"+Kt+",0 0,"+Kt+" -"+Kt+",0 0,-"+Kt+"z ",lr+='<svg version="1.1" xmlns="http://www.w3.org/2000/svg"',lr+=Jt.scalable?"":' width="'+ur+'px" height="'+ur+'px"',lr+=' viewBox="0 0 '+ur+" "+ur+'" ',lr+=' preserveAspectRatio="xMinYMin meet"',lr+=qt.text||Ht.text?' role="img" aria-labelledby="'+nr([qt.id,Ht.id].join(" ").trim())+'"':"",lr+=">",lr+=qt.text?'<title id="'+nr(qt.id)+'">'+nr(qt.text)+"</title>":"",lr+=Ht.text?'<description id="'+nr(Ht.id)+'">'+nr(Ht.text)+"</description>":"",lr+='<rect width="100%" height="100%" fill="white" cx="0" cy="0"/>',lr+='<path d="',Cr=0;Cr<dt.getModuleCount();Cr+=1)for(Mr=Cr*Kt+Qt,xr=0;xr<dt.getModuleCount();xr+=1)dt.isDark(Cr,xr)&&(pr=xr*Kt+Qt,lr+="M"+pr+","+Mr+fr);return lr+='" stroke="transparent" fill="black"/>',lr+="</svg>",lr},dt.createDataURL=function(Kt,Qt){Kt=Kt||2,Qt=typeof Qt>"u"?Kt*4:Qt;var Ht=dt.getModuleCount()*Kt+Qt*2,qt=Qt,Jt=Ht-Qt;return Lt(Ht,Ht,function(ur,xr){if(qt<=ur&&ur<Jt&&qt<=xr&&xr<Jt){var pr=Math.floor((ur-qt)/Kt),Cr=Math.floor((xr-qt)/Kt);return dt.isDark(Cr,pr)?0:1}else return 1})},dt.createImgTag=function(Kt,Qt,Ht){Kt=Kt||2,Qt=typeof Qt>"u"?Kt*4:Qt;var qt=dt.getModuleCount()*Kt+Qt*2,Jt="";return Jt+="<img",Jt+=' src="',Jt+=dt.createDataURL(Kt,Qt),Jt+='"',Jt+=' width="',Jt+=qt,Jt+='"',Jt+=' height="',Jt+=qt,Jt+='"',Ht&&(Jt+=' alt="',Jt+=nr(Ht),Jt+='"'),Jt+="/>",Jt};var nr=function(Kt){for(var Qt="",Ht=0;Ht<Kt.length;Ht+=1){var qt=Kt.charAt(Ht);switch(qt){case"<":Qt+="&lt;";break;case">":Qt+="&gt;";break;case"&":Qt+="&amp;";break;case'"':Qt+="&quot;";break;default:Qt+=qt;break}}return Qt},Zt=function(Kt){var Qt=1;Kt=typeof Kt>"u"?Qt*2:Kt;var Ht=dt.getModuleCount()*Qt+Kt*2,qt=Kt,Jt=Ht-Kt,ur,xr,pr,Cr,Mr,lr={"██":"█","█ ":"▀"," █":"▄","  ":" "},fr={"██":"▀","█ ":"▀"," █":" ","  ":" "},_r="";for(ur=0;ur<Ht;ur+=2){for(pr=Math.floor((ur-qt)/Qt),Cr=Math.floor((ur+1-qt)/Qt),xr=0;xr<Ht;xr+=1)Mr="█",qt<=xr&&xr<Jt&&qt<=ur&&ur<Jt&&dt.isDark(pr,Math.floor((xr-qt)/Qt))&&(Mr=" "),qt<=xr&&xr<Jt&&qt<=ur+1&&ur+1<Jt&&dt.isDark(Cr,Math.floor((xr-qt)/Qt))?Mr+=" ":Mr+="█",_r+=Kt<1&&ur+1>=Jt?fr[Mr]:lr[Mr];_r+=`
`}return Ht%2&&Kt>0?_r.substring(0,_r.length-Ht-1)+Array(Ht+1).join("▀"):_r.substring(0,_r.length-1)};return dt.createASCII=function(Kt,Qt){if(Kt=Kt||1,Kt<2)return Zt(Qt);Kt-=1,Qt=typeof Qt>"u"?Kt*2:Qt;var Ht=dt.getModuleCount()*Kt+Qt*2,qt=Qt,Jt=Ht-Qt,ur,xr,pr,Cr,Mr=Array(Kt+1).join("██"),lr=Array(Kt+1).join("  "),fr="",_r="";for(ur=0;ur<Ht;ur+=1){for(pr=Math.floor((ur-qt)/Kt),_r="",xr=0;xr<Ht;xr+=1)Cr=1,qt<=xr&&xr<Jt&&qt<=ur&&ur<Jt&&dt.isDark(pr,Math.floor((xr-qt)/Kt))&&(Cr=0),_r+=Cr?Mr:lr;for(pr=0;pr<Kt;pr+=1)fr+=_r+`
`}return fr.substring(0,fr.length-1)},dt.renderTo2dContext=function(Kt,Qt){Qt=Qt||2;for(var Ht=dt.getModuleCount(),qt=0;qt<Ht;qt++)for(var Jt=0;Jt<Ht;Jt++)Kt.fillStyle=dt.isDark(qt,Jt)?"black":"white",Kt.fillRect(qt*Qt,Jt*Qt,Qt,Qt)},dt};j.stringToBytesFuncs={default:function(Dt){for(var Ut=[],Ot=0;Ot<Dt.length;Ot+=1){var It=Dt.charCodeAt(Ot);Ut.push(It&255)}return Ut}},j.stringToBytes=j.stringToBytesFuncs.default,j.createStringToBytes=function(Dt,Ut){var Ot=function(){for(var Bt=Tt(Dt),Ft=function(){var Rt=Bt.read();if(Rt==-1)throw"eof";return Rt},jt=0,bt={};;){var vt=Bt.read();if(vt==-1)break;var ct=Ft(),dt=Ft(),mt=Ft(),xt=String.fromCharCode(vt<<8|ct),At=dt<<8|mt;bt[xt]=At,jt+=1}if(jt!=Ut)throw jt+" != "+Ut;return bt}(),It=63;return function(Bt){for(var Ft=[],jt=0;jt<Bt.length;jt+=1){var bt=Bt.charCodeAt(jt);if(bt<128)Ft.push(bt);else{var vt=Ot[Bt.charAt(jt)];typeof vt=="number"?(vt&255)==vt?Ft.push(vt):(Ft.push(vt>>>8),Ft.push(vt&255)):Ft.push(It)}}return Ft}};var et={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},tt={L:1,M:0,Q:3,H:2},rt={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},nt=function(){var Dt=[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],Ut=1335,Ot=7973,It=21522,Bt={},Ft=function(jt){for(var bt=0;jt!=0;)bt+=1,jt>>>=1;return bt};return Bt.getBCHTypeInfo=function(jt){for(var bt=jt<<10;Ft(bt)-Ft(Ut)>=0;)bt^=Ut<<Ft(bt)-Ft(Ut);return(jt<<10|bt)^It},Bt.getBCHTypeNumber=function(jt){for(var bt=jt<<12;Ft(bt)-Ft(Ot)>=0;)bt^=Ot<<Ft(bt)-Ft(Ot);return jt<<12|bt},Bt.getPatternPosition=function(jt){return Dt[jt-1]},Bt.getMaskFunction=function(jt){switch(jt){case rt.PATTERN000:return function(bt,vt){return(bt+vt)%2==0};case rt.PATTERN001:return function(bt,vt){return bt%2==0};case rt.PATTERN010:return function(bt,vt){return vt%3==0};case rt.PATTERN011:return function(bt,vt){return(bt+vt)%3==0};case rt.PATTERN100:return function(bt,vt){return(Math.floor(bt/2)+Math.floor(vt/3))%2==0};case rt.PATTERN101:return function(bt,vt){return bt*vt%2+bt*vt%3==0};case rt.PATTERN110:return function(bt,vt){return(bt*vt%2+bt*vt%3)%2==0};case rt.PATTERN111:return function(bt,vt){return(bt*vt%3+(bt+vt)%2)%2==0};default:throw"bad maskPattern:"+jt}},Bt.getErrorCorrectPolynomial=function(jt){for(var bt=st([1],0),vt=0;vt<jt;vt+=1)bt=bt.multiply(st([1,it.gexp(vt)],0));return bt},Bt.getLengthInBits=function(jt,bt){if(1<=bt&&bt<10)switch(jt){case et.MODE_NUMBER:return 10;case et.MODE_ALPHA_NUM:return 9;case et.MODE_8BIT_BYTE:return 8;case et.MODE_KANJI:return 8;default:throw"mode:"+jt}else if(bt<27)switch(jt){case et.MODE_NUMBER:return 12;case et.MODE_ALPHA_NUM:return 11;case et.MODE_8BIT_BYTE:return 16;case et.MODE_KANJI:return 10;default:throw"mode:"+jt}else if(bt<41)switch(jt){case et.MODE_NUMBER:return 14;case et.MODE_ALPHA_NUM:return 13;case et.MODE_8BIT_BYTE:return 16;case et.MODE_KANJI:return 12;default:throw"mode:"+jt}else throw"type:"+bt},Bt.getLostPoint=function(jt){for(var bt=jt.getModuleCount(),vt=0,ct=0;ct<bt;ct+=1)for(var dt=0;dt<bt;dt+=1){for(var mt=0,xt=jt.isDark(ct,dt),At=-1;At<=1;At+=1)if(!(ct+At<0||bt<=ct+At))for(var Rt=-1;Rt<=1;Rt+=1)dt+Rt<0||bt<=dt+Rt||At==0&&Rt==0||xt==jt.isDark(ct+At,dt+Rt)&&(mt+=1);mt>5&&(vt+=3+mt-5)}for(var ct=0;ct<bt-1;ct+=1)for(var dt=0;dt<bt-1;dt+=1){var St=0;jt.isDark(ct,dt)&&(St+=1),jt.isDark(ct+1,dt)&&(St+=1),jt.isDark(ct,dt+1)&&(St+=1),jt.isDark(ct+1,dt+1)&&(St+=1),(St==0||St==4)&&(vt+=3)}for(var ct=0;ct<bt;ct+=1)for(var dt=0;dt<bt-6;dt+=1)jt.isDark(ct,dt)&&!jt.isDark(ct,dt+1)&&jt.isDark(ct,dt+2)&&jt.isDark(ct,dt+3)&&jt.isDark(ct,dt+4)&&!jt.isDark(ct,dt+5)&&jt.isDark(ct,dt+6)&&(vt+=40);for(var dt=0;dt<bt;dt+=1)for(var ct=0;ct<bt-6;ct+=1)jt.isDark(ct,dt)&&!jt.isDark(ct+1,dt)&&jt.isDark(ct+2,dt)&&jt.isDark(ct+3,dt)&&jt.isDark(ct+4,dt)&&!jt.isDark(ct+5,dt)&&jt.isDark(ct+6,dt)&&(vt+=40);for(var $t=0,dt=0;dt<bt;dt+=1)for(var ct=0;ct<bt;ct+=1)jt.isDark(ct,dt)&&($t+=1);var Et=Math.abs(100*$t/bt/bt-50)/5;return vt+=Et*10,vt},Bt}(),it=function(){for(var Dt=new Array(256),Ut=new Array(256),Ot=0;Ot<8;Ot+=1)Dt[Ot]=1<<Ot;for(var Ot=8;Ot<256;Ot+=1)Dt[Ot]=Dt[Ot-4]^Dt[Ot-5]^Dt[Ot-6]^Dt[Ot-8];for(var Ot=0;Ot<255;Ot+=1)Ut[Dt[Ot]]=Ot;var It={};return It.glog=function(Bt){if(Bt<1)throw"glog("+Bt+")";return Ut[Bt]},It.gexp=function(Bt){for(;Bt<0;)Bt+=255;for(;Bt>=256;)Bt-=255;return Dt[Bt]},It}();function st(Dt,Ut){if(typeof Dt.length>"u")throw Dt.length+"/"+Ut;var Ot=function(){for(var Bt=0;Bt<Dt.length&&Dt[Bt]==0;)Bt+=1;for(var Ft=new Array(Dt.length-Bt+Ut),jt=0;jt<Dt.length-Bt;jt+=1)Ft[jt]=Dt[jt+Bt];return Ft}(),It={};return It.getAt=function(Bt){return Ot[Bt]},It.getLength=function(){return Ot.length},It.multiply=function(Bt){for(var Ft=new Array(It.getLength()+Bt.getLength()-1),jt=0;jt<It.getLength();jt+=1)for(var bt=0;bt<Bt.getLength();bt+=1)Ft[jt+bt]^=it.gexp(it.glog(It.getAt(jt))+it.glog(Bt.getAt(bt)));return st(Ft,0)},It.mod=function(Bt){if(It.getLength()-Bt.getLength()<0)return It;for(var Ft=it.glog(It.getAt(0))-it.glog(Bt.getAt(0)),jt=new Array(It.getLength()),bt=0;bt<It.getLength();bt+=1)jt[bt]=It.getAt(bt);for(var bt=0;bt<Bt.getLength();bt+=1)jt[bt]^=it.gexp(it.glog(Bt.getAt(bt))+Ft);return st(jt,0).mod(Bt)},It}var ot=function(){var Dt=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12,7,37,13],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],Ut=function(Bt,Ft){var jt={};return jt.totalCount=Bt,jt.dataCount=Ft,jt},Ot={},It=function(Bt,Ft){switch(Ft){case tt.L:return Dt[(Bt-1)*4+0];case tt.M:return Dt[(Bt-1)*4+1];case tt.Q:return Dt[(Bt-1)*4+2];case tt.H:return Dt[(Bt-1)*4+3];default:return}};return Ot.getRSBlocks=function(Bt,Ft){var jt=It(Bt,Ft);if(typeof jt>"u")throw"bad rs block @ typeNumber:"+Bt+"/errorCorrectionLevel:"+Ft;for(var bt=jt.length/3,vt=[],ct=0;ct<bt;ct+=1)for(var dt=jt[ct*3+0],mt=jt[ct*3+1],xt=jt[ct*3+2],At=0;At<dt;At+=1)vt.push(Ut(mt,xt));return vt},Ot}(),at=function(){var Dt=[],Ut=0,Ot={};return Ot.getBuffer=function(){return Dt},Ot.getAt=function(It){var Bt=Math.floor(It/8);return(Dt[Bt]>>>7-It%8&1)==1},Ot.put=function(It,Bt){for(var Ft=0;Ft<Bt;Ft+=1)Ot.putBit((It>>>Bt-Ft-1&1)==1)},Ot.getLengthInBits=function(){return Ut},Ot.putBit=function(It){var Bt=Math.floor(Ut/8);Dt.length<=Bt&&Dt.push(0),It&&(Dt[Bt]|=128>>>Ut%8),Ut+=1},Ot},ut=function(Dt){var Ut=et.MODE_NUMBER,Ot=Dt,It={};It.getMode=function(){return Ut},It.getLength=function(jt){return Ot.length},It.write=function(jt){for(var bt=Ot,vt=0;vt+2<bt.length;)jt.put(Bt(bt.substring(vt,vt+3)),10),vt+=3;vt<bt.length&&(bt.length-vt==1?jt.put(Bt(bt.substring(vt,vt+1)),4):bt.length-vt==2&&jt.put(Bt(bt.substring(vt,vt+2)),7))};var Bt=function(jt){for(var bt=0,vt=0;vt<jt.length;vt+=1)bt=bt*10+Ft(jt.charAt(vt));return bt},Ft=function(jt){if("0"<=jt&&jt<="9")return jt.charCodeAt(0)-48;throw"illegal char :"+jt};return It},ht=function(Dt){var Ut=et.MODE_ALPHA_NUM,Ot=Dt,It={};It.getMode=function(){return Ut},It.getLength=function(Ft){return Ot.length},It.write=function(Ft){for(var jt=Ot,bt=0;bt+1<jt.length;)Ft.put(Bt(jt.charAt(bt))*45+Bt(jt.charAt(bt+1)),11),bt+=2;bt<jt.length&&Ft.put(Bt(jt.charAt(bt)),6)};var Bt=function(Ft){if("0"<=Ft&&Ft<="9")return Ft.charCodeAt(0)-48;if("A"<=Ft&&Ft<="Z")return Ft.charCodeAt(0)-65+10;switch(Ft){case" ":return 36;case"$":return 37;case"%":return 38;case"*":return 39;case"+":return 40;case"-":return 41;case".":return 42;case"/":return 43;case":":return 44;default:throw"illegal char :"+Ft}};return It},yt=function(Dt){var Ut=et.MODE_8BIT_BYTE,Ot=j.stringToBytes(Dt),It={};return It.getMode=function(){return Ut},It.getLength=function(Bt){return Ot.length},It.write=function(Bt){for(var Ft=0;Ft<Ot.length;Ft+=1)Bt.put(Ot[Ft],8)},It},wt=function(Dt){var Ut=et.MODE_KANJI,Ot=j.stringToBytesFuncs.SJIS;if(!Ot)throw"sjis not supported.";(function(Ft,jt){var bt=Ot(Ft);if(bt.length!=2||(bt[0]<<8|bt[1])!=jt)throw"sjis not supported."})("友",38726);var It=Ot(Dt),Bt={};return Bt.getMode=function(){return Ut},Bt.getLength=function(Ft){return~~(It.length/2)},Bt.write=function(Ft){for(var jt=It,bt=0;bt+1<jt.length;){var vt=(255&jt[bt])<<8|255&jt[bt+1];if(33088<=vt&&vt<=40956)vt-=33088;else if(57408<=vt&&vt<=60351)vt-=49472;else throw"illegal char at "+(bt+1)+"/"+vt;vt=(vt>>>8&255)*192+(vt&255),Ft.put(vt,13),bt+=2}if(bt<jt.length)throw"illegal char at "+(bt+1)},Bt},Ct=function(){var Dt=[],Ut={};return Ut.writeByte=function(Ot){Dt.push(Ot&255)},Ut.writeShort=function(Ot){Ut.writeByte(Ot),Ut.writeByte(Ot>>>8)},Ut.writeBytes=function(Ot,It,Bt){It=It||0,Bt=Bt||Ot.length;for(var Ft=0;Ft<Bt;Ft+=1)Ut.writeByte(Ot[Ft+It])},Ut.writeString=function(Ot){for(var It=0;It<Ot.length;It+=1)Ut.writeByte(Ot.charCodeAt(It))},Ut.toByteArray=function(){return Dt},Ut.toString=function(){var Ot="";Ot+="[";for(var It=0;It<Dt.length;It+=1)It>0&&(Ot+=","),Ot+=Dt[It];return Ot+="]",Ot},Ut},Pt=function(){var Dt=0,Ut=0,Ot=0,It="",Bt={},Ft=function(bt){It+=String.fromCharCode(jt(bt&63))},jt=function(bt){if(!(bt<0)){if(bt<26)return 65+bt;if(bt<52)return 97+(bt-26);if(bt<62)return 48+(bt-52);if(bt==62)return 43;if(bt==63)return 47}throw"n:"+bt};return Bt.writeByte=function(bt){for(Dt=Dt<<8|bt&255,Ut+=8,Ot+=1;Ut>=6;)Ft(Dt>>>Ut-6),Ut-=6},Bt.flush=function(){if(Ut>0&&(Ft(Dt<<6-Ut),Dt=0,Ut=0),Ot%3!=0)for(var bt=3-Ot%3,vt=0;vt<bt;vt+=1)It+="="},Bt.toString=function(){return It},Bt},Tt=function(Dt){var Ut=Dt,Ot=0,It=0,Bt=0,Ft={};Ft.read=function(){for(;Bt<8;){if(Ot>=Ut.length){if(Bt==0)return-1;throw"unexpected end of file./"+Bt}var bt=Ut.charAt(Ot);if(Ot+=1,bt=="=")return Bt=0,-1;if(bt.match(/^\s$/))continue;It=It<<6|jt(bt.charCodeAt(0)),Bt+=6}var vt=It>>>Bt-8&255;return Bt-=8,vt};var jt=function(bt){if(65<=bt&&bt<=90)return bt-65;if(97<=bt&&bt<=122)return bt-97+26;if(48<=bt&&bt<=57)return bt-48+52;if(bt==43)return 62;if(bt==47)return 63;throw"c:"+bt};return Ft},Mt=function(Dt,Ut){var Ot=Dt,It=Ut,Bt=new Array(Dt*Ut),Ft={};Ft.setPixel=function(ct,dt,mt){Bt[dt*Ot+ct]=mt},Ft.write=function(ct){ct.writeString("GIF87a"),ct.writeShort(Ot),ct.writeShort(It),ct.writeByte(128),ct.writeByte(0),ct.writeByte(0),ct.writeByte(0),ct.writeByte(0),ct.writeByte(0),ct.writeByte(255),ct.writeByte(255),ct.writeByte(255),ct.writeString(","),ct.writeShort(0),ct.writeShort(0),ct.writeShort(Ot),ct.writeShort(It),ct.writeByte(0);var dt=2,mt=bt(dt);ct.writeByte(dt);for(var xt=0;mt.length-xt>255;)ct.writeByte(255),ct.writeBytes(mt,xt,255),xt+=255;ct.writeByte(mt.length-xt),ct.writeBytes(mt,xt,mt.length-xt),ct.writeByte(0),ct.writeString(";")};var jt=function(ct){var dt=ct,mt=0,xt=0,At={};return At.write=function(Rt,St){if(Rt>>>St)throw"length over";for(;mt+St>=8;)dt.writeByte(255&(Rt<<mt|xt)),St-=8-mt,Rt>>>=8-mt,xt=0,mt=0;xt=Rt<<mt|xt,mt=mt+St},At.flush=function(){mt>0&&dt.writeByte(xt)},At},bt=function(ct){for(var dt=1<<ct,mt=(1<<ct)+1,xt=ct+1,At=vt(),Rt=0;Rt<dt;Rt+=1)At.add(String.fromCharCode(Rt));At.add(String.fromCharCode(dt)),At.add(String.fromCharCode(mt));var St=Ct(),$t=jt(St);$t.write(dt,xt);var Et=0,Nt=String.fromCharCode(Bt[Et]);for(Et+=1;Et<Bt.length;){var tr=String.fromCharCode(Bt[Et]);Et+=1,At.contains(Nt+tr)?Nt=Nt+tr:($t.write(At.indexOf(Nt),xt),At.size()<4095&&(At.size()==1<<xt&&(xt+=1),At.add(Nt+tr)),Nt=tr)}return $t.write(At.indexOf(Nt),xt),$t.write(mt,xt),$t.flush(),St.toByteArray()},vt=function(){var ct={},dt=0,mt={};return mt.add=function(xt){if(mt.contains(xt))throw"dup key:"+xt;ct[xt]=dt,dt+=1},mt.size=function(){return dt},mt.indexOf=function(xt){return ct[xt]},mt.contains=function(xt){return typeof ct[xt]<"u"},mt};return Ft},Lt=function(Dt,Ut,Ot){for(var It=Mt(Dt,Ut),Bt=0;Bt<Ut;Bt+=1)for(var Ft=0;Ft<Dt;Ft+=1)It.setPixel(Ft,Bt,Ot(Ft,Bt));var jt=Ct();It.write(jt);for(var bt=Pt(),vt=jt.toByteArray(),ct=0;ct<vt.length;ct+=1)bt.writeByte(vt[ct]);return bt.flush(),"data:image/gif;base64,"+bt};return j}();(function(){$.stringToBytesFuncs["UTF-8"]=function(j){function et(tt){for(var rt=[],nt=0;nt<tt.length;nt++){var it=tt.charCodeAt(nt);it<128?rt.push(it):it<2048?rt.push(192|it>>6,128|it&63):it<55296||it>=57344?rt.push(224|it>>12,128|it>>6&63,128|it&63):(nt++,it=65536+((it&1023)<<10|tt.charCodeAt(nt)&1023),rt.push(240|it>>18,128|it>>12&63,128|it>>6&63,128|it&63))}return rt}return et(j)}})(),function(j){a.exports=j()}(function(){return $})})(qrcode);var qrcodeExports=qrcode.exports,__extends=commonjsGlobal&&commonjsGlobal.__extends||function(){var a=function(_,$){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(j,et){j.__proto__=et}||function(j,et){for(var tt in et)et.hasOwnProperty(tt)&&(j[tt]=et[tt])},a(_,$)};return function(_,$){a(_,$);function j(){this.constructor=_}_.prototype=$===null?Object.create($):(j.prototype=$.prototype,new j)}}();Object.defineProperty(dist,"__esModule",{value:!0});var QRCode_1=dist.QRCode=void 0,isEqual$1=lodash_isequalExports,qrGenerator=qrcodeExports,React=reactExports,ReactDOM=reactDomExports,QRCode=function(a){__extends(_,a);function _($){var j=a.call(this,$)||this;return j.canvas=React.createRef(),j}return _.utf16to8=function($){var j="",et,tt,rt=$.length;for(et=0;et<rt;et++)tt=$.charCodeAt(et),tt>=1&&tt<=127?j+=$.charAt(et):tt>2047?(j+=String.fromCharCode(224|tt>>12&15),j+=String.fromCharCode(128|tt>>6&63),j+=String.fromCharCode(128|tt>>0&63)):(j+=String.fromCharCode(192|tt>>6&31),j+=String.fromCharCode(128|tt>>0&63));return j},_.prototype.drawRoundedSquare=function($,j,et,tt,rt,nt,it,st){st.lineWidth=$,st.fillStyle=rt,st.strokeStyle=rt,et+=$/2,j+=$/2,tt-=$,Array.isArray(nt)||(nt=[nt,nt,nt,nt]),nt=nt.map(function(yt){return yt=Math.min(yt,tt/2),yt<0?0:yt});var ot=nt[0]||0,at=nt[1]||0,ut=nt[2]||0,ht=nt[3]||0;st.beginPath(),st.moveTo(j+ot,et),st.lineTo(j+tt-at,et),at&&st.quadraticCurveTo(j+tt,et,j+tt,et+at),st.lineTo(j+tt,et+tt-ut),ut&&st.quadraticCurveTo(j+tt,et+tt,j+tt-ut,et+tt),st.lineTo(j+ht,et+tt),ht&&st.quadraticCurveTo(j,et+tt,j,et+tt-ht),st.lineTo(j,et+ot),ot&&st.quadraticCurveTo(j,et,j+ot,et),st.closePath(),st.stroke(),it&&st.fill()},_.prototype.drawPositioningPattern=function($,j,et,tt,rt,nt,it){it===void 0&&(it=[0,0,0,0]);var st=Math.ceil(j),ot,at;typeof it!="number"&&!Array.isArray(it)?(ot=it.outer||0,at=it.inner||0):(ot=it,at=ot);var ut,ht;typeof nt!="string"?(ut=nt.outer,ht=nt.inner):(ut=nt,ht=nt);var yt=tt*j+et,wt=rt*j+et,Ct=j*7;this.drawRoundedSquare(st,wt,yt,Ct,ut,ot,!1,$),Ct=j*3,yt+=j*2,wt+=j*2,this.drawRoundedSquare(st,wt,yt,Ct,ht,at,!0,$)},_.prototype.isInPositioninZone=function($,j,et){return et.some(function(tt){return j>=tt.row&&j<=tt.row+7&&$>=tt.col&&$<=tt.col+7})},_.prototype.transformPixelLengthIntoNumberOfCells=function($,j){return $/j},_.prototype.isCoordinateInImage=function($,j,et,tt,rt,nt,it,st){if(st){var ot=2,at=this.transformPixelLengthIntoNumberOfCells(rt,it),ut=this.transformPixelLengthIntoNumberOfCells(nt,it),ht=this.transformPixelLengthIntoNumberOfCells(et,it)-1,yt=this.transformPixelLengthIntoNumberOfCells(tt,it)-1;return j>=at-ot&&j<=at+ht+ot&&$>=ut-ot&&$<=ut+yt+ot}else return!1},_.prototype.shouldComponentUpdate=function($){return!isEqual$1(this.props,$)},_.prototype.componentDidMount=function(){this.update()},_.prototype.componentDidUpdate=function(){this.update()},_.prototype.update=function(){var $=this.props,j=$.value,et=$.ecLevel,tt=$.enableCORS,rt=$.bgColor,nt=$.fgColor,it=$.logoImage,st=$.logoOpacity,ot=$.logoOnLoad,at=$.removeQrCodeBehindLogo,ut=$.qrStyle,ht=$.eyeRadius,yt=$.eyeColor,wt=$.logoPaddingStyle,Ct=+this.props.size,Pt=+this.props.quietZone,Tt=this.props.logoWidth?+this.props.logoWidth:0,Mt=this.props.logoHeight?+this.props.logoHeight:0,Lt=this.props.logoPadding?+this.props.logoPadding:0,Dt=qrGenerator(0,et);Dt.addData(_.utf16to8(j)),Dt.make();var Ut=ReactDOM.findDOMNode(this.canvas.current),Ot=Ut.getContext("2d"),It=Ct+2*Pt,Bt=Dt.getModuleCount(),Ft=Ct/Bt,jt=window.devicePixelRatio||1;Ut.height=Ut.width=It*jt,Ot.scale(jt,jt),Ot.fillStyle=rt,Ot.fillRect(0,0,It,It);var bt=Pt,vt=[{row:0,col:0},{row:0,col:Bt-7},{row:Bt-7,col:0}];if(Ot.strokeStyle=nt,ut==="dots"){Ot.fillStyle=nt;for(var ct=Ft/2,dt=0;dt<Bt;dt++)for(var mt=0;mt<Bt;mt++)Dt.isDark(dt,mt)&&!this.isInPositioninZone(dt,mt,vt)&&(Ot.beginPath(),Ot.arc(Math.round(mt*Ft)+ct+bt,Math.round(dt*Ft)+ct+bt,ct/100*75,0,2*Math.PI,!1),Ot.closePath(),Ot.fill())}else if(ut==="fluid"){for(var ct=Math.ceil(Ft/2),dt=0;dt<Bt;dt++)for(var mt=0;mt<Bt;mt++)if(Dt.isDark(dt,mt)&&!this.isInPositioninZone(dt,mt,vt)){var xt=[!1,!1,!1,!1];dt>0&&!Dt.isDark(dt-1,mt)&&mt>0&&!Dt.isDark(dt,mt-1)&&(xt[0]=!0),dt>0&&!Dt.isDark(dt-1,mt)&&mt<Bt-1&&!Dt.isDark(dt,mt+1)&&(xt[1]=!0),dt<Bt-1&&!Dt.isDark(dt+1,mt)&&mt<Bt-1&&!Dt.isDark(dt,mt+1)&&(xt[2]=!0),dt<Bt-1&&!Dt.isDark(dt+1,mt)&&mt>0&&!Dt.isDark(dt,mt-1)&&(xt[3]=!0);var At=Math.ceil((mt+1)*Ft)-Math.floor(mt*Ft),Rt=Math.ceil((dt+1)*Ft)-Math.floor(dt*Ft);Ot.fillStyle=nt,Ot.beginPath(),Ot.arc(Math.round(mt*Ft)+ct+bt,Math.round(dt*Ft)+ct+bt,ct,0,2*Math.PI,!1),Ot.closePath(),Ot.fill(),xt[0]||Ot.fillRect(Math.round(mt*Ft)+bt,Math.round(dt*Ft)+bt,At/2,Rt/2),xt[1]||Ot.fillRect(Math.round(mt*Ft)+bt+Math.floor(At/2),Math.round(dt*Ft)+bt,At/2,Rt/2),xt[2]||Ot.fillRect(Math.round(mt*Ft)+bt+Math.floor(At/2),Math.round(dt*Ft)+bt+Math.floor(Rt/2),At/2,Rt/2),xt[3]||Ot.fillRect(Math.round(mt*Ft)+bt,Math.round(dt*Ft)+bt+Math.floor(Rt/2),At/2,Rt/2)}}else for(var dt=0;dt<Bt;dt++)for(var mt=0;mt<Bt;mt++)if(Dt.isDark(dt,mt)&&!this.isInPositioninZone(dt,mt,vt)){Ot.fillStyle=nt;var At=Math.ceil((mt+1)*Ft)-Math.floor(mt*Ft),Rt=Math.ceil((dt+1)*Ft)-Math.floor(dt*Ft);Ot.fillRect(Math.round(mt*Ft)+bt,Math.round(dt*Ft)+bt,At,Rt)}for(var St=0;St<3;St++){var $t=vt[St],dt=$t.row,mt=$t.col,Et=ht,Nt=void 0;Array.isArray(Et)&&(Et=Et[St]),typeof Et=="number"&&(Et=[Et,Et,Et,Et]),yt?Array.isArray(yt)?Nt=yt[St]:Nt=yt:Nt=nt,this.drawPositioningPattern(Ot,Ft,bt,dt,mt,Nt,Et)}if(it){var tr=new Image;tt&&(tr.crossOrigin="Anonymous"),tr.onload=function(){Ot.save();var ir=Tt||Ct*.2,nr=Mt||ir,Zt=(Ct-ir)/2,Kt=(Ct-nr)/2;if(at||Lt){Ot.beginPath(),Ot.strokeStyle=rt,Ot.fillStyle=rt;var Qt=ir+2*Lt,Ht=nr+2*Lt,qt=Zt+bt-Lt,Jt=Kt+bt-Lt;if(wt==="circle"){var ur=qt+Qt/2,xr=Jt+Ht/2;Ot.ellipse(ur,xr,Qt/2,Ht/2,0,0,2*Math.PI),Ot.stroke(),Ot.fill()}else Ot.fillRect(qt,Jt,Qt,Ht)}Ot.globalAlpha=st,Ot.drawImage(tr,Zt+bt,Kt+bt,ir,nr),Ot.restore(),ot&&ot()},tr.src=it}},_.prototype.render=function(){var $,j=+this.props.size+2*+this.props.quietZone;return React.createElement("canvas",{id:($=this.props.id)!==null&&$!==void 0?$:"react-qrcode-logo",height:j,width:j,style:{height:j+"px",width:j+"px"},ref:this.canvas})},_.defaultProps={value:"https://reactjs.org/",ecLevel:"M",enableCORS:!1,size:150,quietZone:10,bgColor:"#FFFFFF",fgColor:"#000000",logoOpacity:1,qrStyle:"squares",eyeRadius:[0,0,0],logoPaddingStyle:"square"},_}(React.Component);QRCode_1=dist.QRCode=QRCode;const ReceiveModal=({pkh:a})=>{const $=useGetOwnedAccountSafe()(a);return jsxRuntimeExports.jsxs(ModalContent,{children:[jsxRuntimeExports.jsx(FormPageHeader,{subTitle:"You can receive tez or other digital assets by scanning or sharing this QR code",title:"Receive"}),jsxRuntimeExports.jsx(ModalBody,{children:jsxRuntimeExports.jsx(Flex,{alignItems:"center",justifyContent:"space-between",flexDirection:"column",children:jsxRuntimeExports.jsx(Box,{padding:"8px",background:"white",borderRadius:"8px",children:jsxRuntimeExports.jsx(QRCode_1,{size:232,value:a})})})}),jsxRuntimeExports.jsx(ModalFooter,{children:jsxRuntimeExports.jsxs(Box,{width:"100%",children:[$&&jsxRuntimeExports.jsx(Heading,{textAlign:"center",marginY:2,children:$.label}),jsxRuntimeExports.jsx(Flex,{justifyContent:"center",width:"100%",children:jsxRuntimeExports.jsx(AddressPill,{address:parsePkh(a),mode:{type:"no_icons"}})})]})})]})},AccountCard=({accountPkh:a})=>{const _=useGetOwnedAccount(),$=useGetAccountBalance(),j=useGetDollarBalance(),et=useGetAccountAllTokens(),tt=useGetAccountNFTs(),{openWith:rt}=reactExports.useContext(DynamicModalContext),nt=_(a),it=$(a),st=j(a),ot=et(a),at=sortedByLastUpdate(tt(a));return jsxRuntimeExports.jsx(AccountDrawerDisplay,{account:nt,balance:it,dollarBalance:st,nfts:at,onReceive:()=>rt(jsxRuntimeExports.jsx(ReceiveModal,{pkh:a})),onSend:()=>rt(jsxRuntimeExports.jsx(FormPage$4,{sender:nt})),tokens:ot})},InfoModal=({account:a})=>{const _=[{title:"Template",content:a.derivationPathTemplate},{title:"Path",content:a.derivationPath},{title:"Type (Curve)",content:a.curve}];return jsxRuntimeExports.jsxs(ModalContent,{children:[jsxRuntimeExports.jsxs(ModalHeader,{children:[jsxRuntimeExports.jsx(CircleIcon,{icon:jsxRuntimeExports.jsx(SlashIcon,{}),size:"48px"}),jsxRuntimeExports.jsx(Center,{marginBottom:"8px",children:jsxRuntimeExports.jsx(Heading,{marginTop:"16px",children:"Derivation Info"})}),jsxRuntimeExports.jsx(ModalCloseButton,{})]}),jsxRuntimeExports.jsx(ModalBody,{children:_.map(({title:$,content:j})=>j?jsxRuntimeExports.jsxs(Box,{marginTop:"24px",children:[jsxRuntimeExports.jsx(Heading,{size:"md",children:$}),jsxRuntimeExports.jsx(Center,{justifyContent:"flex-start",marginTop:"12px",padding:"15px",borderRadius:"4px",backgroundColor:colors.gray[800],children:jsxRuntimeExports.jsx(Text,{size:"sm",children:j})})]},j):null)})]})},DerivationInfoButton=({account:a,..._})=>{const{openWith:$}=reactExports.useContext(DynamicModalContext);switch(a.type){case"multisig":case"secret_key":case"social":return null;case"ledger":case"mnemonic":return jsxRuntimeExports.jsx(Button,{"data-testid":"derivation-info-button",onClick:()=>$(jsxRuntimeExports.jsx(InfoModal,{account:a})),variant:"CTAWithIcon",..._,children:jsxRuntimeExports.jsx(FolderInfoIcon,{stroke:"currentcolor"})})}},CloseDrawerButton=({onClose:a})=>jsxRuntimeExports.jsx(Button,{minWidth:"24px",padding:"0",onClick:a,variant:"CTAWithIcon",children:jsxRuntimeExports.jsx(ExitArrowIcon,{stroke:"currentcolor"})}),scriptRel="modulepreload",assetsURL=function(a,_){return new URL(a,_).href},seen={},__vitePreload=function a(_,$,j){let et=Promise.resolve();if($&&$.length>0){const tt=document.getElementsByTagName("link"),rt=document.querySelector("meta[property=csp-nonce]"),nt=(rt==null?void 0:rt.nonce)||(rt==null?void 0:rt.getAttribute("nonce"));et=Promise.all($.map(it=>{if(it=assetsURL(it,j),it in seen)return;seen[it]=!0;const st=it.endsWith(".css"),ot=st?'[rel="stylesheet"]':"";if(!!j)for(let ht=tt.length-1;ht>=0;ht--){const yt=tt[ht];if(yt.href===it&&(!st||yt.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${it}"]${ot}`))return;const ut=document.createElement("link");if(ut.rel=st?"stylesheet":scriptRel,st||(ut.as="script",ut.crossOrigin=""),ut.href=it,nt&&ut.setAttribute("nonce",nt),document.head.appendChild(ut),st)return new Promise((ht,yt)=>{ut.addEventListener("load",ht),ut.addEventListener("error",()=>yt(new Error(`Unable to preload CSS for ${it}`)))})}))}return et.then(()=>_()).catch(tt=>{const rt=new Event("vite:preloadError",{cancelable:!0});if(rt.payload=tt,window.dispatchEvent(rt),!rt.defaultPrevented)throw tt})};var loadScript=function a(_,$,j){var et=document.head||document.getElementsByTagName("head")[0],tt=document.createElement("script");typeof $=="function"&&(j=$,$={}),$=$||{},j=j||function(){},tt.type=$.type||"text/javascript",tt.charset=$.charset||"utf8",tt.async="async"in $?!!$.async:!0,tt.src=_,$.attrs&&setAttributes(tt,$.attrs),$.text&&(tt.text=""+$.text);var rt="onload"in tt?stdOnEnd:ieOnEnd;rt(tt,j),tt.onload||stdOnEnd(tt,j),et.appendChild(tt)};function setAttributes(a,_){for(var $ in _)a.setAttribute($,_[$])}function stdOnEnd(a,_){a.onload=function(){this.onerror=this.onload=null,_(null,a)},a.onerror=function(){this.onerror=this.onload=null,_(new Error("Failed to load "+this.src),a)}}function ieOnEnd(a,_){a.onreadystatechange=function(){this.readyState!="complete"&&this.readyState!="loaded"||(this.onreadystatechange=null,_(null,a))}}var isMergeableObject=function a(_){return isNonNullObject(_)&&!isSpecial(_)};function isNonNullObject(a){return!!a&&typeof a=="object"}function isSpecial(a){var _=Object.prototype.toString.call(a);return _==="[object RegExp]"||_==="[object Date]"||isReactElement(a)}var canUseSymbol=typeof Symbol=="function"&&Symbol.for,REACT_ELEMENT_TYPE=canUseSymbol?Symbol.for("react.element"):60103;function isReactElement(a){return a.$$typeof===REACT_ELEMENT_TYPE}function emptyTarget(a){return Array.isArray(a)?[]:{}}function cloneUnlessOtherwiseSpecified(a,_){return _.clone!==!1&&_.isMergeableObject(a)?deepmerge(emptyTarget(a),a,_):a}function defaultArrayMerge(a,_,$){return a.concat(_).map(function(j){return cloneUnlessOtherwiseSpecified(j,$)})}function getMergeFunction(a,_){if(!_.customMerge)return deepmerge;var $=_.customMerge(a);return typeof $=="function"?$:deepmerge}function getEnumerableOwnPropertySymbols(a){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(a).filter(function(_){return Object.propertyIsEnumerable.call(a,_)}):[]}function getKeys(a){return Object.keys(a).concat(getEnumerableOwnPropertySymbols(a))}function propertyIsOnObject(a,_){try{return _ in a}catch{return!1}}function propertyIsUnsafe(a,_){return propertyIsOnObject(a,_)&&!(Object.hasOwnProperty.call(a,_)&&Object.propertyIsEnumerable.call(a,_))}function mergeObject(a,_,$){var j={};return $.isMergeableObject(a)&&getKeys(a).forEach(function(et){j[et]=cloneUnlessOtherwiseSpecified(a[et],$)}),getKeys(_).forEach(function(et){propertyIsUnsafe(a,et)||(propertyIsOnObject(a,et)&&$.isMergeableObject(_[et])?j[et]=getMergeFunction(et,$)(a[et],_[et],$):j[et]=cloneUnlessOtherwiseSpecified(_[et],$))}),j}function deepmerge(a,_,$){$=$||{},$.arrayMerge=$.arrayMerge||defaultArrayMerge,$.isMergeableObject=$.isMergeableObject||isMergeableObject,$.cloneUnlessOtherwiseSpecified=cloneUnlessOtherwiseSpecified;var j=Array.isArray(_),et=Array.isArray(a),tt=j===et;return tt?j?$.arrayMerge(a,_,$):mergeObject(a,_,$):cloneUnlessOtherwiseSpecified(_,$)}deepmerge.all=function a(_,$){if(!Array.isArray(_))throw new Error("first argument should be an array");return _.reduce(function(j,et){return deepmerge(j,et,$)},{})};var deepmerge_1=deepmerge,cjs=deepmerge_1,__create$4=Object.create,__defProp$6=Object.defineProperty,__getOwnPropDesc$6=Object.getOwnPropertyDescriptor,__getOwnPropNames$6=Object.getOwnPropertyNames,__getProtoOf$4=Object.getPrototypeOf,__hasOwnProp$6=Object.prototype.hasOwnProperty,__export$6=(a,_)=>{for(var $ in _)__defProp$6(a,$,{get:_[$],enumerable:!0})},__copyProps$6=(a,_,$,j)=>{if(_&&typeof _=="object"||typeof _=="function")for(let et of __getOwnPropNames$6(_))!__hasOwnProp$6.call(a,et)&&et!==$&&__defProp$6(a,et,{get:()=>_[et],enumerable:!(j=__getOwnPropDesc$6(_,et))||j.enumerable});return a},__toESM$4=(a,_,$)=>($=a!=null?__create$4(__getProtoOf$4(a)):{},__copyProps$6(!a||!a.__esModule?__defProp$6($,"default",{value:a,enumerable:!0}):$,a)),__toCommonJS$6=a=>__copyProps$6(__defProp$6({},"__esModule",{value:!0}),a),utils_exports={};__export$6(utils_exports,{callPlayer:()=>callPlayer,getConfig:()=>getConfig,getSDK:()=>getSDK,isBlobUrl:()=>isBlobUrl,isMediaStream:()=>isMediaStream,lazy:()=>lazy,omit:()=>omit,parseEndTime:()=>parseEndTime,parseStartTime:()=>parseStartTime,queryString:()=>queryString,randomString:()=>randomString,supportsWebKitPresentationMode:()=>supportsWebKitPresentationMode});var utils$1=__toCommonJS$6(utils_exports),import_react$2=__toESM$4(reactExports),import_load_script=__toESM$4(loadScript),import_deepmerge$1=__toESM$4(cjs);const lazy=a=>import_react$2.default.lazy(async()=>{const _=await a();return typeof _.default=="function"?_:_.default}),MATCH_START_QUERY=/[?&#](?:start|t)=([0-9hms]+)/,MATCH_END_QUERY=/[?&#]end=([0-9hms]+)/,MATCH_START_STAMP=/(\d+)(h|m|s)/g,MATCH_NUMERIC=/^\d+$/;function parseTimeParam(a,_){if(a instanceof Array)return;const $=a.match(_);if($){const j=$[1];if(j.match(MATCH_START_STAMP))return parseTimeString(j);if(MATCH_NUMERIC.test(j))return parseInt(j)}}function parseTimeString(a){let _=0,$=MATCH_START_STAMP.exec(a);for(;$!==null;){const[,j,et]=$;et==="h"&&(_+=parseInt(j,10)*60*60),et==="m"&&(_+=parseInt(j,10)*60),et==="s"&&(_+=parseInt(j,10)),$=MATCH_START_STAMP.exec(a)}return _}function parseStartTime(a){return parseTimeParam(a,MATCH_START_QUERY)}function parseEndTime(a){return parseTimeParam(a,MATCH_END_QUERY)}function randomString(){return Math.random().toString(36).substr(2,5)}function queryString(a){return Object.keys(a).map(_=>`${_}=${a[_]}`).join("&")}function getGlobal(a){return window[a]?window[a]:window.exports&&window.exports[a]?window.exports[a]:window.module&&window.module.exports&&window.module.exports[a]?window.module.exports[a]:null}const requests={},getSDK=function a(_,$,j=null,et=()=>!0,tt=import_load_script.default){const rt=getGlobal($);return rt&&et(rt)?Promise.resolve(rt):new Promise((nt,it)=>{if(requests[_]){requests[_].push({resolve:nt,reject:it});return}requests[_]=[{resolve:nt,reject:it}];const st=ot=>{requests[_].forEach(at=>at.resolve(ot))};if(j){const ot=window[j];window[j]=function(){ot&&ot(),st(getGlobal($))}}tt(_,ot=>{ot?(requests[_].forEach(at=>at.reject(ot)),requests[_]=null):j||st(getGlobal($))})})};function getConfig(a,_){return(0,import_deepmerge$1.default)(_.config,a.config)}function omit(a,..._){const $=[].concat(..._),j={},et=Object.keys(a);for(const tt of et)$.indexOf(tt)===-1&&(j[tt]=a[tt]);return j}function callPlayer(a,..._){if(!this.player||!this.player[a]){let $=`ReactPlayer: ${this.constructor.displayName} player could not call %c${a}%c – `;return this.player?this.player[a]||($+="The method was not available"):$+="The player was not available",console.warn($,"font-weight: bold",""),null}return this.player[a](..._)}function isMediaStream(a){return typeof window<"u"&&typeof window.MediaStream<"u"&&a instanceof window.MediaStream}function isBlobUrl(a){return/^blob:/.test(a)}function supportsWebKitPresentationMode(a=document.createElement("video")){const _=/iPhone|iPod/.test(navigator.userAgent)===!1;return a.webkitSupportsPresentationMode&&typeof a.webkitSetPresentationMode=="function"&&_}function enableStubOn(a){return a}var __defProp$5=Object.defineProperty,__getOwnPropDesc$5=Object.getOwnPropertyDescriptor,__getOwnPropNames$5=Object.getOwnPropertyNames,__hasOwnProp$5=Object.prototype.hasOwnProperty,__export$5=(a,_)=>{for(var $ in _)__defProp$5(a,$,{get:_[$],enumerable:!0})},__copyProps$5=(a,_,$,j)=>{if(_&&typeof _=="object"||typeof _=="function")for(let et of __getOwnPropNames$5(_))!__hasOwnProp$5.call(a,et)&&et!==$&&__defProp$5(a,et,{get:()=>_[et],enumerable:!(j=__getOwnPropDesc$5(_,et))||j.enumerable});return a},__toCommonJS$5=a=>__copyProps$5(__defProp$5({},"__esModule",{value:!0}),a),patterns_exports={};__export$5(patterns_exports,{AUDIO_EXTENSIONS:()=>AUDIO_EXTENSIONS,DASH_EXTENSIONS:()=>DASH_EXTENSIONS,FLV_EXTENSIONS:()=>FLV_EXTENSIONS,HLS_EXTENSIONS:()=>HLS_EXTENSIONS,MATCH_URL_DAILYMOTION:()=>MATCH_URL_DAILYMOTION,MATCH_URL_FACEBOOK:()=>MATCH_URL_FACEBOOK,MATCH_URL_FACEBOOK_WATCH:()=>MATCH_URL_FACEBOOK_WATCH,MATCH_URL_KALTURA:()=>MATCH_URL_KALTURA,MATCH_URL_MIXCLOUD:()=>MATCH_URL_MIXCLOUD,MATCH_URL_MUX:()=>MATCH_URL_MUX,MATCH_URL_SOUNDCLOUD:()=>MATCH_URL_SOUNDCLOUD,MATCH_URL_STREAMABLE:()=>MATCH_URL_STREAMABLE,MATCH_URL_TWITCH_CHANNEL:()=>MATCH_URL_TWITCH_CHANNEL,MATCH_URL_TWITCH_VIDEO:()=>MATCH_URL_TWITCH_VIDEO,MATCH_URL_VIDYARD:()=>MATCH_URL_VIDYARD,MATCH_URL_VIMEO:()=>MATCH_URL_VIMEO,MATCH_URL_WISTIA:()=>MATCH_URL_WISTIA,MATCH_URL_YOUTUBE:()=>MATCH_URL_YOUTUBE,VIDEO_EXTENSIONS:()=>VIDEO_EXTENSIONS,canPlay:()=>canPlay});var patterns=__toCommonJS$5(patterns_exports),import_utils$3=utils$1;const MATCH_URL_YOUTUBE=/(?:youtu\.be\/|youtube(?:-nocookie|education)?\.com\/(?:embed\/|v\/|watch\/|watch\?v=|watch\?.+&v=|shorts\/|live\/))((\w|-){11})|youtube\.com\/playlist\?list=|youtube\.com\/user\//,MATCH_URL_SOUNDCLOUD=/(?:soundcloud\.com|snd\.sc)\/[^.]+$/,MATCH_URL_VIMEO=/vimeo\.com\/(?!progressive_redirect).+/,MATCH_URL_MUX=/stream\.mux\.com\/(?!\w+\.m3u8)(\w+)/,MATCH_URL_FACEBOOK=/^https?:\/\/(www\.)?facebook\.com.*\/(video(s)?|watch|story)(\.php?|\/).+$/,MATCH_URL_FACEBOOK_WATCH=/^https?:\/\/fb\.watch\/.+$/,MATCH_URL_STREAMABLE=/streamable\.com\/([a-z0-9]+)$/,MATCH_URL_WISTIA=/(?:wistia\.(?:com|net)|wi\.st)\/(?:medias|embed)\/(?:iframe\/)?([^?]+)/,MATCH_URL_TWITCH_VIDEO=/(?:www\.|go\.)?twitch\.tv\/videos\/(\d+)($|\?)/,MATCH_URL_TWITCH_CHANNEL=/(?:www\.|go\.)?twitch\.tv\/([a-zA-Z0-9_]+)($|\?)/,MATCH_URL_DAILYMOTION=/^(?:(?:https?):)?(?:\/\/)?(?:www\.)?(?:(?:dailymotion\.com(?:\/embed)?\/video)|dai\.ly)\/([a-zA-Z0-9]+)(?:_[\w_-]+)?(?:[\w.#_-]+)?/,MATCH_URL_MIXCLOUD=/mixcloud\.com\/([^/]+\/[^/]+)/,MATCH_URL_VIDYARD=/vidyard.com\/(?:watch\/)?([a-zA-Z0-9-_]+)/,MATCH_URL_KALTURA=/^https?:\/\/[a-zA-Z]+\.kaltura.(com|org)\/p\/([0-9]+)\/sp\/([0-9]+)00\/embedIframeJs\/uiconf_id\/([0-9]+)\/partner_id\/([0-9]+)(.*)entry_id.([a-zA-Z0-9-_].*)$/,AUDIO_EXTENSIONS=/\.(m4a|m4b|mp4a|mpga|mp2|mp2a|mp3|m2a|m3a|wav|weba|aac|oga|spx)($|\?)/i,VIDEO_EXTENSIONS=/\.(mp4|og[gv]|webm|mov|m4v)(#t=[,\d+]+)?($|\?)/i,HLS_EXTENSIONS=/\.(m3u8)($|\?)/i,DASH_EXTENSIONS=/\.(mpd)($|\?)/i,FLV_EXTENSIONS=/\.(flv)($|\?)/i,canPlayFile=a=>{if(a instanceof Array){for(const _ of a)if(typeof _=="string"&&canPlayFile(_)||canPlayFile(_.src))return!0;return!1}return(0,import_utils$3.isMediaStream)(a)||(0,import_utils$3.isBlobUrl)(a)?!0:AUDIO_EXTENSIONS.test(a)||VIDEO_EXTENSIONS.test(a)||HLS_EXTENSIONS.test(a)||DASH_EXTENSIONS.test(a)||FLV_EXTENSIONS.test(a)},canPlay={youtube:a=>a instanceof Array?a.every(_=>MATCH_URL_YOUTUBE.test(_)):MATCH_URL_YOUTUBE.test(a),soundcloud:a=>MATCH_URL_SOUNDCLOUD.test(a)&&!AUDIO_EXTENSIONS.test(a),vimeo:a=>MATCH_URL_VIMEO.test(a)&&!VIDEO_EXTENSIONS.test(a)&&!HLS_EXTENSIONS.test(a),mux:a=>MATCH_URL_MUX.test(a),facebook:a=>MATCH_URL_FACEBOOK.test(a)||MATCH_URL_FACEBOOK_WATCH.test(a),streamable:a=>MATCH_URL_STREAMABLE.test(a),wistia:a=>MATCH_URL_WISTIA.test(a),twitch:a=>MATCH_URL_TWITCH_VIDEO.test(a)||MATCH_URL_TWITCH_CHANNEL.test(a),dailymotion:a=>MATCH_URL_DAILYMOTION.test(a),mixcloud:a=>MATCH_URL_MIXCLOUD.test(a),vidyard:a=>MATCH_URL_VIDYARD.test(a),kaltura:a=>MATCH_URL_KALTURA.test(a),file:canPlayFile};var __defProp$4=Object.defineProperty,__getOwnPropDesc$4=Object.getOwnPropertyDescriptor,__getOwnPropNames$4=Object.getOwnPropertyNames,__hasOwnProp$4=Object.prototype.hasOwnProperty,__export$4=(a,_)=>{for(var $ in _)__defProp$4(a,$,{get:_[$],enumerable:!0})},__copyProps$4=(a,_,$,j)=>{if(_&&typeof _=="object"||typeof _=="function")for(let et of __getOwnPropNames$4(_))!__hasOwnProp$4.call(a,et)&&et!==$&&__defProp$4(a,et,{get:()=>_[et],enumerable:!(j=__getOwnPropDesc$4(_,et))||j.enumerable});return a},__toCommonJS$4=a=>__copyProps$4(__defProp$4({},"__esModule",{value:!0}),a),players_exports={};__export$4(players_exports,{default:()=>players_default});var players=__toCommonJS$4(players_exports),import_utils$2=utils$1,import_patterns=patterns,players_default=[{key:"youtube",name:"YouTube",canPlay:import_patterns.canPlay.youtube,lazyPlayer:(0,import_utils$2.lazy)(()=>__vitePreload(()=>import("./YouTube-BfkODX3C.js").then(a=>a.Y),[],import.meta.url))},{key:"soundcloud",name:"SoundCloud",canPlay:import_patterns.canPlay.soundcloud,lazyPlayer:(0,import_utils$2.lazy)(()=>__vitePreload(()=>import("./SoundCloud-wNzf3NFR.js").then(a=>a.S),[],import.meta.url))},{key:"vimeo",name:"Vimeo",canPlay:import_patterns.canPlay.vimeo,lazyPlayer:(0,import_utils$2.lazy)(()=>__vitePreload(()=>import("./Vimeo-B-XwuByz.js").then(a=>a.V),[],import.meta.url))},{key:"mux",name:"Mux",canPlay:import_patterns.canPlay.mux,lazyPlayer:(0,import_utils$2.lazy)(()=>__vitePreload(()=>import("./Mux-BmFgytTs.js").then(a=>a.M),[],import.meta.url))},{key:"facebook",name:"Facebook",canPlay:import_patterns.canPlay.facebook,lazyPlayer:(0,import_utils$2.lazy)(()=>__vitePreload(()=>import("./Facebook-Ba9ESVFX.js").then(a=>a.F),[],import.meta.url))},{key:"streamable",name:"Streamable",canPlay:import_patterns.canPlay.streamable,lazyPlayer:(0,import_utils$2.lazy)(()=>__vitePreload(()=>import("./Streamable-8J5ep_wL.js").then(a=>a.S),[],import.meta.url))},{key:"wistia",name:"Wistia",canPlay:import_patterns.canPlay.wistia,lazyPlayer:(0,import_utils$2.lazy)(()=>__vitePreload(()=>import("./Wistia-DcsbUKWT.js").then(a=>a.W),[],import.meta.url))},{key:"twitch",name:"Twitch",canPlay:import_patterns.canPlay.twitch,lazyPlayer:(0,import_utils$2.lazy)(()=>__vitePreload(()=>import("./Twitch-kd7Z_EGu.js").then(a=>a.T),[],import.meta.url))},{key:"dailymotion",name:"DailyMotion",canPlay:import_patterns.canPlay.dailymotion,lazyPlayer:(0,import_utils$2.lazy)(()=>__vitePreload(()=>import("./DailyMotion-BRYoo2Pz.js").then(a=>a.D),[],import.meta.url))},{key:"mixcloud",name:"Mixcloud",canPlay:import_patterns.canPlay.mixcloud,lazyPlayer:(0,import_utils$2.lazy)(()=>__vitePreload(()=>import("./Mixcloud-Bfuu9Y78.js").then(a=>a.M),[],import.meta.url))},{key:"vidyard",name:"Vidyard",canPlay:import_patterns.canPlay.vidyard,lazyPlayer:(0,import_utils$2.lazy)(()=>__vitePreload(()=>import("./Vidyard-DHVQj87F.js").then(a=>a.V),[],import.meta.url))},{key:"kaltura",name:"Kaltura",canPlay:import_patterns.canPlay.kaltura,lazyPlayer:(0,import_utils$2.lazy)(()=>__vitePreload(()=>import("./Kaltura-BfUpFrw2.js").then(a=>a.K),[],import.meta.url))},{key:"file",name:"FilePlayer",canPlay:import_patterns.canPlay.file,canEnablePIP:a=>import_patterns.canPlay.file(a)&&(document.pictureInPictureEnabled||(0,import_utils$2.supportsWebKitPresentationMode)())&&!import_patterns.AUDIO_EXTENSIONS.test(a),lazyPlayer:(0,import_utils$2.lazy)(()=>__vitePreload(()=>import("./FilePlayer-BQgKF7ET.js").then(a=>a.F),[],import.meta.url))}],safeIsNaN=Number.isNaN||function a(_){return typeof _=="number"&&_!==_};function isEqual(a,_){return!!(a===_||safeIsNaN(a)&&safeIsNaN(_))}function areInputsEqual(a,_){if(a.length!==_.length)return!1;for(var $=0;$<a.length;$++)if(!isEqual(a[$],_[$]))return!1;return!0}function memoizeOne(a,_){_===void 0&&(_=areInputsEqual);var $,j=[],et,tt=!1;function rt(){for(var nt=[],it=0;it<arguments.length;it++)nt[it]=arguments[it];return tt&&$===this&&_(nt,j)||(et=a.apply(this,nt),tt=!0,$=this,j=nt),et}return rt}const memoizeOne_esm=Object.freeze(Object.defineProperty({__proto__:null,default:memoizeOne},Symbol.toStringTag,{value:"Module"})),require$$2=getAugmentedNamespace(memoizeOne_esm);var __create$3=Object.create,__defProp$3=Object.defineProperty,__getOwnPropDesc$3=Object.getOwnPropertyDescriptor,__getOwnPropNames$3=Object.getOwnPropertyNames,__getProtoOf$3=Object.getPrototypeOf,__hasOwnProp$3=Object.prototype.hasOwnProperty,__export$3=(a,_)=>{for(var $ in _)__defProp$3(a,$,{get:_[$],enumerable:!0})},__copyProps$3=(a,_,$,j)=>{if(_&&typeof _=="object"||typeof _=="function")for(let et of __getOwnPropNames$3(_))!__hasOwnProp$3.call(a,et)&&et!==$&&__defProp$3(a,et,{get:()=>_[et],enumerable:!(j=__getOwnPropDesc$3(_,et))||j.enumerable});return a},__toESM$3=(a,_,$)=>($=a!=null?__create$3(__getProtoOf$3(a)):{},__copyProps$3(!a||!a.__esModule?__defProp$3($,"default",{value:a,enumerable:!0}):$,a)),__toCommonJS$3=a=>__copyProps$3(__defProp$3({},"__esModule",{value:!0}),a),props_exports={};__export$3(props_exports,{defaultProps:()=>defaultProps,propTypes:()=>propTypes});var props=__toCommonJS$3(props_exports),import_prop_types=__toESM$3(propTypesExports);const{string,bool,number,array,oneOfType,shape,object,func,node}=import_prop_types.default,propTypes={url:oneOfType([string,array,object]),playing:bool,loop:bool,controls:bool,volume:number,muted:bool,playbackRate:number,width:oneOfType([string,number]),height:oneOfType([string,number]),style:object,progressInterval:number,playsinline:bool,pip:bool,stopOnUnmount:bool,light:oneOfType([bool,string,object]),playIcon:node,previewTabIndex:number,previewAriaLabel:string,fallback:node,oEmbedUrl:string,wrapper:oneOfType([string,func,shape({render:func.isRequired})]),config:shape({soundcloud:shape({options:object}),youtube:shape({playerVars:object,embedOptions:object,onUnstarted:func}),facebook:shape({appId:string,version:string,playerId:string,attributes:object}),dailymotion:shape({params:object}),vimeo:shape({playerOptions:object,title:string}),mux:shape({attributes:object,version:string}),file:shape({attributes:object,tracks:array,forceVideo:bool,forceAudio:bool,forceHLS:bool,forceSafariHLS:bool,forceDisableHls:bool,forceDASH:bool,forceFLV:bool,hlsOptions:object,hlsVersion:string,dashVersion:string,flvVersion:string}),wistia:shape({options:object,playerId:string,customControls:array}),mixcloud:shape({options:object}),twitch:shape({options:object,playerId:string}),vidyard:shape({options:object})}),onReady:func,onStart:func,onPlay:func,onPause:func,onBuffer:func,onBufferEnd:func,onEnded:func,onError:func,onDuration:func,onSeek:func,onPlaybackRateChange:func,onPlaybackQualityChange:func,onProgress:func,onClickPreview:func,onEnablePIP:func,onDisablePIP:func},noop$1=()=>{},defaultProps={playing:!1,loop:!1,controls:!1,volume:null,muted:!1,playbackRate:1,width:"640px",height:"360px",style:{},progressInterval:1e3,playsinline:!1,pip:!1,stopOnUnmount:!0,light:!1,fallback:null,wrapper:"div",previewTabIndex:0,previewAriaLabel:"",oEmbedUrl:"https://noembed.com/embed?url={url}",config:{soundcloud:{options:{visual:!0,buying:!1,liking:!1,download:!1,sharing:!1,show_comments:!1,show_playcount:!1}},youtube:{playerVars:{playsinline:1,showinfo:0,rel:0,iv_load_policy:3,modestbranding:1},embedOptions:{},onUnstarted:noop$1},facebook:{appId:"1309697205772819",version:"v3.3",playerId:null,attributes:{}},dailymotion:{params:{api:1,"endscreen-enable":!1}},vimeo:{playerOptions:{autopause:!1,byline:!1,portrait:!1,title:!1},title:null},mux:{attributes:{},version:"2"},file:{attributes:{},tracks:[],forceVideo:!1,forceAudio:!1,forceHLS:!1,forceDASH:!1,forceFLV:!1,hlsOptions:{},hlsVersion:"1.1.4",dashVersion:"3.1.3",flvVersion:"1.5.0",forceDisableHls:!1},wistia:{options:{},playerId:null,customControls:null},mixcloud:{options:{hide_cover:1}},twitch:{options:{},playerId:null},vidyard:{options:{}}},onReady:noop$1,onStart:noop$1,onPlay:noop$1,onPause:noop$1,onBuffer:noop$1,onBufferEnd:noop$1,onEnded:noop$1,onError:noop$1,onDuration:noop$1,onSeek:noop$1,onPlaybackRateChange:noop$1,onPlaybackQualityChange:noop$1,onProgress:noop$1,onClickPreview:noop$1,onEnablePIP:noop$1,onDisablePIP:noop$1};var __create$2=Object.create,__defProp$2=Object.defineProperty,__getOwnPropDesc$2=Object.getOwnPropertyDescriptor,__getOwnPropNames$2=Object.getOwnPropertyNames,__getProtoOf$2=Object.getPrototypeOf,__hasOwnProp$2=Object.prototype.hasOwnProperty,__defNormalProp$1=(a,_,$)=>_ in a?__defProp$2(a,_,{enumerable:!0,configurable:!0,writable:!0,value:$}):a[_]=$,__export$2=(a,_)=>{for(var $ in _)__defProp$2(a,$,{get:_[$],enumerable:!0})},__copyProps$2=(a,_,$,j)=>{if(_&&typeof _=="object"||typeof _=="function")for(let et of __getOwnPropNames$2(_))!__hasOwnProp$2.call(a,et)&&et!==$&&__defProp$2(a,et,{get:()=>_[et],enumerable:!(j=__getOwnPropDesc$2(_,et))||j.enumerable});return a},__toESM$2=(a,_,$)=>($=a!=null?__create$2(__getProtoOf$2(a)):{},__copyProps$2(!a||!a.__esModule?__defProp$2($,"default",{value:a,enumerable:!0}):$,a)),__toCommonJS$2=a=>__copyProps$2(__defProp$2({},"__esModule",{value:!0}),a),__publicField$1=(a,_,$)=>(__defNormalProp$1(a,typeof _!="symbol"?_+"":_,$),$),Player_exports={};__export$2(Player_exports,{default:()=>Player});var Player_1=__toCommonJS$2(Player_exports),import_react$1=__toESM$2(reactExports),import_react_fast_compare$1=__toESM$2(reactFastCompare),import_props$1=props,import_utils$1=utils$1;const SEEK_ON_PLAY_EXPIRY=5e3;class Player extends import_react$1.Component{constructor(){super(...arguments),__publicField$1(this,"mounted",!1),__publicField$1(this,"isReady",!1),__publicField$1(this,"isPlaying",!1),__publicField$1(this,"isLoading",!0),__publicField$1(this,"loadOnReady",null),__publicField$1(this,"startOnPlay",!0),__publicField$1(this,"seekOnPlay",null),__publicField$1(this,"onDurationCalled",!1),__publicField$1(this,"handlePlayerMount",_=>{if(this.player){this.progress();return}this.player=_,this.player.load(this.props.url),this.progress()}),__publicField$1(this,"getInternalPlayer",_=>this.player?this.player[_]:null),__publicField$1(this,"progress",()=>{if(this.props.url&&this.player&&this.isReady){const _=this.getCurrentTime()||0,$=this.getSecondsLoaded(),j=this.getDuration();if(j){const et={playedSeconds:_,played:_/j};$!==null&&(et.loadedSeconds=$,et.loaded=$/j),(et.playedSeconds!==this.prevPlayed||et.loadedSeconds!==this.prevLoaded)&&this.props.onProgress(et),this.prevPlayed=et.playedSeconds,this.prevLoaded=et.loadedSeconds}}this.progressTimeout=setTimeout(this.progress,this.props.progressFrequency||this.props.progressInterval)}),__publicField$1(this,"handleReady",()=>{if(!this.mounted)return;this.isReady=!0,this.isLoading=!1;const{onReady:_,playing:$,volume:j,muted:et}=this.props;_(),!et&&j!==null&&this.player.setVolume(j),this.loadOnReady?(this.player.load(this.loadOnReady,!0),this.loadOnReady=null):$&&this.player.play(),this.handleDurationCheck()}),__publicField$1(this,"handlePlay",()=>{this.isPlaying=!0,this.isLoading=!1;const{onStart:_,onPlay:$,playbackRate:j}=this.props;this.startOnPlay&&(this.player.setPlaybackRate&&j!==1&&this.player.setPlaybackRate(j),_(),this.startOnPlay=!1),$(),this.seekOnPlay&&(this.seekTo(this.seekOnPlay),this.seekOnPlay=null),this.handleDurationCheck()}),__publicField$1(this,"handlePause",_=>{this.isPlaying=!1,this.isLoading||this.props.onPause(_)}),__publicField$1(this,"handleEnded",()=>{const{activePlayer:_,loop:$,onEnded:j}=this.props;_.loopOnEnded&&$&&this.seekTo(0),$||(this.isPlaying=!1,j())}),__publicField$1(this,"handleError",(..._)=>{this.isLoading=!1,this.props.onError(..._)}),__publicField$1(this,"handleDurationCheck",()=>{clearTimeout(this.durationCheckTimeout);const _=this.getDuration();_?this.onDurationCalled||(this.props.onDuration(_),this.onDurationCalled=!0):this.durationCheckTimeout=setTimeout(this.handleDurationCheck,100)}),__publicField$1(this,"handleLoaded",()=>{this.isLoading=!1})}componentDidMount(){this.mounted=!0}componentWillUnmount(){clearTimeout(this.progressTimeout),clearTimeout(this.durationCheckTimeout),this.isReady&&this.props.stopOnUnmount&&(this.player.stop(),this.player.disablePIP&&this.player.disablePIP()),this.mounted=!1}componentDidUpdate(_){if(!this.player)return;const{url:$,playing:j,volume:et,muted:tt,playbackRate:rt,pip:nt,loop:it,activePlayer:st,disableDeferredLoading:ot}=this.props;if(!(0,import_react_fast_compare$1.default)(_.url,$)){if(this.isLoading&&!st.forceLoad&&!ot&&!(0,import_utils$1.isMediaStream)($)){console.warn(`ReactPlayer: the attempt to load ${$} is being deferred until the player has loaded`),this.loadOnReady=$;return}this.isLoading=!0,this.startOnPlay=!0,this.onDurationCalled=!1,this.player.load($,this.isReady)}!_.playing&&j&&!this.isPlaying&&this.player.play(),_.playing&&!j&&this.isPlaying&&this.player.pause(),!_.pip&&nt&&this.player.enablePIP&&this.player.enablePIP(),_.pip&&!nt&&this.player.disablePIP&&this.player.disablePIP(),_.volume!==et&&et!==null&&this.player.setVolume(et),_.muted!==tt&&(tt?this.player.mute():(this.player.unmute(),et!==null&&setTimeout(()=>this.player.setVolume(et)))),_.playbackRate!==rt&&this.player.setPlaybackRate&&this.player.setPlaybackRate(rt),_.loop!==it&&this.player.setLoop&&this.player.setLoop(it)}getDuration(){return this.isReady?this.player.getDuration():null}getCurrentTime(){return this.isReady?this.player.getCurrentTime():null}getSecondsLoaded(){return this.isReady?this.player.getSecondsLoaded():null}seekTo(_,$,j){if(!this.isReady){_!==0&&(this.seekOnPlay=_,setTimeout(()=>{this.seekOnPlay=null},SEEK_ON_PLAY_EXPIRY));return}if($?$==="fraction":_>0&&_<1){const tt=this.player.getDuration();if(!tt){console.warn("ReactPlayer: could not seek using fraction – duration not yet available");return}this.player.seekTo(tt*_,j);return}this.player.seekTo(_,j)}render(){const _=this.props.activePlayer;return _?import_react$1.default.createElement(_,{...this.props,onMount:this.handlePlayerMount,onReady:this.handleReady,onPlay:this.handlePlay,onPause:this.handlePause,onEnded:this.handleEnded,onLoaded:this.handleLoaded,onError:this.handleError}):null}}__publicField$1(Player,"displayName","Player");__publicField$1(Player,"propTypes",import_props$1.propTypes);__publicField$1(Player,"defaultProps",import_props$1.defaultProps);var __create$1=Object.create,__defProp$1=Object.defineProperty,__getOwnPropDesc$1=Object.getOwnPropertyDescriptor,__getOwnPropNames$1=Object.getOwnPropertyNames,__getProtoOf$1=Object.getPrototypeOf,__hasOwnProp$1=Object.prototype.hasOwnProperty,__defNormalProp=(a,_,$)=>_ in a?__defProp$1(a,_,{enumerable:!0,configurable:!0,writable:!0,value:$}):a[_]=$,__export$1=(a,_)=>{for(var $ in _)__defProp$1(a,$,{get:_[$],enumerable:!0})},__copyProps$1=(a,_,$,j)=>{if(_&&typeof _=="object"||typeof _=="function")for(let et of __getOwnPropNames$1(_))!__hasOwnProp$1.call(a,et)&&et!==$&&__defProp$1(a,et,{get:()=>_[et],enumerable:!(j=__getOwnPropDesc$1(_,et))||j.enumerable});return a},__toESM$1=(a,_,$)=>($=a!=null?__create$1(__getProtoOf$1(a)):{},__copyProps$1(!a||!a.__esModule?__defProp$1($,"default",{value:a,enumerable:!0}):$,a)),__toCommonJS$1=a=>__copyProps$1(__defProp$1({},"__esModule",{value:!0}),a),__publicField=(a,_,$)=>(__defNormalProp(a,typeof _!="symbol"?_+"":_,$),$),ReactPlayer_exports={};__export$1(ReactPlayer_exports,{createReactPlayer:()=>createReactPlayer});var ReactPlayer$1=__toCommonJS$1(ReactPlayer_exports),import_react=__toESM$1(reactExports),import_deepmerge=__toESM$1(cjs),import_memoize_one=__toESM$1(require$$2),import_react_fast_compare=__toESM$1(reactFastCompare),import_props=props,import_utils=utils$1,import_Player=__toESM$1(Player_1);const Preview=(0,import_utils.lazy)(()=>__vitePreload(()=>import("./Preview-DFXDx-Ug.js").then(a=>a.P),[],import.meta.url)),IS_BROWSER=typeof window<"u"&&window.document&&typeof document<"u",IS_GLOBAL=typeof commonjsGlobal<"u"&&commonjsGlobal.window&&commonjsGlobal.window.document,SUPPORTED_PROPS=Object.keys(import_props.propTypes),UniversalSuspense=IS_BROWSER||IS_GLOBAL?import_react.Suspense:()=>null,customPlayers=[],createReactPlayer=(a,_)=>{var $;return $=class extends import_react.Component{constructor(){super(...arguments),__publicField(this,"state",{showPreview:!!this.props.light}),__publicField(this,"references",{wrapper:j=>{this.wrapper=j},player:j=>{this.player=j}}),__publicField(this,"handleClickPreview",j=>{this.setState({showPreview:!1}),this.props.onClickPreview(j)}),__publicField(this,"showPreview",()=>{this.setState({showPreview:!0})}),__publicField(this,"getDuration",()=>this.player?this.player.getDuration():null),__publicField(this,"getCurrentTime",()=>this.player?this.player.getCurrentTime():null),__publicField(this,"getSecondsLoaded",()=>this.player?this.player.getSecondsLoaded():null),__publicField(this,"getInternalPlayer",(j="player")=>this.player?this.player.getInternalPlayer(j):null),__publicField(this,"seekTo",(j,et,tt)=>{if(!this.player)return null;this.player.seekTo(j,et,tt)}),__publicField(this,"handleReady",()=>{this.props.onReady(this)}),__publicField(this,"getActivePlayer",(0,import_memoize_one.default)(j=>{for(const et of[...customPlayers,...a])if(et.canPlay(j))return et;return _||null})),__publicField(this,"getConfig",(0,import_memoize_one.default)((j,et)=>{const{config:tt}=this.props;return import_deepmerge.default.all([import_props.defaultProps.config,import_props.defaultProps.config[et]||{},tt,tt[et]||{}])})),__publicField(this,"getAttributes",(0,import_memoize_one.default)(j=>(0,import_utils.omit)(this.props,SUPPORTED_PROPS))),__publicField(this,"renderActivePlayer",j=>{if(!j)return null;const et=this.getActivePlayer(j);if(!et)return null;const tt=this.getConfig(j,et.key);return import_react.default.createElement(import_Player.default,{...this.props,key:et.key,ref:this.references.player,config:tt,activePlayer:et.lazyPlayer||et,onReady:this.handleReady})})}shouldComponentUpdate(j,et){return!(0,import_react_fast_compare.default)(this.props,j)||!(0,import_react_fast_compare.default)(this.state,et)}componentDidUpdate(j){const{light:et}=this.props;!j.light&&et&&this.setState({showPreview:!0}),j.light&&!et&&this.setState({showPreview:!1})}renderPreview(j){if(!j)return null;const{light:et,playIcon:tt,previewTabIndex:rt,oEmbedUrl:nt,previewAriaLabel:it}=this.props;return import_react.default.createElement(Preview,{url:j,light:et,playIcon:tt,previewTabIndex:rt,previewAriaLabel:it,oEmbedUrl:nt,onClick:this.handleClickPreview})}render(){const{url:j,style:et,width:tt,height:rt,fallback:nt,wrapper:it}=this.props,{showPreview:st}=this.state,ot=this.getAttributes(j),at=typeof it=="string"?this.references.wrapper:void 0;return import_react.default.createElement(it,{ref:at,style:{...et,width:tt,height:rt},...ot},import_react.default.createElement(UniversalSuspense,{fallback:nt},st?this.renderPreview(j):this.renderActivePlayer(j)))}},__publicField($,"displayName","ReactPlayer"),__publicField($,"propTypes",import_props.propTypes),__publicField($,"defaultProps",import_props.defaultProps),__publicField($,"addCustomPlayer",j=>{customPlayers.push(j)}),__publicField($,"removeCustomPlayers",()=>{customPlayers.length=0}),__publicField($,"canPlay",j=>{for(const et of[...customPlayers,...a])if(et.canPlay(j))return!0;return!1}),__publicField($,"canEnablePIP",j=>{for(const et of[...customPlayers,...a])if(et.canEnablePIP&&et.canEnablePIP(j))return!0;return!1}),$};var __create=Object.create,__defProp=Object.defineProperty,__getOwnPropDesc=Object.getOwnPropertyDescriptor,__getOwnPropNames=Object.getOwnPropertyNames,__getProtoOf=Object.getPrototypeOf,__hasOwnProp=Object.prototype.hasOwnProperty,__export=(a,_)=>{for(var $ in _)__defProp(a,$,{get:_[$],enumerable:!0})},__copyProps=(a,_,$,j)=>{if(_&&typeof _=="object"||typeof _=="function")for(let et of __getOwnPropNames(_))!__hasOwnProp.call(a,et)&&et!==$&&__defProp(a,et,{get:()=>_[et],enumerable:!(j=__getOwnPropDesc(_,et))||j.enumerable});return a},__toESM=(a,_,$)=>($=a!=null?__create(__getProtoOf(a)):{},__copyProps(!a||!a.__esModule?__defProp($,"default",{value:a,enumerable:!0}):$,a)),__toCommonJS=a=>__copyProps(__defProp({},"__esModule",{value:!0}),a),src_exports={};__export(src_exports,{default:()=>src_default});var lib$1=__toCommonJS(src_exports),import_players=__toESM(players),import_ReactPlayer=ReactPlayer$1;const fallback=import_players.default[import_players.default.length-1];var src_default=(0,import_ReactPlayer.createReactPlayer)(import_players.default,fallback);const ReactPlayer=getDefaultExportFromCjs$1(lib$1),AttributesAccordionItem=({nft:a,style:_})=>{const $=a.metadata.attributes;return!$||$.length===0?null:jsxRuntimeExports.jsxs(AccordionItem,{background:colors.gray[800],"data-testid":"attributes-section",style:_,children:[jsxRuntimeExports.jsxs(AccordionButton,{paddingY:"16px",children:[jsxRuntimeExports.jsx(Heading,{flex:"1",textAlign:"left",size:"md",children:"Attributes"}),jsxRuntimeExports.jsx(AccordionIcon,{})]}),jsxRuntimeExports.jsx(AccordionPanel,{children:jsxRuntimeExports.jsx(Wrap,{marginLeft:"0",spacing:"10px",children:$.map(j=>jsxRuntimeExports.jsx(WrapItem,{flex:"1","data-testid":"nft-attribute",children:jsxRuntimeExports.jsx(Card,{width:"160px",height:"128px",marginBottom:"2px",background:colors.gray[700],children:jsxRuntimeExports.jsxs(CardBody,{padding:"16px",children:[jsxRuntimeExports.jsx(Text,{color:colors.gray[400],size:"sm",children:j.name}),jsxRuntimeExports.jsx(Heading,{size:"md",children:j.value})]})})},j.name))})})]})},TruncatedTextWithTooltip=({text:a,maxLength:_})=>a.length<=_?jsxRuntimeExports.jsx(Text,{"data-testid":"truncated-text",children:a}):jsxRuntimeExports.jsx(Tooltip,{label:a,children:jsxRuntimeExports.jsx(Text,{"data-testid":"truncated-text",children:truncate(a,_)})}),TzktLink=({url:a,..._})=>jsxRuntimeExports.jsx("a",{"data-testid":"tzkt-link",href:a,rel:"noopener noreferrer",target:"_blank",children:jsxRuntimeExports.jsx(WindowLinkIcon,{..._})}),CreatorElement=({nft:a})=>{if(!a.metadata.creators||a.metadata.creators.length===0)return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:"-"});const _=a.metadata.creators[0];return _.startsWith("tz")?jsxRuntimeExports.jsx(AddressPill,{marginRight:1,address:parsePkh(_)}):jsxRuntimeExports.jsx(TruncatedTextWithTooltip,{maxLength:15,text:_})},PropertiesAccordionItem=({nft:a,style:_})=>{const $=royalties(a),j=$.reduce((tt,rt)=>tt+rt.share,0).toFixed(2),et=useSelectedNetwork();return jsxRuntimeExports.jsxs(AccordionItem,{background:colors.gray[800],style:_,children:[jsxRuntimeExports.jsxs(AccordionButton,{paddingY:"16px",children:[jsxRuntimeExports.jsx(Heading,{flex:"1",textAlign:"left",size:"md",children:"Properties"}),jsxRuntimeExports.jsx(AccordionIcon,{})]}),jsxRuntimeExports.jsx(AccordionPanel,{children:jsxRuntimeExports.jsx(TableContainer,{children:jsxRuntimeExports.jsx(Table,{variant:"stripped",children:jsxRuntimeExports.jsxs(Tbody,{fontSize:"14px",children:[jsxRuntimeExports.jsxs(Tr,{background:colors.gray[900],borderColor:colors.gray[700],borderBottomWidth:"1px",borderRadius:"8px",children:[jsxRuntimeExports.jsx(Td,{width:"20%",padding:"16px 0 16px 15px",paddingRight:"0",color:colors.gray[400],borderTopLeftRadius:"8px","data-testid":"nft-editions",children:"Editions:"}),jsxRuntimeExports.jsx(Td,{width:"30%",padding:"16px 0 16px 5px",borderColor:colors.gray[700],borderRightWidth:"1px","data-testid":"nft-editions-value",children:a.totalSupply||"?"}),jsxRuntimeExports.jsx(Td,{width:"20%",padding:"16px 0 16px 15px",color:colors.gray[400],children:"Token ID:"}),jsxRuntimeExports.jsx(Td,{width:"30%",padding:"16px 0 16px 5px",borderTopRightRadius:"8px",children:a.tokenId})]}),jsxRuntimeExports.jsxs(Tr,{background:colors.gray[800],borderColor:colors.gray[700],borderBottomWidth:"1px",children:[jsxRuntimeExports.jsxs(Td,{padding:"16px 0 16px 15px",color:colors.gray[400],"data-testid":"nft-royalty",children:["Royalties",$.length>1?" ("+$.length+")":"",":"]}),jsxRuntimeExports.jsx(Td,{padding:"16px 0 16px 5px",borderColor:colors.gray[700],borderRightWidth:"1px","data-testid":"nft-royalty-value",children:$.length>0?j+"%":"-"}),jsxRuntimeExports.jsx(Td,{padding:"16px 0 16px 15px",color:colors.gray[400],"data-testid":"nft-mime",children:"MIME type:"}),jsxRuntimeExports.jsx(Td,{width:"30%",padding:"16px 0 16px 5px","data-testid":"nft-mime-value",children:mimeType(a)||"-"})]}),jsxRuntimeExports.jsxs(Tr,{background:colors.gray[900],borderColor:colors.gray[700],borderBottomWidth:"1px",children:[jsxRuntimeExports.jsx(Td,{padding:"16px 0 16px 15px",color:colors.gray[400],children:"Contract:"}),jsxRuntimeExports.jsx(Td,{padding:"16px 0 16px 5px",borderColor:colors.gray[700],borderRightWidth:"1px",children:jsxRuntimeExports.jsx(AddressPill,{marginRight:1,address:parsePkh(a.contract)})}),jsxRuntimeExports.jsx(Td,{padding:"16px 0 16px 15px",color:colors.gray[400],children:"Metadata:"}),jsxRuntimeExports.jsxs(Td,{width:"30%",padding:"16px 0 16px 5px",children:["TzKT ",jsxRuntimeExports.jsx(TzktLink,{url:metadataUri(a,et)})]})]}),jsxRuntimeExports.jsxs(Tr,{background:colors.gray[800],borderColor:colors.gray[700],borderBottomWidth:"1px",children:[jsxRuntimeExports.jsx(Td,{padding:"16px 0 16px 15px",color:colors.gray[400],"data-testid":"nft-creator",children:"Creator:"}),jsxRuntimeExports.jsx(Td,{padding:"16px 0 16px 5px",borderColor:colors.gray[700],borderRightWidth:"1px","data-testid":"nft-creator-value",children:jsxRuntimeExports.jsx(CreatorElement,{nft:a})}),jsxRuntimeExports.jsx(Td,{padding:"16px 0 16px 15px",color:colors.gray[400],children:"License:"}),jsxRuntimeExports.jsx(Td,{width:"30%",padding:"16px 0 16px 5px",children:jsxRuntimeExports.jsx(TruncatedTextWithTooltip,{maxLength:15,text:a.metadata.rights||"-"})})]})]})})})})]})},TagsSection=({nft:a})=>{const _=a.metadata.tags;return!_||_.length===0?null:jsxRuntimeExports.jsx(Wrap,{marginTop:"20px","data-testid":"tags-section",children:_.map($=>jsxRuntimeExports.jsx(WrapItem,{padding:"3px 8px",background:colors.gray[600],borderRadius:"100px",children:jsxRuntimeExports.jsx(Text,{color:colors.gray[400],"data-testid":"nft-tag",children:$})},$))})},SendNFTRecapTile=({nft:a})=>{const _=getIPFSurl(thumbnailUri(a)),$=getIPFSurl(a.displayUri);return jsxRuntimeExports.jsx(Box,{width:"100%","aria-label":"nft",children:jsxRuntimeExports.jsxs(Flex,{alignItems:"center",height:"60px",padding:3,background:colors.gray[800],borderRadius:"4px","data-testid":"nft-name",children:[jsxRuntimeExports.jsx(AspectRatio,{width:"30px",height:"30px",ratio:1,children:jsxRuntimeExports.jsx(Image$1,{fallbackSrc:$,src:_})}),a.metadata.name&&jsxRuntimeExports.jsx(Heading,{marginLeft:4,size:"sm",children:truncate(a.metadata.name,45)})]})})},SignPage$1=a=>{const{mode:_,operations:$,fee:j,data:{nft:et}}=a,{fee:tt,operations:rt,estimationFailed:nt,isLoading:it,form:st,signer:ot,reEstimate:at,onSign:ut}=useSignPageHelpers(j,$,_),{recipient:ht}=rt.operations[0];return jsxRuntimeExports.jsx(FormProvider,{...st,children:jsxRuntimeExports.jsx(ModalContent,{children:jsxRuntimeExports.jsxs("form",{children:[jsxRuntimeExports.jsx(SignPageHeader,{...a,operationsType:rt.type,signer:rt.signer}),jsxRuntimeExports.jsxs(ModalBody,{children:[jsxRuntimeExports.jsx(Flex,{marginBottom:"12px",children:jsxRuntimeExports.jsx(SendNFTRecapTile,{nft:et})}),jsxRuntimeExports.jsxs(Flex,{alignItems:"center",justifyContent:"space-between",marginY:"12px",paddingX:"4px",children:[jsxRuntimeExports.jsxs(Flex,{alignItems:"center",children:[jsxRuntimeExports.jsx(Heading,{marginRight:"4px",color:colors.gray[450],size:"sm",children:"Owned:"}),jsxRuntimeExports.jsx(Text,{color:colors.gray[400],"data-testid":"nft-owned",size:"sm",children:et.balance})]}),jsxRuntimeExports.jsx(SignPageFee,{fee:tt})]}),jsxRuntimeExports.jsxs(Flex,{alignItems:"center",marginTop:"12px",marginBottom:"24px",children:[jsxRuntimeExports.jsx(Heading,{marginRight:"12px",size:"md",children:"Quantity:"}),jsxRuntimeExports.jsx(Center,{width:"100px",height:"48px",background:colors.gray[800],borderRadius:"4px",children:jsxRuntimeExports.jsxs(Text,{textAlign:"center",children:[rt.operations[0].amount," out of ",et.balance]})})]}),jsxRuntimeExports.jsx(FormLabel,{children:"From"}),jsxRuntimeExports.jsx(AddressTile,{marginBottom:"24px",address:rt.sender.address}),jsxRuntimeExports.jsx(FormLabel,{children:"To"}),jsxRuntimeExports.jsx(AddressTile,{address:ht}),jsxRuntimeExports.jsx(OperationSignerSelector,{isLoading:it,operationType:rt.type,reEstimate:at,sender:rt.sender})]}),jsxRuntimeExports.jsx(ModalFooter,{children:jsxRuntimeExports.jsx(SignButton,{isDisabled:nt,isLoading:it,onSubmit:ut,signer:ot,text:headerText(rt.type,_)})})]})})})},FormPage$1=a=>{const{nft:_}=a,$=useOpenSignPageFormAction({SignPage:SignPage$1,signPageExtraData:{nft:_},FormPage:FormPage$1,defaultFormPageProps:a,toOperation:toOperation$1(_)}),j=useAddToBatchFormAction(toOperation$1(_)),{onFormSubmitActionHandlers:[et,tt],isLoading:rt}=useHandleOnSubmitFormActions([$,j]),nt=useForm({mode:"onBlur",defaultValues:{quantity:1,...formDefaultValues(a)}}),{formState:{isValid:it,errors:st},register:ot,handleSubmit:at}=nt;return jsxRuntimeExports.jsx(FormProvider,{...nt,children:jsxRuntimeExports.jsx(ModalContent,{children:jsxRuntimeExports.jsxs("form",{children:[jsxRuntimeExports.jsx(FormPageHeader,{}),jsxRuntimeExports.jsxs(ModalBody,{children:[jsxRuntimeExports.jsx(Flex,{marginBottom:"12px",children:jsxRuntimeExports.jsx(SendNFTRecapTile,{nft:a.nft})}),jsxRuntimeExports.jsxs(Flex,{alignItems:"center",children:[jsxRuntimeExports.jsx(Heading,{marginRight:"4px",color:colors.gray[450],size:"sm",children:"Owned:"}),jsxRuntimeExports.jsx(Text,{color:colors.gray[400],"data-testid":"nft-owned",size:"sm",children:_.balance})]}),jsxRuntimeExports.jsxs(FormControl,{marginTop:"24px",isInvalid:!!st.quantity,children:[jsxRuntimeExports.jsx(FormLabel,{children:jsxRuntimeExports.jsxs(Flex,{alignItems:"center",children:[jsxRuntimeExports.jsx(Heading,{marginRight:"8px",size:"md",children:"Quantity:"}),jsxRuntimeExports.jsxs(Flex,{alignItems:"center",children:[jsxRuntimeExports.jsx(InputGroup,{width:"75px",children:jsxRuntimeExports.jsx(Input,{width:"60px",color:"white","data-testid":"quantity-input",step:1,type:"number",...ot("quantity",{required:"Quantity is required",max:{value:_.balance,message:`Max quantity is ${_.balance}`},min:{value:1,message:"Min quantity is 1"}})})}),jsxRuntimeExports.jsxs(Text,{"data-testid":"out-of-nft",children:["out of ",_.balance]})]})]})}),st.quantity&&jsxRuntimeExports.jsx(FormErrorMessage,{"data-testid":"quantity-error",children:st.quantity.message})]}),jsxRuntimeExports.jsxs(FormControl,{marginTop:"24px",isInvalid:!!st.sender,children:[jsxRuntimeExports.jsx(OwnedAccountsAutocomplete,{allowUnknown:!1,inputName:"sender",isDisabled:!0,label:"From"}),st.sender&&jsxRuntimeExports.jsx(FormErrorMessage,{"data-testid":"from-error",children:st.sender.message})]}),jsxRuntimeExports.jsxs(FormControl,{marginTop:"24px",isInvalid:!!st.recipient,children:[jsxRuntimeExports.jsx(KnownAccountsAutocomplete,{allowUnknown:!0,inputName:"recipient",label:"To"}),st.recipient&&jsxRuntimeExports.jsx(FormErrorMessage,{"data-testid":"recipient-error",children:st.recipient.message})]})]}),jsxRuntimeExports.jsx(ModalFooter,{children:jsxRuntimeExports.jsx(FormSubmitButtons,{isLoading:rt,isValid:it,onAddToBatch:at(tt),onSingleSubmit:at(et)})})]})})})},toOperation$1=a=>_=>({type:"fa2",sender:parsePkh(_.sender),recipient:parsePkh(_.recipient),contract:parseContractPkh(a.contract),tokenId:a.tokenId,amount:_.quantity.toString()}),NFTDrawerCard=({nft:a})=>{var it;const _=getIPFSurl(artifactUri(a)),$=getIPFSurl(a.displayUri),j=useGetOwnedAccount(),{openWith:et}=reactExports.useContext(DynamicModalContext),tt=(it=mimeType(a))==null?void 0:it.startsWith("video/"),rt=tokenName(a),nt={border:"none",borderRadius:"8px",marginBottom:"20px"};return jsxRuntimeExports.jsxs(Box,{children:[jsxRuntimeExports.jsx(Card,{width:"534px",height:"534px",background:colors.gray[800],children:jsxRuntimeExports.jsxs(CardBody,{padding:"24px",children:[jsxRuntimeExports.jsx(Box,{position:"relative",width:"486px",height:"486px",children:tt?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Box,{position:"absolute",zIndex:1,width:"486px",height:"486px",children:jsxRuntimeExports.jsx(ReactPlayer,{width:"100%",height:"100%",loop:!0,playing:!0,url:_})}),jsxRuntimeExports.jsx(Image$1,{position:"absolute",zIndex:0,top:"0",width:"486px",height:"486px",objectFit:"contain",alt:rt,filter:"blur(20px)",src:$})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Image$1,{position:"absolute",zIndex:1,width:"486px",height:"486px",objectFit:"contain",alt:rt,fallbackSrc:$,src:_}),jsxRuntimeExports.jsx(Image$1,{position:"absolute",zIndex:0,top:"0",width:"486px",height:"486px",objectFit:"contain",alt:rt,"data-testid":"nft-image",fallbackSrc:$,filter:"blur(20px)",src:_})]})}),Number(a.balance)>1&&jsxRuntimeExports.jsx(Text,{position:"absolute",zIndex:3,display:"inline",height:"24px",marginTop:"-38px",marginLeft:"16px",borderRadius:"100px",backgroundColor:"rgba(33, 33, 33, 0.75)","data-testid":"nft-owned-count",paddingX:"8px",children:"x"+a.balance})]})}),jsxRuntimeExports.jsx(TagsSection,{nft:a}),rt&&jsxRuntimeExports.jsx(Heading,{marginTop:"16px",marginBottom:"14px","data-testid":"nft-name",size:"lg",children:rt}),a.metadata.description&&jsxRuntimeExports.jsx(Text,{color:colors.gray[400],"data-testid":"nft-description",size:"sm",children:a.metadata.description}),jsxRuntimeExports.jsx(Button,{marginTop:"20px",onClick:()=>et(jsxRuntimeExports.jsx(FormPage$1,{nft:a,sender:j(a.owner)})),children:"Send"}),jsxRuntimeExports.jsxs(Accordion,{marginTop:"32px",allowMultiple:!0,children:[jsxRuntimeExports.jsx(AttributesAccordionItem,{nft:a,style:nt}),jsxRuntimeExports.jsx(PropertiesAccordionItem,{nft:a,style:nt}),jsxRuntimeExports.jsxs(AccordionItem,{background:colors.gray[800],style:nt,children:[jsxRuntimeExports.jsxs(AccordionButton,{paddingY:"16px",children:[jsxRuntimeExports.jsx(Heading,{flex:"1",textAlign:"left",size:"md",children:"JSON"}),jsxRuntimeExports.jsx(AccordionIcon,{})]}),jsxRuntimeExports.jsx(AccordionPanel,{children:jsxRuntimeExports.jsx(JsValueWrap,{value:a})})]})]})]})},NFTDrawerBody=({nft:a,onCloseDrawer:_})=>jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs(Flex,{alignItems:"center",justifyContent:"space-between",paddingBottom:"22px",color:colors.gray[400],"data-testid":"nft-drawer-body",children:[jsxRuntimeExports.jsx(AddressPill,{address:parsePkh(a.owner)}),jsxRuntimeExports.jsx(CloseDrawerButton,{onClose:_})]}),jsxRuntimeExports.jsx(NFTDrawerCard,{nft:a})]}),AccountListWithDrawer=()=>{const[a,_]=reactExports.useState(null),{ownerPkh:$,nftId:j}=useParams(),et=useAllNfts(),tt=$&&lodashExports.get(et,[$],[]).find(ht=>fullId(ht)===j),rt=!!tt,{isOpen:nt,onOpen:it,onClose:st}=useDisclosure$1({defaultIsOpen:rt}),ot=useNavigate(),at=reactExports.useCallback(()=>{_(null),st(),ot("/home")},[st,ot]);reactExports.useEffect(()=>{const ht=yt=>{yt.key==="Escape"&&at()};return document.addEventListener("keydown",ht),()=>document.removeEventListener("keydown",ht)},[at]);const ut=reactExports.useMemo(()=>({selectedAccount:a,selectAccount:ht=>{_(ht),it()}}),[a,it]);return jsxRuntimeExports.jsxs(SelectedAccountContext.Provider,{value:ut,children:[jsxRuntimeExports.jsx(AccountsList,{}),jsxRuntimeExports.jsxs(Drawer,{autoFocus:!1,blockScrollOnMount:!1,isOpen:nt,onClose:at,placement:"right",children:[jsxRuntimeExports.jsx(ModalOverlay,{}),jsxRuntimeExports.jsxs(DrawerContent,{children:[rt&&jsxRuntimeExports.jsx(ModalBody,{children:jsxRuntimeExports.jsx(NFTDrawerBody,{nft:{...tt,owner:$},onCloseDrawer:at})}),!rt&&a&&jsxRuntimeExports.jsxs(ModalBody,{overflow:"hidden",overflowY:"scroll",paddingRight:"0",children:[jsxRuntimeExports.jsxs(Flex,{justifyContent:"flex-end",width:"100%",paddingRight:"24px",children:[jsxRuntimeExports.jsx(DerivationInfoButton,{marginRight:"5px",account:a}),jsxRuntimeExports.jsx(CloseDrawerButton,{onClose:at})]}),jsxRuntimeExports.jsx(AccountCard,{accountPkh:a.address.pkh})]})]})]})]})},HomeView=()=>jsxRuntimeExports.jsxs(Flex,{flexDirection:"column",height:"100%",children:[jsxRuntimeExports.jsx(TopBar,{title:"Accounts"}),jsxRuntimeExports.jsx(Flex,{flex:1,minHeight:1,children:jsxRuntimeExports.jsxs(Flex,{flexDirection:"column",flex:1,marginRight:"12px",paddingBottom:"12px",children:[jsxRuntimeExports.jsx(AccountListHeader,{}),jsxRuntimeExports.jsx(Box,{flex:1,overflow:"hidden",borderRadius:"8px",children:jsxRuntimeExports.jsx(AccountListWithDrawer,{})})]})})]}),SelectedNFTContext=reactExports.createContext({selectedNFT:void 0,setSelectedNFT:a=>{}}),NFTCard=({nft:a})=>{const{selectedNFT:_,setSelectedNFT:$}=reactExports.useContext(SelectedNFTContext),j=getIPFSurl(thumbnailUri(a)),et=getIPFSurl(a.displayUri),tt=a.metadata.name,rt={width:"100%",minWidth:"242px",minHeight:"242px",objectFit:"contain",aspectRatio:"1",fallbackSrc:et,src:j},nt=_&&fullId(_)===fullId(a)&&_.owner===a.owner;return jsxRuntimeExports.jsx(Card,{minWidth:"274px",borderRadius:"8px",cursor:"pointer","data-testid":`nft-card${nt?"-selected":""}`,onClick:()=>$(a),children:jsxRuntimeExports.jsxs(CardBody,{padding:"16px",background:colors.gray[900],border:"1px solid",borderColor:nt?colors.orangeL:"transparent",borderRadius:"8px",_hover:{background:colors.gray[700],borderColor:colors.gray[500]},children:[jsxRuntimeExports.jsx(Center,{children:jsxRuntimeExports.jsxs(Box,{position:"relative",width:"100%",children:[jsxRuntimeExports.jsx(Image$1,{...rt,zIndex:2,opacity:"0"}),jsxRuntimeExports.jsx(Image$1,{...rt,position:"absolute",zIndex:0,top:"0",filter:"blur(20px)"}),jsxRuntimeExports.jsx(Image$1,{...rt,position:"absolute",zIndex:1,top:"0","data-testid":"nft-image"})]})}),Number(a.balance)>1&&jsxRuntimeExports.jsx(Text,{position:"absolute",zIndex:3,display:"inline",height:"24px",marginTop:"-36px",marginLeft:"10px",paddingTop:"1px",fontSize:"14px",borderRadius:"full",backgroundColor:"rgba(33, 33, 33, 0.75)","data-testid":"nft-owned-count",paddingX:"8px",children:"x"+a.balance}),jsxRuntimeExports.jsx(Box,{overflow:"hidden","data-testid":"nft-card-name",children:jsxRuntimeExports.jsx(Heading,{overflow:"hidden",marginTop:"15px",marginBottom:"8px",fontSize:"sm",whiteSpace:"nowrap",textOverflow:"ellipsis",children:tt})}),jsxRuntimeExports.jsx(AddressPill,{address:parsePkh(a.owner)})]})})},NFTGallery=({nftsByOwner:a})=>{const _=Object.entries(a).flatMap(([j,et])=>(et||[]).map(tt=>({owner:j,...tt})));let $="repeat(auto-fit, minmax(min(100%/2, max(274px, 100%/7)), 1fr))";return _.length<3&&($=`repeat(auto-fit, min(100% / ${_.length} - 16px, 450px))`),jsxRuntimeExports.jsx(SimpleGrid,{gridTemplateColumns:$,marginBottom:"16px",minChildWidth:"340px",spacing:"16px",children:sortedByLastUpdate(_).map(j=>jsxRuntimeExports.jsx(NFTCard,{nft:j},`${j.owner}:${fullId(j)}`))})},AccountListDisplay=({accounts:a,onSelect:_})=>jsxRuntimeExports.jsx(MenuList,{zIndex:"docked",overflowY:"scroll",maxHeight:"300px",padding:0,background:colors.gray[900],children:a.map($=>jsxRuntimeExports.jsx(MenuItem$1,{width:"100%",minHeight:"48px",padding:"5px",background:colors.gray[700],"aria-label":$.label,onClick:()=>{_($)},value:$.address.pkh,children:jsxRuntimeExports.jsx(AddressTile,{width:"370px",height:"40px",padding:"5px",background:colors.gray[700],borderRadius:"4px",_hover:{background:colors.gray[500]},cursor:"pointer",address:$.address})},$.address.pkh))}),useAccountsFilter=()=>{const a=useAllAccounts(),[_]=reactExports.useState(a),[$,j]=useSearchParams(),et=$.getAll("accounts"),[tt,rt]=reactExports.useState(et.length===0),[nt,it]=reactExports.useState(a.filter(at=>et.includes(at.address.pkh))),st=lodashExports.differenceBy(a,nt,at=>at.address.pkh),ot=nt.length===a.length;return reactExports.useEffect(()=>{j(at=>({...at,accounts:nt.map(ut=>ut.address.pkh)}))},[nt,j]),{selectedAccounts:tt?_:nt,accountsFilter:jsxRuntimeExports.jsxs(Center,{children:[jsxRuntimeExports.jsx(Box,{alignSelf:"flex-start",children:jsxRuntimeExports.jsxs(Menu,{children:[jsxRuntimeExports.jsx(MenuButton,{as:Button,maxHeight:"26px",paddingLeft:0,fontWeight:"normal",_hover:{bg:"none"},_active:{bg:"none"},"data-testid":"account-filter",isDisabled:ot,marginY:"16px",rightIcon:jsxRuntimeExports.jsx(ChevronDownIcon,{}),variant:"ghost",children:"Filter by Account"}),jsxRuntimeExports.jsx(AccountListDisplay,{accounts:st,onSelect:at=>{rt(!1),it(ut=>[...ut,at])}})]})}),jsxRuntimeExports.jsx(Wrap,{width:"100%",children:nt.map(at=>jsxRuntimeExports.jsx(AddressPill,{address:at.address,"data-testid":"account-pill",mode:{type:"removable",onRemove:()=>{rt(nt.length===1),it(ut=>ut.filter(ht=>ht.address.pkh!==at.address.pkh))}}},at.address.pkh))})]})}},NFTsView=()=>{const a=useAllNfts(),{accountsFilter:_,selectedAccounts:$}=useAccountsFilter(),[j,et]=reactExports.useState(void 0);reactExports.useEffect(()=>{const it=st=>{st.key==="Escape"&&et(void 0)};return document.addEventListener("keydown",it),()=>document.removeEventListener("keydown",it)},[]);const tt=lodashExports.pick(a,$.map(it=>it.address.pkh)),rt=lodashExports.sumBy(Object.values(tt).flat(),it=>Number((it==null?void 0:it.balance)||0)),nt=lodashExports.every(tt,it=>!it||it.length===0);return jsxRuntimeExports.jsxs(Flex,{flexDirection:"column",height:"100%",children:[jsxRuntimeExports.jsx(TopBar,{subtitle:`(${rt})`,title:"NFTs"}),_,nt?jsxRuntimeExports.jsx(NoNFTs,{size:"lg"}):jsxRuntimeExports.jsxs(SelectedNFTContext.Provider,{value:{setSelectedNFT:et,selectedNFT:j},children:[jsxRuntimeExports.jsx(Box,{overflowY:"scroll",children:jsxRuntimeExports.jsx(NFTGallery,{nftsByOwner:tt})}),jsxRuntimeExports.jsxs(Drawer,{autoFocus:!1,blockScrollOnMount:!1,isOpen:!!j,onClose:()=>et(void 0),placement:"right",children:[jsxRuntimeExports.jsx(ModalOverlay,{}),jsxRuntimeExports.jsx(DrawerContent,{children:jsxRuntimeExports.jsx(ModalBody,{children:j&&jsxRuntimeExports.jsx(NFTDrawerBody,{nft:j,onCloseDrawer:()=>et(void 0)})})})]})]})]})},OperationsView=()=>{const{accountsFilter:a,selectedAccounts:_}=useAccountsFilter(),{operations:$,loadMore:j,hasMore:et,isLoading:tt,isFirstLoad:rt}=useGetOperations(_),nt=reactExports.useRef(!1),it=st=>{if(nt.current||!et||tt)return;const ot=st.target;if(ot.scrollHeight-ot.scrollTop-ot.clientHeight<100)return nt.current=!0,j().finally(()=>{nt.current=!1})};return jsxRuntimeExports.jsxs(Flex,{flexDirection:"column",height:"100%",children:[jsxRuntimeExports.jsx(TopBar,{title:"Operations"}),a,jsxRuntimeExports.jsx(Center,{display:tt&&rt?"flex":"none",height:"100%",children:jsxRuntimeExports.jsx(Image$1,{width:"150px",height:"75px",marginBottom:"136px",src:"./static/media/loading-wheel.gif"})}),$.length===0&&!tt&&jsxRuntimeExports.jsx(NoOperations,{size:"lg"}),$.length>0&&jsxRuntimeExports.jsxs(Box,{overflowY:"scroll",marginBottom:"20px",background:colors.gray[900],borderRadius:"8px",onScroll:it,paddingX:"20px",children:[jsxRuntimeExports.jsx(OperationTileContext.Provider,{value:{mode:"page"},children:$.map((st,ot)=>{const at=ot===$.length-1;return jsxRuntimeExports.jsxs(Box,{height:"90px",marginBottom:at?"10px":0,paddingY:"20px",children:[jsxRuntimeExports.jsx(OperationTile,{operation:st}),!at&&jsxRuntimeExports.jsx(Box,{children:jsxRuntimeExports.jsx(Divider,{marginTop:"20px"})})]},st.id)})}),jsxRuntimeExports.jsxs(Center,{flexDirection:"column",display:tt&&!rt?"flex":"none",children:[jsxRuntimeExports.jsx(Divider,{}),jsxRuntimeExports.jsx(Image$1,{width:"100px",height:"50px",src:"./static/media/loading-dots.gif"})]})]})]})},DrawerTopButtons=({onClose:a,..._})=>jsxRuntimeExports.jsx(Flex,{justifyContent:"flex-end",paddingBottom:"30px",cursor:"pointer",..._,children:jsxRuntimeExports.jsx(CloseDrawerButton,{onClose:a})}),BeaconPeers=()=>{const{data:a}=usePeers(),_=useRemovePeer(),[$,j]=reactExports.useState([]);return reactExports.useEffect(()=>{const et=(a||[]).map(async tt=>({...tt,senderId:tt.senderId||await getSenderId(tt.publicKey)}));Promise.all(et).then(j).catch(lodashExports.noop)},[a]),$.length===0?jsxRuntimeExports.jsxs(Box,{"data-testid":"beacon-peers-empty",children:[jsxRuntimeExports.jsx(Divider,{}),jsxRuntimeExports.jsx(Text,{marginTop:"31px",color:colors.gray[400],size:"lg",children:"Your dApps will appear here"})]}):jsxRuntimeExports.jsx(PeersDisplay,{"data-testid":"beacon-peers",peerInfos:$,removePeer:_})},PeersDisplay=({peerInfos:a,removePeer:_})=>jsxRuntimeExports.jsx(Box,{children:a.map($=>jsxRuntimeExports.jsxs(reactExports.Fragment,{children:[jsxRuntimeExports.jsx(Divider,{}),jsxRuntimeExports.jsx(PeerRow,{onRemove:()=>_($),peerInfo:$})]},$.senderId))}),PeerRow=({peerInfo:a,onRemove:_})=>jsxRuntimeExports.jsxs(Flex,{justifyContent:"space-between",height:"106px","data-testid":"peer-row",paddingY:"30px",children:[jsxRuntimeExports.jsxs(Flex,{children:[jsxRuntimeExports.jsx(AspectRatio,{width:"48px",marginRight:"16px",ratio:1,children:jsxRuntimeExports.jsx(Image$1,{width:"100%",src:a.icon})}),jsxRuntimeExports.jsxs(Center,{alignItems:"flex-start",flexDirection:"column",children:[jsxRuntimeExports.jsx(Heading,{marginBottom:"6px",size:"md",children:a.name}),jsxRuntimeExports.jsx(StoredPeerInfo,{peerInfo:a})]})]}),jsxRuntimeExports.jsx(Center,{children:jsxRuntimeExports.jsx(IconButton,{"aria-label":"Remove Peer",icon:jsxRuntimeExports.jsx(TrashIcon,{}),onClick:_,size:"xs",variant:"circle"})})]}),StoredPeerInfo=({peerInfo:a})=>{const _=useGetConnectionInfo(a.senderId);return _?jsxRuntimeExports.jsxs(Flex,{children:[jsxRuntimeExports.jsx(AddressPill,{marginRight:"10px",address:parsePkh(_.accountPkh)}),jsxRuntimeExports.jsx(Divider,{marginRight:"10px",orientation:"vertical"}),jsxRuntimeExports.jsx(Text,{marginTop:"2px",marginRight:"4px",color:colors.gray[450],fontWeight:650,size:"sm",children:"Network:"}),jsxRuntimeExports.jsx(Text,{marginTop:"2px",color:colors.white,"data-testid":"dapp-connection-network",size:"sm",children:lodashExports.capitalize(_.networkType)})]}):null},DAppsDrawerCard=()=>{const{isOpen:a,onClose:_,onOpen:$}=useDisclosure$1(),j=useAddPeer();return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(SettingsCardWithDrawerIcon,{left:"dApps",isSelected:a,onClick:$}),jsxRuntimeExports.jsxs(Drawer,{autoFocus:!1,blockScrollOnMount:!1,isOpen:a,onClose:_,placement:"right",children:[jsxRuntimeExports.jsx(ModalOverlay,{}),jsxRuntimeExports.jsx(DrawerContent,{children:jsxRuntimeExports.jsxs(ModalBody,{"data-testid":"drawer-body",children:[jsxRuntimeExports.jsx(DrawerTopButtons,{onClose:_}),jsxRuntimeExports.jsxs(Box,{children:[jsxRuntimeExports.jsx(Flex,{alignItems:"center",justifyContent:"space-between",height:"96px",children:jsxRuntimeExports.jsx(Heading,{children:"dApps"})}),jsxRuntimeExports.jsx(Button,{onClick:()=>navigator.clipboard.readText().then(et=>j(et)),children:"Connect with Pairing Request"}),jsxRuntimeExports.jsx(Text,{marginTop:"16px",marginBottom:"32px",color:colors.gray[400],children:"or open a deeplink from inside the dApp..."}),jsxRuntimeExports.jsx(BeaconPeers,{})]})]})})]})]})},ErrorLogsDrawerCard=()=>{const{isOpen:a,onClose:_,onOpen:$}=useDisclosure$1();return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(SettingsCardWithDrawerIcon,{left:"Error Logs",isSelected:a,onClick:$}),jsxRuntimeExports.jsxs(Drawer,{blockScrollOnMount:!1,isOpen:a,onClose:_,placement:"right",children:[jsxRuntimeExports.jsx(ModalOverlay,{}),jsxRuntimeExports.jsx(DrawerContent,{children:jsxRuntimeExports.jsxs(ModalBody,{children:[jsxRuntimeExports.jsx(DrawerTopButtons,{onClose:_}),jsxRuntimeExports.jsx(ErrorLogsDrawerBody,{})]})})]})]})},ErrorLogsDrawerBody=()=>{const a=[...useAppSelector(j=>j.errors)].reverse(),_=useDispatch(),$=()=>{_(errorsSlice.actions.reset())};return jsxRuntimeExports.jsxs(Flex,{flexDirection:"column",height:"100%",children:[jsxRuntimeExports.jsxs(Flex,{alignItems:"center",justifyContent:"space-between",height:"50px",marginBottom:"20px",children:[jsxRuntimeExports.jsx(Heading,{size:"xl",children:"Error Logs"}),jsxRuntimeExports.jsxs(Box,{children:[jsxRuntimeExports.jsx("a",{download:"UmamiErrorLogs.json",href:`data:application/json;charset=utf-8,${encodeURIComponent(JSON.stringify(a))}`,children:jsxRuntimeExports.jsx(Button,{variant:"tertiary",children:"Download error logs"})}),jsxRuntimeExports.jsx(Button,{marginLeft:"8px",onClick:$,variant:"warning",children:"Clear All"})]})]}),a.map(j=>jsxRuntimeExports.jsx(ErrorLogRow,{errorLog:j},nanoid()))]})},ErrorLogRow=({errorLog:a})=>jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Divider,{marginY:1}),jsxRuntimeExports.jsx(Flex,{justifyContent:"space-between",paddingY:"12px",children:jsxRuntimeExports.jsxs(Flex,{children:[jsxRuntimeExports.jsx(OutlineExclamationCircleIcon,{marginTop:"1px",marginRight:"8px"}),jsxRuntimeExports.jsxs(Flex,{flexDirection:"column",children:[jsxRuntimeExports.jsx(Heading,{wordBreak:"break-all",size:"sm",children:a.description}),jsxRuntimeExports.jsx(Text,{color:colors.gray[400],size:"sm",children:a.timestamp})]})]})})]}),removeTrailingSlashes=a=>a.replace(/\/+$/g,""),UpsertNetworkModal=({network:a})=>{const _=a?"edit":"create",{onClose:$}=reactExports.useContext(DynamicModalContext),j=useDispatch(),et=useAvailableNetworks(),{formState:{errors:tt,isValid:rt},register:nt,handleSubmit:it}=useForm({mode:"onBlur",defaultValues:a}),st=ot=>{j(networksActions.upsertNetwork(ot)),$()};return jsxRuntimeExports.jsx(ModalContent,{children:jsxRuntimeExports.jsxs("form",{onSubmit:it(st),children:[jsxRuntimeExports.jsxs(ModalHeader,{textAlign:"center",children:[_==="edit"?"Edit":"Add"," Network",jsxRuntimeExports.jsx(ModalCloseButton,{})]}),jsxRuntimeExports.jsxs(ModalBody,{children:[_==="create"&&jsxRuntimeExports.jsxs(FormControl,{marginTop:"32px",marginBottom:"24px",isInvalid:!!tt.name,children:[jsxRuntimeExports.jsx(FormLabel,{children:"Name"}),jsxRuntimeExports.jsx(Input,{placeholder:"mainnet",...nt("name",{required:"Name is required",validate:ot=>{if(et.find(at=>at.name===ot))return"Network with this name already exists"}})}),tt.name&&jsxRuntimeExports.jsx(FormErrorMessage,{children:tt.name.message})]}),jsxRuntimeExports.jsxs(FormControl,{marginBottom:"24px",isInvalid:!!tt.rpcUrl,children:[jsxRuntimeExports.jsx(FormLabel,{children:"RPC URL"}),jsxRuntimeExports.jsx(Input,{placeholder:"https://prod.tcinfra.net/rpc/mainnet",...nt("rpcUrl",{required:"RPC URL is required",setValueAs:removeTrailingSlashes})}),tt.rpcUrl&&jsxRuntimeExports.jsx(FormErrorMessage,{children:tt.rpcUrl.message})]}),jsxRuntimeExports.jsxs(FormControl,{marginBottom:"24px",isInvalid:!!tt.tzktApiUrl,children:[jsxRuntimeExports.jsx(FormLabel,{children:"Tzkt API URL"}),jsxRuntimeExports.jsx(Input,{placeholder:"https://api.ghostnet.tzkt.io",...nt("tzktApiUrl",{required:"Tzkt API URL is required",setValueAs:removeTrailingSlashes})}),tt.tzktApiUrl&&jsxRuntimeExports.jsx(FormErrorMessage,{children:tt.tzktApiUrl.message})]}),jsxRuntimeExports.jsxs(FormControl,{marginBottom:"24px",isInvalid:!!tt.tzktExplorerUrl,children:[jsxRuntimeExports.jsx(FormLabel,{children:"Tzkt Explorer URL"}),jsxRuntimeExports.jsx(Input,{placeholder:"https://ghostnet.tzkt.io",...nt("tzktExplorerUrl",{required:"Tzkt Explorer URL is required",setValueAs:removeTrailingSlashes})}),tt.tzktExplorerUrl&&jsxRuntimeExports.jsx(FormErrorMessage,{children:tt.tzktExplorerUrl.message})]}),jsxRuntimeExports.jsxs(FormControl,{children:[jsxRuntimeExports.jsx(FormLabel,{children:"Buy Tez URL"}),jsxRuntimeExports.jsx(Input,{placeholder:"https://faucet.ghostnet.teztnets.com",...nt("buyTezUrl")})]}),jsxRuntimeExports.jsx(ModalFooter,{children:jsxRuntimeExports.jsx(Button,{width:"100%",isDisabled:!rt,onClick:()=>{},type:"submit",children:_==="edit"?"Save changes":"Add network"})})]})]})})},NetworkSettingsDrawerBody=()=>{const{openWith:a}=reactExports.useContext(DynamicModalContext),_=useSelectedNetwork(),$=useSelectNetwork(),j=useAvailableNetworks(),et=useAppDispatch(),tt=rt=>{et(networksActions.removeNetwork(rt))};return jsxRuntimeExports.jsxs(Flex,{flexDirection:"column",children:[jsxRuntimeExports.jsxs(Center,{justifyContent:"space-between",children:[jsxRuntimeExports.jsx(Heading,{children:"Network Settings"}),jsxRuntimeExports.jsxs(Button,{paddingRight:"0",onClick:()=>a(jsxRuntimeExports.jsx(UpsertNetworkModal,{})),variant:"CTAWithIcon",children:[jsxRuntimeExports.jsx(Text,{size:"sm",children:"Add Network"}),jsxRuntimeExports.jsx(PlusIcon,{width:"18px",height:"18px",marginLeft:"4px",stroke:"currentcolor"})]})]}),jsxRuntimeExports.jsx(RadioGroup,{marginTop:"60px",onChange:$,value:_.name,children:jsxRuntimeExports.jsx(Stack,{children:j.map(rt=>jsxRuntimeExports.jsxs(reactExports.Fragment,{children:[jsxRuntimeExports.jsx(Divider,{borderColor:colors.gray[700]}),jsxRuntimeExports.jsxs(Flex,{justifyContent:"space-between","data-testid":`network-${rt.name}`,children:[jsxRuntimeExports.jsx(Radio,{height:"100px",value:rt.name,variant:"primary",children:jsxRuntimeExports.jsxs(Flex,{flexDirection:"column",marginLeft:"16px",children:[jsxRuntimeExports.jsx(Heading,{marginBottom:"4px",size:"sm",children:rt.name}),jsxRuntimeExports.jsx(Text,{color:colors.gray[400],children:rt.rpcUrl})]})}),!isDefault(rt)&&jsxRuntimeExports.jsx(Center,{"data-testid":"popover-menu",children:jsxRuntimeExports.jsxs(PopoverMenu,{children:[jsxRuntimeExports.jsxs(Button,{onClick:()=>a(jsxRuntimeExports.jsx(UpsertNetworkModal,{network:rt})),variant:"popover",children:[jsxRuntimeExports.jsx(Text,{marginRight:"4px",children:"Edit"}),jsxRuntimeExports.jsx(PenIcon,{stroke:"inherit"})]}),jsxRuntimeExports.jsx(Divider,{marginTop:"4px"}),jsxRuntimeExports.jsxs(Button,{onClick:()=>tt(rt),variant:"popover",children:[jsxRuntimeExports.jsx(Text,{marginRight:"4px",children:"Remove"}),jsxRuntimeExports.jsx(TrashIcon,{stroke:"inherit"})]})]})})]})]},rt.name))})})]})},NetworkSettingsDrawerCard=()=>{const{isOpen:a,onClose:_,onOpen:$}=useDisclosure$1();return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(SettingsCardWithDrawerIcon,{left:"Network Settings",isSelected:a,onClick:$}),jsxRuntimeExports.jsxs(Drawer,{blockScrollOnMount:!1,isOpen:a,onClose:_,placement:"right",children:[jsxRuntimeExports.jsx(ModalOverlay,{}),jsxRuntimeExports.jsx(DrawerContent,{children:jsxRuntimeExports.jsxs(ModalBody,{children:[jsxRuntimeExports.jsx(DrawerTopButtons,{onClose:_}),jsxRuntimeExports.jsx(NetworkSettingsDrawerBody,{})]})})]})]})},ChangePasswordForm=()=>{const{onClose:a}=reactExports.useContext(DynamicModalContext),_=useForm({mode:"onBlur"}),$=useToast(),j=useAppDispatch(),{handleAsyncAction:et,isLoading:tt}=useAsyncActionHandler(),{handleSubmit:rt,formState:{isValid:nt,errors:it},getValues:st}=_,ot=async({currentPassword:at,newPassword:ut,newPasswordConfirmation:ht})=>{if(!(at===ut||ut!==ht))return et(async()=>{await j(changeMnemonicPassword({currentPassword:at,newPassword:ut})).unwrap(),$({description:"Password updated",status:"success"}),a()})};return jsxRuntimeExports.jsx(FormProvider,{..._,children:jsxRuntimeExports.jsx(ModalContent,{background:colors.gray[700],"data-testid":"change-password-modal",children:jsxRuntimeExports.jsxs("form",{onSubmit:rt(ot),children:[jsxRuntimeExports.jsx(ModalCloseButton,{}),jsxRuntimeExports.jsx(ModalHeader,{textAlign:"center",children:jsxRuntimeExports.jsx(Heading,{children:"Change Password"})}),jsxRuntimeExports.jsxs(ModalBody,{children:[jsxRuntimeExports.jsxs(FormControl,{marginTop:"32px",isInvalid:!!it.currentPassword,children:[jsxRuntimeExports.jsx(PasswordInput,{"data-testid":"current-password",inputName:"currentPassword",label:"Current Password",placeholder:"Enter your current password",required:"Current password is required"}),it.currentPassword&&jsxRuntimeExports.jsx(FormErrorMessage,{"data-testid":"current-password-error",children:it.currentPassword.message})]}),jsxRuntimeExports.jsxs(FormControl,{isInvalid:!!it.newPassword,marginY:6,children:[jsxRuntimeExports.jsx(PasswordInput,{"data-testid":"new-password",inputName:"newPassword",label:"New Password",placeholder:"Enter new password",required:"New password is required",validate:at=>st("currentPassword")!==at||"Cannot be the same as old password"}),it.newPassword&&jsxRuntimeExports.jsx(FormErrorMessage,{"data-testid":"new-password-error",children:it.newPassword.message})]}),jsxRuntimeExports.jsxs(FormControl,{marginTop:3,isInvalid:!!it.newPasswordConfirmation,children:[jsxRuntimeExports.jsx(PasswordInput,{"data-testid":"new-password-confirmation",inputName:"newPasswordConfirmation",label:"Confirm New Password",placeholder:"Confirm new password",required:"Confirmation is required",validate:at=>st("newPassword")===at||"Your new passwords do no match"}),it.newPasswordConfirmation&&jsxRuntimeExports.jsx(FormErrorMessage,{"data-testid":"new-password-confirmation-error",children:it.newPasswordConfirmation.message})]})]}),jsxRuntimeExports.jsx(ModalFooter,{children:jsxRuntimeExports.jsx(Button,{width:"100%",isDisabled:!nt,isLoading:tt,size:"lg",type:"submit",children:"Update Password"})})]})})})},SettingsView=()=>jsxRuntimeExports.jsxs(Flex,{flexDirection:"column",height:"100%",children:[jsxRuntimeExports.jsx(TopBar,{title:"Settings"}),jsxRuntimeExports.jsxs(Box,{overflowY:"scroll",children:[jsxRuntimeExports.jsx(Box,{marginTop:"16px",children:jsxRuntimeExports.jsx(GeneralSection,{})}),jsxRuntimeExports.jsx(BackupSection,{}),jsxRuntimeExports.jsx(AdvancedSection,{})]})]}),GeneralSection=()=>jsxRuntimeExports.jsxs(SectionContainer,{title:"General",children:[jsxRuntimeExports.jsx(NetworkSettingsDrawerCard,{}),jsxRuntimeExports.jsx(ErrorLogsDrawerCard,{})]}),BackupSection=()=>jsxRuntimeExports.jsx(SectionContainer,{title:"Backup",children:jsxRuntimeExports.jsx(ClickableCard,{isSelected:!1,onClick:downloadBackupFile,children:jsxRuntimeExports.jsxs(Flex,{alignItems:"center",justifyContent:"space-between",children:[jsxRuntimeExports.jsx(Heading,{size:"sm",children:"Download backup file"}),jsxRuntimeExports.jsx(Button,{onClick:downloadBackupFile,variant:"unstyled",children:jsxRuntimeExports.jsx(DownloadIcon,{cursor:"pointer"})})]})})}),AdvancedSection=()=>{const{modalElement:a,onOpen:_}=useOffboardingModal(),{openWith:$}=reactExports.useContext(DynamicModalContext);return jsxRuntimeExports.jsxs(SectionContainer,{title:"Advanced Settings",children:[jsxRuntimeExports.jsx(DAppsDrawerCard,{}),jsxRuntimeExports.jsx(SettingsCardWithDrawerIcon,{left:"Off-board Wallet",isSelected:!1,onClick:_}),jsxRuntimeExports.jsx(SettingsCardWithDrawerIcon,{left:"Change Password",isSelected:!1,onClick:()=>$(jsxRuntimeExports.jsx(ChangePasswordForm,{}))}),a]})},SectionContainer=({title:a,children:_})=>jsxRuntimeExports.jsx(Box,{marginTop:"8px",children:jsxRuntimeExports.jsx(Flex,{children:jsxRuntimeExports.jsxs(Box,{width:"550px",children:[jsxRuntimeExports.jsx(Heading,{marginBottom:"16px",size:"lg",children:a}),_]})})}),TokenTile=({token:a,amount:_,...$})=>{const{contract:j}=a,et=tokenPrettyAmount(_,a),tt=tokenSymbolSafe(a);return jsxRuntimeExports.jsxs(Flex,{alignItems:"center",justifyContent:"start",width:"400px",padding:"15px",background:colors.gray[800],borderRadius:"4px","data-testid":"token-tile",...$,children:[jsxRuntimeExports.jsx(Flex,{alignItems:"center",children:jsxRuntimeExports.jsx(AspectRatio,{width:"30px",height:"30px",marginRight:"12px",ratio:1,children:jsxRuntimeExports.jsx(TokenIcon,{padding:"6.25px",background:colors.gray[500],borderRadius:"4px",contract:j})})}),jsxRuntimeExports.jsx(PrettyNumber,{number:et}),jsxRuntimeExports.jsx(Text,{marginLeft:"4px",size:"sm",children:tt})]})},SignPage=a=>{const{mode:_,operations:$,fee:j,data:{token:et}}=a,{fee:tt,operations:rt,estimationFailed:nt,isLoading:it,form:st,signer:ot,reEstimate:at,onSign:ut}=useSignPageHelpers(j,$,_),{amount:ht,recipient:yt}=rt.operations[0];return jsxRuntimeExports.jsx(FormProvider,{...st,children:jsxRuntimeExports.jsx(ModalContent,{children:jsxRuntimeExports.jsxs("form",{children:[jsxRuntimeExports.jsx(SignPageHeader,{...a,operationsType:rt.type,signer:rt.signer}),jsxRuntimeExports.jsxs(ModalBody,{children:[jsxRuntimeExports.jsx(TokenTile,{amount:ht,token:et}),jsxRuntimeExports.jsx(Flex,{alignItems:"center",justifyContent:"end",marginTop:"12px",marginBottom:"24px",paddingX:"4px",children:jsxRuntimeExports.jsx(Flex,{children:jsxRuntimeExports.jsx(SignPageFee,{fee:tt})})}),jsxRuntimeExports.jsx(FormLabel,{children:"From"}),jsxRuntimeExports.jsx(AddressTile,{marginBottom:"24px",address:rt.sender.address}),jsxRuntimeExports.jsx(FormLabel,{children:"To"}),jsxRuntimeExports.jsx(AddressTile,{address:yt}),jsxRuntimeExports.jsx(OperationSignerSelector,{isLoading:it,operationType:rt.type,reEstimate:at,sender:rt.sender})]}),jsxRuntimeExports.jsx(ModalFooter,{children:jsxRuntimeExports.jsx(SignButton,{isDisabled:nt,isLoading:it,onSubmit:ut,signer:ot,text:headerText(rt.type,_)})})]})})})},FormPage=a=>{const{token:_}=a,$=useOpenSignPageFormAction({SignPage,signPageExtraData:{token:_},FormPage,defaultFormPageProps:a,toOperation:toOperation(_)}),j=useAddToBatchFormAction(toOperation(_)),{onFormSubmitActionHandlers:[et,tt],isLoading:rt}=useHandleOnSubmitFormActions([$,j]),nt=useForm({mode:"onBlur",defaultValues:formDefaultValues(a)}),{formState:{isValid:it,errors:st},register:ot,handleSubmit:at}=nt,ut=tokenDecimals(_),ht=formatTokenAmount(_.balance,ut),yt=getSmallestUnit(Number(ut));return jsxRuntimeExports.jsx(FormProvider,{...nt,children:jsxRuntimeExports.jsx(ModalContent,{children:jsxRuntimeExports.jsxs("form",{children:[jsxRuntimeExports.jsx(FormPageHeader,{}),jsxRuntimeExports.jsxs(ModalBody,{children:[jsxRuntimeExports.jsxs(FormControl,{isInvalid:!!st.prettyAmount,children:[jsxRuntimeExports.jsx(FormLabel,{children:"Amount"}),jsxRuntimeExports.jsxs(InputGroup,{children:[jsxRuntimeExports.jsx(Input,{isDisabled:rt,step:yt,type:"number",...ot("prettyAmount",{required:"Amount is required",max:{value:ht.toString(),message:`Max amount is ${ht}`},validate:makeValidateDecimals(Number(ut))}),placeholder:yt}),jsxRuntimeExports.jsx(InputRightElement,{paddingRight:"12px","data-testid":"token-symbol",children:tokenSymbolSafe(_)})]}),st.prettyAmount&&jsxRuntimeExports.jsx(FormErrorMessage,{"data-testid":"amount-error",children:st.prettyAmount.message})]}),jsxRuntimeExports.jsxs(FormControl,{marginTop:"24px",isInvalid:!!st.sender,children:[jsxRuntimeExports.jsx(OwnedAccountsAutocomplete,{allowUnknown:!1,inputName:"sender",isDisabled:!0,label:"From"}),st.sender&&jsxRuntimeExports.jsx(FormErrorMessage,{"data-testid":"from-error",children:st.sender.message})]}),jsxRuntimeExports.jsxs(FormControl,{marginTop:"24px",isInvalid:!!st.recipient,children:[jsxRuntimeExports.jsx(KnownAccountsAutocomplete,{allowUnknown:!0,inputName:"recipient",label:"To"}),st.recipient&&jsxRuntimeExports.jsx(FormErrorMessage,{"data-testid":"recipient-error",children:st.recipient.message})]})]}),jsxRuntimeExports.jsx(ModalFooter,{children:jsxRuntimeExports.jsx(FormSubmitButtons,{isLoading:rt,isValid:it,onAddToBatch:at(tt),onSingleSubmit:at(et)})})]})})})},toOperation=a=>_=>{const $={type:"fa2",sender:parsePkh(_.sender),recipient:parsePkh(_.recipient),contract:parseContractPkh(a.contract),tokenId:a.tokenId,amount:getRealAmount(a,_.prettyAmount)};return a.type==="fa2"?$:{...$,type:"fa1.2",tokenId:"0"}},Header=({account:a})=>{const{address:_,label:$}=a,j=useAddressKind$1(_);return jsxRuntimeExports.jsxs(Flex,{alignItems:"center",height:"78px",background:accountIconGradient({left:"-10px",top:"-10px",account:a,radius:"100px",mainBackgroundColor:colors.gray[800]}),borderTopRadius:"8px","data-testid":"header",paddingX:"30px",children:[jsxRuntimeExports.jsx(AddressTileIcon,{addressKind:j,identiconSize:35,size:"lg"}),jsxRuntimeExports.jsxs(Flex,{justifyContent:"space-between",flex:1,children:[jsxRuntimeExports.jsxs(Box,{marginLeft:"16px","data-testid":"account-identifier",children:[jsxRuntimeExports.jsx(Heading,{marginBottom:"4px",size:"md",children:$}),jsxRuntimeExports.jsx(Text,{color:colors.gray[300],size:"sm",children:formatPkh(_.pkh)})]}),jsxRuntimeExports.jsx(Flex,{flexDirection:"column-reverse",children:jsxRuntimeExports.jsx(AccountBalance,{verticalAlign:"bottom",address:a.address.pkh})})]})]})},AccountTokens=({account:a,tokens:_})=>{const{openWith:$}=reactExports.useContext(DynamicModalContext);return jsxRuntimeExports.jsxs(Card,{overflowX:"auto",marginBottom:"16px",borderBottomRadius:"8px",backgroundColor:colors.gray[900],children:[jsxRuntimeExports.jsx(Header,{account:a}),jsxRuntimeExports.jsx(TableContainer,{paddingX:"30px",children:jsxRuntimeExports.jsx(Table,{children:jsxRuntimeExports.jsx(Tbody,{children:_.map((j,et)=>{const tt=et===_.length-1?"transparent":colors.gray[700];return jsxRuntimeExports.jsxs(Tr,{"data-testid":"token-tile",children:[jsxRuntimeExports.jsx(Td,{width:"20%",minWidth:"240px",borderColor:tt,paddingX:"0",children:jsxRuntimeExports.jsxs(Flex,{alignItems:"center",children:[jsxRuntimeExports.jsx(TokenIcon,{display:"inline-block",width:"38px",contract:j.contract}),jsxRuntimeExports.jsx(Heading,{display:"inline-block",marginLeft:"16px",size:"sm",children:jsxRuntimeExports.jsx(TokenNameWithIcon,{token:j})})]})}),jsxRuntimeExports.jsx(Td,{width:"20%",minWidth:"200px",borderColor:tt,paddingX:"0",children:jsxRuntimeExports.jsx(AddressPill,{address:parseContractPkh(j.contract)})}),jsxRuntimeExports.jsx(Td,{width:"15%",minWidth:"160px",borderColor:tt,paddingX:"0",children:jsxRuntimeExports.jsx(Heading,{size:"sm",children:tokenPrettyAmount(j.balance,j,{showSymbol:!1})})}),jsxRuntimeExports.jsx(Td,{textAlign:"right",borderColor:tt,paddingX:"0",children:jsxRuntimeExports.jsx(SendButton,{onClick:()=>$(jsxRuntimeExports.jsx(FormPage,{sender:a,token:j}))})})]},fullId(j))})})})})]})},TokensPage=()=>{const{accountsFilter:a,selectedAccounts:_}=useAccountsFilter(),$=useGetAccountAllTokens(),j=_.map(et=>[et,$(et.address.pkh)]).filter(([,et])=>et.length>0);return jsxRuntimeExports.jsxs(Flex,{flexDirection:"column",height:"100%",children:[jsxRuntimeExports.jsx(TopBar,{title:"Tokens"}),a,j.length===0?jsxRuntimeExports.jsx(NoTokens,{size:"lg"}):jsxRuntimeExports.jsx(Box,{overflowY:"auto",children:j.map(([et,tt])=>jsxRuntimeExports.jsx(AccountTokens,{account:et,tokens:tt},et.address.pkh))})]})},AppVersion=({isCollapsed:a,..._})=>{const $=a?packageInfo.version:`Umami v${packageInfo.version}`;return jsxRuntimeExports.jsx(Text,{color:colors.gray[450],..._,children:$})},CollapseMenuButton=({toggle:a,..._})=>jsxRuntimeExports.jsx(Center,{width:"44px",height:"44px",marginRight:"-14px",borderRadius:"4px",_hover:{background:colors.gray[800]},cursor:"pointer","data-testid":"collapse-menu-button",onClick:a,..._,children:jsxRuntimeExports.jsx(BurgerMenuIcon,{})}),useCollapseMenu=()=>{const[a,_]=reactExports.useState(!1),$=reactExports.useCallback(()=>{_(j=>!j)},[]);return{isCollapsed:a,toggle:$}},ORANGE="#F74F18",MakiLogo=a=>{const _=useSelectedNetwork();return jsxRuntimeExports.jsx(MakiIcon,{background:"white",borderRadius:"8px","data-testid":"maki-logo",fishColor:_.name==="mainnet"?ORANGE:"black",...a})},NetworkSelector=()=>{const a=useSelectedNetwork(),_=useAvailableNetworks(),$=useSelectNetwork(),{onOpen:j,onClose:et,isOpen:tt}=useDisclosure$1();return jsxRuntimeExports.jsxs(Popover,{isOpen:tt,onClose:et,onOpen:j,placement:"bottom-end",children:[jsxRuntimeExports.jsx(PopoverTrigger,{children:jsxRuntimeExports.jsxs(Button,{marginTop:"4px",color:colors.green,"data-testid":"network-selector",variant:"unstyled",children:[lodashExports.capitalize(a.name),tt?jsxRuntimeExports.jsx(ChevronUpIcon,{marginTop:"-2px",stroke:"currentcolor"}):jsxRuntimeExports.jsx(ChevronDownIcon$1,{marginTop:"-2px",stroke:"currentcolor"})]})}),jsxRuntimeExports.jsx(PopoverContent,{width:"100px",marginTop:"-10px",background:colors.gray[700],border:"1px solid",borderColor:colors.gray[500],children:jsxRuntimeExports.jsx(PopoverBody,{padding:"4px 12px",children:jsxRuntimeExports.jsx(Flex,{flexDirection:"column",children:_.map((rt,nt)=>jsxRuntimeExports.jsxs(reactExports.Fragment,{children:[jsxRuntimeExports.jsx(Button,{height:"34px",color:rt.name===a.name?colors.green:colors.gray[300],fontSize:"14px",fontWeight:400,textAlign:"right",_hover:{color:colors.greenL},onClick:()=>{$(rt.name),et()},variant:"unstyled",children:lodashExports.capitalize(rt.name)}),nt<_.length-1&&jsxRuntimeExports.jsx(Divider,{})]},rt.name))})})})]})},UpdateAppButton=()=>{const[a,_]=reactExports.useState(!1),$=window;reactExports.useEffect(()=>{$&&$.electronAPI&&$.electronAPI.onAppUpdateDownloaded(et=>_(!0))},[$]);const j=()=>{$&&$.electronAPI&&$.electronAPI.installAppUpdateAndQuit()};return a?jsxRuntimeExports.jsx(Box,{marginTop:"24px",marginBottom:"6px",children:jsxRuntimeExports.jsxs(Button,{justifyContent:"flex-start",width:"100%",height:"32px",paddingTop:"7px",paddingRight:"8px",paddingBottom:"7px",paddingLeft:"8px",color:colors.black,background:colors.green,_hover:{color:colors.black,background:colors.greenL},onClick:j,children:[jsxRuntimeExports.jsx(FlipForwardEnergy,{}),jsxRuntimeExports.jsx(Text,{marginLeft:"4px",size:"sm",children:"Update Umami"})]})}):null},SideNavbar=()=>{const{isCollapsed:a,toggle:_}=useCollapseMenu(),$=jsxRuntimeExports.jsx(CollapseMenuButton,{marginTop:a?0:"2px",marginRight:a?0:"-14px",toggle:_});return jsxRuntimeExports.jsxs(Flex,{alignItems:a?"center":"normal",flexDirection:"column",width:a?"80px":"236px",padding:a?"30px 20px":"30px",background:colors.gray[900],"data-testid":`side-navbar${a?"-collapsed":""}`,children:[jsxRuntimeExports.jsxs(Box,{children:[jsxRuntimeExports.jsx(Flex,{alignItems:"center",justifyContent:"space-between",height:"30px",children:a?$:jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(MakiLogo,{width:"38px",height:"38px"}),jsxRuntimeExports.jsxs(Flex,{children:[jsxRuntimeExports.jsx(NetworkSelector,{}),$]})]})}),jsxRuntimeExports.jsx(Divider,{marginTop:"28px"})]}),jsxRuntimeExports.jsxs(Flex,{justifyContent:"space-between",flexDirection:"column",flex:1,children:[jsxRuntimeExports.jsxs(Box,{alignItems:a?"center":"normal",justifyContent:a?"space-around":"normal",display:a?"flex":"block",height:"100%",children:[!a&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(UpdateAppButton,{}),jsxRuntimeExports.jsx(TotalBalance,{})]}),jsxRuntimeExports.jsxs(Box,{children:[jsxRuntimeExports.jsx(MenuItem,{icon:jsxRuntimeExports.jsx(AccountsIcon,{}),isCollapsed:a,label:"Accounts",to:"/home"}),jsxRuntimeExports.jsx(MenuItem,{icon:jsxRuntimeExports.jsx(DiamondIcon,{}),isCollapsed:a,label:"NFTs",to:"/nfts"}),jsxRuntimeExports.jsx(MenuItem,{icon:jsxRuntimeExports.jsx(RefreshClockIcon,{width:"24px",height:"24px"}),isCollapsed:a,label:"Operations",to:"/operations"}),jsxRuntimeExports.jsx(MenuItem,{icon:jsxRuntimeExports.jsx(CoinIcon,{}),isCollapsed:a,label:"Tokens",to:"/tokens"}),jsxRuntimeExports.jsx(MenuItem,{icon:jsxRuntimeExports.jsx(BatchIcon,{}),isCollapsed:a,label:"Batch",to:"/batch"})]})]}),jsxRuntimeExports.jsxs(Box,{children:[jsxRuntimeExports.jsx(Divider,{}),jsxRuntimeExports.jsx(MenuItem,{marginTop:"22px",icon:jsxRuntimeExports.jsx(AddressBookIcon,{}),isCollapsed:a,label:"Address Book",to:"/address-book"}),jsxRuntimeExports.jsx(MenuItem,{icon:jsxRuntimeExports.jsx(GearIcon,{}),isCollapsed:a,label:"Settings",to:"/settings"}),jsxRuntimeExports.jsx(MenuItem,{icon:jsxRuntimeExports.jsx(HelpIcon,{}),isCollapsed:a,label:"Help",to:"/help"}),jsxRuntimeExports.jsx(AppVersion,{marginTop:"24px",fontSize:"14px",textAlign:a?"center":"left",isCollapsed:a})]})]})]})},MenuItem=({icon:a,label:_,to:$,isCollapsed:j,...et})=>{const rt=useLocation().pathname.startsWith($);return jsxRuntimeExports.jsx(Link,{to:$,children:jsxRuntimeExports.jsxs(Flex,{alignItems:"center",justifyContent:"flex-start",width:j?"44px":"176px",marginBottom:"8px",padding:"10px",background:rt?colors.gray[600]:"transparent",borderRadius:"4px",_hover:{background:rt?colors.gray[600]:colors.gray[800]},cursor:"pointer",...et,children:[a,!j&&jsxRuntimeExports.jsx(Text,{marginLeft:"10px",size:"sm",children:_})]})})},TotalBalance=()=>{const a=useTotalBalance(),[_]=useMediaQuery("(max-height: 900px)");return jsxRuntimeExports.jsxs(Box,{marginTop:"24px",marginBottom:_?"30px":"100px","data-testid":"total-balance",children:[jsxRuntimeExports.jsx(Text,{marginBottom:"4px",size:"sm",children:"Balance"}),a&&jsxRuntimeExports.jsx(TezRecapDisplay,{balance:a.mutez,dollarBalance:a.usd})]})},withSideMenu=a=>jsxRuntimeExports.jsxs(Flex,{height:"100vh",children:[jsxRuntimeExports.jsx(SideNavbar,{}),jsxRuntimeExports.jsx(Box,{flex:1,overflowX:"hidden",height:"100%",background:"linear-gradient(180deg, rgba(0, 231, 182, 0.35) -41.53%, rgba(0, 231, 182, 0.00) 34.71%)",paddingX:"24px",children:a})]}),AccountsImage=""+new URL("accounts-DTYOez9Q.png",import.meta.url).href,BatchImage=""+new URL("batch-CoYFN9ox.png",import.meta.url).href,MultisigImage=""+new URL("multisig-GRRIvmJS.png",import.meta.url).href;var js={},Carousel$1={},lib={},reactSwipe={},hasRequiredReactSwipe;function requireReactSwipe(){return hasRequiredReactSwipe||(hasRequiredReactSwipe=1,function(a){(function(_,$){$(a,reactExports,propTypesExports)})(commonjsGlobal,function(_,$,j){Object.defineProperty(_,"__esModule",{value:!0}),_.setHasSupportToCaptureOption=yt;var et=rt($),tt=rt(j);function rt(Tt){return Tt&&Tt.__esModule?Tt:{default:Tt}}var nt=Object.assign||function(Tt){for(var Mt=1;Mt<arguments.length;Mt++){var Lt=arguments[Mt];for(var Dt in Lt)Object.prototype.hasOwnProperty.call(Lt,Dt)&&(Tt[Dt]=Lt[Dt])}return Tt};function it(Tt,Mt){var Lt={};for(var Dt in Tt)Mt.indexOf(Dt)>=0||Object.prototype.hasOwnProperty.call(Tt,Dt)&&(Lt[Dt]=Tt[Dt]);return Lt}function st(Tt,Mt){if(!(Tt instanceof Mt))throw new TypeError("Cannot call a class as a function")}var ot=function(){function Tt(Mt,Lt){for(var Dt=0;Dt<Lt.length;Dt++){var Ut=Lt[Dt];Ut.enumerable=Ut.enumerable||!1,Ut.configurable=!0,"value"in Ut&&(Ut.writable=!0),Object.defineProperty(Mt,Ut.key,Ut)}}return function(Mt,Lt,Dt){return Lt&&Tt(Mt.prototype,Lt),Dt&&Tt(Mt,Dt),Mt}}();function at(Tt,Mt){if(!Tt)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Mt&&(typeof Mt=="object"||typeof Mt=="function")?Mt:Tt}function ut(Tt,Mt){if(typeof Mt!="function"&&Mt!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof Mt);Tt.prototype=Object.create(Mt&&Mt.prototype,{constructor:{value:Tt,enumerable:!1,writable:!0,configurable:!0}}),Mt&&(Object.setPrototypeOf?Object.setPrototypeOf(Tt,Mt):Tt.__proto__=Mt)}var ht=!1;function yt(Tt){ht=Tt}try{addEventListener("test",null,Object.defineProperty({},"capture",{get:function(){yt(!0)}}))}catch{}function wt(){var Tt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{capture:!0};return ht?Tt:Tt.capture}function Ct(Tt){if("touches"in Tt){var Mt=Tt.touches[0],Lt=Mt.pageX,Dt=Mt.pageY;return{x:Lt,y:Dt}}var Ut=Tt.screenX,Ot=Tt.screenY;return{x:Ut,y:Ot}}var Pt=function(Tt){ut(Mt,Tt);function Mt(){var Lt;st(this,Mt);for(var Dt=arguments.length,Ut=Array(Dt),Ot=0;Ot<Dt;Ot++)Ut[Ot]=arguments[Ot];var It=at(this,(Lt=Mt.__proto__||Object.getPrototypeOf(Mt)).call.apply(Lt,[this].concat(Ut)));return It._handleSwipeStart=It._handleSwipeStart.bind(It),It._handleSwipeMove=It._handleSwipeMove.bind(It),It._handleSwipeEnd=It._handleSwipeEnd.bind(It),It._onMouseDown=It._onMouseDown.bind(It),It._onMouseMove=It._onMouseMove.bind(It),It._onMouseUp=It._onMouseUp.bind(It),It._setSwiperRef=It._setSwiperRef.bind(It),It}return ot(Mt,[{key:"componentDidMount",value:function(){this.swiper&&this.swiper.addEventListener("touchmove",this._handleSwipeMove,wt({capture:!0,passive:!1}))}},{key:"componentWillUnmount",value:function(){this.swiper&&this.swiper.removeEventListener("touchmove",this._handleSwipeMove,wt({capture:!0,passive:!1}))}},{key:"_onMouseDown",value:function(Dt){this.props.allowMouseEvents&&(this.mouseDown=!0,document.addEventListener("mouseup",this._onMouseUp),document.addEventListener("mousemove",this._onMouseMove),this._handleSwipeStart(Dt))}},{key:"_onMouseMove",value:function(Dt){this.mouseDown&&this._handleSwipeMove(Dt)}},{key:"_onMouseUp",value:function(Dt){this.mouseDown=!1,document.removeEventListener("mouseup",this._onMouseUp),document.removeEventListener("mousemove",this._onMouseMove),this._handleSwipeEnd(Dt)}},{key:"_handleSwipeStart",value:function(Dt){var Ut=Ct(Dt),Ot=Ut.x,It=Ut.y;this.moveStart={x:Ot,y:It},this.props.onSwipeStart(Dt)}},{key:"_handleSwipeMove",value:function(Dt){if(this.moveStart){var Ut=Ct(Dt),Ot=Ut.x,It=Ut.y,Bt=Ot-this.moveStart.x,Ft=It-this.moveStart.y;this.moving=!0;var jt=this.props.onSwipeMove({x:Bt,y:Ft},Dt);jt&&Dt.cancelable&&Dt.preventDefault(),this.movePosition={deltaX:Bt,deltaY:Ft}}}},{key:"_handleSwipeEnd",value:function(Dt){this.props.onSwipeEnd(Dt);var Ut=this.props.tolerance;this.moving&&this.movePosition&&(this.movePosition.deltaX<-Ut?this.props.onSwipeLeft(1,Dt):this.movePosition.deltaX>Ut&&this.props.onSwipeRight(1,Dt),this.movePosition.deltaY<-Ut?this.props.onSwipeUp(1,Dt):this.movePosition.deltaY>Ut&&this.props.onSwipeDown(1,Dt)),this.moveStart=null,this.moving=!1,this.movePosition=null}},{key:"_setSwiperRef",value:function(Dt){this.swiper=Dt,this.props.innerRef(Dt)}},{key:"render",value:function(){var Dt=this.props;Dt.tagName;var Ut=Dt.className,Ot=Dt.style,It=Dt.children;Dt.allowMouseEvents,Dt.onSwipeUp,Dt.onSwipeDown,Dt.onSwipeLeft,Dt.onSwipeRight,Dt.onSwipeStart,Dt.onSwipeMove,Dt.onSwipeEnd,Dt.innerRef,Dt.tolerance;var Bt=it(Dt,["tagName","className","style","children","allowMouseEvents","onSwipeUp","onSwipeDown","onSwipeLeft","onSwipeRight","onSwipeStart","onSwipeMove","onSwipeEnd","innerRef","tolerance"]);return et.default.createElement(this.props.tagName,nt({ref:this._setSwiperRef,onMouseDown:this._onMouseDown,onTouchStart:this._handleSwipeStart,onTouchEnd:this._handleSwipeEnd,className:Ut,style:Ot},Bt),It)}}]),Mt}($.Component);Pt.displayName="ReactSwipe",Pt.propTypes={tagName:tt.default.string,className:tt.default.string,style:tt.default.object,children:tt.default.node,allowMouseEvents:tt.default.bool,onSwipeUp:tt.default.func,onSwipeDown:tt.default.func,onSwipeLeft:tt.default.func,onSwipeRight:tt.default.func,onSwipeStart:tt.default.func,onSwipeMove:tt.default.func,onSwipeEnd:tt.default.func,innerRef:tt.default.func,tolerance:tt.default.number.isRequired},Pt.defaultProps={tagName:"div",allowMouseEvents:!1,onSwipeUp:function(){},onSwipeDown:function(){},onSwipeLeft:function(){},onSwipeRight:function(){},onSwipeStart:function(){},onSwipeMove:function(){},onSwipeEnd:function(){},innerRef:function(){},tolerance:0},_.default=Pt})}(reactSwipe)),reactSwipe}(function(a){(function(_,$){$(a,requireReactSwipe())})(commonjsGlobal,function(_,$){Object.defineProperty(_,"__esModule",{value:!0});var j=et($);function et(tt){return tt&&tt.__esModule?tt:{default:tt}}_.default=j.default})})(lib);var cssClasses={},classnames={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(a){(function(){var _={}.hasOwnProperty;function $(){for(var j=[],et=0;et<arguments.length;et++){var tt=arguments[et];if(tt){var rt=typeof tt;if(rt==="string"||rt==="number")j.push(tt);else if(Array.isArray(tt)){if(tt.length){var nt=$.apply(null,tt);nt&&j.push(nt)}}else if(rt==="object"){if(tt.toString!==Object.prototype.toString&&!tt.toString.toString().includes("[native code]")){j.push(tt.toString());continue}for(var it in tt)_.call(tt,it)&&tt[it]&&j.push(it)}}}return j.join(" ")}a.exports?($.default=$,a.exports=$):window.classNames=$})()})(classnames);var classnamesExports=classnames.exports;Object.defineProperty(cssClasses,"__esModule",{value:!0});cssClasses.default=void 0;var _classnames=_interopRequireDefault$4(classnamesExports);function _interopRequireDefault$4(a){return a&&a.__esModule?a:{default:a}}function _defineProperty$3(a,_,$){return _ in a?Object.defineProperty(a,_,{value:$,enumerable:!0,configurable:!0,writable:!0}):a[_]=$,a}var _default$3={ROOT:function a(_){return(0,_classnames.default)(_defineProperty$3({"carousel-root":!0},_||"",!!_))},CAROUSEL:function a(_){return(0,_classnames.default)({carousel:!0,"carousel-slider":_})},WRAPPER:function a(_,$){return(0,_classnames.default)({"thumbs-wrapper":!_,"slider-wrapper":_,"axis-horizontal":$==="horizontal","axis-vertical":$!=="horizontal"})},SLIDER:function a(_,$){return(0,_classnames.default)({thumbs:!_,slider:_,animated:!$})},ITEM:function a(_,$,j){return(0,_classnames.default)({thumb:!_,slide:_,selected:$,previous:j})},ARROW_PREV:function a(_){return(0,_classnames.default)({"control-arrow control-prev":!0,"control-disabled":_})},ARROW_NEXT:function a(_){return(0,_classnames.default)({"control-arrow control-next":!0,"control-disabled":_})},DOT:function a(_){return(0,_classnames.default)({dot:!0,selected:_})}};cssClasses.default=_default$3;var Thumbs$1={},dimensions={};Object.defineProperty(dimensions,"__esModule",{value:!0});dimensions.outerWidth=void 0;var outerWidth=function a(_){var $=_.offsetWidth,j=getComputedStyle(_);return $+=parseInt(j.marginLeft)+parseInt(j.marginRight),$};dimensions.outerWidth=outerWidth;var CSSTranslate={};Object.defineProperty(CSSTranslate,"__esModule",{value:!0});CSSTranslate.default=void 0;var _default$2=function a(_,$,j){var et=_===0?_:_+$,tt=j==="horizontal"?[et,0,0]:[0,et,0],rt="translate3d",nt="("+tt.join(",")+")";return rt+nt};CSSTranslate.default=_default$2;var window$1={};Object.defineProperty(window$1,"__esModule",{value:!0});window$1.default=void 0;var _default$1=function a(){return window};window$1.default=_default$1;Object.defineProperty(Thumbs$1,"__esModule",{value:!0});Thumbs$1.default=void 0;var _react$3=_interopRequireWildcard$1(reactExports),_cssClasses$1=_interopRequireDefault$3(cssClasses),_dimensions=dimensions,_CSSTranslate$2=_interopRequireDefault$3(CSSTranslate),_reactEasySwipe$1=_interopRequireDefault$3(lib),_window$1=_interopRequireDefault$3(window$1);function _interopRequireDefault$3(a){return a&&a.__esModule?a:{default:a}}function _getRequireWildcardCache$1(){if(typeof WeakMap!="function")return null;var a=new WeakMap;return _getRequireWildcardCache$1=function(){return a},a}function _interopRequireWildcard$1(a){if(a&&a.__esModule)return a;if(a===null||_typeof$1(a)!=="object"&&typeof a!="function")return{default:a};var _=_getRequireWildcardCache$1();if(_&&_.has(a))return _.get(a);var $={},j=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var et in a)if(Object.prototype.hasOwnProperty.call(a,et)){var tt=j?Object.getOwnPropertyDescriptor(a,et):null;tt&&(tt.get||tt.set)?Object.defineProperty($,et,tt):$[et]=a[et]}return $.default=a,_&&_.set(a,$),$}function _typeof$1(a){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$1=function($){return typeof $}:_typeof$1=function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $},_typeof$1(a)}function _extends$1(){return _extends$1=Object.assign||function(a){for(var _=1;_<arguments.length;_++){var $=arguments[_];for(var j in $)Object.prototype.hasOwnProperty.call($,j)&&(a[j]=$[j])}return a},_extends$1.apply(this,arguments)}function _classCallCheck$1(a,_){if(!(a instanceof _))throw new TypeError("Cannot call a class as a function")}function _defineProperties$1(a,_){for(var $=0;$<_.length;$++){var j=_[$];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(a,j.key,j)}}function _createClass$1(a,_,$){return _&&_defineProperties$1(a.prototype,_),a}function _inherits$1(a,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(_&&_.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),_&&_setPrototypeOf$1(a,_)}function _setPrototypeOf$1(a,_){return _setPrototypeOf$1=Object.setPrototypeOf||function(j,et){return j.__proto__=et,j},_setPrototypeOf$1(a,_)}function _createSuper$1(a){var _=_isNativeReflectConstruct$1();return function(){var j=_getPrototypeOf$1(a),et;if(_){var tt=_getPrototypeOf$1(this).constructor;et=Reflect.construct(j,arguments,tt)}else et=j.apply(this,arguments);return _possibleConstructorReturn$1(this,et)}}function _possibleConstructorReturn$1(a,_){return _&&(_typeof$1(_)==="object"||typeof _=="function")?_:_assertThisInitialized$1(a)}function _assertThisInitialized$1(a){if(a===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function _isNativeReflectConstruct$1(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function _getPrototypeOf$1(a){return _getPrototypeOf$1=Object.setPrototypeOf?Object.getPrototypeOf:function($){return $.__proto__||Object.getPrototypeOf($)},_getPrototypeOf$1(a)}function _defineProperty$2(a,_,$){return _ in a?Object.defineProperty(a,_,{value:$,enumerable:!0,configurable:!0,writable:!0}):a[_]=$,a}var isKeyboardEvent$1=function a(_){return _.hasOwnProperty("key")},Thumbs=function(a){_inherits$1($,a);var _=_createSuper$1($);function $(j){var et;return _classCallCheck$1(this,$),et=_.call(this,j),_defineProperty$2(_assertThisInitialized$1(et),"itemsWrapperRef",void 0),_defineProperty$2(_assertThisInitialized$1(et),"itemsListRef",void 0),_defineProperty$2(_assertThisInitialized$1(et),"thumbsRef",void 0),_defineProperty$2(_assertThisInitialized$1(et),"setItemsWrapperRef",function(tt){et.itemsWrapperRef=tt}),_defineProperty$2(_assertThisInitialized$1(et),"setItemsListRef",function(tt){et.itemsListRef=tt}),_defineProperty$2(_assertThisInitialized$1(et),"setThumbsRef",function(tt,rt){et.thumbsRef||(et.thumbsRef=[]),et.thumbsRef[rt]=tt}),_defineProperty$2(_assertThisInitialized$1(et),"updateSizes",function(){if(!(!et.props.children||!et.itemsWrapperRef||!et.thumbsRef)){var tt=_react$3.Children.count(et.props.children),rt=et.itemsWrapperRef.clientWidth,nt=et.props.thumbWidth?et.props.thumbWidth:(0,_dimensions.outerWidth)(et.thumbsRef[0]),it=Math.floor(rt/nt),st=it<tt,ot=st?tt-it:0;et.setState(function(at,ut){return{itemSize:nt,visibleItems:it,firstItem:st?et.getFirstItem(ut.selectedItem):0,lastPosition:ot,showArrows:st}})}}),_defineProperty$2(_assertThisInitialized$1(et),"handleClickItem",function(tt,rt,nt){if(!isKeyboardEvent$1(nt)||nt.key==="Enter"){var it=et.props.onSelectItem;typeof it=="function"&&it(tt,rt)}}),_defineProperty$2(_assertThisInitialized$1(et),"onSwipeStart",function(){et.setState({swiping:!0})}),_defineProperty$2(_assertThisInitialized$1(et),"onSwipeEnd",function(){et.setState({swiping:!1})}),_defineProperty$2(_assertThisInitialized$1(et),"onSwipeMove",function(tt){var rt=tt.x;if(!et.state.itemSize||!et.itemsWrapperRef||!et.state.visibleItems)return!1;var nt=0,it=_react$3.Children.count(et.props.children),st=-(et.state.firstItem*100)/et.state.visibleItems,ot=Math.max(it-et.state.visibleItems,0),at=-ot*100/et.state.visibleItems;st===nt&&rt>0&&(rt=0),st===at&&rt<0&&(rt=0);var ut=et.itemsWrapperRef.clientWidth,ht=st+100/(ut/rt);return et.itemsListRef&&["WebkitTransform","MozTransform","MsTransform","OTransform","transform","msTransform"].forEach(function(yt){et.itemsListRef.style[yt]=(0,_CSSTranslate$2.default)(ht,"%",et.props.axis)}),!0}),_defineProperty$2(_assertThisInitialized$1(et),"slideRight",function(tt){et.moveTo(et.state.firstItem-(typeof tt=="number"?tt:1))}),_defineProperty$2(_assertThisInitialized$1(et),"slideLeft",function(tt){et.moveTo(et.state.firstItem+(typeof tt=="number"?tt:1))}),_defineProperty$2(_assertThisInitialized$1(et),"moveTo",function(tt){tt=tt<0?0:tt,tt=tt>=et.state.lastPosition?et.state.lastPosition:tt,et.setState({firstItem:tt})}),et.state={selectedItem:j.selectedItem,swiping:!1,showArrows:!1,firstItem:0,visibleItems:0,lastPosition:0},et}return _createClass$1($,[{key:"componentDidMount",value:function(){this.setupThumbs()}},{key:"componentDidUpdate",value:function(et){this.props.selectedItem!==this.state.selectedItem&&this.setState({selectedItem:this.props.selectedItem,firstItem:this.getFirstItem(this.props.selectedItem)}),this.props.children!==et.children&&this.updateSizes()}},{key:"componentWillUnmount",value:function(){this.destroyThumbs()}},{key:"setupThumbs",value:function(){(0,_window$1.default)().addEventListener("resize",this.updateSizes),(0,_window$1.default)().addEventListener("DOMContentLoaded",this.updateSizes),this.updateSizes()}},{key:"destroyThumbs",value:function(){(0,_window$1.default)().removeEventListener("resize",this.updateSizes),(0,_window$1.default)().removeEventListener("DOMContentLoaded",this.updateSizes)}},{key:"getFirstItem",value:function(et){var tt=et;return et>=this.state.lastPosition&&(tt=this.state.lastPosition),et<this.state.firstItem+this.state.visibleItems&&(tt=this.state.firstItem),et<this.state.firstItem&&(tt=et),tt}},{key:"renderItems",value:function(){var et=this;return this.props.children.map(function(tt,rt){var nt=_cssClasses$1.default.ITEM(!1,rt===et.state.selectedItem),it={key:rt,ref:function(ot){return et.setThumbsRef(ot,rt)},className:nt,onClick:et.handleClickItem.bind(et,rt,et.props.children[rt]),onKeyDown:et.handleClickItem.bind(et,rt,et.props.children[rt]),"aria-label":"".concat(et.props.labels.item," ").concat(rt+1),style:{width:et.props.thumbWidth}};return _react$3.default.createElement("li",_extends$1({},it,{role:"button",tabIndex:0}),tt)})}},{key:"render",value:function(){var et=this;if(!this.props.children)return null;var tt=_react$3.Children.count(this.props.children)>1,rt=this.state.showArrows&&this.state.firstItem>0,nt=this.state.showArrows&&this.state.firstItem<this.state.lastPosition,it={},st=-this.state.firstItem*(this.state.itemSize||0),ot=(0,_CSSTranslate$2.default)(st,"px",this.props.axis),at=this.props.transitionTime+"ms";return it={WebkitTransform:ot,MozTransform:ot,MsTransform:ot,OTransform:ot,transform:ot,msTransform:ot,WebkitTransitionDuration:at,MozTransitionDuration:at,MsTransitionDuration:at,OTransitionDuration:at,transitionDuration:at,msTransitionDuration:at},_react$3.default.createElement("div",{className:_cssClasses$1.default.CAROUSEL(!1)},_react$3.default.createElement("div",{className:_cssClasses$1.default.WRAPPER(!1),ref:this.setItemsWrapperRef},_react$3.default.createElement("button",{type:"button",className:_cssClasses$1.default.ARROW_PREV(!rt),onClick:function(){return et.slideRight()},"aria-label":this.props.labels.leftArrow}),tt?_react$3.default.createElement(_reactEasySwipe$1.default,{tagName:"ul",className:_cssClasses$1.default.SLIDER(!1,this.state.swiping),onSwipeLeft:this.slideLeft,onSwipeRight:this.slideRight,onSwipeMove:this.onSwipeMove,onSwipeStart:this.onSwipeStart,onSwipeEnd:this.onSwipeEnd,style:it,innerRef:this.setItemsListRef,allowMouseEvents:this.props.emulateTouch},this.renderItems()):_react$3.default.createElement("ul",{className:_cssClasses$1.default.SLIDER(!1,this.state.swiping),ref:function(ht){return et.setItemsListRef(ht)},style:it},this.renderItems()),_react$3.default.createElement("button",{type:"button",className:_cssClasses$1.default.ARROW_NEXT(!nt),onClick:function(){return et.slideLeft()},"aria-label":this.props.labels.rightArrow})))}}]),$}(_react$3.Component);Thumbs$1.default=Thumbs;_defineProperty$2(Thumbs,"displayName","Thumbs");_defineProperty$2(Thumbs,"defaultProps",{axis:"horizontal",labels:{leftArrow:"previous slide / item",rightArrow:"next slide / item",item:"slide item"},selectedItem:0,thumbWidth:80,transitionTime:350});var document$1={};Object.defineProperty(document$1,"__esModule",{value:!0});document$1.default=void 0;var _default=function a(){return document};document$1.default=_default;var utils={};Object.defineProperty(utils,"__esModule",{value:!0});utils.setPosition=utils.getPosition=utils.isKeyboardEvent=utils.defaultStatusFormatter=utils.noop=void 0;var _react$2=reactExports,_CSSTranslate$1=_interopRequireDefault$2(CSSTranslate);function _interopRequireDefault$2(a){return a&&a.__esModule?a:{default:a}}var noop=function a(){};utils.noop=noop;var defaultStatusFormatter=function a(_,$){return"".concat(_," of ").concat($)};utils.defaultStatusFormatter=defaultStatusFormatter;var isKeyboardEvent=function a(_){return _?_.hasOwnProperty("key"):!1};utils.isKeyboardEvent=isKeyboardEvent;var getPosition=function a(_,$){if($.infiniteLoop&&++_,_===0)return 0;var j=_react$2.Children.count($.children);if($.centerMode&&$.axis==="horizontal"){var et=-_*$.centerSlidePercentage,tt=j-1;return _&&(_!==tt||$.infiniteLoop)?et+=(100-$.centerSlidePercentage)/2:_===tt&&(et+=100-$.centerSlidePercentage),et}return-_*100};utils.getPosition=getPosition;var setPosition=function a(_,$){var j={};return["WebkitTransform","MozTransform","MsTransform","OTransform","transform","msTransform"].forEach(function(et){j[et]=(0,_CSSTranslate$1.default)(_,"%",$)}),j};utils.setPosition=setPosition;var animations={};Object.defineProperty(animations,"__esModule",{value:!0});animations.fadeAnimationHandler=animations.slideStopSwipingHandler=animations.slideSwipeAnimationHandler=animations.slideAnimationHandler=void 0;var _react$1=reactExports,_CSSTranslate=_interopRequireDefault$1(CSSTranslate),_utils$1=utils;function _interopRequireDefault$1(a){return a&&a.__esModule?a:{default:a}}function ownKeys$1(a,_){var $=Object.keys(a);if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(a);_&&(j=j.filter(function(et){return Object.getOwnPropertyDescriptor(a,et).enumerable})),$.push.apply($,j)}return $}function _objectSpread$1(a){for(var _=1;_<arguments.length;_++){var $=arguments[_]!=null?arguments[_]:{};_%2?ownKeys$1(Object($),!0).forEach(function(j){_defineProperty$1(a,j,$[j])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors($)):ownKeys$1(Object($)).forEach(function(j){Object.defineProperty(a,j,Object.getOwnPropertyDescriptor($,j))})}return a}function _defineProperty$1(a,_,$){return _ in a?Object.defineProperty(a,_,{value:$,enumerable:!0,configurable:!0,writable:!0}):a[_]=$,a}var slideAnimationHandler=function a(_,$){var j={},et=$.selectedItem,tt=et,rt=_react$1.Children.count(_.children)-1,nt=_.infiniteLoop&&(et<0||et>rt);if(nt)return tt<0?_.centerMode&&_.centerSlidePercentage&&_.axis==="horizontal"?j.itemListStyle=(0,_utils$1.setPosition)(-(rt+2)*_.centerSlidePercentage-(100-_.centerSlidePercentage)/2,_.axis):j.itemListStyle=(0,_utils$1.setPosition)(-(rt+2)*100,_.axis):tt>rt&&(j.itemListStyle=(0,_utils$1.setPosition)(0,_.axis)),j;var it=(0,_utils$1.getPosition)(et,_),st=(0,_CSSTranslate.default)(it,"%",_.axis),ot=_.transitionTime+"ms";return j.itemListStyle={WebkitTransform:st,msTransform:st,OTransform:st,transform:st},$.swiping||(j.itemListStyle=_objectSpread$1(_objectSpread$1({},j.itemListStyle),{},{WebkitTransitionDuration:ot,MozTransitionDuration:ot,OTransitionDuration:ot,transitionDuration:ot,msTransitionDuration:ot})),j};animations.slideAnimationHandler=slideAnimationHandler;var slideSwipeAnimationHandler=function a(_,$,j,et){var tt={},rt=$.axis==="horizontal",nt=_react$1.Children.count($.children),it=0,st=(0,_utils$1.getPosition)(j.selectedItem,$),ot=$.infiniteLoop?(0,_utils$1.getPosition)(nt-1,$)-100:(0,_utils$1.getPosition)(nt-1,$),at=rt?_.x:_.y,ut=at;st===it&&at>0&&(ut=0),st===ot&&at<0&&(ut=0);var ht=st+100/(j.itemSize/ut),yt=Math.abs(at)>$.swipeScrollTolerance;return $.infiniteLoop&&yt&&(j.selectedItem===0&&ht>-100?ht-=nt*100:j.selectedItem===nt-1&&ht<-nt*100&&(ht+=nt*100)),(!$.preventMovementUntilSwipeScrollTolerance||yt||j.swipeMovementStarted)&&(j.swipeMovementStarted||et({swipeMovementStarted:!0}),tt.itemListStyle=(0,_utils$1.setPosition)(ht,$.axis)),yt&&!j.cancelClick&&et({cancelClick:!0}),tt};animations.slideSwipeAnimationHandler=slideSwipeAnimationHandler;var slideStopSwipingHandler=function a(_,$){var j=(0,_utils$1.getPosition)($.selectedItem,_),et=(0,_utils$1.setPosition)(j,_.axis);return{itemListStyle:et}};animations.slideStopSwipingHandler=slideStopSwipingHandler;var fadeAnimationHandler=function a(_,$){var j=_.transitionTime+"ms",et="ease-in-out",tt={position:"absolute",display:"block",zIndex:-2,minHeight:"100%",opacity:0,top:0,right:0,left:0,bottom:0,transitionTimingFunction:et,msTransitionTimingFunction:et,MozTransitionTimingFunction:et,WebkitTransitionTimingFunction:et,OTransitionTimingFunction:et};return $.swiping||(tt=_objectSpread$1(_objectSpread$1({},tt),{},{WebkitTransitionDuration:j,MozTransitionDuration:j,OTransitionDuration:j,transitionDuration:j,msTransitionDuration:j})),{slideStyle:tt,selectedStyle:_objectSpread$1(_objectSpread$1({},tt),{},{opacity:1,position:"relative"}),prevStyle:_objectSpread$1({},tt)}};animations.fadeAnimationHandler=fadeAnimationHandler;Object.defineProperty(Carousel$1,"__esModule",{value:!0});Carousel$1.default=void 0;var _react=_interopRequireWildcard(reactExports),_reactEasySwipe=_interopRequireDefault(lib),_cssClasses=_interopRequireDefault(cssClasses),_Thumbs=_interopRequireDefault(Thumbs$1),_document=_interopRequireDefault(document$1),_window=_interopRequireDefault(window$1),_utils=utils,_animations=animations;function _interopRequireDefault(a){return a&&a.__esModule?a:{default:a}}function _getRequireWildcardCache(){if(typeof WeakMap!="function")return null;var a=new WeakMap;return _getRequireWildcardCache=function(){return a},a}function _interopRequireWildcard(a){if(a&&a.__esModule)return a;if(a===null||_typeof(a)!=="object"&&typeof a!="function")return{default:a};var _=_getRequireWildcardCache();if(_&&_.has(a))return _.get(a);var $={},j=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var et in a)if(Object.prototype.hasOwnProperty.call(a,et)){var tt=j?Object.getOwnPropertyDescriptor(a,et):null;tt&&(tt.get||tt.set)?Object.defineProperty($,et,tt):$[et]=a[et]}return $.default=a,_&&_.set(a,$),$}function _typeof(a){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof=function($){return typeof $}:_typeof=function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $},_typeof(a)}function _extends(){return _extends=Object.assign||function(a){for(var _=1;_<arguments.length;_++){var $=arguments[_];for(var j in $)Object.prototype.hasOwnProperty.call($,j)&&(a[j]=$[j])}return a},_extends.apply(this,arguments)}function ownKeys(a,_){var $=Object.keys(a);if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(a);_&&(j=j.filter(function(et){return Object.getOwnPropertyDescriptor(a,et).enumerable})),$.push.apply($,j)}return $}function _objectSpread(a){for(var _=1;_<arguments.length;_++){var $=arguments[_]!=null?arguments[_]:{};_%2?ownKeys(Object($),!0).forEach(function(j){_defineProperty(a,j,$[j])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors($)):ownKeys(Object($)).forEach(function(j){Object.defineProperty(a,j,Object.getOwnPropertyDescriptor($,j))})}return a}function _classCallCheck(a,_){if(!(a instanceof _))throw new TypeError("Cannot call a class as a function")}function _defineProperties(a,_){for(var $=0;$<_.length;$++){var j=_[$];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(a,j.key,j)}}function _createClass(a,_,$){return _&&_defineProperties(a.prototype,_),a}function _inherits(a,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(_&&_.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),_&&_setPrototypeOf(a,_)}function _setPrototypeOf(a,_){return _setPrototypeOf=Object.setPrototypeOf||function(j,et){return j.__proto__=et,j},_setPrototypeOf(a,_)}function _createSuper(a){var _=_isNativeReflectConstruct();return function(){var j=_getPrototypeOf(a),et;if(_){var tt=_getPrototypeOf(this).constructor;et=Reflect.construct(j,arguments,tt)}else et=j.apply(this,arguments);return _possibleConstructorReturn(this,et)}}function _possibleConstructorReturn(a,_){return _&&(_typeof(_)==="object"||typeof _=="function")?_:_assertThisInitialized(a)}function _assertThisInitialized(a){if(a===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function _isNativeReflectConstruct(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function _getPrototypeOf(a){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function($){return $.__proto__||Object.getPrototypeOf($)},_getPrototypeOf(a)}function _defineProperty(a,_,$){return _ in a?Object.defineProperty(a,_,{value:$,enumerable:!0,configurable:!0,writable:!0}):a[_]=$,a}var Carousel=function(a){_inherits($,a);var _=_createSuper($);function $(j){var et;_classCallCheck(this,$),et=_.call(this,j),_defineProperty(_assertThisInitialized(et),"thumbsRef",void 0),_defineProperty(_assertThisInitialized(et),"carouselWrapperRef",void 0),_defineProperty(_assertThisInitialized(et),"listRef",void 0),_defineProperty(_assertThisInitialized(et),"itemsRef",void 0),_defineProperty(_assertThisInitialized(et),"timer",void 0),_defineProperty(_assertThisInitialized(et),"animationHandler",void 0),_defineProperty(_assertThisInitialized(et),"setThumbsRef",function(rt){et.thumbsRef=rt}),_defineProperty(_assertThisInitialized(et),"setCarouselWrapperRef",function(rt){et.carouselWrapperRef=rt}),_defineProperty(_assertThisInitialized(et),"setListRef",function(rt){et.listRef=rt}),_defineProperty(_assertThisInitialized(et),"setItemsRef",function(rt,nt){et.itemsRef||(et.itemsRef=[]),et.itemsRef[nt]=rt}),_defineProperty(_assertThisInitialized(et),"autoPlay",function(){_react.Children.count(et.props.children)<=1||(et.clearAutoPlay(),et.props.autoPlay&&(et.timer=setTimeout(function(){et.increment()},et.props.interval)))}),_defineProperty(_assertThisInitialized(et),"clearAutoPlay",function(){et.timer&&clearTimeout(et.timer)}),_defineProperty(_assertThisInitialized(et),"resetAutoPlay",function(){et.clearAutoPlay(),et.autoPlay()}),_defineProperty(_assertThisInitialized(et),"stopOnHover",function(){et.setState({isMouseEntered:!0},et.clearAutoPlay)}),_defineProperty(_assertThisInitialized(et),"startOnLeave",function(){et.setState({isMouseEntered:!1},et.autoPlay)}),_defineProperty(_assertThisInitialized(et),"isFocusWithinTheCarousel",function(){return et.carouselWrapperRef?!!((0,_document.default)().activeElement===et.carouselWrapperRef||et.carouselWrapperRef.contains((0,_document.default)().activeElement)):!1}),_defineProperty(_assertThisInitialized(et),"navigateWithKeyboard",function(rt){if(et.isFocusWithinTheCarousel()){var nt=et.props.axis,it=nt==="horizontal",st={ArrowUp:38,ArrowRight:39,ArrowDown:40,ArrowLeft:37},ot=it?st.ArrowRight:st.ArrowDown,at=it?st.ArrowLeft:st.ArrowUp;ot===rt.keyCode?et.increment():at===rt.keyCode&&et.decrement()}}),_defineProperty(_assertThisInitialized(et),"updateSizes",function(){if(!(!et.state.initialized||!et.itemsRef||et.itemsRef.length===0)){var rt=et.props.axis==="horizontal",nt=et.itemsRef[0];if(nt){var it=rt?nt.clientWidth:nt.clientHeight;et.setState({itemSize:it}),et.thumbsRef&&et.thumbsRef.updateSizes()}}}),_defineProperty(_assertThisInitialized(et),"setMountState",function(){et.setState({hasMount:!0}),et.updateSizes()}),_defineProperty(_assertThisInitialized(et),"handleClickItem",function(rt,nt){if(_react.Children.count(et.props.children)!==0){if(et.state.cancelClick){et.setState({cancelClick:!1});return}et.props.onClickItem(rt,nt),rt!==et.state.selectedItem&&et.setState({selectedItem:rt})}}),_defineProperty(_assertThisInitialized(et),"handleOnChange",function(rt,nt){_react.Children.count(et.props.children)<=1||et.props.onChange(rt,nt)}),_defineProperty(_assertThisInitialized(et),"handleClickThumb",function(rt,nt){et.props.onClickThumb(rt,nt),et.moveTo(rt)}),_defineProperty(_assertThisInitialized(et),"onSwipeStart",function(rt){et.setState({swiping:!0}),et.props.onSwipeStart(rt)}),_defineProperty(_assertThisInitialized(et),"onSwipeEnd",function(rt){et.setState({swiping:!1,cancelClick:!1,swipeMovementStarted:!1}),et.props.onSwipeEnd(rt),et.clearAutoPlay(),et.state.autoPlay&&et.autoPlay()}),_defineProperty(_assertThisInitialized(et),"onSwipeMove",function(rt,nt){et.props.onSwipeMove(nt);var it=et.props.swipeAnimationHandler(rt,et.props,et.state,et.setState.bind(_assertThisInitialized(et)));return et.setState(_objectSpread({},it)),!!Object.keys(it).length}),_defineProperty(_assertThisInitialized(et),"decrement",function(){var rt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;et.moveTo(et.state.selectedItem-(typeof rt=="number"?rt:1))}),_defineProperty(_assertThisInitialized(et),"increment",function(){var rt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;et.moveTo(et.state.selectedItem+(typeof rt=="number"?rt:1))}),_defineProperty(_assertThisInitialized(et),"moveTo",function(rt){if(typeof rt=="number"){var nt=_react.Children.count(et.props.children)-1;rt<0&&(rt=et.props.infiniteLoop?nt:0),rt>nt&&(rt=et.props.infiniteLoop?0:nt),et.selectItem({selectedItem:rt}),et.state.autoPlay&&et.state.isMouseEntered===!1&&et.resetAutoPlay()}}),_defineProperty(_assertThisInitialized(et),"onClickNext",function(){et.increment(1)}),_defineProperty(_assertThisInitialized(et),"onClickPrev",function(){et.decrement(1)}),_defineProperty(_assertThisInitialized(et),"onSwipeForward",function(){et.increment(1),et.props.emulateTouch&&et.setState({cancelClick:!0})}),_defineProperty(_assertThisInitialized(et),"onSwipeBackwards",function(){et.decrement(1),et.props.emulateTouch&&et.setState({cancelClick:!0})}),_defineProperty(_assertThisInitialized(et),"changeItem",function(rt){return function(nt){(!(0,_utils.isKeyboardEvent)(nt)||nt.key==="Enter")&&et.moveTo(rt)}}),_defineProperty(_assertThisInitialized(et),"selectItem",function(rt){et.setState(_objectSpread({previousItem:et.state.selectedItem},rt),function(){et.setState(et.animationHandler(et.props,et.state))}),et.handleOnChange(rt.selectedItem,_react.Children.toArray(et.props.children)[rt.selectedItem])}),_defineProperty(_assertThisInitialized(et),"getInitialImage",function(){var rt=et.props.selectedItem,nt=et.itemsRef&&et.itemsRef[rt],it=nt&&nt.getElementsByTagName("img")||[];return it[0]}),_defineProperty(_assertThisInitialized(et),"getVariableItemHeight",function(rt){var nt=et.itemsRef&&et.itemsRef[rt];if(et.state.hasMount&&nt&&nt.children.length){var it=nt.children[0].getElementsByTagName("img")||[];if(it.length>0){var st=it[0];if(!st.complete){var ot=function ht(){et.forceUpdate(),st.removeEventListener("load",ht)};st.addEventListener("load",ot)}}var at=it[0]||nt.children[0],ut=at.clientHeight;return ut>0?ut:null}return null});var tt={initialized:!1,previousItem:j.selectedItem,selectedItem:j.selectedItem,hasMount:!1,isMouseEntered:!1,autoPlay:j.autoPlay,swiping:!1,swipeMovementStarted:!1,cancelClick:!1,itemSize:1,itemListStyle:{},slideStyle:{},selectedStyle:{},prevStyle:{}};return et.animationHandler=typeof j.animationHandler=="function"&&j.animationHandler||j.animationHandler==="fade"&&_animations.fadeAnimationHandler||_animations.slideAnimationHandler,et.state=_objectSpread(_objectSpread({},tt),et.animationHandler(j,tt)),et}return _createClass($,[{key:"componentDidMount",value:function(){this.props.children&&this.setupCarousel()}},{key:"componentDidUpdate",value:function(et,tt){!et.children&&this.props.children&&!this.state.initialized&&this.setupCarousel(),!et.autoFocus&&this.props.autoFocus&&this.forceFocus(),tt.swiping&&!this.state.swiping&&this.setState(_objectSpread({},this.props.stopSwipingHandler(this.props,this.state))),(et.selectedItem!==this.props.selectedItem||et.centerMode!==this.props.centerMode)&&(this.updateSizes(),this.moveTo(this.props.selectedItem)),et.autoPlay!==this.props.autoPlay&&(this.props.autoPlay?this.setupAutoPlay():this.destroyAutoPlay(),this.setState({autoPlay:this.props.autoPlay}))}},{key:"componentWillUnmount",value:function(){this.destroyCarousel()}},{key:"setupCarousel",value:function(){var et=this;this.bindEvents(),this.state.autoPlay&&_react.Children.count(this.props.children)>1&&this.setupAutoPlay(),this.props.autoFocus&&this.forceFocus(),this.setState({initialized:!0},function(){var tt=et.getInitialImage();tt&&!tt.complete?tt.addEventListener("load",et.setMountState):et.setMountState()})}},{key:"destroyCarousel",value:function(){this.state.initialized&&(this.unbindEvents(),this.destroyAutoPlay())}},{key:"setupAutoPlay",value:function(){this.autoPlay();var et=this.carouselWrapperRef;this.props.stopOnHover&&et&&(et.addEventListener("mouseenter",this.stopOnHover),et.addEventListener("mouseleave",this.startOnLeave))}},{key:"destroyAutoPlay",value:function(){this.clearAutoPlay();var et=this.carouselWrapperRef;this.props.stopOnHover&&et&&(et.removeEventListener("mouseenter",this.stopOnHover),et.removeEventListener("mouseleave",this.startOnLeave))}},{key:"bindEvents",value:function(){(0,_window.default)().addEventListener("resize",this.updateSizes),(0,_window.default)().addEventListener("DOMContentLoaded",this.updateSizes),this.props.useKeyboardArrows&&(0,_document.default)().addEventListener("keydown",this.navigateWithKeyboard)}},{key:"unbindEvents",value:function(){(0,_window.default)().removeEventListener("resize",this.updateSizes),(0,_window.default)().removeEventListener("DOMContentLoaded",this.updateSizes);var et=this.getInitialImage();et&&et.removeEventListener("load",this.setMountState),this.props.useKeyboardArrows&&(0,_document.default)().removeEventListener("keydown",this.navigateWithKeyboard)}},{key:"forceFocus",value:function(){var et;(et=this.carouselWrapperRef)===null||et===void 0||et.focus()}},{key:"renderItems",value:function(et){var tt=this;return this.props.children?_react.Children.map(this.props.children,function(rt,nt){var it=nt===tt.state.selectedItem,st=nt===tt.state.previousItem,ot=it&&tt.state.selectedStyle||st&&tt.state.prevStyle||tt.state.slideStyle||{};tt.props.centerMode&&tt.props.axis==="horizontal"&&(ot=_objectSpread(_objectSpread({},ot),{},{minWidth:tt.props.centerSlidePercentage+"%"})),tt.state.swiping&&tt.state.swipeMovementStarted&&(ot=_objectSpread(_objectSpread({},ot),{},{pointerEvents:"none"}));var at={ref:function(ht){return tt.setItemsRef(ht,nt)},key:"itemKey"+nt+(et?"clone":""),className:_cssClasses.default.ITEM(!0,nt===tt.state.selectedItem,nt===tt.state.previousItem),onClick:tt.handleClickItem.bind(tt,nt,rt),style:ot};return _react.default.createElement("li",at,tt.props.renderItem(rt,{isSelected:nt===tt.state.selectedItem,isPrevious:nt===tt.state.previousItem}))}):[]}},{key:"renderControls",value:function(){var et=this,tt=this.props,rt=tt.showIndicators,nt=tt.labels,it=tt.renderIndicator,st=tt.children;return rt?_react.default.createElement("ul",{className:"control-dots"},_react.Children.map(st,function(ot,at){return it&&it(et.changeItem(at),at===et.state.selectedItem,at,nt.item)})):null}},{key:"renderStatus",value:function(){return this.props.showStatus?_react.default.createElement("p",{className:"carousel-status"},this.props.statusFormatter(this.state.selectedItem+1,_react.Children.count(this.props.children))):null}},{key:"renderThumbs",value:function(){return!this.props.showThumbs||!this.props.children||_react.Children.count(this.props.children)===0?null:_react.default.createElement(_Thumbs.default,{ref:this.setThumbsRef,onSelectItem:this.handleClickThumb,selectedItem:this.state.selectedItem,transitionTime:this.props.transitionTime,thumbWidth:this.props.thumbWidth,labels:this.props.labels,emulateTouch:this.props.emulateTouch},this.props.renderThumbs(this.props.children))}},{key:"render",value:function(){var et=this;if(!this.props.children||_react.Children.count(this.props.children)===0)return null;var tt=this.props.swipeable&&_react.Children.count(this.props.children)>1,rt=this.props.axis==="horizontal",nt=this.props.showArrows&&_react.Children.count(this.props.children)>1,it=nt&&(this.state.selectedItem>0||this.props.infiniteLoop)||!1,st=nt&&(this.state.selectedItem<_react.Children.count(this.props.children)-1||this.props.infiniteLoop)||!1,ot=this.renderItems(!0),at=ot.shift(),ut=ot.pop(),ht={className:_cssClasses.default.SLIDER(!0,this.state.swiping),onSwipeMove:this.onSwipeMove,onSwipeStart:this.onSwipeStart,onSwipeEnd:this.onSwipeEnd,style:this.state.itemListStyle,tolerance:this.props.swipeScrollTolerance},yt={};if(rt){if(ht.onSwipeLeft=this.onSwipeForward,ht.onSwipeRight=this.onSwipeBackwards,this.props.dynamicHeight){var wt=this.getVariableItemHeight(this.state.selectedItem);yt.height=wt||"auto"}}else ht.onSwipeUp=this.props.verticalSwipe==="natural"?this.onSwipeBackwards:this.onSwipeForward,ht.onSwipeDown=this.props.verticalSwipe==="natural"?this.onSwipeForward:this.onSwipeBackwards,ht.style=_objectSpread(_objectSpread({},ht.style),{},{height:this.state.itemSize}),yt.height=this.state.itemSize;return _react.default.createElement("div",{"aria-label":this.props.ariaLabel,className:_cssClasses.default.ROOT(this.props.className),ref:this.setCarouselWrapperRef,tabIndex:this.props.useKeyboardArrows?0:void 0},_react.default.createElement("div",{className:_cssClasses.default.CAROUSEL(!0),style:{width:this.props.width}},this.renderControls(),this.props.renderArrowPrev(this.onClickPrev,it,this.props.labels.leftArrow),_react.default.createElement("div",{className:_cssClasses.default.WRAPPER(!0,this.props.axis),style:yt},tt?_react.default.createElement(_reactEasySwipe.default,_extends({tagName:"ul",innerRef:this.setListRef},ht,{allowMouseEvents:this.props.emulateTouch}),this.props.infiniteLoop&&ut,this.renderItems(),this.props.infiniteLoop&&at):_react.default.createElement("ul",{className:_cssClasses.default.SLIDER(!0,this.state.swiping),ref:function(Pt){return et.setListRef(Pt)},style:this.state.itemListStyle||{}},this.props.infiniteLoop&&ut,this.renderItems(),this.props.infiniteLoop&&at)),this.props.renderArrowNext(this.onClickNext,st,this.props.labels.rightArrow),this.renderStatus()),this.renderThumbs())}}]),$}(_react.default.Component);Carousel$1.default=Carousel;_defineProperty(Carousel,"displayName","Carousel");_defineProperty(Carousel,"defaultProps",{ariaLabel:void 0,axis:"horizontal",centerSlidePercentage:80,interval:3e3,labels:{leftArrow:"previous slide / item",rightArrow:"next slide / item",item:"slide item"},onClickItem:_utils.noop,onClickThumb:_utils.noop,onChange:_utils.noop,onSwipeStart:function a(){},onSwipeEnd:function a(){},onSwipeMove:function a(){return!1},preventMovementUntilSwipeScrollTolerance:!1,renderArrowPrev:function a(_,$,j){return _react.default.createElement("button",{type:"button","aria-label":j,className:_cssClasses.default.ARROW_PREV(!$),onClick:_})},renderArrowNext:function a(_,$,j){return _react.default.createElement("button",{type:"button","aria-label":j,className:_cssClasses.default.ARROW_NEXT(!$),onClick:_})},renderIndicator:function a(_,$,j,et){return _react.default.createElement("li",{className:_cssClasses.default.DOT($),onClick:_,onKeyDown:_,value:j,key:j,role:"button",tabIndex:0,"aria-label":"".concat(et," ").concat(j+1)})},renderItem:function a(_){return _},renderThumbs:function a(_){var $=_react.Children.map(_,function(j){var et=j;if(j.type!=="img"&&(et=_react.Children.toArray(j.props.children).find(function(tt){return tt.type==="img"})),!!et)return et});return $.filter(function(j){return j}).length===0?(console.warn("No images found! Can't build the thumb list without images. If you don't need thumbs, set showThumbs={false} in the Carousel. Note that it's not possible to get images rendered inside custom components. More info at https://github.com/leandrowd/react-responsive-carousel/blob/master/TROUBLESHOOTING.md"),[]):$},statusFormatter:_utils.defaultStatusFormatter,selectedItem:0,showArrows:!0,showIndicators:!0,showStatus:!0,showThumbs:!0,stopOnHover:!0,swipeScrollTolerance:5,swipeable:!0,transitionTime:350,verticalSwipe:"standard",width:"100%",animationHandler:"slide",swipeAnimationHandler:_animations.slideSwipeAnimationHandler,stopSwipingHandler:_animations.slideStopSwipingHandler});var types={};(function(a){Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"Carousel",{enumerable:!0,get:function(){return _.default}}),Object.defineProperty(a,"CarouselProps",{enumerable:!0,get:function(){return $.CarouselProps}}),Object.defineProperty(a,"Thumbs",{enumerable:!0,get:function(){return j.default}});var _=et(Carousel$1),$=types,j=et(Thumbs$1);function et(tt){return tt&&tt.__esModule?tt:{default:tt}}})(js);const Slider=({children:a})=>{const _={background:colors.gray[400],width:"10px",height:"10px",display:"inline-block",margin:"0 4px 60px 4px",borderRadius:"5px"};return jsxRuntimeExports.jsx(Box,{backgroundImage:"linear-gradient(180deg, rgba(18, 18, 18, 0.00) 36.43%, rgba(18, 18, 18, 0.50) 53.65%, #121212 76.24%)",borderRightRadius:"30px",backgroundColor:"#323131",children:jsxRuntimeExports.jsx(js.Carousel,{autoPlay:!0,dynamicHeight:!1,infiniteLoop:!0,interval:5e3,renderIndicator:($,j,et)=>j?jsxRuntimeExports.jsx("li",{style:{..._,background:"#00C39A",width:"24px"}}):jsxRuntimeExports.jsx("li",{onClick:$,onKeyDown:$,role:"button",style:_,tabIndex:0,value:et},et),showArrows:!1,showStatus:!1,showThumbs:!1,transitionTime:1e3,children:a})})},SlideItem=({item:a})=>jsxRuntimeExports.jsx(Box,{height:"730px",paddingTop:"500px",paddingBottom:"35px",backgroundImage:a.image,backgroundSize:"cover",backgroundRepeat:"no-repeat","data-testid":`slide-${a.id}`,children:jsxRuntimeExports.jsxs(Center,{flexDirection:"column",paddingBottom:"50px",children:[jsxRuntimeExports.jsx(CircleIcon,{icon:a.icon,size:"58px"}),jsxRuntimeExports.jsx(Text,{width:"400px",margin:"16px 50px 0 50px",children:a.text})]})}),SliderItems=[{id:1,text:jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Text,{as:"span",fontWeight:600,size:"md",children:"Streamline asset management: "}),jsxRuntimeExports.jsx(Text,{as:"span",size:"md",children:"one mnemonic, multiple accounts, full control."})]}),icon:jsxRuntimeExports.jsx(SlidersIcon,{}),image:AccountsImage},{id:2,text:jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Text,{as:"span",size:"md",children:"Enhance security with "}),jsxRuntimeExports.jsx(Text,{as:"span",fontWeight:600,size:"md",children:"Multi-sig"}),jsxRuntimeExports.jsx(Text,{as:"span",size:"md",children:", requiring multiple signatures for transaction executions."})]}),icon:jsxRuntimeExports.jsx(KeyIcon,{width:"32px",height:"32px",stroke:colors.gray[450],strokeWidth:"0.9"}),image:MultisigImage},{id:3,text:jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Text,{as:"span",size:"md",children:"Utilize the "}),jsxRuntimeExports.jsx(Text,{as:"span",fontWeight:600,size:"md",children:"Batch "}),jsxRuntimeExports.jsx(Text,{as:"span",size:"md",children:"feature to bundle transactions, improving efficiency and reducing costs."})]}),icon:jsxRuntimeExports.jsx(BatchIcon,{width:"32px",height:"32px",strokeWidth:"0.9"}),image:BatchImage}],WelcomeScreen=()=>{const[a,_]=reactExports.useState(!0),{onOpen:$,modalElement:j}=useOnboardingModal(()=>_(!0)),et=()=>{_(!1),$()};return jsxRuntimeExports.jsxs(Center,{height:"100vh",padding:"60px",backgroundImage:BackgroundImage,backgroundSize:"cover",children:[a&&jsxRuntimeExports.jsxs(SimpleGrid,{borderRadius:"30px",boxShadow:"0px 0px 30px rgba(0, 0, 0, 0.30)",columns:[1,1,2],children:[jsxRuntimeExports.jsx(Center,{width:"100%",maxWidth:"660px",background:colors.gray[800],borderLeftRadius:"30px",children:jsxRuntimeExports.jsxs(VStack,{maxWidth:"400px",padding:"32px",spacing:"0",children:[jsxRuntimeExports.jsx(MakiLogo,{width:"48px",height:"48px",marginBottom:"24px"}),jsxRuntimeExports.jsx(Heading,{marginBottom:"16px",size:"3xl",children:"Welcome to Umami"}),jsxRuntimeExports.jsx(Divider,{maxWidth:"400px",marginBottom:"16px"}),jsxRuntimeExports.jsx(Text,{marginBottom:"32px",color:colors.gray[450],children:"A powerful Tezos wallet"}),jsxRuntimeExports.jsx(Button,{width:"100%",marginBottom:"24px",onClick:et,size:"lg",children:"Get started"}),jsxRuntimeExports.jsx(AppVersion,{fontSize:"13px"})]})}),jsxRuntimeExports.jsx(Box,{maxWidth:"660px",children:jsxRuntimeExports.jsx(Slider,{children:SliderItems.map(tt=>jsxRuntimeExports.jsx(SlideItem,{item:tt},tt.id))})})]}),j]})},Router=()=>(useDeeplinkHandler(),useImplicitAccounts().length>0?jsxRuntimeExports.jsx(LoggedInRouterWithPolling,{}):jsxRuntimeExports.jsx(LoggedOutRouter,{})),LoggedInRouterWithPolling=()=>{useDataPolling();const a=useDynamicModal();return jsxRuntimeExports.jsx(HashRouter,{children:jsxRuntimeExports.jsx(DynamicModalContext.Provider,{value:a,children:jsxRuntimeExports.jsxs(BeaconProvider,{children:[jsxRuntimeExports.jsx(AnnouncementBanner,{}),jsxRuntimeExports.jsxs(Routes,{children:[jsxRuntimeExports.jsx(Route,{element:withSideMenu(jsxRuntimeExports.jsx(HomeView,{})),path:"/home"}),jsxRuntimeExports.jsx(Route,{element:withSideMenu(jsxRuntimeExports.jsx(HomeView,{})),path:"/home/:ownerPkh/:nftId"}),jsxRuntimeExports.jsx(Route,{element:withSideMenu(jsxRuntimeExports.jsx(NFTsView,{})),path:"/nfts"}),jsxRuntimeExports.jsx(Route,{element:withSideMenu(jsxRuntimeExports.jsx(OperationsView,{})),path:"/operations"}),jsxRuntimeExports.jsx(Route,{element:withSideMenu(jsxRuntimeExports.jsx(TokensPage,{})),path:"/tokens"}),jsxRuntimeExports.jsx(Route,{element:withSideMenu(jsxRuntimeExports.jsx(AddressBookView,{})),path:"/address-book"}),jsxRuntimeExports.jsx(Route,{element:withSideMenu(jsxRuntimeExports.jsx(SettingsView,{})),path:"/settings"}),jsxRuntimeExports.jsx(Route,{element:withSideMenu(jsxRuntimeExports.jsx(HelpView,{})),path:"/help"}),jsxRuntimeExports.jsx(Route,{element:withSideMenu(jsxRuntimeExports.jsx(BatchPage,{})),path:"/batch"}),jsxRuntimeExports.jsx(Route,{element:jsxRuntimeExports.jsx(Navigate,{to:"/home"}),path:"/*"})]}),a.content]})})})},LoggedOutRouter=()=>{const a=useResetConnections();return reactExports.useEffect(()=>{WalletClient.destroy().then(a).catch(lodashExports.noop)},[a]),jsxRuntimeExports.jsx(HashRouter,{children:jsxRuntimeExports.jsxs(Routes,{children:[jsxRuntimeExports.jsx(Route,{element:jsxRuntimeExports.jsx(Navigate,{to:"/welcome"}),path:"/*"}),jsxRuntimeExports.jsx(Route,{element:jsxRuntimeExports.jsx(WelcomeScreen,{}),path:"/welcome"})]})})},logError=(a,_)=>{const $={...getErrorContext(a),stacktrace:String(_.componentStack)};store.dispatch(errorsSlice.actions.add($))};Object.defineProperty(window,"reduxStore",{value:store});const root=client.createRoot(document.getElementById("root"));root.render(jsxRuntimeExports.jsx(React$2.StrictMode,{children:jsxRuntimeExports.jsx(UmamiTheme,{children:jsxRuntimeExports.jsx(ReduxStore,{children:jsxRuntimeExports.jsx(PersistGate,{loading:null,persistor,children:jsxRuntimeExports.jsx(ErrorBoundary,{fallback:jsxRuntimeExports.jsx(ErrorPage,{}),onError:logError,children:jsxRuntimeExports.jsx(ReactQueryProvider,{children:jsxRuntimeExports.jsx(Router,{})})})})})})}));export{__vitePreload as _,getDefaultExportFromCjs$1 as g,patterns as p,reactExports as r,utils$1 as u};
